                             #[1]   "main.s"
   27                        	
   28               0010     	CORE_VERSION	=	$10			; Version 1.0
   29                        	
   30                        			; Get the user program's configuration settings, this will
   31                        			; be read from the current directory, if it exists, or the
   32                        			; "../include/" directory if not.
   33                        	
                             #[4]   "..\..\..\include\hucc\core-config.inc"
   34                        			include	"core-config.inc"
    1                        	; ***************************************************************************
    2                        	; ***************************************************************************
    3                        	;
    4                        	; core-config.inc
    5                        	;
    6                        	; Configuration settings for the "CORE(not TM)" PC Engine library code.
    7                        	;
    8                        	; Copyright John Brandwood 2021-2024.
    9                        	;
   10                        	; Distributed under the Boost Software License, Version 1.0.
   11                        	; (See accompanying file LICENSE_1_0.txt or copy at
   12                        	;  http://www.boost.org/LICENSE_1_0.txt)
   13                        	;
   14                        	; ***************************************************************************
   15                        	; ***************************************************************************
   16                        	;
   17                        	; The idea is that you, a PCE developer, copy this file from the ../include/
   18                        	; directory and into your project's directory, and then customize the values
   19                        	; to suit your particular project.
   20                        	;
   21                        	; Because PCEAS searches the current (i.e. project) directory for an include
   22                        	; file first, then it will find your customized copy of the file rather than
   23                        	; the original copy in the ../include/ directory.
   24                        	;
   25                        	; That means that all of the different overlay programs in your project will
   26                        	; share the same overall library configuration for your game.
   27                        	;
   28                        	; ***************************************************************************
   29                        	; ***************************************************************************
   30                        	
   31                        	;
   32                        	; Are we going to take over MPR7?
   33                        	;
   34                        	; While this is the default for the "CORE(not TM)" library, it is definitely
   35                        	; possible to use the library to build CD-ROM code that runs with the System
   36                        	; Card in MPR7, and with the 1st bank remaining in MPR2.
   37                        	;
   38                        	; N.B. The CD-ROM Stage1 loader runs the library with USING_MPR7=0 while it
   39                        	;      installs the kernel into PCE RAM in MPR1.
   40                        	;
   41                        	
   42               0000     		.ifndef	USING_MPR7
   44                        		.endif
   45                        	
   46                        	;
   47                        	; Are we building a CD-ROM overlay that uses an already-built CD-ROM Stage1
   48                        	; loader to install the library's kernel code into PCE RAM in MPR1?
   49                        	;
   50                        	; If this is set, the library's kernel code will be excluded from the build,
   51                        	; which will save about 1KB-3KB of code space in every overlay program!
   52                        	;
   53                        	; N.B. The CD-ROM Stage1 loader sets USING_STAGE1=0 so it builds correctly.
   54                        	;
   55                        	
   56               0000     		.ifndef	USING_STAGE1
   58                        		.endif
   59                        	
   60                        	;
   61                        	; Are we currently building the CD-ROM Stage1 loader?
   62                        	;
   63                        	; If this is set, the library's startup code does not call the __sound_init
   64                        	; macro because the sound driver code is not usually a part of the kernel.
   65                        	;
   66                        	; N.B. The CD-ROM Stage1 loader sets BUILDING_STAGE1=1 so it builds correctly.
   67                        	;
   68                        	
   69               0000     		.ifndef	BUILDING_STAGE1
   71                        		.endif
   72                        	
   73                        	;
   74                        	; Is the last track of the CD a duplicate of the main ISO data track?
   75                        	;
   76                        	; Most CD games put two copies of the same ISO track on the CD, so that data
   77                        	; can be read from the secondary track if the drive has a problem reading it
   78                        	; it from the primary location.
   79                        	;
   80                        	; If set, the secondary track will be enabled when the library first starts.
   81                        	;
   82                        	
   83               0000     		.ifndef	SUPPORT_2ISO
   85                        		.endif
   86                        	
   87                        	;
   88                        	; Maximum number of directory entries to use from the ISO.
   89                        	;
   90                        	; The fewer that we choose, the less RAM memory we need. A setting of 64 is
   91                        	; a good compromise to use until you are putting lots of files on the ISO.
   92                        	;
   93                        	
   94               0000     		.ifndef	MAX_DIRSIZE
   96                        		.endif
   97                        	
   98                        	;
   99                        	; Use the System Card's PSG driver code instead of a modern alternative
  100                        	; sound driver like a DefleMask or Furnace player?
  101                        	;
  102                        	
  103               0000     		.ifndef	USING_PSGDRIVER
  105                        		.endif
  106                        	
  107                        	;
  108                        	; Support development for the Turbo EverDrive v2?
  109                        	;
  110                        	; This only applies to HuCard programs, but when chosen, the "CORE(not TM)"
  111                        	; kernel is moved from bank 0 to bank 2, and a minimal set of startup code
  112                        	; is put in bank 0.
  113                        	;
  114                        	; This is because the TED2 hardware occupies the whole of bank 0 when it is
  115                        	; activated, and so we need to run with a different bank in MPR7.
  116                        	;
  117                        	
  118               0000     		.ifndef	SUPPORT_TED2
  120                        		.endif
  121                        	
  122                        	;
  123                        	; Support development for the SuperGRAFX?
  124                        	;
  125                        	; This enables SuperGRAFX support in certain library functions.
  126                        	;
  127                        	
  128               0000     		.ifndef	SUPPORT_SGX
  130                        		.endif
  131                        	
  132                        	;
  133                        	; Choose SuperGRAFX VPC initialization mode.
  134                        	;
  135                        	; SGX_PARALLAX=0 (useful when VDC #1 is a fullscreen HUD)
  136                        	;
  137                        	;  FRONT
  138                        	;   SP1 = VDC #1 (pce) sprite pixels
  139                        	;   BG1 = VDC #1 (pce) background pixels
  140                        	;   SP2 = VDC #2 (sgx) sprite pixels
  141                        	;   BG2 = VDC #2 (sgx) background pixels
  142                        	;  BACK
  143                        	;
  144                        	; SGX_PARALLAX=1
  145                        	;
  146                        	;  FRONT
  147                        	;   SP1 = VDC #1 (pce) sprite pixels
  148                        	;   SP2 = VDC #2 (sgx) sprite pixels
  149                        	;   BG1 = VDC #1 (pce) background pixels
  150                        	;   BG2 = VDC #2 (sgx) background pixels
  151                        	;  BACK
  152                        	;
  153                        	
  154               0000     		.ifndef	SGX_PARALLAX
  156                        		.endif
  157                        	
  158                        	;
  159                        	; Support development for the ArcadeCard?
  160                        	;
  161                        	; This enables ArcadeCard support in certain library functions.
  162                        	;
  163                        	
  164               0000     		.ifndef	SUPPORT_ACD
  166                        		.endif
  167                        	
  168                        	;
  169                        	; Support development for the IFU's ADPCM hardware?
  170                        	;
  171                        	; Developers would normally just use the System Card functions for ADPCM, but
  172                        	; enabling this adds alternative functions, and allows ADPCM use on a HuCARD.
  173                        	;
  174                        	
  175               0000     		.ifndef	SUPPORT_ADPCM
  177                        		.endif
  178                        	
  179                        	;
  180                        	; Select which version of the joystick library code to include, only one of
  181                        	; these can be set to '1' ...
  182                        	;
  183                        	; SUPPORT_2BUTTON : Only returns buttons I and II.
  184                        	; SUPPORT_6BUTTON : Read buttons III-VI, but ignore a mouse.
  185                        	; SUPPORT_MOUSE	  : Read mouse, but ignore buttons III-VI.
  186                        	;
  187                        	; It doesn't make sense to design a game the relies on both the 6-button and
  188                        	; the mouse, so the joystick library is optimized for one or the other.
  189                        	;
  190                        	; Note that both those devices are always detected and no conflicts occur,
  191                        	; this just controls reading either buttons III-VI or the Mouse Y-movement.
  192                        	;
  193                        	
  194               0000     		.ifndef	SUPPORT_6BUTTON
  200                        		.endif
  201                        	
  202                        	;
  203                        	; How many joypad/mouse devices should be supported?
  204                        	;
  205                        	; This is normally 5, but can be set to 3 (or lower) in order to speed up
  206                        	; the processing and free up CPU time for other code, which is especially
  207                        	; useful for mouse games.
  208                        	;
  209                        	
  210               0000     		.ifndef	MAX_PADS
  212                        		.endif
  213                        	
  214                        	;
  215                        	; Implement a HuC-compatible seperate array for accumulating joypad presses?
  216                        	;
  217                        	; This is only really needed if your game is not expected to run at 60Hz and
  218                        	; so you will sometimes miss joypad presses.
  219                        	;
  220                        	; Alternatively you can set ACCUMULATE_JOY so that joypad presses are always
  221                        	; accumulated in the normal joytrg array, which is how asm programmers would
  222                        	; normally deal with this situation.
  223                        	;
  224                        	
  225               0000     		.ifndef HUC_JOY_EVENTS
  227                        		.endif
  228                        	
  229                        	;
  230                        	; Should "joytrg" accumulate presses, and so need to be explicitely cleared
  231                        	; after reading, or should it just be the result of the last read?
  232                        	;
  233                        	; This option has no effect if HUC_JOY_EVENTS is non-zero since that option
  234                        	; takes precedence over this one!
  235                        	;
  236                        	
  237               0000     		.ifndef ACCUMULATE_JOY
  239                        		.endif
  240                        	
  241                        	;
  242                        	; The DATA_BANK location needs to be set as early as possible so that library
  243                        	; code is able to put data in there before the total overall size of the code
  244                        	; is known.
  245                        	;
  246                        	; By default, DATA_BANK is the next bank after the CORE_BANK.
  247                        	;
  248                        	; RESERVE_BANKS allows developers to reserve some banks between the CORE_BANK
  249                        	; and the DATA_BANK that they can use however they wish.
  250                        	;
  251                        	; One use for RESERVE_BANKS is to create empty space that PCEAS can use when
  252                        	; it relocates procedures. This provides a way for a developer to group code
  253                        	; together at the start of memory, and leave the maximum number of banks for
  254                        	; loading dynamic data from CD-ROM.
  255                        	;
  256                        	; The KickC environment sets RESERVE_BANKS=1 (or higher) so that there is a
  257                        	; a bank for the permanent C code and static constants.
  258                        	;
  259                        	
  260               0000     		.ifndef	RESERVE_BANKS
  266                        		.endif	RESERVE_BANKS
                             #[3]   "..\..\..\include\hucc\core.inc"
   35                        	
   36                        	;
   37                        	; This is a simple macro to call System Card functions when using MPR7 for
   38                        	; running the "CORE(not TM)" PC Engine library code.
   39                        	;
   40                        	
   41                        	system		.macro
   42                        			ldy     #<\1
   43                        			jsr	call_bios
   44                        			.endm
   45                        	
   46                        	;
   47                        	; This replaces the System Card's ex_setvec, because "call_bios" uses the
   48                        	; Y register.
   49                        	;
   50                        	
   51                        	setvec		.macro
   52                        			php
   53                        			sei
   54                        			lda.l	#\2
   55                        			sta.l	\1
   56                        			lda.h	#\2
   57                        			sta.h	\1
   58                        			plp
   59                        			.endm
   60                        	
   61                        	;
   62                        	; Repurpose this System Card variable, since nmi_hook is never used.
   63                        	;
   64                        	; We'll use it as a vector to a user-supplied sound driver instead.
   65                        	;
   66                        	
   67               2206     	sound_hook	=	nmi_hook		; Sound Driver to run in VBL.
   68                        	
   69                        	;
   70                        	; CORE Zero-Page variables, relative to the System Card's ZP variables.
   71                        	;
   72                        	
   73               0000     		.if	USING_PSGDRIVER
   75                        		.else
   76               20EC     	core_zpend	=	$F8:20EC
   77                        		.endif	USING_PSGDRIVER
   78                        	
   79               0001     		.if	SUPPORT_SGX
   80                        	
   81                        			; Put some "CORE(not TM)" variables at the start of Zero Page.
   82                        			;
   83                        			; These are at the *start* of ZP so that the SuperGrafx shadow
   84                        			; "sgx_" registers are at a specific offset from their System
   85                        			; Card "vdc_" counterparts, and they MUST NOT be moved!
   86                        			;
   87                        			; This allows us to put SGX_VDC_OFFSET or PCE_VDC_OFFSET into
   88                        			; the X register, and then index into either set of hardware
   89                        			; registers and the "sgx_reg" or "vdc_reg" shadow-variables.
   90                        	
   91               0000     	PCE_VDC_OFFSET	=	$00		; Offset to PCE VDC chip & shadow vars.
   92               0010     	SGX_VDC_OFFSET	=	$10		; Offset to SGX VDC chip & shadow vars.
   93                        	
   94               2000     			.zp
   95               2000     			.org	$2000
   96    F8:2000             	__temp		ds	2		; $F8:2000 Use within any ASM routine.
   97    F8:2002             	_bp_bank	ds	1		; $F8:2002 Use within any ASM/HuCC routine.
   98    F8:2003             	sgx_crl		ds	1		; $F8:2003 SGX shadow (vdc_crl = $20F3).
   99    F8:2004             	sgx_crh		ds	1		; $F8:2004 SGX shadow (vdc_crh = $20F4).
  100    F8:2005             	core_1stbank	ds	1		; $F8:2005 1st bank of library code.
  101    F8:2006             	sgx_sr		ds	1		; $F8:2006 SGX shadow (vdc_sr  = $20F6).
  102    F8:2007             	sgx_reg		ds	1		; $F8:2007 SGX shadow (vdc_reg = $20F7).
  103                        	
  104               2008     	core_zp1st	=	*		; $F8:2008 1st free user address.
  105                        	
  106                        		.else	SUPPORT_SGX
  116                        		.endif	SUPPORT_SGX
  117                        	
  118                        	;
  119                        	; The kernel code in RAM follows the System Card's RAM variables.
  120                        	;
  121                        	
  122               0000     		.if	USING_PSGDRIVER
  124                        		.else
  125               22D0     	core_ram1st     =	$F8:22D0
  126                        		.endif	USING_PSGDRIVER
  127                        	
  128                        	;
  129                        	; Include the "CORE(not TM)" startup code to begin the HuCARD / Overlay.
  130                        	;
  131                        	
                             #[4]   "..\..\..\include\hucc\core-startup.asm"
  132                        			include	"core-startup.asm"
    1                        	; ***************************************************************************
    2                        	; ***************************************************************************
    3                        	;
    4                        	; core-startup.asm
    5                        	;
    6                        	; The "CORE(not TM)" PC Engine library startup code that runs at boot/reset.
    7                        	;
    8                        	; Copyright John Brandwood 2021-2024.
    9                        	;
   10                        	; Distributed under the Boost Software License, Version 1.0.
   11                        	; (See accompanying file LICENSE_1_0.txt or copy at
   12                        	;  http://www.boost.org/LICENSE_1_0.txt)
   13                        	;
   14                        	; ***************************************************************************
   15                        	; ***************************************************************************
   16                        	;
   17                        	; This is the initialization code in the 1st bank, and it is responsible for
   18                        	; setting up a consistant runtime environment for the developer's program,
   19                        	; so that the developer can concentrate on writing the program itself.
   20                        	;
   21                        	; The idea is that when a program is loaded, the first 40KB of it is mapped
   22                        	; as $4000..$DFFF, and initialization starts at $4000, with the developer's
   23                        	; program getting control after initialization, with a jump to "core_main".
   24                        	;
   25                        	; The initializtion sets up a small kernel of code that provides interrupt
   26                        	; handling that mimics a subset of the System Card's behavior, designed to
   27                        	; act in the same way on HuCARD and CD-ROM, with either the System Card in
   28                        	; MPR7, or with an overlay in MPR7.
   29                        	;
   30                        	; The kernel handles reading the joypad/mouse, and it offers handler hooks
   31                        	; for running the developer's interrupt code.  On CD-ROM systems, it also
   32                        	; handles the loading and running of subsequent overlay programs.
   33                        	;
   34                        	; On HuCARD, the kernel itself runs in MPR7; while on CD-ROM systems it is
   35                        	; run from RAM in MPR1, so that overlay programs are independant from each
   36                        	; other, and can be written in different programming languages.
   37                        	;
   38                        	;
   39                        	; 1) If we're running on a HuCARD, the initialization is simple!
   40                        	;
   41                        	;    The PC Engine's memory map is set to ...
   42                        	;
   43                        	;      MPR0 = bank $FF : PCE hardware
   44                        	;      MPR1 = bank $F8 : PCE RAM with Stack & ZP
   45                        	;      MPR2 = bank $00 : HuCARD ROM
   46                        	;      MPR3 = bank $01 : HuCARD ROM
   47                        	;      MPR4 = bank $02 : HuCARD ROM
   48                        	;      MPR5 = bank $03 : HuCARD ROM
   49                        	;      MPR6 = bank $04 : HuCARD ROM
   50                        	;      MPR7 = bank $00 : HuCARD ROM
   51                        	;
   52                        	;
   53                        	; 2) If we're running on a HuCARD that supports the Turbo Everdrive, then the
   54                        	;    first 2 banks are reserved for mapping the TED2 hardware and a RAM bank.
   55                        	;
   56                        	;    The PC Engine's memory map is set to ...
   57                        	;
   58                        	;      MPR0 = bank $FF : PCE hardware
   59                        	;      MPR1 = bank $F8 : PCE RAM with Stack & ZP
   60                        	;      MPR2 = bank $02 : HuCARD ROM
   61                        	;      MPR3 = bank $03 : HuCARD ROM
   62                        	;      MPR4 = bank $04 : HuCARD ROM
   63                        	;      MPR5 = bank $05 : HuCARD ROM
   64                        	;      MPR6 = bank $06 : HuCARD ROM
   65                        	;      MPR7 = bank $02 : HuCARD ROM
   66                        	;
   67                        	;
   68                        	; 3) If we're running on an old CD System, the overlay is loaded from the ISO
   69                        	;    into banks $80-$87 (64KB max).
   70                        	;
   71                        	;    The PC Engine's memory map is set to ...
   72                        	;
   73                        	;      MPR0 = bank $FF : PCE hardware
   74                        	;      MPR1 = bank $F8 : PCE RAM with Stack & ZP
   75                        	;      MPR2 = bank $80 : CD RAM
   76                        	;      MPR3 = bank $81 : CD RAM
   77                        	;      MPR4 = bank $82 : CD RAM
   78                        	;      MPR5 = bank $83 : CD RAM
   79                        	;      MPR6 = bank $84 : CD RAM
   80                        	;      MPR7 = bank $80 : CD RAM or System Card's bank $00
   81                        	;
   82                        	;
   83                        	; 4) If we're running on a SuperCD System, the overlay is loaded from the ISO
   84                        	;    into banks $68-$87 (256KB max).
   85                        	;
   86                        	;    The PC Engine's memory map is set to ...
   87                        	;
   88                        	;      MPR0 = bank $FF : PCE hardware
   89                        	;      MPR1 = bank $F8 : PCE RAM with Stack & ZP
   90                        	;      MPR2 = bank $68 : SCD RAM
   91                        	;      MPR3 = bank $69 : SCD RAM
   92                        	;      MPR4 = bank $6A : SCD RAM
   93                        	;      MPR5 = bank $6B : SCD RAM
   94                        	;      MPR6 = bank $6C : SCD RAM
   95                        	;      MPR7 = bank $68 : SCD RAM or System Card's bank $00
   96                        	;
   97                        	; ***************************************************************************
   98                        	; ***************************************************************************
   99                        	
  100                        	
  101                        	
  102               E000     			.code
  103               0000     			.bank	0
  104                        	
  105               0000     		.if	SUPPORT_TED2			; Do we want to use a TED2?
  177                        		.endif	SUPPORT_TED2
  178                        	
  179                        	
  180                        	
  181               0001     		.if	USING_MPR7
  182                        	
  183                        	; ***************************************************************************
  184                        	; ***************************************************************************
  185                        	;
  186                        	; RESET VECTORS (when running in MPR7, either as a HuCARD, or a CD overlay)
  187                        	;
  188                        	
  189                        			; Hardware reset and interrupt vectors.
  190                        	
  191               FFF4     			.org	$FFF4
  192                        	
  193    00:FFF4  10         	core_version:	db	CORE_VERSION		; CORE(not TM) Version.
  194    00:FFF5  80         			db	$80			; System Card compatibility.
  195                        	
  196    00:FFF6  5D E0      			dw	core_irq2		; IRQ2	(from CD/ADPCM)
  197    00:FFF8  64 E0      			dw	core_irq1		; IRQ1	(from VDC)
  198    00:FFFA  58 E1      			dw	core_timer		; TIMER (from CPU)
  199    00:FFFC  5E E1      			dw	core_rti		; NMI	(unused)
  200               0000     		.if	CDROM
  202                        		.else
  203    00:FFFE  21 E0      			dw	core_hw_reset		; RESET (HuCARD)
  204                        		.endif	CDROM
  205                        	
  206               0001     		.if	USING_NEWPROC			; If the ".proc" trampolines
  207               FFF3     	__trampolineptr =	$FFF3			; are in MPR7, tell PCEAS to
  208                        		.endif					; put them below the vectors.
  209                        	
  210                        		.else	USING_MPR7
  222                        		.endif	USING_MPR7
  223                        	
  224                        	
  225                        	
  226                        	; ***************************************************************************
  227                        	; ***************************************************************************
  228                        	;
  229                        	; !!! THE HuCARD/OVERLAY PROGRAM'S FIRST BANK STARTS HERE !!!
  230                        	;
  231                        	
  232                        			; Switch to MPR2 for the "CORE(not TM)" library init.
  233                        			;
  234                        			; This is also executed by a HuCARD once it has run
  235                        			; its initial hardware-reset code.
  236                        			;
  237                        			; When run, MPR2-MPR6 are always mapped to the 1st 5 banks of
  238                        			; the overlay program, and MPR7 contains the System Card.
  239                        	
  240               4000     			.org	$4000
  241                        	
  242               0000     	CORE_BANK	=	bank(*) - _bank_base	; It isn't always zero! ;-)
  243                        	
  244               0000     			.bank	CORE_BANK, "CORE_BANK"	; Give it a label.
  245                        	
  246               0001     		.if	USING_MPR7
  247               0007     	CORE_PAGE	=	7			; User code runs in MPR7.
  248                        		.else
  250                        		.endif	USING_MPR7
  251                        	
  252    00:4000  4C 06 40   	core_boot:	jmp	* + 6			; Allow someone to patch this.
  253                        	
  254                        			; Add an ident string so isoLINK can autodetect configuration.
  255                        			;
  256                        			; This allows isoLINK to decide whether to use the IPL-SCD boot
  257                        			; sector hack, and whether to include a SuperGRAFX signature in
  258                        			; the boot sector, without the user having to manually use some
  259                        			; command line parameters, although they are free to do that if
  260                        			; they wish.
  261                        	
  262               0001     		.if	SUPPORT_SGX
  263               0000     		.if	BUILDING_STAGE1
  265                        		.else
  266    00:4003  53 47 58   			db	"SGX"			; SGX SuperCD or SGX HuCARD.
  267                        		.endif	BUILDING_STAGE1
  268                        		.else
  282                        		.endif	SUPPORT_SGX
  283                        	
  284               0000     		.if	CDROM
  331                        		.else	CDROM
  332                        	
  333                        			; Set up HuCARD RAM in a compatible way to the System Card.
  334                        			;
  335                        			; Note that the entire RAM is cleared by "core_hw_reset".
  336                        	
  337    00:4006  A9 1F      			lda	#%11111			; Enable joypad soft-reset.
  338    00:4008  8D 27 22   			sta	joyena
  339                        	
  340                        		.endif	CDROM
  341                        	
  342                        			; Now that RAM is initialized ...
  343                        	
  344    00:400B  43 04      			tma2				; Remember overlay's 1st bank
  345    00:400D  85 05      			sta	<core_1stbank		; $00, $02, $68 or $80!
  346               0001     		.if	USING_MPR7
  347    00:400F  53 80      			tam7				; "CORE(not TM)" takes MPR7!
  348                        		.endif
  349                        	
  350    00:4011  A2 FF      			ldx	#$FF			; Initialize stack pointer.
  351    00:4013  9A         			txs
  352                        	
  353    00:4014  20 5F E1   			jsr	core_clr_hooks		; Reset default hooks.
  354                        	
  355                        	;		stz	TIMER_CR		; Stop HuC6280 timer.
  356                        	;		stz	IRQ_ACK			; Clr HuC6280 timer interrupt.
  357                        	;		stz	IRQ_MSK			; Clr HuC6280 interrupt mask.
  358                        	
  359    00:4017  AD 00 02   			lda	VDC_SR			; Purge any overdue VBL.
  360    00:401A  9C 41 22   			stz	irq_cnt			; Make it easy to check.
  361    00:401D  58         			cli				; Restore interrupts.
  362                        	
  363    00:401E  4C E5 FF   			jmp	core_main		; Start the game's code.
  364                        	
  365                        	
  366                        	
  367               0001     		.if	!CDROM
  368                        	
  369                        	; ***************************************************************************
  370                        	; ***************************************************************************
  371                        	;
  372                        	; HuCARD Kernel Code
  373                        	;
  374                        	; core_ram1st - Start of code to relocate to MPR1.
  375                        	; core_ramend - End of code to relocate to MPR1.
  376                        	;
  377                        	
  378                        			; In a HuCARD, BSS variables start as low as possible.
  379                        	
  380               2200     			.bss
  381               22D0     			.org	core_ram1st
  382               22D0     	core_ramend	=	*
  383               4021     			.code
  384                        	
  385                        			; Normal HuCARD hardware-reset code, executed in MPR7.
  386                        			;
  387                        			; This does the basic PCE startup that every HuCARD (including
  388                        			; a System Card) needs to do, and then it remaps memory to be
  389                        			; compatible with the "CORE(not TM)" CD overlay program start.
  390                        	
  391               E021     			.page	7			; This will run in MPR7.
  392                        	
  393    00:E021  78         	core_hw_reset:	sei				; Disable interrupts.
  394    00:E022  D4         			csh				; Set high-speed mode.
  395    00:E023  D8         			cld
  396                        	
  397    00:E024  A2 FF      			ldx	#$FF			; Initialize stack pointer.
  398    00:E026  9A         			txs
  399    00:E027  8A         			txa				; MPR0 = $FF : PCE hardware
  400    00:E028  53 01      			tam0				; MPR1 = $F8 : PCE RAM
  401    00:E02A  A9 F8      			lda	#$F8
  402    00:E02C  53 02      			tam1
  403                        	
  404    00:E02E  9C 01 0C   			stz	TIMER_CR		; HW reset already does these,
  405    00:E031  9C 03 14   			stz	IRQ_ACK			; but this may be a reset from
  406    00:E034  9C 02 14   			stz	IRQ_MSK			; software (i.e. joypad).
  407                        	
  408    00:E037  F3 53 E0 00			tai	const_0000, $2000, 8192 ; Clear RAM.
         00:E03B  20 00 20    
  409                        	
  410    00:E03E  43 80      			tma7				; Not always bank 0!
  411                        	
  412    00:E040  53 04      			tam2				; Set CD-ROM overlay memory map,
  413    00:E042  1A         			inc	a			; 1st 5 banks in MPR2-MPR6.
  414    00:E043  53 08      			tam3
  415    00:E045  1A         			inc	a
  416    00:E046  53 10      			tam4
  417    00:E048  1A         			inc	a
  418    00:E049  53 20      			tam5
  419    00:E04B  1A         			inc	a
  420    00:E04C  53 40      			tam6
  421                        	
  422    00:E04E  4C 00 40   			jmp	core_boot		; Continue execution in MPR2.
  423                        	
  424                        			; In a HuCARD, the kernel code is permanently in MPR7.
  425                        	
                             #[5]   "..\..\..\include\hucc\core-kernel.asm"
  426                        			include "core-kernel.asm"
    1                        	; ***************************************************************************
    2                        	; ***************************************************************************
    3                        	;
    4                        	; core-kernel.asm
    5                        	;
    6                        	; The "CORE(not TM)" PC Engine library kernel code that runs after startup.
    7                        	;
    8                        	; Copyright John Brandwood 2021-2024.
    9                        	;
   10                        	; Distributed under the Boost Software License, Version 1.0.
   11                        	; (See accompanying file LICENSE_1_0.txt or copy at
   12                        	;  http://www.boost.org/LICENSE_1_0.txt)
   13                        	;
   14                        	; ***************************************************************************
   15                        	; ***************************************************************************
   16                        	;
   17                        	; This code is permanently located in either MPR7 (HuCARD), or MPR1 (CD-ROM),
   18                        	; and it provides a consistant method of interrupt-handling on both systems
   19                        	; that is designed to be compatible with the System Card.
   20                        	;
   21                        	; The library uses the "irq1_hook" for its own VDC interrupt handler, and PCE
   22                        	; developers are expected to use "vsync_hook" and "hsync_hook" for their VDC
   23                        	; interrupt functions.  Plenty of memory is available in the 1st bank for the
   24                        	; developer to put those functions.
   25                        	;
   26                        	; The reason for using "irq1_hook", is so that the library can work properly
   27                        	; if either the current overlay program, or the System Card, are mapped into
   28                        	; MPR7 whenever an interrupt occurs.
   29                        	;
   30                        	; The VDC interupt handler itself is changed from the System Card's handler,
   31                        	; and it is designed to provide faster response to vsync_hook, and to enable
   32                        	; interrupts during the slow(ish) joypad and sound driver code, so that both
   33                        	; raster and timer interrupts are not delayed.
   34                        	;
   35                        	; Developers are free to enable interrupts during their own vsync_hook code,
   36                        	; if they wish to do so.
   37                        	;
   38                        	; On CD-ROM systems, this library kernel also provides a function to load and
   39                        	; run a new overlay program, without relying upon any of the code/data within
   40                        	; the current overlay program's memory (unlike HuC v3).
   41                        	;
   42                        	; ***************************************************************************
   43                        	; ***************************************************************************
   44                        	
   45                        	
   46                        	
   47                        	; ***************************************************************************
   48                        	; ***************************************************************************
   49                        	;
   50                        	; core_kernel - Start of kernel code.
   51                        	;
   52                        	
   53               E051     	core_kernel	=	*
   54                        	
   55                        	
   56                        	
   57                        	; ***************************************************************************
   58                        	; ***************************************************************************
   59                        	;
   60                        	; Useful constants, needed by joypad library code, and used by many others.
   61                        	;
   62                        	; The kernel starts with a non-zero byte so that core-startup.asm can check
   63                        	; whether it has already been loaded into RAM.
   64                        	;
   65                        	
   66    00:E051  FF FF      	const_FFFF:	dw	$FFFF			; Useful constant for TAI.
   67    00:E053  00 00      	const_0000:	dw	$0000			; Useful constant for TAI.
   68                        	
   69    00:E055  01 02 04 08	bit_mask:	db	$01,$02,$04,$08,$10,$20,$40,$80
         00:E059  10 20 40 80 
   70                        	
   71                        	
   72                        	
   73                        	; ***************************************************************************
   74                        	; ***************************************************************************
   75                        	;
   76                        	; core_irq2  - Minimal interrupt handler compatible with System Card.
   77                        	; core_irq1  - Minimal interrupt handler compatible with System Card.
   78                        	; core_timer - Minimal interrupt handler compatible with System Card.
   79                        	; core_rti   - Minimal interrupt handler compatible with System Card.
   80                        	;
   81                        	; Note that it takes 8 cycles to respond to an IRQ.
   82                        	;
   83                        	; These routines are copied to a location in RAM that does not vary when
   84                        	; a different overlay program is loaded.
   85                        	;
   86                        	; All overlay programs are set up to vector interrupts to these routines,
   87                        	; which is designed to avoid interrupt-related crashes when loading a new
   88                        	; overlay on top of an old overlay in memory.
   89                        	;
   90                        	; All of the game's actual interrupt handling itself is done in the "hook"
   91                        	; functions so that everything works the same if the System Card is banked
   92                        	; into MPR7 when an interrupt occurs.
   93                        	;
   94                        	; ***************************************************************************
   95                        	; ***************************************************************************
   96                        	;
   97                        	; Bit settings for irq_vec  ...
   98                        	;
   99                        	;   7 : 1 to skip BIOS hsync processsing
  100                        	;   6 : 1 to call [hsync_hook]
  101                        	;   5 : 1 to skip BIOS vsync processsing
  102                        	;   4 : 1 to call [vsync_hook]
  103                        	;
  104                        	;   3 : 1 to jump [nmi_hook]
  105                        	;   2 : 1 to jump [timer_hook]
  106                        	;   1 : 1 to jump [irq1_hook]
  107                        	;   0 : 1 to jump [irq2_hook]
  108                        	;
  109                        	; ***************************************************************************
  110                        	; ***************************************************************************
  111                        	
  112    00:E05D  8F F5 01   	core_irq2:	bbs0	<irq_vec, .hook		; 8 cycles if using hook.
  113                        	
  114               0000     		.if	CDROM
  138                        		.else
  139                        			; Does this HuCARD support the IFU's ADPCM hardware?
  140                        	
  141               0000     		.if	SUPPORT_ADPCM
  153                        		.endif	SUPPORT_ADPCM
  154                        	
  155    00:E060  40         			rti				; No IRQ2 hardware on HuCARD.
  156                        	
  157    00:E061  6C 00 22   	.hook:		jmp	[irq2_hook]		; 7 cycles.
  158                        		.endif	CDROM
  159                        	
  160                        	
  161                        	
  162                        	; ***************************************************************************
  163                        	; ***************************************************************************
  164                        	;
  165                        	; core_irq1 - Minimal interrupt handler compatible with System Card.
  166                        	;
  167                        	; irq1_handler - Basic "CORE(not TM)" IRQ1 handler to use as the "irq1_hook".
  168                        	;
  169                        	; Doing the IRQ1 handler processing in this hook means that things operate
  170                        	; the same whether the System Card or an Overlay is paged into MPR7.
  171                        	
  172               0000     		.ifndef	HUCC
  181                        		.else
  182                        			; Faster IRQ servicing for HuCC and code that would like to
  183                        			; avoid the 8 cycles used by the "bbs1" instruction that is
  184                        			; taken when the System Card is mapped into MPR7.
  185                        	
  186    00:E064             	core_irq1:	;;;				; 8 (cycles for the INT)
  187               0001     		.if	CDROM || !defined(NO_CORE_IRQ1_HOOK)
  188    00:E064  6C 02 22   			jmp	[irq1_hook]		; 7 cycles.
  189                        	
  190                        		.endif
  191                        		.endif
  192                        	
  193    00:E067  48         	irq1_handler:	pha				; 3 Save all registers.
  194    00:E068  DA         			phx				; 3
  195    00:E069  5A         			phy				; 3
  196                        	
  197               0000     		.ifndef	USING_RCR_MACROS		;   This slows things down
  206                        		.endif	USING_RCR_MACROS
  207                        	
  208    00:E06A  AD 00 02   			lda	VDC_SR			; 6 Acknowledge the VDC's IRQ.
  209    00:E06D  85 F6      			sta	<vdc_sr			; 4 Remember what caused it.
  210                        	
  211               0001     		.if	SUPPORT_SGX
  212    00:E06F  AE 10 02   			ldx	SGX_SR			; 6 Read SGX_SR after VDC_SR in
  213    00:E072  86 06      			stx	<sgx_sr			; 4 case this is not an SGX!
  214                        		.endif
  215                        	
  216                        			; Handle the VDC's RCR interrupt.
  217                        	
  218    00:E074  29 04      	!:		and	#$04			; 2 Is this an HSYNC interrupt?
  219    00:E076  F0 44      			beq	!+			; 2
  220                        	
  221               0001     		.ifdef	USING_RCR_MACROS
  222                        			VDC_RCR_MACRO
                             	
         00:E078  03 06      			st0	#VDC_RCR		; 5
                             	
         00:E07A  AE 68 27   			ldx	vdc_next_region		; 5 X and Y can be greater than
         00:E07D  BC 69 27   			ldy	vdc_regionA_nxt, x	; 5 HUCC_PCE_SPLITS if regionB!
         00:E080  18         			clc				; 2
         00:E081  D0 05      			bne	!set_next_rcr+		; 4 Stop RCR if next line is 0.
                             	
         00:E083  2D 53 E0   			and	const_0000		; 5 A=$00 with the same #cycles
         00:E086  80 05      			bra	!clr_next_rcr+		; 4 as if the branch were taken.
                             	
         00:E088  B9 18 27   	!set_next_rcr:	lda	vdc_regionA_rcr, y	; 5 Set next RCR 1 line before
         00:E08B  69 3F      			adc	#64-1			; 2 the region begins, or 0 to
         00:E08D  8D 02 02   	!clr_next_rcr:	sta	VDC_DL			; 6 disable.
         00:E090  62         			cla				; 2
         00:E091  2A         			rol	a			; 2
         00:E092  8D 03 02   			sta	VDC_DH			; 6
                             	
         00:E095  03 08      			st0	#VDC_BYR		; 5 Do BYR first to mitigate the
         00:E097  BD 48 27   			lda	vdc_regionA_yl, x	; 5 glitch if the IRQ is delayed.
         00:E09A  8D 02 02   			sta	VDC_DL			; 6 = 105 cycles from RCR on SGX
         00:E09D  BD 58 27   			lda	vdc_regionA_yh, x	; 5
         00:E0A0  8D 03 02   			sta	VDC_DH			; 6
                             	
         00:E0A3  03 05      			st0	#VDC_CR			; 5
         00:E0A5  BD 08 27   			lda	vdc_regionA_crl, x	; 5
                             	;		asl	a
         00:E0A8  8D 02 02   			sta	VDC_DL			; 6
                             	
         00:E0AB  03 07      			st0	#VDC_BXR		; 2
         00:E0AD  BD 28 27   			lda	vdc_regionA_xl, x	; 5
         00:E0B0  8D 02 02   			sta	VDC_DL			; 6
         00:E0B3  BD 38 27   			lda	vdc_regionA_xh, x	; 5
         00:E0B6  8D 03 02   			sta	VDC_DH			; 6 = 156 cycles from RCR if DUO
                             	
                             	;		bcc	!+
                             	;		lda	vdc_regionA_yh, x	; 5
                             	;		sta.l	VCE_CTW			; 6
                             	
         00:E0B9  8C 68 27   			sty	vdc_next_region		; 5
                             	
  223                        		.else
  225                        		.endif
  226                        	
  227               0001     		.if	SUPPORT_SGX
  228                        	
  229                        			; Handle the SGX's RCR interrupt.
  230                        	
  231    00:E0BC  2F 06 50   	!:		bbr2	<sgx_sr, !+		; 6 Is this an HSYNC interrupt?
  232                        	
  233               0001     		.ifdef	USING_RCR_MACROS
  234                        			SGX_RCR_MACRO
                             	
         00:E0BF  A9 06      			lda	#VDC_RCR		; 2
         00:E0C1  8D 10 02   			sta	SGX_AR			; 6
                             	
         00:E0C4  AE E9 27   			ldx	sgx_next_region		; 5 X and Y can be greater than
         00:E0C7  BC EA 27   			ldy	sgx_regionA_nxt, x	; 5 HUCC_SGX_SPLITS if regionB!
         00:E0CA  18         			clc				; 2
         00:E0CB  D0 05      			bne	!set_next_rcr+		; 4 Stop RCR if next line is 0.
                             	
         00:E0CD  2D 53 E0   			and	const_0000		; 5 A=$00 with the same #cycles
         00:E0D0  80 05      			bra	!clr_next_rcr+		; 4 as if the branch were taken.
                             	
         00:E0D2  B9 99 27   	!set_next_rcr:	lda	sgx_regionA_rcr, y	; 5 Set next RCR 1 line before
         00:E0D5  69 3F      			adc	#64-1			; 2 the region begins, or 0 to
         00:E0D7  8D 12 02   	!clr_next_rcr:	sta	SGX_DL			; 6 disable.
         00:E0DA  62         			cla				; 2
         00:E0DB  2A         			rol	a			; 2
         00:E0DC  8D 13 02   			sta	SGX_DH			; 6
                             	
         00:E0DF  A9 08      			lda	#VDC_BYR		; 2 Do BYR first to mitigate the
         00:E0E1  8D 10 02   			sta	SGX_AR			; 6 glitch if the IRQ is delayed.
         00:E0E4  BD C9 27   			lda	sgx_regionA_yl, x	; 5
         00:E0E7  8D 12 02   			sta	SGX_DL			; 6
         00:E0EA  BD D9 27   			lda	sgx_regionA_yh, x	; 5
         00:E0ED  8D 13 02   			sta	SGX_DH			; 6
                             	
         00:E0F0  A9 05      			lda	#VDC_CR			; 2
         00:E0F2  8D 10 02   			sta	SGX_AR			; 6
         00:E0F5  BD 89 27   			lda	sgx_regionA_crl, x	; 5
         00:E0F8  8D 12 02   			sta	SGX_DL			; 6
                             	
         00:E0FB  A9 07      			lda	#VDC_BXR		; 2
         00:E0FD  8D 10 02   			sta	SGX_AR			; 6
         00:E100  BD A9 27   			lda	sgx_regionA_xl, x	; 5
         00:E103  8D 12 02   			sta	SGX_DL			; 6
         00:E106  BD B9 27   			lda	sgx_regionA_xh, x	; 5
         00:E109  8D 13 02   			sta	SGX_DH			; 6 = 293 cycles (282 if no YH)
                             	
         00:E10C  8C E9 27   			sty	sgx_next_region		; 5
                             	
  235                        		.else
  237                        		.endif
  238                        	
  239                        		.endif	SUPPORT_SGX
  240                        	
  241                        			; Handle the VDC's VBL interrupt.
  242                        	
  243    00:E10F  5F F6 32   	!:		bbr5	<vdc_sr, .exit_irq1	; 6 Is this a VBLANK interrupt?
  244                        	
  245               0001     		.ifdef	USING_RCR_MACROS		;   If we didn't do it earlier
  246               0000     		.if	CDROM				;   then we need to do it now.
  253                        		.endif	CDROM
  254                        		.endif	USING_RCR_MACROS
  255                        	
  256               0001     		.if	SUPPORT_SGX
  257    00:E112  A9 05      			lda	#VDC_CR			; Update the SGX's Control
  258    00:E114  8D 10 02   			sta	SGX_AR			; Register first, just in
  259    00:E117  8D 00 02   			sta	VDC_AR			; case this is not an SGX!
  260    00:E11A  A5 03      			lda	<sgx_crl		
  261    00:E11C  8D 12 02   			sta	SGX_DL
  262    00:E11F  A5 F3      			lda	<vdc_crl
  263    00:E121  8D 02 02   			sta	VDC_DL
  264                        	
  265                        	;		lda	<sgx_crh		; Do not mess with the SGX's
  266                        	;		sta	SGX_DH			; auto-increment!!!
  267                        	;		lda	<vdc_crh		; Do not mess with the VDC's
  268                        	;		sta	VDC_DH			; auto-increment!!!
  269                        		.else
  277                        		.endif	SUPPORT_SGX
  278                        	
  279    00:E124  EE 41 22   			inc	irq_cnt			; Mark that a VBLANK occurred.
  280                        	
  281    00:E127  4F F5 02   			bbr4	<irq_vec, .skip_hookv	; Is a driver registered?
  282                        	
  283    00:E12A  44 26      			bsr	.user_vsync		; Call game's VBLANK code.
  284                        	
  285    00:E12C  DF F5 15   	.skip_hookv:	bbs5	<irq_vec, .exit_vbl	; Should we skip "BIOS" stuff?
  286                        	
  287    00:E12F  58         			cli				; Allow HSYNC and TIMER IRQ.
  288                        	
  289    00:E130  20 DB FF   			call	read_joypads		; Update joypad state.
  290                        	
  291               0000     		.if	USING_PSGDRIVER
  305                        		.else
  306    00:E133  AD 07 22   			lda	sound_hook + 1		; Is a driver registered?
  307    00:E136  F0 0C      			beq	.exit_vbl
  308                        	
  309    00:E138  A9 80      			lda	#$80			; Acquire sound mutex to avoid
  310    00:E13A  0C E7 22   			tsb	sound_mutex		; conflict with a delayed VBL.
  311    00:E13D  30 05      			bmi	.exit_vbl
  312                        	
  313    00:E13F  44 14      			bsr	.user_sound		; Call the driver hook.
  314                        	
  315    00:E141  9C E7 22   			stz	sound_mutex		; Release sound mutex.
  316                        		.endif	USING_PSGDRIVER
  317                        	
  318    00:E144             	.exit_vbl:
  319                        	
  320               0001     		.ifdef	USING_RCR_MACROS		; If USING_RCR_MACROS then 
  321               0000     		.if	CDROM				; restore after the VBLANK.
  326                        		.endif	CDROM
  327                        		.endif	USING_RCR_MACROS
  328                        	
  329    00:E144             	.exit_irq1:
  330                        	
  331               0000     		.ifndef	USING_RCR_MACROS		; If !USING_RCR_MACROS then
  338                        		.endif	USING_RCR_MACROS
  339                        	
  340               0001     		.if	SUPPORT_SGX
  341    00:E144  A5 07      			lda	<sgx_reg		; Restore SGX_AR first, just
  342    00:E146  8D 10 02   			sta	SGX_AR			; in case this is not an SGX!
  343                        		.endif
  344                        	
  345    00:E149  A5 F7      			lda	<vdc_reg		; Restore VDC_AR in case we
  346    00:E14B  8D 00 02   			sta	VDC_AR			; changed it.
  347                        	
  348    00:E14E  7A         			ply				; Restore all registers.
  349    00:E14F  FA         			plx
  350    00:E150  68         			pla
  351                        	
  352    00:E151  40         			rti				; Return from interrupt.
  353                        	
  354    00:E152  6C 08 22   	.user_vsync:	jmp	[vsync_hook]		; 7
  355    00:E155  6C 06 22   	.user_sound:	jmp	[sound_hook]		; 7
  356                        	
  357               0000     		.ifndef	USING_RCR_MACROS
  362                        		.endif	USING_RCR_MACROS
  363                        	
  364                        	
  365                        	
  366                        	; ***************************************************************************
  367                        	; ***************************************************************************
  368                        	;
  369                        	; core_timer - Minimal interrupt handler compatible with System Card.
  370                        	;
  371                        	; tirq_handler - Basic "CORE(not TM)" TIRQ handler to use as the "timer_hook".
  372                        	;
  373                        	; Doing the TIRQ handler processing in this hook means that things operate
  374                        	; the same whether the System Card or an Overlay is paged into MPR7.
  375                        	
  376               0000     		.ifndef	HUCC
  385                        		.else
  386                        			; Faster IRQ servicing for HuCC and code that would like to
  387                        			; avoid the 8 cycles used by the "bbs2" instruction that is
  388                        			; taken when the System Card is mapped into MPR7.
  389                        	
  390    00:E158             	core_timer:	;;;				; 8 (cycles for the INT)
  391               0001     		.if	CDROM || !defined(NO_CORE_TIRQ_HOOK)
  392    00:E158  6C 04 22   			jmp	[timer_hook]		; 7 cycles.
  393                        		.endif
  394                        		.endif
  395                        	
  396    00:E15B             	tirq_handler:
  397               0000     		.ifdef	USING_TIRQ_MACRO
  399                        		.else
  400    00:E15B  9C 03 14   			stz	IRQ_ACK			; 5 Clear timer interrupt.
  401                        		.endif
  402                        	
  403    00:E15E  40         	core_rti:	rti
  404                        	
  405                        	
  406                        	
  407                        	; ***************************************************************************
  408                        	; ***************************************************************************
  409                        	;
  410                        	; core_clr_hooks - Reset default "CORE(not TM)" interrupt-handling hooks.
  411                        	;
  412                        	
  413    00:E15F  08         	core_clr_hooks:	php				; Preserve interrupt state.
  414    00:E160  78         			sei				; Disable interrupts.
  415                        	
  416               0000     		.if	USING_PSGDRIVER
  419                        		.else
  420    00:E161  9C 07 22   			stz.h	sound_hook		; Disable sound driver calls.
  421                        		.endif
  422                        	
  423    00:E164  A9 88      			lda	#<core_sw_reset		; Set up the soft-reset hook.
  424    00:E166  8D 84 22   			sta.l	reset_hook
  425    00:E169  A9 E1      			lda	#>core_sw_reset
  426    00:E16B  8D 85 22   			sta.h	reset_hook
  427                        	
  428    00:E16E  A9 67      			lda	#<irq1_handler		; Set up the IRQ1 hook.
  429    00:E170  8D 02 22   			sta.l	irq1_hook
  430    00:E173  A9 E0      			lda	#>irq1_handler
  431    00:E175  8D 03 22   			sta.h	irq1_hook
  432                        	
  433    00:E178  A9 5B      			lda	#<tirq_handler		; Set up the TIRQ hook.
  434    00:E17A  8D 04 22   			sta.l	timer_hook
  435    00:E17D  A9 E1      			lda	#>tirq_handler
  436    00:E17F  8D 05 22   			sta.h	timer_hook
  437                        	
  438    00:E182  A9 06      			lda	#%00000110		; Replace the System Card's
  439    00:E184  85 F5      			sta	<irq_vec		; IRQ1 and TIRQ processing.
  440                        	
  441    00:E186  28         			plp				; Restore interrupt state.
  442    00:E187  60         			rts
  443                        	
  444                        	
  445                        	
  446                        	; ***************************************************************************
  447                        	; ***************************************************************************
  448                        	;
  449                        	; Include the joypad library, with configuration from "core-config.inc".
  450                        	;
  451                        	
                             #[6]   "..\..\..\include\hucc\joypad.asm"
  452                        			include "joypad.asm"
    1                        	; ***************************************************************************
    2                        	; ***************************************************************************
    3                        	;
    4                        	; joypad.asm
    5                        	;
    6                        	; Read 2-button & 6-button joypads & PCE mouse, with or without a MultiTap.
    7                        	;
    8                        	; Copyright John Brandwood 2019-2025.
    9                        	;
   10                        	; Distributed under the Boost Software License, Version 1.0.
   11                        	; (See accompanying file LICENSE_1_0.txt or copy at
   12                        	;  http://www.boost.org/LICENSE_1_0.txt)
   13                        	;
   14                        	; ***************************************************************************
   15                        	; ***************************************************************************
   16                        	;
   17                        	; Unlike Lemmings, this code does not interfere with a Memory Base 128! ;-)
   18                        	;
   19                        	; ***************************************************************************
   20                        	; ***************************************************************************
   21                        	;
   22                        	; With SUPPORT_MOUSE ..... 2602 cycles to read 5 ports with 5 mice
   23                        	;
   24                        	; With HuC library code .. 2442 cycles to read 5 ports with 5 pads (2-button)
   25                        	; With HuC library code .. 2442 cycles to read 5 ports with 5 pads (6-button)
   26                        	;
   27                        	; With SUPPORT_MOUSE ....  2016 cycles to read 5 ports with 5 pads (2-button)
   28                        	; With SUPPORT_MOUSE ..... 1976 cycles to read 5 ports with 5 pads (6-button)
   29                        	;
   30                        	; With SUPPORT_MOUSE ....  1618 cycles to read 3 ports with 3 mice
   31                        	; With SUPPORT_MOUSE ..... 1462 cycles to read 3 ports with 2 mice
   32                        	; With SUPPORT_MOUSE ..... 1306 cycles to read 3 ports with 1 mouse
   33                        	;
   34                        	; With SUPPORT_6BUTTON ... 1235 cycles to read 5 ports with 5 pads (2-button)
   35                        	; With SUPPORT_6BUTTON ... 1215 cycles to read 5 ports with 5 pads (6-button)
   36                        	;
   37                        	; With SUPPORT_MOUSE ..... 1126 cycles to read 2 ports with 2 mice
   38                        	; With SUPPORT_MOUSE ...... 970 cycles to read 2 ports with 1 mouse
   39                        	;
   40                        	; Only SUPPORT_2BUTTON .... 971 cycles to read 5 ports with 5 pads (2-button)
   41                        	; Only SUPPORT_2BUTTON .... 861 cycles to read 5 ports with 5 pads (6-button)
   42                        	;
   43                        	; With SUPPORT_MOUSE ...... 634 cycles to read 1 port  with 1 mouse
   44                        	;
   45                        	; ***************************************************************************
   46                        	; ***************************************************************************
   47                        	
  142                        	
  143                        	;
  144                        	; Now choose which version of the code to include.
  145                        	;
  146                        	
  147               0000     		.if	SUPPORT_2BUTTON
  278                        		.endif	SUPPORT_2BUTTON
  279                        	
  280                        	
  281                        	
  282               0000     		.if	SUPPORT_MOUSE
  845                        		.else	SUPPORT_MOUSE
  846                        	
  847                        	
  848                        	
  849               0001     		.if	SUPPORT_6BUTTON			; Without mouse!
  850                        	
  851                        	; ***************************************************************************
  852                        	; ***************************************************************************
  853                        	;
  854                        	; read_joypads - full 6-button pad support, but mouse movement is ignored.
  855                        	;
  856                        	; This code distinguishes between a mouse and a 2-button or 6-button joypad,
  857                        	; so that unsupported devices do not have to be unplugged from the MultiTap.
  858                        	;
  859                        	; The code loops two times to get both sets of buttons on a 6-button joypad.
  860                        	;
  861                        	; N.B. Takes approx 1/3 frame to detect mice the first time it is run.
  862                        	;
  863                        	; bit values for joypad 2-button bytes: (MSB = #7; LSB = #0)
  864                        	; ----------------------------------------------------------
  865                        	; bit 0 (ie $01) = I
  866                        	; bit 1 (ie $02) = II
  867                        	; bit 2 (ie $04) = SELECT
  868                        	; bit 3 (ie $08) = RUN
  869                        	; bit 4 (ie $10) = UP
  870                        	; bit 5 (ie $20) = RIGHT
  871                        	; bit 6 (ie $40) = DOWN
  872                        	; bit 7 (ie $80) = LEFT
  873                        	;
  874                        	; bit values for joypad 6-button bytes: (MSB = #7; LSB = #0)
  875                        	; ----------------------------------------------------------
  876                        	; bit 0 (ie $01) = III
  877                        	; bit 1 (ie $02) = IV
  878                        	; bit 2 (ie $04) = V
  879                        	; bit 3 (ie $08) = VI
  880                        	; bit 4 (ie $10) = zero
  881                        	; bit 5 (ie $20) = zero
  882                        	; bit 6 (ie $40) = zero
  883                        	; bit 7 (ie $80) = zero, but set to one if 6-button pad detected.
  884                        	;
  885                        	
  886               E188     			.code
  887                        	
  888               0001     		.if	(* >= $4000)			; Make this a ".proc" if it
  889    1F:C951             	read_joypads	.proc                           ; not running in RAM.
  890                        		.else
  892                        		.endif
  893                        	
  894    1F:C951  A9 80      			lda	#$80			; Acquire port mutex to avoid
  895    1F:C953  0C D0 22   			tsb	port_mutex		; conflict with a delayed VBL
  896    1F:C956  30 75      			bmi	.exit			; or access to an MB128.
  897                        	
  898    1F:C958  73 28 22 32			tii	joynow,joyold,MAX_PADS	; Save the previous values.
         1F:C95C  22 05 00    
  899    1F:C95F  73 D3 22 D8			tii	joy6now,joy6old,MAX_PADS
         1F:C963  22 05 00    
  900                        	
  901                        			; Reset the 6-btn bits, the user might change the joypad mode!
  902                        	
  903    1F:C966  F3 53 E0 D3			tai	const_0000, joy6now, MAX_PADS
         1F:C96A  22 05 00    
  904                        	
  905                        			; Detect attached mice the first time this routine is called.
  906                        	
  907    1F:C96D  AD D2 22   			lda	mouse_flg		; Has mouse detection happened?
  908    1F:C970  30 28      			bmi	.calc_pressed
  909                        	
  910    1F:C972  A9 05      			lda	#MAX_PADS		; Reset number of pads to read.
  911    1F:C974  8D D1 22   			sta	num_ports
  912                        	
  913    1F:C977  A9 1F      			lda	#%00011111		; Try reading everything as a
  914    1F:C979  8D D2 22   			sta	mouse_flg		; mouse.
  915                        	
  916    1F:C97C  A0 17      			ldy	#23			; Initialize repeat count.
  917    1F:C97E  A9 80      			lda	#$80			; Initialize mouse detection.
  918    1F:C980  5A         	.detect_loop:	phy
  919    1F:C981  48         			pha
  920    1F:C982  44 53      			bsr	.read_devices		; Read all devices as if mice.
  921    1F:C984  68         			pla
  922    1F:C985  82         			clx
  923    1F:C986  BC E2 22   	.detect_port:	ldy	mouse_x, x		; A movement of zero means
  924    1F:C989  D0 03      			bne	.detect_next		; this port is a mouse.
  925    1F:C98B  1D 55 E0   			ora	bit_mask, x
  926    1F:C98E  E8         	.detect_next:	inx				; Get the next pad from the
  927    1F:C98F  E0 05      			cpx	#MAX_PADS		; multitap.
  928    1F:C991  D0 F3      			bne	.detect_port
  929    1F:C993  7A         			ply				; Repeat the detection test.
  930    1F:C994  88         			dey
  931    1F:C995  D0 E9      			bne	.detect_loop
  932                        	
  933                        	;	.if	DETECT_PHANTOMS
  934                        	;		cmp	#(1 << MAX_PADS) + 127	; If we find a mouse in every
  935                        	;		bne	.detect_done		; port, then assume mirrored!
  936                        	;		lda	#1			; Report a single mouse in a
  937                        	;		sta	num_ports		; single port.
  938                        	;		lda	#$81
  939                        	;	.endif
  940                        	
  941    1F:C997  8D D2 22   	.detect_done:	sta	mouse_flg		; Report mouse detection.
  942                        	
  943                        			; See what has just been pressed, and check for soft-reset.
  944                        	
  945    1F:C99A  44 3B      	.calc_pressed:	bsr	.read_devices		; Read all devices normally.
  946                        	
  947    1F:C99C  A2 04      			ldx	#MAX_PADS - 1
  948                        	
  949    1F:C99E  BD D3 22   	.pressed_loop:	lda	joy6now, x		; Calc which buttons have just
  950    1F:C9A1  5D D8 22   			eor	joy6old, x		; been pressed (6-button).
  951    1F:C9A4  3D D3 22   			and	joy6now, x
  952               0000     		.if	HUC_JOY_EVENTS
  956                        		.else
  957               0000     		.if	ACCUMULATE_JOY
  959                        		.endif
  960    1F:C9A7  9D DD 22   			sta	joy6trg, x
  961                        		.endif
  962                        	
  963    1F:C9AA  BD 28 22   			lda	joynow, x		; Calc which buttons have just
  964    1F:C9AD  A8         			tay                             ; been pressed (2-button).
  965    1F:C9AE  5D 32 22   			eor	joyold, x
  966    1F:C9B1  3D 28 22   			and	joynow, x
  967               0000     		.if	HUC_JOY_EVENTS
  971                        		.else
  972               0000     		.if	ACCUMULATE_JOY
  974                        		.endif
  975    1F:C9B4  9D 2D 22   			sta	joytrg, x
  976                        		.endif
  977                        	
  978    1F:C9B7  C9 04      			cmp	#$04			; Detect the soft-reset combo,
  979    1F:C9B9  D0 0C      			bne	.not_reset		; hold RUN then press SELECT.
  980    1F:C9BB  C0 0C      			cpy	#$0C
  981    1F:C9BD  D0 08      			bne	.not_reset
  982    1F:C9BF  BD 55 E0   			lda	bit_mask, x
  983    1F:C9C2  2C 27 22   			bit	joyena
  984    1F:C9C5  D0 09      			bne	.soft_reset
  985                        	
  986    1F:C9C7  CA         	.not_reset:	dex				; Check the next pad from the
  987    1F:C9C8  10 D4      			bpl	.pressed_loop		; multitap.
  988                        	
  989    1F:C9CA  9C D0 22   			stz	port_mutex		; Release port mutex.
  990                        	
  991               0001     		.if	(* >= $4000)			; This is a ".proc" if it is
  992                        	.exit:		leave                           ; not running in RAM.
         1F:C9CD  4C EF FF   			jmp	leave_proc
  993                        		.else
  995                        		.endif
  996                        	
  997    1F:C9D0  78         	.soft_reset:	sei				; Disable interrupts.
  998    1F:C9D1  9C D0 22   			stz	port_mutex		; Release port mutex.
  999    1F:C9D4  6C 84 22   			jmp	[reset_hook]		; Jump to the soft-reset hook.
 1000                        	
 1001                        			; Read all of the devices attached to the MultiTap.
 1002                        	
 1003    1F:C9D7  A2 02      	.read_devices:	ldx	#2			; Repeat this loop 2 times.
 1004                        	
 1005    1F:C9D9  A9 01      	.read_multitap:	lda	#$01			; CLR lo, SEL hi for d-pad.
 1006    1F:C9DB  8D 00 10   			sta	IO_PORT
 1007    1F:C9DE  A9 03      			lda	#$03			; CLR hi, SEL hi, reset tap.
 1008    1F:C9E0  8D 00 10   			sta	IO_PORT
 1009    1F:C9E3  C2         			cly				; Start at port 1.
 1010                        	
 1011    1F:C9E4  A9 01      	.read_port:	lda	#$01			; CLR lo, SEL hi for d-pad.
 1012    1F:C9E6  8D 00 10   			sta	IO_PORT			; Wait 1.25us (9 cycles).
 1013                        	
 1014    1F:C9E9  B9 55 E0   			lda	bit_mask, y		; Is there a mouse attached?
 1015    1F:C9EC  2D D2 22   			and	mouse_flg
 1016    1F:C9EF  D0 33      			bne	.read_mouse
 1017                        	
 1018    1F:C9F1  AD 00 10   	.read_pad:	lda	IO_PORT			; Read direction-pad bits.
 1019    1F:C9F4  9C 00 10   			stz	IO_PORT			; CLR lo, SEL lo for buttons.
 1020    1F:C9F7  0A         			asl	a			; Wait 1.25us (9 cycles).
 1021    1F:C9F8  0A         			asl	a
 1022    1F:C9F9  0A         			asl	a
 1023    1F:C9FA  0A         			asl	a
 1024    1F:C9FB  F0 1B      			beq	.read_6button		; 6-btn pad if UDLR all held.
 1025                        	
 1026    1F:C9FD  99 28 22   	.read_2button:	sta	joynow, y		; Get buttons of 2-btn pad.
 1027    1F:CA00  AD 00 10   			lda	IO_PORT
 1028    1F:CA03  29 0F      			and	#$0F
 1029    1F:CA05  19 28 22   			ora	joynow, y
 1030    1F:CA08  49 FF      			eor	#$FF
 1031    1F:CA0A  99 28 22   			sta	joynow, y
 1032                        	
 1033    1F:CA0D  C8         	.next_port:	iny				; Get the next pad from the
 1034    1F:CA0E  CC D1 22   			cpy	num_ports		; multitap.
 1035    1F:CA11  90 D1      			bcc	.read_port
 1036                        	
 1037    1F:CA13  CA         			dex				; Do the next complete pass.
 1038    1F:CA14  CA         			dex
 1039    1F:CA15  10 C2      			bpl	.read_multitap		; Have we finished 2 passes?
 1040    1F:CA17  60         			rts				; Now that everything is read.
 1041                        	
 1042    1F:CA18  AD 00 10   	.read_6button:	lda	IO_PORT			; Get buttons of 6-btn pad.
 1043    1F:CA1B  29 0F      			and	#$0F
 1044    1F:CA1D  49 8F      			eor	#$8F			; Set bit-7 to show that a
 1045    1F:CA1F  99 D3 22   			sta	joy6now, y		; 6-button pad is present.
 1046    1F:CA22  80 E9      			bra	.next_port
 1047                        	
 1048    1F:CA24  7C 55 CA   	.read_mouse:	jmp	[.mouse_vectors, x]	; Which mouse info is next?
 1049                        	
 1050                        			; Mouse processing, normally four passes, here just two.
 1051                        	
 1052    1F:CA27  A9 1C      	.mouse_x_hi:	lda	#28			; 189 cycle delay after CLR lo
 1053    1F:CA29  3A         	.wait_loop:	dec	a			; on port to allow the mouse
 1054    1F:CA2A  D0 FD      			bne	.wait_loop		; to buffer and reset counters.
 1055                        	
 1056    1F:CA2C  AD 00 10   			lda	IO_PORT			; Read direction-pad bits.
 1057    1F:CA2F  9C 00 10   			stz	IO_PORT			; CLR lo, SEL lo for buttons.
 1058    1F:CA32  0A         			asl	a			; Wait 1.25us (9 cycles).
 1059    1F:CA33  0A         			asl	a
 1060    1F:CA34  0A         			asl	a
 1061    1F:CA35  0A         			asl	a
 1062    1F:CA36  99 E2 22   			sta	mouse_x, y		; Save port's X-hi nibble.
 1063                        	
 1064    1F:CA39  AD 00 10   			lda	IO_PORT			; Get mouse buttons.
 1065    1F:CA3C  29 0F      			and	#$0F
 1066    1F:CA3E  49 0F      			eor	#$0F
 1067    1F:CA40  99 28 22   			sta	joynow, y
 1068    1F:CA43  80 C8      			bra	.next_port
 1069                        	
 1070    1F:CA45  AD 00 10   	.mouse_x_lo:	lda	IO_PORT			; Read direction-pad bits.
 1071    1F:CA48  9C 00 10   			stz	IO_PORT			; CLR lo, SEL lo for buttons.
 1072    1F:CA4B  29 0F      			and	#$0F			; Wait 1.25us (9 cycles).
 1073    1F:CA4D  19 E2 22   			ora	mouse_x, y		; Add port's X-hi nibble.
 1074                        	;		eor	#$FF			; Negate so LEFT is -ve.
 1075                        	;		inc	a
 1076    1F:CA50  99 E2 22   			sta	mouse_x, y
 1077    1F:CA53  80 B8      			bra	.next_port
 1078                        	
 1079    1F:CA55  45 CA      	.mouse_vectors: dw	.mouse_x_lo		; Pass 2
 1080    1F:CA57  27 CA      			dw	.mouse_x_hi		; Pass 1
 1081                        	
 1082               0001     		.if	(* >= $4000)			; This is a ".proc" if it is
 1083                        			.endp                           ; not running in RAM.
 1084               22D0     			.bss				; Put the variables in RAM.
 1085                        		.endif
 1086                        	
 1087    F8:22D0             	port_mutex:	ds	1			; NZ when controller port busy.
 1088    F8:22D1             	num_ports:	ds	1			; Set to 1 if no multitap.
 1089    F8:22D2             	mouse_flg:	ds	1			; Which ports are mice?
 1090               0000     		.if	HUC_JOY_EVENTS
 1093                        		.endif
 1094    F8:22D3             	joy6now:	ds	MAX_PADS
 1095    F8:22D8             	joy6old:	ds	MAX_PADS
 1096    F8:22DD             	joy6trg:	ds	MAX_PADS
 1097    F8:22E2             	mouse_x:	ds	MAX_PADS
 1098                        	
 1099               E188     			.code
 1100                        	
 1101                        		.endif	SUPPORT_6BUTTON			; Without mouse!
 1102                        	
 1103                        		.endif	SUPPORT_MOUSE
                             #[5]   "..\..\..\include\hucc\core-kernel.asm"
  453                        	
  454                        	
  455                        	
  456               0001     		.if	!CDROM
  457                        	
  458                        	; ***************************************************************************
  459                        	; ***************************************************************************
  460                        	;
  461                        	; core_sw_reset - Default HuCARD handler for a joypad "soft-reset".
  462                        	;
  463                        	
  464    00:E188  78         	core_sw_reset:	sei				; Disable interrupts.
  465                        	
  466    00:E189  6C FE FF   			jmp	[$FFFE]			; Jump to the HuCARD reset.
  467                        	
  468                        	
  469                        	
  470                        		.else	!CDROM
  616                        		.endif	!CDROM
  617                        	
  618                        	
  619                        	
  620                        	; ***************************************************************************
  621                        	; ***************************************************************************
  622                        	
  623               0001     		.if	(core_kernel >= $4000)		; If not running in RAM, then
  624               22E7     			.bss				; put these variables in RAM.
  625                        		.endif
  626                        	
  627    F8:22E7             	sound_mutex:	ds	1			; NZ when controller port busy.
  628                        	
  629               0001     		.if	SUPPORT_SGX
  630    F8:22E8             	sgx_detected:	ds	1			; NZ if SuperGrafx detected.
  631    F8:22E9             	hsync_hook_sgx:	ds	2			; SGX version of hsync_hook.
  632                        		.endif
  633                        	
  634               0000     		.if	SUPPORT_ACD
  636                        		.endif
  637                        	
  638               0001     		.if	(core_kernel >= $4000)
  639               E18C     			.code
  640                        		.endif
                             #[4]   "..\..\..\include\hucc\core-startup.asm"
  427                        	
  428                        	
  429                        	
  430                        		.else	!CDROM
  524                        		.endif	!CDROM
  525                        	
  526                        	
  527                        	
  528                        	; ***************************************************************************
  529                        	; ***************************************************************************
  530                        	;
  531                        	; With the availability of so many different configuration options, we've now
  532                        	; built somewhere between a few hundred bytes, and a couple of KB, of code in
  533                        	; the CORE_BANK of the HuCARD / overlay program.
  534                        	;
  535                        	; This is the end of the "CORE(not TM)" library code!
  536                        	;
  537                        	; Remember that the ".proc" trampolines are located at the end of this bank,
  538                        	; so the amount of free space left depends upon the number of ".proc" calls.
  539                        	;
  540                        	
  541                        			; Switch to CORE_PAGE to run the developer's game code.
  542               E18C     			.page	CORE_PAGE
  543                        	
  544                        	
  545                        	
  546                        	; ***************************************************************************
  547                        	; ***************************************************************************
  548                        	;
  549                        	; The DATA_BANK location needs to be set as early as possible so that library
  550                        	; code is able to put data in there before the total overall size of the code
  551                        	; is known.
  552                        	;
  553                        	; By default, DATA_BANK is the next bank after the CORE_BANK.
  554                        	;
  555                        	; RESERVE_BANKS allows developers to reserve some banks between the CORE_BANK
  556                        	; and the DATA_BANK that they can use however they wish.
  557                        	;
  558                        	; One use for RESERVE_BANKS is to create empty space that PCEAS can use when
  559                        	; it relocates procedures. This provides a way for a developer to group code
  560                        	; together at the start of memory, and leave the maximum number of banks for
  561                        	; loading dynamic data from CD-ROM.
  562                        	;
  563                        	; The KickC environment sets RESERVE_BANKS=1 (or higher) so that there is a
  564                        	; a bank for the permanent C code and static constants.
  565                        	;
  566                        	; RESERVE_BANKS is normally defined in each project's "core-config.inc".
  567                        	;
  568                        	
  569                        			.opt	d+			; DATA labels use fixed MPR.
  570                        	
  571               0001     			.rsset	CORE_BANK + 1
  572                        	
  573               0000     		.ifdef	NEED_HOME_BANK
  580                        		.endif
  581                        	
  582               0001     		.ifdef	NEED_SOUND_BANK			; Defined in hucc-sound.inc
  583               0000     		.if	NEED_SOUND_BANK			; if the driver wants a bank.
  585                        		.endif
  586                        		.endif
  587                        	
  588               0001     		.ifdef	RESERVE_BANKS			; For CORE projects.
  589               0001     	RESERVED_BANK	.rs	RESERVE_BANKS
  590                        		.endif
  591                        	
  592               0001     		.ifdef	HUCC
  593               0001     		.ifdef	HUC_RESERVE_BANKS		; For HuCC projects.
  594               0001     	HUC_USER_BANK	.rs	HUC_RESERVE_BANKS
  595                        		.endif
  596                        	
  597               0001     	CONST_BANK	.rs	2
  598               6000     			.rodata
  599               0001     			.bank	CONST_BANK, ".rodata"
  600                        		.endif	HUCC
  601                        	
  602               0003     	DATA_BANK	.rs	0
  603               6000     			.data
  604               0000     		.if	BUILDING_STAGE1
  606                        		.else
  607               0003     			.bank	DATA_BANK, ".data"
  608                        		.endif
  609               6000     			.org	$6000
  610                        	
  611               E18C     			.code
                             #[3]   "..\..\..\include\hucc\core.inc"
                             #[2]   "..\..\..\include\hucc\hucc.asm"
  120                        		.else
  126                        		.endif
  127                        	
  128                        			; Allocate this as early as possible to ensure bank-aligned
  129                        			; so that there is no wasted space for aligning the table.
  130                        	
  131               0000     		.if	FAST_MULTIPLY
  138                        		.endif
  139                        	
  140                        			; Mark the start of the .XDATA, .XINIT and .XSTRZ sections
  141                        	
  142               2C23     			.xdata
  143    F8:2C23             	_xdata_start:
  144               6333     			.xinit
  145    01:6333             	_xinit_start:
  146               6333     			.xstrz
  147    01:6333             	_xstrz_start:
  148               E18C     			.code
  149                        	
  150                        			;
  151                        	
  154                        	
  155                        			; The hardware stack is used for expressions.
  156                        	
  157               00FF     	__tos		=	$F8:2101, 255
  158                        	
  159               2008     			.zp
  160               2008     			.align	2
  161    F8:2008             	__stack:	ds	HUCC_STACK_SZ
  162                        	
  163    F8:2088             	__ptr:		ds	2
  164    F8:208A             	__fptr:		ds	2
  165    F8:208C             	__fbank:	ds	1
  166    F8:208D             	__sp:		ds	1
  167                        	
  168                        			; REGTEMP 6-byte stack for temporaries used by SDCC.
  169                        			; Keep the size in sync with NUM_TEMP_REGS in sdcc/src/mos6502/gen.h!
  170                        	
  171    F8:208E             	REGTEMP:	ds	6
  172                        	
  173                        			; HuCC's non-recursive consecutive varargs for printf().
  174                        	
  175               2008     	__vararg1	=	__stack + 0
  176               200A     	__vararg2	=	__stack + 2
  177               200C     	__vararg3	=	__stack + 4
  178               200E     	__vararg4	=	__stack + 6
  179                        	
  180                        			; Pointer used by poke() because __ptr could be overwritten.
  181                        	
  182               20EE     	__poke		=	__si
  183                        	
  184                        			; Used for indirect calls because __ptr could be overwritten.
  185                        	
  186               20EE     	__func		=	__si
  187                        	
  188                        			; Data pointer used by SDCC for indirect indexed memory access.
  189                        	
  190               2088     	DPTR		=	__ptr
  191                        	
  192                        			; Values returned from SDCC functions that don't fit into XA.
  193                        			; These are also used as workspace for SDCC library functions,
  194                        			; including HuCC's multiplication and division functions.
  195                        	
  196    F8:2094             	___SDCC_m6502_ret0:	ds	1
  197    F8:2095             	___SDCC_m6502_ret1:	ds	1
  198    F8:2096             	___SDCC_m6502_ret2:	ds	1
  199    F8:2097             	___SDCC_m6502_ret3:	ds	1
  200                        	
  201               0000     		.if	0
  206                        		.endif
  207                        	
  208                        			; Permanent pointers for fast table-of-squares multiplication.
  209                        	
  210               0000     		.if	FAST_MULTIPLY
  215                        		.endif
  216                        	
  217                        			; HuCC keeps a realtime clock, updated in hucc_vbl.
  218                        			;
  219                        			; Defining this here means that it will go before any HuCC
  220                        			; variables in "globals.h", and so it won't get cleared in
  221                        			; a CDROM game when loading different overlays.
  222                        	
  223               22EB     			.bss
  224    F8:22EB             	old_cnt:	ds	1			; irq_cnt of previous vsync().
  225    F8:22EC             	__clock_tt:	ds	1			; System Clock, ticks	(0-59).
  226    F8:22ED             	__clock_ss:	ds	1			; System Clock, seconds (0-59).
  227    F8:22EE             	__clock_mm:	ds	1			; System Clock, minutes (0-59).
  228    F8:22EF             	__clock_hh:	ds	1			; System Clock, hours	(0-11).
  229               E18C     			.code
  230                        	
  231                        			; Reset the stack size needed for leaf functions.
  232                        			;
  233                        			; This is a variable that compiled HuCC code updates at the end
  234                        			; of each source file to store the largest leaf stack size.
  235                        	
  236               0000     	leaf_needs	.set	0
  237                        	
  238                        			; Critical HuCC libraries that the compiler depends upon.
  239                        			;
  240                        			; These include various macros that must be defined before
  241                        			; they are encountered in any compiler-generated code.
  242                        	
                             #[3]   "..\..\..\include\hucc\hucc-codegen.asm"
  243                        			include "hucc-codegen.asm"	; HuCC i-code macros and funcs.
    1                        	; ***************************************************************************
    2                        	; ***************************************************************************
    3                        	;
    4                        	; hucc-codegen.asm
    5                        	;
    6                        	; The HuCC compiler translates C code into these macros, it does not directly
    7                        	; generate HuC6280 instructions.
    8                        	;
    9                        	; Based on the original HuC macros created by David Michel and the other HuC
   10                        	; developers, later modified and improved by Ulrich Hecht.
   11                        	;
   12                        	; Modifications copyright John Brandwood 2024.
   13                        	;
   14                        	; Distributed under the Boost Software License, Version 1.0.
   15                        	; (See accompanying file LICENSE_1_0.txt or copy at
   16                        	;  http://www.boost.org/LICENSE_1_0.txt)
   17                        	;
   18                        	; ***************************************************************************
   19                        	; ***************************************************************************
   20                        	;
   21                        	; NAMING SCHEME FOR HuCC MACROS ...
   22                        	;
   23                        	;   __function.parameters
   24                        	;
   25                        	; {parameters} is a list of alphanumeric specifiers, starting with {size} and
   26                        	; followed by {where}, followed by {index} if an array, then optional {value}
   27                        	; and finally ending with optional {suffix}
   28                        	;
   29                        	; {size}
   30                        	;   w : 16-bit signed int (default "int" in HuCC)
   31                        	;   c : 16-bit unsigned int (a "cardinal" in Pascal terms)
   32                        	;   b :  8-bit signed char
   33                        	;   u :  8-bit unsigned char (default "char" in HuCC)
   34                        	;
   35                        	; {where} or {index}
   36                        	;   r : HuCC primary register, made up of the Y:A cpu registers
   37                        	;   t : top of expression stack
   38                        	;   p : indirect pointer, usually [__ptr]
   39                        	;   f : structure field (member) offset value
   40                        	;   i : immediate value, i.e. a decimal number
   41                        	;   m : memory, i.e. C global, static, and "-fno-recursive" variables
   42                        	;   s : stack, i.e. C function parameters and locals (not "-fno-recursive")
   43                        	;   a : array, i.e. C global, static, "-fno-recursive" arrays <= 256 bytes
   44                        	;   x : array index already in the X register
   45                        	;   y : array index already in the Y register
   46                        	;
   47                        	; {value} OPTIONAL
   48                        	;   i : immediate value, i.e. a decimal number
   49                        	;   z : zero value
   50                        	;
   51                        	; {suffix} OPTIONAL
   52                        	;   q : quick, used for optimized math on only 8-bit values, because all math
   53                        	;       is normally promoted to "int" size in C; and when optimized stores do
   54                        	;       not need to preserve the primary register contents
   55                        	;
   56                        	; ***************************************************************************
   57                        	; ***************************************************************************
   58                        	
   59                        	
   60                        	
 8399                        	
 8400                        	; ***************************************************************************
 8401                        	; ***************************************************************************
 8402                        	; subroutines for logical and arithmetic shifts by a constant amount
 8403                        	; ***************************************************************************
 8404                        	; ***************************************************************************
 8405                        	
 8406                        	; **************
 8407                        	; Y:A = Y:A << const
 8408                        	
 8409    00:E1BE  0A         	aslw15:		asl	a
 8410    00:E1BF  0A         	aslw14:		asl	a
 8411    00:E1C0  0A         	aslw13:		asl	a
 8412    00:E1C1  0A         	aslw12:		asl	a
 8413    00:E1C2  0A         	aslw11:		asl	a
 8414    00:E1C3  0A         	aslw10:		asl	a
 8415    00:E1C4  0A         	aslw9:		asl	a
 8416    00:E1C5  A8         	aslw8:		tay
 8417    00:E1C6  62         			cla
 8418    00:E1C7  60         			rts
 8419                        	
 8420               0001     		.if	1
 8421    00:E1C8  66 00      	aslw5:		ror	<__temp
 8422    00:E1CA  6A         			ror	a
 8423    00:E1CB  66 00      	aslw6:		ror	<__temp
 8424    00:E1CD  6A         			ror	a
 8425    00:E1CE  66 00      	aslw7:		ror	<__temp
 8426    00:E1D0  6A         			ror	a
 8427    00:E1D1  A4 00      			ldy	<__temp
 8428    00:E1D3  60         			rts
 8429                        		.else
 8436                        		.endif
 8437    00:E1D4  0A         	aslw4:		asl	a
 8438    00:E1D5  26 00      			rol	<__temp
 8439    00:E1D7  0A         	aslw3:		asl	a
 8440    00:E1D8  26 00      			rol	<__temp
 8441    00:E1DA  0A         	aslw2:		asl	a
 8442    00:E1DB  26 00      			rol	<__temp
 8443    00:E1DD  0A         	aslw1:		asl	a
 8444    00:E1DE  26 00      			rol	<__temp
 8445    00:E1E0  A4 00      	aslw0:		ldy	<__temp
 8446    00:E1E2  60         			rts
 8447                        	
 8448                        	; **************
 8449                        	; Y:A = Y:A >> const
 8450                        	
 8451    00:E1E3  C9 80      	asrw15:		cmp	#$80
 8452    00:E1E5  6A         			ror	a
 8453    00:E1E6  C9 80      	asrw14:		cmp	#$80
 8454    00:E1E8  6A         			ror	a
 8455    00:E1E9  C9 80      	asrw13:		cmp	#$80
 8456    00:E1EB  6A         			ror	a
 8457    00:E1EC  C9 80      	asrw12:		cmp	#$80
 8458    00:E1EE  6A         			ror	a
 8459    00:E1EF  C9 80      	asrw11:		cmp	#$80
 8460    00:E1F1  6A         			ror	a
 8461    00:E1F2  C9 80      	asrw10:		cmp	#$80
 8462    00:E1F4  6A         			ror	a
 8463    00:E1F5  C9 80      	asrw9:		cmp	#$80
 8464    00:E1F7  6A         			ror	a
 8465    00:E1F8  C9 80      	asrw8:		cmp	#$80
 8466    00:E1FA  C2         			cly
 8467    00:E1FB  90 01      			bcc	!+
 8468    00:E1FD  88         			dey
 8469    00:E1FE  60         	!:		rts
 8470                        	
 8471    00:E1FF  C0 80      	asrw7:		cpy	#$80
 8472    00:E201  66 00      			ror	<__temp
 8473    00:E203  6A         			ror	a
 8474    00:E204  C0 80      	asrw6:		cpy	#$80
 8475    00:E206  66 00      			ror	<__temp
 8476    00:E208  6A         			ror	a
 8477    00:E209  C0 80      	asrw5:		cpy	#$80
 8478    00:E20B  66 00      			ror	<__temp
 8479    00:E20D  6A         			ror	a
 8480    00:E20E  C0 80      	asrw4:		cpy	#$80
 8481    00:E210  66 00      			ror	<__temp
 8482    00:E212  6A         			ror	a
 8483    00:E213  C0 80      	asrw3:		cpy	#$80
 8484    00:E215  66 00      			ror	<__temp
 8485    00:E217  6A         			ror	a
 8486    00:E218  C0 80      	asrw2:		cpy	#$80
 8487    00:E21A  66 00      			ror	<__temp
 8488    00:E21C  6A         			ror	a
 8489    00:E21D  C0 80      	asrw1:		cpy	#$80
 8490    00:E21F  66 00      			ror	<__temp
 8491    00:E221  6A         			ror	a
 8492    00:E222  A4 00      	asrw0:		ldy	<__temp
 8493    00:E224  60         			rts
 8494                        	
 8495                        	; **************
 8496                        	; Y:A = Y:A >> const
 8497                        	
 8498    00:E225  4A         	lsrw15:		lsr	a
 8499    00:E226  4A         	lsrw14:		lsr	a
 8500    00:E227  4A         	lsrw13:		lsr	a
 8501    00:E228  4A         	lsrw12:		lsr	a
 8502    00:E229  4A         	lsrw11:		lsr	a
 8503    00:E22A  4A         	lsrw10:		lsr	a
 8504    00:E22B  4A         	lsrw9:		lsr	a
 8505    00:E22C  C2         	lsrw8:		cly
 8506    00:E22D  60         			rts
 8507                        	
 8508    00:E22E  46 00      	lsrw7:		lsr	<__temp
 8509    00:E230  6A         			ror	a
 8510    00:E231  46 00      	lsrw6:		lsr	<__temp
 8511    00:E233  6A         			ror	a
 8512    00:E234  46 00      	lsrw5:		lsr	<__temp
 8513    00:E236  6A         			ror	a
 8514    00:E237  46 00      	lsrw4:		lsr	<__temp
 8515    00:E239  6A         			ror	a
 8516    00:E23A  46 00      	lsrw3:		lsr	<__temp
 8517    00:E23C  6A         			ror	a
 8518    00:E23D  46 00      	lsrw2:		lsr	<__temp
 8519    00:E23F  6A         			ror	a
 8520    00:E240  46 00      	lsrw1:		lsr	<__temp
 8521    00:E242  6A         			ror	a
 8522    00:E243  A4 00      	lsrw0:		ldy	<__temp
 8523    00:E245  60         			rts
 8524                        	
 8525                        	
 8526                        	
 8527                        	; ***************************************************************************
 8528                        	; ***************************************************************************
 8529                        	; subroutines for logical and arithmetic shifts by a variable amount
 8530                        	; ***************************************************************************
 8531                        	; ***************************************************************************
 8532                        	
 8533                        	; **************
 8534                        	; Y:A = Y:A << X
 8535                        	
 8536    00:E246  84 00      	asl.wx:		sty	<__temp
 8537    00:E248  E0 10      			cpx	#16
 8538    00:E24A  B0 37      			bcs	!zero+
 8539    00:E24C  CA         			dex
 8540    00:E24D  30 06      			bmi	.done
 8541    00:E24F  0A         	.loop:		asl	a
 8542    00:E250  26 00      			rol	<__temp
 8543    00:E252  CA         			dex
 8544    00:E253  10 FA      			bpl	.loop
 8545    00:E255  A4 00      	.done:		ldy	<__temp
 8546    00:E257  60         			rts
 8547                        	
 8548                        	; **************
 8549                        	; Y:A = Y:A >> X
 8550                        	
 8551    00:E258  84 00      	asr.wx:		sty	<__temp
 8552    00:E25A  10 17      			bpl	!positive+
 8553    00:E25C  E0 10      	!negative:	cpx	#16
 8554    00:E25E  B0 0D      			bcs	.sign
 8555    00:E260  CA         			dex
 8556    00:E261  30 07      			bmi	.done
 8557    00:E263  38         	.loop:		sec
 8558    00:E264  66 00      			ror	<__temp
 8559    00:E266  6A         			ror	a
 8560    00:E267  CA         			dex
 8561    00:E268  10 F9      			bpl	.loop
 8562    00:E26A  A4 00      	.done:		ldy	<__temp
 8563    00:E26C  60         			rts
 8564                        	
 8565    00:E26D  A9 FF      	.sign:		lda	#$FF
 8566    00:E26F  A8         			tay
 8567    00:E270  60         			rts
 8568                        	
 8569                        	; **************
 8570                        	; Y:A = Y:A >> X
 8571                        	
 8572    00:E271  84 00      	lsr.wx:		sty	<__temp
 8573    00:E273  E0 10      	!positive:	cpx	#16
 8574    00:E275  B0 0C      			bcs	!zero+
 8575    00:E277  CA         			dex
 8576    00:E278  30 06      			bmi	.done
 8577    00:E27A  46 00      	.loop:		lsr	<__temp
 8578    00:E27C  6A         			ror	a
 8579    00:E27D  CA         			dex
 8580    00:E27E  10 FA      			bpl	.loop
 8581    00:E280  A4 00      	.done:		ldy	<__temp
 8582    00:E282  60         			rts
 8583                        	
 8584    00:E283  62         	!zero:		cla
 8585    00:E284  C2         			cly
 8586    00:E285  60         			rts
 8587                        	
 8588                        	
 8589                        	
 8590                        	; ***************************************************************************
 8591                        	; ***************************************************************************
 8592                        	; POTENTIAL OPTIMIZATIONS, NOT YET ADDED
 8593                        	; ***************************************************************************
 8594                        	; ***************************************************************************
                             #[2]   "..\..\..\include\hucc\hucc.asm"
                             #[3]   "..\..\..\include\hucc\hucc-baselib.asm"
  244                        			include	"hucc-baselib.asm"	; HuCC base library macros.
    1                        	; ***************************************************************************
    2                        	; ***************************************************************************
    3                        	;
    4                        	; hucc-baselib.asm
    5                        	;
    6                        	; Basic library functions provided (mostly) as macros.
    7                        	;
    8                        	; Copyright John Brandwood 2024-2025.
    9                        	;
   10                        	; Distributed under the Boost Software License, Version 1.0.
   11                        	; (See accompanying file LICENSE_1_0.txt or copy at
   12                        	;  http://www.boost.org/LICENSE_1_0.txt)
   13                        	;
   14                        	; ***************************************************************************
   15                        	; ***************************************************************************
   16                        	
   17                        	
   18                        	
   19                        	; ***************************************************************************
   20                        	; ***************************************************************************
   21                        	;
   22                        	; Make certain System Card variables accessible to HuCC.
   23                        	
   24    00:E286             	_irq_cnt	.alias	irq_cnt
   25    00:E286             	_joynow		.alias	joynow
   26    00:E286             	_joytrg		.alias	joytrg
   27    00:E286             	_joy6now	.alias	joy6now
   28    00:E286             	_joy6trg	.alias	joy6trg
   29    00:E286             	_bg_x1		.alias	bg_x1
   30    00:E286             	_bg_y1		.alias	bg_y1
   31    00:E286             	_bg_x2		.alias	bg_x2
   32    00:E286             	_bg_y2		.alias	bg_y2
   33                        	
   34                        	
   35                        	
   36                        	; ***************************************************************************
   37                        	; ***************************************************************************
   38                        	;
   39                        	; void __fastcall dump_screen( void );
   40                        	;
   41                        	; THIS IS AN ILLEGAL INSTRUCTION ONLY IMPLEMENTED BY THE TGEMU EMULATOR!
   42                        	
   43    00:E286  33         	_dump_screen:	db	0x33
   44                        	
   45                        	
   46                        	
   47                        	; ***************************************************************************
   48                        	; ***************************************************************************
   49                        	;
   50                        	; void __fastcall abort( void );
   51                        	;
   52                        	; THIS IS AN ILLEGAL INSTRUCTION ONLY IMPLEMENTED BY THE TGEMU EMULATOR!
   53                        	
   54    00:E287  E2         	_abort:		db	0xE2
   55                        	
   56                        	
   57                        	
   58                        	; ***************************************************************************
   59                        	; ***************************************************************************
   60                        	;
   61                        	; void __fastcall exit( int value<acc> );
   62                        	;
   63                        	; THIS IS AN ILLEGAL INSTRUCTION ONLY IMPLEMENTED BY THE TGEMU EMULATOR!
   64                        	
   65    00:E288  AA         	_exit.1:	tax				; Put the return code into X.
   66    00:E289  63         			db	0x63
   67                        	
   68    00:E28A  80 FE      	.hang:		bra	.hang			; Hang if used in normal code.
   69                        	
   70                        	
   71                        	
   72                        	; ***************************************************************************
   73                        	; ***************************************************************************
   74                        	;
   75                        	; unsigned char __fastcall __macro cd_execoverlay( unsigned char ovl_index<acc> );
   76                        	;
   77                        	; Execute program overlay from disc
   78                        	;
   79                        	; N.B. This does not return, even if there's an error.
   80                        	
   81                        			.macro	_cd_execoverlay.1
   82                        			tax
   83                        			jmp	exec_overlay
   84                        			.endm
   85                        	
   86                        	
   87                        	
   88                        	; ***************************************************************************
   89                        	; ***************************************************************************
   90                        	;
   91                        	; void __fastcall __nop set_far_base( unsigned char data_bank<_bp_bank>, unsigned char *data_addr<_bp> );
   92                        	; void __fastcall set_far_offset( unsigned int offset<_bp>, unsigned char data_bank<_bp_bank>, unsigned char *data_addr<acc> );
   93                        	
   94    00:E28C             	_set_far_offset.3:
   95    00:E28C  18         			clc
   96    00:E28D  65 EC      			adc.l	<_bp
   97    00:E28F  85 EC      			sta.l	<_bp
   98    00:E291  98         			tya
   99    00:E292  29 1F      			and	#$1F
  100    00:E294  65 ED      			adc.h	<_bp
  101    00:E296  A8         			tay
  102    00:E297  29 1F      			and	#$1F
  103    00:E299  09 60      			ora	#$60
  104    00:E29B  85 ED      			sta.h	<_bp
  105    00:E29D  98         			tya
  106    00:E29E  6A         			ror	a
  107    00:E29F  4A         			lsr	a
  108    00:E2A0  4A         			lsr	a
  109    00:E2A1  4A         			lsr	a
  110    00:E2A2  4A         			lsr	a
  111    00:E2A3  18         			clc
  112    00:E2A4  65 02      			adc	<_bp_bank
  113    00:E2A6  85 02      			sta	<_bp_bank
  114    00:E2A8  60         			rts
  115                        	
  116                        	
  117                        	; ***************************************************************************
  118                        	; ***************************************************************************
  119                        	;
  120                        	; void __fastcall __macro reset_mpr2( void );
  121                        	; void __fastcall __macro reset_mpr34( void );
  122                        	;
  123                        	; void * __fastcall __macro set_mpr2( void __far *addr<_bp_bank:_bp> );
  124                        	; void * __fastcall __macro set_mpr34( void __far *addr<_bp_bank:_bp> );
  125                        	;
  126                        	; void * __fastcall __macro far_set_mpr2( void );
  127                        	; void * __fastcall __macro far_set_mpr34( void );
  128                        	
  129                        	_reset_mpr2	.macro
  130                        		.if	SUPPORT_SGX
  131                        			lda	#$F9
  132                        		.else
  133                        			lda	#$87
  134                        		.endif
  135                        			tam2
  136                        			.endm
  137                        	
  138                        	_reset_mpr34	.macro
  139                        			lda	#CONST_BANK + _bank_base
  140                        			tam3
  141                        			inc	a
  142                        			tam4
  143                        			.endm
  144                        	
  145                        	_farset_mpr2.1	.macro
  146                        			lda	<_bp_bank
  147                        			tam2
  148                        			lda.l	<_bp
  149                        			ldy.h	<_bp
  150                        			.endm
  151                        	
  152                        	_farset_mpr34.1	.macro
  153                        			lda	<_bp_bank
  154                        			tam3
  155                        			inc	a
  156                        			tam4
  157                        			lda.l	<_bp
  158                        			ldy.h	<_bp
  159                        			.endm
  160                        	
  161                        	_far_set_mpr2	.macro
  162                        			lda	<_bp_bank
  163                        			tam2
  164                        			lda.l	<_bp
  165                        			ldy.h	<_bp
  166                        			.endm
  167                        	
  168                        	_far_set_mpr34	.macro
  169                        			lda	<_bp_bank
  170                        			tam3
  171                        			inc	a
  172                        			tam4
  173                        			lda.l	<_bp
  174                        			ldy.h	<_bp
  175                        			.endm
  176                        	
  177                        	
  178                        	
  179                        	; ***************************************************************************
  180                        	; ***************************************************************************
  181                        	;
  182                        	; unsigned char __fastcall __macro ac_exists( void );
  183                        	
  184                        	_ac_exists	.macro
  185                        			cla
  186                        			ldy	ACD_FLAG
  187                        			cpy	#ACD_ID
  188                        			bne	!+
  189                        			inc	a
  190                        	!:		cly
  191                        			.endm
  192                        	
  193                        	
  194                        	
  195                        	; ***************************************************************************
  196                        	; ***************************************************************************
  197                        	;
  198                        	; unsigned char __fastcall __macro _sgx_detect( void );
  199                        	
  200                        	_sgx_detect	.macro
  201                        			lda	sgx_detected
  202                        			cly
  203                        			.endm
  204                        	
  205                        	
  206                        	
  207                        	; ***************************************************************************
  208                        	; ***************************************************************************
  209                        	;
  210                        	; unsigned int __fastcall __macro peek( unsigned int addr<__ptr> );
  211                        	
  212                        	_peek.1		.macro
  213                        			lda	[__ptr]
  214                        			cly
  215                        			.endm
  216                        	
  217                        	
  218                        	
  219                        	; ***************************************************************************
  220                        	; ***************************************************************************
  221                        	;
  222                        	; unsigned int __fastcall __macro peekw( unsigned int addr<__ptr> );
  223                        	
  224                        	_peekw.1	.macro
  225                        			lda	[__ptr]
  226                        			pha
  227                        			ldy	#1
  228                        			lda	[__ptr], y
  229                        			tay
  230                        			pla
  231                        			.endm
  232                        	
  233                        	
  234                        	
  235                        	; ***************************************************************************
  236                        	; ***************************************************************************
  237                        	;
  238                        	; void __fastcall __macro poke( unsigned int addr<__poke>, unsigned char with<acc> );
  239                        	;
  240                        	; N.B. Because the <acc> value can be a complex C calculation, it isn't safe
  241                        	; to use __ptr as the destination, which can be overwritten in C macros.
  242                        	
  243                        	_poke.2		.macro
  244                        			sta	[__poke]
  245                        			.endm
  246                        	
  247                        	
  248                        	
  249                        	; ***************************************************************************
  250                        	; ***************************************************************************
  251                        	;
  252                        	; void __fastcall __macro pokew( unsigned int addr<__poke>, unsigned int with<acc> );
  253                        	;
  254                        	; N.B. Because the <acc> value can be a complex C calculation, it isn't safe
  255                        	; to use __ptr as the destination, which can be overwritten in C macros.
  256                        	
  257                        	_pokew.2	.macro
  258                        			sta	[__poke]
  259                        			tya
  260                        			ldy	#1
  261                        			sta	[__poke], y
  262                        			.endm
  263                        	
  264                        	
  265                        	
  266                        	; ***************************************************************************
  267                        	; ***************************************************************************
  268                        	;
  269                        	; unsigned char __fastcall __macro clock_hh( void );
  270                        	; unsigned char __fastcall __macro clock_mm( void );
  271                        	; unsigned char __fastcall __macro clock_ss( void );
  272                        	; unsigned char __fastcall __macro clock_tt( void );
  273                        	;
  274                        	; N.B. HuC stores the clock as binary, HuCC stores it as BCD.
  275                        	
  276                        	_clock_hh	.macro
  277                        			lda	__clock_hh
  278                        			jsr	bcd_byte_to_bin
  279                        			.endm
  280                        	
  281                        	_clock_mm	.macro
  282                        			lda	__clock_mm
  283                        			jsr	bcd_byte_to_bin
  284                        			.endm
  285                        	
  286                        	_clock_ss	.macro
  287                        			lda	__clock_ss
  288                        			jsr	bcd_byte_to_bin
  289                        			.endm
  290                        	
  291                        	_clock_tt	.macro
  292                        			lda	__clock_tt
  293                        			jsr	bcd_byte_to_bin
  294                        			.endm
  295                        	
  296                        			; HuC returns binary values for these clock functions.
  297                        	
  298    00:E2A9  A8         	bcd_byte_to_bin:tay
  299    00:E2AA  4A         			lsr	a
  300    00:E2AB  4A         			lsr	a
  301    00:E2AC  4A         			lsr	a
  302    00:E2AD  4A         			lsr	a
  303    00:E2AE  42         			say
  304    00:E2AF  18         			clc
  305    00:E2B0  29 0F      			and	#$0F
  306    00:E2B2  79 B7 E2   			adc	.table, y
  307    00:E2B5  C2         			cly
  308    00:E2B6  60         			rts
  309                        	
  310    00:E2B7  00         	.table:		db	0
  311    00:E2B8  0A         			db	10
  312    00:E2B9  14         			db	20
  313    00:E2BA  1E         			db	30
  314    00:E2BB  28         			db	40
  315    00:E2BC  32         			db	50
  316                        	
  317                        	
  318                        	
  319                        	; ***************************************************************************
  320                        	; ***************************************************************************
  321                        	;
  322                        	; void __fastcall __macro clock_reset( void );
  323                        	
  324                        	_clock_reset	.macro
  325                        			stz	__clock_tt
  326                        			stz	__clock_ss
  327                        			stz	__clock_mm
  328                        			stz	__clock_hh
  329                        			.endm
  330                        	
  331                        	
  332                        	
  333                        	
  334                        	; ***************************************************************************
  335                        	; ***************************************************************************
  336                        	;
  337                        	; unsigned int __fastcall __macro joy( unsigned char which<acc> );
  338                        	
  339                        	_joy.1		.macro
  340                        			tax
  341                        			lda	joynow, x
  342                        		.if	SUPPORT_6BUTTON
  343                        			ldy	joy6now, x
  344                        		.else
  345                        			cly
  346                        		.endif
  347                        			.endm
  348                        	
  349                        	
  350                        	
  351                        	; ***************************************************************************
  352                        	; ***************************************************************************
  353                        	;
  354                        	; unsigned int __fastcall __macro joytrg( unsigned char which<acc> );
  355                        	
  356                        	_joytrg.1	.macro
  357                        			tax
  358                        			lda	joytrg, x
  359                        		.if	SUPPORT_6BUTTON
  360                        			ldy	joy6trg, x
  361                        		.else
  362                        			cly
  363                        		.endif
  364                        			.endm
  365                        	
  366                        	
  367                        	
  368                        	; ***************************************************************************
  369                        	; ***************************************************************************
  370                        	;
  371                        	; unsigned int __fastcall __macro joybuf( unsigned char which<acc> );
  372                        	
  373                        	_joybuf.1	.macro
  374                        		.if	HUC_JOY_EVENTS
  375                        			tax
  376                        			lda	joybuf, x
  377                        		.if	SUPPORT_6BUTTON
  378                        			ldy	joy6buf, x
  379                        		.else
  380                        			cly
  381                        		.endif
  382                        		.else
  383                        			.fail	You must enable HUC_JOY_EVENTS in your hucc-config.inc!
  384                        		.endif
  385                        			.endm
  386                        	
  387                        	
  388                        	
  389                        	; ***************************************************************************
  390                        	; ***************************************************************************
  391                        	;
  392                        	; unsigned int __fastcall __macro get_joy_events( unsigned char which<acc> );
  393                        	;
  394                        	; N.B. This is just a version of joybuf() that clears the accumulated events.
  395                        	
  396                        			.macro	_get_joy_events.1
  397                        		.if	HUC_JOY_EVENTS
  398                        			tax
  399                        			lda	joybuf, x
  400                        			stz	joybuf, x
  401                        		.if	SUPPORT_6BUTTON
  402                        			ldy	joy6buf, x
  403                        			stz	joy6buf, x
  404                        		.else
  405                        			cly
  406                        		.endif
  407                        		.else
  408                        		.if	ACCUMULATE_JOY
  409                        			tax
  410                        			lda	joytrg, x
  411                        			stz	joytrg, x
  412                        		.if	SUPPORT_6BUTTON
  413                        			ldy	joy6trg, x
  414                        			stz	joy6trg, x
  415                        		.else
  416                        			cly
  417                        		.endif
  418                        		.else
  419                        			.fail	You must enable HUC_JOY_EVENTS or ACCUMULATE_JOY in your hucc-config.inc!
  420                        		.endif
  421                        		.endif
  422                        			.endm
  423                        	
  424                        	
  425                        	
  426                        	; ***************************************************************************
  427                        	; ***************************************************************************
  428                        	;
  429                        	; void __fastcall __macro clear_joy_events( unsigned char mask<acc> );
  430                        	
  431                        			.macro	_clear_joy_events.1
  432                        			php
  433                        			sei
  434                        			and	#(1 << MAX_PADS) - 1
  435                        			ldx	#$FF
  436                        	.loop:		inx
  437                        			lsr	a
  438                        			bcc	.next
  439                        		.if	HUC_JOY_EVENTS
  440                        			stz	joybuf, x
  441                        		.if	SUPPORT_6BUTTON
  442                        			stz	joy6buf, x
  443                        		.endif
  444                        		.else
  445                        		.if	ACCUMULATE_JOY
  446                        			stz	joytrg, x
  447                        		.if	SUPPORT_6BUTTON
  448                        			stz	joy6trg, x
  449                        		.endif
  450                        		.else
  451                        			.fail	You must enable HUC_JOY_EVENTS or ACCUMULATE_JOY in your hucc-config.inc!
  452                        		.endif
  453                        		.endif
  454                        	.next:		bne	.loop
  455                        			plp
  456                        			.endm
  457                        	
  458                        	
  459                        	
  460                        	; ***************************************************************************
  461                        	; ***************************************************************************
  462                        	;
  463                        	; void __fastcall srand( unsigned char seed<acc> );
  464                        	
  465               0001     		.ifndef	HUCC_NO_DEFAULT_RANDOM
  466                        	_srand.1	.macro
  467                        			tay
  468                        			jsr	init_random
  469                        			.endm
  470                        		.endif
  471                        	
  472                        	
  473                        	
  474                        	; ***************************************************************************
  475                        	; ***************************************************************************
  476                        	;
  477                        	; unsigned int __fastcall rand( void );
  478                        	; unsigned char __fastcall rand8( void );
  479                        	
  480               0001     		.ifndef	HUCC_NO_DEFAULT_RANDOM
  481    00:E2BD  20 9E E6   	_rand:		jsr	get_random		; Random in A, preserve Y.
  482    00:E2C0  A8         			tay
  483    00:E2C1  4C 9E E6   			jmp	get_random		; Random in A, preserve Y.
  484                        		.endif
  485                        	
  486                        	
  487                        	
  488                        	; ***************************************************************************
  489                        	; ***************************************************************************
  490                        	;
  491                        	; unsigned char __fastcall random8( unsigned char limit<acc> );
  492                        	;
  493                        	; IN :	A = range (0..255)
  494                        	; OUT : A = random number interval 0 <= x < A
  495                        	
  496               0001     		.ifndef	HUCC_NO_DEFAULT_RANDOM
  497                        	
  498    00:E2C4  A8         	_random8.1:	tay				; Preserve the limit.
  499    00:E2C5  20 9E E6   			jsr	get_random		; Random in A, preserve Y.
  500                        	
  501    00:E2C8  20 04 E5   			jsr	__muluchar
  502    00:E2CB  98         			tya				; Do a 8.0 x 0.8 fixed point
  503    00:E2CC  C2         			cly				; fractional multiply.
  504    00:E2CD  60         			rts
  505                        		.endif
  506                        	
  507                        	
  508                        	
  509                        	; ***************************************************************************
  510                        	; ***************************************************************************
  511                        	;
  512                        	; unsigned char __fastcall random( unsigned char limit<acc> );
  513                        	;
  514                        	; IN :	A = range (0..128), 129..255 is treated as 128
  515                        	; OUT : A = random number interval 0 <= x < A
  516                        	
  517               0001     		.ifndef	HUCC_NO_DEFAULT_RANDOM
  518                        	
  519    00:E2CE  A8         	_random.1:	tay				; Preserve the limit.
  520    00:E2CF  20 9E E6   			jsr	get_random		; Random in A, preserve Y.
  521                        	
  522    00:E2D2  C0 80      			cpy	#128			; Check the limit.
  523    00:E2D4  90 04      			bcc	!+
  524                        	
  525    00:E2D6  29 7F      			and	#$7F			; Just mask the random if
  526    00:E2D8  C2         			cly				; the limit is >= 128.
  527    00:E2D9  60         			rts
  528                        	
  529    00:E2DA  20 04 E5   	!:		jsr	__muluchar
  530    00:E2DD  98         			tya				; If the limit is < 128 then
  531    00:E2DE  C2         			cly				; do a 8.0 x 0.8 fixed point
  532    00:E2DF  60         			rts				; fractional multiply.
  533                        		.endif
  534                        	
  535                        	
  536                        	
  537                        	; ***************************************************************************
  538                        	; ***************************************************************************
  539                        	;
  540                        	; unsigned char __fastcall __builtin_ffs( unsigned int value<__temp> );
  541                        	
  542                        			.proc	___builtin_ffs.1
  562                        			.endp
  563                        	
  564                        	
  565                        	
  566                        	; ***************************************************************************
  567                        	; ***************************************************************************
  568                        	;
  569                        	; N.B. Declared in hucc-string.h, but defined here because they're macros!
  570                        	;
  571                        	; int __fastcall __macro memcmp( unsigned char *destination<_di>, unsigned char *source<_bp>, unsigned int count<acc> );
  572                        	
  573                        	_memcmp.3	.macro
  574                        			stz	<_bp_bank		; Map the source string.
  575                        			call	_farmemcmp.3
  576                        			.endm
  577                        	
  578                        	
  579                        	
  580                        	; ***************************************************************************
  581                        	; ***************************************************************************
  582                        	;
  583                        	; N.B. Declared in hucc-gfx.h, but defined here because they're macros!
  584                        	;
  585                        	; void __fastcall __macro get_color( unsigned int index<VCE_CTA> );
  586                        	
  587                        	_get_color.1	.macro
  588                        			lda.l	VCE_CTR
  589                        			ldy.h	VCE_CTR
  590                        			.endm
  591                        	
  592                        	
  593                        	
  594                        	; ***************************************************************************
  595                        	; ***************************************************************************
  596                        	;
  597                        	; N.B. Declared in hucc-gfx.h, but defined here because they're macros!
  598                        	;
  599                        	; void __fastcall __macro fade_to_black( unsigned int __far *from<_bp_bank:_bp>, unsigned int *destination<_di>, unsigned char num_colors<_al>, unsigned char value_to_sub<_ah> );
  600                        	; void __fastcall __macro fade_to_white( unsigned int __far *from<_bp_bank:_bp>, unsigned int *destination<_di>, unsigned char num_colors<_al>, unsigned char value_to_add<_ah> );
  601                        	; void __fastcall __macro cross_fade_to( unsigned int __far *from<_bp_bank:_bp>, unsigned int *destination<_di>, unsigned char num_colors<_al>, unsigned char which_component<_ah );
  602                        	;
  603                        	; void __fastcall __macro far_fade_to_black( unsigned int *destination<_di>, unsigned char num_colors<_al>, unsigned char value_to_sub<_ah> );
  604                        	; void __fastcall __macro far_fade_to_white( unsigned int *destination<_di>, unsigned char num_colors<_al>, unsigned char value_to_add<_ah> );
  605                        	; void __fastcall __macro far_cross_fade_to( unsigned int *destination<_di>, unsigned char num_colors<_al>, unsigned char which_component<_ah );
  606                        	
  607                        			.macro	_fade_to_black.4
  608                        			ldy	<_bp_bank
  609                        			call	fade_to_black
  610                        			.endm
  611                        	
  612                        			.macro	_fade_to_white.4
  613                        			ldy	<_bp_bank
  614                        			call	fade_to_white
  615                        			.endm
  616                        	
  617                        			.macro	_cross_fade_to.4
  618                        			ldy	<_bp_bank
  619                        			call	cross_fade_to
  620                        			.endm
  621                        	
  622                        			.macro	_far_fade_to_black.3
  623                        			ldy	<_bp_bank
  624                        			call	fade_to_black
  625                        			.endm
  626                        	
  627                        			.macro	_far_fade_to_white.3
  628                        			ldy	<_bp_bank
  629                        			call	fade_to_white
  630                        			.endm
  631                        	
  632                        			.macro	_far_cross_fade_to.3
  633                        			ldy	<_bp_bank
  634                        			call	cross_fade_to
  635                        			.endm
  636                        	
  637                        	
  638                        	
  639                        	; ***************************************************************************
  640                        	; ***************************************************************************
  641                        	;
  642                        	; N.B. Declared in hucc-gfx.h, but defined here because they're macros!
  643                        	;
  644                        	; void __fastcall __macro set_xres( unsigned int x_pixels<_ax> );
  645                        	; void __fastcall __macro sgx_set_xres( unsigned int x_pixels<_ax> );
  646                        	;
  647                        	; void __fastcall set_xres( unsigned int x_pixels<_ax>, unsigned char blur_flag<_bl> );
  648                        	; void __fastcall sgx_set_xres( unsigned int x_pixels<_ax>, unsigned char blur_flag<_bl> );
  649                        	
  650                        	_set_xres.1	.macro
  651                        			lda	#XRES_SOFT
  652                        			sta	<_bl
  653                        			call	_set_xres.2
  654                        			.endm
  655                        	
  656               0001     		.if	SUPPORT_SGX
  657                        			.macro	_sgx_set_xres.1
  658                        			lda	#XRES_SOFT
  659                        			sta	<_bl
  660                        			call	_sgx_set_xres.2
  661                        			.endm
  662                        		.endif
  663                        	
  664                        	
  665                        	
  666                        	; ***************************************************************************
  667                        	; ***************************************************************************
  668                        	;
  669                        	; N.B. Declared in hucc-gfx.h, but defined here because they're macros!
  670                        	;
  671                        	; unsigned int __fastcall __macro vram_addr( unsigned char bat_x<_al>, unsigned char bat_y<_ah> );
  672                        	; unsigned int __fastcall __macro sgx_vram_addr( unsigned char bat_x<_al>, unsigned char bat_y<_ah> );
  673                        	
  674                        			.macro	_vram_addr.2
  675                        			cla
  676                        			bit	vdc_bat_width
  677                        			bmi	!w128+
  678                        			bvs	!w64+
  679                        	!w32:		lsr	<_ah
  680                        			ror	a
  681                        	!w64:		lsr	<_ah
  682                        			ror	a
  683                        	!w128:		lsr	<_ah
  684                        			ror	a
  685                        			ora	<_al
  686                        			ldy	<_ah
  687                        			.endm
  688                        	
  689               0001     		.if	SUPPORT_SGX
  690                        			.macro	_sgx_vram_addr.2
  691                        			cla
  692                        			bit	sgx_bat_width
  693                        			bmi	!w128+
  694                        			bvs	!w64+
  695                        	!w32:		lsr	<_ah
  696                        			ror	a
  697                        	!w64:		lsr	<_ah
  698                        			ror	a
  699                        	!w128:		lsr	<_ah
  700                        			ror	a
  701                        			ora	<_al
  702                        			ldy	<_ah
  703                        			.endm
  704                        		.endif
  705                        	
  706                        	
  707                        	
  708                        	; ***************************************************************************
  709                        	; ***************************************************************************
  710                        	;
  711                        	; N.B. Declared in hucc-gfx.h, but defined here because they're macros!
  712                        	;
  713                        	; unsigned int __fastcall __macro get_vram( unsigned int address<_di> );
  714                        	; void __fastcall __macro put_vram( unsigned int address<_di>, unsigned int data<acc> );
  715                        	;
  716                        	; unsigned int __fastcall __macro sgx_get_vram( unsigned int address<_di> );
  717                        	; void __fastcall __macro sgx_put_vram( unsigned int address<_di>, unsigned int data<acc> );
  718                        	
  719                        			.macro	_get_vram.1
  720                        			jsr	vdc_di_to_marr
  721                        			lda	VDC_DL
  722                        			ldy	VDC_DH
  723                        			.endm
  724                        	
  725                        			.macro	_put_vram.2
  726                        			pha
  727                        			jsr	vdc_di_to_mawr
  728                        			pla
  729                        			sta	VDC_DL
  730                        			sty	VDC_DH
  731                        			.endm
  732                        	
  733               0001     		.if	SUPPORT_SGX
  734                        			.macro	_sgx_get_vram.1
  735                        			jsr	sgx_di_to_marr
  736                        			lda	SGX_DL
  737                        			ldy	SGX_DH
  738                        			.endm
  739                        	
  740                        			.macro	_sgx_put_vram.2
  741                        			pha
  742                        			jsr	sgx_di_to_mawr
  743                        			pla
  744                        			sta	SGX_DL
  745                        			sty	SGX_DH
  746                        			.endm
  747                        		.endif
  748                        	
  749                        	
  750                        	
  751                        	; ***************************************************************************
  752                        	; ***************************************************************************
  753                        	;
  754                        	; N.B. Declared in hucc-gfx.h, but defined here because they're macros!
  755                        	;
  756                        	; void __fastcall __macro set_bgpal( unsigned char palette<_al>, unsigned char __far *data<_bp_bank:_bp> );
  757                        	; void __fastcall __macro set_bgpal( unsigned char palette<_al>, unsigned char __far *data<_bp_bank:_bp>, unsigned int num_palettes<_ah> );
  758                        	; void __fastcall __macro set_sprpal( unsigned char palette<_al>, unsigned char __far *data<_bp_bank:_bp> );
  759                        	; void __fastcall __macro set_sprpal( unsigned char palette<_al>, unsigned char __far *data<_bp_bank:_bp>, unsigned int num_palettes<_ah> );
  760                        	
  761                        	_set_bgpal.2	.macro
  762                        			lda	#1
  763                        			sta	<_ah
  764                        			call	_load_palette.3
  765                        			.endm
  766                        	
  767                        	_set_bgpal.3	.macro
  768                        			call	_load_palette.3
  769                        			.endm
  770                        	
  771                        	_set_sprpal.2	.macro
  772                        			lda	#1
  773                        			sta	<_ah
  774                        			smb4	<_al
  775                        			call	_load_palette.3
  776                        			.endm
  777                        	
  778                        	_set_sprpal.3	.macro
  779                        			smb4	<_al
  780                        			call	_load_palette.3
  781                        			.endm
  782                        	
  783                        	
  784                        	
  785                        	; ***************************************************************************
  786                        	; ***************************************************************************
  787                        	;
  788                        	; N.B. Declared in hucc-gfx.h, but defined here because they're macros!
  789                        	;
  790                        	; void __fastcall __macro load_vram( unsigned int vram<_di>, unsigned char __far *data<_bp_bank:_bp>, unsigned int num_words<_ax> );
  791                        	; void __fastcall __macro sgx_load_vram( unsigned int vram<_di>, unsigned char __far *data<_bp_bank:_bp>, unsigned int num_words<_ax> );
  792                        	;
  793                        	; void __fastcall __macro far_load_vram( unsigned int vram<_di>, unsigned int num_words<_ax> );
  794                        	; void __fastcall __macro sgx_far_load_vram( unsigned int vram<_di>, unsigned int num_words<_ax> );
  795                        	;
  796                        	
  797               0001     		.if	SUPPORT_SGX
  798                        			.macro	_sgx_load_vram.3
  799                        			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
  800                        			call	load_vram_x
  801                        			.endm
  802                        	
  803                        			.macro	_sgx_far_load_vram.2
  804                        			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
  805                        			call	load_vram_x
  806                        			.endm
  807                        		.endif
  808                        	
  809                        			.macro	_load_vram.3
  810                        			clx				; Offset to PCE VDC.
  811                        			call	load_vram_x
  812                        			.endm
  813                        	
  814                        			.macro	_far_load_vram.2
  815                        			clx				; Offset to PCE VDC.
  816                        			call	load_vram_x
  817                        			.endm
  818                        	
  819                        	
  820                        	
  821                        	; ***************************************************************************
  822                        	; ***************************************************************************
  823                        	;
  824                        	; N.B. Declared in hucc-gfx.h, but defined here because they're macros!
  825                        	;
  826                        	; void __fastcall __macro load_sprites( unsigned int vram<_di>, unsigned char __far *data<_bp_bank:_bp>, unsigned int num_groups<acc> );
  827                        	; void __fastcall __macro sgx_load_sprites( unsigned int vram<_di>, unsigned char __far *data<_bp_bank:_bp>, unsigned int num_groups<acc> );
  828                        	; void __fastcall __macro far_load_sprites( unsigned int vram<_di>, unsigned int num_groups<acc> );
  829                        	; void __fastcall __macro sgx_far_load_sprites( unsigned int vram<_di>, unsigned int num_groups<acc> );
  830                        	
  831               0001     		.if	SUPPORT_SGX
  832                        			.macro	_sgx_load_sprites.3
  833                        			stz.l	<_ax
  834                        			asl	a
  835                        			sta.h	<_ax
  836                        			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
  837                        			call	load_vram_x
  838                        			.endm
  839                        	
  840                        			.macro	_sgx_far_load_sprites.2
  841                        			stz.l	<_ax
  842                        			asl	a
  843                        			sta.h	<_ax
  844                        			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
  845                        			call	load_vram_x
  846                        			.endm
  847                        		.endif
  848                        	
  849                        			.macro	_load_sprites.3
  850                        			stz.l	<_ax
  851                        			asl	a
  852                        			sta.h	<_ax
  853                        			clx				; Offset to PCE VDC.
  854                        			call	load_vram_x
  855                        			.endm
  856                        	
  857                        			.macro	_far_load_sprites.2
  858                        			stz.l	<_ax
  859                        			asl	a
  860                        			sta.h	<_ax
  861                        			clx				; Offset to PCE VDC.
  862                        			call	load_vram_x
  863                        			.endm
  864                        	
  865                        	
  866                        	
  867                        	; ***************************************************************************
  868                        	; ***************************************************************************
  869                        	;
  870                        	; N.B. Declared in hucc-gfx.h, but defined here because they're macros!
  871                        	;
  872                        	; void __fastcall load_default_font( void );
  873                        	; void __fastcall sgx_load_default_font( void );
  874                        	;
  875                        	
  876               0001     		.if	SUPPORT_SGX
  877                        			.macro	_sgx_load_default_font
  878                        			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
  879                        			call	huc_monofont_x
  880                        			.endm
  881                        		.endif
  882                        	
  883                        			.macro	_load_default_font
  884                        			clx				; Offset to PCE VDC.
  885                        			call	huc_monofont_x
  886                        			.endm
  887                        	
  888                        	
  889                        	
  890                        	; ***************************************************************************
  891                        	; ***************************************************************************
  892                        	
  893               0000     		.if	0
  911                        		.endif
                             #[2]   "..\..\..\include\hucc\hucc.asm"
  245                        	
  246               0000     		.if	CDROM
  248                        		.endif
  249                        	
  250                        			; Definitions for compatibility with old HuC/MagicKit projects.
  251                        	
  252               0001     		.ifndef	HUCC_NO_DEPRECATED
                             #[3]   "..\..\..\include\hucc\hucc-deprecated.inc"
  253                        			include	"hucc-deprecated.inc"
    1                        	; ***************************************************************************
    2                        	; ***************************************************************************
    3                        	;
    4                        	; hucc-deprecated.inc
    5                        	;
    6                        	; Macros and definitions for compatibility with old HuC/MagicKit projects.
    7                        	;
    8                        	; Based on the original HuC and MagicKit definitions by David Michel and the
    9                        	; other original HuC developers.
   10                        	;
   11                        	; ***************************************************************************
   12                        	; ***************************************************************************
   13                        	
   14                        			; For compatibility with HuC projects that use the old name.
   15                        	
   16               0001     	HUC_USER_RESERVED = HUC_USER_BANK
   17                        	
   18                        			; For compatibility with code that expects the HuC naming that
   19                        			; is used in the newer HuC, rather than the original HuC v3.21.
   20                        			;
   21                        			; Code generated by HuCC uses the original single-underscore.
   22                        	
   23               0001     		.if	1				
   24               0002     	__bp		=	$F8:20EC, 2		; base pointer
   25               0002     	__si		=	$F8:20EE, 2		; source address
   26               0002     	__di		=	$F8:20F0, 2		; destination address
   27                        	
   28               0002     	__ax		=	$F8:20F8, 2
   29               0001     	__al		=	$F8:20F8, 1
   30               0001     	__ah		=	$F8:20F9, 1
   31                        	
   32               0002     	__bx		=	$F8:20FA, 2
   33               0001     	__bl		=	$F8:20FA, 1
   34               0001     	__bh		=	$F8:20FB, 1
   35                        	
   36               0002     	__cx		=	$F8:20FC, 2
   37               0001     	__cl		=	$F8:20FC, 1
   38               0001     	__ch		=	$F8:20FD, 1
   39                        	
   40               0002     	__dx		=	$F8:20FE, 2
   41               0001     	__dl		=	$F8:20FE, 1
   42               0001     	__dh		=	$F8:20FF, 1
   43                        		.endif
   44                        	
   45                        			; For compatibility with code that expects the HuC naming that
   46                        			; is used rather than the shorter upper-case #define naming.
   47                        	
   48               0001     		.if	1				
   49               0001     	video_reg	=	$FF:0200, 1		; Address/Status Register
   50               0001     	video_reg_l	=	$FF:0200, 1		; Address/Status Register
   51               0001     	video_reg_h	=	$FF:0201, 1		; Address/Status Register
   52               0002     	video_data	=	$FF:0202, 2		; Data (Read/Write) Low
   53               0001     	video_data_l	=	$FF:0202, 1		; Data (Read/Write) Low
   54               0001     	video_data_h	=	$FF:0203, 1		; Data (Read/Write) High
   55                        	
   56               0002     	color_ctrl	=	$FF:0400, 2		; Control Register
   57               0002     	color_reg	=	$FF:0402, 2		; Color Table Address
   58               0001     	color_reg_l	=	$FF:0402, 1		; Color Table Address
   59               0001     	color_reg_h	=	$FF:0402, 1		; Color Table Address
   60               0002     	color_data	=	$FF:0404, 2		; Color Table Data Read/Write
   61               0001     	color_data_l	=	$FF:0404, 1		; Color Table Data Read/Write
   62               0001     	color_data_h	=	$FF:0405, 1		; Color Table Data Read/Write
   63                        	
   64               0001     	psg_ch		=	$FF:0800, 1		; Channel Select
   65               0001     	psg_mainvol	=	$FF:0801, 1		; Main Amplitude Level
   66               0001     	psg_freqlo	=	$FF:0802, 1		; Frequency Low
   67               0001     	psg_freqhi	=	$FF:0803, 1		; Frequency High
   68               0001     	psg_ctrl	=	$FF:0804, 1		; Control & Channel Amplitude
   69               0001     	psg_pan		=	$FF:0805, 1		; L/R Amplitude Level
   70               0001     	psg_wavebuf	=	$FF:0806, 1		; Waveform
   71               0001     	psg_noise	=	$FF:0807, 1		; Noise
   72               0001     	psg_lfofreq	=	$FF:0808, 1		; LFO Frequency
   73               0001     	psg_lfoctrl	=	$FF:0809, 1		; LFO Control
   74                        	
   75               0001     	irq_m		=	irq_vec, 1		; Old System Card name.
   76               0002     	irq2_jmp	=	irq2_hook, 2		; Old System Card name.
   77               0002     	irq1_jmp	=	irq1_hook, 2		; Old System Card name.
   78               0002     	timer_jmp	=	timer_hook, 2		; Old System Card name.
   79               0002     	nmi_jmp		=	nmi_hook, 2		; Old System Card name.
   80               0002     	sat_adr		=	satb_addr, 2		; Old System Card name.
   81               0005     	joy		=	joynow, 5		; Old System Card name.
   82               0001     	mwr_m		=	vdc_mwr, 1		; Old System Card name.
   83               0001     	dcr_m		=	vdc_dcr, 1		; Old System Card name.
   84                        		.endif
   85                        	
   86                        			; Macros for compatibility with #asm usage in old HuC projects.
   87                        	
   88                        	stw		.macro
   89                        			lda.l	\1
   90                        			sta.l	\2
   91                        			lda.h	\1
   92                        			sta.h	\2
   93                        			.endm
   94                        	
   95                        	stb		.macro
   96                        			lda	\1
   97                        			sta	\2
   98                        			.endm
   99                        	
  100                        	addw		.macro
  101                        		.if	(\# = 3)
  102                        			clc
  103                        			lda.l	\2
  104                        			adc.l	\1
  105                        			sta.l	\3
  106                        			lda.h	\2
  107                        			adc.h	\1
  108                        			sta.h	\3
  109                        		.else
  110                        			clc
  111                        			lda.l	\2
  112                        			adc.l	\1
  113                        			sta.l	\2
  114                        			lda.h	\2
  115                        			adc.h	\1
  116                        			sta.h	\2
  117                        		.endif
  118                        			.endm
  119                        	
  120                        	add		.macro			; add byte-sized value to
  121                        		.if (\# = 2)			; register A (handle carry
  122                        			lda	\2		; flag)
  123                        			clc
  124                        			adc	\1
  125                        			sta	\2
  126                        		.else
  127                        			clc
  128                        			adc	\1
  129                        		.endif
  130                        			.endm
  131                        	
  132                        	subw		.macro
  133                        			sec
  134                        			lda.l	\2
  135                        			sbc.l	\1
  136                        			sta.l	\2
  137                        			lda.h	\2
  138                        			sbc.h	\1
  139                        			sta.h	\2
  140                        			.endm
  141                        	
  142                        	sub		.macro			; subtract byte-sized value
  143                        		.if (\# = 2)			; from register A (handle
  144                        			lda	\2		; carry flag)
  145                        			sec
  146                        			sbc	\1
  147                        			sta	\2
  148                        		.else
  149                        			sec
  150                        			sbc	\1
  151                        		.endif
  152                        			.endm
  153                        	
  154                        	incw		.macro			; increment a word-sized
  155                        			inc.l	\1		; value at stated memory
  156                        			bne	!+		; location
  157                        			inc.h	\1
  158                        	!:
  159                        			.endm
  160                        	
  161                        	decw		.macro			; decrement a word-sized
  162                        			lda	\1		; value at stated memory
  163                        			bne	!+		; location
  164                        			dec.h	\1
  165                        	!:		dec.l	\1
  166                        			.endm
  167                        	
  168                        	lbne		.macro
  169                        			bne	\1
  170                        			.endm
  171                        	
  172                        	lbeq		.macro
  173                        			beq	\1
  174                        			.endm
  175                        	
  176                        	lbpl		.macro
  177                        			bpl	\1
  178                        			.endm
  179                        	
  180                        	lbmi		.macro
  181                        			bmi	\1
  182                        			.endm
  183                        	
  184                        	lbcc		.macro
  185                        			bcc	\1
  186                        			.endm
  187                        	
  188                        	lbcs		.macro
  189                        			bcs	\1
  190                        			.endm
  191                        	
  192                        	lblo		.macro
  193                        			bcc	\1
  194                        			.endm
  195                        	
  196                        	lbhs		.macro
  197                        			bcs	\1
  198                        			.endm
  199                        	
  200                        	__ldwi		.macro
  201                        		__ld.wi		\1
  202                        			.endm
                             #[2]   "..\..\..\include\hucc\hucc.asm"
  254                        		.endif
  255                        	
  256                        			;
  257                        			;
  258                        			;
  259                        	
  260                        	
  261                        	
  262                        	; ***************************************************************************
  263                        	; ***************************************************************************
  264                        	;
  265                        	; core_main - This is executed after "CORE(not TM)" library initialization.
  266                        	;
  267                        	; This is the first code assembled after the library includes, so we're still
  268                        	; in the CORE_BANK, usually ".bank 0"; and because this is assembled with the
  269                        	; default configuration from "include/core-config.inc", which sets the option
  270                        	; "USING_MPR7", then we're running in MPR7 ($E000-$FFFF).
  271                        	
  272    1F:D110             	core_main	.proc
  273                        	
  274               0001     		.if	SUPPORT_SGX
  275    1F:D110  A9 F9      			lda	#$F9			; Map the 2nd SGX RAM bank.
  276                        		.else
  278                        		.endif
  279    1F:D112  53 04      			tam2
  280                        	
  281    1F:D114  A9 01      			lda	#CONST_BANK + _bank_base; Map HuCC's .RODATA bank.
  282    1F:D116  53 08      			tam3
  283    1F:D118  1A         			inc	a
  284    1F:D119  53 10      			tam4
  285                        	
  286               0000     		.ifdef	HOME_BANK
  288                        		.else
  289    1F:D11B  1A         			inc	a
  290                        		.endif
  291    1F:D11C  53 20      			tam5
  292                        	
  293    1F:D11E  08         			php				; Disable interrupts while
  294    1F:D11F  78         			sei				; clearing overlay's BSS.
  295                        	
  296               0000     		.ifndef	USING_RCR_MACROS
  311                        		.endif	USING_RCR_MACROS
  312                        	
  313    1F:D120  A9 E0      			lda	#<hucc_vbl		; Setup HuCC's VBL IRQ handler.
  314    1F:D122  8D 08 22   			sta.l	vsync_hook
  315    1F:D125  A9 E2      			lda	#>hucc_vbl
  316    1F:D127  8D 09 22   			sta.h	vsync_hook
  317                        	
  318               0000     		.if	CDROM				; Overlays should clear BSS.
  320                        		.else
  321    1F:D12A  73 77 D1 F0			tii	.rom_tia, ram_tia, 16	; Only needed on HuCARD.
         1F:D12E  22 10 00    
  322                        		.endif	CDROM
  323                        	
  324               0000     		.if	(_xinit_end - _xinit_start)	; Copy initialized BSS data.
  326                        		.endif
  327                        	
  328    1F:D131  F3 75 D1 08			tai	.stack_fill, __stack, HUCC_STACK_SZ
         1F:D135  20 80 00    
  329                        	
  330               0000     		.if	FAST_MULTIPLY
  339                        		.endif
  340                        	
  341    1F:D138  A9 10      			lda	#$10			; Enable HuCC's vblank IRQ
  342    1F:D13A  04 F5      			tsb	<irq_vec		; handler.
  343                        	
  344                        			__sound_init			; Initialize a sound driver.
  345                        	
  346    1F:D13C  AD 00 02   			lda	VDC_SR			; Purge any overdue VBL.
  347    1F:D13F  9C 41 22   			stz	irq_cnt			; Make it easy to check.
  348                        	
  349    1F:D142  28         			plp				; Restore interrupts.
  350                        	
  351               0001     		.ifndef	HUCC_NO_DEFAULT_SCREEN
  352    1F:D143  20 D1 FF   			call	_init_256x224		; HuCC initializes the VDC and
  353    1F:D146  20 2A E4   			jsr	set_dspon		; turns the display on.
  354                        		.endif
  355                        	
  356               0001     		.ifndef	HUCC_NO_DEFAULT_FONT
  357    1F:D149  A9 01      			lda	#1			; HuCC loads a default font.
  358    1F:D14B  8D F6 26   			sta	monofont_fg
  359    1F:D14E  9C F7 26   			stz	monofont_bg
  360                        			_load_default_font
         1F:D151  82         			clx				; Offset to PCE VDC.
         1F:D152  20 C7 FF   			call	huc_monofont_x
  361    1F:D155  A9 01      			lda	#$01			; Set the font palette entry to
  362    1F:D157  8D 02 04   			sta.l	VCE_CTA			; cyan which is a) visible, but
  363    1F:D15A  9C 03 04   			stz.h	VCE_CTA			; b) a clear indicator that the
  364    1F:D15D  A0 96      			ldy	#$96			; user hasn't set a palette yet.
  365    1F:D15F  8C 04 04   			sty.l	VCE_CTW
  366    1F:D162  8D 05 04   			sta.h	VCE_CTW
  367                        		.endif
  368                        	
  369               0001     		.ifndef	HUCC_NO_DEFAULT_RANDOM
  370    1F:D165  AC 41 22   			ldy	irq_cnt			; Initialize random seed.
  371    1F:D168  20 BD FF   			call	init_random
  372                        		.endif
  373                        	
  374    1F:D16B  A2 80      			ldx	#HUCC_STACK_SZ		; Initialize the HuCC stack.
  375    1F:D16D  86 8D      			stx	<__sp
  376                        	
  377    1F:D16F  20 B3 FF   			call	_main			; Execute the HuCC program.
  378                        	
  379    1F:D172  4C 88 E2   			jmp	_exit.1			; Pass the exit code on.
  380                        	
  381    1F:D175  EA EA      	.stack_fill:	db	$EA,$EA			; To make it easier to see.
  382                        	
  383               0001     		.if	!CDROM
  384                        	
  385    1F:D177  E3 34 12 02	.rom_tia:	tia	$1234, VDC_DL, 32
         1F:D17B  02 20 00    
  386    1F:D17E  60         			rts
  387                        	
  388    1F:D17F  73 34 12 78	.rom_tii:	tii	$1234, $5678, $9ABC
         1F:D183  56 BC 9A    
  389    1F:D186  60         			rts
  390                        	
  391               22F0     			.bss
  392    F8:22F0             	ram_tia:	ds	8
  393    F8:22F8             	ram_tii:	ds	8
  394               D187     			.code
  395                        	
  396                        		.endif	!CDROM
  397                        	
  398                        			.endp
  399                        	
  400                        			;
  401                        			; Self-Modifying TIA and TII instruction subroutines.
  402                        			;
  403                        			; These need to be in permanently-accessible memory so that
  404                        			; HuCC code can modify the values as __fastcall parameters.
  405                        			;
  406                        	
  407               0000     		.if	CDROM
  415                        		.endif	CDROM
  416                        	
  417               22F0     			rsset	ram_tia
  418               22F0     	ram_tia_opc	rs	1
  419               22F1     	ram_tia_src	rs	2
  420               22F3     	ram_tia_dst	rs	2
  421               22F5     	ram_tia_len	rs	2
  422               22F7     	ram_tia_rts	rs	1
  423                        	
  424               22F8     			rsset	ram_tii
  425               22F8     	ram_tii_opc	rs	1
  426               22F9     	ram_tii_src	rs	2
  427               22FB     	ram_tii_dst	rs	2
  428               22FD     	ram_tii_len	rs	2
  429               22FF     	ram_tii_rts	rs	1
  430                        	
  431                        	
  432                        	
  433                        	; ***************************************************************************
  434                        	; ***************************************************************************
  435                        	;
  436                        	; hucc_vbl - vblank IRQ handler, called by the "CORE(not TM)" kernel.
  437                        	;
  438                        	; This uses the kernel's hook to process things during vblank. It returns
  439                        	; with a simple RTS, and it can corrupt any register.
  440                        	;
  441                        	; Any slow routines in here should enable interrupts and protect itself from
  442                        	; re-entrancy problems.
  443                        	;
  444                        	
  445    00:E2E0  20 A9 FF   	hucc_vbl:	call	vbl_init_scroll		; Prepare for the next frame.
  446                        	
  447    00:E2E3  F8         			sed				; Update the HuC system clock
  448    00:E2E4  38         			sec				; which is in BCD here rather
  449    00:E2E5  AD EC 22   			lda	__clock_tt		; than the binary one in HuC.
  450    00:E2E8  69 00      			adc	#0			; BCD add ...
  451    00:E2EA  C9 60      			cmp	#$60			; ... but binary comparison.
  452    00:E2EC  90 28      			bcc	.ticks
  453    00:E2EE  AD ED 22   			lda	__clock_ss
  454    00:E2F1  69 00      			adc	#0			; BCD add ...
  455    00:E2F3  C9 60      			cmp	#$60			; ... but binary comparison.
  456    00:E2F5  90 1B      			bcc	.seconds
  457    00:E2F7  AD EE 22   			lda	__clock_mm
  458    00:E2FA  69 00      			adc	#0			; BCD add ...
  459    00:E2FC  C9 60      			cmp	#$60			; ... but binary comparison.
  460    00:E2FE  90 0E      			bcc	.minutes
  461    00:E300  AD EF 22   			lda	__clock_hh
  462    00:E303  69 00      			adc	#0			; BCD add ...
  463    00:E305  C9 12      			cmp	#$12			; ... but binary comparison.
  464    00:E307  90 01      			bcc	.hours
  465    00:E309  62         			cla
  466    00:E30A  8D EF 22   	.hours:		sta	__clock_hh
  467    00:E30D  62         			cla
  468    00:E30E  8D EE 22   	.minutes:	sta	__clock_mm
  469    00:E311  62         			cla
  470    00:E312  8D ED 22   	.seconds:	sta	__clock_ss
  471    00:E315  62         			cla
  472    00:E316  8D EC 22   	.ticks:		sta	__clock_tt
  473    00:E319  D8         			cld
  474                        	
  475    00:E31A  4C AA E3   			jmp	xfer_palettes		; Upload any palette changes.
                             #[1]   "main.s"
   15                        		.opt		@+
   16               E31D     		.code
   17                        	
   18                        		.dbg	line,	"..\..\..\include\hucc\globals.h", 1; // **************************************************************************
   19                        		.dbg	line,	"..\..\..\include\hucc\globals.h", 2; // **************************************************************************
   20                        		.dbg	line,	"..\..\..\include\hucc\globals.h", 3; //
   21                        		.dbg	line,	"..\..\..\include\hucc\globals.h", 4; // globals.h
   22                        		.dbg	line,	"..\..\..\include\hucc\globals.h", 5; //
   23                        		.dbg	line,	"..\..\..\include\hucc\globals.h", 6; // **************************************************************************
   24                        		.dbg	line,	"..\..\..\include\hucc\globals.h", 7; // **************************************************************************
   25                        		.dbg	line,	"..\..\..\include\hucc\globals.h", 8; //
   26                        		.dbg	line,	"..\..\..\include\hucc\globals.h", 9; // The idea is that you, a PCE developer, copy this file from the ../include/
   27                        		.dbg	line,	"..\..\..\include\hucc\globals.h", 10; // directory and into your project's directory, and then define the variables
   28                        		.dbg	line,	"..\..\..\include\hucc\globals.h", 11; // that you want to have shared access to in all overlay programs on your CD.
   29                        		.dbg	line,	"..\..\..\include\hucc\globals.h", 12; //
   30                        		.dbg	line,	"..\..\..\include\hucc\globals.h", 13; // Because PCEAS searches the current (i.e. project) directory for an include
   31                        		.dbg	line,	"..\..\..\include\hucc\globals.h", 14; // file first, then it will find your customized copy of the file rather than
   32                        		.dbg	line,	"..\..\..\include\hucc\globals.h", 15; // the original copy in the ../include/ directory.
   33                        		.dbg	line,	"..\..\..\include\hucc\globals.h", 16; //
   34                        		.dbg	line,	"..\..\..\include\hucc\globals.h", 17; // **************************************************************************
   35                        		.dbg	line,	"..\..\..\include\hucc\globals.h", 18; // **************************************************************************
   36                        		.dbg	clear
   37               2300     		.bss
   38    F8:2300             	huc_globals:
   39                        	
   40    F8:2300             	huc_globals_end:
   41               E31D     		.code
   42                        		.dbg	line,	"main.c", 1; #include "huc.h"
   43                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 1; #ifndef _hucc_legacy_h
   44                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 2; #define _hucc_legacy_h
   45                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 4; /****************************************************************************
   46                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 5; ; ***************************************************************************
   47                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 6; ;
   48                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 7; ; huc.h
   49                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 8; ;
   50                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 9; ; HuCC wrapper file to include a default set of HuC-compatible functions.
   51                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 10; ;
   52                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 11; ; Copyright John Brandwood 2024.
   53                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 12; ;
   54                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 13; ; Distributed under the Boost Software License, Version 1.0.
   55                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
   56                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
   57                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 16; ;
   58                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 17; ; ***************************************************************************
   59                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 18; ; ***************************************************************************
   60                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 19; ;
   61                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 20; ; When the HuCC compiler is invoked with the "--legacy" option to compile old
   62                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 21; ; projects, then this "huc.h" file is automatically included.
   63                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 22; ;
   64                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 23; ; This file includes a set of the individual HuCC headers which correspond to
   65                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 24; ; HuC's built-in functions and MagicKit library.
   66                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 25; ;
   67                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 26; ; New HuCC projects should, preferably, include the specific headers that are
   68                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 27; ; needed, which will then allow them to replace parts of the standard library
   69                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 28; ; with newer functions, or they can just manually include this "huc.h" file.
   70                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 29; ;
   71                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 30; ; ***************************************************************************
   72                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 31; ; **************************************************************************/
   73                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 33; #include "hucc-systemcard.h"
   74                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 1; #ifndef _hucc_systemcard_h
   75                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 2; #define _hucc_systemcard_h
   76                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 4; /****************************************************************************
   77                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 5; ; ***************************************************************************
   78                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 6; ;
   79                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 7; ; hucc-systemcard.h
   80                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 8; ;
   81                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 9; ; Macros and library functions for using the System Card.
   82                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 10; ;
   83                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 11; ; Copyright John Brandwood 2024.
   84                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 12; ;
   85                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 13; ; Distributed under the Boost Software License, Version 1.0.
   86                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
   87                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
   88                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 16; ;
   89                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 17; ; ***************************************************************************
   90                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 18; ; ***************************************************************************
   91                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 19; ;
   92                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 20; ; Because these are mainly macros, and so must be included before being used
   93                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 21; ; in compiled code, the actual functions here are written to avoid using any
   94                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 22; ; BSS memory so that HuCC's overlay global-shared-variables are not effected.
   95                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 23; ;
   96                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 24; ; ***************************************************************************
   97                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 25; ; **************************************************************************/
   98                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 27; // *************
   99                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 28; // Backup RAM defines ...
  100                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 29; // *************
  101                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 31; #define  BM_OK             0
  102                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 32; #define  BM_NOT_FOUND      1
  103                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 33; #define  BM_BAD_CHECKSUM   2
  104                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 34; #define  BM_DIR_CORRUPTED  3
  105                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 35; #define  BM_FILE_EMPTY     4
  106                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 36; #define  BM_FULL           5
  107                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 37; #define  BM_NOT_FORMATED   0xFF			// HuC incorrect spelling.
  108                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 38; #define  BM_NOT_FORMATTED  0xFF			// HuCC can use a dictionary!
  109                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 40; #define  BRAM_STARTPTR     0x8010
  110                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 42; // *************
  111                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 43; // CD defines ...
  112                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 44; // *************
  113                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 46; #define	CDPLAY_MUTE		0
  114                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 47; #define	CDPLAY_REPEAT		1
  115                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 48; #define	CDPLAY_NORMAL		2
  116                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 49; #define	CDPLAY_ENDOFDISC	0
  117                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 51; #define	CDFADE_CANCEL	0
  118                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 52; #define	CDFADE_PCM6	8
  119                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 53; #define	CDFADE_ADPCM6	10
  120                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 54; #define	CDFADE_PCM2	12
  121                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 55; #define	CDFADE_ADPCM2	14
  122                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 57; #define CDTRK_AUDIO	0
  123                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 58; #define CDTRK_DATA	4
  124                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 60; // *************
  125                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 61; // ADPCM defines ...
  126                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 62; // *************
  127                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 64; #define	ADPLAY_AUTOSTOP		0
  128                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 65; #define	ADPLAY_REPEAT		0x80
  129                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 67; #define ADPLAY_FREQ_16KHZ	0xE
  130                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 68; #define ADPLAY_FREQ_10KHZ	0xD
  131                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 69; #define ADPLAY_FREQ_8KHZ	0xC
  132                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 70; #define ADPLAY_FREQ_6KHZ	0xB
  133                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 71; #define ADPLAY_FREQ_5KHZ	0xA
  134                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 73; #define ADREAD_RAM	0
  135                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 74; #define ADREAD_VRAM	0xFF
  136                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 76; #define ADWRITE_RAM	0
  137                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 77; #define ADWRITE_VRAM	0xFF
  138                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 79; // *************
  139                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 80; // Functions in hucc-systemcard.asm ...
  140                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 81; // *************
  141                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 83; #ifdef __HUCC__
  142                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 85; #asmdef	HUCC_USES_SYSTEMCARD 1
  143               0001     	HUCC_USES_SYSTEMCARD = 1
  144                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 87; extern void __fastcall __macro cd_boot( void );
  145                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 88; extern unsigned int __fastcall __macro cd_getver( void );
  146                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 89; extern void __fastcall __macro cd_reset( void );
  147                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 90; extern unsigned char __fastcall __macro cd_pause( void );
  148                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 91; extern unsigned char __fastcall cd_unpause( void );
  149                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 92; extern void __fastcall __macro cd_fade( unsigned char type<acc> );
  150                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 93; extern unsigned char __fastcall cd_playtrk( unsigned char start_track<_bx>, unsigned char end_track<_cx>, unsigned char mode<_dh> );
  151                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 94; extern unsigned char __fastcall cd_playmsf( unsigned char start_minute<_al>,  unsigned char start_second<_ah>,  unsigned char start_frame<_bl>, unsigned char end_minute<_cl>,  unsigned char end_second<_ch>,  unsigned char end_frame<_dl>,  unsigned char mode<_dh> );
  152                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 95; extern unsigned char __fastcall cd_fastvram( unsigned char ovl_index<_cl>, unsigned int sect_offset<_si>, unsigned int vramaddr<_bx>, unsigned int sectors<_al> );
  153                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 96; extern unsigned char __fastcall cd_loadvram( unsigned char ovl_index<_cl>, unsigned int sect_offset<_si>, unsigned int vramaddr<_bx>, unsigned int bytes<_ax> );
  154                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 97; extern unsigned char __fastcall cd_loaddata( unsigned char ovl_index<_cl>, unsigned int sect_offset<_si>, unsigned char __far *buffer<_bp_bank:_bp>, unsigned int bytes<__ptr> );
  155                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 98; extern unsigned char __fastcall cd_loadbank( unsigned char ovl_index<_cl>, unsigned int sect_offset<_si>, unsigned char bank<_bl>, unsigned int sectors<_al> );
  156                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 99; extern unsigned char __fastcall __macro cd_status( unsigned char mode<acc> );
  157                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 101; extern void __fastcall __macro ad_reset( void );
  158                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 102; extern unsigned char __fastcall __macro ad_trans( unsigned char ovl_index<_cl>, unsigned int sect_offset<_si>, unsigned char nb_sectors<_dh>, unsigned int ad_addr<_bx> );
  159                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 103; extern void __fastcall __macro ad_read( unsigned int ad_addr<_cx>, unsigned char mode<_dh>, unsigned int buf<_bx>, unsigned int bytes<_ax> );
  160                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 104; extern void __fastcall __macro ad_write( unsigned int ad_addr<_cx>, unsigned char mode<_dh>, unsigned int buf<_bx>, unsigned int bytes<_ax> );
  161                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 105; extern unsigned char __fastcall __macro ad_play( unsigned int ad_addr<_bx>, unsigned int bytes<_ax>, unsigned char freq<_dh>, unsigned char mode<_dl> );
  162                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 106; extern unsigned char __fastcall __macro ad_cplay( unsigned char ovl_index<_cl>, unsigned int sect_offset<_si>, unsigned int nb_sectors<_bx>, unsigned char freq<_dh> );
  163                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 107; extern void __fastcall __macro ad_stop( void );
  164                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 108; extern unsigned char __fastcall __macro ad_stat( void );
  165                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 110; extern unsigned char __fastcall bm_check( void );
  166                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 111; extern unsigned char __fastcall bm_format( void );
  167                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 112; extern unsigned int __fastcall __macro bm_free( void );
  168                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 113; extern unsigned char __fastcall __macro bm_read( unsigned char *buffer<_bx>, unsigned char *name<_ax>, unsigned int offset<_dx>, unsigned int length<_cx> );
  169                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 114; extern unsigned char __fastcall __macro bm_write( unsigned char *buffer<_bx>, unsigned char *name<_ax>, unsigned int offset<_dx>, unsigned int length<_cx> );
  170                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 115; extern unsigned char __fastcall __macro bm_delete( unsigned char *name<_ax> );
  171                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 117; // Deprecated functions ...
  172                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 119; extern unsigned char __fastcall __macro bm_exist( unsigned char *name<_ax> );
  173                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 120; extern unsigned char __fastcall __macro bm_create( unsigned char *name<_ax>, unsigned int length<_cx> );
  174                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 122; // void __fastcall _xsafe add_sectors( unsigned int sector_offset<acc> );
  175                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 124; #endif // __HUCC__
  176                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 126; #endif // _hucc_systemcard_h
  177                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 34; #include "hucc-baselib.h"
  178                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 1; #ifndef _hucc_baselib_h
  179                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 2; #define _hucc_baselib_h
  180                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 4; /****************************************************************************
  181                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 5; ; ***************************************************************************
  182                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 6; ;
  183                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 7; ; hucc-baselib.h
  184                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 8; ;
  185                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 9; ; Basic library functions provided as macros.
  186                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 10; ;
  187                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 11; ; Copyright John Brandwood 2024.
  188                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 12; ;
  189                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 13; ; Distributed under the Boost Software License, Version 1.0.
  190                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
  191                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
  192                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 16; ;
  193                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 17; ; ***************************************************************************
  194                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 18; ; **************************************************************************/
  195                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 20; // *************
  196                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 21; // Joypad defines ...
  197                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 22; // *************
  198                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 24; #define	JOY_A		0x01
  199                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 25; #define	JOY_I		0x01
  200                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 26; #define	JOY_B		0x02
  201                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 27; #define	JOY_II		0x02
  202                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 28; #define	JOY_SLCT	0x04
  203                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 29; #define	JOY_SEL		0x04
  204                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 30; #define	JOY_STRT	0x08
  205                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 31; #define	JOY_RUN		0x08
  206                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 32; #define	JOY_UP		0x10
  207                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 33; #define	JOY_RGHT	0x20
  208                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 34; #define	JOY_RIGHT	0x20
  209                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 35; #define	JOY_DOWN	0x40
  210                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 36; #define	JOY_LEFT	0x80
  211                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 38; #define	JOY_C		0x0100
  212                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 39; #define	JOY_III		0x0100
  213                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 40; #define	JOY_D		0x0200
  214                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 41; #define	JOY_IV		0x0200
  215                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 42; #define	JOY_E		0x0400
  216                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 43; #define	JOY_V		0x0400
  217                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 44; #define	JOY_F		0x0800
  218                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 45; #define	JOY_VI		0x0800
  219                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 47; #define JOY_SIXBUT	0x8000
  220                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 48; #define JOY_TYPE6	0x8000
  221                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 50; // *************
  222                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 51; // SuperGRAFX VPC settings for set_vpc_ctl() ...
  223                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 52; // *************
  224                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 54; #define VPC_SPR1_BKG1_SPR2_BKG2	0x3000 // same as SGX_PARALLAX=0
  225                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 55; #define VPC_SPR1_SPR2_BKG1_BKG2	0x7000 // same as SGX_PARALLAX=1
  226                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 56; #define VPC_BKG1_BKG2_SPR1_SPR2	0xB000
  227                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 58; // *************
  228                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 59; // System Card variables ...
  229                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 60; // *************
  230                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 62; extern unsigned int si;
  231                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 63; extern unsigned int di;
  232                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 64; extern unsigned int bp;
  233                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 66; extern unsigned int ax;
  234                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 67; extern unsigned int bx;
  235                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 68; extern unsigned int cx;
  236                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 69; extern unsigned int dx;
  237                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 71; extern unsigned char al;
  238                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 72; extern unsigned char ah;
  239                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 73; extern unsigned char bl;
  240                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 74; extern unsigned char bh;
  241                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 75; extern unsigned char cl;
  242                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 76; extern unsigned char ch;
  243                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 77; extern unsigned char dl;
  244                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 78; extern unsigned char dh;
  245                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 80; extern unsigned char irq_cnt;
  246                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 81; extern unsigned char joynow[5];
  247                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 82; extern unsigned char joytrg[5];
  248                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 83; extern unsigned char joy6now[5];
  249                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 84; extern unsigned char joy6trg[5];
  250                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 85; extern unsigned int  bg_x1;
  251                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 86; extern unsigned int  bg_y1;
  252                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 87; extern unsigned int  bg_x2;
  253                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 88; extern unsigned int  bg_y2;
  254                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 90; // *************
  255                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 91; // Special macros to get information from PCEAS ...
  256                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 92; // *************
  257                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 94; #define BANK( datasym ) ((unsigned) (&__bank__ ## datasym))
  258                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 95; #define SIZEOF( datasym ) ((unsigned) (&__sizeof__ ## datasym))
  259                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 96; #define COUNTOF( datasym ) ((unsigned) (&__countof__ ## datasym))
  260                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 97; #define OVERLAY( datasym ) ((unsigned) (&__overlay__ ## datasym))
  261                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 100; // *************
  262                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 101; // Functions in hucc-baselib.asm ...
  263                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 102; // *************
  264                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 104; #ifdef __HUCC__
  265                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 106; #asmdef	HUCC_USES_BASELIB 1
  266               0001     	HUCC_USES_BASELIB = 1
  267                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 108; #define	_OPTIMIZE 1
  268                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 111; // *************
  269                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 112; // Hardware Detection
  270                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 113; // *************
  271                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 115; extern unsigned char __fastcall __macro sgx_detect( void );
  272                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 116; extern unsigned char __fastcall __macro ac_exists( void );
  273                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 119; // *************
  274                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 120; // Memory Access
  275                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 121; // *************
  276                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 123; extern unsigned char __fastcall __macro peek( unsigned int addr<__ptr> );
  277                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 124; extern unsigned int  __fastcall __macro peekw( unsigned int addr<__ptr> );
  278                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 126; extern void __fastcall __macro poke( unsigned int addr<__poke>, unsigned char with<acc> );
  279                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 127; extern void __fastcall __macro pokew( unsigned int addr<__poke>, unsigned int with<acc> );
  280                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 129; extern unsigned char __fastcall farpeek( void __far *addr<_bp_bank:_bp> );
  281                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 130; extern unsigned int  __fastcall farpeekw( void __far *addr<_bp_bank:_bp> );
  282                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 132; extern void __fastcall __nop set_far_base( unsigned char data_bank<_bp_bank>, unsigned char *data_addr<_bp> );
  283                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 133; extern void __fastcall set_far_offset( unsigned int offset<_bp>, unsigned char data_bank<_bp_bank>, unsigned char *data_addr<acc> );
  284                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 135; extern unsigned char __fastcall far_peek( void );
  285                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 136; extern unsigned int  __fastcall far_peekw( void );
  286                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 138; extern void __fastcall __macro reset_mpr2( void );
  287                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 139; extern void __fastcall __macro reset_mpr34( void );
  288                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 141; extern void * __fastcall __macro farset_mpr2( void __far *addr<_bp_bank:_bp> );
  289                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 142; extern void * __fastcall __macro farset_mpr34( void __far *addr<_bp_bank:_bp> );
  290                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 144; extern void * __fastcall __macro far_set_mpr2( void );
  291                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 145; extern void * __fastcall __macro far_set_mpr34( void );
  292                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 148; // *************
  293                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 149; // Clock Functions
  294                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 150; // *************
  295                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 152; extern unsigned char __fastcall __macro clock_hh( void );
  296                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 153; extern unsigned char __fastcall __macro clock_mm( void );
  297                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 154; extern unsigned char __fastcall __macro clock_ss( void );
  298                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 155; extern unsigned char __fastcall __macro clock_tt( void );
  299                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 156; extern void __fastcall __macro clock_reset( void );
  300                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 159; // *************
  301                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 160; // Joypad Functions
  302                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 161; // *************
  303                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 163; extern unsigned int __fastcall __macro joy( unsigned char which<acc> );
  304                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 164; extern unsigned int __fastcall __macro joytrg( unsigned char which<acc> );
  305                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 167; // *************
  306                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 168; // Number Functions
  307                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 169; // *************
  308                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 171; extern void __fastcall __macro srand( unsigned char seed<acc> );
  309                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 172; extern unsigned int __fastcall rand( void );
  310                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 173; extern unsigned char __fastcall rand8( void );
  311                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 175; // Note: "limit" is 0..255.
  312                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 176; extern unsigned char __fastcall random8( unsigned char limit<acc> );
  313                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 178; // Note: "limit" is 0..128, 129..255 are treated as 128!
  314                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 179; extern unsigned char __fastcall random( unsigned char limit<acc> );
  315                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 182; // *************
  316                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 183; // Overlay Execution
  317                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 184; // *************
  318                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 186; extern unsigned char __fastcall __macro cd_execoverlay( unsigned char ovl_index<acc> );
  319                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 189; // *************
  320                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 190; // Functions that are only optionally available if configured in your hucc-config.inc
  321                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 191; // *************
  322                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 193; extern unsigned int __fastcall __macro joybuf( unsigned char which<acc> );
  323                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 194; extern unsigned int __fastcall __macro get_joy_events( unsigned char which<acc> );
  324                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 195; extern void __fastcall __macro clear_joy_events( unsigned char mask<acc> );
  325                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 198; // *************
  326                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 199; // Functions that are only implemented in the TGEMU emulator for unit-testing
  327                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 200; // the compiler, and which should never be used in normal HuCC projects ...
  328                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 201; // *************
  329                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 203; extern void __fastcall dump_screen( void );
  330                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 205; #endif // __HUCC__
  331                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 207; #endif // _hucc_baselib_h
  332                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 35; #include "hucc-gfx.h"
  333                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 1; #ifndef _hucc_gfx_h
  334                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 2; #define _hucc_gfx_h
  335                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 4; /****************************************************************************
  336                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 5; ; ***************************************************************************
  337                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 6; ;
  338                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 7; ; huc-gfx.h
  339                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 8; ;
  340                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 9; ; Based on the original HuC and MagicKit functions by David Michel and the
  341                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 10; ; other original HuC developers.
  342                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 11; ;
  343                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 12; ; Modifications copyright John Brandwood 2024.
  344                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 13; ;
  345                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 14; ; Distributed under the Boost Software License, Version 1.0.
  346                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 15; ; (See accompanying file LICENSE_1_0.txt or copy at
  347                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 16; ;  http://www.boost.org/LICENSE_1_0.txt)
  348                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 17; ;
  349                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 18; ; ***************************************************************************
  350                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 19; ; **************************************************************************/
  351                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 21; // *************
  352                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 22; // Screen defines ...
  353                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 23; // *************
  354                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 25; #define	SCR_SIZE_32x32	0
  355                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 26; #define	SCR_SIZE_64x32	1
  356                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 27; #define	SCR_SIZE_128x32	2
  357                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 28; #define	SCR_SIZE_32x64	4
  358                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 29; #define	SCR_SIZE_64x64	5
  359                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 30; #define	SCR_SIZE_128x64	6
  360                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 32; #define	XRES_SHARP	0
  361                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 33; #define	XRES_SOFT	4
  362                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 34; #define	XRES_KEEP	128
  363                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 36; #define VPC_WIN_A	0x00
  364                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 37; #define VPC_WIN_B	0x01
  365                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 38; #define	VPC_WIN_AB	0x02
  366                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 39; #define	VPC_WIN_NONE	0x03
  367                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 40; #define	VPC_NORM	0x00
  368                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 41; #define	VPC_SPR		0x04
  369                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 42; #define	VPC_INV_SPR	0x08
  370                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 43; #define VDC1_ON		0x01
  371                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 44; #define	VDC1_OFF	0x00
  372                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 45; #define VDC2_ON		0x02
  373                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 46; #define	VDC2_OFF	0x00
  374                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 47; #define VDC_ON		0x03
  375                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 48; #define	VDC_OFF		0x00
  376                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 50; // *************
  377                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 51; // Functions in hucc-gfx.asm ...
  378                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 52; // *************
  379                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 54; #ifdef __HUCC__
  380                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 56; #asmdef	HUCC_USES_GFX 1
  381               0001     	HUCC_USES_GFX = 1
  382                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 58; // *************
  383                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 59; // Color and Palette Functions
  384                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 60; // *************
  385                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 62; extern void __fastcall clear_palette( void );
  386                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 64; extern void __fastcall __nop set_color( unsigned int index<VCE_CTA>, unsigned int value<VCE_CTW> );
  387                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 65; extern void __fastcall set_color_rgb( unsigned int index<VCE_CTA>, unsigned char r<_al>, unsigned char g<_ah>, unsigned char b<acc> );
  388                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 66; extern unsigned int __fastcall __macro get_color( unsigned int index<VCE_CTA> );
  389                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 68; extern void __fastcall load_palette( unsigned char palette<_al>, unsigned char __far *data<_bp_bank:_bp>, unsigned char num_palettes<_ah> );
  390                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 69; extern void __fastcall far_load_palette( unsigned char palette<_al>, unsigned char num_palettes<_ah> );
  391                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 71; extern void __fastcall read_palette( unsigned char palette<_al>, unsigned char num_palettes<_ah>, unsigned int *destination<_di> );
  392                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 73; extern void __fastcall __macro fade_to_black( unsigned int __far *from<_bp_bank:_bp>, unsigned int *destination<_di>, unsigned char num_colors<_al>, unsigned char value_to_sub<_ah> );
  393                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 74; extern void __fastcall __macro fade_to_white( unsigned int __far *from<_bp_bank:_bp>, unsigned int *destination<_di>, unsigned char num_colors<_al>, unsigned char value_to_add<_ah> );
  394                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 75; extern void __fastcall __macro cross_fade_to( unsigned int __far *from<_bp_bank:_bp>, unsigned int *destination<_di>, unsigned char num_colors<_al>, unsigned char which_component<_ah> );
  395                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 77; extern void __fastcall __macro far_fade_to_black( unsigned int *destination<_di>, unsigned char num_colors<_al>, unsigned char value_to_sub<_ah> );
  396                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 78; extern void __fastcall __macro far_fade_to_white( unsigned int *destination<_di>, unsigned char num_colors<_al>, unsigned char value_to_add<_ah> );
  397                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 79; extern void __fastcall __macro far_cross_fade_to( unsigned int *destination<_di>, unsigned char num_colors<_al>, unsigned char which_component<_ah> );
  398                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 83; // *************
  399                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 84; // Video Functions
  400                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 85; // *************
  401                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 87; extern void __fastcall init_240x208( void );
  402                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 88; extern void __fastcall init_256x224( void );
  403                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 90; extern void __fastcall vsync( void );
  404                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 91; extern void __fastcall vsync( unsigned char count<_al> );
  405                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 93; extern void __fastcall disp_on( void );
  406                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 94; extern void __fastcall disp_off( void );
  407                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 96; extern void __fastcall set_screen_size( unsigned char value<_al> );
  408                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 98; extern void __fastcall set_xres( unsigned int x_pixels<_ax>, unsigned char blur_flag<_bl> );
  409                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 100; extern void __fastcall cls( void );
  410                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 101; extern void __fastcall cls( unsigned int tile<acc> );
  411                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 103; extern unsigned int __fastcall __macro vram_addr( unsigned char bat_x<_al>, unsigned char bat_y<_ah> );
  412                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 104; extern unsigned int __fastcall __macro get_vram( unsigned int address<_di> );
  413                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 105; extern void __fastcall __macro put_vram( unsigned int address<_di>, unsigned int data<acc> );
  414                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 107; extern void __fastcall __macro load_vram( unsigned int vram<_di>, unsigned char __far *data<_bp_bank:_bp>, unsigned int num_words<_ax> );
  415                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 108; extern void __fastcall __macro far_load_vram( unsigned int vram<_di>,  unsigned int num_words<_ax> );
  416                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 110; extern void __fastcall load_bat( unsigned int vram<_di>, unsigned char __far *data<_bp_bank:_bp>, unsigned char tiles_w<_al>, unsigned char tiles_h<_ah> );
  417                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 111; extern void __fastcall far_load_bat( unsigned int vram<_di>, unsigned char tiles_w<_al>, unsigned char tiles_h<_ah> );
  418                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 113; extern void __fastcall __macro load_sprites( unsigned int vram<_di>, unsigned char __far *data<_bp_bank:_bp>, unsigned int num_groups<acc> );
  419                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 114; extern void __fastcall __macro far_load_sprites( unsigned int vram<_di>, unsigned int num_groups<acc> );
  420                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 116; extern void __fastcall vram2vram( unsigned int vram_dst<_ax>, unsigned int vram_src<_bx>, unsigned int word_len<_cx> );
  421                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 119; // *************
  422                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 120; // SuperGRAFX Video Functions
  423                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 121; // *************
  424                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 123; extern void __fastcall __nop vpc_set_ctl( unsigned int bits<VPC_CR> );
  425                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 124; extern void __fastcall __nop vpc_set_win1( unsigned int width<VPC_WINDOW1> );
  426                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 125; extern void __fastcall __nop vpc_set_win2( unsigned int width<VPC_WINDOW2> );
  427                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 127; extern void __fastcall sgx_set_screen_size( unsigned char value<_al> );
  428                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 129; extern void __fastcall sgx_set_xres( unsigned int x_pixels<_ax>, unsigned char blur_flag<_bl> );
  429                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 131; extern void __fastcall sgx_cls( void );
  430                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 132; extern void __fastcall sgx_cls( unsigned int tile<acc> );
  431                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 134; extern unsigned int __fastcall __macro sgx_vram_addr( unsigned char bat_x<_al>, unsigned char bat_y<_ah> );
  432                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 135; extern unsigned int __fastcall __macro sgx_get_vram( unsigned int address<_di> );
  433                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 136; extern void __fastcall __macro sgx_put_vram( unsigned int address<_di>, unsigned int data<acc> );
  434                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 138; extern void __fastcall __macro sgx_load_vram( unsigned int vram<_di>, unsigned char __far *data<_bp_bank:_bp>, unsigned int num_words<_ax> );
  435                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 139; extern void __fastcall __macro sgx_far_load_vram( unsigned int vram<_di>, unsigned int num_words<_ax> );
  436                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 141; extern void __fastcall sgx_load_bat( unsigned int vram<_di>, unsigned char __far *data<_bp_bank:_bp>, unsigned char tiles_w<_al>, unsigned char tiles_h<_ah> );
  437                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 142; extern void __fastcall sgx_far_load_bat( unsigned int vram<_di>, unsigned char tiles_w<_al>, unsigned char tiles_h<_ah> );
  438                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 144; extern void __fastcall __macro sgx_load_sprites( unsigned int vram<_di>, unsigned char __far *data<_bp_bank:_bp>, unsigned int num_groups<acc> );
  439                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 145; extern void __fastcall __macro sgx_far_load_sprites( unsigned int vram<_di>, unsigned int num_groups<acc> );
  440                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 147; extern void __fastcall sgx_vram2vram( unsigned int vram_dst<_ax>, unsigned int vram_src<_bx>, unsigned int word_len<_cx> );
  441                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 150; // *************
  442                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 151; // Font Functions
  443                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 152; // *************
  444                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 154; extern void __fastcall set_font_addr( unsigned int vram<acc> );
  445                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 155; extern void __fastcall set_font_pal( unsigned char palette<acc> );
  446                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 157; extern void __fastcall load_font( unsigned char __far *font<_bp_bank:_bp>, unsigned char count<_al>, unsigned int vram<acc> );
  447                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 158; extern void __fastcall far_load_font( unsigned char count<_al>, unsigned int vram<acc> );
  448                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 160; extern void __fastcall __nop set_font_color( unsigned char foreground<monofont_fg>, unsigned char background<monofont_bg> );
  449                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 161; extern void __fastcall __macro load_default_font( void );
  450                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 164; // *************
  451                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 165; // SuperGRAFX Font Functions
  452                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 166; // *************
  453                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 168; extern void __fastcall sgx_set_font_addr( unsigned int vram<acc> );
  454                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 169; extern void __fastcall sgx_set_font_pal( unsigned char palette<acc> );
  455                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 171; extern void __fastcall sgx_load_font( char __far *font<_bp_bank:_bp>, unsigned char count<_al>, unsigned int vram<acc> );
  456                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 172; extern void __fastcall sgx_far_load_font( unsigned char count<_al>, unsigned int vram<acc> );
  457                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 174; extern void __fastcall __macro sgx_load_default_font( void );
  458                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 177; // *************
  459                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 178; // Deprecated functions ...
  460                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 179; // *************
  461                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 181; extern void __fastcall __macro set_xres( unsigned int x_pixels<_ax> );
  462                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 182; extern void __fastcall __macro sgx_set_xres( unsigned int x_pixels<_ax> );
  463                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 184; extern void __fastcall load_background( unsigned char __far *tiles<_bp_bank:_bp>, unsigned char __far *palettes<__fbank:__fptr>, unsigned char __far *bat<_cl:_bx>, unsigned char w<_dl>, unsigned char h<_dh> );
  464                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 186; extern void __fastcall __macro set_bgpal( unsigned char palette<_al>, unsigned char __far *data<_bp_bank:_bp> );
  465                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 187; extern void __fastcall __macro set_bgpal( unsigned char palette<_al>, unsigned char __far *data<_bp_bank:_bp>, unsigned int num_palettes<_ah> );
  466                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 188; extern void __fastcall __macro set_sprpal( unsigned char palette<_al>, unsigned char __far *data<_bp_bank:_bp> );
  467                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 189; extern void __fastcall __macro set_sprpal( unsigned char palette<_al>, unsigned char __far *data<_bp_bank:_bp>, unsigned int num_palettes<_ah> );
  468                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 191; extern void __fastcall load_font( char __far *font<_bp_bank:_bp>, unsigned char count<_al> );
  469                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 193; extern void __fastcall put_string( unsigned char *string<_bp>, unsigned char bat_x<_dil>, unsigned char bat_y<_dih> );
  470                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 195; extern void __fastcall put_char( unsigned char digit<_bl>, unsigned char bat_x<_dil>, unsigned char bat_y<_dih> );
  471                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 196; extern void __fastcall put_digit( unsigned char digit<_bl>, unsigned char bat_x<_dil>, unsigned char bat_y<_dih> );
  472                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 197; extern void __fastcall put_hex( unsigned int number<_bx>, unsigned char length<_cl>, unsigned char bat_x<_dil>, unsigned char bat_y<_dih> );
  473                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 198; extern void __fastcall put_number( unsigned int number<_bx>, unsigned char length<_cl>, unsigned char bat_x<_dil>, unsigned char bat_y<_dih> );
  474                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 199; extern void __fastcall put_raw( unsigned int data<_bx>, unsigned char bat_x<_dil>, unsigned char bat_y<_dih> );
  475                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 201; #endif // __HUCC__
  476                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 203; #endif // _hucc_gfx_h
  477                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 36; #include "hucc-old-scroll.h"
  478                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 1; #ifndef _hucc_old_scroll_h
  479                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 2; #define _hucc_old_scroll_h
  480                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 4; /****************************************************************************
  481                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 5; ; ***************************************************************************
  482                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 6; ;
  483                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 7; ; hucc-old-scroll.h
  484                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 8; ;
  485                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 9; ; Based on the original HuC and MagicKit functions by David Michel and the
  486                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 10; ; other original HuC developers.
  487                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 11; ;
  488                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 12; ; Modifications copyright John Brandwood 2024.
  489                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 13; ;
  490                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 14; ; Distributed under the Boost Software License, Version 1.0.
  491                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 15; ; (See accompanying file LICENSE_1_0.txt or copy at
  492                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 16; ;  http://www.boost.org/LICENSE_1_0.txt)
  493                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 17; ;
  494                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 18; ; ***************************************************************************
  495                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 19; ; ***************************************************************************
  496                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 20; ;
  497                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 21; ; HuC's old scrolling library is provided for use with existing HuC projects,
  498                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 22; ; but it should preferably be avoided in new projects because it is slow and
  499                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 23; ; forever limited by its choice to handle gaps between areas, and sorting.
  500                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 24; ;
  501                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 25; ; HuCC's new scrolling library puts the responibility for defining both gaps
  502                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 26; ; and the display order into the project's hands, but in return it runs much
  503                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 27; ; faster, using less than 1/6 of the processing time in VBLANK, and far less
  504                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 28; ; time in the RCR interrputs themselves. It also supports the 2nd SuperGRAFX
  505                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 29; ; screen layer, which HuC's old scrolling library ignores.
  506                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 30; ;
  507                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 31; ; ***************************************************************************
  508                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 32; ; **************************************************************************/
  509                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 34; // *************
  510                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 35; // Functions in hucc-old-scroll.asm ...
  511                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 36; // *************
  512                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 38; #ifdef __HUCC__
  513                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 40; #asmdef	HUCC_USES_OLD_SCROLL 1
  514               0001     	HUCC_USES_OLD_SCROLL = 1
  515                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 42; extern void __fastcall scroll( unsigned char num<_al>, unsigned int x<_cx>, unsigned int y<_dx>, unsigned char top<_ah>, unsigned char bottom<_bl>, unsigned char disp<acc> );
  516                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 43; extern void __fastcall scroll_disable( unsigned char num<acc> );
  517                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 45; #endif // __HUCC__
  518                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 47; #endif // _hucc_old_scroll_h
  519                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 37; #include "hucc-old-spr.h"
  520                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 1; #ifndef _hucc_old_spr_h
  521                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 2; #define _hucc_old_spr_h
  522                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 4; /****************************************************************************
  523                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 5; ; ***************************************************************************
  524                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 6; ;
  525                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 7; ; hucc-old-spr.h
  526                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 8; ;
  527                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 9; ; Based on the original HuC and MagicKit functions by David Michel and the
  528                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 10; ; other original HuC developers.
  529                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 11; ;
  530                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 12; ; Modifications copyright John Brandwood 2024.
  531                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 13; ;
  532                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 14; ; Distributed under the Boost Software License, Version 1.0.
  533                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 15; ; (See accompanying file LICENSE_1_0.txt or copy at
  534                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 16; ;  http://www.boost.org/LICENSE_1_0.txt)
  535                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 17; ;
  536                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 18; ; ***************************************************************************
  537                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 19; ; **************************************************************************/
  538                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 21; // *************
  539                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 22; // Sprite defines ...
  540                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 23; // *************
  541                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 25; #define FLIP_X_MASK 0x08
  542                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 26; #define FLIP_Y_MASK 0x80
  543                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 27; #define FLIP_MAS    0x88
  544                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 28; #define SIZE_MAS    0x31
  545                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 30; #define NO_FLIP     0x00
  546                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 31; #define NO_FLIP_X   0x00
  547                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 32; #define NO_FLIP_Y   0x00
  548                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 33; #define FLIP_X      0x08
  549                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 34; #define FLIP_Y      0x80
  550                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 35; #define SZ_16x16    0x00
  551                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 36; #define SZ_16x32    0x10
  552                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 37; #define SZ_16x64    0x30
  553                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 38; #define SZ_32x16    0x01
  554                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 39; #define SZ_32x32    0x11
  555                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 40; #define	SZ_32x64    0x31
  556                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 42; // *************
  557                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 43; // Functions in hucc-old-spr.asm ...
  558                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 44; // *************
  559                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 46; #ifdef __HUCC__
  560                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 48; #asmdef	HUCC_USES_OLD_SPR 1
  561               0001     	HUCC_USES_OLD_SPR = 1
  562                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 50; extern void __fastcall init_satb( void );
  563                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 51; extern void __fastcall reset_satb( void );
  564                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 52; extern void __fastcall satb_update( void );
  565                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 53; extern void __fastcall spr_set( unsigned char num<acc> );
  566                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 54; extern void __fastcall spr_hide( void );
  567                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 55; extern void __fastcall spr_show( void );
  568                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 56; extern void __fastcall spr_x( unsigned int value<acc> );
  569                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 57; extern void __fastcall spr_y( unsigned int value<acc> );
  570                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 58; extern void __fastcall spr_pattern( unsigned int vaddr<acc> );
  571                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 59; extern void __fastcall spr_ctrl( unsigned char mask<_al>, unsigned char value<acc> );
  572                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 60; extern void __fastcall spr_pal( unsigned char palette<acc> );
  573                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 61; extern void __fastcall spr_pri( unsigned char priority<acc> );
  574                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 63; extern unsigned int __fastcall spr_get_x( void );
  575                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 64; extern unsigned int __fastcall spr_get_y( void );
  576                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 66; extern void __fastcall sgx_init_satb( void );
  577                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 67; extern void __fastcall sgx_reset_satb( void );
  578                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 68; extern void __fastcall sgx_satb_update( void );
  579                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 69; extern void __fastcall sgx_spr_set( unsigned char num<acc> );
  580                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 70; extern void __fastcall sgx_spr_hide( void );
  581                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 71; extern void __fastcall sgx_spr_show( void );
  582                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 72; extern void __fastcall sgx_spr_x( unsigned int value<acc> );
  583                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 73; extern void __fastcall sgx_spr_y( unsigned int value<acc> );
  584                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 74; extern void __fastcall sgx_spr_pattern( unsigned int vaddr<acc> );
  585                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 75; extern void __fastcall sgx_spr_ctrl( unsigned char mask<_al>, unsigned char value<acc> );
  586                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 76; extern void __fastcall sgx_spr_pal( unsigned char palette<acc> );
  587                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 77; extern void __fastcall sgx_spr_pri( unsigned char priority<acc> );
  588                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 79; extern unsigned int __fastcall sgx_spr_get_x( void );
  589                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 80; extern unsigned int __fastcall sgx_spr_get_y( void );
  590                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 82; #endif // __HUCC__
  591                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 84; #endif // _hucc_old_spr_h
  592                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 38; #include "hucc-old-map.h"
  593                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 1; #ifndef _hucc_old_map_h
  594                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 2; #define _hucc_old_map_h
  595                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 4; /****************************************************************************
  596                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 5; ; ***************************************************************************
  597                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 6; ;
  598                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 7; ; hucc-old-map.h
  599                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 8; ;
  600                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 9; ; Based on the original HuC and MagicKit functions by David Michel and the
  601                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 10; ; other original HuC developers.
  602                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 11; ;
  603                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 12; ; Modifications copyright John Brandwood 2024.
  604                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 13; ;
  605                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 14; ; Distributed under the Boost Software License, Version 1.0.
  606                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 15; ; (See accompanying file LICENSE_1_0.txt or copy at
  607                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 16; ;  http://www.boost.org/LICENSE_1_0.txt)
  608                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 17; ;
  609                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 18; ; ***************************************************************************
  610                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 19; ; **************************************************************************/
  611                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 21; // *************
  612                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 22; // Functions in hucc-old-map.asm ...
  613                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 23; // *************
  614                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 25; #ifdef __HUCC__
  615                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 27; #asmdef	HUCC_USES_OLD_MAP 1
  616               0001     	HUCC_USES_OLD_MAP = 1
  617                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 29; extern void __fastcall set_tile_address( unsigned int vram<_di> );
  618                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 30; extern void __fastcall sgx_set_tile_address( unsigned int vram<_di> );
  619                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 32; extern void __fastcall __nop set_tile_data( unsigned char __far *tiles<vdc_tile_bank:vdc_tile_addr>, unsigned char num_tiles<vdc_num_tiles>, unsigned char __far *palette_table<vdc_attr_bank:vdc_attr_addr>, unsigned char tile_type<vdc_tile_type> );
  620                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 33; extern void __fastcall __nop sgx_set_tile_data( unsigned char __far *tiles<sgx_tile_bank:sgx_tile_addr>, unsigned char num_tiles<sgx_num_tiles>, unsigned char __far *palette_table<sgx_attr_bank:sgx_attr_addr>, unsigned char tile_type<sgx_tile_type> );
  621                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 35; extern void __fastcall __nop set_far_tile_data( unsigned char tile_bank<vdc_tile_bank>, unsigned char *tile_addr<vdc_tile_addr>, unsigned char num_tiles<vdc_num_tiles>, unsigned char palette_table_bank<vdc_attr_bank>, unsigned char *palette_table_addr<vdc_attr_addr>, unsigned char tile_type<vdc_tile_type> );
  622                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 36; extern void __fastcall __nop sgx_set_far_tile_data( unsigned char tile_bank<sgx_tile_bank>, unsigned char *tile_addr<sgx_tile_addr>, unsigned char num_tiles<sgx_num_tiles>, unsigned char palette_table_bank<sgx_attr_bank>, unsigned char *palette_table_addr<sgx_attr_addr>, unsigned char tile_type<sgx_tile_type> );
  623                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 38; extern void __fastcall __nop set_map_data( unsigned char __far *map<vdc_map_bank:vdc_map_addr>, unsigned char w<vdc_map_width>, unsigned char h<vdc_map_height> );
  624                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 39; extern void __fastcall __nop sgx_set_map_data( unsigned char __far *map<sgx_map_bank:sgx_map_addr>, unsigned char w<sgx_map_width>, unsigned char h<sgx_map_height> );
  625                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 41; extern void __fastcall __nop set_far_map_data( unsigned char map_bank<vdc_map_bank>, unsigned char *map_addr<vdc_map_addr>, unsigned char w<vdc_map_width>, unsigned char h<vdc_map_height> );
  626                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 42; extern void __fastcall __nop sgx_set_far_map_data( unsigned char map_bank<vdc_map_bank>, unsigned char *map_addr<vdc_map_addr>, unsigned char w<sgx_map_width>, unsigned char h<sgx_map_height> );
  627                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 44; extern void __fastcall load_tile( unsigned int vram<_di> );
  628                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 45; extern void __fastcall sgx_load_tile( unsigned int vram<_di> );
  629                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 47; extern void __fastcall load_map( unsigned char bat_x<_al>, unsigned char bat_y<_ah>, int map_x<_bx>, int map_y<_dx>, unsigned char tiles_w<_cl>, unsigned char tiles_h<_ch> );
  630                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 48; extern void __fastcall sgx_load_map( unsigned char bat_x<_al>, unsigned char bat_y<_ah>, int map_x<_bx>, int map_y<_dx>, unsigned char tiles_w<_cl>, unsigned char tiles_h<_ch> );
  631                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 50; extern unsigned char __fastcall map_get_tile( unsigned char map_x<_bl>, unsigned char map_y<_bh> );
  632                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 51; extern unsigned char __fastcall sgx_map_get_tile( unsigned char map_x<_bl>, unsigned char map_y<_bh> );
  633                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 53; extern void __fastcall map_put_tile( unsigned char map_x<_bl>, unsigned char map_y<_bh>, unsigned char tile<_al> );
  634                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 54; extern void __fastcall sgx_map_put_tile( unsigned char map_x<_bl>, unsigned char map_y<_bh>, unsigned char tile<_al> );
  635                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 56; extern void __fastcall put_tile( unsigned char tile<_bl>, unsigned char bat_x<_al>, unsigned char bat_y<_ah> );
  636                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 57; extern void __fastcall sgx_put_tile( unsigned char tile<_bl>, unsigned char bat_x<_al>, unsigned char bat_y<_ah> );
  637                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 59; // Deprecated functions ...
  638                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 61; extern void __fastcall set_tile_data( unsigned char *tile_ex<_di> );
  639                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 63; extern void __fastcall __nop set_map_pals( unsigned char __far *palette_table<vdc_attr_bank:vdc_attr_addr> );
  640                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 64; extern void __fastcall __nop set_map_tile_type( unsigned char tile_type<vdc_tile_type> );
  641                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 66; extern void __fastcall __nop sgx_set_map_pals( unsigned char __far *palette_table<sgx_attr_bank:sgx_attr_addr> );
  642                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 67; extern void __fastcall __nop sgx_set_map_tile_type( unsigned char tile_type<sgx_tile_type> );
  643                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 69; extern void __fastcall set_map_tile_base( unsigned int vram<_di> );
  644                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 70; extern void __fastcall sgx_set_map_tile_base( unsigned int vram<_di> );
  645                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 72; #endif // __HUCC__
  646                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 74; #endif // _hucc_old_map_h
  647                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 39; #include "hucc-old-line.h"
  648                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 1; #ifndef _hucc_old_line_h
  649                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 2; #define _hucc_old_line_h
  650                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 4; /****************************************************************************
  651                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 5; ; ***************************************************************************
  652                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 6; ;
  653                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 7; ; hucc-old-line.h
  654                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 8; ;
  655                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 9; ; Based on the original HuC and MagicKit functions by David Michel and the
  656                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 10; ; other original HuC developers.
  657                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 11; ;
  658                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 12; ; Modifications copyright John Brandwood 2024.
  659                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 13; ;
  660                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 14; ; Distributed under the Boost Software License, Version 1.0.
  661                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 15; ; (See accompanying file LICENSE_1_0.txt or copy at
  662                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 16; ;  http://www.boost.org/LICENSE_1_0.txt)
  663                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 17; ;
  664                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 18; ; ***************************************************************************
  665                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 19; ; **************************************************************************/
  666                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 21; // *************
  667                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 22; // Functions in hucc-old-line.asm ...
  668                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 23; // *************
  669                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 25; #ifdef __HUCC__
  670                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 27; #asmdef	HUCC_USES_OLD_LINE 1
  671               0001     	HUCC_USES_OLD_LINE = 1
  672                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 29; extern void __fastcall gfx_init( unsigned int start_vram_addr<_ax> );
  673                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 30; extern void __fastcall gfx_clear( unsigned int start_vram_addr<_di> );
  674                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 31; extern void __fastcall gfx_plot( unsigned int x<_gfx_x1>, unsigned int y<_gfx_y1>, char color<_gfx_color> );
  675                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 32; extern void __fastcall gfx_line( unsigned int x1<_gfx_x1>, unsigned int y1<_gfx_y1>, unsigned int x2<_gfx_x2>, unsigned int y2<_gfx_y2>, unsigned char color<_gfx_color> );
  676                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 34; #endif // __HUCC__
  677                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 36; #endif // _hucc_old_line_h
  678                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 41; #include <stdlib.h>
  679                        		.dbg	line,	"..\..\..\include\hucc\stdlib.h", 1; #ifndef _hucc_stdlib_h
  680                        		.dbg	line,	"..\..\..\include\hucc\stdlib.h", 2; #define _hucc_stdlib_h
  681                        		.dbg	line,	"..\..\..\include\hucc\stdlib.h", 4; #define RAND_MAX 32767
  682                        		.dbg	line,	"..\..\..\include\hucc\stdlib.h", 6; #ifdef __HUCC__
  683                        		.dbg	line,	"..\..\..\include\hucc\stdlib.h", 7; extern int __fastcall abs( int value<acc> );
  684                        		.dbg	line,	"..\..\..\include\hucc\stdlib.h", 8; #endif
  685                        		.dbg	line,	"..\..\..\include\hucc\stdlib.h", 10; #endif // _hucc_stdlib_h
  686                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 42; #include <string.h>
  687                        		.dbg	line,	"..\..\..\include\hucc\string.h", 1; #ifdef __HUCC__
  688                        		.dbg	line,	"..\..\..\include\hucc\string.h", 2; #include "hucc-string.h"
  689                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 1; #ifndef _hucc_string_h
  690                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 2; #define _hucc_string_h
  691                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 4; /****************************************************************************
  692                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 5; ; ***************************************************************************
  693                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 6; ;
  694                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 7; ; hucc-string.h
  695                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 8; ;
  696                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 9; ; Not-quite-standard, but fast, replacements for <string.h>.
  697                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 10; ;
  698                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 11; ; Copyright John Brandwood 2024.
  699                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 12; ;
  700                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 13; ; Distributed under the Boost Software License, Version 1.0.
  701                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
  702                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
  703                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 16; ;
  704                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 17; ; ***************************************************************************
  705                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 18; ; ***************************************************************************
  706                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 19; ;
  707                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 20; ; !!! WARNING : non-standard return values !!!
  708                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 21; ;
  709                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 22; ; Strings are limited to a maximum of 255 characters (+ the terminator)!
  710                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 23; ;
  711                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 24; ; The memcpy(), strcpy() and strcat() functions do NOT return the destination
  712                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 25; ; address, and they are declared "void" to check that the value is not used.
  713                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 26; ;
  714                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 27; ; mempcpy() is provided which returns the end address instead of the starting
  715                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 28; ; address, because this is typically more useful.
  716                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 29; ;
  717                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 30; ; Please note that both memcpy() and memset() are implemented using a TII for
  718                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 31; ; speed, and so the length should be < 16 bytes if used in time-critical bits
  719                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 32; ; of code (such as when using a split screen) because they delay interrupts.
  720                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 33; ;
  721                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 34; ; strncpy() and strncat() are not provided, because strncpy() was not created
  722                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 35; ; for the purpose of avoiding string overruns, and strncat() is just a poorly
  723                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 36; ; designed function IMHO.
  724                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 37; ;
  725                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 38; ; POSIX strlcpy() and strlcat() are provided instead, but once again they are
  726                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 39; ; slightly non-standard in that the return value when there is an overflow is
  727                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 40; ; the buffer size (so that the overflow can be detected), instead of the full
  728                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 41; ; size of the destination string that was too big to fit in the buffer.
  729                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 42; ;
  730                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 43; ; ***************************************************************************
  731                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 44; ; **************************************************************************/
  732                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 46; // *************
  733                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 47; // Functions in hucc-string.asm ...
  734                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 48; // *************
  735                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 50; #ifdef __HUCC__
  736                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 52; #asmdef	HUCC_USES_STRING 1
  737               0001     	HUCC_USES_STRING = 1
  738                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 54; extern void __fastcall strcpy( char *destination<_di>, char *source<_bp> );
  739                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 55; extern void __fastcall strcat( char *destination<_di>, char *source<_bp> );
  740                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 57; extern unsigned int __fastcall strlen( char *source<_bp> );
  741                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 59; extern unsigned int __fastcall strlcpy( char *destination<_di>, char *source<_bp>, unsigned char size<acc> );
  742                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 60; extern unsigned int __fastcall strlcat( char *destination<_di>, char *source<_bp>, unsigned char size<acc> );
  743                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 62; extern void __fastcall memcpy( unsigned char *destination<ram_tii_dst>, unsigned char *source<ram_tii_src>, unsigned int count<acc> );
  744                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 63; extern void __fastcall farmemcpy( unsigned char *destination<ram_tii_dst>, unsigned char __far *source<_bp_bank:ram_tii_src>, unsigned int count<acc> );
  745                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 64; extern void __fastcall far_memcpy( unsigned char *destination<ram_tii_dst>, unsigned int count<acc> );
  746                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 66; extern unsigned char * __fastcall mempcpy( unsigned char *destination<ram_tii_dst>, unsigned char *source<ram_tii_src>, unsigned int count<acc> );
  747                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 67; extern unsigned char * __fastcall farmempcpy( unsigned char *destination<ram_tii_dst>, unsigned char __far *source<_bp_bank:ram_tii_src>, unsigned int count<acc> );
  748                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 68; extern unsigned char * __fastcall far_mempcpy( unsigned char *destination<ram_tii_dst>, unsigned int count<acc> );
  749                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 70; extern void __fastcall memset( unsigned char *destination<ram_tii_src>, unsigned char value<_al>, unsigned int count<acc> );
  750                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 72; //  0 	if strings are equal
  751                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 73; //  1 	if the first non-matching character in string1 > string2 (in ASCII).
  752                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 74; // -1 	if the first non-matching character in string1 < string2 (in ASCII).
  753                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 76; extern int __fastcall strcmp( char *string1<_di>, char *string2<_bp> );
  754                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 77; extern int __fastcall strncmp( char *string1<_di>, char *string2<_bp>, unsigned int count<_ax> );
  755                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 79; extern int __fastcall __macro memcmp( unsigned char *string1<_di>, unsigned char *string2<_bp>, unsigned int count<acc> );
  756                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 80; extern int __fastcall farmemcmp( unsigned char *string1<_di>, unsigned char __far *string2<_bp_bank:_bp>, unsigned int count<acc> );
  757                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 81; extern int __fastcall far_memcmp( unsigned char *string1<_di>, unsigned int count<acc> );
  758                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 83; #endif // __HUCC__
  759                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 85; #endif // _hucc_string_h
  760                        		.dbg	line,	"..\..\..\include\hucc\string.h", 3; #endif
  761                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 44; #endif // _hucc_legacy_h
  762                        		.dbg	line,	"main.c", 2; #include "hucc-scroll.h"
  763                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 1; #ifndef _hucc_scroll_h
  764                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 2; #define _hucc_scroll_h
  765                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 4; /****************************************************************************
  766                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 5; ; ***************************************************************************
  767                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 6; ;
  768                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 7; ; hucc-scroll.h
  769                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 8; ;
  770                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 9; ; Routines for a fast split-screen scrolling system.
  771                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 10; ;
  772                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 11; ; Copyright John Brandwood 2024.
  773                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 12; ;
  774                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 13; ; Distributed under the Boost Software License, Version 1.0.
  775                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
  776                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
  777                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 16; ;
  778                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 17; ; ***************************************************************************
  779                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 18; ; ***************************************************************************
  780                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 19; ;
  781                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 20; ; The maximum number of splits for each screen layer is set in your project's
  782                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 21; ; "hucc-config.inc" file, with the library having a limit of 128-per-layer.
  783                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 22; ;
  784                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 23; ; Your first active split must be defined to start at screen line 0, and then
  785                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 24; ; the rest of the active splits must be in increasing line order to match the
  786                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 25; ; way that the PC Engine displays the output image.
  787                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 26; ;
  788                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 27; ; You can have disabled splits interleaved with your active splits.
  789                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 28; ;
  790                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 29; ; Splits that are normally disabled can be used to create full screen effects
  791                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 30; ; such as bouncing the screen up and down by adding blank areas at the top or
  792                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 31; ; bottom of the screen, and then rapidly changing the height of those areas.
  793                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 32; ;
  794                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 33; ; ***************************************************************************
  795                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 34; ; **************************************************************************/
  796                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 36; // *************
  797                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 37; // VDC bits for display_flags ...
  798                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 38; // *************
  799                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 40; #ifndef BKG_OFF
  800                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 41; #define BKG_OFF 0x00
  801                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 42; #endif
  802                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 44; #ifndef SPR_OFF
  803                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 45; #define SPR_OFF 0x00
  804                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 46; #endif
  805                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 48; #ifndef BKG_ON
  806                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 49; #define BKG_ON 0x80
  807                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 50; #endif
  808                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 52; #ifndef SPR_ON
  809                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 53; #define SPR_ON 0x40
  810                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 54; #endif
  811                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 56; // *************
  812                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 57; // Functions in hucc-scroll.asm ...
  813                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 58; // *************
  814                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 60; #ifdef __HUCC__
  815                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 62; #asmdef	HUCC_USES_NEW_SCROLL 1
  816               0001     	HUCC_USES_NEW_SCROLL = 1
  817                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 64; extern void __fastcall scroll_split( unsigned char index<_al>, unsigned char screen_line<_ah>, unsigned int bat_x<_bx>, unsigned int bat_y<_cx>, unsigned char display_flags<_dl> );
  818                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 65; extern void __fastcall sgx_scroll_split( unsigned char index<_al>, unsigned char screen_line<_ah>, unsigned int bat_x<_bx>, unsigned int bat_y<_cx>, unsigned char display_flags<_dl> );
  819                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 67; extern void __fastcall disable_split( unsigned char index<acc> );
  820                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 68; extern void __fastcall sgx_disable_split( unsigned char index<acc> );
  821                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 70; extern void __fastcall __macro disable_all_splits( void );
  822                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 71; extern void __fastcall __macro sgx_disable_all_splits( void );
  823                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 73; #asm
  824                        		.dbg	clear
  825                        			.macro	_disable_all_splits
  826                        			ldy	#HUCC_PCE_SPLITS - 1
  827                        	!loop:		tya
  828                        			call	_disable_split.1
  829                        			dey
  830                        			bpl	!loop-
  831                        			.endm
  832                        			.macro	_sgx_disable_all_splits
  833                        			ldy	#HUCC_SGX_SPLITS - 1
  834                        	!loop:		tya
  835                        			call	_sgx_disable_split.1
  836                        			dey
  837                        			bpl	!loop-
  838                        			.endm
  839                        	
  840                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 89; #endasm
  841                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 91; #endif // __HUCC__
  842                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 93; #endif // _hucc_scroll_h
  843                        		.dbg	line,	"main.c", 3; #include "hucc-chrmap.h"
  844                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 1; #ifndef _hucc_chrmap_h
  845                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 2; #define _hucc_chrmap_h
  846                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 4; /****************************************************************************
  847                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 5; ; ***************************************************************************
  848                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 6; ;
  849                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 7; ; hucc-chrmap.h
  850                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 8; ;
  851                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 9; ; A simple map system based on 8x8 characters (aka "tiles") in BAT format.
  852                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 10; ;
  853                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 11; ; Copyright John Brandwood 2025.
  854                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 12; ;
  855                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 13; ; Distributed under the Boost Software License, Version 1.0.
  856                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
  857                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
  858                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 16; ;
  859                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 17; ; ***************************************************************************
  860                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 18; ; ***************************************************************************
  861                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 19; ;
  862                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 20; ; The maximum X and Y size for chrmaps is 256 characters (2048 pixels).
  863                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 21; ;
  864                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 22; ; The maximum total size for a chrmap is 16KBytes, which allows for maps up
  865                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 23; ; to 256x32 tiles (2048x256 pixels).
  866                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 24; ;
  867                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 25; ; ***************************************************************************
  868                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 26; ; **************************************************************************/
  869                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 28; // *************
  870                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 29; // This code extends the blkmap library ...
  871                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 30; // *************
  872                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 32; #include "hucc-blkmap.h"
  873                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 1; #ifndef _hucc_blkmap_h
  874                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 2; #define _hucc_blkmap_h
  875                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 4; /****************************************************************************
  876                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 5; ; ***************************************************************************
  877                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 6; ;
  878                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 7; ; hucc-blkmap.h
  879                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 8; ;
  880                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 9; ; A map system based on 16x16 meta-tiles (aka "blocks", aka CHR/BLK/MAP).
  881                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 10; ;
  882                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 11; ; Copyright John Brandwood 2025.
  883                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 12; ;
  884                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 13; ; Distributed under the Boost Software License, Version 1.0.
  885                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
  886                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
  887                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 16; ;
  888                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 17; ; ***************************************************************************
  889                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 18; ; ***************************************************************************
  890                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 19; ;
  891                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 20; ; The maximum X and Y size for blkmaps is 128 blocks (2048 pixels).
  892                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 21; ;
  893                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 22; ; The maximum total size for a blkmap is 16KBytes, which allows for maps up
  894                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 23; ; to 128x128 blocks (2048x2048 pixels).
  895                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 24; ;
  896                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 25; ; Huge multi-screen blkmaps are also supported (optionally).
  897                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 26; ;
  898                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 27; ; The maximum X and Y for multi-screen maps is 128 screens (32768 pixels).
  899                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 28; ;
  900                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 29; ; The maximum total size for a multi-screen map is 8KBytes, which allows for
  901                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 30; ; a total of 1024 screens.
  902                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 31; ;
  903                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 32; ; ***************************************************************************
  904                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 33; ; **************************************************************************/
  905                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 35; // *************
  906                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 36; // Functions in blkmap.asm ...
  907                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 37; // *************
  908                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 39; #ifdef __HUCC__
  909                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 41; #asmdef	HUCC_USES_BLKMAP 1
  910               0001     	HUCC_USES_BLKMAP = 1
  911                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 43; // Current top-left of drawn map in pixels.
  912                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 44; extern unsigned int   vdc_map_pxl_x;
  913                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 45; extern unsigned int   vdc_map_pxl_y;
  914                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 47; // Width and height to draw/scroll in characters (not tiles).
  915                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 48; extern unsigned char  vdc_map_draw_w;
  916                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 49; extern unsigned char  vdc_map_draw_h;
  917                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 51; // Width of map (or multi-screen BAT) in tiles.
  918                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 52; extern unsigned char  vdc_map_line_w;
  919                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 54; // Width of map in screens (if multi-screen map).
  920                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 55; extern unsigned char  vdc_map_scrn_w;
  921                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 57; // Extra information returned by get_map_block() and sgx_get_map_block(),
  922                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 58; // which are the collision flags and the mask/overlay sprite for the BLK.
  923                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 59; extern unsigned char  map_blk_flag;
  924                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 60; extern unsigned char  map_blk_mask;
  925                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 62; extern unsigned char  vdc_scr_bank;
  926                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 63; extern unsigned char *vdc_scr_addr;
  927                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 65; extern unsigned char  vdc_map_bank;
  928                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 66; extern unsigned char *vdc_map_addr;
  929                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 68; extern unsigned char  vdc_blk_bank;
  930                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 69; extern unsigned char *vdc_blk_addr;
  931                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 71; extern unsigned char  vdc_tbl_bank;
  932                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 72; extern unsigned char *vdc_tbl_addr;
  933                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 74; extern void __fastcall set_blocks( unsigned char __far *blk_def<vdc_blk_bank:vdc_blk_addr>, unsigned char __far *flg_def<vdc_tbl_bank:vdc_tbl_addr>, unsigned char number_of_blocks<_al> );
  934                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 75; extern void __fastcall __macro set_blkmap( unsigned char __far *blk_map<vdc_map_bank:vdc_map_addr>, unsigned char blocks_w<vdc_map_line_w> );
  935                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 76; extern void __fastcall __macro set_multimap( unsigned char __far *multi_map<vdc_scr_bank:vdc_scr_addr>, unsigned char screens_w<vdc_map_scrn_w> );
  936                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 78; extern void __fastcall draw_map( void );
  937                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 79; extern void __fastcall scroll_map( void );
  938                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 81; extern void __fastcall blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
  939                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 83; extern unsigned char __fastcall get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
  940                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 85; #asm
  941                        		.dbg	clear
  942                        			.macro	_set_blkmap.2
  943                        			stz	vdc_scr_bank
  944                        			.endm
  945                        			.macro	_set_multimap.2
  946                        			lda	vdc_bat_width
  947                        			lsr	a
  948                        			sta	vdc_map_line_w
  949                        			.endm
  950                        			.macro	SCREEN
  951                        			db	(((\1) & $1FFF) | $6000) >> 8, bank(\1)
  952                        			db	(((\2) & $1FFF) | $4000) >> 8, bank(\2)
  953                        			db	(((\3) & $1FFF) | $6000) >> 8, bank(\3)
  954                        			dw	(\4)
  955                        			.endm
  956                        	
  957                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 102; #endasm
  958                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 104; #ifdef _SGX
  959                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 106; // Current top-left of drawn map in pixels.
  960                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 107; extern unsigned int   sgx_map_pxl_x;
  961                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 108; extern unsigned int   sgx_map_pxl_y;
  962                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 110; // Width and height to draw/scroll in characters (not tiles).
  963                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 111; extern unsigned char  sgx_map_draw_w;
  964                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 112; extern unsigned char  sgx_map_draw_h;
  965                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 114; // Width of map (or multi-screen BAT) in tiles.
  966                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 115; extern unsigned char  sgx_map_line_w;
  967                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 117; // Width of map in screens (if multi-screen map).
  968                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 118; extern unsigned char  sgx_map_scrn_w;
  969                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 120; extern unsigned char  sgx_scr_bank;
  970                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 121; extern unsigned char *sgx_scr_addr;
  971                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 123; extern unsigned char  sgx_map_bank;
  972                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 124; extern unsigned char *sgx_map_addr;
  973                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 126; extern unsigned char  sgx_blk_bank;
  974                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 127; extern unsigned char *sgx_blk_addr;
  975                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 129; extern unsigned char  sgx_tbl_bank;
  976                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 130; extern unsigned char *sgx_tbl_addr;
  977                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 132; extern void __fastcall sgx_set_blocks( unsigned char __far *blk_def<sgx_blk_bank:sgx_blk_addr>, unsigned char __far *flg_def<sgx_tbl_bank:sgx_tbl_addr>, unsigned char number_of_blocks<_al> );
  978                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 133; extern void __fastcall __macro sgx_set_blkmap( unsigned char __far *blk_map<sgx_map_bank:sgx_map_addr>, unsigned char blocks_w<sgx_map_line_w> );
  979                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 134; extern void __fastcall __macro sgx_set_multimap( unsigned char __far *multi_map<sgx_scr_bank:sgx_scr_addr>, unsigned char screens_w<sgx_map_scrn_w> );
  980                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 136; extern void __fastcall sgx_draw_map( void );
  981                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 137; extern void __fastcall sgx_scroll_map( void );
  982                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 139; extern void __fastcall sgx_blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
  983                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 141; extern unsigned char __fastcall sgx_get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
  984                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 143; #asm
  985                        		.dbg	clear
  986                        			.macro	_sgx_set_blkmap.2
  987                        			stz	sgx_scr_bank
  988                        			.endm
  989                        			.macro	_sgx_set_multimap.2
  990                        			lda	sgx_bat_width
  991                        			lsr	a
  992                        			sta	sgx_map_line_w
  993                        			.endm
  994                        	
  995                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 153; #endasm
  996                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 155; #endif
  997                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 157; #endif // __HUCC__
  998                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 159; #endif // _hucc_blkmap_h
  999                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 34; // *************
 1000                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 35; // Functions in chrmap.asm ...
 1001                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 36; // *************
 1002                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 38; #ifdef __HUCC__
 1003                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 40; #asmdef	HUCC_USES_CHRMAP 1
 1004               0001     	HUCC_USES_CHRMAP = 1
 1005                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 42; extern void __fastcall __nop set_chrmap( unsigned char __far *chrmap<vdc_map_bank:vdc_map_addr>, unsigned char tiles_w<vdc_map_line_w> );
 1006                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 44; extern void __fastcall draw_bat( void );
 1007                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 45; extern void __fastcall scroll_bat( void );
 1008                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 47; extern void __fastcall blit_bat( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 1009                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 49; #ifdef _SGX
 1010                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 51; extern void __fastcall __nop sgx_set_chrmap( unsigned char __far *chrmap<sgx_map_bank:sgx_map_addr>, unsigned char tiles_w<sgx_map_line_w> );
 1011                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 53; extern void __fastcall sgx_draw_bat( void );
 1012                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 54; extern void __fastcall sgx_scroll_bat( void );
 1013                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 56; extern void __fastcall sgx_blit_bat( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 1014                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 58; #endif
 1015                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 60; #endif // __HUCC__
 1016                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 62; #endif // _hucc_chrmap_h
 1017                        		.dbg	line,	"main.c", 4; #include "hucc-blkmap.h"
 1018                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 1; #ifndef _hucc_blkmap_h
 1019                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 2; #define _hucc_blkmap_h
 1020                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 4; /****************************************************************************
 1021                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 5; ; ***************************************************************************
 1022                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 6; ;
 1023                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 7; ; hucc-blkmap.h
 1024                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 8; ;
 1025                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 9; ; A map system based on 16x16 meta-tiles (aka "blocks", aka CHR/BLK/MAP).
 1026                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 10; ;
 1027                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 11; ; Copyright John Brandwood 2025.
 1028                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 12; ;
 1029                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 1030                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 1031                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 1032                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 16; ;
 1033                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 17; ; ***************************************************************************
 1034                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 18; ; ***************************************************************************
 1035                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 19; ;
 1036                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 20; ; The maximum X and Y size for blkmaps is 128 blocks (2048 pixels).
 1037                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 21; ;
 1038                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 22; ; The maximum total size for a blkmap is 16KBytes, which allows for maps up
 1039                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 23; ; to 128x128 blocks (2048x2048 pixels).
 1040                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 24; ;
 1041                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 25; ; Huge multi-screen blkmaps are also supported (optionally).
 1042                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 26; ;
 1043                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 27; ; The maximum X and Y for multi-screen maps is 128 screens (32768 pixels).
 1044                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 28; ;
 1045                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 29; ; The maximum total size for a multi-screen map is 8KBytes, which allows for
 1046                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 30; ; a total of 1024 screens.
 1047                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 31; ;
 1048                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 32; ; ***************************************************************************
 1049                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 33; ; **************************************************************************/
 1050                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 35; // *************
 1051                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 36; // Functions in blkmap.asm ...
 1052                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 37; // *************
 1053                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 39; #ifdef __HUCC__
 1054                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 41; #asmdef	HUCC_USES_BLKMAP 1
 1055                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 43; // Current top-left of drawn map in pixels.
 1056                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 44; extern unsigned int   vdc_map_pxl_x;
 1057                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 45; extern unsigned int   vdc_map_pxl_y;
 1058                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 47; // Width and height to draw/scroll in characters (not tiles).
 1059                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 48; extern unsigned char  vdc_map_draw_w;
 1060                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 49; extern unsigned char  vdc_map_draw_h;
 1061                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 51; // Width of map (or multi-screen BAT) in tiles.
 1062                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 52; extern unsigned char  vdc_map_line_w;
 1063                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 54; // Width of map in screens (if multi-screen map).
 1064                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 55; extern unsigned char  vdc_map_scrn_w;
 1065                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 57; // Extra information returned by get_map_block() and sgx_get_map_block(),
 1066                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 58; // which are the collision flags and the mask/overlay sprite for the BLK.
 1067                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 59; extern unsigned char  map_blk_flag;
 1068                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 60; extern unsigned char  map_blk_mask;
 1069                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 62; extern unsigned char  vdc_scr_bank;
 1070                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 63; extern unsigned char *vdc_scr_addr;
 1071                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 65; extern unsigned char  vdc_map_bank;
 1072                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 66; extern unsigned char *vdc_map_addr;
 1073                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 68; extern unsigned char  vdc_blk_bank;
 1074                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 69; extern unsigned char *vdc_blk_addr;
 1075                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 71; extern unsigned char  vdc_tbl_bank;
 1076                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 72; extern unsigned char *vdc_tbl_addr;
 1077                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 74; extern void __fastcall set_blocks( unsigned char __far *blk_def<vdc_blk_bank:vdc_blk_addr>, unsigned char __far *flg_def<vdc_tbl_bank:vdc_tbl_addr>, unsigned char number_of_blocks<_al> );
 1078                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 75; extern void __fastcall __macro set_blkmap( unsigned char __far *blk_map<vdc_map_bank:vdc_map_addr>, unsigned char blocks_w<vdc_map_line_w> );
 1079                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 76; extern void __fastcall __macro set_multimap( unsigned char __far *multi_map<vdc_scr_bank:vdc_scr_addr>, unsigned char screens_w<vdc_map_scrn_w> );
 1080                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 78; extern void __fastcall draw_map( void );
 1081                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 79; extern void __fastcall scroll_map( void );
 1082                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 81; extern void __fastcall blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 1083                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 83; extern unsigned char __fastcall get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
 1084                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 85; #asm
 1085                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 86; .macro	_set_blkmap.2
 1086                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 87; stz	vdc_scr_bank
 1087                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 88; .endm
 1088                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 90; .macro	_set_multimap.2
 1089                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 91; lda	vdc_bat_width
 1090                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 92; lsr	a
 1091                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 93; sta	vdc_map_line_w
 1092                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 94; .endm
 1093                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 96; .macro	SCREEN
 1094                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 97; db	(((\1) & $1FFF) | $6000) >> 8, bank(\1)
 1095                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 98; db	(((\2) & $1FFF) | $4000) >> 8, bank(\2)
 1096                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 99; db	(((\3) & $1FFF) | $6000) >> 8, bank(\3)
 1097                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 100; dw	(\4)
 1098                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 101; .endm
 1099                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 102; #endasm
 1100                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 104; #ifdef _SGX
 1101                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 106; // Current top-left of drawn map in pixels.
 1102                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 107; extern unsigned int   sgx_map_pxl_x;
 1103                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 108; extern unsigned int   sgx_map_pxl_y;
 1104                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 110; // Width and height to draw/scroll in characters (not tiles).
 1105                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 111; extern unsigned char  sgx_map_draw_w;
 1106                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 112; extern unsigned char  sgx_map_draw_h;
 1107                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 114; // Width of map (or multi-screen BAT) in tiles.
 1108                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 115; extern unsigned char  sgx_map_line_w;
 1109                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 117; // Width of map in screens (if multi-screen map).
 1110                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 118; extern unsigned char  sgx_map_scrn_w;
 1111                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 120; extern unsigned char  sgx_scr_bank;
 1112                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 121; extern unsigned char *sgx_scr_addr;
 1113                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 123; extern unsigned char  sgx_map_bank;
 1114                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 124; extern unsigned char *sgx_map_addr;
 1115                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 126; extern unsigned char  sgx_blk_bank;
 1116                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 127; extern unsigned char *sgx_blk_addr;
 1117                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 129; extern unsigned char  sgx_tbl_bank;
 1118                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 130; extern unsigned char *sgx_tbl_addr;
 1119                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 132; extern void __fastcall sgx_set_blocks( unsigned char __far *blk_def<sgx_blk_bank:sgx_blk_addr>, unsigned char __far *flg_def<sgx_tbl_bank:sgx_tbl_addr>, unsigned char number_of_blocks<_al> );
 1120                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 133; extern void __fastcall __macro sgx_set_blkmap( unsigned char __far *blk_map<sgx_map_bank:sgx_map_addr>, unsigned char blocks_w<sgx_map_line_w> );
 1121                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 134; extern void __fastcall __macro sgx_set_multimap( unsigned char __far *multi_map<sgx_scr_bank:sgx_scr_addr>, unsigned char screens_w<sgx_map_scrn_w> );
 1122                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 136; extern void __fastcall sgx_draw_map( void );
 1123                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 137; extern void __fastcall sgx_scroll_map( void );
 1124                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 139; extern void __fastcall sgx_blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 1125                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 141; extern unsigned char __fastcall sgx_get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
 1126                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 143; #asm
 1127                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 144; .macro	_sgx_set_blkmap.2
 1128                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 145; stz	sgx_scr_bank
 1129                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 146; .endm
 1130                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 148; .macro	_sgx_set_multimap.2
 1131                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 149; lda	sgx_bat_width
 1132                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 150; lsr	a
 1133                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 151; sta	sgx_map_line_w
 1134                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 152; .endm
 1135                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 153; #endasm
 1136                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 155; #endif
 1137                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 157; #endif // __HUCC__
 1138                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 159; #endif // _hucc_blkmap_h
 1139                        		.dbg	line,	"main.c", 7; #include "include/constants.c"
 1140                        		.dbg	line,	"include\constants.c", 1; //*****************************************************************************//
 1141                        		.dbg	line,	"include\constants.c", 2; //                                                                             //
 1142                        		.dbg	line,	"include\constants.c", 3; //                                SYSTEM CONSTANTS                             //
 1143                        		.dbg	line,	"include\constants.c", 4; //                                                                             //
 1144                        		.dbg	line,	"include\constants.c", 5; //*****************************************************************************//
 1145                        		.dbg	line,	"include\constants.c", 7; #define FALSE 0
 1146                        		.dbg	line,	"include\constants.c", 8; #define TRUE  1
 1147                        		.dbg	line,	"include\constants.c", 10; #define YES   1
 1148                        		.dbg	line,	"include\constants.c", 11; #define NO    2
 1149                        		.dbg	line,	"include\constants.c", 13; #define JOYPAD_1 0
 1150                        		.dbg	line,	"include\constants.c", 14; #define JOYPAD_2 1
 1151                        		.dbg	line,	"include\constants.c", 16; #define BAT_SIZE_W 2048 // IN PIXELS
 1152                        		.dbg	line,	"include\constants.c", 17; #define BAT_SIZE_H 256  // IN PIXELS
 1153                        		.dbg	line,	"include\constants.c", 19; #define NUMBERS_FONT_VRAM_ADR   0x0900
 1154                        		.dbg	line,	"include\constants.c", 21; #define JOY_DIR_PRESSED (JOY_DOWN | JOY_UP | JOY_RIGHT | JOY_LEFT)
 1155                        		.dbg	line,	"include\constants.c", 24; #define TILES_1   16
 1156                        		.dbg	line,	"include\constants.c", 25; #define TILES_2   32
 1157                        		.dbg	line,	"include\constants.c", 26; #define TILES_3   48
 1158                        		.dbg	line,	"include\constants.c", 27; #define TILES_4   64
 1159                        		.dbg	line,	"include\constants.c", 28; #define TILES_8   128
 1160                        		.dbg	line,	"include\constants.c", 29; #define TILES_12  192
 1161                        		.dbg	line,	"include\constants.c", 30; #define TILES_16  256
 1162                        		.dbg	line,	"include\constants.c", 31; #define TILES_24  384
 1163                        		.dbg	line,	"include\constants.c", 32; #define TILES_32  512
 1164                        		.dbg	line,	"include\constants.c", 33; #define TILES_48  768
 1165                        		.dbg	line,	"include\constants.c", 34; #define TILES_64  1024
 1166                        		.dbg	line,	"include\constants.c", 35; #define TILES_80  1280
 1167                        		.dbg	line,	"include\constants.c", 36; #define TILES_96  1536
 1168                        		.dbg	line,	"include\constants.c", 37; #define TILES_128 2048
 1169                        		.dbg	line,	"include\constants.c", 38; #define TILES_144 2304
 1170                        		.dbg	line,	"include\constants.c", 39; #define TILES_160 2560
 1171                        		.dbg	line,	"include\constants.c", 40; #define TILES_256 4096
 1172                        		.dbg	line,	"include\constants.c", 41; #define TILES_384 6144
 1173                        		.dbg	line,	"include\constants.c", 42; #define TILES_400 6400
 1174                        		.dbg	line,	"include\constants.c", 48; #define SEQUENCE_TITLE          0
 1175                        		.dbg	line,	"include\constants.c", 49; #define SEQUENCE_INTRO          1
 1176                        		.dbg	line,	"include\constants.c", 50; #define SEQUENCE_LEVEL          2
 1177                        		.dbg	line,	"include\constants.c", 51; #define SEQUENCE_NPC            3
 1178                        		.dbg	line,	"include\constants.c", 52; #define SEQUENCE_SHOP           4
 1179                        		.dbg	line,	"include\constants.c", 55; #define CAMERA_RECENTER_VELOCITY    4
 1180                        		.dbg	line,	"include\constants.c", 60; //-----------------------------------------------------------------------------//
 1181                        		.dbg	line,	"include\constants.c", 61; //                                                                             //
 1182                        		.dbg	line,	"include\constants.c", 62; //                                    INTRO                                    //
 1183                        		.dbg	line,	"include\constants.c", 63; //                                                                             //
 1184                        		.dbg	line,	"include\constants.c", 64; //-----------------------------------------------------------------------------//
 1185                        		.dbg	line,	"include\constants.c", 66; #define DRAGON_INTRO_VRAM_ADR       0x2C00
 1186                        		.dbg	line,	"include\constants.c", 71; //-----------------------------------------------------------------------------//
 1187                        		.dbg	line,	"include\constants.c", 72; //                                                                             //
 1188                        		.dbg	line,	"include\constants.c", 73; //                                   PLAYER                                    //
 1189                        		.dbg	line,	"include\constants.c", 74; //                                                                             //
 1190                        		.dbg	line,	"include\constants.c", 75; //-----------------------------------------------------------------------------//
 1191                        		.dbg	line,	"include\constants.c", 77; #define AXIS_RIGHT          0
 1192                        		.dbg	line,	"include\constants.c", 78; #define AXIS_LEFT           1
 1193                        		.dbg	line,	"include\constants.c", 79; #define AXIS_UP             2
 1194                        		.dbg	line,	"include\constants.c", 80; #define AXIS_DOWN           3
 1195                        		.dbg	line,	"include\constants.c", 84; #define STATE_IDLE          0
 1196                        		.dbg	line,	"include\constants.c", 85; #define STATE_WALK          1
 1197                        		.dbg	line,	"include\constants.c", 86; #define STATE_ATTACK        2
 1198                        		.dbg	line,	"include\constants.c", 87; #define STATE_JUMP          4
 1199                        		.dbg	line,	"include\constants.c", 88; #define STATE_JUMP_RIGHT    5
 1200                        		.dbg	line,	"include\constants.c", 89; #define STATE_JUMP_LEFT     6
 1201                        		.dbg	line,	"include\constants.c", 90; #define STATE_CROUCH        7
 1202                        		.dbg	line,	"include\constants.c", 91; #define STATE_CROUCH_ATTACK 8
 1203                        		.dbg	line,	"include\constants.c", 92; #define STATE_FALL          9
 1204                        		.dbg	line,	"include\constants.c", 93; #define STATE_HANG          10
 1205                        		.dbg	line,	"include\constants.c", 94; #define STATE_CLIMB_UP      11
 1206                        		.dbg	line,	"include\constants.c", 95; #define STATE_CLIMB_DOWN    12
 1207                        		.dbg	line,	"include\constants.c", 96; #define STATE_JUMP_LADDER   13
 1208                        		.dbg	line,	"include\constants.c", 97; #define STATE_HANG_ATTACK   14
 1209                        		.dbg	line,	"include\constants.c", 102; #define PLAYER_BASE_Y_POS   128
 1210                        		.dbg	line,	"include\constants.c", 104; #define RESPAWN_DEAD        1
 1211                        		.dbg	line,	"include\constants.c", 105; #define RESPAWN_SHOP        2
 1212                        		.dbg	line,	"include\constants.c", 107; #define PLAYER_START_INDEX  14
 1213                        		.dbg	line,	"include\constants.c", 111; #define PLAYER_VRAM_ADR                     0x1400
 1214                        		.dbg	line,	"include\constants.c", 112; #define PLAYER_IDLE_VRAM_ADR                PLAYER_VRAM_ADR
 1215                        		.dbg	line,	"include\constants.c", 113; #define PLAYER_WALK_1_VRAM_ADR              PLAYER_VRAM_ADR+TILES_16
 1216                        		.dbg	line,	"include\constants.c", 114; #define PLAYER_WALK_2_VRAM_ADR              PLAYER_WALK_1_VRAM_ADR+TILES_16
 1217                        		.dbg	line,	"include\constants.c", 115; #define PLAYER_WALK_3_VRAM_ADR              PLAYER_WALK_2_VRAM_ADR+TILES_16
 1218                        		.dbg	line,	"include\constants.c", 116; #define PLAYER_WALK_4_VRAM_ADR              PLAYER_WALK_3_VRAM_ADR+TILES_16
 1219                        		.dbg	line,	"include\constants.c", 117; #define PLAYER_WALK_5_VRAM_ADR              PLAYER_WALK_4_VRAM_ADR+TILES_16
 1220                        		.dbg	line,	"include\constants.c", 118; #define PLAYER_WALK_6_VRAM_ADR              PLAYER_WALK_5_VRAM_ADR+TILES_16
 1221                        		.dbg	line,	"include\constants.c", 120; #define PLAYER_JUMP_VRAM_ADR                PLAYER_WALK_6_VRAM_ADR+TILES_16
 1222                        		.dbg	line,	"include\constants.c", 121; #define PLAYER_CROUCH_VRAM_ADR              PLAYER_JUMP_VRAM_ADR+TILES_16
 1223                        		.dbg	line,	"include\constants.c", 122; #define PLAYER_HANG_VRAM_ADR                PLAYER_CROUCH_VRAM_ADR+TILES_16
 1224                        		.dbg	line,	"include\constants.c", 124; #define PLAYER_CLIMB_1_VRAM_ADR             PLAYER_HANG_VRAM_ADR+TILES_16
 1225                        		.dbg	line,	"include\constants.c", 125; #define PLAYER_CLIMB_2_VRAM_ADR             PLAYER_CLIMB_1_VRAM_ADR+TILES_16
 1226                        		.dbg	line,	"include\constants.c", 126; #define PLAYER_CLIMB_3_VRAM_ADR             PLAYER_CLIMB_2_VRAM_ADR+TILES_16
 1227                        		.dbg	line,	"include\constants.c", 127; #define PLAYER_CLIMB_4_VRAM_ADR             PLAYER_CLIMB_3_VRAM_ADR+TILES_16
 1228                        		.dbg	line,	"include\constants.c", 128; #define PLAYER_CLIMB_5_VRAM_ADR             PLAYER_CLIMB_4_VRAM_ADR+TILES_16
 1229                        		.dbg	line,	"include\constants.c", 129; #define PLAYER_CLIMB_6_VRAM_ADR             PLAYER_CLIMB_5_VRAM_ADR+TILES_16
 1230                        		.dbg	line,	"include\constants.c", 131; #define PLAYER_FALL_VRAM_ADR                PLAYER_CLIMB_6_VRAM_ADR+TILES_16
 1231                        		.dbg	line,	"include\constants.c", 133; #define PLAYER_ATTACK_1_VRAM_ADR            PLAYER_FALL_VRAM_ADR+TILES_16
 1232                        		.dbg	line,	"include\constants.c", 134; #define PLAYER_ATTACK_2_VRAM_ADR            PLAYER_ATTACK_1_VRAM_ADR+TILES_16
 1233                        		.dbg	line,	"include\constants.c", 136; #define PLAYER_CROUCH_ATTACK_1_VRAM_ADR     PLAYER_ATTACK_2_VRAM_ADR+TILES_16
 1234                        		.dbg	line,	"include\constants.c", 137; #define PLAYER_CROUCH_ATTACK_2_VRAM_ADR     PLAYER_CROUCH_ATTACK_1_VRAM_ADR+TILES_16
 1235                        		.dbg	line,	"include\constants.c", 139; #define PLAYER_JUMP_ATTACK_1_VRAM_ADR       PLAYER_CROUCH_ATTACK_2_VRAM_ADR+TILES_16
 1236                        		.dbg	line,	"include\constants.c", 140; #define PLAYER_JUMP_ATTACK_2_VRAM_ADR       PLAYER_JUMP_ATTACK_1_VRAM_ADR+TILES_16
 1237                        		.dbg	line,	"include\constants.c", 142; #define PLAYER_HANG_ATTACK_1_VRAM_ADR       PLAYER_JUMP_ATTACK_2_VRAM_ADR+TILES_16
 1238                        		.dbg	line,	"include\constants.c", 143; #define PLAYER_HANG_ATTACK_2_VRAM_ADR       PLAYER_HANG_ATTACK_1_VRAM_ADR+TILES_16
 1239                        		.dbg	line,	"include\constants.c", 148; //-----------------------------------------------------------------------------//
 1240                        		.dbg	line,	"include\constants.c", 149; //                                                                             //
 1241                        		.dbg	line,	"include\constants.c", 150; //                                  WEAPONS                                    //
 1242                        		.dbg	line,	"include\constants.c", 151; //                                                                             //
 1243                        		.dbg	line,	"include\constants.c", 152; //-----------------------------------------------------------------------------//
 1244                        		.dbg	line,	"include\constants.c", 154; #define CHAIN_VRAM_ADR                  0x7C00
 1245                        		.dbg	line,	"include\constants.c", 155; #define WEAPON_VRAM_ADR                 CHAIN_VRAM_ADR+TILES_4
 1246                        		.dbg	line,	"include\constants.c", 156; #define CHAIN_START_INDEX               PLAYER_START_INDEX-3
 1247                        		.dbg	line,	"include\constants.c", 158; #define WEAPON_IDLE_VRAM_ADRESS         WEAPON_VRAM_ADR
 1248                        		.dbg	line,	"include\constants.c", 159; #define WEAPON_WALK_1_VRAM_ADRESS       WEAPON_IDLE_VRAM_ADRESS+TILES_4
 1249                        		.dbg	line,	"include\constants.c", 160; #define WEAPON_WALK_2_VRAM_ADRESS       WEAPON_WALK_1_VRAM_ADRESS+TILES_4
 1250                        		.dbg	line,	"include\constants.c", 162; #define WEAPON_ATTACK_1_VRAM_ADRESS     WEAPON_WALK_2_VRAM_ADRESS+TILES_4
 1251                        		.dbg	line,	"include\constants.c", 163; #define WEAPON_ATTACK_2_VRAM_ADRESS     WEAPON_ATTACK_1_VRAM_ADRESS+TILES_4
 1252                        		.dbg	line,	"include\constants.c", 168; //-----------------------------------------------------------------------------//
 1253                        		.dbg	line,	"include\constants.c", 169; //                                                                             //
 1254                        		.dbg	line,	"include\constants.c", 170; //                                  COLLISIONS                                 //
 1255                        		.dbg	line,	"include\constants.c", 171; //                                                                             //
 1256                        		.dbg	line,	"include\constants.c", 172; //-----------------------------------------------------------------------------//
 1257                        		.dbg	line,	"include\constants.c", 174; #define TILE_EMPTY          0
 1258                        		.dbg	line,	"include\constants.c", 175; #define TILE_BG             1
 1259                        		.dbg	line,	"include\constants.c", 176; #define TILE_LADDER         2
 1260                        		.dbg	line,	"include\constants.c", 181; //-----------------------------------------------------------------------------//
 1261                        		.dbg	line,	"include\constants.c", 182; //                                                                             //
 1262                        		.dbg	line,	"include\constants.c", 183; //                                     HUD                                     //
 1263                        		.dbg	line,	"include\constants.c", 184; //                                                                             //
 1264                        		.dbg	line,	"include\constants.c", 185; //-----------------------------------------------------------------------------//
 1265                        		.dbg	line,	"include\constants.c", 187; #define LIFEBAR_1_VRAM_ADR      0x1000
 1266                        		.dbg	line,	"include\constants.c", 188; #define LIFEBAR_2_VRAM_ADR      LIFEBAR_1_VRAM_ADR+TILES_2
 1267                        		.dbg	line,	"include\constants.c", 189; #define LIFEBAR_3_VRAM_ADR      LIFEBAR_2_VRAM_ADR+TILES_2
 1268                        		.dbg	line,	"include\constants.c", 190; #define LIFEBAR_4_VRAM_ADR      LIFEBAR_3_VRAM_ADR+TILES_2
 1269                        		.dbg	line,	"include\constants.c", 191; #define LIFEBAR_5_VRAM_ADR      LIFEBAR_4_VRAM_ADR+TILES_2
 1270                        		.dbg	line,	"include\constants.c", 193; #define WEAPON_ICON_VRAM_ADR    LIFEBAR_5_VRAM_ADR+TILES_2
 1271                        		.dbg	line,	"include\constants.c", 194; #define ARMOR_VRAM_ADR          WEAPON_ICON_VRAM_ADR+TILES_4
 1272                        		.dbg	line,	"include\constants.c", 199; //-----------------------------------------------------------------------------//
 1273                        		.dbg	line,	"include\constants.c", 200; //                                                                             //
 1274                        		.dbg	line,	"include\constants.c", 201; //                                    LEVELS                                   //
 1275                        		.dbg	line,	"include\constants.c", 202; //                                                                             //
 1276                        		.dbg	line,	"include\constants.c", 203; //-----------------------------------------------------------------------------//
 1277                        		.dbg	line,	"include\constants.c", 205; #define LV1_WALL_VRAM_ADR       0x1000
 1278                        		.dbg	line,	"include\constants.c", 206; #define LV1_DOOR_VRAM_ADR       LV1_WALL_VRAM_ADR+256
 1279                        		.dbg	line,	"include\constants.c", 211; #define OBJECT_NUMBER_LV1       23
 1280                        		.dbg	line,	"include\constants.c", 212; #define CHEST_NUMBER_LV1        2
 1281                        		.dbg	line,	"include\constants.c", 213; #define NPC_NUMBER_LV1          2
 1282                        		.dbg	line,	"include\constants.c", 215; #define OBJECT_START_INDEX_LV1  0
 1283                        		.dbg	line,	"include\constants.c", 216; #define CHEST_START_INDEX_LV1   OBJECT_START_INDEX_LV1+OBJECT_NUMBER_LV1
 1284                        		.dbg	line,	"include\constants.c", 217; #define NPC_START_INDEX_LV1     CHEST_START_INDEX_LV1+CHEST_NUMBER_LV1
 1285                        		.dbg	line,	"include\constants.c", 222; //-----------------------------------------------------------------------------//
 1286                        		.dbg	line,	"include\constants.c", 223; //                                                                             //
 1287                        		.dbg	line,	"include\constants.c", 224; //                                   OBJECT                                    //
 1288                        		.dbg	line,	"include\constants.c", 225; //                                                                             //
 1289                        		.dbg	line,	"include\constants.c", 226; //-----------------------------------------------------------------------------//
 1290                        		.dbg	line,	"include\constants.c", 228; #define TYPE_HOURGLASS          0
 1291                        		.dbg	line,	"include\constants.c", 229; #define TYPE_POT                1
 1292                        		.dbg	line,	"include\constants.c", 230; #define TYPE_POW                2
 1293                        		.dbg	line,	"include\constants.c", 231; #define TYPE_CHEST              3
 1294                        		.dbg	line,	"include\constants.c", 232; #define TYPE_GRAY_KEY           4
 1295                        		.dbg	line,	"include\constants.c", 233; #define TYPE_GOLD_KEY           5
 1296                        		.dbg	line,	"include\constants.c", 234; #define TYPE_1UP                6
 1297                        		.dbg	line,	"include\constants.c", 235; #define TYPE_COIN_1             7
 1298                        		.dbg	line,	"include\constants.c", 236; #define TYPE_COIN_5             8
 1299                        		.dbg	line,	"include\constants.c", 237; #define TYPE_COIN_10            9
 1300                        		.dbg	line,	"include\constants.c", 238; #define TYPE_COIN_50            10
 1301                        		.dbg	line,	"include\constants.c", 239; #define TYPE_COIN_100           11
 1302                        		.dbg	line,	"include\constants.c", 240; #define TYPE_COIN_500           12
 1303                        		.dbg	line,	"include\constants.c", 241; #define TYPE_COIN_1000          13
 1304                        		.dbg	line,	"include\constants.c", 242; #define TYPE_YASHICHI           14
 1305                        		.dbg	line,	"include\constants.c", 243; #define TYPE_NULL               99
 1306                        		.dbg	line,	"include\constants.c", 246; #define STATE_FREE              0
 1307                        		.dbg	line,	"include\constants.c", 247; #define STATE_ACTIVE            1
 1308                        		.dbg	line,	"include\constants.c", 248; #define STATE_HIT               2
 1309                        		.dbg	line,	"include\constants.c", 249; #define STATE_DROPPED           3
 1310                        		.dbg	line,	"include\constants.c", 251; #define OBJECT_MARGIN           10//9
 1311                        		.dbg	line,	"include\constants.c", 254; #define POT1_VRAM_ADR           0x6800
 1312                        		.dbg	line,	"include\constants.c", 255; #define POT2_VRAM_ADR           POT1_VRAM_ADR+TILES_4
 1313                        		.dbg	line,	"include\constants.c", 256; #define POT3_VRAM_ADR           POT2_VRAM_ADR+TILES_4
 1314                        		.dbg	line,	"include\constants.c", 257; #define POT4_VRAM_ADR           POT3_VRAM_ADR+TILES_4
 1315                        		.dbg	line,	"include\constants.c", 258; #define POT5_VRAM_ADR           POT4_VRAM_ADR+TILES_4
 1316                        		.dbg	line,	"include\constants.c", 259; #define POT6_VRAM_ADR           POT5_VRAM_ADR+TILES_4
 1317                        		.dbg	line,	"include\constants.c", 260; #define POT7_VRAM_ADR           POT6_VRAM_ADR+TILES_4
 1318                        		.dbg	line,	"include\constants.c", 261; #define POT8_VRAM_ADR           POT7_VRAM_ADR+TILES_4
 1319                        		.dbg	line,	"include\constants.c", 263; #define POW_VRAM_ADR            POT8_VRAM_ADR+TILES_4
 1320                        		.dbg	line,	"include\constants.c", 264; #define GRAY_KEY_VRAM_ADR       POW_VRAM_ADR+TILES_4
 1321                        		.dbg	line,	"include\constants.c", 265; //#define GOLD_KEY_VRAM_ADR       GRAY_KEY_VRAM_ADR+TILES_4
 1322                        		.dbg	line,	"include\constants.c", 266; //#define LIFE_VRAM_ADR           GOLD_KEY_VRAM_ADR+TILES_4
 1323                        		.dbg	line,	"include\constants.c", 268; //#define COIN_1_VRAM_ADR         LIFE_VRAM_ADR+TILES_4
 1324                        		.dbg	line,	"include\constants.c", 269; #define COIN_1_VRAM_ADR         GRAY_KEY_VRAM_ADR+TILES_4
 1325                        		.dbg	line,	"include\constants.c", 270; #define COIN_5_VRAM_ADR         COIN_1_VRAM_ADR+TILES_4
 1326                        		.dbg	line,	"include\constants.c", 271; #define COIN_10_VRAM_ADR        COIN_5_VRAM_ADR+TILES_4
 1327                        		.dbg	line,	"include\constants.c", 272; #define COIN_50_VRAM_ADR        COIN_10_VRAM_ADR+TILES_4
 1328                        		.dbg	line,	"include\constants.c", 273; #define COIN_100_VRAM_ADR       COIN_50_VRAM_ADR+TILES_4
 1329                        		.dbg	line,	"include\constants.c", 274; #define COIN_500_VRAM_ADR       COIN_100_VRAM_ADR+TILES_4
 1330                        		.dbg	line,	"include\constants.c", 275; #define COIN_1000_VRAM_ADR      COIN_500_VRAM_ADR+TILES_4
 1331                        		.dbg	line,	"include\constants.c", 277; #define STAR_VRAM_ADR           COIN_1000_VRAM_ADR+TILES_4
 1332                        		.dbg	line,	"include\constants.c", 278; #define OCTOPUS_VRAM_ADR        STAR_VRAM_ADR+TILES_4
 1333                        		.dbg	line,	"include\constants.c", 279; #define FRUIT_VRAM_ADR          OCTOPUS_VRAM_ADR+TILES_4
 1334                        		.dbg	line,	"include\constants.c", 280; #define BARREL_VRAM_ADR         FRUIT_VRAM_ADR+TILES_4
 1335                        		.dbg	line,	"include\constants.c", 281; #define HOURGLASS_VRAM_ADR      BARREL_VRAM_ADR+TILES_4
 1336                        		.dbg	line,	"include\constants.c", 282; #define BAMBOO_VRAM_ADR         HOURGLASS_VRAM_ADR+TILES_4
 1337                        		.dbg	line,	"include\constants.c", 283; #define YASHICHI_VRAM_ADR       BAMBOO_VRAM_ADR+TILES_4
 1338                        		.dbg	line,	"include\constants.c", 284; #define ELEPHANT_VRAM_ADR       YASHICHI_VRAM_ADR+TILES_4
 1339                        		.dbg	line,	"include\constants.c", 285; #define DRAGONFLY_VRAM_ADR      ELEPHANT_VRAM_ADR+TILES_4
 1340                        		.dbg	line,	"include\constants.c", 286; #define COW_VRAM_ADR            DRAGONFLY_VRAM_ADR+TILES_4
 1341                        		.dbg	line,	"include\constants.c", 287; #define MOBICHAN_VRAM_ADR       COW_VRAM_ADR+TILES_4
 1342                        		.dbg	line,	"include\constants.c", 289; #define CHEST_VRAM_ADR          0x6F00//0x7000
 1343                        		.dbg	line,	"include\constants.c", 290; #define NPC_VRAM_ADR            CHEST_VRAM_ADR+TILES_96
 1344                        		.dbg	line,	"include\constants.c", 295; //-----------------------------------------------------------------------------//
 1345                        		.dbg	line,	"include\constants.c", 296; //                                                                             //
 1346                        		.dbg	line,	"include\constants.c", 297; //                                    NPC                                      //
 1347                        		.dbg	line,	"include\constants.c", 298; //                                                                             //
 1348                        		.dbg	line,	"include\constants.c", 299; //-----------------------------------------------------------------------------//
 1349                        		.dbg	line,	"include\constants.c", 301; #define TYPE_NPC_REWARD         0
 1350                        		.dbg	line,	"include\constants.c", 302; #define TYPE_NPC_SHOP           1
 1351                        		.dbg	line,	"include\constants.c", 307; //-----------------------------------------------------------------------------//
 1352                        		.dbg	line,	"include\constants.c", 308; //                                                                             //
 1353                        		.dbg	line,	"include\constants.c", 309; //                                    SHOP                                     //
 1354                        		.dbg	line,	"include\constants.c", 310; //                                                                             //
 1355                        		.dbg	line,	"include\constants.c", 311; //-----------------------------------------------------------------------------//
 1356                        		.dbg	line,	"include\constants.c", 313; #define SHOP_PHASE_ENTER        0
 1357                        		.dbg	line,	"include\constants.c", 314; #define SHOP_PHASE_BUY          1
 1358                        		.dbg	line,	"include\constants.c", 315; #define SHOP_PHASE_EXIT         2
 1359                        		.dbg	line,	"include\constants.c", 317; #define TYPE_ITEM_WEAPON_2      0
 1360                        		.dbg	line,	"include\constants.c", 318; #define TYPE_ITEM_WEAPON_3      1
 1361                        		.dbg	line,	"include\constants.c", 319; #define TYPE_ITEM_WEAPON_4      2
 1362                        		.dbg	line,	"include\constants.c", 320; #define TYPE_ITEM_WEAPON_5      3
 1363                        		.dbg	line,	"include\constants.c", 321; #define TYPE_ITEM_KEY           4
 1364                        		.dbg	line,	"include\constants.c", 323; #define TYPE_ITEM_ARMOR_2       5
 1365                        		.dbg	line,	"include\constants.c", 324; #define TYPE_ITEM_ARMOR_3       6
 1366                        		.dbg	line,	"include\constants.c", 325; #define TYPE_ITEM_ARMOR_4       7
 1367                        		.dbg	line,	"include\constants.c", 326; #define TYPE_ITEM_ARMOR_5       8
 1368                        		.dbg	line,	"include\constants.c", 327; #define TYPE_ITEM_POTION        9
 1369                        		.dbg	line,	"include\constants.c", 332; //-----------------------------------------------------------------------------//
 1370                        		.dbg	line,	"include\constants.c", 333; //                                                                             //
 1371                        		.dbg	line,	"include\constants.c", 334; //                                   ENEMIES                                   //
 1372                        		.dbg	line,	"include\constants.c", 335; //                                                                             //
 1373                        		.dbg	line,	"include\constants.c", 336; //-----------------------------------------------------------------------------//
 1374                        		.dbg	line,	"include\constants.c", 338; //-----------------------------------------------------------------------------//
 1375                        		.dbg	line,	"include\constants.c", 339; //                                     ORC                                     //
 1376                        		.dbg	line,	"include\constants.c", 340; //-----------------------------------------------------------------------------//
 1377                        		.dbg	line,	"include\constants.c", 342; #define ORC_VRAM_ADR                     PLAYER_HANG_ATTACK_2_VRAM_ADR+TILES_16
 1378                        		.dbg	line,	"include\constants.c", 344; #define ORC_WALK_1_VRAM_ADR              ORC_VRAM_ADR
 1379                        		.dbg	line,	"include\constants.c", 345; #define ORC_WALK_2_VRAM_ADR              ORC_WALK_1_VRAM_ADR+TILES_16
 1380                        		.dbg	line,	"include\constants.c", 346; #define ORC_WALK_3_VRAM_ADR              ORC_WALK_2_VRAM_ADR+TILES_16
 1381                        		.dbg	line,	"include\constants.c", 347; #define ORC_ATTACK_1_VRAM_ADR            ORC_WALK_3_VRAM_ADR+TILES_16
 1382                        		.dbg	line,	"include\constants.c", 349; #define ORC_ATTACK_2_VRAM_ADR            ORC_ATTACK_1_VRAM_ADR+TILES_16
 1383                        		.dbg	line,	"include\constants.c", 350; #define ORC_ATTACK_3_VRAM_ADR            ORC_ATTACK_2_VRAM_ADR+TILES_16
 1384                        		.dbg	line,	"include\constants.c", 351; #define ORC_ATTACK_4_VRAM_ADR            ORC_ATTACK_3_VRAM_ADR+TILES_16
 1385                        		.dbg	line,	"include\constants.c", 352; #define ORC_ATTACK_5_VRAM_ADR            ORC_ATTACK_4_VRAM_ADR+TILES_16
 1386                        		.dbg	line,	"include\constants.c", 353; #define ORC_ATTACK_6_VRAM_ADR            ORC_ATTACK_5_VRAM_ADR+TILES_16
 1387                        		.dbg	line,	"include\constants.c", 355; #define ORC_DEAD_1_VRAM_ADR              ORC_ATTACK_6_VRAM_ADR+TILES_16
 1388                        		.dbg	line,	"include\constants.c", 356; #define ORC_DEAD_2_VRAM_ADR              ORC_DEAD_1_VRAM_ADR+TILES_16
 1389                        		.dbg	line,	"include\constants.c", 357; #define ORC_DEAD_3_VRAM_ADR              ORC_DEAD_2_VRAM_ADR+TILES_16
 1390                        		.dbg	line,	"include\constants.c", 358; #define ORC_DEAD_4_VRAM_ADR              ORC_DEAD_3_VRAM_ADR+TILES_16
 1391                        		.dbg	line,	"include\constants.c", 360; #define ORC_AXE_1_VRAM_ADR               ORC_DEAD_4_VRAM_ADR+TILES_16
 1392                        		.dbg	line,	"include\constants.c", 361; #define ORC_AXE_2_VRAM_ADR               ORC_AXE_1_VRAM_ADR+TILES_4
 1393                        		.dbg	line,	"include\constants.c", 362; #define ORC_AXE_3_VRAM_ADR               ORC_AXE_2_VRAM_ADR+TILES_4
 1394                        		.dbg	line,	"include\constants.c", 363; #define ORC_AXE_4_VRAM_ADR               ORC_AXE_3_VRAM_ADR+TILES_4
 1395                        		.dbg	line,	"include\constants.c", 364; #define ORC_AXE_5_VRAM_ADR               ORC_AXE_4_VRAM_ADR+TILES_4
 1396                        		.dbg	line,	"include\constants.c", 365; #define ORC_AXE_6_VRAM_ADR               ORC_AXE_5_VRAM_ADR+TILES_4
 1397                        		.dbg	line,	"include\constants.c", 368; //-----------------------------------------------------------------------------//
 1398                        		.dbg	line,	"include\constants.c", 369; //                                                                             //
 1399                        		.dbg	line,	"include\constants.c", 370; //                                   SERPENT                                   //
 1400                        		.dbg	line,	"include\constants.c", 371; //                                                                             //
 1401                        		.dbg	line,	"include\constants.c", 372; //-----------------------------------------------------------------------------//
 1402                        		.dbg	line,	"include\constants.c", 374; #define SERPENT_VRAM_ADR                    ORC_AXE_6_VRAM_ADR+TILES_4
 1403                        		.dbg	line,	"include\constants.c", 375; #define SERPENT_LEFT_VRAM_ADR               SERPENT_VRAM_ADR
 1404                        		.dbg	line,	"include\constants.c", 376; #define SERPENT_FRONT_VRAM_ADR              SERPENT_LEFT_VRAM_ADR+TILES_16
 1405                        		.dbg	line,	"include\constants.c", 377; #define SERPENT_RIGHT_VRAM_ADR              SERPENT_FRONT_VRAM_ADR+TILES_16
 1406                        		.dbg	line,	"include\constants.c", 378; #define SERPENT_ATTACK_LEFT_VRAM_ADR        SERPENT_RIGHT_VRAM_ADR+TILES_16
 1407                        		.dbg	line,	"include\constants.c", 379; #define SERPENT_ATTACK_FRONT_VRAM_ADR       SERPENT_ATTACK_LEFT_VRAM_ADR+TILES_16
 1408                        		.dbg	line,	"include\constants.c", 380; #define SERPENT_ATTACK_RIGHT_VRAM_ADR       SERPENT_ATTACK_FRONT_VRAM_ADR+TILES_16
 1409                        		.dbg	line,	"include\constants.c", 383; //-----------------------------------------------------------------------------//
 1410                        		.dbg	line,	"include\constants.c", 384; //                                                                             //
 1411                        		.dbg	line,	"include\constants.c", 385; //                                    PLANT                                    //
 1412                        		.dbg	line,	"include\constants.c", 386; //                                                                             //
 1413                        		.dbg	line,	"include\constants.c", 387; //-----------------------------------------------------------------------------//
 1414                        		.dbg	line,	"include\constants.c", 389; #define PLANT_VRAM_ADR                      SERPENT_ATTACK_RIGHT_VRAM_ADR+TILES_16
 1415                        		.dbg	line,	"include\constants.c", 390; #define PLANT_IDLE_VRAM_ADR                 PLANT_VRAM_ADR
 1416                        		.dbg	line,	"main.c", 8; #include "include/variables.c"
 1417                        		.dbg	line,	"include\variables.c", 1; #include "huc.h"
 1418                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 1; #ifndef _hucc_legacy_h
 1419                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 2; #define _hucc_legacy_h
 1420                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 4; /****************************************************************************
 1421                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 5; ; ***************************************************************************
 1422                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 6; ;
 1423                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 7; ; huc.h
 1424                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 8; ;
 1425                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 9; ; HuCC wrapper file to include a default set of HuC-compatible functions.
 1426                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 10; ;
 1427                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 11; ; Copyright John Brandwood 2024.
 1428                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 12; ;
 1429                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 1430                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 1431                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 1432                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 16; ;
 1433                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 17; ; ***************************************************************************
 1434                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 18; ; ***************************************************************************
 1435                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 19; ;
 1436                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 20; ; When the HuCC compiler is invoked with the "--legacy" option to compile old
 1437                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 21; ; projects, then this "huc.h" file is automatically included.
 1438                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 22; ;
 1439                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 23; ; This file includes a set of the individual HuCC headers which correspond to
 1440                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 24; ; HuC's built-in functions and MagicKit library.
 1441                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 25; ;
 1442                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 26; ; New HuCC projects should, preferably, include the specific headers that are
 1443                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 27; ; needed, which will then allow them to replace parts of the standard library
 1444                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 28; ; with newer functions, or they can just manually include this "huc.h" file.
 1445                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 29; ;
 1446                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 30; ; ***************************************************************************
 1447                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 31; ; **************************************************************************/
 1448                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 33; #include "hucc-systemcard.h"
 1449                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 34; #include "hucc-baselib.h"
 1450                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 35; #include "hucc-gfx.h"
 1451                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 36; #include "hucc-old-scroll.h"
 1452                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 37; #include "hucc-old-spr.h"
 1453                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 38; #include "hucc-old-map.h"
 1454                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 39; #include "hucc-old-line.h"
 1455                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 41; #include <stdlib.h>
 1456                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 42; #include <string.h>
 1457                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 44; #endif // _hucc_legacy_h
 1458                        		.dbg	line,	"include\variables.c", 2; #include "hucc-scroll.h"
 1459                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 1; #ifndef _hucc_scroll_h
 1460                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 2; #define _hucc_scroll_h
 1461                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 4; /****************************************************************************
 1462                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 5; ; ***************************************************************************
 1463                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 6; ;
 1464                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 7; ; hucc-scroll.h
 1465                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 8; ;
 1466                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 9; ; Routines for a fast split-screen scrolling system.
 1467                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 10; ;
 1468                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 11; ; Copyright John Brandwood 2024.
 1469                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 12; ;
 1470                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 1471                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 1472                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 1473                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 16; ;
 1474                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 17; ; ***************************************************************************
 1475                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 18; ; ***************************************************************************
 1476                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 19; ;
 1477                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 20; ; The maximum number of splits for each screen layer is set in your project's
 1478                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 21; ; "hucc-config.inc" file, with the library having a limit of 128-per-layer.
 1479                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 22; ;
 1480                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 23; ; Your first active split must be defined to start at screen line 0, and then
 1481                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 24; ; the rest of the active splits must be in increasing line order to match the
 1482                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 25; ; way that the PC Engine displays the output image.
 1483                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 26; ;
 1484                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 27; ; You can have disabled splits interleaved with your active splits.
 1485                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 28; ;
 1486                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 29; ; Splits that are normally disabled can be used to create full screen effects
 1487                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 30; ; such as bouncing the screen up and down by adding blank areas at the top or
 1488                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 31; ; bottom of the screen, and then rapidly changing the height of those areas.
 1489                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 32; ;
 1490                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 33; ; ***************************************************************************
 1491                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 34; ; **************************************************************************/
 1492                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 36; // *************
 1493                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 37; // VDC bits for display_flags ...
 1494                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 38; // *************
 1495                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 40; #ifndef BKG_OFF
 1496                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 41; #define BKG_OFF 0x00
 1497                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 42; #endif
 1498                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 44; #ifndef SPR_OFF
 1499                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 45; #define SPR_OFF 0x00
 1500                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 46; #endif
 1501                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 48; #ifndef BKG_ON
 1502                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 49; #define BKG_ON 0x80
 1503                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 50; #endif
 1504                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 52; #ifndef SPR_ON
 1505                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 53; #define SPR_ON 0x40
 1506                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 54; #endif
 1507                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 56; // *************
 1508                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 57; // Functions in hucc-scroll.asm ...
 1509                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 58; // *************
 1510                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 60; #ifdef __HUCC__
 1511                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 62; #asmdef	HUCC_USES_NEW_SCROLL 1
 1512                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 64; extern void __fastcall scroll_split( unsigned char index<_al>, unsigned char screen_line<_ah>, unsigned int bat_x<_bx>, unsigned int bat_y<_cx>, unsigned char display_flags<_dl> );
 1513                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 65; extern void __fastcall sgx_scroll_split( unsigned char index<_al>, unsigned char screen_line<_ah>, unsigned int bat_x<_bx>, unsigned int bat_y<_cx>, unsigned char display_flags<_dl> );
 1514                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 67; extern void __fastcall disable_split( unsigned char index<acc> );
 1515                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 68; extern void __fastcall sgx_disable_split( unsigned char index<acc> );
 1516                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 70; extern void __fastcall __macro disable_all_splits( void );
 1517                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 71; extern void __fastcall __macro sgx_disable_all_splits( void );
 1518                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 73; #asm
 1519                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 74; .macro	_disable_all_splits
 1520                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 75; ldy	#HUCC_PCE_SPLITS - 1
 1521                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 76; !loop:		tya
 1522                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 77; call	_disable_split.1
 1523                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 78; dey
 1524                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 79; bpl	!loop-
 1525                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 80; .endm
 1526                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 82; .macro	_sgx_disable_all_splits
 1527                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 83; ldy	#HUCC_SGX_SPLITS - 1
 1528                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 84; !loop:		tya
 1529                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 85; call	_sgx_disable_split.1
 1530                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 86; dey
 1531                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 87; bpl	!loop-
 1532                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 88; .endm
 1533                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 89; #endasm
 1534                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 91; #endif // __HUCC__
 1535                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 93; #endif // _hucc_scroll_h
 1536                        		.dbg	line,	"include\variables.c", 3; #include "hucc-chrmap.h"
 1537                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 1; #ifndef _hucc_chrmap_h
 1538                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 2; #define _hucc_chrmap_h
 1539                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 4; /****************************************************************************
 1540                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 5; ; ***************************************************************************
 1541                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 6; ;
 1542                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 7; ; hucc-chrmap.h
 1543                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 8; ;
 1544                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 9; ; A simple map system based on 8x8 characters (aka "tiles") in BAT format.
 1545                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 10; ;
 1546                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 11; ; Copyright John Brandwood 2025.
 1547                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 12; ;
 1548                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 1549                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 1550                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 1551                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 16; ;
 1552                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 17; ; ***************************************************************************
 1553                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 18; ; ***************************************************************************
 1554                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 19; ;
 1555                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 20; ; The maximum X and Y size for chrmaps is 256 characters (2048 pixels).
 1556                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 21; ;
 1557                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 22; ; The maximum total size for a chrmap is 16KBytes, which allows for maps up
 1558                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 23; ; to 256x32 tiles (2048x256 pixels).
 1559                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 24; ;
 1560                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 25; ; ***************************************************************************
 1561                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 26; ; **************************************************************************/
 1562                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 28; // *************
 1563                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 29; // This code extends the blkmap library ...
 1564                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 30; // *************
 1565                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 32; #include "hucc-blkmap.h"
 1566                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 34; // *************
 1567                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 35; // Functions in chrmap.asm ...
 1568                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 36; // *************
 1569                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 38; #ifdef __HUCC__
 1570                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 40; #asmdef	HUCC_USES_CHRMAP 1
 1571                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 42; extern void __fastcall __nop set_chrmap( unsigned char __far *chrmap<vdc_map_bank:vdc_map_addr>, unsigned char tiles_w<vdc_map_line_w> );
 1572                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 44; extern void __fastcall draw_bat( void );
 1573                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 45; extern void __fastcall scroll_bat( void );
 1574                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 47; extern void __fastcall blit_bat( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 1575                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 49; #ifdef _SGX
 1576                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 51; extern void __fastcall __nop sgx_set_chrmap( unsigned char __far *chrmap<sgx_map_bank:sgx_map_addr>, unsigned char tiles_w<sgx_map_line_w> );
 1577                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 53; extern void __fastcall sgx_draw_bat( void );
 1578                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 54; extern void __fastcall sgx_scroll_bat( void );
 1579                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 56; extern void __fastcall sgx_blit_bat( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 1580                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 58; #endif
 1581                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 60; #endif // __HUCC__
 1582                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 62; #endif // _hucc_chrmap_h
 1583                        		.dbg	line,	"include\variables.c", 4; #include "hucc-blkmap.h"
 1584                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 1; #ifndef _hucc_blkmap_h
 1585                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 2; #define _hucc_blkmap_h
 1586                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 4; /****************************************************************************
 1587                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 5; ; ***************************************************************************
 1588                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 6; ;
 1589                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 7; ; hucc-blkmap.h
 1590                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 8; ;
 1591                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 9; ; A map system based on 16x16 meta-tiles (aka "blocks", aka CHR/BLK/MAP).
 1592                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 10; ;
 1593                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 11; ; Copyright John Brandwood 2025.
 1594                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 12; ;
 1595                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 1596                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 1597                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 1598                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 16; ;
 1599                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 17; ; ***************************************************************************
 1600                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 18; ; ***************************************************************************
 1601                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 19; ;
 1602                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 20; ; The maximum X and Y size for blkmaps is 128 blocks (2048 pixels).
 1603                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 21; ;
 1604                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 22; ; The maximum total size for a blkmap is 16KBytes, which allows for maps up
 1605                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 23; ; to 128x128 blocks (2048x2048 pixels).
 1606                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 24; ;
 1607                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 25; ; Huge multi-screen blkmaps are also supported (optionally).
 1608                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 26; ;
 1609                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 27; ; The maximum X and Y for multi-screen maps is 128 screens (32768 pixels).
 1610                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 28; ;
 1611                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 29; ; The maximum total size for a multi-screen map is 8KBytes, which allows for
 1612                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 30; ; a total of 1024 screens.
 1613                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 31; ;
 1614                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 32; ; ***************************************************************************
 1615                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 33; ; **************************************************************************/
 1616                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 35; // *************
 1617                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 36; // Functions in blkmap.asm ...
 1618                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 37; // *************
 1619                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 39; #ifdef __HUCC__
 1620                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 41; #asmdef	HUCC_USES_BLKMAP 1
 1621                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 43; // Current top-left of drawn map in pixels.
 1622                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 44; extern unsigned int   vdc_map_pxl_x;
 1623                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 45; extern unsigned int   vdc_map_pxl_y;
 1624                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 47; // Width and height to draw/scroll in characters (not tiles).
 1625                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 48; extern unsigned char  vdc_map_draw_w;
 1626                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 49; extern unsigned char  vdc_map_draw_h;
 1627                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 51; // Width of map (or multi-screen BAT) in tiles.
 1628                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 52; extern unsigned char  vdc_map_line_w;
 1629                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 54; // Width of map in screens (if multi-screen map).
 1630                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 55; extern unsigned char  vdc_map_scrn_w;
 1631                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 57; // Extra information returned by get_map_block() and sgx_get_map_block(),
 1632                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 58; // which are the collision flags and the mask/overlay sprite for the BLK.
 1633                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 59; extern unsigned char  map_blk_flag;
 1634                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 60; extern unsigned char  map_blk_mask;
 1635                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 62; extern unsigned char  vdc_scr_bank;
 1636                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 63; extern unsigned char *vdc_scr_addr;
 1637                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 65; extern unsigned char  vdc_map_bank;
 1638                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 66; extern unsigned char *vdc_map_addr;
 1639                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 68; extern unsigned char  vdc_blk_bank;
 1640                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 69; extern unsigned char *vdc_blk_addr;
 1641                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 71; extern unsigned char  vdc_tbl_bank;
 1642                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 72; extern unsigned char *vdc_tbl_addr;
 1643                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 74; extern void __fastcall set_blocks( unsigned char __far *blk_def<vdc_blk_bank:vdc_blk_addr>, unsigned char __far *flg_def<vdc_tbl_bank:vdc_tbl_addr>, unsigned char number_of_blocks<_al> );
 1644                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 75; extern void __fastcall __macro set_blkmap( unsigned char __far *blk_map<vdc_map_bank:vdc_map_addr>, unsigned char blocks_w<vdc_map_line_w> );
 1645                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 76; extern void __fastcall __macro set_multimap( unsigned char __far *multi_map<vdc_scr_bank:vdc_scr_addr>, unsigned char screens_w<vdc_map_scrn_w> );
 1646                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 78; extern void __fastcall draw_map( void );
 1647                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 79; extern void __fastcall scroll_map( void );
 1648                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 81; extern void __fastcall blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 1649                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 83; extern unsigned char __fastcall get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
 1650                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 85; #asm
 1651                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 86; .macro	_set_blkmap.2
 1652                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 87; stz	vdc_scr_bank
 1653                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 88; .endm
 1654                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 90; .macro	_set_multimap.2
 1655                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 91; lda	vdc_bat_width
 1656                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 92; lsr	a
 1657                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 93; sta	vdc_map_line_w
 1658                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 94; .endm
 1659                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 96; .macro	SCREEN
 1660                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 97; db	(((\1) & $1FFF) | $6000) >> 8, bank(\1)
 1661                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 98; db	(((\2) & $1FFF) | $4000) >> 8, bank(\2)
 1662                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 99; db	(((\3) & $1FFF) | $6000) >> 8, bank(\3)
 1663                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 100; dw	(\4)
 1664                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 101; .endm
 1665                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 102; #endasm
 1666                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 104; #ifdef _SGX
 1667                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 106; // Current top-left of drawn map in pixels.
 1668                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 107; extern unsigned int   sgx_map_pxl_x;
 1669                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 108; extern unsigned int   sgx_map_pxl_y;
 1670                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 110; // Width and height to draw/scroll in characters (not tiles).
 1671                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 111; extern unsigned char  sgx_map_draw_w;
 1672                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 112; extern unsigned char  sgx_map_draw_h;
 1673                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 114; // Width of map (or multi-screen BAT) in tiles.
 1674                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 115; extern unsigned char  sgx_map_line_w;
 1675                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 117; // Width of map in screens (if multi-screen map).
 1676                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 118; extern unsigned char  sgx_map_scrn_w;
 1677                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 120; extern unsigned char  sgx_scr_bank;
 1678                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 121; extern unsigned char *sgx_scr_addr;
 1679                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 123; extern unsigned char  sgx_map_bank;
 1680                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 124; extern unsigned char *sgx_map_addr;
 1681                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 126; extern unsigned char  sgx_blk_bank;
 1682                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 127; extern unsigned char *sgx_blk_addr;
 1683                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 129; extern unsigned char  sgx_tbl_bank;
 1684                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 130; extern unsigned char *sgx_tbl_addr;
 1685                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 132; extern void __fastcall sgx_set_blocks( unsigned char __far *blk_def<sgx_blk_bank:sgx_blk_addr>, unsigned char __far *flg_def<sgx_tbl_bank:sgx_tbl_addr>, unsigned char number_of_blocks<_al> );
 1686                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 133; extern void __fastcall __macro sgx_set_blkmap( unsigned char __far *blk_map<sgx_map_bank:sgx_map_addr>, unsigned char blocks_w<sgx_map_line_w> );
 1687                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 134; extern void __fastcall __macro sgx_set_multimap( unsigned char __far *multi_map<sgx_scr_bank:sgx_scr_addr>, unsigned char screens_w<sgx_map_scrn_w> );
 1688                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 136; extern void __fastcall sgx_draw_map( void );
 1689                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 137; extern void __fastcall sgx_scroll_map( void );
 1690                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 139; extern void __fastcall sgx_blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 1691                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 141; extern unsigned char __fastcall sgx_get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
 1692                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 143; #asm
 1693                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 144; .macro	_sgx_set_blkmap.2
 1694                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 145; stz	sgx_scr_bank
 1695                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 146; .endm
 1696                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 148; .macro	_sgx_set_multimap.2
 1697                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 149; lda	sgx_bat_width
 1698                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 150; lsr	a
 1699                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 151; sta	sgx_map_line_w
 1700                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 152; .endm
 1701                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 153; #endasm
 1702                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 155; #endif
 1703                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 157; #endif // __HUCC__
 1704                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 159; #endif // _hucc_blkmap_h
 1705                        		.dbg	line,	"include\variables.c", 13; unsigned char   sequence_id,
 1706                        		.dbg	line,	"include\variables.c", 14; sequence_loaded,
 1707                        		.dbg	line,	"include\variables.c", 16; level_id,
 1708                        		.dbg	line,	"include\variables.c", 17; display_level_text,
 1709                        		.dbg	line,	"include\variables.c", 19; // PLAYER //
 1710                        		.dbg	line,	"include\variables.c", 20; respawn,
 1711                        		.dbg	line,	"include\variables.c", 21; player_id,
 1712                        		.dbg	line,	"include\variables.c", 22; player_state,
 1713                        		.dbg	line,	"include\variables.c", 23; player_axis,
 1714                        		.dbg	line,	"include\variables.c", 24; player_previous_axis,
 1715                        		.dbg	line,	"include\variables.c", 25; player_counter_anim,
 1716                        		.dbg	line,	"include\variables.c", 26; player_index_jump,
 1717                        		.dbg	line,	"include\variables.c", 27; player_index_fall,
 1718                        		.dbg	line,	"include\variables.c", 28; player_counter_attack,
 1719                        		.dbg	line,	"include\variables.c", 30; player_naked,
 1720                        		.dbg	line,	"include\variables.c", 31; player_attack,
 1721                        		.dbg	line,	"include\variables.c", 33; jump_ladder,
 1722                        		.dbg	line,	"include\variables.c", 34; jump_max_index,
 1723                        		.dbg	line,	"include\variables.c", 35; fall_ladder,
 1724                        		.dbg	line,	"include\variables.c", 36; hit_wall,
 1725                        		.dbg	line,	"include\variables.c", 38; // ARMOR + WEAPON //
 1726                        		.dbg	line,	"include\variables.c", 39; chain_id,
 1727                        		.dbg	line,	"include\variables.c", 40; weapon_id,
 1728                        		.dbg	line,	"include\variables.c", 41; armor_level,
 1729                        		.dbg	line,	"include\variables.c", 42; weapon_level,
 1730                        		.dbg	line,	"include\variables.c", 43; chain_unfold,
 1731                        		.dbg	line,	"include\variables.c", 44; list_chain_active[3],
 1732                        		.dbg	line,	"include\variables.c", 46; // HUD //
 1733                        		.dbg	line,	"include\variables.c", 47; life_amount,
 1734                        		.dbg	line,	"include\variables.c", 48; credits_amount,
 1735                        		.dbg	line,	"include\variables.c", 49; key_amount,
 1736                        		.dbg	line,	"include\variables.c", 50; potion_amount,
 1737                        		.dbg	line,	"include\variables.c", 52; // TIME //
 1738                        		.dbg	line,	"include\variables.c", 53; minutes,
 1739                        		.dbg	line,	"include\variables.c", 54; seconds,
 1740                        		.dbg	line,	"include\variables.c", 55; time_counter,
 1741                        		.dbg	line,	"include\variables.c", 57; minutes_backup,
 1742                        		.dbg	line,	"include\variables.c", 58; seconds_backup,
 1743                        		.dbg	line,	"include\variables.c", 61; // OBJECTS //
 1744                        		.dbg	line,	"include\variables.c", 62; object_start_index,
 1745                        		.dbg	line,	"include\variables.c", 63; level_object_number,
 1746                        		.dbg	line,	"include\variables.c", 64; onscreen_object_number,
 1747                        		.dbg	line,	"include\variables.c", 65; 
 1748                        		.dbg	line,	"include\variables.c", 66; list_object_type[25],
 1749                        		.dbg	line,	"include\variables.c", 67; list_object_state[25],
 1750                        		.dbg	line,	"include\variables.c", 68; list_object_energy[25],
 1751                        		.dbg	line,	"include\variables.c", 69; list_reward_type[25],
 1752                        		.dbg	line,	"include\variables.c", 70; list_object_counter[25],
 1753                        		.dbg	line,	"include\variables.c", 71; 
 1754                        		.dbg	line,	"include\variables.c", 72; list_onscreen_object[8],                
 1755                        		.dbg	line,	"include\variables.c", 73; 
 1756                        		.dbg	line,	"include\variables.c", 74; // CHESTS //
 1757                        		.dbg	line,	"include\variables.c", 75; chest_start_index,
 1758                        		.dbg	line,	"include\variables.c", 76; level_chest_number,
 1759                        		.dbg	line,	"include\variables.c", 77; onscreen_chest_number,
 1760                        		.dbg	line,	"include\variables.c", 78; 
 1761                        		.dbg	line,	"include\variables.c", 79; list_chest_state[8],
 1762                        		.dbg	line,	"include\variables.c", 80; list_onscreen_chest[8],
 1763                        		.dbg	line,	"include\variables.c", 82; // NPC //
 1764                        		.dbg	line,	"include\variables.c", 83; npc_start_index,
 1765                        		.dbg	line,	"include\variables.c", 84; level_npc_number,
 1766                        		.dbg	line,	"include\variables.c", 85; onscreen_npc_number,
 1767                        		.dbg	line,	"include\variables.c", 87; list_npc_type[9],
 1768                        		.dbg	line,	"include\variables.c", 88; list_npc_state[9],
 1769                        		.dbg	line,	"include\variables.c", 89; list_onscreen_npc[9],
 1770                        		.dbg	line,	"include\variables.c", 91; // SHOPS //
 1771                        		.dbg	line,	"include\variables.c", 92; index_x,
 1772                        		.dbg	line,	"include\variables.c", 93; index_y,
 1773                        		.dbg	line,	"include\variables.c", 94; item_index,
 1774                        		.dbg	line,	"include\variables.c", 96; shop_phase,
 1775                        		.dbg	line,	"include\variables.c", 97; shop_counter,
 1776                        		.dbg	line,	"include\variables.c", 99; palette_step,
 1777                        		.dbg	line,	"include\variables.c", 100; 
 1778                        		.dbg	line,	"include\variables.c", 101; tilemap_mask[256];
 1779                        		.dbg	line,	"include\variables.c", 106; signed int      player_pos_x,
 1780                        		.dbg	line,	"include\variables.c", 107; player_pos_y,
 1781                        		.dbg	line,	"include\variables.c", 108; camera_max_y_position,
 1782                        		.dbg	line,	"include\variables.c", 110; camera_pos_x_backup,
 1783                        		.dbg	line,	"include\variables.c", 111; camera_pos_y_backup,
 1784                        		.dbg	line,	"include\variables.c", 114; list_object_x_pos[25],
 1785                        		.dbg	line,	"include\variables.c", 115; list_object_y_pos[25],
 1786                        		.dbg	line,	"include\variables.c", 116; list_object_x_pos_ref[25],
 1787                        		.dbg	line,	"include\variables.c", 117; list_object_y_pos_ref[25],
 1788                        		.dbg	line,	"include\variables.c", 120; list_chest_x_pos[8],
 1789                        		.dbg	line,	"include\variables.c", 121; list_chest_y_pos[8],
 1790                        		.dbg	line,	"include\variables.c", 122; list_chest_x_pos_ref[8],
 1791                        		.dbg	line,	"include\variables.c", 123; list_chest_y_pos_ref[8],
 1792                        		.dbg	line,	"include\variables.c", 126; list_npc_x_pos[9],
 1793                        		.dbg	line,	"include\variables.c", 127; list_npc_y_pos[9],
 1794                        		.dbg	line,	"include\variables.c", 128; list_npc_x_pos_ref[9],
 1795                        		.dbg	line,	"include\variables.c", 129; list_npc_y_pos_ref[9];
 1796                        		.dbg	line,	"include\variables.c", 130; 
 1797                        		.dbg	line,	"include\variables.c", 134; int             global_counter,
 1798                        		.dbg	line,	"include\variables.c", 135; letter_index,
 1799                        		.dbg	line,	"include\variables.c", 136; letter_counter,
 1800                        		.dbg	line,	"include\variables.c", 137; zenny_amount,
 1801                        		.dbg	line,	"include\variables.c", 138; score,
 1802                        		.dbg	line,	"include\variables.c", 140; shop_prices[10],
 1803                        		.dbg	line,	"include\variables.c", 141; palette_buffer[16];
 1804                        		.dbg	line,	"include\variables.c", 146; signed char weapon_y_offset;
 1805                        		.dbg	line,	"include\variables.c", 151; extern unsigned char tileset_LV1_BG_B[];
 1806                        		.dbg	line,	"include\variables.c", 152; extern unsigned char multimap_LV1_BG_B[];
 1807                        		.dbg	line,	"include\variables.c", 154; extern unsigned char tileset_HUD[];
 1808                        		.dbg	line,	"include\variables.c", 155; extern unsigned char multimap_LV1_BG_A[];
 1809                        		.dbg	line,	"include\variables.c", 157; extern unsigned char tileset_SHOP_BG_B[];
 1810                        		.dbg	line,	"include\variables.c", 159; char *ptr_REWARD_TYPE;
 1811                        		.dbg	line,	"include\variables.c", 160; int *ptr_REWARD_VRAM_ADR;
 1812                        		.dbg	line,	"include\variables.c", 161; int *ptr_SHOP_ITEM_PRICES;
 1813                        		.dbg	line,	"main.c", 11; #include "include/gfx_BG_INTRO.c"
 1814                        		.dbg	line,	"include\gfx_BG_INTRO.c", 1; #include "huc.h"
 1815                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 1; #ifndef _hucc_legacy_h
 1816                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 2; #define _hucc_legacy_h
 1817                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 4; /****************************************************************************
 1818                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 5; ; ***************************************************************************
 1819                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 6; ;
 1820                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 7; ; huc.h
 1821                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 8; ;
 1822                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 9; ; HuCC wrapper file to include a default set of HuC-compatible functions.
 1823                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 10; ;
 1824                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 11; ; Copyright John Brandwood 2024.
 1825                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 12; ;
 1826                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 1827                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 1828                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 1829                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 16; ;
 1830                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 17; ; ***************************************************************************
 1831                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 18; ; ***************************************************************************
 1832                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 19; ;
 1833                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 20; ; When the HuCC compiler is invoked with the "--legacy" option to compile old
 1834                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 21; ; projects, then this "huc.h" file is automatically included.
 1835                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 22; ;
 1836                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 23; ; This file includes a set of the individual HuCC headers which correspond to
 1837                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 24; ; HuC's built-in functions and MagicKit library.
 1838                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 25; ;
 1839                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 26; ; New HuCC projects should, preferably, include the specific headers that are
 1840                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 27; ; needed, which will then allow them to replace parts of the standard library
 1841                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 28; ; with newer functions, or they can just manually include this "huc.h" file.
 1842                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 29; ;
 1843                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 30; ; ***************************************************************************
 1844                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 31; ; **************************************************************************/
 1845                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 33; #include "hucc-systemcard.h"
 1846                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 34; #include "hucc-baselib.h"
 1847                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 35; #include "hucc-gfx.h"
 1848                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 36; #include "hucc-old-scroll.h"
 1849                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 37; #include "hucc-old-spr.h"
 1850                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 38; #include "hucc-old-map.h"
 1851                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 39; #include "hucc-old-line.h"
 1852                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 41; #include <stdlib.h>
 1853                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 42; #include <string.h>
 1854                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 44; #endif // _hucc_legacy_h
 1855                        		.dbg	line,	"include\gfx_BG_INTRO.c", 2; #include "hucc-scroll.h"
 1856                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 1; #ifndef _hucc_scroll_h
 1857                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 2; #define _hucc_scroll_h
 1858                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 4; /****************************************************************************
 1859                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 5; ; ***************************************************************************
 1860                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 6; ;
 1861                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 7; ; hucc-scroll.h
 1862                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 8; ;
 1863                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 9; ; Routines for a fast split-screen scrolling system.
 1864                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 10; ;
 1865                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 11; ; Copyright John Brandwood 2024.
 1866                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 12; ;
 1867                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 1868                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 1869                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 1870                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 16; ;
 1871                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 17; ; ***************************************************************************
 1872                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 18; ; ***************************************************************************
 1873                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 19; ;
 1874                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 20; ; The maximum number of splits for each screen layer is set in your project's
 1875                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 21; ; "hucc-config.inc" file, with the library having a limit of 128-per-layer.
 1876                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 22; ;
 1877                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 23; ; Your first active split must be defined to start at screen line 0, and then
 1878                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 24; ; the rest of the active splits must be in increasing line order to match the
 1879                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 25; ; way that the PC Engine displays the output image.
 1880                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 26; ;
 1881                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 27; ; You can have disabled splits interleaved with your active splits.
 1882                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 28; ;
 1883                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 29; ; Splits that are normally disabled can be used to create full screen effects
 1884                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 30; ; such as bouncing the screen up and down by adding blank areas at the top or
 1885                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 31; ; bottom of the screen, and then rapidly changing the height of those areas.
 1886                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 32; ;
 1887                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 33; ; ***************************************************************************
 1888                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 34; ; **************************************************************************/
 1889                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 36; // *************
 1890                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 37; // VDC bits for display_flags ...
 1891                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 38; // *************
 1892                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 40; #ifndef BKG_OFF
 1893                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 41; #define BKG_OFF 0x00
 1894                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 42; #endif
 1895                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 44; #ifndef SPR_OFF
 1896                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 45; #define SPR_OFF 0x00
 1897                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 46; #endif
 1898                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 48; #ifndef BKG_ON
 1899                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 49; #define BKG_ON 0x80
 1900                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 50; #endif
 1901                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 52; #ifndef SPR_ON
 1902                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 53; #define SPR_ON 0x40
 1903                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 54; #endif
 1904                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 56; // *************
 1905                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 57; // Functions in hucc-scroll.asm ...
 1906                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 58; // *************
 1907                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 60; #ifdef __HUCC__
 1908                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 62; #asmdef	HUCC_USES_NEW_SCROLL 1
 1909                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 64; extern void __fastcall scroll_split( unsigned char index<_al>, unsigned char screen_line<_ah>, unsigned int bat_x<_bx>, unsigned int bat_y<_cx>, unsigned char display_flags<_dl> );
 1910                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 65; extern void __fastcall sgx_scroll_split( unsigned char index<_al>, unsigned char screen_line<_ah>, unsigned int bat_x<_bx>, unsigned int bat_y<_cx>, unsigned char display_flags<_dl> );
 1911                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 67; extern void __fastcall disable_split( unsigned char index<acc> );
 1912                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 68; extern void __fastcall sgx_disable_split( unsigned char index<acc> );
 1913                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 70; extern void __fastcall __macro disable_all_splits( void );
 1914                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 71; extern void __fastcall __macro sgx_disable_all_splits( void );
 1915                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 73; #asm
 1916                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 74; .macro	_disable_all_splits
 1917                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 75; ldy	#HUCC_PCE_SPLITS - 1
 1918                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 76; !loop:		tya
 1919                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 77; call	_disable_split.1
 1920                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 78; dey
 1921                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 79; bpl	!loop-
 1922                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 80; .endm
 1923                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 82; .macro	_sgx_disable_all_splits
 1924                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 83; ldy	#HUCC_SGX_SPLITS - 1
 1925                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 84; !loop:		tya
 1926                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 85; call	_sgx_disable_split.1
 1927                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 86; dey
 1928                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 87; bpl	!loop-
 1929                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 88; .endm
 1930                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 89; #endasm
 1931                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 91; #endif // __HUCC__
 1932                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 93; #endif // _hucc_scroll_h
 1933                        		.dbg	line,	"include\gfx_BG_INTRO.c", 3; #include "hucc-chrmap.h"
 1934                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 1; #ifndef _hucc_chrmap_h
 1935                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 2; #define _hucc_chrmap_h
 1936                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 4; /****************************************************************************
 1937                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 5; ; ***************************************************************************
 1938                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 6; ;
 1939                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 7; ; hucc-chrmap.h
 1940                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 8; ;
 1941                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 9; ; A simple map system based on 8x8 characters (aka "tiles") in BAT format.
 1942                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 10; ;
 1943                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 11; ; Copyright John Brandwood 2025.
 1944                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 12; ;
 1945                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 1946                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 1947                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 1948                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 16; ;
 1949                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 17; ; ***************************************************************************
 1950                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 18; ; ***************************************************************************
 1951                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 19; ;
 1952                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 20; ; The maximum X and Y size for chrmaps is 256 characters (2048 pixels).
 1953                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 21; ;
 1954                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 22; ; The maximum total size for a chrmap is 16KBytes, which allows for maps up
 1955                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 23; ; to 256x32 tiles (2048x256 pixels).
 1956                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 24; ;
 1957                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 25; ; ***************************************************************************
 1958                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 26; ; **************************************************************************/
 1959                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 28; // *************
 1960                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 29; // This code extends the blkmap library ...
 1961                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 30; // *************
 1962                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 32; #include "hucc-blkmap.h"
 1963                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 34; // *************
 1964                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 35; // Functions in chrmap.asm ...
 1965                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 36; // *************
 1966                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 38; #ifdef __HUCC__
 1967                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 40; #asmdef	HUCC_USES_CHRMAP 1
 1968                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 42; extern void __fastcall __nop set_chrmap( unsigned char __far *chrmap<vdc_map_bank:vdc_map_addr>, unsigned char tiles_w<vdc_map_line_w> );
 1969                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 44; extern void __fastcall draw_bat( void );
 1970                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 45; extern void __fastcall scroll_bat( void );
 1971                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 47; extern void __fastcall blit_bat( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 1972                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 49; #ifdef _SGX
 1973                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 51; extern void __fastcall __nop sgx_set_chrmap( unsigned char __far *chrmap<sgx_map_bank:sgx_map_addr>, unsigned char tiles_w<sgx_map_line_w> );
 1974                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 53; extern void __fastcall sgx_draw_bat( void );
 1975                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 54; extern void __fastcall sgx_scroll_bat( void );
 1976                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 56; extern void __fastcall sgx_blit_bat( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 1977                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 58; #endif
 1978                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 60; #endif // __HUCC__
 1979                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 62; #endif // _hucc_chrmap_h
 1980                        		.dbg	line,	"include\gfx_BG_INTRO.c", 4; #include "hucc-blkmap.h"
 1981                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 1; #ifndef _hucc_blkmap_h
 1982                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 2; #define _hucc_blkmap_h
 1983                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 4; /****************************************************************************
 1984                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 5; ; ***************************************************************************
 1985                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 6; ;
 1986                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 7; ; hucc-blkmap.h
 1987                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 8; ;
 1988                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 9; ; A map system based on 16x16 meta-tiles (aka "blocks", aka CHR/BLK/MAP).
 1989                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 10; ;
 1990                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 11; ; Copyright John Brandwood 2025.
 1991                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 12; ;
 1992                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 1993                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 1994                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 1995                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 16; ;
 1996                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 17; ; ***************************************************************************
 1997                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 18; ; ***************************************************************************
 1998                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 19; ;
 1999                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 20; ; The maximum X and Y size for blkmaps is 128 blocks (2048 pixels).
 2000                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 21; ;
 2001                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 22; ; The maximum total size for a blkmap is 16KBytes, which allows for maps up
 2002                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 23; ; to 128x128 blocks (2048x2048 pixels).
 2003                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 24; ;
 2004                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 25; ; Huge multi-screen blkmaps are also supported (optionally).
 2005                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 26; ;
 2006                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 27; ; The maximum X and Y for multi-screen maps is 128 screens (32768 pixels).
 2007                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 28; ;
 2008                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 29; ; The maximum total size for a multi-screen map is 8KBytes, which allows for
 2009                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 30; ; a total of 1024 screens.
 2010                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 31; ;
 2011                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 32; ; ***************************************************************************
 2012                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 33; ; **************************************************************************/
 2013                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 35; // *************
 2014                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 36; // Functions in blkmap.asm ...
 2015                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 37; // *************
 2016                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 39; #ifdef __HUCC__
 2017                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 41; #asmdef	HUCC_USES_BLKMAP 1
 2018                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 43; // Current top-left of drawn map in pixels.
 2019                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 44; extern unsigned int   vdc_map_pxl_x;
 2020                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 45; extern unsigned int   vdc_map_pxl_y;
 2021                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 47; // Width and height to draw/scroll in characters (not tiles).
 2022                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 48; extern unsigned char  vdc_map_draw_w;
 2023                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 49; extern unsigned char  vdc_map_draw_h;
 2024                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 51; // Width of map (or multi-screen BAT) in tiles.
 2025                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 52; extern unsigned char  vdc_map_line_w;
 2026                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 54; // Width of map in screens (if multi-screen map).
 2027                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 55; extern unsigned char  vdc_map_scrn_w;
 2028                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 57; // Extra information returned by get_map_block() and sgx_get_map_block(),
 2029                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 58; // which are the collision flags and the mask/overlay sprite for the BLK.
 2030                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 59; extern unsigned char  map_blk_flag;
 2031                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 60; extern unsigned char  map_blk_mask;
 2032                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 62; extern unsigned char  vdc_scr_bank;
 2033                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 63; extern unsigned char *vdc_scr_addr;
 2034                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 65; extern unsigned char  vdc_map_bank;
 2035                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 66; extern unsigned char *vdc_map_addr;
 2036                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 68; extern unsigned char  vdc_blk_bank;
 2037                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 69; extern unsigned char *vdc_blk_addr;
 2038                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 71; extern unsigned char  vdc_tbl_bank;
 2039                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 72; extern unsigned char *vdc_tbl_addr;
 2040                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 74; extern void __fastcall set_blocks( unsigned char __far *blk_def<vdc_blk_bank:vdc_blk_addr>, unsigned char __far *flg_def<vdc_tbl_bank:vdc_tbl_addr>, unsigned char number_of_blocks<_al> );
 2041                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 75; extern void __fastcall __macro set_blkmap( unsigned char __far *blk_map<vdc_map_bank:vdc_map_addr>, unsigned char blocks_w<vdc_map_line_w> );
 2042                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 76; extern void __fastcall __macro set_multimap( unsigned char __far *multi_map<vdc_scr_bank:vdc_scr_addr>, unsigned char screens_w<vdc_map_scrn_w> );
 2043                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 78; extern void __fastcall draw_map( void );
 2044                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 79; extern void __fastcall scroll_map( void );
 2045                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 81; extern void __fastcall blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 2046                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 83; extern unsigned char __fastcall get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
 2047                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 85; #asm
 2048                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 86; .macro	_set_blkmap.2
 2049                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 87; stz	vdc_scr_bank
 2050                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 88; .endm
 2051                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 90; .macro	_set_multimap.2
 2052                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 91; lda	vdc_bat_width
 2053                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 92; lsr	a
 2054                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 93; sta	vdc_map_line_w
 2055                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 94; .endm
 2056                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 96; .macro	SCREEN
 2057                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 97; db	(((\1) & $1FFF) | $6000) >> 8, bank(\1)
 2058                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 98; db	(((\2) & $1FFF) | $4000) >> 8, bank(\2)
 2059                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 99; db	(((\3) & $1FFF) | $6000) >> 8, bank(\3)
 2060                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 100; dw	(\4)
 2061                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 101; .endm
 2062                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 102; #endasm
 2063                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 104; #ifdef _SGX
 2064                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 106; // Current top-left of drawn map in pixels.
 2065                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 107; extern unsigned int   sgx_map_pxl_x;
 2066                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 108; extern unsigned int   sgx_map_pxl_y;
 2067                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 110; // Width and height to draw/scroll in characters (not tiles).
 2068                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 111; extern unsigned char  sgx_map_draw_w;
 2069                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 112; extern unsigned char  sgx_map_draw_h;
 2070                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 114; // Width of map (or multi-screen BAT) in tiles.
 2071                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 115; extern unsigned char  sgx_map_line_w;
 2072                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 117; // Width of map in screens (if multi-screen map).
 2073                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 118; extern unsigned char  sgx_map_scrn_w;
 2074                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 120; extern unsigned char  sgx_scr_bank;
 2075                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 121; extern unsigned char *sgx_scr_addr;
 2076                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 123; extern unsigned char  sgx_map_bank;
 2077                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 124; extern unsigned char *sgx_map_addr;
 2078                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 126; extern unsigned char  sgx_blk_bank;
 2079                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 127; extern unsigned char *sgx_blk_addr;
 2080                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 129; extern unsigned char  sgx_tbl_bank;
 2081                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 130; extern unsigned char *sgx_tbl_addr;
 2082                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 132; extern void __fastcall sgx_set_blocks( unsigned char __far *blk_def<sgx_blk_bank:sgx_blk_addr>, unsigned char __far *flg_def<sgx_tbl_bank:sgx_tbl_addr>, unsigned char number_of_blocks<_al> );
 2083                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 133; extern void __fastcall __macro sgx_set_blkmap( unsigned char __far *blk_map<sgx_map_bank:sgx_map_addr>, unsigned char blocks_w<sgx_map_line_w> );
 2084                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 134; extern void __fastcall __macro sgx_set_multimap( unsigned char __far *multi_map<sgx_scr_bank:sgx_scr_addr>, unsigned char screens_w<sgx_map_scrn_w> );
 2085                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 136; extern void __fastcall sgx_draw_map( void );
 2086                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 137; extern void __fastcall sgx_scroll_map( void );
 2087                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 139; extern void __fastcall sgx_blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 2088                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 141; extern unsigned char __fastcall sgx_get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
 2089                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 143; #asm
 2090                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 144; .macro	_sgx_set_blkmap.2
 2091                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 145; stz	sgx_scr_bank
 2092                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 146; .endm
 2093                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 148; .macro	_sgx_set_multimap.2
 2094                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 149; lda	sgx_bat_width
 2095                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 150; lsr	a
 2096                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 151; sta	sgx_map_line_w
 2097                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 152; .endm
 2098                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 153; #endasm
 2099                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 155; #endif
 2100                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 157; #endif // __HUCC__
 2101                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 159; #endif // _hucc_blkmap_h
 2102                        		.dbg	line,	"include\gfx_BG_INTRO.c", 13; #incchr(tileset_FONT_INTRO,"res/maps/tiles_FONT_INTRO.png");
 2103               6000     		.data
 2104    03:6000             	_tileset_FONT_INTRO: 	.incchr		"res/maps/tiles_FONT_INTRO.png"
 2105               E31D     		.code
 2106                        		.dbg	line,	"include\gfx_BG_INTRO.c", 15; #incpal(palette_FONT_INTRO, "res/maps/tiles_FONT_INTRO.png")
 2107               6C00     		.data
 2108    03:6C00             	_palette_FONT_INTRO:	.incpal		"res/maps/tiles_FONT_INTRO.png"
 2109               E31D     		.code
 2110                        		.dbg	line,	"include\gfx_BG_INTRO.c", 17; #incpal(palette_BLACK, "res/palettes/palette_BLACK.png")
 2111               6E00     		.data
 2112    03:6E00             	_palette_BLACK:	.incpal		"res/palettes/palette_BLACK.png"
 2113               E31D     		.code
 2114                        		.dbg	line,	"include\gfx_BG_INTRO.c", 20; //**************************************************************************************//
 2115                        		.dbg	line,	"include\gfx_BG_INTRO.c", 21; //                                                                                      //
 2116                        		.dbg	line,	"include\gfx_BG_INTRO.c", 22; //                                        TITLE                                         //
 2117                        		.dbg	line,	"include\gfx_BG_INTRO.c", 23; //                                                                                      //
 2118                        		.dbg	line,	"include\gfx_BG_INTRO.c", 24; //**************************************************************************************//
 2119                        		.dbg	line,	"include\gfx_BG_INTRO.c", 26; #incchr(tileset_INTRO_BG_B, "res/maps/tilemap_INTRO_BG_B.png", _OPTIMIZE)
 2120               7000     		.data
 2121    03:7000             	_tileset_INTRO_BG_B: 	.incchr		"res/maps/tilemap_INTRO_BG_B.png", 1
 2122               E31D     		.code
 2123                        		.dbg	line,	"include\gfx_BG_INTRO.c", 27; #incbat(tilemap_INTRO_BG_B,"res/maps/tilemap_INTRO_BG_B.png", 0x1000 , 32 , 28 , tileset_INTRO_BG_B);
 2124               6460     		.data
 2125    05:6460             	_tilemap_INTRO_BG_B:	.incbat		"res/maps/tilemap_INTRO_BG_B.png", 4096, 32, 28, _tileset_INTRO_BG_B
 2126               E31D     		.code
 2127                        		.dbg	line,	"include\gfx_BG_INTRO.c", 29; #incchr(tileset_INTRO_BG_A, "res/maps/tilemap_INTRO_BG_A.png", _OPTIMIZE)
 2128               6B60     		.data
 2129    05:6B60             	_tileset_INTRO_BG_A: 	.incchr		"res/maps/tilemap_INTRO_BG_A.png", 1
 2130               E31D     		.code
 2131                        		.dbg	line,	"include\gfx_BG_INTRO.c", 30; #incbat(tilemap_INTRO_BG_A,"res/maps/tilemap_INTRO_BG_A.png", 0x1000 , 64 , 64 , tileset_INTRO_BG_A);
 2132               76E0     		.data
 2133    05:76E0             	_tilemap_INTRO_BG_A:	.incbat		"res/maps/tilemap_INTRO_BG_A.png", 4096, 64, 64, _tileset_INTRO_BG_A
 2134               E31D     		.code
 2135                        		.dbg	line,	"include\gfx_BG_INTRO.c", 32; #incpal(palette_INTRO_1, "res/maps/tilemap_INTRO_BG_B.png")
 2136               76E0     		.data
 2137    06:76E0             	_palette_INTRO_1:	.incpal		"res/maps/tilemap_INTRO_BG_B.png"
 2138               E31D     		.code
 2139                        		.dbg	line,	"include\gfx_BG_INTRO.c", 33; #incpal(palette_INTRO_2, "res/palettes/palette_INTRO_2.png")
 2140               78E0     		.data
 2141    06:78E0             	_palette_INTRO_2:	.incpal		"res/palettes/palette_INTRO_2.png"
 2142               E31D     		.code
 2143                        		.dbg	line,	"include\gfx_BG_INTRO.c", 34; #incpal(palette_INTRO_3, "res/palettes/palette_INTRO_3.png")
 2144               7AE0     		.data
 2145    06:7AE0             	_palette_INTRO_3:	.incpal		"res/palettes/palette_INTRO_3.png"
 2146               E31D     		.code
 2147                        		.dbg	line,	"main.c", 12; #include "include/gfx_BG_LEVELS.c"
 2148                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 1; #include "huc.h"
 2149                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 1; #ifndef _hucc_legacy_h
 2150                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 2; #define _hucc_legacy_h
 2151                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 4; /****************************************************************************
 2152                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 5; ; ***************************************************************************
 2153                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 6; ;
 2154                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 7; ; huc.h
 2155                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 8; ;
 2156                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 9; ; HuCC wrapper file to include a default set of HuC-compatible functions.
 2157                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 10; ;
 2158                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 11; ; Copyright John Brandwood 2024.
 2159                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 12; ;
 2160                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 2161                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 2162                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 2163                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 16; ;
 2164                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 17; ; ***************************************************************************
 2165                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 18; ; ***************************************************************************
 2166                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 19; ;
 2167                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 20; ; When the HuCC compiler is invoked with the "--legacy" option to compile old
 2168                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 21; ; projects, then this "huc.h" file is automatically included.
 2169                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 22; ;
 2170                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 23; ; This file includes a set of the individual HuCC headers which correspond to
 2171                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 24; ; HuC's built-in functions and MagicKit library.
 2172                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 25; ;
 2173                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 26; ; New HuCC projects should, preferably, include the specific headers that are
 2174                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 27; ; needed, which will then allow them to replace parts of the standard library
 2175                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 28; ; with newer functions, or they can just manually include this "huc.h" file.
 2176                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 29; ;
 2177                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 30; ; ***************************************************************************
 2178                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 31; ; **************************************************************************/
 2179                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 33; #include "hucc-systemcard.h"
 2180                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 34; #include "hucc-baselib.h"
 2181                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 35; #include "hucc-gfx.h"
 2182                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 36; #include "hucc-old-scroll.h"
 2183                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 37; #include "hucc-old-spr.h"
 2184                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 38; #include "hucc-old-map.h"
 2185                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 39; #include "hucc-old-line.h"
 2186                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 41; #include <stdlib.h>
 2187                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 42; #include <string.h>
 2188                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 44; #endif // _hucc_legacy_h
 2189                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 2; #include "hucc-scroll.h"
 2190                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 1; #ifndef _hucc_scroll_h
 2191                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 2; #define _hucc_scroll_h
 2192                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 4; /****************************************************************************
 2193                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 5; ; ***************************************************************************
 2194                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 6; ;
 2195                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 7; ; hucc-scroll.h
 2196                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 8; ;
 2197                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 9; ; Routines for a fast split-screen scrolling system.
 2198                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 10; ;
 2199                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 11; ; Copyright John Brandwood 2024.
 2200                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 12; ;
 2201                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 2202                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 2203                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 2204                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 16; ;
 2205                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 17; ; ***************************************************************************
 2206                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 18; ; ***************************************************************************
 2207                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 19; ;
 2208                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 20; ; The maximum number of splits for each screen layer is set in your project's
 2209                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 21; ; "hucc-config.inc" file, with the library having a limit of 128-per-layer.
 2210                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 22; ;
 2211                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 23; ; Your first active split must be defined to start at screen line 0, and then
 2212                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 24; ; the rest of the active splits must be in increasing line order to match the
 2213                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 25; ; way that the PC Engine displays the output image.
 2214                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 26; ;
 2215                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 27; ; You can have disabled splits interleaved with your active splits.
 2216                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 28; ;
 2217                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 29; ; Splits that are normally disabled can be used to create full screen effects
 2218                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 30; ; such as bouncing the screen up and down by adding blank areas at the top or
 2219                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 31; ; bottom of the screen, and then rapidly changing the height of those areas.
 2220                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 32; ;
 2221                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 33; ; ***************************************************************************
 2222                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 34; ; **************************************************************************/
 2223                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 36; // *************
 2224                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 37; // VDC bits for display_flags ...
 2225                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 38; // *************
 2226                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 40; #ifndef BKG_OFF
 2227                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 41; #define BKG_OFF 0x00
 2228                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 42; #endif
 2229                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 44; #ifndef SPR_OFF
 2230                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 45; #define SPR_OFF 0x00
 2231                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 46; #endif
 2232                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 48; #ifndef BKG_ON
 2233                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 49; #define BKG_ON 0x80
 2234                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 50; #endif
 2235                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 52; #ifndef SPR_ON
 2236                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 53; #define SPR_ON 0x40
 2237                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 54; #endif
 2238                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 56; // *************
 2239                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 57; // Functions in hucc-scroll.asm ...
 2240                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 58; // *************
 2241                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 60; #ifdef __HUCC__
 2242                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 62; #asmdef	HUCC_USES_NEW_SCROLL 1
 2243                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 64; extern void __fastcall scroll_split( unsigned char index<_al>, unsigned char screen_line<_ah>, unsigned int bat_x<_bx>, unsigned int bat_y<_cx>, unsigned char display_flags<_dl> );
 2244                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 65; extern void __fastcall sgx_scroll_split( unsigned char index<_al>, unsigned char screen_line<_ah>, unsigned int bat_x<_bx>, unsigned int bat_y<_cx>, unsigned char display_flags<_dl> );
 2245                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 67; extern void __fastcall disable_split( unsigned char index<acc> );
 2246                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 68; extern void __fastcall sgx_disable_split( unsigned char index<acc> );
 2247                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 70; extern void __fastcall __macro disable_all_splits( void );
 2248                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 71; extern void __fastcall __macro sgx_disable_all_splits( void );
 2249                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 73; #asm
 2250                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 74; .macro	_disable_all_splits
 2251                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 75; ldy	#HUCC_PCE_SPLITS - 1
 2252                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 76; !loop:		tya
 2253                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 77; call	_disable_split.1
 2254                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 78; dey
 2255                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 79; bpl	!loop-
 2256                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 80; .endm
 2257                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 82; .macro	_sgx_disable_all_splits
 2258                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 83; ldy	#HUCC_SGX_SPLITS - 1
 2259                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 84; !loop:		tya
 2260                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 85; call	_sgx_disable_split.1
 2261                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 86; dey
 2262                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 87; bpl	!loop-
 2263                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 88; .endm
 2264                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 89; #endasm
 2265                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 91; #endif // __HUCC__
 2266                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 93; #endif // _hucc_scroll_h
 2267                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 3; #include "hucc-chrmap.h"
 2268                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 1; #ifndef _hucc_chrmap_h
 2269                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 2; #define _hucc_chrmap_h
 2270                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 4; /****************************************************************************
 2271                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 5; ; ***************************************************************************
 2272                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 6; ;
 2273                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 7; ; hucc-chrmap.h
 2274                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 8; ;
 2275                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 9; ; A simple map system based on 8x8 characters (aka "tiles") in BAT format.
 2276                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 10; ;
 2277                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 11; ; Copyright John Brandwood 2025.
 2278                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 12; ;
 2279                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 2280                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 2281                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 2282                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 16; ;
 2283                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 17; ; ***************************************************************************
 2284                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 18; ; ***************************************************************************
 2285                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 19; ;
 2286                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 20; ; The maximum X and Y size for chrmaps is 256 characters (2048 pixels).
 2287                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 21; ;
 2288                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 22; ; The maximum total size for a chrmap is 16KBytes, which allows for maps up
 2289                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 23; ; to 256x32 tiles (2048x256 pixels).
 2290                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 24; ;
 2291                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 25; ; ***************************************************************************
 2292                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 26; ; **************************************************************************/
 2293                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 28; // *************
 2294                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 29; // This code extends the blkmap library ...
 2295                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 30; // *************
 2296                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 32; #include "hucc-blkmap.h"
 2297                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 34; // *************
 2298                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 35; // Functions in chrmap.asm ...
 2299                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 36; // *************
 2300                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 38; #ifdef __HUCC__
 2301                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 40; #asmdef	HUCC_USES_CHRMAP 1
 2302                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 42; extern void __fastcall __nop set_chrmap( unsigned char __far *chrmap<vdc_map_bank:vdc_map_addr>, unsigned char tiles_w<vdc_map_line_w> );
 2303                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 44; extern void __fastcall draw_bat( void );
 2304                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 45; extern void __fastcall scroll_bat( void );
 2305                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 47; extern void __fastcall blit_bat( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 2306                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 49; #ifdef _SGX
 2307                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 51; extern void __fastcall __nop sgx_set_chrmap( unsigned char __far *chrmap<sgx_map_bank:sgx_map_addr>, unsigned char tiles_w<sgx_map_line_w> );
 2308                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 53; extern void __fastcall sgx_draw_bat( void );
 2309                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 54; extern void __fastcall sgx_scroll_bat( void );
 2310                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 56; extern void __fastcall sgx_blit_bat( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 2311                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 58; #endif
 2312                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 60; #endif // __HUCC__
 2313                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 62; #endif // _hucc_chrmap_h
 2314                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 4; #include "hucc-blkmap.h"
 2315                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 1; #ifndef _hucc_blkmap_h
 2316                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 2; #define _hucc_blkmap_h
 2317                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 4; /****************************************************************************
 2318                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 5; ; ***************************************************************************
 2319                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 6; ;
 2320                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 7; ; hucc-blkmap.h
 2321                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 8; ;
 2322                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 9; ; A map system based on 16x16 meta-tiles (aka "blocks", aka CHR/BLK/MAP).
 2323                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 10; ;
 2324                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 11; ; Copyright John Brandwood 2025.
 2325                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 12; ;
 2326                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 2327                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 2328                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 2329                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 16; ;
 2330                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 17; ; ***************************************************************************
 2331                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 18; ; ***************************************************************************
 2332                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 19; ;
 2333                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 20; ; The maximum X and Y size for blkmaps is 128 blocks (2048 pixels).
 2334                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 21; ;
 2335                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 22; ; The maximum total size for a blkmap is 16KBytes, which allows for maps up
 2336                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 23; ; to 128x128 blocks (2048x2048 pixels).
 2337                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 24; ;
 2338                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 25; ; Huge multi-screen blkmaps are also supported (optionally).
 2339                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 26; ;
 2340                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 27; ; The maximum X and Y for multi-screen maps is 128 screens (32768 pixels).
 2341                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 28; ;
 2342                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 29; ; The maximum total size for a multi-screen map is 8KBytes, which allows for
 2343                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 30; ; a total of 1024 screens.
 2344                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 31; ;
 2345                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 32; ; ***************************************************************************
 2346                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 33; ; **************************************************************************/
 2347                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 35; // *************
 2348                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 36; // Functions in blkmap.asm ...
 2349                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 37; // *************
 2350                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 39; #ifdef __HUCC__
 2351                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 41; #asmdef	HUCC_USES_BLKMAP 1
 2352                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 43; // Current top-left of drawn map in pixels.
 2353                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 44; extern unsigned int   vdc_map_pxl_x;
 2354                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 45; extern unsigned int   vdc_map_pxl_y;
 2355                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 47; // Width and height to draw/scroll in characters (not tiles).
 2356                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 48; extern unsigned char  vdc_map_draw_w;
 2357                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 49; extern unsigned char  vdc_map_draw_h;
 2358                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 51; // Width of map (or multi-screen BAT) in tiles.
 2359                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 52; extern unsigned char  vdc_map_line_w;
 2360                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 54; // Width of map in screens (if multi-screen map).
 2361                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 55; extern unsigned char  vdc_map_scrn_w;
 2362                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 57; // Extra information returned by get_map_block() and sgx_get_map_block(),
 2363                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 58; // which are the collision flags and the mask/overlay sprite for the BLK.
 2364                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 59; extern unsigned char  map_blk_flag;
 2365                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 60; extern unsigned char  map_blk_mask;
 2366                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 62; extern unsigned char  vdc_scr_bank;
 2367                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 63; extern unsigned char *vdc_scr_addr;
 2368                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 65; extern unsigned char  vdc_map_bank;
 2369                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 66; extern unsigned char *vdc_map_addr;
 2370                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 68; extern unsigned char  vdc_blk_bank;
 2371                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 69; extern unsigned char *vdc_blk_addr;
 2372                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 71; extern unsigned char  vdc_tbl_bank;
 2373                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 72; extern unsigned char *vdc_tbl_addr;
 2374                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 74; extern void __fastcall set_blocks( unsigned char __far *blk_def<vdc_blk_bank:vdc_blk_addr>, unsigned char __far *flg_def<vdc_tbl_bank:vdc_tbl_addr>, unsigned char number_of_blocks<_al> );
 2375                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 75; extern void __fastcall __macro set_blkmap( unsigned char __far *blk_map<vdc_map_bank:vdc_map_addr>, unsigned char blocks_w<vdc_map_line_w> );
 2376                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 76; extern void __fastcall __macro set_multimap( unsigned char __far *multi_map<vdc_scr_bank:vdc_scr_addr>, unsigned char screens_w<vdc_map_scrn_w> );
 2377                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 78; extern void __fastcall draw_map( void );
 2378                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 79; extern void __fastcall scroll_map( void );
 2379                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 81; extern void __fastcall blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 2380                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 83; extern unsigned char __fastcall get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
 2381                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 85; #asm
 2382                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 86; .macro	_set_blkmap.2
 2383                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 87; stz	vdc_scr_bank
 2384                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 88; .endm
 2385                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 90; .macro	_set_multimap.2
 2386                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 91; lda	vdc_bat_width
 2387                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 92; lsr	a
 2388                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 93; sta	vdc_map_line_w
 2389                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 94; .endm
 2390                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 96; .macro	SCREEN
 2391                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 97; db	(((\1) & $1FFF) | $6000) >> 8, bank(\1)
 2392                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 98; db	(((\2) & $1FFF) | $4000) >> 8, bank(\2)
 2393                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 99; db	(((\3) & $1FFF) | $6000) >> 8, bank(\3)
 2394                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 100; dw	(\4)
 2395                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 101; .endm
 2396                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 102; #endasm
 2397                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 104; #ifdef _SGX
 2398                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 106; // Current top-left of drawn map in pixels.
 2399                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 107; extern unsigned int   sgx_map_pxl_x;
 2400                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 108; extern unsigned int   sgx_map_pxl_y;
 2401                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 110; // Width and height to draw/scroll in characters (not tiles).
 2402                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 111; extern unsigned char  sgx_map_draw_w;
 2403                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 112; extern unsigned char  sgx_map_draw_h;
 2404                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 114; // Width of map (or multi-screen BAT) in tiles.
 2405                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 115; extern unsigned char  sgx_map_line_w;
 2406                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 117; // Width of map in screens (if multi-screen map).
 2407                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 118; extern unsigned char  sgx_map_scrn_w;
 2408                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 120; extern unsigned char  sgx_scr_bank;
 2409                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 121; extern unsigned char *sgx_scr_addr;
 2410                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 123; extern unsigned char  sgx_map_bank;
 2411                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 124; extern unsigned char *sgx_map_addr;
 2412                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 126; extern unsigned char  sgx_blk_bank;
 2413                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 127; extern unsigned char *sgx_blk_addr;
 2414                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 129; extern unsigned char  sgx_tbl_bank;
 2415                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 130; extern unsigned char *sgx_tbl_addr;
 2416                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 132; extern void __fastcall sgx_set_blocks( unsigned char __far *blk_def<sgx_blk_bank:sgx_blk_addr>, unsigned char __far *flg_def<sgx_tbl_bank:sgx_tbl_addr>, unsigned char number_of_blocks<_al> );
 2417                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 133; extern void __fastcall __macro sgx_set_blkmap( unsigned char __far *blk_map<sgx_map_bank:sgx_map_addr>, unsigned char blocks_w<sgx_map_line_w> );
 2418                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 134; extern void __fastcall __macro sgx_set_multimap( unsigned char __far *multi_map<sgx_scr_bank:sgx_scr_addr>, unsigned char screens_w<sgx_map_scrn_w> );
 2419                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 136; extern void __fastcall sgx_draw_map( void );
 2420                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 137; extern void __fastcall sgx_scroll_map( void );
 2421                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 139; extern void __fastcall sgx_blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 2422                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 141; extern unsigned char __fastcall sgx_get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
 2423                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 143; #asm
 2424                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 144; .macro	_sgx_set_blkmap.2
 2425                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 145; stz	sgx_scr_bank
 2426                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 146; .endm
 2427                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 148; .macro	_sgx_set_multimap.2
 2428                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 149; lda	sgx_bat_width
 2429                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 150; lsr	a
 2430                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 151; sta	sgx_map_line_w
 2431                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 152; .endm
 2432                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 153; #endasm
 2433                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 155; #endif
 2434                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 157; #endif // __HUCC__
 2435                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 159; #endif // _hucc_blkmap_h
 2436                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 13; #incchr(tileset_FONT,"res/maps/tiles_FONT.png");
 2437               7CE0     		.data
 2438    06:7CE0             	_tileset_FONT: 	.incchr		"res/maps/tiles_FONT.png"
 2439               E31D     		.code
 2440                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 16; //**************************************************************************************//
 2441                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 17; //                                                                                      //
 2442                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 18; //                                       LEVEL 1                                        //
 2443                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 19; //                                                                                      //
 2444                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 20; //**************************************************************************************//
 2445                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 22; #incchr(tileset_LV1_WALL,"res/maps/tiles_LV1_WALL.png", 4 , 4);
 2446               68E0     		.data
 2447    07:68E0             	_tileset_LV1_WALL: 	.incchr		"res/maps/tiles_LV1_WALL.png", 4, 4
 2448               E31D     		.code
 2449                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 23; #incchr(tileset_LV1_DOOR_OPEN,"res/maps/tiles_LV1_DOOR_OPEN.png", 4 , 6);
 2450               6AE0     		.data
 2451    07:6AE0             	_tileset_LV1_DOOR_OPEN: 	.incchr		"res/maps/tiles_LV1_DOOR_OPEN.png", 4, 6
 2452               E31D     		.code
 2453                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 24; #incchr(tileset_LV1_DOOR_CLOSED,"res/maps/tiles_LV1_DOOR_CLOSED.png", 4 , 6);
 2454               6DE0     		.data
 2455    07:6DE0             	_tileset_LV1_DOOR_CLOSED: 	.incchr		"res/maps/tiles_LV1_DOOR_CLOSED.png", 4, 6
 2456               E31D     		.code
 2457                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 26; #incchr(tileset_LIFE_RED,"res/maps/tileset_LIFE_RED.png", 2 , 1);
 2458               70E0     		.data
 2459    07:70E0             	_tileset_LIFE_RED: 	.incchr		"res/maps/tileset_LIFE_RED.png", 2, 1
 2460               E31D     		.code
 2461                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 27; #incchr(tileset_LIFE_ORANGE,"res/maps/tileset_LIFE_ORANGE.png", 2 , 1);
 2462               7120     		.data
 2463    07:7120             	_tileset_LIFE_ORANGE: 	.incchr		"res/maps/tileset_LIFE_ORANGE.png", 2, 1
 2464               E31D     		.code
 2465                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 28; #incchr(tileset_LIFE_YELLOW,"res/maps/tileset_LIFE_YELLOW.png", 2 , 1);
 2466               7160     		.data
 2467    07:7160             	_tileset_LIFE_YELLOW: 	.incchr		"res/maps/tileset_LIFE_YELLOW.png", 2, 1
 2468               E31D     		.code
 2469                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 29; #incchr(tileset_LIFE_EMPTY,"res/maps/tileset_LIFE_EMPTY.png", 2 , 1);
 2470               71A0     		.data
 2471    07:71A0             	_tileset_LIFE_EMPTY: 	.incchr		"res/maps/tileset_LIFE_EMPTY.png", 2, 1
 2472               E31D     		.code
 2473                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 31; #incchr(tileset_ARMOR_1,"res/maps/tileset_ARMOR_1.png", 2 , 2);
 2474               71E0     		.data
 2475    07:71E0             	_tileset_ARMOR_1: 	.incchr		"res/maps/tileset_ARMOR_1.png", 2, 2
 2476               E31D     		.code
 2477                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 32; #incchr(tileset_ARMOR_2,"res/maps/tileset_ARMOR_2.png", 2 , 2);
 2478               7260     		.data
 2479    07:7260             	_tileset_ARMOR_2: 	.incchr		"res/maps/tileset_ARMOR_2.png", 2, 2
 2480               E31D     		.code
 2481                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 33; #incchr(tileset_ARMOR_4,"res/maps/tileset_ARMOR_4.png", 2 , 2);
 2482               72E0     		.data
 2483    07:72E0             	_tileset_ARMOR_4: 	.incchr		"res/maps/tileset_ARMOR_4.png", 2, 2
 2484               E31D     		.code
 2485                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 34; #incchr(tileset_ARMOR_8,"res/maps/tileset_ARMOR_8.png", 2 , 2);
 2486               7360     		.data
 2487    07:7360             	_tileset_ARMOR_8: 	.incchr		"res/maps/tileset_ARMOR_8.png", 2, 2
 2488               E31D     		.code
 2489                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 36; #incchr(tileset_WEAPON_1,"res/maps/tileset_WEAPON_1.png", 2 , 2);
 2490               73E0     		.data
 2491    07:73E0             	_tileset_WEAPON_1: 	.incchr		"res/maps/tileset_WEAPON_1.png", 2, 2
 2492               E31D     		.code
 2493                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 37; #incchr(tileset_WEAPON_2,"res/maps/tileset_WEAPON_2.png", 2 , 2);
 2494               7460     		.data
 2495    07:7460             	_tileset_WEAPON_2: 	.incchr		"res/maps/tileset_WEAPON_2.png", 2, 2
 2496               E31D     		.code
 2497                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 38; #incchr(tileset_WEAPON_4,"res/maps/tileset_WEAPON_4.png", 2 , 2);
 2498               74E0     		.data
 2499    07:74E0             	_tileset_WEAPON_4: 	.incchr		"res/maps/tileset_WEAPON_4.png", 2, 2
 2500               E31D     		.code
 2501                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 39; #incchr(tileset_WEAPON_5,"res/maps/tileset_WEAPON_5.png", 2 , 2);
 2502               7560     		.data
 2503    07:7560             	_tileset_WEAPON_5: 	.incchr		"res/maps/tileset_WEAPON_5.png", 2, 2
 2504               E31D     		.code
 2505                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 40; #incchr(tileset_WEAPON_8,"res/maps/tileset_WEAPON_8.png", 2 , 2);
 2506               75E0     		.data
 2507    07:75E0             	_tileset_WEAPON_8: 	.incchr		"res/maps/tileset_WEAPON_8.png", 2, 2
 2508               E31D     		.code
 2509                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 43; //--------------------------------------------------------------------------------------//
 2510                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 44; //                                        VDC 2                                         //
 2511                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 45; //--------------------------------------------------------------------------------------//
 2512                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 47; #asm
 2513                        		.dbg	clear
 2514               0001     	OPTIMIZE	=	1
 2515               7660     			.data
 2516                        	; EXTRACT TILESET
 2517                        	;----------------
 2518    07:7660             	_tileset_LV1_BG_B:  incchr	"res/maps/template_LV1_WALL.png"
 2519    07:7860             			incchr	"res/maps/template_LV1_DOOR.png"
 2520    07:7B60             			incchr	"res/maps/tilemap_LV1_BG_B.png", OPTIMIZE
 2521                        	; EXTRACT BLOCKS
 2522                        	;--------------
 2523    0B:7000             	blocks_LV1_BG_B1:	incblk	"res/maps/tilemap_LV1_BG_B.png" , 0x1000 ,    0 ,   0 ,  64 , 32 , _tileset_LV1_BG_B ; // 96x16 = 1536 | 32x16 =  512
 2524    0B:7800             	blocks_LV1_BG_B2:	incblk	"res/maps/tilemap_LV1_BG_B.png" , 0x1000 , 1024 ,   0 ,  96 , 32 , _tileset_LV1_BG_B ; // 64x16 = 1024 | 32x16 =  512
 2525    0C:6000             	blocks_LV1_BG_B3:	incblk	"res/maps/tilemap_LV1_BG_B.png" , 0x1000 ,    0 , 512 ,  64 , 32 , _tileset_LV1_BG_B ; // 96x16 = 1536 | 16x16 =  256
 2526    0C:6800             	blocks_LV1_BG_B4:	incblk	"res/maps/tilemap_LV1_BG_B.png" , 0x1000 , 1024 , 512 ,  96 , 32 , _tileset_LV1_BG_B ; // 64x16 = 1024 | 16x16 =  256
 2527                        	; EXTRACT MAPS
 2528                        	;------------
 2529               7000     			align	256
 2530    0C:7000             	MAP_LV1_BG_B1:		incmap	"res/maps/tilemap_LV1_BG_B.png",    0 ,   0 ,  64 , 32 , blocks_LV1_BG_B1 ; // 96x16 = 1536 | 32x16 =  512
 2531               7800     			align	256
 2532    0C:7800             	MAP_LV1_BG_B2:		incmap	"res/maps/tilemap_LV1_BG_B.png", 1024 ,   0 ,  96 , 32 , blocks_LV1_BG_B2 ; // 64x16 = 1024 | 32x16 =  512
 2533               6400     			align	256
 2534    0D:6400             	MAP_LV1_BG_B3:		incmap	"res/maps/tilemap_LV1_BG_B.png",    0 , 512 ,  64 , 32 , blocks_LV1_BG_B3 ; // 96x16 = 1536 | 16x16 =  256
 2535               6C00     			align	256
 2536    0D:6C00             	MAP_LV1_BG_B4:		incmap	"res/maps/tilemap_LV1_BG_B.png", 1024 , 512 ,  96 , 32 , blocks_LV1_BG_B4 ; // 64x16 = 1024 | 16x16 =  256
 2537                        	; MASK (EMPTY)
 2538                        	;----------------
 2539    0D:7800  00 00 00 00	dummy_tbl:	ds	256
         0D:7804  00 00 00 00 
         0D:7808  00 00 00 00 
         0D:780C  00 00 00 00 
         0D:7810  00 00 00 00 
         0D:7814  00 00 00 00 
         0D:7818  00 00 00 00 
         0D:781C  00 00 00 00 
         0D:7820  00 00 00 00 
         0D:7824  00 00 00 00 
         0D:7828  00 00 00 00 
         0D:782C  00 00 00 00 
         0D:7830  00 00 00 00 
         0D:7834  00 00 00 00 
         0D:7838  00 00 00 00 
         0D:783C  00 00 00 00 
         0D:7840  00 00 00 00 
         0D:7844  00 00 00 00 
         0D:7848  00 00 00 00 
         0D:784C  00 00 00 00 
         0D:7850  00 00 00 00 
         0D:7854  00 00 00 00 
         0D:7858  00 00 00 00 
         0D:785C  00 00 00 00 
         0D:7860  00 00 00 00 
         0D:7864  00 00 00 00 
         0D:7868  00 00 00 00 
         0D:786C  00 00 00 00 
         0D:7870  00 00 00 00 
         0D:7874  00 00 00 00 
         0D:7878  00 00 00 00 
         0D:787C  00 00 00 00 
         0D:7880  00 00 00 00 
         0D:7884  00 00 00 00 
         0D:7888  00 00 00 00 
         0D:788C  00 00 00 00 
         0D:7890  00 00 00 00 
         0D:7894  00 00 00 00 
         0D:7898  00 00 00 00 
         0D:789C  00 00 00 00 
         0D:78A0  00 00 00 00 
         0D:78A4  00 00 00 00 
         0D:78A8  00 00 00 00 
         0D:78AC  00 00 00 00 
         0D:78B0  00 00 00 00 
         0D:78B4  00 00 00 00 
         0D:78B8  00 00 00 00 
         0D:78BC  00 00 00 00 
         0D:78C0  00 00 00 00 
         0D:78C4  00 00 00 00 
         0D:78C8  00 00 00 00 
         0D:78CC  00 00 00 00 
         0D:78D0  00 00 00 00 
         0D:78D4  00 00 00 00 
         0D:78D8  00 00 00 00 
         0D:78DC  00 00 00 00 
         0D:78E0  00 00 00 00 
         0D:78E4  00 00 00 00 
         0D:78E8  00 00 00 00 
         0D:78EC  00 00 00 00 
         0D:78F0  00 00 00 00 
         0D:78F4  00 00 00 00 
         0D:78F8  00 00 00 00 
         0D:78FC  00 00 00 00 
 2540                        	; SWIZZLE MAPS
 2541                        	;-------------
 2542    0D:7900             	swizzle	MAP_LV1_BG_B1,  32, 16 ;
 2543    0D:7900             	swizzle	MAP_LV1_BG_B2,  32, 16 ;
 2544    0D:7900             	swizzle	MAP_LV1_BG_B3,  32, 16 ;
 2545    0D:7900             	swizzle	MAP_LV1_BG_B4,  32, 16 ;
 2546                        	; BUILD MULTIMAP
 2547                        	;---------------
 2548    0D:7900             	_multimap_LV1_BG_B:
 2549                        			; 1st line of 5 screens (512x256)
 2550                        			SCREEN MAP_LV1_BG_B1 + 0x0000, blocks_LV1_BG_B1, dummy_tbl, 0
         0D:7900  70 0C      			db	(((MAP_LV1_BG_B1 + 0x0000) & $1FFF) | $6000) >> 8, bank(MAP_LV1_BG_B1 + 0x0000)
         0D:7902  50 0B      			db	(((blocks_LV1_BG_B1) & $1FFF) | $4000) >> 8, bank(blocks_LV1_BG_B1)
         0D:7904  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0D:7906  00 00      			dw	(0)
 2551                        			SCREEN MAP_LV1_BG_B1 + 0x0200, blocks_LV1_BG_B1, dummy_tbl, 0
         0D:7908  72 0C      			db	(((MAP_LV1_BG_B1 + 0x0200) & $1FFF) | $6000) >> 8, bank(MAP_LV1_BG_B1 + 0x0200)
         0D:790A  50 0B      			db	(((blocks_LV1_BG_B1) & $1FFF) | $4000) >> 8, bank(blocks_LV1_BG_B1)
         0D:790C  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0D:790E  00 00      			dw	(0)
 2552                        			SCREEN MAP_LV1_BG_B2 + 0x0000, blocks_LV1_BG_B2, dummy_tbl, 0
         0D:7910  78 0C      			db	(((MAP_LV1_BG_B2 + 0x0000) & $1FFF) | $6000) >> 8, bank(MAP_LV1_BG_B2 + 0x0000)
         0D:7912  58 0B      			db	(((blocks_LV1_BG_B2) & $1FFF) | $4000) >> 8, bank(blocks_LV1_BG_B2)
         0D:7914  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0D:7916  00 00      			dw	(0)
 2553                        			SCREEN MAP_LV1_BG_B2 + 0x0200, blocks_LV1_BG_B2, dummy_tbl, 0
         0D:7918  7A 0C      			db	(((MAP_LV1_BG_B2 + 0x0200) & $1FFF) | $6000) >> 8, bank(MAP_LV1_BG_B2 + 0x0200)
         0D:791A  58 0B      			db	(((blocks_LV1_BG_B2) & $1FFF) | $4000) >> 8, bank(blocks_LV1_BG_B2)
         0D:791C  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0D:791E  00 00      			dw	(0)
 2554                        			SCREEN MAP_LV1_BG_B2 + 0x0400, blocks_LV1_BG_B2, dummy_tbl, 0
         0D:7920  7C 0C      			db	(((MAP_LV1_BG_B2 + 0x0400) & $1FFF) | $6000) >> 8, bank(MAP_LV1_BG_B2 + 0x0400)
         0D:7922  58 0B      			db	(((blocks_LV1_BG_B2) & $1FFF) | $4000) >> 8, bank(blocks_LV1_BG_B2)
         0D:7924  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0D:7926  00 00      			dw	(0)
 2555                        			; 2nd line of 5 screens (512x256)
 2556                        			SCREEN MAP_LV1_BG_B1 + 0x0400, blocks_LV1_BG_B1, dummy_tbl, 0
         0D:7928  74 0C      			db	(((MAP_LV1_BG_B1 + 0x0400) & $1FFF) | $6000) >> 8, bank(MAP_LV1_BG_B1 + 0x0400)
         0D:792A  50 0B      			db	(((blocks_LV1_BG_B1) & $1FFF) | $4000) >> 8, bank(blocks_LV1_BG_B1)
         0D:792C  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0D:792E  00 00      			dw	(0)
 2557                        			SCREEN MAP_LV1_BG_B1 + 0x0600, blocks_LV1_BG_B1, dummy_tbl, 0
         0D:7930  76 0C      			db	(((MAP_LV1_BG_B1 + 0x0600) & $1FFF) | $6000) >> 8, bank(MAP_LV1_BG_B1 + 0x0600)
         0D:7932  50 0B      			db	(((blocks_LV1_BG_B1) & $1FFF) | $4000) >> 8, bank(blocks_LV1_BG_B1)
         0D:7934  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0D:7936  00 00      			dw	(0)
 2558                        			SCREEN MAP_LV1_BG_B2 + 0x0600, blocks_LV1_BG_B2, dummy_tbl, 0
         0D:7938  7E 0C      			db	(((MAP_LV1_BG_B2 + 0x0600) & $1FFF) | $6000) >> 8, bank(MAP_LV1_BG_B2 + 0x0600)
         0D:793A  58 0B      			db	(((blocks_LV1_BG_B2) & $1FFF) | $4000) >> 8, bank(blocks_LV1_BG_B2)
         0D:793C  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0D:793E  00 00      			dw	(0)
 2559                        			SCREEN MAP_LV1_BG_B2 + 0x0800, blocks_LV1_BG_B2, dummy_tbl, 0
         0D:7940  60 0D      			db	(((MAP_LV1_BG_B2 + 0x0800) & $1FFF) | $6000) >> 8, bank(MAP_LV1_BG_B2 + 0x0800)
         0D:7942  58 0B      			db	(((blocks_LV1_BG_B2) & $1FFF) | $4000) >> 8, bank(blocks_LV1_BG_B2)
         0D:7944  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0D:7946  00 00      			dw	(0)
 2560                        			SCREEN MAP_LV1_BG_B2 + 0x0A00, blocks_LV1_BG_B2, dummy_tbl, 0
         0D:7948  62 0D      			db	(((MAP_LV1_BG_B2 + 0x0A00) & $1FFF) | $6000) >> 8, bank(MAP_LV1_BG_B2 + 0x0A00)
         0D:794A  58 0B      			db	(((blocks_LV1_BG_B2) & $1FFF) | $4000) >> 8, bank(blocks_LV1_BG_B2)
         0D:794C  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0D:794E  00 00      			dw	(0)
 2561                        			; 3rd line of 5 screens (512x256)
 2562                        			SCREEN MAP_LV1_BG_B3 + 0x0000, blocks_LV1_BG_B3, dummy_tbl, 0
         0D:7950  64 0D      			db	(((MAP_LV1_BG_B3 + 0x0000) & $1FFF) | $6000) >> 8, bank(MAP_LV1_BG_B3 + 0x0000)
         0D:7952  40 0C      			db	(((blocks_LV1_BG_B3) & $1FFF) | $4000) >> 8, bank(blocks_LV1_BG_B3)
         0D:7954  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0D:7956  00 00      			dw	(0)
 2563                        			SCREEN MAP_LV1_BG_B3 + 0x0200, blocks_LV1_BG_B3, dummy_tbl, 0
         0D:7958  66 0D      			db	(((MAP_LV1_BG_B3 + 0x0200) & $1FFF) | $6000) >> 8, bank(MAP_LV1_BG_B3 + 0x0200)
         0D:795A  40 0C      			db	(((blocks_LV1_BG_B3) & $1FFF) | $4000) >> 8, bank(blocks_LV1_BG_B3)
         0D:795C  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0D:795E  00 00      			dw	(0)
 2564                        			SCREEN MAP_LV1_BG_B4 + 0x0000, blocks_LV1_BG_B4, dummy_tbl, 0
         0D:7960  6C 0D      			db	(((MAP_LV1_BG_B4 + 0x0000) & $1FFF) | $6000) >> 8, bank(MAP_LV1_BG_B4 + 0x0000)
         0D:7962  48 0C      			db	(((blocks_LV1_BG_B4) & $1FFF) | $4000) >> 8, bank(blocks_LV1_BG_B4)
         0D:7964  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0D:7966  00 00      			dw	(0)
 2565                        			SCREEN MAP_LV1_BG_B4 + 0x0200, blocks_LV1_BG_B4, dummy_tbl, 0
         0D:7968  6E 0D      			db	(((MAP_LV1_BG_B4 + 0x0200) & $1FFF) | $6000) >> 8, bank(MAP_LV1_BG_B4 + 0x0200)
         0D:796A  48 0C      			db	(((blocks_LV1_BG_B4) & $1FFF) | $4000) >> 8, bank(blocks_LV1_BG_B4)
         0D:796C  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0D:796E  00 00      			dw	(0)
 2566                        			SCREEN MAP_LV1_BG_B4 + 0x0400, blocks_LV1_BG_B4, dummy_tbl, 0
         0D:7970  70 0D      			db	(((MAP_LV1_BG_B4 + 0x0400) & $1FFF) | $6000) >> 8, bank(MAP_LV1_BG_B4 + 0x0400)
         0D:7972  48 0C      			db	(((blocks_LV1_BG_B4) & $1FFF) | $4000) >> 8, bank(blocks_LV1_BG_B4)
         0D:7974  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0D:7976  00 00      			dw	(0)
 2567                        			; 4th line of 5 screens (512x256)
 2568                        			SCREEN MAP_LV1_BG_B3 + 0x0400, blocks_LV1_BG_B3, dummy_tbl, 0
         0D:7978  68 0D      			db	(((MAP_LV1_BG_B3 + 0x0400) & $1FFF) | $6000) >> 8, bank(MAP_LV1_BG_B3 + 0x0400)
         0D:797A  40 0C      			db	(((blocks_LV1_BG_B3) & $1FFF) | $4000) >> 8, bank(blocks_LV1_BG_B3)
         0D:797C  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0D:797E  00 00      			dw	(0)
 2569                        			SCREEN MAP_LV1_BG_B3 + 0x0600, blocks_LV1_BG_B3, dummy_tbl, 0
         0D:7980  6A 0D      			db	(((MAP_LV1_BG_B3 + 0x0600) & $1FFF) | $6000) >> 8, bank(MAP_LV1_BG_B3 + 0x0600)
         0D:7982  40 0C      			db	(((blocks_LV1_BG_B3) & $1FFF) | $4000) >> 8, bank(blocks_LV1_BG_B3)
         0D:7984  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0D:7986  00 00      			dw	(0)
 2570                        			SCREEN MAP_LV1_BG_B4 + 0x0600, blocks_LV1_BG_B4, dummy_tbl, 0
         0D:7988  72 0D      			db	(((MAP_LV1_BG_B4 + 0x0600) & $1FFF) | $6000) >> 8, bank(MAP_LV1_BG_B4 + 0x0600)
         0D:798A  48 0C      			db	(((blocks_LV1_BG_B4) & $1FFF) | $4000) >> 8, bank(blocks_LV1_BG_B4)
         0D:798C  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0D:798E  00 00      			dw	(0)
 2571                        			SCREEN MAP_LV1_BG_B4 + 0x0800, blocks_LV1_BG_B4, dummy_tbl, 0
         0D:7990  74 0D      			db	(((MAP_LV1_BG_B4 + 0x0800) & $1FFF) | $6000) >> 8, bank(MAP_LV1_BG_B4 + 0x0800)
         0D:7992  48 0C      			db	(((blocks_LV1_BG_B4) & $1FFF) | $4000) >> 8, bank(blocks_LV1_BG_B4)
         0D:7994  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0D:7996  00 00      			dw	(0)
 2572                        			SCREEN MAP_LV1_BG_B4 + 0x0A00, blocks_LV1_BG_B4, dummy_tbl, 0
         0D:7998  76 0D      			db	(((MAP_LV1_BG_B4 + 0x0A00) & $1FFF) | $6000) >> 8, bank(MAP_LV1_BG_B4 + 0x0A00)
         0D:799A  48 0C      			db	(((blocks_LV1_BG_B4) & $1FFF) | $4000) >> 8, bank(blocks_LV1_BG_B4)
         0D:799C  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0D:799E  00 00      			dw	(0)
 2573                        	;//--------------------------------------------------------------------------------------//
 2574                        	;//                                        VDC 1                                         //
 2575                        	;//--------------------------------------------------------------------------------------//
 2576                        	; EXTRACT TILESET
 2577                        	;----------------
 2578    0D:79A0             	_tileset_HUD:	incchr	"res/maps/template_LIFEBAR_1.png"
 2579    0D:79E0             			incchr	"res/maps/template_LIFEBAR_2.png"
 2580    0D:7A20             			incchr	"res/maps/template_LIFEBAR_3.png"
 2581    0D:7A60             			incchr	"res/maps/template_LIFEBAR_4.png"
 2582    0D:7AA0             			incchr	"res/maps/template_LIFEBAR_5.png"
 2583    0D:7AE0             			incchr	"res/maps/tileset_WEAPON_1.png"
 2584    0D:7B60             			incchr	"res/maps/tileset_ARMOR_2.png"
 2585    0D:7BE0             			incchr	"res/maps/tilemap_HUD.png", OPTIMIZE
 2586                        	; EXTRACT BLOCKS
 2587                        	;--------------
 2588    0E:6000             	blocks_HUD1:	incblk	"res/maps/tilemap_HUD.png" , 0x1000 ,    0 ,   0 , 128 , 64 , _tileset_HUD ; // 128x16 = 2048 | 64x16 = 1024
 2589    0E:6800             	blocks_HUD2:	incblk	"res/maps/tilemap_HUD.png" , 0x1000 , 2048 ,   0 ,  32 , 64 , _tileset_HUD ; //  32x16 =  512 | 64x16 = 1024
 2590                        	; EXTRACT MAPS
 2591                        	;------------
 2592               7000     			align	256
 2593    0E:7000             	MAP_HUD1:		incmap	"res/maps/tilemap_HUD.png",    0 ,   0 , 128 , 64 , blocks_HUD1 ; // 128x16 = 2048 | 64x16 = 1024
 2594    0F:7000             			flagmap "res/maps/collision_LV1.png",       0 ,   0 , 128 , 64 , MAP_HUD1
 2595               7000     			align	256
 2596    0F:7000             	MAP_HUD2:		incmap	"res/maps/tilemap_HUD.png", 2048 ,   0 ,  32 , 64 , blocks_HUD2 ; //  32x16 =  512 | 64x16 = 1024
 2597    0F:7800             			flagmap "res/maps/collision_LV1.png",    2048 ,   0 ,  32 , 64 , MAP_HUD2
 2598                        	; SWIZZLE MAPS
 2599                        	;-------------
 2600    0F:7800             	swizzle	MAP_HUD1,  32, 16 ;
 2601    0F:7800             	swizzle	MAP_HUD2,  32, 16 ;
 2602                        	; BUILD MULTIMAP
 2603                        	;---------------
 2604    0F:7800             	_multimap_LV1_BG_A:
 2605                        			; 1st line of 5 screens (512x256)
 2606                        			SCREEN MAP_HUD1 + 0x0000, blocks_HUD1, dummy_tbl, 0
         0F:7800  70 0E      			db	(((MAP_HUD1 + 0x0000) & $1FFF) | $6000) >> 8, bank(MAP_HUD1 + 0x0000)
         0F:7802  40 0E      			db	(((blocks_HUD1) & $1FFF) | $4000) >> 8, bank(blocks_HUD1)
         0F:7804  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0F:7806  00 00      			dw	(0)
 2607                        			SCREEN MAP_HUD1 + 0x0200, blocks_HUD1, dummy_tbl, 0
         0F:7808  72 0E      			db	(((MAP_HUD1 + 0x0200) & $1FFF) | $6000) >> 8, bank(MAP_HUD1 + 0x0200)
         0F:780A  40 0E      			db	(((blocks_HUD1) & $1FFF) | $4000) >> 8, bank(blocks_HUD1)
         0F:780C  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0F:780E  00 00      			dw	(0)
 2608                        			SCREEN MAP_HUD1 + 0x0400, blocks_HUD1, dummy_tbl, 0
         0F:7810  74 0E      			db	(((MAP_HUD1 + 0x0400) & $1FFF) | $6000) >> 8, bank(MAP_HUD1 + 0x0400)
         0F:7812  40 0E      			db	(((blocks_HUD1) & $1FFF) | $4000) >> 8, bank(blocks_HUD1)
         0F:7814  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0F:7816  00 00      			dw	(0)
 2609                        			SCREEN MAP_HUD1 + 0x0600, blocks_HUD1, dummy_tbl, 0
         0F:7818  76 0E      			db	(((MAP_HUD1 + 0x0600) & $1FFF) | $6000) >> 8, bank(MAP_HUD1 + 0x0600)
         0F:781A  40 0E      			db	(((blocks_HUD1) & $1FFF) | $4000) >> 8, bank(blocks_HUD1)
         0F:781C  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0F:781E  00 00      			dw	(0)
 2610                        			SCREEN MAP_HUD2 + 0x0000, blocks_HUD2, dummy_tbl, 0
         0F:7820  70 0F      			db	(((MAP_HUD2 + 0x0000) & $1FFF) | $6000) >> 8, bank(MAP_HUD2 + 0x0000)
         0F:7822  48 0E      			db	(((blocks_HUD2) & $1FFF) | $4000) >> 8, bank(blocks_HUD2)
         0F:7824  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0F:7826  00 00      			dw	(0)
 2611                        			; 2nd line of 5 screens (512x256)
 2612                        			SCREEN MAP_HUD1 + 0x0800, blocks_HUD1, dummy_tbl, 0
         0F:7828  78 0E      			db	(((MAP_HUD1 + 0x0800) & $1FFF) | $6000) >> 8, bank(MAP_HUD1 + 0x0800)
         0F:782A  40 0E      			db	(((blocks_HUD1) & $1FFF) | $4000) >> 8, bank(blocks_HUD1)
         0F:782C  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0F:782E  00 00      			dw	(0)
 2613                        			SCREEN MAP_HUD1 + 0x0A00, blocks_HUD1, dummy_tbl, 0
         0F:7830  7A 0E      			db	(((MAP_HUD1 + 0x0A00) & $1FFF) | $6000) >> 8, bank(MAP_HUD1 + 0x0A00)
         0F:7832  40 0E      			db	(((blocks_HUD1) & $1FFF) | $4000) >> 8, bank(blocks_HUD1)
         0F:7834  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0F:7836  00 00      			dw	(0)
 2614                        			SCREEN MAP_HUD1 + 0x0C00, blocks_HUD1, dummy_tbl, 0
         0F:7838  7C 0E      			db	(((MAP_HUD1 + 0x0C00) & $1FFF) | $6000) >> 8, bank(MAP_HUD1 + 0x0C00)
         0F:783A  40 0E      			db	(((blocks_HUD1) & $1FFF) | $4000) >> 8, bank(blocks_HUD1)
         0F:783C  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0F:783E  00 00      			dw	(0)
 2615                        			SCREEN MAP_HUD1 + 0x0E00, blocks_HUD1, dummy_tbl, 0
         0F:7840  7E 0E      			db	(((MAP_HUD1 + 0x0E00) & $1FFF) | $6000) >> 8, bank(MAP_HUD1 + 0x0E00)
         0F:7842  40 0E      			db	(((blocks_HUD1) & $1FFF) | $4000) >> 8, bank(blocks_HUD1)
         0F:7844  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0F:7846  00 00      			dw	(0)
 2616                        			SCREEN MAP_HUD2 + 0x0200, blocks_HUD2, dummy_tbl, 0
         0F:7848  72 0F      			db	(((MAP_HUD2 + 0x0200) & $1FFF) | $6000) >> 8, bank(MAP_HUD2 + 0x0200)
         0F:784A  48 0E      			db	(((blocks_HUD2) & $1FFF) | $4000) >> 8, bank(blocks_HUD2)
         0F:784C  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0F:784E  00 00      			dw	(0)
 2617                        			; 3rd line of 5 screens (512x256)
 2618                        			SCREEN MAP_HUD1 + 0x1000, blocks_HUD1, dummy_tbl, 0
         0F:7850  60 0F      			db	(((MAP_HUD1 + 0x1000) & $1FFF) | $6000) >> 8, bank(MAP_HUD1 + 0x1000)
         0F:7852  40 0E      			db	(((blocks_HUD1) & $1FFF) | $4000) >> 8, bank(blocks_HUD1)
         0F:7854  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0F:7856  00 00      			dw	(0)
 2619                        			SCREEN MAP_HUD1 + 0x1200, blocks_HUD1, dummy_tbl, 0
         0F:7858  62 0F      			db	(((MAP_HUD1 + 0x1200) & $1FFF) | $6000) >> 8, bank(MAP_HUD1 + 0x1200)
         0F:785A  40 0E      			db	(((blocks_HUD1) & $1FFF) | $4000) >> 8, bank(blocks_HUD1)
         0F:785C  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0F:785E  00 00      			dw	(0)
 2620                        			SCREEN MAP_HUD1 + 0x1400, blocks_HUD1, dummy_tbl, 0
         0F:7860  64 0F      			db	(((MAP_HUD1 + 0x1400) & $1FFF) | $6000) >> 8, bank(MAP_HUD1 + 0x1400)
         0F:7862  40 0E      			db	(((blocks_HUD1) & $1FFF) | $4000) >> 8, bank(blocks_HUD1)
         0F:7864  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0F:7866  00 00      			dw	(0)
 2621                        			SCREEN MAP_HUD1 + 0x1600, blocks_HUD1, dummy_tbl, 0
         0F:7868  66 0F      			db	(((MAP_HUD1 + 0x1600) & $1FFF) | $6000) >> 8, bank(MAP_HUD1 + 0x1600)
         0F:786A  40 0E      			db	(((blocks_HUD1) & $1FFF) | $4000) >> 8, bank(blocks_HUD1)
         0F:786C  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0F:786E  00 00      			dw	(0)
 2622                        			SCREEN MAP_HUD2 + 0x0400, blocks_HUD2, dummy_tbl, 0
         0F:7870  74 0F      			db	(((MAP_HUD2 + 0x0400) & $1FFF) | $6000) >> 8, bank(MAP_HUD2 + 0x0400)
         0F:7872  48 0E      			db	(((blocks_HUD2) & $1FFF) | $4000) >> 8, bank(blocks_HUD2)
         0F:7874  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0F:7876  00 00      			dw	(0)
 2623                        			; 4th line of 5 screens (512x256)
 2624                        			SCREEN MAP_HUD1 + 0x1800, blocks_HUD1, dummy_tbl, 0
         0F:7878  68 0F      			db	(((MAP_HUD1 + 0x1800) & $1FFF) | $6000) >> 8, bank(MAP_HUD1 + 0x1800)
         0F:787A  40 0E      			db	(((blocks_HUD1) & $1FFF) | $4000) >> 8, bank(blocks_HUD1)
         0F:787C  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0F:787E  00 00      			dw	(0)
 2625                        			SCREEN MAP_HUD1 + 0x1A00, blocks_HUD1, dummy_tbl, 0
         0F:7880  6A 0F      			db	(((MAP_HUD1 + 0x1A00) & $1FFF) | $6000) >> 8, bank(MAP_HUD1 + 0x1A00)
         0F:7882  40 0E      			db	(((blocks_HUD1) & $1FFF) | $4000) >> 8, bank(blocks_HUD1)
         0F:7884  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0F:7886  00 00      			dw	(0)
 2626                        			SCREEN MAP_HUD1 + 0x1C00, blocks_HUD1, dummy_tbl, 0
         0F:7888  6C 0F      			db	(((MAP_HUD1 + 0x1C00) & $1FFF) | $6000) >> 8, bank(MAP_HUD1 + 0x1C00)
         0F:788A  40 0E      			db	(((blocks_HUD1) & $1FFF) | $4000) >> 8, bank(blocks_HUD1)
         0F:788C  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0F:788E  00 00      			dw	(0)
 2627                        			SCREEN MAP_HUD1 + 0x1E00, blocks_HUD1, dummy_tbl, 0
         0F:7890  6E 0F      			db	(((MAP_HUD1 + 0x1E00) & $1FFF) | $6000) >> 8, bank(MAP_HUD1 + 0x1E00)
         0F:7892  40 0E      			db	(((blocks_HUD1) & $1FFF) | $4000) >> 8, bank(blocks_HUD1)
         0F:7894  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0F:7896  00 00      			dw	(0)
 2628                        			SCREEN MAP_HUD2 + 0x0600, blocks_HUD2, dummy_tbl, 0
         0F:7898  76 0F      			db	(((MAP_HUD2 + 0x0600) & $1FFF) | $6000) >> 8, bank(MAP_HUD2 + 0x0600)
         0F:789A  48 0E      			db	(((blocks_HUD2) & $1FFF) | $4000) >> 8, bank(blocks_HUD2)
         0F:789C  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0F:789E  00 00      			dw	(0)
 2629               E31D     			.code
 2630                        	
 2631                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 207; #endasm
 2632                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 211; //--------------------------------------------------------------------------------------//
 2633                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 212; //                                   EXTRACT PALETTES                                   //
 2634                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 213; //--------------------------------------------------------------------------------------//
 2635                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 215; #incpal(palette_LV1,"res/maps/tilemap_LV1_BG_B.png");
 2636               78A0     		.data
 2637    0F:78A0             	_palette_LV1:	.incpal		"res/maps/tilemap_LV1_BG_B.png"
 2638               E31D     		.code
 2639                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 224; //**************************************************************************************//
 2640                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 225; //                                                                                      //
 2641                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 226; //                                         SHOP                                         //
 2642                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 227; //                                                                                      //
 2643                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 228; //**************************************************************************************//
 2644                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 230; #asm
 2645                        		.dbg	clear
 2646               0001     	OPTIMIZE	=	1
 2647               7AA0     			.data
 2648                        	;//--------------------------------------------------------------------------------------//
 2649                        	;//                                        VDC 1                                         //
 2650                        	;//--------------------------------------------------------------------------------------//
 2651                        	; EXTRACT TILESET
 2652                        	;----------------
 2653    0F:7AA0             	_tileset_SHOP_BG_B:		incchr	"res/maps/template_ITEM_1.png"
 2654    0F:7B20             			incchr	"res/maps/template_ITEM_2.png"
 2655    0F:7BA0             			incchr	"res/maps/template_ITEM_3.png"
 2656    0F:7C20             			incchr	"res/maps/template_ITEM_4.png"
 2657    0F:7CA0             			incchr	"res/maps/template_ITEM_5.png"
 2658    0F:7D20             			incchr	"res/maps/template_ITEM_6.png"
 2659    0F:7DA0             			incchr	"res/maps/template_ITEM_7.png"
 2660    0F:7E20             			incchr	"res/maps/template_ITEM_8.png"
 2661    0F:7EA0             			incchr	"res/maps/template_ITEM_9.png"
 2662    0F:7F20             			incchr	"res/maps/template_ITEM_10.png"
 2663    0F:7FA0             			incchr	"res/maps/tilemap_SHOP_BG_B.png", OPTIMIZE
 2664               E31D     			.code
 2665                        	
 2666                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 254; #endasm
 2667                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 257; // EXTRACT BLOCKS //
 2668                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 258; #incblk(blocks_SHOP_BG_B, "res/maps/tilemap_SHOP_BG_B.png", 0x1000, tileset_SHOP_BG_B);
 2669               7400     		.data
 2670    11:7800             	_blocks_SHOP_BG_B:	.incblk		"res/maps/tilemap_SHOP_BG_B.png", 4096, _tileset_SHOP_BG_B
 2671               E31D     		.code
 2672                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 260; // EXTRACT MAP //
 2673                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 261; #incmap(map_SHOP_BG_B, "res/maps/tilemap_SHOP_BG_B.png", blocks_SHOP_BG_B);
 2674               8000     		.data
 2675    12:6000             	_map_SHOP_BG_B:	.incmap		"res/maps/tilemap_SHOP_BG_B.png", _blocks_SHOP_BG_B
 2676               E31D     		.code
 2677                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 264; //--------------------------------------------------------------------------------------//
 2678                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 265; //                                        ITEMS                                         //
 2679                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 266; //--------------------------------------------------------------------------------------//
 2680                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 268; #incchr(tiles_ITEM_WEAPON_2,"res/maps/tiles_ITEM_WEAPON_2.png", 2 , 2);
 2681               60E0     		.data
 2682    12:60E0             	_tiles_ITEM_WEAPON_2: 	.incchr		"res/maps/tiles_ITEM_WEAPON_2.png", 2, 2
 2683               E31D     		.code
 2684                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 269; #incchr(tiles_ITEM_WEAPON_3,"res/maps/tiles_ITEM_WEAPON_3.png", 2 , 2);
 2685               6160     		.data
 2686    12:6160             	_tiles_ITEM_WEAPON_3: 	.incchr		"res/maps/tiles_ITEM_WEAPON_3.png", 2, 2
 2687               E31D     		.code
 2688                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 270; #incchr(tiles_ITEM_WEAPON_4,"res/maps/tiles_ITEM_WEAPON_4.png", 2 , 2);
 2689               61E0     		.data
 2690    12:61E0             	_tiles_ITEM_WEAPON_4: 	.incchr		"res/maps/tiles_ITEM_WEAPON_4.png", 2, 2
 2691               E31D     		.code
 2692                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 271; #incchr(tiles_ITEM_WEAPON_5,"res/maps/tiles_ITEM_WEAPON_5.png", 2 , 2);
 2693               6260     		.data
 2694    12:6260             	_tiles_ITEM_WEAPON_5: 	.incchr		"res/maps/tiles_ITEM_WEAPON_5.png", 2, 2
 2695               E31D     		.code
 2696                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 272; #incchr(tiles_ITEM_KEY,"res/maps/tiles_ITEM_KEY.png", 2 , 2);
 2697               62E0     		.data
 2698    12:62E0             	_tiles_ITEM_KEY: 	.incchr		"res/maps/tiles_ITEM_KEY.png", 2, 2
 2699               E31D     		.code
 2700                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 273; #incchr(tiles_ITEM_ARMOR_2,"res/maps/tiles_ITEM_ARMOR_2.png", 2 , 2);
 2701               6360     		.data
 2702    12:6360             	_tiles_ITEM_ARMOR_2: 	.incchr		"res/maps/tiles_ITEM_ARMOR_2.png", 2, 2
 2703               E31D     		.code
 2704                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 274; #incchr(tiles_ITEM_ARMOR_3,"res/maps/tiles_ITEM_ARMOR_3.png", 2 , 2);
 2705               63E0     		.data
 2706    12:63E0             	_tiles_ITEM_ARMOR_3: 	.incchr		"res/maps/tiles_ITEM_ARMOR_3.png", 2, 2
 2707               E31D     		.code
 2708                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 275; #incchr(tiles_ITEM_ARMOR_4,"res/maps/tiles_ITEM_ARMOR_4.png", 2 , 2);
 2709               6460     		.data
 2710    12:6460             	_tiles_ITEM_ARMOR_4: 	.incchr		"res/maps/tiles_ITEM_ARMOR_4.png", 2, 2
 2711               E31D     		.code
 2712                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 276; #incchr(tiles_ITEM_ARMOR_5,"res/maps/tiles_ITEM_ARMOR_5.png", 2 , 2);
 2713               64E0     		.data
 2714    12:64E0             	_tiles_ITEM_ARMOR_5: 	.incchr		"res/maps/tiles_ITEM_ARMOR_5.png", 2, 2
 2715               E31D     		.code
 2716                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 277; #incchr(tiles_ITEM_POTION,"res/maps/tiles_ITEM_POTION.png", 2 , 2);
 2717               6560     		.data
 2718    12:6560             	_tiles_ITEM_POTION: 	.incchr		"res/maps/tiles_ITEM_POTION.png", 2, 2
 2719               E31D     		.code
 2720                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 279; //#incchr(tileset_NUMBERS_SHOP_FONT,"res/maps/tiles_NUMBERS_SHOP_FONT.png");
 2721                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 282; //--------------------------------------------------------------------------------------//
 2722                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 283; //                                   EXTRACT PALETTES                                   //
 2723                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 284; //--------------------------------------------------------------------------------------//
 2724                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 286; #incpal(palette_SHOP,"res/maps/tilemap_SHOP_BG_B.png");
 2725               65E0     		.data
 2726    12:65E0             	_palette_SHOP:	.incpal		"res/maps/tilemap_SHOP_BG_B.png"
 2727               E31D     		.code
 2728                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 287; #incpal(palette_SHOP_ITEMS,"res/palettes/palette_SHOP_ITEMS.png");
 2729               67E0     		.data
 2730    12:67E0             	_palette_SHOP_ITEMS:	.incpal		"res/palettes/palette_SHOP_ITEMS.png"
 2731               E31D     		.code
 2732                        		.dbg	line,	"main.c", 13; #include "include/gfx_BG_TITLE.c"
 2733                        		.dbg	line,	"include\gfx_BG_TITLE.c", 1; #include "huc.h"
 2734                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 1; #ifndef _hucc_legacy_h
 2735                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 2; #define _hucc_legacy_h
 2736                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 4; /****************************************************************************
 2737                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 5; ; ***************************************************************************
 2738                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 6; ;
 2739                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 7; ; huc.h
 2740                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 8; ;
 2741                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 9; ; HuCC wrapper file to include a default set of HuC-compatible functions.
 2742                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 10; ;
 2743                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 11; ; Copyright John Brandwood 2024.
 2744                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 12; ;
 2745                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 2746                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 2747                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 2748                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 16; ;
 2749                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 17; ; ***************************************************************************
 2750                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 18; ; ***************************************************************************
 2751                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 19; ;
 2752                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 20; ; When the HuCC compiler is invoked with the "--legacy" option to compile old
 2753                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 21; ; projects, then this "huc.h" file is automatically included.
 2754                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 22; ;
 2755                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 23; ; This file includes a set of the individual HuCC headers which correspond to
 2756                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 24; ; HuC's built-in functions and MagicKit library.
 2757                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 25; ;
 2758                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 26; ; New HuCC projects should, preferably, include the specific headers that are
 2759                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 27; ; needed, which will then allow them to replace parts of the standard library
 2760                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 28; ; with newer functions, or they can just manually include this "huc.h" file.
 2761                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 29; ;
 2762                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 30; ; ***************************************************************************
 2763                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 31; ; **************************************************************************/
 2764                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 33; #include "hucc-systemcard.h"
 2765                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 34; #include "hucc-baselib.h"
 2766                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 35; #include "hucc-gfx.h"
 2767                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 36; #include "hucc-old-scroll.h"
 2768                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 37; #include "hucc-old-spr.h"
 2769                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 38; #include "hucc-old-map.h"
 2770                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 39; #include "hucc-old-line.h"
 2771                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 41; #include <stdlib.h>
 2772                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 42; #include <string.h>
 2773                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 44; #endif // _hucc_legacy_h
 2774                        		.dbg	line,	"include\gfx_BG_TITLE.c", 2; #include "hucc-scroll.h"
 2775                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 1; #ifndef _hucc_scroll_h
 2776                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 2; #define _hucc_scroll_h
 2777                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 4; /****************************************************************************
 2778                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 5; ; ***************************************************************************
 2779                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 6; ;
 2780                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 7; ; hucc-scroll.h
 2781                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 8; ;
 2782                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 9; ; Routines for a fast split-screen scrolling system.
 2783                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 10; ;
 2784                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 11; ; Copyright John Brandwood 2024.
 2785                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 12; ;
 2786                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 2787                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 2788                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 2789                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 16; ;
 2790                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 17; ; ***************************************************************************
 2791                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 18; ; ***************************************************************************
 2792                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 19; ;
 2793                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 20; ; The maximum number of splits for each screen layer is set in your project's
 2794                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 21; ; "hucc-config.inc" file, with the library having a limit of 128-per-layer.
 2795                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 22; ;
 2796                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 23; ; Your first active split must be defined to start at screen line 0, and then
 2797                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 24; ; the rest of the active splits must be in increasing line order to match the
 2798                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 25; ; way that the PC Engine displays the output image.
 2799                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 26; ;
 2800                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 27; ; You can have disabled splits interleaved with your active splits.
 2801                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 28; ;
 2802                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 29; ; Splits that are normally disabled can be used to create full screen effects
 2803                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 30; ; such as bouncing the screen up and down by adding blank areas at the top or
 2804                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 31; ; bottom of the screen, and then rapidly changing the height of those areas.
 2805                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 32; ;
 2806                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 33; ; ***************************************************************************
 2807                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 34; ; **************************************************************************/
 2808                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 36; // *************
 2809                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 37; // VDC bits for display_flags ...
 2810                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 38; // *************
 2811                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 40; #ifndef BKG_OFF
 2812                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 41; #define BKG_OFF 0x00
 2813                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 42; #endif
 2814                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 44; #ifndef SPR_OFF
 2815                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 45; #define SPR_OFF 0x00
 2816                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 46; #endif
 2817                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 48; #ifndef BKG_ON
 2818                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 49; #define BKG_ON 0x80
 2819                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 50; #endif
 2820                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 52; #ifndef SPR_ON
 2821                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 53; #define SPR_ON 0x40
 2822                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 54; #endif
 2823                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 56; // *************
 2824                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 57; // Functions in hucc-scroll.asm ...
 2825                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 58; // *************
 2826                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 60; #ifdef __HUCC__
 2827                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 62; #asmdef	HUCC_USES_NEW_SCROLL 1
 2828                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 64; extern void __fastcall scroll_split( unsigned char index<_al>, unsigned char screen_line<_ah>, unsigned int bat_x<_bx>, unsigned int bat_y<_cx>, unsigned char display_flags<_dl> );
 2829                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 65; extern void __fastcall sgx_scroll_split( unsigned char index<_al>, unsigned char screen_line<_ah>, unsigned int bat_x<_bx>, unsigned int bat_y<_cx>, unsigned char display_flags<_dl> );
 2830                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 67; extern void __fastcall disable_split( unsigned char index<acc> );
 2831                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 68; extern void __fastcall sgx_disable_split( unsigned char index<acc> );
 2832                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 70; extern void __fastcall __macro disable_all_splits( void );
 2833                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 71; extern void __fastcall __macro sgx_disable_all_splits( void );
 2834                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 73; #asm
 2835                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 74; .macro	_disable_all_splits
 2836                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 75; ldy	#HUCC_PCE_SPLITS - 1
 2837                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 76; !loop:		tya
 2838                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 77; call	_disable_split.1
 2839                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 78; dey
 2840                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 79; bpl	!loop-
 2841                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 80; .endm
 2842                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 82; .macro	_sgx_disable_all_splits
 2843                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 83; ldy	#HUCC_SGX_SPLITS - 1
 2844                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 84; !loop:		tya
 2845                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 85; call	_sgx_disable_split.1
 2846                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 86; dey
 2847                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 87; bpl	!loop-
 2848                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 88; .endm
 2849                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 89; #endasm
 2850                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 91; #endif // __HUCC__
 2851                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 93; #endif // _hucc_scroll_h
 2852                        		.dbg	line,	"include\gfx_BG_TITLE.c", 3; #include "hucc-chrmap.h"
 2853                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 1; #ifndef _hucc_chrmap_h
 2854                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 2; #define _hucc_chrmap_h
 2855                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 4; /****************************************************************************
 2856                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 5; ; ***************************************************************************
 2857                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 6; ;
 2858                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 7; ; hucc-chrmap.h
 2859                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 8; ;
 2860                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 9; ; A simple map system based on 8x8 characters (aka "tiles") in BAT format.
 2861                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 10; ;
 2862                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 11; ; Copyright John Brandwood 2025.
 2863                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 12; ;
 2864                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 2865                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 2866                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 2867                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 16; ;
 2868                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 17; ; ***************************************************************************
 2869                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 18; ; ***************************************************************************
 2870                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 19; ;
 2871                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 20; ; The maximum X and Y size for chrmaps is 256 characters (2048 pixels).
 2872                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 21; ;
 2873                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 22; ; The maximum total size for a chrmap is 16KBytes, which allows for maps up
 2874                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 23; ; to 256x32 tiles (2048x256 pixels).
 2875                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 24; ;
 2876                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 25; ; ***************************************************************************
 2877                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 26; ; **************************************************************************/
 2878                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 28; // *************
 2879                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 29; // This code extends the blkmap library ...
 2880                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 30; // *************
 2881                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 32; #include "hucc-blkmap.h"
 2882                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 34; // *************
 2883                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 35; // Functions in chrmap.asm ...
 2884                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 36; // *************
 2885                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 38; #ifdef __HUCC__
 2886                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 40; #asmdef	HUCC_USES_CHRMAP 1
 2887                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 42; extern void __fastcall __nop set_chrmap( unsigned char __far *chrmap<vdc_map_bank:vdc_map_addr>, unsigned char tiles_w<vdc_map_line_w> );
 2888                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 44; extern void __fastcall draw_bat( void );
 2889                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 45; extern void __fastcall scroll_bat( void );
 2890                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 47; extern void __fastcall blit_bat( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 2891                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 49; #ifdef _SGX
 2892                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 51; extern void __fastcall __nop sgx_set_chrmap( unsigned char __far *chrmap<sgx_map_bank:sgx_map_addr>, unsigned char tiles_w<sgx_map_line_w> );
 2893                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 53; extern void __fastcall sgx_draw_bat( void );
 2894                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 54; extern void __fastcall sgx_scroll_bat( void );
 2895                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 56; extern void __fastcall sgx_blit_bat( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 2896                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 58; #endif
 2897                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 60; #endif // __HUCC__
 2898                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 62; #endif // _hucc_chrmap_h
 2899                        		.dbg	line,	"include\gfx_BG_TITLE.c", 4; #include "hucc-blkmap.h"
 2900                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 1; #ifndef _hucc_blkmap_h
 2901                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 2; #define _hucc_blkmap_h
 2902                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 4; /****************************************************************************
 2903                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 5; ; ***************************************************************************
 2904                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 6; ;
 2905                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 7; ; hucc-blkmap.h
 2906                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 8; ;
 2907                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 9; ; A map system based on 16x16 meta-tiles (aka "blocks", aka CHR/BLK/MAP).
 2908                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 10; ;
 2909                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 11; ; Copyright John Brandwood 2025.
 2910                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 12; ;
 2911                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 2912                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 2913                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 2914                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 16; ;
 2915                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 17; ; ***************************************************************************
 2916                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 18; ; ***************************************************************************
 2917                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 19; ;
 2918                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 20; ; The maximum X and Y size for blkmaps is 128 blocks (2048 pixels).
 2919                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 21; ;
 2920                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 22; ; The maximum total size for a blkmap is 16KBytes, which allows for maps up
 2921                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 23; ; to 128x128 blocks (2048x2048 pixels).
 2922                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 24; ;
 2923                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 25; ; Huge multi-screen blkmaps are also supported (optionally).
 2924                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 26; ;
 2925                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 27; ; The maximum X and Y for multi-screen maps is 128 screens (32768 pixels).
 2926                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 28; ;
 2927                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 29; ; The maximum total size for a multi-screen map is 8KBytes, which allows for
 2928                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 30; ; a total of 1024 screens.
 2929                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 31; ;
 2930                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 32; ; ***************************************************************************
 2931                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 33; ; **************************************************************************/
 2932                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 35; // *************
 2933                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 36; // Functions in blkmap.asm ...
 2934                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 37; // *************
 2935                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 39; #ifdef __HUCC__
 2936                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 41; #asmdef	HUCC_USES_BLKMAP 1
 2937                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 43; // Current top-left of drawn map in pixels.
 2938                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 44; extern unsigned int   vdc_map_pxl_x;
 2939                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 45; extern unsigned int   vdc_map_pxl_y;
 2940                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 47; // Width and height to draw/scroll in characters (not tiles).
 2941                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 48; extern unsigned char  vdc_map_draw_w;
 2942                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 49; extern unsigned char  vdc_map_draw_h;
 2943                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 51; // Width of map (or multi-screen BAT) in tiles.
 2944                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 52; extern unsigned char  vdc_map_line_w;
 2945                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 54; // Width of map in screens (if multi-screen map).
 2946                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 55; extern unsigned char  vdc_map_scrn_w;
 2947                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 57; // Extra information returned by get_map_block() and sgx_get_map_block(),
 2948                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 58; // which are the collision flags and the mask/overlay sprite for the BLK.
 2949                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 59; extern unsigned char  map_blk_flag;
 2950                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 60; extern unsigned char  map_blk_mask;
 2951                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 62; extern unsigned char  vdc_scr_bank;
 2952                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 63; extern unsigned char *vdc_scr_addr;
 2953                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 65; extern unsigned char  vdc_map_bank;
 2954                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 66; extern unsigned char *vdc_map_addr;
 2955                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 68; extern unsigned char  vdc_blk_bank;
 2956                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 69; extern unsigned char *vdc_blk_addr;
 2957                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 71; extern unsigned char  vdc_tbl_bank;
 2958                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 72; extern unsigned char *vdc_tbl_addr;
 2959                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 74; extern void __fastcall set_blocks( unsigned char __far *blk_def<vdc_blk_bank:vdc_blk_addr>, unsigned char __far *flg_def<vdc_tbl_bank:vdc_tbl_addr>, unsigned char number_of_blocks<_al> );
 2960                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 75; extern void __fastcall __macro set_blkmap( unsigned char __far *blk_map<vdc_map_bank:vdc_map_addr>, unsigned char blocks_w<vdc_map_line_w> );
 2961                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 76; extern void __fastcall __macro set_multimap( unsigned char __far *multi_map<vdc_scr_bank:vdc_scr_addr>, unsigned char screens_w<vdc_map_scrn_w> );
 2962                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 78; extern void __fastcall draw_map( void );
 2963                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 79; extern void __fastcall scroll_map( void );
 2964                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 81; extern void __fastcall blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 2965                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 83; extern unsigned char __fastcall get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
 2966                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 85; #asm
 2967                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 86; .macro	_set_blkmap.2
 2968                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 87; stz	vdc_scr_bank
 2969                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 88; .endm
 2970                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 90; .macro	_set_multimap.2
 2971                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 91; lda	vdc_bat_width
 2972                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 92; lsr	a
 2973                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 93; sta	vdc_map_line_w
 2974                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 94; .endm
 2975                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 96; .macro	SCREEN
 2976                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 97; db	(((\1) & $1FFF) | $6000) >> 8, bank(\1)
 2977                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 98; db	(((\2) & $1FFF) | $4000) >> 8, bank(\2)
 2978                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 99; db	(((\3) & $1FFF) | $6000) >> 8, bank(\3)
 2979                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 100; dw	(\4)
 2980                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 101; .endm
 2981                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 102; #endasm
 2982                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 104; #ifdef _SGX
 2983                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 106; // Current top-left of drawn map in pixels.
 2984                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 107; extern unsigned int   sgx_map_pxl_x;
 2985                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 108; extern unsigned int   sgx_map_pxl_y;
 2986                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 110; // Width and height to draw/scroll in characters (not tiles).
 2987                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 111; extern unsigned char  sgx_map_draw_w;
 2988                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 112; extern unsigned char  sgx_map_draw_h;
 2989                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 114; // Width of map (or multi-screen BAT) in tiles.
 2990                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 115; extern unsigned char  sgx_map_line_w;
 2991                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 117; // Width of map in screens (if multi-screen map).
 2992                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 118; extern unsigned char  sgx_map_scrn_w;
 2993                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 120; extern unsigned char  sgx_scr_bank;
 2994                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 121; extern unsigned char *sgx_scr_addr;
 2995                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 123; extern unsigned char  sgx_map_bank;
 2996                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 124; extern unsigned char *sgx_map_addr;
 2997                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 126; extern unsigned char  sgx_blk_bank;
 2998                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 127; extern unsigned char *sgx_blk_addr;
 2999                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 129; extern unsigned char  sgx_tbl_bank;
 3000                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 130; extern unsigned char *sgx_tbl_addr;
 3001                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 132; extern void __fastcall sgx_set_blocks( unsigned char __far *blk_def<sgx_blk_bank:sgx_blk_addr>, unsigned char __far *flg_def<sgx_tbl_bank:sgx_tbl_addr>, unsigned char number_of_blocks<_al> );
 3002                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 133; extern void __fastcall __macro sgx_set_blkmap( unsigned char __far *blk_map<sgx_map_bank:sgx_map_addr>, unsigned char blocks_w<sgx_map_line_w> );
 3003                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 134; extern void __fastcall __macro sgx_set_multimap( unsigned char __far *multi_map<sgx_scr_bank:sgx_scr_addr>, unsigned char screens_w<sgx_map_scrn_w> );
 3004                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 136; extern void __fastcall sgx_draw_map( void );
 3005                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 137; extern void __fastcall sgx_scroll_map( void );
 3006                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 139; extern void __fastcall sgx_blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 3007                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 141; extern unsigned char __fastcall sgx_get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
 3008                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 143; #asm
 3009                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 144; .macro	_sgx_set_blkmap.2
 3010                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 145; stz	sgx_scr_bank
 3011                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 146; .endm
 3012                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 148; .macro	_sgx_set_multimap.2
 3013                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 149; lda	sgx_bat_width
 3014                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 150; lsr	a
 3015                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 151; sta	sgx_map_line_w
 3016                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 152; .endm
 3017                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 153; #endasm
 3018                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 155; #endif
 3019                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 157; #endif // __HUCC__
 3020                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 159; #endif // _hucc_blkmap_h
 3021                        		.dbg	line,	"include\gfx_BG_TITLE.c", 13; #incchr(tileset_FONT_TITLE,"res/maps/tiles_FONT_TITLE.png");
 3022               69E0     		.data
 3023    12:69E0             	_tileset_FONT_TITLE: 	.incchr		"res/maps/tiles_FONT_TITLE.png"
 3024               E31D     		.code
 3025                        		.dbg	line,	"include\gfx_BG_TITLE.c", 16; //**************************************************************************************//
 3026                        		.dbg	line,	"include\gfx_BG_TITLE.c", 17; //                                                                                      //
 3027                        		.dbg	line,	"include\gfx_BG_TITLE.c", 18; //                                        TITLE                                         //
 3028                        		.dbg	line,	"include\gfx_BG_TITLE.c", 19; //                                                                                      //
 3029                        		.dbg	line,	"include\gfx_BG_TITLE.c", 20; //**************************************************************************************//
 3030                        		.dbg	line,	"include\gfx_BG_TITLE.c", 22; #incchr(tileset_TITLE_BG_B, "res/maps/tilemap_TITLE_BG_B.png", _OPTIMIZE)
 3031               75E0     		.data
 3032    12:75E0             	_tileset_TITLE_BG_B: 	.incchr		"res/maps/tilemap_TITLE_BG_B.png", 1
 3033               E31D     		.code
 3034                        		.dbg	line,	"include\gfx_BG_TITLE.c", 24; #incbat(tilemap_TITLE_BG_B,"res/maps/tilemap_TITLE_BG_B.png", 0x1000 , 32 , 28 , tileset_TITLE_BG_B);
 3035               7240     		.data
 3036    13:7240             	_tilemap_TITLE_BG_B:	.incbat		"res/maps/tilemap_TITLE_BG_B.png", 4096, 32, 28, _tileset_TITLE_BG_B
 3037               E31D     		.code
 3038                        		.dbg	line,	"main.c", 13; #incpal(palette_TITLE, "res/maps/tilemap_TITLE_BG_B.png")
 3039               7940     		.data
 3040    13:7940             	_palette_TITLE:	.incpal		"res/maps/tilemap_TITLE_BG_B.png"
 3041               E31D     		.code
 3042                        		.dbg	line,	"main.c", 14; #include "include/gfx_SPRITES.c"
 3043                        		.dbg	line,	"include\gfx_SPRITES.c", 1; #include "huc.h"
 3044                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 1; #ifndef _hucc_legacy_h
 3045                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 2; #define _hucc_legacy_h
 3046                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 4; /****************************************************************************
 3047                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 5; ; ***************************************************************************
 3048                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 6; ;
 3049                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 7; ; huc.h
 3050                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 8; ;
 3051                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 9; ; HuCC wrapper file to include a default set of HuC-compatible functions.
 3052                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 10; ;
 3053                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 11; ; Copyright John Brandwood 2024.
 3054                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 12; ;
 3055                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 3056                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 3057                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 3058                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 16; ;
 3059                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 17; ; ***************************************************************************
 3060                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 18; ; ***************************************************************************
 3061                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 19; ;
 3062                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 20; ; When the HuCC compiler is invoked with the "--legacy" option to compile old
 3063                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 21; ; projects, then this "huc.h" file is automatically included.
 3064                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 22; ;
 3065                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 23; ; This file includes a set of the individual HuCC headers which correspond to
 3066                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 24; ; HuC's built-in functions and MagicKit library.
 3067                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 25; ;
 3068                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 26; ; New HuCC projects should, preferably, include the specific headers that are
 3069                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 27; ; needed, which will then allow them to replace parts of the standard library
 3070                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 28; ; with newer functions, or they can just manually include this "huc.h" file.
 3071                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 29; ;
 3072                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 30; ; ***************************************************************************
 3073                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 31; ; **************************************************************************/
 3074                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 33; #include "hucc-systemcard.h"
 3075                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 34; #include "hucc-baselib.h"
 3076                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 35; #include "hucc-gfx.h"
 3077                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 36; #include "hucc-old-scroll.h"
 3078                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 37; #include "hucc-old-spr.h"
 3079                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 38; #include "hucc-old-map.h"
 3080                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 39; #include "hucc-old-line.h"
 3081                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 41; #include <stdlib.h>
 3082                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 42; #include <string.h>
 3083                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 44; #endif // _hucc_legacy_h
 3084                        		.dbg	line,	"include\gfx_SPRITES.c", 10; #incspr(tiles_SPR_DRAGON_INTRO,"res/sprites/tiles_SPR_DRAGON_INTRO.png")
 3085               7B40     		.data
 3086    13:7B40             	_tiles_SPR_DRAGON_INTRO:	.incspr		"res/sprites/tiles_SPR_DRAGON_INTRO.png"
 3087               E31D     		.code
 3088                        		.dbg	line,	"include\gfx_SPRITES.c", 11; #incpal(palette_SPR_DRAGON_INTRO,"res/sprites/tiles_SPR_DRAGON_INTRO.png");
 3089               7B40     		.data
 3090    15:7B40             	_palette_SPR_DRAGON_INTRO:	.incpal		"res/sprites/tiles_SPR_DRAGON_INTRO.png"
 3091               E31D     		.code
 3092                        		.dbg	line,	"include\gfx_SPRITES.c", 13; #incspr(tiles_SPR_SELECTOR,"res/sprites/tiles_SPR_SELECTOR.png")
 3093               7D40     		.data
 3094    15:7D40             	_tiles_SPR_SELECTOR:	.incspr		"res/sprites/tiles_SPR_SELECTOR.png"
 3095               E31D     		.code
 3096                        		.dbg	line,	"include\gfx_SPRITES.c", 16; // EXTRACT PLAYER TILES //
 3097                        		.dbg	line,	"include\gfx_SPRITES.c", 17; #incspr(tiles_SPR_PLAYER_ARMOR,"res/sprites/tiles_SPR_PLAYER_ARMOR.png")
 3098               7DC0     		.data
 3099    15:7DC0             	_tiles_SPR_PLAYER_ARMOR:	.incspr		"res/sprites/tiles_SPR_PLAYER_ARMOR.png"
 3100               E31D     		.code
 3101                        		.dbg	line,	"include\gfx_SPRITES.c", 18; #incspr(tiles_SPR_PLAYER_NAKED,"res/sprites/tiles_SPR_PLAYER_NAKED.png")
 3102               6FC0     		.data
 3103    17:6FC0             	_tiles_SPR_PLAYER_NAKED:	.incspr		"res/sprites/tiles_SPR_PLAYER_NAKED.png"
 3104               E31D     		.code
 3105                        		.dbg	line,	"include\gfx_SPRITES.c", 20; // EXTRACT PLAYER PALETTE //
 3106                        		.dbg	line,	"include\gfx_SPRITES.c", 21; #incpal(palette_PLAYER_1,"res/palettes/palette_PLAYER_1.png");
 3107               61C0     		.data
 3108    19:61C0             	_palette_PLAYER_1:	.incpal		"res/palettes/palette_PLAYER_1.png"
 3109               E31D     		.code
 3110                        		.dbg	line,	"include\gfx_SPRITES.c", 22; #incpal(palette_PLAYER_4,"res/palettes/palette_PLAYER_4.png");
 3111               63C0     		.data
 3112    19:63C0             	_palette_PLAYER_4:	.incpal		"res/palettes/palette_PLAYER_4.png"
 3113               E31D     		.code
 3114                        		.dbg	line,	"include\gfx_SPRITES.c", 23; #incpal(palette_PLAYER_5,"res/palettes/palette_PLAYER_5.png");
 3115               65C0     		.data
 3116    19:65C0             	_palette_PLAYER_5:	.incpal		"res/palettes/palette_PLAYER_5.png"
 3117               E31D     		.code
 3118                        		.dbg	line,	"include\gfx_SPRITES.c", 24; #incpal(palette_PLAYER_8,"res/palettes/palette_PLAYER_8.png");
 3119               67C0     		.data
 3120    19:67C0             	_palette_PLAYER_8:	.incpal		"res/palettes/palette_PLAYER_8.png"
 3121               E31D     		.code
 3122                        		.dbg	line,	"include\gfx_SPRITES.c", 27; // EXTRACT WEAPONS TILES //
 3123                        		.dbg	line,	"include\gfx_SPRITES.c", 28; #incspr(tiles_SPR_CHAIN,"res/sprites/tiles_SPR_CHAIN.png")
 3124               69C0     		.data
 3125    19:69C0             	_tiles_SPR_CHAIN:	.incspr		"res/sprites/tiles_SPR_CHAIN.png"
 3126               E31D     		.code
 3127                        		.dbg	line,	"include\gfx_SPRITES.c", 29; #incspr(tiles_SPR_WEAPON_0,"res/sprites/tiles_SPR_WEAPON_0.png")
 3128               6A40     		.data
 3129    19:6A40             	_tiles_SPR_WEAPON_0:	.incspr		"res/sprites/tiles_SPR_WEAPON_0.png"
 3130               E31D     		.code
 3131                        		.dbg	line,	"include\gfx_SPRITES.c", 30; #incspr(tiles_SPR_WEAPON_1,"res/sprites/tiles_SPR_WEAPON_1.png")
 3132               6CC0     		.data
 3133    19:6CC0             	_tiles_SPR_WEAPON_1:	.incspr		"res/sprites/tiles_SPR_WEAPON_1.png"
 3134               E31D     		.code
 3135                        		.dbg	line,	"include\gfx_SPRITES.c", 31; #incspr(tiles_SPR_WEAPON_2,"res/sprites/tiles_SPR_WEAPON_2.png")
 3136               6F40     		.data
 3137    19:6F40             	_tiles_SPR_WEAPON_2:	.incspr		"res/sprites/tiles_SPR_WEAPON_2.png"
 3138               E31D     		.code
 3139                        		.dbg	line,	"include\gfx_SPRITES.c", 32; #incspr(tiles_SPR_WEAPON_3,"res/sprites/tiles_SPR_WEAPON_3.png")
 3140               71C0     		.data
 3141    19:71C0             	_tiles_SPR_WEAPON_3:	.incspr		"res/sprites/tiles_SPR_WEAPON_3.png"
 3142               E31D     		.code
 3143                        		.dbg	line,	"include\gfx_SPRITES.c", 33; #incspr(tiles_SPR_WEAPON_4,"res/sprites/tiles_SPR_WEAPON_4.png")
 3144               7440     		.data
 3145    19:7440             	_tiles_SPR_WEAPON_4:	.incspr		"res/sprites/tiles_SPR_WEAPON_4.png"
 3146               E31D     		.code
 3147                        		.dbg	line,	"include\gfx_SPRITES.c", 36; #incspr(tiles_SPR_HIT,"res/sprites/tiles_SPR_HIT.png")
 3148               76C0     		.data
 3149    19:76C0             	_tiles_SPR_HIT:	.incspr		"res/sprites/tiles_SPR_HIT.png"
 3150               E31D     		.code
 3151                        		.dbg	line,	"include\gfx_SPRITES.c", 39; // EXTRACT OBJECTS TILES //
 3152                        		.dbg	line,	"include\gfx_SPRITES.c", 40; #incspr(tiles_SPR_BARREL,"res/sprites/tiles_SPR_BARREL.png")
 3153               7740     		.data
 3154    19:7740             	_tiles_SPR_BARREL:	.incspr		"res/sprites/tiles_SPR_BARREL.png"
 3155               E31D     		.code
 3156                        		.dbg	line,	"include\gfx_SPRITES.c", 41; #incspr(tiles_SPR_CHEST,"res/sprites/tiles_SPR_CHEST.png")
 3157               77C0     		.data
 3158    19:77C0             	_tiles_SPR_CHEST:	.incspr		"res/sprites/tiles_SPR_CHEST.png"
 3159               E31D     		.code
 3160                        		.dbg	line,	"include\gfx_SPRITES.c", 42; #incspr(tiles_SPR_COIN_1,"res/sprites/tiles_SPR_COIN_1.png")
 3161               63C0     		.data
 3162    1A:63C0             	_tiles_SPR_COIN_1:	.incspr		"res/sprites/tiles_SPR_COIN_1.png"
 3163               E31D     		.code
 3164                        		.dbg	line,	"include\gfx_SPRITES.c", 43; #incspr(tiles_SPR_COIN_5,"res/sprites/tiles_SPR_COIN_5.png")
 3165               6440     		.data
 3166    1A:6440             	_tiles_SPR_COIN_5:	.incspr		"res/sprites/tiles_SPR_COIN_5.png"
 3167               E31D     		.code
 3168                        		.dbg	line,	"include\gfx_SPRITES.c", 44; #incspr(tiles_SPR_COIN_10,"res/sprites/tiles_SPR_COIN_10.png")
 3169               64C0     		.data
 3170    1A:64C0             	_tiles_SPR_COIN_10:	.incspr		"res/sprites/tiles_SPR_COIN_10.png"
 3171               E31D     		.code
 3172                        		.dbg	line,	"include\gfx_SPRITES.c", 45; #incspr(tiles_SPR_COIN_50,"res/sprites/tiles_SPR_COIN_50.png")
 3173               6540     		.data
 3174    1A:6540             	_tiles_SPR_COIN_50:	.incspr		"res/sprites/tiles_SPR_COIN_50.png"
 3175               E31D     		.code
 3176                        		.dbg	line,	"include\gfx_SPRITES.c", 46; #incspr(tiles_SPR_COIN_100,"res/sprites/tiles_SPR_COIN_100.png")
 3177               65C0     		.data
 3178    1A:65C0             	_tiles_SPR_COIN_100:	.incspr		"res/sprites/tiles_SPR_COIN_100.png"
 3179               E31D     		.code
 3180                        		.dbg	line,	"include\gfx_SPRITES.c", 47; #incspr(tiles_SPR_COIN_500,"res/sprites/tiles_SPR_COIN_500.png")
 3181               6640     		.data
 3182    1A:6640             	_tiles_SPR_COIN_500:	.incspr		"res/sprites/tiles_SPR_COIN_500.png"
 3183               E31D     		.code
 3184                        		.dbg	line,	"include\gfx_SPRITES.c", 48; #incspr(tiles_SPR_COIN_1000,"res/sprites/tiles_SPR_COIN_1000.png")
 3185               66C0     		.data
 3186    1A:66C0             	_tiles_SPR_COIN_1000:	.incspr		"res/sprites/tiles_SPR_COIN_1000.png"
 3187               E31D     		.code
 3188                        		.dbg	line,	"include\gfx_SPRITES.c", 49; #incspr(tiles_SPR_FRUIT,"res/sprites/tiles_SPR_FRUIT.png")
 3189               6740     		.data
 3190    1A:6740             	_tiles_SPR_FRUIT:	.incspr		"res/sprites/tiles_SPR_FRUIT.png"
 3191               E31D     		.code
 3192                        		.dbg	line,	"include\gfx_SPRITES.c", 50; #incspr(tiles_SPR_GRAY_KEY,"res/sprites/tiles_SPR_GRAY_KEY.png")
 3193               67C0     		.data
 3194    1A:67C0             	_tiles_SPR_GRAY_KEY:	.incspr		"res/sprites/tiles_SPR_GRAY_KEY.png"
 3195               E31D     		.code
 3196                        		.dbg	line,	"include\gfx_SPRITES.c", 51; #incspr(tiles_SPR_GOLD_KEY,"res/sprites/tiles_SPR_GOLD_KEY.png")
 3197               6840     		.data
 3198    1A:6840             	_tiles_SPR_GOLD_KEY:	.incspr		"res/sprites/tiles_SPR_GOLD_KEY.png"
 3199               E31D     		.code
 3200                        		.dbg	line,	"include\gfx_SPRITES.c", 52; #incspr(tiles_SPR_HOURGLASS,"res/sprites/tiles_SPR_HOURGLASS.png")
 3201               68C0     		.data
 3202    1A:68C0             	_tiles_SPR_HOURGLASS:	.incspr		"res/sprites/tiles_SPR_HOURGLASS.png"
 3203               E31D     		.code
 3204                        		.dbg	line,	"include\gfx_SPRITES.c", 53; #incspr(tiles_SPR_LIFE,"res/sprites/tiles_SPR_LIFE.png")
 3205               6940     		.data
 3206    1A:6940             	_tiles_SPR_LIFE:	.incspr		"res/sprites/tiles_SPR_LIFE.png"
 3207               E31D     		.code
 3208                        		.dbg	line,	"include\gfx_SPRITES.c", 54; #incspr(tiles_SPR_OCTOPUS,"res/sprites/tiles_SPR_OCTOPUS.png")
 3209               69C0     		.data
 3210    1A:69C0             	_tiles_SPR_OCTOPUS:	.incspr		"res/sprites/tiles_SPR_OCTOPUS.png"
 3211               E31D     		.code
 3212                        		.dbg	line,	"include\gfx_SPRITES.c", 55; #incspr(tiles_SPR_POT,"res/sprites/tiles_SPR_POT.png")
 3213               6A40     		.data
 3214    1A:6A40             	_tiles_SPR_POT:	.incspr		"res/sprites/tiles_SPR_POT.png"
 3215               E31D     		.code
 3216                        		.dbg	line,	"include\gfx_SPRITES.c", 56; #incspr(tiles_SPR_POW,"res/sprites/tiles_SPR_POW.png")
 3217               6E40     		.data
 3218    1A:6E40             	_tiles_SPR_POW:	.incspr		"res/sprites/tiles_SPR_POW.png"
 3219               E31D     		.code
 3220                        		.dbg	line,	"include\gfx_SPRITES.c", 57; #incspr(tiles_SPR_STAR,"res/sprites/tiles_SPR_STAR.png")
 3221               6EC0     		.data
 3222    1A:6EC0             	_tiles_SPR_STAR:	.incspr		"res/sprites/tiles_SPR_STAR.png"
 3223               E31D     		.code
 3224                        		.dbg	line,	"include\gfx_SPRITES.c", 58; #incspr(tiles_SPR_BAMBOO,"res/sprites/tiles_SPR_BAMBOO.png")
 3225               6F40     		.data
 3226    1A:6F40             	_tiles_SPR_BAMBOO:	.incspr		"res/sprites/tiles_SPR_BAMBOO.png"
 3227               E31D     		.code
 3228                        		.dbg	line,	"include\gfx_SPRITES.c", 59; #incspr(tiles_SPR_YASHICHI,"res/sprites/tiles_SPR_YASHICHI.png")
 3229               6FC0     		.data
 3230    1A:6FC0             	_tiles_SPR_YASHICHI:	.incspr		"res/sprites/tiles_SPR_YASHICHI.png"
 3231               E31D     		.code
 3232                        		.dbg	line,	"include\gfx_SPRITES.c", 60; #incspr(tiles_SPR_ELEPHANT,"res/sprites/tiles_SPR_ELEPHANT.png")
 3233               7040     		.data
 3234    1A:7040             	_tiles_SPR_ELEPHANT:	.incspr		"res/sprites/tiles_SPR_ELEPHANT.png"
 3235               E31D     		.code
 3236                        		.dbg	line,	"include\gfx_SPRITES.c", 61; #incspr(tiles_SPR_DRAGONFLY,"res/sprites/tiles_SPR_DRAGONFLY.png")
 3237               70C0     		.data
 3238    1A:70C0             	_tiles_SPR_DRAGONFLY:	.incspr		"res/sprites/tiles_SPR_DRAGONFLY.png"
 3239               E31D     		.code
 3240                        		.dbg	line,	"include\gfx_SPRITES.c", 62; #incspr(tiles_SPR_COW,"res/sprites/tiles_SPR_COW.png")
 3241               7140     		.data
 3242    1A:7140             	_tiles_SPR_COW:	.incspr		"res/sprites/tiles_SPR_COW.png"
 3243               E31D     		.code
 3244                        		.dbg	line,	"include\gfx_SPRITES.c", 63; #incspr(tiles_SPR_MOBICHAN,"res/sprites/tiles_SPR_MOBICHAN.png")
 3245               71C0     		.data
 3246    1A:71C0             	_tiles_SPR_MOBICHAN:	.incspr		"res/sprites/tiles_SPR_MOBICHAN.png"
 3247               E31D     		.code
 3248                        		.dbg	line,	"include\gfx_SPRITES.c", 65; // EXTRACT OBJECTS PALETTE //
 3249                        		.dbg	line,	"include\gfx_SPRITES.c", 66; #incpal(palette_objects_1,"res/palettes/palette_objects_1.png");
 3250               7240     		.data
 3251    1A:7240             	_palette_objects_1:	.incpal		"res/palettes/palette_objects_1.png"
 3252               E31D     		.code
 3253                        		.dbg	line,	"include\gfx_SPRITES.c", 67; #incpal(palette_objects_2,"res/palettes/palette_objects_2.png");
 3254               7440     		.data
 3255    1A:7440             	_palette_objects_2:	.incpal		"res/palettes/palette_objects_2.png"
 3256               E31D     		.code
 3257                        		.dbg	line,	"include\gfx_SPRITES.c", 70; // EXTRACT NPCS TILES //
 3258                        		.dbg	line,	"include\gfx_SPRITES.c", 71; #incspr(tiles_SPR_NPC,"res/sprites/tiles_SPR_NPC.png")
 3259               7640     		.data
 3260    1A:7640             	_tiles_SPR_NPC:	.incspr		"res/sprites/tiles_SPR_NPC.png"
 3261               E31D     		.code
 3262                        		.dbg	line,	"include\gfx_SPRITES.c", 75; // EXTRACT CURSOR TILES //
 3263                        		.dbg	line,	"include\gfx_SPRITES.c", 76; #incspr(tiles_SPR_CURSOR,"res/sprites/tiles_SPR_CURSOR.png")
 3264               6240     		.data
 3265    1B:6240             	_tiles_SPR_CURSOR:	.incspr		"res/sprites/tiles_SPR_CURSOR.png"
 3266               E31D     		.code
 3267                        		.dbg	line,	"include\gfx_SPRITES.c", 81; // EXTRACT ENEMIES TILES //
 3268                        		.dbg	line,	"include\gfx_SPRITES.c", 82; #incspr(tiles_SPR_ORC,"res/sprites/tiles_SPR_ORC.png")
 3269               6440     		.data
 3270    1B:6440             	_tiles_SPR_ORC:	.incspr		"res/sprites/tiles_SPR_ORC.png"
 3271               E31D     		.code
 3272                        		.dbg	line,	"include\gfx_SPRITES.c", 83; #incspr(tiles_SPR_SERPENT,"res/sprites/tiles_SPR_SERPENT.png")
 3273               6140     		.data
 3274    1C:6140             	_tiles_SPR_SERPENT:	.incspr		"res/sprites/tiles_SPR_SERPENT.png"
 3275               E31D     		.code
 3276                        		.dbg	line,	"include\gfx_SPRITES.c", 84; #incspr(tiles_SPR_PLANT,"res/sprites/tiles_SPR_PLANT.png")
 3277               6D40     		.data
 3278    1C:6D40             	_tiles_SPR_PLANT:	.incspr		"res/sprites/tiles_SPR_PLANT.png"
 3279               E31D     		.code
 3280                        		.dbg	line,	"include\gfx_SPRITES.c", 86; // EXTRACT ENEMIES PALETTES //
 3281                        		.dbg	line,	"include\gfx_SPRITES.c", 87; #incpal(palette_SPR_ORC,"res/sprites/tiles_SPR_ORC.png")
 3282               6740     		.data
 3283    1D:6740             	_palette_SPR_ORC:	.incpal		"res/sprites/tiles_SPR_ORC.png"
 3284               E31D     		.code
 3285                        		.dbg	line,	"include\gfx_SPRITES.c", 88; #incpal(palette_SPR_PLANT,"res/sprites/tiles_SPR_PLANT.png")
 3286               6940     		.data
 3287    1D:6940             	_palette_SPR_PLANT:	.incpal		"res/sprites/tiles_SPR_PLANT.png"
 3288               E31D     		.code
 3289                        		.dbg	line,	"main.c", 17; #include "include/tables_INTRO.c"
 3290                        		.dbg	line,	"include\tables_INTRO.c", 1; //-----------------------------------------------------------------------------//
 3291                        		.dbg	line,	"include\tables_INTRO.c", 2; //                                                                             //
 3292                        		.dbg	line,	"include\tables_INTRO.c", 3; //                                   LEVEL 1                                   //
 3293                        		.dbg	line,	"include\tables_INTRO.c", 4; //                                                                             //
 3294                        		.dbg	line,	"include\tables_INTRO.c", 5; //-----------------------------------------------------------------------------//
 3295                        		.dbg	line,	"include\tables_INTRO.c", 7; // 28 CHAR BY LINE //
 3296                        		.dbg	line,	"include\tables_INTRO.c", 8; // 224 CHAR IN TOTAL //
 3297                        		.dbg	line,	"include\tables_INTRO.c", 9; const char              TABLE_INTRO_TEXT[]  =   {
 3298                        		.dbg	line,	"include\tables_INTRO.c", 10; "Long Long ago, three dragonsdescended from skies above  with a rolling thunder and  destroyed a kingdom into    darkness.                   From lengthy suffering and  darkness of the kingdom     came one brave fighter.    "
 3299                        		.dbg	line,	"include\tables_INTRO.c", 11; };
 3300                        		.dbg	line,	"main.c", 18; #include "include/tables_NPC.c"
 3301                        		.dbg	line,	"include\tables_NPC.c", 1; //-----------------------------------------------------------------------------//
 3302                        		.dbg	line,	"include\tables_NPC.c", 2; //                                                                             //
 3303                        		.dbg	line,	"include\tables_NPC.c", 3; //                                   LEVEL 1                                   //
 3304                        		.dbg	line,	"include\tables_NPC.c", 4; //                                                                             //
 3305                        		.dbg	line,	"include\tables_NPC.c", 5; //-----------------------------------------------------------------------------//
 3306                        		.dbg	line,	"include\tables_NPC.c", 7; const char              TABLE_NPC_TYPE_LV1[NPC_NUMBER_LV1]              =   {
 3307                        		.dbg	line,	"include\tables_NPC.c", 8; TYPE_NPC_SHOP,
 3308                        		.dbg	line,	"include\tables_NPC.c", 9; TYPE_NPC_REWARD
 3309                        		.dbg	line,	"include\tables_NPC.c", 10; };
 3310                        		.dbg	line,	"include\tables_NPC.c", 13; const signed int        TABLE_NPC_X_POS_REF_LV1[NPC_NUMBER_LV1]         =   {
 3311                        		.dbg	line,	"include\tables_NPC.c", 14; 912,
 3312                        		.dbg	line,	"include\tables_NPC.c", 15; 1232
 3313                        		.dbg	line,	"include\tables_NPC.c", 16; };
 3314                        		.dbg	line,	"include\tables_NPC.c", 19; const signed int        TABLE_NPC_Y_POS_REF_LV1[NPC_NUMBER_LV1]         =   {
 3315                        		.dbg	line,	"include\tables_NPC.c", 20; 576,
 3316                        		.dbg	line,	"include\tables_NPC.c", 21; 400
 3317                        		.dbg	line,	"include\tables_NPC.c", 22; };
 3318                        		.dbg	line,	"main.c", 19; #include "include/tables_OBJECT.c"
 3319                        		.dbg	line,	"include\tables_OBJECT.c", 1; //-----------------------------------------------------------------------------//
 3320                        		.dbg	line,	"include\tables_OBJECT.c", 2; //                                                                             //
 3321                        		.dbg	line,	"include\tables_OBJECT.c", 3; //                                   LEVEL 1                                   //
 3322                        		.dbg	line,	"include\tables_OBJECT.c", 4; //                                                                             //
 3323                        		.dbg	line,	"include\tables_OBJECT.c", 5; //-----------------------------------------------------------------------------//
 3324                        		.dbg	line,	"include\tables_OBJECT.c", 7; // DOES NOT INCLUDE HIDDEN OBJECTS //
 3325                        		.dbg	line,	"include\tables_OBJECT.c", 8; const char              TABLE_OBJECT_TYPE_LV1[OBJECT_NUMBER_LV1]      =   {
 3326                        		.dbg	line,	"include\tables_OBJECT.c", 9; TYPE_HOURGLASS,
 3327                        		.dbg	line,	"include\tables_OBJECT.c", 10; TYPE_POT,
 3328                        		.dbg	line,	"include\tables_OBJECT.c", 11; TYPE_POT,
 3329                        		.dbg	line,	"include\tables_OBJECT.c", 12; TYPE_POT,
 3330                        		.dbg	line,	"include\tables_OBJECT.c", 13; TYPE_POT,
 3331                        		.dbg	line,	"include\tables_OBJECT.c", 14; TYPE_POT,
 3332                        		.dbg	line,	"include\tables_OBJECT.c", 15; TYPE_POT,
 3333                        		.dbg	line,	"include\tables_OBJECT.c", 16; TYPE_POW,
 3334                        		.dbg	line,	"include\tables_OBJECT.c", 17; TYPE_POT,
 3335                        		.dbg	line,	"include\tables_OBJECT.c", 18; TYPE_POT,
 3336                        		.dbg	line,	"include\tables_OBJECT.c", 20; //
 3337                        		.dbg	line,	"include\tables_OBJECT.c", 21; TYPE_POT,
 3338                        		.dbg	line,	"include\tables_OBJECT.c", 22; TYPE_POT,
 3339                        		.dbg	line,	"include\tables_OBJECT.c", 23; TYPE_POT,
 3340                        		.dbg	line,	"include\tables_OBJECT.c", 24; TYPE_POT,
 3341                        		.dbg	line,	"include\tables_OBJECT.c", 25; TYPE_POT,
 3342                        		.dbg	line,	"include\tables_OBJECT.c", 26; TYPE_POT,
 3343                        		.dbg	line,	"include\tables_OBJECT.c", 27; TYPE_POT,
 3344                        		.dbg	line,	"include\tables_OBJECT.c", 28; TYPE_POT,
 3345                        		.dbg	line,	"include\tables_OBJECT.c", 29; TYPE_POT,
 3346                        		.dbg	line,	"include\tables_OBJECT.c", 30; TYPE_POT,
 3347                        		.dbg	line,	"include\tables_OBJECT.c", 32; //
 3348                        		.dbg	line,	"include\tables_OBJECT.c", 33; TYPE_POT,
 3349                        		.dbg	line,	"include\tables_OBJECT.c", 34; TYPE_POT,
 3350                        		.dbg	line,	"include\tables_OBJECT.c", 35; TYPE_POT
 3351                        		.dbg	line,	"include\tables_OBJECT.c", 36; };
 3352                        		.dbg	line,	"include\tables_OBJECT.c", 38; // DOES NOT INCLUDE HIDDEN OBJECTS //
 3353                        		.dbg	line,	"include\tables_OBJECT.c", 39; const signed int        TABLE_OBJECT_X_POS_REF_LV1[OBJECT_NUMBER_LV1] =   {
 3354                        		.dbg	line,	"include\tables_OBJECT.c", 40; 1680,
 3355                        		.dbg	line,	"include\tables_OBJECT.c", 41; 1280,
 3356                        		.dbg	line,	"include\tables_OBJECT.c", 42; 1472,
 3357                        		.dbg	line,	"include\tables_OBJECT.c", 43; 1440,
 3358                        		.dbg	line,	"include\tables_OBJECT.c", 44; 1168,
 3359                        		.dbg	line,	"include\tables_OBJECT.c", 45; 1200,
 3360                        		.dbg	line,	"include\tables_OBJECT.c", 46; 960,
 3361                        		.dbg	line,	"include\tables_OBJECT.c", 47; 984,
 3362                        		.dbg	line,	"include\tables_OBJECT.c", 48; 1360,
 3363                        		.dbg	line,	"include\tables_OBJECT.c", 49; 1392,
 3364                        		.dbg	line,	"include\tables_OBJECT.c", 51; //
 3365                        		.dbg	line,	"include\tables_OBJECT.c", 52; 1552,
 3366                        		.dbg	line,	"include\tables_OBJECT.c", 53; 1680,
 3367                        		.dbg	line,	"include\tables_OBJECT.c", 54; 1712,
 3368                        		.dbg	line,	"include\tables_OBJECT.c", 55; 1744,
 3369                        		.dbg	line,	"include\tables_OBJECT.c", 56; 1248,
 3370                        		.dbg	line,	"include\tables_OBJECT.c", 57; 1280,
 3371                        		.dbg	line,	"include\tables_OBJECT.c", 58; 1168,
 3372                        		.dbg	line,	"include\tables_OBJECT.c", 59; 1040,
 3373                        		.dbg	line,	"include\tables_OBJECT.c", 60; 640,
 3374                        		.dbg	line,	"include\tables_OBJECT.c", 61; 672,
 3375                        		.dbg	line,	"include\tables_OBJECT.c", 63; //
 3376                        		.dbg	line,	"include\tables_OBJECT.c", 64; 336,
 3377                        		.dbg	line,	"include\tables_OBJECT.c", 65; 368,
 3378                        		.dbg	line,	"include\tables_OBJECT.c", 66; 416
 3379                        		.dbg	line,	"include\tables_OBJECT.c", 67; };
 3380                        		.dbg	line,	"include\tables_OBJECT.c", 69; // DOES NOT INCLUDE HIDDEN OBJECTS //
 3381                        		.dbg	line,	"include\tables_OBJECT.c", 70; const signed int        TABLE_OBJECT_Y_POS_REF_LV1[OBJECT_NUMBER_LV1] =     {
 3382                        		.dbg	line,	"include\tables_OBJECT.c", 71; 384,
 3383                        		.dbg	line,	"include\tables_OBJECT.c", 72; 416,
 3384                        		.dbg	line,	"include\tables_OBJECT.c", 73; 480,
 3385                        		.dbg	line,	"include\tables_OBJECT.c", 74; 496,
 3386                        		.dbg	line,	"include\tables_OBJECT.c", 75; 560,
 3387                        		.dbg	line,	"include\tables_OBJECT.c", 76; 560,
 3388                        		.dbg	line,	"include\tables_OBJECT.c", 77; 592,
 3389                        		.dbg	line,	"include\tables_OBJECT.c", 78; 592,
 3390                        		.dbg	line,	"include\tables_OBJECT.c", 79; 592,
 3391                        		.dbg	line,	"include\tables_OBJECT.c", 80; 592,
 3392                        		.dbg	line,	"include\tables_OBJECT.c", 82; //
 3393                        		.dbg	line,	"include\tables_OBJECT.c", 83; 704,
 3394                        		.dbg	line,	"include\tables_OBJECT.c", 84; 720,
 3395                        		.dbg	line,	"include\tables_OBJECT.c", 85; 720,
 3396                        		.dbg	line,	"include\tables_OBJECT.c", 86; 720,
 3397                        		.dbg	line,	"include\tables_OBJECT.c", 87; 736,
 3398                        		.dbg	line,	"include\tables_OBJECT.c", 88; 736,
 3399                        		.dbg	line,	"include\tables_OBJECT.c", 89; 752,
 3400                        		.dbg	line,	"include\tables_OBJECT.c", 90; 848,
 3401                        		.dbg	line,	"include\tables_OBJECT.c", 91; 880,
 3402                        		.dbg	line,	"include\tables_OBJECT.c", 92; 880,
 3403                        		.dbg	line,	"include\tables_OBJECT.c", 94; //
 3404                        		.dbg	line,	"include\tables_OBJECT.c", 95; 896,
 3405                        		.dbg	line,	"include\tables_OBJECT.c", 96; 896,
 3406                        		.dbg	line,	"include\tables_OBJECT.c", 97; 896
 3407                        		.dbg	line,	"include\tables_OBJECT.c", 98; };
 3408                        		.dbg	line,	"include\tables_OBJECT.c", 100; // DOES NOT INCLUDE HIDDEN OBJECTS //
 3409                        		.dbg	line,	"include\tables_OBJECT.c", 101; const char              TABLE_REWARD_TYPE_LV1[OBJECT_NUMBER_LV1]       =    {
 3410                        		.dbg	line,	"include\tables_OBJECT.c", 102; TYPE_NULL,
 3411                        		.dbg	line,	"include\tables_OBJECT.c", 104; //
 3412                        		.dbg	line,	"include\tables_OBJECT.c", 105; TYPE_GRAY_KEY,
 3413                        		.dbg	line,	"include\tables_OBJECT.c", 107; //
 3414                        		.dbg	line,	"include\tables_OBJECT.c", 108; TYPE_COIN_5,
 3415                        		.dbg	line,	"include\tables_OBJECT.c", 109; TYPE_COIN_5,
 3416                        		.dbg	line,	"include\tables_OBJECT.c", 111; //
 3417                        		.dbg	line,	"include\tables_OBJECT.c", 112; TYPE_GRAY_KEY,
 3418                        		.dbg	line,	"include\tables_OBJECT.c", 113; TYPE_COIN_10,
 3419                        		.dbg	line,	"include\tables_OBJECT.c", 115; //
 3420                        		.dbg	line,	"include\tables_OBJECT.c", 116; TYPE_COIN_10,
 3421                        		.dbg	line,	"include\tables_OBJECT.c", 117; TYPE_NULL,
 3422                        		.dbg	line,	"include\tables_OBJECT.c", 119; //
 3423                        		.dbg	line,	"include\tables_OBJECT.c", 120; TYPE_GRAY_KEY,
 3424                        		.dbg	line,	"include\tables_OBJECT.c", 121; TYPE_HOURGLASS,
 3425                        		.dbg	line,	"include\tables_OBJECT.c", 123; //
 3426                        		.dbg	line,	"include\tables_OBJECT.c", 124; TYPE_COIN_10,
 3427                        		.dbg	line,	"include\tables_OBJECT.c", 126; //
 3428                        		.dbg	line,	"include\tables_OBJECT.c", 127; TYPE_HOURGLASS,
 3429                        		.dbg	line,	"include\tables_OBJECT.c", 128; TYPE_GRAY_KEY,
 3430                        		.dbg	line,	"include\tables_OBJECT.c", 129; TYPE_COIN_10,
 3431                        		.dbg	line,	"include\tables_OBJECT.c", 131; //
 3432                        		.dbg	line,	"include\tables_OBJECT.c", 132; TYPE_GRAY_KEY,
 3433                        		.dbg	line,	"include\tables_OBJECT.c", 133; TYPE_COIN_10,
 3434                        		.dbg	line,	"include\tables_OBJECT.c", 135; //
 3435                        		.dbg	line,	"include\tables_OBJECT.c", 136; TYPE_COIN_5,
 3436                        		.dbg	line,	"include\tables_OBJECT.c", 138; //
 3437                        		.dbg	line,	"include\tables_OBJECT.c", 139; TYPE_COIN_10,
 3438                        		.dbg	line,	"include\tables_OBJECT.c", 141; //
 3439                        		.dbg	line,	"include\tables_OBJECT.c", 142; TYPE_COIN_5,
 3440                        		.dbg	line,	"include\tables_OBJECT.c", 143; TYPE_COIN_10,
 3441                        		.dbg	line,	"include\tables_OBJECT.c", 145; //
 3442                        		.dbg	line,	"include\tables_OBJECT.c", 146; TYPE_GRAY_KEY,
 3443                        		.dbg	line,	"include\tables_OBJECT.c", 147; TYPE_COIN_5,
 3444                        		.dbg	line,	"include\tables_OBJECT.c", 148; TYPE_GRAY_KEY
 3445                        		.dbg	line,	"include\tables_OBJECT.c", 149; };
 3446                        		.dbg	line,	"include\tables_OBJECT.c", 151; // DOES NOT INCLUDE HIDDEN OBJECTS //
 3447                        		.dbg	line,	"include\tables_OBJECT.c", 152; const int              TABLE_REWARD_VRAM_ADR_LV1[OBJECT_NUMBER_LV1]  =     {
 3448                        		.dbg	line,	"include\tables_OBJECT.c", 153; TYPE_NULL,
 3449                        		.dbg	line,	"include\tables_OBJECT.c", 155; //
 3450                        		.dbg	line,	"include\tables_OBJECT.c", 156; GRAY_KEY_VRAM_ADR,
 3451                        		.dbg	line,	"include\tables_OBJECT.c", 158; //
 3452                        		.dbg	line,	"include\tables_OBJECT.c", 159; GRAY_KEY_VRAM_ADR,
 3453                        		.dbg	line,	"include\tables_OBJECT.c", 160; GRAY_KEY_VRAM_ADR,
 3454                        		.dbg	line,	"include\tables_OBJECT.c", 161; GRAY_KEY_VRAM_ADR,
 3455                        		.dbg	line,	"include\tables_OBJECT.c", 163; //
 3456                        		.dbg	line,	"include\tables_OBJECT.c", 164; GRAY_KEY_VRAM_ADR,
 3457                        		.dbg	line,	"include\tables_OBJECT.c", 165; COIN_10_VRAM_ADR,
 3458                        		.dbg	line,	"include\tables_OBJECT.c", 167; //
 3459                        		.dbg	line,	"include\tables_OBJECT.c", 168; GRAY_KEY_VRAM_ADR,
 3460                        		.dbg	line,	"include\tables_OBJECT.c", 170; //
 3461                        		.dbg	line,	"include\tables_OBJECT.c", 171; GRAY_KEY_VRAM_ADR,
 3462                        		.dbg	line,	"include\tables_OBJECT.c", 172; HOURGLASS_VRAM_ADR,
 3463                        		.dbg	line,	"include\tables_OBJECT.c", 174; //
 3464                        		.dbg	line,	"include\tables_OBJECT.c", 175; COIN_10_VRAM_ADR,
 3465                        		.dbg	line,	"include\tables_OBJECT.c", 177; //
 3466                        		.dbg	line,	"include\tables_OBJECT.c", 178; HOURGLASS_VRAM_ADR,
 3467                        		.dbg	line,	"include\tables_OBJECT.c", 179; GRAY_KEY_VRAM_ADR,
 3468                        		.dbg	line,	"include\tables_OBJECT.c", 180; COIN_10_VRAM_ADR,
 3469                        		.dbg	line,	"include\tables_OBJECT.c", 182; //
 3470                        		.dbg	line,	"include\tables_OBJECT.c", 183; GRAY_KEY_VRAM_ADR,
 3471                        		.dbg	line,	"include\tables_OBJECT.c", 184; COIN_10_VRAM_ADR,
 3472                        		.dbg	line,	"include\tables_OBJECT.c", 186; //
 3473                        		.dbg	line,	"include\tables_OBJECT.c", 187; COIN_5_VRAM_ADR,
 3474                        		.dbg	line,	"include\tables_OBJECT.c", 189; //
 3475                        		.dbg	line,	"include\tables_OBJECT.c", 190; COIN_10_VRAM_ADR,
 3476                        		.dbg	line,	"include\tables_OBJECT.c", 192; //
 3477                        		.dbg	line,	"include\tables_OBJECT.c", 193; COIN_5_VRAM_ADR,
 3478                        		.dbg	line,	"include\tables_OBJECT.c", 194; COIN_10_VRAM_ADR,
 3479                        		.dbg	line,	"include\tables_OBJECT.c", 196; //
 3480                        		.dbg	line,	"include\tables_OBJECT.c", 197; GRAY_KEY_VRAM_ADR,
 3481                        		.dbg	line,	"include\tables_OBJECT.c", 198; COIN_5_VRAM_ADR,
 3482                        		.dbg	line,	"include\tables_OBJECT.c", 199; GRAY_KEY_VRAM_ADR
 3483                        		.dbg	line,	"include\tables_OBJECT.c", 200; };
 3484                        		.dbg	line,	"include\tables_OBJECT.c", 205; const signed int        TABLE_CHEST_X_POS_REF_LV1[CHEST_NUMBER_LV1]   =     {
 3485                        		.dbg	line,	"include\tables_OBJECT.c", 206; 1072,
 3486                        		.dbg	line,	"include\tables_OBJECT.c", 207; 816
 3487                        		.dbg	line,	"include\tables_OBJECT.c", 208; };
 3488                        		.dbg	line,	"include\tables_OBJECT.c", 211; const signed int        TABLE_CHEST_Y_POS_REF_LV1[CHEST_NUMBER_LV1]   =     {
 3489                        		.dbg	line,	"include\tables_OBJECT.c", 212; 832,
 3490                        		.dbg	line,	"include\tables_OBJECT.c", 213; 848
 3491                        		.dbg	line,	"main.c", 19; };
 3492                        		.dbg	line,	"main.c", 20; #include "include/tables_PLAYER.c"
 3493                        		.dbg	line,	"include\tables_PLAYER.c", 3; const unsigned char     *TABLE_PLAYER_TILES_ADR[2]     =   {
 3494                        		.dbg	line,	"include\tables_PLAYER.c", 4; &tiles_SPR_PLAYER_ARMOR,
 3495                        		.dbg	line,	"include\tables_PLAYER.c", 5; &tiles_SPR_PLAYER_NAKED
 3496                        		.dbg	line,	"include\tables_PLAYER.c", 6; };
 3497                        		.dbg	line,	"include\tables_PLAYER.c", 9; const unsigned char     TABLE_PLAYER_TILES_BANK[2]     =   {
 3498                        		.dbg	line,	"include\tables_PLAYER.c", 10; ^tiles_SPR_PLAYER_ARMOR,
 3499                        		.dbg	line,	"include\tables_PLAYER.c", 11; ^tiles_SPR_PLAYER_NAKED
 3500                        		.dbg	line,	"include\tables_PLAYER.c", 12; };
 3501                        		.dbg	line,	"include\tables_PLAYER.c", 15; const signed char       TABLE_PLAYER_JUMP_V[35]     =   {
 3502                        		.dbg	line,	"include\tables_PLAYER.c", 16; // UPWARD
 3503                        		.dbg	line,	"include\tables_PLAYER.c", 17; -4,
 3504                        		.dbg	line,	"include\tables_PLAYER.c", 18; -5,
 3505                        		.dbg	line,	"include\tables_PLAYER.c", 19; -10,
 3506                        		.dbg	line,	"include\tables_PLAYER.c", 20; -4,
 3507                        		.dbg	line,	"include\tables_PLAYER.c", 21; -4,
 3508                        		.dbg	line,	"include\tables_PLAYER.c", 22; -7,
 3509                        		.dbg	line,	"include\tables_PLAYER.c", 23; -6,
 3510                        		.dbg	line,	"include\tables_PLAYER.c", 24; -3,
 3511                        		.dbg	line,	"include\tables_PLAYER.c", 25; -5,
 3512                        		.dbg	line,	"include\tables_PLAYER.c", 26; -2,
 3513                        		.dbg	line,	"include\tables_PLAYER.c", 27; -4,
 3514                        		.dbg	line,	"include\tables_PLAYER.c", 28; -1,
 3515                        		.dbg	line,	"include\tables_PLAYER.c", 29; -1,
 3516                        		.dbg	line,	"include\tables_PLAYER.c", 30; -1,
 3517                        		.dbg	line,	"include\tables_PLAYER.c", 31; -1,
 3518                        		.dbg	line,	"include\tables_PLAYER.c", 32; 0,
 3519                        		.dbg	line,	"include\tables_PLAYER.c", 33; 0,
 3520                        		.dbg	line,	"include\tables_PLAYER.c", 34; 0,
 3521                        		.dbg	line,	"include\tables_PLAYER.c", 35; 0,
 3522                        		.dbg	line,	"include\tables_PLAYER.c", 36; // DOWNWARD
 3523                        		.dbg	line,	"include\tables_PLAYER.c", 37; 1,
 3524                        		.dbg	line,	"include\tables_PLAYER.c", 38; 1,
 3525                        		.dbg	line,	"include\tables_PLAYER.c", 39; 1,
 3526                        		.dbg	line,	"include\tables_PLAYER.c", 40; 1,
 3527                        		.dbg	line,	"include\tables_PLAYER.c", 41; 4,
 3528                        		.dbg	line,	"include\tables_PLAYER.c", 42; 2,
 3529                        		.dbg	line,	"include\tables_PLAYER.c", 43; 5,
 3530                        		.dbg	line,	"include\tables_PLAYER.c", 44; 3,
 3531                        		.dbg	line,	"include\tables_PLAYER.c", 45; 6,
 3532                        		.dbg	line,	"include\tables_PLAYER.c", 46; 7,
 3533                        		.dbg	line,	"include\tables_PLAYER.c", 47; 4,
 3534                        		.dbg	line,	"include\tables_PLAYER.c", 48; 4,
 3535                        		.dbg	line,	"include\tables_PLAYER.c", 49; 10,
 3536                        		.dbg	line,	"include\tables_PLAYER.c", 50; 4,
 3537                        		.dbg	line,	"include\tables_PLAYER.c", 51; 4,
 3538                        		.dbg	line,	"include\tables_PLAYER.c", 52; 5
 3539                        		.dbg	line,	"include\tables_PLAYER.c", 53; };
 3540                        		.dbg	line,	"include\tables_PLAYER.c", 56; const signed char       TABLE_PLAYER_FALL[21]       =   {
 3541                        		.dbg	line,	"include\tables_PLAYER.c", 57; 0,
 3542                        		.dbg	line,	"include\tables_PLAYER.c", 58; 0,
 3543                        		.dbg	line,	"include\tables_PLAYER.c", 59; 0,
 3544                        		.dbg	line,	"include\tables_PLAYER.c", 60; 0,
 3545                        		.dbg	line,	"include\tables_PLAYER.c", 61; 1,
 3546                        		.dbg	line,	"include\tables_PLAYER.c", 62; 1,
 3547                        		.dbg	line,	"include\tables_PLAYER.c", 63; 1,
 3548                        		.dbg	line,	"include\tables_PLAYER.c", 64; 1,
 3549                        		.dbg	line,	"include\tables_PLAYER.c", 65; 2,
 3550                        		.dbg	line,	"include\tables_PLAYER.c", 66; 2,
 3551                        		.dbg	line,	"include\tables_PLAYER.c", 67; 2,
 3552                        		.dbg	line,	"include\tables_PLAYER.c", 68; 2,
 3553                        		.dbg	line,	"include\tables_PLAYER.c", 69; 3,
 3554                        		.dbg	line,	"include\tables_PLAYER.c", 70; 3,
 3555                        		.dbg	line,	"include\tables_PLAYER.c", 71; 3,
 3556                        		.dbg	line,	"include\tables_PLAYER.c", 72; 4,
 3557                        		.dbg	line,	"include\tables_PLAYER.c", 73; 4,
 3558                        		.dbg	line,	"include\tables_PLAYER.c", 74; 4,
 3559                        		.dbg	line,	"include\tables_PLAYER.c", 75; 4,
 3560                        		.dbg	line,	"include\tables_PLAYER.c", 76; 4,
 3561                        		.dbg	line,	"include\tables_PLAYER.c", 77; 5
 3562                        		.dbg	line,	"include\tables_PLAYER.c", 78; };
 3563                        		.dbg	line,	"include\tables_PLAYER.c", 81; const signed char       TABLE_PLAYER_JUMP_LADDER[30]    =   {
 3564                        		.dbg	line,	"include\tables_PLAYER.c", 82; // UPWARD
 3565                        		.dbg	line,	"include\tables_PLAYER.c", 83; -4,
 3566                        		.dbg	line,	"include\tables_PLAYER.c", 84; -4,
 3567                        		.dbg	line,	"include\tables_PLAYER.c", 85; -3,
 3568                        		.dbg	line,	"include\tables_PLAYER.c", 86; -3,
 3569                        		.dbg	line,	"include\tables_PLAYER.c", 87; -3,
 3570                        		.dbg	line,	"include\tables_PLAYER.c", 88; -2,
 3571                        		.dbg	line,	"include\tables_PLAYER.c", 89; -2,
 3572                        		.dbg	line,	"include\tables_PLAYER.c", 90; -2,
 3573                        		.dbg	line,	"include\tables_PLAYER.c", 91; -1,
 3574                        		.dbg	line,	"include\tables_PLAYER.c", 92; -1,
 3575                        		.dbg	line,	"include\tables_PLAYER.c", 93; -1,
 3576                        		.dbg	line,	"include\tables_PLAYER.c", 94; -1,
 3577                        		.dbg	line,	"include\tables_PLAYER.c", 95; -1,
 3578                        		.dbg	line,	"include\tables_PLAYER.c", 96; 0,
 3579                        		.dbg	line,	"include\tables_PLAYER.c", 97; 0,
 3580                        		.dbg	line,	"include\tables_PLAYER.c", 98; 0,
 3581                        		.dbg	line,	"include\tables_PLAYER.c", 99; 0,
 3582                        		.dbg	line,	"include\tables_PLAYER.c", 100; // DOWNWARD
 3583                        		.dbg	line,	"include\tables_PLAYER.c", 101; 1,
 3584                        		.dbg	line,	"include\tables_PLAYER.c", 102; 1,
 3585                        		.dbg	line,	"include\tables_PLAYER.c", 103; 1,
 3586                        		.dbg	line,	"include\tables_PLAYER.c", 104; 1,
 3587                        		.dbg	line,	"include\tables_PLAYER.c", 105; 1,
 3588                        		.dbg	line,	"include\tables_PLAYER.c", 106; 2,
 3589                        		.dbg	line,	"include\tables_PLAYER.c", 107; 2,
 3590                        		.dbg	line,	"include\tables_PLAYER.c", 108; 2,
 3591                        		.dbg	line,	"include\tables_PLAYER.c", 109; 3,
 3592                        		.dbg	line,	"include\tables_PLAYER.c", 110; 3,
 3593                        		.dbg	line,	"include\tables_PLAYER.c", 111; 3,
 3594                        		.dbg	line,	"include\tables_PLAYER.c", 112; 4,
 3595                        		.dbg	line,	"include\tables_PLAYER.c", 113; 4
 3596                        		.dbg	line,	"include\tables_PLAYER.c", 114; };
 3597                        		.dbg	line,	"include\tables_PLAYER.c", 123; const unsigned char     *TABLE_WEAPON_TILES_ADR[5]     =   {
 3598                        		.dbg	line,	"include\tables_PLAYER.c", 124; &tiles_SPR_WEAPON_0,
 3599                        		.dbg	line,	"include\tables_PLAYER.c", 125; &tiles_SPR_WEAPON_1,
 3600                        		.dbg	line,	"include\tables_PLAYER.c", 126; &tiles_SPR_WEAPON_2,
 3601                        		.dbg	line,	"include\tables_PLAYER.c", 127; &tiles_SPR_WEAPON_3,
 3602                        		.dbg	line,	"include\tables_PLAYER.c", 128; &tiles_SPR_WEAPON_4
 3603                        		.dbg	line,	"include\tables_PLAYER.c", 129; };
 3604                        		.dbg	line,	"include\tables_PLAYER.c", 132; const unsigned char     TABLE_WEAPON_TILES_BANK[5]     =   {
 3605                        		.dbg	line,	"include\tables_PLAYER.c", 133; ^tiles_SPR_WEAPON_0,
 3606                        		.dbg	line,	"include\tables_PLAYER.c", 134; ^tiles_SPR_WEAPON_1,
 3607                        		.dbg	line,	"include\tables_PLAYER.c", 135; ^tiles_SPR_WEAPON_2,
 3608                        		.dbg	line,	"include\tables_PLAYER.c", 136; ^tiles_SPR_WEAPON_3,
 3609                        		.dbg	line,	"include\tables_PLAYER.c", 137; ^tiles_SPR_WEAPON_4
 3610                        		.dbg	line,	"main.c", 20; };
 3611                        		.dbg	line,	"main.c", 21; #include "include/tables_SHOP.c"
 3612                        		.dbg	line,	"include\tables_SHOP.c", 1; //-----------------------------------------------------------------------------//
 3613                        		.dbg	line,	"include\tables_SHOP.c", 2; //                                                                             //
 3614                        		.dbg	line,	"include\tables_SHOP.c", 3; //                                   LEVEL 1                                   //
 3615                        		.dbg	line,	"include\tables_SHOP.c", 4; //                                                                             //
 3616                        		.dbg	line,	"include\tables_SHOP.c", 5; //-----------------------------------------------------------------------------//
 3617                        		.dbg	line,	"include\tables_SHOP.c", 7; const char              TABLE_SHOP_ITEMS_LV1[10]        =   {
 3618                        		.dbg	line,	"include\tables_SHOP.c", 8; TYPE_ITEM_WEAPON_2,
 3619                        		.dbg	line,	"include\tables_SHOP.c", 9; TYPE_ITEM_WEAPON_3,
 3620                        		.dbg	line,	"include\tables_SHOP.c", 10; TYPE_ITEM_WEAPON_4,
 3621                        		.dbg	line,	"include\tables_SHOP.c", 11; TYPE_ITEM_WEAPON_5,
 3622                        		.dbg	line,	"include\tables_SHOP.c", 12; TYPE_ITEM_KEY,
 3623                        		.dbg	line,	"include\tables_SHOP.c", 14; TYPE_ITEM_ARMOR_2,
 3624                        		.dbg	line,	"include\tables_SHOP.c", 15; TYPE_ITEM_ARMOR_3,
 3625                        		.dbg	line,	"include\tables_SHOP.c", 16; TYPE_ITEM_ARMOR_4,
 3626                        		.dbg	line,	"include\tables_SHOP.c", 17; TYPE_ITEM_ARMOR_5,
 3627                        		.dbg	line,	"include\tables_SHOP.c", 18; TYPE_ITEM_POTION
 3628                        		.dbg	line,	"include\tables_SHOP.c", 19; };
 3629                        		.dbg	line,	"include\tables_SHOP.c", 22; const int               TABLE_SHOP_PRICES_LV1[10]       =   {
 3630                        		.dbg	line,	"include\tables_SHOP.c", 23; 100,
 3631                        		.dbg	line,	"include\tables_SHOP.c", 24; 1000,
 3632                        		.dbg	line,	"include\tables_SHOP.c", 25; 2400,
 3633                        		.dbg	line,	"include\tables_SHOP.c", 26; 9600,
 3634                        		.dbg	line,	"include\tables_SHOP.c", 27; 30,
 3635                        		.dbg	line,	"include\tables_SHOP.c", 28; 80,
 3636                        		.dbg	line,	"include\tables_SHOP.c", 29; 300,
 3637                        		.dbg	line,	"include\tables_SHOP.c", 30; 800,
 3638                        		.dbg	line,	"include\tables_SHOP.c", 31; 1600,
 3639                        		.dbg	line,	"include\tables_SHOP.c", 32; 150
 3640                        		.dbg	line,	"include\tables_SHOP.c", 33; };
 3641                        		.dbg	line,	"include\tables_SHOP.c", 36; const unsigned char     *TABLE_SHOP_ITEMS_TILES_ADR[10]     =   {
 3642                        		.dbg	line,	"include\tables_SHOP.c", 37; &tiles_ITEM_WEAPON_2,
 3643                        		.dbg	line,	"include\tables_SHOP.c", 38; &tiles_ITEM_WEAPON_3,
 3644                        		.dbg	line,	"include\tables_SHOP.c", 39; &tiles_ITEM_WEAPON_4,
 3645                        		.dbg	line,	"include\tables_SHOP.c", 40; &tiles_ITEM_WEAPON_5,
 3646                        		.dbg	line,	"include\tables_SHOP.c", 41; &tiles_ITEM_KEY,
 3647                        		.dbg	line,	"include\tables_SHOP.c", 42; &tiles_ITEM_ARMOR_2,
 3648                        		.dbg	line,	"include\tables_SHOP.c", 43; &tiles_ITEM_ARMOR_3,
 3649                        		.dbg	line,	"include\tables_SHOP.c", 44; &tiles_ITEM_ARMOR_4,
 3650                        		.dbg	line,	"include\tables_SHOP.c", 45; &tiles_ITEM_ARMOR_5,
 3651                        		.dbg	line,	"include\tables_SHOP.c", 46; &tiles_ITEM_POTION
 3652                        		.dbg	line,	"include\tables_SHOP.c", 47; };
 3653                        		.dbg	line,	"include\tables_SHOP.c", 50; const unsigned char     TABLE_SHOP_ITEMS_TILES_BANK[10]     =   {
 3654                        		.dbg	line,	"include\tables_SHOP.c", 51; ^tiles_ITEM_WEAPON_2,
 3655                        		.dbg	line,	"include\tables_SHOP.c", 52; ^tiles_ITEM_WEAPON_3,
 3656                        		.dbg	line,	"include\tables_SHOP.c", 53; ^tiles_ITEM_WEAPON_4,
 3657                        		.dbg	line,	"include\tables_SHOP.c", 54; ^tiles_ITEM_WEAPON_5,
 3658                        		.dbg	line,	"include\tables_SHOP.c", 55; ^tiles_ITEM_KEY,
 3659                        		.dbg	line,	"include\tables_SHOP.c", 56; ^tiles_ITEM_ARMOR_2,
 3660                        		.dbg	line,	"include\tables_SHOP.c", 57; ^tiles_ITEM_ARMOR_3,
 3661                        		.dbg	line,	"include\tables_SHOP.c", 58; ^tiles_ITEM_ARMOR_4,
 3662                        		.dbg	line,	"include\tables_SHOP.c", 59; ^tiles_ITEM_ARMOR_5,
 3663                        		.dbg	line,	"include\tables_SHOP.c", 60; ^tiles_ITEM_POTION
 3664                        		.dbg	line,	"include\tables_SHOP.c", 61; };
 3665                        		.dbg	line,	"include\tables_SHOP.c", 64; const char              TABLE_CURSOR_POS_X[11]              =   {
 3666                        		.dbg	line,	"include\tables_SHOP.c", 65; 24,
 3667                        		.dbg	line,	"include\tables_SHOP.c", 66; 56,
 3668                        		.dbg	line,	"include\tables_SHOP.c", 67; 96,
 3669                        		.dbg	line,	"include\tables_SHOP.c", 68; 136,
 3670                        		.dbg	line,	"include\tables_SHOP.c", 69; 176,
 3671                        		.dbg	line,	"include\tables_SHOP.c", 70; 24,
 3672                        		.dbg	line,	"include\tables_SHOP.c", 71; 56,
 3673                        		.dbg	line,	"include\tables_SHOP.c", 72; 96,
 3674                        		.dbg	line,	"include\tables_SHOP.c", 73; 136,
 3675                        		.dbg	line,	"include\tables_SHOP.c", 74; 176,
 3676                        		.dbg	line,	"include\tables_SHOP.c", 75; 212
 3677                        		.dbg	line,	"include\tables_SHOP.c", 76; };
 3678                        		.dbg	line,	"main.c", 25; #include "include/routines_INTRO.c"
 3679                        		.dbg	line,	"include\routines_INTRO.c", 1; #include "huc.h"
 3680                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 1; #ifndef _hucc_legacy_h
 3681                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 2; #define _hucc_legacy_h
 3682                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 4; /****************************************************************************
 3683                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 5; ; ***************************************************************************
 3684                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 6; ;
 3685                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 7; ; huc.h
 3686                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 8; ;
 3687                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 9; ; HuCC wrapper file to include a default set of HuC-compatible functions.
 3688                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 10; ;
 3689                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 11; ; Copyright John Brandwood 2024.
 3690                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 12; ;
 3691                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 3692                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 3693                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 3694                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 16; ;
 3695                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 17; ; ***************************************************************************
 3696                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 18; ; ***************************************************************************
 3697                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 19; ;
 3698                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 20; ; When the HuCC compiler is invoked with the "--legacy" option to compile old
 3699                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 21; ; projects, then this "huc.h" file is automatically included.
 3700                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 22; ;
 3701                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 23; ; This file includes a set of the individual HuCC headers which correspond to
 3702                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 24; ; HuC's built-in functions and MagicKit library.
 3703                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 25; ;
 3704                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 26; ; New HuCC projects should, preferably, include the specific headers that are
 3705                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 27; ; needed, which will then allow them to replace parts of the standard library
 3706                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 28; ; with newer functions, or they can just manually include this "huc.h" file.
 3707                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 29; ;
 3708                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 30; ; ***************************************************************************
 3709                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 31; ; **************************************************************************/
 3710                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 33; #include "hucc-systemcard.h"
 3711                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 34; #include "hucc-baselib.h"
 3712                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 35; #include "hucc-gfx.h"
 3713                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 36; #include "hucc-old-scroll.h"
 3714                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 37; #include "hucc-old-spr.h"
 3715                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 38; #include "hucc-old-map.h"
 3716                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 39; #include "hucc-old-line.h"
 3717                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 41; #include <stdlib.h>
 3718                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 42; #include <string.h>
 3719                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 44; #endif // _hucc_legacy_h
 3720                        		.dbg	line,	"include\routines_INTRO.c", 2; #include "hucc-scroll.h"
 3721                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 1; #ifndef _hucc_scroll_h
 3722                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 2; #define _hucc_scroll_h
 3723                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 4; /****************************************************************************
 3724                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 5; ; ***************************************************************************
 3725                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 6; ;
 3726                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 7; ; hucc-scroll.h
 3727                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 8; ;
 3728                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 9; ; Routines for a fast split-screen scrolling system.
 3729                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 10; ;
 3730                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 11; ; Copyright John Brandwood 2024.
 3731                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 12; ;
 3732                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 3733                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 3734                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 3735                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 16; ;
 3736                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 17; ; ***************************************************************************
 3737                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 18; ; ***************************************************************************
 3738                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 19; ;
 3739                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 20; ; The maximum number of splits for each screen layer is set in your project's
 3740                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 21; ; "hucc-config.inc" file, with the library having a limit of 128-per-layer.
 3741                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 22; ;
 3742                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 23; ; Your first active split must be defined to start at screen line 0, and then
 3743                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 24; ; the rest of the active splits must be in increasing line order to match the
 3744                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 25; ; way that the PC Engine displays the output image.
 3745                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 26; ;
 3746                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 27; ; You can have disabled splits interleaved with your active splits.
 3747                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 28; ;
 3748                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 29; ; Splits that are normally disabled can be used to create full screen effects
 3749                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 30; ; such as bouncing the screen up and down by adding blank areas at the top or
 3750                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 31; ; bottom of the screen, and then rapidly changing the height of those areas.
 3751                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 32; ;
 3752                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 33; ; ***************************************************************************
 3753                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 34; ; **************************************************************************/
 3754                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 36; // *************
 3755                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 37; // VDC bits for display_flags ...
 3756                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 38; // *************
 3757                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 40; #ifndef BKG_OFF
 3758                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 41; #define BKG_OFF 0x00
 3759                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 42; #endif
 3760                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 44; #ifndef SPR_OFF
 3761                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 45; #define SPR_OFF 0x00
 3762                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 46; #endif
 3763                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 48; #ifndef BKG_ON
 3764                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 49; #define BKG_ON 0x80
 3765                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 50; #endif
 3766                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 52; #ifndef SPR_ON
 3767                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 53; #define SPR_ON 0x40
 3768                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 54; #endif
 3769                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 56; // *************
 3770                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 57; // Functions in hucc-scroll.asm ...
 3771                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 58; // *************
 3772                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 60; #ifdef __HUCC__
 3773                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 62; #asmdef	HUCC_USES_NEW_SCROLL 1
 3774                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 64; extern void __fastcall scroll_split( unsigned char index<_al>, unsigned char screen_line<_ah>, unsigned int bat_x<_bx>, unsigned int bat_y<_cx>, unsigned char display_flags<_dl> );
 3775                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 65; extern void __fastcall sgx_scroll_split( unsigned char index<_al>, unsigned char screen_line<_ah>, unsigned int bat_x<_bx>, unsigned int bat_y<_cx>, unsigned char display_flags<_dl> );
 3776                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 67; extern void __fastcall disable_split( unsigned char index<acc> );
 3777                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 68; extern void __fastcall sgx_disable_split( unsigned char index<acc> );
 3778                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 70; extern void __fastcall __macro disable_all_splits( void );
 3779                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 71; extern void __fastcall __macro sgx_disable_all_splits( void );
 3780                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 73; #asm
 3781                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 74; .macro	_disable_all_splits
 3782                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 75; ldy	#HUCC_PCE_SPLITS - 1
 3783                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 76; !loop:		tya
 3784                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 77; call	_disable_split.1
 3785                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 78; dey
 3786                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 79; bpl	!loop-
 3787                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 80; .endm
 3788                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 82; .macro	_sgx_disable_all_splits
 3789                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 83; ldy	#HUCC_SGX_SPLITS - 1
 3790                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 84; !loop:		tya
 3791                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 85; call	_sgx_disable_split.1
 3792                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 86; dey
 3793                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 87; bpl	!loop-
 3794                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 88; .endm
 3795                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 89; #endasm
 3796                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 91; #endif // __HUCC__
 3797                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 93; #endif // _hucc_scroll_h
 3798                        		.dbg	line,	"include\routines_INTRO.c", 3; #include "hucc-chrmap.h"
 3799                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 1; #ifndef _hucc_chrmap_h
 3800                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 2; #define _hucc_chrmap_h
 3801                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 4; /****************************************************************************
 3802                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 5; ; ***************************************************************************
 3803                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 6; ;
 3804                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 7; ; hucc-chrmap.h
 3805                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 8; ;
 3806                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 9; ; A simple map system based on 8x8 characters (aka "tiles") in BAT format.
 3807                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 10; ;
 3808                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 11; ; Copyright John Brandwood 2025.
 3809                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 12; ;
 3810                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 3811                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 3812                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 3813                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 16; ;
 3814                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 17; ; ***************************************************************************
 3815                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 18; ; ***************************************************************************
 3816                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 19; ;
 3817                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 20; ; The maximum X and Y size for chrmaps is 256 characters (2048 pixels).
 3818                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 21; ;
 3819                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 22; ; The maximum total size for a chrmap is 16KBytes, which allows for maps up
 3820                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 23; ; to 256x32 tiles (2048x256 pixels).
 3821                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 24; ;
 3822                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 25; ; ***************************************************************************
 3823                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 26; ; **************************************************************************/
 3824                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 28; // *************
 3825                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 29; // This code extends the blkmap library ...
 3826                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 30; // *************
 3827                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 32; #include "hucc-blkmap.h"
 3828                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 34; // *************
 3829                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 35; // Functions in chrmap.asm ...
 3830                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 36; // *************
 3831                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 38; #ifdef __HUCC__
 3832                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 40; #asmdef	HUCC_USES_CHRMAP 1
 3833                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 42; extern void __fastcall __nop set_chrmap( unsigned char __far *chrmap<vdc_map_bank:vdc_map_addr>, unsigned char tiles_w<vdc_map_line_w> );
 3834                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 44; extern void __fastcall draw_bat( void );
 3835                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 45; extern void __fastcall scroll_bat( void );
 3836                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 47; extern void __fastcall blit_bat( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 3837                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 49; #ifdef _SGX
 3838                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 51; extern void __fastcall __nop sgx_set_chrmap( unsigned char __far *chrmap<sgx_map_bank:sgx_map_addr>, unsigned char tiles_w<sgx_map_line_w> );
 3839                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 53; extern void __fastcall sgx_draw_bat( void );
 3840                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 54; extern void __fastcall sgx_scroll_bat( void );
 3841                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 56; extern void __fastcall sgx_blit_bat( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 3842                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 58; #endif
 3843                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 60; #endif // __HUCC__
 3844                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 62; #endif // _hucc_chrmap_h
 3845                        		.dbg	line,	"include\routines_INTRO.c", 4; #include "hucc-blkmap.h"
 3846                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 1; #ifndef _hucc_blkmap_h
 3847                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 2; #define _hucc_blkmap_h
 3848                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 4; /****************************************************************************
 3849                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 5; ; ***************************************************************************
 3850                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 6; ;
 3851                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 7; ; hucc-blkmap.h
 3852                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 8; ;
 3853                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 9; ; A map system based on 16x16 meta-tiles (aka "blocks", aka CHR/BLK/MAP).
 3854                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 10; ;
 3855                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 11; ; Copyright John Brandwood 2025.
 3856                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 12; ;
 3857                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 3858                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 3859                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 3860                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 16; ;
 3861                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 17; ; ***************************************************************************
 3862                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 18; ; ***************************************************************************
 3863                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 19; ;
 3864                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 20; ; The maximum X and Y size for blkmaps is 128 blocks (2048 pixels).
 3865                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 21; ;
 3866                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 22; ; The maximum total size for a blkmap is 16KBytes, which allows for maps up
 3867                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 23; ; to 128x128 blocks (2048x2048 pixels).
 3868                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 24; ;
 3869                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 25; ; Huge multi-screen blkmaps are also supported (optionally).
 3870                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 26; ;
 3871                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 27; ; The maximum X and Y for multi-screen maps is 128 screens (32768 pixels).
 3872                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 28; ;
 3873                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 29; ; The maximum total size for a multi-screen map is 8KBytes, which allows for
 3874                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 30; ; a total of 1024 screens.
 3875                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 31; ;
 3876                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 32; ; ***************************************************************************
 3877                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 33; ; **************************************************************************/
 3878                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 35; // *************
 3879                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 36; // Functions in blkmap.asm ...
 3880                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 37; // *************
 3881                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 39; #ifdef __HUCC__
 3882                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 41; #asmdef	HUCC_USES_BLKMAP 1
 3883                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 43; // Current top-left of drawn map in pixels.
 3884                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 44; extern unsigned int   vdc_map_pxl_x;
 3885                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 45; extern unsigned int   vdc_map_pxl_y;
 3886                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 47; // Width and height to draw/scroll in characters (not tiles).
 3887                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 48; extern unsigned char  vdc_map_draw_w;
 3888                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 49; extern unsigned char  vdc_map_draw_h;
 3889                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 51; // Width of map (or multi-screen BAT) in tiles.
 3890                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 52; extern unsigned char  vdc_map_line_w;
 3891                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 54; // Width of map in screens (if multi-screen map).
 3892                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 55; extern unsigned char  vdc_map_scrn_w;
 3893                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 57; // Extra information returned by get_map_block() and sgx_get_map_block(),
 3894                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 58; // which are the collision flags and the mask/overlay sprite for the BLK.
 3895                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 59; extern unsigned char  map_blk_flag;
 3896                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 60; extern unsigned char  map_blk_mask;
 3897                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 62; extern unsigned char  vdc_scr_bank;
 3898                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 63; extern unsigned char *vdc_scr_addr;
 3899                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 65; extern unsigned char  vdc_map_bank;
 3900                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 66; extern unsigned char *vdc_map_addr;
 3901                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 68; extern unsigned char  vdc_blk_bank;
 3902                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 69; extern unsigned char *vdc_blk_addr;
 3903                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 71; extern unsigned char  vdc_tbl_bank;
 3904                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 72; extern unsigned char *vdc_tbl_addr;
 3905                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 74; extern void __fastcall set_blocks( unsigned char __far *blk_def<vdc_blk_bank:vdc_blk_addr>, unsigned char __far *flg_def<vdc_tbl_bank:vdc_tbl_addr>, unsigned char number_of_blocks<_al> );
 3906                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 75; extern void __fastcall __macro set_blkmap( unsigned char __far *blk_map<vdc_map_bank:vdc_map_addr>, unsigned char blocks_w<vdc_map_line_w> );
 3907                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 76; extern void __fastcall __macro set_multimap( unsigned char __far *multi_map<vdc_scr_bank:vdc_scr_addr>, unsigned char screens_w<vdc_map_scrn_w> );
 3908                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 78; extern void __fastcall draw_map( void );
 3909                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 79; extern void __fastcall scroll_map( void );
 3910                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 81; extern void __fastcall blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 3911                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 83; extern unsigned char __fastcall get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
 3912                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 85; #asm
 3913                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 86; .macro	_set_blkmap.2
 3914                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 87; stz	vdc_scr_bank
 3915                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 88; .endm
 3916                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 90; .macro	_set_multimap.2
 3917                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 91; lda	vdc_bat_width
 3918                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 92; lsr	a
 3919                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 93; sta	vdc_map_line_w
 3920                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 94; .endm
 3921                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 96; .macro	SCREEN
 3922                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 97; db	(((\1) & $1FFF) | $6000) >> 8, bank(\1)
 3923                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 98; db	(((\2) & $1FFF) | $4000) >> 8, bank(\2)
 3924                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 99; db	(((\3) & $1FFF) | $6000) >> 8, bank(\3)
 3925                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 100; dw	(\4)
 3926                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 101; .endm
 3927                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 102; #endasm
 3928                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 104; #ifdef _SGX
 3929                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 106; // Current top-left of drawn map in pixels.
 3930                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 107; extern unsigned int   sgx_map_pxl_x;
 3931                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 108; extern unsigned int   sgx_map_pxl_y;
 3932                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 110; // Width and height to draw/scroll in characters (not tiles).
 3933                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 111; extern unsigned char  sgx_map_draw_w;
 3934                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 112; extern unsigned char  sgx_map_draw_h;
 3935                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 114; // Width of map (or multi-screen BAT) in tiles.
 3936                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 115; extern unsigned char  sgx_map_line_w;
 3937                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 117; // Width of map in screens (if multi-screen map).
 3938                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 118; extern unsigned char  sgx_map_scrn_w;
 3939                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 120; extern unsigned char  sgx_scr_bank;
 3940                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 121; extern unsigned char *sgx_scr_addr;
 3941                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 123; extern unsigned char  sgx_map_bank;
 3942                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 124; extern unsigned char *sgx_map_addr;
 3943                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 126; extern unsigned char  sgx_blk_bank;
 3944                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 127; extern unsigned char *sgx_blk_addr;
 3945                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 129; extern unsigned char  sgx_tbl_bank;
 3946                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 130; extern unsigned char *sgx_tbl_addr;
 3947                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 132; extern void __fastcall sgx_set_blocks( unsigned char __far *blk_def<sgx_blk_bank:sgx_blk_addr>, unsigned char __far *flg_def<sgx_tbl_bank:sgx_tbl_addr>, unsigned char number_of_blocks<_al> );
 3948                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 133; extern void __fastcall __macro sgx_set_blkmap( unsigned char __far *blk_map<sgx_map_bank:sgx_map_addr>, unsigned char blocks_w<sgx_map_line_w> );
 3949                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 134; extern void __fastcall __macro sgx_set_multimap( unsigned char __far *multi_map<sgx_scr_bank:sgx_scr_addr>, unsigned char screens_w<sgx_map_scrn_w> );
 3950                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 136; extern void __fastcall sgx_draw_map( void );
 3951                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 137; extern void __fastcall sgx_scroll_map( void );
 3952                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 139; extern void __fastcall sgx_blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 3953                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 141; extern unsigned char __fastcall sgx_get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
 3954                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 143; #asm
 3955                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 144; .macro	_sgx_set_blkmap.2
 3956                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 145; stz	sgx_scr_bank
 3957                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 146; .endm
 3958                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 148; .macro	_sgx_set_multimap.2
 3959                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 149; lda	sgx_bat_width
 3960                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 150; lsr	a
 3961                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 151; sta	sgx_map_line_w
 3962                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 152; .endm
 3963                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 153; #endasm
 3964                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 155; #endif
 3965                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 157; #endif // __HUCC__
 3966                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 159; #endif // _hucc_blkmap_h
 3967                        		.dbg	line,	"include\routines_INTRO.c", 13; void joypad_BUTTONS_INTRO()
 3968                        		.dbg	line,	"include\routines_INTRO.c", 14; {
 3969                        	;***********************
 3970                        	;***********************
 3971                        	
 3972                        		.hucc
 3973    1F:D562             		.proc		_joypad_BUTTONS_INTRO
 3974                        		__enter		_joypad_BUTTONS_INTRO
 3975                        	
 3976                        		.dbg	line,	"include\routines_INTRO.c", 15; if(joytrg(JOYPAD_1) & JOY_I || joytrg(JOYPAD_1) & JOY_II || joytrg(JOYPAD_1) & JOY_RUN)
 3977                        		__ld.uiq	0
         1F:D562  62         			cla
 3978                        		 _joytrg.1
         1F:D563  AA         			tax
         1F:D564  BD 2D 22   			lda	joytrg, x
         1F:D567  BC DD 22   			ldy	joy6trg, x
 3979                        		__tand.wi	1
         1F:D56A  29 01      			and	#1
         1F:D56C  C9 01      	!:		cmp	#1
 3980                        		__btrue		.LL4
         1F:D56E  B0 0C      			bcs	.LL4
 3981                        		__ld.uiq	0
         1F:D570  62         			cla
 3982                        		 _joytrg.1
         1F:D571  AA         			tax
         1F:D572  BD 2D 22   			lda	joytrg, x
         1F:D575  BC DD 22   			ldy	joy6trg, x
 3983                        		__tand.wi	2
         1F:D578  29 02      			and	#2
         1F:D57A  C9 01      	!:		cmp	#1
 3984    1F:D57C             	.LL4:
 3985                        		__btrue		.LL5
         1F:D57C  B0 0C      			bcs	.LL5
 3986                        		__ld.uiq	0
         1F:D57E  62         			cla
 3987                        		 _joytrg.1
         1F:D57F  AA         			tax
         1F:D580  BD 2D 22   			lda	joytrg, x
         1F:D583  BC DD 22   			ldy	joy6trg, x
 3988                        		__tand.wi	8
         1F:D586  29 08      			and	#8
         1F:D588  C9 01      	!:		cmp	#1
 3989    1F:D58A             	.LL5:
 3990                        		__bfalse	.LL3
         1F:D58A  90 0B      			bcc	.LL3
 3991                        	
 3992                        		.dbg	line,	"include\routines_INTRO.c", 16; {
 3993                        	
 3994                        		.dbg	line,	"include\routines_INTRO.c", 17; // DISABLE DISPLAY //
 3995                        	
 3996                        		.dbg	line,	"include\routines_INTRO.c", 18; disp_off();
 3997                        		__call		_disp_off
         1F:D58C  20 3D E4   			call	_disp_off
 3998                        	
 3999                        		.dbg	line,	"include\routines_INTRO.c", 20; sequence_loaded = FALSE;
 4000                        		__st.umiq	0, _sequence_loaded
         1F:D58F  9C 14 23   			stz	_sequence_loaded
 4001                        	
 4002                        		.dbg	line,	"include\routines_INTRO.c", 22; sequence_id = SEQUENCE_LEVEL;
 4003                        		__st.umiq	2, _sequence_id
         1F:D592  A9 02      			lda.l	#2
         1F:D594  8D 13 23   			sta	_sequence_id
 4004                        	
 4005                        		.dbg	line,	"include\routines_INTRO.c", 23; }
 4006                        	
 4007                        		.dbg	line,	"include\routines_INTRO.c", 24; }
 4008    1F:D597             	.LL3:
 4009    1F:D597             	.LL2:
 4010                        		__return	0
         1F:D597  4C EF FF   			jmp	leave_proc
 4011                        		.dbg	clear
 4012                        		.endp
 4013                        		.pceas
 4014                        	
 4015                        		.dbg	line,	"include\routines_INTRO.c", 29; void sequence_INTRO()
 4016                        		.dbg	line,	"include\routines_INTRO.c", 30; {
 4017                        	;***********************
 4018                        	;***********************
 4019                        	
 4020                        		.hucc
 4021    1D:CB40             		.proc		_sequence_INTRO
 4022                        		__enter		_sequence_INTRO
 4023                        	
 4024                        		.dbg	line,	"include\routines_INTRO.c", 31; //--------------------------------------------------------------------------------------//
 4025                        	
 4026                        		.dbg	line,	"include\routines_INTRO.c", 32; //                                    PALETTE FADING                                    //
 4027                        	
 4028                        		.dbg	line,	"include\routines_INTRO.c", 33; //--------------------------------------------------------------------------------------//
 4029                        	
 4030                        		.dbg	line,	"include\routines_INTRO.c", 35; char i;
 4031                        	
 4032                        		.dbg	line,	"include\routines_INTRO.c", 38; if(global_counter > 0 && global_counter < 43)
 4033                        		__ld.wm		_global_counter
         1D:CB40  AD 50 26   			lda.l	_global_counter
         1D:CB43  AC 51 26   			ldy.h	_global_counter
 4034                        		__sgt_w.wi	0
         1D:CB46  18         			clc			; Subtract integer+1 from Y:A.
         1D:CB47  E9 00      			sbc.l	#0
         1D:CB49  98         			tya
         1D:CB4A  E9 00      			sbc.h	#0
         1D:CB4C  50 02      			bvc	!+
         1D:CB4E  49 80      			eor	#$80		; +ve if Y:A > integer (signed).
         1D:CB50  49 80      	!:		eor	#$80
         1D:CB52  0A         			asl	a
 4035                        		__bfalse	.LL8
         1D:CB53  90 10      			bcc	.LL8
 4036                        		__ld.wm		_global_counter
         1D:CB55  AD 50 26   			lda.l	_global_counter
         1D:CB58  AC 51 26   			ldy.h	_global_counter
 4037                        		__slt_w.wi	43
         1D:CB5B  C9 2B      			cmp.l	#43		; Subtract integer from Y:A.
         1D:CB5D  98         			tya
         1D:CB5E  E9 00      			sbc.h	#43
         1D:CB60  50 02      			bvc	!+
         1D:CB62  49 80      			eor	#$80		; -ve if Y:A < integer (signed).
         1D:CB64  0A         	!:		asl	a
 4038    1D:CB65             	.LL8:
 4039                        		__bfalse	.LL7
         1D:CB65  B0 03 4C FE			bcc	.LL7
         1D:CB69  CB          
 4040                        	
 4041                        		.dbg	line,	"include\routines_INTRO.c", 39; {
 4042                        	
 4043                        		.dbg	line,	"include\routines_INTRO.c", 40; if(global_counter%6 == FALSE)
 4044                        		__ld.wm		_global_counter
         1D:CB6A  AD 50 26   			lda.l	_global_counter
         1D:CB6D  AC 51 26   			ldy.h	_global_counter
 4045                        		__smod.wi	6
         1D:CB70  A2 06      			ldx.l	#6
         1D:CB72  86 00      			stx.l	<divisor
         1D:CB74  A2 00      			ldx.h	#6
         1D:CB76  86 01      			stx.h	<divisor
         1D:CB78  20 CB E4   			jsr	__modsint
 4046                        		__not.wr
         1D:CB7B  84 00      			sty	__temp
         1D:CB7D  05 00      			ora	__temp
         1D:CB7F  18         			clc
         1D:CB80  D0 01      			bne	!+
         1D:CB82  38         			sec
         1D:CB83             	!:
 4047                        		__bfalse	.LL9
         1D:CB83  90 79      			bcc	.LL9
 4048                        	
 4049                        		.dbg	line,	"include\routines_INTRO.c", 41; {
 4050                        	
 4051                        		.dbg	line,	"include\routines_INTRO.c", 42; read_palette( 0, 1, palette_buffer );
 4052                        		__st.umiq	0, _al
         1D:CB85  64 F8      			stz	_al
 4053                        		__st.umiq	1, _ah
         1D:CB87  A9 01      			lda.l	#1
         1D:CB89  85 F9      			sta	_ah
 4054                        		__ld.wi		_palette_buffer
         1D:CB8B  A9 6E      			lda.l	#_palette_buffer
         1D:CB8D  A0 26      			ldy.h	#_palette_buffer
 4055                        		__st.wmq	_di
         1D:CB8F  85 F0      			sta.l	_di
         1D:CB91  84 F1      			sty.h	_di
 4056                        		__call		_read_palette.3
         1D:CB93  20 9F FF   			call	_read_palette.3
 4057                        	
 4058                        		.dbg	line,	"include\routines_INTRO.c", 44; cross_fade_to(palette_INTRO_2 , palette_buffer , 16 , palette_step);
 4059                        		__farptr	_palette_INTRO_2, _bp_bank, _bp
         1D:CB96  A9 E0      			lda.l	#$6000 + ($1FFF & (_palette_INTRO_2))
         1D:CB98  85 EC      			sta.l	_bp
         1D:CB9A  A9 78      			lda.h	#$6000 + ($1FFF & (_palette_INTRO_2))
         1D:CB9C  85 ED      			sta.h	_bp
         1D:CB9E  A9 06      			lda	#bank(_palette_INTRO_2)
         1D:CBA0  85 02      			sta	_bp_bank
 4060                        		__ld.wi		_palette_buffer
         1D:CBA2  A9 6E      			lda.l	#_palette_buffer
         1D:CBA4  A0 26      			ldy.h	#_palette_buffer
 4061                        		__st.wmq	_di
         1D:CBA6  85 F0      			sta.l	_di
         1D:CBA8  84 F1      			sty.h	_di
 4062                        		__st.umiq	16, _al
         1D:CBAA  A9 10      			lda.l	#16
         1D:CBAC  85 F8      			sta	_al
 4063                        		__ld.um		_palette_step
         1D:CBAE  AD F5 23   			lda	_palette_step
         1D:CBB1  C2         			cly
 4064                        		__st.umq	_ah
         1D:CBB2  85 F9      			sta	_ah
 4065                        		 _cross_fade_to.4
         1D:CBB4  A4 02      			ldy	<_bp_bank
         1D:CBB6  20 95 FF   			call	cross_fade_to
 4066                        	
 4067                        		.dbg	line,	"include\routines_INTRO.c", 45; cross_fade_to(palette_INTRO_2 , palette_buffer , 16 , palette_step+1);
 4068                        		__farptr	_palette_INTRO_2, _bp_bank, _bp
         1D:CBB9  A9 E0      			lda.l	#$6000 + ($1FFF & (_palette_INTRO_2))
         1D:CBBB  85 EC      			sta.l	_bp
         1D:CBBD  A9 78      			lda.h	#$6000 + ($1FFF & (_palette_INTRO_2))
         1D:CBBF  85 ED      			sta.h	_bp
         1D:CBC1  A9 06      			lda	#bank(_palette_INTRO_2)
         1D:CBC3  85 02      			sta	_bp_bank
 4069                        		__ld.wi		_palette_buffer
         1D:CBC5  A9 6E      			lda.l	#_palette_buffer
         1D:CBC7  A0 26      			ldy.h	#_palette_buffer
 4070                        		__st.wmq	_di
         1D:CBC9  85 F0      			sta.l	_di
         1D:CBCB  84 F1      			sty.h	_di
 4071                        		__st.umiq	16, _al
         1D:CBCD  A9 10      			lda.l	#16
         1D:CBCF  85 F8      			sta	_al
 4072                        		__ld.um		_palette_step
         1D:CBD1  AD F5 23   			lda	_palette_step
         1D:CBD4  C2         			cly
 4073                        		__add.wi	1
         1D:CBD5  1A         			inc	a
         1D:CBD6  D0 01      			bne	!+
         1D:CBD8  C8         			iny
         1D:CBD9             	!:
 4074                        		__st.umq	_ah
         1D:CBD9  85 F9      			sta	_ah
 4075                        		 _cross_fade_to.4
         1D:CBDB  A4 02      			ldy	<_bp_bank
         1D:CBDD  20 95 FF   			call	cross_fade_to
 4076                        	
 4077                        		.dbg	line,	"include\routines_INTRO.c", 47; load_palette( 0, palette_buffer, 1 );
 4078                        		__st.umiq	0, _al
         1D:CBE0  64 F8      			stz	_al
 4079                        		__farptr	_palette_buffer, _bp_bank, _bp
         1D:CBE2  A9 6E      			lda.l	#$6000 + ($1FFF & (_palette_buffer))
         1D:CBE4  85 EC      			sta.l	_bp
         1D:CBE6  A9 66      			lda.h	#$6000 + ($1FFF & (_palette_buffer))
         1D:CBE8  85 ED      			sta.h	_bp
         1D:CBEA  A9 F8      			lda	#bank(_palette_buffer)
         1D:CBEC  85 02      			sta	_bp_bank
 4080                        		__st.umiq	1, _ah
         1D:CBEE  A9 01      			lda.l	#1
         1D:CBF0  85 F9      			sta	_ah
 4081                        		__call		_load_palette.3
         1D:CBF2  20 8B FF   			call	_load_palette.3
 4082                        	
 4083                        		.dbg	line,	"include\routines_INTRO.c", 49; palette_step += 2;
 4084                        		__add_st.umiq	2, _palette_step
         1D:CBF5  18         			clc
         1D:CBF6  AD F5 23   			lda	_palette_step
         1D:CBF9  69 02      			adc	#2
         1D:CBFB  8D F5 23   			sta	_palette_step
 4085                        	
 4086                        		.dbg	line,	"include\routines_INTRO.c", 50; }
 4087                        	
 4088                        		.dbg	line,	"include\routines_INTRO.c", 51; }
 4089    1D:CBFE             	.LL9:
 4090                        	
 4091                        		.dbg	line,	"include\routines_INTRO.c", 52; 
 4092                        	
 4093                        		.dbg	line,	"include\routines_INTRO.c", 53; 
 4094                        	
 4095                        		.dbg	line,	"include\routines_INTRO.c", 55; //--------------------------------------------------------------------------------------//
 4096                        	
 4097                        		.dbg	line,	"include\routines_INTRO.c", 56; //                                     MOVE DRAGON                                      //
 4098                        	
 4099                        		.dbg	line,	"include\routines_INTRO.c", 57; //--------------------------------------------------------------------------------------//
 4100                        	
 4101                        		.dbg	line,	"include\routines_INTRO.c", 59; if(global_counter < 50)
 4102    1D:CBFE             	.LL7:
 4103                        		__ld.wm		_global_counter
         1D:CBFE  AD 50 26   			lda.l	_global_counter
         1D:CC01  AC 51 26   			ldy.h	_global_counter
 4104                        		__slt_w.wi	50
         1D:CC04  C9 32      			cmp.l	#50		; Subtract integer from Y:A.
         1D:CC06  98         			tya
         1D:CC07  E9 00      			sbc.h	#50
         1D:CC09  50 02      			bvc	!+
         1D:CC0B  49 80      			eor	#$80		; -ve if Y:A < integer (signed).
         1D:CC0D  0A         	!:		asl	a
 4105                        		__bfalse	.LL10
         1D:CC0E  B0 03 4C 20			bcc	.LL10
         1D:CC12  CE          
 4106                        	
 4107                        		.dbg	line,	"include\routines_INTRO.c", 60; {
 4108                        	
 4109                        		.dbg	line,	"include\routines_INTRO.c", 61; player_pos_x -= 1;
 4110                        		__sub_st.wmiq	1, _player_pos_x
         1D:CC13  AD F6 24   			lda.l	_player_pos_x
         1D:CC16  D0 03      			bne	!+
         1D:CC18  CE F7 24   			dec.h	_player_pos_x
         1D:CC1B  CE F6 24   	!:		dec.l	_player_pos_x
 4111                        	
 4112                        		.dbg	line,	"include\routines_INTRO.c", 62; player_pos_y -= 1;
 4113                        		__sub_st.wmiq	1, _player_pos_y
         1D:CC1E  AD F8 24   			lda.l	_player_pos_y
         1D:CC21  D0 03      			bne	!+
         1D:CC23  CE F9 24   			dec.h	_player_pos_y
         1D:CC26  CE F8 24   	!:		dec.l	_player_pos_y
 4114                        	
 4115                        		.dbg	line,	"include\routines_INTRO.c", 63; 
 4116                        	
 4117                        		.dbg	line,	"include\routines_INTRO.c", 64; for(i=0 ; i<8 ; i++)
 4118                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         1D:CC29  9C 22 2C   			stz	__sequence_INTRO_end - 1
 4119    1D:CC2C             	.LL11:
 4120                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:CC2C  AD 22 2C   			lda	__sequence_INTRO_end - 1
 4121                        		__ult_b.uiq	8
         1D:CC2F  C9 08      			cmp	#8		; Subtract integer from A.
         1D:CC31  6A         			ror	a		; CC if A < integer.
         1D:CC32  49 80      			eor	#$80
         1D:CC34  2A         			rol	a
 4122                        		__btrue		.LL13
         1D:CC35  B0 07      			bcs	.LL13
 4123                        		__bra		.LL14
         1D:CC37  80 62      			bra	.LL14
 4124    1D:CC39             	.LL12:
 4125                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         1D:CC39  EE 22 2C   			inc	__sequence_INTRO_end - 1
 4126                        		__bra		.LL11
         1D:CC3C  80 EE      			bra	.LL11
 4127    1D:CC3E             	.LL13:
 4128                        	
 4129                        		.dbg	line,	"include\routines_INTRO.c", 65; {
 4130                        	
 4131                        		.dbg	line,	"include\routines_INTRO.c", 66; sgx_spr_set(i);
 4132                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:CC3E  AD 22 2C   			lda	__sequence_INTRO_end - 1
 4133                        		__call		_sgx_spr_set.1
         1D:CC41  20 9E E8   			call	_sgx_spr_set.1
 4134                        	
 4135                        		.dbg	line,	"include\routines_INTRO.c", 67; sgx_spr_x(player_pos_x + (i<<5) - ((i>>2)<<7));
 4136                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         1D:CC44  AD 22 2C   			lda	__sequence_INTRO_end - 1
         1D:CC47  C2         			cly
 4137                        		__asl.wi	5
         1D:CC48  85 00      			sta	__temp
         1D:CC4A  98         			tya
         1D:CC4B  4A         			lsr	a
         1D:CC4C  20 C8 E1   			jsr	aslw5
         1D:CC4F  29 E0      			and.l	#$FF << 5
 4138                        		__add.wm	_player_pos_x
         1D:CC51  18         			clc
         1D:CC52  6D F6 24   			adc.l	_player_pos_x
         1D:CC55  42         			say
         1D:CC56  6D F7 24   			adc.h	_player_pos_x
         1D:CC59  42         			say
 4139                        		__push.wr
         1D:CC5A  5A         			phy
         1D:CC5B  48         			pha
 4140                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         1D:CC5C  AD 22 2C   			lda	__sequence_INTRO_end - 1
         1D:CC5F  C2         			cly
 4141                        		__lsr.uiq	2
         1D:CC60  4A         			lsr	a
         1D:CC61  4A         			lsr	a
 4142                        		__asl.wi	7
         1D:CC62  42         			say
         1D:CC63  4A         			lsr	a
         1D:CC64  42         			say
         1D:CC65  6A         			ror	a
         1D:CC66  42         			say
         1D:CC67  6A         			ror	a
         1D:CC68  29 80      			and	#$80
 4143                        		__sub.wt
         1D:CC6A  BA         			tsx
         1D:CC6B  38         			sec
         1D:CC6C  49 FF      			eor	#$FF
         1D:CC6E  7D 01 21   			adc.l	__tos, x
         1D:CC71  42         			say
         1D:CC72  49 FF      			eor	#$FF
         1D:CC74  7D 02 21   			adc.h	__tos, x
         1D:CC77  42         			say
         1D:CC78  E8         			inx
         1D:CC79  E8         			inx
         1D:CC7A  9A         			txs
 4144                        		__call		_sgx_spr_x.1
         1D:CC7B  20 CB E8   			call	_sgx_spr_x.1
 4145                        	
 4146                        		.dbg	line,	"include\routines_INTRO.c", 68; sgx_spr_y(player_pos_y + ((i>>2)<<5));
 4147                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         1D:CC7E  AD 22 2C   			lda	__sequence_INTRO_end - 1
         1D:CC81  C2         			cly
 4148                        		__lsr.uiq	2
         1D:CC82  4A         			lsr	a
         1D:CC83  4A         			lsr	a
 4149                        		__asl.wi	5
         1D:CC84  85 00      			sta	__temp
         1D:CC86  98         			tya
         1D:CC87  4A         			lsr	a
         1D:CC88  20 C8 E1   			jsr	aslw5
         1D:CC8B  29 E0      			and.l	#$FF << 5
 4150                        		__add.wm	_player_pos_y
         1D:CC8D  18         			clc
         1D:CC8E  6D F8 24   			adc.l	_player_pos_y
         1D:CC91  42         			say
         1D:CC92  6D F9 24   			adc.h	_player_pos_y
         1D:CC95  42         			say
 4151                        		__call		_sgx_spr_y.1
         1D:CC96  20 DA E8   			call	_sgx_spr_y.1
 4152                        	
 4153                        		.dbg	line,	"include\routines_INTRO.c", 69; }
 4154                        		__bra		.LL12
         1D:CC99  80 9E      			bra	.LL12
 4155    1D:CC9B             	.LL14:
 4156                        	
 4157                        		.dbg	line,	"include\routines_INTRO.c", 71; //--------------------------------------------------------------------------------------//
 4158                        	
 4159                        		.dbg	line,	"include\routines_INTRO.c", 72; //                                    DRAGON PATTERN                                    //
 4160                        	
 4161                        		.dbg	line,	"include\routines_INTRO.c", 73; //--------------------------------------------------------------------------------------//
 4162                        	
 4163                        		.dbg	line,	"include\routines_INTRO.c", 75; if(global_counter == 8)
 4164                        		__ld.wm		_global_counter
         1D:CC9B  AD 50 26   			lda.l	_global_counter
         1D:CC9E  AC 51 26   			ldy.h	_global_counter
 4165                        		__equ_w.wi	8
         1D:CCA1  C9 08      			cmp.l	#8
         1D:CCA3  D0 04      			bne	!false+
         1D:CCA5  C0 00      			cpy.h	#8
         1D:CCA7  F0 01      			beq	!+
         1D:CCA9  18         	!false:		clc
         1D:CCAA             	!:
 4166                        		__bfalse	.LL15
         1D:CCAA  90 31      			bcc	.LL15
 4167                        	
 4168                        		.dbg	line,	"include\routines_INTRO.c", 76; {
 4169                        	
 4170                        		.dbg	line,	"include\routines_INTRO.c", 77; for(i=0 ; i<8 ; i++)
 4171                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         1D:CCAC  9C 22 2C   			stz	__sequence_INTRO_end - 1
 4172    1D:CCAF             	.LL16:
 4173                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:CCAF  AD 22 2C   			lda	__sequence_INTRO_end - 1
 4174                        		__ult_b.uiq	8
         1D:CCB2  C9 08      			cmp	#8		; Subtract integer from A.
         1D:CCB4  6A         			ror	a		; CC if A < integer.
         1D:CCB5  49 80      			eor	#$80
         1D:CCB7  2A         			rol	a
 4175                        		__btrue		.LL18
         1D:CCB8  B0 08      			bcs	.LL18
 4176                        		__bra		.LL19
         1D:CCBA  4C 20 CE   			bra	.LL19
 4177    1D:CCBD             	.LL17:
 4178                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         1D:CCBD  EE 22 2C   			inc	__sequence_INTRO_end - 1
 4179                        		__bra		.LL16
         1D:CCC0  80 ED      			bra	.LL16
 4180    1D:CCC2             	.LL18:
 4181                        	
 4182                        		.dbg	line,	"include\routines_INTRO.c", 78; {
 4183                        	
 4184                        		.dbg	line,	"include\routines_INTRO.c", 79; sgx_spr_set(i);
 4185                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:CCC2  AD 22 2C   			lda	__sequence_INTRO_end - 1
 4186                        		__call		_sgx_spr_set.1
         1D:CCC5  20 9E E8   			call	_sgx_spr_set.1
 4187                        	
 4188                        		.dbg	line,	"include\routines_INTRO.c", 80; sgx_spr_pattern(DRAGON_INTRO_VRAM_ADR + (i*TILES_16) + TILES_128);
 4189                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         1D:CCC8  AD 22 2C   			lda	__sequence_INTRO_end - 1
         1D:CCCB  C2         			cly
 4190                        		__asl.wi	8
         1D:CCCC  A8         			tay
         1D:CCCD  62         			cla
 4191                        		__add.wi	13312
         1D:CCCE  18         			clc
         1D:CCCF  69 00      			adc.l	#13312
         1D:CCD1  42         			say
         1D:CCD2  69 34      			adc.h	#13312
         1D:CCD4  42         			say
 4192                        		__call		_sgx_spr_pattern.1
         1D:CCD5  20 E7 E8   			call	_sgx_spr_pattern.1
 4193                        	
 4194                        		.dbg	line,	"include\routines_INTRO.c", 81; }
 4195                        		__bra		.LL17
         1D:CCD8  80 E3      			bra	.LL17
 4196    1D:CCDA             	.LL19	.alias		.LL20
 4197                        	
 4198                        		.dbg	line,	"include\routines_INTRO.c", 82; }
 4199                        	
 4200                        		.dbg	line,	"include\routines_INTRO.c", 84; else if(global_counter == 16)
 4201                        		__bra		.LL20
         1D:CCDA  4C 20 CE   			bra	.LL20
 4202    1D:CCDD             	.LL15:
 4203                        		__ld.wm		_global_counter
         1D:CCDD  AD 50 26   			lda.l	_global_counter
         1D:CCE0  AC 51 26   			ldy.h	_global_counter
 4204                        		__equ_w.wi	16
         1D:CCE3  C9 10      			cmp.l	#16
         1D:CCE5  D0 04      			bne	!false+
         1D:CCE7  C0 00      			cpy.h	#16
         1D:CCE9  F0 01      			beq	!+
         1D:CCEB  18         	!false:		clc
         1D:CCEC             	!:
 4205                        		__bfalse	.LL21
         1D:CCEC  90 31      			bcc	.LL21
 4206                        	
 4207                        		.dbg	line,	"include\routines_INTRO.c", 85; {
 4208                        	
 4209                        		.dbg	line,	"include\routines_INTRO.c", 86; for(i=0 ; i<8 ; i++)
 4210                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         1D:CCEE  9C 22 2C   			stz	__sequence_INTRO_end - 1
 4211    1D:CCF1             	.LL22:
 4212                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:CCF1  AD 22 2C   			lda	__sequence_INTRO_end - 1
 4213                        		__ult_b.uiq	8
         1D:CCF4  C9 08      			cmp	#8		; Subtract integer from A.
         1D:CCF6  6A         			ror	a		; CC if A < integer.
         1D:CCF7  49 80      			eor	#$80
         1D:CCF9  2A         			rol	a
 4214                        		__btrue		.LL24
         1D:CCFA  B0 08      			bcs	.LL24
 4215                        		__bra		.LL25
         1D:CCFC  4C 20 CE   			bra	.LL25
 4216    1D:CCFF             	.LL23:
 4217                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         1D:CCFF  EE 22 2C   			inc	__sequence_INTRO_end - 1
 4218                        		__bra		.LL22
         1D:CD02  80 ED      			bra	.LL22
 4219    1D:CD04             	.LL24:
 4220                        	
 4221                        		.dbg	line,	"include\routines_INTRO.c", 87; {
 4222                        	
 4223                        		.dbg	line,	"include\routines_INTRO.c", 88; sgx_spr_set(i);
 4224                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:CD04  AD 22 2C   			lda	__sequence_INTRO_end - 1
 4225                        		__call		_sgx_spr_set.1
         1D:CD07  20 9E E8   			call	_sgx_spr_set.1
 4226                        	
 4227                        		.dbg	line,	"include\routines_INTRO.c", 89; sgx_spr_pattern(DRAGON_INTRO_VRAM_ADR + (i*TILES_16) + TILES_256);
 4228                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         1D:CD0A  AD 22 2C   			lda	__sequence_INTRO_end - 1
         1D:CD0D  C2         			cly
 4229                        		__asl.wi	8
         1D:CD0E  A8         			tay
         1D:CD0F  62         			cla
 4230                        		__add.wi	15360
         1D:CD10  18         			clc
         1D:CD11  69 00      			adc.l	#15360
         1D:CD13  42         			say
         1D:CD14  69 3C      			adc.h	#15360
         1D:CD16  42         			say
 4231                        		__call		_sgx_spr_pattern.1
         1D:CD17  20 E7 E8   			call	_sgx_spr_pattern.1
 4232                        	
 4233                        		.dbg	line,	"include\routines_INTRO.c", 90; }
 4234                        		__bra		.LL23
         1D:CD1A  80 E3      			bra	.LL23
 4235    1D:CD1C             	.LL25	.alias		.LL26
 4236                        	
 4237                        		.dbg	line,	"include\routines_INTRO.c", 91; }
 4238                        	
 4239                        		.dbg	line,	"include\routines_INTRO.c", 93; else if(global_counter == 24)
 4240                        		__bra		.LL26
         1D:CD1C  4C 20 CE   			bra	.LL26
 4241    1D:CD1F             	.LL21:
 4242                        		__ld.wm		_global_counter
         1D:CD1F  AD 50 26   			lda.l	_global_counter
         1D:CD22  AC 51 26   			ldy.h	_global_counter
 4243                        		__equ_w.wi	24
         1D:CD25  C9 18      			cmp.l	#24
         1D:CD27  D0 04      			bne	!false+
         1D:CD29  C0 00      			cpy.h	#24
         1D:CD2B  F0 01      			beq	!+
         1D:CD2D  18         	!false:		clc
         1D:CD2E             	!:
 4244                        		__bfalse	.LL27
         1D:CD2E  90 31      			bcc	.LL27
 4245                        	
 4246                        		.dbg	line,	"include\routines_INTRO.c", 94; {
 4247                        	
 4248                        		.dbg	line,	"include\routines_INTRO.c", 95; for(i=0 ; i<8 ; i++)
 4249                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         1D:CD30  9C 22 2C   			stz	__sequence_INTRO_end - 1
 4250    1D:CD33             	.LL28:
 4251                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:CD33  AD 22 2C   			lda	__sequence_INTRO_end - 1
 4252                        		__ult_b.uiq	8
         1D:CD36  C9 08      			cmp	#8		; Subtract integer from A.
         1D:CD38  6A         			ror	a		; CC if A < integer.
         1D:CD39  49 80      			eor	#$80
         1D:CD3B  2A         			rol	a
 4253                        		__btrue		.LL30
         1D:CD3C  B0 08      			bcs	.LL30
 4254                        		__bra		.LL31
         1D:CD3E  4C 20 CE   			bra	.LL31
 4255    1D:CD41             	.LL29:
 4256                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         1D:CD41  EE 22 2C   			inc	__sequence_INTRO_end - 1
 4257                        		__bra		.LL28
         1D:CD44  80 ED      			bra	.LL28
 4258    1D:CD46             	.LL30:
 4259                        	
 4260                        		.dbg	line,	"include\routines_INTRO.c", 96; {
 4261                        	
 4262                        		.dbg	line,	"include\routines_INTRO.c", 97; sgx_spr_set(i);
 4263                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:CD46  AD 22 2C   			lda	__sequence_INTRO_end - 1
 4264                        		__call		_sgx_spr_set.1
         1D:CD49  20 9E E8   			call	_sgx_spr_set.1
 4265                        	
 4266                        		.dbg	line,	"include\routines_INTRO.c", 98; sgx_spr_pattern(DRAGON_INTRO_VRAM_ADR + (i*TILES_16));
 4267                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         1D:CD4C  AD 22 2C   			lda	__sequence_INTRO_end - 1
         1D:CD4F  C2         			cly
 4268                        		__asl.wi	8
         1D:CD50  A8         			tay
         1D:CD51  62         			cla
 4269                        		__add.wi	11264
         1D:CD52  18         			clc
         1D:CD53  69 00      			adc.l	#11264
         1D:CD55  42         			say
         1D:CD56  69 2C      			adc.h	#11264
         1D:CD58  42         			say
 4270                        		__call		_sgx_spr_pattern.1
         1D:CD59  20 E7 E8   			call	_sgx_spr_pattern.1
 4271                        	
 4272                        		.dbg	line,	"include\routines_INTRO.c", 99; }
 4273                        		__bra		.LL29
         1D:CD5C  80 E3      			bra	.LL29
 4274    1D:CD5E             	.LL31	.alias		.LL32
 4275                        	
 4276                        		.dbg	line,	"include\routines_INTRO.c", 100; }
 4277                        	
 4278                        		.dbg	line,	"include\routines_INTRO.c", 102; else if(global_counter == 32)
 4279                        		__bra		.LL32
         1D:CD5E  4C 20 CE   			bra	.LL32
 4280    1D:CD61             	.LL27:
 4281                        		__ld.wm		_global_counter
         1D:CD61  AD 50 26   			lda.l	_global_counter
         1D:CD64  AC 51 26   			ldy.h	_global_counter
 4282                        		__equ_w.wi	32
         1D:CD67  C9 20      			cmp.l	#32
         1D:CD69  D0 04      			bne	!false+
         1D:CD6B  C0 00      			cpy.h	#32
         1D:CD6D  F0 01      			beq	!+
         1D:CD6F  18         	!false:		clc
         1D:CD70             	!:
 4283                        		__bfalse	.LL33
         1D:CD70  90 30      			bcc	.LL33
 4284                        	
 4285                        		.dbg	line,	"include\routines_INTRO.c", 103; {
 4286                        	
 4287                        		.dbg	line,	"include\routines_INTRO.c", 104; for(i=0 ; i<8 ; i++)
 4288                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         1D:CD72  9C 22 2C   			stz	__sequence_INTRO_end - 1
 4289    1D:CD75             	.LL34:
 4290                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:CD75  AD 22 2C   			lda	__sequence_INTRO_end - 1
 4291                        		__ult_b.uiq	8
         1D:CD78  C9 08      			cmp	#8		; Subtract integer from A.
         1D:CD7A  6A         			ror	a		; CC if A < integer.
         1D:CD7B  49 80      			eor	#$80
         1D:CD7D  2A         			rol	a
 4292                        		__btrue		.LL36
         1D:CD7E  B0 08      			bcs	.LL36
 4293                        		__bra		.LL37
         1D:CD80  4C 20 CE   			bra	.LL37
 4294    1D:CD83             	.LL35:
 4295                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         1D:CD83  EE 22 2C   			inc	__sequence_INTRO_end - 1
 4296                        		__bra		.LL34
         1D:CD86  80 ED      			bra	.LL34
 4297    1D:CD88             	.LL36:
 4298                        	
 4299                        		.dbg	line,	"include\routines_INTRO.c", 105; {
 4300                        	
 4301                        		.dbg	line,	"include\routines_INTRO.c", 106; sgx_spr_set(i);
 4302                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:CD88  AD 22 2C   			lda	__sequence_INTRO_end - 1
 4303                        		__call		_sgx_spr_set.1
         1D:CD8B  20 9E E8   			call	_sgx_spr_set.1
 4304                        	
 4305                        		.dbg	line,	"include\routines_INTRO.c", 107; sgx_spr_pattern(DRAGON_INTRO_VRAM_ADR + (i*TILES_16) + TILES_128);
 4306                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         1D:CD8E  AD 22 2C   			lda	__sequence_INTRO_end - 1
         1D:CD91  C2         			cly
 4307                        		__asl.wi	8
         1D:CD92  A8         			tay
         1D:CD93  62         			cla
 4308                        		__add.wi	13312
         1D:CD94  18         			clc
         1D:CD95  69 00      			adc.l	#13312
         1D:CD97  42         			say
         1D:CD98  69 34      			adc.h	#13312
         1D:CD9A  42         			say
 4309                        		__call		_sgx_spr_pattern.1
         1D:CD9B  20 E7 E8   			call	_sgx_spr_pattern.1
 4310                        	
 4311                        		.dbg	line,	"include\routines_INTRO.c", 108; }
 4312                        		__bra		.LL35
         1D:CD9E  80 E3      			bra	.LL35
 4313    1D:CDA0             	.LL37	.alias		.LL38
 4314                        	
 4315                        		.dbg	line,	"include\routines_INTRO.c", 109; }
 4316                        	
 4317                        		.dbg	line,	"include\routines_INTRO.c", 111; else if(global_counter == 40)
 4318                        		__bra		.LL38
         1D:CDA0  80 7E      			bra	.LL38
 4319    1D:CDA2             	.LL33:
 4320                        		__ld.wm		_global_counter
         1D:CDA2  AD 50 26   			lda.l	_global_counter
         1D:CDA5  AC 51 26   			ldy.h	_global_counter
 4321                        		__equ_w.wi	40
         1D:CDA8  C9 28      			cmp.l	#40
         1D:CDAA  D0 04      			bne	!false+
         1D:CDAC  C0 00      			cpy.h	#40
         1D:CDAE  F0 01      			beq	!+
         1D:CDB0  18         	!false:		clc
         1D:CDB1             	!:
 4322                        		__bfalse	.LL39
         1D:CDB1  90 2F      			bcc	.LL39
 4323                        	
 4324                        		.dbg	line,	"include\routines_INTRO.c", 112; {
 4325                        	
 4326                        		.dbg	line,	"include\routines_INTRO.c", 113; for(i=0 ; i<8 ; i++)
 4327                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         1D:CDB3  9C 22 2C   			stz	__sequence_INTRO_end - 1
 4328    1D:CDB6             	.LL40:
 4329                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:CDB6  AD 22 2C   			lda	__sequence_INTRO_end - 1
 4330                        		__ult_b.uiq	8
         1D:CDB9  C9 08      			cmp	#8		; Subtract integer from A.
         1D:CDBB  6A         			ror	a		; CC if A < integer.
         1D:CDBC  49 80      			eor	#$80
         1D:CDBE  2A         			rol	a
 4331                        		__btrue		.LL42
         1D:CDBF  B0 07      			bcs	.LL42
 4332                        		__bra		.LL43
         1D:CDC1  80 5D      			bra	.LL43
 4333    1D:CDC3             	.LL41:
 4334                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         1D:CDC3  EE 22 2C   			inc	__sequence_INTRO_end - 1
 4335                        		__bra		.LL40
         1D:CDC6  80 EE      			bra	.LL40
 4336    1D:CDC8             	.LL42:
 4337                        	
 4338                        		.dbg	line,	"include\routines_INTRO.c", 114; {
 4339                        	
 4340                        		.dbg	line,	"include\routines_INTRO.c", 115; sgx_spr_set(i);
 4341                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:CDC8  AD 22 2C   			lda	__sequence_INTRO_end - 1
 4342                        		__call		_sgx_spr_set.1
         1D:CDCB  20 9E E8   			call	_sgx_spr_set.1
 4343                        	
 4344                        		.dbg	line,	"include\routines_INTRO.c", 116; sgx_spr_pattern(DRAGON_INTRO_VRAM_ADR + (i*TILES_16) + TILES_256);
 4345                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         1D:CDCE  AD 22 2C   			lda	__sequence_INTRO_end - 1
         1D:CDD1  C2         			cly
 4346                        		__asl.wi	8
         1D:CDD2  A8         			tay
         1D:CDD3  62         			cla
 4347                        		__add.wi	15360
         1D:CDD4  18         			clc
         1D:CDD5  69 00      			adc.l	#15360
         1D:CDD7  42         			say
         1D:CDD8  69 3C      			adc.h	#15360
         1D:CDDA  42         			say
 4348                        		__call		_sgx_spr_pattern.1
         1D:CDDB  20 E7 E8   			call	_sgx_spr_pattern.1
 4349                        	
 4350                        		.dbg	line,	"include\routines_INTRO.c", 117; }
 4351                        		__bra		.LL41
         1D:CDDE  80 E3      			bra	.LL41
 4352    1D:CDE0             	.LL43	.alias		.LL44
 4353                        	
 4354                        		.dbg	line,	"include\routines_INTRO.c", 118; }
 4355                        	
 4356                        		.dbg	line,	"include\routines_INTRO.c", 120; else if(global_counter == 48)
 4357                        		__bra		.LL44
         1D:CDE0  80 3E      			bra	.LL44
 4358    1D:CDE2             	.LL39:
 4359                        		__ld.wm		_global_counter
         1D:CDE2  AD 50 26   			lda.l	_global_counter
         1D:CDE5  AC 51 26   			ldy.h	_global_counter
 4360                        		__equ_w.wi	48
         1D:CDE8  C9 30      			cmp.l	#48
         1D:CDEA  D0 04      			bne	!false+
         1D:CDEC  C0 00      			cpy.h	#48
         1D:CDEE  F0 01      			beq	!+
         1D:CDF0  18         	!false:		clc
         1D:CDF1             	!:
 4361                        		__bfalse	.LL45
         1D:CDF1  90 2D      			bcc	.LL45
 4362                        	
 4363                        		.dbg	line,	"include\routines_INTRO.c", 121; {
 4364                        	
 4365                        		.dbg	line,	"include\routines_INTRO.c", 122; for(i=0 ; i<8 ; i++)
 4366                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         1D:CDF3  9C 22 2C   			stz	__sequence_INTRO_end - 1
 4367    1D:CDF6             	.LL46:
 4368                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:CDF6  AD 22 2C   			lda	__sequence_INTRO_end - 1
 4369                        		__ult_b.uiq	8
         1D:CDF9  C9 08      			cmp	#8		; Subtract integer from A.
         1D:CDFB  6A         			ror	a		; CC if A < integer.
         1D:CDFC  49 80      			eor	#$80
         1D:CDFE  2A         			rol	a
 4370                        		__btrue		.LL48
         1D:CDFF  B0 07      			bcs	.LL48
 4371                        		__bra		.LL49
         1D:CE01  80 1D      			bra	.LL49
 4372    1D:CE03             	.LL47:
 4373                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         1D:CE03  EE 22 2C   			inc	__sequence_INTRO_end - 1
 4374                        		__bra		.LL46
         1D:CE06  80 EE      			bra	.LL46
 4375    1D:CE08             	.LL48:
 4376                        	
 4377                        		.dbg	line,	"include\routines_INTRO.c", 123; {
 4378                        	
 4379                        		.dbg	line,	"include\routines_INTRO.c", 124; sgx_spr_set(i);
 4380                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:CE08  AD 22 2C   			lda	__sequence_INTRO_end - 1
 4381                        		__call		_sgx_spr_set.1
         1D:CE0B  20 9E E8   			call	_sgx_spr_set.1
 4382                        	
 4383                        		.dbg	line,	"include\routines_INTRO.c", 125; sgx_spr_pattern(DRAGON_INTRO_VRAM_ADR + (i*TILES_16) + TILES_384);
 4384                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         1D:CE0E  AD 22 2C   			lda	__sequence_INTRO_end - 1
         1D:CE11  C2         			cly
 4385                        		__asl.wi	8
         1D:CE12  A8         			tay
         1D:CE13  62         			cla
 4386                        		__add.wi	17408
         1D:CE14  18         			clc
         1D:CE15  69 00      			adc.l	#17408
         1D:CE17  42         			say
         1D:CE18  69 44      			adc.h	#17408
         1D:CE1A  42         			say
 4387                        		__call		_sgx_spr_pattern.1
         1D:CE1B  20 E7 E8   			call	_sgx_spr_pattern.1
 4388                        	
 4389                        		.dbg	line,	"include\routines_INTRO.c", 126; }
 4390                        		__bra		.LL47
         1D:CE1E  80 E3      			bra	.LL47
 4391    1D:CE20             	.LL49:
 4392                        	
 4393                        		.dbg	line,	"include\routines_INTRO.c", 127; }
 4394                        	
 4395                        		.dbg	line,	"include\routines_INTRO.c", 128; }
 4396    1D:CE20             	.LL45:
 4397    1D:CE20             	.LL44:
 4398    1D:CE20             	.LL38:
 4399    1D:CE20             	.LL32:
 4400    1D:CE20             	.LL26:
 4401    1D:CE20             	.LL20:
 4402                        	
 4403                        		.dbg	line,	"include\routines_INTRO.c", 133; //--------------------------------------------------------------------------------------//
 4404                        	
 4405                        		.dbg	line,	"include\routines_INTRO.c", 134; //                                        BOLTS                                         //
 4406                        	
 4407                        		.dbg	line,	"include\routines_INTRO.c", 135; //--------------------------------------------------------------------------------------//
 4408                        	
 4409                        		.dbg	line,	"include\routines_INTRO.c", 137; if(global_counter == 71)
 4410    1D:CE20             	.LL10:
 4411                        		__ld.wm		_global_counter
         1D:CE20  AD 50 26   			lda.l	_global_counter
         1D:CE23  AC 51 26   			ldy.h	_global_counter
 4412                        		__equ_w.wi	71
         1D:CE26  C9 47      			cmp.l	#71
         1D:CE28  D0 04      			bne	!false+
         1D:CE2A  C0 00      			cpy.h	#71
         1D:CE2C  F0 01      			beq	!+
         1D:CE2E  18         	!false:		clc
         1D:CE2F             	!:
 4413                        		__bfalse	.LL50
         1D:CE2F  90 4B      			bcc	.LL50
 4414                        	
 4415                        		.dbg	line,	"include\routines_INTRO.c", 138; {
 4416                        	
 4417                        		.dbg	line,	"include\routines_INTRO.c", 139; load_palette( 0, palette_INTRO_3, 1 );
 4418                        		__st.umiq	0, _al
         1D:CE31  64 F8      			stz	_al
 4419                        		__farptr	_palette_INTRO_3, _bp_bank, _bp
         1D:CE33  A9 E0      			lda.l	#$6000 + ($1FFF & (_palette_INTRO_3))
         1D:CE35  85 EC      			sta.l	_bp
         1D:CE37  A9 7A      			lda.h	#$6000 + ($1FFF & (_palette_INTRO_3))
         1D:CE39  85 ED      			sta.h	_bp
         1D:CE3B  A9 06      			lda	#bank(_palette_INTRO_3)
         1D:CE3D  85 02      			sta	_bp_bank
 4420                        		__st.umiq	1, _ah
         1D:CE3F  A9 01      			lda.l	#1
         1D:CE41  85 F9      			sta	_ah
 4421                        		__call		_load_palette.3
         1D:CE43  20 8B FF   			call	_load_palette.3
 4422                        	
 4423                        		.dbg	line,	"include\routines_INTRO.c", 141; vdc_map_pxl_x = 256;
 4424                        		__st.wmiq	256, _vdc_map_pxl_x
         1D:CE46  9C C9 26   			stz.l	_vdc_map_pxl_x
         1D:CE49  A9 01      			lda.h	#256
         1D:CE4B  8D CA 26   			sta.h	_vdc_map_pxl_x
 4425                        	
 4426                        		.dbg	line,	"include\routines_INTRO.c", 142; scroll_split(0,   0, vdc_map_pxl_x & (511), vdc_map_pxl_y & (511), BKG_ON | SPR_ON);
 4427                        		__st.umiq	0, _al
         1D:CE4E  64 F8      			stz	_al
 4428                        		__st.umiq	0, _ah
         1D:CE50  64 F9      			stz	_ah
 4429                        		__ld.wm		_vdc_map_pxl_x
         1D:CE52  AD C9 26   			lda.l	_vdc_map_pxl_x
         1D:CE55  AC CA 26   			ldy.h	_vdc_map_pxl_x
 4430                        		__and.wi	511
         1D:CE58  29 FF      			and.l	#511
         1D:CE5A  42         			say
         1D:CE5B  29 01      			and.h	#511
         1D:CE5D  42         			say
 4431                        		__st.wmq	_bx
         1D:CE5E  85 FA      			sta.l	_bx
         1D:CE60  84 FB      			sty.h	_bx
 4432                        		__ld.wm		_vdc_map_pxl_y
         1D:CE62  AD CB 26   			lda.l	_vdc_map_pxl_y
         1D:CE65  AC CC 26   			ldy.h	_vdc_map_pxl_y
 4433                        		__and.wi	511
         1D:CE68  29 FF      			and.l	#511
         1D:CE6A  42         			say
         1D:CE6B  29 01      			and.h	#511
         1D:CE6D  42         			say
 4434                        		__st.wmq	_cx
         1D:CE6E  85 FC      			sta.l	_cx
         1D:CE70  84 FD      			sty.h	_cx
 4435                        		__st.umiq	192, _dl
         1D:CE72  A9 C0      			lda.l	#192
         1D:CE74  85 FE      			sta	_dl
 4436                        		__call		_scroll_split.5
         1D:CE76  20 81 FF   			call	_scroll_split.5
 4437                        	
 4438                        		.dbg	line,	"include\routines_INTRO.c", 143; }
 4439                        	
 4440                        		.dbg	line,	"include\routines_INTRO.c", 145; else if(global_counter == 76)
 4441                        		__bra		.LL51
         1D:CE79  4C 64 DA   			bra	.LL51
 4442    1D:CE7C             	.LL50:
 4443                        		__ld.wm		_global_counter
         1D:CE7C  AD 50 26   			lda.l	_global_counter
         1D:CE7F  AC 51 26   			ldy.h	_global_counter
 4444                        		__equ_w.wi	76
         1D:CE82  C9 4C      			cmp.l	#76
         1D:CE84  D0 04      			bne	!false+
         1D:CE86  C0 00      			cpy.h	#76
         1D:CE88  F0 01      			beq	!+
         1D:CE8A  18         	!false:		clc
         1D:CE8B             	!:
 4445                        		__bfalse	.LL52
         1D:CE8B  90 49      			bcc	.LL52
 4446                        	
 4447                        		.dbg	line,	"include\routines_INTRO.c", 146; {
 4448                        	
 4449                        		.dbg	line,	"include\routines_INTRO.c", 147; vdc_map_pxl_x = 0;
 4450                        		__st.wmiq	0, _vdc_map_pxl_x
         1D:CE8D  9C C9 26   			stz.l	_vdc_map_pxl_x
         1D:CE90  9C CA 26   			stz.h	_vdc_map_pxl_x
 4451                        	
 4452                        		.dbg	line,	"include\routines_INTRO.c", 148; scroll_split(0,   0, vdc_map_pxl_x & (511), vdc_map_pxl_y & (511), BKG_ON | SPR_ON);
 4453                        		__st.umiq	0, _al
         1D:CE93  64 F8      			stz	_al
 4454                        		__st.umiq	0, _ah
         1D:CE95  64 F9      			stz	_ah
 4455                        		__ld.wm		_vdc_map_pxl_x
         1D:CE97  AD C9 26   			lda.l	_vdc_map_pxl_x
         1D:CE9A  AC CA 26   			ldy.h	_vdc_map_pxl_x
 4456                        		__and.wi	511
         1D:CE9D  29 FF      			and.l	#511
         1D:CE9F  42         			say
         1D:CEA0  29 01      			and.h	#511
         1D:CEA2  42         			say
 4457                        		__st.wmq	_bx
         1D:CEA3  85 FA      			sta.l	_bx
         1D:CEA5  84 FB      			sty.h	_bx
 4458                        		__ld.wm		_vdc_map_pxl_y
         1D:CEA7  AD CB 26   			lda.l	_vdc_map_pxl_y
         1D:CEAA  AC CC 26   			ldy.h	_vdc_map_pxl_y
 4459                        		__and.wi	511
         1D:CEAD  29 FF      			and.l	#511
         1D:CEAF  42         			say
         1D:CEB0  29 01      			and.h	#511
         1D:CEB2  42         			say
 4460                        		__st.wmq	_cx
         1D:CEB3  85 FC      			sta.l	_cx
         1D:CEB5  84 FD      			sty.h	_cx
 4461                        		__st.umiq	192, _dl
         1D:CEB7  A9 C0      			lda.l	#192
         1D:CEB9  85 FE      			sta	_dl
 4462                        		__call		_scroll_split.5
         1D:CEBB  20 81 FF   			call	_scroll_split.5
 4463                        	
 4464                        		.dbg	line,	"include\routines_INTRO.c", 150; load_palette( 0, palette_INTRO_2, 1 );
 4465                        		__st.umiq	0, _al
         1D:CEBE  64 F8      			stz	_al
 4466                        		__farptr	_palette_INTRO_2, _bp_bank, _bp
         1D:CEC0  A9 E0      			lda.l	#$6000 + ($1FFF & (_palette_INTRO_2))
         1D:CEC2  85 EC      			sta.l	_bp
         1D:CEC4  A9 78      			lda.h	#$6000 + ($1FFF & (_palette_INTRO_2))
         1D:CEC6  85 ED      			sta.h	_bp
         1D:CEC8  A9 06      			lda	#bank(_palette_INTRO_2)
         1D:CECA  85 02      			sta	_bp_bank
 4467                        		__st.umiq	1, _ah
         1D:CECC  A9 01      			lda.l	#1
         1D:CECE  85 F9      			sta	_ah
 4468                        		__call		_load_palette.3
         1D:CED0  20 8B FF   			call	_load_palette.3
 4469                        	
 4470                        		.dbg	line,	"include\routines_INTRO.c", 151; }
 4471                        	
 4472                        		.dbg	line,	"include\routines_INTRO.c", 153; else if(global_counter == 136)
 4473                        		__bra		.LL53
         1D:CED3  4C 64 DA   			bra	.LL53
 4474    1D:CED6             	.LL52:
 4475                        		__ld.wm		_global_counter
         1D:CED6  AD 50 26   			lda.l	_global_counter
         1D:CED9  AC 51 26   			ldy.h	_global_counter
 4476                        		__equ_w.wi	136
         1D:CEDC  C9 88      			cmp.l	#136
         1D:CEDE  D0 04      			bne	!false+
         1D:CEE0  C0 00      			cpy.h	#136
         1D:CEE2  F0 01      			beq	!+
         1D:CEE4  18         	!false:		clc
         1D:CEE5             	!:
 4477                        		__bfalse	.LL54
         1D:CEE5  90 4B      			bcc	.LL54
 4478                        	
 4479                        		.dbg	line,	"include\routines_INTRO.c", 154; {
 4480                        	
 4481                        		.dbg	line,	"include\routines_INTRO.c", 155; load_palette( 0, palette_INTRO_3, 1 );
 4482                        		__st.umiq	0, _al
         1D:CEE7  64 F8      			stz	_al
 4483                        		__farptr	_palette_INTRO_3, _bp_bank, _bp
         1D:CEE9  A9 E0      			lda.l	#$6000 + ($1FFF & (_palette_INTRO_3))
         1D:CEEB  85 EC      			sta.l	_bp
         1D:CEED  A9 7A      			lda.h	#$6000 + ($1FFF & (_palette_INTRO_3))
         1D:CEEF  85 ED      			sta.h	_bp
         1D:CEF1  A9 06      			lda	#bank(_palette_INTRO_3)
         1D:CEF3  85 02      			sta	_bp_bank
 4484                        		__st.umiq	1, _ah
         1D:CEF5  A9 01      			lda.l	#1
         1D:CEF7  85 F9      			sta	_ah
 4485                        		__call		_load_palette.3
         1D:CEF9  20 8B FF   			call	_load_palette.3
 4486                        	
 4487                        		.dbg	line,	"include\routines_INTRO.c", 157; vdc_map_pxl_x = 256;
 4488                        		__st.wmiq	256, _vdc_map_pxl_x
         1D:CEFC  9C C9 26   			stz.l	_vdc_map_pxl_x
         1D:CEFF  A9 01      			lda.h	#256
         1D:CF01  8D CA 26   			sta.h	_vdc_map_pxl_x
 4489                        	
 4490                        		.dbg	line,	"include\routines_INTRO.c", 158; scroll_split(0,   0, vdc_map_pxl_x & (511), vdc_map_pxl_y & (511), BKG_ON | SPR_ON);
 4491                        		__st.umiq	0, _al
         1D:CF04  64 F8      			stz	_al
 4492                        		__st.umiq	0, _ah
         1D:CF06  64 F9      			stz	_ah
 4493                        		__ld.wm		_vdc_map_pxl_x
         1D:CF08  AD C9 26   			lda.l	_vdc_map_pxl_x
         1D:CF0B  AC CA 26   			ldy.h	_vdc_map_pxl_x
 4494                        		__and.wi	511
         1D:CF0E  29 FF      			and.l	#511
         1D:CF10  42         			say
         1D:CF11  29 01      			and.h	#511
         1D:CF13  42         			say
 4495                        		__st.wmq	_bx
         1D:CF14  85 FA      			sta.l	_bx
         1D:CF16  84 FB      			sty.h	_bx
 4496                        		__ld.wm		_vdc_map_pxl_y
         1D:CF18  AD CB 26   			lda.l	_vdc_map_pxl_y
         1D:CF1B  AC CC 26   			ldy.h	_vdc_map_pxl_y
 4497                        		__and.wi	511
         1D:CF1E  29 FF      			and.l	#511
         1D:CF20  42         			say
         1D:CF21  29 01      			and.h	#511
         1D:CF23  42         			say
 4498                        		__st.wmq	_cx
         1D:CF24  85 FC      			sta.l	_cx
         1D:CF26  84 FD      			sty.h	_cx
 4499                        		__st.umiq	192, _dl
         1D:CF28  A9 C0      			lda.l	#192
         1D:CF2A  85 FE      			sta	_dl
 4500                        		__call		_scroll_split.5
         1D:CF2C  20 81 FF   			call	_scroll_split.5
 4501                        	
 4502                        		.dbg	line,	"include\routines_INTRO.c", 159; }
 4503                        	
 4504                        		.dbg	line,	"include\routines_INTRO.c", 161; else if(global_counter == 140)
 4505                        		__bra		.LL55
         1D:CF2F  4C 64 DA   			bra	.LL55
 4506    1D:CF32             	.LL54:
 4507                        		__ld.wm		_global_counter
         1D:CF32  AD 50 26   			lda.l	_global_counter
         1D:CF35  AC 51 26   			ldy.h	_global_counter
 4508                        		__equ_w.wi	140
         1D:CF38  C9 8C      			cmp.l	#140
         1D:CF3A  D0 04      			bne	!false+
         1D:CF3C  C0 00      			cpy.h	#140
         1D:CF3E  F0 01      			beq	!+
         1D:CF40  18         	!false:		clc
         1D:CF41             	!:
 4509                        		__bfalse	.LL56
         1D:CF41  90 34      			bcc	.LL56
 4510                        	
 4511                        		.dbg	line,	"include\routines_INTRO.c", 162; {
 4512                        	
 4513                        		.dbg	line,	"include\routines_INTRO.c", 163; vdc_map_pxl_x = 0;
 4514                        		__st.wmiq	0, _vdc_map_pxl_x
         1D:CF43  9C C9 26   			stz.l	_vdc_map_pxl_x
         1D:CF46  9C CA 26   			stz.h	_vdc_map_pxl_x
 4515                        	
 4516                        		.dbg	line,	"include\routines_INTRO.c", 164; scroll_split(0,   0, vdc_map_pxl_x & (511), vdc_map_pxl_y & (511), BKG_ON | SPR_ON);
 4517                        		__st.umiq	0, _al
         1D:CF49  64 F8      			stz	_al
 4518                        		__st.umiq	0, _ah
         1D:CF4B  64 F9      			stz	_ah
 4519                        		__ld.wm		_vdc_map_pxl_x
         1D:CF4D  AD C9 26   			lda.l	_vdc_map_pxl_x
         1D:CF50  AC CA 26   			ldy.h	_vdc_map_pxl_x
 4520                        		__and.wi	511
         1D:CF53  29 FF      			and.l	#511
         1D:CF55  42         			say
         1D:CF56  29 01      			and.h	#511
         1D:CF58  42         			say
 4521                        		__st.wmq	_bx
         1D:CF59  85 FA      			sta.l	_bx
         1D:CF5B  84 FB      			sty.h	_bx
 4522                        		__ld.wm		_vdc_map_pxl_y
         1D:CF5D  AD CB 26   			lda.l	_vdc_map_pxl_y
         1D:CF60  AC CC 26   			ldy.h	_vdc_map_pxl_y
 4523                        		__and.wi	511
         1D:CF63  29 FF      			and.l	#511
         1D:CF65  42         			say
         1D:CF66  29 01      			and.h	#511
         1D:CF68  42         			say
 4524                        		__st.wmq	_cx
         1D:CF69  85 FC      			sta.l	_cx
         1D:CF6B  84 FD      			sty.h	_cx
 4525                        		__st.umiq	192, _dl
         1D:CF6D  A9 C0      			lda.l	#192
         1D:CF6F  85 FE      			sta	_dl
 4526                        		__call		_scroll_split.5
         1D:CF71  20 81 FF   			call	_scroll_split.5
 4527                        	
 4528                        		.dbg	line,	"include\routines_INTRO.c", 165; }
 4529                        	
 4530                        		.dbg	line,	"include\routines_INTRO.c", 167; else if(global_counter == 141)
 4531                        		__bra		.LL57
         1D:CF74  4C 64 DA   			bra	.LL57
 4532    1D:CF77             	.LL56:
 4533                        		__ld.wm		_global_counter
         1D:CF77  AD 50 26   			lda.l	_global_counter
         1D:CF7A  AC 51 26   			ldy.h	_global_counter
 4534                        		__equ_w.wi	141
         1D:CF7D  C9 8D      			cmp.l	#141
         1D:CF7F  D0 04      			bne	!false+
         1D:CF81  C0 00      			cpy.h	#141
         1D:CF83  F0 01      			beq	!+
         1D:CF85  18         	!false:		clc
         1D:CF86             	!:
 4535                        		__bfalse	.LL58
         1D:CF86  90 18      			bcc	.LL58
 4536                        	
 4537                        		.dbg	line,	"include\routines_INTRO.c", 168; {
 4538                        	
 4539                        		.dbg	line,	"include\routines_INTRO.c", 169; load_palette( 0, palette_INTRO_2, 1 );
 4540                        		__st.umiq	0, _al
         1D:CF88  64 F8      			stz	_al
 4541                        		__farptr	_palette_INTRO_2, _bp_bank, _bp
         1D:CF8A  A9 E0      			lda.l	#$6000 + ($1FFF & (_palette_INTRO_2))
         1D:CF8C  85 EC      			sta.l	_bp
         1D:CF8E  A9 78      			lda.h	#$6000 + ($1FFF & (_palette_INTRO_2))
         1D:CF90  85 ED      			sta.h	_bp
         1D:CF92  A9 06      			lda	#bank(_palette_INTRO_2)
         1D:CF94  85 02      			sta	_bp_bank
 4542                        		__st.umiq	1, _ah
         1D:CF96  A9 01      			lda.l	#1
         1D:CF98  85 F9      			sta	_ah
 4543                        		__call		_load_palette.3
         1D:CF9A  20 8B FF   			call	_load_palette.3
 4544                        	
 4545                        		.dbg	line,	"include\routines_INTRO.c", 170; }
 4546                        	
 4547                        		.dbg	line,	"include\routines_INTRO.c", 172; else if(global_counter == 145)
 4548                        		__bra		.LL59
         1D:CF9D  4C 64 DA   			bra	.LL59
 4549    1D:CFA0             	.LL58:
 4550                        		__ld.wm		_global_counter
         1D:CFA0  AD 50 26   			lda.l	_global_counter
         1D:CFA3  AC 51 26   			ldy.h	_global_counter
 4551                        		__equ_w.wi	145
         1D:CFA6  C9 91      			cmp.l	#145
         1D:CFA8  D0 04      			bne	!false+
         1D:CFAA  C0 00      			cpy.h	#145
         1D:CFAC  F0 01      			beq	!+
         1D:CFAE  18         	!false:		clc
         1D:CFAF             	!:
 4552                        		__bfalse	.LL60
         1D:CFAF  90 4B      			bcc	.LL60
 4553                        	
 4554                        		.dbg	line,	"include\routines_INTRO.c", 173; {
 4555                        	
 4556                        		.dbg	line,	"include\routines_INTRO.c", 174; vdc_map_pxl_y = 256;
 4557                        		__st.wmiq	256, _vdc_map_pxl_y
         1D:CFB1  9C CB 26   			stz.l	_vdc_map_pxl_y
         1D:CFB4  A9 01      			lda.h	#256
         1D:CFB6  8D CC 26   			sta.h	_vdc_map_pxl_y
 4558                        	
 4559                        		.dbg	line,	"include\routines_INTRO.c", 175; scroll_split(0,   0, vdc_map_pxl_x & (511), vdc_map_pxl_y & (511), BKG_ON | SPR_ON);
 4560                        		__st.umiq	0, _al
         1D:CFB9  64 F8      			stz	_al
 4561                        		__st.umiq	0, _ah
         1D:CFBB  64 F9      			stz	_ah
 4562                        		__ld.wm		_vdc_map_pxl_x
         1D:CFBD  AD C9 26   			lda.l	_vdc_map_pxl_x
         1D:CFC0  AC CA 26   			ldy.h	_vdc_map_pxl_x
 4563                        		__and.wi	511
         1D:CFC3  29 FF      			and.l	#511
         1D:CFC5  42         			say
         1D:CFC6  29 01      			and.h	#511
         1D:CFC8  42         			say
 4564                        		__st.wmq	_bx
         1D:CFC9  85 FA      			sta.l	_bx
         1D:CFCB  84 FB      			sty.h	_bx
 4565                        		__ld.wm		_vdc_map_pxl_y
         1D:CFCD  AD CB 26   			lda.l	_vdc_map_pxl_y
         1D:CFD0  AC CC 26   			ldy.h	_vdc_map_pxl_y
 4566                        		__and.wi	511
         1D:CFD3  29 FF      			and.l	#511
         1D:CFD5  42         			say
         1D:CFD6  29 01      			and.h	#511
         1D:CFD8  42         			say
 4567                        		__st.wmq	_cx
         1D:CFD9  85 FC      			sta.l	_cx
         1D:CFDB  84 FD      			sty.h	_cx
 4568                        		__st.umiq	192, _dl
         1D:CFDD  A9 C0      			lda.l	#192
         1D:CFDF  85 FE      			sta	_dl
 4569                        		__call		_scroll_split.5
         1D:CFE1  20 81 FF   			call	_scroll_split.5
 4570                        	
 4571                        		.dbg	line,	"include\routines_INTRO.c", 177; load_palette( 0, palette_INTRO_3, 1 );
 4572                        		__st.umiq	0, _al
         1D:CFE4  64 F8      			stz	_al
 4573                        		__farptr	_palette_INTRO_3, _bp_bank, _bp
         1D:CFE6  A9 E0      			lda.l	#$6000 + ($1FFF & (_palette_INTRO_3))
         1D:CFE8  85 EC      			sta.l	_bp
         1D:CFEA  A9 7A      			lda.h	#$6000 + ($1FFF & (_palette_INTRO_3))
         1D:CFEC  85 ED      			sta.h	_bp
         1D:CFEE  A9 06      			lda	#bank(_palette_INTRO_3)
         1D:CFF0  85 02      			sta	_bp_bank
 4574                        		__st.umiq	1, _ah
         1D:CFF2  A9 01      			lda.l	#1
         1D:CFF4  85 F9      			sta	_ah
 4575                        		__call		_load_palette.3
         1D:CFF6  20 8B FF   			call	_load_palette.3
 4576                        	
 4577                        		.dbg	line,	"include\routines_INTRO.c", 178; }
 4578                        	
 4579                        		.dbg	line,	"include\routines_INTRO.c", 180; else if(global_counter == 149)
 4580                        		__bra		.LL61
         1D:CFF9  4C 64 DA   			bra	.LL61
 4581    1D:CFFC             	.LL60:
 4582                        		__ld.wm		_global_counter
         1D:CFFC  AD 50 26   			lda.l	_global_counter
         1D:CFFF  AC 51 26   			ldy.h	_global_counter
 4583                        		__equ_w.wi	149
         1D:D002  C9 95      			cmp.l	#149
         1D:D004  D0 04      			bne	!false+
         1D:D006  C0 00      			cpy.h	#149
         1D:D008  F0 01      			beq	!+
         1D:D00A  18         	!false:		clc
         1D:D00B             	!:
 4584                        		__bfalse	.LL62
         1D:D00B  90 34      			bcc	.LL62
 4585                        	
 4586                        		.dbg	line,	"include\routines_INTRO.c", 181; {
 4587                        	
 4588                        		.dbg	line,	"include\routines_INTRO.c", 182; vdc_map_pxl_y = 0;
 4589                        		__st.wmiq	0, _vdc_map_pxl_y
         1D:D00D  9C CB 26   			stz.l	_vdc_map_pxl_y
         1D:D010  9C CC 26   			stz.h	_vdc_map_pxl_y
 4590                        	
 4591                        		.dbg	line,	"include\routines_INTRO.c", 183; scroll_split(0,   0, vdc_map_pxl_x & (511), vdc_map_pxl_y & (511), BKG_ON | SPR_ON);
 4592                        		__st.umiq	0, _al
         1D:D013  64 F8      			stz	_al
 4593                        		__st.umiq	0, _ah
         1D:D015  64 F9      			stz	_ah
 4594                        		__ld.wm		_vdc_map_pxl_x
         1D:D017  AD C9 26   			lda.l	_vdc_map_pxl_x
         1D:D01A  AC CA 26   			ldy.h	_vdc_map_pxl_x
 4595                        		__and.wi	511
         1D:D01D  29 FF      			and.l	#511
         1D:D01F  42         			say
         1D:D020  29 01      			and.h	#511
         1D:D022  42         			say
 4596                        		__st.wmq	_bx
         1D:D023  85 FA      			sta.l	_bx
         1D:D025  84 FB      			sty.h	_bx
 4597                        		__ld.wm		_vdc_map_pxl_y
         1D:D027  AD CB 26   			lda.l	_vdc_map_pxl_y
         1D:D02A  AC CC 26   			ldy.h	_vdc_map_pxl_y
 4598                        		__and.wi	511
         1D:D02D  29 FF      			and.l	#511
         1D:D02F  42         			say
         1D:D030  29 01      			and.h	#511
         1D:D032  42         			say
 4599                        		__st.wmq	_cx
         1D:D033  85 FC      			sta.l	_cx
         1D:D035  84 FD      			sty.h	_cx
 4600                        		__st.umiq	192, _dl
         1D:D037  A9 C0      			lda.l	#192
         1D:D039  85 FE      			sta	_dl
 4601                        		__call		_scroll_split.5
         1D:D03B  20 81 FF   			call	_scroll_split.5
 4602                        	
 4603                        		.dbg	line,	"include\routines_INTRO.c", 184; }
 4604                        	
 4605                        		.dbg	line,	"include\routines_INTRO.c", 186; else if(global_counter == 150)
 4606                        		__bra		.LL63
         1D:D03E  4C 64 DA   			bra	.LL63
 4607    1D:D041             	.LL62:
 4608                        		__ld.wm		_global_counter
         1D:D041  AD 50 26   			lda.l	_global_counter
         1D:D044  AC 51 26   			ldy.h	_global_counter
 4609                        		__equ_w.wi	150
         1D:D047  C9 96      			cmp.l	#150
         1D:D049  D0 04      			bne	!false+
         1D:D04B  C0 00      			cpy.h	#150
         1D:D04D  F0 01      			beq	!+
         1D:D04F  18         	!false:		clc
         1D:D050             	!:
 4610                        		__bfalse	.LL64
         1D:D050  90 38      			bcc	.LL64
 4611                        	
 4612                        		.dbg	line,	"include\routines_INTRO.c", 187; {
 4613                        	
 4614                        		.dbg	line,	"include\routines_INTRO.c", 188; for(i=0 ; i<8 ; i++)
 4615                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         1D:D052  9C 22 2C   			stz	__sequence_INTRO_end - 1
 4616    1D:D055             	.LL65:
 4617                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:D055  AD 22 2C   			lda	__sequence_INTRO_end - 1
 4618                        		__ult_b.uiq	8
         1D:D058  C9 08      			cmp	#8		; Subtract integer from A.
         1D:D05A  6A         			ror	a		; CC if A < integer.
         1D:D05B  49 80      			eor	#$80
         1D:D05D  2A         			rol	a
 4619                        		__btrue		.LL67
         1D:D05E  B0 07      			bcs	.LL67
 4620                        		__bra		.LL68
         1D:D060  80 10      			bra	.LL68
 4621    1D:D062             	.LL66:
 4622                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         1D:D062  EE 22 2C   			inc	__sequence_INTRO_end - 1
 4623                        		__bra		.LL65
         1D:D065  80 EE      			bra	.LL65
 4624    1D:D067             	.LL67:
 4625                        	
 4626                        		.dbg	line,	"include\routines_INTRO.c", 189; {
 4627                        	
 4628                        		.dbg	line,	"include\routines_INTRO.c", 190; sgx_spr_set(i);
 4629                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:D067  AD 22 2C   			lda	__sequence_INTRO_end - 1
 4630                        		__call		_sgx_spr_set.1
         1D:D06A  20 9E E8   			call	_sgx_spr_set.1
 4631                        	
 4632                        		.dbg	line,	"include\routines_INTRO.c", 191; sgx_spr_hide();
 4633                        		__call		_sgx_spr_hide
         1D:D06D  20 B9 E8   			call	_sgx_spr_hide
 4634                        	
 4635                        		.dbg	line,	"include\routines_INTRO.c", 192; }
 4636                        		__bra		.LL66
         1D:D070  80 F0      			bra	.LL66
 4637    1D:D072             	.LL68:
 4638                        	
 4639                        		.dbg	line,	"include\routines_INTRO.c", 193; 
 4640                        	
 4641                        		.dbg	line,	"include\routines_INTRO.c", 194; load_palette( 0, palette_INTRO_2, 1 );
 4642                        		__st.umiq	0, _al
         1D:D072  64 F8      			stz	_al
 4643                        		__farptr	_palette_INTRO_2, _bp_bank, _bp
         1D:D074  A9 E0      			lda.l	#$6000 + ($1FFF & (_palette_INTRO_2))
         1D:D076  85 EC      			sta.l	_bp
         1D:D078  A9 78      			lda.h	#$6000 + ($1FFF & (_palette_INTRO_2))
         1D:D07A  85 ED      			sta.h	_bp
         1D:D07C  A9 06      			lda	#bank(_palette_INTRO_2)
         1D:D07E  85 02      			sta	_bp_bank
 4644                        		__st.umiq	1, _ah
         1D:D080  A9 01      			lda.l	#1
         1D:D082  85 F9      			sta	_ah
 4645                        		__call		_load_palette.3
         1D:D084  20 8B FF   			call	_load_palette.3
 4646                        	
 4647                        		.dbg	line,	"include\routines_INTRO.c", 195; }
 4648                        	
 4649                        		.dbg	line,	"include\routines_INTRO.c", 197; else if(global_counter == 152)
 4650                        		__bra		.LL69
         1D:D087  4C 64 DA   			bra	.LL69
 4651    1D:D08A             	.LL64:
 4652                        		__ld.wm		_global_counter
         1D:D08A  AD 50 26   			lda.l	_global_counter
         1D:D08D  AC 51 26   			ldy.h	_global_counter
 4653                        		__equ_w.wi	152
         1D:D090  C9 98      			cmp.l	#152
         1D:D092  D0 04      			bne	!false+
         1D:D094  C0 00      			cpy.h	#152
         1D:D096  F0 01      			beq	!+
         1D:D098  18         	!false:		clc
         1D:D099             	!:
 4654                        		__bfalse	.LL70
         1D:D099  90 76      			bcc	.LL70
 4655                        	
 4656                        		.dbg	line,	"include\routines_INTRO.c", 198; {
 4657                        	
 4658                        		.dbg	line,	"include\routines_INTRO.c", 199; for(i=0 ; i<8 ; i++)
 4659                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         1D:D09B  9C 22 2C   			stz	__sequence_INTRO_end - 1
 4660    1D:D09E             	.LL71:
 4661                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:D09E  AD 22 2C   			lda	__sequence_INTRO_end - 1
 4662                        		__ult_b.uiq	8
         1D:D0A1  C9 08      			cmp	#8		; Subtract integer from A.
         1D:D0A3  6A         			ror	a		; CC if A < integer.
         1D:D0A4  49 80      			eor	#$80
         1D:D0A6  2A         			rol	a
 4663                        		__btrue		.LL73
         1D:D0A7  B0 08      			bcs	.LL73
 4664                        		__bra		.LL74
         1D:D0A9  4C 64 DA   			bra	.LL74
 4665    1D:D0AC             	.LL72:
 4666                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         1D:D0AC  EE 22 2C   			inc	__sequence_INTRO_end - 1
 4667                        		__bra		.LL71
         1D:D0AF  80 ED      			bra	.LL71
 4668    1D:D0B1             	.LL73:
 4669                        	
 4670                        		.dbg	line,	"include\routines_INTRO.c", 200; {
 4671                        	
 4672                        		.dbg	line,	"include\routines_INTRO.c", 201; sgx_spr_set(i);
 4673                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:D0B1  AD 22 2C   			lda	__sequence_INTRO_end - 1
 4674                        		__call		_sgx_spr_set.1
         1D:D0B4  20 9E E8   			call	_sgx_spr_set.1
 4675                        	
 4676                        		.dbg	line,	"include\routines_INTRO.c", 202; sgx_spr_x(player_pos_x + (i<<5) - ((i>>2)<<7));
 4677                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         1D:D0B7  AD 22 2C   			lda	__sequence_INTRO_end - 1
         1D:D0BA  C2         			cly
 4678                        		__asl.wi	5
         1D:D0BB  85 00      			sta	__temp
         1D:D0BD  98         			tya
         1D:D0BE  4A         			lsr	a
         1D:D0BF  20 C8 E1   			jsr	aslw5
         1D:D0C2  29 E0      			and.l	#$FF << 5
 4679                        		__add.wm	_player_pos_x
         1D:D0C4  18         			clc
         1D:D0C5  6D F6 24   			adc.l	_player_pos_x
         1D:D0C8  42         			say
         1D:D0C9  6D F7 24   			adc.h	_player_pos_x
         1D:D0CC  42         			say
 4680                        		__push.wr
         1D:D0CD  5A         			phy
         1D:D0CE  48         			pha
 4681                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         1D:D0CF  AD 22 2C   			lda	__sequence_INTRO_end - 1
         1D:D0D2  C2         			cly
 4682                        		__lsr.uiq	2
         1D:D0D3  4A         			lsr	a
         1D:D0D4  4A         			lsr	a
 4683                        		__asl.wi	7
         1D:D0D5  42         			say
         1D:D0D6  4A         			lsr	a
         1D:D0D7  42         			say
         1D:D0D8  6A         			ror	a
         1D:D0D9  42         			say
         1D:D0DA  6A         			ror	a
         1D:D0DB  29 80      			and	#$80
 4684                        		__sub.wt
         1D:D0DD  BA         			tsx
         1D:D0DE  38         			sec
         1D:D0DF  49 FF      			eor	#$FF
         1D:D0E1  7D 01 21   			adc.l	__tos, x
         1D:D0E4  42         			say
         1D:D0E5  49 FF      			eor	#$FF
         1D:D0E7  7D 02 21   			adc.h	__tos, x
         1D:D0EA  42         			say
         1D:D0EB  E8         			inx
         1D:D0EC  E8         			inx
         1D:D0ED  9A         			txs
 4685                        		__call		_sgx_spr_x.1
         1D:D0EE  20 CB E8   			call	_sgx_spr_x.1
 4686                        	
 4687                        		.dbg	line,	"include\routines_INTRO.c", 203; sgx_spr_y(player_pos_y + ((i>>2)<<5));
 4688                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         1D:D0F1  AD 22 2C   			lda	__sequence_INTRO_end - 1
         1D:D0F4  C2         			cly
 4689                        		__lsr.uiq	2
         1D:D0F5  4A         			lsr	a
         1D:D0F6  4A         			lsr	a
 4690                        		__asl.wi	5
         1D:D0F7  85 00      			sta	__temp
         1D:D0F9  98         			tya
         1D:D0FA  4A         			lsr	a
         1D:D0FB  20 C8 E1   			jsr	aslw5
         1D:D0FE  29 E0      			and.l	#$FF << 5
 4691                        		__add.wm	_player_pos_y
         1D:D100  18         			clc
         1D:D101  6D F8 24   			adc.l	_player_pos_y
         1D:D104  42         			say
         1D:D105  6D F9 24   			adc.h	_player_pos_y
         1D:D108  42         			say
 4692                        		__call		_sgx_spr_y.1
         1D:D109  20 DA E8   			call	_sgx_spr_y.1
 4693                        	
 4694                        		.dbg	line,	"include\routines_INTRO.c", 204; }
 4695                        		__bra		.LL72
         1D:D10C  80 9E      			bra	.LL72
 4696    1D:D10E             	.LL74	.alias		.LL75
 4697                        	
 4698                        		.dbg	line,	"include\routines_INTRO.c", 205; }
 4699                        	
 4700                        		.dbg	line,	"include\routines_INTRO.c", 207; else if(global_counter == 154)
 4701                        		__bra		.LL75
         1D:D10E  4C 64 DA   			bra	.LL75
 4702    1D:D111             	.LL70:
 4703                        		__ld.wm		_global_counter
         1D:D111  AD 50 26   			lda.l	_global_counter
         1D:D114  AC 51 26   			ldy.h	_global_counter
 4704                        		__equ_w.wi	154
         1D:D117  C9 9A      			cmp.l	#154
         1D:D119  D0 04      			bne	!false+
         1D:D11B  C0 00      			cpy.h	#154
         1D:D11D  F0 01      			beq	!+
         1D:D11F  18         	!false:		clc
         1D:D120             	!:
 4705                        		__bfalse	.LL76
         1D:D120  90 73      			bcc	.LL76
 4706                        	
 4707                        		.dbg	line,	"include\routines_INTRO.c", 208; {
 4708                        	
 4709                        		.dbg	line,	"include\routines_INTRO.c", 209; for(i=0 ; i<8 ; i++)
 4710                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         1D:D122  9C 22 2C   			stz	__sequence_INTRO_end - 1
 4711    1D:D125             	.LL77:
 4712                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:D125  AD 22 2C   			lda	__sequence_INTRO_end - 1
 4713                        		__ult_b.uiq	8
         1D:D128  C9 08      			cmp	#8		; Subtract integer from A.
         1D:D12A  6A         			ror	a		; CC if A < integer.
         1D:D12B  49 80      			eor	#$80
         1D:D12D  2A         			rol	a
 4714                        		__btrue		.LL79
         1D:D12E  B0 07      			bcs	.LL79
 4715                        		__bra		.LL80
         1D:D130  80 10      			bra	.LL80
 4716    1D:D132             	.LL78:
 4717                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         1D:D132  EE 22 2C   			inc	__sequence_INTRO_end - 1
 4718                        		__bra		.LL77
         1D:D135  80 EE      			bra	.LL77
 4719    1D:D137             	.LL79:
 4720                        	
 4721                        		.dbg	line,	"include\routines_INTRO.c", 210; {
 4722                        	
 4723                        		.dbg	line,	"include\routines_INTRO.c", 211; sgx_spr_set(i);
 4724                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:D137  AD 22 2C   			lda	__sequence_INTRO_end - 1
 4725                        		__call		_sgx_spr_set.1
         1D:D13A  20 9E E8   			call	_sgx_spr_set.1
 4726                        	
 4727                        		.dbg	line,	"include\routines_INTRO.c", 212; sgx_spr_hide();
 4728                        		__call		_sgx_spr_hide
         1D:D13D  20 B9 E8   			call	_sgx_spr_hide
 4729                        	
 4730                        		.dbg	line,	"include\routines_INTRO.c", 213; }
 4731                        		__bra		.LL78
         1D:D140  80 F0      			bra	.LL78
 4732    1D:D142             	.LL80:
 4733                        	
 4734                        		.dbg	line,	"include\routines_INTRO.c", 215; vdc_map_pxl_x = 256;
 4735                        		__st.wmiq	256, _vdc_map_pxl_x
         1D:D142  9C C9 26   			stz.l	_vdc_map_pxl_x
         1D:D145  A9 01      			lda.h	#256
         1D:D147  8D CA 26   			sta.h	_vdc_map_pxl_x
 4736                        	
 4737                        		.dbg	line,	"include\routines_INTRO.c", 216; vdc_map_pxl_y = 256;
 4738                        		__st.wmiq	256, _vdc_map_pxl_y
         1D:D14A  9C CB 26   			stz.l	_vdc_map_pxl_y
         1D:D14D  A9 01      			lda.h	#256
         1D:D14F  8D CC 26   			sta.h	_vdc_map_pxl_y
 4739                        	
 4740                        		.dbg	line,	"include\routines_INTRO.c", 217; scroll_split(0,   0, vdc_map_pxl_x & (511), vdc_map_pxl_y & (511), BKG_ON | SPR_ON);
 4741                        		__st.umiq	0, _al
         1D:D152  64 F8      			stz	_al
 4742                        		__st.umiq	0, _ah
         1D:D154  64 F9      			stz	_ah
 4743                        		__ld.wm		_vdc_map_pxl_x
         1D:D156  AD C9 26   			lda.l	_vdc_map_pxl_x
         1D:D159  AC CA 26   			ldy.h	_vdc_map_pxl_x
 4744                        		__and.wi	511
         1D:D15C  29 FF      			and.l	#511
         1D:D15E  42         			say
         1D:D15F  29 01      			and.h	#511
         1D:D161  42         			say
 4745                        		__st.wmq	_bx
         1D:D162  85 FA      			sta.l	_bx
         1D:D164  84 FB      			sty.h	_bx
 4746                        		__ld.wm		_vdc_map_pxl_y
         1D:D166  AD CB 26   			lda.l	_vdc_map_pxl_y
         1D:D169  AC CC 26   			ldy.h	_vdc_map_pxl_y
 4747                        		__and.wi	511
         1D:D16C  29 FF      			and.l	#511
         1D:D16E  42         			say
         1D:D16F  29 01      			and.h	#511
         1D:D171  42         			say
 4748                        		__st.wmq	_cx
         1D:D172  85 FC      			sta.l	_cx
         1D:D174  84 FD      			sty.h	_cx
 4749                        		__st.umiq	192, _dl
         1D:D176  A9 C0      			lda.l	#192
         1D:D178  85 FE      			sta	_dl
 4750                        		__call		_scroll_split.5
         1D:D17A  20 81 FF   			call	_scroll_split.5
 4751                        	
 4752                        		.dbg	line,	"include\routines_INTRO.c", 219; load_palette( 0, palette_INTRO_3, 1 );
 4753                        		__st.umiq	0, _al
         1D:D17D  64 F8      			stz	_al
 4754                        		__farptr	_palette_INTRO_3, _bp_bank, _bp
         1D:D17F  A9 E0      			lda.l	#$6000 + ($1FFF & (_palette_INTRO_3))
         1D:D181  85 EC      			sta.l	_bp
         1D:D183  A9 7A      			lda.h	#$6000 + ($1FFF & (_palette_INTRO_3))
         1D:D185  85 ED      			sta.h	_bp
         1D:D187  A9 06      			lda	#bank(_palette_INTRO_3)
         1D:D189  85 02      			sta	_bp_bank
 4755                        		__st.umiq	1, _ah
         1D:D18B  A9 01      			lda.l	#1
         1D:D18D  85 F9      			sta	_ah
 4756                        		__call		_load_palette.3
         1D:D18F  20 8B FF   			call	_load_palette.3
 4757                        	
 4758                        		.dbg	line,	"include\routines_INTRO.c", 220; }
 4759                        	
 4760                        		.dbg	line,	"include\routines_INTRO.c", 222; else if(global_counter == 156)
 4761                        		__bra		.LL81
         1D:D192  4C 64 DA   			bra	.LL81
 4762    1D:D195             	.LL76:
 4763                        		__ld.wm		_global_counter
         1D:D195  AD 50 26   			lda.l	_global_counter
         1D:D198  AC 51 26   			ldy.h	_global_counter
 4764                        		__equ_w.wi	156
         1D:D19B  C9 9C      			cmp.l	#156
         1D:D19D  D0 04      			bne	!false+
         1D:D19F  C0 00      			cpy.h	#156
         1D:D1A1  F0 01      			beq	!+
         1D:D1A3  18         	!false:		clc
         1D:D1A4             	!:
 4765                        		__bfalse	.LL82
         1D:D1A4  90 76      			bcc	.LL82
 4766                        	
 4767                        		.dbg	line,	"include\routines_INTRO.c", 223; {
 4768                        	
 4769                        		.dbg	line,	"include\routines_INTRO.c", 224; for(i=0 ; i<8 ; i++)
 4770                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         1D:D1A6  9C 22 2C   			stz	__sequence_INTRO_end - 1
 4771    1D:D1A9             	.LL83:
 4772                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:D1A9  AD 22 2C   			lda	__sequence_INTRO_end - 1
 4773                        		__ult_b.uiq	8
         1D:D1AC  C9 08      			cmp	#8		; Subtract integer from A.
         1D:D1AE  6A         			ror	a		; CC if A < integer.
         1D:D1AF  49 80      			eor	#$80
         1D:D1B1  2A         			rol	a
 4774                        		__btrue		.LL85
         1D:D1B2  B0 08      			bcs	.LL85
 4775                        		__bra		.LL86
         1D:D1B4  4C 64 DA   			bra	.LL86
 4776    1D:D1B7             	.LL84:
 4777                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         1D:D1B7  EE 22 2C   			inc	__sequence_INTRO_end - 1
 4778                        		__bra		.LL83
         1D:D1BA  80 ED      			bra	.LL83
 4779    1D:D1BC             	.LL85:
 4780                        	
 4781                        		.dbg	line,	"include\routines_INTRO.c", 225; {
 4782                        	
 4783                        		.dbg	line,	"include\routines_INTRO.c", 226; sgx_spr_set(i);
 4784                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:D1BC  AD 22 2C   			lda	__sequence_INTRO_end - 1
 4785                        		__call		_sgx_spr_set.1
         1D:D1BF  20 9E E8   			call	_sgx_spr_set.1
 4786                        	
 4787                        		.dbg	line,	"include\routines_INTRO.c", 227; sgx_spr_x(player_pos_x + (i<<5) - ((i>>2)<<7));
 4788                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         1D:D1C2  AD 22 2C   			lda	__sequence_INTRO_end - 1
         1D:D1C5  C2         			cly
 4789                        		__asl.wi	5
         1D:D1C6  85 00      			sta	__temp
         1D:D1C8  98         			tya
         1D:D1C9  4A         			lsr	a
         1D:D1CA  20 C8 E1   			jsr	aslw5
         1D:D1CD  29 E0      			and.l	#$FF << 5
 4790                        		__add.wm	_player_pos_x
         1D:D1CF  18         			clc
         1D:D1D0  6D F6 24   			adc.l	_player_pos_x
         1D:D1D3  42         			say
         1D:D1D4  6D F7 24   			adc.h	_player_pos_x
         1D:D1D7  42         			say
 4791                        		__push.wr
         1D:D1D8  5A         			phy
         1D:D1D9  48         			pha
 4792                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         1D:D1DA  AD 22 2C   			lda	__sequence_INTRO_end - 1
         1D:D1DD  C2         			cly
 4793                        		__lsr.uiq	2
         1D:D1DE  4A         			lsr	a
         1D:D1DF  4A         			lsr	a
 4794                        		__asl.wi	7
         1D:D1E0  42         			say
         1D:D1E1  4A         			lsr	a
         1D:D1E2  42         			say
         1D:D1E3  6A         			ror	a
         1D:D1E4  42         			say
         1D:D1E5  6A         			ror	a
         1D:D1E6  29 80      			and	#$80
 4795                        		__sub.wt
         1D:D1E8  BA         			tsx
         1D:D1E9  38         			sec
         1D:D1EA  49 FF      			eor	#$FF
         1D:D1EC  7D 01 21   			adc.l	__tos, x
         1D:D1EF  42         			say
         1D:D1F0  49 FF      			eor	#$FF
         1D:D1F2  7D 02 21   			adc.h	__tos, x
         1D:D1F5  42         			say
         1D:D1F6  E8         			inx
         1D:D1F7  E8         			inx
         1D:D1F8  9A         			txs
 4796                        		__call		_sgx_spr_x.1
         1D:D1F9  20 CB E8   			call	_sgx_spr_x.1
 4797                        	
 4798                        		.dbg	line,	"include\routines_INTRO.c", 228; sgx_spr_y(player_pos_y + ((i>>2)<<5));
 4799                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         1D:D1FC  AD 22 2C   			lda	__sequence_INTRO_end - 1
         1D:D1FF  C2         			cly
 4800                        		__lsr.uiq	2
         1D:D200  4A         			lsr	a
         1D:D201  4A         			lsr	a
 4801                        		__asl.wi	5
         1D:D202  85 00      			sta	__temp
         1D:D204  98         			tya
         1D:D205  4A         			lsr	a
         1D:D206  20 C8 E1   			jsr	aslw5
         1D:D209  29 E0      			and.l	#$FF << 5
 4802                        		__add.wm	_player_pos_y
         1D:D20B  18         			clc
         1D:D20C  6D F8 24   			adc.l	_player_pos_y
         1D:D20F  42         			say
         1D:D210  6D F9 24   			adc.h	_player_pos_y
         1D:D213  42         			say
 4803                        		__call		_sgx_spr_y.1
         1D:D214  20 DA E8   			call	_sgx_spr_y.1
 4804                        	
 4805                        		.dbg	line,	"include\routines_INTRO.c", 229; }
 4806                        		__bra		.LL84
         1D:D217  80 9E      			bra	.LL84
 4807    1D:D219             	.LL86	.alias		.LL87
 4808                        	
 4809                        		.dbg	line,	"include\routines_INTRO.c", 230; }
 4810                        	
 4811                        		.dbg	line,	"include\routines_INTRO.c", 232; else if(global_counter == 158)
 4812                        		__bra		.LL87
         1D:D219  4C 64 DA   			bra	.LL87
 4813    1D:D21C             	.LL82:
 4814                        		__ld.wm		_global_counter
         1D:D21C  AD 50 26   			lda.l	_global_counter
         1D:D21F  AC 51 26   			ldy.h	_global_counter
 4815                        		__equ_w.wi	158
         1D:D222  C9 9E      			cmp.l	#158
         1D:D224  D0 04      			bne	!false+
         1D:D226  C0 00      			cpy.h	#158
         1D:D228  F0 01      			beq	!+
         1D:D22A  18         	!false:		clc
         1D:D22B             	!:
 4816                        		__bfalse	.LL88
         1D:D22B  90 5A      			bcc	.LL88
 4817                        	
 4818                        		.dbg	line,	"include\routines_INTRO.c", 233; {
 4819                        	
 4820                        		.dbg	line,	"include\routines_INTRO.c", 234; for(i=0 ; i<8 ; i++)
 4821                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         1D:D22D  9C 22 2C   			stz	__sequence_INTRO_end - 1
 4822    1D:D230             	.LL89:
 4823                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:D230  AD 22 2C   			lda	__sequence_INTRO_end - 1
 4824                        		__ult_b.uiq	8
         1D:D233  C9 08      			cmp	#8		; Subtract integer from A.
         1D:D235  6A         			ror	a		; CC if A < integer.
         1D:D236  49 80      			eor	#$80
         1D:D238  2A         			rol	a
 4825                        		__btrue		.LL91
         1D:D239  B0 07      			bcs	.LL91
 4826                        		__bra		.LL92
         1D:D23B  80 10      			bra	.LL92
 4827    1D:D23D             	.LL90:
 4828                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         1D:D23D  EE 22 2C   			inc	__sequence_INTRO_end - 1
 4829                        		__bra		.LL89
         1D:D240  80 EE      			bra	.LL89
 4830    1D:D242             	.LL91:
 4831                        	
 4832                        		.dbg	line,	"include\routines_INTRO.c", 235; {
 4833                        	
 4834                        		.dbg	line,	"include\routines_INTRO.c", 236; sgx_spr_set(i);
 4835                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:D242  AD 22 2C   			lda	__sequence_INTRO_end - 1
 4836                        		__call		_sgx_spr_set.1
         1D:D245  20 9E E8   			call	_sgx_spr_set.1
 4837                        	
 4838                        		.dbg	line,	"include\routines_INTRO.c", 237; sgx_spr_hide();
 4839                        		__call		_sgx_spr_hide
         1D:D248  20 B9 E8   			call	_sgx_spr_hide
 4840                        	
 4841                        		.dbg	line,	"include\routines_INTRO.c", 238; }
 4842                        		__bra		.LL90
         1D:D24B  80 F0      			bra	.LL90
 4843    1D:D24D             	.LL92:
 4844                        	
 4845                        		.dbg	line,	"include\routines_INTRO.c", 240; vdc_map_pxl_x = 0;
 4846                        		__st.wmiq	0, _vdc_map_pxl_x
         1D:D24D  9C C9 26   			stz.l	_vdc_map_pxl_x
         1D:D250  9C CA 26   			stz.h	_vdc_map_pxl_x
 4847                        	
 4848                        		.dbg	line,	"include\routines_INTRO.c", 241; vdc_map_pxl_y = 0;
 4849                        		__st.wmiq	0, _vdc_map_pxl_y
         1D:D253  9C CB 26   			stz.l	_vdc_map_pxl_y
         1D:D256  9C CC 26   			stz.h	_vdc_map_pxl_y
 4850                        	
 4851                        		.dbg	line,	"include\routines_INTRO.c", 242; scroll_split(0,   0, vdc_map_pxl_x & (511), vdc_map_pxl_y & (511), BKG_ON | SPR_ON);
 4852                        		__st.umiq	0, _al
         1D:D259  64 F8      			stz	_al
 4853                        		__st.umiq	0, _ah
         1D:D25B  64 F9      			stz	_ah
 4854                        		__ld.wm		_vdc_map_pxl_x
         1D:D25D  AD C9 26   			lda.l	_vdc_map_pxl_x
         1D:D260  AC CA 26   			ldy.h	_vdc_map_pxl_x
 4855                        		__and.wi	511
         1D:D263  29 FF      			and.l	#511
         1D:D265  42         			say
         1D:D266  29 01      			and.h	#511
         1D:D268  42         			say
 4856                        		__st.wmq	_bx
         1D:D269  85 FA      			sta.l	_bx
         1D:D26B  84 FB      			sty.h	_bx
 4857                        		__ld.wm		_vdc_map_pxl_y
         1D:D26D  AD CB 26   			lda.l	_vdc_map_pxl_y
         1D:D270  AC CC 26   			ldy.h	_vdc_map_pxl_y
 4858                        		__and.wi	511
         1D:D273  29 FF      			and.l	#511
         1D:D275  42         			say
         1D:D276  29 01      			and.h	#511
         1D:D278  42         			say
 4859                        		__st.wmq	_cx
         1D:D279  85 FC      			sta.l	_cx
         1D:D27B  84 FD      			sty.h	_cx
 4860                        		__st.umiq	192, _dl
         1D:D27D  A9 C0      			lda.l	#192
         1D:D27F  85 FE      			sta	_dl
 4861                        		__call		_scroll_split.5
         1D:D281  20 81 FF   			call	_scroll_split.5
 4862                        	
 4863                        		.dbg	line,	"include\routines_INTRO.c", 243; }
 4864                        	
 4865                        		.dbg	line,	"include\routines_INTRO.c", 245; else if(global_counter == 159)
 4866                        		__bra		.LL93
         1D:D284  4C 64 DA   			bra	.LL93
 4867    1D:D287             	.LL88:
 4868                        		__ld.wm		_global_counter
         1D:D287  AD 50 26   			lda.l	_global_counter
         1D:D28A  AC 51 26   			ldy.h	_global_counter
 4869                        		__equ_w.wi	159
         1D:D28D  C9 9F      			cmp.l	#159
         1D:D28F  D0 04      			bne	!false+
         1D:D291  C0 00      			cpy.h	#159
         1D:D293  F0 01      			beq	!+
         1D:D295  18         	!false:		clc
         1D:D296             	!:
 4870                        		__bfalse	.LL94
         1D:D296  90 36      			bcc	.LL94
 4871                        	
 4872                        		.dbg	line,	"include\routines_INTRO.c", 246; {
 4873                        	
 4874                        		.dbg	line,	"include\routines_INTRO.c", 247; vdc_map_pxl_y = 256;
 4875                        		__st.wmiq	256, _vdc_map_pxl_y
         1D:D298  9C CB 26   			stz.l	_vdc_map_pxl_y
         1D:D29B  A9 01      			lda.h	#256
         1D:D29D  8D CC 26   			sta.h	_vdc_map_pxl_y
 4876                        	
 4877                        		.dbg	line,	"include\routines_INTRO.c", 248; scroll_split(0,   0, vdc_map_pxl_x & (511), vdc_map_pxl_y & (511), BKG_ON | SPR_ON);
 4878                        		__st.umiq	0, _al
         1D:D2A0  64 F8      			stz	_al
 4879                        		__st.umiq	0, _ah
         1D:D2A2  64 F9      			stz	_ah
 4880                        		__ld.wm		_vdc_map_pxl_x
         1D:D2A4  AD C9 26   			lda.l	_vdc_map_pxl_x
         1D:D2A7  AC CA 26   			ldy.h	_vdc_map_pxl_x
 4881                        		__and.wi	511
         1D:D2AA  29 FF      			and.l	#511
         1D:D2AC  42         			say
         1D:D2AD  29 01      			and.h	#511
         1D:D2AF  42         			say
 4882                        		__st.wmq	_bx
         1D:D2B0  85 FA      			sta.l	_bx
         1D:D2B2  84 FB      			sty.h	_bx
 4883                        		__ld.wm		_vdc_map_pxl_y
         1D:D2B4  AD CB 26   			lda.l	_vdc_map_pxl_y
         1D:D2B7  AC CC 26   			ldy.h	_vdc_map_pxl_y
 4884                        		__and.wi	511
         1D:D2BA  29 FF      			and.l	#511
         1D:D2BC  42         			say
         1D:D2BD  29 01      			and.h	#511
         1D:D2BF  42         			say
 4885                        		__st.wmq	_cx
         1D:D2C0  85 FC      			sta.l	_cx
         1D:D2C2  84 FD      			sty.h	_cx
 4886                        		__st.umiq	192, _dl
         1D:D2C4  A9 C0      			lda.l	#192
         1D:D2C6  85 FE      			sta	_dl
 4887                        		__call		_scroll_split.5
         1D:D2C8  20 81 FF   			call	_scroll_split.5
 4888                        	
 4889                        		.dbg	line,	"include\routines_INTRO.c", 249; }
 4890                        	
 4891                        		.dbg	line,	"include\routines_INTRO.c", 251; else if(global_counter == 160)
 4892                        		__bra		.LL95
         1D:D2CB  4C 64 DA   			bra	.LL95
 4893    1D:D2CE             	.LL94:
 4894                        		__ld.wm		_global_counter
         1D:D2CE  AD 50 26   			lda.l	_global_counter
         1D:D2D1  AC 51 26   			ldy.h	_global_counter
 4895                        		__equ_w.wi	160
         1D:D2D4  C9 A0      			cmp.l	#160
         1D:D2D6  D0 04      			bne	!false+
         1D:D2D8  C0 00      			cpy.h	#160
         1D:D2DA  F0 01      			beq	!+
         1D:D2DC  18         	!false:		clc
         1D:D2DD             	!:
 4896                        		__bfalse	.LL96
         1D:D2DD  B0 03 4C 90			bcc	.LL96
         1D:D2E1  D3          
 4897                        	
 4898                        		.dbg	line,	"include\routines_INTRO.c", 252; {
 4899                        	
 4900                        		.dbg	line,	"include\routines_INTRO.c", 253; for(i=0 ; i<8 ; i++)
 4901                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         1D:D2E2  9C 22 2C   			stz	__sequence_INTRO_end - 1
 4902    1D:D2E5             	.LL97:
 4903                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:D2E5  AD 22 2C   			lda	__sequence_INTRO_end - 1
 4904                        		__ult_b.uiq	8
         1D:D2E8  C9 08      			cmp	#8		; Subtract integer from A.
         1D:D2EA  6A         			ror	a		; CC if A < integer.
         1D:D2EB  49 80      			eor	#$80
         1D:D2ED  2A         			rol	a
 4905                        		__btrue		.LL99
         1D:D2EE  B0 07      			bcs	.LL99
 4906                        		__bra		.LL100
         1D:D2F0  80 62      			bra	.LL100
 4907    1D:D2F2             	.LL98:
 4908                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         1D:D2F2  EE 22 2C   			inc	__sequence_INTRO_end - 1
 4909                        		__bra		.LL97
         1D:D2F5  80 EE      			bra	.LL97
 4910    1D:D2F7             	.LL99:
 4911                        	
 4912                        		.dbg	line,	"include\routines_INTRO.c", 254; {
 4913                        	
 4914                        		.dbg	line,	"include\routines_INTRO.c", 255; sgx_spr_set(i);
 4915                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:D2F7  AD 22 2C   			lda	__sequence_INTRO_end - 1
 4916                        		__call		_sgx_spr_set.1
         1D:D2FA  20 9E E8   			call	_sgx_spr_set.1
 4917                        	
 4918                        		.dbg	line,	"include\routines_INTRO.c", 256; sgx_spr_x(player_pos_x + (i<<5) - ((i>>2)<<7));
 4919                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         1D:D2FD  AD 22 2C   			lda	__sequence_INTRO_end - 1
         1D:D300  C2         			cly
 4920                        		__asl.wi	5
         1D:D301  85 00      			sta	__temp
         1D:D303  98         			tya
         1D:D304  4A         			lsr	a
         1D:D305  20 C8 E1   			jsr	aslw5
         1D:D308  29 E0      			and.l	#$FF << 5
 4921                        		__add.wm	_player_pos_x
         1D:D30A  18         			clc
         1D:D30B  6D F6 24   			adc.l	_player_pos_x
         1D:D30E  42         			say
         1D:D30F  6D F7 24   			adc.h	_player_pos_x
         1D:D312  42         			say
 4922                        		__push.wr
         1D:D313  5A         			phy
         1D:D314  48         			pha
 4923                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         1D:D315  AD 22 2C   			lda	__sequence_INTRO_end - 1
         1D:D318  C2         			cly
 4924                        		__lsr.uiq	2
         1D:D319  4A         			lsr	a
         1D:D31A  4A         			lsr	a
 4925                        		__asl.wi	7
         1D:D31B  42         			say
         1D:D31C  4A         			lsr	a
         1D:D31D  42         			say
         1D:D31E  6A         			ror	a
         1D:D31F  42         			say
         1D:D320  6A         			ror	a
         1D:D321  29 80      			and	#$80
 4926                        		__sub.wt
         1D:D323  BA         			tsx
         1D:D324  38         			sec
         1D:D325  49 FF      			eor	#$FF
         1D:D327  7D 01 21   			adc.l	__tos, x
         1D:D32A  42         			say
         1D:D32B  49 FF      			eor	#$FF
         1D:D32D  7D 02 21   			adc.h	__tos, x
         1D:D330  42         			say
         1D:D331  E8         			inx
         1D:D332  E8         			inx
         1D:D333  9A         			txs
 4927                        		__call		_sgx_spr_x.1
         1D:D334  20 CB E8   			call	_sgx_spr_x.1
 4928                        	
 4929                        		.dbg	line,	"include\routines_INTRO.c", 257; sgx_spr_y(player_pos_y + ((i>>2)<<5));
 4930                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         1D:D337  AD 22 2C   			lda	__sequence_INTRO_end - 1
         1D:D33A  C2         			cly
 4931                        		__lsr.uiq	2
         1D:D33B  4A         			lsr	a
         1D:D33C  4A         			lsr	a
 4932                        		__asl.wi	5
         1D:D33D  85 00      			sta	__temp
         1D:D33F  98         			tya
         1D:D340  4A         			lsr	a
         1D:D341  20 C8 E1   			jsr	aslw5
         1D:D344  29 E0      			and.l	#$FF << 5
 4933                        		__add.wm	_player_pos_y
         1D:D346  18         			clc
         1D:D347  6D F8 24   			adc.l	_player_pos_y
         1D:D34A  42         			say
         1D:D34B  6D F9 24   			adc.h	_player_pos_y
         1D:D34E  42         			say
 4934                        		__call		_sgx_spr_y.1
         1D:D34F  20 DA E8   			call	_sgx_spr_y.1
 4935                        	
 4936                        		.dbg	line,	"include\routines_INTRO.c", 258; }
 4937                        		__bra		.LL98
         1D:D352  80 9E      			bra	.LL98
 4938    1D:D354             	.LL100:
 4939                        	
 4940                        		.dbg	line,	"include\routines_INTRO.c", 260; vdc_map_pxl_x = 256;
 4941                        		__st.wmiq	256, _vdc_map_pxl_x
         1D:D354  9C C9 26   			stz.l	_vdc_map_pxl_x
         1D:D357  A9 01      			lda.h	#256
         1D:D359  8D CA 26   			sta.h	_vdc_map_pxl_x
 4942                        	
 4943                        		.dbg	line,	"include\routines_INTRO.c", 261; vdc_map_pxl_y = 0;
 4944                        		__st.wmiq	0, _vdc_map_pxl_y
         1D:D35C  9C CB 26   			stz.l	_vdc_map_pxl_y
         1D:D35F  9C CC 26   			stz.h	_vdc_map_pxl_y
 4945                        	
 4946                        		.dbg	line,	"include\routines_INTRO.c", 262; scroll_split(0,   0, vdc_map_pxl_x & (511), vdc_map_pxl_y & (511), BKG_ON | SPR_ON);
 4947                        		__st.umiq	0, _al
         1D:D362  64 F8      			stz	_al
 4948                        		__st.umiq	0, _ah
         1D:D364  64 F9      			stz	_ah
 4949                        		__ld.wm		_vdc_map_pxl_x
         1D:D366  AD C9 26   			lda.l	_vdc_map_pxl_x
         1D:D369  AC CA 26   			ldy.h	_vdc_map_pxl_x
 4950                        		__and.wi	511
         1D:D36C  29 FF      			and.l	#511
         1D:D36E  42         			say
         1D:D36F  29 01      			and.h	#511
         1D:D371  42         			say
 4951                        		__st.wmq	_bx
         1D:D372  85 FA      			sta.l	_bx
         1D:D374  84 FB      			sty.h	_bx
 4952                        		__ld.wm		_vdc_map_pxl_y
         1D:D376  AD CB 26   			lda.l	_vdc_map_pxl_y
         1D:D379  AC CC 26   			ldy.h	_vdc_map_pxl_y
 4953                        		__and.wi	511
         1D:D37C  29 FF      			and.l	#511
         1D:D37E  42         			say
         1D:D37F  29 01      			and.h	#511
         1D:D381  42         			say
 4954                        		__st.wmq	_cx
         1D:D382  85 FC      			sta.l	_cx
         1D:D384  84 FD      			sty.h	_cx
 4955                        		__st.umiq	192, _dl
         1D:D386  A9 C0      			lda.l	#192
         1D:D388  85 FE      			sta	_dl
 4956                        		__call		_scroll_split.5
         1D:D38A  20 81 FF   			call	_scroll_split.5
 4957                        	
 4958                        		.dbg	line,	"include\routines_INTRO.c", 263; }
 4959                        	
 4960                        		.dbg	line,	"include\routines_INTRO.c", 265; else if(global_counter == 162)
 4961                        		__bra		.LL101
         1D:D38D  4C 64 DA   			bra	.LL101
 4962    1D:D390             	.LL96:
 4963                        		__ld.wm		_global_counter
         1D:D390  AD 50 26   			lda.l	_global_counter
         1D:D393  AC 51 26   			ldy.h	_global_counter
 4964                        		__equ_w.wi	162
         1D:D396  C9 A2      			cmp.l	#162
         1D:D398  D0 04      			bne	!false+
         1D:D39A  C0 00      			cpy.h	#162
         1D:D39C  F0 01      			beq	!+
         1D:D39E  18         	!false:		clc
         1D:D39F             	!:
 4965                        		__bfalse	.LL102
         1D:D39F  90 24      			bcc	.LL102
 4966                        	
 4967                        		.dbg	line,	"include\routines_INTRO.c", 266; {
 4968                        	
 4969                        		.dbg	line,	"include\routines_INTRO.c", 267; for(i=0 ; i<8 ; i++)
 4970                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         1D:D3A1  9C 22 2C   			stz	__sequence_INTRO_end - 1
 4971    1D:D3A4             	.LL103:
 4972                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:D3A4  AD 22 2C   			lda	__sequence_INTRO_end - 1
 4973                        		__ult_b.uiq	8
         1D:D3A7  C9 08      			cmp	#8		; Subtract integer from A.
         1D:D3A9  6A         			ror	a		; CC if A < integer.
         1D:D3AA  49 80      			eor	#$80
         1D:D3AC  2A         			rol	a
 4974                        		__btrue		.LL105
         1D:D3AD  B0 08      			bcs	.LL105
 4975                        		__bra		.LL106
         1D:D3AF  4C 64 DA   			bra	.LL106
 4976    1D:D3B2             	.LL104:
 4977                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         1D:D3B2  EE 22 2C   			inc	__sequence_INTRO_end - 1
 4978                        		__bra		.LL103
         1D:D3B5  80 ED      			bra	.LL103
 4979    1D:D3B7             	.LL105:
 4980                        	
 4981                        		.dbg	line,	"include\routines_INTRO.c", 268; {
 4982                        	
 4983                        		.dbg	line,	"include\routines_INTRO.c", 269; sgx_spr_set(i);
 4984                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:D3B7  AD 22 2C   			lda	__sequence_INTRO_end - 1
 4985                        		__call		_sgx_spr_set.1
         1D:D3BA  20 9E E8   			call	_sgx_spr_set.1
 4986                        	
 4987                        		.dbg	line,	"include\routines_INTRO.c", 270; sgx_spr_hide();
 4988                        		__call		_sgx_spr_hide
         1D:D3BD  20 B9 E8   			call	_sgx_spr_hide
 4989                        	
 4990                        		.dbg	line,	"include\routines_INTRO.c", 271; }
 4991                        		__bra		.LL104
         1D:D3C0  80 F0      			bra	.LL104
 4992    1D:D3C2             	.LL106	.alias		.LL107
 4993                        	
 4994                        		.dbg	line,	"include\routines_INTRO.c", 272; }
 4995                        	
 4996                        		.dbg	line,	"include\routines_INTRO.c", 274; else if(global_counter == 163)
 4997                        		__bra		.LL107
         1D:D3C2  4C 64 DA   			bra	.LL107
 4998    1D:D3C5             	.LL102:
 4999                        		__ld.wm		_global_counter
         1D:D3C5  AD 50 26   			lda.l	_global_counter
         1D:D3C8  AC 51 26   			ldy.h	_global_counter
 5000                        		__equ_w.wi	163
         1D:D3CB  C9 A3      			cmp.l	#163
         1D:D3CD  D0 04      			bne	!false+
         1D:D3CF  C0 00      			cpy.h	#163
         1D:D3D1  F0 01      			beq	!+
         1D:D3D3  18         	!false:		clc
         1D:D3D4             	!:
 5001                        		__bfalse	.LL108
         1D:D3D4  90 3A      			bcc	.LL108
 5002                        	
 5003                        		.dbg	line,	"include\routines_INTRO.c", 275; {
 5004                        	
 5005                        		.dbg	line,	"include\routines_INTRO.c", 276; vdc_map_pxl_x = 0;
 5006                        		__st.wmiq	0, _vdc_map_pxl_x
         1D:D3D6  9C C9 26   			stz.l	_vdc_map_pxl_x
         1D:D3D9  9C CA 26   			stz.h	_vdc_map_pxl_x
 5007                        	
 5008                        		.dbg	line,	"include\routines_INTRO.c", 277; vdc_map_pxl_y = 0;
 5009                        		__st.wmiq	0, _vdc_map_pxl_y
         1D:D3DC  9C CB 26   			stz.l	_vdc_map_pxl_y
         1D:D3DF  9C CC 26   			stz.h	_vdc_map_pxl_y
 5010                        	
 5011                        		.dbg	line,	"include\routines_INTRO.c", 278; scroll_split(0,   0, vdc_map_pxl_x & (511), vdc_map_pxl_y & (511), BKG_ON | SPR_ON);
 5012                        		__st.umiq	0, _al
         1D:D3E2  64 F8      			stz	_al
 5013                        		__st.umiq	0, _ah
         1D:D3E4  64 F9      			stz	_ah
 5014                        		__ld.wm		_vdc_map_pxl_x
         1D:D3E6  AD C9 26   			lda.l	_vdc_map_pxl_x
         1D:D3E9  AC CA 26   			ldy.h	_vdc_map_pxl_x
 5015                        		__and.wi	511
         1D:D3EC  29 FF      			and.l	#511
         1D:D3EE  42         			say
         1D:D3EF  29 01      			and.h	#511
         1D:D3F1  42         			say
 5016                        		__st.wmq	_bx
         1D:D3F2  85 FA      			sta.l	_bx
         1D:D3F4  84 FB      			sty.h	_bx
 5017                        		__ld.wm		_vdc_map_pxl_y
         1D:D3F6  AD CB 26   			lda.l	_vdc_map_pxl_y
         1D:D3F9  AC CC 26   			ldy.h	_vdc_map_pxl_y
 5018                        		__and.wi	511
         1D:D3FC  29 FF      			and.l	#511
         1D:D3FE  42         			say
         1D:D3FF  29 01      			and.h	#511
         1D:D401  42         			say
 5019                        		__st.wmq	_cx
         1D:D402  85 FC      			sta.l	_cx
         1D:D404  84 FD      			sty.h	_cx
 5020                        		__st.umiq	192, _dl
         1D:D406  A9 C0      			lda.l	#192
         1D:D408  85 FE      			sta	_dl
 5021                        		__call		_scroll_split.5
         1D:D40A  20 81 FF   			call	_scroll_split.5
 5022                        	
 5023                        		.dbg	line,	"include\routines_INTRO.c", 279; }
 5024                        	
 5025                        		.dbg	line,	"include\routines_INTRO.c", 281; else if(global_counter == 164)
 5026                        		__bra		.LL109
         1D:D40D  4C 64 DA   			bra	.LL109
 5027    1D:D410             	.LL108:
 5028                        		__ld.wm		_global_counter
         1D:D410  AD 50 26   			lda.l	_global_counter
         1D:D413  AC 51 26   			ldy.h	_global_counter
 5029                        		__equ_w.wi	164
         1D:D416  C9 A4      			cmp.l	#164
         1D:D418  D0 04      			bne	!false+
         1D:D41A  C0 00      			cpy.h	#164
         1D:D41C  F0 01      			beq	!+
         1D:D41E  18         	!false:		clc
         1D:D41F             	!:
 5030                        		__bfalse	.LL110
         1D:D41F  B0 03 4C AE			bcc	.LL110
         1D:D423  D4          
 5031                        	
 5032                        		.dbg	line,	"include\routines_INTRO.c", 282; {
 5033                        	
 5034                        		.dbg	line,	"include\routines_INTRO.c", 283; for(i=0 ; i<8 ; i++)
 5035                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         1D:D424  9C 22 2C   			stz	__sequence_INTRO_end - 1
 5036    1D:D427             	.LL111:
 5037                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:D427  AD 22 2C   			lda	__sequence_INTRO_end - 1
 5038                        		__ult_b.uiq	8
         1D:D42A  C9 08      			cmp	#8		; Subtract integer from A.
         1D:D42C  6A         			ror	a		; CC if A < integer.
         1D:D42D  49 80      			eor	#$80
         1D:D42F  2A         			rol	a
 5039                        		__btrue		.LL113
         1D:D430  B0 07      			bcs	.LL113
 5040                        		__bra		.LL114
         1D:D432  80 62      			bra	.LL114
 5041    1D:D434             	.LL112:
 5042                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         1D:D434  EE 22 2C   			inc	__sequence_INTRO_end - 1
 5043                        		__bra		.LL111
         1D:D437  80 EE      			bra	.LL111
 5044    1D:D439             	.LL113:
 5045                        	
 5046                        		.dbg	line,	"include\routines_INTRO.c", 284; {
 5047                        	
 5048                        		.dbg	line,	"include\routines_INTRO.c", 285; sgx_spr_set(i);
 5049                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:D439  AD 22 2C   			lda	__sequence_INTRO_end - 1
 5050                        		__call		_sgx_spr_set.1
         1D:D43C  20 9E E8   			call	_sgx_spr_set.1
 5051                        	
 5052                        		.dbg	line,	"include\routines_INTRO.c", 286; sgx_spr_x(player_pos_x + (i<<5) - ((i>>2)<<7));
 5053                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         1D:D43F  AD 22 2C   			lda	__sequence_INTRO_end - 1
         1D:D442  C2         			cly
 5054                        		__asl.wi	5
         1D:D443  85 00      			sta	__temp
         1D:D445  98         			tya
         1D:D446  4A         			lsr	a
         1D:D447  20 C8 E1   			jsr	aslw5
         1D:D44A  29 E0      			and.l	#$FF << 5
 5055                        		__add.wm	_player_pos_x
         1D:D44C  18         			clc
         1D:D44D  6D F6 24   			adc.l	_player_pos_x
         1D:D450  42         			say
         1D:D451  6D F7 24   			adc.h	_player_pos_x
         1D:D454  42         			say
 5056                        		__push.wr
         1D:D455  5A         			phy
         1D:D456  48         			pha
 5057                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         1D:D457  AD 22 2C   			lda	__sequence_INTRO_end - 1
         1D:D45A  C2         			cly
 5058                        		__lsr.uiq	2
         1D:D45B  4A         			lsr	a
         1D:D45C  4A         			lsr	a
 5059                        		__asl.wi	7
         1D:D45D  42         			say
         1D:D45E  4A         			lsr	a
         1D:D45F  42         			say
         1D:D460  6A         			ror	a
         1D:D461  42         			say
         1D:D462  6A         			ror	a
         1D:D463  29 80      			and	#$80
 5060                        		__sub.wt
         1D:D465  BA         			tsx
         1D:D466  38         			sec
         1D:D467  49 FF      			eor	#$FF
         1D:D469  7D 01 21   			adc.l	__tos, x
         1D:D46C  42         			say
         1D:D46D  49 FF      			eor	#$FF
         1D:D46F  7D 02 21   			adc.h	__tos, x
         1D:D472  42         			say
         1D:D473  E8         			inx
         1D:D474  E8         			inx
         1D:D475  9A         			txs
 5061                        		__call		_sgx_spr_x.1
         1D:D476  20 CB E8   			call	_sgx_spr_x.1
 5062                        	
 5063                        		.dbg	line,	"include\routines_INTRO.c", 287; sgx_spr_y(player_pos_y + ((i>>2)<<5));
 5064                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         1D:D479  AD 22 2C   			lda	__sequence_INTRO_end - 1
         1D:D47C  C2         			cly
 5065                        		__lsr.uiq	2
         1D:D47D  4A         			lsr	a
         1D:D47E  4A         			lsr	a
 5066                        		__asl.wi	5
         1D:D47F  85 00      			sta	__temp
         1D:D481  98         			tya
         1D:D482  4A         			lsr	a
         1D:D483  20 C8 E1   			jsr	aslw5
         1D:D486  29 E0      			and.l	#$FF << 5
 5067                        		__add.wm	_player_pos_y
         1D:D488  18         			clc
         1D:D489  6D F8 24   			adc.l	_player_pos_y
         1D:D48C  42         			say
         1D:D48D  6D F9 24   			adc.h	_player_pos_y
         1D:D490  42         			say
 5068                        		__call		_sgx_spr_y.1
         1D:D491  20 DA E8   			call	_sgx_spr_y.1
 5069                        	
 5070                        		.dbg	line,	"include\routines_INTRO.c", 288; }
 5071                        		__bra		.LL112
         1D:D494  80 9E      			bra	.LL112
 5072    1D:D496             	.LL114:
 5073                        	
 5074                        		.dbg	line,	"include\routines_INTRO.c", 290; load_palette( 0, palette_INTRO_2, 1 );
 5075                        		__st.umiq	0, _al
         1D:D496  64 F8      			stz	_al
 5076                        		__farptr	_palette_INTRO_2, _bp_bank, _bp
         1D:D498  A9 E0      			lda.l	#$6000 + ($1FFF & (_palette_INTRO_2))
         1D:D49A  85 EC      			sta.l	_bp
         1D:D49C  A9 78      			lda.h	#$6000 + ($1FFF & (_palette_INTRO_2))
         1D:D49E  85 ED      			sta.h	_bp
         1D:D4A0  A9 06      			lda	#bank(_palette_INTRO_2)
         1D:D4A2  85 02      			sta	_bp_bank
 5077                        		__st.umiq	1, _ah
         1D:D4A4  A9 01      			lda.l	#1
         1D:D4A6  85 F9      			sta	_ah
 5078                        		__call		_load_palette.3
         1D:D4A8  20 8B FF   			call	_load_palette.3
 5079                        	
 5080                        		.dbg	line,	"include\routines_INTRO.c", 291; }
 5081                        	
 5082                        		.dbg	line,	"include\routines_INTRO.c", 293; else if(global_counter == 166)
 5083                        		__bra		.LL115
         1D:D4AB  4C 64 DA   			bra	.LL115
 5084    1D:D4AE             	.LL110:
 5085                        		__ld.wm		_global_counter
         1D:D4AE  AD 50 26   			lda.l	_global_counter
         1D:D4B1  AC 51 26   			ldy.h	_global_counter
 5086                        		__equ_w.wi	166
         1D:D4B4  C9 A6      			cmp.l	#166
         1D:D4B6  D0 04      			bne	!false+
         1D:D4B8  C0 00      			cpy.h	#166
         1D:D4BA  F0 01      			beq	!+
         1D:D4BC  18         	!false:		clc
         1D:D4BD             	!:
 5087                        		__bfalse	.LL116
         1D:D4BD  90 24      			bcc	.LL116
 5088                        	
 5089                        		.dbg	line,	"include\routines_INTRO.c", 294; {
 5090                        	
 5091                        		.dbg	line,	"include\routines_INTRO.c", 295; for(i=0 ; i<8 ; i++)
 5092                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         1D:D4BF  9C 22 2C   			stz	__sequence_INTRO_end - 1
 5093    1D:D4C2             	.LL117:
 5094                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:D4C2  AD 22 2C   			lda	__sequence_INTRO_end - 1
 5095                        		__ult_b.uiq	8
         1D:D4C5  C9 08      			cmp	#8		; Subtract integer from A.
         1D:D4C7  6A         			ror	a		; CC if A < integer.
         1D:D4C8  49 80      			eor	#$80
         1D:D4CA  2A         			rol	a
 5096                        		__btrue		.LL119
         1D:D4CB  B0 08      			bcs	.LL119
 5097                        		__bra		.LL120
         1D:D4CD  4C 64 DA   			bra	.LL120
 5098    1D:D4D0             	.LL118:
 5099                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         1D:D4D0  EE 22 2C   			inc	__sequence_INTRO_end - 1
 5100                        		__bra		.LL117
         1D:D4D3  80 ED      			bra	.LL117
 5101    1D:D4D5             	.LL119:
 5102                        	
 5103                        		.dbg	line,	"include\routines_INTRO.c", 296; {
 5104                        	
 5105                        		.dbg	line,	"include\routines_INTRO.c", 297; sgx_spr_set(i);
 5106                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:D4D5  AD 22 2C   			lda	__sequence_INTRO_end - 1
 5107                        		__call		_sgx_spr_set.1
         1D:D4D8  20 9E E8   			call	_sgx_spr_set.1
 5108                        	
 5109                        		.dbg	line,	"include\routines_INTRO.c", 298; sgx_spr_hide();
 5110                        		__call		_sgx_spr_hide
         1D:D4DB  20 B9 E8   			call	_sgx_spr_hide
 5111                        	
 5112                        		.dbg	line,	"include\routines_INTRO.c", 299; }
 5113                        		__bra		.LL118
         1D:D4DE  80 F0      			bra	.LL118
 5114    1D:D4E0             	.LL120	.alias		.LL121
 5115                        	
 5116                        		.dbg	line,	"include\routines_INTRO.c", 300; }
 5117                        	
 5118                        		.dbg	line,	"include\routines_INTRO.c", 302; else if(global_counter == 168)
 5119                        		__bra		.LL121
         1D:D4E0  4C 64 DA   			bra	.LL121
 5120    1D:D4E3             	.LL116:
 5121                        		__ld.wm		_global_counter
         1D:D4E3  AD 50 26   			lda.l	_global_counter
         1D:D4E6  AC 51 26   			ldy.h	_global_counter
 5122                        		__equ_w.wi	168
         1D:D4E9  C9 A8      			cmp.l	#168
         1D:D4EB  D0 04      			bne	!false+
         1D:D4ED  C0 00      			cpy.h	#168
         1D:D4EF  F0 01      			beq	!+
         1D:D4F1  18         	!false:		clc
         1D:D4F2             	!:
 5123                        		__bfalse	.LL122
         1D:D4F2  B0 03 4C B4			bcc	.LL122
         1D:D4F6  D5          
 5124                        	
 5125                        		.dbg	line,	"include\routines_INTRO.c", 303; {
 5126                        	
 5127                        		.dbg	line,	"include\routines_INTRO.c", 304; for(i=0 ; i<8 ; i++)
 5128                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         1D:D4F7  9C 22 2C   			stz	__sequence_INTRO_end - 1
 5129    1D:D4FA             	.LL123:
 5130                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:D4FA  AD 22 2C   			lda	__sequence_INTRO_end - 1
 5131                        		__ult_b.uiq	8
         1D:D4FD  C9 08      			cmp	#8		; Subtract integer from A.
         1D:D4FF  6A         			ror	a		; CC if A < integer.
         1D:D500  49 80      			eor	#$80
         1D:D502  2A         			rol	a
 5132                        		__btrue		.LL125
         1D:D503  B0 07      			bcs	.LL125
 5133                        		__bra		.LL126
         1D:D505  80 62      			bra	.LL126
 5134    1D:D507             	.LL124:
 5135                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         1D:D507  EE 22 2C   			inc	__sequence_INTRO_end - 1
 5136                        		__bra		.LL123
         1D:D50A  80 EE      			bra	.LL123
 5137    1D:D50C             	.LL125:
 5138                        	
 5139                        		.dbg	line,	"include\routines_INTRO.c", 305; {
 5140                        	
 5141                        		.dbg	line,	"include\routines_INTRO.c", 306; sgx_spr_set(i);
 5142                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:D50C  AD 22 2C   			lda	__sequence_INTRO_end - 1
 5143                        		__call		_sgx_spr_set.1
         1D:D50F  20 9E E8   			call	_sgx_spr_set.1
 5144                        	
 5145                        		.dbg	line,	"include\routines_INTRO.c", 307; sgx_spr_x(player_pos_x + (i<<5) - ((i>>2)<<7));
 5146                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         1D:D512  AD 22 2C   			lda	__sequence_INTRO_end - 1
         1D:D515  C2         			cly
 5147                        		__asl.wi	5
         1D:D516  85 00      			sta	__temp
         1D:D518  98         			tya
         1D:D519  4A         			lsr	a
         1D:D51A  20 C8 E1   			jsr	aslw5
         1D:D51D  29 E0      			and.l	#$FF << 5
 5148                        		__add.wm	_player_pos_x
         1D:D51F  18         			clc
         1D:D520  6D F6 24   			adc.l	_player_pos_x
         1D:D523  42         			say
         1D:D524  6D F7 24   			adc.h	_player_pos_x
         1D:D527  42         			say
 5149                        		__push.wr
         1D:D528  5A         			phy
         1D:D529  48         			pha
 5150                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         1D:D52A  AD 22 2C   			lda	__sequence_INTRO_end - 1
         1D:D52D  C2         			cly
 5151                        		__lsr.uiq	2
         1D:D52E  4A         			lsr	a
         1D:D52F  4A         			lsr	a
 5152                        		__asl.wi	7
         1D:D530  42         			say
         1D:D531  4A         			lsr	a
         1D:D532  42         			say
         1D:D533  6A         			ror	a
         1D:D534  42         			say
         1D:D535  6A         			ror	a
         1D:D536  29 80      			and	#$80
 5153                        		__sub.wt
         1D:D538  BA         			tsx
         1D:D539  38         			sec
         1D:D53A  49 FF      			eor	#$FF
         1D:D53C  7D 01 21   			adc.l	__tos, x
         1D:D53F  42         			say
         1D:D540  49 FF      			eor	#$FF
         1D:D542  7D 02 21   			adc.h	__tos, x
         1D:D545  42         			say
         1D:D546  E8         			inx
         1D:D547  E8         			inx
         1D:D548  9A         			txs
 5154                        		__call		_sgx_spr_x.1
         1D:D549  20 CB E8   			call	_sgx_spr_x.1
 5155                        	
 5156                        		.dbg	line,	"include\routines_INTRO.c", 308; sgx_spr_y(player_pos_y + ((i>>2)<<5));
 5157                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         1D:D54C  AD 22 2C   			lda	__sequence_INTRO_end - 1
         1D:D54F  C2         			cly
 5158                        		__lsr.uiq	2
         1D:D550  4A         			lsr	a
         1D:D551  4A         			lsr	a
 5159                        		__asl.wi	5
         1D:D552  85 00      			sta	__temp
         1D:D554  98         			tya
         1D:D555  4A         			lsr	a
         1D:D556  20 C8 E1   			jsr	aslw5
         1D:D559  29 E0      			and.l	#$FF << 5
 5160                        		__add.wm	_player_pos_y
         1D:D55B  18         			clc
         1D:D55C  6D F8 24   			adc.l	_player_pos_y
         1D:D55F  42         			say
         1D:D560  6D F9 24   			adc.h	_player_pos_y
         1D:D563  42         			say
 5161                        		__call		_sgx_spr_y.1
         1D:D564  20 DA E8   			call	_sgx_spr_y.1
 5162                        	
 5163                        		.dbg	line,	"include\routines_INTRO.c", 309; }
 5164                        		__bra		.LL124
         1D:D567  80 9E      			bra	.LL124
 5165    1D:D569             	.LL126:
 5166                        	
 5167                        		.dbg	line,	"include\routines_INTRO.c", 311; vdc_map_pxl_y = 256;
 5168                        		__st.wmiq	256, _vdc_map_pxl_y
         1D:D569  9C CB 26   			stz.l	_vdc_map_pxl_y
         1D:D56C  A9 01      			lda.h	#256
         1D:D56E  8D CC 26   			sta.h	_vdc_map_pxl_y
 5169                        	
 5170                        		.dbg	line,	"include\routines_INTRO.c", 312; scroll_split(0,   0, vdc_map_pxl_x & (511), vdc_map_pxl_y & (511), BKG_ON | SPR_ON);
 5171                        		__st.umiq	0, _al
         1D:D571  64 F8      			stz	_al
 5172                        		__st.umiq	0, _ah
         1D:D573  64 F9      			stz	_ah
 5173                        		__ld.wm		_vdc_map_pxl_x
         1D:D575  AD C9 26   			lda.l	_vdc_map_pxl_x
         1D:D578  AC CA 26   			ldy.h	_vdc_map_pxl_x
 5174                        		__and.wi	511
         1D:D57B  29 FF      			and.l	#511
         1D:D57D  42         			say
         1D:D57E  29 01      			and.h	#511
         1D:D580  42         			say
 5175                        		__st.wmq	_bx
         1D:D581  85 FA      			sta.l	_bx
         1D:D583  84 FB      			sty.h	_bx
 5176                        		__ld.wm		_vdc_map_pxl_y
         1D:D585  AD CB 26   			lda.l	_vdc_map_pxl_y
         1D:D588  AC CC 26   			ldy.h	_vdc_map_pxl_y
 5177                        		__and.wi	511
         1D:D58B  29 FF      			and.l	#511
         1D:D58D  42         			say
         1D:D58E  29 01      			and.h	#511
         1D:D590  42         			say
 5178                        		__st.wmq	_cx
         1D:D591  85 FC      			sta.l	_cx
         1D:D593  84 FD      			sty.h	_cx
 5179                        		__st.umiq	192, _dl
         1D:D595  A9 C0      			lda.l	#192
         1D:D597  85 FE      			sta	_dl
 5180                        		__call		_scroll_split.5
         1D:D599  20 81 FF   			call	_scroll_split.5
 5181                        	
 5182                        		.dbg	line,	"include\routines_INTRO.c", 313; 
 5183                        	
 5184                        		.dbg	line,	"include\routines_INTRO.c", 314; load_palette( 0, palette_INTRO_3, 1 );
 5185                        		__st.umiq	0, _al
         1D:D59C  64 F8      			stz	_al
 5186                        		__farptr	_palette_INTRO_3, _bp_bank, _bp
         1D:D59E  A9 E0      			lda.l	#$6000 + ($1FFF & (_palette_INTRO_3))
         1D:D5A0  85 EC      			sta.l	_bp
         1D:D5A2  A9 7A      			lda.h	#$6000 + ($1FFF & (_palette_INTRO_3))
         1D:D5A4  85 ED      			sta.h	_bp
         1D:D5A6  A9 06      			lda	#bank(_palette_INTRO_3)
         1D:D5A8  85 02      			sta	_bp_bank
 5187                        		__st.umiq	1, _ah
         1D:D5AA  A9 01      			lda.l	#1
         1D:D5AC  85 F9      			sta	_ah
 5188                        		__call		_load_palette.3
         1D:D5AE  20 8B FF   			call	_load_palette.3
 5189                        	
 5190                        		.dbg	line,	"include\routines_INTRO.c", 315; }
 5191                        	
 5192                        		.dbg	line,	"include\routines_INTRO.c", 317; else if(global_counter == 170)
 5193                        		__bra		.LL127
         1D:D5B1  4C 64 DA   			bra	.LL127
 5194    1D:D5B4             	.LL122:
 5195                        		__ld.wm		_global_counter
         1D:D5B4  AD 50 26   			lda.l	_global_counter
         1D:D5B7  AC 51 26   			ldy.h	_global_counter
 5196                        		__equ_w.wi	170
         1D:D5BA  C9 AA      			cmp.l	#170
         1D:D5BC  D0 04      			bne	!false+
         1D:D5BE  C0 00      			cpy.h	#170
         1D:D5C0  F0 01      			beq	!+
         1D:D5C2  18         	!false:		clc
         1D:D5C3             	!:
 5197                        		__bfalse	.LL128
         1D:D5C3  90 24      			bcc	.LL128
 5198                        	
 5199                        		.dbg	line,	"include\routines_INTRO.c", 318; {
 5200                        	
 5201                        		.dbg	line,	"include\routines_INTRO.c", 319; for(i=0 ; i<8 ; i++)
 5202                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         1D:D5C5  9C 22 2C   			stz	__sequence_INTRO_end - 1
 5203    1D:D5C8             	.LL129:
 5204                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:D5C8  AD 22 2C   			lda	__sequence_INTRO_end - 1
 5205                        		__ult_b.uiq	8
         1D:D5CB  C9 08      			cmp	#8		; Subtract integer from A.
         1D:D5CD  6A         			ror	a		; CC if A < integer.
         1D:D5CE  49 80      			eor	#$80
         1D:D5D0  2A         			rol	a
 5206                        		__btrue		.LL131
         1D:D5D1  B0 08      			bcs	.LL131
 5207                        		__bra		.LL132
         1D:D5D3  4C 64 DA   			bra	.LL132
 5208    1D:D5D6             	.LL130:
 5209                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         1D:D5D6  EE 22 2C   			inc	__sequence_INTRO_end - 1
 5210                        		__bra		.LL129
         1D:D5D9  80 ED      			bra	.LL129
 5211    1D:D5DB             	.LL131:
 5212                        	
 5213                        		.dbg	line,	"include\routines_INTRO.c", 320; {
 5214                        	
 5215                        		.dbg	line,	"include\routines_INTRO.c", 321; sgx_spr_set(i);
 5216                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:D5DB  AD 22 2C   			lda	__sequence_INTRO_end - 1
 5217                        		__call		_sgx_spr_set.1
         1D:D5DE  20 9E E8   			call	_sgx_spr_set.1
 5218                        	
 5219                        		.dbg	line,	"include\routines_INTRO.c", 322; sgx_spr_hide();
 5220                        		__call		_sgx_spr_hide
         1D:D5E1  20 B9 E8   			call	_sgx_spr_hide
 5221                        	
 5222                        		.dbg	line,	"include\routines_INTRO.c", 323; }
 5223                        		__bra		.LL130
         1D:D5E4  80 F0      			bra	.LL130
 5224    1D:D5E6             	.LL132	.alias		.LL133
 5225                        	
 5226                        		.dbg	line,	"include\routines_INTRO.c", 324; }
 5227                        	
 5228                        		.dbg	line,	"include\routines_INTRO.c", 326; else if(global_counter == 172)
 5229                        		__bra		.LL133
         1D:D5E6  4C 64 DA   			bra	.LL133
 5230    1D:D5E9             	.LL128:
 5231                        		__ld.wm		_global_counter
         1D:D5E9  AD 50 26   			lda.l	_global_counter
         1D:D5EC  AC 51 26   			ldy.h	_global_counter
 5232                        		__equ_w.wi	172
         1D:D5EF  C9 AC      			cmp.l	#172
         1D:D5F1  D0 04      			bne	!false+
         1D:D5F3  C0 00      			cpy.h	#172
         1D:D5F5  F0 01      			beq	!+
         1D:D5F7  18         	!false:		clc
         1D:D5F8             	!:
 5233                        		__bfalse	.LL134
         1D:D5F8  B0 03 4C A3			bcc	.LL134
         1D:D5FC  D6          
 5234                        	
 5235                        		.dbg	line,	"include\routines_INTRO.c", 327; {
 5236                        	
 5237                        		.dbg	line,	"include\routines_INTRO.c", 328; for(i=0 ; i<8 ; i++)
 5238                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         1D:D5FD  9C 22 2C   			stz	__sequence_INTRO_end - 1
 5239    1D:D600             	.LL135:
 5240                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:D600  AD 22 2C   			lda	__sequence_INTRO_end - 1
 5241                        		__ult_b.uiq	8
         1D:D603  C9 08      			cmp	#8		; Subtract integer from A.
         1D:D605  6A         			ror	a		; CC if A < integer.
         1D:D606  49 80      			eor	#$80
         1D:D608  2A         			rol	a
 5242                        		__btrue		.LL137
         1D:D609  B0 07      			bcs	.LL137
 5243                        		__bra		.LL138
         1D:D60B  80 62      			bra	.LL138
 5244    1D:D60D             	.LL136:
 5245                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         1D:D60D  EE 22 2C   			inc	__sequence_INTRO_end - 1
 5246                        		__bra		.LL135
         1D:D610  80 EE      			bra	.LL135
 5247    1D:D612             	.LL137:
 5248                        	
 5249                        		.dbg	line,	"include\routines_INTRO.c", 329; {
 5250                        	
 5251                        		.dbg	line,	"include\routines_INTRO.c", 330; sgx_spr_set(i);
 5252                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:D612  AD 22 2C   			lda	__sequence_INTRO_end - 1
 5253                        		__call		_sgx_spr_set.1
         1D:D615  20 9E E8   			call	_sgx_spr_set.1
 5254                        	
 5255                        		.dbg	line,	"include\routines_INTRO.c", 331; sgx_spr_x(player_pos_x + (i<<5) - ((i>>2)<<7));
 5256                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         1D:D618  AD 22 2C   			lda	__sequence_INTRO_end - 1
         1D:D61B  C2         			cly
 5257                        		__asl.wi	5
         1D:D61C  85 00      			sta	__temp
         1D:D61E  98         			tya
         1D:D61F  4A         			lsr	a
         1D:D620  20 C8 E1   			jsr	aslw5
         1D:D623  29 E0      			and.l	#$FF << 5
 5258                        		__add.wm	_player_pos_x
         1D:D625  18         			clc
         1D:D626  6D F6 24   			adc.l	_player_pos_x
         1D:D629  42         			say
         1D:D62A  6D F7 24   			adc.h	_player_pos_x
         1D:D62D  42         			say
 5259                        		__push.wr
         1D:D62E  5A         			phy
         1D:D62F  48         			pha
 5260                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         1D:D630  AD 22 2C   			lda	__sequence_INTRO_end - 1
         1D:D633  C2         			cly
 5261                        		__lsr.uiq	2
         1D:D634  4A         			lsr	a
         1D:D635  4A         			lsr	a
 5262                        		__asl.wi	7
         1D:D636  42         			say
         1D:D637  4A         			lsr	a
         1D:D638  42         			say
         1D:D639  6A         			ror	a
         1D:D63A  42         			say
         1D:D63B  6A         			ror	a
         1D:D63C  29 80      			and	#$80
 5263                        		__sub.wt
         1D:D63E  BA         			tsx
         1D:D63F  38         			sec
         1D:D640  49 FF      			eor	#$FF
         1D:D642  7D 01 21   			adc.l	__tos, x
         1D:D645  42         			say
         1D:D646  49 FF      			eor	#$FF
         1D:D648  7D 02 21   			adc.h	__tos, x
         1D:D64B  42         			say
         1D:D64C  E8         			inx
         1D:D64D  E8         			inx
         1D:D64E  9A         			txs
 5264                        		__call		_sgx_spr_x.1
         1D:D64F  20 CB E8   			call	_sgx_spr_x.1
 5265                        	
 5266                        		.dbg	line,	"include\routines_INTRO.c", 332; sgx_spr_y(player_pos_y + ((i>>2)<<5));
 5267                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         1D:D652  AD 22 2C   			lda	__sequence_INTRO_end - 1
         1D:D655  C2         			cly
 5268                        		__lsr.uiq	2
         1D:D656  4A         			lsr	a
         1D:D657  4A         			lsr	a
 5269                        		__asl.wi	5
         1D:D658  85 00      			sta	__temp
         1D:D65A  98         			tya
         1D:D65B  4A         			lsr	a
         1D:D65C  20 C8 E1   			jsr	aslw5
         1D:D65F  29 E0      			and.l	#$FF << 5
 5270                        		__add.wm	_player_pos_y
         1D:D661  18         			clc
         1D:D662  6D F8 24   			adc.l	_player_pos_y
         1D:D665  42         			say
         1D:D666  6D F9 24   			adc.h	_player_pos_y
         1D:D669  42         			say
 5271                        		__call		_sgx_spr_y.1
         1D:D66A  20 DA E8   			call	_sgx_spr_y.1
 5272                        	
 5273                        		.dbg	line,	"include\routines_INTRO.c", 333; }
 5274                        		__bra		.LL136
         1D:D66D  80 9E      			bra	.LL136
 5275    1D:D66F             	.LL138:
 5276                        	
 5277                        		.dbg	line,	"include\routines_INTRO.c", 335; vdc_map_pxl_y = 0;
 5278                        		__st.wmiq	0, _vdc_map_pxl_y
         1D:D66F  9C CB 26   			stz.l	_vdc_map_pxl_y
         1D:D672  9C CC 26   			stz.h	_vdc_map_pxl_y
 5279                        	
 5280                        		.dbg	line,	"include\routines_INTRO.c", 336; scroll_split(0,   0, vdc_map_pxl_x & (511), vdc_map_pxl_y & (511), BKG_ON | SPR_ON);
 5281                        		__st.umiq	0, _al
         1D:D675  64 F8      			stz	_al
 5282                        		__st.umiq	0, _ah
         1D:D677  64 F9      			stz	_ah
 5283                        		__ld.wm		_vdc_map_pxl_x
         1D:D679  AD C9 26   			lda.l	_vdc_map_pxl_x
         1D:D67C  AC CA 26   			ldy.h	_vdc_map_pxl_x
 5284                        		__and.wi	511
         1D:D67F  29 FF      			and.l	#511
         1D:D681  42         			say
         1D:D682  29 01      			and.h	#511
         1D:D684  42         			say
 5285                        		__st.wmq	_bx
         1D:D685  85 FA      			sta.l	_bx
         1D:D687  84 FB      			sty.h	_bx
 5286                        		__ld.wm		_vdc_map_pxl_y
         1D:D689  AD CB 26   			lda.l	_vdc_map_pxl_y
         1D:D68C  AC CC 26   			ldy.h	_vdc_map_pxl_y
 5287                        		__and.wi	511
         1D:D68F  29 FF      			and.l	#511
         1D:D691  42         			say
         1D:D692  29 01      			and.h	#511
         1D:D694  42         			say
 5288                        		__st.wmq	_cx
         1D:D695  85 FC      			sta.l	_cx
         1D:D697  84 FD      			sty.h	_cx
 5289                        		__st.umiq	192, _dl
         1D:D699  A9 C0      			lda.l	#192
         1D:D69B  85 FE      			sta	_dl
 5290                        		__call		_scroll_split.5
         1D:D69D  20 81 FF   			call	_scroll_split.5
 5291                        	
 5292                        		.dbg	line,	"include\routines_INTRO.c", 337; }
 5293                        	
 5294                        		.dbg	line,	"include\routines_INTRO.c", 339; else if(global_counter == 173)
 5295                        		__bra		.LL139
         1D:D6A0  4C 64 DA   			bra	.LL139
 5296    1D:D6A3             	.LL134:
 5297                        		__ld.wm		_global_counter
         1D:D6A3  AD 50 26   			lda.l	_global_counter
         1D:D6A6  AC 51 26   			ldy.h	_global_counter
 5298                        		__equ_w.wi	173
         1D:D6A9  C9 AD      			cmp.l	#173
         1D:D6AB  D0 04      			bne	!false+
         1D:D6AD  C0 00      			cpy.h	#173
         1D:D6AF  F0 01      			beq	!+
         1D:D6B1  18         	!false:		clc
         1D:D6B2             	!:
 5299                        		__bfalse	.LL140
         1D:D6B2  90 18      			bcc	.LL140
 5300                        	
 5301                        		.dbg	line,	"include\routines_INTRO.c", 340; {
 5302                        	
 5303                        		.dbg	line,	"include\routines_INTRO.c", 341; load_palette( 0, palette_INTRO_2, 1 );
 5304                        		__st.umiq	0, _al
         1D:D6B4  64 F8      			stz	_al
 5305                        		__farptr	_palette_INTRO_2, _bp_bank, _bp
         1D:D6B6  A9 E0      			lda.l	#$6000 + ($1FFF & (_palette_INTRO_2))
         1D:D6B8  85 EC      			sta.l	_bp
         1D:D6BA  A9 78      			lda.h	#$6000 + ($1FFF & (_palette_INTRO_2))
         1D:D6BC  85 ED      			sta.h	_bp
         1D:D6BE  A9 06      			lda	#bank(_palette_INTRO_2)
         1D:D6C0  85 02      			sta	_bp_bank
 5306                        		__st.umiq	1, _ah
         1D:D6C2  A9 01      			lda.l	#1
         1D:D6C4  85 F9      			sta	_ah
 5307                        		__call		_load_palette.3
         1D:D6C6  20 8B FF   			call	_load_palette.3
 5308                        	
 5309                        		.dbg	line,	"include\routines_INTRO.c", 342; }
 5310                        	
 5311                        		.dbg	line,	"include\routines_INTRO.c", 344; else if(global_counter == 174)
 5312                        		__bra		.LL141
         1D:D6C9  4C 64 DA   			bra	.LL141
 5313    1D:D6CC             	.LL140:
 5314                        		__ld.wm		_global_counter
         1D:D6CC  AD 50 26   			lda.l	_global_counter
         1D:D6CF  AC 51 26   			ldy.h	_global_counter
 5315                        		__equ_w.wi	174
         1D:D6D2  C9 AE      			cmp.l	#174
         1D:D6D4  D0 04      			bne	!false+
         1D:D6D6  C0 00      			cpy.h	#174
         1D:D6D8  F0 01      			beq	!+
         1D:D6DA  18         	!false:		clc
         1D:D6DB             	!:
 5316                        		__bfalse	.LL142
         1D:D6DB  90 24      			bcc	.LL142
 5317                        	
 5318                        		.dbg	line,	"include\routines_INTRO.c", 345; {
 5319                        	
 5320                        		.dbg	line,	"include\routines_INTRO.c", 346; for(i=0 ; i<8 ; i++)
 5321                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         1D:D6DD  9C 22 2C   			stz	__sequence_INTRO_end - 1
 5322    1D:D6E0             	.LL143:
 5323                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:D6E0  AD 22 2C   			lda	__sequence_INTRO_end - 1
 5324                        		__ult_b.uiq	8
         1D:D6E3  C9 08      			cmp	#8		; Subtract integer from A.
         1D:D6E5  6A         			ror	a		; CC if A < integer.
         1D:D6E6  49 80      			eor	#$80
         1D:D6E8  2A         			rol	a
 5325                        		__btrue		.LL145
         1D:D6E9  B0 08      			bcs	.LL145
 5326                        		__bra		.LL146
         1D:D6EB  4C 64 DA   			bra	.LL146
 5327    1D:D6EE             	.LL144:
 5328                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         1D:D6EE  EE 22 2C   			inc	__sequence_INTRO_end - 1
 5329                        		__bra		.LL143
         1D:D6F1  80 ED      			bra	.LL143
 5330    1D:D6F3             	.LL145:
 5331                        	
 5332                        		.dbg	line,	"include\routines_INTRO.c", 347; {
 5333                        	
 5334                        		.dbg	line,	"include\routines_INTRO.c", 348; sgx_spr_set(i);
 5335                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:D6F3  AD 22 2C   			lda	__sequence_INTRO_end - 1
 5336                        		__call		_sgx_spr_set.1
         1D:D6F6  20 9E E8   			call	_sgx_spr_set.1
 5337                        	
 5338                        		.dbg	line,	"include\routines_INTRO.c", 349; sgx_spr_hide();
 5339                        		__call		_sgx_spr_hide
         1D:D6F9  20 B9 E8   			call	_sgx_spr_hide
 5340                        	
 5341                        		.dbg	line,	"include\routines_INTRO.c", 350; }
 5342                        		__bra		.LL144
         1D:D6FC  80 F0      			bra	.LL144
 5343    1D:D6FE             	.LL146	.alias		.LL147
 5344                        	
 5345                        		.dbg	line,	"include\routines_INTRO.c", 351; }
 5346                        	
 5347                        		.dbg	line,	"include\routines_INTRO.c", 353; else if(global_counter == 176)
 5348                        		__bra		.LL147
         1D:D6FE  4C 64 DA   			bra	.LL147
 5349    1D:D701             	.LL142:
 5350                        		__ld.wm		_global_counter
         1D:D701  AD 50 26   			lda.l	_global_counter
         1D:D704  AC 51 26   			ldy.h	_global_counter
 5351                        		__equ_w.wi	176
         1D:D707  C9 B0      			cmp.l	#176
         1D:D709  D0 04      			bne	!false+
         1D:D70B  C0 00      			cpy.h	#176
         1D:D70D  F0 01      			beq	!+
         1D:D70F  18         	!false:		clc
         1D:D710             	!:
 5352                        		__bfalse	.LL148
         1D:D710  90 76      			bcc	.LL148
 5353                        	
 5354                        		.dbg	line,	"include\routines_INTRO.c", 354; {
 5355                        	
 5356                        		.dbg	line,	"include\routines_INTRO.c", 355; for(i=0 ; i<8 ; i++)
 5357                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         1D:D712  9C 22 2C   			stz	__sequence_INTRO_end - 1
 5358    1D:D715             	.LL149:
 5359                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:D715  AD 22 2C   			lda	__sequence_INTRO_end - 1
 5360                        		__ult_b.uiq	8
         1D:D718  C9 08      			cmp	#8		; Subtract integer from A.
         1D:D71A  6A         			ror	a		; CC if A < integer.
         1D:D71B  49 80      			eor	#$80
         1D:D71D  2A         			rol	a
 5361                        		__btrue		.LL151
         1D:D71E  B0 08      			bcs	.LL151
 5362                        		__bra		.LL152
         1D:D720  4C 64 DA   			bra	.LL152
 5363    1D:D723             	.LL150:
 5364                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         1D:D723  EE 22 2C   			inc	__sequence_INTRO_end - 1
 5365                        		__bra		.LL149
         1D:D726  80 ED      			bra	.LL149
 5366    1D:D728             	.LL151:
 5367                        	
 5368                        		.dbg	line,	"include\routines_INTRO.c", 356; {
 5369                        	
 5370                        		.dbg	line,	"include\routines_INTRO.c", 357; sgx_spr_set(i);
 5371                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:D728  AD 22 2C   			lda	__sequence_INTRO_end - 1
 5372                        		__call		_sgx_spr_set.1
         1D:D72B  20 9E E8   			call	_sgx_spr_set.1
 5373                        	
 5374                        		.dbg	line,	"include\routines_INTRO.c", 358; sgx_spr_x(player_pos_x + (i<<5) - ((i>>2)<<7));
 5375                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         1D:D72E  AD 22 2C   			lda	__sequence_INTRO_end - 1
         1D:D731  C2         			cly
 5376                        		__asl.wi	5
         1D:D732  85 00      			sta	__temp
         1D:D734  98         			tya
         1D:D735  4A         			lsr	a
         1D:D736  20 C8 E1   			jsr	aslw5
         1D:D739  29 E0      			and.l	#$FF << 5
 5377                        		__add.wm	_player_pos_x
         1D:D73B  18         			clc
         1D:D73C  6D F6 24   			adc.l	_player_pos_x
         1D:D73F  42         			say
         1D:D740  6D F7 24   			adc.h	_player_pos_x
         1D:D743  42         			say
 5378                        		__push.wr
         1D:D744  5A         			phy
         1D:D745  48         			pha
 5379                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         1D:D746  AD 22 2C   			lda	__sequence_INTRO_end - 1
         1D:D749  C2         			cly
 5380                        		__lsr.uiq	2
         1D:D74A  4A         			lsr	a
         1D:D74B  4A         			lsr	a
 5381                        		__asl.wi	7
         1D:D74C  42         			say
         1D:D74D  4A         			lsr	a
         1D:D74E  42         			say
         1D:D74F  6A         			ror	a
         1D:D750  42         			say
         1D:D751  6A         			ror	a
         1D:D752  29 80      			and	#$80
 5382                        		__sub.wt
         1D:D754  BA         			tsx
         1D:D755  38         			sec
         1D:D756  49 FF      			eor	#$FF
         1D:D758  7D 01 21   			adc.l	__tos, x
         1D:D75B  42         			say
         1D:D75C  49 FF      			eor	#$FF
         1D:D75E  7D 02 21   			adc.h	__tos, x
         1D:D761  42         			say
         1D:D762  E8         			inx
         1D:D763  E8         			inx
         1D:D764  9A         			txs
 5383                        		__call		_sgx_spr_x.1
         1D:D765  20 CB E8   			call	_sgx_spr_x.1
 5384                        	
 5385                        		.dbg	line,	"include\routines_INTRO.c", 359; sgx_spr_y(player_pos_y + ((i>>2)<<5));
 5386                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         1D:D768  AD 22 2C   			lda	__sequence_INTRO_end - 1
         1D:D76B  C2         			cly
 5387                        		__lsr.uiq	2
         1D:D76C  4A         			lsr	a
         1D:D76D  4A         			lsr	a
 5388                        		__asl.wi	5
         1D:D76E  85 00      			sta	__temp
         1D:D770  98         			tya
         1D:D771  4A         			lsr	a
         1D:D772  20 C8 E1   			jsr	aslw5
         1D:D775  29 E0      			and.l	#$FF << 5
 5389                        		__add.wm	_player_pos_y
         1D:D777  18         			clc
         1D:D778  6D F8 24   			adc.l	_player_pos_y
         1D:D77B  42         			say
         1D:D77C  6D F9 24   			adc.h	_player_pos_y
         1D:D77F  42         			say
 5390                        		__call		_sgx_spr_y.1
         1D:D780  20 DA E8   			call	_sgx_spr_y.1
 5391                        	
 5392                        		.dbg	line,	"include\routines_INTRO.c", 360; }
 5393                        		__bra		.LL150
         1D:D783  80 9E      			bra	.LL150
 5394    1D:D785             	.LL152	.alias		.LL153
 5395                        	
 5396                        		.dbg	line,	"include\routines_INTRO.c", 361; }
 5397                        	
 5398                        		.dbg	line,	"include\routines_INTRO.c", 363; else if(global_counter == 177)
 5399                        		__bra		.LL153
         1D:D785  4C 64 DA   			bra	.LL153
 5400    1D:D788             	.LL148:
 5401                        		__ld.wm		_global_counter
         1D:D788  AD 50 26   			lda.l	_global_counter
         1D:D78B  AC 51 26   			ldy.h	_global_counter
 5402                        		__equ_w.wi	177
         1D:D78E  C9 B1      			cmp.l	#177
         1D:D790  D0 04      			bne	!false+
         1D:D792  C0 00      			cpy.h	#177
         1D:D794  F0 01      			beq	!+
         1D:D796  18         	!false:		clc
         1D:D797             	!:
 5403                        		__bfalse	.LL154
         1D:D797  90 53      			bcc	.LL154
 5404                        	
 5405                        		.dbg	line,	"include\routines_INTRO.c", 364; {
 5406                        	
 5407                        		.dbg	line,	"include\routines_INTRO.c", 365; vdc_map_pxl_x = 256;
 5408                        		__st.wmiq	256, _vdc_map_pxl_x
         1D:D799  9C C9 26   			stz.l	_vdc_map_pxl_x
         1D:D79C  A9 01      			lda.h	#256
         1D:D79E  8D CA 26   			sta.h	_vdc_map_pxl_x
 5409                        	
 5410                        		.dbg	line,	"include\routines_INTRO.c", 366; vdc_map_pxl_y = 256;
 5411                        		__st.wmiq	256, _vdc_map_pxl_y
         1D:D7A1  9C CB 26   			stz.l	_vdc_map_pxl_y
         1D:D7A4  A9 01      			lda.h	#256
         1D:D7A6  8D CC 26   			sta.h	_vdc_map_pxl_y
 5412                        	
 5413                        		.dbg	line,	"include\routines_INTRO.c", 367; scroll_split(0,   0, vdc_map_pxl_x & (511), vdc_map_pxl_y & (511), BKG_ON | SPR_ON);
 5414                        		__st.umiq	0, _al
         1D:D7A9  64 F8      			stz	_al
 5415                        		__st.umiq	0, _ah
         1D:D7AB  64 F9      			stz	_ah
 5416                        		__ld.wm		_vdc_map_pxl_x
         1D:D7AD  AD C9 26   			lda.l	_vdc_map_pxl_x
         1D:D7B0  AC CA 26   			ldy.h	_vdc_map_pxl_x
 5417                        		__and.wi	511
         1D:D7B3  29 FF      			and.l	#511
         1D:D7B5  42         			say
         1D:D7B6  29 01      			and.h	#511
         1D:D7B8  42         			say
 5418                        		__st.wmq	_bx
         1D:D7B9  85 FA      			sta.l	_bx
         1D:D7BB  84 FB      			sty.h	_bx
 5419                        		__ld.wm		_vdc_map_pxl_y
         1D:D7BD  AD CB 26   			lda.l	_vdc_map_pxl_y
         1D:D7C0  AC CC 26   			ldy.h	_vdc_map_pxl_y
 5420                        		__and.wi	511
         1D:D7C3  29 FF      			and.l	#511
         1D:D7C5  42         			say
         1D:D7C6  29 01      			and.h	#511
         1D:D7C8  42         			say
 5421                        		__st.wmq	_cx
         1D:D7C9  85 FC      			sta.l	_cx
         1D:D7CB  84 FD      			sty.h	_cx
 5422                        		__st.umiq	192, _dl
         1D:D7CD  A9 C0      			lda.l	#192
         1D:D7CF  85 FE      			sta	_dl
 5423                        		__call		_scroll_split.5
         1D:D7D1  20 81 FF   			call	_scroll_split.5
 5424                        	
 5425                        		.dbg	line,	"include\routines_INTRO.c", 369; load_palette( 0, palette_INTRO_3, 1 );
 5426                        		__st.umiq	0, _al
         1D:D7D4  64 F8      			stz	_al
 5427                        		__farptr	_palette_INTRO_3, _bp_bank, _bp
         1D:D7D6  A9 E0      			lda.l	#$6000 + ($1FFF & (_palette_INTRO_3))
         1D:D7D8  85 EC      			sta.l	_bp
         1D:D7DA  A9 7A      			lda.h	#$6000 + ($1FFF & (_palette_INTRO_3))
         1D:D7DC  85 ED      			sta.h	_bp
         1D:D7DE  A9 06      			lda	#bank(_palette_INTRO_3)
         1D:D7E0  85 02      			sta	_bp_bank
 5428                        		__st.umiq	1, _ah
         1D:D7E2  A9 01      			lda.l	#1
         1D:D7E4  85 F9      			sta	_ah
 5429                        		__call		_load_palette.3
         1D:D7E6  20 8B FF   			call	_load_palette.3
 5430                        	
 5431                        		.dbg	line,	"include\routines_INTRO.c", 370; }
 5432                        	
 5433                        		.dbg	line,	"include\routines_INTRO.c", 372; else if(global_counter == 178)
 5434                        		__bra		.LL155
         1D:D7E9  4C 64 DA   			bra	.LL155
 5435    1D:D7EC             	.LL154:
 5436                        		__ld.wm		_global_counter
         1D:D7EC  AD 50 26   			lda.l	_global_counter
         1D:D7EF  AC 51 26   			ldy.h	_global_counter
 5437                        		__equ_w.wi	178
         1D:D7F2  C9 B2      			cmp.l	#178
         1D:D7F4  D0 04      			bne	!false+
         1D:D7F6  C0 00      			cpy.h	#178
         1D:D7F8  F0 01      			beq	!+
         1D:D7FA  18         	!false:		clc
         1D:D7FB             	!:
 5438                        		__bfalse	.LL156
         1D:D7FB  90 24      			bcc	.LL156
 5439                        	
 5440                        		.dbg	line,	"include\routines_INTRO.c", 373; {
 5441                        	
 5442                        		.dbg	line,	"include\routines_INTRO.c", 374; for(i=0 ; i<8 ; i++)
 5443                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         1D:D7FD  9C 22 2C   			stz	__sequence_INTRO_end - 1
 5444    1D:D800             	.LL157:
 5445                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:D800  AD 22 2C   			lda	__sequence_INTRO_end - 1
 5446                        		__ult_b.uiq	8
         1D:D803  C9 08      			cmp	#8		; Subtract integer from A.
         1D:D805  6A         			ror	a		; CC if A < integer.
         1D:D806  49 80      			eor	#$80
         1D:D808  2A         			rol	a
 5447                        		__btrue		.LL159
         1D:D809  B0 08      			bcs	.LL159
 5448                        		__bra		.LL160
         1D:D80B  4C 64 DA   			bra	.LL160
 5449    1D:D80E             	.LL158:
 5450                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         1D:D80E  EE 22 2C   			inc	__sequence_INTRO_end - 1
 5451                        		__bra		.LL157
         1D:D811  80 ED      			bra	.LL157
 5452    1D:D813             	.LL159:
 5453                        	
 5454                        		.dbg	line,	"include\routines_INTRO.c", 375; {
 5455                        	
 5456                        		.dbg	line,	"include\routines_INTRO.c", 376; sgx_spr_set(i);
 5457                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:D813  AD 22 2C   			lda	__sequence_INTRO_end - 1
 5458                        		__call		_sgx_spr_set.1
         1D:D816  20 9E E8   			call	_sgx_spr_set.1
 5459                        	
 5460                        		.dbg	line,	"include\routines_INTRO.c", 377; sgx_spr_hide();
 5461                        		__call		_sgx_spr_hide
         1D:D819  20 B9 E8   			call	_sgx_spr_hide
 5462                        	
 5463                        		.dbg	line,	"include\routines_INTRO.c", 378; }
 5464                        		__bra		.LL158
         1D:D81C  80 F0      			bra	.LL158
 5465    1D:D81E             	.LL160	.alias		.LL161
 5466                        	
 5467                        		.dbg	line,	"include\routines_INTRO.c", 379; }
 5468                        	
 5469                        		.dbg	line,	"include\routines_INTRO.c", 381; else if(global_counter == 180)
 5470                        		__bra		.LL161
         1D:D81E  4C 64 DA   			bra	.LL161
 5471    1D:D821             	.LL156:
 5472                        		__ld.wm		_global_counter
         1D:D821  AD 50 26   			lda.l	_global_counter
         1D:D824  AC 51 26   			ldy.h	_global_counter
 5473                        		__equ_w.wi	180
         1D:D827  C9 B4      			cmp.l	#180
         1D:D829  D0 04      			bne	!false+
         1D:D82B  C0 00      			cpy.h	#180
         1D:D82D  F0 01      			beq	!+
         1D:D82F  18         	!false:		clc
         1D:D830             	!:
 5474                        		__bfalse	.LL162
         1D:D830  90 76      			bcc	.LL162
 5475                        	
 5476                        		.dbg	line,	"include\routines_INTRO.c", 382; {
 5477                        	
 5478                        		.dbg	line,	"include\routines_INTRO.c", 383; for(i=0 ; i<8 ; i++)
 5479                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         1D:D832  9C 22 2C   			stz	__sequence_INTRO_end - 1
 5480    1D:D835             	.LL163:
 5481                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:D835  AD 22 2C   			lda	__sequence_INTRO_end - 1
 5482                        		__ult_b.uiq	8
         1D:D838  C9 08      			cmp	#8		; Subtract integer from A.
         1D:D83A  6A         			ror	a		; CC if A < integer.
         1D:D83B  49 80      			eor	#$80
         1D:D83D  2A         			rol	a
 5483                        		__btrue		.LL165
         1D:D83E  B0 08      			bcs	.LL165
 5484                        		__bra		.LL166
         1D:D840  4C 64 DA   			bra	.LL166
 5485    1D:D843             	.LL164:
 5486                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         1D:D843  EE 22 2C   			inc	__sequence_INTRO_end - 1
 5487                        		__bra		.LL163
         1D:D846  80 ED      			bra	.LL163
 5488    1D:D848             	.LL165:
 5489                        	
 5490                        		.dbg	line,	"include\routines_INTRO.c", 384; {
 5491                        	
 5492                        		.dbg	line,	"include\routines_INTRO.c", 385; sgx_spr_set(i);
 5493                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:D848  AD 22 2C   			lda	__sequence_INTRO_end - 1
 5494                        		__call		_sgx_spr_set.1
         1D:D84B  20 9E E8   			call	_sgx_spr_set.1
 5495                        	
 5496                        		.dbg	line,	"include\routines_INTRO.c", 386; sgx_spr_x(player_pos_x + (i<<5) - ((i>>2)<<7));
 5497                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         1D:D84E  AD 22 2C   			lda	__sequence_INTRO_end - 1
         1D:D851  C2         			cly
 5498                        		__asl.wi	5
         1D:D852  85 00      			sta	__temp
         1D:D854  98         			tya
         1D:D855  4A         			lsr	a
         1D:D856  20 C8 E1   			jsr	aslw5
         1D:D859  29 E0      			and.l	#$FF << 5
 5499                        		__add.wm	_player_pos_x
         1D:D85B  18         			clc
         1D:D85C  6D F6 24   			adc.l	_player_pos_x
         1D:D85F  42         			say
         1D:D860  6D F7 24   			adc.h	_player_pos_x
         1D:D863  42         			say
 5500                        		__push.wr
         1D:D864  5A         			phy
         1D:D865  48         			pha
 5501                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         1D:D866  AD 22 2C   			lda	__sequence_INTRO_end - 1
         1D:D869  C2         			cly
 5502                        		__lsr.uiq	2
         1D:D86A  4A         			lsr	a
         1D:D86B  4A         			lsr	a
 5503                        		__asl.wi	7
         1D:D86C  42         			say
         1D:D86D  4A         			lsr	a
         1D:D86E  42         			say
         1D:D86F  6A         			ror	a
         1D:D870  42         			say
         1D:D871  6A         			ror	a
         1D:D872  29 80      			and	#$80
 5504                        		__sub.wt
         1D:D874  BA         			tsx
         1D:D875  38         			sec
         1D:D876  49 FF      			eor	#$FF
         1D:D878  7D 01 21   			adc.l	__tos, x
         1D:D87B  42         			say
         1D:D87C  49 FF      			eor	#$FF
         1D:D87E  7D 02 21   			adc.h	__tos, x
         1D:D881  42         			say
         1D:D882  E8         			inx
         1D:D883  E8         			inx
         1D:D884  9A         			txs
 5505                        		__call		_sgx_spr_x.1
         1D:D885  20 CB E8   			call	_sgx_spr_x.1
 5506                        	
 5507                        		.dbg	line,	"include\routines_INTRO.c", 387; sgx_spr_y(player_pos_y + ((i>>2)<<5));
 5508                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         1D:D888  AD 22 2C   			lda	__sequence_INTRO_end - 1
         1D:D88B  C2         			cly
 5509                        		__lsr.uiq	2
         1D:D88C  4A         			lsr	a
         1D:D88D  4A         			lsr	a
 5510                        		__asl.wi	5
         1D:D88E  85 00      			sta	__temp
         1D:D890  98         			tya
         1D:D891  4A         			lsr	a
         1D:D892  20 C8 E1   			jsr	aslw5
         1D:D895  29 E0      			and.l	#$FF << 5
 5511                        		__add.wm	_player_pos_y
         1D:D897  18         			clc
         1D:D898  6D F8 24   			adc.l	_player_pos_y
         1D:D89B  42         			say
         1D:D89C  6D F9 24   			adc.h	_player_pos_y
         1D:D89F  42         			say
 5512                        		__call		_sgx_spr_y.1
         1D:D8A0  20 DA E8   			call	_sgx_spr_y.1
 5513                        	
 5514                        		.dbg	line,	"include\routines_INTRO.c", 388; }
 5515                        		__bra		.LL164
         1D:D8A3  80 9E      			bra	.LL164
 5516    1D:D8A5             	.LL166	.alias		.LL167
 5517                        	
 5518                        		.dbg	line,	"include\routines_INTRO.c", 389; }
 5519                        	
 5520                        		.dbg	line,	"include\routines_INTRO.c", 391; else if(global_counter == 181)
 5521                        		__bra		.LL167
         1D:D8A5  4C 64 DA   			bra	.LL167
 5522    1D:D8A8             	.LL162:
 5523                        		__ld.wm		_global_counter
         1D:D8A8  AD 50 26   			lda.l	_global_counter
         1D:D8AB  AC 51 26   			ldy.h	_global_counter
 5524                        		__equ_w.wi	181
         1D:D8AE  C9 B5      			cmp.l	#181
         1D:D8B0  D0 04      			bne	!false+
         1D:D8B2  C0 00      			cpy.h	#181
         1D:D8B4  F0 01      			beq	!+
         1D:D8B6  18         	!false:		clc
         1D:D8B7             	!:
 5525                        		__bfalse	.LL168
         1D:D8B7  90 4F      			bcc	.LL168
 5526                        	
 5527                        		.dbg	line,	"include\routines_INTRO.c", 392; {
 5528                        	
 5529                        		.dbg	line,	"include\routines_INTRO.c", 393; vdc_map_pxl_x = 0;
 5530                        		__st.wmiq	0, _vdc_map_pxl_x
         1D:D8B9  9C C9 26   			stz.l	_vdc_map_pxl_x
         1D:D8BC  9C CA 26   			stz.h	_vdc_map_pxl_x
 5531                        	
 5532                        		.dbg	line,	"include\routines_INTRO.c", 394; vdc_map_pxl_y = 0;
 5533                        		__st.wmiq	0, _vdc_map_pxl_y
         1D:D8BF  9C CB 26   			stz.l	_vdc_map_pxl_y
         1D:D8C2  9C CC 26   			stz.h	_vdc_map_pxl_y
 5534                        	
 5535                        		.dbg	line,	"include\routines_INTRO.c", 395; scroll_split(0,   0, vdc_map_pxl_x & (511), vdc_map_pxl_y & (511), BKG_ON | SPR_ON);
 5536                        		__st.umiq	0, _al
         1D:D8C5  64 F8      			stz	_al
 5537                        		__st.umiq	0, _ah
         1D:D8C7  64 F9      			stz	_ah
 5538                        		__ld.wm		_vdc_map_pxl_x
         1D:D8C9  AD C9 26   			lda.l	_vdc_map_pxl_x
         1D:D8CC  AC CA 26   			ldy.h	_vdc_map_pxl_x
 5539                        		__and.wi	511
         1D:D8CF  29 FF      			and.l	#511
         1D:D8D1  42         			say
         1D:D8D2  29 01      			and.h	#511
         1D:D8D4  42         			say
 5540                        		__st.wmq	_bx
         1D:D8D5  85 FA      			sta.l	_bx
         1D:D8D7  84 FB      			sty.h	_bx
 5541                        		__ld.wm		_vdc_map_pxl_y
         1D:D8D9  AD CB 26   			lda.l	_vdc_map_pxl_y
         1D:D8DC  AC CC 26   			ldy.h	_vdc_map_pxl_y
 5542                        		__and.wi	511
         1D:D8DF  29 FF      			and.l	#511
         1D:D8E1  42         			say
         1D:D8E2  29 01      			and.h	#511
         1D:D8E4  42         			say
 5543                        		__st.wmq	_cx
         1D:D8E5  85 FC      			sta.l	_cx
         1D:D8E7  84 FD      			sty.h	_cx
 5544                        		__st.umiq	192, _dl
         1D:D8E9  A9 C0      			lda.l	#192
         1D:D8EB  85 FE      			sta	_dl
 5545                        		__call		_scroll_split.5
         1D:D8ED  20 81 FF   			call	_scroll_split.5
 5546                        	
 5547                        		.dbg	line,	"include\routines_INTRO.c", 397; load_palette( 0, palette_INTRO_3, 1 );
 5548                        		__st.umiq	0, _al
         1D:D8F0  64 F8      			stz	_al
 5549                        		__farptr	_palette_INTRO_3, _bp_bank, _bp
         1D:D8F2  A9 E0      			lda.l	#$6000 + ($1FFF & (_palette_INTRO_3))
         1D:D8F4  85 EC      			sta.l	_bp
         1D:D8F6  A9 7A      			lda.h	#$6000 + ($1FFF & (_palette_INTRO_3))
         1D:D8F8  85 ED      			sta.h	_bp
         1D:D8FA  A9 06      			lda	#bank(_palette_INTRO_3)
         1D:D8FC  85 02      			sta	_bp_bank
 5550                        		__st.umiq	1, _ah
         1D:D8FE  A9 01      			lda.l	#1
         1D:D900  85 F9      			sta	_ah
 5551                        		__call		_load_palette.3
         1D:D902  20 8B FF   			call	_load_palette.3
 5552                        	
 5553                        		.dbg	line,	"include\routines_INTRO.c", 398; }
 5554                        	
 5555                        		.dbg	line,	"include\routines_INTRO.c", 400; else if(global_counter == 182)
 5556                        		__bra		.LL169
         1D:D905  4C 64 DA   			bra	.LL169
 5557    1D:D908             	.LL168:
 5558                        		__ld.wm		_global_counter
         1D:D908  AD 50 26   			lda.l	_global_counter
         1D:D90B  AC 51 26   			ldy.h	_global_counter
 5559                        		__equ_w.wi	182
         1D:D90E  C9 B6      			cmp.l	#182
         1D:D910  D0 04      			bne	!false+
         1D:D912  C0 00      			cpy.h	#182
         1D:D914  F0 01      			beq	!+
         1D:D916  18         	!false:		clc
         1D:D917             	!:
 5560                        		__bfalse	.LL170
         1D:D917  90 38      			bcc	.LL170
 5561                        	
 5562                        		.dbg	line,	"include\routines_INTRO.c", 401; {
 5563                        	
 5564                        		.dbg	line,	"include\routines_INTRO.c", 402; for(i=0 ; i<8 ; i++)
 5565                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         1D:D919  9C 22 2C   			stz	__sequence_INTRO_end - 1
 5566    1D:D91C             	.LL171:
 5567                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:D91C  AD 22 2C   			lda	__sequence_INTRO_end - 1
 5568                        		__ult_b.uiq	8
         1D:D91F  C9 08      			cmp	#8		; Subtract integer from A.
         1D:D921  6A         			ror	a		; CC if A < integer.
         1D:D922  49 80      			eor	#$80
         1D:D924  2A         			rol	a
 5569                        		__btrue		.LL173
         1D:D925  B0 07      			bcs	.LL173
 5570                        		__bra		.LL174
         1D:D927  80 10      			bra	.LL174
 5571    1D:D929             	.LL172:
 5572                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         1D:D929  EE 22 2C   			inc	__sequence_INTRO_end - 1
 5573                        		__bra		.LL171
         1D:D92C  80 EE      			bra	.LL171
 5574    1D:D92E             	.LL173:
 5575                        	
 5576                        		.dbg	line,	"include\routines_INTRO.c", 403; {
 5577                        	
 5578                        		.dbg	line,	"include\routines_INTRO.c", 404; sgx_spr_set(i);
 5579                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:D92E  AD 22 2C   			lda	__sequence_INTRO_end - 1
 5580                        		__call		_sgx_spr_set.1
         1D:D931  20 9E E8   			call	_sgx_spr_set.1
 5581                        	
 5582                        		.dbg	line,	"include\routines_INTRO.c", 405; sgx_spr_hide();
 5583                        		__call		_sgx_spr_hide
         1D:D934  20 B9 E8   			call	_sgx_spr_hide
 5584                        	
 5585                        		.dbg	line,	"include\routines_INTRO.c", 406; }
 5586                        		__bra		.LL172
         1D:D937  80 F0      			bra	.LL172
 5587    1D:D939             	.LL174:
 5588                        	
 5589                        		.dbg	line,	"include\routines_INTRO.c", 408; load_palette( 0, palette_INTRO_2, 1 );
 5590                        		__st.umiq	0, _al
         1D:D939  64 F8      			stz	_al
 5591                        		__farptr	_palette_INTRO_2, _bp_bank, _bp
         1D:D93B  A9 E0      			lda.l	#$6000 + ($1FFF & (_palette_INTRO_2))
         1D:D93D  85 EC      			sta.l	_bp
         1D:D93F  A9 78      			lda.h	#$6000 + ($1FFF & (_palette_INTRO_2))
         1D:D941  85 ED      			sta.h	_bp
         1D:D943  A9 06      			lda	#bank(_palette_INTRO_2)
         1D:D945  85 02      			sta	_bp_bank
 5592                        		__st.umiq	1, _ah
         1D:D947  A9 01      			lda.l	#1
         1D:D949  85 F9      			sta	_ah
 5593                        		__call		_load_palette.3
         1D:D94B  20 8B FF   			call	_load_palette.3
 5594                        	
 5595                        		.dbg	line,	"include\routines_INTRO.c", 409; }
 5596                        	
 5597                        		.dbg	line,	"include\routines_INTRO.c", 411; else if(global_counter == 184)
 5598                        		__bra		.LL175
         1D:D94E  4C 64 DA   			bra	.LL175
 5599    1D:D951             	.LL170:
 5600                        		__ld.wm		_global_counter
         1D:D951  AD 50 26   			lda.l	_global_counter
         1D:D954  AC 51 26   			ldy.h	_global_counter
 5601                        		__equ_w.wi	184
         1D:D957  C9 B8      			cmp.l	#184
         1D:D959  D0 04      			bne	!false+
         1D:D95B  C0 00      			cpy.h	#184
         1D:D95D  F0 01      			beq	!+
         1D:D95F  18         	!false:		clc
         1D:D960             	!:
 5602                        		__bfalse	.LL176
         1D:D960  90 76      			bcc	.LL176
 5603                        	
 5604                        		.dbg	line,	"include\routines_INTRO.c", 412; {
 5605                        	
 5606                        		.dbg	line,	"include\routines_INTRO.c", 413; for(i=0 ; i<8 ; i++)
 5607                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         1D:D962  9C 22 2C   			stz	__sequence_INTRO_end - 1
 5608    1D:D965             	.LL177:
 5609                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:D965  AD 22 2C   			lda	__sequence_INTRO_end - 1
 5610                        		__ult_b.uiq	8
         1D:D968  C9 08      			cmp	#8		; Subtract integer from A.
         1D:D96A  6A         			ror	a		; CC if A < integer.
         1D:D96B  49 80      			eor	#$80
         1D:D96D  2A         			rol	a
 5611                        		__btrue		.LL179
         1D:D96E  B0 08      			bcs	.LL179
 5612                        		__bra		.LL180
         1D:D970  4C 64 DA   			bra	.LL180
 5613    1D:D973             	.LL178:
 5614                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         1D:D973  EE 22 2C   			inc	__sequence_INTRO_end - 1
 5615                        		__bra		.LL177
         1D:D976  80 ED      			bra	.LL177
 5616    1D:D978             	.LL179:
 5617                        	
 5618                        		.dbg	line,	"include\routines_INTRO.c", 414; {
 5619                        	
 5620                        		.dbg	line,	"include\routines_INTRO.c", 415; sgx_spr_set(i);
 5621                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:D978  AD 22 2C   			lda	__sequence_INTRO_end - 1
 5622                        		__call		_sgx_spr_set.1
         1D:D97B  20 9E E8   			call	_sgx_spr_set.1
 5623                        	
 5624                        		.dbg	line,	"include\routines_INTRO.c", 416; sgx_spr_x(player_pos_x + (i<<5) - ((i>>2)<<7));
 5625                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         1D:D97E  AD 22 2C   			lda	__sequence_INTRO_end - 1
         1D:D981  C2         			cly
 5626                        		__asl.wi	5
         1D:D982  85 00      			sta	__temp
         1D:D984  98         			tya
         1D:D985  4A         			lsr	a
         1D:D986  20 C8 E1   			jsr	aslw5
         1D:D989  29 E0      			and.l	#$FF << 5
 5627                        		__add.wm	_player_pos_x
         1D:D98B  18         			clc
         1D:D98C  6D F6 24   			adc.l	_player_pos_x
         1D:D98F  42         			say
         1D:D990  6D F7 24   			adc.h	_player_pos_x
         1D:D993  42         			say
 5628                        		__push.wr
         1D:D994  5A         			phy
         1D:D995  48         			pha
 5629                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         1D:D996  AD 22 2C   			lda	__sequence_INTRO_end - 1
         1D:D999  C2         			cly
 5630                        		__lsr.uiq	2
         1D:D99A  4A         			lsr	a
         1D:D99B  4A         			lsr	a
 5631                        		__asl.wi	7
         1D:D99C  42         			say
         1D:D99D  4A         			lsr	a
         1D:D99E  42         			say
         1D:D99F  6A         			ror	a
         1D:D9A0  42         			say
         1D:D9A1  6A         			ror	a
         1D:D9A2  29 80      			and	#$80
 5632                        		__sub.wt
         1D:D9A4  BA         			tsx
         1D:D9A5  38         			sec
         1D:D9A6  49 FF      			eor	#$FF
         1D:D9A8  7D 01 21   			adc.l	__tos, x
         1D:D9AB  42         			say
         1D:D9AC  49 FF      			eor	#$FF
         1D:D9AE  7D 02 21   			adc.h	__tos, x
         1D:D9B1  42         			say
         1D:D9B2  E8         			inx
         1D:D9B3  E8         			inx
         1D:D9B4  9A         			txs
 5633                        		__call		_sgx_spr_x.1
         1D:D9B5  20 CB E8   			call	_sgx_spr_x.1
 5634                        	
 5635                        		.dbg	line,	"include\routines_INTRO.c", 417; sgx_spr_y(player_pos_y + ((i>>2)<<5));
 5636                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         1D:D9B8  AD 22 2C   			lda	__sequence_INTRO_end - 1
         1D:D9BB  C2         			cly
 5637                        		__lsr.uiq	2
         1D:D9BC  4A         			lsr	a
         1D:D9BD  4A         			lsr	a
 5638                        		__asl.wi	5
         1D:D9BE  85 00      			sta	__temp
         1D:D9C0  98         			tya
         1D:D9C1  4A         			lsr	a
         1D:D9C2  20 C8 E1   			jsr	aslw5
         1D:D9C5  29 E0      			and.l	#$FF << 5
 5639                        		__add.wm	_player_pos_y
         1D:D9C7  18         			clc
         1D:D9C8  6D F8 24   			adc.l	_player_pos_y
         1D:D9CB  42         			say
         1D:D9CC  6D F9 24   			adc.h	_player_pos_y
         1D:D9CF  42         			say
 5640                        		__call		_sgx_spr_y.1
         1D:D9D0  20 DA E8   			call	_sgx_spr_y.1
 5641                        	
 5642                        		.dbg	line,	"include\routines_INTRO.c", 418; }
 5643                        		__bra		.LL178
         1D:D9D3  80 9E      			bra	.LL178
 5644    1D:D9D5             	.LL180	.alias		.LL181
 5645                        	
 5646                        		.dbg	line,	"include\routines_INTRO.c", 419; }
 5647                        	
 5648                        		.dbg	line,	"include\routines_INTRO.c", 421; else if(global_counter == 186)
 5649                        		__bra		.LL181
         1D:D9D5  4C 64 DA   			bra	.LL181
 5650    1D:D9D8             	.LL176:
 5651                        		__ld.wm		_global_counter
         1D:D9D8  AD 50 26   			lda.l	_global_counter
         1D:D9DB  AC 51 26   			ldy.h	_global_counter
 5652                        		__equ_w.wi	186
         1D:D9DE  C9 BA      			cmp.l	#186
         1D:D9E0  D0 04      			bne	!false+
         1D:D9E2  C0 00      			cpy.h	#186
         1D:D9E4  F0 01      			beq	!+
         1D:D9E6  18         	!false:		clc
         1D:D9E7             	!:
 5653                        		__bfalse	.LL182
         1D:D9E7  90 37      			bcc	.LL182
 5654                        	
 5655                        		.dbg	line,	"include\routines_INTRO.c", 422; {
 5656                        	
 5657                        		.dbg	line,	"include\routines_INTRO.c", 423; for(i=0 ; i<8 ; i++)
 5658                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         1D:D9E9  9C 22 2C   			stz	__sequence_INTRO_end - 1
 5659    1D:D9EC             	.LL183:
 5660                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:D9EC  AD 22 2C   			lda	__sequence_INTRO_end - 1
 5661                        		__ult_b.uiq	8
         1D:D9EF  C9 08      			cmp	#8		; Subtract integer from A.
         1D:D9F1  6A         			ror	a		; CC if A < integer.
         1D:D9F2  49 80      			eor	#$80
         1D:D9F4  2A         			rol	a
 5662                        		__btrue		.LL185
         1D:D9F5  B0 07      			bcs	.LL185
 5663                        		__bra		.LL186
         1D:D9F7  80 10      			bra	.LL186
 5664    1D:D9F9             	.LL184:
 5665                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         1D:D9F9  EE 22 2C   			inc	__sequence_INTRO_end - 1
 5666                        		__bra		.LL183
         1D:D9FC  80 EE      			bra	.LL183
 5667    1D:D9FE             	.LL185:
 5668                        	
 5669                        		.dbg	line,	"include\routines_INTRO.c", 424; {
 5670                        	
 5671                        		.dbg	line,	"include\routines_INTRO.c", 425; sgx_spr_set(i);
 5672                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:D9FE  AD 22 2C   			lda	__sequence_INTRO_end - 1
 5673                        		__call		_sgx_spr_set.1
         1D:DA01  20 9E E8   			call	_sgx_spr_set.1
 5674                        	
 5675                        		.dbg	line,	"include\routines_INTRO.c", 426; sgx_spr_hide();
 5676                        		__call		_sgx_spr_hide
         1D:DA04  20 B9 E8   			call	_sgx_spr_hide
 5677                        	
 5678                        		.dbg	line,	"include\routines_INTRO.c", 427; }
 5679                        		__bra		.LL184
         1D:DA07  80 F0      			bra	.LL184
 5680    1D:DA09             	.LL186:
 5681                        	
 5682                        		.dbg	line,	"include\routines_INTRO.c", 429; load_palette( 0, palette_INTRO_2, 1 );
 5683                        		__st.umiq	0, _al
         1D:DA09  64 F8      			stz	_al
 5684                        		__farptr	_palette_INTRO_2, _bp_bank, _bp
         1D:DA0B  A9 E0      			lda.l	#$6000 + ($1FFF & (_palette_INTRO_2))
         1D:DA0D  85 EC      			sta.l	_bp
         1D:DA0F  A9 78      			lda.h	#$6000 + ($1FFF & (_palette_INTRO_2))
         1D:DA11  85 ED      			sta.h	_bp
         1D:DA13  A9 06      			lda	#bank(_palette_INTRO_2)
         1D:DA15  85 02      			sta	_bp_bank
 5685                        		__st.umiq	1, _ah
         1D:DA17  A9 01      			lda.l	#1
         1D:DA19  85 F9      			sta	_ah
 5686                        		__call		_load_palette.3
         1D:DA1B  20 8B FF   			call	_load_palette.3
 5687                        	
 5688                        		.dbg	line,	"include\routines_INTRO.c", 430; }
 5689                        	
 5690                        		.dbg	line,	"include\routines_INTRO.c", 432; else if(global_counter == 731)
 5691                        		__bra		.LL187
         1D:DA1E  80 44      			bra	.LL187
 5692    1D:DA20             	.LL182:
 5693                        		__ld.wm		_global_counter
         1D:DA20  AD 50 26   			lda.l	_global_counter
         1D:DA23  AC 51 26   			ldy.h	_global_counter
 5694                        		__equ_w.wi	731
         1D:DA26  C9 DB      			cmp.l	#731
         1D:DA28  D0 04      			bne	!false+
         1D:DA2A  C0 02      			cpy.h	#731
         1D:DA2C  F0 01      			beq	!+
         1D:DA2E  18         	!false:		clc
         1D:DA2F             	!:
 5695                        		__bfalse	.LL188
         1D:DA2F  90 17      			bcc	.LL188
 5696                        	
 5697                        		.dbg	line,	"include\routines_INTRO.c", 433; {
 5698                        	
 5699                        		.dbg	line,	"include\routines_INTRO.c", 434; load_palette( 0, palette_BLACK, 1 );
 5700                        		__st.umiq	0, _al
         1D:DA31  64 F8      			stz	_al
 5701                        		__farptr	_palette_BLACK, _bp_bank, _bp
         1D:DA33  A9 00      			lda.l	#$6000 + ($1FFF & (_palette_BLACK))
         1D:DA35  85 EC      			sta.l	_bp
         1D:DA37  A9 6E      			lda.h	#$6000 + ($1FFF & (_palette_BLACK))
         1D:DA39  85 ED      			sta.h	_bp
         1D:DA3B  A9 03      			lda	#bank(_palette_BLACK)
         1D:DA3D  85 02      			sta	_bp_bank
 5702                        		__st.umiq	1, _ah
         1D:DA3F  A9 01      			lda.l	#1
         1D:DA41  85 F9      			sta	_ah
 5703                        		__call		_load_palette.3
         1D:DA43  20 8B FF   			call	_load_palette.3
 5704                        	
 5705                        		.dbg	line,	"include\routines_INTRO.c", 435; }
 5706                        	
 5707                        		.dbg	line,	"include\routines_INTRO.c", 437; else if(global_counter == 851)
 5708                        		__bra		.LL189
         1D:DA46  80 1C      			bra	.LL189
 5709    1D:DA48             	.LL188:
 5710                        		__ld.wm		_global_counter
         1D:DA48  AD 50 26   			lda.l	_global_counter
         1D:DA4B  AC 51 26   			ldy.h	_global_counter
 5711                        		__equ_w.wi	851
         1D:DA4E  C9 53      			cmp.l	#851
         1D:DA50  D0 04      			bne	!false+
         1D:DA52  C0 03      			cpy.h	#851
         1D:DA54  F0 01      			beq	!+
         1D:DA56  18         	!false:		clc
         1D:DA57             	!:
 5712                        		__bfalse	.LL190
         1D:DA57  90 0B      			bcc	.LL190
 5713                        	
 5714                        		.dbg	line,	"include\routines_INTRO.c", 438; {
 5715                        	
 5716                        		.dbg	line,	"include\routines_INTRO.c", 439; // DISABLE DISPLAY //
 5717                        	
 5718                        		.dbg	line,	"include\routines_INTRO.c", 440; disp_off();
 5719                        		__call		_disp_off
         1D:DA59  20 3D E4   			call	_disp_off
 5720                        	
 5721                        		.dbg	line,	"include\routines_INTRO.c", 442; sequence_loaded = FALSE;
 5722                        		__st.umiq	0, _sequence_loaded
         1D:DA5C  9C 14 23   			stz	_sequence_loaded
 5723                        	
 5724                        		.dbg	line,	"include\routines_INTRO.c", 444; sequence_id = SEQUENCE_LEVEL;
 5725                        		__st.umiq	2, _sequence_id
         1D:DA5F  A9 02      			lda.l	#2
         1D:DA61  8D 13 23   			sta	_sequence_id
 5726                        	
 5727                        		.dbg	line,	"include\routines_INTRO.c", 445; }
 5728                        	
 5729                        		.dbg	line,	"include\routines_INTRO.c", 450; //--------------------------------------------------------------------------------------//
 5730                        	
 5731                        		.dbg	line,	"include\routines_INTRO.c", 451; //                                     TEXT DISPLAY                                     //
 5732                        	
 5733                        		.dbg	line,	"include\routines_INTRO.c", 452; //--------------------------------------------------------------------------------------//
 5734                        	
 5735                        		.dbg	line,	"include\routines_INTRO.c", 453; 
 5736                        	
 5737                        		.dbg	line,	"include\routines_INTRO.c", 454; if(global_counter > 241)
 5738    1D:DA64             	.LL190:
 5739    1D:DA64             	.LL189:
 5740    1D:DA64             	.LL187:
 5741    1D:DA64             	.LL181:
 5742    1D:DA64             	.LL175:
 5743    1D:DA64             	.LL169:
 5744    1D:DA64             	.LL167:
 5745    1D:DA64             	.LL161:
 5746    1D:DA64             	.LL155:
 5747    1D:DA64             	.LL153:
 5748    1D:DA64             	.LL147:
 5749    1D:DA64             	.LL141:
 5750    1D:DA64             	.LL139:
 5751    1D:DA64             	.LL133:
 5752    1D:DA64             	.LL127:
 5753    1D:DA64             	.LL121:
 5754    1D:DA64             	.LL115:
 5755    1D:DA64             	.LL109:
 5756    1D:DA64             	.LL107:
 5757    1D:DA64             	.LL101:
 5758    1D:DA64             	.LL95:
 5759    1D:DA64             	.LL93:
 5760    1D:DA64             	.LL87:
 5761    1D:DA64             	.LL81:
 5762    1D:DA64             	.LL75:
 5763    1D:DA64             	.LL69:
 5764    1D:DA64             	.LL63:
 5765    1D:DA64             	.LL61:
 5766    1D:DA64             	.LL59:
 5767    1D:DA64             	.LL57:
 5768    1D:DA64             	.LL55:
 5769    1D:DA64             	.LL53:
 5770    1D:DA64             	.LL51:
 5771                        		__ld.wm		_global_counter
         1D:DA64  AD 50 26   			lda.l	_global_counter
         1D:DA67  AC 51 26   			ldy.h	_global_counter
 5772                        		__sgt_w.wi	241
         1D:DA6A  18         			clc			; Subtract integer+1 from Y:A.
         1D:DA6B  E9 F1      			sbc.l	#241
         1D:DA6D  98         			tya
         1D:DA6E  E9 00      			sbc.h	#241
         1D:DA70  50 02      			bvc	!+
         1D:DA72  49 80      			eor	#$80		; +ve if Y:A > integer (signed).
         1D:DA74  49 80      	!:		eor	#$80
         1D:DA76  0A         			asl	a
 5773                        		__bfalse	.LL191
         1D:DA77  B0 03 4C FE			bcc	.LL191
         1D:DA7B  DA          
 5774                        	
 5775                        		.dbg	line,	"include\routines_INTRO.c", 455; {       
 5776                        	
 5777                        		.dbg	line,	"include\routines_INTRO.c", 456; if(letter_counter < 446)
 5778                        		__ld.wm		_letter_counter
         1D:DA7C  AD 54 26   			lda.l	_letter_counter
         1D:DA7F  AC 55 26   			ldy.h	_letter_counter
 5779                        		__slt_w.wi	446
         1D:DA82  C9 BE      			cmp.l	#446		; Subtract integer from Y:A.
         1D:DA84  98         			tya
         1D:DA85  E9 01      			sbc.h	#446
         1D:DA87  50 02      			bvc	!+
         1D:DA89  49 80      			eor	#$80		; -ve if Y:A < integer (signed).
         1D:DA8B  0A         	!:		asl	a
 5780                        		__bfalse	.LL192
         1D:DA8C  90 68      			bcc	.LL192
 5781                        	
 5782                        		.dbg	line,	"include\routines_INTRO.c", 457; {
 5783                        	
 5784                        		.dbg	line,	"include\routines_INTRO.c", 458; // EVERY 2 FRAMES //
 5785                        	
 5786                        		.dbg	line,	"include\routines_INTRO.c", 459; if(letter_counter%2 == FALSE)
 5787                        		__ld.wm		_letter_counter
         1D:DA8E  AD 54 26   			lda.l	_letter_counter
         1D:DA91  AC 55 26   			ldy.h	_letter_counter
 5788                        		__smod.wi	2
         1D:DA94  A2 02      			ldx.l	#2
         1D:DA96  86 00      			stx.l	<divisor
         1D:DA98  A2 00      			ldx.h	#2
         1D:DA9A  86 01      			stx.h	<divisor
         1D:DA9C  20 CB E4   			jsr	__modsint
 5789                        		__not.wr
         1D:DA9F  84 00      			sty	__temp
         1D:DAA1  05 00      			ora	__temp
         1D:DAA3  18         			clc
         1D:DAA4  D0 01      			bne	!+
         1D:DAA6  38         			sec
         1D:DAA7             	!:
 5790                        		__bfalse	.LL193
         1D:DAA7  90 4D      			bcc	.LL193
 5791                        	
 5792                        		.dbg	line,	"include\routines_INTRO.c", 460; {            
 5793                        	
 5794                        		.dbg	line,	"include\routines_INTRO.c", 461; put_char(TABLE_INTRO_TEXT[letter_index] , 2 + index_x , 4 + ((letter_index / 28) << 1));
 5795                        		__ldx.wmq	_letter_index
         1D:DAA9  AE 52 26   			ldx.l	_letter_index
 5796                        		__ld.uax	_TABLE_INTRO_TEXT
         1D:DAAC  BD D8 60   			lda	_TABLE_INTRO_TEXT, x
         1D:DAAF  C2         			cly
 5797                        		__st.umq	_bl
         1D:DAB0  85 FA      			sta	_bl
 5798                        		__ld.wi		2
         1D:DAB2  A9 02      			lda.l	#2
         1D:DAB4  C2         			cly
 5799                        		__add.um	_index_x
         1D:DAB5  18         			clc
         1D:DAB6  6D F0 23   			adc	_index_x
         1D:DAB9  90 01      			bcc	!+
         1D:DABB  C8         			iny
         1D:DABC             	!:
 5800                        		__st.umq	_dil
         1D:DABC  85 F0      			sta	_dil
 5801                        		__ld.wm		_letter_index
         1D:DABE  AD 52 26   			lda.l	_letter_index
         1D:DAC1  AC 53 26   			ldy.h	_letter_index
 5802                        		__sdiv.wi	28
         1D:DAC4  A2 1C      			ldx.l	#28
         1D:DAC6  86 00      			stx.l	<divisor
         1D:DAC8  A2 00      			ldx.h	#28
         1D:DACA  86 01      			stx.h	<divisor
         1D:DACC  20 C3 E4   			jsr	__divsint
 5803                        		__asl.wi	1
         1D:DACF  0A         			asl	a
         1D:DAD0  42         			say
         1D:DAD1  2A         			rol	a
         1D:DAD2  42         			say
 5804                        		__add.wi	4
         1D:DAD3  18         			clc
         1D:DAD4  69 04      			adc.l	#4
         1D:DAD6  90 01      			bcc	!+
         1D:DAD8  C8         			iny
         1D:DAD9             	!:
 5805                        		__st.umq	_dih
         1D:DAD9  85 F1      			sta	_dih
 5806                        		__call		_put_char.3
         1D:DADB  20 77 FF   			call	_put_char.3
 5807                        	
 5808                        		.dbg	line,	"include\routines_INTRO.c", 463; letter_index += 1;
 5809                        		__add_st.wmiq	1, _letter_index
         1D:DADE  EE 52 26   			inc.l	_letter_index
         1D:DAE1  D0 03      			bne	!+
         1D:DAE3  EE 53 26   			inc.h	_letter_index
         1D:DAE6             	!:
 5810                        	
 5811                        		.dbg	line,	"include\routines_INTRO.c", 464; index_x += 1;
 5812                        		__add_st.umiq	1, _index_x
         1D:DAE6  EE F0 23   			inc	_index_x
 5813                        	
 5814                        		.dbg	line,	"include\routines_INTRO.c", 466; if(index_x == 28)
 5815                        		__ld.umq	_index_x
         1D:DAE9  AD F0 23   			lda	_index_x
 5816                        		__equ_b.uiq	28
         1D:DAEC  C9 1C      			cmp	#28
         1D:DAEE  F0 01      			beq	!+
         1D:DAF0  18         			clc
         1D:DAF1             	!:
 5817                        		__bfalse	.LL194
         1D:DAF1  90 03      			bcc	.LL194
 5818                        	
 5819                        		.dbg	line,	"include\routines_INTRO.c", 467; {
 5820                        	
 5821                        		.dbg	line,	"include\routines_INTRO.c", 468; index_x = 0;
 5822                        		__st.umiq	0, _index_x
         1D:DAF3  9C F0 23   			stz	_index_x
 5823                        	
 5824                        		.dbg	line,	"include\routines_INTRO.c", 469; }
 5825                        	
 5826                        		.dbg	line,	"include\routines_INTRO.c", 470; }
 5827    1D:DAF6             	.LL194:
 5828                        	
 5829                        		.dbg	line,	"include\routines_INTRO.c", 471; }
 5830    1D:DAF6             	.LL193:
 5831                        	
 5832                        		.dbg	line,	"include\routines_INTRO.c", 473; letter_counter += 1;
 5833    1D:DAF6             	.LL192:
 5834                        		__add_st.wmiq	1, _letter_counter
         1D:DAF6  EE 54 26   			inc.l	_letter_counter
         1D:DAF9  D0 03      			bne	!+
         1D:DAFB  EE 55 26   			inc.h	_letter_counter
         1D:DAFE             	!:
 5835                        	
 5836                        		.dbg	line,	"include\routines_INTRO.c", 474; }
 5837                        	
 5838                        		.dbg	line,	"include\routines_INTRO.c", 477; global_counter += 1;
 5839    1D:DAFE             	.LL191:
 5840                        		__add_st.wmiq	1, _global_counter
         1D:DAFE  EE 50 26   			inc.l	_global_counter
         1D:DB01  D0 03      			bne	!+
         1D:DB03  EE 51 26   			inc.h	_global_counter
         1D:DB06             	!:
 5841                        	
 5842                        		.dbg	line,	"include\routines_INTRO.c", 478; }
 5843    1D:DB06             	.LL6:
 5844                        		__return	0
         1D:DB06  4C EF FF   			jmp	leave_proc
 5845                        		.dbg	clear
 5846                        		.endp
 5847               2300     		.bss
 5848    F8:2300             	__sequence_INTRO_end	.alias	leaf_stack
 5849               E31D     		.code
 5850                        		.pceas
 5851                        	
 5852                        		.dbg	line,	"main.c", 26; #include "include/routines_LEVELS.c"
 5853                        		.dbg	line,	"include\routines_LEVELS.c", 1; #include "huc.h"
 5854                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 1; #ifndef _hucc_legacy_h
 5855                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 2; #define _hucc_legacy_h
 5856                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 4; /****************************************************************************
 5857                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 5; ; ***************************************************************************
 5858                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 6; ;
 5859                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 7; ; huc.h
 5860                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 8; ;
 5861                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 9; ; HuCC wrapper file to include a default set of HuC-compatible functions.
 5862                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 10; ;
 5863                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 11; ; Copyright John Brandwood 2024.
 5864                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 12; ;
 5865                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 5866                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 5867                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 5868                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 16; ;
 5869                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 17; ; ***************************************************************************
 5870                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 18; ; ***************************************************************************
 5871                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 19; ;
 5872                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 20; ; When the HuCC compiler is invoked with the "--legacy" option to compile old
 5873                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 21; ; projects, then this "huc.h" file is automatically included.
 5874                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 22; ;
 5875                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 23; ; This file includes a set of the individual HuCC headers which correspond to
 5876                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 24; ; HuC's built-in functions and MagicKit library.
 5877                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 25; ;
 5878                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 26; ; New HuCC projects should, preferably, include the specific headers that are
 5879                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 27; ; needed, which will then allow them to replace parts of the standard library
 5880                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 28; ; with newer functions, or they can just manually include this "huc.h" file.
 5881                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 29; ;
 5882                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 30; ; ***************************************************************************
 5883                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 31; ; **************************************************************************/
 5884                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 33; #include "hucc-systemcard.h"
 5885                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 34; #include "hucc-baselib.h"
 5886                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 35; #include "hucc-gfx.h"
 5887                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 36; #include "hucc-old-scroll.h"
 5888                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 37; #include "hucc-old-spr.h"
 5889                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 38; #include "hucc-old-map.h"
 5890                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 39; #include "hucc-old-line.h"
 5891                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 41; #include <stdlib.h>
 5892                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 42; #include <string.h>
 5893                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 44; #endif // _hucc_legacy_h
 5894                        		.dbg	line,	"include\routines_LEVELS.c", 2; #include "hucc-scroll.h"
 5895                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 1; #ifndef _hucc_scroll_h
 5896                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 2; #define _hucc_scroll_h
 5897                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 4; /****************************************************************************
 5898                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 5; ; ***************************************************************************
 5899                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 6; ;
 5900                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 7; ; hucc-scroll.h
 5901                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 8; ;
 5902                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 9; ; Routines for a fast split-screen scrolling system.
 5903                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 10; ;
 5904                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 11; ; Copyright John Brandwood 2024.
 5905                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 12; ;
 5906                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 5907                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 5908                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 5909                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 16; ;
 5910                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 17; ; ***************************************************************************
 5911                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 18; ; ***************************************************************************
 5912                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 19; ;
 5913                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 20; ; The maximum number of splits for each screen layer is set in your project's
 5914                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 21; ; "hucc-config.inc" file, with the library having a limit of 128-per-layer.
 5915                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 22; ;
 5916                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 23; ; Your first active split must be defined to start at screen line 0, and then
 5917                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 24; ; the rest of the active splits must be in increasing line order to match the
 5918                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 25; ; way that the PC Engine displays the output image.
 5919                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 26; ;
 5920                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 27; ; You can have disabled splits interleaved with your active splits.
 5921                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 28; ;
 5922                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 29; ; Splits that are normally disabled can be used to create full screen effects
 5923                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 30; ; such as bouncing the screen up and down by adding blank areas at the top or
 5924                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 31; ; bottom of the screen, and then rapidly changing the height of those areas.
 5925                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 32; ;
 5926                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 33; ; ***************************************************************************
 5927                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 34; ; **************************************************************************/
 5928                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 36; // *************
 5929                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 37; // VDC bits for display_flags ...
 5930                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 38; // *************
 5931                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 40; #ifndef BKG_OFF
 5932                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 41; #define BKG_OFF 0x00
 5933                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 42; #endif
 5934                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 44; #ifndef SPR_OFF
 5935                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 45; #define SPR_OFF 0x00
 5936                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 46; #endif
 5937                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 48; #ifndef BKG_ON
 5938                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 49; #define BKG_ON 0x80
 5939                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 50; #endif
 5940                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 52; #ifndef SPR_ON
 5941                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 53; #define SPR_ON 0x40
 5942                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 54; #endif
 5943                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 56; // *************
 5944                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 57; // Functions in hucc-scroll.asm ...
 5945                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 58; // *************
 5946                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 60; #ifdef __HUCC__
 5947                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 62; #asmdef	HUCC_USES_NEW_SCROLL 1
 5948                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 64; extern void __fastcall scroll_split( unsigned char index<_al>, unsigned char screen_line<_ah>, unsigned int bat_x<_bx>, unsigned int bat_y<_cx>, unsigned char display_flags<_dl> );
 5949                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 65; extern void __fastcall sgx_scroll_split( unsigned char index<_al>, unsigned char screen_line<_ah>, unsigned int bat_x<_bx>, unsigned int bat_y<_cx>, unsigned char display_flags<_dl> );
 5950                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 67; extern void __fastcall disable_split( unsigned char index<acc> );
 5951                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 68; extern void __fastcall sgx_disable_split( unsigned char index<acc> );
 5952                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 70; extern void __fastcall __macro disable_all_splits( void );
 5953                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 71; extern void __fastcall __macro sgx_disable_all_splits( void );
 5954                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 73; #asm
 5955                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 74; .macro	_disable_all_splits
 5956                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 75; ldy	#HUCC_PCE_SPLITS - 1
 5957                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 76; !loop:		tya
 5958                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 77; call	_disable_split.1
 5959                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 78; dey
 5960                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 79; bpl	!loop-
 5961                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 80; .endm
 5962                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 82; .macro	_sgx_disable_all_splits
 5963                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 83; ldy	#HUCC_SGX_SPLITS - 1
 5964                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 84; !loop:		tya
 5965                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 85; call	_sgx_disable_split.1
 5966                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 86; dey
 5967                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 87; bpl	!loop-
 5968                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 88; .endm
 5969                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 89; #endasm
 5970                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 91; #endif // __HUCC__
 5971                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 93; #endif // _hucc_scroll_h
 5972                        		.dbg	line,	"include\routines_LEVELS.c", 3; #include "hucc-chrmap.h"
 5973                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 1; #ifndef _hucc_chrmap_h
 5974                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 2; #define _hucc_chrmap_h
 5975                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 4; /****************************************************************************
 5976                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 5; ; ***************************************************************************
 5977                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 6; ;
 5978                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 7; ; hucc-chrmap.h
 5979                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 8; ;
 5980                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 9; ; A simple map system based on 8x8 characters (aka "tiles") in BAT format.
 5981                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 10; ;
 5982                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 11; ; Copyright John Brandwood 2025.
 5983                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 12; ;
 5984                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 5985                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 5986                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 5987                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 16; ;
 5988                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 17; ; ***************************************************************************
 5989                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 18; ; ***************************************************************************
 5990                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 19; ;
 5991                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 20; ; The maximum X and Y size for chrmaps is 256 characters (2048 pixels).
 5992                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 21; ;
 5993                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 22; ; The maximum total size for a chrmap is 16KBytes, which allows for maps up
 5994                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 23; ; to 256x32 tiles (2048x256 pixels).
 5995                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 24; ;
 5996                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 25; ; ***************************************************************************
 5997                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 26; ; **************************************************************************/
 5998                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 28; // *************
 5999                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 29; // This code extends the blkmap library ...
 6000                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 30; // *************
 6001                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 32; #include "hucc-blkmap.h"
 6002                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 34; // *************
 6003                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 35; // Functions in chrmap.asm ...
 6004                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 36; // *************
 6005                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 38; #ifdef __HUCC__
 6006                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 40; #asmdef	HUCC_USES_CHRMAP 1
 6007                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 42; extern void __fastcall __nop set_chrmap( unsigned char __far *chrmap<vdc_map_bank:vdc_map_addr>, unsigned char tiles_w<vdc_map_line_w> );
 6008                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 44; extern void __fastcall draw_bat( void );
 6009                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 45; extern void __fastcall scroll_bat( void );
 6010                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 47; extern void __fastcall blit_bat( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 6011                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 49; #ifdef _SGX
 6012                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 51; extern void __fastcall __nop sgx_set_chrmap( unsigned char __far *chrmap<sgx_map_bank:sgx_map_addr>, unsigned char tiles_w<sgx_map_line_w> );
 6013                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 53; extern void __fastcall sgx_draw_bat( void );
 6014                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 54; extern void __fastcall sgx_scroll_bat( void );
 6015                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 56; extern void __fastcall sgx_blit_bat( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 6016                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 58; #endif
 6017                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 60; #endif // __HUCC__
 6018                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 62; #endif // _hucc_chrmap_h
 6019                        		.dbg	line,	"include\routines_LEVELS.c", 4; #include "hucc-blkmap.h"
 6020                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 1; #ifndef _hucc_blkmap_h
 6021                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 2; #define _hucc_blkmap_h
 6022                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 4; /****************************************************************************
 6023                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 5; ; ***************************************************************************
 6024                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 6; ;
 6025                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 7; ; hucc-blkmap.h
 6026                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 8; ;
 6027                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 9; ; A map system based on 16x16 meta-tiles (aka "blocks", aka CHR/BLK/MAP).
 6028                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 10; ;
 6029                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 11; ; Copyright John Brandwood 2025.
 6030                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 12; ;
 6031                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 6032                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 6033                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 6034                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 16; ;
 6035                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 17; ; ***************************************************************************
 6036                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 18; ; ***************************************************************************
 6037                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 19; ;
 6038                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 20; ; The maximum X and Y size for blkmaps is 128 blocks (2048 pixels).
 6039                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 21; ;
 6040                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 22; ; The maximum total size for a blkmap is 16KBytes, which allows for maps up
 6041                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 23; ; to 128x128 blocks (2048x2048 pixels).
 6042                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 24; ;
 6043                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 25; ; Huge multi-screen blkmaps are also supported (optionally).
 6044                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 26; ;
 6045                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 27; ; The maximum X and Y for multi-screen maps is 128 screens (32768 pixels).
 6046                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 28; ;
 6047                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 29; ; The maximum total size for a multi-screen map is 8KBytes, which allows for
 6048                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 30; ; a total of 1024 screens.
 6049                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 31; ;
 6050                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 32; ; ***************************************************************************
 6051                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 33; ; **************************************************************************/
 6052                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 35; // *************
 6053                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 36; // Functions in blkmap.asm ...
 6054                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 37; // *************
 6055                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 39; #ifdef __HUCC__
 6056                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 41; #asmdef	HUCC_USES_BLKMAP 1
 6057                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 43; // Current top-left of drawn map in pixels.
 6058                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 44; extern unsigned int   vdc_map_pxl_x;
 6059                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 45; extern unsigned int   vdc_map_pxl_y;
 6060                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 47; // Width and height to draw/scroll in characters (not tiles).
 6061                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 48; extern unsigned char  vdc_map_draw_w;
 6062                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 49; extern unsigned char  vdc_map_draw_h;
 6063                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 51; // Width of map (or multi-screen BAT) in tiles.
 6064                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 52; extern unsigned char  vdc_map_line_w;
 6065                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 54; // Width of map in screens (if multi-screen map).
 6066                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 55; extern unsigned char  vdc_map_scrn_w;
 6067                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 57; // Extra information returned by get_map_block() and sgx_get_map_block(),
 6068                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 58; // which are the collision flags and the mask/overlay sprite for the BLK.
 6069                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 59; extern unsigned char  map_blk_flag;
 6070                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 60; extern unsigned char  map_blk_mask;
 6071                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 62; extern unsigned char  vdc_scr_bank;
 6072                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 63; extern unsigned char *vdc_scr_addr;
 6073                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 65; extern unsigned char  vdc_map_bank;
 6074                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 66; extern unsigned char *vdc_map_addr;
 6075                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 68; extern unsigned char  vdc_blk_bank;
 6076                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 69; extern unsigned char *vdc_blk_addr;
 6077                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 71; extern unsigned char  vdc_tbl_bank;
 6078                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 72; extern unsigned char *vdc_tbl_addr;
 6079                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 74; extern void __fastcall set_blocks( unsigned char __far *blk_def<vdc_blk_bank:vdc_blk_addr>, unsigned char __far *flg_def<vdc_tbl_bank:vdc_tbl_addr>, unsigned char number_of_blocks<_al> );
 6080                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 75; extern void __fastcall __macro set_blkmap( unsigned char __far *blk_map<vdc_map_bank:vdc_map_addr>, unsigned char blocks_w<vdc_map_line_w> );
 6081                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 76; extern void __fastcall __macro set_multimap( unsigned char __far *multi_map<vdc_scr_bank:vdc_scr_addr>, unsigned char screens_w<vdc_map_scrn_w> );
 6082                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 78; extern void __fastcall draw_map( void );
 6083                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 79; extern void __fastcall scroll_map( void );
 6084                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 81; extern void __fastcall blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 6085                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 83; extern unsigned char __fastcall get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
 6086                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 85; #asm
 6087                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 86; .macro	_set_blkmap.2
 6088                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 87; stz	vdc_scr_bank
 6089                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 88; .endm
 6090                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 90; .macro	_set_multimap.2
 6091                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 91; lda	vdc_bat_width
 6092                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 92; lsr	a
 6093                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 93; sta	vdc_map_line_w
 6094                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 94; .endm
 6095                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 96; .macro	SCREEN
 6096                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 97; db	(((\1) & $1FFF) | $6000) >> 8, bank(\1)
 6097                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 98; db	(((\2) & $1FFF) | $4000) >> 8, bank(\2)
 6098                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 99; db	(((\3) & $1FFF) | $6000) >> 8, bank(\3)
 6099                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 100; dw	(\4)
 6100                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 101; .endm
 6101                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 102; #endasm
 6102                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 104; #ifdef _SGX
 6103                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 106; // Current top-left of drawn map in pixels.
 6104                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 107; extern unsigned int   sgx_map_pxl_x;
 6105                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 108; extern unsigned int   sgx_map_pxl_y;
 6106                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 110; // Width and height to draw/scroll in characters (not tiles).
 6107                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 111; extern unsigned char  sgx_map_draw_w;
 6108                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 112; extern unsigned char  sgx_map_draw_h;
 6109                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 114; // Width of map (or multi-screen BAT) in tiles.
 6110                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 115; extern unsigned char  sgx_map_line_w;
 6111                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 117; // Width of map in screens (if multi-screen map).
 6112                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 118; extern unsigned char  sgx_map_scrn_w;
 6113                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 120; extern unsigned char  sgx_scr_bank;
 6114                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 121; extern unsigned char *sgx_scr_addr;
 6115                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 123; extern unsigned char  sgx_map_bank;
 6116                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 124; extern unsigned char *sgx_map_addr;
 6117                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 126; extern unsigned char  sgx_blk_bank;
 6118                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 127; extern unsigned char *sgx_blk_addr;
 6119                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 129; extern unsigned char  sgx_tbl_bank;
 6120                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 130; extern unsigned char *sgx_tbl_addr;
 6121                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 132; extern void __fastcall sgx_set_blocks( unsigned char __far *blk_def<sgx_blk_bank:sgx_blk_addr>, unsigned char __far *flg_def<sgx_tbl_bank:sgx_tbl_addr>, unsigned char number_of_blocks<_al> );
 6122                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 133; extern void __fastcall __macro sgx_set_blkmap( unsigned char __far *blk_map<sgx_map_bank:sgx_map_addr>, unsigned char blocks_w<sgx_map_line_w> );
 6123                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 134; extern void __fastcall __macro sgx_set_multimap( unsigned char __far *multi_map<sgx_scr_bank:sgx_scr_addr>, unsigned char screens_w<sgx_map_scrn_w> );
 6124                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 136; extern void __fastcall sgx_draw_map( void );
 6125                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 137; extern void __fastcall sgx_scroll_map( void );
 6126                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 139; extern void __fastcall sgx_blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 6127                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 141; extern unsigned char __fastcall sgx_get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
 6128                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 143; #asm
 6129                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 144; .macro	_sgx_set_blkmap.2
 6130                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 145; stz	sgx_scr_bank
 6131                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 146; .endm
 6132                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 148; .macro	_sgx_set_multimap.2
 6133                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 149; lda	sgx_bat_width
 6134                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 150; lsr	a
 6135                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 151; sta	sgx_map_line_w
 6136                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 152; .endm
 6137                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 153; #endasm
 6138                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 155; #endif
 6139                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 157; #endif // __HUCC__
 6140                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 159; #endif // _hucc_blkmap_h
 6141                        		.dbg	line,	"include\routines_LEVELS.c", 13; void hide_LEVEL_SPRITES()
 6142                        		.dbg	line,	"include\routines_LEVELS.c", 14; {
 6143                        	;***********************
 6144                        	;***********************
 6145                        	
 6146                        		.hucc
 6147    02:DFDC             		.proc		_hide_LEVEL_SPRITES
 6148                        		__enter		_hide_LEVEL_SPRITES
 6149                        	
 6150                        		.dbg	line,	"include\routines_LEVELS.c", 15; char i;
 6151                        	
 6152                        		.dbg	line,	"include\routines_LEVELS.c", 17; for(i=0 ; i<64 ; i++)
 6153                        		__st.umiq	0, __hide_LEVEL_SPRITES_end - 1  /* i */
         02:DFDC  9C 22 2C   			stz	__hide_LEVEL_SPRITES_end - 1
 6154    02:DFDF             	.LL196:
 6155                        		__ld.umq	__hide_LEVEL_SPRITES_end - 1  /* i */
         02:DFDF  AD 22 2C   			lda	__hide_LEVEL_SPRITES_end - 1
 6156                        		__ult_b.uiq	64
         02:DFE2  C9 40      			cmp	#64		; Subtract integer from A.
         02:DFE4  6A         			ror	a		; CC if A < integer.
         02:DFE5  49 80      			eor	#$80
         02:DFE7  2A         			rol	a
 6157                        		__btrue		.LL198
         02:DFE8  B0 07      			bcs	.LL198
 6158                        		__bra		.LL199
         02:DFEA  80 10      			bra	.LL199
 6159    02:DFEC             	.LL197:
 6160                        		__inc.umq	__hide_LEVEL_SPRITES_end - 1  /* i */
         02:DFEC  EE 22 2C   			inc	__hide_LEVEL_SPRITES_end - 1
 6161                        		__bra		.LL196
         02:DFEF  80 EE      			bra	.LL196
 6162    02:DFF1             	.LL198:
 6163                        	
 6164                        		.dbg	line,	"include\routines_LEVELS.c", 18; {
 6165                        	
 6166                        		.dbg	line,	"include\routines_LEVELS.c", 19; spr_set(i);
 6167                        		__ld.umq	__hide_LEVEL_SPRITES_end - 1  /* i */
         02:DFF1  AD 22 2C   			lda	__hide_LEVEL_SPRITES_end - 1
 6168                        		__call		_spr_set.1
         02:DFF4  20 F1 E7   			call	_spr_set.1
 6169                        	
 6170                        		.dbg	line,	"include\routines_LEVELS.c", 20; spr_hide();
 6171                        		__call		_spr_hide
         02:DFF7  20 0C E8   			call	_spr_hide
 6172                        	
 6173                        		.dbg	line,	"include\routines_LEVELS.c", 21; }
 6174                        		__bra		.LL197
         02:DFFA  80 F0      			bra	.LL197
 6175    02:DFFC             	.LL199:
 6176                        	
 6177                        		.dbg	line,	"include\routines_LEVELS.c", 22; }
 6178    02:DFFC             	.LL195:
 6179                        		__return	0
         02:DFFC  4C EF FF   			jmp	leave_proc
 6180                        		.dbg	clear
 6181                        		.endp
 6182               2300     		.bss
 6183    F8:2300             	__hide_LEVEL_SPRITES_end	.alias	leaf_stack
 6184               E31D     		.code
 6185                        		.pceas
 6186                        	
 6187                        		.dbg	line,	"include\routines_LEVELS.c", 27; //-----------------------------------------------------------------------------//
 6188                        		.dbg	line,	"include\routines_LEVELS.c", 28; //                                     HUD                                     //
 6189                        		.dbg	line,	"include\routines_LEVELS.c", 29; //-----------------------------------------------------------------------------//
 6190                        		.dbg	line,	"include\routines_LEVELS.c", 31; void display_LIFE()
 6191                        		.dbg	line,	"include\routines_LEVELS.c", 32; {
 6192                        	;***********************
 6193                        	;***********************
 6194                        	
 6195                        		.hucc
 6196    1F:D6A1             		.proc		_display_LIFE
 6197                        		__enter		_display_LIFE
 6198                        	
 6199                        		.dbg	line,	"include\routines_LEVELS.c", 33; put_number(life_amount,1,1,0);
 6200                        		__ld.um		_life_amount
         1F:D6A1  AD 2E 23   			lda	_life_amount
         1F:D6A4  C2         			cly
 6201                        		__st.wmq	_bx
         1F:D6A5  85 FA      			sta.l	_bx
         1F:D6A7  84 FB      			sty.h	_bx
 6202                        		__st.umiq	1, _cl
         1F:D6A9  A9 01      			lda.l	#1
         1F:D6AB  85 FC      			sta	_cl
 6203                        		__st.umiq	1, _dil
         1F:D6AD  A9 01      			lda.l	#1
         1F:D6AF  85 F0      			sta	_dil
 6204                        		__st.umiq	0, _dih
         1F:D6B1  64 F1      			stz	_dih
 6205                        		__call		_put_number.4
         1F:D6B3  20 6D FF   			call	_put_number.4
 6206                        	
 6207                        		.dbg	line,	"include\routines_LEVELS.c", 34; }
 6208    1F:D6B6             	.LL200:
 6209                        		__return	0
         1F:D6B6  4C EF FF   			jmp	leave_proc
 6210                        		.dbg	clear
 6211                        		.endp
 6212                        		.pceas
 6213                        	
 6214                        		.dbg	line,	"include\routines_LEVELS.c", 37; void display_SCORE()
 6215                        		.dbg	line,	"include\routines_LEVELS.c", 38; {
 6216                        	;***********************
 6217                        	;***********************
 6218                        	
 6219                        		.hucc
 6220    1F:D619             		.proc		_display_SCORE
 6221                        		__enter		_display_SCORE
 6222                        	
 6223                        		.dbg	line,	"include\routines_LEVELS.c", 39; put_number(score,6,14,1);
 6224                        		__ld.wm		_score
         1F:D619  AD 58 26   			lda.l	_score
         1F:D61C  AC 59 26   			ldy.h	_score
 6225                        		__st.wmq	_bx
         1F:D61F  85 FA      			sta.l	_bx
         1F:D621  84 FB      			sty.h	_bx
 6226                        		__st.umiq	6, _cl
         1F:D623  A9 06      			lda.l	#6
         1F:D625  85 FC      			sta	_cl
 6227                        		__st.umiq	14, _dil
         1F:D627  A9 0E      			lda.l	#14
         1F:D629  85 F0      			sta	_dil
 6228                        		__st.umiq	1, _dih
         1F:D62B  A9 01      			lda.l	#1
         1F:D62D  85 F1      			sta	_dih
 6229                        		__call		_put_number.4
         1F:D62F  20 6D FF   			call	_put_number.4
 6230                        	
 6231                        		.dbg	line,	"include\routines_LEVELS.c", 40; }
 6232    1F:D632             	.LL201:
 6233                        		__return	0
         1F:D632  4C EF FF   			jmp	leave_proc
 6234                        		.dbg	clear
 6235                        		.endp
 6236                        		.pceas
 6237                        	
 6238                        		.dbg	line,	"include\routines_LEVELS.c", 43; void display_TIME_LEVEL()
 6239                        		.dbg	line,	"include\routines_LEVELS.c", 44; {
 6240                        	;***********************
 6241                        	;***********************
 6242                        	
 6243                        		.hucc
 6244    1F:CDD1             		.proc		_display_TIME_LEVEL
 6245                        		__enter		_display_TIME_LEVEL
 6246                        	
 6247                        		.dbg	line,	"include\routines_LEVELS.c", 45; put_number(minutes,1,1,3);
 6248                        		__ld.um		_minutes
         1F:CDD1  AD 32 23   			lda	_minutes
         1F:CDD4  C2         			cly
 6249                        		__st.wmq	_bx
         1F:CDD5  85 FA      			sta.l	_bx
         1F:CDD7  84 FB      			sty.h	_bx
 6250                        		__st.umiq	1, _cl
         1F:CDD9  A9 01      			lda.l	#1
         1F:CDDB  85 FC      			sta	_cl
 6251                        		__st.umiq	1, _dil
         1F:CDDD  A9 01      			lda.l	#1
         1F:CDDF  85 F0      			sta	_dil
 6252                        		__st.umiq	3, _dih
         1F:CDE1  A9 03      			lda.l	#3
         1F:CDE3  85 F1      			sta	_dih
 6253                        		__call		_put_number.4
         1F:CDE5  20 6D FF   			call	_put_number.4
 6254                        	
 6255                        		.dbg	line,	"include\routines_LEVELS.c", 47; if(seconds < 10)
 6256                        		__ld.umq	_seconds
         1F:CDE8  AD 33 23   			lda	_seconds
 6257                        		__ult_b.uiq	10
         1F:CDEB  C9 0A      			cmp	#10		; Subtract integer from A.
         1F:CDED  6A         			ror	a		; CC if A < integer.
         1F:CDEE  49 80      			eor	#$80
         1F:CDF0  2A         			rol	a
 6258                        		__bfalse	.LL203
         1F:CDF1  90 2C      			bcc	.LL203
 6259                        	
 6260                        		.dbg	line,	"include\routines_LEVELS.c", 48; {
 6261                        	
 6262                        		.dbg	line,	"include\routines_LEVELS.c", 49; put_number(0,1,3,3);
 6263                        		__st.wmiq	0, _bx
         1F:CDF3  64 FA      			stz.l	_bx
         1F:CDF5  64 FB      			stz.h	_bx
 6264                        		__st.umiq	1, _cl
         1F:CDF7  A9 01      			lda.l	#1
         1F:CDF9  85 FC      			sta	_cl
 6265                        		__st.umiq	3, _dil
         1F:CDFB  A9 03      			lda.l	#3
         1F:CDFD  85 F0      			sta	_dil
 6266                        		__st.umiq	3, _dih
         1F:CDFF  A9 03      			lda.l	#3
         1F:CE01  85 F1      			sta	_dih
 6267                        		__call		_put_number.4
         1F:CE03  20 6D FF   			call	_put_number.4
 6268                        	
 6269                        		.dbg	line,	"include\routines_LEVELS.c", 50; put_number(seconds,1,4,3);
 6270                        		__ld.um		_seconds
         1F:CE06  AD 33 23   			lda	_seconds
         1F:CE09  C2         			cly
 6271                        		__st.wmq	_bx
         1F:CE0A  85 FA      			sta.l	_bx
         1F:CE0C  84 FB      			sty.h	_bx
 6272                        		__st.umiq	1, _cl
         1F:CE0E  A9 01      			lda.l	#1
         1F:CE10  85 FC      			sta	_cl
 6273                        		__st.umiq	4, _dil
         1F:CE12  A9 04      			lda.l	#4
         1F:CE14  85 F0      			sta	_dil
 6274                        		__st.umiq	3, _dih
         1F:CE16  A9 03      			lda.l	#3
         1F:CE18  85 F1      			sta	_dih
 6275                        		__call		_put_number.4
         1F:CE1A  20 6D FF   			call	_put_number.4
 6276                        	
 6277                        		.dbg	line,	"include\routines_LEVELS.c", 51; }
 6278                        	
 6279                        		.dbg	line,	"include\routines_LEVELS.c", 53; else
 6280                        		__bra		.LL204
         1F:CE1D  80 17      			bra	.LL204
 6281    1F:CE1F             	.LL203:
 6282                        	
 6283                        		.dbg	line,	"include\routines_LEVELS.c", 54; {
 6284                        	
 6285                        		.dbg	line,	"include\routines_LEVELS.c", 55; put_number(seconds,2,3,3);
 6286                        		__ld.um		_seconds
         1F:CE1F  AD 33 23   			lda	_seconds
         1F:CE22  C2         			cly
 6287                        		__st.wmq	_bx
         1F:CE23  85 FA      			sta.l	_bx
         1F:CE25  84 FB      			sty.h	_bx
 6288                        		__st.umiq	2, _cl
         1F:CE27  A9 02      			lda.l	#2
         1F:CE29  85 FC      			sta	_cl
 6289                        		__st.umiq	3, _dil
         1F:CE2B  A9 03      			lda.l	#3
         1F:CE2D  85 F0      			sta	_dil
 6290                        		__st.umiq	3, _dih
         1F:CE2F  A9 03      			lda.l	#3
         1F:CE31  85 F1      			sta	_dih
 6291                        		__call		_put_number.4
         1F:CE33  20 6D FF   			call	_put_number.4
 6292                        	
 6293                        		.dbg	line,	"include\routines_LEVELS.c", 56; }
 6294    1F:CE36             	.LL204:
 6295                        	
 6296                        		.dbg	line,	"include\routines_LEVELS.c", 58; time_counter += 1;
 6297                        		__add_st.umiq	1, _time_counter
         1F:CE36  EE 34 23   			inc	_time_counter
 6298                        	
 6299                        		.dbg	line,	"include\routines_LEVELS.c", 60; if(time_counter == 60)
 6300                        		__ld.umq	_time_counter
         1F:CE39  AD 34 23   			lda	_time_counter
 6301                        		__equ_b.uiq	60
         1F:CE3C  C9 3C      			cmp	#60
         1F:CE3E  F0 01      			beq	!+
         1F:CE40  18         			clc
         1F:CE41             	!:
 6302                        		__bfalse	.LL205
         1F:CE41  90 28      			bcc	.LL205
 6303                        	
 6304                        		.dbg	line,	"include\routines_LEVELS.c", 61; {
 6305                        	
 6306                        		.dbg	line,	"include\routines_LEVELS.c", 62; time_counter = 0;
 6307                        		__st.umiq	0, _time_counter
         1F:CE43  9C 34 23   			stz	_time_counter
 6308                        	
 6309                        		.dbg	line,	"include\routines_LEVELS.c", 64; if(seconds > 0)
 6310                        		__ld.umq	_seconds
         1F:CE46  AD 33 23   			lda	_seconds
 6311                        		__ugt_b.uiq	0
         1F:CE49  18         			clc			; Subtract integer+1 from A.
         1F:CE4A  E9 00      			sbc	#0		; CS if A > integer.
 6312                        		__bfalse	.LL206
         1F:CE4C  90 05      			bcc	.LL206
 6313                        	
 6314                        		.dbg	line,	"include\routines_LEVELS.c", 65; {
 6315                        	
 6316                        		.dbg	line,	"include\routines_LEVELS.c", 66; seconds -= 1;
 6317                        		__sub_st.umiq	1, _seconds
         1F:CE4E  CE 33 23   			dec	_seconds
 6318                        	
 6319                        		.dbg	line,	"include\routines_LEVELS.c", 67; }
 6320                        	
 6321                        		.dbg	line,	"include\routines_LEVELS.c", 69; else
 6322                        		__bra		.LL207
         1F:CE51  80 18      			bra	.LL207
 6323    1F:CE53             	.LL206:
 6324                        	
 6325                        		.dbg	line,	"include\routines_LEVELS.c", 70; {
 6326                        	
 6327                        		.dbg	line,	"include\routines_LEVELS.c", 71; if(minutes > 0)
 6328                        		__ld.umq	_minutes
         1F:CE53  AD 32 23   			lda	_minutes
 6329                        		__ugt_b.uiq	0
         1F:CE56  18         			clc			; Subtract integer+1 from A.
         1F:CE57  E9 00      			sbc	#0		; CS if A > integer.
 6330                        		__bfalse	.LL208
         1F:CE59  90 0A      			bcc	.LL208
 6331                        	
 6332                        		.dbg	line,	"include\routines_LEVELS.c", 72; {
 6333                        	
 6334                        		.dbg	line,	"include\routines_LEVELS.c", 73; seconds = 59;
 6335                        		__st.umiq	59, _seconds
         1F:CE5B  A9 3B      			lda.l	#59
         1F:CE5D  8D 33 23   			sta	_seconds
 6336                        	
 6337                        		.dbg	line,	"include\routines_LEVELS.c", 74; minutes -= 1;
 6338                        		__sub_st.umiq	1, _minutes
         1F:CE60  CE 32 23   			dec	_minutes
 6339                        	
 6340                        		.dbg	line,	"include\routines_LEVELS.c", 75; }
 6341                        	
 6342                        		.dbg	line,	"include\routines_LEVELS.c", 77; else
 6343                        		__bra		.LL209
         1F:CE63  80 06      			bra	.LL209
 6344    1F:CE65             	.LL208:
 6345                        	
 6346                        		.dbg	line,	"include\routines_LEVELS.c", 78; {
 6347                        	
 6348                        		.dbg	line,	"include\routines_LEVELS.c", 79; seconds = 0;
 6349                        		__st.umiq	0, _seconds
         1F:CE65  9C 33 23   			stz	_seconds
 6350                        	
 6351                        		.dbg	line,	"include\routines_LEVELS.c", 80; minutes = 0;
 6352                        		__st.umiq	0, _minutes
         1F:CE68  9C 32 23   			stz	_minutes
 6353                        	
 6354                        		.dbg	line,	"include\routines_LEVELS.c", 81; // TIME OUT //
 6355                        	
 6356                        		.dbg	line,	"include\routines_LEVELS.c", 82; }
 6357    1F:CE6B             	.LL209:
 6358                        	
 6359                        		.dbg	line,	"include\routines_LEVELS.c", 83; }
 6360    1F:CE6B             	.LL207:
 6361                        	
 6362                        		.dbg	line,	"include\routines_LEVELS.c", 84; } 
 6363                        	
 6364                        		.dbg	line,	"include\routines_LEVELS.c", 85; }
 6365    1F:CE6B             	.LL205:
 6366    1F:CE6B             	.LL202:
 6367                        		__return	0
         1F:CE6B  4C EF FF   			jmp	leave_proc
 6368                        		.dbg	clear
 6369                        		.endp
 6370                        		.pceas
 6371                        	
 6372                        		.dbg	line,	"include\routines_LEVELS.c", 88; void display_KEY()
 6373                        		.dbg	line,	"include\routines_LEVELS.c", 89; {
 6374                        	;***********************
 6375                        	;***********************
 6376                        	
 6377                        		.hucc
 6378    1F:D66D             		.proc		_display_KEY
 6379                        		__enter		_display_KEY
 6380                        	
 6381                        		.dbg	line,	"include\routines_LEVELS.c", 90; put_number(key_amount,2,7,27);
 6382                        		__ld.um		_key_amount
         1F:D66D  AD 30 23   			lda	_key_amount
         1F:D670  C2         			cly
 6383                        		__st.wmq	_bx
         1F:D671  85 FA      			sta.l	_bx
         1F:D673  84 FB      			sty.h	_bx
 6384                        		__st.umiq	2, _cl
         1F:D675  A9 02      			lda.l	#2
         1F:D677  85 FC      			sta	_cl
 6385                        		__st.umiq	7, _dil
         1F:D679  A9 07      			lda.l	#7
         1F:D67B  85 F0      			sta	_dil
 6386                        		__st.umiq	27, _dih
         1F:D67D  A9 1B      			lda.l	#27
         1F:D67F  85 F1      			sta	_dih
 6387                        		__call		_put_number.4
         1F:D681  20 6D FF   			call	_put_number.4
 6388                        	
 6389                        		.dbg	line,	"include\routines_LEVELS.c", 91; }
 6390    1F:D684             	.LL210:
 6391                        		__return	0
         1F:D684  4C EF FF   			jmp	leave_proc
 6392                        		.dbg	clear
 6393                        		.endp
 6394                        		.pceas
 6395                        	
 6396                        		.dbg	line,	"include\routines_LEVELS.c", 94; void display_POTION()
 6397                        		.dbg	line,	"include\routines_LEVELS.c", 95; {
 6398                        	;***********************
 6399                        	;***********************
 6400                        	
 6401                        		.hucc
 6402    1F:D687             		.proc		_display_POTION
 6403                        		__enter		_display_POTION
 6404                        	
 6405                        		.dbg	line,	"include\routines_LEVELS.c", 96; put_number(potion_amount,2,19,27);
 6406                        		__ld.um		_potion_amount
         1F:D687  AD 31 23   			lda	_potion_amount
         1F:D68A  C2         			cly
 6407                        		__st.wmq	_bx
         1F:D68B  85 FA      			sta.l	_bx
         1F:D68D  84 FB      			sty.h	_bx
 6408                        		__st.umiq	2, _cl
         1F:D68F  A9 02      			lda.l	#2
         1F:D691  85 FC      			sta	_cl
 6409                        		__st.umiq	19, _dil
         1F:D693  A9 13      			lda.l	#19
         1F:D695  85 F0      			sta	_dil
 6410                        		__st.umiq	27, _dih
         1F:D697  A9 1B      			lda.l	#27
         1F:D699  85 F1      			sta	_dih
 6411                        		__call		_put_number.4
         1F:D69B  20 6D FF   			call	_put_number.4
 6412                        	
 6413                        		.dbg	line,	"include\routines_LEVELS.c", 97; }
 6414    1F:D69E             	.LL211:
 6415                        		__return	0
         1F:D69E  4C EF FF   			jmp	leave_proc
 6416                        		.dbg	clear
 6417                        		.endp
 6418                        		.pceas
 6419                        	
 6420                        		.dbg	line,	"include\routines_LEVELS.c", 100; void display_ZENNY()
 6421                        		.dbg	line,	"include\routines_LEVELS.c", 101; {
 6422                        	;***********************
 6423                        	;***********************
 6424                        	
 6425                        		.hucc
 6426    1F:D635             		.proc		_display_ZENNY
 6427                        		__enter		_display_ZENNY
 6428                        	
 6429                        		.dbg	line,	"include\routines_LEVELS.c", 102; put_number(zenny_amount,5,26,4);
 6430                        		__ld.wm		_zenny_amount
         1F:D635  AD 56 26   			lda.l	_zenny_amount
         1F:D638  AC 57 26   			ldy.h	_zenny_amount
 6431                        		__st.wmq	_bx
         1F:D63B  85 FA      			sta.l	_bx
         1F:D63D  84 FB      			sty.h	_bx
 6432                        		__st.umiq	5, _cl
         1F:D63F  A9 05      			lda.l	#5
         1F:D641  85 FC      			sta	_cl
 6433                        		__st.umiq	26, _dil
         1F:D643  A9 1A      			lda.l	#26
         1F:D645  85 F0      			sta	_dil
 6434                        		__st.umiq	4, _dih
         1F:D647  A9 04      			lda.l	#4
         1F:D649  85 F1      			sta	_dih
 6435                        		__call		_put_number.4
         1F:D64B  20 6D FF   			call	_put_number.4
 6436                        	
 6437                        		.dbg	line,	"include\routines_LEVELS.c", 103; }
 6438    1F:D64E             	.LL212:
 6439                        		__return	0
         1F:D64E  4C EF FF   			jmp	leave_proc
 6440                        		.dbg	clear
 6441                        		.endp
 6442                        		.pceas
 6443                        	
 6444                        		.dbg	line,	"include\routines_LEVELS.c", 108; //-----------------------------------------------------------------------------//
 6445                        		.dbg	line,	"include\routines_LEVELS.c", 109; //                                  SCROLLING                                  //
 6446                        		.dbg	line,	"include\routines_LEVELS.c", 110; //-----------------------------------------------------------------------------//
 6447                        		.dbg	line,	"include\routines_LEVELS.c", 112; void scroll_object()
 6448                        		.dbg	line,	"include\routines_LEVELS.c", 113; {
 6449                        	;***********************
 6450                        	;***********************
 6451                        	
 6452                        		.hucc
 6453    1F:C170             		.proc		_scroll_object
 6454                        		__enter		_scroll_object
 6455                        	
 6456                        		.dbg	line,	"include\routines_LEVELS.c", 114; char i;
 6457                        	
 6458                        		.dbg	line,	"include\routines_LEVELS.c", 115; onscreen_object_number = 0;
 6459                        		__st.umiq	0, _onscreen_object_number
         1F:C170  9C 39 23   			stz	_onscreen_object_number
 6460                        	
 6461                        		.dbg	line,	"include\routines_LEVELS.c", 117; for(i=0 ; i<level_object_number ; i++)
 6462                        		__st.umiq	0, __scroll_object_end - 1  /* i */
         1F:C173  9C 22 2C   			stz	__scroll_object_end - 1
 6463    1F:C176             	.LL214:
 6464                        		__ld.umq	__scroll_object_end - 1  /* i */
         1F:C176  AD 22 2C   			lda	__scroll_object_end - 1
 6465                        		__ult_b.umq	_level_object_number
         1F:C179  CD 38 23   			cmp	_level_object_number		; Subtract memory from A.
         1F:C17C  6A         			ror	a		; CC if A < memory.
         1F:C17D  49 80      			eor	#$80
         1F:C17F  2A         			rol	a
 6466                        		__btrue		.LL216
         1F:C180  B0 08      			bcs	.LL216
 6467                        		__bra		.LL217
         1F:C182  4C D0 C2   			bra	.LL217
 6468    1F:C185             	.LL215:
 6469                        		__inc.umq	__scroll_object_end - 1  /* i */
         1F:C185  EE 22 2C   			inc	__scroll_object_end - 1
 6470                        		__bra		.LL214
         1F:C188  80 EC      			bra	.LL214
 6471    1F:C18A             	.LL216:
 6472                        	
 6473                        		.dbg	line,	"include\routines_LEVELS.c", 118; {
 6474                        	
 6475                        		.dbg	line,	"include\routines_LEVELS.c", 119; if(list_object_state[i] != STATE_FREE)
 6476                        		__ldx.umq	__scroll_object_end - 1  /* i */
         1F:C18A  AE 22 2C   			ldx	__scroll_object_end - 1
 6477                        		__tst.uax	_list_object_state
         1F:C18D  BD 53 23   			lda	_list_object_state, x
         1F:C190  C9 01      			cmp	#1
 6478                        		__bfalse	.LL218
         1F:C192  90 F1      			bcc	.LL218
 6479                        	
 6480                        		.dbg	line,	"include\routines_LEVELS.c", 120; {
 6481                        	
 6482                        		.dbg	line,	"include\routines_LEVELS.c", 121; char scroll_allowed = FALSE;
 6483                        		__st.umiq	0, __scroll_object_end - 2  /* scroll_allowed */
         1F:C194  9C 21 2C   			stz	__scroll_object_end - 2
 6484                        	
 6485                        		.dbg	line,	"include\routines_LEVELS.c", 122; 
 6486                        	
 6487                        		.dbg	line,	"include\routines_LEVELS.c", 123; // IF OBJECT X POSITION IS INFERIOR TO SCREEN RIGHT SIDE //
 6488                        	
 6489                        		.dbg	line,	"include\routines_LEVELS.c", 124; if(list_object_x_pos_ref[i] < sgx_map_pxl_x + 256)
 6490                        		__ld.wm		_sgx_map_pxl_x
         1F:C197  AD D9 26   			lda.l	_sgx_map_pxl_x
         1F:C19A  AC DA 26   			ldy.h	_sgx_map_pxl_x
 6491                        		__add.wi	256
         1F:C19D  18         			clc
         1F:C19E  69 00      			adc.l	#256
         1F:C1A0  42         			say
         1F:C1A1  69 01      			adc.h	#256
         1F:C1A3  42         			say
 6492                        		__ld2x.um	__scroll_object_end - 1  /* i */
         1F:C1A4  AA         			tax
         1F:C1A5  AD 22 2C   			lda	__scroll_object_end - 1
         1F:C1A8  0A         			asl	a
         1F:C1A9  22         			sax
 6493                        		__ugt_w.wax	_list_object_x_pos_ref
         1F:C1AA  18         			clc			; Subtract memory+1 from Y:A.
         1F:C1AB  FD 64 25   			sbc.l	_list_object_x_pos_ref, x
         1F:C1AE  98         			tya
         1F:C1AF  FD 65 25   			sbc.h	_list_object_x_pos_ref, x		; CS if Y:A > memory.
 6494                        		__bfalse	.LL219
         1F:C1B2  B0 03 4C 37			bcc	.LL219
         1F:C1B6  C2          
 6495                        	
 6496                        		.dbg	line,	"include\routines_LEVELS.c", 125; {
 6497                        	
 6498                        		.dbg	line,	"include\routines_LEVELS.c", 126; // IF OBJECT X POSITION IS SUPERIOR TO SCREEN LEFT SIDE PLUS 16 PX //
 6499                        	
 6500                        		.dbg	line,	"include\routines_LEVELS.c", 127; if(list_object_x_pos_ref[i] - sgx_map_pxl_x + 16 > 0)
 6501                        		__ld2x.umq	__scroll_object_end - 1  /* i */
         1F:C1B7  AD 22 2C   			lda	__scroll_object_end - 1
         1F:C1BA  0A         			asl	a
         1F:C1BB  AA         			tax
 6502                        		__ld.wax	_list_object_x_pos_ref
         1F:C1BC  BD 64 25   			lda.l	_list_object_x_pos_ref, x
         1F:C1BF  BC 65 25   			ldy.h	_list_object_x_pos_ref, x
 6503                        		__sub.wm	_sgx_map_pxl_x
         1F:C1C2  38         			sec
         1F:C1C3  ED D9 26   			sbc.l	_sgx_map_pxl_x
         1F:C1C6  42         			say
         1F:C1C7  ED DA 26   			sbc.h	_sgx_map_pxl_x
         1F:C1CA  42         			say
 6504                        		__add.wi	16
         1F:C1CB  18         			clc
         1F:C1CC  69 10      			adc.l	#16
         1F:C1CE  90 01      			bcc	!+
         1F:C1D0  C8         			iny
         1F:C1D1             	!:
 6505                        		__sgt_w.wi	0
         1F:C1D1  18         			clc			; Subtract integer+1 from Y:A.
         1F:C1D2  E9 00      			sbc.l	#0
         1F:C1D4  98         			tya
         1F:C1D5  E9 00      			sbc.h	#0
         1F:C1D7  50 02      			bvc	!+
         1F:C1D9  49 80      			eor	#$80		; +ve if Y:A > integer (signed).
         1F:C1DB  49 80      	!:		eor	#$80
         1F:C1DD  0A         			asl	a
 6506                        		__bfalse	.LL220
         1F:C1DE  90 57      			bcc	.LL220
 6507                        	
 6508                        		.dbg	line,	"include\routines_LEVELS.c", 128; {
 6509                        	
 6510                        		.dbg	line,	"include\routines_LEVELS.c", 129; // IF OBJECT Y POSITION IS INFERIOR TO SCREEN BOTTOM //
 6511                        	
 6512                        		.dbg	line,	"include\routines_LEVELS.c", 130; if(list_object_y_pos_ref[i] < sgx_map_pxl_y + 224)
 6513                        		__ld.wm		_sgx_map_pxl_y
         1F:C1E0  AD DB 26   			lda.l	_sgx_map_pxl_y
         1F:C1E3  AC DC 26   			ldy.h	_sgx_map_pxl_y
 6514                        		__add.wi	224
         1F:C1E6  18         			clc
         1F:C1E7  69 E0      			adc.l	#224
         1F:C1E9  90 01      			bcc	!+
         1F:C1EB  C8         			iny
         1F:C1EC             	!:
 6515                        		__ld2x.um	__scroll_object_end - 1  /* i */
         1F:C1EC  AA         			tax
         1F:C1ED  AD 22 2C   			lda	__scroll_object_end - 1
         1F:C1F0  0A         			asl	a
         1F:C1F1  22         			sax
 6516                        		__ugt_w.wax	_list_object_y_pos_ref
         1F:C1F2  18         			clc			; Subtract memory+1 from Y:A.
         1F:C1F3  FD 96 25   			sbc.l	_list_object_y_pos_ref, x
         1F:C1F6  98         			tya
         1F:C1F7  FD 97 25   			sbc.h	_list_object_y_pos_ref, x		; CS if Y:A > memory.
 6517                        		__bfalse	.LL221
         1F:C1FA  90 3B      			bcc	.LL221
 6518                        	
 6519                        		.dbg	line,	"include\routines_LEVELS.c", 131; {
 6520                        	
 6521                        		.dbg	line,	"include\routines_LEVELS.c", 132; // IF OBJECT Y POSITION IS SUPERIOR TO SCREEN TOP PLUS 16 PX //
 6522                        	
 6523                        		.dbg	line,	"include\routines_LEVELS.c", 133; if(list_object_y_pos_ref[i] - sgx_map_pxl_y + 16 > 0)
 6524                        		__ld2x.umq	__scroll_object_end - 1  /* i */
         1F:C1FC  AD 22 2C   			lda	__scroll_object_end - 1
         1F:C1FF  0A         			asl	a
         1F:C200  AA         			tax
 6525                        		__ld.wax	_list_object_y_pos_ref
         1F:C201  BD 96 25   			lda.l	_list_object_y_pos_ref, x
         1F:C204  BC 97 25   			ldy.h	_list_object_y_pos_ref, x
 6526                        		__sub.wm	_sgx_map_pxl_y
         1F:C207  38         			sec
         1F:C208  ED DB 26   			sbc.l	_sgx_map_pxl_y
         1F:C20B  42         			say
         1F:C20C  ED DC 26   			sbc.h	_sgx_map_pxl_y
         1F:C20F  42         			say
 6527                        		__add.wi	16
         1F:C210  18         			clc
         1F:C211  69 10      			adc.l	#16
         1F:C213  90 01      			bcc	!+
         1F:C215  C8         			iny
         1F:C216             	!:
 6528                        		__sgt_w.wi	0
         1F:C216  18         			clc			; Subtract integer+1 from Y:A.
         1F:C217  E9 00      			sbc.l	#0
         1F:C219  98         			tya
         1F:C21A  E9 00      			sbc.h	#0
         1F:C21C  50 02      			bvc	!+
         1F:C21E  49 80      			eor	#$80		; +ve if Y:A > integer (signed).
         1F:C220  49 80      	!:		eor	#$80
         1F:C222  0A         			asl	a
 6529                        		__bfalse	.LL222
         1F:C223  90 12      			bcc	.LL222
 6530                        	
 6531                        		.dbg	line,	"include\routines_LEVELS.c", 134; {
 6532                        	
 6533                        		.dbg	line,	"include\routines_LEVELS.c", 135; // WE STORE THE OBJECT ID //
 6534                        	
 6535                        		.dbg	line,	"include\routines_LEVELS.c", 136; list_onscreen_object[onscreen_object_number] = i;
 6536                        		__ldx.umq	_onscreen_object_number
         1F:C225  AE 39 23   			ldx	_onscreen_object_number
 6537                        		__ld.um		__scroll_object_end - 1  /* i */
         1F:C228  AD 22 2C   			lda	__scroll_object_end - 1
         1F:C22B  C2         			cly
 6538                        		__st.uaxq	_list_onscreen_object
         1F:C22C  9D B7 23   			sta	_list_onscreen_object, x
 6539                        	
 6540                        		.dbg	line,	"include\routines_LEVELS.c", 137; onscreen_object_number += 1;
 6541                        		__add_st.umiq	1, _onscreen_object_number
         1F:C22F  EE 39 23   			inc	_onscreen_object_number
 6542                        	
 6543                        		.dbg	line,	"include\routines_LEVELS.c", 138; scroll_allowed = TRUE;
 6544                        		__st.umiq	1, __scroll_object_end - 2  /* scroll_allowed */
         1F:C232  A9 01      			lda.l	#1
         1F:C234  8D 21 2C   			sta	__scroll_object_end - 2
 6545                        	
 6546                        		.dbg	line,	"include\routines_LEVELS.c", 139; }
 6547                        	
 6548                        		.dbg	line,	"include\routines_LEVELS.c", 140; }
 6549    1F:C237             	.LL222:
 6550                        	
 6551                        		.dbg	line,	"include\routines_LEVELS.c", 141; }
 6552    1F:C237             	.LL221:
 6553                        	
 6554                        		.dbg	line,	"include\routines_LEVELS.c", 142; }
 6555    1F:C237             	.LL220:
 6556                        	
 6557                        		.dbg	line,	"include\routines_LEVELS.c", 144; // IF OBJECTS IS WITHIN THE SCREEN LIMITS //
 6558                        	
 6559                        		.dbg	line,	"include\routines_LEVELS.c", 145; if(scroll_allowed == TRUE)
 6560    1F:C237             	.LL219:
 6561                        		__ld.umq	__scroll_object_end - 2  /* scroll_allowed */
         1F:C237  AD 21 2C   			lda	__scroll_object_end - 2
 6562                        		__equ_b.uiq	1
         1F:C23A  C9 01      			cmp	#1
         1F:C23C  F0 01      			beq	!+
         1F:C23E  18         			clc
         1F:C23F             	!:
 6563                        		__bfalse	.LL223
         1F:C23F  90 44      			bcc	.LL223
 6564                        	
 6565                        		.dbg	line,	"include\routines_LEVELS.c", 146; {
 6566                        	
 6567                        		.dbg	line,	"include\routines_LEVELS.c", 147; list_object_x_pos[i] = list_object_x_pos_ref[i] - sgx_map_pxl_x;
 6568                        		__ld2x.umq	__scroll_object_end - 1  /* i */
         1F:C241  AD 22 2C   			lda	__scroll_object_end - 1
         1F:C244  0A         			asl	a
         1F:C245  AA         			tax
 6569                        		__ld.wax	_list_object_x_pos_ref
         1F:C246  BD 64 25   			lda.l	_list_object_x_pos_ref, x
         1F:C249  BC 65 25   			ldy.h	_list_object_x_pos_ref, x
 6570                        		__sub.wm	_sgx_map_pxl_x
         1F:C24C  38         			sec
         1F:C24D  ED D9 26   			sbc.l	_sgx_map_pxl_x
         1F:C250  42         			say
         1F:C251  ED DA 26   			sbc.h	_sgx_map_pxl_x
         1F:C254  42         			say
 6571                        		__ld2x.um	__scroll_object_end - 1  /* i */
         1F:C255  AA         			tax
         1F:C256  AD 22 2C   			lda	__scroll_object_end - 1
         1F:C259  0A         			asl	a
         1F:C25A  22         			sax
 6572                        		__st.waxq	_list_object_x_pos
         1F:C25B  9D 00 25   			sta.l	_list_object_x_pos, x
         1F:C25E  98         			tya
         1F:C25F  9D 01 25   			sta.h	_list_object_x_pos, x
 6573                        	
 6574                        		.dbg	line,	"include\routines_LEVELS.c", 148; list_object_y_pos[i] = list_object_y_pos_ref[i] - sgx_map_pxl_y;
 6575                        		__ld2x.umq	__scroll_object_end - 1  /* i */
         1F:C262  AD 22 2C   			lda	__scroll_object_end - 1
         1F:C265  0A         			asl	a
         1F:C266  AA         			tax
 6576                        		__ld.wax	_list_object_y_pos_ref
         1F:C267  BD 96 25   			lda.l	_list_object_y_pos_ref, x
         1F:C26A  BC 97 25   			ldy.h	_list_object_y_pos_ref, x
 6577                        		__sub.wm	_sgx_map_pxl_y
         1F:C26D  38         			sec
         1F:C26E  ED DB 26   			sbc.l	_sgx_map_pxl_y
         1F:C271  42         			say
         1F:C272  ED DC 26   			sbc.h	_sgx_map_pxl_y
         1F:C275  42         			say
 6578                        		__ld2x.um	__scroll_object_end - 1  /* i */
         1F:C276  AA         			tax
         1F:C277  AD 22 2C   			lda	__scroll_object_end - 1
         1F:C27A  0A         			asl	a
         1F:C27B  22         			sax
 6579                        		__st.waxq	_list_object_y_pos
         1F:C27C  9D 32 25   			sta.l	_list_object_y_pos, x
         1F:C27F  98         			tya
         1F:C280  9D 33 25   			sta.h	_list_object_y_pos, x
 6580                        	
 6581                        		.dbg	line,	"include\routines_LEVELS.c", 149; }
 6582                        	
 6583                        		.dbg	line,	"include\routines_LEVELS.c", 151; else
 6584                        		__bra		.LL224
         1F:C283  80 1E      			bra	.LL224
 6585    1F:C285             	.LL223:
 6586                        	
 6587                        		.dbg	line,	"include\routines_LEVELS.c", 152; {
 6588                        	
 6589                        		.dbg	line,	"include\routines_LEVELS.c", 153; list_object_x_pos[i] = -16;
 6590                        		__ld2x.umq	__scroll_object_end - 1  /* i */
         1F:C285  AD 22 2C   			lda	__scroll_object_end - 1
         1F:C288  0A         			asl	a
         1F:C289  AA         			tax
 6591                        		__st.waxiq	-16, _list_object_x_pos
         1F:C28A  A9 F0      			lda.l	#-16
         1F:C28C  9D 00 25   			sta.l	_list_object_x_pos, x
         1F:C28F  A9 FF      			lda.h	#-16
         1F:C291  9D 01 25   			sta.h	_list_object_x_pos, x
 6592                        	
 6593                        		.dbg	line,	"include\routines_LEVELS.c", 154; list_object_y_pos[i] = -16;
 6594                        		__ld2x.umq	__scroll_object_end - 1  /* i */
         1F:C294  AD 22 2C   			lda	__scroll_object_end - 1
         1F:C297  0A         			asl	a
         1F:C298  AA         			tax
 6595                        		__st.waxiq	-16, _list_object_y_pos
         1F:C299  A9 F0      			lda.l	#-16
         1F:C29B  9D 32 25   			sta.l	_list_object_y_pos, x
         1F:C29E  A9 FF      			lda.h	#-16
         1F:C2A0  9D 33 25   			sta.h	_list_object_y_pos, x
 6596                        	
 6597                        		.dbg	line,	"include\routines_LEVELS.c", 155; }
 6598    1F:C2A3             	.LL224:
 6599                        	
 6600                        		.dbg	line,	"include\routines_LEVELS.c", 157; sgx_spr_set(i + object_start_index);
 6601                        		__ld.um		__scroll_object_end - 1  /* i */
         1F:C2A3  AD 22 2C   			lda	__scroll_object_end - 1
         1F:C2A6  C2         			cly
 6602                        		__add.um	_object_start_index
         1F:C2A7  18         			clc
         1F:C2A8  6D 37 23   			adc	_object_start_index
         1F:C2AB  90 01      			bcc	!+
         1F:C2AD  C8         			iny
         1F:C2AE             	!:
 6603                        		__call		_sgx_spr_set.1
         1F:C2AE  20 9E E8   			call	_sgx_spr_set.1
 6604                        	
 6605                        		.dbg	line,	"include\routines_LEVELS.c", 159; sgx_spr_x(list_object_x_pos[i]);
 6606                        		__ld2x.umq	__scroll_object_end - 1  /* i */
         1F:C2B1  AD 22 2C   			lda	__scroll_object_end - 1
         1F:C2B4  0A         			asl	a
         1F:C2B5  AA         			tax
 6607                        		__ld.wax	_list_object_x_pos
         1F:C2B6  BD 00 25   			lda.l	_list_object_x_pos, x
         1F:C2B9  BC 01 25   			ldy.h	_list_object_x_pos, x
 6608                        		__call		_sgx_spr_x.1
         1F:C2BC  20 CB E8   			call	_sgx_spr_x.1
 6609                        	
 6610                        		.dbg	line,	"include\routines_LEVELS.c", 160; sgx_spr_y(list_object_y_pos[i]);
 6611                        		__ld2x.umq	__scroll_object_end - 1  /* i */
         1F:C2BF  AD 22 2C   			lda	__scroll_object_end - 1
         1F:C2C2  0A         			asl	a
         1F:C2C3  AA         			tax
 6612                        		__ld.wax	_list_object_y_pos
         1F:C2C4  BD 32 25   			lda.l	_list_object_y_pos, x
         1F:C2C7  BC 33 25   			ldy.h	_list_object_y_pos, x
 6613                        		__call		_sgx_spr_y.1
         1F:C2CA  20 DA E8   			call	_sgx_spr_y.1
 6614                        	
 6615                        		.dbg	line,	"include\routines_LEVELS.c", 161; }
 6616                        	
 6617                        		.dbg	line,	"include\routines_LEVELS.c", 162; }
 6618    1F:C2CD             	.LL218	.alias		.LL215
 6619                        		__bra		.LL215
         1F:C2CD  4C 85 C1   			bra	.LL215
 6620    1F:C2D0             	.LL217:
 6621                        	
 6622                        		.dbg	line,	"include\routines_LEVELS.c", 163; }
 6623    1F:C2D0             	.LL213:
 6624                        		__return	0
         1F:C2D0  4C EF FF   			jmp	leave_proc
 6625                        		.dbg	clear
 6626                        		.endp
 6627               2300     		.bss
 6628    F8:2300             	__scroll_object_end	.alias	leaf_stack
 6629               E31D     		.code
 6630                        		.pceas
 6631                        	
 6632                        		.dbg	line,	"include\routines_LEVELS.c", 166; void scroll_chest()
 6633                        		.dbg	line,	"include\routines_LEVELS.c", 167; {
 6634                        	;***********************
 6635                        	;***********************
 6636                        	
 6637                        		.hucc
 6638    1F:C2D3             		.proc		_scroll_chest
 6639                        		__enter		_scroll_chest
 6640                        	
 6641                        		.dbg	line,	"include\routines_LEVELS.c", 168; char i;
 6642                        	
 6643                        		.dbg	line,	"include\routines_LEVELS.c", 169; onscreen_chest_number = 0;
 6644                        		__st.umiq	0, _onscreen_chest_number
         1F:C2D3  9C C1 23   			stz	_onscreen_chest_number
 6645                        	
 6646                        		.dbg	line,	"include\routines_LEVELS.c", 171; for(i=0 ; i<level_chest_number ; i++)
 6647                        		__st.umiq	0, __scroll_chest_end - 1  /* i */
         1F:C2D6  9C 22 2C   			stz	__scroll_chest_end - 1
 6648    1F:C2D9             	.LL226:
 6649                        		__ld.umq	__scroll_chest_end - 1  /* i */
         1F:C2D9  AD 22 2C   			lda	__scroll_chest_end - 1
 6650                        		__ult_b.umq	_level_chest_number
         1F:C2DC  CD C0 23   			cmp	_level_chest_number		; Subtract memory from A.
         1F:C2DF  6A         			ror	a		; CC if A < memory.
         1F:C2E0  49 80      			eor	#$80
         1F:C2E2  2A         			rol	a
 6651                        		__btrue		.LL228
         1F:C2E3  B0 08      			bcs	.LL228
 6652                        		__bra		.LL229
         1F:C2E5  4C 33 C4   			bra	.LL229
 6653    1F:C2E8             	.LL227:
 6654                        		__inc.umq	__scroll_chest_end - 1  /* i */
         1F:C2E8  EE 22 2C   			inc	__scroll_chest_end - 1
 6655                        		__bra		.LL226
         1F:C2EB  80 EC      			bra	.LL226
 6656    1F:C2ED             	.LL228:
 6657                        	
 6658                        		.dbg	line,	"include\routines_LEVELS.c", 172; {
 6659                        	
 6660                        		.dbg	line,	"include\routines_LEVELS.c", 173; if(list_chest_state[i] != STATE_FREE)
 6661                        		__ldx.umq	__scroll_chest_end - 1  /* i */
         1F:C2ED  AE 22 2C   			ldx	__scroll_chest_end - 1
 6662                        		__tst.uax	_list_chest_state
         1F:C2F0  BD C2 23   			lda	_list_chest_state, x
         1F:C2F3  C9 01      			cmp	#1
 6663                        		__bfalse	.LL230
         1F:C2F5  90 F1      			bcc	.LL230
 6664                        	
 6665                        		.dbg	line,	"include\routines_LEVELS.c", 174; {
 6666                        	
 6667                        		.dbg	line,	"include\routines_LEVELS.c", 175; char scroll_allowed = FALSE;
 6668                        		__st.umiq	0, __scroll_chest_end - 2  /* scroll_allowed */
         1F:C2F7  9C 21 2C   			stz	__scroll_chest_end - 2
 6669                        	
 6670                        		.dbg	line,	"include\routines_LEVELS.c", 176; 
 6671                        	
 6672                        		.dbg	line,	"include\routines_LEVELS.c", 177; // IF CHEST X POSITION IS INFERIOR TO SCREEN RIGHT SIDE //
 6673                        	
 6674                        		.dbg	line,	"include\routines_LEVELS.c", 178; if(list_chest_x_pos_ref[i] < sgx_map_pxl_x + 256)
 6675                        		__ld.wm		_sgx_map_pxl_x
         1F:C2FA  AD D9 26   			lda.l	_sgx_map_pxl_x
         1F:C2FD  AC DA 26   			ldy.h	_sgx_map_pxl_x
 6676                        		__add.wi	256
         1F:C300  18         			clc
         1F:C301  69 00      			adc.l	#256
         1F:C303  42         			say
         1F:C304  69 01      			adc.h	#256
         1F:C306  42         			say
 6677                        		__ld2x.um	__scroll_chest_end - 1  /* i */
         1F:C307  AA         			tax
         1F:C308  AD 22 2C   			lda	__scroll_chest_end - 1
         1F:C30B  0A         			asl	a
         1F:C30C  22         			sax
 6678                        		__ugt_w.wax	_list_chest_x_pos_ref
         1F:C30D  18         			clc			; Subtract memory+1 from Y:A.
         1F:C30E  FD E8 25   			sbc.l	_list_chest_x_pos_ref, x
         1F:C311  98         			tya
         1F:C312  FD E9 25   			sbc.h	_list_chest_x_pos_ref, x		; CS if Y:A > memory.
 6679                        		__bfalse	.LL231
         1F:C315  B0 03 4C 9A			bcc	.LL231
         1F:C319  C3          
 6680                        	
 6681                        		.dbg	line,	"include\routines_LEVELS.c", 179; {
 6682                        	
 6683                        		.dbg	line,	"include\routines_LEVELS.c", 180; // IF CHEST X POSITION IS SUPERIOR TO SCREEN LEFT SIDE PLUS 32 PX //
 6684                        	
 6685                        		.dbg	line,	"include\routines_LEVELS.c", 181; if(list_chest_x_pos_ref[i] - sgx_map_pxl_x + 32 > 0)
 6686                        		__ld2x.umq	__scroll_chest_end - 1  /* i */
         1F:C31A  AD 22 2C   			lda	__scroll_chest_end - 1
         1F:C31D  0A         			asl	a
         1F:C31E  AA         			tax
 6687                        		__ld.wax	_list_chest_x_pos_ref
         1F:C31F  BD E8 25   			lda.l	_list_chest_x_pos_ref, x
         1F:C322  BC E9 25   			ldy.h	_list_chest_x_pos_ref, x
 6688                        		__sub.wm	_sgx_map_pxl_x
         1F:C325  38         			sec
         1F:C326  ED D9 26   			sbc.l	_sgx_map_pxl_x
         1F:C329  42         			say
         1F:C32A  ED DA 26   			sbc.h	_sgx_map_pxl_x
         1F:C32D  42         			say
 6689                        		__add.wi	32
         1F:C32E  18         			clc
         1F:C32F  69 20      			adc.l	#32
         1F:C331  90 01      			bcc	!+
         1F:C333  C8         			iny
         1F:C334             	!:
 6690                        		__sgt_w.wi	0
         1F:C334  18         			clc			; Subtract integer+1 from Y:A.
         1F:C335  E9 00      			sbc.l	#0
         1F:C337  98         			tya
         1F:C338  E9 00      			sbc.h	#0
         1F:C33A  50 02      			bvc	!+
         1F:C33C  49 80      			eor	#$80		; +ve if Y:A > integer (signed).
         1F:C33E  49 80      	!:		eor	#$80
         1F:C340  0A         			asl	a
 6691                        		__bfalse	.LL232
         1F:C341  90 57      			bcc	.LL232
 6692                        	
 6693                        		.dbg	line,	"include\routines_LEVELS.c", 182; {
 6694                        	
 6695                        		.dbg	line,	"include\routines_LEVELS.c", 183; // IF CHEST Y POSITION IS INFERIOR TO SCREEN BOTTOM //
 6696                        	
 6697                        		.dbg	line,	"include\routines_LEVELS.c", 184; if(list_chest_y_pos_ref[i] < sgx_map_pxl_y + 224)
 6698                        		__ld.wm		_sgx_map_pxl_y
         1F:C343  AD DB 26   			lda.l	_sgx_map_pxl_y
         1F:C346  AC DC 26   			ldy.h	_sgx_map_pxl_y
 6699                        		__add.wi	224
         1F:C349  18         			clc
         1F:C34A  69 E0      			adc.l	#224
         1F:C34C  90 01      			bcc	!+
         1F:C34E  C8         			iny
         1F:C34F             	!:
 6700                        		__ld2x.um	__scroll_chest_end - 1  /* i */
         1F:C34F  AA         			tax
         1F:C350  AD 22 2C   			lda	__scroll_chest_end - 1
         1F:C353  0A         			asl	a
         1F:C354  22         			sax
 6701                        		__ugt_w.wax	_list_chest_y_pos_ref
         1F:C355  18         			clc			; Subtract memory+1 from Y:A.
         1F:C356  FD F8 25   			sbc.l	_list_chest_y_pos_ref, x
         1F:C359  98         			tya
         1F:C35A  FD F9 25   			sbc.h	_list_chest_y_pos_ref, x		; CS if Y:A > memory.
 6702                        		__bfalse	.LL233
         1F:C35D  90 3B      			bcc	.LL233
 6703                        	
 6704                        		.dbg	line,	"include\routines_LEVELS.c", 185; {
 6705                        	
 6706                        		.dbg	line,	"include\routines_LEVELS.c", 186; // IF CHEST Y POSITION IS SUPERIOR TO SCREEN TOP PLUS 32 PX //
 6707                        	
 6708                        		.dbg	line,	"include\routines_LEVELS.c", 187; if(list_chest_y_pos_ref[i] - sgx_map_pxl_y + 32 > 0)
 6709                        		__ld2x.umq	__scroll_chest_end - 1  /* i */
         1F:C35F  AD 22 2C   			lda	__scroll_chest_end - 1
         1F:C362  0A         			asl	a
         1F:C363  AA         			tax
 6710                        		__ld.wax	_list_chest_y_pos_ref
         1F:C364  BD F8 25   			lda.l	_list_chest_y_pos_ref, x
         1F:C367  BC F9 25   			ldy.h	_list_chest_y_pos_ref, x
 6711                        		__sub.wm	_sgx_map_pxl_y
         1F:C36A  38         			sec
         1F:C36B  ED DB 26   			sbc.l	_sgx_map_pxl_y
         1F:C36E  42         			say
         1F:C36F  ED DC 26   			sbc.h	_sgx_map_pxl_y
         1F:C372  42         			say
 6712                        		__add.wi	32
         1F:C373  18         			clc
         1F:C374  69 20      			adc.l	#32
         1F:C376  90 01      			bcc	!+
         1F:C378  C8         			iny
         1F:C379             	!:
 6713                        		__sgt_w.wi	0
         1F:C379  18         			clc			; Subtract integer+1 from Y:A.
         1F:C37A  E9 00      			sbc.l	#0
         1F:C37C  98         			tya
         1F:C37D  E9 00      			sbc.h	#0
         1F:C37F  50 02      			bvc	!+
         1F:C381  49 80      			eor	#$80		; +ve if Y:A > integer (signed).
         1F:C383  49 80      	!:		eor	#$80
         1F:C385  0A         			asl	a
 6714                        		__bfalse	.LL234
         1F:C386  90 12      			bcc	.LL234
 6715                        	
 6716                        		.dbg	line,	"include\routines_LEVELS.c", 188; {
 6717                        	
 6718                        		.dbg	line,	"include\routines_LEVELS.c", 189; // WE STORE THE CHEST ID //
 6719                        	
 6720                        		.dbg	line,	"include\routines_LEVELS.c", 190; list_onscreen_chest[onscreen_chest_number] = i;
 6721                        		__ldx.umq	_onscreen_chest_number
         1F:C388  AE C1 23   			ldx	_onscreen_chest_number
 6722                        		__ld.um		__scroll_chest_end - 1  /* i */
         1F:C38B  AD 22 2C   			lda	__scroll_chest_end - 1
         1F:C38E  C2         			cly
 6723                        		__st.uaxq	_list_onscreen_chest
         1F:C38F  9D CA 23   			sta	_list_onscreen_chest, x
 6724                        	
 6725                        		.dbg	line,	"include\routines_LEVELS.c", 191; onscreen_chest_number += 1;
 6726                        		__add_st.umiq	1, _onscreen_chest_number
         1F:C392  EE C1 23   			inc	_onscreen_chest_number
 6727                        	
 6728                        		.dbg	line,	"include\routines_LEVELS.c", 192; 
 6729                        	
 6730                        		.dbg	line,	"include\routines_LEVELS.c", 193; scroll_allowed = TRUE;
 6731                        		__st.umiq	1, __scroll_chest_end - 2  /* scroll_allowed */
         1F:C395  A9 01      			lda.l	#1
         1F:C397  8D 21 2C   			sta	__scroll_chest_end - 2
 6732                        	
 6733                        		.dbg	line,	"include\routines_LEVELS.c", 194; }
 6734                        	
 6735                        		.dbg	line,	"include\routines_LEVELS.c", 195; }
 6736    1F:C39A             	.LL234:
 6737                        	
 6738                        		.dbg	line,	"include\routines_LEVELS.c", 196; }
 6739    1F:C39A             	.LL233:
 6740                        	
 6741                        		.dbg	line,	"include\routines_LEVELS.c", 197; }
 6742    1F:C39A             	.LL232:
 6743                        	
 6744                        		.dbg	line,	"include\routines_LEVELS.c", 199; // IF CHEST IS WITHIN THE SCREEN LIMITS //
 6745                        	
 6746                        		.dbg	line,	"include\routines_LEVELS.c", 200; if(scroll_allowed == TRUE)
 6747    1F:C39A             	.LL231:
 6748                        		__ld.umq	__scroll_chest_end - 2  /* scroll_allowed */
         1F:C39A  AD 21 2C   			lda	__scroll_chest_end - 2
 6749                        		__equ_b.uiq	1
         1F:C39D  C9 01      			cmp	#1
         1F:C39F  F0 01      			beq	!+
         1F:C3A1  18         			clc
         1F:C3A2             	!:
 6750                        		__bfalse	.LL235
         1F:C3A2  90 44      			bcc	.LL235
 6751                        	
 6752                        		.dbg	line,	"include\routines_LEVELS.c", 201; {
 6753                        	
 6754                        		.dbg	line,	"include\routines_LEVELS.c", 202; list_chest_x_pos[i] = list_chest_x_pos_ref[i] - sgx_map_pxl_x;
 6755                        		__ld2x.umq	__scroll_chest_end - 1  /* i */
         1F:C3A4  AD 22 2C   			lda	__scroll_chest_end - 1
         1F:C3A7  0A         			asl	a
         1F:C3A8  AA         			tax
 6756                        		__ld.wax	_list_chest_x_pos_ref
         1F:C3A9  BD E8 25   			lda.l	_list_chest_x_pos_ref, x
         1F:C3AC  BC E9 25   			ldy.h	_list_chest_x_pos_ref, x
 6757                        		__sub.wm	_sgx_map_pxl_x
         1F:C3AF  38         			sec
         1F:C3B0  ED D9 26   			sbc.l	_sgx_map_pxl_x
         1F:C3B3  42         			say
         1F:C3B4  ED DA 26   			sbc.h	_sgx_map_pxl_x
         1F:C3B7  42         			say
 6758                        		__ld2x.um	__scroll_chest_end - 1  /* i */
         1F:C3B8  AA         			tax
         1F:C3B9  AD 22 2C   			lda	__scroll_chest_end - 1
         1F:C3BC  0A         			asl	a
         1F:C3BD  22         			sax
 6759                        		__st.waxq	_list_chest_x_pos
         1F:C3BE  9D C8 25   			sta.l	_list_chest_x_pos, x
         1F:C3C1  98         			tya
         1F:C3C2  9D C9 25   			sta.h	_list_chest_x_pos, x
 6760                        	
 6761                        		.dbg	line,	"include\routines_LEVELS.c", 203; list_chest_y_pos[i] = list_chest_y_pos_ref[i] - sgx_map_pxl_y;
 6762                        		__ld2x.umq	__scroll_chest_end - 1  /* i */
         1F:C3C5  AD 22 2C   			lda	__scroll_chest_end - 1
         1F:C3C8  0A         			asl	a
         1F:C3C9  AA         			tax
 6763                        		__ld.wax	_list_chest_y_pos_ref
         1F:C3CA  BD F8 25   			lda.l	_list_chest_y_pos_ref, x
         1F:C3CD  BC F9 25   			ldy.h	_list_chest_y_pos_ref, x
 6764                        		__sub.wm	_sgx_map_pxl_y
         1F:C3D0  38         			sec
         1F:C3D1  ED DB 26   			sbc.l	_sgx_map_pxl_y
         1F:C3D4  42         			say
         1F:C3D5  ED DC 26   			sbc.h	_sgx_map_pxl_y
         1F:C3D8  42         			say
 6765                        		__ld2x.um	__scroll_chest_end - 1  /* i */
         1F:C3D9  AA         			tax
         1F:C3DA  AD 22 2C   			lda	__scroll_chest_end - 1
         1F:C3DD  0A         			asl	a
         1F:C3DE  22         			sax
 6766                        		__st.waxq	_list_chest_y_pos
         1F:C3DF  9D D8 25   			sta.l	_list_chest_y_pos, x
         1F:C3E2  98         			tya
         1F:C3E3  9D D9 25   			sta.h	_list_chest_y_pos, x
 6767                        	
 6768                        		.dbg	line,	"include\routines_LEVELS.c", 204; }
 6769                        	
 6770                        		.dbg	line,	"include\routines_LEVELS.c", 206; else
 6771                        		__bra		.LL236
         1F:C3E6  80 1E      			bra	.LL236
 6772    1F:C3E8             	.LL235:
 6773                        	
 6774                        		.dbg	line,	"include\routines_LEVELS.c", 207; {
 6775                        	
 6776                        		.dbg	line,	"include\routines_LEVELS.c", 208; list_chest_x_pos[i] = -32;
 6777                        		__ld2x.umq	__scroll_chest_end - 1  /* i */
         1F:C3E8  AD 22 2C   			lda	__scroll_chest_end - 1
         1F:C3EB  0A         			asl	a
         1F:C3EC  AA         			tax
 6778                        		__st.waxiq	-32, _list_chest_x_pos
         1F:C3ED  A9 E0      			lda.l	#-32
         1F:C3EF  9D C8 25   			sta.l	_list_chest_x_pos, x
         1F:C3F2  A9 FF      			lda.h	#-32
         1F:C3F4  9D C9 25   			sta.h	_list_chest_x_pos, x
 6779                        	
 6780                        		.dbg	line,	"include\routines_LEVELS.c", 209; list_chest_y_pos[i] = -32;
 6781                        		__ld2x.umq	__scroll_chest_end - 1  /* i */
         1F:C3F7  AD 22 2C   			lda	__scroll_chest_end - 1
         1F:C3FA  0A         			asl	a
         1F:C3FB  AA         			tax
 6782                        		__st.waxiq	-32, _list_chest_y_pos
         1F:C3FC  A9 E0      			lda.l	#-32
         1F:C3FE  9D D8 25   			sta.l	_list_chest_y_pos, x
         1F:C401  A9 FF      			lda.h	#-32
         1F:C403  9D D9 25   			sta.h	_list_chest_y_pos, x
 6783                        	
 6784                        		.dbg	line,	"include\routines_LEVELS.c", 210; }
 6785    1F:C406             	.LL236:
 6786                        	
 6787                        		.dbg	line,	"include\routines_LEVELS.c", 212; sgx_spr_set(i + chest_start_index);
 6788                        		__ld.um		__scroll_chest_end - 1  /* i */
         1F:C406  AD 22 2C   			lda	__scroll_chest_end - 1
         1F:C409  C2         			cly
 6789                        		__add.um	_chest_start_index
         1F:C40A  18         			clc
         1F:C40B  6D BF 23   			adc	_chest_start_index
         1F:C40E  90 01      			bcc	!+
         1F:C410  C8         			iny
         1F:C411             	!:
 6790                        		__call		_sgx_spr_set.1
         1F:C411  20 9E E8   			call	_sgx_spr_set.1
 6791                        	
 6792                        		.dbg	line,	"include\routines_LEVELS.c", 214; sgx_spr_x(list_chest_x_pos[i]);
 6793                        		__ld2x.umq	__scroll_chest_end - 1  /* i */
         1F:C414  AD 22 2C   			lda	__scroll_chest_end - 1
         1F:C417  0A         			asl	a
         1F:C418  AA         			tax
 6794                        		__ld.wax	_list_chest_x_pos
         1F:C419  BD C8 25   			lda.l	_list_chest_x_pos, x
         1F:C41C  BC C9 25   			ldy.h	_list_chest_x_pos, x
 6795                        		__call		_sgx_spr_x.1
         1F:C41F  20 CB E8   			call	_sgx_spr_x.1
 6796                        	
 6797                        		.dbg	line,	"include\routines_LEVELS.c", 215; sgx_spr_y(list_chest_y_pos[i]);
 6798                        		__ld2x.umq	__scroll_chest_end - 1  /* i */
         1F:C422  AD 22 2C   			lda	__scroll_chest_end - 1
         1F:C425  0A         			asl	a
         1F:C426  AA         			tax
 6799                        		__ld.wax	_list_chest_y_pos
         1F:C427  BD D8 25   			lda.l	_list_chest_y_pos, x
         1F:C42A  BC D9 25   			ldy.h	_list_chest_y_pos, x
 6800                        		__call		_sgx_spr_y.1
         1F:C42D  20 DA E8   			call	_sgx_spr_y.1
 6801                        	
 6802                        		.dbg	line,	"include\routines_LEVELS.c", 216; }
 6803                        	
 6804                        		.dbg	line,	"include\routines_LEVELS.c", 217; }
 6805    1F:C430             	.LL230	.alias		.LL227
 6806                        		__bra		.LL227
         1F:C430  4C E8 C2   			bra	.LL227
 6807    1F:C433             	.LL229:
 6808                        	
 6809                        		.dbg	line,	"include\routines_LEVELS.c", 218; }
 6810    1F:C433             	.LL225:
 6811                        		__return	0
         1F:C433  4C EF FF   			jmp	leave_proc
 6812                        		.dbg	clear
 6813                        		.endp
 6814               2300     		.bss
 6815    F8:2300             	__scroll_chest_end	.alias	leaf_stack
 6816               E31D     		.code
 6817                        		.pceas
 6818                        	
 6819                        		.dbg	line,	"include\routines_LEVELS.c", 221; void scroll_npc()
 6820                        		.dbg	line,	"include\routines_LEVELS.c", 222; {
 6821                        	;***********************
 6822                        	;***********************
 6823                        	
 6824                        		.hucc
 6825    1F:C436             		.proc		_scroll_npc
 6826                        		__enter		_scroll_npc
 6827                        	
 6828                        		.dbg	line,	"include\routines_LEVELS.c", 223; char i;
 6829                        	
 6830                        		.dbg	line,	"include\routines_LEVELS.c", 224; onscreen_npc_number = 0;
 6831                        		__st.umiq	0, _onscreen_npc_number
         1F:C436  9C D4 23   			stz	_onscreen_npc_number
 6832                        	
 6833                        		.dbg	line,	"include\routines_LEVELS.c", 226; for(i=0 ; i<level_npc_number ; i++)
 6834                        		__st.umiq	0, __scroll_npc_end - 1  /* i */
         1F:C439  9C 22 2C   			stz	__scroll_npc_end - 1
 6835    1F:C43C             	.LL238:
 6836                        		__ld.umq	__scroll_npc_end - 1  /* i */
         1F:C43C  AD 22 2C   			lda	__scroll_npc_end - 1
 6837                        		__ult_b.umq	_level_npc_number
         1F:C43F  CD D3 23   			cmp	_level_npc_number		; Subtract memory from A.
         1F:C442  6A         			ror	a		; CC if A < memory.
         1F:C443  49 80      			eor	#$80
         1F:C445  2A         			rol	a
 6838                        		__btrue		.LL240
         1F:C446  B0 08      			bcs	.LL240
 6839                        		__bra		.LL241
         1F:C448  4C 96 C5   			bra	.LL241
 6840    1F:C44B             	.LL239:
 6841                        		__inc.umq	__scroll_npc_end - 1  /* i */
         1F:C44B  EE 22 2C   			inc	__scroll_npc_end - 1
 6842                        		__bra		.LL238
         1F:C44E  80 EC      			bra	.LL238
 6843    1F:C450             	.LL240:
 6844                        	
 6845                        		.dbg	line,	"include\routines_LEVELS.c", 227; {
 6846                        	
 6847                        		.dbg	line,	"include\routines_LEVELS.c", 228; if(list_npc_state[i] != STATE_FREE)
 6848                        		__ldx.umq	__scroll_npc_end - 1  /* i */
         1F:C450  AE 22 2C   			ldx	__scroll_npc_end - 1
 6849                        		__tst.uax	_list_npc_state
         1F:C453  BD DE 23   			lda	_list_npc_state, x
         1F:C456  C9 01      			cmp	#1
 6850                        		__bfalse	.LL242
         1F:C458  90 F1      			bcc	.LL242
 6851                        	
 6852                        		.dbg	line,	"include\routines_LEVELS.c", 229; {
 6853                        	
 6854                        		.dbg	line,	"include\routines_LEVELS.c", 230; char scroll_allowed = FALSE;
 6855                        		__st.umiq	0, __scroll_npc_end - 2  /* scroll_allowed */
         1F:C45A  9C 21 2C   			stz	__scroll_npc_end - 2
 6856                        	
 6857                        		.dbg	line,	"include\routines_LEVELS.c", 231; 
 6858                        	
 6859                        		.dbg	line,	"include\routines_LEVELS.c", 232; // IF NPC X POSITION IS INFERIOR TO SCREEN RIGHT SIDE //
 6860                        	
 6861                        		.dbg	line,	"include\routines_LEVELS.c", 233; if(list_npc_x_pos_ref[i] < sgx_map_pxl_x + 256)
 6862                        		__ld.wm		_sgx_map_pxl_x
         1F:C45D  AD D9 26   			lda.l	_sgx_map_pxl_x
         1F:C460  AC DA 26   			ldy.h	_sgx_map_pxl_x
 6863                        		__add.wi	256
         1F:C463  18         			clc
         1F:C464  69 00      			adc.l	#256
         1F:C466  42         			say
         1F:C467  69 01      			adc.h	#256
         1F:C469  42         			say
 6864                        		__ld2x.um	__scroll_npc_end - 1  /* i */
         1F:C46A  AA         			tax
         1F:C46B  AD 22 2C   			lda	__scroll_npc_end - 1
         1F:C46E  0A         			asl	a
         1F:C46F  22         			sax
 6865                        		__ugt_w.wax	_list_npc_x_pos_ref
         1F:C470  18         			clc			; Subtract memory+1 from Y:A.
         1F:C471  FD 2C 26   			sbc.l	_list_npc_x_pos_ref, x
         1F:C474  98         			tya
         1F:C475  FD 2D 26   			sbc.h	_list_npc_x_pos_ref, x		; CS if Y:A > memory.
 6866                        		__bfalse	.LL243
         1F:C478  B0 03 4C FD			bcc	.LL243
         1F:C47C  C4          
 6867                        	
 6868                        		.dbg	line,	"include\routines_LEVELS.c", 234; {
 6869                        	
 6870                        		.dbg	line,	"include\routines_LEVELS.c", 235; // IF NPC X POSITION IS SUPERIOR TO SCREEN LEFT SIDE PLUS 32 PX //
 6871                        	
 6872                        		.dbg	line,	"include\routines_LEVELS.c", 236; if(list_npc_x_pos_ref[i] - sgx_map_pxl_x + 32 > 0)
 6873                        		__ld2x.umq	__scroll_npc_end - 1  /* i */
         1F:C47D  AD 22 2C   			lda	__scroll_npc_end - 1
         1F:C480  0A         			asl	a
         1F:C481  AA         			tax
 6874                        		__ld.wax	_list_npc_x_pos_ref
         1F:C482  BD 2C 26   			lda.l	_list_npc_x_pos_ref, x
         1F:C485  BC 2D 26   			ldy.h	_list_npc_x_pos_ref, x
 6875                        		__sub.wm	_sgx_map_pxl_x
         1F:C488  38         			sec
         1F:C489  ED D9 26   			sbc.l	_sgx_map_pxl_x
         1F:C48C  42         			say
         1F:C48D  ED DA 26   			sbc.h	_sgx_map_pxl_x
         1F:C490  42         			say
 6876                        		__add.wi	32
         1F:C491  18         			clc
         1F:C492  69 20      			adc.l	#32
         1F:C494  90 01      			bcc	!+
         1F:C496  C8         			iny
         1F:C497             	!:
 6877                        		__sgt_w.wi	0
         1F:C497  18         			clc			; Subtract integer+1 from Y:A.
         1F:C498  E9 00      			sbc.l	#0
         1F:C49A  98         			tya
         1F:C49B  E9 00      			sbc.h	#0
         1F:C49D  50 02      			bvc	!+
         1F:C49F  49 80      			eor	#$80		; +ve if Y:A > integer (signed).
         1F:C4A1  49 80      	!:		eor	#$80
         1F:C4A3  0A         			asl	a
 6878                        		__bfalse	.LL244
         1F:C4A4  90 57      			bcc	.LL244
 6879                        	
 6880                        		.dbg	line,	"include\routines_LEVELS.c", 237; {
 6881                        	
 6882                        		.dbg	line,	"include\routines_LEVELS.c", 238; // IF NPC Y POSITION IS INFERIOR TO SCREEN BOTTOM //
 6883                        	
 6884                        		.dbg	line,	"include\routines_LEVELS.c", 239; if(list_npc_y_pos_ref[i] < sgx_map_pxl_y + 224)
 6885                        		__ld.wm		_sgx_map_pxl_y
         1F:C4A6  AD DB 26   			lda.l	_sgx_map_pxl_y
         1F:C4A9  AC DC 26   			ldy.h	_sgx_map_pxl_y
 6886                        		__add.wi	224
         1F:C4AC  18         			clc
         1F:C4AD  69 E0      			adc.l	#224
         1F:C4AF  90 01      			bcc	!+
         1F:C4B1  C8         			iny
         1F:C4B2             	!:
 6887                        		__ld2x.um	__scroll_npc_end - 1  /* i */
         1F:C4B2  AA         			tax
         1F:C4B3  AD 22 2C   			lda	__scroll_npc_end - 1
         1F:C4B6  0A         			asl	a
         1F:C4B7  22         			sax
 6888                        		__ugt_w.wax	_list_npc_y_pos_ref
         1F:C4B8  18         			clc			; Subtract memory+1 from Y:A.
         1F:C4B9  FD 3E 26   			sbc.l	_list_npc_y_pos_ref, x
         1F:C4BC  98         			tya
         1F:C4BD  FD 3F 26   			sbc.h	_list_npc_y_pos_ref, x		; CS if Y:A > memory.
 6889                        		__bfalse	.LL245
         1F:C4C0  90 3B      			bcc	.LL245
 6890                        	
 6891                        		.dbg	line,	"include\routines_LEVELS.c", 240; {
 6892                        	
 6893                        		.dbg	line,	"include\routines_LEVELS.c", 241; // IF NPC Y POSITION IS SUPERIOR TO SCREEN TOP PLUS 32 PX //
 6894                        	
 6895                        		.dbg	line,	"include\routines_LEVELS.c", 242; if(list_npc_y_pos_ref[i] - sgx_map_pxl_y + 32 > 0)
 6896                        		__ld2x.umq	__scroll_npc_end - 1  /* i */
         1F:C4C2  AD 22 2C   			lda	__scroll_npc_end - 1
         1F:C4C5  0A         			asl	a
         1F:C4C6  AA         			tax
 6897                        		__ld.wax	_list_npc_y_pos_ref
         1F:C4C7  BD 3E 26   			lda.l	_list_npc_y_pos_ref, x
         1F:C4CA  BC 3F 26   			ldy.h	_list_npc_y_pos_ref, x
 6898                        		__sub.wm	_sgx_map_pxl_y
         1F:C4CD  38         			sec
         1F:C4CE  ED DB 26   			sbc.l	_sgx_map_pxl_y
         1F:C4D1  42         			say
         1F:C4D2  ED DC 26   			sbc.h	_sgx_map_pxl_y
         1F:C4D5  42         			say
 6899                        		__add.wi	32
         1F:C4D6  18         			clc
         1F:C4D7  69 20      			adc.l	#32
         1F:C4D9  90 01      			bcc	!+
         1F:C4DB  C8         			iny
         1F:C4DC             	!:
 6900                        		__sgt_w.wi	0
         1F:C4DC  18         			clc			; Subtract integer+1 from Y:A.
         1F:C4DD  E9 00      			sbc.l	#0
         1F:C4DF  98         			tya
         1F:C4E0  E9 00      			sbc.h	#0
         1F:C4E2  50 02      			bvc	!+
         1F:C4E4  49 80      			eor	#$80		; +ve if Y:A > integer (signed).
         1F:C4E6  49 80      	!:		eor	#$80
         1F:C4E8  0A         			asl	a
 6901                        		__bfalse	.LL246
         1F:C4E9  90 12      			bcc	.LL246
 6902                        	
 6903                        		.dbg	line,	"include\routines_LEVELS.c", 243; {
 6904                        	
 6905                        		.dbg	line,	"include\routines_LEVELS.c", 244; // WE STORE THE NPC ID //
 6906                        	
 6907                        		.dbg	line,	"include\routines_LEVELS.c", 245; list_onscreen_npc[onscreen_npc_number] = i;
 6908                        		__ldx.umq	_onscreen_npc_number
         1F:C4EB  AE D4 23   			ldx	_onscreen_npc_number
 6909                        		__ld.um		__scroll_npc_end - 1  /* i */
         1F:C4EE  AD 22 2C   			lda	__scroll_npc_end - 1
         1F:C4F1  C2         			cly
 6910                        		__st.uaxq	_list_onscreen_npc
         1F:C4F2  9D E7 23   			sta	_list_onscreen_npc, x
 6911                        	
 6912                        		.dbg	line,	"include\routines_LEVELS.c", 246; onscreen_npc_number += 1;
 6913                        		__add_st.umiq	1, _onscreen_npc_number
         1F:C4F5  EE D4 23   			inc	_onscreen_npc_number
 6914                        	
 6915                        		.dbg	line,	"include\routines_LEVELS.c", 247; 
 6916                        	
 6917                        		.dbg	line,	"include\routines_LEVELS.c", 248; scroll_allowed = TRUE;
 6918                        		__st.umiq	1, __scroll_npc_end - 2  /* scroll_allowed */
         1F:C4F8  A9 01      			lda.l	#1
         1F:C4FA  8D 21 2C   			sta	__scroll_npc_end - 2
 6919                        	
 6920                        		.dbg	line,	"include\routines_LEVELS.c", 249; }
 6921                        	
 6922                        		.dbg	line,	"include\routines_LEVELS.c", 250; }
 6923    1F:C4FD             	.LL246:
 6924                        	
 6925                        		.dbg	line,	"include\routines_LEVELS.c", 251; }
 6926    1F:C4FD             	.LL245:
 6927                        	
 6928                        		.dbg	line,	"include\routines_LEVELS.c", 252; }
 6929    1F:C4FD             	.LL244:
 6930                        	
 6931                        		.dbg	line,	"include\routines_LEVELS.c", 254; // IF NPC IS WITHIN THE SCREEN LIMITS //
 6932                        	
 6933                        		.dbg	line,	"include\routines_LEVELS.c", 255; if(scroll_allowed == TRUE)
 6934    1F:C4FD             	.LL243:
 6935                        		__ld.umq	__scroll_npc_end - 2  /* scroll_allowed */
         1F:C4FD  AD 21 2C   			lda	__scroll_npc_end - 2
 6936                        		__equ_b.uiq	1
         1F:C500  C9 01      			cmp	#1
         1F:C502  F0 01      			beq	!+
         1F:C504  18         			clc
         1F:C505             	!:
 6937                        		__bfalse	.LL247
         1F:C505  90 44      			bcc	.LL247
 6938                        	
 6939                        		.dbg	line,	"include\routines_LEVELS.c", 256; {
 6940                        	
 6941                        		.dbg	line,	"include\routines_LEVELS.c", 257; list_npc_x_pos[i] = list_npc_x_pos_ref[i] - sgx_map_pxl_x;
 6942                        		__ld2x.umq	__scroll_npc_end - 1  /* i */
         1F:C507  AD 22 2C   			lda	__scroll_npc_end - 1
         1F:C50A  0A         			asl	a
         1F:C50B  AA         			tax
 6943                        		__ld.wax	_list_npc_x_pos_ref
         1F:C50C  BD 2C 26   			lda.l	_list_npc_x_pos_ref, x
         1F:C50F  BC 2D 26   			ldy.h	_list_npc_x_pos_ref, x
 6944                        		__sub.wm	_sgx_map_pxl_x
         1F:C512  38         			sec
         1F:C513  ED D9 26   			sbc.l	_sgx_map_pxl_x
         1F:C516  42         			say
         1F:C517  ED DA 26   			sbc.h	_sgx_map_pxl_x
         1F:C51A  42         			say
 6945                        		__ld2x.um	__scroll_npc_end - 1  /* i */
         1F:C51B  AA         			tax
         1F:C51C  AD 22 2C   			lda	__scroll_npc_end - 1
         1F:C51F  0A         			asl	a
         1F:C520  22         			sax
 6946                        		__st.waxq	_list_npc_x_pos
         1F:C521  9D 08 26   			sta.l	_list_npc_x_pos, x
         1F:C524  98         			tya
         1F:C525  9D 09 26   			sta.h	_list_npc_x_pos, x
 6947                        	
 6948                        		.dbg	line,	"include\routines_LEVELS.c", 258; list_npc_y_pos[i] = list_npc_y_pos_ref[i] - sgx_map_pxl_y;
 6949                        		__ld2x.umq	__scroll_npc_end - 1  /* i */
         1F:C528  AD 22 2C   			lda	__scroll_npc_end - 1
         1F:C52B  0A         			asl	a
         1F:C52C  AA         			tax
 6950                        		__ld.wax	_list_npc_y_pos_ref
         1F:C52D  BD 3E 26   			lda.l	_list_npc_y_pos_ref, x
         1F:C530  BC 3F 26   			ldy.h	_list_npc_y_pos_ref, x
 6951                        		__sub.wm	_sgx_map_pxl_y
         1F:C533  38         			sec
         1F:C534  ED DB 26   			sbc.l	_sgx_map_pxl_y
         1F:C537  42         			say
         1F:C538  ED DC 26   			sbc.h	_sgx_map_pxl_y
         1F:C53B  42         			say
 6952                        		__ld2x.um	__scroll_npc_end - 1  /* i */
         1F:C53C  AA         			tax
         1F:C53D  AD 22 2C   			lda	__scroll_npc_end - 1
         1F:C540  0A         			asl	a
         1F:C541  22         			sax
 6953                        		__st.waxq	_list_npc_y_pos
         1F:C542  9D 1A 26   			sta.l	_list_npc_y_pos, x
         1F:C545  98         			tya
         1F:C546  9D 1B 26   			sta.h	_list_npc_y_pos, x
 6954                        	
 6955                        		.dbg	line,	"include\routines_LEVELS.c", 259; }
 6956                        	
 6957                        		.dbg	line,	"include\routines_LEVELS.c", 261; else
 6958                        		__bra		.LL248
         1F:C549  80 1E      			bra	.LL248
 6959    1F:C54B             	.LL247:
 6960                        	
 6961                        		.dbg	line,	"include\routines_LEVELS.c", 262; {
 6962                        	
 6963                        		.dbg	line,	"include\routines_LEVELS.c", 263; list_npc_x_pos[i] = -32;
 6964                        		__ld2x.umq	__scroll_npc_end - 1  /* i */
         1F:C54B  AD 22 2C   			lda	__scroll_npc_end - 1
         1F:C54E  0A         			asl	a
         1F:C54F  AA         			tax
 6965                        		__st.waxiq	-32, _list_npc_x_pos
         1F:C550  A9 E0      			lda.l	#-32
         1F:C552  9D 08 26   			sta.l	_list_npc_x_pos, x
         1F:C555  A9 FF      			lda.h	#-32
         1F:C557  9D 09 26   			sta.h	_list_npc_x_pos, x
 6966                        	
 6967                        		.dbg	line,	"include\routines_LEVELS.c", 264; list_npc_y_pos[i] = -32;
 6968                        		__ld2x.umq	__scroll_npc_end - 1  /* i */
         1F:C55A  AD 22 2C   			lda	__scroll_npc_end - 1
         1F:C55D  0A         			asl	a
         1F:C55E  AA         			tax
 6969                        		__st.waxiq	-32, _list_npc_y_pos
         1F:C55F  A9 E0      			lda.l	#-32
         1F:C561  9D 1A 26   			sta.l	_list_npc_y_pos, x
         1F:C564  A9 FF      			lda.h	#-32
         1F:C566  9D 1B 26   			sta.h	_list_npc_y_pos, x
 6970                        	
 6971                        		.dbg	line,	"include\routines_LEVELS.c", 265; }
 6972    1F:C569             	.LL248:
 6973                        	
 6974                        		.dbg	line,	"include\routines_LEVELS.c", 267; sgx_spr_set(i + npc_start_index);
 6975                        		__ld.um		__scroll_npc_end - 1  /* i */
         1F:C569  AD 22 2C   			lda	__scroll_npc_end - 1
         1F:C56C  C2         			cly
 6976                        		__add.um	_npc_start_index
         1F:C56D  18         			clc
         1F:C56E  6D D2 23   			adc	_npc_start_index
         1F:C571  90 01      			bcc	!+
         1F:C573  C8         			iny
         1F:C574             	!:
 6977                        		__call		_sgx_spr_set.1
         1F:C574  20 9E E8   			call	_sgx_spr_set.1
 6978                        	
 6979                        		.dbg	line,	"include\routines_LEVELS.c", 269; sgx_spr_x(list_npc_x_pos[i]);
 6980                        		__ld2x.umq	__scroll_npc_end - 1  /* i */
         1F:C577  AD 22 2C   			lda	__scroll_npc_end - 1
         1F:C57A  0A         			asl	a
         1F:C57B  AA         			tax
 6981                        		__ld.wax	_list_npc_x_pos
         1F:C57C  BD 08 26   			lda.l	_list_npc_x_pos, x
         1F:C57F  BC 09 26   			ldy.h	_list_npc_x_pos, x
 6982                        		__call		_sgx_spr_x.1
         1F:C582  20 CB E8   			call	_sgx_spr_x.1
 6983                        	
 6984                        		.dbg	line,	"include\routines_LEVELS.c", 270; sgx_spr_y(list_npc_y_pos[i]);
 6985                        		__ld2x.umq	__scroll_npc_end - 1  /* i */
         1F:C585  AD 22 2C   			lda	__scroll_npc_end - 1
         1F:C588  0A         			asl	a
         1F:C589  AA         			tax
 6986                        		__ld.wax	_list_npc_y_pos
         1F:C58A  BD 1A 26   			lda.l	_list_npc_y_pos, x
         1F:C58D  BC 1B 26   			ldy.h	_list_npc_y_pos, x
 6987                        		__call		_sgx_spr_y.1
         1F:C590  20 DA E8   			call	_sgx_spr_y.1
 6988                        	
 6989                        		.dbg	line,	"include\routines_LEVELS.c", 271; }
 6990                        	
 6991                        		.dbg	line,	"include\routines_LEVELS.c", 272; }
 6992    1F:C593             	.LL242	.alias		.LL239
 6993                        		__bra		.LL239
         1F:C593  4C 4B C4   			bra	.LL239
 6994    1F:C596             	.LL241:
 6995                        	
 6996                        		.dbg	line,	"include\routines_LEVELS.c", 273; }
 6997    1F:C596             	.LL237:
 6998                        		__return	0
         1F:C596  4C EF FF   			jmp	leave_proc
 6999                        		.dbg	clear
 7000                        		.endp
 7001               2300     		.bss
 7002    F8:2300             	__scroll_npc_end	.alias	leaf_stack
 7003               E31D     		.code
 7004                        		.pceas
 7005                        	
 7006                        		.dbg	line,	"include\routines_LEVELS.c", 276; void scroll_BG()
 7007                        		.dbg	line,	"include\routines_LEVELS.c", 277; {
 7008                        	;***********************
 7009                        	;***********************
 7010                        	
 7011                        		.hucc
 7012    1F:D59A             		.proc		_scroll_BG
 7013                        		__enter		_scroll_BG
 7014                        	
 7015                        		.dbg	line,	"include\routines_LEVELS.c", 278; // UPDATE VDC2 BG //
 7016                        	
 7017                        		.dbg	line,	"include\routines_LEVELS.c", 279; sgx_scroll_map();
 7018                        		__call		_sgx_scroll_map
         1F:D59A  20 63 FF   			call	_sgx_scroll_map
 7019                        	
 7020                        		.dbg	line,	"include\routines_LEVELS.c", 281; //--------------------------------------------------------------------------------------//
 7021                        	
 7022                        		.dbg	line,	"include\routines_LEVELS.c", 282; //                                        VDC 2                                         //
 7023                        	
 7024                        		.dbg	line,	"include\routines_LEVELS.c", 283; //--------------------------------------------------------------------------------------//
 7025                        	
 7026                        		.dbg	line,	"include\routines_LEVELS.c", 285; sgx_scroll_split(0,   0, sgx_map_pxl_x & (BAT_SIZE_W - 1), sgx_map_pxl_y & (BAT_SIZE_H - 1), BKG_ON | SPR_ON);
 7027                        		__st.umiq	0, _al
         1F:D59D  64 F8      			stz	_al
 7028                        		__st.umiq	0, _ah
         1F:D59F  64 F9      			stz	_ah
 7029                        		__ld.wm		_sgx_map_pxl_x
         1F:D5A1  AD D9 26   			lda.l	_sgx_map_pxl_x
         1F:D5A4  AC DA 26   			ldy.h	_sgx_map_pxl_x
 7030                        		__and.wi	2047
         1F:D5A7  29 FF      			and.l	#2047
         1F:D5A9  42         			say
         1F:D5AA  29 07      			and.h	#2047
         1F:D5AC  42         			say
 7031                        		__st.wmq	_bx
         1F:D5AD  85 FA      			sta.l	_bx
         1F:D5AF  84 FB      			sty.h	_bx
 7032                        		__ld.wm		_sgx_map_pxl_y
         1F:D5B1  AD DB 26   			lda.l	_sgx_map_pxl_y
         1F:D5B4  AC DC 26   			ldy.h	_sgx_map_pxl_y
 7033                        		__and.wi	255
         1F:D5B7  29 FF      			and	#255
         1F:D5B9  C2         			cly
 7034                        		__st.wmq	_cx
         1F:D5BA  85 FC      			sta.l	_cx
         1F:D5BC  84 FD      			sty.h	_cx
 7035                        		__st.umiq	192, _dl
         1F:D5BE  A9 C0      			lda.l	#192
         1F:D5C0  85 FE      			sta	_dl
 7036                        		__call		_sgx_scroll_split.5
         1F:D5C2  20 59 FF   			call	_sgx_scroll_split.5
 7037                        	
 7038                        		.dbg	line,	"include\routines_LEVELS.c", 286; }
 7039    1F:D5C5             	.LL249:
 7040                        		__return	0
         1F:D5C5  4C EF FF   			jmp	leave_proc
 7041                        		.dbg	clear
 7042                        		.endp
 7043                        		.pceas
 7044                        	
 7045                        		.dbg	line,	"include\routines_LEVELS.c", 289; void recenter_CAMERA()
 7046                        		.dbg	line,	"include\routines_LEVELS.c", 290; {
 7047                        	;***********************
 7048                        	;***********************
 7049                        	
 7050                        		.hucc
 7051    1F:CA59             		.proc		_recenter_CAMERA
 7052                        		__enter		_recenter_CAMERA
 7053                        	
 7054                        		.dbg	line,	"include\routines_LEVELS.c", 291; signed char camera_y_move;
 7055                        	
 7056                        		.dbg	line,	"include\routines_LEVELS.c", 293; spr_set(player_id);
 7057                        		__ld.umq	_player_id
         1F:CA59  AD 18 23   			lda	_player_id
 7058                        		__call		_spr_set.1
         1F:CA5C  20 F1 E7   			call	_spr_set.1
 7059                        	
 7060                        		.dbg	line,	"include\routines_LEVELS.c", 296; if(player_pos_y < 128)
 7061                        		__ld.wm		_player_pos_y
         1F:CA5F  AD F8 24   			lda.l	_player_pos_y
         1F:CA62  AC F9 24   			ldy.h	_player_pos_y
 7062                        		__slt_w.wi	128
         1F:CA65  C9 80      			cmp.l	#128		; Subtract integer from Y:A.
         1F:CA67  98         			tya
         1F:CA68  E9 00      			sbc.h	#128
         1F:CA6A  50 02      			bvc	!+
         1F:CA6C  49 80      			eor	#$80		; -ve if Y:A < integer (signed).
         1F:CA6E  0A         	!:		asl	a
 7063                        		__bfalse	.LL251
         1F:CA6F  90 70      			bcc	.LL251
 7064                        	
 7065                        		.dbg	line,	"include\routines_LEVELS.c", 297; {
 7066                        	
 7067                        		.dbg	line,	"include\routines_LEVELS.c", 298; player_pos_y += CAMERA_RECENTER_VELOCITY;
 7068                        		__add_st.wmiq	4, _player_pos_y
         1F:CA71  18         			clc
         1F:CA72  AD F8 24   			lda.l	_player_pos_y
         1F:CA75  69 04      			adc.l	#4
         1F:CA77  8D F8 24   			sta.l	_player_pos_y
         1F:CA7A  90 03      			bcc	!+
         1F:CA7C  EE F9 24   			inc.h	_player_pos_y
         1F:CA7F             	!:
 7069                        	
 7070                        		.dbg	line,	"include\routines_LEVELS.c", 300; if(player_pos_y > 128)
 7071                        		__ld.wm		_player_pos_y
         1F:CA7F  AD F8 24   			lda.l	_player_pos_y
         1F:CA82  AC F9 24   			ldy.h	_player_pos_y
 7072                        		__sgt_w.wi	128
         1F:CA85  18         			clc			; Subtract integer+1 from Y:A.
         1F:CA86  E9 80      			sbc.l	#128
         1F:CA88  98         			tya
         1F:CA89  E9 00      			sbc.h	#128
         1F:CA8B  50 02      			bvc	!+
         1F:CA8D  49 80      			eor	#$80		; +ve if Y:A > integer (signed).
         1F:CA8F  49 80      	!:		eor	#$80
         1F:CA91  0A         			asl	a
 7073                        		__bfalse	.LL252
         1F:CA92  90 24      			bcc	.LL252
 7074                        	
 7075                        		.dbg	line,	"include\routines_LEVELS.c", 301; {
 7076                        	
 7077                        		.dbg	line,	"include\routines_LEVELS.c", 302; camera_y_move = CAMERA_RECENTER_VELOCITY - (player_pos_y - 128);
 7078                        		__ld.wm		_player_pos_y
         1F:CA94  AD F8 24   			lda.l	_player_pos_y
         1F:CA97  AC F9 24   			ldy.h	_player_pos_y
 7079                        		__sub.wi	128
         1F:CA9A  38         			sec
         1F:CA9B  E9 80      			sbc.l	#128
         1F:CA9D  B0 01      			bcs	!+
         1F:CA9F  88         			dey
         1F:CAA0             	!:
 7080                        		__isub.wi	4
         1F:CAA0  38         			sec
         1F:CAA1  49 FF      			eor	#$FF
         1F:CAA3  69 04      			adc.l	#4
         1F:CAA5  42         			say
         1F:CAA6  49 FF      			eor	#$FF
         1F:CAA8  69 00      			adc.h	#4
         1F:CAAA  42         			say
 7081                        		__st.umq	__recenter_CAMERA_end - 1  /* camera_y_move */
         1F:CAAB  8D 22 2C   			sta	__recenter_CAMERA_end - 1
 7082                        	
 7083                        		.dbg	line,	"include\routines_LEVELS.c", 304; player_pos_y = 128;
 7084                        		__st.wmiq	128, _player_pos_y
         1F:CAAE  A9 80      			lda.l	#128
         1F:CAB0  8D F8 24   			sta.l	_player_pos_y
         1F:CAB3  9C F9 24   			stz.h	_player_pos_y
 7085                        	
 7086                        		.dbg	line,	"include\routines_LEVELS.c", 305; }
 7087                        	
 7088                        		.dbg	line,	"include\routines_LEVELS.c", 307; else
 7089                        		__bra		.LL253
         1F:CAB6  80 05      			bra	.LL253
 7090    1F:CAB8             	.LL252:
 7091                        	
 7092                        		.dbg	line,	"include\routines_LEVELS.c", 308; {
 7093                        	
 7094                        		.dbg	line,	"include\routines_LEVELS.c", 309; camera_y_move = CAMERA_RECENTER_VELOCITY;
 7095                        		__st.umiq	4, __recenter_CAMERA_end - 1  /* camera_y_move */
         1F:CAB8  A9 04      			lda.l	#4
         1F:CABA  8D 22 2C   			sta	__recenter_CAMERA_end - 1
 7096                        	
 7097                        		.dbg	line,	"include\routines_LEVELS.c", 310; }
 7098    1F:CABD             	.LL253:
 7099                        	
 7100                        		.dbg	line,	"include\routines_LEVELS.c", 312; spr_y(player_pos_y);
 7101                        		__ld.wm		_player_pos_y
         1F:CABD  AD F8 24   			lda.l	_player_pos_y
         1F:CAC0  AC F9 24   			ldy.h	_player_pos_y
 7102                        		__call		_spr_y.1
         1F:CAC3  20 2D E8   			call	_spr_y.1
 7103                        	
 7104                        		.dbg	line,	"include\routines_LEVELS.c", 314; sgx_map_pxl_y -= camera_y_move;
 7105                        		__ld.bm		__recenter_CAMERA_end - 1  /* camera_y_move */
         1F:CAC6  AD 22 2C   			lda	__recenter_CAMERA_end - 1
         1F:CAC9  C2         			cly
         1F:CACA  10 01      			bpl	!+
         1F:CACC  88         			dey
         1F:CACD             	!:
 7106                        		__isub_st.wmq	_sgx_map_pxl_y
         1F:CACD  38         			sec
         1F:CACE  49 FF      			eor	#$FF
         1F:CAD0  6D DB 26   			adc.l	_sgx_map_pxl_y
         1F:CAD3  8D DB 26   			sta.l	_sgx_map_pxl_y
         1F:CAD6  98         			tya
         1F:CAD7  49 FF      			eor	#$FF
         1F:CAD9  6D DC 26   			adc.h	_sgx_map_pxl_y
         1F:CADC  8D DC 26   			sta.h	_sgx_map_pxl_y
 7107                        	
 7108                        		.dbg	line,	"include\routines_LEVELS.c", 315; }
 7109                        	
 7110                        		.dbg	line,	"include\routines_LEVELS.c", 318; else if(player_pos_y > 128)
 7111                        		__bra		.LL254
         1F:CADF  80 7C      			bra	.LL254
 7112    1F:CAE1             	.LL251:
 7113                        		__ld.wm		_player_pos_y
         1F:CAE1  AD F8 24   			lda.l	_player_pos_y
         1F:CAE4  AC F9 24   			ldy.h	_player_pos_y
 7114                        		__sgt_w.wi	128
         1F:CAE7  18         			clc			; Subtract integer+1 from Y:A.
         1F:CAE8  E9 80      			sbc.l	#128
         1F:CAEA  98         			tya
         1F:CAEB  E9 00      			sbc.h	#128
         1F:CAED  50 02      			bvc	!+
         1F:CAEF  49 80      			eor	#$80		; +ve if Y:A > integer (signed).
         1F:CAF1  49 80      	!:		eor	#$80
         1F:CAF3  0A         			asl	a
 7115                        		__bfalse	.LL255
         1F:CAF4  90 67      			bcc	.LL255
 7116                        	
 7117                        		.dbg	line,	"include\routines_LEVELS.c", 319; {
 7118                        	
 7119                        		.dbg	line,	"include\routines_LEVELS.c", 320; player_pos_y -= CAMERA_RECENTER_VELOCITY;
 7120                        		__sub_st.wmiq	4, _player_pos_y
         1F:CAF6  38         			sec
         1F:CAF7  AD F8 24   			lda.l	_player_pos_y
         1F:CAFA  E9 04      			sbc.l	#4
         1F:CAFC  8D F8 24   			sta.l	_player_pos_y
         1F:CAFF  B0 03      			bcs	!+
         1F:CB01  CE F9 24   			dec.h	_player_pos_y
         1F:CB04             	!:
 7121                        	
 7122                        		.dbg	line,	"include\routines_LEVELS.c", 322; if(player_pos_y < 128)
 7123                        		__ld.wm		_player_pos_y
         1F:CB04  AD F8 24   			lda.l	_player_pos_y
         1F:CB07  AC F9 24   			ldy.h	_player_pos_y
 7124                        		__slt_w.wi	128
         1F:CB0A  C9 80      			cmp.l	#128		; Subtract integer from Y:A.
         1F:CB0C  98         			tya
         1F:CB0D  E9 00      			sbc.h	#128
         1F:CB0F  50 02      			bvc	!+
         1F:CB11  49 80      			eor	#$80		; -ve if Y:A < integer (signed).
         1F:CB13  0A         	!:		asl	a
 7125                        		__bfalse	.LL256
         1F:CB14  90 24      			bcc	.LL256
 7126                        	
 7127                        		.dbg	line,	"include\routines_LEVELS.c", 323; {
 7128                        	
 7129                        		.dbg	line,	"include\routines_LEVELS.c", 324; camera_y_move = CAMERA_RECENTER_VELOCITY - (128 - player_pos_y);
 7130                        		__ld.wi		128
         1F:CB16  A9 80      			lda.l	#128
         1F:CB18  C2         			cly
 7131                        		__sub.wm	_player_pos_y
         1F:CB19  38         			sec
         1F:CB1A  ED F8 24   			sbc.l	_player_pos_y
         1F:CB1D  42         			say
         1F:CB1E  ED F9 24   			sbc.h	_player_pos_y
         1F:CB21  42         			say
 7132                        		__isub.wi	4
         1F:CB22  38         			sec
         1F:CB23  49 FF      			eor	#$FF
         1F:CB25  69 04      			adc.l	#4
         1F:CB27  42         			say
         1F:CB28  49 FF      			eor	#$FF
         1F:CB2A  69 00      			adc.h	#4
         1F:CB2C  42         			say
 7133                        		__st.umq	__recenter_CAMERA_end - 1  /* camera_y_move */
         1F:CB2D  8D 22 2C   			sta	__recenter_CAMERA_end - 1
 7134                        	
 7135                        		.dbg	line,	"include\routines_LEVELS.c", 326; player_pos_y = 128;
 7136                        		__st.wmiq	128, _player_pos_y
         1F:CB30  A9 80      			lda.l	#128
         1F:CB32  8D F8 24   			sta.l	_player_pos_y
         1F:CB35  9C F9 24   			stz.h	_player_pos_y
 7137                        	
 7138                        		.dbg	line,	"include\routines_LEVELS.c", 327; }
 7139                        	
 7140                        		.dbg	line,	"include\routines_LEVELS.c", 329; else
 7141                        		__bra		.LL257
         1F:CB38  80 05      			bra	.LL257
 7142    1F:CB3A             	.LL256:
 7143                        	
 7144                        		.dbg	line,	"include\routines_LEVELS.c", 330; {
 7145                        	
 7146                        		.dbg	line,	"include\routines_LEVELS.c", 331; camera_y_move = CAMERA_RECENTER_VELOCITY;
 7147                        		__st.umiq	4, __recenter_CAMERA_end - 1  /* camera_y_move */
         1F:CB3A  A9 04      			lda.l	#4
         1F:CB3C  8D 22 2C   			sta	__recenter_CAMERA_end - 1
 7148                        	
 7149                        		.dbg	line,	"include\routines_LEVELS.c", 332; }
 7150    1F:CB3F             	.LL257:
 7151                        	
 7152                        		.dbg	line,	"include\routines_LEVELS.c", 334; spr_y(player_pos_y);
 7153                        		__ld.wm		_player_pos_y
         1F:CB3F  AD F8 24   			lda.l	_player_pos_y
         1F:CB42  AC F9 24   			ldy.h	_player_pos_y
 7154                        		__call		_spr_y.1
         1F:CB45  20 2D E8   			call	_spr_y.1
 7155                        	
 7156                        		.dbg	line,	"include\routines_LEVELS.c", 336; sgx_map_pxl_y += camera_y_move;
 7157                        		__ld.bm		__recenter_CAMERA_end - 1  /* camera_y_move */
         1F:CB48  AD 22 2C   			lda	__recenter_CAMERA_end - 1
         1F:CB4B  C2         			cly
         1F:CB4C  10 01      			bpl	!+
         1F:CB4E  88         			dey
         1F:CB4F             	!:
 7158                        		__add_st.wmq	_sgx_map_pxl_y
         1F:CB4F  18         			clc
         1F:CB50  6D DB 26   			adc.l	_sgx_map_pxl_y
         1F:CB53  8D DB 26   			sta.l	_sgx_map_pxl_y
         1F:CB56  98         			tya
         1F:CB57  6D DC 26   			adc.h	_sgx_map_pxl_y
         1F:CB5A  8D DC 26   			sta.h	_sgx_map_pxl_y
 7159                        	
 7160                        		.dbg	line,	"include\routines_LEVELS.c", 337; }
 7161                        	
 7162                        		.dbg	line,	"include\routines_LEVELS.c", 338; }
 7163    1F:CB5D             	.LL255:
 7164    1F:CB5D             	.LL254:
 7165    1F:CB5D             	.LL250:
 7166                        		__return	0
         1F:CB5D  4C EF FF   			jmp	leave_proc
 7167                        		.dbg	clear
 7168                        		.endp
 7169               2300     		.bss
 7170    F8:2300             	__recenter_CAMERA_end	.alias	leaf_stack
 7171               E31D     		.code
 7172                        		.pceas
 7173                        	
 7174                        		.dbg	line,	"include\routines_LEVELS.c", 343; //-----------------------------------------------------------------------------//
 7175                        		.dbg	line,	"include\routines_LEVELS.c", 344; //                                 COLLISIONS                                  //
 7176                        		.dbg	line,	"include\routines_LEVELS.c", 345; //-----------------------------------------------------------------------------//
 7177                        		.dbg	line,	"include\routines_LEVELS.c", 347; int check_TILE_DEPTH(signed char x_offset , signed char y_offset)
 7178                        		.dbg	line,	"include\routines_LEVELS.c", 348; {
 7179                        	;***********************
 7180                        	;***********************
 7181                        	
 7182                        		.hucc
 7183    1F:D096             		.proc		_check_TILE_DEPTH
 7184                        		__enter		_check_TILE_DEPTH
 7185                        	
 7186                        		.dbg	line,	"include\routines_LEVELS.c", 349; int player_COLL_X;
 7187                        	
 7188                        		.dbg	line,	"include\routines_LEVELS.c", 350; int player_COLL_Y;
 7189                        	
 7190                        		.dbg	line,	"include\routines_LEVELS.c", 353; player_COLL_X = player_pos_x + x_offset;
 7191                        		__ld.bs		2  /* x_offset */
         1F:D096  A6 8D      			ldx	<__sp
         1F:D098  B5 0A      			lda	<__stack + 2, x
         1F:D09A  C2         			cly
         1F:D09B  10 01      			bpl	!+	; signed
         1F:D09D  88         			dey
         1F:D09E             	!:
 7192                        		__add.wm	_player_pos_x
         1F:D09E  18         			clc
         1F:D09F  6D F6 24   			adc.l	_player_pos_x
         1F:D0A2  42         			say
         1F:D0A3  6D F7 24   			adc.h	_player_pos_x
         1F:D0A6  42         			say
 7193                        		__st.wmq	__check_TILE_DEPTH_end - 2  /* player_COLL_X */
         1F:D0A7  8D 21 2C   			sta.l	__check_TILE_DEPTH_end - 2
         1F:D0AA  8C 22 2C   			sty.h	__check_TILE_DEPTH_end - 2
 7194                        	
 7195                        		.dbg	line,	"include\routines_LEVELS.c", 354; player_COLL_Y = player_pos_y + 32 - y_offset;//32
 7196                        		__ld.wm		_player_pos_y
         1F:D0AD  AD F8 24   			lda.l	_player_pos_y
         1F:D0B0  AC F9 24   			ldy.h	_player_pos_y
 7197                        		__add.wi	32
         1F:D0B3  18         			clc
         1F:D0B4  69 20      			adc.l	#32
         1F:D0B6  90 01      			bcc	!+
         1F:D0B8  C8         			iny
         1F:D0B9             	!:
 7198                        		__push.wr
         1F:D0B9  5A         			phy
         1F:D0BA  48         			pha
 7199                        		__ld.bs		0  /* y_offset */
         1F:D0BB  A6 8D      			ldx	<__sp
         1F:D0BD  B5 08      			lda	<__stack + 0, x
         1F:D0BF  C2         			cly
         1F:D0C0  10 01      			bpl	!+	; signed
         1F:D0C2  88         			dey
         1F:D0C3             	!:
 7200                        		__sub.wt
         1F:D0C3  BA         			tsx
         1F:D0C4  38         			sec
         1F:D0C5  49 FF      			eor	#$FF
         1F:D0C7  7D 01 21   			adc.l	__tos, x
         1F:D0CA  42         			say
         1F:D0CB  49 FF      			eor	#$FF
         1F:D0CD  7D 02 21   			adc.h	__tos, x
         1F:D0D0  42         			say
         1F:D0D1  E8         			inx
         1F:D0D2  E8         			inx
         1F:D0D3  9A         			txs
 7201                        		__st.wmq	__check_TILE_DEPTH_end - 4  /* player_COLL_Y */
         1F:D0D4  8D 1F 2C   			sta.l	__check_TILE_DEPTH_end - 4
         1F:D0D7  8C 20 2C   			sty.h	__check_TILE_DEPTH_end - 4
 7202                        	
 7203                        		.dbg	line,	"include\routines_LEVELS.c", 356; get_map_block(player_COLL_X + sgx_map_pxl_x, player_COLL_Y + sgx_map_pxl_y);
 7204                        		__ld.wm		__check_TILE_DEPTH_end - 2  /* player_COLL_X */
         1F:D0DA  AD 21 2C   			lda.l	__check_TILE_DEPTH_end - 2
         1F:D0DD  AC 22 2C   			ldy.h	__check_TILE_DEPTH_end - 2
 7205                        		__add.wm	_sgx_map_pxl_x
         1F:D0E0  18         			clc
         1F:D0E1  6D D9 26   			adc.l	_sgx_map_pxl_x
         1F:D0E4  42         			say
         1F:D0E5  6D DA 26   			adc.h	_sgx_map_pxl_x
         1F:D0E8  42         			say
 7206                        		__st.wmq	map_pxl_x
         1F:D0E9  85 FC      			sta.l	map_pxl_x
         1F:D0EB  84 FD      			sty.h	map_pxl_x
 7207                        		__ld.wm		__check_TILE_DEPTH_end - 4  /* player_COLL_Y */
         1F:D0ED  AD 1F 2C   			lda.l	__check_TILE_DEPTH_end - 4
         1F:D0F0  AC 20 2C   			ldy.h	__check_TILE_DEPTH_end - 4
 7208                        		__add.wm	_sgx_map_pxl_y
         1F:D0F3  18         			clc
         1F:D0F4  6D DB 26   			adc.l	_sgx_map_pxl_y
         1F:D0F7  42         			say
         1F:D0F8  6D DC 26   			adc.h	_sgx_map_pxl_y
         1F:D0FB  42         			say
 7209                        		__st.wmq	map_pxl_y
         1F:D0FC  85 FE      			sta.l	map_pxl_y
         1F:D0FE  84 FF      			sty.h	map_pxl_y
 7210                        		__call		_get_map_block.2
         1F:D100  20 4F FF   			call	_get_map_block.2
 7211                        	
 7212                        		.dbg	line,	"include\routines_LEVELS.c", 357; }
 7213    1F:D103             	.LL258:
 7214                        		__modsp		4
         1F:D103  AA         			tax
         1F:D104  A5 8D      			lda	<__sp
         1F:D106  18         			clc
         1F:D107  69 04      			adc	#4
         1F:D109  85 8D      			sta	<__sp
         1F:D10B  8A         			txa
 7215                        		__return	1
         1F:D10C  AA         			tax
         1F:D10D  4C EF FF   			jmp	leave_proc
 7216                        		.dbg	clear
 7217                        		.endp
 7218               2300     		.bss
 7219    F8:2300             	__check_TILE_DEPTH_end	.alias	leaf_stack
 7220               E31D     		.code
 7221                        		.pceas
 7222                        	
 7223                        		.dbg	line,	"include\routines_LEVELS.c", 359; // CHECK COLLISION PLAYER -> BG //
 7224                        		.dbg	line,	"include\routines_LEVELS.c", 360; int collision_PLAYER_BG(signed char x_offset , signed char y_offset)
 7225                        		.dbg	line,	"include\routines_LEVELS.c", 361; {
 7226                        	;***********************
 7227                        	;***********************
 7228                        	
 7229                        		.hucc
 7230    1F:D1F1             		.proc		_collision_PLAYER_BG
 7231                        		__enter		_collision_PLAYER_BG
 7232                        	
 7233                        		.dbg	line,	"include\routines_LEVELS.c", 362; int player_COLL_X;
 7234                        	
 7235                        		.dbg	line,	"include\routines_LEVELS.c", 363; int player_COLL_Y;
 7236                        	
 7237                        		.dbg	line,	"include\routines_LEVELS.c", 366; player_COLL_X = player_pos_x + x_offset;
 7238                        		__ld.bs		2  /* x_offset */
         1F:D1F1  A6 8D      			ldx	<__sp
         1F:D1F3  B5 0A      			lda	<__stack + 2, x
         1F:D1F5  C2         			cly
         1F:D1F6  10 01      			bpl	!+	; signed
         1F:D1F8  88         			dey
         1F:D1F9             	!:
 7239                        		__add.wm	_player_pos_x
         1F:D1F9  18         			clc
         1F:D1FA  6D F6 24   			adc.l	_player_pos_x
         1F:D1FD  42         			say
         1F:D1FE  6D F7 24   			adc.h	_player_pos_x
         1F:D201  42         			say
 7240                        		__st.wmq	__collision_PLAYER_BG_end - 2  /* player_COLL_X */
         1F:D202  8D 21 2C   			sta.l	__collision_PLAYER_BG_end - 2
         1F:D205  8C 22 2C   			sty.h	__collision_PLAYER_BG_end - 2
 7241                        	
 7242                        		.dbg	line,	"include\routines_LEVELS.c", 367; player_COLL_Y = player_pos_y + y_offset;
 7243                        		__ld.bs		0  /* y_offset */
         1F:D208  A6 8D      			ldx	<__sp
         1F:D20A  B5 08      			lda	<__stack + 0, x
         1F:D20C  C2         			cly
         1F:D20D  10 01      			bpl	!+	; signed
         1F:D20F  88         			dey
         1F:D210             	!:
 7244                        		__add.wm	_player_pos_y
         1F:D210  18         			clc
         1F:D211  6D F8 24   			adc.l	_player_pos_y
         1F:D214  42         			say
         1F:D215  6D F9 24   			adc.h	_player_pos_y
         1F:D218  42         			say
 7245                        		__st.wmq	__collision_PLAYER_BG_end - 4  /* player_COLL_Y */
         1F:D219  8D 1F 2C   			sta.l	__collision_PLAYER_BG_end - 4
         1F:D21C  8C 20 2C   			sty.h	__collision_PLAYER_BG_end - 4
 7246                        	
 7247                        		.dbg	line,	"include\routines_LEVELS.c", 369; get_map_block(player_COLL_X + sgx_map_pxl_x, player_COLL_Y + sgx_map_pxl_y);
 7248                        		__ld.wm		__collision_PLAYER_BG_end - 2  /* player_COLL_X */
         1F:D21F  AD 21 2C   			lda.l	__collision_PLAYER_BG_end - 2
         1F:D222  AC 22 2C   			ldy.h	__collision_PLAYER_BG_end - 2
 7249                        		__add.wm	_sgx_map_pxl_x
         1F:D225  18         			clc
         1F:D226  6D D9 26   			adc.l	_sgx_map_pxl_x
         1F:D229  42         			say
         1F:D22A  6D DA 26   			adc.h	_sgx_map_pxl_x
         1F:D22D  42         			say
 7250                        		__st.wmq	map_pxl_x
         1F:D22E  85 FC      			sta.l	map_pxl_x
         1F:D230  84 FD      			sty.h	map_pxl_x
 7251                        		__ld.wm		__collision_PLAYER_BG_end - 4  /* player_COLL_Y */
         1F:D232  AD 1F 2C   			lda.l	__collision_PLAYER_BG_end - 4
         1F:D235  AC 20 2C   			ldy.h	__collision_PLAYER_BG_end - 4
 7252                        		__add.wm	_sgx_map_pxl_y
         1F:D238  18         			clc
         1F:D239  6D DB 26   			adc.l	_sgx_map_pxl_y
         1F:D23C  42         			say
         1F:D23D  6D DC 26   			adc.h	_sgx_map_pxl_y
         1F:D240  42         			say
 7253                        		__st.wmq	map_pxl_y
         1F:D241  85 FE      			sta.l	map_pxl_y
         1F:D243  84 FF      			sty.h	map_pxl_y
 7254                        		__call		_get_map_block.2
         1F:D245  20 4F FF   			call	_get_map_block.2
 7255                        	
 7256                        		.dbg	line,	"include\routines_LEVELS.c", 370; }
 7257    1F:D248             	.LL259:
 7258                        		__modsp		4
         1F:D248  AA         			tax
         1F:D249  A5 8D      			lda	<__sp
         1F:D24B  18         			clc
         1F:D24C  69 04      			adc	#4
         1F:D24E  85 8D      			sta	<__sp
         1F:D250  8A         			txa
 7259                        		__return	1
         1F:D251  AA         			tax
         1F:D252  4C EF FF   			jmp	leave_proc
 7260                        		.dbg	clear
 7261                        		.endp
 7262               2300     		.bss
 7263    F8:2300             	__collision_PLAYER_BG_end	.alias	leaf_stack
 7264               E31D     		.code
 7265                        		.pceas
 7266                        	
 7267                        		.dbg	line,	"include\routines_LEVELS.c", 372; // CHECK COLLISION PLAYER -> OBJECTS //
 7268                        		.dbg	line,	"include\routines_LEVELS.c", 373; void collision_PLAYER_OBJECT()
 7269                        		.dbg	line,	"include\routines_LEVELS.c", 374; {
 7270                        	;***********************
 7271                        	;***********************
 7272                        	
 7273                        		.hucc
 7274    1E:DD3A             		.proc		_collision_PLAYER_OBJECT
 7275                        		__enter		_collision_PLAYER_OBJECT
 7276                        	
 7277                        		.dbg	line,	"include\routines_LEVELS.c", 375; if(onscreen_object_number != 0)
 7278                        		__tst.um	_onscreen_object_number
         1E:DD3A  AD 39 23   			lda	_onscreen_object_number
         1E:DD3D  C9 01      			cmp	#1
 7279                        		__bfalse	.LL261
         1E:DD3F  B0 03 4C 53			bcc	.LL261
         1E:DD43  DF          
 7280                        	
 7281                        		.dbg	line,	"include\routines_LEVELS.c", 376; {
 7282                        	
 7283                        		.dbg	line,	"include\routines_LEVELS.c", 377; char i;
 7284                        	
 7285                        		.dbg	line,	"include\routines_LEVELS.c", 378; char current_object_id;
 7286                        	
 7287                        		.dbg	line,	"include\routines_LEVELS.c", 379; char current_object_type;
 7288                        	
 7289                        		.dbg	line,	"include\routines_LEVELS.c", 381; for(i=0 ; i<onscreen_object_number ; i++)
 7290                        		__st.umiq	0, __collision_PLAYER_OBJECT_end - 1  /* i */
         1E:DD44  9C 02 23   			stz	__collision_PLAYER_OBJECT_end - 1
 7291    1E:DD47             	.LL262:
 7292                        		__ld.umq	__collision_PLAYER_OBJECT_end - 1  /* i */
         1E:DD47  AD 02 23   			lda	__collision_PLAYER_OBJECT_end - 1
 7293                        		__ult_b.umq	_onscreen_object_number
         1E:DD4A  CD 39 23   			cmp	_onscreen_object_number		; Subtract memory from A.
         1E:DD4D  6A         			ror	a		; CC if A < memory.
         1E:DD4E  49 80      			eor	#$80
         1E:DD50  2A         			rol	a
 7294                        		__btrue		.LL264
         1E:DD51  B0 08      			bcs	.LL264
 7295                        		__bra		.LL265
         1E:DD53  4C 53 DF   			bra	.LL265
 7296    1E:DD56             	.LL263:
 7297                        		__inc.umq	__collision_PLAYER_OBJECT_end - 1  /* i */
         1E:DD56  EE 02 23   			inc	__collision_PLAYER_OBJECT_end - 1
 7298                        		__bra		.LL262
         1E:DD59  80 EC      			bra	.LL262
 7299    1E:DD5B             	.LL264:
 7300                        	
 7301                        		.dbg	line,	"include\routines_LEVELS.c", 382; {
 7302                        	
 7303                        		.dbg	line,	"include\routines_LEVELS.c", 383; // RETRIEVE OBJECT INDEX IN THE LIST //
 7304                        	
 7305                        		.dbg	line,	"include\routines_LEVELS.c", 384; current_object_id = list_onscreen_object[i];
 7306                        		__ldx.umq	__collision_PLAYER_OBJECT_end - 1  /* i */
         1E:DD5B  AE 02 23   			ldx	__collision_PLAYER_OBJECT_end - 1
 7307                        		__ld.uax	_list_onscreen_object
         1E:DD5E  BD B7 23   			lda	_list_onscreen_object, x
         1E:DD61  C2         			cly
 7308                        		__st.umq	__collision_PLAYER_OBJECT_end - 2  /* current_object_id */
         1E:DD62  8D 01 23   			sta	__collision_PLAYER_OBJECT_end - 2
 7309                        	
 7310                        		.dbg	line,	"include\routines_LEVELS.c", 385; // RETRIEVE OBJECT TYPE //
 7311                        	
 7312                        		.dbg	line,	"include\routines_LEVELS.c", 386; current_object_type = list_object_type[current_object_id];
 7313                        		__ldx.umq	__collision_PLAYER_OBJECT_end - 2  /* current_object_id */
         1E:DD65  AE 01 23   			ldx	__collision_PLAYER_OBJECT_end - 2
 7314                        		__ld.uax	_list_object_type
         1E:DD68  BD 3A 23   			lda	_list_object_type, x
         1E:DD6B  C2         			cly
 7315                        		__st.umq	__collision_PLAYER_OBJECT_end - 3  /* current_object_type */
         1E:DD6C  8D 00 23   			sta	__collision_PLAYER_OBJECT_end - 3
 7316                        	
 7317                        		.dbg	line,	"include\routines_LEVELS.c", 388; if(current_object_type != TYPE_POT)
 7318                        		__ld.umq	__collision_PLAYER_OBJECT_end - 3  /* current_object_type */
         1E:DD6F  AD 00 23   			lda	__collision_PLAYER_OBJECT_end - 3
 7319                        		__neq_b.uiq	1
         1E:DD72  38         			sec
         1E:DD73  49 01      			eor	#1
         1E:DD75  D0 01      			bne	!+
         1E:DD77  18         			clc
         1E:DD78             	!:
 7320                        		__bfalse	.LL266
         1E:DD78  90 DC      			bcc	.LL266
 7321                        	
 7322                        		.dbg	line,	"include\routines_LEVELS.c", 389; {
 7323                        	
 7324                        		.dbg	line,	"include\routines_LEVELS.c", 390; if(abs( (player_pos_x + 16) - (list_object_x_pos[current_object_id] + 8) ) < OBJECT_MARGIN)
 7325                        		__ld.wm		_player_pos_x
         1E:DD7A  AD F6 24   			lda.l	_player_pos_x
         1E:DD7D  AC F7 24   			ldy.h	_player_pos_x
 7326                        		__add.wi	16
         1E:DD80  18         			clc
         1E:DD81  69 10      			adc.l	#16
         1E:DD83  90 01      			bcc	!+
         1E:DD85  C8         			iny
         1E:DD86             	!:
 7327                        		__push.wr
         1E:DD86  5A         			phy
         1E:DD87  48         			pha
 7328                        		__ld2x.umq	__collision_PLAYER_OBJECT_end - 2  /* current_object_id */
         1E:DD88  AD 01 23   			lda	__collision_PLAYER_OBJECT_end - 2
         1E:DD8B  0A         			asl	a
         1E:DD8C  AA         			tax
 7329                        		__ld.wax	_list_object_x_pos
         1E:DD8D  BD 00 25   			lda.l	_list_object_x_pos, x
         1E:DD90  BC 01 25   			ldy.h	_list_object_x_pos, x
 7330                        		__add.wi	8
         1E:DD93  18         			clc
         1E:DD94  69 08      			adc.l	#8
         1E:DD96  90 01      			bcc	!+
         1E:DD98  C8         			iny
         1E:DD99             	!:
 7331                        		__sub.wt
         1E:DD99  BA         			tsx
         1E:DD9A  38         			sec
         1E:DD9B  49 FF      			eor	#$FF
         1E:DD9D  7D 01 21   			adc.l	__tos, x
         1E:DDA0  42         			say
         1E:DDA1  49 FF      			eor	#$FF
         1E:DDA3  7D 02 21   			adc.h	__tos, x
         1E:DDA6  42         			say
         1E:DDA7  E8         			inx
         1E:DDA8  E8         			inx
         1E:DDA9  9A         			txs
 7332                        		__call		_abs.1
         1E:DDAA  20 1D E5   			call	_abs.1
 7333                        		__slt_w.wi	10
         1E:DDAD  C9 0A      			cmp.l	#10		; Subtract integer from Y:A.
         1E:DDAF  98         			tya
         1E:DDB0  E9 00      			sbc.h	#10
         1E:DDB2  50 02      			bvc	!+
         1E:DDB4  49 80      			eor	#$80		; -ve if Y:A < integer (signed).
         1E:DDB6  0A         	!:		asl	a
 7334                        		__bfalse	.LL267
         1E:DDB7  90 9D      			bcc	.LL267
 7335                        	
 7336                        		.dbg	line,	"include\routines_LEVELS.c", 391; {
 7337                        	
 7338                        		.dbg	line,	"include\routines_LEVELS.c", 392; if(abs( (player_pos_y + 16) - (list_object_y_pos[current_object_id] + 8) ) < OBJECT_MARGIN)
 7339                        		__ld.wm		_player_pos_y
         1E:DDB9  AD F8 24   			lda.l	_player_pos_y
         1E:DDBC  AC F9 24   			ldy.h	_player_pos_y
 7340                        		__add.wi	16
         1E:DDBF  18         			clc
         1E:DDC0  69 10      			adc.l	#16
         1E:DDC2  90 01      			bcc	!+
         1E:DDC4  C8         			iny
         1E:DDC5             	!:
 7341                        		__push.wr
         1E:DDC5  5A         			phy
         1E:DDC6  48         			pha
 7342                        		__ld2x.umq	__collision_PLAYER_OBJECT_end - 2  /* current_object_id */
         1E:DDC7  AD 01 23   			lda	__collision_PLAYER_OBJECT_end - 2
         1E:DDCA  0A         			asl	a
         1E:DDCB  AA         			tax
 7343                        		__ld.wax	_list_object_y_pos
         1E:DDCC  BD 32 25   			lda.l	_list_object_y_pos, x
         1E:DDCF  BC 33 25   			ldy.h	_list_object_y_pos, x
 7344                        		__add.wi	8
         1E:DDD2  18         			clc
         1E:DDD3  69 08      			adc.l	#8
         1E:DDD5  90 01      			bcc	!+
         1E:DDD7  C8         			iny
         1E:DDD8             	!:
 7345                        		__sub.wt
         1E:DDD8  BA         			tsx
         1E:DDD9  38         			sec
         1E:DDDA  49 FF      			eor	#$FF
         1E:DDDC  7D 01 21   			adc.l	__tos, x
         1E:DDDF  42         			say
         1E:DDE0  49 FF      			eor	#$FF
         1E:DDE2  7D 02 21   			adc.h	__tos, x
         1E:DDE5  42         			say
         1E:DDE6  E8         			inx
         1E:DDE7  E8         			inx
         1E:DDE8  9A         			txs
 7346                        		__call		_abs.1
         1E:DDE9  20 1D E5   			call	_abs.1
 7347                        		__slt_w.wi	10
         1E:DDEC  C9 0A      			cmp.l	#10		; Subtract integer from Y:A.
         1E:DDEE  98         			tya
         1E:DDEF  E9 00      			sbc.h	#10
         1E:DDF1  50 02      			bvc	!+
         1E:DDF3  49 80      			eor	#$80		; -ve if Y:A < integer (signed).
         1E:DDF5  0A         	!:		asl	a
 7348                        		__bfalse	.LL268
         1E:DDF6  B0 03 4C 56			bcc	.LL268
         1E:DDFA  DD          
 7349                        	
 7350                        		.dbg	line,	"include\routines_LEVELS.c", 393; {
 7351                        	
 7352                        		.dbg	line,	"include\routines_LEVELS.c", 394; // THE OBJECT DISAPPEARS //
 7353                        	
 7354                        		.dbg	line,	"include\routines_LEVELS.c", 395; list_object_x_pos[current_object_id] = -16;
 7355                        		__ld2x.umq	__collision_PLAYER_OBJECT_end - 2  /* current_object_id */
         1E:DDFB  AD 01 23   			lda	__collision_PLAYER_OBJECT_end - 2
         1E:DDFE  0A         			asl	a
         1E:DDFF  AA         			tax
 7356                        		__st.waxiq	-16, _list_object_x_pos
         1E:DE00  A9 F0      			lda.l	#-16
         1E:DE02  9D 00 25   			sta.l	_list_object_x_pos, x
         1E:DE05  A9 FF      			lda.h	#-16
         1E:DE07  9D 01 25   			sta.h	_list_object_x_pos, x
 7357                        	
 7358                        		.dbg	line,	"include\routines_LEVELS.c", 396; list_object_y_pos[current_object_id] = -16;
 7359                        		__ld2x.umq	__collision_PLAYER_OBJECT_end - 2  /* current_object_id */
         1E:DE0A  AD 01 23   			lda	__collision_PLAYER_OBJECT_end - 2
         1E:DE0D  0A         			asl	a
         1E:DE0E  AA         			tax
 7360                        		__st.waxiq	-16, _list_object_y_pos
         1E:DE0F  A9 F0      			lda.l	#-16
         1E:DE11  9D 32 25   			sta.l	_list_object_y_pos, x
         1E:DE14  A9 FF      			lda.h	#-16
         1E:DE16  9D 33 25   			sta.h	_list_object_y_pos, x
 7361                        	
 7362                        		.dbg	line,	"include\routines_LEVELS.c", 397; list_object_state[current_object_id] = STATE_FREE;
 7363                        		__ldx.umq	__collision_PLAYER_OBJECT_end - 2  /* current_object_id */
         1E:DE19  AE 01 23   			ldx	__collision_PLAYER_OBJECT_end - 2
 7364                        		__st.uaxiq	0, _list_object_state
         1E:DE1C  9E 53 23   			stz	_list_object_state, x
 7365                        	
 7366                        		.dbg	line,	"include\routines_LEVELS.c", 399; sgx_spr_set(current_object_id + object_start_index);
 7367                        		__ld.um		__collision_PLAYER_OBJECT_end - 2  /* current_object_id */
         1E:DE1F  AD 01 23   			lda	__collision_PLAYER_OBJECT_end - 2
         1E:DE22  C2         			cly
 7368                        		__add.um	_object_start_index
         1E:DE23  18         			clc
         1E:DE24  6D 37 23   			adc	_object_start_index
         1E:DE27  90 01      			bcc	!+
         1E:DE29  C8         			iny
         1E:DE2A             	!:
 7369                        		__call		_sgx_spr_set.1
         1E:DE2A  20 9E E8   			call	_sgx_spr_set.1
 7370                        	
 7371                        		.dbg	line,	"include\routines_LEVELS.c", 400; sgx_spr_x(list_object_x_pos[current_object_id]);
 7372                        		__ld2x.umq	__collision_PLAYER_OBJECT_end - 2  /* current_object_id */
         1E:DE2D  AD 01 23   			lda	__collision_PLAYER_OBJECT_end - 2
         1E:DE30  0A         			asl	a
         1E:DE31  AA         			tax
 7373                        		__ld.wax	_list_object_x_pos
         1E:DE32  BD 00 25   			lda.l	_list_object_x_pos, x
         1E:DE35  BC 01 25   			ldy.h	_list_object_x_pos, x
 7374                        		__call		_sgx_spr_x.1
         1E:DE38  20 CB E8   			call	_sgx_spr_x.1
 7375                        	
 7376                        		.dbg	line,	"include\routines_LEVELS.c", 401; sgx_spr_y(list_object_y_pos[current_object_id]);
 7377                        		__ld2x.umq	__collision_PLAYER_OBJECT_end - 2  /* current_object_id */
         1E:DE3B  AD 01 23   			lda	__collision_PLAYER_OBJECT_end - 2
         1E:DE3E  0A         			asl	a
         1E:DE3F  AA         			tax
 7378                        		__ld.wax	_list_object_y_pos
         1E:DE40  BD 32 25   			lda.l	_list_object_y_pos, x
         1E:DE43  BC 33 25   			ldy.h	_list_object_y_pos, x
 7379                        		__call		_sgx_spr_y.1
         1E:DE46  20 DA E8   			call	_sgx_spr_y.1
 7380                        	
 7381                        		.dbg	line,	"include\routines_LEVELS.c", 402; 
 7382                        	
 7383                        		.dbg	line,	"include\routines_LEVELS.c", 404; switch(current_object_type)
 7384                        		__ld.umq	__collision_PLAYER_OBJECT_end - 3  /* current_object_type */
         1E:DE49  AD 00 23   			lda	__collision_PLAYER_OBJECT_end - 3
 7385                        		__bra		.LL269
         1E:DE4C  4C 25 DF   			bra	.LL269
 7386                        	
 7387                        		.dbg	line,	"include\routines_LEVELS.c", 405; {
 7388                        	
 7389                        		.dbg	line,	"include\routines_LEVELS.c", 406; case TYPE_HOURGLASS:
 7390    1E:DE4F             	.LL271:
 7391                        		__case		0
 7392                        	
 7393                        		.dbg	line,	"include\routines_LEVELS.c", 407; if(seconds + 30 > 59)
 7394                        		__ld.um		_seconds
         1E:DE4F  AD 33 23   			lda	_seconds
         1E:DE52  C2         			cly
 7395                        		__add.wi	30
         1E:DE53  18         			clc
         1E:DE54  69 1E      			adc.l	#30
         1E:DE56  90 01      			bcc	!+
         1E:DE58  C8         			iny
         1E:DE59             	!:
 7396                        		__sgt_w.wi	59
         1E:DE59  18         			clc			; Subtract integer+1 from Y:A.
         1E:DE5A  E9 3B      			sbc.l	#59
         1E:DE5C  98         			tya
         1E:DE5D  E9 00      			sbc.h	#59
         1E:DE5F  50 02      			bvc	!+
         1E:DE61  49 80      			eor	#$80		; +ve if Y:A > integer (signed).
         1E:DE63  49 80      	!:		eor	#$80
         1E:DE65  0A         			asl	a
 7397                        		__bfalse	.LL272
         1E:DE66  90 13      			bcc	.LL272
 7398                        	
 7399                        		.dbg	line,	"include\routines_LEVELS.c", 408; {
 7400                        	
 7401                        		.dbg	line,	"include\routines_LEVELS.c", 409; seconds = seconds + 30 - 60;
 7402                        		__ld.um		_seconds
         1E:DE68  AD 33 23   			lda	_seconds
         1E:DE6B  C2         			cly
 7403                        		__sub.wi	30
         1E:DE6C  38         			sec
         1E:DE6D  E9 1E      			sbc.l	#30
         1E:DE6F  B0 01      			bcs	!+
         1E:DE71  88         			dey
         1E:DE72             	!:
 7404                        		__st.umq	_seconds
         1E:DE72  8D 33 23   			sta	_seconds
 7405                        	
 7406                        		.dbg	line,	"include\routines_LEVELS.c", 410; minutes += 1;
 7407                        		__add_st.umiq	1, _minutes
         1E:DE75  EE 32 23   			inc	_minutes
 7408                        	
 7409                        		.dbg	line,	"include\routines_LEVELS.c", 411; }
 7410                        	
 7411                        		.dbg	line,	"include\routines_LEVELS.c", 413; else
 7412                        		__bra		.LL273
         1E:DE78  4C 56 DD   			bra	.LL273
 7413    1E:DE7B             	.LL272:
 7414                        	
 7415                        		.dbg	line,	"include\routines_LEVELS.c", 414; {
 7416                        	
 7417                        		.dbg	line,	"include\routines_LEVELS.c", 415; seconds += 30;
 7418                        		__add_st.umiq	30, _seconds
         1E:DE7B  18         			clc
         1E:DE7C  AD 33 23   			lda	_seconds
         1E:DE7F  69 1E      			adc	#30
         1E:DE81  8D 33 23   			sta	_seconds
 7419                        	
 7420                        		.dbg	line,	"include\routines_LEVELS.c", 416; }
 7421    1E:DE84             	.LL273	.alias		.LL270
 7422                        	
 7423                        		.dbg	line,	"include\routines_LEVELS.c", 418; break;
 7424                        		__bra		.LL270
         1E:DE84  4C 56 DD   			bra	.LL270
 7425                        	
 7426                        		.dbg	line,	"include\routines_LEVELS.c", 420; case TYPE_POW:
 7427    1E:DE87             	.LL274:
 7428                        		__case		2
 7429                        	
 7430                        		.dbg	line,	"include\routines_LEVELS.c", 421; //
 7431                        	
 7432                        		.dbg	line,	"include\routines_LEVELS.c", 422; break;
 7433                        		__bra		.LL270
         1E:DE87  4C 56 DD   			bra	.LL270
 7434                        	
 7435                        		.dbg	line,	"include\routines_LEVELS.c", 424; case TYPE_GRAY_KEY:
 7436    1E:DE8A             	.LL275:
 7437                        		__case		4
 7438                        	
 7439                        		.dbg	line,	"include\routines_LEVELS.c", 425; key_amount += 1;
 7440                        		__add_st.umiq	1, _key_amount
         1E:DE8A  EE 30 23   			inc	_key_amount
 7441                        	
 7442                        		.dbg	line,	"include\routines_LEVELS.c", 426; display_KEY();
 7443                        		__call		_display_KEY
         1E:DE8D  20 45 FF   			call	_display_KEY
 7444                        	
 7445                        		.dbg	line,	"include\routines_LEVELS.c", 427; break;
 7446                        		__bra		.LL270
         1E:DE90  4C 56 DD   			bra	.LL270
 7447                        	
 7448                        		.dbg	line,	"include\routines_LEVELS.c", 429; case TYPE_COIN_1:
 7449    1E:DE93             	.LL276:
 7450                        		__case		7
 7451                        	
 7452                        		.dbg	line,	"include\routines_LEVELS.c", 430; zenny_amount += 1;
 7453                        		__add_st.wmiq	1, _zenny_amount
         1E:DE93  EE 56 26   			inc.l	_zenny_amount
         1E:DE96  D0 03      			bne	!+
         1E:DE98  EE 57 26   			inc.h	_zenny_amount
         1E:DE9B             	!:
 7454                        	
 7455                        		.dbg	line,	"include\routines_LEVELS.c", 431; display_ZENNY();
 7456                        		__call		_display_ZENNY
         1E:DE9B  20 3B FF   			call	_display_ZENNY
 7457                        	
 7458                        		.dbg	line,	"include\routines_LEVELS.c", 432; break;
 7459                        		__bra		.LL270
         1E:DE9E  4C 56 DD   			bra	.LL270
 7460                        	
 7461                        		.dbg	line,	"include\routines_LEVELS.c", 434; case TYPE_COIN_5:
 7462    1E:DEA1             	.LL277:
 7463                        		__case		8
 7464                        	
 7465                        		.dbg	line,	"include\routines_LEVELS.c", 435; zenny_amount += 5;
 7466                        		__add_st.wmiq	5, _zenny_amount
         1E:DEA1  18         			clc
         1E:DEA2  AD 56 26   			lda.l	_zenny_amount
         1E:DEA5  69 05      			adc.l	#5
         1E:DEA7  8D 56 26   			sta.l	_zenny_amount
         1E:DEAA  90 03      			bcc	!+
         1E:DEAC  EE 57 26   			inc.h	_zenny_amount
         1E:DEAF             	!:
 7467                        	
 7468                        		.dbg	line,	"include\routines_LEVELS.c", 436; display_ZENNY();
 7469                        		__call		_display_ZENNY
         1E:DEAF  20 3B FF   			call	_display_ZENNY
 7470                        	
 7471                        		.dbg	line,	"include\routines_LEVELS.c", 437; break;
 7472                        		__bra		.LL270
         1E:DEB2  4C 56 DD   			bra	.LL270
 7473                        	
 7474                        		.dbg	line,	"include\routines_LEVELS.c", 439; case TYPE_COIN_10:
 7475    1E:DEB5             	.LL278:
 7476                        		__case		9
 7477                        	
 7478                        		.dbg	line,	"include\routines_LEVELS.c", 440; zenny_amount += 10;
 7479                        		__add_st.wmiq	10, _zenny_amount
         1E:DEB5  18         			clc
         1E:DEB6  AD 56 26   			lda.l	_zenny_amount
         1E:DEB9  69 0A      			adc.l	#10
         1E:DEBB  8D 56 26   			sta.l	_zenny_amount
         1E:DEBE  90 03      			bcc	!+
         1E:DEC0  EE 57 26   			inc.h	_zenny_amount
         1E:DEC3             	!:
 7480                        	
 7481                        		.dbg	line,	"include\routines_LEVELS.c", 441; display_ZENNY();
 7482                        		__call		_display_ZENNY
         1E:DEC3  20 3B FF   			call	_display_ZENNY
 7483                        	
 7484                        		.dbg	line,	"include\routines_LEVELS.c", 442; break;
 7485                        		__bra		.LL270
         1E:DEC6  4C 56 DD   			bra	.LL270
 7486                        	
 7487                        		.dbg	line,	"include\routines_LEVELS.c", 444; case TYPE_COIN_50:
 7488    1E:DEC9             	.LL279:
 7489                        		__case		10
 7490                        	
 7491                        		.dbg	line,	"include\routines_LEVELS.c", 445; zenny_amount += 50;
 7492                        		__add_st.wmiq	50, _zenny_amount
         1E:DEC9  18         			clc
         1E:DECA  AD 56 26   			lda.l	_zenny_amount
         1E:DECD  69 32      			adc.l	#50
         1E:DECF  8D 56 26   			sta.l	_zenny_amount
         1E:DED2  90 03      			bcc	!+
         1E:DED4  EE 57 26   			inc.h	_zenny_amount
         1E:DED7             	!:
 7493                        	
 7494                        		.dbg	line,	"include\routines_LEVELS.c", 446; display_ZENNY();
 7495                        		__call		_display_ZENNY
         1E:DED7  20 3B FF   			call	_display_ZENNY
 7496                        	
 7497                        		.dbg	line,	"include\routines_LEVELS.c", 447; break;
 7498                        		__bra		.LL270
         1E:DEDA  4C 56 DD   			bra	.LL270
 7499                        	
 7500                        		.dbg	line,	"include\routines_LEVELS.c", 449; case TYPE_COIN_100:
 7501    1E:DEDD             	.LL280:
 7502                        		__case		11
 7503                        	
 7504                        		.dbg	line,	"include\routines_LEVELS.c", 450; zenny_amount += 100;
 7505                        		__add_st.wmiq	100, _zenny_amount
         1E:DEDD  18         			clc
         1E:DEDE  AD 56 26   			lda.l	_zenny_amount
         1E:DEE1  69 64      			adc.l	#100
         1E:DEE3  8D 56 26   			sta.l	_zenny_amount
         1E:DEE6  90 03      			bcc	!+
         1E:DEE8  EE 57 26   			inc.h	_zenny_amount
         1E:DEEB             	!:
 7506                        	
 7507                        		.dbg	line,	"include\routines_LEVELS.c", 451; display_ZENNY();
 7508                        		__call		_display_ZENNY
         1E:DEEB  20 3B FF   			call	_display_ZENNY
 7509                        	
 7510                        		.dbg	line,	"include\routines_LEVELS.c", 452; break;
 7511                        		__bra		.LL270
         1E:DEEE  4C 56 DD   			bra	.LL270
 7512                        	
 7513                        		.dbg	line,	"include\routines_LEVELS.c", 454; case TYPE_COIN_500:
 7514    1E:DEF1             	.LL281:
 7515                        		__case		12
 7516                        	
 7517                        		.dbg	line,	"include\routines_LEVELS.c", 455; zenny_amount += 500;
 7518                        		__add_st.wmiq	500, _zenny_amount
         1E:DEF1  18         			clc
         1E:DEF2  AD 56 26   			lda.l	_zenny_amount
         1E:DEF5  69 F4      			adc.l	#500
         1E:DEF7  8D 56 26   			sta.l	_zenny_amount
         1E:DEFA  AD 57 26   			lda.h	_zenny_amount
         1E:DEFD  69 01      			adc.h	#500
         1E:DEFF  8D 57 26   			sta.h	_zenny_amount
 7519                        	
 7520                        		.dbg	line,	"include\routines_LEVELS.c", 456; display_ZENNY();
 7521                        		__call		_display_ZENNY
         1E:DF02  20 3B FF   			call	_display_ZENNY
 7522                        	
 7523                        		.dbg	line,	"include\routines_LEVELS.c", 457; break;
 7524                        		__bra		.LL270
         1E:DF05  4C 56 DD   			bra	.LL270
 7525                        	
 7526                        		.dbg	line,	"include\routines_LEVELS.c", 459; case TYPE_COIN_1000:
 7527    1E:DF08             	.LL282:
 7528                        		__case		13
 7529                        	
 7530                        		.dbg	line,	"include\routines_LEVELS.c", 460; zenny_amount += 1000;
 7531                        		__add_st.wmiq	1000, _zenny_amount
         1E:DF08  18         			clc
         1E:DF09  AD 56 26   			lda.l	_zenny_amount
         1E:DF0C  69 E8      			adc.l	#1000
         1E:DF0E  8D 56 26   			sta.l	_zenny_amount
         1E:DF11  AD 57 26   			lda.h	_zenny_amount
         1E:DF14  69 03      			adc.h	#1000
         1E:DF16  8D 57 26   			sta.h	_zenny_amount
 7532                        	
 7533                        		.dbg	line,	"include\routines_LEVELS.c", 461; display_ZENNY();
 7534                        		__call		_display_ZENNY
         1E:DF19  20 3B FF   			call	_display_ZENNY
 7535                        	
 7536                        		.dbg	line,	"include\routines_LEVELS.c", 462; break;
 7537                        		__bra		.LL270
         1E:DF1C  4C 56 DD   			bra	.LL270
 7538                        	
 7539                        		.dbg	line,	"include\routines_LEVELS.c", 464; case TYPE_YASHICHI:
 7540    1E:DF1F             	.LL283:
 7541                        		__case		14
 7542                        	
 7543                        		.dbg	line,	"include\routines_LEVELS.c", 465; life_amount += 1;
 7544                        		__add_st.umiq	1, _life_amount
         1E:DF1F  EE 2E 23   			inc	_life_amount
 7545                        	
 7546                        		.dbg	line,	"include\routines_LEVELS.c", 466; break;
 7547                        		__bra		.LL270
         1E:DF22  4C 56 DD   			bra	.LL270
 7548                        	
 7549                        		.dbg	line,	"include\routines_LEVELS.c", 467; }
 7550    1E:DF25             	.LL269:
 7551                        		__switch_r.ur	0, 14
         1E:DF25  C9 0F      			cmp	#(14 - 0) + 1
         1E:DF27  90 02      			bcc	!found+
         1E:DF29  A9 0F      	!default:	lda	#(14 - 0) + 1
         1E:DF2B  0A         	!found:		asl	a
         1E:DF2C  AA         			tax
         1E:DF2D  7C 30 DF   			jmp	[!table+, x]
 7552                        	
 7553    1E:DF30  4F DE      	!table:		dw	.LL271, .LL270, .LL274, .LL270, .LL275, .LL270, .LL270, .LL276
         1E:DF32  56 DD       
         1E:DF34  87 DE       
         1E:DF36  56 DD       
         1E:DF38  8A DE       
         1E:DF3A  56 DD       
         1E:DF3C  56 DD       
         1E:DF3E  93 DE       
 7554    1E:DF40  A1 DE      			dw	.LL277, .LL278, .LL279, .LL280, .LL281, .LL282, .LL283
         1E:DF42  B5 DE       
         1E:DF44  C9 DE       
         1E:DF46  DD DE       
         1E:DF48  F1 DE       
         1E:DF4A  08 DF       
         1E:DF4C  1F DF       
 7555    1E:DF4E  56 DD      			dw	.LL270
 7556    1E:DF50             	.LL270	.alias		.LL263
 7557                        	
 7558                        		.dbg	line,	"include\routines_LEVELS.c", 468; }
 7559                        	
 7560                        		.dbg	line,	"include\routines_LEVELS.c", 469; }
 7561    1E:DF50             	.LL268	.alias		.LL263
 7562                        	
 7563                        		.dbg	line,	"include\routines_LEVELS.c", 470; }
 7564    1E:DF50             	.LL267	.alias		.LL263
 7565                        	
 7566                        		.dbg	line,	"include\routines_LEVELS.c", 471; }
 7567    1E:DF50             	.LL266	.alias		.LL263
 7568                        		__bra		.LL263
         1E:DF50  4C 56 DD   			bra	.LL263
 7569    1E:DF53             	.LL265:
 7570                        	
 7571                        		.dbg	line,	"include\routines_LEVELS.c", 472; }
 7572                        	
 7573                        		.dbg	line,	"include\routines_LEVELS.c", 473; }
 7574    1E:DF53             	.LL261:
 7575    1E:DF53             	.LL260:
 7576                        		__return	0
         1E:DF53  4C EF FF   			jmp	leave_proc
 7577                        		.dbg	clear
 7578                        		.endp
 7579               2300     		.bss
 7580    F8:2300             			ds	3
 7581    F8:2303             	__collision_PLAYER_OBJECT_end:
 7582               E31D     		.code
 7583                        		.pceas
 7584                        	
 7585                        		.dbg	line,	"include\routines_LEVELS.c", 475; // CHECK COLLISION PLAYER -> NPCS //
 7586                        		.dbg	line,	"include\routines_LEVELS.c", 476; void collision_PLAYER_NPC()
 7587                        		.dbg	line,	"include\routines_LEVELS.c", 477; {
 7588                        	;***********************
 7589                        	;***********************
 7590                        	
 7591                        		.hucc
 7592    1F:C6D9             		.proc		_collision_PLAYER_NPC
 7593                        		__enter		_collision_PLAYER_NPC
 7594                        	
 7595                        		.dbg	line,	"include\routines_LEVELS.c", 478; if(onscreen_npc_number != 0)
 7596                        		__tst.um	_onscreen_npc_number
         1F:C6D9  AD D4 23   			lda	_onscreen_npc_number
         1F:C6DC  C9 01      			cmp	#1
 7597                        		__bfalse	.LL285
         1F:C6DE  B0 03 4C 13			bcc	.LL285
         1F:C6E2  C8          
 7598                        	
 7599                        		.dbg	line,	"include\routines_LEVELS.c", 479; {
 7600                        	
 7601                        		.dbg	line,	"include\routines_LEVELS.c", 480; if(player_state == STATE_IDLE || player_state == STATE_WALK)
 7602                        		__not.um	_player_state
         1F:C6E3  AD 19 23   			lda	_player_state
         1F:C6E6  18         			clc
         1F:C6E7  D0 01      			bne	!+
         1F:C6E9  38         			sec
         1F:C6EA             	!:
 7603                        		__btrue		.LL287
         1F:C6EA  B0 08      			bcs	.LL287
 7604                        		__ld.umq	_player_state
         1F:C6EC  AD 19 23   			lda	_player_state
 7605                        		__equ_b.uiq	1
         1F:C6EF  C9 01      			cmp	#1
         1F:C6F1  F0 01      			beq	!+
         1F:C6F3  18         			clc
         1F:C6F4             	!:
 7606    1F:C6F4             	.LL287:
 7607                        		__bfalse	.LL286
         1F:C6F4  B0 03 4C 13			bcc	.LL286
         1F:C6F8  C8          
 7608                        	
 7609                        		.dbg	line,	"include\routines_LEVELS.c", 481; {
 7610                        	
 7611                        		.dbg	line,	"include\routines_LEVELS.c", 482; char i,j;
 7612                        	
 7613                        		.dbg	line,	"include\routines_LEVELS.c", 483; char current_npc_id;
 7614                        	
 7615                        		.dbg	line,	"include\routines_LEVELS.c", 484; char current_npc_type;
 7616                        	
 7617                        		.dbg	line,	"include\routines_LEVELS.c", 486; for(i=0 ; i<onscreen_npc_number ; i++)
 7618                        		__st.umiq	0, __collision_PLAYER_NPC_end - 1  /* i */
         1F:C6F9  9C 22 2C   			stz	__collision_PLAYER_NPC_end - 1
 7619    1F:C6FC             	.LL288:
 7620                        		__ld.umq	__collision_PLAYER_NPC_end - 1  /* i */
         1F:C6FC  AD 22 2C   			lda	__collision_PLAYER_NPC_end - 1
 7621                        		__ult_b.umq	_onscreen_npc_number
         1F:C6FF  CD D4 23   			cmp	_onscreen_npc_number		; Subtract memory from A.
         1F:C702  6A         			ror	a		; CC if A < memory.
         1F:C703  49 80      			eor	#$80
         1F:C705  2A         			rol	a
 7622                        		__btrue		.LL290
         1F:C706  B0 08      			bcs	.LL290
 7623                        		__bra		.LL291
         1F:C708  4C 13 C8   			bra	.LL291
 7624    1F:C70B             	.LL289:
 7625                        		__inc.umq	__collision_PLAYER_NPC_end - 1  /* i */
         1F:C70B  EE 22 2C   			inc	__collision_PLAYER_NPC_end - 1
 7626                        		__bra		.LL288
         1F:C70E  80 EC      			bra	.LL288
 7627    1F:C710             	.LL290:
 7628                        	
 7629                        		.dbg	line,	"include\routines_LEVELS.c", 487; {
 7630                        	
 7631                        		.dbg	line,	"include\routines_LEVELS.c", 488; // RETRIEVE NPC INDEX IN THE LIST //
 7632                        	
 7633                        		.dbg	line,	"include\routines_LEVELS.c", 489; current_npc_id = list_onscreen_npc[i];
 7634                        		__ldx.umq	__collision_PLAYER_NPC_end - 1  /* i */
         1F:C710  AE 22 2C   			ldx	__collision_PLAYER_NPC_end - 1
 7635                        		__ld.uax	_list_onscreen_npc
         1F:C713  BD E7 23   			lda	_list_onscreen_npc, x
         1F:C716  C2         			cly
 7636                        		__st.umq	__collision_PLAYER_NPC_end - 3  /* current_npc_id */
         1F:C717  8D 20 2C   			sta	__collision_PLAYER_NPC_end - 3
 7637                        	
 7638                        		.dbg	line,	"include\routines_LEVELS.c", 491; if(list_npc_state[current_npc_id] == STATE_ACTIVE)
 7639                        		__ldx.umq	__collision_PLAYER_NPC_end - 3  /* current_npc_id */
         1F:C71A  AE 20 2C   			ldx	__collision_PLAYER_NPC_end - 3
 7640                        		__ld.uaxq	_list_npc_state
         1F:C71D  BD DE 23   			lda	_list_npc_state, x
 7641                        		__equ_b.uiq	1
         1F:C720  C9 01      			cmp	#1
         1F:C722  F0 01      			beq	!+
         1F:C724  18         			clc
         1F:C725             	!:
 7642                        		__bfalse	.LL292
         1F:C725  90 E4      			bcc	.LL292
 7643                        	
 7644                        		.dbg	line,	"include\routines_LEVELS.c", 492; {
 7645                        	
 7646                        		.dbg	line,	"include\routines_LEVELS.c", 493; // RETRIEVE NPC TYPE //
 7647                        	
 7648                        		.dbg	line,	"include\routines_LEVELS.c", 494; current_npc_type = list_npc_type[current_npc_id];
 7649                        		__ldx.umq	__collision_PLAYER_NPC_end - 3  /* current_npc_id */
         1F:C727  AE 20 2C   			ldx	__collision_PLAYER_NPC_end - 3
 7650                        		__ld.uax	_list_npc_type
         1F:C72A  BD D5 23   			lda	_list_npc_type, x
         1F:C72D  C2         			cly
 7651                        		__st.umq	__collision_PLAYER_NPC_end - 4  /* current_npc_type */
         1F:C72E  8D 1F 2C   			sta	__collision_PLAYER_NPC_end - 4
 7652                        	
 7653                        		.dbg	line,	"include\routines_LEVELS.c", 496; if(abs( (player_pos_x + 16) - (list_npc_x_pos[current_npc_id] + 16) ) < OBJECT_MARGIN)
 7654                        		__ld.wm		_player_pos_x
         1F:C731  AD F6 24   			lda.l	_player_pos_x
         1F:C734  AC F7 24   			ldy.h	_player_pos_x
 7655                        		__add.wi	16
         1F:C737  18         			clc
         1F:C738  69 10      			adc.l	#16
         1F:C73A  90 01      			bcc	!+
         1F:C73C  C8         			iny
         1F:C73D             	!:
 7656                        		__push.wr
         1F:C73D  5A         			phy
         1F:C73E  48         			pha
 7657                        		__ld2x.umq	__collision_PLAYER_NPC_end - 3  /* current_npc_id */
         1F:C73F  AD 20 2C   			lda	__collision_PLAYER_NPC_end - 3
         1F:C742  0A         			asl	a
         1F:C743  AA         			tax
 7658                        		__ld.wax	_list_npc_x_pos
         1F:C744  BD 08 26   			lda.l	_list_npc_x_pos, x
         1F:C747  BC 09 26   			ldy.h	_list_npc_x_pos, x
 7659                        		__add.wi	16
         1F:C74A  18         			clc
         1F:C74B  69 10      			adc.l	#16
         1F:C74D  90 01      			bcc	!+
         1F:C74F  C8         			iny
         1F:C750             	!:
 7660                        		__sub.wt
         1F:C750  BA         			tsx
         1F:C751  38         			sec
         1F:C752  49 FF      			eor	#$FF
         1F:C754  7D 01 21   			adc.l	__tos, x
         1F:C757  42         			say
         1F:C758  49 FF      			eor	#$FF
         1F:C75A  7D 02 21   			adc.h	__tos, x
         1F:C75D  42         			say
         1F:C75E  E8         			inx
         1F:C75F  E8         			inx
         1F:C760  9A         			txs
 7661                        		__call		_abs.1
         1F:C761  20 1D E5   			call	_abs.1
 7662                        		__slt_w.wi	10
         1F:C764  C9 0A      			cmp.l	#10		; Subtract integer from Y:A.
         1F:C766  98         			tya
         1F:C767  E9 00      			sbc.h	#10
         1F:C769  50 02      			bvc	!+
         1F:C76B  49 80      			eor	#$80		; -ve if Y:A < integer (signed).
         1F:C76D  0A         	!:		asl	a
 7663                        		__bfalse	.LL293
         1F:C76E  90 9B      			bcc	.LL293
 7664                        	
 7665                        		.dbg	line,	"include\routines_LEVELS.c", 497; {
 7666                        	
 7667                        		.dbg	line,	"include\routines_LEVELS.c", 498; if(abs( (player_pos_y + 16) - (list_npc_y_pos[current_npc_id] + 16) ) < OBJECT_MARGIN)
 7668                        		__ld.wm		_player_pos_y
         1F:C770  AD F8 24   			lda.l	_player_pos_y
         1F:C773  AC F9 24   			ldy.h	_player_pos_y
 7669                        		__add.wi	16
         1F:C776  18         			clc
         1F:C777  69 10      			adc.l	#16
         1F:C779  90 01      			bcc	!+
         1F:C77B  C8         			iny
         1F:C77C             	!:
 7670                        		__push.wr
         1F:C77C  5A         			phy
         1F:C77D  48         			pha
 7671                        		__ld2x.umq	__collision_PLAYER_NPC_end - 3  /* current_npc_id */
         1F:C77E  AD 20 2C   			lda	__collision_PLAYER_NPC_end - 3
         1F:C781  0A         			asl	a
         1F:C782  AA         			tax
 7672                        		__ld.wax	_list_npc_y_pos
         1F:C783  BD 1A 26   			lda.l	_list_npc_y_pos, x
         1F:C786  BC 1B 26   			ldy.h	_list_npc_y_pos, x
 7673                        		__add.wi	16
         1F:C789  18         			clc
         1F:C78A  69 10      			adc.l	#16
         1F:C78C  90 01      			bcc	!+
         1F:C78E  C8         			iny
         1F:C78F             	!:
 7674                        		__sub.wt
         1F:C78F  BA         			tsx
         1F:C790  38         			sec
         1F:C791  49 FF      			eor	#$FF
         1F:C793  7D 01 21   			adc.l	__tos, x
         1F:C796  42         			say
         1F:C797  49 FF      			eor	#$FF
         1F:C799  7D 02 21   			adc.h	__tos, x
         1F:C79C  42         			say
         1F:C79D  E8         			inx
         1F:C79E  E8         			inx
         1F:C79F  9A         			txs
 7675                        		__call		_abs.1
         1F:C7A0  20 1D E5   			call	_abs.1
 7676                        		__slt_w.wi	10
         1F:C7A3  C9 0A      			cmp.l	#10		; Subtract integer from Y:A.
         1F:C7A5  98         			tya
         1F:C7A6  E9 00      			sbc.h	#10
         1F:C7A8  50 02      			bvc	!+
         1F:C7AA  49 80      			eor	#$80		; -ve if Y:A < integer (signed).
         1F:C7AC  0A         	!:		asl	a
 7677                        		__bfalse	.LL294
         1F:C7AD  B0 03 4C 0B			bcc	.LL294
         1F:C7B1  C7          
 7678                        	
 7679                        		.dbg	line,	"include\routines_LEVELS.c", 499; {               
 7680                        	
 7681                        		.dbg	line,	"include\routines_LEVELS.c", 500; switch(current_npc_type)
 7682                        		__ld.umq	__collision_PLAYER_NPC_end - 4  /* current_npc_type */
         1F:C7B2  AD 1F 2C   			lda	__collision_PLAYER_NPC_end - 4
 7683                        		__bra		.LL295
         1F:C7B5  80 48      			bra	.LL295
 7684                        	
 7685                        		.dbg	line,	"include\routines_LEVELS.c", 501; {
 7686                        	
 7687                        		.dbg	line,	"include\routines_LEVELS.c", 502; case TYPE_NPC_REWARD:
 7688    1F:C7B7             	.LL297:
 7689                        		__case		0
 7690                        	
 7691                        		.dbg	line,	"include\routines_LEVELS.c", 503; //
 7692                        	
 7693                        		.dbg	line,	"include\routines_LEVELS.c", 504; break;
 7694                        		__bra		.LL296
         1F:C7B7  4C 0B C7   			bra	.LL296
 7695                        	
 7696                        		.dbg	line,	"include\routines_LEVELS.c", 506; case TYPE_NPC_SHOP:
 7697    1F:C7BA             	.LL298:
 7698                        		__case		1
 7699                        	
 7700                        		.dbg	line,	"include\routines_LEVELS.c", 507; disp_off();
 7701                        		__call		_disp_off
         1F:C7BA  20 3D E4   			call	_disp_off
 7702                        	
 7703                        		.dbg	line,	"include\routines_LEVELS.c", 509; minutes_backup = minutes;
 7704                        		__ld.um		_minutes
         1F:C7BD  AD 32 23   			lda	_minutes
         1F:C7C0  C2         			cly
 7705                        		__st.umq	_minutes_backup
         1F:C7C1  8D 35 23   			sta	_minutes_backup
 7706                        	
 7707                        		.dbg	line,	"include\routines_LEVELS.c", 510; seconds_backup = seconds;
 7708                        		__ld.um		_seconds
         1F:C7C4  AD 33 23   			lda	_seconds
         1F:C7C7  C2         			cly
 7709                        		__st.umq	_seconds_backup
         1F:C7C8  8D 36 23   			sta	_seconds_backup
 7710                        	
 7711                        		.dbg	line,	"include\routines_LEVELS.c", 511; list_npc_state[current_npc_id] = STATE_FREE;
 7712                        		__ldx.umq	__collision_PLAYER_NPC_end - 3  /* current_npc_id */
         1F:C7CB  AE 20 2C   			ldx	__collision_PLAYER_NPC_end - 3
 7713                        		__st.uaxiq	0, _list_npc_state
         1F:C7CE  9E DE 23   			stz	_list_npc_state, x
 7714                        	
 7715                        		.dbg	line,	"include\routines_LEVELS.c", 512; camera_pos_x_backup = sgx_map_pxl_x;
 7716                        		__ld.wm		_sgx_map_pxl_x
         1F:C7D1  AD D9 26   			lda.l	_sgx_map_pxl_x
         1F:C7D4  AC DA 26   			ldy.h	_sgx_map_pxl_x
 7717                        		__st.wmq	_camera_pos_x_backup
         1F:C7D7  8D FC 24   			sta.l	_camera_pos_x_backup
         1F:C7DA  8C FD 24   			sty.h	_camera_pos_x_backup
 7718                        	
 7719                        		.dbg	line,	"include\routines_LEVELS.c", 513; camera_pos_y_backup = list_npc_y_pos_ref[current_npc_id] - 128;                                    
 7720                        		__ld2x.umq	__collision_PLAYER_NPC_end - 3  /* current_npc_id */
         1F:C7DD  AD 20 2C   			lda	__collision_PLAYER_NPC_end - 3
         1F:C7E0  0A         			asl	a
         1F:C7E1  AA         			tax
 7721                        		__ld.wax	_list_npc_y_pos_ref
         1F:C7E2  BD 3E 26   			lda.l	_list_npc_y_pos_ref, x
         1F:C7E5  BC 3F 26   			ldy.h	_list_npc_y_pos_ref, x
 7722                        		__sub.wi	128
         1F:C7E8  38         			sec
         1F:C7E9  E9 80      			sbc.l	#128
         1F:C7EB  B0 01      			bcs	!+
         1F:C7ED  88         			dey
         1F:C7EE             	!:
 7723                        		__st.wmq	_camera_pos_y_backup
         1F:C7EE  8D FE 24   			sta.l	_camera_pos_y_backup
         1F:C7F1  8C FF 24   			sty.h	_camera_pos_y_backup
 7724                        	
 7725                        		.dbg	line,	"include\routines_LEVELS.c", 514; sequence_loaded = FALSE;
 7726                        		__st.umiq	0, _sequence_loaded
         1F:C7F4  9C 14 23   			stz	_sequence_loaded
 7727                        	
 7728                        		.dbg	line,	"include\routines_LEVELS.c", 515; sequence_id = SEQUENCE_SHOP;
 7729                        		__st.umiq	4, _sequence_id
         1F:C7F7  A9 04      			lda.l	#4
         1F:C7F9  8D 13 23   			sta	_sequence_id
 7730                        	
 7731                        		.dbg	line,	"include\routines_LEVELS.c", 516; break;
 7732                        		__bra		.LL296
         1F:C7FC  4C 0B C7   			bra	.LL296
 7733                        	
 7734                        		.dbg	line,	"include\routines_LEVELS.c", 517; }
 7735    1F:C7FF             	.LL295:
 7736                        		__switch_r.ur	0, 1
         1F:C7FF  C9 02      			cmp	#(1 - 0) + 1
         1F:C801  90 02      			bcc	!found+
         1F:C803  A9 02      	!default:	lda	#(1 - 0) + 1
         1F:C805  0A         	!found:		asl	a
         1F:C806  AA         			tax
         1F:C807  7C 0A C8   			jmp	[!table+, x]
 7737                        	
 7738    1F:C80A  B7 C7      	!table:		dw	.LL297, .LL298
         1F:C80C  BA C7       
 7739    1F:C80E  0B C7      			dw	.LL296
 7740    1F:C810             	.LL296	.alias		.LL289
 7741                        	
 7742                        		.dbg	line,	"include\routines_LEVELS.c", 518; }
 7743                        	
 7744                        		.dbg	line,	"include\routines_LEVELS.c", 519; }
 7745    1F:C810             	.LL294	.alias		.LL289
 7746                        	
 7747                        		.dbg	line,	"include\routines_LEVELS.c", 520; }
 7748    1F:C810             	.LL293	.alias		.LL289
 7749                        	
 7750                        		.dbg	line,	"include\routines_LEVELS.c", 521; }
 7751    1F:C810             	.LL292	.alias		.LL289
 7752                        		__bra		.LL289
         1F:C810  4C 0B C7   			bra	.LL289
 7753    1F:C813             	.LL291:
 7754                        	
 7755                        		.dbg	line,	"include\routines_LEVELS.c", 522; }
 7756                        	
 7757                        		.dbg	line,	"include\routines_LEVELS.c", 523; }
 7758    1F:C813             	.LL286:
 7759                        	
 7760                        		.dbg	line,	"include\routines_LEVELS.c", 524; }
 7761    1F:C813             	.LL285:
 7762    1F:C813             	.LL284:
 7763                        		__return	0
         1F:C813  4C EF FF   			jmp	leave_proc
 7764                        		.dbg	clear
 7765                        		.endp
 7766               2303     		.bss
 7767    F8:2303             	__collision_PLAYER_NPC_end	.alias	leaf_stack
 7768               E31D     		.code
 7769                        		.pceas
 7770                        	
 7771                        		.dbg	line,	"include\routines_LEVELS.c", 526; // CHECK COLLISION WEAPON -> OBJECTS //
 7772                        		.dbg	line,	"include\routines_LEVELS.c", 527; void collision_WEAPON_OBJECTS()
 7773                        		.dbg	line,	"include\routines_LEVELS.c", 528; {
 7774                        	;***********************
 7775                        	;***********************
 7776                        	
 7777                        		.hucc
 7778    1F:C816             		.proc		_collision_WEAPON_OBJECTS
 7779                        		__enter		_collision_WEAPON_OBJECTS
 7780                        	
 7781                        		.dbg	line,	"include\routines_LEVELS.c", 529; if(onscreen_object_number != 0)
 7782                        		__tst.um	_onscreen_object_number
         1F:C816  AD 39 23   			lda	_onscreen_object_number
         1F:C819  C9 01      			cmp	#1
 7783                        		__bfalse	.LL300
         1F:C81B  B0 03 4C 4E			bcc	.LL300
         1F:C81F  C9          
 7784                        	
 7785                        		.dbg	line,	"include\routines_LEVELS.c", 530; {
 7786                        	
 7787                        		.dbg	line,	"include\routines_LEVELS.c", 531; char i;
 7788                        	
 7789                        		.dbg	line,	"include\routines_LEVELS.c", 532; char current_object_id;
 7790                        	
 7791                        		.dbg	line,	"include\routines_LEVELS.c", 533; char current_object_type;
 7792                        	
 7793                        		.dbg	line,	"include\routines_LEVELS.c", 534; int weapon_pos_x;
 7794                        	
 7795                        		.dbg	line,	"include\routines_LEVELS.c", 535; int weapon_pos_y;
 7796                        	
 7797                        		.dbg	line,	"include\routines_LEVELS.c", 537; for(i=0 ; i<onscreen_object_number ; i++)
 7798                        		__st.umiq	0, __collision_WEAPON_OBJECTS_end - 1  /* i */
         1F:C820  9C 22 2C   			stz	__collision_WEAPON_OBJECTS_end - 1
 7799    1F:C823             	.LL301:
 7800                        		__ld.umq	__collision_WEAPON_OBJECTS_end - 1  /* i */
         1F:C823  AD 22 2C   			lda	__collision_WEAPON_OBJECTS_end - 1
 7801                        		__ult_b.umq	_onscreen_object_number
         1F:C826  CD 39 23   			cmp	_onscreen_object_number		; Subtract memory from A.
         1F:C829  6A         			ror	a		; CC if A < memory.
         1F:C82A  49 80      			eor	#$80
         1F:C82C  2A         			rol	a
 7802                        		__btrue		.LL303
         1F:C82D  B0 08      			bcs	.LL303
 7803                        		__bra		.LL304
         1F:C82F  4C 4E C9   			bra	.LL304
 7804    1F:C832             	.LL302:
 7805                        		__inc.umq	__collision_WEAPON_OBJECTS_end - 1  /* i */
         1F:C832  EE 22 2C   			inc	__collision_WEAPON_OBJECTS_end - 1
 7806                        		__bra		.LL301
         1F:C835  80 EC      			bra	.LL301
 7807    1F:C837             	.LL303:
 7808                        	
 7809                        		.dbg	line,	"include\routines_LEVELS.c", 538; {
 7810                        	
 7811                        		.dbg	line,	"include\routines_LEVELS.c", 539; // RETRIEVE OBJECT INDEX IN THE LIST //
 7812                        	
 7813                        		.dbg	line,	"include\routines_LEVELS.c", 540; current_object_id = list_onscreen_object[i];
 7814                        		__ldx.umq	__collision_WEAPON_OBJECTS_end - 1  /* i */
         1F:C837  AE 22 2C   			ldx	__collision_WEAPON_OBJECTS_end - 1
 7815                        		__ld.uax	_list_onscreen_object
         1F:C83A  BD B7 23   			lda	_list_onscreen_object, x
         1F:C83D  C2         			cly
 7816                        		__st.umq	__collision_WEAPON_OBJECTS_end - 2  /* current_object_id */
         1F:C83E  8D 21 2C   			sta	__collision_WEAPON_OBJECTS_end - 2
 7817                        	
 7818                        		.dbg	line,	"include\routines_LEVELS.c", 541; // RETRIEVE OBJECT TYPE //
 7819                        	
 7820                        		.dbg	line,	"include\routines_LEVELS.c", 542; current_object_type = list_object_type[current_object_id];
 7821                        		__ldx.umq	__collision_WEAPON_OBJECTS_end - 2  /* current_object_id */
         1F:C841  AE 21 2C   			ldx	__collision_WEAPON_OBJECTS_end - 2
 7822                        		__ld.uax	_list_object_type
         1F:C844  BD 3A 23   			lda	_list_object_type, x
         1F:C847  C2         			cly
 7823                        		__st.umq	__collision_WEAPON_OBJECTS_end - 3  /* current_object_type */
         1F:C848  8D 20 2C   			sta	__collision_WEAPON_OBJECTS_end - 3
 7824                        	
 7825                        		.dbg	line,	"include\routines_LEVELS.c", 544; if(current_object_type == TYPE_POT)
 7826                        		__ld.umq	__collision_WEAPON_OBJECTS_end - 3  /* current_object_type */
         1F:C84B  AD 20 2C   			lda	__collision_WEAPON_OBJECTS_end - 3
 7827                        		__equ_b.uiq	1
         1F:C84E  C9 01      			cmp	#1
         1F:C850  F0 01      			beq	!+
         1F:C852  18         			clc
         1F:C853             	!:
 7828                        		__bfalse	.LL305
         1F:C853  90 DD      			bcc	.LL305
 7829                        	
 7830                        		.dbg	line,	"include\routines_LEVELS.c", 545; {
 7831                        	
 7832                        		.dbg	line,	"include\routines_LEVELS.c", 546; if(list_object_state[current_object_id] == STATE_ACTIVE)
 7833                        		__ldx.umq	__collision_WEAPON_OBJECTS_end - 2  /* current_object_id */
         1F:C855  AE 21 2C   			ldx	__collision_WEAPON_OBJECTS_end - 2
 7834                        		__ld.uaxq	_list_object_state
         1F:C858  BD 53 23   			lda	_list_object_state, x
 7835                        		__equ_b.uiq	1
         1F:C85B  C9 01      			cmp	#1
         1F:C85D  F0 01      			beq	!+
         1F:C85F  18         			clc
         1F:C860             	!:
 7836                        		__bfalse	.LL306
         1F:C860  90 D0      			bcc	.LL306
 7837                        	
 7838                        		.dbg	line,	"include\routines_LEVELS.c", 547; {
 7839                        	
 7840                        		.dbg	line,	"include\routines_LEVELS.c", 548; // GET WEAPON POSITION //
 7841                        	
 7842                        		.dbg	line,	"include\routines_LEVELS.c", 549; spr_set(weapon_id);
 7843                        		__ld.umq	_weapon_id
         1F:C862  AD 27 23   			lda	_weapon_id
 7844                        		__call		_spr_set.1
         1F:C865  20 F1 E7   			call	_spr_set.1
 7845                        	
 7846                        		.dbg	line,	"include\routines_LEVELS.c", 550; weapon_pos_x = spr_get_x();
 7847                        		__call		_spr_get_x
         1F:C868  20 7F E8   			call	_spr_get_x
 7848                        		__st.wmq	__collision_WEAPON_OBJECTS_end - 5  /* weapon_pos_x */
         1F:C86B  8D 1E 2C   			sta.l	__collision_WEAPON_OBJECTS_end - 5
         1F:C86E  8C 1F 2C   			sty.h	__collision_WEAPON_OBJECTS_end - 5
 7849                        	
 7850                        		.dbg	line,	"include\routines_LEVELS.c", 551; weapon_pos_y = spr_get_y();
 7851                        		__call		_spr_get_y
         1F:C871  20 8F E8   			call	_spr_get_y
 7852                        		__st.wmq	__collision_WEAPON_OBJECTS_end - 7  /* weapon_pos_y */
         1F:C874  8D 1C 2C   			sta.l	__collision_WEAPON_OBJECTS_end - 7
         1F:C877  8C 1D 2C   			sty.h	__collision_WEAPON_OBJECTS_end - 7
 7853                        	
 7854                        		.dbg	line,	"include\routines_LEVELS.c", 553; if( abs( (weapon_pos_x + 8) - (list_object_x_pos[current_object_id] + 8) ) < 16 )
 7855                        		__ld.wm		__collision_WEAPON_OBJECTS_end - 5  /* weapon_pos_x */
         1F:C87A  AD 1E 2C   			lda.l	__collision_WEAPON_OBJECTS_end - 5
         1F:C87D  AC 1F 2C   			ldy.h	__collision_WEAPON_OBJECTS_end - 5
 7856                        		__add.wi	8
         1F:C880  18         			clc
         1F:C881  69 08      			adc.l	#8
         1F:C883  90 01      			bcc	!+
         1F:C885  C8         			iny
         1F:C886             	!:
 7857                        		__push.wr
         1F:C886  5A         			phy
         1F:C887  48         			pha
 7858                        		__ld2x.umq	__collision_WEAPON_OBJECTS_end - 2  /* current_object_id */
         1F:C888  AD 21 2C   			lda	__collision_WEAPON_OBJECTS_end - 2
         1F:C88B  0A         			asl	a
         1F:C88C  AA         			tax
 7859                        		__ld.wax	_list_object_x_pos
         1F:C88D  BD 00 25   			lda.l	_list_object_x_pos, x
         1F:C890  BC 01 25   			ldy.h	_list_object_x_pos, x
 7860                        		__add.wi	8
         1F:C893  18         			clc
         1F:C894  69 08      			adc.l	#8
         1F:C896  90 01      			bcc	!+
         1F:C898  C8         			iny
         1F:C899             	!:
 7861                        		__sub.wt
         1F:C899  BA         			tsx
         1F:C89A  38         			sec
         1F:C89B  49 FF      			eor	#$FF
         1F:C89D  7D 01 21   			adc.l	__tos, x
         1F:C8A0  42         			say
         1F:C8A1  49 FF      			eor	#$FF
         1F:C8A3  7D 02 21   			adc.h	__tos, x
         1F:C8A6  42         			say
         1F:C8A7  E8         			inx
         1F:C8A8  E8         			inx
         1F:C8A9  9A         			txs
 7862                        		__call		_abs.1
         1F:C8AA  20 1D E5   			call	_abs.1
 7863                        		__slt_w.wi	16
         1F:C8AD  C9 10      			cmp.l	#16		; Subtract integer from Y:A.
         1F:C8AF  98         			tya
         1F:C8B0  E9 00      			sbc.h	#16
         1F:C8B2  50 02      			bvc	!+
         1F:C8B4  49 80      			eor	#$80		; -ve if Y:A < integer (signed).
         1F:C8B6  0A         	!:		asl	a
 7864                        		__bfalse	.LL307
         1F:C8B7  B0 03 4C 32			bcc	.LL307
         1F:C8BB  C8          
 7865                        	
 7866                        		.dbg	line,	"include\routines_LEVELS.c", 554; {
 7867                        	
 7868                        		.dbg	line,	"include\routines_LEVELS.c", 555; if( abs( (weapon_pos_y + 8) - (list_object_y_pos[current_object_id] + 8) ) < 8 )
 7869                        		__ld.wm		__collision_WEAPON_OBJECTS_end - 7  /* weapon_pos_y */
         1F:C8BC  AD 1C 2C   			lda.l	__collision_WEAPON_OBJECTS_end - 7
         1F:C8BF  AC 1D 2C   			ldy.h	__collision_WEAPON_OBJECTS_end - 7
 7870                        		__add.wi	8
         1F:C8C2  18         			clc
         1F:C8C3  69 08      			adc.l	#8
         1F:C8C5  90 01      			bcc	!+
         1F:C8C7  C8         			iny
         1F:C8C8             	!:
 7871                        		__push.wr
         1F:C8C8  5A         			phy
         1F:C8C9  48         			pha
 7872                        		__ld2x.umq	__collision_WEAPON_OBJECTS_end - 2  /* current_object_id */
         1F:C8CA  AD 21 2C   			lda	__collision_WEAPON_OBJECTS_end - 2
         1F:C8CD  0A         			asl	a
         1F:C8CE  AA         			tax
 7873                        		__ld.wax	_list_object_y_pos
         1F:C8CF  BD 32 25   			lda.l	_list_object_y_pos, x
         1F:C8D2  BC 33 25   			ldy.h	_list_object_y_pos, x
 7874                        		__add.wi	8
         1F:C8D5  18         			clc
         1F:C8D6  69 08      			adc.l	#8
         1F:C8D8  90 01      			bcc	!+
         1F:C8DA  C8         			iny
         1F:C8DB             	!:
 7875                        		__sub.wt
         1F:C8DB  BA         			tsx
         1F:C8DC  38         			sec
         1F:C8DD  49 FF      			eor	#$FF
         1F:C8DF  7D 01 21   			adc.l	__tos, x
         1F:C8E2  42         			say
         1F:C8E3  49 FF      			eor	#$FF
         1F:C8E5  7D 02 21   			adc.h	__tos, x
         1F:C8E8  42         			say
         1F:C8E9  E8         			inx
         1F:C8EA  E8         			inx
         1F:C8EB  9A         			txs
 7876                        		__call		_abs.1
         1F:C8EC  20 1D E5   			call	_abs.1
 7877                        		__slt_w.wi	8
         1F:C8EF  C9 08      			cmp.l	#8		; Subtract integer from Y:A.
         1F:C8F1  98         			tya
         1F:C8F2  E9 00      			sbc.h	#8
         1F:C8F4  50 02      			bvc	!+
         1F:C8F6  49 80      			eor	#$80		; -ve if Y:A < integer (signed).
         1F:C8F8  0A         	!:		asl	a
 7878                        		__bfalse	.LL308
         1F:C8F9  B0 03 4C 32			bcc	.LL308
         1F:C8FD  C8          
 7879                        	
 7880                        		.dbg	line,	"include\routines_LEVELS.c", 556; {
 7881                        	
 7882                        		.dbg	line,	"include\routines_LEVELS.c", 557; // WEAPON STOPS UNDOLDING //
 7883                        	
 7884                        		.dbg	line,	"include\routines_LEVELS.c", 558; chain_unfold = FALSE;
 7885                        		__st.umiq	0, _chain_unfold
         1F:C8FE  9C 2A 23   			stz	_chain_unfold
 7886                        	
 7887                        		.dbg	line,	"include\routines_LEVELS.c", 560; // WE SHORTEN WEAPON ANIMATION DURATION //
 7888                        	
 7889                        		.dbg	line,	"include\routines_LEVELS.c", 561; player_counter_attack = 19;
 7890                        		__st.umiq	19, _player_counter_attack
         1F:C901  A9 13      			lda.l	#19
         1F:C903  8D 1F 23   			sta	_player_counter_attack
 7891                        	
 7892                        		.dbg	line,	"include\routines_LEVELS.c", 563; // DECREASE POT ENERGY //
 7893                        	
 7894                        		.dbg	line,	"include\routines_LEVELS.c", 564; list_object_energy[current_object_id] -= 1;
 7895                        		__ldx.umq	__collision_WEAPON_OBJECTS_end - 2  /* current_object_id */
         1F:C906  AE 21 2C   			ldx	__collision_WEAPON_OBJECTS_end - 2
 7896                        		__sub_st.uaxiq	1, _list_object_energy
         1F:C909  DE 6C 23   			dec	_list_object_energy, x
 7897                        	
 7898                        		.dbg	line,	"include\routines_LEVELS.c", 566; // INIT POT COUNTER //
 7899                        	
 7900                        		.dbg	line,	"include\routines_LEVELS.c", 567; list_object_counter[current_object_id] = 0;
 7901                        		__ldx.umq	__collision_WEAPON_OBJECTS_end - 2  /* current_object_id */
         1F:C90C  AE 21 2C   			ldx	__collision_WEAPON_OBJECTS_end - 2
 7902                        		__st.uaxiq	0, _list_object_counter
         1F:C90F  9E 9E 23   			stz	_list_object_counter, x
 7903                        	
 7904                        		.dbg	line,	"include\routines_LEVELS.c", 569; // POT GETS HIT //
 7905                        	
 7906                        		.dbg	line,	"include\routines_LEVELS.c", 570; list_object_state[current_object_id] = STATE_HIT;
 7907                        		__ldx.umq	__collision_WEAPON_OBJECTS_end - 2  /* current_object_id */
         1F:C912  AE 21 2C   			ldx	__collision_WEAPON_OBJECTS_end - 2
 7908                        		__st.uaxiq	2, _list_object_state
         1F:C915  A9 02      			lda.l	#2
         1F:C917  9D 53 23   			sta	_list_object_state, x
 7909                        	
 7910                        		.dbg	line,	"include\routines_LEVELS.c", 572; // SELECT POT SPRITE //
 7911                        	
 7912                        		.dbg	line,	"include\routines_LEVELS.c", 573; sgx_spr_set(current_object_id + object_start_index);
 7913                        		__ld.um		__collision_WEAPON_OBJECTS_end - 2  /* current_object_id */
         1F:C91A  AD 21 2C   			lda	__collision_WEAPON_OBJECTS_end - 2
         1F:C91D  C2         			cly
 7914                        		__add.um	_object_start_index
         1F:C91E  18         			clc
         1F:C91F  6D 37 23   			adc	_object_start_index
         1F:C922  90 01      			bcc	!+
         1F:C924  C8         			iny
         1F:C925             	!:
 7915                        		__call		_sgx_spr_set.1
         1F:C925  20 9E E8   			call	_sgx_spr_set.1
 7916                        	
 7917                        		.dbg	line,	"include\routines_LEVELS.c", 574; 
 7918                        	
 7919                        		.dbg	line,	"include\routines_LEVELS.c", 575; // CHECK OBJECT ENERGY //
 7920                        	
 7921                        		.dbg	line,	"include\routines_LEVELS.c", 576; switch(list_object_energy[current_object_id])
 7922                        		__ldx.umq	__collision_WEAPON_OBJECTS_end - 2  /* current_object_id */
         1F:C928  AE 21 2C   			ldx	__collision_WEAPON_OBJECTS_end - 2
 7923                        		__ld.uaxq	_list_object_energy
         1F:C92B  BD 6C 23   			lda	_list_object_energy, x
 7924                        		__bra		.LL309
         1F:C92E  80 0A      			bra	.LL309
 7925                        	
 7926                        		.dbg	line,	"include\routines_LEVELS.c", 577; {
 7927                        	
 7928                        		.dbg	line,	"include\routines_LEVELS.c", 578; case 0:
 7929    1F:C930             	.LL311:
 7930    1F:C930             	.LL312:
 7931                        	
 7932                        		.dbg	line,	"include\routines_LEVELS.c", 579; //sgx_spr_pattern(POT3_VRAM_ADR);
 7933                        	
 7934                        		.dbg	line,	"include\routines_LEVELS.c", 582; case 1:
 7935                        		__case		1
 7936                        	
 7937                        		.dbg	line,	"include\routines_LEVELS.c", 583; sgx_spr_pattern(POT2_VRAM_ADR);
 7938                        		__ld.wi		26688
         1F:C930  A9 40      			lda.l	#26688
         1F:C932  A0 68      			ldy.h	#26688
 7939                        		__call		_sgx_spr_pattern.1
         1F:C934  20 E7 E8   			call	_sgx_spr_pattern.1
 7940                        	
 7941                        		.dbg	line,	"include\routines_LEVELS.c", 584; }
 7942                        		__bra		.LL310
         1F:C937  4C 32 C8   			bra	.LL310
 7943    1F:C93A             	.LL309:
 7944                        		__switch_r.ur	0, 1
         1F:C93A  C9 02      			cmp	#(1 - 0) + 1
         1F:C93C  90 02      			bcc	!found+
         1F:C93E  A9 02      	!default:	lda	#(1 - 0) + 1
         1F:C940  0A         	!found:		asl	a
         1F:C941  AA         			tax
         1F:C942  7C 45 C9   			jmp	[!table+, x]
 7945                        	
 7946    1F:C945  30 C9      	!table:		dw	.LL311, .LL312
         1F:C947  30 C9       
 7947    1F:C949  32 C8      			dw	.LL310
 7948    1F:C94B             	.LL310	.alias		.LL302
 7949                        	
 7950                        		.dbg	line,	"include\routines_LEVELS.c", 585; }
 7951                        	
 7952                        		.dbg	line,	"include\routines_LEVELS.c", 586; }
 7953    1F:C94B             	.LL308	.alias		.LL302
 7954                        	
 7955                        		.dbg	line,	"include\routines_LEVELS.c", 587; }
 7956    1F:C94B             	.LL307	.alias		.LL302
 7957                        	
 7958                        		.dbg	line,	"include\routines_LEVELS.c", 588; }
 7959    1F:C94B             	.LL306	.alias		.LL302
 7960                        	
 7961                        		.dbg	line,	"include\routines_LEVELS.c", 589; }
 7962    1F:C94B             	.LL305	.alias		.LL302
 7963                        		__bra		.LL302
         1F:C94B  4C 32 C8   			bra	.LL302
 7964    1F:C94E             	.LL304:
 7965                        	
 7966                        		.dbg	line,	"include\routines_LEVELS.c", 590; }
 7967                        	
 7968                        		.dbg	line,	"include\routines_LEVELS.c", 591; }
 7969    1F:C94E             	.LL300:
 7970    1F:C94E             	.LL299:
 7971                        		__return	0
         1F:C94E  4C EF FF   			jmp	leave_proc
 7972                        		.dbg	clear
 7973                        		.endp
 7974               2303     		.bss
 7975    F8:2303             	__collision_WEAPON_OBJECTS_end	.alias	leaf_stack
 7976               E31D     		.code
 7977                        		.pceas
 7978                        	
 7979                        		.dbg	line,	"include\routines_LEVELS.c", 597; //-----------------------------------------------------------------------------//
 7980                        		.dbg	line,	"include\routines_LEVELS.c", 598; //                                   OBJECTS                                   //
 7981                        		.dbg	line,	"include\routines_LEVELS.c", 599; //-----------------------------------------------------------------------------//
 7982                        		.dbg	line,	"include\routines_LEVELS.c", 601; void anim_OBJECTS()
 7983                        		.dbg	line,	"include\routines_LEVELS.c", 602; {
 7984                        	;***********************
 7985                        	;***********************
 7986                        	
 7987                        		.hucc
 7988    02:DC32             		.proc		_anim_OBJECTS
 7989                        		__enter		_anim_OBJECTS
 7990                        	
 7991                        		.dbg	line,	"include\routines_LEVELS.c", 603; if(onscreen_object_number != 0)
 7992                        		__tst.um	_onscreen_object_number
         02:DC32  AD 39 23   			lda	_onscreen_object_number
         02:DC35  C9 01      			cmp	#1
 7993                        		__bfalse	.LL314
         02:DC37  B0 03 4C D9			bcc	.LL314
         02:DC3B  DF          
 7994                        	
 7995                        		.dbg	line,	"include\routines_LEVELS.c", 604; {
 7996                        	
 7997                        		.dbg	line,	"include\routines_LEVELS.c", 605; char i;
 7998                        	
 7999                        		.dbg	line,	"include\routines_LEVELS.c", 606; char current_object_id;
 8000                        	
 8001                        		.dbg	line,	"include\routines_LEVELS.c", 607; signed int object_pos_y;
 8002                        	
 8003                        		.dbg	line,	"include\routines_LEVELS.c", 610; for(i=0 ; i<onscreen_object_number ; i++)
 8004                        		__st.umiq	0, __anim_OBJECTS_end - 1  /* i */
         02:DC3C  9C 22 2C   			stz	__anim_OBJECTS_end - 1
 8005    02:DC3F             	.LL315:
 8006                        		__ld.umq	__anim_OBJECTS_end - 1  /* i */
         02:DC3F  AD 22 2C   			lda	__anim_OBJECTS_end - 1
 8007                        		__ult_b.umq	_onscreen_object_number
         02:DC42  CD 39 23   			cmp	_onscreen_object_number		; Subtract memory from A.
         02:DC45  6A         			ror	a		; CC if A < memory.
         02:DC46  49 80      			eor	#$80
         02:DC48  2A         			rol	a
 8008                        		__btrue		.LL317
         02:DC49  B0 08      			bcs	.LL317
 8009                        		__bra		.LL318
         02:DC4B  4C D9 DF   			bra	.LL318
 8010    02:DC4E             	.LL316:
 8011                        		__inc.umq	__anim_OBJECTS_end - 1  /* i */
         02:DC4E  EE 22 2C   			inc	__anim_OBJECTS_end - 1
 8012                        		__bra		.LL315
         02:DC51  80 EC      			bra	.LL315
 8013    02:DC53             	.LL317:
 8014                        	
 8015                        		.dbg	line,	"include\routines_LEVELS.c", 611; {
 8016                        	
 8017                        		.dbg	line,	"include\routines_LEVELS.c", 612; // RETRIEVE OBJECT INDEX IN THE LIST //
 8018                        	
 8019                        		.dbg	line,	"include\routines_LEVELS.c", 613; current_object_id = list_onscreen_object[i];
 8020                        		__ldx.umq	__anim_OBJECTS_end - 1  /* i */
         02:DC53  AE 22 2C   			ldx	__anim_OBJECTS_end - 1
 8021                        		__ld.uax	_list_onscreen_object
         02:DC56  BD B7 23   			lda	_list_onscreen_object, x
         02:DC59  C2         			cly
 8022                        		__st.umq	__anim_OBJECTS_end - 2  /* current_object_id */
         02:DC5A  8D 21 2C   			sta	__anim_OBJECTS_end - 2
 8023                        	
 8024                        		.dbg	line,	"include\routines_LEVELS.c", 615; // IF POT HAS BEEN HIT BY THE WEAPON //
 8025                        	
 8026                        		.dbg	line,	"include\routines_LEVELS.c", 616; if(list_object_state[current_object_id] == STATE_HIT)
 8027                        		__ldx.umq	__anim_OBJECTS_end - 2  /* current_object_id */
         02:DC5D  AE 21 2C   			ldx	__anim_OBJECTS_end - 2
 8028                        		__ld.uaxq	_list_object_state
         02:DC60  BD 53 23   			lda	_list_object_state, x
 8029                        		__equ_b.uiq	2
         02:DC63  C9 02      			cmp	#2
         02:DC65  F0 01      			beq	!+
         02:DC67  18         			clc
         02:DC68             	!:
 8030                        		__bfalse	.LL319
         02:DC68  90 E4      			bcc	.LL319
 8031                        	
 8032                        		.dbg	line,	"include\routines_LEVELS.c", 617; {
 8033                        	
 8034                        		.dbg	line,	"include\routines_LEVELS.c", 618; // SELECT POT SPRITE //
 8035                        	
 8036                        		.dbg	line,	"include\routines_LEVELS.c", 619; sgx_spr_set(current_object_id + object_start_index);
 8037                        		__ld.um		__anim_OBJECTS_end - 2  /* current_object_id */
         02:DC6A  AD 21 2C   			lda	__anim_OBJECTS_end - 2
         02:DC6D  C2         			cly
 8038                        		__add.um	_object_start_index
         02:DC6E  18         			clc
         02:DC6F  6D 37 23   			adc	_object_start_index
         02:DC72  90 01      			bcc	!+
         02:DC74  C8         			iny
         02:DC75             	!:
 8039                        		__call		_sgx_spr_set.1
         02:DC75  20 9E E8   			call	_sgx_spr_set.1
 8040                        	
 8041                        		.dbg	line,	"include\routines_LEVELS.c", 620; 
 8042                        	
 8043                        		.dbg	line,	"include\routines_LEVELS.c", 621; // CHECK OBJECT ENERGY //
 8044                        	
 8045                        		.dbg	line,	"include\routines_LEVELS.c", 622; if(list_object_energy[current_object_id] == 0)
 8046                        		__ldx.umq	__anim_OBJECTS_end - 2  /* current_object_id */
         02:DC78  AE 21 2C   			ldx	__anim_OBJECTS_end - 2
 8047                        		__not.uax	_list_object_energy
         02:DC7B  BD 6C 23   			lda	_list_object_energy, x
         02:DC7E  18         			clc
         02:DC7F  D0 01      			bne	!+
         02:DC81  38         			sec
         02:DC82             	!:
 8048                        		__bfalse	.LL320
         02:DC82  B0 03 4C 37			bcc	.LL320
         02:DC86  DF          
 8049                        	
 8050                        		.dbg	line,	"include\routines_LEVELS.c", 623; {
 8051                        	
 8052                        		.dbg	line,	"include\routines_LEVELS.c", 624; if(list_object_counter[current_object_id] == 0)
 8053                        		__ldx.umq	__anim_OBJECTS_end - 2  /* current_object_id */
         02:DC87  AE 21 2C   			ldx	__anim_OBJECTS_end - 2
 8054                        		__not.uax	_list_object_counter
         02:DC8A  BD 9E 23   			lda	_list_object_counter, x
         02:DC8D  18         			clc
         02:DC8E  D0 01      			bne	!+
         02:DC90  38         			sec
         02:DC91             	!:
 8055                        		__bfalse	.LL321
         02:DC91  90 1B      			bcc	.LL321
 8056                        	
 8057                        		.dbg	line,	"include\routines_LEVELS.c", 625; {
 8058                        	
 8059                        		.dbg	line,	"include\routines_LEVELS.c", 626; object_pos_y = sgx_spr_get_y();
 8060                        		__call		_sgx_spr_get_y
         02:DC93  20 3C E9   			call	_sgx_spr_get_y
 8061                        		__st.wmq	__anim_OBJECTS_end - 4  /* object_pos_y */
         02:DC96  8D 1F 2C   			sta.l	__anim_OBJECTS_end - 4
         02:DC99  8C 20 2C   			sty.h	__anim_OBJECTS_end - 4
 8062                        	
 8063                        		.dbg	line,	"include\routines_LEVELS.c", 627; sgx_spr_y(object_pos_y - 1);
 8064                        		__ld.wm		__anim_OBJECTS_end - 4  /* object_pos_y */
         02:DC9C  AD 1F 2C   			lda.l	__anim_OBJECTS_end - 4
         02:DC9F  AC 20 2C   			ldy.h	__anim_OBJECTS_end - 4
 8065                        		__sub.wi	1
         02:DCA2  38         			sec
         02:DCA3  E9 01      			sbc.l	#1
         02:DCA5  B0 01      			bcs	!+
         02:DCA7  88         			dey
         02:DCA8             	!:
 8066                        		__call		_sgx_spr_y.1
         02:DCA8  20 DA E8   			call	_sgx_spr_y.1
 8067                        	
 8068                        		.dbg	line,	"include\routines_LEVELS.c", 628; }
 8069                        	
 8070                        		.dbg	line,	"include\routines_LEVELS.c", 630; else if(list_object_counter[current_object_id] == 1)
 8071                        		__bra		.LL322
         02:DCAB  4C 2E DF   			bra	.LL322
 8072    02:DCAE             	.LL321:
 8073                        		__ldx.umq	__anim_OBJECTS_end - 2  /* current_object_id */
         02:DCAE  AE 21 2C   			ldx	__anim_OBJECTS_end - 2
 8074                        		__ld.uaxq	_list_object_counter
         02:DCB1  BD 9E 23   			lda	_list_object_counter, x
 8075                        		__equ_b.uiq	1
         02:DCB4  C9 01      			cmp	#1
         02:DCB6  F0 01      			beq	!+
         02:DCB8  18         			clc
         02:DCB9             	!:
 8076                        		__bfalse	.LL323
         02:DCB9  90 1B      			bcc	.LL323
 8077                        	
 8078                        		.dbg	line,	"include\routines_LEVELS.c", 631; {
 8079                        	
 8080                        		.dbg	line,	"include\routines_LEVELS.c", 632; object_pos_y = sgx_spr_get_y();
 8081                        		__call		_sgx_spr_get_y
         02:DCBB  20 3C E9   			call	_sgx_spr_get_y
 8082                        		__st.wmq	__anim_OBJECTS_end - 4  /* object_pos_y */
         02:DCBE  8D 1F 2C   			sta.l	__anim_OBJECTS_end - 4
         02:DCC1  8C 20 2C   			sty.h	__anim_OBJECTS_end - 4
 8083                        	
 8084                        		.dbg	line,	"include\routines_LEVELS.c", 633; sgx_spr_y(object_pos_y - 2);
 8085                        		__ld.wm		__anim_OBJECTS_end - 4  /* object_pos_y */
         02:DCC4  AD 1F 2C   			lda.l	__anim_OBJECTS_end - 4
         02:DCC7  AC 20 2C   			ldy.h	__anim_OBJECTS_end - 4
 8086                        		__sub.wi	2
         02:DCCA  38         			sec
         02:DCCB  E9 02      			sbc.l	#2
         02:DCCD  B0 01      			bcs	!+
         02:DCCF  88         			dey
         02:DCD0             	!:
 8087                        		__call		_sgx_spr_y.1
         02:DCD0  20 DA E8   			call	_sgx_spr_y.1
 8088                        	
 8089                        		.dbg	line,	"include\routines_LEVELS.c", 634; }
 8090                        	
 8091                        		.dbg	line,	"include\routines_LEVELS.c", 636; else if(list_object_counter[current_object_id] == 2)
 8092                        		__bra		.LL324
         02:DCD3  4C 2E DF   			bra	.LL324
 8093    02:DCD6             	.LL323:
 8094                        		__ldx.umq	__anim_OBJECTS_end - 2  /* current_object_id */
         02:DCD6  AE 21 2C   			ldx	__anim_OBJECTS_end - 2
 8095                        		__ld.uaxq	_list_object_counter
         02:DCD9  BD 9E 23   			lda	_list_object_counter, x
 8096                        		__equ_b.uiq	2
         02:DCDC  C9 02      			cmp	#2
         02:DCDE  F0 01      			beq	!+
         02:DCE0  18         			clc
         02:DCE1             	!:
 8097                        		__bfalse	.LL325
         02:DCE1  90 1B      			bcc	.LL325
 8098                        	
 8099                        		.dbg	line,	"include\routines_LEVELS.c", 637; {
 8100                        	
 8101                        		.dbg	line,	"include\routines_LEVELS.c", 638; object_pos_y = sgx_spr_get_y();
 8102                        		__call		_sgx_spr_get_y
         02:DCE3  20 3C E9   			call	_sgx_spr_get_y
 8103                        		__st.wmq	__anim_OBJECTS_end - 4  /* object_pos_y */
         02:DCE6  8D 1F 2C   			sta.l	__anim_OBJECTS_end - 4
         02:DCE9  8C 20 2C   			sty.h	__anim_OBJECTS_end - 4
 8104                        	
 8105                        		.dbg	line,	"include\routines_LEVELS.c", 639; sgx_spr_y(object_pos_y - 1);
 8106                        		__ld.wm		__anim_OBJECTS_end - 4  /* object_pos_y */
         02:DCEC  AD 1F 2C   			lda.l	__anim_OBJECTS_end - 4
         02:DCEF  AC 20 2C   			ldy.h	__anim_OBJECTS_end - 4
 8107                        		__sub.wi	1
         02:DCF2  38         			sec
         02:DCF3  E9 01      			sbc.l	#1
         02:DCF5  B0 01      			bcs	!+
         02:DCF7  88         			dey
         02:DCF8             	!:
 8108                        		__call		_sgx_spr_y.1
         02:DCF8  20 DA E8   			call	_sgx_spr_y.1
 8109                        	
 8110                        		.dbg	line,	"include\routines_LEVELS.c", 640; }
 8111                        	
 8112                        		.dbg	line,	"include\routines_LEVELS.c", 642; else if(list_object_counter[current_object_id] == 8)
 8113                        		__bra		.LL326
         02:DCFB  4C 2E DF   			bra	.LL326
 8114    02:DCFE             	.LL325:
 8115                        		__ldx.umq	__anim_OBJECTS_end - 2  /* current_object_id */
         02:DCFE  AE 21 2C   			ldx	__anim_OBJECTS_end - 2
 8116                        		__ld.uaxq	_list_object_counter
         02:DD01  BD 9E 23   			lda	_list_object_counter, x
 8117                        		__equ_b.uiq	8
         02:DD04  C9 08      			cmp	#8
         02:DD06  F0 01      			beq	!+
         02:DD08  18         			clc
         02:DD09             	!:
 8118                        		__bfalse	.LL327
         02:DD09  90 27      			bcc	.LL327
 8119                        	
 8120                        		.dbg	line,	"include\routines_LEVELS.c", 643; {
 8121                        	
 8122                        		.dbg	line,	"include\routines_LEVELS.c", 644; sgx_spr_pal(18);
 8123                        		__ld.uiq	18
         02:DD0B  A9 12      			lda	#18
 8124                        		__call		_sgx_spr_pal.1
         02:DD0D  20 0E E9   			call	_sgx_spr_pal.1
 8125                        	
 8126                        		.dbg	line,	"include\routines_LEVELS.c", 645; sgx_spr_pattern(*(ptr_REWARD_VRAM_ADR+current_object_id));
 8127                        		__ld.um		__anim_OBJECTS_end - 2  /* current_object_id */
         02:DD10  AD 21 2C   			lda	__anim_OBJECTS_end - 2
         02:DD13  C2         			cly
 8128                        		__asl.wr
         02:DD14  0A         			asl	a
         02:DD15  42         			say
         02:DD16  2A         			rol	a
         02:DD17  42         			say
 8129                        		__add.wm	_ptr_REWARD_VRAM_ADR
         02:DD18  18         			clc
         02:DD19  6D 91 26   			adc.l	_ptr_REWARD_VRAM_ADR
         02:DD1C  42         			say
         02:DD1D  6D 92 26   			adc.h	_ptr_REWARD_VRAM_ADR
         02:DD20  42         			say
 8130                        		__st.wm		__ptr
         02:DD21  85 88      			sta.l	__ptr
         02:DD23  84 89      			sty.h	__ptr
 8131                        		__ld.wp		__ptr
         02:DD25  A0 01      			ldy	#1
         02:DD27  B1 88      			lda	[__ptr], y
         02:DD29  A8         			tay
         02:DD2A  B2 88      			lda	[__ptr]
 8132                        		__call		_sgx_spr_pattern.1
         02:DD2C  20 E7 E8   			call	_sgx_spr_pattern.1
 8133                        	
 8134                        		.dbg	line,	"include\routines_LEVELS.c", 646; }
 8135                        	
 8136                        		.dbg	line,	"include\routines_LEVELS.c", 648; else if(list_object_counter[current_object_id] == 9)
 8137                        		__bra		.LL328
         02:DD2F  4C 2E DF   			bra	.LL328
 8138    02:DD32             	.LL327:
 8139                        		__ldx.umq	__anim_OBJECTS_end - 2  /* current_object_id */
         02:DD32  AE 21 2C   			ldx	__anim_OBJECTS_end - 2
 8140                        		__ld.uaxq	_list_object_counter
         02:DD35  BD 9E 23   			lda	_list_object_counter, x
 8141                        		__equ_b.uiq	9
         02:DD38  C9 09      			cmp	#9
         02:DD3A  F0 01      			beq	!+
         02:DD3C  18         			clc
         02:DD3D             	!:
 8142                        		__bfalse	.LL329
         02:DD3D  90 0F      			bcc	.LL329
 8143                        	
 8144                        		.dbg	line,	"include\routines_LEVELS.c", 649; {
 8145                        	
 8146                        		.dbg	line,	"include\routines_LEVELS.c", 650; sgx_spr_pal(17);
 8147                        		__ld.uiq	17
         02:DD3F  A9 11      			lda	#17
 8148                        		__call		_sgx_spr_pal.1
         02:DD41  20 0E E9   			call	_sgx_spr_pal.1
 8149                        	
 8150                        		.dbg	line,	"include\routines_LEVELS.c", 651; sgx_spr_pattern(POT3_VRAM_ADR);
 8151                        		__ld.wi		26752
         02:DD44  A9 80      			lda.l	#26752
         02:DD46  A0 68      			ldy.h	#26752
 8152                        		__call		_sgx_spr_pattern.1
         02:DD48  20 E7 E8   			call	_sgx_spr_pattern.1
 8153                        	
 8154                        		.dbg	line,	"include\routines_LEVELS.c", 652; }
 8155                        	
 8156                        		.dbg	line,	"include\routines_LEVELS.c", 654; else if(list_object_counter[current_object_id] == 13)
 8157                        		__bra		.LL330
         02:DD4B  4C 2E DF   			bra	.LL330
 8158    02:DD4E             	.LL329:
 8159                        		__ldx.umq	__anim_OBJECTS_end - 2  /* current_object_id */
         02:DD4E  AE 21 2C   			ldx	__anim_OBJECTS_end - 2
 8160                        		__ld.uaxq	_list_object_counter
         02:DD51  BD 9E 23   			lda	_list_object_counter, x
 8161                        		__equ_b.uiq	13
         02:DD54  C9 0D      			cmp	#13
         02:DD56  F0 01      			beq	!+
         02:DD58  18         			clc
         02:DD59             	!:
 8162                        		__bfalse	.LL331
         02:DD59  90 27      			bcc	.LL331
 8163                        	
 8164                        		.dbg	line,	"include\routines_LEVELS.c", 655; {
 8165                        	
 8166                        		.dbg	line,	"include\routines_LEVELS.c", 656; sgx_spr_pal(18);
 8167                        		__ld.uiq	18
         02:DD5B  A9 12      			lda	#18
 8168                        		__call		_sgx_spr_pal.1
         02:DD5D  20 0E E9   			call	_sgx_spr_pal.1
 8169                        	
 8170                        		.dbg	line,	"include\routines_LEVELS.c", 657; sgx_spr_pattern(*(ptr_REWARD_VRAM_ADR+current_object_id));
 8171                        		__ld.um		__anim_OBJECTS_end - 2  /* current_object_id */
         02:DD60  AD 21 2C   			lda	__anim_OBJECTS_end - 2
         02:DD63  C2         			cly
 8172                        		__asl.wr
         02:DD64  0A         			asl	a
         02:DD65  42         			say
         02:DD66  2A         			rol	a
         02:DD67  42         			say
 8173                        		__add.wm	_ptr_REWARD_VRAM_ADR
         02:DD68  18         			clc
         02:DD69  6D 91 26   			adc.l	_ptr_REWARD_VRAM_ADR
         02:DD6C  42         			say
         02:DD6D  6D 92 26   			adc.h	_ptr_REWARD_VRAM_ADR
         02:DD70  42         			say
 8174                        		__st.wm		__ptr
         02:DD71  85 88      			sta.l	__ptr
         02:DD73  84 89      			sty.h	__ptr
 8175                        		__ld.wp		__ptr
         02:DD75  A0 01      			ldy	#1
         02:DD77  B1 88      			lda	[__ptr], y
         02:DD79  A8         			tay
         02:DD7A  B2 88      			lda	[__ptr]
 8176                        		__call		_sgx_spr_pattern.1
         02:DD7C  20 E7 E8   			call	_sgx_spr_pattern.1
 8177                        	
 8178                        		.dbg	line,	"include\routines_LEVELS.c", 658; }
 8179                        	
 8180                        		.dbg	line,	"include\routines_LEVELS.c", 660; else if(list_object_counter[current_object_id] == 14)
 8181                        		__bra		.LL332
         02:DD7F  4C 2E DF   			bra	.LL332
 8182    02:DD82             	.LL331:
 8183                        		__ldx.umq	__anim_OBJECTS_end - 2  /* current_object_id */
         02:DD82  AE 21 2C   			ldx	__anim_OBJECTS_end - 2
 8184                        		__ld.uaxq	_list_object_counter
         02:DD85  BD 9E 23   			lda	_list_object_counter, x
 8185                        		__equ_b.uiq	14
         02:DD88  C9 0E      			cmp	#14
         02:DD8A  F0 01      			beq	!+
         02:DD8C  18         			clc
         02:DD8D             	!:
 8186                        		__bfalse	.LL333
         02:DD8D  90 0F      			bcc	.LL333
 8187                        	
 8188                        		.dbg	line,	"include\routines_LEVELS.c", 661; {
 8189                        	
 8190                        		.dbg	line,	"include\routines_LEVELS.c", 662; sgx_spr_pal(17);
 8191                        		__ld.uiq	17
         02:DD8F  A9 11      			lda	#17
 8192                        		__call		_sgx_spr_pal.1
         02:DD91  20 0E E9   			call	_sgx_spr_pal.1
 8193                        	
 8194                        		.dbg	line,	"include\routines_LEVELS.c", 663; sgx_spr_pattern(POT4_VRAM_ADR);
 8195                        		__ld.wi		26816
         02:DD94  A9 C0      			lda.l	#26816
         02:DD96  A0 68      			ldy.h	#26816
 8196                        		__call		_sgx_spr_pattern.1
         02:DD98  20 E7 E8   			call	_sgx_spr_pattern.1
 8197                        	
 8198                        		.dbg	line,	"include\routines_LEVELS.c", 664; }
 8199                        	
 8200                        		.dbg	line,	"include\routines_LEVELS.c", 666; else if(list_object_counter[current_object_id] == 18)
 8201                        		__bra		.LL334
         02:DD9B  4C 2E DF   			bra	.LL334
 8202    02:DD9E             	.LL333:
 8203                        		__ldx.umq	__anim_OBJECTS_end - 2  /* current_object_id */
         02:DD9E  AE 21 2C   			ldx	__anim_OBJECTS_end - 2
 8204                        		__ld.uaxq	_list_object_counter
         02:DDA1  BD 9E 23   			lda	_list_object_counter, x
 8205                        		__equ_b.uiq	18
         02:DDA4  C9 12      			cmp	#18
         02:DDA6  F0 01      			beq	!+
         02:DDA8  18         			clc
         02:DDA9             	!:
 8206                        		__bfalse	.LL335
         02:DDA9  90 27      			bcc	.LL335
 8207                        	
 8208                        		.dbg	line,	"include\routines_LEVELS.c", 667; {
 8209                        	
 8210                        		.dbg	line,	"include\routines_LEVELS.c", 668; sgx_spr_pal(18);
 8211                        		__ld.uiq	18
         02:DDAB  A9 12      			lda	#18
 8212                        		__call		_sgx_spr_pal.1
         02:DDAD  20 0E E9   			call	_sgx_spr_pal.1
 8213                        	
 8214                        		.dbg	line,	"include\routines_LEVELS.c", 669; sgx_spr_pattern(*(ptr_REWARD_VRAM_ADR+current_object_id));
 8215                        		__ld.um		__anim_OBJECTS_end - 2  /* current_object_id */
         02:DDB0  AD 21 2C   			lda	__anim_OBJECTS_end - 2
         02:DDB3  C2         			cly
 8216                        		__asl.wr
         02:DDB4  0A         			asl	a
         02:DDB5  42         			say
         02:DDB6  2A         			rol	a
         02:DDB7  42         			say
 8217                        		__add.wm	_ptr_REWARD_VRAM_ADR
         02:DDB8  18         			clc
         02:DDB9  6D 91 26   			adc.l	_ptr_REWARD_VRAM_ADR
         02:DDBC  42         			say
         02:DDBD  6D 92 26   			adc.h	_ptr_REWARD_VRAM_ADR
         02:DDC0  42         			say
 8218                        		__st.wm		__ptr
         02:DDC1  85 88      			sta.l	__ptr
         02:DDC3  84 89      			sty.h	__ptr
 8219                        		__ld.wp		__ptr
         02:DDC5  A0 01      			ldy	#1
         02:DDC7  B1 88      			lda	[__ptr], y
         02:DDC9  A8         			tay
         02:DDCA  B2 88      			lda	[__ptr]
 8220                        		__call		_sgx_spr_pattern.1
         02:DDCC  20 E7 E8   			call	_sgx_spr_pattern.1
 8221                        	
 8222                        		.dbg	line,	"include\routines_LEVELS.c", 670; }
 8223                        	
 8224                        		.dbg	line,	"include\routines_LEVELS.c", 672; else if(list_object_counter[current_object_id] == 19)
 8225                        		__bra		.LL336
         02:DDCF  4C 2E DF   			bra	.LL336
 8226    02:DDD2             	.LL335:
 8227                        		__ldx.umq	__anim_OBJECTS_end - 2  /* current_object_id */
         02:DDD2  AE 21 2C   			ldx	__anim_OBJECTS_end - 2
 8228                        		__ld.uaxq	_list_object_counter
         02:DDD5  BD 9E 23   			lda	_list_object_counter, x
 8229                        		__equ_b.uiq	19
         02:DDD8  C9 13      			cmp	#19
         02:DDDA  F0 01      			beq	!+
         02:DDDC  18         			clc
         02:DDDD             	!:
 8230                        		__bfalse	.LL337
         02:DDDD  90 0E      			bcc	.LL337
 8231                        	
 8232                        		.dbg	line,	"include\routines_LEVELS.c", 673; {
 8233                        	
 8234                        		.dbg	line,	"include\routines_LEVELS.c", 674; sgx_spr_pal(17);
 8235                        		__ld.uiq	17
         02:DDDF  A9 11      			lda	#17
 8236                        		__call		_sgx_spr_pal.1
         02:DDE1  20 0E E9   			call	_sgx_spr_pal.1
 8237                        	
 8238                        		.dbg	line,	"include\routines_LEVELS.c", 675; sgx_spr_pattern(POT5_VRAM_ADR);
 8239                        		__ld.wi		26880
         02:DDE4  62         			cla
         02:DDE5  A0 69      			ldy.h	#26880
 8240                        		__call		_sgx_spr_pattern.1
         02:DDE7  20 E7 E8   			call	_sgx_spr_pattern.1
 8241                        	
 8242                        		.dbg	line,	"include\routines_LEVELS.c", 676; }
 8243                        	
 8244                        		.dbg	line,	"include\routines_LEVELS.c", 678; else if(list_object_counter[current_object_id] == 23)
 8245                        		__bra		.LL338
         02:DDEA  4C 2E DF   			bra	.LL338
 8246    02:DDED             	.LL337:
 8247                        		__ldx.umq	__anim_OBJECTS_end - 2  /* current_object_id */
         02:DDED  AE 21 2C   			ldx	__anim_OBJECTS_end - 2
 8248                        		__ld.uaxq	_list_object_counter
         02:DDF0  BD 9E 23   			lda	_list_object_counter, x
 8249                        		__equ_b.uiq	23
         02:DDF3  C9 17      			cmp	#23
         02:DDF5  F0 01      			beq	!+
         02:DDF7  18         			clc
         02:DDF8             	!:
 8250                        		__bfalse	.LL339
         02:DDF8  90 27      			bcc	.LL339
 8251                        	
 8252                        		.dbg	line,	"include\routines_LEVELS.c", 679; {
 8253                        	
 8254                        		.dbg	line,	"include\routines_LEVELS.c", 680; sgx_spr_pal(18);
 8255                        		__ld.uiq	18
         02:DDFA  A9 12      			lda	#18
 8256                        		__call		_sgx_spr_pal.1
         02:DDFC  20 0E E9   			call	_sgx_spr_pal.1
 8257                        	
 8258                        		.dbg	line,	"include\routines_LEVELS.c", 681; sgx_spr_pattern(*(ptr_REWARD_VRAM_ADR+current_object_id));
 8259                        		__ld.um		__anim_OBJECTS_end - 2  /* current_object_id */
         02:DDFF  AD 21 2C   			lda	__anim_OBJECTS_end - 2
         02:DE02  C2         			cly
 8260                        		__asl.wr
         02:DE03  0A         			asl	a
         02:DE04  42         			say
         02:DE05  2A         			rol	a
         02:DE06  42         			say
 8261                        		__add.wm	_ptr_REWARD_VRAM_ADR
         02:DE07  18         			clc
         02:DE08  6D 91 26   			adc.l	_ptr_REWARD_VRAM_ADR
         02:DE0B  42         			say
         02:DE0C  6D 92 26   			adc.h	_ptr_REWARD_VRAM_ADR
         02:DE0F  42         			say
 8262                        		__st.wm		__ptr
         02:DE10  85 88      			sta.l	__ptr
         02:DE12  84 89      			sty.h	__ptr
 8263                        		__ld.wp		__ptr
         02:DE14  A0 01      			ldy	#1
         02:DE16  B1 88      			lda	[__ptr], y
         02:DE18  A8         			tay
         02:DE19  B2 88      			lda	[__ptr]
 8264                        		__call		_sgx_spr_pattern.1
         02:DE1B  20 E7 E8   			call	_sgx_spr_pattern.1
 8265                        	
 8266                        		.dbg	line,	"include\routines_LEVELS.c", 682; }
 8267                        	
 8268                        		.dbg	line,	"include\routines_LEVELS.c", 684; else if(list_object_counter[current_object_id] == 24)
 8269                        		__bra		.LL340
         02:DE1E  4C 2E DF   			bra	.LL340
 8270    02:DE21             	.LL339:
 8271                        		__ldx.umq	__anim_OBJECTS_end - 2  /* current_object_id */
         02:DE21  AE 21 2C   			ldx	__anim_OBJECTS_end - 2
 8272                        		__ld.uaxq	_list_object_counter
         02:DE24  BD 9E 23   			lda	_list_object_counter, x
 8273                        		__equ_b.uiq	24
         02:DE27  C9 18      			cmp	#24
         02:DE29  F0 01      			beq	!+
         02:DE2B  18         			clc
         02:DE2C             	!:
 8274                        		__bfalse	.LL341
         02:DE2C  90 0F      			bcc	.LL341
 8275                        	
 8276                        		.dbg	line,	"include\routines_LEVELS.c", 685; {
 8277                        	
 8278                        		.dbg	line,	"include\routines_LEVELS.c", 686; sgx_spr_pal(17);
 8279                        		__ld.uiq	17
         02:DE2E  A9 11      			lda	#17
 8280                        		__call		_sgx_spr_pal.1
         02:DE30  20 0E E9   			call	_sgx_spr_pal.1
 8281                        	
 8282                        		.dbg	line,	"include\routines_LEVELS.c", 687; sgx_spr_pattern(POT6_VRAM_ADR);
 8283                        		__ld.wi		26944
         02:DE33  A9 40      			lda.l	#26944
         02:DE35  A0 69      			ldy.h	#26944
 8284                        		__call		_sgx_spr_pattern.1
         02:DE37  20 E7 E8   			call	_sgx_spr_pattern.1
 8285                        	
 8286                        		.dbg	line,	"include\routines_LEVELS.c", 688; }
 8287                        	
 8288                        		.dbg	line,	"include\routines_LEVELS.c", 690; else if(list_object_counter[current_object_id] == 28)
 8289                        		__bra		.LL342
         02:DE3A  4C 2E DF   			bra	.LL342
 8290    02:DE3D             	.LL341:
 8291                        		__ldx.umq	__anim_OBJECTS_end - 2  /* current_object_id */
         02:DE3D  AE 21 2C   			ldx	__anim_OBJECTS_end - 2
 8292                        		__ld.uaxq	_list_object_counter
         02:DE40  BD 9E 23   			lda	_list_object_counter, x
 8293                        		__equ_b.uiq	28
         02:DE43  C9 1C      			cmp	#28
         02:DE45  F0 01      			beq	!+
         02:DE47  18         			clc
         02:DE48             	!:
 8294                        		__bfalse	.LL343
         02:DE48  90 27      			bcc	.LL343
 8295                        	
 8296                        		.dbg	line,	"include\routines_LEVELS.c", 691; {
 8297                        	
 8298                        		.dbg	line,	"include\routines_LEVELS.c", 692; sgx_spr_pal(18);
 8299                        		__ld.uiq	18
         02:DE4A  A9 12      			lda	#18
 8300                        		__call		_sgx_spr_pal.1
         02:DE4C  20 0E E9   			call	_sgx_spr_pal.1
 8301                        	
 8302                        		.dbg	line,	"include\routines_LEVELS.c", 693; sgx_spr_pattern(*(ptr_REWARD_VRAM_ADR+current_object_id));
 8303                        		__ld.um		__anim_OBJECTS_end - 2  /* current_object_id */
         02:DE4F  AD 21 2C   			lda	__anim_OBJECTS_end - 2
         02:DE52  C2         			cly
 8304                        		__asl.wr
         02:DE53  0A         			asl	a
         02:DE54  42         			say
         02:DE55  2A         			rol	a
         02:DE56  42         			say
 8305                        		__add.wm	_ptr_REWARD_VRAM_ADR
         02:DE57  18         			clc
         02:DE58  6D 91 26   			adc.l	_ptr_REWARD_VRAM_ADR
         02:DE5B  42         			say
         02:DE5C  6D 92 26   			adc.h	_ptr_REWARD_VRAM_ADR
         02:DE5F  42         			say
 8306                        		__st.wm		__ptr
         02:DE60  85 88      			sta.l	__ptr
         02:DE62  84 89      			sty.h	__ptr
 8307                        		__ld.wp		__ptr
         02:DE64  A0 01      			ldy	#1
         02:DE66  B1 88      			lda	[__ptr], y
         02:DE68  A8         			tay
         02:DE69  B2 88      			lda	[__ptr]
 8308                        		__call		_sgx_spr_pattern.1
         02:DE6B  20 E7 E8   			call	_sgx_spr_pattern.1
 8309                        	
 8310                        		.dbg	line,	"include\routines_LEVELS.c", 694; }
 8311                        	
 8312                        		.dbg	line,	"include\routines_LEVELS.c", 696; else if(list_object_counter[current_object_id] == 29)
 8313                        		__bra		.LL344
         02:DE6E  4C 2E DF   			bra	.LL344
 8314    02:DE71             	.LL343:
 8315                        		__ldx.umq	__anim_OBJECTS_end - 2  /* current_object_id */
         02:DE71  AE 21 2C   			ldx	__anim_OBJECTS_end - 2
 8316                        		__ld.uaxq	_list_object_counter
         02:DE74  BD 9E 23   			lda	_list_object_counter, x
 8317                        		__equ_b.uiq	29
         02:DE77  C9 1D      			cmp	#29
         02:DE79  F0 01      			beq	!+
         02:DE7B  18         			clc
         02:DE7C             	!:
 8318                        		__bfalse	.LL345
         02:DE7C  90 0F      			bcc	.LL345
 8319                        	
 8320                        		.dbg	line,	"include\routines_LEVELS.c", 697; {
 8321                        	
 8322                        		.dbg	line,	"include\routines_LEVELS.c", 698; sgx_spr_pal(17);
 8323                        		__ld.uiq	17
         02:DE7E  A9 11      			lda	#17
 8324                        		__call		_sgx_spr_pal.1
         02:DE80  20 0E E9   			call	_sgx_spr_pal.1
 8325                        	
 8326                        		.dbg	line,	"include\routines_LEVELS.c", 699; sgx_spr_pattern(POT7_VRAM_ADR);
 8327                        		__ld.wi		27008
         02:DE83  A9 80      			lda.l	#27008
         02:DE85  A0 69      			ldy.h	#27008
 8328                        		__call		_sgx_spr_pattern.1
         02:DE87  20 E7 E8   			call	_sgx_spr_pattern.1
 8329                        	
 8330                        		.dbg	line,	"include\routines_LEVELS.c", 700; }
 8331                        	
 8332                        		.dbg	line,	"include\routines_LEVELS.c", 702; else if(list_object_counter[current_object_id] == 33)
 8333                        		__bra		.LL346
         02:DE8A  4C 2E DF   			bra	.LL346
 8334    02:DE8D             	.LL345:
 8335                        		__ldx.umq	__anim_OBJECTS_end - 2  /* current_object_id */
         02:DE8D  AE 21 2C   			ldx	__anim_OBJECTS_end - 2
 8336                        		__ld.uaxq	_list_object_counter
         02:DE90  BD 9E 23   			lda	_list_object_counter, x
 8337                        		__equ_b.uiq	33
         02:DE93  C9 21      			cmp	#33
         02:DE95  F0 01      			beq	!+
         02:DE97  18         			clc
         02:DE98             	!:
 8338                        		__bfalse	.LL347
         02:DE98  90 26      			bcc	.LL347
 8339                        	
 8340                        		.dbg	line,	"include\routines_LEVELS.c", 703; {
 8341                        	
 8342                        		.dbg	line,	"include\routines_LEVELS.c", 704; sgx_spr_pal(18);
 8343                        		__ld.uiq	18
         02:DE9A  A9 12      			lda	#18
 8344                        		__call		_sgx_spr_pal.1
         02:DE9C  20 0E E9   			call	_sgx_spr_pal.1
 8345                        	
 8346                        		.dbg	line,	"include\routines_LEVELS.c", 705; sgx_spr_pattern(*(ptr_REWARD_VRAM_ADR+current_object_id));
 8347                        		__ld.um		__anim_OBJECTS_end - 2  /* current_object_id */
         02:DE9F  AD 21 2C   			lda	__anim_OBJECTS_end - 2
         02:DEA2  C2         			cly
 8348                        		__asl.wr
         02:DEA3  0A         			asl	a
         02:DEA4  42         			say
         02:DEA5  2A         			rol	a
         02:DEA6  42         			say
 8349                        		__add.wm	_ptr_REWARD_VRAM_ADR
         02:DEA7  18         			clc
         02:DEA8  6D 91 26   			adc.l	_ptr_REWARD_VRAM_ADR
         02:DEAB  42         			say
         02:DEAC  6D 92 26   			adc.h	_ptr_REWARD_VRAM_ADR
         02:DEAF  42         			say
 8350                        		__st.wm		__ptr
         02:DEB0  85 88      			sta.l	__ptr
         02:DEB2  84 89      			sty.h	__ptr
 8351                        		__ld.wp		__ptr
         02:DEB4  A0 01      			ldy	#1
         02:DEB6  B1 88      			lda	[__ptr], y
         02:DEB8  A8         			tay
         02:DEB9  B2 88      			lda	[__ptr]
 8352                        		__call		_sgx_spr_pattern.1
         02:DEBB  20 E7 E8   			call	_sgx_spr_pattern.1
 8353                        	
 8354                        		.dbg	line,	"include\routines_LEVELS.c", 706; }
 8355                        	
 8356                        		.dbg	line,	"include\routines_LEVELS.c", 708; else if(list_object_counter[current_object_id] == 34)
 8357                        		__bra		.LL348
         02:DEBE  80 6E      			bra	.LL348
 8358    02:DEC0             	.LL347:
 8359                        		__ldx.umq	__anim_OBJECTS_end - 2  /* current_object_id */
         02:DEC0  AE 21 2C   			ldx	__anim_OBJECTS_end - 2
 8360                        		__ld.uaxq	_list_object_counter
         02:DEC3  BD 9E 23   			lda	_list_object_counter, x
 8361                        		__equ_b.uiq	34
         02:DEC6  C9 22      			cmp	#34
         02:DEC8  F0 01      			beq	!+
         02:DECA  18         			clc
         02:DECB             	!:
 8362                        		__bfalse	.LL349
         02:DECB  90 0E      			bcc	.LL349
 8363                        	
 8364                        		.dbg	line,	"include\routines_LEVELS.c", 709; {
 8365                        	
 8366                        		.dbg	line,	"include\routines_LEVELS.c", 710; sgx_spr_pal(17);
 8367                        		__ld.uiq	17
         02:DECD  A9 11      			lda	#17
 8368                        		__call		_sgx_spr_pal.1
         02:DECF  20 0E E9   			call	_sgx_spr_pal.1
 8369                        	
 8370                        		.dbg	line,	"include\routines_LEVELS.c", 711; sgx_spr_pattern(POT8_VRAM_ADR);
 8371                        		__ld.wi		27072
         02:DED2  A9 C0      			lda.l	#27072
         02:DED4  A0 69      			ldy.h	#27072
 8372                        		__call		_sgx_spr_pattern.1
         02:DED6  20 E7 E8   			call	_sgx_spr_pattern.1
 8373                        	
 8374                        		.dbg	line,	"include\routines_LEVELS.c", 712; }
 8375                        	
 8376                        		.dbg	line,	"include\routines_LEVELS.c", 714; else if(list_object_counter[current_object_id] == 38)
 8377                        		__bra		.LL350
         02:DED9  80 53      			bra	.LL350
 8378    02:DEDB             	.LL349:
 8379                        		__ldx.umq	__anim_OBJECTS_end - 2  /* current_object_id */
         02:DEDB  AE 21 2C   			ldx	__anim_OBJECTS_end - 2
 8380                        		__ld.uaxq	_list_object_counter
         02:DEDE  BD 9E 23   			lda	_list_object_counter, x
 8381                        		__equ_b.uiq	38
         02:DEE1  C9 26      			cmp	#38
         02:DEE3  F0 01      			beq	!+
         02:DEE5  18         			clc
         02:DEE6             	!:
 8382                        		__bfalse	.LL351
         02:DEE6  90 46      			bcc	.LL351
 8383                        	
 8384                        		.dbg	line,	"include\routines_LEVELS.c", 715; {
 8385                        	
 8386                        		.dbg	line,	"include\routines_LEVELS.c", 716; sgx_spr_pal(18);
 8387                        		__ld.uiq	18
         02:DEE8  A9 12      			lda	#18
 8388                        		__call		_sgx_spr_pal.1
         02:DEEA  20 0E E9   			call	_sgx_spr_pal.1
 8389                        	
 8390                        		.dbg	line,	"include\routines_LEVELS.c", 717; sgx_spr_pattern(*(ptr_REWARD_VRAM_ADR+current_object_id));
 8391                        		__ld.um		__anim_OBJECTS_end - 2  /* current_object_id */
         02:DEED  AD 21 2C   			lda	__anim_OBJECTS_end - 2
         02:DEF0  C2         			cly
 8392                        		__asl.wr
         02:DEF1  0A         			asl	a
         02:DEF2  42         			say
         02:DEF3  2A         			rol	a
         02:DEF4  42         			say
 8393                        		__add.wm	_ptr_REWARD_VRAM_ADR
         02:DEF5  18         			clc
         02:DEF6  6D 91 26   			adc.l	_ptr_REWARD_VRAM_ADR
         02:DEF9  42         			say
         02:DEFA  6D 92 26   			adc.h	_ptr_REWARD_VRAM_ADR
         02:DEFD  42         			say
 8394                        		__st.wm		__ptr
         02:DEFE  85 88      			sta.l	__ptr
         02:DF00  84 89      			sty.h	__ptr
 8395                        		__ld.wp		__ptr
         02:DF02  A0 01      			ldy	#1
         02:DF04  B1 88      			lda	[__ptr], y
         02:DF06  A8         			tay
         02:DF07  B2 88      			lda	[__ptr]
 8396                        		__call		_sgx_spr_pattern.1
         02:DF09  20 E7 E8   			call	_sgx_spr_pattern.1
 8397                        	
 8398                        		.dbg	line,	"include\routines_LEVELS.c", 718; list_object_type[current_object_id] = *(ptr_REWARD_TYPE+current_object_id);
 8399                        		__ld.wm		_ptr_REWARD_TYPE
         02:DF0C  AD 8F 26   			lda.l	_ptr_REWARD_TYPE
         02:DF0F  AC 90 26   			ldy.h	_ptr_REWARD_TYPE
 8400                        		__add.um	__anim_OBJECTS_end - 2  /* current_object_id */
         02:DF12  18         			clc
         02:DF13  6D 21 2C   			adc	__anim_OBJECTS_end - 2
         02:DF16  90 01      			bcc	!+
         02:DF18  C8         			iny
         02:DF19             	!:
 8401                        		__st.wm		__ptr
         02:DF19  85 88      			sta.l	__ptr
         02:DF1B  84 89      			sty.h	__ptr
 8402                        		__ld.up		__ptr
         02:DF1D  B2 88      			lda	[__ptr]
         02:DF1F  C2         			cly
 8403                        		__ldx.umq	__anim_OBJECTS_end - 2  /* current_object_id */
         02:DF20  AE 21 2C   			ldx	__anim_OBJECTS_end - 2
 8404                        		__st.uaxq	_list_object_type
         02:DF23  9D 3A 23   			sta	_list_object_type, x
 8405                        	
 8406                        		.dbg	line,	"include\routines_LEVELS.c", 719; list_object_state[current_object_id] = STATE_DROPPED;
 8407                        		__ldx.umq	__anim_OBJECTS_end - 2  /* current_object_id */
         02:DF26  AE 21 2C   			ldx	__anim_OBJECTS_end - 2
 8408                        		__st.uaxiq	3, _list_object_state
         02:DF29  A9 03      			lda.l	#3
         02:DF2B  9D 53 23   			sta	_list_object_state, x
 8409                        	
 8410                        		.dbg	line,	"include\routines_LEVELS.c", 720; }
 8411                        	
 8412                        		.dbg	line,	"include\routines_LEVELS.c", 722; list_object_counter[current_object_id] += 1;
 8413    02:DF2E             	.LL351:
 8414    02:DF2E             	.LL350:
 8415    02:DF2E             	.LL348:
 8416    02:DF2E             	.LL346:
 8417    02:DF2E             	.LL344:
 8418    02:DF2E             	.LL342:
 8419    02:DF2E             	.LL340:
 8420    02:DF2E             	.LL338:
 8421    02:DF2E             	.LL336:
 8422    02:DF2E             	.LL334:
 8423    02:DF2E             	.LL332:
 8424    02:DF2E             	.LL330:
 8425    02:DF2E             	.LL328:
 8426    02:DF2E             	.LL326:
 8427    02:DF2E             	.LL324:
 8428    02:DF2E             	.LL322:
 8429                        		__ldx.umq	__anim_OBJECTS_end - 2  /* current_object_id */
         02:DF2E  AE 21 2C   			ldx	__anim_OBJECTS_end - 2
 8430                        		__add_st.uaxiq	1, _list_object_counter
         02:DF31  FE 9E 23   			inc	_list_object_counter, x
 8431                        	
 8432                        		.dbg	line,	"include\routines_LEVELS.c", 723; }
 8433                        	
 8434                        		.dbg	line,	"include\routines_LEVELS.c", 724; 
 8435                        	
 8436                        		.dbg	line,	"include\routines_LEVELS.c", 726; else if(list_object_energy[current_object_id] == 1)
 8437                        		__bra		.LL352
         02:DF34  4C 4E DC   			bra	.LL352
 8438    02:DF37             	.LL320:
 8439                        		__ldx.umq	__anim_OBJECTS_end - 2  /* current_object_id */
         02:DF37  AE 21 2C   			ldx	__anim_OBJECTS_end - 2
 8440                        		__ld.uaxq	_list_object_energy
         02:DF3A  BD 6C 23   			lda	_list_object_energy, x
 8441                        		__equ_b.uiq	1
         02:DF3D  C9 01      			cmp	#1
         02:DF3F  F0 01      			beq	!+
         02:DF41  18         			clc
         02:DF42             	!:
 8442                        		__bfalse	.LL353
         02:DF42  B0 03 4C 4E			bcc	.LL353
         02:DF46  DC          
 8443                        	
 8444                        		.dbg	line,	"include\routines_LEVELS.c", 727; {
 8445                        	
 8446                        		.dbg	line,	"include\routines_LEVELS.c", 728; if(list_object_counter[current_object_id] == 0)
 8447                        		__ldx.umq	__anim_OBJECTS_end - 2  /* current_object_id */
         02:DF47  AE 21 2C   			ldx	__anim_OBJECTS_end - 2
 8448                        		__not.uax	_list_object_counter
         02:DF4A  BD 9E 23   			lda	_list_object_counter, x
         02:DF4D  18         			clc
         02:DF4E  D0 01      			bne	!+
         02:DF50  38         			sec
         02:DF51             	!:
 8449                        		__bfalse	.LL354
         02:DF51  90 1A      			bcc	.LL354
 8450                        	
 8451                        		.dbg	line,	"include\routines_LEVELS.c", 729; {
 8452                        	
 8453                        		.dbg	line,	"include\routines_LEVELS.c", 730; object_pos_y = sgx_spr_get_y();
 8454                        		__call		_sgx_spr_get_y
         02:DF53  20 3C E9   			call	_sgx_spr_get_y
 8455                        		__st.wmq	__anim_OBJECTS_end - 4  /* object_pos_y */
         02:DF56  8D 1F 2C   			sta.l	__anim_OBJECTS_end - 4
         02:DF59  8C 20 2C   			sty.h	__anim_OBJECTS_end - 4
 8456                        	
 8457                        		.dbg	line,	"include\routines_LEVELS.c", 731; sgx_spr_y(object_pos_y - 1);
 8458                        		__ld.wm		__anim_OBJECTS_end - 4  /* object_pos_y */
         02:DF5C  AD 1F 2C   			lda.l	__anim_OBJECTS_end - 4
         02:DF5F  AC 20 2C   			ldy.h	__anim_OBJECTS_end - 4
 8459                        		__sub.wi	1
         02:DF62  38         			sec
         02:DF63  E9 01      			sbc.l	#1
         02:DF65  B0 01      			bcs	!+
         02:DF67  88         			dey
         02:DF68             	!:
 8460                        		__call		_sgx_spr_y.1
         02:DF68  20 DA E8   			call	_sgx_spr_y.1
 8461                        	
 8462                        		.dbg	line,	"include\routines_LEVELS.c", 732; }
 8463                        	
 8464                        		.dbg	line,	"include\routines_LEVELS.c", 734; else if(list_object_counter[current_object_id] == 1)
 8465                        		__bra		.LL355
         02:DF6B  80 63      			bra	.LL355
 8466    02:DF6D             	.LL354:
 8467                        		__ldx.umq	__anim_OBJECTS_end - 2  /* current_object_id */
         02:DF6D  AE 21 2C   			ldx	__anim_OBJECTS_end - 2
 8468                        		__ld.uaxq	_list_object_counter
         02:DF70  BD 9E 23   			lda	_list_object_counter, x
 8469                        		__equ_b.uiq	1
         02:DF73  C9 01      			cmp	#1
         02:DF75  F0 01      			beq	!+
         02:DF77  18         			clc
         02:DF78             	!:
 8470                        		__bfalse	.LL356
         02:DF78  90 1A      			bcc	.LL356
 8471                        	
 8472                        		.dbg	line,	"include\routines_LEVELS.c", 735; {
 8473                        	
 8474                        		.dbg	line,	"include\routines_LEVELS.c", 736; object_pos_y = sgx_spr_get_y();
 8475                        		__call		_sgx_spr_get_y
         02:DF7A  20 3C E9   			call	_sgx_spr_get_y
 8476                        		__st.wmq	__anim_OBJECTS_end - 4  /* object_pos_y */
         02:DF7D  8D 1F 2C   			sta.l	__anim_OBJECTS_end - 4
         02:DF80  8C 20 2C   			sty.h	__anim_OBJECTS_end - 4
 8477                        	
 8478                        		.dbg	line,	"include\routines_LEVELS.c", 737; sgx_spr_y(object_pos_y - 2);
 8479                        		__ld.wm		__anim_OBJECTS_end - 4  /* object_pos_y */
         02:DF83  AD 1F 2C   			lda.l	__anim_OBJECTS_end - 4
         02:DF86  AC 20 2C   			ldy.h	__anim_OBJECTS_end - 4
 8480                        		__sub.wi	2
         02:DF89  38         			sec
         02:DF8A  E9 02      			sbc.l	#2
         02:DF8C  B0 01      			bcs	!+
         02:DF8E  88         			dey
         02:DF8F             	!:
 8481                        		__call		_sgx_spr_y.1
         02:DF8F  20 DA E8   			call	_sgx_spr_y.1
 8482                        	
 8483                        		.dbg	line,	"include\routines_LEVELS.c", 738; }
 8484                        	
 8485                        		.dbg	line,	"include\routines_LEVELS.c", 740; else if(list_object_counter[current_object_id] == 2)
 8486                        		__bra		.LL357
         02:DF92  80 3C      			bra	.LL357
 8487    02:DF94             	.LL356:
 8488                        		__ldx.umq	__anim_OBJECTS_end - 2  /* current_object_id */
         02:DF94  AE 21 2C   			ldx	__anim_OBJECTS_end - 2
 8489                        		__ld.uaxq	_list_object_counter
         02:DF97  BD 9E 23   			lda	_list_object_counter, x
 8490                        		__equ_b.uiq	2
         02:DF9A  C9 02      			cmp	#2
         02:DF9C  F0 01      			beq	!+
         02:DF9E  18         			clc
         02:DF9F             	!:
 8491                        		__bfalse	.LL358
         02:DF9F  90 1A      			bcc	.LL358
 8492                        	
 8493                        		.dbg	line,	"include\routines_LEVELS.c", 741; {
 8494                        	
 8495                        		.dbg	line,	"include\routines_LEVELS.c", 742; object_pos_y = sgx_spr_get_y();
 8496                        		__call		_sgx_spr_get_y
         02:DFA1  20 3C E9   			call	_sgx_spr_get_y
 8497                        		__st.wmq	__anim_OBJECTS_end - 4  /* object_pos_y */
         02:DFA4  8D 1F 2C   			sta.l	__anim_OBJECTS_end - 4
         02:DFA7  8C 20 2C   			sty.h	__anim_OBJECTS_end - 4
 8498                        	
 8499                        		.dbg	line,	"include\routines_LEVELS.c", 743; sgx_spr_y(object_pos_y - 1);
 8500                        		__ld.wm		__anim_OBJECTS_end - 4  /* object_pos_y */
         02:DFAA  AD 1F 2C   			lda.l	__anim_OBJECTS_end - 4
         02:DFAD  AC 20 2C   			ldy.h	__anim_OBJECTS_end - 4
 8501                        		__sub.wi	1
         02:DFB0  38         			sec
         02:DFB1  E9 01      			sbc.l	#1
         02:DFB3  B0 01      			bcs	!+
         02:DFB5  88         			dey
         02:DFB6             	!:
 8502                        		__call		_sgx_spr_y.1
         02:DFB6  20 DA E8   			call	_sgx_spr_y.1
 8503                        	
 8504                        		.dbg	line,	"include\routines_LEVELS.c", 744; }
 8505                        	
 8506                        		.dbg	line,	"include\routines_LEVELS.c", 746; else if(list_object_counter[current_object_id] == 4)
 8507                        		__bra		.LL359
         02:DFB9  80 15      			bra	.LL359
 8508    02:DFBB             	.LL358:
 8509                        		__ldx.umq	__anim_OBJECTS_end - 2  /* current_object_id */
         02:DFBB  AE 21 2C   			ldx	__anim_OBJECTS_end - 2
 8510                        		__ld.uaxq	_list_object_counter
         02:DFBE  BD 9E 23   			lda	_list_object_counter, x
 8511                        		__equ_b.uiq	4
         02:DFC1  C9 04      			cmp	#4
         02:DFC3  F0 01      			beq	!+
         02:DFC5  18         			clc
         02:DFC6             	!:
 8512                        		__bfalse	.LL360
         02:DFC6  90 08      			bcc	.LL360
 8513                        	
 8514                        		.dbg	line,	"include\routines_LEVELS.c", 747; {
 8515                        	
 8516                        		.dbg	line,	"include\routines_LEVELS.c", 748; list_object_state[current_object_id] = STATE_ACTIVE;
 8517                        		__ldx.umq	__anim_OBJECTS_end - 2  /* current_object_id */
         02:DFC8  AE 21 2C   			ldx	__anim_OBJECTS_end - 2
 8518                        		__st.uaxiq	1, _list_object_state
         02:DFCB  A9 01      			lda.l	#1
         02:DFCD  9D 53 23   			sta	_list_object_state, x
 8519                        	
 8520                        		.dbg	line,	"include\routines_LEVELS.c", 749; }
 8521                        	
 8522                        		.dbg	line,	"include\routines_LEVELS.c", 751; list_object_counter[current_object_id] += 1;
 8523    02:DFD0             	.LL360:
 8524    02:DFD0             	.LL359:
 8525    02:DFD0             	.LL357:
 8526    02:DFD0             	.LL355:
 8527                        		__ldx.umq	__anim_OBJECTS_end - 2  /* current_object_id */
         02:DFD0  AE 21 2C   			ldx	__anim_OBJECTS_end - 2
 8528                        		__add_st.uaxiq	1, _list_object_counter
         02:DFD3  FE 9E 23   			inc	_list_object_counter, x
 8529                        	
 8530                        		.dbg	line,	"include\routines_LEVELS.c", 752; }
 8531                        	
 8532                        		.dbg	line,	"include\routines_LEVELS.c", 753; }
 8533    02:DFD6             	.LL353	.alias		.LL316
 8534    02:DFD6             	.LL352	.alias		.LL316
 8535                        	
 8536                        		.dbg	line,	"include\routines_LEVELS.c", 754; }
 8537    02:DFD6             	.LL319	.alias		.LL316
 8538                        		__bra		.LL316
         02:DFD6  4C 4E DC   			bra	.LL316
 8539    02:DFD9             	.LL318:
 8540                        	
 8541                        		.dbg	line,	"include\routines_LEVELS.c", 755; }
 8542                        	
 8543                        		.dbg	line,	"include\routines_LEVELS.c", 756; }
 8544    02:DFD9             	.LL314:
 8545    02:DFD9             	.LL313:
 8546                        		__return	0
         02:DFD9  4C EF FF   			jmp	leave_proc
 8547                        		.dbg	clear
 8548                        		.endp
 8549               2303     		.bss
 8550    F8:2303             	__anim_OBJECTS_end	.alias	leaf_stack
 8551               E31D     		.code
 8552                        		.pceas
 8553                        	
 8554                        		.dbg	line,	"include\routines_LEVELS.c", 764; void joypad_BUTTONS()
 8555                        		.dbg	line,	"include\routines_LEVELS.c", 765; {
 8556                        	;***********************
 8557                        	;***********************
 8558                        	
 8559                        		.hucc
 8560    1E:D650             		.proc		_joypad_BUTTONS
 8561                        		__enter		_joypad_BUTTONS
 8562                        	
 8563                        		.dbg	line,	"include\routines_LEVELS.c", 766; // JUMP //
 8564                        	
 8565                        		.dbg	line,	"include\routines_LEVELS.c", 767; if(joytrg(JOYPAD_1) == JOY_I)
 8566                        		__ld.uiq	0
         1E:D650  62         			cla
 8567                        		 _joytrg.1
         1E:D651  AA         			tax
         1E:D652  BD 2D 22   			lda	joytrg, x
         1E:D655  BC DD 22   			ldy	joy6trg, x
 8568                        		__equ_w.wi	1
         1E:D658  C9 01      			cmp.l	#1
         1E:D65A  D0 04      			bne	!false+
         1E:D65C  C0 00      			cpy.h	#1
         1E:D65E  F0 01      			beq	!+
         1E:D660  18         	!false:		clc
         1E:D661             	!:
 8569                        		__bfalse	.LL362
         1E:D661  B0 03 4C 13			bcc	.LL362
         1E:D665  D8          
 8570                        	
 8571                        		.dbg	line,	"include\routines_LEVELS.c", 768; {
 8572                        	
 8573                        		.dbg	line,	"include\routines_LEVELS.c", 769; if(player_state == STATE_IDLE)
 8574                        		__not.um	_player_state
         1E:D666  AD 19 23   			lda	_player_state
         1E:D669  18         			clc
         1E:D66A  D0 01      			bne	!+
         1E:D66C  38         			sec
         1E:D66D             	!:
 8575                        		__bfalse	.LL363
         1E:D66D  90 3E      			bcc	.LL363
 8576                        	
 8577                        		.dbg	line,	"include\routines_LEVELS.c", 770; {
 8578                        	
 8579                        		.dbg	line,	"include\routines_LEVELS.c", 771; hit_wall = FALSE;
 8580                        		__st.umiq	0, _hit_wall
         1E:D66F  9C 25 23   			stz	_hit_wall
 8581                        	
 8582                        		.dbg	line,	"include\routines_LEVELS.c", 772; 
 8583                        	
 8584                        		.dbg	line,	"include\routines_LEVELS.c", 773; player_counter_anim = 0;
 8585                        		__st.umiq	0, _player_counter_anim
         1E:D672  9C 1C 23   			stz	_player_counter_anim
 8586                        	
 8587                        		.dbg	line,	"include\routines_LEVELS.c", 775; player_state = STATE_JUMP;
 8588                        		__st.umiq	4, _player_state
         1E:D675  A9 04      			lda.l	#4
         1E:D677  8D 19 23   			sta	_player_state
 8589                        	
 8590                        		.dbg	line,	"include\routines_LEVELS.c", 777; spr_set(weapon_id);
 8591                        		__ld.umq	_weapon_id
         1E:D67A  AD 27 23   			lda	_weapon_id
 8592                        		__call		_spr_set.1
         1E:D67D  20 F1 E7   			call	_spr_set.1
 8593                        	
 8594                        		.dbg	line,	"include\routines_LEVELS.c", 778; 
 8595                        	
 8596                        		.dbg	line,	"include\routines_LEVELS.c", 779; if(player_axis == AXIS_RIGHT)
 8597                        		__not.um	_player_axis
         1E:D680  AD 1A 23   			lda	_player_axis
         1E:D683  18         			clc
         1E:D684  D0 01      			bne	!+
         1E:D686  38         			sec
         1E:D687             	!:
 8598                        		__bfalse	.LL364
         1E:D687  90 12      			bcc	.LL364
 8599                        	
 8600                        		.dbg	line,	"include\routines_LEVELS.c", 780; {
 8601                        	
 8602                        		.dbg	line,	"include\routines_LEVELS.c", 781; spr_x(player_pos_x-5);
 8603                        		__ld.wm		_player_pos_x
         1E:D689  AD F6 24   			lda.l	_player_pos_x
         1E:D68C  AC F7 24   			ldy.h	_player_pos_x
 8604                        		__sub.wi	5
         1E:D68F  38         			sec
         1E:D690  E9 05      			sbc.l	#5
         1E:D692  B0 01      			bcs	!+
         1E:D694  88         			dey
         1E:D695             	!:
 8605                        		__call		_spr_x.1
         1E:D695  20 1E E8   			call	_spr_x.1
 8606                        	
 8607                        		.dbg	line,	"include\routines_LEVELS.c", 782; }
 8608                        	
 8609                        		.dbg	line,	"include\routines_LEVELS.c", 784; else
 8610                        		__bra		.LL365
         1E:D698  4C C4 D8   			bra	.LL365
 8611    1E:D69B             	.LL364:
 8612                        	
 8613                        		.dbg	line,	"include\routines_LEVELS.c", 785; {
 8614                        	
 8615                        		.dbg	line,	"include\routines_LEVELS.c", 786; spr_x(player_pos_x+21);
 8616                        		__ld.wm		_player_pos_x
         1E:D69B  AD F6 24   			lda.l	_player_pos_x
         1E:D69E  AC F7 24   			ldy.h	_player_pos_x
 8617                        		__add.wi	21
         1E:D6A1  18         			clc
         1E:D6A2  69 15      			adc.l	#21
         1E:D6A4  90 01      			bcc	!+
         1E:D6A6  C8         			iny
         1E:D6A7             	!:
 8618                        		__call		_spr_x.1
         1E:D6A7  20 1E E8   			call	_spr_x.1
 8619                        	
 8620                        		.dbg	line,	"include\routines_LEVELS.c", 787; }
 8621    1E:D6AA             	.LL365	.alias		.LL366
 8622                        	
 8623                        		.dbg	line,	"include\routines_LEVELS.c", 788; }
 8624                        	
 8625                        		.dbg	line,	"include\routines_LEVELS.c", 791; else if(player_state == STATE_WALK)
 8626                        		__bra		.LL366
         1E:D6AA  4C C4 D8   			bra	.LL366
 8627    1E:D6AD             	.LL363:
 8628                        		__ld.umq	_player_state
         1E:D6AD  AD 19 23   			lda	_player_state
 8629                        		__equ_b.uiq	1
         1E:D6B0  C9 01      			cmp	#1
         1E:D6B2  F0 01      			beq	!+
         1E:D6B4  18         			clc
         1E:D6B5             	!:
 8630                        		__bfalse	.LL367
         1E:D6B5  90 46      			bcc	.LL367
 8631                        	
 8632                        		.dbg	line,	"include\routines_LEVELS.c", 792; {
 8633                        	
 8634                        		.dbg	line,	"include\routines_LEVELS.c", 793; hit_wall = FALSE;
 8635                        		__st.umiq	0, _hit_wall
         1E:D6B7  9C 25 23   			stz	_hit_wall
 8636                        	
 8637                        		.dbg	line,	"include\routines_LEVELS.c", 794; 
 8638                        	
 8639                        		.dbg	line,	"include\routines_LEVELS.c", 795; player_counter_anim = 0;
 8640                        		__st.umiq	0, _player_counter_anim
         1E:D6BA  9C 1C 23   			stz	_player_counter_anim
 8641                        	
 8642                        		.dbg	line,	"include\routines_LEVELS.c", 797; player_state = STATE_JUMP_RIGHT + player_axis;
 8643                        		__ld.wi		5
         1E:D6BD  A9 05      			lda.l	#5
         1E:D6BF  C2         			cly
 8644                        		__add.um	_player_axis
         1E:D6C0  18         			clc
         1E:D6C1  6D 1A 23   			adc	_player_axis
         1E:D6C4  90 01      			bcc	!+
         1E:D6C6  C8         			iny
         1E:D6C7             	!:
 8645                        		__st.umq	_player_state
         1E:D6C7  8D 19 23   			sta	_player_state
 8646                        	
 8647                        		.dbg	line,	"include\routines_LEVELS.c", 799; spr_set(weapon_id);
 8648                        		__ld.umq	_weapon_id
         1E:D6CA  AD 27 23   			lda	_weapon_id
 8649                        		__call		_spr_set.1
         1E:D6CD  20 F1 E7   			call	_spr_set.1
 8650                        	
 8651                        		.dbg	line,	"include\routines_LEVELS.c", 800; 
 8652                        	
 8653                        		.dbg	line,	"include\routines_LEVELS.c", 801; if(player_axis == AXIS_RIGHT)
 8654                        		__not.um	_player_axis
         1E:D6D0  AD 1A 23   			lda	_player_axis
         1E:D6D3  18         			clc
         1E:D6D4  D0 01      			bne	!+
         1E:D6D6  38         			sec
         1E:D6D7             	!:
 8655                        		__bfalse	.LL368
         1E:D6D7  90 12      			bcc	.LL368
 8656                        	
 8657                        		.dbg	line,	"include\routines_LEVELS.c", 802; {
 8658                        	
 8659                        		.dbg	line,	"include\routines_LEVELS.c", 803; spr_x(player_pos_x-5);
 8660                        		__ld.wm		_player_pos_x
         1E:D6D9  AD F6 24   			lda.l	_player_pos_x
         1E:D6DC  AC F7 24   			ldy.h	_player_pos_x
 8661                        		__sub.wi	5
         1E:D6DF  38         			sec
         1E:D6E0  E9 05      			sbc.l	#5
         1E:D6E2  B0 01      			bcs	!+
         1E:D6E4  88         			dey
         1E:D6E5             	!:
 8662                        		__call		_spr_x.1
         1E:D6E5  20 1E E8   			call	_spr_x.1
 8663                        	
 8664                        		.dbg	line,	"include\routines_LEVELS.c", 804; }
 8665                        	
 8666                        		.dbg	line,	"include\routines_LEVELS.c", 806; else
 8667                        		__bra		.LL369
         1E:D6E8  4C C4 D8   			bra	.LL369
 8668    1E:D6EB             	.LL368:
 8669                        	
 8670                        		.dbg	line,	"include\routines_LEVELS.c", 807; {
 8671                        	
 8672                        		.dbg	line,	"include\routines_LEVELS.c", 808; spr_x(player_pos_x+21);
 8673                        		__ld.wm		_player_pos_x
         1E:D6EB  AD F6 24   			lda.l	_player_pos_x
         1E:D6EE  AC F7 24   			ldy.h	_player_pos_x
 8674                        		__add.wi	21
         1E:D6F1  18         			clc
         1E:D6F2  69 15      			adc.l	#21
         1E:D6F4  90 01      			bcc	!+
         1E:D6F6  C8         			iny
         1E:D6F7             	!:
 8675                        		__call		_spr_x.1
         1E:D6F7  20 1E E8   			call	_spr_x.1
 8676                        	
 8677                        		.dbg	line,	"include\routines_LEVELS.c", 809; }
 8678    1E:D6FA             	.LL369	.alias		.LL370
 8679                        	
 8680                        		.dbg	line,	"include\routines_LEVELS.c", 810; }
 8681                        	
 8682                        		.dbg	line,	"include\routines_LEVELS.c", 813; else if(player_state == STATE_HANG || player_state == STATE_CLIMB_UP || player_state == STATE_CLIMB_DOWN)
 8683                        		__bra		.LL370
         1E:D6FA  4C C4 D8   			bra	.LL370
 8684    1E:D6FD             	.LL367:
 8685                        		__ld.umq	_player_state
         1E:D6FD  AD 19 23   			lda	_player_state
 8686                        		__equ_b.uiq	10
         1E:D700  C9 0A      			cmp	#10
         1E:D702  F0 01      			beq	!+
         1E:D704  18         			clc
         1E:D705             	!:
 8687                        		__btrue		.LL372
         1E:D705  B0 08      			bcs	.LL372
 8688                        		__ld.umq	_player_state
         1E:D707  AD 19 23   			lda	_player_state
 8689                        		__equ_b.uiq	11
         1E:D70A  C9 0B      			cmp	#11
         1E:D70C  F0 01      			beq	!+
         1E:D70E  18         			clc
         1E:D70F             	!:
 8690    1E:D70F             	.LL372:
 8691                        		__btrue		.LL373
         1E:D70F  B0 08      			bcs	.LL373
 8692                        		__ld.umq	_player_state
         1E:D711  AD 19 23   			lda	_player_state
 8693                        		__equ_b.uiq	12
         1E:D714  C9 0C      			cmp	#12
         1E:D716  F0 01      			beq	!+
         1E:D718  18         			clc
         1E:D719             	!:
 8694    1E:D719             	.LL373:
 8695                        		__bfalse	.LL371
         1E:D719  B0 03 4C C4			bcc	.LL371
         1E:D71D  D8          
 8696                        	
 8697                        		.dbg	line,	"include\routines_LEVELS.c", 814; {
 8698                        	
 8699                        		.dbg	line,	"include\routines_LEVELS.c", 815; if(player_attack == FALSE)
 8700                        		__not.um	_player_attack
         1E:D71E  AD 21 23   			lda	_player_attack
         1E:D721  18         			clc
         1E:D722  D0 01      			bne	!+
         1E:D724  38         			sec
         1E:D725             	!:
 8701                        		__bfalse	.LL374
         1E:D725  B0 03 4C C4			bcc	.LL374
         1E:D729  D8          
 8702                        	
 8703                        		.dbg	line,	"include\routines_LEVELS.c", 816; {
 8704                        	
 8705                        		.dbg	line,	"include\routines_LEVELS.c", 817; if(joy(JOYPAD_1) & JOY_RIGHT)
 8706                        		__ld.uiq	0
         1E:D72A  62         			cla
 8707                        		 _joy.1
         1E:D72B  AA         			tax
         1E:D72C  BD 28 22   			lda	joynow, x
         1E:D72F  BC D3 22   			ldy	joy6now, x
 8708                        		__tand.wi	32
         1E:D732  29 20      			and	#32
         1E:D734  C9 01      	!:		cmp	#1
 8709                        		__bfalse	.LL375
         1E:D736  90 23      			bcc	.LL375
 8710                        	
 8711                        		.dbg	line,	"include\routines_LEVELS.c", 818; {
 8712                        	
 8713                        		.dbg	line,	"include\routines_LEVELS.c", 819; hit_wall = FALSE;
 8714                        		__st.umiq	0, _hit_wall
         1E:D738  9C 25 23   			stz	_hit_wall
 8715                        	
 8716                        		.dbg	line,	"include\routines_LEVELS.c", 820; 
 8717                        	
 8718                        		.dbg	line,	"include\routines_LEVELS.c", 821; player_counter_anim = 0;
 8719                        		__st.umiq	0, _player_counter_anim
         1E:D73B  9C 1C 23   			stz	_player_counter_anim
 8720                        	
 8721                        		.dbg	line,	"include\routines_LEVELS.c", 823; player_state = STATE_JUMP_RIGHT;
 8722                        		__st.umiq	5, _player_state
         1E:D73E  A9 05      			lda.l	#5
         1E:D740  8D 19 23   			sta	_player_state
 8723                        	
 8724                        		.dbg	line,	"include\routines_LEVELS.c", 825; spr_set(weapon_id);
 8725                        		__ld.umq	_weapon_id
         1E:D743  AD 27 23   			lda	_weapon_id
 8726                        		__call		_spr_set.1
         1E:D746  20 F1 E7   			call	_spr_set.1
 8727                        	
 8728                        		.dbg	line,	"include\routines_LEVELS.c", 826; spr_x(player_pos_x-5);
 8729                        		__ld.wm		_player_pos_x
         1E:D749  AD F6 24   			lda.l	_player_pos_x
         1E:D74C  AC F7 24   			ldy.h	_player_pos_x
 8730                        		__sub.wi	5
         1E:D74F  38         			sec
         1E:D750  E9 05      			sbc.l	#5
         1E:D752  B0 01      			bcs	!+
         1E:D754  88         			dey
         1E:D755             	!:
 8731                        		__call		_spr_x.1
         1E:D755  20 1E E8   			call	_spr_x.1
 8732                        	
 8733                        		.dbg	line,	"include\routines_LEVELS.c", 827; }
 8734                        	
 8735                        		.dbg	line,	"include\routines_LEVELS.c", 829; else if(joy(JOYPAD_1) & JOY_LEFT)
 8736                        		__bra		.LL376
         1E:D758  4C C4 D8   			bra	.LL376
 8737    1E:D75B             	.LL375:
 8738                        		__ld.uiq	0
         1E:D75B  62         			cla
 8739                        		 _joy.1
         1E:D75C  AA         			tax
         1E:D75D  BD 28 22   			lda	joynow, x
         1E:D760  BC D3 22   			ldy	joy6now, x
 8740                        		__tand.wi	128
         1E:D763  29 80      			and	#128
         1E:D765  C9 01      	!:		cmp	#1
 8741                        		__bfalse	.LL377
         1E:D767  90 23      			bcc	.LL377
 8742                        	
 8743                        		.dbg	line,	"include\routines_LEVELS.c", 830; {
 8744                        	
 8745                        		.dbg	line,	"include\routines_LEVELS.c", 831; hit_wall = FALSE;
 8746                        		__st.umiq	0, _hit_wall
         1E:D769  9C 25 23   			stz	_hit_wall
 8747                        	
 8748                        		.dbg	line,	"include\routines_LEVELS.c", 832; 
 8749                        	
 8750                        		.dbg	line,	"include\routines_LEVELS.c", 833; player_counter_anim = 0;
 8751                        		__st.umiq	0, _player_counter_anim
         1E:D76C  9C 1C 23   			stz	_player_counter_anim
 8752                        	
 8753                        		.dbg	line,	"include\routines_LEVELS.c", 835; player_state = STATE_JUMP_LEFT;
 8754                        		__st.umiq	6, _player_state
         1E:D76F  A9 06      			lda.l	#6
         1E:D771  8D 19 23   			sta	_player_state
 8755                        	
 8756                        		.dbg	line,	"include\routines_LEVELS.c", 837; spr_set(weapon_id);
 8757                        		__ld.umq	_weapon_id
         1E:D774  AD 27 23   			lda	_weapon_id
 8758                        		__call		_spr_set.1
         1E:D777  20 F1 E7   			call	_spr_set.1
 8759                        	
 8760                        		.dbg	line,	"include\routines_LEVELS.c", 838; spr_x(player_pos_x+21);
 8761                        		__ld.wm		_player_pos_x
         1E:D77A  AD F6 24   			lda.l	_player_pos_x
         1E:D77D  AC F7 24   			ldy.h	_player_pos_x
 8762                        		__add.wi	21
         1E:D780  18         			clc
         1E:D781  69 15      			adc.l	#21
         1E:D783  90 01      			bcc	!+
         1E:D785  C8         			iny
         1E:D786             	!:
 8763                        		__call		_spr_x.1
         1E:D786  20 1E E8   			call	_spr_x.1
 8764                        	
 8765                        		.dbg	line,	"include\routines_LEVELS.c", 839; }
 8766                        	
 8767                        		.dbg	line,	"include\routines_LEVELS.c", 841; else if(joy(JOYPAD_1) & JOY_UP)
 8768                        		__bra		.LL378
         1E:D789  4C C4 D8   			bra	.LL378
 8769    1E:D78C             	.LL377:
 8770                        		__ld.uiq	0
         1E:D78C  62         			cla
 8771                        		 _joy.1
         1E:D78D  AA         			tax
         1E:D78E  BD 28 22   			lda	joynow, x
         1E:D791  BC D3 22   			ldy	joy6now, x
 8772                        		__tand.wi	16
         1E:D794  29 10      			and	#16
         1E:D796  C9 01      	!:		cmp	#1
 8773                        		__bfalse	.LL379
         1E:D798  B0 03 4C C4			bcc	.LL379
         1E:D79C  D8          
 8774                        	
 8775                        		.dbg	line,	"include\routines_LEVELS.c", 842; {
 8776                        	
 8777                        		.dbg	line,	"include\routines_LEVELS.c", 843; hit_wall = FALSE;
 8778                        		__st.umiq	0, _hit_wall
         1E:D79D  9C 25 23   			stz	_hit_wall
 8779                        	
 8780                        		.dbg	line,	"include\routines_LEVELS.c", 844; 
 8781                        	
 8782                        		.dbg	line,	"include\routines_LEVELS.c", 845; player_counter_anim = 0;
 8783                        		__st.umiq	0, _player_counter_anim
         1E:D7A0  9C 1C 23   			stz	_player_counter_anim
 8784                        	
 8785                        		.dbg	line,	"include\routines_LEVELS.c", 847; collision_PLAYER_BG( 15 , 8 );
 8786                        		__ld.wi		15
         1E:D7A3  A9 0F      			lda.l	#15
         1E:D7A5  C2         			cly
 8787                        		__pusharg.wr
         1E:D7A6  A6 8D      			ldx	<__sp
         1E:D7A8  CA         			dex
         1E:D7A9  CA         			dex
         1E:D7AA  95 08      			sta.l	<__stack, x
         1E:D7AC  94 09      			sty.h	<__stack, x
         1E:D7AE  86 8D      			stx	<__sp
 8788                        		__ld.wi		8
         1E:D7B0  A9 08      			lda.l	#8
         1E:D7B2  C2         			cly
 8789                        		__pusharg.wr
         1E:D7B3  A6 8D      			ldx	<__sp
         1E:D7B5  CA         			dex
         1E:D7B6  CA         			dex
         1E:D7B7  95 08      			sta.l	<__stack, x
         1E:D7B9  94 09      			sty.h	<__stack, x
         1E:D7BB  86 8D      			stx	<__sp
 8790                        		__call		_collision_PLAYER_BG
         1E:D7BD  20 31 FF   			call	_collision_PLAYER_BG
 8791                        	
 8792                        		.dbg	line,	"include\routines_LEVELS.c", 849; if(map_blk_flag == TILE_EMPTY)
 8793                        		__not.um	_map_blk_flag
         1E:D7C0  AD FA 2B   			lda	_map_blk_flag
         1E:D7C3  18         			clc
         1E:D7C4  D0 01      			bne	!+
         1E:D7C6  38         			sec
         1E:D7C7             	!:
 8794                        		__bfalse	.LL380
         1E:D7C7  B0 03 4C C4			bcc	.LL380
         1E:D7CB  D8          
 8795                        	
 8796                        		.dbg	line,	"include\routines_LEVELS.c", 850; {
 8797                        	
 8798                        		.dbg	line,	"include\routines_LEVELS.c", 851; player_state = STATE_JUMP_LADDER;
 8799                        		__st.umiq	13, _player_state
         1E:D7CC  A9 0D      			lda.l	#13
         1E:D7CE  8D 19 23   			sta	_player_state
 8800                        	
 8801                        		.dbg	line,	"include\routines_LEVELS.c", 853; spr_set(weapon_id);
 8802                        		__ld.umq	_weapon_id
         1E:D7D1  AD 27 23   			lda	_weapon_id
 8803                        		__call		_spr_set.1
         1E:D7D4  20 F1 E7   			call	_spr_set.1
 8804                        	
 8805                        		.dbg	line,	"include\routines_LEVELS.c", 854; spr_y(player_pos_y+8);
 8806                        		__ld.wm		_player_pos_y
         1E:D7D7  AD F8 24   			lda.l	_player_pos_y
         1E:D7DA  AC F9 24   			ldy.h	_player_pos_y
 8807                        		__add.wi	8
         1E:D7DD  18         			clc
         1E:D7DE  69 08      			adc.l	#8
         1E:D7E0  90 01      			bcc	!+
         1E:D7E2  C8         			iny
         1E:D7E3             	!:
 8808                        		__call		_spr_y.1
         1E:D7E3  20 2D E8   			call	_spr_y.1
 8809                        	
 8810                        		.dbg	line,	"include\routines_LEVELS.c", 855; 
 8811                        	
 8812                        		.dbg	line,	"include\routines_LEVELS.c", 856; if(player_axis == AXIS_RIGHT)
 8813                        		__not.um	_player_axis
         1E:D7E6  AD 1A 23   			lda	_player_axis
         1E:D7E9  18         			clc
         1E:D7EA  D0 01      			bne	!+
         1E:D7EC  38         			sec
         1E:D7ED             	!:
 8814                        		__bfalse	.LL381
         1E:D7ED  90 12      			bcc	.LL381
 8815                        	
 8816                        		.dbg	line,	"include\routines_LEVELS.c", 857; {
 8817                        	
 8818                        		.dbg	line,	"include\routines_LEVELS.c", 858; spr_x(player_pos_x-5);
 8819                        		__ld.wm		_player_pos_x
         1E:D7EF  AD F6 24   			lda.l	_player_pos_x
         1E:D7F2  AC F7 24   			ldy.h	_player_pos_x
 8820                        		__sub.wi	5
         1E:D7F5  38         			sec
         1E:D7F6  E9 05      			sbc.l	#5
         1E:D7F8  B0 01      			bcs	!+
         1E:D7FA  88         			dey
         1E:D7FB             	!:
 8821                        		__call		_spr_x.1
         1E:D7FB  20 1E E8   			call	_spr_x.1
 8822                        	
 8823                        		.dbg	line,	"include\routines_LEVELS.c", 859; }
 8824                        	
 8825                        		.dbg	line,	"include\routines_LEVELS.c", 861; else
 8826                        		__bra		.LL382
         1E:D7FE  4C C4 D8   			bra	.LL382
 8827    1E:D801             	.LL381:
 8828                        	
 8829                        		.dbg	line,	"include\routines_LEVELS.c", 862; {
 8830                        	
 8831                        		.dbg	line,	"include\routines_LEVELS.c", 863; spr_x(player_pos_x+21);
 8832                        		__ld.wm		_player_pos_x
         1E:D801  AD F6 24   			lda.l	_player_pos_x
         1E:D804  AC F7 24   			ldy.h	_player_pos_x
 8833                        		__add.wi	21
         1E:D807  18         			clc
         1E:D808  69 15      			adc.l	#21
         1E:D80A  90 01      			bcc	!+
         1E:D80C  C8         			iny
         1E:D80D             	!:
 8834                        		__call		_spr_x.1
         1E:D80D  20 1E E8   			call	_spr_x.1
 8835                        	
 8836                        		.dbg	line,	"include\routines_LEVELS.c", 864; }
 8837    1E:D810             	.LL382	.alias		.LL383
 8838                        	
 8839                        		.dbg	line,	"include\routines_LEVELS.c", 865; }
 8840                        	
 8841                        		.dbg	line,	"include\routines_LEVELS.c", 866; }
 8842    1E:D810             	.LL380	.alias		.LL383
 8843                        	
 8844                        		.dbg	line,	"include\routines_LEVELS.c", 867; }
 8845    1E:D810             	.LL379	.alias		.LL383
 8846    1E:D810             	.LL378	.alias		.LL383
 8847    1E:D810             	.LL376	.alias		.LL383
 8848                        	
 8849                        		.dbg	line,	"include\routines_LEVELS.c", 868; }
 8850    1E:D810             	.LL374	.alias		.LL383
 8851                        	
 8852                        		.dbg	line,	"include\routines_LEVELS.c", 869; }
 8853    1E:D810             	.LL371	.alias		.LL383
 8854    1E:D810             	.LL370	.alias		.LL383
 8855    1E:D810             	.LL366	.alias		.LL383
 8856                        	
 8857                        		.dbg	line,	"include\routines_LEVELS.c", 871; // ATTACK //
 8858                        	
 8859                        		.dbg	line,	"include\routines_LEVELS.c", 872; else if(joytrg(JOYPAD_1) == JOY_II)
 8860                        		__bra		.LL383
         1E:D810  4C C4 D8   			bra	.LL383
 8861    1E:D813             	.LL362:
 8862                        		__ld.uiq	0
         1E:D813  62         			cla
 8863                        		 _joytrg.1
         1E:D814  AA         			tax
         1E:D815  BD 2D 22   			lda	joytrg, x
         1E:D818  BC DD 22   			ldy	joy6trg, x
 8864                        		__equ_w.wi	2
         1E:D81B  C9 02      			cmp.l	#2
         1E:D81D  D0 04      			bne	!false+
         1E:D81F  C0 00      			cpy.h	#2
         1E:D821  F0 01      			beq	!+
         1E:D823  18         	!false:		clc
         1E:D824             	!:
 8865                        		__bfalse	.LL384
         1E:D824  B0 03 4C C4			bcc	.LL384
         1E:D828  D8          
 8866                        	
 8867                        		.dbg	line,	"include\routines_LEVELS.c", 873; {
 8868                        	
 8869                        		.dbg	line,	"include\routines_LEVELS.c", 874; if(player_state == STATE_IDLE || player_state == STATE_WALK)
 8870                        		__not.um	_player_state
         1E:D829  AD 19 23   			lda	_player_state
         1E:D82C  18         			clc
         1E:D82D  D0 01      			bne	!+
         1E:D82F  38         			sec
         1E:D830             	!:
 8871                        		__btrue		.LL386
         1E:D830  B0 08      			bcs	.LL386
 8872                        		__ld.umq	_player_state
         1E:D832  AD 19 23   			lda	_player_state
 8873                        		__equ_b.uiq	1
         1E:D835  C9 01      			cmp	#1
         1E:D837  F0 01      			beq	!+
         1E:D839  18         			clc
         1E:D83A             	!:
 8874    1E:D83A             	.LL386:
 8875                        		__bfalse	.LL385
         1E:D83A  90 18      			bcc	.LL385
 8876                        	
 8877                        		.dbg	line,	"include\routines_LEVELS.c", 875; {
 8878                        	
 8879                        		.dbg	line,	"include\routines_LEVELS.c", 876; list_chain_active[0] = FALSE;
 8880                        		__st.umiq	0, _list_chain_active
         1E:D83C  9C 2B 23   			stz	_list_chain_active
 8881                        	
 8882                        		.dbg	line,	"include\routines_LEVELS.c", 877; list_chain_active[1] = FALSE;
 8883                        		__st.umiq	0, _list_chain_active + 1
         1E:D83F  9C 2C 23   			stz	_list_chain_active + 1
 8884                        	
 8885                        		.dbg	line,	"include\routines_LEVELS.c", 878; list_chain_active[2] = FALSE;
 8886                        		__st.umiq	0, _list_chain_active + 2
         1E:D842  9C 2D 23   			stz	_list_chain_active + 2
 8887                        	
 8888                        		.dbg	line,	"include\routines_LEVELS.c", 880; chain_unfold = TRUE;
 8889                        		__st.umiq	1, _chain_unfold
         1E:D845  A9 01      			lda.l	#1
         1E:D847  8D 2A 23   			sta	_chain_unfold
 8890                        	
 8891                        		.dbg	line,	"include\routines_LEVELS.c", 881; player_counter_attack = 0;
 8892                        		__st.umiq	0, _player_counter_attack
         1E:D84A  9C 1F 23   			stz	_player_counter_attack
 8893                        	
 8894                        		.dbg	line,	"include\routines_LEVELS.c", 882; player_state = STATE_ATTACK;
 8895                        		__st.umiq	2, _player_state
         1E:D84D  A9 02      			lda.l	#2
         1E:D84F  8D 19 23   			sta	_player_state
 8896                        	
 8897                        		.dbg	line,	"include\routines_LEVELS.c", 883; }
 8898                        	
 8899                        		.dbg	line,	"include\routines_LEVELS.c", 885; else if(player_state == STATE_JUMP)
 8900                        		__bra		.LL387
         1E:D852  80 70      			bra	.LL387
 8901    1E:D854             	.LL385:
 8902                        		__ld.umq	_player_state
         1E:D854  AD 19 23   			lda	_player_state
 8903                        		__equ_b.uiq	4
         1E:D857  C9 04      			cmp	#4
         1E:D859  F0 01      			beq	!+
         1E:D85B  18         			clc
         1E:D85C             	!:
 8904                        		__bfalse	.LL388
         1E:D85C  90 02      			bcc	.LL388
 8905                        	
 8906                        		.dbg	line,	"include\routines_LEVELS.c", 886; {
 8907                        	
 8908                        		.dbg	line,	"include\routines_LEVELS.c", 887; /*if(player_attack == FALSE)
 8909                        	
 8910                        		.dbg	line,	"include\routines_LEVELS.c", 888; {
 8911                        	
 8912                        		.dbg	line,	"include\routines_LEVELS.c", 889; chain_unfold = TRUE;
 8913                        	
 8914                        		.dbg	line,	"include\routines_LEVELS.c", 890; player_counter_attack = 0;
 8915                        	
 8916                        		.dbg	line,	"include\routines_LEVELS.c", 891; player_attack = TRUE;
 8917                        	
 8918                        		.dbg	line,	"include\routines_LEVELS.c", 892; }*/
 8919                        	
 8920                        		.dbg	line,	"include\routines_LEVELS.c", 893; }
 8921                        	
 8922                        		.dbg	line,	"include\routines_LEVELS.c", 895; else if(player_state == STATE_CROUCH)
 8923                        		__bra		.LL389
         1E:D85E  80 64      			bra	.LL389
 8924    1E:D860             	.LL388:
 8925                        		__ld.umq	_player_state
         1E:D860  AD 19 23   			lda	_player_state
 8926                        		__equ_b.uiq	7
         1E:D863  C9 07      			cmp	#7
         1E:D865  F0 01      			beq	!+
         1E:D867  18         			clc
         1E:D868             	!:
 8927                        		__bfalse	.LL390
         1E:D868  90 18      			bcc	.LL390
 8928                        	
 8929                        		.dbg	line,	"include\routines_LEVELS.c", 896; {
 8930                        	
 8931                        		.dbg	line,	"include\routines_LEVELS.c", 897; list_chain_active[0] = FALSE;
 8932                        		__st.umiq	0, _list_chain_active
         1E:D86A  9C 2B 23   			stz	_list_chain_active
 8933                        	
 8934                        		.dbg	line,	"include\routines_LEVELS.c", 898; list_chain_active[1] = FALSE;
 8935                        		__st.umiq	0, _list_chain_active + 1
         1E:D86D  9C 2C 23   			stz	_list_chain_active + 1
 8936                        	
 8937                        		.dbg	line,	"include\routines_LEVELS.c", 899; list_chain_active[2] = FALSE;
 8938                        		__st.umiq	0, _list_chain_active + 2
         1E:D870  9C 2D 23   			stz	_list_chain_active + 2
 8939                        	
 8940                        		.dbg	line,	"include\routines_LEVELS.c", 901; chain_unfold = TRUE;
 8941                        		__st.umiq	1, _chain_unfold
         1E:D873  A9 01      			lda.l	#1
         1E:D875  8D 2A 23   			sta	_chain_unfold
 8942                        	
 8943                        		.dbg	line,	"include\routines_LEVELS.c", 902; player_counter_attack = 0;
 8944                        		__st.umiq	0, _player_counter_attack
         1E:D878  9C 1F 23   			stz	_player_counter_attack
 8945                        	
 8946                        		.dbg	line,	"include\routines_LEVELS.c", 903; player_state = STATE_CROUCH_ATTACK;
 8947                        		__st.umiq	8, _player_state
         1E:D87B  A9 08      			lda.l	#8
         1E:D87D  8D 19 23   			sta	_player_state
 8948                        	
 8949                        		.dbg	line,	"include\routines_LEVELS.c", 904; }
 8950                        	
 8951                        		.dbg	line,	"include\routines_LEVELS.c", 906; else if(player_state == STATE_HANG || player_state == STATE_CLIMB_UP || player_state == STATE_CLIMB_DOWN)
 8952                        		__bra		.LL391
         1E:D880  80 42      			bra	.LL391
 8953    1E:D882             	.LL390:
 8954                        		__ld.umq	_player_state
         1E:D882  AD 19 23   			lda	_player_state
 8955                        		__equ_b.uiq	10
         1E:D885  C9 0A      			cmp	#10
         1E:D887  F0 01      			beq	!+
         1E:D889  18         			clc
         1E:D88A             	!:
 8956                        		__btrue		.LL393
         1E:D88A  B0 08      			bcs	.LL393
 8957                        		__ld.umq	_player_state
         1E:D88C  AD 19 23   			lda	_player_state
 8958                        		__equ_b.uiq	11
         1E:D88F  C9 0B      			cmp	#11
         1E:D891  F0 01      			beq	!+
         1E:D893  18         			clc
         1E:D894             	!:
 8959    1E:D894             	.LL393:
 8960                        		__btrue		.LL394
         1E:D894  B0 08      			bcs	.LL394
 8961                        		__ld.umq	_player_state
         1E:D896  AD 19 23   			lda	_player_state
 8962                        		__equ_b.uiq	12
         1E:D899  C9 0C      			cmp	#12
         1E:D89B  F0 01      			beq	!+
         1E:D89D  18         			clc
         1E:D89E             	!:
 8963    1E:D89E             	.LL394:
 8964                        		__bfalse	.LL392
         1E:D89E  90 24      			bcc	.LL392
 8965                        	
 8966                        		.dbg	line,	"include\routines_LEVELS.c", 907; {
 8967                        	
 8968                        		.dbg	line,	"include\routines_LEVELS.c", 908; if(player_attack == FALSE)
 8969                        		__not.um	_player_attack
         1E:D8A0  AD 21 23   			lda	_player_attack
         1E:D8A3  18         			clc
         1E:D8A4  D0 01      			bne	!+
         1E:D8A6  38         			sec
         1E:D8A7             	!:
 8970                        		__bfalse	.LL395
         1E:D8A7  90 1B      			bcc	.LL395
 8971                        	
 8972                        		.dbg	line,	"include\routines_LEVELS.c", 909; {
 8973                        	
 8974                        		.dbg	line,	"include\routines_LEVELS.c", 910; list_chain_active[0] = FALSE;
 8975                        		__st.umiq	0, _list_chain_active
         1E:D8A9  9C 2B 23   			stz	_list_chain_active
 8976                        	
 8977                        		.dbg	line,	"include\routines_LEVELS.c", 911; list_chain_active[1] = FALSE;
 8978                        		__st.umiq	0, _list_chain_active + 1
         1E:D8AC  9C 2C 23   			stz	_list_chain_active + 1
 8979                        	
 8980                        		.dbg	line,	"include\routines_LEVELS.c", 912; list_chain_active[2] = FALSE;
 8981                        		__st.umiq	0, _list_chain_active + 2
         1E:D8AF  9C 2D 23   			stz	_list_chain_active + 2
 8982                        	
 8983                        		.dbg	line,	"include\routines_LEVELS.c", 913; 
 8984                        	
 8985                        		.dbg	line,	"include\routines_LEVELS.c", 914; player_counter_attack = 0;
 8986                        		__st.umiq	0, _player_counter_attack
         1E:D8B2  9C 1F 23   			stz	_player_counter_attack
 8987                        	
 8988                        		.dbg	line,	"include\routines_LEVELS.c", 915; chain_unfold = TRUE;
 8989                        		__st.umiq	1, _chain_unfold
         1E:D8B5  A9 01      			lda.l	#1
         1E:D8B7  8D 2A 23   			sta	_chain_unfold
 8990                        	
 8991                        		.dbg	line,	"include\routines_LEVELS.c", 916; player_attack = TRUE;
 8992                        		__st.umiq	1, _player_attack
         1E:D8BA  A9 01      			lda.l	#1
         1E:D8BC  8D 21 23   			sta	_player_attack
 8993                        	
 8994                        		.dbg	line,	"include\routines_LEVELS.c", 917; player_state = STATE_HANG;
 8995                        		__st.umiq	10, _player_state
         1E:D8BF  A9 0A      			lda.l	#10
         1E:D8C1  8D 19 23   			sta	_player_state
 8996                        	
 8997                        		.dbg	line,	"include\routines_LEVELS.c", 918; }
 8998                        	
 8999                        		.dbg	line,	"include\routines_LEVELS.c", 919; }
 9000    1E:D8C4             	.LL395:
 9001                        	
 9002                        		.dbg	line,	"include\routines_LEVELS.c", 920; }
 9003    1E:D8C4             	.LL392:
 9004    1E:D8C4             	.LL391:
 9005    1E:D8C4             	.LL389:
 9006    1E:D8C4             	.LL387:
 9007                        	
 9008                        		.dbg	line,	"include\routines_LEVELS.c", 921; }
 9009    1E:D8C4             	.LL384:
 9010    1E:D8C4             	.LL383:
 9011    1E:D8C4             	.LL361:
 9012                        		__return	0
         1E:D8C4  4C EF FF   			jmp	leave_proc
 9013                        		.dbg	clear
 9014                        		.endp
 9015                        		.pceas
 9016                        	
 9017                        		.dbg	line,	"include\routines_LEVELS.c", 924; void joypad_DIR()
 9018                        		.dbg	line,	"include\routines_LEVELS.c", 925; {
 9019                        	;***********************
 9020                        	;***********************
 9021                        	
 9022                        		.hucc
 9023    02:C000             		.proc		_joypad_DIR
 9024                        		__enter		_joypad_DIR
 9025                        	
 9026                        		.dbg	line,	"include\routines_LEVELS.c", 926; //--------------------------------------------------------------------------------------//
 9027                        	
 9028                        		.dbg	line,	"include\routines_LEVELS.c", 927; //                                        NO DIR                                        //
 9029                        	
 9030                        		.dbg	line,	"include\routines_LEVELS.c", 928; //--------------------------------------------------------------------------------------//
 9031                        	
 9032                        		.dbg	line,	"include\routines_LEVELS.c", 930; if(! (joy(JOYPAD_1) & JOY_DIR_PRESSED) )
 9033                        		__ld.uiq	0
         02:C000  62         			cla
 9034                        		 _joy.1
         02:C001  AA         			tax
         02:C002  BD 28 22   			lda	joynow, x
         02:C005  BC D3 22   			ldy	joy6now, x
 9035                        		__nand.wi	240
         02:C008  18         			clc
         02:C009  29 F0      			and	#240
         02:C00B  D0 01      			bne	!+
         02:C00D  38         			sec
         02:C00E             	!:
 9036                        		__bfalse	.LL397
         02:C00E  90 58      			bcc	.LL397
 9037                        	
 9038                        		.dbg	line,	"include\routines_LEVELS.c", 931; {
 9039                        	
 9040                        		.dbg	line,	"include\routines_LEVELS.c", 932; if(player_state == STATE_WALK || player_state == STATE_CROUCH)
 9041                        		__ld.umq	_player_state
         02:C010  AD 19 23   			lda	_player_state
 9042                        		__equ_b.uiq	1
         02:C013  C9 01      			cmp	#1
         02:C015  F0 01      			beq	!+
         02:C017  18         			clc
         02:C018             	!:
 9043                        		__btrue		.LL399
         02:C018  B0 08      			bcs	.LL399
 9044                        		__ld.umq	_player_state
         02:C01A  AD 19 23   			lda	_player_state
 9045                        		__equ_b.uiq	7
         02:C01D  C9 07      			cmp	#7
         02:C01F  F0 01      			beq	!+
         02:C021  18         			clc
         02:C022             	!:
 9046    02:C022             	.LL399:
 9047                        		__bfalse	.LL398
         02:C022  90 13      			bcc	.LL398
 9048                        	
 9049                        		.dbg	line,	"include\routines_LEVELS.c", 933; {
 9050                        	
 9051                        		.dbg	line,	"include\routines_LEVELS.c", 934; if(player_attack == FALSE)
 9052                        		__not.um	_player_attack
         02:C024  AD 21 23   			lda	_player_attack
         02:C027  18         			clc
         02:C028  D0 01      			bne	!+
         02:C02A  38         			sec
         02:C02B             	!:
 9053                        		__bfalse	.LL400
         02:C02B  90 3B      			bcc	.LL400
 9054                        	
 9055                        		.dbg	line,	"include\routines_LEVELS.c", 935; {
 9056                        	
 9057                        		.dbg	line,	"include\routines_LEVELS.c", 936; player_counter_anim = 1;
 9058                        		__st.umiq	1, _player_counter_anim
         02:C02D  A9 01      			lda.l	#1
         02:C02F  8D 1C 23   			sta	_player_counter_anim
 9059                        	
 9060                        		.dbg	line,	"include\routines_LEVELS.c", 937; player_state = STATE_IDLE;
 9061                        		__st.umiq	0, _player_state
         02:C032  9C 19 23   			stz	_player_state
 9062                        	
 9063                        		.dbg	line,	"include\routines_LEVELS.c", 938; }
 9064                        	
 9065                        		.dbg	line,	"include\routines_LEVELS.c", 939; }
 9066    02:C035             	.LL400	.alias		.LL401
 9067                        	
 9068                        		.dbg	line,	"include\routines_LEVELS.c", 942; else if(player_state == STATE_CLIMB_UP || player_state == STATE_CLIMB_DOWN)
 9069                        		__bra		.LL401
         02:C035  80 31      			bra	.LL401
 9070    02:C037             	.LL398:
 9071                        		__ld.umq	_player_state
         02:C037  AD 19 23   			lda	_player_state
 9072                        		__equ_b.uiq	11
         02:C03A  C9 0B      			cmp	#11
         02:C03C  F0 01      			beq	!+
         02:C03E  18         			clc
         02:C03F             	!:
 9073                        		__btrue		.LL403
         02:C03F  B0 08      			bcs	.LL403
 9074                        		__ld.umq	_player_state
         02:C041  AD 19 23   			lda	_player_state
 9075                        		__equ_b.uiq	12
         02:C044  C9 0C      			cmp	#12
         02:C046  F0 01      			beq	!+
         02:C048  18         			clc
         02:C049             	!:
 9076    02:C049             	.LL403:
 9077                        		__bfalse	.LL402
         02:C049  90 1D      			bcc	.LL402
 9078                        	
 9079                        		.dbg	line,	"include\routines_LEVELS.c", 943; {
 9080                        	
 9081                        		.dbg	line,	"include\routines_LEVELS.c", 944; if(player_attack == FALSE)
 9082                        		__not.um	_player_attack
         02:C04B  AD 21 23   			lda	_player_attack
         02:C04E  18         			clc
         02:C04F  D0 01      			bne	!+
         02:C051  38         			sec
         02:C052             	!:
 9083                        		__bfalse	.LL404
         02:C052  90 14      			bcc	.LL404
 9084                        	
 9085                        		.dbg	line,	"include\routines_LEVELS.c", 945; {
 9086                        	
 9087                        		.dbg	line,	"include\routines_LEVELS.c", 946; spr_set(player_id);
 9088                        		__ld.umq	_player_id
         02:C054  AD 18 23   			lda	_player_id
 9089                        		__call		_spr_set.1
         02:C057  20 F1 E7   			call	_spr_set.1
 9090                        	
 9091                        		.dbg	line,	"include\routines_LEVELS.c", 947; spr_pattern(PLAYER_HANG_VRAM_ADR);
 9092                        		__ld.wi		7424
         02:C05A  62         			cla
         02:C05B  A0 1D      			ldy.h	#7424
 9093                        		__call		_spr_pattern.1
         02:C05D  20 3A E8   			call	_spr_pattern.1
 9094                        	
 9095                        		.dbg	line,	"include\routines_LEVELS.c", 948; player_counter_anim = 0;
 9096                        		__st.umiq	0, _player_counter_anim
         02:C060  9C 1C 23   			stz	_player_counter_anim
 9097                        	
 9098                        		.dbg	line,	"include\routines_LEVELS.c", 949; player_state = STATE_HANG;
 9099                        		__st.umiq	10, _player_state
         02:C063  A9 0A      			lda.l	#10
         02:C065  8D 19 23   			sta	_player_state
 9100                        	
 9101                        		.dbg	line,	"include\routines_LEVELS.c", 950; }
 9102                        	
 9103                        		.dbg	line,	"include\routines_LEVELS.c", 951; }
 9104    02:C068             	.LL404:
 9105                        	
 9106                        		.dbg	line,	"include\routines_LEVELS.c", 952; }
 9107    02:C068             	.LL402:
 9108    02:C068             	.LL401:
 9109                        	
 9110                        		.dbg	line,	"include\routines_LEVELS.c", 955; //--------------------------------------------------------------------------------------//
 9111                        	
 9112                        		.dbg	line,	"include\routines_LEVELS.c", 956; //                                     RIGHT BUTTON                                     //
 9113                        	
 9114                        		.dbg	line,	"include\routines_LEVELS.c", 957; //--------------------------------------------------------------------------------------//
 9115                        	
 9116                        		.dbg	line,	"include\routines_LEVELS.c", 959; if(joy(JOYPAD_1) & JOY_RIGHT)
 9117    02:C068             	.LL397:
 9118                        		__ld.uiq	0
         02:C068  62         			cla
 9119                        		 _joy.1
         02:C069  AA         			tax
         02:C06A  BD 28 22   			lda	joynow, x
         02:C06D  BC D3 22   			ldy	joy6now, x
 9120                        		__tand.wi	32
         02:C070  29 20      			and	#32
         02:C072  C9 01      	!:		cmp	#1
 9121                        		__bfalse	.LL405
         02:C074  B0 03 4C 33			bcc	.LL405
         02:C078  C4          
 9122                        	
 9123                        		.dbg	line,	"include\routines_LEVELS.c", 960; {
 9124                        	
 9125                        		.dbg	line,	"include\routines_LEVELS.c", 961; if(player_state == STATE_IDLE || player_state == STATE_WALK)
 9126                        		__not.um	_player_state
         02:C079  AD 19 23   			lda	_player_state
         02:C07C  18         			clc
         02:C07D  D0 01      			bne	!+
         02:C07F  38         			sec
         02:C080             	!:
 9127                        		__btrue		.LL407
         02:C080  B0 08      			bcs	.LL407
 9128                        		__ld.umq	_player_state
         02:C082  AD 19 23   			lda	_player_state
 9129                        		__equ_b.uiq	1
         02:C085  C9 01      			cmp	#1
         02:C087  F0 01      			beq	!+
         02:C089  18         			clc
         02:C08A             	!:
 9130    02:C08A             	.LL407:
 9131                        		__bfalse	.LL406
         02:C08A  B0 03 4C 27			bcc	.LL406
         02:C08E  C1          
 9132                        	
 9133                        		.dbg	line,	"include\routines_LEVELS.c", 962; {
 9134                        	
 9135                        		.dbg	line,	"include\routines_LEVELS.c", 963; player_axis = AXIS_RIGHT;
 9136                        		__st.umiq	0, _player_axis
         02:C08F  9C 1A 23   			stz	_player_axis
 9137                        	
 9138                        		.dbg	line,	"include\routines_LEVELS.c", 965; if(player_previous_axis != player_axis)
 9139                        		__ld.umq	_player_previous_axis
         02:C092  AD 1B 23   			lda	_player_previous_axis
 9140                        		__neq_b.umq	_player_axis
         02:C095  38         			sec
         02:C096  4D 1A 23   			eor	_player_axis
         02:C099  D0 01      			bne	!+
         02:C09B  18         			clc
         02:C09C             	!:
 9141                        		__bfalse	.LL408
         02:C09C  90 66      			bcc	.LL408
 9142                        	
 9143                        		.dbg	line,	"include\routines_LEVELS.c", 966; {
 9144                        	
 9145                        		.dbg	line,	"include\routines_LEVELS.c", 967; player_previous_axis = player_axis;
 9146                        		__ld.um		_player_axis
         02:C09E  AD 1A 23   			lda	_player_axis
         02:C0A1  C2         			cly
 9147                        		__st.umq	_player_previous_axis
         02:C0A2  8D 1B 23   			sta	_player_previous_axis
 9148                        	
 9149                        		.dbg	line,	"include\routines_LEVELS.c", 969; spr_set(player_id);
 9150                        		__ld.umq	_player_id
         02:C0A5  AD 18 23   			lda	_player_id
 9151                        		__call		_spr_set.1
         02:C0A8  20 F1 E7   			call	_spr_set.1
 9152                        	
 9153                        		.dbg	line,	"include\routines_LEVELS.c", 970; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 9154                        		__st.umiq	136, _al
         02:C0AB  A9 88      			lda.l	#136
         02:C0AD  85 F8      			sta	_al
 9155                        		__ld.uiq	0
         02:C0AF  62         			cla
 9156                        		__call		_spr_ctrl.2
         02:C0B0  20 50 E8   			call	_spr_ctrl.2
 9157                        	
 9158                        		.dbg	line,	"include\routines_LEVELS.c", 972; spr_set(chain_id);
 9159                        		__ld.umq	_chain_id
         02:C0B3  AD 26 23   			lda	_chain_id
 9160                        		__call		_spr_set.1
         02:C0B6  20 F1 E7   			call	_spr_set.1
 9161                        	
 9162                        		.dbg	line,	"include\routines_LEVELS.c", 973; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 9163                        		__st.umiq	136, _al
         02:C0B9  A9 88      			lda.l	#136
         02:C0BB  85 F8      			sta	_al
 9164                        		__ld.uiq	0
         02:C0BD  62         			cla
 9165                        		__call		_spr_ctrl.2
         02:C0BE  20 50 E8   			call	_spr_ctrl.2
 9166                        	
 9167                        		.dbg	line,	"include\routines_LEVELS.c", 975; spr_set(chain_id+1);
 9168                        		__ld.um		_chain_id
         02:C0C1  AD 26 23   			lda	_chain_id
         02:C0C4  C2         			cly
 9169                        		__add.wi	1
         02:C0C5  1A         			inc	a
         02:C0C6  D0 01      			bne	!+
         02:C0C8  C8         			iny
         02:C0C9             	!:
 9170                        		__call		_spr_set.1
         02:C0C9  20 F1 E7   			call	_spr_set.1
 9171                        	
 9172                        		.dbg	line,	"include\routines_LEVELS.c", 976; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 9173                        		__st.umiq	136, _al
         02:C0CC  A9 88      			lda.l	#136
         02:C0CE  85 F8      			sta	_al
 9174                        		__ld.uiq	0
         02:C0D0  62         			cla
 9175                        		__call		_spr_ctrl.2
         02:C0D1  20 50 E8   			call	_spr_ctrl.2
 9176                        	
 9177                        		.dbg	line,	"include\routines_LEVELS.c", 978; spr_set(chain_id+2);
 9178                        		__ld.um		_chain_id
         02:C0D4  AD 26 23   			lda	_chain_id
         02:C0D7  C2         			cly
 9179                        		__add.wi	2
         02:C0D8  18         			clc
         02:C0D9  69 02      			adc.l	#2
         02:C0DB  90 01      			bcc	!+
         02:C0DD  C8         			iny
         02:C0DE             	!:
 9180                        		__call		_spr_set.1
         02:C0DE  20 F1 E7   			call	_spr_set.1
 9181                        	
 9182                        		.dbg	line,	"include\routines_LEVELS.c", 979; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 9183                        		__st.umiq	136, _al
         02:C0E1  A9 88      			lda.l	#136
         02:C0E3  85 F8      			sta	_al
 9184                        		__ld.uiq	0
         02:C0E5  62         			cla
 9185                        		__call		_spr_ctrl.2
         02:C0E6  20 50 E8   			call	_spr_ctrl.2
 9186                        	
 9187                        		.dbg	line,	"include\routines_LEVELS.c", 981; spr_set(weapon_id);
 9188                        		__ld.umq	_weapon_id
         02:C0E9  AD 27 23   			lda	_weapon_id
 9189                        		__call		_spr_set.1
         02:C0EC  20 F1 E7   			call	_spr_set.1
 9190                        	
 9191                        		.dbg	line,	"include\routines_LEVELS.c", 982; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 9192                        		__st.umiq	136, _al
         02:C0EF  A9 88      			lda.l	#136
         02:C0F1  85 F8      			sta	_al
 9193                        		__ld.uiq	0
         02:C0F3  62         			cla
 9194                        		__call		_spr_ctrl.2
         02:C0F4  20 50 E8   			call	_spr_ctrl.2
 9195                        	
 9196                        		.dbg	line,	"include\routines_LEVELS.c", 983; spr_x(player_pos_x+1);
 9197                        		__ld.wm		_player_pos_x
         02:C0F7  AD F6 24   			lda.l	_player_pos_x
         02:C0FA  AC F7 24   			ldy.h	_player_pos_x
 9198                        		__add.wi	1
         02:C0FD  1A         			inc	a
         02:C0FE  D0 01      			bne	!+
         02:C100  C8         			iny
         02:C101             	!:
 9199                        		__call		_spr_x.1
         02:C101  20 1E E8   			call	_spr_x.1
 9200                        	
 9201                        		.dbg	line,	"include\routines_LEVELS.c", 984; }
 9202                        	
 9203                        		.dbg	line,	"include\routines_LEVELS.c", 986; if(joy(JOYPAD_1) & JOY_DOWN)
 9204    02:C104             	.LL408:
 9205                        		__ld.uiq	0
         02:C104  62         			cla
 9206                        		 _joy.1
         02:C105  AA         			tax
         02:C106  BD 28 22   			lda	joynow, x
         02:C109  BC D3 22   			ldy	joy6now, x
 9207                        		__tand.wi	64
         02:C10C  29 40      			and	#64
         02:C10E  C9 01      	!:		cmp	#1
 9208                        		__bfalse	.LL409
         02:C110  90 0D      			bcc	.LL409
 9209                        	
 9210                        		.dbg	line,	"include\routines_LEVELS.c", 987; {
 9211                        	
 9212                        		.dbg	line,	"include\routines_LEVELS.c", 988; player_counter_anim = 1;
 9213                        		__st.umiq	1, _player_counter_anim
         02:C112  A9 01      			lda.l	#1
         02:C114  8D 1C 23   			sta	_player_counter_anim
 9214                        	
 9215                        		.dbg	line,	"include\routines_LEVELS.c", 989; player_state = STATE_CROUCH;
 9216                        		__st.umiq	7, _player_state
         02:C117  A9 07      			lda.l	#7
         02:C119  8D 19 23   			sta	_player_state
 9217                        	
 9218                        		.dbg	line,	"include\routines_LEVELS.c", 990; return;
 9219                        		__bra		.LL396
         02:C11C  4C 5E CA   			bra	.LL396
 9220                        	
 9221                        		.dbg	line,	"include\routines_LEVELS.c", 991; }
 9222                        	
 9223                        		.dbg	line,	"include\routines_LEVELS.c", 993; player_state = STATE_WALK;
 9224    02:C11F             	.LL409:
 9225                        		__st.umiq	1, _player_state
         02:C11F  A9 01      			lda.l	#1
         02:C121  8D 19 23   			sta	_player_state
 9226                        	
 9227                        		.dbg	line,	"include\routines_LEVELS.c", 994; }
 9228                        	
 9229                        		.dbg	line,	"include\routines_LEVELS.c", 997; else if(player_state == STATE_JUMP)
 9230                        		__bra		.LL410
         02:C124  4C 5E CA   			bra	.LL410
 9231    02:C127             	.LL406:
 9232                        		__ld.umq	_player_state
         02:C127  AD 19 23   			lda	_player_state
 9233                        		__equ_b.uiq	4
         02:C12A  C9 04      			cmp	#4
         02:C12C  F0 01      			beq	!+
         02:C12E  18         			clc
         02:C12F             	!:
 9234                        		__bfalse	.LL411
         02:C12F  B0 03 4C D3			bcc	.LL411
         02:C133  C1          
 9235                        	
 9236                        		.dbg	line,	"include\routines_LEVELS.c", 998; {
 9237                        	
 9238                        		.dbg	line,	"include\routines_LEVELS.c", 999; if(player_attack == FALSE)
 9239                        		__not.um	_player_attack
         02:C134  AD 21 23   			lda	_player_attack
         02:C137  18         			clc
         02:C138  D0 01      			bne	!+
         02:C13A  38         			sec
         02:C13B             	!:
 9240                        		__bfalse	.LL412
         02:C13B  B0 03 4C 5E			bcc	.LL412
         02:C13F  CA          
 9241                        	
 9242                        		.dbg	line,	"include\routines_LEVELS.c", 1000; {
 9243                        	
 9244                        		.dbg	line,	"include\routines_LEVELS.c", 1001; if(player_axis == AXIS_LEFT)
 9245                        		__ld.umq	_player_axis
         02:C140  AD 1A 23   			lda	_player_axis
 9246                        		__equ_b.uiq	1
         02:C143  C9 01      			cmp	#1
         02:C145  F0 01      			beq	!+
         02:C147  18         			clc
         02:C148             	!:
 9247                        		__bfalse	.LL413
         02:C148  90 6B      			bcc	.LL413
 9248                        	
 9249                        		.dbg	line,	"include\routines_LEVELS.c", 1002; {
 9250                        	
 9251                        		.dbg	line,	"include\routines_LEVELS.c", 1003; player_axis = AXIS_RIGHT;
 9252                        		__st.umiq	0, _player_axis
         02:C14A  9C 1A 23   			stz	_player_axis
 9253                        	
 9254                        		.dbg	line,	"include\routines_LEVELS.c", 1004; player_previous_axis = player_axis;
 9255                        		__ld.um		_player_axis
         02:C14D  AD 1A 23   			lda	_player_axis
         02:C150  C2         			cly
 9256                        		__st.umq	_player_previous_axis
         02:C151  8D 1B 23   			sta	_player_previous_axis
 9257                        	
 9258                        		.dbg	line,	"include\routines_LEVELS.c", 1006; spr_set(player_id);
 9259                        		__ld.umq	_player_id
         02:C154  AD 18 23   			lda	_player_id
 9260                        		__call		_spr_set.1
         02:C157  20 F1 E7   			call	_spr_set.1
 9261                        	
 9262                        		.dbg	line,	"include\routines_LEVELS.c", 1007; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 9263                        		__st.umiq	136, _al
         02:C15A  A9 88      			lda.l	#136
         02:C15C  85 F8      			sta	_al
 9264                        		__ld.uiq	0
         02:C15E  62         			cla
 9265                        		__call		_spr_ctrl.2
         02:C15F  20 50 E8   			call	_spr_ctrl.2
 9266                        	
 9267                        		.dbg	line,	"include\routines_LEVELS.c", 1009; spr_set(chain_id);
 9268                        		__ld.umq	_chain_id
         02:C162  AD 26 23   			lda	_chain_id
 9269                        		__call		_spr_set.1
         02:C165  20 F1 E7   			call	_spr_set.1
 9270                        	
 9271                        		.dbg	line,	"include\routines_LEVELS.c", 1010; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 9272                        		__st.umiq	136, _al
         02:C168  A9 88      			lda.l	#136
         02:C16A  85 F8      			sta	_al
 9273                        		__ld.uiq	0
         02:C16C  62         			cla
 9274                        		__call		_spr_ctrl.2
         02:C16D  20 50 E8   			call	_spr_ctrl.2
 9275                        	
 9276                        		.dbg	line,	"include\routines_LEVELS.c", 1012; spr_set(chain_id+1);
 9277                        		__ld.um		_chain_id
         02:C170  AD 26 23   			lda	_chain_id
         02:C173  C2         			cly
 9278                        		__add.wi	1
         02:C174  1A         			inc	a
         02:C175  D0 01      			bne	!+
         02:C177  C8         			iny
         02:C178             	!:
 9279                        		__call		_spr_set.1
         02:C178  20 F1 E7   			call	_spr_set.1
 9280                        	
 9281                        		.dbg	line,	"include\routines_LEVELS.c", 1013; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 9282                        		__st.umiq	136, _al
         02:C17B  A9 88      			lda.l	#136
         02:C17D  85 F8      			sta	_al
 9283                        		__ld.uiq	0
         02:C17F  62         			cla
 9284                        		__call		_spr_ctrl.2
         02:C180  20 50 E8   			call	_spr_ctrl.2
 9285                        	
 9286                        		.dbg	line,	"include\routines_LEVELS.c", 1015; spr_set(chain_id+2);
 9287                        		__ld.um		_chain_id
         02:C183  AD 26 23   			lda	_chain_id
         02:C186  C2         			cly
 9288                        		__add.wi	2
         02:C187  18         			clc
         02:C188  69 02      			adc.l	#2
         02:C18A  90 01      			bcc	!+
         02:C18C  C8         			iny
         02:C18D             	!:
 9289                        		__call		_spr_set.1
         02:C18D  20 F1 E7   			call	_spr_set.1
 9290                        	
 9291                        		.dbg	line,	"include\routines_LEVELS.c", 1016; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 9292                        		__st.umiq	136, _al
         02:C190  A9 88      			lda.l	#136
         02:C192  85 F8      			sta	_al
 9293                        		__ld.uiq	0
         02:C194  62         			cla
 9294                        		__call		_spr_ctrl.2
         02:C195  20 50 E8   			call	_spr_ctrl.2
 9295                        	
 9296                        		.dbg	line,	"include\routines_LEVELS.c", 1018; spr_set(weapon_id);
 9297                        		__ld.umq	_weapon_id
         02:C198  AD 27 23   			lda	_weapon_id
 9298                        		__call		_spr_set.1
         02:C19B  20 F1 E7   			call	_spr_set.1
 9299                        	
 9300                        		.dbg	line,	"include\routines_LEVELS.c", 1019; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 9301                        		__st.umiq	136, _al
         02:C19E  A9 88      			lda.l	#136
         02:C1A0  85 F8      			sta	_al
 9302                        		__ld.uiq	0
         02:C1A2  62         			cla
 9303                        		__call		_spr_ctrl.2
         02:C1A3  20 50 E8   			call	_spr_ctrl.2
 9304                        	
 9305                        		.dbg	line,	"include\routines_LEVELS.c", 1020; spr_x(player_pos_x-5);
 9306                        		__ld.wm		_player_pos_x
         02:C1A6  AD F6 24   			lda.l	_player_pos_x
         02:C1A9  AC F7 24   			ldy.h	_player_pos_x
 9307                        		__sub.wi	5
         02:C1AC  38         			sec
         02:C1AD  E9 05      			sbc.l	#5
         02:C1AF  B0 01      			bcs	!+
         02:C1B1  88         			dey
         02:C1B2             	!:
 9308                        		__call		_spr_x.1
         02:C1B2  20 1E E8   			call	_spr_x.1
 9309                        	
 9310                        		.dbg	line,	"include\routines_LEVELS.c", 1021; }
 9311                        	
 9312                        		.dbg	line,	"include\routines_LEVELS.c", 1023; if(player_index_jump > 11 && player_index_jump < 15)
 9313    02:C1B5             	.LL413:
 9314                        		__ld.umq	_player_index_jump
         02:C1B5  AD 1D 23   			lda	_player_index_jump
 9315                        		__ugt_b.uiq	11
         02:C1B8  18         			clc			; Subtract integer+1 from A.
         02:C1B9  E9 0B      			sbc	#11		; CS if A > integer.
 9316                        		__bfalse	.LL415
         02:C1BB  90 09      			bcc	.LL415
 9317                        		__ld.umq	_player_index_jump
         02:C1BD  AD 1D 23   			lda	_player_index_jump
 9318                        		__ult_b.uiq	15
         02:C1C0  C9 0F      			cmp	#15		; Subtract integer from A.
         02:C1C2  6A         			ror	a		; CC if A < integer.
         02:C1C3  49 80      			eor	#$80
         02:C1C5  2A         			rol	a
 9319    02:C1C6             	.LL415:
 9320                        		__bfalse	.LL414
         02:C1C6  B0 03 4C 5E			bcc	.LL414
         02:C1CA  CA          
 9321                        	
 9322                        		.dbg	line,	"include\routines_LEVELS.c", 1024; {
 9323                        	
 9324                        		.dbg	line,	"include\routines_LEVELS.c", 1025; player_state = STATE_JUMP_RIGHT;                        
 9325                        		__st.umiq	5, _player_state
         02:C1CB  A9 05      			lda.l	#5
         02:C1CD  8D 19 23   			sta	_player_state
 9326                        	
 9327                        		.dbg	line,	"include\routines_LEVELS.c", 1026; }
 9328                        	
 9329                        		.dbg	line,	"include\routines_LEVELS.c", 1027; }
 9330    02:C1D0             	.LL414	.alias		.LL416
 9331                        	
 9332                        		.dbg	line,	"include\routines_LEVELS.c", 1028; }
 9333    02:C1D0             	.LL412	.alias		.LL416
 9334                        	
 9335                        		.dbg	line,	"include\routines_LEVELS.c", 1031; else if(player_state == STATE_JUMP_LEFT)
 9336                        		__bra		.LL416
         02:C1D0  4C 5E CA   			bra	.LL416
 9337    02:C1D3             	.LL411:
 9338                        		__ld.umq	_player_state
         02:C1D3  AD 19 23   			lda	_player_state
 9339                        		__equ_b.uiq	6
         02:C1D6  C9 06      			cmp	#6
         02:C1D8  F0 01      			beq	!+
         02:C1DA  18         			clc
         02:C1DB             	!:
 9340                        		__bfalse	.LL417
         02:C1DB  90 7B      			bcc	.LL417
 9341                        	
 9342                        		.dbg	line,	"include\routines_LEVELS.c", 1032; {
 9343                        	
 9344                        		.dbg	line,	"include\routines_LEVELS.c", 1033; if(player_axis == AXIS_LEFT)
 9345                        		__ld.umq	_player_axis
         02:C1DD  AD 1A 23   			lda	_player_axis
 9346                        		__equ_b.uiq	1
         02:C1E0  C9 01      			cmp	#1
         02:C1E2  F0 01      			beq	!+
         02:C1E4  18         			clc
         02:C1E5             	!:
 9347                        		__bfalse	.LL418
         02:C1E5  B0 03 4C 5E			bcc	.LL418
         02:C1E9  CA          
 9348                        	
 9349                        		.dbg	line,	"include\routines_LEVELS.c", 1034; {
 9350                        	
 9351                        		.dbg	line,	"include\routines_LEVELS.c", 1035; player_axis = AXIS_RIGHT;
 9352                        		__st.umiq	0, _player_axis
         02:C1EA  9C 1A 23   			stz	_player_axis
 9353                        	
 9354                        		.dbg	line,	"include\routines_LEVELS.c", 1036; player_previous_axis = player_axis;
 9355                        		__ld.um		_player_axis
         02:C1ED  AD 1A 23   			lda	_player_axis
         02:C1F0  C2         			cly
 9356                        		__st.umq	_player_previous_axis
         02:C1F1  8D 1B 23   			sta	_player_previous_axis
 9357                        	
 9358                        		.dbg	line,	"include\routines_LEVELS.c", 1038; spr_set(player_id);
 9359                        		__ld.umq	_player_id
         02:C1F4  AD 18 23   			lda	_player_id
 9360                        		__call		_spr_set.1
         02:C1F7  20 F1 E7   			call	_spr_set.1
 9361                        	
 9362                        		.dbg	line,	"include\routines_LEVELS.c", 1039; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 9363                        		__st.umiq	136, _al
         02:C1FA  A9 88      			lda.l	#136
         02:C1FC  85 F8      			sta	_al
 9364                        		__ld.uiq	0
         02:C1FE  62         			cla
 9365                        		__call		_spr_ctrl.2
         02:C1FF  20 50 E8   			call	_spr_ctrl.2
 9366                        	
 9367                        		.dbg	line,	"include\routines_LEVELS.c", 1041; spr_set(chain_id);
 9368                        		__ld.umq	_chain_id
         02:C202  AD 26 23   			lda	_chain_id
 9369                        		__call		_spr_set.1
         02:C205  20 F1 E7   			call	_spr_set.1
 9370                        	
 9371                        		.dbg	line,	"include\routines_LEVELS.c", 1042; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 9372                        		__st.umiq	136, _al
         02:C208  A9 88      			lda.l	#136
         02:C20A  85 F8      			sta	_al
 9373                        		__ld.uiq	0
         02:C20C  62         			cla
 9374                        		__call		_spr_ctrl.2
         02:C20D  20 50 E8   			call	_spr_ctrl.2
 9375                        	
 9376                        		.dbg	line,	"include\routines_LEVELS.c", 1044; spr_set(chain_id+1);
 9377                        		__ld.um		_chain_id
         02:C210  AD 26 23   			lda	_chain_id
         02:C213  C2         			cly
 9378                        		__add.wi	1
         02:C214  1A         			inc	a
         02:C215  D0 01      			bne	!+
         02:C217  C8         			iny
         02:C218             	!:
 9379                        		__call		_spr_set.1
         02:C218  20 F1 E7   			call	_spr_set.1
 9380                        	
 9381                        		.dbg	line,	"include\routines_LEVELS.c", 1045; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 9382                        		__st.umiq	136, _al
         02:C21B  A9 88      			lda.l	#136
         02:C21D  85 F8      			sta	_al
 9383                        		__ld.uiq	0
         02:C21F  62         			cla
 9384                        		__call		_spr_ctrl.2
         02:C220  20 50 E8   			call	_spr_ctrl.2
 9385                        	
 9386                        		.dbg	line,	"include\routines_LEVELS.c", 1047; spr_set(chain_id+2);
 9387                        		__ld.um		_chain_id
         02:C223  AD 26 23   			lda	_chain_id
         02:C226  C2         			cly
 9388                        		__add.wi	2
         02:C227  18         			clc
         02:C228  69 02      			adc.l	#2
         02:C22A  90 01      			bcc	!+
         02:C22C  C8         			iny
         02:C22D             	!:
 9389                        		__call		_spr_set.1
         02:C22D  20 F1 E7   			call	_spr_set.1
 9390                        	
 9391                        		.dbg	line,	"include\routines_LEVELS.c", 1048; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 9392                        		__st.umiq	136, _al
         02:C230  A9 88      			lda.l	#136
         02:C232  85 F8      			sta	_al
 9393                        		__ld.uiq	0
         02:C234  62         			cla
 9394                        		__call		_spr_ctrl.2
         02:C235  20 50 E8   			call	_spr_ctrl.2
 9395                        	
 9396                        		.dbg	line,	"include\routines_LEVELS.c", 1050; spr_set(weapon_id);
 9397                        		__ld.umq	_weapon_id
         02:C238  AD 27 23   			lda	_weapon_id
 9398                        		__call		_spr_set.1
         02:C23B  20 F1 E7   			call	_spr_set.1
 9399                        	
 9400                        		.dbg	line,	"include\routines_LEVELS.c", 1051; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 9401                        		__st.umiq	136, _al
         02:C23E  A9 88      			lda.l	#136
         02:C240  85 F8      			sta	_al
 9402                        		__ld.uiq	0
         02:C242  62         			cla
 9403                        		__call		_spr_ctrl.2
         02:C243  20 50 E8   			call	_spr_ctrl.2
 9404                        	
 9405                        		.dbg	line,	"include\routines_LEVELS.c", 1052; spr_x(player_pos_x-5);
 9406                        		__ld.wm		_player_pos_x
         02:C246  AD F6 24   			lda.l	_player_pos_x
         02:C249  AC F7 24   			ldy.h	_player_pos_x
 9407                        		__sub.wi	5
         02:C24C  38         			sec
         02:C24D  E9 05      			sbc.l	#5
         02:C24F  B0 01      			bcs	!+
         02:C251  88         			dey
         02:C252             	!:
 9408                        		__call		_spr_x.1
         02:C252  20 1E E8   			call	_spr_x.1
 9409                        	
 9410                        		.dbg	line,	"include\routines_LEVELS.c", 1053; }
 9411                        	
 9412                        		.dbg	line,	"include\routines_LEVELS.c", 1054; }
 9413    02:C255             	.LL418	.alias		.LL419
 9414                        	
 9415                        		.dbg	line,	"include\routines_LEVELS.c", 1057; else if(player_state == STATE_CROUCH)
 9416                        		__bra		.LL419
         02:C255  4C 5E CA   			bra	.LL419
 9417    02:C258             	.LL417:
 9418                        		__ld.umq	_player_state
         02:C258  AD 19 23   			lda	_player_state
 9419                        		__equ_b.uiq	7
         02:C25B  C9 07      			cmp	#7
         02:C25D  F0 01      			beq	!+
         02:C25F  18         			clc
         02:C260             	!:
 9420                        		__bfalse	.LL420
         02:C260  90 7B      			bcc	.LL420
 9421                        	
 9422                        		.dbg	line,	"include\routines_LEVELS.c", 1058; {
 9423                        	
 9424                        		.dbg	line,	"include\routines_LEVELS.c", 1059; if(player_axis == AXIS_LEFT)
 9425                        		__ld.umq	_player_axis
         02:C262  AD 1A 23   			lda	_player_axis
 9426                        		__equ_b.uiq	1
         02:C265  C9 01      			cmp	#1
         02:C267  F0 01      			beq	!+
         02:C269  18         			clc
         02:C26A             	!:
 9427                        		__bfalse	.LL421
         02:C26A  B0 03 4C 5E			bcc	.LL421
         02:C26E  CA          
 9428                        	
 9429                        		.dbg	line,	"include\routines_LEVELS.c", 1060; {
 9430                        	
 9431                        		.dbg	line,	"include\routines_LEVELS.c", 1061; player_axis = AXIS_RIGHT;
 9432                        		__st.umiq	0, _player_axis
         02:C26F  9C 1A 23   			stz	_player_axis
 9433                        	
 9434                        		.dbg	line,	"include\routines_LEVELS.c", 1062; player_previous_axis = player_axis;
 9435                        		__ld.um		_player_axis
         02:C272  AD 1A 23   			lda	_player_axis
         02:C275  C2         			cly
 9436                        		__st.umq	_player_previous_axis
         02:C276  8D 1B 23   			sta	_player_previous_axis
 9437                        	
 9438                        		.dbg	line,	"include\routines_LEVELS.c", 1064; spr_set(player_id);
 9439                        		__ld.umq	_player_id
         02:C279  AD 18 23   			lda	_player_id
 9440                        		__call		_spr_set.1
         02:C27C  20 F1 E7   			call	_spr_set.1
 9441                        	
 9442                        		.dbg	line,	"include\routines_LEVELS.c", 1065; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 9443                        		__st.umiq	136, _al
         02:C27F  A9 88      			lda.l	#136
         02:C281  85 F8      			sta	_al
 9444                        		__ld.uiq	0
         02:C283  62         			cla
 9445                        		__call		_spr_ctrl.2
         02:C284  20 50 E8   			call	_spr_ctrl.2
 9446                        	
 9447                        		.dbg	line,	"include\routines_LEVELS.c", 1067; spr_set(chain_id);
 9448                        		__ld.umq	_chain_id
         02:C287  AD 26 23   			lda	_chain_id
 9449                        		__call		_spr_set.1
         02:C28A  20 F1 E7   			call	_spr_set.1
 9450                        	
 9451                        		.dbg	line,	"include\routines_LEVELS.c", 1068; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 9452                        		__st.umiq	136, _al
         02:C28D  A9 88      			lda.l	#136
         02:C28F  85 F8      			sta	_al
 9453                        		__ld.uiq	0
         02:C291  62         			cla
 9454                        		__call		_spr_ctrl.2
         02:C292  20 50 E8   			call	_spr_ctrl.2
 9455                        	
 9456                        		.dbg	line,	"include\routines_LEVELS.c", 1070; spr_set(chain_id+1);
 9457                        		__ld.um		_chain_id
         02:C295  AD 26 23   			lda	_chain_id
         02:C298  C2         			cly
 9458                        		__add.wi	1
         02:C299  1A         			inc	a
         02:C29A  D0 01      			bne	!+
         02:C29C  C8         			iny
         02:C29D             	!:
 9459                        		__call		_spr_set.1
         02:C29D  20 F1 E7   			call	_spr_set.1
 9460                        	
 9461                        		.dbg	line,	"include\routines_LEVELS.c", 1071; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 9462                        		__st.umiq	136, _al
         02:C2A0  A9 88      			lda.l	#136
         02:C2A2  85 F8      			sta	_al
 9463                        		__ld.uiq	0
         02:C2A4  62         			cla
 9464                        		__call		_spr_ctrl.2
         02:C2A5  20 50 E8   			call	_spr_ctrl.2
 9465                        	
 9466                        		.dbg	line,	"include\routines_LEVELS.c", 1073; spr_set(chain_id+2);
 9467                        		__ld.um		_chain_id
         02:C2A8  AD 26 23   			lda	_chain_id
         02:C2AB  C2         			cly
 9468                        		__add.wi	2
         02:C2AC  18         			clc
         02:C2AD  69 02      			adc.l	#2
         02:C2AF  90 01      			bcc	!+
         02:C2B1  C8         			iny
         02:C2B2             	!:
 9469                        		__call		_spr_set.1
         02:C2B2  20 F1 E7   			call	_spr_set.1
 9470                        	
 9471                        		.dbg	line,	"include\routines_LEVELS.c", 1074; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 9472                        		__st.umiq	136, _al
         02:C2B5  A9 88      			lda.l	#136
         02:C2B7  85 F8      			sta	_al
 9473                        		__ld.uiq	0
         02:C2B9  62         			cla
 9474                        		__call		_spr_ctrl.2
         02:C2BA  20 50 E8   			call	_spr_ctrl.2
 9475                        	
 9476                        		.dbg	line,	"include\routines_LEVELS.c", 1076; spr_set(weapon_id);
 9477                        		__ld.umq	_weapon_id
         02:C2BD  AD 27 23   			lda	_weapon_id
 9478                        		__call		_spr_set.1
         02:C2C0  20 F1 E7   			call	_spr_set.1
 9479                        	
 9480                        		.dbg	line,	"include\routines_LEVELS.c", 1077; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 9481                        		__st.umiq	136, _al
         02:C2C3  A9 88      			lda.l	#136
         02:C2C5  85 F8      			sta	_al
 9482                        		__ld.uiq	0
         02:C2C7  62         			cla
 9483                        		__call		_spr_ctrl.2
         02:C2C8  20 50 E8   			call	_spr_ctrl.2
 9484                        	
 9485                        		.dbg	line,	"include\routines_LEVELS.c", 1078; spr_x(player_pos_x-1);
 9486                        		__ld.wm		_player_pos_x
         02:C2CB  AD F6 24   			lda.l	_player_pos_x
         02:C2CE  AC F7 24   			ldy.h	_player_pos_x
 9487                        		__sub.wi	1
         02:C2D1  38         			sec
         02:C2D2  E9 01      			sbc.l	#1
         02:C2D4  B0 01      			bcs	!+
         02:C2D6  88         			dey
         02:C2D7             	!:
 9488                        		__call		_spr_x.1
         02:C2D7  20 1E E8   			call	_spr_x.1
 9489                        	
 9490                        		.dbg	line,	"include\routines_LEVELS.c", 1079; }
 9491                        	
 9492                        		.dbg	line,	"include\routines_LEVELS.c", 1080; }
 9493    02:C2DA             	.LL421	.alias		.LL422
 9494                        	
 9495                        		.dbg	line,	"include\routines_LEVELS.c", 1083; else if(player_state == STATE_FALL)
 9496                        		__bra		.LL422
         02:C2DA  4C 5E CA   			bra	.LL422
 9497    02:C2DD             	.LL420:
 9498                        		__ld.umq	_player_state
         02:C2DD  AD 19 23   			lda	_player_state
 9499                        		__equ_b.uiq	9
         02:C2E0  C9 09      			cmp	#9
         02:C2E2  F0 01      			beq	!+
         02:C2E4  18         			clc
         02:C2E5             	!:
 9500                        		__bfalse	.LL423
         02:C2E5  B0 03 4C 71			bcc	.LL423
         02:C2E9  C3          
 9501                        	
 9502                        		.dbg	line,	"include\routines_LEVELS.c", 1084; {
 9503                        	
 9504                        		.dbg	line,	"include\routines_LEVELS.c", 1085; if(player_attack == FALSE)
 9505                        		__not.um	_player_attack
         02:C2EA  AD 21 23   			lda	_player_attack
         02:C2ED  18         			clc
         02:C2EE  D0 01      			bne	!+
         02:C2F0  38         			sec
         02:C2F1             	!:
 9506                        		__bfalse	.LL424
         02:C2F1  B0 03 4C 5E			bcc	.LL424
         02:C2F5  CA          
 9507                        	
 9508                        		.dbg	line,	"include\routines_LEVELS.c", 1086; {
 9509                        	
 9510                        		.dbg	line,	"include\routines_LEVELS.c", 1087; if(player_axis == AXIS_LEFT)
 9511                        		__ld.umq	_player_axis
         02:C2F6  AD 1A 23   			lda	_player_axis
 9512                        		__equ_b.uiq	1
         02:C2F9  C9 01      			cmp	#1
         02:C2FB  F0 01      			beq	!+
         02:C2FD  18         			clc
         02:C2FE             	!:
 9513                        		__bfalse	.LL425
         02:C2FE  B0 03 4C 5E			bcc	.LL425
         02:C302  CA          
 9514                        	
 9515                        		.dbg	line,	"include\routines_LEVELS.c", 1088; {
 9516                        	
 9517                        		.dbg	line,	"include\routines_LEVELS.c", 1089; player_axis = AXIS_RIGHT;
 9518                        		__st.umiq	0, _player_axis
         02:C303  9C 1A 23   			stz	_player_axis
 9519                        	
 9520                        		.dbg	line,	"include\routines_LEVELS.c", 1090; player_previous_axis = player_axis;
 9521                        		__ld.um		_player_axis
         02:C306  AD 1A 23   			lda	_player_axis
         02:C309  C2         			cly
 9522                        		__st.umq	_player_previous_axis
         02:C30A  8D 1B 23   			sta	_player_previous_axis
 9523                        	
 9524                        		.dbg	line,	"include\routines_LEVELS.c", 1092; spr_set(player_id);
 9525                        		__ld.umq	_player_id
         02:C30D  AD 18 23   			lda	_player_id
 9526                        		__call		_spr_set.1
         02:C310  20 F1 E7   			call	_spr_set.1
 9527                        	
 9528                        		.dbg	line,	"include\routines_LEVELS.c", 1093; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 9529                        		__st.umiq	136, _al
         02:C313  A9 88      			lda.l	#136
         02:C315  85 F8      			sta	_al
 9530                        		__ld.uiq	0
         02:C317  62         			cla
 9531                        		__call		_spr_ctrl.2
         02:C318  20 50 E8   			call	_spr_ctrl.2
 9532                        	
 9533                        		.dbg	line,	"include\routines_LEVELS.c", 1095; spr_set(chain_id);
 9534                        		__ld.umq	_chain_id
         02:C31B  AD 26 23   			lda	_chain_id
 9535                        		__call		_spr_set.1
         02:C31E  20 F1 E7   			call	_spr_set.1
 9536                        	
 9537                        		.dbg	line,	"include\routines_LEVELS.c", 1096; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 9538                        		__st.umiq	136, _al
         02:C321  A9 88      			lda.l	#136
         02:C323  85 F8      			sta	_al
 9539                        		__ld.uiq	0
         02:C325  62         			cla
 9540                        		__call		_spr_ctrl.2
         02:C326  20 50 E8   			call	_spr_ctrl.2
 9541                        	
 9542                        		.dbg	line,	"include\routines_LEVELS.c", 1098; spr_set(chain_id+1);
 9543                        		__ld.um		_chain_id
         02:C329  AD 26 23   			lda	_chain_id
         02:C32C  C2         			cly
 9544                        		__add.wi	1
         02:C32D  1A         			inc	a
         02:C32E  D0 01      			bne	!+
         02:C330  C8         			iny
         02:C331             	!:
 9545                        		__call		_spr_set.1
         02:C331  20 F1 E7   			call	_spr_set.1
 9546                        	
 9547                        		.dbg	line,	"include\routines_LEVELS.c", 1099; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 9548                        		__st.umiq	136, _al
         02:C334  A9 88      			lda.l	#136
         02:C336  85 F8      			sta	_al
 9549                        		__ld.uiq	0
         02:C338  62         			cla
 9550                        		__call		_spr_ctrl.2
         02:C339  20 50 E8   			call	_spr_ctrl.2
 9551                        	
 9552                        		.dbg	line,	"include\routines_LEVELS.c", 1101; spr_set(chain_id+2);
 9553                        		__ld.um		_chain_id
         02:C33C  AD 26 23   			lda	_chain_id
         02:C33F  C2         			cly
 9554                        		__add.wi	2
         02:C340  18         			clc
         02:C341  69 02      			adc.l	#2
         02:C343  90 01      			bcc	!+
         02:C345  C8         			iny
         02:C346             	!:
 9555                        		__call		_spr_set.1
         02:C346  20 F1 E7   			call	_spr_set.1
 9556                        	
 9557                        		.dbg	line,	"include\routines_LEVELS.c", 1102; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 9558                        		__st.umiq	136, _al
         02:C349  A9 88      			lda.l	#136
         02:C34B  85 F8      			sta	_al
 9559                        		__ld.uiq	0
         02:C34D  62         			cla
 9560                        		__call		_spr_ctrl.2
         02:C34E  20 50 E8   			call	_spr_ctrl.2
 9561                        	
 9562                        		.dbg	line,	"include\routines_LEVELS.c", 1104; spr_set(weapon_id);
 9563                        		__ld.umq	_weapon_id
         02:C351  AD 27 23   			lda	_weapon_id
 9564                        		__call		_spr_set.1
         02:C354  20 F1 E7   			call	_spr_set.1
 9565                        	
 9566                        		.dbg	line,	"include\routines_LEVELS.c", 1105; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 9567                        		__st.umiq	136, _al
         02:C357  A9 88      			lda.l	#136
         02:C359  85 F8      			sta	_al
 9568                        		__ld.uiq	0
         02:C35B  62         			cla
 9569                        		__call		_spr_ctrl.2
         02:C35C  20 50 E8   			call	_spr_ctrl.2
 9570                        	
 9571                        		.dbg	line,	"include\routines_LEVELS.c", 1106; spr_x(player_pos_x-4);
 9572                        		__ld.wm		_player_pos_x
         02:C35F  AD F6 24   			lda.l	_player_pos_x
         02:C362  AC F7 24   			ldy.h	_player_pos_x
 9573                        		__sub.wi	4
         02:C365  38         			sec
         02:C366  E9 04      			sbc.l	#4
         02:C368  B0 01      			bcs	!+
         02:C36A  88         			dey
         02:C36B             	!:
 9574                        		__call		_spr_x.1
         02:C36B  20 1E E8   			call	_spr_x.1
 9575                        	
 9576                        		.dbg	line,	"include\routines_LEVELS.c", 1107; }
 9577                        	
 9578                        		.dbg	line,	"include\routines_LEVELS.c", 1108; }
 9579    02:C36E             	.LL425	.alias		.LL426
 9580                        	
 9581                        		.dbg	line,	"include\routines_LEVELS.c", 1109; }
 9582    02:C36E             	.LL424	.alias		.LL426
 9583                        	
 9584                        		.dbg	line,	"include\routines_LEVELS.c", 1112; else if(player_state == STATE_HANG)
 9585                        		__bra		.LL426
         02:C36E  4C 5E CA   			bra	.LL426
 9586    02:C371             	.LL423:
 9587                        		__ld.umq	_player_state
         02:C371  AD 19 23   			lda	_player_state
 9588                        		__equ_b.uiq	10
         02:C374  C9 0A      			cmp	#10
         02:C376  F0 01      			beq	!+
         02:C378  18         			clc
         02:C379             	!:
 9589                        		__bfalse	.LL427
         02:C379  B0 03 4C 05			bcc	.LL427
         02:C37D  C4          
 9590                        	
 9591                        		.dbg	line,	"include\routines_LEVELS.c", 1113; {
 9592                        	
 9593                        		.dbg	line,	"include\routines_LEVELS.c", 1114; if(player_attack == FALSE)
 9594                        		__not.um	_player_attack
         02:C37E  AD 21 23   			lda	_player_attack
         02:C381  18         			clc
         02:C382  D0 01      			bne	!+
         02:C384  38         			sec
         02:C385             	!:
 9595                        		__bfalse	.LL428
         02:C385  B0 03 4C 5E			bcc	.LL428
         02:C389  CA          
 9596                        	
 9597                        		.dbg	line,	"include\routines_LEVELS.c", 1115; {
 9598                        	
 9599                        		.dbg	line,	"include\routines_LEVELS.c", 1116; if(player_axis == AXIS_LEFT)
 9600                        		__ld.umq	_player_axis
         02:C38A  AD 1A 23   			lda	_player_axis
 9601                        		__equ_b.uiq	1
         02:C38D  C9 01      			cmp	#1
         02:C38F  F0 01      			beq	!+
         02:C391  18         			clc
         02:C392             	!:
 9602                        		__bfalse	.LL429
         02:C392  B0 03 4C 5E			bcc	.LL429
         02:C396  CA          
 9603                        	
 9604                        		.dbg	line,	"include\routines_LEVELS.c", 1117; {
 9605                        	
 9606                        		.dbg	line,	"include\routines_LEVELS.c", 1118; player_axis = AXIS_RIGHT;
 9607                        		__st.umiq	0, _player_axis
         02:C397  9C 1A 23   			stz	_player_axis
 9608                        	
 9609                        		.dbg	line,	"include\routines_LEVELS.c", 1119; player_previous_axis = player_axis;
 9610                        		__ld.um		_player_axis
         02:C39A  AD 1A 23   			lda	_player_axis
         02:C39D  C2         			cly
 9611                        		__st.umq	_player_previous_axis
         02:C39E  8D 1B 23   			sta	_player_previous_axis
 9612                        	
 9613                        		.dbg	line,	"include\routines_LEVELS.c", 1121; spr_set(player_id);
 9614                        		__ld.umq	_player_id
         02:C3A1  AD 18 23   			lda	_player_id
 9615                        		__call		_spr_set.1
         02:C3A4  20 F1 E7   			call	_spr_set.1
 9616                        	
 9617                        		.dbg	line,	"include\routines_LEVELS.c", 1122; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 9618                        		__st.umiq	136, _al
         02:C3A7  A9 88      			lda.l	#136
         02:C3A9  85 F8      			sta	_al
 9619                        		__ld.uiq	0
         02:C3AB  62         			cla
 9620                        		__call		_spr_ctrl.2
         02:C3AC  20 50 E8   			call	_spr_ctrl.2
 9621                        	
 9622                        		.dbg	line,	"include\routines_LEVELS.c", 1124; spr_set(chain_id);
 9623                        		__ld.umq	_chain_id
         02:C3AF  AD 26 23   			lda	_chain_id
 9624                        		__call		_spr_set.1
         02:C3B2  20 F1 E7   			call	_spr_set.1
 9625                        	
 9626                        		.dbg	line,	"include\routines_LEVELS.c", 1125; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 9627                        		__st.umiq	136, _al
         02:C3B5  A9 88      			lda.l	#136
         02:C3B7  85 F8      			sta	_al
 9628                        		__ld.uiq	0
         02:C3B9  62         			cla
 9629                        		__call		_spr_ctrl.2
         02:C3BA  20 50 E8   			call	_spr_ctrl.2
 9630                        	
 9631                        		.dbg	line,	"include\routines_LEVELS.c", 1127; spr_set(chain_id+1);
 9632                        		__ld.um		_chain_id
         02:C3BD  AD 26 23   			lda	_chain_id
         02:C3C0  C2         			cly
 9633                        		__add.wi	1
         02:C3C1  1A         			inc	a
         02:C3C2  D0 01      			bne	!+
         02:C3C4  C8         			iny
         02:C3C5             	!:
 9634                        		__call		_spr_set.1
         02:C3C5  20 F1 E7   			call	_spr_set.1
 9635                        	
 9636                        		.dbg	line,	"include\routines_LEVELS.c", 1128; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 9637                        		__st.umiq	136, _al
         02:C3C8  A9 88      			lda.l	#136
         02:C3CA  85 F8      			sta	_al
 9638                        		__ld.uiq	0
         02:C3CC  62         			cla
 9639                        		__call		_spr_ctrl.2
         02:C3CD  20 50 E8   			call	_spr_ctrl.2
 9640                        	
 9641                        		.dbg	line,	"include\routines_LEVELS.c", 1130; spr_set(chain_id+2);
 9642                        		__ld.um		_chain_id
         02:C3D0  AD 26 23   			lda	_chain_id
         02:C3D3  C2         			cly
 9643                        		__add.wi	2
         02:C3D4  18         			clc
         02:C3D5  69 02      			adc.l	#2
         02:C3D7  90 01      			bcc	!+
         02:C3D9  C8         			iny
         02:C3DA             	!:
 9644                        		__call		_spr_set.1
         02:C3DA  20 F1 E7   			call	_spr_set.1
 9645                        	
 9646                        		.dbg	line,	"include\routines_LEVELS.c", 1131; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 9647                        		__st.umiq	136, _al
         02:C3DD  A9 88      			lda.l	#136
         02:C3DF  85 F8      			sta	_al
 9648                        		__ld.uiq	0
         02:C3E1  62         			cla
 9649                        		__call		_spr_ctrl.2
         02:C3E2  20 50 E8   			call	_spr_ctrl.2
 9650                        	
 9651                        		.dbg	line,	"include\routines_LEVELS.c", 1133; spr_set(weapon_id);
 9652                        		__ld.umq	_weapon_id
         02:C3E5  AD 27 23   			lda	_weapon_id
 9653                        		__call		_spr_set.1
         02:C3E8  20 F1 E7   			call	_spr_set.1
 9654                        	
 9655                        		.dbg	line,	"include\routines_LEVELS.c", 1134; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 9656                        		__st.umiq	136, _al
         02:C3EB  A9 88      			lda.l	#136
         02:C3ED  85 F8      			sta	_al
 9657                        		__ld.uiq	0
         02:C3EF  62         			cla
 9658                        		__call		_spr_ctrl.2
         02:C3F0  20 50 E8   			call	_spr_ctrl.2
 9659                        	
 9660                        		.dbg	line,	"include\routines_LEVELS.c", 1135; spr_x(player_pos_x+17);
 9661                        		__ld.wm		_player_pos_x
         02:C3F3  AD F6 24   			lda.l	_player_pos_x
         02:C3F6  AC F7 24   			ldy.h	_player_pos_x
 9662                        		__add.wi	17
         02:C3F9  18         			clc
         02:C3FA  69 11      			adc.l	#17
         02:C3FC  90 01      			bcc	!+
         02:C3FE  C8         			iny
         02:C3FF             	!:
 9663                        		__call		_spr_x.1
         02:C3FF  20 1E E8   			call	_spr_x.1
 9664                        	
 9665                        		.dbg	line,	"include\routines_LEVELS.c", 1136; }
 9666                        	
 9667                        		.dbg	line,	"include\routines_LEVELS.c", 1137; }
 9668    02:C402             	.LL429	.alias		.LL430
 9669                        	
 9670                        		.dbg	line,	"include\routines_LEVELS.c", 1138; }
 9671    02:C402             	.LL428	.alias		.LL430
 9672                        	
 9673                        		.dbg	line,	"include\routines_LEVELS.c", 1141; else if(player_state == STATE_CLIMB_UP || player_state == STATE_CLIMB_DOWN)
 9674                        		__bra		.LL430
         02:C402  4C 5E CA   			bra	.LL430
 9675    02:C405             	.LL427:
 9676                        		__ld.umq	_player_state
         02:C405  AD 19 23   			lda	_player_state
 9677                        		__equ_b.uiq	11
         02:C408  C9 0B      			cmp	#11
         02:C40A  F0 01      			beq	!+
         02:C40C  18         			clc
         02:C40D             	!:
 9678                        		__btrue		.LL432
         02:C40D  B0 08      			bcs	.LL432
 9679                        		__ld.umq	_player_state
         02:C40F  AD 19 23   			lda	_player_state
 9680                        		__equ_b.uiq	12
         02:C412  C9 0C      			cmp	#12
         02:C414  F0 01      			beq	!+
         02:C416  18         			clc
         02:C417             	!:
 9681    02:C417             	.LL432:
 9682                        		__bfalse	.LL431
         02:C417  B0 03 4C 5E			bcc	.LL431
         02:C41B  CA          
 9683                        	
 9684                        		.dbg	line,	"include\routines_LEVELS.c", 1142; {
 9685                        	
 9686                        		.dbg	line,	"include\routines_LEVELS.c", 1143; spr_set(player_id);
 9687                        		__ld.umq	_player_id
         02:C41C  AD 18 23   			lda	_player_id
 9688                        		__call		_spr_set.1
         02:C41F  20 F1 E7   			call	_spr_set.1
 9689                        	
 9690                        		.dbg	line,	"include\routines_LEVELS.c", 1144; spr_pattern(PLAYER_HANG_VRAM_ADR);
 9691                        		__ld.wi		7424
         02:C422  62         			cla
         02:C423  A0 1D      			ldy.h	#7424
 9692                        		__call		_spr_pattern.1
         02:C425  20 3A E8   			call	_spr_pattern.1
 9693                        	
 9694                        		.dbg	line,	"include\routines_LEVELS.c", 1145; player_counter_anim = 0;
 9695                        		__st.umiq	0, _player_counter_anim
         02:C428  9C 1C 23   			stz	_player_counter_anim
 9696                        	
 9697                        		.dbg	line,	"include\routines_LEVELS.c", 1146; player_state = STATE_HANG;
 9698                        		__st.umiq	10, _player_state
         02:C42B  A9 0A      			lda.l	#10
         02:C42D  8D 19 23   			sta	_player_state
 9699                        	
 9700                        		.dbg	line,	"include\routines_LEVELS.c", 1147; }
 9701                        	
 9702                        		.dbg	line,	"include\routines_LEVELS.c", 1148; }
 9703    02:C430             	.LL431	.alias		.LL433
 9704    02:C430             	.LL430	.alias		.LL433
 9705    02:C430             	.LL426	.alias		.LL433
 9706    02:C430             	.LL422	.alias		.LL433
 9707    02:C430             	.LL419	.alias		.LL433
 9708    02:C430             	.LL416	.alias		.LL433
 9709    02:C430             	.LL410	.alias		.LL433
 9710                        	
 9711                        		.dbg	line,	"include\routines_LEVELS.c", 1151; //--------------------------------------------------------------------------------------//
 9712                        	
 9713                        		.dbg	line,	"include\routines_LEVELS.c", 1152; //                                     LEFT BUTTON                                      //
 9714                        	
 9715                        		.dbg	line,	"include\routines_LEVELS.c", 1153; //--------------------------------------------------------------------------------------//
 9716                        	
 9717                        		.dbg	line,	"include\routines_LEVELS.c", 1155; else if(joy(JOYPAD_1) & JOY_LEFT)
 9718                        		__bra		.LL433
         02:C430  4C 5E CA   			bra	.LL433
 9719    02:C433             	.LL405:
 9720                        		__ld.uiq	0
         02:C433  62         			cla
 9721                        		 _joy.1
         02:C434  AA         			tax
         02:C435  BD 28 22   			lda	joynow, x
         02:C438  BC D3 22   			ldy	joy6now, x
 9722                        		__tand.wi	128
         02:C43B  29 80      			and	#128
         02:C43D  C9 01      	!:		cmp	#1
 9723                        		__bfalse	.LL434
         02:C43F  B0 03 4C 07			bcc	.LL434
         02:C443  C8          
 9724                        	
 9725                        		.dbg	line,	"include\routines_LEVELS.c", 1156; {
 9726                        	
 9727                        		.dbg	line,	"include\routines_LEVELS.c", 1157; if(player_state == STATE_IDLE || player_state == STATE_WALK)
 9728                        		__not.um	_player_state
         02:C444  AD 19 23   			lda	_player_state
         02:C447  18         			clc
         02:C448  D0 01      			bne	!+
         02:C44A  38         			sec
         02:C44B             	!:
 9729                        		__btrue		.LL436
         02:C44B  B0 08      			bcs	.LL436
 9730                        		__ld.umq	_player_state
         02:C44D  AD 19 23   			lda	_player_state
 9731                        		__equ_b.uiq	1
         02:C450  C9 01      			cmp	#1
         02:C452  F0 01      			beq	!+
         02:C454  18         			clc
         02:C455             	!:
 9732    02:C455             	.LL436:
 9733                        		__bfalse	.LL435
         02:C455  B0 03 4C FB			bcc	.LL435
         02:C459  C4          
 9734                        	
 9735                        		.dbg	line,	"include\routines_LEVELS.c", 1158; {
 9736                        	
 9737                        		.dbg	line,	"include\routines_LEVELS.c", 1159; player_axis = AXIS_LEFT;
 9738                        		__st.umiq	1, _player_axis
         02:C45A  A9 01      			lda.l	#1
         02:C45C  8D 1A 23   			sta	_player_axis
 9739                        	
 9740                        		.dbg	line,	"include\routines_LEVELS.c", 1161; if(player_previous_axis != player_axis)
 9741                        		__ld.umq	_player_previous_axis
         02:C45F  AD 1B 23   			lda	_player_previous_axis
 9742                        		__neq_b.umq	_player_axis
         02:C462  38         			sec
         02:C463  4D 1A 23   			eor	_player_axis
         02:C466  D0 01      			bne	!+
         02:C468  18         			clc
         02:C469             	!:
 9743                        		__bfalse	.LL437
         02:C469  90 6D      			bcc	.LL437
 9744                        	
 9745                        		.dbg	line,	"include\routines_LEVELS.c", 1162; {
 9746                        	
 9747                        		.dbg	line,	"include\routines_LEVELS.c", 1163; player_previous_axis = player_axis;
 9748                        		__ld.um		_player_axis
         02:C46B  AD 1A 23   			lda	_player_axis
         02:C46E  C2         			cly
 9749                        		__st.umq	_player_previous_axis
         02:C46F  8D 1B 23   			sta	_player_previous_axis
 9750                        	
 9751                        		.dbg	line,	"include\routines_LEVELS.c", 1165; spr_set(player_id);
 9752                        		__ld.umq	_player_id
         02:C472  AD 18 23   			lda	_player_id
 9753                        		__call		_spr_set.1
         02:C475  20 F1 E7   			call	_spr_set.1
 9754                        	
 9755                        		.dbg	line,	"include\routines_LEVELS.c", 1166; spr_ctrl(FLIP_MAS, FLIP_X);
 9756                        		__st.umiq	136, _al
         02:C478  A9 88      			lda.l	#136
         02:C47A  85 F8      			sta	_al
 9757                        		__ld.uiq	8
         02:C47C  A9 08      			lda	#8
 9758                        		__call		_spr_ctrl.2
         02:C47E  20 50 E8   			call	_spr_ctrl.2
 9759                        	
 9760                        		.dbg	line,	"include\routines_LEVELS.c", 1168; spr_set(chain_id);
 9761                        		__ld.umq	_chain_id
         02:C481  AD 26 23   			lda	_chain_id
 9762                        		__call		_spr_set.1
         02:C484  20 F1 E7   			call	_spr_set.1
 9763                        	
 9764                        		.dbg	line,	"include\routines_LEVELS.c", 1169; spr_ctrl(FLIP_MAS, FLIP_X);
 9765                        		__st.umiq	136, _al
         02:C487  A9 88      			lda.l	#136
         02:C489  85 F8      			sta	_al
 9766                        		__ld.uiq	8
         02:C48B  A9 08      			lda	#8
 9767                        		__call		_spr_ctrl.2
         02:C48D  20 50 E8   			call	_spr_ctrl.2
 9768                        	
 9769                        		.dbg	line,	"include\routines_LEVELS.c", 1171; spr_set(chain_id+1);
 9770                        		__ld.um		_chain_id
         02:C490  AD 26 23   			lda	_chain_id
         02:C493  C2         			cly
 9771                        		__add.wi	1
         02:C494  1A         			inc	a
         02:C495  D0 01      			bne	!+
         02:C497  C8         			iny
         02:C498             	!:
 9772                        		__call		_spr_set.1
         02:C498  20 F1 E7   			call	_spr_set.1
 9773                        	
 9774                        		.dbg	line,	"include\routines_LEVELS.c", 1172; spr_ctrl(FLIP_MAS, FLIP_X);
 9775                        		__st.umiq	136, _al
         02:C49B  A9 88      			lda.l	#136
         02:C49D  85 F8      			sta	_al
 9776                        		__ld.uiq	8
         02:C49F  A9 08      			lda	#8
 9777                        		__call		_spr_ctrl.2
         02:C4A1  20 50 E8   			call	_spr_ctrl.2
 9778                        	
 9779                        		.dbg	line,	"include\routines_LEVELS.c", 1174; spr_set(chain_id+2);
 9780                        		__ld.um		_chain_id
         02:C4A4  AD 26 23   			lda	_chain_id
         02:C4A7  C2         			cly
 9781                        		__add.wi	2
         02:C4A8  18         			clc
         02:C4A9  69 02      			adc.l	#2
         02:C4AB  90 01      			bcc	!+
         02:C4AD  C8         			iny
         02:C4AE             	!:
 9782                        		__call		_spr_set.1
         02:C4AE  20 F1 E7   			call	_spr_set.1
 9783                        	
 9784                        		.dbg	line,	"include\routines_LEVELS.c", 1175; spr_ctrl(FLIP_MAS, FLIP_X);
 9785                        		__st.umiq	136, _al
         02:C4B1  A9 88      			lda.l	#136
         02:C4B3  85 F8      			sta	_al
 9786                        		__ld.uiq	8
         02:C4B5  A9 08      			lda	#8
 9787                        		__call		_spr_ctrl.2
         02:C4B7  20 50 E8   			call	_spr_ctrl.2
 9788                        	
 9789                        		.dbg	line,	"include\routines_LEVELS.c", 1177; spr_set(weapon_id);
 9790                        		__ld.umq	_weapon_id
         02:C4BA  AD 27 23   			lda	_weapon_id
 9791                        		__call		_spr_set.1
         02:C4BD  20 F1 E7   			call	_spr_set.1
 9792                        	
 9793                        		.dbg	line,	"include\routines_LEVELS.c", 1178; spr_ctrl(FLIP_MAS, FLIP_X);
 9794                        		__st.umiq	136, _al
         02:C4C0  A9 88      			lda.l	#136
         02:C4C2  85 F8      			sta	_al
 9795                        		__ld.uiq	8
         02:C4C4  A9 08      			lda	#8
 9796                        		__call		_spr_ctrl.2
         02:C4C6  20 50 E8   			call	_spr_ctrl.2
 9797                        	
 9798                        		.dbg	line,	"include\routines_LEVELS.c", 1179; spr_x(player_pos_x+15);
 9799                        		__ld.wm		_player_pos_x
         02:C4C9  AD F6 24   			lda.l	_player_pos_x
         02:C4CC  AC F7 24   			ldy.h	_player_pos_x
 9800                        		__add.wi	15
         02:C4CF  18         			clc
         02:C4D0  69 0F      			adc.l	#15
         02:C4D2  90 01      			bcc	!+
         02:C4D4  C8         			iny
         02:C4D5             	!:
 9801                        		__call		_spr_x.1
         02:C4D5  20 1E E8   			call	_spr_x.1
 9802                        	
 9803                        		.dbg	line,	"include\routines_LEVELS.c", 1180; }
 9804                        	
 9805                        		.dbg	line,	"include\routines_LEVELS.c", 1182; if(joy(JOYPAD_1) & JOY_DOWN)
 9806    02:C4D8             	.LL437:
 9807                        		__ld.uiq	0
         02:C4D8  62         			cla
 9808                        		 _joy.1
         02:C4D9  AA         			tax
         02:C4DA  BD 28 22   			lda	joynow, x
         02:C4DD  BC D3 22   			ldy	joy6now, x
 9809                        		__tand.wi	64
         02:C4E0  29 40      			and	#64
         02:C4E2  C9 01      	!:		cmp	#1
 9810                        		__bfalse	.LL438
         02:C4E4  90 0D      			bcc	.LL438
 9811                        	
 9812                        		.dbg	line,	"include\routines_LEVELS.c", 1183; {
 9813                        	
 9814                        		.dbg	line,	"include\routines_LEVELS.c", 1184; player_counter_anim = 1;
 9815                        		__st.umiq	1, _player_counter_anim
         02:C4E6  A9 01      			lda.l	#1
         02:C4E8  8D 1C 23   			sta	_player_counter_anim
 9816                        	
 9817                        		.dbg	line,	"include\routines_LEVELS.c", 1185; player_state = STATE_CROUCH;
 9818                        		__st.umiq	7, _player_state
         02:C4EB  A9 07      			lda.l	#7
         02:C4ED  8D 19 23   			sta	_player_state
 9819                        	
 9820                        		.dbg	line,	"include\routines_LEVELS.c", 1186; return;
 9821                        		__bra		.LL396
         02:C4F0  4C 5E CA   			bra	.LL396
 9822                        	
 9823                        		.dbg	line,	"include\routines_LEVELS.c", 1187; }
 9824                        	
 9825                        		.dbg	line,	"include\routines_LEVELS.c", 1189; player_state = STATE_WALK;
 9826    02:C4F3             	.LL438:
 9827                        		__st.umiq	1, _player_state
         02:C4F3  A9 01      			lda.l	#1
         02:C4F5  8D 19 23   			sta	_player_state
 9828                        	
 9829                        		.dbg	line,	"include\routines_LEVELS.c", 1190; }
 9830                        	
 9831                        		.dbg	line,	"include\routines_LEVELS.c", 1193; else if(player_state == STATE_JUMP)
 9832                        		__bra		.LL439
         02:C4F8  4C 5E CA   			bra	.LL439
 9833    02:C4FB             	.LL435:
 9834                        		__ld.umq	_player_state
         02:C4FB  AD 19 23   			lda	_player_state
 9835                        		__equ_b.uiq	4
         02:C4FE  C9 04      			cmp	#4
         02:C500  F0 01      			beq	!+
         02:C502  18         			clc
         02:C503             	!:
 9836                        		__bfalse	.LL440
         02:C503  B0 03 4C A1			bcc	.LL440
         02:C507  C5          
 9837                        	
 9838                        		.dbg	line,	"include\routines_LEVELS.c", 1194; {
 9839                        	
 9840                        		.dbg	line,	"include\routines_LEVELS.c", 1195; if(player_axis == AXIS_RIGHT)
 9841                        		__not.um	_player_axis
         02:C508  AD 1A 23   			lda	_player_axis
         02:C50B  18         			clc
         02:C50C  D0 01      			bne	!+
         02:C50E  38         			sec
         02:C50F             	!:
 9842                        		__bfalse	.LL441
         02:C50F  90 72      			bcc	.LL441
 9843                        	
 9844                        		.dbg	line,	"include\routines_LEVELS.c", 1196; {
 9845                        	
 9846                        		.dbg	line,	"include\routines_LEVELS.c", 1197; player_axis = AXIS_LEFT;
 9847                        		__st.umiq	1, _player_axis
         02:C511  A9 01      			lda.l	#1
         02:C513  8D 1A 23   			sta	_player_axis
 9848                        	
 9849                        		.dbg	line,	"include\routines_LEVELS.c", 1198; player_previous_axis = player_axis;
 9850                        		__ld.um		_player_axis
         02:C516  AD 1A 23   			lda	_player_axis
         02:C519  C2         			cly
 9851                        		__st.umq	_player_previous_axis
         02:C51A  8D 1B 23   			sta	_player_previous_axis
 9852                        	
 9853                        		.dbg	line,	"include\routines_LEVELS.c", 1200; spr_set(player_id);
 9854                        		__ld.umq	_player_id
         02:C51D  AD 18 23   			lda	_player_id
 9855                        		__call		_spr_set.1
         02:C520  20 F1 E7   			call	_spr_set.1
 9856                        	
 9857                        		.dbg	line,	"include\routines_LEVELS.c", 1201; spr_ctrl(FLIP_MAS, FLIP_X);
 9858                        		__st.umiq	136, _al
         02:C523  A9 88      			lda.l	#136
         02:C525  85 F8      			sta	_al
 9859                        		__ld.uiq	8
         02:C527  A9 08      			lda	#8
 9860                        		__call		_spr_ctrl.2
         02:C529  20 50 E8   			call	_spr_ctrl.2
 9861                        	
 9862                        		.dbg	line,	"include\routines_LEVELS.c", 1203; spr_set(chain_id);
 9863                        		__ld.umq	_chain_id
         02:C52C  AD 26 23   			lda	_chain_id
 9864                        		__call		_spr_set.1
         02:C52F  20 F1 E7   			call	_spr_set.1
 9865                        	
 9866                        		.dbg	line,	"include\routines_LEVELS.c", 1204; spr_ctrl(FLIP_MAS, FLIP_X);
 9867                        		__st.umiq	136, _al
         02:C532  A9 88      			lda.l	#136
         02:C534  85 F8      			sta	_al
 9868                        		__ld.uiq	8
         02:C536  A9 08      			lda	#8
 9869                        		__call		_spr_ctrl.2
         02:C538  20 50 E8   			call	_spr_ctrl.2
 9870                        	
 9871                        		.dbg	line,	"include\routines_LEVELS.c", 1206; spr_set(chain_id+1);
 9872                        		__ld.um		_chain_id
         02:C53B  AD 26 23   			lda	_chain_id
         02:C53E  C2         			cly
 9873                        		__add.wi	1
         02:C53F  1A         			inc	a
         02:C540  D0 01      			bne	!+
         02:C542  C8         			iny
         02:C543             	!:
 9874                        		__call		_spr_set.1
         02:C543  20 F1 E7   			call	_spr_set.1
 9875                        	
 9876                        		.dbg	line,	"include\routines_LEVELS.c", 1207; spr_ctrl(FLIP_MAS, FLIP_X);
 9877                        		__st.umiq	136, _al
         02:C546  A9 88      			lda.l	#136
         02:C548  85 F8      			sta	_al
 9878                        		__ld.uiq	8
         02:C54A  A9 08      			lda	#8
 9879                        		__call		_spr_ctrl.2
         02:C54C  20 50 E8   			call	_spr_ctrl.2
 9880                        	
 9881                        		.dbg	line,	"include\routines_LEVELS.c", 1209; spr_set(chain_id+2);
 9882                        		__ld.um		_chain_id
         02:C54F  AD 26 23   			lda	_chain_id
         02:C552  C2         			cly
 9883                        		__add.wi	2
         02:C553  18         			clc
         02:C554  69 02      			adc.l	#2
         02:C556  90 01      			bcc	!+
         02:C558  C8         			iny
         02:C559             	!:
 9884                        		__call		_spr_set.1
         02:C559  20 F1 E7   			call	_spr_set.1
 9885                        	
 9886                        		.dbg	line,	"include\routines_LEVELS.c", 1210; spr_ctrl(FLIP_MAS, FLIP_X);
 9887                        		__st.umiq	136, _al
         02:C55C  A9 88      			lda.l	#136
         02:C55E  85 F8      			sta	_al
 9888                        		__ld.uiq	8
         02:C560  A9 08      			lda	#8
 9889                        		__call		_spr_ctrl.2
         02:C562  20 50 E8   			call	_spr_ctrl.2
 9890                        	
 9891                        		.dbg	line,	"include\routines_LEVELS.c", 1212; spr_set(weapon_id);
 9892                        		__ld.umq	_weapon_id
         02:C565  AD 27 23   			lda	_weapon_id
 9893                        		__call		_spr_set.1
         02:C568  20 F1 E7   			call	_spr_set.1
 9894                        	
 9895                        		.dbg	line,	"include\routines_LEVELS.c", 1213; spr_ctrl(FLIP_MAS, FLIP_X);
 9896                        		__st.umiq	136, _al
         02:C56B  A9 88      			lda.l	#136
         02:C56D  85 F8      			sta	_al
 9897                        		__ld.uiq	8
         02:C56F  A9 08      			lda	#8
 9898                        		__call		_spr_ctrl.2
         02:C571  20 50 E8   			call	_spr_ctrl.2
 9899                        	
 9900                        		.dbg	line,	"include\routines_LEVELS.c", 1214; spr_x(player_pos_x+21);
 9901                        		__ld.wm		_player_pos_x
         02:C574  AD F6 24   			lda.l	_player_pos_x
         02:C577  AC F7 24   			ldy.h	_player_pos_x
 9902                        		__add.wi	21
         02:C57A  18         			clc
         02:C57B  69 15      			adc.l	#21
         02:C57D  90 01      			bcc	!+
         02:C57F  C8         			iny
         02:C580             	!:
 9903                        		__call		_spr_x.1
         02:C580  20 1E E8   			call	_spr_x.1
 9904                        	
 9905                        		.dbg	line,	"include\routines_LEVELS.c", 1215; }
 9906                        	
 9907                        		.dbg	line,	"include\routines_LEVELS.c", 1217; if(player_index_jump > 11 && player_index_jump < 15)
 9908    02:C583             	.LL441:
 9909                        		__ld.umq	_player_index_jump
         02:C583  AD 1D 23   			lda	_player_index_jump
 9910                        		__ugt_b.uiq	11
         02:C586  18         			clc			; Subtract integer+1 from A.
         02:C587  E9 0B      			sbc	#11		; CS if A > integer.
 9911                        		__bfalse	.LL443
         02:C589  90 09      			bcc	.LL443
 9912                        		__ld.umq	_player_index_jump
         02:C58B  AD 1D 23   			lda	_player_index_jump
 9913                        		__ult_b.uiq	15
         02:C58E  C9 0F      			cmp	#15		; Subtract integer from A.
         02:C590  6A         			ror	a		; CC if A < integer.
         02:C591  49 80      			eor	#$80
         02:C593  2A         			rol	a
 9914    02:C594             	.LL443:
 9915                        		__bfalse	.LL442
         02:C594  B0 03 4C 5E			bcc	.LL442
         02:C598  CA          
 9916                        	
 9917                        		.dbg	line,	"include\routines_LEVELS.c", 1218; {
 9918                        	
 9919                        		.dbg	line,	"include\routines_LEVELS.c", 1219; player_state = STATE_JUMP_LEFT;                        
 9920                        		__st.umiq	6, _player_state
         02:C599  A9 06      			lda.l	#6
         02:C59B  8D 19 23   			sta	_player_state
 9921                        	
 9922                        		.dbg	line,	"include\routines_LEVELS.c", 1220; }
 9923                        	
 9924                        		.dbg	line,	"include\routines_LEVELS.c", 1221; }
 9925    02:C59E             	.LL442	.alias		.LL444
 9926                        	
 9927                        		.dbg	line,	"include\routines_LEVELS.c", 1224; else if(player_state == STATE_JUMP_RIGHT)
 9928                        		__bra		.LL444
         02:C59E  4C 5E CA   			bra	.LL444
 9929    02:C5A1             	.LL440:
 9930                        		__ld.umq	_player_state
         02:C5A1  AD 19 23   			lda	_player_state
 9931                        		__equ_b.uiq	5
         02:C5A4  C9 05      			cmp	#5
         02:C5A6  F0 01      			beq	!+
         02:C5A8  18         			clc
         02:C5A9             	!:
 9932                        		__bfalse	.LL445
         02:C5A9  B0 03 4C 2F			bcc	.LL445
         02:C5AD  C6          
 9933                        	
 9934                        		.dbg	line,	"include\routines_LEVELS.c", 1225; {
 9935                        	
 9936                        		.dbg	line,	"include\routines_LEVELS.c", 1226; if(player_axis == AXIS_RIGHT)
 9937                        		__not.um	_player_axis
         02:C5AE  AD 1A 23   			lda	_player_axis
         02:C5B1  18         			clc
         02:C5B2  D0 01      			bne	!+
         02:C5B4  38         			sec
         02:C5B5             	!:
 9938                        		__bfalse	.LL446
         02:C5B5  B0 03 4C 5E			bcc	.LL446
         02:C5B9  CA          
 9939                        	
 9940                        		.dbg	line,	"include\routines_LEVELS.c", 1227; {
 9941                        	
 9942                        		.dbg	line,	"include\routines_LEVELS.c", 1228; player_axis = AXIS_LEFT;
 9943                        		__st.umiq	1, _player_axis
         02:C5BA  A9 01      			lda.l	#1
         02:C5BC  8D 1A 23   			sta	_player_axis
 9944                        	
 9945                        		.dbg	line,	"include\routines_LEVELS.c", 1229; player_previous_axis = player_axis;
 9946                        		__ld.um		_player_axis
         02:C5BF  AD 1A 23   			lda	_player_axis
         02:C5C2  C2         			cly
 9947                        		__st.umq	_player_previous_axis
         02:C5C3  8D 1B 23   			sta	_player_previous_axis
 9948                        	
 9949                        		.dbg	line,	"include\routines_LEVELS.c", 1231; spr_set(player_id);
 9950                        		__ld.umq	_player_id
         02:C5C6  AD 18 23   			lda	_player_id
 9951                        		__call		_spr_set.1
         02:C5C9  20 F1 E7   			call	_spr_set.1
 9952                        	
 9953                        		.dbg	line,	"include\routines_LEVELS.c", 1232; spr_ctrl(FLIP_MAS, FLIP_X);
 9954                        		__st.umiq	136, _al
         02:C5CC  A9 88      			lda.l	#136
         02:C5CE  85 F8      			sta	_al
 9955                        		__ld.uiq	8
         02:C5D0  A9 08      			lda	#8
 9956                        		__call		_spr_ctrl.2
         02:C5D2  20 50 E8   			call	_spr_ctrl.2
 9957                        	
 9958                        		.dbg	line,	"include\routines_LEVELS.c", 1234; spr_set(chain_id);
 9959                        		__ld.umq	_chain_id
         02:C5D5  AD 26 23   			lda	_chain_id
 9960                        		__call		_spr_set.1
         02:C5D8  20 F1 E7   			call	_spr_set.1
 9961                        	
 9962                        		.dbg	line,	"include\routines_LEVELS.c", 1235; spr_ctrl(FLIP_MAS, FLIP_X);
 9963                        		__st.umiq	136, _al
         02:C5DB  A9 88      			lda.l	#136
         02:C5DD  85 F8      			sta	_al
 9964                        		__ld.uiq	8
         02:C5DF  A9 08      			lda	#8
 9965                        		__call		_spr_ctrl.2
         02:C5E1  20 50 E8   			call	_spr_ctrl.2
 9966                        	
 9967                        		.dbg	line,	"include\routines_LEVELS.c", 1237; spr_set(chain_id+1);
 9968                        		__ld.um		_chain_id
         02:C5E4  AD 26 23   			lda	_chain_id
         02:C5E7  C2         			cly
 9969                        		__add.wi	1
         02:C5E8  1A         			inc	a
         02:C5E9  D0 01      			bne	!+
         02:C5EB  C8         			iny
         02:C5EC             	!:
 9970                        		__call		_spr_set.1
         02:C5EC  20 F1 E7   			call	_spr_set.1
 9971                        	
 9972                        		.dbg	line,	"include\routines_LEVELS.c", 1238; spr_ctrl(FLIP_MAS, FLIP_X);
 9973                        		__st.umiq	136, _al
         02:C5EF  A9 88      			lda.l	#136
         02:C5F1  85 F8      			sta	_al
 9974                        		__ld.uiq	8
         02:C5F3  A9 08      			lda	#8
 9975                        		__call		_spr_ctrl.2
         02:C5F5  20 50 E8   			call	_spr_ctrl.2
 9976                        	
 9977                        		.dbg	line,	"include\routines_LEVELS.c", 1240; spr_set(chain_id+2);
 9978                        		__ld.um		_chain_id
         02:C5F8  AD 26 23   			lda	_chain_id
         02:C5FB  C2         			cly
 9979                        		__add.wi	2
         02:C5FC  18         			clc
         02:C5FD  69 02      			adc.l	#2
         02:C5FF  90 01      			bcc	!+
         02:C601  C8         			iny
         02:C602             	!:
 9980                        		__call		_spr_set.1
         02:C602  20 F1 E7   			call	_spr_set.1
 9981                        	
 9982                        		.dbg	line,	"include\routines_LEVELS.c", 1241; spr_ctrl(FLIP_MAS, FLIP_X);
 9983                        		__st.umiq	136, _al
         02:C605  A9 88      			lda.l	#136
         02:C607  85 F8      			sta	_al
 9984                        		__ld.uiq	8
         02:C609  A9 08      			lda	#8
 9985                        		__call		_spr_ctrl.2
         02:C60B  20 50 E8   			call	_spr_ctrl.2
 9986                        	
 9987                        		.dbg	line,	"include\routines_LEVELS.c", 1243; spr_set(weapon_id);
 9988                        		__ld.umq	_weapon_id
         02:C60E  AD 27 23   			lda	_weapon_id
 9989                        		__call		_spr_set.1
         02:C611  20 F1 E7   			call	_spr_set.1
 9990                        	
 9991                        		.dbg	line,	"include\routines_LEVELS.c", 1244; spr_ctrl(FLIP_MAS, FLIP_X);
 9992                        		__st.umiq	136, _al
         02:C614  A9 88      			lda.l	#136
         02:C616  85 F8      			sta	_al
 9993                        		__ld.uiq	8
         02:C618  A9 08      			lda	#8
 9994                        		__call		_spr_ctrl.2
         02:C61A  20 50 E8   			call	_spr_ctrl.2
 9995                        	
 9996                        		.dbg	line,	"include\routines_LEVELS.c", 1245; spr_x(player_pos_x+21);
 9997                        		__ld.wm		_player_pos_x
         02:C61D  AD F6 24   			lda.l	_player_pos_x
         02:C620  AC F7 24   			ldy.h	_player_pos_x
 9998                        		__add.wi	21
         02:C623  18         			clc
         02:C624  69 15      			adc.l	#21
         02:C626  90 01      			bcc	!+
         02:C628  C8         			iny
         02:C629             	!:
 9999                        		__call		_spr_x.1
         02:C629  20 1E E8   			call	_spr_x.1
10000                        	
10001                        		.dbg	line,	"include\routines_LEVELS.c", 1246; }
10002                        	
10003                        		.dbg	line,	"include\routines_LEVELS.c", 1247; }
10004    02:C62C             	.LL446	.alias		.LL447
10005                        	
10006                        		.dbg	line,	"include\routines_LEVELS.c", 1250; else if(player_state == STATE_CROUCH)
10007                        		__bra		.LL447
         02:C62C  4C 5E CA   			bra	.LL447
10008    02:C62F             	.LL445:
10009                        		__ld.umq	_player_state
         02:C62F  AD 19 23   			lda	_player_state
10010                        		__equ_b.uiq	7
         02:C632  C9 07      			cmp	#7
         02:C634  F0 01      			beq	!+
         02:C636  18         			clc
         02:C637             	!:
10011                        		__bfalse	.LL448
         02:C637  B0 03 4C BD			bcc	.LL448
         02:C63B  C6          
10012                        	
10013                        		.dbg	line,	"include\routines_LEVELS.c", 1251; {
10014                        	
10015                        		.dbg	line,	"include\routines_LEVELS.c", 1252; if(player_axis == AXIS_RIGHT)
10016                        		__not.um	_player_axis
         02:C63C  AD 1A 23   			lda	_player_axis
         02:C63F  18         			clc
         02:C640  D0 01      			bne	!+
         02:C642  38         			sec
         02:C643             	!:
10017                        		__bfalse	.LL449
         02:C643  B0 03 4C 5E			bcc	.LL449
         02:C647  CA          
10018                        	
10019                        		.dbg	line,	"include\routines_LEVELS.c", 1253; {
10020                        	
10021                        		.dbg	line,	"include\routines_LEVELS.c", 1254; player_axis = AXIS_LEFT;
10022                        		__st.umiq	1, _player_axis
         02:C648  A9 01      			lda.l	#1
         02:C64A  8D 1A 23   			sta	_player_axis
10023                        	
10024                        		.dbg	line,	"include\routines_LEVELS.c", 1255; player_previous_axis = player_axis;
10025                        		__ld.um		_player_axis
         02:C64D  AD 1A 23   			lda	_player_axis
         02:C650  C2         			cly
10026                        		__st.umq	_player_previous_axis
         02:C651  8D 1B 23   			sta	_player_previous_axis
10027                        	
10028                        		.dbg	line,	"include\routines_LEVELS.c", 1257; spr_set(player_id);
10029                        		__ld.umq	_player_id
         02:C654  AD 18 23   			lda	_player_id
10030                        		__call		_spr_set.1
         02:C657  20 F1 E7   			call	_spr_set.1
10031                        	
10032                        		.dbg	line,	"include\routines_LEVELS.c", 1258; spr_ctrl(FLIP_MAS, FLIP_X);
10033                        		__st.umiq	136, _al
         02:C65A  A9 88      			lda.l	#136
         02:C65C  85 F8      			sta	_al
10034                        		__ld.uiq	8
         02:C65E  A9 08      			lda	#8
10035                        		__call		_spr_ctrl.2
         02:C660  20 50 E8   			call	_spr_ctrl.2
10036                        	
10037                        		.dbg	line,	"include\routines_LEVELS.c", 1260; spr_set(chain_id);
10038                        		__ld.umq	_chain_id
         02:C663  AD 26 23   			lda	_chain_id
10039                        		__call		_spr_set.1
         02:C666  20 F1 E7   			call	_spr_set.1
10040                        	
10041                        		.dbg	line,	"include\routines_LEVELS.c", 1261; spr_ctrl(FLIP_MAS, FLIP_X);
10042                        		__st.umiq	136, _al
         02:C669  A9 88      			lda.l	#136
         02:C66B  85 F8      			sta	_al
10043                        		__ld.uiq	8
         02:C66D  A9 08      			lda	#8
10044                        		__call		_spr_ctrl.2
         02:C66F  20 50 E8   			call	_spr_ctrl.2
10045                        	
10046                        		.dbg	line,	"include\routines_LEVELS.c", 1263; spr_set(chain_id+1);
10047                        		__ld.um		_chain_id
         02:C672  AD 26 23   			lda	_chain_id
         02:C675  C2         			cly
10048                        		__add.wi	1
         02:C676  1A         			inc	a
         02:C677  D0 01      			bne	!+
         02:C679  C8         			iny
         02:C67A             	!:
10049                        		__call		_spr_set.1
         02:C67A  20 F1 E7   			call	_spr_set.1
10050                        	
10051                        		.dbg	line,	"include\routines_LEVELS.c", 1264; spr_ctrl(FLIP_MAS, FLIP_X);
10052                        		__st.umiq	136, _al
         02:C67D  A9 88      			lda.l	#136
         02:C67F  85 F8      			sta	_al
10053                        		__ld.uiq	8
         02:C681  A9 08      			lda	#8
10054                        		__call		_spr_ctrl.2
         02:C683  20 50 E8   			call	_spr_ctrl.2
10055                        	
10056                        		.dbg	line,	"include\routines_LEVELS.c", 1266; spr_set(chain_id+2);
10057                        		__ld.um		_chain_id
         02:C686  AD 26 23   			lda	_chain_id
         02:C689  C2         			cly
10058                        		__add.wi	2
         02:C68A  18         			clc
         02:C68B  69 02      			adc.l	#2
         02:C68D  90 01      			bcc	!+
         02:C68F  C8         			iny
         02:C690             	!:
10059                        		__call		_spr_set.1
         02:C690  20 F1 E7   			call	_spr_set.1
10060                        	
10061                        		.dbg	line,	"include\routines_LEVELS.c", 1267; spr_ctrl(FLIP_MAS, FLIP_X);
10062                        		__st.umiq	136, _al
         02:C693  A9 88      			lda.l	#136
         02:C695  85 F8      			sta	_al
10063                        		__ld.uiq	8
         02:C697  A9 08      			lda	#8
10064                        		__call		_spr_ctrl.2
         02:C699  20 50 E8   			call	_spr_ctrl.2
10065                        	
10066                        		.dbg	line,	"include\routines_LEVELS.c", 1269; spr_set(weapon_id);
10067                        		__ld.umq	_weapon_id
         02:C69C  AD 27 23   			lda	_weapon_id
10068                        		__call		_spr_set.1
         02:C69F  20 F1 E7   			call	_spr_set.1
10069                        	
10070                        		.dbg	line,	"include\routines_LEVELS.c", 1270; spr_ctrl(FLIP_MAS, FLIP_X);
10071                        		__st.umiq	136, _al
         02:C6A2  A9 88      			lda.l	#136
         02:C6A4  85 F8      			sta	_al
10072                        		__ld.uiq	8
         02:C6A6  A9 08      			lda	#8
10073                        		__call		_spr_ctrl.2
         02:C6A8  20 50 E8   			call	_spr_ctrl.2
10074                        	
10075                        		.dbg	line,	"include\routines_LEVELS.c", 1271; spr_x(player_pos_x+17);
10076                        		__ld.wm		_player_pos_x
         02:C6AB  AD F6 24   			lda.l	_player_pos_x
         02:C6AE  AC F7 24   			ldy.h	_player_pos_x
10077                        		__add.wi	17
         02:C6B1  18         			clc
         02:C6B2  69 11      			adc.l	#17
         02:C6B4  90 01      			bcc	!+
         02:C6B6  C8         			iny
         02:C6B7             	!:
10078                        		__call		_spr_x.1
         02:C6B7  20 1E E8   			call	_spr_x.1
10079                        	
10080                        		.dbg	line,	"include\routines_LEVELS.c", 1272; }
10081                        	
10082                        		.dbg	line,	"include\routines_LEVELS.c", 1273; }
10083    02:C6BA             	.LL449	.alias		.LL450
10084                        	
10085                        		.dbg	line,	"include\routines_LEVELS.c", 1276; else if(player_state == STATE_FALL)
10086                        		__bra		.LL450
         02:C6BA  4C 5E CA   			bra	.LL450
10087    02:C6BD             	.LL448:
10088                        		__ld.umq	_player_state
         02:C6BD  AD 19 23   			lda	_player_state
10089                        		__equ_b.uiq	9
         02:C6C0  C9 09      			cmp	#9
         02:C6C2  F0 01      			beq	!+
         02:C6C4  18         			clc
         02:C6C5             	!:
10090                        		__bfalse	.LL451
         02:C6C5  B0 03 4C 4B			bcc	.LL451
         02:C6C9  C7          
10091                        	
10092                        		.dbg	line,	"include\routines_LEVELS.c", 1277; {
10093                        	
10094                        		.dbg	line,	"include\routines_LEVELS.c", 1278; if(player_axis == AXIS_RIGHT)
10095                        		__not.um	_player_axis
         02:C6CA  AD 1A 23   			lda	_player_axis
         02:C6CD  18         			clc
         02:C6CE  D0 01      			bne	!+
         02:C6D0  38         			sec
         02:C6D1             	!:
10096                        		__bfalse	.LL452
         02:C6D1  B0 03 4C 5E			bcc	.LL452
         02:C6D5  CA          
10097                        	
10098                        		.dbg	line,	"include\routines_LEVELS.c", 1279; {
10099                        	
10100                        		.dbg	line,	"include\routines_LEVELS.c", 1280; player_axis = AXIS_LEFT;
10101                        		__st.umiq	1, _player_axis
         02:C6D6  A9 01      			lda.l	#1
         02:C6D8  8D 1A 23   			sta	_player_axis
10102                        	
10103                        		.dbg	line,	"include\routines_LEVELS.c", 1281; player_previous_axis = player_axis;
10104                        		__ld.um		_player_axis
         02:C6DB  AD 1A 23   			lda	_player_axis
         02:C6DE  C2         			cly
10105                        		__st.umq	_player_previous_axis
         02:C6DF  8D 1B 23   			sta	_player_previous_axis
10106                        	
10107                        		.dbg	line,	"include\routines_LEVELS.c", 1283; spr_set(player_id);
10108                        		__ld.umq	_player_id
         02:C6E2  AD 18 23   			lda	_player_id
10109                        		__call		_spr_set.1
         02:C6E5  20 F1 E7   			call	_spr_set.1
10110                        	
10111                        		.dbg	line,	"include\routines_LEVELS.c", 1284; spr_ctrl(FLIP_MAS, FLIP_X);
10112                        		__st.umiq	136, _al
         02:C6E8  A9 88      			lda.l	#136
         02:C6EA  85 F8      			sta	_al
10113                        		__ld.uiq	8
         02:C6EC  A9 08      			lda	#8
10114                        		__call		_spr_ctrl.2
         02:C6EE  20 50 E8   			call	_spr_ctrl.2
10115                        	
10116                        		.dbg	line,	"include\routines_LEVELS.c", 1286; spr_set(chain_id);
10117                        		__ld.umq	_chain_id
         02:C6F1  AD 26 23   			lda	_chain_id
10118                        		__call		_spr_set.1
         02:C6F4  20 F1 E7   			call	_spr_set.1
10119                        	
10120                        		.dbg	line,	"include\routines_LEVELS.c", 1287; spr_ctrl(FLIP_MAS, FLIP_X);
10121                        		__st.umiq	136, _al
         02:C6F7  A9 88      			lda.l	#136
         02:C6F9  85 F8      			sta	_al
10122                        		__ld.uiq	8
         02:C6FB  A9 08      			lda	#8
10123                        		__call		_spr_ctrl.2
         02:C6FD  20 50 E8   			call	_spr_ctrl.2
10124                        	
10125                        		.dbg	line,	"include\routines_LEVELS.c", 1289; spr_set(chain_id+1);
10126                        		__ld.um		_chain_id
         02:C700  AD 26 23   			lda	_chain_id
         02:C703  C2         			cly
10127                        		__add.wi	1
         02:C704  1A         			inc	a
         02:C705  D0 01      			bne	!+
         02:C707  C8         			iny
         02:C708             	!:
10128                        		__call		_spr_set.1
         02:C708  20 F1 E7   			call	_spr_set.1
10129                        	
10130                        		.dbg	line,	"include\routines_LEVELS.c", 1290; spr_ctrl(FLIP_MAS, FLIP_X);
10131                        		__st.umiq	136, _al
         02:C70B  A9 88      			lda.l	#136
         02:C70D  85 F8      			sta	_al
10132                        		__ld.uiq	8
         02:C70F  A9 08      			lda	#8
10133                        		__call		_spr_ctrl.2
         02:C711  20 50 E8   			call	_spr_ctrl.2
10134                        	
10135                        		.dbg	line,	"include\routines_LEVELS.c", 1292; spr_set(chain_id+2);
10136                        		__ld.um		_chain_id
         02:C714  AD 26 23   			lda	_chain_id
         02:C717  C2         			cly
10137                        		__add.wi	2
         02:C718  18         			clc
         02:C719  69 02      			adc.l	#2
         02:C71B  90 01      			bcc	!+
         02:C71D  C8         			iny
         02:C71E             	!:
10138                        		__call		_spr_set.1
         02:C71E  20 F1 E7   			call	_spr_set.1
10139                        	
10140                        		.dbg	line,	"include\routines_LEVELS.c", 1293; spr_ctrl(FLIP_MAS, FLIP_X);
10141                        		__st.umiq	136, _al
         02:C721  A9 88      			lda.l	#136
         02:C723  85 F8      			sta	_al
10142                        		__ld.uiq	8
         02:C725  A9 08      			lda	#8
10143                        		__call		_spr_ctrl.2
         02:C727  20 50 E8   			call	_spr_ctrl.2
10144                        	
10145                        		.dbg	line,	"include\routines_LEVELS.c", 1295; spr_set(weapon_id);
10146                        		__ld.umq	_weapon_id
         02:C72A  AD 27 23   			lda	_weapon_id
10147                        		__call		_spr_set.1
         02:C72D  20 F1 E7   			call	_spr_set.1
10148                        	
10149                        		.dbg	line,	"include\routines_LEVELS.c", 1296; spr_ctrl(FLIP_MAS, FLIP_X);
10150                        		__st.umiq	136, _al
         02:C730  A9 88      			lda.l	#136
         02:C732  85 F8      			sta	_al
10151                        		__ld.uiq	8
         02:C734  A9 08      			lda	#8
10152                        		__call		_spr_ctrl.2
         02:C736  20 50 E8   			call	_spr_ctrl.2
10153                        	
10154                        		.dbg	line,	"include\routines_LEVELS.c", 1297; spr_x(player_pos_x+20);
10155                        		__ld.wm		_player_pos_x
         02:C739  AD F6 24   			lda.l	_player_pos_x
         02:C73C  AC F7 24   			ldy.h	_player_pos_x
10156                        		__add.wi	20
         02:C73F  18         			clc
         02:C740  69 14      			adc.l	#20
         02:C742  90 01      			bcc	!+
         02:C744  C8         			iny
         02:C745             	!:
10157                        		__call		_spr_x.1
         02:C745  20 1E E8   			call	_spr_x.1
10158                        	
10159                        		.dbg	line,	"include\routines_LEVELS.c", 1298; }
10160                        	
10161                        		.dbg	line,	"include\routines_LEVELS.c", 1299; }
10162    02:C748             	.LL452	.alias		.LL453
10163                        	
10164                        		.dbg	line,	"include\routines_LEVELS.c", 1301; 
10165                        	
10166                        		.dbg	line,	"include\routines_LEVELS.c", 1302; else if(player_state == STATE_HANG)
10167                        		__bra		.LL453
         02:C748  4C 5E CA   			bra	.LL453
10168    02:C74B             	.LL451:
10169                        		__ld.umq	_player_state
         02:C74B  AD 19 23   			lda	_player_state
10170                        		__equ_b.uiq	10
         02:C74E  C9 0A      			cmp	#10
         02:C750  F0 01      			beq	!+
         02:C752  18         			clc
         02:C753             	!:
10171                        		__bfalse	.LL454
         02:C753  B0 03 4C D9			bcc	.LL454
         02:C757  C7          
10172                        	
10173                        		.dbg	line,	"include\routines_LEVELS.c", 1303; {
10174                        	
10175                        		.dbg	line,	"include\routines_LEVELS.c", 1304; if(player_axis == AXIS_RIGHT)
10176                        		__not.um	_player_axis
         02:C758  AD 1A 23   			lda	_player_axis
         02:C75B  18         			clc
         02:C75C  D0 01      			bne	!+
         02:C75E  38         			sec
         02:C75F             	!:
10177                        		__bfalse	.LL455
         02:C75F  B0 03 4C 5E			bcc	.LL455
         02:C763  CA          
10178                        	
10179                        		.dbg	line,	"include\routines_LEVELS.c", 1305; {
10180                        	
10181                        		.dbg	line,	"include\routines_LEVELS.c", 1306; player_axis = AXIS_LEFT;
10182                        		__st.umiq	1, _player_axis
         02:C764  A9 01      			lda.l	#1
         02:C766  8D 1A 23   			sta	_player_axis
10183                        	
10184                        		.dbg	line,	"include\routines_LEVELS.c", 1307; player_previous_axis = player_axis;
10185                        		__ld.um		_player_axis
         02:C769  AD 1A 23   			lda	_player_axis
         02:C76C  C2         			cly
10186                        		__st.umq	_player_previous_axis
         02:C76D  8D 1B 23   			sta	_player_previous_axis
10187                        	
10188                        		.dbg	line,	"include\routines_LEVELS.c", 1309; spr_set(player_id);
10189                        		__ld.umq	_player_id
         02:C770  AD 18 23   			lda	_player_id
10190                        		__call		_spr_set.1
         02:C773  20 F1 E7   			call	_spr_set.1
10191                        	
10192                        		.dbg	line,	"include\routines_LEVELS.c", 1310; spr_ctrl(FLIP_MAS, FLIP_X);
10193                        		__st.umiq	136, _al
         02:C776  A9 88      			lda.l	#136
         02:C778  85 F8      			sta	_al
10194                        		__ld.uiq	8
         02:C77A  A9 08      			lda	#8
10195                        		__call		_spr_ctrl.2
         02:C77C  20 50 E8   			call	_spr_ctrl.2
10196                        	
10197                        		.dbg	line,	"include\routines_LEVELS.c", 1312; spr_set(chain_id);
10198                        		__ld.umq	_chain_id
         02:C77F  AD 26 23   			lda	_chain_id
10199                        		__call		_spr_set.1
         02:C782  20 F1 E7   			call	_spr_set.1
10200                        	
10201                        		.dbg	line,	"include\routines_LEVELS.c", 1313; spr_ctrl(FLIP_MAS, FLIP_X);
10202                        		__st.umiq	136, _al
         02:C785  A9 88      			lda.l	#136
         02:C787  85 F8      			sta	_al
10203                        		__ld.uiq	8
         02:C789  A9 08      			lda	#8
10204                        		__call		_spr_ctrl.2
         02:C78B  20 50 E8   			call	_spr_ctrl.2
10205                        	
10206                        		.dbg	line,	"include\routines_LEVELS.c", 1315; spr_set(chain_id+1);
10207                        		__ld.um		_chain_id
         02:C78E  AD 26 23   			lda	_chain_id
         02:C791  C2         			cly
10208                        		__add.wi	1
         02:C792  1A         			inc	a
         02:C793  D0 01      			bne	!+
         02:C795  C8         			iny
         02:C796             	!:
10209                        		__call		_spr_set.1
         02:C796  20 F1 E7   			call	_spr_set.1
10210                        	
10211                        		.dbg	line,	"include\routines_LEVELS.c", 1316; spr_ctrl(FLIP_MAS, FLIP_X);
10212                        		__st.umiq	136, _al
         02:C799  A9 88      			lda.l	#136
         02:C79B  85 F8      			sta	_al
10213                        		__ld.uiq	8
         02:C79D  A9 08      			lda	#8
10214                        		__call		_spr_ctrl.2
         02:C79F  20 50 E8   			call	_spr_ctrl.2
10215                        	
10216                        		.dbg	line,	"include\routines_LEVELS.c", 1318; spr_set(chain_id+2);
10217                        		__ld.um		_chain_id
         02:C7A2  AD 26 23   			lda	_chain_id
         02:C7A5  C2         			cly
10218                        		__add.wi	2
         02:C7A6  18         			clc
         02:C7A7  69 02      			adc.l	#2
         02:C7A9  90 01      			bcc	!+
         02:C7AB  C8         			iny
         02:C7AC             	!:
10219                        		__call		_spr_set.1
         02:C7AC  20 F1 E7   			call	_spr_set.1
10220                        	
10221                        		.dbg	line,	"include\routines_LEVELS.c", 1319; spr_ctrl(FLIP_MAS, FLIP_X);
10222                        		__st.umiq	136, _al
         02:C7AF  A9 88      			lda.l	#136
         02:C7B1  85 F8      			sta	_al
10223                        		__ld.uiq	8
         02:C7B3  A9 08      			lda	#8
10224                        		__call		_spr_ctrl.2
         02:C7B5  20 50 E8   			call	_spr_ctrl.2
10225                        	
10226                        		.dbg	line,	"include\routines_LEVELS.c", 1321; spr_set(weapon_id);
10227                        		__ld.umq	_weapon_id
         02:C7B8  AD 27 23   			lda	_weapon_id
10228                        		__call		_spr_set.1
         02:C7BB  20 F1 E7   			call	_spr_set.1
10229                        	
10230                        		.dbg	line,	"include\routines_LEVELS.c", 1322; spr_ctrl(FLIP_MAS, FLIP_X);
10231                        		__st.umiq	136, _al
         02:C7BE  A9 88      			lda.l	#136
         02:C7C0  85 F8      			sta	_al
10232                        		__ld.uiq	8
         02:C7C2  A9 08      			lda	#8
10233                        		__call		_spr_ctrl.2
         02:C7C4  20 50 E8   			call	_spr_ctrl.2
10234                        	
10235                        		.dbg	line,	"include\routines_LEVELS.c", 1323; spr_x(player_pos_x-2);
10236                        		__ld.wm		_player_pos_x
         02:C7C7  AD F6 24   			lda.l	_player_pos_x
         02:C7CA  AC F7 24   			ldy.h	_player_pos_x
10237                        		__sub.wi	2
         02:C7CD  38         			sec
         02:C7CE  E9 02      			sbc.l	#2
         02:C7D0  B0 01      			bcs	!+
         02:C7D2  88         			dey
         02:C7D3             	!:
10238                        		__call		_spr_x.1
         02:C7D3  20 1E E8   			call	_spr_x.1
10239                        	
10240                        		.dbg	line,	"include\routines_LEVELS.c", 1324; }
10241                        	
10242                        		.dbg	line,	"include\routines_LEVELS.c", 1325; }
10243    02:C7D6             	.LL455	.alias		.LL456
10244                        	
10245                        		.dbg	line,	"include\routines_LEVELS.c", 1328; else if(player_state == STATE_CLIMB_UP || player_state == STATE_CLIMB_DOWN)
10246                        		__bra		.LL456
         02:C7D6  4C 5E CA   			bra	.LL456
10247    02:C7D9             	.LL454:
10248                        		__ld.umq	_player_state
         02:C7D9  AD 19 23   			lda	_player_state
10249                        		__equ_b.uiq	11
         02:C7DC  C9 0B      			cmp	#11
         02:C7DE  F0 01      			beq	!+
         02:C7E0  18         			clc
         02:C7E1             	!:
10250                        		__btrue		.LL458
         02:C7E1  B0 08      			bcs	.LL458
10251                        		__ld.umq	_player_state
         02:C7E3  AD 19 23   			lda	_player_state
10252                        		__equ_b.uiq	12
         02:C7E6  C9 0C      			cmp	#12
         02:C7E8  F0 01      			beq	!+
         02:C7EA  18         			clc
         02:C7EB             	!:
10253    02:C7EB             	.LL458:
10254                        		__bfalse	.LL457
         02:C7EB  B0 03 4C 5E			bcc	.LL457
         02:C7EF  CA          
10255                        	
10256                        		.dbg	line,	"include\routines_LEVELS.c", 1329; {
10257                        	
10258                        		.dbg	line,	"include\routines_LEVELS.c", 1330; spr_set(player_id);
10259                        		__ld.umq	_player_id
         02:C7F0  AD 18 23   			lda	_player_id
10260                        		__call		_spr_set.1
         02:C7F3  20 F1 E7   			call	_spr_set.1
10261                        	
10262                        		.dbg	line,	"include\routines_LEVELS.c", 1331; spr_pattern(PLAYER_HANG_VRAM_ADR);
10263                        		__ld.wi		7424
         02:C7F6  62         			cla
         02:C7F7  A0 1D      			ldy.h	#7424
10264                        		__call		_spr_pattern.1
         02:C7F9  20 3A E8   			call	_spr_pattern.1
10265                        	
10266                        		.dbg	line,	"include\routines_LEVELS.c", 1332; player_counter_anim = 0;
10267                        		__st.umiq	0, _player_counter_anim
         02:C7FC  9C 1C 23   			stz	_player_counter_anim
10268                        	
10269                        		.dbg	line,	"include\routines_LEVELS.c", 1333; player_state = STATE_HANG;
10270                        		__st.umiq	10, _player_state
         02:C7FF  A9 0A      			lda.l	#10
         02:C801  8D 19 23   			sta	_player_state
10271                        	
10272                        		.dbg	line,	"include\routines_LEVELS.c", 1334; }
10273                        	
10274                        		.dbg	line,	"include\routines_LEVELS.c", 1335; }
10275    02:C804             	.LL457	.alias		.LL459
10276    02:C804             	.LL456	.alias		.LL459
10277    02:C804             	.LL453	.alias		.LL459
10278    02:C804             	.LL450	.alias		.LL459
10279    02:C804             	.LL447	.alias		.LL459
10280    02:C804             	.LL444	.alias		.LL459
10281    02:C804             	.LL439	.alias		.LL459
10282                        	
10283                        		.dbg	line,	"include\routines_LEVELS.c", 1338; //--------------------------------------------------------------------------------------//
10284                        	
10285                        		.dbg	line,	"include\routines_LEVELS.c", 1339; //                                      UP BUTTON                                       //
10286                        	
10287                        		.dbg	line,	"include\routines_LEVELS.c", 1340; //--------------------------------------------------------------------------------------//
10288                        	
10289                        		.dbg	line,	"include\routines_LEVELS.c", 1342; else if(joy(JOYPAD_1) & JOY_UP)
10290                        		__bra		.LL459
         02:C804  4C 5E CA   			bra	.LL459
10291    02:C807             	.LL434:
10292                        		__ld.uiq	0
         02:C807  62         			cla
10293                        		 _joy.1
         02:C808  AA         			tax
         02:C809  BD 28 22   			lda	joynow, x
         02:C80C  BC D3 22   			ldy	joy6now, x
10294                        		__tand.wi	16
         02:C80F  29 10      			and	#16
         02:C811  C9 01      	!:		cmp	#1
10295                        		__bfalse	.LL460
         02:C813  B0 03 4C F1			bcc	.LL460
         02:C817  C8          
10296                        	
10297                        		.dbg	line,	"include\routines_LEVELS.c", 1343; {
10298                        	
10299                        		.dbg	line,	"include\routines_LEVELS.c", 1344; if(player_state == STATE_HANG || player_state == STATE_CLIMB_UP || player_state == STATE_CLIMB_DOWN)
10300                        		__ld.umq	_player_state
         02:C818  AD 19 23   			lda	_player_state
10301                        		__equ_b.uiq	10
         02:C81B  C9 0A      			cmp	#10
         02:C81D  F0 01      			beq	!+
         02:C81F  18         			clc
         02:C820             	!:
10302                        		__btrue		.LL462
         02:C820  B0 08      			bcs	.LL462
10303                        		__ld.umq	_player_state
         02:C822  AD 19 23   			lda	_player_state
10304                        		__equ_b.uiq	11
         02:C825  C9 0B      			cmp	#11
         02:C827  F0 01      			beq	!+
         02:C829  18         			clc
         02:C82A             	!:
10305    02:C82A             	.LL462:
10306                        		__btrue		.LL463
         02:C82A  B0 08      			bcs	.LL463
10307                        		__ld.umq	_player_state
         02:C82C  AD 19 23   			lda	_player_state
10308                        		__equ_b.uiq	12
         02:C82F  C9 0C      			cmp	#12
         02:C831  F0 01      			beq	!+
         02:C833  18         			clc
         02:C834             	!:
10309    02:C834             	.LL463:
10310                        		__bfalse	.LL461
         02:C834  B0 03 4C 5E			bcc	.LL461
         02:C838  CA          
10311                        	
10312                        		.dbg	line,	"include\routines_LEVELS.c", 1345; {
10313                        	
10314                        		.dbg	line,	"include\routines_LEVELS.c", 1346; if(player_attack == FALSE)
10315                        		__not.um	_player_attack
         02:C839  AD 21 23   			lda	_player_attack
         02:C83C  18         			clc
         02:C83D  D0 01      			bne	!+
         02:C83F  38         			sec
         02:C840             	!:
10316                        		__bfalse	.LL464
         02:C840  B0 03 4C 5E			bcc	.LL464
         02:C844  CA          
10317                        	
10318                        		.dbg	line,	"include\routines_LEVELS.c", 1347; {
10319                        	
10320                        		.dbg	line,	"include\routines_LEVELS.c", 1348; unsigned char i;
10321                        	
10322                        		.dbg	line,	"include\routines_LEVELS.c", 1350; collision_PLAYER_BG( 15 , 8 );
10323                        		__ld.wi		15
         02:C845  A9 0F      			lda.l	#15
         02:C847  C2         			cly
10324                        		__pusharg.wr
         02:C848  A6 8D      			ldx	<__sp
         02:C84A  CA         			dex
         02:C84B  CA         			dex
         02:C84C  95 08      			sta.l	<__stack, x
         02:C84E  94 09      			sty.h	<__stack, x
         02:C850  86 8D      			stx	<__sp
10325                        		__ld.wi		8
         02:C852  A9 08      			lda.l	#8
         02:C854  C2         			cly
10326                        		__pusharg.wr
         02:C855  A6 8D      			ldx	<__sp
         02:C857  CA         			dex
         02:C858  CA         			dex
         02:C859  95 08      			sta.l	<__stack, x
         02:C85B  94 09      			sty.h	<__stack, x
         02:C85D  86 8D      			stx	<__sp
10327                        		__call		_collision_PLAYER_BG
         02:C85F  20 31 FF   			call	_collision_PLAYER_BG
10328                        	
10329                        		.dbg	line,	"include\routines_LEVELS.c", 1352; if(map_blk_flag == TILE_EMPTY)
10330                        		__not.um	_map_blk_flag
         02:C862  AD FA 2B   			lda	_map_blk_flag
         02:C865  18         			clc
         02:C866  D0 01      			bne	!+
         02:C868  38         			sec
         02:C869             	!:
10331                        		__bfalse	.LL465
         02:C869  90 67      			bcc	.LL465
10332                        	
10333                        		.dbg	line,	"include\routines_LEVELS.c", 1353; {
10334                        	
10335                        		.dbg	line,	"include\routines_LEVELS.c", 1354; for(i=1 ; i<3 ; i++)
10336                        		__st.umiq	1, __joypad_DIR_end - 1  /* i */
         02:C86B  A9 01      			lda.l	#1
         02:C86D  8D 04 23   			sta	__joypad_DIR_end - 1
10337    02:C870             	.LL466:
10338                        		__ld.umq	__joypad_DIR_end - 1  /* i */
         02:C870  AD 04 23   			lda	__joypad_DIR_end - 1
10339                        		__ult_b.uiq	3
         02:C873  C9 03      			cmp	#3		; Subtract integer from A.
         02:C875  6A         			ror	a		; CC if A < integer.
         02:C876  49 80      			eor	#$80
         02:C878  2A         			rol	a
10340                        		__btrue		.LL468
         02:C879  B0 07      			bcs	.LL468
10341                        		__bra		.LL469
         02:C87B  80 63      			bra	.LL469
10342    02:C87D             	.LL467:
10343                        		__inc.umq	__joypad_DIR_end - 1  /* i */
         02:C87D  EE 04 23   			inc	__joypad_DIR_end - 1
10344                        		__bra		.LL466
         02:C880  80 EE      			bra	.LL466
10345    02:C882             	.LL468:
10346                        	
10347                        		.dbg	line,	"include\routines_LEVELS.c", 1355; {
10348                        	
10349                        		.dbg	line,	"include\routines_LEVELS.c", 1356; collision_PLAYER_BG( 15 , 8 + i );
10350                        		__ld.wi		15
         02:C882  A9 0F      			lda.l	#15
         02:C884  C2         			cly
10351                        		__pusharg.wr
         02:C885  A6 8D      			ldx	<__sp
         02:C887  CA         			dex
         02:C888  CA         			dex
         02:C889  95 08      			sta.l	<__stack, x
         02:C88B  94 09      			sty.h	<__stack, x
         02:C88D  86 8D      			stx	<__sp
10352                        		__ld.wi		8
         02:C88F  A9 08      			lda.l	#8
         02:C891  C2         			cly
10353                        		__add.um	__joypad_DIR_end - 1  /* i */
         02:C892  18         			clc
         02:C893  6D 04 23   			adc	__joypad_DIR_end - 1
         02:C896  90 01      			bcc	!+
         02:C898  C8         			iny
         02:C899             	!:
10354                        		__pusharg.wr
         02:C899  A6 8D      			ldx	<__sp
         02:C89B  CA         			dex
         02:C89C  CA         			dex
         02:C89D  95 08      			sta.l	<__stack, x
         02:C89F  94 09      			sty.h	<__stack, x
         02:C8A1  86 8D      			stx	<__sp
10355                        		__call		_collision_PLAYER_BG
         02:C8A3  20 31 FF   			call	_collision_PLAYER_BG
10356                        	
10357                        		.dbg	line,	"include\routines_LEVELS.c", 1358; if(map_blk_flag == TILE_LADDER)
10358                        		__ld.umq	_map_blk_flag
         02:C8A6  AD FA 2B   			lda	_map_blk_flag
10359                        		__equ_b.uiq	2
         02:C8A9  C9 02      			cmp	#2
         02:C8AB  F0 01      			beq	!+
         02:C8AD  18         			clc
         02:C8AE             	!:
10360                        		__bfalse	.LL470
         02:C8AE  90 CD      			bcc	.LL470
10361                        	
10362                        		.dbg	line,	"include\routines_LEVELS.c", 1359; {
10363                        	
10364                        		.dbg	line,	"include\routines_LEVELS.c", 1360; sgx_map_pxl_y -= (2 - i);
10365                        		__ld.wi		2
         02:C8B0  A9 02      			lda.l	#2
         02:C8B2  C2         			cly
10366                        		__sub.um	__joypad_DIR_end - 1  /* i */
         02:C8B3  38         			sec
         02:C8B4  ED 04 23   			sbc	__joypad_DIR_end - 1
         02:C8B7  B0 01      			bcs	!+
         02:C8B9  88         			dey
         02:C8BA             	!:
10367                        		__isub_st.wmq	_sgx_map_pxl_y
         02:C8BA  38         			sec
         02:C8BB  49 FF      			eor	#$FF
         02:C8BD  6D DB 26   			adc.l	_sgx_map_pxl_y
         02:C8C0  8D DB 26   			sta.l	_sgx_map_pxl_y
         02:C8C3  98         			tya
         02:C8C4  49 FF      			eor	#$FF
         02:C8C6  6D DC 26   			adc.h	_sgx_map_pxl_y
         02:C8C9  8D DC 26   			sta.h	_sgx_map_pxl_y
10368                        	
10369                        		.dbg	line,	"include\routines_LEVELS.c", 1361; break;
10370                        		__bra		.LL469
         02:C8CC  80 12      			bra	.LL469
10371                        	
10372                        		.dbg	line,	"include\routines_LEVELS.c", 1362; }
10373                        	
10374                        		.dbg	line,	"include\routines_LEVELS.c", 1363; }
10375    02:C8CE             	.LL470	.alias		.LL467
10376                        		__bra		.LL467
         02:C8CE  80 AD      			bra	.LL467
10377    02:C8D0             	.LL469	.alias		.LL471
10378                        	
10379                        		.dbg	line,	"include\routines_LEVELS.c", 1364; }
10380                        	
10381                        		.dbg	line,	"include\routines_LEVELS.c", 1366; else
10382                        		__bra		.LL471
         02:C8D0  80 0E      			bra	.LL471
10383    02:C8D2             	.LL465:
10384                        	
10385                        		.dbg	line,	"include\routines_LEVELS.c", 1367; {
10386                        	
10387                        		.dbg	line,	"include\routines_LEVELS.c", 1368; sgx_map_pxl_y -= 2;
10388                        		__sub_st.wmiq	2, _sgx_map_pxl_y
         02:C8D2  38         			sec
         02:C8D3  AD DB 26   			lda.l	_sgx_map_pxl_y
         02:C8D6  E9 02      			sbc.l	#2
         02:C8D8  8D DB 26   			sta.l	_sgx_map_pxl_y
         02:C8DB  B0 03      			bcs	!+
         02:C8DD  CE DC 26   			dec.h	_sgx_map_pxl_y
         02:C8E0             	!:
10389                        	
10390                        		.dbg	line,	"include\routines_LEVELS.c", 1369; }
10391    02:C8E0             	.LL471:
10392                        	
10393                        		.dbg	line,	"include\routines_LEVELS.c", 1371; spr_set(weapon_id);
10394                        		__ld.umq	_weapon_id
         02:C8E0  AD 27 23   			lda	_weapon_id
10395                        		__call		_spr_set.1
         02:C8E3  20 F1 E7   			call	_spr_set.1
10396                        	
10397                        		.dbg	line,	"include\routines_LEVELS.c", 1372; spr_hide();
10398                        		__call		_spr_hide
         02:C8E6  20 0C E8   			call	_spr_hide
10399                        	
10400                        		.dbg	line,	"include\routines_LEVELS.c", 1374; player_state = STATE_CLIMB_UP;
10401                        		__st.umiq	11, _player_state
         02:C8E9  A9 0B      			lda.l	#11
         02:C8EB  8D 19 23   			sta	_player_state
10402                        	
10403                        		.dbg	line,	"include\routines_LEVELS.c", 1375; }
10404                        	
10405                        		.dbg	line,	"include\routines_LEVELS.c", 1376; }
10406    02:C8EE             	.LL464	.alias		.LL472
10407                        	
10408                        		.dbg	line,	"include\routines_LEVELS.c", 1377; }
10409    02:C8EE             	.LL461	.alias		.LL472
10410                        	
10411                        		.dbg	line,	"include\routines_LEVELS.c", 1380; //--------------------------------------------------------------------------------------//
10412                        	
10413                        		.dbg	line,	"include\routines_LEVELS.c", 1381; //                                     DOWN BUTTON                                      //
10414                        	
10415                        		.dbg	line,	"include\routines_LEVELS.c", 1382; //--------------------------------------------------------------------------------------//
10416                        	
10417                        		.dbg	line,	"include\routines_LEVELS.c", 1384; else if(joy(JOYPAD_1) & JOY_DOWN)
10418                        		__bra		.LL472
         02:C8EE  4C 5E CA   			bra	.LL472
10419    02:C8F1             	.LL460:
10420                        		__ld.uiq	0
         02:C8F1  62         			cla
10421                        		 _joy.1
         02:C8F2  AA         			tax
         02:C8F3  BD 28 22   			lda	joynow, x
         02:C8F6  BC D3 22   			ldy	joy6now, x
10422                        		__tand.wi	64
         02:C8F9  29 40      			and	#64
         02:C8FB  C9 01      	!:		cmp	#1
10423                        		__bfalse	.LL473
         02:C8FD  B0 03 4C 5E			bcc	.LL473
         02:C901  CA          
10424                        	
10425                        		.dbg	line,	"include\routines_LEVELS.c", 1385; {
10426                        	
10427                        		.dbg	line,	"include\routines_LEVELS.c", 1386; if(player_state == STATE_IDLE || player_state == STATE_WALK)
10428                        		__not.um	_player_state
         02:C902  AD 19 23   			lda	_player_state
         02:C905  18         			clc
         02:C906  D0 01      			bne	!+
         02:C908  38         			sec
         02:C909             	!:
10429                        		__btrue		.LL475
         02:C909  B0 08      			bcs	.LL475
10430                        		__ld.umq	_player_state
         02:C90B  AD 19 23   			lda	_player_state
10431                        		__equ_b.uiq	1
         02:C90E  C9 01      			cmp	#1
         02:C910  F0 01      			beq	!+
         02:C912  18         			clc
         02:C913             	!:
10432    02:C913             	.LL475:
10433                        		__bfalse	.LL474
         02:C913  90 0D      			bcc	.LL474
10434                        	
10435                        		.dbg	line,	"include\routines_LEVELS.c", 1387; {
10436                        	
10437                        		.dbg	line,	"include\routines_LEVELS.c", 1388; player_counter_anim = 1;
10438                        		__st.umiq	1, _player_counter_anim
         02:C915  A9 01      			lda.l	#1
         02:C917  8D 1C 23   			sta	_player_counter_anim
10439                        	
10440                        		.dbg	line,	"include\routines_LEVELS.c", 1389; player_state = STATE_CROUCH;
10441                        		__st.umiq	7, _player_state
         02:C91A  A9 07      			lda.l	#7
         02:C91C  8D 19 23   			sta	_player_state
10442                        	
10443                        		.dbg	line,	"include\routines_LEVELS.c", 1390; }
10444                        	
10445                        		.dbg	line,	"include\routines_LEVELS.c", 1393; else if(player_state == STATE_HANG || player_state == STATE_CLIMB_UP || player_state == STATE_CLIMB_DOWN)
10446                        		__bra		.LL476
         02:C91F  4C 5E CA   			bra	.LL476
10447    02:C922             	.LL474:
10448                        		__ld.umq	_player_state
         02:C922  AD 19 23   			lda	_player_state
10449                        		__equ_b.uiq	10
         02:C925  C9 0A      			cmp	#10
         02:C927  F0 01      			beq	!+
         02:C929  18         			clc
         02:C92A             	!:
10450                        		__btrue		.LL478
         02:C92A  B0 08      			bcs	.LL478
10451                        		__ld.umq	_player_state
         02:C92C  AD 19 23   			lda	_player_state
10452                        		__equ_b.uiq	11
         02:C92F  C9 0B      			cmp	#11
         02:C931  F0 01      			beq	!+
         02:C933  18         			clc
         02:C934             	!:
10453    02:C934             	.LL478:
10454                        		__btrue		.LL479
         02:C934  B0 08      			bcs	.LL479
10455                        		__ld.umq	_player_state
         02:C936  AD 19 23   			lda	_player_state
10456                        		__equ_b.uiq	12
         02:C939  C9 0C      			cmp	#12
         02:C93B  F0 01      			beq	!+
         02:C93D  18         			clc
         02:C93E             	!:
10457    02:C93E             	.LL479:
10458                        		__bfalse	.LL477
         02:C93E  B0 03 4C 5E			bcc	.LL477
         02:C942  CA          
10459                        	
10460                        		.dbg	line,	"include\routines_LEVELS.c", 1394; {
10461                        	
10462                        		.dbg	line,	"include\routines_LEVELS.c", 1395; if(player_attack == FALSE)
10463                        		__not.um	_player_attack
         02:C943  AD 21 23   			lda	_player_attack
         02:C946  18         			clc
         02:C947  D0 01      			bne	!+
         02:C949  38         			sec
         02:C94A             	!:
10464                        		__bfalse	.LL480
         02:C94A  B0 03 4C 5E			bcc	.LL480
         02:C94E  CA          
10465                        	
10466                        		.dbg	line,	"include\routines_LEVELS.c", 1396; {
10467                        	
10468                        		.dbg	line,	"include\routines_LEVELS.c", 1397; unsigned char i;
10469                        	
10470                        		.dbg	line,	"include\routines_LEVELS.c", 1399; collision_PLAYER_BG( 15 , 10 );
10471                        		__ld.wi		15
         02:C94F  A9 0F      			lda.l	#15
         02:C951  C2         			cly
10472                        		__pusharg.wr
         02:C952  A6 8D      			ldx	<__sp
         02:C954  CA         			dex
         02:C955  CA         			dex
         02:C956  95 08      			sta.l	<__stack, x
         02:C958  94 09      			sty.h	<__stack, x
         02:C95A  86 8D      			stx	<__sp
10473                        		__ld.wi		10
         02:C95C  A9 0A      			lda.l	#10
         02:C95E  C2         			cly
10474                        		__pusharg.wr
         02:C95F  A6 8D      			ldx	<__sp
         02:C961  CA         			dex
         02:C962  CA         			dex
         02:C963  95 08      			sta.l	<__stack, x
         02:C965  94 09      			sty.h	<__stack, x
         02:C967  86 8D      			stx	<__sp
10475                        		__call		_collision_PLAYER_BG
         02:C969  20 31 FF   			call	_collision_PLAYER_BG
10476                        	
10477                        		.dbg	line,	"include\routines_LEVELS.c", 1401; if(map_blk_flag == TILE_EMPTY)
10478                        		__not.um	_map_blk_flag
         02:C96C  AD FA 2B   			lda	_map_blk_flag
         02:C96F  18         			clc
         02:C970  D0 01      			bne	!+
         02:C972  38         			sec
         02:C973             	!:
10479                        		__bfalse	.LL481
         02:C973  B0 03 4C 42			bcc	.LL481
         02:C977  CA          
10480                        	
10481                        		.dbg	line,	"include\routines_LEVELS.c", 1402; {
10482                        	
10483                        		.dbg	line,	"include\routines_LEVELS.c", 1403; for(i=1 ; i<3 ; i++)
10484                        		__st.umiq	1, __joypad_DIR_end - 2  /* i */
         02:C978  A9 01      			lda.l	#1
         02:C97A  8D 03 23   			sta	__joypad_DIR_end - 2
10485    02:C97D             	.LL482:
10486                        		__ld.umq	__joypad_DIR_end - 2  /* i */
         02:C97D  AD 03 23   			lda	__joypad_DIR_end - 2
10487                        		__ult_b.uiq	3
         02:C980  C9 03      			cmp	#3		; Subtract integer from A.
         02:C982  6A         			ror	a		; CC if A < integer.
         02:C983  49 80      			eor	#$80
         02:C985  2A         			rol	a
10488                        		__btrue		.LL484
         02:C986  B0 08      			bcs	.LL484
10489                        		__bra		.LL485
         02:C988  4C 5E CA   			bra	.LL485
10490    02:C98B             	.LL483:
10491                        		__inc.umq	__joypad_DIR_end - 2  /* i */
         02:C98B  EE 03 23   			inc	__joypad_DIR_end - 2
10492                        		__bra		.LL482
         02:C98E  80 ED      			bra	.LL482
10493    02:C990             	.LL484:
10494                        	
10495                        		.dbg	line,	"include\routines_LEVELS.c", 1404; {
10496                        	
10497                        		.dbg	line,	"include\routines_LEVELS.c", 1405; collision_PLAYER_BG( 15 , 22 + i );
10498                        		__ld.wi		15
         02:C990  A9 0F      			lda.l	#15
         02:C992  C2         			cly
10499                        		__pusharg.wr
         02:C993  A6 8D      			ldx	<__sp
         02:C995  CA         			dex
         02:C996  CA         			dex
         02:C997  95 08      			sta.l	<__stack, x
         02:C999  94 09      			sty.h	<__stack, x
         02:C99B  86 8D      			stx	<__sp
10500                        		__ld.wi		22
         02:C99D  A9 16      			lda.l	#22
         02:C99F  C2         			cly
10501                        		__add.um	__joypad_DIR_end - 2  /* i */
         02:C9A0  18         			clc
         02:C9A1  6D 03 23   			adc	__joypad_DIR_end - 2
         02:C9A4  90 01      			bcc	!+
         02:C9A6  C8         			iny
         02:C9A7             	!:
10502                        		__pusharg.wr
         02:C9A7  A6 8D      			ldx	<__sp
         02:C9A9  CA         			dex
         02:C9AA  CA         			dex
         02:C9AB  95 08      			sta.l	<__stack, x
         02:C9AD  94 09      			sty.h	<__stack, x
         02:C9AF  86 8D      			stx	<__sp
10503                        		__call		_collision_PLAYER_BG
         02:C9B1  20 31 FF   			call	_collision_PLAYER_BG
10504                        	
10505                        		.dbg	line,	"include\routines_LEVELS.c", 1407; if(map_blk_flag == TILE_LADDER)
10506                        		__ld.umq	_map_blk_flag
         02:C9B4  AD FA 2B   			lda	_map_blk_flag
10507                        		__equ_b.uiq	2
         02:C9B7  C9 02      			cmp	#2
         02:C9B9  F0 01      			beq	!+
         02:C9BB  18         			clc
         02:C9BC             	!:
10508                        		__bfalse	.LL486
         02:C9BC  90 1B      			bcc	.LL486
10509                        	
10510                        		.dbg	line,	"include\routines_LEVELS.c", 1408; {
10511                        	
10512                        		.dbg	line,	"include\routines_LEVELS.c", 1409; sgx_map_pxl_y += (2 - i);
10513                        		__ld.wi		2
         02:C9BE  A9 02      			lda.l	#2
         02:C9C0  C2         			cly
10514                        		__sub.um	__joypad_DIR_end - 2  /* i */
         02:C9C1  38         			sec
         02:C9C2  ED 03 23   			sbc	__joypad_DIR_end - 2
         02:C9C5  B0 01      			bcs	!+
         02:C9C7  88         			dey
         02:C9C8             	!:
10515                        		__add_st.wmq	_sgx_map_pxl_y
         02:C9C8  18         			clc
         02:C9C9  6D DB 26   			adc.l	_sgx_map_pxl_y
         02:C9CC  8D DB 26   			sta.l	_sgx_map_pxl_y
         02:C9CF  98         			tya
         02:C9D0  6D DC 26   			adc.h	_sgx_map_pxl_y
         02:C9D3  8D DC 26   			sta.h	_sgx_map_pxl_y
10516                        	
10517                        		.dbg	line,	"include\routines_LEVELS.c", 1410; break;
10518                        		__bra		.LL485
         02:C9D6  4C 5E CA   			bra	.LL485
10519                        	
10520                        		.dbg	line,	"include\routines_LEVELS.c", 1411; }
10521                        	
10522                        		.dbg	line,	"include\routines_LEVELS.c", 1413; else
10523    02:C9D9             	.LL486:
10524                        	
10525                        		.dbg	line,	"include\routines_LEVELS.c", 1414; {
10526                        	
10527                        		.dbg	line,	"include\routines_LEVELS.c", 1415; spr_set(player_id);
10528                        		__ld.umq	_player_id
         02:C9D9  AD 18 23   			lda	_player_id
10529                        		__call		_spr_set.1
         02:C9DC  20 F1 E7   			call	_spr_set.1
10530                        	
10531                        		.dbg	line,	"include\routines_LEVELS.c", 1416; spr_pattern(PLAYER_FALL_VRAM_ADR);
10532                        		__ld.wi		9216
         02:C9DF  62         			cla
         02:C9E0  A0 24      			ldy.h	#9216
10533                        		__call		_spr_pattern.1
         02:C9E2  20 3A E8   			call	_spr_pattern.1
10534                        	
10535                        		.dbg	line,	"include\routines_LEVELS.c", 1418; spr_set(weapon_id);
10536                        		__ld.umq	_weapon_id
         02:C9E5  AD 27 23   			lda	_weapon_id
10537                        		__call		_spr_set.1
         02:C9E8  20 F1 E7   			call	_spr_set.1
10538                        	
10539                        		.dbg	line,	"include\routines_LEVELS.c", 1419; spr_pattern(WEAPON_IDLE_VRAM_ADRESS);
10540                        		__ld.wi		31808
         02:C9EB  A9 40      			lda.l	#31808
         02:C9ED  A0 7C      			ldy.h	#31808
10541                        		__call		_spr_pattern.1
         02:C9EF  20 3A E8   			call	_spr_pattern.1
10542                        	
10543                        		.dbg	line,	"include\routines_LEVELS.c", 1420; spr_y(player_pos_y+4);
10544                        		__ld.wm		_player_pos_y
         02:C9F2  AD F8 24   			lda.l	_player_pos_y
         02:C9F5  AC F9 24   			ldy.h	_player_pos_y
10545                        		__add.wi	4
         02:C9F8  18         			clc
         02:C9F9  69 04      			adc.l	#4
         02:C9FB  90 01      			bcc	!+
         02:C9FD  C8         			iny
         02:C9FE             	!:
10546                        		__call		_spr_y.1
         02:C9FE  20 2D E8   			call	_spr_y.1
10547                        	
10548                        		.dbg	line,	"include\routines_LEVELS.c", 1422; if(player_axis == AXIS_RIGHT)
10549                        		__not.um	_player_axis
         02:CA01  AD 1A 23   			lda	_player_axis
         02:CA04  18         			clc
         02:CA05  D0 01      			bne	!+
         02:CA07  38         			sec
         02:CA08             	!:
10550                        		__bfalse	.LL488
         02:CA08  90 11      			bcc	.LL488
10551                        	
10552                        		.dbg	line,	"include\routines_LEVELS.c", 1423; {
10553                        	
10554                        		.dbg	line,	"include\routines_LEVELS.c", 1424; spr_x(player_pos_x-4);
10555                        		__ld.wm		_player_pos_x
         02:CA0A  AD F6 24   			lda.l	_player_pos_x
         02:CA0D  AC F7 24   			ldy.h	_player_pos_x
10556                        		__sub.wi	4
         02:CA10  38         			sec
         02:CA11  E9 04      			sbc.l	#4
         02:CA13  B0 01      			bcs	!+
         02:CA15  88         			dey
         02:CA16             	!:
10557                        		__call		_spr_x.1
         02:CA16  20 1E E8   			call	_spr_x.1
10558                        	
10559                        		.dbg	line,	"include\routines_LEVELS.c", 1425; }
10560                        	
10561                        		.dbg	line,	"include\routines_LEVELS.c", 1426; 
10562                        	
10563                        		.dbg	line,	"include\routines_LEVELS.c", 1427; else
10564                        		__bra		.LL489
         02:CA19  80 0F      			bra	.LL489
10565    02:CA1B             	.LL488:
10566                        	
10567                        		.dbg	line,	"include\routines_LEVELS.c", 1428; {
10568                        	
10569                        		.dbg	line,	"include\routines_LEVELS.c", 1429; spr_x(player_pos_x+20);
10570                        		__ld.wm		_player_pos_x
         02:CA1B  AD F6 24   			lda.l	_player_pos_x
         02:CA1E  AC F7 24   			ldy.h	_player_pos_x
10571                        		__add.wi	20
         02:CA21  18         			clc
         02:CA22  69 14      			adc.l	#20
         02:CA24  90 01      			bcc	!+
         02:CA26  C8         			iny
         02:CA27             	!:
10572                        		__call		_spr_x.1
         02:CA27  20 1E E8   			call	_spr_x.1
10573                        	
10574                        		.dbg	line,	"include\routines_LEVELS.c", 1430; }
10575    02:CA2A             	.LL489:
10576                        	
10577                        		.dbg	line,	"include\routines_LEVELS.c", 1431; 
10578                        	
10579                        		.dbg	line,	"include\routines_LEVELS.c", 1433; jump_ladder = FALSE;
10580                        		__st.umiq	0, _jump_ladder
         02:CA2A  9C 22 23   			stz	_jump_ladder
10581                        	
10582                        		.dbg	line,	"include\routines_LEVELS.c", 1434; player_index_jump = 0;
10583                        		__st.umiq	0, _player_index_jump
         02:CA2D  9C 1D 23   			stz	_player_index_jump
10584                        	
10585                        		.dbg	line,	"include\routines_LEVELS.c", 1435; player_index_fall = 0;
10586                        		__st.umiq	0, _player_index_fall
         02:CA30  9C 1E 23   			stz	_player_index_fall
10587                        	
10588                        		.dbg	line,	"include\routines_LEVELS.c", 1436; fall_ladder = TRUE;
10589                        		__st.umiq	1, _fall_ladder
         02:CA33  A9 01      			lda.l	#1
         02:CA35  8D 24 23   			sta	_fall_ladder
10590                        	
10591                        		.dbg	line,	"include\routines_LEVELS.c", 1437; player_state = STATE_FALL;
10592                        		__st.umiq	9, _player_state
         02:CA38  A9 09      			lda.l	#9
         02:CA3A  8D 19 23   			sta	_player_state
10593                        	
10594                        		.dbg	line,	"include\routines_LEVELS.c", 1438; }
10595    02:CA3D             	.LL487	.alias		.LL483
10596                        	
10597                        		.dbg	line,	"include\routines_LEVELS.c", 1439; }
10598                        		__bra		.LL483
         02:CA3D  4C 8B C9   			bra	.LL483
10599    02:CA40             	.LL485	.alias		.LL490
10600                        	
10601                        		.dbg	line,	"include\routines_LEVELS.c", 1440; }
10602                        	
10603                        		.dbg	line,	"include\routines_LEVELS.c", 1442; else
10604                        		__bra		.LL490
         02:CA40  80 1C      			bra	.LL490
10605    02:CA42             	.LL481:
10606                        	
10607                        		.dbg	line,	"include\routines_LEVELS.c", 1443; {
10608                        	
10609                        		.dbg	line,	"include\routines_LEVELS.c", 1444; spr_set(weapon_id);
10610                        		__ld.umq	_weapon_id
         02:CA42  AD 27 23   			lda	_weapon_id
10611                        		__call		_spr_set.1
         02:CA45  20 F1 E7   			call	_spr_set.1
10612                        	
10613                        		.dbg	line,	"include\routines_LEVELS.c", 1445; spr_hide();
10614                        		__call		_spr_hide
         02:CA48  20 0C E8   			call	_spr_hide
10615                        	
10616                        		.dbg	line,	"include\routines_LEVELS.c", 1446; 
10617                        	
10618                        		.dbg	line,	"include\routines_LEVELS.c", 1447; sgx_map_pxl_y += 2;
10619                        		__add_st.wmiq	2, _sgx_map_pxl_y
         02:CA4B  18         			clc
         02:CA4C  AD DB 26   			lda.l	_sgx_map_pxl_y
         02:CA4F  69 02      			adc.l	#2
         02:CA51  8D DB 26   			sta.l	_sgx_map_pxl_y
         02:CA54  90 03      			bcc	!+
         02:CA56  EE DC 26   			inc.h	_sgx_map_pxl_y
         02:CA59             	!:
10620                        	
10621                        		.dbg	line,	"include\routines_LEVELS.c", 1448; player_state = STATE_CLIMB_DOWN;
10622                        		__st.umiq	12, _player_state
         02:CA59  A9 0C      			lda.l	#12
         02:CA5B  8D 19 23   			sta	_player_state
10623                        	
10624                        		.dbg	line,	"include\routines_LEVELS.c", 1449; }
10625    02:CA5E             	.LL490:
10626                        	
10627                        		.dbg	line,	"include\routines_LEVELS.c", 1450; }
10628                        	
10629                        		.dbg	line,	"include\routines_LEVELS.c", 1451; }
10630    02:CA5E             	.LL480:
10631                        	
10632                        		.dbg	line,	"include\routines_LEVELS.c", 1452; }
10633    02:CA5E             	.LL477:
10634    02:CA5E             	.LL476:
10635                        	
10636                        		.dbg	line,	"include\routines_LEVELS.c", 1453; }
10637    02:CA5E             	.LL473:
10638    02:CA5E             	.LL472:
10639    02:CA5E             	.LL459:
10640    02:CA5E             	.LL433:
10641    02:CA5E             	.LL396:
10642                        		__return	0
         02:CA5E  4C EF FF   			jmp	leave_proc
10643                        		.dbg	clear
10644                        		.endp
10645               2303     		.bss
10646    F8:2303             			ds	2
10647    F8:2305             	__joypad_DIR_end:
10648               E31D     		.code
10649                        		.pceas
10650                        	
10651                        		.dbg	line,	"include\routines_LEVELS.c", 1462; void update_PLAYER()
10652                        		.dbg	line,	"include\routines_LEVELS.c", 1463; {
10653                        	;***********************
10654                        	;***********************
10655                        	
10656                        		.hucc
10657    01:C333             		.proc		_update_PLAYER
10658                        		__enter		_update_PLAYER
10659                        	
10660                        		.dbg	line,	"include\routines_LEVELS.c", 1464; if(player_state == STATE_IDLE)
10661                        		__not.um	_player_state
         01:C333  AD 19 23   			lda	_player_state
         01:C336  18         			clc
         01:C337  D0 01      			bne	!+
         01:C339  38         			sec
         01:C33A             	!:
10662                        		__bfalse	.LL492
         01:C33A  B0 03 4C E3			bcc	.LL492
         01:C33E  C3          
10663                        	
10664                        		.dbg	line,	"include\routines_LEVELS.c", 1465; {
10665                        	
10666                        		.dbg	line,	"include\routines_LEVELS.c", 1466; if(player_counter_anim == 1)
10667                        		__ld.umq	_player_counter_anim
         01:C33F  AD 1C 23   			lda	_player_counter_anim
10668                        		__equ_b.uiq	1
         01:C342  C9 01      			cmp	#1
         01:C344  F0 01      			beq	!+
         01:C346  18         			clc
         01:C347             	!:
10669                        		__bfalse	.LL493
         01:C347  90 0F      			bcc	.LL493
10670                        	
10671                        		.dbg	line,	"include\routines_LEVELS.c", 1467; {
10672                        	
10673                        		.dbg	line,	"include\routines_LEVELS.c", 1468; spr_set(player_id);
10674                        		__ld.umq	_player_id
         01:C349  AD 18 23   			lda	_player_id
10675                        		__call		_spr_set.1
         01:C34C  20 F1 E7   			call	_spr_set.1
10676                        	
10677                        		.dbg	line,	"include\routines_LEVELS.c", 1469; spr_pattern(PLAYER_IDLE_VRAM_ADR);
10678                        		__ld.wi		5120
         01:C34F  62         			cla
         01:C350  A0 14      			ldy.h	#5120
10679                        		__call		_spr_pattern.1
         01:C352  20 3A E8   			call	_spr_pattern.1
10680                        	
10681                        		.dbg	line,	"include\routines_LEVELS.c", 1471; player_counter_anim = 0;
10682                        		__st.umiq	0, _player_counter_anim
         01:C355  9C 1C 23   			stz	_player_counter_anim
10683                        	
10684                        		.dbg	line,	"include\routines_LEVELS.c", 1472; }
10685                        	
10686                        		.dbg	line,	"include\routines_LEVELS.c", 1474; recenter_CAMERA();
10687    01:C358             	.LL493:
10688                        		__call		_recenter_CAMERA
         01:C358  20 27 FF   			call	_recenter_CAMERA
10689                        	
10690                        		.dbg	line,	"include\routines_LEVELS.c", 1477; // CHECK COLLISION WITH LEFT FLOOR //
10691                        	
10692                        		.dbg	line,	"include\routines_LEVELS.c", 1478; collision_PLAYER_BG( 10 , 32 );//8
10693                        		__ld.wi		10
         01:C35B  A9 0A      			lda.l	#10
         01:C35D  C2         			cly
10694                        		__pusharg.wr
         01:C35E  A6 8D      			ldx	<__sp
         01:C360  CA         			dex
         01:C361  CA         			dex
         01:C362  95 08      			sta.l	<__stack, x
         01:C364  94 09      			sty.h	<__stack, x
         01:C366  86 8D      			stx	<__sp
10695                        		__ld.wi		32
         01:C368  A9 20      			lda.l	#32
         01:C36A  C2         			cly
10696                        		__pusharg.wr
         01:C36B  A6 8D      			ldx	<__sp
         01:C36D  CA         			dex
         01:C36E  CA         			dex
         01:C36F  95 08      			sta.l	<__stack, x
         01:C371  94 09      			sty.h	<__stack, x
         01:C373  86 8D      			stx	<__sp
10697                        		__call		_collision_PLAYER_BG
         01:C375  20 31 FF   			call	_collision_PLAYER_BG
10698                        	
10699                        		.dbg	line,	"include\routines_LEVELS.c", 1480; if(map_blk_flag == TILE_EMPTY)
10700                        		__not.um	_map_blk_flag
         01:C378  AD FA 2B   			lda	_map_blk_flag
         01:C37B  18         			clc
         01:C37C  D0 01      			bne	!+
         01:C37E  38         			sec
         01:C37F             	!:
10701                        		__bfalse	.LL494
         01:C37F  90 34      			bcc	.LL494
10702                        	
10703                        		.dbg	line,	"include\routines_LEVELS.c", 1481; {
10704                        	
10705                        		.dbg	line,	"include\routines_LEVELS.c", 1482; // CHECK COLLISION WITH RIGHT FLOOR //
10706                        	
10707                        		.dbg	line,	"include\routines_LEVELS.c", 1483; collision_PLAYER_BG( 22 , 32 );//24
10708                        		__ld.wi		22
         01:C381  A9 16      			lda.l	#22
         01:C383  C2         			cly
10709                        		__pusharg.wr
         01:C384  A6 8D      			ldx	<__sp
         01:C386  CA         			dex
         01:C387  CA         			dex
         01:C388  95 08      			sta.l	<__stack, x
         01:C38A  94 09      			sty.h	<__stack, x
         01:C38C  86 8D      			stx	<__sp
10710                        		__ld.wi		32
         01:C38E  A9 20      			lda.l	#32
         01:C390  C2         			cly
10711                        		__pusharg.wr
         01:C391  A6 8D      			ldx	<__sp
         01:C393  CA         			dex
         01:C394  CA         			dex
         01:C395  95 08      			sta.l	<__stack, x
         01:C397  94 09      			sty.h	<__stack, x
         01:C399  86 8D      			stx	<__sp
10712                        		__call		_collision_PLAYER_BG
         01:C39B  20 31 FF   			call	_collision_PLAYER_BG
10713                        	
10714                        		.dbg	line,	"include\routines_LEVELS.c", 1485; if(map_blk_flag == TILE_EMPTY)
10715                        		__not.um	_map_blk_flag
         01:C39E  AD FA 2B   			lda	_map_blk_flag
         01:C3A1  18         			clc
         01:C3A2  D0 01      			bne	!+
         01:C3A4  38         			sec
         01:C3A5             	!:
10716                        		__bfalse	.LL495
         01:C3A5  90 0E      			bcc	.LL495
10717                        	
10718                        		.dbg	line,	"include\routines_LEVELS.c", 1486; {
10719                        	
10720                        		.dbg	line,	"include\routines_LEVELS.c", 1487; //set_far_base(TABLE_PLAYER_TILES_BANK[player_naked],TABLE_PLAYER_TILES_ADR[player_naked]);
10721                        	
10722                        		.dbg	line,	"include\routines_LEVELS.c", 1488; //far_load_vram(PLAYER_VRAM_ADR,TILES_16);
10723                        	
10724                        		.dbg	line,	"include\routines_LEVELS.c", 1490; jump_ladder = FALSE;
10725                        		__st.umiq	0, _jump_ladder
         01:C3A7  9C 22 23   			stz	_jump_ladder
10726                        	
10727                        		.dbg	line,	"include\routines_LEVELS.c", 1491; player_index_jump = 0;
10728                        		__st.umiq	0, _player_index_jump
         01:C3AA  9C 1D 23   			stz	_player_index_jump
10729                        	
10730                        		.dbg	line,	"include\routines_LEVELS.c", 1492; player_index_fall = 0;
10731                        		__st.umiq	0, _player_index_fall
         01:C3AD  9C 1E 23   			stz	_player_index_fall
10732                        	
10733                        		.dbg	line,	"include\routines_LEVELS.c", 1493; player_state = STATE_FALL;
10734                        		__st.umiq	9, _player_state
         01:C3B0  A9 09      			lda.l	#9
         01:C3B2  8D 19 23   			sta	_player_state
10735                        	
10736                        		.dbg	line,	"include\routines_LEVELS.c", 1494; }
10737                        	
10738                        		.dbg	line,	"include\routines_LEVELS.c", 1495; }
10739    01:C3B5             	.LL495:
10740                        	
10741                        		.dbg	line,	"include\routines_LEVELS.c", 1497; spr_set(weapon_id);
10742    01:C3B5             	.LL494:
10743                        		__ld.umq	_weapon_id
         01:C3B5  AD 27 23   			lda	_weapon_id
10744                        		__call		_spr_set.1
         01:C3B8  20 F1 E7   			call	_spr_set.1
10745                        	
10746                        		.dbg	line,	"include\routines_LEVELS.c", 1498; spr_pattern(WEAPON_IDLE_VRAM_ADRESS);
10747                        		__ld.wi		31808
         01:C3BB  A9 40      			lda.l	#31808
         01:C3BD  A0 7C      			ldy.h	#31808
10748                        		__call		_spr_pattern.1
         01:C3BF  20 3A E8   			call	_spr_pattern.1
10749                        	
10750                        		.dbg	line,	"include\routines_LEVELS.c", 1499; spr_x(player_pos_x+8);
10751                        		__ld.wm		_player_pos_x
         01:C3C2  AD F6 24   			lda.l	_player_pos_x
         01:C3C5  AC F7 24   			ldy.h	_player_pos_x
10752                        		__add.wi	8
         01:C3C8  18         			clc
         01:C3C9  69 08      			adc.l	#8
         01:C3CB  90 01      			bcc	!+
         01:C3CD  C8         			iny
         01:C3CE             	!:
10753                        		__call		_spr_x.1
         01:C3CE  20 1E E8   			call	_spr_x.1
10754                        	
10755                        		.dbg	line,	"include\routines_LEVELS.c", 1500; spr_y(player_pos_y+16);
10756                        		__ld.wm		_player_pos_y
         01:C3D1  AD F8 24   			lda.l	_player_pos_y
         01:C3D4  AC F9 24   			ldy.h	_player_pos_y
10757                        		__add.wi	16
         01:C3D7  18         			clc
         01:C3D8  69 10      			adc.l	#16
         01:C3DA  90 01      			bcc	!+
         01:C3DC  C8         			iny
         01:C3DD             	!:
10758                        		__call		_spr_y.1
         01:C3DD  20 2D E8   			call	_spr_y.1
10759                        	
10760                        		.dbg	line,	"include\routines_LEVELS.c", 1501; }
10761                        	
10762                        		.dbg	line,	"include\routines_LEVELS.c", 1504; else if(player_state == STATE_WALK)
10763                        		__bra		.LL496
         01:C3E0  4C DA DC   			bra	.LL496
10764    01:C3E3             	.LL492:
10765                        		__ld.umq	_player_state
         01:C3E3  AD 19 23   			lda	_player_state
10766                        		__equ_b.uiq	1
         01:C3E6  C9 01      			cmp	#1
         01:C3E8  F0 01      			beq	!+
         01:C3EA  18         			clc
         01:C3EB             	!:
10767                        		__bfalse	.LL497
         01:C3EB  B0 03 4C 91			bcc	.LL497
         01:C3EF  C7          
10768                        	
10769                        		.dbg	line,	"include\routines_LEVELS.c", 1505; {
10770                        	
10771                        		.dbg	line,	"include\routines_LEVELS.c", 1506; recenter_CAMERA();
10772                        		__call		_recenter_CAMERA
         01:C3F0  20 27 FF   			call	_recenter_CAMERA
10773                        	
10774                        		.dbg	line,	"include\routines_LEVELS.c", 1509; //--------------------------------------------------------------------------------------//
10775                        	
10776                        		.dbg	line,	"include\routines_LEVELS.c", 1510; //                                   FLOOR COLLISION                                    //
10777                        	
10778                        		.dbg	line,	"include\routines_LEVELS.c", 1511; //--------------------------------------------------------------------------------------//
10779                        	
10780                        		.dbg	line,	"include\routines_LEVELS.c", 1513; // CHECK COLLISION WITH LEFT FLOOR //
10781                        	
10782                        		.dbg	line,	"include\routines_LEVELS.c", 1514; collision_PLAYER_BG( 10 , 32 );//8
10783                        		__ld.wi		10
         01:C3F3  A9 0A      			lda.l	#10
         01:C3F5  C2         			cly
10784                        		__pusharg.wr
         01:C3F6  A6 8D      			ldx	<__sp
         01:C3F8  CA         			dex
         01:C3F9  CA         			dex
         01:C3FA  95 08      			sta.l	<__stack, x
         01:C3FC  94 09      			sty.h	<__stack, x
         01:C3FE  86 8D      			stx	<__sp
10785                        		__ld.wi		32
         01:C400  A9 20      			lda.l	#32
         01:C402  C2         			cly
10786                        		__pusharg.wr
         01:C403  A6 8D      			ldx	<__sp
         01:C405  CA         			dex
         01:C406  CA         			dex
         01:C407  95 08      			sta.l	<__stack, x
         01:C409  94 09      			sty.h	<__stack, x
         01:C40B  86 8D      			stx	<__sp
10787                        		__call		_collision_PLAYER_BG
         01:C40D  20 31 FF   			call	_collision_PLAYER_BG
10788                        	
10789                        		.dbg	line,	"include\routines_LEVELS.c", 1516; if(map_blk_flag == TILE_EMPTY)
10790                        		__not.um	_map_blk_flag
         01:C410  AD FA 2B   			lda	_map_blk_flag
         01:C413  18         			clc
         01:C414  D0 01      			bne	!+
         01:C416  38         			sec
         01:C417             	!:
10791                        		__bfalse	.LL498
         01:C417  B0 03 4C CF			bcc	.LL498
         01:C41B  C4          
10792                        	
10793                        		.dbg	line,	"include\routines_LEVELS.c", 1517; {
10794                        	
10795                        		.dbg	line,	"include\routines_LEVELS.c", 1518; // CHECK COLLISION WITH RIGHT FLOOR //
10796                        	
10797                        		.dbg	line,	"include\routines_LEVELS.c", 1519; collision_PLAYER_BG( 22 , 32 );//24
10798                        		__ld.wi		22
         01:C41C  A9 16      			lda.l	#22
         01:C41E  C2         			cly
10799                        		__pusharg.wr
         01:C41F  A6 8D      			ldx	<__sp
         01:C421  CA         			dex
         01:C422  CA         			dex
         01:C423  95 08      			sta.l	<__stack, x
         01:C425  94 09      			sty.h	<__stack, x
         01:C427  86 8D      			stx	<__sp
10800                        		__ld.wi		32
         01:C429  A9 20      			lda.l	#32
         01:C42B  C2         			cly
10801                        		__pusharg.wr
         01:C42C  A6 8D      			ldx	<__sp
         01:C42E  CA         			dex
         01:C42F  CA         			dex
         01:C430  95 08      			sta.l	<__stack, x
         01:C432  94 09      			sty.h	<__stack, x
         01:C434  86 8D      			stx	<__sp
10802                        		__call		_collision_PLAYER_BG
         01:C436  20 31 FF   			call	_collision_PLAYER_BG
10803                        	
10804                        		.dbg	line,	"include\routines_LEVELS.c", 1521; if(map_blk_flag == TILE_EMPTY)
10805                        		__not.um	_map_blk_flag
         01:C439  AD FA 2B   			lda	_map_blk_flag
         01:C43C  18         			clc
         01:C43D  D0 01      			bne	!+
         01:C43F  38         			sec
         01:C440             	!:
10806                        		__bfalse	.LL499
         01:C440  90 11      			bcc	.LL499
10807                        	
10808                        		.dbg	line,	"include\routines_LEVELS.c", 1522; {
10809                        	
10810                        		.dbg	line,	"include\routines_LEVELS.c", 1523; /*spr_set(player_id);
10811                        	
10812                        		.dbg	line,	"include\routines_LEVELS.c", 1524; spr_pattern(PLAYER_IDLE_VRAM_ADR);
10813                        	
10814                        		.dbg	line,	"include\routines_LEVELS.c", 1526; spr_set(weapon_id);
10815                        	
10816                        		.dbg	line,	"include\routines_LEVELS.c", 1527; spr_pattern(WEAPON_IDLE_VRAM_ADRESS);
10817                        	
10818                        		.dbg	line,	"include\routines_LEVELS.c", 1528; spr_x(player_pos_x+8);
10819                        	
10820                        		.dbg	line,	"include\routines_LEVELS.c", 1529; spr_y(player_pos_y+16);*/
10821                        	
10822                        		.dbg	line,	"include\routines_LEVELS.c", 1531; jump_ladder = FALSE;
10823                        		__st.umiq	0, _jump_ladder
         01:C442  9C 22 23   			stz	_jump_ladder
10824                        	
10825                        		.dbg	line,	"include\routines_LEVELS.c", 1532; player_index_jump = 0;
10826                        		__st.umiq	0, _player_index_jump
         01:C445  9C 1D 23   			stz	_player_index_jump
10827                        	
10828                        		.dbg	line,	"include\routines_LEVELS.c", 1533; player_index_fall = 0;
10829                        		__st.umiq	0, _player_index_fall
         01:C448  9C 1E 23   			stz	_player_index_fall
10830                        	
10831                        		.dbg	line,	"include\routines_LEVELS.c", 1534; player_state = STATE_FALL;
10832                        		__st.umiq	9, _player_state
         01:C44B  A9 09      			lda.l	#9
         01:C44D  8D 19 23   			sta	_player_state
10833                        	
10834                        		.dbg	line,	"include\routines_LEVELS.c", 1535; }
10835                        	
10836                        		.dbg	line,	"include\routines_LEVELS.c", 1538; else
10837                        		__bra		.LL500
         01:C450  4C 42 C5   			bra	.LL500
10838    01:C453             	.LL499:
10839                        	
10840                        		.dbg	line,	"include\routines_LEVELS.c", 1539; {
10841                        	
10842                        		.dbg	line,	"include\routines_LEVELS.c", 1540; if(player_axis == AXIS_RIGHT)
10843                        		__not.um	_player_axis
         01:C453  AD 1A 23   			lda	_player_axis
         01:C456  18         			clc
         01:C457  D0 01      			bne	!+
         01:C459  38         			sec
         01:C45A             	!:
10844                        		__bfalse	.LL501
         01:C45A  90 3A      			bcc	.LL501
10845                        	
10846                        		.dbg	line,	"include\routines_LEVELS.c", 1541; {
10847                        	
10848                        		.dbg	line,	"include\routines_LEVELS.c", 1542; // CHECK COLLISION WITH RIGHT WALL //
10849                        	
10850                        		.dbg	line,	"include\routines_LEVELS.c", 1543; collision_PLAYER_BG( 24 , 31 ); // 24+2
10851                        		__ld.wi		24
         01:C45C  A9 18      			lda.l	#24
         01:C45E  C2         			cly
10852                        		__pusharg.wr
         01:C45F  A6 8D      			ldx	<__sp
         01:C461  CA         			dex
         01:C462  CA         			dex
         01:C463  95 08      			sta.l	<__stack, x
         01:C465  94 09      			sty.h	<__stack, x
         01:C467  86 8D      			stx	<__sp
10853                        		__ld.wi		31
         01:C469  A9 1F      			lda.l	#31
         01:C46B  C2         			cly
10854                        		__pusharg.wr
         01:C46C  A6 8D      			ldx	<__sp
         01:C46E  CA         			dex
         01:C46F  CA         			dex
         01:C470  95 08      			sta.l	<__stack, x
         01:C472  94 09      			sty.h	<__stack, x
         01:C474  86 8D      			stx	<__sp
10855                        		__call		_collision_PLAYER_BG
         01:C476  20 31 FF   			call	_collision_PLAYER_BG
10856                        	
10857                        		.dbg	line,	"include\routines_LEVELS.c", 1545; if(map_blk_flag == TILE_EMPTY)
10858                        		__not.um	_map_blk_flag
         01:C479  AD FA 2B   			lda	_map_blk_flag
         01:C47C  18         			clc
         01:C47D  D0 01      			bne	!+
         01:C47F  38         			sec
         01:C480             	!:
10859                        		__bfalse	.LL502
         01:C480  B0 03 4C 42			bcc	.LL502
         01:C484  C5          
10860                        	
10861                        		.dbg	line,	"include\routines_LEVELS.c", 1546; {
10862                        	
10863                        		.dbg	line,	"include\routines_LEVELS.c", 1547; sgx_map_pxl_x += 2;
10864                        		__add_st.wmiq	2, _sgx_map_pxl_x
         01:C485  18         			clc
         01:C486  AD D9 26   			lda.l	_sgx_map_pxl_x
         01:C489  69 02      			adc.l	#2
         01:C48B  8D D9 26   			sta.l	_sgx_map_pxl_x
         01:C48E  90 03      			bcc	!+
         01:C490  EE DA 26   			inc.h	_sgx_map_pxl_x
         01:C493             	!:
10865                        	
10866                        		.dbg	line,	"include\routines_LEVELS.c", 1548; }
10867                        	
10868                        		.dbg	line,	"include\routines_LEVELS.c", 1549; }
10869    01:C493             	.LL502	.alias		.LL503
10870                        	
10871                        		.dbg	line,	"include\routines_LEVELS.c", 1551; else
10872                        		__bra		.LL503
         01:C493  4C 42 C5   			bra	.LL503
10873    01:C496             	.LL501:
10874                        	
10875                        		.dbg	line,	"include\routines_LEVELS.c", 1552; {
10876                        	
10877                        		.dbg	line,	"include\routines_LEVELS.c", 1553; // CHECK COLLISION WITH LEFT WALL //
10878                        	
10879                        		.dbg	line,	"include\routines_LEVELS.c", 1554; collision_PLAYER_BG( 8 , 31 ); // 8-2
10880                        		__ld.wi		8
         01:C496  A9 08      			lda.l	#8
         01:C498  C2         			cly
10881                        		__pusharg.wr
         01:C499  A6 8D      			ldx	<__sp
         01:C49B  CA         			dex
         01:C49C  CA         			dex
         01:C49D  95 08      			sta.l	<__stack, x
         01:C49F  94 09      			sty.h	<__stack, x
         01:C4A1  86 8D      			stx	<__sp
10882                        		__ld.wi		31
         01:C4A3  A9 1F      			lda.l	#31
         01:C4A5  C2         			cly
10883                        		__pusharg.wr
         01:C4A6  A6 8D      			ldx	<__sp
         01:C4A8  CA         			dex
         01:C4A9  CA         			dex
         01:C4AA  95 08      			sta.l	<__stack, x
         01:C4AC  94 09      			sty.h	<__stack, x
         01:C4AE  86 8D      			stx	<__sp
10884                        		__call		_collision_PLAYER_BG
         01:C4B0  20 31 FF   			call	_collision_PLAYER_BG
10885                        	
10886                        		.dbg	line,	"include\routines_LEVELS.c", 1556; if(map_blk_flag == TILE_EMPTY)
10887                        		__not.um	_map_blk_flag
         01:C4B3  AD FA 2B   			lda	_map_blk_flag
         01:C4B6  18         			clc
         01:C4B7  D0 01      			bne	!+
         01:C4B9  38         			sec
         01:C4BA             	!:
10888                        		__bfalse	.LL504
         01:C4BA  B0 03 4C 42			bcc	.LL504
         01:C4BE  C5          
10889                        	
10890                        		.dbg	line,	"include\routines_LEVELS.c", 1557; {
10891                        	
10892                        		.dbg	line,	"include\routines_LEVELS.c", 1558; sgx_map_pxl_x -= 2;
10893                        		__sub_st.wmiq	2, _sgx_map_pxl_x
         01:C4BF  38         			sec
         01:C4C0  AD D9 26   			lda.l	_sgx_map_pxl_x
         01:C4C3  E9 02      			sbc.l	#2
         01:C4C5  8D D9 26   			sta.l	_sgx_map_pxl_x
         01:C4C8  B0 03      			bcs	!+
         01:C4CA  CE DA 26   			dec.h	_sgx_map_pxl_x
         01:C4CD             	!:
10894                        	
10895                        		.dbg	line,	"include\routines_LEVELS.c", 1559; }
10896                        	
10897                        		.dbg	line,	"include\routines_LEVELS.c", 1560; }
10898    01:C4CD             	.LL504	.alias		.LL505
10899    01:C4CD             	.LL503	.alias		.LL505
10900                        	
10901                        		.dbg	line,	"include\routines_LEVELS.c", 1561; }
10902    01:C4CD             	.LL500	.alias		.LL505
10903                        	
10904                        		.dbg	line,	"include\routines_LEVELS.c", 1562; }
10905                        	
10906                        		.dbg	line,	"include\routines_LEVELS.c", 1565; else
10907                        		__bra		.LL505
         01:C4CD  80 73      			bra	.LL505
10908    01:C4CF             	.LL498:
10909                        	
10910                        		.dbg	line,	"include\routines_LEVELS.c", 1566; {
10911                        	
10912                        		.dbg	line,	"include\routines_LEVELS.c", 1567; if(player_axis == AXIS_RIGHT)
10913                        		__not.um	_player_axis
         01:C4CF  AD 1A 23   			lda	_player_axis
         01:C4D2  18         			clc
         01:C4D3  D0 01      			bne	!+
         01:C4D5  38         			sec
         01:C4D6             	!:
10914                        		__bfalse	.LL506
         01:C4D6  90 36      			bcc	.LL506
10915                        	
10916                        		.dbg	line,	"include\routines_LEVELS.c", 1568; {
10917                        	
10918                        		.dbg	line,	"include\routines_LEVELS.c", 1569; // CHECK COLLISION WITH RIGHT WALL //
10919                        	
10920                        		.dbg	line,	"include\routines_LEVELS.c", 1570; collision_PLAYER_BG( 24 , 31 ); // 24+2
10921                        		__ld.wi		24
         01:C4D8  A9 18      			lda.l	#24
         01:C4DA  C2         			cly
10922                        		__pusharg.wr
         01:C4DB  A6 8D      			ldx	<__sp
         01:C4DD  CA         			dex
         01:C4DE  CA         			dex
         01:C4DF  95 08      			sta.l	<__stack, x
         01:C4E1  94 09      			sty.h	<__stack, x
         01:C4E3  86 8D      			stx	<__sp
10923                        		__ld.wi		31
         01:C4E5  A9 1F      			lda.l	#31
         01:C4E7  C2         			cly
10924                        		__pusharg.wr
         01:C4E8  A6 8D      			ldx	<__sp
         01:C4EA  CA         			dex
         01:C4EB  CA         			dex
         01:C4EC  95 08      			sta.l	<__stack, x
         01:C4EE  94 09      			sty.h	<__stack, x
         01:C4F0  86 8D      			stx	<__sp
10925                        		__call		_collision_PLAYER_BG
         01:C4F2  20 31 FF   			call	_collision_PLAYER_BG
10926                        	
10927                        		.dbg	line,	"include\routines_LEVELS.c", 1572; if(map_blk_flag == TILE_EMPTY)
10928                        		__not.um	_map_blk_flag
         01:C4F5  AD FA 2B   			lda	_map_blk_flag
         01:C4F8  18         			clc
         01:C4F9  D0 01      			bne	!+
         01:C4FB  38         			sec
         01:C4FC             	!:
10929                        		__bfalse	.LL507
         01:C4FC  90 44      			bcc	.LL507
10930                        	
10931                        		.dbg	line,	"include\routines_LEVELS.c", 1573; {
10932                        	
10933                        		.dbg	line,	"include\routines_LEVELS.c", 1574; sgx_map_pxl_x += 2;
10934                        		__add_st.wmiq	2, _sgx_map_pxl_x
         01:C4FE  18         			clc
         01:C4FF  AD D9 26   			lda.l	_sgx_map_pxl_x
         01:C502  69 02      			adc.l	#2
         01:C504  8D D9 26   			sta.l	_sgx_map_pxl_x
         01:C507  90 03      			bcc	!+
         01:C509  EE DA 26   			inc.h	_sgx_map_pxl_x
         01:C50C             	!:
10935                        	
10936                        		.dbg	line,	"include\routines_LEVELS.c", 1575; }
10937                        	
10938                        		.dbg	line,	"include\routines_LEVELS.c", 1576; }
10939    01:C50C             	.LL507	.alias		.LL508
10940                        	
10941                        		.dbg	line,	"include\routines_LEVELS.c", 1578; else
10942                        		__bra		.LL508
         01:C50C  80 34      			bra	.LL508
10943    01:C50E             	.LL506:
10944                        	
10945                        		.dbg	line,	"include\routines_LEVELS.c", 1579; {
10946                        	
10947                        		.dbg	line,	"include\routines_LEVELS.c", 1580; // CHECK COLLISION WITH LEFT WALL //
10948                        	
10949                        		.dbg	line,	"include\routines_LEVELS.c", 1581; collision_PLAYER_BG( 8 , 31 ); // 8-2
10950                        		__ld.wi		8
         01:C50E  A9 08      			lda.l	#8
         01:C510  C2         			cly
10951                        		__pusharg.wr
         01:C511  A6 8D      			ldx	<__sp
         01:C513  CA         			dex
         01:C514  CA         			dex
         01:C515  95 08      			sta.l	<__stack, x
         01:C517  94 09      			sty.h	<__stack, x
         01:C519  86 8D      			stx	<__sp
10952                        		__ld.wi		31
         01:C51B  A9 1F      			lda.l	#31
         01:C51D  C2         			cly
10953                        		__pusharg.wr
         01:C51E  A6 8D      			ldx	<__sp
         01:C520  CA         			dex
         01:C521  CA         			dex
         01:C522  95 08      			sta.l	<__stack, x
         01:C524  94 09      			sty.h	<__stack, x
         01:C526  86 8D      			stx	<__sp
10954                        		__call		_collision_PLAYER_BG
         01:C528  20 31 FF   			call	_collision_PLAYER_BG
10955                        	
10956                        		.dbg	line,	"include\routines_LEVELS.c", 1583; if(map_blk_flag == TILE_EMPTY)
10957                        		__not.um	_map_blk_flag
         01:C52B  AD FA 2B   			lda	_map_blk_flag
         01:C52E  18         			clc
         01:C52F  D0 01      			bne	!+
         01:C531  38         			sec
         01:C532             	!:
10958                        		__bfalse	.LL509
         01:C532  90 0E      			bcc	.LL509
10959                        	
10960                        		.dbg	line,	"include\routines_LEVELS.c", 1584; {
10961                        	
10962                        		.dbg	line,	"include\routines_LEVELS.c", 1585; sgx_map_pxl_x -= 2;
10963                        		__sub_st.wmiq	2, _sgx_map_pxl_x
         01:C534  38         			sec
         01:C535  AD D9 26   			lda.l	_sgx_map_pxl_x
         01:C538  E9 02      			sbc.l	#2
         01:C53A  8D D9 26   			sta.l	_sgx_map_pxl_x
         01:C53D  B0 03      			bcs	!+
         01:C53F  CE DA 26   			dec.h	_sgx_map_pxl_x
         01:C542             	!:
10964                        	
10965                        		.dbg	line,	"include\routines_LEVELS.c", 1586; }
10966                        	
10967                        		.dbg	line,	"include\routines_LEVELS.c", 1587; }
10968    01:C542             	.LL509:
10969    01:C542             	.LL508:
10970                        	
10971                        		.dbg	line,	"include\routines_LEVELS.c", 1588; }
10972    01:C542             	.LL505:
10973                        	
10974                        		.dbg	line,	"include\routines_LEVELS.c", 1593; spr_set(player_id);
10975                        		__ld.umq	_player_id
         01:C542  AD 18 23   			lda	_player_id
10976                        		__call		_spr_set.1
         01:C545  20 F1 E7   			call	_spr_set.1
10977                        	
10978                        		.dbg	line,	"include\routines_LEVELS.c", 1596; player_counter_anim += 1;
10979                        		__add_st.umiq	1, _player_counter_anim
         01:C548  EE 1C 23   			inc	_player_counter_anim
10980                        	
10981                        		.dbg	line,	"include\routines_LEVELS.c", 1599; // UPDATE PLAYER TILES //
10982                        	
10983                        		.dbg	line,	"include\routines_LEVELS.c", 1600; if(player_counter_anim == 1)
10984                        		__ld.umq	_player_counter_anim
         01:C54B  AD 1C 23   			lda	_player_counter_anim
10985                        		__equ_b.uiq	1
         01:C54E  C9 01      			cmp	#1
         01:C550  F0 01      			beq	!+
         01:C552  18         			clc
         01:C553             	!:
10986                        		__bfalse	.LL510
         01:C553  90 2A      			bcc	.LL510
10987                        	
10988                        		.dbg	line,	"include\routines_LEVELS.c", 1601; {
10989                        	
10990                        		.dbg	line,	"include\routines_LEVELS.c", 1602; spr_pattern(PLAYER_IDLE_VRAM_ADR);
10991                        		__ld.wi		5120
         01:C555  62         			cla
         01:C556  A0 14      			ldy.h	#5120
10992                        		__call		_spr_pattern.1
         01:C558  20 3A E8   			call	_spr_pattern.1
10993                        	
10994                        		.dbg	line,	"include\routines_LEVELS.c", 1604; spr_set(weapon_id);
10995                        		__ld.umq	_weapon_id
         01:C55B  AD 27 23   			lda	_weapon_id
10996                        		__call		_spr_set.1
         01:C55E  20 F1 E7   			call	_spr_set.1
10997                        	
10998                        		.dbg	line,	"include\routines_LEVELS.c", 1605; spr_pattern(WEAPON_IDLE_VRAM_ADRESS);
10999                        		__ld.wi		31808
         01:C561  A9 40      			lda.l	#31808
         01:C563  A0 7C      			ldy.h	#31808
11000                        		__call		_spr_pattern.1
         01:C565  20 3A E8   			call	_spr_pattern.1
11001                        	
11002                        		.dbg	line,	"include\routines_LEVELS.c", 1606; spr_x(player_pos_x+8);
11003                        		__ld.wm		_player_pos_x
         01:C568  AD F6 24   			lda.l	_player_pos_x
         01:C56B  AC F7 24   			ldy.h	_player_pos_x
11004                        		__add.wi	8
         01:C56E  18         			clc
         01:C56F  69 08      			adc.l	#8
         01:C571  90 01      			bcc	!+
         01:C573  C8         			iny
         01:C574             	!:
11005                        		__call		_spr_x.1
         01:C574  20 1E E8   			call	_spr_x.1
11006                        	
11007                        		.dbg	line,	"include\routines_LEVELS.c", 1607; weapon_y_offset = 16;
11008                        		__st.umiq	16, _weapon_y_offset
         01:C577  A9 10      			lda.l	#16
         01:C579  8D 8E 26   			sta	_weapon_y_offset
11009                        	
11010                        		.dbg	line,	"include\routines_LEVELS.c", 1608; //spr_y(player_pos_y+16);
11011                        	
11012                        		.dbg	line,	"include\routines_LEVELS.c", 1609; }
11013                        	
11014                        		.dbg	line,	"include\routines_LEVELS.c", 1612; else if(player_counter_anim == 2)
11015                        		__bra		.LL511
         01:C57C  4C 75 C7   			bra	.LL511
11016    01:C57F             	.LL510:
11017                        		__ld.umq	_player_counter_anim
         01:C57F  AD 1C 23   			lda	_player_counter_anim
11018                        		__equ_b.uiq	2
         01:C582  C9 02      			cmp	#2
         01:C584  F0 01      			beq	!+
         01:C586  18         			clc
         01:C587             	!:
11019                        		__bfalse	.LL512
         01:C587  90 45      			bcc	.LL512
11020                        	
11021                        		.dbg	line,	"include\routines_LEVELS.c", 1613; {
11022                        	
11023                        		.dbg	line,	"include\routines_LEVELS.c", 1614; spr_pattern(PLAYER_WALK_1_VRAM_ADR);
11024                        		__ld.wi		5376
         01:C589  62         			cla
         01:C58A  A0 15      			ldy.h	#5376
11025                        		__call		_spr_pattern.1
         01:C58C  20 3A E8   			call	_spr_pattern.1
11026                        	
11027                        		.dbg	line,	"include\routines_LEVELS.c", 1616; spr_set(weapon_id);
11028                        		__ld.umq	_weapon_id
         01:C58F  AD 27 23   			lda	_weapon_id
11029                        		__call		_spr_set.1
         01:C592  20 F1 E7   			call	_spr_set.1
11030                        	
11031                        		.dbg	line,	"include\routines_LEVELS.c", 1617; spr_pattern(WEAPON_WALK_1_VRAM_ADRESS);
11032                        		__ld.wi		31872
         01:C595  A9 80      			lda.l	#31872
         01:C597  A0 7C      			ldy.h	#31872
11033                        		__call		_spr_pattern.1
         01:C599  20 3A E8   			call	_spr_pattern.1
11034                        	
11035                        		.dbg	line,	"include\routines_LEVELS.c", 1618; weapon_y_offset = 17;
11036                        		__st.umiq	17, _weapon_y_offset
         01:C59C  A9 11      			lda.l	#17
         01:C59E  8D 8E 26   			sta	_weapon_y_offset
11037                        	
11038                        		.dbg	line,	"include\routines_LEVELS.c", 1619; //spr_y(player_pos_y+17);
11039                        	
11040                        		.dbg	line,	"include\routines_LEVELS.c", 1621; if(player_axis == AXIS_RIGHT)
11041                        		__not.um	_player_axis
         01:C5A1  AD 1A 23   			lda	_player_axis
         01:C5A4  18         			clc
         01:C5A5  D0 01      			bne	!+
         01:C5A7  38         			sec
         01:C5A8             	!:
11042                        		__bfalse	.LL513
         01:C5A8  90 12      			bcc	.LL513
11043                        	
11044                        		.dbg	line,	"include\routines_LEVELS.c", 1622; {
11045                        	
11046                        		.dbg	line,	"include\routines_LEVELS.c", 1623; spr_x(player_pos_x+5);
11047                        		__ld.wm		_player_pos_x
         01:C5AA  AD F6 24   			lda.l	_player_pos_x
         01:C5AD  AC F7 24   			ldy.h	_player_pos_x
11048                        		__add.wi	5
         01:C5B0  18         			clc
         01:C5B1  69 05      			adc.l	#5
         01:C5B3  90 01      			bcc	!+
         01:C5B5  C8         			iny
         01:C5B6             	!:
11049                        		__call		_spr_x.1
         01:C5B6  20 1E E8   			call	_spr_x.1
11050                        	
11051                        		.dbg	line,	"include\routines_LEVELS.c", 1624; }
11052                        	
11053                        		.dbg	line,	"include\routines_LEVELS.c", 1626; else
11054                        		__bra		.LL514
         01:C5B9  4C 75 C7   			bra	.LL514
11055    01:C5BC             	.LL513:
11056                        	
11057                        		.dbg	line,	"include\routines_LEVELS.c", 1627; {
11058                        	
11059                        		.dbg	line,	"include\routines_LEVELS.c", 1628; spr_x(player_pos_x+11);
11060                        		__ld.wm		_player_pos_x
         01:C5BC  AD F6 24   			lda.l	_player_pos_x
         01:C5BF  AC F7 24   			ldy.h	_player_pos_x
11061                        		__add.wi	11
         01:C5C2  18         			clc
         01:C5C3  69 0B      			adc.l	#11
         01:C5C5  90 01      			bcc	!+
         01:C5C7  C8         			iny
         01:C5C8             	!:
11062                        		__call		_spr_x.1
         01:C5C8  20 1E E8   			call	_spr_x.1
11063                        	
11064                        		.dbg	line,	"include\routines_LEVELS.c", 1629; }
11065    01:C5CB             	.LL514	.alias		.LL515
11066                        	
11067                        		.dbg	line,	"include\routines_LEVELS.c", 1630; }
11068                        	
11069                        		.dbg	line,	"include\routines_LEVELS.c", 1633; else if(player_counter_anim == 4)
11070                        		__bra		.LL515
         01:C5CB  4C 75 C7   			bra	.LL515
11071    01:C5CE             	.LL512:
11072                        		__ld.umq	_player_counter_anim
         01:C5CE  AD 1C 23   			lda	_player_counter_anim
11073                        		__equ_b.uiq	4
         01:C5D1  C9 04      			cmp	#4
         01:C5D3  F0 01      			beq	!+
         01:C5D5  18         			clc
         01:C5D6             	!:
11074                        		__bfalse	.LL516
         01:C5D6  90 40      			bcc	.LL516
11075                        	
11076                        		.dbg	line,	"include\routines_LEVELS.c", 1634; {
11077                        	
11078                        		.dbg	line,	"include\routines_LEVELS.c", 1635; spr_pattern(PLAYER_WALK_2_VRAM_ADR);
11079                        		__ld.wi		5632
         01:C5D8  62         			cla
         01:C5D9  A0 16      			ldy.h	#5632
11080                        		__call		_spr_pattern.1
         01:C5DB  20 3A E8   			call	_spr_pattern.1
11081                        	
11082                        		.dbg	line,	"include\routines_LEVELS.c", 1636; 
11083                        	
11084                        		.dbg	line,	"include\routines_LEVELS.c", 1637; spr_set(weapon_id);
11085                        		__ld.umq	_weapon_id
         01:C5DE  AD 27 23   			lda	_weapon_id
11086                        		__call		_spr_set.1
         01:C5E1  20 F1 E7   			call	_spr_set.1
11087                        	
11088                        		.dbg	line,	"include\routines_LEVELS.c", 1638; spr_pattern(WEAPON_WALK_2_VRAM_ADRESS);
11089                        		__ld.wi		31936
         01:C5E4  A9 C0      			lda.l	#31936
         01:C5E6  A0 7C      			ldy.h	#31936
11090                        		__call		_spr_pattern.1
         01:C5E8  20 3A E8   			call	_spr_pattern.1
11091                        	
11092                        		.dbg	line,	"include\routines_LEVELS.c", 1640; if(player_axis == AXIS_RIGHT)
11093                        		__not.um	_player_axis
         01:C5EB  AD 1A 23   			lda	_player_axis
         01:C5EE  18         			clc
         01:C5EF  D0 01      			bne	!+
         01:C5F1  38         			sec
         01:C5F2             	!:
11094                        		__bfalse	.LL517
         01:C5F2  90 12      			bcc	.LL517
11095                        	
11096                        		.dbg	line,	"include\routines_LEVELS.c", 1641; {
11097                        	
11098                        		.dbg	line,	"include\routines_LEVELS.c", 1642; spr_x(player_pos_x+3);
11099                        		__ld.wm		_player_pos_x
         01:C5F4  AD F6 24   			lda.l	_player_pos_x
         01:C5F7  AC F7 24   			ldy.h	_player_pos_x
11100                        		__add.wi	3
         01:C5FA  18         			clc
         01:C5FB  69 03      			adc.l	#3
         01:C5FD  90 01      			bcc	!+
         01:C5FF  C8         			iny
         01:C600             	!:
11101                        		__call		_spr_x.1
         01:C600  20 1E E8   			call	_spr_x.1
11102                        	
11103                        		.dbg	line,	"include\routines_LEVELS.c", 1643; }
11104                        	
11105                        		.dbg	line,	"include\routines_LEVELS.c", 1645; else
11106                        		__bra		.LL518
         01:C603  4C 75 C7   			bra	.LL518
11107    01:C606             	.LL517:
11108                        	
11109                        		.dbg	line,	"include\routines_LEVELS.c", 1646; {
11110                        	
11111                        		.dbg	line,	"include\routines_LEVELS.c", 1647; spr_x(player_pos_x+13);
11112                        		__ld.wm		_player_pos_x
         01:C606  AD F6 24   			lda.l	_player_pos_x
         01:C609  AC F7 24   			ldy.h	_player_pos_x
11113                        		__add.wi	13
         01:C60C  18         			clc
         01:C60D  69 0D      			adc.l	#13
         01:C60F  90 01      			bcc	!+
         01:C611  C8         			iny
         01:C612             	!:
11114                        		__call		_spr_x.1
         01:C612  20 1E E8   			call	_spr_x.1
11115                        	
11116                        		.dbg	line,	"include\routines_LEVELS.c", 1648; }
11117    01:C615             	.LL518	.alias		.LL519
11118                        	
11119                        		.dbg	line,	"include\routines_LEVELS.c", 1649; }
11120                        	
11121                        		.dbg	line,	"include\routines_LEVELS.c", 1652; else if(player_counter_anim == 7)
11122                        		__bra		.LL519
         01:C615  4C 75 C7   			bra	.LL519
11123    01:C618             	.LL516:
11124                        		__ld.umq	_player_counter_anim
         01:C618  AD 1C 23   			lda	_player_counter_anim
11125                        		__equ_b.uiq	7
         01:C61B  C9 07      			cmp	#7
         01:C61D  F0 01      			beq	!+
         01:C61F  18         			clc
         01:C620             	!:
11126                        		__bfalse	.LL520
         01:C620  90 40      			bcc	.LL520
11127                        	
11128                        		.dbg	line,	"include\routines_LEVELS.c", 1653; {
11129                        	
11130                        		.dbg	line,	"include\routines_LEVELS.c", 1654; //spr_set(player_id);
11131                        	
11132                        		.dbg	line,	"include\routines_LEVELS.c", 1655; spr_pattern(PLAYER_WALK_3_VRAM_ADR);
11133                        		__ld.wi		5888
         01:C622  62         			cla
         01:C623  A0 17      			ldy.h	#5888
11134                        		__call		_spr_pattern.1
         01:C625  20 3A E8   			call	_spr_pattern.1
11135                        	
11136                        		.dbg	line,	"include\routines_LEVELS.c", 1657; spr_set(weapon_id);
11137                        		__ld.umq	_weapon_id
         01:C628  AD 27 23   			lda	_weapon_id
11138                        		__call		_spr_set.1
         01:C62B  20 F1 E7   			call	_spr_set.1
11139                        	
11140                        		.dbg	line,	"include\routines_LEVELS.c", 1658; spr_pattern(WEAPON_WALK_1_VRAM_ADRESS);
11141                        		__ld.wi		31872
         01:C62E  A9 80      			lda.l	#31872
         01:C630  A0 7C      			ldy.h	#31872
11142                        		__call		_spr_pattern.1
         01:C632  20 3A E8   			call	_spr_pattern.1
11143                        	
11144                        		.dbg	line,	"include\routines_LEVELS.c", 1660; if(player_axis == AXIS_RIGHT)
11145                        		__not.um	_player_axis
         01:C635  AD 1A 23   			lda	_player_axis
         01:C638  18         			clc
         01:C639  D0 01      			bne	!+
         01:C63B  38         			sec
         01:C63C             	!:
11146                        		__bfalse	.LL521
         01:C63C  90 12      			bcc	.LL521
11147                        	
11148                        		.dbg	line,	"include\routines_LEVELS.c", 1661; {
11149                        	
11150                        		.dbg	line,	"include\routines_LEVELS.c", 1662; spr_x(player_pos_x+5);
11151                        		__ld.wm		_player_pos_x
         01:C63E  AD F6 24   			lda.l	_player_pos_x
         01:C641  AC F7 24   			ldy.h	_player_pos_x
11152                        		__add.wi	5
         01:C644  18         			clc
         01:C645  69 05      			adc.l	#5
         01:C647  90 01      			bcc	!+
         01:C649  C8         			iny
         01:C64A             	!:
11153                        		__call		_spr_x.1
         01:C64A  20 1E E8   			call	_spr_x.1
11154                        	
11155                        		.dbg	line,	"include\routines_LEVELS.c", 1663; }
11156                        	
11157                        		.dbg	line,	"include\routines_LEVELS.c", 1665; else
11158                        		__bra		.LL522
         01:C64D  4C 75 C7   			bra	.LL522
11159    01:C650             	.LL521:
11160                        	
11161                        		.dbg	line,	"include\routines_LEVELS.c", 1666; {
11162                        	
11163                        		.dbg	line,	"include\routines_LEVELS.c", 1667; spr_x(player_pos_x+11);
11164                        		__ld.wm		_player_pos_x
         01:C650  AD F6 24   			lda.l	_player_pos_x
         01:C653  AC F7 24   			ldy.h	_player_pos_x
11165                        		__add.wi	11
         01:C656  18         			clc
         01:C657  69 0B      			adc.l	#11
         01:C659  90 01      			bcc	!+
         01:C65B  C8         			iny
         01:C65C             	!:
11166                        		__call		_spr_x.1
         01:C65C  20 1E E8   			call	_spr_x.1
11167                        	
11168                        		.dbg	line,	"include\routines_LEVELS.c", 1668; }
11169    01:C65F             	.LL522	.alias		.LL523
11170                        	
11171                        		.dbg	line,	"include\routines_LEVELS.c", 1669; }
11172                        	
11173                        		.dbg	line,	"include\routines_LEVELS.c", 1672; else if(player_counter_anim == 9)
11174                        		__bra		.LL523
         01:C65F  4C 75 C7   			bra	.LL523
11175    01:C662             	.LL520:
11176                        		__ld.umq	_player_counter_anim
         01:C662  AD 1C 23   			lda	_player_counter_anim
11177                        		__equ_b.uiq	9
         01:C665  C9 09      			cmp	#9
         01:C667  F0 01      			beq	!+
         01:C669  18         			clc
         01:C66A             	!:
11178                        		__bfalse	.LL524
         01:C66A  90 2A      			bcc	.LL524
11179                        	
11180                        		.dbg	line,	"include\routines_LEVELS.c", 1673; {
11181                        	
11182                        		.dbg	line,	"include\routines_LEVELS.c", 1674; //spr_set(player_id);
11183                        	
11184                        		.dbg	line,	"include\routines_LEVELS.c", 1675; spr_pattern(PLAYER_IDLE_VRAM_ADR);
11185                        		__ld.wi		5120
         01:C66C  62         			cla
         01:C66D  A0 14      			ldy.h	#5120
11186                        		__call		_spr_pattern.1
         01:C66F  20 3A E8   			call	_spr_pattern.1
11187                        	
11188                        		.dbg	line,	"include\routines_LEVELS.c", 1677; spr_set(weapon_id);
11189                        		__ld.umq	_weapon_id
         01:C672  AD 27 23   			lda	_weapon_id
11190                        		__call		_spr_set.1
         01:C675  20 F1 E7   			call	_spr_set.1
11191                        	
11192                        		.dbg	line,	"include\routines_LEVELS.c", 1678; spr_pattern(WEAPON_IDLE_VRAM_ADRESS);
11193                        		__ld.wi		31808
         01:C678  A9 40      			lda.l	#31808
         01:C67A  A0 7C      			ldy.h	#31808
11194                        		__call		_spr_pattern.1
         01:C67C  20 3A E8   			call	_spr_pattern.1
11195                        	
11196                        		.dbg	line,	"include\routines_LEVELS.c", 1679; spr_x(player_pos_x+8);
11197                        		__ld.wm		_player_pos_x
         01:C67F  AD F6 24   			lda.l	_player_pos_x
         01:C682  AC F7 24   			ldy.h	_player_pos_x
11198                        		__add.wi	8
         01:C685  18         			clc
         01:C686  69 08      			adc.l	#8
         01:C688  90 01      			bcc	!+
         01:C68A  C8         			iny
         01:C68B             	!:
11199                        		__call		_spr_x.1
         01:C68B  20 1E E8   			call	_spr_x.1
11200                        	
11201                        		.dbg	line,	"include\routines_LEVELS.c", 1680; weapon_y_offset = 16;
11202                        		__st.umiq	16, _weapon_y_offset
         01:C68E  A9 10      			lda.l	#16
         01:C690  8D 8E 26   			sta	_weapon_y_offset
11203                        	
11204                        		.dbg	line,	"include\routines_LEVELS.c", 1681; //pr_y(player_pos_y+16);
11205                        	
11206                        		.dbg	line,	"include\routines_LEVELS.c", 1682; }
11207                        	
11208                        		.dbg	line,	"include\routines_LEVELS.c", 1685; else if(player_counter_anim == 12)
11209                        		__bra		.LL525
         01:C693  4C 75 C7   			bra	.LL525
11210    01:C696             	.LL524:
11211                        		__ld.umq	_player_counter_anim
         01:C696  AD 1C 23   			lda	_player_counter_anim
11212                        		__equ_b.uiq	12
         01:C699  C9 0C      			cmp	#12
         01:C69B  F0 01      			beq	!+
         01:C69D  18         			clc
         01:C69E             	!:
11213                        		__bfalse	.LL526
         01:C69E  90 3E      			bcc	.LL526
11214                        	
11215                        		.dbg	line,	"include\routines_LEVELS.c", 1686; {
11216                        	
11217                        		.dbg	line,	"include\routines_LEVELS.c", 1687; spr_pattern(PLAYER_WALK_4_VRAM_ADR);
11218                        		__ld.wi		6144
         01:C6A0  62         			cla
         01:C6A1  A0 18      			ldy.h	#6144
11219                        		__call		_spr_pattern.1
         01:C6A3  20 3A E8   			call	_spr_pattern.1
11220                        	
11221                        		.dbg	line,	"include\routines_LEVELS.c", 1689; spr_set(weapon_id);
11222                        		__ld.umq	_weapon_id
         01:C6A6  AD 27 23   			lda	_weapon_id
11223                        		__call		_spr_set.1
         01:C6A9  20 F1 E7   			call	_spr_set.1
11224                        	
11225                        		.dbg	line,	"include\routines_LEVELS.c", 1690; weapon_y_offset = 14;
11226                        		__st.umiq	14, _weapon_y_offset
         01:C6AC  A9 0E      			lda.l	#14
         01:C6AE  8D 8E 26   			sta	_weapon_y_offset
11227                        	
11228                        		.dbg	line,	"include\routines_LEVELS.c", 1691; //spr_y(player_pos_y+14);
11229                        	
11230                        		.dbg	line,	"include\routines_LEVELS.c", 1693; if(player_axis == AXIS_RIGHT)
11231                        		__not.um	_player_axis
         01:C6B1  AD 1A 23   			lda	_player_axis
         01:C6B4  18         			clc
         01:C6B5  D0 01      			bne	!+
         01:C6B7  38         			sec
         01:C6B8             	!:
11232                        		__bfalse	.LL527
         01:C6B8  90 12      			bcc	.LL527
11233                        	
11234                        		.dbg	line,	"include\routines_LEVELS.c", 1694; {
11235                        	
11236                        		.dbg	line,	"include\routines_LEVELS.c", 1695; spr_x(player_pos_x+12);
11237                        		__ld.wm		_player_pos_x
         01:C6BA  AD F6 24   			lda.l	_player_pos_x
         01:C6BD  AC F7 24   			ldy.h	_player_pos_x
11238                        		__add.wi	12
         01:C6C0  18         			clc
         01:C6C1  69 0C      			adc.l	#12
         01:C6C3  90 01      			bcc	!+
         01:C6C5  C8         			iny
         01:C6C6             	!:
11239                        		__call		_spr_x.1
         01:C6C6  20 1E E8   			call	_spr_x.1
11240                        	
11241                        		.dbg	line,	"include\routines_LEVELS.c", 1696; }
11242                        	
11243                        		.dbg	line,	"include\routines_LEVELS.c", 1698; else
11244                        		__bra		.LL528
         01:C6C9  4C 75 C7   			bra	.LL528
11245    01:C6CC             	.LL527:
11246                        	
11247                        		.dbg	line,	"include\routines_LEVELS.c", 1699; {
11248                        	
11249                        		.dbg	line,	"include\routines_LEVELS.c", 1700; spr_x(player_pos_x+4);
11250                        		__ld.wm		_player_pos_x
         01:C6CC  AD F6 24   			lda.l	_player_pos_x
         01:C6CF  AC F7 24   			ldy.h	_player_pos_x
11251                        		__add.wi	4
         01:C6D2  18         			clc
         01:C6D3  69 04      			adc.l	#4
         01:C6D5  90 01      			bcc	!+
         01:C6D7  C8         			iny
         01:C6D8             	!:
11252                        		__call		_spr_x.1
         01:C6D8  20 1E E8   			call	_spr_x.1
11253                        	
11254                        		.dbg	line,	"include\routines_LEVELS.c", 1701; }
11255    01:C6DB             	.LL528	.alias		.LL529
11256                        	
11257                        		.dbg	line,	"include\routines_LEVELS.c", 1702; }
11258                        	
11259                        		.dbg	line,	"include\routines_LEVELS.c", 1705; else if(player_counter_anim == 15)
11260                        		__bra		.LL529
         01:C6DB  4C 75 C7   			bra	.LL529
11261    01:C6DE             	.LL526:
11262                        		__ld.umq	_player_counter_anim
         01:C6DE  AD 1C 23   			lda	_player_counter_anim
11263                        		__equ_b.uiq	15
         01:C6E1  C9 0F      			cmp	#15
         01:C6E3  F0 01      			beq	!+
         01:C6E5  18         			clc
         01:C6E6             	!:
11264                        		__bfalse	.LL530
         01:C6E6  90 3A      			bcc	.LL530
11265                        	
11266                        		.dbg	line,	"include\routines_LEVELS.c", 1706; {
11267                        	
11268                        		.dbg	line,	"include\routines_LEVELS.c", 1707; spr_pattern(PLAYER_WALK_5_VRAM_ADR);
11269                        		__ld.wi		6400
         01:C6E8  62         			cla
         01:C6E9  A0 19      			ldy.h	#6400
11270                        		__call		_spr_pattern.1
         01:C6EB  20 3A E8   			call	_spr_pattern.1
11271                        	
11272                        		.dbg	line,	"include\routines_LEVELS.c", 1709; spr_set(weapon_id);
11273                        		__ld.umq	_weapon_id
         01:C6EE  AD 27 23   			lda	_weapon_id
11274                        		__call		_spr_set.1
         01:C6F1  20 F1 E7   			call	_spr_set.1
11275                        	
11276                        		.dbg	line,	"include\routines_LEVELS.c", 1710; weapon_y_offset = 12;
11277                        		__st.umiq	12, _weapon_y_offset
         01:C6F4  A9 0C      			lda.l	#12
         01:C6F6  8D 8E 26   			sta	_weapon_y_offset
11278                        	
11279                        		.dbg	line,	"include\routines_LEVELS.c", 1711; //spr_y(player_pos_y+12);
11280                        	
11281                        		.dbg	line,	"include\routines_LEVELS.c", 1713; if(player_axis == AXIS_RIGHT)
11282                        		__not.um	_player_axis
         01:C6F9  AD 1A 23   			lda	_player_axis
         01:C6FC  18         			clc
         01:C6FD  D0 01      			bne	!+
         01:C6FF  38         			sec
         01:C700             	!:
11283                        		__bfalse	.LL531
         01:C700  90 11      			bcc	.LL531
11284                        	
11285                        		.dbg	line,	"include\routines_LEVELS.c", 1714; {
11286                        	
11287                        		.dbg	line,	"include\routines_LEVELS.c", 1715; spr_x(player_pos_x+15);
11288                        		__ld.wm		_player_pos_x
         01:C702  AD F6 24   			lda.l	_player_pos_x
         01:C705  AC F7 24   			ldy.h	_player_pos_x
11289                        		__add.wi	15
         01:C708  18         			clc
         01:C709  69 0F      			adc.l	#15
         01:C70B  90 01      			bcc	!+
         01:C70D  C8         			iny
         01:C70E             	!:
11290                        		__call		_spr_x.1
         01:C70E  20 1E E8   			call	_spr_x.1
11291                        	
11292                        		.dbg	line,	"include\routines_LEVELS.c", 1716; }
11293                        	
11294                        		.dbg	line,	"include\routines_LEVELS.c", 1718; else
11295                        		__bra		.LL532
         01:C711  80 62      			bra	.LL532
11296    01:C713             	.LL531:
11297                        	
11298                        		.dbg	line,	"include\routines_LEVELS.c", 1719; {
11299                        	
11300                        		.dbg	line,	"include\routines_LEVELS.c", 1720; spr_x(player_pos_x+1);
11301                        		__ld.wm		_player_pos_x
         01:C713  AD F6 24   			lda.l	_player_pos_x
         01:C716  AC F7 24   			ldy.h	_player_pos_x
11302                        		__add.wi	1
         01:C719  1A         			inc	a
         01:C71A  D0 01      			bne	!+
         01:C71C  C8         			iny
         01:C71D             	!:
11303                        		__call		_spr_x.1
         01:C71D  20 1E E8   			call	_spr_x.1
11304                        	
11305                        		.dbg	line,	"include\routines_LEVELS.c", 1721; }
11306    01:C720             	.LL532	.alias		.LL533
11307                        	
11308                        		.dbg	line,	"include\routines_LEVELS.c", 1722; }
11309                        	
11310                        		.dbg	line,	"include\routines_LEVELS.c", 1725; else if(player_counter_anim == 18)
11311                        		__bra		.LL533
         01:C720  80 53      			bra	.LL533
11312    01:C722             	.LL530:
11313                        		__ld.umq	_player_counter_anim
         01:C722  AD 1C 23   			lda	_player_counter_anim
11314                        		__equ_b.uiq	18
         01:C725  C9 12      			cmp	#18
         01:C727  F0 01      			beq	!+
         01:C729  18         			clc
         01:C72A             	!:
11315                        		__bfalse	.LL534
         01:C72A  90 3C      			bcc	.LL534
11316                        	
11317                        		.dbg	line,	"include\routines_LEVELS.c", 1726; {
11318                        	
11319                        		.dbg	line,	"include\routines_LEVELS.c", 1727; spr_pattern(PLAYER_WALK_6_VRAM_ADR);
11320                        		__ld.wi		6656
         01:C72C  62         			cla
         01:C72D  A0 1A      			ldy.h	#6656
11321                        		__call		_spr_pattern.1
         01:C72F  20 3A E8   			call	_spr_pattern.1
11322                        	
11323                        		.dbg	line,	"include\routines_LEVELS.c", 1729; spr_set(weapon_id);
11324                        		__ld.umq	_weapon_id
         01:C732  AD 27 23   			lda	_weapon_id
11325                        		__call		_spr_set.1
         01:C735  20 F1 E7   			call	_spr_set.1
11326                        	
11327                        		.dbg	line,	"include\routines_LEVELS.c", 1730; weapon_y_offset = 14;
11328                        		__st.umiq	14, _weapon_y_offset
         01:C738  A9 0E      			lda.l	#14
         01:C73A  8D 8E 26   			sta	_weapon_y_offset
11329                        	
11330                        		.dbg	line,	"include\routines_LEVELS.c", 1731; //spr_y(player_pos_y+14);
11331                        	
11332                        		.dbg	line,	"include\routines_LEVELS.c", 1733; if(player_axis == AXIS_RIGHT)
11333                        		__not.um	_player_axis
         01:C73D  AD 1A 23   			lda	_player_axis
         01:C740  18         			clc
         01:C741  D0 01      			bne	!+
         01:C743  38         			sec
         01:C744             	!:
11334                        		__bfalse	.LL535
         01:C744  90 11      			bcc	.LL535
11335                        	
11336                        		.dbg	line,	"include\routines_LEVELS.c", 1734; {
11337                        	
11338                        		.dbg	line,	"include\routines_LEVELS.c", 1735; spr_x(player_pos_x+12);
11339                        		__ld.wm		_player_pos_x
         01:C746  AD F6 24   			lda.l	_player_pos_x
         01:C749  AC F7 24   			ldy.h	_player_pos_x
11340                        		__add.wi	12
         01:C74C  18         			clc
         01:C74D  69 0C      			adc.l	#12
         01:C74F  90 01      			bcc	!+
         01:C751  C8         			iny
         01:C752             	!:
11341                        		__call		_spr_x.1
         01:C752  20 1E E8   			call	_spr_x.1
11342                        	
11343                        		.dbg	line,	"include\routines_LEVELS.c", 1736; }
11344                        	
11345                        		.dbg	line,	"include\routines_LEVELS.c", 1738; else
11346                        		__bra		.LL536
         01:C755  80 1E      			bra	.LL536
11347    01:C757             	.LL535:
11348                        	
11349                        		.dbg	line,	"include\routines_LEVELS.c", 1739; {
11350                        	
11351                        		.dbg	line,	"include\routines_LEVELS.c", 1740; spr_x(player_pos_x+4);
11352                        		__ld.wm		_player_pos_x
         01:C757  AD F6 24   			lda.l	_player_pos_x
         01:C75A  AC F7 24   			ldy.h	_player_pos_x
11353                        		__add.wi	4
         01:C75D  18         			clc
         01:C75E  69 04      			adc.l	#4
         01:C760  90 01      			bcc	!+
         01:C762  C8         			iny
         01:C763             	!:
11354                        		__call		_spr_x.1
         01:C763  20 1E E8   			call	_spr_x.1
11355                        	
11356                        		.dbg	line,	"include\routines_LEVELS.c", 1741; } 
11357    01:C766             	.LL536	.alias		.LL537
11358                        	
11359                        		.dbg	line,	"include\routines_LEVELS.c", 1742; }
11360                        	
11361                        		.dbg	line,	"include\routines_LEVELS.c", 1745; else if(player_counter_anim == 19)
11362                        		__bra		.LL537
         01:C766  80 0D      			bra	.LL537
11363    01:C768             	.LL534:
11364                        		__ld.umq	_player_counter_anim
         01:C768  AD 1C 23   			lda	_player_counter_anim
11365                        		__equ_b.uiq	19
         01:C76B  C9 13      			cmp	#19
         01:C76D  F0 01      			beq	!+
         01:C76F  18         			clc
         01:C770             	!:
11366                        		__bfalse	.LL538
         01:C770  90 03      			bcc	.LL538
11367                        	
11368                        		.dbg	line,	"include\routines_LEVELS.c", 1746; {
11369                        	
11370                        		.dbg	line,	"include\routines_LEVELS.c", 1747; player_counter_anim = 0;
11371                        		__st.umiq	0, _player_counter_anim
         01:C772  9C 1C 23   			stz	_player_counter_anim
11372                        	
11373                        		.dbg	line,	"include\routines_LEVELS.c", 1748; }
11374                        	
11375                        		.dbg	line,	"include\routines_LEVELS.c", 1751; spr_set(weapon_id);
11376    01:C775             	.LL538:
11377    01:C775             	.LL537:
11378    01:C775             	.LL533:
11379    01:C775             	.LL529:
11380    01:C775             	.LL525:
11381    01:C775             	.LL523:
11382    01:C775             	.LL519:
11383    01:C775             	.LL515:
11384    01:C775             	.LL511:
11385                        		__ld.umq	_weapon_id
         01:C775  AD 27 23   			lda	_weapon_id
11386                        		__call		_spr_set.1
         01:C778  20 F1 E7   			call	_spr_set.1
11387                        	
11388                        		.dbg	line,	"include\routines_LEVELS.c", 1752; spr_y(player_pos_y + weapon_y_offset);
11389                        		__ld.bm		_weapon_y_offset
         01:C77B  AD 8E 26   			lda	_weapon_y_offset
         01:C77E  C2         			cly
         01:C77F  10 01      			bpl	!+
         01:C781  88         			dey
         01:C782             	!:
11390                        		__add.wm	_player_pos_y
         01:C782  18         			clc
         01:C783  6D F8 24   			adc.l	_player_pos_y
         01:C786  42         			say
         01:C787  6D F9 24   			adc.h	_player_pos_y
         01:C78A  42         			say
11391                        		__call		_spr_y.1
         01:C78B  20 2D E8   			call	_spr_y.1
11392                        	
11393                        		.dbg	line,	"include\routines_LEVELS.c", 1753; //player_counter_anim += 1;
11394                        	
11395                        		.dbg	line,	"include\routines_LEVELS.c", 1755; }
11396                        	
11397                        		.dbg	line,	"include\routines_LEVELS.c", 1758; else if(player_state == STATE_JUMP)
11398                        		__bra		.LL539
         01:C78E  4C DA DC   			bra	.LL539
11399    01:C791             	.LL497:
11400                        		__ld.umq	_player_state
         01:C791  AD 19 23   			lda	_player_state
11401                        		__equ_b.uiq	4
         01:C794  C9 04      			cmp	#4
         01:C796  F0 01      			beq	!+
         01:C798  18         			clc
         01:C799             	!:
11402                        		__bfalse	.LL540
         01:C799  B0 03 4C 95			bcc	.LL540
         01:C79D  CD          
11403                        	
11404                        		.dbg	line,	"include\routines_LEVELS.c", 1759; {
11405                        	
11406                        		.dbg	line,	"include\routines_LEVELS.c", 1760; unsigned char i;
11407                        	
11408                        		.dbg	line,	"include\routines_LEVELS.c", 1761; i = 1;
11409                        		__st.umiq	1, __update_PLAYER_end - 1  /* i */
         01:C79E  A9 01      			lda.l	#1
         01:C7A0  8D 0C 23   			sta	__update_PLAYER_end - 1
11410                        	
11411                        		.dbg	line,	"include\routines_LEVELS.c", 1764; if(player_counter_anim == 0)
11412                        		__not.um	_player_counter_anim
         01:C7A3  AD 1C 23   			lda	_player_counter_anim
         01:C7A6  18         			clc
         01:C7A7  D0 01      			bne	!+
         01:C7A9  38         			sec
         01:C7AA             	!:
11413                        		__bfalse	.LL541
         01:C7AA  90 11      			bcc	.LL541
11414                        	
11415                        		.dbg	line,	"include\routines_LEVELS.c", 1765; {
11416                        	
11417                        		.dbg	line,	"include\routines_LEVELS.c", 1766; spr_set(player_id);
11418                        		__ld.umq	_player_id
         01:C7AC  AD 18 23   			lda	_player_id
11419                        		__call		_spr_set.1
         01:C7AF  20 F1 E7   			call	_spr_set.1
11420                        	
11421                        		.dbg	line,	"include\routines_LEVELS.c", 1767; spr_pattern(PLAYER_JUMP_VRAM_ADR);
11422                        		__ld.wi		6912
         01:C7B2  62         			cla
         01:C7B3  A0 1B      			ldy.h	#6912
11423                        		__call		_spr_pattern.1
         01:C7B5  20 3A E8   			call	_spr_pattern.1
11424                        	
11425                        		.dbg	line,	"include\routines_LEVELS.c", 1769; player_counter_anim = 1;
11426                        		__st.umiq	1, _player_counter_anim
         01:C7B8  A9 01      			lda.l	#1
         01:C7BA  8D 1C 23   			sta	_player_counter_anim
11427                        	
11428                        		.dbg	line,	"include\routines_LEVELS.c", 1770; }
11429                        	
11430                        		.dbg	line,	"include\routines_LEVELS.c", 1773; player_pos_y += TABLE_PLAYER_JUMP_V[player_index_jump];
11431    01:C7BD             	.LL541:
11432                        		__ldx.umq	_player_index_jump
         01:C7BD  AE 1D 23   			ldx	_player_index_jump
11433                        		__ld.bax	_TABLE_PLAYER_JUMP_V
         01:C7C0  BD 87 62   			lda	_TABLE_PLAYER_JUMP_V, x
         01:C7C3  C2         			cly
         01:C7C4  10 01      			bpl	!+
         01:C7C6  88         			dey
         01:C7C7             	!:
11434                        		__add_st.wmq	_player_pos_y
         01:C7C7  18         			clc
         01:C7C8  6D F8 24   			adc.l	_player_pos_y
         01:C7CB  8D F8 24   			sta.l	_player_pos_y
         01:C7CE  98         			tya
         01:C7CF  6D F9 24   			adc.h	_player_pos_y
         01:C7D2  8D F9 24   			sta.h	_player_pos_y
11435                        	
11436                        		.dbg	line,	"include\routines_LEVELS.c", 1775; // CHECK COLLISION WITH CEILING //
11437                        	
11438                        		.dbg	line,	"include\routines_LEVELS.c", 1776; collision_PLAYER_BG( 15 , 8 );
11439                        		__ld.wi		15
         01:C7D5  A9 0F      			lda.l	#15
         01:C7D7  C2         			cly
11440                        		__pusharg.wr
         01:C7D8  A6 8D      			ldx	<__sp
         01:C7DA  CA         			dex
         01:C7DB  CA         			dex
         01:C7DC  95 08      			sta.l	<__stack, x
         01:C7DE  94 09      			sty.h	<__stack, x
         01:C7E0  86 8D      			stx	<__sp
11441                        		__ld.wi		8
         01:C7E2  A9 08      			lda.l	#8
         01:C7E4  C2         			cly
11442                        		__pusharg.wr
         01:C7E5  A6 8D      			ldx	<__sp
         01:C7E7  CA         			dex
         01:C7E8  CA         			dex
         01:C7E9  95 08      			sta.l	<__stack, x
         01:C7EB  94 09      			sty.h	<__stack, x
         01:C7ED  86 8D      			stx	<__sp
11443                        		__call		_collision_PLAYER_BG
         01:C7EF  20 31 FF   			call	_collision_PLAYER_BG
11444                        	
11445                        		.dbg	line,	"include\routines_LEVELS.c", 1778; if(map_blk_flag == TILE_BG)
11446                        		__ld.umq	_map_blk_flag
         01:C7F2  AD FA 2B   			lda	_map_blk_flag
11447                        		__equ_b.uiq	1
         01:C7F5  C9 01      			cmp	#1
         01:C7F7  F0 01      			beq	!+
         01:C7F9  18         			clc
         01:C7FA             	!:
11448                        		__bfalse	.LL542
         01:C7FA  90 5A      			bcc	.LL542
11449                        	
11450                        		.dbg	line,	"include\routines_LEVELS.c", 1779; {
11451                        	
11452                        		.dbg	line,	"include\routines_LEVELS.c", 1780; for(i=1 ; i<8 ; i++)
11453                        		__st.umiq	1, __update_PLAYER_end - 1  /* i */
         01:C7FC  A9 01      			lda.l	#1
         01:C7FE  8D 0C 23   			sta	__update_PLAYER_end - 1
11454    01:C801             	.LL543:
11455                        		__ld.umq	__update_PLAYER_end - 1  /* i */
         01:C801  AD 0C 23   			lda	__update_PLAYER_end - 1
11456                        		__ult_b.uiq	8
         01:C804  C9 08      			cmp	#8		; Subtract integer from A.
         01:C806  6A         			ror	a		; CC if A < integer.
         01:C807  49 80      			eor	#$80
         01:C809  2A         			rol	a
11457                        		__btrue		.LL545
         01:C80A  B0 07      			bcs	.LL545
11458                        		__bra		.LL546
         01:C80C  80 48      			bra	.LL546
11459    01:C80E             	.LL544:
11460                        		__inc.umq	__update_PLAYER_end - 1  /* i */
         01:C80E  EE 0C 23   			inc	__update_PLAYER_end - 1
11461                        		__bra		.LL543
         01:C811  80 EE      			bra	.LL543
11462    01:C813             	.LL545:
11463                        	
11464                        		.dbg	line,	"include\routines_LEVELS.c", 1781; {
11465                        	
11466                        		.dbg	line,	"include\routines_LEVELS.c", 1782; collision_PLAYER_BG( 15 , 8 + i );
11467                        		__ld.wi		15
         01:C813  A9 0F      			lda.l	#15
         01:C815  C2         			cly
11468                        		__pusharg.wr
         01:C816  A6 8D      			ldx	<__sp
         01:C818  CA         			dex
         01:C819  CA         			dex
         01:C81A  95 08      			sta.l	<__stack, x
         01:C81C  94 09      			sty.h	<__stack, x
         01:C81E  86 8D      			stx	<__sp
11469                        		__ld.wi		8
         01:C820  A9 08      			lda.l	#8
         01:C822  C2         			cly
11470                        		__add.um	__update_PLAYER_end - 1  /* i */
         01:C823  18         			clc
         01:C824  6D 0C 23   			adc	__update_PLAYER_end - 1
         01:C827  90 01      			bcc	!+
         01:C829  C8         			iny
         01:C82A             	!:
11471                        		__pusharg.wr
         01:C82A  A6 8D      			ldx	<__sp
         01:C82C  CA         			dex
         01:C82D  CA         			dex
         01:C82E  95 08      			sta.l	<__stack, x
         01:C830  94 09      			sty.h	<__stack, x
         01:C832  86 8D      			stx	<__sp
11472                        		__call		_collision_PLAYER_BG
         01:C834  20 31 FF   			call	_collision_PLAYER_BG
11473                        	
11474                        		.dbg	line,	"include\routines_LEVELS.c", 1783; {
11475                        	
11476                        		.dbg	line,	"include\routines_LEVELS.c", 1784; if(map_blk_flag == TILE_EMPTY)
11477                        		__not.um	_map_blk_flag
         01:C837  AD FA 2B   			lda	_map_blk_flag
         01:C83A  18         			clc
         01:C83B  D0 01      			bne	!+
         01:C83D  38         			sec
         01:C83E             	!:
11478                        		__bfalse	.LL547
         01:C83E  90 CE      			bcc	.LL547
11479                        	
11480                        		.dbg	line,	"include\routines_LEVELS.c", 1785; {
11481                        	
11482                        		.dbg	line,	"include\routines_LEVELS.c", 1786; player_pos_y += i;
11483                        		__ld.um		__update_PLAYER_end - 1  /* i */
         01:C840  AD 0C 23   			lda	__update_PLAYER_end - 1
         01:C843  C2         			cly
11484                        		__add_st.wmq	_player_pos_y
         01:C844  18         			clc
         01:C845  6D F8 24   			adc.l	_player_pos_y
         01:C848  8D F8 24   			sta.l	_player_pos_y
         01:C84B  98         			tya
         01:C84C  6D F9 24   			adc.h	_player_pos_y
         01:C84F  8D F9 24   			sta.h	_player_pos_y
11485                        	
11486                        		.dbg	line,	"include\routines_LEVELS.c", 1787; break;
11487                        		__bra		.LL546
         01:C852  80 02      			bra	.LL546
11488                        	
11489                        		.dbg	line,	"include\routines_LEVELS.c", 1788; }
11490                        	
11491                        		.dbg	line,	"include\routines_LEVELS.c", 1789; }
11492    01:C854             	.LL547	.alias		.LL544
11493                        	
11494                        		.dbg	line,	"include\routines_LEVELS.c", 1790; }
11495                        		__bra		.LL544
         01:C854  80 B8      			bra	.LL544
11496    01:C856             	.LL546:
11497                        	
11498                        		.dbg	line,	"include\routines_LEVELS.c", 1791; }
11499                        	
11500                        		.dbg	line,	"include\routines_LEVELS.c", 1794; if(player_attack == FALSE)
11501    01:C856             	.LL542:
11502                        		__not.um	_player_attack
         01:C856  AD 21 23   			lda	_player_attack
         01:C859  18         			clc
         01:C85A  D0 01      			bne	!+
         01:C85C  38         			sec
         01:C85D             	!:
11503                        		__bfalse	.LL548
         01:C85D  90 18      			bcc	.LL548
11504                        	
11505                        		.dbg	line,	"include\routines_LEVELS.c", 1795; {
11506                        	
11507                        		.dbg	line,	"include\routines_LEVELS.c", 1796; spr_set(weapon_id);
11508                        		__ld.umq	_weapon_id
         01:C85F  AD 27 23   			lda	_weapon_id
11509                        		__call		_spr_set.1
         01:C862  20 F1 E7   			call	_spr_set.1
11510                        	
11511                        		.dbg	line,	"include\routines_LEVELS.c", 1797; spr_y(player_pos_y+8);
11512                        		__ld.wm		_player_pos_y
         01:C865  AD F8 24   			lda.l	_player_pos_y
         01:C868  AC F9 24   			ldy.h	_player_pos_y
11513                        		__add.wi	8
         01:C86B  18         			clc
         01:C86C  69 08      			adc.l	#8
         01:C86E  90 01      			bcc	!+
         01:C870  C8         			iny
         01:C871             	!:
11514                        		__call		_spr_y.1
         01:C871  20 2D E8   			call	_spr_y.1
11515                        	
11516                        		.dbg	line,	"include\routines_LEVELS.c", 1798; }
11517                        	
11518                        		.dbg	line,	"include\routines_LEVELS.c", 1800; 
11519                        	
11520                        		.dbg	line,	"include\routines_LEVELS.c", 1801; else
11521                        		__bra		.LL549
         01:C874  4C 20 CB   			bra	.LL549
11522    01:C877             	.LL548:
11523                        	
11524                        		.dbg	line,	"include\routines_LEVELS.c", 1802; {
11525                        	
11526                        		.dbg	line,	"include\routines_LEVELS.c", 1803; if(player_counter_attack == 0)
11527                        		__not.um	_player_counter_attack
         01:C877  AD 1F 23   			lda	_player_counter_attack
         01:C87A  18         			clc
         01:C87B  D0 01      			bne	!+
         01:C87D  38         			sec
         01:C87E             	!:
11528                        		__bfalse	.LL550
         01:C87E  90 53      			bcc	.LL550
11529                        	
11530                        		.dbg	line,	"include\routines_LEVELS.c", 1804; {
11531                        	
11532                        		.dbg	line,	"include\routines_LEVELS.c", 1805; spr_set(player_id);
11533                        		__ld.umq	_player_id
         01:C880  AD 18 23   			lda	_player_id
11534                        		__call		_spr_set.1
         01:C883  20 F1 E7   			call	_spr_set.1
11535                        	
11536                        		.dbg	line,	"include\routines_LEVELS.c", 1806; spr_pattern(PLAYER_JUMP_ATTACK_1_VRAM_ADR);
11537                        		__ld.wi		10496
         01:C886  62         			cla
         01:C887  A0 29      			ldy.h	#10496
11538                        		__call		_spr_pattern.1
         01:C889  20 3A E8   			call	_spr_pattern.1
11539                        	
11540                        		.dbg	line,	"include\routines_LEVELS.c", 1808; spr_set(weapon_id);
11541                        		__ld.umq	_weapon_id
         01:C88C  AD 27 23   			lda	_weapon_id
11542                        		__call		_spr_set.1
         01:C88F  20 F1 E7   			call	_spr_set.1
11543                        	
11544                        		.dbg	line,	"include\routines_LEVELS.c", 1809; spr_pattern(WEAPON_ATTACK_1_VRAM_ADRESS);
11545                        		__ld.wi		32000
         01:C892  62         			cla
         01:C893  A0 7D      			ldy.h	#32000
11546                        		__call		_spr_pattern.1
         01:C895  20 3A E8   			call	_spr_pattern.1
11547                        	
11548                        		.dbg	line,	"include\routines_LEVELS.c", 1811; if(player_axis == AXIS_RIGHT)
11549                        		__not.um	_player_axis
         01:C898  AD 1A 23   			lda	_player_axis
         01:C89B  18         			clc
         01:C89C  D0 01      			bne	!+
         01:C89E  38         			sec
         01:C89F             	!:
11550                        		__bfalse	.LL551
         01:C89F  90 11      			bcc	.LL551
11551                        	
11552                        		.dbg	line,	"include\routines_LEVELS.c", 1812; {
11553                        	
11554                        		.dbg	line,	"include\routines_LEVELS.c", 1813; spr_x(player_pos_x-14);
11555                        		__ld.wm		_player_pos_x
         01:C8A1  AD F6 24   			lda.l	_player_pos_x
         01:C8A4  AC F7 24   			ldy.h	_player_pos_x
11556                        		__sub.wi	14
         01:C8A7  38         			sec
         01:C8A8  E9 0E      			sbc.l	#14
         01:C8AA  B0 01      			bcs	!+
         01:C8AC  88         			dey
         01:C8AD             	!:
11557                        		__call		_spr_x.1
         01:C8AD  20 1E E8   			call	_spr_x.1
11558                        	
11559                        		.dbg	line,	"include\routines_LEVELS.c", 1814; }
11560                        	
11561                        		.dbg	line,	"include\routines_LEVELS.c", 1816; else
11562                        		__bra		.LL552
         01:C8B0  80 0F      			bra	.LL552
11563    01:C8B2             	.LL551:
11564                        	
11565                        		.dbg	line,	"include\routines_LEVELS.c", 1817; {
11566                        	
11567                        		.dbg	line,	"include\routines_LEVELS.c", 1818; spr_x(player_pos_x+29);
11568                        		__ld.wm		_player_pos_x
         01:C8B2  AD F6 24   			lda.l	_player_pos_x
         01:C8B5  AC F7 24   			ldy.h	_player_pos_x
11569                        		__add.wi	29
         01:C8B8  18         			clc
         01:C8B9  69 1D      			adc.l	#29
         01:C8BB  90 01      			bcc	!+
         01:C8BD  C8         			iny
         01:C8BE             	!:
11570                        		__call		_spr_x.1
         01:C8BE  20 1E E8   			call	_spr_x.1
11571                        	
11572                        		.dbg	line,	"include\routines_LEVELS.c", 1819; }
11573    01:C8C1             	.LL552:
11574                        	
11575                        		.dbg	line,	"include\routines_LEVELS.c", 1821; spr_y(player_pos_y-8);
11576                        		__ld.wm		_player_pos_y
         01:C8C1  AD F8 24   			lda.l	_player_pos_y
         01:C8C4  AC F9 24   			ldy.h	_player_pos_y
11577                        		__sub.wi	8
         01:C8C7  38         			sec
         01:C8C8  E9 08      			sbc.l	#8
         01:C8CA  B0 01      			bcs	!+
         01:C8CC  88         			dey
         01:C8CD             	!:
11578                        		__call		_spr_y.1
         01:C8CD  20 2D E8   			call	_spr_y.1
11579                        	
11580                        		.dbg	line,	"include\routines_LEVELS.c", 1822; }
11581                        	
11582                        		.dbg	line,	"include\routines_LEVELS.c", 1824; else if(player_counter_attack == 6)
11583                        		__bra		.LL553
         01:C8D0  4C 1D CB   			bra	.LL553
11584    01:C8D3             	.LL550:
11585                        		__ld.umq	_player_counter_attack
         01:C8D3  AD 1F 23   			lda	_player_counter_attack
11586                        		__equ_b.uiq	6
         01:C8D6  C9 06      			cmp	#6
         01:C8D8  F0 01      			beq	!+
         01:C8DA  18         			clc
         01:C8DB             	!:
11587                        		__bfalse	.LL554
         01:C8DB  90 54      			bcc	.LL554
11588                        	
11589                        		.dbg	line,	"include\routines_LEVELS.c", 1825; {
11590                        	
11591                        		.dbg	line,	"include\routines_LEVELS.c", 1826; spr_set(player_id);
11592                        		__ld.umq	_player_id
         01:C8DD  AD 18 23   			lda	_player_id
11593                        		__call		_spr_set.1
         01:C8E0  20 F1 E7   			call	_spr_set.1
11594                        	
11595                        		.dbg	line,	"include\routines_LEVELS.c", 1827; spr_pattern(PLAYER_JUMP_ATTACK_2_VRAM_ADR);
11596                        		__ld.wi		10752
         01:C8E3  62         			cla
         01:C8E4  A0 2A      			ldy.h	#10752
11597                        		__call		_spr_pattern.1
         01:C8E6  20 3A E8   			call	_spr_pattern.1
11598                        	
11599                        		.dbg	line,	"include\routines_LEVELS.c", 1829; spr_set(weapon_id);
11600                        		__ld.umq	_weapon_id
         01:C8E9  AD 27 23   			lda	_weapon_id
11601                        		__call		_spr_set.1
         01:C8EC  20 F1 E7   			call	_spr_set.1
11602                        	
11603                        		.dbg	line,	"include\routines_LEVELS.c", 1830; spr_pattern(WEAPON_ATTACK_2_VRAM_ADRESS);
11604                        		__ld.wi		32064
         01:C8EF  A9 40      			lda.l	#32064
         01:C8F1  A0 7D      			ldy.h	#32064
11605                        		__call		_spr_pattern.1
         01:C8F3  20 3A E8   			call	_spr_pattern.1
11606                        	
11607                        		.dbg	line,	"include\routines_LEVELS.c", 1832; if(player_axis == AXIS_RIGHT)
11608                        		__not.um	_player_axis
         01:C8F6  AD 1A 23   			lda	_player_axis
         01:C8F9  18         			clc
         01:C8FA  D0 01      			bne	!+
         01:C8FC  38         			sec
         01:C8FD             	!:
11609                        		__bfalse	.LL555
         01:C8FD  90 11      			bcc	.LL555
11610                        	
11611                        		.dbg	line,	"include\routines_LEVELS.c", 1833; {
11612                        	
11613                        		.dbg	line,	"include\routines_LEVELS.c", 1834; spr_x(player_pos_x+32);
11614                        		__ld.wm		_player_pos_x
         01:C8FF  AD F6 24   			lda.l	_player_pos_x
         01:C902  AC F7 24   			ldy.h	_player_pos_x
11615                        		__add.wi	32
         01:C905  18         			clc
         01:C906  69 20      			adc.l	#32
         01:C908  90 01      			bcc	!+
         01:C90A  C8         			iny
         01:C90B             	!:
11616                        		__call		_spr_x.1
         01:C90B  20 1E E8   			call	_spr_x.1
11617                        	
11618                        		.dbg	line,	"include\routines_LEVELS.c", 1835; 
11619                        	
11620                        		.dbg	line,	"include\routines_LEVELS.c", 1836; }
11621                        	
11622                        		.dbg	line,	"include\routines_LEVELS.c", 1837; 
11623                        	
11624                        		.dbg	line,	"include\routines_LEVELS.c", 1838; else
11625                        		__bra		.LL556
         01:C90E  80 0F      			bra	.LL556
11626    01:C910             	.LL555:
11627                        	
11628                        		.dbg	line,	"include\routines_LEVELS.c", 1839; {
11629                        	
11630                        		.dbg	line,	"include\routines_LEVELS.c", 1840; spr_x(player_pos_x-16);
11631                        		__ld.wm		_player_pos_x
         01:C910  AD F6 24   			lda.l	_player_pos_x
         01:C913  AC F7 24   			ldy.h	_player_pos_x
11632                        		__sub.wi	16
         01:C916  38         			sec
         01:C917  E9 10      			sbc.l	#16
         01:C919  B0 01      			bcs	!+
         01:C91B  88         			dey
         01:C91C             	!:
11633                        		__call		_spr_x.1
         01:C91C  20 1E E8   			call	_spr_x.1
11634                        	
11635                        		.dbg	line,	"include\routines_LEVELS.c", 1841; }
11636    01:C91F             	.LL556:
11637                        	
11638                        		.dbg	line,	"include\routines_LEVELS.c", 1843; spr_y(player_pos_y+6);
11639                        		__ld.wm		_player_pos_y
         01:C91F  AD F8 24   			lda.l	_player_pos_y
         01:C922  AC F9 24   			ldy.h	_player_pos_y
11640                        		__add.wi	6
         01:C925  18         			clc
         01:C926  69 06      			adc.l	#6
         01:C928  90 01      			bcc	!+
         01:C92A  C8         			iny
         01:C92B             	!:
11641                        		__call		_spr_y.1
         01:C92B  20 2D E8   			call	_spr_y.1
11642                        	
11643                        		.dbg	line,	"include\routines_LEVELS.c", 1844; }
11644                        	
11645                        		.dbg	line,	"include\routines_LEVELS.c", 1846; else if(player_counter_attack == 7)
11646                        		__bra		.LL557
         01:C92E  4C 1D CB   			bra	.LL557
11647    01:C931             	.LL554:
11648                        		__ld.umq	_player_counter_attack
         01:C931  AD 1F 23   			lda	_player_counter_attack
11649                        		__equ_b.uiq	7
         01:C934  C9 07      			cmp	#7
         01:C936  F0 01      			beq	!+
         01:C938  18         			clc
         01:C939             	!:
11650                        		__bfalse	.LL558
         01:C939  90 66      			bcc	.LL558
11651                        	
11652                        		.dbg	line,	"include\routines_LEVELS.c", 1847; {
11653                        	
11654                        		.dbg	line,	"include\routines_LEVELS.c", 1848; spr_set(chain_id);
11655                        		__ld.umq	_chain_id
         01:C93B  AD 26 23   			lda	_chain_id
11656                        		__call		_spr_set.1
         01:C93E  20 F1 E7   			call	_spr_set.1
11657                        	
11658                        		.dbg	line,	"include\routines_LEVELS.c", 1849; spr_y(player_pos_y);
11659                        		__ld.wm		_player_pos_y
         01:C941  AD F8 24   			lda.l	_player_pos_y
         01:C944  AC F9 24   			ldy.h	_player_pos_y
11660                        		__call		_spr_y.1
         01:C947  20 2D E8   			call	_spr_y.1
11661                        	
11662                        		.dbg	line,	"include\routines_LEVELS.c", 1851; if(player_axis == AXIS_RIGHT)
11663                        		__not.um	_player_axis
         01:C94A  AD 1A 23   			lda	_player_axis
         01:C94D  18         			clc
         01:C94E  D0 01      			bne	!+
         01:C950  38         			sec
         01:C951             	!:
11664                        		__bfalse	.LL559
         01:C951  90 27      			bcc	.LL559
11665                        	
11666                        		.dbg	line,	"include\routines_LEVELS.c", 1852; {
11667                        	
11668                        		.dbg	line,	"include\routines_LEVELS.c", 1853; spr_x(player_pos_x+32);
11669                        		__ld.wm		_player_pos_x
         01:C953  AD F6 24   			lda.l	_player_pos_x
         01:C956  AC F7 24   			ldy.h	_player_pos_x
11670                        		__add.wi	32
         01:C959  18         			clc
         01:C95A  69 20      			adc.l	#32
         01:C95C  90 01      			bcc	!+
         01:C95E  C8         			iny
         01:C95F             	!:
11671                        		__call		_spr_x.1
         01:C95F  20 1E E8   			call	_spr_x.1
11672                        	
11673                        		.dbg	line,	"include\routines_LEVELS.c", 1855; spr_set(weapon_id);
11674                        		__ld.umq	_weapon_id
         01:C962  AD 27 23   			lda	_weapon_id
11675                        		__call		_spr_set.1
         01:C965  20 F1 E7   			call	_spr_set.1
11676                        	
11677                        		.dbg	line,	"include\routines_LEVELS.c", 1856; spr_x(player_pos_x+48);
11678                        		__ld.wm		_player_pos_x
         01:C968  AD F6 24   			lda.l	_player_pos_x
         01:C96B  AC F7 24   			ldy.h	_player_pos_x
11679                        		__add.wi	48
         01:C96E  18         			clc
         01:C96F  69 30      			adc.l	#48
         01:C971  90 01      			bcc	!+
         01:C973  C8         			iny
         01:C974             	!:
11680                        		__call		_spr_x.1
         01:C974  20 1E E8   			call	_spr_x.1
11681                        	
11682                        		.dbg	line,	"include\routines_LEVELS.c", 1857; }
11683                        	
11684                        		.dbg	line,	"include\routines_LEVELS.c", 1858; 
11685                        	
11686                        		.dbg	line,	"include\routines_LEVELS.c", 1859; else
11687                        		__bra		.LL560
         01:C977  4C 1D CB   			bra	.LL560
11688    01:C97A             	.LL559:
11689                        	
11690                        		.dbg	line,	"include\routines_LEVELS.c", 1860; {
11691                        	
11692                        		.dbg	line,	"include\routines_LEVELS.c", 1861; spr_x(player_pos_x-16);
11693                        		__ld.wm		_player_pos_x
         01:C97A  AD F6 24   			lda.l	_player_pos_x
         01:C97D  AC F7 24   			ldy.h	_player_pos_x
11694                        		__sub.wi	16
         01:C980  38         			sec
         01:C981  E9 10      			sbc.l	#16
         01:C983  B0 01      			bcs	!+
         01:C985  88         			dey
         01:C986             	!:
11695                        		__call		_spr_x.1
         01:C986  20 1E E8   			call	_spr_x.1
11696                        	
11697                        		.dbg	line,	"include\routines_LEVELS.c", 1863; spr_set(weapon_id);
11698                        		__ld.umq	_weapon_id
         01:C989  AD 27 23   			lda	_weapon_id
11699                        		__call		_spr_set.1
         01:C98C  20 F1 E7   			call	_spr_set.1
11700                        	
11701                        		.dbg	line,	"include\routines_LEVELS.c", 1864; spr_x(player_pos_x-32);
11702                        		__ld.wm		_player_pos_x
         01:C98F  AD F6 24   			lda.l	_player_pos_x
         01:C992  AC F7 24   			ldy.h	_player_pos_x
11703                        		__sub.wi	32
         01:C995  38         			sec
         01:C996  E9 20      			sbc.l	#32
         01:C998  B0 01      			bcs	!+
         01:C99A  88         			dey
         01:C99B             	!:
11704                        		__call		_spr_x.1
         01:C99B  20 1E E8   			call	_spr_x.1
11705                        	
11706                        		.dbg	line,	"include\routines_LEVELS.c", 1865; }
11707    01:C99E             	.LL560	.alias		.LL561
11708                        	
11709                        		.dbg	line,	"include\routines_LEVELS.c", 1866; }
11710                        	
11711                        		.dbg	line,	"include\routines_LEVELS.c", 1868; else if(player_counter_attack == 8)
11712                        		__bra		.LL561
         01:C99E  4C 1D CB   			bra	.LL561
11713    01:C9A1             	.LL558:
11714                        		__ld.umq	_player_counter_attack
         01:C9A1  AD 1F 23   			lda	_player_counter_attack
11715                        		__equ_b.uiq	8
         01:C9A4  C9 08      			cmp	#8
         01:C9A6  F0 01      			beq	!+
         01:C9A8  18         			clc
         01:C9A9             	!:
11716                        		__bfalse	.LL562
         01:C9A9  90 6B      			bcc	.LL562
11717                        	
11718                        		.dbg	line,	"include\routines_LEVELS.c", 1869; {
11719                        	
11720                        		.dbg	line,	"include\routines_LEVELS.c", 1870; spr_set(chain_id+1);
11721                        		__ld.um		_chain_id
         01:C9AB  AD 26 23   			lda	_chain_id
         01:C9AE  C2         			cly
11722                        		__add.wi	1
         01:C9AF  1A         			inc	a
         01:C9B0  D0 01      			bne	!+
         01:C9B2  C8         			iny
         01:C9B3             	!:
11723                        		__call		_spr_set.1
         01:C9B3  20 F1 E7   			call	_spr_set.1
11724                        	
11725                        		.dbg	line,	"include\routines_LEVELS.c", 1871; spr_y(player_pos_y);
11726                        		__ld.wm		_player_pos_y
         01:C9B6  AD F8 24   			lda.l	_player_pos_y
         01:C9B9  AC F9 24   			ldy.h	_player_pos_y
11727                        		__call		_spr_y.1
         01:C9BC  20 2D E8   			call	_spr_y.1
11728                        	
11729                        		.dbg	line,	"include\routines_LEVELS.c", 1873; if(player_axis == AXIS_RIGHT)
11730                        		__not.um	_player_axis
         01:C9BF  AD 1A 23   			lda	_player_axis
         01:C9C2  18         			clc
         01:C9C3  D0 01      			bne	!+
         01:C9C5  38         			sec
         01:C9C6             	!:
11731                        		__bfalse	.LL563
         01:C9C6  90 27      			bcc	.LL563
11732                        	
11733                        		.dbg	line,	"include\routines_LEVELS.c", 1874; {
11734                        	
11735                        		.dbg	line,	"include\routines_LEVELS.c", 1875; spr_x(player_pos_x+48);
11736                        		__ld.wm		_player_pos_x
         01:C9C8  AD F6 24   			lda.l	_player_pos_x
         01:C9CB  AC F7 24   			ldy.h	_player_pos_x
11737                        		__add.wi	48
         01:C9CE  18         			clc
         01:C9CF  69 30      			adc.l	#48
         01:C9D1  90 01      			bcc	!+
         01:C9D3  C8         			iny
         01:C9D4             	!:
11738                        		__call		_spr_x.1
         01:C9D4  20 1E E8   			call	_spr_x.1
11739                        	
11740                        		.dbg	line,	"include\routines_LEVELS.c", 1877; spr_set(weapon_id);
11741                        		__ld.umq	_weapon_id
         01:C9D7  AD 27 23   			lda	_weapon_id
11742                        		__call		_spr_set.1
         01:C9DA  20 F1 E7   			call	_spr_set.1
11743                        	
11744                        		.dbg	line,	"include\routines_LEVELS.c", 1878; spr_x(player_pos_x+64);
11745                        		__ld.wm		_player_pos_x
         01:C9DD  AD F6 24   			lda.l	_player_pos_x
         01:C9E0  AC F7 24   			ldy.h	_player_pos_x
11746                        		__add.wi	64
         01:C9E3  18         			clc
         01:C9E4  69 40      			adc.l	#64
         01:C9E6  90 01      			bcc	!+
         01:C9E8  C8         			iny
         01:C9E9             	!:
11747                        		__call		_spr_x.1
         01:C9E9  20 1E E8   			call	_spr_x.1
11748                        	
11749                        		.dbg	line,	"include\routines_LEVELS.c", 1879; }
11750                        	
11751                        		.dbg	line,	"include\routines_LEVELS.c", 1880; 
11752                        	
11753                        		.dbg	line,	"include\routines_LEVELS.c", 1881; else
11754                        		__bra		.LL564
         01:C9EC  4C 1D CB   			bra	.LL564
11755    01:C9EF             	.LL563:
11756                        	
11757                        		.dbg	line,	"include\routines_LEVELS.c", 1882; {
11758                        	
11759                        		.dbg	line,	"include\routines_LEVELS.c", 1883; spr_x(player_pos_x-32);
11760                        		__ld.wm		_player_pos_x
         01:C9EF  AD F6 24   			lda.l	_player_pos_x
         01:C9F2  AC F7 24   			ldy.h	_player_pos_x
11761                        		__sub.wi	32
         01:C9F5  38         			sec
         01:C9F6  E9 20      			sbc.l	#32
         01:C9F8  B0 01      			bcs	!+
         01:C9FA  88         			dey
         01:C9FB             	!:
11762                        		__call		_spr_x.1
         01:C9FB  20 1E E8   			call	_spr_x.1
11763                        	
11764                        		.dbg	line,	"include\routines_LEVELS.c", 1885; spr_set(weapon_id);
11765                        		__ld.umq	_weapon_id
         01:C9FE  AD 27 23   			lda	_weapon_id
11766                        		__call		_spr_set.1
         01:CA01  20 F1 E7   			call	_spr_set.1
11767                        	
11768                        		.dbg	line,	"include\routines_LEVELS.c", 1886; spr_x(player_pos_x-48);
11769                        		__ld.wm		_player_pos_x
         01:CA04  AD F6 24   			lda.l	_player_pos_x
         01:CA07  AC F7 24   			ldy.h	_player_pos_x
11770                        		__sub.wi	48
         01:CA0A  38         			sec
         01:CA0B  E9 30      			sbc.l	#48
         01:CA0D  B0 01      			bcs	!+
         01:CA0F  88         			dey
         01:CA10             	!:
11771                        		__call		_spr_x.1
         01:CA10  20 1E E8   			call	_spr_x.1
11772                        	
11773                        		.dbg	line,	"include\routines_LEVELS.c", 1887; }
11774    01:CA13             	.LL564	.alias		.LL565
11775                        	
11776                        		.dbg	line,	"include\routines_LEVELS.c", 1888; }
11777                        	
11778                        		.dbg	line,	"include\routines_LEVELS.c", 1890; else if(player_counter_attack == 9)
11779                        		__bra		.LL565
         01:CA13  4C 1D CB   			bra	.LL565
11780    01:CA16             	.LL562:
11781                        		__ld.umq	_player_counter_attack
         01:CA16  AD 1F 23   			lda	_player_counter_attack
11782                        		__equ_b.uiq	9
         01:CA19  C9 09      			cmp	#9
         01:CA1B  F0 01      			beq	!+
         01:CA1D  18         			clc
         01:CA1E             	!:
11783                        		__bfalse	.LL566
         01:CA1E  90 6D      			bcc	.LL566
11784                        	
11785                        		.dbg	line,	"include\routines_LEVELS.c", 1891; {
11786                        	
11787                        		.dbg	line,	"include\routines_LEVELS.c", 1892; spr_set(chain_id+2);
11788                        		__ld.um		_chain_id
         01:CA20  AD 26 23   			lda	_chain_id
         01:CA23  C2         			cly
11789                        		__add.wi	2
         01:CA24  18         			clc
         01:CA25  69 02      			adc.l	#2
         01:CA27  90 01      			bcc	!+
         01:CA29  C8         			iny
         01:CA2A             	!:
11790                        		__call		_spr_set.1
         01:CA2A  20 F1 E7   			call	_spr_set.1
11791                        	
11792                        		.dbg	line,	"include\routines_LEVELS.c", 1893; spr_y(player_pos_y);
11793                        		__ld.wm		_player_pos_y
         01:CA2D  AD F8 24   			lda.l	_player_pos_y
         01:CA30  AC F9 24   			ldy.h	_player_pos_y
11794                        		__call		_spr_y.1
         01:CA33  20 2D E8   			call	_spr_y.1
11795                        	
11796                        		.dbg	line,	"include\routines_LEVELS.c", 1895; if(player_axis == AXIS_RIGHT)
11797                        		__not.um	_player_axis
         01:CA36  AD 1A 23   			lda	_player_axis
         01:CA39  18         			clc
         01:CA3A  D0 01      			bne	!+
         01:CA3C  38         			sec
         01:CA3D             	!:
11798                        		__bfalse	.LL567
         01:CA3D  90 27      			bcc	.LL567
11799                        	
11800                        		.dbg	line,	"include\routines_LEVELS.c", 1896; {
11801                        	
11802                        		.dbg	line,	"include\routines_LEVELS.c", 1897; spr_x(player_pos_x+64);
11803                        		__ld.wm		_player_pos_x
         01:CA3F  AD F6 24   			lda.l	_player_pos_x
         01:CA42  AC F7 24   			ldy.h	_player_pos_x
11804                        		__add.wi	64
         01:CA45  18         			clc
         01:CA46  69 40      			adc.l	#64
         01:CA48  90 01      			bcc	!+
         01:CA4A  C8         			iny
         01:CA4B             	!:
11805                        		__call		_spr_x.1
         01:CA4B  20 1E E8   			call	_spr_x.1
11806                        	
11807                        		.dbg	line,	"include\routines_LEVELS.c", 1899; spr_set(weapon_id);
11808                        		__ld.umq	_weapon_id
         01:CA4E  AD 27 23   			lda	_weapon_id
11809                        		__call		_spr_set.1
         01:CA51  20 F1 E7   			call	_spr_set.1
11810                        	
11811                        		.dbg	line,	"include\routines_LEVELS.c", 1900; spr_x(player_pos_x+80);
11812                        		__ld.wm		_player_pos_x
         01:CA54  AD F6 24   			lda.l	_player_pos_x
         01:CA57  AC F7 24   			ldy.h	_player_pos_x
11813                        		__add.wi	80
         01:CA5A  18         			clc
         01:CA5B  69 50      			adc.l	#80
         01:CA5D  90 01      			bcc	!+
         01:CA5F  C8         			iny
         01:CA60             	!:
11814                        		__call		_spr_x.1
         01:CA60  20 1E E8   			call	_spr_x.1
11815                        	
11816                        		.dbg	line,	"include\routines_LEVELS.c", 1901; }
11817                        	
11818                        		.dbg	line,	"include\routines_LEVELS.c", 1902; 
11819                        	
11820                        		.dbg	line,	"include\routines_LEVELS.c", 1903; else
11821                        		__bra		.LL568
         01:CA63  4C 1D CB   			bra	.LL568
11822    01:CA66             	.LL567:
11823                        	
11824                        		.dbg	line,	"include\routines_LEVELS.c", 1904; {
11825                        	
11826                        		.dbg	line,	"include\routines_LEVELS.c", 1905; spr_x(player_pos_x-48);
11827                        		__ld.wm		_player_pos_x
         01:CA66  AD F6 24   			lda.l	_player_pos_x
         01:CA69  AC F7 24   			ldy.h	_player_pos_x
11828                        		__sub.wi	48
         01:CA6C  38         			sec
         01:CA6D  E9 30      			sbc.l	#48
         01:CA6F  B0 01      			bcs	!+
         01:CA71  88         			dey
         01:CA72             	!:
11829                        		__call		_spr_x.1
         01:CA72  20 1E E8   			call	_spr_x.1
11830                        	
11831                        		.dbg	line,	"include\routines_LEVELS.c", 1907; spr_set(weapon_id);
11832                        		__ld.umq	_weapon_id
         01:CA75  AD 27 23   			lda	_weapon_id
11833                        		__call		_spr_set.1
         01:CA78  20 F1 E7   			call	_spr_set.1
11834                        	
11835                        		.dbg	line,	"include\routines_LEVELS.c", 1908; spr_x(player_pos_x-64);
11836                        		__ld.wm		_player_pos_x
         01:CA7B  AD F6 24   			lda.l	_player_pos_x
         01:CA7E  AC F7 24   			ldy.h	_player_pos_x
11837                        		__sub.wi	64
         01:CA81  38         			sec
         01:CA82  E9 40      			sbc.l	#64
         01:CA84  B0 01      			bcs	!+
         01:CA86  88         			dey
         01:CA87             	!:
11838                        		__call		_spr_x.1
         01:CA87  20 1E E8   			call	_spr_x.1
11839                        	
11840                        		.dbg	line,	"include\routines_LEVELS.c", 1909; }
11841    01:CA8A             	.LL568	.alias		.LL569
11842                        	
11843                        		.dbg	line,	"include\routines_LEVELS.c", 1910; }
11844                        	
11845                        		.dbg	line,	"include\routines_LEVELS.c", 1912; else if(player_counter_attack == 23)
11846                        		__bra		.LL569
         01:CA8A  4C 1D CB   			bra	.LL569
11847    01:CA8D             	.LL566:
11848                        		__ld.umq	_player_counter_attack
         01:CA8D  AD 1F 23   			lda	_player_counter_attack
11849                        		__equ_b.uiq	23
         01:CA90  C9 17      			cmp	#23
         01:CA92  F0 01      			beq	!+
         01:CA94  18         			clc
         01:CA95             	!:
11850                        		__bfalse	.LL570
         01:CA95  B0 03 4C 1D			bcc	.LL570
         01:CA99  CB          
11851                        	
11852                        		.dbg	line,	"include\routines_LEVELS.c", 1913; {
11853                        	
11854                        		.dbg	line,	"include\routines_LEVELS.c", 1914; spr_set(chain_id);
11855                        		__ld.umq	_chain_id
         01:CA9A  AD 26 23   			lda	_chain_id
11856                        		__call		_spr_set.1
         01:CA9D  20 F1 E7   			call	_spr_set.1
11857                        	
11858                        		.dbg	line,	"include\routines_LEVELS.c", 1915; spr_hide();
11859                        		__call		_spr_hide
         01:CAA0  20 0C E8   			call	_spr_hide
11860                        	
11861                        		.dbg	line,	"include\routines_LEVELS.c", 1917; spr_set(chain_id+1);
11862                        		__ld.um		_chain_id
         01:CAA3  AD 26 23   			lda	_chain_id
         01:CAA6  C2         			cly
11863                        		__add.wi	1
         01:CAA7  1A         			inc	a
         01:CAA8  D0 01      			bne	!+
         01:CAAA  C8         			iny
         01:CAAB             	!:
11864                        		__call		_spr_set.1
         01:CAAB  20 F1 E7   			call	_spr_set.1
11865                        	
11866                        		.dbg	line,	"include\routines_LEVELS.c", 1918; spr_hide();
11867                        		__call		_spr_hide
         01:CAAE  20 0C E8   			call	_spr_hide
11868                        	
11869                        		.dbg	line,	"include\routines_LEVELS.c", 1920; spr_set(chain_id+2);
11870                        		__ld.um		_chain_id
         01:CAB1  AD 26 23   			lda	_chain_id
         01:CAB4  C2         			cly
11871                        		__add.wi	2
         01:CAB5  18         			clc
         01:CAB6  69 02      			adc.l	#2
         01:CAB8  90 01      			bcc	!+
         01:CABA  C8         			iny
         01:CABB             	!:
11872                        		__call		_spr_set.1
         01:CABB  20 F1 E7   			call	_spr_set.1
11873                        	
11874                        		.dbg	line,	"include\routines_LEVELS.c", 1921; spr_hide();
11875                        		__call		_spr_hide
         01:CABE  20 0C E8   			call	_spr_hide
11876                        	
11877                        		.dbg	line,	"include\routines_LEVELS.c", 1923; spr_set(player_id);
11878                        		__ld.umq	_player_id
         01:CAC1  AD 18 23   			lda	_player_id
11879                        		__call		_spr_set.1
         01:CAC4  20 F1 E7   			call	_spr_set.1
11880                        	
11881                        		.dbg	line,	"include\routines_LEVELS.c", 1924; spr_pattern(PLAYER_HANG_VRAM_ADR);
11882                        		__ld.wi		7424
         01:CAC7  62         			cla
         01:CAC8  A0 1D      			ldy.h	#7424
11883                        		__call		_spr_pattern.1
         01:CACA  20 3A E8   			call	_spr_pattern.1
11884                        	
11885                        		.dbg	line,	"include\routines_LEVELS.c", 1926; spr_set(weapon_id);
11886                        		__ld.umq	_weapon_id
         01:CACD  AD 27 23   			lda	_weapon_id
11887                        		__call		_spr_set.1
         01:CAD0  20 F1 E7   			call	_spr_set.1
11888                        	
11889                        		.dbg	line,	"include\routines_LEVELS.c", 1927; spr_pattern(WEAPON_IDLE_VRAM_ADRESS);
11890                        		__ld.wi		31808
         01:CAD3  A9 40      			lda.l	#31808
         01:CAD5  A0 7C      			ldy.h	#31808
11891                        		__call		_spr_pattern.1
         01:CAD7  20 3A E8   			call	_spr_pattern.1
11892                        	
11893                        		.dbg	line,	"include\routines_LEVELS.c", 1928; spr_y(player_pos_y+5);
11894                        		__ld.wm		_player_pos_y
         01:CADA  AD F8 24   			lda.l	_player_pos_y
         01:CADD  AC F9 24   			ldy.h	_player_pos_y
11895                        		__add.wi	5
         01:CAE0  18         			clc
         01:CAE1  69 05      			adc.l	#5
         01:CAE3  90 01      			bcc	!+
         01:CAE5  C8         			iny
         01:CAE6             	!:
11896                        		__call		_spr_y.1
         01:CAE6  20 2D E8   			call	_spr_y.1
11897                        	
11898                        		.dbg	line,	"include\routines_LEVELS.c", 1930; if(player_axis == AXIS_RIGHT)
11899                        		__not.um	_player_axis
         01:CAE9  AD 1A 23   			lda	_player_axis
         01:CAEC  18         			clc
         01:CAED  D0 01      			bne	!+
         01:CAEF  38         			sec
         01:CAF0             	!:
11900                        		__bfalse	.LL571
         01:CAF0  90 11      			bcc	.LL571
11901                        	
11902                        		.dbg	line,	"include\routines_LEVELS.c", 1931; {
11903                        	
11904                        		.dbg	line,	"include\routines_LEVELS.c", 1932; spr_x(player_pos_x+17);
11905                        		__ld.wm		_player_pos_x
         01:CAF2  AD F6 24   			lda.l	_player_pos_x
         01:CAF5  AC F7 24   			ldy.h	_player_pos_x
11906                        		__add.wi	17
         01:CAF8  18         			clc
         01:CAF9  69 11      			adc.l	#17
         01:CAFB  90 01      			bcc	!+
         01:CAFD  C8         			iny
         01:CAFE             	!:
11907                        		__call		_spr_x.1
         01:CAFE  20 1E E8   			call	_spr_x.1
11908                        	
11909                        		.dbg	line,	"include\routines_LEVELS.c", 1933; }
11910                        	
11911                        		.dbg	line,	"include\routines_LEVELS.c", 1935; else
11912                        		__bra		.LL572
         01:CB01  80 0F      			bra	.LL572
11913    01:CB03             	.LL571:
11914                        	
11915                        		.dbg	line,	"include\routines_LEVELS.c", 1936; {
11916                        	
11917                        		.dbg	line,	"include\routines_LEVELS.c", 1937; spr_x(player_pos_x-2);
11918                        		__ld.wm		_player_pos_x
         01:CB03  AD F6 24   			lda.l	_player_pos_x
         01:CB06  AC F7 24   			ldy.h	_player_pos_x
11919                        		__sub.wi	2
         01:CB09  38         			sec
         01:CB0A  E9 02      			sbc.l	#2
         01:CB0C  B0 01      			bcs	!+
         01:CB0E  88         			dey
         01:CB0F             	!:
11920                        		__call		_spr_x.1
         01:CB0F  20 1E E8   			call	_spr_x.1
11921                        	
11922                        		.dbg	line,	"include\routines_LEVELS.c", 1938; }
11923    01:CB12             	.LL572:
11924                        	
11925                        		.dbg	line,	"include\routines_LEVELS.c", 1940; player_attack = FALSE;
11926                        		__st.umiq	0, _player_attack
         01:CB12  9C 21 23   			stz	_player_attack
11927                        	
11928                        		.dbg	line,	"include\routines_LEVELS.c", 1941; player_counter_attack = 0;
11929                        		__st.umiq	0, _player_counter_attack
         01:CB15  9C 1F 23   			stz	_player_counter_attack
11930                        	
11931                        		.dbg	line,	"include\routines_LEVELS.c", 1942; player_state = STATE_HANG;
11932                        		__st.umiq	10, _player_state
         01:CB18  A9 0A      			lda.l	#10
         01:CB1A  8D 19 23   			sta	_player_state
11933                        	
11934                        		.dbg	line,	"include\routines_LEVELS.c", 1943; }
11935                        	
11936                        		.dbg	line,	"include\routines_LEVELS.c", 1946; player_counter_attack += 1;
11937    01:CB1D             	.LL570:
11938    01:CB1D             	.LL569:
11939    01:CB1D             	.LL565:
11940    01:CB1D             	.LL561:
11941    01:CB1D             	.LL557:
11942    01:CB1D             	.LL553:
11943                        		__add_st.umiq	1, _player_counter_attack
         01:CB1D  EE 1F 23   			inc	_player_counter_attack
11944                        	
11945                        		.dbg	line,	"include\routines_LEVELS.c", 1947; }
11946    01:CB20             	.LL549:
11947                        	
11948                        		.dbg	line,	"include\routines_LEVELS.c", 1949; spr_set(player_id);
11949                        		__ld.umq	_player_id
         01:CB20  AD 18 23   			lda	_player_id
11950                        		__call		_spr_set.1
         01:CB23  20 F1 E7   			call	_spr_set.1
11951                        	
11952                        		.dbg	line,	"include\routines_LEVELS.c", 1950; spr_y(player_pos_y);
11953                        		__ld.wm		_player_pos_y
         01:CB26  AD F8 24   			lda.l	_player_pos_y
         01:CB29  AC F9 24   			ldy.h	_player_pos_y
11954                        		__call		_spr_y.1
         01:CB2C  20 2D E8   			call	_spr_y.1
11955                        	
11956                        		.dbg	line,	"include\routines_LEVELS.c", 1954; if(player_index_jump < 34)
11957                        		__ld.umq	_player_index_jump
         01:CB2F  AD 1D 23   			lda	_player_index_jump
11958                        		__ult_b.uiq	34
         01:CB32  C9 22      			cmp	#34		; Subtract integer from A.
         01:CB34  6A         			ror	a		; CC if A < integer.
         01:CB35  49 80      			eor	#$80
         01:CB37  2A         			rol	a
11959                        		__bfalse	.LL573
         01:CB38  90 03      			bcc	.LL573
11960                        	
11961                        		.dbg	line,	"include\routines_LEVELS.c", 1955; {
11962                        	
11963                        		.dbg	line,	"include\routines_LEVELS.c", 1956; player_index_jump += 1;
11964                        		__add_st.umiq	1, _player_index_jump
         01:CB3A  EE 1D 23   			inc	_player_index_jump
11965                        	
11966                        		.dbg	line,	"include\routines_LEVELS.c", 1957; }
11967                        	
11968                        		.dbg	line,	"include\routines_LEVELS.c", 1962; //--------------------------------------------------------------------------------------//
11969                        	
11970                        		.dbg	line,	"include\routines_LEVELS.c", 1963; //                                   FLOOR COLLISION                                    //
11971                        	
11972                        		.dbg	line,	"include\routines_LEVELS.c", 1964; //--------------------------------------------------------------------------------------//
11973                        	
11974                        		.dbg	line,	"include\routines_LEVELS.c", 1966; if(player_index_jump > 14)
11975    01:CB3D             	.LL573:
11976                        		__ld.umq	_player_index_jump
         01:CB3D  AD 1D 23   			lda	_player_index_jump
11977                        		__ugt_b.uiq	14
         01:CB40  18         			clc			; Subtract integer+1 from A.
         01:CB41  E9 0E      			sbc	#14		; CS if A > integer.
11978                        		__bfalse	.LL574
         01:CB43  B0 03 4C 04			bcc	.LL574
         01:CB47  CD          
11979                        	
11980                        		.dbg	line,	"include\routines_LEVELS.c", 1967; {
11981                        	
11982                        		.dbg	line,	"include\routines_LEVELS.c", 1968; // CHECK COLLISION WITH LEFT FLOOR //
11983                        	
11984                        		.dbg	line,	"include\routines_LEVELS.c", 1969; collision_PLAYER_BG( 10 , 32 );
11985                        		__ld.wi		10
         01:CB48  A9 0A      			lda.l	#10
         01:CB4A  C2         			cly
11986                        		__pusharg.wr
         01:CB4B  A6 8D      			ldx	<__sp
         01:CB4D  CA         			dex
         01:CB4E  CA         			dex
         01:CB4F  95 08      			sta.l	<__stack, x
         01:CB51  94 09      			sty.h	<__stack, x
         01:CB53  86 8D      			stx	<__sp
11987                        		__ld.wi		32
         01:CB55  A9 20      			lda.l	#32
         01:CB57  C2         			cly
11988                        		__pusharg.wr
         01:CB58  A6 8D      			ldx	<__sp
         01:CB5A  CA         			dex
         01:CB5B  CA         			dex
         01:CB5C  95 08      			sta.l	<__stack, x
         01:CB5E  94 09      			sty.h	<__stack, x
         01:CB60  86 8D      			stx	<__sp
11989                        		__call		_collision_PLAYER_BG
         01:CB62  20 31 FF   			call	_collision_PLAYER_BG
11990                        	
11991                        		.dbg	line,	"include\routines_LEVELS.c", 1971; // IF PLAYER TOUCHES THE GROUND TO THE LEFT //
11992                        	
11993                        		.dbg	line,	"include\routines_LEVELS.c", 1972; if(map_blk_flag == TILE_BG)
11994                        		__ld.umq	_map_blk_flag
         01:CB65  AD FA 2B   			lda	_map_blk_flag
11995                        		__equ_b.uiq	1
         01:CB68  C9 01      			cmp	#1
         01:CB6A  F0 01      			beq	!+
         01:CB6C  18         			clc
         01:CB6D             	!:
11996                        		__bfalse	.LL575
         01:CB6D  B0 03 4C 26			bcc	.LL575
         01:CB71  CC          
11997                        	
11998                        		.dbg	line,	"include\routines_LEVELS.c", 1973; {
11999                        	
12000                        		.dbg	line,	"include\routines_LEVELS.c", 1974; // CALCULATE HOW MANY PIXELS THE PLAYER MOVED INTO THE GROUND //
12001                        	
12002                        		.dbg	line,	"include\routines_LEVELS.c", 1975; for(i=1; i<11 ; i++ )
12003                        		__st.umiq	1, __update_PLAYER_end - 1  /* i */
         01:CB72  A9 01      			lda.l	#1
         01:CB74  8D 0C 23   			sta	__update_PLAYER_end - 1
12004    01:CB77             	.LL576:
12005                        		__ld.umq	__update_PLAYER_end - 1  /* i */
         01:CB77  AD 0C 23   			lda	__update_PLAYER_end - 1
12006                        		__ult_b.uiq	11
         01:CB7A  C9 0B      			cmp	#11		; Subtract integer from A.
         01:CB7C  6A         			ror	a		; CC if A < integer.
         01:CB7D  49 80      			eor	#$80
         01:CB7F  2A         			rol	a
12007                        		__btrue		.LL578
         01:CB80  B0 07      			bcs	.LL578
12008                        		__bra		.LL579
         01:CB82  80 5B      			bra	.LL579
12009    01:CB84             	.LL577:
12010                        		__inc.umq	__update_PLAYER_end - 1  /* i */
         01:CB84  EE 0C 23   			inc	__update_PLAYER_end - 1
12011                        		__bra		.LL576
         01:CB87  80 EE      			bra	.LL576
12012    01:CB89             	.LL578:
12013                        	
12014                        		.dbg	line,	"include\routines_LEVELS.c", 1976; {
12015                        	
12016                        		.dbg	line,	"include\routines_LEVELS.c", 1977; check_TILE_DEPTH( 10 , i);
12017                        		__ld.wi		10
         01:CB89  A9 0A      			lda.l	#10
         01:CB8B  C2         			cly
12018                        		__pusharg.wr
         01:CB8C  A6 8D      			ldx	<__sp
         01:CB8E  CA         			dex
         01:CB8F  CA         			dex
         01:CB90  95 08      			sta.l	<__stack, x
         01:CB92  94 09      			sty.h	<__stack, x
         01:CB94  86 8D      			stx	<__sp
12019                        		__ld.um		__update_PLAYER_end - 1  /* i */
         01:CB96  AD 0C 23   			lda	__update_PLAYER_end - 1
         01:CB99  C2         			cly
12020                        		__pusharg.wr
         01:CB9A  A6 8D      			ldx	<__sp
         01:CB9C  CA         			dex
         01:CB9D  CA         			dex
         01:CB9E  95 08      			sta.l	<__stack, x
         01:CBA0  94 09      			sty.h	<__stack, x
         01:CBA2  86 8D      			stx	<__sp
12021                        		__call		_check_TILE_DEPTH
         01:CBA4  20 1D FF   			call	_check_TILE_DEPTH
12022                        	
12023                        		.dbg	line,	"include\routines_LEVELS.c", 1979; if(map_blk_flag == TILE_EMPTY)
12024                        		__not.um	_map_blk_flag
         01:CBA7  AD FA 2B   			lda	_map_blk_flag
         01:CBAA  18         			clc
         01:CBAB  D0 01      			bne	!+
         01:CBAD  38         			sec
         01:CBAE             	!:
12025                        		__bfalse	.LL580
         01:CBAE  90 D4      			bcc	.LL580
12026                        	
12027                        		.dbg	line,	"include\routines_LEVELS.c", 1980; {
12028                        	
12029                        		.dbg	line,	"include\routines_LEVELS.c", 1981; //spr_set(player_id);
12030                        	
12031                        		.dbg	line,	"include\routines_LEVELS.c", 1982; spr_pattern(PLAYER_IDLE_VRAM_ADR);
12032                        		__ld.wi		5120
         01:CBB0  62         			cla
         01:CBB1  A0 14      			ldy.h	#5120
12033                        		__call		_spr_pattern.1
         01:CBB3  20 3A E8   			call	_spr_pattern.1
12034                        	
12035                        		.dbg	line,	"include\routines_LEVELS.c", 1983; player_pos_y -= (i - 1);
12036                        		__ld.um		__update_PLAYER_end - 1  /* i */
         01:CBB6  AD 0C 23   			lda	__update_PLAYER_end - 1
         01:CBB9  C2         			cly
12037                        		__sub.wi	1
         01:CBBA  38         			sec
         01:CBBB  E9 01      			sbc.l	#1
         01:CBBD  B0 01      			bcs	!+
         01:CBBF  88         			dey
         01:CBC0             	!:
12038                        		__isub_st.wmq	_player_pos_y
         01:CBC0  38         			sec
         01:CBC1  49 FF      			eor	#$FF
         01:CBC3  6D F8 24   			adc.l	_player_pos_y
         01:CBC6  8D F8 24   			sta.l	_player_pos_y
         01:CBC9  98         			tya
         01:CBCA  49 FF      			eor	#$FF
         01:CBCC  6D F9 24   			adc.h	_player_pos_y
         01:CBCF  8D F9 24   			sta.h	_player_pos_y
12039                        	
12040                        		.dbg	line,	"include\routines_LEVELS.c", 1984; spr_y(player_pos_y);
12041                        		__ld.wm		_player_pos_y
         01:CBD2  AD F8 24   			lda.l	_player_pos_y
         01:CBD5  AC F9 24   			ldy.h	_player_pos_y
12042                        		__call		_spr_y.1
         01:CBD8  20 2D E8   			call	_spr_y.1
12043                        	
12044                        		.dbg	line,	"include\routines_LEVELS.c", 1985; break;
12045                        		__bra		.LL579
         01:CBDB  80 02      			bra	.LL579
12046                        	
12047                        		.dbg	line,	"include\routines_LEVELS.c", 1986; }
12048                        	
12049                        		.dbg	line,	"include\routines_LEVELS.c", 1988; }
12050    01:CBDD             	.LL580	.alias		.LL577
12051                        		__bra		.LL577
         01:CBDD  80 A5      			bra	.LL577
12052    01:CBDF             	.LL579:
12053                        	
12054                        		.dbg	line,	"include\routines_LEVELS.c", 1990; if(player_attack == FALSE)
12055                        		__not.um	_player_attack
         01:CBDF  AD 21 23   			lda	_player_attack
         01:CBE2  18         			clc
         01:CBE3  D0 01      			bne	!+
         01:CBE5  38         			sec
         01:CBE6             	!:
12056                        		__bfalse	.LL581
         01:CBE6  90 24      			bcc	.LL581
12057                        	
12058                        		.dbg	line,	"include\routines_LEVELS.c", 1991; {
12059                        	
12060                        		.dbg	line,	"include\routines_LEVELS.c", 1992; spr_set(weapon_id);
12061                        		__ld.umq	_weapon_id
         01:CBE8  AD 27 23   			lda	_weapon_id
12062                        		__call		_spr_set.1
         01:CBEB  20 F1 E7   			call	_spr_set.1
12063                        	
12064                        		.dbg	line,	"include\routines_LEVELS.c", 1993; spr_x(player_pos_x+8);
12065                        		__ld.wm		_player_pos_x
         01:CBEE  AD F6 24   			lda.l	_player_pos_x
         01:CBF1  AC F7 24   			ldy.h	_player_pos_x
12066                        		__add.wi	8
         01:CBF4  18         			clc
         01:CBF5  69 08      			adc.l	#8
         01:CBF7  90 01      			bcc	!+
         01:CBF9  C8         			iny
         01:CBFA             	!:
12067                        		__call		_spr_x.1
         01:CBFA  20 1E E8   			call	_spr_x.1
12068                        	
12069                        		.dbg	line,	"include\routines_LEVELS.c", 1994; spr_y(player_pos_y+16);
12070                        		__ld.wm		_player_pos_y
         01:CBFD  AD F8 24   			lda.l	_player_pos_y
         01:CC00  AC F9 24   			ldy.h	_player_pos_y
12071                        		__add.wi	16
         01:CC03  18         			clc
         01:CC04  69 10      			adc.l	#16
         01:CC06  90 01      			bcc	!+
         01:CC08  C8         			iny
         01:CC09             	!:
12072                        		__call		_spr_y.1
         01:CC09  20 2D E8   			call	_spr_y.1
12073                        	
12074                        		.dbg	line,	"include\routines_LEVELS.c", 1995; }
12075                        	
12076                        		.dbg	line,	"include\routines_LEVELS.c", 1997; player_counter_anim = 1;
12077    01:CC0C             	.LL581:
12078                        		__st.umiq	1, _player_counter_anim
         01:CC0C  A9 01      			lda.l	#1
         01:CC0E  8D 1C 23   			sta	_player_counter_anim
12079                        	
12080                        		.dbg	line,	"include\routines_LEVELS.c", 1998; player_index_jump = 0;
12081                        		__st.umiq	0, _player_index_jump
         01:CC11  9C 1D 23   			stz	_player_index_jump
12082                        	
12083                        		.dbg	line,	"include\routines_LEVELS.c", 1999; //hit_wall = FALSE;
12084                        	
12085                        		.dbg	line,	"include\routines_LEVELS.c", 2001; if(player_attack == FALSE)
12086                        		__not.um	_player_attack
         01:CC14  AD 21 23   			lda	_player_attack
         01:CC17  18         			clc
         01:CC18  D0 01      			bne	!+
         01:CC1A  38         			sec
         01:CC1B             	!:
12087                        		__bfalse	.LL582
         01:CC1B  B0 03 4C DA			bcc	.LL582
         01:CC1F  DC          
12088                        	
12089                        		.dbg	line,	"include\routines_LEVELS.c", 2002; {
12090                        	
12091                        		.dbg	line,	"include\routines_LEVELS.c", 2003; player_state = STATE_IDLE;
12092                        		__st.umiq	0, _player_state
         01:CC20  9C 19 23   			stz	_player_state
12093                        	
12094                        		.dbg	line,	"include\routines_LEVELS.c", 2004; }
12095                        	
12096                        		.dbg	line,	"include\routines_LEVELS.c", 2005; 
12097                        	
12098                        		.dbg	line,	"include\routines_LEVELS.c", 2006; return;
12099    01:CC23             	.LL582	.alias		.LL491
12100                        		__bra		.LL491
         01:CC23  4C DA DC   			bra	.LL491
12101                        	
12102                        		.dbg	line,	"include\routines_LEVELS.c", 2007; }
12103                        	
12104                        		.dbg	line,	"include\routines_LEVELS.c", 2009; // IF PLAYER TOUCHES THE GROUND TO THE RIGHT //
12105                        	
12106                        		.dbg	line,	"include\routines_LEVELS.c", 2010; else
12107    01:CC26             	.LL575:
12108                        	
12109                        		.dbg	line,	"include\routines_LEVELS.c", 2011; {
12110                        	
12111                        		.dbg	line,	"include\routines_LEVELS.c", 2012; // CHECK COLLISION WITH RIGHT FLOOR //
12112                        	
12113                        		.dbg	line,	"include\routines_LEVELS.c", 2013; collision_PLAYER_BG( 22 , 32 );
12114                        		__ld.wi		22
         01:CC26  A9 16      			lda.l	#22
         01:CC28  C2         			cly
12115                        		__pusharg.wr
         01:CC29  A6 8D      			ldx	<__sp
         01:CC2B  CA         			dex
         01:CC2C  CA         			dex
         01:CC2D  95 08      			sta.l	<__stack, x
         01:CC2F  94 09      			sty.h	<__stack, x
         01:CC31  86 8D      			stx	<__sp
12116                        		__ld.wi		32
         01:CC33  A9 20      			lda.l	#32
         01:CC35  C2         			cly
12117                        		__pusharg.wr
         01:CC36  A6 8D      			ldx	<__sp
         01:CC38  CA         			dex
         01:CC39  CA         			dex
         01:CC3A  95 08      			sta.l	<__stack, x
         01:CC3C  94 09      			sty.h	<__stack, x
         01:CC3E  86 8D      			stx	<__sp
12118                        		__call		_collision_PLAYER_BG
         01:CC40  20 31 FF   			call	_collision_PLAYER_BG
12119                        	
12120                        		.dbg	line,	"include\routines_LEVELS.c", 2015; if(map_blk_flag == TILE_BG)
12121                        		__ld.umq	_map_blk_flag
         01:CC43  AD FA 2B   			lda	_map_blk_flag
12122                        		__equ_b.uiq	1
         01:CC46  C9 01      			cmp	#1
         01:CC48  F0 01      			beq	!+
         01:CC4A  18         			clc
         01:CC4B             	!:
12123                        		__bfalse	.LL584
         01:CC4B  B0 03 4C 04			bcc	.LL584
         01:CC4F  CD          
12124                        	
12125                        		.dbg	line,	"include\routines_LEVELS.c", 2016; {
12126                        	
12127                        		.dbg	line,	"include\routines_LEVELS.c", 2017; // CALCULATE HOW MANY PIXELS THE PLAYER MOVED INTO THE GROUND //
12128                        	
12129                        		.dbg	line,	"include\routines_LEVELS.c", 2018; for(i=1; i<11 ; i++ )
12130                        		__st.umiq	1, __update_PLAYER_end - 1  /* i */
         01:CC50  A9 01      			lda.l	#1
         01:CC52  8D 0C 23   			sta	__update_PLAYER_end - 1
12131    01:CC55             	.LL585:
12132                        		__ld.umq	__update_PLAYER_end - 1  /* i */
         01:CC55  AD 0C 23   			lda	__update_PLAYER_end - 1
12133                        		__ult_b.uiq	11
         01:CC58  C9 0B      			cmp	#11		; Subtract integer from A.
         01:CC5A  6A         			ror	a		; CC if A < integer.
         01:CC5B  49 80      			eor	#$80
         01:CC5D  2A         			rol	a
12134                        		__btrue		.LL587
         01:CC5E  B0 07      			bcs	.LL587
12135                        		__bra		.LL588
         01:CC60  80 5B      			bra	.LL588
12136    01:CC62             	.LL586:
12137                        		__inc.umq	__update_PLAYER_end - 1  /* i */
         01:CC62  EE 0C 23   			inc	__update_PLAYER_end - 1
12138                        		__bra		.LL585
         01:CC65  80 EE      			bra	.LL585
12139    01:CC67             	.LL587:
12140                        	
12141                        		.dbg	line,	"include\routines_LEVELS.c", 2019; {
12142                        	
12143                        		.dbg	line,	"include\routines_LEVELS.c", 2020; check_TILE_DEPTH( 22 , i);
12144                        		__ld.wi		22
         01:CC67  A9 16      			lda.l	#22
         01:CC69  C2         			cly
12145                        		__pusharg.wr
         01:CC6A  A6 8D      			ldx	<__sp
         01:CC6C  CA         			dex
         01:CC6D  CA         			dex
         01:CC6E  95 08      			sta.l	<__stack, x
         01:CC70  94 09      			sty.h	<__stack, x
         01:CC72  86 8D      			stx	<__sp
12146                        		__ld.um		__update_PLAYER_end - 1  /* i */
         01:CC74  AD 0C 23   			lda	__update_PLAYER_end - 1
         01:CC77  C2         			cly
12147                        		__pusharg.wr
         01:CC78  A6 8D      			ldx	<__sp
         01:CC7A  CA         			dex
         01:CC7B  CA         			dex
         01:CC7C  95 08      			sta.l	<__stack, x
         01:CC7E  94 09      			sty.h	<__stack, x
         01:CC80  86 8D      			stx	<__sp
12148                        		__call		_check_TILE_DEPTH
         01:CC82  20 1D FF   			call	_check_TILE_DEPTH
12149                        	
12150                        		.dbg	line,	"include\routines_LEVELS.c", 2022; if(map_blk_flag == TILE_EMPTY)
12151                        		__not.um	_map_blk_flag
         01:CC85  AD FA 2B   			lda	_map_blk_flag
         01:CC88  18         			clc
         01:CC89  D0 01      			bne	!+
         01:CC8B  38         			sec
         01:CC8C             	!:
12152                        		__bfalse	.LL589
         01:CC8C  90 D4      			bcc	.LL589
12153                        	
12154                        		.dbg	line,	"include\routines_LEVELS.c", 2023; {
12155                        	
12156                        		.dbg	line,	"include\routines_LEVELS.c", 2024; //spr_set(player_id);
12157                        	
12158                        		.dbg	line,	"include\routines_LEVELS.c", 2025; spr_pattern(PLAYER_IDLE_VRAM_ADR);
12159                        		__ld.wi		5120
         01:CC8E  62         			cla
         01:CC8F  A0 14      			ldy.h	#5120
12160                        		__call		_spr_pattern.1
         01:CC91  20 3A E8   			call	_spr_pattern.1
12161                        	
12162                        		.dbg	line,	"include\routines_LEVELS.c", 2026; player_pos_y -= (i - 1);
12163                        		__ld.um		__update_PLAYER_end - 1  /* i */
         01:CC94  AD 0C 23   			lda	__update_PLAYER_end - 1
         01:CC97  C2         			cly
12164                        		__sub.wi	1
         01:CC98  38         			sec
         01:CC99  E9 01      			sbc.l	#1
         01:CC9B  B0 01      			bcs	!+
         01:CC9D  88         			dey
         01:CC9E             	!:
12165                        		__isub_st.wmq	_player_pos_y
         01:CC9E  38         			sec
         01:CC9F  49 FF      			eor	#$FF
         01:CCA1  6D F8 24   			adc.l	_player_pos_y
         01:CCA4  8D F8 24   			sta.l	_player_pos_y
         01:CCA7  98         			tya
         01:CCA8  49 FF      			eor	#$FF
         01:CCAA  6D F9 24   			adc.h	_player_pos_y
         01:CCAD  8D F9 24   			sta.h	_player_pos_y
12166                        	
12167                        		.dbg	line,	"include\routines_LEVELS.c", 2027; spr_y(player_pos_y);
12168                        		__ld.wm		_player_pos_y
         01:CCB0  AD F8 24   			lda.l	_player_pos_y
         01:CCB3  AC F9 24   			ldy.h	_player_pos_y
12169                        		__call		_spr_y.1
         01:CCB6  20 2D E8   			call	_spr_y.1
12170                        	
12171                        		.dbg	line,	"include\routines_LEVELS.c", 2028; break;
12172                        		__bra		.LL588
         01:CCB9  80 02      			bra	.LL588
12173                        	
12174                        		.dbg	line,	"include\routines_LEVELS.c", 2029; }
12175                        	
12176                        		.dbg	line,	"include\routines_LEVELS.c", 2031; }
12177    01:CCBB             	.LL589	.alias		.LL586
12178                        		__bra		.LL586
         01:CCBB  80 A5      			bra	.LL586
12179    01:CCBD             	.LL588:
12180                        	
12181                        		.dbg	line,	"include\routines_LEVELS.c", 2033; if(player_attack == FALSE)
12182                        		__not.um	_player_attack
         01:CCBD  AD 21 23   			lda	_player_attack
         01:CCC0  18         			clc
         01:CCC1  D0 01      			bne	!+
         01:CCC3  38         			sec
         01:CCC4             	!:
12183                        		__bfalse	.LL590
         01:CCC4  90 24      			bcc	.LL590
12184                        	
12185                        		.dbg	line,	"include\routines_LEVELS.c", 2034; {
12186                        	
12187                        		.dbg	line,	"include\routines_LEVELS.c", 2035; spr_set(weapon_id);
12188                        		__ld.umq	_weapon_id
         01:CCC6  AD 27 23   			lda	_weapon_id
12189                        		__call		_spr_set.1
         01:CCC9  20 F1 E7   			call	_spr_set.1
12190                        	
12191                        		.dbg	line,	"include\routines_LEVELS.c", 2036; spr_x(player_pos_x+8);
12192                        		__ld.wm		_player_pos_x
         01:CCCC  AD F6 24   			lda.l	_player_pos_x
         01:CCCF  AC F7 24   			ldy.h	_player_pos_x
12193                        		__add.wi	8
         01:CCD2  18         			clc
         01:CCD3  69 08      			adc.l	#8
         01:CCD5  90 01      			bcc	!+
         01:CCD7  C8         			iny
         01:CCD8             	!:
12194                        		__call		_spr_x.1
         01:CCD8  20 1E E8   			call	_spr_x.1
12195                        	
12196                        		.dbg	line,	"include\routines_LEVELS.c", 2037; spr_y(player_pos_y+16);
12197                        		__ld.wm		_player_pos_y
         01:CCDB  AD F8 24   			lda.l	_player_pos_y
         01:CCDE  AC F9 24   			ldy.h	_player_pos_y
12198                        		__add.wi	16
         01:CCE1  18         			clc
         01:CCE2  69 10      			adc.l	#16
         01:CCE4  90 01      			bcc	!+
         01:CCE6  C8         			iny
         01:CCE7             	!:
12199                        		__call		_spr_y.1
         01:CCE7  20 2D E8   			call	_spr_y.1
12200                        	
12201                        		.dbg	line,	"include\routines_LEVELS.c", 2038; }
12202                        	
12203                        		.dbg	line,	"include\routines_LEVELS.c", 2040; player_counter_anim = 1;
12204    01:CCEA             	.LL590:
12205                        		__st.umiq	1, _player_counter_anim
         01:CCEA  A9 01      			lda.l	#1
         01:CCEC  8D 1C 23   			sta	_player_counter_anim
12206                        	
12207                        		.dbg	line,	"include\routines_LEVELS.c", 2041; player_index_jump = 0;
12208                        		__st.umiq	0, _player_index_jump
         01:CCEF  9C 1D 23   			stz	_player_index_jump
12209                        	
12210                        		.dbg	line,	"include\routines_LEVELS.c", 2042; //hit_wall = FALSE;
12211                        	
12212                        		.dbg	line,	"include\routines_LEVELS.c", 2044; if(player_attack == FALSE)
12213                        		__not.um	_player_attack
         01:CCF2  AD 21 23   			lda	_player_attack
         01:CCF5  18         			clc
         01:CCF6  D0 01      			bne	!+
         01:CCF8  38         			sec
         01:CCF9             	!:
12214                        		__bfalse	.LL591
         01:CCF9  B0 03 4C DA			bcc	.LL591
         01:CCFD  DC          
12215                        	
12216                        		.dbg	line,	"include\routines_LEVELS.c", 2045; {
12217                        	
12218                        		.dbg	line,	"include\routines_LEVELS.c", 2046; player_state = STATE_IDLE;
12219                        		__st.umiq	0, _player_state
         01:CCFE  9C 19 23   			stz	_player_state
12220                        	
12221                        		.dbg	line,	"include\routines_LEVELS.c", 2047; }
12222                        	
12223                        		.dbg	line,	"include\routines_LEVELS.c", 2049; return;
12224    01:CD01             	.LL591	.alias		.LL491
12225                        		__bra		.LL491
         01:CD01  4C DA DC   			bra	.LL491
12226                        	
12227                        		.dbg	line,	"include\routines_LEVELS.c", 2050; }
12228                        	
12229                        		.dbg	line,	"include\routines_LEVELS.c", 2051; }
12230    01:CD04             	.LL584:
12231    01:CD04             	.LL583:
12232                        	
12233                        		.dbg	line,	"include\routines_LEVELS.c", 2052; }
12234                        	
12235                        		.dbg	line,	"include\routines_LEVELS.c", 2056; // CHECK COLLISION WITH LADDERS //
12236                        	
12237                        		.dbg	line,	"include\routines_LEVELS.c", 2057; collision_PLAYER_BG( 16 , 16 );
12238    01:CD04             	.LL574:
12239                        		__ld.wi		16
         01:CD04  A9 10      			lda.l	#16
         01:CD06  C2         			cly
12240                        		__pusharg.wr
         01:CD07  A6 8D      			ldx	<__sp
         01:CD09  CA         			dex
         01:CD0A  CA         			dex
         01:CD0B  95 08      			sta.l	<__stack, x
         01:CD0D  94 09      			sty.h	<__stack, x
         01:CD0F  86 8D      			stx	<__sp
12241                        		__ld.wi		16
         01:CD11  A9 10      			lda.l	#16
         01:CD13  C2         			cly
12242                        		__pusharg.wr
         01:CD14  A6 8D      			ldx	<__sp
         01:CD16  CA         			dex
         01:CD17  CA         			dex
         01:CD18  95 08      			sta.l	<__stack, x
         01:CD1A  94 09      			sty.h	<__stack, x
         01:CD1C  86 8D      			stx	<__sp
12243                        		__call		_collision_PLAYER_BG
         01:CD1E  20 31 FF   			call	_collision_PLAYER_BG
12244                        	
12245                        		.dbg	line,	"include\routines_LEVELS.c", 2059; // IF PLAYER HITS THE LADDER //
12246                        	
12247                        		.dbg	line,	"include\routines_LEVELS.c", 2060; if(map_blk_flag == TILE_LADDER)
12248                        		__ld.umq	_map_blk_flag
         01:CD21  AD FA 2B   			lda	_map_blk_flag
12249                        		__equ_b.uiq	2
         01:CD24  C9 02      			cmp	#2
         01:CD26  F0 01      			beq	!+
         01:CD28  18         			clc
         01:CD29             	!:
12250                        		__bfalse	.LL592
         01:CD29  B0 03 4C DA			bcc	.LL592
         01:CD2D  DC          
12251                        	
12252                        		.dbg	line,	"include\routines_LEVELS.c", 2061; {
12253                        	
12254                        		.dbg	line,	"include\routines_LEVELS.c", 2062; // CAMERA GOES 8 PX BACKWARD //
12255                        	
12256                        		.dbg	line,	"include\routines_LEVELS.c", 2063; sgx_map_pxl_x = ( (sgx_map_pxl_x >> 3) << 3 );
12257                        		__ld.wm		_sgx_map_pxl_x
         01:CD2E  AD D9 26   			lda.l	_sgx_map_pxl_x
         01:CD31  AC DA 26   			ldy.h	_sgx_map_pxl_x
12258                        		__lsr.wi	3
         01:CD34  84 00      			sty	__temp
         01:CD36  20 3A E2   			jsr	lsrw3
12259                        		__asl.wi	3
         01:CD39  84 00      			sty	__temp
         01:CD3B  20 D7 E1   			jsr	aslw3
12260                        		__st.wmq	_sgx_map_pxl_x
         01:CD3E  8D D9 26   			sta.l	_sgx_map_pxl_x
         01:CD41  8C DA 26   			sty.h	_sgx_map_pxl_x
12261                        	
12262                        		.dbg	line,	"include\routines_LEVELS.c", 2065; // SO WE UPDATE THE MAP //
12263                        	
12264                        		.dbg	line,	"include\routines_LEVELS.c", 2066; sgx_scroll_map();
12265                        		__call		_sgx_scroll_map
         01:CD44  20 63 FF   			call	_sgx_scroll_map
12266                        	
12267                        		.dbg	line,	"include\routines_LEVELS.c", 2068; // CHECK IF THE PLAYER STANDS RIGHT TO THE LADDER //
12268                        	
12269                        		.dbg	line,	"include\routines_LEVELS.c", 2069; collision_PLAYER_BG( 31 , 16 );
12270                        		__ld.wi		31
         01:CD47  A9 1F      			lda.l	#31
         01:CD49  C2         			cly
12271                        		__pusharg.wr
         01:CD4A  A6 8D      			ldx	<__sp
         01:CD4C  CA         			dex
         01:CD4D  CA         			dex
         01:CD4E  95 08      			sta.l	<__stack, x
         01:CD50  94 09      			sty.h	<__stack, x
         01:CD52  86 8D      			stx	<__sp
12272                        		__ld.wi		16
         01:CD54  A9 10      			lda.l	#16
         01:CD56  C2         			cly
12273                        		__pusharg.wr
         01:CD57  A6 8D      			ldx	<__sp
         01:CD59  CA         			dex
         01:CD5A  CA         			dex
         01:CD5B  95 08      			sta.l	<__stack, x
         01:CD5D  94 09      			sty.h	<__stack, x
         01:CD5F  86 8D      			stx	<__sp
12274                        		__call		_collision_PLAYER_BG
         01:CD61  20 31 FF   			call	_collision_PLAYER_BG
12275                        	
12276                        		.dbg	line,	"include\routines_LEVELS.c", 2071; if(map_blk_flag == TILE_LADDER)
12277                        		__ld.umq	_map_blk_flag
         01:CD64  AD FA 2B   			lda	_map_blk_flag
12278                        		__equ_b.uiq	2
         01:CD67  C9 02      			cmp	#2
         01:CD69  F0 01      			beq	!+
         01:CD6B  18         			clc
         01:CD6C             	!:
12279                        		__bfalse	.LL593
         01:CD6C  90 0E      			bcc	.LL593
12280                        	
12281                        		.dbg	line,	"include\routines_LEVELS.c", 2072; {
12282                        	
12283                        		.dbg	line,	"include\routines_LEVELS.c", 2073; sgx_map_pxl_x += 8;
12284                        		__add_st.wmiq	8, _sgx_map_pxl_x
         01:CD6E  18         			clc
         01:CD6F  AD D9 26   			lda.l	_sgx_map_pxl_x
         01:CD72  69 08      			adc.l	#8
         01:CD74  8D D9 26   			sta.l	_sgx_map_pxl_x
         01:CD77  90 03      			bcc	!+
         01:CD79  EE DA 26   			inc.h	_sgx_map_pxl_x
         01:CD7C             	!:
12285                        	
12286                        		.dbg	line,	"include\routines_LEVELS.c", 2074; }
12287                        	
12288                        		.dbg	line,	"include\routines_LEVELS.c", 2076; spr_pattern(PLAYER_HANG_VRAM_ADR);
12289    01:CD7C             	.LL593:
12290                        		__ld.wi		7424
         01:CD7C  62         			cla
         01:CD7D  A0 1D      			ldy.h	#7424
12291                        		__call		_spr_pattern.1
         01:CD7F  20 3A E8   			call	_spr_pattern.1
12292                        	
12293                        		.dbg	line,	"include\routines_LEVELS.c", 2077; player_counter_anim = 0;
12294                        		__st.umiq	0, _player_counter_anim
         01:CD82  9C 1C 23   			stz	_player_counter_anim
12295                        	
12296                        		.dbg	line,	"include\routines_LEVELS.c", 2078; player_index_jump = 0;
12297                        		__st.umiq	0, _player_index_jump
         01:CD85  9C 1D 23   			stz	_player_index_jump
12298                        	
12299                        		.dbg	line,	"include\routines_LEVELS.c", 2079; jump_ladder = TRUE;
12300                        		__st.umiq	1, _jump_ladder
         01:CD88  A9 01      			lda.l	#1
         01:CD8A  8D 22 23   			sta	_jump_ladder
12301                        	
12302                        		.dbg	line,	"include\routines_LEVELS.c", 2080; player_state = STATE_HANG;
12303                        		__st.umiq	10, _player_state
         01:CD8D  A9 0A      			lda.l	#10
         01:CD8F  8D 19 23   			sta	_player_state
12304                        	
12305                        		.dbg	line,	"include\routines_LEVELS.c", 2081; }
12306                        	
12307                        		.dbg	line,	"include\routines_LEVELS.c", 2082; }
12308    01:CD92             	.LL592	.alias		.LL594
12309                        	
12310                        		.dbg	line,	"include\routines_LEVELS.c", 2085; else if(player_state == STATE_JUMP_RIGHT)
12311                        		__bra		.LL594
         01:CD92  4C DA DC   			bra	.LL594
12312    01:CD95             	.LL540:
12313                        		__ld.umq	_player_state
         01:CD95  AD 19 23   			lda	_player_state
12314                        		__equ_b.uiq	5
         01:CD98  C9 05      			cmp	#5
         01:CD9A  F0 01      			beq	!+
         01:CD9C  18         			clc
         01:CD9D             	!:
12315                        		__bfalse	.LL595
         01:CD9D  B0 03 4C FE			bcc	.LL595
         01:CDA1  D1          
12316                        	
12317                        		.dbg	line,	"include\routines_LEVELS.c", 2086; {
12318                        	
12319                        		.dbg	line,	"include\routines_LEVELS.c", 2087; unsigned char i, camera_y_move;
12320                        	
12321                        		.dbg	line,	"include\routines_LEVELS.c", 2088; i = 1;
12322                        		__st.umiq	1, __update_PLAYER_end - 2  /* i */
         01:CDA2  A9 01      			lda.l	#1
         01:CDA4  8D 0B 23   			sta	__update_PLAYER_end - 2
12323                        	
12324                        		.dbg	line,	"include\routines_LEVELS.c", 2090; // UPDATE PLAYER TILES //
12325                        	
12326                        		.dbg	line,	"include\routines_LEVELS.c", 2091; if(player_counter_anim == 0)
12327                        		__not.um	_player_counter_anim
         01:CDA7  AD 1C 23   			lda	_player_counter_anim
         01:CDAA  18         			clc
         01:CDAB  D0 01      			bne	!+
         01:CDAD  38         			sec
         01:CDAE             	!:
12328                        		__bfalse	.LL596
         01:CDAE  90 11      			bcc	.LL596
12329                        	
12330                        		.dbg	line,	"include\routines_LEVELS.c", 2092; {
12331                        	
12332                        		.dbg	line,	"include\routines_LEVELS.c", 2093; spr_set(player_id);
12333                        		__ld.umq	_player_id
         01:CDB0  AD 18 23   			lda	_player_id
12334                        		__call		_spr_set.1
         01:CDB3  20 F1 E7   			call	_spr_set.1
12335                        	
12336                        		.dbg	line,	"include\routines_LEVELS.c", 2094; spr_pattern(PLAYER_JUMP_VRAM_ADR);
12337                        		__ld.wi		6912
         01:CDB6  62         			cla
         01:CDB7  A0 1B      			ldy.h	#6912
12338                        		__call		_spr_pattern.1
         01:CDB9  20 3A E8   			call	_spr_pattern.1
12339                        	
12340                        		.dbg	line,	"include\routines_LEVELS.c", 2096; player_counter_anim = 1;
12341                        		__st.umiq	1, _player_counter_anim
         01:CDBC  A9 01      			lda.l	#1
         01:CDBE  8D 1C 23   			sta	_player_counter_anim
12342                        	
12343                        		.dbg	line,	"include\routines_LEVELS.c", 2097; }
12344                        	
12345                        		.dbg	line,	"include\routines_LEVELS.c", 2100; // SELECT PLAYER SPRITE //
12346                        	
12347                        		.dbg	line,	"include\routines_LEVELS.c", 2101; spr_set(player_id);
12348    01:CDC1             	.LL596:
12349                        		__ld.umq	_player_id
         01:CDC1  AD 18 23   			lda	_player_id
12350                        		__call		_spr_set.1
         01:CDC4  20 F1 E7   			call	_spr_set.1
12351                        	
12352                        		.dbg	line,	"include\routines_LEVELS.c", 2104; //**************************************************************************************//
12353                        	
12354                        		.dbg	line,	"include\routines_LEVELS.c", 2105; //                                        H MOVE                                        //
12355                        	
12356                        		.dbg	line,	"include\routines_LEVELS.c", 2106; //**************************************************************************************//
12357                        	
12358                        		.dbg	line,	"include\routines_LEVELS.c", 2108; //--------------------------------------------------------------------------------------//
12359                        	
12360                        		.dbg	line,	"include\routines_LEVELS.c", 2109; //                                    WALL COLLISION                                    //
12361                        	
12362                        		.dbg	line,	"include\routines_LEVELS.c", 2110; //--------------------------------------------------------------------------------------//
12363                        	
12364                        		.dbg	line,	"include\routines_LEVELS.c", 2112; // CHECK COLLISION WITH BOTTOM RIGHT WALL //
12365                        	
12366                        		.dbg	line,	"include\routines_LEVELS.c", 2113; collision_PLAYER_BG( 24 , 31 );
12367                        		__ld.wi		24
         01:CDC7  A9 18      			lda.l	#24
         01:CDC9  C2         			cly
12368                        		__pusharg.wr
         01:CDCA  A6 8D      			ldx	<__sp
         01:CDCC  CA         			dex
         01:CDCD  CA         			dex
         01:CDCE  95 08      			sta.l	<__stack, x
         01:CDD0  94 09      			sty.h	<__stack, x
         01:CDD2  86 8D      			stx	<__sp
12369                        		__ld.wi		31
         01:CDD4  A9 1F      			lda.l	#31
         01:CDD6  C2         			cly
12370                        		__pusharg.wr
         01:CDD7  A6 8D      			ldx	<__sp
         01:CDD9  CA         			dex
         01:CDDA  CA         			dex
         01:CDDB  95 08      			sta.l	<__stack, x
         01:CDDD  94 09      			sty.h	<__stack, x
         01:CDDF  86 8D      			stx	<__sp
12371                        		__call		_collision_PLAYER_BG
         01:CDE1  20 31 FF   			call	_collision_PLAYER_BG
12372                        	
12373                        		.dbg	line,	"include\routines_LEVELS.c", 2115; if(map_blk_flag != TILE_BG)
12374                        		__ld.umq	_map_blk_flag
         01:CDE4  AD FA 2B   			lda	_map_blk_flag
12375                        		__neq_b.uiq	1
         01:CDE7  38         			sec
         01:CDE8  49 01      			eor	#1
         01:CDEA  D0 01      			bne	!+
         01:CDEC  18         			clc
         01:CDED             	!:
12376                        		__bfalse	.LL597
         01:CDED  90 78      			bcc	.LL597
12377                        	
12378                        		.dbg	line,	"include\routines_LEVELS.c", 2116; {
12379                        	
12380                        		.dbg	line,	"include\routines_LEVELS.c", 2117; // CHECK COLLISION WITH TOP RIGHT WALL //
12381                        	
12382                        		.dbg	line,	"include\routines_LEVELS.c", 2118; collision_PLAYER_BG( 24 , 15 );
12383                        		__ld.wi		24
         01:CDEF  A9 18      			lda.l	#24
         01:CDF1  C2         			cly
12384                        		__pusharg.wr
         01:CDF2  A6 8D      			ldx	<__sp
         01:CDF4  CA         			dex
         01:CDF5  CA         			dex
         01:CDF6  95 08      			sta.l	<__stack, x
         01:CDF8  94 09      			sty.h	<__stack, x
         01:CDFA  86 8D      			stx	<__sp
12385                        		__ld.wi		15
         01:CDFC  A9 0F      			lda.l	#15
         01:CDFE  C2         			cly
12386                        		__pusharg.wr
         01:CDFF  A6 8D      			ldx	<__sp
         01:CE01  CA         			dex
         01:CE02  CA         			dex
         01:CE03  95 08      			sta.l	<__stack, x
         01:CE05  94 09      			sty.h	<__stack, x
         01:CE07  86 8D      			stx	<__sp
12387                        		__call		_collision_PLAYER_BG
         01:CE09  20 31 FF   			call	_collision_PLAYER_BG
12388                        	
12389                        		.dbg	line,	"include\routines_LEVELS.c", 2120; if(map_blk_flag == TILE_BG)
12390                        		__ld.umq	_map_blk_flag
         01:CE0C  AD FA 2B   			lda	_map_blk_flag
12391                        		__equ_b.uiq	1
         01:CE0F  C9 01      			cmp	#1
         01:CE11  F0 01      			beq	!+
         01:CE13  18         			clc
         01:CE14             	!:
12392                        		__bfalse	.LL598
         01:CE14  90 41      			bcc	.LL598
12393                        	
12394                        		.dbg	line,	"include\routines_LEVELS.c", 2121; {
12395                        	
12396                        		.dbg	line,	"include\routines_LEVELS.c", 2122; check_TILE_DEPTH( 15 , -16 );
12397                        		__ld.wi		15
         01:CE16  A9 0F      			lda.l	#15
         01:CE18  C2         			cly
12398                        		__pusharg.wr
         01:CE19  A6 8D      			ldx	<__sp
         01:CE1B  CA         			dex
         01:CE1C  CA         			dex
         01:CE1D  95 08      			sta.l	<__stack, x
         01:CE1F  94 09      			sty.h	<__stack, x
         01:CE21  86 8D      			stx	<__sp
12399                        		__ld.wi		-16
         01:CE23  A9 F0      			lda.l	#-16
         01:CE25  A0 FF      			ldy.h	#-16
12400                        		__pusharg.wr
         01:CE27  A6 8D      			ldx	<__sp
         01:CE29  CA         			dex
         01:CE2A  CA         			dex
         01:CE2B  95 08      			sta.l	<__stack, x
         01:CE2D  94 09      			sty.h	<__stack, x
         01:CE2F  86 8D      			stx	<__sp
12401                        		__call		_check_TILE_DEPTH
         01:CE31  20 1D FF   			call	_check_TILE_DEPTH
12402                        	
12403                        		.dbg	line,	"include\routines_LEVELS.c", 2124; if(map_blk_flag == TILE_EMPTY && jump_ladder == TRUE)
12404                        		__not.um	_map_blk_flag
         01:CE34  AD FA 2B   			lda	_map_blk_flag
         01:CE37  18         			clc
         01:CE38  D0 01      			bne	!+
         01:CE3A  38         			sec
         01:CE3B             	!:
12405                        		__bfalse	.LL600
         01:CE3B  90 08      			bcc	.LL600
12406                        		__ld.umq	_jump_ladder
         01:CE3D  AD 22 23   			lda	_jump_ladder
12407                        		__equ_b.uiq	1
         01:CE40  C9 01      			cmp	#1
         01:CE42  F0 01      			beq	!+
         01:CE44  18         			clc
         01:CE45             	!:
12408    01:CE45             	.LL600:
12409                        		__bfalse	.LL599
         01:CE45  90 64      			bcc	.LL599
12410                        	
12411                        		.dbg	line,	"include\routines_LEVELS.c", 2125; {
12412                        	
12413                        		.dbg	line,	"include\routines_LEVELS.c", 2126; jump_ladder = FALSE;
12414                        		__st.umiq	0, _jump_ladder
         01:CE47  9C 22 23   			stz	_jump_ladder
12415                        	
12416                        		.dbg	line,	"include\routines_LEVELS.c", 2127; player_index_fall = 0;
12417                        		__st.umiq	0, _player_index_fall
         01:CE4A  9C 1E 23   			stz	_player_index_fall
12418                        	
12419                        		.dbg	line,	"include\routines_LEVELS.c", 2128; player_state = STATE_FALL;
12420                        		__st.umiq	9, _player_state
         01:CE4D  A9 09      			lda.l	#9
         01:CE4F  8D 19 23   			sta	_player_state
12421                        	
12422                        		.dbg	line,	"include\routines_LEVELS.c", 2129; return;
12423                        		__bra		.LL491
         01:CE52  4C DA DC   			bra	.LL491
12424                        	
12425                        		.dbg	line,	"include\routines_LEVELS.c", 2130; }
12426                        	
12427                        		.dbg	line,	"include\routines_LEVELS.c", 2131; }
12428    01:CE55             	.LL599	.alias		.LL601
12429                        	
12430                        		.dbg	line,	"include\routines_LEVELS.c", 2133; else
12431                        		__bra		.LL601
         01:CE55  80 54      			bra	.LL601
12432    01:CE57             	.LL598:
12433                        	
12434                        		.dbg	line,	"include\routines_LEVELS.c", 2134; {
12435                        	
12436                        		.dbg	line,	"include\routines_LEVELS.c", 2135; sgx_map_pxl_x += 2;
12437                        		__add_st.wmiq	2, _sgx_map_pxl_x
         01:CE57  18         			clc
         01:CE58  AD D9 26   			lda.l	_sgx_map_pxl_x
         01:CE5B  69 02      			adc.l	#2
         01:CE5D  8D D9 26   			sta.l	_sgx_map_pxl_x
         01:CE60  90 03      			bcc	!+
         01:CE62  EE DA 26   			inc.h	_sgx_map_pxl_x
         01:CE65             	!:
12438                        	
12439                        		.dbg	line,	"include\routines_LEVELS.c", 2136; }
12440    01:CE65             	.LL601	.alias		.LL602
12441                        	
12442                        		.dbg	line,	"include\routines_LEVELS.c", 2137; }
12443                        	
12444                        		.dbg	line,	"include\routines_LEVELS.c", 2139; else
12445                        		__bra		.LL602
         01:CE65  80 44      			bra	.LL602
12446    01:CE67             	.LL597:
12447                        	
12448                        		.dbg	line,	"include\routines_LEVELS.c", 2140; {
12449                        	
12450                        		.dbg	line,	"include\routines_LEVELS.c", 2141; check_TILE_DEPTH( 15 , -16 );
12451                        		__ld.wi		15
         01:CE67  A9 0F      			lda.l	#15
         01:CE69  C2         			cly
12452                        		__pusharg.wr
         01:CE6A  A6 8D      			ldx	<__sp
         01:CE6C  CA         			dex
         01:CE6D  CA         			dex
         01:CE6E  95 08      			sta.l	<__stack, x
         01:CE70  94 09      			sty.h	<__stack, x
         01:CE72  86 8D      			stx	<__sp
12453                        		__ld.wi		-16
         01:CE74  A9 F0      			lda.l	#-16
         01:CE76  A0 FF      			ldy.h	#-16
12454                        		__pusharg.wr
         01:CE78  A6 8D      			ldx	<__sp
         01:CE7A  CA         			dex
         01:CE7B  CA         			dex
         01:CE7C  95 08      			sta.l	<__stack, x
         01:CE7E  94 09      			sty.h	<__stack, x
         01:CE80  86 8D      			stx	<__sp
12455                        		__call		_check_TILE_DEPTH
         01:CE82  20 1D FF   			call	_check_TILE_DEPTH
12456                        	
12457                        		.dbg	line,	"include\routines_LEVELS.c", 2143; if(map_blk_flag == TILE_EMPTY && jump_ladder == TRUE)
12458                        		__not.um	_map_blk_flag
         01:CE85  AD FA 2B   			lda	_map_blk_flag
         01:CE88  18         			clc
         01:CE89  D0 01      			bne	!+
         01:CE8B  38         			sec
         01:CE8C             	!:
12459                        		__bfalse	.LL604
         01:CE8C  90 08      			bcc	.LL604
12460                        		__ld.umq	_jump_ladder
         01:CE8E  AD 22 23   			lda	_jump_ladder
12461                        		__equ_b.uiq	1
         01:CE91  C9 01      			cmp	#1
         01:CE93  F0 01      			beq	!+
         01:CE95  18         			clc
         01:CE96             	!:
12462    01:CE96             	.LL604:
12463                        		__bfalse	.LL603
         01:CE96  90 13      			bcc	.LL603
12464                        	
12465                        		.dbg	line,	"include\routines_LEVELS.c", 2144; {
12466                        	
12467                        		.dbg	line,	"include\routines_LEVELS.c", 2145; jump_ladder = FALSE;
12468                        		__st.umiq	0, _jump_ladder
         01:CE98  9C 22 23   			stz	_jump_ladder
12469                        	
12470                        		.dbg	line,	"include\routines_LEVELS.c", 2146; hit_wall = TRUE;
12471                        		__st.umiq	1, _hit_wall
         01:CE9B  A9 01      			lda.l	#1
         01:CE9D  8D 25 23   			sta	_hit_wall
12472                        	
12473                        		.dbg	line,	"include\routines_LEVELS.c", 2147; player_index_fall = 0;
12474                        		__st.umiq	0, _player_index_fall
         01:CEA0  9C 1E 23   			stz	_player_index_fall
12475                        	
12476                        		.dbg	line,	"include\routines_LEVELS.c", 2148; player_state = STATE_FALL;
12477                        		__st.umiq	9, _player_state
         01:CEA3  A9 09      			lda.l	#9
         01:CEA5  8D 19 23   			sta	_player_state
12478                        	
12479                        		.dbg	line,	"include\routines_LEVELS.c", 2149; return;
12480                        		__bra		.LL491
         01:CEA8  4C DA DC   			bra	.LL491
12481                        	
12482                        		.dbg	line,	"include\routines_LEVELS.c", 2150; }
12483                        	
12484                        		.dbg	line,	"include\routines_LEVELS.c", 2151; }
12485    01:CEAB             	.LL603:
12486    01:CEAB             	.LL602:
12487                        	
12488                        		.dbg	line,	"include\routines_LEVELS.c", 2156; //**************************************************************************************//
12489                        	
12490                        		.dbg	line,	"include\routines_LEVELS.c", 2157; //                                        V MOVE                                        //
12491                        	
12492                        		.dbg	line,	"include\routines_LEVELS.c", 2158; //**************************************************************************************//
12493                        	
12494                        		.dbg	line,	"include\routines_LEVELS.c", 2160; // UPDATE PLAYER Y POSITION //
12495                        	
12496                        		.dbg	line,	"include\routines_LEVELS.c", 2161; if(jump_ladder == FALSE)
12497                        		__not.um	_jump_ladder
         01:CEAB  AD 22 23   			lda	_jump_ladder
         01:CEAE  18         			clc
         01:CEAF  D0 01      			bne	!+
         01:CEB1  38         			sec
         01:CEB2             	!:
12498                        		__bfalse	.LL605
         01:CEB2  90 1A      			bcc	.LL605
12499                        	
12500                        		.dbg	line,	"include\routines_LEVELS.c", 2162; {
12501                        	
12502                        		.dbg	line,	"include\routines_LEVELS.c", 2163; player_pos_y += TABLE_PLAYER_JUMP_V[player_index_jump];
12503                        		__ldx.umq	_player_index_jump
         01:CEB4  AE 1D 23   			ldx	_player_index_jump
12504                        		__ld.bax	_TABLE_PLAYER_JUMP_V
         01:CEB7  BD 87 62   			lda	_TABLE_PLAYER_JUMP_V, x
         01:CEBA  C2         			cly
         01:CEBB  10 01      			bpl	!+
         01:CEBD  88         			dey
         01:CEBE             	!:
12505                        		__add_st.wmq	_player_pos_y
         01:CEBE  18         			clc
         01:CEBF  6D F8 24   			adc.l	_player_pos_y
         01:CEC2  8D F8 24   			sta.l	_player_pos_y
         01:CEC5  98         			tya
         01:CEC6  6D F9 24   			adc.h	_player_pos_y
         01:CEC9  8D F9 24   			sta.h	_player_pos_y
12506                        	
12507                        		.dbg	line,	"include\routines_LEVELS.c", 2164; }
12508                        	
12509                        		.dbg	line,	"include\routines_LEVELS.c", 2166; else
12510                        		__bra		.LL606
         01:CECC  80 18      			bra	.LL606
12511    01:CECE             	.LL605:
12512                        	
12513                        		.dbg	line,	"include\routines_LEVELS.c", 2167; {
12514                        	
12515                        		.dbg	line,	"include\routines_LEVELS.c", 2168; player_pos_y += TABLE_PLAYER_JUMP_LADDER[player_index_jump];
12516                        		__ldx.umq	_player_index_jump
         01:CECE  AE 1D 23   			ldx	_player_index_jump
12517                        		__ld.bax	_TABLE_PLAYER_JUMP_LADDER
         01:CED1  BD BF 62   			lda	_TABLE_PLAYER_JUMP_LADDER, x
         01:CED4  C2         			cly
         01:CED5  10 01      			bpl	!+
         01:CED7  88         			dey
         01:CED8             	!:
12518                        		__add_st.wmq	_player_pos_y
         01:CED8  18         			clc
         01:CED9  6D F8 24   			adc.l	_player_pos_y
         01:CEDC  8D F8 24   			sta.l	_player_pos_y
         01:CEDF  98         			tya
         01:CEE0  6D F9 24   			adc.h	_player_pos_y
         01:CEE3  8D F9 24   			sta.h	_player_pos_y
12519                        	
12520                        		.dbg	line,	"include\routines_LEVELS.c", 2169; }
12521    01:CEE6             	.LL606:
12522                        	
12523                        		.dbg	line,	"include\routines_LEVELS.c", 2173; // IF PLAYER GOES BELOW ITS BASE Y POSITION //
12524                        	
12525                        		.dbg	line,	"include\routines_LEVELS.c", 2174; if(player_pos_y >= PLAYER_BASE_Y_POS)
12526                        		__ld.wm		_player_pos_y
         01:CEE6  AD F8 24   			lda.l	_player_pos_y
         01:CEE9  AC F9 24   			ldy.h	_player_pos_y
12527                        		__sge_w.wi	128
         01:CEEC  C9 80      			cmp.l	#128		; Subtract integer from Y:A.
         01:CEEE  98         			tya
         01:CEEF  E9 00      			sbc.h	#128
         01:CEF1  50 02      			bvc	!+
         01:CEF3  49 80      			eor	#$80		; +ve if Y:A >= integer (signed).
         01:CEF5  49 80      	!:		eor	#$80
         01:CEF7  0A         			asl	a
12528                        		__bfalse	.LL607
         01:CEF8  90 4E      			bcc	.LL607
12529                        	
12530                        		.dbg	line,	"include\routines_LEVELS.c", 2175; {
12531                        	
12532                        		.dbg	line,	"include\routines_LEVELS.c", 2176; // THE CAMERA MOVES //
12533                        	
12534                        		.dbg	line,	"include\routines_LEVELS.c", 2177; // CALCULATE HOW MANY PIXELS THE CAMERA HAS TO MOVE DOWN //
12535                        	
12536                        		.dbg	line,	"include\routines_LEVELS.c", 2178; camera_y_move = player_pos_y - PLAYER_BASE_Y_POS;
12537                        		__ld.wm		_player_pos_y
         01:CEFA  AD F8 24   			lda.l	_player_pos_y
         01:CEFD  AC F9 24   			ldy.h	_player_pos_y
12538                        		__sub.wi	128
         01:CF00  38         			sec
         01:CF01  E9 80      			sbc.l	#128
         01:CF03  B0 01      			bcs	!+
         01:CF05  88         			dey
         01:CF06             	!:
12539                        		__st.umq	__update_PLAYER_end - 3  /* camera_y_move */
         01:CF06  8D 0A 23   			sta	__update_PLAYER_end - 3
12540                        	
12541                        		.dbg	line,	"include\routines_LEVELS.c", 2179; sgx_map_pxl_y += camera_y_move;
12542                        		__ld.um		__update_PLAYER_end - 3  /* camera_y_move */
         01:CF09  AD 0A 23   			lda	__update_PLAYER_end - 3
         01:CF0C  C2         			cly
12543                        		__add_st.wmq	_sgx_map_pxl_y
         01:CF0D  18         			clc
         01:CF0E  6D DB 26   			adc.l	_sgx_map_pxl_y
         01:CF11  8D DB 26   			sta.l	_sgx_map_pxl_y
         01:CF14  98         			tya
         01:CF15  6D DC 26   			adc.h	_sgx_map_pxl_y
         01:CF18  8D DC 26   			sta.h	_sgx_map_pxl_y
12544                        	
12545                        		.dbg	line,	"include\routines_LEVELS.c", 2181; // IF THE CAMERA HAS REACHED ITS MAX (LOWEST) POSITION //
12546                        	
12547                        		.dbg	line,	"include\routines_LEVELS.c", 2182; if(sgx_map_pxl_y > camera_max_y_position)
12548                        		__ld.wm		_sgx_map_pxl_y
         01:CF1B  AD DB 26   			lda.l	_sgx_map_pxl_y
         01:CF1E  AC DC 26   			ldy.h	_sgx_map_pxl_y
12549                        		__ugt_w.wm	_camera_max_y_position
         01:CF21  18         			clc			; Subtract memory+1 from Y:A.
         01:CF22  ED FA 24   			sbc.l	_camera_max_y_position
         01:CF25  98         			tya
         01:CF26  ED FB 24   			sbc.h	_camera_max_y_position		; CS if Y:A > memory.
12550                        		__bfalse	.LL608
         01:CF29  90 0C      			bcc	.LL608
12551                        	
12552                        		.dbg	line,	"include\routines_LEVELS.c", 2183; {
12553                        	
12554                        		.dbg	line,	"include\routines_LEVELS.c", 2184; // THE CAMERA CAN NOT MOVE LOWER //
12555                        	
12556                        		.dbg	line,	"include\routines_LEVELS.c", 2185; sgx_map_pxl_y = camera_max_y_position;
12557                        		__ld.wm		_camera_max_y_position
         01:CF2B  AD FA 24   			lda.l	_camera_max_y_position
         01:CF2E  AC FB 24   			ldy.h	_camera_max_y_position
12558                        		__st.wmq	_sgx_map_pxl_y
         01:CF31  8D DB 26   			sta.l	_sgx_map_pxl_y
         01:CF34  8C DC 26   			sty.h	_sgx_map_pxl_y
12559                        	
12560                        		.dbg	line,	"include\routines_LEVELS.c", 2186; }
12561                        	
12562                        		.dbg	line,	"include\routines_LEVELS.c", 2188; // THE PLAYER STAYS AT ITS BASE Y POSITION //
12563                        	
12564                        		.dbg	line,	"include\routines_LEVELS.c", 2189; player_pos_y = PLAYER_BASE_Y_POS;
12565    01:CF37             	.LL608:
12566                        		__st.wmiq	128, _player_pos_y
         01:CF37  A9 80      			lda.l	#128
         01:CF39  8D F8 24   			sta.l	_player_pos_y
         01:CF3C  9C F9 24   			stz.h	_player_pos_y
12567                        	
12568                        		.dbg	line,	"include\routines_LEVELS.c", 2191; spr_y(player_pos_y);
12569                        		__ld.wm		_player_pos_y
         01:CF3F  AD F8 24   			lda.l	_player_pos_y
         01:CF42  AC F9 24   			ldy.h	_player_pos_y
12570                        		__call		_spr_y.1
         01:CF45  20 2D E8   			call	_spr_y.1
12571                        	
12572                        		.dbg	line,	"include\routines_LEVELS.c", 2192; }
12573                        	
12574                        		.dbg	line,	"include\routines_LEVELS.c", 2195; // UPDATE JUMP INDEX IN THE ARRAY //
12575                        	
12576                        		.dbg	line,	"include\routines_LEVELS.c", 2196; if(player_index_jump < jump_max_index)
12577    01:CF48             	.LL607:
12578                        		__ld.umq	_player_index_jump
         01:CF48  AD 1D 23   			lda	_player_index_jump
12579                        		__ult_b.umq	_jump_max_index
         01:CF4B  CD 23 23   			cmp	_jump_max_index		; Subtract memory from A.
         01:CF4E  6A         			ror	a		; CC if A < memory.
         01:CF4F  49 80      			eor	#$80
         01:CF51  2A         			rol	a
12580                        		__bfalse	.LL609
         01:CF52  90 03      			bcc	.LL609
12581                        	
12582                        		.dbg	line,	"include\routines_LEVELS.c", 2197; {
12583                        	
12584                        		.dbg	line,	"include\routines_LEVELS.c", 2198; player_index_jump += 1;
12585                        		__add_st.umiq	1, _player_index_jump
         01:CF54  EE 1D 23   			inc	_player_index_jump
12586                        	
12587                        		.dbg	line,	"include\routines_LEVELS.c", 2199; }
12588                        	
12589                        		.dbg	line,	"include\routines_LEVELS.c", 2204; //--------------------------------------------------------------------------------------//
12590                        	
12591                        		.dbg	line,	"include\routines_LEVELS.c", 2205; //                                   FLOOR COLLISION                                    //
12592                        	
12593                        		.dbg	line,	"include\routines_LEVELS.c", 2206; //--------------------------------------------------------------------------------------//
12594                        	
12595                        		.dbg	line,	"include\routines_LEVELS.c", 2208; if(player_index_jump > 14)
12596    01:CF57             	.LL609:
12597                        		__ld.umq	_player_index_jump
         01:CF57  AD 1D 23   			lda	_player_index_jump
12598                        		__ugt_b.uiq	14
         01:CF5A  18         			clc			; Subtract integer+1 from A.
         01:CF5B  E9 0E      			sbc	#14		; CS if A > integer.
12599                        		__bfalse	.LL610
         01:CF5D  B0 03 4C 42			bcc	.LL610
         01:CF61  D1          
12600                        	
12601                        		.dbg	line,	"include\routines_LEVELS.c", 2209; {
12602                        	
12603                        		.dbg	line,	"include\routines_LEVELS.c", 2210; // CHECK COLLISION WITH LEFT FLOOR //
12604                        	
12605                        		.dbg	line,	"include\routines_LEVELS.c", 2211; collision_PLAYER_BG( 10 , 32 );
12606                        		__ld.wi		10
         01:CF62  A9 0A      			lda.l	#10
         01:CF64  C2         			cly
12607                        		__pusharg.wr
         01:CF65  A6 8D      			ldx	<__sp
         01:CF67  CA         			dex
         01:CF68  CA         			dex
         01:CF69  95 08      			sta.l	<__stack, x
         01:CF6B  94 09      			sty.h	<__stack, x
         01:CF6D  86 8D      			stx	<__sp
12608                        		__ld.wi		32
         01:CF6F  A9 20      			lda.l	#32
         01:CF71  C2         			cly
12609                        		__pusharg.wr
         01:CF72  A6 8D      			ldx	<__sp
         01:CF74  CA         			dex
         01:CF75  CA         			dex
         01:CF76  95 08      			sta.l	<__stack, x
         01:CF78  94 09      			sty.h	<__stack, x
         01:CF7A  86 8D      			stx	<__sp
12610                        		__call		_collision_PLAYER_BG
         01:CF7C  20 31 FF   			call	_collision_PLAYER_BG
12611                        	
12612                        		.dbg	line,	"include\routines_LEVELS.c", 2213; // IF PLAYER TOUCHES THE GROUND TO THE LEFT //
12613                        	
12614                        		.dbg	line,	"include\routines_LEVELS.c", 2214; if(map_blk_flag == TILE_BG)
12615                        		__ld.umq	_map_blk_flag
         01:CF7F  AD FA 2B   			lda	_map_blk_flag
12616                        		__equ_b.uiq	1
         01:CF82  C9 01      			cmp	#1
         01:CF84  F0 01      			beq	!+
         01:CF86  18         			clc
         01:CF87             	!:
12617                        		__bfalse	.LL611
         01:CF87  B0 03 4C 52			bcc	.LL611
         01:CF8B  D0          
12618                        	
12619                        		.dbg	line,	"include\routines_LEVELS.c", 2215; {
12620                        	
12621                        		.dbg	line,	"include\routines_LEVELS.c", 2216; // CALCULATE HOW MANY PIXELS THE PLAYER MOVED INTO THE GROUND //
12622                        	
12623                        		.dbg	line,	"include\routines_LEVELS.c", 2217; for(i=1; i<11 ; i++)
12624                        		__st.umiq	1, __update_PLAYER_end - 2  /* i */
         01:CF8C  A9 01      			lda.l	#1
         01:CF8E  8D 0B 23   			sta	__update_PLAYER_end - 2
12625    01:CF91             	.LL612:
12626                        		__ld.umq	__update_PLAYER_end - 2  /* i */
         01:CF91  AD 0B 23   			lda	__update_PLAYER_end - 2
12627                        		__ult_b.uiq	11
         01:CF94  C9 0B      			cmp	#11		; Subtract integer from A.
         01:CF96  6A         			ror	a		; CC if A < integer.
         01:CF97  49 80      			eor	#$80
         01:CF99  2A         			rol	a
12628                        		__btrue		.LL614
         01:CF9A  B0 07      			bcs	.LL614
12629                        		__bra		.LL615
         01:CF9C  80 7D      			bra	.LL615
12630    01:CF9E             	.LL613:
12631                        		__inc.umq	__update_PLAYER_end - 2  /* i */
         01:CF9E  EE 0B 23   			inc	__update_PLAYER_end - 2
12632                        		__bra		.LL612
         01:CFA1  80 EE      			bra	.LL612
12633    01:CFA3             	.LL614:
12634                        	
12635                        		.dbg	line,	"include\routines_LEVELS.c", 2218; {
12636                        	
12637                        		.dbg	line,	"include\routines_LEVELS.c", 2219; check_TILE_DEPTH( 10 , i);
12638                        		__ld.wi		10
         01:CFA3  A9 0A      			lda.l	#10
         01:CFA5  C2         			cly
12639                        		__pusharg.wr
         01:CFA6  A6 8D      			ldx	<__sp
         01:CFA8  CA         			dex
         01:CFA9  CA         			dex
         01:CFAA  95 08      			sta.l	<__stack, x
         01:CFAC  94 09      			sty.h	<__stack, x
         01:CFAE  86 8D      			stx	<__sp
12640                        		__ld.um		__update_PLAYER_end - 2  /* i */
         01:CFB0  AD 0B 23   			lda	__update_PLAYER_end - 2
         01:CFB3  C2         			cly
12641                        		__pusharg.wr
         01:CFB4  A6 8D      			ldx	<__sp
         01:CFB6  CA         			dex
         01:CFB7  CA         			dex
         01:CFB8  95 08      			sta.l	<__stack, x
         01:CFBA  94 09      			sty.h	<__stack, x
         01:CFBC  86 8D      			stx	<__sp
12642                        		__call		_check_TILE_DEPTH
         01:CFBE  20 1D FF   			call	_check_TILE_DEPTH
12643                        	
12644                        		.dbg	line,	"include\routines_LEVELS.c", 2221; if(map_blk_flag == TILE_EMPTY)
12645                        		__not.um	_map_blk_flag
         01:CFC1  AD FA 2B   			lda	_map_blk_flag
         01:CFC4  18         			clc
         01:CFC5  D0 01      			bne	!+
         01:CFC7  38         			sec
         01:CFC8             	!:
12646                        		__bfalse	.LL616
         01:CFC8  90 D4      			bcc	.LL616
12647                        	
12648                        		.dbg	line,	"include\routines_LEVELS.c", 2222; {
12649                        	
12650                        		.dbg	line,	"include\routines_LEVELS.c", 2223; if(player_pos_y != PLAYER_BASE_Y_POS)
12651                        		__ld.wm		_player_pos_y
         01:CFCA  AD F8 24   			lda.l	_player_pos_y
         01:CFCD  AC F9 24   			ldy.h	_player_pos_y
12652                        		__neq_w.wi	128
         01:CFD0  38         			sec
         01:CFD1  49 80      			eor.l	#128
         01:CFD3  D0 06      			bne	!+
         01:CFD5  98         			tya
         01:CFD6  49 00      			eor.h	#128
         01:CFD8  D0 01      			bne	!+
         01:CFDA  18         			clc
         01:CFDB             	!:
12653                        		__bfalse	.LL617
         01:CFDB  90 1E      			bcc	.LL617
12654                        	
12655                        		.dbg	line,	"include\routines_LEVELS.c", 2224; {
12656                        	
12657                        		.dbg	line,	"include\routines_LEVELS.c", 2225; player_pos_y -= (i - 1);
12658                        		__ld.um		__update_PLAYER_end - 2  /* i */
         01:CFDD  AD 0B 23   			lda	__update_PLAYER_end - 2
         01:CFE0  C2         			cly
12659                        		__sub.wi	1
         01:CFE1  38         			sec
         01:CFE2  E9 01      			sbc.l	#1
         01:CFE4  B0 01      			bcs	!+
         01:CFE6  88         			dey
         01:CFE7             	!:
12660                        		__isub_st.wmq	_player_pos_y
         01:CFE7  38         			sec
         01:CFE8  49 FF      			eor	#$FF
         01:CFEA  6D F8 24   			adc.l	_player_pos_y
         01:CFED  8D F8 24   			sta.l	_player_pos_y
         01:CFF0  98         			tya
         01:CFF1  49 FF      			eor	#$FF
         01:CFF3  6D F9 24   			adc.h	_player_pos_y
         01:CFF6  8D F9 24   			sta.h	_player_pos_y
12661                        	
12662                        		.dbg	line,	"include\routines_LEVELS.c", 2226; }
12663                        	
12664                        		.dbg	line,	"include\routines_LEVELS.c", 2228; else
12665                        		__bra		.LL618
         01:CFF9  80 20      			bra	.LL618
12666    01:CFFB             	.LL617:
12667                        	
12668                        		.dbg	line,	"include\routines_LEVELS.c", 2229; {
12669                        	
12670                        		.dbg	line,	"include\routines_LEVELS.c", 2230; sgx_map_pxl_y -= (i - 1);
12671                        		__ld.um		__update_PLAYER_end - 2  /* i */
         01:CFFB  AD 0B 23   			lda	__update_PLAYER_end - 2
         01:CFFE  C2         			cly
12672                        		__sub.wi	1
         01:CFFF  38         			sec
         01:D000  E9 01      			sbc.l	#1
         01:D002  B0 01      			bcs	!+
         01:D004  88         			dey
         01:D005             	!:
12673                        		__isub_st.wmq	_sgx_map_pxl_y
         01:D005  38         			sec
         01:D006  49 FF      			eor	#$FF
         01:D008  6D DB 26   			adc.l	_sgx_map_pxl_y
         01:D00B  8D DB 26   			sta.l	_sgx_map_pxl_y
         01:D00E  98         			tya
         01:D00F  49 FF      			eor	#$FF
         01:D011  6D DC 26   			adc.h	_sgx_map_pxl_y
         01:D014  8D DC 26   			sta.h	_sgx_map_pxl_y
12674                        	
12675                        		.dbg	line,	"include\routines_LEVELS.c", 2231; }
12676    01:D017             	.LL618	.alias		.LL615
12677                        	
12678                        		.dbg	line,	"include\routines_LEVELS.c", 2233; break;
12679                        		__bra		.LL615
         01:D017  80 02      			bra	.LL615
12680                        	
12681                        		.dbg	line,	"include\routines_LEVELS.c", 2234; }
12682                        	
12683                        		.dbg	line,	"include\routines_LEVELS.c", 2235; }
12684    01:D019             	.LL616	.alias		.LL613
12685                        		__bra		.LL613
         01:D019  80 83      			bra	.LL613
12686    01:D01B             	.LL615:
12687                        	
12688                        		.dbg	line,	"include\routines_LEVELS.c", 2237; // SET PLAYER SPRITE NEW POSITION //
12689                        	
12690                        		.dbg	line,	"include\routines_LEVELS.c", 2238; spr_y(player_pos_y);
12691                        		__ld.wm		_player_pos_y
         01:D01B  AD F8 24   			lda.l	_player_pos_y
         01:D01E  AC F9 24   			ldy.h	_player_pos_y
12692                        		__call		_spr_y.1
         01:D021  20 2D E8   			call	_spr_y.1
12693                        	
12694                        		.dbg	line,	"include\routines_LEVELS.c", 2240; spr_set(weapon_id);
12695                        		__ld.umq	_weapon_id
         01:D024  AD 27 23   			lda	_weapon_id
12696                        		__call		_spr_set.1
         01:D027  20 F1 E7   			call	_spr_set.1
12697                        	
12698                        		.dbg	line,	"include\routines_LEVELS.c", 2241; spr_y(player_pos_y+8);
12699                        		__ld.wm		_player_pos_y
         01:D02A  AD F8 24   			lda.l	_player_pos_y
         01:D02D  AC F9 24   			ldy.h	_player_pos_y
12700                        		__add.wi	8
         01:D030  18         			clc
         01:D031  69 08      			adc.l	#8
         01:D033  90 01      			bcc	!+
         01:D035  C8         			iny
         01:D036             	!:
12701                        		__call		_spr_y.1
         01:D036  20 2D E8   			call	_spr_y.1
12702                        	
12703                        		.dbg	line,	"include\routines_LEVELS.c", 2243; player_counter_anim = 1;
12704                        		__st.umiq	1, _player_counter_anim
         01:D039  A9 01      			lda.l	#1
         01:D03B  8D 1C 23   			sta	_player_counter_anim
12705                        	
12706                        		.dbg	line,	"include\routines_LEVELS.c", 2244; player_index_jump = 0;
12707                        		__st.umiq	0, _player_index_jump
         01:D03E  9C 1D 23   			stz	_player_index_jump
12708                        	
12709                        		.dbg	line,	"include\routines_LEVELS.c", 2245; jump_ladder = FALSE;
12710                        		__st.umiq	0, _jump_ladder
         01:D041  9C 22 23   			stz	_jump_ladder
12711                        	
12712                        		.dbg	line,	"include\routines_LEVELS.c", 2246; hit_wall = FALSE;
12713                        		__st.umiq	0, _hit_wall
         01:D044  9C 25 23   			stz	_hit_wall
12714                        	
12715                        		.dbg	line,	"include\routines_LEVELS.c", 2247; jump_max_index = 34;
12716                        		__st.umiq	34, _jump_max_index
         01:D047  A9 22      			lda.l	#34
         01:D049  8D 23 23   			sta	_jump_max_index
12717                        	
12718                        		.dbg	line,	"include\routines_LEVELS.c", 2248; player_state = STATE_IDLE;
12719                        		__st.umiq	0, _player_state
         01:D04C  9C 19 23   			stz	_player_state
12720                        	
12721                        		.dbg	line,	"include\routines_LEVELS.c", 2249; return;
12722                        		__bra		.LL491
         01:D04F  4C DA DC   			bra	.LL491
12723                        	
12724                        		.dbg	line,	"include\routines_LEVELS.c", 2250; }
12725                        	
12726                        		.dbg	line,	"include\routines_LEVELS.c", 2252; // IF PLAYER TOUCHES THE GROUND TO THE RIGHT //
12727                        	
12728                        		.dbg	line,	"include\routines_LEVELS.c", 2253; else
12729    01:D052             	.LL611:
12730                        	
12731                        		.dbg	line,	"include\routines_LEVELS.c", 2254; {
12732                        	
12733                        		.dbg	line,	"include\routines_LEVELS.c", 2255; // CHECK COLLISION WITH RIGHT FLOOR //
12734                        	
12735                        		.dbg	line,	"include\routines_LEVELS.c", 2256; collision_PLAYER_BG( 22 , 32 );
12736                        		__ld.wi		22
         01:D052  A9 16      			lda.l	#22
         01:D054  C2         			cly
12737                        		__pusharg.wr
         01:D055  A6 8D      			ldx	<__sp
         01:D057  CA         			dex
         01:D058  CA         			dex
         01:D059  95 08      			sta.l	<__stack, x
         01:D05B  94 09      			sty.h	<__stack, x
         01:D05D  86 8D      			stx	<__sp
12738                        		__ld.wi		32
         01:D05F  A9 20      			lda.l	#32
         01:D061  C2         			cly
12739                        		__pusharg.wr
         01:D062  A6 8D      			ldx	<__sp
         01:D064  CA         			dex
         01:D065  CA         			dex
         01:D066  95 08      			sta.l	<__stack, x
         01:D068  94 09      			sty.h	<__stack, x
         01:D06A  86 8D      			stx	<__sp
12740                        		__call		_collision_PLAYER_BG
         01:D06C  20 31 FF   			call	_collision_PLAYER_BG
12741                        	
12742                        		.dbg	line,	"include\routines_LEVELS.c", 2258; if(map_blk_flag == TILE_BG)
12743                        		__ld.umq	_map_blk_flag
         01:D06F  AD FA 2B   			lda	_map_blk_flag
12744                        		__equ_b.uiq	1
         01:D072  C9 01      			cmp	#1
         01:D074  F0 01      			beq	!+
         01:D076  18         			clc
         01:D077             	!:
12745                        		__bfalse	.LL620
         01:D077  B0 03 4C 42			bcc	.LL620
         01:D07B  D1          
12746                        	
12747                        		.dbg	line,	"include\routines_LEVELS.c", 2259; {
12748                        	
12749                        		.dbg	line,	"include\routines_LEVELS.c", 2260; // CALCULATE HOW MANY PIXELS THE PLAYER MOVED INTO THE GROUND //
12750                        	
12751                        		.dbg	line,	"include\routines_LEVELS.c", 2261; for(i=1; i<11 ; i++)
12752                        		__st.umiq	1, __update_PLAYER_end - 2  /* i */
         01:D07C  A9 01      			lda.l	#1
         01:D07E  8D 0B 23   			sta	__update_PLAYER_end - 2
12753    01:D081             	.LL621:
12754                        		__ld.umq	__update_PLAYER_end - 2  /* i */
         01:D081  AD 0B 23   			lda	__update_PLAYER_end - 2
12755                        		__ult_b.uiq	11
         01:D084  C9 0B      			cmp	#11		; Subtract integer from A.
         01:D086  6A         			ror	a		; CC if A < integer.
         01:D087  49 80      			eor	#$80
         01:D089  2A         			rol	a
12756                        		__btrue		.LL623
         01:D08A  B0 07      			bcs	.LL623
12757                        		__bra		.LL624
         01:D08C  80 7D      			bra	.LL624
12758    01:D08E             	.LL622:
12759                        		__inc.umq	__update_PLAYER_end - 2  /* i */
         01:D08E  EE 0B 23   			inc	__update_PLAYER_end - 2
12760                        		__bra		.LL621
         01:D091  80 EE      			bra	.LL621
12761    01:D093             	.LL623:
12762                        	
12763                        		.dbg	line,	"include\routines_LEVELS.c", 2262; {
12764                        	
12765                        		.dbg	line,	"include\routines_LEVELS.c", 2263; check_TILE_DEPTH( 22 , i);
12766                        		__ld.wi		22
         01:D093  A9 16      			lda.l	#22
         01:D095  C2         			cly
12767                        		__pusharg.wr
         01:D096  A6 8D      			ldx	<__sp
         01:D098  CA         			dex
         01:D099  CA         			dex
         01:D09A  95 08      			sta.l	<__stack, x
         01:D09C  94 09      			sty.h	<__stack, x
         01:D09E  86 8D      			stx	<__sp
12768                        		__ld.um		__update_PLAYER_end - 2  /* i */
         01:D0A0  AD 0B 23   			lda	__update_PLAYER_end - 2
         01:D0A3  C2         			cly
12769                        		__pusharg.wr
         01:D0A4  A6 8D      			ldx	<__sp
         01:D0A6  CA         			dex
         01:D0A7  CA         			dex
         01:D0A8  95 08      			sta.l	<__stack, x
         01:D0AA  94 09      			sty.h	<__stack, x
         01:D0AC  86 8D      			stx	<__sp
12770                        		__call		_check_TILE_DEPTH
         01:D0AE  20 1D FF   			call	_check_TILE_DEPTH
12771                        	
12772                        		.dbg	line,	"include\routines_LEVELS.c", 2265; if(map_blk_flag == TILE_EMPTY)
12773                        		__not.um	_map_blk_flag
         01:D0B1  AD FA 2B   			lda	_map_blk_flag
         01:D0B4  18         			clc
         01:D0B5  D0 01      			bne	!+
         01:D0B7  38         			sec
         01:D0B8             	!:
12774                        		__bfalse	.LL625
         01:D0B8  90 D4      			bcc	.LL625
12775                        	
12776                        		.dbg	line,	"include\routines_LEVELS.c", 2266; {
12777                        	
12778                        		.dbg	line,	"include\routines_LEVELS.c", 2267; if(player_pos_y != PLAYER_BASE_Y_POS)
12779                        		__ld.wm		_player_pos_y
         01:D0BA  AD F8 24   			lda.l	_player_pos_y
         01:D0BD  AC F9 24   			ldy.h	_player_pos_y
12780                        		__neq_w.wi	128
         01:D0C0  38         			sec
         01:D0C1  49 80      			eor.l	#128
         01:D0C3  D0 06      			bne	!+
         01:D0C5  98         			tya
         01:D0C6  49 00      			eor.h	#128
         01:D0C8  D0 01      			bne	!+
         01:D0CA  18         			clc
         01:D0CB             	!:
12781                        		__bfalse	.LL626
         01:D0CB  90 1E      			bcc	.LL626
12782                        	
12783                        		.dbg	line,	"include\routines_LEVELS.c", 2268; {
12784                        	
12785                        		.dbg	line,	"include\routines_LEVELS.c", 2269; player_pos_y -= (i - 1);
12786                        		__ld.um		__update_PLAYER_end - 2  /* i */
         01:D0CD  AD 0B 23   			lda	__update_PLAYER_end - 2
         01:D0D0  C2         			cly
12787                        		__sub.wi	1
         01:D0D1  38         			sec
         01:D0D2  E9 01      			sbc.l	#1
         01:D0D4  B0 01      			bcs	!+
         01:D0D6  88         			dey
         01:D0D7             	!:
12788                        		__isub_st.wmq	_player_pos_y
         01:D0D7  38         			sec
         01:D0D8  49 FF      			eor	#$FF
         01:D0DA  6D F8 24   			adc.l	_player_pos_y
         01:D0DD  8D F8 24   			sta.l	_player_pos_y
         01:D0E0  98         			tya
         01:D0E1  49 FF      			eor	#$FF
         01:D0E3  6D F9 24   			adc.h	_player_pos_y
         01:D0E6  8D F9 24   			sta.h	_player_pos_y
12789                        	
12790                        		.dbg	line,	"include\routines_LEVELS.c", 2270; }
12791                        	
12792                        		.dbg	line,	"include\routines_LEVELS.c", 2272; else
12793                        		__bra		.LL627
         01:D0E9  80 20      			bra	.LL627
12794    01:D0EB             	.LL626:
12795                        	
12796                        		.dbg	line,	"include\routines_LEVELS.c", 2273; {
12797                        	
12798                        		.dbg	line,	"include\routines_LEVELS.c", 2274; sgx_map_pxl_y -= (i - 1);
12799                        		__ld.um		__update_PLAYER_end - 2  /* i */
         01:D0EB  AD 0B 23   			lda	__update_PLAYER_end - 2
         01:D0EE  C2         			cly
12800                        		__sub.wi	1
         01:D0EF  38         			sec
         01:D0F0  E9 01      			sbc.l	#1
         01:D0F2  B0 01      			bcs	!+
         01:D0F4  88         			dey
         01:D0F5             	!:
12801                        		__isub_st.wmq	_sgx_map_pxl_y
         01:D0F5  38         			sec
         01:D0F6  49 FF      			eor	#$FF
         01:D0F8  6D DB 26   			adc.l	_sgx_map_pxl_y
         01:D0FB  8D DB 26   			sta.l	_sgx_map_pxl_y
         01:D0FE  98         			tya
         01:D0FF  49 FF      			eor	#$FF
         01:D101  6D DC 26   			adc.h	_sgx_map_pxl_y
         01:D104  8D DC 26   			sta.h	_sgx_map_pxl_y
12802                        	
12803                        		.dbg	line,	"include\routines_LEVELS.c", 2275; }
12804    01:D107             	.LL627	.alias		.LL624
12805                        	
12806                        		.dbg	line,	"include\routines_LEVELS.c", 2277; break;
12807                        		__bra		.LL624
         01:D107  80 02      			bra	.LL624
12808                        	
12809                        		.dbg	line,	"include\routines_LEVELS.c", 2278; }
12810                        	
12811                        		.dbg	line,	"include\routines_LEVELS.c", 2279; }
12812    01:D109             	.LL625	.alias		.LL622
12813                        		__bra		.LL622
         01:D109  80 83      			bra	.LL622
12814    01:D10B             	.LL624:
12815                        	
12816                        		.dbg	line,	"include\routines_LEVELS.c", 2281; // SET PLAYER SPRITE NEW POSITION //
12817                        	
12818                        		.dbg	line,	"include\routines_LEVELS.c", 2282; spr_y(player_pos_y);
12819                        		__ld.wm		_player_pos_y
         01:D10B  AD F8 24   			lda.l	_player_pos_y
         01:D10E  AC F9 24   			ldy.h	_player_pos_y
12820                        		__call		_spr_y.1
         01:D111  20 2D E8   			call	_spr_y.1
12821                        	
12822                        		.dbg	line,	"include\routines_LEVELS.c", 2284; spr_set(weapon_id);
12823                        		__ld.umq	_weapon_id
         01:D114  AD 27 23   			lda	_weapon_id
12824                        		__call		_spr_set.1
         01:D117  20 F1 E7   			call	_spr_set.1
12825                        	
12826                        		.dbg	line,	"include\routines_LEVELS.c", 2285; spr_y(player_pos_y+8);
12827                        		__ld.wm		_player_pos_y
         01:D11A  AD F8 24   			lda.l	_player_pos_y
         01:D11D  AC F9 24   			ldy.h	_player_pos_y
12828                        		__add.wi	8
         01:D120  18         			clc
         01:D121  69 08      			adc.l	#8
         01:D123  90 01      			bcc	!+
         01:D125  C8         			iny
         01:D126             	!:
12829                        		__call		_spr_y.1
         01:D126  20 2D E8   			call	_spr_y.1
12830                        	
12831                        		.dbg	line,	"include\routines_LEVELS.c", 2287; player_counter_anim = 1;
12832                        		__st.umiq	1, _player_counter_anim
         01:D129  A9 01      			lda.l	#1
         01:D12B  8D 1C 23   			sta	_player_counter_anim
12833                        	
12834                        		.dbg	line,	"include\routines_LEVELS.c", 2288; player_index_jump = 0;
12835                        		__st.umiq	0, _player_index_jump
         01:D12E  9C 1D 23   			stz	_player_index_jump
12836                        	
12837                        		.dbg	line,	"include\routines_LEVELS.c", 2289; jump_ladder = FALSE;
12838                        		__st.umiq	0, _jump_ladder
         01:D131  9C 22 23   			stz	_jump_ladder
12839                        	
12840                        		.dbg	line,	"include\routines_LEVELS.c", 2290; hit_wall = FALSE;
12841                        		__st.umiq	0, _hit_wall
         01:D134  9C 25 23   			stz	_hit_wall
12842                        	
12843                        		.dbg	line,	"include\routines_LEVELS.c", 2291; jump_max_index = 34;
12844                        		__st.umiq	34, _jump_max_index
         01:D137  A9 22      			lda.l	#34
         01:D139  8D 23 23   			sta	_jump_max_index
12845                        	
12846                        		.dbg	line,	"include\routines_LEVELS.c", 2292; player_state = STATE_IDLE;
12847                        		__st.umiq	0, _player_state
         01:D13C  9C 19 23   			stz	_player_state
12848                        	
12849                        		.dbg	line,	"include\routines_LEVELS.c", 2293; return;
12850                        		__bra		.LL491
         01:D13F  4C DA DC   			bra	.LL491
12851                        	
12852                        		.dbg	line,	"include\routines_LEVELS.c", 2294; }
12853                        	
12854                        		.dbg	line,	"include\routines_LEVELS.c", 2295; }
12855    01:D142             	.LL620:
12856    01:D142             	.LL619:
12857                        	
12858                        		.dbg	line,	"include\routines_LEVELS.c", 2296; }
12859                        	
12860                        		.dbg	line,	"include\routines_LEVELS.c", 2301; //--------------------------------------------------------------------------------------//
12861                        	
12862                        		.dbg	line,	"include\routines_LEVELS.c", 2302; //                                   LADDER COLLISION                                   //
12863                        	
12864                        		.dbg	line,	"include\routines_LEVELS.c", 2303; //--------------------------------------------------------------------------------------//
12865                        	
12866                        		.dbg	line,	"include\routines_LEVELS.c", 2305; if(player_index_jump > 4)
12867    01:D142             	.LL610:
12868                        		__ld.umq	_player_index_jump
         01:D142  AD 1D 23   			lda	_player_index_jump
12869                        		__ugt_b.uiq	4
         01:D145  18         			clc			; Subtract integer+1 from A.
         01:D146  E9 04      			sbc	#4		; CS if A > integer.
12870                        		__bfalse	.LL628
         01:D148  B0 03 4C DD			bcc	.LL628
         01:D14C  D1          
12871                        	
12872                        		.dbg	line,	"include\routines_LEVELS.c", 2306; {
12873                        	
12874                        		.dbg	line,	"include\routines_LEVELS.c", 2307; collision_PLAYER_BG( 16 , 16 );
12875                        		__ld.wi		16
         01:D14D  A9 10      			lda.l	#16
         01:D14F  C2         			cly
12876                        		__pusharg.wr
         01:D150  A6 8D      			ldx	<__sp
         01:D152  CA         			dex
         01:D153  CA         			dex
         01:D154  95 08      			sta.l	<__stack, x
         01:D156  94 09      			sty.h	<__stack, x
         01:D158  86 8D      			stx	<__sp
12877                        		__ld.wi		16
         01:D15A  A9 10      			lda.l	#16
         01:D15C  C2         			cly
12878                        		__pusharg.wr
         01:D15D  A6 8D      			ldx	<__sp
         01:D15F  CA         			dex
         01:D160  CA         			dex
         01:D161  95 08      			sta.l	<__stack, x
         01:D163  94 09      			sty.h	<__stack, x
         01:D165  86 8D      			stx	<__sp
12879                        		__call		_collision_PLAYER_BG
         01:D167  20 31 FF   			call	_collision_PLAYER_BG
12880                        	
12881                        		.dbg	line,	"include\routines_LEVELS.c", 2309; // IF PLAYER HITS THE LADDER //
12882                        	
12883                        		.dbg	line,	"include\routines_LEVELS.c", 2310; if(map_blk_flag == TILE_LADDER)
12884                        		__ld.umq	_map_blk_flag
         01:D16A  AD FA 2B   			lda	_map_blk_flag
12885                        		__equ_b.uiq	2
         01:D16D  C9 02      			cmp	#2
         01:D16F  F0 01      			beq	!+
         01:D171  18         			clc
         01:D172             	!:
12886                        		__bfalse	.LL629
         01:D172  90 69      			bcc	.LL629
12887                        	
12888                        		.dbg	line,	"include\routines_LEVELS.c", 2311; {
12889                        	
12890                        		.dbg	line,	"include\routines_LEVELS.c", 2312; // CAMERA GOES 8 PX BACKWARD //
12891                        	
12892                        		.dbg	line,	"include\routines_LEVELS.c", 2313; sgx_map_pxl_x = ( (sgx_map_pxl_x >> 3) << 3 );
12893                        		__ld.wm		_sgx_map_pxl_x
         01:D174  AD D9 26   			lda.l	_sgx_map_pxl_x
         01:D177  AC DA 26   			ldy.h	_sgx_map_pxl_x
12894                        		__lsr.wi	3
         01:D17A  84 00      			sty	__temp
         01:D17C  20 3A E2   			jsr	lsrw3
12895                        		__asl.wi	3
         01:D17F  84 00      			sty	__temp
         01:D181  20 D7 E1   			jsr	aslw3
12896                        		__st.wmq	_sgx_map_pxl_x
         01:D184  8D D9 26   			sta.l	_sgx_map_pxl_x
         01:D187  8C DA 26   			sty.h	_sgx_map_pxl_x
12897                        	
12898                        		.dbg	line,	"include\routines_LEVELS.c", 2315; // SO WE UPDATE THE MAP //
12899                        	
12900                        		.dbg	line,	"include\routines_LEVELS.c", 2316; sgx_scroll_map();
12901                        		__call		_sgx_scroll_map
         01:D18A  20 63 FF   			call	_sgx_scroll_map
12902                        	
12903                        		.dbg	line,	"include\routines_LEVELS.c", 2318; // CHECK IF THE PLAYER STANDS RIGHT TO THE LADDER //
12904                        	
12905                        		.dbg	line,	"include\routines_LEVELS.c", 2319; collision_PLAYER_BG( 31 , 16 );
12906                        		__ld.wi		31
         01:D18D  A9 1F      			lda.l	#31
         01:D18F  C2         			cly
12907                        		__pusharg.wr
         01:D190  A6 8D      			ldx	<__sp
         01:D192  CA         			dex
         01:D193  CA         			dex
         01:D194  95 08      			sta.l	<__stack, x
         01:D196  94 09      			sty.h	<__stack, x
         01:D198  86 8D      			stx	<__sp
12908                        		__ld.wi		16
         01:D19A  A9 10      			lda.l	#16
         01:D19C  C2         			cly
12909                        		__pusharg.wr
         01:D19D  A6 8D      			ldx	<__sp
         01:D19F  CA         			dex
         01:D1A0  CA         			dex
         01:D1A1  95 08      			sta.l	<__stack, x
         01:D1A3  94 09      			sty.h	<__stack, x
         01:D1A5  86 8D      			stx	<__sp
12910                        		__call		_collision_PLAYER_BG
         01:D1A7  20 31 FF   			call	_collision_PLAYER_BG
12911                        	
12912                        		.dbg	line,	"include\routines_LEVELS.c", 2321; if(map_blk_flag == TILE_LADDER)
12913                        		__ld.umq	_map_blk_flag
         01:D1AA  AD FA 2B   			lda	_map_blk_flag
12914                        		__equ_b.uiq	2
         01:D1AD  C9 02      			cmp	#2
         01:D1AF  F0 01      			beq	!+
         01:D1B1  18         			clc
         01:D1B2             	!:
12915                        		__bfalse	.LL630
         01:D1B2  90 0E      			bcc	.LL630
12916                        	
12917                        		.dbg	line,	"include\routines_LEVELS.c", 2322; {
12918                        	
12919                        		.dbg	line,	"include\routines_LEVELS.c", 2323; sgx_map_pxl_x += 8;
12920                        		__add_st.wmiq	8, _sgx_map_pxl_x
         01:D1B4  18         			clc
         01:D1B5  AD D9 26   			lda.l	_sgx_map_pxl_x
         01:D1B8  69 08      			adc.l	#8
         01:D1BA  8D D9 26   			sta.l	_sgx_map_pxl_x
         01:D1BD  90 03      			bcc	!+
         01:D1BF  EE DA 26   			inc.h	_sgx_map_pxl_x
         01:D1C2             	!:
12921                        	
12922                        		.dbg	line,	"include\routines_LEVELS.c", 2324; }
12923                        	
12924                        		.dbg	line,	"include\routines_LEVELS.c", 2326; spr_pattern(PLAYER_HANG_VRAM_ADR);
12925    01:D1C2             	.LL630:
12926                        		__ld.wi		7424
         01:D1C2  62         			cla
         01:D1C3  A0 1D      			ldy.h	#7424
12927                        		__call		_spr_pattern.1
         01:D1C5  20 3A E8   			call	_spr_pattern.1
12928                        	
12929                        		.dbg	line,	"include\routines_LEVELS.c", 2327; player_counter_anim = 0;
12930                        		__st.umiq	0, _player_counter_anim
         01:D1C8  9C 1C 23   			stz	_player_counter_anim
12931                        	
12932                        		.dbg	line,	"include\routines_LEVELS.c", 2328; player_index_jump = 0;
12933                        		__st.umiq	0, _player_index_jump
         01:D1CB  9C 1D 23   			stz	_player_index_jump
12934                        	
12935                        		.dbg	line,	"include\routines_LEVELS.c", 2329; jump_ladder = TRUE;
12936                        		__st.umiq	1, _jump_ladder
         01:D1CE  A9 01      			lda.l	#1
         01:D1D0  8D 22 23   			sta	_jump_ladder
12937                        	
12938                        		.dbg	line,	"include\routines_LEVELS.c", 2330; jump_max_index = 29;
12939                        		__st.umiq	29, _jump_max_index
         01:D1D3  A9 1D      			lda.l	#29
         01:D1D5  8D 23 23   			sta	_jump_max_index
12940                        	
12941                        		.dbg	line,	"include\routines_LEVELS.c", 2331; player_state = STATE_HANG;
12942                        		__st.umiq	10, _player_state
         01:D1D8  A9 0A      			lda.l	#10
         01:D1DA  8D 19 23   			sta	_player_state
12943                        	
12944                        		.dbg	line,	"include\routines_LEVELS.c", 2332; }
12945                        	
12946                        		.dbg	line,	"include\routines_LEVELS.c", 2333; }
12947    01:D1DD             	.LL629:
12948                        	
12949                        		.dbg	line,	"include\routines_LEVELS.c", 2336; // SET PLAYER SPRITE NEW POSITION //
12950                        	
12951                        		.dbg	line,	"include\routines_LEVELS.c", 2337; spr_y(player_pos_y);
12952    01:D1DD             	.LL628:
12953                        		__ld.wm		_player_pos_y
         01:D1DD  AD F8 24   			lda.l	_player_pos_y
         01:D1E0  AC F9 24   			ldy.h	_player_pos_y
12954                        		__call		_spr_y.1
         01:D1E3  20 2D E8   			call	_spr_y.1
12955                        	
12956                        		.dbg	line,	"include\routines_LEVELS.c", 2338; spr_set(weapon_id);
12957                        		__ld.umq	_weapon_id
         01:D1E6  AD 27 23   			lda	_weapon_id
12958                        		__call		_spr_set.1
         01:D1E9  20 F1 E7   			call	_spr_set.1
12959                        	
12960                        		.dbg	line,	"include\routines_LEVELS.c", 2339; spr_y(player_pos_y+8);
12961                        		__ld.wm		_player_pos_y
         01:D1EC  AD F8 24   			lda.l	_player_pos_y
         01:D1EF  AC F9 24   			ldy.h	_player_pos_y
12962                        		__add.wi	8
         01:D1F2  18         			clc
         01:D1F3  69 08      			adc.l	#8
         01:D1F5  90 01      			bcc	!+
         01:D1F7  C8         			iny
         01:D1F8             	!:
12963                        		__call		_spr_y.1
         01:D1F8  20 2D E8   			call	_spr_y.1
12964                        	
12965                        		.dbg	line,	"include\routines_LEVELS.c", 2340; }
12966                        	
12967                        		.dbg	line,	"include\routines_LEVELS.c", 2343; else if(player_state == STATE_JUMP_LEFT)
12968                        		__bra		.LL631
         01:D1FB  4C DA DC   			bra	.LL631
12969    01:D1FE             	.LL595:
12970                        		__ld.umq	_player_state
         01:D1FE  AD 19 23   			lda	_player_state
12971                        		__equ_b.uiq	6
         01:D201  C9 06      			cmp	#6
         01:D203  F0 01      			beq	!+
         01:D205  18         			clc
         01:D206             	!:
12972                        		__bfalse	.LL632
         01:D206  B0 03 4C 67			bcc	.LL632
         01:D20A  D6          
12973                        	
12974                        		.dbg	line,	"include\routines_LEVELS.c", 2344; {
12975                        	
12976                        		.dbg	line,	"include\routines_LEVELS.c", 2345; unsigned char i, camera_y_move;
12977                        	
12978                        		.dbg	line,	"include\routines_LEVELS.c", 2346; i = 1;
12979                        		__st.umiq	1, __update_PLAYER_end - 4  /* i */
         01:D20B  A9 01      			lda.l	#1
         01:D20D  8D 09 23   			sta	__update_PLAYER_end - 4
12980                        	
12981                        		.dbg	line,	"include\routines_LEVELS.c", 2349; // UPDATE PLAYER TILES //
12982                        	
12983                        		.dbg	line,	"include\routines_LEVELS.c", 2350; if(player_counter_anim == 0)
12984                        		__not.um	_player_counter_anim
         01:D210  AD 1C 23   			lda	_player_counter_anim
         01:D213  18         			clc
         01:D214  D0 01      			bne	!+
         01:D216  38         			sec
         01:D217             	!:
12985                        		__bfalse	.LL633
         01:D217  90 11      			bcc	.LL633
12986                        	
12987                        		.dbg	line,	"include\routines_LEVELS.c", 2351; {
12988                        	
12989                        		.dbg	line,	"include\routines_LEVELS.c", 2352; spr_set(player_id);
12990                        		__ld.umq	_player_id
         01:D219  AD 18 23   			lda	_player_id
12991                        		__call		_spr_set.1
         01:D21C  20 F1 E7   			call	_spr_set.1
12992                        	
12993                        		.dbg	line,	"include\routines_LEVELS.c", 2353; spr_pattern(PLAYER_JUMP_VRAM_ADR);
12994                        		__ld.wi		6912
         01:D21F  62         			cla
         01:D220  A0 1B      			ldy.h	#6912
12995                        		__call		_spr_pattern.1
         01:D222  20 3A E8   			call	_spr_pattern.1
12996                        	
12997                        		.dbg	line,	"include\routines_LEVELS.c", 2355; player_counter_anim = 1;
12998                        		__st.umiq	1, _player_counter_anim
         01:D225  A9 01      			lda.l	#1
         01:D227  8D 1C 23   			sta	_player_counter_anim
12999                        	
13000                        		.dbg	line,	"include\routines_LEVELS.c", 2356; }
13001                        	
13002                        		.dbg	line,	"include\routines_LEVELS.c", 2359; // SELECT PLAYER SPRITE //
13003                        	
13004                        		.dbg	line,	"include\routines_LEVELS.c", 2360; spr_set(player_id);
13005    01:D22A             	.LL633:
13006                        		__ld.umq	_player_id
         01:D22A  AD 18 23   			lda	_player_id
13007                        		__call		_spr_set.1
         01:D22D  20 F1 E7   			call	_spr_set.1
13008                        	
13009                        		.dbg	line,	"include\routines_LEVELS.c", 2363; //**************************************************************************************//
13010                        	
13011                        		.dbg	line,	"include\routines_LEVELS.c", 2364; //                                        H MOVE                                        //
13012                        	
13013                        		.dbg	line,	"include\routines_LEVELS.c", 2365; //**************************************************************************************//
13014                        	
13015                        		.dbg	line,	"include\routines_LEVELS.c", 2367; //--------------------------------------------------------------------------------------//
13016                        	
13017                        		.dbg	line,	"include\routines_LEVELS.c", 2368; //                                    WALL COLLISION                                    //
13018                        	
13019                        		.dbg	line,	"include\routines_LEVELS.c", 2369; //--------------------------------------------------------------------------------------//
13020                        	
13021                        		.dbg	line,	"include\routines_LEVELS.c", 2371; // CHECK COLLISION WITH BOTTOM LEFT WALL //
13022                        	
13023                        		.dbg	line,	"include\routines_LEVELS.c", 2372; collision_PLAYER_BG( 8 , 31 );
13024                        		__ld.wi		8
         01:D230  A9 08      			lda.l	#8
         01:D232  C2         			cly
13025                        		__pusharg.wr
         01:D233  A6 8D      			ldx	<__sp
         01:D235  CA         			dex
         01:D236  CA         			dex
         01:D237  95 08      			sta.l	<__stack, x
         01:D239  94 09      			sty.h	<__stack, x
         01:D23B  86 8D      			stx	<__sp
13026                        		__ld.wi		31
         01:D23D  A9 1F      			lda.l	#31
         01:D23F  C2         			cly
13027                        		__pusharg.wr
         01:D240  A6 8D      			ldx	<__sp
         01:D242  CA         			dex
         01:D243  CA         			dex
         01:D244  95 08      			sta.l	<__stack, x
         01:D246  94 09      			sty.h	<__stack, x
         01:D248  86 8D      			stx	<__sp
13028                        		__call		_collision_PLAYER_BG
         01:D24A  20 31 FF   			call	_collision_PLAYER_BG
13029                        	
13030                        		.dbg	line,	"include\routines_LEVELS.c", 2374; if(map_blk_flag != TILE_BG)
13031                        		__ld.umq	_map_blk_flag
         01:D24D  AD FA 2B   			lda	_map_blk_flag
13032                        		__neq_b.uiq	1
         01:D250  38         			sec
         01:D251  49 01      			eor	#1
         01:D253  D0 01      			bne	!+
         01:D255  18         			clc
         01:D256             	!:
13033                        		__bfalse	.LL634
         01:D256  90 78      			bcc	.LL634
13034                        	
13035                        		.dbg	line,	"include\routines_LEVELS.c", 2375; {
13036                        	
13037                        		.dbg	line,	"include\routines_LEVELS.c", 2376; // CHECK COLLISION WITH TOP RIGHT WALL //
13038                        	
13039                        		.dbg	line,	"include\routines_LEVELS.c", 2377; collision_PLAYER_BG( 8 , 15 );
13040                        		__ld.wi		8
         01:D258  A9 08      			lda.l	#8
         01:D25A  C2         			cly
13041                        		__pusharg.wr
         01:D25B  A6 8D      			ldx	<__sp
         01:D25D  CA         			dex
         01:D25E  CA         			dex
         01:D25F  95 08      			sta.l	<__stack, x
         01:D261  94 09      			sty.h	<__stack, x
         01:D263  86 8D      			stx	<__sp
13042                        		__ld.wi		15
         01:D265  A9 0F      			lda.l	#15
         01:D267  C2         			cly
13043                        		__pusharg.wr
         01:D268  A6 8D      			ldx	<__sp
         01:D26A  CA         			dex
         01:D26B  CA         			dex
         01:D26C  95 08      			sta.l	<__stack, x
         01:D26E  94 09      			sty.h	<__stack, x
         01:D270  86 8D      			stx	<__sp
13044                        		__call		_collision_PLAYER_BG
         01:D272  20 31 FF   			call	_collision_PLAYER_BG
13045                        	
13046                        		.dbg	line,	"include\routines_LEVELS.c", 2379; if(map_blk_flag == TILE_BG)
13047                        		__ld.umq	_map_blk_flag
         01:D275  AD FA 2B   			lda	_map_blk_flag
13048                        		__equ_b.uiq	1
         01:D278  C9 01      			cmp	#1
         01:D27A  F0 01      			beq	!+
         01:D27C  18         			clc
         01:D27D             	!:
13049                        		__bfalse	.LL635
         01:D27D  90 41      			bcc	.LL635
13050                        	
13051                        		.dbg	line,	"include\routines_LEVELS.c", 2380; {
13052                        	
13053                        		.dbg	line,	"include\routines_LEVELS.c", 2381; check_TILE_DEPTH( 15 , -16 );
13054                        		__ld.wi		15
         01:D27F  A9 0F      			lda.l	#15
         01:D281  C2         			cly
13055                        		__pusharg.wr
         01:D282  A6 8D      			ldx	<__sp
         01:D284  CA         			dex
         01:D285  CA         			dex
         01:D286  95 08      			sta.l	<__stack, x
         01:D288  94 09      			sty.h	<__stack, x
         01:D28A  86 8D      			stx	<__sp
13056                        		__ld.wi		-16
         01:D28C  A9 F0      			lda.l	#-16
         01:D28E  A0 FF      			ldy.h	#-16
13057                        		__pusharg.wr
         01:D290  A6 8D      			ldx	<__sp
         01:D292  CA         			dex
         01:D293  CA         			dex
         01:D294  95 08      			sta.l	<__stack, x
         01:D296  94 09      			sty.h	<__stack, x
         01:D298  86 8D      			stx	<__sp
13058                        		__call		_check_TILE_DEPTH
         01:D29A  20 1D FF   			call	_check_TILE_DEPTH
13059                        	
13060                        		.dbg	line,	"include\routines_LEVELS.c", 2383; if(map_blk_flag == TILE_EMPTY && jump_ladder == TRUE)
13061                        		__not.um	_map_blk_flag
         01:D29D  AD FA 2B   			lda	_map_blk_flag
         01:D2A0  18         			clc
         01:D2A1  D0 01      			bne	!+
         01:D2A3  38         			sec
         01:D2A4             	!:
13062                        		__bfalse	.LL637
         01:D2A4  90 08      			bcc	.LL637
13063                        		__ld.umq	_jump_ladder
         01:D2A6  AD 22 23   			lda	_jump_ladder
13064                        		__equ_b.uiq	1
         01:D2A9  C9 01      			cmp	#1
         01:D2AB  F0 01      			beq	!+
         01:D2AD  18         			clc
         01:D2AE             	!:
13065    01:D2AE             	.LL637:
13066                        		__bfalse	.LL636
         01:D2AE  90 64      			bcc	.LL636
13067                        	
13068                        		.dbg	line,	"include\routines_LEVELS.c", 2384; {
13069                        	
13070                        		.dbg	line,	"include\routines_LEVELS.c", 2385; jump_ladder = FALSE;
13071                        		__st.umiq	0, _jump_ladder
         01:D2B0  9C 22 23   			stz	_jump_ladder
13072                        	
13073                        		.dbg	line,	"include\routines_LEVELS.c", 2386; player_index_fall = 0;
13074                        		__st.umiq	0, _player_index_fall
         01:D2B3  9C 1E 23   			stz	_player_index_fall
13075                        	
13076                        		.dbg	line,	"include\routines_LEVELS.c", 2387; player_state = STATE_FALL;
13077                        		__st.umiq	9, _player_state
         01:D2B6  A9 09      			lda.l	#9
         01:D2B8  8D 19 23   			sta	_player_state
13078                        	
13079                        		.dbg	line,	"include\routines_LEVELS.c", 2388; return;
13080                        		__bra		.LL491
         01:D2BB  4C DA DC   			bra	.LL491
13081                        	
13082                        		.dbg	line,	"include\routines_LEVELS.c", 2389; }
13083                        	
13084                        		.dbg	line,	"include\routines_LEVELS.c", 2390; }
13085    01:D2BE             	.LL636	.alias		.LL638
13086                        	
13087                        		.dbg	line,	"include\routines_LEVELS.c", 2392; else
13088                        		__bra		.LL638
         01:D2BE  80 54      			bra	.LL638
13089    01:D2C0             	.LL635:
13090                        	
13091                        		.dbg	line,	"include\routines_LEVELS.c", 2393; {
13092                        	
13093                        		.dbg	line,	"include\routines_LEVELS.c", 2394; sgx_map_pxl_x -= 2;
13094                        		__sub_st.wmiq	2, _sgx_map_pxl_x
         01:D2C0  38         			sec
         01:D2C1  AD D9 26   			lda.l	_sgx_map_pxl_x
         01:D2C4  E9 02      			sbc.l	#2
         01:D2C6  8D D9 26   			sta.l	_sgx_map_pxl_x
         01:D2C9  B0 03      			bcs	!+
         01:D2CB  CE DA 26   			dec.h	_sgx_map_pxl_x
         01:D2CE             	!:
13095                        	
13096                        		.dbg	line,	"include\routines_LEVELS.c", 2395; }
13097    01:D2CE             	.LL638	.alias		.LL639
13098                        	
13099                        		.dbg	line,	"include\routines_LEVELS.c", 2396; }
13100                        	
13101                        		.dbg	line,	"include\routines_LEVELS.c", 2398; else
13102                        		__bra		.LL639
         01:D2CE  80 44      			bra	.LL639
13103    01:D2D0             	.LL634:
13104                        	
13105                        		.dbg	line,	"include\routines_LEVELS.c", 2399; {
13106                        	
13107                        		.dbg	line,	"include\routines_LEVELS.c", 2400; check_TILE_DEPTH( 15 , -16 );
13108                        		__ld.wi		15
         01:D2D0  A9 0F      			lda.l	#15
         01:D2D2  C2         			cly
13109                        		__pusharg.wr
         01:D2D3  A6 8D      			ldx	<__sp
         01:D2D5  CA         			dex
         01:D2D6  CA         			dex
         01:D2D7  95 08      			sta.l	<__stack, x
         01:D2D9  94 09      			sty.h	<__stack, x
         01:D2DB  86 8D      			stx	<__sp
13110                        		__ld.wi		-16
         01:D2DD  A9 F0      			lda.l	#-16
         01:D2DF  A0 FF      			ldy.h	#-16
13111                        		__pusharg.wr
         01:D2E1  A6 8D      			ldx	<__sp
         01:D2E3  CA         			dex
         01:D2E4  CA         			dex
         01:D2E5  95 08      			sta.l	<__stack, x
         01:D2E7  94 09      			sty.h	<__stack, x
         01:D2E9  86 8D      			stx	<__sp
13112                        		__call		_check_TILE_DEPTH
         01:D2EB  20 1D FF   			call	_check_TILE_DEPTH
13113                        	
13114                        		.dbg	line,	"include\routines_LEVELS.c", 2402; if(map_blk_flag == TILE_EMPTY && jump_ladder == TRUE)
13115                        		__not.um	_map_blk_flag
         01:D2EE  AD FA 2B   			lda	_map_blk_flag
         01:D2F1  18         			clc
         01:D2F2  D0 01      			bne	!+
         01:D2F4  38         			sec
         01:D2F5             	!:
13116                        		__bfalse	.LL641
         01:D2F5  90 08      			bcc	.LL641
13117                        		__ld.umq	_jump_ladder
         01:D2F7  AD 22 23   			lda	_jump_ladder
13118                        		__equ_b.uiq	1
         01:D2FA  C9 01      			cmp	#1
         01:D2FC  F0 01      			beq	!+
         01:D2FE  18         			clc
         01:D2FF             	!:
13119    01:D2FF             	.LL641:
13120                        		__bfalse	.LL640
         01:D2FF  90 13      			bcc	.LL640
13121                        	
13122                        		.dbg	line,	"include\routines_LEVELS.c", 2403; {
13123                        	
13124                        		.dbg	line,	"include\routines_LEVELS.c", 2404; jump_ladder = FALSE;
13125                        		__st.umiq	0, _jump_ladder
         01:D301  9C 22 23   			stz	_jump_ladder
13126                        	
13127                        		.dbg	line,	"include\routines_LEVELS.c", 2405; hit_wall = TRUE;
13128                        		__st.umiq	1, _hit_wall
         01:D304  A9 01      			lda.l	#1
         01:D306  8D 25 23   			sta	_hit_wall
13129                        	
13130                        		.dbg	line,	"include\routines_LEVELS.c", 2406; player_index_fall = 0;
13131                        		__st.umiq	0, _player_index_fall
         01:D309  9C 1E 23   			stz	_player_index_fall
13132                        	
13133                        		.dbg	line,	"include\routines_LEVELS.c", 2407; player_state = STATE_FALL;
13134                        		__st.umiq	9, _player_state
         01:D30C  A9 09      			lda.l	#9
         01:D30E  8D 19 23   			sta	_player_state
13135                        	
13136                        		.dbg	line,	"include\routines_LEVELS.c", 2408; return;
13137                        		__bra		.LL491
         01:D311  4C DA DC   			bra	.LL491
13138                        	
13139                        		.dbg	line,	"include\routines_LEVELS.c", 2409; }
13140                        	
13141                        		.dbg	line,	"include\routines_LEVELS.c", 2410; }
13142    01:D314             	.LL640:
13143    01:D314             	.LL639:
13144                        	
13145                        		.dbg	line,	"include\routines_LEVELS.c", 2415; //**************************************************************************************//
13146                        	
13147                        		.dbg	line,	"include\routines_LEVELS.c", 2416; //                                        V MOVE                                        //
13148                        	
13149                        		.dbg	line,	"include\routines_LEVELS.c", 2417; //**************************************************************************************//
13150                        	
13151                        		.dbg	line,	"include\routines_LEVELS.c", 2419; // UPDATE PLAYER Y POSITION //
13152                        	
13153                        		.dbg	line,	"include\routines_LEVELS.c", 2420; if(jump_ladder == FALSE)
13154                        		__not.um	_jump_ladder
         01:D314  AD 22 23   			lda	_jump_ladder
         01:D317  18         			clc
         01:D318  D0 01      			bne	!+
         01:D31A  38         			sec
         01:D31B             	!:
13155                        		__bfalse	.LL642
         01:D31B  90 1A      			bcc	.LL642
13156                        	
13157                        		.dbg	line,	"include\routines_LEVELS.c", 2421; {
13158                        	
13159                        		.dbg	line,	"include\routines_LEVELS.c", 2422; player_pos_y += TABLE_PLAYER_JUMP_V[player_index_jump];
13160                        		__ldx.umq	_player_index_jump
         01:D31D  AE 1D 23   			ldx	_player_index_jump
13161                        		__ld.bax	_TABLE_PLAYER_JUMP_V
         01:D320  BD 87 62   			lda	_TABLE_PLAYER_JUMP_V, x
         01:D323  C2         			cly
         01:D324  10 01      			bpl	!+
         01:D326  88         			dey
         01:D327             	!:
13162                        		__add_st.wmq	_player_pos_y
         01:D327  18         			clc
         01:D328  6D F8 24   			adc.l	_player_pos_y
         01:D32B  8D F8 24   			sta.l	_player_pos_y
         01:D32E  98         			tya
         01:D32F  6D F9 24   			adc.h	_player_pos_y
         01:D332  8D F9 24   			sta.h	_player_pos_y
13163                        	
13164                        		.dbg	line,	"include\routines_LEVELS.c", 2423; }
13165                        	
13166                        		.dbg	line,	"include\routines_LEVELS.c", 2425; else
13167                        		__bra		.LL643
         01:D335  80 18      			bra	.LL643
13168    01:D337             	.LL642:
13169                        	
13170                        		.dbg	line,	"include\routines_LEVELS.c", 2426; {
13171                        	
13172                        		.dbg	line,	"include\routines_LEVELS.c", 2427; player_pos_y += TABLE_PLAYER_JUMP_LADDER[player_index_jump];
13173                        		__ldx.umq	_player_index_jump
         01:D337  AE 1D 23   			ldx	_player_index_jump
13174                        		__ld.bax	_TABLE_PLAYER_JUMP_LADDER
         01:D33A  BD BF 62   			lda	_TABLE_PLAYER_JUMP_LADDER, x
         01:D33D  C2         			cly
         01:D33E  10 01      			bpl	!+
         01:D340  88         			dey
         01:D341             	!:
13175                        		__add_st.wmq	_player_pos_y
         01:D341  18         			clc
         01:D342  6D F8 24   			adc.l	_player_pos_y
         01:D345  8D F8 24   			sta.l	_player_pos_y
         01:D348  98         			tya
         01:D349  6D F9 24   			adc.h	_player_pos_y
         01:D34C  8D F9 24   			sta.h	_player_pos_y
13176                        	
13177                        		.dbg	line,	"include\routines_LEVELS.c", 2428; }
13178    01:D34F             	.LL643:
13179                        	
13180                        		.dbg	line,	"include\routines_LEVELS.c", 2431; // IF PLAYER GOES BELOW ITS BASE Y POSITION //
13181                        	
13182                        		.dbg	line,	"include\routines_LEVELS.c", 2432; if(player_pos_y >= PLAYER_BASE_Y_POS)
13183                        		__ld.wm		_player_pos_y
         01:D34F  AD F8 24   			lda.l	_player_pos_y
         01:D352  AC F9 24   			ldy.h	_player_pos_y
13184                        		__sge_w.wi	128
         01:D355  C9 80      			cmp.l	#128		; Subtract integer from Y:A.
         01:D357  98         			tya
         01:D358  E9 00      			sbc.h	#128
         01:D35A  50 02      			bvc	!+
         01:D35C  49 80      			eor	#$80		; +ve if Y:A >= integer (signed).
         01:D35E  49 80      	!:		eor	#$80
         01:D360  0A         			asl	a
13185                        		__bfalse	.LL644
         01:D361  90 4E      			bcc	.LL644
13186                        	
13187                        		.dbg	line,	"include\routines_LEVELS.c", 2433; {
13188                        	
13189                        		.dbg	line,	"include\routines_LEVELS.c", 2434; // THE CAMERA MOVES //
13190                        	
13191                        		.dbg	line,	"include\routines_LEVELS.c", 2435; // CALCULATE HOW MANY PIXELS THE CAMERA HAS TO MOVE DOWN //
13192                        	
13193                        		.dbg	line,	"include\routines_LEVELS.c", 2436; camera_y_move = player_pos_y - PLAYER_BASE_Y_POS;
13194                        		__ld.wm		_player_pos_y
         01:D363  AD F8 24   			lda.l	_player_pos_y
         01:D366  AC F9 24   			ldy.h	_player_pos_y
13195                        		__sub.wi	128
         01:D369  38         			sec
         01:D36A  E9 80      			sbc.l	#128
         01:D36C  B0 01      			bcs	!+
         01:D36E  88         			dey
         01:D36F             	!:
13196                        		__st.umq	__update_PLAYER_end - 5  /* camera_y_move */
         01:D36F  8D 08 23   			sta	__update_PLAYER_end - 5
13197                        	
13198                        		.dbg	line,	"include\routines_LEVELS.c", 2437; sgx_map_pxl_y += camera_y_move;
13199                        		__ld.um		__update_PLAYER_end - 5  /* camera_y_move */
         01:D372  AD 08 23   			lda	__update_PLAYER_end - 5
         01:D375  C2         			cly
13200                        		__add_st.wmq	_sgx_map_pxl_y
         01:D376  18         			clc
         01:D377  6D DB 26   			adc.l	_sgx_map_pxl_y
         01:D37A  8D DB 26   			sta.l	_sgx_map_pxl_y
         01:D37D  98         			tya
         01:D37E  6D DC 26   			adc.h	_sgx_map_pxl_y
         01:D381  8D DC 26   			sta.h	_sgx_map_pxl_y
13201                        	
13202                        		.dbg	line,	"include\routines_LEVELS.c", 2439; // IF THE CAMERA HAS REACHED ITS MAX (LOWEST) POSITION //
13203                        	
13204                        		.dbg	line,	"include\routines_LEVELS.c", 2440; if(sgx_map_pxl_y > camera_max_y_position)
13205                        		__ld.wm		_sgx_map_pxl_y
         01:D384  AD DB 26   			lda.l	_sgx_map_pxl_y
         01:D387  AC DC 26   			ldy.h	_sgx_map_pxl_y
13206                        		__ugt_w.wm	_camera_max_y_position
         01:D38A  18         			clc			; Subtract memory+1 from Y:A.
         01:D38B  ED FA 24   			sbc.l	_camera_max_y_position
         01:D38E  98         			tya
         01:D38F  ED FB 24   			sbc.h	_camera_max_y_position		; CS if Y:A > memory.
13207                        		__bfalse	.LL645
         01:D392  90 0C      			bcc	.LL645
13208                        	
13209                        		.dbg	line,	"include\routines_LEVELS.c", 2441; {
13210                        	
13211                        		.dbg	line,	"include\routines_LEVELS.c", 2442; // THE CAMERA CAN NOT MOVE LOWER //
13212                        	
13213                        		.dbg	line,	"include\routines_LEVELS.c", 2443; sgx_map_pxl_y = camera_max_y_position;
13214                        		__ld.wm		_camera_max_y_position
         01:D394  AD FA 24   			lda.l	_camera_max_y_position
         01:D397  AC FB 24   			ldy.h	_camera_max_y_position
13215                        		__st.wmq	_sgx_map_pxl_y
         01:D39A  8D DB 26   			sta.l	_sgx_map_pxl_y
         01:D39D  8C DC 26   			sty.h	_sgx_map_pxl_y
13216                        	
13217                        		.dbg	line,	"include\routines_LEVELS.c", 2444; }
13218                        	
13219                        		.dbg	line,	"include\routines_LEVELS.c", 2446; // THE PLAYER STAYS AT ITS BASE Y POSITION //
13220                        	
13221                        		.dbg	line,	"include\routines_LEVELS.c", 2447; player_pos_y = PLAYER_BASE_Y_POS;
13222    01:D3A0             	.LL645:
13223                        		__st.wmiq	128, _player_pos_y
         01:D3A0  A9 80      			lda.l	#128
         01:D3A2  8D F8 24   			sta.l	_player_pos_y
         01:D3A5  9C F9 24   			stz.h	_player_pos_y
13224                        	
13225                        		.dbg	line,	"include\routines_LEVELS.c", 2449; spr_y(player_pos_y);
13226                        		__ld.wm		_player_pos_y
         01:D3A8  AD F8 24   			lda.l	_player_pos_y
         01:D3AB  AC F9 24   			ldy.h	_player_pos_y
13227                        		__call		_spr_y.1
         01:D3AE  20 2D E8   			call	_spr_y.1
13228                        	
13229                        		.dbg	line,	"include\routines_LEVELS.c", 2450; }
13230                        	
13231                        		.dbg	line,	"include\routines_LEVELS.c", 2453; // UPDATE JUMP INDEX IN THE ARRAY //
13232                        	
13233                        		.dbg	line,	"include\routines_LEVELS.c", 2454; if(player_index_jump < jump_max_index)
13234    01:D3B1             	.LL644:
13235                        		__ld.umq	_player_index_jump
         01:D3B1  AD 1D 23   			lda	_player_index_jump
13236                        		__ult_b.umq	_jump_max_index
         01:D3B4  CD 23 23   			cmp	_jump_max_index		; Subtract memory from A.
         01:D3B7  6A         			ror	a		; CC if A < memory.
         01:D3B8  49 80      			eor	#$80
         01:D3BA  2A         			rol	a
13237                        		__bfalse	.LL646
         01:D3BB  90 03      			bcc	.LL646
13238                        	
13239                        		.dbg	line,	"include\routines_LEVELS.c", 2455; {
13240                        	
13241                        		.dbg	line,	"include\routines_LEVELS.c", 2456; player_index_jump += 1;
13242                        		__add_st.umiq	1, _player_index_jump
         01:D3BD  EE 1D 23   			inc	_player_index_jump
13243                        	
13244                        		.dbg	line,	"include\routines_LEVELS.c", 2457; }
13245                        	
13246                        		.dbg	line,	"include\routines_LEVELS.c", 2462; //--------------------------------------------------------------------------------------//
13247                        	
13248                        		.dbg	line,	"include\routines_LEVELS.c", 2463; //                                   FLOOR COLLISION                                    //
13249                        	
13250                        		.dbg	line,	"include\routines_LEVELS.c", 2464; //--------------------------------------------------------------------------------------//
13251                        	
13252                        		.dbg	line,	"include\routines_LEVELS.c", 2466; if(player_index_jump > 14)
13253    01:D3C0             	.LL646:
13254                        		__ld.umq	_player_index_jump
         01:D3C0  AD 1D 23   			lda	_player_index_jump
13255                        		__ugt_b.uiq	14
         01:D3C3  18         			clc			; Subtract integer+1 from A.
         01:D3C4  E9 0E      			sbc	#14		; CS if A > integer.
13256                        		__bfalse	.LL647
         01:D3C6  B0 03 4C AB			bcc	.LL647
         01:D3CA  D5          
13257                        	
13258                        		.dbg	line,	"include\routines_LEVELS.c", 2467; {
13259                        	
13260                        		.dbg	line,	"include\routines_LEVELS.c", 2468; // CHECK COLLISION WITH LEFT FLOOR //
13261                        	
13262                        		.dbg	line,	"include\routines_LEVELS.c", 2469; collision_PLAYER_BG( 10 , 32 );
13263                        		__ld.wi		10
         01:D3CB  A9 0A      			lda.l	#10
         01:D3CD  C2         			cly
13264                        		__pusharg.wr
         01:D3CE  A6 8D      			ldx	<__sp
         01:D3D0  CA         			dex
         01:D3D1  CA         			dex
         01:D3D2  95 08      			sta.l	<__stack, x
         01:D3D4  94 09      			sty.h	<__stack, x
         01:D3D6  86 8D      			stx	<__sp
13265                        		__ld.wi		32
         01:D3D8  A9 20      			lda.l	#32
         01:D3DA  C2         			cly
13266                        		__pusharg.wr
         01:D3DB  A6 8D      			ldx	<__sp
         01:D3DD  CA         			dex
         01:D3DE  CA         			dex
         01:D3DF  95 08      			sta.l	<__stack, x
         01:D3E1  94 09      			sty.h	<__stack, x
         01:D3E3  86 8D      			stx	<__sp
13267                        		__call		_collision_PLAYER_BG
         01:D3E5  20 31 FF   			call	_collision_PLAYER_BG
13268                        	
13269                        		.dbg	line,	"include\routines_LEVELS.c", 2471; if(map_blk_flag == TILE_BG)
13270                        		__ld.umq	_map_blk_flag
         01:D3E8  AD FA 2B   			lda	_map_blk_flag
13271                        		__equ_b.uiq	1
         01:D3EB  C9 01      			cmp	#1
         01:D3ED  F0 01      			beq	!+
         01:D3EF  18         			clc
         01:D3F0             	!:
13272                        		__bfalse	.LL648
         01:D3F0  B0 03 4C BB			bcc	.LL648
         01:D3F4  D4          
13273                        	
13274                        		.dbg	line,	"include\routines_LEVELS.c", 2472; {
13275                        	
13276                        		.dbg	line,	"include\routines_LEVELS.c", 2473; // CALCULATE HOW MANY PIXELS THE PLAYER MOVED INTO THE GROUND //
13277                        	
13278                        		.dbg	line,	"include\routines_LEVELS.c", 2474; for(i=1; i<11 ; i++)
13279                        		__st.umiq	1, __update_PLAYER_end - 4  /* i */
         01:D3F5  A9 01      			lda.l	#1
         01:D3F7  8D 09 23   			sta	__update_PLAYER_end - 4
13280    01:D3FA             	.LL649:
13281                        		__ld.umq	__update_PLAYER_end - 4  /* i */
         01:D3FA  AD 09 23   			lda	__update_PLAYER_end - 4
13282                        		__ult_b.uiq	11
         01:D3FD  C9 0B      			cmp	#11		; Subtract integer from A.
         01:D3FF  6A         			ror	a		; CC if A < integer.
         01:D400  49 80      			eor	#$80
         01:D402  2A         			rol	a
13283                        		__btrue		.LL651
         01:D403  B0 07      			bcs	.LL651
13284                        		__bra		.LL652
         01:D405  80 7D      			bra	.LL652
13285    01:D407             	.LL650:
13286                        		__inc.umq	__update_PLAYER_end - 4  /* i */
         01:D407  EE 09 23   			inc	__update_PLAYER_end - 4
13287                        		__bra		.LL649
         01:D40A  80 EE      			bra	.LL649
13288    01:D40C             	.LL651:
13289                        	
13290                        		.dbg	line,	"include\routines_LEVELS.c", 2475; {
13291                        	
13292                        		.dbg	line,	"include\routines_LEVELS.c", 2476; check_TILE_DEPTH( 10 , i);
13293                        		__ld.wi		10
         01:D40C  A9 0A      			lda.l	#10
         01:D40E  C2         			cly
13294                        		__pusharg.wr
         01:D40F  A6 8D      			ldx	<__sp
         01:D411  CA         			dex
         01:D412  CA         			dex
         01:D413  95 08      			sta.l	<__stack, x
         01:D415  94 09      			sty.h	<__stack, x
         01:D417  86 8D      			stx	<__sp
13295                        		__ld.um		__update_PLAYER_end - 4  /* i */
         01:D419  AD 09 23   			lda	__update_PLAYER_end - 4
         01:D41C  C2         			cly
13296                        		__pusharg.wr
         01:D41D  A6 8D      			ldx	<__sp
         01:D41F  CA         			dex
         01:D420  CA         			dex
         01:D421  95 08      			sta.l	<__stack, x
         01:D423  94 09      			sty.h	<__stack, x
         01:D425  86 8D      			stx	<__sp
13297                        		__call		_check_TILE_DEPTH
         01:D427  20 1D FF   			call	_check_TILE_DEPTH
13298                        	
13299                        		.dbg	line,	"include\routines_LEVELS.c", 2478; if(map_blk_flag == TILE_EMPTY)
13300                        		__not.um	_map_blk_flag
         01:D42A  AD FA 2B   			lda	_map_blk_flag
         01:D42D  18         			clc
         01:D42E  D0 01      			bne	!+
         01:D430  38         			sec
         01:D431             	!:
13301                        		__bfalse	.LL653
         01:D431  90 D4      			bcc	.LL653
13302                        	
13303                        		.dbg	line,	"include\routines_LEVELS.c", 2479; {
13304                        	
13305                        		.dbg	line,	"include\routines_LEVELS.c", 2480; if(player_pos_y != PLAYER_BASE_Y_POS)
13306                        		__ld.wm		_player_pos_y
         01:D433  AD F8 24   			lda.l	_player_pos_y
         01:D436  AC F9 24   			ldy.h	_player_pos_y
13307                        		__neq_w.wi	128
         01:D439  38         			sec
         01:D43A  49 80      			eor.l	#128
         01:D43C  D0 06      			bne	!+
         01:D43E  98         			tya
         01:D43F  49 00      			eor.h	#128
         01:D441  D0 01      			bne	!+
         01:D443  18         			clc
         01:D444             	!:
13308                        		__bfalse	.LL654
         01:D444  90 1E      			bcc	.LL654
13309                        	
13310                        		.dbg	line,	"include\routines_LEVELS.c", 2481; {
13311                        	
13312                        		.dbg	line,	"include\routines_LEVELS.c", 2482; player_pos_y -= (i - 1);
13313                        		__ld.um		__update_PLAYER_end - 4  /* i */
         01:D446  AD 09 23   			lda	__update_PLAYER_end - 4
         01:D449  C2         			cly
13314                        		__sub.wi	1
         01:D44A  38         			sec
         01:D44B  E9 01      			sbc.l	#1
         01:D44D  B0 01      			bcs	!+
         01:D44F  88         			dey
         01:D450             	!:
13315                        		__isub_st.wmq	_player_pos_y
         01:D450  38         			sec
         01:D451  49 FF      			eor	#$FF
         01:D453  6D F8 24   			adc.l	_player_pos_y
         01:D456  8D F8 24   			sta.l	_player_pos_y
         01:D459  98         			tya
         01:D45A  49 FF      			eor	#$FF
         01:D45C  6D F9 24   			adc.h	_player_pos_y
         01:D45F  8D F9 24   			sta.h	_player_pos_y
13316                        	
13317                        		.dbg	line,	"include\routines_LEVELS.c", 2483; }
13318                        	
13319                        		.dbg	line,	"include\routines_LEVELS.c", 2485; else
13320                        		__bra		.LL655
         01:D462  80 20      			bra	.LL655
13321    01:D464             	.LL654:
13322                        	
13323                        		.dbg	line,	"include\routines_LEVELS.c", 2486; {
13324                        	
13325                        		.dbg	line,	"include\routines_LEVELS.c", 2487; sgx_map_pxl_y -= (i - 1);
13326                        		__ld.um		__update_PLAYER_end - 4  /* i */
         01:D464  AD 09 23   			lda	__update_PLAYER_end - 4
         01:D467  C2         			cly
13327                        		__sub.wi	1
         01:D468  38         			sec
         01:D469  E9 01      			sbc.l	#1
         01:D46B  B0 01      			bcs	!+
         01:D46D  88         			dey
         01:D46E             	!:
13328                        		__isub_st.wmq	_sgx_map_pxl_y
         01:D46E  38         			sec
         01:D46F  49 FF      			eor	#$FF
         01:D471  6D DB 26   			adc.l	_sgx_map_pxl_y
         01:D474  8D DB 26   			sta.l	_sgx_map_pxl_y
         01:D477  98         			tya
         01:D478  49 FF      			eor	#$FF
         01:D47A  6D DC 26   			adc.h	_sgx_map_pxl_y
         01:D47D  8D DC 26   			sta.h	_sgx_map_pxl_y
13329                        	
13330                        		.dbg	line,	"include\routines_LEVELS.c", 2488; }
13331    01:D480             	.LL655	.alias		.LL652
13332                        	
13333                        		.dbg	line,	"include\routines_LEVELS.c", 2490; break;
13334                        		__bra		.LL652
         01:D480  80 02      			bra	.LL652
13335                        	
13336                        		.dbg	line,	"include\routines_LEVELS.c", 2491; }
13337                        	
13338                        		.dbg	line,	"include\routines_LEVELS.c", 2492; }
13339    01:D482             	.LL653	.alias		.LL650
13340                        		__bra		.LL650
         01:D482  80 83      			bra	.LL650
13341    01:D484             	.LL652:
13342                        	
13343                        		.dbg	line,	"include\routines_LEVELS.c", 2494; // SET PLAYER SPRITE NEW POSITION //
13344                        	
13345                        		.dbg	line,	"include\routines_LEVELS.c", 2495; spr_y(player_pos_y);
13346                        		__ld.wm		_player_pos_y
         01:D484  AD F8 24   			lda.l	_player_pos_y
         01:D487  AC F9 24   			ldy.h	_player_pos_y
13347                        		__call		_spr_y.1
         01:D48A  20 2D E8   			call	_spr_y.1
13348                        	
13349                        		.dbg	line,	"include\routines_LEVELS.c", 2497; spr_set(weapon_id);
13350                        		__ld.umq	_weapon_id
         01:D48D  AD 27 23   			lda	_weapon_id
13351                        		__call		_spr_set.1
         01:D490  20 F1 E7   			call	_spr_set.1
13352                        	
13353                        		.dbg	line,	"include\routines_LEVELS.c", 2498; spr_y(player_pos_y+8);
13354                        		__ld.wm		_player_pos_y
         01:D493  AD F8 24   			lda.l	_player_pos_y
         01:D496  AC F9 24   			ldy.h	_player_pos_y
13355                        		__add.wi	8
         01:D499  18         			clc
         01:D49A  69 08      			adc.l	#8
         01:D49C  90 01      			bcc	!+
         01:D49E  C8         			iny
         01:D49F             	!:
13356                        		__call		_spr_y.1
         01:D49F  20 2D E8   			call	_spr_y.1
13357                        	
13358                        		.dbg	line,	"include\routines_LEVELS.c", 2500; player_counter_anim = 1;
13359                        		__st.umiq	1, _player_counter_anim
         01:D4A2  A9 01      			lda.l	#1
         01:D4A4  8D 1C 23   			sta	_player_counter_anim
13360                        	
13361                        		.dbg	line,	"include\routines_LEVELS.c", 2501; player_index_jump = 0;
13362                        		__st.umiq	0, _player_index_jump
         01:D4A7  9C 1D 23   			stz	_player_index_jump
13363                        	
13364                        		.dbg	line,	"include\routines_LEVELS.c", 2502; jump_ladder = FALSE;
13365                        		__st.umiq	0, _jump_ladder
         01:D4AA  9C 22 23   			stz	_jump_ladder
13366                        	
13367                        		.dbg	line,	"include\routines_LEVELS.c", 2503; hit_wall = FALSE;
13368                        		__st.umiq	0, _hit_wall
         01:D4AD  9C 25 23   			stz	_hit_wall
13369                        	
13370                        		.dbg	line,	"include\routines_LEVELS.c", 2504; jump_max_index = 34;
13371                        		__st.umiq	34, _jump_max_index
         01:D4B0  A9 22      			lda.l	#34
         01:D4B2  8D 23 23   			sta	_jump_max_index
13372                        	
13373                        		.dbg	line,	"include\routines_LEVELS.c", 2505; player_state = STATE_IDLE;
13374                        		__st.umiq	0, _player_state
         01:D4B5  9C 19 23   			stz	_player_state
13375                        	
13376                        		.dbg	line,	"include\routines_LEVELS.c", 2506; return;
13377                        		__bra		.LL491
         01:D4B8  4C DA DC   			bra	.LL491
13378                        	
13379                        		.dbg	line,	"include\routines_LEVELS.c", 2507; }
13380                        	
13381                        		.dbg	line,	"include\routines_LEVELS.c", 2509; else
13382    01:D4BB             	.LL648:
13383                        	
13384                        		.dbg	line,	"include\routines_LEVELS.c", 2510; {
13385                        	
13386                        		.dbg	line,	"include\routines_LEVELS.c", 2511; // CHECK COLLISION WITH RIGHT FLOOR //
13387                        	
13388                        		.dbg	line,	"include\routines_LEVELS.c", 2512; collision_PLAYER_BG( 22 , 32 );
13389                        		__ld.wi		22
         01:D4BB  A9 16      			lda.l	#22
         01:D4BD  C2         			cly
13390                        		__pusharg.wr
         01:D4BE  A6 8D      			ldx	<__sp
         01:D4C0  CA         			dex
         01:D4C1  CA         			dex
         01:D4C2  95 08      			sta.l	<__stack, x
         01:D4C4  94 09      			sty.h	<__stack, x
         01:D4C6  86 8D      			stx	<__sp
13391                        		__ld.wi		32
         01:D4C8  A9 20      			lda.l	#32
         01:D4CA  C2         			cly
13392                        		__pusharg.wr
         01:D4CB  A6 8D      			ldx	<__sp
         01:D4CD  CA         			dex
         01:D4CE  CA         			dex
         01:D4CF  95 08      			sta.l	<__stack, x
         01:D4D1  94 09      			sty.h	<__stack, x
         01:D4D3  86 8D      			stx	<__sp
13393                        		__call		_collision_PLAYER_BG
         01:D4D5  20 31 FF   			call	_collision_PLAYER_BG
13394                        	
13395                        		.dbg	line,	"include\routines_LEVELS.c", 2514; if(map_blk_flag == TILE_BG)
13396                        		__ld.umq	_map_blk_flag
         01:D4D8  AD FA 2B   			lda	_map_blk_flag
13397                        		__equ_b.uiq	1
         01:D4DB  C9 01      			cmp	#1
         01:D4DD  F0 01      			beq	!+
         01:D4DF  18         			clc
         01:D4E0             	!:
13398                        		__bfalse	.LL657
         01:D4E0  B0 03 4C AB			bcc	.LL657
         01:D4E4  D5          
13399                        	
13400                        		.dbg	line,	"include\routines_LEVELS.c", 2515; {
13401                        	
13402                        		.dbg	line,	"include\routines_LEVELS.c", 2516; // CALCULATE HOW MANY PIXELS THE PLAYER MOVED INTO THE GROUND //
13403                        	
13404                        		.dbg	line,	"include\routines_LEVELS.c", 2517; for(i=1; i<11 ; i++)
13405                        		__st.umiq	1, __update_PLAYER_end - 4  /* i */
         01:D4E5  A9 01      			lda.l	#1
         01:D4E7  8D 09 23   			sta	__update_PLAYER_end - 4
13406    01:D4EA             	.LL658:
13407                        		__ld.umq	__update_PLAYER_end - 4  /* i */
         01:D4EA  AD 09 23   			lda	__update_PLAYER_end - 4
13408                        		__ult_b.uiq	11
         01:D4ED  C9 0B      			cmp	#11		; Subtract integer from A.
         01:D4EF  6A         			ror	a		; CC if A < integer.
         01:D4F0  49 80      			eor	#$80
         01:D4F2  2A         			rol	a
13409                        		__btrue		.LL660
         01:D4F3  B0 07      			bcs	.LL660
13410                        		__bra		.LL661
         01:D4F5  80 7D      			bra	.LL661
13411    01:D4F7             	.LL659:
13412                        		__inc.umq	__update_PLAYER_end - 4  /* i */
         01:D4F7  EE 09 23   			inc	__update_PLAYER_end - 4
13413                        		__bra		.LL658
         01:D4FA  80 EE      			bra	.LL658
13414    01:D4FC             	.LL660:
13415                        	
13416                        		.dbg	line,	"include\routines_LEVELS.c", 2518; {
13417                        	
13418                        		.dbg	line,	"include\routines_LEVELS.c", 2519; check_TILE_DEPTH( 22 , i);
13419                        		__ld.wi		22
         01:D4FC  A9 16      			lda.l	#22
         01:D4FE  C2         			cly
13420                        		__pusharg.wr
         01:D4FF  A6 8D      			ldx	<__sp
         01:D501  CA         			dex
         01:D502  CA         			dex
         01:D503  95 08      			sta.l	<__stack, x
         01:D505  94 09      			sty.h	<__stack, x
         01:D507  86 8D      			stx	<__sp
13421                        		__ld.um		__update_PLAYER_end - 4  /* i */
         01:D509  AD 09 23   			lda	__update_PLAYER_end - 4
         01:D50C  C2         			cly
13422                        		__pusharg.wr
         01:D50D  A6 8D      			ldx	<__sp
         01:D50F  CA         			dex
         01:D510  CA         			dex
         01:D511  95 08      			sta.l	<__stack, x
         01:D513  94 09      			sty.h	<__stack, x
         01:D515  86 8D      			stx	<__sp
13423                        		__call		_check_TILE_DEPTH
         01:D517  20 1D FF   			call	_check_TILE_DEPTH
13424                        	
13425                        		.dbg	line,	"include\routines_LEVELS.c", 2521; if(map_blk_flag == TILE_EMPTY)
13426                        		__not.um	_map_blk_flag
         01:D51A  AD FA 2B   			lda	_map_blk_flag
         01:D51D  18         			clc
         01:D51E  D0 01      			bne	!+
         01:D520  38         			sec
         01:D521             	!:
13427                        		__bfalse	.LL662
         01:D521  90 D4      			bcc	.LL662
13428                        	
13429                        		.dbg	line,	"include\routines_LEVELS.c", 2522; {
13430                        	
13431                        		.dbg	line,	"include\routines_LEVELS.c", 2523; if(player_pos_y != PLAYER_BASE_Y_POS)
13432                        		__ld.wm		_player_pos_y
         01:D523  AD F8 24   			lda.l	_player_pos_y
         01:D526  AC F9 24   			ldy.h	_player_pos_y
13433                        		__neq_w.wi	128
         01:D529  38         			sec
         01:D52A  49 80      			eor.l	#128
         01:D52C  D0 06      			bne	!+
         01:D52E  98         			tya
         01:D52F  49 00      			eor.h	#128
         01:D531  D0 01      			bne	!+
         01:D533  18         			clc
         01:D534             	!:
13434                        		__bfalse	.LL663
         01:D534  90 1E      			bcc	.LL663
13435                        	
13436                        		.dbg	line,	"include\routines_LEVELS.c", 2524; {
13437                        	
13438                        		.dbg	line,	"include\routines_LEVELS.c", 2525; player_pos_y -= (i - 1);
13439                        		__ld.um		__update_PLAYER_end - 4  /* i */
         01:D536  AD 09 23   			lda	__update_PLAYER_end - 4
         01:D539  C2         			cly
13440                        		__sub.wi	1
         01:D53A  38         			sec
         01:D53B  E9 01      			sbc.l	#1
         01:D53D  B0 01      			bcs	!+
         01:D53F  88         			dey
         01:D540             	!:
13441                        		__isub_st.wmq	_player_pos_y
         01:D540  38         			sec
         01:D541  49 FF      			eor	#$FF
         01:D543  6D F8 24   			adc.l	_player_pos_y
         01:D546  8D F8 24   			sta.l	_player_pos_y
         01:D549  98         			tya
         01:D54A  49 FF      			eor	#$FF
         01:D54C  6D F9 24   			adc.h	_player_pos_y
         01:D54F  8D F9 24   			sta.h	_player_pos_y
13442                        	
13443                        		.dbg	line,	"include\routines_LEVELS.c", 2526; }
13444                        	
13445                        		.dbg	line,	"include\routines_LEVELS.c", 2528; else
13446                        		__bra		.LL664
         01:D552  80 20      			bra	.LL664
13447    01:D554             	.LL663:
13448                        	
13449                        		.dbg	line,	"include\routines_LEVELS.c", 2529; {
13450                        	
13451                        		.dbg	line,	"include\routines_LEVELS.c", 2530; sgx_map_pxl_y -= (i - 1);
13452                        		__ld.um		__update_PLAYER_end - 4  /* i */
         01:D554  AD 09 23   			lda	__update_PLAYER_end - 4
         01:D557  C2         			cly
13453                        		__sub.wi	1
         01:D558  38         			sec
         01:D559  E9 01      			sbc.l	#1
         01:D55B  B0 01      			bcs	!+
         01:D55D  88         			dey
         01:D55E             	!:
13454                        		__isub_st.wmq	_sgx_map_pxl_y
         01:D55E  38         			sec
         01:D55F  49 FF      			eor	#$FF
         01:D561  6D DB 26   			adc.l	_sgx_map_pxl_y
         01:D564  8D DB 26   			sta.l	_sgx_map_pxl_y
         01:D567  98         			tya
         01:D568  49 FF      			eor	#$FF
         01:D56A  6D DC 26   			adc.h	_sgx_map_pxl_y
         01:D56D  8D DC 26   			sta.h	_sgx_map_pxl_y
13455                        	
13456                        		.dbg	line,	"include\routines_LEVELS.c", 2531; }
13457    01:D570             	.LL664	.alias		.LL661
13458                        	
13459                        		.dbg	line,	"include\routines_LEVELS.c", 2533; break;
13460                        		__bra		.LL661
         01:D570  80 02      			bra	.LL661
13461                        	
13462                        		.dbg	line,	"include\routines_LEVELS.c", 2534; }
13463                        	
13464                        		.dbg	line,	"include\routines_LEVELS.c", 2535; }
13465    01:D572             	.LL662	.alias		.LL659
13466                        		__bra		.LL659
         01:D572  80 83      			bra	.LL659
13467    01:D574             	.LL661:
13468                        	
13469                        		.dbg	line,	"include\routines_LEVELS.c", 2537; // SET PLAYER SPRITE NEW POSITION //
13470                        	
13471                        		.dbg	line,	"include\routines_LEVELS.c", 2538; spr_y(player_pos_y);
13472                        		__ld.wm		_player_pos_y
         01:D574  AD F8 24   			lda.l	_player_pos_y
         01:D577  AC F9 24   			ldy.h	_player_pos_y
13473                        		__call		_spr_y.1
         01:D57A  20 2D E8   			call	_spr_y.1
13474                        	
13475                        		.dbg	line,	"include\routines_LEVELS.c", 2540; spr_set(weapon_id);
13476                        		__ld.umq	_weapon_id
         01:D57D  AD 27 23   			lda	_weapon_id
13477                        		__call		_spr_set.1
         01:D580  20 F1 E7   			call	_spr_set.1
13478                        	
13479                        		.dbg	line,	"include\routines_LEVELS.c", 2541; spr_y(player_pos_y+8);
13480                        		__ld.wm		_player_pos_y
         01:D583  AD F8 24   			lda.l	_player_pos_y
         01:D586  AC F9 24   			ldy.h	_player_pos_y
13481                        		__add.wi	8
         01:D589  18         			clc
         01:D58A  69 08      			adc.l	#8
         01:D58C  90 01      			bcc	!+
         01:D58E  C8         			iny
         01:D58F             	!:
13482                        		__call		_spr_y.1
         01:D58F  20 2D E8   			call	_spr_y.1
13483                        	
13484                        		.dbg	line,	"include\routines_LEVELS.c", 2543; player_counter_anim = 1;
13485                        		__st.umiq	1, _player_counter_anim
         01:D592  A9 01      			lda.l	#1
         01:D594  8D 1C 23   			sta	_player_counter_anim
13486                        	
13487                        		.dbg	line,	"include\routines_LEVELS.c", 2544; player_index_jump = 0;
13488                        		__st.umiq	0, _player_index_jump
         01:D597  9C 1D 23   			stz	_player_index_jump
13489                        	
13490                        		.dbg	line,	"include\routines_LEVELS.c", 2545; jump_ladder = FALSE;
13491                        		__st.umiq	0, _jump_ladder
         01:D59A  9C 22 23   			stz	_jump_ladder
13492                        	
13493                        		.dbg	line,	"include\routines_LEVELS.c", 2546; hit_wall = FALSE;
13494                        		__st.umiq	0, _hit_wall
         01:D59D  9C 25 23   			stz	_hit_wall
13495                        	
13496                        		.dbg	line,	"include\routines_LEVELS.c", 2547; jump_max_index = 34;
13497                        		__st.umiq	34, _jump_max_index
         01:D5A0  A9 22      			lda.l	#34
         01:D5A2  8D 23 23   			sta	_jump_max_index
13498                        	
13499                        		.dbg	line,	"include\routines_LEVELS.c", 2548; player_state = STATE_IDLE;
13500                        		__st.umiq	0, _player_state
         01:D5A5  9C 19 23   			stz	_player_state
13501                        	
13502                        		.dbg	line,	"include\routines_LEVELS.c", 2549; return;
13503                        		__bra		.LL491
         01:D5A8  4C DA DC   			bra	.LL491
13504                        	
13505                        		.dbg	line,	"include\routines_LEVELS.c", 2550; }
13506                        	
13507                        		.dbg	line,	"include\routines_LEVELS.c", 2551; }
13508    01:D5AB             	.LL657:
13509    01:D5AB             	.LL656:
13510                        	
13511                        		.dbg	line,	"include\routines_LEVELS.c", 2552; }
13512                        	
13513                        		.dbg	line,	"include\routines_LEVELS.c", 2557; //--------------------------------------------------------------------------------------//
13514                        	
13515                        		.dbg	line,	"include\routines_LEVELS.c", 2558; //                                   LADDER COLLISION                                   //
13516                        	
13517                        		.dbg	line,	"include\routines_LEVELS.c", 2559; //--------------------------------------------------------------------------------------//
13518                        	
13519                        		.dbg	line,	"include\routines_LEVELS.c", 2561; if(player_index_jump > 4)
13520    01:D5AB             	.LL647:
13521                        		__ld.umq	_player_index_jump
         01:D5AB  AD 1D 23   			lda	_player_index_jump
13522                        		__ugt_b.uiq	4
         01:D5AE  18         			clc			; Subtract integer+1 from A.
         01:D5AF  E9 04      			sbc	#4		; CS if A > integer.
13523                        		__bfalse	.LL665
         01:D5B1  B0 03 4C 46			bcc	.LL665
         01:D5B5  D6          
13524                        	
13525                        		.dbg	line,	"include\routines_LEVELS.c", 2562; {
13526                        	
13527                        		.dbg	line,	"include\routines_LEVELS.c", 2563; collision_PLAYER_BG( 16 , 16 );
13528                        		__ld.wi		16
         01:D5B6  A9 10      			lda.l	#16
         01:D5B8  C2         			cly
13529                        		__pusharg.wr
         01:D5B9  A6 8D      			ldx	<__sp
         01:D5BB  CA         			dex
         01:D5BC  CA         			dex
         01:D5BD  95 08      			sta.l	<__stack, x
         01:D5BF  94 09      			sty.h	<__stack, x
         01:D5C1  86 8D      			stx	<__sp
13530                        		__ld.wi		16
         01:D5C3  A9 10      			lda.l	#16
         01:D5C5  C2         			cly
13531                        		__pusharg.wr
         01:D5C6  A6 8D      			ldx	<__sp
         01:D5C8  CA         			dex
         01:D5C9  CA         			dex
         01:D5CA  95 08      			sta.l	<__stack, x
         01:D5CC  94 09      			sty.h	<__stack, x
         01:D5CE  86 8D      			stx	<__sp
13532                        		__call		_collision_PLAYER_BG
         01:D5D0  20 31 FF   			call	_collision_PLAYER_BG
13533                        	
13534                        		.dbg	line,	"include\routines_LEVELS.c", 2565; if(map_blk_flag == TILE_LADDER)
13535                        		__ld.umq	_map_blk_flag
         01:D5D3  AD FA 2B   			lda	_map_blk_flag
13536                        		__equ_b.uiq	2
         01:D5D6  C9 02      			cmp	#2
         01:D5D8  F0 01      			beq	!+
         01:D5DA  18         			clc
         01:D5DB             	!:
13537                        		__bfalse	.LL666
         01:D5DB  90 69      			bcc	.LL666
13538                        	
13539                        		.dbg	line,	"include\routines_LEVELS.c", 2566; {
13540                        	
13541                        		.dbg	line,	"include\routines_LEVELS.c", 2567; // CAMERA GOES 8 PX BACKWARD //
13542                        	
13543                        		.dbg	line,	"include\routines_LEVELS.c", 2568; sgx_map_pxl_x = ( (sgx_map_pxl_x >> 3) << 3 );
13544                        		__ld.wm		_sgx_map_pxl_x
         01:D5DD  AD D9 26   			lda.l	_sgx_map_pxl_x
         01:D5E0  AC DA 26   			ldy.h	_sgx_map_pxl_x
13545                        		__lsr.wi	3
         01:D5E3  84 00      			sty	__temp
         01:D5E5  20 3A E2   			jsr	lsrw3
13546                        		__asl.wi	3
         01:D5E8  84 00      			sty	__temp
         01:D5EA  20 D7 E1   			jsr	aslw3
13547                        		__st.wmq	_sgx_map_pxl_x
         01:D5ED  8D D9 26   			sta.l	_sgx_map_pxl_x
         01:D5F0  8C DA 26   			sty.h	_sgx_map_pxl_x
13548                        	
13549                        		.dbg	line,	"include\routines_LEVELS.c", 2570; // SO WE UPDATE THE MAP //
13550                        	
13551                        		.dbg	line,	"include\routines_LEVELS.c", 2571; sgx_scroll_map();
13552                        		__call		_sgx_scroll_map
         01:D5F3  20 63 FF   			call	_sgx_scroll_map
13553                        	
13554                        		.dbg	line,	"include\routines_LEVELS.c", 2573; // CHECK IF THE PLAYER STANDS RIGHT TO THE LADDER //
13555                        	
13556                        		.dbg	line,	"include\routines_LEVELS.c", 2574; collision_PLAYER_BG( 31 , 16 );
13557                        		__ld.wi		31
         01:D5F6  A9 1F      			lda.l	#31
         01:D5F8  C2         			cly
13558                        		__pusharg.wr
         01:D5F9  A6 8D      			ldx	<__sp
         01:D5FB  CA         			dex
         01:D5FC  CA         			dex
         01:D5FD  95 08      			sta.l	<__stack, x
         01:D5FF  94 09      			sty.h	<__stack, x
         01:D601  86 8D      			stx	<__sp
13559                        		__ld.wi		16
         01:D603  A9 10      			lda.l	#16
         01:D605  C2         			cly
13560                        		__pusharg.wr
         01:D606  A6 8D      			ldx	<__sp
         01:D608  CA         			dex
         01:D609  CA         			dex
         01:D60A  95 08      			sta.l	<__stack, x
         01:D60C  94 09      			sty.h	<__stack, x
         01:D60E  86 8D      			stx	<__sp
13561                        		__call		_collision_PLAYER_BG
         01:D610  20 31 FF   			call	_collision_PLAYER_BG
13562                        	
13563                        		.dbg	line,	"include\routines_LEVELS.c", 2576; if(map_blk_flag == TILE_LADDER)
13564                        		__ld.umq	_map_blk_flag
         01:D613  AD FA 2B   			lda	_map_blk_flag
13565                        		__equ_b.uiq	2
         01:D616  C9 02      			cmp	#2
         01:D618  F0 01      			beq	!+
         01:D61A  18         			clc
         01:D61B             	!:
13566                        		__bfalse	.LL667
         01:D61B  90 0E      			bcc	.LL667
13567                        	
13568                        		.dbg	line,	"include\routines_LEVELS.c", 2577; {
13569                        	
13570                        		.dbg	line,	"include\routines_LEVELS.c", 2578; sgx_map_pxl_x += 8;
13571                        		__add_st.wmiq	8, _sgx_map_pxl_x
         01:D61D  18         			clc
         01:D61E  AD D9 26   			lda.l	_sgx_map_pxl_x
         01:D621  69 08      			adc.l	#8
         01:D623  8D D9 26   			sta.l	_sgx_map_pxl_x
         01:D626  90 03      			bcc	!+
         01:D628  EE DA 26   			inc.h	_sgx_map_pxl_x
         01:D62B             	!:
13572                        	
13573                        		.dbg	line,	"include\routines_LEVELS.c", 2579; }
13574                        	
13575                        		.dbg	line,	"include\routines_LEVELS.c", 2581; spr_pattern(PLAYER_HANG_VRAM_ADR);
13576    01:D62B             	.LL667:
13577                        		__ld.wi		7424
         01:D62B  62         			cla
         01:D62C  A0 1D      			ldy.h	#7424
13578                        		__call		_spr_pattern.1
         01:D62E  20 3A E8   			call	_spr_pattern.1
13579                        	
13580                        		.dbg	line,	"include\routines_LEVELS.c", 2582; player_counter_anim = 0;
13581                        		__st.umiq	0, _player_counter_anim
         01:D631  9C 1C 23   			stz	_player_counter_anim
13582                        	
13583                        		.dbg	line,	"include\routines_LEVELS.c", 2583; player_index_jump = 0;
13584                        		__st.umiq	0, _player_index_jump
         01:D634  9C 1D 23   			stz	_player_index_jump
13585                        	
13586                        		.dbg	line,	"include\routines_LEVELS.c", 2584; jump_ladder = TRUE;
13587                        		__st.umiq	1, _jump_ladder
         01:D637  A9 01      			lda.l	#1
         01:D639  8D 22 23   			sta	_jump_ladder
13588                        	
13589                        		.dbg	line,	"include\routines_LEVELS.c", 2585; jump_max_index = 29;
13590                        		__st.umiq	29, _jump_max_index
         01:D63C  A9 1D      			lda.l	#29
         01:D63E  8D 23 23   			sta	_jump_max_index
13591                        	
13592                        		.dbg	line,	"include\routines_LEVELS.c", 2586; player_state = STATE_HANG;
13593                        		__st.umiq	10, _player_state
         01:D641  A9 0A      			lda.l	#10
         01:D643  8D 19 23   			sta	_player_state
13594                        	
13595                        		.dbg	line,	"include\routines_LEVELS.c", 2587; }
13596                        	
13597                        		.dbg	line,	"include\routines_LEVELS.c", 2588; }
13598    01:D646             	.LL666:
13599                        	
13600                        		.dbg	line,	"include\routines_LEVELS.c", 2591; // SET PLAYER SPRITE NEW POSITION //
13601                        	
13602                        		.dbg	line,	"include\routines_LEVELS.c", 2592; spr_y(player_pos_y);
13603    01:D646             	.LL665:
13604                        		__ld.wm		_player_pos_y
         01:D646  AD F8 24   			lda.l	_player_pos_y
         01:D649  AC F9 24   			ldy.h	_player_pos_y
13605                        		__call		_spr_y.1
         01:D64C  20 2D E8   			call	_spr_y.1
13606                        	
13607                        		.dbg	line,	"include\routines_LEVELS.c", 2594; spr_set(weapon_id);
13608                        		__ld.umq	_weapon_id
         01:D64F  AD 27 23   			lda	_weapon_id
13609                        		__call		_spr_set.1
         01:D652  20 F1 E7   			call	_spr_set.1
13610                        	
13611                        		.dbg	line,	"include\routines_LEVELS.c", 2595; spr_y(player_pos_y+8);
13612                        		__ld.wm		_player_pos_y
         01:D655  AD F8 24   			lda.l	_player_pos_y
         01:D658  AC F9 24   			ldy.h	_player_pos_y
13613                        		__add.wi	8
         01:D65B  18         			clc
         01:D65C  69 08      			adc.l	#8
         01:D65E  90 01      			bcc	!+
         01:D660  C8         			iny
         01:D661             	!:
13614                        		__call		_spr_y.1
         01:D661  20 2D E8   			call	_spr_y.1
13615                        	
13616                        		.dbg	line,	"include\routines_LEVELS.c", 2596; }
13617                        	
13618                        		.dbg	line,	"include\routines_LEVELS.c", 2599; else if(player_state == STATE_CROUCH)
13619                        		__bra		.LL668
         01:D664  4C DA DC   			bra	.LL668
13620    01:D667             	.LL632:
13621                        		__ld.umq	_player_state
         01:D667  AD 19 23   			lda	_player_state
13622                        		__equ_b.uiq	7
         01:D66A  C9 07      			cmp	#7
         01:D66C  F0 01      			beq	!+
         01:D66E  18         			clc
         01:D66F             	!:
13623                        		__bfalse	.LL669
         01:D66F  90 6A      			bcc	.LL669
13624                        	
13625                        		.dbg	line,	"include\routines_LEVELS.c", 2600; {
13626                        	
13627                        		.dbg	line,	"include\routines_LEVELS.c", 2601; recenter_CAMERA();
13628                        		__call		_recenter_CAMERA
         01:D671  20 27 FF   			call	_recenter_CAMERA
13629                        	
13630                        		.dbg	line,	"include\routines_LEVELS.c", 2602; 
13631                        	
13632                        		.dbg	line,	"include\routines_LEVELS.c", 2603; if(player_counter_anim == 1)
13633                        		__ld.umq	_player_counter_anim
         01:D674  AD 1C 23   			lda	_player_counter_anim
13634                        		__equ_b.uiq	1
         01:D677  C9 01      			cmp	#1
         01:D679  F0 01      			beq	!+
         01:D67B  18         			clc
         01:D67C             	!:
13635                        		__bfalse	.LL670
         01:D67C  90 45      			bcc	.LL670
13636                        	
13637                        		.dbg	line,	"include\routines_LEVELS.c", 2604; {
13638                        	
13639                        		.dbg	line,	"include\routines_LEVELS.c", 2605; spr_set(player_id);
13640                        		__ld.umq	_player_id
         01:D67E  AD 18 23   			lda	_player_id
13641                        		__call		_spr_set.1
         01:D681  20 F1 E7   			call	_spr_set.1
13642                        	
13643                        		.dbg	line,	"include\routines_LEVELS.c", 2606; spr_pattern(PLAYER_CROUCH_VRAM_ADR);
13644                        		__ld.wi		7168
         01:D684  62         			cla
         01:D685  A0 1C      			ldy.h	#7168
13645                        		__call		_spr_pattern.1
         01:D687  20 3A E8   			call	_spr_pattern.1
13646                        	
13647                        		.dbg	line,	"include\routines_LEVELS.c", 2608; spr_set(weapon_id);
13648                        		__ld.umq	_weapon_id
         01:D68A  AD 27 23   			lda	_weapon_id
13649                        		__call		_spr_set.1
         01:D68D  20 F1 E7   			call	_spr_set.1
13650                        	
13651                        		.dbg	line,	"include\routines_LEVELS.c", 2609; spr_pattern(WEAPON_IDLE_VRAM_ADRESS);
13652                        		__ld.wi		31808
         01:D690  A9 40      			lda.l	#31808
         01:D692  A0 7C      			ldy.h	#31808
13653                        		__call		_spr_pattern.1
         01:D694  20 3A E8   			call	_spr_pattern.1
13654                        	
13655                        		.dbg	line,	"include\routines_LEVELS.c", 2610; 
13656                        	
13657                        		.dbg	line,	"include\routines_LEVELS.c", 2611; if(player_axis == AXIS_RIGHT)
13658                        		__not.um	_player_axis
         01:D697  AD 1A 23   			lda	_player_axis
         01:D69A  18         			clc
         01:D69B  D0 01      			bne	!+
         01:D69D  38         			sec
         01:D69E             	!:
13659                        		__bfalse	.LL671
         01:D69E  90 11      			bcc	.LL671
13660                        	
13661                        		.dbg	line,	"include\routines_LEVELS.c", 2612; {
13662                        	
13663                        		.dbg	line,	"include\routines_LEVELS.c", 2613; spr_x(player_pos_x-1);
13664                        		__ld.wm		_player_pos_x
         01:D6A0  AD F6 24   			lda.l	_player_pos_x
         01:D6A3  AC F7 24   			ldy.h	_player_pos_x
13665                        		__sub.wi	1
         01:D6A6  38         			sec
         01:D6A7  E9 01      			sbc.l	#1
         01:D6A9  B0 01      			bcs	!+
         01:D6AB  88         			dey
         01:D6AC             	!:
13666                        		__call		_spr_x.1
         01:D6AC  20 1E E8   			call	_spr_x.1
13667                        	
13668                        		.dbg	line,	"include\routines_LEVELS.c", 2614; }
13669                        	
13670                        		.dbg	line,	"include\routines_LEVELS.c", 2616; else
13671                        		__bra		.LL672
         01:D6AF  80 0F      			bra	.LL672
13672    01:D6B1             	.LL671:
13673                        	
13674                        		.dbg	line,	"include\routines_LEVELS.c", 2617; {
13675                        	
13676                        		.dbg	line,	"include\routines_LEVELS.c", 2618; spr_x(player_pos_x+17);
13677                        		__ld.wm		_player_pos_x
         01:D6B1  AD F6 24   			lda.l	_player_pos_x
         01:D6B4  AC F7 24   			ldy.h	_player_pos_x
13678                        		__add.wi	17
         01:D6B7  18         			clc
         01:D6B8  69 11      			adc.l	#17
         01:D6BA  90 01      			bcc	!+
         01:D6BC  C8         			iny
         01:D6BD             	!:
13679                        		__call		_spr_x.1
         01:D6BD  20 1E E8   			call	_spr_x.1
13680                        	
13681                        		.dbg	line,	"include\routines_LEVELS.c", 2619; }
13682    01:D6C0             	.LL672:
13683                        	
13684                        		.dbg	line,	"include\routines_LEVELS.c", 2621; //spr_y(player_pos_y+18);
13685                        	
13686                        		.dbg	line,	"include\routines_LEVELS.c", 2622; 
13687                        	
13688                        		.dbg	line,	"include\routines_LEVELS.c", 2623; player_counter_anim = 0;
13689                        		__st.umiq	0, _player_counter_anim
         01:D6C0  9C 1C 23   			stz	_player_counter_anim
13690                        	
13691                        		.dbg	line,	"include\routines_LEVELS.c", 2624; }
13692                        	
13693                        		.dbg	line,	"include\routines_LEVELS.c", 2626; spr_set(weapon_id);
13694    01:D6C3             	.LL670:
13695                        		__ld.umq	_weapon_id
         01:D6C3  AD 27 23   			lda	_weapon_id
13696                        		__call		_spr_set.1
         01:D6C6  20 F1 E7   			call	_spr_set.1
13697                        	
13698                        		.dbg	line,	"include\routines_LEVELS.c", 2627; spr_y(player_pos_y+18);
13699                        		__ld.wm		_player_pos_y
         01:D6C9  AD F8 24   			lda.l	_player_pos_y
         01:D6CC  AC F9 24   			ldy.h	_player_pos_y
13700                        		__add.wi	18
         01:D6CF  18         			clc
         01:D6D0  69 12      			adc.l	#18
         01:D6D2  90 01      			bcc	!+
         01:D6D4  C8         			iny
         01:D6D5             	!:
13701                        		__call		_spr_y.1
         01:D6D5  20 2D E8   			call	_spr_y.1
13702                        	
13703                        		.dbg	line,	"include\routines_LEVELS.c", 2628; //recenter_CAMERA();
13704                        	
13705                        		.dbg	line,	"include\routines_LEVELS.c", 2629; }
13706                        	
13707                        		.dbg	line,	"include\routines_LEVELS.c", 2632; else if(player_state == STATE_FALL)
13708                        		__bra		.LL673
         01:D6D8  4C DA DC   			bra	.LL673
13709    01:D6DB             	.LL669:
13710                        		__ld.umq	_player_state
         01:D6DB  AD 19 23   			lda	_player_state
13711                        		__equ_b.uiq	9
         01:D6DE  C9 09      			cmp	#9
         01:D6E0  F0 01      			beq	!+
         01:D6E2  18         			clc
         01:D6E3             	!:
13712                        		__bfalse	.LL674
         01:D6E3  B0 03 4C 20			bcc	.LL674
         01:D6E7  D9          
13713                        	
13714                        		.dbg	line,	"include\routines_LEVELS.c", 2633; {
13715                        	
13716                        		.dbg	line,	"include\routines_LEVELS.c", 2634; unsigned char i, camera_y_move;
13717                        	
13718                        		.dbg	line,	"include\routines_LEVELS.c", 2635; i = 1;
13719                        		__st.umiq	1, __update_PLAYER_end - 6  /* i */
         01:D6E8  A9 01      			lda.l	#1
         01:D6EA  8D 07 23   			sta	__update_PLAYER_end - 6
13720                        	
13721                        		.dbg	line,	"include\routines_LEVELS.c", 2638; spr_set(player_id);
13722                        		__ld.umq	_player_id
         01:D6ED  AD 18 23   			lda	_player_id
13723                        		__call		_spr_set.1
         01:D6F0  20 F1 E7   			call	_spr_set.1
13724                        	
13725                        		.dbg	line,	"include\routines_LEVELS.c", 2641; //--------------------------------------------------------------------------------------//
13726                        	
13727                        		.dbg	line,	"include\routines_LEVELS.c", 2642; //                                        V MOVE                                        //
13728                        	
13729                        		.dbg	line,	"include\routines_LEVELS.c", 2643; //--------------------------------------------------------------------------------------//
13730                        	
13731                        		.dbg	line,	"include\routines_LEVELS.c", 2645; // UPDATE PLAYER Y POSITION //
13732                        	
13733                        		.dbg	line,	"include\routines_LEVELS.c", 2646; player_pos_y += TABLE_PLAYER_FALL[player_index_fall];
13734                        		__ldx.umq	_player_index_fall
         01:D6F3  AE 1E 23   			ldx	_player_index_fall
13735                        		__ld.bax	_TABLE_PLAYER_FALL
         01:D6F6  BD AA 62   			lda	_TABLE_PLAYER_FALL, x
         01:D6F9  C2         			cly
         01:D6FA  10 01      			bpl	!+
         01:D6FC  88         			dey
         01:D6FD             	!:
13736                        		__add_st.wmq	_player_pos_y
         01:D6FD  18         			clc
         01:D6FE  6D F8 24   			adc.l	_player_pos_y
         01:D701  8D F8 24   			sta.l	_player_pos_y
         01:D704  98         			tya
         01:D705  6D F9 24   			adc.h	_player_pos_y
         01:D708  8D F9 24   			sta.h	_player_pos_y
13737                        	
13738                        		.dbg	line,	"include\routines_LEVELS.c", 2649; // IF PLAYER GOES BELOW ITS BASE Y POSITION //
13739                        	
13740                        		.dbg	line,	"include\routines_LEVELS.c", 2650; if(player_pos_y >= PLAYER_BASE_Y_POS)
13741                        		__ld.wm		_player_pos_y
         01:D70B  AD F8 24   			lda.l	_player_pos_y
         01:D70E  AC F9 24   			ldy.h	_player_pos_y
13742                        		__sge_w.wi	128
         01:D711  C9 80      			cmp.l	#128		; Subtract integer from Y:A.
         01:D713  98         			tya
         01:D714  E9 00      			sbc.h	#128
         01:D716  50 02      			bvc	!+
         01:D718  49 80      			eor	#$80		; +ve if Y:A >= integer (signed).
         01:D71A  49 80      	!:		eor	#$80
         01:D71C  0A         			asl	a
13743                        		__bfalse	.LL675
         01:D71D  90 45      			bcc	.LL675
13744                        	
13745                        		.dbg	line,	"include\routines_LEVELS.c", 2651; {
13746                        	
13747                        		.dbg	line,	"include\routines_LEVELS.c", 2652; // THE CAMERA MOVES //
13748                        	
13749                        		.dbg	line,	"include\routines_LEVELS.c", 2653; // CALCULATE HOW MANY PIXELS THE CAMERA HAS TO MOVE DOWN //
13750                        	
13751                        		.dbg	line,	"include\routines_LEVELS.c", 2654; camera_y_move = player_pos_y - PLAYER_BASE_Y_POS;
13752                        		__ld.wm		_player_pos_y
         01:D71F  AD F8 24   			lda.l	_player_pos_y
         01:D722  AC F9 24   			ldy.h	_player_pos_y
13753                        		__sub.wi	128
         01:D725  38         			sec
         01:D726  E9 80      			sbc.l	#128
         01:D728  B0 01      			bcs	!+
         01:D72A  88         			dey
         01:D72B             	!:
13754                        		__st.umq	__update_PLAYER_end - 7  /* camera_y_move */
         01:D72B  8D 06 23   			sta	__update_PLAYER_end - 7
13755                        	
13756                        		.dbg	line,	"include\routines_LEVELS.c", 2655; sgx_map_pxl_y += camera_y_move;
13757                        		__ld.um		__update_PLAYER_end - 7  /* camera_y_move */
         01:D72E  AD 06 23   			lda	__update_PLAYER_end - 7
         01:D731  C2         			cly
13758                        		__add_st.wmq	_sgx_map_pxl_y
         01:D732  18         			clc
         01:D733  6D DB 26   			adc.l	_sgx_map_pxl_y
         01:D736  8D DB 26   			sta.l	_sgx_map_pxl_y
         01:D739  98         			tya
         01:D73A  6D DC 26   			adc.h	_sgx_map_pxl_y
         01:D73D  8D DC 26   			sta.h	_sgx_map_pxl_y
13759                        	
13760                        		.dbg	line,	"include\routines_LEVELS.c", 2657; // IF THE CAMERA HAS REACHED ITS MAX (LOWEST) POSITION //
13761                        	
13762                        		.dbg	line,	"include\routines_LEVELS.c", 2658; if(sgx_map_pxl_y > camera_max_y_position)
13763                        		__ld.wm		_sgx_map_pxl_y
         01:D740  AD DB 26   			lda.l	_sgx_map_pxl_y
         01:D743  AC DC 26   			ldy.h	_sgx_map_pxl_y
13764                        		__ugt_w.wm	_camera_max_y_position
         01:D746  18         			clc			; Subtract memory+1 from Y:A.
         01:D747  ED FA 24   			sbc.l	_camera_max_y_position
         01:D74A  98         			tya
         01:D74B  ED FB 24   			sbc.h	_camera_max_y_position		; CS if Y:A > memory.
13765                        		__bfalse	.LL676
         01:D74E  90 0C      			bcc	.LL676
13766                        	
13767                        		.dbg	line,	"include\routines_LEVELS.c", 2659; {
13768                        	
13769                        		.dbg	line,	"include\routines_LEVELS.c", 2660; // THE CAMERA CAN NOT MOVE LOWER //
13770                        	
13771                        		.dbg	line,	"include\routines_LEVELS.c", 2661; sgx_map_pxl_y = camera_max_y_position;
13772                        		__ld.wm		_camera_max_y_position
         01:D750  AD FA 24   			lda.l	_camera_max_y_position
         01:D753  AC FB 24   			ldy.h	_camera_max_y_position
13773                        		__st.wmq	_sgx_map_pxl_y
         01:D756  8D DB 26   			sta.l	_sgx_map_pxl_y
         01:D759  8C DC 26   			sty.h	_sgx_map_pxl_y
13774                        	
13775                        		.dbg	line,	"include\routines_LEVELS.c", 2662; }
13776                        	
13777                        		.dbg	line,	"include\routines_LEVELS.c", 2664; // THE PLAYER STAYS AT ITS BASE Y POSITION //
13778                        	
13779                        		.dbg	line,	"include\routines_LEVELS.c", 2665; player_pos_y = PLAYER_BASE_Y_POS;
13780    01:D75C             	.LL676:
13781                        		__st.wmiq	128, _player_pos_y
         01:D75C  A9 80      			lda.l	#128
         01:D75E  8D F8 24   			sta.l	_player_pos_y
         01:D761  9C F9 24   			stz.h	_player_pos_y
13782                        	
13783                        		.dbg	line,	"include\routines_LEVELS.c", 2666; }
13784                        	
13785                        		.dbg	line,	"include\routines_LEVELS.c", 2669; // UPDATE JUMP INDEX IN THE ARRAY //
13786                        	
13787                        		.dbg	line,	"include\routines_LEVELS.c", 2670; // ARRAY MAX ENTRY : 20//
13788                        	
13789                        		.dbg	line,	"include\routines_LEVELS.c", 2671; if(player_index_fall < 20)
13790    01:D764             	.LL675:
13791                        		__ld.umq	_player_index_fall
         01:D764  AD 1E 23   			lda	_player_index_fall
13792                        		__ult_b.uiq	20
         01:D767  C9 14      			cmp	#20		; Subtract integer from A.
         01:D769  6A         			ror	a		; CC if A < integer.
         01:D76A  49 80      			eor	#$80
         01:D76C  2A         			rol	a
13793                        		__bfalse	.LL677
         01:D76D  90 03      			bcc	.LL677
13794                        	
13795                        		.dbg	line,	"include\routines_LEVELS.c", 2672; {
13796                        	
13797                        		.dbg	line,	"include\routines_LEVELS.c", 2673; player_index_fall += 1;
13798                        		__add_st.umiq	1, _player_index_fall
         01:D76F  EE 1E 23   			inc	_player_index_fall
13799                        	
13800                        		.dbg	line,	"include\routines_LEVELS.c", 2674; }
13801                        	
13802                        		.dbg	line,	"include\routines_LEVELS.c", 2677; check_TILE_DEPTH( 15 , 0);
13803    01:D772             	.LL677:
13804                        		__ld.wi		15
         01:D772  A9 0F      			lda.l	#15
         01:D774  C2         			cly
13805                        		__pusharg.wr
         01:D775  A6 8D      			ldx	<__sp
         01:D777  CA         			dex
         01:D778  CA         			dex
         01:D779  95 08      			sta.l	<__stack, x
         01:D77B  94 09      			sty.h	<__stack, x
         01:D77D  86 8D      			stx	<__sp
13806                        		__ld.wi		0
         01:D77F  62         			cla
         01:D780  C2         			cly
13807                        		__pusharg.wr
         01:D781  A6 8D      			ldx	<__sp
         01:D783  CA         			dex
         01:D784  CA         			dex
         01:D785  95 08      			sta.l	<__stack, x
         01:D787  94 09      			sty.h	<__stack, x
         01:D789  86 8D      			stx	<__sp
13808                        		__call		_check_TILE_DEPTH
         01:D78B  20 1D FF   			call	_check_TILE_DEPTH
13809                        	
13810                        		.dbg	line,	"include\routines_LEVELS.c", 2680; if(map_blk_flag == TILE_BG)
13811                        		__ld.umq	_map_blk_flag
         01:D78E  AD FA 2B   			lda	_map_blk_flag
13812                        		__equ_b.uiq	1
         01:D791  C9 01      			cmp	#1
         01:D793  F0 01      			beq	!+
         01:D795  18         			clc
         01:D796             	!:
13813                        		__bfalse	.LL678
         01:D796  B0 03 4C 52			bcc	.LL678
         01:D79A  D8          
13814                        	
13815                        		.dbg	line,	"include\routines_LEVELS.c", 2681; {
13816                        	
13817                        		.dbg	line,	"include\routines_LEVELS.c", 2682; // CALCULATE HOW MANY PIXELS THE PLAYER MOVED INTO THE GROUND //
13818                        	
13819                        		.dbg	line,	"include\routines_LEVELS.c", 2683; for(i=1; i<11 ; i++ )
13820                        		__st.umiq	1, __update_PLAYER_end - 6  /* i */
         01:D79B  A9 01      			lda.l	#1
         01:D79D  8D 07 23   			sta	__update_PLAYER_end - 6
13821    01:D7A0             	.LL679:
13822                        		__ld.umq	__update_PLAYER_end - 6  /* i */
         01:D7A0  AD 07 23   			lda	__update_PLAYER_end - 6
13823                        		__ult_b.uiq	11
         01:D7A3  C9 0B      			cmp	#11		; Subtract integer from A.
         01:D7A5  6A         			ror	a		; CC if A < integer.
         01:D7A6  49 80      			eor	#$80
         01:D7A8  2A         			rol	a
13824                        		__btrue		.LL681
         01:D7A9  B0 07      			bcs	.LL681
13825                        		__bra		.LL682
         01:D7AB  80 7D      			bra	.LL682
13826    01:D7AD             	.LL680:
13827                        		__inc.umq	__update_PLAYER_end - 6  /* i */
         01:D7AD  EE 07 23   			inc	__update_PLAYER_end - 6
13828                        		__bra		.LL679
         01:D7B0  80 EE      			bra	.LL679
13829    01:D7B2             	.LL681:
13830                        	
13831                        		.dbg	line,	"include\routines_LEVELS.c", 2684; {
13832                        	
13833                        		.dbg	line,	"include\routines_LEVELS.c", 2685; check_TILE_DEPTH( 15 , i);//20
13834                        		__ld.wi		15
         01:D7B2  A9 0F      			lda.l	#15
         01:D7B4  C2         			cly
13835                        		__pusharg.wr
         01:D7B5  A6 8D      			ldx	<__sp
         01:D7B7  CA         			dex
         01:D7B8  CA         			dex
         01:D7B9  95 08      			sta.l	<__stack, x
         01:D7BB  94 09      			sty.h	<__stack, x
         01:D7BD  86 8D      			stx	<__sp
13836                        		__ld.um		__update_PLAYER_end - 6  /* i */
         01:D7BF  AD 07 23   			lda	__update_PLAYER_end - 6
         01:D7C2  C2         			cly
13837                        		__pusharg.wr
         01:D7C3  A6 8D      			ldx	<__sp
         01:D7C5  CA         			dex
         01:D7C6  CA         			dex
         01:D7C7  95 08      			sta.l	<__stack, x
         01:D7C9  94 09      			sty.h	<__stack, x
         01:D7CB  86 8D      			stx	<__sp
13838                        		__call		_check_TILE_DEPTH
         01:D7CD  20 1D FF   			call	_check_TILE_DEPTH
13839                        	
13840                        		.dbg	line,	"include\routines_LEVELS.c", 2688; if(map_blk_flag == TILE_EMPTY)
13841                        		__not.um	_map_blk_flag
         01:D7D0  AD FA 2B   			lda	_map_blk_flag
         01:D7D3  18         			clc
         01:D7D4  D0 01      			bne	!+
         01:D7D6  38         			sec
         01:D7D7             	!:
13842                        		__bfalse	.LL683
         01:D7D7  90 D4      			bcc	.LL683
13843                        	
13844                        		.dbg	line,	"include\routines_LEVELS.c", 2689; {
13845                        	
13846                        		.dbg	line,	"include\routines_LEVELS.c", 2690; if(player_pos_y != PLAYER_BASE_Y_POS)
13847                        		__ld.wm		_player_pos_y
         01:D7D9  AD F8 24   			lda.l	_player_pos_y
         01:D7DC  AC F9 24   			ldy.h	_player_pos_y
13848                        		__neq_w.wi	128
         01:D7DF  38         			sec
         01:D7E0  49 80      			eor.l	#128
         01:D7E2  D0 06      			bne	!+
         01:D7E4  98         			tya
         01:D7E5  49 00      			eor.h	#128
         01:D7E7  D0 01      			bne	!+
         01:D7E9  18         			clc
         01:D7EA             	!:
13849                        		__bfalse	.LL684
         01:D7EA  90 1E      			bcc	.LL684
13850                        	
13851                        		.dbg	line,	"include\routines_LEVELS.c", 2691; {
13852                        	
13853                        		.dbg	line,	"include\routines_LEVELS.c", 2692; player_pos_y -= (i - 1);
13854                        		__ld.um		__update_PLAYER_end - 6  /* i */
         01:D7EC  AD 07 23   			lda	__update_PLAYER_end - 6
         01:D7EF  C2         			cly
13855                        		__sub.wi	1
         01:D7F0  38         			sec
         01:D7F1  E9 01      			sbc.l	#1
         01:D7F3  B0 01      			bcs	!+
         01:D7F5  88         			dey
         01:D7F6             	!:
13856                        		__isub_st.wmq	_player_pos_y
         01:D7F6  38         			sec
         01:D7F7  49 FF      			eor	#$FF
         01:D7F9  6D F8 24   			adc.l	_player_pos_y
         01:D7FC  8D F8 24   			sta.l	_player_pos_y
         01:D7FF  98         			tya
         01:D800  49 FF      			eor	#$FF
         01:D802  6D F9 24   			adc.h	_player_pos_y
         01:D805  8D F9 24   			sta.h	_player_pos_y
13857                        	
13858                        		.dbg	line,	"include\routines_LEVELS.c", 2693; }
13859                        	
13860                        		.dbg	line,	"include\routines_LEVELS.c", 2695; else
13861                        		__bra		.LL685
         01:D808  80 20      			bra	.LL685
13862    01:D80A             	.LL684:
13863                        	
13864                        		.dbg	line,	"include\routines_LEVELS.c", 2696; {
13865                        	
13866                        		.dbg	line,	"include\routines_LEVELS.c", 2697; sgx_map_pxl_y -= (i - 1);
13867                        		__ld.um		__update_PLAYER_end - 6  /* i */
         01:D80A  AD 07 23   			lda	__update_PLAYER_end - 6
         01:D80D  C2         			cly
13868                        		__sub.wi	1
         01:D80E  38         			sec
         01:D80F  E9 01      			sbc.l	#1
         01:D811  B0 01      			bcs	!+
         01:D813  88         			dey
         01:D814             	!:
13869                        		__isub_st.wmq	_sgx_map_pxl_y
         01:D814  38         			sec
         01:D815  49 FF      			eor	#$FF
         01:D817  6D DB 26   			adc.l	_sgx_map_pxl_y
         01:D81A  8D DB 26   			sta.l	_sgx_map_pxl_y
         01:D81D  98         			tya
         01:D81E  49 FF      			eor	#$FF
         01:D820  6D DC 26   			adc.h	_sgx_map_pxl_y
         01:D823  8D DC 26   			sta.h	_sgx_map_pxl_y
13870                        	
13871                        		.dbg	line,	"include\routines_LEVELS.c", 2698; }
13872    01:D826             	.LL685	.alias		.LL682
13873                        	
13874                        		.dbg	line,	"include\routines_LEVELS.c", 2701; break;
13875                        		__bra		.LL682
         01:D826  80 02      			bra	.LL682
13876                        	
13877                        		.dbg	line,	"include\routines_LEVELS.c", 2702; }
13878                        	
13879                        		.dbg	line,	"include\routines_LEVELS.c", 2704; }
13880    01:D828             	.LL683	.alias		.LL680
13881                        		__bra		.LL680
         01:D828  80 83      			bra	.LL680
13882    01:D82A             	.LL682:
13883                        	
13884                        		.dbg	line,	"include\routines_LEVELS.c", 2706; spr_y(player_pos_y);
13885                        		__ld.wm		_player_pos_y
         01:D82A  AD F8 24   			lda.l	_player_pos_y
         01:D82D  AC F9 24   			ldy.h	_player_pos_y
13886                        		__call		_spr_y.1
         01:D830  20 2D E8   			call	_spr_y.1
13887                        	
13888                        		.dbg	line,	"include\routines_LEVELS.c", 2708; player_counter_anim = 1;
13889                        		__st.umiq	1, _player_counter_anim
         01:D833  A9 01      			lda.l	#1
         01:D835  8D 1C 23   			sta	_player_counter_anim
13890                        	
13891                        		.dbg	line,	"include\routines_LEVELS.c", 2709; player_index_jump = 0;
13892                        		__st.umiq	0, _player_index_jump
         01:D838  9C 1D 23   			stz	_player_index_jump
13893                        	
13894                        		.dbg	line,	"include\routines_LEVELS.c", 2710; player_index_fall = 0;
13895                        		__st.umiq	0, _player_index_fall
         01:D83B  9C 1E 23   			stz	_player_index_fall
13896                        	
13897                        		.dbg	line,	"include\routines_LEVELS.c", 2711; jump_ladder = FALSE;
13898                        		__st.umiq	0, _jump_ladder
         01:D83E  9C 22 23   			stz	_jump_ladder
13899                        	
13900                        		.dbg	line,	"include\routines_LEVELS.c", 2712; fall_ladder = FALSE;
13901                        		__st.umiq	0, _fall_ladder
         01:D841  9C 24 23   			stz	_fall_ladder
13902                        	
13903                        		.dbg	line,	"include\routines_LEVELS.c", 2713; hit_wall = FALSE;
13904                        		__st.umiq	0, _hit_wall
         01:D844  9C 25 23   			stz	_hit_wall
13905                        	
13906                        		.dbg	line,	"include\routines_LEVELS.c", 2714; jump_max_index = 34;
13907                        		__st.umiq	34, _jump_max_index
         01:D847  A9 22      			lda.l	#34
         01:D849  8D 23 23   			sta	_jump_max_index
13908                        	
13909                        		.dbg	line,	"include\routines_LEVELS.c", 2715; player_state = STATE_IDLE;
13910                        		__st.umiq	0, _player_state
         01:D84C  9C 19 23   			stz	_player_state
13911                        	
13912                        		.dbg	line,	"include\routines_LEVELS.c", 2716; return;
13913                        		__bra		.LL491
         01:D84F  4C DA DC   			bra	.LL491
13914                        	
13915                        		.dbg	line,	"include\routines_LEVELS.c", 2717; }
13916                        	
13917                        		.dbg	line,	"include\routines_LEVELS.c", 2720; collision_PLAYER_BG( 16 , 16 );
13918    01:D852             	.LL678:
13919                        		__ld.wi		16
         01:D852  A9 10      			lda.l	#16
         01:D854  C2         			cly
13920                        		__pusharg.wr
         01:D855  A6 8D      			ldx	<__sp
         01:D857  CA         			dex
         01:D858  CA         			dex
         01:D859  95 08      			sta.l	<__stack, x
         01:D85B  94 09      			sty.h	<__stack, x
         01:D85D  86 8D      			stx	<__sp
13921                        		__ld.wi		16
         01:D85F  A9 10      			lda.l	#16
         01:D861  C2         			cly
13922                        		__pusharg.wr
         01:D862  A6 8D      			ldx	<__sp
         01:D864  CA         			dex
         01:D865  CA         			dex
         01:D866  95 08      			sta.l	<__stack, x
         01:D868  94 09      			sty.h	<__stack, x
         01:D86A  86 8D      			stx	<__sp
13923                        		__call		_collision_PLAYER_BG
         01:D86C  20 31 FF   			call	_collision_PLAYER_BG
13924                        	
13925                        		.dbg	line,	"include\routines_LEVELS.c", 2722; // IF PLAYER HITS THE LADDER //
13926                        	
13927                        		.dbg	line,	"include\routines_LEVELS.c", 2723; if(map_blk_flag == TILE_LADDER)
13928                        		__ld.umq	_map_blk_flag
         01:D86F  AD FA 2B   			lda	_map_blk_flag
13929                        		__equ_b.uiq	2
         01:D872  C9 02      			cmp	#2
         01:D874  F0 01      			beq	!+
         01:D876  18         			clc
         01:D877             	!:
13930                        		__bfalse	.LL686
         01:D877  90 6F      			bcc	.LL686
13931                        	
13932                        		.dbg	line,	"include\routines_LEVELS.c", 2724; {
13933                        	
13934                        		.dbg	line,	"include\routines_LEVELS.c", 2725; // CAMERA GOES 8 PX BACKWARD //
13935                        	
13936                        		.dbg	line,	"include\routines_LEVELS.c", 2726; sgx_map_pxl_x = ( (sgx_map_pxl_x >> 3) << 3 );
13937                        		__ld.wm		_sgx_map_pxl_x
         01:D879  AD D9 26   			lda.l	_sgx_map_pxl_x
         01:D87C  AC DA 26   			ldy.h	_sgx_map_pxl_x
13938                        		__lsr.wi	3
         01:D87F  84 00      			sty	__temp
         01:D881  20 3A E2   			jsr	lsrw3
13939                        		__asl.wi	3
         01:D884  84 00      			sty	__temp
         01:D886  20 D7 E1   			jsr	aslw3
13940                        		__st.wmq	_sgx_map_pxl_x
         01:D889  8D D9 26   			sta.l	_sgx_map_pxl_x
         01:D88C  8C DA 26   			sty.h	_sgx_map_pxl_x
13941                        	
13942                        		.dbg	line,	"include\routines_LEVELS.c", 2728; // SO WE UPDATE THE MAP //
13943                        	
13944                        		.dbg	line,	"include\routines_LEVELS.c", 2729; sgx_scroll_map();
13945                        		__call		_sgx_scroll_map
         01:D88F  20 63 FF   			call	_sgx_scroll_map
13946                        	
13947                        		.dbg	line,	"include\routines_LEVELS.c", 2731; // CHECK IF THE PLAYER STANDS RIGHT TO THE LADDER //
13948                        	
13949                        		.dbg	line,	"include\routines_LEVELS.c", 2732; collision_PLAYER_BG( 31 , 16 );
13950                        		__ld.wi		31
         01:D892  A9 1F      			lda.l	#31
         01:D894  C2         			cly
13951                        		__pusharg.wr
         01:D895  A6 8D      			ldx	<__sp
         01:D897  CA         			dex
         01:D898  CA         			dex
         01:D899  95 08      			sta.l	<__stack, x
         01:D89B  94 09      			sty.h	<__stack, x
         01:D89D  86 8D      			stx	<__sp
13952                        		__ld.wi		16
         01:D89F  A9 10      			lda.l	#16
         01:D8A1  C2         			cly
13953                        		__pusharg.wr
         01:D8A2  A6 8D      			ldx	<__sp
         01:D8A4  CA         			dex
         01:D8A5  CA         			dex
         01:D8A6  95 08      			sta.l	<__stack, x
         01:D8A8  94 09      			sty.h	<__stack, x
         01:D8AA  86 8D      			stx	<__sp
13954                        		__call		_collision_PLAYER_BG
         01:D8AC  20 31 FF   			call	_collision_PLAYER_BG
13955                        	
13956                        		.dbg	line,	"include\routines_LEVELS.c", 2734; if(map_blk_flag == TILE_LADDER)
13957                        		__ld.umq	_map_blk_flag
         01:D8AF  AD FA 2B   			lda	_map_blk_flag
13958                        		__equ_b.uiq	2
         01:D8B2  C9 02      			cmp	#2
         01:D8B4  F0 01      			beq	!+
         01:D8B6  18         			clc
         01:D8B7             	!:
13959                        		__bfalse	.LL687
         01:D8B7  90 0E      			bcc	.LL687
13960                        	
13961                        		.dbg	line,	"include\routines_LEVELS.c", 2735; {
13962                        	
13963                        		.dbg	line,	"include\routines_LEVELS.c", 2736; sgx_map_pxl_x += 8;
13964                        		__add_st.wmiq	8, _sgx_map_pxl_x
         01:D8B9  18         			clc
         01:D8BA  AD D9 26   			lda.l	_sgx_map_pxl_x
         01:D8BD  69 08      			adc.l	#8
         01:D8BF  8D D9 26   			sta.l	_sgx_map_pxl_x
         01:D8C2  90 03      			bcc	!+
         01:D8C4  EE DA 26   			inc.h	_sgx_map_pxl_x
         01:D8C7             	!:
13965                        	
13966                        		.dbg	line,	"include\routines_LEVELS.c", 2737; }
13967                        	
13968                        		.dbg	line,	"include\routines_LEVELS.c", 2739; spr_pattern(PLAYER_HANG_VRAM_ADR);
13969    01:D8C7             	.LL687:
13970                        		__ld.wi		7424
         01:D8C7  62         			cla
         01:D8C8  A0 1D      			ldy.h	#7424
13971                        		__call		_spr_pattern.1
         01:D8CA  20 3A E8   			call	_spr_pattern.1
13972                        	
13973                        		.dbg	line,	"include\routines_LEVELS.c", 2740; player_counter_anim = 0;//1
13974                        		__st.umiq	0, _player_counter_anim
         01:D8CD  9C 1C 23   			stz	_player_counter_anim
13975                        	
13976                        		.dbg	line,	"include\routines_LEVELS.c", 2741; player_index_jump = 0;
13977                        		__st.umiq	0, _player_index_jump
         01:D8D0  9C 1D 23   			stz	_player_index_jump
13978                        	
13979                        		.dbg	line,	"include\routines_LEVELS.c", 2742; player_index_fall = 0;
13980                        		__st.umiq	0, _player_index_fall
         01:D8D3  9C 1E 23   			stz	_player_index_fall
13981                        	
13982                        		.dbg	line,	"include\routines_LEVELS.c", 2743; jump_ladder = TRUE;
13983                        		__st.umiq	1, _jump_ladder
         01:D8D6  A9 01      			lda.l	#1
         01:D8D8  8D 22 23   			sta	_jump_ladder
13984                        	
13985                        		.dbg	line,	"include\routines_LEVELS.c", 2744; jump_max_index = 29;
13986                        		__st.umiq	29, _jump_max_index
         01:D8DB  A9 1D      			lda.l	#29
         01:D8DD  8D 23 23   			sta	_jump_max_index
13987                        	
13988                        		.dbg	line,	"include\routines_LEVELS.c", 2745; player_state = STATE_HANG;
13989                        		__st.umiq	10, _player_state
         01:D8E0  A9 0A      			lda.l	#10
         01:D8E2  8D 19 23   			sta	_player_state
13990                        	
13991                        		.dbg	line,	"include\routines_LEVELS.c", 2746; return;
13992                        		__bra		.LL491
         01:D8E5  4C DA DC   			bra	.LL491
13993                        	
13994                        		.dbg	line,	"include\routines_LEVELS.c", 2747; }
13995                        	
13996                        		.dbg	line,	"include\routines_LEVELS.c", 2749; spr_y(player_pos_y);
13997    01:D8E8             	.LL686:
13998                        		__ld.wm		_player_pos_y
         01:D8E8  AD F8 24   			lda.l	_player_pos_y
         01:D8EB  AC F9 24   			ldy.h	_player_pos_y
13999                        		__call		_spr_y.1
         01:D8EE  20 2D E8   			call	_spr_y.1
14000                        	
14001                        		.dbg	line,	"include\routines_LEVELS.c", 2751; spr_set(weapon_id);
14002                        		__ld.umq	_weapon_id
         01:D8F1  AD 27 23   			lda	_weapon_id
14003                        		__call		_spr_set.1
         01:D8F4  20 F1 E7   			call	_spr_set.1
14004                        	
14005                        		.dbg	line,	"include\routines_LEVELS.c", 2753; if(fall_ladder == TRUE || hit_wall == TRUE)
14006                        		__ld.umq	_fall_ladder
         01:D8F7  AD 24 23   			lda	_fall_ladder
14007                        		__equ_b.uiq	1
         01:D8FA  C9 01      			cmp	#1
         01:D8FC  F0 01      			beq	!+
         01:D8FE  18         			clc
         01:D8FF             	!:
14008                        		__btrue		.LL689
         01:D8FF  B0 08      			bcs	.LL689
14009                        		__ld.umq	_hit_wall
         01:D901  AD 25 23   			lda	_hit_wall
14010                        		__equ_b.uiq	1
         01:D904  C9 01      			cmp	#1
         01:D906  F0 01      			beq	!+
         01:D908  18         			clc
         01:D909             	!:
14011    01:D909             	.LL689:
14012                        		__bfalse	.LL688
         01:D909  B0 03 4C DA			bcc	.LL688
         01:D90D  DC          
14013                        	
14014                        		.dbg	line,	"include\routines_LEVELS.c", 2754; {
14015                        	
14016                        		.dbg	line,	"include\routines_LEVELS.c", 2755; spr_y(player_pos_y+8);
14017                        		__ld.wm		_player_pos_y
         01:D90E  AD F8 24   			lda.l	_player_pos_y
         01:D911  AC F9 24   			ldy.h	_player_pos_y
14018                        		__add.wi	8
         01:D914  18         			clc
         01:D915  69 08      			adc.l	#8
         01:D917  90 01      			bcc	!+
         01:D919  C8         			iny
         01:D91A             	!:
14019                        		__call		_spr_y.1
         01:D91A  20 2D E8   			call	_spr_y.1
14020                        	
14021                        		.dbg	line,	"include\routines_LEVELS.c", 2756; }
14022                        	
14023                        		.dbg	line,	"include\routines_LEVELS.c", 2757; }
14024    01:D91D             	.LL688	.alias		.LL690
14025                        	
14026                        		.dbg	line,	"include\routines_LEVELS.c", 2760; else if(player_state == STATE_HANG)
14027                        		__bra		.LL690
         01:D91D  4C DA DC   			bra	.LL690
14028    01:D920             	.LL674:
14029                        		__ld.umq	_player_state
         01:D920  AD 19 23   			lda	_player_state
14030                        		__equ_b.uiq	10
         01:D923  C9 0A      			cmp	#10
         01:D925  F0 01      			beq	!+
         01:D927  18         			clc
         01:D928             	!:
14031                        		__bfalse	.LL691
         01:D928  90 5A      			bcc	.LL691
14032                        	
14033                        		.dbg	line,	"include\routines_LEVELS.c", 2761; {
14034                        	
14035                        		.dbg	line,	"include\routines_LEVELS.c", 2762; recenter_CAMERA();
14036                        		__call		_recenter_CAMERA
         01:D92A  20 27 FF   			call	_recenter_CAMERA
14037                        	
14038                        		.dbg	line,	"include\routines_LEVELS.c", 2764; if(player_attack == FALSE)
14039                        		__not.um	_player_attack
         01:D92D  AD 21 23   			lda	_player_attack
         01:D930  18         			clc
         01:D931  D0 01      			bne	!+
         01:D933  38         			sec
         01:D934             	!:
14040                        		__bfalse	.LL692
         01:D934  B0 03 4C DA			bcc	.LL692
         01:D938  DC          
14041                        	
14042                        		.dbg	line,	"include\routines_LEVELS.c", 2765; {
14043                        	
14044                        		.dbg	line,	"include\routines_LEVELS.c", 2766; spr_set(weapon_id);
14045                        		__ld.umq	_weapon_id
         01:D939  AD 27 23   			lda	_weapon_id
14046                        		__call		_spr_set.1
         01:D93C  20 F1 E7   			call	_spr_set.1
14047                        	
14048                        		.dbg	line,	"include\routines_LEVELS.c", 2767; spr_pattern(WEAPON_IDLE_VRAM_ADRESS);
14049                        		__ld.wi		31808
         01:D93F  A9 40      			lda.l	#31808
         01:D941  A0 7C      			ldy.h	#31808
14050                        		__call		_spr_pattern.1
         01:D943  20 3A E8   			call	_spr_pattern.1
14051                        	
14052                        		.dbg	line,	"include\routines_LEVELS.c", 2768; spr_y(player_pos_y+5);
14053                        		__ld.wm		_player_pos_y
         01:D946  AD F8 24   			lda.l	_player_pos_y
         01:D949  AC F9 24   			ldy.h	_player_pos_y
14054                        		__add.wi	5
         01:D94C  18         			clc
         01:D94D  69 05      			adc.l	#5
         01:D94F  90 01      			bcc	!+
         01:D951  C8         			iny
         01:D952             	!:
14055                        		__call		_spr_y.1
         01:D952  20 2D E8   			call	_spr_y.1
14056                        	
14057                        		.dbg	line,	"include\routines_LEVELS.c", 2770; if(player_axis == AXIS_RIGHT)
14058                        		__not.um	_player_axis
         01:D955  AD 1A 23   			lda	_player_axis
         01:D958  18         			clc
         01:D959  D0 01      			bne	!+
         01:D95B  38         			sec
         01:D95C             	!:
14059                        		__bfalse	.LL693
         01:D95C  90 11      			bcc	.LL693
14060                        	
14061                        		.dbg	line,	"include\routines_LEVELS.c", 2771; {
14062                        	
14063                        		.dbg	line,	"include\routines_LEVELS.c", 2772; spr_x(player_pos_x+17);
14064                        		__ld.wm		_player_pos_x
         01:D95E  AD F6 24   			lda.l	_player_pos_x
         01:D961  AC F7 24   			ldy.h	_player_pos_x
14065                        		__add.wi	17
         01:D964  18         			clc
         01:D965  69 11      			adc.l	#17
         01:D967  90 01      			bcc	!+
         01:D969  C8         			iny
         01:D96A             	!:
14066                        		__call		_spr_x.1
         01:D96A  20 1E E8   			call	_spr_x.1
14067                        	
14068                        		.dbg	line,	"include\routines_LEVELS.c", 2773; }
14069                        	
14070                        		.dbg	line,	"include\routines_LEVELS.c", 2775; else
14071                        		__bra		.LL694
         01:D96D  80 0F      			bra	.LL694
14072    01:D96F             	.LL693:
14073                        	
14074                        		.dbg	line,	"include\routines_LEVELS.c", 2776; {
14075                        	
14076                        		.dbg	line,	"include\routines_LEVELS.c", 2777; spr_x(player_pos_x-2);
14077                        		__ld.wm		_player_pos_x
         01:D96F  AD F6 24   			lda.l	_player_pos_x
         01:D972  AC F7 24   			ldy.h	_player_pos_x
14078                        		__sub.wi	2
         01:D975  38         			sec
         01:D976  E9 02      			sbc.l	#2
         01:D978  B0 01      			bcs	!+
         01:D97A  88         			dey
         01:D97B             	!:
14079                        		__call		_spr_x.1
         01:D97B  20 1E E8   			call	_spr_x.1
14080                        	
14081                        		.dbg	line,	"include\routines_LEVELS.c", 2778; }
14082    01:D97E             	.LL694:
14083                        	
14084                        		.dbg	line,	"include\routines_LEVELS.c", 2779; 
14085                        	
14086                        		.dbg	line,	"include\routines_LEVELS.c", 2780; player_counter_anim = 0;
14087                        		__st.umiq	0, _player_counter_anim
         01:D97E  9C 1C 23   			stz	_player_counter_anim
14088                        	
14089                        		.dbg	line,	"include\routines_LEVELS.c", 2781; }
14090                        	
14091                        		.dbg	line,	"include\routines_LEVELS.c", 2782; }
14092    01:D981             	.LL692	.alias		.LL695
14093                        	
14094                        		.dbg	line,	"include\routines_LEVELS.c", 2785; else if(player_state == STATE_CLIMB_UP)
14095                        		__bra		.LL695
         01:D981  4C DA DC   			bra	.LL695
14096    01:D984             	.LL691:
14097                        		__ld.umq	_player_state
         01:D984  AD 19 23   			lda	_player_state
14098                        		__equ_b.uiq	11
         01:D987  C9 0B      			cmp	#11
         01:D989  F0 01      			beq	!+
         01:D98B  18         			clc
         01:D98C             	!:
14099                        		__bfalse	.LL696
         01:D98C  B0 03 4C 66			bcc	.LL696
         01:D990  DA          
14100                        	
14101                        		.dbg	line,	"include\routines_LEVELS.c", 2786; {
14102                        	
14103                        		.dbg	line,	"include\routines_LEVELS.c", 2787; if(player_counter_anim == 0)
14104                        		__not.um	_player_counter_anim
         01:D991  AD 1C 23   			lda	_player_counter_anim
         01:D994  18         			clc
         01:D995  D0 01      			bne	!+
         01:D997  38         			sec
         01:D998             	!:
14105                        		__bfalse	.LL697
         01:D998  90 0F      			bcc	.LL697
14106                        	
14107                        		.dbg	line,	"include\routines_LEVELS.c", 2788; {
14108                        	
14109                        		.dbg	line,	"include\routines_LEVELS.c", 2789; spr_set(player_id);
14110                        		__ld.umq	_player_id
         01:D99A  AD 18 23   			lda	_player_id
14111                        		__call		_spr_set.1
         01:D99D  20 F1 E7   			call	_spr_set.1
14112                        	
14113                        		.dbg	line,	"include\routines_LEVELS.c", 2790; spr_pattern(PLAYER_CLIMB_1_VRAM_ADR); 
14114                        		__ld.wi		7680
         01:D9A0  62         			cla
         01:D9A1  A0 1E      			ldy.h	#7680
14115                        		__call		_spr_pattern.1
         01:D9A3  20 3A E8   			call	_spr_pattern.1
14116                        	
14117                        		.dbg	line,	"include\routines_LEVELS.c", 2791; }
14118                        	
14119                        		.dbg	line,	"include\routines_LEVELS.c", 2793; else if(player_counter_anim == 2)
14120                        		__bra		.LL698
         01:D9A6  4C 50 DA   			bra	.LL698
14121    01:D9A9             	.LL697:
14122                        		__ld.umq	_player_counter_anim
         01:D9A9  AD 1C 23   			lda	_player_counter_anim
14123                        		__equ_b.uiq	2
         01:D9AC  C9 02      			cmp	#2
         01:D9AE  F0 01      			beq	!+
         01:D9B0  18         			clc
         01:D9B1             	!:
14124                        		__bfalse	.LL699
         01:D9B1  90 0F      			bcc	.LL699
14125                        	
14126                        		.dbg	line,	"include\routines_LEVELS.c", 2794; {
14127                        	
14128                        		.dbg	line,	"include\routines_LEVELS.c", 2795; spr_set(player_id);
14129                        		__ld.umq	_player_id
         01:D9B3  AD 18 23   			lda	_player_id
14130                        		__call		_spr_set.1
         01:D9B6  20 F1 E7   			call	_spr_set.1
14131                        	
14132                        		.dbg	line,	"include\routines_LEVELS.c", 2796; spr_pattern(PLAYER_CLIMB_2_VRAM_ADR); 
14133                        		__ld.wi		7936
         01:D9B9  62         			cla
         01:D9BA  A0 1F      			ldy.h	#7936
14134                        		__call		_spr_pattern.1
         01:D9BC  20 3A E8   			call	_spr_pattern.1
14135                        	
14136                        		.dbg	line,	"include\routines_LEVELS.c", 2797; }
14137                        	
14138                        		.dbg	line,	"include\routines_LEVELS.c", 2799; else if(player_counter_anim == 5)
14139                        		__bra		.LL700
         01:D9BF  4C 50 DA   			bra	.LL700
14140    01:D9C2             	.LL699:
14141                        		__ld.umq	_player_counter_anim
         01:D9C2  AD 1C 23   			lda	_player_counter_anim
14142                        		__equ_b.uiq	5
         01:D9C5  C9 05      			cmp	#5
         01:D9C7  F0 01      			beq	!+
         01:D9C9  18         			clc
         01:D9CA             	!:
14143                        		__bfalse	.LL701
         01:D9CA  90 0E      			bcc	.LL701
14144                        	
14145                        		.dbg	line,	"include\routines_LEVELS.c", 2800; {
14146                        	
14147                        		.dbg	line,	"include\routines_LEVELS.c", 2801; spr_set(player_id);
14148                        		__ld.umq	_player_id
         01:D9CC  AD 18 23   			lda	_player_id
14149                        		__call		_spr_set.1
         01:D9CF  20 F1 E7   			call	_spr_set.1
14150                        	
14151                        		.dbg	line,	"include\routines_LEVELS.c", 2802; spr_pattern(PLAYER_CLIMB_3_VRAM_ADR); 
14152                        		__ld.wi		8192
         01:D9D2  62         			cla
         01:D9D3  A0 20      			ldy.h	#8192
14153                        		__call		_spr_pattern.1
         01:D9D5  20 3A E8   			call	_spr_pattern.1
14154                        	
14155                        		.dbg	line,	"include\routines_LEVELS.c", 2803; }
14156                        	
14157                        		.dbg	line,	"include\routines_LEVELS.c", 2805; else if(player_counter_anim == 8)
14158                        		__bra		.LL702
         01:D9D8  80 76      			bra	.LL702
14159    01:D9DA             	.LL701:
14160                        		__ld.umq	_player_counter_anim
         01:D9DA  AD 1C 23   			lda	_player_counter_anim
14161                        		__equ_b.uiq	8
         01:D9DD  C9 08      			cmp	#8
         01:D9DF  F0 01      			beq	!+
         01:D9E1  18         			clc
         01:D9E2             	!:
14162                        		__bfalse	.LL703
         01:D9E2  90 0E      			bcc	.LL703
14163                        	
14164                        		.dbg	line,	"include\routines_LEVELS.c", 2806; {
14165                        	
14166                        		.dbg	line,	"include\routines_LEVELS.c", 2807; spr_set(player_id);
14167                        		__ld.umq	_player_id
         01:D9E4  AD 18 23   			lda	_player_id
14168                        		__call		_spr_set.1
         01:D9E7  20 F1 E7   			call	_spr_set.1
14169                        	
14170                        		.dbg	line,	"include\routines_LEVELS.c", 2808; spr_pattern(PLAYER_CLIMB_4_VRAM_ADR); 
14171                        		__ld.wi		8448
         01:D9EA  62         			cla
         01:D9EB  A0 21      			ldy.h	#8448
14172                        		__call		_spr_pattern.1
         01:D9ED  20 3A E8   			call	_spr_pattern.1
14173                        	
14174                        		.dbg	line,	"include\routines_LEVELS.c", 2809; }
14175                        	
14176                        		.dbg	line,	"include\routines_LEVELS.c", 2811; else if(player_counter_anim == 11)
14177                        		__bra		.LL704
         01:D9F0  80 5E      			bra	.LL704
14178    01:D9F2             	.LL703:
14179                        		__ld.umq	_player_counter_anim
         01:D9F2  AD 1C 23   			lda	_player_counter_anim
14180                        		__equ_b.uiq	11
         01:D9F5  C9 0B      			cmp	#11
         01:D9F7  F0 01      			beq	!+
         01:D9F9  18         			clc
         01:D9FA             	!:
14181                        		__bfalse	.LL705
         01:D9FA  90 0E      			bcc	.LL705
14182                        	
14183                        		.dbg	line,	"include\routines_LEVELS.c", 2812; {
14184                        	
14185                        		.dbg	line,	"include\routines_LEVELS.c", 2813; spr_set(player_id);
14186                        		__ld.umq	_player_id
         01:D9FC  AD 18 23   			lda	_player_id
14187                        		__call		_spr_set.1
         01:D9FF  20 F1 E7   			call	_spr_set.1
14188                        	
14189                        		.dbg	line,	"include\routines_LEVELS.c", 2814; spr_pattern(PLAYER_CLIMB_5_VRAM_ADR); 
14190                        		__ld.wi		8704
         01:DA02  62         			cla
         01:DA03  A0 22      			ldy.h	#8704
14191                        		__call		_spr_pattern.1
         01:DA05  20 3A E8   			call	_spr_pattern.1
14192                        	
14193                        		.dbg	line,	"include\routines_LEVELS.c", 2815; }
14194                        	
14195                        		.dbg	line,	"include\routines_LEVELS.c", 2817; else if(player_counter_anim == 14)
14196                        		__bra		.LL706
         01:DA08  80 46      			bra	.LL706
14197    01:DA0A             	.LL705:
14198                        		__ld.umq	_player_counter_anim
         01:DA0A  AD 1C 23   			lda	_player_counter_anim
14199                        		__equ_b.uiq	14
         01:DA0D  C9 0E      			cmp	#14
         01:DA0F  F0 01      			beq	!+
         01:DA11  18         			clc
         01:DA12             	!:
14200                        		__bfalse	.LL707
         01:DA12  90 0E      			bcc	.LL707
14201                        	
14202                        		.dbg	line,	"include\routines_LEVELS.c", 2818; {
14203                        	
14204                        		.dbg	line,	"include\routines_LEVELS.c", 2819; spr_set(player_id);
14205                        		__ld.umq	_player_id
         01:DA14  AD 18 23   			lda	_player_id
14206                        		__call		_spr_set.1
         01:DA17  20 F1 E7   			call	_spr_set.1
14207                        	
14208                        		.dbg	line,	"include\routines_LEVELS.c", 2820; spr_pattern(PLAYER_CLIMB_6_VRAM_ADR); 
14209                        		__ld.wi		8960
         01:DA1A  62         			cla
         01:DA1B  A0 23      			ldy.h	#8960
14210                        		__call		_spr_pattern.1
         01:DA1D  20 3A E8   			call	_spr_pattern.1
14211                        	
14212                        		.dbg	line,	"include\routines_LEVELS.c", 2821; }
14213                        	
14214                        		.dbg	line,	"include\routines_LEVELS.c", 2823; else if(player_counter_anim == 17)
14215                        		__bra		.LL708
         01:DA20  80 2E      			bra	.LL708
14216    01:DA22             	.LL707:
14217                        		__ld.umq	_player_counter_anim
         01:DA22  AD 1C 23   			lda	_player_counter_anim
14218                        		__equ_b.uiq	17
         01:DA25  C9 11      			cmp	#17
         01:DA27  F0 01      			beq	!+
         01:DA29  18         			clc
         01:DA2A             	!:
14219                        		__bfalse	.LL709
         01:DA2A  90 0E      			bcc	.LL709
14220                        	
14221                        		.dbg	line,	"include\routines_LEVELS.c", 2824; {
14222                        	
14223                        		.dbg	line,	"include\routines_LEVELS.c", 2825; spr_set(player_id);
14224                        		__ld.umq	_player_id
         01:DA2C  AD 18 23   			lda	_player_id
14225                        		__call		_spr_set.1
         01:DA2F  20 F1 E7   			call	_spr_set.1
14226                        	
14227                        		.dbg	line,	"include\routines_LEVELS.c", 2826; spr_pattern(PLAYER_CLIMB_3_VRAM_ADR); 
14228                        		__ld.wi		8192
         01:DA32  62         			cla
         01:DA33  A0 20      			ldy.h	#8192
14229                        		__call		_spr_pattern.1
         01:DA35  20 3A E8   			call	_spr_pattern.1
14230                        	
14231                        		.dbg	line,	"include\routines_LEVELS.c", 2827; }
14232                        	
14233                        		.dbg	line,	"include\routines_LEVELS.c", 2829; else if(player_counter_anim == 20)
14234                        		__bra		.LL710
         01:DA38  80 16      			bra	.LL710
14235    01:DA3A             	.LL709:
14236                        		__ld.umq	_player_counter_anim
         01:DA3A  AD 1C 23   			lda	_player_counter_anim
14237                        		__equ_b.uiq	20
         01:DA3D  C9 14      			cmp	#20
         01:DA3F  F0 01      			beq	!+
         01:DA41  18         			clc
         01:DA42             	!:
14238                        		__bfalse	.LL711
         01:DA42  90 0C      			bcc	.LL711
14239                        	
14240                        		.dbg	line,	"include\routines_LEVELS.c", 2830; {
14241                        	
14242                        		.dbg	line,	"include\routines_LEVELS.c", 2831; spr_set(player_id);
14243                        		__ld.umq	_player_id
         01:DA44  AD 18 23   			lda	_player_id
14244                        		__call		_spr_set.1
         01:DA47  20 F1 E7   			call	_spr_set.1
14245                        	
14246                        		.dbg	line,	"include\routines_LEVELS.c", 2832; spr_pattern(PLAYER_CLIMB_2_VRAM_ADR); 
14247                        		__ld.wi		7936
         01:DA4A  62         			cla
         01:DA4B  A0 1F      			ldy.h	#7936
14248                        		__call		_spr_pattern.1
         01:DA4D  20 3A E8   			call	_spr_pattern.1
14249                        	
14250                        		.dbg	line,	"include\routines_LEVELS.c", 2833; }
14251                        	
14252                        		.dbg	line,	"include\routines_LEVELS.c", 2836; player_counter_anim += 1;
14253    01:DA50             	.LL711:
14254    01:DA50             	.LL710:
14255    01:DA50             	.LL708:
14256    01:DA50             	.LL706:
14257    01:DA50             	.LL704:
14258    01:DA50             	.LL702:
14259    01:DA50             	.LL700:
14260    01:DA50             	.LL698:
14261                        		__add_st.umiq	1, _player_counter_anim
         01:DA50  EE 1C 23   			inc	_player_counter_anim
14262                        	
14263                        		.dbg	line,	"include\routines_LEVELS.c", 2838; if(player_counter_anim == 22)
14264                        		__ld.umq	_player_counter_anim
         01:DA53  AD 1C 23   			lda	_player_counter_anim
14265                        		__equ_b.uiq	22
         01:DA56  C9 16      			cmp	#22
         01:DA58  F0 01      			beq	!+
         01:DA5A  18         			clc
         01:DA5B             	!:
14266                        		__bfalse	.LL712
         01:DA5B  90 03      			bcc	.LL712
14267                        	
14268                        		.dbg	line,	"include\routines_LEVELS.c", 2839; {
14269                        	
14270                        		.dbg	line,	"include\routines_LEVELS.c", 2840; player_counter_anim = 0;
14271                        		__st.umiq	0, _player_counter_anim
         01:DA5D  9C 1C 23   			stz	_player_counter_anim
14272                        	
14273                        		.dbg	line,	"include\routines_LEVELS.c", 2841; }
14274                        	
14275                        		.dbg	line,	"include\routines_LEVELS.c", 2843; recenter_CAMERA();
14276    01:DA60             	.LL712:
14277                        		__call		_recenter_CAMERA
         01:DA60  20 27 FF   			call	_recenter_CAMERA
14278                        	
14279                        		.dbg	line,	"include\routines_LEVELS.c", 2844; }
14280                        	
14281                        		.dbg	line,	"include\routines_LEVELS.c", 2847; else if(player_state == STATE_CLIMB_DOWN)
14282                        		__bra		.LL713
         01:DA63  4C DA DC   			bra	.LL713
14283    01:DA66             	.LL696:
14284                        		__ld.umq	_player_state
         01:DA66  AD 19 23   			lda	_player_state
14285                        		__equ_b.uiq	12
         01:DA69  C9 0C      			cmp	#12
         01:DA6B  F0 01      			beq	!+
         01:DA6D  18         			clc
         01:DA6E             	!:
14286                        		__bfalse	.LL714
         01:DA6E  B0 03 4C 48			bcc	.LL714
         01:DA72  DB          
14287                        	
14288                        		.dbg	line,	"include\routines_LEVELS.c", 2848; {
14289                        	
14290                        		.dbg	line,	"include\routines_LEVELS.c", 2849; if(player_counter_anim == 0)
14291                        		__not.um	_player_counter_anim
         01:DA73  AD 1C 23   			lda	_player_counter_anim
         01:DA76  18         			clc
         01:DA77  D0 01      			bne	!+
         01:DA79  38         			sec
         01:DA7A             	!:
14292                        		__bfalse	.LL715
         01:DA7A  90 0F      			bcc	.LL715
14293                        	
14294                        		.dbg	line,	"include\routines_LEVELS.c", 2850; {
14295                        	
14296                        		.dbg	line,	"include\routines_LEVELS.c", 2851; spr_set(player_id);
14297                        		__ld.umq	_player_id
         01:DA7C  AD 18 23   			lda	_player_id
14298                        		__call		_spr_set.1
         01:DA7F  20 F1 E7   			call	_spr_set.1
14299                        	
14300                        		.dbg	line,	"include\routines_LEVELS.c", 2852; spr_pattern(PLAYER_CLIMB_1_VRAM_ADR); 
14301                        		__ld.wi		7680
         01:DA82  62         			cla
         01:DA83  A0 1E      			ldy.h	#7680
14302                        		__call		_spr_pattern.1
         01:DA85  20 3A E8   			call	_spr_pattern.1
14303                        	
14304                        		.dbg	line,	"include\routines_LEVELS.c", 2853; }
14305                        	
14306                        		.dbg	line,	"include\routines_LEVELS.c", 2855; else if(player_counter_anim == 2)
14307                        		__bra		.LL716
         01:DA88  4C 32 DB   			bra	.LL716
14308    01:DA8B             	.LL715:
14309                        		__ld.umq	_player_counter_anim
         01:DA8B  AD 1C 23   			lda	_player_counter_anim
14310                        		__equ_b.uiq	2
         01:DA8E  C9 02      			cmp	#2
         01:DA90  F0 01      			beq	!+
         01:DA92  18         			clc
         01:DA93             	!:
14311                        		__bfalse	.LL717
         01:DA93  90 0F      			bcc	.LL717
14312                        	
14313                        		.dbg	line,	"include\routines_LEVELS.c", 2856; {
14314                        	
14315                        		.dbg	line,	"include\routines_LEVELS.c", 2857; spr_set(player_id);
14316                        		__ld.umq	_player_id
         01:DA95  AD 18 23   			lda	_player_id
14317                        		__call		_spr_set.1
         01:DA98  20 F1 E7   			call	_spr_set.1
14318                        	
14319                        		.dbg	line,	"include\routines_LEVELS.c", 2858; spr_pattern(PLAYER_CLIMB_2_VRAM_ADR); 
14320                        		__ld.wi		7936
         01:DA9B  62         			cla
         01:DA9C  A0 1F      			ldy.h	#7936
14321                        		__call		_spr_pattern.1
         01:DA9E  20 3A E8   			call	_spr_pattern.1
14322                        	
14323                        		.dbg	line,	"include\routines_LEVELS.c", 2859; }
14324                        	
14325                        		.dbg	line,	"include\routines_LEVELS.c", 2861; else if(player_counter_anim == 5)
14326                        		__bra		.LL718
         01:DAA1  4C 32 DB   			bra	.LL718
14327    01:DAA4             	.LL717:
14328                        		__ld.umq	_player_counter_anim
         01:DAA4  AD 1C 23   			lda	_player_counter_anim
14329                        		__equ_b.uiq	5
         01:DAA7  C9 05      			cmp	#5
         01:DAA9  F0 01      			beq	!+
         01:DAAB  18         			clc
         01:DAAC             	!:
14330                        		__bfalse	.LL719
         01:DAAC  90 0E      			bcc	.LL719
14331                        	
14332                        		.dbg	line,	"include\routines_LEVELS.c", 2862; {
14333                        	
14334                        		.dbg	line,	"include\routines_LEVELS.c", 2863; spr_set(player_id);
14335                        		__ld.umq	_player_id
         01:DAAE  AD 18 23   			lda	_player_id
14336                        		__call		_spr_set.1
         01:DAB1  20 F1 E7   			call	_spr_set.1
14337                        	
14338                        		.dbg	line,	"include\routines_LEVELS.c", 2864; spr_pattern(PLAYER_CLIMB_3_VRAM_ADR); 
14339                        		__ld.wi		8192
         01:DAB4  62         			cla
         01:DAB5  A0 20      			ldy.h	#8192
14340                        		__call		_spr_pattern.1
         01:DAB7  20 3A E8   			call	_spr_pattern.1
14341                        	
14342                        		.dbg	line,	"include\routines_LEVELS.c", 2865; }
14343                        	
14344                        		.dbg	line,	"include\routines_LEVELS.c", 2867; else if(player_counter_anim == 8)
14345                        		__bra		.LL720
         01:DABA  80 76      			bra	.LL720
14346    01:DABC             	.LL719:
14347                        		__ld.umq	_player_counter_anim
         01:DABC  AD 1C 23   			lda	_player_counter_anim
14348                        		__equ_b.uiq	8
         01:DABF  C9 08      			cmp	#8
         01:DAC1  F0 01      			beq	!+
         01:DAC3  18         			clc
         01:DAC4             	!:
14349                        		__bfalse	.LL721
         01:DAC4  90 0E      			bcc	.LL721
14350                        	
14351                        		.dbg	line,	"include\routines_LEVELS.c", 2868; {
14352                        	
14353                        		.dbg	line,	"include\routines_LEVELS.c", 2869; spr_set(player_id);
14354                        		__ld.umq	_player_id
         01:DAC6  AD 18 23   			lda	_player_id
14355                        		__call		_spr_set.1
         01:DAC9  20 F1 E7   			call	_spr_set.1
14356                        	
14357                        		.dbg	line,	"include\routines_LEVELS.c", 2870; spr_pattern(PLAYER_CLIMB_4_VRAM_ADR); 
14358                        		__ld.wi		8448
         01:DACC  62         			cla
         01:DACD  A0 21      			ldy.h	#8448
14359                        		__call		_spr_pattern.1
         01:DACF  20 3A E8   			call	_spr_pattern.1
14360                        	
14361                        		.dbg	line,	"include\routines_LEVELS.c", 2871; }
14362                        	
14363                        		.dbg	line,	"include\routines_LEVELS.c", 2873; else if(player_counter_anim == 11)
14364                        		__bra		.LL722
         01:DAD2  80 5E      			bra	.LL722
14365    01:DAD4             	.LL721:
14366                        		__ld.umq	_player_counter_anim
         01:DAD4  AD 1C 23   			lda	_player_counter_anim
14367                        		__equ_b.uiq	11
         01:DAD7  C9 0B      			cmp	#11
         01:DAD9  F0 01      			beq	!+
         01:DADB  18         			clc
         01:DADC             	!:
14368                        		__bfalse	.LL723
         01:DADC  90 0E      			bcc	.LL723
14369                        	
14370                        		.dbg	line,	"include\routines_LEVELS.c", 2874; {
14371                        	
14372                        		.dbg	line,	"include\routines_LEVELS.c", 2875; spr_set(player_id);
14373                        		__ld.umq	_player_id
         01:DADE  AD 18 23   			lda	_player_id
14374                        		__call		_spr_set.1
         01:DAE1  20 F1 E7   			call	_spr_set.1
14375                        	
14376                        		.dbg	line,	"include\routines_LEVELS.c", 2876; spr_pattern(PLAYER_CLIMB_5_VRAM_ADR); 
14377                        		__ld.wi		8704
         01:DAE4  62         			cla
         01:DAE5  A0 22      			ldy.h	#8704
14378                        		__call		_spr_pattern.1
         01:DAE7  20 3A E8   			call	_spr_pattern.1
14379                        	
14380                        		.dbg	line,	"include\routines_LEVELS.c", 2877; }
14381                        	
14382                        		.dbg	line,	"include\routines_LEVELS.c", 2879; else if(player_counter_anim == 14)
14383                        		__bra		.LL724
         01:DAEA  80 46      			bra	.LL724
14384    01:DAEC             	.LL723:
14385                        		__ld.umq	_player_counter_anim
         01:DAEC  AD 1C 23   			lda	_player_counter_anim
14386                        		__equ_b.uiq	14
         01:DAEF  C9 0E      			cmp	#14
         01:DAF1  F0 01      			beq	!+
         01:DAF3  18         			clc
         01:DAF4             	!:
14387                        		__bfalse	.LL725
         01:DAF4  90 0E      			bcc	.LL725
14388                        	
14389                        		.dbg	line,	"include\routines_LEVELS.c", 2880; {
14390                        	
14391                        		.dbg	line,	"include\routines_LEVELS.c", 2881; spr_set(player_id);
14392                        		__ld.umq	_player_id
         01:DAF6  AD 18 23   			lda	_player_id
14393                        		__call		_spr_set.1
         01:DAF9  20 F1 E7   			call	_spr_set.1
14394                        	
14395                        		.dbg	line,	"include\routines_LEVELS.c", 2882; spr_pattern(PLAYER_CLIMB_4_VRAM_ADR); 
14396                        		__ld.wi		8448
         01:DAFC  62         			cla
         01:DAFD  A0 21      			ldy.h	#8448
14397                        		__call		_spr_pattern.1
         01:DAFF  20 3A E8   			call	_spr_pattern.1
14398                        	
14399                        		.dbg	line,	"include\routines_LEVELS.c", 2883; }
14400                        	
14401                        		.dbg	line,	"include\routines_LEVELS.c", 2885; else if(player_counter_anim == 17)
14402                        		__bra		.LL726
         01:DB02  80 2E      			bra	.LL726
14403    01:DB04             	.LL725:
14404                        		__ld.umq	_player_counter_anim
         01:DB04  AD 1C 23   			lda	_player_counter_anim
14405                        		__equ_b.uiq	17
         01:DB07  C9 11      			cmp	#17
         01:DB09  F0 01      			beq	!+
         01:DB0B  18         			clc
         01:DB0C             	!:
14406                        		__bfalse	.LL727
         01:DB0C  90 0E      			bcc	.LL727
14407                        	
14408                        		.dbg	line,	"include\routines_LEVELS.c", 2886; {
14409                        	
14410                        		.dbg	line,	"include\routines_LEVELS.c", 2887; spr_set(player_id);
14411                        		__ld.umq	_player_id
         01:DB0E  AD 18 23   			lda	_player_id
14412                        		__call		_spr_set.1
         01:DB11  20 F1 E7   			call	_spr_set.1
14413                        	
14414                        		.dbg	line,	"include\routines_LEVELS.c", 2888; spr_pattern(PLAYER_CLIMB_3_VRAM_ADR); 
14415                        		__ld.wi		8192
         01:DB14  62         			cla
         01:DB15  A0 20      			ldy.h	#8192
14416                        		__call		_spr_pattern.1
         01:DB17  20 3A E8   			call	_spr_pattern.1
14417                        	
14418                        		.dbg	line,	"include\routines_LEVELS.c", 2889; }
14419                        	
14420                        		.dbg	line,	"include\routines_LEVELS.c", 2891; else if(player_counter_anim == 20)
14421                        		__bra		.LL728
         01:DB1A  80 16      			bra	.LL728
14422    01:DB1C             	.LL727:
14423                        		__ld.umq	_player_counter_anim
         01:DB1C  AD 1C 23   			lda	_player_counter_anim
14424                        		__equ_b.uiq	20
         01:DB1F  C9 14      			cmp	#20
         01:DB21  F0 01      			beq	!+
         01:DB23  18         			clc
         01:DB24             	!:
14425                        		__bfalse	.LL729
         01:DB24  90 0C      			bcc	.LL729
14426                        	
14427                        		.dbg	line,	"include\routines_LEVELS.c", 2892; {
14428                        	
14429                        		.dbg	line,	"include\routines_LEVELS.c", 2893; spr_set(player_id);
14430                        		__ld.umq	_player_id
         01:DB26  AD 18 23   			lda	_player_id
14431                        		__call		_spr_set.1
         01:DB29  20 F1 E7   			call	_spr_set.1
14432                        	
14433                        		.dbg	line,	"include\routines_LEVELS.c", 2894; spr_pattern(PLAYER_CLIMB_2_VRAM_ADR); 
14434                        		__ld.wi		7936
         01:DB2C  62         			cla
         01:DB2D  A0 1F      			ldy.h	#7936
14435                        		__call		_spr_pattern.1
         01:DB2F  20 3A E8   			call	_spr_pattern.1
14436                        	
14437                        		.dbg	line,	"include\routines_LEVELS.c", 2895; }
14438                        	
14439                        		.dbg	line,	"include\routines_LEVELS.c", 2898; player_counter_anim += 1;
14440    01:DB32             	.LL729:
14441    01:DB32             	.LL728:
14442    01:DB32             	.LL726:
14443    01:DB32             	.LL724:
14444    01:DB32             	.LL722:
14445    01:DB32             	.LL720:
14446    01:DB32             	.LL718:
14447    01:DB32             	.LL716:
14448                        		__add_st.umiq	1, _player_counter_anim
         01:DB32  EE 1C 23   			inc	_player_counter_anim
14449                        	
14450                        		.dbg	line,	"include\routines_LEVELS.c", 2900; if(player_counter_anim == 22)
14451                        		__ld.umq	_player_counter_anim
         01:DB35  AD 1C 23   			lda	_player_counter_anim
14452                        		__equ_b.uiq	22
         01:DB38  C9 16      			cmp	#22
         01:DB3A  F0 01      			beq	!+
         01:DB3C  18         			clc
         01:DB3D             	!:
14453                        		__bfalse	.LL730
         01:DB3D  90 03      			bcc	.LL730
14454                        	
14455                        		.dbg	line,	"include\routines_LEVELS.c", 2901; {
14456                        	
14457                        		.dbg	line,	"include\routines_LEVELS.c", 2902; player_counter_anim = 0;
14458                        		__st.umiq	0, _player_counter_anim
         01:DB3F  9C 1C 23   			stz	_player_counter_anim
14459                        	
14460                        		.dbg	line,	"include\routines_LEVELS.c", 2903; }
14461                        	
14462                        		.dbg	line,	"include\routines_LEVELS.c", 2905; recenter_CAMERA();
14463    01:DB42             	.LL730:
14464                        		__call		_recenter_CAMERA
         01:DB42  20 27 FF   			call	_recenter_CAMERA
14465                        	
14466                        		.dbg	line,	"include\routines_LEVELS.c", 2906; }
14467                        	
14468                        		.dbg	line,	"include\routines_LEVELS.c", 2909; else if(player_state == STATE_JUMP_LADDER)
14469                        		__bra		.LL731
         01:DB45  4C DA DC   			bra	.LL731
14470    01:DB48             	.LL714:
14471                        		__ld.umq	_player_state
         01:DB48  AD 19 23   			lda	_player_state
14472                        		__equ_b.uiq	13
         01:DB4B  C9 0D      			cmp	#13
         01:DB4D  F0 01      			beq	!+
         01:DB4F  18         			clc
         01:DB50             	!:
14473                        		__bfalse	.LL732
         01:DB50  B0 03 4C DA			bcc	.LL732
         01:DB54  DC          
14474                        	
14475                        		.dbg	line,	"include\routines_LEVELS.c", 2910; {
14476                        	
14477                        		.dbg	line,	"include\routines_LEVELS.c", 2911; unsigned char i;
14478                        	
14479                        		.dbg	line,	"include\routines_LEVELS.c", 2912; i = 1;
14480                        		__st.umiq	1, __update_PLAYER_end - 8  /* i */
         01:DB55  A9 01      			lda.l	#1
         01:DB57  8D 05 23   			sta	__update_PLAYER_end - 8
14481                        	
14482                        		.dbg	line,	"include\routines_LEVELS.c", 2915; if(player_counter_anim == 0)
14483                        		__not.um	_player_counter_anim
         01:DB5A  AD 1C 23   			lda	_player_counter_anim
         01:DB5D  18         			clc
         01:DB5E  D0 01      			bne	!+
         01:DB60  38         			sec
         01:DB61             	!:
14484                        		__bfalse	.LL733
         01:DB61  90 11      			bcc	.LL733
14485                        	
14486                        		.dbg	line,	"include\routines_LEVELS.c", 2916; {
14487                        	
14488                        		.dbg	line,	"include\routines_LEVELS.c", 2917; spr_set(player_id);
14489                        		__ld.umq	_player_id
         01:DB63  AD 18 23   			lda	_player_id
14490                        		__call		_spr_set.1
         01:DB66  20 F1 E7   			call	_spr_set.1
14491                        	
14492                        		.dbg	line,	"include\routines_LEVELS.c", 2918; spr_pattern(PLAYER_JUMP_VRAM_ADR); 
14493                        		__ld.wi		6912
         01:DB69  62         			cla
         01:DB6A  A0 1B      			ldy.h	#6912
14494                        		__call		_spr_pattern.1
         01:DB6C  20 3A E8   			call	_spr_pattern.1
14495                        	
14496                        		.dbg	line,	"include\routines_LEVELS.c", 2920; player_counter_anim = 1;
14497                        		__st.umiq	1, _player_counter_anim
         01:DB6F  A9 01      			lda.l	#1
         01:DB71  8D 1C 23   			sta	_player_counter_anim
14498                        	
14499                        		.dbg	line,	"include\routines_LEVELS.c", 2921; }
14500                        	
14501                        		.dbg	line,	"include\routines_LEVELS.c", 2924; player_pos_y += TABLE_PLAYER_JUMP_V[player_index_jump];
14502    01:DB74             	.LL733:
14503                        		__ldx.umq	_player_index_jump
         01:DB74  AE 1D 23   			ldx	_player_index_jump
14504                        		__ld.bax	_TABLE_PLAYER_JUMP_V
         01:DB77  BD 87 62   			lda	_TABLE_PLAYER_JUMP_V, x
         01:DB7A  C2         			cly
         01:DB7B  10 01      			bpl	!+
         01:DB7D  88         			dey
         01:DB7E             	!:
14505                        		__add_st.wmq	_player_pos_y
         01:DB7E  18         			clc
         01:DB7F  6D F8 24   			adc.l	_player_pos_y
         01:DB82  8D F8 24   			sta.l	_player_pos_y
         01:DB85  98         			tya
         01:DB86  6D F9 24   			adc.h	_player_pos_y
         01:DB89  8D F9 24   			sta.h	_player_pos_y
14506                        	
14507                        		.dbg	line,	"include\routines_LEVELS.c", 2926; // CHECK COLLISION WITH CEILING //
14508                        	
14509                        		.dbg	line,	"include\routines_LEVELS.c", 2927; collision_PLAYER_BG( 15 , 8 );
14510                        		__ld.wi		15
         01:DB8C  A9 0F      			lda.l	#15
         01:DB8E  C2         			cly
14511                        		__pusharg.wr
         01:DB8F  A6 8D      			ldx	<__sp
         01:DB91  CA         			dex
         01:DB92  CA         			dex
         01:DB93  95 08      			sta.l	<__stack, x
         01:DB95  94 09      			sty.h	<__stack, x
         01:DB97  86 8D      			stx	<__sp
14512                        		__ld.wi		8
         01:DB99  A9 08      			lda.l	#8
         01:DB9B  C2         			cly
14513                        		__pusharg.wr
         01:DB9C  A6 8D      			ldx	<__sp
         01:DB9E  CA         			dex
         01:DB9F  CA         			dex
         01:DBA0  95 08      			sta.l	<__stack, x
         01:DBA2  94 09      			sty.h	<__stack, x
         01:DBA4  86 8D      			stx	<__sp
14514                        		__call		_collision_PLAYER_BG
         01:DBA6  20 31 FF   			call	_collision_PLAYER_BG
14515                        	
14516                        		.dbg	line,	"include\routines_LEVELS.c", 2929; if(map_blk_flag == TILE_BG)
14517                        		__ld.umq	_map_blk_flag
         01:DBA9  AD FA 2B   			lda	_map_blk_flag
14518                        		__equ_b.uiq	1
         01:DBAC  C9 01      			cmp	#1
         01:DBAE  F0 01      			beq	!+
         01:DBB0  18         			clc
         01:DBB1             	!:
14519                        		__bfalse	.LL734
         01:DBB1  90 5A      			bcc	.LL734
14520                        	
14521                        		.dbg	line,	"include\routines_LEVELS.c", 2930; {
14522                        	
14523                        		.dbg	line,	"include\routines_LEVELS.c", 2931; for(i=1 ; i<8 ; i++)
14524                        		__st.umiq	1, __update_PLAYER_end - 8  /* i */
         01:DBB3  A9 01      			lda.l	#1
         01:DBB5  8D 05 23   			sta	__update_PLAYER_end - 8
14525    01:DBB8             	.LL735:
14526                        		__ld.umq	__update_PLAYER_end - 8  /* i */
         01:DBB8  AD 05 23   			lda	__update_PLAYER_end - 8
14527                        		__ult_b.uiq	8
         01:DBBB  C9 08      			cmp	#8		; Subtract integer from A.
         01:DBBD  6A         			ror	a		; CC if A < integer.
         01:DBBE  49 80      			eor	#$80
         01:DBC0  2A         			rol	a
14528                        		__btrue		.LL737
         01:DBC1  B0 07      			bcs	.LL737
14529                        		__bra		.LL738
         01:DBC3  80 48      			bra	.LL738
14530    01:DBC5             	.LL736:
14531                        		__inc.umq	__update_PLAYER_end - 8  /* i */
         01:DBC5  EE 05 23   			inc	__update_PLAYER_end - 8
14532                        		__bra		.LL735
         01:DBC8  80 EE      			bra	.LL735
14533    01:DBCA             	.LL737:
14534                        	
14535                        		.dbg	line,	"include\routines_LEVELS.c", 2932; {
14536                        	
14537                        		.dbg	line,	"include\routines_LEVELS.c", 2933; collision_PLAYER_BG( 15 , 8 + i );
14538                        		__ld.wi		15
         01:DBCA  A9 0F      			lda.l	#15
         01:DBCC  C2         			cly
14539                        		__pusharg.wr
         01:DBCD  A6 8D      			ldx	<__sp
         01:DBCF  CA         			dex
         01:DBD0  CA         			dex
         01:DBD1  95 08      			sta.l	<__stack, x
         01:DBD3  94 09      			sty.h	<__stack, x
         01:DBD5  86 8D      			stx	<__sp
14540                        		__ld.wi		8
         01:DBD7  A9 08      			lda.l	#8
         01:DBD9  C2         			cly
14541                        		__add.um	__update_PLAYER_end - 8  /* i */
         01:DBDA  18         			clc
         01:DBDB  6D 05 23   			adc	__update_PLAYER_end - 8
         01:DBDE  90 01      			bcc	!+
         01:DBE0  C8         			iny
         01:DBE1             	!:
14542                        		__pusharg.wr
         01:DBE1  A6 8D      			ldx	<__sp
         01:DBE3  CA         			dex
         01:DBE4  CA         			dex
         01:DBE5  95 08      			sta.l	<__stack, x
         01:DBE7  94 09      			sty.h	<__stack, x
         01:DBE9  86 8D      			stx	<__sp
14543                        		__call		_collision_PLAYER_BG
         01:DBEB  20 31 FF   			call	_collision_PLAYER_BG
14544                        	
14545                        		.dbg	line,	"include\routines_LEVELS.c", 2934; {
14546                        	
14547                        		.dbg	line,	"include\routines_LEVELS.c", 2935; if(map_blk_flag == TILE_EMPTY)
14548                        		__not.um	_map_blk_flag
         01:DBEE  AD FA 2B   			lda	_map_blk_flag
         01:DBF1  18         			clc
         01:DBF2  D0 01      			bne	!+
         01:DBF4  38         			sec
         01:DBF5             	!:
14549                        		__bfalse	.LL739
         01:DBF5  90 CE      			bcc	.LL739
14550                        	
14551                        		.dbg	line,	"include\routines_LEVELS.c", 2936; {
14552                        	
14553                        		.dbg	line,	"include\routines_LEVELS.c", 2937; player_pos_y += i;
14554                        		__ld.um		__update_PLAYER_end - 8  /* i */
         01:DBF7  AD 05 23   			lda	__update_PLAYER_end - 8
         01:DBFA  C2         			cly
14555                        		__add_st.wmq	_player_pos_y
         01:DBFB  18         			clc
         01:DBFC  6D F8 24   			adc.l	_player_pos_y
         01:DBFF  8D F8 24   			sta.l	_player_pos_y
         01:DC02  98         			tya
         01:DC03  6D F9 24   			adc.h	_player_pos_y
         01:DC06  8D F9 24   			sta.h	_player_pos_y
14556                        	
14557                        		.dbg	line,	"include\routines_LEVELS.c", 2938; break;
14558                        		__bra		.LL738
         01:DC09  80 02      			bra	.LL738
14559                        	
14560                        		.dbg	line,	"include\routines_LEVELS.c", 2939; }
14561                        	
14562                        		.dbg	line,	"include\routines_LEVELS.c", 2940; }
14563    01:DC0B             	.LL739	.alias		.LL736
14564                        	
14565                        		.dbg	line,	"include\routines_LEVELS.c", 2941; }
14566                        		__bra		.LL736
         01:DC0B  80 B8      			bra	.LL736
14567    01:DC0D             	.LL738:
14568                        	
14569                        		.dbg	line,	"include\routines_LEVELS.c", 2942; }
14570                        	
14571                        		.dbg	line,	"include\routines_LEVELS.c", 2944; spr_set(player_id);
14572    01:DC0D             	.LL734:
14573                        		__ld.umq	_player_id
         01:DC0D  AD 18 23   			lda	_player_id
14574                        		__call		_spr_set.1
         01:DC10  20 F1 E7   			call	_spr_set.1
14575                        	
14576                        		.dbg	line,	"include\routines_LEVELS.c", 2945; spr_y(player_pos_y);
14577                        		__ld.wm		_player_pos_y
         01:DC13  AD F8 24   			lda.l	_player_pos_y
         01:DC16  AC F9 24   			ldy.h	_player_pos_y
14578                        		__call		_spr_y.1
         01:DC19  20 2D E8   			call	_spr_y.1
14579                        	
14580                        		.dbg	line,	"include\routines_LEVELS.c", 2949; if(player_index_jump < 34)
14581                        		__ld.umq	_player_index_jump
         01:DC1C  AD 1D 23   			lda	_player_index_jump
14582                        		__ult_b.uiq	34
         01:DC1F  C9 22      			cmp	#34		; Subtract integer from A.
         01:DC21  6A         			ror	a		; CC if A < integer.
         01:DC22  49 80      			eor	#$80
         01:DC24  2A         			rol	a
14583                        		__bfalse	.LL740
         01:DC25  90 03      			bcc	.LL740
14584                        	
14585                        		.dbg	line,	"include\routines_LEVELS.c", 2950; {
14586                        	
14587                        		.dbg	line,	"include\routines_LEVELS.c", 2951; player_index_jump += 1;
14588                        		__add_st.umiq	1, _player_index_jump
         01:DC27  EE 1D 23   			inc	_player_index_jump
14589                        	
14590                        		.dbg	line,	"include\routines_LEVELS.c", 2952; }
14591                        	
14592                        		.dbg	line,	"include\routines_LEVELS.c", 2957; //--------------------------------------------------------------------------------------//
14593                        	
14594                        		.dbg	line,	"include\routines_LEVELS.c", 2958; //                                   LADDER COLLISION                                   //
14595                        	
14596                        		.dbg	line,	"include\routines_LEVELS.c", 2959; //--------------------------------------------------------------------------------------//
14597                        	
14598                        		.dbg	line,	"include\routines_LEVELS.c", 2961; if(player_index_jump > 18)
14599    01:DC2A             	.LL740:
14600                        		__ld.umq	_player_index_jump
         01:DC2A  AD 1D 23   			lda	_player_index_jump
14601                        		__ugt_b.uiq	18
         01:DC2D  18         			clc			; Subtract integer+1 from A.
         01:DC2E  E9 12      			sbc	#18		; CS if A > integer.
14602                        		__bfalse	.LL741
         01:DC30  B0 03 4C C5			bcc	.LL741
         01:DC34  DC          
14603                        	
14604                        		.dbg	line,	"include\routines_LEVELS.c", 2962; {
14605                        	
14606                        		.dbg	line,	"include\routines_LEVELS.c", 2963; // CHECK COLLISION WITH LADDERS //
14607                        	
14608                        		.dbg	line,	"include\routines_LEVELS.c", 2964; collision_PLAYER_BG( 16 , 8 );
14609                        		__ld.wi		16
         01:DC35  A9 10      			lda.l	#16
         01:DC37  C2         			cly
14610                        		__pusharg.wr
         01:DC38  A6 8D      			ldx	<__sp
         01:DC3A  CA         			dex
         01:DC3B  CA         			dex
         01:DC3C  95 08      			sta.l	<__stack, x
         01:DC3E  94 09      			sty.h	<__stack, x
         01:DC40  86 8D      			stx	<__sp
14611                        		__ld.wi		8
         01:DC42  A9 08      			lda.l	#8
         01:DC44  C2         			cly
14612                        		__pusharg.wr
         01:DC45  A6 8D      			ldx	<__sp
         01:DC47  CA         			dex
         01:DC48  CA         			dex
         01:DC49  95 08      			sta.l	<__stack, x
         01:DC4B  94 09      			sty.h	<__stack, x
         01:DC4D  86 8D      			stx	<__sp
14613                        		__call		_collision_PLAYER_BG
         01:DC4F  20 31 FF   			call	_collision_PLAYER_BG
14614                        	
14615                        		.dbg	line,	"include\routines_LEVELS.c", 2966; // IF PLAYER HITS THE LADDER //
14616                        	
14617                        		.dbg	line,	"include\routines_LEVELS.c", 2967; if(map_blk_flag == TILE_LADDER)
14618                        		__ld.umq	_map_blk_flag
         01:DC52  AD FA 2B   			lda	_map_blk_flag
14619                        		__equ_b.uiq	2
         01:DC55  C9 02      			cmp	#2
         01:DC57  F0 01      			beq	!+
         01:DC59  18         			clc
         01:DC5A             	!:
14620                        		__bfalse	.LL742
         01:DC5A  90 69      			bcc	.LL742
14621                        	
14622                        		.dbg	line,	"include\routines_LEVELS.c", 2968; {
14623                        	
14624                        		.dbg	line,	"include\routines_LEVELS.c", 2969; // CAMERA GOES 8 PX BACKWARD //
14625                        	
14626                        		.dbg	line,	"include\routines_LEVELS.c", 2970; sgx_map_pxl_x = ( (sgx_map_pxl_x >> 3) << 3 );
14627                        		__ld.wm		_sgx_map_pxl_x
         01:DC5C  AD D9 26   			lda.l	_sgx_map_pxl_x
         01:DC5F  AC DA 26   			ldy.h	_sgx_map_pxl_x
14628                        		__lsr.wi	3
         01:DC62  84 00      			sty	__temp
         01:DC64  20 3A E2   			jsr	lsrw3
14629                        		__asl.wi	3
         01:DC67  84 00      			sty	__temp
         01:DC69  20 D7 E1   			jsr	aslw3
14630                        		__st.wmq	_sgx_map_pxl_x
         01:DC6C  8D D9 26   			sta.l	_sgx_map_pxl_x
         01:DC6F  8C DA 26   			sty.h	_sgx_map_pxl_x
14631                        	
14632                        		.dbg	line,	"include\routines_LEVELS.c", 2972; // SO WE UPDATE THE MAP //
14633                        	
14634                        		.dbg	line,	"include\routines_LEVELS.c", 2973; sgx_scroll_map();
14635                        		__call		_sgx_scroll_map
         01:DC72  20 63 FF   			call	_sgx_scroll_map
14636                        	
14637                        		.dbg	line,	"include\routines_LEVELS.c", 2975; // CHECK IF THE PLAYER STANDS RIGHT TO THE LADDER //
14638                        	
14639                        		.dbg	line,	"include\routines_LEVELS.c", 2976; collision_PLAYER_BG( 31 , 8 );
14640                        		__ld.wi		31
         01:DC75  A9 1F      			lda.l	#31
         01:DC77  C2         			cly
14641                        		__pusharg.wr
         01:DC78  A6 8D      			ldx	<__sp
         01:DC7A  CA         			dex
         01:DC7B  CA         			dex
         01:DC7C  95 08      			sta.l	<__stack, x
         01:DC7E  94 09      			sty.h	<__stack, x
         01:DC80  86 8D      			stx	<__sp
14642                        		__ld.wi		8
         01:DC82  A9 08      			lda.l	#8
         01:DC84  C2         			cly
14643                        		__pusharg.wr
         01:DC85  A6 8D      			ldx	<__sp
         01:DC87  CA         			dex
         01:DC88  CA         			dex
         01:DC89  95 08      			sta.l	<__stack, x
         01:DC8B  94 09      			sty.h	<__stack, x
         01:DC8D  86 8D      			stx	<__sp
14644                        		__call		_collision_PLAYER_BG
         01:DC8F  20 31 FF   			call	_collision_PLAYER_BG
14645                        	
14646                        		.dbg	line,	"include\routines_LEVELS.c", 2978; if(map_blk_flag == TILE_LADDER)
14647                        		__ld.umq	_map_blk_flag
         01:DC92  AD FA 2B   			lda	_map_blk_flag
14648                        		__equ_b.uiq	2
         01:DC95  C9 02      			cmp	#2
         01:DC97  F0 01      			beq	!+
         01:DC99  18         			clc
         01:DC9A             	!:
14649                        		__bfalse	.LL743
         01:DC9A  90 0E      			bcc	.LL743
14650                        	
14651                        		.dbg	line,	"include\routines_LEVELS.c", 2979; {
14652                        	
14653                        		.dbg	line,	"include\routines_LEVELS.c", 2980; sgx_map_pxl_x += 8;
14654                        		__add_st.wmiq	8, _sgx_map_pxl_x
         01:DC9C  18         			clc
         01:DC9D  AD D9 26   			lda.l	_sgx_map_pxl_x
         01:DCA0  69 08      			adc.l	#8
         01:DCA2  8D D9 26   			sta.l	_sgx_map_pxl_x
         01:DCA5  90 03      			bcc	!+
         01:DCA7  EE DA 26   			inc.h	_sgx_map_pxl_x
         01:DCAA             	!:
14655                        	
14656                        		.dbg	line,	"include\routines_LEVELS.c", 2981; }
14657                        	
14658                        		.dbg	line,	"include\routines_LEVELS.c", 2983; //spr_set(player_id);
14659                        	
14660                        		.dbg	line,	"include\routines_LEVELS.c", 2984; spr_pattern(PLAYER_HANG_VRAM_ADR);
14661    01:DCAA             	.LL743:
14662                        		__ld.wi		7424
         01:DCAA  62         			cla
         01:DCAB  A0 1D      			ldy.h	#7424
14663                        		__call		_spr_pattern.1
         01:DCAD  20 3A E8   			call	_spr_pattern.1
14664                        	
14665                        		.dbg	line,	"include\routines_LEVELS.c", 2986; player_counter_anim = 0;//
14666                        		__st.umiq	0, _player_counter_anim
         01:DCB0  9C 1C 23   			stz	_player_counter_anim
14667                        	
14668                        		.dbg	line,	"include\routines_LEVELS.c", 2987; player_index_jump = 0;
14669                        		__st.umiq	0, _player_index_jump
         01:DCB3  9C 1D 23   			stz	_player_index_jump
14670                        	
14671                        		.dbg	line,	"include\routines_LEVELS.c", 2988; jump_ladder = TRUE;
14672                        		__st.umiq	1, _jump_ladder
         01:DCB6  A9 01      			lda.l	#1
         01:DCB8  8D 22 23   			sta	_jump_ladder
14673                        	
14674                        		.dbg	line,	"include\routines_LEVELS.c", 2989; jump_max_index = 29;
14675                        		__st.umiq	29, _jump_max_index
         01:DCBB  A9 1D      			lda.l	#29
         01:DCBD  8D 23 23   			sta	_jump_max_index
14676                        	
14677                        		.dbg	line,	"include\routines_LEVELS.c", 2990; player_state = STATE_HANG;
14678                        		__st.umiq	10, _player_state
         01:DCC0  A9 0A      			lda.l	#10
         01:DCC2  8D 19 23   			sta	_player_state
14679                        	
14680                        		.dbg	line,	"include\routines_LEVELS.c", 2991; }
14681                        	
14682                        		.dbg	line,	"include\routines_LEVELS.c", 2992; }
14683    01:DCC5             	.LL742:
14684                        	
14685                        		.dbg	line,	"include\routines_LEVELS.c", 2994; spr_set(weapon_id);
14686    01:DCC5             	.LL741:
14687                        		__ld.umq	_weapon_id
         01:DCC5  AD 27 23   			lda	_weapon_id
14688                        		__call		_spr_set.1
         01:DCC8  20 F1 E7   			call	_spr_set.1
14689                        	
14690                        		.dbg	line,	"include\routines_LEVELS.c", 2995; spr_y(player_pos_y+8);
14691                        		__ld.wm		_player_pos_y
         01:DCCB  AD F8 24   			lda.l	_player_pos_y
         01:DCCE  AC F9 24   			ldy.h	_player_pos_y
14692                        		__add.wi	8
         01:DCD1  18         			clc
         01:DCD2  69 08      			adc.l	#8
         01:DCD4  90 01      			bcc	!+
         01:DCD6  C8         			iny
         01:DCD7             	!:
14693                        		__call		_spr_y.1
         01:DCD7  20 2D E8   			call	_spr_y.1
14694                        	
14695                        		.dbg	line,	"include\routines_LEVELS.c", 2996; }
14696                        	
14697                        		.dbg	line,	"include\routines_LEVELS.c", 2998; }
14698    01:DCDA             	.LL732:
14699    01:DCDA             	.LL731:
14700    01:DCDA             	.LL713:
14701    01:DCDA             	.LL695:
14702    01:DCDA             	.LL690:
14703    01:DCDA             	.LL673:
14704    01:DCDA             	.LL668:
14705    01:DCDA             	.LL631:
14706    01:DCDA             	.LL594:
14707    01:DCDA             	.LL539:
14708    01:DCDA             	.LL496:
14709    01:DCDA             	.LL491:
14710                        		__return	0
         01:DCDA  4C EF FF   			jmp	leave_proc
14711                        		.dbg	clear
14712                        		.endp
14713               2305     		.bss
14714    F8:2305             			ds	8
14715    F8:230D             	__update_PLAYER_end:
14716               E31D     		.code
14717                        		.pceas
14718                        	
14719                        		.dbg	line,	"include\routines_LEVELS.c", 3001; void update_WEAPON()
14720                        		.dbg	line,	"include\routines_LEVELS.c", 3002; {
14721                        	;***********************
14722                        	;***********************
14723                        	
14724                        		.hucc
14725    02:CA61             		.proc		_update_WEAPON
14726                        		__enter		_update_WEAPON
14727                        	
14728                        		.dbg	line,	"include\routines_LEVELS.c", 3003; if(player_state == STATE_ATTACK)
14729                        		__ld.umq	_player_state
         02:CA61  AD 19 23   			lda	_player_state
14730                        		__equ_b.uiq	2
         02:CA64  C9 02      			cmp	#2
         02:CA66  F0 01      			beq	!+
         02:CA68  18         			clc
         02:CA69             	!:
14731                        		__bfalse	.LL745
         02:CA69  B0 03 4C A1			bcc	.LL745
         02:CA6D  CD          
14732                        	
14733                        		.dbg	line,	"include\routines_LEVELS.c", 3004; {
14734                        	
14735                        		.dbg	line,	"include\routines_LEVELS.c", 3005; char i;
14736                        	
14737                        		.dbg	line,	"include\routines_LEVELS.c", 3006; 
14738                        	
14739                        		.dbg	line,	"include\routines_LEVELS.c", 3007; recenter_CAMERA();
14740                        		__call		_recenter_CAMERA
         02:CA6E  20 27 FF   			call	_recenter_CAMERA
14741                        	
14742                        		.dbg	line,	"include\routines_LEVELS.c", 3009; if(player_counter_attack == 0)
14743                        		__not.um	_player_counter_attack
         02:CA71  AD 1F 23   			lda	_player_counter_attack
         02:CA74  18         			clc
         02:CA75  D0 01      			bne	!+
         02:CA77  38         			sec
         02:CA78             	!:
14744                        		__bfalse	.LL746
         02:CA78  90 5B      			bcc	.LL746
14745                        	
14746                        		.dbg	line,	"include\routines_LEVELS.c", 3010; {
14747                        	
14748                        		.dbg	line,	"include\routines_LEVELS.c", 3011; spr_set(player_id);
14749                        		__ld.umq	_player_id
         02:CA7A  AD 18 23   			lda	_player_id
14750                        		__call		_spr_set.1
         02:CA7D  20 F1 E7   			call	_spr_set.1
14751                        	
14752                        		.dbg	line,	"include\routines_LEVELS.c", 3012; spr_pattern(PLAYER_ATTACK_1_VRAM_ADR);
14753                        		__ld.wi		9472
         02:CA80  62         			cla
         02:CA81  A0 25      			ldy.h	#9472
14754                        		__call		_spr_pattern.1
         02:CA83  20 3A E8   			call	_spr_pattern.1
14755                        	
14756                        		.dbg	line,	"include\routines_LEVELS.c", 3014; spr_set(weapon_id);
14757                        		__ld.umq	_weapon_id
         02:CA86  AD 27 23   			lda	_weapon_id
14758                        		__call		_spr_set.1
         02:CA89  20 F1 E7   			call	_spr_set.1
14759                        	
14760                        		.dbg	line,	"include\routines_LEVELS.c", 3015; spr_pattern(WEAPON_ATTACK_1_VRAM_ADRESS);
14761                        		__ld.wi		32000
         02:CA8C  62         			cla
         02:CA8D  A0 7D      			ldy.h	#32000
14762                        		__call		_spr_pattern.1
         02:CA8F  20 3A E8   			call	_spr_pattern.1
14763                        	
14764                        		.dbg	line,	"include\routines_LEVELS.c", 3017; if(player_axis == AXIS_RIGHT)
14765                        		__not.um	_player_axis
         02:CA92  AD 1A 23   			lda	_player_axis
         02:CA95  18         			clc
         02:CA96  D0 01      			bne	!+
         02:CA98  38         			sec
         02:CA99             	!:
14766                        		__bfalse	.LL747
         02:CA99  90 11      			bcc	.LL747
14767                        	
14768                        		.dbg	line,	"include\routines_LEVELS.c", 3018; {
14769                        	
14770                        		.dbg	line,	"include\routines_LEVELS.c", 3019; spr_x(player_pos_x-13);
14771                        		__ld.wm		_player_pos_x
         02:CA9B  AD F6 24   			lda.l	_player_pos_x
         02:CA9E  AC F7 24   			ldy.h	_player_pos_x
14772                        		__sub.wi	13
         02:CAA1  38         			sec
         02:CAA2  E9 0D      			sbc.l	#13
         02:CAA4  B0 01      			bcs	!+
         02:CAA6  88         			dey
         02:CAA7             	!:
14773                        		__call		_spr_x.1
         02:CAA7  20 1E E8   			call	_spr_x.1
14774                        	
14775                        		.dbg	line,	"include\routines_LEVELS.c", 3020; }
14776                        	
14777                        		.dbg	line,	"include\routines_LEVELS.c", 3022; else
14778                        		__bra		.LL748
         02:CAAA  80 0F      			bra	.LL748
14779    02:CAAC             	.LL747:
14780                        	
14781                        		.dbg	line,	"include\routines_LEVELS.c", 3023; {
14782                        	
14783                        		.dbg	line,	"include\routines_LEVELS.c", 3024; spr_x(player_pos_x+29);
14784                        		__ld.wm		_player_pos_x
         02:CAAC  AD F6 24   			lda.l	_player_pos_x
         02:CAAF  AC F7 24   			ldy.h	_player_pos_x
14785                        		__add.wi	29
         02:CAB2  18         			clc
         02:CAB3  69 1D      			adc.l	#29
         02:CAB5  90 01      			bcc	!+
         02:CAB7  C8         			iny
         02:CAB8             	!:
14786                        		__call		_spr_x.1
         02:CAB8  20 1E E8   			call	_spr_x.1
14787                        	
14788                        		.dbg	line,	"include\routines_LEVELS.c", 3025; }
14789    02:CABB             	.LL748:
14790                        	
14791                        		.dbg	line,	"include\routines_LEVELS.c", 3027; weapon_y_offset = -8;
14792                        		__st.umiq	-8, _weapon_y_offset
         02:CABB  A9 F8      			lda.l	#-8
         02:CABD  8D 8E 26   			sta	_weapon_y_offset
14793                        	
14794                        		.dbg	line,	"include\routines_LEVELS.c", 3028; spr_y(player_pos_y + weapon_y_offset);
14795                        		__ld.bm		_weapon_y_offset
         02:CAC0  AD 8E 26   			lda	_weapon_y_offset
         02:CAC3  C2         			cly
         02:CAC4  10 01      			bpl	!+
         02:CAC6  88         			dey
         02:CAC7             	!:
14796                        		__add.wm	_player_pos_y
         02:CAC7  18         			clc
         02:CAC8  6D F8 24   			adc.l	_player_pos_y
         02:CACB  42         			say
         02:CACC  6D F9 24   			adc.h	_player_pos_y
         02:CACF  42         			say
14797                        		__call		_spr_y.1
         02:CAD0  20 2D E8   			call	_spr_y.1
14798                        	
14799                        		.dbg	line,	"include\routines_LEVELS.c", 3029; }
14800                        	
14801                        		.dbg	line,	"include\routines_LEVELS.c", 3031; else if(player_counter_attack == 23)
14802                        		__bra		.LL749
         02:CAD3  80 76      			bra	.LL749
14803    02:CAD5             	.LL746:
14804                        		__ld.umq	_player_counter_attack
         02:CAD5  AD 1F 23   			lda	_player_counter_attack
14805                        		__equ_b.uiq	23
         02:CAD8  C9 17      			cmp	#23
         02:CADA  F0 01      			beq	!+
         02:CADC  18         			clc
         02:CADD             	!:
14806                        		__bfalse	.LL750
         02:CADD  90 6C      			bcc	.LL750
14807                        	
14808                        		.dbg	line,	"include\routines_LEVELS.c", 3032; {
14809                        	
14810                        		.dbg	line,	"include\routines_LEVELS.c", 3033; spr_set(chain_id);
14811                        		__ld.umq	_chain_id
         02:CADF  AD 26 23   			lda	_chain_id
14812                        		__call		_spr_set.1
         02:CAE2  20 F1 E7   			call	_spr_set.1
14813                        	
14814                        		.dbg	line,	"include\routines_LEVELS.c", 3034; spr_hide();
14815                        		__call		_spr_hide
         02:CAE5  20 0C E8   			call	_spr_hide
14816                        	
14817                        		.dbg	line,	"include\routines_LEVELS.c", 3036; spr_set(chain_id+1);
14818                        		__ld.um		_chain_id
         02:CAE8  AD 26 23   			lda	_chain_id
         02:CAEB  C2         			cly
14819                        		__add.wi	1
         02:CAEC  1A         			inc	a
         02:CAED  D0 01      			bne	!+
         02:CAEF  C8         			iny
         02:CAF0             	!:
14820                        		__call		_spr_set.1
         02:CAF0  20 F1 E7   			call	_spr_set.1
14821                        	
14822                        		.dbg	line,	"include\routines_LEVELS.c", 3037; spr_hide();
14823                        		__call		_spr_hide
         02:CAF3  20 0C E8   			call	_spr_hide
14824                        	
14825                        		.dbg	line,	"include\routines_LEVELS.c", 3039; spr_set(chain_id+2);
14826                        		__ld.um		_chain_id
         02:CAF6  AD 26 23   			lda	_chain_id
         02:CAF9  C2         			cly
14827                        		__add.wi	2
         02:CAFA  18         			clc
         02:CAFB  69 02      			adc.l	#2
         02:CAFD  90 01      			bcc	!+
         02:CAFF  C8         			iny
         02:CB00             	!:
14828                        		__call		_spr_set.1
         02:CB00  20 F1 E7   			call	_spr_set.1
14829                        	
14830                        		.dbg	line,	"include\routines_LEVELS.c", 3040; spr_hide();
14831                        		__call		_spr_hide
         02:CB03  20 0C E8   			call	_spr_hide
14832                        	
14833                        		.dbg	line,	"include\routines_LEVELS.c", 3042; spr_set(player_id);
14834                        		__ld.umq	_player_id
         02:CB06  AD 18 23   			lda	_player_id
14835                        		__call		_spr_set.1
         02:CB09  20 F1 E7   			call	_spr_set.1
14836                        	
14837                        		.dbg	line,	"include\routines_LEVELS.c", 3043; spr_pattern(PLAYER_IDLE_VRAM_ADR);
14838                        		__ld.wi		5120
         02:CB0C  62         			cla
         02:CB0D  A0 14      			ldy.h	#5120
14839                        		__call		_spr_pattern.1
         02:CB0F  20 3A E8   			call	_spr_pattern.1
14840                        	
14841                        		.dbg	line,	"include\routines_LEVELS.c", 3045; spr_set(weapon_id);
14842                        		__ld.umq	_weapon_id
         02:CB12  AD 27 23   			lda	_weapon_id
14843                        		__call		_spr_set.1
         02:CB15  20 F1 E7   			call	_spr_set.1
14844                        	
14845                        		.dbg	line,	"include\routines_LEVELS.c", 3046; spr_pattern(WEAPON_IDLE_VRAM_ADRESS);
14846                        		__ld.wi		31808
         02:CB18  A9 40      			lda.l	#31808
         02:CB1A  A0 7C      			ldy.h	#31808
14847                        		__call		_spr_pattern.1
         02:CB1C  20 3A E8   			call	_spr_pattern.1
14848                        	
14849                        		.dbg	line,	"include\routines_LEVELS.c", 3047; spr_x(player_pos_x+8);
14850                        		__ld.wm		_player_pos_x
         02:CB1F  AD F6 24   			lda.l	_player_pos_x
         02:CB22  AC F7 24   			ldy.h	_player_pos_x
14851                        		__add.wi	8
         02:CB25  18         			clc
         02:CB26  69 08      			adc.l	#8
         02:CB28  90 01      			bcc	!+
         02:CB2A  C8         			iny
         02:CB2B             	!:
14852                        		__call		_spr_x.1
         02:CB2B  20 1E E8   			call	_spr_x.1
14853                        	
14854                        		.dbg	line,	"include\routines_LEVELS.c", 3048; spr_y(player_pos_y+16);
14855                        		__ld.wm		_player_pos_y
         02:CB2E  AD F8 24   			lda.l	_player_pos_y
         02:CB31  AC F9 24   			ldy.h	_player_pos_y
14856                        		__add.wi	16
         02:CB34  18         			clc
         02:CB35  69 10      			adc.l	#16
         02:CB37  90 01      			bcc	!+
         02:CB39  C8         			iny
         02:CB3A             	!:
14857                        		__call		_spr_y.1
         02:CB3A  20 2D E8   			call	_spr_y.1
14858                        	
14859                        		.dbg	line,	"include\routines_LEVELS.c", 3050; player_attack = FALSE;
14860                        		__st.umiq	0, _player_attack
         02:CB3D  9C 21 23   			stz	_player_attack
14861                        	
14862                        		.dbg	line,	"include\routines_LEVELS.c", 3051; player_counter_anim = 1;
14863                        		__st.umiq	1, _player_counter_anim
         02:CB40  A9 01      			lda.l	#1
         02:CB42  8D 1C 23   			sta	_player_counter_anim
14864                        	
14865                        		.dbg	line,	"include\routines_LEVELS.c", 3052; player_state = STATE_IDLE;
14866                        		__st.umiq	0, _player_state
         02:CB45  9C 19 23   			stz	_player_state
14867                        	
14868                        		.dbg	line,	"include\routines_LEVELS.c", 3053; return;
14869                        		__bra		.LL744
         02:CB48  4C C2 D3   			bra	.LL744
14870                        	
14871                        		.dbg	line,	"include\routines_LEVELS.c", 3054; }
14872                        	
14873                        		.dbg	line,	"include\routines_LEVELS.c", 3056; // CHAIN ANIMATION //
14874                        	
14875                        		.dbg	line,	"include\routines_LEVELS.c", 3057; if(chain_unfold == TRUE)
14876    02:CB4B             	.LL750:
14877    02:CB4B             	.LL749:
14878                        		__ld.umq	_chain_unfold
         02:CB4B  AD 2A 23   			lda	_chain_unfold
14879                        		__equ_b.uiq	1
         02:CB4E  C9 01      			cmp	#1
         02:CB50  F0 01      			beq	!+
         02:CB52  18         			clc
         02:CB53             	!:
14880                        		__bfalse	.LL751
         02:CB53  B0 03 4C 4E			bcc	.LL751
         02:CB57  CD          
14881                        	
14882                        		.dbg	line,	"include\routines_LEVELS.c", 3058; {
14883                        	
14884                        		.dbg	line,	"include\routines_LEVELS.c", 3059; if(player_counter_attack == 6)
14885                        		__ld.umq	_player_counter_attack
         02:CB58  AD 1F 23   			lda	_player_counter_attack
14886                        		__equ_b.uiq	6
         02:CB5B  C9 06      			cmp	#6
         02:CB5D  F0 01      			beq	!+
         02:CB5F  18         			clc
         02:CB60             	!:
14887                        		__bfalse	.LL752
         02:CB60  90 60      			bcc	.LL752
14888                        	
14889                        		.dbg	line,	"include\routines_LEVELS.c", 3060; {
14890                        	
14891                        		.dbg	line,	"include\routines_LEVELS.c", 3061; spr_set(player_id);
14892                        		__ld.umq	_player_id
         02:CB62  AD 18 23   			lda	_player_id
14893                        		__call		_spr_set.1
         02:CB65  20 F1 E7   			call	_spr_set.1
14894                        	
14895                        		.dbg	line,	"include\routines_LEVELS.c", 3062; spr_pattern(PLAYER_ATTACK_2_VRAM_ADR);
14896                        		__ld.wi		9728
         02:CB68  62         			cla
         02:CB69  A0 26      			ldy.h	#9728
14897                        		__call		_spr_pattern.1
         02:CB6B  20 3A E8   			call	_spr_pattern.1
14898                        	
14899                        		.dbg	line,	"include\routines_LEVELS.c", 3064; spr_set(weapon_id);
14900                        		__ld.umq	_weapon_id
         02:CB6E  AD 27 23   			lda	_weapon_id
14901                        		__call		_spr_set.1
         02:CB71  20 F1 E7   			call	_spr_set.1
14902                        	
14903                        		.dbg	line,	"include\routines_LEVELS.c", 3065; spr_pattern(WEAPON_ATTACK_2_VRAM_ADRESS);
14904                        		__ld.wi		32064
         02:CB74  A9 40      			lda.l	#32064
         02:CB76  A0 7D      			ldy.h	#32064
14905                        		__call		_spr_pattern.1
         02:CB78  20 3A E8   			call	_spr_pattern.1
14906                        	
14907                        		.dbg	line,	"include\routines_LEVELS.c", 3067; if(player_axis == AXIS_RIGHT)
14908                        		__not.um	_player_axis
         02:CB7B  AD 1A 23   			lda	_player_axis
         02:CB7E  18         			clc
         02:CB7F  D0 01      			bne	!+
         02:CB81  38         			sec
         02:CB82             	!:
14909                        		__bfalse	.LL753
         02:CB82  90 11      			bcc	.LL753
14910                        	
14911                        		.dbg	line,	"include\routines_LEVELS.c", 3068; {
14912                        	
14913                        		.dbg	line,	"include\routines_LEVELS.c", 3069; spr_x(player_pos_x+32);
14914                        		__ld.wm		_player_pos_x
         02:CB84  AD F6 24   			lda.l	_player_pos_x
         02:CB87  AC F7 24   			ldy.h	_player_pos_x
14915                        		__add.wi	32
         02:CB8A  18         			clc
         02:CB8B  69 20      			adc.l	#32
         02:CB8D  90 01      			bcc	!+
         02:CB8F  C8         			iny
         02:CB90             	!:
14916                        		__call		_spr_x.1
         02:CB90  20 1E E8   			call	_spr_x.1
14917                        	
14918                        		.dbg	line,	"include\routines_LEVELS.c", 3070; 
14919                        	
14920                        		.dbg	line,	"include\routines_LEVELS.c", 3071; }
14921                        	
14922                        		.dbg	line,	"include\routines_LEVELS.c", 3072; 
14923                        	
14924                        		.dbg	line,	"include\routines_LEVELS.c", 3073; else
14925                        		__bra		.LL754
         02:CB93  80 0F      			bra	.LL754
14926    02:CB95             	.LL753:
14927                        	
14928                        		.dbg	line,	"include\routines_LEVELS.c", 3074; {
14929                        	
14930                        		.dbg	line,	"include\routines_LEVELS.c", 3075; spr_x(player_pos_x-16);
14931                        		__ld.wm		_player_pos_x
         02:CB95  AD F6 24   			lda.l	_player_pos_x
         02:CB98  AC F7 24   			ldy.h	_player_pos_x
14932                        		__sub.wi	16
         02:CB9B  38         			sec
         02:CB9C  E9 10      			sbc.l	#16
         02:CB9E  B0 01      			bcs	!+
         02:CBA0  88         			dey
         02:CBA1             	!:
14933                        		__call		_spr_x.1
         02:CBA1  20 1E E8   			call	_spr_x.1
14934                        	
14935                        		.dbg	line,	"include\routines_LEVELS.c", 3076; }
14936    02:CBA4             	.LL754:
14937                        	
14938                        		.dbg	line,	"include\routines_LEVELS.c", 3078; weapon_y_offset = 6;
14939                        		__st.umiq	6, _weapon_y_offset
         02:CBA4  A9 06      			lda.l	#6
         02:CBA6  8D 8E 26   			sta	_weapon_y_offset
14940                        	
14941                        		.dbg	line,	"include\routines_LEVELS.c", 3079; spr_y(player_pos_y + weapon_y_offset);
14942                        		__ld.bm		_weapon_y_offset
         02:CBA9  AD 8E 26   			lda	_weapon_y_offset
         02:CBAC  C2         			cly
         02:CBAD  10 01      			bpl	!+
         02:CBAF  88         			dey
         02:CBB0             	!:
14943                        		__add.wm	_player_pos_y
         02:CBB0  18         			clc
         02:CBB1  6D F8 24   			adc.l	_player_pos_y
         02:CBB4  42         			say
         02:CBB5  6D F9 24   			adc.h	_player_pos_y
         02:CBB8  42         			say
14944                        		__call		_spr_y.1
         02:CBB9  20 2D E8   			call	_spr_y.1
14945                        	
14946                        		.dbg	line,	"include\routines_LEVELS.c", 3081; collision_WEAPON_OBJECTS();
14947                        		__call		_collision_WEAPON_OBJECTS
         02:CBBC  20 13 FF   			call	_collision_WEAPON_OBJECTS
14948                        	
14949                        		.dbg	line,	"include\routines_LEVELS.c", 3082; }
14950                        	
14951                        		.dbg	line,	"include\routines_LEVELS.c", 3084; else if(player_counter_attack == 7)
14952                        		__bra		.LL755
         02:CBBF  4C 4E CD   			bra	.LL755
14953    02:CBC2             	.LL752:
14954                        		__ld.umq	_player_counter_attack
         02:CBC2  AD 1F 23   			lda	_player_counter_attack
14955                        		__equ_b.uiq	7
         02:CBC5  C9 07      			cmp	#7
         02:CBC7  F0 01      			beq	!+
         02:CBC9  18         			clc
         02:CBCA             	!:
14956                        		__bfalse	.LL756
         02:CBCA  90 77      			bcc	.LL756
14957                        	
14958                        		.dbg	line,	"include\routines_LEVELS.c", 3085; {
14959                        	
14960                        		.dbg	line,	"include\routines_LEVELS.c", 3086; list_chain_active[0] = TRUE;
14961                        		__st.umiq	1, _list_chain_active
         02:CBCC  A9 01      			lda.l	#1
         02:CBCE  8D 2B 23   			sta	_list_chain_active
14962                        	
14963                        		.dbg	line,	"include\routines_LEVELS.c", 3087; spr_set(chain_id);
14964                        		__ld.umq	_chain_id
         02:CBD1  AD 26 23   			lda	_chain_id
14965                        		__call		_spr_set.1
         02:CBD4  20 F1 E7   			call	_spr_set.1
14966                        	
14967                        		.dbg	line,	"include\routines_LEVELS.c", 3089; if(player_axis == AXIS_RIGHT)
14968                        		__not.um	_player_axis
         02:CBD7  AD 1A 23   			lda	_player_axis
         02:CBDA  18         			clc
         02:CBDB  D0 01      			bne	!+
         02:CBDD  38         			sec
         02:CBDE             	!:
14969                        		__bfalse	.LL757
         02:CBDE  90 26      			bcc	.LL757
14970                        	
14971                        		.dbg	line,	"include\routines_LEVELS.c", 3090; {
14972                        	
14973                        		.dbg	line,	"include\routines_LEVELS.c", 3091; spr_x(player_pos_x+32);
14974                        		__ld.wm		_player_pos_x
         02:CBE0  AD F6 24   			lda.l	_player_pos_x
         02:CBE3  AC F7 24   			ldy.h	_player_pos_x
14975                        		__add.wi	32
         02:CBE6  18         			clc
         02:CBE7  69 20      			adc.l	#32
         02:CBE9  90 01      			bcc	!+
         02:CBEB  C8         			iny
         02:CBEC             	!:
14976                        		__call		_spr_x.1
         02:CBEC  20 1E E8   			call	_spr_x.1
14977                        	
14978                        		.dbg	line,	"include\routines_LEVELS.c", 3093; spr_set(weapon_id);
14979                        		__ld.umq	_weapon_id
         02:CBEF  AD 27 23   			lda	_weapon_id
14980                        		__call		_spr_set.1
         02:CBF2  20 F1 E7   			call	_spr_set.1
14981                        	
14982                        		.dbg	line,	"include\routines_LEVELS.c", 3094; spr_x(player_pos_x+48);
14983                        		__ld.wm		_player_pos_x
         02:CBF5  AD F6 24   			lda.l	_player_pos_x
         02:CBF8  AC F7 24   			ldy.h	_player_pos_x
14984                        		__add.wi	48
         02:CBFB  18         			clc
         02:CBFC  69 30      			adc.l	#48
         02:CBFE  90 01      			bcc	!+
         02:CC00  C8         			iny
         02:CC01             	!:
14985                        		__call		_spr_x.1
         02:CC01  20 1E E8   			call	_spr_x.1
14986                        	
14987                        		.dbg	line,	"include\routines_LEVELS.c", 3095; }
14988                        	
14989                        		.dbg	line,	"include\routines_LEVELS.c", 3096; 
14990                        	
14991                        		.dbg	line,	"include\routines_LEVELS.c", 3097; else
14992                        		__bra		.LL758
         02:CC04  80 24      			bra	.LL758
14993    02:CC06             	.LL757:
14994                        	
14995                        		.dbg	line,	"include\routines_LEVELS.c", 3098; {
14996                        	
14997                        		.dbg	line,	"include\routines_LEVELS.c", 3099; spr_x(player_pos_x-16);
14998                        		__ld.wm		_player_pos_x
         02:CC06  AD F6 24   			lda.l	_player_pos_x
         02:CC09  AC F7 24   			ldy.h	_player_pos_x
14999                        		__sub.wi	16
         02:CC0C  38         			sec
         02:CC0D  E9 10      			sbc.l	#16
         02:CC0F  B0 01      			bcs	!+
         02:CC11  88         			dey
         02:CC12             	!:
15000                        		__call		_spr_x.1
         02:CC12  20 1E E8   			call	_spr_x.1
15001                        	
15002                        		.dbg	line,	"include\routines_LEVELS.c", 3101; spr_set(weapon_id);
15003                        		__ld.umq	_weapon_id
         02:CC15  AD 27 23   			lda	_weapon_id
15004                        		__call		_spr_set.1
         02:CC18  20 F1 E7   			call	_spr_set.1
15005                        	
15006                        		.dbg	line,	"include\routines_LEVELS.c", 3102; spr_x(player_pos_x-32);
15007                        		__ld.wm		_player_pos_x
         02:CC1B  AD F6 24   			lda.l	_player_pos_x
         02:CC1E  AC F7 24   			ldy.h	_player_pos_x
15008                        		__sub.wi	32
         02:CC21  38         			sec
         02:CC22  E9 20      			sbc.l	#32
         02:CC24  B0 01      			bcs	!+
         02:CC26  88         			dey
         02:CC27             	!:
15009                        		__call		_spr_x.1
         02:CC27  20 1E E8   			call	_spr_x.1
15010                        	
15011                        		.dbg	line,	"include\routines_LEVELS.c", 3103; }
15012    02:CC2A             	.LL758:
15013                        	
15014                        		.dbg	line,	"include\routines_LEVELS.c", 3105; spr_y(player_pos_y + weapon_y_offset);
15015                        		__ld.bm		_weapon_y_offset
         02:CC2A  AD 8E 26   			lda	_weapon_y_offset
         02:CC2D  C2         			cly
         02:CC2E  10 01      			bpl	!+
         02:CC30  88         			dey
         02:CC31             	!:
15016                        		__add.wm	_player_pos_y
         02:CC31  18         			clc
         02:CC32  6D F8 24   			adc.l	_player_pos_y
         02:CC35  42         			say
         02:CC36  6D F9 24   			adc.h	_player_pos_y
         02:CC39  42         			say
15017                        		__call		_spr_y.1
         02:CC3A  20 2D E8   			call	_spr_y.1
15018                        	
15019                        		.dbg	line,	"include\routines_LEVELS.c", 3107; collision_WEAPON_OBJECTS();
15020                        		__call		_collision_WEAPON_OBJECTS
         02:CC3D  20 13 FF   			call	_collision_WEAPON_OBJECTS
15021                        	
15022                        		.dbg	line,	"include\routines_LEVELS.c", 3108; }
15023                        	
15024                        		.dbg	line,	"include\routines_LEVELS.c", 3110; else if(player_counter_attack == 8)
15025                        		__bra		.LL759
         02:CC40  4C 4E CD   			bra	.LL759
15026    02:CC43             	.LL756:
15027                        		__ld.umq	_player_counter_attack
         02:CC43  AD 1F 23   			lda	_player_counter_attack
15028                        		__equ_b.uiq	8
         02:CC46  C9 08      			cmp	#8
         02:CC48  F0 01      			beq	!+
         02:CC4A  18         			clc
         02:CC4B             	!:
15029                        		__bfalse	.LL760
         02:CC4B  90 7C      			bcc	.LL760
15030                        	
15031                        		.dbg	line,	"include\routines_LEVELS.c", 3111; {
15032                        	
15033                        		.dbg	line,	"include\routines_LEVELS.c", 3112; list_chain_active[1] = TRUE;
15034                        		__st.umiq	1, _list_chain_active + 1
         02:CC4D  A9 01      			lda.l	#1
         02:CC4F  8D 2C 23   			sta	_list_chain_active + 1
15035                        	
15036                        		.dbg	line,	"include\routines_LEVELS.c", 3113; spr_set(chain_id+1);
15037                        		__ld.um		_chain_id
         02:CC52  AD 26 23   			lda	_chain_id
         02:CC55  C2         			cly
15038                        		__add.wi	1
         02:CC56  1A         			inc	a
         02:CC57  D0 01      			bne	!+
         02:CC59  C8         			iny
         02:CC5A             	!:
15039                        		__call		_spr_set.1
         02:CC5A  20 F1 E7   			call	_spr_set.1
15040                        	
15041                        		.dbg	line,	"include\routines_LEVELS.c", 3115; if(player_axis == AXIS_RIGHT)
15042                        		__not.um	_player_axis
         02:CC5D  AD 1A 23   			lda	_player_axis
         02:CC60  18         			clc
         02:CC61  D0 01      			bne	!+
         02:CC63  38         			sec
         02:CC64             	!:
15043                        		__bfalse	.LL761
         02:CC64  90 26      			bcc	.LL761
15044                        	
15045                        		.dbg	line,	"include\routines_LEVELS.c", 3116; {
15046                        	
15047                        		.dbg	line,	"include\routines_LEVELS.c", 3117; spr_x(player_pos_x+48);
15048                        		__ld.wm		_player_pos_x
         02:CC66  AD F6 24   			lda.l	_player_pos_x
         02:CC69  AC F7 24   			ldy.h	_player_pos_x
15049                        		__add.wi	48
         02:CC6C  18         			clc
         02:CC6D  69 30      			adc.l	#48
         02:CC6F  90 01      			bcc	!+
         02:CC71  C8         			iny
         02:CC72             	!:
15050                        		__call		_spr_x.1
         02:CC72  20 1E E8   			call	_spr_x.1
15051                        	
15052                        		.dbg	line,	"include\routines_LEVELS.c", 3119; spr_set(weapon_id);
15053                        		__ld.umq	_weapon_id
         02:CC75  AD 27 23   			lda	_weapon_id
15054                        		__call		_spr_set.1
         02:CC78  20 F1 E7   			call	_spr_set.1
15055                        	
15056                        		.dbg	line,	"include\routines_LEVELS.c", 3120; spr_x(player_pos_x+64);
15057                        		__ld.wm		_player_pos_x
         02:CC7B  AD F6 24   			lda.l	_player_pos_x
         02:CC7E  AC F7 24   			ldy.h	_player_pos_x
15058                        		__add.wi	64
         02:CC81  18         			clc
         02:CC82  69 40      			adc.l	#64
         02:CC84  90 01      			bcc	!+
         02:CC86  C8         			iny
         02:CC87             	!:
15059                        		__call		_spr_x.1
         02:CC87  20 1E E8   			call	_spr_x.1
15060                        	
15061                        		.dbg	line,	"include\routines_LEVELS.c", 3121; }
15062                        	
15063                        		.dbg	line,	"include\routines_LEVELS.c", 3122; 
15064                        	
15065                        		.dbg	line,	"include\routines_LEVELS.c", 3123; else
15066                        		__bra		.LL762
         02:CC8A  80 24      			bra	.LL762
15067    02:CC8C             	.LL761:
15068                        	
15069                        		.dbg	line,	"include\routines_LEVELS.c", 3124; {
15070                        	
15071                        		.dbg	line,	"include\routines_LEVELS.c", 3125; spr_x(player_pos_x-32);
15072                        		__ld.wm		_player_pos_x
         02:CC8C  AD F6 24   			lda.l	_player_pos_x
         02:CC8F  AC F7 24   			ldy.h	_player_pos_x
15073                        		__sub.wi	32
         02:CC92  38         			sec
         02:CC93  E9 20      			sbc.l	#32
         02:CC95  B0 01      			bcs	!+
         02:CC97  88         			dey
         02:CC98             	!:
15074                        		__call		_spr_x.1
         02:CC98  20 1E E8   			call	_spr_x.1
15075                        	
15076                        		.dbg	line,	"include\routines_LEVELS.c", 3127; spr_set(weapon_id);
15077                        		__ld.umq	_weapon_id
         02:CC9B  AD 27 23   			lda	_weapon_id
15078                        		__call		_spr_set.1
         02:CC9E  20 F1 E7   			call	_spr_set.1
15079                        	
15080                        		.dbg	line,	"include\routines_LEVELS.c", 3128; spr_x(player_pos_x-48);
15081                        		__ld.wm		_player_pos_x
         02:CCA1  AD F6 24   			lda.l	_player_pos_x
         02:CCA4  AC F7 24   			ldy.h	_player_pos_x
15082                        		__sub.wi	48
         02:CCA7  38         			sec
         02:CCA8  E9 30      			sbc.l	#48
         02:CCAA  B0 01      			bcs	!+
         02:CCAC  88         			dey
         02:CCAD             	!:
15083                        		__call		_spr_x.1
         02:CCAD  20 1E E8   			call	_spr_x.1
15084                        	
15085                        		.dbg	line,	"include\routines_LEVELS.c", 3129; }
15086    02:CCB0             	.LL762:
15087                        	
15088                        		.dbg	line,	"include\routines_LEVELS.c", 3131; spr_y(player_pos_y + weapon_y_offset);
15089                        		__ld.bm		_weapon_y_offset
         02:CCB0  AD 8E 26   			lda	_weapon_y_offset
         02:CCB3  C2         			cly
         02:CCB4  10 01      			bpl	!+
         02:CCB6  88         			dey
         02:CCB7             	!:
15090                        		__add.wm	_player_pos_y
         02:CCB7  18         			clc
         02:CCB8  6D F8 24   			adc.l	_player_pos_y
         02:CCBB  42         			say
         02:CCBC  6D F9 24   			adc.h	_player_pos_y
         02:CCBF  42         			say
15091                        		__call		_spr_y.1
         02:CCC0  20 2D E8   			call	_spr_y.1
15092                        	
15093                        		.dbg	line,	"include\routines_LEVELS.c", 3133; collision_WEAPON_OBJECTS();
15094                        		__call		_collision_WEAPON_OBJECTS
         02:CCC3  20 13 FF   			call	_collision_WEAPON_OBJECTS
15095                        	
15096                        		.dbg	line,	"include\routines_LEVELS.c", 3134; }
15097                        	
15098                        		.dbg	line,	"include\routines_LEVELS.c", 3136; else if(player_counter_attack == 9)
15099                        		__bra		.LL763
         02:CCC6  4C 4E CD   			bra	.LL763
15100    02:CCC9             	.LL760:
15101                        		__ld.umq	_player_counter_attack
         02:CCC9  AD 1F 23   			lda	_player_counter_attack
15102                        		__equ_b.uiq	9
         02:CCCC  C9 09      			cmp	#9
         02:CCCE  F0 01      			beq	!+
         02:CCD0  18         			clc
         02:CCD1             	!:
15103                        		__bfalse	.LL764
         02:CCD1  90 7B      			bcc	.LL764
15104                        	
15105                        		.dbg	line,	"include\routines_LEVELS.c", 3137; {
15106                        	
15107                        		.dbg	line,	"include\routines_LEVELS.c", 3138; list_chain_active[2] = TRUE;
15108                        		__st.umiq	1, _list_chain_active + 2
         02:CCD3  A9 01      			lda.l	#1
         02:CCD5  8D 2D 23   			sta	_list_chain_active + 2
15109                        	
15110                        		.dbg	line,	"include\routines_LEVELS.c", 3139; spr_set(chain_id+2);
15111                        		__ld.um		_chain_id
         02:CCD8  AD 26 23   			lda	_chain_id
         02:CCDB  C2         			cly
15112                        		__add.wi	2
         02:CCDC  18         			clc
         02:CCDD  69 02      			adc.l	#2
         02:CCDF  90 01      			bcc	!+
         02:CCE1  C8         			iny
         02:CCE2             	!:
15113                        		__call		_spr_set.1
         02:CCE2  20 F1 E7   			call	_spr_set.1
15114                        	
15115                        		.dbg	line,	"include\routines_LEVELS.c", 3141; if(player_axis == AXIS_RIGHT)
15116                        		__not.um	_player_axis
         02:CCE5  AD 1A 23   			lda	_player_axis
         02:CCE8  18         			clc
         02:CCE9  D0 01      			bne	!+
         02:CCEB  38         			sec
         02:CCEC             	!:
15117                        		__bfalse	.LL765
         02:CCEC  90 26      			bcc	.LL765
15118                        	
15119                        		.dbg	line,	"include\routines_LEVELS.c", 3142; {
15120                        	
15121                        		.dbg	line,	"include\routines_LEVELS.c", 3143; spr_x(player_pos_x+64);
15122                        		__ld.wm		_player_pos_x
         02:CCEE  AD F6 24   			lda.l	_player_pos_x
         02:CCF1  AC F7 24   			ldy.h	_player_pos_x
15123                        		__add.wi	64
         02:CCF4  18         			clc
         02:CCF5  69 40      			adc.l	#64
         02:CCF7  90 01      			bcc	!+
         02:CCF9  C8         			iny
         02:CCFA             	!:
15124                        		__call		_spr_x.1
         02:CCFA  20 1E E8   			call	_spr_x.1
15125                        	
15126                        		.dbg	line,	"include\routines_LEVELS.c", 3145; spr_set(weapon_id);
15127                        		__ld.umq	_weapon_id
         02:CCFD  AD 27 23   			lda	_weapon_id
15128                        		__call		_spr_set.1
         02:CD00  20 F1 E7   			call	_spr_set.1
15129                        	
15130                        		.dbg	line,	"include\routines_LEVELS.c", 3146; spr_x(player_pos_x+80);
15131                        		__ld.wm		_player_pos_x
         02:CD03  AD F6 24   			lda.l	_player_pos_x
         02:CD06  AC F7 24   			ldy.h	_player_pos_x
15132                        		__add.wi	80
         02:CD09  18         			clc
         02:CD0A  69 50      			adc.l	#80
         02:CD0C  90 01      			bcc	!+
         02:CD0E  C8         			iny
         02:CD0F             	!:
15133                        		__call		_spr_x.1
         02:CD0F  20 1E E8   			call	_spr_x.1
15134                        	
15135                        		.dbg	line,	"include\routines_LEVELS.c", 3147; }
15136                        	
15137                        		.dbg	line,	"include\routines_LEVELS.c", 3148; 
15138                        	
15139                        		.dbg	line,	"include\routines_LEVELS.c", 3149; else
15140                        		__bra		.LL766
         02:CD12  80 24      			bra	.LL766
15141    02:CD14             	.LL765:
15142                        	
15143                        		.dbg	line,	"include\routines_LEVELS.c", 3150; {
15144                        	
15145                        		.dbg	line,	"include\routines_LEVELS.c", 3151; spr_x(player_pos_x-48);
15146                        		__ld.wm		_player_pos_x
         02:CD14  AD F6 24   			lda.l	_player_pos_x
         02:CD17  AC F7 24   			ldy.h	_player_pos_x
15147                        		__sub.wi	48
         02:CD1A  38         			sec
         02:CD1B  E9 30      			sbc.l	#48
         02:CD1D  B0 01      			bcs	!+
         02:CD1F  88         			dey
         02:CD20             	!:
15148                        		__call		_spr_x.1
         02:CD20  20 1E E8   			call	_spr_x.1
15149                        	
15150                        		.dbg	line,	"include\routines_LEVELS.c", 3153; spr_set(weapon_id);
15151                        		__ld.umq	_weapon_id
         02:CD23  AD 27 23   			lda	_weapon_id
15152                        		__call		_spr_set.1
         02:CD26  20 F1 E7   			call	_spr_set.1
15153                        	
15154                        		.dbg	line,	"include\routines_LEVELS.c", 3154; spr_x(player_pos_x-64);
15155                        		__ld.wm		_player_pos_x
         02:CD29  AD F6 24   			lda.l	_player_pos_x
         02:CD2C  AC F7 24   			ldy.h	_player_pos_x
15156                        		__sub.wi	64
         02:CD2F  38         			sec
         02:CD30  E9 40      			sbc.l	#64
         02:CD32  B0 01      			bcs	!+
         02:CD34  88         			dey
         02:CD35             	!:
15157                        		__call		_spr_x.1
         02:CD35  20 1E E8   			call	_spr_x.1
15158                        	
15159                        		.dbg	line,	"include\routines_LEVELS.c", 3155; }
15160    02:CD38             	.LL766:
15161                        	
15162                        		.dbg	line,	"include\routines_LEVELS.c", 3157; spr_y(player_pos_y + weapon_y_offset);
15163                        		__ld.bm		_weapon_y_offset
         02:CD38  AD 8E 26   			lda	_weapon_y_offset
         02:CD3B  C2         			cly
         02:CD3C  10 01      			bpl	!+
         02:CD3E  88         			dey
         02:CD3F             	!:
15164                        		__add.wm	_player_pos_y
         02:CD3F  18         			clc
         02:CD40  6D F8 24   			adc.l	_player_pos_y
         02:CD43  42         			say
         02:CD44  6D F9 24   			adc.h	_player_pos_y
         02:CD47  42         			say
15165                        		__call		_spr_y.1
         02:CD48  20 2D E8   			call	_spr_y.1
15166                        	
15167                        		.dbg	line,	"include\routines_LEVELS.c", 3159; collision_WEAPON_OBJECTS();
15168                        		__call		_collision_WEAPON_OBJECTS
         02:CD4B  20 13 FF   			call	_collision_WEAPON_OBJECTS
15169                        	
15170                        		.dbg	line,	"include\routines_LEVELS.c", 3160; }
15171                        	
15172                        		.dbg	line,	"include\routines_LEVELS.c", 3161; }
15173    02:CD4E             	.LL764:
15174    02:CD4E             	.LL763:
15175    02:CD4E             	.LL759:
15176    02:CD4E             	.LL755:
15177                        	
15178                        		.dbg	line,	"include\routines_LEVELS.c", 3164; player_counter_attack += 1;
15179    02:CD4E             	.LL751:
15180                        		__add_st.umiq	1, _player_counter_attack
         02:CD4E  EE 1F 23   			inc	_player_counter_attack
15181                        	
15182                        		.dbg	line,	"include\routines_LEVELS.c", 3167; // SET CHAIN Y POSITION //
15183                        	
15184                        		.dbg	line,	"include\routines_LEVELS.c", 3168; for(i=0 ; i<3 ; i++)
15185                        		__st.umiq	0, __update_WEAPON_end - 1  /* i */
         02:CD51  9C 0E 23   			stz	__update_WEAPON_end - 1
15186    02:CD54             	.LL767:
15187                        		__ld.umq	__update_WEAPON_end - 1  /* i */
         02:CD54  AD 0E 23   			lda	__update_WEAPON_end - 1
15188                        		__ult_b.uiq	3
         02:CD57  C9 03      			cmp	#3		; Subtract integer from A.
         02:CD59  6A         			ror	a		; CC if A < integer.
         02:CD5A  49 80      			eor	#$80
         02:CD5C  2A         			rol	a
15189                        		__btrue		.LL769
         02:CD5D  B0 08      			bcs	.LL769
15190                        		__bra		.LL770
         02:CD5F  4C C2 D3   			bra	.LL770
15191    02:CD62             	.LL768:
15192                        		__inc.umq	__update_WEAPON_end - 1  /* i */
         02:CD62  EE 0E 23   			inc	__update_WEAPON_end - 1
15193                        		__bra		.LL767
         02:CD65  80 ED      			bra	.LL767
15194    02:CD67             	.LL769:
15195                        	
15196                        		.dbg	line,	"include\routines_LEVELS.c", 3169; {
15197                        	
15198                        		.dbg	line,	"include\routines_LEVELS.c", 3170; spr_set(chain_id+i);
15199                        		__ld.um		_chain_id
         02:CD67  AD 26 23   			lda	_chain_id
         02:CD6A  C2         			cly
15200                        		__add.um	__update_WEAPON_end - 1  /* i */
         02:CD6B  18         			clc
         02:CD6C  6D 0E 23   			adc	__update_WEAPON_end - 1
         02:CD6F  90 01      			bcc	!+
         02:CD71  C8         			iny
         02:CD72             	!:
15201                        		__call		_spr_set.1
         02:CD72  20 F1 E7   			call	_spr_set.1
15202                        	
15203                        		.dbg	line,	"include\routines_LEVELS.c", 3172; spr_y( ((player_pos_y + 16) * list_chain_active[i]) - 16); //list_chain_active[0] = TRUE;
15204                        		__ld.wm		_player_pos_y
         02:CD75  AD F8 24   			lda.l	_player_pos_y
         02:CD78  AC F9 24   			ldy.h	_player_pos_y
15205                        		__add.wi	16
         02:CD7B  18         			clc
         02:CD7C  69 10      			adc.l	#16
         02:CD7E  90 01      			bcc	!+
         02:CD80  C8         			iny
         02:CD81             	!:
15206                        		__push.wr
         02:CD81  5A         			phy
         02:CD82  48         			pha
15207                        		__ldx.umq	__update_WEAPON_end - 1  /* i */
         02:CD83  AE 0E 23   			ldx	__update_WEAPON_end - 1
15208                        		__ld.uax	_list_chain_active
         02:CD86  BD 2B 23   			lda	_list_chain_active, x
         02:CD89  C2         			cly
15209                        		__mul.wt
         02:CD8A  85 00      			sta.l	<multiplier
         02:CD8C  84 01      			sty.h	<multiplier
         02:CD8E  68         			pla
         02:CD8F  7A         			ply
         02:CD90  20 60 E4   			jsr	__mulint
15210                        		__sub.wi	16
         02:CD93  38         			sec
         02:CD94  E9 10      			sbc.l	#16
         02:CD96  B0 01      			bcs	!+
         02:CD98  88         			dey
         02:CD99             	!:
15211                        		__call		_spr_y.1
         02:CD99  20 2D E8   			call	_spr_y.1
15212                        	
15213                        		.dbg	line,	"include\routines_LEVELS.c", 3173; }
15214                        		__bra		.LL768
         02:CD9C  80 C4      			bra	.LL768
15215    02:CD9E             	.LL770	.alias		.LL771
15216                        	
15217                        		.dbg	line,	"include\routines_LEVELS.c", 3174; }
15218                        	
15219                        		.dbg	line,	"include\routines_LEVELS.c", 3177; else if(player_state == STATE_CROUCH_ATTACK)
15220                        		__bra		.LL771
         02:CD9E  4C C2 D3   			bra	.LL771
15221    02:CDA1             	.LL745:
15222                        		__ld.umq	_player_state
         02:CDA1  AD 19 23   			lda	_player_state
15223                        		__equ_b.uiq	8
         02:CDA4  C9 08      			cmp	#8
         02:CDA6  F0 01      			beq	!+
         02:CDA8  18         			clc
         02:CDA9             	!:
15224                        		__bfalse	.LL772
         02:CDA9  B0 03 4C FF			bcc	.LL772
         02:CDAD  D0          
15225                        	
15226                        		.dbg	line,	"include\routines_LEVELS.c", 3178; {
15227                        	
15228                        		.dbg	line,	"include\routines_LEVELS.c", 3179; char i;
15229                        	
15230                        		.dbg	line,	"include\routines_LEVELS.c", 3180; 
15231                        	
15232                        		.dbg	line,	"include\routines_LEVELS.c", 3181; recenter_CAMERA();
15233                        		__call		_recenter_CAMERA
         02:CDAE  20 27 FF   			call	_recenter_CAMERA
15234                        	
15235                        		.dbg	line,	"include\routines_LEVELS.c", 3183; if(player_counter_attack == 0)
15236                        		__not.um	_player_counter_attack
         02:CDB1  AD 1F 23   			lda	_player_counter_attack
         02:CDB4  18         			clc
         02:CDB5  D0 01      			bne	!+
         02:CDB7  38         			sec
         02:CDB8             	!:
15237                        		__bfalse	.LL773
         02:CDB8  90 5A      			bcc	.LL773
15238                        	
15239                        		.dbg	line,	"include\routines_LEVELS.c", 3184; {
15240                        	
15241                        		.dbg	line,	"include\routines_LEVELS.c", 3185; spr_set(player_id);
15242                        		__ld.umq	_player_id
         02:CDBA  AD 18 23   			lda	_player_id
15243                        		__call		_spr_set.1
         02:CDBD  20 F1 E7   			call	_spr_set.1
15244                        	
15245                        		.dbg	line,	"include\routines_LEVELS.c", 3186; spr_pattern(PLAYER_CROUCH_ATTACK_1_VRAM_ADR);
15246                        		__ld.wi		9984
         02:CDC0  62         			cla
         02:CDC1  A0 27      			ldy.h	#9984
15247                        		__call		_spr_pattern.1
         02:CDC3  20 3A E8   			call	_spr_pattern.1
15248                        	
15249                        		.dbg	line,	"include\routines_LEVELS.c", 3188; spr_set(weapon_id);
15250                        		__ld.umq	_weapon_id
         02:CDC6  AD 27 23   			lda	_weapon_id
15251                        		__call		_spr_set.1
         02:CDC9  20 F1 E7   			call	_spr_set.1
15252                        	
15253                        		.dbg	line,	"include\routines_LEVELS.c", 3189; spr_pattern(WEAPON_ATTACK_1_VRAM_ADRESS);
15254                        		__ld.wi		32000
         02:CDCC  62         			cla
         02:CDCD  A0 7D      			ldy.h	#32000
15255                        		__call		_spr_pattern.1
         02:CDCF  20 3A E8   			call	_spr_pattern.1
15256                        	
15257                        		.dbg	line,	"include\routines_LEVELS.c", 3191; if(player_axis == AXIS_RIGHT)
15258                        		__not.um	_player_axis
         02:CDD2  AD 1A 23   			lda	_player_axis
         02:CDD5  18         			clc
         02:CDD6  D0 01      			bne	!+
         02:CDD8  38         			sec
         02:CDD9             	!:
15259                        		__bfalse	.LL774
         02:CDD9  90 11      			bcc	.LL774
15260                        	
15261                        		.dbg	line,	"include\routines_LEVELS.c", 3192; {
15262                        	
15263                        		.dbg	line,	"include\routines_LEVELS.c", 3193; spr_x(player_pos_x-16);
15264                        		__ld.wm		_player_pos_x
         02:CDDB  AD F6 24   			lda.l	_player_pos_x
         02:CDDE  AC F7 24   			ldy.h	_player_pos_x
15265                        		__sub.wi	16
         02:CDE1  38         			sec
         02:CDE2  E9 10      			sbc.l	#16
         02:CDE4  B0 01      			bcs	!+
         02:CDE6  88         			dey
         02:CDE7             	!:
15266                        		__call		_spr_x.1
         02:CDE7  20 1E E8   			call	_spr_x.1
15267                        	
15268                        		.dbg	line,	"include\routines_LEVELS.c", 3194; }
15269                        	
15270                        		.dbg	line,	"include\routines_LEVELS.c", 3196; else
15271                        		__bra		.LL775
         02:CDEA  80 0F      			bra	.LL775
15272    02:CDEC             	.LL774:
15273                        	
15274                        		.dbg	line,	"include\routines_LEVELS.c", 3197; {
15275                        	
15276                        		.dbg	line,	"include\routines_LEVELS.c", 3198; spr_x(player_pos_x+32);
15277                        		__ld.wm		_player_pos_x
         02:CDEC  AD F6 24   			lda.l	_player_pos_x
         02:CDEF  AC F7 24   			ldy.h	_player_pos_x
15278                        		__add.wi	32
         02:CDF2  18         			clc
         02:CDF3  69 20      			adc.l	#32
         02:CDF5  90 01      			bcc	!+
         02:CDF7  C8         			iny
         02:CDF8             	!:
15279                        		__call		_spr_x.1
         02:CDF8  20 1E E8   			call	_spr_x.1
15280                        	
15281                        		.dbg	line,	"include\routines_LEVELS.c", 3199; }
15282    02:CDFB             	.LL775:
15283                        	
15284                        		.dbg	line,	"include\routines_LEVELS.c", 3201; weapon_y_offset = 0;
15285                        		__st.umiq	0, _weapon_y_offset
         02:CDFB  9C 8E 26   			stz	_weapon_y_offset
15286                        	
15287                        		.dbg	line,	"include\routines_LEVELS.c", 3202; spr_y(player_pos_y + weapon_y_offset);
15288                        		__ld.bm		_weapon_y_offset
         02:CDFE  AD 8E 26   			lda	_weapon_y_offset
         02:CE01  C2         			cly
         02:CE02  10 01      			bpl	!+
         02:CE04  88         			dey
         02:CE05             	!:
15289                        		__add.wm	_player_pos_y
         02:CE05  18         			clc
         02:CE06  6D F8 24   			adc.l	_player_pos_y
         02:CE09  42         			say
         02:CE0A  6D F9 24   			adc.h	_player_pos_y
         02:CE0D  42         			say
15290                        		__call		_spr_y.1
         02:CE0E  20 2D E8   			call	_spr_y.1
15291                        	
15292                        		.dbg	line,	"include\routines_LEVELS.c", 3203; }
15293                        	
15294                        		.dbg	line,	"include\routines_LEVELS.c", 3205; else if(player_counter_attack == 23)
15295                        		__bra		.LL776
         02:CE11  4C A9 CE   			bra	.LL776
15296    02:CE14             	.LL773:
15297                        		__ld.umq	_player_counter_attack
         02:CE14  AD 1F 23   			lda	_player_counter_attack
15298                        		__equ_b.uiq	23
         02:CE17  C9 17      			cmp	#23
         02:CE19  F0 01      			beq	!+
         02:CE1B  18         			clc
         02:CE1C             	!:
15299                        		__bfalse	.LL777
         02:CE1C  B0 03 4C A9			bcc	.LL777
         02:CE20  CE          
15300                        	
15301                        		.dbg	line,	"include\routines_LEVELS.c", 3206; {
15302                        	
15303                        		.dbg	line,	"include\routines_LEVELS.c", 3207; spr_set(chain_id);
15304                        		__ld.umq	_chain_id
         02:CE21  AD 26 23   			lda	_chain_id
15305                        		__call		_spr_set.1
         02:CE24  20 F1 E7   			call	_spr_set.1
15306                        	
15307                        		.dbg	line,	"include\routines_LEVELS.c", 3208; spr_hide();
15308                        		__call		_spr_hide
         02:CE27  20 0C E8   			call	_spr_hide
15309                        	
15310                        		.dbg	line,	"include\routines_LEVELS.c", 3210; spr_set(chain_id+1);
15311                        		__ld.um		_chain_id
         02:CE2A  AD 26 23   			lda	_chain_id
         02:CE2D  C2         			cly
15312                        		__add.wi	1
         02:CE2E  1A         			inc	a
         02:CE2F  D0 01      			bne	!+
         02:CE31  C8         			iny
         02:CE32             	!:
15313                        		__call		_spr_set.1
         02:CE32  20 F1 E7   			call	_spr_set.1
15314                        	
15315                        		.dbg	line,	"include\routines_LEVELS.c", 3211; spr_hide();
15316                        		__call		_spr_hide
         02:CE35  20 0C E8   			call	_spr_hide
15317                        	
15318                        		.dbg	line,	"include\routines_LEVELS.c", 3213; spr_set(chain_id+2);
15319                        		__ld.um		_chain_id
         02:CE38  AD 26 23   			lda	_chain_id
         02:CE3B  C2         			cly
15320                        		__add.wi	2
         02:CE3C  18         			clc
         02:CE3D  69 02      			adc.l	#2
         02:CE3F  90 01      			bcc	!+
         02:CE41  C8         			iny
         02:CE42             	!:
15321                        		__call		_spr_set.1
         02:CE42  20 F1 E7   			call	_spr_set.1
15322                        	
15323                        		.dbg	line,	"include\routines_LEVELS.c", 3214; spr_hide();
15324                        		__call		_spr_hide
         02:CE45  20 0C E8   			call	_spr_hide
15325                        	
15326                        		.dbg	line,	"include\routines_LEVELS.c", 3216; spr_set(player_id);
15327                        		__ld.umq	_player_id
         02:CE48  AD 18 23   			lda	_player_id
15328                        		__call		_spr_set.1
         02:CE4B  20 F1 E7   			call	_spr_set.1
15329                        	
15330                        		.dbg	line,	"include\routines_LEVELS.c", 3217; spr_pattern(PLAYER_CROUCH_VRAM_ADR);
15331                        		__ld.wi		7168
         02:CE4E  62         			cla
         02:CE4F  A0 1C      			ldy.h	#7168
15332                        		__call		_spr_pattern.1
         02:CE51  20 3A E8   			call	_spr_pattern.1
15333                        	
15334                        		.dbg	line,	"include\routines_LEVELS.c", 3219; spr_set(weapon_id);
15335                        		__ld.umq	_weapon_id
         02:CE54  AD 27 23   			lda	_weapon_id
15336                        		__call		_spr_set.1
         02:CE57  20 F1 E7   			call	_spr_set.1
15337                        	
15338                        		.dbg	line,	"include\routines_LEVELS.c", 3220; spr_pattern(WEAPON_IDLE_VRAM_ADRESS);
15339                        		__ld.wi		31808
         02:CE5A  A9 40      			lda.l	#31808
         02:CE5C  A0 7C      			ldy.h	#31808
15340                        		__call		_spr_pattern.1
         02:CE5E  20 3A E8   			call	_spr_pattern.1
15341                        	
15342                        		.dbg	line,	"include\routines_LEVELS.c", 3221; 
15343                        	
15344                        		.dbg	line,	"include\routines_LEVELS.c", 3222; if(player_axis == AXIS_RIGHT)
15345                        		__not.um	_player_axis
         02:CE61  AD 1A 23   			lda	_player_axis
         02:CE64  18         			clc
         02:CE65  D0 01      			bne	!+
         02:CE67  38         			sec
         02:CE68             	!:
15346                        		__bfalse	.LL778
         02:CE68  90 11      			bcc	.LL778
15347                        	
15348                        		.dbg	line,	"include\routines_LEVELS.c", 3223; {
15349                        	
15350                        		.dbg	line,	"include\routines_LEVELS.c", 3224; spr_x(player_pos_x-1);
15351                        		__ld.wm		_player_pos_x
         02:CE6A  AD F6 24   			lda.l	_player_pos_x
         02:CE6D  AC F7 24   			ldy.h	_player_pos_x
15352                        		__sub.wi	1
         02:CE70  38         			sec
         02:CE71  E9 01      			sbc.l	#1
         02:CE73  B0 01      			bcs	!+
         02:CE75  88         			dey
         02:CE76             	!:
15353                        		__call		_spr_x.1
         02:CE76  20 1E E8   			call	_spr_x.1
15354                        	
15355                        		.dbg	line,	"include\routines_LEVELS.c", 3225; }
15356                        	
15357                        		.dbg	line,	"include\routines_LEVELS.c", 3227; else
15358                        		__bra		.LL779
         02:CE79  80 0F      			bra	.LL779
15359    02:CE7B             	.LL778:
15360                        	
15361                        		.dbg	line,	"include\routines_LEVELS.c", 3228; {
15362                        	
15363                        		.dbg	line,	"include\routines_LEVELS.c", 3229; spr_x(player_pos_x+17);
15364                        		__ld.wm		_player_pos_x
         02:CE7B  AD F6 24   			lda.l	_player_pos_x
         02:CE7E  AC F7 24   			ldy.h	_player_pos_x
15365                        		__add.wi	17
         02:CE81  18         			clc
         02:CE82  69 11      			adc.l	#17
         02:CE84  90 01      			bcc	!+
         02:CE86  C8         			iny
         02:CE87             	!:
15366                        		__call		_spr_x.1
         02:CE87  20 1E E8   			call	_spr_x.1
15367                        	
15368                        		.dbg	line,	"include\routines_LEVELS.c", 3230; }
15369    02:CE8A             	.LL779:
15370                        	
15371                        		.dbg	line,	"include\routines_LEVELS.c", 3232; spr_y(player_pos_y+18);
15372                        		__ld.wm		_player_pos_y
         02:CE8A  AD F8 24   			lda.l	_player_pos_y
         02:CE8D  AC F9 24   			ldy.h	_player_pos_y
15373                        		__add.wi	18
         02:CE90  18         			clc
         02:CE91  69 12      			adc.l	#18
         02:CE93  90 01      			bcc	!+
         02:CE95  C8         			iny
         02:CE96             	!:
15374                        		__call		_spr_y.1
         02:CE96  20 2D E8   			call	_spr_y.1
15375                        	
15376                        		.dbg	line,	"include\routines_LEVELS.c", 3234; player_attack = FALSE;
15377                        		__st.umiq	0, _player_attack
         02:CE99  9C 21 23   			stz	_player_attack
15378                        	
15379                        		.dbg	line,	"include\routines_LEVELS.c", 3235; player_counter_attack = 1;
15380                        		__st.umiq	1, _player_counter_attack
         02:CE9C  A9 01      			lda.l	#1
         02:CE9E  8D 1F 23   			sta	_player_counter_attack
15381                        	
15382                        		.dbg	line,	"include\routines_LEVELS.c", 3236; player_state = STATE_CROUCH;
15383                        		__st.umiq	7, _player_state
         02:CEA1  A9 07      			lda.l	#7
         02:CEA3  8D 19 23   			sta	_player_state
15384                        	
15385                        		.dbg	line,	"include\routines_LEVELS.c", 3237; return;
15386                        		__bra		.LL744
         02:CEA6  4C C2 D3   			bra	.LL744
15387                        	
15388                        		.dbg	line,	"include\routines_LEVELS.c", 3238; }
15389                        	
15390                        		.dbg	line,	"include\routines_LEVELS.c", 3240; // CHAIN ANIMATION //
15391                        	
15392                        		.dbg	line,	"include\routines_LEVELS.c", 3241; if(chain_unfold == TRUE)
15393    02:CEA9             	.LL777:
15394    02:CEA9             	.LL776:
15395                        		__ld.umq	_chain_unfold
         02:CEA9  AD 2A 23   			lda	_chain_unfold
15396                        		__equ_b.uiq	1
         02:CEAC  C9 01      			cmp	#1
         02:CEAE  F0 01      			beq	!+
         02:CEB0  18         			clc
         02:CEB1             	!:
15397                        		__bfalse	.LL780
         02:CEB1  B0 03 4C AC			bcc	.LL780
         02:CEB5  D0          
15398                        	
15399                        		.dbg	line,	"include\routines_LEVELS.c", 3242; {
15400                        	
15401                        		.dbg	line,	"include\routines_LEVELS.c", 3243; if(player_counter_attack == 6)
15402                        		__ld.umq	_player_counter_attack
         02:CEB6  AD 1F 23   			lda	_player_counter_attack
15403                        		__equ_b.uiq	6
         02:CEB9  C9 06      			cmp	#6
         02:CEBB  F0 01      			beq	!+
         02:CEBD  18         			clc
         02:CEBE             	!:
15404                        		__bfalse	.LL781
         02:CEBE  90 60      			bcc	.LL781
15405                        	
15406                        		.dbg	line,	"include\routines_LEVELS.c", 3244; {
15407                        	
15408                        		.dbg	line,	"include\routines_LEVELS.c", 3245; spr_set(player_id);
15409                        		__ld.umq	_player_id
         02:CEC0  AD 18 23   			lda	_player_id
15410                        		__call		_spr_set.1
         02:CEC3  20 F1 E7   			call	_spr_set.1
15411                        	
15412                        		.dbg	line,	"include\routines_LEVELS.c", 3246; spr_pattern(PLAYER_CROUCH_ATTACK_2_VRAM_ADR);
15413                        		__ld.wi		10240
         02:CEC6  62         			cla
         02:CEC7  A0 28      			ldy.h	#10240
15414                        		__call		_spr_pattern.1
         02:CEC9  20 3A E8   			call	_spr_pattern.1
15415                        	
15416                        		.dbg	line,	"include\routines_LEVELS.c", 3248; spr_set(weapon_id);
15417                        		__ld.umq	_weapon_id
         02:CECC  AD 27 23   			lda	_weapon_id
15418                        		__call		_spr_set.1
         02:CECF  20 F1 E7   			call	_spr_set.1
15419                        	
15420                        		.dbg	line,	"include\routines_LEVELS.c", 3249; spr_pattern(WEAPON_ATTACK_2_VRAM_ADRESS);
15421                        		__ld.wi		32064
         02:CED2  A9 40      			lda.l	#32064
         02:CED4  A0 7D      			ldy.h	#32064
15422                        		__call		_spr_pattern.1
         02:CED6  20 3A E8   			call	_spr_pattern.1
15423                        	
15424                        		.dbg	line,	"include\routines_LEVELS.c", 3251; if(player_axis == AXIS_RIGHT)
15425                        		__not.um	_player_axis
         02:CED9  AD 1A 23   			lda	_player_axis
         02:CEDC  18         			clc
         02:CEDD  D0 01      			bne	!+
         02:CEDF  38         			sec
         02:CEE0             	!:
15426                        		__bfalse	.LL782
         02:CEE0  90 11      			bcc	.LL782
15427                        	
15428                        		.dbg	line,	"include\routines_LEVELS.c", 3252; {
15429                        	
15430                        		.dbg	line,	"include\routines_LEVELS.c", 3253; spr_x(player_pos_x+32);
15431                        		__ld.wm		_player_pos_x
         02:CEE2  AD F6 24   			lda.l	_player_pos_x
         02:CEE5  AC F7 24   			ldy.h	_player_pos_x
15432                        		__add.wi	32
         02:CEE8  18         			clc
         02:CEE9  69 20      			adc.l	#32
         02:CEEB  90 01      			bcc	!+
         02:CEED  C8         			iny
         02:CEEE             	!:
15433                        		__call		_spr_x.1
         02:CEEE  20 1E E8   			call	_spr_x.1
15434                        	
15435                        		.dbg	line,	"include\routines_LEVELS.c", 3254; 
15436                        	
15437                        		.dbg	line,	"include\routines_LEVELS.c", 3255; }
15438                        	
15439                        		.dbg	line,	"include\routines_LEVELS.c", 3256; 
15440                        	
15441                        		.dbg	line,	"include\routines_LEVELS.c", 3257; else
15442                        		__bra		.LL783
         02:CEF1  80 0F      			bra	.LL783
15443    02:CEF3             	.LL782:
15444                        	
15445                        		.dbg	line,	"include\routines_LEVELS.c", 3258; {
15446                        	
15447                        		.dbg	line,	"include\routines_LEVELS.c", 3259; spr_x(player_pos_x-16);
15448                        		__ld.wm		_player_pos_x
         02:CEF3  AD F6 24   			lda.l	_player_pos_x
         02:CEF6  AC F7 24   			ldy.h	_player_pos_x
15449                        		__sub.wi	16
         02:CEF9  38         			sec
         02:CEFA  E9 10      			sbc.l	#16
         02:CEFC  B0 01      			bcs	!+
         02:CEFE  88         			dey
         02:CEFF             	!:
15450                        		__call		_spr_x.1
         02:CEFF  20 1E E8   			call	_spr_x.1
15451                        	
15452                        		.dbg	line,	"include\routines_LEVELS.c", 3260; }
15453    02:CF02             	.LL783:
15454                        	
15455                        		.dbg	line,	"include\routines_LEVELS.c", 3262; weapon_y_offset = 14;
15456                        		__st.umiq	14, _weapon_y_offset
         02:CF02  A9 0E      			lda.l	#14
         02:CF04  8D 8E 26   			sta	_weapon_y_offset
15457                        	
15458                        		.dbg	line,	"include\routines_LEVELS.c", 3263; spr_y(player_pos_y + weapon_y_offset);
15459                        		__ld.bm		_weapon_y_offset
         02:CF07  AD 8E 26   			lda	_weapon_y_offset
         02:CF0A  C2         			cly
         02:CF0B  10 01      			bpl	!+
         02:CF0D  88         			dey
         02:CF0E             	!:
15460                        		__add.wm	_player_pos_y
         02:CF0E  18         			clc
         02:CF0F  6D F8 24   			adc.l	_player_pos_y
         02:CF12  42         			say
         02:CF13  6D F9 24   			adc.h	_player_pos_y
         02:CF16  42         			say
15461                        		__call		_spr_y.1
         02:CF17  20 2D E8   			call	_spr_y.1
15462                        	
15463                        		.dbg	line,	"include\routines_LEVELS.c", 3265; collision_WEAPON_OBJECTS();
15464                        		__call		_collision_WEAPON_OBJECTS
         02:CF1A  20 13 FF   			call	_collision_WEAPON_OBJECTS
15465                        	
15466                        		.dbg	line,	"include\routines_LEVELS.c", 3266; }
15467                        	
15468                        		.dbg	line,	"include\routines_LEVELS.c", 3268; else if(player_counter_attack == 7)
15469                        		__bra		.LL784
         02:CF1D  4C AC D0   			bra	.LL784
15470    02:CF20             	.LL781:
15471                        		__ld.umq	_player_counter_attack
         02:CF20  AD 1F 23   			lda	_player_counter_attack
15472                        		__equ_b.uiq	7
         02:CF23  C9 07      			cmp	#7
         02:CF25  F0 01      			beq	!+
         02:CF27  18         			clc
         02:CF28             	!:
15473                        		__bfalse	.LL785
         02:CF28  90 77      			bcc	.LL785
15474                        	
15475                        		.dbg	line,	"include\routines_LEVELS.c", 3269; {
15476                        	
15477                        		.dbg	line,	"include\routines_LEVELS.c", 3270; list_chain_active[0] = TRUE;
15478                        		__st.umiq	1, _list_chain_active
         02:CF2A  A9 01      			lda.l	#1
         02:CF2C  8D 2B 23   			sta	_list_chain_active
15479                        	
15480                        		.dbg	line,	"include\routines_LEVELS.c", 3271; spr_set(chain_id);
15481                        		__ld.umq	_chain_id
         02:CF2F  AD 26 23   			lda	_chain_id
15482                        		__call		_spr_set.1
         02:CF32  20 F1 E7   			call	_spr_set.1
15483                        	
15484                        		.dbg	line,	"include\routines_LEVELS.c", 3273; if(player_axis == AXIS_RIGHT)
15485                        		__not.um	_player_axis
         02:CF35  AD 1A 23   			lda	_player_axis
         02:CF38  18         			clc
         02:CF39  D0 01      			bne	!+
         02:CF3B  38         			sec
         02:CF3C             	!:
15486                        		__bfalse	.LL786
         02:CF3C  90 26      			bcc	.LL786
15487                        	
15488                        		.dbg	line,	"include\routines_LEVELS.c", 3274; {
15489                        	
15490                        		.dbg	line,	"include\routines_LEVELS.c", 3275; spr_x(player_pos_x+32);
15491                        		__ld.wm		_player_pos_x
         02:CF3E  AD F6 24   			lda.l	_player_pos_x
         02:CF41  AC F7 24   			ldy.h	_player_pos_x
15492                        		__add.wi	32
         02:CF44  18         			clc
         02:CF45  69 20      			adc.l	#32
         02:CF47  90 01      			bcc	!+
         02:CF49  C8         			iny
         02:CF4A             	!:
15493                        		__call		_spr_x.1
         02:CF4A  20 1E E8   			call	_spr_x.1
15494                        	
15495                        		.dbg	line,	"include\routines_LEVELS.c", 3277; spr_set(weapon_id);
15496                        		__ld.umq	_weapon_id
         02:CF4D  AD 27 23   			lda	_weapon_id
15497                        		__call		_spr_set.1
         02:CF50  20 F1 E7   			call	_spr_set.1
15498                        	
15499                        		.dbg	line,	"include\routines_LEVELS.c", 3278; spr_x(player_pos_x+48);
15500                        		__ld.wm		_player_pos_x
         02:CF53  AD F6 24   			lda.l	_player_pos_x
         02:CF56  AC F7 24   			ldy.h	_player_pos_x
15501                        		__add.wi	48
         02:CF59  18         			clc
         02:CF5A  69 30      			adc.l	#48
         02:CF5C  90 01      			bcc	!+
         02:CF5E  C8         			iny
         02:CF5F             	!:
15502                        		__call		_spr_x.1
         02:CF5F  20 1E E8   			call	_spr_x.1
15503                        	
15504                        		.dbg	line,	"include\routines_LEVELS.c", 3279; }
15505                        	
15506                        		.dbg	line,	"include\routines_LEVELS.c", 3280; 
15507                        	
15508                        		.dbg	line,	"include\routines_LEVELS.c", 3281; else
15509                        		__bra		.LL787
         02:CF62  80 24      			bra	.LL787
15510    02:CF64             	.LL786:
15511                        	
15512                        		.dbg	line,	"include\routines_LEVELS.c", 3282; {
15513                        	
15514                        		.dbg	line,	"include\routines_LEVELS.c", 3283; spr_x(player_pos_x-16);
15515                        		__ld.wm		_player_pos_x
         02:CF64  AD F6 24   			lda.l	_player_pos_x
         02:CF67  AC F7 24   			ldy.h	_player_pos_x
15516                        		__sub.wi	16
         02:CF6A  38         			sec
         02:CF6B  E9 10      			sbc.l	#16
         02:CF6D  B0 01      			bcs	!+
         02:CF6F  88         			dey
         02:CF70             	!:
15517                        		__call		_spr_x.1
         02:CF70  20 1E E8   			call	_spr_x.1
15518                        	
15519                        		.dbg	line,	"include\routines_LEVELS.c", 3285; spr_set(weapon_id);
15520                        		__ld.umq	_weapon_id
         02:CF73  AD 27 23   			lda	_weapon_id
15521                        		__call		_spr_set.1
         02:CF76  20 F1 E7   			call	_spr_set.1
15522                        	
15523                        		.dbg	line,	"include\routines_LEVELS.c", 3286; spr_x(player_pos_x-32);
15524                        		__ld.wm		_player_pos_x
         02:CF79  AD F6 24   			lda.l	_player_pos_x
         02:CF7C  AC F7 24   			ldy.h	_player_pos_x
15525                        		__sub.wi	32
         02:CF7F  38         			sec
         02:CF80  E9 20      			sbc.l	#32
         02:CF82  B0 01      			bcs	!+
         02:CF84  88         			dey
         02:CF85             	!:
15526                        		__call		_spr_x.1
         02:CF85  20 1E E8   			call	_spr_x.1
15527                        	
15528                        		.dbg	line,	"include\routines_LEVELS.c", 3287; }
15529    02:CF88             	.LL787:
15530                        	
15531                        		.dbg	line,	"include\routines_LEVELS.c", 3289; spr_y(player_pos_y + weapon_y_offset);
15532                        		__ld.bm		_weapon_y_offset
         02:CF88  AD 8E 26   			lda	_weapon_y_offset
         02:CF8B  C2         			cly
         02:CF8C  10 01      			bpl	!+
         02:CF8E  88         			dey
         02:CF8F             	!:
15533                        		__add.wm	_player_pos_y
         02:CF8F  18         			clc
         02:CF90  6D F8 24   			adc.l	_player_pos_y
         02:CF93  42         			say
         02:CF94  6D F9 24   			adc.h	_player_pos_y
         02:CF97  42         			say
15534                        		__call		_spr_y.1
         02:CF98  20 2D E8   			call	_spr_y.1
15535                        	
15536                        		.dbg	line,	"include\routines_LEVELS.c", 3291; collision_WEAPON_OBJECTS();
15537                        		__call		_collision_WEAPON_OBJECTS
         02:CF9B  20 13 FF   			call	_collision_WEAPON_OBJECTS
15538                        	
15539                        		.dbg	line,	"include\routines_LEVELS.c", 3292; }
15540                        	
15541                        		.dbg	line,	"include\routines_LEVELS.c", 3294; else if(player_counter_attack == 8)
15542                        		__bra		.LL788
         02:CF9E  4C AC D0   			bra	.LL788
15543    02:CFA1             	.LL785:
15544                        		__ld.umq	_player_counter_attack
         02:CFA1  AD 1F 23   			lda	_player_counter_attack
15545                        		__equ_b.uiq	8
         02:CFA4  C9 08      			cmp	#8
         02:CFA6  F0 01      			beq	!+
         02:CFA8  18         			clc
         02:CFA9             	!:
15546                        		__bfalse	.LL789
         02:CFA9  90 7C      			bcc	.LL789
15547                        	
15548                        		.dbg	line,	"include\routines_LEVELS.c", 3295; {
15549                        	
15550                        		.dbg	line,	"include\routines_LEVELS.c", 3296; list_chain_active[1] = TRUE;
15551                        		__st.umiq	1, _list_chain_active + 1
         02:CFAB  A9 01      			lda.l	#1
         02:CFAD  8D 2C 23   			sta	_list_chain_active + 1
15552                        	
15553                        		.dbg	line,	"include\routines_LEVELS.c", 3297; spr_set(chain_id+1);
15554                        		__ld.um		_chain_id
         02:CFB0  AD 26 23   			lda	_chain_id
         02:CFB3  C2         			cly
15555                        		__add.wi	1
         02:CFB4  1A         			inc	a
         02:CFB5  D0 01      			bne	!+
         02:CFB7  C8         			iny
         02:CFB8             	!:
15556                        		__call		_spr_set.1
         02:CFB8  20 F1 E7   			call	_spr_set.1
15557                        	
15558                        		.dbg	line,	"include\routines_LEVELS.c", 3299; if(player_axis == AXIS_RIGHT)
15559                        		__not.um	_player_axis
         02:CFBB  AD 1A 23   			lda	_player_axis
         02:CFBE  18         			clc
         02:CFBF  D0 01      			bne	!+
         02:CFC1  38         			sec
         02:CFC2             	!:
15560                        		__bfalse	.LL790
         02:CFC2  90 26      			bcc	.LL790
15561                        	
15562                        		.dbg	line,	"include\routines_LEVELS.c", 3300; {
15563                        	
15564                        		.dbg	line,	"include\routines_LEVELS.c", 3301; spr_x(player_pos_x+48);
15565                        		__ld.wm		_player_pos_x
         02:CFC4  AD F6 24   			lda.l	_player_pos_x
         02:CFC7  AC F7 24   			ldy.h	_player_pos_x
15566                        		__add.wi	48
         02:CFCA  18         			clc
         02:CFCB  69 30      			adc.l	#48
         02:CFCD  90 01      			bcc	!+
         02:CFCF  C8         			iny
         02:CFD0             	!:
15567                        		__call		_spr_x.1
         02:CFD0  20 1E E8   			call	_spr_x.1
15568                        	
15569                        		.dbg	line,	"include\routines_LEVELS.c", 3303; spr_set(weapon_id);
15570                        		__ld.umq	_weapon_id
         02:CFD3  AD 27 23   			lda	_weapon_id
15571                        		__call		_spr_set.1
         02:CFD6  20 F1 E7   			call	_spr_set.1
15572                        	
15573                        		.dbg	line,	"include\routines_LEVELS.c", 3304; spr_x(player_pos_x+64);
15574                        		__ld.wm		_player_pos_x
         02:CFD9  AD F6 24   			lda.l	_player_pos_x
         02:CFDC  AC F7 24   			ldy.h	_player_pos_x
15575                        		__add.wi	64
         02:CFDF  18         			clc
         02:CFE0  69 40      			adc.l	#64
         02:CFE2  90 01      			bcc	!+
         02:CFE4  C8         			iny
         02:CFE5             	!:
15576                        		__call		_spr_x.1
         02:CFE5  20 1E E8   			call	_spr_x.1
15577                        	
15578                        		.dbg	line,	"include\routines_LEVELS.c", 3305; }
15579                        	
15580                        		.dbg	line,	"include\routines_LEVELS.c", 3306; 
15581                        	
15582                        		.dbg	line,	"include\routines_LEVELS.c", 3307; else
15583                        		__bra		.LL791
         02:CFE8  80 24      			bra	.LL791
15584    02:CFEA             	.LL790:
15585                        	
15586                        		.dbg	line,	"include\routines_LEVELS.c", 3308; {
15587                        	
15588                        		.dbg	line,	"include\routines_LEVELS.c", 3309; spr_x(player_pos_x-32);
15589                        		__ld.wm		_player_pos_x
         02:CFEA  AD F6 24   			lda.l	_player_pos_x
         02:CFED  AC F7 24   			ldy.h	_player_pos_x
15590                        		__sub.wi	32
         02:CFF0  38         			sec
         02:CFF1  E9 20      			sbc.l	#32
         02:CFF3  B0 01      			bcs	!+
         02:CFF5  88         			dey
         02:CFF6             	!:
15591                        		__call		_spr_x.1
         02:CFF6  20 1E E8   			call	_spr_x.1
15592                        	
15593                        		.dbg	line,	"include\routines_LEVELS.c", 3311; spr_set(weapon_id);
15594                        		__ld.umq	_weapon_id
         02:CFF9  AD 27 23   			lda	_weapon_id
15595                        		__call		_spr_set.1
         02:CFFC  20 F1 E7   			call	_spr_set.1
15596                        	
15597                        		.dbg	line,	"include\routines_LEVELS.c", 3312; spr_x(player_pos_x-48);
15598                        		__ld.wm		_player_pos_x
         02:CFFF  AD F6 24   			lda.l	_player_pos_x
         02:D002  AC F7 24   			ldy.h	_player_pos_x
15599                        		__sub.wi	48
         02:D005  38         			sec
         02:D006  E9 30      			sbc.l	#48
         02:D008  B0 01      			bcs	!+
         02:D00A  88         			dey
         02:D00B             	!:
15600                        		__call		_spr_x.1
         02:D00B  20 1E E8   			call	_spr_x.1
15601                        	
15602                        		.dbg	line,	"include\routines_LEVELS.c", 3313; }
15603    02:D00E             	.LL791:
15604                        	
15605                        		.dbg	line,	"include\routines_LEVELS.c", 3315; spr_y(player_pos_y + weapon_y_offset);
15606                        		__ld.bm		_weapon_y_offset
         02:D00E  AD 8E 26   			lda	_weapon_y_offset
         02:D011  C2         			cly
         02:D012  10 01      			bpl	!+
         02:D014  88         			dey
         02:D015             	!:
15607                        		__add.wm	_player_pos_y
         02:D015  18         			clc
         02:D016  6D F8 24   			adc.l	_player_pos_y
         02:D019  42         			say
         02:D01A  6D F9 24   			adc.h	_player_pos_y
         02:D01D  42         			say
15608                        		__call		_spr_y.1
         02:D01E  20 2D E8   			call	_spr_y.1
15609                        	
15610                        		.dbg	line,	"include\routines_LEVELS.c", 3317; collision_WEAPON_OBJECTS();
15611                        		__call		_collision_WEAPON_OBJECTS
         02:D021  20 13 FF   			call	_collision_WEAPON_OBJECTS
15612                        	
15613                        		.dbg	line,	"include\routines_LEVELS.c", 3318; }
15614                        	
15615                        		.dbg	line,	"include\routines_LEVELS.c", 3320; else if(player_counter_attack == 9)
15616                        		__bra		.LL792
         02:D024  4C AC D0   			bra	.LL792
15617    02:D027             	.LL789:
15618                        		__ld.umq	_player_counter_attack
         02:D027  AD 1F 23   			lda	_player_counter_attack
15619                        		__equ_b.uiq	9
         02:D02A  C9 09      			cmp	#9
         02:D02C  F0 01      			beq	!+
         02:D02E  18         			clc
         02:D02F             	!:
15620                        		__bfalse	.LL793
         02:D02F  90 7B      			bcc	.LL793
15621                        	
15622                        		.dbg	line,	"include\routines_LEVELS.c", 3321; {
15623                        	
15624                        		.dbg	line,	"include\routines_LEVELS.c", 3322; list_chain_active[2] = TRUE;
15625                        		__st.umiq	1, _list_chain_active + 2
         02:D031  A9 01      			lda.l	#1
         02:D033  8D 2D 23   			sta	_list_chain_active + 2
15626                        	
15627                        		.dbg	line,	"include\routines_LEVELS.c", 3323; spr_set(chain_id+2);
15628                        		__ld.um		_chain_id
         02:D036  AD 26 23   			lda	_chain_id
         02:D039  C2         			cly
15629                        		__add.wi	2
         02:D03A  18         			clc
         02:D03B  69 02      			adc.l	#2
         02:D03D  90 01      			bcc	!+
         02:D03F  C8         			iny
         02:D040             	!:
15630                        		__call		_spr_set.1
         02:D040  20 F1 E7   			call	_spr_set.1
15631                        	
15632                        		.dbg	line,	"include\routines_LEVELS.c", 3325; if(player_axis == AXIS_RIGHT)
15633                        		__not.um	_player_axis
         02:D043  AD 1A 23   			lda	_player_axis
         02:D046  18         			clc
         02:D047  D0 01      			bne	!+
         02:D049  38         			sec
         02:D04A             	!:
15634                        		__bfalse	.LL794
         02:D04A  90 26      			bcc	.LL794
15635                        	
15636                        		.dbg	line,	"include\routines_LEVELS.c", 3326; {
15637                        	
15638                        		.dbg	line,	"include\routines_LEVELS.c", 3327; spr_x(player_pos_x+64);
15639                        		__ld.wm		_player_pos_x
         02:D04C  AD F6 24   			lda.l	_player_pos_x
         02:D04F  AC F7 24   			ldy.h	_player_pos_x
15640                        		__add.wi	64
         02:D052  18         			clc
         02:D053  69 40      			adc.l	#64
         02:D055  90 01      			bcc	!+
         02:D057  C8         			iny
         02:D058             	!:
15641                        		__call		_spr_x.1
         02:D058  20 1E E8   			call	_spr_x.1
15642                        	
15643                        		.dbg	line,	"include\routines_LEVELS.c", 3329; spr_set(weapon_id);
15644                        		__ld.umq	_weapon_id
         02:D05B  AD 27 23   			lda	_weapon_id
15645                        		__call		_spr_set.1
         02:D05E  20 F1 E7   			call	_spr_set.1
15646                        	
15647                        		.dbg	line,	"include\routines_LEVELS.c", 3330; spr_x(player_pos_x+80);
15648                        		__ld.wm		_player_pos_x
         02:D061  AD F6 24   			lda.l	_player_pos_x
         02:D064  AC F7 24   			ldy.h	_player_pos_x
15649                        		__add.wi	80
         02:D067  18         			clc
         02:D068  69 50      			adc.l	#80
         02:D06A  90 01      			bcc	!+
         02:D06C  C8         			iny
         02:D06D             	!:
15650                        		__call		_spr_x.1
         02:D06D  20 1E E8   			call	_spr_x.1
15651                        	
15652                        		.dbg	line,	"include\routines_LEVELS.c", 3331; }
15653                        	
15654                        		.dbg	line,	"include\routines_LEVELS.c", 3332; 
15655                        	
15656                        		.dbg	line,	"include\routines_LEVELS.c", 3333; else
15657                        		__bra		.LL795
         02:D070  80 24      			bra	.LL795
15658    02:D072             	.LL794:
15659                        	
15660                        		.dbg	line,	"include\routines_LEVELS.c", 3334; {
15661                        	
15662                        		.dbg	line,	"include\routines_LEVELS.c", 3335; spr_x(player_pos_x-48);
15663                        		__ld.wm		_player_pos_x
         02:D072  AD F6 24   			lda.l	_player_pos_x
         02:D075  AC F7 24   			ldy.h	_player_pos_x
15664                        		__sub.wi	48
         02:D078  38         			sec
         02:D079  E9 30      			sbc.l	#48
         02:D07B  B0 01      			bcs	!+
         02:D07D  88         			dey
         02:D07E             	!:
15665                        		__call		_spr_x.1
         02:D07E  20 1E E8   			call	_spr_x.1
15666                        	
15667                        		.dbg	line,	"include\routines_LEVELS.c", 3337; spr_set(weapon_id);
15668                        		__ld.umq	_weapon_id
         02:D081  AD 27 23   			lda	_weapon_id
15669                        		__call		_spr_set.1
         02:D084  20 F1 E7   			call	_spr_set.1
15670                        	
15671                        		.dbg	line,	"include\routines_LEVELS.c", 3338; spr_x(player_pos_x-64);
15672                        		__ld.wm		_player_pos_x
         02:D087  AD F6 24   			lda.l	_player_pos_x
         02:D08A  AC F7 24   			ldy.h	_player_pos_x
15673                        		__sub.wi	64
         02:D08D  38         			sec
         02:D08E  E9 40      			sbc.l	#64
         02:D090  B0 01      			bcs	!+
         02:D092  88         			dey
         02:D093             	!:
15674                        		__call		_spr_x.1
         02:D093  20 1E E8   			call	_spr_x.1
15675                        	
15676                        		.dbg	line,	"include\routines_LEVELS.c", 3339; }
15677    02:D096             	.LL795:
15678                        	
15679                        		.dbg	line,	"include\routines_LEVELS.c", 3341; spr_y(player_pos_y + weapon_y_offset);
15680                        		__ld.bm		_weapon_y_offset
         02:D096  AD 8E 26   			lda	_weapon_y_offset
         02:D099  C2         			cly
         02:D09A  10 01      			bpl	!+
         02:D09C  88         			dey
         02:D09D             	!:
15681                        		__add.wm	_player_pos_y
         02:D09D  18         			clc
         02:D09E  6D F8 24   			adc.l	_player_pos_y
         02:D0A1  42         			say
         02:D0A2  6D F9 24   			adc.h	_player_pos_y
         02:D0A5  42         			say
15682                        		__call		_spr_y.1
         02:D0A6  20 2D E8   			call	_spr_y.1
15683                        	
15684                        		.dbg	line,	"include\routines_LEVELS.c", 3343; collision_WEAPON_OBJECTS();
15685                        		__call		_collision_WEAPON_OBJECTS
         02:D0A9  20 13 FF   			call	_collision_WEAPON_OBJECTS
15686                        	
15687                        		.dbg	line,	"include\routines_LEVELS.c", 3344; }
15688                        	
15689                        		.dbg	line,	"include\routines_LEVELS.c", 3345; }
15690    02:D0AC             	.LL793:
15691    02:D0AC             	.LL792:
15692    02:D0AC             	.LL788:
15693    02:D0AC             	.LL784:
15694                        	
15695                        		.dbg	line,	"include\routines_LEVELS.c", 3348; player_counter_attack += 1;
15696    02:D0AC             	.LL780:
15697                        		__add_st.umiq	1, _player_counter_attack
         02:D0AC  EE 1F 23   			inc	_player_counter_attack
15698                        	
15699                        		.dbg	line,	"include\routines_LEVELS.c", 3351; // SET CHAIN Y POSITION //
15700                        	
15701                        		.dbg	line,	"include\routines_LEVELS.c", 3352; for(i=0 ; i<3 ; i++)
15702                        		__st.umiq	0, __update_WEAPON_end - 2  /* i */
         02:D0AF  9C 0D 23   			stz	__update_WEAPON_end - 2
15703    02:D0B2             	.LL796:
15704                        		__ld.umq	__update_WEAPON_end - 2  /* i */
         02:D0B2  AD 0D 23   			lda	__update_WEAPON_end - 2
15705                        		__ult_b.uiq	3
         02:D0B5  C9 03      			cmp	#3		; Subtract integer from A.
         02:D0B7  6A         			ror	a		; CC if A < integer.
         02:D0B8  49 80      			eor	#$80
         02:D0BA  2A         			rol	a
15706                        		__btrue		.LL798
         02:D0BB  B0 08      			bcs	.LL798
15707                        		__bra		.LL799
         02:D0BD  4C C2 D3   			bra	.LL799
15708    02:D0C0             	.LL797:
15709                        		__inc.umq	__update_WEAPON_end - 2  /* i */
         02:D0C0  EE 0D 23   			inc	__update_WEAPON_end - 2
15710                        		__bra		.LL796
         02:D0C3  80 ED      			bra	.LL796
15711    02:D0C5             	.LL798:
15712                        	
15713                        		.dbg	line,	"include\routines_LEVELS.c", 3353; {
15714                        	
15715                        		.dbg	line,	"include\routines_LEVELS.c", 3354; spr_set(chain_id+i);
15716                        		__ld.um		_chain_id
         02:D0C5  AD 26 23   			lda	_chain_id
         02:D0C8  C2         			cly
15717                        		__add.um	__update_WEAPON_end - 2  /* i */
         02:D0C9  18         			clc
         02:D0CA  6D 0D 23   			adc	__update_WEAPON_end - 2
         02:D0CD  90 01      			bcc	!+
         02:D0CF  C8         			iny
         02:D0D0             	!:
15718                        		__call		_spr_set.1
         02:D0D0  20 F1 E7   			call	_spr_set.1
15719                        	
15720                        		.dbg	line,	"include\routines_LEVELS.c", 3356; spr_y( ((player_pos_y + 24) * list_chain_active[i]) - 16); //list_chain_active[0] = TRUE;
15721                        		__ld.wm		_player_pos_y
         02:D0D3  AD F8 24   			lda.l	_player_pos_y
         02:D0D6  AC F9 24   			ldy.h	_player_pos_y
15722                        		__add.wi	24
         02:D0D9  18         			clc
         02:D0DA  69 18      			adc.l	#24
         02:D0DC  90 01      			bcc	!+
         02:D0DE  C8         			iny
         02:D0DF             	!:
15723                        		__push.wr
         02:D0DF  5A         			phy
         02:D0E0  48         			pha
15724                        		__ldx.umq	__update_WEAPON_end - 2  /* i */
         02:D0E1  AE 0D 23   			ldx	__update_WEAPON_end - 2
15725                        		__ld.uax	_list_chain_active
         02:D0E4  BD 2B 23   			lda	_list_chain_active, x
         02:D0E7  C2         			cly
15726                        		__mul.wt
         02:D0E8  85 00      			sta.l	<multiplier
         02:D0EA  84 01      			sty.h	<multiplier
         02:D0EC  68         			pla
         02:D0ED  7A         			ply
         02:D0EE  20 60 E4   			jsr	__mulint
15727                        		__sub.wi	16
         02:D0F1  38         			sec
         02:D0F2  E9 10      			sbc.l	#16
         02:D0F4  B0 01      			bcs	!+
         02:D0F6  88         			dey
         02:D0F7             	!:
15728                        		__call		_spr_y.1
         02:D0F7  20 2D E8   			call	_spr_y.1
15729                        	
15730                        		.dbg	line,	"include\routines_LEVELS.c", 3357; }
15731                        		__bra		.LL797
         02:D0FA  80 C4      			bra	.LL797
15732    02:D0FC             	.LL799	.alias		.LL800
15733                        	
15734                        		.dbg	line,	"include\routines_LEVELS.c", 3358; }
15735                        	
15736                        		.dbg	line,	"include\routines_LEVELS.c", 3361; else if(player_state == STATE_HANG)
15737                        		__bra		.LL800
         02:D0FC  4C C2 D3   			bra	.LL800
15738    02:D0FF             	.LL772:
15739                        		__ld.umq	_player_state
         02:D0FF  AD 19 23   			lda	_player_state
15740                        		__equ_b.uiq	10
         02:D102  C9 0A      			cmp	#10
         02:D104  F0 01      			beq	!+
         02:D106  18         			clc
         02:D107             	!:
15741                        		__bfalse	.LL801
         02:D107  B0 03 4C C2			bcc	.LL801
         02:D10B  D3          
15742                        	
15743                        		.dbg	line,	"include\routines_LEVELS.c", 3362; {
15744                        	
15745                        		.dbg	line,	"include\routines_LEVELS.c", 3363; if(player_attack == TRUE)
15746                        		__ld.umq	_player_attack
         02:D10C  AD 21 23   			lda	_player_attack
15747                        		__equ_b.uiq	1
         02:D10F  C9 01      			cmp	#1
         02:D111  F0 01      			beq	!+
         02:D113  18         			clc
         02:D114             	!:
15748                        		__bfalse	.LL802
         02:D114  B0 03 4C C2			bcc	.LL802
         02:D118  D3          
15749                        	
15750                        		.dbg	line,	"include\routines_LEVELS.c", 3364; {
15751                        	
15752                        		.dbg	line,	"include\routines_LEVELS.c", 3365; if(player_counter_attack == 0)
15753                        		__not.um	_player_counter_attack
         02:D119  AD 1F 23   			lda	_player_counter_attack
         02:D11C  18         			clc
         02:D11D  D0 01      			bne	!+
         02:D11F  38         			sec
         02:D120             	!:
15754                        		__bfalse	.LL803
         02:D120  90 53      			bcc	.LL803
15755                        	
15756                        		.dbg	line,	"include\routines_LEVELS.c", 3366; {
15757                        	
15758                        		.dbg	line,	"include\routines_LEVELS.c", 3367; spr_set(player_id);
15759                        		__ld.umq	_player_id
         02:D122  AD 18 23   			lda	_player_id
15760                        		__call		_spr_set.1
         02:D125  20 F1 E7   			call	_spr_set.1
15761                        	
15762                        		.dbg	line,	"include\routines_LEVELS.c", 3368; spr_pattern(PLAYER_HANG_ATTACK_1_VRAM_ADR);
15763                        		__ld.wi		11008
         02:D128  62         			cla
         02:D129  A0 2B      			ldy.h	#11008
15764                        		__call		_spr_pattern.1
         02:D12B  20 3A E8   			call	_spr_pattern.1
15765                        	
15766                        		.dbg	line,	"include\routines_LEVELS.c", 3370; spr_set(weapon_id);
15767                        		__ld.umq	_weapon_id
         02:D12E  AD 27 23   			lda	_weapon_id
15768                        		__call		_spr_set.1
         02:D131  20 F1 E7   			call	_spr_set.1
15769                        	
15770                        		.dbg	line,	"include\routines_LEVELS.c", 3371; spr_pattern(WEAPON_ATTACK_1_VRAM_ADRESS);
15771                        		__ld.wi		32000
         02:D134  62         			cla
         02:D135  A0 7D      			ldy.h	#32000
15772                        		__call		_spr_pattern.1
         02:D137  20 3A E8   			call	_spr_pattern.1
15773                        	
15774                        		.dbg	line,	"include\routines_LEVELS.c", 3373; if(player_axis == AXIS_RIGHT)
15775                        		__not.um	_player_axis
         02:D13A  AD 1A 23   			lda	_player_axis
         02:D13D  18         			clc
         02:D13E  D0 01      			bne	!+
         02:D140  38         			sec
         02:D141             	!:
15776                        		__bfalse	.LL804
         02:D141  90 11      			bcc	.LL804
15777                        	
15778                        		.dbg	line,	"include\routines_LEVELS.c", 3374; {
15779                        	
15780                        		.dbg	line,	"include\routines_LEVELS.c", 3375; spr_x(player_pos_x-14);
15781                        		__ld.wm		_player_pos_x
         02:D143  AD F6 24   			lda.l	_player_pos_x
         02:D146  AC F7 24   			ldy.h	_player_pos_x
15782                        		__sub.wi	14
         02:D149  38         			sec
         02:D14A  E9 0E      			sbc.l	#14
         02:D14C  B0 01      			bcs	!+
         02:D14E  88         			dey
         02:D14F             	!:
15783                        		__call		_spr_x.1
         02:D14F  20 1E E8   			call	_spr_x.1
15784                        	
15785                        		.dbg	line,	"include\routines_LEVELS.c", 3376; }
15786                        	
15787                        		.dbg	line,	"include\routines_LEVELS.c", 3378; else
15788                        		__bra		.LL805
         02:D152  80 0F      			bra	.LL805
15789    02:D154             	.LL804:
15790                        	
15791                        		.dbg	line,	"include\routines_LEVELS.c", 3379; {
15792                        	
15793                        		.dbg	line,	"include\routines_LEVELS.c", 3380; spr_x(player_pos_x+29);
15794                        		__ld.wm		_player_pos_x
         02:D154  AD F6 24   			lda.l	_player_pos_x
         02:D157  AC F7 24   			ldy.h	_player_pos_x
15795                        		__add.wi	29
         02:D15A  18         			clc
         02:D15B  69 1D      			adc.l	#29
         02:D15D  90 01      			bcc	!+
         02:D15F  C8         			iny
         02:D160             	!:
15796                        		__call		_spr_x.1
         02:D160  20 1E E8   			call	_spr_x.1
15797                        	
15798                        		.dbg	line,	"include\routines_LEVELS.c", 3381; }
15799    02:D163             	.LL805:
15800                        	
15801                        		.dbg	line,	"include\routines_LEVELS.c", 3383; spr_y(player_pos_y-8);
15802                        		__ld.wm		_player_pos_y
         02:D163  AD F8 24   			lda.l	_player_pos_y
         02:D166  AC F9 24   			ldy.h	_player_pos_y
15803                        		__sub.wi	8
         02:D169  38         			sec
         02:D16A  E9 08      			sbc.l	#8
         02:D16C  B0 01      			bcs	!+
         02:D16E  88         			dey
         02:D16F             	!:
15804                        		__call		_spr_y.1
         02:D16F  20 2D E8   			call	_spr_y.1
15805                        	
15806                        		.dbg	line,	"include\routines_LEVELS.c", 3384; }
15807                        	
15808                        		.dbg	line,	"include\routines_LEVELS.c", 3386; else if(player_counter_attack == 6)
15809                        		__bra		.LL806
         02:D172  4C BF D3   			bra	.LL806
15810    02:D175             	.LL803:
15811                        		__ld.umq	_player_counter_attack
         02:D175  AD 1F 23   			lda	_player_counter_attack
15812                        		__equ_b.uiq	6
         02:D178  C9 06      			cmp	#6
         02:D17A  F0 01      			beq	!+
         02:D17C  18         			clc
         02:D17D             	!:
15813                        		__bfalse	.LL807
         02:D17D  90 54      			bcc	.LL807
15814                        	
15815                        		.dbg	line,	"include\routines_LEVELS.c", 3387; {
15816                        	
15817                        		.dbg	line,	"include\routines_LEVELS.c", 3388; spr_set(player_id);
15818                        		__ld.umq	_player_id
         02:D17F  AD 18 23   			lda	_player_id
15819                        		__call		_spr_set.1
         02:D182  20 F1 E7   			call	_spr_set.1
15820                        	
15821                        		.dbg	line,	"include\routines_LEVELS.c", 3389; spr_pattern(PLAYER_HANG_ATTACK_2_VRAM_ADR);
15822                        		__ld.wi		11264
         02:D185  62         			cla
         02:D186  A0 2C      			ldy.h	#11264
15823                        		__call		_spr_pattern.1
         02:D188  20 3A E8   			call	_spr_pattern.1
15824                        	
15825                        		.dbg	line,	"include\routines_LEVELS.c", 3391; spr_set(weapon_id);
15826                        		__ld.umq	_weapon_id
         02:D18B  AD 27 23   			lda	_weapon_id
15827                        		__call		_spr_set.1
         02:D18E  20 F1 E7   			call	_spr_set.1
15828                        	
15829                        		.dbg	line,	"include\routines_LEVELS.c", 3392; spr_pattern(WEAPON_ATTACK_2_VRAM_ADRESS);
15830                        		__ld.wi		32064
         02:D191  A9 40      			lda.l	#32064
         02:D193  A0 7D      			ldy.h	#32064
15831                        		__call		_spr_pattern.1
         02:D195  20 3A E8   			call	_spr_pattern.1
15832                        	
15833                        		.dbg	line,	"include\routines_LEVELS.c", 3394; if(player_axis == AXIS_RIGHT)
15834                        		__not.um	_player_axis
         02:D198  AD 1A 23   			lda	_player_axis
         02:D19B  18         			clc
         02:D19C  D0 01      			bne	!+
         02:D19E  38         			sec
         02:D19F             	!:
15835                        		__bfalse	.LL808
         02:D19F  90 11      			bcc	.LL808
15836                        	
15837                        		.dbg	line,	"include\routines_LEVELS.c", 3395; {
15838                        	
15839                        		.dbg	line,	"include\routines_LEVELS.c", 3396; spr_x(player_pos_x+32);
15840                        		__ld.wm		_player_pos_x
         02:D1A1  AD F6 24   			lda.l	_player_pos_x
         02:D1A4  AC F7 24   			ldy.h	_player_pos_x
15841                        		__add.wi	32
         02:D1A7  18         			clc
         02:D1A8  69 20      			adc.l	#32
         02:D1AA  90 01      			bcc	!+
         02:D1AC  C8         			iny
         02:D1AD             	!:
15842                        		__call		_spr_x.1
         02:D1AD  20 1E E8   			call	_spr_x.1
15843                        	
15844                        		.dbg	line,	"include\routines_LEVELS.c", 3397; 
15845                        	
15846                        		.dbg	line,	"include\routines_LEVELS.c", 3398; }
15847                        	
15848                        		.dbg	line,	"include\routines_LEVELS.c", 3399; 
15849                        	
15850                        		.dbg	line,	"include\routines_LEVELS.c", 3400; else
15851                        		__bra		.LL809
         02:D1B0  80 0F      			bra	.LL809
15852    02:D1B2             	.LL808:
15853                        	
15854                        		.dbg	line,	"include\routines_LEVELS.c", 3401; {
15855                        	
15856                        		.dbg	line,	"include\routines_LEVELS.c", 3402; spr_x(player_pos_x-16);
15857                        		__ld.wm		_player_pos_x
         02:D1B2  AD F6 24   			lda.l	_player_pos_x
         02:D1B5  AC F7 24   			ldy.h	_player_pos_x
15858                        		__sub.wi	16
         02:D1B8  38         			sec
         02:D1B9  E9 10      			sbc.l	#16
         02:D1BB  B0 01      			bcs	!+
         02:D1BD  88         			dey
         02:D1BE             	!:
15859                        		__call		_spr_x.1
         02:D1BE  20 1E E8   			call	_spr_x.1
15860                        	
15861                        		.dbg	line,	"include\routines_LEVELS.c", 3403; }
15862    02:D1C1             	.LL809:
15863                        	
15864                        		.dbg	line,	"include\routines_LEVELS.c", 3405; spr_y(player_pos_y+6);
15865                        		__ld.wm		_player_pos_y
         02:D1C1  AD F8 24   			lda.l	_player_pos_y
         02:D1C4  AC F9 24   			ldy.h	_player_pos_y
15866                        		__add.wi	6
         02:D1C7  18         			clc
         02:D1C8  69 06      			adc.l	#6
         02:D1CA  90 01      			bcc	!+
         02:D1CC  C8         			iny
         02:D1CD             	!:
15867                        		__call		_spr_y.1
         02:D1CD  20 2D E8   			call	_spr_y.1
15868                        	
15869                        		.dbg	line,	"include\routines_LEVELS.c", 3406; }
15870                        	
15871                        		.dbg	line,	"include\routines_LEVELS.c", 3408; else if(player_counter_attack == 7)
15872                        		__bra		.LL810
         02:D1D0  4C BF D3   			bra	.LL810
15873    02:D1D3             	.LL807:
15874                        		__ld.umq	_player_counter_attack
         02:D1D3  AD 1F 23   			lda	_player_counter_attack
15875                        		__equ_b.uiq	7
         02:D1D6  C9 07      			cmp	#7
         02:D1D8  F0 01      			beq	!+
         02:D1DA  18         			clc
         02:D1DB             	!:
15876                        		__bfalse	.LL811
         02:D1DB  90 66      			bcc	.LL811
15877                        	
15878                        		.dbg	line,	"include\routines_LEVELS.c", 3409; {
15879                        	
15880                        		.dbg	line,	"include\routines_LEVELS.c", 3410; spr_set(chain_id);
15881                        		__ld.umq	_chain_id
         02:D1DD  AD 26 23   			lda	_chain_id
15882                        		__call		_spr_set.1
         02:D1E0  20 F1 E7   			call	_spr_set.1
15883                        	
15884                        		.dbg	line,	"include\routines_LEVELS.c", 3411; spr_y(player_pos_y);
15885                        		__ld.wm		_player_pos_y
         02:D1E3  AD F8 24   			lda.l	_player_pos_y
         02:D1E6  AC F9 24   			ldy.h	_player_pos_y
15886                        		__call		_spr_y.1
         02:D1E9  20 2D E8   			call	_spr_y.1
15887                        	
15888                        		.dbg	line,	"include\routines_LEVELS.c", 3413; if(player_axis == AXIS_RIGHT)
15889                        		__not.um	_player_axis
         02:D1EC  AD 1A 23   			lda	_player_axis
         02:D1EF  18         			clc
         02:D1F0  D0 01      			bne	!+
         02:D1F2  38         			sec
         02:D1F3             	!:
15890                        		__bfalse	.LL812
         02:D1F3  90 27      			bcc	.LL812
15891                        	
15892                        		.dbg	line,	"include\routines_LEVELS.c", 3414; {
15893                        	
15894                        		.dbg	line,	"include\routines_LEVELS.c", 3415; spr_x(player_pos_x+32);
15895                        		__ld.wm		_player_pos_x
         02:D1F5  AD F6 24   			lda.l	_player_pos_x
         02:D1F8  AC F7 24   			ldy.h	_player_pos_x
15896                        		__add.wi	32
         02:D1FB  18         			clc
         02:D1FC  69 20      			adc.l	#32
         02:D1FE  90 01      			bcc	!+
         02:D200  C8         			iny
         02:D201             	!:
15897                        		__call		_spr_x.1
         02:D201  20 1E E8   			call	_spr_x.1
15898                        	
15899                        		.dbg	line,	"include\routines_LEVELS.c", 3417; spr_set(weapon_id);
15900                        		__ld.umq	_weapon_id
         02:D204  AD 27 23   			lda	_weapon_id
15901                        		__call		_spr_set.1
         02:D207  20 F1 E7   			call	_spr_set.1
15902                        	
15903                        		.dbg	line,	"include\routines_LEVELS.c", 3418; spr_x(player_pos_x+48);
15904                        		__ld.wm		_player_pos_x
         02:D20A  AD F6 24   			lda.l	_player_pos_x
         02:D20D  AC F7 24   			ldy.h	_player_pos_x
15905                        		__add.wi	48
         02:D210  18         			clc
         02:D211  69 30      			adc.l	#48
         02:D213  90 01      			bcc	!+
         02:D215  C8         			iny
         02:D216             	!:
15906                        		__call		_spr_x.1
         02:D216  20 1E E8   			call	_spr_x.1
15907                        	
15908                        		.dbg	line,	"include\routines_LEVELS.c", 3419; }
15909                        	
15910                        		.dbg	line,	"include\routines_LEVELS.c", 3420; 
15911                        	
15912                        		.dbg	line,	"include\routines_LEVELS.c", 3421; else
15913                        		__bra		.LL813
         02:D219  4C BF D3   			bra	.LL813
15914    02:D21C             	.LL812:
15915                        	
15916                        		.dbg	line,	"include\routines_LEVELS.c", 3422; {
15917                        	
15918                        		.dbg	line,	"include\routines_LEVELS.c", 3423; spr_x(player_pos_x-16);
15919                        		__ld.wm		_player_pos_x
         02:D21C  AD F6 24   			lda.l	_player_pos_x
         02:D21F  AC F7 24   			ldy.h	_player_pos_x
15920                        		__sub.wi	16
         02:D222  38         			sec
         02:D223  E9 10      			sbc.l	#16
         02:D225  B0 01      			bcs	!+
         02:D227  88         			dey
         02:D228             	!:
15921                        		__call		_spr_x.1
         02:D228  20 1E E8   			call	_spr_x.1
15922                        	
15923                        		.dbg	line,	"include\routines_LEVELS.c", 3425; spr_set(weapon_id);
15924                        		__ld.umq	_weapon_id
         02:D22B  AD 27 23   			lda	_weapon_id
15925                        		__call		_spr_set.1
         02:D22E  20 F1 E7   			call	_spr_set.1
15926                        	
15927                        		.dbg	line,	"include\routines_LEVELS.c", 3426; spr_x(player_pos_x-32);
15928                        		__ld.wm		_player_pos_x
         02:D231  AD F6 24   			lda.l	_player_pos_x
         02:D234  AC F7 24   			ldy.h	_player_pos_x
15929                        		__sub.wi	32
         02:D237  38         			sec
         02:D238  E9 20      			sbc.l	#32
         02:D23A  B0 01      			bcs	!+
         02:D23C  88         			dey
         02:D23D             	!:
15930                        		__call		_spr_x.1
         02:D23D  20 1E E8   			call	_spr_x.1
15931                        	
15932                        		.dbg	line,	"include\routines_LEVELS.c", 3427; }
15933    02:D240             	.LL813	.alias		.LL814
15934                        	
15935                        		.dbg	line,	"include\routines_LEVELS.c", 3428; }
15936                        	
15937                        		.dbg	line,	"include\routines_LEVELS.c", 3430; else if(player_counter_attack == 8)
15938                        		__bra		.LL814
         02:D240  4C BF D3   			bra	.LL814
15939    02:D243             	.LL811:
15940                        		__ld.umq	_player_counter_attack
         02:D243  AD 1F 23   			lda	_player_counter_attack
15941                        		__equ_b.uiq	8
         02:D246  C9 08      			cmp	#8
         02:D248  F0 01      			beq	!+
         02:D24A  18         			clc
         02:D24B             	!:
15942                        		__bfalse	.LL815
         02:D24B  90 6B      			bcc	.LL815
15943                        	
15944                        		.dbg	line,	"include\routines_LEVELS.c", 3431; {
15945                        	
15946                        		.dbg	line,	"include\routines_LEVELS.c", 3432; spr_set(chain_id+1);
15947                        		__ld.um		_chain_id
         02:D24D  AD 26 23   			lda	_chain_id
         02:D250  C2         			cly
15948                        		__add.wi	1
         02:D251  1A         			inc	a
         02:D252  D0 01      			bne	!+
         02:D254  C8         			iny
         02:D255             	!:
15949                        		__call		_spr_set.1
         02:D255  20 F1 E7   			call	_spr_set.1
15950                        	
15951                        		.dbg	line,	"include\routines_LEVELS.c", 3433; spr_y(player_pos_y);
15952                        		__ld.wm		_player_pos_y
         02:D258  AD F8 24   			lda.l	_player_pos_y
         02:D25B  AC F9 24   			ldy.h	_player_pos_y
15953                        		__call		_spr_y.1
         02:D25E  20 2D E8   			call	_spr_y.1
15954                        	
15955                        		.dbg	line,	"include\routines_LEVELS.c", 3435; if(player_axis == AXIS_RIGHT)
15956                        		__not.um	_player_axis
         02:D261  AD 1A 23   			lda	_player_axis
         02:D264  18         			clc
         02:D265  D0 01      			bne	!+
         02:D267  38         			sec
         02:D268             	!:
15957                        		__bfalse	.LL816
         02:D268  90 27      			bcc	.LL816
15958                        	
15959                        		.dbg	line,	"include\routines_LEVELS.c", 3436; {
15960                        	
15961                        		.dbg	line,	"include\routines_LEVELS.c", 3437; spr_x(player_pos_x+48);
15962                        		__ld.wm		_player_pos_x
         02:D26A  AD F6 24   			lda.l	_player_pos_x
         02:D26D  AC F7 24   			ldy.h	_player_pos_x
15963                        		__add.wi	48
         02:D270  18         			clc
         02:D271  69 30      			adc.l	#48
         02:D273  90 01      			bcc	!+
         02:D275  C8         			iny
         02:D276             	!:
15964                        		__call		_spr_x.1
         02:D276  20 1E E8   			call	_spr_x.1
15965                        	
15966                        		.dbg	line,	"include\routines_LEVELS.c", 3439; spr_set(weapon_id);
15967                        		__ld.umq	_weapon_id
         02:D279  AD 27 23   			lda	_weapon_id
15968                        		__call		_spr_set.1
         02:D27C  20 F1 E7   			call	_spr_set.1
15969                        	
15970                        		.dbg	line,	"include\routines_LEVELS.c", 3440; spr_x(player_pos_x+64);
15971                        		__ld.wm		_player_pos_x
         02:D27F  AD F6 24   			lda.l	_player_pos_x
         02:D282  AC F7 24   			ldy.h	_player_pos_x
15972                        		__add.wi	64
         02:D285  18         			clc
         02:D286  69 40      			adc.l	#64
         02:D288  90 01      			bcc	!+
         02:D28A  C8         			iny
         02:D28B             	!:
15973                        		__call		_spr_x.1
         02:D28B  20 1E E8   			call	_spr_x.1
15974                        	
15975                        		.dbg	line,	"include\routines_LEVELS.c", 3441; }
15976                        	
15977                        		.dbg	line,	"include\routines_LEVELS.c", 3442; 
15978                        	
15979                        		.dbg	line,	"include\routines_LEVELS.c", 3443; else
15980                        		__bra		.LL817
         02:D28E  4C BF D3   			bra	.LL817
15981    02:D291             	.LL816:
15982                        	
15983                        		.dbg	line,	"include\routines_LEVELS.c", 3444; {
15984                        	
15985                        		.dbg	line,	"include\routines_LEVELS.c", 3445; spr_x(player_pos_x-32);
15986                        		__ld.wm		_player_pos_x
         02:D291  AD F6 24   			lda.l	_player_pos_x
         02:D294  AC F7 24   			ldy.h	_player_pos_x
15987                        		__sub.wi	32
         02:D297  38         			sec
         02:D298  E9 20      			sbc.l	#32
         02:D29A  B0 01      			bcs	!+
         02:D29C  88         			dey
         02:D29D             	!:
15988                        		__call		_spr_x.1
         02:D29D  20 1E E8   			call	_spr_x.1
15989                        	
15990                        		.dbg	line,	"include\routines_LEVELS.c", 3447; spr_set(weapon_id);
15991                        		__ld.umq	_weapon_id
         02:D2A0  AD 27 23   			lda	_weapon_id
15992                        		__call		_spr_set.1
         02:D2A3  20 F1 E7   			call	_spr_set.1
15993                        	
15994                        		.dbg	line,	"include\routines_LEVELS.c", 3448; spr_x(player_pos_x-48);
15995                        		__ld.wm		_player_pos_x
         02:D2A6  AD F6 24   			lda.l	_player_pos_x
         02:D2A9  AC F7 24   			ldy.h	_player_pos_x
15996                        		__sub.wi	48
         02:D2AC  38         			sec
         02:D2AD  E9 30      			sbc.l	#48
         02:D2AF  B0 01      			bcs	!+
         02:D2B1  88         			dey
         02:D2B2             	!:
15997                        		__call		_spr_x.1
         02:D2B2  20 1E E8   			call	_spr_x.1
15998                        	
15999                        		.dbg	line,	"include\routines_LEVELS.c", 3449; }
16000    02:D2B5             	.LL817	.alias		.LL818
16001                        	
16002                        		.dbg	line,	"include\routines_LEVELS.c", 3450; }
16003                        	
16004                        		.dbg	line,	"include\routines_LEVELS.c", 3452; else if(player_counter_attack == 9)
16005                        		__bra		.LL818
         02:D2B5  4C BF D3   			bra	.LL818
16006    02:D2B8             	.LL815:
16007                        		__ld.umq	_player_counter_attack
         02:D2B8  AD 1F 23   			lda	_player_counter_attack
16008                        		__equ_b.uiq	9
         02:D2BB  C9 09      			cmp	#9
         02:D2BD  F0 01      			beq	!+
         02:D2BF  18         			clc
         02:D2C0             	!:
16009                        		__bfalse	.LL819
         02:D2C0  90 6D      			bcc	.LL819
16010                        	
16011                        		.dbg	line,	"include\routines_LEVELS.c", 3453; {
16012                        	
16013                        		.dbg	line,	"include\routines_LEVELS.c", 3454; spr_set(chain_id+2);
16014                        		__ld.um		_chain_id
         02:D2C2  AD 26 23   			lda	_chain_id
         02:D2C5  C2         			cly
16015                        		__add.wi	2
         02:D2C6  18         			clc
         02:D2C7  69 02      			adc.l	#2
         02:D2C9  90 01      			bcc	!+
         02:D2CB  C8         			iny
         02:D2CC             	!:
16016                        		__call		_spr_set.1
         02:D2CC  20 F1 E7   			call	_spr_set.1
16017                        	
16018                        		.dbg	line,	"include\routines_LEVELS.c", 3455; spr_y(player_pos_y);
16019                        		__ld.wm		_player_pos_y
         02:D2CF  AD F8 24   			lda.l	_player_pos_y
         02:D2D2  AC F9 24   			ldy.h	_player_pos_y
16020                        		__call		_spr_y.1
         02:D2D5  20 2D E8   			call	_spr_y.1
16021                        	
16022                        		.dbg	line,	"include\routines_LEVELS.c", 3457; if(player_axis == AXIS_RIGHT)
16023                        		__not.um	_player_axis
         02:D2D8  AD 1A 23   			lda	_player_axis
         02:D2DB  18         			clc
         02:D2DC  D0 01      			bne	!+
         02:D2DE  38         			sec
         02:D2DF             	!:
16024                        		__bfalse	.LL820
         02:D2DF  90 27      			bcc	.LL820
16025                        	
16026                        		.dbg	line,	"include\routines_LEVELS.c", 3458; {
16027                        	
16028                        		.dbg	line,	"include\routines_LEVELS.c", 3459; spr_x(player_pos_x+64);
16029                        		__ld.wm		_player_pos_x
         02:D2E1  AD F6 24   			lda.l	_player_pos_x
         02:D2E4  AC F7 24   			ldy.h	_player_pos_x
16030                        		__add.wi	64
         02:D2E7  18         			clc
         02:D2E8  69 40      			adc.l	#64
         02:D2EA  90 01      			bcc	!+
         02:D2EC  C8         			iny
         02:D2ED             	!:
16031                        		__call		_spr_x.1
         02:D2ED  20 1E E8   			call	_spr_x.1
16032                        	
16033                        		.dbg	line,	"include\routines_LEVELS.c", 3461; spr_set(weapon_id);
16034                        		__ld.umq	_weapon_id
         02:D2F0  AD 27 23   			lda	_weapon_id
16035                        		__call		_spr_set.1
         02:D2F3  20 F1 E7   			call	_spr_set.1
16036                        	
16037                        		.dbg	line,	"include\routines_LEVELS.c", 3462; spr_x(player_pos_x+80);
16038                        		__ld.wm		_player_pos_x
         02:D2F6  AD F6 24   			lda.l	_player_pos_x
         02:D2F9  AC F7 24   			ldy.h	_player_pos_x
16039                        		__add.wi	80
         02:D2FC  18         			clc
         02:D2FD  69 50      			adc.l	#80
         02:D2FF  90 01      			bcc	!+
         02:D301  C8         			iny
         02:D302             	!:
16040                        		__call		_spr_x.1
         02:D302  20 1E E8   			call	_spr_x.1
16041                        	
16042                        		.dbg	line,	"include\routines_LEVELS.c", 3463; }
16043                        	
16044                        		.dbg	line,	"include\routines_LEVELS.c", 3464; 
16045                        	
16046                        		.dbg	line,	"include\routines_LEVELS.c", 3465; else
16047                        		__bra		.LL821
         02:D305  4C BF D3   			bra	.LL821
16048    02:D308             	.LL820:
16049                        	
16050                        		.dbg	line,	"include\routines_LEVELS.c", 3466; {
16051                        	
16052                        		.dbg	line,	"include\routines_LEVELS.c", 3467; spr_x(player_pos_x-48);
16053                        		__ld.wm		_player_pos_x
         02:D308  AD F6 24   			lda.l	_player_pos_x
         02:D30B  AC F7 24   			ldy.h	_player_pos_x
16054                        		__sub.wi	48
         02:D30E  38         			sec
         02:D30F  E9 30      			sbc.l	#48
         02:D311  B0 01      			bcs	!+
         02:D313  88         			dey
         02:D314             	!:
16055                        		__call		_spr_x.1
         02:D314  20 1E E8   			call	_spr_x.1
16056                        	
16057                        		.dbg	line,	"include\routines_LEVELS.c", 3469; spr_set(weapon_id);
16058                        		__ld.umq	_weapon_id
         02:D317  AD 27 23   			lda	_weapon_id
16059                        		__call		_spr_set.1
         02:D31A  20 F1 E7   			call	_spr_set.1
16060                        	
16061                        		.dbg	line,	"include\routines_LEVELS.c", 3470; spr_x(player_pos_x-64);
16062                        		__ld.wm		_player_pos_x
         02:D31D  AD F6 24   			lda.l	_player_pos_x
         02:D320  AC F7 24   			ldy.h	_player_pos_x
16063                        		__sub.wi	64
         02:D323  38         			sec
         02:D324  E9 40      			sbc.l	#64
         02:D326  B0 01      			bcs	!+
         02:D328  88         			dey
         02:D329             	!:
16064                        		__call		_spr_x.1
         02:D329  20 1E E8   			call	_spr_x.1
16065                        	
16066                        		.dbg	line,	"include\routines_LEVELS.c", 3471; }
16067    02:D32C             	.LL821	.alias		.LL822
16068                        	
16069                        		.dbg	line,	"include\routines_LEVELS.c", 3472; }
16070                        	
16071                        		.dbg	line,	"include\routines_LEVELS.c", 3474; else if(player_counter_attack == 23)
16072                        		__bra		.LL822
         02:D32C  4C BF D3   			bra	.LL822
16073    02:D32F             	.LL819:
16074                        		__ld.umq	_player_counter_attack
         02:D32F  AD 1F 23   			lda	_player_counter_attack
16075                        		__equ_b.uiq	23
         02:D332  C9 17      			cmp	#23
         02:D334  F0 01      			beq	!+
         02:D336  18         			clc
         02:D337             	!:
16076                        		__bfalse	.LL823
         02:D337  B0 03 4C BF			bcc	.LL823
         02:D33B  D3          
16077                        	
16078                        		.dbg	line,	"include\routines_LEVELS.c", 3475; {
16079                        	
16080                        		.dbg	line,	"include\routines_LEVELS.c", 3476; spr_set(chain_id);
16081                        		__ld.umq	_chain_id
         02:D33C  AD 26 23   			lda	_chain_id
16082                        		__call		_spr_set.1
         02:D33F  20 F1 E7   			call	_spr_set.1
16083                        	
16084                        		.dbg	line,	"include\routines_LEVELS.c", 3477; spr_hide();
16085                        		__call		_spr_hide
         02:D342  20 0C E8   			call	_spr_hide
16086                        	
16087                        		.dbg	line,	"include\routines_LEVELS.c", 3479; spr_set(chain_id+1);
16088                        		__ld.um		_chain_id
         02:D345  AD 26 23   			lda	_chain_id
         02:D348  C2         			cly
16089                        		__add.wi	1
         02:D349  1A         			inc	a
         02:D34A  D0 01      			bne	!+
         02:D34C  C8         			iny
         02:D34D             	!:
16090                        		__call		_spr_set.1
         02:D34D  20 F1 E7   			call	_spr_set.1
16091                        	
16092                        		.dbg	line,	"include\routines_LEVELS.c", 3480; spr_hide();
16093                        		__call		_spr_hide
         02:D350  20 0C E8   			call	_spr_hide
16094                        	
16095                        		.dbg	line,	"include\routines_LEVELS.c", 3482; spr_set(chain_id+2);
16096                        		__ld.um		_chain_id
         02:D353  AD 26 23   			lda	_chain_id
         02:D356  C2         			cly
16097                        		__add.wi	2
         02:D357  18         			clc
         02:D358  69 02      			adc.l	#2
         02:D35A  90 01      			bcc	!+
         02:D35C  C8         			iny
         02:D35D             	!:
16098                        		__call		_spr_set.1
         02:D35D  20 F1 E7   			call	_spr_set.1
16099                        	
16100                        		.dbg	line,	"include\routines_LEVELS.c", 3483; spr_hide();
16101                        		__call		_spr_hide
         02:D360  20 0C E8   			call	_spr_hide
16102                        	
16103                        		.dbg	line,	"include\routines_LEVELS.c", 3485; spr_set(player_id);
16104                        		__ld.umq	_player_id
         02:D363  AD 18 23   			lda	_player_id
16105                        		__call		_spr_set.1
         02:D366  20 F1 E7   			call	_spr_set.1
16106                        	
16107                        		.dbg	line,	"include\routines_LEVELS.c", 3486; spr_pattern(PLAYER_HANG_VRAM_ADR);
16108                        		__ld.wi		7424
         02:D369  62         			cla
         02:D36A  A0 1D      			ldy.h	#7424
16109                        		__call		_spr_pattern.1
         02:D36C  20 3A E8   			call	_spr_pattern.1
16110                        	
16111                        		.dbg	line,	"include\routines_LEVELS.c", 3488; spr_set(weapon_id);
16112                        		__ld.umq	_weapon_id
         02:D36F  AD 27 23   			lda	_weapon_id
16113                        		__call		_spr_set.1
         02:D372  20 F1 E7   			call	_spr_set.1
16114                        	
16115                        		.dbg	line,	"include\routines_LEVELS.c", 3489; spr_pattern(WEAPON_IDLE_VRAM_ADRESS);
16116                        		__ld.wi		31808
         02:D375  A9 40      			lda.l	#31808
         02:D377  A0 7C      			ldy.h	#31808
16117                        		__call		_spr_pattern.1
         02:D379  20 3A E8   			call	_spr_pattern.1
16118                        	
16119                        		.dbg	line,	"include\routines_LEVELS.c", 3490; spr_y(player_pos_y+5);
16120                        		__ld.wm		_player_pos_y
         02:D37C  AD F8 24   			lda.l	_player_pos_y
         02:D37F  AC F9 24   			ldy.h	_player_pos_y
16121                        		__add.wi	5
         02:D382  18         			clc
         02:D383  69 05      			adc.l	#5
         02:D385  90 01      			bcc	!+
         02:D387  C8         			iny
         02:D388             	!:
16122                        		__call		_spr_y.1
         02:D388  20 2D E8   			call	_spr_y.1
16123                        	
16124                        		.dbg	line,	"include\routines_LEVELS.c", 3492; if(player_axis == AXIS_RIGHT)
16125                        		__not.um	_player_axis
         02:D38B  AD 1A 23   			lda	_player_axis
         02:D38E  18         			clc
         02:D38F  D0 01      			bne	!+
         02:D391  38         			sec
         02:D392             	!:
16126                        		__bfalse	.LL824
         02:D392  90 11      			bcc	.LL824
16127                        	
16128                        		.dbg	line,	"include\routines_LEVELS.c", 3493; {
16129                        	
16130                        		.dbg	line,	"include\routines_LEVELS.c", 3494; spr_x(player_pos_x+17);
16131                        		__ld.wm		_player_pos_x
         02:D394  AD F6 24   			lda.l	_player_pos_x
         02:D397  AC F7 24   			ldy.h	_player_pos_x
16132                        		__add.wi	17
         02:D39A  18         			clc
         02:D39B  69 11      			adc.l	#17
         02:D39D  90 01      			bcc	!+
         02:D39F  C8         			iny
         02:D3A0             	!:
16133                        		__call		_spr_x.1
         02:D3A0  20 1E E8   			call	_spr_x.1
16134                        	
16135                        		.dbg	line,	"include\routines_LEVELS.c", 3495; }
16136                        	
16137                        		.dbg	line,	"include\routines_LEVELS.c", 3497; else
16138                        		__bra		.LL825
         02:D3A3  80 0F      			bra	.LL825
16139    02:D3A5             	.LL824:
16140                        	
16141                        		.dbg	line,	"include\routines_LEVELS.c", 3498; {
16142                        	
16143                        		.dbg	line,	"include\routines_LEVELS.c", 3499; spr_x(player_pos_x-2);
16144                        		__ld.wm		_player_pos_x
         02:D3A5  AD F6 24   			lda.l	_player_pos_x
         02:D3A8  AC F7 24   			ldy.h	_player_pos_x
16145                        		__sub.wi	2
         02:D3AB  38         			sec
         02:D3AC  E9 02      			sbc.l	#2
         02:D3AE  B0 01      			bcs	!+
         02:D3B0  88         			dey
         02:D3B1             	!:
16146                        		__call		_spr_x.1
         02:D3B1  20 1E E8   			call	_spr_x.1
16147                        	
16148                        		.dbg	line,	"include\routines_LEVELS.c", 3500; }
16149    02:D3B4             	.LL825:
16150                        	
16151                        		.dbg	line,	"include\routines_LEVELS.c", 3502; player_attack = FALSE;
16152                        		__st.umiq	0, _player_attack
         02:D3B4  9C 21 23   			stz	_player_attack
16153                        	
16154                        		.dbg	line,	"include\routines_LEVELS.c", 3503; player_counter_attack = 0;
16155                        		__st.umiq	0, _player_counter_attack
         02:D3B7  9C 1F 23   			stz	_player_counter_attack
16156                        	
16157                        		.dbg	line,	"include\routines_LEVELS.c", 3504; player_state = STATE_HANG;
16158                        		__st.umiq	10, _player_state
         02:D3BA  A9 0A      			lda.l	#10
         02:D3BC  8D 19 23   			sta	_player_state
16159                        	
16160                        		.dbg	line,	"include\routines_LEVELS.c", 3505; }
16161                        	
16162                        		.dbg	line,	"include\routines_LEVELS.c", 3508; player_counter_attack += 1;
16163    02:D3BF             	.LL823:
16164    02:D3BF             	.LL822:
16165    02:D3BF             	.LL818:
16166    02:D3BF             	.LL814:
16167    02:D3BF             	.LL810:
16168    02:D3BF             	.LL806:
16169                        		__add_st.umiq	1, _player_counter_attack
         02:D3BF  EE 1F 23   			inc	_player_counter_attack
16170                        	
16171                        		.dbg	line,	"include\routines_LEVELS.c", 3509; } 
16172                        	
16173                        		.dbg	line,	"include\routines_LEVELS.c", 3510; }
16174    02:D3C2             	.LL802:
16175                        	
16176                        		.dbg	line,	"include\routines_LEVELS.c", 3511; }
16177    02:D3C2             	.LL801:
16178    02:D3C2             	.LL800:
16179    02:D3C2             	.LL771:
16180    02:D3C2             	.LL744:
16181                        		__return	0
         02:D3C2  4C EF FF   			jmp	leave_proc
16182                        		.dbg	clear
16183                        		.endp
16184               230D     		.bss
16185    F8:230D             			ds	2
16186    F8:230F             	__update_WEAPON_end:
16187               E31D     		.code
16188                        		.pceas
16189                        	
16190                        		.dbg	line,	"main.c", 27; #include "include/routines_SHOP.c"
16191                        		.dbg	line,	"include\routines_SHOP.c", 1; #include "huc.h"
16192                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 1; #ifndef _hucc_legacy_h
16193                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 2; #define _hucc_legacy_h
16194                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 4; /****************************************************************************
16195                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 5; ; ***************************************************************************
16196                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 6; ;
16197                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 7; ; huc.h
16198                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 8; ;
16199                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 9; ; HuCC wrapper file to include a default set of HuC-compatible functions.
16200                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 10; ;
16201                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 11; ; Copyright John Brandwood 2024.
16202                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 12; ;
16203                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 13; ; Distributed under the Boost Software License, Version 1.0.
16204                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
16205                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
16206                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 16; ;
16207                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 17; ; ***************************************************************************
16208                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 18; ; ***************************************************************************
16209                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 19; ;
16210                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 20; ; When the HuCC compiler is invoked with the "--legacy" option to compile old
16211                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 21; ; projects, then this "huc.h" file is automatically included.
16212                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 22; ;
16213                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 23; ; This file includes a set of the individual HuCC headers which correspond to
16214                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 24; ; HuC's built-in functions and MagicKit library.
16215                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 25; ;
16216                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 26; ; New HuCC projects should, preferably, include the specific headers that are
16217                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 27; ; needed, which will then allow them to replace parts of the standard library
16218                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 28; ; with newer functions, or they can just manually include this "huc.h" file.
16219                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 29; ;
16220                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 30; ; ***************************************************************************
16221                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 31; ; **************************************************************************/
16222                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 33; #include "hucc-systemcard.h"
16223                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 34; #include "hucc-baselib.h"
16224                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 35; #include "hucc-gfx.h"
16225                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 36; #include "hucc-old-scroll.h"
16226                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 37; #include "hucc-old-spr.h"
16227                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 38; #include "hucc-old-map.h"
16228                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 39; #include "hucc-old-line.h"
16229                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 41; #include <stdlib.h>
16230                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 42; #include <string.h>
16231                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 44; #endif // _hucc_legacy_h
16232                        		.dbg	line,	"include\routines_SHOP.c", 2; #include "hucc-scroll.h"
16233                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 1; #ifndef _hucc_scroll_h
16234                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 2; #define _hucc_scroll_h
16235                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 4; /****************************************************************************
16236                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 5; ; ***************************************************************************
16237                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 6; ;
16238                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 7; ; hucc-scroll.h
16239                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 8; ;
16240                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 9; ; Routines for a fast split-screen scrolling system.
16241                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 10; ;
16242                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 11; ; Copyright John Brandwood 2024.
16243                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 12; ;
16244                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 13; ; Distributed under the Boost Software License, Version 1.0.
16245                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
16246                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
16247                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 16; ;
16248                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 17; ; ***************************************************************************
16249                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 18; ; ***************************************************************************
16250                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 19; ;
16251                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 20; ; The maximum number of splits for each screen layer is set in your project's
16252                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 21; ; "hucc-config.inc" file, with the library having a limit of 128-per-layer.
16253                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 22; ;
16254                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 23; ; Your first active split must be defined to start at screen line 0, and then
16255                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 24; ; the rest of the active splits must be in increasing line order to match the
16256                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 25; ; way that the PC Engine displays the output image.
16257                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 26; ;
16258                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 27; ; You can have disabled splits interleaved with your active splits.
16259                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 28; ;
16260                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 29; ; Splits that are normally disabled can be used to create full screen effects
16261                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 30; ; such as bouncing the screen up and down by adding blank areas at the top or
16262                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 31; ; bottom of the screen, and then rapidly changing the height of those areas.
16263                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 32; ;
16264                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 33; ; ***************************************************************************
16265                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 34; ; **************************************************************************/
16266                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 36; // *************
16267                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 37; // VDC bits for display_flags ...
16268                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 38; // *************
16269                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 40; #ifndef BKG_OFF
16270                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 41; #define BKG_OFF 0x00
16271                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 42; #endif
16272                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 44; #ifndef SPR_OFF
16273                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 45; #define SPR_OFF 0x00
16274                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 46; #endif
16275                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 48; #ifndef BKG_ON
16276                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 49; #define BKG_ON 0x80
16277                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 50; #endif
16278                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 52; #ifndef SPR_ON
16279                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 53; #define SPR_ON 0x40
16280                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 54; #endif
16281                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 56; // *************
16282                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 57; // Functions in hucc-scroll.asm ...
16283                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 58; // *************
16284                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 60; #ifdef __HUCC__
16285                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 62; #asmdef	HUCC_USES_NEW_SCROLL 1
16286                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 64; extern void __fastcall scroll_split( unsigned char index<_al>, unsigned char screen_line<_ah>, unsigned int bat_x<_bx>, unsigned int bat_y<_cx>, unsigned char display_flags<_dl> );
16287                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 65; extern void __fastcall sgx_scroll_split( unsigned char index<_al>, unsigned char screen_line<_ah>, unsigned int bat_x<_bx>, unsigned int bat_y<_cx>, unsigned char display_flags<_dl> );
16288                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 67; extern void __fastcall disable_split( unsigned char index<acc> );
16289                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 68; extern void __fastcall sgx_disable_split( unsigned char index<acc> );
16290                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 70; extern void __fastcall __macro disable_all_splits( void );
16291                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 71; extern void __fastcall __macro sgx_disable_all_splits( void );
16292                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 73; #asm
16293                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 74; .macro	_disable_all_splits
16294                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 75; ldy	#HUCC_PCE_SPLITS - 1
16295                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 76; !loop:		tya
16296                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 77; call	_disable_split.1
16297                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 78; dey
16298                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 79; bpl	!loop-
16299                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 80; .endm
16300                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 82; .macro	_sgx_disable_all_splits
16301                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 83; ldy	#HUCC_SGX_SPLITS - 1
16302                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 84; !loop:		tya
16303                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 85; call	_sgx_disable_split.1
16304                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 86; dey
16305                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 87; bpl	!loop-
16306                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 88; .endm
16307                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 89; #endasm
16308                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 91; #endif // __HUCC__
16309                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 93; #endif // _hucc_scroll_h
16310                        		.dbg	line,	"include\routines_SHOP.c", 3; #include "hucc-chrmap.h"
16311                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 1; #ifndef _hucc_chrmap_h
16312                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 2; #define _hucc_chrmap_h
16313                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 4; /****************************************************************************
16314                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 5; ; ***************************************************************************
16315                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 6; ;
16316                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 7; ; hucc-chrmap.h
16317                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 8; ;
16318                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 9; ; A simple map system based on 8x8 characters (aka "tiles") in BAT format.
16319                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 10; ;
16320                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 11; ; Copyright John Brandwood 2025.
16321                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 12; ;
16322                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 13; ; Distributed under the Boost Software License, Version 1.0.
16323                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
16324                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
16325                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 16; ;
16326                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 17; ; ***************************************************************************
16327                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 18; ; ***************************************************************************
16328                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 19; ;
16329                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 20; ; The maximum X and Y size for chrmaps is 256 characters (2048 pixels).
16330                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 21; ;
16331                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 22; ; The maximum total size for a chrmap is 16KBytes, which allows for maps up
16332                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 23; ; to 256x32 tiles (2048x256 pixels).
16333                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 24; ;
16334                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 25; ; ***************************************************************************
16335                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 26; ; **************************************************************************/
16336                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 28; // *************
16337                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 29; // This code extends the blkmap library ...
16338                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 30; // *************
16339                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 32; #include "hucc-blkmap.h"
16340                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 34; // *************
16341                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 35; // Functions in chrmap.asm ...
16342                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 36; // *************
16343                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 38; #ifdef __HUCC__
16344                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 40; #asmdef	HUCC_USES_CHRMAP 1
16345                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 42; extern void __fastcall __nop set_chrmap( unsigned char __far *chrmap<vdc_map_bank:vdc_map_addr>, unsigned char tiles_w<vdc_map_line_w> );
16346                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 44; extern void __fastcall draw_bat( void );
16347                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 45; extern void __fastcall scroll_bat( void );
16348                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 47; extern void __fastcall blit_bat( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
16349                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 49; #ifdef _SGX
16350                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 51; extern void __fastcall __nop sgx_set_chrmap( unsigned char __far *chrmap<sgx_map_bank:sgx_map_addr>, unsigned char tiles_w<sgx_map_line_w> );
16351                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 53; extern void __fastcall sgx_draw_bat( void );
16352                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 54; extern void __fastcall sgx_scroll_bat( void );
16353                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 56; extern void __fastcall sgx_blit_bat( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
16354                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 58; #endif
16355                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 60; #endif // __HUCC__
16356                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 62; #endif // _hucc_chrmap_h
16357                        		.dbg	line,	"include\routines_SHOP.c", 4; #include "hucc-blkmap.h"
16358                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 1; #ifndef _hucc_blkmap_h
16359                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 2; #define _hucc_blkmap_h
16360                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 4; /****************************************************************************
16361                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 5; ; ***************************************************************************
16362                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 6; ;
16363                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 7; ; hucc-blkmap.h
16364                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 8; ;
16365                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 9; ; A map system based on 16x16 meta-tiles (aka "blocks", aka CHR/BLK/MAP).
16366                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 10; ;
16367                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 11; ; Copyright John Brandwood 2025.
16368                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 12; ;
16369                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 13; ; Distributed under the Boost Software License, Version 1.0.
16370                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
16371                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
16372                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 16; ;
16373                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 17; ; ***************************************************************************
16374                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 18; ; ***************************************************************************
16375                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 19; ;
16376                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 20; ; The maximum X and Y size for blkmaps is 128 blocks (2048 pixels).
16377                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 21; ;
16378                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 22; ; The maximum total size for a blkmap is 16KBytes, which allows for maps up
16379                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 23; ; to 128x128 blocks (2048x2048 pixels).
16380                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 24; ;
16381                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 25; ; Huge multi-screen blkmaps are also supported (optionally).
16382                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 26; ;
16383                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 27; ; The maximum X and Y for multi-screen maps is 128 screens (32768 pixels).
16384                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 28; ;
16385                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 29; ; The maximum total size for a multi-screen map is 8KBytes, which allows for
16386                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 30; ; a total of 1024 screens.
16387                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 31; ;
16388                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 32; ; ***************************************************************************
16389                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 33; ; **************************************************************************/
16390                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 35; // *************
16391                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 36; // Functions in blkmap.asm ...
16392                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 37; // *************
16393                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 39; #ifdef __HUCC__
16394                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 41; #asmdef	HUCC_USES_BLKMAP 1
16395                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 43; // Current top-left of drawn map in pixels.
16396                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 44; extern unsigned int   vdc_map_pxl_x;
16397                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 45; extern unsigned int   vdc_map_pxl_y;
16398                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 47; // Width and height to draw/scroll in characters (not tiles).
16399                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 48; extern unsigned char  vdc_map_draw_w;
16400                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 49; extern unsigned char  vdc_map_draw_h;
16401                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 51; // Width of map (or multi-screen BAT) in tiles.
16402                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 52; extern unsigned char  vdc_map_line_w;
16403                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 54; // Width of map in screens (if multi-screen map).
16404                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 55; extern unsigned char  vdc_map_scrn_w;
16405                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 57; // Extra information returned by get_map_block() and sgx_get_map_block(),
16406                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 58; // which are the collision flags and the mask/overlay sprite for the BLK.
16407                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 59; extern unsigned char  map_blk_flag;
16408                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 60; extern unsigned char  map_blk_mask;
16409                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 62; extern unsigned char  vdc_scr_bank;
16410                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 63; extern unsigned char *vdc_scr_addr;
16411                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 65; extern unsigned char  vdc_map_bank;
16412                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 66; extern unsigned char *vdc_map_addr;
16413                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 68; extern unsigned char  vdc_blk_bank;
16414                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 69; extern unsigned char *vdc_blk_addr;
16415                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 71; extern unsigned char  vdc_tbl_bank;
16416                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 72; extern unsigned char *vdc_tbl_addr;
16417                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 74; extern void __fastcall set_blocks( unsigned char __far *blk_def<vdc_blk_bank:vdc_blk_addr>, unsigned char __far *flg_def<vdc_tbl_bank:vdc_tbl_addr>, unsigned char number_of_blocks<_al> );
16418                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 75; extern void __fastcall __macro set_blkmap( unsigned char __far *blk_map<vdc_map_bank:vdc_map_addr>, unsigned char blocks_w<vdc_map_line_w> );
16419                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 76; extern void __fastcall __macro set_multimap( unsigned char __far *multi_map<vdc_scr_bank:vdc_scr_addr>, unsigned char screens_w<vdc_map_scrn_w> );
16420                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 78; extern void __fastcall draw_map( void );
16421                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 79; extern void __fastcall scroll_map( void );
16422                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 81; extern void __fastcall blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
16423                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 83; extern unsigned char __fastcall get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
16424                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 85; #asm
16425                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 86; .macro	_set_blkmap.2
16426                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 87; stz	vdc_scr_bank
16427                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 88; .endm
16428                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 90; .macro	_set_multimap.2
16429                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 91; lda	vdc_bat_width
16430                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 92; lsr	a
16431                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 93; sta	vdc_map_line_w
16432                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 94; .endm
16433                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 96; .macro	SCREEN
16434                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 97; db	(((\1) & $1FFF) | $6000) >> 8, bank(\1)
16435                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 98; db	(((\2) & $1FFF) | $4000) >> 8, bank(\2)
16436                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 99; db	(((\3) & $1FFF) | $6000) >> 8, bank(\3)
16437                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 100; dw	(\4)
16438                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 101; .endm
16439                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 102; #endasm
16440                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 104; #ifdef _SGX
16441                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 106; // Current top-left of drawn map in pixels.
16442                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 107; extern unsigned int   sgx_map_pxl_x;
16443                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 108; extern unsigned int   sgx_map_pxl_y;
16444                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 110; // Width and height to draw/scroll in characters (not tiles).
16445                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 111; extern unsigned char  sgx_map_draw_w;
16446                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 112; extern unsigned char  sgx_map_draw_h;
16447                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 114; // Width of map (or multi-screen BAT) in tiles.
16448                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 115; extern unsigned char  sgx_map_line_w;
16449                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 117; // Width of map in screens (if multi-screen map).
16450                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 118; extern unsigned char  sgx_map_scrn_w;
16451                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 120; extern unsigned char  sgx_scr_bank;
16452                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 121; extern unsigned char *sgx_scr_addr;
16453                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 123; extern unsigned char  sgx_map_bank;
16454                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 124; extern unsigned char *sgx_map_addr;
16455                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 126; extern unsigned char  sgx_blk_bank;
16456                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 127; extern unsigned char *sgx_blk_addr;
16457                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 129; extern unsigned char  sgx_tbl_bank;
16458                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 130; extern unsigned char *sgx_tbl_addr;
16459                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 132; extern void __fastcall sgx_set_blocks( unsigned char __far *blk_def<sgx_blk_bank:sgx_blk_addr>, unsigned char __far *flg_def<sgx_tbl_bank:sgx_tbl_addr>, unsigned char number_of_blocks<_al> );
16460                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 133; extern void __fastcall __macro sgx_set_blkmap( unsigned char __far *blk_map<sgx_map_bank:sgx_map_addr>, unsigned char blocks_w<sgx_map_line_w> );
16461                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 134; extern void __fastcall __macro sgx_set_multimap( unsigned char __far *multi_map<sgx_scr_bank:sgx_scr_addr>, unsigned char screens_w<sgx_map_scrn_w> );
16462                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 136; extern void __fastcall sgx_draw_map( void );
16463                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 137; extern void __fastcall sgx_scroll_map( void );
16464                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 139; extern void __fastcall sgx_blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
16465                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 141; extern unsigned char __fastcall sgx_get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
16466                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 143; #asm
16467                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 144; .macro	_sgx_set_blkmap.2
16468                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 145; stz	sgx_scr_bank
16469                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 146; .endm
16470                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 148; .macro	_sgx_set_multimap.2
16471                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 149; lda	sgx_bat_width
16472                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 150; lsr	a
16473                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 151; sta	sgx_map_line_w
16474                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 152; .endm
16475                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 153; #endasm
16476                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 155; #endif
16477                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 157; #endif // __HUCC__
16478                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 159; #endif // _hucc_blkmap_h
16479                        		.dbg	line,	"include\routines_SHOP.c", 12; void display_TIME_SHOP()
16480                        		.dbg	line,	"include\routines_SHOP.c", 13; {
16481                        	;***********************
16482                        	;***********************
16483                        	
16484                        		.hucc
16485    1E:DF56             		.proc		_display_TIME_SHOP
16486                        		__enter		_display_TIME_SHOP
16487                        	
16488                        		.dbg	line,	"include\routines_SHOP.c", 14; put_number(minutes,1,1,3);
16489                        		__ld.um		_minutes
         1E:DF56  AD 32 23   			lda	_minutes
         1E:DF59  C2         			cly
16490                        		__st.wmq	_bx
         1E:DF5A  85 FA      			sta.l	_bx
         1E:DF5C  84 FB      			sty.h	_bx
16491                        		__st.umiq	1, _cl
         1E:DF5E  A9 01      			lda.l	#1
         1E:DF60  85 FC      			sta	_cl
16492                        		__st.umiq	1, _dil
         1E:DF62  A9 01      			lda.l	#1
         1E:DF64  85 F0      			sta	_dil
16493                        		__st.umiq	3, _dih
         1E:DF66  A9 03      			lda.l	#3
         1E:DF68  85 F1      			sta	_dih
16494                        		__call		_put_number.4
         1E:DF6A  20 6D FF   			call	_put_number.4
16495                        	
16496                        		.dbg	line,	"include\routines_SHOP.c", 16; if(seconds < 10)
16497                        		__ld.umq	_seconds
         1E:DF6D  AD 33 23   			lda	_seconds
16498                        		__ult_b.uiq	10
         1E:DF70  C9 0A      			cmp	#10		; Subtract integer from A.
         1E:DF72  6A         			ror	a		; CC if A < integer.
         1E:DF73  49 80      			eor	#$80
         1E:DF75  2A         			rol	a
16499                        		__bfalse	.LL827
         1E:DF76  90 2C      			bcc	.LL827
16500                        	
16501                        		.dbg	line,	"include\routines_SHOP.c", 17; {
16502                        	
16503                        		.dbg	line,	"include\routines_SHOP.c", 18; put_number(0,1,3,3);
16504                        		__st.wmiq	0, _bx
         1E:DF78  64 FA      			stz.l	_bx
         1E:DF7A  64 FB      			stz.h	_bx
16505                        		__st.umiq	1, _cl
         1E:DF7C  A9 01      			lda.l	#1
         1E:DF7E  85 FC      			sta	_cl
16506                        		__st.umiq	3, _dil
         1E:DF80  A9 03      			lda.l	#3
         1E:DF82  85 F0      			sta	_dil
16507                        		__st.umiq	3, _dih
         1E:DF84  A9 03      			lda.l	#3
         1E:DF86  85 F1      			sta	_dih
16508                        		__call		_put_number.4
         1E:DF88  20 6D FF   			call	_put_number.4
16509                        	
16510                        		.dbg	line,	"include\routines_SHOP.c", 19; put_number(seconds,1,4,3);
16511                        		__ld.um		_seconds
         1E:DF8B  AD 33 23   			lda	_seconds
         1E:DF8E  C2         			cly
16512                        		__st.wmq	_bx
         1E:DF8F  85 FA      			sta.l	_bx
         1E:DF91  84 FB      			sty.h	_bx
16513                        		__st.umiq	1, _cl
         1E:DF93  A9 01      			lda.l	#1
         1E:DF95  85 FC      			sta	_cl
16514                        		__st.umiq	4, _dil
         1E:DF97  A9 04      			lda.l	#4
         1E:DF99  85 F0      			sta	_dil
16515                        		__st.umiq	3, _dih
         1E:DF9B  A9 03      			lda.l	#3
         1E:DF9D  85 F1      			sta	_dih
16516                        		__call		_put_number.4
         1E:DF9F  20 6D FF   			call	_put_number.4
16517                        	
16518                        		.dbg	line,	"include\routines_SHOP.c", 20; }
16519                        	
16520                        		.dbg	line,	"include\routines_SHOP.c", 22; else
16521                        		__bra		.LL828
         1E:DFA2  80 17      			bra	.LL828
16522    1E:DFA4             	.LL827:
16523                        	
16524                        		.dbg	line,	"include\routines_SHOP.c", 23; {
16525                        	
16526                        		.dbg	line,	"include\routines_SHOP.c", 24; put_number(seconds,2,3,3);
16527                        		__ld.um		_seconds
         1E:DFA4  AD 33 23   			lda	_seconds
         1E:DFA7  C2         			cly
16528                        		__st.wmq	_bx
         1E:DFA8  85 FA      			sta.l	_bx
         1E:DFAA  84 FB      			sty.h	_bx
16529                        		__st.umiq	2, _cl
         1E:DFAC  A9 02      			lda.l	#2
         1E:DFAE  85 FC      			sta	_cl
16530                        		__st.umiq	3, _dil
         1E:DFB0  A9 03      			lda.l	#3
         1E:DFB2  85 F0      			sta	_dil
16531                        		__st.umiq	3, _dih
         1E:DFB4  A9 03      			lda.l	#3
         1E:DFB6  85 F1      			sta	_dih
16532                        		__call		_put_number.4
         1E:DFB8  20 6D FF   			call	_put_number.4
16533                        	
16534                        		.dbg	line,	"include\routines_SHOP.c", 25; }
16535    1E:DFBB             	.LL828:
16536                        	
16537                        		.dbg	line,	"include\routines_SHOP.c", 27; time_counter += 1;
16538                        		__add_st.umiq	1, _time_counter
         1E:DFBB  EE 34 23   			inc	_time_counter
16539                        	
16540                        		.dbg	line,	"include\routines_SHOP.c", 29; if(time_counter == 60)
16541                        		__ld.umq	_time_counter
         1E:DFBE  AD 34 23   			lda	_time_counter
16542                        		__equ_b.uiq	60
         1E:DFC1  C9 3C      			cmp	#60
         1E:DFC3  F0 01      			beq	!+
         1E:DFC5  18         			clc
         1E:DFC6             	!:
16543                        		__bfalse	.LL829
         1E:DFC6  90 30      			bcc	.LL829
16544                        	
16545                        		.dbg	line,	"include\routines_SHOP.c", 30; {
16546                        	
16547                        		.dbg	line,	"include\routines_SHOP.c", 31; time_counter = 0;
16548                        		__st.umiq	0, _time_counter
         1E:DFC8  9C 34 23   			stz	_time_counter
16549                        	
16550                        		.dbg	line,	"include\routines_SHOP.c", 33; if(seconds > 0)
16551                        		__ld.umq	_seconds
         1E:DFCB  AD 33 23   			lda	_seconds
16552                        		__ugt_b.uiq	0
         1E:DFCE  18         			clc			; Subtract integer+1 from A.
         1E:DFCF  E9 00      			sbc	#0		; CS if A > integer.
16553                        		__bfalse	.LL830
         1E:DFD1  90 05      			bcc	.LL830
16554                        	
16555                        		.dbg	line,	"include\routines_SHOP.c", 34; {
16556                        	
16557                        		.dbg	line,	"include\routines_SHOP.c", 35; seconds -= 1;
16558                        		__sub_st.umiq	1, _seconds
         1E:DFD3  CE 33 23   			dec	_seconds
16559                        	
16560                        		.dbg	line,	"include\routines_SHOP.c", 36; }
16561                        	
16562                        		.dbg	line,	"include\routines_SHOP.c", 38; else
16563                        		__bra		.LL831
         1E:DFD6  80 20      			bra	.LL831
16564    1E:DFD8             	.LL830:
16565                        	
16566                        		.dbg	line,	"include\routines_SHOP.c", 39; {
16567                        	
16568                        		.dbg	line,	"include\routines_SHOP.c", 40; if(minutes > 0)
16569                        		__ld.umq	_minutes
         1E:DFD8  AD 32 23   			lda	_minutes
16570                        		__ugt_b.uiq	0
         1E:DFDB  18         			clc			; Subtract integer+1 from A.
         1E:DFDC  E9 00      			sbc	#0		; CS if A > integer.
16571                        		__bfalse	.LL832
         1E:DFDE  90 0A      			bcc	.LL832
16572                        	
16573                        		.dbg	line,	"include\routines_SHOP.c", 41; {
16574                        	
16575                        		.dbg	line,	"include\routines_SHOP.c", 42; seconds = 59;
16576                        		__st.umiq	59, _seconds
         1E:DFE0  A9 3B      			lda.l	#59
         1E:DFE2  8D 33 23   			sta	_seconds
16577                        	
16578                        		.dbg	line,	"include\routines_SHOP.c", 43; minutes -= 1;
16579                        		__sub_st.umiq	1, _minutes
         1E:DFE5  CE 32 23   			dec	_minutes
16580                        	
16581                        		.dbg	line,	"include\routines_SHOP.c", 44; }
16582                        	
16583                        		.dbg	line,	"include\routines_SHOP.c", 46; else
16584                        		__bra		.LL833
         1E:DFE8  80 0E      			bra	.LL833
16585    1E:DFEA             	.LL832:
16586                        	
16587                        		.dbg	line,	"include\routines_SHOP.c", 47; {
16588                        	
16589                        		.dbg	line,	"include\routines_SHOP.c", 48; seconds = 0;
16590                        		__st.umiq	0, _seconds
         1E:DFEA  9C 33 23   			stz	_seconds
16591                        	
16592                        		.dbg	line,	"include\routines_SHOP.c", 49; minutes = 0;
16593                        		__st.umiq	0, _minutes
         1E:DFED  9C 32 23   			stz	_minutes
16594                        	
16595                        		.dbg	line,	"include\routines_SHOP.c", 50; shop_counter = 0;    
16596                        		__st.umiq	0, _shop_counter
         1E:DFF0  9C F4 23   			stz	_shop_counter
16597                        	
16598                        		.dbg	line,	"include\routines_SHOP.c", 51; shop_phase = SHOP_PHASE_EXIT;
16599                        		__st.umiq	2, _shop_phase
         1E:DFF3  A9 02      			lda.l	#2
         1E:DFF5  8D F3 23   			sta	_shop_phase
16600                        	
16601                        		.dbg	line,	"include\routines_SHOP.c", 52; }
16602    1E:DFF8             	.LL833:
16603                        	
16604                        		.dbg	line,	"include\routines_SHOP.c", 53; }
16605    1E:DFF8             	.LL831:
16606                        	
16607                        		.dbg	line,	"include\routines_SHOP.c", 54; } 
16608                        	
16609                        		.dbg	line,	"include\routines_SHOP.c", 55; }
16610    1E:DFF8             	.LL829:
16611    1E:DFF8             	.LL826:
16612                        		__return	0
         1E:DFF8  4C EF FF   			jmp	leave_proc
16613                        		.dbg	clear
16614                        		.endp
16615                        		.pceas
16616                        	
16617                        		.dbg	line,	"include\routines_SHOP.c", 59; void joypad_BUTTONS_SHOP()
16618                        		.dbg	line,	"include\routines_SHOP.c", 60; {
16619                        	;***********************
16620                        	;***********************
16621                        	
16622                        		.hucc
16623    1E:C59D             		.proc		_joypad_BUTTONS_SHOP
16624                        		__enter		_joypad_BUTTONS_SHOP
16625                        	
16626                        		.dbg	line,	"include\routines_SHOP.c", 61; if(joytrg(JOYPAD_1) & JOY_RIGHT)
16627                        		__ld.uiq	0
         1E:C59D  62         			cla
16628                        		 _joytrg.1
         1E:C59E  AA         			tax
         1E:C59F  BD 2D 22   			lda	joytrg, x
         1E:C5A2  BC DD 22   			ldy	joy6trg, x
16629                        		__tand.wi	32
         1E:C5A5  29 20      			and	#32
         1E:C5A7  C9 01      	!:		cmp	#1
16630                        		__bfalse	.LL835
         1E:C5A9  90 59      			bcc	.LL835
16631                        	
16632                        		.dbg	line,	"include\routines_SHOP.c", 62; {   
16633                        	
16634                        		.dbg	line,	"include\routines_SHOP.c", 63; char max_index;
16635                        	
16636                        		.dbg	line,	"include\routines_SHOP.c", 64; 
16637                        	
16638                        		.dbg	line,	"include\routines_SHOP.c", 65; if(index_y == 0)
16639                        		__not.um	_index_y
         1E:C5AB  AD F1 23   			lda	_index_y
         1E:C5AE  18         			clc
         1E:C5AF  D0 01      			bne	!+
         1E:C5B1  38         			sec
         1E:C5B2             	!:
16640                        		__bfalse	.LL836
         1E:C5B2  90 07      			bcc	.LL836
16641                        	
16642                        		.dbg	line,	"include\routines_SHOP.c", 66; {
16643                        	
16644                        		.dbg	line,	"include\routines_SHOP.c", 67; max_index = 4;
16645                        		__st.umiq	4, __joypad_BUTTONS_SHOP_end - 1  /* max_index */
         1E:C5B4  A9 04      			lda.l	#4
         1E:C5B6  8D 0F 23   			sta	__joypad_BUTTONS_SHOP_end - 1
16646                        	
16647                        		.dbg	line,	"include\routines_SHOP.c", 68; }
16648                        	
16649                        		.dbg	line,	"include\routines_SHOP.c", 70; else
16650                        		__bra		.LL837
         1E:C5B9  80 05      			bra	.LL837
16651    1E:C5BB             	.LL836:
16652                        	
16653                        		.dbg	line,	"include\routines_SHOP.c", 71; {
16654                        	
16655                        		.dbg	line,	"include\routines_SHOP.c", 72; max_index = 5;
16656                        		__st.umiq	5, __joypad_BUTTONS_SHOP_end - 1  /* max_index */
         1E:C5BB  A9 05      			lda.l	#5
         1E:C5BD  8D 0F 23   			sta	__joypad_BUTTONS_SHOP_end - 1
16657                        	
16658                        		.dbg	line,	"include\routines_SHOP.c", 73; }
16659    1E:C5C0             	.LL837:
16660                        	
16661                        		.dbg	line,	"include\routines_SHOP.c", 75; if(index_x < max_index)
16662                        		__ld.umq	_index_x
         1E:C5C0  AD F0 23   			lda	_index_x
16663                        		__ult_b.umq	__joypad_BUTTONS_SHOP_end - 1  /* max_index */
         1E:C5C3  CD 0F 23   			cmp	__joypad_BUTTONS_SHOP_end - 1		; Subtract memory from A.
         1E:C5C6  6A         			ror	a		; CC if A < memory.
         1E:C5C7  49 80      			eor	#$80
         1E:C5C9  2A         			rol	a
16664                        		__bfalse	.LL838
         1E:C5CA  B0 03 4C 1A			bcc	.LL838
         1E:C5CE  CB          
16665                        	
16666                        		.dbg	line,	"include\routines_SHOP.c", 76; {
16667                        	
16668                        		.dbg	line,	"include\routines_SHOP.c", 77; index_x += 1;
16669                        		__add_st.umiq	1, _index_x
         1E:C5CF  EE F0 23   			inc	_index_x
16670                        	
16671                        		.dbg	line,	"include\routines_SHOP.c", 78; item_index = (index_x + (index_y * 5));
16672                        		__ld.um		_index_y
         1E:C5D2  AD F1 23   			lda	_index_y
         1E:C5D5  C2         			cly
16673                        		__mul.wi	5
         1E:C5D6  85 00      			sta.l	__temp
         1E:C5D8  84 01      			sty.h	__temp
                             		__asl.wr
         1E:C5DA  0A         			asl	a
         1E:C5DB  42         			say
         1E:C5DC  2A         			rol	a
         1E:C5DD  42         			say
                             		__asl.wr
         1E:C5DE  0A         			asl	a
         1E:C5DF  42         			say
         1E:C5E0  2A         			rol	a
         1E:C5E1  42         			say
                             		__add.wm	__temp
         1E:C5E2  18         			clc
         1E:C5E3  65 00      			adc.l	__temp
         1E:C5E5  42         			say
         1E:C5E6  65 01      			adc.h	__temp
         1E:C5E8  42         			say
16674                        		__add.um	_index_x
         1E:C5E9  18         			clc
         1E:C5EA  6D F0 23   			adc	_index_x
         1E:C5ED  90 01      			bcc	!+
         1E:C5EF  C8         			iny
         1E:C5F0             	!:
16675                        		__st.umq	_item_index
         1E:C5F0  8D F2 23   			sta	_item_index
16676                        	
16677                        		.dbg	line,	"include\routines_SHOP.c", 80; spr_set(0);
16678                        		__ld.uiq	0
         1E:C5F3  62         			cla
16679                        		__call		_spr_set.1
         1E:C5F4  20 F1 E7   			call	_spr_set.1
16680                        	
16681                        		.dbg	line,	"include\routines_SHOP.c", 81; spr_x(TABLE_CURSOR_POS_X[item_index]);
16682                        		__ldx.umq	_item_index
         1E:C5F7  AE F2 23   			ldx	_item_index
16683                        		__ld.uax	_TABLE_CURSOR_POS_X
         1E:C5FA  BD 28 63   			lda	_TABLE_CURSOR_POS_X, x
         1E:C5FD  C2         			cly
16684                        		__call		_spr_x.1
         1E:C5FE  20 1E E8   			call	_spr_x.1
16685                        	
16686                        		.dbg	line,	"include\routines_SHOP.c", 82; }
16687                        	
16688                        		.dbg	line,	"include\routines_SHOP.c", 83; }
16689    1E:C601             	.LL838	.alias		.LL839
16690                        	
16691                        		.dbg	line,	"include\routines_SHOP.c", 85; 
16692                        	
16693                        		.dbg	line,	"include\routines_SHOP.c", 86; else if(joytrg(JOYPAD_1) & JOY_LEFT)
16694                        		__bra		.LL839
         1E:C601  4C 1A CB   			bra	.LL839
16695    1E:C604             	.LL835:
16696                        		__ld.uiq	0
         1E:C604  62         			cla
16697                        		 _joytrg.1
         1E:C605  AA         			tax
         1E:C606  BD 2D 22   			lda	joytrg, x
         1E:C609  BC DD 22   			ldy	joy6trg, x
16698                        		__tand.wi	128
         1E:C60C  29 80      			and	#128
         1E:C60E  C9 01      	!:		cmp	#1
16699                        		__bfalse	.LL840
         1E:C610  90 40      			bcc	.LL840
16700                        	
16701                        		.dbg	line,	"include\routines_SHOP.c", 87; {
16702                        	
16703                        		.dbg	line,	"include\routines_SHOP.c", 88; if(index_x > 0)
16704                        		__ld.umq	_index_x
         1E:C612  AD F0 23   			lda	_index_x
16705                        		__ugt_b.uiq	0
         1E:C615  18         			clc			; Subtract integer+1 from A.
         1E:C616  E9 00      			sbc	#0		; CS if A > integer.
16706                        		__bfalse	.LL841
         1E:C618  B0 03 4C 1A			bcc	.LL841
         1E:C61C  CB          
16707                        	
16708                        		.dbg	line,	"include\routines_SHOP.c", 89; {
16709                        	
16710                        		.dbg	line,	"include\routines_SHOP.c", 90; index_x -= 1;
16711                        		__sub_st.umiq	1, _index_x
         1E:C61D  CE F0 23   			dec	_index_x
16712                        	
16713                        		.dbg	line,	"include\routines_SHOP.c", 91; item_index = (index_x + (index_y * 5));
16714                        		__ld.um		_index_y
         1E:C620  AD F1 23   			lda	_index_y
         1E:C623  C2         			cly
16715                        		__mul.wi	5
         1E:C624  85 00      			sta.l	__temp
         1E:C626  84 01      			sty.h	__temp
                             		__asl.wr
         1E:C628  0A         			asl	a
         1E:C629  42         			say
         1E:C62A  2A         			rol	a
         1E:C62B  42         			say
                             		__asl.wr
         1E:C62C  0A         			asl	a
         1E:C62D  42         			say
         1E:C62E  2A         			rol	a
         1E:C62F  42         			say
                             		__add.wm	__temp
         1E:C630  18         			clc
         1E:C631  65 00      			adc.l	__temp
         1E:C633  42         			say
         1E:C634  65 01      			adc.h	__temp
         1E:C636  42         			say
16716                        		__add.um	_index_x
         1E:C637  18         			clc
         1E:C638  6D F0 23   			adc	_index_x
         1E:C63B  90 01      			bcc	!+
         1E:C63D  C8         			iny
         1E:C63E             	!:
16717                        		__st.umq	_item_index
         1E:C63E  8D F2 23   			sta	_item_index
16718                        	
16719                        		.dbg	line,	"include\routines_SHOP.c", 93; spr_set(0);
16720                        		__ld.uiq	0
         1E:C641  62         			cla
16721                        		__call		_spr_set.1
         1E:C642  20 F1 E7   			call	_spr_set.1
16722                        	
16723                        		.dbg	line,	"include\routines_SHOP.c", 94; spr_x(TABLE_CURSOR_POS_X[item_index]);
16724                        		__ldx.umq	_item_index
         1E:C645  AE F2 23   			ldx	_item_index
16725                        		__ld.uax	_TABLE_CURSOR_POS_X
         1E:C648  BD 28 63   			lda	_TABLE_CURSOR_POS_X, x
         1E:C64B  C2         			cly
16726                        		__call		_spr_x.1
         1E:C64C  20 1E E8   			call	_spr_x.1
16727                        	
16728                        		.dbg	line,	"include\routines_SHOP.c", 95; }
16729                        	
16730                        		.dbg	line,	"include\routines_SHOP.c", 96; }
16731    1E:C64F             	.LL841	.alias		.LL842
16732                        	
16733                        		.dbg	line,	"include\routines_SHOP.c", 99; else if(joytrg(JOYPAD_1) & JOY_UP)
16734                        		__bra		.LL842
         1E:C64F  4C 1A CB   			bra	.LL842
16735    1E:C652             	.LL840:
16736                        		__ld.uiq	0
         1E:C652  62         			cla
16737                        		 _joytrg.1
         1E:C653  AA         			tax
         1E:C654  BD 2D 22   			lda	joytrg, x
         1E:C657  BC DD 22   			ldy	joy6trg, x
16738                        		__tand.wi	16
         1E:C65A  29 10      			and	#16
         1E:C65C  C9 01      	!:		cmp	#1
16739                        		__bfalse	.LL843
         1E:C65E  90 4A      			bcc	.LL843
16740                        	
16741                        		.dbg	line,	"include\routines_SHOP.c", 100; {
16742                        	
16743                        		.dbg	line,	"include\routines_SHOP.c", 101; if(index_y > 0)
16744                        		__ld.umq	_index_y
         1E:C660  AD F1 23   			lda	_index_y
16745                        		__ugt_b.uiq	0
         1E:C663  18         			clc			; Subtract integer+1 from A.
         1E:C664  E9 00      			sbc	#0		; CS if A > integer.
16746                        		__bfalse	.LL844
         1E:C666  B0 03 4C 1A			bcc	.LL844
         1E:C66A  CB          
16747                        	
16748                        		.dbg	line,	"include\routines_SHOP.c", 102; {
16749                        	
16750                        		.dbg	line,	"include\routines_SHOP.c", 103; if(item_index != 10)
16751                        		__ld.umq	_item_index
         1E:C66B  AD F2 23   			lda	_item_index
16752                        		__neq_b.uiq	10
         1E:C66E  38         			sec
         1E:C66F  49 0A      			eor	#10
         1E:C671  D0 01      			bne	!+
         1E:C673  18         			clc
         1E:C674             	!:
16753                        		__bfalse	.LL845
         1E:C674  B0 03 4C 1A			bcc	.LL845
         1E:C678  CB          
16754                        	
16755                        		.dbg	line,	"include\routines_SHOP.c", 104; {
16756                        	
16757                        		.dbg	line,	"include\routines_SHOP.c", 105; index_y -= 1;
16758                        		__sub_st.umiq	1, _index_y
         1E:C679  CE F1 23   			dec	_index_y
16759                        	
16760                        		.dbg	line,	"include\routines_SHOP.c", 106; item_index = (index_x + (index_y * 5));
16761                        		__ld.um		_index_y
         1E:C67C  AD F1 23   			lda	_index_y
         1E:C67F  C2         			cly
16762                        		__mul.wi	5
         1E:C680  85 00      			sta.l	__temp
         1E:C682  84 01      			sty.h	__temp
                             		__asl.wr
         1E:C684  0A         			asl	a
         1E:C685  42         			say
         1E:C686  2A         			rol	a
         1E:C687  42         			say
                             		__asl.wr
         1E:C688  0A         			asl	a
         1E:C689  42         			say
         1E:C68A  2A         			rol	a
         1E:C68B  42         			say
                             		__add.wm	__temp
         1E:C68C  18         			clc
         1E:C68D  65 00      			adc.l	__temp
         1E:C68F  42         			say
         1E:C690  65 01      			adc.h	__temp
         1E:C692  42         			say
16763                        		__add.um	_index_x
         1E:C693  18         			clc
         1E:C694  6D F0 23   			adc	_index_x
         1E:C697  90 01      			bcc	!+
         1E:C699  C8         			iny
         1E:C69A             	!:
16764                        		__st.umq	_item_index
         1E:C69A  8D F2 23   			sta	_item_index
16765                        	
16766                        		.dbg	line,	"include\routines_SHOP.c", 108; spr_set(0);
16767                        		__ld.uiq	0
         1E:C69D  62         			cla
16768                        		__call		_spr_set.1
         1E:C69E  20 F1 E7   			call	_spr_set.1
16769                        	
16770                        		.dbg	line,	"include\routines_SHOP.c", 109; spr_y(144);
16771                        		__ld.wi		144
         1E:C6A1  A9 90      			lda.l	#144
         1E:C6A3  C2         			cly
16772                        		__call		_spr_y.1
         1E:C6A4  20 2D E8   			call	_spr_y.1
16773                        	
16774                        		.dbg	line,	"include\routines_SHOP.c", 110; }
16775                        	
16776                        		.dbg	line,	"include\routines_SHOP.c", 111; }
16777    1E:C6A7             	.LL845	.alias		.LL846
16778                        	
16779                        		.dbg	line,	"include\routines_SHOP.c", 112; }
16780    1E:C6A7             	.LL844	.alias		.LL846
16781                        	
16782                        		.dbg	line,	"include\routines_SHOP.c", 115; else if(joytrg(JOYPAD_1) & JOY_DOWN)
16783                        		__bra		.LL846
         1E:C6A7  4C 1A CB   			bra	.LL846
16784    1E:C6AA             	.LL843:
16785                        		__ld.uiq	0
         1E:C6AA  62         			cla
16786                        		 _joytrg.1
         1E:C6AB  AA         			tax
         1E:C6AC  BD 2D 22   			lda	joytrg, x
         1E:C6AF  BC DD 22   			ldy	joy6trg, x
16787                        		__tand.wi	64
         1E:C6B2  29 40      			and	#64
         1E:C6B4  C9 01      	!:		cmp	#1
16788                        		__bfalse	.LL847
         1E:C6B6  90 3F      			bcc	.LL847
16789                        	
16790                        		.dbg	line,	"include\routines_SHOP.c", 116; {
16791                        	
16792                        		.dbg	line,	"include\routines_SHOP.c", 117; if(index_y < 1)
16793                        		__ld.umq	_index_y
         1E:C6B8  AD F1 23   			lda	_index_y
16794                        		__ult_b.uiq	1
         1E:C6BB  C9 01      			cmp	#1		; Subtract integer from A.
         1E:C6BD  6A         			ror	a		; CC if A < integer.
         1E:C6BE  49 80      			eor	#$80
         1E:C6C0  2A         			rol	a
16795                        		__bfalse	.LL848
         1E:C6C1  B0 03 4C 1A			bcc	.LL848
         1E:C6C5  CB          
16796                        	
16797                        		.dbg	line,	"include\routines_SHOP.c", 118; {
16798                        	
16799                        		.dbg	line,	"include\routines_SHOP.c", 119; index_y += 1;
16800                        		__add_st.umiq	1, _index_y
         1E:C6C6  EE F1 23   			inc	_index_y
16801                        	
16802                        		.dbg	line,	"include\routines_SHOP.c", 120; item_index = (index_x + (index_y * 5));
16803                        		__ld.um		_index_y
         1E:C6C9  AD F1 23   			lda	_index_y
         1E:C6CC  C2         			cly
16804                        		__mul.wi	5
         1E:C6CD  85 00      			sta.l	__temp
         1E:C6CF  84 01      			sty.h	__temp
                             		__asl.wr
         1E:C6D1  0A         			asl	a
         1E:C6D2  42         			say
         1E:C6D3  2A         			rol	a
         1E:C6D4  42         			say
                             		__asl.wr
         1E:C6D5  0A         			asl	a
         1E:C6D6  42         			say
         1E:C6D7  2A         			rol	a
         1E:C6D8  42         			say
                             		__add.wm	__temp
         1E:C6D9  18         			clc
         1E:C6DA  65 00      			adc.l	__temp
         1E:C6DC  42         			say
         1E:C6DD  65 01      			adc.h	__temp
         1E:C6DF  42         			say
16805                        		__add.um	_index_x
         1E:C6E0  18         			clc
         1E:C6E1  6D F0 23   			adc	_index_x
         1E:C6E4  90 01      			bcc	!+
         1E:C6E6  C8         			iny
         1E:C6E7             	!:
16806                        		__st.umq	_item_index
         1E:C6E7  8D F2 23   			sta	_item_index
16807                        	
16808                        		.dbg	line,	"include\routines_SHOP.c", 122; spr_set(0);
16809                        		__ld.uiq	0
         1E:C6EA  62         			cla
16810                        		__call		_spr_set.1
         1E:C6EB  20 F1 E7   			call	_spr_set.1
16811                        	
16812                        		.dbg	line,	"include\routines_SHOP.c", 123; spr_y(168);
16813                        		__ld.wi		168
         1E:C6EE  A9 A8      			lda.l	#168
         1E:C6F0  C2         			cly
16814                        		__call		_spr_y.1
         1E:C6F1  20 2D E8   			call	_spr_y.1
16815                        	
16816                        		.dbg	line,	"include\routines_SHOP.c", 124; }
16817                        	
16818                        		.dbg	line,	"include\routines_SHOP.c", 125; }
16819    1E:C6F4             	.LL848	.alias		.LL849
16820                        	
16821                        		.dbg	line,	"include\routines_SHOP.c", 128; else if(joytrg(JOYPAD_1) & JOY_I)
16822                        		__bra		.LL849
         1E:C6F4  4C 1A CB   			bra	.LL849
16823    1E:C6F7             	.LL847:
16824                        		__ld.uiq	0
         1E:C6F7  62         			cla
16825                        		 _joytrg.1
         1E:C6F8  AA         			tax
         1E:C6F9  BD 2D 22   			lda	joytrg, x
         1E:C6FC  BC DD 22   			ldy	joy6trg, x
16826                        		__tand.wi	1
         1E:C6FF  29 01      			and	#1
         1E:C701  C9 01      	!:		cmp	#1
16827                        		__bfalse	.LL850
         1E:C703  B0 03 4C 1A			bcc	.LL850
         1E:C707  CB          
16828                        	
16829                        		.dbg	line,	"include\routines_SHOP.c", 129; {
16830                        	
16831                        		.dbg	line,	"include\routines_SHOP.c", 130; switch(item_index)
16832                        		__ld.umq	_item_index
         1E:C708  AD F2 23   			lda	_item_index
16833                        		__bra		.LL851
         1E:C70B  4C F7 CA   			bra	.LL851
16834                        	
16835                        		.dbg	line,	"include\routines_SHOP.c", 131; {
16836                        	
16837                        		.dbg	line,	"include\routines_SHOP.c", 132; // WEAPON 2 //
16838                        	
16839                        		.dbg	line,	"include\routines_SHOP.c", 133; case 0:
16840    1E:C70E             	.LL853:
16841                        		__case		0
16842                        	
16843                        		.dbg	line,	"include\routines_SHOP.c", 134; if(zenny_amount >= shop_prices[0])
16844                        		__ld.wm		_zenny_amount
         1E:C70E  AD 56 26   			lda.l	_zenny_amount
         1E:C711  AC 57 26   			ldy.h	_zenny_amount
16845                        		__sge_w.wm	_shop_prices
         1E:C714  CD 5A 26   			cmp.l	_shop_prices		; Subtract memory from Y:A.
         1E:C717  98         			tya
         1E:C718  ED 5B 26   			sbc.h	_shop_prices
         1E:C71B  50 02      			bvc	!+
         1E:C71D  49 80      			eor	#$80		; +ve if Y:A >= memory (signed).
         1E:C71F  49 80      	!:		eor	#$80
         1E:C721  0A         			asl	a
16846                        		__bfalse	.LL854
         1E:C722  B0 03 4C 1A			bcc	.LL854
         1E:C726  CB          
16847                        	
16848                        		.dbg	line,	"include\routines_SHOP.c", 135; {
16849                        	
16850                        		.dbg	line,	"include\routines_SHOP.c", 136; if(weapon_level < 1)
16851                        		__ld.umq	_weapon_level
         1E:C727  AD 29 23   			lda	_weapon_level
16852                        		__ult_b.uiq	1
         1E:C72A  C9 01      			cmp	#1		; Subtract integer from A.
         1E:C72C  6A         			ror	a		; CC if A < integer.
         1E:C72D  49 80      			eor	#$80
         1E:C72F  2A         			rol	a
16853                        		__bfalse	.LL855
         1E:C730  B0 03 4C 1A			bcc	.LL855
         1E:C734  CB          
16854                        	
16855                        		.dbg	line,	"include\routines_SHOP.c", 137; {
16856                        	
16857                        		.dbg	line,	"include\routines_SHOP.c", 138; weapon_level = 1;
16858                        		__st.umiq	1, _weapon_level
         1E:C735  A9 01      			lda.l	#1
         1E:C737  8D 29 23   			sta	_weapon_level
16859                        	
16860                        		.dbg	line,	"include\routines_SHOP.c", 139; load_vram( WEAPON_ICON_VRAM_ADR, tileset_WEAPON_2, SIZEOF(tileset_WEAPON_2) >> 1 );
16861                        		__st.wmiq	4256, _di
         1E:C73A  A9 A0      			lda.l	#4256
         1E:C73C  85 F0      			sta.l	_di
         1E:C73E  A9 10      			lda.h	#4256
         1E:C740  85 F1      			sta.h	_di
16862                        		__farptr	_tileset_WEAPON_2, _bp_bank, _bp
         1E:C742  A9 60      			lda.l	#$6000 + ($1FFF & (_tileset_WEAPON_2))
         1E:C744  85 EC      			sta.l	_bp
         1E:C746  A9 74      			lda.h	#$6000 + ($1FFF & (_tileset_WEAPON_2))
         1E:C748  85 ED      			sta.h	_bp
         1E:C74A  A9 07      			lda	#bank(_tileset_WEAPON_2)
         1E:C74C  85 02      			sta	_bp_bank
16863                        		__ld.wi		___sizeof__tileset_WEAPON_2
         1E:C74E  A9 80      			lda.l	#___sizeof__tileset_WEAPON_2
         1E:C750  A0 00      			ldy.h	#___sizeof__tileset_WEAPON_2
16864                        		__lsr.wi	1
         1E:C752  42         			say
         1E:C753  4A         			lsr	a
         1E:C754  42         			say
         1E:C755  6A         			ror	a
16865                        		__st.wmq	_ax
         1E:C756  85 F8      			sta.l	_ax
         1E:C758  84 F9      			sty.h	_ax
16866                        		 _load_vram.3
         1E:C75A  82         			clx				; Offset to PCE VDC.
         1E:C75B  20 09 FF   			call	load_vram_x
16867                        	
16868                        		.dbg	line,	"include\routines_SHOP.c", 141; zenny_amount -= shop_prices[0];
16869                        		__ld.wm		_shop_prices
         1E:C75E  AD 5A 26   			lda.l	_shop_prices
         1E:C761  AC 5B 26   			ldy.h	_shop_prices
16870                        		__isub_st.wmq	_zenny_amount
         1E:C764  38         			sec
         1E:C765  49 FF      			eor	#$FF
         1E:C767  6D 56 26   			adc.l	_zenny_amount
         1E:C76A  8D 56 26   			sta.l	_zenny_amount
         1E:C76D  98         			tya
         1E:C76E  49 FF      			eor	#$FF
         1E:C770  6D 57 26   			adc.h	_zenny_amount
         1E:C773  8D 57 26   			sta.h	_zenny_amount
16871                        	
16872                        		.dbg	line,	"include\routines_SHOP.c", 142; display_ZENNY();
16873                        		__call		_display_ZENNY
         1E:C776  20 3B FF   			call	_display_ZENNY
16874                        	
16875                        		.dbg	line,	"include\routines_SHOP.c", 143; }
16876                        	
16877                        		.dbg	line,	"include\routines_SHOP.c", 144; }
16878    1E:C779             	.LL855	.alias		.LL852
16879                        	
16880                        		.dbg	line,	"include\routines_SHOP.c", 146; break;   
16881    1E:C779             	.LL854	.alias		.LL852
16882                        		__bra		.LL852
         1E:C779  4C 1A CB   			bra	.LL852
16883                        	
16884                        		.dbg	line,	"include\routines_SHOP.c", 149; // WEAPON 4 //
16885                        	
16886                        		.dbg	line,	"include\routines_SHOP.c", 150; case 1:
16887    1E:C77C             	.LL856:
16888                        		__case		1
16889                        	
16890                        		.dbg	line,	"include\routines_SHOP.c", 151; if(zenny_amount >= shop_prices[1])
16891                        		__ld.wm		_zenny_amount
         1E:C77C  AD 56 26   			lda.l	_zenny_amount
         1E:C77F  AC 57 26   			ldy.h	_zenny_amount
16892                        		__sge_w.wm	_shop_prices + 2
         1E:C782  CD 5C 26   			cmp.l	_shop_prices + 2		; Subtract memory from Y:A.
         1E:C785  98         			tya
         1E:C786  ED 5D 26   			sbc.h	_shop_prices + 2
         1E:C789  50 02      			bvc	!+
         1E:C78B  49 80      			eor	#$80		; +ve if Y:A >= memory (signed).
         1E:C78D  49 80      	!:		eor	#$80
         1E:C78F  0A         			asl	a
16893                        		__bfalse	.LL857
         1E:C790  B0 03 4C 1A			bcc	.LL857
         1E:C794  CB          
16894                        	
16895                        		.dbg	line,	"include\routines_SHOP.c", 152; {
16896                        	
16897                        		.dbg	line,	"include\routines_SHOP.c", 153; if(weapon_level < 2)
16898                        		__ld.umq	_weapon_level
         1E:C795  AD 29 23   			lda	_weapon_level
16899                        		__ult_b.uiq	2
         1E:C798  C9 02      			cmp	#2		; Subtract integer from A.
         1E:C79A  6A         			ror	a		; CC if A < integer.
         1E:C79B  49 80      			eor	#$80
         1E:C79D  2A         			rol	a
16900                        		__bfalse	.LL858
         1E:C79E  B0 03 4C 1A			bcc	.LL858
         1E:C7A2  CB          
16901                        	
16902                        		.dbg	line,	"include\routines_SHOP.c", 154; {
16903                        	
16904                        		.dbg	line,	"include\routines_SHOP.c", 155; weapon_level = 2;
16905                        		__st.umiq	2, _weapon_level
         1E:C7A3  A9 02      			lda.l	#2
         1E:C7A5  8D 29 23   			sta	_weapon_level
16906                        	
16907                        		.dbg	line,	"include\routines_SHOP.c", 156; load_vram( WEAPON_ICON_VRAM_ADR, tileset_WEAPON_4, SIZEOF(tileset_WEAPON_4) >> 1 );
16908                        		__st.wmiq	4256, _di
         1E:C7A8  A9 A0      			lda.l	#4256
         1E:C7AA  85 F0      			sta.l	_di
         1E:C7AC  A9 10      			lda.h	#4256
         1E:C7AE  85 F1      			sta.h	_di
16909                        		__farptr	_tileset_WEAPON_4, _bp_bank, _bp
         1E:C7B0  A9 E0      			lda.l	#$6000 + ($1FFF & (_tileset_WEAPON_4))
         1E:C7B2  85 EC      			sta.l	_bp
         1E:C7B4  A9 74      			lda.h	#$6000 + ($1FFF & (_tileset_WEAPON_4))
         1E:C7B6  85 ED      			sta.h	_bp
         1E:C7B8  A9 07      			lda	#bank(_tileset_WEAPON_4)
         1E:C7BA  85 02      			sta	_bp_bank
16910                        		__ld.wi		___sizeof__tileset_WEAPON_4
         1E:C7BC  A9 80      			lda.l	#___sizeof__tileset_WEAPON_4
         1E:C7BE  A0 00      			ldy.h	#___sizeof__tileset_WEAPON_4
16911                        		__lsr.wi	1
         1E:C7C0  42         			say
         1E:C7C1  4A         			lsr	a
         1E:C7C2  42         			say
         1E:C7C3  6A         			ror	a
16912                        		__st.wmq	_ax
         1E:C7C4  85 F8      			sta.l	_ax
         1E:C7C6  84 F9      			sty.h	_ax
16913                        		 _load_vram.3
         1E:C7C8  82         			clx				; Offset to PCE VDC.
         1E:C7C9  20 09 FF   			call	load_vram_x
16914                        	
16915                        		.dbg	line,	"include\routines_SHOP.c", 158; zenny_amount -= shop_prices[1];
16916                        		__ld.wm		_shop_prices + 2
         1E:C7CC  AD 5C 26   			lda.l	_shop_prices + 2
         1E:C7CF  AC 5D 26   			ldy.h	_shop_prices + 2
16917                        		__isub_st.wmq	_zenny_amount
         1E:C7D2  38         			sec
         1E:C7D3  49 FF      			eor	#$FF
         1E:C7D5  6D 56 26   			adc.l	_zenny_amount
         1E:C7D8  8D 56 26   			sta.l	_zenny_amount
         1E:C7DB  98         			tya
         1E:C7DC  49 FF      			eor	#$FF
         1E:C7DE  6D 57 26   			adc.h	_zenny_amount
         1E:C7E1  8D 57 26   			sta.h	_zenny_amount
16918                        	
16919                        		.dbg	line,	"include\routines_SHOP.c", 159; display_ZENNY();
16920                        		__call		_display_ZENNY
         1E:C7E4  20 3B FF   			call	_display_ZENNY
16921                        	
16922                        		.dbg	line,	"include\routines_SHOP.c", 160; }
16923                        	
16924                        		.dbg	line,	"include\routines_SHOP.c", 161; }
16925    1E:C7E7             	.LL858	.alias		.LL852
16926                        	
16927                        		.dbg	line,	"include\routines_SHOP.c", 163; break; 
16928    1E:C7E7             	.LL857	.alias		.LL852
16929                        		__bra		.LL852
         1E:C7E7  4C 1A CB   			bra	.LL852
16930                        	
16931                        		.dbg	line,	"include\routines_SHOP.c", 166; // WEAPON 5 //
16932                        	
16933                        		.dbg	line,	"include\routines_SHOP.c", 167; case 2:
16934    1E:C7EA             	.LL859:
16935                        		__case		2
16936                        	
16937                        		.dbg	line,	"include\routines_SHOP.c", 168; if(zenny_amount >= shop_prices[2])
16938                        		__ld.wm		_zenny_amount
         1E:C7EA  AD 56 26   			lda.l	_zenny_amount
         1E:C7ED  AC 57 26   			ldy.h	_zenny_amount
16939                        		__sge_w.wm	_shop_prices + 4
         1E:C7F0  CD 5E 26   			cmp.l	_shop_prices + 4		; Subtract memory from Y:A.
         1E:C7F3  98         			tya
         1E:C7F4  ED 5F 26   			sbc.h	_shop_prices + 4
         1E:C7F7  50 02      			bvc	!+
         1E:C7F9  49 80      			eor	#$80		; +ve if Y:A >= memory (signed).
         1E:C7FB  49 80      	!:		eor	#$80
         1E:C7FD  0A         			asl	a
16940                        		__bfalse	.LL860
         1E:C7FE  B0 03 4C 1A			bcc	.LL860
         1E:C802  CB          
16941                        	
16942                        		.dbg	line,	"include\routines_SHOP.c", 169; {
16943                        	
16944                        		.dbg	line,	"include\routines_SHOP.c", 170; if(weapon_level < 3)
16945                        		__ld.umq	_weapon_level
         1E:C803  AD 29 23   			lda	_weapon_level
16946                        		__ult_b.uiq	3
         1E:C806  C9 03      			cmp	#3		; Subtract integer from A.
         1E:C808  6A         			ror	a		; CC if A < integer.
         1E:C809  49 80      			eor	#$80
         1E:C80B  2A         			rol	a
16947                        		__bfalse	.LL861
         1E:C80C  B0 03 4C 1A			bcc	.LL861
         1E:C810  CB          
16948                        	
16949                        		.dbg	line,	"include\routines_SHOP.c", 171; {
16950                        	
16951                        		.dbg	line,	"include\routines_SHOP.c", 172; weapon_level = 3;
16952                        		__st.umiq	3, _weapon_level
         1E:C811  A9 03      			lda.l	#3
         1E:C813  8D 29 23   			sta	_weapon_level
16953                        	
16954                        		.dbg	line,	"include\routines_SHOP.c", 173; load_vram( WEAPON_ICON_VRAM_ADR, tileset_WEAPON_5, SIZEOF(tileset_WEAPON_5) >> 1 );
16955                        		__st.wmiq	4256, _di
         1E:C816  A9 A0      			lda.l	#4256
         1E:C818  85 F0      			sta.l	_di
         1E:C81A  A9 10      			lda.h	#4256
         1E:C81C  85 F1      			sta.h	_di
16956                        		__farptr	_tileset_WEAPON_5, _bp_bank, _bp
         1E:C81E  A9 60      			lda.l	#$6000 + ($1FFF & (_tileset_WEAPON_5))
         1E:C820  85 EC      			sta.l	_bp
         1E:C822  A9 75      			lda.h	#$6000 + ($1FFF & (_tileset_WEAPON_5))
         1E:C824  85 ED      			sta.h	_bp
         1E:C826  A9 07      			lda	#bank(_tileset_WEAPON_5)
         1E:C828  85 02      			sta	_bp_bank
16957                        		__ld.wi		___sizeof__tileset_WEAPON_5
         1E:C82A  A9 80      			lda.l	#___sizeof__tileset_WEAPON_5
         1E:C82C  A0 00      			ldy.h	#___sizeof__tileset_WEAPON_5
16958                        		__lsr.wi	1
         1E:C82E  42         			say
         1E:C82F  4A         			lsr	a
         1E:C830  42         			say
         1E:C831  6A         			ror	a
16959                        		__st.wmq	_ax
         1E:C832  85 F8      			sta.l	_ax
         1E:C834  84 F9      			sty.h	_ax
16960                        		 _load_vram.3
         1E:C836  82         			clx				; Offset to PCE VDC.
         1E:C837  20 09 FF   			call	load_vram_x
16961                        	
16962                        		.dbg	line,	"include\routines_SHOP.c", 175; zenny_amount -= shop_prices[2];
16963                        		__ld.wm		_shop_prices + 4
         1E:C83A  AD 5E 26   			lda.l	_shop_prices + 4
         1E:C83D  AC 5F 26   			ldy.h	_shop_prices + 4
16964                        		__isub_st.wmq	_zenny_amount
         1E:C840  38         			sec
         1E:C841  49 FF      			eor	#$FF
         1E:C843  6D 56 26   			adc.l	_zenny_amount
         1E:C846  8D 56 26   			sta.l	_zenny_amount
         1E:C849  98         			tya
         1E:C84A  49 FF      			eor	#$FF
         1E:C84C  6D 57 26   			adc.h	_zenny_amount
         1E:C84F  8D 57 26   			sta.h	_zenny_amount
16965                        	
16966                        		.dbg	line,	"include\routines_SHOP.c", 176; display_ZENNY();
16967                        		__call		_display_ZENNY
         1E:C852  20 3B FF   			call	_display_ZENNY
16968                        	
16969                        		.dbg	line,	"include\routines_SHOP.c", 177; }
16970                        	
16971                        		.dbg	line,	"include\routines_SHOP.c", 178; }
16972    1E:C855             	.LL861	.alias		.LL852
16973                        	
16974                        		.dbg	line,	"include\routines_SHOP.c", 180; break;   
16975    1E:C855             	.LL860	.alias		.LL852
16976                        		__bra		.LL852
         1E:C855  4C 1A CB   			bra	.LL852
16977                        	
16978                        		.dbg	line,	"include\routines_SHOP.c", 183; // WEAPON 8 //
16979                        	
16980                        		.dbg	line,	"include\routines_SHOP.c", 184; case 3:
16981    1E:C858             	.LL862:
16982                        		__case		3
16983                        	
16984                        		.dbg	line,	"include\routines_SHOP.c", 185; if(zenny_amount >= shop_prices[3])
16985                        		__ld.wm		_zenny_amount
         1E:C858  AD 56 26   			lda.l	_zenny_amount
         1E:C85B  AC 57 26   			ldy.h	_zenny_amount
16986                        		__sge_w.wm	_shop_prices + 6
         1E:C85E  CD 60 26   			cmp.l	_shop_prices + 6		; Subtract memory from Y:A.
         1E:C861  98         			tya
         1E:C862  ED 61 26   			sbc.h	_shop_prices + 6
         1E:C865  50 02      			bvc	!+
         1E:C867  49 80      			eor	#$80		; +ve if Y:A >= memory (signed).
         1E:C869  49 80      	!:		eor	#$80
         1E:C86B  0A         			asl	a
16987                        		__bfalse	.LL863
         1E:C86C  B0 03 4C 1A			bcc	.LL863
         1E:C870  CB          
16988                        	
16989                        		.dbg	line,	"include\routines_SHOP.c", 186; {
16990                        	
16991                        		.dbg	line,	"include\routines_SHOP.c", 187; if(weapon_level < 4)
16992                        		__ld.umq	_weapon_level
         1E:C871  AD 29 23   			lda	_weapon_level
16993                        		__ult_b.uiq	4
         1E:C874  C9 04      			cmp	#4		; Subtract integer from A.
         1E:C876  6A         			ror	a		; CC if A < integer.
         1E:C877  49 80      			eor	#$80
         1E:C879  2A         			rol	a
16994                        		__bfalse	.LL864
         1E:C87A  B0 03 4C 1A			bcc	.LL864
         1E:C87E  CB          
16995                        	
16996                        		.dbg	line,	"include\routines_SHOP.c", 188; {
16997                        	
16998                        		.dbg	line,	"include\routines_SHOP.c", 189; weapon_level = 4;
16999                        		__st.umiq	4, _weapon_level
         1E:C87F  A9 04      			lda.l	#4
         1E:C881  8D 29 23   			sta	_weapon_level
17000                        	
17001                        		.dbg	line,	"include\routines_SHOP.c", 190; load_vram( WEAPON_ICON_VRAM_ADR, tileset_WEAPON_8, SIZEOF(tileset_WEAPON_8) >> 1 );
17002                        		__st.wmiq	4256, _di
         1E:C884  A9 A0      			lda.l	#4256
         1E:C886  85 F0      			sta.l	_di
         1E:C888  A9 10      			lda.h	#4256
         1E:C88A  85 F1      			sta.h	_di
17003                        		__farptr	_tileset_WEAPON_8, _bp_bank, _bp
         1E:C88C  A9 E0      			lda.l	#$6000 + ($1FFF & (_tileset_WEAPON_8))
         1E:C88E  85 EC      			sta.l	_bp
         1E:C890  A9 75      			lda.h	#$6000 + ($1FFF & (_tileset_WEAPON_8))
         1E:C892  85 ED      			sta.h	_bp
         1E:C894  A9 07      			lda	#bank(_tileset_WEAPON_8)
         1E:C896  85 02      			sta	_bp_bank
17004                        		__ld.wi		___sizeof__tileset_WEAPON_8
         1E:C898  A9 80      			lda.l	#___sizeof__tileset_WEAPON_8
         1E:C89A  A0 00      			ldy.h	#___sizeof__tileset_WEAPON_8
17005                        		__lsr.wi	1
         1E:C89C  42         			say
         1E:C89D  4A         			lsr	a
         1E:C89E  42         			say
         1E:C89F  6A         			ror	a
17006                        		__st.wmq	_ax
         1E:C8A0  85 F8      			sta.l	_ax
         1E:C8A2  84 F9      			sty.h	_ax
17007                        		 _load_vram.3
         1E:C8A4  82         			clx				; Offset to PCE VDC.
         1E:C8A5  20 09 FF   			call	load_vram_x
17008                        	
17009                        		.dbg	line,	"include\routines_SHOP.c", 192; zenny_amount -= shop_prices[3];
17010                        		__ld.wm		_shop_prices + 6
         1E:C8A8  AD 60 26   			lda.l	_shop_prices + 6
         1E:C8AB  AC 61 26   			ldy.h	_shop_prices + 6
17011                        		__isub_st.wmq	_zenny_amount
         1E:C8AE  38         			sec
         1E:C8AF  49 FF      			eor	#$FF
         1E:C8B1  6D 56 26   			adc.l	_zenny_amount
         1E:C8B4  8D 56 26   			sta.l	_zenny_amount
         1E:C8B7  98         			tya
         1E:C8B8  49 FF      			eor	#$FF
         1E:C8BA  6D 57 26   			adc.h	_zenny_amount
         1E:C8BD  8D 57 26   			sta.h	_zenny_amount
17012                        	
17013                        		.dbg	line,	"include\routines_SHOP.c", 193; display_ZENNY();
17014                        		__call		_display_ZENNY
         1E:C8C0  20 3B FF   			call	_display_ZENNY
17015                        	
17016                        		.dbg	line,	"include\routines_SHOP.c", 194; }
17017                        	
17018                        		.dbg	line,	"include\routines_SHOP.c", 195; }
17019    1E:C8C3             	.LL864	.alias		.LL852
17020                        	
17021                        		.dbg	line,	"include\routines_SHOP.c", 197; break;  
17022    1E:C8C3             	.LL863	.alias		.LL852
17023                        		__bra		.LL852
         1E:C8C3  4C 1A CB   			bra	.LL852
17024                        	
17025                        		.dbg	line,	"include\routines_SHOP.c", 200; // KEY //
17026                        	
17027                        		.dbg	line,	"include\routines_SHOP.c", 201; case 4:
17028    1E:C8C6             	.LL865:
17029                        		__case		4
17030                        	
17031                        		.dbg	line,	"include\routines_SHOP.c", 202; if(zenny_amount >= shop_prices[4])
17032                        		__ld.wm		_zenny_amount
         1E:C8C6  AD 56 26   			lda.l	_zenny_amount
         1E:C8C9  AC 57 26   			ldy.h	_zenny_amount
17033                        		__sge_w.wm	_shop_prices + 8
         1E:C8CC  CD 62 26   			cmp.l	_shop_prices + 8		; Subtract memory from Y:A.
         1E:C8CF  98         			tya
         1E:C8D0  ED 63 26   			sbc.h	_shop_prices + 8
         1E:C8D3  50 02      			bvc	!+
         1E:C8D5  49 80      			eor	#$80		; +ve if Y:A >= memory (signed).
         1E:C8D7  49 80      	!:		eor	#$80
         1E:C8D9  0A         			asl	a
17034                        		__bfalse	.LL866
         1E:C8DA  B0 03 4C 1A			bcc	.LL866
         1E:C8DE  CB          
17035                        	
17036                        		.dbg	line,	"include\routines_SHOP.c", 203; {
17037                        	
17038                        		.dbg	line,	"include\routines_SHOP.c", 204; key_amount += 1;
17039                        		__add_st.umiq	1, _key_amount
         1E:C8DF  EE 30 23   			inc	_key_amount
17040                        	
17041                        		.dbg	line,	"include\routines_SHOP.c", 206; zenny_amount -= shop_prices[4];
17042                        		__ld.wm		_shop_prices + 8
         1E:C8E2  AD 62 26   			lda.l	_shop_prices + 8
         1E:C8E5  AC 63 26   			ldy.h	_shop_prices + 8
17043                        		__isub_st.wmq	_zenny_amount
         1E:C8E8  38         			sec
         1E:C8E9  49 FF      			eor	#$FF
         1E:C8EB  6D 56 26   			adc.l	_zenny_amount
         1E:C8EE  8D 56 26   			sta.l	_zenny_amount
         1E:C8F1  98         			tya
         1E:C8F2  49 FF      			eor	#$FF
         1E:C8F4  6D 57 26   			adc.h	_zenny_amount
         1E:C8F7  8D 57 26   			sta.h	_zenny_amount
17044                        	
17045                        		.dbg	line,	"include\routines_SHOP.c", 207; display_KEY();
17046                        		__call		_display_KEY
         1E:C8FA  20 45 FF   			call	_display_KEY
17047                        	
17048                        		.dbg	line,	"include\routines_SHOP.c", 208; }
17049                        	
17050                        		.dbg	line,	"include\routines_SHOP.c", 210; break;   
17051    1E:C8FD             	.LL866	.alias		.LL852
17052                        		__bra		.LL852
         1E:C8FD  4C 1A CB   			bra	.LL852
17053                        	
17054                        		.dbg	line,	"include\routines_SHOP.c", 213; // ARMOR 1 //
17055                        	
17056                        		.dbg	line,	"include\routines_SHOP.c", 214; case 5:
17057    1E:C900             	.LL867:
17058                        		__case		5
17059                        	
17060                        		.dbg	line,	"include\routines_SHOP.c", 215; if(zenny_amount >= shop_prices[5])
17061                        		__ld.wm		_zenny_amount
         1E:C900  AD 56 26   			lda.l	_zenny_amount
         1E:C903  AC 57 26   			ldy.h	_zenny_amount
17062                        		__sge_w.wm	_shop_prices + 10
         1E:C906  CD 64 26   			cmp.l	_shop_prices + 10		; Subtract memory from Y:A.
         1E:C909  98         			tya
         1E:C90A  ED 65 26   			sbc.h	_shop_prices + 10
         1E:C90D  50 02      			bvc	!+
         1E:C90F  49 80      			eor	#$80		; +ve if Y:A >= memory (signed).
         1E:C911  49 80      	!:		eor	#$80
         1E:C913  0A         			asl	a
17063                        		__bfalse	.LL868
         1E:C914  B0 03 4C 1A			bcc	.LL868
         1E:C918  CB          
17064                        	
17065                        		.dbg	line,	"include\routines_SHOP.c", 216; {
17066                        	
17067                        		.dbg	line,	"include\routines_SHOP.c", 217; if(armor_level < 1)
17068                        		__ld.umq	_armor_level
         1E:C919  AD 28 23   			lda	_armor_level
17069                        		__ult_b.uiq	1
         1E:C91C  C9 01      			cmp	#1		; Subtract integer from A.
         1E:C91E  6A         			ror	a		; CC if A < integer.
         1E:C91F  49 80      			eor	#$80
         1E:C921  2A         			rol	a
17070                        		__bfalse	.LL869
         1E:C922  B0 03 4C 1A			bcc	.LL869
         1E:C926  CB          
17071                        	
17072                        		.dbg	line,	"include\routines_SHOP.c", 218; {
17073                        	
17074                        		.dbg	line,	"include\routines_SHOP.c", 219; armor_level = 1;
17075                        		__st.umiq	1, _armor_level
         1E:C927  A9 01      			lda.l	#1
         1E:C929  8D 28 23   			sta	_armor_level
17076                        	
17077                        		.dbg	line,	"include\routines_SHOP.c", 220; load_vram( ARMOR_VRAM_ADR, tileset_ARMOR_1, SIZEOF(tileset_ARMOR_1) >> 1 );
17078                        		__st.wmiq	4320, _di
         1E:C92C  A9 E0      			lda.l	#4320
         1E:C92E  85 F0      			sta.l	_di
         1E:C930  A9 10      			lda.h	#4320
         1E:C932  85 F1      			sta.h	_di
17079                        		__farptr	_tileset_ARMOR_1, _bp_bank, _bp
         1E:C934  A9 E0      			lda.l	#$6000 + ($1FFF & (_tileset_ARMOR_1))
         1E:C936  85 EC      			sta.l	_bp
         1E:C938  A9 71      			lda.h	#$6000 + ($1FFF & (_tileset_ARMOR_1))
         1E:C93A  85 ED      			sta.h	_bp
         1E:C93C  A9 07      			lda	#bank(_tileset_ARMOR_1)
         1E:C93E  85 02      			sta	_bp_bank
17080                        		__ld.wi		___sizeof__tileset_ARMOR_1
         1E:C940  A9 80      			lda.l	#___sizeof__tileset_ARMOR_1
         1E:C942  A0 00      			ldy.h	#___sizeof__tileset_ARMOR_1
17081                        		__lsr.wi	1
         1E:C944  42         			say
         1E:C945  4A         			lsr	a
         1E:C946  42         			say
         1E:C947  6A         			ror	a
17082                        		__st.wmq	_ax
         1E:C948  85 F8      			sta.l	_ax
         1E:C94A  84 F9      			sty.h	_ax
17083                        		 _load_vram.3
         1E:C94C  82         			clx				; Offset to PCE VDC.
         1E:C94D  20 09 FF   			call	load_vram_x
17084                        	
17085                        		.dbg	line,	"include\routines_SHOP.c", 222; zenny_amount -= shop_prices[5];
17086                        		__ld.wm		_shop_prices + 10
         1E:C950  AD 64 26   			lda.l	_shop_prices + 10
         1E:C953  AC 65 26   			ldy.h	_shop_prices + 10
17087                        		__isub_st.wmq	_zenny_amount
         1E:C956  38         			sec
         1E:C957  49 FF      			eor	#$FF
         1E:C959  6D 56 26   			adc.l	_zenny_amount
         1E:C95C  8D 56 26   			sta.l	_zenny_amount
         1E:C95F  98         			tya
         1E:C960  49 FF      			eor	#$FF
         1E:C962  6D 57 26   			adc.h	_zenny_amount
         1E:C965  8D 57 26   			sta.h	_zenny_amount
17088                        	
17089                        		.dbg	line,	"include\routines_SHOP.c", 223; display_ZENNY();
17090                        		__call		_display_ZENNY
         1E:C968  20 3B FF   			call	_display_ZENNY
17091                        	
17092                        		.dbg	line,	"include\routines_SHOP.c", 224; }
17093                        	
17094                        		.dbg	line,	"include\routines_SHOP.c", 225; }
17095    1E:C96B             	.LL869	.alias		.LL852
17096                        	
17097                        		.dbg	line,	"include\routines_SHOP.c", 227; break;   
17098    1E:C96B             	.LL868	.alias		.LL852
17099                        		__bra		.LL852
         1E:C96B  4C 1A CB   			bra	.LL852
17100                        	
17101                        		.dbg	line,	"include\routines_SHOP.c", 230; // ARMOR 2 //
17102                        	
17103                        		.dbg	line,	"include\routines_SHOP.c", 231; case 6:
17104    1E:C96E             	.LL870:
17105                        		__case		6
17106                        	
17107                        		.dbg	line,	"include\routines_SHOP.c", 232; if(zenny_amount >= shop_prices[6])
17108                        		__ld.wm		_zenny_amount
         1E:C96E  AD 56 26   			lda.l	_zenny_amount
         1E:C971  AC 57 26   			ldy.h	_zenny_amount
17109                        		__sge_w.wm	_shop_prices + 12
         1E:C974  CD 66 26   			cmp.l	_shop_prices + 12		; Subtract memory from Y:A.
         1E:C977  98         			tya
         1E:C978  ED 67 26   			sbc.h	_shop_prices + 12
         1E:C97B  50 02      			bvc	!+
         1E:C97D  49 80      			eor	#$80		; +ve if Y:A >= memory (signed).
         1E:C97F  49 80      	!:		eor	#$80
         1E:C981  0A         			asl	a
17110                        		__bfalse	.LL871
         1E:C982  B0 03 4C 1A			bcc	.LL871
         1E:C986  CB          
17111                        	
17112                        		.dbg	line,	"include\routines_SHOP.c", 233; {
17113                        	
17114                        		.dbg	line,	"include\routines_SHOP.c", 234; if(armor_level < 4)
17115                        		__ld.umq	_armor_level
         1E:C987  AD 28 23   			lda	_armor_level
17116                        		__ult_b.uiq	4
         1E:C98A  C9 04      			cmp	#4		; Subtract integer from A.
         1E:C98C  6A         			ror	a		; CC if A < integer.
         1E:C98D  49 80      			eor	#$80
         1E:C98F  2A         			rol	a
17117                        		__bfalse	.LL872
         1E:C990  B0 03 4C 1A			bcc	.LL872
         1E:C994  CB          
17118                        	
17119                        		.dbg	line,	"include\routines_SHOP.c", 235; {
17120                        	
17121                        		.dbg	line,	"include\routines_SHOP.c", 236; armor_level = 4;
17122                        		__st.umiq	4, _armor_level
         1E:C995  A9 04      			lda.l	#4
         1E:C997  8D 28 23   			sta	_armor_level
17123                        	
17124                        		.dbg	line,	"include\routines_SHOP.c", 237; load_vram( ARMOR_VRAM_ADR, tileset_ARMOR_2, SIZEOF(tileset_ARMOR_2) >> 1 );
17125                        		__st.wmiq	4320, _di
         1E:C99A  A9 E0      			lda.l	#4320
         1E:C99C  85 F0      			sta.l	_di
         1E:C99E  A9 10      			lda.h	#4320
         1E:C9A0  85 F1      			sta.h	_di
17126                        		__farptr	_tileset_ARMOR_2, _bp_bank, _bp
         1E:C9A2  A9 60      			lda.l	#$6000 + ($1FFF & (_tileset_ARMOR_2))
         1E:C9A4  85 EC      			sta.l	_bp
         1E:C9A6  A9 72      			lda.h	#$6000 + ($1FFF & (_tileset_ARMOR_2))
         1E:C9A8  85 ED      			sta.h	_bp
         1E:C9AA  A9 07      			lda	#bank(_tileset_ARMOR_2)
         1E:C9AC  85 02      			sta	_bp_bank
17127                        		__ld.wi		___sizeof__tileset_ARMOR_2
         1E:C9AE  A9 80      			lda.l	#___sizeof__tileset_ARMOR_2
         1E:C9B0  A0 00      			ldy.h	#___sizeof__tileset_ARMOR_2
17128                        		__lsr.wi	1
         1E:C9B2  42         			say
         1E:C9B3  4A         			lsr	a
         1E:C9B4  42         			say
         1E:C9B5  6A         			ror	a
17129                        		__st.wmq	_ax
         1E:C9B6  85 F8      			sta.l	_ax
         1E:C9B8  84 F9      			sty.h	_ax
17130                        		 _load_vram.3
         1E:C9BA  82         			clx				; Offset to PCE VDC.
         1E:C9BB  20 09 FF   			call	load_vram_x
17131                        	
17132                        		.dbg	line,	"include\routines_SHOP.c", 239; zenny_amount -= shop_prices[6];
17133                        		__ld.wm		_shop_prices + 12
         1E:C9BE  AD 66 26   			lda.l	_shop_prices + 12
         1E:C9C1  AC 67 26   			ldy.h	_shop_prices + 12
17134                        		__isub_st.wmq	_zenny_amount
         1E:C9C4  38         			sec
         1E:C9C5  49 FF      			eor	#$FF
         1E:C9C7  6D 56 26   			adc.l	_zenny_amount
         1E:C9CA  8D 56 26   			sta.l	_zenny_amount
         1E:C9CD  98         			tya
         1E:C9CE  49 FF      			eor	#$FF
         1E:C9D0  6D 57 26   			adc.h	_zenny_amount
         1E:C9D3  8D 57 26   			sta.h	_zenny_amount
17135                        	
17136                        		.dbg	line,	"include\routines_SHOP.c", 240; display_ZENNY();
17137                        		__call		_display_ZENNY
         1E:C9D6  20 3B FF   			call	_display_ZENNY
17138                        	
17139                        		.dbg	line,	"include\routines_SHOP.c", 241; }
17140                        	
17141                        		.dbg	line,	"include\routines_SHOP.c", 242; }
17142    1E:C9D9             	.LL872	.alias		.LL852
17143                        	
17144                        		.dbg	line,	"include\routines_SHOP.c", 244; break;    
17145    1E:C9D9             	.LL871	.alias		.LL852
17146                        		__bra		.LL852
         1E:C9D9  4C 1A CB   			bra	.LL852
17147                        	
17148                        		.dbg	line,	"include\routines_SHOP.c", 247; // ARMOR 4 //
17149                        	
17150                        		.dbg	line,	"include\routines_SHOP.c", 248; case 7:
17151    1E:C9DC             	.LL873:
17152                        		__case		7
17153                        	
17154                        		.dbg	line,	"include\routines_SHOP.c", 249; if(zenny_amount >= shop_prices[7])
17155                        		__ld.wm		_zenny_amount
         1E:C9DC  AD 56 26   			lda.l	_zenny_amount
         1E:C9DF  AC 57 26   			ldy.h	_zenny_amount
17156                        		__sge_w.wm	_shop_prices + 14
         1E:C9E2  CD 68 26   			cmp.l	_shop_prices + 14		; Subtract memory from Y:A.
         1E:C9E5  98         			tya
         1E:C9E6  ED 69 26   			sbc.h	_shop_prices + 14
         1E:C9E9  50 02      			bvc	!+
         1E:C9EB  49 80      			eor	#$80		; +ve if Y:A >= memory (signed).
         1E:C9ED  49 80      	!:		eor	#$80
         1E:C9EF  0A         			asl	a
17157                        		__bfalse	.LL874
         1E:C9F0  B0 03 4C 1A			bcc	.LL874
         1E:C9F4  CB          
17158                        	
17159                        		.dbg	line,	"include\routines_SHOP.c", 250; {
17160                        	
17161                        		.dbg	line,	"include\routines_SHOP.c", 251; if(armor_level < 5)
17162                        		__ld.umq	_armor_level
         1E:C9F5  AD 28 23   			lda	_armor_level
17163                        		__ult_b.uiq	5
         1E:C9F8  C9 05      			cmp	#5		; Subtract integer from A.
         1E:C9FA  6A         			ror	a		; CC if A < integer.
         1E:C9FB  49 80      			eor	#$80
         1E:C9FD  2A         			rol	a
17164                        		__bfalse	.LL875
         1E:C9FE  B0 03 4C 1A			bcc	.LL875
         1E:CA02  CB          
17165                        	
17166                        		.dbg	line,	"include\routines_SHOP.c", 252; {
17167                        	
17168                        		.dbg	line,	"include\routines_SHOP.c", 253; armor_level = 5;
17169                        		__st.umiq	5, _armor_level
         1E:CA03  A9 05      			lda.l	#5
         1E:CA05  8D 28 23   			sta	_armor_level
17170                        	
17171                        		.dbg	line,	"include\routines_SHOP.c", 254; load_vram( ARMOR_VRAM_ADR, tileset_ARMOR_4, SIZEOF(tileset_ARMOR_4) >> 1 );
17172                        		__st.wmiq	4320, _di
         1E:CA08  A9 E0      			lda.l	#4320
         1E:CA0A  85 F0      			sta.l	_di
         1E:CA0C  A9 10      			lda.h	#4320
         1E:CA0E  85 F1      			sta.h	_di
17173                        		__farptr	_tileset_ARMOR_4, _bp_bank, _bp
         1E:CA10  A9 E0      			lda.l	#$6000 + ($1FFF & (_tileset_ARMOR_4))
         1E:CA12  85 EC      			sta.l	_bp
         1E:CA14  A9 72      			lda.h	#$6000 + ($1FFF & (_tileset_ARMOR_4))
         1E:CA16  85 ED      			sta.h	_bp
         1E:CA18  A9 07      			lda	#bank(_tileset_ARMOR_4)
         1E:CA1A  85 02      			sta	_bp_bank
17174                        		__ld.wi		___sizeof__tileset_ARMOR_4
         1E:CA1C  A9 80      			lda.l	#___sizeof__tileset_ARMOR_4
         1E:CA1E  A0 00      			ldy.h	#___sizeof__tileset_ARMOR_4
17175                        		__lsr.wi	1
         1E:CA20  42         			say
         1E:CA21  4A         			lsr	a
         1E:CA22  42         			say
         1E:CA23  6A         			ror	a
17176                        		__st.wmq	_ax
         1E:CA24  85 F8      			sta.l	_ax
         1E:CA26  84 F9      			sty.h	_ax
17177                        		 _load_vram.3
         1E:CA28  82         			clx				; Offset to PCE VDC.
         1E:CA29  20 09 FF   			call	load_vram_x
17178                        	
17179                        		.dbg	line,	"include\routines_SHOP.c", 256; zenny_amount -= shop_prices[7];
17180                        		__ld.wm		_shop_prices + 14
         1E:CA2C  AD 68 26   			lda.l	_shop_prices + 14
         1E:CA2F  AC 69 26   			ldy.h	_shop_prices + 14
17181                        		__isub_st.wmq	_zenny_amount
         1E:CA32  38         			sec
         1E:CA33  49 FF      			eor	#$FF
         1E:CA35  6D 56 26   			adc.l	_zenny_amount
         1E:CA38  8D 56 26   			sta.l	_zenny_amount
         1E:CA3B  98         			tya
         1E:CA3C  49 FF      			eor	#$FF
         1E:CA3E  6D 57 26   			adc.h	_zenny_amount
         1E:CA41  8D 57 26   			sta.h	_zenny_amount
17182                        	
17183                        		.dbg	line,	"include\routines_SHOP.c", 257; display_ZENNY();
17184                        		__call		_display_ZENNY
         1E:CA44  20 3B FF   			call	_display_ZENNY
17185                        	
17186                        		.dbg	line,	"include\routines_SHOP.c", 258; }
17187                        	
17188                        		.dbg	line,	"include\routines_SHOP.c", 259; }
17189    1E:CA47             	.LL875	.alias		.LL852
17190                        	
17191                        		.dbg	line,	"include\routines_SHOP.c", 261; break;   
17192    1E:CA47             	.LL874	.alias		.LL852
17193                        		__bra		.LL852
         1E:CA47  4C 1A CB   			bra	.LL852
17194                        	
17195                        		.dbg	line,	"include\routines_SHOP.c", 264; // ARMOR 8 //
17196                        	
17197                        		.dbg	line,	"include\routines_SHOP.c", 265; case 8:
17198    1E:CA4A             	.LL876:
17199                        		__case		8
17200                        	
17201                        		.dbg	line,	"include\routines_SHOP.c", 266; if(zenny_amount >= shop_prices[8])
17202                        		__ld.wm		_zenny_amount
         1E:CA4A  AD 56 26   			lda.l	_zenny_amount
         1E:CA4D  AC 57 26   			ldy.h	_zenny_amount
17203                        		__sge_w.wm	_shop_prices + 16
         1E:CA50  CD 6A 26   			cmp.l	_shop_prices + 16		; Subtract memory from Y:A.
         1E:CA53  98         			tya
         1E:CA54  ED 6B 26   			sbc.h	_shop_prices + 16
         1E:CA57  50 02      			bvc	!+
         1E:CA59  49 80      			eor	#$80		; +ve if Y:A >= memory (signed).
         1E:CA5B  49 80      	!:		eor	#$80
         1E:CA5D  0A         			asl	a
17204                        		__bfalse	.LL877
         1E:CA5E  B0 03 4C 1A			bcc	.LL877
         1E:CA62  CB          
17205                        	
17206                        		.dbg	line,	"include\routines_SHOP.c", 267; {
17207                        	
17208                        		.dbg	line,	"include\routines_SHOP.c", 268; if(armor_level < 8)
17209                        		__ld.umq	_armor_level
         1E:CA63  AD 28 23   			lda	_armor_level
17210                        		__ult_b.uiq	8
         1E:CA66  C9 08      			cmp	#8		; Subtract integer from A.
         1E:CA68  6A         			ror	a		; CC if A < integer.
         1E:CA69  49 80      			eor	#$80
         1E:CA6B  2A         			rol	a
17211                        		__bfalse	.LL878
         1E:CA6C  B0 03 4C 1A			bcc	.LL878
         1E:CA70  CB          
17212                        	
17213                        		.dbg	line,	"include\routines_SHOP.c", 269; {
17214                        	
17215                        		.dbg	line,	"include\routines_SHOP.c", 270; armor_level = 8;
17216                        		__st.umiq	8, _armor_level
         1E:CA71  A9 08      			lda.l	#8
         1E:CA73  8D 28 23   			sta	_armor_level
17217                        	
17218                        		.dbg	line,	"include\routines_SHOP.c", 271; load_vram( ARMOR_VRAM_ADR, tileset_ARMOR_8, SIZEOF(tileset_ARMOR_8) >> 1 );
17219                        		__st.wmiq	4320, _di
         1E:CA76  A9 E0      			lda.l	#4320
         1E:CA78  85 F0      			sta.l	_di
         1E:CA7A  A9 10      			lda.h	#4320
         1E:CA7C  85 F1      			sta.h	_di
17220                        		__farptr	_tileset_ARMOR_8, _bp_bank, _bp
         1E:CA7E  A9 60      			lda.l	#$6000 + ($1FFF & (_tileset_ARMOR_8))
         1E:CA80  85 EC      			sta.l	_bp
         1E:CA82  A9 73      			lda.h	#$6000 + ($1FFF & (_tileset_ARMOR_8))
         1E:CA84  85 ED      			sta.h	_bp
         1E:CA86  A9 07      			lda	#bank(_tileset_ARMOR_8)
         1E:CA88  85 02      			sta	_bp_bank
17221                        		__ld.wi		___sizeof__tileset_ARMOR_8
         1E:CA8A  A9 80      			lda.l	#___sizeof__tileset_ARMOR_8
         1E:CA8C  A0 00      			ldy.h	#___sizeof__tileset_ARMOR_8
17222                        		__lsr.wi	1
         1E:CA8E  42         			say
         1E:CA8F  4A         			lsr	a
         1E:CA90  42         			say
         1E:CA91  6A         			ror	a
17223                        		__st.wmq	_ax
         1E:CA92  85 F8      			sta.l	_ax
         1E:CA94  84 F9      			sty.h	_ax
17224                        		 _load_vram.3
         1E:CA96  82         			clx				; Offset to PCE VDC.
         1E:CA97  20 09 FF   			call	load_vram_x
17225                        	
17226                        		.dbg	line,	"include\routines_SHOP.c", 273; zenny_amount -= shop_prices[8];
17227                        		__ld.wm		_shop_prices + 16
         1E:CA9A  AD 6A 26   			lda.l	_shop_prices + 16
         1E:CA9D  AC 6B 26   			ldy.h	_shop_prices + 16
17228                        		__isub_st.wmq	_zenny_amount
         1E:CAA0  38         			sec
         1E:CAA1  49 FF      			eor	#$FF
         1E:CAA3  6D 56 26   			adc.l	_zenny_amount
         1E:CAA6  8D 56 26   			sta.l	_zenny_amount
         1E:CAA9  98         			tya
         1E:CAAA  49 FF      			eor	#$FF
         1E:CAAC  6D 57 26   			adc.h	_zenny_amount
         1E:CAAF  8D 57 26   			sta.h	_zenny_amount
17229                        	
17230                        		.dbg	line,	"include\routines_SHOP.c", 274; display_ZENNY();
17231                        		__call		_display_ZENNY
         1E:CAB2  20 3B FF   			call	_display_ZENNY
17232                        	
17233                        		.dbg	line,	"include\routines_SHOP.c", 275; }
17234                        	
17235                        		.dbg	line,	"include\routines_SHOP.c", 276; }
17236    1E:CAB5             	.LL878	.alias		.LL852
17237                        	
17238                        		.dbg	line,	"include\routines_SHOP.c", 278; break;   
17239    1E:CAB5             	.LL877	.alias		.LL852
17240                        		__bra		.LL852
         1E:CAB5  80 63      			bra	.LL852
17241                        	
17242                        		.dbg	line,	"include\routines_SHOP.c", 281; // POTION //
17243                        	
17244                        		.dbg	line,	"include\routines_SHOP.c", 282; case 9:
17245    1E:CAB7             	.LL879:
17246                        		__case		9
17247                        	
17248                        		.dbg	line,	"include\routines_SHOP.c", 283; if(zenny_amount >= shop_prices[9])
17249                        		__ld.wm		_zenny_amount
         1E:CAB7  AD 56 26   			lda.l	_zenny_amount
         1E:CABA  AC 57 26   			ldy.h	_zenny_amount
17250                        		__sge_w.wm	_shop_prices + 18
         1E:CABD  CD 6C 26   			cmp.l	_shop_prices + 18		; Subtract memory from Y:A.
         1E:CAC0  98         			tya
         1E:CAC1  ED 6D 26   			sbc.h	_shop_prices + 18
         1E:CAC4  50 02      			bvc	!+
         1E:CAC6  49 80      			eor	#$80		; +ve if Y:A >= memory (signed).
         1E:CAC8  49 80      	!:		eor	#$80
         1E:CACA  0A         			asl	a
17251                        		__bfalse	.LL880
         1E:CACB  90 4D      			bcc	.LL880
17252                        	
17253                        		.dbg	line,	"include\routines_SHOP.c", 284; {
17254                        	
17255                        		.dbg	line,	"include\routines_SHOP.c", 285; potion_amount += 1;
17256                        		__add_st.umiq	1, _potion_amount
         1E:CACD  EE 31 23   			inc	_potion_amount
17257                        	
17258                        		.dbg	line,	"include\routines_SHOP.c", 287; zenny_amount -= shop_prices[9];
17259                        		__ld.wm		_shop_prices + 18
         1E:CAD0  AD 6C 26   			lda.l	_shop_prices + 18
         1E:CAD3  AC 6D 26   			ldy.h	_shop_prices + 18
17260                        		__isub_st.wmq	_zenny_amount
         1E:CAD6  38         			sec
         1E:CAD7  49 FF      			eor	#$FF
         1E:CAD9  6D 56 26   			adc.l	_zenny_amount
         1E:CADC  8D 56 26   			sta.l	_zenny_amount
         1E:CADF  98         			tya
         1E:CAE0  49 FF      			eor	#$FF
         1E:CAE2  6D 57 26   			adc.h	_zenny_amount
         1E:CAE5  8D 57 26   			sta.h	_zenny_amount
17261                        	
17262                        		.dbg	line,	"include\routines_SHOP.c", 288; display_POTION();
17263                        		__call		_display_POTION
         1E:CAE8  20 FF FE   			call	_display_POTION
17264                        	
17265                        		.dbg	line,	"include\routines_SHOP.c", 289; }
17266                        	
17267                        		.dbg	line,	"include\routines_SHOP.c", 291; break;   
17268    1E:CAEB             	.LL880	.alias		.LL852
17269                        		__bra		.LL852
         1E:CAEB  80 2D      			bra	.LL852
17270                        	
17271                        		.dbg	line,	"include\routines_SHOP.c", 294; // EXIT //
17272                        	
17273                        		.dbg	line,	"include\routines_SHOP.c", 295; case 10:
17274    1E:CAED             	.LL881:
17275                        		__case		10
17276                        	
17277                        		.dbg	line,	"include\routines_SHOP.c", 296; shop_counter = 0;    
17278                        		__st.umiq	0, _shop_counter
         1E:CAED  9C F4 23   			stz	_shop_counter
17279                        	
17280                        		.dbg	line,	"include\routines_SHOP.c", 297; shop_phase = SHOP_PHASE_EXIT;
17281                        		__st.umiq	2, _shop_phase
         1E:CAF0  A9 02      			lda.l	#2
         1E:CAF2  8D F3 23   			sta	_shop_phase
17282                        	
17283                        		.dbg	line,	"include\routines_SHOP.c", 299; break;                  
17284                        		__bra		.LL852
         1E:CAF5  80 23      			bra	.LL852
17285                        	
17286                        		.dbg	line,	"include\routines_SHOP.c", 300; }
17287    1E:CAF7             	.LL851:
17288                        		__switch_r.ur	0, 10
         1E:CAF7  C9 0B      			cmp	#(10 - 0) + 1
         1E:CAF9  90 02      			bcc	!found+
         1E:CAFB  A9 0B      	!default:	lda	#(10 - 0) + 1
         1E:CAFD  0A         	!found:		asl	a
         1E:CAFE  AA         			tax
         1E:CAFF  7C 02 CB   			jmp	[!table+, x]
17289                        	
17290    1E:CB02  0E C7      	!table:		dw	.LL853, .LL856, .LL859, .LL862, .LL865, .LL867, .LL870, .LL873
         1E:CB04  7C C7       
         1E:CB06  EA C7       
         1E:CB08  58 C8       
         1E:CB0A  C6 C8       
         1E:CB0C  00 C9       
         1E:CB0E  6E C9       
         1E:CB10  DC C9       
17291    1E:CB12  4A CA      			dw	.LL876, .LL879, .LL881
         1E:CB14  B7 CA       
         1E:CB16  ED CA       
17292    1E:CB18  1A CB      			dw	.LL852
17293    1E:CB1A             	.LL852:
17294                        	
17295                        		.dbg	line,	"include\routines_SHOP.c", 301; }
17296                        	
17297                        		.dbg	line,	"include\routines_SHOP.c", 302; }
17298    1E:CB1A             	.LL850:
17299    1E:CB1A             	.LL849:
17300    1E:CB1A             	.LL846:
17301    1E:CB1A             	.LL842:
17302    1E:CB1A             	.LL839:
17303    1E:CB1A             	.LL834:
17304                        		__return	0
         1E:CB1A  4C EF FF   			jmp	leave_proc
17305                        		.dbg	clear
17306                        		.endp
17307               230F     		.bss
17308    F8:230F             			ds	1
17309    F8:2310             	__joypad_BUTTONS_SHOP_end:
17310               E31D     		.code
17311                        		.pceas
17312                        	
17313                        		.dbg	line,	"main.c", 28; #include "include/routines_TITLE.c"
17314                        		.dbg	line,	"include\routines_TITLE.c", 1; #include "huc.h"
17315                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 1; #ifndef _hucc_legacy_h
17316                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 2; #define _hucc_legacy_h
17317                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 4; /****************************************************************************
17318                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 5; ; ***************************************************************************
17319                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 6; ;
17320                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 7; ; huc.h
17321                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 8; ;
17322                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 9; ; HuCC wrapper file to include a default set of HuC-compatible functions.
17323                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 10; ;
17324                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 11; ; Copyright John Brandwood 2024.
17325                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 12; ;
17326                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 13; ; Distributed under the Boost Software License, Version 1.0.
17327                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
17328                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
17329                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 16; ;
17330                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 17; ; ***************************************************************************
17331                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 18; ; ***************************************************************************
17332                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 19; ;
17333                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 20; ; When the HuCC compiler is invoked with the "--legacy" option to compile old
17334                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 21; ; projects, then this "huc.h" file is automatically included.
17335                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 22; ;
17336                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 23; ; This file includes a set of the individual HuCC headers which correspond to
17337                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 24; ; HuC's built-in functions and MagicKit library.
17338                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 25; ;
17339                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 26; ; New HuCC projects should, preferably, include the specific headers that are
17340                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 27; ; needed, which will then allow them to replace parts of the standard library
17341                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 28; ; with newer functions, or they can just manually include this "huc.h" file.
17342                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 29; ;
17343                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 30; ; ***************************************************************************
17344                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 31; ; **************************************************************************/
17345                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 33; #include "hucc-systemcard.h"
17346                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 34; #include "hucc-baselib.h"
17347                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 35; #include "hucc-gfx.h"
17348                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 36; #include "hucc-old-scroll.h"
17349                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 37; #include "hucc-old-spr.h"
17350                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 38; #include "hucc-old-map.h"
17351                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 39; #include "hucc-old-line.h"
17352                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 41; #include <stdlib.h>
17353                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 42; #include <string.h>
17354                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 44; #endif // _hucc_legacy_h
17355                        		.dbg	line,	"include\routines_TITLE.c", 2; #include "hucc-scroll.h"
17356                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 1; #ifndef _hucc_scroll_h
17357                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 2; #define _hucc_scroll_h
17358                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 4; /****************************************************************************
17359                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 5; ; ***************************************************************************
17360                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 6; ;
17361                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 7; ; hucc-scroll.h
17362                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 8; ;
17363                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 9; ; Routines for a fast split-screen scrolling system.
17364                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 10; ;
17365                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 11; ; Copyright John Brandwood 2024.
17366                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 12; ;
17367                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 13; ; Distributed under the Boost Software License, Version 1.0.
17368                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
17369                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
17370                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 16; ;
17371                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 17; ; ***************************************************************************
17372                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 18; ; ***************************************************************************
17373                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 19; ;
17374                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 20; ; The maximum number of splits for each screen layer is set in your project's
17375                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 21; ; "hucc-config.inc" file, with the library having a limit of 128-per-layer.
17376                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 22; ;
17377                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 23; ; Your first active split must be defined to start at screen line 0, and then
17378                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 24; ; the rest of the active splits must be in increasing line order to match the
17379                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 25; ; way that the PC Engine displays the output image.
17380                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 26; ;
17381                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 27; ; You can have disabled splits interleaved with your active splits.
17382                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 28; ;
17383                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 29; ; Splits that are normally disabled can be used to create full screen effects
17384                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 30; ; such as bouncing the screen up and down by adding blank areas at the top or
17385                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 31; ; bottom of the screen, and then rapidly changing the height of those areas.
17386                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 32; ;
17387                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 33; ; ***************************************************************************
17388                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 34; ; **************************************************************************/
17389                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 36; // *************
17390                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 37; // VDC bits for display_flags ...
17391                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 38; // *************
17392                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 40; #ifndef BKG_OFF
17393                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 41; #define BKG_OFF 0x00
17394                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 42; #endif
17395                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 44; #ifndef SPR_OFF
17396                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 45; #define SPR_OFF 0x00
17397                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 46; #endif
17398                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 48; #ifndef BKG_ON
17399                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 49; #define BKG_ON 0x80
17400                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 50; #endif
17401                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 52; #ifndef SPR_ON
17402                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 53; #define SPR_ON 0x40
17403                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 54; #endif
17404                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 56; // *************
17405                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 57; // Functions in hucc-scroll.asm ...
17406                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 58; // *************
17407                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 60; #ifdef __HUCC__
17408                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 62; #asmdef	HUCC_USES_NEW_SCROLL 1
17409                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 64; extern void __fastcall scroll_split( unsigned char index<_al>, unsigned char screen_line<_ah>, unsigned int bat_x<_bx>, unsigned int bat_y<_cx>, unsigned char display_flags<_dl> );
17410                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 65; extern void __fastcall sgx_scroll_split( unsigned char index<_al>, unsigned char screen_line<_ah>, unsigned int bat_x<_bx>, unsigned int bat_y<_cx>, unsigned char display_flags<_dl> );
17411                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 67; extern void __fastcall disable_split( unsigned char index<acc> );
17412                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 68; extern void __fastcall sgx_disable_split( unsigned char index<acc> );
17413                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 70; extern void __fastcall __macro disable_all_splits( void );
17414                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 71; extern void __fastcall __macro sgx_disable_all_splits( void );
17415                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 73; #asm
17416                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 74; .macro	_disable_all_splits
17417                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 75; ldy	#HUCC_PCE_SPLITS - 1
17418                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 76; !loop:		tya
17419                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 77; call	_disable_split.1
17420                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 78; dey
17421                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 79; bpl	!loop-
17422                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 80; .endm
17423                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 82; .macro	_sgx_disable_all_splits
17424                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 83; ldy	#HUCC_SGX_SPLITS - 1
17425                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 84; !loop:		tya
17426                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 85; call	_sgx_disable_split.1
17427                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 86; dey
17428                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 87; bpl	!loop-
17429                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 88; .endm
17430                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 89; #endasm
17431                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 91; #endif // __HUCC__
17432                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 93; #endif // _hucc_scroll_h
17433                        		.dbg	line,	"include\routines_TITLE.c", 3; #include "hucc-chrmap.h"
17434                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 1; #ifndef _hucc_chrmap_h
17435                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 2; #define _hucc_chrmap_h
17436                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 4; /****************************************************************************
17437                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 5; ; ***************************************************************************
17438                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 6; ;
17439                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 7; ; hucc-chrmap.h
17440                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 8; ;
17441                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 9; ; A simple map system based on 8x8 characters (aka "tiles") in BAT format.
17442                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 10; ;
17443                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 11; ; Copyright John Brandwood 2025.
17444                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 12; ;
17445                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 13; ; Distributed under the Boost Software License, Version 1.0.
17446                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
17447                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
17448                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 16; ;
17449                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 17; ; ***************************************************************************
17450                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 18; ; ***************************************************************************
17451                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 19; ;
17452                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 20; ; The maximum X and Y size for chrmaps is 256 characters (2048 pixels).
17453                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 21; ;
17454                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 22; ; The maximum total size for a chrmap is 16KBytes, which allows for maps up
17455                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 23; ; to 256x32 tiles (2048x256 pixels).
17456                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 24; ;
17457                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 25; ; ***************************************************************************
17458                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 26; ; **************************************************************************/
17459                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 28; // *************
17460                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 29; // This code extends the blkmap library ...
17461                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 30; // *************
17462                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 32; #include "hucc-blkmap.h"
17463                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 34; // *************
17464                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 35; // Functions in chrmap.asm ...
17465                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 36; // *************
17466                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 38; #ifdef __HUCC__
17467                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 40; #asmdef	HUCC_USES_CHRMAP 1
17468                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 42; extern void __fastcall __nop set_chrmap( unsigned char __far *chrmap<vdc_map_bank:vdc_map_addr>, unsigned char tiles_w<vdc_map_line_w> );
17469                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 44; extern void __fastcall draw_bat( void );
17470                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 45; extern void __fastcall scroll_bat( void );
17471                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 47; extern void __fastcall blit_bat( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
17472                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 49; #ifdef _SGX
17473                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 51; extern void __fastcall __nop sgx_set_chrmap( unsigned char __far *chrmap<sgx_map_bank:sgx_map_addr>, unsigned char tiles_w<sgx_map_line_w> );
17474                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 53; extern void __fastcall sgx_draw_bat( void );
17475                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 54; extern void __fastcall sgx_scroll_bat( void );
17476                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 56; extern void __fastcall sgx_blit_bat( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
17477                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 58; #endif
17478                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 60; #endif // __HUCC__
17479                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 62; #endif // _hucc_chrmap_h
17480                        		.dbg	line,	"include\routines_TITLE.c", 4; #include "hucc-blkmap.h"
17481                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 1; #ifndef _hucc_blkmap_h
17482                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 2; #define _hucc_blkmap_h
17483                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 4; /****************************************************************************
17484                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 5; ; ***************************************************************************
17485                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 6; ;
17486                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 7; ; hucc-blkmap.h
17487                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 8; ;
17488                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 9; ; A map system based on 16x16 meta-tiles (aka "blocks", aka CHR/BLK/MAP).
17489                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 10; ;
17490                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 11; ; Copyright John Brandwood 2025.
17491                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 12; ;
17492                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 13; ; Distributed under the Boost Software License, Version 1.0.
17493                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
17494                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
17495                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 16; ;
17496                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 17; ; ***************************************************************************
17497                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 18; ; ***************************************************************************
17498                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 19; ;
17499                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 20; ; The maximum X and Y size for blkmaps is 128 blocks (2048 pixels).
17500                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 21; ;
17501                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 22; ; The maximum total size for a blkmap is 16KBytes, which allows for maps up
17502                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 23; ; to 128x128 blocks (2048x2048 pixels).
17503                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 24; ;
17504                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 25; ; Huge multi-screen blkmaps are also supported (optionally).
17505                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 26; ;
17506                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 27; ; The maximum X and Y for multi-screen maps is 128 screens (32768 pixels).
17507                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 28; ;
17508                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 29; ; The maximum total size for a multi-screen map is 8KBytes, which allows for
17509                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 30; ; a total of 1024 screens.
17510                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 31; ;
17511                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 32; ; ***************************************************************************
17512                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 33; ; **************************************************************************/
17513                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 35; // *************
17514                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 36; // Functions in blkmap.asm ...
17515                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 37; // *************
17516                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 39; #ifdef __HUCC__
17517                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 41; #asmdef	HUCC_USES_BLKMAP 1
17518                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 43; // Current top-left of drawn map in pixels.
17519                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 44; extern unsigned int   vdc_map_pxl_x;
17520                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 45; extern unsigned int   vdc_map_pxl_y;
17521                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 47; // Width and height to draw/scroll in characters (not tiles).
17522                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 48; extern unsigned char  vdc_map_draw_w;
17523                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 49; extern unsigned char  vdc_map_draw_h;
17524                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 51; // Width of map (or multi-screen BAT) in tiles.
17525                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 52; extern unsigned char  vdc_map_line_w;
17526                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 54; // Width of map in screens (if multi-screen map).
17527                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 55; extern unsigned char  vdc_map_scrn_w;
17528                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 57; // Extra information returned by get_map_block() and sgx_get_map_block(),
17529                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 58; // which are the collision flags and the mask/overlay sprite for the BLK.
17530                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 59; extern unsigned char  map_blk_flag;
17531                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 60; extern unsigned char  map_blk_mask;
17532                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 62; extern unsigned char  vdc_scr_bank;
17533                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 63; extern unsigned char *vdc_scr_addr;
17534                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 65; extern unsigned char  vdc_map_bank;
17535                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 66; extern unsigned char *vdc_map_addr;
17536                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 68; extern unsigned char  vdc_blk_bank;
17537                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 69; extern unsigned char *vdc_blk_addr;
17538                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 71; extern unsigned char  vdc_tbl_bank;
17539                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 72; extern unsigned char *vdc_tbl_addr;
17540                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 74; extern void __fastcall set_blocks( unsigned char __far *blk_def<vdc_blk_bank:vdc_blk_addr>, unsigned char __far *flg_def<vdc_tbl_bank:vdc_tbl_addr>, unsigned char number_of_blocks<_al> );
17541                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 75; extern void __fastcall __macro set_blkmap( unsigned char __far *blk_map<vdc_map_bank:vdc_map_addr>, unsigned char blocks_w<vdc_map_line_w> );
17542                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 76; extern void __fastcall __macro set_multimap( unsigned char __far *multi_map<vdc_scr_bank:vdc_scr_addr>, unsigned char screens_w<vdc_map_scrn_w> );
17543                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 78; extern void __fastcall draw_map( void );
17544                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 79; extern void __fastcall scroll_map( void );
17545                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 81; extern void __fastcall blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
17546                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 83; extern unsigned char __fastcall get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
17547                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 85; #asm
17548                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 86; .macro	_set_blkmap.2
17549                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 87; stz	vdc_scr_bank
17550                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 88; .endm
17551                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 90; .macro	_set_multimap.2
17552                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 91; lda	vdc_bat_width
17553                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 92; lsr	a
17554                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 93; sta	vdc_map_line_w
17555                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 94; .endm
17556                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 96; .macro	SCREEN
17557                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 97; db	(((\1) & $1FFF) | $6000) >> 8, bank(\1)
17558                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 98; db	(((\2) & $1FFF) | $4000) >> 8, bank(\2)
17559                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 99; db	(((\3) & $1FFF) | $6000) >> 8, bank(\3)
17560                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 100; dw	(\4)
17561                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 101; .endm
17562                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 102; #endasm
17563                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 104; #ifdef _SGX
17564                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 106; // Current top-left of drawn map in pixels.
17565                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 107; extern unsigned int   sgx_map_pxl_x;
17566                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 108; extern unsigned int   sgx_map_pxl_y;
17567                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 110; // Width and height to draw/scroll in characters (not tiles).
17568                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 111; extern unsigned char  sgx_map_draw_w;
17569                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 112; extern unsigned char  sgx_map_draw_h;
17570                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 114; // Width of map (or multi-screen BAT) in tiles.
17571                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 115; extern unsigned char  sgx_map_line_w;
17572                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 117; // Width of map in screens (if multi-screen map).
17573                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 118; extern unsigned char  sgx_map_scrn_w;
17574                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 120; extern unsigned char  sgx_scr_bank;
17575                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 121; extern unsigned char *sgx_scr_addr;
17576                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 123; extern unsigned char  sgx_map_bank;
17577                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 124; extern unsigned char *sgx_map_addr;
17578                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 126; extern unsigned char  sgx_blk_bank;
17579                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 127; extern unsigned char *sgx_blk_addr;
17580                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 129; extern unsigned char  sgx_tbl_bank;
17581                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 130; extern unsigned char *sgx_tbl_addr;
17582                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 132; extern void __fastcall sgx_set_blocks( unsigned char __far *blk_def<sgx_blk_bank:sgx_blk_addr>, unsigned char __far *flg_def<sgx_tbl_bank:sgx_tbl_addr>, unsigned char number_of_blocks<_al> );
17583                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 133; extern void __fastcall __macro sgx_set_blkmap( unsigned char __far *blk_map<sgx_map_bank:sgx_map_addr>, unsigned char blocks_w<sgx_map_line_w> );
17584                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 134; extern void __fastcall __macro sgx_set_multimap( unsigned char __far *multi_map<sgx_scr_bank:sgx_scr_addr>, unsigned char screens_w<sgx_map_scrn_w> );
17585                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 136; extern void __fastcall sgx_draw_map( void );
17586                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 137; extern void __fastcall sgx_scroll_map( void );
17587                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 139; extern void __fastcall sgx_blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
17588                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 141; extern unsigned char __fastcall sgx_get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
17589                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 143; #asm
17590                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 144; .macro	_sgx_set_blkmap.2
17591                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 145; stz	sgx_scr_bank
17592                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 146; .endm
17593                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 148; .macro	_sgx_set_multimap.2
17594                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 149; lda	sgx_bat_width
17595                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 150; lsr	a
17596                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 151; sta	sgx_map_line_w
17597                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 152; .endm
17598                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 153; #endasm
17599                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 155; #endif
17600                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 157; #endif // __HUCC__
17601                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 159; #endif // _hucc_blkmap_h
17602                        		.dbg	line,	"include\routines_TITLE.c", 12; void joypad_BUTTONS_TITLE()
17603                        		.dbg	line,	"include\routines_TITLE.c", 13; {
17604                        	;***********************
17605                        	;***********************
17606                        	
17607                        		.hucc
17608    1E:D8C7             		.proc		_joypad_BUTTONS_TITLE
17609                        		__enter		_joypad_BUTTONS_TITLE
17610                        	
17611                        		.dbg	line,	"include\routines_TITLE.c", 14; int selector_pos;
17612                        	
17613                        		.dbg	line,	"include\routines_TITLE.c", 15; 
17614                        	
17615                        		.dbg	line,	"include\routines_TITLE.c", 16; if(joytrg(JOYPAD_1) & JOY_RIGHT)
17616                        		__ld.uiq	0
         1E:D8C7  62         			cla
17617                        		 _joytrg.1
         1E:D8C8  AA         			tax
         1E:D8C9  BD 2D 22   			lda	joytrg, x
         1E:D8CC  BC DD 22   			ldy	joy6trg, x
17618                        		__tand.wi	32
         1E:D8CF  29 20      			and	#32
         1E:D8D1  C9 01      	!:		cmp	#1
17619                        		__bfalse	.LL883
         1E:D8D3  B0 03 4C 60			bcc	.LL883
         1E:D8D7  D9          
17620                        	
17621                        		.dbg	line,	"include\routines_TITLE.c", 17; {   
17622                        	
17623                        		.dbg	line,	"include\routines_TITLE.c", 18; spr_set(0);
17624                        		__ld.uiq	0
         1E:D8D8  62         			cla
17625                        		__call		_spr_set.1
         1E:D8D9  20 F1 E7   			call	_spr_set.1
17626                        	
17627                        		.dbg	line,	"include\routines_TITLE.c", 19; selector_pos = spr_get_y();
17628                        		__call		_spr_get_y
         1E:D8DC  20 8F E8   			call	_spr_get_y
17629                        		__st.wmq	__joypad_BUTTONS_TITLE_end - 2  /* selector_pos */
         1E:D8DF  8D 21 2C   			sta.l	__joypad_BUTTONS_TITLE_end - 2
         1E:D8E2  8C 22 2C   			sty.h	__joypad_BUTTONS_TITLE_end - 2
17630                        	
17631                        		.dbg	line,	"include\routines_TITLE.c", 21; if(selector_pos == 160)
17632                        		__ld.wm		__joypad_BUTTONS_TITLE_end - 2  /* selector_pos */
         1E:D8E5  AD 21 2C   			lda.l	__joypad_BUTTONS_TITLE_end - 2
         1E:D8E8  AC 22 2C   			ldy.h	__joypad_BUTTONS_TITLE_end - 2
17633                        		__equ_w.wi	160
         1E:D8EB  C9 A0      			cmp.l	#160
         1E:D8ED  D0 04      			bne	!false+
         1E:D8EF  C0 00      			cpy.h	#160
         1E:D8F1  F0 01      			beq	!+
         1E:D8F3  18         	!false:		clc
         1E:D8F4             	!:
17634                        		__bfalse	.LL884
         1E:D8F4  90 2B      			bcc	.LL884
17635                        	
17636                        		.dbg	line,	"include\routines_TITLE.c", 22; {
17637                        	
17638                        		.dbg	line,	"include\routines_TITLE.c", 23; if(life_amount < 9)
17639                        		__ld.umq	_life_amount
         1E:D8F6  AD 2E 23   			lda	_life_amount
17640                        		__ult_b.uiq	9
         1E:D8F9  C9 09      			cmp	#9		; Subtract integer from A.
         1E:D8FB  6A         			ror	a		; CC if A < integer.
         1E:D8FC  49 80      			eor	#$80
         1E:D8FE  2A         			rol	a
17641                        		__bfalse	.LL885
         1E:D8FF  B0 03 4C 11			bcc	.LL885
         1E:D903  DB          
17642                        	
17643                        		.dbg	line,	"include\routines_TITLE.c", 24; {
17644                        	
17645                        		.dbg	line,	"include\routines_TITLE.c", 25; life_amount += 1;
17646                        		__add_st.umiq	1, _life_amount
         1E:D904  EE 2E 23   			inc	_life_amount
17647                        	
17648                        		.dbg	line,	"include\routines_TITLE.c", 26; put_number(life_amount   	,  1 , 20 , 20);
17649                        		__ld.um		_life_amount
         1E:D907  AD 2E 23   			lda	_life_amount
         1E:D90A  C2         			cly
17650                        		__st.wmq	_bx
         1E:D90B  85 FA      			sta.l	_bx
         1E:D90D  84 FB      			sty.h	_bx
17651                        		__st.umiq	1, _cl
         1E:D90F  A9 01      			lda.l	#1
         1E:D911  85 FC      			sta	_cl
17652                        		__st.umiq	20, _dil
         1E:D913  A9 14      			lda.l	#20
         1E:D915  85 F0      			sta	_dil
17653                        		__st.umiq	20, _dih
         1E:D917  A9 14      			lda.l	#20
         1E:D919  85 F1      			sta	_dih
17654                        		__call		_put_number.4
         1E:D91B  20 6D FF   			call	_put_number.4
17655                        	
17656                        		.dbg	line,	"include\routines_TITLE.c", 27; }
17657                        	
17658                        		.dbg	line,	"include\routines_TITLE.c", 28; }
17659    1E:D91E             	.LL885	.alias		.LL886
17660                        	
17661                        		.dbg	line,	"include\routines_TITLE.c", 30; else if(selector_pos == 168)
17662                        		__bra		.LL886
         1E:D91E  4C 11 DB   			bra	.LL886
17663    1E:D921             	.LL884:
17664                        		__ld.wm		__joypad_BUTTONS_TITLE_end - 2  /* selector_pos */
         1E:D921  AD 21 2C   			lda.l	__joypad_BUTTONS_TITLE_end - 2
         1E:D924  AC 22 2C   			ldy.h	__joypad_BUTTONS_TITLE_end - 2
17665                        		__equ_w.wi	168
         1E:D927  C9 A8      			cmp.l	#168
         1E:D929  D0 04      			bne	!false+
         1E:D92B  C0 00      			cpy.h	#168
         1E:D92D  F0 01      			beq	!+
         1E:D92F  18         	!false:		clc
         1E:D930             	!:
17666                        		__bfalse	.LL887
         1E:D930  B0 03 4C 11			bcc	.LL887
         1E:D934  DB          
17667                        	
17668                        		.dbg	line,	"include\routines_TITLE.c", 31; {
17669                        	
17670                        		.dbg	line,	"include\routines_TITLE.c", 32; if(credits_amount < 5)
17671                        		__ld.umq	_credits_amount
         1E:D935  AD 2F 23   			lda	_credits_amount
17672                        		__ult_b.uiq	5
         1E:D938  C9 05      			cmp	#5		; Subtract integer from A.
         1E:D93A  6A         			ror	a		; CC if A < integer.
         1E:D93B  49 80      			eor	#$80
         1E:D93D  2A         			rol	a
17673                        		__bfalse	.LL888
         1E:D93E  B0 03 4C 11			bcc	.LL888
         1E:D942  DB          
17674                        	
17675                        		.dbg	line,	"include\routines_TITLE.c", 33; {
17676                        	
17677                        		.dbg	line,	"include\routines_TITLE.c", 34; credits_amount += 1;
17678                        		__add_st.umiq	1, _credits_amount
         1E:D943  EE 2F 23   			inc	_credits_amount
17679                        	
17680                        		.dbg	line,	"include\routines_TITLE.c", 35; put_number(credits_amount   ,  1 , 20 , 21);
17681                        		__ld.um		_credits_amount
         1E:D946  AD 2F 23   			lda	_credits_amount
         1E:D949  C2         			cly
17682                        		__st.wmq	_bx
         1E:D94A  85 FA      			sta.l	_bx
         1E:D94C  84 FB      			sty.h	_bx
17683                        		__st.umiq	1, _cl
         1E:D94E  A9 01      			lda.l	#1
         1E:D950  85 FC      			sta	_cl
17684                        		__st.umiq	20, _dil
         1E:D952  A9 14      			lda.l	#20
         1E:D954  85 F0      			sta	_dil
17685                        		__st.umiq	21, _dih
         1E:D956  A9 15      			lda.l	#21
         1E:D958  85 F1      			sta	_dih
17686                        		__call		_put_number.4
         1E:D95A  20 6D FF   			call	_put_number.4
17687                        	
17688                        		.dbg	line,	"include\routines_TITLE.c", 36; }
17689                        	
17690                        		.dbg	line,	"include\routines_TITLE.c", 37; }
17691    1E:D95D             	.LL888	.alias		.LL889
17692                        	
17693                        		.dbg	line,	"include\routines_TITLE.c", 38; }
17694    1E:D95D             	.LL887	.alias		.LL889
17695    1E:D95D             	.LL886	.alias		.LL889
17696                        	
17697                        		.dbg	line,	"include\routines_TITLE.c", 40; 
17698                        	
17699                        		.dbg	line,	"include\routines_TITLE.c", 41; else if(joytrg(JOYPAD_1) & JOY_LEFT)
17700                        		__bra		.LL889
         1E:D95D  4C 11 DB   			bra	.LL889
17701    1E:D960             	.LL883:
17702                        		__ld.uiq	0
         1E:D960  62         			cla
17703                        		 _joytrg.1
         1E:D961  AA         			tax
         1E:D962  BD 2D 22   			lda	joytrg, x
         1E:D965  BC DD 22   			ldy	joy6trg, x
17704                        		__tand.wi	128
         1E:D968  29 80      			and	#128
         1E:D96A  C9 01      	!:		cmp	#1
17705                        		__bfalse	.LL890
         1E:D96C  B0 03 4C F3			bcc	.LL890
         1E:D970  D9          
17706                        	
17707                        		.dbg	line,	"include\routines_TITLE.c", 42; {
17708                        	
17709                        		.dbg	line,	"include\routines_TITLE.c", 43; spr_set(0);
17710                        		__ld.uiq	0
         1E:D971  62         			cla
17711                        		__call		_spr_set.1
         1E:D972  20 F1 E7   			call	_spr_set.1
17712                        	
17713                        		.dbg	line,	"include\routines_TITLE.c", 44; selector_pos = spr_get_y();
17714                        		__call		_spr_get_y
         1E:D975  20 8F E8   			call	_spr_get_y
17715                        		__st.wmq	__joypad_BUTTONS_TITLE_end - 2  /* selector_pos */
         1E:D978  8D 21 2C   			sta.l	__joypad_BUTTONS_TITLE_end - 2
         1E:D97B  8C 22 2C   			sty.h	__joypad_BUTTONS_TITLE_end - 2
17716                        	
17717                        		.dbg	line,	"include\routines_TITLE.c", 46; if(selector_pos == 160)
17718                        		__ld.wm		__joypad_BUTTONS_TITLE_end - 2  /* selector_pos */
         1E:D97E  AD 21 2C   			lda.l	__joypad_BUTTONS_TITLE_end - 2
         1E:D981  AC 22 2C   			ldy.h	__joypad_BUTTONS_TITLE_end - 2
17719                        		__equ_w.wi	160
         1E:D984  C9 A0      			cmp.l	#160
         1E:D986  D0 04      			bne	!false+
         1E:D988  C0 00      			cpy.h	#160
         1E:D98A  F0 01      			beq	!+
         1E:D98C  18         	!false:		clc
         1E:D98D             	!:
17720                        		__bfalse	.LL891
         1E:D98D  90 28      			bcc	.LL891
17721                        	
17722                        		.dbg	line,	"include\routines_TITLE.c", 47; {
17723                        	
17724                        		.dbg	line,	"include\routines_TITLE.c", 48; if(life_amount > 3)
17725                        		__ld.umq	_life_amount
         1E:D98F  AD 2E 23   			lda	_life_amount
17726                        		__ugt_b.uiq	3
         1E:D992  18         			clc			; Subtract integer+1 from A.
         1E:D993  E9 03      			sbc	#3		; CS if A > integer.
17727                        		__bfalse	.LL892
         1E:D995  B0 03 4C 11			bcc	.LL892
         1E:D999  DB          
17728                        	
17729                        		.dbg	line,	"include\routines_TITLE.c", 49; {
17730                        	
17731                        		.dbg	line,	"include\routines_TITLE.c", 50; life_amount -= 1;
17732                        		__sub_st.umiq	1, _life_amount
         1E:D99A  CE 2E 23   			dec	_life_amount
17733                        	
17734                        		.dbg	line,	"include\routines_TITLE.c", 51; put_number(life_amount   	,  1 , 20 , 20);
17735                        		__ld.um		_life_amount
         1E:D99D  AD 2E 23   			lda	_life_amount
         1E:D9A0  C2         			cly
17736                        		__st.wmq	_bx
         1E:D9A1  85 FA      			sta.l	_bx
         1E:D9A3  84 FB      			sty.h	_bx
17737                        		__st.umiq	1, _cl
         1E:D9A5  A9 01      			lda.l	#1
         1E:D9A7  85 FC      			sta	_cl
17738                        		__st.umiq	20, _dil
         1E:D9A9  A9 14      			lda.l	#20
         1E:D9AB  85 F0      			sta	_dil
17739                        		__st.umiq	20, _dih
         1E:D9AD  A9 14      			lda.l	#20
         1E:D9AF  85 F1      			sta	_dih
17740                        		__call		_put_number.4
         1E:D9B1  20 6D FF   			call	_put_number.4
17741                        	
17742                        		.dbg	line,	"include\routines_TITLE.c", 52; }
17743                        	
17744                        		.dbg	line,	"include\routines_TITLE.c", 53; }
17745    1E:D9B4             	.LL892	.alias		.LL893
17746                        	
17747                        		.dbg	line,	"include\routines_TITLE.c", 55; else if(selector_pos == 168)
17748                        		__bra		.LL893
         1E:D9B4  4C 11 DB   			bra	.LL893
17749    1E:D9B7             	.LL891:
17750                        		__ld.wm		__joypad_BUTTONS_TITLE_end - 2  /* selector_pos */
         1E:D9B7  AD 21 2C   			lda.l	__joypad_BUTTONS_TITLE_end - 2
         1E:D9BA  AC 22 2C   			ldy.h	__joypad_BUTTONS_TITLE_end - 2
17751                        		__equ_w.wi	168
         1E:D9BD  C9 A8      			cmp.l	#168
         1E:D9BF  D0 04      			bne	!false+
         1E:D9C1  C0 00      			cpy.h	#168
         1E:D9C3  F0 01      			beq	!+
         1E:D9C5  18         	!false:		clc
         1E:D9C6             	!:
17752                        		__bfalse	.LL894
         1E:D9C6  B0 03 4C 11			bcc	.LL894
         1E:D9CA  DB          
17753                        	
17754                        		.dbg	line,	"include\routines_TITLE.c", 56; {
17755                        	
17756                        		.dbg	line,	"include\routines_TITLE.c", 57; if(credits_amount > 2)
17757                        		__ld.umq	_credits_amount
         1E:D9CB  AD 2F 23   			lda	_credits_amount
17758                        		__ugt_b.uiq	2
         1E:D9CE  18         			clc			; Subtract integer+1 from A.
         1E:D9CF  E9 02      			sbc	#2		; CS if A > integer.
17759                        		__bfalse	.LL895
         1E:D9D1  B0 03 4C 11			bcc	.LL895
         1E:D9D5  DB          
17760                        	
17761                        		.dbg	line,	"include\routines_TITLE.c", 58; {
17762                        	
17763                        		.dbg	line,	"include\routines_TITLE.c", 59; credits_amount -= 1;
17764                        		__sub_st.umiq	1, _credits_amount
         1E:D9D6  CE 2F 23   			dec	_credits_amount
17765                        	
17766                        		.dbg	line,	"include\routines_TITLE.c", 60; put_number(credits_amount   ,  1 , 20 , 21);
17767                        		__ld.um		_credits_amount
         1E:D9D9  AD 2F 23   			lda	_credits_amount
         1E:D9DC  C2         			cly
17768                        		__st.wmq	_bx
         1E:D9DD  85 FA      			sta.l	_bx
         1E:D9DF  84 FB      			sty.h	_bx
17769                        		__st.umiq	1, _cl
         1E:D9E1  A9 01      			lda.l	#1
         1E:D9E3  85 FC      			sta	_cl
17770                        		__st.umiq	20, _dil
         1E:D9E5  A9 14      			lda.l	#20
         1E:D9E7  85 F0      			sta	_dil
17771                        		__st.umiq	21, _dih
         1E:D9E9  A9 15      			lda.l	#21
         1E:D9EB  85 F1      			sta	_dih
17772                        		__call		_put_number.4
         1E:D9ED  20 6D FF   			call	_put_number.4
17773                        	
17774                        		.dbg	line,	"include\routines_TITLE.c", 61; }
17775                        	
17776                        		.dbg	line,	"include\routines_TITLE.c", 62; }
17777    1E:D9F0             	.LL895	.alias		.LL896
17778                        	
17779                        		.dbg	line,	"include\routines_TITLE.c", 63; }
17780    1E:D9F0             	.LL894	.alias		.LL896
17781    1E:D9F0             	.LL893	.alias		.LL896
17782                        	
17783                        		.dbg	line,	"include\routines_TITLE.c", 66; else if(joytrg(JOYPAD_1) & JOY_UP)
17784                        		__bra		.LL896
         1E:D9F0  4C 11 DB   			bra	.LL896
17785    1E:D9F3             	.LL890:
17786                        		__ld.uiq	0
         1E:D9F3  62         			cla
17787                        		 _joytrg.1
         1E:D9F4  AA         			tax
         1E:D9F5  BD 2D 22   			lda	joytrg, x
         1E:D9F8  BC DD 22   			ldy	joy6trg, x
17788                        		__tand.wi	16
         1E:D9FB  29 10      			and	#16
         1E:D9FD  C9 01      	!:		cmp	#1
17789                        		__bfalse	.LL897
         1E:D9FF  90 5A      			bcc	.LL897
17790                        	
17791                        		.dbg	line,	"include\routines_TITLE.c", 67; {
17792                        	
17793                        		.dbg	line,	"include\routines_TITLE.c", 68; spr_set(0);
17794                        		__ld.uiq	0
         1E:DA01  62         			cla
17795                        		__call		_spr_set.1
         1E:DA02  20 F1 E7   			call	_spr_set.1
17796                        	
17797                        		.dbg	line,	"include\routines_TITLE.c", 69; selector_pos = spr_get_y();
17798                        		__call		_spr_get_y
         1E:DA05  20 8F E8   			call	_spr_get_y
17799                        		__st.wmq	__joypad_BUTTONS_TITLE_end - 2  /* selector_pos */
         1E:DA08  8D 21 2C   			sta.l	__joypad_BUTTONS_TITLE_end - 2
         1E:DA0B  8C 22 2C   			sty.h	__joypad_BUTTONS_TITLE_end - 2
17800                        	
17801                        		.dbg	line,	"include\routines_TITLE.c", 71; if(selector_pos == 160)
17802                        		__ld.wm		__joypad_BUTTONS_TITLE_end - 2  /* selector_pos */
         1E:DA0E  AD 21 2C   			lda.l	__joypad_BUTTONS_TITLE_end - 2
         1E:DA11  AC 22 2C   			ldy.h	__joypad_BUTTONS_TITLE_end - 2
17803                        		__equ_w.wi	160
         1E:DA14  C9 A0      			cmp.l	#160
         1E:DA16  D0 04      			bne	!false+
         1E:DA18  C0 00      			cpy.h	#160
         1E:DA1A  F0 01      			beq	!+
         1E:DA1C  18         	!false:		clc
         1E:DA1D             	!:
17804                        		__bfalse	.LL898
         1E:DA1D  90 14      			bcc	.LL898
17805                        	
17806                        		.dbg	line,	"include\routines_TITLE.c", 72; {
17807                        	
17808                        		.dbg	line,	"include\routines_TITLE.c", 73; selector_pos = 144;
17809                        		__st.wmiq	144, __joypad_BUTTONS_TITLE_end - 2  /* selector_pos */
         1E:DA1F  A9 90      			lda.l	#144
         1E:DA21  8D 21 2C   			sta.l	__joypad_BUTTONS_TITLE_end - 2
         1E:DA24  9C 22 2C   			stz.h	__joypad_BUTTONS_TITLE_end - 2
17810                        	
17811                        		.dbg	line,	"include\routines_TITLE.c", 74; spr_y(selector_pos);
17812                        		__ld.wm		__joypad_BUTTONS_TITLE_end - 2  /* selector_pos */
         1E:DA27  AD 21 2C   			lda.l	__joypad_BUTTONS_TITLE_end - 2
         1E:DA2A  AC 22 2C   			ldy.h	__joypad_BUTTONS_TITLE_end - 2
17813                        		__call		_spr_y.1
         1E:DA2D  20 2D E8   			call	_spr_y.1
17814                        	
17815                        		.dbg	line,	"include\routines_TITLE.c", 75; }
17816                        	
17817                        		.dbg	line,	"include\routines_TITLE.c", 77; else if(selector_pos == 168)
17818                        		__bra		.LL899
         1E:DA30  4C 11 DB   			bra	.LL899
17819    1E:DA33             	.LL898:
17820                        		__ld.wm		__joypad_BUTTONS_TITLE_end - 2  /* selector_pos */
         1E:DA33  AD 21 2C   			lda.l	__joypad_BUTTONS_TITLE_end - 2
         1E:DA36  AC 22 2C   			ldy.h	__joypad_BUTTONS_TITLE_end - 2
17821                        		__equ_w.wi	168
         1E:DA39  C9 A8      			cmp.l	#168
         1E:DA3B  D0 04      			bne	!false+
         1E:DA3D  C0 00      			cpy.h	#168
         1E:DA3F  F0 01      			beq	!+
         1E:DA41  18         	!false:		clc
         1E:DA42             	!:
17822                        		__bfalse	.LL900
         1E:DA42  B0 03 4C 11			bcc	.LL900
         1E:DA46  DB          
17823                        	
17824                        		.dbg	line,	"include\routines_TITLE.c", 78; {
17825                        	
17826                        		.dbg	line,	"include\routines_TITLE.c", 79; selector_pos = 160;
17827                        		__st.wmiq	160, __joypad_BUTTONS_TITLE_end - 2  /* selector_pos */
         1E:DA47  A9 A0      			lda.l	#160
         1E:DA49  8D 21 2C   			sta.l	__joypad_BUTTONS_TITLE_end - 2
         1E:DA4C  9C 22 2C   			stz.h	__joypad_BUTTONS_TITLE_end - 2
17828                        	
17829                        		.dbg	line,	"include\routines_TITLE.c", 80; spr_y(selector_pos);
17830                        		__ld.wm		__joypad_BUTTONS_TITLE_end - 2  /* selector_pos */
         1E:DA4F  AD 21 2C   			lda.l	__joypad_BUTTONS_TITLE_end - 2
         1E:DA52  AC 22 2C   			ldy.h	__joypad_BUTTONS_TITLE_end - 2
17831                        		__call		_spr_y.1
         1E:DA55  20 2D E8   			call	_spr_y.1
17832                        	
17833                        		.dbg	line,	"include\routines_TITLE.c", 81; }
17834                        	
17835                        		.dbg	line,	"include\routines_TITLE.c", 82; }
17836    1E:DA58             	.LL900	.alias		.LL901
17837    1E:DA58             	.LL899	.alias		.LL901
17838                        	
17839                        		.dbg	line,	"include\routines_TITLE.c", 85; else if(joytrg(JOYPAD_1) & JOY_DOWN)
17840                        		__bra		.LL901
         1E:DA58  4C 11 DB   			bra	.LL901
17841    1E:DA5B             	.LL897:
17842                        		__ld.uiq	0
         1E:DA5B  62         			cla
17843                        		 _joytrg.1
         1E:DA5C  AA         			tax
         1E:DA5D  BD 2D 22   			lda	joytrg, x
         1E:DA60  BC DD 22   			ldy	joy6trg, x
17844                        		__tand.wi	64
         1E:DA63  29 40      			and	#64
         1E:DA65  C9 01      	!:		cmp	#1
17845                        		__bfalse	.LL902
         1E:DA67  90 55      			bcc	.LL902
17846                        	
17847                        		.dbg	line,	"include\routines_TITLE.c", 86; {
17848                        	
17849                        		.dbg	line,	"include\routines_TITLE.c", 87; spr_set(0);
17850                        		__ld.uiq	0
         1E:DA69  62         			cla
17851                        		__call		_spr_set.1
         1E:DA6A  20 F1 E7   			call	_spr_set.1
17852                        	
17853                        		.dbg	line,	"include\routines_TITLE.c", 88; selector_pos = spr_get_y();
17854                        		__call		_spr_get_y
         1E:DA6D  20 8F E8   			call	_spr_get_y
17855                        		__st.wmq	__joypad_BUTTONS_TITLE_end - 2  /* selector_pos */
         1E:DA70  8D 21 2C   			sta.l	__joypad_BUTTONS_TITLE_end - 2
         1E:DA73  8C 22 2C   			sty.h	__joypad_BUTTONS_TITLE_end - 2
17856                        	
17857                        		.dbg	line,	"include\routines_TITLE.c", 90; if(selector_pos == 144)
17858                        		__ld.wm		__joypad_BUTTONS_TITLE_end - 2  /* selector_pos */
         1E:DA76  AD 21 2C   			lda.l	__joypad_BUTTONS_TITLE_end - 2
         1E:DA79  AC 22 2C   			ldy.h	__joypad_BUTTONS_TITLE_end - 2
17859                        		__equ_w.wi	144
         1E:DA7C  C9 90      			cmp.l	#144
         1E:DA7E  D0 04      			bne	!false+
         1E:DA80  C0 00      			cpy.h	#144
         1E:DA82  F0 01      			beq	!+
         1E:DA84  18         	!false:		clc
         1E:DA85             	!:
17860                        		__bfalse	.LL903
         1E:DA85  90 13      			bcc	.LL903
17861                        	
17862                        		.dbg	line,	"include\routines_TITLE.c", 91; {
17863                        	
17864                        		.dbg	line,	"include\routines_TITLE.c", 92; selector_pos = 160;
17865                        		__st.wmiq	160, __joypad_BUTTONS_TITLE_end - 2  /* selector_pos */
         1E:DA87  A9 A0      			lda.l	#160
         1E:DA89  8D 21 2C   			sta.l	__joypad_BUTTONS_TITLE_end - 2
         1E:DA8C  9C 22 2C   			stz.h	__joypad_BUTTONS_TITLE_end - 2
17866                        	
17867                        		.dbg	line,	"include\routines_TITLE.c", 93; spr_y(selector_pos);
17868                        		__ld.wm		__joypad_BUTTONS_TITLE_end - 2  /* selector_pos */
         1E:DA8F  AD 21 2C   			lda.l	__joypad_BUTTONS_TITLE_end - 2
         1E:DA92  AC 22 2C   			ldy.h	__joypad_BUTTONS_TITLE_end - 2
17869                        		__call		_spr_y.1
         1E:DA95  20 2D E8   			call	_spr_y.1
17870                        	
17871                        		.dbg	line,	"include\routines_TITLE.c", 94; }
17872                        	
17873                        		.dbg	line,	"include\routines_TITLE.c", 96; else if(selector_pos == 160)
17874                        		__bra		.LL904
         1E:DA98  80 77      			bra	.LL904
17875    1E:DA9A             	.LL903:
17876                        		__ld.wm		__joypad_BUTTONS_TITLE_end - 2  /* selector_pos */
         1E:DA9A  AD 21 2C   			lda.l	__joypad_BUTTONS_TITLE_end - 2
         1E:DA9D  AC 22 2C   			ldy.h	__joypad_BUTTONS_TITLE_end - 2
17877                        		__equ_w.wi	160
         1E:DAA0  C9 A0      			cmp.l	#160
         1E:DAA2  D0 04      			bne	!false+
         1E:DAA4  C0 00      			cpy.h	#160
         1E:DAA6  F0 01      			beq	!+
         1E:DAA8  18         	!false:		clc
         1E:DAA9             	!:
17878                        		__bfalse	.LL905
         1E:DAA9  90 66      			bcc	.LL905
17879                        	
17880                        		.dbg	line,	"include\routines_TITLE.c", 97; {
17881                        	
17882                        		.dbg	line,	"include\routines_TITLE.c", 98; selector_pos = 168;
17883                        		__st.wmiq	168, __joypad_BUTTONS_TITLE_end - 2  /* selector_pos */
         1E:DAAB  A9 A8      			lda.l	#168
         1E:DAAD  8D 21 2C   			sta.l	__joypad_BUTTONS_TITLE_end - 2
         1E:DAB0  9C 22 2C   			stz.h	__joypad_BUTTONS_TITLE_end - 2
17884                        	
17885                        		.dbg	line,	"include\routines_TITLE.c", 99; spr_y(selector_pos);
17886                        		__ld.wm		__joypad_BUTTONS_TITLE_end - 2  /* selector_pos */
         1E:DAB3  AD 21 2C   			lda.l	__joypad_BUTTONS_TITLE_end - 2
         1E:DAB6  AC 22 2C   			ldy.h	__joypad_BUTTONS_TITLE_end - 2
17887                        		__call		_spr_y.1
         1E:DAB9  20 2D E8   			call	_spr_y.1
17888                        	
17889                        		.dbg	line,	"include\routines_TITLE.c", 100; }        
17890                        	
17891                        		.dbg	line,	"include\routines_TITLE.c", 101; }
17892    1E:DABC             	.LL905	.alias		.LL906
17893    1E:DABC             	.LL904	.alias		.LL906
17894                        	
17895                        		.dbg	line,	"include\routines_TITLE.c", 104; else if(joytrg(JOYPAD_1) & JOY_I || joytrg(JOYPAD_1) & JOY_II || joytrg(JOYPAD_1) & JOY_RUN)
17896                        		__bra		.LL906
         1E:DABC  80 53      			bra	.LL906
17897    1E:DABE             	.LL902:
17898                        		__ld.uiq	0
         1E:DABE  62         			cla
17899                        		 _joytrg.1
         1E:DABF  AA         			tax
         1E:DAC0  BD 2D 22   			lda	joytrg, x
         1E:DAC3  BC DD 22   			ldy	joy6trg, x
17900                        		__tand.wi	1
         1E:DAC6  29 01      			and	#1
         1E:DAC8  C9 01      	!:		cmp	#1
17901                        		__btrue		.LL908
         1E:DACA  B0 0C      			bcs	.LL908
17902                        		__ld.uiq	0
         1E:DACC  62         			cla
17903                        		 _joytrg.1
         1E:DACD  AA         			tax
         1E:DACE  BD 2D 22   			lda	joytrg, x
         1E:DAD1  BC DD 22   			ldy	joy6trg, x
17904                        		__tand.wi	2
         1E:DAD4  29 02      			and	#2
         1E:DAD6  C9 01      	!:		cmp	#1
17905    1E:DAD8             	.LL908:
17906                        		__btrue		.LL909
         1E:DAD8  B0 0C      			bcs	.LL909
17907                        		__ld.uiq	0
         1E:DADA  62         			cla
17908                        		 _joytrg.1
         1E:DADB  AA         			tax
         1E:DADC  BD 2D 22   			lda	joytrg, x
         1E:DADF  BC DD 22   			ldy	joy6trg, x
17909                        		__tand.wi	8
         1E:DAE2  29 08      			and	#8
         1E:DAE4  C9 01      	!:		cmp	#1
17910    1E:DAE6             	.LL909:
17911                        		__bfalse	.LL907
         1E:DAE6  90 29      			bcc	.LL907
17912                        	
17913                        		.dbg	line,	"include\routines_TITLE.c", 105; {
17914                        	
17915                        		.dbg	line,	"include\routines_TITLE.c", 106; spr_set(0);
17916                        		__ld.uiq	0
         1E:DAE8  62         			cla
17917                        		__call		_spr_set.1
         1E:DAE9  20 F1 E7   			call	_spr_set.1
17918                        	
17919                        		.dbg	line,	"include\routines_TITLE.c", 107; selector_pos = spr_get_y();
17920                        		__call		_spr_get_y
         1E:DAEC  20 8F E8   			call	_spr_get_y
17921                        		__st.wmq	__joypad_BUTTONS_TITLE_end - 2  /* selector_pos */
         1E:DAEF  8D 21 2C   			sta.l	__joypad_BUTTONS_TITLE_end - 2
         1E:DAF2  8C 22 2C   			sty.h	__joypad_BUTTONS_TITLE_end - 2
17922                        	
17923                        		.dbg	line,	"include\routines_TITLE.c", 109; // IF CURSOR IS ON START GAME //
17924                        	
17925                        		.dbg	line,	"include\routines_TITLE.c", 110; if(selector_pos == 144)
17926                        		__ld.wm		__joypad_BUTTONS_TITLE_end - 2  /* selector_pos */
         1E:DAF5  AD 21 2C   			lda.l	__joypad_BUTTONS_TITLE_end - 2
         1E:DAF8  AC 22 2C   			ldy.h	__joypad_BUTTONS_TITLE_end - 2
17927                        		__equ_w.wi	144
         1E:DAFB  C9 90      			cmp.l	#144
         1E:DAFD  D0 04      			bne	!false+
         1E:DAFF  C0 00      			cpy.h	#144
         1E:DB01  F0 01      			beq	!+
         1E:DB03  18         	!false:		clc
         1E:DB04             	!:
17928                        		__bfalse	.LL910
         1E:DB04  90 0B      			bcc	.LL910
17929                        	
17930                        		.dbg	line,	"include\routines_TITLE.c", 111; {
17931                        	
17932                        		.dbg	line,	"include\routines_TITLE.c", 112; // DISABLE DISPLAY //
17933                        	
17934                        		.dbg	line,	"include\routines_TITLE.c", 113; disp_off();
17935                        		__call		_disp_off
         1E:DB06  20 3D E4   			call	_disp_off
17936                        	
17937                        		.dbg	line,	"include\routines_TITLE.c", 115; sequence_loaded = FALSE;
17938                        		__st.umiq	0, _sequence_loaded
         1E:DB09  9C 14 23   			stz	_sequence_loaded
17939                        	
17940                        		.dbg	line,	"include\routines_TITLE.c", 117; sequence_id = SEQUENCE_INTRO;
17941                        		__st.umiq	1, _sequence_id
         1E:DB0C  A9 01      			lda.l	#1
         1E:DB0E  8D 13 23   			sta	_sequence_id
17942                        	
17943                        		.dbg	line,	"include\routines_TITLE.c", 118; }
17944                        	
17945                        		.dbg	line,	"include\routines_TITLE.c", 119; }
17946    1E:DB11             	.LL910:
17947                        	
17948                        		.dbg	line,	"include\routines_TITLE.c", 120; }
17949    1E:DB11             	.LL907:
17950    1E:DB11             	.LL906:
17951    1E:DB11             	.LL901:
17952    1E:DB11             	.LL896:
17953    1E:DB11             	.LL889:
17954    1E:DB11             	.LL882:
17955                        		__return	0
         1E:DB11  4C EF FF   			jmp	leave_proc
17956                        		.dbg	clear
17957                        		.endp
17958               2310     		.bss
17959    F8:2310             	__joypad_BUTTONS_TITLE_end	.alias	leaf_stack
17960               E31D     		.code
17961                        		.pceas
17962                        	
17963                        		.dbg	line,	"main.c", 29; #include "include/init.c"
17964                        		.dbg	line,	"include\init.c", 1; #include "huc.h"
17965                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 1; #ifndef _hucc_legacy_h
17966                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 2; #define _hucc_legacy_h
17967                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 4; /****************************************************************************
17968                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 5; ; ***************************************************************************
17969                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 6; ;
17970                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 7; ; huc.h
17971                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 8; ;
17972                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 9; ; HuCC wrapper file to include a default set of HuC-compatible functions.
17973                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 10; ;
17974                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 11; ; Copyright John Brandwood 2024.
17975                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 12; ;
17976                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 13; ; Distributed under the Boost Software License, Version 1.0.
17977                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
17978                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
17979                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 16; ;
17980                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 17; ; ***************************************************************************
17981                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 18; ; ***************************************************************************
17982                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 19; ;
17983                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 20; ; When the HuCC compiler is invoked with the "--legacy" option to compile old
17984                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 21; ; projects, then this "huc.h" file is automatically included.
17985                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 22; ;
17986                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 23; ; This file includes a set of the individual HuCC headers which correspond to
17987                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 24; ; HuC's built-in functions and MagicKit library.
17988                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 25; ;
17989                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 26; ; New HuCC projects should, preferably, include the specific headers that are
17990                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 27; ; needed, which will then allow them to replace parts of the standard library
17991                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 28; ; with newer functions, or they can just manually include this "huc.h" file.
17992                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 29; ;
17993                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 30; ; ***************************************************************************
17994                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 31; ; **************************************************************************/
17995                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 33; #include "hucc-systemcard.h"
17996                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 34; #include "hucc-baselib.h"
17997                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 35; #include "hucc-gfx.h"
17998                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 36; #include "hucc-old-scroll.h"
17999                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 37; #include "hucc-old-spr.h"
18000                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 38; #include "hucc-old-map.h"
18001                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 39; #include "hucc-old-line.h"
18002                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 41; #include <stdlib.h>
18003                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 42; #include <string.h>
18004                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 44; #endif // _hucc_legacy_h
18005                        		.dbg	line,	"include\init.c", 2; #include "hucc-scroll.h"
18006                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 1; #ifndef _hucc_scroll_h
18007                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 2; #define _hucc_scroll_h
18008                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 4; /****************************************************************************
18009                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 5; ; ***************************************************************************
18010                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 6; ;
18011                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 7; ; hucc-scroll.h
18012                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 8; ;
18013                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 9; ; Routines for a fast split-screen scrolling system.
18014                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 10; ;
18015                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 11; ; Copyright John Brandwood 2024.
18016                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 12; ;
18017                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 13; ; Distributed under the Boost Software License, Version 1.0.
18018                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
18019                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
18020                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 16; ;
18021                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 17; ; ***************************************************************************
18022                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 18; ; ***************************************************************************
18023                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 19; ;
18024                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 20; ; The maximum number of splits for each screen layer is set in your project's
18025                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 21; ; "hucc-config.inc" file, with the library having a limit of 128-per-layer.
18026                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 22; ;
18027                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 23; ; Your first active split must be defined to start at screen line 0, and then
18028                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 24; ; the rest of the active splits must be in increasing line order to match the
18029                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 25; ; way that the PC Engine displays the output image.
18030                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 26; ;
18031                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 27; ; You can have disabled splits interleaved with your active splits.
18032                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 28; ;
18033                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 29; ; Splits that are normally disabled can be used to create full screen effects
18034                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 30; ; such as bouncing the screen up and down by adding blank areas at the top or
18035                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 31; ; bottom of the screen, and then rapidly changing the height of those areas.
18036                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 32; ;
18037                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 33; ; ***************************************************************************
18038                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 34; ; **************************************************************************/
18039                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 36; // *************
18040                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 37; // VDC bits for display_flags ...
18041                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 38; // *************
18042                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 40; #ifndef BKG_OFF
18043                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 41; #define BKG_OFF 0x00
18044                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 42; #endif
18045                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 44; #ifndef SPR_OFF
18046                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 45; #define SPR_OFF 0x00
18047                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 46; #endif
18048                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 48; #ifndef BKG_ON
18049                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 49; #define BKG_ON 0x80
18050                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 50; #endif
18051                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 52; #ifndef SPR_ON
18052                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 53; #define SPR_ON 0x40
18053                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 54; #endif
18054                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 56; // *************
18055                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 57; // Functions in hucc-scroll.asm ...
18056                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 58; // *************
18057                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 60; #ifdef __HUCC__
18058                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 62; #asmdef	HUCC_USES_NEW_SCROLL 1
18059                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 64; extern void __fastcall scroll_split( unsigned char index<_al>, unsigned char screen_line<_ah>, unsigned int bat_x<_bx>, unsigned int bat_y<_cx>, unsigned char display_flags<_dl> );
18060                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 65; extern void __fastcall sgx_scroll_split( unsigned char index<_al>, unsigned char screen_line<_ah>, unsigned int bat_x<_bx>, unsigned int bat_y<_cx>, unsigned char display_flags<_dl> );
18061                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 67; extern void __fastcall disable_split( unsigned char index<acc> );
18062                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 68; extern void __fastcall sgx_disable_split( unsigned char index<acc> );
18063                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 70; extern void __fastcall __macro disable_all_splits( void );
18064                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 71; extern void __fastcall __macro sgx_disable_all_splits( void );
18065                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 73; #asm
18066                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 74; .macro	_disable_all_splits
18067                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 75; ldy	#HUCC_PCE_SPLITS - 1
18068                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 76; !loop:		tya
18069                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 77; call	_disable_split.1
18070                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 78; dey
18071                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 79; bpl	!loop-
18072                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 80; .endm
18073                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 82; .macro	_sgx_disable_all_splits
18074                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 83; ldy	#HUCC_SGX_SPLITS - 1
18075                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 84; !loop:		tya
18076                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 85; call	_sgx_disable_split.1
18077                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 86; dey
18078                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 87; bpl	!loop-
18079                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 88; .endm
18080                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 89; #endasm
18081                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 91; #endif // __HUCC__
18082                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 93; #endif // _hucc_scroll_h
18083                        		.dbg	line,	"include\init.c", 3; #include "hucc-chrmap.h"
18084                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 1; #ifndef _hucc_chrmap_h
18085                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 2; #define _hucc_chrmap_h
18086                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 4; /****************************************************************************
18087                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 5; ; ***************************************************************************
18088                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 6; ;
18089                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 7; ; hucc-chrmap.h
18090                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 8; ;
18091                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 9; ; A simple map system based on 8x8 characters (aka "tiles") in BAT format.
18092                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 10; ;
18093                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 11; ; Copyright John Brandwood 2025.
18094                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 12; ;
18095                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 13; ; Distributed under the Boost Software License, Version 1.0.
18096                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
18097                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
18098                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 16; ;
18099                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 17; ; ***************************************************************************
18100                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 18; ; ***************************************************************************
18101                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 19; ;
18102                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 20; ; The maximum X and Y size for chrmaps is 256 characters (2048 pixels).
18103                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 21; ;
18104                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 22; ; The maximum total size for a chrmap is 16KBytes, which allows for maps up
18105                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 23; ; to 256x32 tiles (2048x256 pixels).
18106                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 24; ;
18107                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 25; ; ***************************************************************************
18108                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 26; ; **************************************************************************/
18109                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 28; // *************
18110                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 29; // This code extends the blkmap library ...
18111                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 30; // *************
18112                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 32; #include "hucc-blkmap.h"
18113                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 34; // *************
18114                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 35; // Functions in chrmap.asm ...
18115                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 36; // *************
18116                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 38; #ifdef __HUCC__
18117                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 40; #asmdef	HUCC_USES_CHRMAP 1
18118                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 42; extern void __fastcall __nop set_chrmap( unsigned char __far *chrmap<vdc_map_bank:vdc_map_addr>, unsigned char tiles_w<vdc_map_line_w> );
18119                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 44; extern void __fastcall draw_bat( void );
18120                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 45; extern void __fastcall scroll_bat( void );
18121                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 47; extern void __fastcall blit_bat( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
18122                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 49; #ifdef _SGX
18123                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 51; extern void __fastcall __nop sgx_set_chrmap( unsigned char __far *chrmap<sgx_map_bank:sgx_map_addr>, unsigned char tiles_w<sgx_map_line_w> );
18124                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 53; extern void __fastcall sgx_draw_bat( void );
18125                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 54; extern void __fastcall sgx_scroll_bat( void );
18126                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 56; extern void __fastcall sgx_blit_bat( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
18127                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 58; #endif
18128                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 60; #endif // __HUCC__
18129                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 62; #endif // _hucc_chrmap_h
18130                        		.dbg	line,	"include\init.c", 4; #include "hucc-blkmap.h"
18131                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 1; #ifndef _hucc_blkmap_h
18132                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 2; #define _hucc_blkmap_h
18133                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 4; /****************************************************************************
18134                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 5; ; ***************************************************************************
18135                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 6; ;
18136                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 7; ; hucc-blkmap.h
18137                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 8; ;
18138                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 9; ; A map system based on 16x16 meta-tiles (aka "blocks", aka CHR/BLK/MAP).
18139                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 10; ;
18140                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 11; ; Copyright John Brandwood 2025.
18141                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 12; ;
18142                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 13; ; Distributed under the Boost Software License, Version 1.0.
18143                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
18144                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
18145                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 16; ;
18146                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 17; ; ***************************************************************************
18147                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 18; ; ***************************************************************************
18148                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 19; ;
18149                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 20; ; The maximum X and Y size for blkmaps is 128 blocks (2048 pixels).
18150                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 21; ;
18151                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 22; ; The maximum total size for a blkmap is 16KBytes, which allows for maps up
18152                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 23; ; to 128x128 blocks (2048x2048 pixels).
18153                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 24; ;
18154                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 25; ; Huge multi-screen blkmaps are also supported (optionally).
18155                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 26; ;
18156                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 27; ; The maximum X and Y for multi-screen maps is 128 screens (32768 pixels).
18157                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 28; ;
18158                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 29; ; The maximum total size for a multi-screen map is 8KBytes, which allows for
18159                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 30; ; a total of 1024 screens.
18160                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 31; ;
18161                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 32; ; ***************************************************************************
18162                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 33; ; **************************************************************************/
18163                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 35; // *************
18164                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 36; // Functions in blkmap.asm ...
18165                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 37; // *************
18166                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 39; #ifdef __HUCC__
18167                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 41; #asmdef	HUCC_USES_BLKMAP 1
18168                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 43; // Current top-left of drawn map in pixels.
18169                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 44; extern unsigned int   vdc_map_pxl_x;
18170                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 45; extern unsigned int   vdc_map_pxl_y;
18171                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 47; // Width and height to draw/scroll in characters (not tiles).
18172                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 48; extern unsigned char  vdc_map_draw_w;
18173                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 49; extern unsigned char  vdc_map_draw_h;
18174                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 51; // Width of map (or multi-screen BAT) in tiles.
18175                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 52; extern unsigned char  vdc_map_line_w;
18176                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 54; // Width of map in screens (if multi-screen map).
18177                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 55; extern unsigned char  vdc_map_scrn_w;
18178                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 57; // Extra information returned by get_map_block() and sgx_get_map_block(),
18179                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 58; // which are the collision flags and the mask/overlay sprite for the BLK.
18180                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 59; extern unsigned char  map_blk_flag;
18181                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 60; extern unsigned char  map_blk_mask;
18182                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 62; extern unsigned char  vdc_scr_bank;
18183                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 63; extern unsigned char *vdc_scr_addr;
18184                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 65; extern unsigned char  vdc_map_bank;
18185                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 66; extern unsigned char *vdc_map_addr;
18186                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 68; extern unsigned char  vdc_blk_bank;
18187                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 69; extern unsigned char *vdc_blk_addr;
18188                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 71; extern unsigned char  vdc_tbl_bank;
18189                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 72; extern unsigned char *vdc_tbl_addr;
18190                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 74; extern void __fastcall set_blocks( unsigned char __far *blk_def<vdc_blk_bank:vdc_blk_addr>, unsigned char __far *flg_def<vdc_tbl_bank:vdc_tbl_addr>, unsigned char number_of_blocks<_al> );
18191                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 75; extern void __fastcall __macro set_blkmap( unsigned char __far *blk_map<vdc_map_bank:vdc_map_addr>, unsigned char blocks_w<vdc_map_line_w> );
18192                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 76; extern void __fastcall __macro set_multimap( unsigned char __far *multi_map<vdc_scr_bank:vdc_scr_addr>, unsigned char screens_w<vdc_map_scrn_w> );
18193                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 78; extern void __fastcall draw_map( void );
18194                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 79; extern void __fastcall scroll_map( void );
18195                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 81; extern void __fastcall blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
18196                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 83; extern unsigned char __fastcall get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
18197                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 85; #asm
18198                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 86; .macro	_set_blkmap.2
18199                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 87; stz	vdc_scr_bank
18200                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 88; .endm
18201                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 90; .macro	_set_multimap.2
18202                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 91; lda	vdc_bat_width
18203                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 92; lsr	a
18204                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 93; sta	vdc_map_line_w
18205                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 94; .endm
18206                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 96; .macro	SCREEN
18207                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 97; db	(((\1) & $1FFF) | $6000) >> 8, bank(\1)
18208                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 98; db	(((\2) & $1FFF) | $4000) >> 8, bank(\2)
18209                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 99; db	(((\3) & $1FFF) | $6000) >> 8, bank(\3)
18210                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 100; dw	(\4)
18211                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 101; .endm
18212                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 102; #endasm
18213                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 104; #ifdef _SGX
18214                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 106; // Current top-left of drawn map in pixels.
18215                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 107; extern unsigned int   sgx_map_pxl_x;
18216                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 108; extern unsigned int   sgx_map_pxl_y;
18217                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 110; // Width and height to draw/scroll in characters (not tiles).
18218                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 111; extern unsigned char  sgx_map_draw_w;
18219                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 112; extern unsigned char  sgx_map_draw_h;
18220                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 114; // Width of map (or multi-screen BAT) in tiles.
18221                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 115; extern unsigned char  sgx_map_line_w;
18222                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 117; // Width of map in screens (if multi-screen map).
18223                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 118; extern unsigned char  sgx_map_scrn_w;
18224                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 120; extern unsigned char  sgx_scr_bank;
18225                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 121; extern unsigned char *sgx_scr_addr;
18226                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 123; extern unsigned char  sgx_map_bank;
18227                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 124; extern unsigned char *sgx_map_addr;
18228                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 126; extern unsigned char  sgx_blk_bank;
18229                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 127; extern unsigned char *sgx_blk_addr;
18230                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 129; extern unsigned char  sgx_tbl_bank;
18231                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 130; extern unsigned char *sgx_tbl_addr;
18232                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 132; extern void __fastcall sgx_set_blocks( unsigned char __far *blk_def<sgx_blk_bank:sgx_blk_addr>, unsigned char __far *flg_def<sgx_tbl_bank:sgx_tbl_addr>, unsigned char number_of_blocks<_al> );
18233                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 133; extern void __fastcall __macro sgx_set_blkmap( unsigned char __far *blk_map<sgx_map_bank:sgx_map_addr>, unsigned char blocks_w<sgx_map_line_w> );
18234                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 134; extern void __fastcall __macro sgx_set_multimap( unsigned char __far *multi_map<sgx_scr_bank:sgx_scr_addr>, unsigned char screens_w<sgx_map_scrn_w> );
18235                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 136; extern void __fastcall sgx_draw_map( void );
18236                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 137; extern void __fastcall sgx_scroll_map( void );
18237                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 139; extern void __fastcall sgx_blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
18238                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 141; extern unsigned char __fastcall sgx_get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
18239                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 143; #asm
18240                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 144; .macro	_sgx_set_blkmap.2
18241                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 145; stz	sgx_scr_bank
18242                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 146; .endm
18243                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 148; .macro	_sgx_set_multimap.2
18244                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 149; lda	sgx_bat_width
18245                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 150; lsr	a
18246                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 151; sta	sgx_map_line_w
18247                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 152; .endm
18248                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 153; #endasm
18249                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 155; #endif
18250                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 157; #endif // __HUCC__
18251                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 159; #endif // _hucc_blkmap_h
18252                        		.dbg	line,	"include\init.c", 13; void init_SYSTEM()
18253                        		.dbg	line,	"include\init.c", 14; {
18254                        	;***********************
18255                        	;***********************
18256                        	
18257                        		.hucc
18258    0D:DFE0             		.proc		_init_SYSTEM
18259                        		__enter		_init_SYSTEM
18260                        	
18261                        		.dbg	line,	"include\init.c", 15; // DISABLE DISPLAY //
18262                        	
18263                        		.dbg	line,	"include\init.c", 16; disp_off();
18264                        		__call		_disp_off
         0D:DFE0  20 3D E4   			call	_disp_off
18265                        	
18266                        		.dbg	line,	"include\init.c", 18; // VSYNC //
18267                        	
18268                        		.dbg	line,	"include\init.c", 19; vsync();
18269                        		__call		_vsync
         0D:DFE3  20 1D E3   			call	_vsync
18270                        	
18271                        		.dbg	line,	"include\init.c", 21; // LOAD DEFAULT FONT //
18272                        	
18273                        		.dbg	line,	"include\init.c", 22; load_default_font();
18274                        		 _load_default_font
         0D:DFE6  82         			clx				; Offset to PCE VDC.
         0D:DFE7  20 C7 FF   			call	huc_monofont_x
18275                        	
18276                        		.dbg	line,	"include\init.c", 25; // SET VDC 1 SCREEN SIZE (IN TILES) - 32x32 = 256 PIXELS
18277                        	
18278                        		.dbg	line,	"include\init.c", 26; set_screen_size(SCR_SIZE_32x32);
18279                        		__st.umiq	0, _al
         0D:DFEA  64 F8      			stz	_al
18280                        		__call		_set_screen_size.1
         0D:DFEC  20 F5 FE   			call	_set_screen_size.1
18281                        	
18282                        		.dbg	line,	"include\init.c", 29; // SET VDC 2 SCREEN SIZE (IN TILES) - 32x32 = 256 PIXELS
18283                        	
18284                        		.dbg	line,	"include\init.c", 30; sgx_set_screen_size(SCR_SIZE_32x32);
18285                        		__st.umiq	0, _al
         0D:DFEF  64 F8      			stz	_al
18286                        		__call		_sgx_set_screen_size.1
         0D:DFF1  20 EB FE   			call	_sgx_set_screen_size.1
18287                        	
18288                        		.dbg	line,	"include\init.c", 33; // INIT SPRITE ATTRIBUTE TABLE //
18289                        	
18290                        		.dbg	line,	"include\init.c", 34; init_satb();
18291                        		__call		_init_satb
         0D:DFF4  20 CB E7   			call	_init_satb
18292                        	
18293                        		.dbg	line,	"include\init.c", 35; sgx_init_satb();
18294                        		__call		_sgx_init_satb
         0D:DFF7  20 DE E7   			call	_sgx_init_satb
18295                        	
18296                        		.dbg	line,	"include\init.c", 38; // ENABLE DISPLAY //
18297                        	
18298                        		.dbg	line,	"include\init.c", 39; //disp_on();
18299                        	
18300                        		.dbg	line,	"include\init.c", 40; }
18301    0D:DFFA             	.LL911:
18302                        		__return	0
         0D:DFFA  4C EF FF   			jmp	leave_proc
18303                        		.dbg	clear
18304                        		.endp
18305                        		.pceas
18306                        	
18307                        		.dbg	line,	"include\init.c", 43; void init_VARIABLES()
18308                        		.dbg	line,	"include\init.c", 44; {
18309                        	;***********************
18310                        	;***********************
18311                        	
18312                        		.hucc
18313    1F:D305             		.proc		_init_VARIABLES
18314                        		__enter		_init_VARIABLES
18315                        	
18316                        		.dbg	line,	"include\init.c", 45; sequence_id = SEQUENCE_TITLE; // SEQUENCE_TITLE | SEQUENCE_INTRO | SEQUENCE_LEVEL | SEQUENCE_SHOP
18317                        		__st.umiq	0, _sequence_id
         1F:D305  9C 13 23   			stz	_sequence_id
18318                        	
18319                        		.dbg	line,	"include\init.c", 47; letter_index = 0;
18320                        		__st.wmiq	0, _letter_index
         1F:D308  9C 52 26   			stz.l	_letter_index
         1F:D30B  9C 53 26   			stz.h	_letter_index
18321                        	
18322                        		.dbg	line,	"include\init.c", 49; level_id = 1;
18323                        		__st.umiq	1, _level_id
         1F:D30E  A9 01      			lda.l	#1
         1F:D310  8D 15 23   			sta	_level_id
18324                        	
18325                        		.dbg	line,	"include\init.c", 50; display_level_text = TRUE;
18326                        		__st.umiq	1, _display_level_text
         1F:D313  A9 01      			lda.l	#1
         1F:D315  8D 16 23   			sta	_display_level_text
18327                        	
18328                        		.dbg	line,	"include\init.c", 52; life_amount = 3;
18329                        		__st.umiq	3, _life_amount
         1F:D318  A9 03      			lda.l	#3
         1F:D31A  8D 2E 23   			sta	_life_amount
18330                        	
18331                        		.dbg	line,	"include\init.c", 53; credits_amount = 2;
18332                        		__st.umiq	2, _credits_amount
         1F:D31D  A9 02      			lda.l	#2
         1F:D31F  8D 2F 23   			sta	_credits_amount
18333                        	
18334                        		.dbg	line,	"include\init.c", 54; key_amount = 0;
18335                        		__st.umiq	0, _key_amount
         1F:D322  9C 30 23   			stz	_key_amount
18336                        	
18337                        		.dbg	line,	"include\init.c", 55; potion_amount = 0;
18338                        		__st.umiq	0, _potion_amount
         1F:D325  9C 31 23   			stz	_potion_amount
18339                        	
18340                        		.dbg	line,	"include\init.c", 56; zenny_amount = 0;
18341                        		__st.wmiq	0, _zenny_amount
         1F:D328  9C 56 26   			stz.l	_zenny_amount
         1F:D32B  9C 57 26   			stz.h	_zenny_amount
18342                        	
18343                        		.dbg	line,	"include\init.c", 58; weapon_level = 0;
18344                        		__st.umiq	0, _weapon_level
         1F:D32E  9C 29 23   			stz	_weapon_level
18345                        	
18346                        		.dbg	line,	"include\init.c", 59; armor_level = 2;
18347                        		__st.umiq	2, _armor_level
         1F:D331  A9 02      			lda.l	#2
         1F:D333  8D 28 23   			sta	_armor_level
18348                        	
18349                        		.dbg	line,	"include\init.c", 60; 
18350                        	
18351                        		.dbg	line,	"include\init.c", 61; player_naked = FALSE;
18352                        		__st.umiq	0, _player_naked
         1F:D336  9C 20 23   			stz	_player_naked
18353                        	
18354                        		.dbg	line,	"include\init.c", 63; index_x = 0;
18355                        		__st.umiq	0, _index_x
         1F:D339  9C F0 23   			stz	_index_x
18356                        	
18357                        		.dbg	line,	"include\init.c", 64; index_y = 0;
18358                        		__st.umiq	0, _index_y
         1F:D33C  9C F1 23   			stz	_index_y
18359                        	
18360                        		.dbg	line,	"include\init.c", 65; item_index = 0;
18361                        		__st.umiq	0, _item_index
         1F:D33F  9C F2 23   			stz	_item_index
18362                        	
18363                        		.dbg	line,	"include\init.c", 66; shop_counter = 0;
18364                        		__st.umiq	0, _shop_counter
         1F:D342  9C F4 23   			stz	_shop_counter
18365                        	
18366                        		.dbg	line,	"include\init.c", 67; shop_phase = SHOP_PHASE_ENTER;
18367                        		__st.umiq	0, _shop_phase
         1F:D345  9C F3 23   			stz	_shop_phase
18368                        	
18369                        		.dbg	line,	"include\init.c", 69; respawn = FALSE;
18370                        		__st.umiq	0, _respawn
         1F:D348  9C 17 23   			stz	_respawn
18371                        	
18372                        		.dbg	line,	"include\init.c", 71; sequence_loaded = FALSE;
18373                        		__st.umiq	0, _sequence_loaded
         1F:D34B  9C 14 23   			stz	_sequence_loaded
18374                        	
18375                        		.dbg	line,	"include\init.c", 72; }
18376    1F:D34E             	.LL912:
18377                        		__return	0
         1F:D34E  4C EF FF   			jmp	leave_proc
18378                        		.dbg	clear
18379                        		.endp
18380                        		.pceas
18381                        	
18382                        		.dbg	line,	"include\init.c", 75; void init_PLAYER()
18383                        		.dbg	line,	"include\init.c", 76; {
18384                        	;***********************
18385                        	;***********************
18386                        	
18387                        		.hucc
18388    1F:D468             		.proc		_init_PLAYER
18389                        		__enter		_init_PLAYER
18390                        	
18391                        		.dbg	line,	"include\init.c", 77; if(player_naked != RESPAWN_SHOP)
18392                        		__ld.umq	_player_naked
         1F:D468  AD 20 23   			lda	_player_naked
18393                        		__neq_b.uiq	2
         1F:D46B  38         			sec
         1F:D46C  49 02      			eor	#2
         1F:D46E  D0 01      			bne	!+
         1F:D470  18         			clc
         1F:D471             	!:
18394                        		__bfalse	.LL914
         1F:D471  90 03      			bcc	.LL914
18395                        	
18396                        		.dbg	line,	"include\init.c", 78; {
18397                        	
18398                        		.dbg	line,	"include\init.c", 79; player_naked = FALSE;
18399                        		__st.umiq	0, _player_naked
         1F:D473  9C 20 23   			stz	_player_naked
18400                        	
18401                        		.dbg	line,	"include\init.c", 80; }
18402                        	
18403                        		.dbg	line,	"include\init.c", 81; 
18404                        	
18405                        		.dbg	line,	"include\init.c", 82; player_id = PLAYER_START_INDEX;
18406    1F:D476             	.LL914:
18407                        		__st.umiq	14, _player_id
         1F:D476  A9 0E      			lda.l	#14
         1F:D478  8D 18 23   			sta	_player_id
18408                        	
18409                        		.dbg	line,	"include\init.c", 83; player_axis = AXIS_RIGHT;
18410                        		__st.umiq	0, _player_axis
         1F:D47B  9C 1A 23   			stz	_player_axis
18411                        	
18412                        		.dbg	line,	"include\init.c", 84; player_previous_axis = player_axis;
18413                        		__ld.um		_player_axis
         1F:D47E  AD 1A 23   			lda	_player_axis
         1F:D481  C2         			cly
18414                        		__st.umq	_player_previous_axis
         1F:D482  8D 1B 23   			sta	_player_previous_axis
18415                        	
18416                        		.dbg	line,	"include\init.c", 85; player_counter_anim = 0;
18417                        		__st.umiq	0, _player_counter_anim
         1F:D485  9C 1C 23   			stz	_player_counter_anim
18418                        	
18419                        		.dbg	line,	"include\init.c", 86; player_index_jump = 0;
18420                        		__st.umiq	0, _player_index_jump
         1F:D488  9C 1D 23   			stz	_player_index_jump
18421                        	
18422                        		.dbg	line,	"include\init.c", 87; player_index_fall = 0;
18423                        		__st.umiq	0, _player_index_fall
         1F:D48B  9C 1E 23   			stz	_player_index_fall
18424                        	
18425                        		.dbg	line,	"include\init.c", 88; fall_ladder = FALSE;
18426                        		__st.umiq	0, _fall_ladder
         1F:D48E  9C 24 23   			stz	_fall_ladder
18427                        	
18428                        		.dbg	line,	"include\init.c", 89; player_counter_attack = 0;
18429                        		__st.umiq	0, _player_counter_attack
         1F:D491  9C 1F 23   			stz	_player_counter_attack
18430                        	
18431                        		.dbg	line,	"include\init.c", 90; player_attack = FALSE;
18432                        		__st.umiq	0, _player_attack
         1F:D494  9C 21 23   			stz	_player_attack
18433                        	
18434                        		.dbg	line,	"include\init.c", 91; player_state = STATE_IDLE;
18435                        		__st.umiq	0, _player_state
         1F:D497  9C 19 23   			stz	_player_state
18436                        	
18437                        		.dbg	line,	"include\init.c", 93; chain_id = player_id - 3;
18438                        		__ld.um		_player_id
         1F:D49A  AD 18 23   			lda	_player_id
         1F:D49D  C2         			cly
18439                        		__sub.wi	3
         1F:D49E  38         			sec
         1F:D49F  E9 03      			sbc.l	#3
         1F:D4A1  B0 01      			bcs	!+
         1F:D4A3  88         			dey
         1F:D4A4             	!:
18440                        		__st.umq	_chain_id
         1F:D4A4  8D 26 23   			sta	_chain_id
18441                        	
18442                        		.dbg	line,	"include\init.c", 94; }
18443    1F:D4A7             	.LL913:
18444                        		__return	0
         1F:D4A7  4C EF FF   			jmp	leave_proc
18445                        		.dbg	clear
18446                        		.endp
18447                        		.pceas
18448                        	
18449                        		.dbg	line,	"include\init.c", 103; void init_TITLE()
18450                        		.dbg	line,	"include\init.c", 104; {
18451                        	;***********************
18452                        	;***********************
18453                        	
18454                        		.hucc
18455    1F:C000             		.proc		_init_TITLE
18456                        		__enter		_init_TITLE
18457                        	
18458                        		.dbg	line,	"include\init.c", 105; // DISABLE DISPLAY //
18459                        	
18460                        		.dbg	line,	"include\init.c", 106; disp_off();
18461                        		__call		_disp_off
         1F:C000  20 3D E4   			call	_disp_off
18462                        	
18463                        		.dbg	line,	"include\init.c", 107; 
18464                        	
18465                        		.dbg	line,	"include\init.c", 109; // VSYNC //
18466                        	
18467                        		.dbg	line,	"include\init.c", 110; vsync();
18468                        		__call		_vsync
         1F:C003  20 1D E3   			call	_vsync
18469                        	
18470                        		.dbg	line,	"include\init.c", 113; // SET VDC 1 SCREEN SIZE (IN TILES) - 64x64 = 256 PIXELS
18471                        	
18472                        		.dbg	line,	"include\init.c", 114; set_screen_size(SCR_SIZE_32x32);
18473                        		__st.umiq	0, _al
         1F:C006  64 F8      			stz	_al
18474                        		__call		_set_screen_size.1
         1F:C008  20 F5 FE   			call	_set_screen_size.1
18475                        	
18476                        		.dbg	line,	"include\init.c", 116; // SET VDC 2 SCREEN SIZE (IN TILES) - 32x32 = 512 PIXELS
18477                        	
18478                        		.dbg	line,	"include\init.c", 117; //sgx_set_screen_size(SCR_SIZE_32x32);
18479                        	
18480                        		.dbg	line,	"include\init.c", 122; //**************************************************************************************//
18481                        	
18482                        		.dbg	line,	"include\init.c", 123; //                                                                                      //
18483                        	
18484                        		.dbg	line,	"include\init.c", 124; //                                        VDC 1                                         //
18485                        	
18486                        		.dbg	line,	"include\init.c", 125; //                                                                                      //
18487                        	
18488                        		.dbg	line,	"include\init.c", 126; //**************************************************************************************//
18489                        	
18490                        		.dbg	line,	"include\init.c", 128; //--------------------------------------------------------------------------------------//
18491                        	
18492                        		.dbg	line,	"include\init.c", 129; //                                      LOAD FONT                                       //
18493                        	
18494                        		.dbg	line,	"include\init.c", 130; //--------------------------------------------------------------------------------------//
18495                        	
18496                        		.dbg	line,	"include\init.c", 132; load_vram( 0x0800, tileset_FONT_TITLE, SIZEOF(tileset_FONT_TITLE) >> 1 );
18497                        		__st.wmiq	2048, _di
         1F:C00B  64 F0      			stz.l	_di
         1F:C00D  A9 08      			lda.h	#2048
         1F:C00F  85 F1      			sta.h	_di
18498                        		__farptr	_tileset_FONT_TITLE, _bp_bank, _bp
         1F:C011  A9 E0      			lda.l	#$6000 + ($1FFF & (_tileset_FONT_TITLE))
         1F:C013  85 EC      			sta.l	_bp
         1F:C015  A9 69      			lda.h	#$6000 + ($1FFF & (_tileset_FONT_TITLE))
         1F:C017  85 ED      			sta.h	_bp
         1F:C019  A9 12      			lda	#bank(_tileset_FONT_TITLE)
         1F:C01B  85 02      			sta	_bp_bank
18499                        		__ld.wi		___sizeof__tileset_FONT_TITLE
         1F:C01D  A9 00      			lda.l	#___sizeof__tileset_FONT_TITLE
         1F:C01F  A0 0C      			ldy.h	#___sizeof__tileset_FONT_TITLE
18500                        		__lsr.wi	1
         1F:C021  42         			say
         1F:C022  4A         			lsr	a
         1F:C023  42         			say
         1F:C024  6A         			ror	a
18501                        		__st.wmq	_ax
         1F:C025  85 F8      			sta.l	_ax
         1F:C027  84 F9      			sty.h	_ax
18502                        		 _load_vram.3
         1F:C029  82         			clx				; Offset to PCE VDC.
         1F:C02A  20 09 FF   			call	load_vram_x
18503                        	
18504                        		.dbg	line,	"include\init.c", 134; set_font_pal(15);
18505                        		__ld.uiq	15
         1F:C02D  A9 0F      			lda	#15
18506                        		__call		_set_font_pal.1
         1F:C02F  20 00 E6   			call	_set_font_pal.1
18507                        	
18508                        		.dbg	line,	"include\init.c", 138; //--------------------------------------------------------------------------------------//
18509                        	
18510                        		.dbg	line,	"include\init.c", 139; //                                    LOAD TILEMAP                                      //
18511                        	
18512                        		.dbg	line,	"include\init.c", 140; //--------------------------------------------------------------------------------------//
18513                        	
18514                        		.dbg	line,	"include\init.c", 142; load_vram( 0x0000, tilemap_TITLE_BG_B, SIZEOF(tilemap_TITLE_BG_B) >> 1 );
18515                        		__st.wmiq	0, _di
         1F:C032  64 F0      			stz.l	_di
         1F:C034  64 F1      			stz.h	_di
18516                        		__farptr	_tilemap_TITLE_BG_B, _bp_bank, _bp
         1F:C036  A9 40      			lda.l	#$6000 + ($1FFF & (_tilemap_TITLE_BG_B))
         1F:C038  85 EC      			sta.l	_bp
         1F:C03A  A9 72      			lda.h	#$6000 + ($1FFF & (_tilemap_TITLE_BG_B))
         1F:C03C  85 ED      			sta.h	_bp
         1F:C03E  A9 13      			lda	#bank(_tilemap_TITLE_BG_B)
         1F:C040  85 02      			sta	_bp_bank
18517                        		__ld.wi		___sizeof__tilemap_TITLE_BG_B
         1F:C042  A9 00      			lda.l	#___sizeof__tilemap_TITLE_BG_B
         1F:C044  A0 07      			ldy.h	#___sizeof__tilemap_TITLE_BG_B
18518                        		__lsr.wi	1
         1F:C046  42         			say
         1F:C047  4A         			lsr	a
         1F:C048  42         			say
         1F:C049  6A         			ror	a
18519                        		__st.wmq	_ax
         1F:C04A  85 F8      			sta.l	_ax
         1F:C04C  84 F9      			sty.h	_ax
18520                        		 _load_vram.3
         1F:C04E  82         			clx				; Offset to PCE VDC.
         1F:C04F  20 09 FF   			call	load_vram_x
18521                        	
18522                        		.dbg	line,	"include\init.c", 144; //--------------------------------------------------------------------------------------//
18523                        	
18524                        		.dbg	line,	"include\init.c", 145; //                                    LOAD TILESET                                      //
18525                        	
18526                        		.dbg	line,	"include\init.c", 146; //--------------------------------------------------------------------------------------//
18527                        	
18528                        		.dbg	line,	"include\init.c", 148; load_vram( 0x1000, tileset_TITLE_BG_B, SIZEOF(tileset_TITLE_BG_B) >> 1 );
18529                        		__st.wmiq	4096, _di
         1F:C052  64 F0      			stz.l	_di
         1F:C054  A9 10      			lda.h	#4096
         1F:C056  85 F1      			sta.h	_di
18530                        		__farptr	_tileset_TITLE_BG_B, _bp_bank, _bp
         1F:C058  A9 E0      			lda.l	#$6000 + ($1FFF & (_tileset_TITLE_BG_B))
         1F:C05A  85 EC      			sta.l	_bp
         1F:C05C  A9 75      			lda.h	#$6000 + ($1FFF & (_tileset_TITLE_BG_B))
         1F:C05E  85 ED      			sta.h	_bp
         1F:C060  A9 12      			lda	#bank(_tileset_TITLE_BG_B)
         1F:C062  85 02      			sta	_bp_bank
18531                        		__ld.wi		___sizeof__tileset_TITLE_BG_B
         1F:C064  A9 60      			lda.l	#___sizeof__tileset_TITLE_BG_B
         1F:C066  A0 1C      			ldy.h	#___sizeof__tileset_TITLE_BG_B
18532                        		__lsr.wi	1
         1F:C068  42         			say
         1F:C069  4A         			lsr	a
         1F:C06A  42         			say
         1F:C06B  6A         			ror	a
18533                        		__st.wmq	_ax
         1F:C06C  85 F8      			sta.l	_ax
         1F:C06E  84 F9      			sty.h	_ax
18534                        		 _load_vram.3
         1F:C070  82         			clx				; Offset to PCE VDC.
         1F:C071  20 09 FF   			call	load_vram_x
18535                        	
18536                        		.dbg	line,	"include\init.c", 153; //put_string("PRESS RUN"   , 11 , 18);
18537                        	
18538                        		.dbg	line,	"include\init.c", 154; put_string("START GAME"  	, 11 , 18);
18539                        		__ld.wi		__const1+0
         1F:C074  A9 00      			lda.l	#__const1+0
         1F:C076  A0 60      			ldy.h	#__const1+0
18540                        		__st.wmq	_bp
         1F:C078  85 EC      			sta.l	_bp
         1F:C07A  84 ED      			sty.h	_bp
18541                        		__st.umiq	11, _dil
         1F:C07C  A9 0B      			lda.l	#11
         1F:C07E  85 F0      			sta	_dil
18542                        		__st.umiq	18, _dih
         1F:C080  A9 12      			lda.l	#18
         1F:C082  85 F1      			sta	_dih
18543                        		__call		_put_string.3
         1F:C084  20 5F E6   			call	_put_string.3
18544                        	
18545                        		.dbg	line,	"include\init.c", 156; put_string("LIFE"        	, 11 , 20);
18546                        		__ld.wi		__const1+11
         1F:C087  A9 0B      			lda.l	#__const1+11
         1F:C089  A0 60      			ldy.h	#__const1+11
18547                        		__st.wmq	_bp
         1F:C08B  85 EC      			sta.l	_bp
         1F:C08D  84 ED      			sty.h	_bp
18548                        		__st.umiq	11, _dil
         1F:C08F  A9 0B      			lda.l	#11
         1F:C091  85 F0      			sta	_dil
18549                        		__st.umiq	20, _dih
         1F:C093  A9 14      			lda.l	#20
         1F:C095  85 F1      			sta	_dih
18550                        		__call		_put_string.3
         1F:C097  20 5F E6   			call	_put_string.3
18551                        	
18552                        		.dbg	line,	"include\init.c", 157; put_number(life_amount   	,  1 , 20 , 20);
18553                        		__ld.um		_life_amount
         1F:C09A  AD 2E 23   			lda	_life_amount
         1F:C09D  C2         			cly
18554                        		__st.wmq	_bx
         1F:C09E  85 FA      			sta.l	_bx
         1F:C0A0  84 FB      			sty.h	_bx
18555                        		__st.umiq	1, _cl
         1F:C0A2  A9 01      			lda.l	#1
         1F:C0A4  85 FC      			sta	_cl
18556                        		__st.umiq	20, _dil
         1F:C0A6  A9 14      			lda.l	#20
         1F:C0A8  85 F0      			sta	_dil
18557                        		__st.umiq	20, _dih
         1F:C0AA  A9 14      			lda.l	#20
         1F:C0AC  85 F1      			sta	_dih
18558                        		__call		_put_number.4
         1F:C0AE  20 6D FF   			call	_put_number.4
18559                        	
18560                        		.dbg	line,	"include\init.c", 159; put_string("CREDITS"		, 11 , 21);
18561                        		__ld.wi		__const1+16
         1F:C0B1  A9 10      			lda.l	#__const1+16
         1F:C0B3  A0 60      			ldy.h	#__const1+16
18562                        		__st.wmq	_bp
         1F:C0B5  85 EC      			sta.l	_bp
         1F:C0B7  84 ED      			sty.h	_bp
18563                        		__st.umiq	11, _dil
         1F:C0B9  A9 0B      			lda.l	#11
         1F:C0BB  85 F0      			sta	_dil
18564                        		__st.umiq	21, _dih
         1F:C0BD  A9 15      			lda.l	#21
         1F:C0BF  85 F1      			sta	_dih
18565                        		__call		_put_string.3
         1F:C0C1  20 5F E6   			call	_put_string.3
18566                        	
18567                        		.dbg	line,	"include\init.c", 160; put_number(credits_amount   ,  1 , 20 , 21);
18568                        		__ld.um		_credits_amount
         1F:C0C4  AD 2F 23   			lda	_credits_amount
         1F:C0C7  C2         			cly
18569                        		__st.wmq	_bx
         1F:C0C8  85 FA      			sta.l	_bx
         1F:C0CA  84 FB      			sty.h	_bx
18570                        		__st.umiq	1, _cl
         1F:C0CC  A9 01      			lda.l	#1
         1F:C0CE  85 FC      			sta	_cl
18571                        		__st.umiq	20, _dil
         1F:C0D0  A9 14      			lda.l	#20
         1F:C0D2  85 F0      			sta	_dil
18572                        		__st.umiq	21, _dih
         1F:C0D4  A9 15      			lda.l	#21
         1F:C0D6  85 F1      			sta	_dih
18573                        		__call		_put_number.4
         1F:C0D8  20 6D FF   			call	_put_number.4
18574                        	
18575                        		.dbg	line,	"include\init.c", 162; put_string("CAPCOM 1987" 	, 11 , 26);
18576                        		__ld.wi		__const1+24
         1F:C0DB  A9 18      			lda.l	#__const1+24
         1F:C0DD  A0 60      			ldy.h	#__const1+24
18577                        		__st.wmq	_bp
         1F:C0DF  85 EC      			sta.l	_bp
         1F:C0E1  84 ED      			sty.h	_bp
18578                        		__st.umiq	11, _dil
         1F:C0E3  A9 0B      			lda.l	#11
         1F:C0E5  85 F0      			sta	_dil
18579                        		__st.umiq	26, _dih
         1F:C0E7  A9 1A      			lda.l	#26
         1F:C0E9  85 F1      			sta	_dih
18580                        		__call		_put_string.3
         1F:C0EB  20 5F E6   			call	_put_string.3
18581                        	
18582                        		.dbg	line,	"include\init.c", 167; //--------------------------------------------------------------------------------------//
18583                        	
18584                        		.dbg	line,	"include\init.c", 168; //                                   LOAD BG PALETTES                                   //
18585                        	
18586                        		.dbg	line,	"include\init.c", 169; //--------------------------------------------------------------------------------------//
18587                        	
18588                        		.dbg	line,	"include\init.c", 171; load_palette( 0, palette_TITLE, 16 );
18589                        		__st.umiq	0, _al
         1F:C0EE  64 F8      			stz	_al
18590                        		__farptr	_palette_TITLE, _bp_bank, _bp
         1F:C0F0  A9 40      			lda.l	#$6000 + ($1FFF & (_palette_TITLE))
         1F:C0F2  85 EC      			sta.l	_bp
         1F:C0F4  A9 79      			lda.h	#$6000 + ($1FFF & (_palette_TITLE))
         1F:C0F6  85 ED      			sta.h	_bp
         1F:C0F8  A9 13      			lda	#bank(_palette_TITLE)
         1F:C0FA  85 02      			sta	_bp_bank
18591                        		__st.umiq	16, _ah
         1F:C0FC  A9 10      			lda.l	#16
         1F:C0FE  85 F9      			sta	_ah
18592                        		__call		_load_palette.3
         1F:C100  20 8B FF   			call	_load_palette.3
18593                        	
18594                        		.dbg	line,	"include\init.c", 176; //**************************************************************************************//
18595                        	
18596                        		.dbg	line,	"include\init.c", 177; //                                                                                      //
18597                        	
18598                        		.dbg	line,	"include\init.c", 178; //                                       SPRITES                                        //
18599                        	
18600                        		.dbg	line,	"include\init.c", 179; //                                                                                      //
18601                        	
18602                        		.dbg	line,	"include\init.c", 180; //**************************************************************************************//
18603                        	
18604                        		.dbg	line,	"include\init.c", 182; //--------------------------------------------------------------------------------------//
18605                        	
18606                        		.dbg	line,	"include\init.c", 183; //                                        CURSOR                                        //
18607                        	
18608                        		.dbg	line,	"include\init.c", 184; //--------------------------------------------------------------------------------------//
18609                        	
18610                        		.dbg	line,	"include\init.c", 186; // LOAD CURSOR TILES //
18611                        	
18612                        		.dbg	line,	"include\init.c", 187; load_vram(0x2000, tiles_SPR_SELECTOR , SIZEOF(tiles_SPR_SELECTOR) >> 1 );
18613                        		__st.wmiq	8192, _di
         1F:C103  64 F0      			stz.l	_di
         1F:C105  A9 20      			lda.h	#8192
         1F:C107  85 F1      			sta.h	_di
18614                        		__farptr	_tiles_SPR_SELECTOR, _bp_bank, _bp
         1F:C109  A9 40      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_SELECTOR))
         1F:C10B  85 EC      			sta.l	_bp
         1F:C10D  A9 7D      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_SELECTOR))
         1F:C10F  85 ED      			sta.h	_bp
         1F:C111  A9 15      			lda	#bank(_tiles_SPR_SELECTOR)
         1F:C113  85 02      			sta	_bp_bank
18615                        		__ld.wi		___sizeof__tiles_SPR_SELECTOR
         1F:C115  A9 80      			lda.l	#___sizeof__tiles_SPR_SELECTOR
         1F:C117  A0 00      			ldy.h	#___sizeof__tiles_SPR_SELECTOR
18616                        		__lsr.wi	1
         1F:C119  42         			say
         1F:C11A  4A         			lsr	a
         1F:C11B  42         			say
         1F:C11C  6A         			ror	a
18617                        		__st.wmq	_ax
         1F:C11D  85 F8      			sta.l	_ax
         1F:C11F  84 F9      			sty.h	_ax
18618                        		 _load_vram.3
         1F:C121  82         			clx				; Offset to PCE VDC.
         1F:C122  20 09 FF   			call	load_vram_x
18619                        	
18620                        		.dbg	line,	"include\init.c", 190; // SELECT CURSOR SPRITE //
18621                        	
18622                        		.dbg	line,	"include\init.c", 191; spr_set(0);
18623                        		__ld.uiq	0
         1F:C125  62         			cla
18624                        		__call		_spr_set.1
         1F:C126  20 F1 E7   			call	_spr_set.1
18625                        	
18626                        		.dbg	line,	"include\init.c", 194; spr_x(72);
18627                        		__ld.wi		72
         1F:C129  A9 48      			lda.l	#72
         1F:C12B  C2         			cly
18628                        		__call		_spr_x.1
         1F:C12C  20 1E E8   			call	_spr_x.1
18629                        	
18630                        		.dbg	line,	"include\init.c", 195; spr_y(144);
18631                        		__ld.wi		144
         1F:C12F  A9 90      			lda.l	#144
         1F:C131  C2         			cly
18632                        		__call		_spr_y.1
         1F:C132  20 2D E8   			call	_spr_y.1
18633                        	
18634                        		.dbg	line,	"include\init.c", 197; // SET TILES DATA FOR THE CURSOR //
18635                        	
18636                        		.dbg	line,	"include\init.c", 198; spr_pattern(0x2000);
18637                        		__ld.wi		8192
         1F:C135  62         			cla
         1F:C136  A0 20      			ldy.h	#8192
18638                        		__call		_spr_pattern.1
         1F:C138  20 3A E8   			call	_spr_pattern.1
18639                        	
18640                        		.dbg	line,	"include\init.c", 201; spr_ctrl(FLIP_MAS|SIZE_MAS, NO_FLIP|SZ_16x16);
18641                        		__st.umiq	185, _al
         1F:C13B  A9 B9      			lda.l	#185
         1F:C13D  85 F8      			sta	_al
18642                        		__ld.uiq	0
         1F:C13F  62         			cla
18643                        		__call		_spr_ctrl.2
         1F:C140  20 50 E8   			call	_spr_ctrl.2
18644                        	
18645                        		.dbg	line,	"include\init.c", 204; spr_pal(16);
18646                        		__ld.uiq	16
         1F:C143  A9 10      			lda	#16
18647                        		__call		_spr_pal.1
         1F:C145  20 61 E8   			call	_spr_pal.1
18648                        	
18649                        		.dbg	line,	"include\init.c", 205; spr_pri(TRUE);
18650                        		__ld.uiq	1
         1F:C148  A9 01      			lda	#1
18651                        		__call		_spr_pri.1
         1F:C14A  20 70 E8   			call	_spr_pri.1
18652                        	
18653                        		.dbg	line,	"include\init.c", 208; //--------------------------------------------------------------------------------------//
18654                        	
18655                        		.dbg	line,	"include\init.c", 209; //                                LOAD SPRITES PALETTES                                 //
18656                        	
18657                        		.dbg	line,	"include\init.c", 210; //--------------------------------------------------------------------------------------//
18658                        	
18659                        		.dbg	line,	"include\init.c", 212; load_palette( 16, palette_objects_2, 1 );
18660                        		__st.umiq	16, _al
         1F:C14D  A9 10      			lda.l	#16
         1F:C14F  85 F8      			sta	_al
18661                        		__farptr	_palette_objects_2, _bp_bank, _bp
         1F:C151  A9 40      			lda.l	#$6000 + ($1FFF & (_palette_objects_2))
         1F:C153  85 EC      			sta.l	_bp
         1F:C155  A9 74      			lda.h	#$6000 + ($1FFF & (_palette_objects_2))
         1F:C157  85 ED      			sta.h	_bp
         1F:C159  A9 1A      			lda	#bank(_palette_objects_2)
         1F:C15B  85 02      			sta	_bp_bank
18662                        		__st.umiq	1, _ah
         1F:C15D  A9 01      			lda.l	#1
         1F:C15F  85 F9      			sta	_ah
18663                        		__call		_load_palette.3
         1F:C161  20 8B FF   			call	_load_palette.3
18664                        	
18665                        		.dbg	line,	"include\init.c", 217; // UPDATE PCE SAT //
18666                        	
18667                        		.dbg	line,	"include\init.c", 218; satb_update();
18668                        		__call		_satb_update
         1F:C164  20 E1 FE   			call	_satb_update
18669                        	
18670                        		.dbg	line,	"include\init.c", 223; // VSYNC //
18671                        	
18672                        		.dbg	line,	"include\init.c", 224; vsync();
18673                        		__call		_vsync
         1F:C167  20 1D E3   			call	_vsync
18674                        	
18675                        		.dbg	line,	"include\init.c", 226; // ENABLE DISPLAY //
18676                        	
18677                        		.dbg	line,	"include\init.c", 227; disp_on();
18678                        		__call		_disp_on
         1F:C16A  20 2A E4   			call	_disp_on
18679                        	
18680                        		.dbg	line,	"include\init.c", 228; }
18681    1F:C16D             	.LL915:
18682                        		__return	0
         1F:C16D  4C EF FF   			jmp	leave_proc
18683                        		.dbg	clear
18684                        		.endp
18685                        		.pceas
18686                        	
18687                        		.dbg	line,	"include\init.c", 234; void init_INTRO()
18688                        		.dbg	line,	"include\init.c", 235; {
18689                        	;***********************
18690                        	;***********************
18691                        	
18692                        		.hucc
18693    1E:DB14             		.proc		_init_INTRO
18694                        		__enter		_init_INTRO
18695                        	
18696                        		.dbg	line,	"include\init.c", 236; char i;
18697                        	
18698                        		.dbg	line,	"include\init.c", 237; 
18699                        	
18700                        		.dbg	line,	"include\init.c", 238; // DISABLE DISPLAY //
18701                        	
18702                        		.dbg	line,	"include\init.c", 239; disp_off();
18703                        		__call		_disp_off
         1E:DB14  20 3D E4   			call	_disp_off
18704                        	
18705                        		.dbg	line,	"include\init.c", 240; 
18706                        	
18707                        		.dbg	line,	"include\init.c", 242; // VSYNC //
18708                        	
18709                        		.dbg	line,	"include\init.c", 243; vsync();
18710                        		__call		_vsync
         1E:DB17  20 1D E3   			call	_vsync
18711                        	
18712                        		.dbg	line,	"include\init.c", 246; // SET VDC 1 SCREEN SIZE (IN TILES) - 64x64 = 256 PIXELS
18713                        	
18714                        		.dbg	line,	"include\init.c", 247; set_screen_size(SCR_SIZE_64x64);
18715                        		__st.umiq	5, _al
         1E:DB1A  A9 05      			lda.l	#5
         1E:DB1C  85 F8      			sta	_al
18716                        		__call		_set_screen_size.1
         1E:DB1E  20 F5 FE   			call	_set_screen_size.1
18717                        	
18718                        		.dbg	line,	"include\init.c", 249; // SET VDC 2 SCREEN SIZE (IN TILES) - 32x32 = 256 PIXELS
18719                        	
18720                        		.dbg	line,	"include\init.c", 250; sgx_set_screen_size(SCR_SIZE_32x32);
18721                        		__st.umiq	0, _al
         1E:DB21  64 F8      			stz	_al
18722                        		__call		_sgx_set_screen_size.1
         1E:DB23  20 EB FE   			call	_sgx_set_screen_size.1
18723                        	
18724                        		.dbg	line,	"include\init.c", 255; //**************************************************************************************//
18725                        	
18726                        		.dbg	line,	"include\init.c", 256; //                                                                                      //
18727                        	
18728                        		.dbg	line,	"include\init.c", 257; //                                      VARIABLES                                       //
18729                        	
18730                        		.dbg	line,	"include\init.c", 258; //                                                                                      //
18731                        	
18732                        		.dbg	line,	"include\init.c", 259; //**************************************************************************************//
18733                        	
18734                        		.dbg	line,	"include\init.c", 261; global_counter = 1;
18735                        		__st.wmiq	1, _global_counter
         1E:DB26  A9 01      			lda.l	#1
         1E:DB28  8D 50 26   			sta.l	_global_counter
         1E:DB2B  9C 51 26   			stz.h	_global_counter
18736                        	
18737                        		.dbg	line,	"include\init.c", 263; vdc_map_pxl_x = 0;
18738                        		__st.wmiq	0, _vdc_map_pxl_x
         1E:DB2E  9C C9 26   			stz.l	_vdc_map_pxl_x
         1E:DB31  9C CA 26   			stz.h	_vdc_map_pxl_x
18739                        	
18740                        		.dbg	line,	"include\init.c", 264; vdc_map_pxl_y = 0;
18741                        		__st.wmiq	0, _vdc_map_pxl_y
         1E:DB34  9C CB 26   			stz.l	_vdc_map_pxl_y
         1E:DB37  9C CC 26   			stz.h	_vdc_map_pxl_y
18742                        	
18743                        		.dbg	line,	"include\init.c", 269; //**************************************************************************************//
18744                        	
18745                        		.dbg	line,	"include\init.c", 270; //                                                                                      //
18746                        	
18747                        		.dbg	line,	"include\init.c", 271; //                                        VDC 1                                         //
18748                        	
18749                        		.dbg	line,	"include\init.c", 272; //                                                                                      //
18750                        	
18751                        		.dbg	line,	"include\init.c", 273; //**************************************************************************************//
18752                        	
18753                        		.dbg	line,	"include\init.c", 275; //--------------------------------------------------------------------------------------//
18754                        	
18755                        		.dbg	line,	"include\init.c", 276; //                                    LOAD TILEMAP                                      //
18756                        	
18757                        		.dbg	line,	"include\init.c", 277; //--------------------------------------------------------------------------------------//
18758                        	
18759                        		.dbg	line,	"include\init.c", 279; load_vram( 0x0000, tilemap_INTRO_BG_A, SIZEOF(tilemap_INTRO_BG_A) >> 1 );
18760                        		__st.wmiq	0, _di
         1E:DB3A  64 F0      			stz.l	_di
         1E:DB3C  64 F1      			stz.h	_di
18761                        		__farptr	_tilemap_INTRO_BG_A, _bp_bank, _bp
         1E:DB3E  A9 E0      			lda.l	#$6000 + ($1FFF & (_tilemap_INTRO_BG_A))
         1E:DB40  85 EC      			sta.l	_bp
         1E:DB42  A9 76      			lda.h	#$6000 + ($1FFF & (_tilemap_INTRO_BG_A))
         1E:DB44  85 ED      			sta.h	_bp
         1E:DB46  A9 05      			lda	#bank(_tilemap_INTRO_BG_A)
         1E:DB48  85 02      			sta	_bp_bank
18762                        		__ld.wi		___sizeof__tilemap_INTRO_BG_A
         1E:DB4A  A9 00      			lda.l	#___sizeof__tilemap_INTRO_BG_A
         1E:DB4C  A0 20      			ldy.h	#___sizeof__tilemap_INTRO_BG_A
18763                        		__lsr.wi	1
         1E:DB4E  42         			say
         1E:DB4F  4A         			lsr	a
         1E:DB50  42         			say
         1E:DB51  6A         			ror	a
18764                        		__st.wmq	_ax
         1E:DB52  85 F8      			sta.l	_ax
         1E:DB54  84 F9      			sty.h	_ax
18765                        		 _load_vram.3
         1E:DB56  82         			clx				; Offset to PCE VDC.
         1E:DB57  20 09 FF   			call	load_vram_x
18766                        	
18767                        		.dbg	line,	"include\init.c", 281; //--------------------------------------------------------------------------------------//
18768                        	
18769                        		.dbg	line,	"include\init.c", 282; //                                    LOAD TILESET                                      //
18770                        	
18771                        		.dbg	line,	"include\init.c", 283; //--------------------------------------------------------------------------------------//
18772                        	
18773                        		.dbg	line,	"include\init.c", 285; load_vram( 0x1000, tileset_INTRO_BG_A, SIZEOF(tileset_INTRO_BG_A) >> 1 );
18774                        		__st.wmiq	4096, _di
         1E:DB5A  64 F0      			stz.l	_di
         1E:DB5C  A9 10      			lda.h	#4096
         1E:DB5E  85 F1      			sta.h	_di
18775                        		__farptr	_tileset_INTRO_BG_A, _bp_bank, _bp
         1E:DB60  A9 60      			lda.l	#$6000 + ($1FFF & (_tileset_INTRO_BG_A))
         1E:DB62  85 EC      			sta.l	_bp
         1E:DB64  A9 6B      			lda.h	#$6000 + ($1FFF & (_tileset_INTRO_BG_A))
         1E:DB66  85 ED      			sta.h	_bp
         1E:DB68  A9 05      			lda	#bank(_tileset_INTRO_BG_A)
         1E:DB6A  85 02      			sta	_bp_bank
18776                        		__ld.wi		___sizeof__tileset_INTRO_BG_A
         1E:DB6C  A9 80      			lda.l	#___sizeof__tileset_INTRO_BG_A
         1E:DB6E  A0 0B      			ldy.h	#___sizeof__tileset_INTRO_BG_A
18777                        		__lsr.wi	1
         1E:DB70  42         			say
         1E:DB71  4A         			lsr	a
         1E:DB72  42         			say
         1E:DB73  6A         			ror	a
18778                        		__st.wmq	_ax
         1E:DB74  85 F8      			sta.l	_ax
         1E:DB76  84 F9      			sty.h	_ax
18779                        		 _load_vram.3
         1E:DB78  82         			clx				; Offset to PCE VDC.
         1E:DB79  20 09 FF   			call	load_vram_x
18780                        	
18781                        		.dbg	line,	"include\init.c", 288; //--------------------------------------------------------------------------------------//
18782                        	
18783                        		.dbg	line,	"include\init.c", 289; //                                    SCROLL SPLIT                                      //
18784                        	
18785                        		.dbg	line,	"include\init.c", 290; //--------------------------------------------------------------------------------------//
18786                        	
18787                        		.dbg	line,	"include\init.c", 292; scroll_split(0,   0, vdc_map_pxl_x & (511), vdc_map_pxl_y & (511), BKG_ON | SPR_ON);
18788                        		__st.umiq	0, _al
         1E:DB7C  64 F8      			stz	_al
18789                        		__st.umiq	0, _ah
         1E:DB7E  64 F9      			stz	_ah
18790                        		__ld.wm		_vdc_map_pxl_x
         1E:DB80  AD C9 26   			lda.l	_vdc_map_pxl_x
         1E:DB83  AC CA 26   			ldy.h	_vdc_map_pxl_x
18791                        		__and.wi	511
         1E:DB86  29 FF      			and.l	#511
         1E:DB88  42         			say
         1E:DB89  29 01      			and.h	#511
         1E:DB8B  42         			say
18792                        		__st.wmq	_bx
         1E:DB8C  85 FA      			sta.l	_bx
         1E:DB8E  84 FB      			sty.h	_bx
18793                        		__ld.wm		_vdc_map_pxl_y
         1E:DB90  AD CB 26   			lda.l	_vdc_map_pxl_y
         1E:DB93  AC CC 26   			ldy.h	_vdc_map_pxl_y
18794                        		__and.wi	511
         1E:DB96  29 FF      			and.l	#511
         1E:DB98  42         			say
         1E:DB99  29 01      			and.h	#511
         1E:DB9B  42         			say
18795                        		__st.wmq	_cx
         1E:DB9C  85 FC      			sta.l	_cx
         1E:DB9E  84 FD      			sty.h	_cx
18796                        		__st.umiq	192, _dl
         1E:DBA0  A9 C0      			lda.l	#192
         1E:DBA2  85 FE      			sta	_dl
18797                        		__call		_scroll_split.5
         1E:DBA4  20 81 FF   			call	_scroll_split.5
18798                        	
18799                        		.dbg	line,	"include\init.c", 297; //--------------------------------------------------------------------------------------//
18800                        	
18801                        		.dbg	line,	"include\init.c", 298; //                                      LOAD FONT                                       //
18802                        	
18803                        		.dbg	line,	"include\init.c", 299; //--------------------------------------------------------------------------------------//
18804                        	
18805                        		.dbg	line,	"include\init.c", 301; set_font_addr(0x3000);
18806                        		__ld.wi		12288
         1E:DBA7  62         			cla
         1E:DBA8  A0 30      			ldy.h	#12288
18807                        		__call		_set_font_addr.1
         1E:DBAA  20 D9 E5   			call	_set_font_addr.1
18808                        	
18809                        		.dbg	line,	"include\init.c", 302; load_vram( 0x3000, tileset_FONT_INTRO, SIZEOF(tileset_FONT_INTRO) >> 1 );
18810                        		__st.wmiq	12288, _di
         1E:DBAD  64 F0      			stz.l	_di
         1E:DBAF  A9 30      			lda.h	#12288
         1E:DBB1  85 F1      			sta.h	_di
18811                        		__farptr	_tileset_FONT_INTRO, _bp_bank, _bp
         1E:DBB3  A9 00      			lda.l	#$6000 + ($1FFF & (_tileset_FONT_INTRO))
         1E:DBB5  85 EC      			sta.l	_bp
         1E:DBB7  A9 60      			lda.h	#$6000 + ($1FFF & (_tileset_FONT_INTRO))
         1E:DBB9  85 ED      			sta.h	_bp
         1E:DBBB  A9 03      			lda	#bank(_tileset_FONT_INTRO)
         1E:DBBD  85 02      			sta	_bp_bank
18812                        		__ld.wi		___sizeof__tileset_FONT_INTRO
         1E:DBBF  A9 00      			lda.l	#___sizeof__tileset_FONT_INTRO
         1E:DBC1  A0 0C      			ldy.h	#___sizeof__tileset_FONT_INTRO
18813                        		__lsr.wi	1
         1E:DBC3  42         			say
         1E:DBC4  4A         			lsr	a
         1E:DBC5  42         			say
         1E:DBC6  6A         			ror	a
18814                        		__st.wmq	_ax
         1E:DBC7  85 F8      			sta.l	_ax
         1E:DBC9  84 F9      			sty.h	_ax
18815                        		 _load_vram.3
         1E:DBCB  82         			clx				; Offset to PCE VDC.
         1E:DBCC  20 09 FF   			call	load_vram_x
18816                        	
18817                        		.dbg	line,	"include\init.c", 304; set_font_pal(15);
18818                        		__ld.uiq	15
         1E:DBCF  A9 0F      			lda	#15
18819                        		__call		_set_font_pal.1
         1E:DBD1  20 00 E6   			call	_set_font_pal.1
18820                        	
18821                        		.dbg	line,	"include\init.c", 308; //**************************************************************************************//
18822                        	
18823                        		.dbg	line,	"include\init.c", 309; //                                                                                      //
18824                        	
18825                        		.dbg	line,	"include\init.c", 310; //                                        VDC 2                                         //
18826                        	
18827                        		.dbg	line,	"include\init.c", 311; //                                                                                      //
18828                        	
18829                        		.dbg	line,	"include\init.c", 312; //**************************************************************************************//
18830                        	
18831                        		.dbg	line,	"include\init.c", 314; //--------------------------------------------------------------------------------------//
18832                        	
18833                        		.dbg	line,	"include\init.c", 315; //                                    LOAD TILEMAP                                      //
18834                        	
18835                        		.dbg	line,	"include\init.c", 316; //--------------------------------------------------------------------------------------//
18836                        	
18837                        		.dbg	line,	"include\init.c", 318; sgx_load_vram( 0x0000, tilemap_INTRO_BG_B, SIZEOF(tilemap_INTRO_BG_B) >> 1 );
18838                        		__st.wmiq	0, _di
         1E:DBD4  64 F0      			stz.l	_di
         1E:DBD6  64 F1      			stz.h	_di
18839                        		__farptr	_tilemap_INTRO_BG_B, _bp_bank, _bp
         1E:DBD8  A9 60      			lda.l	#$6000 + ($1FFF & (_tilemap_INTRO_BG_B))
         1E:DBDA  85 EC      			sta.l	_bp
         1E:DBDC  A9 64      			lda.h	#$6000 + ($1FFF & (_tilemap_INTRO_BG_B))
         1E:DBDE  85 ED      			sta.h	_bp
         1E:DBE0  A9 05      			lda	#bank(_tilemap_INTRO_BG_B)
         1E:DBE2  85 02      			sta	_bp_bank
18840                        		__ld.wi		___sizeof__tilemap_INTRO_BG_B
         1E:DBE4  A9 00      			lda.l	#___sizeof__tilemap_INTRO_BG_B
         1E:DBE6  A0 07      			ldy.h	#___sizeof__tilemap_INTRO_BG_B
18841                        		__lsr.wi	1
         1E:DBE8  42         			say
         1E:DBE9  4A         			lsr	a
         1E:DBEA  42         			say
         1E:DBEB  6A         			ror	a
18842                        		__st.wmq	_ax
         1E:DBEC  85 F8      			sta.l	_ax
         1E:DBEE  84 F9      			sty.h	_ax
18843                        		 _sgx_load_vram.3
         1E:DBF0  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1E:DBF2  20 09 FF   			call	load_vram_x
18844                        	
18845                        		.dbg	line,	"include\init.c", 320; //--------------------------------------------------------------------------------------//
18846                        	
18847                        		.dbg	line,	"include\init.c", 321; //                                    LOAD TILESET                                      //
18848                        	
18849                        		.dbg	line,	"include\init.c", 322; //--------------------------------------------------------------------------------------//
18850                        	
18851                        		.dbg	line,	"include\init.c", 324; sgx_load_vram( 0x1000, tileset_INTRO_BG_B, SIZEOF(tileset_INTRO_BG_B) >> 1 );
18852                        		__st.wmiq	4096, _di
         1E:DBF5  64 F0      			stz.l	_di
         1E:DBF7  A9 10      			lda.h	#4096
         1E:DBF9  85 F1      			sta.h	_di
18853                        		__farptr	_tileset_INTRO_BG_B, _bp_bank, _bp
         1E:DBFB  A9 00      			lda.l	#$6000 + ($1FFF & (_tileset_INTRO_BG_B))
         1E:DBFD  85 EC      			sta.l	_bp
         1E:DBFF  A9 70      			lda.h	#$6000 + ($1FFF & (_tileset_INTRO_BG_B))
         1E:DC01  85 ED      			sta.h	_bp
         1E:DC03  A9 03      			lda	#bank(_tileset_INTRO_BG_B)
         1E:DC05  85 02      			sta	_bp_bank
18854                        		__ld.wi		___sizeof__tileset_INTRO_BG_B
         1E:DC07  A9 60      			lda.l	#___sizeof__tileset_INTRO_BG_B
         1E:DC09  A0 34      			ldy.h	#___sizeof__tileset_INTRO_BG_B
18855                        		__lsr.wi	1
         1E:DC0B  42         			say
         1E:DC0C  4A         			lsr	a
         1E:DC0D  42         			say
         1E:DC0E  6A         			ror	a
18856                        		__st.wmq	_ax
         1E:DC0F  85 F8      			sta.l	_ax
         1E:DC11  84 F9      			sty.h	_ax
18857                        		 _sgx_load_vram.3
         1E:DC13  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1E:DC15  20 09 FF   			call	load_vram_x
18858                        	
18859                        		.dbg	line,	"include\init.c", 329; //--------------------------------------------------------------------------------------//
18860                        	
18861                        		.dbg	line,	"include\init.c", 330; //                                   LOAD BG PALETTES                                   //
18862                        	
18863                        		.dbg	line,	"include\init.c", 331; //--------------------------------------------------------------------------------------//
18864                        	
18865                        		.dbg	line,	"include\init.c", 333; // STORES DESTINATION PALETTE FOR FADE //
18866                        	
18867                        		.dbg	line,	"include\init.c", 334; load_palette( 0, palette_INTRO_1, 1 );
18868                        		__st.umiq	0, _al
         1E:DC18  64 F8      			stz	_al
18869                        		__farptr	_palette_INTRO_1, _bp_bank, _bp
         1E:DC1A  A9 E0      			lda.l	#$6000 + ($1FFF & (_palette_INTRO_1))
         1E:DC1C  85 EC      			sta.l	_bp
         1E:DC1E  A9 76      			lda.h	#$6000 + ($1FFF & (_palette_INTRO_1))
         1E:DC20  85 ED      			sta.h	_bp
         1E:DC22  A9 06      			lda	#bank(_palette_INTRO_1)
         1E:DC24  85 02      			sta	_bp_bank
18870                        		__st.umiq	1, _ah
         1E:DC26  A9 01      			lda.l	#1
         1E:DC28  85 F9      			sta	_ah
18871                        		__call		_load_palette.3
         1E:DC2A  20 8B FF   			call	_load_palette.3
18872                        	
18873                        		.dbg	line,	"include\init.c", 335; load_palette( 15, palette_FONT_INTRO, 1 );
18874                        		__st.umiq	15, _al
         1E:DC2D  A9 0F      			lda.l	#15
         1E:DC2F  85 F8      			sta	_al
18875                        		__farptr	_palette_FONT_INTRO, _bp_bank, _bp
         1E:DC31  A9 00      			lda.l	#$6000 + ($1FFF & (_palette_FONT_INTRO))
         1E:DC33  85 EC      			sta.l	_bp
         1E:DC35  A9 6C      			lda.h	#$6000 + ($1FFF & (_palette_FONT_INTRO))
         1E:DC37  85 ED      			sta.h	_bp
         1E:DC39  A9 03      			lda	#bank(_palette_FONT_INTRO)
         1E:DC3B  85 02      			sta	_bp_bank
18876                        		__st.umiq	1, _ah
         1E:DC3D  A9 01      			lda.l	#1
         1E:DC3F  85 F9      			sta	_ah
18877                        		__call		_load_palette.3
         1E:DC41  20 8B FF   			call	_load_palette.3
18878                        	
18879                        		.dbg	line,	"include\init.c", 340; //**************************************************************************************//
18880                        	
18881                        		.dbg	line,	"include\init.c", 341; //                                                                                      //
18882                        	
18883                        		.dbg	line,	"include\init.c", 342; //                                       SPRITES                                        //
18884                        	
18885                        		.dbg	line,	"include\init.c", 343; //                                                                                      //
18886                        	
18887                        		.dbg	line,	"include\init.c", 344; //**************************************************************************************//
18888                        	
18889                        		.dbg	line,	"include\init.c", 346; // HIDE CURSOR SPRITE FROM TITLE SCREEN //
18890                        	
18891                        		.dbg	line,	"include\init.c", 347; spr_set(0);
18892                        		__ld.uiq	0
         1E:DC44  62         			cla
18893                        		__call		_spr_set.1
         1E:DC45  20 F1 E7   			call	_spr_set.1
18894                        	
18895                        		.dbg	line,	"include\init.c", 348; spr_hide();
18896                        		__call		_spr_hide
         1E:DC48  20 0C E8   			call	_spr_hide
18897                        	
18898                        		.dbg	line,	"include\init.c", 350; //--------------------------------------------------------------------------------------//
18899                        	
18900                        		.dbg	line,	"include\init.c", 351; //                                        DRAGON                                        //
18901                        	
18902                        		.dbg	line,	"include\init.c", 352; //--------------------------------------------------------------------------------------//
18903                        	
18904                        		.dbg	line,	"include\init.c", 354; player_pos_x = 113;
18905                        		__st.wmiq	113, _player_pos_x
         1E:DC4B  A9 71      			lda.l	#113
         1E:DC4D  8D F6 24   			sta.l	_player_pos_x
         1E:DC50  9C F7 24   			stz.h	_player_pos_x
18906                        	
18907                        		.dbg	line,	"include\init.c", 355; player_pos_y = 81;
18908                        		__st.wmiq	81, _player_pos_y
         1E:DC53  A9 51      			lda.l	#81
         1E:DC55  8D F8 24   			sta.l	_player_pos_y
         1E:DC58  9C F9 24   			stz.h	_player_pos_y
18909                        	
18910                        		.dbg	line,	"include\init.c", 357; // LOAD DRAGON TILES //
18911                        	
18912                        		.dbg	line,	"include\init.c", 358; sgx_load_vram(DRAGON_INTRO_VRAM_ADR, tiles_SPR_DRAGON_INTRO , SIZEOF(tiles_SPR_DRAGON_INTRO) >> 1);
18913                        		__st.wmiq	11264, _di
         1E:DC5B  64 F0      			stz.l	_di
         1E:DC5D  A9 2C      			lda.h	#11264
         1E:DC5F  85 F1      			sta.h	_di
18914                        		__farptr	_tiles_SPR_DRAGON_INTRO, _bp_bank, _bp
         1E:DC61  A9 40      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_DRAGON_INTRO))
         1E:DC63  85 EC      			sta.l	_bp
         1E:DC65  A9 7B      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_DRAGON_INTRO))
         1E:DC67  85 ED      			sta.h	_bp
         1E:DC69  A9 13      			lda	#bank(_tiles_SPR_DRAGON_INTRO)
         1E:DC6B  85 02      			sta	_bp_bank
18915                        		__ld.wi		___sizeof__tiles_SPR_DRAGON_INTRO
         1E:DC6D  A9 00      			lda.l	#___sizeof__tiles_SPR_DRAGON_INTRO
         1E:DC6F  A0 40      			ldy.h	#___sizeof__tiles_SPR_DRAGON_INTRO
18916                        		__lsr.wi	1
         1E:DC71  42         			say
         1E:DC72  4A         			lsr	a
         1E:DC73  42         			say
         1E:DC74  6A         			ror	a
18917                        		__st.wmq	_ax
         1E:DC75  85 F8      			sta.l	_ax
         1E:DC77  84 F9      			sty.h	_ax
18918                        		 _sgx_load_vram.3
         1E:DC79  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1E:DC7B  20 09 FF   			call	load_vram_x
18919                        	
18920                        		.dbg	line,	"include\init.c", 361; for(i=0 ; i<8 ; i++)
18921                        		__st.umiq	0, __init_INTRO_end - 1  /* i */
         1E:DC7E  9C 22 2C   			stz	__init_INTRO_end - 1
18922    1E:DC81             	.LL917:
18923                        		__ld.umq	__init_INTRO_end - 1  /* i */
         1E:DC81  AD 22 2C   			lda	__init_INTRO_end - 1
18924                        		__ult_b.uiq	8
         1E:DC84  C9 08      			cmp	#8		; Subtract integer from A.
         1E:DC86  6A         			ror	a		; CC if A < integer.
         1E:DC87  49 80      			eor	#$80
         1E:DC89  2A         			rol	a
18925                        		__btrue		.LL919
         1E:DC8A  B0 08      			bcs	.LL919
18926                        		__bra		.LL920
         1E:DC8C  4C 14 DD   			bra	.LL920
18927    1E:DC8F             	.LL918:
18928                        		__inc.umq	__init_INTRO_end - 1  /* i */
         1E:DC8F  EE 22 2C   			inc	__init_INTRO_end - 1
18929                        		__bra		.LL917
         1E:DC92  80 ED      			bra	.LL917
18930    1E:DC94             	.LL919:
18931                        	
18932                        		.dbg	line,	"include\init.c", 362; {
18933                        	
18934                        		.dbg	line,	"include\init.c", 363; sgx_spr_set(i);
18935                        		__ld.umq	__init_INTRO_end - 1  /* i */
         1E:DC94  AD 22 2C   			lda	__init_INTRO_end - 1
18936                        		__call		_sgx_spr_set.1
         1E:DC97  20 9E E8   			call	_sgx_spr_set.1
18937                        	
18938                        		.dbg	line,	"include\init.c", 364; sgx_spr_x(player_pos_x + (i*32) - ((i>>2)*128));
18939                        		__ld.um		__init_INTRO_end - 1  /* i */
         1E:DC9A  AD 22 2C   			lda	__init_INTRO_end - 1
         1E:DC9D  C2         			cly
18940                        		__asl.wi	5
         1E:DC9E  85 00      			sta	__temp
         1E:DCA0  98         			tya
         1E:DCA1  4A         			lsr	a
         1E:DCA2  20 C8 E1   			jsr	aslw5
         1E:DCA5  29 E0      			and.l	#$FF << 5
18941                        		__add.wm	_player_pos_x
         1E:DCA7  18         			clc
         1E:DCA8  6D F6 24   			adc.l	_player_pos_x
         1E:DCAB  42         			say
         1E:DCAC  6D F7 24   			adc.h	_player_pos_x
         1E:DCAF  42         			say
18942                        		__push.wr
         1E:DCB0  5A         			phy
         1E:DCB1  48         			pha
18943                        		__ld.um		__init_INTRO_end - 1  /* i */
         1E:DCB2  AD 22 2C   			lda	__init_INTRO_end - 1
         1E:DCB5  C2         			cly
18944                        		__lsr.uiq	2
         1E:DCB6  4A         			lsr	a
         1E:DCB7  4A         			lsr	a
18945                        		__asl.wi	7
         1E:DCB8  42         			say
         1E:DCB9  4A         			lsr	a
         1E:DCBA  42         			say
         1E:DCBB  6A         			ror	a
         1E:DCBC  42         			say
         1E:DCBD  6A         			ror	a
         1E:DCBE  29 80      			and	#$80
18946                        		__sub.wt
         1E:DCC0  BA         			tsx
         1E:DCC1  38         			sec
         1E:DCC2  49 FF      			eor	#$FF
         1E:DCC4  7D 01 21   			adc.l	__tos, x
         1E:DCC7  42         			say
         1E:DCC8  49 FF      			eor	#$FF
         1E:DCCA  7D 02 21   			adc.h	__tos, x
         1E:DCCD  42         			say
         1E:DCCE  E8         			inx
         1E:DCCF  E8         			inx
         1E:DCD0  9A         			txs
18947                        		__call		_sgx_spr_x.1
         1E:DCD1  20 CB E8   			call	_sgx_spr_x.1
18948                        	
18949                        		.dbg	line,	"include\init.c", 365; sgx_spr_y(player_pos_y + ((i>>2)*32));
18950                        		__ld.um		__init_INTRO_end - 1  /* i */
         1E:DCD4  AD 22 2C   			lda	__init_INTRO_end - 1
         1E:DCD7  C2         			cly
18951                        		__lsr.uiq	2
         1E:DCD8  4A         			lsr	a
         1E:DCD9  4A         			lsr	a
18952                        		__asl.wi	5
         1E:DCDA  85 00      			sta	__temp
         1E:DCDC  98         			tya
         1E:DCDD  4A         			lsr	a
         1E:DCDE  20 C8 E1   			jsr	aslw5
         1E:DCE1  29 E0      			and.l	#$FF << 5
18953                        		__add.wm	_player_pos_y
         1E:DCE3  18         			clc
         1E:DCE4  6D F8 24   			adc.l	_player_pos_y
         1E:DCE7  42         			say
         1E:DCE8  6D F9 24   			adc.h	_player_pos_y
         1E:DCEB  42         			say
18954                        		__call		_sgx_spr_y.1
         1E:DCEC  20 DA E8   			call	_sgx_spr_y.1
18955                        	
18956                        		.dbg	line,	"include\init.c", 366; sgx_spr_pattern(DRAGON_INTRO_VRAM_ADR + (i*TILES_16));
18957                        		__ld.um		__init_INTRO_end - 1  /* i */
         1E:DCEF  AD 22 2C   			lda	__init_INTRO_end - 1
         1E:DCF2  C2         			cly
18958                        		__asl.wi	8
         1E:DCF3  A8         			tay
         1E:DCF4  62         			cla
18959                        		__add.wi	11264
         1E:DCF5  18         			clc
         1E:DCF6  69 00      			adc.l	#11264
         1E:DCF8  42         			say
         1E:DCF9  69 2C      			adc.h	#11264
         1E:DCFB  42         			say
18960                        		__call		_sgx_spr_pattern.1
         1E:DCFC  20 E7 E8   			call	_sgx_spr_pattern.1
18961                        	
18962                        		.dbg	line,	"include\init.c", 367; sgx_spr_ctrl(FLIP_MAS|SIZE_MAS, NO_FLIP|SZ_32x32);
18963                        		__st.umiq	185, _al
         1E:DCFF  A9 B9      			lda.l	#185
         1E:DD01  85 F8      			sta	_al
18964                        		__ld.uiq	17
         1E:DD03  A9 11      			lda	#17
18965                        		__call		_sgx_spr_ctrl.2
         1E:DD05  20 FD E8   			call	_sgx_spr_ctrl.2
18966                        	
18967                        		.dbg	line,	"include\init.c", 368; sgx_spr_pal(16);
18968                        		__ld.uiq	16
         1E:DD08  A9 10      			lda	#16
18969                        		__call		_sgx_spr_pal.1
         1E:DD0A  20 0E E9   			call	_sgx_spr_pal.1
18970                        	
18971                        		.dbg	line,	"include\init.c", 369; sgx_spr_pri(FALSE);
18972                        		__ld.uiq	0
         1E:DD0D  62         			cla
18973                        		__call		_sgx_spr_pri.1
         1E:DD0E  20 1D E9   			call	_sgx_spr_pri.1
18974                        	
18975                        		.dbg	line,	"include\init.c", 370; }
18976                        		__bra		.LL918
         1E:DD11  4C 8F DC   			bra	.LL918
18977    1E:DD14             	.LL920:
18978                        	
18979                        		.dbg	line,	"include\init.c", 371; 
18980                        	
18981                        		.dbg	line,	"include\init.c", 373; //--------------------------------------------------------------------------------------//
18982                        	
18983                        		.dbg	line,	"include\init.c", 374; //                                LOAD SPRITES PALETTES                                 //
18984                        	
18985                        		.dbg	line,	"include\init.c", 375; //--------------------------------------------------------------------------------------//
18986                        	
18987                        		.dbg	line,	"include\init.c", 377; load_palette( 16, palette_SPR_DRAGON_INTRO, 1 );
18988                        		__st.umiq	16, _al
         1E:DD14  A9 10      			lda.l	#16
         1E:DD16  85 F8      			sta	_al
18989                        		__farptr	_palette_SPR_DRAGON_INTRO, _bp_bank, _bp
         1E:DD18  A9 40      			lda.l	#$6000 + ($1FFF & (_palette_SPR_DRAGON_INTRO))
         1E:DD1A  85 EC      			sta.l	_bp
         1E:DD1C  A9 7B      			lda.h	#$6000 + ($1FFF & (_palette_SPR_DRAGON_INTRO))
         1E:DD1E  85 ED      			sta.h	_bp
         1E:DD20  A9 15      			lda	#bank(_palette_SPR_DRAGON_INTRO)
         1E:DD22  85 02      			sta	_bp_bank
18990                        		__st.umiq	1, _ah
         1E:DD24  A9 01      			lda.l	#1
         1E:DD26  85 F9      			sta	_ah
18991                        		__call		_load_palette.3
         1E:DD28  20 8B FF   			call	_load_palette.3
18992                        	
18993                        		.dbg	line,	"include\init.c", 381; // UPDATE SGX SAT //
18994                        	
18995                        		.dbg	line,	"include\init.c", 382; sgx_satb_update();
18996                        		__call		_sgx_satb_update
         1E:DD2B  20 D7 FE   			call	_sgx_satb_update
18997                        	
18998                        		.dbg	line,	"include\init.c", 384; // UPDATE PCE SAT //
18999                        	
19000                        		.dbg	line,	"include\init.c", 385; satb_update();
19001                        		__call		_satb_update
         1E:DD2E  20 E1 FE   			call	_satb_update
19002                        	
19003                        		.dbg	line,	"include\init.c", 388; // VSYNC //
19004                        	
19005                        		.dbg	line,	"include\init.c", 389; vsync();
19006                        		__call		_vsync
         1E:DD31  20 1D E3   			call	_vsync
19007                        	
19008                        		.dbg	line,	"include\init.c", 391; // ENABLE DISPLAY //
19009                        	
19010                        		.dbg	line,	"include\init.c", 392; disp_on();
19011                        		__call		_disp_on
         1E:DD34  20 2A E4   			call	_disp_on
19012                        	
19013                        		.dbg	line,	"include\init.c", 393; }
19014    1E:DD37             	.LL916:
19015                        		__return	0
         1E:DD37  4C EF FF   			jmp	leave_proc
19016                        		.dbg	clear
19017                        		.endp
19018               2310     		.bss
19019    F8:2310             	__init_INTRO_end	.alias	leaf_stack
19020               E31D     		.code
19021                        		.pceas
19022                        	
19023                        		.dbg	line,	"include\init.c", 401; void load_OBJECT_TILES()
19024                        		.dbg	line,	"include\init.c", 402; {
19025                        	;***********************
19026                        	;***********************
19027                        	
19028                        		.hucc
19029    1E:D3C8             		.proc		_load_OBJECT_TILES
19030                        		__enter		_load_OBJECT_TILES
19031                        	
19032                        		.dbg	line,	"include\init.c", 403; sgx_load_vram(POT1_VRAM_ADR, tiles_SPR_POT , SIZEOF(tiles_SPR_POT) >> 1);
19033                        		__st.wmiq	26624, _di
         1E:D3C8  64 F0      			stz.l	_di
         1E:D3CA  A9 68      			lda.h	#26624
         1E:D3CC  85 F1      			sta.h	_di
19034                        		__farptr	_tiles_SPR_POT, _bp_bank, _bp
         1E:D3CE  A9 40      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_POT))
         1E:D3D0  85 EC      			sta.l	_bp
         1E:D3D2  A9 6A      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_POT))
         1E:D3D4  85 ED      			sta.h	_bp
         1E:D3D6  A9 1A      			lda	#bank(_tiles_SPR_POT)
         1E:D3D8  85 02      			sta	_bp_bank
19035                        		__ld.wi		___sizeof__tiles_SPR_POT
         1E:D3DA  A9 00      			lda.l	#___sizeof__tiles_SPR_POT
         1E:D3DC  A0 04      			ldy.h	#___sizeof__tiles_SPR_POT
19036                        		__lsr.wi	1
         1E:D3DE  42         			say
         1E:D3DF  4A         			lsr	a
         1E:D3E0  42         			say
         1E:D3E1  6A         			ror	a
19037                        		__st.wmq	_ax
         1E:D3E2  85 F8      			sta.l	_ax
         1E:D3E4  84 F9      			sty.h	_ax
19038                        		 _sgx_load_vram.3
         1E:D3E6  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1E:D3E8  20 09 FF   			call	load_vram_x
19039                        	
19040                        		.dbg	line,	"include\init.c", 404; sgx_load_vram(POW_VRAM_ADR, tiles_SPR_POW , TILES_4);
19041                        		__st.wmiq	27136, _di
         1E:D3EB  64 F0      			stz.l	_di
         1E:D3ED  A9 6A      			lda.h	#27136
         1E:D3EF  85 F1      			sta.h	_di
19042                        		__farptr	_tiles_SPR_POW, _bp_bank, _bp
         1E:D3F1  A9 40      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_POW))
         1E:D3F3  85 EC      			sta.l	_bp
         1E:D3F5  A9 6E      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_POW))
         1E:D3F7  85 ED      			sta.h	_bp
         1E:D3F9  A9 1A      			lda	#bank(_tiles_SPR_POW)
         1E:D3FB  85 02      			sta	_bp_bank
19043                        		__st.wmiq	64, _ax
         1E:D3FD  A9 40      			lda.l	#64
         1E:D3FF  85 F8      			sta.l	_ax
         1E:D401  64 F9      			stz.h	_ax
19044                        		 _sgx_load_vram.3
         1E:D403  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1E:D405  20 09 FF   			call	load_vram_x
19045                        	
19046                        		.dbg	line,	"include\init.c", 405; sgx_load_vram(GRAY_KEY_VRAM_ADR, tiles_SPR_GRAY_KEY , TILES_4);
19047                        		__st.wmiq	27200, _di
         1E:D408  A9 40      			lda.l	#27200
         1E:D40A  85 F0      			sta.l	_di
         1E:D40C  A9 6A      			lda.h	#27200
         1E:D40E  85 F1      			sta.h	_di
19048                        		__farptr	_tiles_SPR_GRAY_KEY, _bp_bank, _bp
         1E:D410  A9 C0      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_GRAY_KEY))
         1E:D412  85 EC      			sta.l	_bp
         1E:D414  A9 67      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_GRAY_KEY))
         1E:D416  85 ED      			sta.h	_bp
         1E:D418  A9 1A      			lda	#bank(_tiles_SPR_GRAY_KEY)
         1E:D41A  85 02      			sta	_bp_bank
19049                        		__st.wmiq	64, _ax
         1E:D41C  A9 40      			lda.l	#64
         1E:D41E  85 F8      			sta.l	_ax
         1E:D420  64 F9      			stz.h	_ax
19050                        		 _sgx_load_vram.3
         1E:D422  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1E:D424  20 09 FF   			call	load_vram_x
19051                        	
19052                        		.dbg	line,	"include\init.c", 406; //sgx_load_vram(GOLD_KEY_VRAM_ADR, tiles_SPR_GOLD_KEY , TILES_4);
19053                        	
19054                        		.dbg	line,	"include\init.c", 407; //sgx_load_vram(LIFE_VRAM_ADR, tiles_SPR_LIFE , TILES_4);
19055                        	
19056                        		.dbg	line,	"include\init.c", 408; sgx_load_vram(COIN_1_VRAM_ADR, tiles_SPR_COIN_1 , TILES_4);
19057                        		__st.wmiq	27264, _di
         1E:D427  A9 80      			lda.l	#27264
         1E:D429  85 F0      			sta.l	_di
         1E:D42B  A9 6A      			lda.h	#27264
         1E:D42D  85 F1      			sta.h	_di
19058                        		__farptr	_tiles_SPR_COIN_1, _bp_bank, _bp
         1E:D42F  A9 C0      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_COIN_1))
         1E:D431  85 EC      			sta.l	_bp
         1E:D433  A9 63      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_COIN_1))
         1E:D435  85 ED      			sta.h	_bp
         1E:D437  A9 1A      			lda	#bank(_tiles_SPR_COIN_1)
         1E:D439  85 02      			sta	_bp_bank
19059                        		__st.wmiq	64, _ax
         1E:D43B  A9 40      			lda.l	#64
         1E:D43D  85 F8      			sta.l	_ax
         1E:D43F  64 F9      			stz.h	_ax
19060                        		 _sgx_load_vram.3
         1E:D441  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1E:D443  20 09 FF   			call	load_vram_x
19061                        	
19062                        		.dbg	line,	"include\init.c", 409; sgx_load_vram(COIN_5_VRAM_ADR, tiles_SPR_COIN_5 , TILES_4);
19063                        		__st.wmiq	27328, _di
         1E:D446  A9 C0      			lda.l	#27328
         1E:D448  85 F0      			sta.l	_di
         1E:D44A  A9 6A      			lda.h	#27328
         1E:D44C  85 F1      			sta.h	_di
19064                        		__farptr	_tiles_SPR_COIN_5, _bp_bank, _bp
         1E:D44E  A9 40      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_COIN_5))
         1E:D450  85 EC      			sta.l	_bp
         1E:D452  A9 64      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_COIN_5))
         1E:D454  85 ED      			sta.h	_bp
         1E:D456  A9 1A      			lda	#bank(_tiles_SPR_COIN_5)
         1E:D458  85 02      			sta	_bp_bank
19065                        		__st.wmiq	64, _ax
         1E:D45A  A9 40      			lda.l	#64
         1E:D45C  85 F8      			sta.l	_ax
         1E:D45E  64 F9      			stz.h	_ax
19066                        		 _sgx_load_vram.3
         1E:D460  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1E:D462  20 09 FF   			call	load_vram_x
19067                        	
19068                        		.dbg	line,	"include\init.c", 410; sgx_load_vram(COIN_10_VRAM_ADR, tiles_SPR_COIN_10 , TILES_4);
19069                        		__st.wmiq	27392, _di
         1E:D465  64 F0      			stz.l	_di
         1E:D467  A9 6B      			lda.h	#27392
         1E:D469  85 F1      			sta.h	_di
19070                        		__farptr	_tiles_SPR_COIN_10, _bp_bank, _bp
         1E:D46B  A9 C0      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_COIN_10))
         1E:D46D  85 EC      			sta.l	_bp
         1E:D46F  A9 64      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_COIN_10))
         1E:D471  85 ED      			sta.h	_bp
         1E:D473  A9 1A      			lda	#bank(_tiles_SPR_COIN_10)
         1E:D475  85 02      			sta	_bp_bank
19071                        		__st.wmiq	64, _ax
         1E:D477  A9 40      			lda.l	#64
         1E:D479  85 F8      			sta.l	_ax
         1E:D47B  64 F9      			stz.h	_ax
19072                        		 _sgx_load_vram.3
         1E:D47D  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1E:D47F  20 09 FF   			call	load_vram_x
19073                        	
19074                        		.dbg	line,	"include\init.c", 411; sgx_load_vram(COIN_50_VRAM_ADR, tiles_SPR_COIN_50 , TILES_4);
19075                        		__st.wmiq	27456, _di
         1E:D482  A9 40      			lda.l	#27456
         1E:D484  85 F0      			sta.l	_di
         1E:D486  A9 6B      			lda.h	#27456
         1E:D488  85 F1      			sta.h	_di
19076                        		__farptr	_tiles_SPR_COIN_50, _bp_bank, _bp
         1E:D48A  A9 40      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_COIN_50))
         1E:D48C  85 EC      			sta.l	_bp
         1E:D48E  A9 65      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_COIN_50))
         1E:D490  85 ED      			sta.h	_bp
         1E:D492  A9 1A      			lda	#bank(_tiles_SPR_COIN_50)
         1E:D494  85 02      			sta	_bp_bank
19077                        		__st.wmiq	64, _ax
         1E:D496  A9 40      			lda.l	#64
         1E:D498  85 F8      			sta.l	_ax
         1E:D49A  64 F9      			stz.h	_ax
19078                        		 _sgx_load_vram.3
         1E:D49C  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1E:D49E  20 09 FF   			call	load_vram_x
19079                        	
19080                        		.dbg	line,	"include\init.c", 412; sgx_load_vram(COIN_100_VRAM_ADR, tiles_SPR_COIN_100 , TILES_4);
19081                        		__st.wmiq	27520, _di
         1E:D4A1  A9 80      			lda.l	#27520
         1E:D4A3  85 F0      			sta.l	_di
         1E:D4A5  A9 6B      			lda.h	#27520
         1E:D4A7  85 F1      			sta.h	_di
19082                        		__farptr	_tiles_SPR_COIN_100, _bp_bank, _bp
         1E:D4A9  A9 C0      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_COIN_100))
         1E:D4AB  85 EC      			sta.l	_bp
         1E:D4AD  A9 65      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_COIN_100))
         1E:D4AF  85 ED      			sta.h	_bp
         1E:D4B1  A9 1A      			lda	#bank(_tiles_SPR_COIN_100)
         1E:D4B3  85 02      			sta	_bp_bank
19083                        		__st.wmiq	64, _ax
         1E:D4B5  A9 40      			lda.l	#64
         1E:D4B7  85 F8      			sta.l	_ax
         1E:D4B9  64 F9      			stz.h	_ax
19084                        		 _sgx_load_vram.3
         1E:D4BB  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1E:D4BD  20 09 FF   			call	load_vram_x
19085                        	
19086                        		.dbg	line,	"include\init.c", 413; sgx_load_vram(COIN_500_VRAM_ADR, tiles_SPR_COIN_500 , TILES_4);
19087                        		__st.wmiq	27584, _di
         1E:D4C0  A9 C0      			lda.l	#27584
         1E:D4C2  85 F0      			sta.l	_di
         1E:D4C4  A9 6B      			lda.h	#27584
         1E:D4C6  85 F1      			sta.h	_di
19088                        		__farptr	_tiles_SPR_COIN_500, _bp_bank, _bp
         1E:D4C8  A9 40      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_COIN_500))
         1E:D4CA  85 EC      			sta.l	_bp
         1E:D4CC  A9 66      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_COIN_500))
         1E:D4CE  85 ED      			sta.h	_bp
         1E:D4D0  A9 1A      			lda	#bank(_tiles_SPR_COIN_500)
         1E:D4D2  85 02      			sta	_bp_bank
19089                        		__st.wmiq	64, _ax
         1E:D4D4  A9 40      			lda.l	#64
         1E:D4D6  85 F8      			sta.l	_ax
         1E:D4D8  64 F9      			stz.h	_ax
19090                        		 _sgx_load_vram.3
         1E:D4DA  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1E:D4DC  20 09 FF   			call	load_vram_x
19091                        	
19092                        		.dbg	line,	"include\init.c", 414; sgx_load_vram(COIN_1000_VRAM_ADR, tiles_SPR_COIN_1000 , TILES_4);
19093                        		__st.wmiq	27648, _di
         1E:D4DF  64 F0      			stz.l	_di
         1E:D4E1  A9 6C      			lda.h	#27648
         1E:D4E3  85 F1      			sta.h	_di
19094                        		__farptr	_tiles_SPR_COIN_1000, _bp_bank, _bp
         1E:D4E5  A9 C0      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_COIN_1000))
         1E:D4E7  85 EC      			sta.l	_bp
         1E:D4E9  A9 66      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_COIN_1000))
         1E:D4EB  85 ED      			sta.h	_bp
         1E:D4ED  A9 1A      			lda	#bank(_tiles_SPR_COIN_1000)
         1E:D4EF  85 02      			sta	_bp_bank
19095                        		__st.wmiq	64, _ax
         1E:D4F1  A9 40      			lda.l	#64
         1E:D4F3  85 F8      			sta.l	_ax
         1E:D4F5  64 F9      			stz.h	_ax
19096                        		 _sgx_load_vram.3
         1E:D4F7  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1E:D4F9  20 09 FF   			call	load_vram_x
19097                        	
19098                        		.dbg	line,	"include\init.c", 415; sgx_load_vram(STAR_VRAM_ADR, tiles_SPR_STAR , TILES_4);
19099                        		__st.wmiq	27712, _di
         1E:D4FC  A9 40      			lda.l	#27712
         1E:D4FE  85 F0      			sta.l	_di
         1E:D500  A9 6C      			lda.h	#27712
         1E:D502  85 F1      			sta.h	_di
19100                        		__farptr	_tiles_SPR_STAR, _bp_bank, _bp
         1E:D504  A9 C0      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_STAR))
         1E:D506  85 EC      			sta.l	_bp
         1E:D508  A9 6E      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_STAR))
         1E:D50A  85 ED      			sta.h	_bp
         1E:D50C  A9 1A      			lda	#bank(_tiles_SPR_STAR)
         1E:D50E  85 02      			sta	_bp_bank
19101                        		__st.wmiq	64, _ax
         1E:D510  A9 40      			lda.l	#64
         1E:D512  85 F8      			sta.l	_ax
         1E:D514  64 F9      			stz.h	_ax
19102                        		 _sgx_load_vram.3
         1E:D516  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1E:D518  20 09 FF   			call	load_vram_x
19103                        	
19104                        		.dbg	line,	"include\init.c", 416; sgx_load_vram(OCTOPUS_VRAM_ADR, tiles_SPR_OCTOPUS , TILES_4);
19105                        		__st.wmiq	27776, _di
         1E:D51B  A9 80      			lda.l	#27776
         1E:D51D  85 F0      			sta.l	_di
         1E:D51F  A9 6C      			lda.h	#27776
         1E:D521  85 F1      			sta.h	_di
19106                        		__farptr	_tiles_SPR_OCTOPUS, _bp_bank, _bp
         1E:D523  A9 C0      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_OCTOPUS))
         1E:D525  85 EC      			sta.l	_bp
         1E:D527  A9 69      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_OCTOPUS))
         1E:D529  85 ED      			sta.h	_bp
         1E:D52B  A9 1A      			lda	#bank(_tiles_SPR_OCTOPUS)
         1E:D52D  85 02      			sta	_bp_bank
19107                        		__st.wmiq	64, _ax
         1E:D52F  A9 40      			lda.l	#64
         1E:D531  85 F8      			sta.l	_ax
         1E:D533  64 F9      			stz.h	_ax
19108                        		 _sgx_load_vram.3
         1E:D535  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1E:D537  20 09 FF   			call	load_vram_x
19109                        	
19110                        		.dbg	line,	"include\init.c", 417; sgx_load_vram(FRUIT_VRAM_ADR, tiles_SPR_FRUIT , TILES_4);
19111                        		__st.wmiq	27840, _di
         1E:D53A  A9 C0      			lda.l	#27840
         1E:D53C  85 F0      			sta.l	_di
         1E:D53E  A9 6C      			lda.h	#27840
         1E:D540  85 F1      			sta.h	_di
19112                        		__farptr	_tiles_SPR_FRUIT, _bp_bank, _bp
         1E:D542  A9 40      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_FRUIT))
         1E:D544  85 EC      			sta.l	_bp
         1E:D546  A9 67      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_FRUIT))
         1E:D548  85 ED      			sta.h	_bp
         1E:D54A  A9 1A      			lda	#bank(_tiles_SPR_FRUIT)
         1E:D54C  85 02      			sta	_bp_bank
19113                        		__st.wmiq	64, _ax
         1E:D54E  A9 40      			lda.l	#64
         1E:D550  85 F8      			sta.l	_ax
         1E:D552  64 F9      			stz.h	_ax
19114                        		 _sgx_load_vram.3
         1E:D554  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1E:D556  20 09 FF   			call	load_vram_x
19115                        	
19116                        		.dbg	line,	"include\init.c", 418; sgx_load_vram(BARREL_VRAM_ADR, tiles_SPR_BARREL , TILES_4);
19117                        		__st.wmiq	27904, _di
         1E:D559  64 F0      			stz.l	_di
         1E:D55B  A9 6D      			lda.h	#27904
         1E:D55D  85 F1      			sta.h	_di
19118                        		__farptr	_tiles_SPR_BARREL, _bp_bank, _bp
         1E:D55F  A9 40      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_BARREL))
         1E:D561  85 EC      			sta.l	_bp
         1E:D563  A9 77      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_BARREL))
         1E:D565  85 ED      			sta.h	_bp
         1E:D567  A9 19      			lda	#bank(_tiles_SPR_BARREL)
         1E:D569  85 02      			sta	_bp_bank
19119                        		__st.wmiq	64, _ax
         1E:D56B  A9 40      			lda.l	#64
         1E:D56D  85 F8      			sta.l	_ax
         1E:D56F  64 F9      			stz.h	_ax
19120                        		 _sgx_load_vram.3
         1E:D571  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1E:D573  20 09 FF   			call	load_vram_x
19121                        	
19122                        		.dbg	line,	"include\init.c", 419; sgx_load_vram(HOURGLASS_VRAM_ADR, tiles_SPR_HOURGLASS , TILES_4);
19123                        		__st.wmiq	27968, _di
         1E:D576  A9 40      			lda.l	#27968
         1E:D578  85 F0      			sta.l	_di
         1E:D57A  A9 6D      			lda.h	#27968
         1E:D57C  85 F1      			sta.h	_di
19124                        		__farptr	_tiles_SPR_HOURGLASS, _bp_bank, _bp
         1E:D57E  A9 C0      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_HOURGLASS))
         1E:D580  85 EC      			sta.l	_bp
         1E:D582  A9 68      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_HOURGLASS))
         1E:D584  85 ED      			sta.h	_bp
         1E:D586  A9 1A      			lda	#bank(_tiles_SPR_HOURGLASS)
         1E:D588  85 02      			sta	_bp_bank
19125                        		__st.wmiq	64, _ax
         1E:D58A  A9 40      			lda.l	#64
         1E:D58C  85 F8      			sta.l	_ax
         1E:D58E  64 F9      			stz.h	_ax
19126                        		 _sgx_load_vram.3
         1E:D590  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1E:D592  20 09 FF   			call	load_vram_x
19127                        	
19128                        		.dbg	line,	"include\init.c", 420; sgx_load_vram(BAMBOO_VRAM_ADR, tiles_SPR_BAMBOO , TILES_4);
19129                        		__st.wmiq	28032, _di
         1E:D595  A9 80      			lda.l	#28032
         1E:D597  85 F0      			sta.l	_di
         1E:D599  A9 6D      			lda.h	#28032
         1E:D59B  85 F1      			sta.h	_di
19130                        		__farptr	_tiles_SPR_BAMBOO, _bp_bank, _bp
         1E:D59D  A9 40      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_BAMBOO))
         1E:D59F  85 EC      			sta.l	_bp
         1E:D5A1  A9 6F      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_BAMBOO))
         1E:D5A3  85 ED      			sta.h	_bp
         1E:D5A5  A9 1A      			lda	#bank(_tiles_SPR_BAMBOO)
         1E:D5A7  85 02      			sta	_bp_bank
19131                        		__st.wmiq	64, _ax
         1E:D5A9  A9 40      			lda.l	#64
         1E:D5AB  85 F8      			sta.l	_ax
         1E:D5AD  64 F9      			stz.h	_ax
19132                        		 _sgx_load_vram.3
         1E:D5AF  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1E:D5B1  20 09 FF   			call	load_vram_x
19133                        	
19134                        		.dbg	line,	"include\init.c", 421; sgx_load_vram(YASHICHI_VRAM_ADR, tiles_SPR_YASHICHI , TILES_4);
19135                        		__st.wmiq	28096, _di
         1E:D5B4  A9 C0      			lda.l	#28096
         1E:D5B6  85 F0      			sta.l	_di
         1E:D5B8  A9 6D      			lda.h	#28096
         1E:D5BA  85 F1      			sta.h	_di
19136                        		__farptr	_tiles_SPR_YASHICHI, _bp_bank, _bp
         1E:D5BC  A9 C0      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_YASHICHI))
         1E:D5BE  85 EC      			sta.l	_bp
         1E:D5C0  A9 6F      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_YASHICHI))
         1E:D5C2  85 ED      			sta.h	_bp
         1E:D5C4  A9 1A      			lda	#bank(_tiles_SPR_YASHICHI)
         1E:D5C6  85 02      			sta	_bp_bank
19137                        		__st.wmiq	64, _ax
         1E:D5C8  A9 40      			lda.l	#64
         1E:D5CA  85 F8      			sta.l	_ax
         1E:D5CC  64 F9      			stz.h	_ax
19138                        		 _sgx_load_vram.3
         1E:D5CE  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1E:D5D0  20 09 FF   			call	load_vram_x
19139                        	
19140                        		.dbg	line,	"include\init.c", 422; sgx_load_vram(ELEPHANT_VRAM_ADR, tiles_SPR_ELEPHANT , TILES_4);
19141                        		__st.wmiq	28160, _di
         1E:D5D3  64 F0      			stz.l	_di
         1E:D5D5  A9 6E      			lda.h	#28160
         1E:D5D7  85 F1      			sta.h	_di
19142                        		__farptr	_tiles_SPR_ELEPHANT, _bp_bank, _bp
         1E:D5D9  A9 40      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_ELEPHANT))
         1E:D5DB  85 EC      			sta.l	_bp
         1E:D5DD  A9 70      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_ELEPHANT))
         1E:D5DF  85 ED      			sta.h	_bp
         1E:D5E1  A9 1A      			lda	#bank(_tiles_SPR_ELEPHANT)
         1E:D5E3  85 02      			sta	_bp_bank
19143                        		__st.wmiq	64, _ax
         1E:D5E5  A9 40      			lda.l	#64
         1E:D5E7  85 F8      			sta.l	_ax
         1E:D5E9  64 F9      			stz.h	_ax
19144                        		 _sgx_load_vram.3
         1E:D5EB  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1E:D5ED  20 09 FF   			call	load_vram_x
19145                        	
19146                        		.dbg	line,	"include\init.c", 423; sgx_load_vram(DRAGONFLY_VRAM_ADR, tiles_SPR_DRAGONFLY , TILES_4);
19147                        		__st.wmiq	28224, _di
         1E:D5F0  A9 40      			lda.l	#28224
         1E:D5F2  85 F0      			sta.l	_di
         1E:D5F4  A9 6E      			lda.h	#28224
         1E:D5F6  85 F1      			sta.h	_di
19148                        		__farptr	_tiles_SPR_DRAGONFLY, _bp_bank, _bp
         1E:D5F8  A9 C0      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_DRAGONFLY))
         1E:D5FA  85 EC      			sta.l	_bp
         1E:D5FC  A9 70      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_DRAGONFLY))
         1E:D5FE  85 ED      			sta.h	_bp
         1E:D600  A9 1A      			lda	#bank(_tiles_SPR_DRAGONFLY)
         1E:D602  85 02      			sta	_bp_bank
19149                        		__st.wmiq	64, _ax
         1E:D604  A9 40      			lda.l	#64
         1E:D606  85 F8      			sta.l	_ax
         1E:D608  64 F9      			stz.h	_ax
19150                        		 _sgx_load_vram.3
         1E:D60A  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1E:D60C  20 09 FF   			call	load_vram_x
19151                        	
19152                        		.dbg	line,	"include\init.c", 424; sgx_load_vram(COW_VRAM_ADR, tiles_SPR_COW , TILES_4);
19153                        		__st.wmiq	28288, _di
         1E:D60F  A9 80      			lda.l	#28288
         1E:D611  85 F0      			sta.l	_di
         1E:D613  A9 6E      			lda.h	#28288
         1E:D615  85 F1      			sta.h	_di
19154                        		__farptr	_tiles_SPR_COW, _bp_bank, _bp
         1E:D617  A9 40      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_COW))
         1E:D619  85 EC      			sta.l	_bp
         1E:D61B  A9 71      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_COW))
         1E:D61D  85 ED      			sta.h	_bp
         1E:D61F  A9 1A      			lda	#bank(_tiles_SPR_COW)
         1E:D621  85 02      			sta	_bp_bank
19155                        		__st.wmiq	64, _ax
         1E:D623  A9 40      			lda.l	#64
         1E:D625  85 F8      			sta.l	_ax
         1E:D627  64 F9      			stz.h	_ax
19156                        		 _sgx_load_vram.3
         1E:D629  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1E:D62B  20 09 FF   			call	load_vram_x
19157                        	
19158                        		.dbg	line,	"include\init.c", 425; sgx_load_vram(MOBICHAN_VRAM_ADR, tiles_SPR_MOBICHAN , TILES_4);
19159                        		__st.wmiq	28352, _di
         1E:D62E  A9 C0      			lda.l	#28352
         1E:D630  85 F0      			sta.l	_di
         1E:D632  A9 6E      			lda.h	#28352
         1E:D634  85 F1      			sta.h	_di
19160                        		__farptr	_tiles_SPR_MOBICHAN, _bp_bank, _bp
         1E:D636  A9 C0      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_MOBICHAN))
         1E:D638  85 EC      			sta.l	_bp
         1E:D63A  A9 71      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_MOBICHAN))
         1E:D63C  85 ED      			sta.h	_bp
         1E:D63E  A9 1A      			lda	#bank(_tiles_SPR_MOBICHAN)
         1E:D640  85 02      			sta	_bp_bank
19161                        		__st.wmiq	64, _ax
         1E:D642  A9 40      			lda.l	#64
         1E:D644  85 F8      			sta.l	_ax
         1E:D646  64 F9      			stz.h	_ax
19162                        		 _sgx_load_vram.3
         1E:D648  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1E:D64A  20 09 FF   			call	load_vram_x
19163                        	
19164                        		.dbg	line,	"include\init.c", 426; }
19165    1E:D64D             	.LL921:
19166                        		__return	0
         1E:D64D  4C EF FF   			jmp	leave_proc
19167                        		.dbg	clear
19168                        		.endp
19169                        		.pceas
19170                        	
19171                        		.dbg	line,	"include\init.c", 429; void load_CHEST_TILES()
19172                        		.dbg	line,	"include\init.c", 430; {
19173                        	;***********************
19174                        	;***********************
19175                        	
19176                        		.hucc
19177    01:DFD6             		.proc		_load_CHEST_TILES
19178                        		__enter		_load_CHEST_TILES
19179                        	
19180                        		.dbg	line,	"include\init.c", 431; sgx_load_vram(CHEST_VRAM_ADR, tiles_SPR_CHEST , SIZEOF(tiles_SPR_CHEST) >> 1);
19181                        		__st.wmiq	28416, _di
         01:DFD6  64 F0      			stz.l	_di
         01:DFD8  A9 6F      			lda.h	#28416
         01:DFDA  85 F1      			sta.h	_di
19182                        		__farptr	_tiles_SPR_CHEST, _bp_bank, _bp
         01:DFDC  A9 C0      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_CHEST))
         01:DFDE  85 EC      			sta.l	_bp
         01:DFE0  A9 77      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_CHEST))
         01:DFE2  85 ED      			sta.h	_bp
         01:DFE4  A9 19      			lda	#bank(_tiles_SPR_CHEST)
         01:DFE6  85 02      			sta	_bp_bank
19183                        		__ld.wi		___sizeof__tiles_SPR_CHEST
         01:DFE8  A9 00      			lda.l	#___sizeof__tiles_SPR_CHEST
         01:DFEA  A0 0C      			ldy.h	#___sizeof__tiles_SPR_CHEST
19184                        		__lsr.wi	1
         01:DFEC  42         			say
         01:DFED  4A         			lsr	a
         01:DFEE  42         			say
         01:DFEF  6A         			ror	a
19185                        		__st.wmq	_ax
         01:DFF0  85 F8      			sta.l	_ax
         01:DFF2  84 F9      			sty.h	_ax
19186                        		 _sgx_load_vram.3
         01:DFF4  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         01:DFF6  20 09 FF   			call	load_vram_x
19187                        	
19188                        		.dbg	line,	"include\init.c", 432; }
19189    01:DFF9             	.LL922:
19190                        		__return	0
         01:DFF9  4C EF FF   			jmp	leave_proc
19191                        		.dbg	clear
19192                        		.endp
19193                        		.pceas
19194                        	
19195                        		.dbg	line,	"include\init.c", 435; void load_NPC_TILES()
19196                        		.dbg	line,	"include\init.c", 436; {
19197                        	;***********************
19198                        	;***********************
19199                        	
19200                        		.hucc
19201    1F:D5F3             		.proc		_load_NPC_TILES
19202                        		__enter		_load_NPC_TILES
19203                        	
19204                        		.dbg	line,	"include\init.c", 437; sgx_load_vram(NPC_VRAM_ADR, tiles_SPR_NPC , SIZEOF(tiles_SPR_NPC) >> 1);
19205                        		__st.wmiq	29952, _di
         1F:D5F3  64 F0      			stz.l	_di
         1F:D5F5  A9 75      			lda.h	#29952
         1F:D5F7  85 F1      			sta.h	_di
19206                        		__farptr	_tiles_SPR_NPC, _bp_bank, _bp
         1F:D5F9  A9 40      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_NPC))
         1F:D5FB  85 EC      			sta.l	_bp
         1F:D5FD  A9 76      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_NPC))
         1F:D5FF  85 ED      			sta.h	_bp
         1F:D601  A9 1A      			lda	#bank(_tiles_SPR_NPC)
         1F:D603  85 02      			sta	_bp_bank
19207                        		__ld.wi		___sizeof__tiles_SPR_NPC
         1F:D605  A9 00      			lda.l	#___sizeof__tiles_SPR_NPC
         1F:D607  A0 0C      			ldy.h	#___sizeof__tiles_SPR_NPC
19208                        		__lsr.wi	1
         1F:D609  42         			say
         1F:D60A  4A         			lsr	a
         1F:D60B  42         			say
         1F:D60C  6A         			ror	a
19209                        		__st.wmq	_ax
         1F:D60D  85 F8      			sta.l	_ax
         1F:D60F  84 F9      			sty.h	_ax
19210                        		 _sgx_load_vram.3
         1F:D611  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1F:D613  20 09 FF   			call	load_vram_x
19211                        	
19212                        		.dbg	line,	"include\init.c", 438; }
19213    1F:D616             	.LL923:
19214                        		__return	0
         1F:D616  4C EF FF   			jmp	leave_proc
19215                        		.dbg	clear
19216                        		.endp
19217                        		.pceas
19218                        	
19219                        		.dbg	line,	"include\init.c", 441; void init_OBJECT_LV1()
19220                        		.dbg	line,	"include\init.c", 442; {
19221                        	;***********************
19222                        	;***********************
19223                        	
19224                        		.hucc
19225    1F:C599             		.proc		_init_OBJECT_LV1
19226                        		__enter		_init_OBJECT_LV1
19227                        	
19228                        		.dbg	line,	"include\init.c", 443; signed char i;
19229                        	
19230                        		.dbg	line,	"include\init.c", 445; for(i=0 ; i<level_object_number ; i++)
19231                        		__st.umiq	0, __init_OBJECT_LV1_end - 1  /* i */
         1F:C599  9C 22 2C   			stz	__init_OBJECT_LV1_end - 1
19232    1F:C59C             	.LL925:
19233                        		__ld.bm		__init_OBJECT_LV1_end - 1  /* i */
         1F:C59C  AD 22 2C   			lda	__init_OBJECT_LV1_end - 1
         1F:C59F  C2         			cly
         1F:C5A0  10 01      			bpl	!+
         1F:C5A2  88         			dey
         1F:C5A3             	!:
19234                        		__slt_w.um	_level_object_number
         1F:C5A3  CD 38 23   			cmp	_level_object_number		; Subtract memory from Y:A.
         1F:C5A6  98         			tya
         1F:C5A7  E9 00      			sbc	#0
         1F:C5A9  50 02      			bvc	!+
         1F:C5AB  49 80      			eor	#$80		; -ve if Y:A < memory (signed).
         1F:C5AD  0A         	!:		asl	a
19235                        		__btrue		.LL927
         1F:C5AE  B0 08      			bcs	.LL927
19236                        		__bra		.LL928
         1F:C5B0  4C D6 C6   			bra	.LL928
19237    1F:C5B3             	.LL926:
19238                        		__inc.umq	__init_OBJECT_LV1_end - 1  /* i */
         1F:C5B3  EE 22 2C   			inc	__init_OBJECT_LV1_end - 1
19239                        		__bra		.LL925
         1F:C5B6  80 E4      			bra	.LL925
19240    1F:C5B8             	.LL927:
19241                        	
19242                        		.dbg	line,	"include\init.c", 446; {
19243                        	
19244                        		.dbg	line,	"include\init.c", 447; // SET OBJECT PROPERTIES //
19245                        	
19246                        		.dbg	line,	"include\init.c", 448; list_object_type[i] = TABLE_OBJECT_TYPE_LV1[i];
19247                        		__ldx.bmq	__init_OBJECT_LV1_end - 1  /* i */
         1F:C5B8  AE 22 2C   			ldx	__init_OBJECT_LV1_end - 1
19248                        		__ld.uax	_TABLE_OBJECT_TYPE_LV1
         1F:C5BB  BD C1 61   			lda	_TABLE_OBJECT_TYPE_LV1, x
         1F:C5BE  C2         			cly
19249                        		__ldx.bmq	__init_OBJECT_LV1_end - 1  /* i */
         1F:C5BF  AE 22 2C   			ldx	__init_OBJECT_LV1_end - 1
19250                        		__st.uaxq	_list_object_type
         1F:C5C2  9D 3A 23   			sta	_list_object_type, x
19251                        	
19252                        		.dbg	line,	"include\init.c", 449; list_object_x_pos_ref[i] = TABLE_OBJECT_X_POS_REF_LV1[i];
19253                        		__ld2x.bmq	__init_OBJECT_LV1_end - 1  /* i */
         1F:C5C5  AD 22 2C   			lda	__init_OBJECT_LV1_end - 1
         1F:C5C8  0A         			asl	a
         1F:C5C9  AA         			tax
19254                        		__ld.wax	_TABLE_OBJECT_X_POS_REF_LV1
         1F:C5CA  BD D8 61   			lda.l	_TABLE_OBJECT_X_POS_REF_LV1, x
         1F:C5CD  BC D9 61   			ldy.h	_TABLE_OBJECT_X_POS_REF_LV1, x
19255                        		__ld2x.bm	__init_OBJECT_LV1_end - 1  /* i */
         1F:C5D0  AA         			tax
         1F:C5D1  AD 22 2C   			lda	__init_OBJECT_LV1_end - 1
         1F:C5D4  0A         			asl	a
         1F:C5D5  22         			sax
19256                        		__st.waxq	_list_object_x_pos_ref
         1F:C5D6  9D 64 25   			sta.l	_list_object_x_pos_ref, x
         1F:C5D9  98         			tya
         1F:C5DA  9D 65 25   			sta.h	_list_object_x_pos_ref, x
19257                        	
19258                        		.dbg	line,	"include\init.c", 450; list_object_y_pos_ref[i] = TABLE_OBJECT_Y_POS_REF_LV1[i];
19259                        		__ld2x.bmq	__init_OBJECT_LV1_end - 1  /* i */
         1F:C5DD  AD 22 2C   			lda	__init_OBJECT_LV1_end - 1
         1F:C5E0  0A         			asl	a
         1F:C5E1  AA         			tax
19260                        		__ld.wax	_TABLE_OBJECT_Y_POS_REF_LV1
         1F:C5E2  BD 06 62   			lda.l	_TABLE_OBJECT_Y_POS_REF_LV1, x
         1F:C5E5  BC 07 62   			ldy.h	_TABLE_OBJECT_Y_POS_REF_LV1, x
19261                        		__ld2x.bm	__init_OBJECT_LV1_end - 1  /* i */
         1F:C5E8  AA         			tax
         1F:C5E9  AD 22 2C   			lda	__init_OBJECT_LV1_end - 1
         1F:C5EC  0A         			asl	a
         1F:C5ED  22         			sax
19262                        		__st.waxq	_list_object_y_pos_ref
         1F:C5EE  9D 96 25   			sta.l	_list_object_y_pos_ref, x
         1F:C5F1  98         			tya
         1F:C5F2  9D 97 25   			sta.h	_list_object_y_pos_ref, x
19263                        	
19264                        		.dbg	line,	"include\init.c", 451; list_object_x_pos[i] = -16;
19265                        		__ld2x.bmq	__init_OBJECT_LV1_end - 1  /* i */
         1F:C5F5  AD 22 2C   			lda	__init_OBJECT_LV1_end - 1
         1F:C5F8  0A         			asl	a
         1F:C5F9  AA         			tax
19266                        		__st.waxiq	-16, _list_object_x_pos
         1F:C5FA  A9 F0      			lda.l	#-16
         1F:C5FC  9D 00 25   			sta.l	_list_object_x_pos, x
         1F:C5FF  A9 FF      			lda.h	#-16
         1F:C601  9D 01 25   			sta.h	_list_object_x_pos, x
19267                        	
19268                        		.dbg	line,	"include\init.c", 452; list_object_y_pos[i] = -16;
19269                        		__ld2x.bmq	__init_OBJECT_LV1_end - 1  /* i */
         1F:C604  AD 22 2C   			lda	__init_OBJECT_LV1_end - 1
         1F:C607  0A         			asl	a
         1F:C608  AA         			tax
19270                        		__st.waxiq	-16, _list_object_y_pos
         1F:C609  A9 F0      			lda.l	#-16
         1F:C60B  9D 32 25   			sta.l	_list_object_y_pos, x
         1F:C60E  A9 FF      			lda.h	#-16
         1F:C610  9D 33 25   			sta.h	_list_object_y_pos, x
19271                        	
19272                        		.dbg	line,	"include\init.c", 453; 
19273                        	
19274                        		.dbg	line,	"include\init.c", 454; // IF THE PLAYERS ENTERS THE LEVEL FOR THE 1RST TIME //
19275                        	
19276                        		.dbg	line,	"include\init.c", 455; // ALL OBJECTS ARE ACTIVE //
19277                        	
19278                        		.dbg	line,	"include\init.c", 456; if(respawn == FALSE)
19279                        		__not.um	_respawn
         1F:C613  AD 17 23   			lda	_respawn
         1F:C616  18         			clc
         1F:C617  D0 01      			bne	!+
         1F:C619  38         			sec
         1F:C61A             	!:
19280                        		__bfalse	.LL929
         1F:C61A  90 08      			bcc	.LL929
19281                        	
19282                        		.dbg	line,	"include\init.c", 457; {
19283                        	
19284                        		.dbg	line,	"include\init.c", 458; list_object_state[i] = STATE_ACTIVE;
19285                        		__ldx.bmq	__init_OBJECT_LV1_end - 1  /* i */
         1F:C61C  AE 22 2C   			ldx	__init_OBJECT_LV1_end - 1
19286                        		__st.uaxiq	1, _list_object_state
         1F:C61F  A9 01      			lda.l	#1
         1F:C621  9D 53 23   			sta	_list_object_state, x
19287                        	
19288                        		.dbg	line,	"include\init.c", 459; }
19289                        	
19290                        		.dbg	line,	"include\init.c", 462; // SET OBJECT SPRITE //
19291                        	
19292                        		.dbg	line,	"include\init.c", 463; sgx_spr_set(i + object_start_index);
19293    1F:C624             	.LL929:
19294                        		__ld.bm		__init_OBJECT_LV1_end - 1  /* i */
         1F:C624  AD 22 2C   			lda	__init_OBJECT_LV1_end - 1
         1F:C627  C2         			cly
         1F:C628  10 01      			bpl	!+
         1F:C62A  88         			dey
         1F:C62B             	!:
19295                        		__add.um	_object_start_index
         1F:C62B  18         			clc
         1F:C62C  6D 37 23   			adc	_object_start_index
         1F:C62F  90 01      			bcc	!+
         1F:C631  C8         			iny
         1F:C632             	!:
19296                        		__call		_sgx_spr_set.1
         1F:C632  20 9E E8   			call	_sgx_spr_set.1
19297                        	
19298                        		.dbg	line,	"include\init.c", 464; sgx_spr_x(list_object_x_pos[i]);
19299                        		__ld2x.bmq	__init_OBJECT_LV1_end - 1  /* i */
         1F:C635  AD 22 2C   			lda	__init_OBJECT_LV1_end - 1
         1F:C638  0A         			asl	a
         1F:C639  AA         			tax
19300                        		__ld.wax	_list_object_x_pos
         1F:C63A  BD 00 25   			lda.l	_list_object_x_pos, x
         1F:C63D  BC 01 25   			ldy.h	_list_object_x_pos, x
19301                        		__call		_sgx_spr_x.1
         1F:C640  20 CB E8   			call	_sgx_spr_x.1
19302                        	
19303                        		.dbg	line,	"include\init.c", 465; sgx_spr_y(list_object_y_pos[i]);
19304                        		__ld2x.bmq	__init_OBJECT_LV1_end - 1  /* i */
         1F:C643  AD 22 2C   			lda	__init_OBJECT_LV1_end - 1
         1F:C646  0A         			asl	a
         1F:C647  AA         			tax
19305                        		__ld.wax	_list_object_y_pos
         1F:C648  BD 32 25   			lda.l	_list_object_y_pos, x
         1F:C64B  BC 33 25   			ldy.h	_list_object_y_pos, x
19306                        		__call		_sgx_spr_y.1
         1F:C64E  20 DA E8   			call	_sgx_spr_y.1
19307                        	
19308                        		.dbg	line,	"include\init.c", 466; sgx_spr_pri(TRUE);
19309                        		__ld.uiq	1
         1F:C651  A9 01      			lda	#1
19310                        		__call		_sgx_spr_pri.1
         1F:C653  20 1D E9   			call	_sgx_spr_pri.1
19311                        	
19312                        		.dbg	line,	"include\init.c", 469; if(list_object_type[i] == TYPE_HOURGLASS)
19313                        		__ldx.bmq	__init_OBJECT_LV1_end - 1  /* i */
         1F:C656  AE 22 2C   			ldx	__init_OBJECT_LV1_end - 1
19314                        		__not.uax	_list_object_type
         1F:C659  BD 3A 23   			lda	_list_object_type, x
         1F:C65C  18         			clc
         1F:C65D  D0 01      			bne	!+
         1F:C65F  38         			sec
         1F:C660             	!:
19315                        		__bfalse	.LL930
         1F:C660  90 1D      			bcc	.LL930
19316                        	
19317                        		.dbg	line,	"include\init.c", 470; {
19318                        	
19319                        		.dbg	line,	"include\init.c", 471; list_object_energy[i] = 0;
19320                        		__ldx.bmq	__init_OBJECT_LV1_end - 1  /* i */
         1F:C662  AE 22 2C   			ldx	__init_OBJECT_LV1_end - 1
19321                        		__st.uaxiq	0, _list_object_energy
         1F:C665  9E 6C 23   			stz	_list_object_energy, x
19322                        	
19323                        		.dbg	line,	"include\init.c", 472; sgx_spr_pal(18);
19324                        		__ld.uiq	18
         1F:C668  A9 12      			lda	#18
19325                        		__call		_sgx_spr_pal.1
         1F:C66A  20 0E E9   			call	_sgx_spr_pal.1
19326                        	
19327                        		.dbg	line,	"include\init.c", 473; sgx_spr_pattern(HOURGLASS_VRAM_ADR);
19328                        		__ld.wi		27968
         1F:C66D  A9 40      			lda.l	#27968
         1F:C66F  A0 6D      			ldy.h	#27968
19329                        		__call		_sgx_spr_pattern.1
         1F:C671  20 E7 E8   			call	_sgx_spr_pattern.1
19330                        	
19331                        		.dbg	line,	"include\init.c", 474; sgx_spr_ctrl(FLIP_MAS|SIZE_MAS, NO_FLIP|SZ_16x16);
19332                        		__st.umiq	185, _al
         1F:C674  A9 B9      			lda.l	#185
         1F:C676  85 F8      			sta	_al
19333                        		__ld.uiq	0
         1F:C678  62         			cla
19334                        		__call		_sgx_spr_ctrl.2
         1F:C679  20 FD E8   			call	_sgx_spr_ctrl.2
19335                        	
19336                        		.dbg	line,	"include\init.c", 475; }
19337                        	
19338                        		.dbg	line,	"include\init.c", 477; else if(list_object_type[i] == TYPE_POT)
19339                        		__bra		.LL931
         1F:C67C  4C B3 C5   			bra	.LL931
19340    1F:C67F             	.LL930:
19341                        		__ldx.bmq	__init_OBJECT_LV1_end - 1  /* i */
         1F:C67F  AE 22 2C   			ldx	__init_OBJECT_LV1_end - 1
19342                        		__ld.uaxq	_list_object_type
         1F:C682  BD 3A 23   			lda	_list_object_type, x
19343                        		__equ_b.uiq	1
         1F:C685  C9 01      			cmp	#1
         1F:C687  F0 01      			beq	!+
         1F:C689  18         			clc
         1F:C68A             	!:
19344                        		__bfalse	.LL932
         1F:C68A  90 1E      			bcc	.LL932
19345                        	
19346                        		.dbg	line,	"include\init.c", 478; {
19347                        	
19348                        		.dbg	line,	"include\init.c", 479; list_object_energy[i] = 2;
19349                        		__ldx.bmq	__init_OBJECT_LV1_end - 1  /* i */
         1F:C68C  AE 22 2C   			ldx	__init_OBJECT_LV1_end - 1
19350                        		__st.uaxiq	2, _list_object_energy
         1F:C68F  A9 02      			lda.l	#2
         1F:C691  9D 6C 23   			sta	_list_object_energy, x
19351                        	
19352                        		.dbg	line,	"include\init.c", 480; sgx_spr_pal(17);
19353                        		__ld.uiq	17
         1F:C694  A9 11      			lda	#17
19354                        		__call		_sgx_spr_pal.1
         1F:C696  20 0E E9   			call	_sgx_spr_pal.1
19355                        	
19356                        		.dbg	line,	"include\init.c", 481; sgx_spr_pattern(POT1_VRAM_ADR);
19357                        		__ld.wi		26624
         1F:C699  62         			cla
         1F:C69A  A0 68      			ldy.h	#26624
19358                        		__call		_sgx_spr_pattern.1
         1F:C69C  20 E7 E8   			call	_sgx_spr_pattern.1
19359                        	
19360                        		.dbg	line,	"include\init.c", 482; sgx_spr_ctrl(FLIP_MAS|SIZE_MAS, NO_FLIP|SZ_16x16);
19361                        		__st.umiq	185, _al
         1F:C69F  A9 B9      			lda.l	#185
         1F:C6A1  85 F8      			sta	_al
19362                        		__ld.uiq	0
         1F:C6A3  62         			cla
19363                        		__call		_sgx_spr_ctrl.2
         1F:C6A4  20 FD E8   			call	_sgx_spr_ctrl.2
19364                        	
19365                        		.dbg	line,	"include\init.c", 483; }
19366                        	
19367                        		.dbg	line,	"include\init.c", 485; else if(list_object_type[i] == TYPE_POW)
19368                        		__bra		.LL933
         1F:C6A7  4C B3 C5   			bra	.LL933
19369    1F:C6AA             	.LL932:
19370                        		__ldx.bmq	__init_OBJECT_LV1_end - 1  /* i */
         1F:C6AA  AE 22 2C   			ldx	__init_OBJECT_LV1_end - 1
19371                        		__ld.uaxq	_list_object_type
         1F:C6AD  BD 3A 23   			lda	_list_object_type, x
19372                        		__equ_b.uiq	2
         1F:C6B0  C9 02      			cmp	#2
         1F:C6B2  F0 01      			beq	!+
         1F:C6B4  18         			clc
         1F:C6B5             	!:
19373                        		__bfalse	.LL934
         1F:C6B5  B0 03 4C B3			bcc	.LL934
         1F:C6B9  C5          
19374                        	
19375                        		.dbg	line,	"include\init.c", 486; {
19376                        	
19377                        		.dbg	line,	"include\init.c", 487; list_object_energy[i] = 0;
19378                        		__ldx.bmq	__init_OBJECT_LV1_end - 1  /* i */
         1F:C6BA  AE 22 2C   			ldx	__init_OBJECT_LV1_end - 1
19379                        		__st.uaxiq	0, _list_object_energy
         1F:C6BD  9E 6C 23   			stz	_list_object_energy, x
19380                        	
19381                        		.dbg	line,	"include\init.c", 488; sgx_spr_pal(18);
19382                        		__ld.uiq	18
         1F:C6C0  A9 12      			lda	#18
19383                        		__call		_sgx_spr_pal.1
         1F:C6C2  20 0E E9   			call	_sgx_spr_pal.1
19384                        	
19385                        		.dbg	line,	"include\init.c", 489; sgx_spr_pattern(POW_VRAM_ADR);
19386                        		__ld.wi		27136
         1F:C6C5  62         			cla
         1F:C6C6  A0 6A      			ldy.h	#27136
19387                        		__call		_sgx_spr_pattern.1
         1F:C6C8  20 E7 E8   			call	_sgx_spr_pattern.1
19388                        	
19389                        		.dbg	line,	"include\init.c", 490; sgx_spr_ctrl(FLIP_MAS|SIZE_MAS, NO_FLIP|SZ_16x16);
19390                        		__st.umiq	185, _al
         1F:C6CB  A9 B9      			lda.l	#185
         1F:C6CD  85 F8      			sta	_al
19391                        		__ld.uiq	0
         1F:C6CF  62         			cla
19392                        		__call		_sgx_spr_ctrl.2
         1F:C6D0  20 FD E8   			call	_sgx_spr_ctrl.2
19393                        	
19394                        		.dbg	line,	"include\init.c", 491; }
19395                        	
19396                        		.dbg	line,	"include\init.c", 492; }
19397    1F:C6D3             	.LL934	.alias		.LL926
19398    1F:C6D3             	.LL933	.alias		.LL926
19399    1F:C6D3             	.LL931	.alias		.LL926
19400                        		__bra		.LL926
         1F:C6D3  4C B3 C5   			bra	.LL926
19401    1F:C6D6             	.LL928:
19402                        	
19403                        		.dbg	line,	"include\init.c", 493; }
19404    1F:C6D6             	.LL924:
19405                        		__return	0
         1F:C6D6  4C EF FF   			jmp	leave_proc
19406                        		.dbg	clear
19407                        		.endp
19408               2310     		.bss
19409    F8:2310             	__init_OBJECT_LV1_end	.alias	leaf_stack
19410               E31D     		.code
19411                        		.pceas
19412                        	
19413                        		.dbg	line,	"include\init.c", 496; void init_CHEST_LV1()
19414                        		.dbg	line,	"include\init.c", 497; {
19415                        	;***********************
19416                        	;***********************
19417                        	
19418                        		.hucc
19419    1F:CD07             		.proc		_init_CHEST_LV1
19420                        		__enter		_init_CHEST_LV1
19421                        	
19422                        		.dbg	line,	"include\init.c", 498; signed char i;
19423                        	
19424                        		.dbg	line,	"include\init.c", 500; for(i=0 ; i<level_chest_number ; i++)
19425                        		__st.umiq	0, __init_CHEST_LV1_end - 1  /* i */
         1F:CD07  9C 22 2C   			stz	__init_CHEST_LV1_end - 1
19426    1F:CD0A             	.LL936:
19427                        		__ld.bm		__init_CHEST_LV1_end - 1  /* i */
         1F:CD0A  AD 22 2C   			lda	__init_CHEST_LV1_end - 1
         1F:CD0D  C2         			cly
         1F:CD0E  10 01      			bpl	!+
         1F:CD10  88         			dey
         1F:CD11             	!:
19428                        		__slt_w.um	_level_chest_number
         1F:CD11  CD C0 23   			cmp	_level_chest_number		; Subtract memory from Y:A.
         1F:CD14  98         			tya
         1F:CD15  E9 00      			sbc	#0
         1F:CD17  50 02      			bvc	!+
         1F:CD19  49 80      			eor	#$80		; -ve if Y:A < memory (signed).
         1F:CD1B  0A         	!:		asl	a
19429                        		__btrue		.LL938
         1F:CD1C  B0 08      			bcs	.LL938
19430                        		__bra		.LL939
         1F:CD1E  4C CE CD   			bra	.LL939
19431    1F:CD21             	.LL937:
19432                        		__inc.umq	__init_CHEST_LV1_end - 1  /* i */
         1F:CD21  EE 22 2C   			inc	__init_CHEST_LV1_end - 1
19433                        		__bra		.LL936
         1F:CD24  80 E4      			bra	.LL936
19434    1F:CD26             	.LL938:
19435                        	
19436                        		.dbg	line,	"include\init.c", 501; {
19437                        	
19438                        		.dbg	line,	"include\init.c", 502; // SET CHEST PROPERTIES //
19439                        	
19440                        		.dbg	line,	"include\init.c", 503; list_chest_x_pos_ref[i] = TABLE_CHEST_X_POS_REF_LV1[i];
19441                        		__ld2x.bmq	__init_CHEST_LV1_end - 1  /* i */
         1F:CD26  AD 22 2C   			lda	__init_CHEST_LV1_end - 1
         1F:CD29  0A         			asl	a
         1F:CD2A  AA         			tax
19442                        		__ld.wax	_TABLE_CHEST_X_POS_REF_LV1
         1F:CD2B  BD 79 62   			lda.l	_TABLE_CHEST_X_POS_REF_LV1, x
         1F:CD2E  BC 7A 62   			ldy.h	_TABLE_CHEST_X_POS_REF_LV1, x
19443                        		__ld2x.bm	__init_CHEST_LV1_end - 1  /* i */
         1F:CD31  AA         			tax
         1F:CD32  AD 22 2C   			lda	__init_CHEST_LV1_end - 1
         1F:CD35  0A         			asl	a
         1F:CD36  22         			sax
19444                        		__st.waxq	_list_chest_x_pos_ref
         1F:CD37  9D E8 25   			sta.l	_list_chest_x_pos_ref, x
         1F:CD3A  98         			tya
         1F:CD3B  9D E9 25   			sta.h	_list_chest_x_pos_ref, x
19445                        	
19446                        		.dbg	line,	"include\init.c", 504; list_chest_y_pos_ref[i] = TABLE_CHEST_Y_POS_REF_LV1[i];
19447                        		__ld2x.bmq	__init_CHEST_LV1_end - 1  /* i */
         1F:CD3E  AD 22 2C   			lda	__init_CHEST_LV1_end - 1
         1F:CD41  0A         			asl	a
         1F:CD42  AA         			tax
19448                        		__ld.wax	_TABLE_CHEST_Y_POS_REF_LV1
         1F:CD43  BD 7D 62   			lda.l	_TABLE_CHEST_Y_POS_REF_LV1, x
         1F:CD46  BC 7E 62   			ldy.h	_TABLE_CHEST_Y_POS_REF_LV1, x
19449                        		__ld2x.bm	__init_CHEST_LV1_end - 1  /* i */
         1F:CD49  AA         			tax
         1F:CD4A  AD 22 2C   			lda	__init_CHEST_LV1_end - 1
         1F:CD4D  0A         			asl	a
         1F:CD4E  22         			sax
19450                        		__st.waxq	_list_chest_y_pos_ref
         1F:CD4F  9D F8 25   			sta.l	_list_chest_y_pos_ref, x
         1F:CD52  98         			tya
         1F:CD53  9D F9 25   			sta.h	_list_chest_y_pos_ref, x
19451                        	
19452                        		.dbg	line,	"include\init.c", 505; list_chest_x_pos[i] = -32;
19453                        		__ld2x.bmq	__init_CHEST_LV1_end - 1  /* i */
         1F:CD56  AD 22 2C   			lda	__init_CHEST_LV1_end - 1
         1F:CD59  0A         			asl	a
         1F:CD5A  AA         			tax
19454                        		__st.waxiq	-32, _list_chest_x_pos
         1F:CD5B  A9 E0      			lda.l	#-32
         1F:CD5D  9D C8 25   			sta.l	_list_chest_x_pos, x
         1F:CD60  A9 FF      			lda.h	#-32
         1F:CD62  9D C9 25   			sta.h	_list_chest_x_pos, x
19455                        	
19456                        		.dbg	line,	"include\init.c", 506; list_chest_y_pos[i] = -32;
19457                        		__ld2x.bmq	__init_CHEST_LV1_end - 1  /* i */
         1F:CD65  AD 22 2C   			lda	__init_CHEST_LV1_end - 1
         1F:CD68  0A         			asl	a
         1F:CD69  AA         			tax
19458                        		__st.waxiq	-32, _list_chest_y_pos
         1F:CD6A  A9 E0      			lda.l	#-32
         1F:CD6C  9D D8 25   			sta.l	_list_chest_y_pos, x
         1F:CD6F  A9 FF      			lda.h	#-32
         1F:CD71  9D D9 25   			sta.h	_list_chest_y_pos, x
19459                        	
19460                        		.dbg	line,	"include\init.c", 508; if(respawn == FALSE)
19461                        		__not.um	_respawn
         1F:CD74  AD 17 23   			lda	_respawn
         1F:CD77  18         			clc
         1F:CD78  D0 01      			bne	!+
         1F:CD7A  38         			sec
         1F:CD7B             	!:
19462                        		__bfalse	.LL940
         1F:CD7B  90 08      			bcc	.LL940
19463                        	
19464                        		.dbg	line,	"include\init.c", 509; {
19465                        	
19466                        		.dbg	line,	"include\init.c", 510; list_chest_state[i] = STATE_ACTIVE;
19467                        		__ldx.bmq	__init_CHEST_LV1_end - 1  /* i */
         1F:CD7D  AE 22 2C   			ldx	__init_CHEST_LV1_end - 1
19468                        		__st.uaxiq	1, _list_chest_state
         1F:CD80  A9 01      			lda.l	#1
         1F:CD82  9D C2 23   			sta	_list_chest_state, x
19469                        	
19470                        		.dbg	line,	"include\init.c", 511; }
19471                        	
19472                        		.dbg	line,	"include\init.c", 514; // SET CHEST SPRITE //
19473                        	
19474                        		.dbg	line,	"include\init.c", 515; sgx_spr_set(i + chest_start_index);
19475    1F:CD85             	.LL940:
19476                        		__ld.bm		__init_CHEST_LV1_end - 1  /* i */
         1F:CD85  AD 22 2C   			lda	__init_CHEST_LV1_end - 1
         1F:CD88  C2         			cly
         1F:CD89  10 01      			bpl	!+
         1F:CD8B  88         			dey
         1F:CD8C             	!:
19477                        		__add.um	_chest_start_index
         1F:CD8C  18         			clc
         1F:CD8D  6D BF 23   			adc	_chest_start_index
         1F:CD90  90 01      			bcc	!+
         1F:CD92  C8         			iny
         1F:CD93             	!:
19478                        		__call		_sgx_spr_set.1
         1F:CD93  20 9E E8   			call	_sgx_spr_set.1
19479                        	
19480                        		.dbg	line,	"include\init.c", 516; sgx_spr_x(list_chest_x_pos[i]);
19481                        		__ld2x.bmq	__init_CHEST_LV1_end - 1  /* i */
         1F:CD96  AD 22 2C   			lda	__init_CHEST_LV1_end - 1
         1F:CD99  0A         			asl	a
         1F:CD9A  AA         			tax
19482                        		__ld.wax	_list_chest_x_pos
         1F:CD9B  BD C8 25   			lda.l	_list_chest_x_pos, x
         1F:CD9E  BC C9 25   			ldy.h	_list_chest_x_pos, x
19483                        		__call		_sgx_spr_x.1
         1F:CDA1  20 CB E8   			call	_sgx_spr_x.1
19484                        	
19485                        		.dbg	line,	"include\init.c", 517; sgx_spr_y(list_chest_y_pos[i]);
19486                        		__ld2x.bmq	__init_CHEST_LV1_end - 1  /* i */
         1F:CDA4  AD 22 2C   			lda	__init_CHEST_LV1_end - 1
         1F:CDA7  0A         			asl	a
         1F:CDA8  AA         			tax
19487                        		__ld.wax	_list_chest_y_pos
         1F:CDA9  BD D8 25   			lda.l	_list_chest_y_pos, x
         1F:CDAC  BC D9 25   			ldy.h	_list_chest_y_pos, x
19488                        		__call		_sgx_spr_y.1
         1F:CDAF  20 DA E8   			call	_sgx_spr_y.1
19489                        	
19490                        		.dbg	line,	"include\init.c", 518; sgx_spr_pri(TRUE);
19491                        		__ld.uiq	1
         1F:CDB2  A9 01      			lda	#1
19492                        		__call		_sgx_spr_pri.1
         1F:CDB4  20 1D E9   			call	_sgx_spr_pri.1
19493                        	
19494                        		.dbg	line,	"include\init.c", 521; sgx_spr_pal(18);
19495                        		__ld.uiq	18
         1F:CDB7  A9 12      			lda	#18
19496                        		__call		_sgx_spr_pal.1
         1F:CDB9  20 0E E9   			call	_sgx_spr_pal.1
19497                        	
19498                        		.dbg	line,	"include\init.c", 522; sgx_spr_pattern(CHEST_VRAM_ADR);
19499                        		__ld.wi		28416
         1F:CDBC  62         			cla
         1F:CDBD  A0 6F      			ldy.h	#28416
19500                        		__call		_sgx_spr_pattern.1
         1F:CDBF  20 E7 E8   			call	_sgx_spr_pattern.1
19501                        	
19502                        		.dbg	line,	"include\init.c", 523; sgx_spr_ctrl(FLIP_MAS|SIZE_MAS, NO_FLIP|SZ_32x32);
19503                        		__st.umiq	185, _al
         1F:CDC2  A9 B9      			lda.l	#185
         1F:CDC4  85 F8      			sta	_al
19504                        		__ld.uiq	17
         1F:CDC6  A9 11      			lda	#17
19505                        		__call		_sgx_spr_ctrl.2
         1F:CDC8  20 FD E8   			call	_sgx_spr_ctrl.2
19506                        	
19507                        		.dbg	line,	"include\init.c", 524; }
19508                        		__bra		.LL937
         1F:CDCB  4C 21 CD   			bra	.LL937
19509    1F:CDCE             	.LL939:
19510                        	
19511                        		.dbg	line,	"include\init.c", 525; }
19512    1F:CDCE             	.LL935:
19513                        		__return	0
         1F:CDCE  4C EF FF   			jmp	leave_proc
19514                        		.dbg	clear
19515                        		.endp
19516               2310     		.bss
19517    F8:2310             	__init_CHEST_LV1_end	.alias	leaf_stack
19518               E31D     		.code
19519                        		.pceas
19520                        	
19521                        		.dbg	line,	"include\init.c", 528; void init_NPC_LV1()
19522                        		.dbg	line,	"include\init.c", 529; {
19523                        	;***********************
19524                        	;***********************
19525                        	
19526                        		.hucc
19527    1F:CB60             		.proc		_init_NPC_LV1
19528                        		__enter		_init_NPC_LV1
19529                        	
19530                        		.dbg	line,	"include\init.c", 530; signed char i;
19531                        	
19532                        		.dbg	line,	"include\init.c", 532; for(i=0 ; i<level_npc_number ; i++)
19533                        		__st.umiq	0, __init_NPC_LV1_end - 1  /* i */
         1F:CB60  9C 22 2C   			stz	__init_NPC_LV1_end - 1
19534    1F:CB63             	.LL942:
19535                        		__ld.bm		__init_NPC_LV1_end - 1  /* i */
         1F:CB63  AD 22 2C   			lda	__init_NPC_LV1_end - 1
         1F:CB66  C2         			cly
         1F:CB67  10 01      			bpl	!+
         1F:CB69  88         			dey
         1F:CB6A             	!:
19536                        		__slt_w.um	_level_npc_number
         1F:CB6A  CD D3 23   			cmp	_level_npc_number		; Subtract memory from Y:A.
         1F:CB6D  98         			tya
         1F:CB6E  E9 00      			sbc	#0
         1F:CB70  50 02      			bvc	!+
         1F:CB72  49 80      			eor	#$80		; -ve if Y:A < memory (signed).
         1F:CB74  0A         	!:		asl	a
19537                        		__btrue		.LL944
         1F:CB75  B0 08      			bcs	.LL944
19538                        		__bra		.LL945
         1F:CB77  4C 34 CC   			bra	.LL945
19539    1F:CB7A             	.LL943:
19540                        		__inc.umq	__init_NPC_LV1_end - 1  /* i */
         1F:CB7A  EE 22 2C   			inc	__init_NPC_LV1_end - 1
19541                        		__bra		.LL942
         1F:CB7D  80 E4      			bra	.LL942
19542    1F:CB7F             	.LL944:
19543                        	
19544                        		.dbg	line,	"include\init.c", 533; {
19545                        	
19546                        		.dbg	line,	"include\init.c", 534; // SET NPC PROPERTIES //
19547                        	
19548                        		.dbg	line,	"include\init.c", 535; list_npc_type[i] = TABLE_NPC_TYPE_LV1[i];
19549                        		__ldx.bmq	__init_NPC_LV1_end - 1  /* i */
         1F:CB7F  AE 22 2C   			ldx	__init_NPC_LV1_end - 1
19550                        		__ld.uax	_TABLE_NPC_TYPE_LV1
         1F:CB82  BD B7 61   			lda	_TABLE_NPC_TYPE_LV1, x
         1F:CB85  C2         			cly
19551                        		__ldx.bmq	__init_NPC_LV1_end - 1  /* i */
         1F:CB86  AE 22 2C   			ldx	__init_NPC_LV1_end - 1
19552                        		__st.uaxq	_list_npc_type
         1F:CB89  9D D5 23   			sta	_list_npc_type, x
19553                        	
19554                        		.dbg	line,	"include\init.c", 536; list_npc_x_pos_ref[i] = TABLE_NPC_X_POS_REF_LV1[i];
19555                        		__ld2x.bmq	__init_NPC_LV1_end - 1  /* i */
         1F:CB8C  AD 22 2C   			lda	__init_NPC_LV1_end - 1
         1F:CB8F  0A         			asl	a
         1F:CB90  AA         			tax
19556                        		__ld.wax	_TABLE_NPC_X_POS_REF_LV1
         1F:CB91  BD B9 61   			lda.l	_TABLE_NPC_X_POS_REF_LV1, x
         1F:CB94  BC BA 61   			ldy.h	_TABLE_NPC_X_POS_REF_LV1, x
19557                        		__ld2x.bm	__init_NPC_LV1_end - 1  /* i */
         1F:CB97  AA         			tax
         1F:CB98  AD 22 2C   			lda	__init_NPC_LV1_end - 1
         1F:CB9B  0A         			asl	a
         1F:CB9C  22         			sax
19558                        		__st.waxq	_list_npc_x_pos_ref
         1F:CB9D  9D 2C 26   			sta.l	_list_npc_x_pos_ref, x
         1F:CBA0  98         			tya
         1F:CBA1  9D 2D 26   			sta.h	_list_npc_x_pos_ref, x
19559                        	
19560                        		.dbg	line,	"include\init.c", 537; list_npc_y_pos_ref[i] = TABLE_NPC_Y_POS_REF_LV1[i];
19561                        		__ld2x.bmq	__init_NPC_LV1_end - 1  /* i */
         1F:CBA4  AD 22 2C   			lda	__init_NPC_LV1_end - 1
         1F:CBA7  0A         			asl	a
         1F:CBA8  AA         			tax
19562                        		__ld.wax	_TABLE_NPC_Y_POS_REF_LV1
         1F:CBA9  BD BD 61   			lda.l	_TABLE_NPC_Y_POS_REF_LV1, x
         1F:CBAC  BC BE 61   			ldy.h	_TABLE_NPC_Y_POS_REF_LV1, x
19563                        		__ld2x.bm	__init_NPC_LV1_end - 1  /* i */
         1F:CBAF  AA         			tax
         1F:CBB0  AD 22 2C   			lda	__init_NPC_LV1_end - 1
         1F:CBB3  0A         			asl	a
         1F:CBB4  22         			sax
19564                        		__st.waxq	_list_npc_y_pos_ref
         1F:CBB5  9D 3E 26   			sta.l	_list_npc_y_pos_ref, x
         1F:CBB8  98         			tya
         1F:CBB9  9D 3F 26   			sta.h	_list_npc_y_pos_ref, x
19565                        	
19566                        		.dbg	line,	"include\init.c", 538; list_npc_x_pos[i] = -32;
19567                        		__ld2x.bmq	__init_NPC_LV1_end - 1  /* i */
         1F:CBBC  AD 22 2C   			lda	__init_NPC_LV1_end - 1
         1F:CBBF  0A         			asl	a
         1F:CBC0  AA         			tax
19568                        		__st.waxiq	-32, _list_npc_x_pos
         1F:CBC1  A9 E0      			lda.l	#-32
         1F:CBC3  9D 08 26   			sta.l	_list_npc_x_pos, x
         1F:CBC6  A9 FF      			lda.h	#-32
         1F:CBC8  9D 09 26   			sta.h	_list_npc_x_pos, x
19569                        	
19570                        		.dbg	line,	"include\init.c", 539; list_npc_y_pos[i] = -32;
19571                        		__ld2x.bmq	__init_NPC_LV1_end - 1  /* i */
         1F:CBCB  AD 22 2C   			lda	__init_NPC_LV1_end - 1
         1F:CBCE  0A         			asl	a
         1F:CBCF  AA         			tax
19572                        		__st.waxiq	-32, _list_npc_y_pos
         1F:CBD0  A9 E0      			lda.l	#-32
         1F:CBD2  9D 1A 26   			sta.l	_list_npc_y_pos, x
         1F:CBD5  A9 FF      			lda.h	#-32
         1F:CBD7  9D 1B 26   			sta.h	_list_npc_y_pos, x
19573                        	
19574                        		.dbg	line,	"include\init.c", 541; if(respawn == FALSE)
19575                        		__not.um	_respawn
         1F:CBDA  AD 17 23   			lda	_respawn
         1F:CBDD  18         			clc
         1F:CBDE  D0 01      			bne	!+
         1F:CBE0  38         			sec
         1F:CBE1             	!:
19576                        		__bfalse	.LL946
         1F:CBE1  90 08      			bcc	.LL946
19577                        	
19578                        		.dbg	line,	"include\init.c", 542; {
19579                        	
19580                        		.dbg	line,	"include\init.c", 543; list_npc_state[i] = STATE_ACTIVE;
19581                        		__ldx.bmq	__init_NPC_LV1_end - 1  /* i */
         1F:CBE3  AE 22 2C   			ldx	__init_NPC_LV1_end - 1
19582                        		__st.uaxiq	1, _list_npc_state
         1F:CBE6  A9 01      			lda.l	#1
         1F:CBE8  9D DE 23   			sta	_list_npc_state, x
19583                        	
19584                        		.dbg	line,	"include\init.c", 544; }
19585                        	
19586                        		.dbg	line,	"include\init.c", 547; // SET NPC SPRITE //
19587                        	
19588                        		.dbg	line,	"include\init.c", 548; sgx_spr_set(i + npc_start_index);
19589    1F:CBEB             	.LL946:
19590                        		__ld.bm		__init_NPC_LV1_end - 1  /* i */
         1F:CBEB  AD 22 2C   			lda	__init_NPC_LV1_end - 1
         1F:CBEE  C2         			cly
         1F:CBEF  10 01      			bpl	!+
         1F:CBF1  88         			dey
         1F:CBF2             	!:
19591                        		__add.um	_npc_start_index
         1F:CBF2  18         			clc
         1F:CBF3  6D D2 23   			adc	_npc_start_index
         1F:CBF6  90 01      			bcc	!+
         1F:CBF8  C8         			iny
         1F:CBF9             	!:
19592                        		__call		_sgx_spr_set.1
         1F:CBF9  20 9E E8   			call	_sgx_spr_set.1
19593                        	
19594                        		.dbg	line,	"include\init.c", 549; sgx_spr_x(list_npc_x_pos[i]);
19595                        		__ld2x.bmq	__init_NPC_LV1_end - 1  /* i */
         1F:CBFC  AD 22 2C   			lda	__init_NPC_LV1_end - 1
         1F:CBFF  0A         			asl	a
         1F:CC00  AA         			tax
19596                        		__ld.wax	_list_npc_x_pos
         1F:CC01  BD 08 26   			lda.l	_list_npc_x_pos, x
         1F:CC04  BC 09 26   			ldy.h	_list_npc_x_pos, x
19597                        		__call		_sgx_spr_x.1
         1F:CC07  20 CB E8   			call	_sgx_spr_x.1
19598                        	
19599                        		.dbg	line,	"include\init.c", 550; sgx_spr_y(list_npc_y_pos[i]);
19600                        		__ld2x.bmq	__init_NPC_LV1_end - 1  /* i */
         1F:CC0A  AD 22 2C   			lda	__init_NPC_LV1_end - 1
         1F:CC0D  0A         			asl	a
         1F:CC0E  AA         			tax
19601                        		__ld.wax	_list_npc_y_pos
         1F:CC0F  BD 1A 26   			lda.l	_list_npc_y_pos, x
         1F:CC12  BC 1B 26   			ldy.h	_list_npc_y_pos, x
19602                        		__call		_sgx_spr_y.1
         1F:CC15  20 DA E8   			call	_sgx_spr_y.1
19603                        	
19604                        		.dbg	line,	"include\init.c", 551; sgx_spr_pri(TRUE);
19605                        		__ld.uiq	1
         1F:CC18  A9 01      			lda	#1
19606                        		__call		_sgx_spr_pri.1
         1F:CC1A  20 1D E9   			call	_sgx_spr_pri.1
19607                        	
19608                        		.dbg	line,	"include\init.c", 554; sgx_spr_pal(17);
19609                        		__ld.uiq	17
         1F:CC1D  A9 11      			lda	#17
19610                        		__call		_sgx_spr_pal.1
         1F:CC1F  20 0E E9   			call	_sgx_spr_pal.1
19611                        	
19612                        		.dbg	line,	"include\init.c", 555; sgx_spr_pattern(NPC_VRAM_ADR);
19613                        		__ld.wi		29952
         1F:CC22  62         			cla
         1F:CC23  A0 75      			ldy.h	#29952
19614                        		__call		_sgx_spr_pattern.1
         1F:CC25  20 E7 E8   			call	_sgx_spr_pattern.1
19615                        	
19616                        		.dbg	line,	"include\init.c", 556; sgx_spr_ctrl(FLIP_MAS|SIZE_MAS, NO_FLIP|SZ_32x32);
19617                        		__st.umiq	185, _al
         1F:CC28  A9 B9      			lda.l	#185
         1F:CC2A  85 F8      			sta	_al
19618                        		__ld.uiq	17
         1F:CC2C  A9 11      			lda	#17
19619                        		__call		_sgx_spr_ctrl.2
         1F:CC2E  20 FD E8   			call	_sgx_spr_ctrl.2
19620                        	
19621                        		.dbg	line,	"include\init.c", 557; }
19622                        		__bra		.LL943
         1F:CC31  4C 7A CB   			bra	.LL943
19623    1F:CC34             	.LL945:
19624                        	
19625                        		.dbg	line,	"include\init.c", 558; }
19626    1F:CC34             	.LL941:
19627                        		__return	0
         1F:CC34  4C EF FF   			jmp	leave_proc
19628                        		.dbg	clear
19629                        		.endp
19630               2310     		.bss
19631    F8:2310             	__init_NPC_LV1_end	.alias	leaf_stack
19632               E31D     		.code
19633                        		.pceas
19634                        	
19635                        		.dbg	line,	"include\init.c", 565; void init_HUD()
19636                        		.dbg	line,	"include\init.c", 566; {
19637                        	;***********************
19638                        	;***********************
19639                        	
19640                        		.hucc
19641    01:DCDD             		.proc		_init_HUD
19642                        		__enter		_init_HUD
19643                        	
19644                        		.dbg	line,	"include\init.c", 567; //**************************************************************************************//
19645                        	
19646                        		.dbg	line,	"include\init.c", 568; //                                                                                      //
19647                        	
19648                        		.dbg	line,	"include\init.c", 569; //                                        VDC 1                                         //
19649                        	
19650                        		.dbg	line,	"include\init.c", 570; //                                                                                      //
19651                        	
19652                        		.dbg	line,	"include\init.c", 571; //**************************************************************************************//
19653                        	
19654                        		.dbg	line,	"include\init.c", 573; //--------------------------------------------------------------------------------------//
19655                        	
19656                        		.dbg	line,	"include\init.c", 574; //                                      LOAD FONT                                       //
19657                        	
19658                        		.dbg	line,	"include\init.c", 575; //--------------------------------------------------------------------------------------//
19659                        	
19660                        		.dbg	line,	"include\init.c", 577; set_font_addr(0x0800);
19661                        		__ld.wi		2048
         01:DCDD  62         			cla
         01:DCDE  A0 08      			ldy.h	#2048
19662                        		__call		_set_font_addr.1
         01:DCE0  20 D9 E5   			call	_set_font_addr.1
19663                        	
19664                        		.dbg	line,	"include\init.c", 579; load_vram( 0x0800, tileset_FONT_TITLE, SIZEOF(tileset_FONT_TITLE) >> 1 );
19665                        		__st.wmiq	2048, _di
         01:DCE3  64 F0      			stz.l	_di
         01:DCE5  A9 08      			lda.h	#2048
         01:DCE7  85 F1      			sta.h	_di
19666                        		__farptr	_tileset_FONT_TITLE, _bp_bank, _bp
         01:DCE9  A9 E0      			lda.l	#$6000 + ($1FFF & (_tileset_FONT_TITLE))
         01:DCEB  85 EC      			sta.l	_bp
         01:DCED  A9 69      			lda.h	#$6000 + ($1FFF & (_tileset_FONT_TITLE))
         01:DCEF  85 ED      			sta.h	_bp
         01:DCF1  A9 12      			lda	#bank(_tileset_FONT_TITLE)
         01:DCF3  85 02      			sta	_bp_bank
19667                        		__ld.wi		___sizeof__tileset_FONT_TITLE
         01:DCF5  A9 00      			lda.l	#___sizeof__tileset_FONT_TITLE
         01:DCF7  A0 0C      			ldy.h	#___sizeof__tileset_FONT_TITLE
19668                        		__lsr.wi	1
         01:DCF9  42         			say
         01:DCFA  4A         			lsr	a
         01:DCFB  42         			say
         01:DCFC  6A         			ror	a
19669                        		__st.wmq	_ax
         01:DCFD  85 F8      			sta.l	_ax
         01:DCFF  84 F9      			sty.h	_ax
19670                        		 _load_vram.3
         01:DD01  82         			clx				; Offset to PCE VDC.
         01:DD02  20 09 FF   			call	load_vram_x
19671                        	
19672                        		.dbg	line,	"include\init.c", 581; set_font_pal(15);
19673                        		__ld.uiq	15
         01:DD05  A9 0F      			lda	#15
19674                        		__call		_set_font_pal.1
         01:DD07  20 00 E6   			call	_set_font_pal.1
19675                        	
19676                        		.dbg	line,	"include\init.c", 584; //--------------------------------------------------------------------------------------//
19677                        	
19678                        		.dbg	line,	"include\init.c", 585; //                                    LOAD TILESET                                      //
19679                        	
19680                        		.dbg	line,	"include\init.c", 586; //--------------------------------------------------------------------------------------//
19681                        	
19682                        		.dbg	line,	"include\init.c", 588; load_vram( 0x1000, tileset_HUD, SIZEOF(tileset_HUD) >> 1 );
19683                        		__st.wmiq	4096, _di
         01:DD0A  64 F0      			stz.l	_di
         01:DD0C  A9 10      			lda.h	#4096
         01:DD0E  85 F1      			sta.h	_di
19684                        		__farptr	_tileset_HUD, _bp_bank, _bp
         01:DD10  A9 A0      			lda.l	#$6000 + ($1FFF & (_tileset_HUD))
         01:DD12  85 EC      			sta.l	_bp
         01:DD14  A9 79      			lda.h	#$6000 + ($1FFF & (_tileset_HUD))
         01:DD16  85 ED      			sta.h	_bp
         01:DD18  A9 0D      			lda	#bank(_tileset_HUD)
         01:DD1A  85 02      			sta	_bp_bank
19685                        		__ld.wi		___sizeof__tileset_HUD
         01:DD1C  A9 40      			lda.l	#___sizeof__tileset_HUD
         01:DD1E  A0 06      			ldy.h	#___sizeof__tileset_HUD
19686                        		__lsr.wi	1
         01:DD20  42         			say
         01:DD21  4A         			lsr	a
         01:DD22  42         			say
         01:DD23  6A         			ror	a
19687                        		__st.wmq	_ax
         01:DD24  85 F8      			sta.l	_ax
         01:DD26  84 F9      			sty.h	_ax
19688                        		 _load_vram.3
         01:DD28  82         			clx				; Offset to PCE VDC.
         01:DD29  20 09 FF   			call	load_vram_x
19689                        	
19690                        		.dbg	line,	"include\init.c", 591; //--------------------------------------------------------------------------------------//
19691                        	
19692                        		.dbg	line,	"include\init.c", 592; //                                 LOAD LIFEBAR TILES                                   //
19693                        	
19694                        		.dbg	line,	"include\init.c", 593; //--------------------------------------------------------------------------------------//
19695                        	
19696                        		.dbg	line,	"include\init.c", 595; load_vram( LIFEBAR_1_VRAM_ADR, tileset_LIFE_RED, SIZEOF(tileset_LIFE_RED) >> 1 );
19697                        		__st.wmiq	4096, _di
         01:DD2C  64 F0      			stz.l	_di
         01:DD2E  A9 10      			lda.h	#4096
         01:DD30  85 F1      			sta.h	_di
19698                        		__farptr	_tileset_LIFE_RED, _bp_bank, _bp
         01:DD32  A9 E0      			lda.l	#$6000 + ($1FFF & (_tileset_LIFE_RED))
         01:DD34  85 EC      			sta.l	_bp
         01:DD36  A9 70      			lda.h	#$6000 + ($1FFF & (_tileset_LIFE_RED))
         01:DD38  85 ED      			sta.h	_bp
         01:DD3A  A9 07      			lda	#bank(_tileset_LIFE_RED)
         01:DD3C  85 02      			sta	_bp_bank
19699                        		__ld.wi		___sizeof__tileset_LIFE_RED
         01:DD3E  A9 40      			lda.l	#___sizeof__tileset_LIFE_RED
         01:DD40  A0 00      			ldy.h	#___sizeof__tileset_LIFE_RED
19700                        		__lsr.wi	1
         01:DD42  42         			say
         01:DD43  4A         			lsr	a
         01:DD44  42         			say
         01:DD45  6A         			ror	a
19701                        		__st.wmq	_ax
         01:DD46  85 F8      			sta.l	_ax
         01:DD48  84 F9      			sty.h	_ax
19702                        		 _load_vram.3
         01:DD4A  82         			clx				; Offset to PCE VDC.
         01:DD4B  20 09 FF   			call	load_vram_x
19703                        	
19704                        		.dbg	line,	"include\init.c", 596; load_vram( LIFEBAR_2_VRAM_ADR, tileset_LIFE_ORANGE, SIZEOF(tileset_LIFE_ORANGE) >> 1 );
19705                        		__st.wmiq	4128, _di
         01:DD4E  A9 20      			lda.l	#4128
         01:DD50  85 F0      			sta.l	_di
         01:DD52  A9 10      			lda.h	#4128
         01:DD54  85 F1      			sta.h	_di
19706                        		__farptr	_tileset_LIFE_ORANGE, _bp_bank, _bp
         01:DD56  A9 20      			lda.l	#$6000 + ($1FFF & (_tileset_LIFE_ORANGE))
         01:DD58  85 EC      			sta.l	_bp
         01:DD5A  A9 71      			lda.h	#$6000 + ($1FFF & (_tileset_LIFE_ORANGE))
         01:DD5C  85 ED      			sta.h	_bp
         01:DD5E  A9 07      			lda	#bank(_tileset_LIFE_ORANGE)
         01:DD60  85 02      			sta	_bp_bank
19707                        		__ld.wi		___sizeof__tileset_LIFE_ORANGE
         01:DD62  A9 40      			lda.l	#___sizeof__tileset_LIFE_ORANGE
         01:DD64  A0 00      			ldy.h	#___sizeof__tileset_LIFE_ORANGE
19708                        		__lsr.wi	1
         01:DD66  42         			say
         01:DD67  4A         			lsr	a
         01:DD68  42         			say
         01:DD69  6A         			ror	a
19709                        		__st.wmq	_ax
         01:DD6A  85 F8      			sta.l	_ax
         01:DD6C  84 F9      			sty.h	_ax
19710                        		 _load_vram.3
         01:DD6E  82         			clx				; Offset to PCE VDC.
         01:DD6F  20 09 FF   			call	load_vram_x
19711                        	
19712                        		.dbg	line,	"include\init.c", 597; load_vram( LIFEBAR_3_VRAM_ADR, tileset_LIFE_YELLOW, SIZEOF(tileset_LIFE_YELLOW) >> 1 );
19713                        		__st.wmiq	4160, _di
         01:DD72  A9 40      			lda.l	#4160
         01:DD74  85 F0      			sta.l	_di
         01:DD76  A9 10      			lda.h	#4160
         01:DD78  85 F1      			sta.h	_di
19714                        		__farptr	_tileset_LIFE_YELLOW, _bp_bank, _bp
         01:DD7A  A9 60      			lda.l	#$6000 + ($1FFF & (_tileset_LIFE_YELLOW))
         01:DD7C  85 EC      			sta.l	_bp
         01:DD7E  A9 71      			lda.h	#$6000 + ($1FFF & (_tileset_LIFE_YELLOW))
         01:DD80  85 ED      			sta.h	_bp
         01:DD82  A9 07      			lda	#bank(_tileset_LIFE_YELLOW)
         01:DD84  85 02      			sta	_bp_bank
19715                        		__ld.wi		___sizeof__tileset_LIFE_YELLOW
         01:DD86  A9 40      			lda.l	#___sizeof__tileset_LIFE_YELLOW
         01:DD88  A0 00      			ldy.h	#___sizeof__tileset_LIFE_YELLOW
19716                        		__lsr.wi	1
         01:DD8A  42         			say
         01:DD8B  4A         			lsr	a
         01:DD8C  42         			say
         01:DD8D  6A         			ror	a
19717                        		__st.wmq	_ax
         01:DD8E  85 F8      			sta.l	_ax
         01:DD90  84 F9      			sty.h	_ax
19718                        		 _load_vram.3
         01:DD92  82         			clx				; Offset to PCE VDC.
         01:DD93  20 09 FF   			call	load_vram_x
19719                        	
19720                        		.dbg	line,	"include\init.c", 598; load_vram( LIFEBAR_4_VRAM_ADR, tileset_LIFE_YELLOW, SIZEOF(tileset_LIFE_YELLOW) >> 1 );
19721                        		__st.wmiq	4192, _di
         01:DD96  A9 60      			lda.l	#4192
         01:DD98  85 F0      			sta.l	_di
         01:DD9A  A9 10      			lda.h	#4192
         01:DD9C  85 F1      			sta.h	_di
19722                        		__farptr	_tileset_LIFE_YELLOW, _bp_bank, _bp
         01:DD9E  A9 60      			lda.l	#$6000 + ($1FFF & (_tileset_LIFE_YELLOW))
         01:DDA0  85 EC      			sta.l	_bp
         01:DDA2  A9 71      			lda.h	#$6000 + ($1FFF & (_tileset_LIFE_YELLOW))
         01:DDA4  85 ED      			sta.h	_bp
         01:DDA6  A9 07      			lda	#bank(_tileset_LIFE_YELLOW)
         01:DDA8  85 02      			sta	_bp_bank
19723                        		__ld.wi		___sizeof__tileset_LIFE_YELLOW
         01:DDAA  A9 40      			lda.l	#___sizeof__tileset_LIFE_YELLOW
         01:DDAC  A0 00      			ldy.h	#___sizeof__tileset_LIFE_YELLOW
19724                        		__lsr.wi	1
         01:DDAE  42         			say
         01:DDAF  4A         			lsr	a
         01:DDB0  42         			say
         01:DDB1  6A         			ror	a
19725                        		__st.wmq	_ax
         01:DDB2  85 F8      			sta.l	_ax
         01:DDB4  84 F9      			sty.h	_ax
19726                        		 _load_vram.3
         01:DDB6  82         			clx				; Offset to PCE VDC.
         01:DDB7  20 09 FF   			call	load_vram_x
19727                        	
19728                        		.dbg	line,	"include\init.c", 599; load_vram( LIFEBAR_5_VRAM_ADR, tileset_LIFE_EMPTY, SIZEOF(tileset_LIFE_EMPTY) >> 1 );
19729                        		__st.wmiq	4224, _di
         01:DDBA  A9 80      			lda.l	#4224
         01:DDBC  85 F0      			sta.l	_di
         01:DDBE  A9 10      			lda.h	#4224
         01:DDC0  85 F1      			sta.h	_di
19730                        		__farptr	_tileset_LIFE_EMPTY, _bp_bank, _bp
         01:DDC2  A9 A0      			lda.l	#$6000 + ($1FFF & (_tileset_LIFE_EMPTY))
         01:DDC4  85 EC      			sta.l	_bp
         01:DDC6  A9 71      			lda.h	#$6000 + ($1FFF & (_tileset_LIFE_EMPTY))
         01:DDC8  85 ED      			sta.h	_bp
         01:DDCA  A9 07      			lda	#bank(_tileset_LIFE_EMPTY)
         01:DDCC  85 02      			sta	_bp_bank
19731                        		__ld.wi		___sizeof__tileset_LIFE_EMPTY
         01:DDCE  A9 40      			lda.l	#___sizeof__tileset_LIFE_EMPTY
         01:DDD0  A0 00      			ldy.h	#___sizeof__tileset_LIFE_EMPTY
19732                        		__lsr.wi	1
         01:DDD2  42         			say
         01:DDD3  4A         			lsr	a
         01:DDD4  42         			say
         01:DDD5  6A         			ror	a
19733                        		__st.wmq	_ax
         01:DDD6  85 F8      			sta.l	_ax
         01:DDD8  84 F9      			sty.h	_ax
19734                        		 _load_vram.3
         01:DDDA  82         			clx				; Offset to PCE VDC.
         01:DDDB  20 09 FF   			call	load_vram_x
19735                        	
19736                        		.dbg	line,	"include\init.c", 602; //--------------------------------------------------------------------------------------//
19737                        	
19738                        		.dbg	line,	"include\init.c", 603; //                               LOAD WEAPON + ARMOR TILES                              //
19739                        	
19740                        		.dbg	line,	"include\init.c", 604; //--------------------------------------------------------------------------------------//
19741                        	
19742                        		.dbg	line,	"include\init.c", 606; if(weapon_level == 1)
19743                        		__ld.umq	_weapon_level
         01:DDDE  AD 29 23   			lda	_weapon_level
19744                        		__equ_b.uiq	1
         01:DDE1  C9 01      			cmp	#1
         01:DDE3  F0 01      			beq	!+
         01:DDE5  18         			clc
         01:DDE6             	!:
19745                        		__bfalse	.LL948
         01:DDE6  90 27      			bcc	.LL948
19746                        	
19747                        		.dbg	line,	"include\init.c", 607; {
19748                        	
19749                        		.dbg	line,	"include\init.c", 608; load_vram( WEAPON_ICON_VRAM_ADR, tileset_WEAPON_1, SIZEOF(tileset_WEAPON_1) >> 1 );
19750                        		__st.wmiq	4256, _di
         01:DDE8  A9 A0      			lda.l	#4256
         01:DDEA  85 F0      			sta.l	_di
         01:DDEC  A9 10      			lda.h	#4256
         01:DDEE  85 F1      			sta.h	_di
19751                        		__farptr	_tileset_WEAPON_1, _bp_bank, _bp
         01:DDF0  A9 E0      			lda.l	#$6000 + ($1FFF & (_tileset_WEAPON_1))
         01:DDF2  85 EC      			sta.l	_bp
         01:DDF4  A9 73      			lda.h	#$6000 + ($1FFF & (_tileset_WEAPON_1))
         01:DDF6  85 ED      			sta.h	_bp
         01:DDF8  A9 07      			lda	#bank(_tileset_WEAPON_1)
         01:DDFA  85 02      			sta	_bp_bank
19752                        		__ld.wi		___sizeof__tileset_WEAPON_1
         01:DDFC  A9 80      			lda.l	#___sizeof__tileset_WEAPON_1
         01:DDFE  A0 00      			ldy.h	#___sizeof__tileset_WEAPON_1
19753                        		__lsr.wi	1
         01:DE00  42         			say
         01:DE01  4A         			lsr	a
         01:DE02  42         			say
         01:DE03  6A         			ror	a
19754                        		__st.wmq	_ax
         01:DE04  85 F8      			sta.l	_ax
         01:DE06  84 F9      			sty.h	_ax
19755                        		 _load_vram.3
         01:DE08  82         			clx				; Offset to PCE VDC.
         01:DE09  20 09 FF   			call	load_vram_x
19756                        	
19757                        		.dbg	line,	"include\init.c", 609; }
19758                        	
19759                        		.dbg	line,	"include\init.c", 611; else if(weapon_level == 2)
19760                        		__bra		.LL949
         01:DE0C  4C CE DE   			bra	.LL949
19761    01:DE0F             	.LL948:
19762                        		__ld.umq	_weapon_level
         01:DE0F  AD 29 23   			lda	_weapon_level
19763                        		__equ_b.uiq	2
         01:DE12  C9 02      			cmp	#2
         01:DE14  F0 01      			beq	!+
         01:DE16  18         			clc
         01:DE17             	!:
19764                        		__bfalse	.LL950
         01:DE17  90 27      			bcc	.LL950
19765                        	
19766                        		.dbg	line,	"include\init.c", 612; {
19767                        	
19768                        		.dbg	line,	"include\init.c", 613; load_vram( WEAPON_ICON_VRAM_ADR, tileset_WEAPON_2, SIZEOF(tileset_WEAPON_2) >> 1 );
19769                        		__st.wmiq	4256, _di
         01:DE19  A9 A0      			lda.l	#4256
         01:DE1B  85 F0      			sta.l	_di
         01:DE1D  A9 10      			lda.h	#4256
         01:DE1F  85 F1      			sta.h	_di
19770                        		__farptr	_tileset_WEAPON_2, _bp_bank, _bp
         01:DE21  A9 60      			lda.l	#$6000 + ($1FFF & (_tileset_WEAPON_2))
         01:DE23  85 EC      			sta.l	_bp
         01:DE25  A9 74      			lda.h	#$6000 + ($1FFF & (_tileset_WEAPON_2))
         01:DE27  85 ED      			sta.h	_bp
         01:DE29  A9 07      			lda	#bank(_tileset_WEAPON_2)
         01:DE2B  85 02      			sta	_bp_bank
19771                        		__ld.wi		___sizeof__tileset_WEAPON_2
         01:DE2D  A9 80      			lda.l	#___sizeof__tileset_WEAPON_2
         01:DE2F  A0 00      			ldy.h	#___sizeof__tileset_WEAPON_2
19772                        		__lsr.wi	1
         01:DE31  42         			say
         01:DE32  4A         			lsr	a
         01:DE33  42         			say
         01:DE34  6A         			ror	a
19773                        		__st.wmq	_ax
         01:DE35  85 F8      			sta.l	_ax
         01:DE37  84 F9      			sty.h	_ax
19774                        		 _load_vram.3
         01:DE39  82         			clx				; Offset to PCE VDC.
         01:DE3A  20 09 FF   			call	load_vram_x
19775                        	
19776                        		.dbg	line,	"include\init.c", 614; }
19777                        	
19778                        		.dbg	line,	"include\init.c", 616; else if(weapon_level == 3)
19779                        		__bra		.LL951
         01:DE3D  4C CE DE   			bra	.LL951
19780    01:DE40             	.LL950:
19781                        		__ld.umq	_weapon_level
         01:DE40  AD 29 23   			lda	_weapon_level
19782                        		__equ_b.uiq	3
         01:DE43  C9 03      			cmp	#3
         01:DE45  F0 01      			beq	!+
         01:DE47  18         			clc
         01:DE48             	!:
19783                        		__bfalse	.LL952
         01:DE48  90 26      			bcc	.LL952
19784                        	
19785                        		.dbg	line,	"include\init.c", 617; {
19786                        	
19787                        		.dbg	line,	"include\init.c", 618; load_vram( WEAPON_ICON_VRAM_ADR, tileset_WEAPON_4, SIZEOF(tileset_WEAPON_4) >> 1 );
19788                        		__st.wmiq	4256, _di
         01:DE4A  A9 A0      			lda.l	#4256
         01:DE4C  85 F0      			sta.l	_di
         01:DE4E  A9 10      			lda.h	#4256
         01:DE50  85 F1      			sta.h	_di
19789                        		__farptr	_tileset_WEAPON_4, _bp_bank, _bp
         01:DE52  A9 E0      			lda.l	#$6000 + ($1FFF & (_tileset_WEAPON_4))
         01:DE54  85 EC      			sta.l	_bp
         01:DE56  A9 74      			lda.h	#$6000 + ($1FFF & (_tileset_WEAPON_4))
         01:DE58  85 ED      			sta.h	_bp
         01:DE5A  A9 07      			lda	#bank(_tileset_WEAPON_4)
         01:DE5C  85 02      			sta	_bp_bank
19790                        		__ld.wi		___sizeof__tileset_WEAPON_4
         01:DE5E  A9 80      			lda.l	#___sizeof__tileset_WEAPON_4
         01:DE60  A0 00      			ldy.h	#___sizeof__tileset_WEAPON_4
19791                        		__lsr.wi	1
         01:DE62  42         			say
         01:DE63  4A         			lsr	a
         01:DE64  42         			say
         01:DE65  6A         			ror	a
19792                        		__st.wmq	_ax
         01:DE66  85 F8      			sta.l	_ax
         01:DE68  84 F9      			sty.h	_ax
19793                        		 _load_vram.3
         01:DE6A  82         			clx				; Offset to PCE VDC.
         01:DE6B  20 09 FF   			call	load_vram_x
19794                        	
19795                        		.dbg	line,	"include\init.c", 619; }
19796                        	
19797                        		.dbg	line,	"include\init.c", 621; else if(weapon_level == 4)
19798                        		__bra		.LL953
         01:DE6E  80 5E      			bra	.LL953
19799    01:DE70             	.LL952:
19800                        		__ld.umq	_weapon_level
         01:DE70  AD 29 23   			lda	_weapon_level
19801                        		__equ_b.uiq	4
         01:DE73  C9 04      			cmp	#4
         01:DE75  F0 01      			beq	!+
         01:DE77  18         			clc
         01:DE78             	!:
19802                        		__bfalse	.LL954
         01:DE78  90 26      			bcc	.LL954
19803                        	
19804                        		.dbg	line,	"include\init.c", 622; {
19805                        	
19806                        		.dbg	line,	"include\init.c", 623; load_vram( WEAPON_ICON_VRAM_ADR, tileset_WEAPON_5, SIZEOF(tileset_WEAPON_5) >> 1 );
19807                        		__st.wmiq	4256, _di
         01:DE7A  A9 A0      			lda.l	#4256
         01:DE7C  85 F0      			sta.l	_di
         01:DE7E  A9 10      			lda.h	#4256
         01:DE80  85 F1      			sta.h	_di
19808                        		__farptr	_tileset_WEAPON_5, _bp_bank, _bp
         01:DE82  A9 60      			lda.l	#$6000 + ($1FFF & (_tileset_WEAPON_5))
         01:DE84  85 EC      			sta.l	_bp
         01:DE86  A9 75      			lda.h	#$6000 + ($1FFF & (_tileset_WEAPON_5))
         01:DE88  85 ED      			sta.h	_bp
         01:DE8A  A9 07      			lda	#bank(_tileset_WEAPON_5)
         01:DE8C  85 02      			sta	_bp_bank
19809                        		__ld.wi		___sizeof__tileset_WEAPON_5
         01:DE8E  A9 80      			lda.l	#___sizeof__tileset_WEAPON_5
         01:DE90  A0 00      			ldy.h	#___sizeof__tileset_WEAPON_5
19810                        		__lsr.wi	1
         01:DE92  42         			say
         01:DE93  4A         			lsr	a
         01:DE94  42         			say
         01:DE95  6A         			ror	a
19811                        		__st.wmq	_ax
         01:DE96  85 F8      			sta.l	_ax
         01:DE98  84 F9      			sty.h	_ax
19812                        		 _load_vram.3
         01:DE9A  82         			clx				; Offset to PCE VDC.
         01:DE9B  20 09 FF   			call	load_vram_x
19813                        	
19814                        		.dbg	line,	"include\init.c", 624; }
19815                        	
19816                        		.dbg	line,	"include\init.c", 626; else if(weapon_level == 5)
19817                        		__bra		.LL955
         01:DE9E  80 2E      			bra	.LL955
19818    01:DEA0             	.LL954:
19819                        		__ld.umq	_weapon_level
         01:DEA0  AD 29 23   			lda	_weapon_level
19820                        		__equ_b.uiq	5
         01:DEA3  C9 05      			cmp	#5
         01:DEA5  F0 01      			beq	!+
         01:DEA7  18         			clc
         01:DEA8             	!:
19821                        		__bfalse	.LL956
         01:DEA8  90 24      			bcc	.LL956
19822                        	
19823                        		.dbg	line,	"include\init.c", 627; {
19824                        	
19825                        		.dbg	line,	"include\init.c", 628; load_vram( WEAPON_ICON_VRAM_ADR, tileset_WEAPON_8, SIZEOF(tileset_WEAPON_8) >> 1 );
19826                        		__st.wmiq	4256, _di
         01:DEAA  A9 A0      			lda.l	#4256
         01:DEAC  85 F0      			sta.l	_di
         01:DEAE  A9 10      			lda.h	#4256
         01:DEB0  85 F1      			sta.h	_di
19827                        		__farptr	_tileset_WEAPON_8, _bp_bank, _bp
         01:DEB2  A9 E0      			lda.l	#$6000 + ($1FFF & (_tileset_WEAPON_8))
         01:DEB4  85 EC      			sta.l	_bp
         01:DEB6  A9 75      			lda.h	#$6000 + ($1FFF & (_tileset_WEAPON_8))
         01:DEB8  85 ED      			sta.h	_bp
         01:DEBA  A9 07      			lda	#bank(_tileset_WEAPON_8)
         01:DEBC  85 02      			sta	_bp_bank
19828                        		__ld.wi		___sizeof__tileset_WEAPON_8
         01:DEBE  A9 80      			lda.l	#___sizeof__tileset_WEAPON_8
         01:DEC0  A0 00      			ldy.h	#___sizeof__tileset_WEAPON_8
19829                        		__lsr.wi	1
         01:DEC2  42         			say
         01:DEC3  4A         			lsr	a
         01:DEC4  42         			say
         01:DEC5  6A         			ror	a
19830                        		__st.wmq	_ax
         01:DEC6  85 F8      			sta.l	_ax
         01:DEC8  84 F9      			sty.h	_ax
19831                        		 _load_vram.3
         01:DECA  82         			clx				; Offset to PCE VDC.
         01:DECB  20 09 FF   			call	load_vram_x
19832                        	
19833                        		.dbg	line,	"include\init.c", 629; }
19834                        	
19835                        		.dbg	line,	"include\init.c", 634; if(armor_level == 1)
19836    01:DECE             	.LL956:
19837    01:DECE             	.LL955:
19838    01:DECE             	.LL953:
19839    01:DECE             	.LL951:
19840    01:DECE             	.LL949:
19841                        		__ld.umq	_armor_level
         01:DECE  AD 28 23   			lda	_armor_level
19842                        		__equ_b.uiq	1
         01:DED1  C9 01      			cmp	#1
         01:DED3  F0 01      			beq	!+
         01:DED5  18         			clc
         01:DED6             	!:
19843                        		__bfalse	.LL957
         01:DED6  90 27      			bcc	.LL957
19844                        	
19845                        		.dbg	line,	"include\init.c", 635; {
19846                        	
19847                        		.dbg	line,	"include\init.c", 636; load_vram( ARMOR_VRAM_ADR, tileset_ARMOR_1, SIZEOF(tileset_ARMOR_1) >> 1 );
19848                        		__st.wmiq	4320, _di
         01:DED8  A9 E0      			lda.l	#4320
         01:DEDA  85 F0      			sta.l	_di
         01:DEDC  A9 10      			lda.h	#4320
         01:DEDE  85 F1      			sta.h	_di
19849                        		__farptr	_tileset_ARMOR_1, _bp_bank, _bp
         01:DEE0  A9 E0      			lda.l	#$6000 + ($1FFF & (_tileset_ARMOR_1))
         01:DEE2  85 EC      			sta.l	_bp
         01:DEE4  A9 71      			lda.h	#$6000 + ($1FFF & (_tileset_ARMOR_1))
         01:DEE6  85 ED      			sta.h	_bp
         01:DEE8  A9 07      			lda	#bank(_tileset_ARMOR_1)
         01:DEEA  85 02      			sta	_bp_bank
19850                        		__ld.wi		___sizeof__tileset_ARMOR_1
         01:DEEC  A9 80      			lda.l	#___sizeof__tileset_ARMOR_1
         01:DEEE  A0 00      			ldy.h	#___sizeof__tileset_ARMOR_1
19851                        		__lsr.wi	1
         01:DEF0  42         			say
         01:DEF1  4A         			lsr	a
         01:DEF2  42         			say
         01:DEF3  6A         			ror	a
19852                        		__st.wmq	_ax
         01:DEF4  85 F8      			sta.l	_ax
         01:DEF6  84 F9      			sty.h	_ax
19853                        		 _load_vram.3
         01:DEF8  82         			clx				; Offset to PCE VDC.
         01:DEF9  20 09 FF   			call	load_vram_x
19854                        	
19855                        		.dbg	line,	"include\init.c", 637; }
19856                        	
19857                        		.dbg	line,	"include\init.c", 639; else if(armor_level == 2)
19858                        		__bra		.LL958
         01:DEFC  4C 8D DF   			bra	.LL958
19859    01:DEFF             	.LL957:
19860                        		__ld.umq	_armor_level
         01:DEFF  AD 28 23   			lda	_armor_level
19861                        		__equ_b.uiq	2
         01:DF02  C9 02      			cmp	#2
         01:DF04  F0 01      			beq	!+
         01:DF06  18         			clc
         01:DF07             	!:
19862                        		__bfalse	.LL959
         01:DF07  90 26      			bcc	.LL959
19863                        	
19864                        		.dbg	line,	"include\init.c", 640; {
19865                        	
19866                        		.dbg	line,	"include\init.c", 641; load_vram( ARMOR_VRAM_ADR, tileset_ARMOR_2, SIZEOF(tileset_ARMOR_2) >> 1 );
19867                        		__st.wmiq	4320, _di
         01:DF09  A9 E0      			lda.l	#4320
         01:DF0B  85 F0      			sta.l	_di
         01:DF0D  A9 10      			lda.h	#4320
         01:DF0F  85 F1      			sta.h	_di
19868                        		__farptr	_tileset_ARMOR_2, _bp_bank, _bp
         01:DF11  A9 60      			lda.l	#$6000 + ($1FFF & (_tileset_ARMOR_2))
         01:DF13  85 EC      			sta.l	_bp
         01:DF15  A9 72      			lda.h	#$6000 + ($1FFF & (_tileset_ARMOR_2))
         01:DF17  85 ED      			sta.h	_bp
         01:DF19  A9 07      			lda	#bank(_tileset_ARMOR_2)
         01:DF1B  85 02      			sta	_bp_bank
19869                        		__ld.wi		___sizeof__tileset_ARMOR_2
         01:DF1D  A9 80      			lda.l	#___sizeof__tileset_ARMOR_2
         01:DF1F  A0 00      			ldy.h	#___sizeof__tileset_ARMOR_2
19870                        		__lsr.wi	1
         01:DF21  42         			say
         01:DF22  4A         			lsr	a
         01:DF23  42         			say
         01:DF24  6A         			ror	a
19871                        		__st.wmq	_ax
         01:DF25  85 F8      			sta.l	_ax
         01:DF27  84 F9      			sty.h	_ax
19872                        		 _load_vram.3
         01:DF29  82         			clx				; Offset to PCE VDC.
         01:DF2A  20 09 FF   			call	load_vram_x
19873                        	
19874                        		.dbg	line,	"include\init.c", 642; }
19875                        	
19876                        		.dbg	line,	"include\init.c", 644; else if(armor_level == 3)
19877                        		__bra		.LL960
         01:DF2D  80 5E      			bra	.LL960
19878    01:DF2F             	.LL959:
19879                        		__ld.umq	_armor_level
         01:DF2F  AD 28 23   			lda	_armor_level
19880                        		__equ_b.uiq	3
         01:DF32  C9 03      			cmp	#3
         01:DF34  F0 01      			beq	!+
         01:DF36  18         			clc
         01:DF37             	!:
19881                        		__bfalse	.LL961
         01:DF37  90 26      			bcc	.LL961
19882                        	
19883                        		.dbg	line,	"include\init.c", 645; {
19884                        	
19885                        		.dbg	line,	"include\init.c", 646; load_vram( ARMOR_VRAM_ADR, tileset_ARMOR_4, SIZEOF(tileset_ARMOR_4) >> 1 );
19886                        		__st.wmiq	4320, _di
         01:DF39  A9 E0      			lda.l	#4320
         01:DF3B  85 F0      			sta.l	_di
         01:DF3D  A9 10      			lda.h	#4320
         01:DF3F  85 F1      			sta.h	_di
19887                        		__farptr	_tileset_ARMOR_4, _bp_bank, _bp
         01:DF41  A9 E0      			lda.l	#$6000 + ($1FFF & (_tileset_ARMOR_4))
         01:DF43  85 EC      			sta.l	_bp
         01:DF45  A9 72      			lda.h	#$6000 + ($1FFF & (_tileset_ARMOR_4))
         01:DF47  85 ED      			sta.h	_bp
         01:DF49  A9 07      			lda	#bank(_tileset_ARMOR_4)
         01:DF4B  85 02      			sta	_bp_bank
19888                        		__ld.wi		___sizeof__tileset_ARMOR_4
         01:DF4D  A9 80      			lda.l	#___sizeof__tileset_ARMOR_4
         01:DF4F  A0 00      			ldy.h	#___sizeof__tileset_ARMOR_4
19889                        		__lsr.wi	1
         01:DF51  42         			say
         01:DF52  4A         			lsr	a
         01:DF53  42         			say
         01:DF54  6A         			ror	a
19890                        		__st.wmq	_ax
         01:DF55  85 F8      			sta.l	_ax
         01:DF57  84 F9      			sty.h	_ax
19891                        		 _load_vram.3
         01:DF59  82         			clx				; Offset to PCE VDC.
         01:DF5A  20 09 FF   			call	load_vram_x
19892                        	
19893                        		.dbg	line,	"include\init.c", 647; }
19894                        	
19895                        		.dbg	line,	"include\init.c", 649; else if(armor_level == 4)
19896                        		__bra		.LL962
         01:DF5D  80 2E      			bra	.LL962
19897    01:DF5F             	.LL961:
19898                        		__ld.umq	_armor_level
         01:DF5F  AD 28 23   			lda	_armor_level
19899                        		__equ_b.uiq	4
         01:DF62  C9 04      			cmp	#4
         01:DF64  F0 01      			beq	!+
         01:DF66  18         			clc
         01:DF67             	!:
19900                        		__bfalse	.LL963
         01:DF67  90 24      			bcc	.LL963
19901                        	
19902                        		.dbg	line,	"include\init.c", 650; {
19903                        	
19904                        		.dbg	line,	"include\init.c", 651; load_vram( ARMOR_VRAM_ADR, tileset_ARMOR_8, SIZEOF(tileset_ARMOR_8) >> 1 );
19905                        		__st.wmiq	4320, _di
         01:DF69  A9 E0      			lda.l	#4320
         01:DF6B  85 F0      			sta.l	_di
         01:DF6D  A9 10      			lda.h	#4320
         01:DF6F  85 F1      			sta.h	_di
19906                        		__farptr	_tileset_ARMOR_8, _bp_bank, _bp
         01:DF71  A9 60      			lda.l	#$6000 + ($1FFF & (_tileset_ARMOR_8))
         01:DF73  85 EC      			sta.l	_bp
         01:DF75  A9 73      			lda.h	#$6000 + ($1FFF & (_tileset_ARMOR_8))
         01:DF77  85 ED      			sta.h	_bp
         01:DF79  A9 07      			lda	#bank(_tileset_ARMOR_8)
         01:DF7B  85 02      			sta	_bp_bank
19907                        		__ld.wi		___sizeof__tileset_ARMOR_8
         01:DF7D  A9 80      			lda.l	#___sizeof__tileset_ARMOR_8
         01:DF7F  A0 00      			ldy.h	#___sizeof__tileset_ARMOR_8
19908                        		__lsr.wi	1
         01:DF81  42         			say
         01:DF82  4A         			lsr	a
         01:DF83  42         			say
         01:DF84  6A         			ror	a
19909                        		__st.wmq	_ax
         01:DF85  85 F8      			sta.l	_ax
         01:DF87  84 F9      			sty.h	_ax
19910                        		 _load_vram.3
         01:DF89  82         			clx				; Offset to PCE VDC.
         01:DF8A  20 09 FF   			call	load_vram_x
19911                        	
19912                        		.dbg	line,	"include\init.c", 652; }
19913                        	
19914                        		.dbg	line,	"include\init.c", 657; //--------------------------------------------------------------------------------------//
19915                        	
19916                        		.dbg	line,	"include\init.c", 658; //                                     SET MULTIMAP                                     //
19917                        	
19918                        		.dbg	line,	"include\init.c", 659; //--------------------------------------------------------------------------------------//
19919                        	
19920                        		.dbg	line,	"include\init.c", 661; // multimap is 2 screens wide //
19921                        	
19922                        		.dbg	line,	"include\init.c", 662; set_multimap( multimap_LV1_BG_A , 5 );
19923    01:DF8D             	.LL963:
19924    01:DF8D             	.LL962:
19925    01:DF8D             	.LL960:
19926    01:DF8D             	.LL958:
19927                        		__farptr	_multimap_LV1_BG_A, vdc_scr_bank, vdc_scr_addr
         01:DF8D  A9 00      			lda.l	#$6000 + ($1FFF & (_multimap_LV1_BG_A))
         01:DF8F  8D 07 2C   			sta.l	vdc_scr_addr
         01:DF92  A9 78      			lda.h	#$6000 + ($1FFF & (_multimap_LV1_BG_A))
         01:DF94  8D 08 2C   			sta.h	vdc_scr_addr
         01:DF97  A9 0F      			lda	#bank(_multimap_LV1_BG_A)
         01:DF99  8D 09 2C   			sta	vdc_scr_bank
19928                        		__st.umiq	5, vdc_map_scrn_w
         01:DF9C  A9 05      			lda.l	#5
         01:DF9E  8D C8 26   			sta	vdc_map_scrn_w
19929                        		 _set_multimap.2
         01:DFA1  AD C0 26   			lda	vdc_bat_width
         01:DFA4  4A         			lsr	a
         01:DFA5  8D C7 26   			sta	vdc_map_line_w
19930                        	
19931                        		.dbg	line,	"include\init.c", 665; //--------------------------------------------------------------------------------------//
19932                        	
19933                        		.dbg	line,	"include\init.c", 666; //                                    DRAW TILEMAP                                      //
19934                        	
19935                        		.dbg	line,	"include\init.c", 667; //--------------------------------------------------------------------------------------//
19936                        	
19937                        		.dbg	line,	"include\init.c", 669; // The blkmap is drawn using global variables for the top-left coordinate
19938                        	
19939                        		.dbg	line,	"include\init.c", 670; // in pixels, and the draw width and height in terms of 8x8 characters.
19940                        	
19941                        		.dbg	line,	"include\init.c", 672; vdc_map_pxl_x = 0;
19942                        		__st.wmiq	0, _vdc_map_pxl_x
         01:DFA8  9C C9 26   			stz.l	_vdc_map_pxl_x
         01:DFAB  9C CA 26   			stz.h	_vdc_map_pxl_x
19943                        	
19944                        		.dbg	line,	"include\init.c", 673; vdc_map_pxl_y = 0;
19945                        		__st.wmiq	0, _vdc_map_pxl_y
         01:DFAE  9C CB 26   			stz.l	_vdc_map_pxl_y
         01:DFB1  9C CC 26   			stz.h	_vdc_map_pxl_y
19946                        	
19947                        		.dbg	line,	"include\init.c", 675; vdc_map_draw_w = 64;//32
19948                        		__st.umiq	64, _vdc_map_draw_w
         01:DFB4  A9 40      			lda.l	#64
         01:DFB6  8D C5 26   			sta	_vdc_map_draw_w
19949                        	
19950                        		.dbg	line,	"include\init.c", 676; vdc_map_draw_h = 32;//28
19951                        		__st.umiq	32, _vdc_map_draw_h
         01:DFB9  A9 20      			lda.l	#32
         01:DFBB  8D C6 26   			sta	_vdc_map_draw_h
19952                        	
19953                        		.dbg	line,	"include\init.c", 678; draw_map();
19954                        		__call		_draw_map
         01:DFBE  20 CD FE   			call	_draw_map
19955                        	
19956                        		.dbg	line,	"include\init.c", 680; display_LIFE();
19957                        		__call		_display_LIFE
         01:DFC1  20 C3 FE   			call	_display_LIFE
19958                        	
19959                        		.dbg	line,	"include\init.c", 681; display_SCORE();
19960                        		__call		_display_SCORE
         01:DFC4  20 B9 FE   			call	_display_SCORE
19961                        	
19962                        		.dbg	line,	"include\init.c", 682; display_TIME_LEVEL();
19963                        		__call		_display_TIME_LEVEL
         01:DFC7  20 AF FE   			call	_display_TIME_LEVEL
19964                        	
19965                        		.dbg	line,	"include\init.c", 683; display_KEY();
19966                        		__call		_display_KEY
         01:DFCA  20 45 FF   			call	_display_KEY
19967                        	
19968                        		.dbg	line,	"include\init.c", 684; display_POTION();
19969                        		__call		_display_POTION
         01:DFCD  20 FF FE   			call	_display_POTION
19970                        	
19971                        		.dbg	line,	"include\init.c", 685; display_ZENNY();
19972                        		__call		_display_ZENNY
         01:DFD0  20 3B FF   			call	_display_ZENNY
19973                        	
19974                        		.dbg	line,	"include\init.c", 686; }
19975    01:DFD3             	.LL947:
19976                        		__return	0
         01:DFD3  4C EF FF   			jmp	leave_proc
19977                        		.dbg	clear
19978                        		.endp
19979                        		.pceas
19980                        	
19981                        		.dbg	line,	"include\init.c", 689; void init_LEVEL()
19982                        		.dbg	line,	"include\init.c", 690; {
19983                        	;***********************
19984                        	;***********************
19985                        	
19986                        		.hucc
19987    1E:C000             		.proc		_init_LEVEL
19988                        		__enter		_init_LEVEL
19989                        	
19990                        		.dbg	line,	"include\init.c", 691; if(level_id == 1)
19991                        		__ld.umq	_level_id
         1E:C000  AD 15 23   			lda	_level_id
19992                        		__equ_b.uiq	1
         1E:C003  C9 01      			cmp	#1
         1E:C005  F0 01      			beq	!+
         1E:C007  18         			clc
         1E:C008             	!:
19993                        		__bfalse	.LL965
         1E:C008  B0 03 4C 9A			bcc	.LL965
         1E:C00C  C5          
19994                        	
19995                        		.dbg	line,	"include\init.c", 692; {
19996                        	
19997                        		.dbg	line,	"include\init.c", 693; char i;
19998                        	
19999                        		.dbg	line,	"include\init.c", 694; 
20000                        	
20001                        		.dbg	line,	"include\init.c", 695; // VSYNC //
20002                        	
20003                        		.dbg	line,	"include\init.c", 696; vsync();
20004                        		__call		_vsync
         1E:C00D  20 1D E3   			call	_vsync
20005                        	
20006                        		.dbg	line,	"include\init.c", 699; // DISABLE DISPLAY //
20007                        	
20008                        		.dbg	line,	"include\init.c", 700; disp_off();
20009                        		__call		_disp_off
         1E:C010  20 3D E4   			call	_disp_off
20010                        	
20011                        		.dbg	line,	"include\init.c", 703; // SET VDC 1 SCREEN SIZE (IN TILES) - 64x32 = 512x256 PIXELS
20012                        	
20013                        		.dbg	line,	"include\init.c", 704; set_screen_size(SCR_SIZE_64x32);
20014                        		__st.umiq	1, _al
         1E:C013  A9 01      			lda.l	#1
         1E:C015  85 F8      			sta	_al
20015                        		__call		_set_screen_size.1
         1E:C017  20 F5 FE   			call	_set_screen_size.1
20016                        	
20017                        		.dbg	line,	"include\init.c", 707; // SET VDC 2 SCREEN SIZE (IN TILES) - 64x32 = 512x256 PIXELS
20018                        	
20019                        		.dbg	line,	"include\init.c", 708; sgx_set_screen_size(SCR_SIZE_64x32);
20020                        		__st.umiq	1, _al
         1E:C01A  A9 01      			lda.l	#1
         1E:C01C  85 F8      			sta	_al
20021                        		__call		_sgx_set_screen_size.1
         1E:C01E  20 EB FE   			call	_sgx_set_screen_size.1
20022                        	
20023                        		.dbg	line,	"include\init.c", 711; // INIT SPRITE ATTRIBUTE TABLE //
20024                        	
20025                        		.dbg	line,	"include\init.c", 712; //init_satb();
20026                        	
20027                        		.dbg	line,	"include\init.c", 717; //**************************************************************************************//
20028                        	
20029                        		.dbg	line,	"include\init.c", 718; //                                                                                      //
20030                        	
20031                        		.dbg	line,	"include\init.c", 719; //                                      VARIABLES                                       //
20032                        	
20033                        		.dbg	line,	"include\init.c", 720; //                                                                                      //
20034                        	
20035                        		.dbg	line,	"include\init.c", 721; //**************************************************************************************//
20036                        	
20037                        		.dbg	line,	"include\init.c", 723; time_counter = 0;
20038                        		__st.umiq	0, _time_counter
         1E:C021  9C 34 23   			stz	_time_counter
20039                        	
20040                        		.dbg	line,	"include\init.c", 724; 
20041                        	
20042                        		.dbg	line,	"include\init.c", 725; if(respawn == RESPAWN_SHOP)
20043                        		__ld.umq	_respawn
         1E:C024  AD 17 23   			lda	_respawn
20044                        		__equ_b.uiq	2
         1E:C027  C9 02      			cmp	#2
         1E:C029  F0 01      			beq	!+
         1E:C02B  18         			clc
         1E:C02C             	!:
20045                        		__bfalse	.LL966
         1E:C02C  90 10      			bcc	.LL966
20046                        	
20047                        		.dbg	line,	"include\init.c", 726; {
20048                        	
20049                        		.dbg	line,	"include\init.c", 727; minutes = minutes_backup;
20050                        		__ld.um		_minutes_backup
         1E:C02E  AD 35 23   			lda	_minutes_backup
         1E:C031  C2         			cly
20051                        		__st.umq	_minutes
         1E:C032  8D 32 23   			sta	_minutes
20052                        	
20053                        		.dbg	line,	"include\init.c", 728; seconds = seconds_backup;
20054                        		__ld.um		_seconds_backup
         1E:C035  AD 36 23   			lda	_seconds_backup
         1E:C038  C2         			cly
20055                        		__st.umq	_seconds
         1E:C039  8D 33 23   			sta	_seconds
20056                        	
20057                        		.dbg	line,	"include\init.c", 729; }
20058                        	
20059                        		.dbg	line,	"include\init.c", 731; else
20060                        		__bra		.LL967
         1E:C03C  80 0A      			bra	.LL967
20061    1E:C03E             	.LL966:
20062                        	
20063                        		.dbg	line,	"include\init.c", 732; {
20064                        	
20065                        		.dbg	line,	"include\init.c", 733; minutes = 1;
20066                        		__st.umiq	1, _minutes
         1E:C03E  A9 01      			lda.l	#1
         1E:C040  8D 32 23   			sta	_minutes
20067                        	
20068                        		.dbg	line,	"include\init.c", 734; seconds = 59;
20069                        		__st.umiq	59, _seconds
         1E:C043  A9 3B      			lda.l	#59
         1E:C045  8D 33 23   			sta	_seconds
20070                        	
20071                        		.dbg	line,	"include\init.c", 735; }
20072    1E:C048             	.LL967:
20073                        	
20074                        		.dbg	line,	"include\init.c", 737; camera_max_y_position	= 768;
20075                        		__st.wmiq	768, _camera_max_y_position
         1E:C048  9C FA 24   			stz.l	_camera_max_y_position
         1E:C04B  A9 03      			lda.h	#768
         1E:C04D  8D FB 24   			sta.h	_camera_max_y_position
20076                        	
20077                        		.dbg	line,	"include\init.c", 738; jump_max_index			= 34;
20078                        		__st.umiq	34, _jump_max_index
         1E:C050  A9 22      			lda.l	#34
         1E:C052  8D 23 23   			sta	_jump_max_index
20079                        	
20080                        		.dbg	line,	"include\init.c", 739; score					= 0;
20081                        		__st.wmiq	0, _score
         1E:C055  9C 58 26   			stz.l	_score
         1E:C058  9C 59 26   			stz.h	_score
20082                        	
20083                        		.dbg	line,	"include\init.c", 740; level_object_number		= OBJECT_NUMBER_LV1;
20084                        		__st.umiq	23, _level_object_number
         1E:C05B  A9 17      			lda.l	#23
         1E:C05D  8D 38 23   			sta	_level_object_number
20085                        	
20086                        		.dbg	line,	"include\init.c", 741; level_chest_number		= CHEST_NUMBER_LV1;
20087                        		__st.umiq	2, _level_chest_number
         1E:C060  A9 02      			lda.l	#2
         1E:C062  8D C0 23   			sta	_level_chest_number
20088                        	
20089                        		.dbg	line,	"include\init.c", 742; level_npc_number		= NPC_NUMBER_LV1;
20090                        		__st.umiq	2, _level_npc_number
         1E:C065  A9 02      			lda.l	#2
         1E:C067  8D D3 23   			sta	_level_npc_number
20091                        	
20092                        		.dbg	line,	"include\init.c", 743; object_start_index		= OBJECT_START_INDEX_LV1;
20093                        		__st.umiq	0, _object_start_index
         1E:C06A  9C 37 23   			stz	_object_start_index
20094                        	
20095                        		.dbg	line,	"include\init.c", 744; chest_start_index		= CHEST_START_INDEX_LV1;
20096                        		__st.umiq	23, _chest_start_index
         1E:C06D  A9 17      			lda.l	#23
         1E:C06F  8D BF 23   			sta	_chest_start_index
20097                        	
20098                        		.dbg	line,	"include\init.c", 745; npc_start_index			= NPC_START_INDEX_LV1;
20099                        		__st.umiq	25, _npc_start_index
         1E:C072  A9 19      			lda.l	#25
         1E:C074  8D D2 23   			sta	_npc_start_index
20100                        	
20101                        		.dbg	line,	"include\init.c", 746; jump_ladder				= FALSE;
20102                        		__st.umiq	0, _jump_ladder
         1E:C077  9C 22 23   			stz	_jump_ladder
20103                        	
20104                        		.dbg	line,	"include\init.c", 748; //
20105                        	
20106                        		.dbg	line,	"include\init.c", 749; ptr_REWARD_TYPE     	= TABLE_REWARD_TYPE_LV1;
20107                        		__ld.wi		_TABLE_REWARD_TYPE_LV1
         1E:C07A  A9 34      			lda.l	#_TABLE_REWARD_TYPE_LV1
         1E:C07C  A0 62      			ldy.h	#_TABLE_REWARD_TYPE_LV1
20108                        		__st.wmq	_ptr_REWARD_TYPE
         1E:C07E  8D 8F 26   			sta.l	_ptr_REWARD_TYPE
         1E:C081  8C 90 26   			sty.h	_ptr_REWARD_TYPE
20109                        	
20110                        		.dbg	line,	"include\init.c", 750; ptr_REWARD_VRAM_ADR 	= TABLE_REWARD_VRAM_ADR_LV1;
20111                        		__ld.wi		_TABLE_REWARD_VRAM_ADR_LV1
         1E:C084  A9 4B      			lda.l	#_TABLE_REWARD_VRAM_ADR_LV1
         1E:C086  A0 62      			ldy.h	#_TABLE_REWARD_VRAM_ADR_LV1
20112                        		__st.wmq	_ptr_REWARD_VRAM_ADR
         1E:C088  8D 91 26   			sta.l	_ptr_REWARD_VRAM_ADR
         1E:C08B  8C 92 26   			sty.h	_ptr_REWARD_VRAM_ADR
20113                        	
20114                        		.dbg	line,	"include\init.c", 754; //**************************************************************************************//
20115                        	
20116                        		.dbg	line,	"include\init.c", 755; //                                                                                      //
20117                        	
20118                        		.dbg	line,	"include\init.c", 756; //                                        VDC 2                                         //
20119                        	
20120                        		.dbg	line,	"include\init.c", 757; //                                                                                      //
20121                        	
20122                        		.dbg	line,	"include\init.c", 758; //**************************************************************************************//
20123                        	
20124                        		.dbg	line,	"include\init.c", 760; //--------------------------------------------------------------------------------------//
20125                        	
20126                        		.dbg	line,	"include\init.c", 761; //                                    LOAD TILESET                                      //
20127                        	
20128                        		.dbg	line,	"include\init.c", 762; //--------------------------------------------------------------------------------------//
20129                        	
20130                        		.dbg	line,	"include\init.c", 764; sgx_load_vram( 0x1000, tileset_LV1_BG_B, SIZEOF(tileset_LV1_BG_B) >> 1 );
20131                        		__st.wmiq	4096, _di
         1E:C08E  64 F0      			stz.l	_di
         1E:C090  A9 10      			lda.h	#4096
         1E:C092  85 F1      			sta.h	_di
20132                        		__farptr	_tileset_LV1_BG_B, _bp_bank, _bp
         1E:C094  A9 60      			lda.l	#$6000 + ($1FFF & (_tileset_LV1_BG_B))
         1E:C096  85 EC      			sta.l	_bp
         1E:C098  A9 76      			lda.h	#$6000 + ($1FFF & (_tileset_LV1_BG_B))
         1E:C09A  85 ED      			sta.h	_bp
         1E:C09C  A9 07      			lda	#bank(_tileset_LV1_BG_B)
         1E:C09E  85 02      			sta	_bp_bank
20133                        		__ld.wi		___sizeof__tileset_LV1_BG_B
         1E:C0A0  A9 E0      			lda.l	#___sizeof__tileset_LV1_BG_B
         1E:C0A2  A0 72      			ldy.h	#___sizeof__tileset_LV1_BG_B
20134                        		__lsr.wi	1
         1E:C0A4  42         			say
         1E:C0A5  4A         			lsr	a
         1E:C0A6  42         			say
         1E:C0A7  6A         			ror	a
20135                        		__st.wmq	_ax
         1E:C0A8  85 F8      			sta.l	_ax
         1E:C0AA  84 F9      			sty.h	_ax
20136                        		 _sgx_load_vram.3
         1E:C0AC  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1E:C0AE  20 09 FF   			call	load_vram_x
20137                        	
20138                        		.dbg	line,	"include\init.c", 767; //--------------------------------------------------------------------------------------//
20139                        	
20140                        		.dbg	line,	"include\init.c", 768; //                               LOAD WALL & DOOR TILES                                 //
20141                        	
20142                        		.dbg	line,	"include\init.c", 769; //--------------------------------------------------------------------------------------//
20143                        	
20144                        		.dbg	line,	"include\init.c", 771; sgx_load_vram( LV1_WALL_VRAM_ADR, tileset_LV1_WALL, SIZEOF(tileset_LV1_WALL) >> 1 );
20145                        		__st.wmiq	4096, _di
         1E:C0B1  64 F0      			stz.l	_di
         1E:C0B3  A9 10      			lda.h	#4096
         1E:C0B5  85 F1      			sta.h	_di
20146                        		__farptr	_tileset_LV1_WALL, _bp_bank, _bp
         1E:C0B7  A9 E0      			lda.l	#$6000 + ($1FFF & (_tileset_LV1_WALL))
         1E:C0B9  85 EC      			sta.l	_bp
         1E:C0BB  A9 68      			lda.h	#$6000 + ($1FFF & (_tileset_LV1_WALL))
         1E:C0BD  85 ED      			sta.h	_bp
         1E:C0BF  A9 07      			lda	#bank(_tileset_LV1_WALL)
         1E:C0C1  85 02      			sta	_bp_bank
20147                        		__ld.wi		___sizeof__tileset_LV1_WALL
         1E:C0C3  A9 00      			lda.l	#___sizeof__tileset_LV1_WALL
         1E:C0C5  A0 02      			ldy.h	#___sizeof__tileset_LV1_WALL
20148                        		__lsr.wi	1
         1E:C0C7  42         			say
         1E:C0C8  4A         			lsr	a
         1E:C0C9  42         			say
         1E:C0CA  6A         			ror	a
20149                        		__st.wmq	_ax
         1E:C0CB  85 F8      			sta.l	_ax
         1E:C0CD  84 F9      			sty.h	_ax
20150                        		 _sgx_load_vram.3
         1E:C0CF  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1E:C0D1  20 09 FF   			call	load_vram_x
20151                        	
20152                        		.dbg	line,	"include\init.c", 772; sgx_load_vram( LV1_DOOR_VRAM_ADR, tileset_LV1_DOOR_OPEN, SIZEOF(tileset_LV1_DOOR_OPEN) >> 1 );
20153                        		__st.wmiq	4352, _di
         1E:C0D4  64 F0      			stz.l	_di
         1E:C0D6  A9 11      			lda.h	#4352
         1E:C0D8  85 F1      			sta.h	_di
20154                        		__farptr	_tileset_LV1_DOOR_OPEN, _bp_bank, _bp
         1E:C0DA  A9 E0      			lda.l	#$6000 + ($1FFF & (_tileset_LV1_DOOR_OPEN))
         1E:C0DC  85 EC      			sta.l	_bp
         1E:C0DE  A9 6A      			lda.h	#$6000 + ($1FFF & (_tileset_LV1_DOOR_OPEN))
         1E:C0E0  85 ED      			sta.h	_bp
         1E:C0E2  A9 07      			lda	#bank(_tileset_LV1_DOOR_OPEN)
         1E:C0E4  85 02      			sta	_bp_bank
20155                        		__ld.wi		___sizeof__tileset_LV1_DOOR_OPEN
         1E:C0E6  A9 00      			lda.l	#___sizeof__tileset_LV1_DOOR_OPEN
         1E:C0E8  A0 03      			ldy.h	#___sizeof__tileset_LV1_DOOR_OPEN
20156                        		__lsr.wi	1
         1E:C0EA  42         			say
         1E:C0EB  4A         			lsr	a
         1E:C0EC  42         			say
         1E:C0ED  6A         			ror	a
20157                        		__st.wmq	_ax
         1E:C0EE  85 F8      			sta.l	_ax
         1E:C0F0  84 F9      			sty.h	_ax
20158                        		 _sgx_load_vram.3
         1E:C0F2  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1E:C0F4  20 09 FF   			call	load_vram_x
20159                        	
20160                        		.dbg	line,	"include\init.c", 775; //--------------------------------------------------------------------------------------//
20161                        	
20162                        		.dbg	line,	"include\init.c", 776; //                                     SET MULTIMAP                                     //
20163                        	
20164                        		.dbg	line,	"include\init.c", 777; //--------------------------------------------------------------------------------------//
20165                        	
20166                        		.dbg	line,	"include\init.c", 779; // multimap is 5 screens wide //
20167                        	
20168                        		.dbg	line,	"include\init.c", 780; sgx_set_multimap( multimap_LV1_BG_B , 5 );
20169                        		__farptr	_multimap_LV1_BG_B, sgx_scr_bank, sgx_scr_addr
         1E:C0F7  A9 00      			lda.l	#$6000 + ($1FFF & (_multimap_LV1_BG_B))
         1E:C0F9  8D 17 2C   			sta.l	sgx_scr_addr
         1E:C0FC  A9 79      			lda.h	#$6000 + ($1FFF & (_multimap_LV1_BG_B))
         1E:C0FE  8D 18 2C   			sta.h	sgx_scr_addr
         1E:C101  A9 0D      			lda	#bank(_multimap_LV1_BG_B)
         1E:C103  8D 19 2C   			sta	sgx_scr_bank
20170                        		__st.umiq	5, sgx_map_scrn_w
         1E:C106  A9 05      			lda.l	#5
         1E:C108  8D D8 26   			sta	sgx_map_scrn_w
20171                        		 _sgx_set_multimap.2
         1E:C10B  AD D0 26   			lda	sgx_bat_width
         1E:C10E  4A         			lsr	a
         1E:C10F  8D D7 26   			sta	sgx_map_line_w
20172                        	
20173                        		.dbg	line,	"include\init.c", 783; //--------------------------------------------------------------------------------------//
20174                        	
20175                        		.dbg	line,	"include\init.c", 784; //                                    DRAW TILEMAP                                      //
20176                        	
20177                        		.dbg	line,	"include\init.c", 785; //--------------------------------------------------------------------------------------//
20178                        	
20179                        		.dbg	line,	"include\init.c", 787; // The blkmap is drawn using global variables for the top-left coordinate
20180                        	
20181                        		.dbg	line,	"include\init.c", 788; // in pixels, and the draw width and height in terms of 8x8 characters.
20182                        	
20183                        		.dbg	line,	"include\init.c", 790; if(respawn == FALSE)
20184                        		__not.um	_respawn
         1E:C112  AD 17 23   			lda	_respawn
         1E:C115  18         			clc
         1E:C116  D0 01      			bne	!+
         1E:C118  38         			sec
         1E:C119             	!:
20185                        		__bfalse	.LL968
         1E:C119  90 12      			bcc	.LL968
20186                        	
20187                        		.dbg	line,	"include\init.c", 791; {
20188                        	
20189                        		.dbg	line,	"include\init.c", 792; sgx_map_pxl_x = 96;
20190                        		__st.wmiq	96, _sgx_map_pxl_x
         1E:C11B  A9 60      			lda.l	#96
         1E:C11D  8D D9 26   			sta.l	_sgx_map_pxl_x
         1E:C120  9C DA 26   			stz.h	_sgx_map_pxl_x
20191                        	
20192                        		.dbg	line,	"include\init.c", 793; sgx_map_pxl_y = 768;
20193                        		__st.wmiq	768, _sgx_map_pxl_y
         1E:C123  9C DB 26   			stz.l	_sgx_map_pxl_y
         1E:C126  A9 03      			lda.h	#768
         1E:C128  8D DC 26   			sta.h	_sgx_map_pxl_y
20194                        	
20195                        		.dbg	line,	"include\init.c", 794; }
20196                        	
20197                        		.dbg	line,	"include\init.c", 796; else if(respawn == RESPAWN_SHOP)
20198                        		__bra		.LL969
         1E:C12B  80 22      			bra	.LL969
20199    1E:C12D             	.LL968:
20200                        		__ld.umq	_respawn
         1E:C12D  AD 17 23   			lda	_respawn
20201                        		__equ_b.uiq	2
         1E:C130  C9 02      			cmp	#2
         1E:C132  F0 01      			beq	!+
         1E:C134  18         			clc
         1E:C135             	!:
20202                        		__bfalse	.LL970
         1E:C135  90 18      			bcc	.LL970
20203                        	
20204                        		.dbg	line,	"include\init.c", 797; {
20205                        	
20206                        		.dbg	line,	"include\init.c", 798; sgx_map_pxl_x = camera_pos_x_backup;
20207                        		__ld.wm		_camera_pos_x_backup
         1E:C137  AD FC 24   			lda.l	_camera_pos_x_backup
         1E:C13A  AC FD 24   			ldy.h	_camera_pos_x_backup
20208                        		__st.wmq	_sgx_map_pxl_x
         1E:C13D  8D D9 26   			sta.l	_sgx_map_pxl_x
         1E:C140  8C DA 26   			sty.h	_sgx_map_pxl_x
20209                        	
20210                        		.dbg	line,	"include\init.c", 799; sgx_map_pxl_y = camera_pos_y_backup;
20211                        		__ld.wm		_camera_pos_y_backup
         1E:C143  AD FE 24   			lda.l	_camera_pos_y_backup
         1E:C146  AC FF 24   			ldy.h	_camera_pos_y_backup
20212                        		__st.wmq	_sgx_map_pxl_y
         1E:C149  8D DB 26   			sta.l	_sgx_map_pxl_y
         1E:C14C  8C DC 26   			sty.h	_sgx_map_pxl_y
20213                        	
20214                        		.dbg	line,	"include\init.c", 800; }
20215                        	
20216                        		.dbg	line,	"include\init.c", 803; sgx_map_draw_w = 63;
20217    1E:C14F             	.LL970:
20218    1E:C14F             	.LL969:
20219                        		__st.umiq	63, _sgx_map_draw_w
         1E:C14F  A9 3F      			lda.l	#63
         1E:C151  8D D5 26   			sta	_sgx_map_draw_w
20220                        	
20221                        		.dbg	line,	"include\init.c", 804; sgx_map_draw_h = 29;
20222                        		__st.umiq	29, _sgx_map_draw_h
         1E:C154  A9 1D      			lda.l	#29
         1E:C156  8D D6 26   			sta	_sgx_map_draw_h
20223                        	
20224                        		.dbg	line,	"include\init.c", 806; sgx_draw_map();
20225                        		__call		_sgx_draw_map
         1E:C159  20 A5 FE   			call	_sgx_draw_map
20226                        	
20227                        		.dbg	line,	"include\init.c", 811; //**************************************************************************************//
20228                        	
20229                        		.dbg	line,	"include\init.c", 812; //                                                                                      //
20230                        	
20231                        		.dbg	line,	"include\init.c", 813; //                                         HUD                                          //
20232                        	
20233                        		.dbg	line,	"include\init.c", 814; //                                                                                      //
20234                        	
20235                        		.dbg	line,	"include\init.c", 815; //**************************************************************************************//
20236                        	
20237                        		.dbg	line,	"include\init.c", 817; init_HUD();
20238                        		__call		_init_HUD
         1E:C15C  20 9B FE   			call	_init_HUD
20239                        	
20240                        		.dbg	line,	"include\init.c", 820; if(display_level_text == TRUE)
20241                        		__ld.umq	_display_level_text
         1E:C15F  AD 16 23   			lda	_display_level_text
20242                        		__equ_b.uiq	1
         1E:C162  C9 01      			cmp	#1
         1E:C164  F0 01      			beq	!+
         1E:C166  18         			clc
         1E:C167             	!:
20243                        		__bfalse	.LL971
         1E:C167  90 67      			bcc	.LL971
20244                        	
20245                        		.dbg	line,	"include\init.c", 821; {
20246                        	
20247                        		.dbg	line,	"include\init.c", 822; put_string("ROUND",13, 8);
20248                        		__ld.wi		__const1+36
         1E:C169  A9 24      			lda.l	#__const1+36
         1E:C16B  A0 60      			ldy.h	#__const1+36
20249                        		__st.wmq	_bp
         1E:C16D  85 EC      			sta.l	_bp
         1E:C16F  84 ED      			sty.h	_bp
20250                        		__st.umiq	13, _dil
         1E:C171  A9 0D      			lda.l	#13
         1E:C173  85 F0      			sta	_dil
20251                        		__st.umiq	8, _dih
         1E:C175  A9 08      			lda.l	#8
         1E:C177  85 F1      			sta	_dih
20252                        		__call		_put_string.3
         1E:C179  20 5F E6   			call	_put_string.3
20253                        	
20254                        		.dbg	line,	"include\init.c", 823; put_number(level_id,1,19,8);
20255                        		__ld.um		_level_id
         1E:C17C  AD 15 23   			lda	_level_id
         1E:C17F  C2         			cly
20256                        		__st.wmq	_bx
         1E:C180  85 FA      			sta.l	_bx
         1E:C182  84 FB      			sty.h	_bx
20257                        		__st.umiq	1, _cl
         1E:C184  A9 01      			lda.l	#1
         1E:C186  85 FC      			sta	_cl
20258                        		__st.umiq	19, _dil
         1E:C188  A9 13      			lda.l	#19
         1E:C18A  85 F0      			sta	_dil
20259                        		__st.umiq	8, _dih
         1E:C18C  A9 08      			lda.l	#8
         1E:C18E  85 F1      			sta	_dih
20260                        		__call		_put_number.4
         1E:C190  20 6D FF   			call	_put_number.4
20261                        	
20262                        		.dbg	line,	"include\init.c", 824; put_string("READY PLAYER 1",10,13);
20263                        		__ld.wi		__const1+42
         1E:C193  A9 2A      			lda.l	#__const1+42
         1E:C195  A0 60      			ldy.h	#__const1+42
20264                        		__st.wmq	_bp
         1E:C197  85 EC      			sta.l	_bp
         1E:C199  84 ED      			sty.h	_bp
20265                        		__st.umiq	10, _dil
         1E:C19B  A9 0A      			lda.l	#10
         1E:C19D  85 F0      			sta	_dil
20266                        		__st.umiq	13, _dih
         1E:C19F  A9 0D      			lda.l	#13
         1E:C1A1  85 F1      			sta	_dih
20267                        		__call		_put_string.3
         1E:C1A3  20 5F E6   			call	_put_string.3
20268                        	
20269                        		.dbg	line,	"include\init.c", 825; put_string("SAVE   LIVES",11,15);
20270                        		__ld.wi		__const1+57
         1E:C1A6  A9 39      			lda.l	#__const1+57
         1E:C1A8  A0 60      			ldy.h	#__const1+57
20271                        		__st.wmq	_bp
         1E:C1AA  85 EC      			sta.l	_bp
         1E:C1AC  84 ED      			sty.h	_bp
20272                        		__st.umiq	11, _dil
         1E:C1AE  A9 0B      			lda.l	#11
         1E:C1B0  85 F0      			sta	_dil
20273                        		__st.umiq	15, _dih
         1E:C1B2  A9 0F      			lda.l	#15
         1E:C1B4  85 F1      			sta	_dih
20274                        		__call		_put_string.3
         1E:C1B6  20 5F E6   			call	_put_string.3
20275                        	
20276                        		.dbg	line,	"include\init.c", 826; put_number(life_amount,1,16,15);
20277                        		__ld.um		_life_amount
         1E:C1B9  AD 2E 23   			lda	_life_amount
         1E:C1BC  C2         			cly
20278                        		__st.wmq	_bx
         1E:C1BD  85 FA      			sta.l	_bx
         1E:C1BF  84 FB      			sty.h	_bx
20279                        		__st.umiq	1, _cl
         1E:C1C1  A9 01      			lda.l	#1
         1E:C1C3  85 FC      			sta	_cl
20280                        		__st.umiq	16, _dil
         1E:C1C5  A9 10      			lda.l	#16
         1E:C1C7  85 F0      			sta	_dil
20281                        		__st.umiq	15, _dih
         1E:C1C9  A9 0F      			lda.l	#15
         1E:C1CB  85 F1      			sta	_dih
20282                        		__call		_put_number.4
         1E:C1CD  20 6D FF   			call	_put_number.4
20283                        	
20284                        		.dbg	line,	"include\init.c", 827; }
20285                        	
20286                        		.dbg	line,	"include\init.c", 830; 
20287                        	
20288                        		.dbg	line,	"include\init.c", 833; //**************************************************************************************//
20289                        	
20290                        		.dbg	line,	"include\init.c", 834; //                                                                                      //
20291                        	
20292                        		.dbg	line,	"include\init.c", 835; //                                  SETUP SCROLL_SPLIT                                  //
20293                        	
20294                        		.dbg	line,	"include\init.c", 836; //                                                                                      //
20295                        	
20296                        		.dbg	line,	"include\init.c", 837; //**************************************************************************************//
20297                        	
20298                        		.dbg	line,	"include\init.c", 839; //--------------------------------------------------------------------------------------//
20299                        	
20300                        		.dbg	line,	"include\init.c", 840; //                                        VDC 2                                         //
20301                        	
20302                        		.dbg	line,	"include\init.c", 841; //--------------------------------------------------------------------------------------//
20303                        	
20304                        		.dbg	line,	"include\init.c", 843; sgx_scroll_map();
20305    1E:C1D0             	.LL971:
20306                        		__call		_sgx_scroll_map
         1E:C1D0  20 63 FF   			call	_sgx_scroll_map
20307                        	
20308                        		.dbg	line,	"include\init.c", 845; sgx_scroll_split(0,   0, sgx_map_pxl_x & (BAT_SIZE_W - 1), sgx_map_pxl_y & (BAT_SIZE_H - 1), BKG_ON | SPR_ON);
20309                        		__st.umiq	0, _al
         1E:C1D3  64 F8      			stz	_al
20310                        		__st.umiq	0, _ah
         1E:C1D5  64 F9      			stz	_ah
20311                        		__ld.wm		_sgx_map_pxl_x
         1E:C1D7  AD D9 26   			lda.l	_sgx_map_pxl_x
         1E:C1DA  AC DA 26   			ldy.h	_sgx_map_pxl_x
20312                        		__and.wi	2047
         1E:C1DD  29 FF      			and.l	#2047
         1E:C1DF  42         			say
         1E:C1E0  29 07      			and.h	#2047
         1E:C1E2  42         			say
20313                        		__st.wmq	_bx
         1E:C1E3  85 FA      			sta.l	_bx
         1E:C1E5  84 FB      			sty.h	_bx
20314                        		__ld.wm		_sgx_map_pxl_y
         1E:C1E7  AD DB 26   			lda.l	_sgx_map_pxl_y
         1E:C1EA  AC DC 26   			ldy.h	_sgx_map_pxl_y
20315                        		__and.wi	255
         1E:C1ED  29 FF      			and	#255
         1E:C1EF  C2         			cly
20316                        		__st.wmq	_cx
         1E:C1F0  85 FC      			sta.l	_cx
         1E:C1F2  84 FD      			sty.h	_cx
20317                        		__st.umiq	192, _dl
         1E:C1F4  A9 C0      			lda.l	#192
         1E:C1F6  85 FE      			sta	_dl
20318                        		__call		_sgx_scroll_split.5
         1E:C1F8  20 59 FF   			call	_sgx_scroll_split.5
20319                        	
20320                        		.dbg	line,	"include\init.c", 850; //--------------------------------------------------------------------------------------//
20321                        	
20322                        		.dbg	line,	"include\init.c", 851; //                                   LOAD BG PALETTES                                   //
20323                        	
20324                        		.dbg	line,	"include\init.c", 852; //--------------------------------------------------------------------------------------//
20325                        	
20326                        		.dbg	line,	"include\init.c", 854; // LOAD ALL PALETTES AT BG PALETTE 0 //
20327                        	
20328                        		.dbg	line,	"include\init.c", 855; load_palette( 0, palette_LV1, 16 );
20329                        		__st.umiq	0, _al
         1E:C1FB  64 F8      			stz	_al
20330                        		__farptr	_palette_LV1, _bp_bank, _bp
         1E:C1FD  A9 A0      			lda.l	#$6000 + ($1FFF & (_palette_LV1))
         1E:C1FF  85 EC      			sta.l	_bp
         1E:C201  A9 78      			lda.h	#$6000 + ($1FFF & (_palette_LV1))
         1E:C203  85 ED      			sta.h	_bp
         1E:C205  A9 0F      			lda	#bank(_palette_LV1)
         1E:C207  85 02      			sta	_bp_bank
20331                        		__st.umiq	16, _ah
         1E:C209  A9 10      			lda.l	#16
         1E:C20B  85 F9      			sta	_ah
20332                        		__call		_load_palette.3
         1E:C20D  20 8B FF   			call	_load_palette.3
20333                        	
20334                        		.dbg	line,	"include\init.c", 860; //**************************************************************************************//
20335                        	
20336                        		.dbg	line,	"include\init.c", 861; //                                                                                      //
20337                        	
20338                        		.dbg	line,	"include\init.c", 862; //                                       SPRITES                                        //
20339                        	
20340                        		.dbg	line,	"include\init.c", 863; //                                                                                      //
20341                        	
20342                        		.dbg	line,	"include\init.c", 864; //**************************************************************************************//
20343                        	
20344                        		.dbg	line,	"include\init.c", 866; // HIDE DRAGON SPRITES FROM INTRO //
20345                        	
20346                        		.dbg	line,	"include\init.c", 867; for(i=0 ; i<8 ; i++)
20347                        		__st.umiq	0, __init_LEVEL_end - 1  /* i */
         1E:C210  9C 10 23   			stz	__init_LEVEL_end - 1
20348    1E:C213             	.LL972:
20349                        		__ld.umq	__init_LEVEL_end - 1  /* i */
         1E:C213  AD 10 23   			lda	__init_LEVEL_end - 1
20350                        		__ult_b.uiq	8
         1E:C216  C9 08      			cmp	#8		; Subtract integer from A.
         1E:C218  6A         			ror	a		; CC if A < integer.
         1E:C219  49 80      			eor	#$80
         1E:C21B  2A         			rol	a
20351                        		__btrue		.LL974
         1E:C21C  B0 07      			bcs	.LL974
20352                        		__bra		.LL975
         1E:C21E  80 10      			bra	.LL975
20353    1E:C220             	.LL973:
20354                        		__inc.umq	__init_LEVEL_end - 1  /* i */
         1E:C220  EE 10 23   			inc	__init_LEVEL_end - 1
20355                        		__bra		.LL972
         1E:C223  80 EE      			bra	.LL972
20356    1E:C225             	.LL974:
20357                        	
20358                        		.dbg	line,	"include\init.c", 868; {
20359                        	
20360                        		.dbg	line,	"include\init.c", 869; sgx_spr_set(i);
20361                        		__ld.umq	__init_LEVEL_end - 1  /* i */
         1E:C225  AD 10 23   			lda	__init_LEVEL_end - 1
20362                        		__call		_sgx_spr_set.1
         1E:C228  20 9E E8   			call	_sgx_spr_set.1
20363                        	
20364                        		.dbg	line,	"include\init.c", 870; sgx_spr_hide();
20365                        		__call		_sgx_spr_hide
         1E:C22B  20 B9 E8   			call	_sgx_spr_hide
20366                        	
20367                        		.dbg	line,	"include\init.c", 871; }
20368                        		__bra		.LL973
         1E:C22E  80 F0      			bra	.LL973
20369    1E:C230             	.LL975:
20370                        	
20371                        		.dbg	line,	"include\init.c", 873; //--------------------------------------------------------------------------------------//
20372                        	
20373                        		.dbg	line,	"include\init.c", 874; //                                        PLAYER                                        //
20374                        	
20375                        		.dbg	line,	"include\init.c", 875; //--------------------------------------------------------------------------------------//
20376                        	
20377                        		.dbg	line,	"include\init.c", 877; // LOAD ALL PLAYER TILES //
20378                        	
20379                        		.dbg	line,	"include\init.c", 878; set_far_base(TABLE_PLAYER_TILES_BANK[player_naked],TABLE_PLAYER_TILES_ADR[player_naked]);
20380                        		__ldx.umq	_player_naked
         1E:C230  AE 20 23   			ldx	_player_naked
20381                        		__ld.uax	_TABLE_PLAYER_TILES_BANK
         1E:C233  BD 85 62   			lda	_TABLE_PLAYER_TILES_BANK, x
         1E:C236  C2         			cly
20382                        		__st.umq	_bp_bank
         1E:C237  85 02      			sta	_bp_bank
20383                        		__ld2x.umq	_player_naked
         1E:C239  AD 20 23   			lda	_player_naked
         1E:C23C  0A         			asl	a
         1E:C23D  AA         			tax
20384                        		__ld.wax	_TABLE_PLAYER_TILES_ADR
         1E:C23E  BD 81 62   			lda.l	_TABLE_PLAYER_TILES_ADR, x
         1E:C241  BC 82 62   			ldy.h	_TABLE_PLAYER_TILES_ADR, x
20385                        		__st.wmq	_bp
         1E:C244  85 EC      			sta.l	_bp
         1E:C246  84 ED      			sty.h	_bp
20386                        	
20387                        		.dbg	line,	"include\init.c", 879; far_load_vram(PLAYER_VRAM_ADR,TILES_400);
20388                        		__st.wmiq	5120, _di
         1E:C248  64 F0      			stz.l	_di
         1E:C24A  A9 14      			lda.h	#5120
         1E:C24C  85 F1      			sta.h	_di
20389                        		__st.wmiq	6400, _ax
         1E:C24E  64 F8      			stz.l	_ax
         1E:C250  A9 19      			lda.h	#6400
         1E:C252  85 F9      			sta.h	_ax
20390                        		 _far_load_vram.2
         1E:C254  82         			clx				; Offset to PCE VDC.
         1E:C255  20 09 FF   			call	load_vram_x
20391                        	
20392                        		.dbg	line,	"include\init.c", 882; // SELECT PLAYER CORE SPRITE //
20393                        	
20394                        		.dbg	line,	"include\init.c", 883; spr_set(player_id); // PLAYER_START_INDEX
20395                        		__ld.umq	_player_id
         1E:C258  AD 18 23   			lda	_player_id
20396                        		__call		_spr_set.1
         1E:C25B  20 F1 E7   			call	_spr_set.1
20397                        	
20398                        		.dbg	line,	"include\init.c", 886; player_pos_x = 112;
20399                        		__st.wmiq	112, _player_pos_x
         1E:C25E  A9 70      			lda.l	#112
         1E:C260  8D F6 24   			sta.l	_player_pos_x
         1E:C263  9C F7 24   			stz.h	_player_pos_x
20400                        	
20401                        		.dbg	line,	"include\init.c", 887; player_pos_y = PLAYER_BASE_Y_POS;
20402                        		__st.wmiq	128, _player_pos_y
         1E:C266  A9 80      			lda.l	#128
         1E:C268  8D F8 24   			sta.l	_player_pos_y
         1E:C26B  9C F9 24   			stz.h	_player_pos_y
20403                        	
20404                        		.dbg	line,	"include\init.c", 890; spr_x(player_pos_x);
20405                        		__ld.wm		_player_pos_x
         1E:C26E  AD F6 24   			lda.l	_player_pos_x
         1E:C271  AC F7 24   			ldy.h	_player_pos_x
20406                        		__call		_spr_x.1
         1E:C274  20 1E E8   			call	_spr_x.1
20407                        	
20408                        		.dbg	line,	"include\init.c", 891; spr_y(player_pos_y);
20409                        		__ld.wm		_player_pos_y
         1E:C277  AD F8 24   			lda.l	_player_pos_y
         1E:C27A  AC F9 24   			ldy.h	_player_pos_y
20410                        		__call		_spr_y.1
         1E:C27D  20 2D E8   			call	_spr_y.1
20411                        	
20412                        		.dbg	line,	"include\init.c", 893; // SET TILES DATA FOR THE PLAYER //
20413                        	
20414                        		.dbg	line,	"include\init.c", 894; spr_pattern(PLAYER_VRAM_ADR);
20415                        		__ld.wi		5120
         1E:C280  62         			cla
         1E:C281  A0 14      			ldy.h	#5120
20416                        		__call		_spr_pattern.1
         1E:C283  20 3A E8   			call	_spr_pattern.1
20417                        	
20418                        		.dbg	line,	"include\init.c", 896; // SET SPRITE FLIP //
20419                        	
20420                        		.dbg	line,	"include\init.c", 897; spr_ctrl(FLIP_MAS|SIZE_MAS, NO_FLIP|SZ_32x32);
20421                        		__st.umiq	185, _al
         1E:C286  A9 B9      			lda.l	#185
         1E:C288  85 F8      			sta	_al
20422                        		__ld.uiq	17
         1E:C28A  A9 11      			lda	#17
20423                        		__call		_spr_ctrl.2
         1E:C28C  20 50 E8   			call	_spr_ctrl.2
20424                        	
20425                        		.dbg	line,	"include\init.c", 899; 
20426                        	
20427                        		.dbg	line,	"include\init.c", 902; spr_pal(0);
20428                        		__ld.uiq	0
         1E:C28F  62         			cla
20429                        		__call		_spr_pal.1
         1E:C290  20 61 E8   			call	_spr_pal.1
20430                        	
20431                        		.dbg	line,	"include\init.c", 903; spr_pri(TRUE);
20432                        		__ld.uiq	1
         1E:C293  A9 01      			lda	#1
20433                        		__call		_spr_pri.1
         1E:C295  20 70 E8   			call	_spr_pri.1
20434                        	
20435                        		.dbg	line,	"include\init.c", 906; //--------------------------------------------------------------------------------------//
20436                        	
20437                        		.dbg	line,	"include\init.c", 907; //                                        CHAIN                                         //
20438                        	
20439                        		.dbg	line,	"include\init.c", 908; //--------------------------------------------------------------------------------------//
20440                        	
20441                        		.dbg	line,	"include\init.c", 910; load_vram(CHAIN_VRAM_ADR, tiles_SPR_CHAIN , TILES_4);
20442                        		__st.wmiq	31744, _di
         1E:C298  64 F0      			stz.l	_di
         1E:C29A  A9 7C      			lda.h	#31744
         1E:C29C  85 F1      			sta.h	_di
20443                        		__farptr	_tiles_SPR_CHAIN, _bp_bank, _bp
         1E:C29E  A9 C0      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_CHAIN))
         1E:C2A0  85 EC      			sta.l	_bp
         1E:C2A2  A9 69      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_CHAIN))
         1E:C2A4  85 ED      			sta.h	_bp
         1E:C2A6  A9 19      			lda	#bank(_tiles_SPR_CHAIN)
         1E:C2A8  85 02      			sta	_bp_bank
20444                        		__st.wmiq	64, _ax
         1E:C2AA  A9 40      			lda.l	#64
         1E:C2AC  85 F8      			sta.l	_ax
         1E:C2AE  64 F9      			stz.h	_ax
20445                        		 _load_vram.3
         1E:C2B0  82         			clx				; Offset to PCE VDC.
         1E:C2B1  20 09 FF   			call	load_vram_x
20446                        	
20447                        		.dbg	line,	"include\init.c", 912; for(i=0 ; i<3 ; i++)
20448                        		__st.umiq	0, __init_LEVEL_end - 1  /* i */
         1E:C2B4  9C 10 23   			stz	__init_LEVEL_end - 1
20449    1E:C2B7             	.LL976:
20450                        		__ld.umq	__init_LEVEL_end - 1  /* i */
         1E:C2B7  AD 10 23   			lda	__init_LEVEL_end - 1
20451                        		__ult_b.uiq	3
         1E:C2BA  C9 03      			cmp	#3		; Subtract integer from A.
         1E:C2BC  6A         			ror	a		; CC if A < integer.
         1E:C2BD  49 80      			eor	#$80
         1E:C2BF  2A         			rol	a
20452                        		__btrue		.LL978
         1E:C2C0  B0 07      			bcs	.LL978
20453                        		__bra		.LL979
         1E:C2C2  80 2F      			bra	.LL979
20454    1E:C2C4             	.LL977:
20455                        		__inc.umq	__init_LEVEL_end - 1  /* i */
         1E:C2C4  EE 10 23   			inc	__init_LEVEL_end - 1
20456                        		__bra		.LL976
         1E:C2C7  80 EE      			bra	.LL976
20457    1E:C2C9             	.LL978:
20458                        	
20459                        		.dbg	line,	"include\init.c", 913; {
20460                        	
20461                        		.dbg	line,	"include\init.c", 914; spr_set(chain_id+i);
20462                        		__ld.um		_chain_id
         1E:C2C9  AD 26 23   			lda	_chain_id
         1E:C2CC  C2         			cly
20463                        		__add.um	__init_LEVEL_end - 1  /* i */
         1E:C2CD  18         			clc
         1E:C2CE  6D 10 23   			adc	__init_LEVEL_end - 1
         1E:C2D1  90 01      			bcc	!+
         1E:C2D3  C8         			iny
         1E:C2D4             	!:
20464                        		__call		_spr_set.1
         1E:C2D4  20 F1 E7   			call	_spr_set.1
20465                        	
20466                        		.dbg	line,	"include\init.c", 915; spr_pattern(CHAIN_VRAM_ADR);
20467                        		__ld.wi		31744
         1E:C2D7  62         			cla
         1E:C2D8  A0 7C      			ldy.h	#31744
20468                        		__call		_spr_pattern.1
         1E:C2DA  20 3A E8   			call	_spr_pattern.1
20469                        	
20470                        		.dbg	line,	"include\init.c", 916; spr_ctrl(FLIP_MAS|SIZE_MAS, NO_FLIP|SZ_16x16);
20471                        		__st.umiq	185, _al
         1E:C2DD  A9 B9      			lda.l	#185
         1E:C2DF  85 F8      			sta	_al
20472                        		__ld.uiq	0
         1E:C2E1  62         			cla
20473                        		__call		_spr_ctrl.2
         1E:C2E2  20 50 E8   			call	_spr_ctrl.2
20474                        	
20475                        		.dbg	line,	"include\init.c", 917; spr_hide();
20476                        		__call		_spr_hide
         1E:C2E5  20 0C E8   			call	_spr_hide
20477                        	
20478                        		.dbg	line,	"include\init.c", 919; spr_pal(0);
20479                        		__ld.uiq	0
         1E:C2E8  62         			cla
20480                        		__call		_spr_pal.1
         1E:C2E9  20 61 E8   			call	_spr_pal.1
20481                        	
20482                        		.dbg	line,	"include\init.c", 920; spr_pri(TRUE);
20483                        		__ld.uiq	1
         1E:C2EC  A9 01      			lda	#1
20484                        		__call		_spr_pri.1
         1E:C2EE  20 70 E8   			call	_spr_pri.1
20485                        	
20486                        		.dbg	line,	"include\init.c", 921; }
20487                        		__bra		.LL977
         1E:C2F1  80 D1      			bra	.LL977
20488    1E:C2F3             	.LL979:
20489                        	
20490                        		.dbg	line,	"include\init.c", 922; 
20491                        	
20492                        		.dbg	line,	"include\init.c", 924; //--------------------------------------------------------------------------------------//
20493                        	
20494                        		.dbg	line,	"include\init.c", 925; //                                        WEAPON                                        //
20495                        	
20496                        		.dbg	line,	"include\init.c", 926; //--------------------------------------------------------------------------------------//
20497                        	
20498                        		.dbg	line,	"include\init.c", 928; if(weapon_level == 0)
20499                        		__not.um	_weapon_level
         1E:C2F3  AD 29 23   			lda	_weapon_level
         1E:C2F6  18         			clc
         1E:C2F7  D0 01      			bne	!+
         1E:C2F9  38         			sec
         1E:C2FA             	!:
20500                        		__bfalse	.LL980
         1E:C2FA  90 27      			bcc	.LL980
20501                        	
20502                        		.dbg	line,	"include\init.c", 929; {
20503                        	
20504                        		.dbg	line,	"include\init.c", 930; load_vram(WEAPON_VRAM_ADR, tiles_SPR_WEAPON_0 , SIZEOF(tiles_SPR_WEAPON_0) >> 1);
20505                        		__st.wmiq	31808, _di
         1E:C2FC  A9 40      			lda.l	#31808
         1E:C2FE  85 F0      			sta.l	_di
         1E:C300  A9 7C      			lda.h	#31808
         1E:C302  85 F1      			sta.h	_di
20506                        		__farptr	_tiles_SPR_WEAPON_0, _bp_bank, _bp
         1E:C304  A9 40      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_WEAPON_0))
         1E:C306  85 EC      			sta.l	_bp
         1E:C308  A9 6A      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_WEAPON_0))
         1E:C30A  85 ED      			sta.h	_bp
         1E:C30C  A9 19      			lda	#bank(_tiles_SPR_WEAPON_0)
         1E:C30E  85 02      			sta	_bp_bank
20507                        		__ld.wi		___sizeof__tiles_SPR_WEAPON_0
         1E:C310  A9 80      			lda.l	#___sizeof__tiles_SPR_WEAPON_0
         1E:C312  A0 02      			ldy.h	#___sizeof__tiles_SPR_WEAPON_0
20508                        		__lsr.wi	1
         1E:C314  42         			say
         1E:C315  4A         			lsr	a
         1E:C316  42         			say
         1E:C317  6A         			ror	a
20509                        		__st.wmq	_ax
         1E:C318  85 F8      			sta.l	_ax
         1E:C31A  84 F9      			sty.h	_ax
20510                        		 _load_vram.3
         1E:C31C  82         			clx				; Offset to PCE VDC.
         1E:C31D  20 09 FF   			call	load_vram_x
20511                        	
20512                        		.dbg	line,	"include\init.c", 931; }
20513                        	
20514                        		.dbg	line,	"include\init.c", 933; else if(weapon_level == 1)
20515                        		__bra		.LL981
         1E:C320  4C E2 C3   			bra	.LL981
20516    1E:C323             	.LL980:
20517                        		__ld.umq	_weapon_level
         1E:C323  AD 29 23   			lda	_weapon_level
20518                        		__equ_b.uiq	1
         1E:C326  C9 01      			cmp	#1
         1E:C328  F0 01      			beq	!+
         1E:C32A  18         			clc
         1E:C32B             	!:
20519                        		__bfalse	.LL982
         1E:C32B  90 27      			bcc	.LL982
20520                        	
20521                        		.dbg	line,	"include\init.c", 934; {
20522                        	
20523                        		.dbg	line,	"include\init.c", 935; load_vram(WEAPON_VRAM_ADR, tiles_SPR_WEAPON_1 , SIZEOF(tiles_SPR_WEAPON_1) >> 1);
20524                        		__st.wmiq	31808, _di
         1E:C32D  A9 40      			lda.l	#31808
         1E:C32F  85 F0      			sta.l	_di
         1E:C331  A9 7C      			lda.h	#31808
         1E:C333  85 F1      			sta.h	_di
20525                        		__farptr	_tiles_SPR_WEAPON_1, _bp_bank, _bp
         1E:C335  A9 C0      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_WEAPON_1))
         1E:C337  85 EC      			sta.l	_bp
         1E:C339  A9 6C      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_WEAPON_1))
         1E:C33B  85 ED      			sta.h	_bp
         1E:C33D  A9 19      			lda	#bank(_tiles_SPR_WEAPON_1)
         1E:C33F  85 02      			sta	_bp_bank
20526                        		__ld.wi		___sizeof__tiles_SPR_WEAPON_1
         1E:C341  A9 80      			lda.l	#___sizeof__tiles_SPR_WEAPON_1
         1E:C343  A0 02      			ldy.h	#___sizeof__tiles_SPR_WEAPON_1
20527                        		__lsr.wi	1
         1E:C345  42         			say
         1E:C346  4A         			lsr	a
         1E:C347  42         			say
         1E:C348  6A         			ror	a
20528                        		__st.wmq	_ax
         1E:C349  85 F8      			sta.l	_ax
         1E:C34B  84 F9      			sty.h	_ax
20529                        		 _load_vram.3
         1E:C34D  82         			clx				; Offset to PCE VDC.
         1E:C34E  20 09 FF   			call	load_vram_x
20530                        	
20531                        		.dbg	line,	"include\init.c", 936; }
20532                        	
20533                        		.dbg	line,	"include\init.c", 938; else if(weapon_level == 2)
20534                        		__bra		.LL983
         1E:C351  4C E2 C3   			bra	.LL983
20535    1E:C354             	.LL982:
20536                        		__ld.umq	_weapon_level
         1E:C354  AD 29 23   			lda	_weapon_level
20537                        		__equ_b.uiq	2
         1E:C357  C9 02      			cmp	#2
         1E:C359  F0 01      			beq	!+
         1E:C35B  18         			clc
         1E:C35C             	!:
20538                        		__bfalse	.LL984
         1E:C35C  90 26      			bcc	.LL984
20539                        	
20540                        		.dbg	line,	"include\init.c", 939; {
20541                        	
20542                        		.dbg	line,	"include\init.c", 940; load_vram(WEAPON_VRAM_ADR, tiles_SPR_WEAPON_2 , SIZEOF(tiles_SPR_WEAPON_2) >> 1);
20543                        		__st.wmiq	31808, _di
         1E:C35E  A9 40      			lda.l	#31808
         1E:C360  85 F0      			sta.l	_di
         1E:C362  A9 7C      			lda.h	#31808
         1E:C364  85 F1      			sta.h	_di
20544                        		__farptr	_tiles_SPR_WEAPON_2, _bp_bank, _bp
         1E:C366  A9 40      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_WEAPON_2))
         1E:C368  85 EC      			sta.l	_bp
         1E:C36A  A9 6F      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_WEAPON_2))
         1E:C36C  85 ED      			sta.h	_bp
         1E:C36E  A9 19      			lda	#bank(_tiles_SPR_WEAPON_2)
         1E:C370  85 02      			sta	_bp_bank
20545                        		__ld.wi		___sizeof__tiles_SPR_WEAPON_2
         1E:C372  A9 80      			lda.l	#___sizeof__tiles_SPR_WEAPON_2
         1E:C374  A0 02      			ldy.h	#___sizeof__tiles_SPR_WEAPON_2
20546                        		__lsr.wi	1
         1E:C376  42         			say
         1E:C377  4A         			lsr	a
         1E:C378  42         			say
         1E:C379  6A         			ror	a
20547                        		__st.wmq	_ax
         1E:C37A  85 F8      			sta.l	_ax
         1E:C37C  84 F9      			sty.h	_ax
20548                        		 _load_vram.3
         1E:C37E  82         			clx				; Offset to PCE VDC.
         1E:C37F  20 09 FF   			call	load_vram_x
20549                        	
20550                        		.dbg	line,	"include\init.c", 941; }
20551                        	
20552                        		.dbg	line,	"include\init.c", 943; else if(weapon_level == 3)
20553                        		__bra		.LL985
         1E:C382  80 5E      			bra	.LL985
20554    1E:C384             	.LL984:
20555                        		__ld.umq	_weapon_level
         1E:C384  AD 29 23   			lda	_weapon_level
20556                        		__equ_b.uiq	3
         1E:C387  C9 03      			cmp	#3
         1E:C389  F0 01      			beq	!+
         1E:C38B  18         			clc
         1E:C38C             	!:
20557                        		__bfalse	.LL986
         1E:C38C  90 26      			bcc	.LL986
20558                        	
20559                        		.dbg	line,	"include\init.c", 944; {
20560                        	
20561                        		.dbg	line,	"include\init.c", 945; load_vram(WEAPON_VRAM_ADR, tiles_SPR_WEAPON_3 , SIZEOF(tiles_SPR_WEAPON_3) >> 1);
20562                        		__st.wmiq	31808, _di
         1E:C38E  A9 40      			lda.l	#31808
         1E:C390  85 F0      			sta.l	_di
         1E:C392  A9 7C      			lda.h	#31808
         1E:C394  85 F1      			sta.h	_di
20563                        		__farptr	_tiles_SPR_WEAPON_3, _bp_bank, _bp
         1E:C396  A9 C0      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_WEAPON_3))
         1E:C398  85 EC      			sta.l	_bp
         1E:C39A  A9 71      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_WEAPON_3))
         1E:C39C  85 ED      			sta.h	_bp
         1E:C39E  A9 19      			lda	#bank(_tiles_SPR_WEAPON_3)
         1E:C3A0  85 02      			sta	_bp_bank
20564                        		__ld.wi		___sizeof__tiles_SPR_WEAPON_3
         1E:C3A2  A9 80      			lda.l	#___sizeof__tiles_SPR_WEAPON_3
         1E:C3A4  A0 02      			ldy.h	#___sizeof__tiles_SPR_WEAPON_3
20565                        		__lsr.wi	1
         1E:C3A6  42         			say
         1E:C3A7  4A         			lsr	a
         1E:C3A8  42         			say
         1E:C3A9  6A         			ror	a
20566                        		__st.wmq	_ax
         1E:C3AA  85 F8      			sta.l	_ax
         1E:C3AC  84 F9      			sty.h	_ax
20567                        		 _load_vram.3
         1E:C3AE  82         			clx				; Offset to PCE VDC.
         1E:C3AF  20 09 FF   			call	load_vram_x
20568                        	
20569                        		.dbg	line,	"include\init.c", 946; }
20570                        	
20571                        		.dbg	line,	"include\init.c", 948; else if(weapon_level == 4)
20572                        		__bra		.LL987
         1E:C3B2  80 2E      			bra	.LL987
20573    1E:C3B4             	.LL986:
20574                        		__ld.umq	_weapon_level
         1E:C3B4  AD 29 23   			lda	_weapon_level
20575                        		__equ_b.uiq	4
         1E:C3B7  C9 04      			cmp	#4
         1E:C3B9  F0 01      			beq	!+
         1E:C3BB  18         			clc
         1E:C3BC             	!:
20576                        		__bfalse	.LL988
         1E:C3BC  90 24      			bcc	.LL988
20577                        	
20578                        		.dbg	line,	"include\init.c", 949; {
20579                        	
20580                        		.dbg	line,	"include\init.c", 950; load_vram(WEAPON_VRAM_ADR, tiles_SPR_WEAPON_4 , SIZEOF(tiles_SPR_WEAPON_4) >> 1);
20581                        		__st.wmiq	31808, _di
         1E:C3BE  A9 40      			lda.l	#31808
         1E:C3C0  85 F0      			sta.l	_di
         1E:C3C2  A9 7C      			lda.h	#31808
         1E:C3C4  85 F1      			sta.h	_di
20582                        		__farptr	_tiles_SPR_WEAPON_4, _bp_bank, _bp
         1E:C3C6  A9 40      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_WEAPON_4))
         1E:C3C8  85 EC      			sta.l	_bp
         1E:C3CA  A9 74      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_WEAPON_4))
         1E:C3CC  85 ED      			sta.h	_bp
         1E:C3CE  A9 19      			lda	#bank(_tiles_SPR_WEAPON_4)
         1E:C3D0  85 02      			sta	_bp_bank
20583                        		__ld.wi		___sizeof__tiles_SPR_WEAPON_4
         1E:C3D2  A9 80      			lda.l	#___sizeof__tiles_SPR_WEAPON_4
         1E:C3D4  A0 02      			ldy.h	#___sizeof__tiles_SPR_WEAPON_4
20584                        		__lsr.wi	1
         1E:C3D6  42         			say
         1E:C3D7  4A         			lsr	a
         1E:C3D8  42         			say
         1E:C3D9  6A         			ror	a
20585                        		__st.wmq	_ax
         1E:C3DA  85 F8      			sta.l	_ax
         1E:C3DC  84 F9      			sty.h	_ax
20586                        		 _load_vram.3
         1E:C3DE  82         			clx				; Offset to PCE VDC.
         1E:C3DF  20 09 FF   			call	load_vram_x
20587                        	
20588                        		.dbg	line,	"include\init.c", 951; }		
20589                        	
20590                        		.dbg	line,	"include\init.c", 953; 
20591                        	
20592                        		.dbg	line,	"include\init.c", 954; weapon_id = chain_id-1;
20593    1E:C3E2             	.LL988:
20594    1E:C3E2             	.LL987:
20595    1E:C3E2             	.LL985:
20596    1E:C3E2             	.LL983:
20597    1E:C3E2             	.LL981:
20598                        		__ld.um		_chain_id
         1E:C3E2  AD 26 23   			lda	_chain_id
         1E:C3E5  C2         			cly
20599                        		__sub.wi	1
         1E:C3E6  38         			sec
         1E:C3E7  E9 01      			sbc.l	#1
         1E:C3E9  B0 01      			bcs	!+
         1E:C3EB  88         			dey
         1E:C3EC             	!:
20600                        		__st.umq	_weapon_id
         1E:C3EC  8D 27 23   			sta	_weapon_id
20601                        	
20602                        		.dbg	line,	"include\init.c", 955; spr_set(weapon_id);
20603                        		__ld.umq	_weapon_id
         1E:C3EF  AD 27 23   			lda	_weapon_id
20604                        		__call		_spr_set.1
         1E:C3F2  20 F1 E7   			call	_spr_set.1
20605                        	
20606                        		.dbg	line,	"include\init.c", 956; spr_pattern(WEAPON_VRAM_ADR);
20607                        		__ld.wi		31808
         1E:C3F5  A9 40      			lda.l	#31808
         1E:C3F7  A0 7C      			ldy.h	#31808
20608                        		__call		_spr_pattern.1
         1E:C3F9  20 3A E8   			call	_spr_pattern.1
20609                        	
20610                        		.dbg	line,	"include\init.c", 957; spr_ctrl(FLIP_MAS|SIZE_MAS, NO_FLIP|SZ_16x16);
20611                        		__st.umiq	185, _al
         1E:C3FC  A9 B9      			lda.l	#185
         1E:C3FE  85 F8      			sta	_al
20612                        		__ld.uiq	0
         1E:C400  62         			cla
20613                        		__call		_spr_ctrl.2
         1E:C401  20 50 E8   			call	_spr_ctrl.2
20614                        	
20615                        		.dbg	line,	"include\init.c", 959; spr_x(player_pos_x+8);
20616                        		__ld.wm		_player_pos_x
         1E:C404  AD F6 24   			lda.l	_player_pos_x
         1E:C407  AC F7 24   			ldy.h	_player_pos_x
20617                        		__add.wi	8
         1E:C40A  18         			clc
         1E:C40B  69 08      			adc.l	#8
         1E:C40D  90 01      			bcc	!+
         1E:C40F  C8         			iny
         1E:C410             	!:
20618                        		__call		_spr_x.1
         1E:C410  20 1E E8   			call	_spr_x.1
20619                        	
20620                        		.dbg	line,	"include\init.c", 960; spr_y(player_pos_y+16);
20621                        		__ld.wm		_player_pos_y
         1E:C413  AD F8 24   			lda.l	_player_pos_y
         1E:C416  AC F9 24   			ldy.h	_player_pos_y
20622                        		__add.wi	16
         1E:C419  18         			clc
         1E:C41A  69 10      			adc.l	#16
         1E:C41C  90 01      			bcc	!+
         1E:C41E  C8         			iny
         1E:C41F             	!:
20623                        		__call		_spr_y.1
         1E:C41F  20 2D E8   			call	_spr_y.1
20624                        	
20625                        		.dbg	line,	"include\init.c", 961; spr_pri(TRUE);
20626                        		__ld.uiq	1
         1E:C422  A9 01      			lda	#1
20627                        		__call		_spr_pri.1
         1E:C424  20 70 E8   			call	_spr_pri.1
20628                        	
20629                        		.dbg	line,	"include\init.c", 963; // WEAPON 4 USES PAL2
20630                        	
20631                        		.dbg	line,	"include\init.c", 964; if(weapon_level == 4)
20632                        		__ld.umq	_weapon_level
         1E:C427  AD 29 23   			lda	_weapon_level
20633                        		__equ_b.uiq	4
         1E:C42A  C9 04      			cmp	#4
         1E:C42C  F0 01      			beq	!+
         1E:C42E  18         			clc
         1E:C42F             	!:
20634                        		__bfalse	.LL989
         1E:C42F  90 07      			bcc	.LL989
20635                        	
20636                        		.dbg	line,	"include\init.c", 965; {
20637                        	
20638                        		.dbg	line,	"include\init.c", 966; spr_pal(2);
20639                        		__ld.uiq	2
         1E:C431  A9 02      			lda	#2
20640                        		__call		_spr_pal.1
         1E:C433  20 61 E8   			call	_spr_pal.1
20641                        	
20642                        		.dbg	line,	"include\init.c", 967; }
20643                        	
20644                        		.dbg	line,	"include\init.c", 968; // ALL OTHERS USE PAL0
20645                        	
20646                        		.dbg	line,	"include\init.c", 969; else
20647                        		__bra		.LL990
         1E:C436  80 04      			bra	.LL990
20648    1E:C438             	.LL989:
20649                        	
20650                        		.dbg	line,	"include\init.c", 970; {
20651                        	
20652                        		.dbg	line,	"include\init.c", 971; spr_pal(0);
20653                        		__ld.uiq	0
         1E:C438  62         			cla
20654                        		__call		_spr_pal.1
         1E:C439  20 61 E8   			call	_spr_pal.1
20655                        	
20656                        		.dbg	line,	"include\init.c", 972; }
20657    1E:C43C             	.LL990:
20658                        	
20659                        		.dbg	line,	"include\init.c", 973; 
20660                        	
20661                        		.dbg	line,	"include\init.c", 974; 
20662                        	
20663                        		.dbg	line,	"include\init.c", 977; //--------------------------------------------------------------------------------------//
20664                        	
20665                        		.dbg	line,	"include\init.c", 978; //                                       OBJECTS                                        //
20666                        	
20667                        		.dbg	line,	"include\init.c", 979; //--------------------------------------------------------------------------------------//
20668                        	
20669                        		.dbg	line,	"include\init.c", 981; load_OBJECT_TILES();
20670                        		__call		_load_OBJECT_TILES
         1E:C43C  20 91 FE   			call	_load_OBJECT_TILES
20671                        	
20672                        		.dbg	line,	"include\init.c", 982; init_OBJECT_LV1();
20673                        		__call		_init_OBJECT_LV1
         1E:C43F  20 87 FE   			call	_init_OBJECT_LV1
20674                        	
20675                        		.dbg	line,	"include\init.c", 983; scroll_object();
20676                        		__call		_scroll_object
         1E:C442  20 7D FE   			call	_scroll_object
20677                        	
20678                        		.dbg	line,	"include\init.c", 986; //--------------------------------------------------------------------------------------//
20679                        	
20680                        		.dbg	line,	"include\init.c", 987; //                                        CHESTS                                        //
20681                        	
20682                        		.dbg	line,	"include\init.c", 988; //--------------------------------------------------------------------------------------//
20683                        	
20684                        		.dbg	line,	"include\init.c", 990; load_CHEST_TILES();
20685                        		__call		_load_CHEST_TILES
         1E:C445  20 73 FE   			call	_load_CHEST_TILES
20686                        	
20687                        		.dbg	line,	"include\init.c", 991; init_CHEST_LV1();
20688                        		__call		_init_CHEST_LV1
         1E:C448  20 69 FE   			call	_init_CHEST_LV1
20689                        	
20690                        		.dbg	line,	"include\init.c", 992; scroll_chest();
20691                        		__call		_scroll_chest
         1E:C44B  20 5F FE   			call	_scroll_chest
20692                        	
20693                        		.dbg	line,	"include\init.c", 995; //--------------------------------------------------------------------------------------//
20694                        	
20695                        		.dbg	line,	"include\init.c", 996; //                                         NPCS                                         //
20696                        	
20697                        		.dbg	line,	"include\init.c", 997; //--------------------------------------------------------------------------------------//
20698                        	
20699                        		.dbg	line,	"include\init.c", 999; load_NPC_TILES();
20700                        		__call		_load_NPC_TILES
         1E:C44E  20 55 FE   			call	_load_NPC_TILES
20701                        	
20702                        		.dbg	line,	"include\init.c", 1000; init_NPC_LV1();
20703                        		__call		_init_NPC_LV1
         1E:C451  20 4B FE   			call	_init_NPC_LV1
20704                        	
20705                        		.dbg	line,	"include\init.c", 1005; //--------------------------------------------------------------------------------------//
20706                        	
20707                        		.dbg	line,	"include\init.c", 1006; //                                       ENEMIES                                        //
20708                        	
20709                        		.dbg	line,	"include\init.c", 1007; //--------------------------------------------------------------------------------------//
20710                        	
20711                        		.dbg	line,	"include\init.c", 1009; load_vram(ORC_VRAM_ADR, tiles_SPR_ORC , SIZEOF(tiles_SPR_ORC) >> 1);
20712                        		__st.wmiq	11520, _di
         1E:C454  64 F0      			stz.l	_di
         1E:C456  A9 2D      			lda.h	#11520
         1E:C458  85 F1      			sta.h	_di
20713                        		__farptr	_tiles_SPR_ORC, _bp_bank, _bp
         1E:C45A  A9 40      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_ORC))
         1E:C45C  85 EC      			sta.l	_bp
         1E:C45E  A9 64      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_ORC))
         1E:C460  85 ED      			sta.h	_bp
         1E:C462  A9 1B      			lda	#bank(_tiles_SPR_ORC)
         1E:C464  85 02      			sta	_bp_bank
20714                        		__ld.wi		___sizeof__tiles_SPR_ORC
         1E:C466  A9 00      			lda.l	#___sizeof__tiles_SPR_ORC
         1E:C468  A0 1D      			ldy.h	#___sizeof__tiles_SPR_ORC
20715                        		__lsr.wi	1
         1E:C46A  42         			say
         1E:C46B  4A         			lsr	a
         1E:C46C  42         			say
         1E:C46D  6A         			ror	a
20716                        		__st.wmq	_ax
         1E:C46E  85 F8      			sta.l	_ax
         1E:C470  84 F9      			sty.h	_ax
20717                        		 _load_vram.3
         1E:C472  82         			clx				; Offset to PCE VDC.
         1E:C473  20 09 FF   			call	load_vram_x
20718                        	
20719                        		.dbg	line,	"include\init.c", 1010; load_vram(SERPENT_VRAM_ADR, tiles_SPR_SERPENT , TILES_96);
20720                        		__st.wmiq	15232, _di
         1E:C476  A9 80      			lda.l	#15232
         1E:C478  85 F0      			sta.l	_di
         1E:C47A  A9 3B      			lda.h	#15232
         1E:C47C  85 F1      			sta.h	_di
20721                        		__farptr	_tiles_SPR_SERPENT, _bp_bank, _bp
         1E:C47E  A9 40      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_SERPENT))
         1E:C480  85 EC      			sta.l	_bp
         1E:C482  A9 61      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_SERPENT))
         1E:C484  85 ED      			sta.h	_bp
         1E:C486  A9 1C      			lda	#bank(_tiles_SPR_SERPENT)
         1E:C488  85 02      			sta	_bp_bank
20722                        		__st.wmiq	1536, _ax
         1E:C48A  64 F8      			stz.l	_ax
         1E:C48C  A9 06      			lda.h	#1536
         1E:C48E  85 F9      			sta.h	_ax
20723                        		 _load_vram.3
         1E:C490  82         			clx				; Offset to PCE VDC.
         1E:C491  20 09 FF   			call	load_vram_x
20724                        	
20725                        		.dbg	line,	"include\init.c", 1011; load_vram(PLANT_VRAM_ADR, tiles_SPR_PLANT , TILES_160);
20726                        		__st.wmiq	16768, _di
         1E:C494  A9 80      			lda.l	#16768
         1E:C496  85 F0      			sta.l	_di
         1E:C498  A9 41      			lda.h	#16768
         1E:C49A  85 F1      			sta.h	_di
20727                        		__farptr	_tiles_SPR_PLANT, _bp_bank, _bp
         1E:C49C  A9 40      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_PLANT))
         1E:C49E  85 EC      			sta.l	_bp
         1E:C4A0  A9 6D      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_PLANT))
         1E:C4A2  85 ED      			sta.h	_bp
         1E:C4A4  A9 1C      			lda	#bank(_tiles_SPR_PLANT)
         1E:C4A6  85 02      			sta	_bp_bank
20728                        		__st.wmiq	2560, _ax
         1E:C4A8  64 F8      			stz.l	_ax
         1E:C4AA  A9 0A      			lda.h	#2560
         1E:C4AC  85 F9      			sta.h	_ax
20729                        		 _load_vram.3
         1E:C4AE  82         			clx				; Offset to PCE VDC.
         1E:C4AF  20 09 FF   			call	load_vram_x
20730                        	
20731                        		.dbg	line,	"include\init.c", 1016; // UPDATE PCE SAT //
20732                        	
20733                        		.dbg	line,	"include\init.c", 1017; satb_update();
20734                        		__call		_satb_update
         1E:C4B2  20 E1 FE   			call	_satb_update
20735                        	
20736                        		.dbg	line,	"include\init.c", 1019; // UPDATE SGX SAT //
20737                        	
20738                        		.dbg	line,	"include\init.c", 1020; sgx_satb_update();
20739                        		__call		_sgx_satb_update
         1E:C4B5  20 D7 FE   			call	_sgx_satb_update
20740                        	
20741                        		.dbg	line,	"include\init.c", 1023; //--------------------------------------------------------------------------------------//
20742                        	
20743                        		.dbg	line,	"include\init.c", 1024; //                                LOAD SPRITES PALETTES                                 //
20744                        	
20745                        		.dbg	line,	"include\init.c", 1025; //--------------------------------------------------------------------------------------//
20746                        	
20747                        		.dbg	line,	"include\init.c", 1027; if(armor_level == 8)
20748                        		__ld.umq	_armor_level
         1E:C4B8  AD 28 23   			lda	_armor_level
20749                        		__equ_b.uiq	8
         1E:C4BB  C9 08      			cmp	#8
         1E:C4BD  F0 01      			beq	!+
         1E:C4BF  18         			clc
         1E:C4C0             	!:
20750                        		__bfalse	.LL991
         1E:C4C0  90 19      			bcc	.LL991
20751                        	
20752                        		.dbg	line,	"include\init.c", 1028; {
20753                        	
20754                        		.dbg	line,	"include\init.c", 1029; load_palette( 16, palette_PLAYER_8, 1 );
20755                        		__st.umiq	16, _al
         1E:C4C2  A9 10      			lda.l	#16
         1E:C4C4  85 F8      			sta	_al
20756                        		__farptr	_palette_PLAYER_8, _bp_bank, _bp
         1E:C4C6  A9 C0      			lda.l	#$6000 + ($1FFF & (_palette_PLAYER_8))
         1E:C4C8  85 EC      			sta.l	_bp
         1E:C4CA  A9 67      			lda.h	#$6000 + ($1FFF & (_palette_PLAYER_8))
         1E:C4CC  85 ED      			sta.h	_bp
         1E:C4CE  A9 19      			lda	#bank(_palette_PLAYER_8)
         1E:C4D0  85 02      			sta	_bp_bank
20757                        		__st.umiq	1, _ah
         1E:C4D2  A9 01      			lda.l	#1
         1E:C4D4  85 F9      			sta	_ah
20758                        		__call		_load_palette.3
         1E:C4D6  20 8B FF   			call	_load_palette.3
20759                        	
20760                        		.dbg	line,	"include\init.c", 1030; }
20761                        	
20762                        		.dbg	line,	"include\init.c", 1032; else if(armor_level == 5)
20763                        		__bra		.LL992
         1E:C4D9  80 5D      			bra	.LL992
20764    1E:C4DB             	.LL991:
20765                        		__ld.umq	_armor_level
         1E:C4DB  AD 28 23   			lda	_armor_level
20766                        		__equ_b.uiq	5
         1E:C4DE  C9 05      			cmp	#5
         1E:C4E0  F0 01      			beq	!+
         1E:C4E2  18         			clc
         1E:C4E3             	!:
20767                        		__bfalse	.LL993
         1E:C4E3  90 19      			bcc	.LL993
20768                        	
20769                        		.dbg	line,	"include\init.c", 1033; {
20770                        	
20771                        		.dbg	line,	"include\init.c", 1034; load_palette( 16, palette_PLAYER_5, 1 );
20772                        		__st.umiq	16, _al
         1E:C4E5  A9 10      			lda.l	#16
         1E:C4E7  85 F8      			sta	_al
20773                        		__farptr	_palette_PLAYER_5, _bp_bank, _bp
         1E:C4E9  A9 C0      			lda.l	#$6000 + ($1FFF & (_palette_PLAYER_5))
         1E:C4EB  85 EC      			sta.l	_bp
         1E:C4ED  A9 65      			lda.h	#$6000 + ($1FFF & (_palette_PLAYER_5))
         1E:C4EF  85 ED      			sta.h	_bp
         1E:C4F1  A9 19      			lda	#bank(_palette_PLAYER_5)
         1E:C4F3  85 02      			sta	_bp_bank
20774                        		__st.umiq	1, _ah
         1E:C4F5  A9 01      			lda.l	#1
         1E:C4F7  85 F9      			sta	_ah
20775                        		__call		_load_palette.3
         1E:C4F9  20 8B FF   			call	_load_palette.3
20776                        	
20777                        		.dbg	line,	"include\init.c", 1035; }
20778                        	
20779                        		.dbg	line,	"include\init.c", 1037; else if(armor_level == 4)
20780                        		__bra		.LL994
         1E:C4FC  80 3A      			bra	.LL994
20781    1E:C4FE             	.LL993:
20782                        		__ld.umq	_armor_level
         1E:C4FE  AD 28 23   			lda	_armor_level
20783                        		__equ_b.uiq	4
         1E:C501  C9 04      			cmp	#4
         1E:C503  F0 01      			beq	!+
         1E:C505  18         			clc
         1E:C506             	!:
20784                        		__bfalse	.LL995
         1E:C506  90 19      			bcc	.LL995
20785                        	
20786                        		.dbg	line,	"include\init.c", 1038; {
20787                        	
20788                        		.dbg	line,	"include\init.c", 1039; load_palette( 16, palette_PLAYER_4, 1 );
20789                        		__st.umiq	16, _al
         1E:C508  A9 10      			lda.l	#16
         1E:C50A  85 F8      			sta	_al
20790                        		__farptr	_palette_PLAYER_4, _bp_bank, _bp
         1E:C50C  A9 C0      			lda.l	#$6000 + ($1FFF & (_palette_PLAYER_4))
         1E:C50E  85 EC      			sta.l	_bp
         1E:C510  A9 63      			lda.h	#$6000 + ($1FFF & (_palette_PLAYER_4))
         1E:C512  85 ED      			sta.h	_bp
         1E:C514  A9 19      			lda	#bank(_palette_PLAYER_4)
         1E:C516  85 02      			sta	_bp_bank
20791                        		__st.umiq	1, _ah
         1E:C518  A9 01      			lda.l	#1
         1E:C51A  85 F9      			sta	_ah
20792                        		__call		_load_palette.3
         1E:C51C  20 8B FF   			call	_load_palette.3
20793                        	
20794                        		.dbg	line,	"include\init.c", 1040; }
20795                        	
20796                        		.dbg	line,	"include\init.c", 1042; else
20797                        		__bra		.LL996
         1E:C51F  80 17      			bra	.LL996
20798    1E:C521             	.LL995:
20799                        	
20800                        		.dbg	line,	"include\init.c", 1043; {
20801                        	
20802                        		.dbg	line,	"include\init.c", 1044; load_palette( 16, palette_PLAYER_1, 1 );
20803                        		__st.umiq	16, _al
         1E:C521  A9 10      			lda.l	#16
         1E:C523  85 F8      			sta	_al
20804                        		__farptr	_palette_PLAYER_1, _bp_bank, _bp
         1E:C525  A9 C0      			lda.l	#$6000 + ($1FFF & (_palette_PLAYER_1))
         1E:C527  85 EC      			sta.l	_bp
         1E:C529  A9 61      			lda.h	#$6000 + ($1FFF & (_palette_PLAYER_1))
         1E:C52B  85 ED      			sta.h	_bp
         1E:C52D  A9 19      			lda	#bank(_palette_PLAYER_1)
         1E:C52F  85 02      			sta	_bp_bank
20805                        		__st.umiq	1, _ah
         1E:C531  A9 01      			lda.l	#1
         1E:C533  85 F9      			sta	_ah
20806                        		__call		_load_palette.3
         1E:C535  20 8B FF   			call	_load_palette.3
20807                        	
20808                        		.dbg	line,	"include\init.c", 1045; }
20809    1E:C538             	.LL996:
20810    1E:C538             	.LL994:
20811    1E:C538             	.LL992:
20812                        	
20813                        		.dbg	line,	"include\init.c", 1048; load_palette( 17, palette_objects_1,   1 );
20814                        		__st.umiq	17, _al
         1E:C538  A9 11      			lda.l	#17
         1E:C53A  85 F8      			sta	_al
20815                        		__farptr	_palette_objects_1, _bp_bank, _bp
         1E:C53C  A9 40      			lda.l	#$6000 + ($1FFF & (_palette_objects_1))
         1E:C53E  85 EC      			sta.l	_bp
         1E:C540  A9 72      			lda.h	#$6000 + ($1FFF & (_palette_objects_1))
         1E:C542  85 ED      			sta.h	_bp
         1E:C544  A9 1A      			lda	#bank(_palette_objects_1)
         1E:C546  85 02      			sta	_bp_bank
20816                        		__st.umiq	1, _ah
         1E:C548  A9 01      			lda.l	#1
         1E:C54A  85 F9      			sta	_ah
20817                        		__call		_load_palette.3
         1E:C54C  20 8B FF   			call	_load_palette.3
20818                        	
20819                        		.dbg	line,	"include\init.c", 1049; load_palette( 18, palette_objects_2,   1 );
20820                        		__st.umiq	18, _al
         1E:C54F  A9 12      			lda.l	#18
         1E:C551  85 F8      			sta	_al
20821                        		__farptr	_palette_objects_2, _bp_bank, _bp
         1E:C553  A9 40      			lda.l	#$6000 + ($1FFF & (_palette_objects_2))
         1E:C555  85 EC      			sta.l	_bp
         1E:C557  A9 74      			lda.h	#$6000 + ($1FFF & (_palette_objects_2))
         1E:C559  85 ED      			sta.h	_bp
         1E:C55B  A9 1A      			lda	#bank(_palette_objects_2)
         1E:C55D  85 02      			sta	_bp_bank
20822                        		__st.umiq	1, _ah
         1E:C55F  A9 01      			lda.l	#1
         1E:C561  85 F9      			sta	_ah
20823                        		__call		_load_palette.3
         1E:C563  20 8B FF   			call	_load_palette.3
20824                        	
20825                        		.dbg	line,	"include\init.c", 1050; load_palette( 19, palette_SPR_ORC,  1 );
20826                        		__st.umiq	19, _al
         1E:C566  A9 13      			lda.l	#19
         1E:C568  85 F8      			sta	_al
20827                        		__farptr	_palette_SPR_ORC, _bp_bank, _bp
         1E:C56A  A9 40      			lda.l	#$6000 + ($1FFF & (_palette_SPR_ORC))
         1E:C56C  85 EC      			sta.l	_bp
         1E:C56E  A9 67      			lda.h	#$6000 + ($1FFF & (_palette_SPR_ORC))
         1E:C570  85 ED      			sta.h	_bp
         1E:C572  A9 1D      			lda	#bank(_palette_SPR_ORC)
         1E:C574  85 02      			sta	_bp_bank
20828                        		__st.umiq	1, _ah
         1E:C576  A9 01      			lda.l	#1
         1E:C578  85 F9      			sta	_ah
20829                        		__call		_load_palette.3
         1E:C57A  20 8B FF   			call	_load_palette.3
20830                        	
20831                        		.dbg	line,	"include\init.c", 1051; load_palette( 20, palette_SPR_PLANT,   1 );
20832                        		__st.umiq	20, _al
         1E:C57D  A9 14      			lda.l	#20
         1E:C57F  85 F8      			sta	_al
20833                        		__farptr	_palette_SPR_PLANT, _bp_bank, _bp
         1E:C581  A9 40      			lda.l	#$6000 + ($1FFF & (_palette_SPR_PLANT))
         1E:C583  85 EC      			sta.l	_bp
         1E:C585  A9 69      			lda.h	#$6000 + ($1FFF & (_palette_SPR_PLANT))
         1E:C587  85 ED      			sta.h	_bp
         1E:C589  A9 1D      			lda	#bank(_palette_SPR_PLANT)
         1E:C58B  85 02      			sta	_bp_bank
20834                        		__st.umiq	1, _ah
         1E:C58D  A9 01      			lda.l	#1
         1E:C58F  85 F9      			sta	_ah
20835                        		__call		_load_palette.3
         1E:C591  20 8B FF   			call	_load_palette.3
20836                        	
20837                        		.dbg	line,	"include\init.c", 1056; // VSYNC //
20838                        	
20839                        		.dbg	line,	"include\init.c", 1057; vsync();
20840                        		__call		_vsync
         1E:C594  20 1D E3   			call	_vsync
20841                        	
20842                        		.dbg	line,	"include\init.c", 1059; // ENABLE DISPLAY //
20843                        	
20844                        		.dbg	line,	"include\init.c", 1060; disp_on();
20845                        		__call		_disp_on
         1E:C597  20 2A E4   			call	_disp_on
20846                        	
20847                        		.dbg	line,	"include\init.c", 1061; }
20848                        	
20849                        		.dbg	line,	"include\init.c", 1062; }
20850    1E:C59A             	.LL965:
20851    1E:C59A             	.LL964:
20852                        		__return	0
         1E:C59A  4C EF FF   			jmp	leave_proc
20853                        		.dbg	clear
20854                        		.endp
20855               2310     		.bss
20856    F8:2310             			ds	1
20857    F8:2311             	__init_LEVEL_end:
20858               E31D     		.code
20859                        		.pceas
20860                        	
20861                        		.dbg	line,	"include\init.c", 1065; void init_SHOP()
20862                        		.dbg	line,	"include\init.c", 1066; {
20863                        	;***********************
20864                        	;***********************
20865                        	
20866                        		.hucc
20867    1D:DB09             		.proc		_init_SHOP
20868                        		__enter		_init_SHOP
20869                        	
20870                        		.dbg	line,	"include\init.c", 1067; char i;
20871                        	
20872                        		.dbg	line,	"include\init.c", 1068; char item_id;
20873                        	
20874                        		.dbg	line,	"include\init.c", 1071; // DISABLE DISPLAY //
20875                        	
20876                        		.dbg	line,	"include\init.c", 1072; disp_off();
20877                        		__call		_disp_off
         1D:DB09  20 3D E4   			call	_disp_off
20878                        	
20879                        		.dbg	line,	"include\init.c", 1073; 
20880                        	
20881                        		.dbg	line,	"include\init.c", 1075; // VSYNC //
20882                        	
20883                        		.dbg	line,	"include\init.c", 1076; vsync();
20884                        		__call		_vsync
         1D:DB0C  20 1D E3   			call	_vsync
20885                        	
20886                        		.dbg	line,	"include\init.c", 1079; // HIDE ALL LEVEL SPRITES //
20887                        	
20888                        		.dbg	line,	"include\init.c", 1080; hide_LEVEL_SPRITES();
20889                        		__call		_hide_LEVEL_SPRITES
         1D:DB0F  20 41 FE   			call	_hide_LEVEL_SPRITES
20890                        	
20891                        		.dbg	line,	"include\init.c", 1083; // SET VDC 1 SCREEN SIZE (IN TILES) - 32x32 = 256 PIXELS
20892                        	
20893                        		.dbg	line,	"include\init.c", 1084; set_screen_size(SCR_SIZE_64x32);
20894                        		__st.umiq	1, _al
         1D:DB12  A9 01      			lda.l	#1
         1D:DB14  85 F8      			sta	_al
20895                        		__call		_set_screen_size.1
         1D:DB16  20 F5 FE   			call	_set_screen_size.1
20896                        	
20897                        		.dbg	line,	"include\init.c", 1087; // SET VDC 2 SCREEN SIZE (IN TILES) - 32x32 = 256 PIXELS
20898                        	
20899                        		.dbg	line,	"include\init.c", 1088; sgx_set_screen_size(SCR_SIZE_32x32);
20900                        		__st.umiq	0, _al
         1D:DB19  64 F8      			stz	_al
20901                        		__call		_sgx_set_screen_size.1
         1D:DB1B  20 EB FE   			call	_sgx_set_screen_size.1
20902                        	
20903                        		.dbg	line,	"include\init.c", 1093; //**************************************************************************************//
20904                        	
20905                        		.dbg	line,	"include\init.c", 1094; //                                                                                      //
20906                        	
20907                        		.dbg	line,	"include\init.c", 1095; //                                      VARIABLES                                       //
20908                        	
20909                        		.dbg	line,	"include\init.c", 1096; //                                                                                      //
20910                        	
20911                        		.dbg	line,	"include\init.c", 1097; //**************************************************************************************//
20912                        	
20913                        		.dbg	line,	"include\init.c", 1099; index_x = 0;
20914                        		__st.umiq	0, _index_x
         1D:DB1E  9C F0 23   			stz	_index_x
20915                        	
20916                        		.dbg	line,	"include\init.c", 1100; index_y = 0;
20917                        		__st.umiq	0, _index_y
         1D:DB21  9C F1 23   			stz	_index_y
20918                        	
20919                        		.dbg	line,	"include\init.c", 1101; item_index = 0;
20920                        		__st.umiq	0, _item_index
         1D:DB24  9C F2 23   			stz	_item_index
20921                        	
20922                        		.dbg	line,	"include\init.c", 1103; minutes = 0;
20923                        		__st.umiq	0, _minutes
         1D:DB27  9C 32 23   			stz	_minutes
20924                        	
20925                        		.dbg	line,	"include\init.c", 1104; seconds = 30;
20926                        		__st.umiq	30, _seconds
         1D:DB2A  A9 1E      			lda.l	#30
         1D:DB2C  8D 33 23   			sta	_seconds
20927                        	
20928                        		.dbg	line,	"include\init.c", 1106; shop_counter = 0;
20929                        		__st.umiq	0, _shop_counter
         1D:DB2F  9C F4 23   			stz	_shop_counter
20930                        	
20931                        		.dbg	line,	"include\init.c", 1107; shop_phase = SHOP_PHASE_ENTER;
20932                        		__st.umiq	0, _shop_phase
         1D:DB32  9C F3 23   			stz	_shop_phase
20933                        	
20934                        		.dbg	line,	"include\init.c", 1109; if(level_id == 1)
20935                        		__ld.umq	_level_id
         1D:DB35  AD 15 23   			lda	_level_id
20936                        		__equ_b.uiq	1
         1D:DB38  C9 01      			cmp	#1
         1D:DB3A  F0 01      			beq	!+
         1D:DB3C  18         			clc
         1D:DB3D             	!:
20937                        		__bfalse	.LL998
         1D:DB3D  90 0A      			bcc	.LL998
20938                        	
20939                        		.dbg	line,	"include\init.c", 1110; {
20940                        	
20941                        		.dbg	line,	"include\init.c", 1111; ptr_SHOP_ITEM_PRICES = &TABLE_SHOP_PRICES_LV1[0];
20942                        		__ld.wi		_TABLE_SHOP_PRICES_LV1
         1D:DB3F  A9 F6      			lda.l	#_TABLE_SHOP_PRICES_LV1
         1D:DB41  A0 62      			ldy.h	#_TABLE_SHOP_PRICES_LV1
20943                        		__st.wmq	_ptr_SHOP_ITEM_PRICES
         1D:DB43  8D 93 26   			sta.l	_ptr_SHOP_ITEM_PRICES
         1D:DB46  8C 94 26   			sty.h	_ptr_SHOP_ITEM_PRICES
20944                        	
20945                        		.dbg	line,	"include\init.c", 1112; }
20946                        	
20947                        		.dbg	line,	"include\init.c", 1113; 
20948                        	
20949                        		.dbg	line,	"include\init.c", 1118; //**************************************************************************************//
20950                        	
20951                        		.dbg	line,	"include\init.c", 1119; //                                                                                      //
20952                        	
20953                        		.dbg	line,	"include\init.c", 1120; //                                        VDC 2                                         //
20954                        	
20955                        		.dbg	line,	"include\init.c", 1121; //                                                                                      //
20956                        	
20957                        		.dbg	line,	"include\init.c", 1122; //**************************************************************************************//
20958                        	
20959                        		.dbg	line,	"include\init.c", 1124; //--------------------------------------------------------------------------------------//
20960                        	
20961                        		.dbg	line,	"include\init.c", 1125; //                                      LOAD FONT                                       //
20962                        	
20963                        		.dbg	line,	"include\init.c", 1126; //--------------------------------------------------------------------------------------//
20964                        	
20965                        		.dbg	line,	"include\init.c", 1128; load_vram( 0x0800, tileset_FONT, SIZEOF(tileset_FONT) >> 1 );
20966    1D:DB49             	.LL998:
20967                        		__st.wmiq	2048, _di
         1D:DB49  64 F0      			stz.l	_di
         1D:DB4B  A9 08      			lda.h	#2048
         1D:DB4D  85 F1      			sta.h	_di
20968                        		__farptr	_tileset_FONT, _bp_bank, _bp
         1D:DB4F  A9 E0      			lda.l	#$6000 + ($1FFF & (_tileset_FONT))
         1D:DB51  85 EC      			sta.l	_bp
         1D:DB53  A9 7C      			lda.h	#$6000 + ($1FFF & (_tileset_FONT))
         1D:DB55  85 ED      			sta.h	_bp
         1D:DB57  A9 06      			lda	#bank(_tileset_FONT)
         1D:DB59  85 02      			sta	_bp_bank
20969                        		__ld.wi		___sizeof__tileset_FONT
         1D:DB5B  A9 00      			lda.l	#___sizeof__tileset_FONT
         1D:DB5D  A0 0C      			ldy.h	#___sizeof__tileset_FONT
20970                        		__lsr.wi	1
         1D:DB5F  42         			say
         1D:DB60  4A         			lsr	a
         1D:DB61  42         			say
         1D:DB62  6A         			ror	a
20971                        		__st.wmq	_ax
         1D:DB63  85 F8      			sta.l	_ax
         1D:DB65  84 F9      			sty.h	_ax
20972                        		 _load_vram.3
         1D:DB67  82         			clx				; Offset to PCE VDC.
         1D:DB68  20 09 FF   			call	load_vram_x
20973                        	
20974                        		.dbg	line,	"include\init.c", 1130; set_font_pal(15);
20975                        		__ld.uiq	15
         1D:DB6B  A9 0F      			lda	#15
20976                        		__call		_set_font_pal.1
         1D:DB6D  20 00 E6   			call	_set_font_pal.1
20977                        	
20978                        		.dbg	line,	"include\init.c", 1133; //--------------------------------------------------------------------------------------//
20979                        	
20980                        		.dbg	line,	"include\init.c", 1134; //                                    LOAD TILESET                                      //
20981                        	
20982                        		.dbg	line,	"include\init.c", 1135; //--------------------------------------------------------------------------------------//
20983                        	
20984                        		.dbg	line,	"include\init.c", 1137; sgx_load_vram( 0x1000, tileset_SHOP_BG_B, SIZEOF(tileset_SHOP_BG_B) >> 1 );
20985                        		__st.wmiq	4096, _di
         1D:DB70  64 F0      			stz.l	_di
         1D:DB72  A9 10      			lda.h	#4096
         1D:DB74  85 F1      			sta.h	_di
20986                        		__farptr	_tileset_SHOP_BG_B, _bp_bank, _bp
         1D:DB76  A9 A0      			lda.l	#$6000 + ($1FFF & (_tileset_SHOP_BG_B))
         1D:DB78  85 EC      			sta.l	_bp
         1D:DB7A  A9 7A      			lda.h	#$6000 + ($1FFF & (_tileset_SHOP_BG_B))
         1D:DB7C  85 ED      			sta.h	_bp
         1D:DB7E  A9 0F      			lda	#bank(_tileset_SHOP_BG_B)
         1D:DB80  85 02      			sta	_bp_bank
20987                        		__ld.wi		___sizeof__tileset_SHOP_BG_B
         1D:DB82  A9 60      			lda.l	#___sizeof__tileset_SHOP_BG_B
         1D:DB84  A0 39      			ldy.h	#___sizeof__tileset_SHOP_BG_B
20988                        		__lsr.wi	1
         1D:DB86  42         			say
         1D:DB87  4A         			lsr	a
         1D:DB88  42         			say
         1D:DB89  6A         			ror	a
20989                        		__st.wmq	_ax
         1D:DB8A  85 F8      			sta.l	_ax
         1D:DB8C  84 F9      			sty.h	_ax
20990                        		 _sgx_load_vram.3
         1D:DB8E  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1D:DB90  20 09 FF   			call	load_vram_x
20991                        	
20992                        		.dbg	line,	"include\init.c", 1140; //--------------------------------------------------------------------------------------//
20993                        	
20994                        		.dbg	line,	"include\init.c", 1141; //                                      LOAD ITEMS                                      //
20995                        	
20996                        		.dbg	line,	"include\init.c", 1142; //--------------------------------------------------------------------------------------//
20997                        	
20998                        		.dbg	line,	"include\init.c", 1144; for(i=0 ; i<10 ; i++)
20999                        		__st.umiq	0, __init_SHOP_end - 1  /* i */
         1D:DB93  9C 12 23   			stz	__init_SHOP_end - 1
21000    1D:DB96             	.LL999:
21001                        		__ld.umq	__init_SHOP_end - 1  /* i */
         1D:DB96  AD 12 23   			lda	__init_SHOP_end - 1
21002                        		__ult_b.uiq	10
         1D:DB99  C9 0A      			cmp	#10		; Subtract integer from A.
         1D:DB9B  6A         			ror	a		; CC if A < integer.
         1D:DB9C  49 80      			eor	#$80
         1D:DB9E  2A         			rol	a
21003                        		__btrue		.LL1001
         1D:DB9F  B0 07      			bcs	.LL1001
21004                        		__bra		.LL1002
         1D:DBA1  80 42      			bra	.LL1002
21005    1D:DBA3             	.LL1000:
21006                        		__inc.umq	__init_SHOP_end - 1  /* i */
         1D:DBA3  EE 12 23   			inc	__init_SHOP_end - 1
21007                        		__bra		.LL999
         1D:DBA6  80 EE      			bra	.LL999
21008    1D:DBA8             	.LL1001:
21009                        	
21010                        		.dbg	line,	"include\init.c", 1145; {
21011                        	
21012                        		.dbg	line,	"include\init.c", 1146; set_far_base(TABLE_SHOP_ITEMS_TILES_BANK[i],TABLE_SHOP_ITEMS_TILES_ADR[i]);
21013                        		__ldx.umq	__init_SHOP_end - 1  /* i */
         1D:DBA8  AE 12 23   			ldx	__init_SHOP_end - 1
21014                        		__ld.uax	_TABLE_SHOP_ITEMS_TILES_BANK
         1D:DBAB  BD 1E 63   			lda	_TABLE_SHOP_ITEMS_TILES_BANK, x
         1D:DBAE  C2         			cly
21015                        		__st.umq	_bp_bank
         1D:DBAF  85 02      			sta	_bp_bank
21016                        		__ld2x.umq	__init_SHOP_end - 1  /* i */
         1D:DBB1  AD 12 23   			lda	__init_SHOP_end - 1
         1D:DBB4  0A         			asl	a
         1D:DBB5  AA         			tax
21017                        		__ld.wax	_TABLE_SHOP_ITEMS_TILES_ADR
         1D:DBB6  BD 0A 63   			lda.l	_TABLE_SHOP_ITEMS_TILES_ADR, x
         1D:DBB9  BC 0B 63   			ldy.h	_TABLE_SHOP_ITEMS_TILES_ADR, x
21018                        		__st.wmq	_bp
         1D:DBBC  85 EC      			sta.l	_bp
         1D:DBBE  84 ED      			sty.h	_bp
21019                        	
21020                        		.dbg	line,	"include\init.c", 1147; sgx_far_load_vram( 0x1000 + (i * TILES_4), TILES_4 );
21021                        		__ld.um		__init_SHOP_end - 1  /* i */
         1D:DBC0  AD 12 23   			lda	__init_SHOP_end - 1
         1D:DBC3  C2         			cly
21022                        		__asl.wi	6
         1D:DBC4  85 00      			sta	__temp
         1D:DBC6  98         			tya
         1D:DBC7  4A         			lsr	a
         1D:DBC8  20 CB E1   			jsr	aslw6
         1D:DBCB  29 C0      			and.l	#$FF << 6
21023                        		__add.wi	4096
         1D:DBCD  18         			clc
         1D:DBCE  69 00      			adc.l	#4096
         1D:DBD0  42         			say
         1D:DBD1  69 10      			adc.h	#4096
         1D:DBD3  42         			say
21024                        		__st.wmq	_di
         1D:DBD4  85 F0      			sta.l	_di
         1D:DBD6  84 F1      			sty.h	_di
21025                        		__st.wmiq	64, _ax
         1D:DBD8  A9 40      			lda.l	#64
         1D:DBDA  85 F8      			sta.l	_ax
         1D:DBDC  64 F9      			stz.h	_ax
21026                        		 _sgx_far_load_vram.2
         1D:DBDE  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1D:DBE0  20 09 FF   			call	load_vram_x
21027                        	
21028                        		.dbg	line,	"include\init.c", 1148; }
21029                        		__bra		.LL1000
         1D:DBE3  80 BE      			bra	.LL1000
21030    1D:DBE5             	.LL1002:
21031                        	
21032                        		.dbg	line,	"include\init.c", 1151; //--------------------------------------------------------------------------------------//
21033                        	
21034                        		.dbg	line,	"include\init.c", 1152; //                                      SET BLOCKS                                      //
21035                        	
21036                        		.dbg	line,	"include\init.c", 1153; //--------------------------------------------------------------------------------------//
21037                        	
21038                        		.dbg	line,	"include\init.c", 1155; sgx_set_blocks( blocks_SHOP_BG_B , tilemap_mask , 256 );
21039                        		__farptr	_blocks_SHOP_BG_B, sgx_blk_bank, sgx_blk_addr
         1D:DBE5  A9 00      			lda.l	#$6000 + ($1FFF & (_blocks_SHOP_BG_B))
         1D:DBE7  8D 11 2C   			sta.l	sgx_blk_addr
         1D:DBEA  A9 78      			lda.h	#$6000 + ($1FFF & (_blocks_SHOP_BG_B))
         1D:DBEC  8D 12 2C   			sta.h	sgx_blk_addr
         1D:DBEF  A9 11      			lda	#bank(_blocks_SHOP_BG_B)
         1D:DBF1  8D 13 2C   			sta	sgx_blk_bank
21040                        		__farptr	_tilemap_mask, sgx_tbl_bank, sgx_tbl_addr
         1D:DBF4  A9 F6      			lda.l	#$6000 + ($1FFF & (_tilemap_mask))
         1D:DBF6  8D 0E 2C   			sta.l	sgx_tbl_addr
         1D:DBF9  A9 63      			lda.h	#$6000 + ($1FFF & (_tilemap_mask))
         1D:DBFB  8D 0F 2C   			sta.h	sgx_tbl_addr
         1D:DBFE  A9 F8      			lda	#bank(_tilemap_mask)
         1D:DC00  8D 10 2C   			sta	sgx_tbl_bank
21041                        		__st.umiq	256, _al
         1D:DC03  A9 00      			lda.l	#256
         1D:DC05  85 F8      			sta	_al
21042                        		__call		_sgx_set_blocks.3
         1D:DC07  20 37 FE   			call	_sgx_set_blocks.3
21043                        	
21044                        		.dbg	line,	"include\init.c", 1159; //--------------------------------------------------------------------------------------//
21045                        	
21046                        		.dbg	line,	"include\init.c", 1160; //                                       SET MAP                                        //
21047                        	
21048                        		.dbg	line,	"include\init.c", 1161; //--------------------------------------------------------------------------------------//
21049                        	
21050                        		.dbg	line,	"include\init.c", 1163; sgx_set_blkmap( map_SHOP_BG_B, COUNTOF(map_SHOP_BG_B) );
21051                        		__farptr	_map_SHOP_BG_B, sgx_map_bank, sgx_map_addr
         1D:DC0A  A9 00      			lda.l	#$6000 + ($1FFF & (_map_SHOP_BG_B))
         1D:DC0C  8D 14 2C   			sta.l	sgx_map_addr
         1D:DC0F  A9 60      			lda.h	#$6000 + ($1FFF & (_map_SHOP_BG_B))
         1D:DC11  8D 15 2C   			sta.h	sgx_map_addr
         1D:DC14  A9 12      			lda	#bank(_map_SHOP_BG_B)
         1D:DC16  8D 16 2C   			sta	sgx_map_bank
21052                        		__ld.wi		___countof__map_SHOP_BG_B
         1D:DC19  A9 10      			lda.l	#___countof__map_SHOP_BG_B
         1D:DC1B  A0 00      			ldy.h	#___countof__map_SHOP_BG_B
21053                        		__st.umq	sgx_map_line_w
         1D:DC1D  8D D7 26   			sta	sgx_map_line_w
21054                        		 _sgx_set_blkmap.2
         1D:DC20  9C 19 2C   			stz	sgx_scr_bank
21055                        	
21056                        		.dbg	line,	"include\init.c", 1166; //--------------------------------------------------------------------------------------//
21057                        	
21058                        		.dbg	line,	"include\init.c", 1167; //                                    DRAW TILEMAP                                      //
21059                        	
21060                        		.dbg	line,	"include\init.c", 1168; //--------------------------------------------------------------------------------------//
21061                        	
21062                        		.dbg	line,	"include\init.c", 1170; // The blkmap is drawn using global variables for the top-left coordinate
21063                        	
21064                        		.dbg	line,	"include\init.c", 1171; // in pixels, and the draw width and height in terms of 8x8 characters.
21065                        	
21066                        		.dbg	line,	"include\init.c", 1173; sgx_map_pxl_x = 0;
21067                        		__st.wmiq	0, _sgx_map_pxl_x
         1D:DC23  9C D9 26   			stz.l	_sgx_map_pxl_x
         1D:DC26  9C DA 26   			stz.h	_sgx_map_pxl_x
21068                        	
21069                        		.dbg	line,	"include\init.c", 1174; sgx_map_pxl_y = 0;
21070                        		__st.wmiq	0, _sgx_map_pxl_y
         1D:DC29  9C DB 26   			stz.l	_sgx_map_pxl_y
         1D:DC2C  9C DC 26   			stz.h	_sgx_map_pxl_y
21071                        	
21072                        		.dbg	line,	"include\init.c", 1176; sgx_map_draw_w = 32;
21073                        		__st.umiq	32, _sgx_map_draw_w
         1D:DC2F  A9 20      			lda.l	#32
         1D:DC31  8D D5 26   			sta	_sgx_map_draw_w
21074                        	
21075                        		.dbg	line,	"include\init.c", 1177; sgx_map_draw_h = 28;
21076                        		__st.umiq	28, _sgx_map_draw_h
         1D:DC34  A9 1C      			lda.l	#28
         1D:DC36  8D D6 26   			sta	_sgx_map_draw_h
21077                        	
21078                        		.dbg	line,	"include\init.c", 1180; //**************************************************************************************//
21079                        	
21080                        		.dbg	line,	"include\init.c", 1181; //                                                                                      //
21081                        	
21082                        		.dbg	line,	"include\init.c", 1182; //                                  SETUP SCROLL_SPLIT                                  //
21083                        	
21084                        		.dbg	line,	"include\init.c", 1183; //                                                                                      //
21085                        	
21086                        		.dbg	line,	"include\init.c", 1184; //**************************************************************************************//
21087                        	
21088                        		.dbg	line,	"include\init.c", 1186; sgx_draw_map();
21089                        		__call		_sgx_draw_map
         1D:DC39  20 A5 FE   			call	_sgx_draw_map
21090                        	
21091                        		.dbg	line,	"include\init.c", 1188; sgx_scroll_split(0,   0, sgx_map_pxl_x & (BAT_SIZE_W - 1), sgx_map_pxl_y & (BAT_SIZE_H - 1), BKG_ON | SPR_ON);
21092                        		__st.umiq	0, _al
         1D:DC3C  64 F8      			stz	_al
21093                        		__st.umiq	0, _ah
         1D:DC3E  64 F9      			stz	_ah
21094                        		__ld.wm		_sgx_map_pxl_x
         1D:DC40  AD D9 26   			lda.l	_sgx_map_pxl_x
         1D:DC43  AC DA 26   			ldy.h	_sgx_map_pxl_x
21095                        		__and.wi	2047
         1D:DC46  29 FF      			and.l	#2047
         1D:DC48  42         			say
         1D:DC49  29 07      			and.h	#2047
         1D:DC4B  42         			say
21096                        		__st.wmq	_bx
         1D:DC4C  85 FA      			sta.l	_bx
         1D:DC4E  84 FB      			sty.h	_bx
21097                        		__ld.wm		_sgx_map_pxl_y
         1D:DC50  AD DB 26   			lda.l	_sgx_map_pxl_y
         1D:DC53  AC DC 26   			ldy.h	_sgx_map_pxl_y
21098                        		__and.wi	255
         1D:DC56  29 FF      			and	#255
         1D:DC58  C2         			cly
21099                        		__st.wmq	_cx
         1D:DC59  85 FC      			sta.l	_cx
         1D:DC5B  84 FD      			sty.h	_cx
21100                        		__st.umiq	192, _dl
         1D:DC5D  A9 C0      			lda.l	#192
         1D:DC5F  85 FE      			sta	_dl
21101                        		__call		_sgx_scroll_split.5
         1D:DC61  20 59 FF   			call	_sgx_scroll_split.5
21102                        	
21103                        		.dbg	line,	"include\init.c", 1193; //**************************************************************************************//
21104                        	
21105                        		.dbg	line,	"include\init.c", 1194; //                                                                                      //
21106                        	
21107                        		.dbg	line,	"include\init.c", 1195; //                                         HUD                                          //
21108                        	
21109                        		.dbg	line,	"include\init.c", 1196; //                                                                                      //
21110                        	
21111                        		.dbg	line,	"include\init.c", 1197; //**************************************************************************************//
21112                        	
21113                        		.dbg	line,	"include\init.c", 1199; init_HUD();
21114                        		__call		_init_HUD
         1D:DC64  20 9B FE   			call	_init_HUD
21115                        	
21116                        		.dbg	line,	"include\init.c", 1202; //--------------------------------------------------------------------------------------//
21117                        	
21118                        		.dbg	line,	"include\init.c", 1203; //                                     DRAW PRICES                                      //
21119                        	
21120                        		.dbg	line,	"include\init.c", 1204; //--------------------------------------------------------------------------------------//
21121                        	
21122                        		.dbg	line,	"include\init.c", 1206; shop_prices[0] = *(ptr_SHOP_ITEM_PRICES);
21123                        		__ld.wm		_ptr_SHOP_ITEM_PRICES
         1D:DC67  AD 93 26   			lda.l	_ptr_SHOP_ITEM_PRICES
         1D:DC6A  AC 94 26   			ldy.h	_ptr_SHOP_ITEM_PRICES
21124                        		__st.wm		__ptr
         1D:DC6D  85 88      			sta.l	__ptr
         1D:DC6F  84 89      			sty.h	__ptr
21125                        		__ld.wp		__ptr
         1D:DC71  A0 01      			ldy	#1
         1D:DC73  B1 88      			lda	[__ptr], y
         1D:DC75  A8         			tay
         1D:DC76  B2 88      			lda	[__ptr]
21126                        		__st.wmq	_shop_prices
         1D:DC78  8D 5A 26   			sta.l	_shop_prices
         1D:DC7B  8C 5B 26   			sty.h	_shop_prices
21127                        	
21128                        		.dbg	line,	"include\init.c", 1207; shop_prices[1] = *(ptr_SHOP_ITEM_PRICES+1);
21129                        		__ld.wm		_ptr_SHOP_ITEM_PRICES
         1D:DC7E  AD 93 26   			lda.l	_ptr_SHOP_ITEM_PRICES
         1D:DC81  AC 94 26   			ldy.h	_ptr_SHOP_ITEM_PRICES
21130                        		__add.wi	2
         1D:DC84  18         			clc
         1D:DC85  69 02      			adc.l	#2
         1D:DC87  90 01      			bcc	!+
         1D:DC89  C8         			iny
         1D:DC8A             	!:
21131                        		__st.wm		__ptr
         1D:DC8A  85 88      			sta.l	__ptr
         1D:DC8C  84 89      			sty.h	__ptr
21132                        		__ld.wp		__ptr
         1D:DC8E  A0 01      			ldy	#1
         1D:DC90  B1 88      			lda	[__ptr], y
         1D:DC92  A8         			tay
         1D:DC93  B2 88      			lda	[__ptr]
21133                        		__st.wmq	_shop_prices + 2
         1D:DC95  8D 5C 26   			sta.l	_shop_prices + 2
         1D:DC98  8C 5D 26   			sty.h	_shop_prices + 2
21134                        	
21135                        		.dbg	line,	"include\init.c", 1208; shop_prices[2] = *(ptr_SHOP_ITEM_PRICES+2);
21136                        		__ld.wm		_ptr_SHOP_ITEM_PRICES
         1D:DC9B  AD 93 26   			lda.l	_ptr_SHOP_ITEM_PRICES
         1D:DC9E  AC 94 26   			ldy.h	_ptr_SHOP_ITEM_PRICES
21137                        		__add.wi	4
         1D:DCA1  18         			clc
         1D:DCA2  69 04      			adc.l	#4
         1D:DCA4  90 01      			bcc	!+
         1D:DCA6  C8         			iny
         1D:DCA7             	!:
21138                        		__st.wm		__ptr
         1D:DCA7  85 88      			sta.l	__ptr
         1D:DCA9  84 89      			sty.h	__ptr
21139                        		__ld.wp		__ptr
         1D:DCAB  A0 01      			ldy	#1
         1D:DCAD  B1 88      			lda	[__ptr], y
         1D:DCAF  A8         			tay
         1D:DCB0  B2 88      			lda	[__ptr]
21140                        		__st.wmq	_shop_prices + 4
         1D:DCB2  8D 5E 26   			sta.l	_shop_prices + 4
         1D:DCB5  8C 5F 26   			sty.h	_shop_prices + 4
21141                        	
21142                        		.dbg	line,	"include\init.c", 1209; shop_prices[3] = *(ptr_SHOP_ITEM_PRICES+3);
21143                        		__ld.wm		_ptr_SHOP_ITEM_PRICES
         1D:DCB8  AD 93 26   			lda.l	_ptr_SHOP_ITEM_PRICES
         1D:DCBB  AC 94 26   			ldy.h	_ptr_SHOP_ITEM_PRICES
21144                        		__add.wi	6
         1D:DCBE  18         			clc
         1D:DCBF  69 06      			adc.l	#6
         1D:DCC1  90 01      			bcc	!+
         1D:DCC3  C8         			iny
         1D:DCC4             	!:
21145                        		__st.wm		__ptr
         1D:DCC4  85 88      			sta.l	__ptr
         1D:DCC6  84 89      			sty.h	__ptr
21146                        		__ld.wp		__ptr
         1D:DCC8  A0 01      			ldy	#1
         1D:DCCA  B1 88      			lda	[__ptr], y
         1D:DCCC  A8         			tay
         1D:DCCD  B2 88      			lda	[__ptr]
21147                        		__st.wmq	_shop_prices + 6
         1D:DCCF  8D 60 26   			sta.l	_shop_prices + 6
         1D:DCD2  8C 61 26   			sty.h	_shop_prices + 6
21148                        	
21149                        		.dbg	line,	"include\init.c", 1210; shop_prices[4] = *(ptr_SHOP_ITEM_PRICES+4);
21150                        		__ld.wm		_ptr_SHOP_ITEM_PRICES
         1D:DCD5  AD 93 26   			lda.l	_ptr_SHOP_ITEM_PRICES
         1D:DCD8  AC 94 26   			ldy.h	_ptr_SHOP_ITEM_PRICES
21151                        		__add.wi	8
         1D:DCDB  18         			clc
         1D:DCDC  69 08      			adc.l	#8
         1D:DCDE  90 01      			bcc	!+
         1D:DCE0  C8         			iny
         1D:DCE1             	!:
21152                        		__st.wm		__ptr
         1D:DCE1  85 88      			sta.l	__ptr
         1D:DCE3  84 89      			sty.h	__ptr
21153                        		__ld.wp		__ptr
         1D:DCE5  A0 01      			ldy	#1
         1D:DCE7  B1 88      			lda	[__ptr], y
         1D:DCE9  A8         			tay
         1D:DCEA  B2 88      			lda	[__ptr]
21154                        		__st.wmq	_shop_prices + 8
         1D:DCEC  8D 62 26   			sta.l	_shop_prices + 8
         1D:DCEF  8C 63 26   			sty.h	_shop_prices + 8
21155                        	
21156                        		.dbg	line,	"include\init.c", 1211; 
21157                        	
21158                        		.dbg	line,	"include\init.c", 1212; shop_prices[5] = *(ptr_SHOP_ITEM_PRICES+5);
21159                        		__ld.wm		_ptr_SHOP_ITEM_PRICES
         1D:DCF2  AD 93 26   			lda.l	_ptr_SHOP_ITEM_PRICES
         1D:DCF5  AC 94 26   			ldy.h	_ptr_SHOP_ITEM_PRICES
21160                        		__add.wi	10
         1D:DCF8  18         			clc
         1D:DCF9  69 0A      			adc.l	#10
         1D:DCFB  90 01      			bcc	!+
         1D:DCFD  C8         			iny
         1D:DCFE             	!:
21161                        		__st.wm		__ptr
         1D:DCFE  85 88      			sta.l	__ptr
         1D:DD00  84 89      			sty.h	__ptr
21162                        		__ld.wp		__ptr
         1D:DD02  A0 01      			ldy	#1
         1D:DD04  B1 88      			lda	[__ptr], y
         1D:DD06  A8         			tay
         1D:DD07  B2 88      			lda	[__ptr]
21163                        		__st.wmq	_shop_prices + 10
         1D:DD09  8D 64 26   			sta.l	_shop_prices + 10
         1D:DD0C  8C 65 26   			sty.h	_shop_prices + 10
21164                        	
21165                        		.dbg	line,	"include\init.c", 1213; shop_prices[6] = *(ptr_SHOP_ITEM_PRICES+6);
21166                        		__ld.wm		_ptr_SHOP_ITEM_PRICES
         1D:DD0F  AD 93 26   			lda.l	_ptr_SHOP_ITEM_PRICES
         1D:DD12  AC 94 26   			ldy.h	_ptr_SHOP_ITEM_PRICES
21167                        		__add.wi	12
         1D:DD15  18         			clc
         1D:DD16  69 0C      			adc.l	#12
         1D:DD18  90 01      			bcc	!+
         1D:DD1A  C8         			iny
         1D:DD1B             	!:
21168                        		__st.wm		__ptr
         1D:DD1B  85 88      			sta.l	__ptr
         1D:DD1D  84 89      			sty.h	__ptr
21169                        		__ld.wp		__ptr
         1D:DD1F  A0 01      			ldy	#1
         1D:DD21  B1 88      			lda	[__ptr], y
         1D:DD23  A8         			tay
         1D:DD24  B2 88      			lda	[__ptr]
21170                        		__st.wmq	_shop_prices + 12
         1D:DD26  8D 66 26   			sta.l	_shop_prices + 12
         1D:DD29  8C 67 26   			sty.h	_shop_prices + 12
21171                        	
21172                        		.dbg	line,	"include\init.c", 1214; shop_prices[7] = *(ptr_SHOP_ITEM_PRICES+7);
21173                        		__ld.wm		_ptr_SHOP_ITEM_PRICES
         1D:DD2C  AD 93 26   			lda.l	_ptr_SHOP_ITEM_PRICES
         1D:DD2F  AC 94 26   			ldy.h	_ptr_SHOP_ITEM_PRICES
21174                        		__add.wi	14
         1D:DD32  18         			clc
         1D:DD33  69 0E      			adc.l	#14
         1D:DD35  90 01      			bcc	!+
         1D:DD37  C8         			iny
         1D:DD38             	!:
21175                        		__st.wm		__ptr
         1D:DD38  85 88      			sta.l	__ptr
         1D:DD3A  84 89      			sty.h	__ptr
21176                        		__ld.wp		__ptr
         1D:DD3C  A0 01      			ldy	#1
         1D:DD3E  B1 88      			lda	[__ptr], y
         1D:DD40  A8         			tay
         1D:DD41  B2 88      			lda	[__ptr]
21177                        		__st.wmq	_shop_prices + 14
         1D:DD43  8D 68 26   			sta.l	_shop_prices + 14
         1D:DD46  8C 69 26   			sty.h	_shop_prices + 14
21178                        	
21179                        		.dbg	line,	"include\init.c", 1215; shop_prices[8] = *(ptr_SHOP_ITEM_PRICES+8);
21180                        		__ld.wm		_ptr_SHOP_ITEM_PRICES
         1D:DD49  AD 93 26   			lda.l	_ptr_SHOP_ITEM_PRICES
         1D:DD4C  AC 94 26   			ldy.h	_ptr_SHOP_ITEM_PRICES
21181                        		__add.wi	16
         1D:DD4F  18         			clc
         1D:DD50  69 10      			adc.l	#16
         1D:DD52  90 01      			bcc	!+
         1D:DD54  C8         			iny
         1D:DD55             	!:
21182                        		__st.wm		__ptr
         1D:DD55  85 88      			sta.l	__ptr
         1D:DD57  84 89      			sty.h	__ptr
21183                        		__ld.wp		__ptr
         1D:DD59  A0 01      			ldy	#1
         1D:DD5B  B1 88      			lda	[__ptr], y
         1D:DD5D  A8         			tay
         1D:DD5E  B2 88      			lda	[__ptr]
21184                        		__st.wmq	_shop_prices + 16
         1D:DD60  8D 6A 26   			sta.l	_shop_prices + 16
         1D:DD63  8C 6B 26   			sty.h	_shop_prices + 16
21185                        	
21186                        		.dbg	line,	"include\init.c", 1216; shop_prices[9] = *(ptr_SHOP_ITEM_PRICES+9);
21187                        		__ld.wm		_ptr_SHOP_ITEM_PRICES
         1D:DD66  AD 93 26   			lda.l	_ptr_SHOP_ITEM_PRICES
         1D:DD69  AC 94 26   			ldy.h	_ptr_SHOP_ITEM_PRICES
21188                        		__add.wi	18
         1D:DD6C  18         			clc
         1D:DD6D  69 12      			adc.l	#18
         1D:DD6F  90 01      			bcc	!+
         1D:DD71  C8         			iny
         1D:DD72             	!:
21189                        		__st.wm		__ptr
         1D:DD72  85 88      			sta.l	__ptr
         1D:DD74  84 89      			sty.h	__ptr
21190                        		__ld.wp		__ptr
         1D:DD76  A0 01      			ldy	#1
         1D:DD78  B1 88      			lda	[__ptr], y
         1D:DD7A  A8         			tay
         1D:DD7B  B2 88      			lda	[__ptr]
21191                        		__st.wmq	_shop_prices + 18
         1D:DD7D  8D 6C 26   			sta.l	_shop_prices + 18
         1D:DD80  8C 6D 26   			sty.h	_shop_prices + 18
21192                        	
21193                        		.dbg	line,	"include\init.c", 1219; put_number(shop_prices[0],4,2,20);
21194                        		__ld.wm		_shop_prices
         1D:DD83  AD 5A 26   			lda.l	_shop_prices
         1D:DD86  AC 5B 26   			ldy.h	_shop_prices
21195                        		__st.wmq	_bx
         1D:DD89  85 FA      			sta.l	_bx
         1D:DD8B  84 FB      			sty.h	_bx
21196                        		__st.umiq	4, _cl
         1D:DD8D  A9 04      			lda.l	#4
         1D:DD8F  85 FC      			sta	_cl
21197                        		__st.umiq	2, _dil
         1D:DD91  A9 02      			lda.l	#2
         1D:DD93  85 F0      			sta	_dil
21198                        		__st.umiq	20, _dih
         1D:DD95  A9 14      			lda.l	#20
         1D:DD97  85 F1      			sta	_dih
21199                        		__call		_put_number.4
         1D:DD99  20 6D FF   			call	_put_number.4
21200                        	
21201                        		.dbg	line,	"include\init.c", 1220; put_number(shop_prices[1],4,7,20);
21202                        		__ld.wm		_shop_prices + 2
         1D:DD9C  AD 5C 26   			lda.l	_shop_prices + 2
         1D:DD9F  AC 5D 26   			ldy.h	_shop_prices + 2
21203                        		__st.wmq	_bx
         1D:DDA2  85 FA      			sta.l	_bx
         1D:DDA4  84 FB      			sty.h	_bx
21204                        		__st.umiq	4, _cl
         1D:DDA6  A9 04      			lda.l	#4
         1D:DDA8  85 FC      			sta	_cl
21205                        		__st.umiq	7, _dil
         1D:DDAA  A9 07      			lda.l	#7
         1D:DDAC  85 F0      			sta	_dil
21206                        		__st.umiq	20, _dih
         1D:DDAE  A9 14      			lda.l	#20
         1D:DDB0  85 F1      			sta	_dih
21207                        		__call		_put_number.4
         1D:DDB2  20 6D FF   			call	_put_number.4
21208                        	
21209                        		.dbg	line,	"include\init.c", 1221; put_number(shop_prices[2],4,12,20);
21210                        		__ld.wm		_shop_prices + 4
         1D:DDB5  AD 5E 26   			lda.l	_shop_prices + 4
         1D:DDB8  AC 5F 26   			ldy.h	_shop_prices + 4
21211                        		__st.wmq	_bx
         1D:DDBB  85 FA      			sta.l	_bx
         1D:DDBD  84 FB      			sty.h	_bx
21212                        		__st.umiq	4, _cl
         1D:DDBF  A9 04      			lda.l	#4
         1D:DDC1  85 FC      			sta	_cl
21213                        		__st.umiq	12, _dil
         1D:DDC3  A9 0C      			lda.l	#12
         1D:DDC5  85 F0      			sta	_dil
21214                        		__st.umiq	20, _dih
         1D:DDC7  A9 14      			lda.l	#20
         1D:DDC9  85 F1      			sta	_dih
21215                        		__call		_put_number.4
         1D:DDCB  20 6D FF   			call	_put_number.4
21216                        	
21217                        		.dbg	line,	"include\init.c", 1222; put_number(shop_prices[3],4,17,20);
21218                        		__ld.wm		_shop_prices + 6
         1D:DDCE  AD 60 26   			lda.l	_shop_prices + 6
         1D:DDD1  AC 61 26   			ldy.h	_shop_prices + 6
21219                        		__st.wmq	_bx
         1D:DDD4  85 FA      			sta.l	_bx
         1D:DDD6  84 FB      			sty.h	_bx
21220                        		__st.umiq	4, _cl
         1D:DDD8  A9 04      			lda.l	#4
         1D:DDDA  85 FC      			sta	_cl
21221                        		__st.umiq	17, _dil
         1D:DDDC  A9 11      			lda.l	#17
         1D:DDDE  85 F0      			sta	_dil
21222                        		__st.umiq	20, _dih
         1D:DDE0  A9 14      			lda.l	#20
         1D:DDE2  85 F1      			sta	_dih
21223                        		__call		_put_number.4
         1D:DDE4  20 6D FF   			call	_put_number.4
21224                        	
21225                        		.dbg	line,	"include\init.c", 1223; put_number(shop_prices[4],4,22,20);
21226                        		__ld.wm		_shop_prices + 8
         1D:DDE7  AD 62 26   			lda.l	_shop_prices + 8
         1D:DDEA  AC 63 26   			ldy.h	_shop_prices + 8
21227                        		__st.wmq	_bx
         1D:DDED  85 FA      			sta.l	_bx
         1D:DDEF  84 FB      			sty.h	_bx
21228                        		__st.umiq	4, _cl
         1D:DDF1  A9 04      			lda.l	#4
         1D:DDF3  85 FC      			sta	_cl
21229                        		__st.umiq	22, _dil
         1D:DDF5  A9 16      			lda.l	#22
         1D:DDF7  85 F0      			sta	_dil
21230                        		__st.umiq	20, _dih
         1D:DDF9  A9 14      			lda.l	#20
         1D:DDFB  85 F1      			sta	_dih
21231                        		__call		_put_number.4
         1D:DDFD  20 6D FF   			call	_put_number.4
21232                        	
21233                        		.dbg	line,	"include\init.c", 1225; put_number(shop_prices[5],4,2,23);
21234                        		__ld.wm		_shop_prices + 10
         1D:DE00  AD 64 26   			lda.l	_shop_prices + 10
         1D:DE03  AC 65 26   			ldy.h	_shop_prices + 10
21235                        		__st.wmq	_bx
         1D:DE06  85 FA      			sta.l	_bx
         1D:DE08  84 FB      			sty.h	_bx
21236                        		__st.umiq	4, _cl
         1D:DE0A  A9 04      			lda.l	#4
         1D:DE0C  85 FC      			sta	_cl
21237                        		__st.umiq	2, _dil
         1D:DE0E  A9 02      			lda.l	#2
         1D:DE10  85 F0      			sta	_dil
21238                        		__st.umiq	23, _dih
         1D:DE12  A9 17      			lda.l	#23
         1D:DE14  85 F1      			sta	_dih
21239                        		__call		_put_number.4
         1D:DE16  20 6D FF   			call	_put_number.4
21240                        	
21241                        		.dbg	line,	"include\init.c", 1226; put_number(shop_prices[6],4,7,23);
21242                        		__ld.wm		_shop_prices + 12
         1D:DE19  AD 66 26   			lda.l	_shop_prices + 12
         1D:DE1C  AC 67 26   			ldy.h	_shop_prices + 12
21243                        		__st.wmq	_bx
         1D:DE1F  85 FA      			sta.l	_bx
         1D:DE21  84 FB      			sty.h	_bx
21244                        		__st.umiq	4, _cl
         1D:DE23  A9 04      			lda.l	#4
         1D:DE25  85 FC      			sta	_cl
21245                        		__st.umiq	7, _dil
         1D:DE27  A9 07      			lda.l	#7
         1D:DE29  85 F0      			sta	_dil
21246                        		__st.umiq	23, _dih
         1D:DE2B  A9 17      			lda.l	#23
         1D:DE2D  85 F1      			sta	_dih
21247                        		__call		_put_number.4
         1D:DE2F  20 6D FF   			call	_put_number.4
21248                        	
21249                        		.dbg	line,	"include\init.c", 1227; put_number(shop_prices[7],4,12,23);
21250                        		__ld.wm		_shop_prices + 14
         1D:DE32  AD 68 26   			lda.l	_shop_prices + 14
         1D:DE35  AC 69 26   			ldy.h	_shop_prices + 14
21251                        		__st.wmq	_bx
         1D:DE38  85 FA      			sta.l	_bx
         1D:DE3A  84 FB      			sty.h	_bx
21252                        		__st.umiq	4, _cl
         1D:DE3C  A9 04      			lda.l	#4
         1D:DE3E  85 FC      			sta	_cl
21253                        		__st.umiq	12, _dil
         1D:DE40  A9 0C      			lda.l	#12
         1D:DE42  85 F0      			sta	_dil
21254                        		__st.umiq	23, _dih
         1D:DE44  A9 17      			lda.l	#23
         1D:DE46  85 F1      			sta	_dih
21255                        		__call		_put_number.4
         1D:DE48  20 6D FF   			call	_put_number.4
21256                        	
21257                        		.dbg	line,	"include\init.c", 1228; put_number(shop_prices[8],4,17,23);
21258                        		__ld.wm		_shop_prices + 16
         1D:DE4B  AD 6A 26   			lda.l	_shop_prices + 16
         1D:DE4E  AC 6B 26   			ldy.h	_shop_prices + 16
21259                        		__st.wmq	_bx
         1D:DE51  85 FA      			sta.l	_bx
         1D:DE53  84 FB      			sty.h	_bx
21260                        		__st.umiq	4, _cl
         1D:DE55  A9 04      			lda.l	#4
         1D:DE57  85 FC      			sta	_cl
21261                        		__st.umiq	17, _dil
         1D:DE59  A9 11      			lda.l	#17
         1D:DE5B  85 F0      			sta	_dil
21262                        		__st.umiq	23, _dih
         1D:DE5D  A9 17      			lda.l	#23
         1D:DE5F  85 F1      			sta	_dih
21263                        		__call		_put_number.4
         1D:DE61  20 6D FF   			call	_put_number.4
21264                        	
21265                        		.dbg	line,	"include\init.c", 1229; put_number(shop_prices[9],4,22,23);
21266                        		__ld.wm		_shop_prices + 18
         1D:DE64  AD 6C 26   			lda.l	_shop_prices + 18
         1D:DE67  AC 6D 26   			ldy.h	_shop_prices + 18
21267                        		__st.wmq	_bx
         1D:DE6A  85 FA      			sta.l	_bx
         1D:DE6C  84 FB      			sty.h	_bx
21268                        		__st.umiq	4, _cl
         1D:DE6E  A9 04      			lda.l	#4
         1D:DE70  85 FC      			sta	_cl
21269                        		__st.umiq	22, _dil
         1D:DE72  A9 16      			lda.l	#22
         1D:DE74  85 F0      			sta	_dil
21270                        		__st.umiq	23, _dih
         1D:DE76  A9 17      			lda.l	#23
         1D:DE78  85 F1      			sta	_dih
21271                        		__call		_put_number.4
         1D:DE7A  20 6D FF   			call	_put_number.4
21272                        	
21273                        		.dbg	line,	"include\init.c", 1234; //--------------------------------------------------------------------------------------//
21274                        	
21275                        		.dbg	line,	"include\init.c", 1235; //                                   LOAD BG PALETTES                                   //
21276                        	
21277                        		.dbg	line,	"include\init.c", 1236; //--------------------------------------------------------------------------------------//
21278                        	
21279                        		.dbg	line,	"include\init.c", 1238; load_palette( 0, palette_SHOP, 16 );
21280                        		__st.umiq	0, _al
         1D:DE7D  64 F8      			stz	_al
21281                        		__farptr	_palette_SHOP, _bp_bank, _bp
         1D:DE7F  A9 E0      			lda.l	#$6000 + ($1FFF & (_palette_SHOP))
         1D:DE81  85 EC      			sta.l	_bp
         1D:DE83  A9 65      			lda.h	#$6000 + ($1FFF & (_palette_SHOP))
         1D:DE85  85 ED      			sta.h	_bp
         1D:DE87  A9 12      			lda	#bank(_palette_SHOP)
         1D:DE89  85 02      			sta	_bp_bank
21282                        		__st.umiq	16, _ah
         1D:DE8B  A9 10      			lda.l	#16
         1D:DE8D  85 F9      			sta	_ah
21283                        		__call		_load_palette.3
         1D:DE8F  20 8B FF   			call	_load_palette.3
21284                        	
21285                        		.dbg	line,	"include\init.c", 1243; //**************************************************************************************//
21286                        	
21287                        		.dbg	line,	"include\init.c", 1244; //                                                                                      //
21288                        	
21289                        		.dbg	line,	"include\init.c", 1245; //                                       SPRITES                                        //
21290                        	
21291                        		.dbg	line,	"include\init.c", 1246; //                                                                                      //
21292                        	
21293                        		.dbg	line,	"include\init.c", 1247; //**************************************************************************************//
21294                        	
21295                        		.dbg	line,	"include\init.c", 1249; //--------------------------------------------------------------------------------------//
21296                        	
21297                        		.dbg	line,	"include\init.c", 1250; //                                   HIDE ALL SPRITES                                   //
21298                        	
21299                        		.dbg	line,	"include\init.c", 1251; //--------------------------------------------------------------------------------------//
21300                        	
21301                        		.dbg	line,	"include\init.c", 1253; for(i=0 ; i<63 ; i++)
21302                        		__st.umiq	0, __init_SHOP_end - 1  /* i */
         1D:DE92  9C 12 23   			stz	__init_SHOP_end - 1
21303    1D:DE95             	.LL1003:
21304                        		__ld.umq	__init_SHOP_end - 1  /* i */
         1D:DE95  AD 12 23   			lda	__init_SHOP_end - 1
21305                        		__ult_b.uiq	63
         1D:DE98  C9 3F      			cmp	#63		; Subtract integer from A.
         1D:DE9A  6A         			ror	a		; CC if A < integer.
         1D:DE9B  49 80      			eor	#$80
         1D:DE9D  2A         			rol	a
21306                        		__btrue		.LL1005
         1D:DE9E  B0 07      			bcs	.LL1005
21307                        		__bra		.LL1006
         1D:DEA0  80 19      			bra	.LL1006
21308    1D:DEA2             	.LL1004:
21309                        		__inc.umq	__init_SHOP_end - 1  /* i */
         1D:DEA2  EE 12 23   			inc	__init_SHOP_end - 1
21310                        		__bra		.LL1003
         1D:DEA5  80 EE      			bra	.LL1003
21311    1D:DEA7             	.LL1005:
21312                        	
21313                        		.dbg	line,	"include\init.c", 1254; {
21314                        	
21315                        		.dbg	line,	"include\init.c", 1255; spr_set(i);
21316                        		__ld.umq	__init_SHOP_end - 1  /* i */
         1D:DEA7  AD 12 23   			lda	__init_SHOP_end - 1
21317                        		__call		_spr_set.1
         1D:DEAA  20 F1 E7   			call	_spr_set.1
21318                        	
21319                        		.dbg	line,	"include\init.c", 1256; spr_hide();
21320                        		__call		_spr_hide
         1D:DEAD  20 0C E8   			call	_spr_hide
21321                        	
21322                        		.dbg	line,	"include\init.c", 1258; sgx_spr_set(i);
21323                        		__ld.umq	__init_SHOP_end - 1  /* i */
         1D:DEB0  AD 12 23   			lda	__init_SHOP_end - 1
21324                        		__call		_sgx_spr_set.1
         1D:DEB3  20 9E E8   			call	_sgx_spr_set.1
21325                        	
21326                        		.dbg	line,	"include\init.c", 1259; sgx_spr_hide();
21327                        		__call		_sgx_spr_hide
         1D:DEB6  20 B9 E8   			call	_sgx_spr_hide
21328                        	
21329                        		.dbg	line,	"include\init.c", 1260; }
21330                        		__bra		.LL1004
         1D:DEB9  80 E7      			bra	.LL1004
21331    1D:DEBB             	.LL1006:
21332                        	
21333                        		.dbg	line,	"include\init.c", 1262; //--------------------------------------------------------------------------------------//
21334                        	
21335                        		.dbg	line,	"include\init.c", 1263; //                                        CURSOR                                        //
21336                        	
21337                        		.dbg	line,	"include\init.c", 1264; //--------------------------------------------------------------------------------------//
21338                        	
21339                        		.dbg	line,	"include\init.c", 1266; // LOAD CURSOR TILES //
21340                        	
21341                        		.dbg	line,	"include\init.c", 1267; load_vram(0x2000, tiles_SPR_CURSOR , TILES_16);
21342                        		__st.wmiq	8192, _di
         1D:DEBB  64 F0      			stz.l	_di
         1D:DEBD  A9 20      			lda.h	#8192
         1D:DEBF  85 F1      			sta.h	_di
21343                        		__farptr	_tiles_SPR_CURSOR, _bp_bank, _bp
         1D:DEC1  A9 40      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_CURSOR))
         1D:DEC3  85 EC      			sta.l	_bp
         1D:DEC5  A9 62      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_CURSOR))
         1D:DEC7  85 ED      			sta.h	_bp
         1D:DEC9  A9 1B      			lda	#bank(_tiles_SPR_CURSOR)
         1D:DECB  85 02      			sta	_bp_bank
21344                        		__st.wmiq	256, _ax
         1D:DECD  64 F8      			stz.l	_ax
         1D:DECF  A9 01      			lda.h	#256
         1D:DED1  85 F9      			sta.h	_ax
21345                        		 _load_vram.3
         1D:DED3  82         			clx				; Offset to PCE VDC.
         1D:DED4  20 09 FF   			call	load_vram_x
21346                        	
21347                        		.dbg	line,	"include\init.c", 1270; // SELECT CURSOR SPRITE //
21348                        	
21349                        		.dbg	line,	"include\init.c", 1271; spr_set(0);
21350                        		__ld.uiq	0
         1D:DED7  62         			cla
21351                        		__call		_spr_set.1
         1D:DED8  20 F1 E7   			call	_spr_set.1
21352                        	
21353                        		.dbg	line,	"include\init.c", 1272; spr_hide();
21354                        		__call		_spr_hide
         1D:DEDB  20 0C E8   			call	_spr_hide
21355                        	
21356                        		.dbg	line,	"include\init.c", 1275; //spr_x(24);
21357                        	
21358                        		.dbg	line,	"include\init.c", 1276; //spr_y(144);
21359                        	
21360                        		.dbg	line,	"include\init.c", 1278; // SET TILES DATA FOR THE CURSOR //
21361                        	
21362                        		.dbg	line,	"include\init.c", 1279; spr_pattern(0x2000);
21363                        		__ld.wi		8192
         1D:DEDE  62         			cla
         1D:DEDF  A0 20      			ldy.h	#8192
21364                        		__call		_spr_pattern.1
         1D:DEE1  20 3A E8   			call	_spr_pattern.1
21365                        	
21366                        		.dbg	line,	"include\init.c", 1282; spr_ctrl(FLIP_MAS|SIZE_MAS, NO_FLIP|SZ_32x32);
21367                        		__st.umiq	185, _al
         1D:DEE4  A9 B9      			lda.l	#185
         1D:DEE6  85 F8      			sta	_al
21368                        		__ld.uiq	17
         1D:DEE8  A9 11      			lda	#17
21369                        		__call		_spr_ctrl.2
         1D:DEEA  20 50 E8   			call	_spr_ctrl.2
21370                        	
21371                        		.dbg	line,	"include\init.c", 1285; spr_pal(16);
21372                        		__ld.uiq	16
         1D:DEED  A9 10      			lda	#16
21373                        		__call		_spr_pal.1
         1D:DEEF  20 61 E8   			call	_spr_pal.1
21374                        	
21375                        		.dbg	line,	"include\init.c", 1286; spr_pri(TRUE);
21376                        		__ld.uiq	1
         1D:DEF2  A9 01      			lda	#1
21377                        		__call		_spr_pri.1
         1D:DEF4  20 70 E8   			call	_spr_pri.1
21378                        	
21379                        		.dbg	line,	"include\init.c", 1289; // UPDATE PCE SAT //
21380                        	
21381                        		.dbg	line,	"include\init.c", 1290; satb_update();
21382                        		__call		_satb_update
         1D:DEF7  20 E1 FE   			call	_satb_update
21383                        	
21384                        		.dbg	line,	"include\init.c", 1291; sgx_satb_update();
21385                        		__call		_sgx_satb_update
         1D:DEFA  20 D7 FE   			call	_sgx_satb_update
21386                        	
21387                        		.dbg	line,	"include\init.c", 1295; //--------------------------------------------------------------------------------------//
21388                        	
21389                        		.dbg	line,	"include\init.c", 1296; //                                LOAD SPRITES PALETTES                                 //
21390                        	
21391                        		.dbg	line,	"include\init.c", 1297; //--------------------------------------------------------------------------------------//
21392                        	
21393                        		.dbg	line,	"include\init.c", 1299; load_palette( 16, palette_objects_2, 1 );
21394                        		__st.umiq	16, _al
         1D:DEFD  A9 10      			lda.l	#16
         1D:DEFF  85 F8      			sta	_al
21395                        		__farptr	_palette_objects_2, _bp_bank, _bp
         1D:DF01  A9 40      			lda.l	#$6000 + ($1FFF & (_palette_objects_2))
         1D:DF03  85 EC      			sta.l	_bp
         1D:DF05  A9 74      			lda.h	#$6000 + ($1FFF & (_palette_objects_2))
         1D:DF07  85 ED      			sta.h	_bp
         1D:DF09  A9 1A      			lda	#bank(_palette_objects_2)
         1D:DF0B  85 02      			sta	_bp_bank
21396                        		__st.umiq	1, _ah
         1D:DF0D  A9 01      			lda.l	#1
         1D:DF0F  85 F9      			sta	_ah
21397                        		__call		_load_palette.3
         1D:DF11  20 8B FF   			call	_load_palette.3
21398                        	
21399                        		.dbg	line,	"include\init.c", 1303; // VSYNC //
21400                        	
21401                        		.dbg	line,	"include\init.c", 1304; vsync();
21402                        		__call		_vsync
         1D:DF14  20 1D E3   			call	_vsync
21403                        	
21404                        		.dbg	line,	"include\init.c", 1306; // ENABLE DISPLAY //
21405                        	
21406                        		.dbg	line,	"include\init.c", 1307; disp_on();
21407                        		__call		_disp_on
         1D:DF17  20 2A E4   			call	_disp_on
21408                        	
21409                        		.dbg	line,	"include\init.c", 1308; }
21410    1D:DF1A             	.LL997:
21411                        		__return	0
         1D:DF1A  4C EF FF   			jmp	leave_proc
21412                        		.dbg	clear
21413                        		.endp
21414               2311     		.bss
21415    F8:2311             			ds	2
21416    F8:2313             	__init_SHOP_end:
21417               E31D     		.code
21418                        		.pceas
21419                        	
21420                        		.dbg	line,	"main.c", 36; main()
21421                        		.dbg	line,	"main.c", 37; {
21422                        	;***********************
21423                        	;***********************
21424                        	
21425                        		.hucc
21426    1E:D13F             		.proc		_main
21427                        		__enter		_main
21428                        	
21429                        		.dbg	line,	"main.c", 38; if(!sgx_detect())
21430                        		 _sgx_detect
         1E:D13F  AD E8 22   			lda	sgx_detected
         1E:D142  C2         			cly
21431                        		__not.wr
         1E:D143  84 00      			sty	__temp
         1E:D145  05 00      			ora	__temp
         1E:D147  18         			clc
         1E:D148  D0 01      			bne	!+
         1E:D14A  38         			sec
         1E:D14B             	!:
21432                        		__bfalse	.LL1008
         1E:D14B  90 15      			bcc	.LL1008
21433                        	
21434                        		.dbg	line,	"main.c", 39; {
21435                        	
21436                        		.dbg	line,	"main.c", 40; put_string("Halt: SGX hardware not found", 2, 13);
21437                        		__ld.wi		__const1+70
         1E:D14D  A9 46      			lda.l	#__const1+70
         1E:D14F  A0 60      			ldy.h	#__const1+70
21438                        		__st.wmq	_bp
         1E:D151  85 EC      			sta.l	_bp
         1E:D153  84 ED      			sty.h	_bp
21439                        		__st.umiq	2, _dil
         1E:D155  A9 02      			lda.l	#2
         1E:D157  85 F0      			sta	_dil
21440                        		__st.umiq	13, _dih
         1E:D159  A9 0D      			lda.l	#13
         1E:D15B  85 F1      			sta	_dih
21441                        		__call		_put_string.3
         1E:D15D  20 5F E6   			call	_put_string.3
21442                        	
21443                        		.dbg	line,	"main.c", 42; for(;;)
21444    1E:D160             	.LL1009	.alias		.LL1011
21445    1E:D160             	.LL1010	.alias		.LL1011
21446    1E:D160             	.LL1011:
21447                        	
21448                        		.dbg	line,	"main.c", 43; {
21449                        	
21450                        		.dbg	line,	"main.c", 44; // INFINITE LOOP //
21451                        	
21452                        		.dbg	line,	"main.c", 45; }
21453                        		__bra		.LL1011
         1E:D160  80 FE      			bra	.LL1011
21454    1E:D162             	.LL1012:
21455                        	
21456                        		.dbg	line,	"main.c", 46; }
21457                        	
21458                        		.dbg	line,	"main.c", 51; init_SYSTEM();
21459    1E:D162             	.LL1008:
21460                        		__call		_init_SYSTEM
         1E:D162  20 2D FE   			call	_init_SYSTEM
21461                        	
21462                        		.dbg	line,	"main.c", 52; 
21463                        	
21464                        		.dbg	line,	"main.c", 53; 
21465                        	
21466                        		.dbg	line,	"main.c", 54; init_VARIABLES();
21467                        		__call		_init_VARIABLES
         1E:D165  20 23 FE   			call	_init_VARIABLES
21468                        	
21469                        		.dbg	line,	"main.c", 57; init_PLAYER();
21470                        		__call		_init_PLAYER
         1E:D168  20 19 FE   			call	_init_PLAYER
21471                        	
21472                        		.dbg	line,	"main.c", 62; //**************************************************************************************//
21473                        	
21474                        		.dbg	line,	"main.c", 63; //                                                                                      //
21475                        	
21476                        		.dbg	line,	"main.c", 64; //                                         MAIN                                         //
21477                        	
21478                        		.dbg	line,	"main.c", 65; //                                                                                      //
21479                        	
21480                        		.dbg	line,	"main.c", 66; //**************************************************************************************//
21481                        	
21482                        		.dbg	line,	"main.c", 67; for(;;)
21483    1E:D16B             	.LL1013:
21484    1E:D16B             	.LL1014:
21485    1E:D16B             	.LL1015:
21486                        	
21487                        		.dbg	line,	"main.c", 68; {
21488                        	
21489                        		.dbg	line,	"main.c", 69; switch(sequence_id)
21490                        		__ld.umq	_sequence_id
         1E:D16B  AD 13 23   			lda	_sequence_id
21491                        		__bra		.LL1017
         1E:D16E  4C AA D3   			bra	.LL1017
21492                        	
21493                        		.dbg	line,	"main.c", 70; {
21494                        	
21495                        		.dbg	line,	"main.c", 71; //-----------------------------------------------------------------------------//
21496                        	
21497                        		.dbg	line,	"main.c", 72; //                                    TITLE                                    //
21498                        	
21499                        		.dbg	line,	"main.c", 73; //-----------------------------------------------------------------------------//
21500                        	
21501                        		.dbg	line,	"main.c", 74; case SEQUENCE_TITLE:
21502    1E:D171             	.LL1019:
21503                        		__case		0
21504                        	
21505                        		.dbg	line,	"main.c", 75; if(sequence_loaded == FALSE)
21506                        		__not.um	_sequence_loaded
         1E:D171  AD 14 23   			lda	_sequence_loaded
         1E:D174  18         			clc
         1E:D175  D0 01      			bne	!+
         1E:D177  38         			sec
         1E:D178             	!:
21507                        		__bfalse	.LL1020
         1E:D178  90 0A      			bcc	.LL1020
21508                        	
21509                        		.dbg	line,	"main.c", 76; {
21510                        	
21511                        		.dbg	line,	"main.c", 77; init_TITLE();
21512                        		__call		_init_TITLE
         1E:D17A  20 0F FE   			call	_init_TITLE
21513                        	
21514                        		.dbg	line,	"main.c", 79; sequence_loaded = TRUE;
21515                        		__st.umiq	1, _sequence_loaded
         1E:D17D  A9 01      			lda.l	#1
         1E:D17F  8D 14 23   			sta	_sequence_loaded
21516                        	
21517                        		.dbg	line,	"main.c", 80; }
21518                        	
21519                        		.dbg	line,	"main.c", 82; else
21520                        		__bra		.LL1021
         1E:D182  80 E7      			bra	.LL1021
21521    1E:D184             	.LL1020:
21522                        	
21523                        		.dbg	line,	"main.c", 83; {
21524                        	
21525                        		.dbg	line,	"main.c", 84; vsync();
21526                        		__call		_vsync
         1E:D184  20 1D E3   			call	_vsync
21527                        	
21528                        		.dbg	line,	"main.c", 86; joypad_BUTTONS_TITLE();
21529                        		__call		_joypad_BUTTONS_TITLE
         1E:D187  20 05 FE   			call	_joypad_BUTTONS_TITLE
21530                        	
21531                        		.dbg	line,	"main.c", 87; 
21532                        	
21533                        		.dbg	line,	"main.c", 88; satb_update();
21534                        		__call		_satb_update
         1E:D18A  20 E1 FE   			call	_satb_update
21535                        	
21536                        		.dbg	line,	"main.c", 89; }
21537    1E:D18D             	.LL1021	.alias		.LL1018
21538                        	
21539                        		.dbg	line,	"main.c", 91; break;
21540                        		__bra		.LL1018
         1E:D18D  80 DC      			bra	.LL1018
21541                        	
21542                        		.dbg	line,	"main.c", 94; //-----------------------------------------------------------------------------//
21543                        	
21544                        		.dbg	line,	"main.c", 95; //                                    INTRO                                    //
21545                        	
21546                        		.dbg	line,	"main.c", 96; //-----------------------------------------------------------------------------//
21547                        	
21548                        		.dbg	line,	"main.c", 97; case SEQUENCE_INTRO:
21549    1E:D18F             	.LL1022:
21550                        		__case		1
21551                        	
21552                        		.dbg	line,	"main.c", 98; if(sequence_loaded == FALSE)
21553                        		__not.um	_sequence_loaded
         1E:D18F  AD 14 23   			lda	_sequence_loaded
         1E:D192  18         			clc
         1E:D193  D0 01      			bne	!+
         1E:D195  38         			sec
         1E:D196             	!:
21554                        		__bfalse	.LL1023
         1E:D196  90 0A      			bcc	.LL1023
21555                        	
21556                        		.dbg	line,	"main.c", 99; {
21557                        	
21558                        		.dbg	line,	"main.c", 100; init_INTRO();
21559                        		__call		_init_INTRO
         1E:D198  20 FB FD   			call	_init_INTRO
21560                        	
21561                        		.dbg	line,	"main.c", 102; sequence_loaded = TRUE;
21562                        		__st.umiq	1, _sequence_loaded
         1E:D19B  A9 01      			lda.l	#1
         1E:D19D  8D 14 23   			sta	_sequence_loaded
21563                        	
21564                        		.dbg	line,	"main.c", 103; }
21565                        	
21566                        		.dbg	line,	"main.c", 105; else
21567                        		__bra		.LL1024
         1E:D1A0  80 C9      			bra	.LL1024
21568    1E:D1A2             	.LL1023:
21569                        	
21570                        		.dbg	line,	"main.c", 106; {
21571                        	
21572                        		.dbg	line,	"main.c", 107; vsync();
21573                        		__call		_vsync
         1E:D1A2  20 1D E3   			call	_vsync
21574                        	
21575                        		.dbg	line,	"main.c", 109; //put_number(vdc_map_pxl_x,3,0,0);
21576                        	
21577                        		.dbg	line,	"main.c", 110; sequence_INTRO();
21578                        		__call		_sequence_INTRO
         1E:D1A5  20 F1 FD   			call	_sequence_INTRO
21579                        	
21580                        		.dbg	line,	"main.c", 111; 
21581                        	
21582                        		.dbg	line,	"main.c", 112; joypad_BUTTONS_INTRO();
21583                        		__call		_joypad_BUTTONS_INTRO
         1E:D1A8  20 E7 FD   			call	_joypad_BUTTONS_INTRO
21584                        	
21585                        		.dbg	line,	"main.c", 114; sgx_satb_update();
21586                        		__call		_sgx_satb_update
         1E:D1AB  20 D7 FE   			call	_sgx_satb_update
21587                        	
21588                        		.dbg	line,	"main.c", 115; }
21589    1E:D1AE             	.LL1024	.alias		.LL1018
21590                        	
21591                        		.dbg	line,	"main.c", 117; break;
21592                        		__bra		.LL1018
         1E:D1AE  80 BB      			bra	.LL1018
21593                        	
21594                        		.dbg	line,	"main.c", 120; //-----------------------------------------------------------------------------//
21595                        	
21596                        		.dbg	line,	"main.c", 121; //                                    LEVEL                                    //
21597                        	
21598                        		.dbg	line,	"main.c", 122; //-----------------------------------------------------------------------------//
21599                        	
21600                        		.dbg	line,	"main.c", 123; case SEQUENCE_LEVEL:
21601    1E:D1B0             	.LL1025:
21602                        		__case		2
21603                        	
21604                        		.dbg	line,	"main.c", 124; switch(level_id)
21605                        		__ld.umq	_level_id
         1E:D1B0  AD 15 23   			lda	_level_id
21606                        		__bra		.LL1026
         1E:D1B3  4C 7B D2   			bra	.LL1026
21607                        	
21608                        		.dbg	line,	"main.c", 125; {
21609                        	
21610                        		.dbg	line,	"main.c", 126; case 1:
21611    1E:D1B6             	.LL1028:
21612                        		__case		1
21613                        	
21614                        		.dbg	line,	"main.c", 127; if(sequence_loaded == FALSE)
21615                        		__not.um	_sequence_loaded
         1E:D1B6  AD 14 23   			lda	_sequence_loaded
         1E:D1B9  18         			clc
         1E:D1BA  D0 01      			bne	!+
         1E:D1BC  38         			sec
         1E:D1BD             	!:
21616                        		__bfalse	.LL1029
         1E:D1BD  90 0A      			bcc	.LL1029
21617                        	
21618                        		.dbg	line,	"main.c", 128; {
21619                        	
21620                        		.dbg	line,	"main.c", 129; init_LEVEL();
21621                        		__call		_init_LEVEL
         1E:D1BF  20 DD FD   			call	_init_LEVEL
21622                        	
21623                        		.dbg	line,	"main.c", 131; sequence_loaded = TRUE;
21624                        		__st.umiq	1, _sequence_loaded
         1E:D1C2  A9 01      			lda.l	#1
         1E:D1C4  8D 14 23   			sta	_sequence_loaded
21625                        	
21626                        		.dbg	line,	"main.c", 132; }
21627                        	
21628                        		.dbg	line,	"main.c", 134; else
21629                        		__bra		.LL1030
         1E:D1C7  80 A2      			bra	.LL1030
21630    1E:D1C9             	.LL1029:
21631                        	
21632                        		.dbg	line,	"main.c", 135; {
21633                        	
21634                        		.dbg	line,	"main.c", 136; //
21635                        	
21636                        		.dbg	line,	"main.c", 137; while(display_level_text == TRUE)
21637    1E:D1C9             	.LL1031:
21638                        		__ld.umq	_display_level_text
         1E:D1C9  AD 16 23   			lda	_display_level_text
21639                        		__equ_b.uiq	1
         1E:D1CC  C9 01      			cmp	#1
         1E:D1CE  F0 01      			beq	!+
         1E:D1D0  18         			clc
         1E:D1D1             	!:
21640                        		__bfalse	.LL1032
         1E:D1D1  90 60      			bcc	.LL1032
21641                        	
21642                        		.dbg	line,	"main.c", 138; {
21643                        	
21644                        		.dbg	line,	"main.c", 139; vsync();
21645                        		__call		_vsync
         1E:D1D3  20 1D E3   			call	_vsync
21646                        	
21647                        		.dbg	line,	"main.c", 140; 
21648                        	
21649                        		.dbg	line,	"main.c", 141; global_counter += 1;
21650                        		__add_st.wmiq	1, _global_counter
         1E:D1D6  EE 50 26   			inc.l	_global_counter
         1E:D1D9  D0 03      			bne	!+
         1E:D1DB  EE 51 26   			inc.h	_global_counter
         1E:D1DE             	!:
21651                        	
21652                        		.dbg	line,	"main.c", 143; if(global_counter == 120)
21653                        		__ld.wm		_global_counter
         1E:D1DE  AD 50 26   			lda.l	_global_counter
         1E:D1E1  AC 51 26   			ldy.h	_global_counter
21654                        		__equ_w.wi	120
         1E:D1E4  C9 78      			cmp.l	#120
         1E:D1E6  D0 04      			bne	!false+
         1E:D1E8  C0 00      			cpy.h	#120
         1E:D1EA  F0 01      			beq	!+
         1E:D1EC  18         	!false:		clc
         1E:D1ED             	!:
21655                        		__bfalse	.LL1033
         1E:D1ED  90 DA      			bcc	.LL1033
21656                        	
21657                        		.dbg	line,	"main.c", 144; {
21658                        	
21659                        		.dbg	line,	"main.c", 145; put_string("       ",13, 8);
21660                        		__ld.wi		__const1+99
         1E:D1EF  A9 63      			lda.l	#__const1+99
         1E:D1F1  A0 60      			ldy.h	#__const1+99
21661                        		__st.wmq	_bp
         1E:D1F3  85 EC      			sta.l	_bp
         1E:D1F5  84 ED      			sty.h	_bp
21662                        		__st.umiq	13, _dil
         1E:D1F7  A9 0D      			lda.l	#13
         1E:D1F9  85 F0      			sta	_dil
21663                        		__st.umiq	8, _dih
         1E:D1FB  A9 08      			lda.l	#8
         1E:D1FD  85 F1      			sta	_dih
21664                        		__call		_put_string.3
         1E:D1FF  20 5F E6   			call	_put_string.3
21665                        	
21666                        		.dbg	line,	"main.c", 146; put_string("              ",10,13);
21667                        		__ld.wi		__const1+107
         1E:D202  A9 6B      			lda.l	#__const1+107
         1E:D204  A0 60      			ldy.h	#__const1+107
21668                        		__st.wmq	_bp
         1E:D206  85 EC      			sta.l	_bp
         1E:D208  84 ED      			sty.h	_bp
21669                        		__st.umiq	10, _dil
         1E:D20A  A9 0A      			lda.l	#10
         1E:D20C  85 F0      			sta	_dil
21670                        		__st.umiq	13, _dih
         1E:D20E  A9 0D      			lda.l	#13
         1E:D210  85 F1      			sta	_dih
21671                        		__call		_put_string.3
         1E:D212  20 5F E6   			call	_put_string.3
21672                        	
21673                        		.dbg	line,	"main.c", 147; put_string("            ",11,15);
21674                        		__ld.wi		__const1+122
         1E:D215  A9 7A      			lda.l	#__const1+122
         1E:D217  A0 60      			ldy.h	#__const1+122
21675                        		__st.wmq	_bp
         1E:D219  85 EC      			sta.l	_bp
         1E:D21B  84 ED      			sty.h	_bp
21676                        		__st.umiq	11, _dil
         1E:D21D  A9 0B      			lda.l	#11
         1E:D21F  85 F0      			sta	_dil
21677                        		__st.umiq	15, _dih
         1E:D221  A9 0F      			lda.l	#15
         1E:D223  85 F1      			sta	_dih
21678                        		__call		_put_string.3
         1E:D225  20 5F E6   			call	_put_string.3
21679                        	
21680                        		.dbg	line,	"main.c", 148; 
21681                        	
21682                        		.dbg	line,	"main.c", 149; global_counter = 0;
21683                        		__st.wmiq	0, _global_counter
         1E:D228  9C 50 26   			stz.l	_global_counter
         1E:D22B  9C 51 26   			stz.h	_global_counter
21684                        	
21685                        		.dbg	line,	"main.c", 151; display_level_text = FALSE;
21686                        		__st.umiq	0, _display_level_text
         1E:D22E  9C 16 23   			stz	_display_level_text
21687                        	
21688                        		.dbg	line,	"main.c", 152; }
21689                        	
21690                        		.dbg	line,	"main.c", 153; }
21691    1E:D231             	.LL1033	.alias		.LL1031
21692                        		__bra		.LL1031
         1E:D231  80 96      			bra	.LL1031
21693    1E:D233             	.LL1032:
21694                        	
21695                        		.dbg	line,	"main.c", 157; vsync();
21696                        		__call		_vsync
         1E:D233  20 1D E3   			call	_vsync
21697                        	
21698                        		.dbg	line,	"main.c", 159; update_PLAYER();
21699                        		__call		_update_PLAYER
         1E:D236  20 D3 FD   			call	_update_PLAYER
21700                        	
21701                        		.dbg	line,	"main.c", 160; update_WEAPON();
21702                        		__call		_update_WEAPON
         1E:D239  20 C9 FD   			call	_update_WEAPON
21703                        	
21704                        		.dbg	line,	"main.c", 161; //put_number(player_counter_attack,2,0,6);
21705                        	
21706                        		.dbg	line,	"main.c", 163; 
21707                        	
21708                        		.dbg	line,	"main.c", 165; scroll_object();
21709                        		__call		_scroll_object
         1E:D23C  20 7D FE   			call	_scroll_object
21710                        	
21711                        		.dbg	line,	"main.c", 166; scroll_chest();
21712                        		__call		_scroll_chest
         1E:D23F  20 5F FE   			call	_scroll_chest
21713                        	
21714                        		.dbg	line,	"main.c", 167; scroll_npc();
21715                        		__call		_scroll_npc
         1E:D242  20 BF FD   			call	_scroll_npc
21716                        	
21717                        		.dbg	line,	"main.c", 169; collision_PLAYER_OBJECT();
21718                        		__call		_collision_PLAYER_OBJECT
         1E:D245  20 B5 FD   			call	_collision_PLAYER_OBJECT
21719                        	
21720                        		.dbg	line,	"main.c", 170; collision_PLAYER_NPC();
21721                        		__call		_collision_PLAYER_NPC
         1E:D248  20 AB FD   			call	_collision_PLAYER_NPC
21722                        	
21723                        		.dbg	line,	"main.c", 172; anim_OBJECTS();
21724                        		__call		_anim_OBJECTS
         1E:D24B  20 A1 FD   			call	_anim_OBJECTS
21725                        	
21726                        		.dbg	line,	"main.c", 174; display_TIME_LEVEL();
21727                        		__call		_display_TIME_LEVEL
         1E:D24E  20 AF FE   			call	_display_TIME_LEVEL
21728                        	
21729                        		.dbg	line,	"main.c", 176; satb_update();
21730                        		__call		_satb_update
         1E:D251  20 E1 FE   			call	_satb_update
21731                        	
21732                        		.dbg	line,	"main.c", 177; sgx_satb_update();
21733                        		__call		_sgx_satb_update
         1E:D254  20 D7 FE   			call	_sgx_satb_update
21734                        	
21735                        		.dbg	line,	"main.c", 179; scroll_BG();
21736                        		__call		_scroll_BG
         1E:D257  20 97 FD   			call	_scroll_BG
21737                        	
21738                        		.dbg	line,	"main.c", 181; joypad_DIR();
21739                        		__call		_joypad_DIR
         1E:D25A  20 8D FD   			call	_joypad_DIR
21740                        	
21741                        		.dbg	line,	"main.c", 182; joypad_BUTTONS();
21742                        		__call		_joypad_BUTTONS
         1E:D25D  20 83 FD   			call	_joypad_BUTTONS
21743                        	
21744                        		.dbg	line,	"main.c", 183; }
21745    1E:D260             	.LL1030	.alias		.LL1027
21746                        	
21747                        		.dbg	line,	"main.c", 185; break;
21748                        		__bra		.LL1027
         1E:D260  4C 6B D1   			bra	.LL1027
21749                        	
21750                        		.dbg	line,	"main.c", 188; case 2:
21751    1E:D263             	.LL1034:
21752                        		__case		2
21753                        	
21754                        		.dbg	line,	"main.c", 189; vsync();
21755                        		__call		_vsync
         1E:D263  20 1D E3   			call	_vsync
21756                        	
21757                        		.dbg	line,	"main.c", 190; break;
21758                        		__bra		.LL1027
         1E:D266  4C 6B D1   			bra	.LL1027
21759                        	
21760                        		.dbg	line,	"main.c", 193; case 3:
21761    1E:D269             	.LL1035:
21762                        		__case		3
21763                        	
21764                        		.dbg	line,	"main.c", 194; vsync();
21765                        		__call		_vsync
         1E:D269  20 1D E3   			call	_vsync
21766                        	
21767                        		.dbg	line,	"main.c", 195; break;
21768                        		__bra		.LL1027
         1E:D26C  4C 6B D1   			bra	.LL1027
21769                        	
21770                        		.dbg	line,	"main.c", 198; case 4:
21771    1E:D26F             	.LL1036:
21772                        		__case		4
21773                        	
21774                        		.dbg	line,	"main.c", 199; vsync();
21775                        		__call		_vsync
         1E:D26F  20 1D E3   			call	_vsync
21776                        	
21777                        		.dbg	line,	"main.c", 200; break;
21778                        		__bra		.LL1027
         1E:D272  4C 6B D1   			bra	.LL1027
21779                        	
21780                        		.dbg	line,	"main.c", 203; case 5:
21781    1E:D275             	.LL1037:
21782                        		__case		5
21783                        	
21784                        		.dbg	line,	"main.c", 204; vsync();
21785                        		__call		_vsync
         1E:D275  20 1D E3   			call	_vsync
21786                        	
21787                        		.dbg	line,	"main.c", 205; break;
21788                        		__bra		.LL1027
         1E:D278  4C 6B D1   			bra	.LL1027
21789                        	
21790                        		.dbg	line,	"main.c", 207; }
21791    1E:D27B             	.LL1026:
21792                        		__switch_r.ur	0, 5
         1E:D27B  C9 06      			cmp	#(5 - 0) + 1
         1E:D27D  90 02      			bcc	!found+
         1E:D27F  A9 06      	!default:	lda	#(5 - 0) + 1
         1E:D281  0A         	!found:		asl	a
         1E:D282  AA         			tax
         1E:D283  7C 86 D2   			jmp	[!table+, x]
21793                        	
21794    1E:D286  6B D1      	!table:		dw	.LL1027, .LL1028, .LL1034, .LL1035, .LL1036, .LL1037
         1E:D288  B6 D1       
         1E:D28A  63 D2       
         1E:D28C  69 D2       
         1E:D28E  6F D2       
         1E:D290  75 D2       
21795    1E:D292  6B D1      			dw	.LL1027
21796    1E:D294             	.LL1027	.alias		.LL1018
21797                        	
21798                        		.dbg	line,	"main.c", 209; break;
21799                        		__bra		.LL1018
         1E:D294  4C 6B D1   			bra	.LL1018
21800                        	
21801                        		.dbg	line,	"main.c", 212; //-----------------------------------------------------------------------------//
21802                        	
21803                        		.dbg	line,	"main.c", 213; //                                     NPC                                     //
21804                        	
21805                        		.dbg	line,	"main.c", 214; //-----------------------------------------------------------------------------//
21806                        	
21807                        		.dbg	line,	"main.c", 215; case SEQUENCE_NPC:
21808    1E:D297             	.LL1038:
21809                        		__case		3
21810                        	
21811                        		.dbg	line,	"main.c", 216; break;
21812                        		__bra		.LL1018
         1E:D297  4C 6B D1   			bra	.LL1018
21813                        	
21814                        		.dbg	line,	"main.c", 219; //-----------------------------------------------------------------------------//
21815                        	
21816                        		.dbg	line,	"main.c", 220; //                                    SHOP                                     //
21817                        	
21818                        		.dbg	line,	"main.c", 221; //-----------------------------------------------------------------------------//
21819                        	
21820                        		.dbg	line,	"main.c", 222; case SEQUENCE_SHOP:
21821    1E:D29A             	.LL1039:
21822                        		__case		4
21823                        	
21824                        		.dbg	line,	"main.c", 223; if(sequence_loaded == FALSE)
21825                        		__not.um	_sequence_loaded
         1E:D29A  AD 14 23   			lda	_sequence_loaded
         1E:D29D  18         			clc
         1E:D29E  D0 01      			bne	!+
         1E:D2A0  38         			sec
         1E:D2A1             	!:
21826                        		__bfalse	.LL1040
         1E:D2A1  90 0B      			bcc	.LL1040
21827                        	
21828                        		.dbg	line,	"main.c", 224; {
21829                        	
21830                        		.dbg	line,	"main.c", 225; init_SHOP();
21831                        		__call		_init_SHOP
         1E:D2A3  20 79 FD   			call	_init_SHOP
21832                        	
21833                        		.dbg	line,	"main.c", 227; sequence_loaded = TRUE;
21834                        		__st.umiq	1, _sequence_loaded
         1E:D2A6  A9 01      			lda.l	#1
         1E:D2A8  8D 14 23   			sta	_sequence_loaded
21835                        	
21836                        		.dbg	line,	"main.c", 228; }
21837                        	
21838                        		.dbg	line,	"main.c", 229; 
21839                        	
21840                        		.dbg	line,	"main.c", 230; else
21841                        		__bra		.LL1041
         1E:D2AB  4C 6B D1   			bra	.LL1041
21842    1E:D2AE             	.LL1040:
21843                        	
21844                        		.dbg	line,	"main.c", 231; {
21845                        	
21846                        		.dbg	line,	"main.c", 232; switch(shop_phase)
21847                        		__ld.umq	_shop_phase
         1E:D2AE  AD F3 23   			lda	_shop_phase
21848                        		__bra		.LL1042
         1E:D2B1  4C 94 D3   			bra	.LL1042
21849                        	
21850                        		.dbg	line,	"main.c", 233; {
21851                        	
21852                        		.dbg	line,	"main.c", 234; case SHOP_PHASE_ENTER:
21853    1E:D2B4             	.LL1044:
21854                        		__case		0
21855                        	
21856                        		.dbg	line,	"main.c", 235; vsync();
21857                        		__call		_vsync
         1E:D2B4  20 1D E3   			call	_vsync
21858                        	
21859                        		.dbg	line,	"main.c", 237; if(shop_counter == 0)
21860                        		__not.um	_shop_counter
         1E:D2B7  AD F4 23   			lda	_shop_counter
         1E:D2BA  18         			clc
         1E:D2BB  D0 01      			bne	!+
         1E:D2BD  38         			sec
         1E:D2BE             	!:
21861                        		__bfalse	.LL1045
         1E:D2BE  90 28      			bcc	.LL1045
21862                        	
21863                        		.dbg	line,	"main.c", 238; {
21864                        	
21865                        		.dbg	line,	"main.c", 239; put_string("Maybe, i can sell you" ,  2 , 15);
21866                        		__ld.wi		__const1+135
         1E:D2C0  A9 87      			lda.l	#__const1+135
         1E:D2C2  A0 60      			ldy.h	#__const1+135
21867                        		__st.wmq	_bp
         1E:D2C4  85 EC      			sta.l	_bp
         1E:D2C6  84 ED      			sty.h	_bp
21868                        		__st.umiq	2, _dil
         1E:D2C8  A9 02      			lda.l	#2
         1E:D2CA  85 F0      			sta	_dil
21869                        		__st.umiq	15, _dih
         1E:D2CC  A9 0F      			lda.l	#15
         1E:D2CE  85 F1      			sta	_dih
21870                        		__call		_put_string.3
         1E:D2D0  20 5F E6   			call	_put_string.3
21871                        	
21872                        		.dbg	line,	"main.c", 240; put_string("something..." , 18 , 16);
21873                        		__ld.wi		__const1+157
         1E:D2D3  A9 9D      			lda.l	#__const1+157
         1E:D2D5  A0 60      			ldy.h	#__const1+157
21874                        		__st.wmq	_bp
         1E:D2D7  85 EC      			sta.l	_bp
         1E:D2D9  84 ED      			sty.h	_bp
21875                        		__st.umiq	18, _dil
         1E:D2DB  A9 12      			lda.l	#18
         1E:D2DD  85 F0      			sta	_dil
21876                        		__st.umiq	16, _dih
         1E:D2DF  A9 10      			lda.l	#16
         1E:D2E1  85 F1      			sta	_dih
21877                        		__call		_put_string.3
         1E:D2E3  20 5F E6   			call	_put_string.3
21878                        	
21879                        		.dbg	line,	"main.c", 241; }
21880                        	
21881                        		.dbg	line,	"main.c", 243; else if(shop_counter == 120)
21882                        		__bra		.LL1046
         1E:D2E6  80 44      			bra	.LL1046
21883    1E:D2E8             	.LL1045:
21884                        		__ld.umq	_shop_counter
         1E:D2E8  AD F4 23   			lda	_shop_counter
21885                        		__equ_b.uiq	120
         1E:D2EB  C9 78      			cmp	#120
         1E:D2ED  F0 01      			beq	!+
         1E:D2EF  18         			clc
         1E:D2F0             	!:
21886                        		__bfalse	.LL1047
         1E:D2F0  90 3A      			bcc	.LL1047
21887                        	
21888                        		.dbg	line,	"main.c", 244; {
21889                        	
21890                        		.dbg	line,	"main.c", 245; put_string("                     " ,  2 , 15);
21891                        		__ld.wi		__const1+170
         1E:D2F2  A9 AA      			lda.l	#__const1+170
         1E:D2F4  A0 60      			ldy.h	#__const1+170
21892                        		__st.wmq	_bp
         1E:D2F6  85 EC      			sta.l	_bp
         1E:D2F8  84 ED      			sty.h	_bp
21893                        		__st.umiq	2, _dil
         1E:D2FA  A9 02      			lda.l	#2
         1E:D2FC  85 F0      			sta	_dil
21894                        		__st.umiq	15, _dih
         1E:D2FE  A9 0F      			lda.l	#15
         1E:D300  85 F1      			sta	_dih
21895                        		__call		_put_string.3
         1E:D302  20 5F E6   			call	_put_string.3
21896                        	
21897                        		.dbg	line,	"main.c", 246; put_string("            " , 18 , 16);
21898                        		__ld.wi		__const1+192
         1E:D305  A9 C0      			lda.l	#__const1+192
         1E:D307  A0 60      			ldy.h	#__const1+192
21899                        		__st.wmq	_bp
         1E:D309  85 EC      			sta.l	_bp
         1E:D30B  84 ED      			sty.h	_bp
21900                        		__st.umiq	18, _dil
         1E:D30D  A9 12      			lda.l	#18
         1E:D30F  85 F0      			sta	_dil
21901                        		__st.umiq	16, _dih
         1E:D311  A9 10      			lda.l	#16
         1E:D313  85 F1      			sta	_dih
21902                        		__call		_put_string.3
         1E:D315  20 5F E6   			call	_put_string.3
21903                        	
21904                        		.dbg	line,	"main.c", 248; spr_x(24);
21905                        		__ld.wi		24
         1E:D318  A9 18      			lda.l	#24
         1E:D31A  C2         			cly
21906                        		__call		_spr_x.1
         1E:D31B  20 1E E8   			call	_spr_x.1
21907                        	
21908                        		.dbg	line,	"main.c", 249; spr_y(144);
21909                        		__ld.wi		144
         1E:D31E  A9 90      			lda.l	#144
         1E:D320  C2         			cly
21910                        		__call		_spr_y.1
         1E:D321  20 2D E8   			call	_spr_y.1
21911                        	
21912                        		.dbg	line,	"main.c", 250; satb_update();
21913                        		__call		_satb_update
         1E:D324  20 E1 FE   			call	_satb_update
21914                        	
21915                        		.dbg	line,	"main.c", 252; shop_phase = SHOP_PHASE_BUY;
21916                        		__st.umiq	1, _shop_phase
         1E:D327  A9 01      			lda.l	#1
         1E:D329  8D F3 23   			sta	_shop_phase
21917                        	
21918                        		.dbg	line,	"main.c", 253; }
21919                        	
21920                        		.dbg	line,	"main.c", 255; shop_counter++;
21921    1E:D32C             	.LL1047:
21922    1E:D32C             	.LL1046:
21923                        		__inc.umq	_shop_counter
         1E:D32C  EE F4 23   			inc	_shop_counter
21924                        	
21925                        		.dbg	line,	"main.c", 257; break;
21926                        		__bra		.LL1043
         1E:D32F  4C 6B D1   			bra	.LL1043
21927                        	
21928                        		.dbg	line,	"main.c", 258; 
21929                        	
21930                        		.dbg	line,	"main.c", 260; case SHOP_PHASE_BUY:
21931    1E:D332             	.LL1048:
21932                        		__case		1
21933                        	
21934                        		.dbg	line,	"main.c", 261; vsync();
21935                        		__call		_vsync
         1E:D332  20 1D E3   			call	_vsync
21936                        	
21937                        		.dbg	line,	"main.c", 263; joypad_BUTTONS_SHOP();
21938                        		__call		_joypad_BUTTONS_SHOP
         1E:D335  20 6F FD   			call	_joypad_BUTTONS_SHOP
21939                        	
21940                        		.dbg	line,	"main.c", 264; display_TIME_SHOP();
21941                        		__call		_display_TIME_SHOP
         1E:D338  20 65 FD   			call	_display_TIME_SHOP
21942                        	
21943                        		.dbg	line,	"main.c", 265; satb_update();
21944                        		__call		_satb_update
         1E:D33B  20 E1 FE   			call	_satb_update
21945                        	
21946                        		.dbg	line,	"main.c", 267; break;
21947                        		__bra		.LL1043
         1E:D33E  4C 6B D1   			bra	.LL1043
21948                        	
21949                        		.dbg	line,	"main.c", 270; case SHOP_PHASE_EXIT:
21950    1E:D341             	.LL1049:
21951                        		__case		2
21952                        	
21953                        		.dbg	line,	"main.c", 271; vsync();
21954                        		__call		_vsync
         1E:D341  20 1D E3   			call	_vsync
21955                        	
21956                        		.dbg	line,	"main.c", 273; if(shop_counter == 0)
21957                        		__not.um	_shop_counter
         1E:D344  AD F4 23   			lda	_shop_counter
         1E:D347  18         			clc
         1E:D348  D0 01      			bne	!+
         1E:D34A  38         			sec
         1E:D34B             	!:
21958                        		__bfalse	.LL1050
         1E:D34B  90 1F      			bcc	.LL1050
21959                        	
21960                        		.dbg	line,	"main.c", 274; {
21961                        	
21962                        		.dbg	line,	"main.c", 275; put_string("GOOD LUCK!" , 11 , 16);
21963                        		__ld.wi		__const1+205
         1E:D34D  A9 CD      			lda.l	#__const1+205
         1E:D34F  A0 60      			ldy.h	#__const1+205
21964                        		__st.wmq	_bp
         1E:D351  85 EC      			sta.l	_bp
         1E:D353  84 ED      			sty.h	_bp
21965                        		__st.umiq	11, _dil
         1E:D355  A9 0B      			lda.l	#11
         1E:D357  85 F0      			sta	_dil
21966                        		__st.umiq	16, _dih
         1E:D359  A9 10      			lda.l	#16
         1E:D35B  85 F1      			sta	_dih
21967                        		__call		_put_string.3
         1E:D35D  20 5F E6   			call	_put_string.3
21968                        	
21969                        		.dbg	line,	"main.c", 277; // HIDE CURSOR //
21970                        	
21971                        		.dbg	line,	"main.c", 278; spr_set(0);
21972                        		__ld.uiq	0
         1E:D360  62         			cla
21973                        		__call		_spr_set.1
         1E:D361  20 F1 E7   			call	_spr_set.1
21974                        	
21975                        		.dbg	line,	"main.c", 279; spr_hide();
21976                        		__call		_spr_hide
         1E:D364  20 0C E8   			call	_spr_hide
21977                        	
21978                        		.dbg	line,	"main.c", 280; satb_update();
21979                        		__call		_satb_update
         1E:D367  20 E1 FE   			call	_satb_update
21980                        	
21981                        		.dbg	line,	"main.c", 281; }
21982                        	
21983                        		.dbg	line,	"main.c", 283; else if(shop_counter == 120)
21984                        		__bra		.LL1051
         1E:D36A  80 22      			bra	.LL1051
21985    1E:D36C             	.LL1050:
21986                        		__ld.umq	_shop_counter
         1E:D36C  AD F4 23   			lda	_shop_counter
21987                        		__equ_b.uiq	120
         1E:D36F  C9 78      			cmp	#120
         1E:D371  F0 01      			beq	!+
         1E:D373  18         			clc
         1E:D374             	!:
21988                        		__bfalse	.LL1052
         1E:D374  90 18      			bcc	.LL1052
21989                        	
21990                        		.dbg	line,	"main.c", 284; {
21991                        	
21992                        		.dbg	line,	"main.c", 285; disp_off();
21993                        		__call		_disp_off
         1E:D376  20 3D E4   			call	_disp_off
21994                        	
21995                        		.dbg	line,	"main.c", 287; // REINIT PLAYER //
21996                        	
21997                        		.dbg	line,	"main.c", 288; init_PLAYER();
21998                        		__call		_init_PLAYER
         1E:D379  20 19 FE   			call	_init_PLAYER
21999                        	
22000                        		.dbg	line,	"main.c", 290; shop_phase = SHOP_PHASE_EXIT;
22001                        		__st.umiq	2, _shop_phase
         1E:D37C  A9 02      			lda.l	#2
         1E:D37E  8D F3 23   			sta	_shop_phase
22002                        	
22003                        		.dbg	line,	"main.c", 291; respawn = RESPAWN_SHOP;
22004                        		__st.umiq	2, _respawn
         1E:D381  A9 02      			lda.l	#2
         1E:D383  8D 17 23   			sta	_respawn
22005                        	
22006                        		.dbg	line,	"main.c", 292; sequence_loaded = FALSE;
22007                        		__st.umiq	0, _sequence_loaded
         1E:D386  9C 14 23   			stz	_sequence_loaded
22008                        	
22009                        		.dbg	line,	"main.c", 293; sequence_id = SEQUENCE_LEVEL;
22010                        		__st.umiq	2, _sequence_id
         1E:D389  A9 02      			lda.l	#2
         1E:D38B  8D 13 23   			sta	_sequence_id
22011                        	
22012                        		.dbg	line,	"main.c", 294; }
22013                        	
22014                        		.dbg	line,	"main.c", 296; shop_counter++;
22015    1E:D38E             	.LL1052:
22016    1E:D38E             	.LL1051:
22017                        		__inc.umq	_shop_counter
         1E:D38E  EE F4 23   			inc	_shop_counter
22018                        	
22019                        		.dbg	line,	"main.c", 298; break;
22020                        		__bra		.LL1043
         1E:D391  4C 6B D1   			bra	.LL1043
22021                        	
22022                        		.dbg	line,	"main.c", 299; }
22023    1E:D394             	.LL1042:
22024                        		__switch_r.ur	0, 2
         1E:D394  C9 03      			cmp	#(2 - 0) + 1
         1E:D396  90 02      			bcc	!found+
         1E:D398  A9 03      	!default:	lda	#(2 - 0) + 1
         1E:D39A  0A         	!found:		asl	a
         1E:D39B  AA         			tax
         1E:D39C  7C 9F D3   			jmp	[!table+, x]
22025                        	
22026    1E:D39F  B4 D2      	!table:		dw	.LL1044, .LL1048, .LL1049
         1E:D3A1  32 D3       
         1E:D3A3  41 D3       
22027    1E:D3A5  6B D1      			dw	.LL1043
22028    1E:D3A7             	.LL1043	.alias		.LL1018
22029                        	
22030                        		.dbg	line,	"main.c", 300; }
22031    1E:D3A7             	.LL1041	.alias		.LL1018
22032                        	
22033                        		.dbg	line,	"main.c", 302; break;
22034                        		__bra		.LL1018
         1E:D3A7  4C 6B D1   			bra	.LL1018
22035                        	
22036                        		.dbg	line,	"main.c", 303; }
22037    1E:D3AA             	.LL1017:
22038                        		__switch_r.ur	0, 4
         1E:D3AA  C9 05      			cmp	#(4 - 0) + 1
         1E:D3AC  90 02      			bcc	!found+
         1E:D3AE  A9 05      	!default:	lda	#(4 - 0) + 1
         1E:D3B0  0A         	!found:		asl	a
         1E:D3B1  AA         			tax
         1E:D3B2  7C B5 D3   			jmp	[!table+, x]
22039                        	
22040    1E:D3B5  71 D1      	!table:		dw	.LL1019, .LL1022, .LL1025, .LL1038, .LL1039
         1E:D3B7  8F D1       
         1E:D3B9  B0 D1       
         1E:D3BB  97 D2       
         1E:D3BD  9A D2       
22041    1E:D3BF  6B D1      			dw	.LL1018
22042    1E:D3C1             	.LL1018	.alias		.LL1015
22043                        	
22044                        		.dbg	line,	"main.c", 304; }
22045                        		__bra		.LL1015
         1E:D3C1  4C 6B D1   			bra	.LL1015
22046    1E:D3C4             	.LL1016:
22047                        	
22048                        		.dbg	line,	"main.c", 305; }
22049    1E:D3C4             	.LL1007:
22050                        		__return	1
         1E:D3C4  AA         			tax
         1E:D3C5  4C EF FF   			jmp	leave_proc
22051                        		.dbg	clear
22052                        		.endp
22053                        		.pceas
22054                        	
22055                        		.dbg	clear
22056               6000     		.rodata
22057    01:6000             	__const1:
22058    01:6000  53 54 41 52			db	'S','T','A','R','T',' ','G','A'
         01:6004  54 20 47 41 
22059    01:6008  4D 45 00 4C			db	'M','E',$00,'L','I','F','E',$00
         01:600C  49 46 45 00 
22060    01:6010  43 52 45 44			db	'C','R','E','D','I','T','S',$00
         01:6014  49 54 53 00 
22061    01:6018  43 41 50 43			db	'C','A','P','C','O','M',' ','1'
         01:601C  4F 4D 20 31 
22062    01:6020  39 38 37 00			db	'9','8','7',$00,'R','O','U','N'
         01:6024  52 4F 55 4E 
22063    01:6028  44 00 52 45			db	'D',$00,'R','E','A','D','Y',' '
         01:602C  41 44 59 20 
22064    01:6030  50 4C 41 59			db	'P','L','A','Y','E','R',' ','1'
         01:6034  45 52 20 31 
22065    01:6038  00 53 41 56			db	$00,'S','A','V','E',' ',' ',' '
         01:603C  45 20 20 20 
22066    01:6040  4C 49 56 45			db	'L','I','V','E','S',$00,'H','a'
         01:6044  53 00 48 61 
22067    01:6048  6C 74 3A 20			db	'l','t',':',' ','S','G','X',' '
         01:604C  53 47 58 20 
22068    01:6050  68 61 72 64			db	'h','a','r','d','w','a','r','e'
         01:6054  77 61 72 65 
22069    01:6058  20 6E 6F 74			db	' ','n','o','t',' ','f','o','u'
         01:605C  20 66 6F 75 
22070    01:6060  6E 64 00 20			db	'n','d',$00,' ',' ',' ',' ',' '
         01:6064  20 20 20 20 
22071    01:6068  20 20 00 20			db	' ',' ',$00,' ',' ',' ',' ',' '
         01:606C  20 20 20 20 
22072    01:6070  20 20 20 20			db	' ',' ',' ',' ',' ',' ',' ',' '
         01:6074  20 20 20 20 
22073    01:6078  20 00 20 20			db	' ',$00,' ',' ',' ',' ',' ',' '
         01:607C  20 20 20 20 
22074    01:6080  20 20 20 20			db	' ',' ',' ',' ',' ',' ',$00,'M'
         01:6084  20 20 00 4D 
22075    01:6088  61 79 62 65			db	'a','y','b','e',',',' ','i',' '
         01:608C  2C 20 69 20 
22076    01:6090  63 61 6E 20			db	'c','a','n',' ','s','e','l','l'
         01:6094  73 65 6C 6C 
22077    01:6098  20 79 6F 75			db	' ','y','o','u',$00,'s','o','m'
         01:609C  00 73 6F 6D 
22078    01:60A0  65 74 68 69			db	'e','t','h','i','n','g','.','.'
         01:60A4  6E 67 2E 2E 
22079    01:60A8  2E 00 20 20			db	'.',$00,' ',' ',' ',' ',' ',' '
         01:60AC  20 20 20 20 
22080    01:60B0  20 20 20 20			db	' ',' ',' ',' ',' ',' ',' ',' '
         01:60B4  20 20 20 20 
22081    01:60B8  20 20 20 20			db	' ',' ',' ',' ',' ',' ',' ',$00
         01:60BC  20 20 20 00 
22082    01:60C0  20 20 20 20			db	' ',' ',' ',' ',' ',' ',' ',' '
         01:60C4  20 20 20 20 
22083    01:60C8  20 20 20 20			db	' ',' ',' ',' ',$00,'G','O','O'
         01:60CC  00 47 4F 4F 
22084    01:60D0  44 20 4C 55			db	'D',' ','L','U','C','K','!',$00
         01:60D4  43 4B 21 00 
22085    01:60D8             	_TABLE_INTRO_TEXT:
22086    01:60D8  4C 6F 6E 67			db	"Long Long ago, three dragonsdescended from skies above  with a rolling thunder and  destroyed a kingdom into    darkness.                   From lengthy suffering and  darkness of the kingdom     came one brave fighter.    "
         01:60DC  20 4C 6F 6E 
         01:60E0  67 20 61 67 
         01:60E4  6F 2C 20 74 
         01:60E8  68 72 65 65 
         01:60EC  20 64 72 61 
         01:60F0  67 6F 6E 73 
         01:60F4  64 65 73 63 
         01:60F8  65 6E 64 65 
         01:60FC  64 20 66 72 
         01:6100  6F 6D 20 73 
         01:6104  6B 69 65 73 
         01:6108  20 61 62 6F 
         01:610C  76 65 20 20 
         01:6110  77 69 74 68 
         01:6114  20 61 20 72 
         01:6118  6F 6C 6C 69 
         01:611C  6E 67 20 74 
         01:6120  68 75 6E 64 
         01:6124  65 72 20 61 
         01:6128  6E 64 20 20 
         01:612C  64 65 73 74 
         01:6130  72 6F 79 65 
         01:6134  64 20 61 20 
         01:6138  6B 69 6E 67 
         01:613C  64 6F 6D 20 
         01:6140  69 6E 74 6F 
         01:6144  20 20 20 20 
         01:6148  64 61 72 6B 
         01:614C  6E 65 73 73 
         01:6150  2E 20 20 20 
         01:6154  20 20 20 20 
         01:6158  20 20 20 20 
         01:615C  20 20 20 20 
         01:6160  20 20 20 20 
         01:6164  46 72 6F 6D 
         01:6168  20 6C 65 6E 
         01:616C  67 74 68 79 
         01:6170  20 73 75 66 
         01:6174  66 65 72 69 
         01:6178  6E 67 20 61 
         01:617C  6E 64 20 20 
         01:6180  64 61 72 6B 
         01:6184  6E 65 73 73 
         01:6188  20 6F 66 20 
         01:618C  74 68 65 20 
         01:6190  6B 69 6E 67 
         01:6194  64 6F 6D 20 
         01:6198  20 20 20 20 
         01:619C  63 61 6D 65 
         01:61A0  20 6F 6E 65 
         01:61A4  20 62 72 61 
         01:61A8  76 65 20 66 
         01:61AC  69 67 68 74 
         01:61B0  65 72 2E 20 
         01:61B4  20 20 20    
22087    01:61B7             	_TABLE_NPC_TYPE_LV1:
22088    01:61B7  01         			db	1
22089    01:61B8  00         			db	0
22090    01:61B9             	_TABLE_NPC_X_POS_REF_LV1:
22091    01:61B9  90 03      			dw	912
22092    01:61BB  D0 04      			dw	1232
22093    01:61BD             	_TABLE_NPC_Y_POS_REF_LV1:
22094    01:61BD  40 02      			dw	576
22095    01:61BF  90 01      			dw	400
22096    01:61C1             	_TABLE_OBJECT_TYPE_LV1:
22097    01:61C1  00         			db	0
22098    01:61C2  01         			db	1
22099    01:61C3  01         			db	1
22100    01:61C4  01         			db	1
22101    01:61C5  01         			db	1
22102    01:61C6  01         			db	1
22103    01:61C7  01         			db	1
22104    01:61C8  02         			db	2
22105    01:61C9  01         			db	1
22106    01:61CA  01         			db	1
22107    01:61CB  01         			db	1
22108    01:61CC  01         			db	1
22109    01:61CD  01         			db	1
22110    01:61CE  01         			db	1
22111    01:61CF  01         			db	1
22112    01:61D0  01         			db	1
22113    01:61D1  01         			db	1
22114    01:61D2  01         			db	1
22115    01:61D3  01         			db	1
22116    01:61D4  01         			db	1
22117    01:61D5  01         			db	1
22118    01:61D6  01         			db	1
22119    01:61D7  01         			db	1
22120    01:61D8             	_TABLE_OBJECT_X_POS_REF_LV1:
22121    01:61D8  90 06      			dw	1680
22122    01:61DA  00 05      			dw	1280
22123    01:61DC  C0 05      			dw	1472
22124    01:61DE  A0 05      			dw	1440
22125    01:61E0  90 04      			dw	1168
22126    01:61E2  B0 04      			dw	1200
22127    01:61E4  C0 03      			dw	960
22128    01:61E6  D8 03      			dw	984
22129    01:61E8  50 05      			dw	1360
22130    01:61EA  70 05      			dw	1392
22131    01:61EC  10 06      			dw	1552
22132    01:61EE  90 06      			dw	1680
22133    01:61F0  B0 06      			dw	1712
22134    01:61F2  D0 06      			dw	1744
22135    01:61F4  E0 04      			dw	1248
22136    01:61F6  00 05      			dw	1280
22137    01:61F8  90 04      			dw	1168
22138    01:61FA  10 04      			dw	1040
22139    01:61FC  80 02      			dw	640
22140    01:61FE  A0 02      			dw	672
22141    01:6200  50 01      			dw	336
22142    01:6202  70 01      			dw	368
22143    01:6204  A0 01      			dw	416
22144    01:6206             	_TABLE_OBJECT_Y_POS_REF_LV1:
22145    01:6206  80 01      			dw	384
22146    01:6208  A0 01      			dw	416
22147    01:620A  E0 01      			dw	480
22148    01:620C  F0 01      			dw	496
22149    01:620E  30 02      			dw	560
22150    01:6210  30 02      			dw	560
22151    01:6212  50 02      			dw	592
22152    01:6214  50 02      			dw	592
22153    01:6216  50 02      			dw	592
22154    01:6218  50 02      			dw	592
22155    01:621A  C0 02      			dw	704
22156    01:621C  D0 02      			dw	720
22157    01:621E  D0 02      			dw	720
22158    01:6220  D0 02      			dw	720
22159    01:6222  E0 02      			dw	736
22160    01:6224  E0 02      			dw	736
22161    01:6226  F0 02      			dw	752
22162    01:6228  50 03      			dw	848
22163    01:622A  70 03      			dw	880
22164    01:622C  70 03      			dw	880
22165    01:622E  80 03      			dw	896
22166    01:6230  80 03      			dw	896
22167    01:6232  80 03      			dw	896
22168    01:6234             	_TABLE_REWARD_TYPE_LV1:
22169    01:6234  63         			db	99
22170    01:6235  04         			db	4
22171    01:6236  08         			db	8
22172    01:6237  08         			db	8
22173    01:6238  04         			db	4
22174    01:6239  09         			db	9
22175    01:623A  09         			db	9
22176    01:623B  63         			db	99
22177    01:623C  04         			db	4
22178    01:623D  00         			db	0
22179    01:623E  09         			db	9
22180    01:623F  00         			db	0
22181    01:6240  04         			db	4
22182    01:6241  09         			db	9
22183    01:6242  04         			db	4
22184    01:6243  09         			db	9
22185    01:6244  08         			db	8
22186    01:6245  09         			db	9
22187    01:6246  08         			db	8
22188    01:6247  09         			db	9
22189    01:6248  04         			db	4
22190    01:6249  08         			db	8
22191    01:624A  04         			db	4
22192    01:624B             	_TABLE_REWARD_VRAM_ADR_LV1:
22193    01:624B  63 00      			dw	99
22194    01:624D  40 6A      			dw	0x6800+64+64+64+64+64+64+64+64+64
22195    01:624F  40 6A      			dw	0x6800+64+64+64+64+64+64+64+64+64
22196    01:6251  40 6A      			dw	0x6800+64+64+64+64+64+64+64+64+64
22197    01:6253  40 6A      			dw	0x6800+64+64+64+64+64+64+64+64+64
22198    01:6255  40 6A      			dw	0x6800+64+64+64+64+64+64+64+64+64
22199    01:6257  00 6B      			dw	0x6800+64+64+64+64+64+64+64+64+64+64+64+64
22200    01:6259  40 6A      			dw	0x6800+64+64+64+64+64+64+64+64+64
22201    01:625B  40 6A      			dw	0x6800+64+64+64+64+64+64+64+64+64
22202    01:625D  40 6D      			dw	0x6800+64+64+64+64+64+64+64+64+64+64+64+64+64+64+64+64+64+64+64+64+64
22203    01:625F  00 6B      			dw	0x6800+64+64+64+64+64+64+64+64+64+64+64+64
22204    01:6261  40 6D      			dw	0x6800+64+64+64+64+64+64+64+64+64+64+64+64+64+64+64+64+64+64+64+64+64
22205    01:6263  40 6A      			dw	0x6800+64+64+64+64+64+64+64+64+64
22206    01:6265  00 6B      			dw	0x6800+64+64+64+64+64+64+64+64+64+64+64+64
22207    01:6267  40 6A      			dw	0x6800+64+64+64+64+64+64+64+64+64
22208    01:6269  00 6B      			dw	0x6800+64+64+64+64+64+64+64+64+64+64+64+64
22209    01:626B  C0 6A      			dw	0x6800+64+64+64+64+64+64+64+64+64+64+64
22210    01:626D  00 6B      			dw	0x6800+64+64+64+64+64+64+64+64+64+64+64+64
22211    01:626F  C0 6A      			dw	0x6800+64+64+64+64+64+64+64+64+64+64+64
22212    01:6271  00 6B      			dw	0x6800+64+64+64+64+64+64+64+64+64+64+64+64
22213    01:6273  40 6A      			dw	0x6800+64+64+64+64+64+64+64+64+64
22214    01:6275  C0 6A      			dw	0x6800+64+64+64+64+64+64+64+64+64+64+64
22215    01:6277  40 6A      			dw	0x6800+64+64+64+64+64+64+64+64+64
22216    01:6279             	_TABLE_CHEST_X_POS_REF_LV1:
22217    01:6279  30 04      			dw	1072
22218    01:627B  30 03      			dw	816
22219    01:627D             	_TABLE_CHEST_Y_POS_REF_LV1:
22220    01:627D  40 03      			dw	832
22221    01:627F  50 03      			dw	848
22222    01:6281             	_TABLE_PLAYER_TILES_ADR:
22223    01:6281  C0 7D      			dw	_tiles_SPR_PLAYER_ARMOR
22224    01:6283  C0 6F      			dw	_tiles_SPR_PLAYER_NAKED
22225    01:6285             	_TABLE_PLAYER_TILES_BANK:
22226    01:6285  15         			db	^_tiles_SPR_PLAYER_ARMOR
22227    01:6286  17         			db	^_tiles_SPR_PLAYER_NAKED
22228    01:6287             	_TABLE_PLAYER_JUMP_V:
22229    01:6287  FC         			db	-4
22230    01:6288  FB         			db	-5
22231    01:6289  F6         			db	-10
22232    01:628A  FC         			db	-4
22233    01:628B  FC         			db	-4
22234    01:628C  F9         			db	-7
22235    01:628D  FA         			db	-6
22236    01:628E  FD         			db	-3
22237    01:628F  FB         			db	-5
22238    01:6290  FE         			db	-2
22239    01:6291  FC         			db	-4
22240    01:6292  FF         			db	-1
22241    01:6293  FF         			db	-1
22242    01:6294  FF         			db	-1
22243    01:6295  FF         			db	-1
22244    01:6296  00         			db	0
22245    01:6297  00         			db	0
22246    01:6298  00         			db	0
22247    01:6299  00         			db	0
22248    01:629A  01         			db	1
22249    01:629B  01         			db	1
22250    01:629C  01         			db	1
22251    01:629D  01         			db	1
22252    01:629E  04         			db	4
22253    01:629F  02         			db	2
22254    01:62A0  05         			db	5
22255    01:62A1  03         			db	3
22256    01:62A2  06         			db	6
22257    01:62A3  07         			db	7
22258    01:62A4  04         			db	4
22259    01:62A5  04         			db	4
22260    01:62A6  0A         			db	10
22261    01:62A7  04         			db	4
22262    01:62A8  04         			db	4
22263    01:62A9  05         			db	5
22264    01:62AA             	_TABLE_PLAYER_FALL:
22265    01:62AA  00         			db	0
22266    01:62AB  00         			db	0
22267    01:62AC  00         			db	0
22268    01:62AD  00         			db	0
22269    01:62AE  01         			db	1
22270    01:62AF  01         			db	1
22271    01:62B0  01         			db	1
22272    01:62B1  01         			db	1
22273    01:62B2  02         			db	2
22274    01:62B3  02         			db	2
22275    01:62B4  02         			db	2
22276    01:62B5  02         			db	2
22277    01:62B6  03         			db	3
22278    01:62B7  03         			db	3
22279    01:62B8  03         			db	3
22280    01:62B9  04         			db	4
22281    01:62BA  04         			db	4
22282    01:62BB  04         			db	4
22283    01:62BC  04         			db	4
22284    01:62BD  04         			db	4
22285    01:62BE  05         			db	5
22286    01:62BF             	_TABLE_PLAYER_JUMP_LADDER:
22287    01:62BF  FC         			db	-4
22288    01:62C0  FC         			db	-4
22289    01:62C1  FD         			db	-3
22290    01:62C2  FD         			db	-3
22291    01:62C3  FD         			db	-3
22292    01:62C4  FE         			db	-2
22293    01:62C5  FE         			db	-2
22294    01:62C6  FE         			db	-2
22295    01:62C7  FF         			db	-1
22296    01:62C8  FF         			db	-1
22297    01:62C9  FF         			db	-1
22298    01:62CA  FF         			db	-1
22299    01:62CB  FF         			db	-1
22300    01:62CC  00         			db	0
22301    01:62CD  00         			db	0
22302    01:62CE  00         			db	0
22303    01:62CF  00         			db	0
22304    01:62D0  01         			db	1
22305    01:62D1  01         			db	1
22306    01:62D2  01         			db	1
22307    01:62D3  01         			db	1
22308    01:62D4  01         			db	1
22309    01:62D5  02         			db	2
22310    01:62D6  02         			db	2
22311    01:62D7  02         			db	2
22312    01:62D8  03         			db	3
22313    01:62D9  03         			db	3
22314    01:62DA  03         			db	3
22315    01:62DB  04         			db	4
22316    01:62DC  04         			db	4
22317    01:62DD             	_TABLE_WEAPON_TILES_ADR:
22318    01:62DD  40 6A      			dw	_tiles_SPR_WEAPON_0
22319    01:62DF  C0 6C      			dw	_tiles_SPR_WEAPON_1
22320    01:62E1  40 6F      			dw	_tiles_SPR_WEAPON_2
22321    01:62E3  C0 71      			dw	_tiles_SPR_WEAPON_3
22322    01:62E5  40 74      			dw	_tiles_SPR_WEAPON_4
22323    01:62E7             	_TABLE_WEAPON_TILES_BANK:
22324    01:62E7  19         			db	^_tiles_SPR_WEAPON_0
22325    01:62E8  19         			db	^_tiles_SPR_WEAPON_1
22326    01:62E9  19         			db	^_tiles_SPR_WEAPON_2
22327    01:62EA  19         			db	^_tiles_SPR_WEAPON_3
22328    01:62EB  19         			db	^_tiles_SPR_WEAPON_4
22329    01:62EC             	_TABLE_SHOP_ITEMS_LV1:
22330    01:62EC  00         			db	0
22331    01:62ED  01         			db	1
22332    01:62EE  02         			db	2
22333    01:62EF  03         			db	3
22334    01:62F0  04         			db	4
22335    01:62F1  05         			db	5
22336    01:62F2  06         			db	6
22337    01:62F3  07         			db	7
22338    01:62F4  08         			db	8
22339    01:62F5  09         			db	9
22340    01:62F6             	_TABLE_SHOP_PRICES_LV1:
22341    01:62F6  64 00      			dw	100
22342    01:62F8  E8 03      			dw	1000
22343    01:62FA  60 09      			dw	2400
22344    01:62FC  80 25      			dw	9600
22345    01:62FE  1E 00      			dw	30
22346    01:6300  50 00      			dw	80
22347    01:6302  2C 01      			dw	300
22348    01:6304  20 03      			dw	800
22349    01:6306  40 06      			dw	1600
22350    01:6308  96 00      			dw	150
22351    01:630A             	_TABLE_SHOP_ITEMS_TILES_ADR:
22352    01:630A  E0 60      			dw	_tiles_ITEM_WEAPON_2
22353    01:630C  60 61      			dw	_tiles_ITEM_WEAPON_3
22354    01:630E  E0 61      			dw	_tiles_ITEM_WEAPON_4
22355    01:6310  60 62      			dw	_tiles_ITEM_WEAPON_5
22356    01:6312  E0 62      			dw	_tiles_ITEM_KEY
22357    01:6314  60 63      			dw	_tiles_ITEM_ARMOR_2
22358    01:6316  E0 63      			dw	_tiles_ITEM_ARMOR_3
22359    01:6318  60 64      			dw	_tiles_ITEM_ARMOR_4
22360    01:631A  E0 64      			dw	_tiles_ITEM_ARMOR_5
22361    01:631C  60 65      			dw	_tiles_ITEM_POTION
22362    01:631E             	_TABLE_SHOP_ITEMS_TILES_BANK:
22363    01:631E  12         			db	^_tiles_ITEM_WEAPON_2
22364    01:631F  12         			db	^_tiles_ITEM_WEAPON_3
22365    01:6320  12         			db	^_tiles_ITEM_WEAPON_4
22366    01:6321  12         			db	^_tiles_ITEM_WEAPON_5
22367    01:6322  12         			db	^_tiles_ITEM_KEY
22368    01:6323  12         			db	^_tiles_ITEM_ARMOR_2
22369    01:6324  12         			db	^_tiles_ITEM_ARMOR_3
22370    01:6325  12         			db	^_tiles_ITEM_ARMOR_4
22371    01:6326  12         			db	^_tiles_ITEM_ARMOR_5
22372    01:6327  12         			db	^_tiles_ITEM_POTION
22373    01:6328             	_TABLE_CURSOR_POS_X:
22374    01:6328  18         			db	24
22375    01:6329  38         			db	56
22376    01:632A  60         			db	96
22377    01:632B  88         			db	136
22378    01:632C  B0         			db	176
22379    01:632D  18         			db	24
22380    01:632E  38         			db	56
22381    01:632F  60         			db	96
22382    01:6330  88         			db	136
22383    01:6331  B0         			db	176
22384    01:6332  D4         			db	212
22385                        	
22386               2313     		.bss
22387    F8:2313             	_sequence_id:
22388    F8:2313             			ds	1
22389    F8:2314             	_sequence_loaded:
22390    F8:2314             			ds	1
22391    F8:2315             	_level_id:
22392    F8:2315             			ds	1
22393    F8:2316             	_display_level_text:
22394    F8:2316             			ds	1
22395    F8:2317             	_respawn:
22396    F8:2317             			ds	1
22397    F8:2318             	_player_id:
22398    F8:2318             			ds	1
22399    F8:2319             	_player_state:
22400    F8:2319             			ds	1
22401    F8:231A             	_player_axis:
22402    F8:231A             			ds	1
22403    F8:231B             	_player_previous_axis:
22404    F8:231B             			ds	1
22405    F8:231C             	_player_counter_anim:
22406    F8:231C             			ds	1
22407    F8:231D             	_player_index_jump:
22408    F8:231D             			ds	1
22409    F8:231E             	_player_index_fall:
22410    F8:231E             			ds	1
22411    F8:231F             	_player_counter_attack:
22412    F8:231F             			ds	1
22413    F8:2320             	_player_naked:
22414    F8:2320             			ds	1
22415    F8:2321             	_player_attack:
22416    F8:2321             			ds	1
22417    F8:2322             	_jump_ladder:
22418    F8:2322             			ds	1
22419    F8:2323             	_jump_max_index:
22420    F8:2323             			ds	1
22421    F8:2324             	_fall_ladder:
22422    F8:2324             			ds	1
22423    F8:2325             	_hit_wall:
22424    F8:2325             			ds	1
22425    F8:2326             	_chain_id:
22426    F8:2326             			ds	1
22427    F8:2327             	_weapon_id:
22428    F8:2327             			ds	1
22429    F8:2328             	_armor_level:
22430    F8:2328             			ds	1
22431    F8:2329             	_weapon_level:
22432    F8:2329             			ds	1
22433    F8:232A             	_chain_unfold:
22434    F8:232A             			ds	1
22435    F8:232B             	_list_chain_active:
22436    F8:232B             			ds	3
22437    F8:232E             	_life_amount:
22438    F8:232E             			ds	1
22439    F8:232F             	_credits_amount:
22440    F8:232F             			ds	1
22441    F8:2330             	_key_amount:
22442    F8:2330             			ds	1
22443    F8:2331             	_potion_amount:
22444    F8:2331             			ds	1
22445    F8:2332             	_minutes:
22446    F8:2332             			ds	1
22447    F8:2333             	_seconds:
22448    F8:2333             			ds	1
22449    F8:2334             	_time_counter:
22450    F8:2334             			ds	1
22451    F8:2335             	_minutes_backup:
22452    F8:2335             			ds	1
22453    F8:2336             	_seconds_backup:
22454    F8:2336             			ds	1
22455    F8:2337             	_object_start_index:
22456    F8:2337             			ds	1
22457    F8:2338             	_level_object_number:
22458    F8:2338             			ds	1
22459    F8:2339             	_onscreen_object_number:
22460    F8:2339             			ds	1
22461    F8:233A             	_list_object_type:
22462    F8:233A             			ds	25
22463    F8:2353             	_list_object_state:
22464    F8:2353             			ds	25
22465    F8:236C             	_list_object_energy:
22466    F8:236C             			ds	25
22467    F8:2385             	_list_reward_type:
22468    F8:2385             			ds	25
22469    F8:239E             	_list_object_counter:
22470    F8:239E             			ds	25
22471    F8:23B7             	_list_onscreen_object:
22472    F8:23B7             			ds	8
22473    F8:23BF             	_chest_start_index:
22474    F8:23BF             			ds	1
22475    F8:23C0             	_level_chest_number:
22476    F8:23C0             			ds	1
22477    F8:23C1             	_onscreen_chest_number:
22478    F8:23C1             			ds	1
22479    F8:23C2             	_list_chest_state:
22480    F8:23C2             			ds	8
22481    F8:23CA             	_list_onscreen_chest:
22482    F8:23CA             			ds	8
22483    F8:23D2             	_npc_start_index:
22484    F8:23D2             			ds	1
22485    F8:23D3             	_level_npc_number:
22486    F8:23D3             			ds	1
22487    F8:23D4             	_onscreen_npc_number:
22488    F8:23D4             			ds	1
22489    F8:23D5             	_list_npc_type:
22490    F8:23D5             			ds	9
22491    F8:23DE             	_list_npc_state:
22492    F8:23DE             			ds	9
22493    F8:23E7             	_list_onscreen_npc:
22494    F8:23E7             			ds	9
22495    F8:23F0             	_index_x:
22496    F8:23F0             			ds	1
22497    F8:23F1             	_index_y:
22498    F8:23F1             			ds	1
22499    F8:23F2             	_item_index:
22500    F8:23F2             			ds	1
22501    F8:23F3             	_shop_phase:
22502    F8:23F3             			ds	1
22503    F8:23F4             	_shop_counter:
22504    F8:23F4             			ds	1
22505    F8:23F5             	_palette_step:
22506    F8:23F5             			ds	1
22507    F8:23F6             	_tilemap_mask:
22508    F8:23F6             			ds	256
22509    F8:24F6             	_player_pos_x:
22510    F8:24F6             			ds	2
22511    F8:24F8             	_player_pos_y:
22512    F8:24F8             			ds	2
22513    F8:24FA             	_camera_max_y_position:
22514    F8:24FA             			ds	2
22515    F8:24FC             	_camera_pos_x_backup:
22516    F8:24FC             			ds	2
22517    F8:24FE             	_camera_pos_y_backup:
22518    F8:24FE             			ds	2
22519    F8:2500             	_list_object_x_pos:
22520    F8:2500             			ds	50
22521    F8:2532             	_list_object_y_pos:
22522    F8:2532             			ds	50
22523    F8:2564             	_list_object_x_pos_ref:
22524    F8:2564             			ds	50
22525    F8:2596             	_list_object_y_pos_ref:
22526    F8:2596             			ds	50
22527    F8:25C8             	_list_chest_x_pos:
22528    F8:25C8             			ds	16
22529    F8:25D8             	_list_chest_y_pos:
22530    F8:25D8             			ds	16
22531    F8:25E8             	_list_chest_x_pos_ref:
22532    F8:25E8             			ds	16
22533    F8:25F8             	_list_chest_y_pos_ref:
22534    F8:25F8             			ds	16
22535    F8:2608             	_list_npc_x_pos:
22536    F8:2608             			ds	18
22537    F8:261A             	_list_npc_y_pos:
22538    F8:261A             			ds	18
22539    F8:262C             	_list_npc_x_pos_ref:
22540    F8:262C             			ds	18
22541    F8:263E             	_list_npc_y_pos_ref:
22542    F8:263E             			ds	18
22543    F8:2650             	_global_counter:
22544    F8:2650             			ds	2
22545    F8:2652             	_letter_index:
22546    F8:2652             			ds	2
22547    F8:2654             	_letter_counter:
22548    F8:2654             			ds	2
22549    F8:2656             	_zenny_amount:
22550    F8:2656             			ds	2
22551    F8:2658             	_score:
22552    F8:2658             			ds	2
22553    F8:265A             	_shop_prices:
22554    F8:265A             			ds	20
22555    F8:266E             	_palette_buffer:
22556    F8:266E             			ds	32
22557    F8:268E             	_weapon_y_offset:
22558    F8:268E             			ds	1
22559    F8:268F             	_ptr_REWARD_TYPE:
22560    F8:268F             			ds	2
22561    F8:2691             	_ptr_REWARD_VRAM_ADR:
22562    F8:2691             			ds	2
22563    F8:2693             	_ptr_SHOP_ITEM_PRICES:
22564    F8:2693             			ds	2
22565                        	
22566               E31D     		.code
22567               0001     		.if		leaf_needs < 7
22568               0007     	leaf_needs	.set	7
22569                        		.endif
22570                        	
22571                        	;0 error(s) in compilation
22572                        	;	literal pool:216
22573                        	;	constant pool:381
22574                        	;	global pool:583
22575                        	;	Macro pool:326
                             #[2]   "..\..\..\include\hucc\hucc-final.asm"
    1                        	; ***************************************************************************
    2                        	; ***************************************************************************
    3                        	;
    4                        	; hucc-final.asm
    5                        	;
    6                        	; PCEAS auto-includes this file at the end of every pass in HuCC or SDCC.
    7                        	;
    8                        	; Copyright John Brandwood 2024.
    9                        	;
   10                        	; Distributed under the Boost Software License, Version 1.0.
   11                        	; (See accompanying file LICENSE_1_0.txt or copy at
   12                        	;  http://www.boost.org/LICENSE_1_0.txt)
   13                        	;
   14                        	; ***************************************************************************
   15                        	; ***************************************************************************
   16                        	;
   17                        	; This is used to select which assembly-language library files to include in
   18                        	; a HuCC project, using labels defined in the compiler's header files.
   19                        	;
   20                        	; ***************************************************************************
   21                        	; ***************************************************************************
   22                        	
   23                        			; Allow projects to customize what is included at the end
   24                        			; of a pass without replacing the entire "hucc-final.asm".
   25                        	
   26               E31D     			.code
   27               0000     			.bank	CORE_BANK
   28               E31D     			.page	CORE_PAGE
   29                        	
                             #[3]   "..\..\..\include\hucc\hucc-final-extra.asm"
   30                        			include	"hucc-final-extra.asm"
    1                        	; ***************************************************************************
    2                        	; ***************************************************************************
    3                        	;
    4                        	; hucc-final-extra.asm
    5                        	;
    6                        	; hucc-final.asm includes this file at the end of every pass in HuCC or SDCC.
    7                        	;
    8                        	; Copyright John Brandwood 2024.
    9                        	;
   10                        	; Distributed under the Boost Software License, Version 1.0.
   11                        	; (See accompanying file LICENSE_1_0.txt or copy at
   12                        	;  http://www.boost.org/LICENSE_1_0.txt)
   13                        	;
   14                        	; ***************************************************************************
   15                        	; ***************************************************************************
   16                        	;
   17                        	; This is used to select which assembly-language library files to include in
   18                        	; a HuCC project, using labels defined in the compiler's header files.
   19                        	;
   20                        	; ***************************************************************************
   21                        	; ***************************************************************************
                             #[2]   "..\..\..\include\hucc\hucc-final.asm"
   31                        	
   32                        			; Libraries required for basic functionality.
   33                        	
   34               E31D     			.code
   35               0000     			.bank	CORE_BANK
   36               E31D     			.page	CORE_PAGE
   37                        	
                             #[3]   "..\..\..\include\hucc\common.asm"
   38                        			include	"common.asm"		; Common helpers.
    1                        	; ***************************************************************************
    2                        	; ***************************************************************************
    3                        	;
    4                        	; common.asm
    5                        	;
    6                        	; Small, generic, PCE subroutines that are commonly useful when developing.
    7                        	;
    8                        	; These should be located in permanently-accessible memory!
    9                        	;
   10                        	; Copyright John Brandwood 2021-2024.
   11                        	;
   12                        	; Distributed under the Boost Software License, Version 1.0.
   13                        	; (See accompanying file LICENSE_1_0.txt or copy at
   14                        	;  http://www.boost.org/LICENSE_1_0.txt)
   15                        	;
   16                        	; ***************************************************************************
   17                        	; ***************************************************************************
   18                        	
   19                        	
   20                        	
   21                        	; ***************************************************************************
   22                        	; ***************************************************************************
   23                        	;
   24                        	; Wait for the next VBLANK IRQ.
   25                        	;
   26                        	
   27    00:E31D  AD 41 22   	wait_vsync:	lda	irq_cnt			; System Card variable, changed
   28    00:E320  CD 41 22   	.loop:		cmp	irq_cnt			; every VBLANK interrupt.
   29    00:E323  F0 FB      			beq	.loop
   30               0001     		.ifdef	HUCC
   31    00:E325  8D EB 22   			sta	old_cnt			; Remember the frame count.
   32                        		.endif
   33    00:E328  60         			rts
   34                        	
   35                        	
   36                        	
   37                        	; ***************************************************************************
   38                        	; ***************************************************************************
   39                        	;
   40                        	; Delay for the next Y VBLANK IRQs.
   41                        	;
   42                        	
   43               0001     		.ifdef	HUCC
   44    00:E329             	_vsync		.alias	wait_vsync
   45                        	
   46    00:E329  AD 41 22   	_vsync.1:	lda	irq_cnt			; HuCC's vsync(n) was defined
   47    00:E32C  38         			sec				; as frames from the previous
   48    00:E32D  ED EB 22   			sbc	old_cnt			; vsync() call, 1 to 255.
   49    00:E330  38         			sec
   50    00:E331  E5 F8      			sbc	<_al
   51    00:E333  90 02      			bcc	!+
   52    00:E335  A9 FF      			lda	#$FF
   53    00:E337  49 FF      	!:		eor	#$FF
   54    00:E339  1A         			inc	a
   55    00:E33A  A8         			tay
   56                        		.endif
   57                        	
   58    00:E33B  44 E0      	wait_nvsync:	bsr	wait_vsync		; # of VBLANK IRQs to wait in
   59    00:E33D  88         			dey				; the Y register.
   60    00:E33E  D0 FB      			bne	wait_nvsync
   61    00:E340  60         			rts
   62                        	
   63                        	
   64                        	
   65               0000     		.ifndef	HUCC
  101                        		.endif
  102                        	
  103                        	
  104                        	
  105                        	; ***************************************************************************
  106                        	; ***************************************************************************
  107                        	;
  108                        	; Map the _bp data far-pointer into MPR3 (& MPR4).
  109                        	;
  110                        	; Because the 16KB RAM region at $2000-$5FFF is composed of two separate
  111                        	; banks, with the 2nd bank having no specific relation to the 1st, there
  112                        	; is no way to deal with a bank-increment, so do not map that region.
  113                        	;
  114                        	; N.B. Library code relies on this preserving X and V!
  115                        	;
  116                        	
  117    00:E341  98         	map_bp_to_mpr3:	tya				; Put bank into MPR3.
  118    00:E342  F0 0A      			beq	!+
  119    00:E344  53 08      			tam3
  120    00:E346  A5 ED      			lda.h	<_bp			; Do not remap a ptr to RAM,
  121    00:E348  29 1F      			and	#$1F			; Remap ptr to MPR3.
  122    00:E34A  09 60      			ora	#$60
  123    00:E34C  85 ED      			sta.h	<_bp
  124    00:E34E  60         	!:		rts
  125                        	
  126    00:E34F  98         	map_bp_to_mpr34:tya				; Put bank into MPR3.
  127    00:E350  F0 0D      			beq	!+
  128    00:E352  53 08      			tam3
  129    00:E354  1A         			inc	a			; Put next into MPR4.
  130    00:E355  53 10      			tam4
  131    00:E357  A5 ED      			lda.h	<_bp			; Do not remap a ptr to RAM,
  132    00:E359  29 1F      			and	#$1F			; Remap ptr to MPR3.
  133    00:E35B  09 60      			ora	#$60
  134    00:E35D  85 ED      			sta.h	<_bp
  135    00:E35F  60         	!:		rts
  136                        	
  137                        	
  138                        	
  139                        	; ***************************************************************************
  140                        	; ***************************************************************************
  141                        	;
  142                        	; Increment the hi-byte of _bp and change TMA3 if necessary.
  143                        	;
  144                        	; N.B. Library code relies on this preserving A,X,Y and V!
  145                        	;
  146                        	
  147    00:E360  E6 ED      	inc.h_bp_mpr3:	inc.h	<_bp			; Increment hi-byte of _bp.
  148    00:E362  10 0B      			bpl	!+			; OK if within MPR0-MPR3.
  149    00:E364  48         			pha				; Increment the bank in MPR3,
  150    00:E365  43 08      			tma3				; usually when pointer moves
  151    00:E367  1A         			inc	a			; from $7FFF -> $8000.
  152    00:E368  53 08      			tam3
  153    00:E36A  A9 60      			lda	#$60
  154    00:E36C  85 ED      			sta.h	<_bp
  155    00:E36E  68         			pla
  156    00:E36F  60         	!:		rts
  157                        	
  158                        	
  159                        	
  160                        	; ***************************************************************************
  161                        	; ***************************************************************************
  162                        	;
  163                        	; Increment the hi-byte of _bp and change TMA3 and TMA4 if necessary.
  164                        	;
  165                        	; N.B. Library code relies on this preserving A,X,Y and V!
  166                        	;
  167                        	
  168    00:E370  E6 ED      	inc.h_bp_mpr34:	inc.h	<_bp			; Increment hi-byte of _bp.
  169    00:E372  10 0D      			bpl	!+			; OK if within MPR0-MPR3.
  170    00:E374  48         			pha				; Increment the bank in MPR3,
  171    00:E375  43 10      			tma4				; usually when pointer moves
  172    00:E377  53 08      			tam3				; from $7FFF -> $8000.
  173    00:E379  1A         			inc	a
  174    00:E37A  53 10      			tam4
  175    00:E37C  A9 60      			lda	#$60
  176    00:E37E  85 ED      			sta.h	<_bp
  177    00:E380  68         			pla
  178    00:E381  60         	!:		rts
  179                        	
  180                        	
  181                        	
  182                        	; ***************************************************************************
  183                        	; ***************************************************************************
  184                        	;
  185                        	; Put the _di data pointer into the VDC's MARR or MAWR register.
  186                        	;
  187                        	; N.B. Library code relies on this preserving Y!
  188                        	;
  189                        	
  190               0001     		.if	SUPPORT_SGX
  191    00:E382  A2 10      	sgx_di_to_marr:	ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
  192    00:E384  F0         			db	$F0			; Turn "clx" into a "beq".
  193                        		.endif
  194                        	
  195    00:E385  82         	vdc_di_to_marr:	clx				; Offset to PCE VDC.
  196                        	
  197    00:E386  A9 01      	set_di_to_marr	lda	#VDC_MARR		; Set VDC or SGX destination
  198    00:E388  95 F7      			sta	<vdc_reg, x		; address.
  199    00:E38A  9D 00 02   			sta	VDC_AR, x
  200    00:E38D  80 09      			bra	!+
  201                        	
  202               0001     		.if	SUPPORT_SGX
  203    00:E38F  A2 10      	sgx_di_to_mawr:	ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
  204    00:E391  F0         			db	$F0			; Turn "clx" into a "beq".
  205                        		.endif
  206                        	
  207    00:E392  82         	vdc_di_to_mawr:	clx				; Offset to PCE VDC.
  208                        	
  209    00:E393             	set_di_to_mawr;	lda	#VDC_MAWR		; Set VDC or SGX destination
  210    00:E393  74 F7      			stz	<vdc_reg, x		; address.
  211    00:E395  9E 00 02   			stz	VDC_AR, x
  212                        	
  213    00:E398  A5 F0      	!:		lda	<_di + 0
  214    00:E39A  9D 02 02   			sta	VDC_DL, x
  215    00:E39D  A5 F1      			lda	<_di + 1
  216    00:E39F  9D 03 02   			sta	VDC_DH, x
  217                        	
  218    00:E3A2  A9 02      			lda	#VDC_VWR		; Select the VRR/VWR data
  219    00:E3A4  95 F7      			sta	<vdc_reg, x		; register.
  220    00:E3A6  9D 00 02   			sta	VDC_AR, x
  221    00:E3A9  60         			rts
  222                        	
  223                        	
  224                        	
  225                        	; ***************************************************************************
  226                        	; ***************************************************************************
  227                        	;
  228                        	; Increment the hi-byte of _di and change TMA4 if necessary.
  229                        	;
  230                        	
  231               0000     		.if	0				; Save memory, for now.
  250                        		.endif
  251                        	
  252                        	
  253                        	
  254                        	; ***************************************************************************
  255                        	; ***************************************************************************
  256                        	;
  257                        	; Far-call a function in another bank.
  258                        	;
  259                        	; This is a potential alternative procedure call trampoline that uses only 10
  260                        	; bytes of common memory per bank of procedures, instead of 10 bytes for each
  261                        	; individual procedure call, BUT it uses the X register as a procedure-index,
  262                        	; and it needs a table of addresses at the end of every procedure bank.
  263                        	;
  264                        	; To use this ...
  265                        	;
  266                        	;  ldx #procedure-index
  267                        	;  jsr far_call_nn
  268                        	;
  269                        	; The called .PROC routine must exit with "jmp leave_proc" and not "rts".
  270                        	;
  271                        	; leave_proc:	pla
  272                        	;		tam6
  273                        	;		tya
  274                        	;		rts
  275                        	;
  276                        	; N.B. This costs 21 cycles vs 18 for the .newproc trampoline code (when you
  277                        	;      exclude preserving YA in zero-page).
  278                        	;
  279                        	; N.B. This was written as an excerise, and definitely not for HuC!
  280                        	;
  281                        	
  282               0000     		.if	0
  295                        		.endif					; 21
                             #[2]   "..\..\..\include\hucc\hucc-final.asm"
                             #[3]   "..\..\..\include\hucc\vce.asm"
   39                        			include	"vce.asm"		; Useful VCE routines.
    1                        	; ***************************************************************************
    2                        	; ***************************************************************************
    3                        	;
    4                        	; vce.asm
    5                        	;
    6                        	; Useful routines for operating the HuC6260 Video Color Encoder
    7                        	;
    8                        	; These should be located in permanently-accessible memory!
    9                        	;
   10                        	; Copyright John Brandwood 2021-2025.
   11                        	;
   12                        	; Distributed under the Boost Software License, Version 1.0.
   13                        	; (See accompanying file LICENSE_1_0.txt or copy at
   14                        	;  http://www.boost.org/LICENSE_1_0.txt)
   15                        	;
   16                        	; ***************************************************************************
   17                        	; ***************************************************************************
   18                        	
   19                        	;
   20                        	; Configure Library ...
   21                        	;
   22                        	
   23               0000     		.ifndef VCE_SPLIT_CROSS
   25                        		.endif
   26                        	
   27                        	
   28                        	
   29                        	; ***************************************************************************
   30                        	; ***************************************************************************
   31                        	;
   32                        	; xfer_palettes - Update the VCE with the queued palettes changes.
   33                        	;
   34                        	; This is normally called in a developer's vsync_hook handler, but it can
   35                        	; be called manually as long as it will not also be called in an interrupt.
   36                        	;
   37                        	; The queued transfers are split into 32-byte chunks so that an HSYNC and/or
   38                        	; TIMER IRQ is not delayed for too long during the VBLANK.
   39                        	;
   40                        	
   41    00:E3AA  A9 80      	xfer_palettes:	lda	#$80			; Acquire color mutex to avoid
   42    00:E3AC  0C 95 26   			tsb	color_mutex		; conflict with a delayed VBL.
   43    00:E3AF  30 5F      			bmi	.busy
   44                        	
   45    00:E3B1  AC 96 26   			ldy	color_queue_r		; Are there any palette xfers
   46    00:E3B4  CC 97 26   			cpy	color_queue_w		; queued up?
   47    00:E3B7  F0 54      			beq	.exit
   48                        	
   49    00:E3B9  08         			php				; Enable interrupts so that an
   50    00:E3BA  58         			cli				; HSYNC or TIMER IRQ can occur.
   51                        	
   52    00:E3BB  43 08      			tma3				; Preserve MPR3 & MPR4 because
   53    00:E3BD  48         			pha				; this normally runs in the
   54    00:E3BE  43 10      			tma4				; VBLANK IRQ.
   55    00:E3C0  48         			pha
   56                        	
   57               0001     		.if	!CDROM
   58    00:E3C1  73 16 E4 86			tii	.tia_func, color_tia, 8 ; Copy TIA to RAM.
         00:E3C5  22 08 00    
   59                        		.endif
   60                        	
   61    00:E3C8  B9 98 26   	.next_item:	lda	color_index, y		; Get the next set of palettes
   62    00:E3CB  0A         			asl	a			; from the queue.
   63    00:E3CC  0A         			asl	a
   64    00:E3CD  0A         			asl	a
   65    00:E3CE  0A         			asl	a
   66    00:E3CF  8D 02 04   			sta	VCE_CTA + 0
   67    00:E3D2  62         			cla
   68    00:E3D3  2A         			rol	a
   69    00:E3D4  8D 03 04   			sta	VCE_CTA + 1
   70                        	
   71    00:E3D7  BE A0 26   			ldx	color_count,y		; How many palettes to xfer?
   72                        	
   73    00:E3DA  B9 B8 26   			lda	color_bank, y		; Map data into MPR3 & MPR4.
   74    00:E3DD  53 08      			tam3
   75    00:E3DF  1A         			inc	a
   76    00:E3E0  53 10      			tam4
   77    00:E3E2  B9 B0 26   			lda	color_addr_h, y
   78    00:E3E5  8D 88 22   			sta	.ram_tia + 2
   79    00:E3E8  B9 A8 26   			lda	color_addr_l, y
   80    00:E3EB  8D 87 22   	.palette_loop:	sta	.ram_tia + 1
   81                        	
   82               0000     		.if	CDROM
   84                        		.else
   85    00:E3EE  20 86 22   			jsr	.ram_tia		; Copy 32-bytes to the VCE.
   86                        		.endif
   87                        	
   88    00:E3F1  18         			clc				; Increment the data ptr to
   89    00:E3F2  69 20      			adc	#32			; the next 32-byte palette.
   90    00:E3F4  B0 1B      			bcs	.next_page
   91                        	
   92    00:E3F6  CA         	.next_palette:	dex				; Any palettes left to xfer?
   93    00:E3F7  D0 F2      			bne	.palette_loop
   94                        	
   95    00:E3F9  C8         			iny				; Increment the queue index.
   96    00:E3FA  98         			tya
   97    00:E3FB  29 07      			and	#7
   98    00:E3FD  A8         			tay
   99                        	
  100    00:E3FE  CC 97 26   			cpy	color_queue_w		; Any more items in the queue?
  101    00:E401  D0 C5      			bne	.next_item
  102    00:E403  8C 96 26   			sty	color_queue_r		; Signal the queue is empty.
  103                        	
  104    00:E406  68         			pla				; Restore MPR3 & MPR4.
  105    00:E407  53 10      			tam4
  106    00:E409  68         			pla
  107    00:E40A  53 08      			tam3
  108                        	
  109    00:E40C  28         			plp				; Restore interrupt state.
  110                        	
  111    00:E40D  9C 95 26   	.exit:		stz	color_mutex		; Release color mutex.
  112                        	
  113    00:E410  60         	.busy:		rts
  114                        	
  115    00:E411  EE 88 22   	.next_page:	inc	.ram_tia + 2
  116    00:E414  80 E0      			bra	.next_palette
  117                        	
  118               0001     		.if	!CDROM
  119               2286     	.ram_tia	=	color_tia		; Use a TIA in RAM.
  120                        	
  121    00:E416  E3 00 00 04	.tia_func:	tia	0, VCE_CTW, 32
         00:E41A  04 20 00    
  122    00:E41D  60         			rts
  123                        		.endif	!CDROM
  124                        	
  125               2695     			.bss
  126                        	
  127    F8:2695             	color_mutex:	ds	1			; Mutex for VCE changes.
  128    F8:2696             	color_queue_r:	ds	1			; Ring buffer read index.
  129    F8:2697             	color_queue_w:	ds	1			; Ring buffer write index.
  130    F8:2698             	color_index:	ds	8			; Ring buffer - Palette index.
  131    F8:26A0             	color_count:	ds	8			; Ring buffer - Palette count.
  132    F8:26A8             	color_addr_l:	ds	8			; Ring buffer - Data Ptr (lo).
  133    F8:26B0             	color_addr_h:	ds	8			; Ring buffer - Data Ptr (hi).
  134    F8:26B8             	color_bank:	ds	8			; Ring buffer - Data Ptr (bank).
  135                        	
  136               E41E     			.code
  137                        	
  138                        	
  139                        	
  140                        	; ***************************************************************************
  141                        	; ***************************************************************************
  142                        	;
  143                        	; load_palettes - Queue a set of palettes to upload to the VCE next VBLANK.
  144                        	;
  145                        	; Args: _al = Palette index (0..15 for BG, 16..31 for SPR).
  146                        	; Args: _ah = Palette count (1..32).
  147                        	; Args: _bp = Pointer to palette data.
  148                        	; Args:   Y = Bank to map into MPR3 & MPR4, or zero to leave unchanged.
  149                        	;
  150                        	; N.B. Y==0 is only useful if the palette data is permanently mapped!
  151                        	;
  152                        	
  153                        	load_palettes	.proc
  179                        			.endp
  180                        	
  181                        	
  182                        	
  183                        	; ***************************************************************************
  184                        	; ***************************************************************************
  185                        	;
  186                        	; clear_vce - Clear all 512 of the VCE's palette entries.
  187                        	;
  188                        	
  189    1F:D651             	clear_vce	.proc
  190                        	
  191    1F:D651  08         			php				; Disable interrupts to avoid
  192    1F:D652  78         			sei				; VBLANK palette upload.
  193    1F:D653  C2         			cly
  194    1F:D654  9C 02 04   			stz	VCE_CTA+0		; Set VCE write address.
  195    1F:D657  9C 03 04   			stz	VCE_CTA+1
  196    1F:D65A  9C 04 04   	.loop:		stz	VCE_CTW+0		; Set lo-byte of color.
  197    1F:D65D  9C 05 04   			stz	VCE_CTW+1		; Write 1 color value.
  198    1F:D660  9C 04 04   			stz	VCE_CTW+0		; Set lo-byte of color.
  199    1F:D663  9C 05 04   			stz	VCE_CTW+1		; Write 1 color value.
  200    1F:D666  88         			dey
  201    1F:D667  D0 F1      			bne	.loop
  202    1F:D669  28         			plp
  203                        	
  204                        			leave				; All done, phew!
         1F:D66A  4C EF FF   			jmp	leave_proc
  205                        	
  206                        			.endp
  207                        	
  208               0001     		.ifdef	HUCC
  209    00:E41E             			.alias	_clear_palette		= clear_vce
  210                        		.endif
  211                        	
  212                        	
  213                        	
  214                        	; ***************************************************************************
  215                        	; ***************************************************************************
  216                        	;
  217                        	; read_palettes - Read palettes from the VCE into a buffer in RAM.
  218                        	;
  219                        	; Args: _al = Palette index (0..15 for BG, 16..31 for SPR).
  220                        	; Args: _ah = Palette count (1..32).
  221                        	; Args: _di = Pointer to palette data destination in RAM.
  222                        	;
  223                        	; The transfer is split into 32-byte chunks so that an HSYNC and/or TIMER
  224                        	; IRQ is not delayed for too long while executing.
  225                        	;
  226                        	
  227    1F:D39C             	read_palettes	.proc
  228                        	
  229    1F:D39C  A9 80      	.wait:		lda	#$80			; Acquire color mutex to avoid
  230    1F:D39E  0C 95 26   			tsb	color_mutex		; conflict with xfer_palettes.
  231    1F:D3A1  30 F9      			bmi	.wait
  232                        	
  233               0001     		.if	!CDROM
  234    1F:D3A3  73 DA D3 86			tii	.tai_func, color_tia, 8 ; Copy TAI to RAM.
         1F:D3A7  22 08 00    
  235                        		.endif
  236                        	
  237    1F:D3AA  A5 F8      	.next_item:	lda	<_al			; Get the palette number.
  238    1F:D3AC  0A         			asl	a
  239    1F:D3AD  0A         			asl	a
  240    1F:D3AE  0A         			asl	a
  241    1F:D3AF  0A         			asl	a
  242    1F:D3B0  8D 02 04   			sta	VCE_CTA + 0
  243    1F:D3B3  62         			cla
  244    1F:D3B4  2A         			rol	a
  245    1F:D3B5  8D 03 04   			sta	VCE_CTA + 1
  246                        	
  247    1F:D3B8  A6 F9      			ldx	<_ah			; How many palettes to xfer?
  248                        	
  249    1F:D3BA  A5 F1      			lda.h	<_di
  250    1F:D3BC  8D 8A 22   			sta	.ram_tai + 4
  251    1F:D3BF  A5 F0      			lda.l	<_di
  252    1F:D3C1  8D 89 22   	.palette_loop:	sta	.ram_tai + 3
  253                        	
  254               0000     		.if	CDROM
  256                        		.else
  257    1F:D3C4  20 86 22   			jsr	.ram_tai		; Copy 32-bytes from the VCE.
  258                        		.endif
  259                        	
  260    1F:D3C7  18         			clc				; Increment the data ptr to
  261    1F:D3C8  69 20      			adc	#32			; the next 32-byte palette.
  262    1F:D3CA  B0 09      			bcs	.next_page
  263                        	
  264    1F:D3CC  CA         	.next_palette:	dex				; Any palettes left to xfer?
  265    1F:D3CD  D0 F2      			bne	.palette_loop
  266                        	
  267    1F:D3CF  9C 95 26   			stz	color_mutex		; Release color mutex.
  268                        	
  269                        			leave
         1F:D3D2  4C EF FF   			jmp	leave_proc
  270                        	
  271    1F:D3D5  EE 8A 22   	.next_page:	inc	.ram_tai + 4
  272    1F:D3D8  80 F2      			bra	.next_palette
  273                        	
  274               0001     		.if	!CDROM
  275               2286     	.ram_tai	=	color_tia		; Use a TIA in RAM.
  276                        	
  277    1F:D3DA  F3 04 04 00	.tai_func:	tai	VCE_CTR, 0, 32
         1F:D3DE  00 20 00    
  278    1F:D3E1  60         			rts
  279                        		.endif	!CDROM
  280                        	
  281                        			.endp
  282                        	
  283               0001     		.ifdef	HUCC
  284    00:E41E             			.alias	_read_palette.3		= read_palettes
  285                        		.endif
  286                        	
  287                        	
  288                        	
  289                        	vce_fade_funcs	.procgroup
  516                        			.endprocgroup
  517                        	
  518                        	
  519                        	
  520                        	; ***************************************************************************
  521                        	; ***************************************************************************
  522                        	;
  523                        	; cross_fade_to - Cross fade a palette in RAM towards a reference palette.
  524                        	;
  525                        	; Args: _al = Number of colors (1..256).
  526                        	; Args: _di = Pointer to faded palette destination in RAM.
  527                        	; Args: _bp = Pointer to reference palette data.
  528                        	; Args:   Y = Bank to map into MPR3 & MPR4, or zero to leave unchanged.
  529                        	;
  530                        	; N.B. Y==0 is only useful if the reference palette data is already mapped!
  531                        	;
  532                        	; N.B. This only updates the palette in RAM by 1 RGB step, so it will need
  533                        	;      to be called 7 times to guarantee that you've reached the target.
  534                        	;
  535                        	
  536    1F:CE6E             	cross_fade_to	.proc
  537                        	
  538    1F:CE6E  43 08      			tma3				; Preserve MPR3.
  539    1F:CE70  48         			pha
  540    1F:CE71  43 10      			tma4				; Preserve MPR4.
  541    1F:CE73  48         			pha
  542                        	
  543    1F:CE74  98         			tya				; Is there a bank to map?
  544    1F:CE75  F0 03      			beq	!+
  545                        	
  546    1F:CE77  20 4F E3   			jsr	map_bp_to_mpr34		; Map data to MPR3 & MPR4.
  547                        	
  548    1F:CE7A  A5 F8      	!:		lda	<_al			; # of colors (1..256).
  549    1F:CE7C  F0 05      			beq	.next_page		; Exactly 256 colors?
  550    1F:CE7E  0A         	!:		asl	a
  551    1F:CE7F  90 07      			bcc	.page_loop
  552    1F:CE81  F0 FB      			beq	!-			; Exactly 128 colors?
  553                        	
  554    1F:CE83  38         	.next_page:	sec				; More than 128 colors.
  555    1F:CE84  E6 ED      			inc.h	<_bp
  556    1F:CE86  E6 F1      			inc.h	<_di
  557                        	
  558    1F:CE88  08         	.page_loop:	php				; C is set if more than 128
  559    1F:CE89  A8         			tay				; colors left to fade.
  560                        	
  561    1F:CE8A  88         	.green:		dey				; Is target green > fade green?
  562               0001     		.if	VCE_SPLIT_CROSS
  563    1F:CE8B  8F F9 31   			bbs0	<_ah, .red
  564                        		.endif
  565    1F:CE8E  B1 EC      			lda	[_bp], y
  566    1F:CE90  4A         			lsr	a
  567    1F:CE91  88         			dey
  568    1F:CE92  B1 EC      			lda	[_bp], y
  569    1F:CE94  6A         			ror	a
  570    1F:CE95  29 E0      			and	#%11100000
  571    1F:CE97  85 00      			sta	<__temp
  572    1F:CE99  C8         			iny
  573    1F:CE9A  B1 F0      			lda	[_di], y
  574    1F:CE9C  4A         			lsr	a
  575    1F:CE9D  88         			dey
  576    1F:CE9E  B1 F0      			lda	[_di], y
  577    1F:CEA0  6A         			ror	a
  578    1F:CEA1  08         			php
  579    1F:CEA2  AA         			tax
  580    1F:CEA3  29 E0      			and	#%11100000
  581    1F:CEA5  38         			sec
  582    1F:CEA6  E5 00      			sbc	<__temp
  583    1F:CEA8  22         			sax				; Move X to A but keep Z.
  584    1F:CEA9  F0 08      			beq	.set_green		; Don't update if equal green.
  585    1F:CEAB  B0 04      			bcs	.dec_green
  586    1F:CEAD  69 20      	.inc_green:	adc	#%00100000
  587    1F:CEAF  80 02      			bra	.set_green
  588    1F:CEB1  E9 20      	.dec_green:	sbc	#%00100000
  589    1F:CEB3  28         	.set_green:	plp
  590    1F:CEB4  2A         			rol	a
  591               0001     		.if	VCE_SPLIT_CROSS
  592    1F:CEB5  91 F0      			sta	[_di], y		; Save lo-byte of updated color.
  593                        		.else
  595                        		.endif
  596    1F:CEB7  62         			cla
  597    1F:CEB8  2A         			rol	a
  598    1F:CEB9  C8         			iny
  599    1F:CEBA  91 F0      			sta	[_di], y		; Save hi-byte of updated color.
  600               0001     		.if	VCE_SPLIT_CROSS
  601    1F:CEBC  88         			dey
  602    1F:CEBD  80 34      			bra	.next_color
  603                        		.endif
  604                        	
  605    1F:CEBF  88         	.red:		dey
  606    1F:CEC0  B1 EC      			lda	[_bp], y		; Is target red > fade red?
  607    1F:CEC2  29 38      			and	#%00111000
  608    1F:CEC4  85 00      			sta	<__temp
  609               0001     		.if	VCE_SPLIT_CROSS
  610    1F:CEC6  B1 F0      			lda	[_di], y
  611    1F:CEC8  AA         			tax
  612                        		.else
  614                        		.endif
  615    1F:CEC9  29 38      			and	#%00111000
  616    1F:CECB  38         			sec
  617    1F:CECC  E5 00      			sbc	<__temp
  618    1F:CECE  22         			sax				; Move X to A but keep Z.
  619    1F:CECF  F0 08      			beq	.set_red		; Don't update if equal red.
  620    1F:CED1  B0 04      			bcs	.dec_red
  621    1F:CED3  69 08      	.inc_red:	adc	#%00001000
  622    1F:CED5  80 02      			bra	.set_red
  623    1F:CED7  E9 08      	.dec_red:	sbc	#%00001000
  624    1F:CED9  AA         	.set_red:	tax
  625                        	
  626    1F:CEDA  B1 EC      	.blue:		lda	[_bp], y		; Is target blue > fade blue?
  627    1F:CEDC  29 07      			and	#%00000111
  628    1F:CEDE  85 00      			sta	<__temp
  629    1F:CEE0  8A         			txa
  630    1F:CEE1  29 07      			and	#%00000111
  631    1F:CEE3  38         			sec
  632    1F:CEE4  E5 00      			sbc	<__temp
  633    1F:CEE6  22         			sax				; Move X to A but keep Z.
  634    1F:CEE7  F0 08      			beq	.set_blue		; Don't update if equal blue.
  635    1F:CEE9  B0 04      			bcs	.dec_blue
  636    1F:CEEB  69 01      	.inc_blue:	adc	#%00000001
  637    1F:CEED  80 02      			bra	.set_blue
  638    1F:CEEF  E9 01      	.dec_blue:	sbc	#%00000001
  639    1F:CEF1  91 F0      	.set_blue:	sta	[_di], y		; Save lo-byte of updated color.
  640                        	
  641    1F:CEF3  98         	.next_color:	tya				; Last color in the page?
  642    1F:CEF4  D0 94      			bne	.green
  643    1F:CEF6  28         			plp				; Are there another 128 colors?
  644    1F:CEF7  90 07      			bcc	.finished
  645                        	
  646    1F:CEF9  C6 ED      			dec.h	<_bp			; Fade the 1st 128 colors if
  647    1F:CEFB  C6 F1      			dec.h	<_di			; there were more than 128.
  648    1F:CEFD  18         			clc
  649    1F:CEFE  80 88      			bra	.page_loop
  650                        	
  651    1F:CF00  68         	.finished:	pla				; Restore MPR4.
  652    1F:CF01  53 10      			tam4
  653    1F:CF03  68         			pla				; Restore MPR3.
  654    1F:CF04  53 08      			tam3
  655                        	
  656                        			leave				; All done, phew!
         1F:CF06  4C EF FF   			jmp	leave_proc
  657                        	
  658                        			.endp
                             #[2]   "..\..\..\include\hucc\hucc-final.asm"
                             #[3]   "..\..\..\include\hucc\vdc.asm"
   40                        			include	"vdc.asm"		; Useful VDC routines.
    1                        	; ***************************************************************************
    2                        	; ***************************************************************************
    3                        	;
    4                        	; vdc.asm
    5                        	;
    6                        	; Useful routines for operating the HuC6270 Video Display Controller.
    7                        	;
    8                        	; These should be located in permanently-accessible memory!
    9                        	;
   10                        	; Copyright John Brandwood 2021-2025.
   11                        	;
   12                        	; Distributed under the Boost Software License, Version 1.0.
   13                        	; (See accompanying file LICENSE_1_0.txt or copy at
   14                        	;  http://www.boost.org/LICENSE_1_0.txt)
   15                        	;
   16                        	; ***************************************************************************
   17                        	; ***************************************************************************
   18                        	
   19                        	;
   20                        	; Include dependancies ...
   21                        	;
   22                        	
   23                        			include "common.asm"		; Common helpers.
   24                        			include "vce.asm"		; Useful VCE routines.
   25                        	
   26                        	;
   27                        	; Choose how much to transfer to VRAM in a single chunk, normally 16-bytes.
   28                        	;
   29                        	; The cycle timings for a TIA-to-VRAM depend upon how the VDC's MWR CPU slots
   30                        	; line up to the CPU's writes, and how long the VDC has to halt the CPU while
   31                        	; it fetches the next scanline's sprite data.
   32                        	;
   33                        	; These cycle timings are for 0 sprites (best) and 16 sprites (worst) ...
   34                        	;
   35                        	; 32-byte TIA takes 270..364 cycles in 5MHz, 242..312 cycles in 7MHz. (8.44 cycles-per-byte best-case at 5MHz.)
   36                        	; 24-byte TIA takes 210..298 cycles in 5MHz, 186..256 cycles in 7MHz. (8.75 cycles-per-byte best-case at 5MHz.)
   37                        	; 16-byte TIA takes 142..234 cycles in 5MHz, 128..200 cycles in 7MHz. (8.88 cycles-per-byte best-case at 5MHz.)
   38                        	;
   39                        	; If a user wishes to be able to put RCR interrupts one-line-after-another,
   40                        	; then it is only safe to use 32-byte chunks if there are no TIMER or IRQ2
   41                        	; interrupts ... which is almost-impossible to rely on in library code!
   42                        	;
   43                        	
   44               0000     		.ifndef	VRAM_XFER_SIZE
   46                        		.endif
   47                        	
   48                        	;
   49                        	; Enable BG & SPR layers, and RCR interrupt.
   50                        	;
   51                        	
   52    00:E41E  A9 04      	set_rcron:	lda	#$04			; Enable RCR interrupt.
   53    00:E420  80 0A      			bra	!+
   54                        	
   55    00:E422  A9 80      	set_bgon:	lda	#$80			; Enable BG layer.
   56    00:E424  80 06      			bra	!+
   57                        	
   58    00:E426  A9 40      	set_spron:	lda	#$40			; Enable SPR layer.
   59    00:E428  80 02      			bra	!+
   60                        	
   61    00:E42A  A9 C0      	set_dspon:	lda	#$C0			; Enable BG & SPR layers.
   62                        	
   63    00:E42C  04 F3      	!:		tsb	<vdc_crl		; These take effect when
   64               0001     		.if	SUPPORT_SGX			; the next VBLANK occurs.
   65    00:E42E  04 03      			tsb	<sgx_crl
   66                        		.endif
   67    00:E430  60         			rts
   68                        	
   69                        	;
   70                        	; Disable BG & SPR layers, and RCR interrupt.
   71                        	;
   72                        	
   73    00:E431  A9 04      	set_rcroff:	lda	#$04			; Disable RCR interrupt.
   74    00:E433  80 0A      			bra	!+
   75                        	
   76    00:E435  A9 80      	set_bgoff:	lda	#$80			; Disable BG layer.
   77    00:E437  80 06      			bra	!+
   78                        	
   79    00:E439  A9 40      	set_sproff:	lda	#$40			; Disable SPR layer.
   80    00:E43B  80 02      			bra	!+
   81                        	
   82    00:E43D  A9 C0      	set_dspoff:	lda	#$C0			; Disable BG & SPR layers.
   83                        	
   84    00:E43F  14 F3      	!:		trb	<vdc_crl		; These take effect when
   85               0001     		.if	SUPPORT_SGX			; the next VBLANK occurs.
   86    00:E441  14 03      			trb	<sgx_crl
   87                        		.endif
   88    00:E443  60         			rts
   89                        	
   90                        	
   91                        	
   92                        	; ***************************************************************************
   93                        	; ***************************************************************************
   94                        	;
   95                        	; Put the _di data pointer into the VDC's MARR or MAWR register.
   96                        	;
   97                        	; N.B. Library code relies on this preserving Y!
   98                        	;
   99                        	; Args: _di + 0 = BAT X coordinate.
  100                        	; Args: _di + 1 = BAT Y coordinate.
  101                        	;
  102                        	; Here because it relies on the "vdc_bat_width" that is defined in this file.
  103                        	;
  104                        	
  105               0001     		.if	SUPPORT_SGX
  106    00:E444  A2 10      	sgx_di_xy_marr:	ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
  107    00:E446  F0         			db	$F0			; Turn "clx" into a "beq".
  108                        		.endif
  109                        	
  110    00:E447  82         	vdc_di_xy_marr:	clx				; Offset to PCE VDC.
  111                        	
  112    00:E448  62         	set_di_xy_mawr:	cla
  113    00:E449  3C C0 26   			bit	vdc_bat_width, x	; Set by set_bat_size().
  114    00:E44C  30 08      			bmi	.w128
  115    00:E44E  70 03      			bvs	.w64
  116    00:E450  46 F1      	.w32:		lsr.h	<_di
  117    00:E452  6A         			ror	a
  118    00:E453  46 F1      	.w64:		lsr.h	<_di
  119    00:E455  6A         			ror	a
  120    00:E456  46 F1      	.w128:		lsr.h	<_di
  121    00:E458  6A         			ror	a
  122    00:E459  05 F0      			ora.l	<_di
  123    00:E45B  85 F0      			sta.l	<_di
  124    00:E45D  4C 93 E3   			jmp	set_di_to_mawr		; In "common.asm".
  125                        	
  126                        	
  127                        	
  128    1F:D3E2             	vdc_clear_vram	.procgroup			; These routines share code!
  129                        	
  130                        	; ***************************************************************************
  131                        	; ***************************************************************************
  132                        	;
  133                        	; clear_vram_sgx - Clear all of VRAM in the SGX VDC.
  134                        	; clear_vram_vdc - Clear all of VRAM in the PCE VDC.
  135                        	;
  136                        	; Args: _ax = word value to write to the BAT.
  137                        	; Args: _bl = hi-byte of size of BAT (# of words).
  138                        	;
  139                        	
  140               0001     		.if	SUPPORT_SGX
  141    1F:D3E2             	clear_vram_sgx	.proc
  142                        	
  143    1F:D3E2  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
  144    1F:D3E4  F0         			db	$F0			; Turn "clx" into a "beq".
  145                        	
  146    1F:D3E5             			.ref	clear_vram_vdc		; Need clear_vram_vdc
  147                        			.endp
  148                        		.endif
  149                        	
  150    1F:D3E5             	clear_vram_vdc	.proc
  151                        	
  152    1F:D3E5  82         			clx				; Offset to PCE VDC.
  153                        	
  154    1F:D3E6  20 51 FD   	clear_vram_x:	call	clear_bat_x		; Clear the BAT.
  155                        	
  156    1F:D3E9  A9 80      			lda	#$80			; Xvert hi-byte of # words
  157    1F:D3EB  38         			sec				; in screen to loop count.
  158    1F:D3EC  E5 FA      			sbc	<_bl
  159    1F:D3EE  4A         			lsr	a
  160                        	
  161                        	;		cly				; Clear the rest of VRAM.
  162    1F:D3EF  9E 02 02   			stz	VDC_DL, x
  163    1F:D3F2  9E 03 02   	.clr_loop:	stz	VDC_DH, x		; Seperate writes to minimize
  164    1F:D3F5  88         			dey				; VDC MWR penalty.
  165    1F:D3F6  9E 03 02   			stz	VDC_DH, x
  166    1F:D3F9  D0 F7      			bne	.clr_loop
  167    1F:D3FB  3A         			dec	a
  168    1F:D3FC  D0 F4      			bne	.clr_loop
  169                        	
  170                        			leave				; All done, phew!
         1F:D3FE  4C EF FF   			jmp	leave_proc
  171                        	
  172                        			.endp
  173                        	
  174                        	
  175                        	
  176                        	; ***************************************************************************
  177                        	; ***************************************************************************
  178                        	;
  179                        	; clear_bat_sgx - Clear the BAT in the SGX VDC.
  180                        	; clear_bat_vdc - Clear the BAT in the PCE VDC.
  181                        	;
  182                        	; Args: _ax = word value to write to the BAT.
  183                        	; Args: _bl = hi-byte of size of BAT (# of words).
  184                        	;
  185                        	
  186               0001     		.if	SUPPORT_SGX
  187                        	clear_bat_sgx	.proc
  193                        			.endp
  194                        		.endif
  195                        	
  196    1F:D401             	clear_bat_vdc	.proc
  197                        	
  198    1F:D401  82         			clx				; Offset to PCE VDC.
  199                        	
  200    1F:D402             			.ref	clear_bat_x		; Need clear_bat_x
  201                        			.endp
  202                        	
  203    1F:D402             	clear_bat_x	.proc				; HuCC uses this entry point.
  204                        	
  205    1F:D402  64 F0      			stz	<_di + 0		; Set VDC or SGX destination
  206    1F:D404  64 F1      			stz	<_di + 1		; address.
  207    1F:D406  20 93 E3   			jsr	set_di_to_mawr
  208                        	
  209    1F:D409  A5 FA      			lda	<_bl			; Xvert hi-byte of # words
  210    1F:D40B  4A         			lsr	a			; in screen to loop count.
  211                        	
  212    1F:D40C  C2         			cly
  213    1F:D40D  48         	.bat_loop:	pha
  214    1F:D40E  A5 F8      			lda	<_ax + 0
  215    1F:D410  9D 02 02   			sta	VDC_DL, x
  216    1F:D413  A5 F9      			lda	<_ax + 1
  217    1F:D415  9D 03 02   	.bat_pair:	sta	VDC_DH, x		; Seperate writes to minimize
  218    1F:D418  88         			dey				; VDC MWR penalty.
  219    1F:D419  9D 03 02   			sta	VDC_DH, x
  220    1F:D41C  D0 F7      			bne	.bat_pair
  221                        	
  222    1F:D41E  68         			pla
  223    1F:D41F  3A         			dec	a
  224    1F:D420  D0 EB      			bne	.bat_loop
  225                        	
  226                        			leave
         1F:D422  4C EF FF   			jmp	leave_proc
  227                        	
  228                        			.endp
  229                        	
  230                        			.endprocgroup
  231                        	
  232                        	;
  233                        	;
  234                        	;
  235                        	
  236    1D:DF1D             	vdc_set_mode	.procgroup			; These routines share code!
  237                        	
  238                        	; ***************************************************************************
  239                        	; ***************************************************************************
  240                        	;
  241                        	; set_mode_sgx - Set video hardware registers from a data table.
  242                        	; set_mode_vdc - Set video hardware registers from a data table.
  243                        	;
  244                        	; Args: _bp, Y = _farptr to data table mapped into MPR3 & MPR4.
  245                        	;
  246                        	
  247               0001     		.if	SUPPORT_SGX
  248    1D:DF1D             	set_mode_sgx	.proc
  249                        	
  250    1D:DF1D  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
  251    1D:DF1F  F0         			db	$F0			; Turn "clx" into a "beq".
  252                        	
  253                        			.endp
  254                        		.endif
  255                        	
  256    1D:DF20             	set_mode_vdc	.proc
  257                        	
  258    1D:DF20  82         			clx				; Offset to PCE VDC.
  259                        	
  260    1D:DF21  F7 F8      			smb7	<_al			; Signal no set_bat_size() yet.
  261                        	
  262    1D:DF23  43 08      			tma3				; Preserve MPR3.
  263    1D:DF25  48         			pha
  264    1D:DF26  43 10      			tma4				; Preserve MPR4.
  265    1D:DF28  48         			pha
  266                        	
  267    1D:DF29  20 4F E3   			jsr	map_bp_to_mpr34		; Map data to MPR3 & MPR4.
  268                        	
  269    1D:DF2C  08         			php				; Disable interrupts.
  270    1D:DF2D  78         			sei
  271                        	
  272    1D:DF2E  C2         			cly				; Table size is < 256 bytes.
  273                        	
  274    1D:DF2F  B1 EC      	.loop:		lda	[_bp], y		; Get the register #, +ve for
  275    1D:DF31  F0 46      			beq	.done			; VDC, -128 for VCE_CR.
  276    1D:DF33  10 0C      			bpl	.set_vdc_reg
  277                        	
  278                        			; Set the VCE_CR register.
  279                        	
  280    1D:DF35  C8         	.set_vce_cr:	iny
  281                        	
  282    1D:DF36  B1 EC      			lda	[_bp], y		; Get lo-byte of register.
  283    1D:DF38  C8         			iny
  284    1D:DF39  8D 44 22   			sta	vce_cr			; No SGX shadow for this!
  285    1D:DF3C  8D 00 04   			sta	VCE_CR			; Set the VCE clock speed.
  286    1D:DF3F  80 EE      			bra	.loop			; Do not set VDC_MWR reg bits!
  287                        	
  288                        			; Set a VDC register.
  289                        	
  290    1D:DF41  C8         	.set_vdc_reg:	iny
  291    1D:DF42  9D 00 02   			sta	VDC_AR, x		; Set which VDC register.
  292                        	
  293    1D:DF45  C9 05      			cmp	#VDC_CR			; CS if VDC_CR or higher.
  294    1D:DF47  F0 14      			beq	.skip_cc
  295    1D:DF49  18         			clc				; CC if not VDC_CR.
  296                        	
  297    1D:DF4A  49 09      			eor	#VDC_MWR		; Check if this the VDC_MWR
  298    1D:DF4C  D0 0F      			bne	.skip_cc		; without changing CC.
  299                        	
  300    1D:DF4E  B1 EC      			lda	[_bp], y		; Remember the BAT size so that
  301    1D:DF50  8D 42 22   			sta	vdc_mwr			; set_bat_size() can be called.
  302    1D:DF53  4A         			lsr	a
  303    1D:DF54  4A         			lsr	a
  304    1D:DF55  4A         			lsr	a
  305    1D:DF56  4A         			lsr	a
  306    1D:DF57  85 F8      			sta	<_al
  307    1D:DF59  C8         			iny
  308    1D:DF5A  C8         			iny
  309    1D:DF5B  80 D2      			bra	.loop
  310                        	
  311    1D:DF5D  B1 EC      	.skip_cc:	lda	[_bp], y		; Get lo-byte of register.
  312    1D:DF5F  C8         			iny
  313    1D:DF60  90 08      			bcc	.not_vdc_cr
  314                        	
  315               0001     		.if	SUPPORT_SGX
  316    1D:DF62  E0 00      			cpx	#0			; Writing to the VDC or SGX?
  317    1D:DF64  F0 02      			beq	.save_crl
  318    1D:DF66  29 F7      			and	#$F7			; We only need 1 vblank IRQ!
  319                        		.endif
  320                        	
  321    1D:DF68  95 F3      	.save_crl:	sta	<vdc_crl, x		; Save VDC_CR shadow register.
  322                        	
  323    1D:DF6A  9D 02 02   	.not_vdc_cr:	sta	VDC_DL, x		; Write to VDC.
  324                        	
  325    1D:DF6D  B1 EC      			lda	[_bp], y		; Get hi-byte of register.
  326    1D:DF6F  C8         			iny
  327    1D:DF70  9D 03 02   			sta	VDC_DH, x
  328    1D:DF73  90 BA      			bcc	.loop			; Next register, please!
  329                        	
  330    1D:DF75  95 F4      			sta	<vdc_crh, x		; Save VDC_CR shadow register.
  331                        	
  332    1D:DF77  80 B6      			bra	.loop			; Next register, please!
  333                        	
  334                        			; All registers set!
  335                        	
  336    1D:DF79  A9 02      	.done:		lda	#VDC_VWR		; Leave with VDC_VWR set.
  337    1D:DF7B  95 F7      			sta	<vdc_reg, x
  338                        	;		lda	<vdc_reg, x		; Restore previous VDC_AR from
  339    1D:DF7D  9D 00 02   			sta	VDC_AR, x		; the shadow variable.
  340                        	
  341    1D:DF80  28         			plp				; Restore interrupts.
  342                        	
  343    1D:DF81  68         			pla				; Restore MPR4.
  344    1D:DF82  53 10      			tam4
  345    1D:DF84  68         			pla				; Restore MPR3.
  346    1D:DF85  53 08      			tam3
  347                        	
  348    1D:DF87  7F F8 07   			bbr7	<_al, set_bat_size	; Update if BAT size changed.
  349                        	
  350                        			leave				; All done, phew!
         1D:DF8A  4C EF FF   			jmp	leave_proc
  351                        	
  352    1D:DF8D             			.ref	set_bat_vdc
  353                        			.endp
  354                        	
  355                        	
  356                        	
  357                        	; ***************************************************************************
  358                        	; ***************************************************************************
  359                        	;
  360                        	; set_bat_sgx - Change the SGX BAT size and initialize variables based on it.
  361                        	; set_bat_vdc - Change the PCE BAT size and initialize variables based on it.
  362                        	;
  363                        	; Args: _al = new size (0-7).
  364                        	;
  365                        	; (VDC_MWR_32x32  >> 4) or in HuCC, SCR_SIZE_32x32.
  366                        	; (VDC_MWR_32x64  >> 4) or in HuCC, SCR_SIZE_32x64.
  367                        	; (VDC_MWR_64x32  >> 4) or in HuCC, SCR_SIZE_64x32.
  368                        	; (VDC_MWR_64x64  >> 4) or in HuCC, SCR_SIZE_64x64.
  369                        	; (VDC_MWR_128x32 >> 4) or in HuCC, SCR_SIZE_128x32.
  370                        	; (VDC_MWR_128x64 >> 4) or in HuCC, SCR_SIZE_128x64.
  371                        	;
  372                        	
  373               0001     		.if	SUPPORT_SGX
  374    1D:DF8D             	set_bat_sgx	.proc
  375                        	
  376    1D:DF8D  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
  377    1D:DF8F  F0         			db	$F0			; Turn "clx" into a "beq".
  378                        	
  379    1D:DF90             			.ref	set_bat_vdc
  380                        			.endp
  381                        		.endif
  382                        	
  383    1D:DF90             	set_bat_vdc	.proc
  384                        	
  385    1D:DF90  82         			clx				; Offset to PCE VDC.
  386                        	
  387    1D:DF91  A5 F8      	set_bat_size:	lda	<_al			; Get BAT size value.
  388    1D:DF93  29 07      			and	#7			; Sanitize screen size value.
  389    1D:DF95  A8         			tay
  390    1D:DF96  0A         			asl	a			; Put it in bits 4..6.
  391    1D:DF97  0A         			asl	a
  392    1D:DF98  0A         			asl	a
  393    1D:DF99  0A         			asl	a
  394    1D:DF9A  85 00      			sta	<__temp
  395                        	
  396    1D:DF9C  B9 DC DF   			lda	.width, y
  397    1D:DF9F  9D C0 26   			sta	vdc_bat_width, x
  398    1D:DFA2  3A         			dec	a
  399    1D:DFA3  9D C2 26   			sta	vdc_bat_x_mask, x
  400                        	
  401    1D:DFA6  B9 E4 DF   			lda	.height, y
  402    1D:DFA9  9D C1 26   			sta	vdc_bat_height, x
  403    1D:DFAC  3A         			dec	a
  404    1D:DFAD  9D C3 26   			sta	vdc_bat_y_mask, x
  405                        	
  406    1D:DFB0  B9 EC DF   			lda	.limit, y
  407    1D:DFB3  9D C4 26   			sta	vdc_bat_limit, x
  408                        	
  409    1D:DFB6  B9 F4 DF   			lda	.increment, y		; Put the VRAM increment for a
  410    1D:DFB9  95 F4      			sta	<vdc_crh, x		; line into vdc_crh for later.
  411                        	
  412    1D:DFBB  08         			php
  413    1D:DFBC  78         			sei
  414                        	
  415    1D:DFBD  A9 09      			lda	#VDC_MWR
  416    1D:DFBF  9D 00 02   			sta	VDC_AR, x
  417                        	
  418    1D:DFC2  AD 42 22   			lda	vdc_mwr			; Get the MWR access width bits.
  419    1D:DFC5  29 8F      			and	#%10001111
  420    1D:DFC7  05 00      			ora	<__temp
  421               0001     		.if	SUPPORT_SGX
  422    1D:DFC9  E0 00      			cpx	#PCE_VDC_OFFSET		; This has no SGX shadow!
  423    1D:DFCB  D0 03      			bne	!+
  424                        		.endif
  425    1D:DFCD  8D 42 22   			sta	vdc_mwr
  426    1D:DFD0  9D 02 02   	!:		sta	VDC_DL, x
  427                        	
  428    1D:DFD3  B5 F7      			lda	<vdc_reg, x		; Restore previous VDC_AR from
  429    1D:DFD5  9D 00 02   			sta	VDC_AR, x		; the shadow variable.
  430                        	
  431    1D:DFD8  28         			plp
  432                        	
  433                        			leave
         1D:DFD9  4C EF FF   			jmp	leave_proc
  434                        	
  435    1D:DFDC  20 40 80 80	.width:		db	$20,$40,$80,$80,$20,$40,$80,$80
         1D:DFE0  20 40 80 80 
  436    1D:DFE4  20 20 20 20	.height:	db	$20,$20,$20,$20,$40,$40,$40,$40
         1D:DFE8  40 40 40 40 
  437    1D:DFEC  03 07 0F 0F	.limit:		db	$03,$07,$0F,$0F,$07,$0F,$1F,$1F
         1D:DFF0  07 0F 1F 1F 
  438    1D:DFF4  08 10 18 18	.increment	db	$08,$10,$18,$18,$08,$10,$18,$18
         1D:DFF8  08 10 18 18 
  439                        	
  440               26C0     			.bss
  441                        	
  442                        	; **************
  443                        	; 16-bytes of VDC BAT information.
  444                        	;
  445                        	; N.B. MUST be 16-bytes before the SGX versions to use PCE_VDC_OFFSET.
  446                        	;
  447                        	; N.B. Declared inside this .proc so that they can be stripped if unused.
  448                        	
  449                        	; Initialized by set_bat_vdc.
  450    F8:26C0             	vdc_bat_width:	ds	1	; $20, $40, $80
  451    F8:26C1             	vdc_bat_height:	ds	1	; $20, $40
  452    F8:26C2             	vdc_bat_x_mask:	ds	1	; $1F, $3F, $7F
  453    F8:26C3             	vdc_bat_y_mask:	ds	1	; $1F, $3F
  454    F8:26C4             	vdc_bat_limit:	ds	1	; (>$03FF), (>$07FF), (>$0FFF), (>$1FFF)
  455                        	
  456                        	; From blkmap.asm just to avoid wasting .bss space with padding.
  457    F8:26C5             	vdc_map_draw_w:	ds	1	; (SCR_WIDTH / 8) + 1
  458    F8:26C6             	vdc_map_draw_h:	ds	1	; (SCR_HEIGHT / 8) + 1
  459    F8:26C7             	vdc_map_line_w:	ds	1	; Line width of map data in tiles.
  460    F8:26C8             	vdc_map_scrn_w:	ds	1	; Line width of map data in screens.
  461    F8:26C9             	vdc_map_pxl_x:	ds	2	; Current top-left X in pixels.
  462    F8:26CB             	vdc_map_pxl_y:	ds	2	; Current top-left Y in pixels.
  463    F8:26CD             	vdc_map_option:	ds	1	; Flags to disable BAT alignment.
  464                        	
  465                        	; From hucc-old-spr.asm just to avoid wasting .bss space with padding.
  466    F8:26CE             	spr_max:	ds	1
  467    F8:26CF             	spr_clr:	ds	1
  468                        	
  469               0001     		.if	SUPPORT_SGX
  470                        	
  471                        	; **************
  472                        	; 16-bytes of SGX BAT information.
  473                        	;
  474                        	; N.B. MUST be 16-bytes after the VDC versions to use SGX_VDC_OFFSET.
  475                        	;
  476                        	; N.B. Declared inside this .proc so that they can be stripped if unused.
  477                        	
  478                        	; Initialized by set_bat_sgx.
  479    F8:26D0             	sgx_bat_width:	ds	1	; $20, $40, $80
  480    F8:26D1             	sgx_bat_height:	ds	1	; $20, $40
  481    F8:26D2             	sgx_bat_x_mask:	ds	1	; $1F, $3F, $7F
  482    F8:26D3             	sgx_bat_y_mask:	ds	1	; $1F, $3F
  483    F8:26D4             	sgx_bat_limit:	ds	1	; (>$03FF), (>$07FF), (>$0FFF), (>$1FFF)
  484                        	
  485                        	; From blkmap.asm just to avoid wasting .bss space with padding.
  486    F8:26D5             	sgx_map_draw_w:	ds	1	; (SCR_WIDTH / 8) + 1
  487    F8:26D6             	sgx_map_draw_h:	ds	1	; (SCR_HEIGHT / 8) + 1
  488    F8:26D7             	sgx_map_line_w:	ds	1	; Line width of map data in tiles.
  489    F8:26D8             	sgx_map_scrn_w:	ds	1	; Line width of map data in screens.
  490    F8:26D9             	sgx_map_pxl_x:	ds	2	; Current top-left X in pixels.
  491    F8:26DB             	sgx_map_pxl_y:	ds	2	; Current top-left Y in pixels.
  492    F8:26DD             	sgx_map_option:	ds	1	; Flags to disable BAT alignment.
  493                        	
  494                        	; From hucc-old-spr.asm just to avoid wasting .bss space with padding.
  495    F8:26DE             	sgx_spr_max:	ds	1
  496    F8:26DF             	sgx_spr_clr:	ds	1
  497                        	
  498                        		.endif
  499                        	
  500               DFFC     			.code
  501                        	
  502                        			.endp
  503                        	
  504                        			.endprocgroup
  505                        	
  506                        	
  507                        	
  508                        	; ***************************************************************************
  509                        	; ***************************************************************************
  510                        	;
  511                        	; sgx_detect - Detect whether we're running on a SuperGrafx (and init VPC).
  512                        	;
  513                        	; Returns: X,C-flag, and "sgx_detected" = NZ, CS if detected.
  514                        	;
  515                        	; ***************************************************************************
  516                        	;
  517                        	; https://web.archive.org/web/20161129055659/http://cgfm2.emuviews.com/txt/sgxtech.txt
  518                        	;
  519                        	; ***************************************************************************
  520                        	;
  521                        	; HuC6202 VIDEO PRIORITY CONTROLLER (huge thanks to Charles MacDonald!)
  522                        	;
  523                        	; The VPC has no access to sprite priority data, it can only sort pixels
  524                        	; based upon which VDC and whether they are "sprite" or "background".
  525                        	;
  526                        	; This can sometimes lead to unexpected results with low-priority sprites.
  527                        	;
  528                        	; VPC registers $0008 and $0009 make up four 4-bit values that define the
  529                        	; enabled layers and priority setting for the four possible window areas.
  530                        	;
  531                        	; Bits 3-0 of $0008 are for the region where Window 1 and 2 overlap
  532                        	; Bits 7-4 of $0008 are for the region occupied by only Window 2
  533                        	; Bits 3-0 of $0009 are for the region occupied by only Window 1
  534                        	; Bits 7-4 of $0009 are for the region where no Window is present
  535                        	;
  536                        	;  Each 4-bit value has the same format:
  537                        	;
  538                        	;  Bit 0: VDC #1 graphics are 0=disabled, 1=enabled
  539                        	;  Bit 1: VDC #2 graphics are 0=disabled, 1=enabled
  540                        	;  Bit 2: Bit 0 of priority setting
  541                        	;  Bit 3: Bit 1 of priority setting
  542                        	;
  543                        	;   Priority Setting 0b00xx: (useful when VDC #1 is a fullscreen HUD)
  544                        	;
  545                        	;    FRONT
  546                        	;     SP1 = VDC #1 (pce) sprite pixels
  547                        	;     BG1 = VDC #1 (pce) background pixels
  548                        	;     SP2 = VDC #2 (sgx) sprite pixels
  549                        	;     BG2 = VDC #2 (sgx) background pixels
  550                        	;    BACK
  551                        	;
  552                        	;   Priority Setting 0b01xx: (useful for parallax backgrounds)
  553                        	;
  554                        	;    FRONT
  555                        	;     SP1 = VDC #1 (pce) sprite pixels
  556                        	;     SP2 = VDC #2 (sgx) sprite pixels
  557                        	;     BG1 = VDC #1 (pce) background pixels
  558                        	;     BG2 = VDC #2 (sgx) background pixels
  559                        	;    BACK
  560                        	;
  561                        	;   Priority Setting 0b10xx: (only useful for special effects)
  562                        	;
  563                        	;    FRONT
  564                        	;     BG1 = VDC #1 (pce) background pixels (transparent where sprites)
  565                        	;     BG2 = VDC #2 (sgx) background pixels
  566                        	;     SP1 = VDC #1 (pce) sprite pixels
  567                        	;     SP2 = VDC #2 (sgx) sprite pixels
  568                        	;    BACK
  569                        	
  570               0001     		.if	SUPPORT_SGX
  571               0001     		.if	1
  572    1F:D425             	sgx_detect	.proc
  573                        	
  574    1F:D425  A0 7F      			ldy	#$7F			; Use VRAM address $7F7F
  575    1F:D427  84 F0      			sty.l	<_di			; because it won't cause
  576    1F:D429  84 F1      			sty.h	<_di			; a screen glitch.
  577                        	
  578    1F:D42B  20 8F E3   			jsr	sgx_di_to_mawr		; Write $0001 to SGX VRAM.
  579    1F:D42E  A0 01      			ldy	#$01
  580    1F:D430  8C 12 02   			sty	SGX_DL
  581    1F:D433  9C 13 02   			stz	SGX_DH
  582                        	
  583    1F:D436  20 92 E3   			jsr	vdc_di_to_mawr		; Write $0000 to VDC VRAM.
  584    1F:D439  9C 02 02   			stz	VDC_DL
  585    1F:D43C  9C 03 02   			stz	VDC_DH
  586                        	
  587    1F:D43F  20 82 E3   			jsr	sgx_di_to_marr		; Check value in SGX VRAM.
  588    1F:D442  AC 12 02   			ldy	SGX_DL			; $01 if found, $00 if not.
  589    1F:D445  8C E8 22   			sty	sgx_detected
  590    1F:D448  F0 10      			beq	!+			; Skip the rest if not SGX.
  591                        	
  592    1F:D44A  20 8F E3   			jsr	sgx_di_to_mawr		; Write $0000 to SGX VRAM
  593    1F:D44D  9C 12 02   			stz	SGX_DL			; to clean VRAM contents.
  594    1F:D450  9C 13 02   			stz	SGX_DH
  595                        	
  596    1F:D453  73 60 D4 08			tii	.vpc_mode, VPC_CR, 8	; Initialize the HuC6202 VPC.
         1F:D457  02 08 00    
  597                        	
  598    1F:D45A  98         	!:		tya
  599    1F:D45B  AA         			tax				; "leave" copies X back to A.
  600    1F:D45C  4A         			lsr	a			; Also CC if PCE, CS if SGX.
  601                        	
  602                        			leave				; All done, phew!
         1F:D45D  4C EF FF   			jmp	leave_proc
  603                        		.else
  618                        		.endif
  619                        	
  620               0000     		.ifndef	SGX_PARALLAX
  622                        		.endif
  623                        	
  624               0000     		.if	SGX_PARALLAX
  629                        		.else
  630    1F:D460  00 30      	.vpc_mode:	dw	$3000			; Use SGX as the background
  631    1F:D462  00 00      			dw	$0000			; behind a fullscreen HUD.
  632    1F:D464  00 00      			dw	$0000
  633    1F:D466  00 00      			dw	$0000
  634                        		.endif	SGX_PARALLAX
  635                        	
  636                        			.endp
  637                        	
  638               0000     		.ifndef	CORE_VERSION			; CORE has this in the kernel.
  642                        		.endif	CORE_VERSION
  643                        	
  644                        		.endif	SUPPORT_SGX
  645                        	
  646                        	
  647                        	
  648                        	
  649                        	vdc_copy_to	.procgroup			; These routines share code!
  799                        			.endprocgroup
  800                        	
  801                        	
  802                        	
  803                        	; ***************************************************************************
  804                        	; ***************************************************************************
  805                        	;
  806                        	; init_240x208 - An example of initializing screen and VRAM.
  807                        	;
  808                        	; This can be used as-is, or copied to your own program and modified.
  809                        	;
  810                        	
  811                        	init_240x208	.proc
  892                        			.endp
  893                        	
  894                        	
  895                        	
  896                        	; ***************************************************************************
  897                        	; ***************************************************************************
  898                        	;
  899                        	; init_256x224 - An example of initializing screen and VRAM.
  900                        	;
  901                        	; This can be used as-is, or copied to your own program and modified.
  902                        	;
  903                        	
  904                        	init_256x224	.proc
  985                        			.endp
  986                        	
  987                        	
  988                        	
  989                        	; ***************************************************************************
  990                        	; ***************************************************************************
  991                        	;
  992                        	; init_352x224 - An example of initializing screen and VRAM.
  993                        	;
  994                        	; This can be used as-is, or copied to your own program and modified.
  995                        	;
  996                        	
  997                        	init_352x224	.proc
 1078                        			.endp
 1079                        	
 1080                        	
 1081                        	
 1082                        	; ***************************************************************************
 1083                        	; ***************************************************************************
 1084                        	;
 1085                        	; init_512x224 - An example of initializing screen and VRAM.
 1086                        	;
 1087                        	; This can be used as-is, or copied to your own program and modified.
 1088                        	;
 1089                        	
 1090                        	init_512x224	.proc
 1171                        			.endp
 1172                        	
 1173                        	
 1174                        	
 1175                        	; ***************************************************************************
 1176                        	; ***************************************************************************
 1177                        	;
 1178                        	; init_320x208 - An example of initializing screen and VRAM.
 1179                        	;
 1180                        	; This can be used as-is, or copied to your own program and modified.
 1181                        	;
 1182                        	; This resolution is rarely-seen, but it has no overscan, so it has a use.
 1183                        	;
 1184                        	
 1185                        	init_320x208	.proc
 1266                        			.endp
                             #[2]   "..\..\..\include\hucc\hucc-final.asm"
   41                        	
                             #[3]   "..\..\..\include\hucc\hucc-math.asm"
   42                        			include	"hucc-math.asm"		; HuCC multiply and divide.
    1                        	; ***************************************************************************
    2                        	; ***************************************************************************
    3                        	;
    4                        	; hucc-math.asm
    5                        	;
    6                        	; Basic (i.e. very slow) 8-bit and 16-bit multiply and divide routines.
    7                        	;
    8                        	; Copyright John Brandwood 2021-2024.
    9                        	;
   10                        	; Distributed under the Boost Software License, Version 1.0.
   11                        	; (See accompanying file LICENSE_1_0.txt or copy at
   12                        	;  http://www.boost.org/LICENSE_1_0.txt)
   13                        	;
   14                        	; ***************************************************************************
   15                        	; ***************************************************************************
   16                        	;
   17                        	; This is basically a set of SDCC-compatible routines, but using Y:A for the
   18                        	; primary register instead of X:A.
   19                        	;
   20                        	; Using Y:A makes the routines instantly usable with HuCC, and it also makes
   21                        	; them usable with SDCC with just an "sxy" before and after the call.
   22                        	;
   23                        	; ***************************************************************************
   24                        	; ***************************************************************************
   25                        	
   26               E460     			.code
   27                        	
   28               2000     	multiplier	=	__temp
   29               2094     	multiplicand	=	___SDCC_m6502_ret0
   30               2094     	product		=	multiplicand
   31                        	
   32               2000     	__mulint_PARM_2	=	multiplier
   33                        	
   34               2000     	divisor		=	__temp
   35               2094     	dividend	=	___SDCC_m6502_ret0
   36               2094     	quotient	=	dividend
   37               2096     	remainder	=	___SDCC_m6502_ret2
   38                        	
   39               2000     	__moduint_PARM_2 =	divisor
   40               2000     	__modsint_PARM_2 =	divisor
   41               2000     	__divuint_PARM_2 =	divisor
   42               2000     	__divsint_PARM_2 =	divisor
   43                        	
   44                        	
   45                        	
   46                        	; ***************************************************************************
   47                        	; int
   48                        	; _mulint (int a, int b)
   49                        	;
   50                        	; 1st parameter in Y:A (multiplicand)
   51                        	; 2nd parameter in __mulint_PARM_2 (multiplier)
   52                        	; result in Y:A
   53                        	;
   54                        	; N.B. signed and unsigned multiply only differ in the top 16 of the 32bits!
   55                        	
   56    00:E460  85 94      	__mulint:	sta	<multiplicand + 0
   57    00:E462  84 95      			sty	<multiplicand + 1
   58                        	
   59    00:E464  A2 10      			ldx	#16			; Loop 16 times.
   60                        	
   61    00:E466  46 95      			lsr	<multiplicand + 1	; Divide multiplicand by 2
   62    00:E468  66 94      			ror	<multiplicand + 0	; and clear the 16th bit.
   63                        	
   64    00:E46A  62         			cla				; Clear top word of product.
   65    00:E46B  85 96      			sta.l	<multiplicand + 2
   66    00:E46D  90 0B      			bcc	.rotate
   67                        	
   68    00:E46F  A8         	.add:		tay				; Add the 16-bit multiplier to
   69    00:E470  18         			clc				; top 16-bits of the product.
   70    00:E471  A5 96      			lda	<multiplicand + 2
   71    00:E473  65 00      			adc.l	<multiplier
   72    00:E475  85 96      			sta	<multiplicand + 2
   73    00:E477  98         			tya
   74    00:E478  65 01      			adc.h	<multiplier
   75                        	
   76    00:E47A  6A         	.rotate:	ror	a			; Rotate product into the top
   77    00:E47B  66 96      			ror	<multiplicand + 2	; bits of the multiplicand ...
   78    00:E47D  66 95      			ror	<multiplicand + 1	; and divide multiplicand by 2.
   79    00:E47F  66 94      			ror	<multiplicand + 0
   80                        	
   81    00:E481  CA         			dex
   82    00:E482  B0 EB      			bcs	.add			; Add multiplier to top word?
   83    00:E484  D0 F4      			bne	.rotate			; Completed 16 bits?
   84                        	
   85    00:E486  85 97      			sta	<multiplicand + 3	; Save top byte of product.
   86                        	
   87    00:E488  A5 94      			lda.l	<multiplicand		; Return the bottom 16-bits of
   88    00:E48A  A4 95      			ldy.h	<multiplicand		; the 32-bit product.
   89                        	
   90    00:E48C  60         			rts
   91                        	
   92                        	
   93                        	
   94                        	; ***************************************************************************
   95                        	; unsigned int
   96                        	; _divuint (unsigned int x, unsigned int y)
   97                        	;
   98                        	; 1st parameter in Y:A (unsigned dividend)
   99                        	; 2nd parameter in __divuint_PARM_2 (unsigned divisor)
  100                        	; result in Y:A
  101                        	
  102    00:E48D  20 95 E4   	__divuint:	jsr	__moduint		; Call the basic uint division.
  103                        	
  104    00:E490  A5 94      			lda.l	<quotient		; Then get the result from where
  105    00:E492  A4 95      			ldy.h	<quotient		; it was calculated.
  106    00:E494  60         			rts
  107                        	
  108                        	
  109                        	
  110                        	; ***************************************************************************
  111                        	; unsigned int
  112                        	; _moduint (unsigned int x, unsigned int y)
  113                        	;
  114                        	; 1st parameter in Y:A (unsigned dividend)
  115                        	; 2nd parameter in __moduint_PARM_2 (unsigned divisor)
  116                        	; result in Y:A
  117                        	;
  118                        	; If the dividend has more bits than the divisor, then we need to check the
  119                        	; 17th bit of the remainder!
  120                        	
  121               0000     		.if	0
  176                        		.else
  177                        	
  178    00:E495  85 94      	__moduint:	sta.l	<dividend		; 1st SDCC parameter in Y:A.
  179    00:E497  84 95      			sty.h	<dividend
  180                        	
  181    00:E499  A5 00      	divmoduint:	lda.l	<divisor		; Check for a divide-by-zero.
  182    00:E49B  05 01      			ora.h	<divisor
  183    00:E49D  F0 FE      	.zero:		beq	.zero
  184                        	
  185    00:E49F  A2 11      			ldx	#16 + 1
  186                        	
  187    00:E4A1  C2         			cly				; Clear remainder.
  188    00:E4A2  84 97      			sty.h	<remainder
  189                        	
  190    00:E4A4  98         	.skip:		tya				; Restore remainder lo-byte.
  191                        	
  192    00:E4A5  26 94      	.loop:		rol.l	<dividend		; Quotient bit -> dividend LSB.
  193    00:E4A7  26 95      			rol.h	<dividend		; Rotate dividend, MSB -> C.
  194                        	
  195    00:E4A9  CA         			dex
  196    00:E4AA  F0 14      			beq	.finished
  197                        	
  198    00:E4AC  2A         			rol	a			; Rotate C into remainder.
  199    00:E4AD  26 97      			rol.h	<remainder
  200                        	;		php				; Preserve remainder 17th bit.
  201                        	
  202    00:E4AF  A8         			tay				; Preserve remainder lo-byte.
  203                        	
  204    00:E4B0  C5 00      			cmp.l	<divisor		; Test divisor.
  205    00:E4B2  A5 97      			lda.h	<remainder
  206    00:E4B4  E5 01      			sbc.h	<divisor
  207    00:E4B6  90 EC      			bcc	.skip			; CC if divisor > remainder.
  208                        	
  209                        	;		cmp.l	<divisor		; If the dividend has more bits
  210                        	;		lda.h	<remainder		; than the divisor then we need
  211                        	;		sbc.h	<divisor		; to check the remainder hi-bit.
  212                        	;		bcs	.subtract		; CS if divisor <= remainder.
  213                        	;		plp				; Restore remainder 17th bit.
  214                        	;		bcc	.skip			; CC if divisor > remainder.
  215                        	;		db	$90			; Turn "plp" into "bcc" to skip.
  216                        	;.subtract:	plp				; Discard remainder 17th bit.
  217                        	;		sec
  218                        	
  219    00:E4B8  85 97      			sta.h	<remainder		; Subtract divisor.
  220    00:E4BA  98         			tya
  221    00:E4BB  E5 00      			sbc.l	<divisor
  222    00:E4BD  38         			sec				
  223    00:E4BE  80 E5      			bra	.loop
  224                        	
  225    00:E4C0  A4 97      	.finished:	ldy.h	<remainder		; Get the remainder hi-byte.
  226                        	
  227    00:E4C2  60         			rts
  228                        	
  229                        		.endif
  230                        	
  231                        	
  232                        	
  233                        	; ***************************************************************************
  234                        	; int
  235                        	; _divsint (int x, int y)
  236                        	;
  237                        	; 1st parameter in Y:A (signed dividend)
  238                        	; 2nd parameter in __divsint_PARM_2 (signed divisor)
  239                        	; result in Y:A
  240                        	
  241    00:E4C3  20 CB E4   	__divsint:	jsr	__modsint		; Call the basic sint division.
  242                        	
  243    00:E4C6  A5 94      			lda.l	<quotient		; Then get the result from where
  244    00:E4C8  A4 95      			ldy.h	<quotient		; it was calculated.
  245    00:E4CA  60         			rts
  246                        	
  247                        	
  248                        	
  249                        	; ***************************************************************************
  250                        	; int
  251                        	; _modsint (int x, int y)
  252                        	;
  253                        	; 1st parameter in Y:A (signed dividend)
  254                        	; 2nd parameter in __modsint_PARM_2 (signed divisor)
  255                        	; result in Y:A
  256                        	
  257    00:E4CB  84 95      	__modsint:	sty.h	<dividend
  258                        	
  259    00:E4CD  C0 80      			cpy	#$80			; Remainder -ve if dividend
  260    00:E4CF  08         			php				; was -ve.
  261    00:E4D0  90 03      			bcc	!+
  262    00:E4D2  20 22 E5   			jsr	neg_yacs		; Negate the dividend.
  263                        	
  264    00:E4D5  85 94      	!:		sta.l	<dividend		; Store the dividend.
  265    00:E4D7  A5 95      			lda.h	<dividend
  266    00:E4D9  84 95      			sty.h	<dividend
  267                        	
  268    00:E4DB  45 01      			eor.h	<divisor		; Quotient is -ve if divisor
  269    00:E4DD  08         			php				; and dividend signs differ.
  270                        	
  271    00:E4DE  A5 01      			lda.h	<divisor		; Is the divisor -ve?
  272    00:E4E0  10 0B      			bpl	!+
  273                        	
  274    00:E4E2  38         			sec				; Negate the divisor.
  275    00:E4E3  62         			cla
  276    00:E4E4  E5 00      			sbc.l	<divisor
  277    00:E4E6  85 00      			sta.l	<divisor
  278    00:E4E8  62         			cla
  279    00:E4E9  E5 01      			sbc.h	<divisor
  280    00:E4EB  85 01      			sta.h	<divisor
  281                        	
  282    00:E4ED  20 99 E4   	!:		jsr	divmoduint		; Do the unsigned division.
  283                        	
  284    00:E4F0  28         	.result:	plp				; Should the quotient be -ve?
  285    00:E4F1  10 0D      			bpl	.remainder
  286                        	
  287    00:E4F3  AA         			tax				; Preserve remainder lo-byte.
  288                        	
  289    00:E4F4  38         			sec				; Then negate the quotient.
  290    00:E4F5  62         			cla
  291    00:E4F6  E5 94      			sbc.l	<dividend
  292    00:E4F8  85 94      			sta.l	<dividend
  293    00:E4FA  62         			cla
  294    00:E4FB  E5 95      			sbc.h	<dividend
  295    00:E4FD  85 95      			sta.h	<dividend
  296                        	
  297    00:E4FF  8A         			txa				; Restore remainder lo-byte.
  298                        	
  299    00:E500  28         	.remainder:	plp				; Was the dividend -ve?
  300    00:E501  B0 1F      			bcs	neg_yacs		; Then negate the remainder.
  301    00:E503  60         			rts
  302                        	
  303                        	
  304                        	
  305                        	; ***************************************************************************
  306                        	; unsigned int
  307                        	; _muluchar (unsigned char x, unsigned char y)
  308                        	;
  309                        	; 1st parameter in A (unsigned multiplicand)
  310                        	; 2nd parameter in Y (unsigned multiplier)
  311                        	; result in Y:A
  312                        	
  313    00:E504  84 00      	__muluchar:	sty	<multiplier
  314                        	
  315    00:E506  A0 08      	muluchar_a:	ldy	#8			; Loop 8 times.
  316                        	
  317    00:E508  4A         			lsr	a			; Divide multiplicand by 2
  318    00:E509  85 94      			sta	<multiplicand		; and clear the 8th bit.
  319                        	
  320    00:E50B  62         			cla				; Clear top byte of product.
  321    00:E50C  90 03      			bcc	.rotate
  322                        	
  323    00:E50E  18         	.add:		clc				; Add the 8-bit multiplier to
  324    00:E50F  65 00      			adc	<multiplier		; top 8-bits of the product.
  325                        	
  326    00:E511  6A         	.rotate:	ror	a			; Rotate product into the top
  327    00:E512  66 94      			ror	<multiplicand		; bits of the multiplicand.
  328                        	
  329    00:E514  88         			dey
  330    00:E515  B0 F7      			bcs	.add			; Add multiplier to top byte?
  331    00:E517  D0 F8      			bne	.rotate			; Completed 8 bits?
  332                        	
  333    00:E519  A8         			tay				; Return the 16-bit product.
  334    00:E51A  A5 94      			lda	<multiplicand
  335                        	
  336    00:E51C  60         			rts
  337                        	
  338                        	
  339                        	
  340                        	; ***************************************************************************
  341                        	; signed int
  342                        	; abs (signed int x)
  343                        	;
  344                        	; 1st parameter in Y:A (signed)
  345                        	; result in Y:A
  346                        	
  347    00:E51D  C0 80      	_abs:		cpy	#$80			; Is the hi-byte -ve?
  348    00:E51F  90 0B      			bcc	!+
  349                        	
  350    00:E521  38         	neg_ya:		sec
  351    00:E522  49 FF      	neg_yacs:	eor	#$FF
  352    00:E524  69 00      			adc	#0
  353    00:E526  42         			say
  354    00:E527  49 FF      			eor	#$FF
  355    00:E529  69 00      			adc	#0
  356    00:E52B  42         			say
  357    00:E52C  60         	!:		rts
  358                        	
  359    00:E52D             	_abs.1		.alias	_abs
  360                        	
  361                        	
  362                        	
  363                        	; ***************************************************************************
  364                        	; signed int
  365                        	; _mulschar (signed char x, signed char y)
  366                        	;
  367                        	; 1st parameter in A (signed multiplicand)
  368                        	; 2nd parameter in Y (signed multiplier)
  369                        	; result in Y:A
  370                        	;
  371                        	; N.B. Y and A get swapped to make the code shorter.
  372                        	
  373    00:E52D  85 94      	__mulschar:	sta	<multiplicand		; Remember multiplicand sign.
  374                        	
  375    00:E52F  C9 80      			cmp	#$80			; Is the multiplicand -ve?
  376    00:E531  90 03      			bcc	!+
  377    00:E533  49 FF      			eor	#$FF			; Negate the multiplicand.
  378    00:E535  1A         			inc	a
  379    00:E536  85 00      	!:		sta	<multiplier		; Then save it as multiplier.
  380                        	
  381    00:E538  98         			tya				; Product -ve if multiplicand
  382    00:E539  45 94      			eor	<multiplicand		; and multiplier signs differ.
  383    00:E53B  08         			php				; Remember product sign.
  384                        	
  385    00:E53C  98         			tya				; Is the multiplicand -ve?
  386    00:E53D  10 03      			bpl	!+
  387    00:E53F  49 FF      			eor	#$FF			; Negate the multiplicand.
  388    00:E541  1A         			inc	a
  389                        	
  390    00:E542  20 06 E5   	!:		jsr	muluchar_a		; Multiplier already saved.
  391                        	
  392    00:E545  28         			plp				; Is the product -ve?
  393    00:E546  30 D9      			bmi	neg_ya
  394    00:E548  60         			rts
  395                        	
  396                        	
  397                        	
  398                        	; ***************************************************************************
  399                        	; unsigned int
  400                        	; _mulsuchar (signed char x, signed char y)
  401                        	;
  402                        	; 1st parameter in A (unsigned multiplicand)
  403                        	; 2nd parameter in Y (signed multiplier)
  404                        	; result in Y:A
  405                        	;
  406                        	; N.B. Y and A get swapped to make the code shorter.
  407                        	
  408    00:E549  42         	__mulsuchar:	say				; Put the signed param in A.
  409                        			; drop through to __muluschar
  410                        	
  411                        	
  412                        	
  413                        	; ***************************************************************************
  414                        	; signed int
  415                        	; _muluschar (unsigned char x, unsigned char y)
  416                        	;
  417                        	; 1st parameter in A (signed multiplicand)
  418                        	; 2nd parameter in Y (unsigned multiplier)
  419                        	; result in Y:A
  420                        	
  421    00:E54A  C9 80      	__muluschar:	cmp	#$80			; Is multiplicand -ve?
  422    00:E54C  08         			php				; Remember the sign.
  423    00:E54D  90 03      			bcc	!+
  424    00:E54F  49 FF      			eor	#$FF			; Negate multiplicand.
  425    00:E551  1A         			inc	a
  426                        	
  427    00:E552  20 04 E5   	!:		jsr	__muluchar		; Do the unsigned multiply.
  428                        	
  429    00:E555  28         			plp				; Was multiplicand -ve?
  430    00:E556  B0 CA      			bcs	neg_yacs		; Then negate the product.
  431    00:E558  60         			rts
  432                        	
  433                        	
  434                        	
  435                        	; ***************************************************************************
  436                        	; unsigned int
  437                        	; _moduchar (unsigned char x, unsigned char y)
  438                        	;
  439                        	; 1st parameter in A (unsigned dividend)
  440                        	; 2nd parameter in Y (unsigned divisor)
  441                        	; result in Y:A
  442                        	
  443    00:E559  84 00      	__moduchar:	sty.l	<divisor
  444                        	
  445    00:E55B  0A         	divmodu8_a:	asl	a			; Rotate dividend, MSB -> C.
  446    00:E55C  85 94      			sta.l	<dividend
  447    00:E55E  64 95      			stz.h	<dividend		; Clear quotient hi-byte.
  448                        	
  449    00:E560  A0 08      			ldy	#8
  450    00:E562  62         			cla				; Clear remainder.
  451    00:E563  2A         	.loop:		rol	a			; Rotate C into remainder.
  452    00:E564  C5 00      			cmp	<divisor		; Test divisor.
  453    00:E566  90 02      			bcc	.skip			; CC if divisor > remainder.
  454    00:E568  E5 00      			sbc	<divisor		; Subtract divisor.
  455    00:E56A  26 94      	.skip:		rol	<dividend		; Quotient bit -> dividend LSB.
  456    00:E56C  88         			dey
  457    00:E56D  D0 F4      			bne	.loop
  458                        	
  459    00:E56F  C2         			cly				; Clear hi-byte of return.
  460    00:E570  60         			rts				; Return the 16-bit remainder.
  461                        	
  462                        	
  463                        	
  464                        	; ***************************************************************************
  465                        	; unsigned int
  466                        	; _divuchar (unsigned char x, unsigned char y)
  467                        	;
  468                        	; 1st parameter in A (unsigned dividend)
  469                        	; 2nd parameter in Y (unsigned divisor)
  470                        	; result in Y:A
  471                        	
  472    00:E571  20 59 E5   	__divuchar:	jsr	__moduchar
  473                        	
  474    00:E574  A5 94      			lda	<dividend		; Get the dividend lo-byte.
  475    00:E576  60         			rts				; Return the 16-bit dividend.
  476                        	
  477                        	
  478                        	
  479                        	; ***************************************************************************
  480                        	; signed int
  481                        	; _modschar (signed char x, signed char y)
  482                        	;
  483                        	; 1st parameter in A (signed dividend)
  484                        	; 2nd parameter in Y (signed divisor)
  485                        	; result in Y:A
  486                        	
  487    00:E577  AA         	__modschar:	tax				; Preserve the dividend.
  488    00:E578  08         			php				; Remember remainder sign.
  489                        	
  490    00:E579  84 00      			sty	<divisor		; Quotient negative if divisor
  491    00:E57B  45 00      			eor	<divisor		; and dividend signs differ.
  492    00:E57D  08         			php				; Remember the quotient sign.
  493                        	
  494    00:E57E  98         			tya				; Is the divisor -ve?
  495    00:E57F  10 05      			bpl	!+
  496    00:E581  49 FF      			eor	#$FF			; Negate the divisor.
  497    00:E583  1A         			inc	a
  498    00:E584  85 00      			sta	<divisor
  499                        	
  500    00:E586  8A         	!:		txa				; Is the dividend -ve?
  501    00:E587  10 03      			bpl	divmods8_a
  502                        	
  503    00:E589  49 FF      	divmods8_neg:	eor	#$FF			; Negate the dividend.
  504    00:E58B  1A         			inc	a
  505                        	
  506    00:E58C  20 5B E5   	divmods8_a:	jsr	divmodu8_a		; Do the unsigned division.
  507                        	
  508    00:E58F  28         			plp				; Should the quotient be -ve?
  509    00:E590  10 0C      			bpl	!+
  510                        	
  511    00:E592  AA         			tax				; Preserve remainder lo-byte.
  512                        	
  513    00:E593  38         			sec				; Negate the quotient.
  514    00:E594  62         			cla
  515    00:E595  E5 94      			sbc.l	<dividend
  516    00:E597  85 94      			sta.l	<dividend
  517    00:E599  A9 FF      			lda	#$FF
  518    00:E59B  85 95      			sta.h	<dividend
  519                        	
  520    00:E59D  8A         			txa				; Restore remainder lo-byte.
  521                        	
  522    00:E59E  28         	!:		plp				; Was the dividend -ve?
  523    00:E59F  10 05      			bpl	!+
  524                        	
  525    00:E5A1  49 FF      			eor	#$FF			; Then negate the remainder.
  526    00:E5A3  1A         			inc	a
  527    00:E5A4  A0 FF      			ldy	#$FF
  528                        	
  529    00:E5A6  60         	!:		rts
  530                        	
  531                        	
  532                        	
  533                        	; ***************************************************************************
  534                        	; signed int
  535                        	; _moduschar (unsigned char x, unsigned char y)
  536                        	;
  537                        	; 1st parameter in A (signed dividend)
  538                        	; 2nd parameter in Y (unsigned divisor)
  539                        	; result in Y:A
  540                        	
  541    00:E5A7  84 00      	__moduschar:	sty.l	<divisor
  542                        	
  543    00:E5A9  A8         			tay				; Is the dividend -ve?
  544    00:E5AA  08         			php				; Remember remainder sign.
  545    00:E5AB  08         			php				; Remember quotient sign.
  546    00:E5AC  30 DB      			bmi	divmods8_neg
  547    00:E5AE  80 DC      			bra	divmods8_a
  548                        	
  549                        	
  550                        	
  551                        	; ***************************************************************************
  552                        	; unsigned int
  553                        	; _modsuchar (signed char x, signed char y)
  554                        	;
  555                        	; 1st parameter in A (unsigned dividend)
  556                        	; 2nd parameter in Y (signed divisor)
  557                        	; result in Y:A
  558                        	
  559    00:E5B0  AA         	__modsuchar:	tax				; Preserve the dividend.
  560    00:E5B1  08         			php				; Remember remainder sign.
  561                        	
  562    00:E5B2  98         			tya				; Check the divisor sign.
  563    00:E5B3  08         			php				; Remember quotient sign.
  564    00:E5B4  10 03      			bpl	!+
  565    00:E5B6  49 FF      			eor	#$FF			; Negate the divisor.
  566    00:E5B8  1A         			inc	a
  567    00:E5B9  85 00      	!:		sta.l	<divisor
  568                        	
  569    00:E5BB  8A         			txa				; Restore the dividend.
  570    00:E5BC  80 CE      			bra	divmods8_a
  571                        	
  572                        	
  573                        	
  574                        	; ***************************************************************************
  575                        	; signed int
  576                        	; _divschar (signed char x, signed char y)
  577                        	;
  578                        	; 1st parameter in A (signed dividend)
  579                        	; 2nd parameter in Y (signed divisor)
  580                        	; result in Y:A
  581                        	
  582    00:E5BE  20 77 E5   	__divschar:	jsr	__modschar
  583                        	
  584    00:E5C1  A5 94      			lda.l	<dividend
  585    00:E5C3  A4 95      			ldy.h	<dividend
  586    00:E5C5  60         			rts
  587                        	
  588                        	
  589                        	
  590                        	; ***************************************************************************
  591                        	; signed int
  592                        	; _divuschar (unsigned char x, unsigned char y)
  593                        	;
  594                        	; 1st parameter in A (signed dividend)
  595                        	; 2nd parameter in Y (unsigned divisor)
  596                        	; result in Y:A
  597                        	
  598    00:E5C6  20 A7 E5   	__divuschar:	jsr	__moduschar
  599                        	
  600    00:E5C9  A5 94      			lda.l	<dividend
  601    00:E5CB  A4 95      			ldy.h	<dividend
  602    00:E5CD  60         			rts
  603                        	
  604                        	
  605                        	
  606                        	; ***************************************************************************
  607                        	; unsigned int
  608                        	; _divsuchar (signed char x, signed char y)
  609                        	;
  610                        	; 1st parameter in A (unsigned dividend)
  611                        	; 2nd parameter in Y (signed divisor)
  612                        	; result in Y:A
  613                        	
  614    00:E5CE  20 B0 E5   	__divsuchar:	jsr	__modsuchar
  615                        	
  616    00:E5D1  A5 94      			lda.l	<dividend
  617    00:E5D3  A4 95      			ldy.h	<dividend
  618    00:E5D5  60         			rts
                             #[2]   "..\..\..\include\hucc\hucc-final.asm"
                             #[3]   "..\..\..\include\hucc\hucc-gfx.asm"
   43                        			include	"hucc-gfx.asm"		; Used by HuCC's core_main.
    1                        	; ***************************************************************************
    2                        	; ***************************************************************************
    3                        	;
    4                        	; huc-gfx.asm
    5                        	;
    6                        	; Based on the original HuC and MagicKit functions by David Michel and the
    7                        	; other original HuC developers.
    8                        	;
    9                        	; Modifications copyright John Brandwood 2024-2025.
   10                        	;
   11                        	; Distributed under the Boost Software License, Version 1.0.
   12                        	; (See accompanying file LICENSE_1_0.txt or copy at
   13                        	;  http://www.boost.org/LICENSE_1_0.txt)
   14                        	;
   15                        	; ***************************************************************************
   16                        	; ***************************************************************************
   17                        	
   18                        	;
   19                        	; Include dependancies ...
   20                        	;
   21                        	
   22                        			include "common.asm"		; Common helpers.
   23                        			include "vce.asm"		; Useful VCE routines.
   24                        			include "vdc.asm"		; Useful VCE routines.
   25                        	
   26                        	
   27                        	
   28                        	; ***************************************************************************
   29                        	; ***************************************************************************
   30                        	;
   31                        	; void __fastcall disp_on( void );
   32                        	; void __fastcall disp_off( void );
   33                        	
   34    00:E5D6             			.alias	_disp_on		= set_dspon
   35    00:E5D6             			.alias	_disp_off		= set_dspoff
   36                        	
   37                        	
   38                        	
   39                        	; ***************************************************************************
   40                        	; ***************************************************************************
   41                        	;
   42                        	; void __fastcall set_screen_size( unsigned char value<_al> );
   43                        	; void __fastcall sgx_set_screen_size( unsigned char value<_al> );
   44                        	;
   45                        	
   46    00:E5D6             			.alias	_set_screen_size.1	= set_bat_vdc
   47    00:E5D6             			.alias	_sgx_set_screen_size.1	= set_bat_sgx
   48                        	
   49                        	
   50                        	
   51                        	; ***************************************************************************
   52                        	; ***************************************************************************
   53                        	;
   54                        	; void __fastcall init_256x224( void );
   55                        	
   56    1F:D255             	_init_256x224	.proc
   57                        	
   58               0800     	.BAT_SIZE	=	64 * 32
   59               0080     	.CHR_0x20	=	.BAT_SIZE / 16		; 1st tile # after the BAT.
   60               7F00     	.SAT_ADDR	=	$7F00			; SAT takes 16 tiles of VRAM.
   61                        	
   62    1F:D255  08         			php				; Disable interrupts.
   63    1F:D256  78         			sei
   64                        	
   65    1F:D257  20 47 FD   			call	clear_vce		; Clear all palettes.
   66                        	
   67    1F:D25A  A9 80      			lda.l	#.CHR_0x20		; CHR # of ASCII ' '.
   68    1F:D25C  85 F8      			sta.l	<_ax
   69    1F:D25E  A9 00      			lda.h	#.CHR_0x20
   70    1F:D260  85 F9      			sta.h	<_ax
   71                        	
   72    1F:D262  A9 08      			lda	#>.BAT_SIZE		; Size of BAT in words.
   73    1F:D264  85 FA      			sta	<_bl
   74                        	
   75    1F:D266  20 5B FD   			call	clear_vram_vdc		; Clear VRAM.
   76               0001     		.if	SUPPORT_SGX
   77    1F:D269  20 3D FD   			call	clear_vram_sgx
   78                        		.endif
   79                        	
   80    1F:D26C  A9 90      			lda	#<.mode_256x224		; Disable BKG & SPR layers but
   81    1F:D26E  85 EC      			sta.l	<_bp			; enable RCR & VBLANK IRQ.
   82    1F:D270  A9 D2      			lda	#>.mode_256x224
   83    1F:D272  85 ED      			sta.h	<_bp
   84                        	
   85               0001     		.if	SUPPORT_SGX
   86    1F:D274  20 33 FD   			call	sgx_detect		; Are we really on an SGX?
   87    1F:D277  90 05      			bcc	!+
   88    1F:D279  A0 1F      			ldy	#^.mode_256x224		; Set SGX 1st, with no VBL.
   89    1F:D27B  20 29 FD   			call	set_mode_sgx
   90                        		.endif
   91    1F:D27E  A0 1F      	!:		ldy	#^.mode_256x224		; Set VDC 2nd, VBL allowed.
   92    1F:D280  20 1F FD   			call	set_mode_vdc
   93                        	
   94               0001     		.if	SUPPORT_SGX
   95    1F:D283  2C 10 02   			bit	SGX_SR			; Purge any overdue RCR.
   96                        		.endif
   97    1F:D286  2C 00 02   			bit	VDC_SR			; Purge any overdue VBL.
   98    1F:D289  28         			plp				; Restore interrupts.
   99                        	
  100    1F:D28A  20 1D E3   			call	wait_vsync		; Wait for the next VBLANK.
  101                        	
  102                        			leave				; All done, phew!
         1F:D28D  4C EF FF   			jmp	leave_proc
  103                        	
  104                        			; A standard 256x224 screen with overscan.
  105                        	
  106    1F:D290  80         	.mode_256x224:	db	$80			; VCE Control Register.
  107    1F:D291  04         			db	VCE_CR_5MHz + XRES_SOFT	;   Video Clock + Artifact Reduction
  108                        	
  109    1F:D292  09         			db	VDC_MWR			; Memory-access Width Register
  110    1F:D293  10 00      			dw	VDC_MWR_64x32 + VDC_MWR_1CYCLE
  111    1F:D295  0A         			db	VDC_HSR			; Horizontal Sync Register
  112    1F:D296  02 02      			dw	VDC_HSR_256
  113    1F:D298  0B         			db	VDC_HDR			; Horizontal Display Register
  114    1F:D299  1F 04      			dw	VDC_HDR_256
  115    1F:D29B  0C         			db	VDC_VPR			; Vertical Sync Register
  116    1F:D29C  02 17      			dw	VDC_VPR_224
  117    1F:D29E  0D         			db	VDC_VDW			; Vertical Display Register
  118    1F:D29F  DF 00      			dw	VDC_VDW_224
  119    1F:D2A1  0E         			db	VDC_VCR			; Vertical Display END position Register
  120    1F:D2A2  FF 00      			dw	VDC_VCR_224
  121    1F:D2A4  0F         			db	VDC_DCR			; DMA Control Register
  122    1F:D2A5  10 00      			dw	$0010			;   Enable automatic VRAM->SATB
  123    1F:D2A7  13         			db	VDC_DVSSR		; VRAM->SATB address $7F00
  124    1F:D2A8  00 7F      			dw	.SAT_ADDR
  125    1F:D2AA  07         			db	VDC_BXR			; Background X-Scroll Register
  126    1F:D2AB  00 00      			dw	$0000
  127    1F:D2AD  08         			db	VDC_BYR			; Background Y-Scroll Register
  128    1F:D2AE  00 00      			dw	$0000
  129    1F:D2B0  06         			db	VDC_RCR			; Raster Counter Register
  130    1F:D2B1  00 00      			dw	$0000			;   Never occurs!
  131    1F:D2B3  05         			db	VDC_CR			; Control Register
  132    1F:D2B4  0C 00      			dw	$000C			;   Enable VSYNC & RCR IRQ
  133    1F:D2B6  00         			db	0
  134                        	
  135                        			.endp
  136                        	
  137                        	
  138                        	
  139                        	; ***************************************************************************
  140                        	; ***************************************************************************
  141                        	;
  142                        	; void __fastcall init_240x208( void );
  143                        	
  144                        	_init_240x208	.proc
  223                        			.endp
  224                        	
  225                        	
  226                        	
  227                        	; ***************************************************************************
  228                        	; ***************************************************************************
  229                        	;
  230                        	; void __fastcall _macro set_xres( unsigned int x_pixels<_ax> );
  231                        	; void __fastcall _macro sgx_set_xres( unsigned int x_pixels<_ax> );
  232                        	;
  233                        	; void __fastcall set_xres( unsigned int x_pixels<_ax>, unsigned char blur_flag<_bl> );
  234                        	; void __fastcall sgx_set_xres( unsigned int x_pixels<_ax>, unsigned char blur_flag<_bl> );
  235                        	;
  236                        	; blur_flag = XRES_SOFT (default if not specified), XRES_SHARP or XRES_KEEP
  237                        	
  238                        	set_xres_group	.procgroup			; These routines share code!
  337                        			.endprocgroup	; set_xres_group
  338                        	
  339                        	
  340                        	
  341                        	; ***************************************************************************
  342                        	; ***************************************************************************
  343                        	;
  344                        	; HuC VRAM Functions
  345                        	;
  346                        	; ***************************************************************************
  347                        	; ***************************************************************************
  348                        	
  349                        	
  350    1F:D187             	load_vram_group	.procgroup			; These routines share code!
  351                        	
  352                        	; ***************************************************************************
  353                        	; ***************************************************************************
  354                        	;
  355                        	; void __fastcall load_vram( unsigned int vram<_di>, unsigned char __far *data<_bp_bank:_bp>, unsigned int num_words<_ax> );
  356                        	; void __fastcall sgx_load_vram( unsigned int vram<_di>, unsigned char __far *data<_bp_bank:_bp>, unsigned int num_words<_ax> );
  357                        	;
  358                        	; void __fastcall far_load_vram( unsigned int vram<_di>, unsigned int num_words<_ax> );
  359                        	; void __fastcall sgx_far_load_vram( unsigned int vram<_di>, unsigned int num_words<_ax> );
  360                        	;
  361                        	; load_vram_sgx -  copy a block of memory to VRAM
  362                        	; load_vram_vdc -  copy a block of memory to VRAM
  363                        	;
  364                        	; _bp		= BAT memory location
  365                        	; _bp_bank	= BAT bank
  366                        	; _di		= VRAM base address
  367                        	; _ax		= nb of words to copy
  368                        	; ----
  369                        	; N.B. BAT data *must* be word-aligned!
  370                        	
  371               0000     		.ifndef	VRAM_XFER_SIZE
  373                        		.endif
  374                        	
  375    1F:D187             	load_vram_x	.proc
  376                        	
  377    1F:D187  43 08      			tma3
  378    1F:D189  48         			pha
  379    1F:D18A  43 10      			tma4
  380    1F:D18C  48         			pha
  381                        	
  382    1F:D18D  A4 02      			ldy	<_bp_bank
  383    1F:D18F  20 4F E3   			jsr	map_bp_to_mpr34		; Map data to MPR3 & MPR4.
  384                        	
  385    1F:D192  20 93 E3   			jsr	set_di_to_mawr
  386                        	
  387                        	;		tii	.vdc_tai, ram_tia, 8
  388                        	
  389               0001     		.if	SUPPORT_SGX
  390    1F:D195  8A         			txa				; Select which VDC to write
  391    1F:D196  1A         			inc	a			; to.
  392    1F:D197  1A         			inc	a
  393    1F:D198  8D F3 22   			sta.l	ram_tia_dst
  394                        		.endif
  395                        	
  396    1F:D19B  A9 10      			lda	#VRAM_XFER_SIZE		; Split into 16-byte chunks
  397    1F:D19D  8D F5 22   			sta.l	ram_tia_len		; for stable IRQ response.
  398                        	
  399    1F:D1A0  A6 EC      			ldx.l	<_bp
  400    1F:D1A2  8E F1 22   			stx.l	ram_tia_src
  401    1F:D1A5  A4 ED      			ldy.h	<_bp
  402    1F:D1A7  8C F2 22   			sty.h	ram_tia_src
  403                        	
  404    1F:D1AA  A5 F8      			lda.l	<_ax			; Length in words.
  405    1F:D1AC  48         			pha				; Preserve length.l
  406                        	
  407    1F:D1AD  46 F9      			lsr.h	<_ax
  408    1F:D1AF  6A         			ror	a
  409    1F:D1B0  46 F9      			lsr.h	<_ax
  410    1F:D1B2  6A         			ror	a
  411    1F:D1B3  46 F9      			lsr.h	<_ax
  412    1F:D1B5  6A         			ror	a
  413               0000     		.if	VRAM_XFER_SIZE == 32
  416                        		.endif
  417                        	
  418    1F:D1B6  22         			sax				; x=chunks-lo
  419    1F:D1B7  F0 1F      			beq	.next_block		; a=source-lo, y=source-hi
  420                        	
  421    1F:D1B9  20 F0 22   	.chunk_loop:	jsr	ram_tia			; transfer 16-bytes
  422                        	
  423    1F:D1BC  18         			clc				; increment source
  424    1F:D1BD  69 10      			adc	#VRAM_XFER_SIZE
  425    1F:D1BF  8D F1 22   			sta.l	ram_tia_src
  426    1F:D1C2  90 11      			bcc	.same_page
  427    1F:D1C4  C8         			iny
  428    1F:D1C5  10 0B      			bpl	.same_bank		; remap_data
  429                        	
  430    1F:D1C7  42         			say
  431    1F:D1C8  43 10      			tma4
  432    1F:D1CA  53 08      			tam3
  433    1F:D1CC  1A         			inc	a
  434    1F:D1CD  53 10      			tam4
  435    1F:D1CF  A9 60      			lda	#$60
  436    1F:D1D1  42         			say
  437                        	
  438    1F:D1D2  8C F2 22   	.same_bank:	sty.h	ram_tia_src
  439                        	
  440    1F:D1D5  CA         	.same_page:	dex
  441    1F:D1D6  D0 E1      			bne	.chunk_loop
  442                        	
  443    1F:D1D8  C6 F9      	.next_block:	dec.h	<_ax
  444    1F:D1DA  10 DD      			bpl	.chunk_loop
  445                        	
  446    1F:D1DC  68         			pla				; Restore length.l
  447    1F:D1DD  29 07      			and	#VRAM_XFER_SIZE / 2 - 1
  448    1F:D1DF  F0 07      			beq	.done
  449                        	
  450    1F:D1E1  0A         			asl	a			; Convert words to bytes.
  451    1F:D1E2  8D F5 22   			sta.l	ram_tia_len
  452                        	
  453    1F:D1E5  20 F0 22   			jsr	ram_tia			; transfer remainder
  454                        	
  455    1F:D1E8  68         	.done:		pla
  456    1F:D1E9  53 10      			tam4
  457    1F:D1EB  68         			pla
  458    1F:D1EC  53 08      			tam3
  459                        	
  460                        			leave
         1F:D1EE  4C EF FF   			jmp	leave_proc
  461                        	
  462                        			.endp
  463                        	
  464                        			.endprocgroup	; load_vram_group
  465                        	
  466                        	
  467                        	
  468                        	; ***************************************************************************
  469                        	; ***************************************************************************
  470                        	;
  471                        	; void __fastcall load_bat( unsigned int vram<_di>, unsigned char __far *data<_bp_bank:_bp>, unsigned char tiles_w<_al>, unsigned char tiles_h<_ah> );
  472                        	; void __fastcall sgx_load_bat( unsigned int vram<_di>, unsigned char __far *data<_bp_bank:_bp>, unsigned char tiles_w<_al>, unsigned char tiles_h<_ah> );
  473                        	;
  474                        	; void __fastcall far_load_bat( unsigned int vram<_di>, unsigned char tiles_w<_al>, unsigned char tiles_h<_ah> );
  475                        	; void __fastcall sgx_far_load_bat( unsigned int vram<_di>, unsigned char tiles_w<_al>, unsigned char tiles_h<_ah> );
  476                        	;
  477                        	; load_bat_sgx - transfer a BAT to VRAM
  478                        	; load_bat_vdc - transfer a BAT to VRAM
  479                        	;
  480                        	; transfer a BAT to VRAM
  481                        	; ----
  482                        	; _bp		= BAT memory location
  483                        	; _bp_bank	= BAT bank
  484                        	; _di		= VRAM base address
  485                        	; _al		= nb of column to copy
  486                        	; _ah		= nb of row
  487                        	; ----
  488                        	; N.B. BAT data *must* be word-aligned!
  489                        	
  490               20EC     	_gfx_load_bat_PARM_2	=	_bp
  491               20F0     	_gfx_load_bat_PARM_3	=	_di
  492               20F8     	_gfx_load_bat_PARM_4	=	_al
  493               20F9     	_gfx_load_bat_PARM_5	=	_ah
  494                        	
  495    1F:D4AA             	load_bat_group	.procgroup			; These routines share code!
  496                        	
  497               0001     		.if	SUPPORT_SGX
  498                        			.proc	_sgx_load_bat.4
  505                        			.endp
  506                        		.endif
  507                        	
  508    1F:D4AA             			.proc	_load_bat.4
  509    1F:D4AA             			.alias	_far_load_bat.3		= _load_bat.4
  510                        	
  511    1F:D4AA  82         			clx				; Offset to PCE VDC.
  512                        	
  513    1F:D4AB  43 08      			tma3
  514    1F:D4AD  48         			pha
  515                        	
  516    1F:D4AE  A4 02      			ldy	<_bp_bank
  517    1F:D4B0  20 41 E3   			jsr	map_bp_to_mpr3		; Map data to MPR3.
  518                        	
  519    1F:D4B3  A4 EC      			ldy.l	<_bp
  520    1F:D4B5  64 EC      			stz.l	<_bp
  521                        	
  522    1F:D4B7  20 93 E3   	.line_loop:	jsr	set_di_to_mawr
  523                        	
  524    1F:D4BA  A5 F8      			lda	<_al
  525    1F:D4BC  85 00      			sta	<__temp
  526    1F:D4BE  B1 EC      	.tile_loop:	lda	[_bp], y
  527    1F:D4C0  9D 02 02   			sta	VDC_DL, x
  528    1F:D4C3  C8         			iny
  529    1F:D4C4  B1 EC      			lda	[_bp], y
  530    1F:D4C6  9D 03 02   			sta	VDC_DH, x
  531    1F:D4C9  C8         			iny
  532    1F:D4CA  D0 03      			bne	!+
  533    1F:D4CC  20 60 E3   			jsr	inc.h_bp_mpr3
  534    1F:D4CF  C6 00      	!:		dec	<__temp
  535    1F:D4D1  D0 EB      			bne	.tile_loop
  536                        	
  537    1F:D4D3  BD C0 26   			lda	vdc_bat_width, x
  538    1F:D4D6  18         			clc
  539    1F:D4D7  65 F0      			adc.l	<_di
  540    1F:D4D9  85 F0      			sta.l	<_di
  541    1F:D4DB  90 02      			bcc	!+
  542    1F:D4DD  E6 F1      			inc.h	<_di
  543                        	
  544    1F:D4DF  C6 F9      	!:		dec	<_ah
  545    1F:D4E1  D0 D4      			bne	.line_loop
  546                        	
  547    1F:D4E3  68         			pla
  548    1F:D4E4  53 08      			tam3
  549                        	
  550                        			leave
         1F:D4E6  4C EF FF   			jmp	leave_proc
  551                        	
  552                        			.endp
  553                        	
  554                        			.endprocgroup	; load_bat_group
  555                        	
  556                        	
  557                        	
  558                        	; ***************************************************************************
  559                        	; ***************************************************************************
  560                        	;
  561                        	; void __fastcall load_palette( unsigned char palette<_al>, unsigned char __far *data<_bp_bank:_bp>, unsigned char num_palettes<_ah> );
  562                        	;
  563                        	; void __fastcall far_load_palette( unsigned char palette<_al>, unsigned char num_palettes<_ah> );
  564                        	
  565    1F:D5C8             			.proc	_load_palette.3
  566    1F:D5C8             			.alias	_far_load_palette.2	= _load_palette.3
  567                        	
  568    1F:D5C8  AC 97 26   			ldy	color_queue_w		; Get the queue's write index.
  569                        	
  570    1F:D5CB  A5 EC      			lda.l	<_bp			; Add this set of palettes to
  571    1F:D5CD  99 A8 26   			sta	color_addr_l, y		; the queue.
  572    1F:D5D0  A5 ED      			lda.h	<_bp
  573    1F:D5D2  99 B0 26   			sta	color_addr_h, y
  574    1F:D5D5  A5 02      			lda	<_bp_bank
  575    1F:D5D7  99 B8 26   			sta	color_bank, y
  576    1F:D5DA  A5 F8      			lda	<_al
  577    1F:D5DC  99 98 26   			sta	color_index, y
  578    1F:D5DF  A5 F9      			lda	<_ah
  579    1F:D5E1  99 A0 26   			sta	color_count, y
  580                        	
  581    1F:D5E4  C8         			iny				; Increment the queue index.
  582    1F:D5E5  98         			tya
  583    1F:D5E6  29 07      			and	#7
  584                        	
  585    1F:D5E8  CD 96 26   	.wait:		cmp	color_queue_r		; If the queue is full, wait
  586    1F:D5EB  F0 FB      			beq	.wait			; for the next VBLANK.
  587                        	
  588    1F:D5ED  8D 97 26   			sta	color_queue_w		; Signal item is in the queue.
  589                        	
  590                        			leave				; All done, phew!
         1F:D5F0  4C EF FF   			jmp	leave_proc
  591                        	
  592                        			.endp
  593                        	
  594                        	
  595                        	
  596               0000     		.if	0
  620                        		.endif
  621                        	
  622                        	
  623                        	
  624                        	; ***************************************************************************
  625                        	; ***************************************************************************
  626                        	;
  627                        	; void __fastcall load_background( unsigned char __far *tiles<_bp_bank:_bp>, unsigned char __far *palettes<__fbank:__fptr>, unsigned char __far *bat<_cl:_bx>, unsigned char w<_dl>, unsigned char w<_dh> );
  628                        	
  629                        			.proc	_load_background.5
  667                        			.endp
  668                        	
  669                        	
  670                        	
  671                        	; ***************************************************************************
  672                        	; ***************************************************************************
  673                        	;
  674                        	; void __fastcall vram2vram( unsigned int vram_dst<_ax>, unsigned int vram_src<_bx>, unsigned int word_len<_cx> );
  675                        	; void __fastcall sgx_vram2vram( unsigned int vram_dst<_ax>, unsigned int vram_src<_bx>, unsigned int word_len<_cx> );
  676                        	;
  677                        	
  678               0001     		.if	SUPPORT_SGX
  679                        			.proc	_sgx_vram2vram.3
  685                        			.endp
  686                        		.endif
  687                        	
  688    1F:D4E9             			.proc	_vram2vram.3
  689                        	
  690    1F:D4E9  82         			clx				; Offset to PCE VDC.
  691                        	
  692    1F:D4EA  08         			php
  693    1F:D4EB  78         			sei
  694    1F:D4EC  A9 11      			lda	#VDC_DESR
  695    1F:D4EE  9D 00 02   			sta	VDC_AR, x
  696    1F:D4F1  A5 F8      			lda.l	<_ax
  697    1F:D4F3  9D 02 02   			sta	VDC_DL, x
  698    1F:D4F6  A5 F9      			lda.h	<_ax
  699    1F:D4F8  9D 03 02   			sta	VDC_DH, x
  700                        	
  701    1F:D4FB  A9 10      			lda	#VDC_SOUR
  702    1F:D4FD  9D 00 02   			sta	VDC_AR, x
  703    1F:D500  A5 FA      			lda.l	<_bx
  704    1F:D502  9D 02 02   			sta	VDC_DL, x
  705    1F:D505  A5 FB      			lda.h	<_bx
  706    1F:D507  9D 03 02   			sta	VDC_DH, x
  707                        	
  708    1F:D50A  A9 12      			lda	#VDC_LENR
  709    1F:D50C  9D 00 02   			sta	VDC_AR, x
  710    1F:D50F  18         			clc
  711    1F:D510  A5 FC      			lda.l	<_cx
  712    1F:D512  69 FF      			adc	#$FF
  713    1F:D514  9D 02 02   			sta	VDC_DL, x
  714    1F:D517  A5 FD      			lda.h	<_cx
  715    1F:D519  69 FF      			adc	#$FF
  716    1F:D51B  9D 03 02   			sta	VDC_DH, x
  717                        	
  718    1F:D51E  B5 F7      			lda	<vdc_reg, x
  719    1F:D520  8D 00 02   			sta	VDC_AR
  720    1F:D523  28         			plp
  721                        	
  722                        			leave
         1F:D524  4C EF FF   			jmp	leave_proc
  723                        	
  724                        			.endp
  725                        	
  726                        	
  727                        	
  728                        	; ***************************************************************************
  729                        	; ***************************************************************************
  730                        	;
  731                        	; HuC Font Functions
  732                        	;
  733                        	; ***************************************************************************
  734                        	; ***************************************************************************
  735                        	
  736                        	
  737                        	
  738               26E0     			.bss
  739                        	
  740                        	; **************
  741                        	; 16-bytes of VDC BAT information.
  742                        	;
  743                        	; N.B. MUST be 16-bytes before the SGX versions to use PCE_VDC_OFFSET.
  744                        	
  745    F8:26E0             	_vdc_font_base:	ds	2	; Tile number of ASCII '\0'.
  746                        	
  747                        	; From hucc-printf.asm just to avoid wasting .bss space with padding.
  748    F8:26E2             	_vdc_tty_x_lhs:	ds	1	; TTY minimum X position.
  749    F8:26E3             	_vdc_tty_y_top:	ds	1	; TTY minimum Y position.
  750    F8:26E4             	_vdc_tty_x:	ds	1	; TTY current X position.
  751    F8:26E5             	_vdc_tty_y:	ds	1	; TTY current Y position.
  752                        	
  753               0001     		.if	SUPPORT_SGX
  754                        	
  755                        	; **************
  756                        	; 16-bytes of SGX BAT information.
  757                        	;
  758                        	; N.B. MUST be 16-bytes after the VDC versions to use SGX_VDC_OFFSET.
  759                        	
  760    F8:26E6             			ds	10	; Padding to ensure the 16-byte delta.
  761                        	
  762    F8:26F0             	_sgx_font_base:	ds	2	; Tile number of ASCII '\0'.
  763                        	
  764                        	; From hucc-printf.asm just to avoid wasting .bss space with padding.
  765    F8:26F2             	_sgx_tty_x_lhs:	ds	1	; TTY minimum X position.
  766    F8:26F3             	_sgx_tty_y_top:	ds	1	; TTY minimum Y position.
  767    F8:26F4             	_sgx_tty_x:	ds	1	; TTY current X position.
  768    F8:26F5             	_sgx_tty_y:	ds	1	; TTY current Y position.
  769                        	
  770                        		.endif
  771                        	
  772                        	;_font_base	.alias	vdc_font_base
  773                        	
  774               E5D6     			.code
  775                        	
  776                        	
  777                        	
  778                        	; ***************************************************************************
  779                        	; ***************************************************************************
  780                        	;
  781                        	; void __fastcall set_font_addr( unsigned int vram<acc> );
  782                        	; void __fastcall sgx_set_font_addr( unsigned int vram<acc> );
  783                        	
  784               0001     		.if	SUPPORT_SGX
  785    00:E5D6             	_sgx_set_font_addr.1:
  786    00:E5D6  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
  787    00:E5D8  F0         			db	$F0			; Turn "clx" into a "beq".
  788                        		.endif
  789                        	
  790    00:E5D9             	_set_font_addr.1:
  791    00:E5D9  82         			clx				; Offset to PCE VDC.
  792                        	
  793    00:E5DA  84 00      	set_font_addr:	sty	<__temp
  794    00:E5DC  46 00      			lsr	<__temp
  795    00:E5DE  6A         			ror	a
  796    00:E5DF  46 00      			lsr	<__temp
  797    00:E5E1  6A         			ror	a
  798    00:E5E2  46 00      			lsr	<__temp
  799    00:E5E4  6A         			ror	a
  800    00:E5E5  46 00      			lsr	<__temp
  801    00:E5E7  6A         			ror	a
  802    00:E5E8  38         			sec
  803    00:E5E9  E9 20      			sbc	#$20
  804    00:E5EB  9D E0 26   			sta.l	_vdc_font_base,x
  805    00:E5EE  B0 02      			bcs	!+
  806    00:E5F0  C6 00      			dec	<__temp
  807                        	
  808    00:E5F2  BD E1 26   	!:		lda.h	_vdc_font_base, x
  809    00:E5F5  29 F0      			and	#$F0
  810    00:E5F7  05 00      			ora	<__temp
  811    00:E5F9  9D E1 26   			sta.h	_vdc_font_base, x
  812    00:E5FC  60         			rts
  813                        	
  814                        	
  815                        	
  816                        	; ***************************************************************************
  817                        	; ***************************************************************************
  818                        	;
  819                        	; void __fastcall set_font_pal( unsigned char palette<acc> );
  820                        	; void __fastcall sgx_set_font_pal( unsigned char palette<acc> );
  821                        	
  822               0001     		.if	SUPPORT_SGX
  823    00:E5FD             	_sgx_set_font_pal.1:
  824    00:E5FD  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
  825    00:E5FF  F0         			db	$F0			; Turn "clx" into a "beq".
  826                        		.endif
  827                        	
  828    00:E600             	_set_font_pal:					; For compatibility with HuC.
  829    00:E600             	_set_font_pal.1:
  830    00:E600  82         			clx				; Offset to PCE VDC.
  831    00:E601  0A         			asl	a
  832    00:E602  0A         			asl	a
  833    00:E603  0A         			asl	a
  834    00:E604  0A         			asl	a
  835    00:E605  85 00      			sta	<__temp
  836                        	
  837    00:E607  BD E1 26   			lda.h	_vdc_font_base, x
  838    00:E60A  29 0F      			and	#$0F
  839    00:E60C  05 00      			ora	<__temp
  840    00:E60E  9D E1 26   			sta.h	_vdc_font_base, x
  841    00:E611  60         			rts
  842                        	
  843                        	
  844                        	
  845                        	; ***************************************************************************
  846                        	; ***************************************************************************
  847                        	;
  848                        	; void __fastcall load_font( char far *font<_bp_bank:_bp>, unsigned char count<_al> );
  849                        	;
  850                        	; void __fastcall load_font( char far *font<_bp_bank:_bp>, unsigned char count<_al>, unsigned int vram<acc> );
  851                        	; void __fastcall sgx_load_font( char far *font<_bp_bank:_bp>, unsigned char count<_al>, unsigned int vram<acc> );
  852                        	;
  853                        	; void __fastcall far_load_font( unsigned char count<_al>, unsigned int vram<acc> );
  854                        	; void __fastcall sgx_far_load_font( unsigned char count<_al>, unsigned int vram<acc> );
  855                        	
  856    00:E612  AC C4 26   	_load_font.2:	ldy	vdc_bat_limit		; Load the font directly
  857    00:E615  C8         			iny				; after the BAT (stupid!).
  858    00:E616  62         			cla
  859    00:E617  80 03      			bra	_load_font.3
  860                        	
  861               0001     		.if	SUPPORT_SGX
  862    00:E619             	_sgx_load_font.3:
  863    00:E619  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
  864    00:E61B  F0         			db	$F0			; Turn "clx" into a "beq".
  865                        		.endif
  866                        	
  867    00:E61C  82         	_load_font.3:	clx				; Offset to PCE VDC.
  868                        	
  869    00:E61D  85 F0      			sta.l	<_di			; Load the font directly
  870    00:E61F  84 F1      			sty.h	<_di			; after the BAT (stupid!).
  871                        	
  872    00:E621  20 DA E5   			jsr	set_font_addr		; Set xxx_font_base from addr.
  873                        	
  874    00:E624  A5 F8      			lda	<__al			; Convert #tiles into #words.
  875    00:E626  64 F9      			stz	<__ah
  876    00:E628  0A         			asl	a
  877    00:E629  26 F9      			rol	<__ah
  878    00:E62B  0A         			asl	a
  879    00:E62C  26 F9      			rol	<__ah
  880    00:E62E  0A         			asl	a
  881    00:E62F  26 F9      			rol	<__ah
  882    00:E631  0A         			asl	a
  883    00:E632  26 F9      			rol	<__ah
  884    00:E634  85 F8      			sta	<__al
  885    00:E636  4C 09 FF   			jmp	load_vram_x
  886                        	
  887    00:E639             			.alias	_far_load_font.2	= _load_font.3
  888    00:E639             			.alias	_sgx_far_load_font.2	= _sgx_load_font.3
  889                        	
  890                        	
  891                        	
  892                        	; ***************************************************************************
  893                        	; ***************************************************************************
  894                        	;
  895                        	; void __fastcall cls();
  896                        	; void __fastcall sgx_cls();
  897                        	;
  898                        	; void __fastcall cls( int tile<acc> );
  899                        	; void __fastcall sgx_cls( int tile<acc> );
  900                        	
  901               0001     		.if	SUPPORT_SGX
  902    00:E639  A2 10      	_sgx_cls:	ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
  903    00:E63B  F0         			db	$F0			; Turn "clx" into a "beq".
  904                        		.endif
  905                        	
  906    00:E63C  82         	_cls:		clx				; Offset to PCE VDC.
  907                        	
  908    00:E63D  BD E0 26   	clear_tty_x:	lda.l	_vdc_font_base, x
  909    00:E640  BC E1 26   			ldy.h	_vdc_font_base, x
  910    00:E643  18         			clc
  911    00:E644  69 20      			adc	#' '
  912    00:E646  90 07      			bcc	!+
  913    00:E648  C8         			iny
  914    00:E649  80 04      			bra	!+
  915                        	
  916               0001     		.if	SUPPORT_SGX
  917    00:E64B  A2 10      	_sgx_cls.1:	ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
  918    00:E64D  F0         			db	$F0			; Turn "clx" into a "beq".
  919                        		.endif
  920                        	
  921    00:E64E  82         	_cls.1:		clx
  922                        	
  923    00:E64F  85 F8      	!:		sta.l	<_ax			; VRAM word to write.
  924    00:E651  84 F9      			sty.h	<_ax
  925    00:E653  BD C4 26   			lda	vdc_bat_limit, x	; BAT size hi-byte.
  926    00:E656  1A         			inc	a
  927    00:E657  85 FA      			sta	<_bl
  928    00:E659  4C 51 FD   			jmp	clear_bat_x
  929                        	
  930                        	
  931                        	
  932                        	; ***************************************************************************
  933                        	; ***************************************************************************
  934                        	;
  935                        	; void __fastcall __macro load_default_font( void );
  936                        	; void __fastcall __macro sgx_load_default_font( void );
  937                        	;
  938                        	; Args: _bp, _bp_bank = _farptr to font data mapped into MPR3 & MPR4.
  939                        	; Args: _di = VRAM destination address.
  940                        	; Args: monofont_fg = font color (0..15)
  941                        	; Args: monofont_bg = background color (0..15)
  942                        	; Args: _al = number of tiles (aka characters) 0==256
  943                        	
  944    1E:CB1D             	huc_monofont_x	.proc
  945                        	
  946               26F6     			.bss
  947    F8:26F6             	monofont_fg:	.ds	1
  948    F8:26F7             	monofont_bg:	.ds	1
  949               CB1D     			.code
  950                        	
  951    1E:CB1D  BC C4 26   			ldy	vdc_bat_limit, x	; BAT limit mask hi-byte.
  952    1E:CB20  C8         			iny
  953    1E:CB21  62         			cla
  954    1E:CB22  85 F0      			sta.l	<_di			; Load the font directly
  955    1E:CB24  84 F1      			sty.h	<_di			; after the BAT (stupid!).
  956                        	
  957    1E:CB26  20 DA E5   			jsr	set_font_addr		; Set xxx_font_base from addr.
  958                        	
  959    1E:CB29  A9 AD      			lda.l	#.font
  960    1E:CB2B  85 EC      			sta.l	<_bp
  961    1E:CB2D  A9 CB      			lda.h	#.font
  962    1E:CB2F  85 ED      			sta.h	<_bp
  963                        	
  964    1E:CB31  A9 60      			lda	#$60			; #characters.
  965    1E:CB33  85 F8      			sta	<_al
  966                        	
  967    1E:CB35  20 93 E3   			jsr	set_di_to_mawr
  968                        	
  969    1E:CB38  AD F6 26   			lda	monofont_fg		; Foreground pixel color.
  970    1E:CB3B  85 00      			sta	<__temp
  971    1E:CB3D  AD F7 26   			lda	monofont_bg		; Background pixel color.
  972    1E:CB40  DA         			phx
  973    1E:CB41  A2 FC      			ldx.l	#_cx			; Create a bit mask for each
  974    1E:CB43  9E 00 20   	.bg_loop:	stz	$2000, x		; plane of the background.
  975    1E:CB46  4A         			lsr	a
  976    1E:CB47  90 03      			bcc	.bg_plane
  977    1E:CB49  DE 00 20   			dec	$2000, x
  978    1E:CB4C  E8         	.bg_plane:	inx
  979    1E:CB4D  D0 F4      			bne	.bg_loop
  980    1E:CB4F  FA         			plx
  981                        	
  982    1E:CB50  C2         	.tile_loop:	cly
  983                        	
  984    1E:CB51  B1 EC      	.plane01:	lda	[_bp], y		; Get font byte.
  985    1E:CB53  8F 00 06   			bbs0	<__temp, .set_plane0
  986    1E:CB56  49 FF      	.clr_plane0:	eor	#$FF			; Clr font bits in background.
  987    1E:CB58  25 FC      			and	<_cx + 0
  988    1E:CB5A  80 02      			bra	.put_plane0
  989    1E:CB5C  05 FC      	.set_plane0:	ora	<_cx + 0		; Set font bits in background.
  990    1E:CB5E  9D 02 02   	.put_plane0:	sta	VDC_DL, x
  991                        	
  992    1E:CB61  B1 EC      			lda	[_bp], y		; Get font byte.
  993    1E:CB63  9F 00 06   			bbs1	<__temp, .set_plane1
  994    1E:CB66  49 FF      	.clr_plane1:	eor	#$FF			; Clr font bits in background.
  995    1E:CB68  25 FD      			and	<_cx + 1
  996    1E:CB6A  80 02      			bra	.put_plane1
  997    1E:CB6C  05 FD      	.set_plane1:	ora	<_cx + 1		; Set font bits in background.
  998    1E:CB6E  9D 03 02   	.put_plane1:	sta	VDC_DH, x
  999                        	
 1000    1E:CB71  C8         			iny
 1001    1E:CB72  C0 08      			cpy	#8
 1002    1E:CB74  90 DB      			bcc	.plane01
 1003                        	
 1004    1E:CB76  C2         			cly
 1005                        	
 1006    1E:CB77  B1 EC      	.plane23:	lda	[_bp], y		; Get font byte.
 1007    1E:CB79  AF 00 06   			bbs2	<__temp, .set_plane2
 1008    1E:CB7C  49 FF      	.clr_plane2:	eor	#$FF			; Clr font bits in background.
 1009    1E:CB7E  25 FE      			and	<_cx + 2
 1010    1E:CB80  80 02      			bra	.put_plane2
 1011    1E:CB82  05 FE      	.set_plane2:	ora	<_cx + 2		; Set font bits in background.
 1012    1E:CB84  9D 02 02   	.put_plane2:	sta	VDC_DL, x
 1013                        	
 1014    1E:CB87  B1 EC      			lda	[_bp], y		; Get font byte.
 1015    1E:CB89  BF 00 06   			bbs3	<__temp, .set_plane3
 1016    1E:CB8C  49 FF      	.clr_plane3:	eor	#$FF			; Clr font bits in background.
 1017    1E:CB8E  25 FF      			and	<_cx + 3
 1018    1E:CB90  80 02      			bra	.put_plane3
 1019    1E:CB92  05 FF      	.set_plane3:	ora	<_cx + 3		; Set font bits in background.
 1020    1E:CB94  9D 03 02   	.put_plane3:	sta	VDC_DH, x
 1021                        	
 1022    1E:CB97  C8         			iny
 1023    1E:CB98  C0 08      			cpy	#8
 1024    1E:CB9A  90 DB      			bcc	.plane23
 1025                        	
 1026    1E:CB9C  A5 EC      			lda.l	<_bp
 1027    1E:CB9E  69 07      			adc	#8-1
 1028    1E:CBA0  85 EC      			sta.l	<_bp
 1029    1E:CBA2  90 02      			bcc	!+
 1030    1E:CBA4  E6 ED      			inc.h	<_bp
 1031                        	
 1032    1E:CBA6  C6 F8      	!:		dec	<_al
 1033    1E:CBA8  D0 A6      			bne	.tile_loop
 1034                        	
 1035                        			leave				; All done, phew!
         1E:CBAA  4C EF FF   			jmp	leave_proc
 1036                        	
 1037    1E:CBAD             	.font:		incbin	"data/font8x8-bold-short-iso646-fr.dat", 128
 1038                        	
 1039                        			.endp
 1040                        	
 1041                        	
 1042                        	
 1043                        	; ***************************************************************************
 1044                        	; ***************************************************************************
 1045                        	;
 1046                        	; HuC Text Output
 1047                        	;
 1048                        	; ***************************************************************************
 1049                        	; ***************************************************************************
 1050                        	
 1051                        	
 1052                        	
 1053    1F:CC37             	vdc_tty_out	.procgroup			; These routines share code!
 1054                        	
 1055                        	; ***************************************************************************
 1056                        	; ***************************************************************************
 1057                        	;
 1058                        	; void __fastcall put_char( unsigned char digit<_bl>, unsigned char bat_x<_dil>, unsigned char bat_y<_dih> );
 1059                        	
 1060               0001     		.if	SUPPORT_SGX
 1061                        	put_char_sgx	.proc
 1067                        			.endp
 1068                        		.endif
 1069                        	
 1070    1F:CC37             	put_char_vdc	.proc
 1071                        	
 1072    1F:CC37  82         			clx				; Offset to PCE VDC.
 1073                        	
 1074    1F:CC38  20 F6 CC   			jsr	put_di_xy_wrap		; Comply with HuC's wrapping.
 1075                        	
 1076    1F:CC3B  62         			cla				; Push EOL marker.
 1077    1F:CC3C  48         			pha
 1078                        	
 1079    1F:CC3D  A5 FA      			lda	<_bl
 1080    1F:CC3F  48         			pha				; Push character to output.
 1081    1F:CC40  80 58      			bra	!output+
 1082                        	
 1083    1F:CC42             			.ref	put_hex_vdc		; Need put_number_vdc
 1084                        			.endp
 1085                        	
 1086    1F:CC42             			.alias	_put_char.3		= put_char_vdc
 1087                        	
 1088                        	
 1089                        	
 1090                        	; ***************************************************************************
 1091                        	; ***************************************************************************
 1092                        	;
 1093                        	; void __fastcall put_digit( unsigned char digit<_bl>, unsigned char bat_x<_dil>, unsigned char bat_y<_dih> );
 1094                        	
 1095               0001     		.if	SUPPORT_SGX
 1096                        	put_digit_sgx	.proc
 1102                        			.endp
 1103                        		.endif
 1104                        	
 1105    1F:CC42             	put_digit_vdc	.proc
 1106                        	
 1107    1F:CC42  82         			clx				; Offset to PCE VDC.
 1108                        	
 1109    1F:CC43  20 F6 CC   			jsr	put_di_xy_wrap		; Comply with HuC's wrapping.
 1110                        	
 1111    1F:CC46  62         			cla				; Push EOL marker.
 1112    1F:CC47  48         			pha
 1113                        	
 1114    1F:CC48  A5 FA      			lda	<_bl			; Convert hex digit to ASCII.
 1115    1F:CC4A  29 0F      			and	#$0F
 1116    1F:CC4C  C9 0A      			cmp	#10
 1117    1F:CC4E  90 02      			bcc	!+
 1118    1F:CC50  69 06      			adc	#6
 1119    1F:CC52  69 30      	!:		adc	#'0'
 1120    1F:CC54  48         			pha				; Push character to output.
 1121    1F:CC55  80 43      			bra	!output+
 1122                        	
 1123    1F:CC57             			.ref	put_hex_vdc		; Need put_number_vdc
 1124                        			.endp
 1125                        	
 1126    1F:CC57             			.alias	_put_digit.3		= put_digit_vdc
 1127                        	
 1128                        	
 1129                        	
 1130                        	; ***************************************************************************
 1131                        	; ***************************************************************************
 1132                        	;
 1133                        	; void __fastcall put_hex( unsigned int number<_bx>, unsigned char length<_cl>, unsigned char bat_x<_dil>, unsigned char bat_y<_dih> );
 1134                        	
 1135               0001     		.if	SUPPORT_SGX
 1136                        	put_hex_sgx	.proc
 1141                        			.endp
 1142                        		.endif
 1143                        	
 1144    1F:CC57             	put_hex_vdc	.proc
 1145                        	
 1146    1F:CC57  82         			clx				; Offset to PCE VDC.
 1147                        	
 1148    1F:CC58  20 F6 CC   			jsr	put_di_xy_wrap		; Comply with HuC's wrapping.
 1149                        	
 1150    1F:CC5B  A4 FC      			ldy	<_cl			; Total #characters to print,
 1151    1F:CC5D  F0 3E      			beq	!exit+			; NOT minimum #characters!
 1152                        	
 1153    1F:CC5F  86 00      			stx	<__temp			; Preserve which VDC.
 1154                        	
 1155    1F:CC61  82         			clx				; Push EOL marker.
 1156    1F:CC62  DA         			phx
 1157                        	
 1158    1F:CC63  B5 FA      	.hex_byte:	lda.l	<_bx, x			; Convert hex digit to ASCII.
 1159    1F:CC65  29 0F      			and	#$0F
 1160    1F:CC67  C9 0A      			cmp	#10
 1161    1F:CC69  90 02      			bcc	!+
 1162    1F:CC6B  69 06      			adc	#6
 1163    1F:CC6D  69 30      	!:		adc	#'0'
 1164    1F:CC6F  48         			pha				; Push character to output.
 1165    1F:CC70  88         			dey
 1166    1F:CC71  F0 15      			beq	.hex_done
 1167                        	
 1168    1F:CC73  B5 FA      			lda.l	<_bx, x			; Convert hex digit to ASCII.
 1169    1F:CC75  4A         			lsr	a
 1170    1F:CC76  4A         			lsr	a
 1171    1F:CC77  4A         			lsr	a
 1172    1F:CC78  4A         			lsr	a
 1173    1F:CC79  C9 0A      			cmp	#10
 1174    1F:CC7B  90 02      			bcc	!+
 1175    1F:CC7D  69 06      			adc	#6
 1176    1F:CC7F  69 30      	!:		adc	#'0'
 1177    1F:CC81  48         			pha				; Push character to output.
 1178    1F:CC82  88         			dey
 1179    1F:CC83  F0 03      			beq	.hex_done
 1180                        	
 1181    1F:CC85  E8         			inx
 1182    1F:CC86  80 DB      			bra	.hex_byte
 1183                        	
 1184    1F:CC88  A6 00      	.hex_done:	ldx	<__temp			; Restore which VDC.
 1185    1F:CC8A  80 0E      			bra	!output+
 1186                        	
 1187    1F:CC8C  18         	.write:		clc
 1188    1F:CC8D  7D E0 26   			adc.l	_vdc_font_base, x
 1189    1F:CC90  9D 02 02   			sta	VDC_DL, x
 1190    1F:CC93  62         			cla
 1191    1F:CC94  7D E1 26   			adc.h	_vdc_font_base, x
 1192    1F:CC97  9D 03 02   			sta	VDC_DH, x
 1193                        	
 1194    1F:CC9A  68         	!output:	pla				; Pop the digits and output.
 1195    1F:CC9B  D0 EF      			bne	.write
 1196                        	
 1197                        	!exit:		leave				; All done!
         1F:CC9D  4C EF FF   			jmp	leave_proc
 1198                        	
 1199                        			.endp
 1200                        	
 1201    1F:CCA0             			.alias	_put_hex.4 = put_hex_vdc
 1202                        	
 1203                        	
 1204                        	
 1205                        	; ***************************************************************************
 1206                        	; ***************************************************************************
 1207                        	;
 1208                        	; void __fastcall put_number( unsigned int number<_bx>, unsigned char length<_cl>, unsigned char bat_x<_dil>, unsigned char bat_y<_dih> );
 1209                        	
 1210               0001     		.if	SUPPORT_SGX
 1211                        	put_number_sgx	.proc
 1216                        			.endp
 1217                        		.endif
 1218                        	
 1219    1F:CCA0             	put_number_vdc	.proc
 1220                        	
 1221    1F:CCA0  82         			clx				; Offset to PCE VDC.
 1222                        	
 1223    1F:CCA1  20 F6 CC   			jsr	put_di_xy_wrap		; Comply with HuC's wrapping.
 1224                        	
 1225    1F:CCA4  A4 FC      			ldy	<_cl			; Total #characters to print,
 1226    1F:CCA6  F0 F5      			beq	!exit-			; NOT minimum #characters!
 1227                        	
 1228    1F:CCA8  86 00      			stx	<__temp			; Preserve which VDC.
 1229                        	
 1230    1F:CCAA  82         			clx				; Push EOL marker.
 1231    1F:CCAB  DA         			phx
 1232                        	
 1233    1F:CCAC  A6 FB      			ldx.h	<_bx			; Is the number -ve?
 1234    1F:CCAE  86 FC      			stx	<_cl			; Remember this.
 1235    1F:CCB0  10 10      			bpl	.divide_by_ten
 1236                        	
 1237    1F:CCB2  38         			sec				; Make the number +ve.
 1238    1F:CCB3  A5 FA      			lda.l	<_bx
 1239    1F:CCB5  49 FF      			eor	#$FF
 1240    1F:CCB7  69 00      			adc	#0
 1241    1F:CCB9  85 FA      			sta.l	<_bx
 1242    1F:CCBB  8A         			txa
 1243    1F:CCBC  49 FF      			eor	#$FF
 1244    1F:CCBE  69 00      			adc	#0
 1245    1F:CCC0  85 FB      			sta.h	<_bx
 1246                        	
 1247    1F:CCC2  A2 10      	.divide_by_ten:	ldx	#16
 1248    1F:CCC4  62         			cla				; Clear Remainder.
 1249    1F:CCC5  06 FA      			asl.l	<_bx			; Rotate Dividend, MSB -> C.
 1250    1F:CCC7  26 FB      			rol.h	<_bx
 1251    1F:CCC9  2A         	.divide_loop:	rol	a			; Rotate C into Remainder.
 1252    1F:CCCA  C9 0A      			cmp	#10			; Test Divisor.
 1253    1F:CCCC  90 02      			bcc	.divide_less		; CC if Divisor > Remainder.
 1254    1F:CCCE  E9 0A      			sbc	#10			; Subtract Divisor.
 1255    1F:CCD0  26 FA      	.divide_less:	rol.l	<_bx			; Quotient bit -> Dividend LSB.
 1256    1F:CCD2  26 FB      			rol.h	<_bx			; Rotate Dividend, MSB -> C.
 1257    1F:CCD4  CA         			dex
 1258    1F:CCD5  D0 F2      			bne	.divide_loop
 1259                        	
 1260    1F:CCD7  18         			clc
 1261    1F:CCD8  69 30      			adc	#'0'			; Always leaves C clr.
 1262    1F:CCDA  48         			pha				; Push character to output.
 1263    1F:CCDB  88         			dey
 1264    1F:CCDC  F0 10      			beq	!pad+
 1265    1F:CCDE  A5 FA      			lda.l	<_bx			; Repeat while non-zero.
 1266    1F:CCE0  05 FB      			ora.h	<_bx
 1267    1F:CCE2  D0 DE      			bne	.divide_by_ten
 1268                        	
 1269    1F:CCE4  A6 00      			ldx	<__temp			; Restore which VDC.
 1270                        	
 1271    1F:CCE6  A5 FC      			lda	<_cl			; Was the number -ve?
 1272    1F:CCE8  10 04      			bpl	!pad+
 1273    1F:CCEA  A9 2D      			lda	#'-'			; Output a leading '-'.
 1274    1F:CCEC  48         			pha
 1275    1F:CCED  88         			dey
 1276                        	
 1277    1F:CCEE  A9 20      	!pad:		lda	#' '			; Add padding characters.
 1278    1F:CCF0  88         	.loop:		dey
 1279    1F:CCF1  30 A7      			bmi	!output-
 1280    1F:CCF3  48         			pha
 1281    1F:CCF4  80 FA      			bra	.loop
 1282                        	
 1283    1F:CCF6             			.ref	put_hex_vdc		; Need put_number_vdc
 1284                        	
 1285                        			.endp
 1286                        	
 1287    1F:CCF6             			.alias	_put_number.4 = put_number_vdc
 1288                        	
 1289                        	
 1290                        	
 1291                        	; ***************************************************************************
 1292                        	; ***************************************************************************
 1293                        	;
 1294                        	; void __fastcall put_raw( unsigned int data<_bx>, unsigned char bat_x<_dil>, unsigned char bat_y<_dih> );
 1295                        	
 1296               0001     		.if	SUPPORT_SGX
 1297                        	put_raw_sgx	.proc
 1302                        			.endp
 1303                        		.endif
 1304                        	
 1305                        	put_raw_vdc	.proc
 1318                        			.endp
 1319                        	
 1320    1F:CCF6             			.alias	_put_raw.3		= put_raw_vdc
 1321                        	
 1322                        			;
 1323                        			; Ugly hack to wrap the X & Y coordinates like HuC.
 1324                        			;
 1325                        	
 1326    1F:CCF6  A5 F0      	put_di_xy_wrap:	lda.l	<_di			; Sanitize X coordinate.
 1327    1F:CCF8  3D C2 26   			and	vdc_bat_x_mask, x
 1328    1F:CCFB  85 F0      			sta.l	<_di
 1329                        	
 1330    1F:CCFD  A5 F1      			lda.h	<_di			; Sanitize Y coordinate.
 1331    1F:CCFF  3D C3 26   			and	vdc_bat_y_mask, x
 1332    1F:CD02  85 F1      			sta.h	<_di
 1333                        	
 1334    1F:CD04  4C 48 E4   			jmp	set_di_xy_mawr		; In "common.asm".
 1335                        	
 1336                        			.endprocgroup			; vdc_tty_out
 1337                        	
 1338                        	
 1339                        	
 1340                        	; ***************************************************************************
 1341                        	; ***************************************************************************
 1342                        	;
 1343                        	; void __fastcall put_string( unsigned char *string<_bp>, unsigned char bat_x<_dil>, unsigned char bat_y<_dih> );
 1344                        	;
 1345                        	; N.B. This is not a .proc right now because it is called from procedures
 1346                        	; that contain embedded strings, and the string aren't banked in before
 1347                        	; printing (yet).
 1348                        	
 1349               0001     		.if	SUPPORT_SGX
 1350    00:E65C             	_sgx_put_string.3:
 1351    00:E65C  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
 1352    00:E65E  F0         			db	$F0			; Turn "clx" into a "beq".
 1353                        		.endif
 1354                        	
 1355    00:E65F  82         	_put_string.3:	clx				; Offset to PCE VDC.
 1356                        	
 1357    00:E660  20 48 E4   			jsr	set_di_xy_mawr
 1358                        	
 1359    00:E663  C2         			cly
 1360    00:E664  B1 EC      	.chr_loop:	lda	[_bp], y
 1361    00:E666  F0 15      			beq	.done
 1362                        	
 1363    00:E668  18         			clc
 1364    00:E669  7D E0 26   			adc.l	_vdc_font_base, x
 1365    00:E66C  9D 02 02   			sta	VDC_DL, x
 1366    00:E66F  62         			cla
 1367    00:E670  7D E1 26   			adc.h	_vdc_font_base, x
 1368    00:E673  9D 03 02   			sta	VDC_DH, x
 1369                        	
 1370    00:E676  C8         			iny
 1371    00:E677  D0 EB      			bne	.chr_loop
 1372    00:E679  E6 ED      			inc.h	<_bp
 1373    00:E67B  80 E7      			bra	.chr_loop
 1374                        	
 1375    00:E67D  60         	.done:		rts
 1376                        	
 1377                        	
 1378                        	
 1379                        	; ***************************************************************************
 1380                        	; ***************************************************************************
 1381                        	;
 1382                        	; void __fastcall set_color_rgb( unsigned int index<VCE_CTA>, unsigned char r<_al>, unsigned char g<_ah>, unsigned char b<acc> );
 1383                        	;
 1384                        	; r:	red	RED:	bit 3-5
 1385                        	; g:	green	GREEN:	bit 6-8
 1386                        	; b:	blue	BLUE:	bit 0-2
 1387                        	
 1388    00:E67E             	_set_color_rgb.4:
 1389                        	;		and	#7
 1390    00:E67E  85 00      			sta	<__temp
 1391    00:E680  A5 F8      			lda	<_al
 1392                        	;		and	#7
 1393    00:E682  0A         			asl	a
 1394    00:E683  0A         			asl	a
 1395    00:E684  0A         			asl	a
 1396    00:E685  05 00      			ora	<__temp
 1397    00:E687  0A         			asl	a
 1398    00:E688  0A         			asl	a
 1399    00:E689  85 00      			sta	<__temp
 1400    00:E68B  A5 F9      			lda	<_ah
 1401                        	;		and	#7
 1402    00:E68D  4A         			lsr	a
 1403    00:E68E  66 00      			ror	<__temp
 1404    00:E690  4A         			lsr	a
 1405    00:E691  66 00      			ror	<__temp
 1406    00:E693  A8         			tay
 1407    00:E694  A5 00      			lda	<__temp
 1408    00:E696  8D 04 04   			sta.l	VCE_CTW
 1409    00:E699  8C 05 04   			sty.h	VCE_CTW
 1410    00:E69C  60         			rts
                             #[2]   "..\..\..\include\hucc\hucc-final.asm"
   44                        	
   45                        			; Define in hucc-config.inc to remove this.
   46                        	
   47               0001     		.ifndef	HUCC_NO_DEFAULT_RANDOM
                             #[3]   "..\..\..\include\hucc\random.asm"
   48                        			include	"random.asm"		; Random number generator.
    1                        	; ***************************************************************************
    2                        	; ***************************************************************************
    3                        	;
    4                        	; random.asm
    5                        	;
    6                        	; Pseudo-random number generator (https://github.com/bbbradsmith/prng_6502)
    7                        	;
    8                        	; Copyright Brad Smith 2019.
    9                        	;
   10                        	; License:
   11                        	;
   12                        	; This code and may be used, reused, and modified for any purpose, commercial
   13                        	; or non-commercial.
   14                        	;
   15                        	; Attribution in released binaries or documentation is appreciated but not
   16                        	; required.
   17                        	;
   18                        	; ***************************************************************************
   19                        	; ***************************************************************************
   20                        	;
   21                        	; This is a linear feedback shift register (LFSR) in Galois form, which is
   22                        	; iterated 8 times to produce an 8-bit pseudo-random number.
   23                        	;
   24                        	; Two widths of LFSR are provided:
   25                        	;
   26                        	;  24-bit requires 3 bytes, and repeats after 16777215 calls.
   27                        	;  32-bit requires 4 bytes, and repeats after 4294967295 calls.
   28                        	;
   29                        	; Usage:
   30                        	;
   31                        	;  Initialize the zero-page "random" variable to any value other than 0.
   32                        	;  The size of "random" is 3 or 4 bytes, depending on the width of LFSR
   33                        	;  chosen.
   34                        	;
   35                        	;  Call one of the RNG functions and an 8-bit result will be returned in the
   36                        	;  A-register (with flags), and the Y-register will be clobbered.
   37                        	;
   38                        	;  Do not mix RNGs of different width in the same program, unless you can
   39                        	;  give them each separate "random" state storage.
   40                        	;
   41                        	; ***************************************************************************
   42                        	; ***************************************************************************
   43                        	
   44                        	
   45               0001     		.ifndef	_KICKC				; Variables defined in C?
   46               2098     			.zp
   47    F8:2098             	random:		.ds	4			; Seed is 3 or 4 bytes.
   48               E69D     			.code
   49                        		.endif	_KICKC
   50                        	
   51                        	
   52                        	
   53                        	; ***************************************************************************
   54                        	; ***************************************************************************
   55                        	;
   56                        	; init_random - Initialize a 32-bit LFSR using an 8-bit seed value in Y.
   57                        	;
   58                        	; The LFSR is initialized to n'th entry of a standard CRC-32 lookup-table,
   59                        	; which gives it a decent distribution of bits.
   60                        	;
   61                        	; Since seed is an 8-bit value, there are 255 (256-1) possible starting
   62                        	; states for the LFSR, because 0 would generate a 0 state.
   63                        	;
   64                        	; CRC-32 code by Paul Guertin. See http://6502.org/source/integers/crc.htm
   65                        	;
   66                        	
   67    1F:D527             	init_random	.proc
   68                        	
   69    1F:D527  A9 01      			lda	#1			; Init CRC-32 table value.
   70    1F:D529  85 98      			sta	<random + 0
   71    1F:D52B  98         			tya				; Get and check the seed value.
   72    1F:D52C  D0 01      			bne	.reverse_seed
   73    1F:D52E  3A         			dec	a			; Which must be non-zero!
   74    1F:D52F  4A         	.reverse_seed:	lsr	a			; Reverse the bits so that small changes
   75    1F:D530  26 98      			rol	<random + 0		; in the seed make larger differences in
   76    1F:D532  90 FB      			bcc	.reverse_seed		; the initial state.
   77                        	
   78    1F:D534  64 99      			stz	<random + 1		; A contains the high byte of the CRC-32.
   79    1F:D536  64 9A      			stz	<random + 2		; The other three bytes are in memory.
   80    1F:D538  62         			cla
   81                        	
   82    1F:D539  A0 08      			ldy	#8			; Y counts bits in a byte.
   83    1F:D53B  4A         	.bit_loop:	lsr	a			; The CRC-32 algorithm is similar to CRC-16
   84    1F:D53C  66 9A      			ror	<random + 2		; except that it is reversed (originally for
   85    1F:D53E  66 99      			ror	<random + 1		; hardware reasons). This is why we shift
   86    1F:D540  66 98      			ror	<random + 0		; right instead of left here.
   87    1F:D542  90 16      			bcc	.no_add			; Do nothing if no overflow,
   88    1F:D544  49 ED      			eor	#$ED			; else add CRC-32 polynomial $EDB88320.
   89                        	
   90    1F:D546  48         			pha				; Save high byte while we do others.
   91    1F:D547  A5 9A      			lda	<random + 2
   92    1F:D549  49 B8      			eor	#$B8			; Most reference books give the CRC-32 poly
   93    1F:D54B  85 9A      			sta	<random + 2		; as $04C11DB7. This is actually the same if
   94    1F:D54D  A5 99      			lda	<random + 1		; you write it in binary and read it right-
   95    1F:D54F  49 83      			eor	#$83			; to-left instead of left-to-right. Doing it
   96    1F:D551  85 99      			sta	<random + 1		; this way means we won't have to explicitly
   97    1F:D553  A5 98      			lda	<random + 0		; reverse things afterwards.
   98    1F:D555  49 20      			eor	#$20
   99    1F:D557  85 98      			sta	<random + 0
  100    1F:D559  68         			pla				; Restore high byte.
  101                        	
  102    1F:D55A  88         	.no_add:	dey				; Do next bit.
  103    1F:D55B  D0 DE      			bne	.bit_loop
  104                        	
  105    1F:D55D  85 9B      			sta	<random + 3		; Save CRC-32 high-byte.
  106                        	
  107                        			leave				; All done!
         1F:D55F  4C EF FF   			jmp	leave_proc
  108                        	
  109                        			.endp
  110                        	
  111                        	
  112                        	
  113                        	; ***************************************************************************
  114                        	; ***************************************************************************
  115                        	;
  116                        	; get_random - 8-bit LFSR pseudo-random number with a 24-bit cycle.
  117                        	;
  118                        	; The pseudo-random sequence repeats after (2^24)-1 calls.
  119                        	;
  120                        	; Written by Wim Couwenberg, see ...
  121                        	;
  122                        	; "https://wimcouwenberg.wordpress.com/2020/11/15/ ...
  123                        	;  a-fast-24-bit-prng-algorithm-for-the-6502-processor/"
  124                        	;
  125                        	; Takes 68 cycles on the HuC6280, incl JSR & RTS.
  126                        	;
  127                        	; N.B. HuCC library code relies on this preserving X and Y!
  128                        	;
  129                        	
  130    00:E69D  C2         	_rand8:		cly				; Entry point for HuCC.
  131                        	
  132    00:E69E  A5 98      	get_random:	lda	<random + 0		; Operation 7 (with carry clear).
  133    00:E6A0  0A         			asl	a
  134    00:E6A1  45 99      			eor	<random + 1
  135    00:E6A3  85 99      			sta	<random + 1
  136    00:E6A5  2A         			rol	a             		; Operation 9.
  137    00:E6A6  45 9A      			eor	<random + 2
  138    00:E6A8  85 9A      			sta	<random + 2
  139    00:E6AA  45 98      			eor	<random + 0		; Operation 5.
  140    00:E6AC  85 98      			sta	<random + 0
  141    00:E6AE  A5 99      			lda	<random + 1		; Operation 15.
  142    00:E6B0  6A         			ror	a
  143    00:E6B1  45 9A      			eor	<random + 2
  144    00:E6B3  85 9A      			sta	<random + 2
  145    00:E6B5  45 99      			eor	<random + 1		; Operation 6.
  146    00:E6B7  85 99      			sta	<random + 1
  147    00:E6B9  60         			rts
  148                        	
  149                        	
  150                        	
  151               0000     		.if	0
  316                        		.endif
                             #[2]   "..\..\..\include\hucc\hucc-final.asm"
   49                        		.endif
   50                        	
   51                        			; Optional libraries that get used when their header files
   52                        			; are included in a HuCC project.
   53                        			;
   54                        			; When the HuCC compiler is invoked with the "--legacy"
   55                        			; option to compile old projects, then the "huc.h" file
   56                        			; is automatically included, which then includes a list
   57                        			; of specific headers corresponding to HuC's library.
   58                        	
   59               0001     		.ifdef	HUCC_USES_STRING		; Set in hucc_string.h
                             #[3]   "..\..\..\include\hucc\hucc-string.asm"
   60                        			include	"hucc-string.asm"
    1                        	; ***************************************************************************
    2                        	; ***************************************************************************
    3                        	;
    4                        	; hucc-string.asm
    5                        	;
    6                        	; Not-quite-standard, but fast, replacements for <string.h>.
    7                        	;
    8                        	; Copyright John Brandwood 2024.
    9                        	;
   10                        	; Distributed under the Boost Software License, Version 1.0.
   11                        	; (See accompanying file LICENSE_1_0.txt or copy at
   12                        	;  http://www.boost.org/LICENSE_1_0.txt)
   13                        	;
   14                        	; ***************************************************************************
   15                        	; ***************************************************************************
   16                        	;
   17                        	; !!! WARNING : non-standard return values !!!
   18                        	;
   19                        	; Strings are limited to a maximum of 255 characters (+ the terminator)!
   20                        	;
   21                        	; The memcpy(), strcpy() and strcat() functions do NOT return the destination
   22                        	; address, and they are declared "void" to check that the value is not used.
   23                        	;
   24                        	; mempcpy() is provided which returns the end address instead of the starting
   25                        	; address, because this is typically more useful.
   26                        	;
   27                        	; Please note that both memcpy() and memset() are implemented using a TII for
   28                        	; speed, and so the length should be < 16 bytes if used in time-critical bits
   29                        	; of code (such as when using a split screen) because they delay interrupts.
   30                        	;
   31                        	; strncpy() and strncat() are not provided, because strncpy() was not created
   32                        	; for the purpose of avoiding string overruns, and strncat() is just a poorly
   33                        	; designed function.
   34                        	;
   35                        	; POSIX strlcpy() and strlcat() are provided instead, but once again they are
   36                        	; slightly non-standard in that the return value when there is an overflow is
   37                        	; the buffer size (so that the overflow can be detected), instead of the full
   38                        	; size of the destination string that was too big to fit in the buffer.
   39                        	;
   40                        	; ***************************************************************************
   41                        	; ***************************************************************************
   42                        	
   43                        	
   44                        	
   45                        	; ***************************************************************************
   46                        	; ***************************************************************************
   47                        	;
   48                        	; void __fastcall strcpy( char *destination<_di>, char *source<_bp> );
   49                        	; void __fastcall strcat( char *destination<_di>, char *source<_bp> );
   50                        	;
   51                        	; unsigned int __fastcall strlcpy( char *destination<_di>, char *source<_bp>, unsigned char size<acc> );
   52                        	; unsigned int __fastcall strlcat( char *destination<_di>, char *source<_bp>, unsigned char size<acc> );
   53                        	; unsigned int __fastcall strlen( char *source<_bp> );
   54                        	;
   55                        	; NOT WORKING YET (needs compiler changes) ...
   56                        	;
   57                        	; void __fastcall strcpy( char *destination<_di>, char __far *source<_bp_bank:_bp> );
   58                        	; void __fastcall strcat( char *destination<_di>, char __far *source<_bp_bank:_bp> );
   59                        	;
   60                        	; unsigned int __fastcall strlcpy( char *destination<_di>, char __far *source<_bp_bank:_bp>, unsigned char size<acc> );
   61                        	; unsigned int __fastcall strlcat( char *destination<_di>, char __far *source<_bp_bank:_bp>, unsigned char size<acc> );
   62                        	; unsigned int __fastcall strlen( char __far *source<_bp_bank:_bp> );
   63                        	
   64    00:E6BA  62         	_strcat:	cla				; Max string length == 256!
   65    00:E6BB  A0 01      			ldy.h	#256
   66                        	
   67    00:E6BD  AA         	_strlcat:	tax				; X = buffer length (1..256).
   68                        	
   69               0000     		.ifdef	_DEBUG
   74                        		.endif
   75                        	
   76    00:E6BE  43 08      			tma3				; Preserve MPR3 and MPR4.
   77    00:E6C0  48         			pha
   78    00:E6C1  43 10      			tma4
   79    00:E6C3  48         			pha
   80                        	
   81                        	;		ldy	<_bp_bank		; Map the source string.
   82                        	;		beq	.no_bank
   83                        	;		jsr	map_bp_to_mpr34
   84                        	
   85    00:E6C4  C2         	.no_bank:	cly
   86                        	
   87    00:E6C5  B1 F0      	.find:		lda	[_di], y		; Find the end of the string.
   88    00:E6C7  F0 08      			beq	.adjust
   89    00:E6C9  C8         			iny
   90    00:E6CA  CA         			dex
   91    00:E6CB  D0 F8      			bne	.find
   92    00:E6CD  98         			tya				; A:Y = buffer length.
   93    00:E6CE  62         			cla
   94    00:E6CF  80 28      			bra	str_overflow
   95                        	
   96    00:E6D1  98         	.adjust:	tya				; Subtract Y from _bp so that
   97    00:E6D2  49 FF      			eor	#$FF			; _bp and _di use the same Y.
   98    00:E6D4  38         			sec
   99    00:E6D5  65 EC      			adc.l	<_bp
  100    00:E6D7  85 EC      			sta.l	<_bp
  101    00:E6D9  B0 0F      			bcs	str_copy
  102    00:E6DB  C6 ED      			dec.h	<_bp
  103    00:E6DD  80 0B      			bra	str_copy
  104                        	
  105                        			;
  106                        	
  107    00:E6DF  62         	_strcpy:	cla				; Max string length == 256!
  108    00:E6E0  A0 01      			ldy.h	#256
  109                        	
  110    00:E6E2  AA         	_strlcpy:	tax				; X = buffer length (1..256).
  111                        	
  112               0000     		.ifdef	_DEBUG
  117                        		.endif
  118                        	
  119    00:E6E3  43 08      			tma3				; Preserve MPR3 and MPR4.
  120    00:E6E5  48         			pha
  121    00:E6E6  43 10      			tma4
  122    00:E6E8  48         			pha
  123                        	
  124                        	;		ldy	<_bp_bank		; Map the source string.
  125                        	;		beq	.no_bank
  126                        	;		jsr	map_bp_to_mpr34
  127                        	
  128    00:E6E9  C2         	.no_bank:	cly
  129                        	
  130    00:E6EA  B1 EC      	str_copy:	lda	[_bp], y
  131    00:E6EC  91 F0      			sta	[_di], y
  132    00:E6EE  F0 1E      			beq	str_exit		; A:Y = string length.
  133    00:E6F0  C8         			iny
  134    00:E6F1  CA         			dex
  135    00:E6F2  D0 F6      			bne	str_copy
  136                        	
  137    00:E6F4  88         			dey
  138    00:E6F5  62         			cla
  139    00:E6F6  91 F0      			sta	[_di], y
  140    00:E6F8  C8         			iny				; A:Y = buffer length.
  141    00:E6F9  D0 13      	str_overflow:	bne	str_exit
  142    00:E6FB  1A         			inc	a			; A:Y = buffer length = 256.
  143    00:E6FC  80 10      			bra	str_exit
  144                        	
  145                        			;
  146                        	
  147    00:E6FE  43 08      	_strlen:	tma3
  148    00:E700  48         			pha
  149    00:E701  43 10      			tma4
  150    00:E703  48         			pha
  151                        	
  152                        	;		ldy	<_bp_bank
  153                        	;		beq	.no_bank
  154                        	;		jsr	map_bp_to_mpr34
  155                        	
  156    00:E704  C2         	.no_bank:	cly
  157                        	
  158    00:E705  B1 EC      	.find:		lda	[_bp], y
  159    00:E707  F0 05      			beq	str_exit
  160    00:E709  C8         			iny
  161    00:E70A  D0 F9      			bne	.find
  162    00:E70C  A9 01      			lda.h	#256			; A:Y = overflow length = 256.
  163                        	
  164    00:E70E  AA         	str_exit:	tax				; X:Y = string or buffer length.
  165                        	
  166    00:E70F  68         			pla				; Restore MPR3 and MPR4.
  167    00:E710  53 10      			tam4
  168    00:E712  68         			pla
  169    00:E713  53 08      			tam3
  170                        	
  171    00:E715  8A         			txa				; A:Y = string or buffer length.
  172    00:E716  42         			say				; Y:A = string or buffer length.
  173                        	
  174    00:E717  60         			rts
  175                        	
  176    00:E718             			.alias	_strlen.1		= _strlen
  177    00:E718             			.alias	_strcpy.2		= _strcpy
  178    00:E718             			.alias	_strcat.2		= _strcat
  179    00:E718             			.alias	_strlcpy.3		= _strlcpy
  180    00:E718             			.alias	_strlcat.3		= _strlcat
  181                        	
  182                        	
  183                        	
  184                        	; ***************************************************************************
  185                        	; ***************************************************************************
  186                        	;
  187                        	; void __fastcall memcpy( unsigned char *destination<ram_tii_dst>, unsigned char  *source<ram_tii_src>, unsigned int count<acc> );
  188                        	; unsigned char * __fastcall mempcpy( unsigned char *destination<ram_tii_dst>, unsigned char  *source<ram_tii_src>, unsigned int count<acc> );
  189                        	;
  190                        	; void __fastcall farmemcpy( unsigned char *destination<ram_tii_dst>, unsigned char __far *source<_bp_bank:ram_tii_src>, unsigned int count<acc> );
  191                        	; unsigned char * __fastcall farmempcpy( unsigned char *destination<ram_tii_dst>, unsigned char __far *source<_bp_bank:ram_tii_src>, unsigned int count<acc> );
  192                        	;
  193                        	; void __fastcall far_memcpy( unsigned char *destination<ram_tii_dst>, unsigned int count<acc> );
  194                        	; unsigned char * __fastcall far_mempcpy( unsigned char *destination<ram_tii_dst>, unsigned int count<acc> );
  195                        	;
  196                        	
  197    00:E718             	_memcpy.3:
  198    00:E718  64 02      	_mempcpy.3:	stz	<_bp_bank		; Map the source memory.
  199                        	
  200    00:E71A             	_farmemcpy.3:
  201    00:E71A  8C FE 22   	_farmempcpy.3:	sty.h	ram_tii_len		; Check for zero length.
  202    00:E71D  8D FD 22   			sta.l	ram_tii_len
  203    00:E720  0D FE 22   			ora.h	ram_tii_len
  204    00:E723  F0 18      			beq	.zero_length
  205                        	
  206    00:E725  43 08      			tma3				; Preserve MPR3 and MPR4.
  207    00:E727  48         			pha
  208    00:E728  43 10      			tma4
  209    00:E72A  48         			pha
  210                        	
  211    00:E72B  A5 02      			lda	<_bp_bank		; Map the source memory.
  212    00:E72D  F0 05      			beq	.no_bank
  213                        	
  214    00:E72F  53 08      			tam3				; Put bank into MPR3.
  215    00:E731  1A         			inc	a
  216    00:E732  53 10      			tam4				; Put next into MPR4.
  217                        	
  218                        	;		lda.h	ram_tii_src		; Remap ptr to MPR3.
  219                        	;		and	#$1F
  220                        	;		ora	#$60
  221                        	;		sta.h	ram_tii_src
  222                        	
  223    00:E734  20 F8 22   	.no_bank:	jsr	ram_tii			; Copy the memory.
  224                        	
  225    00:E737  68         			pla				; Restore MPR3 and MPR4.
  226    00:E738  53 10      			tam4
  227    00:E73A  68         			pla
  228    00:E73B  53 08      			tam3
  229                        	
  230    00:E73D  18         	.zero_length:	clc				; Return the end address
  231    00:E73E  AD FB 22   			lda.l	ram_tii_dst		; like mempcpy().
  232    00:E741  6D FD 22   			adc.l	ram_tii_len
  233    00:E744  A8         			tay
  234    00:E745  AD FC 22   			lda.h	ram_tii_dst
  235    00:E748  6D FE 22   			adc.h	ram_tii_len
  236    00:E74B  42         			say
  237                        	
  238    00:E74C  60         			rts
  239                        	
  240    00:E74D             			.alias	_far_memcpy.2		= _farmemcpy.3
  241    00:E74D             			.alias	_far_mempcpy.2		= _farmempcpy.3
  242                        	
  243                        	
  244                        	
  245                        	; ***************************************************************************
  246                        	; ***************************************************************************
  247                        	;
  248                        	; void __fastcall memset( unsigned char *destination<ram_tii_src>, unsigned char value<_al>, unsigned int count<acc> );
  249                        	
  250    00:E74D  C9 00      	_memset:	cmp	#0			; Decrement the length, check
  251    00:E74F  D0 05      			bne	!+			; for zero and set C. 
  252    00:E751  C0 00      			cpy	#0
  253    00:E753  F0 23      			beq	.zero_length
  254    00:E755  88         			dey
  255    00:E756  3A         	!:		dec	a
  256    00:E757  8D FD 22   			sta.l	ram_tii_len
  257    00:E75A  8C FE 22   			sty.h	ram_tii_len
  258                        	
  259    00:E75D  AD F9 22   			lda.l	ram_tii_src		; ram_tii_dst = ram_tii_src + 1
  260    00:E760  85 88      			sta.l	<__ptr
  261    00:E762  69 00      			adc	#0
  262    00:E764  8D FB 22   			sta.l	ram_tii_dst
  263    00:E767  AD FA 22   			lda.h	ram_tii_src
  264    00:E76A  85 89      			sta.h	<__ptr
  265    00:E76C  69 00      			adc	#0
  266    00:E76E  8D FC 22   			sta.h	ram_tii_dst
  267                        	
  268    00:E771  A5 F8      			lda	<_al			; Set the fill value.
  269    00:E773  92 88      			sta	[__ptr]
  270                        	
  271    00:E775  4C F8 22   			jmp	ram_tii			; Copy the memory.
  272                        	
  273    00:E778  60         	.zero_length:	rts
  274                        	
  275    00:E779             			.alias	_memset.3		= _memset
  276                        	
  277                        	
  278                        	
  279                        	; ***************************************************************************
  280                        	; ***************************************************************************
  281                        	;
  282                        	; int __fastcall strcmp( char *string1<_di>, char *string2<_bp> );
  283                        	; int __fastcall strncmp( char *string1<_di>, char *string2<_bp>, unsigned int count<_ax> );
  284                        	;
  285                        	; int __fastcall __macro memcmp( unsigned char *string1<_di>, unsigned char *string2<_bp>, unsigned int count<_ax> );
  286                        	; int __fastcall farmemcmp( unsigned char *string1<_di>, unsigned char __far *string2<_bp_bank:_bp>, unsigned int count<_ax> );
  287                        	; int __fastcall far_memcmp( unsigned char *string1<_di>, unsigned int count<_ax> );
  288                        	;
  289                        	;  0 	if strings are equal
  290                        	;  1 	if the first non-matching character in string1 > string2 (in ASCII).
  291                        	; -1 	if the first non-matching character in string1 < string2 (in ASCII).
  292                        	
  293    1F:D351             	hucc_memcmp	.procgroup
  294                        	
  295                        	_strcmp.2	.proc
  300                        			.endp				; Fall through.
  301                        	
  302    1F:D351             	_strncmp.3	.proc
  303    1F:D351  64 02      			stz	<_bp_bank		; Assume strings are mapped.
  304    1F:D353  89 40      			bit	#$40			; Set the V bit for strcmp.
  305    1F:D355  50         			db	$50			; Turn "clv" into "bvc".
  306    1F:D356             			.ref	_farmemcmp.3		; Don't strip _farmemcmp.3!
  307                        			.endp				; Fall through.
  308                        	
  309    1F:D356             	_farmemcmp.3	.proc
  310    1F:D356  B8         			clv				; Clr the V bit for memcmp.
  311                        	
  312    1F:D357  43 08      			tma3				; Preserve MPR3 and MPR4.
  313    1F:D359  48         			pha
  314    1F:D35A  43 10      			tma4
  315    1F:D35C  48         			pha
  316                        	
  317    1F:D35D  A4 02      			ldy	<_bp_bank		; Map string2.
  318    1F:D35F  F0 03      			beq	.no_bank
  319                        	
  320    1F:D361  20 4F E3   			jsr	map_bp_to_mpr34
  321                        	
  322    1F:D364  C2         	.no_bank:	cly
  323                        	
  324    1F:D365  A6 F8      			ldx.l	<_ax			; Increment length.l
  325    1F:D367  E8         			inx
  326    1F:D368  CA         	.loop:		dex				; Decrement length.l
  327    1F:D369  F0 17      			beq	.page
  328    1F:D36B  B1 F0      	.test:		lda	[_di], y		; string1 - string2
  329    1F:D36D  D1 EC      			cmp	[_bp], y
  330    1F:D36F  90 1E      			bcc	.return_neg		; string1 < string2 
  331    1F:D371  D0 17      			bne	.return_pos		; string1 > string2
  332    1F:D373  50 04      			bvc	!+			; Only check for end-of-string
  333    1F:D375  C9 00      			cmp	#0			; if the V flag is set.
  334    1F:D377  F0 0D      			beq	.return_same
  335    1F:D379  C8         	!:		iny
  336    1F:D37A  D0 EC      			bne	.loop
  337    1F:D37C  E6 F1      			inc.h	<_di
  338    1F:D37E  E6 ED      			inc.h	<_bp			; Limited to 8KB maximum!
  339                        	;		jsr	inc.h_bp_mpr34
  340    1F:D380  80 E6      			bra	.loop
  341                        	
  342    1F:D382  C6 F9      	.page:		dec.h	<_ax			; Decrement length.h 
  343    1F:D384  10 E5      			bpl	.test			; Limit comparison to 32KB.
  344                        	;		bra	cmp_same
  345                        	
  346    1F:D386  82         	.return_same:	clx				; Return code in Y:X, X -> A.
  347    1F:D387  C2         			cly
  348    1F:D388  80 09      			bra	!+
  349                        	
  350    1F:D38A  A2 01      	.return_pos:	ldx	#$01			; Return code in Y:X, X -> A.
  351    1F:D38C  C2         			cly
  352    1F:D38D  80 04      			bra	!+
  353                        	
  354    1F:D38F  A2 FF      	.return_neg:	ldx	#$FF			; Return code in Y:X, X -> A.
  355    1F:D391  A0 FF      			ldy	#$FF
  356                        	
  357    1F:D393  68         	!:		pla				; Restore MPR3 and MPR4.
  358    1F:D394  53 10      			tam4
  359    1F:D396  68         			pla
  360    1F:D397  53 08      			tam3
  361                        	
  362                        			leave				; Return and copy X -> A.
         1F:D399  4C EF FF   			jmp	leave_proc
  363                        	
  364                        			.endp
  365                        	
  366                        			.endprocgroup			; hucc_memcmp
  367                        	
  368    00:E779             			.alias	_far_memcmp.2		= _farmemcmp.3
                             #[2]   "..\..\..\include\hucc\hucc-final.asm"
   61                        		.endif
   62                        	
   63               0001     		.ifdef	HUCC_USES_NEW_SCROLL		; Set in hucc_scroll.h
                             #[3]   "..\..\..\include\hucc\hucc-scroll.asm"
   64                        			include	"hucc-scroll.asm"
    1                        	; ***************************************************************************
    2                        	; ***************************************************************************
    3                        	;
    4                        	; hucc-scroll.asm
    5                        	;
    6                        	; Routines for a fast split-screen scrolling system.
    7                        	;
    8                        	; Copyright John Brandwood 2024.
    9                        	;
   10                        	; Distributed under the Boost Software License, Version 1.0.
   11                        	; (See accompanying file LICENSE_1_0.txt or copy at
   12                        	;  http://www.boost.org/LICENSE_1_0.txt)
   13                        	;
   14                        	; ***************************************************************************
   15                        	; ***************************************************************************
   16                        	;
   17                        	; The maximum number of splits for each screen layer is set in your project's
   18                        	; "hucc-config.inc" file, with the library having a limit of 128-per-layer.
   19                        	;
   20                        	; Your first active split must be defined to start at screen line 0, and then
   21                        	; the rest of the active splits must be in increasing line order to match the
   22                        	; way that the PC Engine displays the output image.
   23                        	;
   24                        	; You can have disabled splits interleaved with your active splits.
   25                        	;
   26                        	; Splits that are normally disabled can be used to create full screen effects
   27                        	; such as bouncing the screen up and down by adding blank areas at the top or
   28                        	; bottom of the screen, and then rapidly changing the height of those areas.
   29                        	;
   30                        	; ***************************************************************************
   31                        	; ***************************************************************************
   32                        	
   33                        	
   34                        	
   35               0000     		.ifndef	HUCC_PCE_SPLITS
   37                        		.endif
   38                        	
   39               0000     		.ifndef	HUCC_SGX_SPLITS
   41                        		.endif
   42                        	
   43               0000     		.if	(HUCC_PCE_SPLITS < 2) || (HUCC_PCE_SPLITS > 128)
   45                        		.endif
   46                        	
   47               0000     		.if	(HUCC_SGX_SPLITS < 2) || (HUCC_SGX_SPLITS > 128)
   49                        		.endif
   50                        	
   51               0144     	HUCC_1ST_RCR	=	$144
   52               00E0     	HUCC_SCR_HEIGHT	=	224
   53                        	
   54               E779     			.code
   55                        	
   56                        	
   57                        	
   58                        	; ***************************************************************************
   59                        	; ***************************************************************************
   60                        	;
   61                        	; void __fastcall scroll_split( unsigned char index<_al>, unsigned char screen_line<_ah>, unsigned int bat_x<_bx>, unsigned int bat_y<_cx>, unsigned char display_flags<_dl> );
   62                        	; void __fastcall sgx_scroll_split( unsigned char index<_al>, unsigned char screen_line<_ah>, unsigned int bat_x<_bx>, unsigned int bat_y<_cx>, unsigned char display_flags<_dl> );
   63                        	;
   64                        	; set screen scrolling
   65                        	
   66    1F:CF09             			.proc	_scroll_split.5
   67                        	
   68    1F:CF09  08         			php				; Disable interrupts while
   69    1F:CF0A  78         			sei				; updating this structure.
   70                        	
   71    1F:CF0B  A6 F8      			ldx	<_al			; Region number.
   72    1F:CF0D  E0 08      			cpx	#HUCC_PCE_SPLITS
   73    1F:CF0F  B0 FE      	.hang:		bcs	.hang			; Better a hang than a crash!
   74                        	
   75    1F:CF11  BD F8 26   			lda	vdc_region_sel, x	; Update the parameter copy
   76    1F:CF14  5D 00 27   			eor	vdc_region_new, x	; that is not displayed now.
   77    1F:CF17  D0 3B      			bne	.regionA
   78                        	
   79    1F:CF19  A5 F9      	.regionB:	lda	<_ah			; Scanline (i.e. top).
   80    1F:CF1B  C9 E0      			cmp	#HUCC_SCR_HEIGHT	; Skip if offscreen.
   81    1F:CF1D  B0 31      			bcs	!done+
   82    1F:CF1F  9D 20 27   			sta	vdc_regionB_rcr, x
   83                        	
   84    1F:CF22  C9 00      			cmp	#0			; Either Y at top of the frame
   85    1F:CF24  F0 01      			beq	!+			; or Y-1 because the RCR code
   86    1F:CF26  18         			clc				; sets it on the line before.
   87    1F:CF27  A5 FC      	!:		lda.l	<_cx
   88    1F:CF29  E9 00      			sbc	#0
   89    1F:CF2B  9D 50 27   			sta	vdc_regionB_yl, x
   90    1F:CF2E  A5 FD      			lda.h	<_cx
   91    1F:CF30  E9 00      			sbc	#0
   92    1F:CF32  9D 60 27   			sta	vdc_regionB_yh, x
   93                        	
   94    1F:CF35  A5 FA      			lda.l	<_bx
   95    1F:CF37  9D 30 27   			sta	vdc_regionB_xl, x
   96    1F:CF3A  A5 FB      			lda.h	<_bx
   97    1F:CF3C  9D 40 27   			sta	vdc_regionB_xh, x
   98                        	
   99    1F:CF3F  A5 FE      			lda	<_dl			; Flags (mark it as enabled).
  100    1F:CF41  29 C0      			and	#$C0
  101    1F:CF43  09 0C      			ora	#$0C
  102    1F:CF45  9D 10 27   			sta	vdc_regionB_crl, x
  103                        	
  104    1F:CF48  A9 01      			lda	#1			; Mark that we've changed the
  105    1F:CF4A  9D 00 27   			sta	vdc_region_new, x	; selected region.
  106    1F:CF4D  9D F8 26   			sta	vdc_region_sel, x
  107                        	
  108    1F:CF50  28         	!done:		plp				; Restore interrupts.
  109                        			leave				; All done!
         1F:CF51  4C EF FF   			jmp	leave_proc
  110                        	
  111    1F:CF54  A5 F9      	.regionA:	lda	<_ah			; Scanline (i.e. top).
  112    1F:CF56  C9 E0      			cmp	#HUCC_SCR_HEIGHT	; Skip if offscreen.
  113    1F:CF58  B0 31      			bcs	!done+
  114    1F:CF5A  9D 18 27   			sta	vdc_regionA_rcr, x
  115                        	
  116    1F:CF5D  C9 00      			cmp	#0			; Either Y at top of the frame
  117    1F:CF5F  F0 01      			beq	!+			; or Y-1 because the RCR code
  118    1F:CF61  18         			clc				; sets it on the line before.
  119    1F:CF62  A5 FC      	!:		lda.l	<_cx
  120    1F:CF64  E9 00      			sbc	#0
  121    1F:CF66  9D 48 27   			sta	vdc_regionA_yl, x
  122    1F:CF69  A5 FD      			lda.h	<_cx
  123    1F:CF6B  E9 00      			sbc	#0
  124    1F:CF6D  9D 58 27   			sta	vdc_regionA_yh, x
  125                        	
  126    1F:CF70  A5 FA      			lda.l	<_bx
  127    1F:CF72  9D 28 27   			sta	vdc_regionA_xl, x
  128    1F:CF75  A5 FB      			lda.h	<_bx
  129    1F:CF77  9D 38 27   			sta	vdc_regionA_xh, x
  130                        	
  131    1F:CF7A  A5 FE      			lda	<_dl			; Flags (mark it as enabled).
  132    1F:CF7C  29 C0      			and	#$C0
  133    1F:CF7E  09 0C      			ora	#$0C
  134    1F:CF80  9D 08 27   			sta	vdc_regionA_crl, x
  135                        	
  136    1F:CF83  A9 01      			lda	#1			; Mark that we've changed the
  137    1F:CF85  9D 00 27   			sta	vdc_region_new, x	; selected region.
  138    1F:CF88  9E F8 26   			stz	vdc_region_sel, x
  139                        	
  140    1F:CF8B  28         	!done:		plp				; Restore interrupts.
  141                        			leave				; All done!
         1F:CF8C  4C EF FF   			jmp	leave_proc
  142                        	
  143                        			.endp
  144                        	
  145               0001     		.if	SUPPORT_SGX
  146                        	
  147    1F:CF8F             			.proc	_sgx_scroll_split.5
  148                        	
  149    1F:CF8F  08         			php				; Disable interrupts while
  150    1F:CF90  78         			sei				; updating this structure.
  151                        	
  152    1F:CF91  A6 F8      			ldx	<_al			; Region number.
  153    1F:CF93  E0 08      			cpx	#HUCC_SGX_SPLITS
  154    1F:CF95  B0 FE      	.hang:		bcs	.hang			; Better a hang than a crash!
  155                        	
  156    1F:CF97  BD 79 27   			lda	sgx_region_sel, x	; Update the parameter copy
  157    1F:CF9A  5D 81 27   			eor	sgx_region_new, x	; that is not displayed now.
  158    1F:CF9D  D0 3B      			bne	.regionA
  159                        	
  160    1F:CF9F  A5 F9      	.regionB:	lda	<_ah			; Scanline (i.e. top).
  161    1F:CFA1  C9 E0      			cmp	#HUCC_SCR_HEIGHT	; Skip if offscreen.
  162    1F:CFA3  B0 31      			bcs	!done+
  163    1F:CFA5  9D A1 27   			sta	sgx_regionB_rcr, x
  164                        	
  165    1F:CFA8  C9 00      			cmp	#0			; Either Y at top of the frame
  166    1F:CFAA  F0 01      			beq	!+			; or Y-1 because the RCR code
  167    1F:CFAC  18         			clc				; sets it on the line before.
  168    1F:CFAD  A5 FC      	!:		lda.l	<_cx
  169    1F:CFAF  E9 00      			sbc	#0
  170    1F:CFB1  9D D1 27   			sta	sgx_regionB_yl, x
  171    1F:CFB4  A5 FD      			lda.h	<_cx
  172    1F:CFB6  E9 00      			sbc	#0
  173    1F:CFB8  9D E1 27   			sta	sgx_regionB_yh, x
  174                        	
  175    1F:CFBB  A5 FA      			lda.l	<_bx
  176    1F:CFBD  9D B1 27   			sta	sgx_regionB_xl, x
  177    1F:CFC0  A5 FB      			lda.h	<_bx
  178    1F:CFC2  9D C1 27   			sta	sgx_regionB_xh, x
  179                        	
  180    1F:CFC5  A5 FE      			lda	<_dl
  181    1F:CFC7  29 C0      			and	#$C0			; Flags (mark it as enabled).
  182    1F:CFC9  09 0C      			ora	#$0C
  183    1F:CFCB  9D 91 27   			sta	sgx_regionB_crl, x
  184                        	
  185    1F:CFCE  A9 01      			lda	#1			; Mark that we've changed the
  186    1F:CFD0  9D 81 27   			sta	sgx_region_new, x	; selected region.
  187    1F:CFD3  9D 79 27   			sta	sgx_region_sel, x
  188                        	
  189    1F:CFD6  28         	!done:		plp				; Restore interrupts.
  190                        			leave				; All done!
         1F:CFD7  4C EF FF   			jmp	leave_proc
  191                        	
  192    1F:CFDA  A5 F9      	.regionA:	lda	<_ah			; Scanline (i.e. top).
  193    1F:CFDC  C9 E0      			cmp	#HUCC_SCR_HEIGHT	; Skip if offscreen.
  194    1F:CFDE  B0 31      			bcs	!done+
  195    1F:CFE0  9D 99 27   			sta	sgx_regionA_rcr, x
  196                        	
  197    1F:CFE3  C9 00      			cmp	#0			; Either Y at top of the frame
  198    1F:CFE5  F0 01      			beq	!+			; or Y-1 because the RCR code
  199    1F:CFE7  18         			clc				; sets it on the line before.
  200    1F:CFE8  A5 FC      	!:		lda.l	<_cx
  201    1F:CFEA  E9 00      			sbc	#0
  202    1F:CFEC  9D C9 27   			sta	sgx_regionA_yl, x
  203    1F:CFEF  A5 FD      			lda.h	<_cx
  204    1F:CFF1  E9 00      			sbc	#0
  205    1F:CFF3  9D D9 27   			sta	sgx_regionA_yh, x
  206                        	
  207    1F:CFF6  A5 FA      			lda.l	<_bx
  208    1F:CFF8  9D A9 27   			sta	sgx_regionA_xl, x
  209    1F:CFFB  A5 FB      			lda.h	<_bx
  210    1F:CFFD  9D B9 27   			sta	sgx_regionA_xh, x
  211                        	
  212    1F:D000  A5 FE      			lda	<_dl
  213    1F:D002  29 C0      			and	#$C0			; Flags (mark it as enabled).
  214    1F:D004  09 0C      			ora	#$0C
  215    1F:D006  9D 89 27   			sta	sgx_regionA_crl, x
  216                        	
  217    1F:D009  A9 01      			lda	#1			; Mark that we've changed the
  218    1F:D00B  9D 81 27   			sta	sgx_region_new, x	; selected region.
  219    1F:D00E  9E 79 27   			stz	sgx_region_sel, x
  220                        	
  221    1F:D011  28         	!done:		plp				; Restore interrupts.
  222                        			leave				; All done!
         1F:D012  4C EF FF   			jmp	leave_proc
  223                        	
  224                        			.endp
  225                        	
  226                        		.endif	SUPPORT_SGX
  227                        	
  228                        	
  229                        	
  230                        	; ***************************************************************************
  231                        	; ***************************************************************************
  232                        	;
  233                        	; void __fastcall disable_split( unsigned char index<acc> );
  234                        	; void __fastcall sgx_disable_split( unsigned char index<acc> );
  235                        	;
  236                        	; disable screen scrolling for a scroll region
  237                        	
  238    00:E779             	_disable_split.1:
  239    00:E779  08         			php				; Disable interrupts while
  240    00:E77A  78         			sei				; updating this structure.
  241                        	
  242    00:E77B  C9 08      			cmp	#HUCC_PCE_SPLITS	; Better a hang than a crash!
  243    00:E77D  B0 FE      	.hang:		bcs	.hang
  244    00:E77F  AA         			tax
  245                        	
  246    00:E780  BD F8 26   			lda	vdc_region_sel, x	; Update the parameter copy
  247    00:E783  5D 00 27   			eor	vdc_region_new, x	; that is not displayed now.
  248    00:E786  D0 0D      			bne	.regionA
  249                        	
  250    00:E788  9E 10 27   	.regionB:	stz	vdc_regionB_crl, x	; Region disabled if $00.
  251                        	
  252    00:E78B  A9 01      			lda	#1			; Mark that we've changed the
  253    00:E78D  9D 00 27   			sta	vdc_region_new, x	; selected region.
  254    00:E790  9D F8 26   			sta	vdc_region_sel, x
  255                        	
  256    00:E793  28         			plp				; Restore interrupts.
  257    00:E794  60         			rts
  258                        	
  259    00:E795  9E 08 27   	.regionA:	stz	vdc_regionA_crl, x	; Region disabled if $00.
  260                        	
  261    00:E798  A9 01      			lda	#1			; Mark that we've changed the
  262    00:E79A  9D 00 27   			sta	vdc_region_new, x	; selected region.
  263    00:E79D  9E F8 26   			stz	vdc_region_sel, x
  264                        	
  265    00:E7A0  28         			plp				; Restore interrupts.
  266    00:E7A1  60         			rts
  267                        	
  268               0001     		.if	SUPPORT_SGX
  269                        	
  270    00:E7A2             	_sgx_disable_split.1:
  271    00:E7A2  08         			php				; Disable interrupts while
  272    00:E7A3  78         			sei				; updating this structure.
  273                        	
  274    00:E7A4  C9 08      			cmp	#HUCC_SGX_SPLITS	; Better a hang than a crash!
  275    00:E7A6  B0 FE      	.hang:		bcs	.hang
  276    00:E7A8  AA         			tax
  277                        	
  278    00:E7A9  BD 79 27   			lda	sgx_region_sel, x	; Update the parameter copy
  279    00:E7AC  5D 81 27   			eor	sgx_region_new, x	; that is not displayed now.
  280    00:E7AF  D0 0D      			bne	.regionA
  281                        	
  282    00:E7B1  9E 91 27   	.regionB:	stz	sgx_regionB_crl, x	; Region disabled if $00.
  283                        	
  284    00:E7B4  A9 01      			lda	#1			; Mark that we've changed the
  285    00:E7B6  9D 81 27   			sta	sgx_region_new, x	; selected region.
  286    00:E7B9  9D 79 27   			sta	sgx_region_sel, x
  287                        	
  288    00:E7BC  28         			plp				; Restore interrupts.
  289    00:E7BD  60         			rts
  290                        	
  291    00:E7BE  9E 89 27   	.regionA:	stz	sgx_regionA_crl, x	; Region disabled if $00.
  292                        	
  293    00:E7C1  A9 01      			lda	#1			; Mark that we've changed the
  294    00:E7C3  9D 81 27   			sta	sgx_region_new, x	; selected region.
  295    00:E7C6  9E 79 27   			stz	sgx_region_sel, x
  296                        	
  297    00:E7C9  28         			plp				; Restore interrupts.
  298    00:E7CA  60         			rts
  299                        	
  300                        		.endif	SUPPORT_SGX
  301                        	
  302                        	
  303                        	
  304                        	; ***************************************************************************
  305                        	; ***************************************************************************
  306                        	;
  307                        	; vbl_init_scroll
  308                        	;
  309                        	; From Charles MacDonald's pcetech.txt ...
  310                        	;
  311                        	;  Raster Compare Register (RCR):
  312                        	;
  313                        	;  The range of the RCR is 263 lines, relative to the start of the active
  314                        	;  display period. (defined by VSW, VDS, and VCR) The VDC treats the first
  315                        	;  scanline of the active display period as $0040, so the valid ranges for
  316                        	;  the RCR register are $0040 to $0146.
  317                        	;
  318                        	;  For example, assume VSW=$02, VDS=$17. This positions the first line of
  319                        	;  the active display period at line 25 of the frame. An RCR value of $0040
  320                        	;  (zero) causes an interrupt at line 25, and a value of $0146 (262) causes an
  321                        	;  interrupt at line 24 of the next frame.
  322                        	;
  323                        	;  Any other RCR values that are out of range ($00-$3F, $147-$3FF) will never
  324                        	;  result in a successful line compare.
  325                        	;
  326                        	; Processing time:
  327                        	;
  328                        	; Old HuC rcr_init: 2148 cycles if all 8 regions pre-sorted
  329                        	; Old HuC rcr_init: 4346 cycles if all 8 regions need sorting
  330                        	;
  331                        	; New HuCC vbl_init_scroll:   8 disabled splits:  290 cycles
  332                        	; New HuCC vbl_init_scroll:   8  enabled splits:  384 cycles
  333                        	;
  334                        	; New HuCC vbl_init_scroll:  16 disabled splits:  506 cycles
  335                        	; New HuCC vbl_init_scroll:  16  enabled splits:  672 cycles
  336                        	;
  337                        	; New HuCC vbl_init_scroll:  32 disabled splits:  953 cycles
  338                        	; New HuCC vbl_init_scroll:  32  enabled splits: 1263 cycles
  339                        	;
  340                        	; New HuCC vbl_init_scroll:  64 disabled splits: 1802 cycles
  341                        	; New HuCC vbl_init_scroll:  64  enabled splits: 2400 cycles
  342                        	;
  343                        	; New HuCC vbl_init_scroll: 128 disabled splits: 3530 cycles
  344                        	; New HuCC vbl_init_scroll: 128  enabled splits: 4704 cycles
  345                        	;
  346                        	; Memory used is 16 bytes per scroll per VDC!
  347                        	
  348               26F8     			.bss
  349                        	
  350    F8:26F8             	vdc_region_sel:	.ds	HUCC_PCE_SPLITS		; Use A or B region next frame?
  351    F8:2700             	vdc_region_new:	.ds	HUCC_PCE_SPLITS		; 1 if vdc_region_sel modified.
  352                        	
  353    F8:2708             	vdc_regionA_crl:.ds	HUCC_PCE_SPLITS		; Two copies of each setting
  354    F8:2710             	vdc_regionB_crl:.ds	HUCC_PCE_SPLITS		; HUCC_PCE_SPLITS bytes apart,
  355    F8:2718             	vdc_regionA_rcr:.ds	HUCC_PCE_SPLITS		; one setting for the current
  356    F8:2720             	vdc_regionB_rcr:.ds	HUCC_PCE_SPLITS		; frame, and one setting that
  357    F8:2728             	vdc_regionA_xl:	.ds	HUCC_PCE_SPLITS		; gets modified and then used
  358    F8:2730             	vdc_regionB_xl:	.ds	HUCC_PCE_SPLITS		; on the next frame after the
  359    F8:2738             	vdc_regionA_xh:	.ds	HUCC_PCE_SPLITS		; change is made.
  360    F8:2740             	vdc_regionB_xh:	.ds	HUCC_PCE_SPLITS		; Regions will have different
  361    F8:2748             	vdc_regionA_yl:	.ds	HUCC_PCE_SPLITS		; A or B currently active!
  362    F8:2750             	vdc_regionB_yl:	.ds	HUCC_PCE_SPLITS
  363    F8:2758             	vdc_regionA_yh:	.ds	HUCC_PCE_SPLITS
  364    F8:2760             	vdc_regionB_yh:	.ds	HUCC_PCE_SPLITS
  365                        	
  366    F8:2768             	vdc_next_region:.ds	1			; Linked list of region indexes
  367    F8:2769             	vdc_regionA_nxt:.ds	HUCC_PCE_SPLITS		; for the current frame.
  368    F8:2771             	vdc_regionB_nxt:.ds	HUCC_PCE_SPLITS
  369                        	
  370               0001     		.if	SUPPORT_SGX
  371                        	
  372    F8:2779             	sgx_region_sel:	.ds	HUCC_SGX_SPLITS		; Use A or B region next frame?
  373    F8:2781             	sgx_region_new:	.ds	HUCC_SGX_SPLITS		; 1 if sgx_region_sel modified.
  374                        	
  375    F8:2789             	sgx_regionA_crl:.ds	HUCC_SGX_SPLITS		; Two copies of each setting
  376    F8:2791             	sgx_regionB_crl:.ds	HUCC_SGX_SPLITS		; HUCC_SGX_SPLITS bytes apart,
  377    F8:2799             	sgx_regionA_rcr:.ds	HUCC_SGX_SPLITS		; one setting for the current
  378    F8:27A1             	sgx_regionB_rcr:.ds	HUCC_SGX_SPLITS		; frame, and one setting that
  379    F8:27A9             	sgx_regionA_xl:	.ds	HUCC_SGX_SPLITS		; gets modified and then used
  380    F8:27B1             	sgx_regionB_xl:	.ds	HUCC_SGX_SPLITS		; on the next frame after the
  381    F8:27B9             	sgx_regionA_xh:	.ds	HUCC_SGX_SPLITS		; change is made.
  382    F8:27C1             	sgx_regionB_xh:	.ds	HUCC_SGX_SPLITS		; Regions will have different
  383    F8:27C9             	sgx_regionA_yl:	.ds	HUCC_SGX_SPLITS		; A or B currently active!
  384    F8:27D1             	sgx_regionB_yl:	.ds	HUCC_SGX_SPLITS
  385    F8:27D9             	sgx_regionA_yh:	.ds	HUCC_SGX_SPLITS
  386    F8:27E1             	sgx_regionB_yh:	.ds	HUCC_SGX_SPLITS
  387                        	
  388    F8:27E9             	sgx_next_region:.ds	1			; Linked list of region indexes
  389    F8:27EA             	sgx_regionA_nxt:.ds	HUCC_SGX_SPLITS		; for the current frame.
  390    F8:27F2             	sgx_regionB_nxt:.ds	HUCC_SGX_SPLITS
  391                        	
  392                        		.endif
  393                        	
  394               E7CB     			.code
  395                        	
  396    1F:D015             	vbl_init_scroll	.proc
  397                        	
  398    1F:D015  62         			cla				; A = previous active index
  399    1F:D016  A2 08      			ldx	#HUCC_PCE_SPLITS	; so $00 for end-of-screen.
  400                        	
  401    1F:D018  18         			clc				; For regionB indexes.
  402                        	
  403    1F:D019  CA         	!next_region:	dex				; All regions updated?
  404    1F:D01A  30 20      			bmi	!save_first+
  405                        	
  406    1F:D01C  9E 00 27   			stz	vdc_region_new, x	; Clear region modified flag.
  407                        	
  408    1F:D01F  BC F8 26   			ldy	vdc_region_sel, x	; 0=regionA or 1=regionB.
  409    1F:D022  F0 0D      			beq	!use_regionA+
  410                        	
  411    1F:D024  BC 10 27   	!use_regionB:	ldy	vdc_regionB_crl, x	; Region disabled if $00.
  412    1F:D027  F0 F0      			beq	!next_region-
  413    1F:D029  9D 71 27   			sta	vdc_regionB_nxt, x	; Save index of next region.
  414    1F:D02C  8A         			txa				; A = current region index.
  415    1F:D02D  69 08      			adc	#HUCC_PCE_SPLITS	; Always leaves CC!
  416    1F:D02F  80 E8      			bra	!next_region-
  417                        	
  418    1F:D031  BC 08 27   	!use_regionA:	ldy	vdc_regionA_crl, x	; Region disabled if $00.
  419    1F:D034  F0 E3      			beq	!next_region-
  420    1F:D036  9D 69 27   			sta	vdc_regionA_nxt, x	; Save index of next region.
  421    1F:D039  8A         			txa				; A = current region index.
  422    1F:D03A  80 DD      			bra	!next_region-
  423                        	
  424    1F:D03C  8D 68 27   	!save_first:	sta	vdc_next_region		; Save index of 1st region.
  425                        	
  426    1F:D03F  AA         			tax				; NZ if first active region
  427    1F:D040  D0 03      			bne	!init_first+		; is not region 0.
  428    1F:D042  98         			tya				; NZ if region 0 is active.
  429    1F:D043  F0 0F      			beq	!+			; If no active leave RCR=0.
  430                        	
  431    1F:D045  A9 06      	!init_first:	lda	#VDC_RCR		; 1st RCR always happens just
  432    1F:D047  8D 00 02   			sta	VDC_AR			; before the display starts.
  433    1F:D04A  A9 44      			lda.l	#HUCC_1ST_RCR
  434    1F:D04C  8D 02 02   			sta	VDC_DL
  435    1F:D04F  A9 01      			lda.h	#HUCC_1ST_RCR
  436    1F:D051  8D 03 02   			sta	VDC_DH
  437                        	
  438               0001     		.if	SUPPORT_SGX
  439                        	
  440    1F:D054  62         	!:		cla				; A = previous active index
  441    1F:D055  A2 08      			ldx	#HUCC_SGX_SPLITS	; so $00 for end-of-screen.
  442                        	
  443    1F:D057  18         			clc				; For regionB indexes.
  444                        	
  445    1F:D058  CA         	!next_region:	dex				; All regions updated?
  446    1F:D059  30 20      			bmi	!save_first+
  447                        	
  448    1F:D05B  9E 81 27   			stz	sgx_region_new, x	; Clear region modified flag.
  449                        	
  450    1F:D05E  BC 79 27   			ldy	sgx_region_sel, x	; 0=regionA or 1=regionB.
  451    1F:D061  F0 0D      			beq	!use_regionA+
  452                        	
  453    1F:D063  BC 91 27   	!use_regionB:	ldy	sgx_regionB_crl, x	; Region disabled if $00.
  454    1F:D066  F0 F0      			beq	!next_region-
  455    1F:D068  9D F2 27   			sta	sgx_regionB_nxt, x	; Save index of next region.
  456    1F:D06B  8A         			txa				; A = current region index.
  457    1F:D06C  69 08      			adc	#HUCC_SGX_SPLITS	; Always leaves CC!
  458    1F:D06E  80 E8      			bra	!next_region-
  459                        	
  460    1F:D070  BC 89 27   	!use_regionA:	ldy	sgx_regionA_crl, x	; Region disabled if $00.
  461    1F:D073  F0 E3      			beq	!next_region-
  462    1F:D075  9D EA 27   			sta	sgx_regionA_nxt, x	; Save index of next region.
  463    1F:D078  8A         			txa				; A = current region index.
  464    1F:D079  80 DD      			bra	!next_region-
  465                        	
  466    1F:D07B  8D E9 27   	!save_first:	sta	sgx_next_region		; Save index of 1st region.
  467                        	
  468    1F:D07E  AA         			tax				; NZ if first active region
  469    1F:D07F  D0 03      			bne	!init_first+		; is not region 0.
  470    1F:D081  98         			tya				; NZ if region 0 is active.
  471    1F:D082  F0 0F      			beq	!+			; If no active leave RCR=0.
  472                        	
  473    1F:D084  A9 06      	!init_first:	lda	#VDC_RCR		; 1st RCR always happens just
  474    1F:D086  8D 10 02   			sta	SGX_AR			; before the display starts.
  475    1F:D089  A9 44      			lda.l	#HUCC_1ST_RCR
  476    1F:D08B  8D 12 02   			sta	SGX_DL
  477    1F:D08E  A9 01      			lda.h	#HUCC_1ST_RCR
  478    1F:D090  8D 13 02   			sta	SGX_DH
  479                        	
  480                        		.endif	SUPPORT_SGX
  481                        	
  482                        	!:		leave				; All done!
         1F:D093  4C EF FF   			jmp	leave_proc
  483                        	
  484                        			.endp
  485                        	
  486                        	
  487                        	
  488               0001     		.if	SUPPORT_SGX
  489                        	
  490                        	; ***************************************************************************
  491                        	; ***************************************************************************
  492                        	;
  493                        	; VDC_RCR_MACRO and SGX_RCR_MACRO
  494                        	;
  495                        	; A 16-byte TIA takes 142..234 cycles in 5MHz, 128..200 cycles in 7MHz.
  496                        	; A 32-byte TIA takes 270..364 cycles in 5MHz, 242..312 cycles in 7MHz. (527 DUO)
  497                        	;
  498                        	; You need to write the last RCR setting within 540 cycles in order to catch
  499                        	; the next line (at 256/336/512 resolution).
  500                        	;
  501                        	; That gives 305 cycles from the RCR to write the last setting, or there
  502                        	; will be a visible glitch on the screen.
  503                        	
  504               0000     		.ifndef	USING_RCR_MACROS
  506                        		.endif
  507                        	
  508                        	;		;;;				; 8 (cycles for the INT)
  509                        	;		bbs1	<irq_vec, .hook		; 8
  510                        	;		jmp	[irq1_hook]		; 7
  511                        	
  512                        	;		;;;				; 8 (cycles for the INT)
  513                        	;		jmp	irq1_handler		; 4
  514                        	
  515                        	;irq1_handler:	pha				; 3 Save all registers.
  516                        	;		phx				; 3
  517                        	;		phy				; 3
  518                        	;
  519                        	;		lda	VDC_SR			; 6 Acknowledge the VDC's IRQ.
  520                        	;		sta	<vdc_sr			; 4 Remember what caused it.
  521                        	;
  522                        	;		ldx	SGX_SR			; 6 Read SGX_SR after VDC_SR in
  523                        	;		stx	<sgx_sr			; 4 case this is not an SGX!
  524                        	;
  525                        	;!:		and	#$04			; 2 Is this an HSYNC interrupt?
  526                        	;		beq	!+			; 2
  527                        	
  528                        			.macro	VDC_RCR_MACRO
  529                        	
  530                        			st0	#VDC_RCR		; 5
  531                        	
  532                        			ldx	vdc_next_region		; 5 X and Y can be greater than
  533                        			ldy	vdc_regionA_nxt, x	; 5 HUCC_PCE_SPLITS if regionB!
  534                        			clc				; 2
  535                        			bne	!set_next_rcr+		; 4 Stop RCR if next line is 0.
  536                        	
  537                        			and	const_0000		; 5 A=$00 with the same #cycles
  538                        			bra	!clr_next_rcr+		; 4 as if the branch were taken.
  539                        	
  540                        	!set_next_rcr:	lda	vdc_regionA_rcr, y	; 5 Set next RCR 1 line before
  541                        			adc	#64-1			; 2 the region begins, or 0 to
  542                        	!clr_next_rcr:	sta	VDC_DL			; 6 disable.
  543                        			cla				; 2
  544                        			rol	a			; 2
  545                        			sta	VDC_DH			; 6
  546                        	
  547                        			st0	#VDC_BYR		; 5 Do BYR first to mitigate the
  548                        			lda	vdc_regionA_yl, x	; 5 glitch if the IRQ is delayed.
  549                        			sta	VDC_DL			; 6 = 105 cycles from RCR on SGX
  550                        			lda	vdc_regionA_yh, x	; 5
  551                        			sta	VDC_DH			; 6
  552                        	
  553                        			st0	#VDC_CR			; 5
  554                        			lda	vdc_regionA_crl, x	; 5
  555                        	;		asl	a
  556                        			sta	VDC_DL			; 6
  557                        	
  558                        			st0	#VDC_BXR		; 2
  559                        			lda	vdc_regionA_xl, x	; 5
  560                        			sta	VDC_DL			; 6
  561                        			lda	vdc_regionA_xh, x	; 5
  562                        			sta	VDC_DH			; 6 = 156 cycles from RCR if DUO
  563                        	
  564                        	;		bcc	!+
  565                        	;		lda	vdc_regionA_yh, x	; 5
  566                        	;		sta.l	VCE_CTW			; 6
  567                        	
  568                        			sty	vdc_next_region		; 5
  569                        	
  570                        			.endm
  571                        	
  572                        	;!:		bbr2	<sgx_sr, !+		; 6 Is this an HSYNC interrupt?
  573                        	
  574                        			.macro	SGX_RCR_MACRO
  575                        	
  576                        			lda	#VDC_RCR		; 2
  577                        			sta	SGX_AR			; 6
  578                        	
  579                        			ldx	sgx_next_region		; 5 X and Y can be greater than
  580                        			ldy	sgx_regionA_nxt, x	; 5 HUCC_SGX_SPLITS if regionB!
  581                        			clc				; 2
  582                        			bne	!set_next_rcr+		; 4 Stop RCR if next line is 0.
  583                        	
  584                        			and	const_0000		; 5 A=$00 with the same #cycles
  585                        			bra	!clr_next_rcr+		; 4 as if the branch were taken.
  586                        	
  587                        	!set_next_rcr:	lda	sgx_regionA_rcr, y	; 5 Set next RCR 1 line before
  588                        			adc	#64-1			; 2 the region begins, or 0 to
  589                        	!clr_next_rcr:	sta	SGX_DL			; 6 disable.
  590                        			cla				; 2
  591                        			rol	a			; 2
  592                        			sta	SGX_DH			; 6
  593                        	
  594                        			lda	#VDC_BYR		; 2 Do BYR first to mitigate the
  595                        			sta	SGX_AR			; 6 glitch if the IRQ is delayed.
  596                        			lda	sgx_regionA_yl, x	; 5
  597                        			sta	SGX_DL			; 6
  598                        			lda	sgx_regionA_yh, x	; 5
  599                        			sta	SGX_DH			; 6
  600                        	
  601                        			lda	#VDC_CR			; 2
  602                        			sta	SGX_AR			; 6
  603                        			lda	sgx_regionA_crl, x	; 5
  604                        			sta	SGX_DL			; 6
  605                        	
  606                        			lda	#VDC_BXR		; 2
  607                        			sta	SGX_AR			; 6
  608                        			lda	sgx_regionA_xl, x	; 5
  609                        			sta	SGX_DL			; 6
  610                        			lda	sgx_regionA_xh, x	; 5
  611                        			sta	SGX_DH			; 6 = 293 cycles (282 if no YH)
  612                        	
  613                        			sty	sgx_next_region		; 5
  614                        	
  615                        			.endm
  616                        	
  617                        		.else	SUPPORT_SGX
  697                        		.endif	SUPPORT_SGX
                             #[2]   "..\..\..\include\hucc\hucc-final.asm"
   65                        		.else
   69                        		.endif	HUCC_USES_NEW_SCROLL
   70                        	
   71               0001     		.ifdef	HUCC_USES_OLD_SPR		; Set in hucc_old_spr.h
                             #[3]   "..\..\..\include\hucc\hucc-old-spr.asm"
   72                        			include	"hucc-old-spr.asm"
    1                        	; ***************************************************************************
    2                        	; ***************************************************************************
    3                        	;
    4                        	; hucc-old-spr.asm
    5                        	;
    6                        	; Based on the original HuC and MagicKit functions by David Michel and the
    7                        	; other original HuC developers.
    8                        	;
    9                        	; Modifications copyright John Brandwood 2024.
   10                        	;
   11                        	; Distributed under the Boost Software License, Version 1.0.
   12                        	; (See accompanying file LICENSE_1_0.txt or copy at
   13                        	;  http://www.boost.org/LICENSE_1_0.txt)
   14                        	;
   15                        	; ***************************************************************************
   16                        	; ***************************************************************************
   17                        	
   18                        	;
   19                        	; Include dependancies ...
   20                        	;
   21                        	
   22                        			include "common.asm"		; Common helpers.
   23                        			include "vce.asm"		; Useful VCE routines.
   24                        			include "vdc.asm"		; Useful VCE routines.
   25                        	
   26                        	
   27                        	
   28                        	; ***************************************************************************
   29                        	; ***************************************************************************
   30                        	;
   31                        	; HuC Sprite Functions
   32                        	;
   33                        	; ***************************************************************************
   34                        	; ***************************************************************************
   35                        	
   36               209C     			.zp
   37    F8:209C             	spr_ptr:	ds	2
   38               27FA     			.bss
   39    F8:27FA             	spr_sat:	ds	512
   40               E7CB     			.code
   41                        	
   42               0001     		.if	SUPPORT_SGX
   43               209E     			.zp
   44    F8:209E             	sgx_spr_ptr:	ds	2
   45               29FA     			.bss
   46    F8:29FA             	sgx_spr_sat:	ds	512	; N.B. Directly after spr_sat!
   47               E7CB     			.code
   48                        		.endif
   49                        	
   50                        	; Moved to hucc-old-map.asm just to save space. This NEEDS to be changed!
   51                        	;
   52                        	;		.bss
   53                        	;spr_max:	ds	1
   54                        	;spr_clr:	ds	1
   55                        	;	.if	SUPPORT_SGX
   56                        	;sgx_spr_max:	ds	1
   57                        	;sgx_spr_clr:	ds	1
   58                        	;	.endif
   59                        	;		.code
   60                        	
   61                        	
   62                        	
   63                        	; ***************************************************************************
   64                        	; ***************************************************************************
   65                        	;
   66                        	; void __fastcall init_satb( void );
   67                        	; void __fastcall reset_satb( void );
   68                        	;
   69                        	; void __fastcall sgx_init_satb( void );
   70                        	; void __fastcall sgx_reset_satb( void );
   71                        	
   72    00:E7CB             	_reset_satb:
   73    00:E7CB  C2         	_init_satb:	cly
   74    00:E7CC  62         			cla
   75    00:E7CD  99 FA 27   	!:		sta	spr_sat + $0000, y
   76    00:E7D0  99 FA 28   			sta	spr_sat + $0100, y
   77    00:E7D3  C8         			iny
   78    00:E7D4  D0 F7      			bne	!-
   79    00:E7D6  8C CE 26   			sty	spr_max
   80    00:E7D9  C8         			iny
   81    00:E7DA  8C CF 26   			sty	spr_clr
   82    00:E7DD  60         			rts
   83                        	
   84               0001     		.if	SUPPORT_SGX
   85    00:E7DE             	_sgx_reset_satb:
   86    00:E7DE  C2         	_sgx_init_satb:	cly
   87    00:E7DF  62         			cla
   88    00:E7E0  99 FA 29   	!:		sta	sgx_spr_sat + $0000, y
   89    00:E7E3  99 FA 2A   			sta	sgx_spr_sat + $0100, y
   90    00:E7E6  C8         			iny
   91    00:E7E7  D0 F7      			bne	!-
   92    00:E7E9  8C DE 26   			sty	sgx_spr_max
   93    00:E7EC  C8         			iny
   94    00:E7ED  8C DF 26   			sty	sgx_spr_clr
   95    00:E7F0  60         			rts
   96                        		.endif
   97                        	
   98                        	
   99                        	
  100                        	; ***************************************************************************
  101                        	; ***************************************************************************
  102                        	;
  103                        	; void __fastcall satb_update( void );
  104                        	; void __fastcall sgx_satb_update( void );
  105                        	
  106    1F:D2B7             	old_satb_group	.procgroup
  107                        	
  108               0001     		.if	SUPPORT_SGX
  109    1F:D2B7             			.proc	_sgx_satb_update
  110                        	
  111    1F:D2B7  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
  112    1F:D2B9  F0         			db	$F0			; Turn "clx" into a "beq".
  113                        	
  114    1F:D2BA             			.ref	_satb_update
  115                        			.endp
  116                        		.endif
  117                        	
  118    1F:D2BA             			.proc	_satb_update
  119                        	
  120    1F:D2BA  82         			clx				; Offset to PCE VDC.
  121                        	
  122    1F:D2BB  A9 7F      			lda.h	#$7F00			; HuC puts the SAT here in VRAM
  123                        	;		lda.h	#$0800			; but we put it here instead
  124    1F:D2BD  64 F0      			stz.l	<_di
  125    1F:D2BF  85 F1      			sta.h	<_di
  126    1F:D2C1  20 93 E3   			jsr	set_di_to_mawr
  127                        	
  128               0001     		.if	SUPPORT_SGX
  129    1F:D2C4  8A         			txa				; Select which VDC to write
  130    1F:D2C5  1A         			inc	a			; to.
  131    1F:D2C6  1A         			inc	a
  132    1F:D2C7  8D F3 22   			sta.l	ram_tia_dst
  133                        		.endif
  134                        	
  135    1F:D2CA  A9 10      			lda	#VRAM_XFER_SIZE		; Split into 16-byte chunks
  136    1F:D2CC  8D F5 22   			sta.l	ram_tia_len		; for stable IRQ response.
  137                        	
  138    1F:D2CF  BC CE 26   			ldy	spr_max, x		; Highest sprite that was set.
  139    1F:D2D2  C8         			iny
  140                        	
  141    1F:D2D3  BD CF 26   			lda	spr_clr, x
  142    1F:D2D6  F0 05      			beq	!+
  143    1F:D2D8  9E CF 26   			stz	spr_clr, x
  144    1F:D2DB  A0 40      			ldy	#64
  145                        	
  146    1F:D2DD  98         	!:		tya
  147    1F:D2DE  F0 22      			beq	.exit
  148                        	
  149    1F:D2E0  3A         			dec	a			; round up to the next group of 2 sprites
  150    1F:D2E1  4A         			lsr	a
  151               0000     		.if	VRAM_XFER_SIZE == 32
  153                        		.endif
  154    1F:D2E2  1A         			inc	a
  155    1F:D2E3  A8         			tay
  156                        	
  157    1F:D2E4  A9 27      			lda.h	#spr_sat
  158                        	
  159               0001     		.if	SUPPORT_SGX
  160    1F:D2E6  E0 00      			cpx	#0
  161    1F:D2E8  F0 02      			beq	!+
  162                        	
  163    1F:D2EA  A9 29      			lda.h	#sgx_spr_sat
  164                        		.endif
  165                        	
  166    1F:D2EC  8D F2 22   	!:		sta.h	ram_tia_src
  167                        	
  168    1F:D2EF  A9 FA      			lda.l	#spr_sat		; Same for SGX and PCE!
  169    1F:D2F1  8D F1 22   	.chunk_loop:	sta.l	ram_tia_src
  170                        	
  171    1F:D2F4  20 F0 22   			jsr	ram_tia			; transfer 16-bytes
  172                        	
  173    1F:D2F7  18         			clc				; increment source
  174    1F:D2F8  69 10      			adc	#VRAM_XFER_SIZE
  175    1F:D2FA  90 03      			bcc	.same_page
  176    1F:D2FC  EE F2 22   			inc.h	ram_tia_src
  177                        	
  178    1F:D2FF  88         	.same_page:	dey
  179    1F:D300  D0 EF      			bne	.chunk_loop
  180                        	
  181                        	.exit:		leave
         1F:D302  4C EF FF   			jmp	leave_proc
  182                        	
  183                        			.endp
  184                        	
  185                        			.endprocgroup	; old_satb_group
  186                        	
  187                        	
  188                        	
  189                        	; ***************************************************************************
  190                        	; ***************************************************************************
  191                        	;
  192                        	; void __fastcall spr_set( unsigned char num<acc> );
  193                        	
  194    00:E7F1  CD CE 26   	_spr_set.1:	cmp	spr_max
  195    00:E7F4  90 03      			bcc	!+
  196    00:E7F6  8D CE 26   			sta	spr_max
  197    00:E7F9  A0 27      	!:		ldy.h	#spr_sat
  198    00:E7FB  0A         			asl	a
  199    00:E7FC  0A         			asl	a
  200    00:E7FD  0A         			asl	a
  201    00:E7FE  90 02      			bcc	!+
  202    00:E800  C8         			iny
  203    00:E801  18         			clc
  204    00:E802  69 FA      	!:		adc.l	#spr_sat
  205    00:E804  85 9C      			sta.l	<spr_ptr
  206    00:E806  90 01      			bcc	!+
  207    00:E808  C8         			iny
  208    00:E809  84 9D      	!:		sty.h	<spr_ptr
  209    00:E80B  60         			rts
  210                        	
  211                        	
  212                        	
  213                        	; ***************************************************************************
  214                        	; ***************************************************************************
  215                        	;
  216                        	; void __fastcall spr_hide( void );
  217                        	
  218    00:E80C  A0 01      	_spr_hide:	ldy	#1
  219    00:E80E  B1 9C      			lda	[spr_ptr], y
  220    00:E810  09 02      			ora	#2
  221    00:E812  91 9C      			sta	[spr_ptr], y
  222    00:E814  60         			rts
  223                        	
  224                        	
  225                        	
  226                        	; ***************************************************************************
  227                        	; ***************************************************************************
  228                        	;
  229                        	; void __fastcall spr_show( void );
  230                        	
  231    00:E815  A0 01      	_spr_show:	ldy	#1
  232    00:E817  B1 9C      			lda	[spr_ptr], y
  233    00:E819  29 01      			and	#1
  234    00:E81B  91 9C      			sta	[spr_ptr], y
  235    00:E81D  60         			rts
  236                        	
  237                        	
  238                        	
  239                        	; ***************************************************************************
  240                        	; ***************************************************************************
  241                        	;
  242                        	; void __fastcall spr_x( unsigned int value<acc> );
  243                        	
  244    00:E81E  02         	_spr_x.1:	sxy
  245    00:E81F  18         			clc
  246    00:E820  69 20      			adc	#32
  247    00:E822  A0 02      			ldy	#2
  248    00:E824  91 9C      			sta	[spr_ptr], y
  249    00:E826  8A         			txa
  250    00:E827  69 00      			adc	#0
  251    00:E829  C8         			iny
  252    00:E82A  91 9C      			sta	[spr_ptr], y
  253    00:E82C  60         			rts
  254                        	
  255                        	
  256                        	
  257                        	; ***************************************************************************
  258                        	; ***************************************************************************
  259                        	;
  260                        	; void __fastcall spr_y( unsigned int value<acc> );
  261                        	
  262    00:E82D  18         	_spr_y.1:	clc
  263    00:E82E  69 40      			adc	#64
  264    00:E830  92 9C      			sta	[spr_ptr]
  265    00:E832  98         			tya
  266    00:E833  69 00      			adc	#0
  267    00:E835  A0 01      			ldy	#1
  268    00:E837  91 9C      			sta	[spr_ptr], y
  269    00:E839  60         			rts
  270                        			
  271                        	
  272                        	
  273                        	; ***************************************************************************
  274                        	; ***************************************************************************
  275                        	;
  276                        	; void __fastcall spr_pattern( unsigned int vaddr<acc> );
  277                        	
  278    00:E83A  84 00      	_spr_pattern.1:	sty	<__temp		;     zp=fedcba98 a=76543210
  279    00:E83C  0A         			asl	a		; c=f zp=edcba987 a=6543210_
  280    00:E83D  26 00      			rol	<__temp
  281    00:E83F  2A         			rol	a		; c=e zp=dcba9876 a=543210_f
  282    00:E840  26 00      			rol	<__temp
  283    00:E842  2A         			rol	a		; c=d zp=cba98765 a=43210_fe
  284    00:E843  26 00      			rol	<__temp
  285    00:E845  2A         			rol	a		; c=4 zp=cba98765 a=3210_fed
  286    00:E846  A0 05      			ldy	#5
  287    00:E848  91 9C      			sta	[spr_ptr], y
  288    00:E84A  A5 00      			lda	<__temp
  289    00:E84C  88         			dey
  290    00:E84D  91 9C      			sta	[spr_ptr], y
  291    00:E84F  60         			rts
  292                        	
  293                        	
  294                        	
  295                        	; ***************************************************************************
  296                        	; ***************************************************************************
  297                        	;
  298                        	; void __fastcall spr_ctrl( unsigned char mask<_al>, unsigned char value<acc> );
  299                        	
  300    00:E850  25 F8      	_spr_ctrl.2:	and	<_al
  301    00:E852  85 00      			sta	<__temp
  302    00:E854  A5 F8      			lda	<_al
  303    00:E856  49 FF      			eor	#$FF
  304    00:E858  A0 07      			ldy	#7
  305    00:E85A  31 9C      			and	[spr_ptr], y
  306    00:E85C  05 00      			ora	<__temp
  307    00:E85E  91 9C      			sta	[spr_ptr], y
  308    00:E860  60         			rts
  309                        	
  310                        	
  311                        	
  312                        	; ***************************************************************************
  313                        	; ***************************************************************************
  314                        	;
  315                        	; void __fastcall spr_pal( unsigned char palette<acc> )
  316                        	
  317    00:E861  29 0F      	_spr_pal.1:	and	#$0F
  318    00:E863  85 00      			sta	<__temp
  319    00:E865  A0 06      			ldy	#6
  320    00:E867  B1 9C      			lda	[spr_ptr], y
  321    00:E869  29 F0      			and	#$F0
  322    00:E86B  05 00      			ora	<__temp
  323    00:E86D  91 9C      			sta	[spr_ptr], y
  324    00:E86F  60         			rts
  325                        	
  326                        	
  327                        	
  328                        	; ***************************************************************************
  329                        	; ***************************************************************************
  330                        	;
  331                        	; void __fastcall spr_pri( unsigned char priority<acc> )
  332                        	
  333    00:E870  C9 01      	_spr_pri.1:	cmp	#1
  334    00:E872  A0 06      			ldy	#6
  335    00:E874  B1 9C      			lda	[spr_ptr], y
  336    00:E876  29 7F      			and	#$7F
  337    00:E878  90 02      			bcc	!+
  338    00:E87A  09 80      			ora	#$80
  339    00:E87C  91 9C      	!:		sta	[spr_ptr], y
  340    00:E87E  60         			rts
  341                        	
  342                        	
  343                        	
  344                        	; ***************************************************************************
  345                        	; ***************************************************************************
  346                        	;
  347                        	; unsigned int __fastcall spr_get_x( void );
  348                        	
  349    00:E87F  38         	_spr_get_x:	sec
  350    00:E880  A0 02      			ldy	#2
  351    00:E882  B1 9C      			lda	[spr_ptr], y
  352    00:E884  E9 20      			sbc	#32
  353    00:E886  AA         			tax
  354    00:E887  C8         			iny
  355    00:E888  B1 9C      			lda	[spr_ptr], y
  356    00:E88A  E9 00      			sbc	#0
  357    00:E88C  A8         			tay
  358    00:E88D  8A         			txa
  359    00:E88E  60         			rts
  360                        	
  361                        	
  362                        	
  363                        	; ***************************************************************************
  364                        	; ***************************************************************************
  365                        	;
  366                        	; unsigned int __fastcall spr_get_y( void );
  367                        	
  368    00:E88F  38         	_spr_get_y:	sec
  369    00:E890  B2 9C      			lda	[spr_ptr]
  370    00:E892  E9 40      			sbc	#64
  371    00:E894  AA         			tax
  372    00:E895  A0 01      			ldy	#1
  373    00:E897  B1 9C      			lda	[spr_ptr], y
  374    00:E899  E9 00      			sbc	#0
  375    00:E89B  A8         			tay
  376    00:E89C  8A         			txa
  377    00:E89D  60         			rts
  378                        	
  379                        	
  380                        	
  381               0001     		.if	SUPPORT_SGX
  382                        	
  383                        	; ***************************************************************************
  384                        	; ***************************************************************************
  385                        	;
  386                        	; void __fastcall sgx_spr_set( unsigned char num<acc> );
  387                        	
  388    00:E89E  CD DE 26   	_sgx_spr_set.1:	cmp	sgx_spr_max
  389    00:E8A1  90 03      			bcc	!+
  390    00:E8A3  8D DE 26   			sta	sgx_spr_max
  391    00:E8A6  A0 29      	!:		ldy.h	#sgx_spr_sat
  392    00:E8A8  0A         			asl	a
  393    00:E8A9  0A         			asl	a
  394    00:E8AA  0A         			asl	a
  395    00:E8AB  90 02      			bcc	!+
  396    00:E8AD  C8         			iny
  397    00:E8AE  18         			clc
  398    00:E8AF  69 FA      	!:		adc.l	#sgx_spr_sat
  399    00:E8B1  85 9E      			sta.l	<sgx_spr_ptr
  400    00:E8B3  90 01      			bcc	!+
  401    00:E8B5  C8         			iny
  402    00:E8B6  84 9F      	!:		sty.h	<sgx_spr_ptr
  403    00:E8B8  60         			rts
  404                        	
  405                        	
  406                        	
  407                        	; ***************************************************************************
  408                        	; ***************************************************************************
  409                        	;
  410                        	; void __fastcall sgx_spr_hide( void );
  411                        	
  412    00:E8B9  A0 01      	_sgx_spr_hide:	ldy	#1
  413    00:E8BB  B1 9E      			lda	[sgx_spr_ptr], y
  414    00:E8BD  09 02      			ora	#2
  415    00:E8BF  91 9E      			sta	[sgx_spr_ptr], y
  416    00:E8C1  60         			rts
  417                        	
  418                        	
  419                        	
  420                        	; ***************************************************************************
  421                        	; ***************************************************************************
  422                        	;
  423                        	; void __fastcall sgx_spr_show( void );
  424                        	
  425    00:E8C2  A0 01      	_sgx_spr_show:	ldy	#1
  426    00:E8C4  B1 9E      			lda	[sgx_spr_ptr], y
  427    00:E8C6  29 01      			and	#1
  428    00:E8C8  91 9E      			sta	[sgx_spr_ptr], y
  429    00:E8CA  60         			rts
  430                        	
  431                        	
  432                        	
  433                        	; ***************************************************************************
  434                        	; ***************************************************************************
  435                        	;
  436                        	; void __fastcall sgx_spr_x( unsigned int value<acc> );
  437                        	
  438    00:E8CB  02         	_sgx_spr_x.1:	sxy
  439    00:E8CC  18         			clc
  440    00:E8CD  69 20      			adc	#32
  441    00:E8CF  A0 02      			ldy	#2
  442    00:E8D1  91 9E      			sta	[sgx_spr_ptr], y
  443    00:E8D3  8A         			txa
  444    00:E8D4  69 00      			adc	#0
  445    00:E8D6  C8         			iny
  446    00:E8D7  91 9E      			sta	[sgx_spr_ptr], y
  447    00:E8D9  60         			rts
  448                        	
  449                        	
  450                        	
  451                        	; ***************************************************************************
  452                        	; ***************************************************************************
  453                        	;
  454                        	; void __fastcall sgx_spr_y( unsigned int value<acc> );
  455                        	
  456    00:E8DA  18         	_sgx_spr_y.1:	clc
  457    00:E8DB  69 40      			adc	#64
  458    00:E8DD  92 9E      			sta	[sgx_spr_ptr]
  459    00:E8DF  98         			tya
  460    00:E8E0  69 00      			adc	#0
  461    00:E8E2  A0 01      			ldy	#1
  462    00:E8E4  91 9E      			sta	[sgx_spr_ptr], y
  463    00:E8E6  60         			rts
  464                        			
  465                        	
  466                        	
  467                        	; ***************************************************************************
  468                        	; ***************************************************************************
  469                        	;
  470                        	; void __fastcall sgx_spr_pattern( unsigned int vaddr<acc> );
  471                        	
  472    00:E8E7             	_sgx_spr_pattern.1:
  473    00:E8E7  84 00      			sty	<__temp		;     zp=fedcba98 a=76543210
  474    00:E8E9  0A         			asl	a		; c=f zp=edcba987 a=6543210_
  475    00:E8EA  26 00      			rol	<__temp
  476    00:E8EC  2A         			rol	a		; c=e zp=dcba9876 a=543210_f
  477    00:E8ED  26 00      			rol	<__temp
  478    00:E8EF  2A         			rol	a		; c=d zp=cba98765 a=43210_fe
  479    00:E8F0  26 00      			rol	<__temp
  480    00:E8F2  2A         			rol	a		; c=4 zp=cba98765 a=3210_fed
  481    00:E8F3  A0 05      			ldy	#5
  482    00:E8F5  91 9E      			sta	[sgx_spr_ptr], y
  483    00:E8F7  A5 00      			lda	<__temp
  484    00:E8F9  88         			dey
  485    00:E8FA  91 9E      			sta	[sgx_spr_ptr], y
  486    00:E8FC  60         			rts
  487                        	
  488                        	
  489                        	
  490                        	; ***************************************************************************
  491                        	; ***************************************************************************
  492                        	;
  493                        	; void __fastcall sgx_spr_ctrl( unsigned char mask<_al>, unsigned char value<acc> );
  494                        	
  495    00:E8FD  25 F8      	_sgx_spr_ctrl.2:and	<_al
  496    00:E8FF  85 00      			sta	<__temp
  497    00:E901  A5 F8      			lda	<_al
  498    00:E903  49 FF      			eor	#$FF
  499    00:E905  A0 07      			ldy	#7
  500    00:E907  31 9E      			and	[sgx_spr_ptr], y
  501    00:E909  05 00      			ora	<__temp
  502    00:E90B  91 9E      			sta	[sgx_spr_ptr], y
  503    00:E90D  60         			rts
  504                        	
  505                        	
  506                        	
  507                        	; ***************************************************************************
  508                        	; ***************************************************************************
  509                        	;
  510                        	; void __fastcall sgx_spr_pal( unsigned char palette<acc> )
  511                        	
  512    00:E90E  29 0F      	_sgx_spr_pal.1:	and	#$0F
  513    00:E910  85 00      			sta	<__temp
  514    00:E912  A0 06      			ldy	#6
  515    00:E914  B1 9E      			lda	[sgx_spr_ptr], y
  516    00:E916  29 F0      			and	#$F0
  517    00:E918  05 00      			ora	<__temp
  518    00:E91A  91 9E      			sta	[sgx_spr_ptr], y
  519    00:E91C  60         			rts
  520                        	
  521                        	
  522                        	
  523                        	; ***************************************************************************
  524                        	; ***************************************************************************
  525                        	;
  526                        	; void __fastcall sgx_spr_pri( unsigned char priority<acc> )
  527                        	
  528    00:E91D  C9 01      	_sgx_spr_pri.1:	cmp	#1
  529    00:E91F  A0 06      			ldy	#6
  530    00:E921  B1 9E      			lda	[sgx_spr_ptr], y
  531    00:E923  29 7F      			and	#$7F
  532    00:E925  90 02      			bcc	!+
  533    00:E927  09 80      			ora	#$80
  534    00:E929  91 9E      	!:		sta	[sgx_spr_ptr], y
  535    00:E92B  60         			rts
  536                        	
  537                        	
  538                        	
  539                        	; ***************************************************************************
  540                        	; ***************************************************************************
  541                        	;
  542                        	; unsigned int __fastcall sgx_spr_get_x( void );
  543                        	
  544    00:E92C  38         	_sgx_spr_get_x:	sec
  545    00:E92D  A0 02      			ldy	#2
  546    00:E92F  B1 9E      			lda	[sgx_spr_ptr], y
  547    00:E931  E9 20      			sbc	#32
  548    00:E933  AA         			tax
  549    00:E934  C8         			iny
  550    00:E935  B1 9E      			lda	[sgx_spr_ptr], y
  551    00:E937  E9 00      			sbc	#0
  552    00:E939  A8         			tay
  553    00:E93A  8A         			txa
  554    00:E93B  60         			rts
  555                        	
  556                        	
  557                        	
  558                        	; ***************************************************************************
  559                        	; ***************************************************************************
  560                        	;
  561                        	; unsigned int __fastcall sgx_spr_get_y( void );
  562                        	
  563    00:E93C  38         	_sgx_spr_get_y:	sec
  564    00:E93D  B2 9E      			lda	[sgx_spr_ptr]
  565    00:E93F  E9 40      			sbc	#64
  566    00:E941  AA         			tax
  567    00:E942  A0 01      			ldy	#1
  568    00:E944  B1 9E      			lda	[sgx_spr_ptr], y
  569    00:E946  E9 00      			sbc	#0
  570    00:E948  A8         			tay
  571    00:E949  8A         			txa
  572    00:E94A  60         			rts
  573                        	
  574                        		.endif	SUPPORT_SGX
                             #[2]   "..\..\..\include\hucc\hucc-final.asm"
   73                        		.endif
   74                        	
   75               0001     		.ifdef	HUCC_USES_BLKMAP		; Set in hucc_blkmap.h
                             #[3]   "..\..\..\include\hucc\blkmap.asm"
   76                        			include	"blkmap.asm"
    1                        	; ***************************************************************************
    2                        	; ***************************************************************************
    3                        	;
    4                        	; blkmap.asm
    5                        	;
    6                        	; A map system based on 16x16 meta-tiles (aka "blocks", aka CHR/BLK/MAP).
    7                        	;
    8                        	; Copyright John Brandwood 2025.
    9                        	;
   10                        	; Distributed under the Boost Software License, Version 1.0.
   11                        	; (See accompanying file LICENSE_1_0.txt or copy at
   12                        	;  http://www.boost.org/LICENSE_1_0.txt)
   13                        	;
   14                        	; ***************************************************************************
   15                        	; ***************************************************************************
   16                        	;
   17                        	; The maximum X and Y size for blkmaps is 128 blocks (2048 pixels).
   18                        	;
   19                        	; The maximum total size for a blkmap is 16KBytes, which allows for maps up
   20                        	; to 128x128 blocks (2048x2048 pixels).
   21                        	;
   22                        	; Huge multi-screen blkmaps are also supported (optionally).
   23                        	;
   24                        	; The maximum X and Y for multi-screen maps is 128 screens (32768 pixels).
   25                        	;
   26                        	; The maximum total size for a multi-screen map is 8KBytes, which allows for
   27                        	; a total of 1024 screens.
   28                        	;
   29                        	; ***************************************************************************
   30                        	; ***************************************************************************
   31                        	
   32                        	;
   33                        	; Include dependancies ...
   34                        	;
   35                        	
   36                        			include "common.asm"		; Common helpers.
   37                        			include "vce.asm"		; Useful VCE routines.
   38                        			include "vdc.asm"		; Useful VCE routines.
   39                        	
   40                        	;
   41                        	; Support large blkmaps up to 16KBytes instead of the regular 8KBytes?
   42                        	;
   43                        	; The maximum X and Y size for regular blkmaps is 128 tiles (2048 pixels).
   44                        	;
   45                        	; This allows for individual maps up to 128x128 tiles (2048x2048 pixels) vs
   46                        	; default limit of 128x64 or 64x128.
   47                        	;
   48                        	
   49               0000     		.ifndef	BLKMAP_LARGEMAP
   51                        		.endif
   52                        	
   53                        	;
   54                        	; Support huge multi-screen maps, up to 32768 pixels wide/high?
   55                        	;
   56                        	; These are sectorized maps split into individual BAT-sized "screens", with
   57                        	; a maximum of 1024 screens per map.
   58                        	;
   59                        	; The BAT size that is used when drawing *must* be the same as the BAT size
   60                        	; that was chosen when creating the multi-screen map.
   61                        	;
   62                        	; Each screen can use a unique set of block definitions, or it might choose
   63                        	; to share the same block definitions that are used on another screen.
   64                        	;
   65                        	; Each screen may choose which 8KByte banks of character data to select for
   66                        	; the 4 banks (32KBytes) of VRAM that its block definitions use, with a max
   67                        	; of 16 banks of characters per multi-screen map.
   68                        	;
   69                        	; Loading those character banks dynamically is an exercise for the user!
   70                        	;
   71                        	; Enabling support adds extra library code, and slightly slows down the use
   72                        	; of regular blkmaps.
   73                        	;
   74                        	
   75               0000     		.ifndef	BLKMAP_MULTISCR
   77                        		.endif
   78                        	
   79                        	;
   80                        	; Block definitions can either use character data from VRAM $1000..$7FFF or
   81                        	; they can be limited to use the 32KByte of characters in VRAM $1000..$4FFF
   82                        	; which then frees up 2-bits for flag information for each character in the
   83                        	; block.
   84                        	;
   85                        	; These 2-bits are perfect for using as collision information in game maps,
   86                        	; allowing storage of states like transparent, solid, up-slope, down-slope.
   87                        	;
   88                        	; Typically this flag information is set by the map conversion tools from a
   89                        	; seperate "collision" map layer.
   90                        	;
   91                        	
   92               0000     		.ifndef	BLKDEF_CHR_FLAG
   94                        		.endif
   95                        	
   96                        	;
   97                        	; Block definitions are accessed in MPR2 ($4000..$5FFF), and must not cross
   98                        	; the bank boundary.
   99                        	;
  100                        	; When working this way, 8 pointers in ZP are used to access the individual
  101                        	; bytes in the block definition. This is fine when using a regular map on a
  102                        	; PC Engine, but it is awfully slow when using multi-screen maps or drawing
  103                        	; maps on both VDC chips in a SuperGRAFX because the pointer values must be
  104                        	; constantly changed.
  105                        	;
  106                        	; When using multi-screen maps, or when developing a SuperGRAFX game, or if
  107                        	; developing a CDROM game, then it is usually preferable to store the block
  108                        	; definitions with 2KByte alignment, especially if they are normally stored
  109                        	; compressed and then decompressed into a 2KByte buffer in RAM when needed.
  110                        	;
  111                        	; This option controls whether the definitions are stored 2KByte aligned or
  112                        	; if pointers should be used instead.
  113                        	;
  114                        	
  115               0000     		.ifndef	BLKDEF_POINTERS
  117                        		.endif
  118                        	
  119                        	;
  120                        	; Add a timing bar to the scroll_map() to see how long the drawing takes?
  121                        	;
  122                        	
  123               0000     		.ifndef	BLKMAP_TIMETEST
  125                        		.endif
  126                        	
  127                        	;
  128                        	;
  129                        	;
  130                        	
  131               0000     		.if	BLKDEF_POINTERS
  144                        		.else
  145                        	
  146                        		; If the block definititions are 2KByte aligned.
  147                        	
  148               4000     	BLK_4000_TL_L	=	$4000
  149               4100     	BLK_4000_TR_L	=	$4100
  150               4200     	BLK_4000_BL_L	=	$4200
  151               4300     	BLK_4000_BR_L	=	$4300
  152               4400     	BLK_4000_TL_H	=	$4400
  153               4500     	BLK_4000_TR_H	=	$4500
  154               4600     	BLK_4000_BL_H	=	$4600
  155               4700     	BLK_4000_BR_H	=	$4700
  156                        	
  157               4800     	BLK_4800_TL_L	=	$4800
  158               4900     	BLK_4800_TR_L	=	$4900
  159               4A00     	BLK_4800_BL_L	=	$4A00
  160               4B00     	BLK_4800_BR_L	=	$4B00
  161               4C00     	BLK_4800_TL_H	=	$4C00
  162               4D00     	BLK_4800_TR_H	=	$4D00
  163               4E00     	BLK_4800_BL_H	=	$4E00
  164               4F00     	BLK_4800_BR_H	=	$4F00
  165                        	
  166               5000     	BLK_5000_TL_L	=	$5000
  167               5100     	BLK_5000_TR_L	=	$5100
  168               5200     	BLK_5000_BL_L	=	$5200
  169               5300     	BLK_5000_BR_L	=	$5300
  170               5400     	BLK_5000_TL_H	=	$5400
  171               5500     	BLK_5000_TR_H	=	$5500
  172               5600     	BLK_5000_BL_H	=	$5600
  173               5700     	BLK_5000_BR_H	=	$5700
  174                        	
  175               5800     	BLK_5800_TL_L	=	$5800
  176               5900     	BLK_5800_TR_L	=	$5900
  177               5A00     	BLK_5800_BL_L	=	$5A00
  178               5B00     	BLK_5800_BR_L	=	$5B00
  179               5C00     	BLK_5800_TL_H	=	$5C00
  180               5D00     	BLK_5800_TR_H	=	$5D00
  181               5E00     	BLK_5800_BL_H	=	$5E00
  182               5F00     	BLK_5800_BR_H	=	$5F00
  183                        	
  184                        		.endif
  185                        	
  186               0080     	MAP_UNALIGNED_X	=	$80
  187               0040     	MAP_UNALIGNED_Y	=	$40
  188                        	
  189                        	;
  190                        	;
  191                        	;
  192                        	
  193               2BFA     			.bss
  194                        	
  195                        	; **************
  196                        	; 8-byte (or 2-byte) entry for each SCREEN in the MULTI_MAP.
  197                        	
  198               0000     			.rsset	0
  199               0000     		.if	BLKDEF_POINTERS
  202                        		.else
  203               0000     	SCR_MAP_PAGE	.rs	1	; 256-byte aligned.
  204               0001     	SCR_MAP_BANK	.rs	1
  205               0002     	SCR_BLK_PAGE	.rs	1	; >$4000, >$4800, >$5000, or >$5800.
  206               0003     	SCR_BLK_BANK	.rs	1
  207               0004     	SCR_TBL_PAGE	.rs	1	; 256-byte aligned.
  208               0005     	SCR_TBL_BANK	.rs	1
  209               0006     	SCR_CHR_12	.rs	1	; Which CHR banks are used by the BLK, with
  210               0007     	SCR_CHR_34	.rs	1	; a max of 16 CHR banks per MULTI_MAP.
  211                        		.endif
  212                        	
  213                        			; A simple macro to help build a multi-screen map.
  214                        	
  215               0000     		.ifndef	SCREEN
  224                        		.endif
  225                        	
  226    F8:2BFA             	map_blk_flag:	ds	1	; Returned from _get_map_block().
  227    F8:2BFB             	map_blk_mask:	ds	1	; Returned from _get_map_block().
  228                        	
  229                        	; **************
  230                        	; 16-bytes of VDC blkmap info.
  231                        	;
  232                        	; N.B. MUST be 16-bytes before the SGX versions to use PCE_VDC_OFFSET.
  233                        	
  234    F8:2BFC             	vdc_old_chr_x:	ds	1	; Previous top-left X in CHR (lo-byte only).
  235    F8:2BFD             	vdc_old_chr_y:	ds	1	; Previous top-left Y in CHR (lo-byte only).
  236                        	
  237    F8:2BFE             	vdc_tbl_addr:	ds	2	; 256-byte aligned.
  238    F8:2C00             	vdc_tbl_bank:	ds	1
  239                        	
  240    F8:2C01             	vdc_blk_addr:	ds	2	; 2KBytes of data, 256-byte aligned.
  241    F8:2C03             	vdc_blk_bank:	ds	1
  242                        	
  243    F8:2C04             	vdc_map_addr:	ds	2	; Mapped into MPR3..MPR5, max 16KBytes.
  244    F8:2C06             	vdc_map_bank:	ds	1
  245                        	
  246    F8:2C07             	vdc_scr_addr:	ds	2	; 8KByte maximum size.
  247    F8:2C09             	vdc_scr_bank:	ds	1
  248    F8:2C0A             	vdc_scr_chr12:	ds	1	; Which CHR banks are used by the BLK, with
  249    F8:2C0B             	vdc_scr_chr34:	ds	1	; a max of 16 banks per multi-screen map.
  250                        	
  251               0001     		.if	SUPPORT_SGX
  252                        	
  253                        	; **************
  254                        	; 16-bytes of SGX blkmap info.
  255                        	;
  256                        	; N.B. MUST be 16-bytes after the VDC versions to use SGX_VDC_OFFSET.
  257                        	
  258    F8:2C0C             	sgx_old_chr_x:	ds	1	; Previous top-left X in CHR (lo-byte only).
  259    F8:2C0D             	sgx_old_chr_y:	ds	1	; Previous top-left Y in CHR (lo-byte only).
  260                        	
  261    F8:2C0E             	sgx_tbl_addr:	ds	2	; 256-byte aligned.
  262    F8:2C10             	sgx_tbl_bank:	ds	1
  263                        	
  264    F8:2C11             	sgx_blk_addr:	ds	2	; 2KBytes of data, 256-byte aligned.
  265    F8:2C13             	sgx_blk_bank:	ds	1
  266                        	
  267    F8:2C14             	sgx_map_addr:	ds	2	; Mapped into MPR3..MPR4, max 8KBytes.
  268    F8:2C16             	sgx_map_bank:	ds	1
  269                        	
  270    F8:2C17             	sgx_scr_addr:	ds	2	; 8KByte maximum size.
  271    F8:2C19             	sgx_scr_bank:	ds	1
  272    F8:2C1A             	sgx_scr_chr12:	ds	1	; Which CHR banks are used by the BLK, with
  273    F8:2C1B             	sgx_scr_chr34:	ds	1	; a max of 16 banks per multi-screen map.
  274                        	
  275                        		.endif	SUPPORT_SGX
  276                        	
  277               0000     		.if	0
  310                        		.endif	0
  311                        	
  312                        	; **************
  313                        	; Aliases for the asm variable names in HuCC.
  314                        	;
  315                        	
  316               0001     		.ifdef	HUCC
  317                        	
  318    F8:2C1C             	_map_blk_flag	.alias	map_blk_flag
  319    F8:2C1C             	_map_blk_mask	.alias	map_blk_mask
  320                        	
  321    F8:2C1C             	_vdc_map_draw_w	.alias	vdc_map_draw_w
  322    F8:2C1C             	_vdc_map_draw_h	.alias	vdc_map_draw_h
  323    F8:2C1C             	_vdc_map_pxl_x	.alias	vdc_map_pxl_x
  324    F8:2C1C             	_vdc_map_pxl_y	.alias	vdc_map_pxl_y
  325    F8:2C1C             	_vdc_old_chr_x	.alias	vdc_old_chr_x
  326    F8:2C1C             	_vdc_old_chr_y	.alias	vdc_old_chr_y
  327    F8:2C1C             	_vdc_tbl_addr	.alias	vdc_tbl_addr
  328    F8:2C1C             	_vdc_tbl_bank	.alias	vdc_tbl_bank
  329    F8:2C1C             	_vdc_blk_addr	.alias	vdc_blk_addr
  330    F8:2C1C             	_vdc_blk_bank	.alias	vdc_blk_bank
  331    F8:2C1C             	_vdc_map_line_w	.alias	vdc_map_line_w
  332    F8:2C1C             	_vdc_map_scrn_w	.alias	vdc_map_scrn_w
  333    F8:2C1C             	_vdc_map_addr	.alias	vdc_map_addr
  334    F8:2C1C             	_vdc_map_bank	.alias	vdc_map_bank
  335    F8:2C1C             	_vdc_scr_addr	.alias	vdc_scr_addr
  336    F8:2C1C             	_vdc_scr_bank	.alias	vdc_scr_bank
  337    F8:2C1C             	_vdc_scr_chr12	.alias	vdc_scr_chr12
  338    F8:2C1C             	_vdc_scr_chr34	.alias	vdc_scr_chr34
  339                        	
  340               0001     		.if	SUPPORT_SGX
  341    F8:2C1C             	_sgx_map_draw_w	.alias	sgx_map_draw_w
  342    F8:2C1C             	_sgx_map_draw_h	.alias	sgx_map_draw_h
  343    F8:2C1C             	_sgx_map_pxl_x	.alias	sgx_map_pxl_x
  344    F8:2C1C             	_sgx_map_pxl_y	.alias	sgx_map_pxl_y
  345    F8:2C1C             	_sgx_old_chr_x	.alias	sgx_old_chr_x
  346    F8:2C1C             	_sgx_old_chr_y	.alias	sgx_old_chr_y
  347    F8:2C1C             	_sgx_tbl_addr	.alias	sgx_tbl_addr
  348    F8:2C1C             	_sgx_tbl_bank	.alias	sgx_tbl_bank
  349    F8:2C1C             	_sgx_blk_addr	.alias	sgx_blk_addr
  350    F8:2C1C             	_sgx_blk_bank	.alias	sgx_blk_bank
  351    F8:2C1C             	_sgx_map_line_w	.alias	sgx_map_line_w
  352    F8:2C1C             	_sgx_map_scrn_w	.alias	sgx_map_scrn_w
  353    F8:2C1C             	_sgx_map_addr	.alias	sgx_map_addr
  354    F8:2C1C             	_sgx_map_bank	.alias	sgx_map_bank
  355    F8:2C1C             	_sgx_scr_addr	.alias	sgx_scr_addr
  356    F8:2C1C             	_sgx_scr_bank	.alias	sgx_scr_bank
  357    F8:2C1C             	_sgx_scr_chr12	.alias	sgx_scr_chr12
  358    F8:2C1C             	_sgx_scr_chr34	.alias	sgx_scr_chr34
  359                        		.endif	SUPPORT_SGX
  360                        	
  361                        		.endif	HUCC
  362                        	
  363                        	; **************
  364                        	; Temporary variables for drawing, using common zero-page locations.
  365                        	;
  366                        	
  367               20F8     	map_bat_x	=	_al	; Set by draw_map(), scroll_map() if drawing
  368               20F9     	map_bat_y	=	_ah	; aligned, or as parameters to blit_map().
  369                        	
  370               20FA     	map_draw_w	=	_bl	; Set by draw_map(), scroll_map(), but given
  371               20FB     	map_draw_h	=	_bh	; as parameters to blit_map().
  372                        	
  373               20FC     	map_pxl_x	=	_cx	; Set by draw_map(), scroll_map() and also by
  374               20FC     	map_chr_x	=	_cl	; blit__map(), from current vdc_map_pxl_x.
  375               20FD     	map_scrn_x	=	_ch
  376                        	
  377               20FE     	map_pxl_y	=	_dx	; Set by draw_map(), scroll_map() and also by
  378               20FE     	map_chr_y	=	_dl	; blit__map(), from current vdc_map_pxl_y.
  379               20FF     	map_scrn_y	=	_dh
  380                        	
  381               20EE     	map_line	=	_si	; Start of map data line being drawn.
  382                        	
  383               2000     	map_count	=	__temp + 0
  384               2001     	map_drawn	=	__temp + 1
  385                        	
  386               E94B     			.code
  387                        	
  388                        	
  389                        	
  390    02:D3C5             	blkmap_group	.procgroup
  391                        	
  392                        	; ***************************************************************************
  393                        	; ***************************************************************************
  394                        	;
  395                        	; _set_blocks - Initialize the block definition pointers.
  396                        	; _sgx_set_blocks - Initialize the block definition pointers.
  397                        	;
  398                        	; void __fastcall set_blocks( unsigned char __far *blk_def<vdc_blk_bank:vdc_blk_addr>, unsigned char __far *flg_def<vdc_tbl_bank:vdc_tbl_addr>, unsigned char number_of_blk<_al> );
  399                        	; void __fastcall sgx_set_blocks( unsigned char __far *blk_def<sgx_blk_bank:sgx_blk_addr>, unsigned char __far *flg_def<sgx_tbl_bank:sgx_tbl_addr>, unsigned char number_of_blk<_al> );
  400                        	;
  401                        	
  402               0001     		.if	SUPPORT_SGX
  403                        	
  404    02:D3C5             			.proc	_sgx_set_blocks.3
  405                        	
  406    02:D3C5  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
  407    02:D3C7  F0         			db	$F0			; Turn "clx" into a "beq".
  408                        	
  409    02:D3C8             			.ref	_set_blocks.3
  410                        			.endp
  411                        		.endif
  412                        	
  413    02:D3C8             			.proc	_set_blocks.3
  414                        	
  415    02:D3C8  82         			clx				; Offset to PCE VDC.
  416                        	
  417    02:D3C9  BD FF 2B   			lda.h	vdc_tbl_addr, x		; Remap the address to MPR2.
  418    02:D3CC  29 1F      			and	#$1F
  419    02:D3CE  09 40      			ora	#$40
  420    02:D3D0  9D FF 2B   			sta.h	vdc_tbl_addr, x
  421                        	
  422    02:D3D3  BD 02 2C   			lda.h	vdc_blk_addr, x		; Remap the address to MPR2.
  423    02:D3D6  29 1F      			and	#$1F
  424    02:D3D8  09 40      			ora	#$40
  425    02:D3DA  9D 02 2C   			sta.h	vdc_blk_addr, x
  426                        	
  427               0000     		.if	BLKDEF_POINTERS
  479                        		.endif	BLKDEF_POINTERS
  480                        	
  481                        			leave
         02:D3DD  4C EF FF   			jmp	leave_proc
  482                        	
  483                        			.endp
  484                        	
  485                        	
  486                        	
  487                        	; ***************************************************************************
  488                        	; ***************************************************************************
  489                        	;
  490                        	; _draw_map - Draw the entire screen at the current coordinates.
  491                        	; _sgx_draw_map - Draw the entire screen at the current coordinates.
  492                        	;
  493                        	; void __fastcall draw_map( void );
  494                        	; void __fastcall sgx_draw_map( void );
  495                        	;
  496                        	
  497               0001     		.if	SUPPORT_SGX
  498                        	
  499    02:D3E0             	_sgx_draw_map	.proc
  500                        	
  501    02:D3E0  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
  502    02:D3E2  F0         			db	$F0			; Turn "clx" into a "beq".
  503                        	
  504    02:D3E3             			.ref	_draw_map
  505                        			.endp
  506                        		.endif
  507                        	
  508    02:D3E3             	_draw_map	.proc
  509                        	
  510    02:D3E3  82         			clx				; Offset to PCE VDC.
  511                        	
  512    02:D3E4  43 04      			tma2				; Preserve MPR2..MPR4.
  513    02:D3E6  48         			pha
  514    02:D3E7  43 08      			tma3
  515    02:D3E9  48         			pha
  516    02:D3EA  43 10      			tma4
  517    02:D3EC  48         			pha
  518               0000     		.if	BLKMAP_LARGEMAP
  521                        		.endif
  522                        	
  523    02:D3ED  20 EF D4   			jsr	map_pxl_2_chr		; Set up the draw coordinates.
  524                        	
  525    02:D3F0  A5 FC      			lda	<map_chr_x		; Reset previous X position.
  526    02:D3F2  9D FC 2B   			sta	vdc_old_chr_x, x
  527                        	
  528    02:D3F5  A5 FE      			lda	<map_chr_y		; Reset previous Y position,
  529    02:D3F7  1A         			inc	a			; ready to draw multiple rows.
  530    02:D3F8  9D FD 2B   			sta	vdc_old_chr_y, x
  531                        	
  532    02:D3FB  BD C5 26   			lda	vdc_map_draw_w, x	; Draw the whole screen.
  533    02:D3FE  85 FA      			sta	<map_draw_w
  534    02:D400  BD C6 26   			lda	vdc_map_draw_h, x
  535    02:D403  85 FB      			sta	<map_draw_h
  536                        	
  537    02:D405  20 45 D7   			jsr	map_scroll_y		; Draw N row of CHR to the BAT.
  538                        	
  539               0000     		.if	BLKMAP_LARGEMAP
  542                        		.endif
  543    02:D408  68         			pla				; Restore MPR2..MPR4.
  544    02:D409  53 10      			tam4
  545    02:D40B  68         			pla
  546    02:D40C  53 08      			tam3
  547    02:D40E  68         			pla
  548    02:D40F  53 04      			tam2
  549                        	
  550                        			leave
         02:D411  4C EF FF   			jmp	leave_proc
  551                        	
  552                        			.endp
  553                        	
  554                        	
  555                        	
  556                        	; ***************************************************************************
  557                        	; ***************************************************************************
  558                        	;
  559                        	; _scroll_map - Draw a single row of CHR into the BAT to update the edge.
  560                        	; _sgx_scroll_map - Draw a single row of CHR into the BAT to update the edge.
  561                        	;
  562                        	; void __fastcall scroll_map( void );
  563                        	; void __fastcall sgx_scroll_map( void );
  564                        	;
  565                        	
  566               0001     		.if	SUPPORT_SGX
  567                        	
  568    02:D414             	_sgx_scroll_map	.proc
  569                        	
  570    02:D414  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
  571    02:D416  F0         			db	$F0			; Turn "clx" into a "beq".
  572                        	
  573    02:D417             			.ref	_scroll_map
  574                        			.endp
  575                        		.endif
  576                        	
  577    02:D417             	_scroll_map	.proc
  578                        	
  579    02:D417  82         			clx				; Offset to PCE VDC.
  580                        	
  581               0000     		.if	BLKMAP_TIMETEST
  587                        		.endif
  588                        	
  589    02:D418  43 04      			tma2				; Preserve MPR2..MPR4.
  590    02:D41A  48         			pha
  591    02:D41B  43 08      			tma3
  592    02:D41D  48         			pha
  593    02:D41E  43 10      			tma4
  594    02:D420  48         			pha
  595               0000     		.if	BLKMAP_LARGEMAP
  598                        		.endif
  599                        	
  600    02:D421  20 EF D4   			jsr	map_pxl_2_chr		; Set up the draw coordinates.
  601                        	
  602               0001     		.if	BLKMAP_MULTISCR
  603    02:D424  A5 FD      			lda	<map_scrn_x		; map_scroll_x can change this!
  604    02:D426  48         			pha
  605                        		.endif
  606                        	
  607    02:D427  BD C6 26   			lda	vdc_map_draw_h, x	; Draw new LHS or RHS if needed.
  608    02:D42A  85 FB      			sta	<map_draw_h
  609                        	;		lda	#1			; map_scroll_x only ever draws a
  610                        	;		sta	<map_draw_w		; single column.
  611    02:D42C  20 26 D6   			jsr	map_scroll_x
  612                        	
  613    02:D42F  BD FC 2B   			lda	vdc_old_chr_x, x	; Restore map_chr_x which could
  614    02:D432  85 FC      			sta	<map_chr_x		; be changed by map_scroll_x.
  615                        	
  616               0001     		.if	BLKMAP_MULTISCR
  617    02:D434  68         			pla				; Restore before map_scroll_y.
  618    02:D435  85 FD      			sta	<map_scrn_x
  619                        		.endif
  620                        	
  621    02:D437  BD C5 26   			lda	vdc_map_draw_w, x	; Draw new TOP or BTM if needed.
  622    02:D43A  85 FA      			sta	<map_draw_w
  623    02:D43C  A9 01      			lda	#1
  624    02:D43E  85 FB      			sta	<map_draw_h
  625    02:D440  20 45 D7   			jsr	map_scroll_y
  626                        	
  627               0000     		.if	BLKMAP_LARGEMAP
  630                        		.endif
  631    02:D443  68         			pla				; Restore MPR2..MPR4.
  632    02:D444  53 10      			tam4
  633    02:D446  68         			pla
  634    02:D447  53 08      			tam3
  635    02:D449  68         			pla
  636    02:D44A  53 04      			tam2
  637                        	
  638               0000     		.if	BLKMAP_TIMETEST
  640                        		.endif
  641                        	
  642                        			leave
         02:D44C  4C EF FF   			jmp	leave_proc
  643                        	
  644                        			.endp
  645                        	
  646                        	
  647                        	
  648                        	; ***************************************************************************
  649                        	; ***************************************************************************
  650                        	;
  651                        	; _blit_map - Draw a map rectangle to specific BAT coordinates.
  652                        	; _sgx_blit_map - Draw a map rectangle to specific BAT coordinates.
  653                        	;
  654                        	; void __fastcall blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
  655                        	; void __fastcall sgx_blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
  656                        	;
  657                        	; Normally you'd just use _draw_map() and _scroll_map(), but for those folks
  658                        	; who really wish to take manual control, you can use this.
  659                        	;
  660                        	
  661               0001     		.if	SUPPORT_SGX
  662                        	
  663                        	_sgx_blit_map	.proc
  669                        			.endp
  670                        		.endif
  671                        	
  672    02:D44F             	_blit_map	.proc
  673                        	
  674    02:D44F  82         			clx				; Offset to PCE VDC.
  675                        	
  676    02:D450  BD 09 2C   			lda	vdc_scr_bank, x		; Skip this if a multi-screen
  677    02:D453  D0 36      			bne	.exit			; blkmap.
  678                        	
  679    02:D455  43 04      			tma2				; Preserve MPR2..MPR4.
  680    02:D457  48         			pha
  681    02:D458  43 08      			tma3
  682    02:D45A  48         			pha
  683    02:D45B  43 10      			tma4
  684    02:D45D  48         			pha
  685               0000     		.if	BLKMAP_LARGEMAP
  688                        		.endif
  689                        	
  690    02:D45E  BD CD 26   			lda	vdc_map_option, x	; Preserve current map options.
  691    02:D461  48         			pha
  692    02:D462  09 C0      			ora	#MAP_UNALIGNED_X | MAP_UNALIGNED_Y
  693    02:D464  9D CD 26   			sta	vdc_map_option, x
  694                        	
  695    02:D467  20 EF D4   			jsr	map_pxl_2_chr		; Set up the draw coordinates.
  696                        	
  697    02:D46A  A5 FA      			lda	<map_draw_w		; Are we drawing just 1 column?
  698    02:D46C  C9 01      			cmp	#1
  699    02:D46E  F0 1E      			beq	.draw_column
  700                        	
  701                        			; Draw N rows.
  702                        	
  703    02:D470  A5 FC      	.draw_rows:	lda	<map_chr_x		; Reset previous X position.
  704    02:D472  9D FC 2B   			sta	vdc_old_chr_x, x
  705                        	
  706    02:D475  A5 FE      			lda	<map_chr_y		; Reset previous Y position,
  707    02:D477  1A         			inc	a			; ready to draw rows upwards.
  708    02:D478  9D FD 2B   			sta	vdc_old_chr_y, x
  709                        	
  710    02:D47B  20 45 D7   			jsr	map_scroll_y		; Draw a row of CHR to the BAT.
  711                        	
  712                        			; Drawing completed.
  713                        	
  714    02:D47E  68         	.finished:	pla				; Restore previous map options.
  715    02:D47F  9D CD 26   			sta	vdc_map_option, x
  716                        	
  717               0000     		.if	BLKMAP_LARGEMAP
  720                        		.endif
  721    02:D482  68         			pla				; Restore MPR2..MPR4.
  722    02:D483  53 10      			tam4
  723    02:D485  68         			pla
  724    02:D486  53 08      			tam3
  725    02:D488  68         			pla
  726    02:D489  53 04      			tam2
  727                        	
  728                        	.exit:		leave
         02:D48B  4C EF FF   			jmp	leave_proc
  729                        	
  730                        			; Draw 1 column.
  731                        	
  732    02:D48E  A5 FC      	.draw_column:	lda	<map_chr_x		; Reset previous X position.
  733    02:D490  1A         			inc	a			; ready to draw 1 column.
  734    02:D491  9D FC 2B   			sta	vdc_old_chr_x, x
  735                        	
  736    02:D494  A5 FE      			lda	<map_chr_y		; Reset previous Y position.
  737    02:D496  9D FD 2B   			sta	vdc_old_chr_y, x
  738                        	
  739    02:D499  20 26 D6   			jsr	map_scroll_x		; Draw a single column of CHR.
  740                        	
  741    02:D49C  80 E0      			bra	.finished
  742                        	
  743                        			.endp
  744                        	
  745                        	
  746                        	
  747                        	; ***************************************************************************
  748                        	; ***************************************************************************
  749                        	;
  750                        	; _get_map_block - Get the block number used at a map pixel coordinate.
  751                        	; _sgx_get_map_block - Get the block number used at a map pixel coordinate.
  752                        	;
  753                        	; unsigned char __fastcall _get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
  754                        	; unsigned char __fastcall _sgx_get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
  755                        	;
  756                        	
  757               0001     		.if	SUPPORT_SGX
  758                        	
  759                        			.proc	_sgx_get_map_block.2
  765                        			.endp
  766                        		.endif
  767                        	
  768    02:D49E             			.proc	_get_map_block.2
  769                        	
  770    02:D49E  82         			clx				; Offset to PCE VDC.
  771                        	
  772    02:D49F  43 04      			tma2				; Preserve MPR2..MPR4.
  773    02:D4A1  48         			pha
  774    02:D4A2  43 08      			tma3
  775    02:D4A4  48         			pha
  776    02:D4A5  43 10      			tma4
  777    02:D4A7  48         			pha
  778               0000     		.if	BLKMAP_LARGEMAP
  781                        		.endif
  782                        	
  783    02:D4A8  20 03 D5   			jsr	xvt_pxl_2_chr		; Set up the query coordinates.
  784                        	
  785    02:D4AB  20 31 D5   			jsr	map_chr_2_data		; Page in the map address.
  786                        	
  787    02:D4AE  B2 EC      			lda	[_bp]			; Read the BLK from the map.
  788    02:D4B0  A8         			tay
  789                        	
  790    02:D4B1  A5 FC      			lda	<map_chr_x		; Calc the BLK address offset
  791    02:D4B3  4A         			lsr	a			; use depending upon even/odd
  792    02:D4B4  A5 FE      			lda	<map_chr_y		; CHR coordinates (not BAT to
  793    02:D4B6  29 01      			and	#1			; support unaligned drawing).
  794    02:D4B8  2A         			rol	a
  795    02:D4B9  09 04      			ora	#4			; Offset to BLK table top byte.
  796    02:D4BB  7D 02 2C   			adc.h	vdc_blk_addr, x		; What is the BLK data address?
  797    02:D4BE  85 ED      			sta.h	<_bp			; $4000, $4800, $5000 or $5800.
  798    02:D4C0  64 EC      			stz.l	<_bp
  799    02:D4C2  B1 EC      			lda	[_bp], y		; Read the collision flags from
  800    02:D4C4  29 0C      			and	#%00001100		; the top byte of the CHR.
  801    02:D4C6  4A         			lsr	a
  802    02:D4C7  4A         			lsr	a
  803    02:D4C8  4A         			lsr	a			; Swizzle the bottom bit to get
  804    02:D4C9  90 02      			bcc	!+			; the same bit order as used in
  805    02:D4CB  09 02      			ora	#2			; .HALTMAP layer.
  806    02:D4CD  8D FA 2B   	!:		sta	map_blk_flag
  807                        	
  808    02:D4D0  BD 00 2C   			lda	vdc_tbl_bank, x		; Is there a table of flags?
  809    02:D4D3  F0 09      			beq	!+
  810    02:D4D5  53 08      			tam3
  811                        	;		inc	a
  812                        	;		tam4
  813                        	;		lda.l	vdc_tbl_addr, x
  814                        	;		sta.l	<_bp
  815    02:D4D7  BD FF 2B   			lda.h	vdc_tbl_addr, x		; If so, it must be aligned!
  816    02:D4DA  85 ED      			sta.h	<_bp
  817    02:D4DC  B1 EC      			lda	[_bp], y		; Read the .MASKMAP/.OVERMAP
  818    02:D4DE  8D FB 2B   	!:		sta	map_blk_mask		; flag value for this BLK.
  819                        	
  820               0000     		.if	BLKMAP_LARGEMAP
  823                        		.endif
  824    02:D4E1  68         			pla				; Restore MPR2..MPR4.
  825    02:D4E2  53 10      			tam4
  826    02:D4E4  68         			pla
  827    02:D4E5  53 08      			tam3
  828    02:D4E7  68         			pla
  829    02:D4E8  53 04      			tam2
  830                        	
  831    02:D4EA  02         			sxy				; Put the BLK number in X.
  832    02:D4EB  C2         			cly
  833                        	
  834                        			leave				; All done!
         02:D4EC  4C EF FF   			jmp	leave_proc
  835                        	
  836                        			.endp
  837                        	
  838                        	
  839                        	
  840                        	; ***************************************************************************
  841                        	; ***************************************************************************
  842                        	;
  843                        	; map_pxl_2_chr - Convert PXL to CHR, BLK and SCR coordinates.
  844                        	;
  845                        	
  846    02:D4EF  BD CB 26   	map_pxl_2_chr:	lda.l	vdc_map_pxl_y, x	; Get current map Y coordinate.
  847    02:D4F2  85 FE      			sta.l	<map_pxl_y
  848    02:D4F4  BD CC 26   			lda.h	vdc_map_pxl_y, x
  849    02:D4F7  85 FF      			sta.h	<map_pxl_y
  850                        	
  851    02:D4F9  BD C9 26   			lda.l	vdc_map_pxl_x, x	; Get current map X coordinate.
  852    02:D4FC  85 FC      			sta.l	<map_pxl_x
  853    02:D4FE  BD CA 26   			lda.h	vdc_map_pxl_x, x
  854    02:D501  85 FD      			sta.h	<map_pxl_x
  855                        	
  856    02:D503  A5 FD      	xvt_pxl_2_chr:	lda.h	<map_pxl_x		; Xvert map_pxl_x to map_chr_x.
  857               0001     		.if	BLKMAP_MULTISCR
  858    02:D505  A8         			tay				; Xvert map_pxl_x to map_scrn_x.
  859    02:D506  3C C0 26   			bit	vdc_bat_width, x
  860    02:D509  70 03      			bvs	.w64
  861    02:D50B  10 02      			bpl	.w32
  862    02:D50D  4A         	.w128:		lsr	a
  863    02:D50E  4A         	.w64:		lsr	a
  864    02:D50F  85 FD      	.w32:		sta	<map_scrn_x
  865    02:D511  98         			tya
  866                        		.endif
  867    02:D512  4A         			lsr	a
  868    02:D513  66 FC      			ror.l	<map_pxl_x
  869    02:D515  4A         			lsr	a
  870    02:D516  66 FC      			ror.l	<map_pxl_x
  871    02:D518  4A         			lsr	a
  872    02:D519  66 FC      			ror.l	<map_pxl_x		; Max map width is 256 CHR.
  873                        	
  874    02:D51B  A5 FF      			lda.h	<map_pxl_y		; Xvert map_pxl_y to map_chr_y.
  875               0001     		.if	BLKMAP_MULTISCR
  876    02:D51D  A8         			tay				; Xvert map_pxl_y to map_scrn_y.
  877    02:D51E  3C C1 26   			bit	vdc_bat_height, x
  878    02:D521  50 01      			bvc	.h32
  879    02:D523  4A         	.h64:		lsr	a
  880    02:D524  85 FF      	.h32:		sta	<map_scrn_y
  881    02:D526  98         			tya
  882                        		.endif
  883    02:D527  4A         			lsr	a
  884    02:D528  66 FE      			ror.l	<map_pxl_y
  885    02:D52A  4A         			lsr	a
  886    02:D52B  66 FE      			ror.l	<map_pxl_y
  887    02:D52D  4A         			lsr	a
  888    02:D52E  66 FE      			ror.l	<map_pxl_y		; Max map width is 256 CHR.
  889                        	
  890    02:D530  60         			rts
  891                        	
  892                        	
  893                        	
  894                        	; ***************************************************************************
  895                        	; ***************************************************************************
  896                        	;
  897                        	; map_chr_2_data - Page in the MAP address for the CHR coordinates.
  898                        	;
  899                        	
  900    02:D531             	map_chr_2_data:
  901                        	
  902               0001     		.if	BLKMAP_MULTISCR
  903                        	
  904                        			; Initialization for a multi-screen map.
  905                        	
  906    02:D531  BD 09 2C   			lda	vdc_scr_bank, x		; Skip this if regular blkmap.
  907    02:D534  F0 3A      			beq	.regular
  908                        	
  909    02:D536  A5 FC      	.multiscreen:	lda	<map_chr_x		; Compare old_x with cur_x.
  910    02:D538  3D C2 26   			and	vdc_bat_x_mask, x
  911    02:D53B  85 F8      			sta	<map_bat_x		; Save BAT X chr coordinate.
  912                        	
  913    02:D53D  A5 FE      			lda	<map_chr_y		; Save BAT Y chr coordinate.
  914    02:D53F  3D C3 26   			and	vdc_bat_y_mask, x
  915    02:D542  85 F9      			sta	<map_bat_y
  916    02:D544  4A         			lsr	a			; Map BLK Y coordinate.
  917    02:D545  85 EF      			sta.h	<map_line
  918    02:D547  62         			cla
  919    02:D548  3C C0 26   			bit	vdc_bat_width, x
  920    02:D54B  30 08      			bmi	.w128
  921    02:D54D  70 03      			bvs	.w64
  922    02:D54F  46 EF      	.w32:		lsr.h	<map_line
  923    02:D551  6A         			ror	a
  924    02:D552  46 EF      	.w64:		lsr.h	<map_line
  925    02:D554  6A         			ror	a
  926    02:D555  46 EF      	.w128:		lsr.h	<map_line
  927    02:D557  6A         			ror	a
  928    02:D558  46 EF      			lsr.h	<map_line		; Hi-byte of (BLK Y * width).
  929    02:D55A  6A         			ror	a
  930    02:D55B  85 EE      			sta.l	<map_line		; Lo-byte of (BLK Y * width).
  931                        	
  932    02:D55D  20 B1 D5   			jsr	map_set_screen		; Put BLK & MAP in MPR2-MPR5.
  933                        	
  934    02:D560  A5 F8      			lda	<map_bat_x		; Calc map data pointer.
  935    02:D562  4A         			lsr	a			; Map BLK X coordinate.
  936    02:D563  05 EE      			ora.l	<map_line
  937    02:D565  85 EC      			sta.l	<_bp
  938    02:D567  A5 EF      			lda.h	<map_line
  939    02:D569  18         			clc
  940    02:D56A  7D 05 2C   			adc.h	vdc_map_addr, x		; N.B. 256-byte aligned!
  941    02:D56D  85 ED      			sta.h	<_bp
  942                        	
  943    02:D56F  60         			rts
  944                        	
  945                        		.endif	BLKMAP_MULTISCR
  946                        	
  947                        			; Initialization for a regular map.
  948                        	
  949    02:D570  A5 FC      	.regular:	lda	<map_chr_x		; Compare old_x with cur_x.
  950                        	;		bit	vdc_map_option, x	; Set bit7 to disable aligning
  951                        	;		bmi	!+			; BAT X with the map X.
  952    02:D572  3D C2 26   			and	vdc_bat_x_mask, x
  953    02:D575  85 F8      			sta	<map_bat_x		; Save BAT X chr coordinate.
  954                        	
  955    02:D577  A5 FE      	!:		lda	<map_chr_y		; A = map CHR Y coordinate.
  956    02:D579  A8         			tay
  957    02:D57A  4A         			lsr	a
  958    02:D57B  42         			say				; Y = map BLK Y coordinate.
  959                        	
  960                        	;		bit	vdc_map_option, x	; Set bit6 to disable aligning
  961                        	;		bvs	!+			; BAT Y with the map Y.
  962    02:D57C  3D C3 26   			and	vdc_bat_y_mask, x
  963    02:D57F  85 F9      			sta	<map_bat_y		; Save BAT Y chr coordinate.
  964                        	
  965               0000     		.if	BLKMAP_LARGEMAP
  970                        		.endif
  971                        	
  972    02:D581  BD C7 26   	!:		lda	vdc_map_line_w, x	; Map width in BLK.
  973               0000     		.if	FAST_MULTIPLY
  986                        		.else
  987    02:D584  84 EF      			sty.h	<map_line		; Takes 144..176 cycles.
  988    02:D586  A0 08      			ldy	#8
  989    02:D588  4A         			lsr	a
  990    02:D589  85 EE      			sta.l	<map_line
  991    02:D58B  62         			cla
  992    02:D58C  90 03      			bcc	.rotate
  993    02:D58E  18         	.add:		clc
  994    02:D58F  65 EF      			adc.h	<map_line
  995    02:D591  6A         	.rotate:	ror	a
  996    02:D592  66 EE      			ror.l	<map_line		; Lo-byte of (BLK Y * width).
  997    02:D594  88         			dey
  998    02:D595  B0 F7      			bcs	.add
  999    02:D597  D0 F8      			bne	.rotate
 1000    02:D599  A8         			tay				; Hi-byte of (BLK Y * width).
 1001                        		.endif
 1002                        	
 1003    02:D59A  A5 FC      	!:		lda	<map_chr_x		; Map CHR X coordinate.
 1004    02:D59C  4A         			lsr	a			; Map BLK X coordinate.
 1005    02:D59D  18         			clc
 1006    02:D59E  65 EE      			adc.l	<map_line		; Lo-byte of (BLK Y * width).
 1007    02:D5A0  90 01      			bcc	!+
 1008    02:D5A2  C8         			iny				; Hi-byte of (BLK Y * width).
 1009                        	
 1010    02:D5A3  18         	!:		clc				; Calc map data pointer.
 1011    02:D5A4  7D 04 2C   			adc.l	vdc_map_addr, x
 1012    02:D5A7  85 EC      			sta.l	<_bp			; Maximum map size is 16KBytes
 1013    02:D5A9  98         			tya				; so we don't need to consider
 1014    02:D5AA  7D 05 2C   			adc.h	vdc_map_addr, x		; bank overflow.
 1015    02:D5AD  85 ED      			sta.h	<_bp
 1016                        	
 1017    02:D5AF  80 66      			bra	map_set_banks		; Put BLK & MAP in MPR2-MPR5.
 1018                        	
 1019                        	
 1020                        	
 1021               0001     		.if	BLKMAP_MULTISCR
 1022                        	
 1023                        	; ***************************************************************************
 1024                        	; ***************************************************************************
 1025                        	;
 1026                        	; map_set_screen -
 1027                        	;
 1028                        	; Maximum X and Y dimension of 128 screens (32768 pixels).
 1029                        	; Maximum 8KByte total size of screen data (1024 screens).
 1030                        	;
 1031                        	
 1032    02:D5B1  A4 FF      	map_set_screen:	ldy	<map_scrn_y		; Map SCR Y coordinate.
 1033    02:D5B3  BD C8 26   			lda	vdc_map_scrn_w, x	; Map width in SCREENS.
 1034                        	
 1035               0000     		.if	FAST_MULTIPLY
 1048                        		.else
 1049    02:D5B6  84 ED      			sty.h	<_bp			; Takes 144..176 cycles.
 1050    02:D5B8  A0 08      			ldy	#8
 1051    02:D5BA  4A         			lsr	a
 1052    02:D5BB  85 EC      			sta.l	<_bp
 1053    02:D5BD  62         			cla
 1054    02:D5BE  90 03      			bcc	.rotate
 1055    02:D5C0  18         	.add:		clc
 1056    02:D5C1  65 ED      			adc.h	<_bp
 1057    02:D5C3  6A         	.rotate:	ror	a
 1058    02:D5C4  66 EC      			ror.l	<_bp			; Lo-byte of (SCR Y * width).
 1059    02:D5C6  88         			dey
 1060    02:D5C7  B0 F7      			bcs	.add
 1061    02:D5C9  D0 F8      			bne	.rotate
 1062    02:D5CB  A8         			tay				; Hi-byte of (SCR Y * width).
 1063                        		.endif
 1064                        	
 1065    02:D5CC  A5 FD      			lda	<map_scrn_x		; Map SCR X coordinate.
 1066    02:D5CE  18         			clc
 1067    02:D5CF  65 EC      			adc.l	<_bp
 1068    02:D5D1  90 01      			bcc	!+
 1069    02:D5D3  C8         			iny
 1070                        	
 1071    02:D5D4  84 ED      	!:		sty.h	<_bp			; 2 bytes per screen entry, max
 1072    02:D5D6  0A         			asl	a			; 8KByte screen table.
 1073    02:D5D7  26 ED      			rol.h	<_bp
 1074               0001     		.if	BLKDEF_POINTERS == 0
 1075    02:D5D9  0A         			asl	a			; 8 bytes per screen entry when
 1076    02:D5DA  26 ED      			rol.h	<_bp			; not using BLK pointers.
 1077    02:D5DC  0A         			asl	a
 1078    02:D5DD  26 ED      			rol.h	<_bp
 1079                        		.endif
 1080                        	
 1081    02:D5DF  7D 07 2C   			adc.l	vdc_scr_addr, x		; Calc screen data pointer.
 1082    02:D5E2  85 EC      			sta.l	<_bp			; Maximum data size is 8KBytes
 1083    02:D5E4  A5 ED      			lda.h	<_bp			; so we don't need to consider
 1084    02:D5E6  7D 08 2C   			adc.h	vdc_scr_addr, x		; bank overflow.
 1085    02:D5E9  85 ED      			sta.h	<_bp
 1086                        	
 1087    02:D5EB  BD 09 2C   			lda	vdc_scr_bank, x		; Map the SCR data in MPR3..MPR4.
 1088    02:D5EE  53 08      			tam3
 1089    02:D5F0  1A         			inc	a
 1090    02:D5F1  53 10      			tam4
 1091                        	
 1092    02:D5F3  C2         			cly
 1093    02:D5F4  B1 EC      			lda	[_bp], y		; Get SCR_MAP_PAGE.
 1094    02:D5F6  9D 05 2C   			sta.h	vdc_map_addr, x
 1095    02:D5F9  C8         			iny
 1096    02:D5FA  B1 EC      			lda	[_bp], y		; Get SCR_MAP_BANK.
 1097    02:D5FC  9D 06 2C   			sta	vdc_map_bank, x
 1098                        	
 1099               0001     		.if	BLKDEF_POINTERS == 0
 1100    02:D5FF  C8         			iny
 1101    02:D600  B1 EC      			lda	[_bp], y		; Get SCR_BLK_PAGE.
 1102    02:D602  9D 02 2C   			sta.h	vdc_blk_addr, x
 1103    02:D605  C8         			iny
 1104    02:D606  B1 EC      			lda	[_bp], y		; Get SCR_BLK_BANK.
 1105    02:D608  9D 03 2C   			sta	vdc_blk_bank, x
 1106    02:D60B  C8         			iny
 1107    02:D60C  B1 EC      			lda	[_bp], y		; Get SCR_TBL_PAGE.
 1108    02:D60E  9D FF 2B   			sta.h	vdc_tbl_addr, x
 1109    02:D611  C8         			iny
 1110    02:D612  B1 EC      			lda	[_bp], y		; Get SCR_TBL_BANK.
 1111    02:D614  9D 00 2C   			sta	vdc_tbl_bank, x
 1112               0000     		.if	0				; These are not currently used.
 1119                        		.endif
 1120                        		.endif
 1121                        	
 1122                        	;		lda	vdc_bat_width, x	; Set up the map width.
 1123                        	;		lsr	a			; This should have been set
 1124                        	;		sta	vdc_map_line_w, x	; with the multi-screen map.
 1125                        	
 1126                        	;		jmp	map_set_banks		; Put BLK & MAP in MPR2-MPR5.
 1127                        	
 1128                        			; Fall through to map_set_banks.
 1129                        	
 1130                        		.endif	BLKMAP_MULTISCR
 1131                        	
 1132                        	
 1133                        	
 1134                        	; ***************************************************************************
 1135                        	; ***************************************************************************
 1136                        	;
 1137                        	; map_set_banks - Put BLK & MAP in MPR2-MPR5.
 1138                        	;
 1139                        	
 1140    02:D617  BD 03 2C   	map_set_banks:	lda	vdc_blk_bank, x		; Put the BLK into MPR2.
 1141    02:D61A  53 04      			tam2
 1142                        	
 1143    02:D61C  BD 06 2C   			lda	vdc_map_bank, x		; Put the MAP into MPR3-MPR5.
 1144    02:D61F  53 08      			tam3
 1145    02:D621  1A         			inc	a
 1146    02:D622  53 10      			tam4
 1147               0000     		.if	BLKMAP_LARGEMAP
 1156                        		.endif
 1157                        	
 1158    02:D624  60         	!:		rts
 1159                        	
 1160                        	
 1161                        	
 1162                        	; ***************************************************************************
 1163                        	; ***************************************************************************
 1164                        	;
 1165                        	; map_scroll_x - Update the BAT when X coordinate changes.
 1166                        	;
 1167                        	; N.B. This will alter map_chr_x and map_scrn_x if moved in +ve direction!
 1168                        	;
 1169                        	; N.B. This only ever draws a single column!
 1170                        	;
 1171                        	
 1172    02:D625  60         	!no_change:	rts
 1173                        	
 1174    02:D626             	map_scroll_x:
 1175                        	
 1176               0001     		.if	BLKMAP_MULTISCR
 1177                        	
 1178                        			; Initialization for a multi-screen map.
 1179                        	
 1180    02:D626  BD 09 2C   			lda	vdc_scr_bank, x		; Skip this if regular blkmap.
 1181    02:D629  F0 56      			beq	.regular
 1182                        	
 1183    02:D62B  A5 FC      	.multiscreen:	lda	<map_chr_x		; Compare old_x with cur_x.
 1184    02:D62D  DD FC 2B   			cmp	vdc_old_chr_x, x
 1185               0001     		.if	BLKMAP_TIMETEST == 0
 1186    02:D630  F0 F3      			beq	!no_change-		; Do nothing if no change.
 1187                        		.endif
 1188    02:D632  9D FC 2B   			sta	vdc_old_chr_x, x
 1189    02:D635  30 11      			bmi	!+			; Test the sign of the change.
 1190                        	
 1191    02:D637  18         			clc				; Draw RHS if chr_x >= old_x.
 1192    02:D638  3D C2 26   			and	vdc_bat_x_mask, x
 1193    02:D63B  7D C5 26   			adc	vdc_map_draw_w, x	; Usually (SCR_WIDTH / 8) + 1.
 1194    02:D63E  3A         			dec	a
 1195    02:D63F  85 FC      			sta	<map_chr_x		; Update CHR X chr coordinate.
 1196    02:D641  3C C0 26   			bit	vdc_bat_width, x
 1197    02:D644  F0 02      			beq	!+
 1198    02:D646  E6 FD      			inc	<map_scrn_x		; Wrapped to the next screen.
 1199                        	
 1200    02:D648  3D C2 26   	!:		and	vdc_bat_x_mask, x
 1201    02:D64B  85 F8      			sta	<map_bat_x		; Save BAT X chr coordinate.
 1202                        	
 1203    02:D64D  A5 FE      			lda	<map_chr_y		; Save BAT Y chr coordinate.
 1204    02:D64F  3D C3 26   			and	vdc_bat_y_mask, x
 1205    02:D652  85 F9      			sta	<map_bat_y
 1206    02:D654  4A         			lsr	a			; Map BLK Y coordinate.
 1207    02:D655  85 EF      			sta.h	<map_line
 1208    02:D657  62         			cla
 1209    02:D658  3C C0 26   			bit	vdc_bat_width, x
 1210    02:D65B  30 08      			bmi	.w128
 1211    02:D65D  70 03      			bvs	.w64
 1212    02:D65F  46 EF      	.w32:		lsr.h	<map_line
 1213    02:D661  6A         			ror	a
 1214    02:D662  46 EF      	.w64:		lsr.h	<map_line
 1215    02:D664  6A         			ror	a
 1216    02:D665  46 EF      	.w128:		lsr.h	<map_line
 1217    02:D667  6A         			ror	a
 1218    02:D668  46 EF      			lsr.h	<map_line		; Hi-byte of (BLK Y * width).
 1219    02:D66A  6A         			ror	a
 1220    02:D66B  85 EE      			sta.l	<map_line		; Lo-byte of (BLK Y * width).
 1221                        	
 1222    02:D66D  20 B1 D5   			jsr	map_set_screen		; Put BLK & MAP in MPR2-MPR5.
 1223                        	
 1224    02:D670  A5 F8      			lda	<map_bat_x		; Calc map data pointer.
 1225    02:D672  4A         			lsr	a			; Map BLK X coordinate.
 1226    02:D673  05 EE      			ora.l	<map_line
 1227    02:D675  85 EC      			sta.l	<_bp
 1228    02:D677  A5 EF      			lda.h	<map_line
 1229    02:D679  18         			clc
 1230    02:D67A  7D 05 2C   			adc.h	vdc_map_addr, x		; N.B. 256-byte aligned!
 1231    02:D67D  85 ED      			sta.h	<_bp
 1232                        	
 1233    02:D67F  80 5D      			bra	.draw_col		; Now draw it.
 1234                        	
 1235                        		.endif	BLKMAP_MULTISCR
 1236                        	
 1237                        			; Initialization for a regular map.
 1238                        	
 1239    02:D681  A5 FC      	.regular:	lda	<map_chr_x		; Compare old_x with cur_x.
 1240    02:D683  DD FC 2B   			cmp	vdc_old_chr_x, x
 1241               0001     		.if	BLKMAP_TIMETEST == 0
 1242    02:D686  F0 9D      			beq	!no_change-		; Do nothing if no change.
 1243                        		.endif
 1244    02:D688  9D FC 2B   			sta	vdc_old_chr_x, x
 1245    02:D68B  30 07      			bmi	!+			; Test the sign of the change.
 1246                        	
 1247    02:D68D  18         			clc				; Draw RHS if chr_x >= old_x.
 1248    02:D68E  7D C5 26   			adc	vdc_map_draw_w, x	; Usually (SCR_WIDTH / 8) + 1.
 1249    02:D691  3A         			dec	a
 1250    02:D692  85 FC      			sta	<map_chr_x		; Update CHR X chr coordinate.
 1251                        	
 1252    02:D694  3C CD 26   	!:		bit	vdc_map_option, x	; Set bit7 to disable aligning
 1253    02:D697  30 05      			bmi	!+			; BAT X with the map X.
 1254    02:D699  3D C2 26   			and	vdc_bat_x_mask, x
 1255    02:D69C  85 F8      			sta	<map_bat_x		; Save BAT X chr coordinate.
 1256                        	
 1257    02:D69E  A5 FE      	!:		lda	<map_chr_y		; A = map CHR Y coordinate.
 1258    02:D6A0  A8         			tay
 1259    02:D6A1  4A         			lsr	a
 1260    02:D6A2  42         			say				; Y = map BLK Y coordinate.
 1261                        	
 1262    02:D6A3  3C CD 26   			bit	vdc_map_option, x	; Set bit6 to disable aligning
 1263    02:D6A6  70 05      			bvs	!+			; BAT Y with the map Y.
 1264    02:D6A8  3D C3 26   			and	vdc_bat_y_mask, x
 1265    02:D6AB  85 F9      			sta	<map_bat_y		; Save BAT Y chr coordinate.
 1266                        	
 1267               0000     		.if	BLKMAP_LARGEMAP
 1272                        		.endif
 1273                        	
 1274    02:D6AD  BD C7 26   	!:		lda	vdc_map_line_w, x	; Map width in BLK.
 1275               0000     		.if	FAST_MULTIPLY
 1288                        		.else
 1289    02:D6B0  84 EF      			sty.h	<map_line		; Takes 144..176 cycles.
 1290    02:D6B2  A0 08      			ldy	#8
 1291    02:D6B4  4A         			lsr	a
 1292    02:D6B5  85 EE      			sta.l	<map_line
 1293    02:D6B7  62         			cla
 1294    02:D6B8  90 03      			bcc	.rotate
 1295    02:D6BA  18         	.add:		clc
 1296    02:D6BB  65 EF      			adc.h	<map_line
 1297    02:D6BD  6A         	.rotate:	ror	a
 1298    02:D6BE  66 EE      			ror.l	<map_line		; Lo-byte of (BLK Y * width).
 1299    02:D6C0  88         			dey
 1300    02:D6C1  B0 F7      			bcs	.add
 1301    02:D6C3  D0 F8      			bne	.rotate
 1302    02:D6C5  A8         			tay				; Hi-byte of (BLK Y * width).
 1303                        		.endif
 1304                        	
 1305    02:D6C6  A5 FC      	!:		lda	<map_chr_x		; Map CHR X coordinate.
 1306    02:D6C8  4A         			lsr	a			; Map BLK X coordinate.
 1307    02:D6C9  18         			clc
 1308    02:D6CA  65 EE      			adc.l	<map_line		; Lo-byte of (BLK Y * width).
 1309    02:D6CC  90 01      			bcc	!+
 1310    02:D6CE  C8         			iny				; Hi-byte of (BLK Y * width).
 1311                        	
 1312    02:D6CF  18         	!:		clc				; Calc map data pointer.
 1313    02:D6D0  7D 04 2C   			adc.l	vdc_map_addr, x
 1314    02:D6D3  85 EC      			sta.l	<_bp			; Maximum map size is 16KBytes
 1315    02:D6D5  98         			tya				; so we don't need to consider
 1316    02:D6D6  7D 05 2C   			adc.h	vdc_map_addr, x		; bank overflow.
 1317    02:D6D9  85 ED      			sta.h	<_bp
 1318                        	
 1319    02:D6DB  20 17 D6   			jsr	map_set_banks		; Put BLK & MAP in MPR2-MPR5.
 1320                        	
 1321                        			; Draw the first part of the column.
 1322                        	
 1323    02:D6DE  A5 F8      	.draw_col:	lda	<map_bat_x		; Set the BAT VRAM destination
 1324    02:D6E0  85 F0      			sta.l	<_di			; coordinates.
 1325    02:D6E2  A5 F9      			lda	<map_bat_y
 1326    02:D6E4  85 F1      			sta.h	<_di
 1327                        	
 1328    02:D6E6  5D C3 26   			eor	vdc_bat_y_mask, x	; Calc CHR before wrap.
 1329    02:D6E9  1A         			inc	a
 1330    02:D6EA  DD C6 26   			cmp	vdc_map_draw_h, x	; Usually (SCR_HEIGHT / 8) + 1.
 1331    02:D6ED  90 03      			bcc	!+
 1332    02:D6EF  BD C6 26   			lda	vdc_map_draw_h, x	; Maximum CHR to draw.
 1333    02:D6F2  85 00      	!:		sta	<map_count		; Set number of CHR to draw.
 1334    02:D6F4  85 01      			sta	<map_drawn		; Preserve number of CHR drawn.
 1335                        	
 1336    02:D6F6  A9 05      			lda	#VDC_CR			; Set VDC auto-increment from
 1337    02:D6F8  95 F7      			sta	<vdc_reg, x		; the BAT width, which is set
 1338    02:D6FA  9D 00 02   			sta	VDC_AR, x		; up by set_screen_size().
 1339    02:D6FD  B5 F4      			lda	<vdc_crh, x
 1340    02:D6FF  9D 03 02   			sta	VDC_DH, x
 1341                        	
 1342    02:D702  20 44 DA   			jsr	blk_col_strip		; Draw top of vertical strip.
 1343                        	
 1344                        			; Wrap around and draw the rest of the column (if needed).
 1345                        	
 1346    02:D705  38         			sec				; Are there any more CHR that
 1347    02:D706  BD C6 26   			lda	vdc_map_draw_h, x	; need to be drawn?
 1348    02:D709  E5 01      			sbc	<map_drawn
 1349    02:D70B  F0 2C      			beq	.done
 1350                        	
 1351    02:D70D  85 00      			sta	<map_count		; Set number of CHR to draw.
 1352                        	
 1353    02:D70F  A5 FE      			lda	<map_chr_y		; Update CHR Y coordinate for
 1354    02:D711  48         			pha				; drawing unaligned tiles.
 1355    02:D712  18         			clc
 1356    02:D713  65 01      			adc	<map_drawn
 1357    02:D715  85 FE      			sta	<map_chr_y
 1358                        	
 1359               0001     		.if	BLKMAP_MULTISCR
 1360    02:D717  BD 09 2C   			lda	vdc_scr_bank, x		; Skip this if regular blkmap.
 1361    02:D71A  F0 0F      			beq	!+
 1362                        	
 1363    02:D71C  E6 FF      			inc	<map_scrn_y		; Wrapped to the next screen.
 1364                        	
 1365    02:D71E  20 B1 D5   			jsr	map_set_screen		; Put BLK & MAP in MPR2-MPR5.
 1366                        	
 1367    02:D721  A5 F8      			lda	<map_bat_x		; Calc map data pointer.
 1368    02:D723  4A         			lsr	a			; Map BLK X coordinate.
 1369    02:D724  85 EC      			sta.l	<_bp
 1370    02:D726  BD 05 2C   			lda.h	vdc_map_addr, x		; N.B. 256-byte aligned!
 1371    02:D729  85 ED      			sta.h	<_bp
 1372                        		.endif
 1373                        	
 1374    02:D72B  A5 F8      	!:		lda	<map_bat_x		; Set the BAT VRAM destination
 1375    02:D72D  85 F0      			sta.l	<_di			; coordinates.
 1376    02:D72F  64 F1      			stz.h	<_di			; Reset 1st row to draw.
 1377                        	
 1378    02:D731  20 44 DA   			jsr	blk_col_strip		; Draw btm of vertical strip.
 1379                        	
 1380               0001     		.if	BLKMAP_MULTISCR
 1381    02:D734  C6 FF      			dec	<map_scrn_y		; Restore, no check if should.
 1382                        		.endif
 1383                        	
 1384    02:D736  68         			pla				; Restore CHR Y coordinate, we
 1385    02:D737  85 FE      			sta	<map_chr_y		; might draw another column!
 1386                        	
 1387    02:D739  A9 05      	.done:		lda	#VDC_CR			; Set VDC auto-increment to 1.
 1388    02:D73B  95 F7      			sta	<vdc_reg, x
 1389    02:D73D  9D 00 02   			sta	VDC_AR, x
 1390    02:D740  9E 03 02   			stz	VDC_DH, x
 1391                        	
 1392    02:D743  60         			rts
 1393                        	
 1394                        	
 1395                        	
 1396                        	; ***************************************************************************
 1397                        	; ***************************************************************************
 1398                        	;
 1399                        	; map_scroll_y - Update the BAT when Y coordinate changes.
 1400                        	;
 1401                        	; N.B. This will alter map_chr_y and map_scrn_y if moved in +ve direction!
 1402                        	;
 1403                        	; N.B. This draws multiple rows when called from _draw_map or _blit_map.
 1404                        	;
 1405                        	
 1406    02:D744  60         	!no_change:	rts
 1407                        	
 1408    02:D745             	map_scroll_y:
 1409                        	
 1410               0001     		.if	BLKMAP_MULTISCR
 1411                        	
 1412                        			; Initialization for a multi-screen map.
 1413                        	
 1414    02:D745  BD 09 2C   			lda	vdc_scr_bank, x		; Skip this if regular blkmap.
 1415    02:D748  F0 56      			beq	.regular
 1416                        	
 1417    02:D74A  A5 FE      	.multiscr:	lda	<map_chr_y		; Compare old_y with cur_y.
 1418    02:D74C  DD FD 2B   			cmp	vdc_old_chr_y, x
 1419               0001     		.if	BLKMAP_TIMETEST == 0
 1420    02:D74F  F0 F3      			beq	!no_change-		; Do nothing if no change.
 1421                        		.endif
 1422    02:D751  9D FD 2B   			sta	vdc_old_chr_y, x
 1423    02:D754  30 11      			bmi	!+			; Test the sign of the change.
 1424                        	
 1425    02:D756  18         			clc				; Draw bottom if chr_y >= old_y.
 1426    02:D757  3D C3 26   			and	vdc_bat_y_mask, x
 1427    02:D75A  7D C6 26   			adc	vdc_map_draw_h, x	; Usually (SCR_HEIGHT / 8) + 1.
 1428    02:D75D  3A         			dec	a
 1429    02:D75E  85 FE      			sta	<map_chr_y		; Update CHR Y chr coordinate.
 1430    02:D760  3C C1 26   			bit	vdc_bat_height, x
 1431    02:D763  F0 02      			beq	!+
 1432    02:D765  E6 FF      			inc	<map_scrn_y		; Wrapped to the next screen.
 1433                        	
 1434    02:D767  3D C3 26   	!:		and	vdc_bat_y_mask, x
 1435    02:D76A  85 F9      			sta	<map_bat_y		; Save BAT Y chr coordinate.
 1436                        	
 1437    02:D76C  4A         			lsr	a			; Map BLK Y coordinate.
 1438    02:D76D  85 EF      			sta.h	<map_line
 1439    02:D76F  62         			cla
 1440    02:D770  3C C0 26   			bit	vdc_bat_width, x
 1441    02:D773  30 08      			bmi	.w128
 1442    02:D775  70 03      			bvs	.w64
 1443    02:D777  46 EF      	.w32:		lsr.h	<map_line
 1444    02:D779  6A         			ror	a
 1445    02:D77A  46 EF      	.w64:		lsr.h	<map_line
 1446    02:D77C  6A         			ror	a
 1447    02:D77D  46 EF      	.w128:		lsr.h	<map_line
 1448    02:D77F  6A         			ror	a
 1449    02:D780  46 EF      			lsr.h	<map_line		; Hi-byte of (BLK Y * width).
 1450    02:D782  6A         			ror	a
 1451    02:D783  85 EE      			sta.l	<map_line		; Lo-byte of (BLK Y * width).
 1452                        	
 1453    02:D785  A5 FC      			lda	<map_chr_x
 1454    02:D787  3D C2 26   			and	vdc_bat_x_mask, x
 1455    02:D78A  85 F8      			sta	<map_bat_x		; Save BAT X chr coordinate.
 1456                        	
 1457                        			; Loop to here if drawing multiple multi-screen rows.
 1458                        	
 1459    02:D78C  20 B1 D5   	.multiscr_row:	jsr	map_set_screen		; Put BLK & MAP in MPR2-MPR5.
 1460                        	
 1461    02:D78F  A5 F8      			lda	<map_bat_x		; Calc map data pointer.
 1462    02:D791  4A         			lsr	a			; Map BLK X coordinate.
 1463    02:D792  05 EE      			ora.l	<map_line
 1464    02:D794  85 EC      			sta.l	<_bp
 1465    02:D796  A5 EF      			lda.h	<map_line
 1466    02:D798  18         			clc
 1467    02:D799  7D 05 2C   			adc.h	vdc_map_addr, x		; N.B. 256-byte aligned!
 1468    02:D79C  85 ED      			sta.h	<_bp
 1469                        	
 1470    02:D79E  80 60      			bra	.draw_row		; Now draw it.
 1471                        	
 1472                        		.endif	BLKMAP_MULTISCR
 1473                        	
 1474                        			; Initialization for a regular blkmap.
 1475                        	
 1476    02:D7A0  A5 FE      	.regular:	lda	<map_chr_y		; Compare old_y with cur_y.
 1477    02:D7A2  DD FD 2B   			cmp	vdc_old_chr_y, x
 1478               0001     		.if	BLKMAP_TIMETEST == 0
 1479    02:D7A5  F0 9D      			beq	!no_change-		; Do nothing if no change.
 1480                        		.endif
 1481    02:D7A7  9D FD 2B   			sta	vdc_old_chr_y, x
 1482    02:D7AA  30 07      			bmi	!+			; Test the sign of the change.
 1483                        	
 1484    02:D7AC  18         			clc				; Draw bottom if chr_y >= old_y.
 1485    02:D7AD  7D C6 26   			adc	vdc_map_draw_h, x	; Usually (SCR_HEIGHT / 8) + 1.
 1486    02:D7B0  3A         			dec	a
 1487    02:D7B1  85 FE      			sta	<map_chr_y		; Update CHR Y chr coordinate.
 1488                        	
 1489    02:D7B3  A8         	!:		tay				; A = map CHR Y coordinate.
 1490    02:D7B4  4A         			lsr	a
 1491    02:D7B5  42         			say				; Y = map BLK Y coordinate.
 1492                        	
 1493    02:D7B6  3C CD 26   			bit	vdc_map_option, x	; Set bit6 to disable aligning
 1494    02:D7B9  70 05      			bvs	!+			; BAT Y with the map Y.
 1495    02:D7BB  3D C3 26   			and	vdc_bat_y_mask, x
 1496    02:D7BE  85 F9      			sta	<map_bat_y		; Save BAT Y chr coordinate.
 1497                        	
 1498    02:D7C0  3C CD 26   	!:		bit	vdc_map_option, x	; Set bit7 to disable aligning
 1499    02:D7C3  30 07      			bmi	!+			; BAT X with the map X.
 1500    02:D7C5  A5 FC      			lda	<map_chr_x
 1501    02:D7C7  3D C2 26   			and	vdc_bat_x_mask, x
 1502    02:D7CA  85 F8      			sta	<map_bat_x		; Save BAT X chr coordinate.
 1503    02:D7CC             	!:
 1504                        	
 1505               0000     		.if	BLKMAP_LARGEMAP
 1510                        		.endif
 1511                        	
 1512    02:D7CC  BD C7 26   			lda	vdc_map_line_w, x	; Map width in BLK.
 1513               0000     		.if	FAST_MULTIPLY
 1526                        		.else
 1527    02:D7CF  84 EF      			sty.h	<map_line		; Takes 144..176 cycles.
 1528    02:D7D1  A0 08      			ldy	#8
 1529    02:D7D3  4A         			lsr	a
 1530    02:D7D4  85 EE      			sta.l	<map_line
 1531    02:D7D6  62         			cla
 1532    02:D7D7  90 03      			bcc	.rotate
 1533    02:D7D9  18         	.add:		clc
 1534    02:D7DA  65 EF      			adc.h	<map_line
 1535    02:D7DC  6A         	.rotate:	ror	a
 1536    02:D7DD  66 EE      			ror.l	<map_line		; Lo-byte of (BLK Y * width).
 1537    02:D7DF  88         			dey
 1538    02:D7E0  B0 F7      			bcs	.add
 1539    02:D7E2  D0 F8      			bne	.rotate
 1540    02:D7E4  85 EF      			sta.h	<map_line		; Hi-byte of (BLK Y * width).
 1541                        		.endif
 1542                        	
 1543    02:D7E6  20 17 D6   			jsr	map_set_banks		; Put BLK & MAP in MPR2-MPR5.
 1544                        	
 1545                        			; Loop to here if drawing multiple regular blkmap rows.
 1546                        	
 1547    02:D7E9  A4 EF      	.regular_row:	ldy.h	<map_line		; Hi-byte of (BLK Y * width).
 1548    02:D7EB  A5 FC      			lda	<map_chr_x		; Map CHR X coordinate.
 1549    02:D7ED  4A         			lsr	a			; Map BLK X coordinate.
 1550    02:D7EE  18         			clc
 1551    02:D7EF  65 EE      			adc.l	<map_line		; Lo-byte of (BLK Y * width).
 1552    02:D7F1  90 01      			bcc	!+
 1553    02:D7F3  C8         			iny
 1554    02:D7F4  18         	!:		clc				; Calc map data pointer.
 1555    02:D7F5  7D 04 2C   			adc.l	vdc_map_addr, x
 1556    02:D7F8  85 EC      			sta.l	<_bp			; Maximum map size is 16KBytes
 1557    02:D7FA  98         			tya				; so we don't need to consider
 1558    02:D7FB  7D 05 2C   			adc.h	vdc_map_addr, x		; bank overflow.
 1559    02:D7FE  85 ED      			sta.h	<_bp
 1560                        	
 1561                        			; Draw the first part of the row.
 1562                        	
 1563    02:D800  A5 F9      	.draw_row:	lda	<map_bat_y		; Set the BAT VRAM destination
 1564    02:D802  85 F1      			sta.h	<_di			; coordinates.
 1565    02:D804  A5 F8      			lda	<map_bat_x
 1566    02:D806  85 F0      			sta.l	<_di
 1567                        	
 1568    02:D808  5D C2 26   			eor	vdc_bat_x_mask, x	; Calc CHR before wrap.
 1569    02:D80B  1A         			inc	a
 1570    02:D80C  C5 FA      			cmp	<map_draw_w		; Usually (SCR_WIDTH / 8) + 1.
 1571    02:D80E  90 02      			bcc	!+
 1572    02:D810  A5 FA      			lda	<map_draw_w		; Maximum CHR to draw.
 1573    02:D812  85 00      	!:		sta	<map_count		; Set number of CHR to draw.
 1574    02:D814  85 01      			sta	<map_drawn		; Preserve number of CHR drawn.
 1575                        	
 1576    02:D816  20 86 D8   			jsr	blk_row_strip		; Draw lhs of horizontal strip.
 1577                        	
 1578                        			; Wrap around and draw the rest of the row (if needed).
 1579                        	
 1580    02:D819  38         			sec				; Are there any more CHR that
 1581    02:D81A  A5 FA      			lda	<map_draw_w		; need to be drawn?
 1582    02:D81C  E5 01      			sbc	<map_drawn
 1583    02:D81E  F0 2E      			beq	.done_row
 1584                        	
 1585    02:D820  85 00      			sta	<map_count		; Set number of CHR to draw.
 1586                        	
 1587    02:D822  A5 FC      			lda	<map_chr_x		; Update CHR X coordinate for
 1588    02:D824  48         			pha				; drawing unaligned tiles.
 1589    02:D825  18         			clc
 1590    02:D826  65 01      			adc	<map_drawn
 1591    02:D828  85 FC      			sta	<map_chr_x
 1592                        	
 1593               0001     		.if	BLKMAP_MULTISCR
 1594    02:D82A  BD 09 2C   			lda	vdc_scr_bank, x		; Skip this if regular blkmap.
 1595    02:D82D  F0 11      			beq	!+
 1596                        	
 1597    02:D82F  E6 FD      			inc	<map_scrn_x		; Wrapped to the next screen.
 1598                        	
 1599    02:D831  20 B1 D5   			jsr	map_set_screen		; Locate screen's BLK and MAP.
 1600                        	
 1601    02:D834  18         			clc				; Calc map data pointer.
 1602    02:D835  A5 EE      			lda.l	<map_line
 1603    02:D837  85 EC      			sta.l	<_bp
 1604    02:D839  A5 EF      			lda.h	<map_line
 1605    02:D83B  7D 05 2C   			adc.h	vdc_map_addr, x		; N.B. 256-byte aligned!
 1606    02:D83E  85 ED      			sta.h	<_bp
 1607                        		.endif
 1608                        	
 1609    02:D840  A5 F9      	!:		lda	<map_bat_y		; Set the BAT VRAM destination
 1610    02:D842  85 F1      			sta.h	<_di			; coordinates.
 1611    02:D844  64 F0      			stz.l	<_di			; Reset 1st column to draw.
 1612                        	
 1613    02:D846  20 86 D8   			jsr	blk_row_strip		; Draw rhs of horizontal strip.
 1614                        	
 1615               0001     		.if	BLKMAP_MULTISCR
 1616    02:D849  C6 FD      			dec	<map_scrn_x		; Restore, no check if should.
 1617                        		.endif	BLKMAP_MULTISCR
 1618                        	
 1619    02:D84B  68         			pla				; Restore CHR X coordinate, we
 1620    02:D84C  85 FC      			sta	<map_chr_x		; might draw another row!
 1621                        	
 1622    02:D84E  C6 FB      	.done_row:	dec	<map_draw_h		; Are all desired rows drawn?
 1623    02:D850  F0 33      			beq	.finished
 1624                        	
 1625    02:D852  E6 FE      			inc	<map_chr_y		; Move CHR Y down by 1.
 1626                        	
 1627    02:D854  A5 FE      			lda	<map_chr_y		; If new BLK then ...
 1628    02:D856  4A         			lsr	a
 1629    02:D857  B0 0B      			bcs	!+
 1630    02:D859  BD C7 26   			lda	vdc_map_line_w, x	; Move the map line pointer to
 1631    02:D85C  65 EE      			adc.l	<map_line		; the next line.
 1632    02:D85E  85 EE      			sta.l	<map_line
 1633    02:D860  90 02      			bcc	!+
 1634    02:D862  E6 EF      			inc.h	<map_line
 1635                        	
 1636    02:D864  A5 F9      	!:		lda	<map_bat_y		; Move BAT Y down by 1.
 1637    02:D866  1A         			inc	a
 1638    02:D867  3D C3 26   			and	vdc_bat_y_mask, x
 1639    02:D86A  85 F9      			sta	<map_bat_y
 1640                        	
 1641               0001     		.if	BLKMAP_MULTISCR
 1642    02:D86C  BC 09 2C   			ldy	vdc_scr_bank, x		; Skip this if regular blkmap.
 1643    02:D86F  D0 03 4C E9			beq	.regular_row
         02:D873  D7          
 1644                        	
 1645    02:D874  A8         			tay				; If wrapped to the top line of
 1646    02:D875  D0 0B      			bne	!+			; of the BAT then increment the
 1647    02:D877  E6 FF      			inc	<map_scrn_y		; screen.
 1648                        	
 1649    02:D879  BD C4 26   			lda	vdc_bat_limit, x	; The map line must wrap around
 1650    02:D87C  4A         			lsr	a			; too. This is simple since its
 1651    02:D87D  4A         			lsr	a			; size (in bytes) is 1/4 of the
 1652    02:D87E  25 EF      			and.h	<map_line		; BAT size (in words) and it is
 1653    02:D880  85 EF      			sta.h	<map_line		; a power-of-2.
 1654                        	
 1655    02:D882  4C 8C D7   	!:		jmp	.multiscr_row		; Draw next row.
 1656                        		.else
 1658                        		.endif	BLKMAP_MULTISCR
 1659                        	
 1660    02:D885  60         	.finished:	rts
 1661                        	
 1662                        	
 1663                        	
 1664               0000     		.if	BLKDEF_POINTERS
 1858                        		.else	BLKDEF_POINTERS
 1859                        	
 1860                        	
 1861                        	
 1862                        	; ***************************************************************************
 1863                        	; ***************************************************************************
 1864                        	;
 1865                        	; blk_row_strip - Draw a single row of CHR into the BAT.
 1866                        	;
 1867                        	
 1868    02:D886  20 48 E4   	blk_row_strip:	jsr	set_di_xy_mawr		; Set the BAT VRAM destination.
 1869                        	
 1870    02:D889  A5 FC      			lda	<map_chr_x		; Select what drawing code to
 1871    02:D88B  4A         			lsr	a			; use depending upon even/odd
 1872    02:D88C  A5 FE      			lda	<map_chr_y		; CHR coordinates (not BAT to
 1873    02:D88E  29 01      			and	#1			; support unaligned drawing).
 1874    02:D890  2A         			rol	a
 1875    02:D891  0A         			asl	a
 1876    02:D892  1D 02 2C   			ora.h	vdc_blk_addr, x		; What is the BLK data address?
 1877    02:D895  29 1E      			and	#%00011110		; $4000, $4800, $5000 or $5800.
 1878    02:D897  A8         			tay
 1879    02:D898  B9 A5 D8   			lda.h	.jump_table, y		; Push the address of the code.
 1880    02:D89B  48         			pha
 1881    02:D89C  B9 A4 D8   			lda.l	.jump_table, y
 1882    02:D89F  48         			pha
 1883                        	
 1884    02:D8A0  B2 EC      			lda	[_bp]			; Get the first BLK number.
 1885    02:D8A2  A8         			tay
 1886                        	
 1887    02:D8A3  60         			rts				; Jump to the drawing code.
 1888                        	
 1889    02:D8A4  C6 D8      	.jump_table:	dw	b4000_top_even - 1
 1890    02:D8A6  D9 D8      			dw	b4000_top_odd - 1
 1891    02:D8A8  F6 D8      			dw	b4000_btm_even - 1
 1892    02:D8AA  09 D9      			dw	b4000_btm_odd - 1
 1893                        	
 1894    02:D8AC  26 D9      			dw	b4800_top_even - 1
 1895    02:D8AE  39 D9      			dw	b4800_top_odd - 1
 1896    02:D8B0  56 D9      			dw	b4800_btm_even - 1
 1897    02:D8B2  69 D9      			dw	b4800_btm_odd - 1
 1898                        	
 1899    02:D8B4  86 D9      			dw	b5000_top_even - 1
 1900    02:D8B6  99 D9      			dw	b5000_top_odd - 1
 1901    02:D8B8  B6 D9      			dw	b5000_btm_even - 1
 1902    02:D8BA  C9 D9      			dw	b5000_btm_odd - 1
 1903                        	
 1904    02:D8BC  E6 D9      			dw	b5800_top_even - 1
 1905    02:D8BE  F9 D9      			dw	b5800_top_odd - 1
 1906    02:D8C0  16 DA      			dw	b5800_btm_even - 1
 1907    02:D8C2  29 DA      			dw	b5800_btm_odd - 1
 1908                        	
 1909                        			; top horizontal (32+2 rept)
 1910                        			;
 1911                        			; 89 cycles per block * 17 -> 1513 cycles
 1912                        	
 1913    02:D8C4  B2 EC      	!repeat:	lda	[_bp]			; 7
 1914    02:D8C6  A8         			tay				; 2
 1915                        	
 1916    02:D8C7  B9 00 40   	b4000_top_even:	lda	BLK_4000_TL_L, y	; 5
 1917    02:D8CA  9D 02 02   			sta	VDC_DL, x		; 6
 1918    02:D8CD  B9 00 44   			lda	BLK_4000_TL_H, y	; 5
 1919               0001     		.if	BLKDEF_CHR_FLAG
 1920    02:D8D0  29 F3      			and	#%11110011		; 2
 1921                        		.endif
 1922    02:D8D2  1A         			inc	a			; 2
 1923    02:D8D3  9D 03 02   			sta	VDC_DH, x		; 6
 1924                        	
 1925    02:D8D6  C6 00      			dec	<map_count		; 6
 1926    02:D8D8  F0 19      			beq	!end+			; 2
 1927                        	
 1928    02:D8DA  B9 00 41   	b4000_top_odd:	lda	BLK_4000_TR_L, y	; 5
 1929    02:D8DD  9D 02 02   			sta	VDC_DL, x		; 6
 1930    02:D8E0  B9 00 45   			lda	BLK_4000_TR_H, y	; 5
 1931               0001     		.if	BLKDEF_CHR_FLAG
 1932    02:D8E3  29 F3      			and	#%11110011		; 2
 1933                        		.endif
 1934    02:D8E5  1A         			inc	a			; 2
 1935    02:D8E6  9D 03 02   			sta	VDC_DH, x		; 6
 1936                        	
 1937    02:D8E9  E6 EC      			inc.l	<_bp			; 6
 1938    02:D8EB  D0 02      			bne	!+			; 2/4
 1939    02:D8ED  E6 ED      			inc.h	<_bp			; 6
 1940                        	
 1941    02:D8EF  C6 00      	!:		dec	<map_count		; 6
 1942    02:D8F1  D0 D1      			bne	!repeat-		; 4
 1943                        	
 1944    02:D8F3  60         	!end:		rts
 1945                        	
 1946                        			; btm horizontal (32+2 rept)
 1947                        			;
 1948                        			; 89 cycles per block * 17 -> 1513 cycles
 1949                        	
 1950    02:D8F4  B2 EC      	!repeat:	lda	[_bp]			; 7
 1951    02:D8F6  A8         			tay				; 2
 1952                        	
 1953    02:D8F7  B9 00 42   	b4000_btm_even:	lda	BLK_4000_BL_L, y	; 5
 1954    02:D8FA  9D 02 02   			sta	VDC_DL, x		; 6
 1955    02:D8FD  B9 00 46   			lda	BLK_4000_BL_H, y	; 5
 1956               0001     		.if	BLKDEF_CHR_FLAG
 1957    02:D900  29 F3      			and	#%11110011		; 2
 1958                        		.endif
 1959    02:D902  1A         			inc	a			; 2
 1960    02:D903  9D 03 02   			sta	VDC_DH, x		; 6
 1961                        	
 1962    02:D906  C6 00      			dec	<map_count		; 6
 1963    02:D908  F0 19      			beq	!end+			; 2
 1964                        	
 1965    02:D90A  B9 00 43   	b4000_btm_odd:	lda	BLK_4000_BR_L, y	; 5
 1966    02:D90D  9D 02 02   			sta	VDC_DL, x		; 6
 1967    02:D910  B9 00 47   			lda	BLK_4000_BR_H, y	; 5
 1968               0001     		.if	BLKDEF_CHR_FLAG
 1969    02:D913  29 F3      			and	#%11110011		; 2
 1970                        		.endif
 1971    02:D915  1A         			inc	a			; 2
 1972    02:D916  9D 03 02   			sta	VDC_DH, x		; 6
 1973                        	
 1974    02:D919  E6 EC      			inc.l	<_bp			; 6
 1975    02:D91B  D0 02      			bne	!+			; 2/4
 1976    02:D91D  E6 ED      			inc.h	<_bp			; 6
 1977                        	
 1978    02:D91F  C6 00      	!:		dec	<map_count		; 6
 1979    02:D921  D0 D1      			bne	!repeat-		; 4
 1980                        	
 1981    02:D923  60         	!end:		rts
 1982                        	
 1983                        			; top horizontal (32+2 rept)
 1984                        			;
 1985                        			; 89 cycles per block * 17 -> 1513 cycles
 1986                        	
 1987    02:D924  B2 EC      	!repeat:	lda	[_bp]			; 7
 1988    02:D926  A8         			tay				; 2
 1989                        	
 1990    02:D927  B9 00 48   	b4800_top_even:	lda	BLK_4800_TL_L, y	; 5
 1991    02:D92A  9D 02 02   			sta	VDC_DL, x		; 6
 1992    02:D92D  B9 00 4C   			lda	BLK_4800_TL_H, y	; 5
 1993               0001     		.if	BLKDEF_CHR_FLAG
 1994    02:D930  29 F3      			and	#%11110011		; 2
 1995                        		.endif
 1996    02:D932  1A         			inc	a			; 2
 1997    02:D933  9D 03 02   			sta	VDC_DH, x		; 6
 1998                        	
 1999    02:D936  C6 00      			dec	<map_count		; 6
 2000    02:D938  F0 19      			beq	!end+			; 2
 2001                        	
 2002    02:D93A  B9 00 49   	b4800_top_odd:	lda	BLK_4800_TR_L, y	; 5
 2003    02:D93D  9D 02 02   			sta	VDC_DL, x		; 6
 2004    02:D940  B9 00 4D   			lda	BLK_4800_TR_H, y	; 5
 2005               0001     		.if	BLKDEF_CHR_FLAG
 2006    02:D943  29 F3      			and	#%11110011		; 2
 2007                        		.endif
 2008    02:D945  1A         			inc	a			; 2
 2009    02:D946  9D 03 02   			sta	VDC_DH, x		; 6
 2010                        	
 2011    02:D949  E6 EC      			inc.l	<_bp			; 6
 2012    02:D94B  D0 02      			bne	!+			; 2/4
 2013    02:D94D  E6 ED      			inc.h	<_bp			; 6
 2014                        	
 2015    02:D94F  C6 00      	!:		dec	<map_count		; 6
 2016    02:D951  D0 D1      			bne	!repeat-		; 4
 2017                        	
 2018    02:D953  60         	!end:		rts
 2019                        	
 2020                        			; btm horizontal (32+2 rept)
 2021                        			;
 2022                        			; 89 cycles per block * 17 -> 1513 cycles
 2023                        	
 2024    02:D954  B2 EC      	!repeat:	lda	[_bp]			; 7
 2025    02:D956  A8         			tay				; 2
 2026                        	
 2027    02:D957  B9 00 4A   	b4800_btm_even:	lda	BLK_4800_BL_L, y	; 5
 2028    02:D95A  9D 02 02   			sta	VDC_DL, x		; 6
 2029    02:D95D  B9 00 4E   			lda	BLK_4800_BL_H, y	; 5
 2030               0001     		.if	BLKDEF_CHR_FLAG
 2031    02:D960  29 F3      			and	#%11110011		; 2
 2032                        		.endif
 2033    02:D962  1A         			inc	a			; 2
 2034    02:D963  9D 03 02   			sta	VDC_DH, x		; 6
 2035                        	
 2036    02:D966  C6 00      			dec	<map_count		; 6
 2037    02:D968  F0 19      			beq	!end+			; 2
 2038                        	
 2039    02:D96A  B9 00 4B   	b4800_btm_odd:	lda	BLK_4800_BR_L, y	; 5
 2040    02:D96D  9D 02 02   			sta	VDC_DL, x		; 6
 2041    02:D970  B9 00 4F   			lda	BLK_4800_BR_H, y	; 5
 2042               0001     		.if	BLKDEF_CHR_FLAG
 2043    02:D973  29 F3      			and	#%11110011		; 2
 2044                        		.endif
 2045    02:D975  1A         			inc	a			; 2
 2046    02:D976  9D 03 02   			sta	VDC_DH, x		; 6
 2047                        	
 2048    02:D979  E6 EC      			inc.l	<_bp			; 6
 2049    02:D97B  D0 02      			bne	!+			; 2/4
 2050    02:D97D  E6 ED      			inc.h	<_bp			; 6
 2051                        	
 2052    02:D97F  C6 00      	!:		dec	<map_count		; 6
 2053    02:D981  D0 D1      			bne	!repeat-		; 4
 2054                        	
 2055    02:D983  60         	!end:		rts
 2056                        	
 2057                        			; top horizontal (32+2 rept)
 2058                        			;
 2059                        			; 89 cycles per block * 17 -> 1513 cycles
 2060                        	
 2061    02:D984  B2 EC      	!repeat:	lda	[_bp]			; 7
 2062    02:D986  A8         			tay				; 2
 2063                        	
 2064    02:D987  B9 00 50   	b5000_top_even:	lda	BLK_5000_TL_L, y	; 5
 2065    02:D98A  9D 02 02   			sta	VDC_DL, x		; 6
 2066    02:D98D  B9 00 54   			lda	BLK_5000_TL_H, y	; 5
 2067               0001     		.if	BLKDEF_CHR_FLAG
 2068    02:D990  29 F3      			and	#%11110011		; 2
 2069                        		.endif
 2070    02:D992  1A         			inc	a			; 2
 2071    02:D993  9D 03 02   			sta	VDC_DH, x		; 6
 2072                        	
 2073    02:D996  C6 00      			dec	<map_count		; 6
 2074    02:D998  F0 19      			beq	!end+			; 2
 2075                        	
 2076    02:D99A  B9 00 51   	b5000_top_odd:	lda	BLK_5000_TR_L, y	; 5
 2077    02:D99D  9D 02 02   			sta	VDC_DL, x		; 6
 2078    02:D9A0  B9 00 55   			lda	BLK_5000_TR_H, y	; 5
 2079               0001     		.if	BLKDEF_CHR_FLAG
 2080    02:D9A3  29 F3      			and	#%11110011		; 2
 2081                        		.endif
 2082    02:D9A5  1A         			inc	a			; 2
 2083    02:D9A6  9D 03 02   			sta	VDC_DH, x		; 6
 2084                        	
 2085    02:D9A9  E6 EC      			inc.l	<_bp			; 6
 2086    02:D9AB  D0 02      			bne	!+			; 2/4
 2087    02:D9AD  E6 ED      			inc.h	<_bp			; 6
 2088                        	
 2089    02:D9AF  C6 00      	!:		dec	<map_count		; 6
 2090    02:D9B1  D0 D1      			bne	!repeat-		; 4
 2091                        	
 2092    02:D9B3  60         	!end:		rts
 2093                        	
 2094                        			; btm horizontal (32+2 rept)
 2095                        			;
 2096                        			; 89 cycles per block * 17 -> 1513 cycles
 2097                        	
 2098    02:D9B4  B2 EC      	!repeat:	lda	[_bp]			; 7
 2099    02:D9B6  A8         			tay				; 2
 2100                        	
 2101    02:D9B7  B9 00 52   	b5000_btm_even:	lda	BLK_5000_BL_L, y	; 5
 2102    02:D9BA  9D 02 02   			sta	VDC_DL, x		; 6
 2103    02:D9BD  B9 00 56   			lda	BLK_5000_BL_H, y	; 5
 2104               0001     		.if	BLKDEF_CHR_FLAG
 2105    02:D9C0  29 F3      			and	#%11110011		; 2
 2106                        		.endif
 2107    02:D9C2  1A         			inc	a			; 2
 2108    02:D9C3  9D 03 02   			sta	VDC_DH, x		; 6
 2109                        	
 2110    02:D9C6  C6 00      			dec	<map_count		; 6
 2111    02:D9C8  F0 19      			beq	!end+			; 2
 2112                        	
 2113    02:D9CA  B9 00 53   	b5000_btm_odd:	lda	BLK_5000_BR_L, y	; 5
 2114    02:D9CD  9D 02 02   			sta	VDC_DL, x		; 6
 2115    02:D9D0  B9 00 57   			lda	BLK_5000_BR_H, y	; 5
 2116               0001     		.if	BLKDEF_CHR_FLAG
 2117    02:D9D3  29 F3      			and	#%11110011		; 2
 2118                        		.endif
 2119    02:D9D5  1A         			inc	a			; 2
 2120    02:D9D6  9D 03 02   			sta	VDC_DH, x		; 6
 2121                        	
 2122    02:D9D9  E6 EC      			inc.l	<_bp			; 6
 2123    02:D9DB  D0 02      			bne	!+			; 2/4
 2124    02:D9DD  E6 ED      			inc.h	<_bp			; 6
 2125                        	
 2126    02:D9DF  C6 00      	!:		dec	<map_count		; 6
 2127    02:D9E1  D0 D1      			bne	!repeat-		; 4
 2128                        	
 2129    02:D9E3  60         	!end:		rts
 2130                        	
 2131                        			; top horizontal (32+2 rept)
 2132                        			;
 2133                        			; 89 cycles per block * 17 -> 1513 cycles
 2134                        	
 2135    02:D9E4  B2 EC      	!repeat:	lda	[_bp]			; 7
 2136    02:D9E6  A8         			tay				; 2
 2137                        	
 2138    02:D9E7  B9 00 58   	b5800_top_even:	lda	BLK_5800_TL_L, y	; 5
 2139    02:D9EA  9D 02 02   			sta	VDC_DL, x		; 6
 2140    02:D9ED  B9 00 5C   			lda	BLK_5800_TL_H, y	; 5
 2141               0001     		.if	BLKDEF_CHR_FLAG
 2142    02:D9F0  29 F3      			and	#%11110011		; 2
 2143                        		.endif
 2144    02:D9F2  1A         			inc	a			; 2
 2145    02:D9F3  9D 03 02   			sta	VDC_DH, x		; 6
 2146                        	
 2147    02:D9F6  C6 00      			dec	<map_count		; 6
 2148    02:D9F8  F0 19      			beq	!end+			; 2
 2149                        	
 2150    02:D9FA  B9 00 59   	b5800_top_odd:	lda	BLK_5800_TR_L, y	; 5
 2151    02:D9FD  9D 02 02   			sta	VDC_DL, x		; 6
 2152    02:DA00  B9 00 5D   			lda	BLK_5800_TR_H, y	; 5
 2153               0001     		.if	BLKDEF_CHR_FLAG
 2154    02:DA03  29 F3      			and	#%11110011		; 2
 2155                        		.endif
 2156    02:DA05  1A         			inc	a			; 2
 2157    02:DA06  9D 03 02   			sta	VDC_DH, x		; 6
 2158                        	
 2159    02:DA09  E6 EC      			inc.l	<_bp			; 6
 2160    02:DA0B  D0 02      			bne	!+			; 2/4
 2161    02:DA0D  E6 ED      			inc.h	<_bp			; 6
 2162                        	
 2163    02:DA0F  C6 00      	!:		dec	<map_count		; 6
 2164    02:DA11  D0 D1      			bne	!repeat-		; 4
 2165                        	
 2166    02:DA13  60         	!end:		rts
 2167                        	
 2168                        			; btm horizontal (32+2 rept)
 2169                        			;
 2170                        			; 89 cycles per block * 17 -> 1513 cycles
 2171                        	
 2172    02:DA14  B2 EC      	!repeat:	lda	[_bp]		; 7
 2173    02:DA16  A8         			tay				; 2
 2174                        	
 2175    02:DA17  B9 00 5A   	b5800_btm_even:	lda	BLK_5800_BL_L, y	; 5
 2176    02:DA1A  9D 02 02   			sta	VDC_DL, x		; 6
 2177    02:DA1D  B9 00 5E   			lda	BLK_5800_BL_H, y	; 5
 2178               0001     		.if	BLKDEF_CHR_FLAG
 2179    02:DA20  29 F3      			and	#%11110011		; 2
 2180                        		.endif
 2181    02:DA22  1A         			inc	a			; 2
 2182    02:DA23  9D 03 02   			sta	VDC_DH, x		; 6
 2183                        	
 2184    02:DA26  C6 00      			dec	<map_count		; 6
 2185    02:DA28  F0 19      			beq	!end+			; 2
 2186                        	
 2187    02:DA2A  B9 00 5B   	b5800_btm_odd:	lda	BLK_5800_BR_L, y	; 5
 2188    02:DA2D  9D 02 02   			sta	VDC_DL, x		; 6
 2189    02:DA30  B9 00 5F   			lda	BLK_5800_BR_H, y	; 5
 2190               0001     		.if	BLKDEF_CHR_FLAG
 2191    02:DA33  29 F3      			and	#%11110011		; 2
 2192                        		.endif
 2193    02:DA35  1A         			inc	a			; 2
 2194    02:DA36  9D 03 02   			sta	VDC_DH, x		; 6
 2195                        	
 2196    02:DA39  E6 EC      			inc.l	<_bp			; 6
 2197    02:DA3B  D0 02      			bne	!+			; 2/4
 2198    02:DA3D  E6 ED      			inc.h	<_bp			; 6
 2199                        	
 2200    02:DA3F  C6 00      	!:		dec	<map_count		; 6
 2201    02:DA41  D0 D1      			bne	!repeat-		; 4
 2202                        	
 2203    02:DA43  60         	!end:		rts
 2204                        	
 2205                        	
 2206                        	
 2207                        	; ***************************************************************************
 2208                        	; ***************************************************************************
 2209                        	;
 2210                        	; blk_col_strip - Draw a single column of CHR into the BAT.
 2211                        	;
 2212                        	
 2213    02:DA44  20 48 E4   	blk_col_strip:	jsr	set_di_xy_mawr		; Set the BAT VRAM destination.
 2214                        	
 2215    02:DA47  A5 FC      			lda	<map_chr_x		; Select what drawing code to
 2216    02:DA49  4A         			lsr	a			; use depending upon even/odd
 2217    02:DA4A  A5 FE      			lda	<map_chr_y		; CHR coordinates (not BAT to
 2218    02:DA4C  29 01      			and	#1			; support unaligned drawing).
 2219    02:DA4E  2A         			rol	a
 2220    02:DA4F  0A         			asl	a			; N.B. Always leaves C clear.
 2221    02:DA50  1D 02 2C   			ora.h	vdc_blk_addr, x		; What is the BLK data address?
 2222    02:DA53  29 1E      			and	#%00011110		; $4000, $4800, $5000 or $5800.
 2223    02:DA55  A8         			tay
 2224    02:DA56  B9 63 DA   			lda.h	.jump_table, y		; Push the address of the code.
 2225    02:DA59  48         			pha
 2226    02:DA5A  B9 62 DA   			lda.l	.jump_table, y
 2227    02:DA5D  48         			pha
 2228                        	
 2229    02:DA5E  B2 EC      			lda	[_bp]			; Get the first BLK number.
 2230    02:DA60  A8         			tay
 2231                        	
 2232    02:DA61  60         			rts				; Jump to the drawing code.
 2233                        	
 2234    02:DA62  84 DA      	.jump_table:	dw	b4000_lhs_even - 1
 2235    02:DA64  BA DA      			dw	b4000_rhs_even - 1
 2236    02:DA66  97 DA      			dw	b4000_lhs_odd - 1
 2237    02:DA68  CD DA      			dw	b4000_rhs_odd - 1
 2238                        	
 2239    02:DA6A  F0 DA      			dw	b4800_lhs_even - 1
 2240    02:DA6C  26 DB      			dw	b4800_rhs_even - 1
 2241    02:DA6E  03 DB      			dw	b4800_lhs_odd - 1
 2242    02:DA70  39 DB      			dw	b4800_rhs_odd - 1
 2243                        	
 2244    02:DA72  5C DB      			dw	b5000_lhs_even - 1
 2245    02:DA74  92 DB      			dw	b5000_rhs_even - 1
 2246    02:DA76  6F DB      			dw	b5000_lhs_odd - 1
 2247    02:DA78  A5 DB      			dw	b5000_rhs_odd - 1
 2248                        	
 2249    02:DA7A  C8 DB      			dw	b5800_lhs_even - 1
 2250    02:DA7C  FE DB      			dw	b5800_rhs_even - 1
 2251    02:DA7E  DB DB      			dw	b5800_lhs_odd - 1
 2252    02:DA80  11 DC      			dw	b5800_rhs_odd - 1
 2253                        	
 2254                        			; lhs vertical (28+2 rept)
 2255                        			;
 2256                        			; N.B. C is always clear on entry.
 2257                        			;
 2258                        			; 100 cycles per block * 15 -> 1500 cycles
 2259                        	
 2260    02:DA82  B2 EC      	!repeat:	lda	[_bp]			; 7
 2261    02:DA84  A8         			tay				; 2
 2262                        	
 2263    02:DA85  B9 00 40   	b4000_lhs_even:	lda	BLK_4000_TL_L, y	; 5
 2264    02:DA88  9D 02 02   			sta	VDC_DL, x		; 6
 2265    02:DA8B  B9 00 44   			lda	BLK_4000_TL_H, y	; 5
 2266               0001     		.if	BLKDEF_CHR_FLAG
 2267    02:DA8E  29 F3      			and	#%11110011		; 2
 2268                        		.endif
 2269    02:DA90  1A         			inc	a			; 2
 2270    02:DA91  9D 03 02   			sta	VDC_DH, x		; 6
 2271                        	
 2272    02:DA94  C6 00      			dec	<map_count		; 6
 2273    02:DA96  F0 1F      			beq	!end+			; 2
 2274                        	
 2275    02:DA98  B9 00 42   	b4000_lhs_odd:	lda	BLK_4000_BL_L, y	; 5
 2276    02:DA9B  9D 02 02   			sta	VDC_DL, x		; 6
 2277    02:DA9E  B9 00 46   			lda	BLK_4000_BL_H, y	; 5
 2278               0001     		.if	BLKDEF_CHR_FLAG
 2279    02:DAA1  29 F3      			and	#%11110011		; 2
 2280                        		.endif
 2281    02:DAA3  1A         			inc	a			; 2
 2282    02:DAA4  9D 03 02   			sta	VDC_DH, x		; 6
 2283                        	
 2284    02:DAA7  BD C7 26   			lda	vdc_map_line_w, x	; 5
 2285    02:DAAA  65 EC      			adc.l	<_bp			; 4
 2286    02:DAAC  85 EC      			sta.l	<_bp			; 4
 2287    02:DAAE  90 03      			bcc	!+			; 2/4
 2288    02:DAB0  E6 ED      			inc.h	<_bp			; 6
 2289    02:DAB2  18         			clc				; 2
 2290                        	
 2291    02:DAB3  C6 00      	!:		dec	<map_count		; 6
 2292    02:DAB5  D0 CB      			bne	!repeat-		; 4
 2293                        	
 2294    02:DAB7  60         	!end:		rts
 2295                        	
 2296                        			; rhs vertical (28+2 rept)
 2297                        			;
 2298                        			; N.B. C is always clear on entry.
 2299                        			;
 2300                        			; 100 cycles per block * 15 -> 1500 cycles
 2301                        	
 2302    02:DAB8  B2 EC      	!repeat:	lda	[_bp]			; 7
 2303    02:DABA  A8         			tay				; 2
 2304                        	
 2305    02:DABB  B9 00 41   	b4000_rhs_even:	lda	BLK_4000_TR_L, y	; 5
 2306    02:DABE  9D 02 02   			sta	VDC_DL, x		; 6
 2307    02:DAC1  B9 00 45   			lda	BLK_4000_TR_H, y	; 5
 2308               0001     		.if	BLKDEF_CHR_FLAG
 2309    02:DAC4  29 F3      			and	#%11110011		; 2
 2310                        		.endif
 2311    02:DAC6  1A         			inc	a			; 2
 2312    02:DAC7  9D 03 02   			sta	VDC_DH, x		; 6
 2313                        	
 2314    02:DACA  C6 00      			dec	<map_count		; 6
 2315    02:DACC  F0 1F      			beq	!end+			; 2
 2316                        	
 2317    02:DACE  B9 00 43   	b4000_rhs_odd:	lda	BLK_4000_BR_L, y	; 5
 2318    02:DAD1  9D 02 02   			sta	VDC_DL, x		; 6
 2319    02:DAD4  B9 00 47   			lda	BLK_4000_BR_H, y	; 5
 2320               0001     		.if	BLKDEF_CHR_FLAG
 2321    02:DAD7  29 F3      			and	#%11110011		; 2
 2322                        		.endif
 2323    02:DAD9  1A         			inc	a			; 2
 2324    02:DADA  9D 03 02   			sta	VDC_DH, x		; 6
 2325                        	
 2326    02:DADD  BD C7 26   			lda	vdc_map_line_w, x	; 5
 2327    02:DAE0  65 EC      			adc.l	<_bp			; 4
 2328    02:DAE2  85 EC      			sta.l	<_bp			; 4
 2329    02:DAE4  90 03      			bcc	!+			; 2/4
 2330    02:DAE6  E6 ED      			inc.h	<_bp			; 6
 2331    02:DAE8  18         			clc				; 2
 2332                        	
 2333    02:DAE9  C6 00      	!:		dec	<map_count		; 6
 2334    02:DAEB  D0 CB      			bne	!repeat-		; 4
 2335                        	
 2336    02:DAED  60         	!end:		rts
 2337                        	
 2338                        			; lhs vertical (28+2 rept)
 2339                        			;
 2340                        			; N.B. C is always clear on entry.
 2341                        			;
 2342                        			; 100 cycles per block * 15 -> 1500 cycles
 2343                        	
 2344    02:DAEE  B2 EC      	!repeat:	lda	[_bp]			; 7
 2345    02:DAF0  A8         			tay				; 2
 2346                        	
 2347    02:DAF1  B9 00 48   	b4800_lhs_even:	lda	BLK_4800_TL_L, y	; 5
 2348    02:DAF4  9D 02 02   			sta	VDC_DL, x		; 6
 2349    02:DAF7  B9 00 4C   			lda	BLK_4800_TL_H, y	; 5
 2350               0001     		.if	BLKDEF_CHR_FLAG
 2351    02:DAFA  29 F3      			and	#%11110011		; 2
 2352                        		.endif
 2353    02:DAFC  1A         			inc	a			; 2
 2354    02:DAFD  9D 03 02   			sta	VDC_DH, x		; 6
 2355                        	
 2356    02:DB00  C6 00      			dec	<map_count		; 6
 2357    02:DB02  F0 1F      			beq	!end+			; 2
 2358                        	
 2359    02:DB04  B9 00 4A   	b4800_lhs_odd:	lda	BLK_4800_BL_L, y	; 5
 2360    02:DB07  9D 02 02   			sta	VDC_DL, x		; 6
 2361    02:DB0A  B9 00 4E   			lda	BLK_4800_BL_H, y	; 5
 2362               0001     		.if	BLKDEF_CHR_FLAG
 2363    02:DB0D  29 F3      			and	#%11110011		; 2
 2364                        		.endif
 2365    02:DB0F  1A         			inc	a			; 2
 2366    02:DB10  9D 03 02   			sta	VDC_DH, x		; 6
 2367                        	
 2368    02:DB13  BD C7 26   			lda	vdc_map_line_w, x	; 5
 2369    02:DB16  65 EC      			adc.l	<_bp			; 4
 2370    02:DB18  85 EC      			sta.l	<_bp			; 4
 2371    02:DB1A  90 03      			bcc	!+			; 2/4
 2372    02:DB1C  E6 ED      			inc.h	<_bp			; 6
 2373    02:DB1E  18         			clc				; 2
 2374                        	
 2375    02:DB1F  C6 00      	!:		dec	<map_count		; 6
 2376    02:DB21  D0 CB      			bne	!repeat-		; 4
 2377                        	
 2378    02:DB23  60         	!end:		rts
 2379                        	
 2380                        			; rhs vertical (28+2 rept)
 2381                        			;
 2382                        			; N.B. C is always clear on entry.
 2383                        			;
 2384                        			; 100 cycles per block * 15 -> 1500 cycles
 2385                        	
 2386    02:DB24  B2 EC      	!repeat:	lda	[_bp]			; 7
 2387    02:DB26  A8         			tay				; 2
 2388                        	
 2389    02:DB27  B9 00 49   	b4800_rhs_even:	lda	BLK_4800_TR_L, y	; 5
 2390    02:DB2A  9D 02 02   			sta	VDC_DL, x		; 6
 2391    02:DB2D  B9 00 4D   			lda	BLK_4800_TR_H, y	; 5
 2392               0001     		.if	BLKDEF_CHR_FLAG
 2393    02:DB30  29 F3      			and	#%11110011		; 2
 2394                        		.endif
 2395    02:DB32  1A         			inc	a			; 2
 2396    02:DB33  9D 03 02   			sta	VDC_DH, x		; 6
 2397                        	
 2398    02:DB36  C6 00      			dec	<map_count		; 6
 2399    02:DB38  F0 1F      			beq	!end+			; 2
 2400                        	
 2401    02:DB3A  B9 00 4B   	b4800_rhs_odd:	lda	BLK_4800_BR_L, y	; 5
 2402    02:DB3D  9D 02 02   			sta	VDC_DL, x		; 6
 2403    02:DB40  B9 00 4F   			lda	BLK_4800_BR_H, y	; 5
 2404               0001     		.if	BLKDEF_CHR_FLAG
 2405    02:DB43  29 F3      			and	#%11110011		; 2
 2406                        		.endif
 2407    02:DB45  1A         			inc	a			; 2
 2408    02:DB46  9D 03 02   			sta	VDC_DH, x		; 6
 2409                        	
 2410    02:DB49  BD C7 26   			lda	vdc_map_line_w, x	; 5
 2411    02:DB4C  65 EC      			adc.l	<_bp			; 4
 2412    02:DB4E  85 EC      			sta.l	<_bp			; 4
 2413    02:DB50  90 03      			bcc	!+			; 2/4
 2414    02:DB52  E6 ED      			inc.h	<_bp			; 6
 2415    02:DB54  18         			clc				; 2
 2416                        	
 2417    02:DB55  C6 00      	!:		dec	<map_count		; 6
 2418    02:DB57  D0 CB      			bne	!repeat-		; 4
 2419                        	
 2420    02:DB59  60         	!end:		rts
 2421                        	
 2422                        			; lhs vertical (28+2 rept)
 2423                        			;
 2424                        			; N.B. C is always clear on entry.
 2425                        			;
 2426                        			; 100 cycles per block * 15 -> 1500 cycles
 2427                        	
 2428    02:DB5A  B2 EC      	!repeat:	lda	[_bp]			; 7
 2429    02:DB5C  A8         			tay				; 2
 2430                        	
 2431    02:DB5D  B9 00 50   	b5000_lhs_even:	lda	BLK_5000_TL_L, y	; 5
 2432    02:DB60  9D 02 02   			sta	VDC_DL, x		; 6
 2433    02:DB63  B9 00 54   			lda	BLK_5000_TL_H, y	; 5
 2434               0001     		.if	BLKDEF_CHR_FLAG
 2435    02:DB66  29 F3      			and	#%11110011		; 2
 2436                        		.endif
 2437    02:DB68  1A         			inc	a			; 2
 2438    02:DB69  9D 03 02   			sta	VDC_DH, x		; 6
 2439                        	
 2440    02:DB6C  C6 00      			dec	<map_count		; 6
 2441    02:DB6E  F0 1F      			beq	!end+			; 2
 2442                        	
 2443    02:DB70  B9 00 52   	b5000_lhs_odd:	lda	BLK_5000_BL_L, y	; 5
 2444    02:DB73  9D 02 02   			sta	VDC_DL, x		; 6
 2445    02:DB76  B9 00 56   			lda	BLK_5000_BL_H, y	; 5
 2446               0001     		.if	BLKDEF_CHR_FLAG
 2447    02:DB79  29 F3      			and	#%11110011		; 2
 2448                        		.endif
 2449    02:DB7B  1A         			inc	a			; 2
 2450    02:DB7C  9D 03 02   			sta	VDC_DH, x		; 6
 2451                        	
 2452    02:DB7F  BD C7 26   			lda	vdc_map_line_w, x	; 5
 2453    02:DB82  65 EC      			adc.l	<_bp			; 4
 2454    02:DB84  85 EC      			sta.l	<_bp			; 4
 2455    02:DB86  90 03      			bcc	!+			; 2/4
 2456    02:DB88  E6 ED      			inc.h	<_bp			; 6
 2457    02:DB8A  18         			clc				; 2
 2458                        	
 2459    02:DB8B  C6 00      	!:		dec	<map_count		; 6
 2460    02:DB8D  D0 CB      			bne	!repeat-		; 4
 2461                        	
 2462    02:DB8F  60         	!end:		rts
 2463                        	
 2464                        			; rhs vertical (28+2 rept)
 2465                        			;
 2466                        			; N.B. C is always clear on entry.
 2467                        			;
 2468                        			; 100 cycles per block * 15 -> 1500 cycles
 2469                        	
 2470    02:DB90  B2 EC      	!repeat:	lda	[_bp]			; 7
 2471    02:DB92  A8         			tay				; 2
 2472                        	
 2473    02:DB93  B9 00 51   	b5000_rhs_even:	lda	BLK_5000_TR_L, y	; 5
 2474    02:DB96  9D 02 02   			sta	VDC_DL, x		; 6
 2475    02:DB99  B9 00 55   			lda	BLK_5000_TR_H, y	; 5
 2476               0001     		.if	BLKDEF_CHR_FLAG
 2477    02:DB9C  29 F3      			and	#%11110011		; 2
 2478                        		.endif
 2479    02:DB9E  1A         			inc	a			; 2
 2480    02:DB9F  9D 03 02   			sta	VDC_DH, x		; 6
 2481                        	
 2482    02:DBA2  C6 00      			dec	<map_count		; 6
 2483    02:DBA4  F0 1F      			beq	!end+			; 2
 2484                        	
 2485    02:DBA6  B9 00 53   	b5000_rhs_odd:	lda	BLK_5000_BR_L, y	; 5
 2486    02:DBA9  9D 02 02   			sta	VDC_DL, x		; 6
 2487    02:DBAC  B9 00 57   			lda	BLK_5000_BR_H, y	; 5
 2488               0001     		.if	BLKDEF_CHR_FLAG
 2489    02:DBAF  29 F3      			and	#%11110011		; 2
 2490                        		.endif
 2491    02:DBB1  1A         			inc	a			; 2
 2492    02:DBB2  9D 03 02   			sta	VDC_DH, x		; 6
 2493                        	
 2494    02:DBB5  BD C7 26   			lda	vdc_map_line_w, x	; 5
 2495    02:DBB8  65 EC      			adc.l	<_bp			; 4
 2496    02:DBBA  85 EC      			sta.l	<_bp			; 4
 2497    02:DBBC  90 03      			bcc	!+			; 2/4
 2498    02:DBBE  E6 ED      			inc.h	<_bp			; 6
 2499    02:DBC0  18         			clc				; 2
 2500                        	
 2501    02:DBC1  C6 00      	!:		dec	<map_count		; 6
 2502    02:DBC3  D0 CB      			bne	!repeat-		; 4
 2503                        	
 2504    02:DBC5  60         	!end:		rts
 2505                        	
 2506                        			; lhs vertical (28+2 rept)
 2507                        			;
 2508                        			; N.B. C is always clear on entry.
 2509                        			;
 2510                        			; 100 cycles per block * 15 -> 1500 cycles
 2511                        	
 2512    02:DBC6  B2 EC      	!repeat:	lda	[_bp]			; 7
 2513    02:DBC8  A8         			tay				; 2
 2514                        	
 2515    02:DBC9  B9 00 58   	b5800_lhs_even:	lda	BLK_5800_TL_L, y	; 5
 2516    02:DBCC  9D 02 02   			sta	VDC_DL, x		; 6
 2517    02:DBCF  B9 00 5C   			lda	BLK_5800_TL_H, y	; 5
 2518               0001     		.if	BLKDEF_CHR_FLAG
 2519    02:DBD2  29 F3      			and	#%11110011		; 2
 2520                        		.endif
 2521    02:DBD4  1A         			inc	a			; 2
 2522    02:DBD5  9D 03 02   			sta	VDC_DH, x		; 6
 2523                        	
 2524    02:DBD8  C6 00      			dec	<map_count		; 6
 2525    02:DBDA  F0 1F      			beq	!end+			; 2
 2526                        	
 2527    02:DBDC  B9 00 5A   	b5800_lhs_odd:	lda	BLK_5800_BL_L, y	; 5
 2528    02:DBDF  9D 02 02   			sta	VDC_DL, x		; 6
 2529    02:DBE2  B9 00 5E   			lda	BLK_5800_BL_H, y	; 5
 2530               0001     		.if	BLKDEF_CHR_FLAG
 2531    02:DBE5  29 F3      			and	#%11110011		; 2
 2532                        		.endif
 2533    02:DBE7  1A         			inc	a			; 2
 2534    02:DBE8  9D 03 02   			sta	VDC_DH, x		; 6
 2535                        	
 2536    02:DBEB  BD C7 26   			lda	vdc_map_line_w, x	; 5
 2537    02:DBEE  65 EC      			adc.l	<_bp			; 4
 2538    02:DBF0  85 EC      			sta.l	<_bp			; 4
 2539    02:DBF2  90 03      			bcc	!+			; 2/4
 2540    02:DBF4  E6 ED      			inc.h	<_bp			; 6
 2541    02:DBF6  18         			clc				; 2
 2542                        	
 2543    02:DBF7  C6 00      	!:		dec	<map_count		; 6
 2544    02:DBF9  D0 CB      			bne	!repeat-		; 4
 2545                        	
 2546    02:DBFB  60         	!end:		rts
 2547                        	
 2548                        			; rhs vertical (28+2 rept)
 2549                        			;
 2550                        			; N.B. C is always clear on entry.
 2551                        			;
 2552                        			; 100 cycles per block * 15 -> 1500 cycles
 2553                        	
 2554    02:DBFC  B2 EC      	!repeat:	lda	[_bp]			; 7
 2555    02:DBFE  A8         			tay				; 2
 2556                        	
 2557    02:DBFF  B9 00 59   	b5800_rhs_even:	lda	BLK_5800_TR_L, y	; 5
 2558    02:DC02  9D 02 02   			sta	VDC_DL, x		; 6
 2559    02:DC05  B9 00 5D   			lda	BLK_5800_TR_H, y	; 5
 2560               0001     		.if	BLKDEF_CHR_FLAG
 2561    02:DC08  29 F3      			and	#%11110011		; 2
 2562                        		.endif
 2563    02:DC0A  1A         			inc	a			; 2
 2564    02:DC0B  9D 03 02   			sta	VDC_DH, x		; 6
 2565                        	
 2566    02:DC0E  C6 00      			dec	<map_count		; 6
 2567    02:DC10  F0 1F      			beq	!end+			; 2
 2568                        	
 2569    02:DC12  B9 00 5B   	b5800_rhs_odd:	lda	BLK_5800_BR_L, y	; 5
 2570    02:DC15  9D 02 02   			sta	VDC_DL, x		; 6
 2571    02:DC18  B9 00 5F   			lda	BLK_5800_BR_H, y	; 5
 2572               0001     		.if	BLKDEF_CHR_FLAG
 2573    02:DC1B  29 F3      			and	#%11110011		; 2
 2574                        		.endif
 2575    02:DC1D  1A         			inc	a			; 2
 2576    02:DC1E  9D 03 02   			sta	VDC_DH, x		; 6
 2577                        	
 2578    02:DC21  BD C7 26   			lda	vdc_map_line_w, x	; 5
 2579    02:DC24  65 EC      			adc.l	<_bp			; 4
 2580    02:DC26  85 EC      			sta.l	<_bp			; 4
 2581    02:DC28  90 03      			bcc	!+			; 2/4
 2582    02:DC2A  E6 ED      			inc.h	<_bp			; 6
 2583    02:DC2C  18         			clc				; 2
 2584                        	
 2585    02:DC2D  C6 00      	!:		dec	<map_count		; 6
 2586    02:DC2F  D0 CB      			bne	!repeat-		; 4
 2587                        	
 2588    02:DC31  60         	!end:		rts
 2589                        	
 2590                        		.endif	BLKDEF_POINTERS
 2591                        	
 2592                        		.endprocgroup	; blkmap_group
                             #[2]   "..\..\..\include\hucc\hucc-final.asm"
   77                        		.else
   81                        		.endif	HUCC_USES_BLKMAP
   82                        	
   83               0001     		.ifdef	HUCC_USES_CHRMAP		; Set in hucc_chrmap.h
                             #[3]   "..\..\..\include\hucc\chrmap.asm"
   84                        			include	"chrmap.asm"
    1                        	; ***************************************************************************
    2                        	; ***************************************************************************
    3                        	;
    4                        	; chrmap.asm
    5                        	;
    6                        	; A simple map system based on 8x8 characters (aka "tiles") in BAT format.
    7                        	;
    8                        	; Copyright John Brandwood 2025.
    9                        	;
   10                        	; Distributed under the Boost Software License, Version 1.0.
   11                        	; (See accompanying file LICENSE_1_0.txt or copy at
   12                        	;  http://www.boost.org/LICENSE_1_0.txt)
   13                        	;
   14                        	; ***************************************************************************
   15                        	; ***************************************************************************
   16                        	;
   17                        	; The maximum X and Y size for chrmaps is 256 characters (2048 pixels).
   18                        	;
   19                        	; The maximum total size for a chrmap is 16KBytes, which allows for maps up
   20                        	; to 256x32 tiles (2048x256 pixels).
   21                        	;
   22                        	; ***************************************************************************
   23                        	; ***************************************************************************
   24                        	
   25                        	;
   26                        	; Include dependancies ...
   27                        	;
   28                        	
   29                        			include "blkmap.asm"		; This defines the variables.
   30                        	
   31                        	;
   32                        	; Chrmaps in BAT format normally address all of VRAM from $0400..$7FFF, but
   33                        	; they can be limited to use the 32KByte of characters in VRAM $1000..$4FFF
   34                        	; which then frees up 2-bits for flag information for each character in the
   35                        	; BAT entry.
   36                        	;
   37                        	; These 2-bits are perfect for using as collision information in game maps,
   38                        	; allowing storage of states like transparent, solid, up-slope, down-slope.
   39                        	;
   40                        	; Typically this flag information is set by the map conversion tools from a
   41                        	; seperate "collision" map layer.
   42                        	;
   43                        	
   44               0000     		.ifndef	CHRMAP_BAT_FLAG
   46                        		.endif
   47                        	
   48                        	;
   49                        	;
   50                        	;
   51                        	
   52                        	
   53                        	
   54    1E:CEAD             	chrmap_group	.procgroup
   55                        	
   56                        	; ***************************************************************************
   57                        	; ***************************************************************************
   58                        	;
   59                        	; _draw_bat - Draw the entire screen at the current coordinates.
   60                        	; _sgx_draw_bat - Draw the entire screen at the current coordinates.
   61                        	;
   62                        	; void __fastcall draw_bat( void );
   63                        	; void __fastcall sgx_draw_bat( void );
   64                        	;
   65                        	
   66               0001     		.if	SUPPORT_SGX
   67                        	
   68                        	_sgx_draw_bat	.proc
   74                        			.endp
   75                        		.endif
   76                        	
   77    1E:CEAD             	_draw_bat	.proc
   78                        	
   79    1E:CEAD  82         			clx				; Offset to PCE VDC.
   80                        	
   81    1E:CEAE  43 08      			tma3				; Preserve MPR3..MPR5.
   82    1E:CEB0  48         			pha
   83    1E:CEB1  43 10      			tma4
   84    1E:CEB3  48         			pha
   85    1E:CEB4  43 20      			tma5
   86    1E:CEB6  48         			pha
   87                        	
   88    1E:CEB7  20 5A CF   			jsr	bat_pxl_2_chr		; Set up the draw coordinates.
   89                        	
   90    1E:CEBA  A5 FC      			lda	<map_chr_x		; Reset previous X position.
   91    1E:CEBC  9D FC 2B   			sta	vdc_old_chr_x, x
   92                        	
   93    1E:CEBF  A5 FE      			lda	<map_chr_y		; Reset previous Y position,
   94    1E:CEC1  1A         			inc	a			; ready to draw rows upwards.
   95    1E:CEC2  9D FD 2B   			sta	vdc_old_chr_y, x
   96                        	
   97    1E:CEC5  BD C5 26   			lda	vdc_map_draw_w, x	; Draw the whole screen.
   98    1E:CEC8  85 FA      			sta	<map_draw_w
   99    1E:CECA  BD C6 26   			lda	vdc_map_draw_h, x
  100    1E:CECD  85 FB      			sta	<map_draw_h
  101                        	
  102    1E:CECF  20 3D D0   			jsr	bat_scroll_y		; Draw N row of CHR to the BAT.
  103                        	
  104    1E:CED2  68         			pla				; Restore MPR3..MPR5.
  105    1E:CED3  53 20      			tam5
  106    1E:CED5  68         			pla
  107    1E:CED6  53 10      			tam4
  108    1E:CED8  68         			pla
  109    1E:CED9  53 08      			tam3
  110                        	
  111                        			leave
         1E:CEDB  4C EF FF   			jmp	leave_proc
  112                        	
  113                        			.endp
  114                        	
  115                        	
  116                        	
  117                        	; ***************************************************************************
  118                        	; ***************************************************************************
  119                        	;
  120                        	; _scroll_bat - Draw a single row of CHR into the BAT to update the edge.
  121                        	; _sgx_scroll_bat - Draw a single row of CHR into the BAT to update the edge.
  122                        	;
  123                        	; void __fastcall scroll_bat( void );
  124                        	; void __fastcall sgx_scroll_bat( void );
  125                        	;
  126                        	
  127               0001     		.if	SUPPORT_SGX
  128                        	
  129                        	_sgx_scroll_bat	.proc
  135                        			.endp
  136                        		.endif
  137                        	
  138    1E:CEDE             	_scroll_bat	.proc
  139                        	
  140    1E:CEDE  82         			clx				; Offset to PCE VDC.
  141                        	
  142    1E:CEDF  43 08      			tma3				; Preserve MPR3..MPR5.
  143    1E:CEE1  48         			pha
  144    1E:CEE2  43 10      			tma4
  145    1E:CEE4  48         			pha
  146    1E:CEE5  43 20      			tma5
  147    1E:CEE7  48         			pha
  148                        	
  149    1E:CEE8  20 5A CF   			jsr	bat_pxl_2_chr		; Set up the draw coordinates.
  150                        	
  151    1E:CEEB  BD C6 26   			lda	vdc_map_draw_h, x	; Draw new LHS or RHS if needed.
  152    1E:CEEE  85 FB      			sta	<map_draw_h
  153                        	;		lda	#1			; bat_scroll_x only ever draws a
  154                        	;		sta	<map_draw_w		; single column.
  155    1E:CEF0  20 7E CF   			jsr	bat_scroll_x
  156                        	
  157    1E:CEF3  BD FC 2B   			lda	vdc_old_chr_x, x	; Restore map_chr_x which could
  158    1E:CEF6  85 FC      			sta	<map_chr_x		; be changed by bat_scroll_x.
  159                        	
  160    1E:CEF8  BD C5 26   			lda	vdc_map_draw_w, x	; Draw new TOP or BTM if needed.
  161    1E:CEFB  85 FA      			sta	<map_draw_w
  162    1E:CEFD  A9 01      			lda	#1
  163    1E:CEFF  85 FB      			sta	<map_draw_h
  164    1E:CF01  20 3D D0   			jsr	bat_scroll_y
  165                        	
  166    1E:CF04  68         			pla				; Restore MPR3..MPR5.
  167    1E:CF05  53 20      			tam5
  168    1E:CF07  68         			pla
  169    1E:CF08  53 10      			tam4
  170    1E:CF0A  68         			pla
  171    1E:CF0B  53 08      			tam3
  172                        	
  173                        			leave
         1E:CF0D  4C EF FF   			jmp	leave_proc
  174                        	
  175                        			.endp
  176                        	
  177                        	
  178                        	
  179                        	; ***************************************************************************
  180                        	; ***************************************************************************
  181                        	;
  182                        	; _blit_bat - Draw a map rectangle to specific BAT coordinates.
  183                        	; _sgx_blit_bat - Draw a map rectangle to specific BAT coordinates.
  184                        	;
  185                        	; void __fastcall blit_bat( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
  186                        	; void __fastcall sgx_blit_bat( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
  187                        	;
  188                        	; Normally you'd just use _draw_bat() and _scroll_bat(), but for those folks
  189                        	; who really wish to take manual control, you can use this.
  190                        	;
  191                        	
  192               0001     		.if	SUPPORT_SGX
  193                        	
  194                        	_sgx_blit_bat	.proc
  200                        			.endp
  201                        		.endif
  202                        	
  203    1E:CF10             	_blit_bat	.proc
  204                        	
  205    1E:CF10  82         			clx				; Offset to PCE VDC.
  206                        	
  207    1E:CF11  43 08      			tma3				; Preserve MPR3..MPR5.
  208    1E:CF13  48         			pha
  209    1E:CF14  43 10      			tma4
  210    1E:CF16  48         			pha
  211    1E:CF17  43 20      			tma5
  212    1E:CF19  48         			pha
  213                        	
  214    1E:CF1A  BD CD 26   			lda	vdc_map_option, x	; Preserve current map options.
  215    1E:CF1D  48         			pha
  216    1E:CF1E  09 C0      			ora	#MAP_UNALIGNED_X | MAP_UNALIGNED_Y
  217    1E:CF20  9D CD 26   			sta	vdc_map_option, x
  218                        	
  219    1E:CF23  20 5A CF   			jsr	bat_pxl_2_chr		; Set up the draw coordinates.
  220                        	
  221    1E:CF26  A5 FA      			lda	<map_draw_w		; Are we drawing just 1 column?
  222    1E:CF28  C9 01      			cmp	#1
  223    1E:CF2A  F0 1E      			beq	.draw_column
  224                        	
  225                        			; Draw N rows.
  226                        	
  227    1E:CF2C  A5 FC      	.draw_rows:	lda	<map_chr_x		; Reset previous X position.
  228    1E:CF2E  9D FC 2B   			sta	vdc_old_chr_x, x
  229                        	
  230    1E:CF31  A5 FE      			lda	<map_chr_y		; Reset previous Y position,
  231    1E:CF33  1A         			inc	a			; ready to draw rows upwards.
  232    1E:CF34  9D FD 2B   			sta	vdc_old_chr_y, x
  233                        	
  234    1E:CF37  20 3D D0   			jsr	bat_scroll_y		; Draw a row of CHR to the BAT.
  235                        	
  236                        			; Drawing completed.
  237                        	
  238    1E:CF3A  68         	.finished:	pla				; Restore previous map options.
  239    1E:CF3B  9D CD 26   			sta	vdc_map_option, x
  240                        	
  241    1E:CF3E  68         			pla				; Restore MPR3..MPR5.
  242    1E:CF3F  53 20      			tam5
  243    1E:CF41  68         			pla
  244    1E:CF42  53 10      			tam4
  245    1E:CF44  68         			pla
  246    1E:CF45  53 08      			tam3
  247                        	
  248                        	.exit:		leave
         1E:CF47  4C EF FF   			jmp	leave_proc
  249                        	
  250                        			; Draw 1 column.
  251                        	
  252    1E:CF4A  A5 FC      	.draw_column:	lda	<map_chr_x		; Reset previous X position.
  253    1E:CF4C  1A         			inc	a			; ready to draw 1 column.
  254    1E:CF4D  9D FC 2B   			sta	vdc_old_chr_x, x
  255                        	
  256    1E:CF50  A5 FE      			lda	<map_chr_y		; Reset previous Y position.
  257    1E:CF52  9D FD 2B   			sta	vdc_old_chr_y, x
  258                        	
  259    1E:CF55  20 7E CF   			jsr	bat_scroll_x		; Draw a single column of CHR.
  260                        	
  261    1E:CF58  80 E0      			bra	.finished
  262                        	
  263                        			.endp
  264                        	
  265                        	
  266                        	
  267                        	; ***************************************************************************
  268                        	; ***************************************************************************
  269                        	;
  270                        	
  271    1E:CF5A  BD C9 26   	bat_pxl_2_chr:	lda.l	vdc_map_pxl_x, x	; Get current map X coordinate.
  272    1E:CF5D  85 FC      			sta.l	<map_pxl_x
  273    1E:CF5F  BD CA 26   			lda.h	vdc_map_pxl_x, x	; Xvert map_pxl_x to map_chr_x.
  274    1E:CF62  4A         			lsr	a
  275    1E:CF63  66 FC      			ror.l	<map_pxl_x
  276    1E:CF65  4A         			lsr	a
  277    1E:CF66  66 FC      			ror.l	<map_pxl_x
  278    1E:CF68  4A         			lsr	a
  279    1E:CF69  66 FC      			ror.l	<map_pxl_x		; Max map width is 256 CHR.
  280                        	
  281    1E:CF6B  BD CB 26   			lda.l	vdc_map_pxl_y, x	; Get current map Y coordinate.
  282    1E:CF6E  85 FE      			sta.l	<map_pxl_y
  283    1E:CF70  BD CC 26   			lda.h	vdc_map_pxl_y, x	; Xvert map_pxl_y to map_chr_y.
  284    1E:CF73  4A         			lsr	a
  285    1E:CF74  66 FE      			ror.l	<map_pxl_y
  286    1E:CF76  4A         			lsr	a
  287    1E:CF77  66 FE      			ror.l	<map_pxl_y
  288    1E:CF79  4A         			lsr	a
  289    1E:CF7A  66 FE      			ror.l	<map_pxl_y		; Max map width is 256 CHR.
  290                        	
  291    1E:CF7C  60         			rts
  292                        	
  293                        	
  294                        	
  295                        	; ***************************************************************************
  296                        	; ***************************************************************************
  297                        	;
  298                        	; bat_scroll_x - Update the BAT when X coordinate changes.
  299                        	;
  300                        	; N.B. This only ever draws a single column!
  301                        	;
  302                        	
  303    1E:CF7D  60         	!no_change:	rts
  304                        	
  305    1E:CF7E  A5 FC      	bat_scroll_x:	lda	<map_chr_x		; Compare old_x with cur_x.
  306    1E:CF80  DD FC 2B   			cmp	vdc_old_chr_x, x
  307    1E:CF83  F0 F8      			beq	!no_change-		; Do nothing if no change.
  308    1E:CF85  9D FC 2B   			sta	vdc_old_chr_x, x
  309    1E:CF88  30 05      			bmi	.moved			; Test the sign of the change.
  310                        	
  311    1E:CF8A  18         			clc				; Draw RHS if chr_x >= old_x.
  312    1E:CF8B  7D C5 26   			adc	vdc_map_draw_w, x	; Usually (SCR_WIDTH / 8) + 1.
  313    1E:CF8E  3A         			dec	a
  314                        	
  315    1E:CF8F  48         	.moved:		pha				; Push chr_x in map section.
  316                        	
  317    1E:CF90  3C CD 26   			bit	vdc_map_option, x	; Set bit7 to disable aligning
  318    1E:CF93  30 05      			bmi	!+			; BAT X with the map X.
  319    1E:CF95  3D C2 26   			and	vdc_bat_x_mask, x
  320    1E:CF98  85 F8      			sta	<map_bat_x		; Save BAT X chr coordinate.
  321                        	
  322    1E:CF9A  A5 FE      	!:		lda	<map_chr_y		; Y = chr_y in map section.
  323    1E:CF9C  A8         			tay
  324                        	
  325    1E:CF9D  3C CD 26   			bit	vdc_map_option, x	; Set bit6 to disable aligning
  326    1E:CFA0  70 05      			bvs	!+			; BAT Y with the map Y.
  327    1E:CFA2  3D C3 26   			and	vdc_bat_y_mask, x
  328    1E:CFA5  85 F9      			sta	<map_bat_y		; Save BAT Y chr coordinate.
  329                        	
  330               0000     		.if	FAST_MULTIPLY
  333                        		.endif
  334                        	
  335    1E:CFA7  BD C7 26   	!:		lda	vdc_map_line_w, x	; Map width in CHR (0 == 256).
  336    1E:CFAA  D0 05      			bne	!+
  337                        	
  338    1E:CFAC  64 EE      			stz.l	<map_line		; Multiply by 256 is easy!
  339    1E:CFAE  98         			tya
  340    1E:CFAF  80 15      			bra	.double
  341                        	
  342               0000     		.if	FAST_MULTIPLY
  354                        		.else
  355    1E:CFB1  84 EF      	!:		sty.h	<map_line		; Takes 144..176 cycles.
  356    1E:CFB3  A0 08      			ldy	#8
  357    1E:CFB5  4A         			lsr	a
  358    1E:CFB6  85 EE      			sta.l	<map_line
  359    1E:CFB8  62         			cla
  360    1E:CFB9  90 03      			bcc	.rotate
  361    1E:CFBB  18         	.add:		clc
  362    1E:CFBC  65 EF      			adc.h	<map_line
  363    1E:CFBE  6A         	.rotate:	ror	a
  364    1E:CFBF  66 EE      			ror.l	<map_line		; Lo-byte of (CHR Y * width).
  365    1E:CFC1  88         			dey
  366    1E:CFC2  B0 F7      			bcs	.add
  367    1E:CFC4  D0 F8      			bne	.rotate
  368                        		.endif
  369                        	
  370    1E:CFC6  06 EE      	.double:	asl.l	<map_line		; Lo-byte of (CHR Y * width * 2).
  371    1E:CFC8  2A         			rol	a
  372    1E:CFC9  A8         			tay				; Hi-byte of (CHR Y * width * 2).
  373                        	
  374    1E:CFCA  BD 06 2C   			lda	vdc_map_bank, x		; Put the MAP into MPR3-MPR5.
  375    1E:CFCD  53 08      			tam3				; Allow for 16KByte chrmap.
  376    1E:CFCF  1A         			inc	a
  377    1E:CFD0  53 10      			tam4
  378    1E:CFD2  1A         			inc	a
  379    1E:CFD3  53 20      			tam5
  380                        	
  381    1E:CFD5  68         			pla				; Pop chr_x in map section.
  382    1E:CFD6  0A         			asl	a			; 2-bytes for a BAT value.
  383    1E:CFD7  90 02      			bcc	!+
  384    1E:CFD9  C8         			iny				; Hi-byte of (CHR Y * width * 2).
  385    1E:CFDA  18         			clc
  386    1E:CFDB  65 EE      	!:		adc.l	<map_line		; Lo-byte of (CHR Y * width * 2).
  387    1E:CFDD  90 01      			bcc	!+
  388    1E:CFDF  C8         			iny
  389                        	
  390    1E:CFE0  18         	!:		clc				; Calc map data pointer.
  391    1E:CFE1  7D 04 2C   			adc.l	vdc_map_addr, x
  392    1E:CFE4  85 EC      			sta.l	<_bp			; Maximum map size is 16KBytes
  393    1E:CFE6  98         			tya				; so we don't need to consider
  394    1E:CFE7  7D 05 2C   			adc.h	vdc_map_addr, x		; bank overflow.
  395    1E:CFEA  85 ED      			sta.h	<_bp
  396                        	
  397    1E:CFEC  C2         			cly				; Calculate the map line delta
  398    1E:CFED  BD C7 26   			lda	vdc_map_line_w, x	; in bytes.
  399    1E:CFF0  D0 01      			bne	!+
  400    1E:CFF2  C8         			iny
  401    1E:CFF3  0A         	!:		asl	a
  402    1E:CFF4  85 EE      			sta.l	<map_line
  403    1E:CFF6  98         			tya
  404    1E:CFF7  2A         			rol	a
  405    1E:CFF8  85 EF      			sta.h	<map_line
  406                        	
  407                        			; Draw the first part of the column.
  408                        	
  409    1E:CFFA  A5 F8      	.draw_col:	lda	<map_bat_x		; Set the BAT VRAM destination
  410    1E:CFFC  85 F0      			sta.l	<_di			; coordinates.
  411    1E:CFFE  A5 F9      			lda	<map_bat_y
  412    1E:D000  85 F1      			sta.h	<_di
  413                        	
  414    1E:D002  5D C3 26   			eor	vdc_bat_y_mask, x	; Calc CHR before wrap.
  415    1E:D005  1A         			inc	a
  416    1E:D006  C5 FB      			cmp	<map_draw_h		; Usually (SCR_HEIGHT / 8) + 1.
  417    1E:D008  90 02      			bcc	!+
  418    1E:D00A  A5 FB      			lda	<map_draw_h		; Maximum CHR to draw.
  419    1E:D00C  85 00      	!:		sta	<map_count		; Set number of CHR to draw.
  420    1E:D00E  85 01      			sta	<map_drawn		; Preserve number of CHR drawn.
  421                        	
  422    1E:D010  A9 05      			lda	#VDC_CR			; Set VDC auto-increment from
  423    1E:D012  95 F7      			sta	<vdc_reg, x		; the BAT width, which is set
  424    1E:D014  9D 00 02   			sta	VDC_AR, x		; up by set_screen_size().
  425    1E:D017  B5 F4      			lda	<vdc_crh, x
  426    1E:D019  9D 03 02   			sta	VDC_DH, x
  427                        	
  428    1E:D01C  20 1E D1   			jsr	bat_col_strip		; Draw top of vertical strip.
  429                        	
  430                        			; Wrap around and draw the rest of the column (if needed).
  431                        	
  432    1E:D01F  38         			sec				; Are there any more CHR that
  433    1E:D020  A5 FB      			lda	<map_draw_h		; need to be drawn?
  434    1E:D022  E5 01      			sbc	<map_drawn
  435    1E:D024  F0 0B      			beq	.done
  436                        	
  437    1E:D026  85 00      			sta	<map_count		; Set number of CHR to draw.
  438                        	
  439    1E:D028  A5 F8      			lda	<map_bat_x		; Set the BAT VRAM destination
  440    1E:D02A  85 F0      			sta.l	<_di			; coordinates.
  441    1E:D02C  64 F1      			stz.h	<_di			; Reset 1st row to draw.
  442                        	
  443    1E:D02E  20 1E D1   			jsr	bat_col_strip		; Draw btm of vertical strip.
  444                        	
  445    1E:D031  A9 05      	.done:		lda	#VDC_CR			; Set VDC auto-increment to 1.
  446    1E:D033  95 F7      			sta	<vdc_reg, x
  447    1E:D035  9D 00 02   			sta	VDC_AR, x
  448    1E:D038  9E 03 02   			stz	VDC_DH, x
  449                        	
  450    1E:D03B  60         			rts
  451                        	
  452                        	
  453                        	
  454                        	; ***************************************************************************
  455                        	; ***************************************************************************
  456                        	;
  457                        	; bat_scroll_y - Update the BAT when Y coordinate changes.
  458                        	;
  459                        	; N.B. This draws multiple rows when called from _draw_bat or _blit_bat.
  460                        	;
  461                        	
  462    1E:D03C  60         	!no_change:	rts
  463                        	
  464    1E:D03D  A5 FE      	bat_scroll_y:	lda	<map_chr_y		; Compare old_y with cur_y.
  465    1E:D03F  DD FD 2B   			cmp	vdc_old_chr_y, x
  466    1E:D042  F0 F8      			beq	!no_change-		; Do nothing if no change.
  467    1E:D044  9D FD 2B   			sta	vdc_old_chr_y, x
  468    1E:D047  30 05      			bmi	.moved			; Test the sign of the change.
  469                        	
  470    1E:D049  18         			clc				; Draw bottom if chr_y >= old_y.
  471    1E:D04A  7D C6 26   			adc	vdc_map_draw_h, x	; Usually (SCR_HEIGHT / 8) + 1.
  472    1E:D04D  3A         			dec	a
  473                        	
  474    1E:D04E  A8         	.moved:		tay				; Y = chr_y in map section.
  475                        	
  476    1E:D04F  3C CD 26   			bit	vdc_map_option, x	; Set bit6 to disable aligning
  477    1E:D052  70 05      			bvs	!+			; BAT Y with the map Y.
  478    1E:D054  3D C3 26   			and	vdc_bat_y_mask, x
  479    1E:D057  85 F9      			sta	<map_bat_y		; Save BAT Y chr coordinate.
  480                        	
  481    1E:D059  3C CD 26   	!:		bit	vdc_map_option, x	; Set bit7 to disable aligning
  482    1E:D05C  30 07      			bmi	!+			; BAT X with the map X.
  483    1E:D05E  A5 FC      			lda	<map_chr_x
  484    1E:D060  3D C2 26   			and	vdc_bat_x_mask, x
  485    1E:D063  85 F8      			sta	<map_bat_x		; Save BAT X chr coordinate.
  486                        	
  487               0000     		.if	FAST_MULTIPLY
  490                        		.endif
  491                        	
  492    1E:D065  BD C7 26   	!:		lda	vdc_map_line_w, x	; Map width in CHR (0 == 256).
  493    1E:D068  D0 05      			bne	!+
  494                        	
  495    1E:D06A  64 EE      			stz.l	<map_line		; Multiply by 256 is easy!
  496    1E:D06C  98         			tya
  497    1E:D06D  80 15      			bra	.double
  498                        	
  499               0000     		.if	FAST_MULTIPLY
  511                        		.else
  512    1E:D06F  84 EF      	!:		sty.h	<map_line		; Takes 144..176 cycles.
  513    1E:D071  A0 08      			ldy	#8
  514    1E:D073  4A         			lsr	a
  515    1E:D074  85 EE      			sta.l	<map_line
  516    1E:D076  62         			cla
  517    1E:D077  90 03      			bcc	.rotate
  518    1E:D079  18         	.add:		clc
  519    1E:D07A  65 EF      			adc.h	<map_line
  520    1E:D07C  6A         	.rotate:	ror	a
  521    1E:D07D  66 EE      			ror.l	<map_line		; Lo-byte of (CHR Y * width).
  522    1E:D07F  88         			dey
  523    1E:D080  B0 F7      			bcs	.add
  524    1E:D082  D0 F8      			bne	.rotate
  525                        		.endif
  526                        	
  527    1E:D084  06 EE      	.double:	asl.l	<map_line		; Lo-byte of (CHR Y * width * 2).
  528    1E:D086  2A         			rol	a
  529    1E:D087  85 EF      			sta.h	<map_line		; Hi-byte of (CHR Y * width * 2).
  530    1E:D089  A8         			tay
  531                        	
  532    1E:D08A  BD 06 2C   			lda	vdc_map_bank, x		; Put the MAP into MPR3-MPR5.
  533    1E:D08D  53 08      			tam3				; Allow for 16KByte chrmap.
  534    1E:D08F  1A         			inc	a
  535    1E:D090  53 10      			tam4
  536    1E:D092  1A         			inc	a
  537    1E:D093  53 20      			tam5
  538                        	
  539                        			; Loop to here if drawing multiple rows.
  540                        	
  541    1E:D095  A5 FC      	.next_row:	lda	<map_chr_x		; Map CHR X coordinate.
  542    1E:D097  0A         			asl	a			; 2-bytes for a BAT value!
  543    1E:D098  90 02      			bcc	!+
  544    1E:D09A  C8         			iny				; Hi-byte of (CHR Y * width * 2).
  545    1E:D09B  18         			clc
  546    1E:D09C  65 EE      	!:		adc.l	<map_line		; Lo-byte of (CHR Y * width * 2).
  547    1E:D09E  90 01      			bcc	!+
  548    1E:D0A0  C8         			iny
  549    1E:D0A1  18         	!:		clc				; Calc map data pointer.
  550    1E:D0A2  7D 04 2C   			adc.l	vdc_map_addr, x
  551    1E:D0A5  85 EC      			sta.l	<_bp			; Maximum map size is 16KBytes
  552    1E:D0A7  98         			tya				; so we don't need to consider
  553    1E:D0A8  7D 05 2C   			adc.h	vdc_map_addr, x		; bank overflow.
  554    1E:D0AB  85 ED      			sta.h	<_bp
  555                        	
  556                        			; Draw the first part of the row.
  557                        	
  558    1E:D0AD  A5 F9      	.draw_row:	lda	<map_bat_y		; Set the BAT VRAM destination
  559    1E:D0AF  85 F1      			sta.h	<_di			; coordinates.
  560    1E:D0B1  A5 F8      			lda	<map_bat_x
  561    1E:D0B3  85 F0      			sta.l	<_di
  562                        	
  563    1E:D0B5  5D C2 26   			eor	vdc_bat_x_mask, x	; Calc CHR before wrap.
  564    1E:D0B8  1A         			inc	a
  565    1E:D0B9  C5 FA      			cmp	<map_draw_w		; Usually (SCR_WIDTH / 8) + 1.
  566    1E:D0BB  90 02      			bcc	!+
  567    1E:D0BD  A5 FA      			lda	<map_draw_w		; Maximum CHR to draw.
  568    1E:D0BF  85 00      	!:		sta	<map_count		; Set number of CHR to draw.
  569    1E:D0C1  85 01      			sta	<map_drawn		; Preserve number of CHR drawn.
  570                        	
  571    1E:D0C3  20 FD D0   			jsr	bat_row_strip		; Draw lhs of horizontal strip.
  572                        	
  573                        			; Wrap around and draw the rest of the row (if needed).
  574                        	
  575    1E:D0C6  38         			sec				; Are there any more CHR that
  576    1E:D0C7  A5 FA      			lda	<map_draw_w		; need to be drawn?
  577    1E:D0C9  E5 01      			sbc	<map_drawn
  578    1E:D0CB  F0 0B      			beq	.done_row
  579                        	
  580    1E:D0CD  85 00      			sta	<map_count		; Set number of CHR to draw.
  581                        	
  582    1E:D0CF  A5 F9      			lda	<map_bat_y		; Set the BAT VRAM destination
  583    1E:D0D1  85 F1      			sta.h	<_di			; coordinates.
  584    1E:D0D3  64 F0      			stz.l	<_di			; Reset 1st column to draw.
  585                        	
  586    1E:D0D5  20 FD D0   			jsr	bat_row_strip		; Draw rhs of horizontal strip.
  587                        	
  588    1E:D0D8  C6 FB      	.done_row:	dec	<map_draw_h		; Are all desired rows drawn?
  589    1E:D0DA  F0 20      			beq	.finished
  590                        	
  591    1E:D0DC  A5 F9      			lda	<map_bat_y		; Move BAT Y down by 1.
  592    1E:D0DE  1A         			inc	a
  593    1E:D0DF  3D C3 26   			and	vdc_bat_y_mask, x
  594    1E:D0E2  85 F9      			sta	<map_bat_y
  595                        	
  596    1E:D0E4  A4 EF      			ldy.h	<map_line		; Move the map line pointer to
  597    1E:D0E6  C8         			iny				; the next line.
  598    1E:D0E7  BD C7 26   			lda	vdc_map_line_w, x
  599    1E:D0EA  F0 0B      			beq	!++			; vdc_map_line_w == 0 == 256.
  600    1E:D0EC  0A         			asl	a			; 2-bytes for a BAT value!
  601    1E:D0ED  B0 01      			bcs	!+
  602    1E:D0EF  88         			dey				; Fix if vdc_map_line_w <= 127.
  603    1E:D0F0  18         	!:		clc
  604    1E:D0F1  65 EE      			adc.l	<map_line
  605    1E:D0F3  85 EE      			sta.l	<map_line
  606    1E:D0F5  90 01      			bcc	!++
  607    1E:D0F7  C8         	!:		iny
  608    1E:D0F8  84 EF      	!:		sty.h	<map_line		; Needed for .next_row!
  609                        	
  610    1E:D0FA  80 99      			bra	.next_row		; Draw next row.
  611                        	
  612    1E:D0FC  60         	.finished:	rts
  613                        	
  614                        	
  615                        	
  616                        	; ***************************************************************************
  617                        	; ***************************************************************************
  618                        	;
  619                        	; bat_row_strip - Draw a single row of CHR into the BAT.
  620                        	;
  621                        	
  622    1E:D0FD  20 48 E4   	bat_row_strip:	jsr	set_di_xy_mawr		; Set the BAT VRAM destination.
  623                        	
  624    1E:D100  C2         			cly				; 2
  625    1E:D101  B1 EC      	.repeat:	lda	[_bp], y		; 7
  626    1E:D103  9D 02 02   			sta	VDC_DL, x		; 6
  627    1E:D106  C8         			iny				; 2
  628    1E:D107  B1 EC      			lda	[_bp], y		; 7
  629               0000     		.if	CHRMAP_BAT_FLAG
  634                        		.endif
  635    1E:D109  9D 03 02   			sta	VDC_DH, x		; 6
  636    1E:D10C  C8         			iny				; 2
  637                        	
  638    1E:D10D  C6 00      	!:		dec	<map_count		; 6
  639    1E:D10F  D0 F0      			bne	.repeat			; 4
  640                        	
  641    1E:D111  98         			tya				; 2
  642    1E:D112  F0 07      			beq	!+			; 2/4
  643    1E:D114  18         			clc				; 2
  644    1E:D115  65 EC      			adc.l	<_bp			; 4
  645    1E:D117  85 EC      			sta.l	<_bp			; 4
  646    1E:D119  90 02      			bcc	.done			; 2/4
  647    1E:D11B  E6 ED      	!:		inc.h	<_bp			; 6
  648                        	
  649    1E:D11D  60         	.done:		rts
  650                        	
  651                        	
  652                        	
  653                        	; ***************************************************************************
  654                        	; ***************************************************************************
  655                        	;
  656                        	; bat_col_strip - Draw a single column of CHR into the BAT.
  657                        	;
  658                        	
  659    1E:D11E  20 48 E4   	bat_col_strip:	jsr	set_di_xy_mawr		; Set the BAT VRAM destination.
  660                        	
  661    1E:D121  A0 01      			ldy	#1			; 2
  662    1E:D123  B2 EC      	.repeat:	lda	[_bp]			; 7
  663    1E:D125  9D 02 02   			sta	VDC_DL, x		; 6
  664    1E:D128  B1 EC      			lda	[_bp], y		; 7
  665               0000     		.if	CHRMAP_BAT_FLAG
  670                        		.endif
  671    1E:D12A  9D 03 02   			sta	VDC_DH, x		; 6
  672                        	
  673    1E:D12D  18         			clc				; 2
  674    1E:D12E  A5 EE      			lda.l	<map_line		; 4
  675    1E:D130  65 EC      			adc.l	<_bp			; 4
  676    1E:D132  85 EC      			sta.l	<_bp			; 4
  677    1E:D134  A5 EF      			lda.h	<map_line		; 4
  678    1E:D136  65 ED      			adc.h	<_bp			; 4
  679    1E:D138  85 ED      			sta.h	<_bp			; 4
  680                        	
  681    1E:D13A  C6 00      			dec	<map_count		; 6
  682    1E:D13C  D0 E5      			bne	.repeat			; 4
  683                        	
  684    1E:D13E  60         			rts
  685                        	
  686                        		.endprocgroup	; chrmap_group
                             #[2]   "..\..\..\include\hucc\hucc-final.asm"
   85                        		.endif	HUCC_USES_CHRMAP
   86                        	
   87               0001     		.ifdef	HUCC_USES_OLD_LINE		; Set in hucc_old_line.h
                             #[3]   "..\..\..\include\hucc\hucc-old-line.asm"
   88                        			include	"hucc-old-line.asm"
    1                        	; ***************************************************************************
    2                        	; ***************************************************************************
    3                        	;
    4                        	; hucc-old-line.asm
    5                        	;
    6                        	; Based on the original HuC and MagicKit functions by David Michel and the
    7                        	; other original HuC developers.
    8                        	;
    9                        	; Modifications copyright John Brandwood 2024-2025.
   10                        	;
   11                        	; Distributed under the Boost Software License, Version 1.0.
   12                        	; (See accompanying file LICENSE_1_0.txt or copy at
   13                        	;  http://www.boost.org/LICENSE_1_0.txt)
   14                        	;
   15                        	; ***************************************************************************
   16                        	; ***************************************************************************
   17                        	
   18                        	
   19                        	
   20                        	; ***************************************************************************
   21                        	; ***************************************************************************
   22                        	;
   23                        	; void __fastcall gfx_init( unsigned int start_vram_addr<_ax> );
   24                        	;
   25                        	; initialize graphics mode
   26                        	; - points graphics map to tiles at start_vram_addr
   27                        	
   28                        	_gfx_init.1	.proc
   73                        			.endp
   74                        	
   75                        	
   76                        	
   77                        	; ***************************************************************************
   78                        	; ***************************************************************************
   79                        	;
   80                        	; void __fastcall gfx_clear( unsigned int start_vram_addr<_di> );
   81                        	;
   82                        	; Clear the values in the graphics tiles
   83                        	; - places zeroes in graphics tiles at start_vram_addr
   84                        	
   85                        	_gfx_clear.1	.proc
  105                        			.endp
  106                        	
  107                        	
  108                        	
  109                        	; ***************************************************************************
  110                        	; ***************************************************************************
  111                        	;
  112                        	; void __fastcall gfx_line( unsigned int x1<_gfx_x1>, unsigned int y1<_gfx_y1>, unsigned int x2<_gfx_x2>, unsigned int y2<_gfx_y2>, unsigned char color<_gfx_color> );
  113                        	
  114                        	huc_gfx_line	.procgroup
  459                        			.endprocgroup	; huc_gfx_line
                             #[2]   "..\..\..\include\hucc\hucc-final.asm"
   89                        		.endif
   90                        	
   91               0000     		.ifdef	HUCC_USES_ZX0			; Set in hucc_zx0.h
   93                        		.endif
   94                        	
   95                        	
   96                        	
   97                        	; ***************************************************************************
   98                        	; ***************************************************************************
   99                        	;
  100                        	; Allocate space for the "-fnon-recursive" leaf function stack if needed.
  101                        	;
  102                        	
  103               0007     		.if		leaf_needs
  104               2C1C     			.bss
  105    F8:2C1C             			ds	leaf_needs
  106    F8:2C23             	leaf_stack:
  107                        		.endif
  108                        	
  109                        	
  110                        	
  111                        	; ***************************************************************************
  112                        	; ***************************************************************************
  113                        	;
  114                        	; Check that C "__zp" declarations aren't overwriting System Card variables.
  115                        	;
  116                        	
  117               20A0     			.zp
  118               0000     		.if	(* > zpg_sys_top) || (USING_PSGDRIVER && (* > zpg_psg_top))
  120                        		.endif
  121                        	
  122                        	
  123                        	
  124                        	; ***************************************************************************
  125                        	; ***************************************************************************
  126                        	;
  127                        	; Check that there isn't too much C "const" data in the ".RODATA" section.
  128                        	;
  129                        	
  130               2C23     			.xdata
  131    F8:2C23             	_xdata_end:					; End of initialized vars in BSS.
  132                        	
  133               6333     			.xinit
  134    01:6333             	_xinit_end:					; End of initialized data in ROM.
  135                        	
  136               6333     			.xstrz
  137    01:6333             	_xstrz_end:					; End of anonymous C strings.
  138    01:6333             	_rodata_end:					; End of .RODATA section.
  139               E94B     			.code
  140                        	
  141               0000     		.if	_rodata_end >= 0xA000
  143                        		.endif
                             #[1]   "main.s"

PROCEDURE LIST (in order of size):

Size: $19AA, Addr: $01:C333,      .proc _update_PLAYER
Size: $0FC9, Addr: $1D:CB40,      .proc _sequence_INTRO
Size: $0A61, Addr: $02:C000,      .proc _joypad_DIR
Size: $0964, Addr: $02:CA61,      .proc _update_WEAPON
Size: $086D, Addr: $02:D3C5, .procgroup blkmap_group
Size: $059D, Addr: $1E:C000,      .proc _init_LEVEL
Size: $0580, Addr: $1E:C59D,      .proc _joypad_BUTTONS_SHOP
Size: $0414, Addr: $1D:DB09,      .proc _init_SHOP
Size: $03AA, Addr: $02:DC32,      .proc _anim_OBJECTS
Size: $0390, Addr: $1E:CB1D,      .proc huc_monofont_x
Size: $02F9, Addr: $01:DCDD,      .proc _init_HUD
Size: $0292, Addr: $1E:CEAD, .procgroup chrmap_group
Size: $0289, Addr: $1E:D13F,      .proc _main
Size: $0288, Addr: $1E:D3C8,      .proc _load_OBJECT_TILES
Size: $0277, Addr: $1E:D650,      .proc _joypad_BUTTONS
Size: $024D, Addr: $1E:D8C7,      .proc _joypad_BUTTONS_TITLE
Size: $0226, Addr: $1E:DB14,      .proc _init_INTRO
Size: $021C, Addr: $1E:DD3A,      .proc _collision_PLAYER_OBJECT
Size: $0170, Addr: $1F:C000,      .proc _init_TITLE
Size: $0163, Addr: $1F:C170,      .proc _scroll_object
Size: $0163, Addr: $1F:C2D3,      .proc _scroll_chest
Size: $0163, Addr: $1F:C436,      .proc _scroll_npc
Size: $0140, Addr: $1F:C599,      .proc _init_OBJECT_LV1
Size: $013D, Addr: $1F:C6D9,      .proc _collision_PLAYER_NPC
Size: $013B, Addr: $1F:C816,      .proc _collision_WEAPON_OBJECTS
Size: $0108, Addr: $1F:C951,      .proc read_joypads
Size: $0107, Addr: $1F:CA59,      .proc _recenter_CAMERA
Size: $00DF, Addr: $1D:DF1D, .procgroup vdc_set_mode
Size: $00D7, Addr: $1F:CB60,      .proc _init_NPC_LV1
Size: $00D0, Addr: $1F:CC37, .procgroup vdc_tty_out
Size: $00CA, Addr: $1F:CD07,      .proc _init_CHEST_LV1
Size: $00A5, Addr: $1E:DF56,      .proc _display_TIME_SHOP
Size: $009D, Addr: $1F:CDD1,      .proc _display_TIME_LEVEL
Size: $009B, Addr: $1F:CE6E,      .proc cross_fade_to
Size: $0086, Addr: $1F:CF09,      .proc _scroll_split.5
Size: $0086, Addr: $1F:CF8F,      .proc _sgx_scroll_split.5
Size: $0081, Addr: $1F:D015,      .proc vbl_init_scroll
Size: $007A, Addr: $1F:D096,      .proc _check_TILE_DEPTH
Size: $0077, Addr: $1F:D110,      .proc core_main
Size: $006A, Addr: $1F:D187, .procgroup load_vram_group
Size: $0064, Addr: $1F:D1F1,      .proc _collision_PLAYER_BG
Size: $0062, Addr: $1F:D255,      .proc _init_256x224
Size: $004E, Addr: $1F:D2B7, .procgroup old_satb_group
Size: $004C, Addr: $1F:D305,      .proc _init_VARIABLES
Size: $004B, Addr: $1F:D351, .procgroup hucc_memcmp
Size: $0046, Addr: $1F:D39C,      .proc read_palettes
Size: $0043, Addr: $1F:D3E2, .procgroup vdc_clear_vram
Size: $0043, Addr: $1F:D425,      .proc sgx_detect
Size: $0042, Addr: $1F:D468,      .proc _init_PLAYER
Size: $003F, Addr: $1F:D4AA, .procgroup load_bat_group
Size: $003E, Addr: $1F:D4E9,      .proc _vram2vram.3
Size: $003B, Addr: $1F:D527,      .proc init_random
Size: $0038, Addr: $1F:D562,      .proc _joypad_BUTTONS_INTRO
Size: $002E, Addr: $1F:D59A,      .proc _scroll_BG
Size: $002B, Addr: $1F:D5C8,      .proc _load_palette.3
Size: $0026, Addr: $01:DFD6,      .proc _load_CHEST_TILES
Size: $0026, Addr: $1F:D5F3,      .proc _load_NPC_TILES
Size: $0023, Addr: $02:DFDC,      .proc _hide_LEVEL_SPRITES
Size: $001D, Addr: $0D:DFE0,      .proc _init_SYSTEM
Size: $001C, Addr: $1F:D619,      .proc _display_SCORE
Size: $001C, Addr: $1F:D635,      .proc _display_ZENNY
Size: $001C, Addr: $1F:D651,      .proc clear_vce
Size: $001A, Addr: $1F:D66D,      .proc _display_KEY
Size: $001A, Addr: $1F:D687,      .proc _display_POTION
Size: $0018, Addr: $1F:D6A1,      .proc _display_LIFE
