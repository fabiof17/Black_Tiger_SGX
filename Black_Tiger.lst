                             #[1]   "Black_Tiger.s"
   27                        	
   28               0010     	CORE_VERSION	=	$10			; Version 1.0
   29                        	
   30                        			; Get the user program's configuration settings, this will
   31                        			; be read from the current directory, if it exists, or the
   32                        			; "../include/" directory if not.
   33                        	
                             #[4]   "..\..\..\include\hucc\core-config.inc"
   34                        			include	"core-config.inc"
    1                        	; ***************************************************************************
    2                        	; ***************************************************************************
    3                        	;
    4                        	; core-config.inc
    5                        	;
    6                        	; Configuration settings for the "CORE(not TM)" PC Engine library code.
    7                        	;
    8                        	; Copyright John Brandwood 2021-2024.
    9                        	;
   10                        	; Distributed under the Boost Software License, Version 1.0.
   11                        	; (See accompanying file LICENSE_1_0.txt or copy at
   12                        	;  http://www.boost.org/LICENSE_1_0.txt)
   13                        	;
   14                        	; ***************************************************************************
   15                        	; ***************************************************************************
   16                        	;
   17                        	; The idea is that you, a PCE developer, copy this file from the ../include/
   18                        	; directory and into your project's directory, and then customize the values
   19                        	; to suit your particular project.
   20                        	;
   21                        	; Because PCEAS searches the current (i.e. project) directory for an include
   22                        	; file first, then it will find your customized copy of the file rather than
   23                        	; the original copy in the ../include/ directory.
   24                        	;
   25                        	; That means that all of the different overlay programs in your project will
   26                        	; share the same overall library configuration for your game.
   27                        	;
   28                        	; ***************************************************************************
   29                        	; ***************************************************************************
   30                        	
   31                        	;
   32                        	; Are we going to take over MPR7?
   33                        	;
   34                        	; While this is the default for the "CORE(not TM)" library, it is definitely
   35                        	; possible to use the library to build CD-ROM code that runs with the System
   36                        	; Card in MPR7, and with the 1st bank remaining in MPR2.
   37                        	;
   38                        	; N.B. The CD-ROM Stage1 loader runs the library with USING_MPR7=0 while it
   39                        	;      installs the kernel into PCE RAM in MPR1.
   40                        	;
   41                        	
   42               0000     		.ifndef	USING_MPR7
   44                        		.endif
   45                        	
   46                        	;
   47                        	; Are we building a CD-ROM overlay that uses an already-built CD-ROM Stage1
   48                        	; loader to install the library's kernel code into PCE RAM in MPR1?
   49                        	;
   50                        	; If this is set, the library's kernel code will be excluded from the build,
   51                        	; which will save about 1KB-3KB of code space in every overlay program!
   52                        	;
   53                        	; N.B. The CD-ROM Stage1 loader sets USING_STAGE1=0 so it builds correctly.
   54                        	;
   55                        	
   56               0000     		.ifndef	USING_STAGE1
   58                        		.endif
   59                        	
   60                        	;
   61                        	; Are we currently building the CD-ROM Stage1 loader?
   62                        	;
   63                        	; If this is set, the library's startup code does not call the __sound_init
   64                        	; macro because the sound driver code is not usually a part of the kernel.
   65                        	;
   66                        	; N.B. The CD-ROM Stage1 loader sets BUILDING_STAGE1=1 so it builds correctly.
   67                        	;
   68                        	
   69               0000     		.ifndef	BUILDING_STAGE1
   71                        		.endif
   72                        	
   73                        	;
   74                        	; Is the last track of the CD a duplicate of the main ISO data track?
   75                        	;
   76                        	; Most CD games put two copies of the same ISO track on the CD, so that data
   77                        	; can be read from the secondary track if the drive has a problem reading it
   78                        	; it from the primary location.
   79                        	;
   80                        	; If set, the secondary track will be enabled when the library first starts.
   81                        	;
   82                        	
   83               0000     		.ifndef	SUPPORT_2ISO
   85                        		.endif
   86                        	
   87                        	;
   88                        	; Maximum number of directory entries to use from the ISO.
   89                        	;
   90                        	; The fewer that we choose, the less RAM memory we need. A setting of 64 is
   91                        	; a good compromise to use until you are putting lots of files on the ISO.
   92                        	;
   93                        	
   94               0000     		.ifndef	MAX_DIRSIZE
   96                        		.endif
   97                        	
   98                        	;
   99                        	; Use the System Card's PSG driver code instead of a modern alternative
  100                        	; sound driver like a DefleMask or Furnace player?
  101                        	;
  102                        	
  103               0000     		.ifndef	USING_PSGDRIVER
  105                        		.endif
  106                        	
  107                        	;
  108                        	; Support development for the Turbo EverDrive v2?
  109                        	;
  110                        	; This only applies to HuCard programs, but when chosen, the "CORE(not TM)"
  111                        	; kernel is moved from bank 0 to bank 2, and a minimal set of startup code
  112                        	; is put in bank 0.
  113                        	;
  114                        	; This is because the TED2 hardware occupies the whole of bank 0 when it is
  115                        	; activated, and so we need to run with a different bank in MPR7.
  116                        	;
  117                        	
  118               0000     		.ifndef	SUPPORT_TED2
  120                        		.endif
  121                        	
  122                        	;
  123                        	; Support development for the SuperGRAFX?
  124                        	;
  125                        	; This enables SuperGRAFX support in certain library functions.
  126                        	;
  127                        	
  128               0000     		.ifndef	SUPPORT_SGX
  130                        		.endif
  131                        	
  132                        	;
  133                        	; Choose SuperGRAFX VPC initialization mode.
  134                        	;
  135                        	; SGX_PARALLAX=0 (useful when VDC #1 is a fullscreen HUD)
  136                        	;
  137                        	;  FRONT
  138                        	;   SP1 = VDC #1 (pce) sprite pixels
  139                        	;   BG1 = VDC #1 (pce) background pixels
  140                        	;   SP2 = VDC #2 (sgx) sprite pixels
  141                        	;   BG2 = VDC #2 (sgx) background pixels
  142                        	;  BACK
  143                        	;
  144                        	; SGX_PARALLAX=1
  145                        	;
  146                        	;  FRONT
  147                        	;   SP1 = VDC #1 (pce) sprite pixels
  148                        	;   SP2 = VDC #2 (sgx) sprite pixels
  149                        	;   BG1 = VDC #1 (pce) background pixels
  150                        	;   BG2 = VDC #2 (sgx) background pixels
  151                        	;  BACK
  152                        	;
  153                        	
  154               0000     		.ifndef	SGX_PARALLAX
  156                        		.endif
  157                        	
  158                        	;
  159                        	; Support development for the ArcadeCard?
  160                        	;
  161                        	; This enables ArcadeCard support in certain library functions.
  162                        	;
  163                        	
  164               0000     		.ifndef	SUPPORT_ACD
  166                        		.endif
  167                        	
  168                        	;
  169                        	; Support development for the IFU's ADPCM hardware?
  170                        	;
  171                        	; Developers would normally just use the System Card functions for ADPCM, but
  172                        	; enabling this adds alternative functions, and allows ADPCM use on a HuCARD.
  173                        	;
  174                        	
  175               0000     		.ifndef	SUPPORT_ADPCM
  177                        		.endif
  178                        	
  179                        	;
  180                        	; Select which version of the joystick library code to include, only one of
  181                        	; these can be set to '1' ...
  182                        	;
  183                        	; SUPPORT_2BUTTON : Only returns buttons I and II.
  184                        	; SUPPORT_6BUTTON : Read buttons III-VI, but ignore a mouse.
  185                        	; SUPPORT_MOUSE	  : Read mouse, but ignore buttons III-VI.
  186                        	;
  187                        	; It doesn't make sense to design a game the relies on both the 6-button and
  188                        	; the mouse, so the joystick library is optimized for one or the other.
  189                        	;
  190                        	; Note that both those devices are always detected and no conflicts occur,
  191                        	; this just controls reading either buttons III-VI or the Mouse Y-movement.
  192                        	;
  193                        	
  194               0000     		.ifndef	SUPPORT_6BUTTON
  200                        		.endif
  201                        	
  202                        	;
  203                        	; How many joypad/mouse devices should be supported?
  204                        	;
  205                        	; This is normally 5, but can be set to 3 (or lower) in order to speed up
  206                        	; the processing and free up CPU time for other code, which is especially
  207                        	; useful for mouse games.
  208                        	;
  209                        	
  210               0000     		.ifndef	MAX_PADS
  212                        		.endif
  213                        	
  214                        	;
  215                        	; Implement a HuC-compatible seperate array for accumulating joypad presses?
  216                        	;
  217                        	; This is only really needed if your game is not expected to run at 60Hz and
  218                        	; so you will sometimes miss joypad presses.
  219                        	;
  220                        	; Alternatively you can set ACCUMULATE_JOY so that joypad presses are always
  221                        	; accumulated in the normal joytrg array, which is how asm programmers would
  222                        	; normally deal with this situation.
  223                        	;
  224                        	
  225               0000     		.ifndef HUC_JOY_EVENTS
  227                        		.endif
  228                        	
  229                        	;
  230                        	; Should "joytrg" accumulate presses, and so need to be explicitely cleared
  231                        	; after reading, or should it just be the result of the last read?
  232                        	;
  233                        	; This option has no effect if HUC_JOY_EVENTS is non-zero since that option
  234                        	; takes precedence over this one!
  235                        	;
  236                        	
  237               0000     		.ifndef ACCUMULATE_JOY
  239                        		.endif
  240                        	
  241                        	;
  242                        	; The DATA_BANK location needs to be set as early as possible so that library
  243                        	; code is able to put data in there before the total overall size of the code
  244                        	; is known.
  245                        	;
  246                        	; By default, DATA_BANK is the next bank after the CORE_BANK.
  247                        	;
  248                        	; RESERVE_BANKS allows developers to reserve some banks between the CORE_BANK
  249                        	; and the DATA_BANK that they can use however they wish.
  250                        	;
  251                        	; One use for RESERVE_BANKS is to create empty space that PCEAS can use when
  252                        	; it relocates procedures. This provides a way for a developer to group code
  253                        	; together at the start of memory, and leave the maximum number of banks for
  254                        	; loading dynamic data from CD-ROM.
  255                        	;
  256                        	; The KickC environment sets RESERVE_BANKS=1 (or higher) so that there is a
  257                        	; a bank for the permanent C code and static constants.
  258                        	;
  259                        	
  260               0000     		.ifndef	RESERVE_BANKS
  266                        		.endif	RESERVE_BANKS
                             #[3]   "..\..\..\include\hucc\core.inc"
   35                        	
   36                        	;
   37                        	; This is a simple macro to call System Card functions when using MPR7 for
   38                        	; running the "CORE(not TM)" PC Engine library code.
   39                        	;
   40                        	
   41                        	system		.macro
   42                        			ldy     #<\1
   43                        			jsr	call_bios
   44                        			.endm
   45                        	
   46                        	;
   47                        	; This replaces the System Card's ex_setvec, because "call_bios" uses the
   48                        	; Y register.
   49                        	;
   50                        	
   51                        	setvec		.macro
   52                        			php
   53                        			sei
   54                        			lda.l	#\2
   55                        			sta.l	\1
   56                        			lda.h	#\2
   57                        			sta.h	\1
   58                        			plp
   59                        			.endm
   60                        	
   61                        	;
   62                        	; Repurpose this System Card variable, since nmi_hook is never used.
   63                        	;
   64                        	; We'll use it as a vector to a user-supplied sound driver instead.
   65                        	;
   66                        	
   67               2206     	sound_hook	=	nmi_hook		; Sound Driver to run in VBL.
   68                        	
   69                        	;
   70                        	; CORE Zero-Page variables, relative to the System Card's ZP variables.
   71                        	;
   72                        	
   73               0000     		.if	USING_PSGDRIVER
   75                        		.else
   76               20EC     	core_zpend	=	$F8:20EC
   77                        		.endif	USING_PSGDRIVER
   78                        	
   79               0001     		.if	SUPPORT_SGX
   80                        	
   81                        			; Put some "CORE(not TM)" variables at the start of Zero Page.
   82                        			;
   83                        			; These are at the *start* of ZP so that the SuperGrafx shadow
   84                        			; "sgx_" registers are at a specific offset from their System
   85                        			; Card "vdc_" counterparts, and they MUST NOT be moved!
   86                        			;
   87                        			; This allows us to put SGX_VDC_OFFSET or PCE_VDC_OFFSET into
   88                        			; the X register, and then index into either set of hardware
   89                        			; registers and the "sgx_reg" or "vdc_reg" shadow-variables.
   90                        	
   91               0000     	PCE_VDC_OFFSET	=	$00		; Offset to PCE VDC chip & shadow vars.
   92               0010     	SGX_VDC_OFFSET	=	$10		; Offset to SGX VDC chip & shadow vars.
   93                        	
   94               2000     			.zp
   95               2000     			.org	$2000
   96    F8:2000             	__temp		ds	2		; $F8:2000 Use within any ASM routine.
   97    F8:2002             	_bp_bank	ds	1		; $F8:2002 Use within any ASM/HuCC routine.
   98    F8:2003             	sgx_crl		ds	1		; $F8:2003 SGX shadow (vdc_crl = $20F3).
   99    F8:2004             	sgx_crh		ds	1		; $F8:2004 SGX shadow (vdc_crh = $20F4).
  100    F8:2005             	core_1stbank	ds	1		; $F8:2005 1st bank of library code.
  101    F8:2006             	sgx_sr		ds	1		; $F8:2006 SGX shadow (vdc_sr  = $20F6).
  102    F8:2007             	sgx_reg		ds	1		; $F8:2007 SGX shadow (vdc_reg = $20F7).
  103                        	
  104               2008     	core_zp1st	=	*		; $F8:2008 1st free user address.
  105                        	
  106                        		.else	SUPPORT_SGX
  116                        		.endif	SUPPORT_SGX
  117                        	
  118                        	;
  119                        	; The kernel code in RAM follows the System Card's RAM variables.
  120                        	;
  121                        	
  122               0000     		.if	USING_PSGDRIVER
  124                        		.else
  125               22D0     	core_ram1st     =	$F8:22D0
  126                        		.endif	USING_PSGDRIVER
  127                        	
  128                        	;
  129                        	; Include the "CORE(not TM)" startup code to begin the HuCARD / Overlay.
  130                        	;
  131                        	
                             #[4]   "..\..\..\include\hucc\core-startup.asm"
  132                        			include	"core-startup.asm"
    1                        	; ***************************************************************************
    2                        	; ***************************************************************************
    3                        	;
    4                        	; core-startup.asm
    5                        	;
    6                        	; The "CORE(not TM)" PC Engine library startup code that runs at boot/reset.
    7                        	;
    8                        	; Copyright John Brandwood 2021-2024.
    9                        	;
   10                        	; Distributed under the Boost Software License, Version 1.0.
   11                        	; (See accompanying file LICENSE_1_0.txt or copy at
   12                        	;  http://www.boost.org/LICENSE_1_0.txt)
   13                        	;
   14                        	; ***************************************************************************
   15                        	; ***************************************************************************
   16                        	;
   17                        	; This is the initialization code in the 1st bank, and it is responsible for
   18                        	; setting up a consistant runtime environment for the developer's program,
   19                        	; so that the developer can concentrate on writing the program itself.
   20                        	;
   21                        	; The idea is that when a program is loaded, the first 40KB of it is mapped
   22                        	; as $4000..$DFFF, and initialization starts at $4000, with the developer's
   23                        	; program getting control after initialization, with a jump to "core_main".
   24                        	;
   25                        	; The initializtion sets up a small kernel of code that provides interrupt
   26                        	; handling that mimics a subset of the System Card's behavior, designed to
   27                        	; act in the same way on HuCARD and CD-ROM, with either the System Card in
   28                        	; MPR7, or with an overlay in MPR7.
   29                        	;
   30                        	; The kernel handles reading the joypad/mouse, and it offers handler hooks
   31                        	; for running the developer's interrupt code.  On CD-ROM systems, it also
   32                        	; handles the loading and running of subsequent overlay programs.
   33                        	;
   34                        	; On HuCARD, the kernel itself runs in MPR7; while on CD-ROM systems it is
   35                        	; run from RAM in MPR1, so that overlay programs are independant from each
   36                        	; other, and can be written in different programming languages.
   37                        	;
   38                        	;
   39                        	; 1) If we're running on a HuCARD, the initialization is simple!
   40                        	;
   41                        	;    The PC Engine's memory map is set to ...
   42                        	;
   43                        	;      MPR0 = bank $FF : PCE hardware
   44                        	;      MPR1 = bank $F8 : PCE RAM with Stack & ZP
   45                        	;      MPR2 = bank $00 : HuCARD ROM
   46                        	;      MPR3 = bank $01 : HuCARD ROM
   47                        	;      MPR4 = bank $02 : HuCARD ROM
   48                        	;      MPR5 = bank $03 : HuCARD ROM
   49                        	;      MPR6 = bank $04 : HuCARD ROM
   50                        	;      MPR7 = bank $00 : HuCARD ROM
   51                        	;
   52                        	;
   53                        	; 2) If we're running on a HuCARD that supports the Turbo Everdrive, then the
   54                        	;    first 2 banks are reserved for mapping the TED2 hardware and a RAM bank.
   55                        	;
   56                        	;    The PC Engine's memory map is set to ...
   57                        	;
   58                        	;      MPR0 = bank $FF : PCE hardware
   59                        	;      MPR1 = bank $F8 : PCE RAM with Stack & ZP
   60                        	;      MPR2 = bank $02 : HuCARD ROM
   61                        	;      MPR3 = bank $03 : HuCARD ROM
   62                        	;      MPR4 = bank $04 : HuCARD ROM
   63                        	;      MPR5 = bank $05 : HuCARD ROM
   64                        	;      MPR6 = bank $06 : HuCARD ROM
   65                        	;      MPR7 = bank $02 : HuCARD ROM
   66                        	;
   67                        	;
   68                        	; 3) If we're running on an old CD System, the overlay is loaded from the ISO
   69                        	;    into banks $80-$87 (64KB max).
   70                        	;
   71                        	;    The PC Engine's memory map is set to ...
   72                        	;
   73                        	;      MPR0 = bank $FF : PCE hardware
   74                        	;      MPR1 = bank $F8 : PCE RAM with Stack & ZP
   75                        	;      MPR2 = bank $80 : CD RAM
   76                        	;      MPR3 = bank $81 : CD RAM
   77                        	;      MPR4 = bank $82 : CD RAM
   78                        	;      MPR5 = bank $83 : CD RAM
   79                        	;      MPR6 = bank $84 : CD RAM
   80                        	;      MPR7 = bank $80 : CD RAM or System Card's bank $00
   81                        	;
   82                        	;
   83                        	; 4) If we're running on a SuperCD System, the overlay is loaded from the ISO
   84                        	;    into banks $68-$87 (256KB max).
   85                        	;
   86                        	;    The PC Engine's memory map is set to ...
   87                        	;
   88                        	;      MPR0 = bank $FF : PCE hardware
   89                        	;      MPR1 = bank $F8 : PCE RAM with Stack & ZP
   90                        	;      MPR2 = bank $68 : SCD RAM
   91                        	;      MPR3 = bank $69 : SCD RAM
   92                        	;      MPR4 = bank $6A : SCD RAM
   93                        	;      MPR5 = bank $6B : SCD RAM
   94                        	;      MPR6 = bank $6C : SCD RAM
   95                        	;      MPR7 = bank $68 : SCD RAM or System Card's bank $00
   96                        	;
   97                        	; ***************************************************************************
   98                        	; ***************************************************************************
   99                        	
  100                        	
  101                        	
  102               E000     			.code
  103               0000     			.bank	0
  104                        	
  105               0000     		.if	SUPPORT_TED2			; Do we want to use a TED2?
  177                        		.endif	SUPPORT_TED2
  178                        	
  179                        	
  180                        	
  181               0001     		.if	USING_MPR7
  182                        	
  183                        	; ***************************************************************************
  184                        	; ***************************************************************************
  185                        	;
  186                        	; RESET VECTORS (when running in MPR7, either as a HuCARD, or a CD overlay)
  187                        	;
  188                        	
  189                        			; Hardware reset and interrupt vectors.
  190                        	
  191               FFF4     			.org	$FFF4
  192                        	
  193    00:FFF4  10         	core_version:	db	CORE_VERSION		; CORE(not TM) Version.
  194    00:FFF5  80         			db	$80			; System Card compatibility.
  195                        	
  196    00:FFF6  5D E0      			dw	core_irq2		; IRQ2	(from CD/ADPCM)
  197    00:FFF8  64 E0      			dw	core_irq1		; IRQ1	(from VDC)
  198    00:FFFA  58 E1      			dw	core_timer		; TIMER (from CPU)
  199    00:FFFC  5E E1      			dw	core_rti		; NMI	(unused)
  200               0000     		.if	CDROM
  202                        		.else
  203    00:FFFE  21 E0      			dw	core_hw_reset		; RESET (HuCARD)
  204                        		.endif	CDROM
  205                        	
  206               0001     		.if	USING_NEWPROC			; If the ".proc" trampolines
  207               FFF3     	__trampolineptr =	$FFF3			; are in MPR7, tell PCEAS to
  208                        		.endif					; put them below the vectors.
  209                        	
  210                        		.else	USING_MPR7
  222                        		.endif	USING_MPR7
  223                        	
  224                        	
  225                        	
  226                        	; ***************************************************************************
  227                        	; ***************************************************************************
  228                        	;
  229                        	; !!! THE HuCARD/OVERLAY PROGRAM'S FIRST BANK STARTS HERE !!!
  230                        	;
  231                        	
  232                        			; Switch to MPR2 for the "CORE(not TM)" library init.
  233                        			;
  234                        			; This is also executed by a HuCARD once it has run
  235                        			; its initial hardware-reset code.
  236                        			;
  237                        			; When run, MPR2-MPR6 are always mapped to the 1st 5 banks of
  238                        			; the overlay program, and MPR7 contains the System Card.
  239                        	
  240               4000     			.org	$4000
  241                        	
  242               0000     	CORE_BANK	=	bank(*) - _bank_base	; It isn't always zero! ;-)
  243                        	
  244               0000     			.bank	CORE_BANK, "CORE_BANK"	; Give it a label.
  245                        	
  246               0001     		.if	USING_MPR7
  247               0007     	CORE_PAGE	=	7			; User code runs in MPR7.
  248                        		.else
  250                        		.endif	USING_MPR7
  251                        	
  252    00:4000  4C 06 40   	core_boot:	jmp	* + 6			; Allow someone to patch this.
  253                        	
  254                        			; Add an ident string so isoLINK can autodetect configuration.
  255                        			;
  256                        			; This allows isoLINK to decide whether to use the IPL-SCD boot
  257                        			; sector hack, and whether to include a SuperGRAFX signature in
  258                        			; the boot sector, without the user having to manually use some
  259                        			; command line parameters, although they are free to do that if
  260                        			; they wish.
  261                        	
  262               0001     		.if	SUPPORT_SGX
  263               0000     		.if	BUILDING_STAGE1
  265                        		.else
  266    00:4003  53 47 58   			db	"SGX"			; SGX SuperCD or SGX HuCARD.
  267                        		.endif	BUILDING_STAGE1
  268                        		.else
  282                        		.endif	SUPPORT_SGX
  283                        	
  284               0000     		.if	CDROM
  331                        		.else	CDROM
  332                        	
  333                        			; Set up HuCARD RAM in a compatible way to the System Card.
  334                        			;
  335                        			; Note that the entire RAM is cleared by "core_hw_reset".
  336                        	
  337    00:4006  A9 1F      			lda	#%11111			; Enable joypad soft-reset.
  338    00:4008  8D 27 22   			sta	joyena
  339                        	
  340                        		.endif	CDROM
  341                        	
  342                        			; Now that RAM is initialized ...
  343                        	
  344    00:400B  43 04      			tma2				; Remember overlay's 1st bank
  345    00:400D  85 05      			sta	<core_1stbank		; $00, $02, $68 or $80!
  346               0001     		.if	USING_MPR7
  347    00:400F  53 80      			tam7				; "CORE(not TM)" takes MPR7!
  348                        		.endif
  349                        	
  350    00:4011  A2 FF      			ldx	#$FF			; Initialize stack pointer.
  351    00:4013  9A         			txs
  352                        	
  353    00:4014  20 5F E1   			jsr	core_clr_hooks		; Reset default hooks.
  354                        	
  355                        	;		stz	TIMER_CR		; Stop HuC6280 timer.
  356                        	;		stz	IRQ_ACK			; Clr HuC6280 timer interrupt.
  357                        	;		stz	IRQ_MSK			; Clr HuC6280 interrupt mask.
  358                        	
  359    00:4017  AD 00 02   			lda	VDC_SR			; Purge any overdue VBL.
  360    00:401A  9C 41 22   			stz	irq_cnt			; Make it easy to check.
  361    00:401D  58         			cli				; Restore interrupts.
  362                        	
  363    00:401E  4C E5 FF   			jmp	core_main		; Start the game's code.
  364                        	
  365                        	
  366                        	
  367               0001     		.if	!CDROM
  368                        	
  369                        	; ***************************************************************************
  370                        	; ***************************************************************************
  371                        	;
  372                        	; HuCARD Kernel Code
  373                        	;
  374                        	; core_ram1st - Start of code to relocate to MPR1.
  375                        	; core_ramend - End of code to relocate to MPR1.
  376                        	;
  377                        	
  378                        			; In a HuCARD, BSS variables start as low as possible.
  379                        	
  380               2200     			.bss
  381               22D0     			.org	core_ram1st
  382               22D0     	core_ramend	=	*
  383               4021     			.code
  384                        	
  385                        			; Normal HuCARD hardware-reset code, executed in MPR7.
  386                        			;
  387                        			; This does the basic PCE startup that every HuCARD (including
  388                        			; a System Card) needs to do, and then it remaps memory to be
  389                        			; compatible with the "CORE(not TM)" CD overlay program start.
  390                        	
  391               E021     			.page	7			; This will run in MPR7.
  392                        	
  393    00:E021  78         	core_hw_reset:	sei				; Disable interrupts.
  394    00:E022  D4         			csh				; Set high-speed mode.
  395    00:E023  D8         			cld
  396                        	
  397    00:E024  A2 FF      			ldx	#$FF			; Initialize stack pointer.
  398    00:E026  9A         			txs
  399    00:E027  8A         			txa				; MPR0 = $FF : PCE hardware
  400    00:E028  53 01      			tam0				; MPR1 = $F8 : PCE RAM
  401    00:E02A  A9 F8      			lda	#$F8
  402    00:E02C  53 02      			tam1
  403                        	
  404    00:E02E  9C 01 0C   			stz	TIMER_CR		; HW reset already does these,
  405    00:E031  9C 03 14   			stz	IRQ_ACK			; but this may be a reset from
  406    00:E034  9C 02 14   			stz	IRQ_MSK			; software (i.e. joypad).
  407                        	
  408    00:E037  F3 53 E0 00			tai	const_0000, $2000, 8192 ; Clear RAM.
         00:E03B  20 00 20    
  409                        	
  410    00:E03E  43 80      			tma7				; Not always bank 0!
  411                        	
  412    00:E040  53 04      			tam2				; Set CD-ROM overlay memory map,
  413    00:E042  1A         			inc	a			; 1st 5 banks in MPR2-MPR6.
  414    00:E043  53 08      			tam3
  415    00:E045  1A         			inc	a
  416    00:E046  53 10      			tam4
  417    00:E048  1A         			inc	a
  418    00:E049  53 20      			tam5
  419    00:E04B  1A         			inc	a
  420    00:E04C  53 40      			tam6
  421                        	
  422    00:E04E  4C 00 40   			jmp	core_boot		; Continue execution in MPR2.
  423                        	
  424                        			; In a HuCARD, the kernel code is permanently in MPR7.
  425                        	
                             #[5]   "..\..\..\include\hucc\core-kernel.asm"
  426                        			include "core-kernel.asm"
    1                        	; ***************************************************************************
    2                        	; ***************************************************************************
    3                        	;
    4                        	; core-kernel.asm
    5                        	;
    6                        	; The "CORE(not TM)" PC Engine library kernel code that runs after startup.
    7                        	;
    8                        	; Copyright John Brandwood 2021-2024.
    9                        	;
   10                        	; Distributed under the Boost Software License, Version 1.0.
   11                        	; (See accompanying file LICENSE_1_0.txt or copy at
   12                        	;  http://www.boost.org/LICENSE_1_0.txt)
   13                        	;
   14                        	; ***************************************************************************
   15                        	; ***************************************************************************
   16                        	;
   17                        	; This code is permanently located in either MPR7 (HuCARD), or MPR1 (CD-ROM),
   18                        	; and it provides a consistant method of interrupt-handling on both systems
   19                        	; that is designed to be compatible with the System Card.
   20                        	;
   21                        	; The library uses the "irq1_hook" for its own VDC interrupt handler, and PCE
   22                        	; developers are expected to use "vsync_hook" and "hsync_hook" for their VDC
   23                        	; interrupt functions.  Plenty of memory is available in the 1st bank for the
   24                        	; developer to put those functions.
   25                        	;
   26                        	; The reason for using "irq1_hook", is so that the library can work properly
   27                        	; if either the current overlay program, or the System Card, are mapped into
   28                        	; MPR7 whenever an interrupt occurs.
   29                        	;
   30                        	; The VDC interupt handler itself is changed from the System Card's handler,
   31                        	; and it is designed to provide faster response to vsync_hook, and to enable
   32                        	; interrupts during the slow(ish) joypad and sound driver code, so that both
   33                        	; raster and timer interrupts are not delayed.
   34                        	;
   35                        	; Developers are free to enable interrupts during their own vsync_hook code,
   36                        	; if they wish to do so.
   37                        	;
   38                        	; On CD-ROM systems, this library kernel also provides a function to load and
   39                        	; run a new overlay program, without relying upon any of the code/data within
   40                        	; the current overlay program's memory (unlike HuC v3).
   41                        	;
   42                        	; ***************************************************************************
   43                        	; ***************************************************************************
   44                        	
   45                        	
   46                        	
   47                        	; ***************************************************************************
   48                        	; ***************************************************************************
   49                        	;
   50                        	; core_kernel - Start of kernel code.
   51                        	;
   52                        	
   53               E051     	core_kernel	=	*
   54                        	
   55                        	
   56                        	
   57                        	; ***************************************************************************
   58                        	; ***************************************************************************
   59                        	;
   60                        	; Useful constants, needed by joypad library code, and used by many others.
   61                        	;
   62                        	; The kernel starts with a non-zero byte so that core-startup.asm can check
   63                        	; whether it has already been loaded into RAM.
   64                        	;
   65                        	
   66    00:E051  FF FF      	const_FFFF:	dw	$FFFF			; Useful constant for TAI.
   67    00:E053  00 00      	const_0000:	dw	$0000			; Useful constant for TAI.
   68                        	
   69    00:E055  01 02 04 08	bit_mask:	db	$01,$02,$04,$08,$10,$20,$40,$80
         00:E059  10 20 40 80 
   70                        	
   71                        	
   72                        	
   73                        	; ***************************************************************************
   74                        	; ***************************************************************************
   75                        	;
   76                        	; core_irq2  - Minimal interrupt handler compatible with System Card.
   77                        	; core_irq1  - Minimal interrupt handler compatible with System Card.
   78                        	; core_timer - Minimal interrupt handler compatible with System Card.
   79                        	; core_rti   - Minimal interrupt handler compatible with System Card.
   80                        	;
   81                        	; Note that it takes 8 cycles to respond to an IRQ.
   82                        	;
   83                        	; These routines are copied to a location in RAM that does not vary when
   84                        	; a different overlay program is loaded.
   85                        	;
   86                        	; All overlay programs are set up to vector interrupts to these routines,
   87                        	; which is designed to avoid interrupt-related crashes when loading a new
   88                        	; overlay on top of an old overlay in memory.
   89                        	;
   90                        	; All of the game's actual interrupt handling itself is done in the "hook"
   91                        	; functions so that everything works the same if the System Card is banked
   92                        	; into MPR7 when an interrupt occurs.
   93                        	;
   94                        	; ***************************************************************************
   95                        	; ***************************************************************************
   96                        	;
   97                        	; Bit settings for irq_vec  ...
   98                        	;
   99                        	;   7 : 1 to skip BIOS hsync processsing
  100                        	;   6 : 1 to call [hsync_hook]
  101                        	;   5 : 1 to skip BIOS vsync processsing
  102                        	;   4 : 1 to call [vsync_hook]
  103                        	;
  104                        	;   3 : 1 to jump [nmi_hook]
  105                        	;   2 : 1 to jump [timer_hook]
  106                        	;   1 : 1 to jump [irq1_hook]
  107                        	;   0 : 1 to jump [irq2_hook]
  108                        	;
  109                        	; ***************************************************************************
  110                        	; ***************************************************************************
  111                        	
  112    00:E05D  8F F5 01   	core_irq2:	bbs0	<irq_vec, .hook		; 8 cycles if using hook.
  113                        	
  114               0000     		.if	CDROM
  138                        		.else
  139                        			; Does this HuCARD support the IFU's ADPCM hardware?
  140                        	
  141               0000     		.if	SUPPORT_ADPCM
  153                        		.endif	SUPPORT_ADPCM
  154                        	
  155    00:E060  40         			rti				; No IRQ2 hardware on HuCARD.
  156                        	
  157    00:E061  6C 00 22   	.hook:		jmp	[irq2_hook]		; 7 cycles.
  158                        		.endif	CDROM
  159                        	
  160                        	
  161                        	
  162                        	; ***************************************************************************
  163                        	; ***************************************************************************
  164                        	;
  165                        	; core_irq1 - Minimal interrupt handler compatible with System Card.
  166                        	;
  167                        	; irq1_handler - Basic "CORE(not TM)" IRQ1 handler to use as the "irq1_hook".
  168                        	;
  169                        	; Doing the IRQ1 handler processing in this hook means that things operate
  170                        	; the same whether the System Card or an Overlay is paged into MPR7.
  171                        	
  172               0000     		.ifndef	HUCC
  181                        		.else
  182                        			; Faster IRQ servicing for HuCC and code that would like to
  183                        			; avoid the 8 cycles used by the "bbs1" instruction that is
  184                        			; taken when the System Card is mapped into MPR7.
  185                        	
  186    00:E064             	core_irq1:	;;;				; 8 (cycles for the INT)
  187               0001     		.if	CDROM || !defined(NO_CORE_IRQ1_HOOK)
  188    00:E064  6C 02 22   			jmp	[irq1_hook]		; 7 cycles.
  189                        	
  190                        		.endif
  191                        		.endif
  192                        	
  193    00:E067  48         	irq1_handler:	pha				; 3 Save all registers.
  194    00:E068  DA         			phx				; 3
  195    00:E069  5A         			phy				; 3
  196                        	
  197               0000     		.ifndef	USING_RCR_MACROS		;   This slows things down
  206                        		.endif	USING_RCR_MACROS
  207                        	
  208    00:E06A  AD 00 02   			lda	VDC_SR			; 6 Acknowledge the VDC's IRQ.
  209    00:E06D  85 F6      			sta	<vdc_sr			; 4 Remember what caused it.
  210                        	
  211               0001     		.if	SUPPORT_SGX
  212    00:E06F  AE 10 02   			ldx	SGX_SR			; 6 Read SGX_SR after VDC_SR in
  213    00:E072  86 06      			stx	<sgx_sr			; 4 case this is not an SGX!
  214                        		.endif
  215                        	
  216                        			; Handle the VDC's RCR interrupt.
  217                        	
  218    00:E074  29 04      	!:		and	#$04			; 2 Is this an HSYNC interrupt?
  219    00:E076  F0 44      			beq	!+			; 2
  220                        	
  221               0001     		.ifdef	USING_RCR_MACROS
  222                        			VDC_RCR_MACRO
                             	
         00:E078  03 06      			st0	#VDC_RCR		; 5
                             	
         00:E07A  AE 73 27   			ldx	vdc_next_region		; 5 X and Y can be greater than
         00:E07D  BC 74 27   			ldy	vdc_regionA_nxt, x	; 5 HUCC_PCE_SPLITS if regionB!
         00:E080  18         			clc				; 2
         00:E081  D0 05      			bne	!set_next_rcr+		; 4 Stop RCR if next line is 0.
                             	
         00:E083  2D 53 E0   			and	const_0000		; 5 A=$00 with the same #cycles
         00:E086  80 05      			bra	!clr_next_rcr+		; 4 as if the branch were taken.
                             	
         00:E088  B9 23 27   	!set_next_rcr:	lda	vdc_regionA_rcr, y	; 5 Set next RCR 1 line before
         00:E08B  69 3F      			adc	#64-1			; 2 the region begins, or 0 to
         00:E08D  8D 02 02   	!clr_next_rcr:	sta	VDC_DL			; 6 disable.
         00:E090  62         			cla				; 2
         00:E091  2A         			rol	a			; 2
         00:E092  8D 03 02   			sta	VDC_DH			; 6
                             	
         00:E095  03 08      			st0	#VDC_BYR		; 5 Do BYR first to mitigate the
         00:E097  BD 53 27   			lda	vdc_regionA_yl, x	; 5 glitch if the IRQ is delayed.
         00:E09A  8D 02 02   			sta	VDC_DL			; 6 = 105 cycles from RCR on SGX
         00:E09D  BD 63 27   			lda	vdc_regionA_yh, x	; 5
         00:E0A0  8D 03 02   			sta	VDC_DH			; 6
                             	
         00:E0A3  03 05      			st0	#VDC_CR			; 5
         00:E0A5  BD 13 27   			lda	vdc_regionA_crl, x	; 5
                             	;		asl	a
         00:E0A8  8D 02 02   			sta	VDC_DL			; 6
                             	
         00:E0AB  03 07      			st0	#VDC_BXR		; 2
         00:E0AD  BD 33 27   			lda	vdc_regionA_xl, x	; 5
         00:E0B0  8D 02 02   			sta	VDC_DL			; 6
         00:E0B3  BD 43 27   			lda	vdc_regionA_xh, x	; 5
         00:E0B6  8D 03 02   			sta	VDC_DH			; 6 = 156 cycles from RCR if DUO
                             	
                             	;		bcc	!+
                             	;		lda	vdc_regionA_yh, x	; 5
                             	;		sta.l	VCE_CTW			; 6
                             	
         00:E0B9  8C 73 27   			sty	vdc_next_region		; 5
                             	
  223                        		.else
  225                        		.endif
  226                        	
  227               0001     		.if	SUPPORT_SGX
  228                        	
  229                        			; Handle the SGX's RCR interrupt.
  230                        	
  231    00:E0BC  2F 06 50   	!:		bbr2	<sgx_sr, !+		; 6 Is this an HSYNC interrupt?
  232                        	
  233               0001     		.ifdef	USING_RCR_MACROS
  234                        			SGX_RCR_MACRO
                             	
         00:E0BF  A9 06      			lda	#VDC_RCR		; 2
         00:E0C1  8D 10 02   			sta	SGX_AR			; 6
                             	
         00:E0C4  AE F4 27   			ldx	sgx_next_region		; 5 X and Y can be greater than
         00:E0C7  BC F5 27   			ldy	sgx_regionA_nxt, x	; 5 HUCC_SGX_SPLITS if regionB!
         00:E0CA  18         			clc				; 2
         00:E0CB  D0 05      			bne	!set_next_rcr+		; 4 Stop RCR if next line is 0.
                             	
         00:E0CD  2D 53 E0   			and	const_0000		; 5 A=$00 with the same #cycles
         00:E0D0  80 05      			bra	!clr_next_rcr+		; 4 as if the branch were taken.
                             	
         00:E0D2  B9 A4 27   	!set_next_rcr:	lda	sgx_regionA_rcr, y	; 5 Set next RCR 1 line before
         00:E0D5  69 3F      			adc	#64-1			; 2 the region begins, or 0 to
         00:E0D7  8D 12 02   	!clr_next_rcr:	sta	SGX_DL			; 6 disable.
         00:E0DA  62         			cla				; 2
         00:E0DB  2A         			rol	a			; 2
         00:E0DC  8D 13 02   			sta	SGX_DH			; 6
                             	
         00:E0DF  A9 08      			lda	#VDC_BYR		; 2 Do BYR first to mitigate the
         00:E0E1  8D 10 02   			sta	SGX_AR			; 6 glitch if the IRQ is delayed.
         00:E0E4  BD D4 27   			lda	sgx_regionA_yl, x	; 5
         00:E0E7  8D 12 02   			sta	SGX_DL			; 6
         00:E0EA  BD E4 27   			lda	sgx_regionA_yh, x	; 5
         00:E0ED  8D 13 02   			sta	SGX_DH			; 6
                             	
         00:E0F0  A9 05      			lda	#VDC_CR			; 2
         00:E0F2  8D 10 02   			sta	SGX_AR			; 6
         00:E0F5  BD 94 27   			lda	sgx_regionA_crl, x	; 5
         00:E0F8  8D 12 02   			sta	SGX_DL			; 6
                             	
         00:E0FB  A9 07      			lda	#VDC_BXR		; 2
         00:E0FD  8D 10 02   			sta	SGX_AR			; 6
         00:E100  BD B4 27   			lda	sgx_regionA_xl, x	; 5
         00:E103  8D 12 02   			sta	SGX_DL			; 6
         00:E106  BD C4 27   			lda	sgx_regionA_xh, x	; 5
         00:E109  8D 13 02   			sta	SGX_DH			; 6 = 293 cycles (282 if no YH)
                             	
         00:E10C  8C F4 27   			sty	sgx_next_region		; 5
                             	
  235                        		.else
  237                        		.endif
  238                        	
  239                        		.endif	SUPPORT_SGX
  240                        	
  241                        			; Handle the VDC's VBL interrupt.
  242                        	
  243    00:E10F  5F F6 32   	!:		bbr5	<vdc_sr, .exit_irq1	; 6 Is this a VBLANK interrupt?
  244                        	
  245               0001     		.ifdef	USING_RCR_MACROS		;   If we didn't do it earlier
  246               0000     		.if	CDROM				;   then we need to do it now.
  253                        		.endif	CDROM
  254                        		.endif	USING_RCR_MACROS
  255                        	
  256               0001     		.if	SUPPORT_SGX
  257    00:E112  A9 05      			lda	#VDC_CR			; Update the SGX's Control
  258    00:E114  8D 10 02   			sta	SGX_AR			; Register first, just in
  259    00:E117  8D 00 02   			sta	VDC_AR			; case this is not an SGX!
  260    00:E11A  A5 03      			lda	<sgx_crl		
  261    00:E11C  8D 12 02   			sta	SGX_DL
  262    00:E11F  A5 F3      			lda	<vdc_crl
  263    00:E121  8D 02 02   			sta	VDC_DL
  264                        	
  265                        	;		lda	<sgx_crh		; Do not mess with the SGX's
  266                        	;		sta	SGX_DH			; auto-increment!!!
  267                        	;		lda	<vdc_crh		; Do not mess with the VDC's
  268                        	;		sta	VDC_DH			; auto-increment!!!
  269                        		.else
  277                        		.endif	SUPPORT_SGX
  278                        	
  279    00:E124  EE 41 22   			inc	irq_cnt			; Mark that a VBLANK occurred.
  280                        	
  281    00:E127  4F F5 02   			bbr4	<irq_vec, .skip_hookv	; Is a driver registered?
  282                        	
  283    00:E12A  44 26      			bsr	.user_vsync		; Call game's VBLANK code.
  284                        	
  285    00:E12C  DF F5 15   	.skip_hookv:	bbs5	<irq_vec, .exit_vbl	; Should we skip "BIOS" stuff?
  286                        	
  287    00:E12F  58         			cli				; Allow HSYNC and TIMER IRQ.
  288                        	
  289    00:E130  20 DB FF   			call	read_joypads		; Update joypad state.
  290                        	
  291               0000     		.if	USING_PSGDRIVER
  305                        		.else
  306    00:E133  AD 07 22   			lda	sound_hook + 1		; Is a driver registered?
  307    00:E136  F0 0C      			beq	.exit_vbl
  308                        	
  309    00:E138  A9 80      			lda	#$80			; Acquire sound mutex to avoid
  310    00:E13A  0C E7 22   			tsb	sound_mutex		; conflict with a delayed VBL.
  311    00:E13D  30 05      			bmi	.exit_vbl
  312                        	
  313    00:E13F  44 14      			bsr	.user_sound		; Call the driver hook.
  314                        	
  315    00:E141  9C E7 22   			stz	sound_mutex		; Release sound mutex.
  316                        		.endif	USING_PSGDRIVER
  317                        	
  318    00:E144             	.exit_vbl:
  319                        	
  320               0001     		.ifdef	USING_RCR_MACROS		; If USING_RCR_MACROS then 
  321               0000     		.if	CDROM				; restore after the VBLANK.
  326                        		.endif	CDROM
  327                        		.endif	USING_RCR_MACROS
  328                        	
  329    00:E144             	.exit_irq1:
  330                        	
  331               0000     		.ifndef	USING_RCR_MACROS		; If !USING_RCR_MACROS then
  338                        		.endif	USING_RCR_MACROS
  339                        	
  340               0001     		.if	SUPPORT_SGX
  341    00:E144  A5 07      			lda	<sgx_reg		; Restore SGX_AR first, just
  342    00:E146  8D 10 02   			sta	SGX_AR			; in case this is not an SGX!
  343                        		.endif
  344                        	
  345    00:E149  A5 F7      			lda	<vdc_reg		; Restore VDC_AR in case we
  346    00:E14B  8D 00 02   			sta	VDC_AR			; changed it.
  347                        	
  348    00:E14E  7A         			ply				; Restore all registers.
  349    00:E14F  FA         			plx
  350    00:E150  68         			pla
  351                        	
  352    00:E151  40         			rti				; Return from interrupt.
  353                        	
  354    00:E152  6C 08 22   	.user_vsync:	jmp	[vsync_hook]		; 7
  355    00:E155  6C 06 22   	.user_sound:	jmp	[sound_hook]		; 7
  356                        	
  357               0000     		.ifndef	USING_RCR_MACROS
  362                        		.endif	USING_RCR_MACROS
  363                        	
  364                        	
  365                        	
  366                        	; ***************************************************************************
  367                        	; ***************************************************************************
  368                        	;
  369                        	; core_timer - Minimal interrupt handler compatible with System Card.
  370                        	;
  371                        	; tirq_handler - Basic "CORE(not TM)" TIRQ handler to use as the "timer_hook".
  372                        	;
  373                        	; Doing the TIRQ handler processing in this hook means that things operate
  374                        	; the same whether the System Card or an Overlay is paged into MPR7.
  375                        	
  376               0000     		.ifndef	HUCC
  385                        		.else
  386                        			; Faster IRQ servicing for HuCC and code that would like to
  387                        			; avoid the 8 cycles used by the "bbs2" instruction that is
  388                        			; taken when the System Card is mapped into MPR7.
  389                        	
  390    00:E158             	core_timer:	;;;				; 8 (cycles for the INT)
  391               0001     		.if	CDROM || !defined(NO_CORE_TIRQ_HOOK)
  392    00:E158  6C 04 22   			jmp	[timer_hook]		; 7 cycles.
  393                        		.endif
  394                        		.endif
  395                        	
  396    00:E15B             	tirq_handler:
  397               0000     		.ifdef	USING_TIRQ_MACRO
  399                        		.else
  400    00:E15B  9C 03 14   			stz	IRQ_ACK			; 5 Clear timer interrupt.
  401                        		.endif
  402                        	
  403    00:E15E  40         	core_rti:	rti
  404                        	
  405                        	
  406                        	
  407                        	; ***************************************************************************
  408                        	; ***************************************************************************
  409                        	;
  410                        	; core_clr_hooks - Reset default "CORE(not TM)" interrupt-handling hooks.
  411                        	;
  412                        	
  413    00:E15F  08         	core_clr_hooks:	php				; Preserve interrupt state.
  414    00:E160  78         			sei				; Disable interrupts.
  415                        	
  416               0000     		.if	USING_PSGDRIVER
  419                        		.else
  420    00:E161  9C 07 22   			stz.h	sound_hook		; Disable sound driver calls.
  421                        		.endif
  422                        	
  423    00:E164  A9 88      			lda	#<core_sw_reset		; Set up the soft-reset hook.
  424    00:E166  8D 84 22   			sta.l	reset_hook
  425    00:E169  A9 E1      			lda	#>core_sw_reset
  426    00:E16B  8D 85 22   			sta.h	reset_hook
  427                        	
  428    00:E16E  A9 67      			lda	#<irq1_handler		; Set up the IRQ1 hook.
  429    00:E170  8D 02 22   			sta.l	irq1_hook
  430    00:E173  A9 E0      			lda	#>irq1_handler
  431    00:E175  8D 03 22   			sta.h	irq1_hook
  432                        	
  433    00:E178  A9 5B      			lda	#<tirq_handler		; Set up the TIRQ hook.
  434    00:E17A  8D 04 22   			sta.l	timer_hook
  435    00:E17D  A9 E1      			lda	#>tirq_handler
  436    00:E17F  8D 05 22   			sta.h	timer_hook
  437                        	
  438    00:E182  A9 06      			lda	#%00000110		; Replace the System Card's
  439    00:E184  85 F5      			sta	<irq_vec		; IRQ1 and TIRQ processing.
  440                        	
  441    00:E186  28         			plp				; Restore interrupt state.
  442    00:E187  60         			rts
  443                        	
  444                        	
  445                        	
  446                        	; ***************************************************************************
  447                        	; ***************************************************************************
  448                        	;
  449                        	; Include the joypad library, with configuration from "core-config.inc".
  450                        	;
  451                        	
                             #[6]   "..\..\..\include\hucc\joypad.asm"
  452                        			include "joypad.asm"
    1                        	; ***************************************************************************
    2                        	; ***************************************************************************
    3                        	;
    4                        	; joypad.asm
    5                        	;
    6                        	; Read 2-button & 6-button joypads & PCE mouse, with or without a MultiTap.
    7                        	;
    8                        	; Copyright John Brandwood 2019-2025.
    9                        	;
   10                        	; Distributed under the Boost Software License, Version 1.0.
   11                        	; (See accompanying file LICENSE_1_0.txt or copy at
   12                        	;  http://www.boost.org/LICENSE_1_0.txt)
   13                        	;
   14                        	; ***************************************************************************
   15                        	; ***************************************************************************
   16                        	;
   17                        	; Unlike Lemmings, this code does not interfere with a Memory Base 128! ;-)
   18                        	;
   19                        	; ***************************************************************************
   20                        	; ***************************************************************************
   21                        	;
   22                        	; With SUPPORT_MOUSE ..... 2602 cycles to read 5 ports with 5 mice
   23                        	;
   24                        	; With HuC library code .. 2442 cycles to read 5 ports with 5 pads (2-button)
   25                        	; With HuC library code .. 2442 cycles to read 5 ports with 5 pads (6-button)
   26                        	;
   27                        	; With SUPPORT_MOUSE ....  2016 cycles to read 5 ports with 5 pads (2-button)
   28                        	; With SUPPORT_MOUSE ..... 1976 cycles to read 5 ports with 5 pads (6-button)
   29                        	;
   30                        	; With SUPPORT_MOUSE ....  1618 cycles to read 3 ports with 3 mice
   31                        	; With SUPPORT_MOUSE ..... 1462 cycles to read 3 ports with 2 mice
   32                        	; With SUPPORT_MOUSE ..... 1306 cycles to read 3 ports with 1 mouse
   33                        	;
   34                        	; With SUPPORT_6BUTTON ... 1235 cycles to read 5 ports with 5 pads (2-button)
   35                        	; With SUPPORT_6BUTTON ... 1215 cycles to read 5 ports with 5 pads (6-button)
   36                        	;
   37                        	; With SUPPORT_MOUSE ..... 1126 cycles to read 2 ports with 2 mice
   38                        	; With SUPPORT_MOUSE ...... 970 cycles to read 2 ports with 1 mouse
   39                        	;
   40                        	; Only SUPPORT_2BUTTON .... 971 cycles to read 5 ports with 5 pads (2-button)
   41                        	; Only SUPPORT_2BUTTON .... 861 cycles to read 5 ports with 5 pads (6-button)
   42                        	;
   43                        	; With SUPPORT_MOUSE ...... 634 cycles to read 1 port  with 1 mouse
   44                        	;
   45                        	; ***************************************************************************
   46                        	; ***************************************************************************
   47                        	
  142                        	
  143                        	;
  144                        	; Now choose which version of the code to include.
  145                        	;
  146                        	
  147               0000     		.if	SUPPORT_2BUTTON
  278                        		.endif	SUPPORT_2BUTTON
  279                        	
  280                        	
  281                        	
  282               0000     		.if	SUPPORT_MOUSE
  845                        		.else	SUPPORT_MOUSE
  846                        	
  847                        	
  848                        	
  849               0001     		.if	SUPPORT_6BUTTON			; Without mouse!
  850                        	
  851                        	; ***************************************************************************
  852                        	; ***************************************************************************
  853                        	;
  854                        	; read_joypads - full 6-button pad support, but mouse movement is ignored.
  855                        	;
  856                        	; This code distinguishes between a mouse and a 2-button or 6-button joypad,
  857                        	; so that unsupported devices do not have to be unplugged from the MultiTap.
  858                        	;
  859                        	; The code loops two times to get both sets of buttons on a 6-button joypad.
  860                        	;
  861                        	; N.B. Takes approx 1/3 frame to detect mice the first time it is run.
  862                        	;
  863                        	; bit values for joypad 2-button bytes: (MSB = #7; LSB = #0)
  864                        	; ----------------------------------------------------------
  865                        	; bit 0 (ie $01) = I
  866                        	; bit 1 (ie $02) = II
  867                        	; bit 2 (ie $04) = SELECT
  868                        	; bit 3 (ie $08) = RUN
  869                        	; bit 4 (ie $10) = UP
  870                        	; bit 5 (ie $20) = RIGHT
  871                        	; bit 6 (ie $40) = DOWN
  872                        	; bit 7 (ie $80) = LEFT
  873                        	;
  874                        	; bit values for joypad 6-button bytes: (MSB = #7; LSB = #0)
  875                        	; ----------------------------------------------------------
  876                        	; bit 0 (ie $01) = III
  877                        	; bit 1 (ie $02) = IV
  878                        	; bit 2 (ie $04) = V
  879                        	; bit 3 (ie $08) = VI
  880                        	; bit 4 (ie $10) = zero
  881                        	; bit 5 (ie $20) = zero
  882                        	; bit 6 (ie $40) = zero
  883                        	; bit 7 (ie $80) = zero, but set to one if 6-button pad detected.
  884                        	;
  885                        	
  886               E188     			.code
  887                        	
  888               0001     		.if	(* >= $4000)			; Make this a ".proc" if it
  889    1F:DA49             	read_joypads	.proc                           ; not running in RAM.
  890                        		.else
  892                        		.endif
  893                        	
  894    1F:DA49  A9 80      			lda	#$80			; Acquire port mutex to avoid
  895    1F:DA4B  0C D0 22   			tsb	port_mutex		; conflict with a delayed VBL
  896    1F:DA4E  30 75      			bmi	.exit			; or access to an MB128.
  897                        	
  898    1F:DA50  73 28 22 32			tii	joynow,joyold,MAX_PADS	; Save the previous values.
         1F:DA54  22 05 00    
  899    1F:DA57  73 D3 22 D8			tii	joy6now,joy6old,MAX_PADS
         1F:DA5B  22 05 00    
  900                        	
  901                        			; Reset the 6-btn bits, the user might change the joypad mode!
  902                        	
  903    1F:DA5E  F3 53 E0 D3			tai	const_0000, joy6now, MAX_PADS
         1F:DA62  22 05 00    
  904                        	
  905                        			; Detect attached mice the first time this routine is called.
  906                        	
  907    1F:DA65  AD D2 22   			lda	mouse_flg		; Has mouse detection happened?
  908    1F:DA68  30 28      			bmi	.calc_pressed
  909                        	
  910    1F:DA6A  A9 05      			lda	#MAX_PADS		; Reset number of pads to read.
  911    1F:DA6C  8D D1 22   			sta	num_ports
  912                        	
  913    1F:DA6F  A9 1F      			lda	#%00011111		; Try reading everything as a
  914    1F:DA71  8D D2 22   			sta	mouse_flg		; mouse.
  915                        	
  916    1F:DA74  A0 17      			ldy	#23			; Initialize repeat count.
  917    1F:DA76  A9 80      			lda	#$80			; Initialize mouse detection.
  918    1F:DA78  5A         	.detect_loop:	phy
  919    1F:DA79  48         			pha
  920    1F:DA7A  44 53      			bsr	.read_devices		; Read all devices as if mice.
  921    1F:DA7C  68         			pla
  922    1F:DA7D  82         			clx
  923    1F:DA7E  BC E2 22   	.detect_port:	ldy	mouse_x, x		; A movement of zero means
  924    1F:DA81  D0 03      			bne	.detect_next		; this port is a mouse.
  925    1F:DA83  1D 55 E0   			ora	bit_mask, x
  926    1F:DA86  E8         	.detect_next:	inx				; Get the next pad from the
  927    1F:DA87  E0 05      			cpx	#MAX_PADS		; multitap.
  928    1F:DA89  D0 F3      			bne	.detect_port
  929    1F:DA8B  7A         			ply				; Repeat the detection test.
  930    1F:DA8C  88         			dey
  931    1F:DA8D  D0 E9      			bne	.detect_loop
  932                        	
  933                        	;	.if	DETECT_PHANTOMS
  934                        	;		cmp	#(1 << MAX_PADS) + 127	; If we find a mouse in every
  935                        	;		bne	.detect_done		; port, then assume mirrored!
  936                        	;		lda	#1			; Report a single mouse in a
  937                        	;		sta	num_ports		; single port.
  938                        	;		lda	#$81
  939                        	;	.endif
  940                        	
  941    1F:DA8F  8D D2 22   	.detect_done:	sta	mouse_flg		; Report mouse detection.
  942                        	
  943                        			; See what has just been pressed, and check for soft-reset.
  944                        	
  945    1F:DA92  44 3B      	.calc_pressed:	bsr	.read_devices		; Read all devices normally.
  946                        	
  947    1F:DA94  A2 04      			ldx	#MAX_PADS - 1
  948                        	
  949    1F:DA96  BD D3 22   	.pressed_loop:	lda	joy6now, x		; Calc which buttons have just
  950    1F:DA99  5D D8 22   			eor	joy6old, x		; been pressed (6-button).
  951    1F:DA9C  3D D3 22   			and	joy6now, x
  952               0000     		.if	HUC_JOY_EVENTS
  956                        		.else
  957               0000     		.if	ACCUMULATE_JOY
  959                        		.endif
  960    1F:DA9F  9D DD 22   			sta	joy6trg, x
  961                        		.endif
  962                        	
  963    1F:DAA2  BD 28 22   			lda	joynow, x		; Calc which buttons have just
  964    1F:DAA5  A8         			tay                             ; been pressed (2-button).
  965    1F:DAA6  5D 32 22   			eor	joyold, x
  966    1F:DAA9  3D 28 22   			and	joynow, x
  967               0000     		.if	HUC_JOY_EVENTS
  971                        		.else
  972               0000     		.if	ACCUMULATE_JOY
  974                        		.endif
  975    1F:DAAC  9D 2D 22   			sta	joytrg, x
  976                        		.endif
  977                        	
  978    1F:DAAF  C9 04      			cmp	#$04			; Detect the soft-reset combo,
  979    1F:DAB1  D0 0C      			bne	.not_reset		; hold RUN then press SELECT.
  980    1F:DAB3  C0 0C      			cpy	#$0C
  981    1F:DAB5  D0 08      			bne	.not_reset
  982    1F:DAB7  BD 55 E0   			lda	bit_mask, x
  983    1F:DABA  2C 27 22   			bit	joyena
  984    1F:DABD  D0 09      			bne	.soft_reset
  985                        	
  986    1F:DABF  CA         	.not_reset:	dex				; Check the next pad from the
  987    1F:DAC0  10 D4      			bpl	.pressed_loop		; multitap.
  988                        	
  989    1F:DAC2  9C D0 22   			stz	port_mutex		; Release port mutex.
  990                        	
  991               0001     		.if	(* >= $4000)			; This is a ".proc" if it is
  992                        	.exit:		leave                           ; not running in RAM.
         1F:DAC5  4C EF FF   			jmp	leave_proc
  993                        		.else
  995                        		.endif
  996                        	
  997    1F:DAC8  78         	.soft_reset:	sei				; Disable interrupts.
  998    1F:DAC9  9C D0 22   			stz	port_mutex		; Release port mutex.
  999    1F:DACC  6C 84 22   			jmp	[reset_hook]		; Jump to the soft-reset hook.
 1000                        	
 1001                        			; Read all of the devices attached to the MultiTap.
 1002                        	
 1003    1F:DACF  A2 02      	.read_devices:	ldx	#2			; Repeat this loop 2 times.
 1004                        	
 1005    1F:DAD1  A9 01      	.read_multitap:	lda	#$01			; CLR lo, SEL hi for d-pad.
 1006    1F:DAD3  8D 00 10   			sta	IO_PORT
 1007    1F:DAD6  A9 03      			lda	#$03			; CLR hi, SEL hi, reset tap.
 1008    1F:DAD8  8D 00 10   			sta	IO_PORT
 1009    1F:DADB  C2         			cly				; Start at port 1.
 1010                        	
 1011    1F:DADC  A9 01      	.read_port:	lda	#$01			; CLR lo, SEL hi for d-pad.
 1012    1F:DADE  8D 00 10   			sta	IO_PORT			; Wait 1.25us (9 cycles).
 1013                        	
 1014    1F:DAE1  B9 55 E0   			lda	bit_mask, y		; Is there a mouse attached?
 1015    1F:DAE4  2D D2 22   			and	mouse_flg
 1016    1F:DAE7  D0 33      			bne	.read_mouse
 1017                        	
 1018    1F:DAE9  AD 00 10   	.read_pad:	lda	IO_PORT			; Read direction-pad bits.
 1019    1F:DAEC  9C 00 10   			stz	IO_PORT			; CLR lo, SEL lo for buttons.
 1020    1F:DAEF  0A         			asl	a			; Wait 1.25us (9 cycles).
 1021    1F:DAF0  0A         			asl	a
 1022    1F:DAF1  0A         			asl	a
 1023    1F:DAF2  0A         			asl	a
 1024    1F:DAF3  F0 1B      			beq	.read_6button		; 6-btn pad if UDLR all held.
 1025                        	
 1026    1F:DAF5  99 28 22   	.read_2button:	sta	joynow, y		; Get buttons of 2-btn pad.
 1027    1F:DAF8  AD 00 10   			lda	IO_PORT
 1028    1F:DAFB  29 0F      			and	#$0F
 1029    1F:DAFD  19 28 22   			ora	joynow, y
 1030    1F:DB00  49 FF      			eor	#$FF
 1031    1F:DB02  99 28 22   			sta	joynow, y
 1032                        	
 1033    1F:DB05  C8         	.next_port:	iny				; Get the next pad from the
 1034    1F:DB06  CC D1 22   			cpy	num_ports		; multitap.
 1035    1F:DB09  90 D1      			bcc	.read_port
 1036                        	
 1037    1F:DB0B  CA         			dex				; Do the next complete pass.
 1038    1F:DB0C  CA         			dex
 1039    1F:DB0D  10 C2      			bpl	.read_multitap		; Have we finished 2 passes?
 1040    1F:DB0F  60         			rts				; Now that everything is read.
 1041                        	
 1042    1F:DB10  AD 00 10   	.read_6button:	lda	IO_PORT			; Get buttons of 6-btn pad.
 1043    1F:DB13  29 0F      			and	#$0F
 1044    1F:DB15  49 8F      			eor	#$8F			; Set bit-7 to show that a
 1045    1F:DB17  99 D3 22   			sta	joy6now, y		; 6-button pad is present.
 1046    1F:DB1A  80 E9      			bra	.next_port
 1047                        	
 1048    1F:DB1C  7C 4D DB   	.read_mouse:	jmp	[.mouse_vectors, x]	; Which mouse info is next?
 1049                        	
 1050                        			; Mouse processing, normally four passes, here just two.
 1051                        	
 1052    1F:DB1F  A9 1C      	.mouse_x_hi:	lda	#28			; 189 cycle delay after CLR lo
 1053    1F:DB21  3A         	.wait_loop:	dec	a			; on port to allow the mouse
 1054    1F:DB22  D0 FD      			bne	.wait_loop		; to buffer and reset counters.
 1055                        	
 1056    1F:DB24  AD 00 10   			lda	IO_PORT			; Read direction-pad bits.
 1057    1F:DB27  9C 00 10   			stz	IO_PORT			; CLR lo, SEL lo for buttons.
 1058    1F:DB2A  0A         			asl	a			; Wait 1.25us (9 cycles).
 1059    1F:DB2B  0A         			asl	a
 1060    1F:DB2C  0A         			asl	a
 1061    1F:DB2D  0A         			asl	a
 1062    1F:DB2E  99 E2 22   			sta	mouse_x, y		; Save port's X-hi nibble.
 1063                        	
 1064    1F:DB31  AD 00 10   			lda	IO_PORT			; Get mouse buttons.
 1065    1F:DB34  29 0F      			and	#$0F
 1066    1F:DB36  49 0F      			eor	#$0F
 1067    1F:DB38  99 28 22   			sta	joynow, y
 1068    1F:DB3B  80 C8      			bra	.next_port
 1069                        	
 1070    1F:DB3D  AD 00 10   	.mouse_x_lo:	lda	IO_PORT			; Read direction-pad bits.
 1071    1F:DB40  9C 00 10   			stz	IO_PORT			; CLR lo, SEL lo for buttons.
 1072    1F:DB43  29 0F      			and	#$0F			; Wait 1.25us (9 cycles).
 1073    1F:DB45  19 E2 22   			ora	mouse_x, y		; Add port's X-hi nibble.
 1074                        	;		eor	#$FF			; Negate so LEFT is -ve.
 1075                        	;		inc	a
 1076    1F:DB48  99 E2 22   			sta	mouse_x, y
 1077    1F:DB4B  80 B8      			bra	.next_port
 1078                        	
 1079    1F:DB4D  3D DB      	.mouse_vectors: dw	.mouse_x_lo		; Pass 2
 1080    1F:DB4F  1F DB      			dw	.mouse_x_hi		; Pass 1
 1081                        	
 1082               0001     		.if	(* >= $4000)			; This is a ".proc" if it is
 1083                        			.endp                           ; not running in RAM.
 1084               22D0     			.bss				; Put the variables in RAM.
 1085                        		.endif
 1086                        	
 1087    F8:22D0             	port_mutex:	ds	1			; NZ when controller port busy.
 1088    F8:22D1             	num_ports:	ds	1			; Set to 1 if no multitap.
 1089    F8:22D2             	mouse_flg:	ds	1			; Which ports are mice?
 1090               0000     		.if	HUC_JOY_EVENTS
 1093                        		.endif
 1094    F8:22D3             	joy6now:	ds	MAX_PADS
 1095    F8:22D8             	joy6old:	ds	MAX_PADS
 1096    F8:22DD             	joy6trg:	ds	MAX_PADS
 1097    F8:22E2             	mouse_x:	ds	MAX_PADS
 1098                        	
 1099               E188     			.code
 1100                        	
 1101                        		.endif	SUPPORT_6BUTTON			; Without mouse!
 1102                        	
 1103                        		.endif	SUPPORT_MOUSE
                             #[5]   "..\..\..\include\hucc\core-kernel.asm"
  453                        	
  454                        	
  455                        	
  456               0001     		.if	!CDROM
  457                        	
  458                        	; ***************************************************************************
  459                        	; ***************************************************************************
  460                        	;
  461                        	; core_sw_reset - Default HuCARD handler for a joypad "soft-reset".
  462                        	;
  463                        	
  464    00:E188  78         	core_sw_reset:	sei				; Disable interrupts.
  465                        	
  466    00:E189  6C FE FF   			jmp	[$FFFE]			; Jump to the HuCARD reset.
  467                        	
  468                        	
  469                        	
  470                        		.else	!CDROM
  616                        		.endif	!CDROM
  617                        	
  618                        	
  619                        	
  620                        	; ***************************************************************************
  621                        	; ***************************************************************************
  622                        	
  623               0001     		.if	(core_kernel >= $4000)		; If not running in RAM, then
  624               22E7     			.bss				; put these variables in RAM.
  625                        		.endif
  626                        	
  627    F8:22E7             	sound_mutex:	ds	1			; NZ when controller port busy.
  628                        	
  629               0001     		.if	SUPPORT_SGX
  630    F8:22E8             	sgx_detected:	ds	1			; NZ if SuperGrafx detected.
  631    F8:22E9             	hsync_hook_sgx:	ds	2			; SGX version of hsync_hook.
  632                        		.endif
  633                        	
  634               0000     		.if	SUPPORT_ACD
  636                        		.endif
  637                        	
  638               0001     		.if	(core_kernel >= $4000)
  639               E18C     			.code
  640                        		.endif
                             #[4]   "..\..\..\include\hucc\core-startup.asm"
  427                        	
  428                        	
  429                        	
  430                        		.else	!CDROM
  524                        		.endif	!CDROM
  525                        	
  526                        	
  527                        	
  528                        	; ***************************************************************************
  529                        	; ***************************************************************************
  530                        	;
  531                        	; With the availability of so many different configuration options, we've now
  532                        	; built somewhere between a few hundred bytes, and a couple of KB, of code in
  533                        	; the CORE_BANK of the HuCARD / overlay program.
  534                        	;
  535                        	; This is the end of the "CORE(not TM)" library code!
  536                        	;
  537                        	; Remember that the ".proc" trampolines are located at the end of this bank,
  538                        	; so the amount of free space left depends upon the number of ".proc" calls.
  539                        	;
  540                        	
  541                        			; Switch to CORE_PAGE to run the developer's game code.
  542               E18C     			.page	CORE_PAGE
  543                        	
  544                        	
  545                        	
  546                        	; ***************************************************************************
  547                        	; ***************************************************************************
  548                        	;
  549                        	; The DATA_BANK location needs to be set as early as possible so that library
  550                        	; code is able to put data in there before the total overall size of the code
  551                        	; is known.
  552                        	;
  553                        	; By default, DATA_BANK is the next bank after the CORE_BANK.
  554                        	;
  555                        	; RESERVE_BANKS allows developers to reserve some banks between the CORE_BANK
  556                        	; and the DATA_BANK that they can use however they wish.
  557                        	;
  558                        	; One use for RESERVE_BANKS is to create empty space that PCEAS can use when
  559                        	; it relocates procedures. This provides a way for a developer to group code
  560                        	; together at the start of memory, and leave the maximum number of banks for
  561                        	; loading dynamic data from CD-ROM.
  562                        	;
  563                        	; The KickC environment sets RESERVE_BANKS=1 (or higher) so that there is a
  564                        	; a bank for the permanent C code and static constants.
  565                        	;
  566                        	; RESERVE_BANKS is normally defined in each project's "core-config.inc".
  567                        	;
  568                        	
  569                        			.opt	d+			; DATA labels use fixed MPR.
  570                        	
  571               0001     			.rsset	CORE_BANK + 1
  572                        	
  573               0000     		.ifdef	NEED_HOME_BANK
  580                        		.endif
  581                        	
  582               0001     		.ifdef	NEED_SOUND_BANK			; Defined in hucc-sound.inc
  583               0000     		.if	NEED_SOUND_BANK			; if the driver wants a bank.
  585                        		.endif
  586                        		.endif
  587                        	
  588               0001     		.ifdef	RESERVE_BANKS			; For CORE projects.
  589               0001     	RESERVED_BANK	.rs	RESERVE_BANKS
  590                        		.endif
  591                        	
  592               0001     		.ifdef	HUCC
  593               0001     		.ifdef	HUC_RESERVE_BANKS		; For HuCC projects.
  594               0001     	HUC_USER_BANK	.rs	HUC_RESERVE_BANKS
  595                        		.endif
  596                        	
  597               0001     	CONST_BANK	.rs	2
  598               6000     			.rodata
  599               0001     			.bank	CONST_BANK, ".rodata"
  600                        		.endif	HUCC
  601                        	
  602               0003     	DATA_BANK	.rs	0
  603               6000     			.data
  604               0000     		.if	BUILDING_STAGE1
  606                        		.else
  607               0003     			.bank	DATA_BANK, ".data"
  608                        		.endif
  609               6000     			.org	$6000
  610                        	
  611               E18C     			.code
                             #[3]   "..\..\..\include\hucc\core.inc"
                             #[2]   "..\..\..\include\hucc\hucc.asm"
  120                        		.else
  126                        		.endif
  127                        	
  128                        			; Allocate this as early as possible to ensure bank-aligned
  129                        			; so that there is no wasted space for aligning the table.
  130                        	
  131               0000     		.if	FAST_MULTIPLY
  138                        		.endif
  139                        	
  140                        			; Mark the start of the .XDATA, .XINIT and .XSTRZ sections
  141                        	
  142               2C2E     			.xdata
  143    F8:2C2E             	_xdata_start:
  144               6364     			.xinit
  145    01:6364             	_xinit_start:
  146               6364     			.xstrz
  147    01:6364             	_xstrz_start:
  148               E18C     			.code
  149                        	
  150                        			;
  151                        	
  154                        	
  155                        			; The hardware stack is used for expressions.
  156                        	
  157               00FF     	__tos		=	$F8:2101, 255
  158                        	
  159               2008     			.zp
  160               2008     			.align	2
  161    F8:2008             	__stack:	ds	HUCC_STACK_SZ
  162                        	
  163    F8:2088             	__ptr:		ds	2
  164    F8:208A             	__fptr:		ds	2
  165    F8:208C             	__fbank:	ds	1
  166    F8:208D             	__sp:		ds	1
  167                        	
  168                        			; REGTEMP 6-byte stack for temporaries used by SDCC.
  169                        			; Keep the size in sync with NUM_TEMP_REGS in sdcc/src/mos6502/gen.h!
  170                        	
  171    F8:208E             	REGTEMP:	ds	6
  172                        	
  173                        			; HuCC's non-recursive consecutive varargs for printf().
  174                        	
  175               2008     	__vararg1	=	__stack + 0
  176               200A     	__vararg2	=	__stack + 2
  177               200C     	__vararg3	=	__stack + 4
  178               200E     	__vararg4	=	__stack + 6
  179                        	
  180                        			; Pointer used by poke() because __ptr could be overwritten.
  181                        	
  182               20EE     	__poke		=	__si
  183                        	
  184                        			; Used for indirect calls because __ptr could be overwritten.
  185                        	
  186               20EE     	__func		=	__si
  187                        	
  188                        			; Data pointer used by SDCC for indirect indexed memory access.
  189                        	
  190               2088     	DPTR		=	__ptr
  191                        	
  192                        			; Values returned from SDCC functions that don't fit into XA.
  193                        			; These are also used as workspace for SDCC library functions,
  194                        			; including HuCC's multiplication and division functions.
  195                        	
  196    F8:2094             	___SDCC_m6502_ret0:	ds	1
  197    F8:2095             	___SDCC_m6502_ret1:	ds	1
  198    F8:2096             	___SDCC_m6502_ret2:	ds	1
  199    F8:2097             	___SDCC_m6502_ret3:	ds	1
  200                        	
  201               0000     		.if	0
  206                        		.endif
  207                        	
  208                        			; Permanent pointers for fast table-of-squares multiplication.
  209                        	
  210               0000     		.if	FAST_MULTIPLY
  215                        		.endif
  216                        	
  217                        			; HuCC keeps a realtime clock, updated in hucc_vbl.
  218                        			;
  219                        			; Defining this here means that it will go before any HuCC
  220                        			; variables in "globals.h", and so it won't get cleared in
  221                        			; a CDROM game when loading different overlays.
  222                        	
  223               22EB     			.bss
  224    F8:22EB             	old_cnt:	ds	1			; irq_cnt of previous vsync().
  225    F8:22EC             	__clock_tt:	ds	1			; System Clock, ticks	(0-59).
  226    F8:22ED             	__clock_ss:	ds	1			; System Clock, seconds (0-59).
  227    F8:22EE             	__clock_mm:	ds	1			; System Clock, minutes (0-59).
  228    F8:22EF             	__clock_hh:	ds	1			; System Clock, hours	(0-11).
  229               E18C     			.code
  230                        	
  231                        			; Reset the stack size needed for leaf functions.
  232                        			;
  233                        			; This is a variable that compiled HuCC code updates at the end
  234                        			; of each source file to store the largest leaf stack size.
  235                        	
  236               0000     	leaf_needs	.set	0
  237                        	
  238                        			; Critical HuCC libraries that the compiler depends upon.
  239                        			;
  240                        			; These include various macros that must be defined before
  241                        			; they are encountered in any compiler-generated code.
  242                        	
                             #[3]   "..\..\..\include\hucc\hucc-codegen.asm"
  243                        			include "hucc-codegen.asm"	; HuCC i-code macros and funcs.
    1                        	; ***************************************************************************
    2                        	; ***************************************************************************
    3                        	;
    4                        	; hucc-codegen.asm
    5                        	;
    6                        	; The HuCC compiler translates C code into these macros, it does not directly
    7                        	; generate HuC6280 instructions.
    8                        	;
    9                        	; Based on the original HuC macros created by David Michel and the other HuC
   10                        	; developers, later modified and improved by Ulrich Hecht.
   11                        	;
   12                        	; Modifications copyright John Brandwood 2024.
   13                        	;
   14                        	; Distributed under the Boost Software License, Version 1.0.
   15                        	; (See accompanying file LICENSE_1_0.txt or copy at
   16                        	;  http://www.boost.org/LICENSE_1_0.txt)
   17                        	;
   18                        	; ***************************************************************************
   19                        	; ***************************************************************************
   20                        	;
   21                        	; NAMING SCHEME FOR HuCC MACROS ...
   22                        	;
   23                        	;   __function.parameters
   24                        	;
   25                        	; {parameters} is a list of alphanumeric specifiers, starting with {size} and
   26                        	; followed by {where}, followed by {index} if an array, then optional {value}
   27                        	; and finally ending with optional {suffix}
   28                        	;
   29                        	; {size}
   30                        	;   w : 16-bit signed int (default "int" in HuCC)
   31                        	;   c : 16-bit unsigned int (a "cardinal" in Pascal terms)
   32                        	;   b :  8-bit signed char
   33                        	;   u :  8-bit unsigned char (default "char" in HuCC)
   34                        	;
   35                        	; {where} or {index}
   36                        	;   r : HuCC primary register, made up of the Y:A cpu registers
   37                        	;   t : top of expression stack
   38                        	;   p : indirect pointer, usually [__ptr]
   39                        	;   f : structure field (member) offset value
   40                        	;   i : immediate value, i.e. a decimal number
   41                        	;   m : memory, i.e. C global, static, and "-fno-recursive" variables
   42                        	;   s : stack, i.e. C function parameters and locals (not "-fno-recursive")
   43                        	;   a : array, i.e. C global, static, "-fno-recursive" arrays <= 256 bytes
   44                        	;   x : array index already in the X register
   45                        	;   y : array index already in the Y register
   46                        	;
   47                        	; {value} OPTIONAL
   48                        	;   i : immediate value, i.e. a decimal number
   49                        	;   z : zero value
   50                        	;
   51                        	; {suffix} OPTIONAL
   52                        	;   q : quick, used for optimized math on only 8-bit values, because all math
   53                        	;       is normally promoted to "int" size in C; and when optimized stores do
   54                        	;       not need to preserve the primary register contents
   55                        	;
   56                        	; ***************************************************************************
   57                        	; ***************************************************************************
   58                        	
   59                        	
   60                        	
 8399                        	
 8400                        	; ***************************************************************************
 8401                        	; ***************************************************************************
 8402                        	; subroutines for logical and arithmetic shifts by a constant amount
 8403                        	; ***************************************************************************
 8404                        	; ***************************************************************************
 8405                        	
 8406                        	; **************
 8407                        	; Y:A = Y:A << const
 8408                        	
 8409    00:E1BE  0A         	aslw15:		asl	a
 8410    00:E1BF  0A         	aslw14:		asl	a
 8411    00:E1C0  0A         	aslw13:		asl	a
 8412    00:E1C1  0A         	aslw12:		asl	a
 8413    00:E1C2  0A         	aslw11:		asl	a
 8414    00:E1C3  0A         	aslw10:		asl	a
 8415    00:E1C4  0A         	aslw9:		asl	a
 8416    00:E1C5  A8         	aslw8:		tay
 8417    00:E1C6  62         			cla
 8418    00:E1C7  60         			rts
 8419                        	
 8420               0001     		.if	1
 8421    00:E1C8  66 00      	aslw5:		ror	<__temp
 8422    00:E1CA  6A         			ror	a
 8423    00:E1CB  66 00      	aslw6:		ror	<__temp
 8424    00:E1CD  6A         			ror	a
 8425    00:E1CE  66 00      	aslw7:		ror	<__temp
 8426    00:E1D0  6A         			ror	a
 8427    00:E1D1  A4 00      			ldy	<__temp
 8428    00:E1D3  60         			rts
 8429                        		.else
 8436                        		.endif
 8437    00:E1D4  0A         	aslw4:		asl	a
 8438    00:E1D5  26 00      			rol	<__temp
 8439    00:E1D7  0A         	aslw3:		asl	a
 8440    00:E1D8  26 00      			rol	<__temp
 8441    00:E1DA  0A         	aslw2:		asl	a
 8442    00:E1DB  26 00      			rol	<__temp
 8443    00:E1DD  0A         	aslw1:		asl	a
 8444    00:E1DE  26 00      			rol	<__temp
 8445    00:E1E0  A4 00      	aslw0:		ldy	<__temp
 8446    00:E1E2  60         			rts
 8447                        	
 8448                        	; **************
 8449                        	; Y:A = Y:A >> const
 8450                        	
 8451    00:E1E3  C9 80      	asrw15:		cmp	#$80
 8452    00:E1E5  6A         			ror	a
 8453    00:E1E6  C9 80      	asrw14:		cmp	#$80
 8454    00:E1E8  6A         			ror	a
 8455    00:E1E9  C9 80      	asrw13:		cmp	#$80
 8456    00:E1EB  6A         			ror	a
 8457    00:E1EC  C9 80      	asrw12:		cmp	#$80
 8458    00:E1EE  6A         			ror	a
 8459    00:E1EF  C9 80      	asrw11:		cmp	#$80
 8460    00:E1F1  6A         			ror	a
 8461    00:E1F2  C9 80      	asrw10:		cmp	#$80
 8462    00:E1F4  6A         			ror	a
 8463    00:E1F5  C9 80      	asrw9:		cmp	#$80
 8464    00:E1F7  6A         			ror	a
 8465    00:E1F8  C9 80      	asrw8:		cmp	#$80
 8466    00:E1FA  C2         			cly
 8467    00:E1FB  90 01      			bcc	!+
 8468    00:E1FD  88         			dey
 8469    00:E1FE  60         	!:		rts
 8470                        	
 8471    00:E1FF  C0 80      	asrw7:		cpy	#$80
 8472    00:E201  66 00      			ror	<__temp
 8473    00:E203  6A         			ror	a
 8474    00:E204  C0 80      	asrw6:		cpy	#$80
 8475    00:E206  66 00      			ror	<__temp
 8476    00:E208  6A         			ror	a
 8477    00:E209  C0 80      	asrw5:		cpy	#$80
 8478    00:E20B  66 00      			ror	<__temp
 8479    00:E20D  6A         			ror	a
 8480    00:E20E  C0 80      	asrw4:		cpy	#$80
 8481    00:E210  66 00      			ror	<__temp
 8482    00:E212  6A         			ror	a
 8483    00:E213  C0 80      	asrw3:		cpy	#$80
 8484    00:E215  66 00      			ror	<__temp
 8485    00:E217  6A         			ror	a
 8486    00:E218  C0 80      	asrw2:		cpy	#$80
 8487    00:E21A  66 00      			ror	<__temp
 8488    00:E21C  6A         			ror	a
 8489    00:E21D  C0 80      	asrw1:		cpy	#$80
 8490    00:E21F  66 00      			ror	<__temp
 8491    00:E221  6A         			ror	a
 8492    00:E222  A4 00      	asrw0:		ldy	<__temp
 8493    00:E224  60         			rts
 8494                        	
 8495                        	; **************
 8496                        	; Y:A = Y:A >> const
 8497                        	
 8498    00:E225  4A         	lsrw15:		lsr	a
 8499    00:E226  4A         	lsrw14:		lsr	a
 8500    00:E227  4A         	lsrw13:		lsr	a
 8501    00:E228  4A         	lsrw12:		lsr	a
 8502    00:E229  4A         	lsrw11:		lsr	a
 8503    00:E22A  4A         	lsrw10:		lsr	a
 8504    00:E22B  4A         	lsrw9:		lsr	a
 8505    00:E22C  C2         	lsrw8:		cly
 8506    00:E22D  60         			rts
 8507                        	
 8508    00:E22E  46 00      	lsrw7:		lsr	<__temp
 8509    00:E230  6A         			ror	a
 8510    00:E231  46 00      	lsrw6:		lsr	<__temp
 8511    00:E233  6A         			ror	a
 8512    00:E234  46 00      	lsrw5:		lsr	<__temp
 8513    00:E236  6A         			ror	a
 8514    00:E237  46 00      	lsrw4:		lsr	<__temp
 8515    00:E239  6A         			ror	a
 8516    00:E23A  46 00      	lsrw3:		lsr	<__temp
 8517    00:E23C  6A         			ror	a
 8518    00:E23D  46 00      	lsrw2:		lsr	<__temp
 8519    00:E23F  6A         			ror	a
 8520    00:E240  46 00      	lsrw1:		lsr	<__temp
 8521    00:E242  6A         			ror	a
 8522    00:E243  A4 00      	lsrw0:		ldy	<__temp
 8523    00:E245  60         			rts
 8524                        	
 8525                        	
 8526                        	
 8527                        	; ***************************************************************************
 8528                        	; ***************************************************************************
 8529                        	; subroutines for logical and arithmetic shifts by a variable amount
 8530                        	; ***************************************************************************
 8531                        	; ***************************************************************************
 8532                        	
 8533                        	; **************
 8534                        	; Y:A = Y:A << X
 8535                        	
 8536    00:E246  84 00      	asl.wx:		sty	<__temp
 8537    00:E248  E0 10      			cpx	#16
 8538    00:E24A  B0 37      			bcs	!zero+
 8539    00:E24C  CA         			dex
 8540    00:E24D  30 06      			bmi	.done
 8541    00:E24F  0A         	.loop:		asl	a
 8542    00:E250  26 00      			rol	<__temp
 8543    00:E252  CA         			dex
 8544    00:E253  10 FA      			bpl	.loop
 8545    00:E255  A4 00      	.done:		ldy	<__temp
 8546    00:E257  60         			rts
 8547                        	
 8548                        	; **************
 8549                        	; Y:A = Y:A >> X
 8550                        	
 8551    00:E258  84 00      	asr.wx:		sty	<__temp
 8552    00:E25A  10 17      			bpl	!positive+
 8553    00:E25C  E0 10      	!negative:	cpx	#16
 8554    00:E25E  B0 0D      			bcs	.sign
 8555    00:E260  CA         			dex
 8556    00:E261  30 07      			bmi	.done
 8557    00:E263  38         	.loop:		sec
 8558    00:E264  66 00      			ror	<__temp
 8559    00:E266  6A         			ror	a
 8560    00:E267  CA         			dex
 8561    00:E268  10 F9      			bpl	.loop
 8562    00:E26A  A4 00      	.done:		ldy	<__temp
 8563    00:E26C  60         			rts
 8564                        	
 8565    00:E26D  A9 FF      	.sign:		lda	#$FF
 8566    00:E26F  A8         			tay
 8567    00:E270  60         			rts
 8568                        	
 8569                        	; **************
 8570                        	; Y:A = Y:A >> X
 8571                        	
 8572    00:E271  84 00      	lsr.wx:		sty	<__temp
 8573    00:E273  E0 10      	!positive:	cpx	#16
 8574    00:E275  B0 0C      			bcs	!zero+
 8575    00:E277  CA         			dex
 8576    00:E278  30 06      			bmi	.done
 8577    00:E27A  46 00      	.loop:		lsr	<__temp
 8578    00:E27C  6A         			ror	a
 8579    00:E27D  CA         			dex
 8580    00:E27E  10 FA      			bpl	.loop
 8581    00:E280  A4 00      	.done:		ldy	<__temp
 8582    00:E282  60         			rts
 8583                        	
 8584    00:E283  62         	!zero:		cla
 8585    00:E284  C2         			cly
 8586    00:E285  60         			rts
 8587                        	
 8588                        	
 8589                        	
 8590                        	; ***************************************************************************
 8591                        	; ***************************************************************************
 8592                        	; POTENTIAL OPTIMIZATIONS, NOT YET ADDED
 8593                        	; ***************************************************************************
 8594                        	; ***************************************************************************
                             #[2]   "..\..\..\include\hucc\hucc.asm"
                             #[3]   "..\..\..\include\hucc\hucc-baselib.asm"
  244                        			include	"hucc-baselib.asm"	; HuCC base library macros.
    1                        	; ***************************************************************************
    2                        	; ***************************************************************************
    3                        	;
    4                        	; hucc-baselib.asm
    5                        	;
    6                        	; Basic library functions provided (mostly) as macros.
    7                        	;
    8                        	; Copyright John Brandwood 2024-2025.
    9                        	;
   10                        	; Distributed under the Boost Software License, Version 1.0.
   11                        	; (See accompanying file LICENSE_1_0.txt or copy at
   12                        	;  http://www.boost.org/LICENSE_1_0.txt)
   13                        	;
   14                        	; ***************************************************************************
   15                        	; ***************************************************************************
   16                        	
   17                        	
   18                        	
   19                        	; ***************************************************************************
   20                        	; ***************************************************************************
   21                        	;
   22                        	; Make certain System Card variables accessible to HuCC.
   23                        	
   24    00:E286             	_irq_cnt	.alias	irq_cnt
   25    00:E286             	_joynow		.alias	joynow
   26    00:E286             	_joytrg		.alias	joytrg
   27    00:E286             	_joy6now	.alias	joy6now
   28    00:E286             	_joy6trg	.alias	joy6trg
   29    00:E286             	_bg_x1		.alias	bg_x1
   30    00:E286             	_bg_y1		.alias	bg_y1
   31    00:E286             	_bg_x2		.alias	bg_x2
   32    00:E286             	_bg_y2		.alias	bg_y2
   33                        	
   34                        	
   35                        	
   36                        	; ***************************************************************************
   37                        	; ***************************************************************************
   38                        	;
   39                        	; void __fastcall dump_screen( void );
   40                        	;
   41                        	; THIS IS AN ILLEGAL INSTRUCTION ONLY IMPLEMENTED BY THE TGEMU EMULATOR!
   42                        	
   43    00:E286  33         	_dump_screen:	db	0x33
   44                        	
   45                        	
   46                        	
   47                        	; ***************************************************************************
   48                        	; ***************************************************************************
   49                        	;
   50                        	; void __fastcall abort( void );
   51                        	;
   52                        	; THIS IS AN ILLEGAL INSTRUCTION ONLY IMPLEMENTED BY THE TGEMU EMULATOR!
   53                        	
   54    00:E287  E2         	_abort:		db	0xE2
   55                        	
   56                        	
   57                        	
   58                        	; ***************************************************************************
   59                        	; ***************************************************************************
   60                        	;
   61                        	; void __fastcall exit( int value<acc> );
   62                        	;
   63                        	; THIS IS AN ILLEGAL INSTRUCTION ONLY IMPLEMENTED BY THE TGEMU EMULATOR!
   64                        	
   65    00:E288  AA         	_exit.1:	tax				; Put the return code into X.
   66    00:E289  63         			db	0x63
   67                        	
   68    00:E28A  80 FE      	.hang:		bra	.hang			; Hang if used in normal code.
   69                        	
   70                        	
   71                        	
   72                        	; ***************************************************************************
   73                        	; ***************************************************************************
   74                        	;
   75                        	; unsigned char __fastcall __macro cd_execoverlay( unsigned char ovl_index<acc> );
   76                        	;
   77                        	; Execute program overlay from disc
   78                        	;
   79                        	; N.B. This does not return, even if there's an error.
   80                        	
   81                        			.macro	_cd_execoverlay.1
   82                        			tax
   83                        			jmp	exec_overlay
   84                        			.endm
   85                        	
   86                        	
   87                        	
   88                        	; ***************************************************************************
   89                        	; ***************************************************************************
   90                        	;
   91                        	; void __fastcall __nop set_far_base( unsigned char data_bank<_bp_bank>, unsigned char *data_addr<_bp> );
   92                        	; void __fastcall set_far_offset( unsigned int offset<_bp>, unsigned char data_bank<_bp_bank>, unsigned char *data_addr<acc> );
   93                        	
   94    00:E28C             	_set_far_offset.3:
   95    00:E28C  18         			clc
   96    00:E28D  65 EC      			adc.l	<_bp
   97    00:E28F  85 EC      			sta.l	<_bp
   98    00:E291  98         			tya
   99    00:E292  29 1F      			and	#$1F
  100    00:E294  65 ED      			adc.h	<_bp
  101    00:E296  A8         			tay
  102    00:E297  29 1F      			and	#$1F
  103    00:E299  09 60      			ora	#$60
  104    00:E29B  85 ED      			sta.h	<_bp
  105    00:E29D  98         			tya
  106    00:E29E  6A         			ror	a
  107    00:E29F  4A         			lsr	a
  108    00:E2A0  4A         			lsr	a
  109    00:E2A1  4A         			lsr	a
  110    00:E2A2  4A         			lsr	a
  111    00:E2A3  18         			clc
  112    00:E2A4  65 02      			adc	<_bp_bank
  113    00:E2A6  85 02      			sta	<_bp_bank
  114    00:E2A8  60         			rts
  115                        	
  116                        	
  117                        	; ***************************************************************************
  118                        	; ***************************************************************************
  119                        	;
  120                        	; void __fastcall __macro reset_mpr2( void );
  121                        	; void __fastcall __macro reset_mpr34( void );
  122                        	;
  123                        	; void * __fastcall __macro set_mpr2( void __far *addr<_bp_bank:_bp> );
  124                        	; void * __fastcall __macro set_mpr34( void __far *addr<_bp_bank:_bp> );
  125                        	;
  126                        	; void * __fastcall __macro far_set_mpr2( void );
  127                        	; void * __fastcall __macro far_set_mpr34( void );
  128                        	
  129                        	_reset_mpr2	.macro
  130                        		.if	SUPPORT_SGX
  131                        			lda	#$F9
  132                        		.else
  133                        			lda	#$87
  134                        		.endif
  135                        			tam2
  136                        			.endm
  137                        	
  138                        	_reset_mpr34	.macro
  139                        			lda	#CONST_BANK + _bank_base
  140                        			tam3
  141                        			inc	a
  142                        			tam4
  143                        			.endm
  144                        	
  145                        	_farset_mpr2.1	.macro
  146                        			lda	<_bp_bank
  147                        			tam2
  148                        			lda.l	<_bp
  149                        			ldy.h	<_bp
  150                        			.endm
  151                        	
  152                        	_farset_mpr34.1	.macro
  153                        			lda	<_bp_bank
  154                        			tam3
  155                        			inc	a
  156                        			tam4
  157                        			lda.l	<_bp
  158                        			ldy.h	<_bp
  159                        			.endm
  160                        	
  161                        	_far_set_mpr2	.macro
  162                        			lda	<_bp_bank
  163                        			tam2
  164                        			lda.l	<_bp
  165                        			ldy.h	<_bp
  166                        			.endm
  167                        	
  168                        	_far_set_mpr34	.macro
  169                        			lda	<_bp_bank
  170                        			tam3
  171                        			inc	a
  172                        			tam4
  173                        			lda.l	<_bp
  174                        			ldy.h	<_bp
  175                        			.endm
  176                        	
  177                        	
  178                        	
  179                        	; ***************************************************************************
  180                        	; ***************************************************************************
  181                        	;
  182                        	; unsigned char __fastcall __macro ac_exists( void );
  183                        	
  184                        	_ac_exists	.macro
  185                        			cla
  186                        			ldy	ACD_FLAG
  187                        			cpy	#ACD_ID
  188                        			bne	!+
  189                        			inc	a
  190                        	!:		cly
  191                        			.endm
  192                        	
  193                        	
  194                        	
  195                        	; ***************************************************************************
  196                        	; ***************************************************************************
  197                        	;
  198                        	; unsigned char __fastcall __macro _sgx_detect( void );
  199                        	
  200                        	_sgx_detect	.macro
  201                        			lda	sgx_detected
  202                        			cly
  203                        			.endm
  204                        	
  205                        	
  206                        	
  207                        	; ***************************************************************************
  208                        	; ***************************************************************************
  209                        	;
  210                        	; unsigned int __fastcall __macro peek( unsigned int addr<__ptr> );
  211                        	
  212                        	_peek.1		.macro
  213                        			lda	[__ptr]
  214                        			cly
  215                        			.endm
  216                        	
  217                        	
  218                        	
  219                        	; ***************************************************************************
  220                        	; ***************************************************************************
  221                        	;
  222                        	; unsigned int __fastcall __macro peekw( unsigned int addr<__ptr> );
  223                        	
  224                        	_peekw.1	.macro
  225                        			lda	[__ptr]
  226                        			pha
  227                        			ldy	#1
  228                        			lda	[__ptr], y
  229                        			tay
  230                        			pla
  231                        			.endm
  232                        	
  233                        	
  234                        	
  235                        	; ***************************************************************************
  236                        	; ***************************************************************************
  237                        	;
  238                        	; void __fastcall __macro poke( unsigned int addr<__poke>, unsigned char with<acc> );
  239                        	;
  240                        	; N.B. Because the <acc> value can be a complex C calculation, it isn't safe
  241                        	; to use __ptr as the destination, which can be overwritten in C macros.
  242                        	
  243                        	_poke.2		.macro
  244                        			sta	[__poke]
  245                        			.endm
  246                        	
  247                        	
  248                        	
  249                        	; ***************************************************************************
  250                        	; ***************************************************************************
  251                        	;
  252                        	; void __fastcall __macro pokew( unsigned int addr<__poke>, unsigned int with<acc> );
  253                        	;
  254                        	; N.B. Because the <acc> value can be a complex C calculation, it isn't safe
  255                        	; to use __ptr as the destination, which can be overwritten in C macros.
  256                        	
  257                        	_pokew.2	.macro
  258                        			sta	[__poke]
  259                        			tya
  260                        			ldy	#1
  261                        			sta	[__poke], y
  262                        			.endm
  263                        	
  264                        	
  265                        	
  266                        	; ***************************************************************************
  267                        	; ***************************************************************************
  268                        	;
  269                        	; unsigned char __fastcall __macro clock_hh( void );
  270                        	; unsigned char __fastcall __macro clock_mm( void );
  271                        	; unsigned char __fastcall __macro clock_ss( void );
  272                        	; unsigned char __fastcall __macro clock_tt( void );
  273                        	;
  274                        	; N.B. HuC stores the clock as binary, HuCC stores it as BCD.
  275                        	
  276                        	_clock_hh	.macro
  277                        			lda	__clock_hh
  278                        			jsr	bcd_byte_to_bin
  279                        			.endm
  280                        	
  281                        	_clock_mm	.macro
  282                        			lda	__clock_mm
  283                        			jsr	bcd_byte_to_bin
  284                        			.endm
  285                        	
  286                        	_clock_ss	.macro
  287                        			lda	__clock_ss
  288                        			jsr	bcd_byte_to_bin
  289                        			.endm
  290                        	
  291                        	_clock_tt	.macro
  292                        			lda	__clock_tt
  293                        			jsr	bcd_byte_to_bin
  294                        			.endm
  295                        	
  296                        			; HuC returns binary values for these clock functions.
  297                        	
  298    00:E2A9  A8         	bcd_byte_to_bin:tay
  299    00:E2AA  4A         			lsr	a
  300    00:E2AB  4A         			lsr	a
  301    00:E2AC  4A         			lsr	a
  302    00:E2AD  4A         			lsr	a
  303    00:E2AE  42         			say
  304    00:E2AF  18         			clc
  305    00:E2B0  29 0F      			and	#$0F
  306    00:E2B2  79 B7 E2   			adc	.table, y
  307    00:E2B5  C2         			cly
  308    00:E2B6  60         			rts
  309                        	
  310    00:E2B7  00         	.table:		db	0
  311    00:E2B8  0A         			db	10
  312    00:E2B9  14         			db	20
  313    00:E2BA  1E         			db	30
  314    00:E2BB  28         			db	40
  315    00:E2BC  32         			db	50
  316                        	
  317                        	
  318                        	
  319                        	; ***************************************************************************
  320                        	; ***************************************************************************
  321                        	;
  322                        	; void __fastcall __macro clock_reset( void );
  323                        	
  324                        	_clock_reset	.macro
  325                        			stz	__clock_tt
  326                        			stz	__clock_ss
  327                        			stz	__clock_mm
  328                        			stz	__clock_hh
  329                        			.endm
  330                        	
  331                        	
  332                        	
  333                        	
  334                        	; ***************************************************************************
  335                        	; ***************************************************************************
  336                        	;
  337                        	; unsigned int __fastcall __macro joy( unsigned char which<acc> );
  338                        	
  339                        	_joy.1		.macro
  340                        			tax
  341                        			lda	joynow, x
  342                        		.if	SUPPORT_6BUTTON
  343                        			ldy	joy6now, x
  344                        		.else
  345                        			cly
  346                        		.endif
  347                        			.endm
  348                        	
  349                        	
  350                        	
  351                        	; ***************************************************************************
  352                        	; ***************************************************************************
  353                        	;
  354                        	; unsigned int __fastcall __macro joytrg( unsigned char which<acc> );
  355                        	
  356                        	_joytrg.1	.macro
  357                        			tax
  358                        			lda	joytrg, x
  359                        		.if	SUPPORT_6BUTTON
  360                        			ldy	joy6trg, x
  361                        		.else
  362                        			cly
  363                        		.endif
  364                        			.endm
  365                        	
  366                        	
  367                        	
  368                        	; ***************************************************************************
  369                        	; ***************************************************************************
  370                        	;
  371                        	; unsigned int __fastcall __macro joybuf( unsigned char which<acc> );
  372                        	
  373                        	_joybuf.1	.macro
  374                        		.if	HUC_JOY_EVENTS
  375                        			tax
  376                        			lda	joybuf, x
  377                        		.if	SUPPORT_6BUTTON
  378                        			ldy	joy6buf, x
  379                        		.else
  380                        			cly
  381                        		.endif
  382                        		.else
  383                        			.fail	You must enable HUC_JOY_EVENTS in your hucc-config.inc!
  384                        		.endif
  385                        			.endm
  386                        	
  387                        	
  388                        	
  389                        	; ***************************************************************************
  390                        	; ***************************************************************************
  391                        	;
  392                        	; unsigned int __fastcall __macro get_joy_events( unsigned char which<acc> );
  393                        	;
  394                        	; N.B. This is just a version of joybuf() that clears the accumulated events.
  395                        	
  396                        			.macro	_get_joy_events.1
  397                        		.if	HUC_JOY_EVENTS
  398                        			tax
  399                        			lda	joybuf, x
  400                        			stz	joybuf, x
  401                        		.if	SUPPORT_6BUTTON
  402                        			ldy	joy6buf, x
  403                        			stz	joy6buf, x
  404                        		.else
  405                        			cly
  406                        		.endif
  407                        		.else
  408                        		.if	ACCUMULATE_JOY
  409                        			tax
  410                        			lda	joytrg, x
  411                        			stz	joytrg, x
  412                        		.if	SUPPORT_6BUTTON
  413                        			ldy	joy6trg, x
  414                        			stz	joy6trg, x
  415                        		.else
  416                        			cly
  417                        		.endif
  418                        		.else
  419                        			.fail	You must enable HUC_JOY_EVENTS or ACCUMULATE_JOY in your hucc-config.inc!
  420                        		.endif
  421                        		.endif
  422                        			.endm
  423                        	
  424                        	
  425                        	
  426                        	; ***************************************************************************
  427                        	; ***************************************************************************
  428                        	;
  429                        	; void __fastcall __macro clear_joy_events( unsigned char mask<acc> );
  430                        	
  431                        			.macro	_clear_joy_events.1
  432                        			php
  433                        			sei
  434                        			and	#(1 << MAX_PADS) - 1
  435                        			ldx	#$FF
  436                        	.loop:		inx
  437                        			lsr	a
  438                        			bcc	.next
  439                        		.if	HUC_JOY_EVENTS
  440                        			stz	joybuf, x
  441                        		.if	SUPPORT_6BUTTON
  442                        			stz	joy6buf, x
  443                        		.endif
  444                        		.else
  445                        		.if	ACCUMULATE_JOY
  446                        			stz	joytrg, x
  447                        		.if	SUPPORT_6BUTTON
  448                        			stz	joy6trg, x
  449                        		.endif
  450                        		.else
  451                        			.fail	You must enable HUC_JOY_EVENTS or ACCUMULATE_JOY in your hucc-config.inc!
  452                        		.endif
  453                        		.endif
  454                        	.next:		bne	.loop
  455                        			plp
  456                        			.endm
  457                        	
  458                        	
  459                        	
  460                        	; ***************************************************************************
  461                        	; ***************************************************************************
  462                        	;
  463                        	; void __fastcall srand( unsigned char seed<acc> );
  464                        	
  465               0001     		.ifndef	HUCC_NO_DEFAULT_RANDOM
  466                        	_srand.1	.macro
  467                        			tay
  468                        			jsr	init_random
  469                        			.endm
  470                        		.endif
  471                        	
  472                        	
  473                        	
  474                        	; ***************************************************************************
  475                        	; ***************************************************************************
  476                        	;
  477                        	; unsigned int __fastcall rand( void );
  478                        	; unsigned char __fastcall rand8( void );
  479                        	
  480               0001     		.ifndef	HUCC_NO_DEFAULT_RANDOM
  481    00:E2BD  20 9E E6   	_rand:		jsr	get_random		; Random in A, preserve Y.
  482    00:E2C0  A8         			tay
  483    00:E2C1  4C 9E E6   			jmp	get_random		; Random in A, preserve Y.
  484                        		.endif
  485                        	
  486                        	
  487                        	
  488                        	; ***************************************************************************
  489                        	; ***************************************************************************
  490                        	;
  491                        	; unsigned char __fastcall random8( unsigned char limit<acc> );
  492                        	;
  493                        	; IN :	A = range (0..255)
  494                        	; OUT : A = random number interval 0 <= x < A
  495                        	
  496               0001     		.ifndef	HUCC_NO_DEFAULT_RANDOM
  497                        	
  498    00:E2C4  A8         	_random8.1:	tay				; Preserve the limit.
  499    00:E2C5  20 9E E6   			jsr	get_random		; Random in A, preserve Y.
  500                        	
  501    00:E2C8  20 04 E5   			jsr	__muluchar
  502    00:E2CB  98         			tya				; Do a 8.0 x 0.8 fixed point
  503    00:E2CC  C2         			cly				; fractional multiply.
  504    00:E2CD  60         			rts
  505                        		.endif
  506                        	
  507                        	
  508                        	
  509                        	; ***************************************************************************
  510                        	; ***************************************************************************
  511                        	;
  512                        	; unsigned char __fastcall random( unsigned char limit<acc> );
  513                        	;
  514                        	; IN :	A = range (0..128), 129..255 is treated as 128
  515                        	; OUT : A = random number interval 0 <= x < A
  516                        	
  517               0001     		.ifndef	HUCC_NO_DEFAULT_RANDOM
  518                        	
  519    00:E2CE  A8         	_random.1:	tay				; Preserve the limit.
  520    00:E2CF  20 9E E6   			jsr	get_random		; Random in A, preserve Y.
  521                        	
  522    00:E2D2  C0 80      			cpy	#128			; Check the limit.
  523    00:E2D4  90 04      			bcc	!+
  524                        	
  525    00:E2D6  29 7F      			and	#$7F			; Just mask the random if
  526    00:E2D8  C2         			cly				; the limit is >= 128.
  527    00:E2D9  60         			rts
  528                        	
  529    00:E2DA  20 04 E5   	!:		jsr	__muluchar
  530    00:E2DD  98         			tya				; If the limit is < 128 then
  531    00:E2DE  C2         			cly				; do a 8.0 x 0.8 fixed point
  532    00:E2DF  60         			rts				; fractional multiply.
  533                        		.endif
  534                        	
  535                        	
  536                        	
  537                        	; ***************************************************************************
  538                        	; ***************************************************************************
  539                        	;
  540                        	; unsigned char __fastcall __builtin_ffs( unsigned int value<__temp> );
  541                        	
  542                        			.proc	___builtin_ffs.1
  562                        			.endp
  563                        	
  564                        	
  565                        	
  566                        	; ***************************************************************************
  567                        	; ***************************************************************************
  568                        	;
  569                        	; N.B. Declared in hucc-string.h, but defined here because they're macros!
  570                        	;
  571                        	; int __fastcall __macro memcmp( unsigned char *destination<_di>, unsigned char *source<_bp>, unsigned int count<acc> );
  572                        	
  573                        	_memcmp.3	.macro
  574                        			stz	<_bp_bank		; Map the source string.
  575                        			call	_farmemcmp.3
  576                        			.endm
  577                        	
  578                        	
  579                        	
  580                        	; ***************************************************************************
  581                        	; ***************************************************************************
  582                        	;
  583                        	; N.B. Declared in hucc-gfx.h, but defined here because they're macros!
  584                        	;
  585                        	; void __fastcall __macro get_color( unsigned int index<VCE_CTA> );
  586                        	
  587                        	_get_color.1	.macro
  588                        			lda.l	VCE_CTR
  589                        			ldy.h	VCE_CTR
  590                        			.endm
  591                        	
  592                        	
  593                        	
  594                        	; ***************************************************************************
  595                        	; ***************************************************************************
  596                        	;
  597                        	; N.B. Declared in hucc-gfx.h, but defined here because they're macros!
  598                        	;
  599                        	; void __fastcall __macro fade_to_black( unsigned int __far *from<_bp_bank:_bp>, unsigned int *destination<_di>, unsigned char num_colors<_al>, unsigned char value_to_sub<_ah> );
  600                        	; void __fastcall __macro fade_to_white( unsigned int __far *from<_bp_bank:_bp>, unsigned int *destination<_di>, unsigned char num_colors<_al>, unsigned char value_to_add<_ah> );
  601                        	; void __fastcall __macro cross_fade_to( unsigned int __far *from<_bp_bank:_bp>, unsigned int *destination<_di>, unsigned char num_colors<_al>, unsigned char which_component<_ah );
  602                        	;
  603                        	; void __fastcall __macro far_fade_to_black( unsigned int *destination<_di>, unsigned char num_colors<_al>, unsigned char value_to_sub<_ah> );
  604                        	; void __fastcall __macro far_fade_to_white( unsigned int *destination<_di>, unsigned char num_colors<_al>, unsigned char value_to_add<_ah> );
  605                        	; void __fastcall __macro far_cross_fade_to( unsigned int *destination<_di>, unsigned char num_colors<_al>, unsigned char which_component<_ah );
  606                        	
  607                        			.macro	_fade_to_black.4
  608                        			ldy	<_bp_bank
  609                        			call	fade_to_black
  610                        			.endm
  611                        	
  612                        			.macro	_fade_to_white.4
  613                        			ldy	<_bp_bank
  614                        			call	fade_to_white
  615                        			.endm
  616                        	
  617                        			.macro	_cross_fade_to.4
  618                        			ldy	<_bp_bank
  619                        			call	cross_fade_to
  620                        			.endm
  621                        	
  622                        			.macro	_far_fade_to_black.3
  623                        			ldy	<_bp_bank
  624                        			call	fade_to_black
  625                        			.endm
  626                        	
  627                        			.macro	_far_fade_to_white.3
  628                        			ldy	<_bp_bank
  629                        			call	fade_to_white
  630                        			.endm
  631                        	
  632                        			.macro	_far_cross_fade_to.3
  633                        			ldy	<_bp_bank
  634                        			call	cross_fade_to
  635                        			.endm
  636                        	
  637                        	
  638                        	
  639                        	; ***************************************************************************
  640                        	; ***************************************************************************
  641                        	;
  642                        	; N.B. Declared in hucc-gfx.h, but defined here because they're macros!
  643                        	;
  644                        	; void __fastcall __macro set_xres( unsigned int x_pixels<_ax> );
  645                        	; void __fastcall __macro sgx_set_xres( unsigned int x_pixels<_ax> );
  646                        	;
  647                        	; void __fastcall set_xres( unsigned int x_pixels<_ax>, unsigned char blur_flag<_bl> );
  648                        	; void __fastcall sgx_set_xres( unsigned int x_pixels<_ax>, unsigned char blur_flag<_bl> );
  649                        	
  650                        	_set_xres.1	.macro
  651                        			lda	#XRES_SOFT
  652                        			sta	<_bl
  653                        			call	_set_xres.2
  654                        			.endm
  655                        	
  656               0001     		.if	SUPPORT_SGX
  657                        			.macro	_sgx_set_xres.1
  658                        			lda	#XRES_SOFT
  659                        			sta	<_bl
  660                        			call	_sgx_set_xres.2
  661                        			.endm
  662                        		.endif
  663                        	
  664                        	
  665                        	
  666                        	; ***************************************************************************
  667                        	; ***************************************************************************
  668                        	;
  669                        	; N.B. Declared in hucc-gfx.h, but defined here because they're macros!
  670                        	;
  671                        	; unsigned int __fastcall __macro vram_addr( unsigned char bat_x<_al>, unsigned char bat_y<_ah> );
  672                        	; unsigned int __fastcall __macro sgx_vram_addr( unsigned char bat_x<_al>, unsigned char bat_y<_ah> );
  673                        	
  674                        			.macro	_vram_addr.2
  675                        			cla
  676                        			bit	vdc_bat_width
  677                        			bmi	!w128+
  678                        			bvs	!w64+
  679                        	!w32:		lsr	<_ah
  680                        			ror	a
  681                        	!w64:		lsr	<_ah
  682                        			ror	a
  683                        	!w128:		lsr	<_ah
  684                        			ror	a
  685                        			ora	<_al
  686                        			ldy	<_ah
  687                        			.endm
  688                        	
  689               0001     		.if	SUPPORT_SGX
  690                        			.macro	_sgx_vram_addr.2
  691                        			cla
  692                        			bit	sgx_bat_width
  693                        			bmi	!w128+
  694                        			bvs	!w64+
  695                        	!w32:		lsr	<_ah
  696                        			ror	a
  697                        	!w64:		lsr	<_ah
  698                        			ror	a
  699                        	!w128:		lsr	<_ah
  700                        			ror	a
  701                        			ora	<_al
  702                        			ldy	<_ah
  703                        			.endm
  704                        		.endif
  705                        	
  706                        	
  707                        	
  708                        	; ***************************************************************************
  709                        	; ***************************************************************************
  710                        	;
  711                        	; N.B. Declared in hucc-gfx.h, but defined here because they're macros!
  712                        	;
  713                        	; unsigned int __fastcall __macro get_vram( unsigned int address<_di> );
  714                        	; void __fastcall __macro put_vram( unsigned int address<_di>, unsigned int data<acc> );
  715                        	;
  716                        	; unsigned int __fastcall __macro sgx_get_vram( unsigned int address<_di> );
  717                        	; void __fastcall __macro sgx_put_vram( unsigned int address<_di>, unsigned int data<acc> );
  718                        	
  719                        			.macro	_get_vram.1
  720                        			jsr	vdc_di_to_marr
  721                        			lda	VDC_DL
  722                        			ldy	VDC_DH
  723                        			.endm
  724                        	
  725                        			.macro	_put_vram.2
  726                        			pha
  727                        			jsr	vdc_di_to_mawr
  728                        			pla
  729                        			sta	VDC_DL
  730                        			sty	VDC_DH
  731                        			.endm
  732                        	
  733               0001     		.if	SUPPORT_SGX
  734                        			.macro	_sgx_get_vram.1
  735                        			jsr	sgx_di_to_marr
  736                        			lda	SGX_DL
  737                        			ldy	SGX_DH
  738                        			.endm
  739                        	
  740                        			.macro	_sgx_put_vram.2
  741                        			pha
  742                        			jsr	sgx_di_to_mawr
  743                        			pla
  744                        			sta	SGX_DL
  745                        			sty	SGX_DH
  746                        			.endm
  747                        		.endif
  748                        	
  749                        	
  750                        	
  751                        	; ***************************************************************************
  752                        	; ***************************************************************************
  753                        	;
  754                        	; N.B. Declared in hucc-gfx.h, but defined here because they're macros!
  755                        	;
  756                        	; void __fastcall __macro set_bgpal( unsigned char palette<_al>, unsigned char __far *data<_bp_bank:_bp> );
  757                        	; void __fastcall __macro set_bgpal( unsigned char palette<_al>, unsigned char __far *data<_bp_bank:_bp>, unsigned int num_palettes<_ah> );
  758                        	; void __fastcall __macro set_sprpal( unsigned char palette<_al>, unsigned char __far *data<_bp_bank:_bp> );
  759                        	; void __fastcall __macro set_sprpal( unsigned char palette<_al>, unsigned char __far *data<_bp_bank:_bp>, unsigned int num_palettes<_ah> );
  760                        	
  761                        	_set_bgpal.2	.macro
  762                        			lda	#1
  763                        			sta	<_ah
  764                        			call	_load_palette.3
  765                        			.endm
  766                        	
  767                        	_set_bgpal.3	.macro
  768                        			call	_load_palette.3
  769                        			.endm
  770                        	
  771                        	_set_sprpal.2	.macro
  772                        			lda	#1
  773                        			sta	<_ah
  774                        			smb4	<_al
  775                        			call	_load_palette.3
  776                        			.endm
  777                        	
  778                        	_set_sprpal.3	.macro
  779                        			smb4	<_al
  780                        			call	_load_palette.3
  781                        			.endm
  782                        	
  783                        	
  784                        	
  785                        	; ***************************************************************************
  786                        	; ***************************************************************************
  787                        	;
  788                        	; N.B. Declared in hucc-gfx.h, but defined here because they're macros!
  789                        	;
  790                        	; void __fastcall __macro load_vram( unsigned int vram<_di>, unsigned char __far *data<_bp_bank:_bp>, unsigned int num_words<_ax> );
  791                        	; void __fastcall __macro sgx_load_vram( unsigned int vram<_di>, unsigned char __far *data<_bp_bank:_bp>, unsigned int num_words<_ax> );
  792                        	;
  793                        	; void __fastcall __macro far_load_vram( unsigned int vram<_di>, unsigned int num_words<_ax> );
  794                        	; void __fastcall __macro sgx_far_load_vram( unsigned int vram<_di>, unsigned int num_words<_ax> );
  795                        	;
  796                        	
  797               0001     		.if	SUPPORT_SGX
  798                        			.macro	_sgx_load_vram.3
  799                        			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
  800                        			call	load_vram_x
  801                        			.endm
  802                        	
  803                        			.macro	_sgx_far_load_vram.2
  804                        			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
  805                        			call	load_vram_x
  806                        			.endm
  807                        		.endif
  808                        	
  809                        			.macro	_load_vram.3
  810                        			clx				; Offset to PCE VDC.
  811                        			call	load_vram_x
  812                        			.endm
  813                        	
  814                        			.macro	_far_load_vram.2
  815                        			clx				; Offset to PCE VDC.
  816                        			call	load_vram_x
  817                        			.endm
  818                        	
  819                        	
  820                        	
  821                        	; ***************************************************************************
  822                        	; ***************************************************************************
  823                        	;
  824                        	; N.B. Declared in hucc-gfx.h, but defined here because they're macros!
  825                        	;
  826                        	; void __fastcall __macro load_sprites( unsigned int vram<_di>, unsigned char __far *data<_bp_bank:_bp>, unsigned int num_groups<acc> );
  827                        	; void __fastcall __macro sgx_load_sprites( unsigned int vram<_di>, unsigned char __far *data<_bp_bank:_bp>, unsigned int num_groups<acc> );
  828                        	; void __fastcall __macro far_load_sprites( unsigned int vram<_di>, unsigned int num_groups<acc> );
  829                        	; void __fastcall __macro sgx_far_load_sprites( unsigned int vram<_di>, unsigned int num_groups<acc> );
  830                        	
  831               0001     		.if	SUPPORT_SGX
  832                        			.macro	_sgx_load_sprites.3
  833                        			stz.l	<_ax
  834                        			asl	a
  835                        			sta.h	<_ax
  836                        			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
  837                        			call	load_vram_x
  838                        			.endm
  839                        	
  840                        			.macro	_sgx_far_load_sprites.2
  841                        			stz.l	<_ax
  842                        			asl	a
  843                        			sta.h	<_ax
  844                        			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
  845                        			call	load_vram_x
  846                        			.endm
  847                        		.endif
  848                        	
  849                        			.macro	_load_sprites.3
  850                        			stz.l	<_ax
  851                        			asl	a
  852                        			sta.h	<_ax
  853                        			clx				; Offset to PCE VDC.
  854                        			call	load_vram_x
  855                        			.endm
  856                        	
  857                        			.macro	_far_load_sprites.2
  858                        			stz.l	<_ax
  859                        			asl	a
  860                        			sta.h	<_ax
  861                        			clx				; Offset to PCE VDC.
  862                        			call	load_vram_x
  863                        			.endm
  864                        	
  865                        	
  866                        	
  867                        	; ***************************************************************************
  868                        	; ***************************************************************************
  869                        	;
  870                        	; N.B. Declared in hucc-gfx.h, but defined here because they're macros!
  871                        	;
  872                        	; void __fastcall load_default_font( void );
  873                        	; void __fastcall sgx_load_default_font( void );
  874                        	;
  875                        	
  876               0001     		.if	SUPPORT_SGX
  877                        			.macro	_sgx_load_default_font
  878                        			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
  879                        			call	huc_monofont_x
  880                        			.endm
  881                        		.endif
  882                        	
  883                        			.macro	_load_default_font
  884                        			clx				; Offset to PCE VDC.
  885                        			call	huc_monofont_x
  886                        			.endm
  887                        	
  888                        	
  889                        	
  890                        	; ***************************************************************************
  891                        	; ***************************************************************************
  892                        	
  893               0000     		.if	0
  911                        		.endif
                             #[2]   "..\..\..\include\hucc\hucc.asm"
  245                        	
  246               0000     		.if	CDROM
  248                        		.endif
  249                        	
  250                        			; Definitions for compatibility with old HuC/MagicKit projects.
  251                        	
  252               0001     		.ifndef	HUCC_NO_DEPRECATED
                             #[3]   "..\..\..\include\hucc\hucc-deprecated.inc"
  253                        			include	"hucc-deprecated.inc"
    1                        	; ***************************************************************************
    2                        	; ***************************************************************************
    3                        	;
    4                        	; hucc-deprecated.inc
    5                        	;
    6                        	; Macros and definitions for compatibility with old HuC/MagicKit projects.
    7                        	;
    8                        	; Based on the original HuC and MagicKit definitions by David Michel and the
    9                        	; other original HuC developers.
   10                        	;
   11                        	; ***************************************************************************
   12                        	; ***************************************************************************
   13                        	
   14                        			; For compatibility with HuC projects that use the old name.
   15                        	
   16               0001     	HUC_USER_RESERVED = HUC_USER_BANK
   17                        	
   18                        			; For compatibility with code that expects the HuC naming that
   19                        			; is used in the newer HuC, rather than the original HuC v3.21.
   20                        			;
   21                        			; Code generated by HuCC uses the original single-underscore.
   22                        	
   23               0001     		.if	1				
   24               0002     	__bp		=	$F8:20EC, 2		; base pointer
   25               0002     	__si		=	$F8:20EE, 2		; source address
   26               0002     	__di		=	$F8:20F0, 2		; destination address
   27                        	
   28               0002     	__ax		=	$F8:20F8, 2
   29               0001     	__al		=	$F8:20F8, 1
   30               0001     	__ah		=	$F8:20F9, 1
   31                        	
   32               0002     	__bx		=	$F8:20FA, 2
   33               0001     	__bl		=	$F8:20FA, 1
   34               0001     	__bh		=	$F8:20FB, 1
   35                        	
   36               0002     	__cx		=	$F8:20FC, 2
   37               0001     	__cl		=	$F8:20FC, 1
   38               0001     	__ch		=	$F8:20FD, 1
   39                        	
   40               0002     	__dx		=	$F8:20FE, 2
   41               0001     	__dl		=	$F8:20FE, 1
   42               0001     	__dh		=	$F8:20FF, 1
   43                        		.endif
   44                        	
   45                        			; For compatibility with code that expects the HuC naming that
   46                        			; is used rather than the shorter upper-case #define naming.
   47                        	
   48               0001     		.if	1				
   49               0001     	video_reg	=	$FF:0200, 1		; Address/Status Register
   50               0001     	video_reg_l	=	$FF:0200, 1		; Address/Status Register
   51               0001     	video_reg_h	=	$FF:0201, 1		; Address/Status Register
   52               0002     	video_data	=	$FF:0202, 2		; Data (Read/Write) Low
   53               0001     	video_data_l	=	$FF:0202, 1		; Data (Read/Write) Low
   54               0001     	video_data_h	=	$FF:0203, 1		; Data (Read/Write) High
   55                        	
   56               0002     	color_ctrl	=	$FF:0400, 2		; Control Register
   57               0002     	color_reg	=	$FF:0402, 2		; Color Table Address
   58               0001     	color_reg_l	=	$FF:0402, 1		; Color Table Address
   59               0001     	color_reg_h	=	$FF:0402, 1		; Color Table Address
   60               0002     	color_data	=	$FF:0404, 2		; Color Table Data Read/Write
   61               0001     	color_data_l	=	$FF:0404, 1		; Color Table Data Read/Write
   62               0001     	color_data_h	=	$FF:0405, 1		; Color Table Data Read/Write
   63                        	
   64               0001     	psg_ch		=	$FF:0800, 1		; Channel Select
   65               0001     	psg_mainvol	=	$FF:0801, 1		; Main Amplitude Level
   66               0001     	psg_freqlo	=	$FF:0802, 1		; Frequency Low
   67               0001     	psg_freqhi	=	$FF:0803, 1		; Frequency High
   68               0001     	psg_ctrl	=	$FF:0804, 1		; Control & Channel Amplitude
   69               0001     	psg_pan		=	$FF:0805, 1		; L/R Amplitude Level
   70               0001     	psg_wavebuf	=	$FF:0806, 1		; Waveform
   71               0001     	psg_noise	=	$FF:0807, 1		; Noise
   72               0001     	psg_lfofreq	=	$FF:0808, 1		; LFO Frequency
   73               0001     	psg_lfoctrl	=	$FF:0809, 1		; LFO Control
   74                        	
   75               0001     	irq_m		=	irq_vec, 1		; Old System Card name.
   76               0002     	irq2_jmp	=	irq2_hook, 2		; Old System Card name.
   77               0002     	irq1_jmp	=	irq1_hook, 2		; Old System Card name.
   78               0002     	timer_jmp	=	timer_hook, 2		; Old System Card name.
   79               0002     	nmi_jmp		=	nmi_hook, 2		; Old System Card name.
   80               0002     	sat_adr		=	satb_addr, 2		; Old System Card name.
   81               0005     	joy		=	joynow, 5		; Old System Card name.
   82               0001     	mwr_m		=	vdc_mwr, 1		; Old System Card name.
   83               0001     	dcr_m		=	vdc_dcr, 1		; Old System Card name.
   84                        		.endif
   85                        	
   86                        			; Macros for compatibility with #asm usage in old HuC projects.
   87                        	
   88                        	stw		.macro
   89                        			lda.l	\1
   90                        			sta.l	\2
   91                        			lda.h	\1
   92                        			sta.h	\2
   93                        			.endm
   94                        	
   95                        	stb		.macro
   96                        			lda	\1
   97                        			sta	\2
   98                        			.endm
   99                        	
  100                        	addw		.macro
  101                        		.if	(\# = 3)
  102                        			clc
  103                        			lda.l	\2
  104                        			adc.l	\1
  105                        			sta.l	\3
  106                        			lda.h	\2
  107                        			adc.h	\1
  108                        			sta.h	\3
  109                        		.else
  110                        			clc
  111                        			lda.l	\2
  112                        			adc.l	\1
  113                        			sta.l	\2
  114                        			lda.h	\2
  115                        			adc.h	\1
  116                        			sta.h	\2
  117                        		.endif
  118                        			.endm
  119                        	
  120                        	add		.macro			; add byte-sized value to
  121                        		.if (\# = 2)			; register A (handle carry
  122                        			lda	\2		; flag)
  123                        			clc
  124                        			adc	\1
  125                        			sta	\2
  126                        		.else
  127                        			clc
  128                        			adc	\1
  129                        		.endif
  130                        			.endm
  131                        	
  132                        	subw		.macro
  133                        			sec
  134                        			lda.l	\2
  135                        			sbc.l	\1
  136                        			sta.l	\2
  137                        			lda.h	\2
  138                        			sbc.h	\1
  139                        			sta.h	\2
  140                        			.endm
  141                        	
  142                        	sub		.macro			; subtract byte-sized value
  143                        		.if (\# = 2)			; from register A (handle
  144                        			lda	\2		; carry flag)
  145                        			sec
  146                        			sbc	\1
  147                        			sta	\2
  148                        		.else
  149                        			sec
  150                        			sbc	\1
  151                        		.endif
  152                        			.endm
  153                        	
  154                        	incw		.macro			; increment a word-sized
  155                        			inc.l	\1		; value at stated memory
  156                        			bne	!+		; location
  157                        			inc.h	\1
  158                        	!:
  159                        			.endm
  160                        	
  161                        	decw		.macro			; decrement a word-sized
  162                        			lda	\1		; value at stated memory
  163                        			bne	!+		; location
  164                        			dec.h	\1
  165                        	!:		dec.l	\1
  166                        			.endm
  167                        	
  168                        	lbne		.macro
  169                        			bne	\1
  170                        			.endm
  171                        	
  172                        	lbeq		.macro
  173                        			beq	\1
  174                        			.endm
  175                        	
  176                        	lbpl		.macro
  177                        			bpl	\1
  178                        			.endm
  179                        	
  180                        	lbmi		.macro
  181                        			bmi	\1
  182                        			.endm
  183                        	
  184                        	lbcc		.macro
  185                        			bcc	\1
  186                        			.endm
  187                        	
  188                        	lbcs		.macro
  189                        			bcs	\1
  190                        			.endm
  191                        	
  192                        	lblo		.macro
  193                        			bcc	\1
  194                        			.endm
  195                        	
  196                        	lbhs		.macro
  197                        			bcs	\1
  198                        			.endm
  199                        	
  200                        	__ldwi		.macro
  201                        		__ld.wi		\1
  202                        			.endm
                             #[2]   "..\..\..\include\hucc\hucc.asm"
  254                        		.endif
  255                        	
  256                        			;
  257                        			;
  258                        			;
  259                        	
  260                        	
  261                        	
  262                        	; ***************************************************************************
  263                        	; ***************************************************************************
  264                        	;
  265                        	; core_main - This is executed after "CORE(not TM)" library initialization.
  266                        	;
  267                        	; This is the first code assembled after the library includes, so we're still
  268                        	; in the CORE_BANK, usually ".bank 0"; and because this is assembled with the
  269                        	; default configuration from "include/core-config.inc", which sets the option
  270                        	; "USING_MPR7", then we're running in MPR7 ($E000-$FFFF).
  271                        	
  272    20:C228             	core_main	.proc
  273                        	
  274               0001     		.if	SUPPORT_SGX
  275    20:C228  A9 F9      			lda	#$F9			; Map the 2nd SGX RAM bank.
  276                        		.else
  278                        		.endif
  279    20:C22A  53 04      			tam2
  280                        	
  281    20:C22C  A9 01      			lda	#CONST_BANK + _bank_base; Map HuCC's .RODATA bank.
  282    20:C22E  53 08      			tam3
  283    20:C230  1A         			inc	a
  284    20:C231  53 10      			tam4
  285                        	
  286               0000     		.ifdef	HOME_BANK
  288                        		.else
  289    20:C233  1A         			inc	a
  290                        		.endif
  291    20:C234  53 20      			tam5
  292                        	
  293    20:C236  08         			php				; Disable interrupts while
  294    20:C237  78         			sei				; clearing overlay's BSS.
  295                        	
  296               0000     		.ifndef	USING_RCR_MACROS
  311                        		.endif	USING_RCR_MACROS
  312                        	
  313    20:C238  A9 E0      			lda	#<hucc_vbl		; Setup HuCC's VBL IRQ handler.
  314    20:C23A  8D 08 22   			sta.l	vsync_hook
  315    20:C23D  A9 E2      			lda	#>hucc_vbl
  316    20:C23F  8D 09 22   			sta.h	vsync_hook
  317                        	
  318               0000     		.if	CDROM				; Overlays should clear BSS.
  320                        		.else
  321    20:C242  73 8F C2 F0			tii	.rom_tia, ram_tia, 16	; Only needed on HuCARD.
         20:C246  22 10 00    
  322                        		.endif	CDROM
  323                        	
  324               0000     		.if	(_xinit_end - _xinit_start)	; Copy initialized BSS data.
  326                        		.endif
  327                        	
  328    20:C249  F3 8D C2 08			tai	.stack_fill, __stack, HUCC_STACK_SZ
         20:C24D  20 80 00    
  329                        	
  330               0000     		.if	FAST_MULTIPLY
  339                        		.endif
  340                        	
  341    20:C250  A9 10      			lda	#$10			; Enable HuCC's vblank IRQ
  342    20:C252  04 F5      			tsb	<irq_vec		; handler.
  343                        	
  344                        			__sound_init			; Initialize a sound driver.
  345                        	
  346    20:C254  AD 00 02   			lda	VDC_SR			; Purge any overdue VBL.
  347    20:C257  9C 41 22   			stz	irq_cnt			; Make it easy to check.
  348                        	
  349    20:C25A  28         			plp				; Restore interrupts.
  350                        	
  351               0001     		.ifndef	HUCC_NO_DEFAULT_SCREEN
  352    20:C25B  20 D1 FF   			call	_init_256x224		; HuCC initializes the VDC and
  353    20:C25E  20 2A E4   			jsr	set_dspon		; turns the display on.
  354                        		.endif
  355                        	
  356               0001     		.ifndef	HUCC_NO_DEFAULT_FONT
  357    20:C261  A9 01      			lda	#1			; HuCC loads a default font.
  358    20:C263  8D 01 27   			sta	monofont_fg
  359    20:C266  9C 02 27   			stz	monofont_bg
  360                        			_load_default_font
         20:C269  82         			clx				; Offset to PCE VDC.
         20:C26A  20 C7 FF   			call	huc_monofont_x
  361    20:C26D  A9 01      			lda	#$01			; Set the font palette entry to
  362    20:C26F  8D 02 04   			sta.l	VCE_CTA			; cyan which is a) visible, but
  363    20:C272  9C 03 04   			stz.h	VCE_CTA			; b) a clear indicator that the
  364    20:C275  A0 96      			ldy	#$96			; user hasn't set a palette yet.
  365    20:C277  8C 04 04   			sty.l	VCE_CTW
  366    20:C27A  8D 05 04   			sta.h	VCE_CTW
  367                        		.endif
  368                        	
  369               0001     		.ifndef	HUCC_NO_DEFAULT_RANDOM
  370    20:C27D  AC 41 22   			ldy	irq_cnt			; Initialize random seed.
  371    20:C280  20 BD FF   			call	init_random
  372                        		.endif
  373                        	
  374    20:C283  A2 80      			ldx	#HUCC_STACK_SZ		; Initialize the HuCC stack.
  375    20:C285  86 8D      			stx	<__sp
  376                        	
  377    20:C287  20 B3 FF   			call	_main			; Execute the HuCC program.
  378                        	
  379    20:C28A  4C 88 E2   			jmp	_exit.1			; Pass the exit code on.
  380                        	
  381    20:C28D  EA EA      	.stack_fill:	db	$EA,$EA			; To make it easier to see.
  382                        	
  383               0001     		.if	!CDROM
  384                        	
  385    20:C28F  E3 34 12 02	.rom_tia:	tia	$1234, VDC_DL, 32
         20:C293  02 20 00    
  386    20:C296  60         			rts
  387                        	
  388    20:C297  73 34 12 78	.rom_tii:	tii	$1234, $5678, $9ABC
         20:C29B  56 BC 9A    
  389    20:C29E  60         			rts
  390                        	
  391               22F0     			.bss
  392    F8:22F0             	ram_tia:	ds	8
  393    F8:22F8             	ram_tii:	ds	8
  394               C29F     			.code
  395                        	
  396                        		.endif	!CDROM
  397                        	
  398                        			.endp
  399                        	
  400                        			;
  401                        			; Self-Modifying TIA and TII instruction subroutines.
  402                        			;
  403                        			; These need to be in permanently-accessible memory so that
  404                        			; HuCC code can modify the values as __fastcall parameters.
  405                        			;
  406                        	
  407               0000     		.if	CDROM
  415                        		.endif	CDROM
  416                        	
  417               22F0     			rsset	ram_tia
  418               22F0     	ram_tia_opc	rs	1
  419               22F1     	ram_tia_src	rs	2
  420               22F3     	ram_tia_dst	rs	2
  421               22F5     	ram_tia_len	rs	2
  422               22F7     	ram_tia_rts	rs	1
  423                        	
  424               22F8     			rsset	ram_tii
  425               22F8     	ram_tii_opc	rs	1
  426               22F9     	ram_tii_src	rs	2
  427               22FB     	ram_tii_dst	rs	2
  428               22FD     	ram_tii_len	rs	2
  429               22FF     	ram_tii_rts	rs	1
  430                        	
  431                        	
  432                        	
  433                        	; ***************************************************************************
  434                        	; ***************************************************************************
  435                        	;
  436                        	; hucc_vbl - vblank IRQ handler, called by the "CORE(not TM)" kernel.
  437                        	;
  438                        	; This uses the kernel's hook to process things during vblank. It returns
  439                        	; with a simple RTS, and it can corrupt any register.
  440                        	;
  441                        	; Any slow routines in here should enable interrupts and protect itself from
  442                        	; re-entrancy problems.
  443                        	;
  444                        	
  445    00:E2E0  20 A9 FF   	hucc_vbl:	call	vbl_init_scroll		; Prepare for the next frame.
  446                        	
  447    00:E2E3  F8         			sed				; Update the HuC system clock
  448    00:E2E4  38         			sec				; which is in BCD here rather
  449    00:E2E5  AD EC 22   			lda	__clock_tt		; than the binary one in HuC.
  450    00:E2E8  69 00      			adc	#0			; BCD add ...
  451    00:E2EA  C9 60      			cmp	#$60			; ... but binary comparison.
  452    00:E2EC  90 28      			bcc	.ticks
  453    00:E2EE  AD ED 22   			lda	__clock_ss
  454    00:E2F1  69 00      			adc	#0			; BCD add ...
  455    00:E2F3  C9 60      			cmp	#$60			; ... but binary comparison.
  456    00:E2F5  90 1B      			bcc	.seconds
  457    00:E2F7  AD EE 22   			lda	__clock_mm
  458    00:E2FA  69 00      			adc	#0			; BCD add ...
  459    00:E2FC  C9 60      			cmp	#$60			; ... but binary comparison.
  460    00:E2FE  90 0E      			bcc	.minutes
  461    00:E300  AD EF 22   			lda	__clock_hh
  462    00:E303  69 00      			adc	#0			; BCD add ...
  463    00:E305  C9 12      			cmp	#$12			; ... but binary comparison.
  464    00:E307  90 01      			bcc	.hours
  465    00:E309  62         			cla
  466    00:E30A  8D EF 22   	.hours:		sta	__clock_hh
  467    00:E30D  62         			cla
  468    00:E30E  8D EE 22   	.minutes:	sta	__clock_mm
  469    00:E311  62         			cla
  470    00:E312  8D ED 22   	.seconds:	sta	__clock_ss
  471    00:E315  62         			cla
  472    00:E316  8D EC 22   	.ticks:		sta	__clock_tt
  473    00:E319  D8         			cld
  474                        	
  475    00:E31A  4C AA E3   			jmp	xfer_palettes		; Upload any palette changes.
                             #[1]   "Black_Tiger.s"
   15                        		.opt		@+
   16               E31D     		.code
   17                        	
   18                        		.dbg	line,	"..\..\..\include\hucc\globals.h", 1; // **************************************************************************
   19                        		.dbg	line,	"..\..\..\include\hucc\globals.h", 2; // **************************************************************************
   20                        		.dbg	line,	"..\..\..\include\hucc\globals.h", 3; //
   21                        		.dbg	line,	"..\..\..\include\hucc\globals.h", 4; // globals.h
   22                        		.dbg	line,	"..\..\..\include\hucc\globals.h", 5; //
   23                        		.dbg	line,	"..\..\..\include\hucc\globals.h", 6; // **************************************************************************
   24                        		.dbg	line,	"..\..\..\include\hucc\globals.h", 7; // **************************************************************************
   25                        		.dbg	line,	"..\..\..\include\hucc\globals.h", 8; //
   26                        		.dbg	line,	"..\..\..\include\hucc\globals.h", 9; // The idea is that you, a PCE developer, copy this file from the ../include/
   27                        		.dbg	line,	"..\..\..\include\hucc\globals.h", 10; // directory and into your project's directory, and then define the variables
   28                        		.dbg	line,	"..\..\..\include\hucc\globals.h", 11; // that you want to have shared access to in all overlay programs on your CD.
   29                        		.dbg	line,	"..\..\..\include\hucc\globals.h", 12; //
   30                        		.dbg	line,	"..\..\..\include\hucc\globals.h", 13; // Because PCEAS searches the current (i.e. project) directory for an include
   31                        		.dbg	line,	"..\..\..\include\hucc\globals.h", 14; // file first, then it will find your customized copy of the file rather than
   32                        		.dbg	line,	"..\..\..\include\hucc\globals.h", 15; // the original copy in the ../include/ directory.
   33                        		.dbg	line,	"..\..\..\include\hucc\globals.h", 16; //
   34                        		.dbg	line,	"..\..\..\include\hucc\globals.h", 17; // **************************************************************************
   35                        		.dbg	line,	"..\..\..\include\hucc\globals.h", 18; // **************************************************************************
   36                        		.dbg	clear
   37               2300     		.bss
   38    F8:2300             	huc_globals:
   39                        	
   40    F8:2300             	huc_globals_end:
   41               E31D     		.code
   42                        		.dbg	line,	"Black_Tiger.c", 1; #include "huc.h"
   43                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 1; #ifndef _hucc_legacy_h
   44                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 2; #define _hucc_legacy_h
   45                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 4; /****************************************************************************
   46                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 5; ; ***************************************************************************
   47                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 6; ;
   48                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 7; ; huc.h
   49                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 8; ;
   50                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 9; ; HuCC wrapper file to include a default set of HuC-compatible functions.
   51                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 10; ;
   52                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 11; ; Copyright John Brandwood 2024.
   53                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 12; ;
   54                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 13; ; Distributed under the Boost Software License, Version 1.0.
   55                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
   56                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
   57                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 16; ;
   58                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 17; ; ***************************************************************************
   59                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 18; ; ***************************************************************************
   60                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 19; ;
   61                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 20; ; When the HuCC compiler is invoked with the "--legacy" option to compile old
   62                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 21; ; projects, then this "huc.h" file is automatically included.
   63                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 22; ;
   64                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 23; ; This file includes a set of the individual HuCC headers which correspond to
   65                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 24; ; HuC's built-in functions and MagicKit library.
   66                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 25; ;
   67                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 26; ; New HuCC projects should, preferably, include the specific headers that are
   68                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 27; ; needed, which will then allow them to replace parts of the standard library
   69                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 28; ; with newer functions, or they can just manually include this "huc.h" file.
   70                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 29; ;
   71                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 30; ; ***************************************************************************
   72                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 31; ; **************************************************************************/
   73                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 33; #include "hucc-systemcard.h"
   74                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 1; #ifndef _hucc_systemcard_h
   75                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 2; #define _hucc_systemcard_h
   76                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 4; /****************************************************************************
   77                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 5; ; ***************************************************************************
   78                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 6; ;
   79                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 7; ; hucc-systemcard.h
   80                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 8; ;
   81                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 9; ; Macros and library functions for using the System Card.
   82                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 10; ;
   83                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 11; ; Copyright John Brandwood 2024.
   84                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 12; ;
   85                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 13; ; Distributed under the Boost Software License, Version 1.0.
   86                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
   87                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
   88                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 16; ;
   89                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 17; ; ***************************************************************************
   90                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 18; ; ***************************************************************************
   91                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 19; ;
   92                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 20; ; Because these are mainly macros, and so must be included before being used
   93                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 21; ; in compiled code, the actual functions here are written to avoid using any
   94                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 22; ; BSS memory so that HuCC's overlay global-shared-variables are not effected.
   95                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 23; ;
   96                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 24; ; ***************************************************************************
   97                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 25; ; **************************************************************************/
   98                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 27; // *************
   99                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 28; // Backup RAM defines ...
  100                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 29; // *************
  101                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 31; #define  BM_OK             0
  102                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 32; #define  BM_NOT_FOUND      1
  103                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 33; #define  BM_BAD_CHECKSUM   2
  104                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 34; #define  BM_DIR_CORRUPTED  3
  105                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 35; #define  BM_FILE_EMPTY     4
  106                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 36; #define  BM_FULL           5
  107                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 37; #define  BM_NOT_FORMATED   0xFF			// HuC incorrect spelling.
  108                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 38; #define  BM_NOT_FORMATTED  0xFF			// HuCC can use a dictionary!
  109                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 40; #define  BRAM_STARTPTR     0x8010
  110                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 42; // *************
  111                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 43; // CD defines ...
  112                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 44; // *************
  113                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 46; #define	CDPLAY_MUTE		0
  114                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 47; #define	CDPLAY_REPEAT		1
  115                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 48; #define	CDPLAY_NORMAL		2
  116                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 49; #define	CDPLAY_ENDOFDISC	0
  117                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 51; #define	CDFADE_CANCEL	0
  118                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 52; #define	CDFADE_PCM6	8
  119                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 53; #define	CDFADE_ADPCM6	10
  120                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 54; #define	CDFADE_PCM2	12
  121                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 55; #define	CDFADE_ADPCM2	14
  122                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 57; #define CDTRK_AUDIO	0
  123                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 58; #define CDTRK_DATA	4
  124                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 60; // *************
  125                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 61; // ADPCM defines ...
  126                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 62; // *************
  127                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 64; #define	ADPLAY_AUTOSTOP		0
  128                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 65; #define	ADPLAY_REPEAT		0x80
  129                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 67; #define ADPLAY_FREQ_16KHZ	0xE
  130                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 68; #define ADPLAY_FREQ_10KHZ	0xD
  131                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 69; #define ADPLAY_FREQ_8KHZ	0xC
  132                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 70; #define ADPLAY_FREQ_6KHZ	0xB
  133                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 71; #define ADPLAY_FREQ_5KHZ	0xA
  134                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 73; #define ADREAD_RAM	0
  135                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 74; #define ADREAD_VRAM	0xFF
  136                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 76; #define ADWRITE_RAM	0
  137                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 77; #define ADWRITE_VRAM	0xFF
  138                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 79; // *************
  139                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 80; // Functions in hucc-systemcard.asm ...
  140                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 81; // *************
  141                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 83; #ifdef __HUCC__
  142                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 85; #asmdef	HUCC_USES_SYSTEMCARD 1
  143               0001     	HUCC_USES_SYSTEMCARD = 1
  144                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 87; extern void __fastcall __macro cd_boot( void );
  145                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 88; extern unsigned int __fastcall __macro cd_getver( void );
  146                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 89; extern void __fastcall __macro cd_reset( void );
  147                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 90; extern unsigned char __fastcall __macro cd_pause( void );
  148                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 91; extern unsigned char __fastcall cd_unpause( void );
  149                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 92; extern void __fastcall __macro cd_fade( unsigned char type<acc> );
  150                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 93; extern unsigned char __fastcall cd_playtrk( unsigned char start_track<_bx>, unsigned char end_track<_cx>, unsigned char mode<_dh> );
  151                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 94; extern unsigned char __fastcall cd_playmsf( unsigned char start_minute<_al>,  unsigned char start_second<_ah>,  unsigned char start_frame<_bl>, unsigned char end_minute<_cl>,  unsigned char end_second<_ch>,  unsigned char end_frame<_dl>,  unsigned char mode<_dh> );
  152                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 95; extern unsigned char __fastcall cd_fastvram( unsigned char ovl_index<_cl>, unsigned int sect_offset<_si>, unsigned int vramaddr<_bx>, unsigned int sectors<_al> );
  153                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 96; extern unsigned char __fastcall cd_loadvram( unsigned char ovl_index<_cl>, unsigned int sect_offset<_si>, unsigned int vramaddr<_bx>, unsigned int bytes<_ax> );
  154                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 97; extern unsigned char __fastcall cd_loaddata( unsigned char ovl_index<_cl>, unsigned int sect_offset<_si>, unsigned char __far *buffer<_bp_bank:_bp>, unsigned int bytes<__ptr> );
  155                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 98; extern unsigned char __fastcall cd_loadbank( unsigned char ovl_index<_cl>, unsigned int sect_offset<_si>, unsigned char bank<_bl>, unsigned int sectors<_al> );
  156                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 99; extern unsigned char __fastcall __macro cd_status( unsigned char mode<acc> );
  157                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 101; extern void __fastcall __macro ad_reset( void );
  158                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 102; extern unsigned char __fastcall __macro ad_trans( unsigned char ovl_index<_cl>, unsigned int sect_offset<_si>, unsigned char nb_sectors<_dh>, unsigned int ad_addr<_bx> );
  159                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 103; extern void __fastcall __macro ad_read( unsigned int ad_addr<_cx>, unsigned char mode<_dh>, unsigned int buf<_bx>, unsigned int bytes<_ax> );
  160                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 104; extern void __fastcall __macro ad_write( unsigned int ad_addr<_cx>, unsigned char mode<_dh>, unsigned int buf<_bx>, unsigned int bytes<_ax> );
  161                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 105; extern unsigned char __fastcall __macro ad_play( unsigned int ad_addr<_bx>, unsigned int bytes<_ax>, unsigned char freq<_dh>, unsigned char mode<_dl> );
  162                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 106; extern unsigned char __fastcall __macro ad_cplay( unsigned char ovl_index<_cl>, unsigned int sect_offset<_si>, unsigned int nb_sectors<_bx>, unsigned char freq<_dh> );
  163                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 107; extern void __fastcall __macro ad_stop( void );
  164                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 108; extern unsigned char __fastcall __macro ad_stat( void );
  165                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 110; extern unsigned char __fastcall bm_check( void );
  166                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 111; extern unsigned char __fastcall bm_format( void );
  167                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 112; extern unsigned int __fastcall __macro bm_free( void );
  168                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 113; extern unsigned char __fastcall __macro bm_read( unsigned char *buffer<_bx>, unsigned char *name<_ax>, unsigned int offset<_dx>, unsigned int length<_cx> );
  169                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 114; extern unsigned char __fastcall __macro bm_write( unsigned char *buffer<_bx>, unsigned char *name<_ax>, unsigned int offset<_dx>, unsigned int length<_cx> );
  170                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 115; extern unsigned char __fastcall __macro bm_delete( unsigned char *name<_ax> );
  171                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 117; // Deprecated functions ...
  172                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 119; extern unsigned char __fastcall __macro bm_exist( unsigned char *name<_ax> );
  173                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 120; extern unsigned char __fastcall __macro bm_create( unsigned char *name<_ax>, unsigned int length<_cx> );
  174                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 122; // void __fastcall _xsafe add_sectors( unsigned int sector_offset<acc> );
  175                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 124; #endif // __HUCC__
  176                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 126; #endif // _hucc_systemcard_h
  177                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 34; #include "hucc-baselib.h"
  178                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 1; #ifndef _hucc_baselib_h
  179                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 2; #define _hucc_baselib_h
  180                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 4; /****************************************************************************
  181                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 5; ; ***************************************************************************
  182                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 6; ;
  183                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 7; ; hucc-baselib.h
  184                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 8; ;
  185                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 9; ; Basic library functions provided as macros.
  186                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 10; ;
  187                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 11; ; Copyright John Brandwood 2024.
  188                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 12; ;
  189                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 13; ; Distributed under the Boost Software License, Version 1.0.
  190                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
  191                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
  192                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 16; ;
  193                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 17; ; ***************************************************************************
  194                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 18; ; **************************************************************************/
  195                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 20; // *************
  196                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 21; // Joypad defines ...
  197                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 22; // *************
  198                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 24; #define	JOY_A		0x01
  199                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 25; #define	JOY_I		0x01
  200                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 26; #define	JOY_B		0x02
  201                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 27; #define	JOY_II		0x02
  202                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 28; #define	JOY_SLCT	0x04
  203                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 29; #define	JOY_SEL		0x04
  204                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 30; #define	JOY_STRT	0x08
  205                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 31; #define	JOY_RUN		0x08
  206                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 32; #define	JOY_UP		0x10
  207                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 33; #define	JOY_RGHT	0x20
  208                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 34; #define	JOY_RIGHT	0x20
  209                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 35; #define	JOY_DOWN	0x40
  210                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 36; #define	JOY_LEFT	0x80
  211                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 38; #define	JOY_C		0x0100
  212                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 39; #define	JOY_III		0x0100
  213                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 40; #define	JOY_D		0x0200
  214                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 41; #define	JOY_IV		0x0200
  215                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 42; #define	JOY_E		0x0400
  216                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 43; #define	JOY_V		0x0400
  217                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 44; #define	JOY_F		0x0800
  218                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 45; #define	JOY_VI		0x0800
  219                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 47; #define JOY_SIXBUT	0x8000
  220                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 48; #define JOY_TYPE6	0x8000
  221                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 50; // *************
  222                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 51; // SuperGRAFX VPC settings for set_vpc_ctl() ...
  223                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 52; // *************
  224                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 54; #define VPC_SPR1_BKG1_SPR2_BKG2	0x3000 // same as SGX_PARALLAX=0
  225                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 55; #define VPC_SPR1_SPR2_BKG1_BKG2	0x7000 // same as SGX_PARALLAX=1
  226                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 56; #define VPC_BKG1_BKG2_SPR1_SPR2	0xB000
  227                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 58; // *************
  228                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 59; // System Card variables ...
  229                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 60; // *************
  230                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 62; extern unsigned int si;
  231                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 63; extern unsigned int di;
  232                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 64; extern unsigned int bp;
  233                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 66; extern unsigned int ax;
  234                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 67; extern unsigned int bx;
  235                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 68; extern unsigned int cx;
  236                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 69; extern unsigned int dx;
  237                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 71; extern unsigned char al;
  238                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 72; extern unsigned char ah;
  239                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 73; extern unsigned char bl;
  240                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 74; extern unsigned char bh;
  241                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 75; extern unsigned char cl;
  242                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 76; extern unsigned char ch;
  243                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 77; extern unsigned char dl;
  244                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 78; extern unsigned char dh;
  245                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 80; extern unsigned char irq_cnt;
  246                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 81; extern unsigned char joynow[5];
  247                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 82; extern unsigned char joytrg[5];
  248                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 83; extern unsigned char joy6now[5];
  249                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 84; extern unsigned char joy6trg[5];
  250                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 85; extern unsigned int  bg_x1;
  251                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 86; extern unsigned int  bg_y1;
  252                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 87; extern unsigned int  bg_x2;
  253                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 88; extern unsigned int  bg_y2;
  254                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 90; // *************
  255                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 91; // Special macros to get information from PCEAS ...
  256                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 92; // *************
  257                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 94; #define BANK( datasym ) ((unsigned) (&__bank__ ## datasym))
  258                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 95; #define SIZEOF( datasym ) ((unsigned) (&__sizeof__ ## datasym))
  259                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 96; #define COUNTOF( datasym ) ((unsigned) (&__countof__ ## datasym))
  260                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 97; #define OVERLAY( datasym ) ((unsigned) (&__overlay__ ## datasym))
  261                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 100; // *************
  262                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 101; // Functions in hucc-baselib.asm ...
  263                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 102; // *************
  264                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 104; #ifdef __HUCC__
  265                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 106; #asmdef	HUCC_USES_BASELIB 1
  266               0001     	HUCC_USES_BASELIB = 1
  267                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 108; #define	_OPTIMIZE 1
  268                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 111; // *************
  269                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 112; // Hardware Detection
  270                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 113; // *************
  271                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 115; extern unsigned char __fastcall __macro sgx_detect( void );
  272                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 116; extern unsigned char __fastcall __macro ac_exists( void );
  273                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 119; // *************
  274                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 120; // Memory Access
  275                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 121; // *************
  276                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 123; extern unsigned char __fastcall __macro peek( unsigned int addr<__ptr> );
  277                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 124; extern unsigned int  __fastcall __macro peekw( unsigned int addr<__ptr> );
  278                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 126; extern void __fastcall __macro poke( unsigned int addr<__poke>, unsigned char with<acc> );
  279                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 127; extern void __fastcall __macro pokew( unsigned int addr<__poke>, unsigned int with<acc> );
  280                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 129; extern unsigned char __fastcall farpeek( void __far *addr<_bp_bank:_bp> );
  281                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 130; extern unsigned int  __fastcall farpeekw( void __far *addr<_bp_bank:_bp> );
  282                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 132; extern void __fastcall __nop set_far_base( unsigned char data_bank<_bp_bank>, unsigned char *data_addr<_bp> );
  283                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 133; extern void __fastcall set_far_offset( unsigned int offset<_bp>, unsigned char data_bank<_bp_bank>, unsigned char *data_addr<acc> );
  284                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 135; extern unsigned char __fastcall far_peek( void );
  285                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 136; extern unsigned int  __fastcall far_peekw( void );
  286                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 138; extern void __fastcall __macro reset_mpr2( void );
  287                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 139; extern void __fastcall __macro reset_mpr34( void );
  288                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 141; extern void * __fastcall __macro farset_mpr2( void __far *addr<_bp_bank:_bp> );
  289                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 142; extern void * __fastcall __macro farset_mpr34( void __far *addr<_bp_bank:_bp> );
  290                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 144; extern void * __fastcall __macro far_set_mpr2( void );
  291                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 145; extern void * __fastcall __macro far_set_mpr34( void );
  292                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 148; // *************
  293                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 149; // Clock Functions
  294                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 150; // *************
  295                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 152; extern unsigned char __fastcall __macro clock_hh( void );
  296                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 153; extern unsigned char __fastcall __macro clock_mm( void );
  297                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 154; extern unsigned char __fastcall __macro clock_ss( void );
  298                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 155; extern unsigned char __fastcall __macro clock_tt( void );
  299                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 156; extern void __fastcall __macro clock_reset( void );
  300                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 159; // *************
  301                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 160; // Joypad Functions
  302                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 161; // *************
  303                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 163; extern unsigned int __fastcall __macro joy( unsigned char which<acc> );
  304                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 164; extern unsigned int __fastcall __macro joytrg( unsigned char which<acc> );
  305                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 167; // *************
  306                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 168; // Number Functions
  307                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 169; // *************
  308                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 171; extern void __fastcall __macro srand( unsigned char seed<acc> );
  309                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 172; extern unsigned int __fastcall rand( void );
  310                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 173; extern unsigned char __fastcall rand8( void );
  311                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 175; // Note: "limit" is 0..255.
  312                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 176; extern unsigned char __fastcall random8( unsigned char limit<acc> );
  313                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 178; // Note: "limit" is 0..128, 129..255 are treated as 128!
  314                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 179; extern unsigned char __fastcall random( unsigned char limit<acc> );
  315                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 182; // *************
  316                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 183; // Overlay Execution
  317                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 184; // *************
  318                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 186; extern unsigned char __fastcall __macro cd_execoverlay( unsigned char ovl_index<acc> );
  319                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 189; // *************
  320                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 190; // Functions that are only optionally available if configured in your hucc-config.inc
  321                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 191; // *************
  322                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 193; extern unsigned int __fastcall __macro joybuf( unsigned char which<acc> );
  323                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 194; extern unsigned int __fastcall __macro get_joy_events( unsigned char which<acc> );
  324                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 195; extern void __fastcall __macro clear_joy_events( unsigned char mask<acc> );
  325                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 198; // *************
  326                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 199; // Functions that are only implemented in the TGEMU emulator for unit-testing
  327                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 200; // the compiler, and which should never be used in normal HuCC projects ...
  328                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 201; // *************
  329                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 203; extern void __fastcall dump_screen( void );
  330                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 205; #endif // __HUCC__
  331                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 207; #endif // _hucc_baselib_h
  332                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 35; #include "hucc-gfx.h"
  333                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 1; #ifndef _hucc_gfx_h
  334                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 2; #define _hucc_gfx_h
  335                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 4; /****************************************************************************
  336                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 5; ; ***************************************************************************
  337                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 6; ;
  338                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 7; ; huc-gfx.h
  339                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 8; ;
  340                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 9; ; Based on the original HuC and MagicKit functions by David Michel and the
  341                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 10; ; other original HuC developers.
  342                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 11; ;
  343                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 12; ; Modifications copyright John Brandwood 2024.
  344                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 13; ;
  345                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 14; ; Distributed under the Boost Software License, Version 1.0.
  346                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 15; ; (See accompanying file LICENSE_1_0.txt or copy at
  347                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 16; ;  http://www.boost.org/LICENSE_1_0.txt)
  348                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 17; ;
  349                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 18; ; ***************************************************************************
  350                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 19; ; **************************************************************************/
  351                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 21; // *************
  352                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 22; // Screen defines ...
  353                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 23; // *************
  354                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 25; #define	SCR_SIZE_32x32	0
  355                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 26; #define	SCR_SIZE_64x32	1
  356                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 27; #define	SCR_SIZE_128x32	2
  357                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 28; #define	SCR_SIZE_32x64	4
  358                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 29; #define	SCR_SIZE_64x64	5
  359                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 30; #define	SCR_SIZE_128x64	6
  360                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 32; #define	XRES_SHARP	0
  361                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 33; #define	XRES_SOFT	4
  362                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 34; #define	XRES_KEEP	128
  363                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 36; #define VPC_WIN_A	0x00
  364                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 37; #define VPC_WIN_B	0x01
  365                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 38; #define	VPC_WIN_AB	0x02
  366                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 39; #define	VPC_WIN_NONE	0x03
  367                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 40; #define	VPC_NORM	0x00
  368                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 41; #define	VPC_SPR		0x04
  369                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 42; #define	VPC_INV_SPR	0x08
  370                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 43; #define VDC1_ON		0x01
  371                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 44; #define	VDC1_OFF	0x00
  372                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 45; #define VDC2_ON		0x02
  373                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 46; #define	VDC2_OFF	0x00
  374                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 47; #define VDC_ON		0x03
  375                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 48; #define	VDC_OFF		0x00
  376                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 50; // *************
  377                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 51; // Functions in hucc-gfx.asm ...
  378                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 52; // *************
  379                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 54; #ifdef __HUCC__
  380                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 56; #asmdef	HUCC_USES_GFX 1
  381               0001     	HUCC_USES_GFX = 1
  382                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 58; // *************
  383                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 59; // Color and Palette Functions
  384                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 60; // *************
  385                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 62; extern void __fastcall clear_palette( void );
  386                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 64; extern void __fastcall __nop set_color( unsigned int index<VCE_CTA>, unsigned int value<VCE_CTW> );
  387                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 65; extern void __fastcall set_color_rgb( unsigned int index<VCE_CTA>, unsigned char r<_al>, unsigned char g<_ah>, unsigned char b<acc> );
  388                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 66; extern unsigned int __fastcall __macro get_color( unsigned int index<VCE_CTA> );
  389                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 68; extern void __fastcall load_palette( unsigned char palette<_al>, unsigned char __far *data<_bp_bank:_bp>, unsigned char num_palettes<_ah> );
  390                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 69; extern void __fastcall far_load_palette( unsigned char palette<_al>, unsigned char num_palettes<_ah> );
  391                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 71; extern void __fastcall read_palette( unsigned char palette<_al>, unsigned char num_palettes<_ah>, unsigned int *destination<_di> );
  392                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 73; extern void __fastcall __macro fade_to_black( unsigned int __far *from<_bp_bank:_bp>, unsigned int *destination<_di>, unsigned char num_colors<_al>, unsigned char value_to_sub<_ah> );
  393                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 74; extern void __fastcall __macro fade_to_white( unsigned int __far *from<_bp_bank:_bp>, unsigned int *destination<_di>, unsigned char num_colors<_al>, unsigned char value_to_add<_ah> );
  394                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 75; extern void __fastcall __macro cross_fade_to( unsigned int __far *from<_bp_bank:_bp>, unsigned int *destination<_di>, unsigned char num_colors<_al>, unsigned char which_component<_ah> );
  395                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 77; extern void __fastcall __macro far_fade_to_black( unsigned int *destination<_di>, unsigned char num_colors<_al>, unsigned char value_to_sub<_ah> );
  396                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 78; extern void __fastcall __macro far_fade_to_white( unsigned int *destination<_di>, unsigned char num_colors<_al>, unsigned char value_to_add<_ah> );
  397                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 79; extern void __fastcall __macro far_cross_fade_to( unsigned int *destination<_di>, unsigned char num_colors<_al>, unsigned char which_component<_ah> );
  398                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 83; // *************
  399                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 84; // Video Functions
  400                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 85; // *************
  401                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 87; extern void __fastcall init_240x208( void );
  402                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 88; extern void __fastcall init_256x224( void );
  403                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 90; extern void __fastcall vsync( void );
  404                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 91; extern void __fastcall vsync( unsigned char count<_al> );
  405                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 93; extern void __fastcall disp_on( void );
  406                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 94; extern void __fastcall disp_off( void );
  407                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 96; extern void __fastcall set_screen_size( unsigned char value<_al> );
  408                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 98; extern void __fastcall set_xres( unsigned int x_pixels<_ax>, unsigned char blur_flag<_bl> );
  409                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 100; extern void __fastcall cls( void );
  410                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 101; extern void __fastcall cls( unsigned int tile<acc> );
  411                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 103; extern unsigned int __fastcall __macro vram_addr( unsigned char bat_x<_al>, unsigned char bat_y<_ah> );
  412                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 104; extern unsigned int __fastcall __macro get_vram( unsigned int address<_di> );
  413                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 105; extern void __fastcall __macro put_vram( unsigned int address<_di>, unsigned int data<acc> );
  414                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 107; extern void __fastcall __macro load_vram( unsigned int vram<_di>, unsigned char __far *data<_bp_bank:_bp>, unsigned int num_words<_ax> );
  415                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 108; extern void __fastcall __macro far_load_vram( unsigned int vram<_di>,  unsigned int num_words<_ax> );
  416                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 110; extern void __fastcall load_bat( unsigned int vram<_di>, unsigned char __far *data<_bp_bank:_bp>, unsigned char tiles_w<_al>, unsigned char tiles_h<_ah> );
  417                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 111; extern void __fastcall far_load_bat( unsigned int vram<_di>, unsigned char tiles_w<_al>, unsigned char tiles_h<_ah> );
  418                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 113; extern void __fastcall __macro load_sprites( unsigned int vram<_di>, unsigned char __far *data<_bp_bank:_bp>, unsigned int num_groups<acc> );
  419                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 114; extern void __fastcall __macro far_load_sprites( unsigned int vram<_di>, unsigned int num_groups<acc> );
  420                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 116; extern void __fastcall vram2vram( unsigned int vram_dst<_ax>, unsigned int vram_src<_bx>, unsigned int word_len<_cx> );
  421                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 119; // *************
  422                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 120; // SuperGRAFX Video Functions
  423                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 121; // *************
  424                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 123; extern void __fastcall __nop vpc_set_ctl( unsigned int bits<VPC_CR> );
  425                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 124; extern void __fastcall __nop vpc_set_win1( unsigned int width<VPC_WINDOW1> );
  426                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 125; extern void __fastcall __nop vpc_set_win2( unsigned int width<VPC_WINDOW2> );
  427                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 127; extern void __fastcall sgx_set_screen_size( unsigned char value<_al> );
  428                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 129; extern void __fastcall sgx_set_xres( unsigned int x_pixels<_ax>, unsigned char blur_flag<_bl> );
  429                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 131; extern void __fastcall sgx_cls( void );
  430                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 132; extern void __fastcall sgx_cls( unsigned int tile<acc> );
  431                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 134; extern unsigned int __fastcall __macro sgx_vram_addr( unsigned char bat_x<_al>, unsigned char bat_y<_ah> );
  432                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 135; extern unsigned int __fastcall __macro sgx_get_vram( unsigned int address<_di> );
  433                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 136; extern void __fastcall __macro sgx_put_vram( unsigned int address<_di>, unsigned int data<acc> );
  434                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 138; extern void __fastcall __macro sgx_load_vram( unsigned int vram<_di>, unsigned char __far *data<_bp_bank:_bp>, unsigned int num_words<_ax> );
  435                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 139; extern void __fastcall __macro sgx_far_load_vram( unsigned int vram<_di>, unsigned int num_words<_ax> );
  436                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 141; extern void __fastcall sgx_load_bat( unsigned int vram<_di>, unsigned char __far *data<_bp_bank:_bp>, unsigned char tiles_w<_al>, unsigned char tiles_h<_ah> );
  437                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 142; extern void __fastcall sgx_far_load_bat( unsigned int vram<_di>, unsigned char tiles_w<_al>, unsigned char tiles_h<_ah> );
  438                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 144; extern void __fastcall __macro sgx_load_sprites( unsigned int vram<_di>, unsigned char __far *data<_bp_bank:_bp>, unsigned int num_groups<acc> );
  439                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 145; extern void __fastcall __macro sgx_far_load_sprites( unsigned int vram<_di>, unsigned int num_groups<acc> );
  440                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 147; extern void __fastcall sgx_vram2vram( unsigned int vram_dst<_ax>, unsigned int vram_src<_bx>, unsigned int word_len<_cx> );
  441                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 150; // *************
  442                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 151; // Font Functions
  443                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 152; // *************
  444                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 154; extern void __fastcall set_font_addr( unsigned int vram<acc> );
  445                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 155; extern void __fastcall set_font_pal( unsigned char palette<acc> );
  446                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 157; extern void __fastcall load_font( unsigned char __far *font<_bp_bank:_bp>, unsigned char count<_al>, unsigned int vram<acc> );
  447                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 158; extern void __fastcall far_load_font( unsigned char count<_al>, unsigned int vram<acc> );
  448                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 160; extern void __fastcall __nop set_font_color( unsigned char foreground<monofont_fg>, unsigned char background<monofont_bg> );
  449                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 161; extern void __fastcall __macro load_default_font( void );
  450                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 164; // *************
  451                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 165; // SuperGRAFX Font Functions
  452                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 166; // *************
  453                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 168; extern void __fastcall sgx_set_font_addr( unsigned int vram<acc> );
  454                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 169; extern void __fastcall sgx_set_font_pal( unsigned char palette<acc> );
  455                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 171; extern void __fastcall sgx_load_font( char __far *font<_bp_bank:_bp>, unsigned char count<_al>, unsigned int vram<acc> );
  456                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 172; extern void __fastcall sgx_far_load_font( unsigned char count<_al>, unsigned int vram<acc> );
  457                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 174; extern void __fastcall __macro sgx_load_default_font( void );
  458                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 177; // *************
  459                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 178; // Deprecated functions ...
  460                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 179; // *************
  461                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 181; extern void __fastcall __macro set_xres( unsigned int x_pixels<_ax> );
  462                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 182; extern void __fastcall __macro sgx_set_xres( unsigned int x_pixels<_ax> );
  463                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 184; extern void __fastcall load_background( unsigned char __far *tiles<_bp_bank:_bp>, unsigned char __far *palettes<__fbank:__fptr>, unsigned char __far *bat<_cl:_bx>, unsigned char w<_dl>, unsigned char h<_dh> );
  464                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 186; extern void __fastcall __macro set_bgpal( unsigned char palette<_al>, unsigned char __far *data<_bp_bank:_bp> );
  465                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 187; extern void __fastcall __macro set_bgpal( unsigned char palette<_al>, unsigned char __far *data<_bp_bank:_bp>, unsigned int num_palettes<_ah> );
  466                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 188; extern void __fastcall __macro set_sprpal( unsigned char palette<_al>, unsigned char __far *data<_bp_bank:_bp> );
  467                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 189; extern void __fastcall __macro set_sprpal( unsigned char palette<_al>, unsigned char __far *data<_bp_bank:_bp>, unsigned int num_palettes<_ah> );
  468                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 191; extern void __fastcall load_font( char __far *font<_bp_bank:_bp>, unsigned char count<_al> );
  469                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 193; extern void __fastcall put_string( unsigned char *string<_bp>, unsigned char bat_x<_dil>, unsigned char bat_y<_dih> );
  470                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 195; extern void __fastcall put_char( unsigned char digit<_bl>, unsigned char bat_x<_dil>, unsigned char bat_y<_dih> );
  471                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 196; extern void __fastcall put_digit( unsigned char digit<_bl>, unsigned char bat_x<_dil>, unsigned char bat_y<_dih> );
  472                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 197; extern void __fastcall put_hex( unsigned int number<_bx>, unsigned char length<_cl>, unsigned char bat_x<_dil>, unsigned char bat_y<_dih> );
  473                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 198; extern void __fastcall put_number( unsigned int number<_bx>, unsigned char length<_cl>, unsigned char bat_x<_dil>, unsigned char bat_y<_dih> );
  474                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 199; extern void __fastcall put_raw( unsigned int data<_bx>, unsigned char bat_x<_dil>, unsigned char bat_y<_dih> );
  475                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 201; #endif // __HUCC__
  476                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 203; #endif // _hucc_gfx_h
  477                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 36; #include "hucc-old-scroll.h"
  478                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 1; #ifndef _hucc_old_scroll_h
  479                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 2; #define _hucc_old_scroll_h
  480                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 4; /****************************************************************************
  481                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 5; ; ***************************************************************************
  482                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 6; ;
  483                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 7; ; hucc-old-scroll.h
  484                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 8; ;
  485                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 9; ; Based on the original HuC and MagicKit functions by David Michel and the
  486                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 10; ; other original HuC developers.
  487                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 11; ;
  488                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 12; ; Modifications copyright John Brandwood 2024.
  489                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 13; ;
  490                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 14; ; Distributed under the Boost Software License, Version 1.0.
  491                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 15; ; (See accompanying file LICENSE_1_0.txt or copy at
  492                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 16; ;  http://www.boost.org/LICENSE_1_0.txt)
  493                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 17; ;
  494                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 18; ; ***************************************************************************
  495                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 19; ; ***************************************************************************
  496                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 20; ;
  497                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 21; ; HuC's old scrolling library is provided for use with existing HuC projects,
  498                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 22; ; but it should preferably be avoided in new projects because it is slow and
  499                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 23; ; forever limited by its choice to handle gaps between areas, and sorting.
  500                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 24; ;
  501                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 25; ; HuCC's new scrolling library puts the responibility for defining both gaps
  502                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 26; ; and the display order into the project's hands, but in return it runs much
  503                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 27; ; faster, using less than 1/6 of the processing time in VBLANK, and far less
  504                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 28; ; time in the RCR interrputs themselves. It also supports the 2nd SuperGRAFX
  505                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 29; ; screen layer, which HuC's old scrolling library ignores.
  506                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 30; ;
  507                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 31; ; ***************************************************************************
  508                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 32; ; **************************************************************************/
  509                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 34; // *************
  510                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 35; // Functions in hucc-old-scroll.asm ...
  511                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 36; // *************
  512                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 38; #ifdef __HUCC__
  513                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 40; #asmdef	HUCC_USES_OLD_SCROLL 1
  514               0001     	HUCC_USES_OLD_SCROLL = 1
  515                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 42; extern void __fastcall scroll( unsigned char num<_al>, unsigned int x<_cx>, unsigned int y<_dx>, unsigned char top<_ah>, unsigned char bottom<_bl>, unsigned char disp<acc> );
  516                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 43; extern void __fastcall scroll_disable( unsigned char num<acc> );
  517                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 45; #endif // __HUCC__
  518                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 47; #endif // _hucc_old_scroll_h
  519                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 37; #include "hucc-old-spr.h"
  520                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 1; #ifndef _hucc_old_spr_h
  521                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 2; #define _hucc_old_spr_h
  522                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 4; /****************************************************************************
  523                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 5; ; ***************************************************************************
  524                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 6; ;
  525                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 7; ; hucc-old-spr.h
  526                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 8; ;
  527                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 9; ; Based on the original HuC and MagicKit functions by David Michel and the
  528                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 10; ; other original HuC developers.
  529                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 11; ;
  530                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 12; ; Modifications copyright John Brandwood 2024.
  531                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 13; ;
  532                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 14; ; Distributed under the Boost Software License, Version 1.0.
  533                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 15; ; (See accompanying file LICENSE_1_0.txt or copy at
  534                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 16; ;  http://www.boost.org/LICENSE_1_0.txt)
  535                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 17; ;
  536                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 18; ; ***************************************************************************
  537                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 19; ; **************************************************************************/
  538                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 21; // *************
  539                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 22; // Sprite defines ...
  540                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 23; // *************
  541                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 25; #define FLIP_X_MASK 0x08
  542                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 26; #define FLIP_Y_MASK 0x80
  543                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 27; #define FLIP_MAS    0x88
  544                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 28; #define SIZE_MAS    0x31
  545                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 30; #define NO_FLIP     0x00
  546                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 31; #define NO_FLIP_X   0x00
  547                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 32; #define NO_FLIP_Y   0x00
  548                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 33; #define FLIP_X      0x08
  549                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 34; #define FLIP_Y      0x80
  550                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 35; #define SZ_16x16    0x00
  551                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 36; #define SZ_16x32    0x10
  552                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 37; #define SZ_16x64    0x30
  553                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 38; #define SZ_32x16    0x01
  554                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 39; #define SZ_32x32    0x11
  555                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 40; #define	SZ_32x64    0x31
  556                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 42; // *************
  557                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 43; // Functions in hucc-old-spr.asm ...
  558                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 44; // *************
  559                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 46; #ifdef __HUCC__
  560                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 48; #asmdef	HUCC_USES_OLD_SPR 1
  561               0001     	HUCC_USES_OLD_SPR = 1
  562                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 50; extern void __fastcall init_satb( void );
  563                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 51; extern void __fastcall reset_satb( void );
  564                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 52; extern void __fastcall satb_update( void );
  565                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 53; extern void __fastcall spr_set( unsigned char num<acc> );
  566                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 54; extern void __fastcall spr_hide( void );
  567                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 55; extern void __fastcall spr_show( void );
  568                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 56; extern void __fastcall spr_x( unsigned int value<acc> );
  569                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 57; extern void __fastcall spr_y( unsigned int value<acc> );
  570                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 58; extern void __fastcall spr_pattern( unsigned int vaddr<acc> );
  571                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 59; extern void __fastcall spr_ctrl( unsigned char mask<_al>, unsigned char value<acc> );
  572                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 60; extern void __fastcall spr_pal( unsigned char palette<acc> );
  573                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 61; extern void __fastcall spr_pri( unsigned char priority<acc> );
  574                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 63; extern unsigned int __fastcall spr_get_x( void );
  575                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 64; extern unsigned int __fastcall spr_get_y( void );
  576                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 66; extern void __fastcall sgx_init_satb( void );
  577                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 67; extern void __fastcall sgx_reset_satb( void );
  578                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 68; extern void __fastcall sgx_satb_update( void );
  579                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 69; extern void __fastcall sgx_spr_set( unsigned char num<acc> );
  580                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 70; extern void __fastcall sgx_spr_hide( void );
  581                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 71; extern void __fastcall sgx_spr_show( void );
  582                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 72; extern void __fastcall sgx_spr_x( unsigned int value<acc> );
  583                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 73; extern void __fastcall sgx_spr_y( unsigned int value<acc> );
  584                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 74; extern void __fastcall sgx_spr_pattern( unsigned int vaddr<acc> );
  585                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 75; extern void __fastcall sgx_spr_ctrl( unsigned char mask<_al>, unsigned char value<acc> );
  586                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 76; extern void __fastcall sgx_spr_pal( unsigned char palette<acc> );
  587                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 77; extern void __fastcall sgx_spr_pri( unsigned char priority<acc> );
  588                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 79; extern unsigned int __fastcall sgx_spr_get_x( void );
  589                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 80; extern unsigned int __fastcall sgx_spr_get_y( void );
  590                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 82; #endif // __HUCC__
  591                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 84; #endif // _hucc_old_spr_h
  592                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 38; #include "hucc-old-map.h"
  593                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 1; #ifndef _hucc_old_map_h
  594                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 2; #define _hucc_old_map_h
  595                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 4; /****************************************************************************
  596                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 5; ; ***************************************************************************
  597                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 6; ;
  598                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 7; ; hucc-old-map.h
  599                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 8; ;
  600                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 9; ; Based on the original HuC and MagicKit functions by David Michel and the
  601                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 10; ; other original HuC developers.
  602                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 11; ;
  603                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 12; ; Modifications copyright John Brandwood 2024.
  604                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 13; ;
  605                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 14; ; Distributed under the Boost Software License, Version 1.0.
  606                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 15; ; (See accompanying file LICENSE_1_0.txt or copy at
  607                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 16; ;  http://www.boost.org/LICENSE_1_0.txt)
  608                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 17; ;
  609                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 18; ; ***************************************************************************
  610                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 19; ; **************************************************************************/
  611                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 21; // *************
  612                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 22; // Functions in hucc-old-map.asm ...
  613                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 23; // *************
  614                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 25; #ifdef __HUCC__
  615                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 27; #asmdef	HUCC_USES_OLD_MAP 1
  616               0001     	HUCC_USES_OLD_MAP = 1
  617                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 29; extern void __fastcall set_tile_address( unsigned int vram<_di> );
  618                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 30; extern void __fastcall sgx_set_tile_address( unsigned int vram<_di> );
  619                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 32; extern void __fastcall __nop set_tile_data( unsigned char __far *tiles<vdc_tile_bank:vdc_tile_addr>, unsigned char num_tiles<vdc_num_tiles>, unsigned char __far *palette_table<vdc_attr_bank:vdc_attr_addr>, unsigned char tile_type<vdc_tile_type> );
  620                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 33; extern void __fastcall __nop sgx_set_tile_data( unsigned char __far *tiles<sgx_tile_bank:sgx_tile_addr>, unsigned char num_tiles<sgx_num_tiles>, unsigned char __far *palette_table<sgx_attr_bank:sgx_attr_addr>, unsigned char tile_type<sgx_tile_type> );
  621                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 35; extern void __fastcall __nop set_far_tile_data( unsigned char tile_bank<vdc_tile_bank>, unsigned char *tile_addr<vdc_tile_addr>, unsigned char num_tiles<vdc_num_tiles>, unsigned char palette_table_bank<vdc_attr_bank>, unsigned char *palette_table_addr<vdc_attr_addr>, unsigned char tile_type<vdc_tile_type> );
  622                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 36; extern void __fastcall __nop sgx_set_far_tile_data( unsigned char tile_bank<sgx_tile_bank>, unsigned char *tile_addr<sgx_tile_addr>, unsigned char num_tiles<sgx_num_tiles>, unsigned char palette_table_bank<sgx_attr_bank>, unsigned char *palette_table_addr<sgx_attr_addr>, unsigned char tile_type<sgx_tile_type> );
  623                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 38; extern void __fastcall __nop set_map_data( unsigned char __far *map<vdc_map_bank:vdc_map_addr>, unsigned char w<vdc_map_width>, unsigned char h<vdc_map_height> );
  624                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 39; extern void __fastcall __nop sgx_set_map_data( unsigned char __far *map<sgx_map_bank:sgx_map_addr>, unsigned char w<sgx_map_width>, unsigned char h<sgx_map_height> );
  625                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 41; extern void __fastcall __nop set_far_map_data( unsigned char map_bank<vdc_map_bank>, unsigned char *map_addr<vdc_map_addr>, unsigned char w<vdc_map_width>, unsigned char h<vdc_map_height> );
  626                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 42; extern void __fastcall __nop sgx_set_far_map_data( unsigned char map_bank<vdc_map_bank>, unsigned char *map_addr<vdc_map_addr>, unsigned char w<sgx_map_width>, unsigned char h<sgx_map_height> );
  627                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 44; extern void __fastcall load_tile( unsigned int vram<_di> );
  628                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 45; extern void __fastcall sgx_load_tile( unsigned int vram<_di> );
  629                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 47; extern void __fastcall load_map( unsigned char bat_x<_al>, unsigned char bat_y<_ah>, int map_x<_bx>, int map_y<_dx>, unsigned char tiles_w<_cl>, unsigned char tiles_h<_ch> );
  630                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 48; extern void __fastcall sgx_load_map( unsigned char bat_x<_al>, unsigned char bat_y<_ah>, int map_x<_bx>, int map_y<_dx>, unsigned char tiles_w<_cl>, unsigned char tiles_h<_ch> );
  631                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 50; extern unsigned char __fastcall map_get_tile( unsigned char map_x<_bl>, unsigned char map_y<_bh> );
  632                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 51; extern unsigned char __fastcall sgx_map_get_tile( unsigned char map_x<_bl>, unsigned char map_y<_bh> );
  633                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 53; extern void __fastcall map_put_tile( unsigned char map_x<_bl>, unsigned char map_y<_bh>, unsigned char tile<_al> );
  634                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 54; extern void __fastcall sgx_map_put_tile( unsigned char map_x<_bl>, unsigned char map_y<_bh>, unsigned char tile<_al> );
  635                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 56; extern void __fastcall put_tile( unsigned char tile<_bl>, unsigned char bat_x<_al>, unsigned char bat_y<_ah> );
  636                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 57; extern void __fastcall sgx_put_tile( unsigned char tile<_bl>, unsigned char bat_x<_al>, unsigned char bat_y<_ah> );
  637                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 59; // Deprecated functions ...
  638                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 61; extern void __fastcall set_tile_data( unsigned char *tile_ex<_di> );
  639                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 63; extern void __fastcall __nop set_map_pals( unsigned char __far *palette_table<vdc_attr_bank:vdc_attr_addr> );
  640                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 64; extern void __fastcall __nop set_map_tile_type( unsigned char tile_type<vdc_tile_type> );
  641                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 66; extern void __fastcall __nop sgx_set_map_pals( unsigned char __far *palette_table<sgx_attr_bank:sgx_attr_addr> );
  642                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 67; extern void __fastcall __nop sgx_set_map_tile_type( unsigned char tile_type<sgx_tile_type> );
  643                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 69; extern void __fastcall set_map_tile_base( unsigned int vram<_di> );
  644                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 70; extern void __fastcall sgx_set_map_tile_base( unsigned int vram<_di> );
  645                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 72; #endif // __HUCC__
  646                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 74; #endif // _hucc_old_map_h
  647                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 39; #include "hucc-old-line.h"
  648                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 1; #ifndef _hucc_old_line_h
  649                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 2; #define _hucc_old_line_h
  650                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 4; /****************************************************************************
  651                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 5; ; ***************************************************************************
  652                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 6; ;
  653                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 7; ; hucc-old-line.h
  654                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 8; ;
  655                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 9; ; Based on the original HuC and MagicKit functions by David Michel and the
  656                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 10; ; other original HuC developers.
  657                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 11; ;
  658                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 12; ; Modifications copyright John Brandwood 2024.
  659                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 13; ;
  660                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 14; ; Distributed under the Boost Software License, Version 1.0.
  661                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 15; ; (See accompanying file LICENSE_1_0.txt or copy at
  662                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 16; ;  http://www.boost.org/LICENSE_1_0.txt)
  663                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 17; ;
  664                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 18; ; ***************************************************************************
  665                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 19; ; **************************************************************************/
  666                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 21; // *************
  667                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 22; // Functions in hucc-old-line.asm ...
  668                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 23; // *************
  669                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 25; #ifdef __HUCC__
  670                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 27; #asmdef	HUCC_USES_OLD_LINE 1
  671               0001     	HUCC_USES_OLD_LINE = 1
  672                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 29; extern void __fastcall gfx_init( unsigned int start_vram_addr<_ax> );
  673                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 30; extern void __fastcall gfx_clear( unsigned int start_vram_addr<_di> );
  674                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 31; extern void __fastcall gfx_plot( unsigned int x<_gfx_x1>, unsigned int y<_gfx_y1>, char color<_gfx_color> );
  675                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 32; extern void __fastcall gfx_line( unsigned int x1<_gfx_x1>, unsigned int y1<_gfx_y1>, unsigned int x2<_gfx_x2>, unsigned int y2<_gfx_y2>, unsigned char color<_gfx_color> );
  676                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 34; #endif // __HUCC__
  677                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 36; #endif // _hucc_old_line_h
  678                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 41; #include <stdlib.h>
  679                        		.dbg	line,	"..\..\..\include\hucc\stdlib.h", 1; #ifndef _hucc_stdlib_h
  680                        		.dbg	line,	"..\..\..\include\hucc\stdlib.h", 2; #define _hucc_stdlib_h
  681                        		.dbg	line,	"..\..\..\include\hucc\stdlib.h", 4; #define RAND_MAX 32767
  682                        		.dbg	line,	"..\..\..\include\hucc\stdlib.h", 6; #ifdef __HUCC__
  683                        		.dbg	line,	"..\..\..\include\hucc\stdlib.h", 7; extern int __fastcall abs( int value<acc> );
  684                        		.dbg	line,	"..\..\..\include\hucc\stdlib.h", 8; #endif
  685                        		.dbg	line,	"..\..\..\include\hucc\stdlib.h", 10; #endif // _hucc_stdlib_h
  686                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 42; #include <string.h>
  687                        		.dbg	line,	"..\..\..\include\hucc\string.h", 1; #ifdef __HUCC__
  688                        		.dbg	line,	"..\..\..\include\hucc\string.h", 2; #include "hucc-string.h"
  689                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 1; #ifndef _hucc_string_h
  690                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 2; #define _hucc_string_h
  691                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 4; /****************************************************************************
  692                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 5; ; ***************************************************************************
  693                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 6; ;
  694                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 7; ; hucc-string.h
  695                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 8; ;
  696                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 9; ; Not-quite-standard, but fast, replacements for <string.h>.
  697                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 10; ;
  698                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 11; ; Copyright John Brandwood 2024.
  699                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 12; ;
  700                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 13; ; Distributed under the Boost Software License, Version 1.0.
  701                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
  702                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
  703                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 16; ;
  704                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 17; ; ***************************************************************************
  705                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 18; ; ***************************************************************************
  706                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 19; ;
  707                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 20; ; !!! WARNING : non-standard return values !!!
  708                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 21; ;
  709                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 22; ; Strings are limited to a maximum of 255 characters (+ the terminator)!
  710                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 23; ;
  711                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 24; ; The memcpy(), strcpy() and strcat() functions do NOT return the destination
  712                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 25; ; address, and they are declared "void" to check that the value is not used.
  713                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 26; ;
  714                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 27; ; mempcpy() is provided which returns the end address instead of the starting
  715                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 28; ; address, because this is typically more useful.
  716                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 29; ;
  717                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 30; ; Please note that both memcpy() and memset() are implemented using a TII for
  718                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 31; ; speed, and so the length should be < 16 bytes if used in time-critical bits
  719                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 32; ; of code (such as when using a split screen) because they delay interrupts.
  720                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 33; ;
  721                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 34; ; strncpy() and strncat() are not provided, because strncpy() was not created
  722                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 35; ; for the purpose of avoiding string overruns, and strncat() is just a poorly
  723                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 36; ; designed function IMHO.
  724                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 37; ;
  725                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 38; ; POSIX strlcpy() and strlcat() are provided instead, but once again they are
  726                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 39; ; slightly non-standard in that the return value when there is an overflow is
  727                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 40; ; the buffer size (so that the overflow can be detected), instead of the full
  728                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 41; ; size of the destination string that was too big to fit in the buffer.
  729                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 42; ;
  730                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 43; ; ***************************************************************************
  731                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 44; ; **************************************************************************/
  732                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 46; // *************
  733                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 47; // Functions in hucc-string.asm ...
  734                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 48; // *************
  735                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 50; #ifdef __HUCC__
  736                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 52; #asmdef	HUCC_USES_STRING 1
  737               0001     	HUCC_USES_STRING = 1
  738                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 54; extern void __fastcall strcpy( char *destination<_di>, char *source<_bp> );
  739                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 55; extern void __fastcall strcat( char *destination<_di>, char *source<_bp> );
  740                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 57; extern unsigned int __fastcall strlen( char *source<_bp> );
  741                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 59; extern unsigned int __fastcall strlcpy( char *destination<_di>, char *source<_bp>, unsigned char size<acc> );
  742                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 60; extern unsigned int __fastcall strlcat( char *destination<_di>, char *source<_bp>, unsigned char size<acc> );
  743                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 62; extern void __fastcall memcpy( unsigned char *destination<ram_tii_dst>, unsigned char *source<ram_tii_src>, unsigned int count<acc> );
  744                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 63; extern void __fastcall farmemcpy( unsigned char *destination<ram_tii_dst>, unsigned char __far *source<_bp_bank:ram_tii_src>, unsigned int count<acc> );
  745                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 64; extern void __fastcall far_memcpy( unsigned char *destination<ram_tii_dst>, unsigned int count<acc> );
  746                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 66; extern unsigned char * __fastcall mempcpy( unsigned char *destination<ram_tii_dst>, unsigned char *source<ram_tii_src>, unsigned int count<acc> );
  747                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 67; extern unsigned char * __fastcall farmempcpy( unsigned char *destination<ram_tii_dst>, unsigned char __far *source<_bp_bank:ram_tii_src>, unsigned int count<acc> );
  748                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 68; extern unsigned char * __fastcall far_mempcpy( unsigned char *destination<ram_tii_dst>, unsigned int count<acc> );
  749                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 70; extern void __fastcall memset( unsigned char *destination<ram_tii_src>, unsigned char value<_al>, unsigned int count<acc> );
  750                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 72; //  0 	if strings are equal
  751                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 73; //  1 	if the first non-matching character in string1 > string2 (in ASCII).
  752                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 74; // -1 	if the first non-matching character in string1 < string2 (in ASCII).
  753                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 76; extern int __fastcall strcmp( char *string1<_di>, char *string2<_bp> );
  754                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 77; extern int __fastcall strncmp( char *string1<_di>, char *string2<_bp>, unsigned int count<_ax> );
  755                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 79; extern int __fastcall __macro memcmp( unsigned char *string1<_di>, unsigned char *string2<_bp>, unsigned int count<acc> );
  756                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 80; extern int __fastcall farmemcmp( unsigned char *string1<_di>, unsigned char __far *string2<_bp_bank:_bp>, unsigned int count<acc> );
  757                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 81; extern int __fastcall far_memcmp( unsigned char *string1<_di>, unsigned int count<acc> );
  758                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 83; #endif // __HUCC__
  759                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 85; #endif // _hucc_string_h
  760                        		.dbg	line,	"..\..\..\include\hucc\string.h", 3; #endif
  761                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 44; #endif // _hucc_legacy_h
  762                        		.dbg	line,	"Black_Tiger.c", 2; #include "hucc-scroll.h"
  763                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 1; #ifndef _hucc_scroll_h
  764                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 2; #define _hucc_scroll_h
  765                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 4; /****************************************************************************
  766                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 5; ; ***************************************************************************
  767                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 6; ;
  768                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 7; ; hucc-scroll.h
  769                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 8; ;
  770                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 9; ; Routines for a fast split-screen scrolling system.
  771                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 10; ;
  772                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 11; ; Copyright John Brandwood 2024.
  773                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 12; ;
  774                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 13; ; Distributed under the Boost Software License, Version 1.0.
  775                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
  776                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
  777                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 16; ;
  778                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 17; ; ***************************************************************************
  779                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 18; ; ***************************************************************************
  780                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 19; ;
  781                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 20; ; The maximum number of splits for each screen layer is set in your project's
  782                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 21; ; "hucc-config.inc" file, with the library having a limit of 128-per-layer.
  783                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 22; ;
  784                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 23; ; Your first active split must be defined to start at screen line 0, and then
  785                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 24; ; the rest of the active splits must be in increasing line order to match the
  786                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 25; ; way that the PC Engine displays the output image.
  787                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 26; ;
  788                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 27; ; You can have disabled splits interleaved with your active splits.
  789                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 28; ;
  790                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 29; ; Splits that are normally disabled can be used to create full screen effects
  791                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 30; ; such as bouncing the screen up and down by adding blank areas at the top or
  792                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 31; ; bottom of the screen, and then rapidly changing the height of those areas.
  793                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 32; ;
  794                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 33; ; ***************************************************************************
  795                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 34; ; **************************************************************************/
  796                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 36; // *************
  797                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 37; // VDC bits for display_flags ...
  798                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 38; // *************
  799                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 40; #ifndef BKG_OFF
  800                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 41; #define BKG_OFF 0x00
  801                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 42; #endif
  802                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 44; #ifndef SPR_OFF
  803                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 45; #define SPR_OFF 0x00
  804                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 46; #endif
  805                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 48; #ifndef BKG_ON
  806                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 49; #define BKG_ON 0x80
  807                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 50; #endif
  808                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 52; #ifndef SPR_ON
  809                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 53; #define SPR_ON 0x40
  810                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 54; #endif
  811                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 56; // *************
  812                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 57; // Functions in hucc-scroll.asm ...
  813                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 58; // *************
  814                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 60; #ifdef __HUCC__
  815                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 62; #asmdef	HUCC_USES_NEW_SCROLL 1
  816               0001     	HUCC_USES_NEW_SCROLL = 1
  817                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 64; extern void __fastcall scroll_split( unsigned char index<_al>, unsigned char screen_line<_ah>, unsigned int bat_x<_bx>, unsigned int bat_y<_cx>, unsigned char display_flags<_dl> );
  818                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 65; extern void __fastcall sgx_scroll_split( unsigned char index<_al>, unsigned char screen_line<_ah>, unsigned int bat_x<_bx>, unsigned int bat_y<_cx>, unsigned char display_flags<_dl> );
  819                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 67; extern void __fastcall disable_split( unsigned char index<acc> );
  820                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 68; extern void __fastcall sgx_disable_split( unsigned char index<acc> );
  821                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 70; extern void __fastcall __macro disable_all_splits( void );
  822                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 71; extern void __fastcall __macro sgx_disable_all_splits( void );
  823                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 73; #asm
  824                        		.dbg	clear
  825                        			.macro	_disable_all_splits
  826                        			ldy	#HUCC_PCE_SPLITS - 1
  827                        	!loop:		tya
  828                        			call	_disable_split.1
  829                        			dey
  830                        			bpl	!loop-
  831                        			.endm
  832                        			.macro	_sgx_disable_all_splits
  833                        			ldy	#HUCC_SGX_SPLITS - 1
  834                        	!loop:		tya
  835                        			call	_sgx_disable_split.1
  836                        			dey
  837                        			bpl	!loop-
  838                        			.endm
  839                        	
  840                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 89; #endasm
  841                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 91; #endif // __HUCC__
  842                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 93; #endif // _hucc_scroll_h
  843                        		.dbg	line,	"Black_Tiger.c", 3; #include "hucc-chrmap.h"
  844                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 1; #ifndef _hucc_chrmap_h
  845                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 2; #define _hucc_chrmap_h
  846                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 4; /****************************************************************************
  847                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 5; ; ***************************************************************************
  848                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 6; ;
  849                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 7; ; hucc-chrmap.h
  850                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 8; ;
  851                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 9; ; A simple map system based on 8x8 characters (aka "tiles") in BAT format.
  852                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 10; ;
  853                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 11; ; Copyright John Brandwood 2025.
  854                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 12; ;
  855                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 13; ; Distributed under the Boost Software License, Version 1.0.
  856                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
  857                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
  858                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 16; ;
  859                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 17; ; ***************************************************************************
  860                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 18; ; ***************************************************************************
  861                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 19; ;
  862                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 20; ; The maximum X and Y size for chrmaps is 256 characters (2048 pixels).
  863                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 21; ;
  864                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 22; ; The maximum total size for a chrmap is 16KBytes, which allows for maps up
  865                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 23; ; to 256x32 tiles (2048x256 pixels).
  866                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 24; ;
  867                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 25; ; ***************************************************************************
  868                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 26; ; **************************************************************************/
  869                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 28; // *************
  870                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 29; // This code extends the blkmap library ...
  871                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 30; // *************
  872                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 32; #include "hucc-blkmap.h"
  873                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 1; #ifndef _hucc_blkmap_h
  874                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 2; #define _hucc_blkmap_h
  875                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 4; /****************************************************************************
  876                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 5; ; ***************************************************************************
  877                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 6; ;
  878                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 7; ; hucc-blkmap.h
  879                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 8; ;
  880                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 9; ; A map system based on 16x16 meta-tiles (aka "blocks", aka CHR/BLK/MAP).
  881                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 10; ;
  882                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 11; ; Copyright John Brandwood 2025.
  883                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 12; ;
  884                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 13; ; Distributed under the Boost Software License, Version 1.0.
  885                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
  886                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
  887                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 16; ;
  888                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 17; ; ***************************************************************************
  889                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 18; ; ***************************************************************************
  890                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 19; ;
  891                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 20; ; The maximum X and Y size for blkmaps is 128 blocks (2048 pixels).
  892                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 21; ;
  893                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 22; ; The maximum total size for a blkmap is 16KBytes, which allows for maps up
  894                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 23; ; to 128x128 blocks (2048x2048 pixels).
  895                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 24; ;
  896                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 25; ; Huge multi-screen blkmaps are also supported (optionally).
  897                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 26; ;
  898                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 27; ; The maximum X and Y for multi-screen maps is 128 screens (32768 pixels).
  899                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 28; ;
  900                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 29; ; The maximum total size for a multi-screen map is 8KBytes, which allows for
  901                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 30; ; a total of 1024 screens.
  902                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 31; ;
  903                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 32; ; ***************************************************************************
  904                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 33; ; **************************************************************************/
  905                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 35; // *************
  906                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 36; // Functions in blkmap.asm ...
  907                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 37; // *************
  908                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 39; #ifdef __HUCC__
  909                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 41; #asmdef	HUCC_USES_BLKMAP 1
  910               0001     	HUCC_USES_BLKMAP = 1
  911                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 43; // Current top-left of drawn map in pixels.
  912                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 44; extern unsigned int   vdc_map_pxl_x;
  913                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 45; extern unsigned int   vdc_map_pxl_y;
  914                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 47; // Width and height to draw/scroll in characters (not tiles).
  915                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 48; extern unsigned char  vdc_map_draw_w;
  916                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 49; extern unsigned char  vdc_map_draw_h;
  917                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 51; // Width of map (or multi-screen BAT) in tiles.
  918                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 52; extern unsigned char  vdc_map_line_w;
  919                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 54; // Width of map in screens (if multi-screen map).
  920                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 55; extern unsigned char  vdc_map_scrn_w;
  921                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 57; // Extra information returned by get_map_block() and sgx_get_map_block(),
  922                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 58; // which are the collision flags and the mask/overlay sprite for the BLK.
  923                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 59; extern unsigned char  map_blk_flag;
  924                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 60; extern unsigned char  map_blk_mask;
  925                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 62; extern unsigned char  vdc_scr_bank;
  926                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 63; extern unsigned char *vdc_scr_addr;
  927                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 65; extern unsigned char  vdc_map_bank;
  928                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 66; extern unsigned char *vdc_map_addr;
  929                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 68; extern unsigned char  vdc_blk_bank;
  930                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 69; extern unsigned char *vdc_blk_addr;
  931                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 71; extern unsigned char  vdc_tbl_bank;
  932                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 72; extern unsigned char *vdc_tbl_addr;
  933                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 74; extern void __fastcall set_blocks( unsigned char __far *blk_def<vdc_blk_bank:vdc_blk_addr>, unsigned char __far *flg_def<vdc_tbl_bank:vdc_tbl_addr>, unsigned char number_of_blocks<_al> );
  934                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 75; extern void __fastcall __macro set_blkmap( unsigned char __far *blk_map<vdc_map_bank:vdc_map_addr>, unsigned char blocks_w<vdc_map_line_w> );
  935                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 76; extern void __fastcall __macro set_multimap( unsigned char __far *multi_map<vdc_scr_bank:vdc_scr_addr>, unsigned char screens_w<vdc_map_scrn_w> );
  936                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 78; extern void __fastcall draw_map( void );
  937                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 79; extern void __fastcall scroll_map( void );
  938                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 81; extern void __fastcall blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
  939                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 83; extern unsigned char __fastcall get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
  940                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 85; #asm
  941                        		.dbg	clear
  942                        			.macro	_set_blkmap.2
  943                        			stz	vdc_scr_bank
  944                        			.endm
  945                        			.macro	_set_multimap.2
  946                        			lda	vdc_bat_width
  947                        			lsr	a
  948                        			sta	vdc_map_line_w
  949                        			.endm
  950                        			.macro	SCREEN
  951                        			db	(((\1) & $1FFF) | $6000) >> 8, bank(\1)
  952                        			db	(((\2) & $1FFF) | $4000) >> 8, bank(\2)
  953                        			db	(((\3) & $1FFF) | $6000) >> 8, bank(\3)
  954                        			dw	(\4)
  955                        			.endm
  956                        	
  957                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 102; #endasm
  958                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 104; #ifdef _SGX
  959                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 106; // Current top-left of drawn map in pixels.
  960                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 107; extern unsigned int   sgx_map_pxl_x;
  961                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 108; extern unsigned int   sgx_map_pxl_y;
  962                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 110; // Width and height to draw/scroll in characters (not tiles).
  963                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 111; extern unsigned char  sgx_map_draw_w;
  964                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 112; extern unsigned char  sgx_map_draw_h;
  965                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 114; // Width of map (or multi-screen BAT) in tiles.
  966                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 115; extern unsigned char  sgx_map_line_w;
  967                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 117; // Width of map in screens (if multi-screen map).
  968                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 118; extern unsigned char  sgx_map_scrn_w;
  969                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 120; extern unsigned char  sgx_scr_bank;
  970                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 121; extern unsigned char *sgx_scr_addr;
  971                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 123; extern unsigned char  sgx_map_bank;
  972                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 124; extern unsigned char *sgx_map_addr;
  973                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 126; extern unsigned char  sgx_blk_bank;
  974                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 127; extern unsigned char *sgx_blk_addr;
  975                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 129; extern unsigned char  sgx_tbl_bank;
  976                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 130; extern unsigned char *sgx_tbl_addr;
  977                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 132; extern void __fastcall sgx_set_blocks( unsigned char __far *blk_def<sgx_blk_bank:sgx_blk_addr>, unsigned char __far *flg_def<sgx_tbl_bank:sgx_tbl_addr>, unsigned char number_of_blocks<_al> );
  978                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 133; extern void __fastcall __macro sgx_set_blkmap( unsigned char __far *blk_map<sgx_map_bank:sgx_map_addr>, unsigned char blocks_w<sgx_map_line_w> );
  979                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 134; extern void __fastcall __macro sgx_set_multimap( unsigned char __far *multi_map<sgx_scr_bank:sgx_scr_addr>, unsigned char screens_w<sgx_map_scrn_w> );
  980                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 136; extern void __fastcall sgx_draw_map( void );
  981                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 137; extern void __fastcall sgx_scroll_map( void );
  982                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 139; extern void __fastcall sgx_blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
  983                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 141; extern unsigned char __fastcall sgx_get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
  984                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 143; #asm
  985                        		.dbg	clear
  986                        			.macro	_sgx_set_blkmap.2
  987                        			stz	sgx_scr_bank
  988                        			.endm
  989                        			.macro	_sgx_set_multimap.2
  990                        			lda	sgx_bat_width
  991                        			lsr	a
  992                        			sta	sgx_map_line_w
  993                        			.endm
  994                        	
  995                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 153; #endasm
  996                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 155; #endif
  997                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 157; #endif // __HUCC__
  998                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 159; #endif // _hucc_blkmap_h
  999                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 34; // *************
 1000                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 35; // Functions in chrmap.asm ...
 1001                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 36; // *************
 1002                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 38; #ifdef __HUCC__
 1003                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 40; #asmdef	HUCC_USES_CHRMAP 1
 1004               0001     	HUCC_USES_CHRMAP = 1
 1005                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 42; extern void __fastcall __nop set_chrmap( unsigned char __far *chrmap<vdc_map_bank:vdc_map_addr>, unsigned char tiles_w<vdc_map_line_w> );
 1006                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 44; extern void __fastcall draw_bat( void );
 1007                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 45; extern void __fastcall scroll_bat( void );
 1008                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 47; extern void __fastcall blit_bat( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 1009                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 49; #ifdef _SGX
 1010                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 51; extern void __fastcall __nop sgx_set_chrmap( unsigned char __far *chrmap<sgx_map_bank:sgx_map_addr>, unsigned char tiles_w<sgx_map_line_w> );
 1011                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 53; extern void __fastcall sgx_draw_bat( void );
 1012                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 54; extern void __fastcall sgx_scroll_bat( void );
 1013                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 56; extern void __fastcall sgx_blit_bat( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 1014                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 58; #endif
 1015                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 60; #endif // __HUCC__
 1016                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 62; #endif // _hucc_chrmap_h
 1017                        		.dbg	line,	"Black_Tiger.c", 4; #include "hucc-blkmap.h"
 1018                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 1; #ifndef _hucc_blkmap_h
 1019                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 2; #define _hucc_blkmap_h
 1020                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 4; /****************************************************************************
 1021                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 5; ; ***************************************************************************
 1022                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 6; ;
 1023                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 7; ; hucc-blkmap.h
 1024                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 8; ;
 1025                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 9; ; A map system based on 16x16 meta-tiles (aka "blocks", aka CHR/BLK/MAP).
 1026                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 10; ;
 1027                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 11; ; Copyright John Brandwood 2025.
 1028                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 12; ;
 1029                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 1030                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 1031                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 1032                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 16; ;
 1033                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 17; ; ***************************************************************************
 1034                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 18; ; ***************************************************************************
 1035                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 19; ;
 1036                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 20; ; The maximum X and Y size for blkmaps is 128 blocks (2048 pixels).
 1037                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 21; ;
 1038                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 22; ; The maximum total size for a blkmap is 16KBytes, which allows for maps up
 1039                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 23; ; to 128x128 blocks (2048x2048 pixels).
 1040                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 24; ;
 1041                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 25; ; Huge multi-screen blkmaps are also supported (optionally).
 1042                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 26; ;
 1043                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 27; ; The maximum X and Y for multi-screen maps is 128 screens (32768 pixels).
 1044                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 28; ;
 1045                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 29; ; The maximum total size for a multi-screen map is 8KBytes, which allows for
 1046                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 30; ; a total of 1024 screens.
 1047                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 31; ;
 1048                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 32; ; ***************************************************************************
 1049                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 33; ; **************************************************************************/
 1050                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 35; // *************
 1051                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 36; // Functions in blkmap.asm ...
 1052                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 37; // *************
 1053                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 39; #ifdef __HUCC__
 1054                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 41; #asmdef	HUCC_USES_BLKMAP 1
 1055                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 43; // Current top-left of drawn map in pixels.
 1056                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 44; extern unsigned int   vdc_map_pxl_x;
 1057                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 45; extern unsigned int   vdc_map_pxl_y;
 1058                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 47; // Width and height to draw/scroll in characters (not tiles).
 1059                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 48; extern unsigned char  vdc_map_draw_w;
 1060                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 49; extern unsigned char  vdc_map_draw_h;
 1061                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 51; // Width of map (or multi-screen BAT) in tiles.
 1062                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 52; extern unsigned char  vdc_map_line_w;
 1063                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 54; // Width of map in screens (if multi-screen map).
 1064                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 55; extern unsigned char  vdc_map_scrn_w;
 1065                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 57; // Extra information returned by get_map_block() and sgx_get_map_block(),
 1066                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 58; // which are the collision flags and the mask/overlay sprite for the BLK.
 1067                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 59; extern unsigned char  map_blk_flag;
 1068                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 60; extern unsigned char  map_blk_mask;
 1069                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 62; extern unsigned char  vdc_scr_bank;
 1070                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 63; extern unsigned char *vdc_scr_addr;
 1071                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 65; extern unsigned char  vdc_map_bank;
 1072                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 66; extern unsigned char *vdc_map_addr;
 1073                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 68; extern unsigned char  vdc_blk_bank;
 1074                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 69; extern unsigned char *vdc_blk_addr;
 1075                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 71; extern unsigned char  vdc_tbl_bank;
 1076                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 72; extern unsigned char *vdc_tbl_addr;
 1077                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 74; extern void __fastcall set_blocks( unsigned char __far *blk_def<vdc_blk_bank:vdc_blk_addr>, unsigned char __far *flg_def<vdc_tbl_bank:vdc_tbl_addr>, unsigned char number_of_blocks<_al> );
 1078                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 75; extern void __fastcall __macro set_blkmap( unsigned char __far *blk_map<vdc_map_bank:vdc_map_addr>, unsigned char blocks_w<vdc_map_line_w> );
 1079                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 76; extern void __fastcall __macro set_multimap( unsigned char __far *multi_map<vdc_scr_bank:vdc_scr_addr>, unsigned char screens_w<vdc_map_scrn_w> );
 1080                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 78; extern void __fastcall draw_map( void );
 1081                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 79; extern void __fastcall scroll_map( void );
 1082                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 81; extern void __fastcall blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 1083                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 83; extern unsigned char __fastcall get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
 1084                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 85; #asm
 1085                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 86; .macro	_set_blkmap.2
 1086                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 87; stz	vdc_scr_bank
 1087                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 88; .endm
 1088                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 90; .macro	_set_multimap.2
 1089                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 91; lda	vdc_bat_width
 1090                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 92; lsr	a
 1091                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 93; sta	vdc_map_line_w
 1092                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 94; .endm
 1093                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 96; .macro	SCREEN
 1094                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 97; db	(((\1) & $1FFF) | $6000) >> 8, bank(\1)
 1095                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 98; db	(((\2) & $1FFF) | $4000) >> 8, bank(\2)
 1096                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 99; db	(((\3) & $1FFF) | $6000) >> 8, bank(\3)
 1097                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 100; dw	(\4)
 1098                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 101; .endm
 1099                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 102; #endasm
 1100                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 104; #ifdef _SGX
 1101                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 106; // Current top-left of drawn map in pixels.
 1102                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 107; extern unsigned int   sgx_map_pxl_x;
 1103                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 108; extern unsigned int   sgx_map_pxl_y;
 1104                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 110; // Width and height to draw/scroll in characters (not tiles).
 1105                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 111; extern unsigned char  sgx_map_draw_w;
 1106                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 112; extern unsigned char  sgx_map_draw_h;
 1107                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 114; // Width of map (or multi-screen BAT) in tiles.
 1108                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 115; extern unsigned char  sgx_map_line_w;
 1109                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 117; // Width of map in screens (if multi-screen map).
 1110                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 118; extern unsigned char  sgx_map_scrn_w;
 1111                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 120; extern unsigned char  sgx_scr_bank;
 1112                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 121; extern unsigned char *sgx_scr_addr;
 1113                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 123; extern unsigned char  sgx_map_bank;
 1114                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 124; extern unsigned char *sgx_map_addr;
 1115                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 126; extern unsigned char  sgx_blk_bank;
 1116                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 127; extern unsigned char *sgx_blk_addr;
 1117                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 129; extern unsigned char  sgx_tbl_bank;
 1118                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 130; extern unsigned char *sgx_tbl_addr;
 1119                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 132; extern void __fastcall sgx_set_blocks( unsigned char __far *blk_def<sgx_blk_bank:sgx_blk_addr>, unsigned char __far *flg_def<sgx_tbl_bank:sgx_tbl_addr>, unsigned char number_of_blocks<_al> );
 1120                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 133; extern void __fastcall __macro sgx_set_blkmap( unsigned char __far *blk_map<sgx_map_bank:sgx_map_addr>, unsigned char blocks_w<sgx_map_line_w> );
 1121                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 134; extern void __fastcall __macro sgx_set_multimap( unsigned char __far *multi_map<sgx_scr_bank:sgx_scr_addr>, unsigned char screens_w<sgx_map_scrn_w> );
 1122                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 136; extern void __fastcall sgx_draw_map( void );
 1123                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 137; extern void __fastcall sgx_scroll_map( void );
 1124                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 139; extern void __fastcall sgx_blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 1125                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 141; extern unsigned char __fastcall sgx_get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
 1126                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 143; #asm
 1127                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 144; .macro	_sgx_set_blkmap.2
 1128                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 145; stz	sgx_scr_bank
 1129                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 146; .endm
 1130                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 148; .macro	_sgx_set_multimap.2
 1131                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 149; lda	sgx_bat_width
 1132                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 150; lsr	a
 1133                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 151; sta	sgx_map_line_w
 1134                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 152; .endm
 1135                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 153; #endasm
 1136                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 155; #endif
 1137                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 157; #endif // __HUCC__
 1138                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 159; #endif // _hucc_blkmap_h
 1139                        		.dbg	line,	"Black_Tiger.c", 7; #include "include/constants.c"
 1140                        		.dbg	line,	"include\constants.c", 1; //*****************************************************************************//
 1141                        		.dbg	line,	"include\constants.c", 2; //                                                                             //
 1142                        		.dbg	line,	"include\constants.c", 3; //                                SYSTEM CONSTANTS                             //
 1143                        		.dbg	line,	"include\constants.c", 4; //                                                                             //
 1144                        		.dbg	line,	"include\constants.c", 5; //*****************************************************************************//
 1145                        		.dbg	line,	"include\constants.c", 7; #define FALSE 0
 1146                        		.dbg	line,	"include\constants.c", 8; #define TRUE  1
 1147                        		.dbg	line,	"include\constants.c", 10; #define YES   1
 1148                        		.dbg	line,	"include\constants.c", 11; #define NO    2
 1149                        		.dbg	line,	"include\constants.c", 13; #define JOYPAD_1 0
 1150                        		.dbg	line,	"include\constants.c", 14; #define JOYPAD_2 1
 1151                        		.dbg	line,	"include\constants.c", 16; #define BAT_SIZE_W 2048 // IN PIXELS
 1152                        		.dbg	line,	"include\constants.c", 17; #define BAT_SIZE_H 256  // IN PIXELS
 1153                        		.dbg	line,	"include\constants.c", 19; #define NUMBERS_FONT_VRAM_ADR   0x0900
 1154                        		.dbg	line,	"include\constants.c", 21; #define JOY_DIR_PRESSED (JOY_DOWN | JOY_UP | JOY_RIGHT | JOY_LEFT)
 1155                        		.dbg	line,	"include\constants.c", 24; #define TILES_1   16
 1156                        		.dbg	line,	"include\constants.c", 25; #define TILES_2   32
 1157                        		.dbg	line,	"include\constants.c", 26; #define TILES_3   48
 1158                        		.dbg	line,	"include\constants.c", 27; #define TILES_4   64
 1159                        		.dbg	line,	"include\constants.c", 28; #define TILES_8   128
 1160                        		.dbg	line,	"include\constants.c", 29; #define TILES_12  192
 1161                        		.dbg	line,	"include\constants.c", 30; #define TILES_16  256
 1162                        		.dbg	line,	"include\constants.c", 31; #define TILES_24  384
 1163                        		.dbg	line,	"include\constants.c", 32; #define TILES_32  512
 1164                        		.dbg	line,	"include\constants.c", 33; #define TILES_48  768
 1165                        		.dbg	line,	"include\constants.c", 34; #define TILES_64  1024
 1166                        		.dbg	line,	"include\constants.c", 35; #define TILES_80  1280
 1167                        		.dbg	line,	"include\constants.c", 36; #define TILES_96  1536
 1168                        		.dbg	line,	"include\constants.c", 37; #define TILES_128 2048
 1169                        		.dbg	line,	"include\constants.c", 38; #define TILES_144 2304
 1170                        		.dbg	line,	"include\constants.c", 39; #define TILES_160 2560
 1171                        		.dbg	line,	"include\constants.c", 40; #define TILES_256 4096
 1172                        		.dbg	line,	"include\constants.c", 41; #define TILES_384 6144
 1173                        		.dbg	line,	"include\constants.c", 42; #define TILES_400 6400
 1174                        		.dbg	line,	"include\constants.c", 47; #define SEQUENCE_TITLE          0
 1175                        		.dbg	line,	"include\constants.c", 48; #define SEQUENCE_INTRO          1
 1176                        		.dbg	line,	"include\constants.c", 49; #define SEQUENCE_LEVEL          2
 1177                        		.dbg	line,	"include\constants.c", 50; #define SEQUENCE_NPC            3
 1178                        		.dbg	line,	"include\constants.c", 51; #define SEQUENCE_SHOP           4
 1179                        		.dbg	line,	"include\constants.c", 56; #define CAMERA_RECENTER_VELOCITY    6
 1180                        		.dbg	line,	"include\constants.c", 61; //-----------------------------------------------------------------------------//
 1181                        		.dbg	line,	"include\constants.c", 62; //                                                                             //
 1182                        		.dbg	line,	"include\constants.c", 63; //                                    INTRO                                    //
 1183                        		.dbg	line,	"include\constants.c", 64; //                                                                             //
 1184                        		.dbg	line,	"include\constants.c", 65; //-----------------------------------------------------------------------------//
 1185                        		.dbg	line,	"include\constants.c", 67; #define DRAGON_INTRO_VRAM_ADR       0x2C00
 1186                        		.dbg	line,	"include\constants.c", 72; //-----------------------------------------------------------------------------//
 1187                        		.dbg	line,	"include\constants.c", 73; //                                                                             //
 1188                        		.dbg	line,	"include\constants.c", 74; //                                   PLAYER                                    //
 1189                        		.dbg	line,	"include\constants.c", 75; //                                                                             //
 1190                        		.dbg	line,	"include\constants.c", 76; //-----------------------------------------------------------------------------//
 1191                        		.dbg	line,	"include\constants.c", 78; #define AXIS_RIGHT          0
 1192                        		.dbg	line,	"include\constants.c", 79; #define AXIS_LEFT           1
 1193                        		.dbg	line,	"include\constants.c", 80; #define AXIS_UP             2
 1194                        		.dbg	line,	"include\constants.c", 81; #define AXIS_DOWN           3
 1195                        		.dbg	line,	"include\constants.c", 85; #define STATE_IDLE          0
 1196                        		.dbg	line,	"include\constants.c", 86; #define STATE_WALK          1
 1197                        		.dbg	line,	"include\constants.c", 87; #define STATE_ATTACK        2
 1198                        		.dbg	line,	"include\constants.c", 88; #define STATE_JUMP          4
 1199                        		.dbg	line,	"include\constants.c", 89; #define STATE_JUMP_RIGHT    5
 1200                        		.dbg	line,	"include\constants.c", 90; #define STATE_JUMP_LEFT     6
 1201                        		.dbg	line,	"include\constants.c", 91; #define STATE_CROUCH        7
 1202                        		.dbg	line,	"include\constants.c", 92; #define STATE_CROUCH_ATTACK 8
 1203                        		.dbg	line,	"include\constants.c", 93; #define STATE_FALL          9
 1204                        		.dbg	line,	"include\constants.c", 94; #define STATE_HANG          10
 1205                        		.dbg	line,	"include\constants.c", 95; #define STATE_CLIMB_UP      11
 1206                        		.dbg	line,	"include\constants.c", 96; #define STATE_CLIMB_DOWN    12
 1207                        		.dbg	line,	"include\constants.c", 97; #define STATE_JUMP_LADDER   13
 1208                        		.dbg	line,	"include\constants.c", 98; #define STATE_HANG_ATTACK   14
 1209                        		.dbg	line,	"include\constants.c", 103; #define PLAYER_BASE_Y_POS   128
 1210                        		.dbg	line,	"include\constants.c", 105; #define RESPAWN_DEAD        1
 1211                        		.dbg	line,	"include\constants.c", 106; #define RESPAWN_SHOP        2
 1212                        		.dbg	line,	"include\constants.c", 108; #define PLAYER_START_INDEX  14
 1213                        		.dbg	line,	"include\constants.c", 112; #define PLAYER_VRAM_ADR                     0x1800
 1214                        		.dbg	line,	"include\constants.c", 113; #define PLAYER_IDLE_VRAM_ADR                PLAYER_VRAM_ADR
 1215                        		.dbg	line,	"include\constants.c", 114; #define PLAYER_WALK_1_VRAM_ADR              PLAYER_VRAM_ADR+TILES_16
 1216                        		.dbg	line,	"include\constants.c", 115; #define PLAYER_WALK_2_VRAM_ADR              PLAYER_WALK_1_VRAM_ADR+TILES_16
 1217                        		.dbg	line,	"include\constants.c", 116; #define PLAYER_WALK_3_VRAM_ADR              PLAYER_WALK_2_VRAM_ADR+TILES_16
 1218                        		.dbg	line,	"include\constants.c", 117; #define PLAYER_WALK_4_VRAM_ADR              PLAYER_WALK_3_VRAM_ADR+TILES_16
 1219                        		.dbg	line,	"include\constants.c", 118; #define PLAYER_WALK_5_VRAM_ADR              PLAYER_WALK_4_VRAM_ADR+TILES_16
 1220                        		.dbg	line,	"include\constants.c", 119; #define PLAYER_WALK_6_VRAM_ADR              PLAYER_WALK_5_VRAM_ADR+TILES_16
 1221                        		.dbg	line,	"include\constants.c", 121; #define PLAYER_JUMP_VRAM_ADR                PLAYER_WALK_6_VRAM_ADR+TILES_16
 1222                        		.dbg	line,	"include\constants.c", 122; #define PLAYER_CROUCH_VRAM_ADR              PLAYER_JUMP_VRAM_ADR+TILES_16
 1223                        		.dbg	line,	"include\constants.c", 123; #define PLAYER_HANG_VRAM_ADR                PLAYER_CROUCH_VRAM_ADR+TILES_16
 1224                        		.dbg	line,	"include\constants.c", 125; #define PLAYER_CLIMB_1_VRAM_ADR             PLAYER_HANG_VRAM_ADR+TILES_16
 1225                        		.dbg	line,	"include\constants.c", 126; #define PLAYER_CLIMB_2_VRAM_ADR             PLAYER_CLIMB_1_VRAM_ADR+TILES_16
 1226                        		.dbg	line,	"include\constants.c", 127; #define PLAYER_CLIMB_3_VRAM_ADR             PLAYER_CLIMB_2_VRAM_ADR+TILES_16
 1227                        		.dbg	line,	"include\constants.c", 128; #define PLAYER_CLIMB_4_VRAM_ADR             PLAYER_CLIMB_3_VRAM_ADR+TILES_16
 1228                        		.dbg	line,	"include\constants.c", 129; #define PLAYER_CLIMB_5_VRAM_ADR             PLAYER_CLIMB_4_VRAM_ADR+TILES_16
 1229                        		.dbg	line,	"include\constants.c", 130; #define PLAYER_CLIMB_6_VRAM_ADR             PLAYER_CLIMB_5_VRAM_ADR+TILES_16
 1230                        		.dbg	line,	"include\constants.c", 132; #define PLAYER_FALL_VRAM_ADR                PLAYER_CLIMB_6_VRAM_ADR+TILES_16
 1231                        		.dbg	line,	"include\constants.c", 134; #define PLAYER_ATTACK_1_VRAM_ADR            PLAYER_FALL_VRAM_ADR+TILES_16
 1232                        		.dbg	line,	"include\constants.c", 135; #define PLAYER_ATTACK_2_VRAM_ADR            PLAYER_ATTACK_1_VRAM_ADR+TILES_16
 1233                        		.dbg	line,	"include\constants.c", 137; #define PLAYER_CROUCH_ATTACK_1_VRAM_ADR     PLAYER_ATTACK_2_VRAM_ADR+TILES_16
 1234                        		.dbg	line,	"include\constants.c", 138; #define PLAYER_CROUCH_ATTACK_2_VRAM_ADR     PLAYER_CROUCH_ATTACK_1_VRAM_ADR+TILES_16
 1235                        		.dbg	line,	"include\constants.c", 140; #define PLAYER_JUMP_ATTACK_1_VRAM_ADR       PLAYER_CROUCH_ATTACK_2_VRAM_ADR+TILES_16
 1236                        		.dbg	line,	"include\constants.c", 141; #define PLAYER_JUMP_ATTACK_2_VRAM_ADR       PLAYER_JUMP_ATTACK_1_VRAM_ADR+TILES_16
 1237                        		.dbg	line,	"include\constants.c", 143; #define PLAYER_HANG_ATTACK_1_VRAM_ADR       PLAYER_JUMP_ATTACK_2_VRAM_ADR+TILES_16
 1238                        		.dbg	line,	"include\constants.c", 144; #define PLAYER_HANG_ATTACK_2_VRAM_ADR       PLAYER_HANG_ATTACK_1_VRAM_ADR+TILES_16
 1239                        		.dbg	line,	"include\constants.c", 149; //-----------------------------------------------------------------------------//
 1240                        		.dbg	line,	"include\constants.c", 150; //                                                                             //
 1241                        		.dbg	line,	"include\constants.c", 151; //                                  WEAPONS                                    //
 1242                        		.dbg	line,	"include\constants.c", 152; //                                                                             //
 1243                        		.dbg	line,	"include\constants.c", 153; //-----------------------------------------------------------------------------//
 1244                        		.dbg	line,	"include\constants.c", 155; #define CHAIN_VRAM_ADR                  0x7C00
 1245                        		.dbg	line,	"include\constants.c", 156; #define WEAPON_VRAM_ADR                 CHAIN_VRAM_ADR+TILES_4
 1246                        		.dbg	line,	"include\constants.c", 157; #define CHAIN_START_INDEX               PLAYER_START_INDEX-3
 1247                        		.dbg	line,	"include\constants.c", 159; #define WEAPON_IDLE_VRAM_ADRESS         WEAPON_VRAM_ADR
 1248                        		.dbg	line,	"include\constants.c", 160; #define WEAPON_WALK_1_VRAM_ADRESS       WEAPON_IDLE_VRAM_ADRESS+TILES_4
 1249                        		.dbg	line,	"include\constants.c", 161; #define WEAPON_WALK_2_VRAM_ADRESS       WEAPON_WALK_1_VRAM_ADRESS+TILES_4
 1250                        		.dbg	line,	"include\constants.c", 163; #define WEAPON_ATTACK_1_VRAM_ADRESS     WEAPON_WALK_2_VRAM_ADRESS+TILES_4
 1251                        		.dbg	line,	"include\constants.c", 164; #define WEAPON_ATTACK_2_VRAM_ADRESS     WEAPON_ATTACK_1_VRAM_ADRESS+TILES_4
 1252                        		.dbg	line,	"include\constants.c", 169; //-----------------------------------------------------------------------------//
 1253                        		.dbg	line,	"include\constants.c", 170; //                                                                             //
 1254                        		.dbg	line,	"include\constants.c", 171; //                                  COLLISIONS                                 //
 1255                        		.dbg	line,	"include\constants.c", 172; //                                                                             //
 1256                        		.dbg	line,	"include\constants.c", 173; //-----------------------------------------------------------------------------//
 1257                        		.dbg	line,	"include\constants.c", 175; #define TILE_EMPTY          0
 1258                        		.dbg	line,	"include\constants.c", 176; #define TILE_BG             1
 1259                        		.dbg	line,	"include\constants.c", 177; #define TILE_LADDER         2
 1260                        		.dbg	line,	"include\constants.c", 182; //-----------------------------------------------------------------------------//
 1261                        		.dbg	line,	"include\constants.c", 183; //                                                                             //
 1262                        		.dbg	line,	"include\constants.c", 184; //                                     HUD                                     //
 1263                        		.dbg	line,	"include\constants.c", 185; //                                                                             //
 1264                        		.dbg	line,	"include\constants.c", 186; //-----------------------------------------------------------------------------//
 1265                        		.dbg	line,	"include\constants.c", 188; #define LIFEBAR_1_VRAM_ADR      0x1000
 1266                        		.dbg	line,	"include\constants.c", 189; #define LIFEBAR_2_VRAM_ADR      LIFEBAR_1_VRAM_ADR+TILES_2
 1267                        		.dbg	line,	"include\constants.c", 190; #define LIFEBAR_3_VRAM_ADR      LIFEBAR_2_VRAM_ADR+TILES_2
 1268                        		.dbg	line,	"include\constants.c", 191; #define LIFEBAR_4_VRAM_ADR      LIFEBAR_3_VRAM_ADR+TILES_2
 1269                        		.dbg	line,	"include\constants.c", 192; #define LIFEBAR_5_VRAM_ADR      LIFEBAR_4_VRAM_ADR+TILES_2
 1270                        		.dbg	line,	"include\constants.c", 194; #define WEAPON_ICON_VRAM_ADR    LIFEBAR_5_VRAM_ADR+TILES_2
 1271                        		.dbg	line,	"include\constants.c", 195; #define ARMOR_VRAM_ADR          WEAPON_ICON_VRAM_ADR+TILES_4
 1272                        		.dbg	line,	"include\constants.c", 200; //-----------------------------------------------------------------------------//
 1273                        		.dbg	line,	"include\constants.c", 201; //                                                                             //
 1274                        		.dbg	line,	"include\constants.c", 202; //                                    LEVELS                                   //
 1275                        		.dbg	line,	"include\constants.c", 203; //                                                                             //
 1276                        		.dbg	line,	"include\constants.c", 204; //-----------------------------------------------------------------------------//
 1277                        		.dbg	line,	"include\constants.c", 206; #define LV1_WALL_VRAM_ADR       0x1000
 1278                        		.dbg	line,	"include\constants.c", 207; #define LV1_DOOR_VRAM_ADR       LV1_WALL_VRAM_ADR+256
 1279                        		.dbg	line,	"include\constants.c", 212; #define OBJECT_NUMBER_LV1       23
 1280                        		.dbg	line,	"include\constants.c", 213; #define CHEST_NUMBER_LV1        2
 1281                        		.dbg	line,	"include\constants.c", 214; #define NPC_NUMBER_LV1          2
 1282                        		.dbg	line,	"include\constants.c", 216; #define OBJECT_START_INDEX_LV1  0
 1283                        		.dbg	line,	"include\constants.c", 217; #define CHEST_START_INDEX_LV1   OBJECT_START_INDEX_LV1+OBJECT_NUMBER_LV1
 1284                        		.dbg	line,	"include\constants.c", 218; #define NPC_START_INDEX_LV1     CHEST_START_INDEX_LV1+CHEST_NUMBER_LV1
 1285                        		.dbg	line,	"include\constants.c", 223; //-----------------------------------------------------------------------------//
 1286                        		.dbg	line,	"include\constants.c", 224; //                                                                             //
 1287                        		.dbg	line,	"include\constants.c", 225; //                                   OBJECT                                    //
 1288                        		.dbg	line,	"include\constants.c", 226; //                                                                             //
 1289                        		.dbg	line,	"include\constants.c", 227; //-----------------------------------------------------------------------------//
 1290                        		.dbg	line,	"include\constants.c", 229; #define TYPE_HOURGLASS          0
 1291                        		.dbg	line,	"include\constants.c", 230; #define TYPE_POT                1
 1292                        		.dbg	line,	"include\constants.c", 231; #define TYPE_POW                2
 1293                        		.dbg	line,	"include\constants.c", 232; #define TYPE_CHEST              3
 1294                        		.dbg	line,	"include\constants.c", 233; #define TYPE_GRAY_KEY           4
 1295                        		.dbg	line,	"include\constants.c", 234; #define TYPE_GOLD_KEY           5
 1296                        		.dbg	line,	"include\constants.c", 235; #define TYPE_1UP                6
 1297                        		.dbg	line,	"include\constants.c", 236; #define TYPE_COIN_1             7
 1298                        		.dbg	line,	"include\constants.c", 237; #define TYPE_COIN_5             8
 1299                        		.dbg	line,	"include\constants.c", 238; #define TYPE_COIN_10            9
 1300                        		.dbg	line,	"include\constants.c", 239; #define TYPE_COIN_50            10
 1301                        		.dbg	line,	"include\constants.c", 240; #define TYPE_COIN_100           11
 1302                        		.dbg	line,	"include\constants.c", 241; #define TYPE_COIN_500           12
 1303                        		.dbg	line,	"include\constants.c", 242; #define TYPE_COIN_1000          13
 1304                        		.dbg	line,	"include\constants.c", 243; #define TYPE_YASHICHI           14
 1305                        		.dbg	line,	"include\constants.c", 244; #define TYPE_NULL               99
 1306                        		.dbg	line,	"include\constants.c", 247; #define STATE_FREE              0
 1307                        		.dbg	line,	"include\constants.c", 248; #define STATE_ACTIVE            1
 1308                        		.dbg	line,	"include\constants.c", 249; #define STATE_HIT               2
 1309                        		.dbg	line,	"include\constants.c", 250; #define STATE_DROPPED           3
 1310                        		.dbg	line,	"include\constants.c", 252; #define OBJECT_MARGIN           10//9
 1311                        		.dbg	line,	"include\constants.c", 255; #define POT1_VRAM_ADR           0x6800
 1312                        		.dbg	line,	"include\constants.c", 256; #define POT2_VRAM_ADR           POT1_VRAM_ADR+TILES_4
 1313                        		.dbg	line,	"include\constants.c", 257; #define POT3_VRAM_ADR           POT2_VRAM_ADR+TILES_4
 1314                        		.dbg	line,	"include\constants.c", 258; #define POT4_VRAM_ADR           POT3_VRAM_ADR+TILES_4
 1315                        		.dbg	line,	"include\constants.c", 259; #define POT5_VRAM_ADR           POT4_VRAM_ADR+TILES_4
 1316                        		.dbg	line,	"include\constants.c", 260; #define POT6_VRAM_ADR           POT5_VRAM_ADR+TILES_4
 1317                        		.dbg	line,	"include\constants.c", 261; #define POT7_VRAM_ADR           POT6_VRAM_ADR+TILES_4
 1318                        		.dbg	line,	"include\constants.c", 262; #define POT8_VRAM_ADR           POT7_VRAM_ADR+TILES_4
 1319                        		.dbg	line,	"include\constants.c", 264; #define POW_VRAM_ADR            POT8_VRAM_ADR+TILES_4
 1320                        		.dbg	line,	"include\constants.c", 265; #define GRAY_KEY_VRAM_ADR       POW_VRAM_ADR+TILES_4
 1321                        		.dbg	line,	"include\constants.c", 266; #define COIN_1_VRAM_ADR         GRAY_KEY_VRAM_ADR+TILES_4
 1322                        		.dbg	line,	"include\constants.c", 267; #define COIN_5_VRAM_ADR         COIN_1_VRAM_ADR+TILES_4
 1323                        		.dbg	line,	"include\constants.c", 268; #define COIN_10_VRAM_ADR        COIN_5_VRAM_ADR+TILES_4
 1324                        		.dbg	line,	"include\constants.c", 269; #define COIN_50_VRAM_ADR        COIN_10_VRAM_ADR+TILES_4
 1325                        		.dbg	line,	"include\constants.c", 270; #define COIN_100_VRAM_ADR       COIN_50_VRAM_ADR+TILES_4
 1326                        		.dbg	line,	"include\constants.c", 271; #define COIN_500_VRAM_ADR       COIN_100_VRAM_ADR+TILES_4
 1327                        		.dbg	line,	"include\constants.c", 272; #define COIN_1000_VRAM_ADR      COIN_500_VRAM_ADR+TILES_4
 1328                        		.dbg	line,	"include\constants.c", 274; #define STAR_VRAM_ADR           COIN_1000_VRAM_ADR+TILES_4
 1329                        		.dbg	line,	"include\constants.c", 275; #define OCTOPUS_VRAM_ADR        STAR_VRAM_ADR+TILES_4
 1330                        		.dbg	line,	"include\constants.c", 276; #define FRUIT_VRAM_ADR          OCTOPUS_VRAM_ADR+TILES_4
 1331                        		.dbg	line,	"include\constants.c", 277; #define BARREL_VRAM_ADR         FRUIT_VRAM_ADR+TILES_4
 1332                        		.dbg	line,	"include\constants.c", 278; #define HOURGLASS_VRAM_ADR      BARREL_VRAM_ADR+TILES_4
 1333                        		.dbg	line,	"include\constants.c", 279; #define BAMBOO_VRAM_ADR         HOURGLASS_VRAM_ADR+TILES_4
 1334                        		.dbg	line,	"include\constants.c", 280; #define YASHICHI_VRAM_ADR       BAMBOO_VRAM_ADR+TILES_4
 1335                        		.dbg	line,	"include\constants.c", 281; #define ELEPHANT_VRAM_ADR       YASHICHI_VRAM_ADR+TILES_4
 1336                        		.dbg	line,	"include\constants.c", 282; #define DRAGONFLY_VRAM_ADR      ELEPHANT_VRAM_ADR+TILES_4
 1337                        		.dbg	line,	"include\constants.c", 283; #define COW_VRAM_ADR            DRAGONFLY_VRAM_ADR+TILES_4
 1338                        		.dbg	line,	"include\constants.c", 284; #define MOBICHAN_VRAM_ADR       COW_VRAM_ADR+TILES_4
 1339                        		.dbg	line,	"include\constants.c", 286; #define CHEST_VRAM_ADR          MOBICHAN_VRAM_ADR+TILES_4
 1340                        		.dbg	line,	"include\constants.c", 287; #define NPC_1_VRAM_ADR          CHEST_VRAM_ADR+TILES_96
 1341                        		.dbg	line,	"include\constants.c", 288; #define NPC_2_VRAM_ADR          NPC_1_VRAM_ADR+TILES_16
 1342                        		.dbg	line,	"include\constants.c", 289; #define NPC_3_VRAM_ADR          NPC_2_VRAM_ADR+TILES_16
 1343                        		.dbg	line,	"include\constants.c", 290; #define NPC_4_VRAM_ADR          NPC_3_VRAM_ADR+TILES_16
 1344                        		.dbg	line,	"include\constants.c", 291; #define NPC_5_VRAM_ADR          NPC_4_VRAM_ADR+TILES_16
 1345                        		.dbg	line,	"include\constants.c", 292; #define NPC_6_VRAM_ADR          NPC_5_VRAM_ADR+TILES_16
 1346                        		.dbg	line,	"include\constants.c", 297; //-----------------------------------------------------------------------------//
 1347                        		.dbg	line,	"include\constants.c", 298; //                                                                             //
 1348                        		.dbg	line,	"include\constants.c", 299; //                                    NPC                                      //
 1349                        		.dbg	line,	"include\constants.c", 300; //                                                                             //
 1350                        		.dbg	line,	"include\constants.c", 301; //-----------------------------------------------------------------------------//
 1351                        		.dbg	line,	"include\constants.c", 303; #define TYPE_NPC_ZENNY          0
 1352                        		.dbg	line,	"include\constants.c", 304; #define TYPE_NPC_TIME           1
 1353                        		.dbg	line,	"include\constants.c", 305; #define TYPE_NPC_SHOP           2
 1354                        		.dbg	line,	"include\constants.c", 310; //-----------------------------------------------------------------------------//
 1355                        		.dbg	line,	"include\constants.c", 311; //                                                                             //
 1356                        		.dbg	line,	"include\constants.c", 312; //                                    SHOP                                     //
 1357                        		.dbg	line,	"include\constants.c", 313; //                                                                             //
 1358                        		.dbg	line,	"include\constants.c", 314; //-----------------------------------------------------------------------------//
 1359                        		.dbg	line,	"include\constants.c", 316; #define SHOP_PHASE_ENTER        0
 1360                        		.dbg	line,	"include\constants.c", 317; #define SHOP_PHASE_BUY          1
 1361                        		.dbg	line,	"include\constants.c", 318; #define SHOP_PHASE_EXIT         2
 1362                        		.dbg	line,	"include\constants.c", 320; #define TYPE_ITEM_WEAPON_2      0
 1363                        		.dbg	line,	"include\constants.c", 321; #define TYPE_ITEM_WEAPON_3      1
 1364                        		.dbg	line,	"include\constants.c", 322; #define TYPE_ITEM_WEAPON_4      2
 1365                        		.dbg	line,	"include\constants.c", 323; #define TYPE_ITEM_WEAPON_5      3
 1366                        		.dbg	line,	"include\constants.c", 324; #define TYPE_ITEM_KEY           4
 1367                        		.dbg	line,	"include\constants.c", 326; #define TYPE_ITEM_ARMOR_2       5
 1368                        		.dbg	line,	"include\constants.c", 327; #define TYPE_ITEM_ARMOR_3       6
 1369                        		.dbg	line,	"include\constants.c", 328; #define TYPE_ITEM_ARMOR_4       7
 1370                        		.dbg	line,	"include\constants.c", 329; #define TYPE_ITEM_ARMOR_5       8
 1371                        		.dbg	line,	"include\constants.c", 330; #define TYPE_ITEM_POTION        9
 1372                        		.dbg	line,	"include\constants.c", 335; //-----------------------------------------------------------------------------//
 1373                        		.dbg	line,	"include\constants.c", 336; //                                                                             //
 1374                        		.dbg	line,	"include\constants.c", 337; //                                   ENEMIES                                   //
 1375                        		.dbg	line,	"include\constants.c", 338; //                                                                             //
 1376                        		.dbg	line,	"include\constants.c", 339; //-----------------------------------------------------------------------------//
 1377                        		.dbg	line,	"include\constants.c", 341; //-----------------------------------------------------------------------------//
 1378                        		.dbg	line,	"include\constants.c", 342; //                                     ORC                                     //
 1379                        		.dbg	line,	"include\constants.c", 343; //-----------------------------------------------------------------------------//
 1380                        		.dbg	line,	"include\constants.c", 345; #define ORC_VRAM_ADR                     PLAYER_HANG_ATTACK_2_VRAM_ADR+TILES_16
 1381                        		.dbg	line,	"include\constants.c", 347; #define ORC_WALK_1_VRAM_ADR              ORC_VRAM_ADR
 1382                        		.dbg	line,	"include\constants.c", 348; #define ORC_WALK_2_VRAM_ADR              ORC_WALK_1_VRAM_ADR+TILES_16
 1383                        		.dbg	line,	"include\constants.c", 349; #define ORC_WALK_3_VRAM_ADR              ORC_WALK_2_VRAM_ADR+TILES_16
 1384                        		.dbg	line,	"include\constants.c", 350; #define ORC_ATTACK_1_VRAM_ADR            ORC_WALK_3_VRAM_ADR+TILES_16
 1385                        		.dbg	line,	"include\constants.c", 352; #define ORC_ATTACK_2_VRAM_ADR            ORC_ATTACK_1_VRAM_ADR+TILES_16
 1386                        		.dbg	line,	"include\constants.c", 353; #define ORC_ATTACK_3_VRAM_ADR            ORC_ATTACK_2_VRAM_ADR+TILES_16
 1387                        		.dbg	line,	"include\constants.c", 354; #define ORC_ATTACK_4_VRAM_ADR            ORC_ATTACK_3_VRAM_ADR+TILES_16
 1388                        		.dbg	line,	"include\constants.c", 355; #define ORC_ATTACK_5_VRAM_ADR            ORC_ATTACK_4_VRAM_ADR+TILES_16
 1389                        		.dbg	line,	"include\constants.c", 356; #define ORC_ATTACK_6_VRAM_ADR            ORC_ATTACK_5_VRAM_ADR+TILES_16
 1390                        		.dbg	line,	"include\constants.c", 358; #define ORC_DEAD_1_VRAM_ADR              ORC_ATTACK_6_VRAM_ADR+TILES_16
 1391                        		.dbg	line,	"include\constants.c", 359; #define ORC_DEAD_2_VRAM_ADR              ORC_DEAD_1_VRAM_ADR+TILES_16
 1392                        		.dbg	line,	"include\constants.c", 360; #define ORC_DEAD_3_VRAM_ADR              ORC_DEAD_2_VRAM_ADR+TILES_16
 1393                        		.dbg	line,	"include\constants.c", 361; #define ORC_DEAD_4_VRAM_ADR              ORC_DEAD_3_VRAM_ADR+TILES_16
 1394                        		.dbg	line,	"include\constants.c", 363; #define ORC_AXE_1_VRAM_ADR               ORC_DEAD_4_VRAM_ADR+TILES_16
 1395                        		.dbg	line,	"include\constants.c", 364; #define ORC_AXE_2_VRAM_ADR               ORC_AXE_1_VRAM_ADR+TILES_4
 1396                        		.dbg	line,	"include\constants.c", 365; #define ORC_AXE_3_VRAM_ADR               ORC_AXE_2_VRAM_ADR+TILES_4
 1397                        		.dbg	line,	"include\constants.c", 366; #define ORC_AXE_4_VRAM_ADR               ORC_AXE_3_VRAM_ADR+TILES_4
 1398                        		.dbg	line,	"include\constants.c", 367; #define ORC_AXE_5_VRAM_ADR               ORC_AXE_4_VRAM_ADR+TILES_4
 1399                        		.dbg	line,	"include\constants.c", 368; #define ORC_AXE_6_VRAM_ADR               ORC_AXE_5_VRAM_ADR+TILES_4
 1400                        		.dbg	line,	"include\constants.c", 371; //-----------------------------------------------------------------------------//
 1401                        		.dbg	line,	"include\constants.c", 372; //                                                                             //
 1402                        		.dbg	line,	"include\constants.c", 373; //                                   SERPENT                                   //
 1403                        		.dbg	line,	"include\constants.c", 374; //                                                                             //
 1404                        		.dbg	line,	"include\constants.c", 375; //-----------------------------------------------------------------------------//
 1405                        		.dbg	line,	"include\constants.c", 377; #define SERPENT_VRAM_ADR                    ORC_AXE_6_VRAM_ADR+TILES_4
 1406                        		.dbg	line,	"include\constants.c", 378; #define SERPENT_LEFT_VRAM_ADR               SERPENT_VRAM_ADR
 1407                        		.dbg	line,	"include\constants.c", 379; #define SERPENT_FRONT_VRAM_ADR              SERPENT_LEFT_VRAM_ADR+TILES_16
 1408                        		.dbg	line,	"include\constants.c", 380; #define SERPENT_RIGHT_VRAM_ADR              SERPENT_FRONT_VRAM_ADR+TILES_16
 1409                        		.dbg	line,	"include\constants.c", 381; #define SERPENT_ATTACK_LEFT_VRAM_ADR        SERPENT_RIGHT_VRAM_ADR+TILES_16
 1410                        		.dbg	line,	"include\constants.c", 382; #define SERPENT_ATTACK_FRONT_VRAM_ADR       SERPENT_ATTACK_LEFT_VRAM_ADR+TILES_16
 1411                        		.dbg	line,	"include\constants.c", 383; #define SERPENT_ATTACK_RIGHT_VRAM_ADR       SERPENT_ATTACK_FRONT_VRAM_ADR+TILES_16
 1412                        		.dbg	line,	"include\constants.c", 386; //-----------------------------------------------------------------------------//
 1413                        		.dbg	line,	"include\constants.c", 387; //                                                                             //
 1414                        		.dbg	line,	"include\constants.c", 388; //                                    PLANT                                    //
 1415                        		.dbg	line,	"include\constants.c", 389; //                                                                             //
 1416                        		.dbg	line,	"include\constants.c", 390; //-----------------------------------------------------------------------------//
 1417                        		.dbg	line,	"include\constants.c", 392; #define PLANT_VRAM_ADR                      SERPENT_ATTACK_RIGHT_VRAM_ADR+TILES_16
 1418                        		.dbg	line,	"include\constants.c", 393; #define PLANT_IDLE_VRAM_ADR                 PLANT_VRAM_ADR
 1419                        		.dbg	line,	"Black_Tiger.c", 8; #include "include/variables.c"
 1420                        		.dbg	line,	"include\variables.c", 1; #include "huc.h"
 1421                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 1; #ifndef _hucc_legacy_h
 1422                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 2; #define _hucc_legacy_h
 1423                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 4; /****************************************************************************
 1424                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 5; ; ***************************************************************************
 1425                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 6; ;
 1426                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 7; ; huc.h
 1427                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 8; ;
 1428                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 9; ; HuCC wrapper file to include a default set of HuC-compatible functions.
 1429                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 10; ;
 1430                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 11; ; Copyright John Brandwood 2024.
 1431                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 12; ;
 1432                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 1433                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 1434                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 1435                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 16; ;
 1436                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 17; ; ***************************************************************************
 1437                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 18; ; ***************************************************************************
 1438                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 19; ;
 1439                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 20; ; When the HuCC compiler is invoked with the "--legacy" option to compile old
 1440                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 21; ; projects, then this "huc.h" file is automatically included.
 1441                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 22; ;
 1442                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 23; ; This file includes a set of the individual HuCC headers which correspond to
 1443                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 24; ; HuC's built-in functions and MagicKit library.
 1444                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 25; ;
 1445                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 26; ; New HuCC projects should, preferably, include the specific headers that are
 1446                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 27; ; needed, which will then allow them to replace parts of the standard library
 1447                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 28; ; with newer functions, or they can just manually include this "huc.h" file.
 1448                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 29; ;
 1449                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 30; ; ***************************************************************************
 1450                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 31; ; **************************************************************************/
 1451                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 33; #include "hucc-systemcard.h"
 1452                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 34; #include "hucc-baselib.h"
 1453                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 35; #include "hucc-gfx.h"
 1454                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 36; #include "hucc-old-scroll.h"
 1455                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 37; #include "hucc-old-spr.h"
 1456                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 38; #include "hucc-old-map.h"
 1457                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 39; #include "hucc-old-line.h"
 1458                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 41; #include <stdlib.h>
 1459                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 42; #include <string.h>
 1460                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 44; #endif // _hucc_legacy_h
 1461                        		.dbg	line,	"include\variables.c", 2; #include "hucc-scroll.h"
 1462                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 1; #ifndef _hucc_scroll_h
 1463                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 2; #define _hucc_scroll_h
 1464                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 4; /****************************************************************************
 1465                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 5; ; ***************************************************************************
 1466                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 6; ;
 1467                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 7; ; hucc-scroll.h
 1468                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 8; ;
 1469                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 9; ; Routines for a fast split-screen scrolling system.
 1470                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 10; ;
 1471                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 11; ; Copyright John Brandwood 2024.
 1472                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 12; ;
 1473                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 1474                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 1475                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 1476                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 16; ;
 1477                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 17; ; ***************************************************************************
 1478                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 18; ; ***************************************************************************
 1479                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 19; ;
 1480                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 20; ; The maximum number of splits for each screen layer is set in your project's
 1481                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 21; ; "hucc-config.inc" file, with the library having a limit of 128-per-layer.
 1482                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 22; ;
 1483                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 23; ; Your first active split must be defined to start at screen line 0, and then
 1484                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 24; ; the rest of the active splits must be in increasing line order to match the
 1485                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 25; ; way that the PC Engine displays the output image.
 1486                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 26; ;
 1487                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 27; ; You can have disabled splits interleaved with your active splits.
 1488                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 28; ;
 1489                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 29; ; Splits that are normally disabled can be used to create full screen effects
 1490                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 30; ; such as bouncing the screen up and down by adding blank areas at the top or
 1491                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 31; ; bottom of the screen, and then rapidly changing the height of those areas.
 1492                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 32; ;
 1493                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 33; ; ***************************************************************************
 1494                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 34; ; **************************************************************************/
 1495                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 36; // *************
 1496                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 37; // VDC bits for display_flags ...
 1497                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 38; // *************
 1498                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 40; #ifndef BKG_OFF
 1499                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 41; #define BKG_OFF 0x00
 1500                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 42; #endif
 1501                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 44; #ifndef SPR_OFF
 1502                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 45; #define SPR_OFF 0x00
 1503                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 46; #endif
 1504                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 48; #ifndef BKG_ON
 1505                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 49; #define BKG_ON 0x80
 1506                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 50; #endif
 1507                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 52; #ifndef SPR_ON
 1508                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 53; #define SPR_ON 0x40
 1509                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 54; #endif
 1510                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 56; // *************
 1511                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 57; // Functions in hucc-scroll.asm ...
 1512                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 58; // *************
 1513                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 60; #ifdef __HUCC__
 1514                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 62; #asmdef	HUCC_USES_NEW_SCROLL 1
 1515                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 64; extern void __fastcall scroll_split( unsigned char index<_al>, unsigned char screen_line<_ah>, unsigned int bat_x<_bx>, unsigned int bat_y<_cx>, unsigned char display_flags<_dl> );
 1516                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 65; extern void __fastcall sgx_scroll_split( unsigned char index<_al>, unsigned char screen_line<_ah>, unsigned int bat_x<_bx>, unsigned int bat_y<_cx>, unsigned char display_flags<_dl> );
 1517                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 67; extern void __fastcall disable_split( unsigned char index<acc> );
 1518                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 68; extern void __fastcall sgx_disable_split( unsigned char index<acc> );
 1519                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 70; extern void __fastcall __macro disable_all_splits( void );
 1520                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 71; extern void __fastcall __macro sgx_disable_all_splits( void );
 1521                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 73; #asm
 1522                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 74; .macro	_disable_all_splits
 1523                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 75; ldy	#HUCC_PCE_SPLITS - 1
 1524                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 76; !loop:		tya
 1525                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 77; call	_disable_split.1
 1526                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 78; dey
 1527                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 79; bpl	!loop-
 1528                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 80; .endm
 1529                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 82; .macro	_sgx_disable_all_splits
 1530                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 83; ldy	#HUCC_SGX_SPLITS - 1
 1531                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 84; !loop:		tya
 1532                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 85; call	_sgx_disable_split.1
 1533                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 86; dey
 1534                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 87; bpl	!loop-
 1535                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 88; .endm
 1536                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 89; #endasm
 1537                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 91; #endif // __HUCC__
 1538                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 93; #endif // _hucc_scroll_h
 1539                        		.dbg	line,	"include\variables.c", 3; #include "hucc-chrmap.h"
 1540                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 1; #ifndef _hucc_chrmap_h
 1541                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 2; #define _hucc_chrmap_h
 1542                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 4; /****************************************************************************
 1543                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 5; ; ***************************************************************************
 1544                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 6; ;
 1545                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 7; ; hucc-chrmap.h
 1546                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 8; ;
 1547                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 9; ; A simple map system based on 8x8 characters (aka "tiles") in BAT format.
 1548                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 10; ;
 1549                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 11; ; Copyright John Brandwood 2025.
 1550                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 12; ;
 1551                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 1552                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 1553                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 1554                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 16; ;
 1555                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 17; ; ***************************************************************************
 1556                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 18; ; ***************************************************************************
 1557                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 19; ;
 1558                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 20; ; The maximum X and Y size for chrmaps is 256 characters (2048 pixels).
 1559                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 21; ;
 1560                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 22; ; The maximum total size for a chrmap is 16KBytes, which allows for maps up
 1561                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 23; ; to 256x32 tiles (2048x256 pixels).
 1562                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 24; ;
 1563                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 25; ; ***************************************************************************
 1564                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 26; ; **************************************************************************/
 1565                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 28; // *************
 1566                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 29; // This code extends the blkmap library ...
 1567                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 30; // *************
 1568                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 32; #include "hucc-blkmap.h"
 1569                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 34; // *************
 1570                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 35; // Functions in chrmap.asm ...
 1571                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 36; // *************
 1572                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 38; #ifdef __HUCC__
 1573                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 40; #asmdef	HUCC_USES_CHRMAP 1
 1574                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 42; extern void __fastcall __nop set_chrmap( unsigned char __far *chrmap<vdc_map_bank:vdc_map_addr>, unsigned char tiles_w<vdc_map_line_w> );
 1575                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 44; extern void __fastcall draw_bat( void );
 1576                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 45; extern void __fastcall scroll_bat( void );
 1577                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 47; extern void __fastcall blit_bat( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 1578                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 49; #ifdef _SGX
 1579                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 51; extern void __fastcall __nop sgx_set_chrmap( unsigned char __far *chrmap<sgx_map_bank:sgx_map_addr>, unsigned char tiles_w<sgx_map_line_w> );
 1580                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 53; extern void __fastcall sgx_draw_bat( void );
 1581                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 54; extern void __fastcall sgx_scroll_bat( void );
 1582                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 56; extern void __fastcall sgx_blit_bat( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 1583                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 58; #endif
 1584                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 60; #endif // __HUCC__
 1585                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 62; #endif // _hucc_chrmap_h
 1586                        		.dbg	line,	"include\variables.c", 4; #include "hucc-blkmap.h"
 1587                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 1; #ifndef _hucc_blkmap_h
 1588                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 2; #define _hucc_blkmap_h
 1589                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 4; /****************************************************************************
 1590                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 5; ; ***************************************************************************
 1591                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 6; ;
 1592                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 7; ; hucc-blkmap.h
 1593                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 8; ;
 1594                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 9; ; A map system based on 16x16 meta-tiles (aka "blocks", aka CHR/BLK/MAP).
 1595                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 10; ;
 1596                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 11; ; Copyright John Brandwood 2025.
 1597                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 12; ;
 1598                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 1599                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 1600                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 1601                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 16; ;
 1602                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 17; ; ***************************************************************************
 1603                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 18; ; ***************************************************************************
 1604                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 19; ;
 1605                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 20; ; The maximum X and Y size for blkmaps is 128 blocks (2048 pixels).
 1606                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 21; ;
 1607                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 22; ; The maximum total size for a blkmap is 16KBytes, which allows for maps up
 1608                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 23; ; to 128x128 blocks (2048x2048 pixels).
 1609                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 24; ;
 1610                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 25; ; Huge multi-screen blkmaps are also supported (optionally).
 1611                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 26; ;
 1612                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 27; ; The maximum X and Y for multi-screen maps is 128 screens (32768 pixels).
 1613                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 28; ;
 1614                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 29; ; The maximum total size for a multi-screen map is 8KBytes, which allows for
 1615                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 30; ; a total of 1024 screens.
 1616                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 31; ;
 1617                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 32; ; ***************************************************************************
 1618                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 33; ; **************************************************************************/
 1619                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 35; // *************
 1620                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 36; // Functions in blkmap.asm ...
 1621                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 37; // *************
 1622                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 39; #ifdef __HUCC__
 1623                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 41; #asmdef	HUCC_USES_BLKMAP 1
 1624                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 43; // Current top-left of drawn map in pixels.
 1625                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 44; extern unsigned int   vdc_map_pxl_x;
 1626                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 45; extern unsigned int   vdc_map_pxl_y;
 1627                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 47; // Width and height to draw/scroll in characters (not tiles).
 1628                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 48; extern unsigned char  vdc_map_draw_w;
 1629                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 49; extern unsigned char  vdc_map_draw_h;
 1630                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 51; // Width of map (or multi-screen BAT) in tiles.
 1631                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 52; extern unsigned char  vdc_map_line_w;
 1632                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 54; // Width of map in screens (if multi-screen map).
 1633                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 55; extern unsigned char  vdc_map_scrn_w;
 1634                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 57; // Extra information returned by get_map_block() and sgx_get_map_block(),
 1635                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 58; // which are the collision flags and the mask/overlay sprite for the BLK.
 1636                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 59; extern unsigned char  map_blk_flag;
 1637                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 60; extern unsigned char  map_blk_mask;
 1638                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 62; extern unsigned char  vdc_scr_bank;
 1639                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 63; extern unsigned char *vdc_scr_addr;
 1640                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 65; extern unsigned char  vdc_map_bank;
 1641                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 66; extern unsigned char *vdc_map_addr;
 1642                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 68; extern unsigned char  vdc_blk_bank;
 1643                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 69; extern unsigned char *vdc_blk_addr;
 1644                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 71; extern unsigned char  vdc_tbl_bank;
 1645                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 72; extern unsigned char *vdc_tbl_addr;
 1646                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 74; extern void __fastcall set_blocks( unsigned char __far *blk_def<vdc_blk_bank:vdc_blk_addr>, unsigned char __far *flg_def<vdc_tbl_bank:vdc_tbl_addr>, unsigned char number_of_blocks<_al> );
 1647                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 75; extern void __fastcall __macro set_blkmap( unsigned char __far *blk_map<vdc_map_bank:vdc_map_addr>, unsigned char blocks_w<vdc_map_line_w> );
 1648                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 76; extern void __fastcall __macro set_multimap( unsigned char __far *multi_map<vdc_scr_bank:vdc_scr_addr>, unsigned char screens_w<vdc_map_scrn_w> );
 1649                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 78; extern void __fastcall draw_map( void );
 1650                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 79; extern void __fastcall scroll_map( void );
 1651                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 81; extern void __fastcall blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 1652                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 83; extern unsigned char __fastcall get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
 1653                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 85; #asm
 1654                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 86; .macro	_set_blkmap.2
 1655                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 87; stz	vdc_scr_bank
 1656                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 88; .endm
 1657                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 90; .macro	_set_multimap.2
 1658                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 91; lda	vdc_bat_width
 1659                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 92; lsr	a
 1660                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 93; sta	vdc_map_line_w
 1661                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 94; .endm
 1662                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 96; .macro	SCREEN
 1663                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 97; db	(((\1) & $1FFF) | $6000) >> 8, bank(\1)
 1664                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 98; db	(((\2) & $1FFF) | $4000) >> 8, bank(\2)
 1665                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 99; db	(((\3) & $1FFF) | $6000) >> 8, bank(\3)
 1666                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 100; dw	(\4)
 1667                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 101; .endm
 1668                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 102; #endasm
 1669                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 104; #ifdef _SGX
 1670                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 106; // Current top-left of drawn map in pixels.
 1671                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 107; extern unsigned int   sgx_map_pxl_x;
 1672                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 108; extern unsigned int   sgx_map_pxl_y;
 1673                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 110; // Width and height to draw/scroll in characters (not tiles).
 1674                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 111; extern unsigned char  sgx_map_draw_w;
 1675                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 112; extern unsigned char  sgx_map_draw_h;
 1676                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 114; // Width of map (or multi-screen BAT) in tiles.
 1677                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 115; extern unsigned char  sgx_map_line_w;
 1678                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 117; // Width of map in screens (if multi-screen map).
 1679                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 118; extern unsigned char  sgx_map_scrn_w;
 1680                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 120; extern unsigned char  sgx_scr_bank;
 1681                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 121; extern unsigned char *sgx_scr_addr;
 1682                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 123; extern unsigned char  sgx_map_bank;
 1683                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 124; extern unsigned char *sgx_map_addr;
 1684                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 126; extern unsigned char  sgx_blk_bank;
 1685                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 127; extern unsigned char *sgx_blk_addr;
 1686                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 129; extern unsigned char  sgx_tbl_bank;
 1687                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 130; extern unsigned char *sgx_tbl_addr;
 1688                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 132; extern void __fastcall sgx_set_blocks( unsigned char __far *blk_def<sgx_blk_bank:sgx_blk_addr>, unsigned char __far *flg_def<sgx_tbl_bank:sgx_tbl_addr>, unsigned char number_of_blocks<_al> );
 1689                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 133; extern void __fastcall __macro sgx_set_blkmap( unsigned char __far *blk_map<sgx_map_bank:sgx_map_addr>, unsigned char blocks_w<sgx_map_line_w> );
 1690                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 134; extern void __fastcall __macro sgx_set_multimap( unsigned char __far *multi_map<sgx_scr_bank:sgx_scr_addr>, unsigned char screens_w<sgx_map_scrn_w> );
 1691                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 136; extern void __fastcall sgx_draw_map( void );
 1692                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 137; extern void __fastcall sgx_scroll_map( void );
 1693                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 139; extern void __fastcall sgx_blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 1694                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 141; extern unsigned char __fastcall sgx_get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
 1695                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 143; #asm
 1696                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 144; .macro	_sgx_set_blkmap.2
 1697                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 145; stz	sgx_scr_bank
 1698                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 146; .endm
 1699                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 148; .macro	_sgx_set_multimap.2
 1700                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 149; lda	sgx_bat_width
 1701                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 150; lsr	a
 1702                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 151; sta	sgx_map_line_w
 1703                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 152; .endm
 1704                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 153; #endasm
 1705                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 155; #endif
 1706                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 157; #endif // __HUCC__
 1707                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 159; #endif // _hucc_blkmap_h
 1708                        		.dbg	line,	"include\variables.c", 13; unsigned char   sequence_id,
 1709                        		.dbg	line,	"include\variables.c", 14; sequence_loaded,
 1710                        		.dbg	line,	"include\variables.c", 16; level_id,
 1711                        		.dbg	line,	"include\variables.c", 17; display_level_text,
 1712                        		.dbg	line,	"include\variables.c", 19; // PLAYER //
 1713                        		.dbg	line,	"include\variables.c", 20; respawn,
 1714                        		.dbg	line,	"include\variables.c", 21; player_id,
 1715                        		.dbg	line,	"include\variables.c", 22; player_state,
 1716                        		.dbg	line,	"include\variables.c", 23; player_axis,
 1717                        		.dbg	line,	"include\variables.c", 24; player_previous_axis,
 1718                        		.dbg	line,	"include\variables.c", 25; player_counter_anim,
 1719                        		.dbg	line,	"include\variables.c", 26; player_index_jump,
 1720                        		.dbg	line,	"include\variables.c", 27; player_index_fall,
 1721                        		.dbg	line,	"include\variables.c", 28; player_counter_attack,
 1722                        		.dbg	line,	"include\variables.c", 30; player_naked,
 1723                        		.dbg	line,	"include\variables.c", 31; player_attack,
 1724                        		.dbg	line,	"include\variables.c", 33; jump_ladder,
 1725                        		.dbg	line,	"include\variables.c", 34; jump_max_index,
 1726                        		.dbg	line,	"include\variables.c", 35; fall_ladder,
 1727                        		.dbg	line,	"include\variables.c", 36; hit_wall,
 1728                        		.dbg	line,	"include\variables.c", 38; // ARMOR + WEAPON //
 1729                        		.dbg	line,	"include\variables.c", 39; chain_id,
 1730                        		.dbg	line,	"include\variables.c", 40; weapon_id,
 1731                        		.dbg	line,	"include\variables.c", 41; armor_level,
 1732                        		.dbg	line,	"include\variables.c", 42; weapon_level,
 1733                        		.dbg	line,	"include\variables.c", 43; //chain_unfold,
 1734                        		.dbg	line,	"include\variables.c", 44; list_chain_active[3],
 1735                        		.dbg	line,	"include\variables.c", 46; // HUD //
 1736                        		.dbg	line,	"include\variables.c", 47; life_amount,
 1737                        		.dbg	line,	"include\variables.c", 48; credits_amount,
 1738                        		.dbg	line,	"include\variables.c", 49; key_amount,
 1739                        		.dbg	line,	"include\variables.c", 50; potion_amount,
 1740                        		.dbg	line,	"include\variables.c", 52; // TIME //
 1741                        		.dbg	line,	"include\variables.c", 53; minutes,
 1742                        		.dbg	line,	"include\variables.c", 54; seconds,
 1743                        		.dbg	line,	"include\variables.c", 55; time_counter,
 1744                        		.dbg	line,	"include\variables.c", 57; minutes_backup,
 1745                        		.dbg	line,	"include\variables.c", 58; seconds_backup,
 1746                        		.dbg	line,	"include\variables.c", 61; // OBJECTS //
 1747                        		.dbg	line,	"include\variables.c", 62; object_start_index,
 1748                        		.dbg	line,	"include\variables.c", 63; level_object_number,
 1749                        		.dbg	line,	"include\variables.c", 64; onscreen_object_number,
 1750                        		.dbg	line,	"include\variables.c", 65; 
 1751                        		.dbg	line,	"include\variables.c", 66; list_object_type[25],
 1752                        		.dbg	line,	"include\variables.c", 67; list_object_state[25],
 1753                        		.dbg	line,	"include\variables.c", 68; list_object_energy[25],
 1754                        		.dbg	line,	"include\variables.c", 69; list_reward_type[25],
 1755                        		.dbg	line,	"include\variables.c", 70; list_object_counter[25],
 1756                        		.dbg	line,	"include\variables.c", 71; 
 1757                        		.dbg	line,	"include\variables.c", 72; list_onscreen_object[8],                
 1758                        		.dbg	line,	"include\variables.c", 73; 
 1759                        		.dbg	line,	"include\variables.c", 74; // CHESTS //
 1760                        		.dbg	line,	"include\variables.c", 75; chest_start_index,
 1761                        		.dbg	line,	"include\variables.c", 76; level_chest_number,
 1762                        		.dbg	line,	"include\variables.c", 77; onscreen_chest_number,
 1763                        		.dbg	line,	"include\variables.c", 78; 
 1764                        		.dbg	line,	"include\variables.c", 79; list_chest_state[8],
 1765                        		.dbg	line,	"include\variables.c", 80; list_onscreen_chest[8],
 1766                        		.dbg	line,	"include\variables.c", 82; // NPC //
 1767                        		.dbg	line,	"include\variables.c", 83; npc_start_index,
 1768                        		.dbg	line,	"include\variables.c", 84; level_npc_number,
 1769                        		.dbg	line,	"include\variables.c", 85; onscreen_npc_number,
 1770                        		.dbg	line,	"include\variables.c", 86; selected_npc,
 1771                        		.dbg	line,	"include\variables.c", 88; list_npc_type[9],
 1772                        		.dbg	line,	"include\variables.c", 89; list_npc_state[9],
 1773                        		.dbg	line,	"include\variables.c", 90; list_npc_reward[9],
 1774                        		.dbg	line,	"include\variables.c", 91; list_onscreen_npc[9],
 1775                        		.dbg	line,	"include\variables.c", 93; // SHOPS //
 1776                        		.dbg	line,	"include\variables.c", 94; index_x,
 1777                        		.dbg	line,	"include\variables.c", 95; index_y,
 1778                        		.dbg	line,	"include\variables.c", 96; item_index,
 1779                        		.dbg	line,	"include\variables.c", 98; shop_phase,
 1780                        		.dbg	line,	"include\variables.c", 99; shop_counter,
 1781                        		.dbg	line,	"include\variables.c", 101; palette_step,
 1782                        		.dbg	line,	"include\variables.c", 102; 
 1783                        		.dbg	line,	"include\variables.c", 103; tilemap_mask[256];
 1784                        		.dbg	line,	"include\variables.c", 108; signed int      player_pos_x,
 1785                        		.dbg	line,	"include\variables.c", 109; player_pos_y,
 1786                        		.dbg	line,	"include\variables.c", 110; camera_max_y_position,
 1787                        		.dbg	line,	"include\variables.c", 112; camera_pos_x_backup,
 1788                        		.dbg	line,	"include\variables.c", 113; camera_pos_y_backup,
 1789                        		.dbg	line,	"include\variables.c", 116; list_object_x_pos[25],
 1790                        		.dbg	line,	"include\variables.c", 117; list_object_y_pos[25],
 1791                        		.dbg	line,	"include\variables.c", 118; list_object_x_pos_ref[25],
 1792                        		.dbg	line,	"include\variables.c", 119; list_object_y_pos_ref[25],
 1793                        		.dbg	line,	"include\variables.c", 122; list_chest_x_pos[8],
 1794                        		.dbg	line,	"include\variables.c", 123; list_chest_y_pos[8],
 1795                        		.dbg	line,	"include\variables.c", 124; list_chest_x_pos_ref[8],
 1796                        		.dbg	line,	"include\variables.c", 125; list_chest_y_pos_ref[8],
 1797                        		.dbg	line,	"include\variables.c", 128; list_npc_x_pos[9],
 1798                        		.dbg	line,	"include\variables.c", 129; list_npc_y_pos[9],
 1799                        		.dbg	line,	"include\variables.c", 130; list_npc_x_pos_ref[9],
 1800                        		.dbg	line,	"include\variables.c", 131; list_npc_y_pos_ref[9];
 1801                        		.dbg	line,	"include\variables.c", 132; 
 1802                        		.dbg	line,	"include\variables.c", 136; int             global_counter,
 1803                        		.dbg	line,	"include\variables.c", 137; letter_index,
 1804                        		.dbg	line,	"include\variables.c", 138; letter_counter,
 1805                        		.dbg	line,	"include\variables.c", 139; zenny_amount,
 1806                        		.dbg	line,	"include\variables.c", 140; score,
 1807                        		.dbg	line,	"include\variables.c", 142; shop_prices[10],
 1808                        		.dbg	line,	"include\variables.c", 143; palette_buffer[16];
 1809                        		.dbg	line,	"include\variables.c", 148; signed char weapon_y_offset;
 1810                        		.dbg	line,	"include\variables.c", 153; extern unsigned char tileset_LV1_BG_B[];
 1811                        		.dbg	line,	"include\variables.c", 154; extern unsigned char multimap_LV1_BG_B[];
 1812                        		.dbg	line,	"include\variables.c", 156; extern unsigned char tileset_HUD[];
 1813                        		.dbg	line,	"include\variables.c", 157; extern unsigned char multimap_LV1_BG_A[];
 1814                        		.dbg	line,	"include\variables.c", 159; extern unsigned char tileset_SHOP_BG_B[];
 1815                        		.dbg	line,	"include\variables.c", 161; char *ptr_REWARD_TYPE;
 1816                        		.dbg	line,	"include\variables.c", 162; int *ptr_REWARD_VRAM_ADR;
 1817                        		.dbg	line,	"include\variables.c", 163; int *ptr_SHOP_ITEM_PRICES;
 1818                        		.dbg	line,	"Black_Tiger.c", 11; #include "include/gfx_BG_INTRO.c"
 1819                        		.dbg	line,	"include\gfx_BG_INTRO.c", 1; #include "huc.h"
 1820                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 1; #ifndef _hucc_legacy_h
 1821                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 2; #define _hucc_legacy_h
 1822                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 4; /****************************************************************************
 1823                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 5; ; ***************************************************************************
 1824                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 6; ;
 1825                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 7; ; huc.h
 1826                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 8; ;
 1827                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 9; ; HuCC wrapper file to include a default set of HuC-compatible functions.
 1828                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 10; ;
 1829                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 11; ; Copyright John Brandwood 2024.
 1830                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 12; ;
 1831                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 1832                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 1833                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 1834                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 16; ;
 1835                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 17; ; ***************************************************************************
 1836                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 18; ; ***************************************************************************
 1837                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 19; ;
 1838                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 20; ; When the HuCC compiler is invoked with the "--legacy" option to compile old
 1839                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 21; ; projects, then this "huc.h" file is automatically included.
 1840                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 22; ;
 1841                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 23; ; This file includes a set of the individual HuCC headers which correspond to
 1842                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 24; ; HuC's built-in functions and MagicKit library.
 1843                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 25; ;
 1844                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 26; ; New HuCC projects should, preferably, include the specific headers that are
 1845                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 27; ; needed, which will then allow them to replace parts of the standard library
 1846                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 28; ; with newer functions, or they can just manually include this "huc.h" file.
 1847                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 29; ;
 1848                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 30; ; ***************************************************************************
 1849                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 31; ; **************************************************************************/
 1850                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 33; #include "hucc-systemcard.h"
 1851                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 34; #include "hucc-baselib.h"
 1852                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 35; #include "hucc-gfx.h"
 1853                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 36; #include "hucc-old-scroll.h"
 1854                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 37; #include "hucc-old-spr.h"
 1855                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 38; #include "hucc-old-map.h"
 1856                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 39; #include "hucc-old-line.h"
 1857                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 41; #include <stdlib.h>
 1858                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 42; #include <string.h>
 1859                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 44; #endif // _hucc_legacy_h
 1860                        		.dbg	line,	"include\gfx_BG_INTRO.c", 2; #include "hucc-scroll.h"
 1861                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 1; #ifndef _hucc_scroll_h
 1862                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 2; #define _hucc_scroll_h
 1863                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 4; /****************************************************************************
 1864                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 5; ; ***************************************************************************
 1865                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 6; ;
 1866                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 7; ; hucc-scroll.h
 1867                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 8; ;
 1868                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 9; ; Routines for a fast split-screen scrolling system.
 1869                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 10; ;
 1870                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 11; ; Copyright John Brandwood 2024.
 1871                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 12; ;
 1872                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 1873                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 1874                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 1875                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 16; ;
 1876                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 17; ; ***************************************************************************
 1877                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 18; ; ***************************************************************************
 1878                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 19; ;
 1879                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 20; ; The maximum number of splits for each screen layer is set in your project's
 1880                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 21; ; "hucc-config.inc" file, with the library having a limit of 128-per-layer.
 1881                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 22; ;
 1882                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 23; ; Your first active split must be defined to start at screen line 0, and then
 1883                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 24; ; the rest of the active splits must be in increasing line order to match the
 1884                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 25; ; way that the PC Engine displays the output image.
 1885                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 26; ;
 1886                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 27; ; You can have disabled splits interleaved with your active splits.
 1887                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 28; ;
 1888                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 29; ; Splits that are normally disabled can be used to create full screen effects
 1889                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 30; ; such as bouncing the screen up and down by adding blank areas at the top or
 1890                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 31; ; bottom of the screen, and then rapidly changing the height of those areas.
 1891                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 32; ;
 1892                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 33; ; ***************************************************************************
 1893                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 34; ; **************************************************************************/
 1894                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 36; // *************
 1895                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 37; // VDC bits for display_flags ...
 1896                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 38; // *************
 1897                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 40; #ifndef BKG_OFF
 1898                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 41; #define BKG_OFF 0x00
 1899                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 42; #endif
 1900                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 44; #ifndef SPR_OFF
 1901                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 45; #define SPR_OFF 0x00
 1902                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 46; #endif
 1903                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 48; #ifndef BKG_ON
 1904                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 49; #define BKG_ON 0x80
 1905                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 50; #endif
 1906                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 52; #ifndef SPR_ON
 1907                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 53; #define SPR_ON 0x40
 1908                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 54; #endif
 1909                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 56; // *************
 1910                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 57; // Functions in hucc-scroll.asm ...
 1911                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 58; // *************
 1912                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 60; #ifdef __HUCC__
 1913                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 62; #asmdef	HUCC_USES_NEW_SCROLL 1
 1914                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 64; extern void __fastcall scroll_split( unsigned char index<_al>, unsigned char screen_line<_ah>, unsigned int bat_x<_bx>, unsigned int bat_y<_cx>, unsigned char display_flags<_dl> );
 1915                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 65; extern void __fastcall sgx_scroll_split( unsigned char index<_al>, unsigned char screen_line<_ah>, unsigned int bat_x<_bx>, unsigned int bat_y<_cx>, unsigned char display_flags<_dl> );
 1916                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 67; extern void __fastcall disable_split( unsigned char index<acc> );
 1917                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 68; extern void __fastcall sgx_disable_split( unsigned char index<acc> );
 1918                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 70; extern void __fastcall __macro disable_all_splits( void );
 1919                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 71; extern void __fastcall __macro sgx_disable_all_splits( void );
 1920                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 73; #asm
 1921                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 74; .macro	_disable_all_splits
 1922                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 75; ldy	#HUCC_PCE_SPLITS - 1
 1923                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 76; !loop:		tya
 1924                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 77; call	_disable_split.1
 1925                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 78; dey
 1926                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 79; bpl	!loop-
 1927                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 80; .endm
 1928                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 82; .macro	_sgx_disable_all_splits
 1929                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 83; ldy	#HUCC_SGX_SPLITS - 1
 1930                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 84; !loop:		tya
 1931                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 85; call	_sgx_disable_split.1
 1932                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 86; dey
 1933                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 87; bpl	!loop-
 1934                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 88; .endm
 1935                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 89; #endasm
 1936                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 91; #endif // __HUCC__
 1937                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 93; #endif // _hucc_scroll_h
 1938                        		.dbg	line,	"include\gfx_BG_INTRO.c", 3; #include "hucc-chrmap.h"
 1939                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 1; #ifndef _hucc_chrmap_h
 1940                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 2; #define _hucc_chrmap_h
 1941                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 4; /****************************************************************************
 1942                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 5; ; ***************************************************************************
 1943                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 6; ;
 1944                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 7; ; hucc-chrmap.h
 1945                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 8; ;
 1946                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 9; ; A simple map system based on 8x8 characters (aka "tiles") in BAT format.
 1947                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 10; ;
 1948                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 11; ; Copyright John Brandwood 2025.
 1949                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 12; ;
 1950                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 1951                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 1952                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 1953                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 16; ;
 1954                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 17; ; ***************************************************************************
 1955                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 18; ; ***************************************************************************
 1956                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 19; ;
 1957                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 20; ; The maximum X and Y size for chrmaps is 256 characters (2048 pixels).
 1958                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 21; ;
 1959                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 22; ; The maximum total size for a chrmap is 16KBytes, which allows for maps up
 1960                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 23; ; to 256x32 tiles (2048x256 pixels).
 1961                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 24; ;
 1962                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 25; ; ***************************************************************************
 1963                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 26; ; **************************************************************************/
 1964                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 28; // *************
 1965                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 29; // This code extends the blkmap library ...
 1966                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 30; // *************
 1967                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 32; #include "hucc-blkmap.h"
 1968                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 34; // *************
 1969                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 35; // Functions in chrmap.asm ...
 1970                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 36; // *************
 1971                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 38; #ifdef __HUCC__
 1972                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 40; #asmdef	HUCC_USES_CHRMAP 1
 1973                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 42; extern void __fastcall __nop set_chrmap( unsigned char __far *chrmap<vdc_map_bank:vdc_map_addr>, unsigned char tiles_w<vdc_map_line_w> );
 1974                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 44; extern void __fastcall draw_bat( void );
 1975                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 45; extern void __fastcall scroll_bat( void );
 1976                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 47; extern void __fastcall blit_bat( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 1977                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 49; #ifdef _SGX
 1978                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 51; extern void __fastcall __nop sgx_set_chrmap( unsigned char __far *chrmap<sgx_map_bank:sgx_map_addr>, unsigned char tiles_w<sgx_map_line_w> );
 1979                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 53; extern void __fastcall sgx_draw_bat( void );
 1980                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 54; extern void __fastcall sgx_scroll_bat( void );
 1981                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 56; extern void __fastcall sgx_blit_bat( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 1982                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 58; #endif
 1983                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 60; #endif // __HUCC__
 1984                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 62; #endif // _hucc_chrmap_h
 1985                        		.dbg	line,	"include\gfx_BG_INTRO.c", 4; #include "hucc-blkmap.h"
 1986                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 1; #ifndef _hucc_blkmap_h
 1987                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 2; #define _hucc_blkmap_h
 1988                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 4; /****************************************************************************
 1989                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 5; ; ***************************************************************************
 1990                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 6; ;
 1991                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 7; ; hucc-blkmap.h
 1992                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 8; ;
 1993                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 9; ; A map system based on 16x16 meta-tiles (aka "blocks", aka CHR/BLK/MAP).
 1994                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 10; ;
 1995                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 11; ; Copyright John Brandwood 2025.
 1996                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 12; ;
 1997                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 1998                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 1999                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 2000                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 16; ;
 2001                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 17; ; ***************************************************************************
 2002                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 18; ; ***************************************************************************
 2003                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 19; ;
 2004                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 20; ; The maximum X and Y size for blkmaps is 128 blocks (2048 pixels).
 2005                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 21; ;
 2006                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 22; ; The maximum total size for a blkmap is 16KBytes, which allows for maps up
 2007                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 23; ; to 128x128 blocks (2048x2048 pixels).
 2008                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 24; ;
 2009                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 25; ; Huge multi-screen blkmaps are also supported (optionally).
 2010                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 26; ;
 2011                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 27; ; The maximum X and Y for multi-screen maps is 128 screens (32768 pixels).
 2012                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 28; ;
 2013                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 29; ; The maximum total size for a multi-screen map is 8KBytes, which allows for
 2014                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 30; ; a total of 1024 screens.
 2015                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 31; ;
 2016                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 32; ; ***************************************************************************
 2017                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 33; ; **************************************************************************/
 2018                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 35; // *************
 2019                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 36; // Functions in blkmap.asm ...
 2020                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 37; // *************
 2021                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 39; #ifdef __HUCC__
 2022                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 41; #asmdef	HUCC_USES_BLKMAP 1
 2023                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 43; // Current top-left of drawn map in pixels.
 2024                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 44; extern unsigned int   vdc_map_pxl_x;
 2025                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 45; extern unsigned int   vdc_map_pxl_y;
 2026                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 47; // Width and height to draw/scroll in characters (not tiles).
 2027                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 48; extern unsigned char  vdc_map_draw_w;
 2028                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 49; extern unsigned char  vdc_map_draw_h;
 2029                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 51; // Width of map (or multi-screen BAT) in tiles.
 2030                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 52; extern unsigned char  vdc_map_line_w;
 2031                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 54; // Width of map in screens (if multi-screen map).
 2032                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 55; extern unsigned char  vdc_map_scrn_w;
 2033                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 57; // Extra information returned by get_map_block() and sgx_get_map_block(),
 2034                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 58; // which are the collision flags and the mask/overlay sprite for the BLK.
 2035                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 59; extern unsigned char  map_blk_flag;
 2036                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 60; extern unsigned char  map_blk_mask;
 2037                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 62; extern unsigned char  vdc_scr_bank;
 2038                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 63; extern unsigned char *vdc_scr_addr;
 2039                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 65; extern unsigned char  vdc_map_bank;
 2040                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 66; extern unsigned char *vdc_map_addr;
 2041                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 68; extern unsigned char  vdc_blk_bank;
 2042                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 69; extern unsigned char *vdc_blk_addr;
 2043                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 71; extern unsigned char  vdc_tbl_bank;
 2044                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 72; extern unsigned char *vdc_tbl_addr;
 2045                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 74; extern void __fastcall set_blocks( unsigned char __far *blk_def<vdc_blk_bank:vdc_blk_addr>, unsigned char __far *flg_def<vdc_tbl_bank:vdc_tbl_addr>, unsigned char number_of_blocks<_al> );
 2046                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 75; extern void __fastcall __macro set_blkmap( unsigned char __far *blk_map<vdc_map_bank:vdc_map_addr>, unsigned char blocks_w<vdc_map_line_w> );
 2047                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 76; extern void __fastcall __macro set_multimap( unsigned char __far *multi_map<vdc_scr_bank:vdc_scr_addr>, unsigned char screens_w<vdc_map_scrn_w> );
 2048                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 78; extern void __fastcall draw_map( void );
 2049                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 79; extern void __fastcall scroll_map( void );
 2050                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 81; extern void __fastcall blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 2051                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 83; extern unsigned char __fastcall get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
 2052                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 85; #asm
 2053                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 86; .macro	_set_blkmap.2
 2054                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 87; stz	vdc_scr_bank
 2055                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 88; .endm
 2056                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 90; .macro	_set_multimap.2
 2057                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 91; lda	vdc_bat_width
 2058                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 92; lsr	a
 2059                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 93; sta	vdc_map_line_w
 2060                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 94; .endm
 2061                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 96; .macro	SCREEN
 2062                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 97; db	(((\1) & $1FFF) | $6000) >> 8, bank(\1)
 2063                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 98; db	(((\2) & $1FFF) | $4000) >> 8, bank(\2)
 2064                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 99; db	(((\3) & $1FFF) | $6000) >> 8, bank(\3)
 2065                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 100; dw	(\4)
 2066                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 101; .endm
 2067                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 102; #endasm
 2068                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 104; #ifdef _SGX
 2069                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 106; // Current top-left of drawn map in pixels.
 2070                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 107; extern unsigned int   sgx_map_pxl_x;
 2071                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 108; extern unsigned int   sgx_map_pxl_y;
 2072                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 110; // Width and height to draw/scroll in characters (not tiles).
 2073                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 111; extern unsigned char  sgx_map_draw_w;
 2074                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 112; extern unsigned char  sgx_map_draw_h;
 2075                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 114; // Width of map (or multi-screen BAT) in tiles.
 2076                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 115; extern unsigned char  sgx_map_line_w;
 2077                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 117; // Width of map in screens (if multi-screen map).
 2078                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 118; extern unsigned char  sgx_map_scrn_w;
 2079                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 120; extern unsigned char  sgx_scr_bank;
 2080                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 121; extern unsigned char *sgx_scr_addr;
 2081                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 123; extern unsigned char  sgx_map_bank;
 2082                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 124; extern unsigned char *sgx_map_addr;
 2083                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 126; extern unsigned char  sgx_blk_bank;
 2084                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 127; extern unsigned char *sgx_blk_addr;
 2085                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 129; extern unsigned char  sgx_tbl_bank;
 2086                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 130; extern unsigned char *sgx_tbl_addr;
 2087                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 132; extern void __fastcall sgx_set_blocks( unsigned char __far *blk_def<sgx_blk_bank:sgx_blk_addr>, unsigned char __far *flg_def<sgx_tbl_bank:sgx_tbl_addr>, unsigned char number_of_blocks<_al> );
 2088                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 133; extern void __fastcall __macro sgx_set_blkmap( unsigned char __far *blk_map<sgx_map_bank:sgx_map_addr>, unsigned char blocks_w<sgx_map_line_w> );
 2089                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 134; extern void __fastcall __macro sgx_set_multimap( unsigned char __far *multi_map<sgx_scr_bank:sgx_scr_addr>, unsigned char screens_w<sgx_map_scrn_w> );
 2090                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 136; extern void __fastcall sgx_draw_map( void );
 2091                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 137; extern void __fastcall sgx_scroll_map( void );
 2092                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 139; extern void __fastcall sgx_blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 2093                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 141; extern unsigned char __fastcall sgx_get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
 2094                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 143; #asm
 2095                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 144; .macro	_sgx_set_blkmap.2
 2096                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 145; stz	sgx_scr_bank
 2097                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 146; .endm
 2098                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 148; .macro	_sgx_set_multimap.2
 2099                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 149; lda	sgx_bat_width
 2100                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 150; lsr	a
 2101                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 151; sta	sgx_map_line_w
 2102                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 152; .endm
 2103                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 153; #endasm
 2104                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 155; #endif
 2105                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 157; #endif // __HUCC__
 2106                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 159; #endif // _hucc_blkmap_h
 2107                        		.dbg	line,	"include\gfx_BG_INTRO.c", 13; #incchr(tileset_FONT_INTRO,"res/maps/tiles_FONT_INTRO.png");
 2108               6000     		.data
 2109    03:6000             	_tileset_FONT_INTRO: 	.incchr		"res/maps/tiles_FONT_INTRO.png"
 2110               E31D     		.code
 2111                        		.dbg	line,	"include\gfx_BG_INTRO.c", 15; #incpal(palette_FONT_INTRO, "res/maps/tiles_FONT_INTRO.png")
 2112               6C00     		.data
 2113    03:6C00             	_palette_FONT_INTRO:	.incpal		"res/maps/tiles_FONT_INTRO.png"
 2114               E31D     		.code
 2115                        		.dbg	line,	"include\gfx_BG_INTRO.c", 17; #incpal(palette_BLACK, "res/palettes/palette_BLACK.png")
 2116               6E00     		.data
 2117    03:6E00             	_palette_BLACK:	.incpal		"res/palettes/palette_BLACK.png"
 2118               E31D     		.code
 2119                        		.dbg	line,	"include\gfx_BG_INTRO.c", 20; //**************************************************************************************//
 2120                        		.dbg	line,	"include\gfx_BG_INTRO.c", 21; //                                                                                      //
 2121                        		.dbg	line,	"include\gfx_BG_INTRO.c", 22; //                                        TITLE                                         //
 2122                        		.dbg	line,	"include\gfx_BG_INTRO.c", 23; //                                                                                      //
 2123                        		.dbg	line,	"include\gfx_BG_INTRO.c", 24; //**************************************************************************************//
 2124                        		.dbg	line,	"include\gfx_BG_INTRO.c", 26; #incchr(tileset_INTRO_BG_B, "res/maps/tilemap_INTRO_BG_B.png", _OPTIMIZE)
 2125               7000     		.data
 2126    03:7000             	_tileset_INTRO_BG_B: 	.incchr		"res/maps/tilemap_INTRO_BG_B.png", 1
 2127               E31D     		.code
 2128                        		.dbg	line,	"include\gfx_BG_INTRO.c", 27; #incbat(tilemap_INTRO_BG_B,"res/maps/tilemap_INTRO_BG_B.png", 0x1000 , 32 , 28 , tileset_INTRO_BG_B);
 2129               6460     		.data
 2130    05:6460             	_tilemap_INTRO_BG_B:	.incbat		"res/maps/tilemap_INTRO_BG_B.png", 4096, 32, 28, _tileset_INTRO_BG_B
 2131               E31D     		.code
 2132                        		.dbg	line,	"include\gfx_BG_INTRO.c", 29; #incchr(tileset_INTRO_BG_A, "res/maps/tilemap_INTRO_BG_A.png", _OPTIMIZE)
 2133               6B60     		.data
 2134    05:6B60             	_tileset_INTRO_BG_A: 	.incchr		"res/maps/tilemap_INTRO_BG_A.png", 1
 2135               E31D     		.code
 2136                        		.dbg	line,	"include\gfx_BG_INTRO.c", 30; #incbat(tilemap_INTRO_BG_A,"res/maps/tilemap_INTRO_BG_A.png", 0x1000 , 64 , 64 , tileset_INTRO_BG_A);
 2137               76E0     		.data
 2138    05:76E0             	_tilemap_INTRO_BG_A:	.incbat		"res/maps/tilemap_INTRO_BG_A.png", 4096, 64, 64, _tileset_INTRO_BG_A
 2139               E31D     		.code
 2140                        		.dbg	line,	"include\gfx_BG_INTRO.c", 32; #incpal(palette_INTRO_1, "res/maps/tilemap_INTRO_BG_B.png")
 2141               76E0     		.data
 2142    06:76E0             	_palette_INTRO_1:	.incpal		"res/maps/tilemap_INTRO_BG_B.png"
 2143               E31D     		.code
 2144                        		.dbg	line,	"include\gfx_BG_INTRO.c", 33; #incpal(palette_INTRO_2, "res/palettes/palette_INTRO_2.png")
 2145               78E0     		.data
 2146    06:78E0             	_palette_INTRO_2:	.incpal		"res/palettes/palette_INTRO_2.png"
 2147               E31D     		.code
 2148                        		.dbg	line,	"include\gfx_BG_INTRO.c", 34; #incpal(palette_INTRO_3, "res/palettes/palette_INTRO_3.png")
 2149               7AE0     		.data
 2150    06:7AE0             	_palette_INTRO_3:	.incpal		"res/palettes/palette_INTRO_3.png"
 2151               E31D     		.code
 2152                        		.dbg	line,	"Black_Tiger.c", 12; #include "include/gfx_BG_LEVELS.c"
 2153                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 1; #include "huc.h"
 2154                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 1; #ifndef _hucc_legacy_h
 2155                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 2; #define _hucc_legacy_h
 2156                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 4; /****************************************************************************
 2157                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 5; ; ***************************************************************************
 2158                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 6; ;
 2159                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 7; ; huc.h
 2160                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 8; ;
 2161                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 9; ; HuCC wrapper file to include a default set of HuC-compatible functions.
 2162                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 10; ;
 2163                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 11; ; Copyright John Brandwood 2024.
 2164                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 12; ;
 2165                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 2166                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 2167                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 2168                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 16; ;
 2169                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 17; ; ***************************************************************************
 2170                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 18; ; ***************************************************************************
 2171                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 19; ;
 2172                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 20; ; When the HuCC compiler is invoked with the "--legacy" option to compile old
 2173                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 21; ; projects, then this "huc.h" file is automatically included.
 2174                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 22; ;
 2175                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 23; ; This file includes a set of the individual HuCC headers which correspond to
 2176                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 24; ; HuC's built-in functions and MagicKit library.
 2177                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 25; ;
 2178                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 26; ; New HuCC projects should, preferably, include the specific headers that are
 2179                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 27; ; needed, which will then allow them to replace parts of the standard library
 2180                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 28; ; with newer functions, or they can just manually include this "huc.h" file.
 2181                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 29; ;
 2182                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 30; ; ***************************************************************************
 2183                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 31; ; **************************************************************************/
 2184                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 33; #include "hucc-systemcard.h"
 2185                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 34; #include "hucc-baselib.h"
 2186                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 35; #include "hucc-gfx.h"
 2187                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 36; #include "hucc-old-scroll.h"
 2188                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 37; #include "hucc-old-spr.h"
 2189                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 38; #include "hucc-old-map.h"
 2190                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 39; #include "hucc-old-line.h"
 2191                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 41; #include <stdlib.h>
 2192                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 42; #include <string.h>
 2193                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 44; #endif // _hucc_legacy_h
 2194                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 2; #include "hucc-scroll.h"
 2195                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 1; #ifndef _hucc_scroll_h
 2196                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 2; #define _hucc_scroll_h
 2197                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 4; /****************************************************************************
 2198                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 5; ; ***************************************************************************
 2199                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 6; ;
 2200                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 7; ; hucc-scroll.h
 2201                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 8; ;
 2202                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 9; ; Routines for a fast split-screen scrolling system.
 2203                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 10; ;
 2204                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 11; ; Copyright John Brandwood 2024.
 2205                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 12; ;
 2206                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 2207                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 2208                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 2209                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 16; ;
 2210                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 17; ; ***************************************************************************
 2211                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 18; ; ***************************************************************************
 2212                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 19; ;
 2213                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 20; ; The maximum number of splits for each screen layer is set in your project's
 2214                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 21; ; "hucc-config.inc" file, with the library having a limit of 128-per-layer.
 2215                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 22; ;
 2216                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 23; ; Your first active split must be defined to start at screen line 0, and then
 2217                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 24; ; the rest of the active splits must be in increasing line order to match the
 2218                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 25; ; way that the PC Engine displays the output image.
 2219                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 26; ;
 2220                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 27; ; You can have disabled splits interleaved with your active splits.
 2221                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 28; ;
 2222                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 29; ; Splits that are normally disabled can be used to create full screen effects
 2223                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 30; ; such as bouncing the screen up and down by adding blank areas at the top or
 2224                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 31; ; bottom of the screen, and then rapidly changing the height of those areas.
 2225                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 32; ;
 2226                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 33; ; ***************************************************************************
 2227                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 34; ; **************************************************************************/
 2228                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 36; // *************
 2229                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 37; // VDC bits for display_flags ...
 2230                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 38; // *************
 2231                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 40; #ifndef BKG_OFF
 2232                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 41; #define BKG_OFF 0x00
 2233                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 42; #endif
 2234                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 44; #ifndef SPR_OFF
 2235                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 45; #define SPR_OFF 0x00
 2236                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 46; #endif
 2237                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 48; #ifndef BKG_ON
 2238                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 49; #define BKG_ON 0x80
 2239                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 50; #endif
 2240                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 52; #ifndef SPR_ON
 2241                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 53; #define SPR_ON 0x40
 2242                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 54; #endif
 2243                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 56; // *************
 2244                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 57; // Functions in hucc-scroll.asm ...
 2245                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 58; // *************
 2246                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 60; #ifdef __HUCC__
 2247                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 62; #asmdef	HUCC_USES_NEW_SCROLL 1
 2248                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 64; extern void __fastcall scroll_split( unsigned char index<_al>, unsigned char screen_line<_ah>, unsigned int bat_x<_bx>, unsigned int bat_y<_cx>, unsigned char display_flags<_dl> );
 2249                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 65; extern void __fastcall sgx_scroll_split( unsigned char index<_al>, unsigned char screen_line<_ah>, unsigned int bat_x<_bx>, unsigned int bat_y<_cx>, unsigned char display_flags<_dl> );
 2250                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 67; extern void __fastcall disable_split( unsigned char index<acc> );
 2251                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 68; extern void __fastcall sgx_disable_split( unsigned char index<acc> );
 2252                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 70; extern void __fastcall __macro disable_all_splits( void );
 2253                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 71; extern void __fastcall __macro sgx_disable_all_splits( void );
 2254                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 73; #asm
 2255                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 74; .macro	_disable_all_splits
 2256                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 75; ldy	#HUCC_PCE_SPLITS - 1
 2257                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 76; !loop:		tya
 2258                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 77; call	_disable_split.1
 2259                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 78; dey
 2260                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 79; bpl	!loop-
 2261                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 80; .endm
 2262                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 82; .macro	_sgx_disable_all_splits
 2263                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 83; ldy	#HUCC_SGX_SPLITS - 1
 2264                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 84; !loop:		tya
 2265                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 85; call	_sgx_disable_split.1
 2266                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 86; dey
 2267                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 87; bpl	!loop-
 2268                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 88; .endm
 2269                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 89; #endasm
 2270                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 91; #endif // __HUCC__
 2271                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 93; #endif // _hucc_scroll_h
 2272                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 3; #include "hucc-chrmap.h"
 2273                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 1; #ifndef _hucc_chrmap_h
 2274                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 2; #define _hucc_chrmap_h
 2275                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 4; /****************************************************************************
 2276                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 5; ; ***************************************************************************
 2277                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 6; ;
 2278                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 7; ; hucc-chrmap.h
 2279                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 8; ;
 2280                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 9; ; A simple map system based on 8x8 characters (aka "tiles") in BAT format.
 2281                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 10; ;
 2282                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 11; ; Copyright John Brandwood 2025.
 2283                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 12; ;
 2284                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 2285                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 2286                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 2287                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 16; ;
 2288                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 17; ; ***************************************************************************
 2289                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 18; ; ***************************************************************************
 2290                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 19; ;
 2291                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 20; ; The maximum X and Y size for chrmaps is 256 characters (2048 pixels).
 2292                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 21; ;
 2293                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 22; ; The maximum total size for a chrmap is 16KBytes, which allows for maps up
 2294                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 23; ; to 256x32 tiles (2048x256 pixels).
 2295                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 24; ;
 2296                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 25; ; ***************************************************************************
 2297                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 26; ; **************************************************************************/
 2298                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 28; // *************
 2299                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 29; // This code extends the blkmap library ...
 2300                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 30; // *************
 2301                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 32; #include "hucc-blkmap.h"
 2302                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 34; // *************
 2303                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 35; // Functions in chrmap.asm ...
 2304                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 36; // *************
 2305                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 38; #ifdef __HUCC__
 2306                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 40; #asmdef	HUCC_USES_CHRMAP 1
 2307                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 42; extern void __fastcall __nop set_chrmap( unsigned char __far *chrmap<vdc_map_bank:vdc_map_addr>, unsigned char tiles_w<vdc_map_line_w> );
 2308                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 44; extern void __fastcall draw_bat( void );
 2309                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 45; extern void __fastcall scroll_bat( void );
 2310                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 47; extern void __fastcall blit_bat( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 2311                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 49; #ifdef _SGX
 2312                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 51; extern void __fastcall __nop sgx_set_chrmap( unsigned char __far *chrmap<sgx_map_bank:sgx_map_addr>, unsigned char tiles_w<sgx_map_line_w> );
 2313                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 53; extern void __fastcall sgx_draw_bat( void );
 2314                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 54; extern void __fastcall sgx_scroll_bat( void );
 2315                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 56; extern void __fastcall sgx_blit_bat( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 2316                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 58; #endif
 2317                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 60; #endif // __HUCC__
 2318                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 62; #endif // _hucc_chrmap_h
 2319                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 4; #include "hucc-blkmap.h"
 2320                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 1; #ifndef _hucc_blkmap_h
 2321                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 2; #define _hucc_blkmap_h
 2322                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 4; /****************************************************************************
 2323                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 5; ; ***************************************************************************
 2324                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 6; ;
 2325                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 7; ; hucc-blkmap.h
 2326                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 8; ;
 2327                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 9; ; A map system based on 16x16 meta-tiles (aka "blocks", aka CHR/BLK/MAP).
 2328                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 10; ;
 2329                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 11; ; Copyright John Brandwood 2025.
 2330                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 12; ;
 2331                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 2332                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 2333                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 2334                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 16; ;
 2335                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 17; ; ***************************************************************************
 2336                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 18; ; ***************************************************************************
 2337                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 19; ;
 2338                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 20; ; The maximum X and Y size for blkmaps is 128 blocks (2048 pixels).
 2339                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 21; ;
 2340                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 22; ; The maximum total size for a blkmap is 16KBytes, which allows for maps up
 2341                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 23; ; to 128x128 blocks (2048x2048 pixels).
 2342                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 24; ;
 2343                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 25; ; Huge multi-screen blkmaps are also supported (optionally).
 2344                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 26; ;
 2345                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 27; ; The maximum X and Y for multi-screen maps is 128 screens (32768 pixels).
 2346                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 28; ;
 2347                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 29; ; The maximum total size for a multi-screen map is 8KBytes, which allows for
 2348                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 30; ; a total of 1024 screens.
 2349                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 31; ;
 2350                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 32; ; ***************************************************************************
 2351                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 33; ; **************************************************************************/
 2352                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 35; // *************
 2353                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 36; // Functions in blkmap.asm ...
 2354                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 37; // *************
 2355                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 39; #ifdef __HUCC__
 2356                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 41; #asmdef	HUCC_USES_BLKMAP 1
 2357                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 43; // Current top-left of drawn map in pixels.
 2358                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 44; extern unsigned int   vdc_map_pxl_x;
 2359                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 45; extern unsigned int   vdc_map_pxl_y;
 2360                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 47; // Width and height to draw/scroll in characters (not tiles).
 2361                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 48; extern unsigned char  vdc_map_draw_w;
 2362                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 49; extern unsigned char  vdc_map_draw_h;
 2363                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 51; // Width of map (or multi-screen BAT) in tiles.
 2364                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 52; extern unsigned char  vdc_map_line_w;
 2365                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 54; // Width of map in screens (if multi-screen map).
 2366                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 55; extern unsigned char  vdc_map_scrn_w;
 2367                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 57; // Extra information returned by get_map_block() and sgx_get_map_block(),
 2368                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 58; // which are the collision flags and the mask/overlay sprite for the BLK.
 2369                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 59; extern unsigned char  map_blk_flag;
 2370                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 60; extern unsigned char  map_blk_mask;
 2371                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 62; extern unsigned char  vdc_scr_bank;
 2372                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 63; extern unsigned char *vdc_scr_addr;
 2373                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 65; extern unsigned char  vdc_map_bank;
 2374                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 66; extern unsigned char *vdc_map_addr;
 2375                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 68; extern unsigned char  vdc_blk_bank;
 2376                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 69; extern unsigned char *vdc_blk_addr;
 2377                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 71; extern unsigned char  vdc_tbl_bank;
 2378                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 72; extern unsigned char *vdc_tbl_addr;
 2379                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 74; extern void __fastcall set_blocks( unsigned char __far *blk_def<vdc_blk_bank:vdc_blk_addr>, unsigned char __far *flg_def<vdc_tbl_bank:vdc_tbl_addr>, unsigned char number_of_blocks<_al> );
 2380                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 75; extern void __fastcall __macro set_blkmap( unsigned char __far *blk_map<vdc_map_bank:vdc_map_addr>, unsigned char blocks_w<vdc_map_line_w> );
 2381                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 76; extern void __fastcall __macro set_multimap( unsigned char __far *multi_map<vdc_scr_bank:vdc_scr_addr>, unsigned char screens_w<vdc_map_scrn_w> );
 2382                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 78; extern void __fastcall draw_map( void );
 2383                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 79; extern void __fastcall scroll_map( void );
 2384                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 81; extern void __fastcall blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 2385                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 83; extern unsigned char __fastcall get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
 2386                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 85; #asm
 2387                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 86; .macro	_set_blkmap.2
 2388                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 87; stz	vdc_scr_bank
 2389                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 88; .endm
 2390                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 90; .macro	_set_multimap.2
 2391                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 91; lda	vdc_bat_width
 2392                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 92; lsr	a
 2393                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 93; sta	vdc_map_line_w
 2394                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 94; .endm
 2395                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 96; .macro	SCREEN
 2396                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 97; db	(((\1) & $1FFF) | $6000) >> 8, bank(\1)
 2397                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 98; db	(((\2) & $1FFF) | $4000) >> 8, bank(\2)
 2398                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 99; db	(((\3) & $1FFF) | $6000) >> 8, bank(\3)
 2399                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 100; dw	(\4)
 2400                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 101; .endm
 2401                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 102; #endasm
 2402                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 104; #ifdef _SGX
 2403                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 106; // Current top-left of drawn map in pixels.
 2404                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 107; extern unsigned int   sgx_map_pxl_x;
 2405                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 108; extern unsigned int   sgx_map_pxl_y;
 2406                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 110; // Width and height to draw/scroll in characters (not tiles).
 2407                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 111; extern unsigned char  sgx_map_draw_w;
 2408                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 112; extern unsigned char  sgx_map_draw_h;
 2409                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 114; // Width of map (or multi-screen BAT) in tiles.
 2410                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 115; extern unsigned char  sgx_map_line_w;
 2411                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 117; // Width of map in screens (if multi-screen map).
 2412                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 118; extern unsigned char  sgx_map_scrn_w;
 2413                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 120; extern unsigned char  sgx_scr_bank;
 2414                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 121; extern unsigned char *sgx_scr_addr;
 2415                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 123; extern unsigned char  sgx_map_bank;
 2416                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 124; extern unsigned char *sgx_map_addr;
 2417                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 126; extern unsigned char  sgx_blk_bank;
 2418                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 127; extern unsigned char *sgx_blk_addr;
 2419                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 129; extern unsigned char  sgx_tbl_bank;
 2420                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 130; extern unsigned char *sgx_tbl_addr;
 2421                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 132; extern void __fastcall sgx_set_blocks( unsigned char __far *blk_def<sgx_blk_bank:sgx_blk_addr>, unsigned char __far *flg_def<sgx_tbl_bank:sgx_tbl_addr>, unsigned char number_of_blocks<_al> );
 2422                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 133; extern void __fastcall __macro sgx_set_blkmap( unsigned char __far *blk_map<sgx_map_bank:sgx_map_addr>, unsigned char blocks_w<sgx_map_line_w> );
 2423                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 134; extern void __fastcall __macro sgx_set_multimap( unsigned char __far *multi_map<sgx_scr_bank:sgx_scr_addr>, unsigned char screens_w<sgx_map_scrn_w> );
 2424                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 136; extern void __fastcall sgx_draw_map( void );
 2425                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 137; extern void __fastcall sgx_scroll_map( void );
 2426                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 139; extern void __fastcall sgx_blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 2427                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 141; extern unsigned char __fastcall sgx_get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
 2428                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 143; #asm
 2429                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 144; .macro	_sgx_set_blkmap.2
 2430                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 145; stz	sgx_scr_bank
 2431                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 146; .endm
 2432                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 148; .macro	_sgx_set_multimap.2
 2433                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 149; lda	sgx_bat_width
 2434                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 150; lsr	a
 2435                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 151; sta	sgx_map_line_w
 2436                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 152; .endm
 2437                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 153; #endasm
 2438                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 155; #endif
 2439                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 157; #endif // __HUCC__
 2440                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 159; #endif // _hucc_blkmap_h
 2441                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 13; #incchr(tileset_FONT,"res/maps/tiles_FONT.png");
 2442               7CE0     		.data
 2443    06:7CE0             	_tileset_FONT: 	.incchr		"res/maps/tiles_FONT.png"
 2444               E31D     		.code
 2445                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 16; //**************************************************************************************//
 2446                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 17; //                                                                                      //
 2447                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 18; //                                       LEVEL 1                                        //
 2448                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 19; //                                                                                      //
 2449                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 20; //**************************************************************************************//
 2450                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 22; #incchr(tileset_LV1_WALL,"res/maps/tiles_LV1_WALL.png", 4 , 4);
 2451               68E0     		.data
 2452    07:68E0             	_tileset_LV1_WALL: 	.incchr		"res/maps/tiles_LV1_WALL.png", 4, 4
 2453               E31D     		.code
 2454                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 23; #incchr(tileset_LV1_DOOR_OPEN,"res/maps/tiles_LV1_DOOR_OPEN.png", 4 , 6);
 2455               6AE0     		.data
 2456    07:6AE0             	_tileset_LV1_DOOR_OPEN: 	.incchr		"res/maps/tiles_LV1_DOOR_OPEN.png", 4, 6
 2457               E31D     		.code
 2458                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 24; #incchr(tileset_LV1_DOOR_CLOSED,"res/maps/tiles_LV1_DOOR_CLOSED.png", 4 , 6);
 2459               6DE0     		.data
 2460    07:6DE0             	_tileset_LV1_DOOR_CLOSED: 	.incchr		"res/maps/tiles_LV1_DOOR_CLOSED.png", 4, 6
 2461               E31D     		.code
 2462                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 26; #incchr(tileset_LIFE_RED,"res/maps/tileset_LIFE_RED.png", 2 , 1);
 2463               70E0     		.data
 2464    07:70E0             	_tileset_LIFE_RED: 	.incchr		"res/maps/tileset_LIFE_RED.png", 2, 1
 2465               E31D     		.code
 2466                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 27; #incchr(tileset_LIFE_ORANGE,"res/maps/tileset_LIFE_ORANGE.png", 2 , 1);
 2467               7120     		.data
 2468    07:7120             	_tileset_LIFE_ORANGE: 	.incchr		"res/maps/tileset_LIFE_ORANGE.png", 2, 1
 2469               E31D     		.code
 2470                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 28; #incchr(tileset_LIFE_YELLOW,"res/maps/tileset_LIFE_YELLOW.png", 2 , 1);
 2471               7160     		.data
 2472    07:7160             	_tileset_LIFE_YELLOW: 	.incchr		"res/maps/tileset_LIFE_YELLOW.png", 2, 1
 2473               E31D     		.code
 2474                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 29; #incchr(tileset_LIFE_EMPTY,"res/maps/tileset_LIFE_EMPTY.png", 2 , 1);
 2475               71A0     		.data
 2476    07:71A0             	_tileset_LIFE_EMPTY: 	.incchr		"res/maps/tileset_LIFE_EMPTY.png", 2, 1
 2477               E31D     		.code
 2478                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 31; #incchr(tileset_ARMOR_1,"res/maps/tileset_ARMOR_1.png", 2 , 2);
 2479               71E0     		.data
 2480    07:71E0             	_tileset_ARMOR_1: 	.incchr		"res/maps/tileset_ARMOR_1.png", 2, 2
 2481               E31D     		.code
 2482                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 32; #incchr(tileset_ARMOR_2,"res/maps/tileset_ARMOR_2.png", 2 , 2);
 2483               7260     		.data
 2484    07:7260             	_tileset_ARMOR_2: 	.incchr		"res/maps/tileset_ARMOR_2.png", 2, 2
 2485               E31D     		.code
 2486                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 33; #incchr(tileset_ARMOR_4,"res/maps/tileset_ARMOR_4.png", 2 , 2);
 2487               72E0     		.data
 2488    07:72E0             	_tileset_ARMOR_4: 	.incchr		"res/maps/tileset_ARMOR_4.png", 2, 2
 2489               E31D     		.code
 2490                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 34; #incchr(tileset_ARMOR_8,"res/maps/tileset_ARMOR_8.png", 2 , 2);
 2491               7360     		.data
 2492    07:7360             	_tileset_ARMOR_8: 	.incchr		"res/maps/tileset_ARMOR_8.png", 2, 2
 2493               E31D     		.code
 2494                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 36; #incchr(tileset_WEAPON_1,"res/maps/tileset_WEAPON_1.png", 2 , 2);
 2495               73E0     		.data
 2496    07:73E0             	_tileset_WEAPON_1: 	.incchr		"res/maps/tileset_WEAPON_1.png", 2, 2
 2497               E31D     		.code
 2498                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 37; #incchr(tileset_WEAPON_2,"res/maps/tileset_WEAPON_2.png", 2 , 2);
 2499               7460     		.data
 2500    07:7460             	_tileset_WEAPON_2: 	.incchr		"res/maps/tileset_WEAPON_2.png", 2, 2
 2501               E31D     		.code
 2502                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 38; #incchr(tileset_WEAPON_4,"res/maps/tileset_WEAPON_4.png", 2 , 2);
 2503               74E0     		.data
 2504    07:74E0             	_tileset_WEAPON_4: 	.incchr		"res/maps/tileset_WEAPON_4.png", 2, 2
 2505               E31D     		.code
 2506                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 39; #incchr(tileset_WEAPON_5,"res/maps/tileset_WEAPON_5.png", 2 , 2);
 2507               7560     		.data
 2508    07:7560             	_tileset_WEAPON_5: 	.incchr		"res/maps/tileset_WEAPON_5.png", 2, 2
 2509               E31D     		.code
 2510                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 40; #incchr(tileset_WEAPON_8,"res/maps/tileset_WEAPON_8.png", 2 , 2);
 2511               75E0     		.data
 2512    07:75E0             	_tileset_WEAPON_8: 	.incchr		"res/maps/tileset_WEAPON_8.png", 2, 2
 2513               E31D     		.code
 2514                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 43; //--------------------------------------------------------------------------------------//
 2515                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 44; //                                        VDC 2                                         //
 2516                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 45; //--------------------------------------------------------------------------------------//
 2517                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 47; #asm
 2518                        		.dbg	clear
 2519               0001     	OPTIMIZE	=	1
 2520               7660     			.data
 2521                        	; EXTRACT TILESET
 2522                        	;----------------
 2523    07:7660             	_tileset_LV1_BG_B:  incchr	"res/maps/template_LV1_WALL.png"
 2524    07:7860             			incchr	"res/maps/template_LV1_DOOR.png"
 2525    07:7B60             			incchr	"res/maps/tilemap_LV1_BG_B.png", OPTIMIZE
 2526                        	; EXTRACT BLOCKS
 2527                        	;--------------
 2528    0B:7000             	blocks_LV1_BG_B1:	incblk	"res/maps/tilemap_LV1_BG_B.png" , 0x1000 ,    0 ,   0 ,  64 , 32 , _tileset_LV1_BG_B ; // 96x16 = 1536 | 32x16 =  512
 2529    0B:7800             	blocks_LV1_BG_B2:	incblk	"res/maps/tilemap_LV1_BG_B.png" , 0x1000 , 1024 ,   0 ,  96 , 32 , _tileset_LV1_BG_B ; // 64x16 = 1024 | 32x16 =  512
 2530    0C:6000             	blocks_LV1_BG_B3:	incblk	"res/maps/tilemap_LV1_BG_B.png" , 0x1000 ,    0 , 512 ,  64 , 32 , _tileset_LV1_BG_B ; // 96x16 = 1536 | 16x16 =  256
 2531    0C:6800             	blocks_LV1_BG_B4:	incblk	"res/maps/tilemap_LV1_BG_B.png" , 0x1000 , 1024 , 512 ,  96 , 32 , _tileset_LV1_BG_B ; // 64x16 = 1024 | 16x16 =  256
 2532                        	; EXTRACT MAPS
 2533                        	;------------
 2534               7000     			align	256
 2535    0C:7000             	MAP_LV1_BG_B1:		incmap	"res/maps/tilemap_LV1_BG_B.png",    0 ,   0 ,  64 , 32 , blocks_LV1_BG_B1 ; // 96x16 = 1536 | 32x16 =  512
 2536               7800     			align	256
 2537    0C:7800             	MAP_LV1_BG_B2:		incmap	"res/maps/tilemap_LV1_BG_B.png", 1024 ,   0 ,  96 , 32 , blocks_LV1_BG_B2 ; // 64x16 = 1024 | 32x16 =  512
 2538               6400     			align	256
 2539    0D:6400             	MAP_LV1_BG_B3:		incmap	"res/maps/tilemap_LV1_BG_B.png",    0 , 512 ,  64 , 32 , blocks_LV1_BG_B3 ; // 96x16 = 1536 | 16x16 =  256
 2540               6C00     			align	256
 2541    0D:6C00             	MAP_LV1_BG_B4:		incmap	"res/maps/tilemap_LV1_BG_B.png", 1024 , 512 ,  96 , 32 , blocks_LV1_BG_B4 ; // 64x16 = 1024 | 16x16 =  256
 2542                        	; MASK (EMPTY)
 2543                        	;----------------
 2544    0D:7800  00 00 00 00	dummy_tbl:	ds	256
         0D:7804  00 00 00 00 
         0D:7808  00 00 00 00 
         0D:780C  00 00 00 00 
         0D:7810  00 00 00 00 
         0D:7814  00 00 00 00 
         0D:7818  00 00 00 00 
         0D:781C  00 00 00 00 
         0D:7820  00 00 00 00 
         0D:7824  00 00 00 00 
         0D:7828  00 00 00 00 
         0D:782C  00 00 00 00 
         0D:7830  00 00 00 00 
         0D:7834  00 00 00 00 
         0D:7838  00 00 00 00 
         0D:783C  00 00 00 00 
         0D:7840  00 00 00 00 
         0D:7844  00 00 00 00 
         0D:7848  00 00 00 00 
         0D:784C  00 00 00 00 
         0D:7850  00 00 00 00 
         0D:7854  00 00 00 00 
         0D:7858  00 00 00 00 
         0D:785C  00 00 00 00 
         0D:7860  00 00 00 00 
         0D:7864  00 00 00 00 
         0D:7868  00 00 00 00 
         0D:786C  00 00 00 00 
         0D:7870  00 00 00 00 
         0D:7874  00 00 00 00 
         0D:7878  00 00 00 00 
         0D:787C  00 00 00 00 
         0D:7880  00 00 00 00 
         0D:7884  00 00 00 00 
         0D:7888  00 00 00 00 
         0D:788C  00 00 00 00 
         0D:7890  00 00 00 00 
         0D:7894  00 00 00 00 
         0D:7898  00 00 00 00 
         0D:789C  00 00 00 00 
         0D:78A0  00 00 00 00 
         0D:78A4  00 00 00 00 
         0D:78A8  00 00 00 00 
         0D:78AC  00 00 00 00 
         0D:78B0  00 00 00 00 
         0D:78B4  00 00 00 00 
         0D:78B8  00 00 00 00 
         0D:78BC  00 00 00 00 
         0D:78C0  00 00 00 00 
         0D:78C4  00 00 00 00 
         0D:78C8  00 00 00 00 
         0D:78CC  00 00 00 00 
         0D:78D0  00 00 00 00 
         0D:78D4  00 00 00 00 
         0D:78D8  00 00 00 00 
         0D:78DC  00 00 00 00 
         0D:78E0  00 00 00 00 
         0D:78E4  00 00 00 00 
         0D:78E8  00 00 00 00 
         0D:78EC  00 00 00 00 
         0D:78F0  00 00 00 00 
         0D:78F4  00 00 00 00 
         0D:78F8  00 00 00 00 
         0D:78FC  00 00 00 00 
 2545                        	; SWIZZLE MAPS
 2546                        	;-------------
 2547    0D:7900             	swizzle	MAP_LV1_BG_B1,  32, 16 ;
 2548    0D:7900             	swizzle	MAP_LV1_BG_B2,  32, 16 ;
 2549    0D:7900             	swizzle	MAP_LV1_BG_B3,  32, 16 ;
 2550    0D:7900             	swizzle	MAP_LV1_BG_B4,  32, 16 ;
 2551                        	; BUILD MULTIMAP
 2552                        	;---------------
 2553    0D:7900             	_multimap_LV1_BG_B:
 2554                        			; 1st line of 5 screens (512x256)
 2555                        			SCREEN MAP_LV1_BG_B1 + 0x0000, blocks_LV1_BG_B1, dummy_tbl, 0
         0D:7900  70 0C      			db	(((MAP_LV1_BG_B1 + 0x0000) & $1FFF) | $6000) >> 8, bank(MAP_LV1_BG_B1 + 0x0000)
         0D:7902  50 0B      			db	(((blocks_LV1_BG_B1) & $1FFF) | $4000) >> 8, bank(blocks_LV1_BG_B1)
         0D:7904  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0D:7906  00 00      			dw	(0)
 2556                        			SCREEN MAP_LV1_BG_B1 + 0x0200, blocks_LV1_BG_B1, dummy_tbl, 0
         0D:7908  72 0C      			db	(((MAP_LV1_BG_B1 + 0x0200) & $1FFF) | $6000) >> 8, bank(MAP_LV1_BG_B1 + 0x0200)
         0D:790A  50 0B      			db	(((blocks_LV1_BG_B1) & $1FFF) | $4000) >> 8, bank(blocks_LV1_BG_B1)
         0D:790C  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0D:790E  00 00      			dw	(0)
 2557                        			SCREEN MAP_LV1_BG_B2 + 0x0000, blocks_LV1_BG_B2, dummy_tbl, 0
         0D:7910  78 0C      			db	(((MAP_LV1_BG_B2 + 0x0000) & $1FFF) | $6000) >> 8, bank(MAP_LV1_BG_B2 + 0x0000)
         0D:7912  58 0B      			db	(((blocks_LV1_BG_B2) & $1FFF) | $4000) >> 8, bank(blocks_LV1_BG_B2)
         0D:7914  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0D:7916  00 00      			dw	(0)
 2558                        			SCREEN MAP_LV1_BG_B2 + 0x0200, blocks_LV1_BG_B2, dummy_tbl, 0
         0D:7918  7A 0C      			db	(((MAP_LV1_BG_B2 + 0x0200) & $1FFF) | $6000) >> 8, bank(MAP_LV1_BG_B2 + 0x0200)
         0D:791A  58 0B      			db	(((blocks_LV1_BG_B2) & $1FFF) | $4000) >> 8, bank(blocks_LV1_BG_B2)
         0D:791C  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0D:791E  00 00      			dw	(0)
 2559                        			SCREEN MAP_LV1_BG_B2 + 0x0400, blocks_LV1_BG_B2, dummy_tbl, 0
         0D:7920  7C 0C      			db	(((MAP_LV1_BG_B2 + 0x0400) & $1FFF) | $6000) >> 8, bank(MAP_LV1_BG_B2 + 0x0400)
         0D:7922  58 0B      			db	(((blocks_LV1_BG_B2) & $1FFF) | $4000) >> 8, bank(blocks_LV1_BG_B2)
         0D:7924  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0D:7926  00 00      			dw	(0)
 2560                        			; 2nd line of 5 screens (512x256)
 2561                        			SCREEN MAP_LV1_BG_B1 + 0x0400, blocks_LV1_BG_B1, dummy_tbl, 0
         0D:7928  74 0C      			db	(((MAP_LV1_BG_B1 + 0x0400) & $1FFF) | $6000) >> 8, bank(MAP_LV1_BG_B1 + 0x0400)
         0D:792A  50 0B      			db	(((blocks_LV1_BG_B1) & $1FFF) | $4000) >> 8, bank(blocks_LV1_BG_B1)
         0D:792C  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0D:792E  00 00      			dw	(0)
 2562                        			SCREEN MAP_LV1_BG_B1 + 0x0600, blocks_LV1_BG_B1, dummy_tbl, 0
         0D:7930  76 0C      			db	(((MAP_LV1_BG_B1 + 0x0600) & $1FFF) | $6000) >> 8, bank(MAP_LV1_BG_B1 + 0x0600)
         0D:7932  50 0B      			db	(((blocks_LV1_BG_B1) & $1FFF) | $4000) >> 8, bank(blocks_LV1_BG_B1)
         0D:7934  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0D:7936  00 00      			dw	(0)
 2563                        			SCREEN MAP_LV1_BG_B2 + 0x0600, blocks_LV1_BG_B2, dummy_tbl, 0
         0D:7938  7E 0C      			db	(((MAP_LV1_BG_B2 + 0x0600) & $1FFF) | $6000) >> 8, bank(MAP_LV1_BG_B2 + 0x0600)
         0D:793A  58 0B      			db	(((blocks_LV1_BG_B2) & $1FFF) | $4000) >> 8, bank(blocks_LV1_BG_B2)
         0D:793C  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0D:793E  00 00      			dw	(0)
 2564                        			SCREEN MAP_LV1_BG_B2 + 0x0800, blocks_LV1_BG_B2, dummy_tbl, 0
         0D:7940  60 0D      			db	(((MAP_LV1_BG_B2 + 0x0800) & $1FFF) | $6000) >> 8, bank(MAP_LV1_BG_B2 + 0x0800)
         0D:7942  58 0B      			db	(((blocks_LV1_BG_B2) & $1FFF) | $4000) >> 8, bank(blocks_LV1_BG_B2)
         0D:7944  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0D:7946  00 00      			dw	(0)
 2565                        			SCREEN MAP_LV1_BG_B2 + 0x0A00, blocks_LV1_BG_B2, dummy_tbl, 0
         0D:7948  62 0D      			db	(((MAP_LV1_BG_B2 + 0x0A00) & $1FFF) | $6000) >> 8, bank(MAP_LV1_BG_B2 + 0x0A00)
         0D:794A  58 0B      			db	(((blocks_LV1_BG_B2) & $1FFF) | $4000) >> 8, bank(blocks_LV1_BG_B2)
         0D:794C  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0D:794E  00 00      			dw	(0)
 2566                        			; 3rd line of 5 screens (512x256)
 2567                        			SCREEN MAP_LV1_BG_B3 + 0x0000, blocks_LV1_BG_B3, dummy_tbl, 0
         0D:7950  64 0D      			db	(((MAP_LV1_BG_B3 + 0x0000) & $1FFF) | $6000) >> 8, bank(MAP_LV1_BG_B3 + 0x0000)
         0D:7952  40 0C      			db	(((blocks_LV1_BG_B3) & $1FFF) | $4000) >> 8, bank(blocks_LV1_BG_B3)
         0D:7954  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0D:7956  00 00      			dw	(0)
 2568                        			SCREEN MAP_LV1_BG_B3 + 0x0200, blocks_LV1_BG_B3, dummy_tbl, 0
         0D:7958  66 0D      			db	(((MAP_LV1_BG_B3 + 0x0200) & $1FFF) | $6000) >> 8, bank(MAP_LV1_BG_B3 + 0x0200)
         0D:795A  40 0C      			db	(((blocks_LV1_BG_B3) & $1FFF) | $4000) >> 8, bank(blocks_LV1_BG_B3)
         0D:795C  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0D:795E  00 00      			dw	(0)
 2569                        			SCREEN MAP_LV1_BG_B4 + 0x0000, blocks_LV1_BG_B4, dummy_tbl, 0
         0D:7960  6C 0D      			db	(((MAP_LV1_BG_B4 + 0x0000) & $1FFF) | $6000) >> 8, bank(MAP_LV1_BG_B4 + 0x0000)
         0D:7962  48 0C      			db	(((blocks_LV1_BG_B4) & $1FFF) | $4000) >> 8, bank(blocks_LV1_BG_B4)
         0D:7964  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0D:7966  00 00      			dw	(0)
 2570                        			SCREEN MAP_LV1_BG_B4 + 0x0200, blocks_LV1_BG_B4, dummy_tbl, 0
         0D:7968  6E 0D      			db	(((MAP_LV1_BG_B4 + 0x0200) & $1FFF) | $6000) >> 8, bank(MAP_LV1_BG_B4 + 0x0200)
         0D:796A  48 0C      			db	(((blocks_LV1_BG_B4) & $1FFF) | $4000) >> 8, bank(blocks_LV1_BG_B4)
         0D:796C  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0D:796E  00 00      			dw	(0)
 2571                        			SCREEN MAP_LV1_BG_B4 + 0x0400, blocks_LV1_BG_B4, dummy_tbl, 0
         0D:7970  70 0D      			db	(((MAP_LV1_BG_B4 + 0x0400) & $1FFF) | $6000) >> 8, bank(MAP_LV1_BG_B4 + 0x0400)
         0D:7972  48 0C      			db	(((blocks_LV1_BG_B4) & $1FFF) | $4000) >> 8, bank(blocks_LV1_BG_B4)
         0D:7974  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0D:7976  00 00      			dw	(0)
 2572                        			; 4th line of 5 screens (512x256)
 2573                        			SCREEN MAP_LV1_BG_B3 + 0x0400, blocks_LV1_BG_B3, dummy_tbl, 0
         0D:7978  68 0D      			db	(((MAP_LV1_BG_B3 + 0x0400) & $1FFF) | $6000) >> 8, bank(MAP_LV1_BG_B3 + 0x0400)
         0D:797A  40 0C      			db	(((blocks_LV1_BG_B3) & $1FFF) | $4000) >> 8, bank(blocks_LV1_BG_B3)
         0D:797C  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0D:797E  00 00      			dw	(0)
 2574                        			SCREEN MAP_LV1_BG_B3 + 0x0600, blocks_LV1_BG_B3, dummy_tbl, 0
         0D:7980  6A 0D      			db	(((MAP_LV1_BG_B3 + 0x0600) & $1FFF) | $6000) >> 8, bank(MAP_LV1_BG_B3 + 0x0600)
         0D:7982  40 0C      			db	(((blocks_LV1_BG_B3) & $1FFF) | $4000) >> 8, bank(blocks_LV1_BG_B3)
         0D:7984  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0D:7986  00 00      			dw	(0)
 2575                        			SCREEN MAP_LV1_BG_B4 + 0x0600, blocks_LV1_BG_B4, dummy_tbl, 0
         0D:7988  72 0D      			db	(((MAP_LV1_BG_B4 + 0x0600) & $1FFF) | $6000) >> 8, bank(MAP_LV1_BG_B4 + 0x0600)
         0D:798A  48 0C      			db	(((blocks_LV1_BG_B4) & $1FFF) | $4000) >> 8, bank(blocks_LV1_BG_B4)
         0D:798C  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0D:798E  00 00      			dw	(0)
 2576                        			SCREEN MAP_LV1_BG_B4 + 0x0800, blocks_LV1_BG_B4, dummy_tbl, 0
         0D:7990  74 0D      			db	(((MAP_LV1_BG_B4 + 0x0800) & $1FFF) | $6000) >> 8, bank(MAP_LV1_BG_B4 + 0x0800)
         0D:7992  48 0C      			db	(((blocks_LV1_BG_B4) & $1FFF) | $4000) >> 8, bank(blocks_LV1_BG_B4)
         0D:7994  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0D:7996  00 00      			dw	(0)
 2577                        			SCREEN MAP_LV1_BG_B4 + 0x0A00, blocks_LV1_BG_B4, dummy_tbl, 0
         0D:7998  76 0D      			db	(((MAP_LV1_BG_B4 + 0x0A00) & $1FFF) | $6000) >> 8, bank(MAP_LV1_BG_B4 + 0x0A00)
         0D:799A  48 0C      			db	(((blocks_LV1_BG_B4) & $1FFF) | $4000) >> 8, bank(blocks_LV1_BG_B4)
         0D:799C  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0D:799E  00 00      			dw	(0)
 2578                        	;//--------------------------------------------------------------------------------------//
 2579                        	;//                                        VDC 1                                         //
 2580                        	;//--------------------------------------------------------------------------------------//
 2581                        	; EXTRACT TILESET
 2582                        	;----------------
 2583    0D:79A0             	_tileset_HUD:	incchr	"res/maps/template_LIFEBAR_1.png"
 2584    0D:79E0             			incchr	"res/maps/template_LIFEBAR_2.png"
 2585    0D:7A20             			incchr	"res/maps/template_LIFEBAR_3.png"
 2586    0D:7A60             			incchr	"res/maps/template_LIFEBAR_4.png"
 2587    0D:7AA0             			incchr	"res/maps/template_LIFEBAR_5.png"
 2588    0D:7AE0             			incchr	"res/maps/tileset_WEAPON_1.png"
 2589    0D:7B60             			incchr	"res/maps/tileset_ARMOR_2.png"
 2590    0D:7BE0             			incchr	"res/maps/tilemap_HUD.png", OPTIMIZE
 2591                        	; EXTRACT BLOCKS
 2592                        	;--------------
 2593    0E:6800             	blocks_HUD1:	incblk	"res/maps/tilemap_HUD.png" , 0x1000 ,    0 ,   0 , 128 , 64 , _tileset_HUD ; // 128x16 = 2048 | 64x16 = 1024
 2594    0E:7000             	blocks_HUD2:	incblk	"res/maps/tilemap_HUD.png" , 0x1000 , 2048 ,   0 ,  32 , 64 , _tileset_HUD ; //  32x16 =  512 | 64x16 = 1024
 2595                        	; EXTRACT MAPS
 2596                        	;------------
 2597               7800     			align	256
 2598    0E:7800             	MAP_HUD1:		incmap	"res/maps/tilemap_HUD.png",    0 ,   0 , 128 , 64 , blocks_HUD1 ; // 128x16 = 2048 | 64x16 = 1024
 2599    0F:7800             			flagmap "res/maps/collision_LV1.png",       0 ,   0 , 128 , 64 , MAP_HUD1
 2600               7800     			align	256
 2601    0F:7800             	MAP_HUD2:		incmap	"res/maps/tilemap_HUD.png", 2048 ,   0 ,  32 , 64 , blocks_HUD2 ; //  32x16 =  512 | 64x16 = 1024
 2602    0F:8000             			flagmap "res/maps/collision_LV1.png",    2048 ,   0 ,  32 , 64 , MAP_HUD2
 2603                        	; SWIZZLE MAPS
 2604                        	;-------------
 2605    0F:8000             	swizzle	MAP_HUD1,  32, 16 ;
 2606    0F:8000             	swizzle	MAP_HUD2,  32, 16 ;
 2607                        	; BUILD MULTIMAP
 2608                        	;---------------
 2609    10:6000             	_multimap_LV1_BG_A:
 2610                        			; 1st line of 5 screens (512x256)
 2611                        			SCREEN MAP_HUD1 + 0x0000, blocks_HUD1, dummy_tbl, 0
         10:6000  78 0E      			db	(((MAP_HUD1 + 0x0000) & $1FFF) | $6000) >> 8, bank(MAP_HUD1 + 0x0000)
         10:6002  48 0E      			db	(((blocks_HUD1) & $1FFF) | $4000) >> 8, bank(blocks_HUD1)
         10:6004  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         10:6006  00 00      			dw	(0)
 2612                        			SCREEN MAP_HUD1 + 0x0200, blocks_HUD1, dummy_tbl, 0
         10:6008  7A 0E      			db	(((MAP_HUD1 + 0x0200) & $1FFF) | $6000) >> 8, bank(MAP_HUD1 + 0x0200)
         10:600A  48 0E      			db	(((blocks_HUD1) & $1FFF) | $4000) >> 8, bank(blocks_HUD1)
         10:600C  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         10:600E  00 00      			dw	(0)
 2613                        			SCREEN MAP_HUD1 + 0x0400, blocks_HUD1, dummy_tbl, 0
         10:6010  7C 0E      			db	(((MAP_HUD1 + 0x0400) & $1FFF) | $6000) >> 8, bank(MAP_HUD1 + 0x0400)
         10:6012  48 0E      			db	(((blocks_HUD1) & $1FFF) | $4000) >> 8, bank(blocks_HUD1)
         10:6014  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         10:6016  00 00      			dw	(0)
 2614                        			SCREEN MAP_HUD1 + 0x0600, blocks_HUD1, dummy_tbl, 0
         10:6018  7E 0E      			db	(((MAP_HUD1 + 0x0600) & $1FFF) | $6000) >> 8, bank(MAP_HUD1 + 0x0600)
         10:601A  48 0E      			db	(((blocks_HUD1) & $1FFF) | $4000) >> 8, bank(blocks_HUD1)
         10:601C  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         10:601E  00 00      			dw	(0)
 2615                        			SCREEN MAP_HUD2 + 0x0000, blocks_HUD2, dummy_tbl, 0
         10:6020  78 0F      			db	(((MAP_HUD2 + 0x0000) & $1FFF) | $6000) >> 8, bank(MAP_HUD2 + 0x0000)
         10:6022  50 0E      			db	(((blocks_HUD2) & $1FFF) | $4000) >> 8, bank(blocks_HUD2)
         10:6024  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         10:6026  00 00      			dw	(0)
 2616                        			; 2nd line of 5 screens (512x256)
 2617                        			SCREEN MAP_HUD1 + 0x0800, blocks_HUD1, dummy_tbl, 0
         10:6028  60 0F      			db	(((MAP_HUD1 + 0x0800) & $1FFF) | $6000) >> 8, bank(MAP_HUD1 + 0x0800)
         10:602A  48 0E      			db	(((blocks_HUD1) & $1FFF) | $4000) >> 8, bank(blocks_HUD1)
         10:602C  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         10:602E  00 00      			dw	(0)
 2618                        			SCREEN MAP_HUD1 + 0x0A00, blocks_HUD1, dummy_tbl, 0
         10:6030  62 0F      			db	(((MAP_HUD1 + 0x0A00) & $1FFF) | $6000) >> 8, bank(MAP_HUD1 + 0x0A00)
         10:6032  48 0E      			db	(((blocks_HUD1) & $1FFF) | $4000) >> 8, bank(blocks_HUD1)
         10:6034  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         10:6036  00 00      			dw	(0)
 2619                        			SCREEN MAP_HUD1 + 0x0C00, blocks_HUD1, dummy_tbl, 0
         10:6038  64 0F      			db	(((MAP_HUD1 + 0x0C00) & $1FFF) | $6000) >> 8, bank(MAP_HUD1 + 0x0C00)
         10:603A  48 0E      			db	(((blocks_HUD1) & $1FFF) | $4000) >> 8, bank(blocks_HUD1)
         10:603C  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         10:603E  00 00      			dw	(0)
 2620                        			SCREEN MAP_HUD1 + 0x0E00, blocks_HUD1, dummy_tbl, 0
         10:6040  66 0F      			db	(((MAP_HUD1 + 0x0E00) & $1FFF) | $6000) >> 8, bank(MAP_HUD1 + 0x0E00)
         10:6042  48 0E      			db	(((blocks_HUD1) & $1FFF) | $4000) >> 8, bank(blocks_HUD1)
         10:6044  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         10:6046  00 00      			dw	(0)
 2621                        			SCREEN MAP_HUD2 + 0x0200, blocks_HUD2, dummy_tbl, 0
         10:6048  7A 0F      			db	(((MAP_HUD2 + 0x0200) & $1FFF) | $6000) >> 8, bank(MAP_HUD2 + 0x0200)
         10:604A  50 0E      			db	(((blocks_HUD2) & $1FFF) | $4000) >> 8, bank(blocks_HUD2)
         10:604C  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         10:604E  00 00      			dw	(0)
 2622                        			; 3rd line of 5 screens (512x256)
 2623                        			SCREEN MAP_HUD1 + 0x1000, blocks_HUD1, dummy_tbl, 0
         10:6050  68 0F      			db	(((MAP_HUD1 + 0x1000) & $1FFF) | $6000) >> 8, bank(MAP_HUD1 + 0x1000)
         10:6052  48 0E      			db	(((blocks_HUD1) & $1FFF) | $4000) >> 8, bank(blocks_HUD1)
         10:6054  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         10:6056  00 00      			dw	(0)
 2624                        			SCREEN MAP_HUD1 + 0x1200, blocks_HUD1, dummy_tbl, 0
         10:6058  6A 0F      			db	(((MAP_HUD1 + 0x1200) & $1FFF) | $6000) >> 8, bank(MAP_HUD1 + 0x1200)
         10:605A  48 0E      			db	(((blocks_HUD1) & $1FFF) | $4000) >> 8, bank(blocks_HUD1)
         10:605C  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         10:605E  00 00      			dw	(0)
 2625                        			SCREEN MAP_HUD1 + 0x1400, blocks_HUD1, dummy_tbl, 0
         10:6060  6C 0F      			db	(((MAP_HUD1 + 0x1400) & $1FFF) | $6000) >> 8, bank(MAP_HUD1 + 0x1400)
         10:6062  48 0E      			db	(((blocks_HUD1) & $1FFF) | $4000) >> 8, bank(blocks_HUD1)
         10:6064  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         10:6066  00 00      			dw	(0)
 2626                        			SCREEN MAP_HUD1 + 0x1600, blocks_HUD1, dummy_tbl, 0
         10:6068  6E 0F      			db	(((MAP_HUD1 + 0x1600) & $1FFF) | $6000) >> 8, bank(MAP_HUD1 + 0x1600)
         10:606A  48 0E      			db	(((blocks_HUD1) & $1FFF) | $4000) >> 8, bank(blocks_HUD1)
         10:606C  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         10:606E  00 00      			dw	(0)
 2627                        			SCREEN MAP_HUD2 + 0x0400, blocks_HUD2, dummy_tbl, 0
         10:6070  7C 0F      			db	(((MAP_HUD2 + 0x0400) & $1FFF) | $6000) >> 8, bank(MAP_HUD2 + 0x0400)
         10:6072  50 0E      			db	(((blocks_HUD2) & $1FFF) | $4000) >> 8, bank(blocks_HUD2)
         10:6074  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         10:6076  00 00      			dw	(0)
 2628                        			; 4th line of 5 screens (512x256)
 2629                        			SCREEN MAP_HUD1 + 0x1800, blocks_HUD1, dummy_tbl, 0
         10:6078  70 0F      			db	(((MAP_HUD1 + 0x1800) & $1FFF) | $6000) >> 8, bank(MAP_HUD1 + 0x1800)
         10:607A  48 0E      			db	(((blocks_HUD1) & $1FFF) | $4000) >> 8, bank(blocks_HUD1)
         10:607C  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         10:607E  00 00      			dw	(0)
 2630                        			SCREEN MAP_HUD1 + 0x1A00, blocks_HUD1, dummy_tbl, 0
         10:6080  72 0F      			db	(((MAP_HUD1 + 0x1A00) & $1FFF) | $6000) >> 8, bank(MAP_HUD1 + 0x1A00)
         10:6082  48 0E      			db	(((blocks_HUD1) & $1FFF) | $4000) >> 8, bank(blocks_HUD1)
         10:6084  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         10:6086  00 00      			dw	(0)
 2631                        			SCREEN MAP_HUD1 + 0x1C00, blocks_HUD1, dummy_tbl, 0
         10:6088  74 0F      			db	(((MAP_HUD1 + 0x1C00) & $1FFF) | $6000) >> 8, bank(MAP_HUD1 + 0x1C00)
         10:608A  48 0E      			db	(((blocks_HUD1) & $1FFF) | $4000) >> 8, bank(blocks_HUD1)
         10:608C  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         10:608E  00 00      			dw	(0)
 2632                        			SCREEN MAP_HUD1 + 0x1E00, blocks_HUD1, dummy_tbl, 0
         10:6090  76 0F      			db	(((MAP_HUD1 + 0x1E00) & $1FFF) | $6000) >> 8, bank(MAP_HUD1 + 0x1E00)
         10:6092  48 0E      			db	(((blocks_HUD1) & $1FFF) | $4000) >> 8, bank(blocks_HUD1)
         10:6094  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         10:6096  00 00      			dw	(0)
 2633                        			SCREEN MAP_HUD2 + 0x0600, blocks_HUD2, dummy_tbl, 0
         10:6098  7E 0F      			db	(((MAP_HUD2 + 0x0600) & $1FFF) | $6000) >> 8, bank(MAP_HUD2 + 0x0600)
         10:609A  50 0E      			db	(((blocks_HUD2) & $1FFF) | $4000) >> 8, bank(blocks_HUD2)
         10:609C  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         10:609E  00 00      			dw	(0)
 2634               E31D     			.code
 2635                        	
 2636                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 207; #endasm
 2637                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 211; //--------------------------------------------------------------------------------------//
 2638                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 212; //                                   EXTRACT PALETTES                                   //
 2639                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 213; //--------------------------------------------------------------------------------------//
 2640                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 215; #incpal(palette_LV1,"res/maps/tilemap_LV1_BG_B.png");
 2641               60A0     		.data
 2642    10:60A0             	_palette_LV1:	.incpal		"res/maps/tilemap_LV1_BG_B.png"
 2643               E31D     		.code
 2644                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 224; //**************************************************************************************//
 2645                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 225; //                                                                                      //
 2646                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 226; //                                         SHOP                                         //
 2647                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 227; //                                                                                      //
 2648                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 228; //**************************************************************************************//
 2649                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 230; #asm
 2650                        		.dbg	clear
 2651               0001     	OPTIMIZE	=	1
 2652               62A0     			.data
 2653                        	;//--------------------------------------------------------------------------------------//
 2654                        	;//                                        VDC 1                                         //
 2655                        	;//--------------------------------------------------------------------------------------//
 2656                        	; EXTRACT TILESET
 2657                        	;----------------
 2658    10:62A0             	_tileset_SHOP_BG_B:		incchr	"res/maps/template_ITEM_1.png"
 2659    10:6320             			incchr	"res/maps/template_ITEM_2.png"
 2660    10:63A0             			incchr	"res/maps/template_ITEM_3.png"
 2661    10:6420             			incchr	"res/maps/template_ITEM_4.png"
 2662    10:64A0             			incchr	"res/maps/template_ITEM_5.png"
 2663    10:6520             			incchr	"res/maps/template_ITEM_6.png"
 2664    10:65A0             			incchr	"res/maps/template_ITEM_7.png"
 2665    10:6620             			incchr	"res/maps/template_ITEM_8.png"
 2666    10:66A0             			incchr	"res/maps/template_ITEM_9.png"
 2667    10:6720             			incchr	"res/maps/template_ITEM_10.png"
 2668    10:67A0             			incchr	"res/maps/tilemap_SHOP_BG_B.png", OPTIMIZE
 2669               E31D     			.code
 2670                        	
 2671                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 254; #endasm
 2672                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 257; // EXTRACT BLOCKS //
 2673                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 258; #incblk(blocks_SHOP_BG_B, "res/maps/tilemap_SHOP_BG_B.png", 0x1000, tileset_SHOP_BG_B);
 2674               7C00     		.data
 2675    12:6000             	_blocks_SHOP_BG_B:	.incblk		"res/maps/tilemap_SHOP_BG_B.png", 4096, _tileset_SHOP_BG_B
 2676               E31D     		.code
 2677                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 260; // EXTRACT MAP //
 2678                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 261; #incmap(map_SHOP_BG_B, "res/maps/tilemap_SHOP_BG_B.png", blocks_SHOP_BG_B);
 2679               6800     		.data
 2680    12:6800             	_map_SHOP_BG_B:	.incmap		"res/maps/tilemap_SHOP_BG_B.png", _blocks_SHOP_BG_B
 2681               E31D     		.code
 2682                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 264; //--------------------------------------------------------------------------------------//
 2683                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 265; //                                        ITEMS                                         //
 2684                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 266; //--------------------------------------------------------------------------------------//
 2685                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 268; #incchr(tiles_ITEM_WEAPON_2,"res/maps/tiles_ITEM_WEAPON_2.png", 2 , 2);
 2686               68E0     		.data
 2687    12:68E0             	_tiles_ITEM_WEAPON_2: 	.incchr		"res/maps/tiles_ITEM_WEAPON_2.png", 2, 2
 2688               E31D     		.code
 2689                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 269; #incchr(tiles_ITEM_WEAPON_3,"res/maps/tiles_ITEM_WEAPON_3.png", 2 , 2);
 2690               6960     		.data
 2691    12:6960             	_tiles_ITEM_WEAPON_3: 	.incchr		"res/maps/tiles_ITEM_WEAPON_3.png", 2, 2
 2692               E31D     		.code
 2693                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 270; #incchr(tiles_ITEM_WEAPON_4,"res/maps/tiles_ITEM_WEAPON_4.png", 2 , 2);
 2694               69E0     		.data
 2695    12:69E0             	_tiles_ITEM_WEAPON_4: 	.incchr		"res/maps/tiles_ITEM_WEAPON_4.png", 2, 2
 2696               E31D     		.code
 2697                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 271; #incchr(tiles_ITEM_WEAPON_5,"res/maps/tiles_ITEM_WEAPON_5.png", 2 , 2);
 2698               6A60     		.data
 2699    12:6A60             	_tiles_ITEM_WEAPON_5: 	.incchr		"res/maps/tiles_ITEM_WEAPON_5.png", 2, 2
 2700               E31D     		.code
 2701                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 272; #incchr(tiles_ITEM_KEY,"res/maps/tiles_ITEM_KEY.png", 2 , 2);
 2702               6AE0     		.data
 2703    12:6AE0             	_tiles_ITEM_KEY: 	.incchr		"res/maps/tiles_ITEM_KEY.png", 2, 2
 2704               E31D     		.code
 2705                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 273; #incchr(tiles_ITEM_ARMOR_2,"res/maps/tiles_ITEM_ARMOR_2.png", 2 , 2);
 2706               6B60     		.data
 2707    12:6B60             	_tiles_ITEM_ARMOR_2: 	.incchr		"res/maps/tiles_ITEM_ARMOR_2.png", 2, 2
 2708               E31D     		.code
 2709                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 274; #incchr(tiles_ITEM_ARMOR_3,"res/maps/tiles_ITEM_ARMOR_3.png", 2 , 2);
 2710               6BE0     		.data
 2711    12:6BE0             	_tiles_ITEM_ARMOR_3: 	.incchr		"res/maps/tiles_ITEM_ARMOR_3.png", 2, 2
 2712               E31D     		.code
 2713                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 275; #incchr(tiles_ITEM_ARMOR_4,"res/maps/tiles_ITEM_ARMOR_4.png", 2 , 2);
 2714               6C60     		.data
 2715    12:6C60             	_tiles_ITEM_ARMOR_4: 	.incchr		"res/maps/tiles_ITEM_ARMOR_4.png", 2, 2
 2716               E31D     		.code
 2717                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 276; #incchr(tiles_ITEM_ARMOR_5,"res/maps/tiles_ITEM_ARMOR_5.png", 2 , 2);
 2718               6CE0     		.data
 2719    12:6CE0             	_tiles_ITEM_ARMOR_5: 	.incchr		"res/maps/tiles_ITEM_ARMOR_5.png", 2, 2
 2720               E31D     		.code
 2721                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 277; #incchr(tiles_ITEM_POTION,"res/maps/tiles_ITEM_POTION.png", 2 , 2);
 2722               6D60     		.data
 2723    12:6D60             	_tiles_ITEM_POTION: 	.incchr		"res/maps/tiles_ITEM_POTION.png", 2, 2
 2724               E31D     		.code
 2725                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 279; //#incchr(tileset_NUMBERS_SHOP_FONT,"res/maps/tiles_NUMBERS_SHOP_FONT.png");
 2726                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 282; //--------------------------------------------------------------------------------------//
 2727                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 283; //                                   EXTRACT PALETTES                                   //
 2728                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 284; //--------------------------------------------------------------------------------------//
 2729                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 286; #incpal(palette_SHOP,"res/maps/tilemap_SHOP_BG_B.png");
 2730               6DE0     		.data
 2731    12:6DE0             	_palette_SHOP:	.incpal		"res/maps/tilemap_SHOP_BG_B.png"
 2732               E31D     		.code
 2733                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 287; #incpal(palette_SHOP_ITEMS,"res/palettes/palette_SHOP_ITEMS.png");
 2734               6FE0     		.data
 2735    12:6FE0             	_palette_SHOP_ITEMS:	.incpal		"res/palettes/palette_SHOP_ITEMS.png"
 2736               E31D     		.code
 2737                        		.dbg	line,	"Black_Tiger.c", 13; #include "include/gfx_BG_TITLE.c"
 2738                        		.dbg	line,	"include\gfx_BG_TITLE.c", 1; #include "huc.h"
 2739                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 1; #ifndef _hucc_legacy_h
 2740                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 2; #define _hucc_legacy_h
 2741                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 4; /****************************************************************************
 2742                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 5; ; ***************************************************************************
 2743                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 6; ;
 2744                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 7; ; huc.h
 2745                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 8; ;
 2746                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 9; ; HuCC wrapper file to include a default set of HuC-compatible functions.
 2747                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 10; ;
 2748                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 11; ; Copyright John Brandwood 2024.
 2749                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 12; ;
 2750                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 2751                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 2752                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 2753                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 16; ;
 2754                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 17; ; ***************************************************************************
 2755                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 18; ; ***************************************************************************
 2756                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 19; ;
 2757                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 20; ; When the HuCC compiler is invoked with the "--legacy" option to compile old
 2758                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 21; ; projects, then this "huc.h" file is automatically included.
 2759                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 22; ;
 2760                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 23; ; This file includes a set of the individual HuCC headers which correspond to
 2761                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 24; ; HuC's built-in functions and MagicKit library.
 2762                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 25; ;
 2763                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 26; ; New HuCC projects should, preferably, include the specific headers that are
 2764                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 27; ; needed, which will then allow them to replace parts of the standard library
 2765                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 28; ; with newer functions, or they can just manually include this "huc.h" file.
 2766                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 29; ;
 2767                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 30; ; ***************************************************************************
 2768                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 31; ; **************************************************************************/
 2769                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 33; #include "hucc-systemcard.h"
 2770                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 34; #include "hucc-baselib.h"
 2771                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 35; #include "hucc-gfx.h"
 2772                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 36; #include "hucc-old-scroll.h"
 2773                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 37; #include "hucc-old-spr.h"
 2774                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 38; #include "hucc-old-map.h"
 2775                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 39; #include "hucc-old-line.h"
 2776                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 41; #include <stdlib.h>
 2777                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 42; #include <string.h>
 2778                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 44; #endif // _hucc_legacy_h
 2779                        		.dbg	line,	"include\gfx_BG_TITLE.c", 2; #include "hucc-scroll.h"
 2780                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 1; #ifndef _hucc_scroll_h
 2781                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 2; #define _hucc_scroll_h
 2782                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 4; /****************************************************************************
 2783                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 5; ; ***************************************************************************
 2784                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 6; ;
 2785                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 7; ; hucc-scroll.h
 2786                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 8; ;
 2787                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 9; ; Routines for a fast split-screen scrolling system.
 2788                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 10; ;
 2789                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 11; ; Copyright John Brandwood 2024.
 2790                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 12; ;
 2791                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 2792                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 2793                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 2794                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 16; ;
 2795                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 17; ; ***************************************************************************
 2796                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 18; ; ***************************************************************************
 2797                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 19; ;
 2798                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 20; ; The maximum number of splits for each screen layer is set in your project's
 2799                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 21; ; "hucc-config.inc" file, with the library having a limit of 128-per-layer.
 2800                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 22; ;
 2801                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 23; ; Your first active split must be defined to start at screen line 0, and then
 2802                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 24; ; the rest of the active splits must be in increasing line order to match the
 2803                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 25; ; way that the PC Engine displays the output image.
 2804                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 26; ;
 2805                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 27; ; You can have disabled splits interleaved with your active splits.
 2806                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 28; ;
 2807                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 29; ; Splits that are normally disabled can be used to create full screen effects
 2808                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 30; ; such as bouncing the screen up and down by adding blank areas at the top or
 2809                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 31; ; bottom of the screen, and then rapidly changing the height of those areas.
 2810                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 32; ;
 2811                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 33; ; ***************************************************************************
 2812                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 34; ; **************************************************************************/
 2813                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 36; // *************
 2814                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 37; // VDC bits for display_flags ...
 2815                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 38; // *************
 2816                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 40; #ifndef BKG_OFF
 2817                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 41; #define BKG_OFF 0x00
 2818                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 42; #endif
 2819                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 44; #ifndef SPR_OFF
 2820                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 45; #define SPR_OFF 0x00
 2821                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 46; #endif
 2822                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 48; #ifndef BKG_ON
 2823                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 49; #define BKG_ON 0x80
 2824                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 50; #endif
 2825                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 52; #ifndef SPR_ON
 2826                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 53; #define SPR_ON 0x40
 2827                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 54; #endif
 2828                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 56; // *************
 2829                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 57; // Functions in hucc-scroll.asm ...
 2830                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 58; // *************
 2831                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 60; #ifdef __HUCC__
 2832                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 62; #asmdef	HUCC_USES_NEW_SCROLL 1
 2833                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 64; extern void __fastcall scroll_split( unsigned char index<_al>, unsigned char screen_line<_ah>, unsigned int bat_x<_bx>, unsigned int bat_y<_cx>, unsigned char display_flags<_dl> );
 2834                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 65; extern void __fastcall sgx_scroll_split( unsigned char index<_al>, unsigned char screen_line<_ah>, unsigned int bat_x<_bx>, unsigned int bat_y<_cx>, unsigned char display_flags<_dl> );
 2835                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 67; extern void __fastcall disable_split( unsigned char index<acc> );
 2836                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 68; extern void __fastcall sgx_disable_split( unsigned char index<acc> );
 2837                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 70; extern void __fastcall __macro disable_all_splits( void );
 2838                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 71; extern void __fastcall __macro sgx_disable_all_splits( void );
 2839                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 73; #asm
 2840                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 74; .macro	_disable_all_splits
 2841                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 75; ldy	#HUCC_PCE_SPLITS - 1
 2842                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 76; !loop:		tya
 2843                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 77; call	_disable_split.1
 2844                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 78; dey
 2845                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 79; bpl	!loop-
 2846                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 80; .endm
 2847                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 82; .macro	_sgx_disable_all_splits
 2848                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 83; ldy	#HUCC_SGX_SPLITS - 1
 2849                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 84; !loop:		tya
 2850                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 85; call	_sgx_disable_split.1
 2851                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 86; dey
 2852                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 87; bpl	!loop-
 2853                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 88; .endm
 2854                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 89; #endasm
 2855                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 91; #endif // __HUCC__
 2856                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 93; #endif // _hucc_scroll_h
 2857                        		.dbg	line,	"include\gfx_BG_TITLE.c", 3; #include "hucc-chrmap.h"
 2858                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 1; #ifndef _hucc_chrmap_h
 2859                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 2; #define _hucc_chrmap_h
 2860                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 4; /****************************************************************************
 2861                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 5; ; ***************************************************************************
 2862                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 6; ;
 2863                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 7; ; hucc-chrmap.h
 2864                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 8; ;
 2865                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 9; ; A simple map system based on 8x8 characters (aka "tiles") in BAT format.
 2866                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 10; ;
 2867                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 11; ; Copyright John Brandwood 2025.
 2868                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 12; ;
 2869                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 2870                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 2871                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 2872                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 16; ;
 2873                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 17; ; ***************************************************************************
 2874                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 18; ; ***************************************************************************
 2875                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 19; ;
 2876                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 20; ; The maximum X and Y size for chrmaps is 256 characters (2048 pixels).
 2877                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 21; ;
 2878                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 22; ; The maximum total size for a chrmap is 16KBytes, which allows for maps up
 2879                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 23; ; to 256x32 tiles (2048x256 pixels).
 2880                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 24; ;
 2881                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 25; ; ***************************************************************************
 2882                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 26; ; **************************************************************************/
 2883                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 28; // *************
 2884                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 29; // This code extends the blkmap library ...
 2885                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 30; // *************
 2886                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 32; #include "hucc-blkmap.h"
 2887                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 34; // *************
 2888                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 35; // Functions in chrmap.asm ...
 2889                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 36; // *************
 2890                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 38; #ifdef __HUCC__
 2891                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 40; #asmdef	HUCC_USES_CHRMAP 1
 2892                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 42; extern void __fastcall __nop set_chrmap( unsigned char __far *chrmap<vdc_map_bank:vdc_map_addr>, unsigned char tiles_w<vdc_map_line_w> );
 2893                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 44; extern void __fastcall draw_bat( void );
 2894                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 45; extern void __fastcall scroll_bat( void );
 2895                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 47; extern void __fastcall blit_bat( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 2896                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 49; #ifdef _SGX
 2897                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 51; extern void __fastcall __nop sgx_set_chrmap( unsigned char __far *chrmap<sgx_map_bank:sgx_map_addr>, unsigned char tiles_w<sgx_map_line_w> );
 2898                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 53; extern void __fastcall sgx_draw_bat( void );
 2899                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 54; extern void __fastcall sgx_scroll_bat( void );
 2900                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 56; extern void __fastcall sgx_blit_bat( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 2901                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 58; #endif
 2902                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 60; #endif // __HUCC__
 2903                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 62; #endif // _hucc_chrmap_h
 2904                        		.dbg	line,	"include\gfx_BG_TITLE.c", 4; #include "hucc-blkmap.h"
 2905                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 1; #ifndef _hucc_blkmap_h
 2906                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 2; #define _hucc_blkmap_h
 2907                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 4; /****************************************************************************
 2908                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 5; ; ***************************************************************************
 2909                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 6; ;
 2910                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 7; ; hucc-blkmap.h
 2911                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 8; ;
 2912                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 9; ; A map system based on 16x16 meta-tiles (aka "blocks", aka CHR/BLK/MAP).
 2913                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 10; ;
 2914                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 11; ; Copyright John Brandwood 2025.
 2915                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 12; ;
 2916                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 2917                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 2918                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 2919                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 16; ;
 2920                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 17; ; ***************************************************************************
 2921                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 18; ; ***************************************************************************
 2922                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 19; ;
 2923                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 20; ; The maximum X and Y size for blkmaps is 128 blocks (2048 pixels).
 2924                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 21; ;
 2925                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 22; ; The maximum total size for a blkmap is 16KBytes, which allows for maps up
 2926                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 23; ; to 128x128 blocks (2048x2048 pixels).
 2927                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 24; ;
 2928                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 25; ; Huge multi-screen blkmaps are also supported (optionally).
 2929                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 26; ;
 2930                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 27; ; The maximum X and Y for multi-screen maps is 128 screens (32768 pixels).
 2931                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 28; ;
 2932                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 29; ; The maximum total size for a multi-screen map is 8KBytes, which allows for
 2933                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 30; ; a total of 1024 screens.
 2934                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 31; ;
 2935                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 32; ; ***************************************************************************
 2936                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 33; ; **************************************************************************/
 2937                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 35; // *************
 2938                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 36; // Functions in blkmap.asm ...
 2939                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 37; // *************
 2940                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 39; #ifdef __HUCC__
 2941                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 41; #asmdef	HUCC_USES_BLKMAP 1
 2942                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 43; // Current top-left of drawn map in pixels.
 2943                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 44; extern unsigned int   vdc_map_pxl_x;
 2944                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 45; extern unsigned int   vdc_map_pxl_y;
 2945                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 47; // Width and height to draw/scroll in characters (not tiles).
 2946                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 48; extern unsigned char  vdc_map_draw_w;
 2947                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 49; extern unsigned char  vdc_map_draw_h;
 2948                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 51; // Width of map (or multi-screen BAT) in tiles.
 2949                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 52; extern unsigned char  vdc_map_line_w;
 2950                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 54; // Width of map in screens (if multi-screen map).
 2951                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 55; extern unsigned char  vdc_map_scrn_w;
 2952                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 57; // Extra information returned by get_map_block() and sgx_get_map_block(),
 2953                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 58; // which are the collision flags and the mask/overlay sprite for the BLK.
 2954                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 59; extern unsigned char  map_blk_flag;
 2955                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 60; extern unsigned char  map_blk_mask;
 2956                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 62; extern unsigned char  vdc_scr_bank;
 2957                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 63; extern unsigned char *vdc_scr_addr;
 2958                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 65; extern unsigned char  vdc_map_bank;
 2959                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 66; extern unsigned char *vdc_map_addr;
 2960                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 68; extern unsigned char  vdc_blk_bank;
 2961                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 69; extern unsigned char *vdc_blk_addr;
 2962                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 71; extern unsigned char  vdc_tbl_bank;
 2963                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 72; extern unsigned char *vdc_tbl_addr;
 2964                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 74; extern void __fastcall set_blocks( unsigned char __far *blk_def<vdc_blk_bank:vdc_blk_addr>, unsigned char __far *flg_def<vdc_tbl_bank:vdc_tbl_addr>, unsigned char number_of_blocks<_al> );
 2965                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 75; extern void __fastcall __macro set_blkmap( unsigned char __far *blk_map<vdc_map_bank:vdc_map_addr>, unsigned char blocks_w<vdc_map_line_w> );
 2966                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 76; extern void __fastcall __macro set_multimap( unsigned char __far *multi_map<vdc_scr_bank:vdc_scr_addr>, unsigned char screens_w<vdc_map_scrn_w> );
 2967                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 78; extern void __fastcall draw_map( void );
 2968                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 79; extern void __fastcall scroll_map( void );
 2969                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 81; extern void __fastcall blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 2970                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 83; extern unsigned char __fastcall get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
 2971                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 85; #asm
 2972                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 86; .macro	_set_blkmap.2
 2973                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 87; stz	vdc_scr_bank
 2974                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 88; .endm
 2975                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 90; .macro	_set_multimap.2
 2976                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 91; lda	vdc_bat_width
 2977                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 92; lsr	a
 2978                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 93; sta	vdc_map_line_w
 2979                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 94; .endm
 2980                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 96; .macro	SCREEN
 2981                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 97; db	(((\1) & $1FFF) | $6000) >> 8, bank(\1)
 2982                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 98; db	(((\2) & $1FFF) | $4000) >> 8, bank(\2)
 2983                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 99; db	(((\3) & $1FFF) | $6000) >> 8, bank(\3)
 2984                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 100; dw	(\4)
 2985                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 101; .endm
 2986                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 102; #endasm
 2987                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 104; #ifdef _SGX
 2988                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 106; // Current top-left of drawn map in pixels.
 2989                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 107; extern unsigned int   sgx_map_pxl_x;
 2990                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 108; extern unsigned int   sgx_map_pxl_y;
 2991                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 110; // Width and height to draw/scroll in characters (not tiles).
 2992                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 111; extern unsigned char  sgx_map_draw_w;
 2993                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 112; extern unsigned char  sgx_map_draw_h;
 2994                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 114; // Width of map (or multi-screen BAT) in tiles.
 2995                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 115; extern unsigned char  sgx_map_line_w;
 2996                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 117; // Width of map in screens (if multi-screen map).
 2997                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 118; extern unsigned char  sgx_map_scrn_w;
 2998                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 120; extern unsigned char  sgx_scr_bank;
 2999                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 121; extern unsigned char *sgx_scr_addr;
 3000                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 123; extern unsigned char  sgx_map_bank;
 3001                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 124; extern unsigned char *sgx_map_addr;
 3002                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 126; extern unsigned char  sgx_blk_bank;
 3003                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 127; extern unsigned char *sgx_blk_addr;
 3004                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 129; extern unsigned char  sgx_tbl_bank;
 3005                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 130; extern unsigned char *sgx_tbl_addr;
 3006                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 132; extern void __fastcall sgx_set_blocks( unsigned char __far *blk_def<sgx_blk_bank:sgx_blk_addr>, unsigned char __far *flg_def<sgx_tbl_bank:sgx_tbl_addr>, unsigned char number_of_blocks<_al> );
 3007                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 133; extern void __fastcall __macro sgx_set_blkmap( unsigned char __far *blk_map<sgx_map_bank:sgx_map_addr>, unsigned char blocks_w<sgx_map_line_w> );
 3008                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 134; extern void __fastcall __macro sgx_set_multimap( unsigned char __far *multi_map<sgx_scr_bank:sgx_scr_addr>, unsigned char screens_w<sgx_map_scrn_w> );
 3009                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 136; extern void __fastcall sgx_draw_map( void );
 3010                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 137; extern void __fastcall sgx_scroll_map( void );
 3011                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 139; extern void __fastcall sgx_blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 3012                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 141; extern unsigned char __fastcall sgx_get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
 3013                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 143; #asm
 3014                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 144; .macro	_sgx_set_blkmap.2
 3015                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 145; stz	sgx_scr_bank
 3016                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 146; .endm
 3017                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 148; .macro	_sgx_set_multimap.2
 3018                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 149; lda	sgx_bat_width
 3019                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 150; lsr	a
 3020                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 151; sta	sgx_map_line_w
 3021                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 152; .endm
 3022                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 153; #endasm
 3023                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 155; #endif
 3024                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 157; #endif // __HUCC__
 3025                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 159; #endif // _hucc_blkmap_h
 3026                        		.dbg	line,	"include\gfx_BG_TITLE.c", 13; #incchr(tileset_FONT_TITLE,"res/maps/tiles_FONT_TITLE.png");
 3027               71E0     		.data
 3028    12:71E0             	_tileset_FONT_TITLE: 	.incchr		"res/maps/tiles_FONT_TITLE.png"
 3029               E31D     		.code
 3030                        		.dbg	line,	"include\gfx_BG_TITLE.c", 16; //**************************************************************************************//
 3031                        		.dbg	line,	"include\gfx_BG_TITLE.c", 17; //                                                                                      //
 3032                        		.dbg	line,	"include\gfx_BG_TITLE.c", 18; //                                        TITLE                                         //
 3033                        		.dbg	line,	"include\gfx_BG_TITLE.c", 19; //                                                                                      //
 3034                        		.dbg	line,	"include\gfx_BG_TITLE.c", 20; //**************************************************************************************//
 3035                        		.dbg	line,	"include\gfx_BG_TITLE.c", 22; #incchr(tileset_TITLE_BG_B, "res/maps/tilemap_TITLE_BG_B.png", _OPTIMIZE)
 3036               7DE0     		.data
 3037    12:7DE0             	_tileset_TITLE_BG_B: 	.incchr		"res/maps/tilemap_TITLE_BG_B.png", 1
 3038               E31D     		.code
 3039                        		.dbg	line,	"include\gfx_BG_TITLE.c", 24; #incbat(tilemap_TITLE_BG_B,"res/maps/tilemap_TITLE_BG_B.png", 0x1000 , 32 , 28 , tileset_TITLE_BG_B);
 3040               7A40     		.data
 3041    13:7A40             	_tilemap_TITLE_BG_B:	.incbat		"res/maps/tilemap_TITLE_BG_B.png", 4096, 32, 28, _tileset_TITLE_BG_B
 3042               E31D     		.code
 3043                        		.dbg	line,	"Black_Tiger.c", 13; #incpal(palette_TITLE, "res/maps/tilemap_TITLE_BG_B.png")
 3044               6140     		.data
 3045    14:6140             	_palette_TITLE:	.incpal		"res/maps/tilemap_TITLE_BG_B.png"
 3046               E31D     		.code
 3047                        		.dbg	line,	"Black_Tiger.c", 14; #include "include/gfx_SPRITES.c"
 3048                        		.dbg	line,	"include\gfx_SPRITES.c", 1; #include "huc.h"
 3049                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 1; #ifndef _hucc_legacy_h
 3050                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 2; #define _hucc_legacy_h
 3051                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 4; /****************************************************************************
 3052                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 5; ; ***************************************************************************
 3053                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 6; ;
 3054                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 7; ; huc.h
 3055                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 8; ;
 3056                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 9; ; HuCC wrapper file to include a default set of HuC-compatible functions.
 3057                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 10; ;
 3058                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 11; ; Copyright John Brandwood 2024.
 3059                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 12; ;
 3060                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 3061                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 3062                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 3063                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 16; ;
 3064                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 17; ; ***************************************************************************
 3065                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 18; ; ***************************************************************************
 3066                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 19; ;
 3067                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 20; ; When the HuCC compiler is invoked with the "--legacy" option to compile old
 3068                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 21; ; projects, then this "huc.h" file is automatically included.
 3069                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 22; ;
 3070                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 23; ; This file includes a set of the individual HuCC headers which correspond to
 3071                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 24; ; HuC's built-in functions and MagicKit library.
 3072                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 25; ;
 3073                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 26; ; New HuCC projects should, preferably, include the specific headers that are
 3074                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 27; ; needed, which will then allow them to replace parts of the standard library
 3075                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 28; ; with newer functions, or they can just manually include this "huc.h" file.
 3076                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 29; ;
 3077                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 30; ; ***************************************************************************
 3078                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 31; ; **************************************************************************/
 3079                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 33; #include "hucc-systemcard.h"
 3080                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 34; #include "hucc-baselib.h"
 3081                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 35; #include "hucc-gfx.h"
 3082                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 36; #include "hucc-old-scroll.h"
 3083                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 37; #include "hucc-old-spr.h"
 3084                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 38; #include "hucc-old-map.h"
 3085                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 39; #include "hucc-old-line.h"
 3086                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 41; #include <stdlib.h>
 3087                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 42; #include <string.h>
 3088                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 44; #endif // _hucc_legacy_h
 3089                        		.dbg	line,	"include\gfx_SPRITES.c", 10; #incspr(tiles_SPR_DRAGON_INTRO,"res/sprites/tiles_SPR_DRAGON_INTRO.png")
 3090               6340     		.data
 3091    14:6340             	_tiles_SPR_DRAGON_INTRO:	.incspr		"res/sprites/tiles_SPR_DRAGON_INTRO.png"
 3092               E31D     		.code
 3093                        		.dbg	line,	"include\gfx_SPRITES.c", 11; #incpal(palette_SPR_DRAGON_INTRO,"res/sprites/tiles_SPR_DRAGON_INTRO.png");
 3094               6340     		.data
 3095    16:6340             	_palette_SPR_DRAGON_INTRO:	.incpal		"res/sprites/tiles_SPR_DRAGON_INTRO.png"
 3096               E31D     		.code
 3097                        		.dbg	line,	"include\gfx_SPRITES.c", 13; #incspr(tiles_SPR_SELECTOR,"res/sprites/tiles_SPR_SELECTOR.png")
 3098               6540     		.data
 3099    16:6540             	_tiles_SPR_SELECTOR:	.incspr		"res/sprites/tiles_SPR_SELECTOR.png"
 3100               E31D     		.code
 3101                        		.dbg	line,	"include\gfx_SPRITES.c", 16; // EXTRACT PLAYER TILES //
 3102                        		.dbg	line,	"include\gfx_SPRITES.c", 17; #incspr(tiles_SPR_PLAYER_ARMOR,"res/sprites/tiles_SPR_PLAYER_ARMOR.png")
 3103               65C0     		.data
 3104    16:65C0             	_tiles_SPR_PLAYER_ARMOR:	.incspr		"res/sprites/tiles_SPR_PLAYER_ARMOR.png"
 3105               E31D     		.code
 3106                        		.dbg	line,	"include\gfx_SPRITES.c", 18; #incspr(tiles_SPR_PLAYER_NAKED,"res/sprites/tiles_SPR_PLAYER_NAKED.png")
 3107               77C0     		.data
 3108    17:77C0             	_tiles_SPR_PLAYER_NAKED:	.incspr		"res/sprites/tiles_SPR_PLAYER_NAKED.png"
 3109               E31D     		.code
 3110                        		.dbg	line,	"include\gfx_SPRITES.c", 20; // EXTRACT PLAYER PALETTE //
 3111                        		.dbg	line,	"include\gfx_SPRITES.c", 21; #incpal(palette_PLAYER_1,"res/palettes/palette_PLAYER_1.png");
 3112               69C0     		.data
 3113    19:69C0             	_palette_PLAYER_1:	.incpal		"res/palettes/palette_PLAYER_1.png"
 3114               E31D     		.code
 3115                        		.dbg	line,	"include\gfx_SPRITES.c", 22; #incpal(palette_PLAYER_4,"res/palettes/palette_PLAYER_4.png");
 3116               6BC0     		.data
 3117    19:6BC0             	_palette_PLAYER_4:	.incpal		"res/palettes/palette_PLAYER_4.png"
 3118               E31D     		.code
 3119                        		.dbg	line,	"include\gfx_SPRITES.c", 23; #incpal(palette_PLAYER_5,"res/palettes/palette_PLAYER_5.png");
 3120               6DC0     		.data
 3121    19:6DC0             	_palette_PLAYER_5:	.incpal		"res/palettes/palette_PLAYER_5.png"
 3122               E31D     		.code
 3123                        		.dbg	line,	"include\gfx_SPRITES.c", 24; #incpal(palette_PLAYER_8,"res/palettes/palette_PLAYER_8.png");
 3124               6FC0     		.data
 3125    19:6FC0             	_palette_PLAYER_8:	.incpal		"res/palettes/palette_PLAYER_8.png"
 3126               E31D     		.code
 3127                        		.dbg	line,	"include\gfx_SPRITES.c", 27; // EXTRACT WEAPONS TILES //
 3128                        		.dbg	line,	"include\gfx_SPRITES.c", 28; #incspr(tiles_SPR_CHAIN,"res/sprites/tiles_SPR_CHAIN.png")
 3129               71C0     		.data
 3130    19:71C0             	_tiles_SPR_CHAIN:	.incspr		"res/sprites/tiles_SPR_CHAIN.png"
 3131               E31D     		.code
 3132                        		.dbg	line,	"include\gfx_SPRITES.c", 29; #incspr(tiles_SPR_WEAPON_0,"res/sprites/tiles_SPR_WEAPON_0.png")
 3133               7240     		.data
 3134    19:7240             	_tiles_SPR_WEAPON_0:	.incspr		"res/sprites/tiles_SPR_WEAPON_0.png"
 3135               E31D     		.code
 3136                        		.dbg	line,	"include\gfx_SPRITES.c", 30; #incspr(tiles_SPR_WEAPON_1,"res/sprites/tiles_SPR_WEAPON_1.png")
 3137               74C0     		.data
 3138    19:74C0             	_tiles_SPR_WEAPON_1:	.incspr		"res/sprites/tiles_SPR_WEAPON_1.png"
 3139               E31D     		.code
 3140                        		.dbg	line,	"include\gfx_SPRITES.c", 31; #incspr(tiles_SPR_WEAPON_2,"res/sprites/tiles_SPR_WEAPON_2.png")
 3141               7740     		.data
 3142    19:7740             	_tiles_SPR_WEAPON_2:	.incspr		"res/sprites/tiles_SPR_WEAPON_2.png"
 3143               E31D     		.code
 3144                        		.dbg	line,	"include\gfx_SPRITES.c", 32; #incspr(tiles_SPR_WEAPON_3,"res/sprites/tiles_SPR_WEAPON_3.png")
 3145               79C0     		.data
 3146    19:79C0             	_tiles_SPR_WEAPON_3:	.incspr		"res/sprites/tiles_SPR_WEAPON_3.png"
 3147               E31D     		.code
 3148                        		.dbg	line,	"include\gfx_SPRITES.c", 33; #incspr(tiles_SPR_WEAPON_4,"res/sprites/tiles_SPR_WEAPON_4.png")
 3149               7C40     		.data
 3150    19:7C40             	_tiles_SPR_WEAPON_4:	.incspr		"res/sprites/tiles_SPR_WEAPON_4.png"
 3151               E31D     		.code
 3152                        		.dbg	line,	"include\gfx_SPRITES.c", 36; #incspr(tiles_SPR_HIT,"res/sprites/tiles_SPR_HIT.png")
 3153               7EC0     		.data
 3154    19:7EC0             	_tiles_SPR_HIT:	.incspr		"res/sprites/tiles_SPR_HIT.png"
 3155               E31D     		.code
 3156                        		.dbg	line,	"include\gfx_SPRITES.c", 39; // EXTRACT OBJECTS TILES //
 3157                        		.dbg	line,	"include\gfx_SPRITES.c", 40; #incspr(tiles_SPR_BARREL,"res/sprites/tiles_SPR_BARREL.png")
 3158               7F40     		.data
 3159    19:7F40             	_tiles_SPR_BARREL:	.incspr		"res/sprites/tiles_SPR_BARREL.png"
 3160               E31D     		.code
 3161                        		.dbg	line,	"include\gfx_SPRITES.c", 41; #incspr(tiles_SPR_CHEST,"res/sprites/tiles_SPR_CHEST.png")
 3162               7FC0     		.data
 3163    19:7FC0             	_tiles_SPR_CHEST:	.incspr		"res/sprites/tiles_SPR_CHEST.png"
 3164               E31D     		.code
 3165                        		.dbg	line,	"include\gfx_SPRITES.c", 42; #incspr(tiles_SPR_COIN_1,"res/sprites/tiles_SPR_COIN_1.png")
 3166               6BC0     		.data
 3167    1A:6BC0             	_tiles_SPR_COIN_1:	.incspr		"res/sprites/tiles_SPR_COIN_1.png"
 3168               E31D     		.code
 3169                        		.dbg	line,	"include\gfx_SPRITES.c", 43; #incspr(tiles_SPR_COIN_5,"res/sprites/tiles_SPR_COIN_5.png")
 3170               6C40     		.data
 3171    1A:6C40             	_tiles_SPR_COIN_5:	.incspr		"res/sprites/tiles_SPR_COIN_5.png"
 3172               E31D     		.code
 3173                        		.dbg	line,	"include\gfx_SPRITES.c", 44; #incspr(tiles_SPR_COIN_10,"res/sprites/tiles_SPR_COIN_10.png")
 3174               6CC0     		.data
 3175    1A:6CC0             	_tiles_SPR_COIN_10:	.incspr		"res/sprites/tiles_SPR_COIN_10.png"
 3176               E31D     		.code
 3177                        		.dbg	line,	"include\gfx_SPRITES.c", 45; #incspr(tiles_SPR_COIN_50,"res/sprites/tiles_SPR_COIN_50.png")
 3178               6D40     		.data
 3179    1A:6D40             	_tiles_SPR_COIN_50:	.incspr		"res/sprites/tiles_SPR_COIN_50.png"
 3180               E31D     		.code
 3181                        		.dbg	line,	"include\gfx_SPRITES.c", 46; #incspr(tiles_SPR_COIN_100,"res/sprites/tiles_SPR_COIN_100.png")
 3182               6DC0     		.data
 3183    1A:6DC0             	_tiles_SPR_COIN_100:	.incspr		"res/sprites/tiles_SPR_COIN_100.png"
 3184               E31D     		.code
 3185                        		.dbg	line,	"include\gfx_SPRITES.c", 47; #incspr(tiles_SPR_COIN_500,"res/sprites/tiles_SPR_COIN_500.png")
 3186               6E40     		.data
 3187    1A:6E40             	_tiles_SPR_COIN_500:	.incspr		"res/sprites/tiles_SPR_COIN_500.png"
 3188               E31D     		.code
 3189                        		.dbg	line,	"include\gfx_SPRITES.c", 48; #incspr(tiles_SPR_COIN_1000,"res/sprites/tiles_SPR_COIN_1000.png")
 3190               6EC0     		.data
 3191    1A:6EC0             	_tiles_SPR_COIN_1000:	.incspr		"res/sprites/tiles_SPR_COIN_1000.png"
 3192               E31D     		.code
 3193                        		.dbg	line,	"include\gfx_SPRITES.c", 49; #incspr(tiles_SPR_FRUIT,"res/sprites/tiles_SPR_FRUIT.png")
 3194               6F40     		.data
 3195    1A:6F40             	_tiles_SPR_FRUIT:	.incspr		"res/sprites/tiles_SPR_FRUIT.png"
 3196               E31D     		.code
 3197                        		.dbg	line,	"include\gfx_SPRITES.c", 50; #incspr(tiles_SPR_GRAY_KEY,"res/sprites/tiles_SPR_GRAY_KEY.png")
 3198               6FC0     		.data
 3199    1A:6FC0             	_tiles_SPR_GRAY_KEY:	.incspr		"res/sprites/tiles_SPR_GRAY_KEY.png"
 3200               E31D     		.code
 3201                        		.dbg	line,	"include\gfx_SPRITES.c", 51; #incspr(tiles_SPR_GOLD_KEY,"res/sprites/tiles_SPR_GOLD_KEY.png")
 3202               7040     		.data
 3203    1A:7040             	_tiles_SPR_GOLD_KEY:	.incspr		"res/sprites/tiles_SPR_GOLD_KEY.png"
 3204               E31D     		.code
 3205                        		.dbg	line,	"include\gfx_SPRITES.c", 52; #incspr(tiles_SPR_HOURGLASS,"res/sprites/tiles_SPR_HOURGLASS.png")
 3206               70C0     		.data
 3207    1A:70C0             	_tiles_SPR_HOURGLASS:	.incspr		"res/sprites/tiles_SPR_HOURGLASS.png"
 3208               E31D     		.code
 3209                        		.dbg	line,	"include\gfx_SPRITES.c", 53; #incspr(tiles_SPR_LIFE,"res/sprites/tiles_SPR_LIFE.png")
 3210               7140     		.data
 3211    1A:7140             	_tiles_SPR_LIFE:	.incspr		"res/sprites/tiles_SPR_LIFE.png"
 3212               E31D     		.code
 3213                        		.dbg	line,	"include\gfx_SPRITES.c", 54; #incspr(tiles_SPR_OCTOPUS,"res/sprites/tiles_SPR_OCTOPUS.png")
 3214               71C0     		.data
 3215    1A:71C0             	_tiles_SPR_OCTOPUS:	.incspr		"res/sprites/tiles_SPR_OCTOPUS.png"
 3216               E31D     		.code
 3217                        		.dbg	line,	"include\gfx_SPRITES.c", 55; #incspr(tiles_SPR_POT,"res/sprites/tiles_SPR_POT.png")
 3218               7240     		.data
 3219    1A:7240             	_tiles_SPR_POT:	.incspr		"res/sprites/tiles_SPR_POT.png"
 3220               E31D     		.code
 3221                        		.dbg	line,	"include\gfx_SPRITES.c", 56; #incspr(tiles_SPR_POW,"res/sprites/tiles_SPR_POW.png")
 3222               7640     		.data
 3223    1A:7640             	_tiles_SPR_POW:	.incspr		"res/sprites/tiles_SPR_POW.png"
 3224               E31D     		.code
 3225                        		.dbg	line,	"include\gfx_SPRITES.c", 57; #incspr(tiles_SPR_STAR,"res/sprites/tiles_SPR_STAR.png")
 3226               76C0     		.data
 3227    1A:76C0             	_tiles_SPR_STAR:	.incspr		"res/sprites/tiles_SPR_STAR.png"
 3228               E31D     		.code
 3229                        		.dbg	line,	"include\gfx_SPRITES.c", 58; #incspr(tiles_SPR_BAMBOO,"res/sprites/tiles_SPR_BAMBOO.png")
 3230               7740     		.data
 3231    1A:7740             	_tiles_SPR_BAMBOO:	.incspr		"res/sprites/tiles_SPR_BAMBOO.png"
 3232               E31D     		.code
 3233                        		.dbg	line,	"include\gfx_SPRITES.c", 59; #incspr(tiles_SPR_YASHICHI,"res/sprites/tiles_SPR_YASHICHI.png")
 3234               77C0     		.data
 3235    1A:77C0             	_tiles_SPR_YASHICHI:	.incspr		"res/sprites/tiles_SPR_YASHICHI.png"
 3236               E31D     		.code
 3237                        		.dbg	line,	"include\gfx_SPRITES.c", 60; #incspr(tiles_SPR_ELEPHANT,"res/sprites/tiles_SPR_ELEPHANT.png")
 3238               7840     		.data
 3239    1A:7840             	_tiles_SPR_ELEPHANT:	.incspr		"res/sprites/tiles_SPR_ELEPHANT.png"
 3240               E31D     		.code
 3241                        		.dbg	line,	"include\gfx_SPRITES.c", 61; #incspr(tiles_SPR_DRAGONFLY,"res/sprites/tiles_SPR_DRAGONFLY.png")
 3242               78C0     		.data
 3243    1A:78C0             	_tiles_SPR_DRAGONFLY:	.incspr		"res/sprites/tiles_SPR_DRAGONFLY.png"
 3244               E31D     		.code
 3245                        		.dbg	line,	"include\gfx_SPRITES.c", 62; #incspr(tiles_SPR_COW,"res/sprites/tiles_SPR_COW.png")
 3246               7940     		.data
 3247    1A:7940             	_tiles_SPR_COW:	.incspr		"res/sprites/tiles_SPR_COW.png"
 3248               E31D     		.code
 3249                        		.dbg	line,	"include\gfx_SPRITES.c", 63; #incspr(tiles_SPR_MOBICHAN,"res/sprites/tiles_SPR_MOBICHAN.png")
 3250               79C0     		.data
 3251    1A:79C0             	_tiles_SPR_MOBICHAN:	.incspr		"res/sprites/tiles_SPR_MOBICHAN.png"
 3252               E31D     		.code
 3253                        		.dbg	line,	"include\gfx_SPRITES.c", 65; // EXTRACT OBJECTS PALETTE //
 3254                        		.dbg	line,	"include\gfx_SPRITES.c", 66; #incpal(palette_objects_1,"res/palettes/palette_objects_1.png");
 3255               7A40     		.data
 3256    1A:7A40             	_palette_objects_1:	.incpal		"res/palettes/palette_objects_1.png"
 3257               E31D     		.code
 3258                        		.dbg	line,	"include\gfx_SPRITES.c", 67; #incpal(palette_objects_2,"res/palettes/palette_objects_2.png");
 3259               7C40     		.data
 3260    1A:7C40             	_palette_objects_2:	.incpal		"res/palettes/palette_objects_2.png"
 3261               E31D     		.code
 3262                        		.dbg	line,	"include\gfx_SPRITES.c", 70; // EXTRACT NPCS TILES //
 3263                        		.dbg	line,	"include\gfx_SPRITES.c", 71; #incspr(tiles_SPR_NPC,"res/sprites/tiles_SPR_NPC.png")
 3264               7E40     		.data
 3265    1A:7E40             	_tiles_SPR_NPC:	.incspr		"res/sprites/tiles_SPR_NPC.png"
 3266               E31D     		.code
 3267                        		.dbg	line,	"include\gfx_SPRITES.c", 75; // EXTRACT CURSOR TILES //
 3268                        		.dbg	line,	"include\gfx_SPRITES.c", 76; #incspr(tiles_SPR_CURSOR,"res/sprites/tiles_SPR_CURSOR.png")
 3269               6A40     		.data
 3270    1B:6A40             	_tiles_SPR_CURSOR:	.incspr		"res/sprites/tiles_SPR_CURSOR.png"
 3271               E31D     		.code
 3272                        		.dbg	line,	"include\gfx_SPRITES.c", 81; // EXTRACT ENEMIES TILES //
 3273                        		.dbg	line,	"include\gfx_SPRITES.c", 82; #incspr(tiles_SPR_ORC,"res/sprites/tiles_SPR_ORC.png")
 3274               6C40     		.data
 3275    1B:6C40             	_tiles_SPR_ORC:	.incspr		"res/sprites/tiles_SPR_ORC.png"
 3276               E31D     		.code
 3277                        		.dbg	line,	"include\gfx_SPRITES.c", 83; #incspr(tiles_SPR_SERPENT,"res/sprites/tiles_SPR_SERPENT.png")
 3278               6940     		.data
 3279    1C:6940             	_tiles_SPR_SERPENT:	.incspr		"res/sprites/tiles_SPR_SERPENT.png"
 3280               E31D     		.code
 3281                        		.dbg	line,	"include\gfx_SPRITES.c", 84; #incspr(tiles_SPR_PLANT,"res/sprites/tiles_SPR_PLANT.png")
 3282               7540     		.data
 3283    1C:7540             	_tiles_SPR_PLANT:	.incspr		"res/sprites/tiles_SPR_PLANT.png"
 3284               E31D     		.code
 3285                        		.dbg	line,	"include\gfx_SPRITES.c", 86; // EXTRACT ENEMIES PALETTES //
 3286                        		.dbg	line,	"include\gfx_SPRITES.c", 87; #incpal(palette_SPR_ORC,"res/sprites/tiles_SPR_ORC.png")
 3287               6F40     		.data
 3288    1D:6F40             	_palette_SPR_ORC:	.incpal		"res/sprites/tiles_SPR_ORC.png"
 3289               E31D     		.code
 3290                        		.dbg	line,	"include\gfx_SPRITES.c", 88; #incpal(palette_SPR_PLANT,"res/sprites/tiles_SPR_PLANT.png")
 3291               7140     		.data
 3292    1D:7140             	_palette_SPR_PLANT:	.incpal		"res/sprites/tiles_SPR_PLANT.png"
 3293               E31D     		.code
 3294                        		.dbg	line,	"Black_Tiger.c", 17; #include "include/tables_INTRO.c"
 3295                        		.dbg	line,	"include\tables_INTRO.c", 1; //-----------------------------------------------------------------------------//
 3296                        		.dbg	line,	"include\tables_INTRO.c", 2; //                                                                             //
 3297                        		.dbg	line,	"include\tables_INTRO.c", 3; //                                   LEVEL 1                                   //
 3298                        		.dbg	line,	"include\tables_INTRO.c", 4; //                                                                             //
 3299                        		.dbg	line,	"include\tables_INTRO.c", 5; //-----------------------------------------------------------------------------//
 3300                        		.dbg	line,	"include\tables_INTRO.c", 7; // 28 CHAR BY LINE //
 3301                        		.dbg	line,	"include\tables_INTRO.c", 8; // 224 CHAR IN TOTAL //
 3302                        		.dbg	line,	"include\tables_INTRO.c", 9; const char              TABLE_INTRO_TEXT[]  =   {
 3303                        		.dbg	line,	"include\tables_INTRO.c", 10; "Long Long ago, three dragonsdescended from skies above  with a rolling thunder and  destroyed a kingdom into    darkness.                   From lengthy suffering and  darkness of the kingdom     came one brave fighter.    "
 3304                        		.dbg	line,	"include\tables_INTRO.c", 11; };
 3305                        		.dbg	line,	"Black_Tiger.c", 18; #include "include/tables_NPC.c"
 3306                        		.dbg	line,	"include\tables_NPC.c", 1; //-----------------------------------------------------------------------------//
 3307                        		.dbg	line,	"include\tables_NPC.c", 2; //                                                                             //
 3308                        		.dbg	line,	"include\tables_NPC.c", 3; //                                   LEVEL 1                                   //
 3309                        		.dbg	line,	"include\tables_NPC.c", 4; //                                                                             //
 3310                        		.dbg	line,	"include\tables_NPC.c", 5; //-----------------------------------------------------------------------------//
 3311                        		.dbg	line,	"include\tables_NPC.c", 7; const char              TABLE_NPC_TYPE_LV1[NPC_NUMBER_LV1]              =   {
 3312                        		.dbg	line,	"include\tables_NPC.c", 8; TYPE_NPC_ZENNY,
 3313                        		.dbg	line,	"include\tables_NPC.c", 9; TYPE_NPC_SHOP
 3314                        		.dbg	line,	"include\tables_NPC.c", 10; };
 3315                        		.dbg	line,	"include\tables_NPC.c", 13; const signed int        TABLE_NPC_X_POS_REF_LV1[NPC_NUMBER_LV1]         =   {
 3316                        		.dbg	line,	"include\tables_NPC.c", 14; 912,
 3317                        		.dbg	line,	"include\tables_NPC.c", 15; 1232
 3318                        		.dbg	line,	"include\tables_NPC.c", 16; };
 3319                        		.dbg	line,	"include\tables_NPC.c", 19; const signed int        TABLE_NPC_Y_POS_REF_LV1[NPC_NUMBER_LV1]         =   {
 3320                        		.dbg	line,	"include\tables_NPC.c", 20; 576,
 3321                        		.dbg	line,	"include\tables_NPC.c", 21; 400
 3322                        		.dbg	line,	"include\tables_NPC.c", 22; };
 3323                        		.dbg	line,	"include\tables_NPC.c", 24; const int               TABLE_NPC_REWARD_LV1[NPC_NUMBER_LV1]            =   {
 3324                        		.dbg	line,	"include\tables_NPC.c", 25; 100,//ZENNY
 3325                        		.dbg	line,	"include\tables_NPC.c", 26; 0//SHOP
 3326                        		.dbg	line,	"include\tables_NPC.c", 27; };
 3327                        		.dbg	line,	"Black_Tiger.c", 19; #include "include/tables_OBJECT.c"
 3328                        		.dbg	line,	"include\tables_OBJECT.c", 1; //-----------------------------------------------------------------------------//
 3329                        		.dbg	line,	"include\tables_OBJECT.c", 2; //                                                                             //
 3330                        		.dbg	line,	"include\tables_OBJECT.c", 3; //                                   LEVEL 1                                   //
 3331                        		.dbg	line,	"include\tables_OBJECT.c", 4; //                                                                             //
 3332                        		.dbg	line,	"include\tables_OBJECT.c", 5; //-----------------------------------------------------------------------------//
 3333                        		.dbg	line,	"include\tables_OBJECT.c", 7; // DOES NOT INCLUDE HIDDEN OBJECTS //
 3334                        		.dbg	line,	"include\tables_OBJECT.c", 8; const char              TABLE_OBJECT_TYPE_LV1[OBJECT_NUMBER_LV1]      =   {
 3335                        		.dbg	line,	"include\tables_OBJECT.c", 9; TYPE_HOURGLASS,
 3336                        		.dbg	line,	"include\tables_OBJECT.c", 10; TYPE_POT,
 3337                        		.dbg	line,	"include\tables_OBJECT.c", 11; TYPE_POT,
 3338                        		.dbg	line,	"include\tables_OBJECT.c", 12; TYPE_POT,
 3339                        		.dbg	line,	"include\tables_OBJECT.c", 13; TYPE_POT,
 3340                        		.dbg	line,	"include\tables_OBJECT.c", 14; TYPE_POT,
 3341                        		.dbg	line,	"include\tables_OBJECT.c", 15; TYPE_POT,
 3342                        		.dbg	line,	"include\tables_OBJECT.c", 16; TYPE_POW,
 3343                        		.dbg	line,	"include\tables_OBJECT.c", 17; TYPE_POT,
 3344                        		.dbg	line,	"include\tables_OBJECT.c", 18; TYPE_POT,
 3345                        		.dbg	line,	"include\tables_OBJECT.c", 20; //
 3346                        		.dbg	line,	"include\tables_OBJECT.c", 21; TYPE_POT,
 3347                        		.dbg	line,	"include\tables_OBJECT.c", 22; TYPE_POT,
 3348                        		.dbg	line,	"include\tables_OBJECT.c", 23; TYPE_POT,
 3349                        		.dbg	line,	"include\tables_OBJECT.c", 24; TYPE_POT,
 3350                        		.dbg	line,	"include\tables_OBJECT.c", 25; TYPE_POT,
 3351                        		.dbg	line,	"include\tables_OBJECT.c", 26; TYPE_POT,
 3352                        		.dbg	line,	"include\tables_OBJECT.c", 27; TYPE_POT,
 3353                        		.dbg	line,	"include\tables_OBJECT.c", 28; TYPE_POT,
 3354                        		.dbg	line,	"include\tables_OBJECT.c", 29; TYPE_POT,
 3355                        		.dbg	line,	"include\tables_OBJECT.c", 30; TYPE_POT,
 3356                        		.dbg	line,	"include\tables_OBJECT.c", 32; //
 3357                        		.dbg	line,	"include\tables_OBJECT.c", 33; TYPE_POT,
 3358                        		.dbg	line,	"include\tables_OBJECT.c", 34; TYPE_POT,
 3359                        		.dbg	line,	"include\tables_OBJECT.c", 35; TYPE_POT
 3360                        		.dbg	line,	"include\tables_OBJECT.c", 36; };
 3361                        		.dbg	line,	"include\tables_OBJECT.c", 38; // DOES NOT INCLUDE HIDDEN OBJECTS //
 3362                        		.dbg	line,	"include\tables_OBJECT.c", 39; const signed int        TABLE_OBJECT_X_POS_REF_LV1[OBJECT_NUMBER_LV1] =   {
 3363                        		.dbg	line,	"include\tables_OBJECT.c", 40; 1680,
 3364                        		.dbg	line,	"include\tables_OBJECT.c", 41; 1280,
 3365                        		.dbg	line,	"include\tables_OBJECT.c", 42; 1472,
 3366                        		.dbg	line,	"include\tables_OBJECT.c", 43; 1440,
 3367                        		.dbg	line,	"include\tables_OBJECT.c", 44; 1168,
 3368                        		.dbg	line,	"include\tables_OBJECT.c", 45; 1200,
 3369                        		.dbg	line,	"include\tables_OBJECT.c", 46; 960,
 3370                        		.dbg	line,	"include\tables_OBJECT.c", 47; 984,
 3371                        		.dbg	line,	"include\tables_OBJECT.c", 48; 1360,
 3372                        		.dbg	line,	"include\tables_OBJECT.c", 49; 1392,
 3373                        		.dbg	line,	"include\tables_OBJECT.c", 51; //
 3374                        		.dbg	line,	"include\tables_OBJECT.c", 52; 1552,
 3375                        		.dbg	line,	"include\tables_OBJECT.c", 53; 1680,
 3376                        		.dbg	line,	"include\tables_OBJECT.c", 54; 1712,
 3377                        		.dbg	line,	"include\tables_OBJECT.c", 55; 1744,
 3378                        		.dbg	line,	"include\tables_OBJECT.c", 56; 1248,
 3379                        		.dbg	line,	"include\tables_OBJECT.c", 57; 1280,
 3380                        		.dbg	line,	"include\tables_OBJECT.c", 58; 1168,
 3381                        		.dbg	line,	"include\tables_OBJECT.c", 59; 1040,
 3382                        		.dbg	line,	"include\tables_OBJECT.c", 60; 640,
 3383                        		.dbg	line,	"include\tables_OBJECT.c", 61; 672,
 3384                        		.dbg	line,	"include\tables_OBJECT.c", 63; //
 3385                        		.dbg	line,	"include\tables_OBJECT.c", 64; 336,
 3386                        		.dbg	line,	"include\tables_OBJECT.c", 65; 368,
 3387                        		.dbg	line,	"include\tables_OBJECT.c", 66; 416
 3388                        		.dbg	line,	"include\tables_OBJECT.c", 67; };
 3389                        		.dbg	line,	"include\tables_OBJECT.c", 69; // DOES NOT INCLUDE HIDDEN OBJECTS //
 3390                        		.dbg	line,	"include\tables_OBJECT.c", 70; const signed int        TABLE_OBJECT_Y_POS_REF_LV1[OBJECT_NUMBER_LV1] =     {
 3391                        		.dbg	line,	"include\tables_OBJECT.c", 71; 384,
 3392                        		.dbg	line,	"include\tables_OBJECT.c", 72; 416,
 3393                        		.dbg	line,	"include\tables_OBJECT.c", 73; 480,
 3394                        		.dbg	line,	"include\tables_OBJECT.c", 74; 496,
 3395                        		.dbg	line,	"include\tables_OBJECT.c", 75; 560,
 3396                        		.dbg	line,	"include\tables_OBJECT.c", 76; 560,
 3397                        		.dbg	line,	"include\tables_OBJECT.c", 77; 592,
 3398                        		.dbg	line,	"include\tables_OBJECT.c", 78; 592,
 3399                        		.dbg	line,	"include\tables_OBJECT.c", 79; 592,
 3400                        		.dbg	line,	"include\tables_OBJECT.c", 80; 592,
 3401                        		.dbg	line,	"include\tables_OBJECT.c", 82; //
 3402                        		.dbg	line,	"include\tables_OBJECT.c", 83; 704,
 3403                        		.dbg	line,	"include\tables_OBJECT.c", 84; 720,
 3404                        		.dbg	line,	"include\tables_OBJECT.c", 85; 720,
 3405                        		.dbg	line,	"include\tables_OBJECT.c", 86; 720,
 3406                        		.dbg	line,	"include\tables_OBJECT.c", 87; 736,
 3407                        		.dbg	line,	"include\tables_OBJECT.c", 88; 736,
 3408                        		.dbg	line,	"include\tables_OBJECT.c", 89; 752,
 3409                        		.dbg	line,	"include\tables_OBJECT.c", 90; 848,
 3410                        		.dbg	line,	"include\tables_OBJECT.c", 91; 880,
 3411                        		.dbg	line,	"include\tables_OBJECT.c", 92; 880,
 3412                        		.dbg	line,	"include\tables_OBJECT.c", 94; //
 3413                        		.dbg	line,	"include\tables_OBJECT.c", 95; 896,
 3414                        		.dbg	line,	"include\tables_OBJECT.c", 96; 896,
 3415                        		.dbg	line,	"include\tables_OBJECT.c", 97; 896
 3416                        		.dbg	line,	"include\tables_OBJECT.c", 98; };
 3417                        		.dbg	line,	"include\tables_OBJECT.c", 100; // DOES NOT INCLUDE HIDDEN OBJECTS //
 3418                        		.dbg	line,	"include\tables_OBJECT.c", 101; const char              TABLE_REWARD_TYPE_LV1[OBJECT_NUMBER_LV1]       =    {
 3419                        		.dbg	line,	"include\tables_OBJECT.c", 102; TYPE_NULL,//HOURGLASS
 3420                        		.dbg	line,	"include\tables_OBJECT.c", 104; //
 3421                        		.dbg	line,	"include\tables_OBJECT.c", 105; TYPE_GRAY_KEY,
 3422                        		.dbg	line,	"include\tables_OBJECT.c", 107; //
 3423                        		.dbg	line,	"include\tables_OBJECT.c", 108; TYPE_COIN_5,
 3424                        		.dbg	line,	"include\tables_OBJECT.c", 109; TYPE_COIN_5,
 3425                        		.dbg	line,	"include\tables_OBJECT.c", 111; //
 3426                        		.dbg	line,	"include\tables_OBJECT.c", 112; TYPE_GRAY_KEY,
 3427                        		.dbg	line,	"include\tables_OBJECT.c", 113; TYPE_COIN_10,
 3428                        		.dbg	line,	"include\tables_OBJECT.c", 115; //
 3429                        		.dbg	line,	"include\tables_OBJECT.c", 116; TYPE_COIN_10,
 3430                        		.dbg	line,	"include\tables_OBJECT.c", 117; TYPE_NULL,//POW
 3431                        		.dbg	line,	"include\tables_OBJECT.c", 119; //
 3432                        		.dbg	line,	"include\tables_OBJECT.c", 120; TYPE_GRAY_KEY,
 3433                        		.dbg	line,	"include\tables_OBJECT.c", 121; TYPE_HOURGLASS,
 3434                        		.dbg	line,	"include\tables_OBJECT.c", 123; //
 3435                        		.dbg	line,	"include\tables_OBJECT.c", 124; TYPE_COIN_10,
 3436                        		.dbg	line,	"include\tables_OBJECT.c", 126; //
 3437                        		.dbg	line,	"include\tables_OBJECT.c", 127; TYPE_HOURGLASS,
 3438                        		.dbg	line,	"include\tables_OBJECT.c", 128; TYPE_GRAY_KEY,
 3439                        		.dbg	line,	"include\tables_OBJECT.c", 129; TYPE_COIN_10,
 3440                        		.dbg	line,	"include\tables_OBJECT.c", 131; //
 3441                        		.dbg	line,	"include\tables_OBJECT.c", 132; TYPE_GRAY_KEY,
 3442                        		.dbg	line,	"include\tables_OBJECT.c", 133; TYPE_COIN_10,
 3443                        		.dbg	line,	"include\tables_OBJECT.c", 135; //
 3444                        		.dbg	line,	"include\tables_OBJECT.c", 136; TYPE_COIN_5,
 3445                        		.dbg	line,	"include\tables_OBJECT.c", 138; //
 3446                        		.dbg	line,	"include\tables_OBJECT.c", 139; TYPE_COIN_10,
 3447                        		.dbg	line,	"include\tables_OBJECT.c", 141; //
 3448                        		.dbg	line,	"include\tables_OBJECT.c", 142; TYPE_COIN_5,
 3449                        		.dbg	line,	"include\tables_OBJECT.c", 143; TYPE_COIN_10,
 3450                        		.dbg	line,	"include\tables_OBJECT.c", 145; //
 3451                        		.dbg	line,	"include\tables_OBJECT.c", 146; TYPE_GRAY_KEY,
 3452                        		.dbg	line,	"include\tables_OBJECT.c", 147; TYPE_COIN_5,
 3453                        		.dbg	line,	"include\tables_OBJECT.c", 148; TYPE_GRAY_KEY
 3454                        		.dbg	line,	"include\tables_OBJECT.c", 149; };
 3455                        		.dbg	line,	"include\tables_OBJECT.c", 151; // DOES NOT INCLUDE HIDDEN OBJECTS //
 3456                        		.dbg	line,	"include\tables_OBJECT.c", 152; const int              TABLE_REWARD_VRAM_ADR_LV1[OBJECT_NUMBER_LV1]  =     {
 3457                        		.dbg	line,	"include\tables_OBJECT.c", 153; TYPE_NULL,//HOURGLASS
 3458                        		.dbg	line,	"include\tables_OBJECT.c", 155; //
 3459                        		.dbg	line,	"include\tables_OBJECT.c", 156; GRAY_KEY_VRAM_ADR,
 3460                        		.dbg	line,	"include\tables_OBJECT.c", 158; //
 3461                        		.dbg	line,	"include\tables_OBJECT.c", 159; COIN_5_VRAM_ADR,
 3462                        		.dbg	line,	"include\tables_OBJECT.c", 160; COIN_5_VRAM_ADR,
 3463                        		.dbg	line,	"include\tables_OBJECT.c", 162; //
 3464                        		.dbg	line,	"include\tables_OBJECT.c", 163; GRAY_KEY_VRAM_ADR,
 3465                        		.dbg	line,	"include\tables_OBJECT.c", 164; COIN_10_VRAM_ADR,
 3466                        		.dbg	line,	"include\tables_OBJECT.c", 166; //
 3467                        		.dbg	line,	"include\tables_OBJECT.c", 167; COIN_10_VRAM_ADR,
 3468                        		.dbg	line,	"include\tables_OBJECT.c", 168; TYPE_NULL,//POW
 3469                        		.dbg	line,	"include\tables_OBJECT.c", 170; //
 3470                        		.dbg	line,	"include\tables_OBJECT.c", 171; GRAY_KEY_VRAM_ADR,
 3471                        		.dbg	line,	"include\tables_OBJECT.c", 172; HOURGLASS_VRAM_ADR,
 3472                        		.dbg	line,	"include\tables_OBJECT.c", 174; //
 3473                        		.dbg	line,	"include\tables_OBJECT.c", 175; COIN_10_VRAM_ADR,
 3474                        		.dbg	line,	"include\tables_OBJECT.c", 177; //
 3475                        		.dbg	line,	"include\tables_OBJECT.c", 178; HOURGLASS_VRAM_ADR,
 3476                        		.dbg	line,	"include\tables_OBJECT.c", 179; GRAY_KEY_VRAM_ADR,
 3477                        		.dbg	line,	"include\tables_OBJECT.c", 180; COIN_10_VRAM_ADR,
 3478                        		.dbg	line,	"include\tables_OBJECT.c", 182; //
 3479                        		.dbg	line,	"include\tables_OBJECT.c", 183; GRAY_KEY_VRAM_ADR,
 3480                        		.dbg	line,	"include\tables_OBJECT.c", 184; COIN_10_VRAM_ADR,
 3481                        		.dbg	line,	"include\tables_OBJECT.c", 186; //
 3482                        		.dbg	line,	"include\tables_OBJECT.c", 187; COIN_5_VRAM_ADR,
 3483                        		.dbg	line,	"include\tables_OBJECT.c", 189; //
 3484                        		.dbg	line,	"include\tables_OBJECT.c", 190; COIN_10_VRAM_ADR,
 3485                        		.dbg	line,	"include\tables_OBJECT.c", 192; //
 3486                        		.dbg	line,	"include\tables_OBJECT.c", 193; COIN_5_VRAM_ADR,
 3487                        		.dbg	line,	"include\tables_OBJECT.c", 194; COIN_10_VRAM_ADR,
 3488                        		.dbg	line,	"include\tables_OBJECT.c", 196; //
 3489                        		.dbg	line,	"include\tables_OBJECT.c", 197; GRAY_KEY_VRAM_ADR,
 3490                        		.dbg	line,	"include\tables_OBJECT.c", 198; COIN_5_VRAM_ADR,
 3491                        		.dbg	line,	"include\tables_OBJECT.c", 199; GRAY_KEY_VRAM_ADR
 3492                        		.dbg	line,	"include\tables_OBJECT.c", 200; };
 3493                        		.dbg	line,	"include\tables_OBJECT.c", 205; const signed int        TABLE_CHEST_X_POS_REF_LV1[CHEST_NUMBER_LV1]   =     {
 3494                        		.dbg	line,	"include\tables_OBJECT.c", 206; 1072,
 3495                        		.dbg	line,	"include\tables_OBJECT.c", 207; 816
 3496                        		.dbg	line,	"include\tables_OBJECT.c", 208; };
 3497                        		.dbg	line,	"include\tables_OBJECT.c", 211; const signed int        TABLE_CHEST_Y_POS_REF_LV1[CHEST_NUMBER_LV1]   =     {
 3498                        		.dbg	line,	"include\tables_OBJECT.c", 212; 832,
 3499                        		.dbg	line,	"include\tables_OBJECT.c", 213; 848
 3500                        		.dbg	line,	"Black_Tiger.c", 19; };
 3501                        		.dbg	line,	"Black_Tiger.c", 20; #include "include/tables_PLAYER.c"
 3502                        		.dbg	line,	"include\tables_PLAYER.c", 3; const unsigned char     *TABLE_PLAYER_TILES_ADR[2]     =   {
 3503                        		.dbg	line,	"include\tables_PLAYER.c", 4; &tiles_SPR_PLAYER_ARMOR,
 3504                        		.dbg	line,	"include\tables_PLAYER.c", 5; &tiles_SPR_PLAYER_NAKED
 3505                        		.dbg	line,	"include\tables_PLAYER.c", 6; };
 3506                        		.dbg	line,	"include\tables_PLAYER.c", 9; const unsigned char     TABLE_PLAYER_TILES_BANK[2]     =   {
 3507                        		.dbg	line,	"include\tables_PLAYER.c", 10; ^tiles_SPR_PLAYER_ARMOR,
 3508                        		.dbg	line,	"include\tables_PLAYER.c", 11; ^tiles_SPR_PLAYER_NAKED
 3509                        		.dbg	line,	"include\tables_PLAYER.c", 12; };
 3510                        		.dbg	line,	"include\tables_PLAYER.c", 15; const signed char       TABLE_PLAYER_JUMP_V_GROUND[44] =    {
 3511                        		.dbg	line,	"include\tables_PLAYER.c", 16; // UPWARD
 3512                        		.dbg	line,	"include\tables_PLAYER.c", 17; -5,
 3513                        		.dbg	line,	"include\tables_PLAYER.c", 18; -5,
 3514                        		.dbg	line,	"include\tables_PLAYER.c", 19; -5,
 3515                        		.dbg	line,	"include\tables_PLAYER.c", 20; -5,
 3516                        		.dbg	line,	"include\tables_PLAYER.c", 21; -4,
 3517                        		.dbg	line,	"include\tables_PLAYER.c", 22; -4,
 3518                        		.dbg	line,	"include\tables_PLAYER.c", 23; -4,
 3519                        		.dbg	line,	"include\tables_PLAYER.c", 24; -4,
 3520                        		.dbg	line,	"include\tables_PLAYER.c", 25; -3,
 3521                        		.dbg	line,	"include\tables_PLAYER.c", 26; -3,
 3522                        		.dbg	line,	"include\tables_PLAYER.c", 27; -3,
 3523                        		.dbg	line,	"include\tables_PLAYER.c", 28; -3,
 3524                        		.dbg	line,	"include\tables_PLAYER.c", 29; -2,
 3525                        		.dbg	line,	"include\tables_PLAYER.c", 30; -2,
 3526                        		.dbg	line,	"include\tables_PLAYER.c", 31; -2,
 3527                        		.dbg	line,	"include\tables_PLAYER.c", 32; -2,
 3528                        		.dbg	line,	"include\tables_PLAYER.c", 33; -1,
 3529                        		.dbg	line,	"include\tables_PLAYER.c", 34; -1,
 3530                        		.dbg	line,	"include\tables_PLAYER.c", 35; -1,
 3531                        		.dbg	line,	"include\tables_PLAYER.c", 36; -1,
 3532                        		.dbg	line,	"include\tables_PLAYER.c", 37; 0,
 3533                        		.dbg	line,	"include\tables_PLAYER.c", 38; 0,
 3534                        		.dbg	line,	"include\tables_PLAYER.c", 39; 0,
 3535                        		.dbg	line,	"include\tables_PLAYER.c", 40; 0,
 3536                        		.dbg	line,	"include\tables_PLAYER.c", 41; // DOWNWARD
 3537                        		.dbg	line,	"include\tables_PLAYER.c", 42; 1,
 3538                        		.dbg	line,	"include\tables_PLAYER.c", 43; 1,
 3539                        		.dbg	line,	"include\tables_PLAYER.c", 44; 1,
 3540                        		.dbg	line,	"include\tables_PLAYER.c", 45; 1,
 3541                        		.dbg	line,	"include\tables_PLAYER.c", 46; 2,
 3542                        		.dbg	line,	"include\tables_PLAYER.c", 47; 2,
 3543                        		.dbg	line,	"include\tables_PLAYER.c", 48; 2,
 3544                        		.dbg	line,	"include\tables_PLAYER.c", 49; 2,
 3545                        		.dbg	line,	"include\tables_PLAYER.c", 50; 3,
 3546                        		.dbg	line,	"include\tables_PLAYER.c", 51; 3,
 3547                        		.dbg	line,	"include\tables_PLAYER.c", 52; 3,
 3548                        		.dbg	line,	"include\tables_PLAYER.c", 53; 3,
 3549                        		.dbg	line,	"include\tables_PLAYER.c", 54; 4,
 3550                        		.dbg	line,	"include\tables_PLAYER.c", 55; 4,
 3551                        		.dbg	line,	"include\tables_PLAYER.c", 56; 4,
 3552                        		.dbg	line,	"include\tables_PLAYER.c", 57; 4,
 3553                        		.dbg	line,	"include\tables_PLAYER.c", 58; 5,
 3554                        		.dbg	line,	"include\tables_PLAYER.c", 59; 5,
 3555                        		.dbg	line,	"include\tables_PLAYER.c", 60; 5,
 3556                        		.dbg	line,	"include\tables_PLAYER.c", 61; 5
 3557                        		.dbg	line,	"include\tables_PLAYER.c", 62; };
 3558                        		.dbg	line,	"include\tables_PLAYER.c", 65; const signed char       TABLE_PLAYER_JUMP_D_GROUND[36]  =   {
 3559                        		.dbg	line,	"include\tables_PLAYER.c", 66; // UPWARD
 3560                        		.dbg	line,	"include\tables_PLAYER.c", 67; -5,
 3561                        		.dbg	line,	"include\tables_PLAYER.c", 68; -8,
 3562                        		.dbg	line,	"include\tables_PLAYER.c", 69; -4,
 3563                        		.dbg	line,	"include\tables_PLAYER.c", 70; -4,
 3564                        		.dbg	line,	"include\tables_PLAYER.c", 71; -3,
 3565                        		.dbg	line,	"include\tables_PLAYER.c", 72; -3,
 3566                        		.dbg	line,	"include\tables_PLAYER.c", 73; -3,
 3567                        		.dbg	line,	"include\tables_PLAYER.c", 74; -3,
 3568                        		.dbg	line,	"include\tables_PLAYER.c", 75; -2,
 3569                        		.dbg	line,	"include\tables_PLAYER.c", 76; -2,
 3570                        		.dbg	line,	"include\tables_PLAYER.c", 77; -2,
 3571                        		.dbg	line,	"include\tables_PLAYER.c", 78; -2,
 3572                        		.dbg	line,	"include\tables_PLAYER.c", 79; -1,
 3573                        		.dbg	line,	"include\tables_PLAYER.c", 80; -1,
 3574                        		.dbg	line,	"include\tables_PLAYER.c", 81; -1,
 3575                        		.dbg	line,	"include\tables_PLAYER.c", 82; -1,
 3576                        		.dbg	line,	"include\tables_PLAYER.c", 83; 0,
 3577                        		.dbg	line,	"include\tables_PLAYER.c", 84; 0,
 3578                        		.dbg	line,	"include\tables_PLAYER.c", 85; 0,
 3579                        		.dbg	line,	"include\tables_PLAYER.c", 86; 0,
 3580                        		.dbg	line,	"include\tables_PLAYER.c", 87; // DOWNWARD
 3581                        		.dbg	line,	"include\tables_PLAYER.c", 88; 1,
 3582                        		.dbg	line,	"include\tables_PLAYER.c", 89; 1,
 3583                        		.dbg	line,	"include\tables_PLAYER.c", 90; 1,
 3584                        		.dbg	line,	"include\tables_PLAYER.c", 91; 1,
 3585                        		.dbg	line,	"include\tables_PLAYER.c", 92; 2,
 3586                        		.dbg	line,	"include\tables_PLAYER.c", 93; 2,
 3587                        		.dbg	line,	"include\tables_PLAYER.c", 94; 2,
 3588                        		.dbg	line,	"include\tables_PLAYER.c", 95; 2,
 3589                        		.dbg	line,	"include\tables_PLAYER.c", 96; 3,
 3590                        		.dbg	line,	"include\tables_PLAYER.c", 97; 3,
 3591                        		.dbg	line,	"include\tables_PLAYER.c", 98; 3,
 3592                        		.dbg	line,	"include\tables_PLAYER.c", 99; 3,
 3593                        		.dbg	line,	"include\tables_PLAYER.c", 100; 4,
 3594                        		.dbg	line,	"include\tables_PLAYER.c", 101; 4,
 3595                        		.dbg	line,	"include\tables_PLAYER.c", 102; 8,
 3596                        		.dbg	line,	"include\tables_PLAYER.c", 103; 5
 3597                        		.dbg	line,	"include\tables_PLAYER.c", 104; };
 3598                        		.dbg	line,	"include\tables_PLAYER.c", 107; const signed char       TABLE_PLAYER_FALL[21]       =   {
 3599                        		.dbg	line,	"include\tables_PLAYER.c", 108; 0,
 3600                        		.dbg	line,	"include\tables_PLAYER.c", 109; 0,
 3601                        		.dbg	line,	"include\tables_PLAYER.c", 110; 0,
 3602                        		.dbg	line,	"include\tables_PLAYER.c", 111; 0,
 3603                        		.dbg	line,	"include\tables_PLAYER.c", 112; 1,
 3604                        		.dbg	line,	"include\tables_PLAYER.c", 113; 1,
 3605                        		.dbg	line,	"include\tables_PLAYER.c", 114; 1,
 3606                        		.dbg	line,	"include\tables_PLAYER.c", 115; 1,
 3607                        		.dbg	line,	"include\tables_PLAYER.c", 116; 2,
 3608                        		.dbg	line,	"include\tables_PLAYER.c", 117; 2,
 3609                        		.dbg	line,	"include\tables_PLAYER.c", 118; 2,
 3610                        		.dbg	line,	"include\tables_PLAYER.c", 119; 2,
 3611                        		.dbg	line,	"include\tables_PLAYER.c", 120; 3,
 3612                        		.dbg	line,	"include\tables_PLAYER.c", 121; 3,
 3613                        		.dbg	line,	"include\tables_PLAYER.c", 122; 3,
 3614                        		.dbg	line,	"include\tables_PLAYER.c", 123; 4,
 3615                        		.dbg	line,	"include\tables_PLAYER.c", 124; 4,
 3616                        		.dbg	line,	"include\tables_PLAYER.c", 125; 4,
 3617                        		.dbg	line,	"include\tables_PLAYER.c", 126; 4,
 3618                        		.dbg	line,	"include\tables_PLAYER.c", 127; 4,
 3619                        		.dbg	line,	"include\tables_PLAYER.c", 128; 5
 3620                        		.dbg	line,	"include\tables_PLAYER.c", 129; };
 3621                        		.dbg	line,	"include\tables_PLAYER.c", 132; const signed char       TABLE_PLAYER_JUMP_V_LADDER[30]    =   {
 3622                        		.dbg	line,	"include\tables_PLAYER.c", 133; // UPWARD
 3623                        		.dbg	line,	"include\tables_PLAYER.c", 134; -4,
 3624                        		.dbg	line,	"include\tables_PLAYER.c", 135; -4,
 3625                        		.dbg	line,	"include\tables_PLAYER.c", 136; -3,
 3626                        		.dbg	line,	"include\tables_PLAYER.c", 137; -3,
 3627                        		.dbg	line,	"include\tables_PLAYER.c", 138; -3,
 3628                        		.dbg	line,	"include\tables_PLAYER.c", 139; -2,
 3629                        		.dbg	line,	"include\tables_PLAYER.c", 140; -2,
 3630                        		.dbg	line,	"include\tables_PLAYER.c", 141; -2,
 3631                        		.dbg	line,	"include\tables_PLAYER.c", 142; -1,
 3632                        		.dbg	line,	"include\tables_PLAYER.c", 143; -1,
 3633                        		.dbg	line,	"include\tables_PLAYER.c", 144; -1,
 3634                        		.dbg	line,	"include\tables_PLAYER.c", 145; -1,
 3635                        		.dbg	line,	"include\tables_PLAYER.c", 146; -1,
 3636                        		.dbg	line,	"include\tables_PLAYER.c", 147; 0,
 3637                        		.dbg	line,	"include\tables_PLAYER.c", 148; 0,
 3638                        		.dbg	line,	"include\tables_PLAYER.c", 149; 0,
 3639                        		.dbg	line,	"include\tables_PLAYER.c", 150; 0,
 3640                        		.dbg	line,	"include\tables_PLAYER.c", 151; // DOWNWARD
 3641                        		.dbg	line,	"include\tables_PLAYER.c", 152; 1,
 3642                        		.dbg	line,	"include\tables_PLAYER.c", 153; 1,
 3643                        		.dbg	line,	"include\tables_PLAYER.c", 154; 1,
 3644                        		.dbg	line,	"include\tables_PLAYER.c", 155; 1,
 3645                        		.dbg	line,	"include\tables_PLAYER.c", 156; 1,
 3646                        		.dbg	line,	"include\tables_PLAYER.c", 157; 2,
 3647                        		.dbg	line,	"include\tables_PLAYER.c", 158; 2,
 3648                        		.dbg	line,	"include\tables_PLAYER.c", 159; 2,
 3649                        		.dbg	line,	"include\tables_PLAYER.c", 160; 3,
 3650                        		.dbg	line,	"include\tables_PLAYER.c", 161; 3,
 3651                        		.dbg	line,	"include\tables_PLAYER.c", 162; 3,
 3652                        		.dbg	line,	"include\tables_PLAYER.c", 163; 4,
 3653                        		.dbg	line,	"include\tables_PLAYER.c", 164; 4
 3654                        		.dbg	line,	"include\tables_PLAYER.c", 165; };
 3655                        		.dbg	line,	"include\tables_PLAYER.c", 174; const unsigned char     *TABLE_WEAPON_TILES_ADR[5]     =   {
 3656                        		.dbg	line,	"include\tables_PLAYER.c", 175; &tiles_SPR_WEAPON_0,
 3657                        		.dbg	line,	"include\tables_PLAYER.c", 176; &tiles_SPR_WEAPON_1,
 3658                        		.dbg	line,	"include\tables_PLAYER.c", 177; &tiles_SPR_WEAPON_2,
 3659                        		.dbg	line,	"include\tables_PLAYER.c", 178; &tiles_SPR_WEAPON_3,
 3660                        		.dbg	line,	"include\tables_PLAYER.c", 179; &tiles_SPR_WEAPON_4
 3661                        		.dbg	line,	"include\tables_PLAYER.c", 180; };
 3662                        		.dbg	line,	"include\tables_PLAYER.c", 183; const unsigned char     TABLE_WEAPON_TILES_BANK[5]     =   {
 3663                        		.dbg	line,	"include\tables_PLAYER.c", 184; ^tiles_SPR_WEAPON_0,
 3664                        		.dbg	line,	"include\tables_PLAYER.c", 185; ^tiles_SPR_WEAPON_1,
 3665                        		.dbg	line,	"include\tables_PLAYER.c", 186; ^tiles_SPR_WEAPON_2,
 3666                        		.dbg	line,	"include\tables_PLAYER.c", 187; ^tiles_SPR_WEAPON_3,
 3667                        		.dbg	line,	"include\tables_PLAYER.c", 188; ^tiles_SPR_WEAPON_4
 3668                        		.dbg	line,	"Black_Tiger.c", 20; };
 3669                        		.dbg	line,	"Black_Tiger.c", 21; #include "include/tables_SHOP.c"
 3670                        		.dbg	line,	"include\tables_SHOP.c", 1; //-----------------------------------------------------------------------------//
 3671                        		.dbg	line,	"include\tables_SHOP.c", 2; //                                                                             //
 3672                        		.dbg	line,	"include\tables_SHOP.c", 3; //                                   LEVEL 1                                   //
 3673                        		.dbg	line,	"include\tables_SHOP.c", 4; //                                                                             //
 3674                        		.dbg	line,	"include\tables_SHOP.c", 5; //-----------------------------------------------------------------------------//
 3675                        		.dbg	line,	"include\tables_SHOP.c", 7; const char              TABLE_SHOP_ITEMS_LV1[10]        =   {
 3676                        		.dbg	line,	"include\tables_SHOP.c", 8; TYPE_ITEM_WEAPON_2,
 3677                        		.dbg	line,	"include\tables_SHOP.c", 9; TYPE_ITEM_WEAPON_3,
 3678                        		.dbg	line,	"include\tables_SHOP.c", 10; TYPE_ITEM_WEAPON_4,
 3679                        		.dbg	line,	"include\tables_SHOP.c", 11; TYPE_ITEM_WEAPON_5,
 3680                        		.dbg	line,	"include\tables_SHOP.c", 12; TYPE_ITEM_KEY,
 3681                        		.dbg	line,	"include\tables_SHOP.c", 14; TYPE_ITEM_ARMOR_2,
 3682                        		.dbg	line,	"include\tables_SHOP.c", 15; TYPE_ITEM_ARMOR_3,
 3683                        		.dbg	line,	"include\tables_SHOP.c", 16; TYPE_ITEM_ARMOR_4,
 3684                        		.dbg	line,	"include\tables_SHOP.c", 17; TYPE_ITEM_ARMOR_5,
 3685                        		.dbg	line,	"include\tables_SHOP.c", 18; TYPE_ITEM_POTION
 3686                        		.dbg	line,	"include\tables_SHOP.c", 19; };
 3687                        		.dbg	line,	"include\tables_SHOP.c", 22; const int               TABLE_SHOP_PRICES_LV1[10]       =   {
 3688                        		.dbg	line,	"include\tables_SHOP.c", 23; 100,
 3689                        		.dbg	line,	"include\tables_SHOP.c", 24; 1000,
 3690                        		.dbg	line,	"include\tables_SHOP.c", 25; 2400,
 3691                        		.dbg	line,	"include\tables_SHOP.c", 26; 9600,
 3692                        		.dbg	line,	"include\tables_SHOP.c", 27; 30,
 3693                        		.dbg	line,	"include\tables_SHOP.c", 28; 80,
 3694                        		.dbg	line,	"include\tables_SHOP.c", 29; 300,
 3695                        		.dbg	line,	"include\tables_SHOP.c", 30; 800,
 3696                        		.dbg	line,	"include\tables_SHOP.c", 31; 1600,
 3697                        		.dbg	line,	"include\tables_SHOP.c", 32; 150
 3698                        		.dbg	line,	"include\tables_SHOP.c", 33; };
 3699                        		.dbg	line,	"include\tables_SHOP.c", 36; const unsigned char     *TABLE_SHOP_ITEMS_TILES_ADR[10]     =   {
 3700                        		.dbg	line,	"include\tables_SHOP.c", 37; &tiles_ITEM_WEAPON_2,
 3701                        		.dbg	line,	"include\tables_SHOP.c", 38; &tiles_ITEM_WEAPON_3,
 3702                        		.dbg	line,	"include\tables_SHOP.c", 39; &tiles_ITEM_WEAPON_4,
 3703                        		.dbg	line,	"include\tables_SHOP.c", 40; &tiles_ITEM_WEAPON_5,
 3704                        		.dbg	line,	"include\tables_SHOP.c", 41; &tiles_ITEM_KEY,
 3705                        		.dbg	line,	"include\tables_SHOP.c", 42; &tiles_ITEM_ARMOR_2,
 3706                        		.dbg	line,	"include\tables_SHOP.c", 43; &tiles_ITEM_ARMOR_3,
 3707                        		.dbg	line,	"include\tables_SHOP.c", 44; &tiles_ITEM_ARMOR_4,
 3708                        		.dbg	line,	"include\tables_SHOP.c", 45; &tiles_ITEM_ARMOR_5,
 3709                        		.dbg	line,	"include\tables_SHOP.c", 46; &tiles_ITEM_POTION
 3710                        		.dbg	line,	"include\tables_SHOP.c", 47; };
 3711                        		.dbg	line,	"include\tables_SHOP.c", 50; const unsigned char     TABLE_SHOP_ITEMS_TILES_BANK[10]     =   {
 3712                        		.dbg	line,	"include\tables_SHOP.c", 51; ^tiles_ITEM_WEAPON_2,
 3713                        		.dbg	line,	"include\tables_SHOP.c", 52; ^tiles_ITEM_WEAPON_3,
 3714                        		.dbg	line,	"include\tables_SHOP.c", 53; ^tiles_ITEM_WEAPON_4,
 3715                        		.dbg	line,	"include\tables_SHOP.c", 54; ^tiles_ITEM_WEAPON_5,
 3716                        		.dbg	line,	"include\tables_SHOP.c", 55; ^tiles_ITEM_KEY,
 3717                        		.dbg	line,	"include\tables_SHOP.c", 56; ^tiles_ITEM_ARMOR_2,
 3718                        		.dbg	line,	"include\tables_SHOP.c", 57; ^tiles_ITEM_ARMOR_3,
 3719                        		.dbg	line,	"include\tables_SHOP.c", 58; ^tiles_ITEM_ARMOR_4,
 3720                        		.dbg	line,	"include\tables_SHOP.c", 59; ^tiles_ITEM_ARMOR_5,
 3721                        		.dbg	line,	"include\tables_SHOP.c", 60; ^tiles_ITEM_POTION
 3722                        		.dbg	line,	"include\tables_SHOP.c", 61; };
 3723                        		.dbg	line,	"include\tables_SHOP.c", 64; const char              TABLE_CURSOR_POS_X[11]              =   {
 3724                        		.dbg	line,	"include\tables_SHOP.c", 65; 24,
 3725                        		.dbg	line,	"include\tables_SHOP.c", 66; 56,
 3726                        		.dbg	line,	"include\tables_SHOP.c", 67; 96,
 3727                        		.dbg	line,	"include\tables_SHOP.c", 68; 136,
 3728                        		.dbg	line,	"include\tables_SHOP.c", 69; 176,
 3729                        		.dbg	line,	"include\tables_SHOP.c", 70; 24,
 3730                        		.dbg	line,	"include\tables_SHOP.c", 71; 56,
 3731                        		.dbg	line,	"include\tables_SHOP.c", 72; 96,
 3732                        		.dbg	line,	"include\tables_SHOP.c", 73; 136,
 3733                        		.dbg	line,	"include\tables_SHOP.c", 74; 176,
 3734                        		.dbg	line,	"include\tables_SHOP.c", 75; 212
 3735                        		.dbg	line,	"include\tables_SHOP.c", 76; };
 3736                        		.dbg	line,	"Black_Tiger.c", 24; #include "include/routines_INTRO.c"
 3737                        		.dbg	line,	"include\routines_INTRO.c", 1; #include "huc.h"
 3738                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 1; #ifndef _hucc_legacy_h
 3739                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 2; #define _hucc_legacy_h
 3740                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 4; /****************************************************************************
 3741                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 5; ; ***************************************************************************
 3742                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 6; ;
 3743                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 7; ; huc.h
 3744                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 8; ;
 3745                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 9; ; HuCC wrapper file to include a default set of HuC-compatible functions.
 3746                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 10; ;
 3747                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 11; ; Copyright John Brandwood 2024.
 3748                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 12; ;
 3749                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 3750                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 3751                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 3752                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 16; ;
 3753                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 17; ; ***************************************************************************
 3754                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 18; ; ***************************************************************************
 3755                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 19; ;
 3756                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 20; ; When the HuCC compiler is invoked with the "--legacy" option to compile old
 3757                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 21; ; projects, then this "huc.h" file is automatically included.
 3758                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 22; ;
 3759                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 23; ; This file includes a set of the individual HuCC headers which correspond to
 3760                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 24; ; HuC's built-in functions and MagicKit library.
 3761                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 25; ;
 3762                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 26; ; New HuCC projects should, preferably, include the specific headers that are
 3763                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 27; ; needed, which will then allow them to replace parts of the standard library
 3764                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 28; ; with newer functions, or they can just manually include this "huc.h" file.
 3765                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 29; ;
 3766                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 30; ; ***************************************************************************
 3767                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 31; ; **************************************************************************/
 3768                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 33; #include "hucc-systemcard.h"
 3769                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 34; #include "hucc-baselib.h"
 3770                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 35; #include "hucc-gfx.h"
 3771                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 36; #include "hucc-old-scroll.h"
 3772                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 37; #include "hucc-old-spr.h"
 3773                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 38; #include "hucc-old-map.h"
 3774                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 39; #include "hucc-old-line.h"
 3775                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 41; #include <stdlib.h>
 3776                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 42; #include <string.h>
 3777                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 44; #endif // _hucc_legacy_h
 3778                        		.dbg	line,	"include\routines_INTRO.c", 2; #include "hucc-scroll.h"
 3779                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 1; #ifndef _hucc_scroll_h
 3780                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 2; #define _hucc_scroll_h
 3781                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 4; /****************************************************************************
 3782                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 5; ; ***************************************************************************
 3783                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 6; ;
 3784                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 7; ; hucc-scroll.h
 3785                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 8; ;
 3786                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 9; ; Routines for a fast split-screen scrolling system.
 3787                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 10; ;
 3788                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 11; ; Copyright John Brandwood 2024.
 3789                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 12; ;
 3790                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 3791                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 3792                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 3793                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 16; ;
 3794                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 17; ; ***************************************************************************
 3795                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 18; ; ***************************************************************************
 3796                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 19; ;
 3797                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 20; ; The maximum number of splits for each screen layer is set in your project's
 3798                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 21; ; "hucc-config.inc" file, with the library having a limit of 128-per-layer.
 3799                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 22; ;
 3800                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 23; ; Your first active split must be defined to start at screen line 0, and then
 3801                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 24; ; the rest of the active splits must be in increasing line order to match the
 3802                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 25; ; way that the PC Engine displays the output image.
 3803                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 26; ;
 3804                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 27; ; You can have disabled splits interleaved with your active splits.
 3805                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 28; ;
 3806                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 29; ; Splits that are normally disabled can be used to create full screen effects
 3807                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 30; ; such as bouncing the screen up and down by adding blank areas at the top or
 3808                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 31; ; bottom of the screen, and then rapidly changing the height of those areas.
 3809                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 32; ;
 3810                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 33; ; ***************************************************************************
 3811                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 34; ; **************************************************************************/
 3812                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 36; // *************
 3813                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 37; // VDC bits for display_flags ...
 3814                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 38; // *************
 3815                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 40; #ifndef BKG_OFF
 3816                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 41; #define BKG_OFF 0x00
 3817                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 42; #endif
 3818                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 44; #ifndef SPR_OFF
 3819                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 45; #define SPR_OFF 0x00
 3820                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 46; #endif
 3821                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 48; #ifndef BKG_ON
 3822                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 49; #define BKG_ON 0x80
 3823                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 50; #endif
 3824                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 52; #ifndef SPR_ON
 3825                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 53; #define SPR_ON 0x40
 3826                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 54; #endif
 3827                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 56; // *************
 3828                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 57; // Functions in hucc-scroll.asm ...
 3829                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 58; // *************
 3830                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 60; #ifdef __HUCC__
 3831                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 62; #asmdef	HUCC_USES_NEW_SCROLL 1
 3832                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 64; extern void __fastcall scroll_split( unsigned char index<_al>, unsigned char screen_line<_ah>, unsigned int bat_x<_bx>, unsigned int bat_y<_cx>, unsigned char display_flags<_dl> );
 3833                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 65; extern void __fastcall sgx_scroll_split( unsigned char index<_al>, unsigned char screen_line<_ah>, unsigned int bat_x<_bx>, unsigned int bat_y<_cx>, unsigned char display_flags<_dl> );
 3834                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 67; extern void __fastcall disable_split( unsigned char index<acc> );
 3835                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 68; extern void __fastcall sgx_disable_split( unsigned char index<acc> );
 3836                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 70; extern void __fastcall __macro disable_all_splits( void );
 3837                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 71; extern void __fastcall __macro sgx_disable_all_splits( void );
 3838                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 73; #asm
 3839                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 74; .macro	_disable_all_splits
 3840                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 75; ldy	#HUCC_PCE_SPLITS - 1
 3841                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 76; !loop:		tya
 3842                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 77; call	_disable_split.1
 3843                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 78; dey
 3844                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 79; bpl	!loop-
 3845                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 80; .endm
 3846                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 82; .macro	_sgx_disable_all_splits
 3847                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 83; ldy	#HUCC_SGX_SPLITS - 1
 3848                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 84; !loop:		tya
 3849                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 85; call	_sgx_disable_split.1
 3850                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 86; dey
 3851                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 87; bpl	!loop-
 3852                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 88; .endm
 3853                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 89; #endasm
 3854                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 91; #endif // __HUCC__
 3855                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 93; #endif // _hucc_scroll_h
 3856                        		.dbg	line,	"include\routines_INTRO.c", 3; #include "hucc-chrmap.h"
 3857                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 1; #ifndef _hucc_chrmap_h
 3858                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 2; #define _hucc_chrmap_h
 3859                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 4; /****************************************************************************
 3860                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 5; ; ***************************************************************************
 3861                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 6; ;
 3862                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 7; ; hucc-chrmap.h
 3863                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 8; ;
 3864                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 9; ; A simple map system based on 8x8 characters (aka "tiles") in BAT format.
 3865                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 10; ;
 3866                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 11; ; Copyright John Brandwood 2025.
 3867                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 12; ;
 3868                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 3869                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 3870                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 3871                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 16; ;
 3872                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 17; ; ***************************************************************************
 3873                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 18; ; ***************************************************************************
 3874                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 19; ;
 3875                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 20; ; The maximum X and Y size for chrmaps is 256 characters (2048 pixels).
 3876                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 21; ;
 3877                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 22; ; The maximum total size for a chrmap is 16KBytes, which allows for maps up
 3878                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 23; ; to 256x32 tiles (2048x256 pixels).
 3879                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 24; ;
 3880                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 25; ; ***************************************************************************
 3881                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 26; ; **************************************************************************/
 3882                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 28; // *************
 3883                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 29; // This code extends the blkmap library ...
 3884                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 30; // *************
 3885                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 32; #include "hucc-blkmap.h"
 3886                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 34; // *************
 3887                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 35; // Functions in chrmap.asm ...
 3888                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 36; // *************
 3889                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 38; #ifdef __HUCC__
 3890                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 40; #asmdef	HUCC_USES_CHRMAP 1
 3891                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 42; extern void __fastcall __nop set_chrmap( unsigned char __far *chrmap<vdc_map_bank:vdc_map_addr>, unsigned char tiles_w<vdc_map_line_w> );
 3892                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 44; extern void __fastcall draw_bat( void );
 3893                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 45; extern void __fastcall scroll_bat( void );
 3894                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 47; extern void __fastcall blit_bat( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 3895                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 49; #ifdef _SGX
 3896                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 51; extern void __fastcall __nop sgx_set_chrmap( unsigned char __far *chrmap<sgx_map_bank:sgx_map_addr>, unsigned char tiles_w<sgx_map_line_w> );
 3897                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 53; extern void __fastcall sgx_draw_bat( void );
 3898                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 54; extern void __fastcall sgx_scroll_bat( void );
 3899                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 56; extern void __fastcall sgx_blit_bat( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 3900                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 58; #endif
 3901                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 60; #endif // __HUCC__
 3902                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 62; #endif // _hucc_chrmap_h
 3903                        		.dbg	line,	"include\routines_INTRO.c", 4; #include "hucc-blkmap.h"
 3904                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 1; #ifndef _hucc_blkmap_h
 3905                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 2; #define _hucc_blkmap_h
 3906                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 4; /****************************************************************************
 3907                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 5; ; ***************************************************************************
 3908                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 6; ;
 3909                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 7; ; hucc-blkmap.h
 3910                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 8; ;
 3911                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 9; ; A map system based on 16x16 meta-tiles (aka "blocks", aka CHR/BLK/MAP).
 3912                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 10; ;
 3913                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 11; ; Copyright John Brandwood 2025.
 3914                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 12; ;
 3915                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 3916                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 3917                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 3918                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 16; ;
 3919                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 17; ; ***************************************************************************
 3920                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 18; ; ***************************************************************************
 3921                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 19; ;
 3922                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 20; ; The maximum X and Y size for blkmaps is 128 blocks (2048 pixels).
 3923                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 21; ;
 3924                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 22; ; The maximum total size for a blkmap is 16KBytes, which allows for maps up
 3925                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 23; ; to 128x128 blocks (2048x2048 pixels).
 3926                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 24; ;
 3927                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 25; ; Huge multi-screen blkmaps are also supported (optionally).
 3928                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 26; ;
 3929                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 27; ; The maximum X and Y for multi-screen maps is 128 screens (32768 pixels).
 3930                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 28; ;
 3931                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 29; ; The maximum total size for a multi-screen map is 8KBytes, which allows for
 3932                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 30; ; a total of 1024 screens.
 3933                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 31; ;
 3934                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 32; ; ***************************************************************************
 3935                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 33; ; **************************************************************************/
 3936                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 35; // *************
 3937                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 36; // Functions in blkmap.asm ...
 3938                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 37; // *************
 3939                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 39; #ifdef __HUCC__
 3940                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 41; #asmdef	HUCC_USES_BLKMAP 1
 3941                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 43; // Current top-left of drawn map in pixels.
 3942                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 44; extern unsigned int   vdc_map_pxl_x;
 3943                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 45; extern unsigned int   vdc_map_pxl_y;
 3944                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 47; // Width and height to draw/scroll in characters (not tiles).
 3945                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 48; extern unsigned char  vdc_map_draw_w;
 3946                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 49; extern unsigned char  vdc_map_draw_h;
 3947                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 51; // Width of map (or multi-screen BAT) in tiles.
 3948                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 52; extern unsigned char  vdc_map_line_w;
 3949                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 54; // Width of map in screens (if multi-screen map).
 3950                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 55; extern unsigned char  vdc_map_scrn_w;
 3951                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 57; // Extra information returned by get_map_block() and sgx_get_map_block(),
 3952                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 58; // which are the collision flags and the mask/overlay sprite for the BLK.
 3953                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 59; extern unsigned char  map_blk_flag;
 3954                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 60; extern unsigned char  map_blk_mask;
 3955                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 62; extern unsigned char  vdc_scr_bank;
 3956                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 63; extern unsigned char *vdc_scr_addr;
 3957                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 65; extern unsigned char  vdc_map_bank;
 3958                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 66; extern unsigned char *vdc_map_addr;
 3959                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 68; extern unsigned char  vdc_blk_bank;
 3960                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 69; extern unsigned char *vdc_blk_addr;
 3961                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 71; extern unsigned char  vdc_tbl_bank;
 3962                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 72; extern unsigned char *vdc_tbl_addr;
 3963                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 74; extern void __fastcall set_blocks( unsigned char __far *blk_def<vdc_blk_bank:vdc_blk_addr>, unsigned char __far *flg_def<vdc_tbl_bank:vdc_tbl_addr>, unsigned char number_of_blocks<_al> );
 3964                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 75; extern void __fastcall __macro set_blkmap( unsigned char __far *blk_map<vdc_map_bank:vdc_map_addr>, unsigned char blocks_w<vdc_map_line_w> );
 3965                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 76; extern void __fastcall __macro set_multimap( unsigned char __far *multi_map<vdc_scr_bank:vdc_scr_addr>, unsigned char screens_w<vdc_map_scrn_w> );
 3966                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 78; extern void __fastcall draw_map( void );
 3967                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 79; extern void __fastcall scroll_map( void );
 3968                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 81; extern void __fastcall blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 3969                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 83; extern unsigned char __fastcall get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
 3970                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 85; #asm
 3971                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 86; .macro	_set_blkmap.2
 3972                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 87; stz	vdc_scr_bank
 3973                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 88; .endm
 3974                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 90; .macro	_set_multimap.2
 3975                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 91; lda	vdc_bat_width
 3976                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 92; lsr	a
 3977                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 93; sta	vdc_map_line_w
 3978                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 94; .endm
 3979                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 96; .macro	SCREEN
 3980                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 97; db	(((\1) & $1FFF) | $6000) >> 8, bank(\1)
 3981                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 98; db	(((\2) & $1FFF) | $4000) >> 8, bank(\2)
 3982                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 99; db	(((\3) & $1FFF) | $6000) >> 8, bank(\3)
 3983                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 100; dw	(\4)
 3984                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 101; .endm
 3985                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 102; #endasm
 3986                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 104; #ifdef _SGX
 3987                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 106; // Current top-left of drawn map in pixels.
 3988                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 107; extern unsigned int   sgx_map_pxl_x;
 3989                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 108; extern unsigned int   sgx_map_pxl_y;
 3990                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 110; // Width and height to draw/scroll in characters (not tiles).
 3991                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 111; extern unsigned char  sgx_map_draw_w;
 3992                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 112; extern unsigned char  sgx_map_draw_h;
 3993                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 114; // Width of map (or multi-screen BAT) in tiles.
 3994                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 115; extern unsigned char  sgx_map_line_w;
 3995                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 117; // Width of map in screens (if multi-screen map).
 3996                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 118; extern unsigned char  sgx_map_scrn_w;
 3997                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 120; extern unsigned char  sgx_scr_bank;
 3998                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 121; extern unsigned char *sgx_scr_addr;
 3999                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 123; extern unsigned char  sgx_map_bank;
 4000                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 124; extern unsigned char *sgx_map_addr;
 4001                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 126; extern unsigned char  sgx_blk_bank;
 4002                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 127; extern unsigned char *sgx_blk_addr;
 4003                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 129; extern unsigned char  sgx_tbl_bank;
 4004                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 130; extern unsigned char *sgx_tbl_addr;
 4005                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 132; extern void __fastcall sgx_set_blocks( unsigned char __far *blk_def<sgx_blk_bank:sgx_blk_addr>, unsigned char __far *flg_def<sgx_tbl_bank:sgx_tbl_addr>, unsigned char number_of_blocks<_al> );
 4006                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 133; extern void __fastcall __macro sgx_set_blkmap( unsigned char __far *blk_map<sgx_map_bank:sgx_map_addr>, unsigned char blocks_w<sgx_map_line_w> );
 4007                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 134; extern void __fastcall __macro sgx_set_multimap( unsigned char __far *multi_map<sgx_scr_bank:sgx_scr_addr>, unsigned char screens_w<sgx_map_scrn_w> );
 4008                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 136; extern void __fastcall sgx_draw_map( void );
 4009                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 137; extern void __fastcall sgx_scroll_map( void );
 4010                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 139; extern void __fastcall sgx_blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 4011                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 141; extern unsigned char __fastcall sgx_get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
 4012                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 143; #asm
 4013                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 144; .macro	_sgx_set_blkmap.2
 4014                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 145; stz	sgx_scr_bank
 4015                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 146; .endm
 4016                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 148; .macro	_sgx_set_multimap.2
 4017                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 149; lda	sgx_bat_width
 4018                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 150; lsr	a
 4019                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 151; sta	sgx_map_line_w
 4020                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 152; .endm
 4021                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 153; #endasm
 4022                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 155; #endif
 4023                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 157; #endif // __HUCC__
 4024                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 159; #endif // _hucc_blkmap_h
 4025                        		.dbg	line,	"include\routines_INTRO.c", 13; void joypad_BUTTONS_INTRO()
 4026                        		.dbg	line,	"include\routines_INTRO.c", 14; {
 4027                        	;***********************
 4028                        	;***********************
 4029                        	
 4030                        		.hucc
 4031    20:C5E0             		.proc		_joypad_BUTTONS_INTRO
 4032                        		__enter		_joypad_BUTTONS_INTRO
 4033                        	
 4034                        		.dbg	line,	"include\routines_INTRO.c", 15; if(joytrg(JOYPAD_1) & JOY_I || joytrg(JOYPAD_1) & JOY_II || joytrg(JOYPAD_1) & JOY_RUN)
 4035                        		__ld.uiq	0
         20:C5E0  62         			cla
 4036                        		 _joytrg.1
         20:C5E1  AA         			tax
         20:C5E2  BD 2D 22   			lda	joytrg, x
         20:C5E5  BC DD 22   			ldy	joy6trg, x
 4037                        		__tand.wi	1
         20:C5E8  29 01      			and	#1
         20:C5EA  C9 01      	!:		cmp	#1
 4038                        		__btrue		.LL4
         20:C5EC  B0 0C      			bcs	.LL4
 4039                        		__ld.uiq	0
         20:C5EE  62         			cla
 4040                        		 _joytrg.1
         20:C5EF  AA         			tax
         20:C5F0  BD 2D 22   			lda	joytrg, x
         20:C5F3  BC DD 22   			ldy	joy6trg, x
 4041                        		__tand.wi	2
         20:C5F6  29 02      			and	#2
         20:C5F8  C9 01      	!:		cmp	#1
 4042    20:C5FA             	.LL4:
 4043                        		__btrue		.LL5
         20:C5FA  B0 0C      			bcs	.LL5
 4044                        		__ld.uiq	0
         20:C5FC  62         			cla
 4045                        		 _joytrg.1
         20:C5FD  AA         			tax
         20:C5FE  BD 2D 22   			lda	joytrg, x
         20:C601  BC DD 22   			ldy	joy6trg, x
 4046                        		__tand.wi	8
         20:C604  29 08      			and	#8
         20:C606  C9 01      	!:		cmp	#1
 4047    20:C608             	.LL5:
 4048                        		__bfalse	.LL3
         20:C608  90 0B      			bcc	.LL3
 4049                        	
 4050                        		.dbg	line,	"include\routines_INTRO.c", 16; {
 4051                        	
 4052                        		.dbg	line,	"include\routines_INTRO.c", 17; // DISABLE DISPLAY //
 4053                        	
 4054                        		.dbg	line,	"include\routines_INTRO.c", 18; disp_off();
 4055                        		__call		_disp_off
         20:C60A  20 3D E4   			call	_disp_off
 4056                        	
 4057                        		.dbg	line,	"include\routines_INTRO.c", 20; sequence_loaded = FALSE;
 4058                        		__st.umiq	0, _sequence_loaded
         20:C60D  9C 16 23   			stz	_sequence_loaded
 4059                        	
 4060                        		.dbg	line,	"include\routines_INTRO.c", 22; sequence_id = SEQUENCE_LEVEL;
 4061                        		__st.umiq	2, _sequence_id
         20:C610  A9 02      			lda.l	#2
         20:C612  8D 15 23   			sta	_sequence_id
 4062                        	
 4063                        		.dbg	line,	"include\routines_INTRO.c", 23; }
 4064                        	
 4065                        		.dbg	line,	"include\routines_INTRO.c", 24; }
 4066    20:C615             	.LL3:
 4067    20:C615             	.LL2:
 4068                        		__return	0
         20:C615  4C EF FF   			jmp	leave_proc
 4069                        		.dbg	clear
 4070                        		.endp
 4071                        		.pceas
 4072                        	
 4073                        		.dbg	line,	"include\routines_INTRO.c", 29; void sequence_INTRO()
 4074                        		.dbg	line,	"include\routines_INTRO.c", 30; {
 4075                        	;***********************
 4076                        	;***********************
 4077                        	
 4078                        		.hucc
 4079    02:CFE8             		.proc		_sequence_INTRO
 4080                        		__enter		_sequence_INTRO
 4081                        	
 4082                        		.dbg	line,	"include\routines_INTRO.c", 31; //--------------------------------------------------------------------------------------//
 4083                        	
 4084                        		.dbg	line,	"include\routines_INTRO.c", 32; //                                    PALETTE FADING                                    //
 4085                        	
 4086                        		.dbg	line,	"include\routines_INTRO.c", 33; //--------------------------------------------------------------------------------------//
 4087                        	
 4088                        		.dbg	line,	"include\routines_INTRO.c", 35; char i;
 4089                        	
 4090                        		.dbg	line,	"include\routines_INTRO.c", 38; if(global_counter > 0 && global_counter < 43)
 4091                        		__ld.wm		_global_counter
         02:CFE8  AD 5B 26   			lda.l	_global_counter
         02:CFEB  AC 5C 26   			ldy.h	_global_counter
 4092                        		__sgt_w.wi	0
         02:CFEE  18         			clc			; Subtract integer+1 from Y:A.
         02:CFEF  E9 00      			sbc.l	#0
         02:CFF1  98         			tya
         02:CFF2  E9 00      			sbc.h	#0
         02:CFF4  50 02      			bvc	!+
         02:CFF6  49 80      			eor	#$80		; +ve if Y:A > integer (signed).
         02:CFF8  49 80      	!:		eor	#$80
         02:CFFA  0A         			asl	a
 4093                        		__bfalse	.LL8
         02:CFFB  90 10      			bcc	.LL8
 4094                        		__ld.wm		_global_counter
         02:CFFD  AD 5B 26   			lda.l	_global_counter
         02:D000  AC 5C 26   			ldy.h	_global_counter
 4095                        		__slt_w.wi	43
         02:D003  C9 2B      			cmp.l	#43		; Subtract integer from Y:A.
         02:D005  98         			tya
         02:D006  E9 00      			sbc.h	#43
         02:D008  50 02      			bvc	!+
         02:D00A  49 80      			eor	#$80		; -ve if Y:A < integer (signed).
         02:D00C  0A         	!:		asl	a
 4096    02:D00D             	.LL8:
 4097                        		__bfalse	.LL7
         02:D00D  B0 03 4C A6			bcc	.LL7
         02:D011  D0          
 4098                        	
 4099                        		.dbg	line,	"include\routines_INTRO.c", 39; {
 4100                        	
 4101                        		.dbg	line,	"include\routines_INTRO.c", 40; if(global_counter%6 == FALSE)
 4102                        		__ld.wm		_global_counter
         02:D012  AD 5B 26   			lda.l	_global_counter
         02:D015  AC 5C 26   			ldy.h	_global_counter
 4103                        		__smod.wi	6
         02:D018  A2 06      			ldx.l	#6
         02:D01A  86 00      			stx.l	<divisor
         02:D01C  A2 00      			ldx.h	#6
         02:D01E  86 01      			stx.h	<divisor
         02:D020  20 CB E4   			jsr	__modsint
 4104                        		__not.wr
         02:D023  84 00      			sty	__temp
         02:D025  05 00      			ora	__temp
         02:D027  18         			clc
         02:D028  D0 01      			bne	!+
         02:D02A  38         			sec
         02:D02B             	!:
 4105                        		__bfalse	.LL9
         02:D02B  90 79      			bcc	.LL9
 4106                        	
 4107                        		.dbg	line,	"include\routines_INTRO.c", 41; {
 4108                        	
 4109                        		.dbg	line,	"include\routines_INTRO.c", 42; read_palette( 0, 1, palette_buffer );
 4110                        		__st.umiq	0, _al
         02:D02D  64 F8      			stz	_al
 4111                        		__st.umiq	1, _ah
         02:D02F  A9 01      			lda.l	#1
         02:D031  85 F9      			sta	_ah
 4112                        		__ld.wi		_palette_buffer
         02:D033  A9 79      			lda.l	#_palette_buffer
         02:D035  A0 26      			ldy.h	#_palette_buffer
 4113                        		__st.wmq	_di
         02:D037  85 F0      			sta.l	_di
         02:D039  84 F1      			sty.h	_di
 4114                        		__call		_read_palette.3
         02:D03B  20 9F FF   			call	_read_palette.3
 4115                        	
 4116                        		.dbg	line,	"include\routines_INTRO.c", 44; cross_fade_to(palette_INTRO_2 , palette_buffer , 16 , palette_step);
 4117                        		__farptr	_palette_INTRO_2, _bp_bank, _bp
         02:D03E  A9 E0      			lda.l	#$6000 + ($1FFF & (_palette_INTRO_2))
         02:D040  85 EC      			sta.l	_bp
         02:D042  A9 78      			lda.h	#$6000 + ($1FFF & (_palette_INTRO_2))
         02:D044  85 ED      			sta.h	_bp
         02:D046  A9 06      			lda	#bank(_palette_INTRO_2)
         02:D048  85 02      			sta	_bp_bank
 4118                        		__ld.wi		_palette_buffer
         02:D04A  A9 79      			lda.l	#_palette_buffer
         02:D04C  A0 26      			ldy.h	#_palette_buffer
 4119                        		__st.wmq	_di
         02:D04E  85 F0      			sta.l	_di
         02:D050  84 F1      			sty.h	_di
 4120                        		__st.umiq	16, _al
         02:D052  A9 10      			lda.l	#16
         02:D054  85 F8      			sta	_al
 4121                        		__ld.um		_palette_step
         02:D056  AD 00 24   			lda	_palette_step
         02:D059  C2         			cly
 4122                        		__st.umq	_ah
         02:D05A  85 F9      			sta	_ah
 4123                        		 _cross_fade_to.4
         02:D05C  A4 02      			ldy	<_bp_bank
         02:D05E  20 95 FF   			call	cross_fade_to
 4124                        	
 4125                        		.dbg	line,	"include\routines_INTRO.c", 45; cross_fade_to(palette_INTRO_2 , palette_buffer , 16 , palette_step+1);
 4126                        		__farptr	_palette_INTRO_2, _bp_bank, _bp
         02:D061  A9 E0      			lda.l	#$6000 + ($1FFF & (_palette_INTRO_2))
         02:D063  85 EC      			sta.l	_bp
         02:D065  A9 78      			lda.h	#$6000 + ($1FFF & (_palette_INTRO_2))
         02:D067  85 ED      			sta.h	_bp
         02:D069  A9 06      			lda	#bank(_palette_INTRO_2)
         02:D06B  85 02      			sta	_bp_bank
 4127                        		__ld.wi		_palette_buffer
         02:D06D  A9 79      			lda.l	#_palette_buffer
         02:D06F  A0 26      			ldy.h	#_palette_buffer
 4128                        		__st.wmq	_di
         02:D071  85 F0      			sta.l	_di
         02:D073  84 F1      			sty.h	_di
 4129                        		__st.umiq	16, _al
         02:D075  A9 10      			lda.l	#16
         02:D077  85 F8      			sta	_al
 4130                        		__ld.um		_palette_step
         02:D079  AD 00 24   			lda	_palette_step
         02:D07C  C2         			cly
 4131                        		__add.wi	1
         02:D07D  1A         			inc	a
         02:D07E  D0 01      			bne	!+
         02:D080  C8         			iny
         02:D081             	!:
 4132                        		__st.umq	_ah
         02:D081  85 F9      			sta	_ah
 4133                        		 _cross_fade_to.4
         02:D083  A4 02      			ldy	<_bp_bank
         02:D085  20 95 FF   			call	cross_fade_to
 4134                        	
 4135                        		.dbg	line,	"include\routines_INTRO.c", 47; load_palette( 0, palette_buffer, 1 );
 4136                        		__st.umiq	0, _al
         02:D088  64 F8      			stz	_al
 4137                        		__farptr	_palette_buffer, _bp_bank, _bp
         02:D08A  A9 79      			lda.l	#$6000 + ($1FFF & (_palette_buffer))
         02:D08C  85 EC      			sta.l	_bp
         02:D08E  A9 66      			lda.h	#$6000 + ($1FFF & (_palette_buffer))
         02:D090  85 ED      			sta.h	_bp
         02:D092  A9 F8      			lda	#bank(_palette_buffer)
         02:D094  85 02      			sta	_bp_bank
 4138                        		__st.umiq	1, _ah
         02:D096  A9 01      			lda.l	#1
         02:D098  85 F9      			sta	_ah
 4139                        		__call		_load_palette.3
         02:D09A  20 8B FF   			call	_load_palette.3
 4140                        	
 4141                        		.dbg	line,	"include\routines_INTRO.c", 49; palette_step += 2;
 4142                        		__add_st.umiq	2, _palette_step
         02:D09D  18         			clc
         02:D09E  AD 00 24   			lda	_palette_step
         02:D0A1  69 02      			adc	#2
         02:D0A3  8D 00 24   			sta	_palette_step
 4143                        	
 4144                        		.dbg	line,	"include\routines_INTRO.c", 50; }
 4145                        	
 4146                        		.dbg	line,	"include\routines_INTRO.c", 51; }
 4147    02:D0A6             	.LL9:
 4148                        	
 4149                        		.dbg	line,	"include\routines_INTRO.c", 52; 
 4150                        	
 4151                        		.dbg	line,	"include\routines_INTRO.c", 53; 
 4152                        	
 4153                        		.dbg	line,	"include\routines_INTRO.c", 55; //--------------------------------------------------------------------------------------//
 4154                        	
 4155                        		.dbg	line,	"include\routines_INTRO.c", 56; //                                     MOVE DRAGON                                      //
 4156                        	
 4157                        		.dbg	line,	"include\routines_INTRO.c", 57; //--------------------------------------------------------------------------------------//
 4158                        	
 4159                        		.dbg	line,	"include\routines_INTRO.c", 59; if(global_counter < 50)
 4160    02:D0A6             	.LL7:
 4161                        		__ld.wm		_global_counter
         02:D0A6  AD 5B 26   			lda.l	_global_counter
         02:D0A9  AC 5C 26   			ldy.h	_global_counter
 4162                        		__slt_w.wi	50
         02:D0AC  C9 32      			cmp.l	#50		; Subtract integer from Y:A.
         02:D0AE  98         			tya
         02:D0AF  E9 00      			sbc.h	#50
         02:D0B1  50 02      			bvc	!+
         02:D0B3  49 80      			eor	#$80		; -ve if Y:A < integer (signed).
         02:D0B5  0A         	!:		asl	a
 4163                        		__bfalse	.LL10
         02:D0B6  B0 03 4C C8			bcc	.LL10
         02:D0BA  D2          
 4164                        	
 4165                        		.dbg	line,	"include\routines_INTRO.c", 60; {
 4166                        	
 4167                        		.dbg	line,	"include\routines_INTRO.c", 61; player_pos_x -= 1;
 4168                        		__sub_st.wmiq	1, _player_pos_x
         02:D0BB  AD 01 25   			lda.l	_player_pos_x
         02:D0BE  D0 03      			bne	!+
         02:D0C0  CE 02 25   			dec.h	_player_pos_x
         02:D0C3  CE 01 25   	!:		dec.l	_player_pos_x
 4169                        	
 4170                        		.dbg	line,	"include\routines_INTRO.c", 62; player_pos_y -= 1;
 4171                        		__sub_st.wmiq	1, _player_pos_y
         02:D0C6  AD 03 25   			lda.l	_player_pos_y
         02:D0C9  D0 03      			bne	!+
         02:D0CB  CE 04 25   			dec.h	_player_pos_y
         02:D0CE  CE 03 25   	!:		dec.l	_player_pos_y
 4172                        	
 4173                        		.dbg	line,	"include\routines_INTRO.c", 63; 
 4174                        	
 4175                        		.dbg	line,	"include\routines_INTRO.c", 64; for(i=0 ; i<8 ; i++)
 4176                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         02:D0D1  9C 2D 2C   			stz	__sequence_INTRO_end - 1
 4177    02:D0D4             	.LL11:
 4178                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:D0D4  AD 2D 2C   			lda	__sequence_INTRO_end - 1
 4179                        		__ult_b.uiq	8
         02:D0D7  C9 08      			cmp	#8		; Subtract integer from A.
         02:D0D9  6A         			ror	a		; CC if A < integer.
         02:D0DA  49 80      			eor	#$80
         02:D0DC  2A         			rol	a
 4180                        		__btrue		.LL13
         02:D0DD  B0 07      			bcs	.LL13
 4181                        		__bra		.LL14
         02:D0DF  80 62      			bra	.LL14
 4182    02:D0E1             	.LL12:
 4183                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         02:D0E1  EE 2D 2C   			inc	__sequence_INTRO_end - 1
 4184                        		__bra		.LL11
         02:D0E4  80 EE      			bra	.LL11
 4185    02:D0E6             	.LL13:
 4186                        	
 4187                        		.dbg	line,	"include\routines_INTRO.c", 65; {
 4188                        	
 4189                        		.dbg	line,	"include\routines_INTRO.c", 66; sgx_spr_set(i);
 4190                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:D0E6  AD 2D 2C   			lda	__sequence_INTRO_end - 1
 4191                        		__call		_sgx_spr_set.1
         02:D0E9  20 9E E8   			call	_sgx_spr_set.1
 4192                        	
 4193                        		.dbg	line,	"include\routines_INTRO.c", 67; sgx_spr_x(player_pos_x + (i<<5) - ((i>>2)<<7));
 4194                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         02:D0EC  AD 2D 2C   			lda	__sequence_INTRO_end - 1
         02:D0EF  C2         			cly
 4195                        		__asl.wi	5
         02:D0F0  85 00      			sta	__temp
         02:D0F2  98         			tya
         02:D0F3  4A         			lsr	a
         02:D0F4  20 C8 E1   			jsr	aslw5
         02:D0F7  29 E0      			and.l	#$FF << 5
 4196                        		__add.wm	_player_pos_x
         02:D0F9  18         			clc
         02:D0FA  6D 01 25   			adc.l	_player_pos_x
         02:D0FD  42         			say
         02:D0FE  6D 02 25   			adc.h	_player_pos_x
         02:D101  42         			say
 4197                        		__push.wr
         02:D102  5A         			phy
         02:D103  48         			pha
 4198                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         02:D104  AD 2D 2C   			lda	__sequence_INTRO_end - 1
         02:D107  C2         			cly
 4199                        		__lsr.uiq	2
         02:D108  4A         			lsr	a
         02:D109  4A         			lsr	a
 4200                        		__asl.wi	7
         02:D10A  42         			say
         02:D10B  4A         			lsr	a
         02:D10C  42         			say
         02:D10D  6A         			ror	a
         02:D10E  42         			say
         02:D10F  6A         			ror	a
         02:D110  29 80      			and	#$80
 4201                        		__sub.wt
         02:D112  BA         			tsx
         02:D113  38         			sec
         02:D114  49 FF      			eor	#$FF
         02:D116  7D 01 21   			adc.l	__tos, x
         02:D119  42         			say
         02:D11A  49 FF      			eor	#$FF
         02:D11C  7D 02 21   			adc.h	__tos, x
         02:D11F  42         			say
         02:D120  E8         			inx
         02:D121  E8         			inx
         02:D122  9A         			txs
 4202                        		__call		_sgx_spr_x.1
         02:D123  20 CB E8   			call	_sgx_spr_x.1
 4203                        	
 4204                        		.dbg	line,	"include\routines_INTRO.c", 68; sgx_spr_y(player_pos_y + ((i>>2)<<5));
 4205                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         02:D126  AD 2D 2C   			lda	__sequence_INTRO_end - 1
         02:D129  C2         			cly
 4206                        		__lsr.uiq	2
         02:D12A  4A         			lsr	a
         02:D12B  4A         			lsr	a
 4207                        		__asl.wi	5
         02:D12C  85 00      			sta	__temp
         02:D12E  98         			tya
         02:D12F  4A         			lsr	a
         02:D130  20 C8 E1   			jsr	aslw5
         02:D133  29 E0      			and.l	#$FF << 5
 4208                        		__add.wm	_player_pos_y
         02:D135  18         			clc
         02:D136  6D 03 25   			adc.l	_player_pos_y
         02:D139  42         			say
         02:D13A  6D 04 25   			adc.h	_player_pos_y
         02:D13D  42         			say
 4209                        		__call		_sgx_spr_y.1
         02:D13E  20 DA E8   			call	_sgx_spr_y.1
 4210                        	
 4211                        		.dbg	line,	"include\routines_INTRO.c", 69; }
 4212                        		__bra		.LL12
         02:D141  80 9E      			bra	.LL12
 4213    02:D143             	.LL14:
 4214                        	
 4215                        		.dbg	line,	"include\routines_INTRO.c", 71; //--------------------------------------------------------------------------------------//
 4216                        	
 4217                        		.dbg	line,	"include\routines_INTRO.c", 72; //                                    DRAGON PATTERN                                    //
 4218                        	
 4219                        		.dbg	line,	"include\routines_INTRO.c", 73; //--------------------------------------------------------------------------------------//
 4220                        	
 4221                        		.dbg	line,	"include\routines_INTRO.c", 75; if(global_counter == 8)
 4222                        		__ld.wm		_global_counter
         02:D143  AD 5B 26   			lda.l	_global_counter
         02:D146  AC 5C 26   			ldy.h	_global_counter
 4223                        		__equ_w.wi	8
         02:D149  C9 08      			cmp.l	#8
         02:D14B  D0 04      			bne	!false+
         02:D14D  C0 00      			cpy.h	#8
         02:D14F  F0 01      			beq	!+
         02:D151  18         	!false:		clc
         02:D152             	!:
 4224                        		__bfalse	.LL15
         02:D152  90 31      			bcc	.LL15
 4225                        	
 4226                        		.dbg	line,	"include\routines_INTRO.c", 76; {
 4227                        	
 4228                        		.dbg	line,	"include\routines_INTRO.c", 77; for(i=0 ; i<8 ; i++)
 4229                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         02:D154  9C 2D 2C   			stz	__sequence_INTRO_end - 1
 4230    02:D157             	.LL16:
 4231                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:D157  AD 2D 2C   			lda	__sequence_INTRO_end - 1
 4232                        		__ult_b.uiq	8
         02:D15A  C9 08      			cmp	#8		; Subtract integer from A.
         02:D15C  6A         			ror	a		; CC if A < integer.
         02:D15D  49 80      			eor	#$80
         02:D15F  2A         			rol	a
 4233                        		__btrue		.LL18
         02:D160  B0 08      			bcs	.LL18
 4234                        		__bra		.LL19
         02:D162  4C C8 D2   			bra	.LL19
 4235    02:D165             	.LL17:
 4236                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         02:D165  EE 2D 2C   			inc	__sequence_INTRO_end - 1
 4237                        		__bra		.LL16
         02:D168  80 ED      			bra	.LL16
 4238    02:D16A             	.LL18:
 4239                        	
 4240                        		.dbg	line,	"include\routines_INTRO.c", 78; {
 4241                        	
 4242                        		.dbg	line,	"include\routines_INTRO.c", 79; sgx_spr_set(i);
 4243                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:D16A  AD 2D 2C   			lda	__sequence_INTRO_end - 1
 4244                        		__call		_sgx_spr_set.1
         02:D16D  20 9E E8   			call	_sgx_spr_set.1
 4245                        	
 4246                        		.dbg	line,	"include\routines_INTRO.c", 80; sgx_spr_pattern(DRAGON_INTRO_VRAM_ADR + (i*TILES_16) + TILES_128);
 4247                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         02:D170  AD 2D 2C   			lda	__sequence_INTRO_end - 1
         02:D173  C2         			cly
 4248                        		__asl.wi	8
         02:D174  A8         			tay
         02:D175  62         			cla
 4249                        		__add.wi	13312
         02:D176  18         			clc
         02:D177  69 00      			adc.l	#13312
         02:D179  42         			say
         02:D17A  69 34      			adc.h	#13312
         02:D17C  42         			say
 4250                        		__call		_sgx_spr_pattern.1
         02:D17D  20 E7 E8   			call	_sgx_spr_pattern.1
 4251                        	
 4252                        		.dbg	line,	"include\routines_INTRO.c", 81; }
 4253                        		__bra		.LL17
         02:D180  80 E3      			bra	.LL17
 4254    02:D182             	.LL19	.alias		.LL20
 4255                        	
 4256                        		.dbg	line,	"include\routines_INTRO.c", 82; }
 4257                        	
 4258                        		.dbg	line,	"include\routines_INTRO.c", 84; else if(global_counter == 16)
 4259                        		__bra		.LL20
         02:D182  4C C8 D2   			bra	.LL20
 4260    02:D185             	.LL15:
 4261                        		__ld.wm		_global_counter
         02:D185  AD 5B 26   			lda.l	_global_counter
         02:D188  AC 5C 26   			ldy.h	_global_counter
 4262                        		__equ_w.wi	16
         02:D18B  C9 10      			cmp.l	#16
         02:D18D  D0 04      			bne	!false+
         02:D18F  C0 00      			cpy.h	#16
         02:D191  F0 01      			beq	!+
         02:D193  18         	!false:		clc
         02:D194             	!:
 4263                        		__bfalse	.LL21
         02:D194  90 31      			bcc	.LL21
 4264                        	
 4265                        		.dbg	line,	"include\routines_INTRO.c", 85; {
 4266                        	
 4267                        		.dbg	line,	"include\routines_INTRO.c", 86; for(i=0 ; i<8 ; i++)
 4268                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         02:D196  9C 2D 2C   			stz	__sequence_INTRO_end - 1
 4269    02:D199             	.LL22:
 4270                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:D199  AD 2D 2C   			lda	__sequence_INTRO_end - 1
 4271                        		__ult_b.uiq	8
         02:D19C  C9 08      			cmp	#8		; Subtract integer from A.
         02:D19E  6A         			ror	a		; CC if A < integer.
         02:D19F  49 80      			eor	#$80
         02:D1A1  2A         			rol	a
 4272                        		__btrue		.LL24
         02:D1A2  B0 08      			bcs	.LL24
 4273                        		__bra		.LL25
         02:D1A4  4C C8 D2   			bra	.LL25
 4274    02:D1A7             	.LL23:
 4275                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         02:D1A7  EE 2D 2C   			inc	__sequence_INTRO_end - 1
 4276                        		__bra		.LL22
         02:D1AA  80 ED      			bra	.LL22
 4277    02:D1AC             	.LL24:
 4278                        	
 4279                        		.dbg	line,	"include\routines_INTRO.c", 87; {
 4280                        	
 4281                        		.dbg	line,	"include\routines_INTRO.c", 88; sgx_spr_set(i);
 4282                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:D1AC  AD 2D 2C   			lda	__sequence_INTRO_end - 1
 4283                        		__call		_sgx_spr_set.1
         02:D1AF  20 9E E8   			call	_sgx_spr_set.1
 4284                        	
 4285                        		.dbg	line,	"include\routines_INTRO.c", 89; sgx_spr_pattern(DRAGON_INTRO_VRAM_ADR + (i*TILES_16) + TILES_256);
 4286                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         02:D1B2  AD 2D 2C   			lda	__sequence_INTRO_end - 1
         02:D1B5  C2         			cly
 4287                        		__asl.wi	8
         02:D1B6  A8         			tay
         02:D1B7  62         			cla
 4288                        		__add.wi	15360
         02:D1B8  18         			clc
         02:D1B9  69 00      			adc.l	#15360
         02:D1BB  42         			say
         02:D1BC  69 3C      			adc.h	#15360
         02:D1BE  42         			say
 4289                        		__call		_sgx_spr_pattern.1
         02:D1BF  20 E7 E8   			call	_sgx_spr_pattern.1
 4290                        	
 4291                        		.dbg	line,	"include\routines_INTRO.c", 90; }
 4292                        		__bra		.LL23
         02:D1C2  80 E3      			bra	.LL23
 4293    02:D1C4             	.LL25	.alias		.LL26
 4294                        	
 4295                        		.dbg	line,	"include\routines_INTRO.c", 91; }
 4296                        	
 4297                        		.dbg	line,	"include\routines_INTRO.c", 93; else if(global_counter == 24)
 4298                        		__bra		.LL26
         02:D1C4  4C C8 D2   			bra	.LL26
 4299    02:D1C7             	.LL21:
 4300                        		__ld.wm		_global_counter
         02:D1C7  AD 5B 26   			lda.l	_global_counter
         02:D1CA  AC 5C 26   			ldy.h	_global_counter
 4301                        		__equ_w.wi	24
         02:D1CD  C9 18      			cmp.l	#24
         02:D1CF  D0 04      			bne	!false+
         02:D1D1  C0 00      			cpy.h	#24
         02:D1D3  F0 01      			beq	!+
         02:D1D5  18         	!false:		clc
         02:D1D6             	!:
 4302                        		__bfalse	.LL27
         02:D1D6  90 31      			bcc	.LL27
 4303                        	
 4304                        		.dbg	line,	"include\routines_INTRO.c", 94; {
 4305                        	
 4306                        		.dbg	line,	"include\routines_INTRO.c", 95; for(i=0 ; i<8 ; i++)
 4307                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         02:D1D8  9C 2D 2C   			stz	__sequence_INTRO_end - 1
 4308    02:D1DB             	.LL28:
 4309                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:D1DB  AD 2D 2C   			lda	__sequence_INTRO_end - 1
 4310                        		__ult_b.uiq	8
         02:D1DE  C9 08      			cmp	#8		; Subtract integer from A.
         02:D1E0  6A         			ror	a		; CC if A < integer.
         02:D1E1  49 80      			eor	#$80
         02:D1E3  2A         			rol	a
 4311                        		__btrue		.LL30
         02:D1E4  B0 08      			bcs	.LL30
 4312                        		__bra		.LL31
         02:D1E6  4C C8 D2   			bra	.LL31
 4313    02:D1E9             	.LL29:
 4314                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         02:D1E9  EE 2D 2C   			inc	__sequence_INTRO_end - 1
 4315                        		__bra		.LL28
         02:D1EC  80 ED      			bra	.LL28
 4316    02:D1EE             	.LL30:
 4317                        	
 4318                        		.dbg	line,	"include\routines_INTRO.c", 96; {
 4319                        	
 4320                        		.dbg	line,	"include\routines_INTRO.c", 97; sgx_spr_set(i);
 4321                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:D1EE  AD 2D 2C   			lda	__sequence_INTRO_end - 1
 4322                        		__call		_sgx_spr_set.1
         02:D1F1  20 9E E8   			call	_sgx_spr_set.1
 4323                        	
 4324                        		.dbg	line,	"include\routines_INTRO.c", 98; sgx_spr_pattern(DRAGON_INTRO_VRAM_ADR + (i*TILES_16));
 4325                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         02:D1F4  AD 2D 2C   			lda	__sequence_INTRO_end - 1
         02:D1F7  C2         			cly
 4326                        		__asl.wi	8
         02:D1F8  A8         			tay
         02:D1F9  62         			cla
 4327                        		__add.wi	11264
         02:D1FA  18         			clc
         02:D1FB  69 00      			adc.l	#11264
         02:D1FD  42         			say
         02:D1FE  69 2C      			adc.h	#11264
         02:D200  42         			say
 4328                        		__call		_sgx_spr_pattern.1
         02:D201  20 E7 E8   			call	_sgx_spr_pattern.1
 4329                        	
 4330                        		.dbg	line,	"include\routines_INTRO.c", 99; }
 4331                        		__bra		.LL29
         02:D204  80 E3      			bra	.LL29
 4332    02:D206             	.LL31	.alias		.LL32
 4333                        	
 4334                        		.dbg	line,	"include\routines_INTRO.c", 100; }
 4335                        	
 4336                        		.dbg	line,	"include\routines_INTRO.c", 102; else if(global_counter == 32)
 4337                        		__bra		.LL32
         02:D206  4C C8 D2   			bra	.LL32
 4338    02:D209             	.LL27:
 4339                        		__ld.wm		_global_counter
         02:D209  AD 5B 26   			lda.l	_global_counter
         02:D20C  AC 5C 26   			ldy.h	_global_counter
 4340                        		__equ_w.wi	32
         02:D20F  C9 20      			cmp.l	#32
         02:D211  D0 04      			bne	!false+
         02:D213  C0 00      			cpy.h	#32
         02:D215  F0 01      			beq	!+
         02:D217  18         	!false:		clc
         02:D218             	!:
 4341                        		__bfalse	.LL33
         02:D218  90 30      			bcc	.LL33
 4342                        	
 4343                        		.dbg	line,	"include\routines_INTRO.c", 103; {
 4344                        	
 4345                        		.dbg	line,	"include\routines_INTRO.c", 104; for(i=0 ; i<8 ; i++)
 4346                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         02:D21A  9C 2D 2C   			stz	__sequence_INTRO_end - 1
 4347    02:D21D             	.LL34:
 4348                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:D21D  AD 2D 2C   			lda	__sequence_INTRO_end - 1
 4349                        		__ult_b.uiq	8
         02:D220  C9 08      			cmp	#8		; Subtract integer from A.
         02:D222  6A         			ror	a		; CC if A < integer.
         02:D223  49 80      			eor	#$80
         02:D225  2A         			rol	a
 4350                        		__btrue		.LL36
         02:D226  B0 08      			bcs	.LL36
 4351                        		__bra		.LL37
         02:D228  4C C8 D2   			bra	.LL37
 4352    02:D22B             	.LL35:
 4353                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         02:D22B  EE 2D 2C   			inc	__sequence_INTRO_end - 1
 4354                        		__bra		.LL34
         02:D22E  80 ED      			bra	.LL34
 4355    02:D230             	.LL36:
 4356                        	
 4357                        		.dbg	line,	"include\routines_INTRO.c", 105; {
 4358                        	
 4359                        		.dbg	line,	"include\routines_INTRO.c", 106; sgx_spr_set(i);
 4360                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:D230  AD 2D 2C   			lda	__sequence_INTRO_end - 1
 4361                        		__call		_sgx_spr_set.1
         02:D233  20 9E E8   			call	_sgx_spr_set.1
 4362                        	
 4363                        		.dbg	line,	"include\routines_INTRO.c", 107; sgx_spr_pattern(DRAGON_INTRO_VRAM_ADR + (i*TILES_16) + TILES_128);
 4364                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         02:D236  AD 2D 2C   			lda	__sequence_INTRO_end - 1
         02:D239  C2         			cly
 4365                        		__asl.wi	8
         02:D23A  A8         			tay
         02:D23B  62         			cla
 4366                        		__add.wi	13312
         02:D23C  18         			clc
         02:D23D  69 00      			adc.l	#13312
         02:D23F  42         			say
         02:D240  69 34      			adc.h	#13312
         02:D242  42         			say
 4367                        		__call		_sgx_spr_pattern.1
         02:D243  20 E7 E8   			call	_sgx_spr_pattern.1
 4368                        	
 4369                        		.dbg	line,	"include\routines_INTRO.c", 108; }
 4370                        		__bra		.LL35
         02:D246  80 E3      			bra	.LL35
 4371    02:D248             	.LL37	.alias		.LL38
 4372                        	
 4373                        		.dbg	line,	"include\routines_INTRO.c", 109; }
 4374                        	
 4375                        		.dbg	line,	"include\routines_INTRO.c", 111; else if(global_counter == 40)
 4376                        		__bra		.LL38
         02:D248  80 7E      			bra	.LL38
 4377    02:D24A             	.LL33:
 4378                        		__ld.wm		_global_counter
         02:D24A  AD 5B 26   			lda.l	_global_counter
         02:D24D  AC 5C 26   			ldy.h	_global_counter
 4379                        		__equ_w.wi	40
         02:D250  C9 28      			cmp.l	#40
         02:D252  D0 04      			bne	!false+
         02:D254  C0 00      			cpy.h	#40
         02:D256  F0 01      			beq	!+
         02:D258  18         	!false:		clc
         02:D259             	!:
 4380                        		__bfalse	.LL39
         02:D259  90 2F      			bcc	.LL39
 4381                        	
 4382                        		.dbg	line,	"include\routines_INTRO.c", 112; {
 4383                        	
 4384                        		.dbg	line,	"include\routines_INTRO.c", 113; for(i=0 ; i<8 ; i++)
 4385                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         02:D25B  9C 2D 2C   			stz	__sequence_INTRO_end - 1
 4386    02:D25E             	.LL40:
 4387                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:D25E  AD 2D 2C   			lda	__sequence_INTRO_end - 1
 4388                        		__ult_b.uiq	8
         02:D261  C9 08      			cmp	#8		; Subtract integer from A.
         02:D263  6A         			ror	a		; CC if A < integer.
         02:D264  49 80      			eor	#$80
         02:D266  2A         			rol	a
 4389                        		__btrue		.LL42
         02:D267  B0 07      			bcs	.LL42
 4390                        		__bra		.LL43
         02:D269  80 5D      			bra	.LL43
 4391    02:D26B             	.LL41:
 4392                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         02:D26B  EE 2D 2C   			inc	__sequence_INTRO_end - 1
 4393                        		__bra		.LL40
         02:D26E  80 EE      			bra	.LL40
 4394    02:D270             	.LL42:
 4395                        	
 4396                        		.dbg	line,	"include\routines_INTRO.c", 114; {
 4397                        	
 4398                        		.dbg	line,	"include\routines_INTRO.c", 115; sgx_spr_set(i);
 4399                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:D270  AD 2D 2C   			lda	__sequence_INTRO_end - 1
 4400                        		__call		_sgx_spr_set.1
         02:D273  20 9E E8   			call	_sgx_spr_set.1
 4401                        	
 4402                        		.dbg	line,	"include\routines_INTRO.c", 116; sgx_spr_pattern(DRAGON_INTRO_VRAM_ADR + (i*TILES_16) + TILES_256);
 4403                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         02:D276  AD 2D 2C   			lda	__sequence_INTRO_end - 1
         02:D279  C2         			cly
 4404                        		__asl.wi	8
         02:D27A  A8         			tay
         02:D27B  62         			cla
 4405                        		__add.wi	15360
         02:D27C  18         			clc
         02:D27D  69 00      			adc.l	#15360
         02:D27F  42         			say
         02:D280  69 3C      			adc.h	#15360
         02:D282  42         			say
 4406                        		__call		_sgx_spr_pattern.1
         02:D283  20 E7 E8   			call	_sgx_spr_pattern.1
 4407                        	
 4408                        		.dbg	line,	"include\routines_INTRO.c", 117; }
 4409                        		__bra		.LL41
         02:D286  80 E3      			bra	.LL41
 4410    02:D288             	.LL43	.alias		.LL44
 4411                        	
 4412                        		.dbg	line,	"include\routines_INTRO.c", 118; }
 4413                        	
 4414                        		.dbg	line,	"include\routines_INTRO.c", 120; else if(global_counter == 48)
 4415                        		__bra		.LL44
         02:D288  80 3E      			bra	.LL44
 4416    02:D28A             	.LL39:
 4417                        		__ld.wm		_global_counter
         02:D28A  AD 5B 26   			lda.l	_global_counter
         02:D28D  AC 5C 26   			ldy.h	_global_counter
 4418                        		__equ_w.wi	48
         02:D290  C9 30      			cmp.l	#48
         02:D292  D0 04      			bne	!false+
         02:D294  C0 00      			cpy.h	#48
         02:D296  F0 01      			beq	!+
         02:D298  18         	!false:		clc
         02:D299             	!:
 4419                        		__bfalse	.LL45
         02:D299  90 2D      			bcc	.LL45
 4420                        	
 4421                        		.dbg	line,	"include\routines_INTRO.c", 121; {
 4422                        	
 4423                        		.dbg	line,	"include\routines_INTRO.c", 122; for(i=0 ; i<8 ; i++)
 4424                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         02:D29B  9C 2D 2C   			stz	__sequence_INTRO_end - 1
 4425    02:D29E             	.LL46:
 4426                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:D29E  AD 2D 2C   			lda	__sequence_INTRO_end - 1
 4427                        		__ult_b.uiq	8
         02:D2A1  C9 08      			cmp	#8		; Subtract integer from A.
         02:D2A3  6A         			ror	a		; CC if A < integer.
         02:D2A4  49 80      			eor	#$80
         02:D2A6  2A         			rol	a
 4428                        		__btrue		.LL48
         02:D2A7  B0 07      			bcs	.LL48
 4429                        		__bra		.LL49
         02:D2A9  80 1D      			bra	.LL49
 4430    02:D2AB             	.LL47:
 4431                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         02:D2AB  EE 2D 2C   			inc	__sequence_INTRO_end - 1
 4432                        		__bra		.LL46
         02:D2AE  80 EE      			bra	.LL46
 4433    02:D2B0             	.LL48:
 4434                        	
 4435                        		.dbg	line,	"include\routines_INTRO.c", 123; {
 4436                        	
 4437                        		.dbg	line,	"include\routines_INTRO.c", 124; sgx_spr_set(i);
 4438                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:D2B0  AD 2D 2C   			lda	__sequence_INTRO_end - 1
 4439                        		__call		_sgx_spr_set.1
         02:D2B3  20 9E E8   			call	_sgx_spr_set.1
 4440                        	
 4441                        		.dbg	line,	"include\routines_INTRO.c", 125; sgx_spr_pattern(DRAGON_INTRO_VRAM_ADR + (i*TILES_16) + TILES_384);
 4442                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         02:D2B6  AD 2D 2C   			lda	__sequence_INTRO_end - 1
         02:D2B9  C2         			cly
 4443                        		__asl.wi	8
         02:D2BA  A8         			tay
         02:D2BB  62         			cla
 4444                        		__add.wi	17408
         02:D2BC  18         			clc
         02:D2BD  69 00      			adc.l	#17408
         02:D2BF  42         			say
         02:D2C0  69 44      			adc.h	#17408
         02:D2C2  42         			say
 4445                        		__call		_sgx_spr_pattern.1
         02:D2C3  20 E7 E8   			call	_sgx_spr_pattern.1
 4446                        	
 4447                        		.dbg	line,	"include\routines_INTRO.c", 126; }
 4448                        		__bra		.LL47
         02:D2C6  80 E3      			bra	.LL47
 4449    02:D2C8             	.LL49:
 4450                        	
 4451                        		.dbg	line,	"include\routines_INTRO.c", 127; }
 4452                        	
 4453                        		.dbg	line,	"include\routines_INTRO.c", 128; }
 4454    02:D2C8             	.LL45:
 4455    02:D2C8             	.LL44:
 4456    02:D2C8             	.LL38:
 4457    02:D2C8             	.LL32:
 4458    02:D2C8             	.LL26:
 4459    02:D2C8             	.LL20:
 4460                        	
 4461                        		.dbg	line,	"include\routines_INTRO.c", 133; //--------------------------------------------------------------------------------------//
 4462                        	
 4463                        		.dbg	line,	"include\routines_INTRO.c", 134; //                                        BOLTS                                         //
 4464                        	
 4465                        		.dbg	line,	"include\routines_INTRO.c", 135; //--------------------------------------------------------------------------------------//
 4466                        	
 4467                        		.dbg	line,	"include\routines_INTRO.c", 137; if(global_counter == 71)
 4468    02:D2C8             	.LL10:
 4469                        		__ld.wm		_global_counter
         02:D2C8  AD 5B 26   			lda.l	_global_counter
         02:D2CB  AC 5C 26   			ldy.h	_global_counter
 4470                        		__equ_w.wi	71
         02:D2CE  C9 47      			cmp.l	#71
         02:D2D0  D0 04      			bne	!false+
         02:D2D2  C0 00      			cpy.h	#71
         02:D2D4  F0 01      			beq	!+
         02:D2D6  18         	!false:		clc
         02:D2D7             	!:
 4471                        		__bfalse	.LL50
         02:D2D7  90 4B      			bcc	.LL50
 4472                        	
 4473                        		.dbg	line,	"include\routines_INTRO.c", 138; {
 4474                        	
 4475                        		.dbg	line,	"include\routines_INTRO.c", 139; load_palette( 0, palette_INTRO_3, 1 );
 4476                        		__st.umiq	0, _al
         02:D2D9  64 F8      			stz	_al
 4477                        		__farptr	_palette_INTRO_3, _bp_bank, _bp
         02:D2DB  A9 E0      			lda.l	#$6000 + ($1FFF & (_palette_INTRO_3))
         02:D2DD  85 EC      			sta.l	_bp
         02:D2DF  A9 7A      			lda.h	#$6000 + ($1FFF & (_palette_INTRO_3))
         02:D2E1  85 ED      			sta.h	_bp
         02:D2E3  A9 06      			lda	#bank(_palette_INTRO_3)
         02:D2E5  85 02      			sta	_bp_bank
 4478                        		__st.umiq	1, _ah
         02:D2E7  A9 01      			lda.l	#1
         02:D2E9  85 F9      			sta	_ah
 4479                        		__call		_load_palette.3
         02:D2EB  20 8B FF   			call	_load_palette.3
 4480                        	
 4481                        		.dbg	line,	"include\routines_INTRO.c", 141; vdc_map_pxl_x = 256;
 4482                        		__st.wmiq	256, _vdc_map_pxl_x
         02:D2EE  9C D4 26   			stz.l	_vdc_map_pxl_x
         02:D2F1  A9 01      			lda.h	#256
         02:D2F3  8D D5 26   			sta.h	_vdc_map_pxl_x
 4483                        	
 4484                        		.dbg	line,	"include\routines_INTRO.c", 142; scroll_split(0,   0, vdc_map_pxl_x & (511), vdc_map_pxl_y & (511), BKG_ON | SPR_ON);
 4485                        		__st.umiq	0, _al
         02:D2F6  64 F8      			stz	_al
 4486                        		__st.umiq	0, _ah
         02:D2F8  64 F9      			stz	_ah
 4487                        		__ld.wm		_vdc_map_pxl_x
         02:D2FA  AD D4 26   			lda.l	_vdc_map_pxl_x
         02:D2FD  AC D5 26   			ldy.h	_vdc_map_pxl_x
 4488                        		__and.wi	511
         02:D300  29 FF      			and.l	#511
         02:D302  42         			say
         02:D303  29 01      			and.h	#511
         02:D305  42         			say
 4489                        		__st.wmq	_bx
         02:D306  85 FA      			sta.l	_bx
         02:D308  84 FB      			sty.h	_bx
 4490                        		__ld.wm		_vdc_map_pxl_y
         02:D30A  AD D6 26   			lda.l	_vdc_map_pxl_y
         02:D30D  AC D7 26   			ldy.h	_vdc_map_pxl_y
 4491                        		__and.wi	511
         02:D310  29 FF      			and.l	#511
         02:D312  42         			say
         02:D313  29 01      			and.h	#511
         02:D315  42         			say
 4492                        		__st.wmq	_cx
         02:D316  85 FC      			sta.l	_cx
         02:D318  84 FD      			sty.h	_cx
 4493                        		__st.umiq	192, _dl
         02:D31A  A9 C0      			lda.l	#192
         02:D31C  85 FE      			sta	_dl
 4494                        		__call		_scroll_split.5
         02:D31E  20 81 FF   			call	_scroll_split.5
 4495                        	
 4496                        		.dbg	line,	"include\routines_INTRO.c", 143; }
 4497                        	
 4498                        		.dbg	line,	"include\routines_INTRO.c", 145; else if(global_counter == 76)
 4499                        		__bra		.LL51
         02:D321  4C 0C DF   			bra	.LL51
 4500    02:D324             	.LL50:
 4501                        		__ld.wm		_global_counter
         02:D324  AD 5B 26   			lda.l	_global_counter
         02:D327  AC 5C 26   			ldy.h	_global_counter
 4502                        		__equ_w.wi	76
         02:D32A  C9 4C      			cmp.l	#76
         02:D32C  D0 04      			bne	!false+
         02:D32E  C0 00      			cpy.h	#76
         02:D330  F0 01      			beq	!+
         02:D332  18         	!false:		clc
         02:D333             	!:
 4503                        		__bfalse	.LL52
         02:D333  90 49      			bcc	.LL52
 4504                        	
 4505                        		.dbg	line,	"include\routines_INTRO.c", 146; {
 4506                        	
 4507                        		.dbg	line,	"include\routines_INTRO.c", 147; vdc_map_pxl_x = 0;
 4508                        		__st.wmiq	0, _vdc_map_pxl_x
         02:D335  9C D4 26   			stz.l	_vdc_map_pxl_x
         02:D338  9C D5 26   			stz.h	_vdc_map_pxl_x
 4509                        	
 4510                        		.dbg	line,	"include\routines_INTRO.c", 148; scroll_split(0,   0, vdc_map_pxl_x & (511), vdc_map_pxl_y & (511), BKG_ON | SPR_ON);
 4511                        		__st.umiq	0, _al
         02:D33B  64 F8      			stz	_al
 4512                        		__st.umiq	0, _ah
         02:D33D  64 F9      			stz	_ah
 4513                        		__ld.wm		_vdc_map_pxl_x
         02:D33F  AD D4 26   			lda.l	_vdc_map_pxl_x
         02:D342  AC D5 26   			ldy.h	_vdc_map_pxl_x
 4514                        		__and.wi	511
         02:D345  29 FF      			and.l	#511
         02:D347  42         			say
         02:D348  29 01      			and.h	#511
         02:D34A  42         			say
 4515                        		__st.wmq	_bx
         02:D34B  85 FA      			sta.l	_bx
         02:D34D  84 FB      			sty.h	_bx
 4516                        		__ld.wm		_vdc_map_pxl_y
         02:D34F  AD D6 26   			lda.l	_vdc_map_pxl_y
         02:D352  AC D7 26   			ldy.h	_vdc_map_pxl_y
 4517                        		__and.wi	511
         02:D355  29 FF      			and.l	#511
         02:D357  42         			say
         02:D358  29 01      			and.h	#511
         02:D35A  42         			say
 4518                        		__st.wmq	_cx
         02:D35B  85 FC      			sta.l	_cx
         02:D35D  84 FD      			sty.h	_cx
 4519                        		__st.umiq	192, _dl
         02:D35F  A9 C0      			lda.l	#192
         02:D361  85 FE      			sta	_dl
 4520                        		__call		_scroll_split.5
         02:D363  20 81 FF   			call	_scroll_split.5
 4521                        	
 4522                        		.dbg	line,	"include\routines_INTRO.c", 150; load_palette( 0, palette_INTRO_2, 1 );
 4523                        		__st.umiq	0, _al
         02:D366  64 F8      			stz	_al
 4524                        		__farptr	_palette_INTRO_2, _bp_bank, _bp
         02:D368  A9 E0      			lda.l	#$6000 + ($1FFF & (_palette_INTRO_2))
         02:D36A  85 EC      			sta.l	_bp
         02:D36C  A9 78      			lda.h	#$6000 + ($1FFF & (_palette_INTRO_2))
         02:D36E  85 ED      			sta.h	_bp
         02:D370  A9 06      			lda	#bank(_palette_INTRO_2)
         02:D372  85 02      			sta	_bp_bank
 4525                        		__st.umiq	1, _ah
         02:D374  A9 01      			lda.l	#1
         02:D376  85 F9      			sta	_ah
 4526                        		__call		_load_palette.3
         02:D378  20 8B FF   			call	_load_palette.3
 4527                        	
 4528                        		.dbg	line,	"include\routines_INTRO.c", 151; }
 4529                        	
 4530                        		.dbg	line,	"include\routines_INTRO.c", 153; else if(global_counter == 136)
 4531                        		__bra		.LL53
         02:D37B  4C 0C DF   			bra	.LL53
 4532    02:D37E             	.LL52:
 4533                        		__ld.wm		_global_counter
         02:D37E  AD 5B 26   			lda.l	_global_counter
         02:D381  AC 5C 26   			ldy.h	_global_counter
 4534                        		__equ_w.wi	136
         02:D384  C9 88      			cmp.l	#136
         02:D386  D0 04      			bne	!false+
         02:D388  C0 00      			cpy.h	#136
         02:D38A  F0 01      			beq	!+
         02:D38C  18         	!false:		clc
         02:D38D             	!:
 4535                        		__bfalse	.LL54
         02:D38D  90 4B      			bcc	.LL54
 4536                        	
 4537                        		.dbg	line,	"include\routines_INTRO.c", 154; {
 4538                        	
 4539                        		.dbg	line,	"include\routines_INTRO.c", 155; load_palette( 0, palette_INTRO_3, 1 );
 4540                        		__st.umiq	0, _al
         02:D38F  64 F8      			stz	_al
 4541                        		__farptr	_palette_INTRO_3, _bp_bank, _bp
         02:D391  A9 E0      			lda.l	#$6000 + ($1FFF & (_palette_INTRO_3))
         02:D393  85 EC      			sta.l	_bp
         02:D395  A9 7A      			lda.h	#$6000 + ($1FFF & (_palette_INTRO_3))
         02:D397  85 ED      			sta.h	_bp
         02:D399  A9 06      			lda	#bank(_palette_INTRO_3)
         02:D39B  85 02      			sta	_bp_bank
 4542                        		__st.umiq	1, _ah
         02:D39D  A9 01      			lda.l	#1
         02:D39F  85 F9      			sta	_ah
 4543                        		__call		_load_palette.3
         02:D3A1  20 8B FF   			call	_load_palette.3
 4544                        	
 4545                        		.dbg	line,	"include\routines_INTRO.c", 157; vdc_map_pxl_x = 256;
 4546                        		__st.wmiq	256, _vdc_map_pxl_x
         02:D3A4  9C D4 26   			stz.l	_vdc_map_pxl_x
         02:D3A7  A9 01      			lda.h	#256
         02:D3A9  8D D5 26   			sta.h	_vdc_map_pxl_x
 4547                        	
 4548                        		.dbg	line,	"include\routines_INTRO.c", 158; scroll_split(0,   0, vdc_map_pxl_x & (511), vdc_map_pxl_y & (511), BKG_ON | SPR_ON);
 4549                        		__st.umiq	0, _al
         02:D3AC  64 F8      			stz	_al
 4550                        		__st.umiq	0, _ah
         02:D3AE  64 F9      			stz	_ah
 4551                        		__ld.wm		_vdc_map_pxl_x
         02:D3B0  AD D4 26   			lda.l	_vdc_map_pxl_x
         02:D3B3  AC D5 26   			ldy.h	_vdc_map_pxl_x
 4552                        		__and.wi	511
         02:D3B6  29 FF      			and.l	#511
         02:D3B8  42         			say
         02:D3B9  29 01      			and.h	#511
         02:D3BB  42         			say
 4553                        		__st.wmq	_bx
         02:D3BC  85 FA      			sta.l	_bx
         02:D3BE  84 FB      			sty.h	_bx
 4554                        		__ld.wm		_vdc_map_pxl_y
         02:D3C0  AD D6 26   			lda.l	_vdc_map_pxl_y
         02:D3C3  AC D7 26   			ldy.h	_vdc_map_pxl_y
 4555                        		__and.wi	511
         02:D3C6  29 FF      			and.l	#511
         02:D3C8  42         			say
         02:D3C9  29 01      			and.h	#511
         02:D3CB  42         			say
 4556                        		__st.wmq	_cx
         02:D3CC  85 FC      			sta.l	_cx
         02:D3CE  84 FD      			sty.h	_cx
 4557                        		__st.umiq	192, _dl
         02:D3D0  A9 C0      			lda.l	#192
         02:D3D2  85 FE      			sta	_dl
 4558                        		__call		_scroll_split.5
         02:D3D4  20 81 FF   			call	_scroll_split.5
 4559                        	
 4560                        		.dbg	line,	"include\routines_INTRO.c", 159; }
 4561                        	
 4562                        		.dbg	line,	"include\routines_INTRO.c", 161; else if(global_counter == 140)
 4563                        		__bra		.LL55
         02:D3D7  4C 0C DF   			bra	.LL55
 4564    02:D3DA             	.LL54:
 4565                        		__ld.wm		_global_counter
         02:D3DA  AD 5B 26   			lda.l	_global_counter
         02:D3DD  AC 5C 26   			ldy.h	_global_counter
 4566                        		__equ_w.wi	140
         02:D3E0  C9 8C      			cmp.l	#140
         02:D3E2  D0 04      			bne	!false+
         02:D3E4  C0 00      			cpy.h	#140
         02:D3E6  F0 01      			beq	!+
         02:D3E8  18         	!false:		clc
         02:D3E9             	!:
 4567                        		__bfalse	.LL56
         02:D3E9  90 34      			bcc	.LL56
 4568                        	
 4569                        		.dbg	line,	"include\routines_INTRO.c", 162; {
 4570                        	
 4571                        		.dbg	line,	"include\routines_INTRO.c", 163; vdc_map_pxl_x = 0;
 4572                        		__st.wmiq	0, _vdc_map_pxl_x
         02:D3EB  9C D4 26   			stz.l	_vdc_map_pxl_x
         02:D3EE  9C D5 26   			stz.h	_vdc_map_pxl_x
 4573                        	
 4574                        		.dbg	line,	"include\routines_INTRO.c", 164; scroll_split(0,   0, vdc_map_pxl_x & (511), vdc_map_pxl_y & (511), BKG_ON | SPR_ON);
 4575                        		__st.umiq	0, _al
         02:D3F1  64 F8      			stz	_al
 4576                        		__st.umiq	0, _ah
         02:D3F3  64 F9      			stz	_ah
 4577                        		__ld.wm		_vdc_map_pxl_x
         02:D3F5  AD D4 26   			lda.l	_vdc_map_pxl_x
         02:D3F8  AC D5 26   			ldy.h	_vdc_map_pxl_x
 4578                        		__and.wi	511
         02:D3FB  29 FF      			and.l	#511
         02:D3FD  42         			say
         02:D3FE  29 01      			and.h	#511
         02:D400  42         			say
 4579                        		__st.wmq	_bx
         02:D401  85 FA      			sta.l	_bx
         02:D403  84 FB      			sty.h	_bx
 4580                        		__ld.wm		_vdc_map_pxl_y
         02:D405  AD D6 26   			lda.l	_vdc_map_pxl_y
         02:D408  AC D7 26   			ldy.h	_vdc_map_pxl_y
 4581                        		__and.wi	511
         02:D40B  29 FF      			and.l	#511
         02:D40D  42         			say
         02:D40E  29 01      			and.h	#511
         02:D410  42         			say
 4582                        		__st.wmq	_cx
         02:D411  85 FC      			sta.l	_cx
         02:D413  84 FD      			sty.h	_cx
 4583                        		__st.umiq	192, _dl
         02:D415  A9 C0      			lda.l	#192
         02:D417  85 FE      			sta	_dl
 4584                        		__call		_scroll_split.5
         02:D419  20 81 FF   			call	_scroll_split.5
 4585                        	
 4586                        		.dbg	line,	"include\routines_INTRO.c", 165; }
 4587                        	
 4588                        		.dbg	line,	"include\routines_INTRO.c", 167; else if(global_counter == 141)
 4589                        		__bra		.LL57
         02:D41C  4C 0C DF   			bra	.LL57
 4590    02:D41F             	.LL56:
 4591                        		__ld.wm		_global_counter
         02:D41F  AD 5B 26   			lda.l	_global_counter
         02:D422  AC 5C 26   			ldy.h	_global_counter
 4592                        		__equ_w.wi	141
         02:D425  C9 8D      			cmp.l	#141
         02:D427  D0 04      			bne	!false+
         02:D429  C0 00      			cpy.h	#141
         02:D42B  F0 01      			beq	!+
         02:D42D  18         	!false:		clc
         02:D42E             	!:
 4593                        		__bfalse	.LL58
         02:D42E  90 18      			bcc	.LL58
 4594                        	
 4595                        		.dbg	line,	"include\routines_INTRO.c", 168; {
 4596                        	
 4597                        		.dbg	line,	"include\routines_INTRO.c", 169; load_palette( 0, palette_INTRO_2, 1 );
 4598                        		__st.umiq	0, _al
         02:D430  64 F8      			stz	_al
 4599                        		__farptr	_palette_INTRO_2, _bp_bank, _bp
         02:D432  A9 E0      			lda.l	#$6000 + ($1FFF & (_palette_INTRO_2))
         02:D434  85 EC      			sta.l	_bp
         02:D436  A9 78      			lda.h	#$6000 + ($1FFF & (_palette_INTRO_2))
         02:D438  85 ED      			sta.h	_bp
         02:D43A  A9 06      			lda	#bank(_palette_INTRO_2)
         02:D43C  85 02      			sta	_bp_bank
 4600                        		__st.umiq	1, _ah
         02:D43E  A9 01      			lda.l	#1
         02:D440  85 F9      			sta	_ah
 4601                        		__call		_load_palette.3
         02:D442  20 8B FF   			call	_load_palette.3
 4602                        	
 4603                        		.dbg	line,	"include\routines_INTRO.c", 170; }
 4604                        	
 4605                        		.dbg	line,	"include\routines_INTRO.c", 172; else if(global_counter == 145)
 4606                        		__bra		.LL59
         02:D445  4C 0C DF   			bra	.LL59
 4607    02:D448             	.LL58:
 4608                        		__ld.wm		_global_counter
         02:D448  AD 5B 26   			lda.l	_global_counter
         02:D44B  AC 5C 26   			ldy.h	_global_counter
 4609                        		__equ_w.wi	145
         02:D44E  C9 91      			cmp.l	#145
         02:D450  D0 04      			bne	!false+
         02:D452  C0 00      			cpy.h	#145
         02:D454  F0 01      			beq	!+
         02:D456  18         	!false:		clc
         02:D457             	!:
 4610                        		__bfalse	.LL60
         02:D457  90 4B      			bcc	.LL60
 4611                        	
 4612                        		.dbg	line,	"include\routines_INTRO.c", 173; {
 4613                        	
 4614                        		.dbg	line,	"include\routines_INTRO.c", 174; vdc_map_pxl_y = 256;
 4615                        		__st.wmiq	256, _vdc_map_pxl_y
         02:D459  9C D6 26   			stz.l	_vdc_map_pxl_y
         02:D45C  A9 01      			lda.h	#256
         02:D45E  8D D7 26   			sta.h	_vdc_map_pxl_y
 4616                        	
 4617                        		.dbg	line,	"include\routines_INTRO.c", 175; scroll_split(0,   0, vdc_map_pxl_x & (511), vdc_map_pxl_y & (511), BKG_ON | SPR_ON);
 4618                        		__st.umiq	0, _al
         02:D461  64 F8      			stz	_al
 4619                        		__st.umiq	0, _ah
         02:D463  64 F9      			stz	_ah
 4620                        		__ld.wm		_vdc_map_pxl_x
         02:D465  AD D4 26   			lda.l	_vdc_map_pxl_x
         02:D468  AC D5 26   			ldy.h	_vdc_map_pxl_x
 4621                        		__and.wi	511
         02:D46B  29 FF      			and.l	#511
         02:D46D  42         			say
         02:D46E  29 01      			and.h	#511
         02:D470  42         			say
 4622                        		__st.wmq	_bx
         02:D471  85 FA      			sta.l	_bx
         02:D473  84 FB      			sty.h	_bx
 4623                        		__ld.wm		_vdc_map_pxl_y
         02:D475  AD D6 26   			lda.l	_vdc_map_pxl_y
         02:D478  AC D7 26   			ldy.h	_vdc_map_pxl_y
 4624                        		__and.wi	511
         02:D47B  29 FF      			and.l	#511
         02:D47D  42         			say
         02:D47E  29 01      			and.h	#511
         02:D480  42         			say
 4625                        		__st.wmq	_cx
         02:D481  85 FC      			sta.l	_cx
         02:D483  84 FD      			sty.h	_cx
 4626                        		__st.umiq	192, _dl
         02:D485  A9 C0      			lda.l	#192
         02:D487  85 FE      			sta	_dl
 4627                        		__call		_scroll_split.5
         02:D489  20 81 FF   			call	_scroll_split.5
 4628                        	
 4629                        		.dbg	line,	"include\routines_INTRO.c", 177; load_palette( 0, palette_INTRO_3, 1 );
 4630                        		__st.umiq	0, _al
         02:D48C  64 F8      			stz	_al
 4631                        		__farptr	_palette_INTRO_3, _bp_bank, _bp
         02:D48E  A9 E0      			lda.l	#$6000 + ($1FFF & (_palette_INTRO_3))
         02:D490  85 EC      			sta.l	_bp
         02:D492  A9 7A      			lda.h	#$6000 + ($1FFF & (_palette_INTRO_3))
         02:D494  85 ED      			sta.h	_bp
         02:D496  A9 06      			lda	#bank(_palette_INTRO_3)
         02:D498  85 02      			sta	_bp_bank
 4632                        		__st.umiq	1, _ah
         02:D49A  A9 01      			lda.l	#1
         02:D49C  85 F9      			sta	_ah
 4633                        		__call		_load_palette.3
         02:D49E  20 8B FF   			call	_load_palette.3
 4634                        	
 4635                        		.dbg	line,	"include\routines_INTRO.c", 178; }
 4636                        	
 4637                        		.dbg	line,	"include\routines_INTRO.c", 180; else if(global_counter == 149)
 4638                        		__bra		.LL61
         02:D4A1  4C 0C DF   			bra	.LL61
 4639    02:D4A4             	.LL60:
 4640                        		__ld.wm		_global_counter
         02:D4A4  AD 5B 26   			lda.l	_global_counter
         02:D4A7  AC 5C 26   			ldy.h	_global_counter
 4641                        		__equ_w.wi	149
         02:D4AA  C9 95      			cmp.l	#149
         02:D4AC  D0 04      			bne	!false+
         02:D4AE  C0 00      			cpy.h	#149
         02:D4B0  F0 01      			beq	!+
         02:D4B2  18         	!false:		clc
         02:D4B3             	!:
 4642                        		__bfalse	.LL62
         02:D4B3  90 34      			bcc	.LL62
 4643                        	
 4644                        		.dbg	line,	"include\routines_INTRO.c", 181; {
 4645                        	
 4646                        		.dbg	line,	"include\routines_INTRO.c", 182; vdc_map_pxl_y = 0;
 4647                        		__st.wmiq	0, _vdc_map_pxl_y
         02:D4B5  9C D6 26   			stz.l	_vdc_map_pxl_y
         02:D4B8  9C D7 26   			stz.h	_vdc_map_pxl_y
 4648                        	
 4649                        		.dbg	line,	"include\routines_INTRO.c", 183; scroll_split(0,   0, vdc_map_pxl_x & (511), vdc_map_pxl_y & (511), BKG_ON | SPR_ON);
 4650                        		__st.umiq	0, _al
         02:D4BB  64 F8      			stz	_al
 4651                        		__st.umiq	0, _ah
         02:D4BD  64 F9      			stz	_ah
 4652                        		__ld.wm		_vdc_map_pxl_x
         02:D4BF  AD D4 26   			lda.l	_vdc_map_pxl_x
         02:D4C2  AC D5 26   			ldy.h	_vdc_map_pxl_x
 4653                        		__and.wi	511
         02:D4C5  29 FF      			and.l	#511
         02:D4C7  42         			say
         02:D4C8  29 01      			and.h	#511
         02:D4CA  42         			say
 4654                        		__st.wmq	_bx
         02:D4CB  85 FA      			sta.l	_bx
         02:D4CD  84 FB      			sty.h	_bx
 4655                        		__ld.wm		_vdc_map_pxl_y
         02:D4CF  AD D6 26   			lda.l	_vdc_map_pxl_y
         02:D4D2  AC D7 26   			ldy.h	_vdc_map_pxl_y
 4656                        		__and.wi	511
         02:D4D5  29 FF      			and.l	#511
         02:D4D7  42         			say
         02:D4D8  29 01      			and.h	#511
         02:D4DA  42         			say
 4657                        		__st.wmq	_cx
         02:D4DB  85 FC      			sta.l	_cx
         02:D4DD  84 FD      			sty.h	_cx
 4658                        		__st.umiq	192, _dl
         02:D4DF  A9 C0      			lda.l	#192
         02:D4E1  85 FE      			sta	_dl
 4659                        		__call		_scroll_split.5
         02:D4E3  20 81 FF   			call	_scroll_split.5
 4660                        	
 4661                        		.dbg	line,	"include\routines_INTRO.c", 184; }
 4662                        	
 4663                        		.dbg	line,	"include\routines_INTRO.c", 186; else if(global_counter == 150)
 4664                        		__bra		.LL63
         02:D4E6  4C 0C DF   			bra	.LL63
 4665    02:D4E9             	.LL62:
 4666                        		__ld.wm		_global_counter
         02:D4E9  AD 5B 26   			lda.l	_global_counter
         02:D4EC  AC 5C 26   			ldy.h	_global_counter
 4667                        		__equ_w.wi	150
         02:D4EF  C9 96      			cmp.l	#150
         02:D4F1  D0 04      			bne	!false+
         02:D4F3  C0 00      			cpy.h	#150
         02:D4F5  F0 01      			beq	!+
         02:D4F7  18         	!false:		clc
         02:D4F8             	!:
 4668                        		__bfalse	.LL64
         02:D4F8  90 38      			bcc	.LL64
 4669                        	
 4670                        		.dbg	line,	"include\routines_INTRO.c", 187; {
 4671                        	
 4672                        		.dbg	line,	"include\routines_INTRO.c", 188; for(i=0 ; i<8 ; i++)
 4673                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         02:D4FA  9C 2D 2C   			stz	__sequence_INTRO_end - 1
 4674    02:D4FD             	.LL65:
 4675                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:D4FD  AD 2D 2C   			lda	__sequence_INTRO_end - 1
 4676                        		__ult_b.uiq	8
         02:D500  C9 08      			cmp	#8		; Subtract integer from A.
         02:D502  6A         			ror	a		; CC if A < integer.
         02:D503  49 80      			eor	#$80
         02:D505  2A         			rol	a
 4677                        		__btrue		.LL67
         02:D506  B0 07      			bcs	.LL67
 4678                        		__bra		.LL68
         02:D508  80 10      			bra	.LL68
 4679    02:D50A             	.LL66:
 4680                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         02:D50A  EE 2D 2C   			inc	__sequence_INTRO_end - 1
 4681                        		__bra		.LL65
         02:D50D  80 EE      			bra	.LL65
 4682    02:D50F             	.LL67:
 4683                        	
 4684                        		.dbg	line,	"include\routines_INTRO.c", 189; {
 4685                        	
 4686                        		.dbg	line,	"include\routines_INTRO.c", 190; sgx_spr_set(i);
 4687                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:D50F  AD 2D 2C   			lda	__sequence_INTRO_end - 1
 4688                        		__call		_sgx_spr_set.1
         02:D512  20 9E E8   			call	_sgx_spr_set.1
 4689                        	
 4690                        		.dbg	line,	"include\routines_INTRO.c", 191; sgx_spr_hide();
 4691                        		__call		_sgx_spr_hide
         02:D515  20 B9 E8   			call	_sgx_spr_hide
 4692                        	
 4693                        		.dbg	line,	"include\routines_INTRO.c", 192; }
 4694                        		__bra		.LL66
         02:D518  80 F0      			bra	.LL66
 4695    02:D51A             	.LL68:
 4696                        	
 4697                        		.dbg	line,	"include\routines_INTRO.c", 193; 
 4698                        	
 4699                        		.dbg	line,	"include\routines_INTRO.c", 194; load_palette( 0, palette_INTRO_2, 1 );
 4700                        		__st.umiq	0, _al
         02:D51A  64 F8      			stz	_al
 4701                        		__farptr	_palette_INTRO_2, _bp_bank, _bp
         02:D51C  A9 E0      			lda.l	#$6000 + ($1FFF & (_palette_INTRO_2))
         02:D51E  85 EC      			sta.l	_bp
         02:D520  A9 78      			lda.h	#$6000 + ($1FFF & (_palette_INTRO_2))
         02:D522  85 ED      			sta.h	_bp
         02:D524  A9 06      			lda	#bank(_palette_INTRO_2)
         02:D526  85 02      			sta	_bp_bank
 4702                        		__st.umiq	1, _ah
         02:D528  A9 01      			lda.l	#1
         02:D52A  85 F9      			sta	_ah
 4703                        		__call		_load_palette.3
         02:D52C  20 8B FF   			call	_load_palette.3
 4704                        	
 4705                        		.dbg	line,	"include\routines_INTRO.c", 195; }
 4706                        	
 4707                        		.dbg	line,	"include\routines_INTRO.c", 197; else if(global_counter == 152)
 4708                        		__bra		.LL69
         02:D52F  4C 0C DF   			bra	.LL69
 4709    02:D532             	.LL64:
 4710                        		__ld.wm		_global_counter
         02:D532  AD 5B 26   			lda.l	_global_counter
         02:D535  AC 5C 26   			ldy.h	_global_counter
 4711                        		__equ_w.wi	152
         02:D538  C9 98      			cmp.l	#152
         02:D53A  D0 04      			bne	!false+
         02:D53C  C0 00      			cpy.h	#152
         02:D53E  F0 01      			beq	!+
         02:D540  18         	!false:		clc
         02:D541             	!:
 4712                        		__bfalse	.LL70
         02:D541  90 76      			bcc	.LL70
 4713                        	
 4714                        		.dbg	line,	"include\routines_INTRO.c", 198; {
 4715                        	
 4716                        		.dbg	line,	"include\routines_INTRO.c", 199; for(i=0 ; i<8 ; i++)
 4717                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         02:D543  9C 2D 2C   			stz	__sequence_INTRO_end - 1
 4718    02:D546             	.LL71:
 4719                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:D546  AD 2D 2C   			lda	__sequence_INTRO_end - 1
 4720                        		__ult_b.uiq	8
         02:D549  C9 08      			cmp	#8		; Subtract integer from A.
         02:D54B  6A         			ror	a		; CC if A < integer.
         02:D54C  49 80      			eor	#$80
         02:D54E  2A         			rol	a
 4721                        		__btrue		.LL73
         02:D54F  B0 08      			bcs	.LL73
 4722                        		__bra		.LL74
         02:D551  4C 0C DF   			bra	.LL74
 4723    02:D554             	.LL72:
 4724                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         02:D554  EE 2D 2C   			inc	__sequence_INTRO_end - 1
 4725                        		__bra		.LL71
         02:D557  80 ED      			bra	.LL71
 4726    02:D559             	.LL73:
 4727                        	
 4728                        		.dbg	line,	"include\routines_INTRO.c", 200; {
 4729                        	
 4730                        		.dbg	line,	"include\routines_INTRO.c", 201; sgx_spr_set(i);
 4731                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:D559  AD 2D 2C   			lda	__sequence_INTRO_end - 1
 4732                        		__call		_sgx_spr_set.1
         02:D55C  20 9E E8   			call	_sgx_spr_set.1
 4733                        	
 4734                        		.dbg	line,	"include\routines_INTRO.c", 202; sgx_spr_x(player_pos_x + (i<<5) - ((i>>2)<<7));
 4735                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         02:D55F  AD 2D 2C   			lda	__sequence_INTRO_end - 1
         02:D562  C2         			cly
 4736                        		__asl.wi	5
         02:D563  85 00      			sta	__temp
         02:D565  98         			tya
         02:D566  4A         			lsr	a
         02:D567  20 C8 E1   			jsr	aslw5
         02:D56A  29 E0      			and.l	#$FF << 5
 4737                        		__add.wm	_player_pos_x
         02:D56C  18         			clc
         02:D56D  6D 01 25   			adc.l	_player_pos_x
         02:D570  42         			say
         02:D571  6D 02 25   			adc.h	_player_pos_x
         02:D574  42         			say
 4738                        		__push.wr
         02:D575  5A         			phy
         02:D576  48         			pha
 4739                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         02:D577  AD 2D 2C   			lda	__sequence_INTRO_end - 1
         02:D57A  C2         			cly
 4740                        		__lsr.uiq	2
         02:D57B  4A         			lsr	a
         02:D57C  4A         			lsr	a
 4741                        		__asl.wi	7
         02:D57D  42         			say
         02:D57E  4A         			lsr	a
         02:D57F  42         			say
         02:D580  6A         			ror	a
         02:D581  42         			say
         02:D582  6A         			ror	a
         02:D583  29 80      			and	#$80
 4742                        		__sub.wt
         02:D585  BA         			tsx
         02:D586  38         			sec
         02:D587  49 FF      			eor	#$FF
         02:D589  7D 01 21   			adc.l	__tos, x
         02:D58C  42         			say
         02:D58D  49 FF      			eor	#$FF
         02:D58F  7D 02 21   			adc.h	__tos, x
         02:D592  42         			say
         02:D593  E8         			inx
         02:D594  E8         			inx
         02:D595  9A         			txs
 4743                        		__call		_sgx_spr_x.1
         02:D596  20 CB E8   			call	_sgx_spr_x.1
 4744                        	
 4745                        		.dbg	line,	"include\routines_INTRO.c", 203; sgx_spr_y(player_pos_y + ((i>>2)<<5));
 4746                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         02:D599  AD 2D 2C   			lda	__sequence_INTRO_end - 1
         02:D59C  C2         			cly
 4747                        		__lsr.uiq	2
         02:D59D  4A         			lsr	a
         02:D59E  4A         			lsr	a
 4748                        		__asl.wi	5
         02:D59F  85 00      			sta	__temp
         02:D5A1  98         			tya
         02:D5A2  4A         			lsr	a
         02:D5A3  20 C8 E1   			jsr	aslw5
         02:D5A6  29 E0      			and.l	#$FF << 5
 4749                        		__add.wm	_player_pos_y
         02:D5A8  18         			clc
         02:D5A9  6D 03 25   			adc.l	_player_pos_y
         02:D5AC  42         			say
         02:D5AD  6D 04 25   			adc.h	_player_pos_y
         02:D5B0  42         			say
 4750                        		__call		_sgx_spr_y.1
         02:D5B1  20 DA E8   			call	_sgx_spr_y.1
 4751                        	
 4752                        		.dbg	line,	"include\routines_INTRO.c", 204; }
 4753                        		__bra		.LL72
         02:D5B4  80 9E      			bra	.LL72
 4754    02:D5B6             	.LL74	.alias		.LL75
 4755                        	
 4756                        		.dbg	line,	"include\routines_INTRO.c", 205; }
 4757                        	
 4758                        		.dbg	line,	"include\routines_INTRO.c", 207; else if(global_counter == 154)
 4759                        		__bra		.LL75
         02:D5B6  4C 0C DF   			bra	.LL75
 4760    02:D5B9             	.LL70:
 4761                        		__ld.wm		_global_counter
         02:D5B9  AD 5B 26   			lda.l	_global_counter
         02:D5BC  AC 5C 26   			ldy.h	_global_counter
 4762                        		__equ_w.wi	154
         02:D5BF  C9 9A      			cmp.l	#154
         02:D5C1  D0 04      			bne	!false+
         02:D5C3  C0 00      			cpy.h	#154
         02:D5C5  F0 01      			beq	!+
         02:D5C7  18         	!false:		clc
         02:D5C8             	!:
 4763                        		__bfalse	.LL76
         02:D5C8  90 73      			bcc	.LL76
 4764                        	
 4765                        		.dbg	line,	"include\routines_INTRO.c", 208; {
 4766                        	
 4767                        		.dbg	line,	"include\routines_INTRO.c", 209; for(i=0 ; i<8 ; i++)
 4768                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         02:D5CA  9C 2D 2C   			stz	__sequence_INTRO_end - 1
 4769    02:D5CD             	.LL77:
 4770                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:D5CD  AD 2D 2C   			lda	__sequence_INTRO_end - 1
 4771                        		__ult_b.uiq	8
         02:D5D0  C9 08      			cmp	#8		; Subtract integer from A.
         02:D5D2  6A         			ror	a		; CC if A < integer.
         02:D5D3  49 80      			eor	#$80
         02:D5D5  2A         			rol	a
 4772                        		__btrue		.LL79
         02:D5D6  B0 07      			bcs	.LL79
 4773                        		__bra		.LL80
         02:D5D8  80 10      			bra	.LL80
 4774    02:D5DA             	.LL78:
 4775                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         02:D5DA  EE 2D 2C   			inc	__sequence_INTRO_end - 1
 4776                        		__bra		.LL77
         02:D5DD  80 EE      			bra	.LL77
 4777    02:D5DF             	.LL79:
 4778                        	
 4779                        		.dbg	line,	"include\routines_INTRO.c", 210; {
 4780                        	
 4781                        		.dbg	line,	"include\routines_INTRO.c", 211; sgx_spr_set(i);
 4782                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:D5DF  AD 2D 2C   			lda	__sequence_INTRO_end - 1
 4783                        		__call		_sgx_spr_set.1
         02:D5E2  20 9E E8   			call	_sgx_spr_set.1
 4784                        	
 4785                        		.dbg	line,	"include\routines_INTRO.c", 212; sgx_spr_hide();
 4786                        		__call		_sgx_spr_hide
         02:D5E5  20 B9 E8   			call	_sgx_spr_hide
 4787                        	
 4788                        		.dbg	line,	"include\routines_INTRO.c", 213; }
 4789                        		__bra		.LL78
         02:D5E8  80 F0      			bra	.LL78
 4790    02:D5EA             	.LL80:
 4791                        	
 4792                        		.dbg	line,	"include\routines_INTRO.c", 215; vdc_map_pxl_x = 256;
 4793                        		__st.wmiq	256, _vdc_map_pxl_x
         02:D5EA  9C D4 26   			stz.l	_vdc_map_pxl_x
         02:D5ED  A9 01      			lda.h	#256
         02:D5EF  8D D5 26   			sta.h	_vdc_map_pxl_x
 4794                        	
 4795                        		.dbg	line,	"include\routines_INTRO.c", 216; vdc_map_pxl_y = 256;
 4796                        		__st.wmiq	256, _vdc_map_pxl_y
         02:D5F2  9C D6 26   			stz.l	_vdc_map_pxl_y
         02:D5F5  A9 01      			lda.h	#256
         02:D5F7  8D D7 26   			sta.h	_vdc_map_pxl_y
 4797                        	
 4798                        		.dbg	line,	"include\routines_INTRO.c", 217; scroll_split(0,   0, vdc_map_pxl_x & (511), vdc_map_pxl_y & (511), BKG_ON | SPR_ON);
 4799                        		__st.umiq	0, _al
         02:D5FA  64 F8      			stz	_al
 4800                        		__st.umiq	0, _ah
         02:D5FC  64 F9      			stz	_ah
 4801                        		__ld.wm		_vdc_map_pxl_x
         02:D5FE  AD D4 26   			lda.l	_vdc_map_pxl_x
         02:D601  AC D5 26   			ldy.h	_vdc_map_pxl_x
 4802                        		__and.wi	511
         02:D604  29 FF      			and.l	#511
         02:D606  42         			say
         02:D607  29 01      			and.h	#511
         02:D609  42         			say
 4803                        		__st.wmq	_bx
         02:D60A  85 FA      			sta.l	_bx
         02:D60C  84 FB      			sty.h	_bx
 4804                        		__ld.wm		_vdc_map_pxl_y
         02:D60E  AD D6 26   			lda.l	_vdc_map_pxl_y
         02:D611  AC D7 26   			ldy.h	_vdc_map_pxl_y
 4805                        		__and.wi	511
         02:D614  29 FF      			and.l	#511
         02:D616  42         			say
         02:D617  29 01      			and.h	#511
         02:D619  42         			say
 4806                        		__st.wmq	_cx
         02:D61A  85 FC      			sta.l	_cx
         02:D61C  84 FD      			sty.h	_cx
 4807                        		__st.umiq	192, _dl
         02:D61E  A9 C0      			lda.l	#192
         02:D620  85 FE      			sta	_dl
 4808                        		__call		_scroll_split.5
         02:D622  20 81 FF   			call	_scroll_split.5
 4809                        	
 4810                        		.dbg	line,	"include\routines_INTRO.c", 219; load_palette( 0, palette_INTRO_3, 1 );
 4811                        		__st.umiq	0, _al
         02:D625  64 F8      			stz	_al
 4812                        		__farptr	_palette_INTRO_3, _bp_bank, _bp
         02:D627  A9 E0      			lda.l	#$6000 + ($1FFF & (_palette_INTRO_3))
         02:D629  85 EC      			sta.l	_bp
         02:D62B  A9 7A      			lda.h	#$6000 + ($1FFF & (_palette_INTRO_3))
         02:D62D  85 ED      			sta.h	_bp
         02:D62F  A9 06      			lda	#bank(_palette_INTRO_3)
         02:D631  85 02      			sta	_bp_bank
 4813                        		__st.umiq	1, _ah
         02:D633  A9 01      			lda.l	#1
         02:D635  85 F9      			sta	_ah
 4814                        		__call		_load_palette.3
         02:D637  20 8B FF   			call	_load_palette.3
 4815                        	
 4816                        		.dbg	line,	"include\routines_INTRO.c", 220; }
 4817                        	
 4818                        		.dbg	line,	"include\routines_INTRO.c", 222; else if(global_counter == 156)
 4819                        		__bra		.LL81
         02:D63A  4C 0C DF   			bra	.LL81
 4820    02:D63D             	.LL76:
 4821                        		__ld.wm		_global_counter
         02:D63D  AD 5B 26   			lda.l	_global_counter
         02:D640  AC 5C 26   			ldy.h	_global_counter
 4822                        		__equ_w.wi	156
         02:D643  C9 9C      			cmp.l	#156
         02:D645  D0 04      			bne	!false+
         02:D647  C0 00      			cpy.h	#156
         02:D649  F0 01      			beq	!+
         02:D64B  18         	!false:		clc
         02:D64C             	!:
 4823                        		__bfalse	.LL82
         02:D64C  90 76      			bcc	.LL82
 4824                        	
 4825                        		.dbg	line,	"include\routines_INTRO.c", 223; {
 4826                        	
 4827                        		.dbg	line,	"include\routines_INTRO.c", 224; for(i=0 ; i<8 ; i++)
 4828                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         02:D64E  9C 2D 2C   			stz	__sequence_INTRO_end - 1
 4829    02:D651             	.LL83:
 4830                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:D651  AD 2D 2C   			lda	__sequence_INTRO_end - 1
 4831                        		__ult_b.uiq	8
         02:D654  C9 08      			cmp	#8		; Subtract integer from A.
         02:D656  6A         			ror	a		; CC if A < integer.
         02:D657  49 80      			eor	#$80
         02:D659  2A         			rol	a
 4832                        		__btrue		.LL85
         02:D65A  B0 08      			bcs	.LL85
 4833                        		__bra		.LL86
         02:D65C  4C 0C DF   			bra	.LL86
 4834    02:D65F             	.LL84:
 4835                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         02:D65F  EE 2D 2C   			inc	__sequence_INTRO_end - 1
 4836                        		__bra		.LL83
         02:D662  80 ED      			bra	.LL83
 4837    02:D664             	.LL85:
 4838                        	
 4839                        		.dbg	line,	"include\routines_INTRO.c", 225; {
 4840                        	
 4841                        		.dbg	line,	"include\routines_INTRO.c", 226; sgx_spr_set(i);
 4842                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:D664  AD 2D 2C   			lda	__sequence_INTRO_end - 1
 4843                        		__call		_sgx_spr_set.1
         02:D667  20 9E E8   			call	_sgx_spr_set.1
 4844                        	
 4845                        		.dbg	line,	"include\routines_INTRO.c", 227; sgx_spr_x(player_pos_x + (i<<5) - ((i>>2)<<7));
 4846                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         02:D66A  AD 2D 2C   			lda	__sequence_INTRO_end - 1
         02:D66D  C2         			cly
 4847                        		__asl.wi	5
         02:D66E  85 00      			sta	__temp
         02:D670  98         			tya
         02:D671  4A         			lsr	a
         02:D672  20 C8 E1   			jsr	aslw5
         02:D675  29 E0      			and.l	#$FF << 5
 4848                        		__add.wm	_player_pos_x
         02:D677  18         			clc
         02:D678  6D 01 25   			adc.l	_player_pos_x
         02:D67B  42         			say
         02:D67C  6D 02 25   			adc.h	_player_pos_x
         02:D67F  42         			say
 4849                        		__push.wr
         02:D680  5A         			phy
         02:D681  48         			pha
 4850                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         02:D682  AD 2D 2C   			lda	__sequence_INTRO_end - 1
         02:D685  C2         			cly
 4851                        		__lsr.uiq	2
         02:D686  4A         			lsr	a
         02:D687  4A         			lsr	a
 4852                        		__asl.wi	7
         02:D688  42         			say
         02:D689  4A         			lsr	a
         02:D68A  42         			say
         02:D68B  6A         			ror	a
         02:D68C  42         			say
         02:D68D  6A         			ror	a
         02:D68E  29 80      			and	#$80
 4853                        		__sub.wt
         02:D690  BA         			tsx
         02:D691  38         			sec
         02:D692  49 FF      			eor	#$FF
         02:D694  7D 01 21   			adc.l	__tos, x
         02:D697  42         			say
         02:D698  49 FF      			eor	#$FF
         02:D69A  7D 02 21   			adc.h	__tos, x
         02:D69D  42         			say
         02:D69E  E8         			inx
         02:D69F  E8         			inx
         02:D6A0  9A         			txs
 4854                        		__call		_sgx_spr_x.1
         02:D6A1  20 CB E8   			call	_sgx_spr_x.1
 4855                        	
 4856                        		.dbg	line,	"include\routines_INTRO.c", 228; sgx_spr_y(player_pos_y + ((i>>2)<<5));
 4857                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         02:D6A4  AD 2D 2C   			lda	__sequence_INTRO_end - 1
         02:D6A7  C2         			cly
 4858                        		__lsr.uiq	2
         02:D6A8  4A         			lsr	a
         02:D6A9  4A         			lsr	a
 4859                        		__asl.wi	5
         02:D6AA  85 00      			sta	__temp
         02:D6AC  98         			tya
         02:D6AD  4A         			lsr	a
         02:D6AE  20 C8 E1   			jsr	aslw5
         02:D6B1  29 E0      			and.l	#$FF << 5
 4860                        		__add.wm	_player_pos_y
         02:D6B3  18         			clc
         02:D6B4  6D 03 25   			adc.l	_player_pos_y
         02:D6B7  42         			say
         02:D6B8  6D 04 25   			adc.h	_player_pos_y
         02:D6BB  42         			say
 4861                        		__call		_sgx_spr_y.1
         02:D6BC  20 DA E8   			call	_sgx_spr_y.1
 4862                        	
 4863                        		.dbg	line,	"include\routines_INTRO.c", 229; }
 4864                        		__bra		.LL84
         02:D6BF  80 9E      			bra	.LL84
 4865    02:D6C1             	.LL86	.alias		.LL87
 4866                        	
 4867                        		.dbg	line,	"include\routines_INTRO.c", 230; }
 4868                        	
 4869                        		.dbg	line,	"include\routines_INTRO.c", 232; else if(global_counter == 158)
 4870                        		__bra		.LL87
         02:D6C1  4C 0C DF   			bra	.LL87
 4871    02:D6C4             	.LL82:
 4872                        		__ld.wm		_global_counter
         02:D6C4  AD 5B 26   			lda.l	_global_counter
         02:D6C7  AC 5C 26   			ldy.h	_global_counter
 4873                        		__equ_w.wi	158
         02:D6CA  C9 9E      			cmp.l	#158
         02:D6CC  D0 04      			bne	!false+
         02:D6CE  C0 00      			cpy.h	#158
         02:D6D0  F0 01      			beq	!+
         02:D6D2  18         	!false:		clc
         02:D6D3             	!:
 4874                        		__bfalse	.LL88
         02:D6D3  90 5A      			bcc	.LL88
 4875                        	
 4876                        		.dbg	line,	"include\routines_INTRO.c", 233; {
 4877                        	
 4878                        		.dbg	line,	"include\routines_INTRO.c", 234; for(i=0 ; i<8 ; i++)
 4879                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         02:D6D5  9C 2D 2C   			stz	__sequence_INTRO_end - 1
 4880    02:D6D8             	.LL89:
 4881                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:D6D8  AD 2D 2C   			lda	__sequence_INTRO_end - 1
 4882                        		__ult_b.uiq	8
         02:D6DB  C9 08      			cmp	#8		; Subtract integer from A.
         02:D6DD  6A         			ror	a		; CC if A < integer.
         02:D6DE  49 80      			eor	#$80
         02:D6E0  2A         			rol	a
 4883                        		__btrue		.LL91
         02:D6E1  B0 07      			bcs	.LL91
 4884                        		__bra		.LL92
         02:D6E3  80 10      			bra	.LL92
 4885    02:D6E5             	.LL90:
 4886                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         02:D6E5  EE 2D 2C   			inc	__sequence_INTRO_end - 1
 4887                        		__bra		.LL89
         02:D6E8  80 EE      			bra	.LL89
 4888    02:D6EA             	.LL91:
 4889                        	
 4890                        		.dbg	line,	"include\routines_INTRO.c", 235; {
 4891                        	
 4892                        		.dbg	line,	"include\routines_INTRO.c", 236; sgx_spr_set(i);
 4893                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:D6EA  AD 2D 2C   			lda	__sequence_INTRO_end - 1
 4894                        		__call		_sgx_spr_set.1
         02:D6ED  20 9E E8   			call	_sgx_spr_set.1
 4895                        	
 4896                        		.dbg	line,	"include\routines_INTRO.c", 237; sgx_spr_hide();
 4897                        		__call		_sgx_spr_hide
         02:D6F0  20 B9 E8   			call	_sgx_spr_hide
 4898                        	
 4899                        		.dbg	line,	"include\routines_INTRO.c", 238; }
 4900                        		__bra		.LL90
         02:D6F3  80 F0      			bra	.LL90
 4901    02:D6F5             	.LL92:
 4902                        	
 4903                        		.dbg	line,	"include\routines_INTRO.c", 240; vdc_map_pxl_x = 0;
 4904                        		__st.wmiq	0, _vdc_map_pxl_x
         02:D6F5  9C D4 26   			stz.l	_vdc_map_pxl_x
         02:D6F8  9C D5 26   			stz.h	_vdc_map_pxl_x
 4905                        	
 4906                        		.dbg	line,	"include\routines_INTRO.c", 241; vdc_map_pxl_y = 0;
 4907                        		__st.wmiq	0, _vdc_map_pxl_y
         02:D6FB  9C D6 26   			stz.l	_vdc_map_pxl_y
         02:D6FE  9C D7 26   			stz.h	_vdc_map_pxl_y
 4908                        	
 4909                        		.dbg	line,	"include\routines_INTRO.c", 242; scroll_split(0,   0, vdc_map_pxl_x & (511), vdc_map_pxl_y & (511), BKG_ON | SPR_ON);
 4910                        		__st.umiq	0, _al
         02:D701  64 F8      			stz	_al
 4911                        		__st.umiq	0, _ah
         02:D703  64 F9      			stz	_ah
 4912                        		__ld.wm		_vdc_map_pxl_x
         02:D705  AD D4 26   			lda.l	_vdc_map_pxl_x
         02:D708  AC D5 26   			ldy.h	_vdc_map_pxl_x
 4913                        		__and.wi	511
         02:D70B  29 FF      			and.l	#511
         02:D70D  42         			say
         02:D70E  29 01      			and.h	#511
         02:D710  42         			say
 4914                        		__st.wmq	_bx
         02:D711  85 FA      			sta.l	_bx
         02:D713  84 FB      			sty.h	_bx
 4915                        		__ld.wm		_vdc_map_pxl_y
         02:D715  AD D6 26   			lda.l	_vdc_map_pxl_y
         02:D718  AC D7 26   			ldy.h	_vdc_map_pxl_y
 4916                        		__and.wi	511
         02:D71B  29 FF      			and.l	#511
         02:D71D  42         			say
         02:D71E  29 01      			and.h	#511
         02:D720  42         			say
 4917                        		__st.wmq	_cx
         02:D721  85 FC      			sta.l	_cx
         02:D723  84 FD      			sty.h	_cx
 4918                        		__st.umiq	192, _dl
         02:D725  A9 C0      			lda.l	#192
         02:D727  85 FE      			sta	_dl
 4919                        		__call		_scroll_split.5
         02:D729  20 81 FF   			call	_scroll_split.5
 4920                        	
 4921                        		.dbg	line,	"include\routines_INTRO.c", 243; }
 4922                        	
 4923                        		.dbg	line,	"include\routines_INTRO.c", 245; else if(global_counter == 159)
 4924                        		__bra		.LL93
         02:D72C  4C 0C DF   			bra	.LL93
 4925    02:D72F             	.LL88:
 4926                        		__ld.wm		_global_counter
         02:D72F  AD 5B 26   			lda.l	_global_counter
         02:D732  AC 5C 26   			ldy.h	_global_counter
 4927                        		__equ_w.wi	159
         02:D735  C9 9F      			cmp.l	#159
         02:D737  D0 04      			bne	!false+
         02:D739  C0 00      			cpy.h	#159
         02:D73B  F0 01      			beq	!+
         02:D73D  18         	!false:		clc
         02:D73E             	!:
 4928                        		__bfalse	.LL94
         02:D73E  90 36      			bcc	.LL94
 4929                        	
 4930                        		.dbg	line,	"include\routines_INTRO.c", 246; {
 4931                        	
 4932                        		.dbg	line,	"include\routines_INTRO.c", 247; vdc_map_pxl_y = 256;
 4933                        		__st.wmiq	256, _vdc_map_pxl_y
         02:D740  9C D6 26   			stz.l	_vdc_map_pxl_y
         02:D743  A9 01      			lda.h	#256
         02:D745  8D D7 26   			sta.h	_vdc_map_pxl_y
 4934                        	
 4935                        		.dbg	line,	"include\routines_INTRO.c", 248; scroll_split(0,   0, vdc_map_pxl_x & (511), vdc_map_pxl_y & (511), BKG_ON | SPR_ON);
 4936                        		__st.umiq	0, _al
         02:D748  64 F8      			stz	_al
 4937                        		__st.umiq	0, _ah
         02:D74A  64 F9      			stz	_ah
 4938                        		__ld.wm		_vdc_map_pxl_x
         02:D74C  AD D4 26   			lda.l	_vdc_map_pxl_x
         02:D74F  AC D5 26   			ldy.h	_vdc_map_pxl_x
 4939                        		__and.wi	511
         02:D752  29 FF      			and.l	#511
         02:D754  42         			say
         02:D755  29 01      			and.h	#511
         02:D757  42         			say
 4940                        		__st.wmq	_bx
         02:D758  85 FA      			sta.l	_bx
         02:D75A  84 FB      			sty.h	_bx
 4941                        		__ld.wm		_vdc_map_pxl_y
         02:D75C  AD D6 26   			lda.l	_vdc_map_pxl_y
         02:D75F  AC D7 26   			ldy.h	_vdc_map_pxl_y
 4942                        		__and.wi	511
         02:D762  29 FF      			and.l	#511
         02:D764  42         			say
         02:D765  29 01      			and.h	#511
         02:D767  42         			say
 4943                        		__st.wmq	_cx
         02:D768  85 FC      			sta.l	_cx
         02:D76A  84 FD      			sty.h	_cx
 4944                        		__st.umiq	192, _dl
         02:D76C  A9 C0      			lda.l	#192
         02:D76E  85 FE      			sta	_dl
 4945                        		__call		_scroll_split.5
         02:D770  20 81 FF   			call	_scroll_split.5
 4946                        	
 4947                        		.dbg	line,	"include\routines_INTRO.c", 249; }
 4948                        	
 4949                        		.dbg	line,	"include\routines_INTRO.c", 251; else if(global_counter == 160)
 4950                        		__bra		.LL95
         02:D773  4C 0C DF   			bra	.LL95
 4951    02:D776             	.LL94:
 4952                        		__ld.wm		_global_counter
         02:D776  AD 5B 26   			lda.l	_global_counter
         02:D779  AC 5C 26   			ldy.h	_global_counter
 4953                        		__equ_w.wi	160
         02:D77C  C9 A0      			cmp.l	#160
         02:D77E  D0 04      			bne	!false+
         02:D780  C0 00      			cpy.h	#160
         02:D782  F0 01      			beq	!+
         02:D784  18         	!false:		clc
         02:D785             	!:
 4954                        		__bfalse	.LL96
         02:D785  B0 03 4C 38			bcc	.LL96
         02:D789  D8          
 4955                        	
 4956                        		.dbg	line,	"include\routines_INTRO.c", 252; {
 4957                        	
 4958                        		.dbg	line,	"include\routines_INTRO.c", 253; for(i=0 ; i<8 ; i++)
 4959                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         02:D78A  9C 2D 2C   			stz	__sequence_INTRO_end - 1
 4960    02:D78D             	.LL97:
 4961                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:D78D  AD 2D 2C   			lda	__sequence_INTRO_end - 1
 4962                        		__ult_b.uiq	8
         02:D790  C9 08      			cmp	#8		; Subtract integer from A.
         02:D792  6A         			ror	a		; CC if A < integer.
         02:D793  49 80      			eor	#$80
         02:D795  2A         			rol	a
 4963                        		__btrue		.LL99
         02:D796  B0 07      			bcs	.LL99
 4964                        		__bra		.LL100
         02:D798  80 62      			bra	.LL100
 4965    02:D79A             	.LL98:
 4966                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         02:D79A  EE 2D 2C   			inc	__sequence_INTRO_end - 1
 4967                        		__bra		.LL97
         02:D79D  80 EE      			bra	.LL97
 4968    02:D79F             	.LL99:
 4969                        	
 4970                        		.dbg	line,	"include\routines_INTRO.c", 254; {
 4971                        	
 4972                        		.dbg	line,	"include\routines_INTRO.c", 255; sgx_spr_set(i);
 4973                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:D79F  AD 2D 2C   			lda	__sequence_INTRO_end - 1
 4974                        		__call		_sgx_spr_set.1
         02:D7A2  20 9E E8   			call	_sgx_spr_set.1
 4975                        	
 4976                        		.dbg	line,	"include\routines_INTRO.c", 256; sgx_spr_x(player_pos_x + (i<<5) - ((i>>2)<<7));
 4977                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         02:D7A5  AD 2D 2C   			lda	__sequence_INTRO_end - 1
         02:D7A8  C2         			cly
 4978                        		__asl.wi	5
         02:D7A9  85 00      			sta	__temp
         02:D7AB  98         			tya
         02:D7AC  4A         			lsr	a
         02:D7AD  20 C8 E1   			jsr	aslw5
         02:D7B0  29 E0      			and.l	#$FF << 5
 4979                        		__add.wm	_player_pos_x
         02:D7B2  18         			clc
         02:D7B3  6D 01 25   			adc.l	_player_pos_x
         02:D7B6  42         			say
         02:D7B7  6D 02 25   			adc.h	_player_pos_x
         02:D7BA  42         			say
 4980                        		__push.wr
         02:D7BB  5A         			phy
         02:D7BC  48         			pha
 4981                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         02:D7BD  AD 2D 2C   			lda	__sequence_INTRO_end - 1
         02:D7C0  C2         			cly
 4982                        		__lsr.uiq	2
         02:D7C1  4A         			lsr	a
         02:D7C2  4A         			lsr	a
 4983                        		__asl.wi	7
         02:D7C3  42         			say
         02:D7C4  4A         			lsr	a
         02:D7C5  42         			say
         02:D7C6  6A         			ror	a
         02:D7C7  42         			say
         02:D7C8  6A         			ror	a
         02:D7C9  29 80      			and	#$80
 4984                        		__sub.wt
         02:D7CB  BA         			tsx
         02:D7CC  38         			sec
         02:D7CD  49 FF      			eor	#$FF
         02:D7CF  7D 01 21   			adc.l	__tos, x
         02:D7D2  42         			say
         02:D7D3  49 FF      			eor	#$FF
         02:D7D5  7D 02 21   			adc.h	__tos, x
         02:D7D8  42         			say
         02:D7D9  E8         			inx
         02:D7DA  E8         			inx
         02:D7DB  9A         			txs
 4985                        		__call		_sgx_spr_x.1
         02:D7DC  20 CB E8   			call	_sgx_spr_x.1
 4986                        	
 4987                        		.dbg	line,	"include\routines_INTRO.c", 257; sgx_spr_y(player_pos_y + ((i>>2)<<5));
 4988                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         02:D7DF  AD 2D 2C   			lda	__sequence_INTRO_end - 1
         02:D7E2  C2         			cly
 4989                        		__lsr.uiq	2
         02:D7E3  4A         			lsr	a
         02:D7E4  4A         			lsr	a
 4990                        		__asl.wi	5
         02:D7E5  85 00      			sta	__temp
         02:D7E7  98         			tya
         02:D7E8  4A         			lsr	a
         02:D7E9  20 C8 E1   			jsr	aslw5
         02:D7EC  29 E0      			and.l	#$FF << 5
 4991                        		__add.wm	_player_pos_y
         02:D7EE  18         			clc
         02:D7EF  6D 03 25   			adc.l	_player_pos_y
         02:D7F2  42         			say
         02:D7F3  6D 04 25   			adc.h	_player_pos_y
         02:D7F6  42         			say
 4992                        		__call		_sgx_spr_y.1
         02:D7F7  20 DA E8   			call	_sgx_spr_y.1
 4993                        	
 4994                        		.dbg	line,	"include\routines_INTRO.c", 258; }
 4995                        		__bra		.LL98
         02:D7FA  80 9E      			bra	.LL98
 4996    02:D7FC             	.LL100:
 4997                        	
 4998                        		.dbg	line,	"include\routines_INTRO.c", 260; vdc_map_pxl_x = 256;
 4999                        		__st.wmiq	256, _vdc_map_pxl_x
         02:D7FC  9C D4 26   			stz.l	_vdc_map_pxl_x
         02:D7FF  A9 01      			lda.h	#256
         02:D801  8D D5 26   			sta.h	_vdc_map_pxl_x
 5000                        	
 5001                        		.dbg	line,	"include\routines_INTRO.c", 261; vdc_map_pxl_y = 0;
 5002                        		__st.wmiq	0, _vdc_map_pxl_y
         02:D804  9C D6 26   			stz.l	_vdc_map_pxl_y
         02:D807  9C D7 26   			stz.h	_vdc_map_pxl_y
 5003                        	
 5004                        		.dbg	line,	"include\routines_INTRO.c", 262; scroll_split(0,   0, vdc_map_pxl_x & (511), vdc_map_pxl_y & (511), BKG_ON | SPR_ON);
 5005                        		__st.umiq	0, _al
         02:D80A  64 F8      			stz	_al
 5006                        		__st.umiq	0, _ah
         02:D80C  64 F9      			stz	_ah
 5007                        		__ld.wm		_vdc_map_pxl_x
         02:D80E  AD D4 26   			lda.l	_vdc_map_pxl_x
         02:D811  AC D5 26   			ldy.h	_vdc_map_pxl_x
 5008                        		__and.wi	511
         02:D814  29 FF      			and.l	#511
         02:D816  42         			say
         02:D817  29 01      			and.h	#511
         02:D819  42         			say
 5009                        		__st.wmq	_bx
         02:D81A  85 FA      			sta.l	_bx
         02:D81C  84 FB      			sty.h	_bx
 5010                        		__ld.wm		_vdc_map_pxl_y
         02:D81E  AD D6 26   			lda.l	_vdc_map_pxl_y
         02:D821  AC D7 26   			ldy.h	_vdc_map_pxl_y
 5011                        		__and.wi	511
         02:D824  29 FF      			and.l	#511
         02:D826  42         			say
         02:D827  29 01      			and.h	#511
         02:D829  42         			say
 5012                        		__st.wmq	_cx
         02:D82A  85 FC      			sta.l	_cx
         02:D82C  84 FD      			sty.h	_cx
 5013                        		__st.umiq	192, _dl
         02:D82E  A9 C0      			lda.l	#192
         02:D830  85 FE      			sta	_dl
 5014                        		__call		_scroll_split.5
         02:D832  20 81 FF   			call	_scroll_split.5
 5015                        	
 5016                        		.dbg	line,	"include\routines_INTRO.c", 263; }
 5017                        	
 5018                        		.dbg	line,	"include\routines_INTRO.c", 265; else if(global_counter == 162)
 5019                        		__bra		.LL101
         02:D835  4C 0C DF   			bra	.LL101
 5020    02:D838             	.LL96:
 5021                        		__ld.wm		_global_counter
         02:D838  AD 5B 26   			lda.l	_global_counter
         02:D83B  AC 5C 26   			ldy.h	_global_counter
 5022                        		__equ_w.wi	162
         02:D83E  C9 A2      			cmp.l	#162
         02:D840  D0 04      			bne	!false+
         02:D842  C0 00      			cpy.h	#162
         02:D844  F0 01      			beq	!+
         02:D846  18         	!false:		clc
         02:D847             	!:
 5023                        		__bfalse	.LL102
         02:D847  90 24      			bcc	.LL102
 5024                        	
 5025                        		.dbg	line,	"include\routines_INTRO.c", 266; {
 5026                        	
 5027                        		.dbg	line,	"include\routines_INTRO.c", 267; for(i=0 ; i<8 ; i++)
 5028                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         02:D849  9C 2D 2C   			stz	__sequence_INTRO_end - 1
 5029    02:D84C             	.LL103:
 5030                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:D84C  AD 2D 2C   			lda	__sequence_INTRO_end - 1
 5031                        		__ult_b.uiq	8
         02:D84F  C9 08      			cmp	#8		; Subtract integer from A.
         02:D851  6A         			ror	a		; CC if A < integer.
         02:D852  49 80      			eor	#$80
         02:D854  2A         			rol	a
 5032                        		__btrue		.LL105
         02:D855  B0 08      			bcs	.LL105
 5033                        		__bra		.LL106
         02:D857  4C 0C DF   			bra	.LL106
 5034    02:D85A             	.LL104:
 5035                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         02:D85A  EE 2D 2C   			inc	__sequence_INTRO_end - 1
 5036                        		__bra		.LL103
         02:D85D  80 ED      			bra	.LL103
 5037    02:D85F             	.LL105:
 5038                        	
 5039                        		.dbg	line,	"include\routines_INTRO.c", 268; {
 5040                        	
 5041                        		.dbg	line,	"include\routines_INTRO.c", 269; sgx_spr_set(i);
 5042                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:D85F  AD 2D 2C   			lda	__sequence_INTRO_end - 1
 5043                        		__call		_sgx_spr_set.1
         02:D862  20 9E E8   			call	_sgx_spr_set.1
 5044                        	
 5045                        		.dbg	line,	"include\routines_INTRO.c", 270; sgx_spr_hide();
 5046                        		__call		_sgx_spr_hide
         02:D865  20 B9 E8   			call	_sgx_spr_hide
 5047                        	
 5048                        		.dbg	line,	"include\routines_INTRO.c", 271; }
 5049                        		__bra		.LL104
         02:D868  80 F0      			bra	.LL104
 5050    02:D86A             	.LL106	.alias		.LL107
 5051                        	
 5052                        		.dbg	line,	"include\routines_INTRO.c", 272; }
 5053                        	
 5054                        		.dbg	line,	"include\routines_INTRO.c", 274; else if(global_counter == 163)
 5055                        		__bra		.LL107
         02:D86A  4C 0C DF   			bra	.LL107
 5056    02:D86D             	.LL102:
 5057                        		__ld.wm		_global_counter
         02:D86D  AD 5B 26   			lda.l	_global_counter
         02:D870  AC 5C 26   			ldy.h	_global_counter
 5058                        		__equ_w.wi	163
         02:D873  C9 A3      			cmp.l	#163
         02:D875  D0 04      			bne	!false+
         02:D877  C0 00      			cpy.h	#163
         02:D879  F0 01      			beq	!+
         02:D87B  18         	!false:		clc
         02:D87C             	!:
 5059                        		__bfalse	.LL108
         02:D87C  90 3A      			bcc	.LL108
 5060                        	
 5061                        		.dbg	line,	"include\routines_INTRO.c", 275; {
 5062                        	
 5063                        		.dbg	line,	"include\routines_INTRO.c", 276; vdc_map_pxl_x = 0;
 5064                        		__st.wmiq	0, _vdc_map_pxl_x
         02:D87E  9C D4 26   			stz.l	_vdc_map_pxl_x
         02:D881  9C D5 26   			stz.h	_vdc_map_pxl_x
 5065                        	
 5066                        		.dbg	line,	"include\routines_INTRO.c", 277; vdc_map_pxl_y = 0;
 5067                        		__st.wmiq	0, _vdc_map_pxl_y
         02:D884  9C D6 26   			stz.l	_vdc_map_pxl_y
         02:D887  9C D7 26   			stz.h	_vdc_map_pxl_y
 5068                        	
 5069                        		.dbg	line,	"include\routines_INTRO.c", 278; scroll_split(0,   0, vdc_map_pxl_x & (511), vdc_map_pxl_y & (511), BKG_ON | SPR_ON);
 5070                        		__st.umiq	0, _al
         02:D88A  64 F8      			stz	_al
 5071                        		__st.umiq	0, _ah
         02:D88C  64 F9      			stz	_ah
 5072                        		__ld.wm		_vdc_map_pxl_x
         02:D88E  AD D4 26   			lda.l	_vdc_map_pxl_x
         02:D891  AC D5 26   			ldy.h	_vdc_map_pxl_x
 5073                        		__and.wi	511
         02:D894  29 FF      			and.l	#511
         02:D896  42         			say
         02:D897  29 01      			and.h	#511
         02:D899  42         			say
 5074                        		__st.wmq	_bx
         02:D89A  85 FA      			sta.l	_bx
         02:D89C  84 FB      			sty.h	_bx
 5075                        		__ld.wm		_vdc_map_pxl_y
         02:D89E  AD D6 26   			lda.l	_vdc_map_pxl_y
         02:D8A1  AC D7 26   			ldy.h	_vdc_map_pxl_y
 5076                        		__and.wi	511
         02:D8A4  29 FF      			and.l	#511
         02:D8A6  42         			say
         02:D8A7  29 01      			and.h	#511
         02:D8A9  42         			say
 5077                        		__st.wmq	_cx
         02:D8AA  85 FC      			sta.l	_cx
         02:D8AC  84 FD      			sty.h	_cx
 5078                        		__st.umiq	192, _dl
         02:D8AE  A9 C0      			lda.l	#192
         02:D8B0  85 FE      			sta	_dl
 5079                        		__call		_scroll_split.5
         02:D8B2  20 81 FF   			call	_scroll_split.5
 5080                        	
 5081                        		.dbg	line,	"include\routines_INTRO.c", 279; }
 5082                        	
 5083                        		.dbg	line,	"include\routines_INTRO.c", 281; else if(global_counter == 164)
 5084                        		__bra		.LL109
         02:D8B5  4C 0C DF   			bra	.LL109
 5085    02:D8B8             	.LL108:
 5086                        		__ld.wm		_global_counter
         02:D8B8  AD 5B 26   			lda.l	_global_counter
         02:D8BB  AC 5C 26   			ldy.h	_global_counter
 5087                        		__equ_w.wi	164
         02:D8BE  C9 A4      			cmp.l	#164
         02:D8C0  D0 04      			bne	!false+
         02:D8C2  C0 00      			cpy.h	#164
         02:D8C4  F0 01      			beq	!+
         02:D8C6  18         	!false:		clc
         02:D8C7             	!:
 5088                        		__bfalse	.LL110
         02:D8C7  B0 03 4C 56			bcc	.LL110
         02:D8CB  D9          
 5089                        	
 5090                        		.dbg	line,	"include\routines_INTRO.c", 282; {
 5091                        	
 5092                        		.dbg	line,	"include\routines_INTRO.c", 283; for(i=0 ; i<8 ; i++)
 5093                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         02:D8CC  9C 2D 2C   			stz	__sequence_INTRO_end - 1
 5094    02:D8CF             	.LL111:
 5095                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:D8CF  AD 2D 2C   			lda	__sequence_INTRO_end - 1
 5096                        		__ult_b.uiq	8
         02:D8D2  C9 08      			cmp	#8		; Subtract integer from A.
         02:D8D4  6A         			ror	a		; CC if A < integer.
         02:D8D5  49 80      			eor	#$80
         02:D8D7  2A         			rol	a
 5097                        		__btrue		.LL113
         02:D8D8  B0 07      			bcs	.LL113
 5098                        		__bra		.LL114
         02:D8DA  80 62      			bra	.LL114
 5099    02:D8DC             	.LL112:
 5100                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         02:D8DC  EE 2D 2C   			inc	__sequence_INTRO_end - 1
 5101                        		__bra		.LL111
         02:D8DF  80 EE      			bra	.LL111
 5102    02:D8E1             	.LL113:
 5103                        	
 5104                        		.dbg	line,	"include\routines_INTRO.c", 284; {
 5105                        	
 5106                        		.dbg	line,	"include\routines_INTRO.c", 285; sgx_spr_set(i);
 5107                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:D8E1  AD 2D 2C   			lda	__sequence_INTRO_end - 1
 5108                        		__call		_sgx_spr_set.1
         02:D8E4  20 9E E8   			call	_sgx_spr_set.1
 5109                        	
 5110                        		.dbg	line,	"include\routines_INTRO.c", 286; sgx_spr_x(player_pos_x + (i<<5) - ((i>>2)<<7));
 5111                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         02:D8E7  AD 2D 2C   			lda	__sequence_INTRO_end - 1
         02:D8EA  C2         			cly
 5112                        		__asl.wi	5
         02:D8EB  85 00      			sta	__temp
         02:D8ED  98         			tya
         02:D8EE  4A         			lsr	a
         02:D8EF  20 C8 E1   			jsr	aslw5
         02:D8F2  29 E0      			and.l	#$FF << 5
 5113                        		__add.wm	_player_pos_x
         02:D8F4  18         			clc
         02:D8F5  6D 01 25   			adc.l	_player_pos_x
         02:D8F8  42         			say
         02:D8F9  6D 02 25   			adc.h	_player_pos_x
         02:D8FC  42         			say
 5114                        		__push.wr
         02:D8FD  5A         			phy
         02:D8FE  48         			pha
 5115                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         02:D8FF  AD 2D 2C   			lda	__sequence_INTRO_end - 1
         02:D902  C2         			cly
 5116                        		__lsr.uiq	2
         02:D903  4A         			lsr	a
         02:D904  4A         			lsr	a
 5117                        		__asl.wi	7
         02:D905  42         			say
         02:D906  4A         			lsr	a
         02:D907  42         			say
         02:D908  6A         			ror	a
         02:D909  42         			say
         02:D90A  6A         			ror	a
         02:D90B  29 80      			and	#$80
 5118                        		__sub.wt
         02:D90D  BA         			tsx
         02:D90E  38         			sec
         02:D90F  49 FF      			eor	#$FF
         02:D911  7D 01 21   			adc.l	__tos, x
         02:D914  42         			say
         02:D915  49 FF      			eor	#$FF
         02:D917  7D 02 21   			adc.h	__tos, x
         02:D91A  42         			say
         02:D91B  E8         			inx
         02:D91C  E8         			inx
         02:D91D  9A         			txs
 5119                        		__call		_sgx_spr_x.1
         02:D91E  20 CB E8   			call	_sgx_spr_x.1
 5120                        	
 5121                        		.dbg	line,	"include\routines_INTRO.c", 287; sgx_spr_y(player_pos_y + ((i>>2)<<5));
 5122                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         02:D921  AD 2D 2C   			lda	__sequence_INTRO_end - 1
         02:D924  C2         			cly
 5123                        		__lsr.uiq	2
         02:D925  4A         			lsr	a
         02:D926  4A         			lsr	a
 5124                        		__asl.wi	5
         02:D927  85 00      			sta	__temp
         02:D929  98         			tya
         02:D92A  4A         			lsr	a
         02:D92B  20 C8 E1   			jsr	aslw5
         02:D92E  29 E0      			and.l	#$FF << 5
 5125                        		__add.wm	_player_pos_y
         02:D930  18         			clc
         02:D931  6D 03 25   			adc.l	_player_pos_y
         02:D934  42         			say
         02:D935  6D 04 25   			adc.h	_player_pos_y
         02:D938  42         			say
 5126                        		__call		_sgx_spr_y.1
         02:D939  20 DA E8   			call	_sgx_spr_y.1
 5127                        	
 5128                        		.dbg	line,	"include\routines_INTRO.c", 288; }
 5129                        		__bra		.LL112
         02:D93C  80 9E      			bra	.LL112
 5130    02:D93E             	.LL114:
 5131                        	
 5132                        		.dbg	line,	"include\routines_INTRO.c", 290; load_palette( 0, palette_INTRO_2, 1 );
 5133                        		__st.umiq	0, _al
         02:D93E  64 F8      			stz	_al
 5134                        		__farptr	_palette_INTRO_2, _bp_bank, _bp
         02:D940  A9 E0      			lda.l	#$6000 + ($1FFF & (_palette_INTRO_2))
         02:D942  85 EC      			sta.l	_bp
         02:D944  A9 78      			lda.h	#$6000 + ($1FFF & (_palette_INTRO_2))
         02:D946  85 ED      			sta.h	_bp
         02:D948  A9 06      			lda	#bank(_palette_INTRO_2)
         02:D94A  85 02      			sta	_bp_bank
 5135                        		__st.umiq	1, _ah
         02:D94C  A9 01      			lda.l	#1
         02:D94E  85 F9      			sta	_ah
 5136                        		__call		_load_palette.3
         02:D950  20 8B FF   			call	_load_palette.3
 5137                        	
 5138                        		.dbg	line,	"include\routines_INTRO.c", 291; }
 5139                        	
 5140                        		.dbg	line,	"include\routines_INTRO.c", 293; else if(global_counter == 166)
 5141                        		__bra		.LL115
         02:D953  4C 0C DF   			bra	.LL115
 5142    02:D956             	.LL110:
 5143                        		__ld.wm		_global_counter
         02:D956  AD 5B 26   			lda.l	_global_counter
         02:D959  AC 5C 26   			ldy.h	_global_counter
 5144                        		__equ_w.wi	166
         02:D95C  C9 A6      			cmp.l	#166
         02:D95E  D0 04      			bne	!false+
         02:D960  C0 00      			cpy.h	#166
         02:D962  F0 01      			beq	!+
         02:D964  18         	!false:		clc
         02:D965             	!:
 5145                        		__bfalse	.LL116
         02:D965  90 24      			bcc	.LL116
 5146                        	
 5147                        		.dbg	line,	"include\routines_INTRO.c", 294; {
 5148                        	
 5149                        		.dbg	line,	"include\routines_INTRO.c", 295; for(i=0 ; i<8 ; i++)
 5150                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         02:D967  9C 2D 2C   			stz	__sequence_INTRO_end - 1
 5151    02:D96A             	.LL117:
 5152                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:D96A  AD 2D 2C   			lda	__sequence_INTRO_end - 1
 5153                        		__ult_b.uiq	8
         02:D96D  C9 08      			cmp	#8		; Subtract integer from A.
         02:D96F  6A         			ror	a		; CC if A < integer.
         02:D970  49 80      			eor	#$80
         02:D972  2A         			rol	a
 5154                        		__btrue		.LL119
         02:D973  B0 08      			bcs	.LL119
 5155                        		__bra		.LL120
         02:D975  4C 0C DF   			bra	.LL120
 5156    02:D978             	.LL118:
 5157                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         02:D978  EE 2D 2C   			inc	__sequence_INTRO_end - 1
 5158                        		__bra		.LL117
         02:D97B  80 ED      			bra	.LL117
 5159    02:D97D             	.LL119:
 5160                        	
 5161                        		.dbg	line,	"include\routines_INTRO.c", 296; {
 5162                        	
 5163                        		.dbg	line,	"include\routines_INTRO.c", 297; sgx_spr_set(i);
 5164                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:D97D  AD 2D 2C   			lda	__sequence_INTRO_end - 1
 5165                        		__call		_sgx_spr_set.1
         02:D980  20 9E E8   			call	_sgx_spr_set.1
 5166                        	
 5167                        		.dbg	line,	"include\routines_INTRO.c", 298; sgx_spr_hide();
 5168                        		__call		_sgx_spr_hide
         02:D983  20 B9 E8   			call	_sgx_spr_hide
 5169                        	
 5170                        		.dbg	line,	"include\routines_INTRO.c", 299; }
 5171                        		__bra		.LL118
         02:D986  80 F0      			bra	.LL118
 5172    02:D988             	.LL120	.alias		.LL121
 5173                        	
 5174                        		.dbg	line,	"include\routines_INTRO.c", 300; }
 5175                        	
 5176                        		.dbg	line,	"include\routines_INTRO.c", 302; else if(global_counter == 168)
 5177                        		__bra		.LL121
         02:D988  4C 0C DF   			bra	.LL121
 5178    02:D98B             	.LL116:
 5179                        		__ld.wm		_global_counter
         02:D98B  AD 5B 26   			lda.l	_global_counter
         02:D98E  AC 5C 26   			ldy.h	_global_counter
 5180                        		__equ_w.wi	168
         02:D991  C9 A8      			cmp.l	#168
         02:D993  D0 04      			bne	!false+
         02:D995  C0 00      			cpy.h	#168
         02:D997  F0 01      			beq	!+
         02:D999  18         	!false:		clc
         02:D99A             	!:
 5181                        		__bfalse	.LL122
         02:D99A  B0 03 4C 5C			bcc	.LL122
         02:D99E  DA          
 5182                        	
 5183                        		.dbg	line,	"include\routines_INTRO.c", 303; {
 5184                        	
 5185                        		.dbg	line,	"include\routines_INTRO.c", 304; for(i=0 ; i<8 ; i++)
 5186                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         02:D99F  9C 2D 2C   			stz	__sequence_INTRO_end - 1
 5187    02:D9A2             	.LL123:
 5188                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:D9A2  AD 2D 2C   			lda	__sequence_INTRO_end - 1
 5189                        		__ult_b.uiq	8
         02:D9A5  C9 08      			cmp	#8		; Subtract integer from A.
         02:D9A7  6A         			ror	a		; CC if A < integer.
         02:D9A8  49 80      			eor	#$80
         02:D9AA  2A         			rol	a
 5190                        		__btrue		.LL125
         02:D9AB  B0 07      			bcs	.LL125
 5191                        		__bra		.LL126
         02:D9AD  80 62      			bra	.LL126
 5192    02:D9AF             	.LL124:
 5193                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         02:D9AF  EE 2D 2C   			inc	__sequence_INTRO_end - 1
 5194                        		__bra		.LL123
         02:D9B2  80 EE      			bra	.LL123
 5195    02:D9B4             	.LL125:
 5196                        	
 5197                        		.dbg	line,	"include\routines_INTRO.c", 305; {
 5198                        	
 5199                        		.dbg	line,	"include\routines_INTRO.c", 306; sgx_spr_set(i);
 5200                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:D9B4  AD 2D 2C   			lda	__sequence_INTRO_end - 1
 5201                        		__call		_sgx_spr_set.1
         02:D9B7  20 9E E8   			call	_sgx_spr_set.1
 5202                        	
 5203                        		.dbg	line,	"include\routines_INTRO.c", 307; sgx_spr_x(player_pos_x + (i<<5) - ((i>>2)<<7));
 5204                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         02:D9BA  AD 2D 2C   			lda	__sequence_INTRO_end - 1
         02:D9BD  C2         			cly
 5205                        		__asl.wi	5
         02:D9BE  85 00      			sta	__temp
         02:D9C0  98         			tya
         02:D9C1  4A         			lsr	a
         02:D9C2  20 C8 E1   			jsr	aslw5
         02:D9C5  29 E0      			and.l	#$FF << 5
 5206                        		__add.wm	_player_pos_x
         02:D9C7  18         			clc
         02:D9C8  6D 01 25   			adc.l	_player_pos_x
         02:D9CB  42         			say
         02:D9CC  6D 02 25   			adc.h	_player_pos_x
         02:D9CF  42         			say
 5207                        		__push.wr
         02:D9D0  5A         			phy
         02:D9D1  48         			pha
 5208                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         02:D9D2  AD 2D 2C   			lda	__sequence_INTRO_end - 1
         02:D9D5  C2         			cly
 5209                        		__lsr.uiq	2
         02:D9D6  4A         			lsr	a
         02:D9D7  4A         			lsr	a
 5210                        		__asl.wi	7
         02:D9D8  42         			say
         02:D9D9  4A         			lsr	a
         02:D9DA  42         			say
         02:D9DB  6A         			ror	a
         02:D9DC  42         			say
         02:D9DD  6A         			ror	a
         02:D9DE  29 80      			and	#$80
 5211                        		__sub.wt
         02:D9E0  BA         			tsx
         02:D9E1  38         			sec
         02:D9E2  49 FF      			eor	#$FF
         02:D9E4  7D 01 21   			adc.l	__tos, x
         02:D9E7  42         			say
         02:D9E8  49 FF      			eor	#$FF
         02:D9EA  7D 02 21   			adc.h	__tos, x
         02:D9ED  42         			say
         02:D9EE  E8         			inx
         02:D9EF  E8         			inx
         02:D9F0  9A         			txs
 5212                        		__call		_sgx_spr_x.1
         02:D9F1  20 CB E8   			call	_sgx_spr_x.1
 5213                        	
 5214                        		.dbg	line,	"include\routines_INTRO.c", 308; sgx_spr_y(player_pos_y + ((i>>2)<<5));
 5215                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         02:D9F4  AD 2D 2C   			lda	__sequence_INTRO_end - 1
         02:D9F7  C2         			cly
 5216                        		__lsr.uiq	2
         02:D9F8  4A         			lsr	a
         02:D9F9  4A         			lsr	a
 5217                        		__asl.wi	5
         02:D9FA  85 00      			sta	__temp
         02:D9FC  98         			tya
         02:D9FD  4A         			lsr	a
         02:D9FE  20 C8 E1   			jsr	aslw5
         02:DA01  29 E0      			and.l	#$FF << 5
 5218                        		__add.wm	_player_pos_y
         02:DA03  18         			clc
         02:DA04  6D 03 25   			adc.l	_player_pos_y
         02:DA07  42         			say
         02:DA08  6D 04 25   			adc.h	_player_pos_y
         02:DA0B  42         			say
 5219                        		__call		_sgx_spr_y.1
         02:DA0C  20 DA E8   			call	_sgx_spr_y.1
 5220                        	
 5221                        		.dbg	line,	"include\routines_INTRO.c", 309; }
 5222                        		__bra		.LL124
         02:DA0F  80 9E      			bra	.LL124
 5223    02:DA11             	.LL126:
 5224                        	
 5225                        		.dbg	line,	"include\routines_INTRO.c", 311; vdc_map_pxl_y = 256;
 5226                        		__st.wmiq	256, _vdc_map_pxl_y
         02:DA11  9C D6 26   			stz.l	_vdc_map_pxl_y
         02:DA14  A9 01      			lda.h	#256
         02:DA16  8D D7 26   			sta.h	_vdc_map_pxl_y
 5227                        	
 5228                        		.dbg	line,	"include\routines_INTRO.c", 312; scroll_split(0,   0, vdc_map_pxl_x & (511), vdc_map_pxl_y & (511), BKG_ON | SPR_ON);
 5229                        		__st.umiq	0, _al
         02:DA19  64 F8      			stz	_al
 5230                        		__st.umiq	0, _ah
         02:DA1B  64 F9      			stz	_ah
 5231                        		__ld.wm		_vdc_map_pxl_x
         02:DA1D  AD D4 26   			lda.l	_vdc_map_pxl_x
         02:DA20  AC D5 26   			ldy.h	_vdc_map_pxl_x
 5232                        		__and.wi	511
         02:DA23  29 FF      			and.l	#511
         02:DA25  42         			say
         02:DA26  29 01      			and.h	#511
         02:DA28  42         			say
 5233                        		__st.wmq	_bx
         02:DA29  85 FA      			sta.l	_bx
         02:DA2B  84 FB      			sty.h	_bx
 5234                        		__ld.wm		_vdc_map_pxl_y
         02:DA2D  AD D6 26   			lda.l	_vdc_map_pxl_y
         02:DA30  AC D7 26   			ldy.h	_vdc_map_pxl_y
 5235                        		__and.wi	511
         02:DA33  29 FF      			and.l	#511
         02:DA35  42         			say
         02:DA36  29 01      			and.h	#511
         02:DA38  42         			say
 5236                        		__st.wmq	_cx
         02:DA39  85 FC      			sta.l	_cx
         02:DA3B  84 FD      			sty.h	_cx
 5237                        		__st.umiq	192, _dl
         02:DA3D  A9 C0      			lda.l	#192
         02:DA3F  85 FE      			sta	_dl
 5238                        		__call		_scroll_split.5
         02:DA41  20 81 FF   			call	_scroll_split.5
 5239                        	
 5240                        		.dbg	line,	"include\routines_INTRO.c", 313; 
 5241                        	
 5242                        		.dbg	line,	"include\routines_INTRO.c", 314; load_palette( 0, palette_INTRO_3, 1 );
 5243                        		__st.umiq	0, _al
         02:DA44  64 F8      			stz	_al
 5244                        		__farptr	_palette_INTRO_3, _bp_bank, _bp
         02:DA46  A9 E0      			lda.l	#$6000 + ($1FFF & (_palette_INTRO_3))
         02:DA48  85 EC      			sta.l	_bp
         02:DA4A  A9 7A      			lda.h	#$6000 + ($1FFF & (_palette_INTRO_3))
         02:DA4C  85 ED      			sta.h	_bp
         02:DA4E  A9 06      			lda	#bank(_palette_INTRO_3)
         02:DA50  85 02      			sta	_bp_bank
 5245                        		__st.umiq	1, _ah
         02:DA52  A9 01      			lda.l	#1
         02:DA54  85 F9      			sta	_ah
 5246                        		__call		_load_palette.3
         02:DA56  20 8B FF   			call	_load_palette.3
 5247                        	
 5248                        		.dbg	line,	"include\routines_INTRO.c", 315; }
 5249                        	
 5250                        		.dbg	line,	"include\routines_INTRO.c", 317; else if(global_counter == 170)
 5251                        		__bra		.LL127
         02:DA59  4C 0C DF   			bra	.LL127
 5252    02:DA5C             	.LL122:
 5253                        		__ld.wm		_global_counter
         02:DA5C  AD 5B 26   			lda.l	_global_counter
         02:DA5F  AC 5C 26   			ldy.h	_global_counter
 5254                        		__equ_w.wi	170
         02:DA62  C9 AA      			cmp.l	#170
         02:DA64  D0 04      			bne	!false+
         02:DA66  C0 00      			cpy.h	#170
         02:DA68  F0 01      			beq	!+
         02:DA6A  18         	!false:		clc
         02:DA6B             	!:
 5255                        		__bfalse	.LL128
         02:DA6B  90 24      			bcc	.LL128
 5256                        	
 5257                        		.dbg	line,	"include\routines_INTRO.c", 318; {
 5258                        	
 5259                        		.dbg	line,	"include\routines_INTRO.c", 319; for(i=0 ; i<8 ; i++)
 5260                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         02:DA6D  9C 2D 2C   			stz	__sequence_INTRO_end - 1
 5261    02:DA70             	.LL129:
 5262                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:DA70  AD 2D 2C   			lda	__sequence_INTRO_end - 1
 5263                        		__ult_b.uiq	8
         02:DA73  C9 08      			cmp	#8		; Subtract integer from A.
         02:DA75  6A         			ror	a		; CC if A < integer.
         02:DA76  49 80      			eor	#$80
         02:DA78  2A         			rol	a
 5264                        		__btrue		.LL131
         02:DA79  B0 08      			bcs	.LL131
 5265                        		__bra		.LL132
         02:DA7B  4C 0C DF   			bra	.LL132
 5266    02:DA7E             	.LL130:
 5267                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         02:DA7E  EE 2D 2C   			inc	__sequence_INTRO_end - 1
 5268                        		__bra		.LL129
         02:DA81  80 ED      			bra	.LL129
 5269    02:DA83             	.LL131:
 5270                        	
 5271                        		.dbg	line,	"include\routines_INTRO.c", 320; {
 5272                        	
 5273                        		.dbg	line,	"include\routines_INTRO.c", 321; sgx_spr_set(i);
 5274                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:DA83  AD 2D 2C   			lda	__sequence_INTRO_end - 1
 5275                        		__call		_sgx_spr_set.1
         02:DA86  20 9E E8   			call	_sgx_spr_set.1
 5276                        	
 5277                        		.dbg	line,	"include\routines_INTRO.c", 322; sgx_spr_hide();
 5278                        		__call		_sgx_spr_hide
         02:DA89  20 B9 E8   			call	_sgx_spr_hide
 5279                        	
 5280                        		.dbg	line,	"include\routines_INTRO.c", 323; }
 5281                        		__bra		.LL130
         02:DA8C  80 F0      			bra	.LL130
 5282    02:DA8E             	.LL132	.alias		.LL133
 5283                        	
 5284                        		.dbg	line,	"include\routines_INTRO.c", 324; }
 5285                        	
 5286                        		.dbg	line,	"include\routines_INTRO.c", 326; else if(global_counter == 172)
 5287                        		__bra		.LL133
         02:DA8E  4C 0C DF   			bra	.LL133
 5288    02:DA91             	.LL128:
 5289                        		__ld.wm		_global_counter
         02:DA91  AD 5B 26   			lda.l	_global_counter
         02:DA94  AC 5C 26   			ldy.h	_global_counter
 5290                        		__equ_w.wi	172
         02:DA97  C9 AC      			cmp.l	#172
         02:DA99  D0 04      			bne	!false+
         02:DA9B  C0 00      			cpy.h	#172
         02:DA9D  F0 01      			beq	!+
         02:DA9F  18         	!false:		clc
         02:DAA0             	!:
 5291                        		__bfalse	.LL134
         02:DAA0  B0 03 4C 4B			bcc	.LL134
         02:DAA4  DB          
 5292                        	
 5293                        		.dbg	line,	"include\routines_INTRO.c", 327; {
 5294                        	
 5295                        		.dbg	line,	"include\routines_INTRO.c", 328; for(i=0 ; i<8 ; i++)
 5296                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         02:DAA5  9C 2D 2C   			stz	__sequence_INTRO_end - 1
 5297    02:DAA8             	.LL135:
 5298                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:DAA8  AD 2D 2C   			lda	__sequence_INTRO_end - 1
 5299                        		__ult_b.uiq	8
         02:DAAB  C9 08      			cmp	#8		; Subtract integer from A.
         02:DAAD  6A         			ror	a		; CC if A < integer.
         02:DAAE  49 80      			eor	#$80
         02:DAB0  2A         			rol	a
 5300                        		__btrue		.LL137
         02:DAB1  B0 07      			bcs	.LL137
 5301                        		__bra		.LL138
         02:DAB3  80 62      			bra	.LL138
 5302    02:DAB5             	.LL136:
 5303                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         02:DAB5  EE 2D 2C   			inc	__sequence_INTRO_end - 1
 5304                        		__bra		.LL135
         02:DAB8  80 EE      			bra	.LL135
 5305    02:DABA             	.LL137:
 5306                        	
 5307                        		.dbg	line,	"include\routines_INTRO.c", 329; {
 5308                        	
 5309                        		.dbg	line,	"include\routines_INTRO.c", 330; sgx_spr_set(i);
 5310                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:DABA  AD 2D 2C   			lda	__sequence_INTRO_end - 1
 5311                        		__call		_sgx_spr_set.1
         02:DABD  20 9E E8   			call	_sgx_spr_set.1
 5312                        	
 5313                        		.dbg	line,	"include\routines_INTRO.c", 331; sgx_spr_x(player_pos_x + (i<<5) - ((i>>2)<<7));
 5314                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         02:DAC0  AD 2D 2C   			lda	__sequence_INTRO_end - 1
         02:DAC3  C2         			cly
 5315                        		__asl.wi	5
         02:DAC4  85 00      			sta	__temp
         02:DAC6  98         			tya
         02:DAC7  4A         			lsr	a
         02:DAC8  20 C8 E1   			jsr	aslw5
         02:DACB  29 E0      			and.l	#$FF << 5
 5316                        		__add.wm	_player_pos_x
         02:DACD  18         			clc
         02:DACE  6D 01 25   			adc.l	_player_pos_x
         02:DAD1  42         			say
         02:DAD2  6D 02 25   			adc.h	_player_pos_x
         02:DAD5  42         			say
 5317                        		__push.wr
         02:DAD6  5A         			phy
         02:DAD7  48         			pha
 5318                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         02:DAD8  AD 2D 2C   			lda	__sequence_INTRO_end - 1
         02:DADB  C2         			cly
 5319                        		__lsr.uiq	2
         02:DADC  4A         			lsr	a
         02:DADD  4A         			lsr	a
 5320                        		__asl.wi	7
         02:DADE  42         			say
         02:DADF  4A         			lsr	a
         02:DAE0  42         			say
         02:DAE1  6A         			ror	a
         02:DAE2  42         			say
         02:DAE3  6A         			ror	a
         02:DAE4  29 80      			and	#$80
 5321                        		__sub.wt
         02:DAE6  BA         			tsx
         02:DAE7  38         			sec
         02:DAE8  49 FF      			eor	#$FF
         02:DAEA  7D 01 21   			adc.l	__tos, x
         02:DAED  42         			say
         02:DAEE  49 FF      			eor	#$FF
         02:DAF0  7D 02 21   			adc.h	__tos, x
         02:DAF3  42         			say
         02:DAF4  E8         			inx
         02:DAF5  E8         			inx
         02:DAF6  9A         			txs
 5322                        		__call		_sgx_spr_x.1
         02:DAF7  20 CB E8   			call	_sgx_spr_x.1
 5323                        	
 5324                        		.dbg	line,	"include\routines_INTRO.c", 332; sgx_spr_y(player_pos_y + ((i>>2)<<5));
 5325                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         02:DAFA  AD 2D 2C   			lda	__sequence_INTRO_end - 1
         02:DAFD  C2         			cly
 5326                        		__lsr.uiq	2
         02:DAFE  4A         			lsr	a
         02:DAFF  4A         			lsr	a
 5327                        		__asl.wi	5
         02:DB00  85 00      			sta	__temp
         02:DB02  98         			tya
         02:DB03  4A         			lsr	a
         02:DB04  20 C8 E1   			jsr	aslw5
         02:DB07  29 E0      			and.l	#$FF << 5
 5328                        		__add.wm	_player_pos_y
         02:DB09  18         			clc
         02:DB0A  6D 03 25   			adc.l	_player_pos_y
         02:DB0D  42         			say
         02:DB0E  6D 04 25   			adc.h	_player_pos_y
         02:DB11  42         			say
 5329                        		__call		_sgx_spr_y.1
         02:DB12  20 DA E8   			call	_sgx_spr_y.1
 5330                        	
 5331                        		.dbg	line,	"include\routines_INTRO.c", 333; }
 5332                        		__bra		.LL136
         02:DB15  80 9E      			bra	.LL136
 5333    02:DB17             	.LL138:
 5334                        	
 5335                        		.dbg	line,	"include\routines_INTRO.c", 335; vdc_map_pxl_y = 0;
 5336                        		__st.wmiq	0, _vdc_map_pxl_y
         02:DB17  9C D6 26   			stz.l	_vdc_map_pxl_y
         02:DB1A  9C D7 26   			stz.h	_vdc_map_pxl_y
 5337                        	
 5338                        		.dbg	line,	"include\routines_INTRO.c", 336; scroll_split(0,   0, vdc_map_pxl_x & (511), vdc_map_pxl_y & (511), BKG_ON | SPR_ON);
 5339                        		__st.umiq	0, _al
         02:DB1D  64 F8      			stz	_al
 5340                        		__st.umiq	0, _ah
         02:DB1F  64 F9      			stz	_ah
 5341                        		__ld.wm		_vdc_map_pxl_x
         02:DB21  AD D4 26   			lda.l	_vdc_map_pxl_x
         02:DB24  AC D5 26   			ldy.h	_vdc_map_pxl_x
 5342                        		__and.wi	511
         02:DB27  29 FF      			and.l	#511
         02:DB29  42         			say
         02:DB2A  29 01      			and.h	#511
         02:DB2C  42         			say
 5343                        		__st.wmq	_bx
         02:DB2D  85 FA      			sta.l	_bx
         02:DB2F  84 FB      			sty.h	_bx
 5344                        		__ld.wm		_vdc_map_pxl_y
         02:DB31  AD D6 26   			lda.l	_vdc_map_pxl_y
         02:DB34  AC D7 26   			ldy.h	_vdc_map_pxl_y
 5345                        		__and.wi	511
         02:DB37  29 FF      			and.l	#511
         02:DB39  42         			say
         02:DB3A  29 01      			and.h	#511
         02:DB3C  42         			say
 5346                        		__st.wmq	_cx
         02:DB3D  85 FC      			sta.l	_cx
         02:DB3F  84 FD      			sty.h	_cx
 5347                        		__st.umiq	192, _dl
         02:DB41  A9 C0      			lda.l	#192
         02:DB43  85 FE      			sta	_dl
 5348                        		__call		_scroll_split.5
         02:DB45  20 81 FF   			call	_scroll_split.5
 5349                        	
 5350                        		.dbg	line,	"include\routines_INTRO.c", 337; }
 5351                        	
 5352                        		.dbg	line,	"include\routines_INTRO.c", 339; else if(global_counter == 173)
 5353                        		__bra		.LL139
         02:DB48  4C 0C DF   			bra	.LL139
 5354    02:DB4B             	.LL134:
 5355                        		__ld.wm		_global_counter
         02:DB4B  AD 5B 26   			lda.l	_global_counter
         02:DB4E  AC 5C 26   			ldy.h	_global_counter
 5356                        		__equ_w.wi	173
         02:DB51  C9 AD      			cmp.l	#173
         02:DB53  D0 04      			bne	!false+
         02:DB55  C0 00      			cpy.h	#173
         02:DB57  F0 01      			beq	!+
         02:DB59  18         	!false:		clc
         02:DB5A             	!:
 5357                        		__bfalse	.LL140
         02:DB5A  90 18      			bcc	.LL140
 5358                        	
 5359                        		.dbg	line,	"include\routines_INTRO.c", 340; {
 5360                        	
 5361                        		.dbg	line,	"include\routines_INTRO.c", 341; load_palette( 0, palette_INTRO_2, 1 );
 5362                        		__st.umiq	0, _al
         02:DB5C  64 F8      			stz	_al
 5363                        		__farptr	_palette_INTRO_2, _bp_bank, _bp
         02:DB5E  A9 E0      			lda.l	#$6000 + ($1FFF & (_palette_INTRO_2))
         02:DB60  85 EC      			sta.l	_bp
         02:DB62  A9 78      			lda.h	#$6000 + ($1FFF & (_palette_INTRO_2))
         02:DB64  85 ED      			sta.h	_bp
         02:DB66  A9 06      			lda	#bank(_palette_INTRO_2)
         02:DB68  85 02      			sta	_bp_bank
 5364                        		__st.umiq	1, _ah
         02:DB6A  A9 01      			lda.l	#1
         02:DB6C  85 F9      			sta	_ah
 5365                        		__call		_load_palette.3
         02:DB6E  20 8B FF   			call	_load_palette.3
 5366                        	
 5367                        		.dbg	line,	"include\routines_INTRO.c", 342; }
 5368                        	
 5369                        		.dbg	line,	"include\routines_INTRO.c", 344; else if(global_counter == 174)
 5370                        		__bra		.LL141
         02:DB71  4C 0C DF   			bra	.LL141
 5371    02:DB74             	.LL140:
 5372                        		__ld.wm		_global_counter
         02:DB74  AD 5B 26   			lda.l	_global_counter
         02:DB77  AC 5C 26   			ldy.h	_global_counter
 5373                        		__equ_w.wi	174
         02:DB7A  C9 AE      			cmp.l	#174
         02:DB7C  D0 04      			bne	!false+
         02:DB7E  C0 00      			cpy.h	#174
         02:DB80  F0 01      			beq	!+
         02:DB82  18         	!false:		clc
         02:DB83             	!:
 5374                        		__bfalse	.LL142
         02:DB83  90 24      			bcc	.LL142
 5375                        	
 5376                        		.dbg	line,	"include\routines_INTRO.c", 345; {
 5377                        	
 5378                        		.dbg	line,	"include\routines_INTRO.c", 346; for(i=0 ; i<8 ; i++)
 5379                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         02:DB85  9C 2D 2C   			stz	__sequence_INTRO_end - 1
 5380    02:DB88             	.LL143:
 5381                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:DB88  AD 2D 2C   			lda	__sequence_INTRO_end - 1
 5382                        		__ult_b.uiq	8
         02:DB8B  C9 08      			cmp	#8		; Subtract integer from A.
         02:DB8D  6A         			ror	a		; CC if A < integer.
         02:DB8E  49 80      			eor	#$80
         02:DB90  2A         			rol	a
 5383                        		__btrue		.LL145
         02:DB91  B0 08      			bcs	.LL145
 5384                        		__bra		.LL146
         02:DB93  4C 0C DF   			bra	.LL146
 5385    02:DB96             	.LL144:
 5386                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         02:DB96  EE 2D 2C   			inc	__sequence_INTRO_end - 1
 5387                        		__bra		.LL143
         02:DB99  80 ED      			bra	.LL143
 5388    02:DB9B             	.LL145:
 5389                        	
 5390                        		.dbg	line,	"include\routines_INTRO.c", 347; {
 5391                        	
 5392                        		.dbg	line,	"include\routines_INTRO.c", 348; sgx_spr_set(i);
 5393                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:DB9B  AD 2D 2C   			lda	__sequence_INTRO_end - 1
 5394                        		__call		_sgx_spr_set.1
         02:DB9E  20 9E E8   			call	_sgx_spr_set.1
 5395                        	
 5396                        		.dbg	line,	"include\routines_INTRO.c", 349; sgx_spr_hide();
 5397                        		__call		_sgx_spr_hide
         02:DBA1  20 B9 E8   			call	_sgx_spr_hide
 5398                        	
 5399                        		.dbg	line,	"include\routines_INTRO.c", 350; }
 5400                        		__bra		.LL144
         02:DBA4  80 F0      			bra	.LL144
 5401    02:DBA6             	.LL146	.alias		.LL147
 5402                        	
 5403                        		.dbg	line,	"include\routines_INTRO.c", 351; }
 5404                        	
 5405                        		.dbg	line,	"include\routines_INTRO.c", 353; else if(global_counter == 176)
 5406                        		__bra		.LL147
         02:DBA6  4C 0C DF   			bra	.LL147
 5407    02:DBA9             	.LL142:
 5408                        		__ld.wm		_global_counter
         02:DBA9  AD 5B 26   			lda.l	_global_counter
         02:DBAC  AC 5C 26   			ldy.h	_global_counter
 5409                        		__equ_w.wi	176
         02:DBAF  C9 B0      			cmp.l	#176
         02:DBB1  D0 04      			bne	!false+
         02:DBB3  C0 00      			cpy.h	#176
         02:DBB5  F0 01      			beq	!+
         02:DBB7  18         	!false:		clc
         02:DBB8             	!:
 5410                        		__bfalse	.LL148
         02:DBB8  90 76      			bcc	.LL148
 5411                        	
 5412                        		.dbg	line,	"include\routines_INTRO.c", 354; {
 5413                        	
 5414                        		.dbg	line,	"include\routines_INTRO.c", 355; for(i=0 ; i<8 ; i++)
 5415                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         02:DBBA  9C 2D 2C   			stz	__sequence_INTRO_end - 1
 5416    02:DBBD             	.LL149:
 5417                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:DBBD  AD 2D 2C   			lda	__sequence_INTRO_end - 1
 5418                        		__ult_b.uiq	8
         02:DBC0  C9 08      			cmp	#8		; Subtract integer from A.
         02:DBC2  6A         			ror	a		; CC if A < integer.
         02:DBC3  49 80      			eor	#$80
         02:DBC5  2A         			rol	a
 5419                        		__btrue		.LL151
         02:DBC6  B0 08      			bcs	.LL151
 5420                        		__bra		.LL152
         02:DBC8  4C 0C DF   			bra	.LL152
 5421    02:DBCB             	.LL150:
 5422                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         02:DBCB  EE 2D 2C   			inc	__sequence_INTRO_end - 1
 5423                        		__bra		.LL149
         02:DBCE  80 ED      			bra	.LL149
 5424    02:DBD0             	.LL151:
 5425                        	
 5426                        		.dbg	line,	"include\routines_INTRO.c", 356; {
 5427                        	
 5428                        		.dbg	line,	"include\routines_INTRO.c", 357; sgx_spr_set(i);
 5429                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:DBD0  AD 2D 2C   			lda	__sequence_INTRO_end - 1
 5430                        		__call		_sgx_spr_set.1
         02:DBD3  20 9E E8   			call	_sgx_spr_set.1
 5431                        	
 5432                        		.dbg	line,	"include\routines_INTRO.c", 358; sgx_spr_x(player_pos_x + (i<<5) - ((i>>2)<<7));
 5433                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         02:DBD6  AD 2D 2C   			lda	__sequence_INTRO_end - 1
         02:DBD9  C2         			cly
 5434                        		__asl.wi	5
         02:DBDA  85 00      			sta	__temp
         02:DBDC  98         			tya
         02:DBDD  4A         			lsr	a
         02:DBDE  20 C8 E1   			jsr	aslw5
         02:DBE1  29 E0      			and.l	#$FF << 5
 5435                        		__add.wm	_player_pos_x
         02:DBE3  18         			clc
         02:DBE4  6D 01 25   			adc.l	_player_pos_x
         02:DBE7  42         			say
         02:DBE8  6D 02 25   			adc.h	_player_pos_x
         02:DBEB  42         			say
 5436                        		__push.wr
         02:DBEC  5A         			phy
         02:DBED  48         			pha
 5437                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         02:DBEE  AD 2D 2C   			lda	__sequence_INTRO_end - 1
         02:DBF1  C2         			cly
 5438                        		__lsr.uiq	2
         02:DBF2  4A         			lsr	a
         02:DBF3  4A         			lsr	a
 5439                        		__asl.wi	7
         02:DBF4  42         			say
         02:DBF5  4A         			lsr	a
         02:DBF6  42         			say
         02:DBF7  6A         			ror	a
         02:DBF8  42         			say
         02:DBF9  6A         			ror	a
         02:DBFA  29 80      			and	#$80
 5440                        		__sub.wt
         02:DBFC  BA         			tsx
         02:DBFD  38         			sec
         02:DBFE  49 FF      			eor	#$FF
         02:DC00  7D 01 21   			adc.l	__tos, x
         02:DC03  42         			say
         02:DC04  49 FF      			eor	#$FF
         02:DC06  7D 02 21   			adc.h	__tos, x
         02:DC09  42         			say
         02:DC0A  E8         			inx
         02:DC0B  E8         			inx
         02:DC0C  9A         			txs
 5441                        		__call		_sgx_spr_x.1
         02:DC0D  20 CB E8   			call	_sgx_spr_x.1
 5442                        	
 5443                        		.dbg	line,	"include\routines_INTRO.c", 359; sgx_spr_y(player_pos_y + ((i>>2)<<5));
 5444                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         02:DC10  AD 2D 2C   			lda	__sequence_INTRO_end - 1
         02:DC13  C2         			cly
 5445                        		__lsr.uiq	2
         02:DC14  4A         			lsr	a
         02:DC15  4A         			lsr	a
 5446                        		__asl.wi	5
         02:DC16  85 00      			sta	__temp
         02:DC18  98         			tya
         02:DC19  4A         			lsr	a
         02:DC1A  20 C8 E1   			jsr	aslw5
         02:DC1D  29 E0      			and.l	#$FF << 5
 5447                        		__add.wm	_player_pos_y
         02:DC1F  18         			clc
         02:DC20  6D 03 25   			adc.l	_player_pos_y
         02:DC23  42         			say
         02:DC24  6D 04 25   			adc.h	_player_pos_y
         02:DC27  42         			say
 5448                        		__call		_sgx_spr_y.1
         02:DC28  20 DA E8   			call	_sgx_spr_y.1
 5449                        	
 5450                        		.dbg	line,	"include\routines_INTRO.c", 360; }
 5451                        		__bra		.LL150
         02:DC2B  80 9E      			bra	.LL150
 5452    02:DC2D             	.LL152	.alias		.LL153
 5453                        	
 5454                        		.dbg	line,	"include\routines_INTRO.c", 361; }
 5455                        	
 5456                        		.dbg	line,	"include\routines_INTRO.c", 363; else if(global_counter == 177)
 5457                        		__bra		.LL153
         02:DC2D  4C 0C DF   			bra	.LL153
 5458    02:DC30             	.LL148:
 5459                        		__ld.wm		_global_counter
         02:DC30  AD 5B 26   			lda.l	_global_counter
         02:DC33  AC 5C 26   			ldy.h	_global_counter
 5460                        		__equ_w.wi	177
         02:DC36  C9 B1      			cmp.l	#177
         02:DC38  D0 04      			bne	!false+
         02:DC3A  C0 00      			cpy.h	#177
         02:DC3C  F0 01      			beq	!+
         02:DC3E  18         	!false:		clc
         02:DC3F             	!:
 5461                        		__bfalse	.LL154
         02:DC3F  90 53      			bcc	.LL154
 5462                        	
 5463                        		.dbg	line,	"include\routines_INTRO.c", 364; {
 5464                        	
 5465                        		.dbg	line,	"include\routines_INTRO.c", 365; vdc_map_pxl_x = 256;
 5466                        		__st.wmiq	256, _vdc_map_pxl_x
         02:DC41  9C D4 26   			stz.l	_vdc_map_pxl_x
         02:DC44  A9 01      			lda.h	#256
         02:DC46  8D D5 26   			sta.h	_vdc_map_pxl_x
 5467                        	
 5468                        		.dbg	line,	"include\routines_INTRO.c", 366; vdc_map_pxl_y = 256;
 5469                        		__st.wmiq	256, _vdc_map_pxl_y
         02:DC49  9C D6 26   			stz.l	_vdc_map_pxl_y
         02:DC4C  A9 01      			lda.h	#256
         02:DC4E  8D D7 26   			sta.h	_vdc_map_pxl_y
 5470                        	
 5471                        		.dbg	line,	"include\routines_INTRO.c", 367; scroll_split(0,   0, vdc_map_pxl_x & (511), vdc_map_pxl_y & (511), BKG_ON | SPR_ON);
 5472                        		__st.umiq	0, _al
         02:DC51  64 F8      			stz	_al
 5473                        		__st.umiq	0, _ah
         02:DC53  64 F9      			stz	_ah
 5474                        		__ld.wm		_vdc_map_pxl_x
         02:DC55  AD D4 26   			lda.l	_vdc_map_pxl_x
         02:DC58  AC D5 26   			ldy.h	_vdc_map_pxl_x
 5475                        		__and.wi	511
         02:DC5B  29 FF      			and.l	#511
         02:DC5D  42         			say
         02:DC5E  29 01      			and.h	#511
         02:DC60  42         			say
 5476                        		__st.wmq	_bx
         02:DC61  85 FA      			sta.l	_bx
         02:DC63  84 FB      			sty.h	_bx
 5477                        		__ld.wm		_vdc_map_pxl_y
         02:DC65  AD D6 26   			lda.l	_vdc_map_pxl_y
         02:DC68  AC D7 26   			ldy.h	_vdc_map_pxl_y
 5478                        		__and.wi	511
         02:DC6B  29 FF      			and.l	#511
         02:DC6D  42         			say
         02:DC6E  29 01      			and.h	#511
         02:DC70  42         			say
 5479                        		__st.wmq	_cx
         02:DC71  85 FC      			sta.l	_cx
         02:DC73  84 FD      			sty.h	_cx
 5480                        		__st.umiq	192, _dl
         02:DC75  A9 C0      			lda.l	#192
         02:DC77  85 FE      			sta	_dl
 5481                        		__call		_scroll_split.5
         02:DC79  20 81 FF   			call	_scroll_split.5
 5482                        	
 5483                        		.dbg	line,	"include\routines_INTRO.c", 369; load_palette( 0, palette_INTRO_3, 1 );
 5484                        		__st.umiq	0, _al
         02:DC7C  64 F8      			stz	_al
 5485                        		__farptr	_palette_INTRO_3, _bp_bank, _bp
         02:DC7E  A9 E0      			lda.l	#$6000 + ($1FFF & (_palette_INTRO_3))
         02:DC80  85 EC      			sta.l	_bp
         02:DC82  A9 7A      			lda.h	#$6000 + ($1FFF & (_palette_INTRO_3))
         02:DC84  85 ED      			sta.h	_bp
         02:DC86  A9 06      			lda	#bank(_palette_INTRO_3)
         02:DC88  85 02      			sta	_bp_bank
 5486                        		__st.umiq	1, _ah
         02:DC8A  A9 01      			lda.l	#1
         02:DC8C  85 F9      			sta	_ah
 5487                        		__call		_load_palette.3
         02:DC8E  20 8B FF   			call	_load_palette.3
 5488                        	
 5489                        		.dbg	line,	"include\routines_INTRO.c", 370; }
 5490                        	
 5491                        		.dbg	line,	"include\routines_INTRO.c", 372; else if(global_counter == 178)
 5492                        		__bra		.LL155
         02:DC91  4C 0C DF   			bra	.LL155
 5493    02:DC94             	.LL154:
 5494                        		__ld.wm		_global_counter
         02:DC94  AD 5B 26   			lda.l	_global_counter
         02:DC97  AC 5C 26   			ldy.h	_global_counter
 5495                        		__equ_w.wi	178
         02:DC9A  C9 B2      			cmp.l	#178
         02:DC9C  D0 04      			bne	!false+
         02:DC9E  C0 00      			cpy.h	#178
         02:DCA0  F0 01      			beq	!+
         02:DCA2  18         	!false:		clc
         02:DCA3             	!:
 5496                        		__bfalse	.LL156
         02:DCA3  90 24      			bcc	.LL156
 5497                        	
 5498                        		.dbg	line,	"include\routines_INTRO.c", 373; {
 5499                        	
 5500                        		.dbg	line,	"include\routines_INTRO.c", 374; for(i=0 ; i<8 ; i++)
 5501                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         02:DCA5  9C 2D 2C   			stz	__sequence_INTRO_end - 1
 5502    02:DCA8             	.LL157:
 5503                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:DCA8  AD 2D 2C   			lda	__sequence_INTRO_end - 1
 5504                        		__ult_b.uiq	8
         02:DCAB  C9 08      			cmp	#8		; Subtract integer from A.
         02:DCAD  6A         			ror	a		; CC if A < integer.
         02:DCAE  49 80      			eor	#$80
         02:DCB0  2A         			rol	a
 5505                        		__btrue		.LL159
         02:DCB1  B0 08      			bcs	.LL159
 5506                        		__bra		.LL160
         02:DCB3  4C 0C DF   			bra	.LL160
 5507    02:DCB6             	.LL158:
 5508                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         02:DCB6  EE 2D 2C   			inc	__sequence_INTRO_end - 1
 5509                        		__bra		.LL157
         02:DCB9  80 ED      			bra	.LL157
 5510    02:DCBB             	.LL159:
 5511                        	
 5512                        		.dbg	line,	"include\routines_INTRO.c", 375; {
 5513                        	
 5514                        		.dbg	line,	"include\routines_INTRO.c", 376; sgx_spr_set(i);
 5515                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:DCBB  AD 2D 2C   			lda	__sequence_INTRO_end - 1
 5516                        		__call		_sgx_spr_set.1
         02:DCBE  20 9E E8   			call	_sgx_spr_set.1
 5517                        	
 5518                        		.dbg	line,	"include\routines_INTRO.c", 377; sgx_spr_hide();
 5519                        		__call		_sgx_spr_hide
         02:DCC1  20 B9 E8   			call	_sgx_spr_hide
 5520                        	
 5521                        		.dbg	line,	"include\routines_INTRO.c", 378; }
 5522                        		__bra		.LL158
         02:DCC4  80 F0      			bra	.LL158
 5523    02:DCC6             	.LL160	.alias		.LL161
 5524                        	
 5525                        		.dbg	line,	"include\routines_INTRO.c", 379; }
 5526                        	
 5527                        		.dbg	line,	"include\routines_INTRO.c", 381; else if(global_counter == 180)
 5528                        		__bra		.LL161
         02:DCC6  4C 0C DF   			bra	.LL161
 5529    02:DCC9             	.LL156:
 5530                        		__ld.wm		_global_counter
         02:DCC9  AD 5B 26   			lda.l	_global_counter
         02:DCCC  AC 5C 26   			ldy.h	_global_counter
 5531                        		__equ_w.wi	180
         02:DCCF  C9 B4      			cmp.l	#180
         02:DCD1  D0 04      			bne	!false+
         02:DCD3  C0 00      			cpy.h	#180
         02:DCD5  F0 01      			beq	!+
         02:DCD7  18         	!false:		clc
         02:DCD8             	!:
 5532                        		__bfalse	.LL162
         02:DCD8  90 76      			bcc	.LL162
 5533                        	
 5534                        		.dbg	line,	"include\routines_INTRO.c", 382; {
 5535                        	
 5536                        		.dbg	line,	"include\routines_INTRO.c", 383; for(i=0 ; i<8 ; i++)
 5537                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         02:DCDA  9C 2D 2C   			stz	__sequence_INTRO_end - 1
 5538    02:DCDD             	.LL163:
 5539                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:DCDD  AD 2D 2C   			lda	__sequence_INTRO_end - 1
 5540                        		__ult_b.uiq	8
         02:DCE0  C9 08      			cmp	#8		; Subtract integer from A.
         02:DCE2  6A         			ror	a		; CC if A < integer.
         02:DCE3  49 80      			eor	#$80
         02:DCE5  2A         			rol	a
 5541                        		__btrue		.LL165
         02:DCE6  B0 08      			bcs	.LL165
 5542                        		__bra		.LL166
         02:DCE8  4C 0C DF   			bra	.LL166
 5543    02:DCEB             	.LL164:
 5544                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         02:DCEB  EE 2D 2C   			inc	__sequence_INTRO_end - 1
 5545                        		__bra		.LL163
         02:DCEE  80 ED      			bra	.LL163
 5546    02:DCF0             	.LL165:
 5547                        	
 5548                        		.dbg	line,	"include\routines_INTRO.c", 384; {
 5549                        	
 5550                        		.dbg	line,	"include\routines_INTRO.c", 385; sgx_spr_set(i);
 5551                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:DCF0  AD 2D 2C   			lda	__sequence_INTRO_end - 1
 5552                        		__call		_sgx_spr_set.1
         02:DCF3  20 9E E8   			call	_sgx_spr_set.1
 5553                        	
 5554                        		.dbg	line,	"include\routines_INTRO.c", 386; sgx_spr_x(player_pos_x + (i<<5) - ((i>>2)<<7));
 5555                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         02:DCF6  AD 2D 2C   			lda	__sequence_INTRO_end - 1
         02:DCF9  C2         			cly
 5556                        		__asl.wi	5
         02:DCFA  85 00      			sta	__temp
         02:DCFC  98         			tya
         02:DCFD  4A         			lsr	a
         02:DCFE  20 C8 E1   			jsr	aslw5
         02:DD01  29 E0      			and.l	#$FF << 5
 5557                        		__add.wm	_player_pos_x
         02:DD03  18         			clc
         02:DD04  6D 01 25   			adc.l	_player_pos_x
         02:DD07  42         			say
         02:DD08  6D 02 25   			adc.h	_player_pos_x
         02:DD0B  42         			say
 5558                        		__push.wr
         02:DD0C  5A         			phy
         02:DD0D  48         			pha
 5559                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         02:DD0E  AD 2D 2C   			lda	__sequence_INTRO_end - 1
         02:DD11  C2         			cly
 5560                        		__lsr.uiq	2
         02:DD12  4A         			lsr	a
         02:DD13  4A         			lsr	a
 5561                        		__asl.wi	7
         02:DD14  42         			say
         02:DD15  4A         			lsr	a
         02:DD16  42         			say
         02:DD17  6A         			ror	a
         02:DD18  42         			say
         02:DD19  6A         			ror	a
         02:DD1A  29 80      			and	#$80
 5562                        		__sub.wt
         02:DD1C  BA         			tsx
         02:DD1D  38         			sec
         02:DD1E  49 FF      			eor	#$FF
         02:DD20  7D 01 21   			adc.l	__tos, x
         02:DD23  42         			say
         02:DD24  49 FF      			eor	#$FF
         02:DD26  7D 02 21   			adc.h	__tos, x
         02:DD29  42         			say
         02:DD2A  E8         			inx
         02:DD2B  E8         			inx
         02:DD2C  9A         			txs
 5563                        		__call		_sgx_spr_x.1
         02:DD2D  20 CB E8   			call	_sgx_spr_x.1
 5564                        	
 5565                        		.dbg	line,	"include\routines_INTRO.c", 387; sgx_spr_y(player_pos_y + ((i>>2)<<5));
 5566                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         02:DD30  AD 2D 2C   			lda	__sequence_INTRO_end - 1
         02:DD33  C2         			cly
 5567                        		__lsr.uiq	2
         02:DD34  4A         			lsr	a
         02:DD35  4A         			lsr	a
 5568                        		__asl.wi	5
         02:DD36  85 00      			sta	__temp
         02:DD38  98         			tya
         02:DD39  4A         			lsr	a
         02:DD3A  20 C8 E1   			jsr	aslw5
         02:DD3D  29 E0      			and.l	#$FF << 5
 5569                        		__add.wm	_player_pos_y
         02:DD3F  18         			clc
         02:DD40  6D 03 25   			adc.l	_player_pos_y
         02:DD43  42         			say
         02:DD44  6D 04 25   			adc.h	_player_pos_y
         02:DD47  42         			say
 5570                        		__call		_sgx_spr_y.1
         02:DD48  20 DA E8   			call	_sgx_spr_y.1
 5571                        	
 5572                        		.dbg	line,	"include\routines_INTRO.c", 388; }
 5573                        		__bra		.LL164
         02:DD4B  80 9E      			bra	.LL164
 5574    02:DD4D             	.LL166	.alias		.LL167
 5575                        	
 5576                        		.dbg	line,	"include\routines_INTRO.c", 389; }
 5577                        	
 5578                        		.dbg	line,	"include\routines_INTRO.c", 391; else if(global_counter == 181)
 5579                        		__bra		.LL167
         02:DD4D  4C 0C DF   			bra	.LL167
 5580    02:DD50             	.LL162:
 5581                        		__ld.wm		_global_counter
         02:DD50  AD 5B 26   			lda.l	_global_counter
         02:DD53  AC 5C 26   			ldy.h	_global_counter
 5582                        		__equ_w.wi	181
         02:DD56  C9 B5      			cmp.l	#181
         02:DD58  D0 04      			bne	!false+
         02:DD5A  C0 00      			cpy.h	#181
         02:DD5C  F0 01      			beq	!+
         02:DD5E  18         	!false:		clc
         02:DD5F             	!:
 5583                        		__bfalse	.LL168
         02:DD5F  90 4F      			bcc	.LL168
 5584                        	
 5585                        		.dbg	line,	"include\routines_INTRO.c", 392; {
 5586                        	
 5587                        		.dbg	line,	"include\routines_INTRO.c", 393; vdc_map_pxl_x = 0;
 5588                        		__st.wmiq	0, _vdc_map_pxl_x
         02:DD61  9C D4 26   			stz.l	_vdc_map_pxl_x
         02:DD64  9C D5 26   			stz.h	_vdc_map_pxl_x
 5589                        	
 5590                        		.dbg	line,	"include\routines_INTRO.c", 394; vdc_map_pxl_y = 0;
 5591                        		__st.wmiq	0, _vdc_map_pxl_y
         02:DD67  9C D6 26   			stz.l	_vdc_map_pxl_y
         02:DD6A  9C D7 26   			stz.h	_vdc_map_pxl_y
 5592                        	
 5593                        		.dbg	line,	"include\routines_INTRO.c", 395; scroll_split(0,   0, vdc_map_pxl_x & (511), vdc_map_pxl_y & (511), BKG_ON | SPR_ON);
 5594                        		__st.umiq	0, _al
         02:DD6D  64 F8      			stz	_al
 5595                        		__st.umiq	0, _ah
         02:DD6F  64 F9      			stz	_ah
 5596                        		__ld.wm		_vdc_map_pxl_x
         02:DD71  AD D4 26   			lda.l	_vdc_map_pxl_x
         02:DD74  AC D5 26   			ldy.h	_vdc_map_pxl_x
 5597                        		__and.wi	511
         02:DD77  29 FF      			and.l	#511
         02:DD79  42         			say
         02:DD7A  29 01      			and.h	#511
         02:DD7C  42         			say
 5598                        		__st.wmq	_bx
         02:DD7D  85 FA      			sta.l	_bx
         02:DD7F  84 FB      			sty.h	_bx
 5599                        		__ld.wm		_vdc_map_pxl_y
         02:DD81  AD D6 26   			lda.l	_vdc_map_pxl_y
         02:DD84  AC D7 26   			ldy.h	_vdc_map_pxl_y
 5600                        		__and.wi	511
         02:DD87  29 FF      			and.l	#511
         02:DD89  42         			say
         02:DD8A  29 01      			and.h	#511
         02:DD8C  42         			say
 5601                        		__st.wmq	_cx
         02:DD8D  85 FC      			sta.l	_cx
         02:DD8F  84 FD      			sty.h	_cx
 5602                        		__st.umiq	192, _dl
         02:DD91  A9 C0      			lda.l	#192
         02:DD93  85 FE      			sta	_dl
 5603                        		__call		_scroll_split.5
         02:DD95  20 81 FF   			call	_scroll_split.5
 5604                        	
 5605                        		.dbg	line,	"include\routines_INTRO.c", 397; load_palette( 0, palette_INTRO_3, 1 );
 5606                        		__st.umiq	0, _al
         02:DD98  64 F8      			stz	_al
 5607                        		__farptr	_palette_INTRO_3, _bp_bank, _bp
         02:DD9A  A9 E0      			lda.l	#$6000 + ($1FFF & (_palette_INTRO_3))
         02:DD9C  85 EC      			sta.l	_bp
         02:DD9E  A9 7A      			lda.h	#$6000 + ($1FFF & (_palette_INTRO_3))
         02:DDA0  85 ED      			sta.h	_bp
         02:DDA2  A9 06      			lda	#bank(_palette_INTRO_3)
         02:DDA4  85 02      			sta	_bp_bank
 5608                        		__st.umiq	1, _ah
         02:DDA6  A9 01      			lda.l	#1
         02:DDA8  85 F9      			sta	_ah
 5609                        		__call		_load_palette.3
         02:DDAA  20 8B FF   			call	_load_palette.3
 5610                        	
 5611                        		.dbg	line,	"include\routines_INTRO.c", 398; }
 5612                        	
 5613                        		.dbg	line,	"include\routines_INTRO.c", 400; else if(global_counter == 182)
 5614                        		__bra		.LL169
         02:DDAD  4C 0C DF   			bra	.LL169
 5615    02:DDB0             	.LL168:
 5616                        		__ld.wm		_global_counter
         02:DDB0  AD 5B 26   			lda.l	_global_counter
         02:DDB3  AC 5C 26   			ldy.h	_global_counter
 5617                        		__equ_w.wi	182
         02:DDB6  C9 B6      			cmp.l	#182
         02:DDB8  D0 04      			bne	!false+
         02:DDBA  C0 00      			cpy.h	#182
         02:DDBC  F0 01      			beq	!+
         02:DDBE  18         	!false:		clc
         02:DDBF             	!:
 5618                        		__bfalse	.LL170
         02:DDBF  90 38      			bcc	.LL170
 5619                        	
 5620                        		.dbg	line,	"include\routines_INTRO.c", 401; {
 5621                        	
 5622                        		.dbg	line,	"include\routines_INTRO.c", 402; for(i=0 ; i<8 ; i++)
 5623                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         02:DDC1  9C 2D 2C   			stz	__sequence_INTRO_end - 1
 5624    02:DDC4             	.LL171:
 5625                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:DDC4  AD 2D 2C   			lda	__sequence_INTRO_end - 1
 5626                        		__ult_b.uiq	8
         02:DDC7  C9 08      			cmp	#8		; Subtract integer from A.
         02:DDC9  6A         			ror	a		; CC if A < integer.
         02:DDCA  49 80      			eor	#$80
         02:DDCC  2A         			rol	a
 5627                        		__btrue		.LL173
         02:DDCD  B0 07      			bcs	.LL173
 5628                        		__bra		.LL174
         02:DDCF  80 10      			bra	.LL174
 5629    02:DDD1             	.LL172:
 5630                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         02:DDD1  EE 2D 2C   			inc	__sequence_INTRO_end - 1
 5631                        		__bra		.LL171
         02:DDD4  80 EE      			bra	.LL171
 5632    02:DDD6             	.LL173:
 5633                        	
 5634                        		.dbg	line,	"include\routines_INTRO.c", 403; {
 5635                        	
 5636                        		.dbg	line,	"include\routines_INTRO.c", 404; sgx_spr_set(i);
 5637                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:DDD6  AD 2D 2C   			lda	__sequence_INTRO_end - 1
 5638                        		__call		_sgx_spr_set.1
         02:DDD9  20 9E E8   			call	_sgx_spr_set.1
 5639                        	
 5640                        		.dbg	line,	"include\routines_INTRO.c", 405; sgx_spr_hide();
 5641                        		__call		_sgx_spr_hide
         02:DDDC  20 B9 E8   			call	_sgx_spr_hide
 5642                        	
 5643                        		.dbg	line,	"include\routines_INTRO.c", 406; }
 5644                        		__bra		.LL172
         02:DDDF  80 F0      			bra	.LL172
 5645    02:DDE1             	.LL174:
 5646                        	
 5647                        		.dbg	line,	"include\routines_INTRO.c", 408; load_palette( 0, palette_INTRO_2, 1 );
 5648                        		__st.umiq	0, _al
         02:DDE1  64 F8      			stz	_al
 5649                        		__farptr	_palette_INTRO_2, _bp_bank, _bp
         02:DDE3  A9 E0      			lda.l	#$6000 + ($1FFF & (_palette_INTRO_2))
         02:DDE5  85 EC      			sta.l	_bp
         02:DDE7  A9 78      			lda.h	#$6000 + ($1FFF & (_palette_INTRO_2))
         02:DDE9  85 ED      			sta.h	_bp
         02:DDEB  A9 06      			lda	#bank(_palette_INTRO_2)
         02:DDED  85 02      			sta	_bp_bank
 5650                        		__st.umiq	1, _ah
         02:DDEF  A9 01      			lda.l	#1
         02:DDF1  85 F9      			sta	_ah
 5651                        		__call		_load_palette.3
         02:DDF3  20 8B FF   			call	_load_palette.3
 5652                        	
 5653                        		.dbg	line,	"include\routines_INTRO.c", 409; }
 5654                        	
 5655                        		.dbg	line,	"include\routines_INTRO.c", 411; else if(global_counter == 184)
 5656                        		__bra		.LL175
         02:DDF6  4C 0C DF   			bra	.LL175
 5657    02:DDF9             	.LL170:
 5658                        		__ld.wm		_global_counter
         02:DDF9  AD 5B 26   			lda.l	_global_counter
         02:DDFC  AC 5C 26   			ldy.h	_global_counter
 5659                        		__equ_w.wi	184
         02:DDFF  C9 B8      			cmp.l	#184
         02:DE01  D0 04      			bne	!false+
         02:DE03  C0 00      			cpy.h	#184
         02:DE05  F0 01      			beq	!+
         02:DE07  18         	!false:		clc
         02:DE08             	!:
 5660                        		__bfalse	.LL176
         02:DE08  90 76      			bcc	.LL176
 5661                        	
 5662                        		.dbg	line,	"include\routines_INTRO.c", 412; {
 5663                        	
 5664                        		.dbg	line,	"include\routines_INTRO.c", 413; for(i=0 ; i<8 ; i++)
 5665                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         02:DE0A  9C 2D 2C   			stz	__sequence_INTRO_end - 1
 5666    02:DE0D             	.LL177:
 5667                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:DE0D  AD 2D 2C   			lda	__sequence_INTRO_end - 1
 5668                        		__ult_b.uiq	8
         02:DE10  C9 08      			cmp	#8		; Subtract integer from A.
         02:DE12  6A         			ror	a		; CC if A < integer.
         02:DE13  49 80      			eor	#$80
         02:DE15  2A         			rol	a
 5669                        		__btrue		.LL179
         02:DE16  B0 08      			bcs	.LL179
 5670                        		__bra		.LL180
         02:DE18  4C 0C DF   			bra	.LL180
 5671    02:DE1B             	.LL178:
 5672                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         02:DE1B  EE 2D 2C   			inc	__sequence_INTRO_end - 1
 5673                        		__bra		.LL177
         02:DE1E  80 ED      			bra	.LL177
 5674    02:DE20             	.LL179:
 5675                        	
 5676                        		.dbg	line,	"include\routines_INTRO.c", 414; {
 5677                        	
 5678                        		.dbg	line,	"include\routines_INTRO.c", 415; sgx_spr_set(i);
 5679                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:DE20  AD 2D 2C   			lda	__sequence_INTRO_end - 1
 5680                        		__call		_sgx_spr_set.1
         02:DE23  20 9E E8   			call	_sgx_spr_set.1
 5681                        	
 5682                        		.dbg	line,	"include\routines_INTRO.c", 416; sgx_spr_x(player_pos_x + (i<<5) - ((i>>2)<<7));
 5683                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         02:DE26  AD 2D 2C   			lda	__sequence_INTRO_end - 1
         02:DE29  C2         			cly
 5684                        		__asl.wi	5
         02:DE2A  85 00      			sta	__temp
         02:DE2C  98         			tya
         02:DE2D  4A         			lsr	a
         02:DE2E  20 C8 E1   			jsr	aslw5
         02:DE31  29 E0      			and.l	#$FF << 5
 5685                        		__add.wm	_player_pos_x
         02:DE33  18         			clc
         02:DE34  6D 01 25   			adc.l	_player_pos_x
         02:DE37  42         			say
         02:DE38  6D 02 25   			adc.h	_player_pos_x
         02:DE3B  42         			say
 5686                        		__push.wr
         02:DE3C  5A         			phy
         02:DE3D  48         			pha
 5687                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         02:DE3E  AD 2D 2C   			lda	__sequence_INTRO_end - 1
         02:DE41  C2         			cly
 5688                        		__lsr.uiq	2
         02:DE42  4A         			lsr	a
         02:DE43  4A         			lsr	a
 5689                        		__asl.wi	7
         02:DE44  42         			say
         02:DE45  4A         			lsr	a
         02:DE46  42         			say
         02:DE47  6A         			ror	a
         02:DE48  42         			say
         02:DE49  6A         			ror	a
         02:DE4A  29 80      			and	#$80
 5690                        		__sub.wt
         02:DE4C  BA         			tsx
         02:DE4D  38         			sec
         02:DE4E  49 FF      			eor	#$FF
         02:DE50  7D 01 21   			adc.l	__tos, x
         02:DE53  42         			say
         02:DE54  49 FF      			eor	#$FF
         02:DE56  7D 02 21   			adc.h	__tos, x
         02:DE59  42         			say
         02:DE5A  E8         			inx
         02:DE5B  E8         			inx
         02:DE5C  9A         			txs
 5691                        		__call		_sgx_spr_x.1
         02:DE5D  20 CB E8   			call	_sgx_spr_x.1
 5692                        	
 5693                        		.dbg	line,	"include\routines_INTRO.c", 417; sgx_spr_y(player_pos_y + ((i>>2)<<5));
 5694                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         02:DE60  AD 2D 2C   			lda	__sequence_INTRO_end - 1
         02:DE63  C2         			cly
 5695                        		__lsr.uiq	2
         02:DE64  4A         			lsr	a
         02:DE65  4A         			lsr	a
 5696                        		__asl.wi	5
         02:DE66  85 00      			sta	__temp
         02:DE68  98         			tya
         02:DE69  4A         			lsr	a
         02:DE6A  20 C8 E1   			jsr	aslw5
         02:DE6D  29 E0      			and.l	#$FF << 5
 5697                        		__add.wm	_player_pos_y
         02:DE6F  18         			clc
         02:DE70  6D 03 25   			adc.l	_player_pos_y
         02:DE73  42         			say
         02:DE74  6D 04 25   			adc.h	_player_pos_y
         02:DE77  42         			say
 5698                        		__call		_sgx_spr_y.1
         02:DE78  20 DA E8   			call	_sgx_spr_y.1
 5699                        	
 5700                        		.dbg	line,	"include\routines_INTRO.c", 418; }
 5701                        		__bra		.LL178
         02:DE7B  80 9E      			bra	.LL178
 5702    02:DE7D             	.LL180	.alias		.LL181
 5703                        	
 5704                        		.dbg	line,	"include\routines_INTRO.c", 419; }
 5705                        	
 5706                        		.dbg	line,	"include\routines_INTRO.c", 421; else if(global_counter == 186)
 5707                        		__bra		.LL181
         02:DE7D  4C 0C DF   			bra	.LL181
 5708    02:DE80             	.LL176:
 5709                        		__ld.wm		_global_counter
         02:DE80  AD 5B 26   			lda.l	_global_counter
         02:DE83  AC 5C 26   			ldy.h	_global_counter
 5710                        		__equ_w.wi	186
         02:DE86  C9 BA      			cmp.l	#186
         02:DE88  D0 04      			bne	!false+
         02:DE8A  C0 00      			cpy.h	#186
         02:DE8C  F0 01      			beq	!+
         02:DE8E  18         	!false:		clc
         02:DE8F             	!:
 5711                        		__bfalse	.LL182
         02:DE8F  90 37      			bcc	.LL182
 5712                        	
 5713                        		.dbg	line,	"include\routines_INTRO.c", 422; {
 5714                        	
 5715                        		.dbg	line,	"include\routines_INTRO.c", 423; for(i=0 ; i<8 ; i++)
 5716                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         02:DE91  9C 2D 2C   			stz	__sequence_INTRO_end - 1
 5717    02:DE94             	.LL183:
 5718                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:DE94  AD 2D 2C   			lda	__sequence_INTRO_end - 1
 5719                        		__ult_b.uiq	8
         02:DE97  C9 08      			cmp	#8		; Subtract integer from A.
         02:DE99  6A         			ror	a		; CC if A < integer.
         02:DE9A  49 80      			eor	#$80
         02:DE9C  2A         			rol	a
 5720                        		__btrue		.LL185
         02:DE9D  B0 07      			bcs	.LL185
 5721                        		__bra		.LL186
         02:DE9F  80 10      			bra	.LL186
 5722    02:DEA1             	.LL184:
 5723                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         02:DEA1  EE 2D 2C   			inc	__sequence_INTRO_end - 1
 5724                        		__bra		.LL183
         02:DEA4  80 EE      			bra	.LL183
 5725    02:DEA6             	.LL185:
 5726                        	
 5727                        		.dbg	line,	"include\routines_INTRO.c", 424; {
 5728                        	
 5729                        		.dbg	line,	"include\routines_INTRO.c", 425; sgx_spr_set(i);
 5730                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:DEA6  AD 2D 2C   			lda	__sequence_INTRO_end - 1
 5731                        		__call		_sgx_spr_set.1
         02:DEA9  20 9E E8   			call	_sgx_spr_set.1
 5732                        	
 5733                        		.dbg	line,	"include\routines_INTRO.c", 426; sgx_spr_hide();
 5734                        		__call		_sgx_spr_hide
         02:DEAC  20 B9 E8   			call	_sgx_spr_hide
 5735                        	
 5736                        		.dbg	line,	"include\routines_INTRO.c", 427; }
 5737                        		__bra		.LL184
         02:DEAF  80 F0      			bra	.LL184
 5738    02:DEB1             	.LL186:
 5739                        	
 5740                        		.dbg	line,	"include\routines_INTRO.c", 429; load_palette( 0, palette_INTRO_2, 1 );
 5741                        		__st.umiq	0, _al
         02:DEB1  64 F8      			stz	_al
 5742                        		__farptr	_palette_INTRO_2, _bp_bank, _bp
         02:DEB3  A9 E0      			lda.l	#$6000 + ($1FFF & (_palette_INTRO_2))
         02:DEB5  85 EC      			sta.l	_bp
         02:DEB7  A9 78      			lda.h	#$6000 + ($1FFF & (_palette_INTRO_2))
         02:DEB9  85 ED      			sta.h	_bp
         02:DEBB  A9 06      			lda	#bank(_palette_INTRO_2)
         02:DEBD  85 02      			sta	_bp_bank
 5743                        		__st.umiq	1, _ah
         02:DEBF  A9 01      			lda.l	#1
         02:DEC1  85 F9      			sta	_ah
 5744                        		__call		_load_palette.3
         02:DEC3  20 8B FF   			call	_load_palette.3
 5745                        	
 5746                        		.dbg	line,	"include\routines_INTRO.c", 430; }
 5747                        	
 5748                        		.dbg	line,	"include\routines_INTRO.c", 432; else if(global_counter == 731)
 5749                        		__bra		.LL187
         02:DEC6  80 44      			bra	.LL187
 5750    02:DEC8             	.LL182:
 5751                        		__ld.wm		_global_counter
         02:DEC8  AD 5B 26   			lda.l	_global_counter
         02:DECB  AC 5C 26   			ldy.h	_global_counter
 5752                        		__equ_w.wi	731
         02:DECE  C9 DB      			cmp.l	#731
         02:DED0  D0 04      			bne	!false+
         02:DED2  C0 02      			cpy.h	#731
         02:DED4  F0 01      			beq	!+
         02:DED6  18         	!false:		clc
         02:DED7             	!:
 5753                        		__bfalse	.LL188
         02:DED7  90 17      			bcc	.LL188
 5754                        	
 5755                        		.dbg	line,	"include\routines_INTRO.c", 433; {
 5756                        	
 5757                        		.dbg	line,	"include\routines_INTRO.c", 434; load_palette( 0, palette_BLACK, 1 );
 5758                        		__st.umiq	0, _al
         02:DED9  64 F8      			stz	_al
 5759                        		__farptr	_palette_BLACK, _bp_bank, _bp
         02:DEDB  A9 00      			lda.l	#$6000 + ($1FFF & (_palette_BLACK))
         02:DEDD  85 EC      			sta.l	_bp
         02:DEDF  A9 6E      			lda.h	#$6000 + ($1FFF & (_palette_BLACK))
         02:DEE1  85 ED      			sta.h	_bp
         02:DEE3  A9 03      			lda	#bank(_palette_BLACK)
         02:DEE5  85 02      			sta	_bp_bank
 5760                        		__st.umiq	1, _ah
         02:DEE7  A9 01      			lda.l	#1
         02:DEE9  85 F9      			sta	_ah
 5761                        		__call		_load_palette.3
         02:DEEB  20 8B FF   			call	_load_palette.3
 5762                        	
 5763                        		.dbg	line,	"include\routines_INTRO.c", 435; }
 5764                        	
 5765                        		.dbg	line,	"include\routines_INTRO.c", 437; else if(global_counter == 851)
 5766                        		__bra		.LL189
         02:DEEE  80 1C      			bra	.LL189
 5767    02:DEF0             	.LL188:
 5768                        		__ld.wm		_global_counter
         02:DEF0  AD 5B 26   			lda.l	_global_counter
         02:DEF3  AC 5C 26   			ldy.h	_global_counter
 5769                        		__equ_w.wi	851
         02:DEF6  C9 53      			cmp.l	#851
         02:DEF8  D0 04      			bne	!false+
         02:DEFA  C0 03      			cpy.h	#851
         02:DEFC  F0 01      			beq	!+
         02:DEFE  18         	!false:		clc
         02:DEFF             	!:
 5770                        		__bfalse	.LL190
         02:DEFF  90 0B      			bcc	.LL190
 5771                        	
 5772                        		.dbg	line,	"include\routines_INTRO.c", 438; {
 5773                        	
 5774                        		.dbg	line,	"include\routines_INTRO.c", 439; // DISABLE DISPLAY //
 5775                        	
 5776                        		.dbg	line,	"include\routines_INTRO.c", 440; disp_off();
 5777                        		__call		_disp_off
         02:DF01  20 3D E4   			call	_disp_off
 5778                        	
 5779                        		.dbg	line,	"include\routines_INTRO.c", 442; sequence_loaded = FALSE;
 5780                        		__st.umiq	0, _sequence_loaded
         02:DF04  9C 16 23   			stz	_sequence_loaded
 5781                        	
 5782                        		.dbg	line,	"include\routines_INTRO.c", 444; sequence_id = SEQUENCE_LEVEL;
 5783                        		__st.umiq	2, _sequence_id
         02:DF07  A9 02      			lda.l	#2
         02:DF09  8D 15 23   			sta	_sequence_id
 5784                        	
 5785                        		.dbg	line,	"include\routines_INTRO.c", 445; }
 5786                        	
 5787                        		.dbg	line,	"include\routines_INTRO.c", 450; //--------------------------------------------------------------------------------------//
 5788                        	
 5789                        		.dbg	line,	"include\routines_INTRO.c", 451; //                                     TEXT DISPLAY                                     //
 5790                        	
 5791                        		.dbg	line,	"include\routines_INTRO.c", 452; //--------------------------------------------------------------------------------------//
 5792                        	
 5793                        		.dbg	line,	"include\routines_INTRO.c", 453; 
 5794                        	
 5795                        		.dbg	line,	"include\routines_INTRO.c", 454; if(global_counter > 241)
 5796    02:DF0C             	.LL190:
 5797    02:DF0C             	.LL189:
 5798    02:DF0C             	.LL187:
 5799    02:DF0C             	.LL181:
 5800    02:DF0C             	.LL175:
 5801    02:DF0C             	.LL169:
 5802    02:DF0C             	.LL167:
 5803    02:DF0C             	.LL161:
 5804    02:DF0C             	.LL155:
 5805    02:DF0C             	.LL153:
 5806    02:DF0C             	.LL147:
 5807    02:DF0C             	.LL141:
 5808    02:DF0C             	.LL139:
 5809    02:DF0C             	.LL133:
 5810    02:DF0C             	.LL127:
 5811    02:DF0C             	.LL121:
 5812    02:DF0C             	.LL115:
 5813    02:DF0C             	.LL109:
 5814    02:DF0C             	.LL107:
 5815    02:DF0C             	.LL101:
 5816    02:DF0C             	.LL95:
 5817    02:DF0C             	.LL93:
 5818    02:DF0C             	.LL87:
 5819    02:DF0C             	.LL81:
 5820    02:DF0C             	.LL75:
 5821    02:DF0C             	.LL69:
 5822    02:DF0C             	.LL63:
 5823    02:DF0C             	.LL61:
 5824    02:DF0C             	.LL59:
 5825    02:DF0C             	.LL57:
 5826    02:DF0C             	.LL55:
 5827    02:DF0C             	.LL53:
 5828    02:DF0C             	.LL51:
 5829                        		__ld.wm		_global_counter
         02:DF0C  AD 5B 26   			lda.l	_global_counter
         02:DF0F  AC 5C 26   			ldy.h	_global_counter
 5830                        		__sgt_w.wi	241
         02:DF12  18         			clc			; Subtract integer+1 from Y:A.
         02:DF13  E9 F1      			sbc.l	#241
         02:DF15  98         			tya
         02:DF16  E9 00      			sbc.h	#241
         02:DF18  50 02      			bvc	!+
         02:DF1A  49 80      			eor	#$80		; +ve if Y:A > integer (signed).
         02:DF1C  49 80      	!:		eor	#$80
         02:DF1E  0A         			asl	a
 5831                        		__bfalse	.LL191
         02:DF1F  B0 03 4C A6			bcc	.LL191
         02:DF23  DF          
 5832                        	
 5833                        		.dbg	line,	"include\routines_INTRO.c", 455; {       
 5834                        	
 5835                        		.dbg	line,	"include\routines_INTRO.c", 456; if(letter_counter < 446)
 5836                        		__ld.wm		_letter_counter
         02:DF24  AD 5F 26   			lda.l	_letter_counter
         02:DF27  AC 60 26   			ldy.h	_letter_counter
 5837                        		__slt_w.wi	446
         02:DF2A  C9 BE      			cmp.l	#446		; Subtract integer from Y:A.
         02:DF2C  98         			tya
         02:DF2D  E9 01      			sbc.h	#446
         02:DF2F  50 02      			bvc	!+
         02:DF31  49 80      			eor	#$80		; -ve if Y:A < integer (signed).
         02:DF33  0A         	!:		asl	a
 5838                        		__bfalse	.LL192
         02:DF34  90 68      			bcc	.LL192
 5839                        	
 5840                        		.dbg	line,	"include\routines_INTRO.c", 457; {
 5841                        	
 5842                        		.dbg	line,	"include\routines_INTRO.c", 458; // EVERY 2 FRAMES //
 5843                        	
 5844                        		.dbg	line,	"include\routines_INTRO.c", 459; if(letter_counter%2 == FALSE)
 5845                        		__ld.wm		_letter_counter
         02:DF36  AD 5F 26   			lda.l	_letter_counter
         02:DF39  AC 60 26   			ldy.h	_letter_counter
 5846                        		__smod.wi	2
         02:DF3C  A2 02      			ldx.l	#2
         02:DF3E  86 00      			stx.l	<divisor
         02:DF40  A2 00      			ldx.h	#2
         02:DF42  86 01      			stx.h	<divisor
         02:DF44  20 CB E4   			jsr	__modsint
 5847                        		__not.wr
         02:DF47  84 00      			sty	__temp
         02:DF49  05 00      			ora	__temp
         02:DF4B  18         			clc
         02:DF4C  D0 01      			bne	!+
         02:DF4E  38         			sec
         02:DF4F             	!:
 5848                        		__bfalse	.LL193
         02:DF4F  90 4D      			bcc	.LL193
 5849                        	
 5850                        		.dbg	line,	"include\routines_INTRO.c", 460; {            
 5851                        	
 5852                        		.dbg	line,	"include\routines_INTRO.c", 461; put_char(TABLE_INTRO_TEXT[letter_index] , 2 + index_x , 4 + ((letter_index / 28) << 1));
 5853                        		__ldx.wmq	_letter_index
         02:DF51  AE 5D 26   			ldx.l	_letter_index
 5854                        		__ld.uax	_TABLE_INTRO_TEXT
         02:DF54  BD D8 60   			lda	_TABLE_INTRO_TEXT, x
         02:DF57  C2         			cly
 5855                        		__st.umq	_bl
         02:DF58  85 FA      			sta	_bl
 5856                        		__ld.wi		2
         02:DF5A  A9 02      			lda.l	#2
         02:DF5C  C2         			cly
 5857                        		__add.um	_index_x
         02:DF5D  18         			clc
         02:DF5E  6D FB 23   			adc	_index_x
         02:DF61  90 01      			bcc	!+
         02:DF63  C8         			iny
         02:DF64             	!:
 5858                        		__st.umq	_dil
         02:DF64  85 F0      			sta	_dil
 5859                        		__ld.wm		_letter_index
         02:DF66  AD 5D 26   			lda.l	_letter_index
         02:DF69  AC 5E 26   			ldy.h	_letter_index
 5860                        		__sdiv.wi	28
         02:DF6C  A2 1C      			ldx.l	#28
         02:DF6E  86 00      			stx.l	<divisor
         02:DF70  A2 00      			ldx.h	#28
         02:DF72  86 01      			stx.h	<divisor
         02:DF74  20 C3 E4   			jsr	__divsint
 5861                        		__asl.wi	1
         02:DF77  0A         			asl	a
         02:DF78  42         			say
         02:DF79  2A         			rol	a
         02:DF7A  42         			say
 5862                        		__add.wi	4
         02:DF7B  18         			clc
         02:DF7C  69 04      			adc.l	#4
         02:DF7E  90 01      			bcc	!+
         02:DF80  C8         			iny
         02:DF81             	!:
 5863                        		__st.umq	_dih
         02:DF81  85 F1      			sta	_dih
 5864                        		__call		_put_char.3
         02:DF83  20 77 FF   			call	_put_char.3
 5865                        	
 5866                        		.dbg	line,	"include\routines_INTRO.c", 463; letter_index += 1;
 5867                        		__add_st.wmiq	1, _letter_index
         02:DF86  EE 5D 26   			inc.l	_letter_index
         02:DF89  D0 03      			bne	!+
         02:DF8B  EE 5E 26   			inc.h	_letter_index
         02:DF8E             	!:
 5868                        	
 5869                        		.dbg	line,	"include\routines_INTRO.c", 464; index_x += 1;
 5870                        		__add_st.umiq	1, _index_x
         02:DF8E  EE FB 23   			inc	_index_x
 5871                        	
 5872                        		.dbg	line,	"include\routines_INTRO.c", 466; if(index_x == 28)
 5873                        		__ld.umq	_index_x
         02:DF91  AD FB 23   			lda	_index_x
 5874                        		__equ_b.uiq	28
         02:DF94  C9 1C      			cmp	#28
         02:DF96  F0 01      			beq	!+
         02:DF98  18         			clc
         02:DF99             	!:
 5875                        		__bfalse	.LL194
         02:DF99  90 03      			bcc	.LL194
 5876                        	
 5877                        		.dbg	line,	"include\routines_INTRO.c", 467; {
 5878                        	
 5879                        		.dbg	line,	"include\routines_INTRO.c", 468; index_x = 0;
 5880                        		__st.umiq	0, _index_x
         02:DF9B  9C FB 23   			stz	_index_x
 5881                        	
 5882                        		.dbg	line,	"include\routines_INTRO.c", 469; }
 5883                        	
 5884                        		.dbg	line,	"include\routines_INTRO.c", 470; }
 5885    02:DF9E             	.LL194:
 5886                        	
 5887                        		.dbg	line,	"include\routines_INTRO.c", 471; }
 5888    02:DF9E             	.LL193:
 5889                        	
 5890                        		.dbg	line,	"include\routines_INTRO.c", 473; letter_counter += 1;
 5891    02:DF9E             	.LL192:
 5892                        		__add_st.wmiq	1, _letter_counter
         02:DF9E  EE 5F 26   			inc.l	_letter_counter
         02:DFA1  D0 03      			bne	!+
         02:DFA3  EE 60 26   			inc.h	_letter_counter
         02:DFA6             	!:
 5893                        	
 5894                        		.dbg	line,	"include\routines_INTRO.c", 474; }
 5895                        	
 5896                        		.dbg	line,	"include\routines_INTRO.c", 477; global_counter += 1;
 5897    02:DFA6             	.LL191:
 5898                        		__add_st.wmiq	1, _global_counter
         02:DFA6  EE 5B 26   			inc.l	_global_counter
         02:DFA9  D0 03      			bne	!+
         02:DFAB  EE 5C 26   			inc.h	_global_counter
         02:DFAE             	!:
 5899                        	
 5900                        		.dbg	line,	"include\routines_INTRO.c", 478; }
 5901    02:DFAE             	.LL6:
 5902                        		__return	0
         02:DFAE  4C EF FF   			jmp	leave_proc
 5903                        		.dbg	clear
 5904                        		.endp
 5905               2300     		.bss
 5906    F8:2300             	__sequence_INTRO_end	.alias	leaf_stack
 5907               E31D     		.code
 5908                        		.pceas
 5909                        	
 5910                        		.dbg	line,	"Black_Tiger.c", 25; #include "include/routines_LEVELS.c"
 5911                        		.dbg	line,	"include\routines_LEVELS.c", 1; #include "huc.h"
 5912                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 1; #ifndef _hucc_legacy_h
 5913                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 2; #define _hucc_legacy_h
 5914                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 4; /****************************************************************************
 5915                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 5; ; ***************************************************************************
 5916                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 6; ;
 5917                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 7; ; huc.h
 5918                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 8; ;
 5919                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 9; ; HuCC wrapper file to include a default set of HuC-compatible functions.
 5920                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 10; ;
 5921                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 11; ; Copyright John Brandwood 2024.
 5922                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 12; ;
 5923                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 5924                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 5925                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 5926                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 16; ;
 5927                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 17; ; ***************************************************************************
 5928                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 18; ; ***************************************************************************
 5929                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 19; ;
 5930                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 20; ; When the HuCC compiler is invoked with the "--legacy" option to compile old
 5931                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 21; ; projects, then this "huc.h" file is automatically included.
 5932                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 22; ;
 5933                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 23; ; This file includes a set of the individual HuCC headers which correspond to
 5934                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 24; ; HuC's built-in functions and MagicKit library.
 5935                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 25; ;
 5936                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 26; ; New HuCC projects should, preferably, include the specific headers that are
 5937                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 27; ; needed, which will then allow them to replace parts of the standard library
 5938                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 28; ; with newer functions, or they can just manually include this "huc.h" file.
 5939                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 29; ;
 5940                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 30; ; ***************************************************************************
 5941                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 31; ; **************************************************************************/
 5942                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 33; #include "hucc-systemcard.h"
 5943                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 34; #include "hucc-baselib.h"
 5944                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 35; #include "hucc-gfx.h"
 5945                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 36; #include "hucc-old-scroll.h"
 5946                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 37; #include "hucc-old-spr.h"
 5947                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 38; #include "hucc-old-map.h"
 5948                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 39; #include "hucc-old-line.h"
 5949                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 41; #include <stdlib.h>
 5950                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 42; #include <string.h>
 5951                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 44; #endif // _hucc_legacy_h
 5952                        		.dbg	line,	"include\routines_LEVELS.c", 2; #include "hucc-scroll.h"
 5953                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 1; #ifndef _hucc_scroll_h
 5954                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 2; #define _hucc_scroll_h
 5955                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 4; /****************************************************************************
 5956                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 5; ; ***************************************************************************
 5957                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 6; ;
 5958                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 7; ; hucc-scroll.h
 5959                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 8; ;
 5960                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 9; ; Routines for a fast split-screen scrolling system.
 5961                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 10; ;
 5962                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 11; ; Copyright John Brandwood 2024.
 5963                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 12; ;
 5964                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 5965                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 5966                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 5967                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 16; ;
 5968                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 17; ; ***************************************************************************
 5969                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 18; ; ***************************************************************************
 5970                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 19; ;
 5971                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 20; ; The maximum number of splits for each screen layer is set in your project's
 5972                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 21; ; "hucc-config.inc" file, with the library having a limit of 128-per-layer.
 5973                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 22; ;
 5974                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 23; ; Your first active split must be defined to start at screen line 0, and then
 5975                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 24; ; the rest of the active splits must be in increasing line order to match the
 5976                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 25; ; way that the PC Engine displays the output image.
 5977                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 26; ;
 5978                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 27; ; You can have disabled splits interleaved with your active splits.
 5979                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 28; ;
 5980                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 29; ; Splits that are normally disabled can be used to create full screen effects
 5981                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 30; ; such as bouncing the screen up and down by adding blank areas at the top or
 5982                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 31; ; bottom of the screen, and then rapidly changing the height of those areas.
 5983                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 32; ;
 5984                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 33; ; ***************************************************************************
 5985                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 34; ; **************************************************************************/
 5986                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 36; // *************
 5987                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 37; // VDC bits for display_flags ...
 5988                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 38; // *************
 5989                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 40; #ifndef BKG_OFF
 5990                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 41; #define BKG_OFF 0x00
 5991                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 42; #endif
 5992                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 44; #ifndef SPR_OFF
 5993                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 45; #define SPR_OFF 0x00
 5994                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 46; #endif
 5995                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 48; #ifndef BKG_ON
 5996                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 49; #define BKG_ON 0x80
 5997                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 50; #endif
 5998                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 52; #ifndef SPR_ON
 5999                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 53; #define SPR_ON 0x40
 6000                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 54; #endif
 6001                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 56; // *************
 6002                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 57; // Functions in hucc-scroll.asm ...
 6003                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 58; // *************
 6004                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 60; #ifdef __HUCC__
 6005                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 62; #asmdef	HUCC_USES_NEW_SCROLL 1
 6006                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 64; extern void __fastcall scroll_split( unsigned char index<_al>, unsigned char screen_line<_ah>, unsigned int bat_x<_bx>, unsigned int bat_y<_cx>, unsigned char display_flags<_dl> );
 6007                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 65; extern void __fastcall sgx_scroll_split( unsigned char index<_al>, unsigned char screen_line<_ah>, unsigned int bat_x<_bx>, unsigned int bat_y<_cx>, unsigned char display_flags<_dl> );
 6008                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 67; extern void __fastcall disable_split( unsigned char index<acc> );
 6009                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 68; extern void __fastcall sgx_disable_split( unsigned char index<acc> );
 6010                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 70; extern void __fastcall __macro disable_all_splits( void );
 6011                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 71; extern void __fastcall __macro sgx_disable_all_splits( void );
 6012                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 73; #asm
 6013                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 74; .macro	_disable_all_splits
 6014                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 75; ldy	#HUCC_PCE_SPLITS - 1
 6015                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 76; !loop:		tya
 6016                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 77; call	_disable_split.1
 6017                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 78; dey
 6018                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 79; bpl	!loop-
 6019                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 80; .endm
 6020                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 82; .macro	_sgx_disable_all_splits
 6021                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 83; ldy	#HUCC_SGX_SPLITS - 1
 6022                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 84; !loop:		tya
 6023                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 85; call	_sgx_disable_split.1
 6024                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 86; dey
 6025                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 87; bpl	!loop-
 6026                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 88; .endm
 6027                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 89; #endasm
 6028                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 91; #endif // __HUCC__
 6029                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 93; #endif // _hucc_scroll_h
 6030                        		.dbg	line,	"include\routines_LEVELS.c", 3; #include "hucc-chrmap.h"
 6031                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 1; #ifndef _hucc_chrmap_h
 6032                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 2; #define _hucc_chrmap_h
 6033                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 4; /****************************************************************************
 6034                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 5; ; ***************************************************************************
 6035                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 6; ;
 6036                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 7; ; hucc-chrmap.h
 6037                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 8; ;
 6038                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 9; ; A simple map system based on 8x8 characters (aka "tiles") in BAT format.
 6039                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 10; ;
 6040                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 11; ; Copyright John Brandwood 2025.
 6041                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 12; ;
 6042                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 6043                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 6044                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 6045                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 16; ;
 6046                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 17; ; ***************************************************************************
 6047                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 18; ; ***************************************************************************
 6048                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 19; ;
 6049                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 20; ; The maximum X and Y size for chrmaps is 256 characters (2048 pixels).
 6050                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 21; ;
 6051                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 22; ; The maximum total size for a chrmap is 16KBytes, which allows for maps up
 6052                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 23; ; to 256x32 tiles (2048x256 pixels).
 6053                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 24; ;
 6054                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 25; ; ***************************************************************************
 6055                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 26; ; **************************************************************************/
 6056                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 28; // *************
 6057                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 29; // This code extends the blkmap library ...
 6058                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 30; // *************
 6059                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 32; #include "hucc-blkmap.h"
 6060                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 34; // *************
 6061                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 35; // Functions in chrmap.asm ...
 6062                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 36; // *************
 6063                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 38; #ifdef __HUCC__
 6064                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 40; #asmdef	HUCC_USES_CHRMAP 1
 6065                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 42; extern void __fastcall __nop set_chrmap( unsigned char __far *chrmap<vdc_map_bank:vdc_map_addr>, unsigned char tiles_w<vdc_map_line_w> );
 6066                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 44; extern void __fastcall draw_bat( void );
 6067                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 45; extern void __fastcall scroll_bat( void );
 6068                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 47; extern void __fastcall blit_bat( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 6069                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 49; #ifdef _SGX
 6070                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 51; extern void __fastcall __nop sgx_set_chrmap( unsigned char __far *chrmap<sgx_map_bank:sgx_map_addr>, unsigned char tiles_w<sgx_map_line_w> );
 6071                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 53; extern void __fastcall sgx_draw_bat( void );
 6072                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 54; extern void __fastcall sgx_scroll_bat( void );
 6073                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 56; extern void __fastcall sgx_blit_bat( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 6074                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 58; #endif
 6075                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 60; #endif // __HUCC__
 6076                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 62; #endif // _hucc_chrmap_h
 6077                        		.dbg	line,	"include\routines_LEVELS.c", 4; #include "hucc-blkmap.h"
 6078                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 1; #ifndef _hucc_blkmap_h
 6079                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 2; #define _hucc_blkmap_h
 6080                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 4; /****************************************************************************
 6081                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 5; ; ***************************************************************************
 6082                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 6; ;
 6083                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 7; ; hucc-blkmap.h
 6084                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 8; ;
 6085                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 9; ; A map system based on 16x16 meta-tiles (aka "blocks", aka CHR/BLK/MAP).
 6086                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 10; ;
 6087                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 11; ; Copyright John Brandwood 2025.
 6088                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 12; ;
 6089                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 6090                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 6091                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 6092                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 16; ;
 6093                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 17; ; ***************************************************************************
 6094                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 18; ; ***************************************************************************
 6095                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 19; ;
 6096                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 20; ; The maximum X and Y size for blkmaps is 128 blocks (2048 pixels).
 6097                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 21; ;
 6098                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 22; ; The maximum total size for a blkmap is 16KBytes, which allows for maps up
 6099                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 23; ; to 128x128 blocks (2048x2048 pixels).
 6100                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 24; ;
 6101                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 25; ; Huge multi-screen blkmaps are also supported (optionally).
 6102                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 26; ;
 6103                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 27; ; The maximum X and Y for multi-screen maps is 128 screens (32768 pixels).
 6104                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 28; ;
 6105                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 29; ; The maximum total size for a multi-screen map is 8KBytes, which allows for
 6106                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 30; ; a total of 1024 screens.
 6107                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 31; ;
 6108                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 32; ; ***************************************************************************
 6109                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 33; ; **************************************************************************/
 6110                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 35; // *************
 6111                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 36; // Functions in blkmap.asm ...
 6112                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 37; // *************
 6113                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 39; #ifdef __HUCC__
 6114                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 41; #asmdef	HUCC_USES_BLKMAP 1
 6115                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 43; // Current top-left of drawn map in pixels.
 6116                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 44; extern unsigned int   vdc_map_pxl_x;
 6117                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 45; extern unsigned int   vdc_map_pxl_y;
 6118                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 47; // Width and height to draw/scroll in characters (not tiles).
 6119                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 48; extern unsigned char  vdc_map_draw_w;
 6120                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 49; extern unsigned char  vdc_map_draw_h;
 6121                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 51; // Width of map (or multi-screen BAT) in tiles.
 6122                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 52; extern unsigned char  vdc_map_line_w;
 6123                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 54; // Width of map in screens (if multi-screen map).
 6124                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 55; extern unsigned char  vdc_map_scrn_w;
 6125                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 57; // Extra information returned by get_map_block() and sgx_get_map_block(),
 6126                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 58; // which are the collision flags and the mask/overlay sprite for the BLK.
 6127                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 59; extern unsigned char  map_blk_flag;
 6128                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 60; extern unsigned char  map_blk_mask;
 6129                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 62; extern unsigned char  vdc_scr_bank;
 6130                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 63; extern unsigned char *vdc_scr_addr;
 6131                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 65; extern unsigned char  vdc_map_bank;
 6132                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 66; extern unsigned char *vdc_map_addr;
 6133                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 68; extern unsigned char  vdc_blk_bank;
 6134                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 69; extern unsigned char *vdc_blk_addr;
 6135                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 71; extern unsigned char  vdc_tbl_bank;
 6136                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 72; extern unsigned char *vdc_tbl_addr;
 6137                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 74; extern void __fastcall set_blocks( unsigned char __far *blk_def<vdc_blk_bank:vdc_blk_addr>, unsigned char __far *flg_def<vdc_tbl_bank:vdc_tbl_addr>, unsigned char number_of_blocks<_al> );
 6138                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 75; extern void __fastcall __macro set_blkmap( unsigned char __far *blk_map<vdc_map_bank:vdc_map_addr>, unsigned char blocks_w<vdc_map_line_w> );
 6139                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 76; extern void __fastcall __macro set_multimap( unsigned char __far *multi_map<vdc_scr_bank:vdc_scr_addr>, unsigned char screens_w<vdc_map_scrn_w> );
 6140                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 78; extern void __fastcall draw_map( void );
 6141                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 79; extern void __fastcall scroll_map( void );
 6142                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 81; extern void __fastcall blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 6143                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 83; extern unsigned char __fastcall get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
 6144                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 85; #asm
 6145                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 86; .macro	_set_blkmap.2
 6146                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 87; stz	vdc_scr_bank
 6147                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 88; .endm
 6148                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 90; .macro	_set_multimap.2
 6149                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 91; lda	vdc_bat_width
 6150                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 92; lsr	a
 6151                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 93; sta	vdc_map_line_w
 6152                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 94; .endm
 6153                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 96; .macro	SCREEN
 6154                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 97; db	(((\1) & $1FFF) | $6000) >> 8, bank(\1)
 6155                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 98; db	(((\2) & $1FFF) | $4000) >> 8, bank(\2)
 6156                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 99; db	(((\3) & $1FFF) | $6000) >> 8, bank(\3)
 6157                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 100; dw	(\4)
 6158                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 101; .endm
 6159                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 102; #endasm
 6160                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 104; #ifdef _SGX
 6161                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 106; // Current top-left of drawn map in pixels.
 6162                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 107; extern unsigned int   sgx_map_pxl_x;
 6163                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 108; extern unsigned int   sgx_map_pxl_y;
 6164                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 110; // Width and height to draw/scroll in characters (not tiles).
 6165                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 111; extern unsigned char  sgx_map_draw_w;
 6166                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 112; extern unsigned char  sgx_map_draw_h;
 6167                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 114; // Width of map (or multi-screen BAT) in tiles.
 6168                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 115; extern unsigned char  sgx_map_line_w;
 6169                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 117; // Width of map in screens (if multi-screen map).
 6170                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 118; extern unsigned char  sgx_map_scrn_w;
 6171                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 120; extern unsigned char  sgx_scr_bank;
 6172                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 121; extern unsigned char *sgx_scr_addr;
 6173                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 123; extern unsigned char  sgx_map_bank;
 6174                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 124; extern unsigned char *sgx_map_addr;
 6175                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 126; extern unsigned char  sgx_blk_bank;
 6176                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 127; extern unsigned char *sgx_blk_addr;
 6177                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 129; extern unsigned char  sgx_tbl_bank;
 6178                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 130; extern unsigned char *sgx_tbl_addr;
 6179                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 132; extern void __fastcall sgx_set_blocks( unsigned char __far *blk_def<sgx_blk_bank:sgx_blk_addr>, unsigned char __far *flg_def<sgx_tbl_bank:sgx_tbl_addr>, unsigned char number_of_blocks<_al> );
 6180                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 133; extern void __fastcall __macro sgx_set_blkmap( unsigned char __far *blk_map<sgx_map_bank:sgx_map_addr>, unsigned char blocks_w<sgx_map_line_w> );
 6181                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 134; extern void __fastcall __macro sgx_set_multimap( unsigned char __far *multi_map<sgx_scr_bank:sgx_scr_addr>, unsigned char screens_w<sgx_map_scrn_w> );
 6182                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 136; extern void __fastcall sgx_draw_map( void );
 6183                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 137; extern void __fastcall sgx_scroll_map( void );
 6184                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 139; extern void __fastcall sgx_blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 6185                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 141; extern unsigned char __fastcall sgx_get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
 6186                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 143; #asm
 6187                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 144; .macro	_sgx_set_blkmap.2
 6188                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 145; stz	sgx_scr_bank
 6189                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 146; .endm
 6190                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 148; .macro	_sgx_set_multimap.2
 6191                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 149; lda	sgx_bat_width
 6192                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 150; lsr	a
 6193                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 151; sta	sgx_map_line_w
 6194                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 152; .endm
 6195                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 153; #endasm
 6196                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 155; #endif
 6197                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 157; #endif // __HUCC__
 6198                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 159; #endif // _hucc_blkmap_h
 6199                        		.dbg	line,	"include\routines_LEVELS.c", 13; void set_PLAYER_IDLE()
 6200                        		.dbg	line,	"include\routines_LEVELS.c", 14; {
 6201                        	;***********************
 6202                        	;***********************
 6203                        	
 6204                        		.hucc
 6205    20:C752             		.proc		_set_PLAYER_IDLE
 6206                        		__enter		_set_PLAYER_IDLE
 6207                        	
 6208                        		.dbg	line,	"include\routines_LEVELS.c", 15; player_counter_anim = 1;
 6209                        		__st.umiq	1, _player_counter_anim
         20:C752  A9 01      			lda.l	#1
         20:C754  8D 1E 23   			sta	_player_counter_anim
 6210                        	
 6211                        		.dbg	line,	"include\routines_LEVELS.c", 16; player_index_jump = 0;
 6212                        		__st.umiq	0, _player_index_jump
         20:C757  9C 1F 23   			stz	_player_index_jump
 6213                        	
 6214                        		.dbg	line,	"include\routines_LEVELS.c", 18; player_state = STATE_IDLE;
 6215                        		__st.umiq	0, _player_state
         20:C75A  9C 1B 23   			stz	_player_state
 6216                        	
 6217                        		.dbg	line,	"include\routines_LEVELS.c", 19; }
 6218    20:C75D             	.LL195:
 6219                        		__return	0
         20:C75D  4C EF FF   			jmp	leave_proc
 6220                        		.dbg	clear
 6221                        		.endp
 6222                        		.pceas
 6223                        	
 6224                        		.dbg	line,	"include\routines_LEVELS.c", 24; void hide_LEVEL_SPRITES()
 6225                        		.dbg	line,	"include\routines_LEVELS.c", 25; {
 6226                        	;***********************
 6227                        	;***********************
 6228                        	
 6229                        		.hucc
 6230    20:C68F             		.proc		_hide_LEVEL_SPRITES
 6231                        		__enter		_hide_LEVEL_SPRITES
 6232                        	
 6233                        		.dbg	line,	"include\routines_LEVELS.c", 26; char i;
 6234                        	
 6235                        		.dbg	line,	"include\routines_LEVELS.c", 28; for(i=0 ; i<64 ; i++)
 6236                        		__st.umiq	0, __hide_LEVEL_SPRITES_end - 1  /* i */
         20:C68F  9C 2D 2C   			stz	__hide_LEVEL_SPRITES_end - 1
 6237    20:C692             	.LL197:
 6238                        		__ld.umq	__hide_LEVEL_SPRITES_end - 1  /* i */
         20:C692  AD 2D 2C   			lda	__hide_LEVEL_SPRITES_end - 1
 6239                        		__ult_b.uiq	64
         20:C695  C9 40      			cmp	#64		; Subtract integer from A.
         20:C697  6A         			ror	a		; CC if A < integer.
         20:C698  49 80      			eor	#$80
         20:C69A  2A         			rol	a
 6240                        		__btrue		.LL199
         20:C69B  B0 07      			bcs	.LL199
 6241                        		__bra		.LL200
         20:C69D  80 10      			bra	.LL200
 6242    20:C69F             	.LL198:
 6243                        		__inc.umq	__hide_LEVEL_SPRITES_end - 1  /* i */
         20:C69F  EE 2D 2C   			inc	__hide_LEVEL_SPRITES_end - 1
 6244                        		__bra		.LL197
         20:C6A2  80 EE      			bra	.LL197
 6245    20:C6A4             	.LL199:
 6246                        	
 6247                        		.dbg	line,	"include\routines_LEVELS.c", 29; {
 6248                        	
 6249                        		.dbg	line,	"include\routines_LEVELS.c", 30; spr_set(i);
 6250                        		__ld.umq	__hide_LEVEL_SPRITES_end - 1  /* i */
         20:C6A4  AD 2D 2C   			lda	__hide_LEVEL_SPRITES_end - 1
 6251                        		__call		_spr_set.1
         20:C6A7  20 F1 E7   			call	_spr_set.1
 6252                        	
 6253                        		.dbg	line,	"include\routines_LEVELS.c", 31; spr_hide();
 6254                        		__call		_spr_hide
         20:C6AA  20 0C E8   			call	_spr_hide
 6255                        	
 6256                        		.dbg	line,	"include\routines_LEVELS.c", 32; }
 6257                        		__bra		.LL198
         20:C6AD  80 F0      			bra	.LL198
 6258    20:C6AF             	.LL200:
 6259                        	
 6260                        		.dbg	line,	"include\routines_LEVELS.c", 33; }
 6261    20:C6AF             	.LL196:
 6262                        		__return	0
         20:C6AF  4C EF FF   			jmp	leave_proc
 6263                        		.dbg	clear
 6264                        		.endp
 6265               2300     		.bss
 6266    F8:2300             	__hide_LEVEL_SPRITES_end	.alias	leaf_stack
 6267               E31D     		.code
 6268                        		.pceas
 6269                        	
 6270                        		.dbg	line,	"include\routines_LEVELS.c", 38; //-----------------------------------------------------------------------------//
 6271                        		.dbg	line,	"include\routines_LEVELS.c", 39; //                                     HUD                                     //
 6272                        		.dbg	line,	"include\routines_LEVELS.c", 40; //-----------------------------------------------------------------------------//
 6273                        		.dbg	line,	"include\routines_LEVELS.c", 42; void display_LIFE()
 6274                        		.dbg	line,	"include\routines_LEVELS.c", 43; {
 6275                        	;***********************
 6276                        	;***********************
 6277                        	
 6278                        		.hucc
 6279    20:C73A             		.proc		_display_LIFE
 6280                        		__enter		_display_LIFE
 6281                        	
 6282                        		.dbg	line,	"include\routines_LEVELS.c", 44; put_number(life_amount,1,1,0);
 6283                        		__ld.um		_life_amount
         20:C73A  AD 2F 23   			lda	_life_amount
         20:C73D  C2         			cly
 6284                        		__st.wmq	_bx
         20:C73E  85 FA      			sta.l	_bx
         20:C740  84 FB      			sty.h	_bx
 6285                        		__st.umiq	1, _cl
         20:C742  A9 01      			lda.l	#1
         20:C744  85 FC      			sta	_cl
 6286                        		__st.umiq	1, _dil
         20:C746  A9 01      			lda.l	#1
         20:C748  85 F0      			sta	_dil
 6287                        		__st.umiq	0, _dih
         20:C74A  64 F1      			stz	_dih
 6288                        		__call		_put_number.4
         20:C74C  20 6D FF   			call	_put_number.4
 6289                        	
 6290                        		.dbg	line,	"include\routines_LEVELS.c", 45; }
 6291    20:C74F             	.LL201:
 6292                        		__return	0
         20:C74F  4C EF FF   			jmp	leave_proc
 6293                        		.dbg	clear
 6294                        		.endp
 6295                        		.pceas
 6296                        	
 6297                        		.dbg	line,	"include\routines_LEVELS.c", 48; void display_SCORE()
 6298                        		.dbg	line,	"include\routines_LEVELS.c", 49; {
 6299                        	;***********************
 6300                        	;***********************
 6301                        	
 6302                        		.hucc
 6303    20:C6B2             		.proc		_display_SCORE
 6304                        		__enter		_display_SCORE
 6305                        	
 6306                        		.dbg	line,	"include\routines_LEVELS.c", 50; put_number(score,6,14,1);
 6307                        		__ld.wm		_score
         20:C6B2  AD 63 26   			lda.l	_score
         20:C6B5  AC 64 26   			ldy.h	_score
 6308                        		__st.wmq	_bx
         20:C6B8  85 FA      			sta.l	_bx
         20:C6BA  84 FB      			sty.h	_bx
 6309                        		__st.umiq	6, _cl
         20:C6BC  A9 06      			lda.l	#6
         20:C6BE  85 FC      			sta	_cl
 6310                        		__st.umiq	14, _dil
         20:C6C0  A9 0E      			lda.l	#14
         20:C6C2  85 F0      			sta	_dil
 6311                        		__st.umiq	1, _dih
         20:C6C4  A9 01      			lda.l	#1
         20:C6C6  85 F1      			sta	_dih
 6312                        		__call		_put_number.4
         20:C6C8  20 6D FF   			call	_put_number.4
 6313                        	
 6314                        		.dbg	line,	"include\routines_LEVELS.c", 51; }
 6315    20:C6CB             	.LL202:
 6316                        		__return	0
         20:C6CB  4C EF FF   			jmp	leave_proc
 6317                        		.dbg	clear
 6318                        		.endp
 6319                        		.pceas
 6320                        	
 6321                        		.dbg	line,	"include\routines_LEVELS.c", 54; void display_TIME_LEVEL()
 6322                        		.dbg	line,	"include\routines_LEVELS.c", 55; {
 6323                        	;***********************
 6324                        	;***********************
 6325                        	
 6326                        		.hucc
 6327    1F:DEE9             		.proc		_display_TIME_LEVEL
 6328                        		__enter		_display_TIME_LEVEL
 6329                        	
 6330                        		.dbg	line,	"include\routines_LEVELS.c", 56; put_number(minutes,1,1,3);
 6331                        		__ld.um		_minutes
         1F:DEE9  AD 33 23   			lda	_minutes
         1F:DEEC  C2         			cly
 6332                        		__st.wmq	_bx
         1F:DEED  85 FA      			sta.l	_bx
         1F:DEEF  84 FB      			sty.h	_bx
 6333                        		__st.umiq	1, _cl
         1F:DEF1  A9 01      			lda.l	#1
         1F:DEF3  85 FC      			sta	_cl
 6334                        		__st.umiq	1, _dil
         1F:DEF5  A9 01      			lda.l	#1
         1F:DEF7  85 F0      			sta	_dil
 6335                        		__st.umiq	3, _dih
         1F:DEF9  A9 03      			lda.l	#3
         1F:DEFB  85 F1      			sta	_dih
 6336                        		__call		_put_number.4
         1F:DEFD  20 6D FF   			call	_put_number.4
 6337                        	
 6338                        		.dbg	line,	"include\routines_LEVELS.c", 58; if(seconds < 10)
 6339                        		__ld.umq	_seconds
         1F:DF00  AD 34 23   			lda	_seconds
 6340                        		__ult_b.uiq	10
         1F:DF03  C9 0A      			cmp	#10		; Subtract integer from A.
         1F:DF05  6A         			ror	a		; CC if A < integer.
         1F:DF06  49 80      			eor	#$80
         1F:DF08  2A         			rol	a
 6341                        		__bfalse	.LL204
         1F:DF09  90 2C      			bcc	.LL204
 6342                        	
 6343                        		.dbg	line,	"include\routines_LEVELS.c", 59; {
 6344                        	
 6345                        		.dbg	line,	"include\routines_LEVELS.c", 60; put_number(0,1,3,3);
 6346                        		__st.wmiq	0, _bx
         1F:DF0B  64 FA      			stz.l	_bx
         1F:DF0D  64 FB      			stz.h	_bx
 6347                        		__st.umiq	1, _cl
         1F:DF0F  A9 01      			lda.l	#1
         1F:DF11  85 FC      			sta	_cl
 6348                        		__st.umiq	3, _dil
         1F:DF13  A9 03      			lda.l	#3
         1F:DF15  85 F0      			sta	_dil
 6349                        		__st.umiq	3, _dih
         1F:DF17  A9 03      			lda.l	#3
         1F:DF19  85 F1      			sta	_dih
 6350                        		__call		_put_number.4
         1F:DF1B  20 6D FF   			call	_put_number.4
 6351                        	
 6352                        		.dbg	line,	"include\routines_LEVELS.c", 61; put_number(seconds,1,4,3);
 6353                        		__ld.um		_seconds
         1F:DF1E  AD 34 23   			lda	_seconds
         1F:DF21  C2         			cly
 6354                        		__st.wmq	_bx
         1F:DF22  85 FA      			sta.l	_bx
         1F:DF24  84 FB      			sty.h	_bx
 6355                        		__st.umiq	1, _cl
         1F:DF26  A9 01      			lda.l	#1
         1F:DF28  85 FC      			sta	_cl
 6356                        		__st.umiq	4, _dil
         1F:DF2A  A9 04      			lda.l	#4
         1F:DF2C  85 F0      			sta	_dil
 6357                        		__st.umiq	3, _dih
         1F:DF2E  A9 03      			lda.l	#3
         1F:DF30  85 F1      			sta	_dih
 6358                        		__call		_put_number.4
         1F:DF32  20 6D FF   			call	_put_number.4
 6359                        	
 6360                        		.dbg	line,	"include\routines_LEVELS.c", 62; }
 6361                        	
 6362                        		.dbg	line,	"include\routines_LEVELS.c", 64; else
 6363                        		__bra		.LL205
         1F:DF35  80 17      			bra	.LL205
 6364    1F:DF37             	.LL204:
 6365                        	
 6366                        		.dbg	line,	"include\routines_LEVELS.c", 65; {
 6367                        	
 6368                        		.dbg	line,	"include\routines_LEVELS.c", 66; put_number(seconds,2,3,3);
 6369                        		__ld.um		_seconds
         1F:DF37  AD 34 23   			lda	_seconds
         1F:DF3A  C2         			cly
 6370                        		__st.wmq	_bx
         1F:DF3B  85 FA      			sta.l	_bx
         1F:DF3D  84 FB      			sty.h	_bx
 6371                        		__st.umiq	2, _cl
         1F:DF3F  A9 02      			lda.l	#2
         1F:DF41  85 FC      			sta	_cl
 6372                        		__st.umiq	3, _dil
         1F:DF43  A9 03      			lda.l	#3
         1F:DF45  85 F0      			sta	_dil
 6373                        		__st.umiq	3, _dih
         1F:DF47  A9 03      			lda.l	#3
         1F:DF49  85 F1      			sta	_dih
 6374                        		__call		_put_number.4
         1F:DF4B  20 6D FF   			call	_put_number.4
 6375                        	
 6376                        		.dbg	line,	"include\routines_LEVELS.c", 67; }
 6377    1F:DF4E             	.LL205:
 6378                        	
 6379                        		.dbg	line,	"include\routines_LEVELS.c", 69; time_counter += 1;
 6380                        		__add_st.umiq	1, _time_counter
         1F:DF4E  EE 35 23   			inc	_time_counter
 6381                        	
 6382                        		.dbg	line,	"include\routines_LEVELS.c", 71; if(time_counter == 60)
 6383                        		__ld.umq	_time_counter
         1F:DF51  AD 35 23   			lda	_time_counter
 6384                        		__equ_b.uiq	60
         1F:DF54  C9 3C      			cmp	#60
         1F:DF56  F0 01      			beq	!+
         1F:DF58  18         			clc
         1F:DF59             	!:
 6385                        		__bfalse	.LL206
         1F:DF59  90 28      			bcc	.LL206
 6386                        	
 6387                        		.dbg	line,	"include\routines_LEVELS.c", 72; {
 6388                        	
 6389                        		.dbg	line,	"include\routines_LEVELS.c", 73; time_counter = 0;
 6390                        		__st.umiq	0, _time_counter
         1F:DF5B  9C 35 23   			stz	_time_counter
 6391                        	
 6392                        		.dbg	line,	"include\routines_LEVELS.c", 75; if(seconds > 0)
 6393                        		__ld.umq	_seconds
         1F:DF5E  AD 34 23   			lda	_seconds
 6394                        		__ugt_b.uiq	0
         1F:DF61  18         			clc			; Subtract integer+1 from A.
         1F:DF62  E9 00      			sbc	#0		; CS if A > integer.
 6395                        		__bfalse	.LL207
         1F:DF64  90 05      			bcc	.LL207
 6396                        	
 6397                        		.dbg	line,	"include\routines_LEVELS.c", 76; {
 6398                        	
 6399                        		.dbg	line,	"include\routines_LEVELS.c", 77; seconds -= 1;
 6400                        		__sub_st.umiq	1, _seconds
         1F:DF66  CE 34 23   			dec	_seconds
 6401                        	
 6402                        		.dbg	line,	"include\routines_LEVELS.c", 78; }
 6403                        	
 6404                        		.dbg	line,	"include\routines_LEVELS.c", 80; else
 6405                        		__bra		.LL208
         1F:DF69  80 18      			bra	.LL208
 6406    1F:DF6B             	.LL207:
 6407                        	
 6408                        		.dbg	line,	"include\routines_LEVELS.c", 81; {
 6409                        	
 6410                        		.dbg	line,	"include\routines_LEVELS.c", 82; if(minutes > 0)
 6411                        		__ld.umq	_minutes
         1F:DF6B  AD 33 23   			lda	_minutes
 6412                        		__ugt_b.uiq	0
         1F:DF6E  18         			clc			; Subtract integer+1 from A.
         1F:DF6F  E9 00      			sbc	#0		; CS if A > integer.
 6413                        		__bfalse	.LL209
         1F:DF71  90 0A      			bcc	.LL209
 6414                        	
 6415                        		.dbg	line,	"include\routines_LEVELS.c", 83; {
 6416                        	
 6417                        		.dbg	line,	"include\routines_LEVELS.c", 84; seconds = 59;
 6418                        		__st.umiq	59, _seconds
         1F:DF73  A9 3B      			lda.l	#59
         1F:DF75  8D 34 23   			sta	_seconds
 6419                        	
 6420                        		.dbg	line,	"include\routines_LEVELS.c", 85; minutes -= 1;
 6421                        		__sub_st.umiq	1, _minutes
         1F:DF78  CE 33 23   			dec	_minutes
 6422                        	
 6423                        		.dbg	line,	"include\routines_LEVELS.c", 86; }
 6424                        	
 6425                        		.dbg	line,	"include\routines_LEVELS.c", 88; else
 6426                        		__bra		.LL210
         1F:DF7B  80 06      			bra	.LL210
 6427    1F:DF7D             	.LL209:
 6428                        	
 6429                        		.dbg	line,	"include\routines_LEVELS.c", 89; {
 6430                        	
 6431                        		.dbg	line,	"include\routines_LEVELS.c", 90; seconds = 0;
 6432                        		__st.umiq	0, _seconds
         1F:DF7D  9C 34 23   			stz	_seconds
 6433                        	
 6434                        		.dbg	line,	"include\routines_LEVELS.c", 91; minutes = 0;
 6435                        		__st.umiq	0, _minutes
         1F:DF80  9C 33 23   			stz	_minutes
 6436                        	
 6437                        		.dbg	line,	"include\routines_LEVELS.c", 92; // TIME OUT //
 6438                        	
 6439                        		.dbg	line,	"include\routines_LEVELS.c", 93; }
 6440    1F:DF83             	.LL210:
 6441                        	
 6442                        		.dbg	line,	"include\routines_LEVELS.c", 94; }
 6443    1F:DF83             	.LL208:
 6444                        	
 6445                        		.dbg	line,	"include\routines_LEVELS.c", 95; } 
 6446                        	
 6447                        		.dbg	line,	"include\routines_LEVELS.c", 96; }
 6448    1F:DF83             	.LL206:
 6449    1F:DF83             	.LL203:
 6450                        		__return	0
         1F:DF83  4C EF FF   			jmp	leave_proc
 6451                        		.dbg	clear
 6452                        		.endp
 6453                        		.pceas
 6454                        	
 6455                        		.dbg	line,	"include\routines_LEVELS.c", 99; void display_KEY()
 6456                        		.dbg	line,	"include\routines_LEVELS.c", 100; {
 6457                        	;***********************
 6458                        	;***********************
 6459                        	
 6460                        		.hucc
 6461    20:C706             		.proc		_display_KEY
 6462                        		__enter		_display_KEY
 6463                        	
 6464                        		.dbg	line,	"include\routines_LEVELS.c", 101; put_number(key_amount,2,7,27);
 6465                        		__ld.um		_key_amount
         20:C706  AD 31 23   			lda	_key_amount
         20:C709  C2         			cly
 6466                        		__st.wmq	_bx
         20:C70A  85 FA      			sta.l	_bx
         20:C70C  84 FB      			sty.h	_bx
 6467                        		__st.umiq	2, _cl
         20:C70E  A9 02      			lda.l	#2
         20:C710  85 FC      			sta	_cl
 6468                        		__st.umiq	7, _dil
         20:C712  A9 07      			lda.l	#7
         20:C714  85 F0      			sta	_dil
 6469                        		__st.umiq	27, _dih
         20:C716  A9 1B      			lda.l	#27
         20:C718  85 F1      			sta	_dih
 6470                        		__call		_put_number.4
         20:C71A  20 6D FF   			call	_put_number.4
 6471                        	
 6472                        		.dbg	line,	"include\routines_LEVELS.c", 102; }
 6473    20:C71D             	.LL211:
 6474                        		__return	0
         20:C71D  4C EF FF   			jmp	leave_proc
 6475                        		.dbg	clear
 6476                        		.endp
 6477                        		.pceas
 6478                        	
 6479                        		.dbg	line,	"include\routines_LEVELS.c", 105; void display_POTION()
 6480                        		.dbg	line,	"include\routines_LEVELS.c", 106; {
 6481                        	;***********************
 6482                        	;***********************
 6483                        	
 6484                        		.hucc
 6485    20:C720             		.proc		_display_POTION
 6486                        		__enter		_display_POTION
 6487                        	
 6488                        		.dbg	line,	"include\routines_LEVELS.c", 107; put_number(potion_amount,2,19,27);
 6489                        		__ld.um		_potion_amount
         20:C720  AD 32 23   			lda	_potion_amount
         20:C723  C2         			cly
 6490                        		__st.wmq	_bx
         20:C724  85 FA      			sta.l	_bx
         20:C726  84 FB      			sty.h	_bx
 6491                        		__st.umiq	2, _cl
         20:C728  A9 02      			lda.l	#2
         20:C72A  85 FC      			sta	_cl
 6492                        		__st.umiq	19, _dil
         20:C72C  A9 13      			lda.l	#19
         20:C72E  85 F0      			sta	_dil
 6493                        		__st.umiq	27, _dih
         20:C730  A9 1B      			lda.l	#27
         20:C732  85 F1      			sta	_dih
 6494                        		__call		_put_number.4
         20:C734  20 6D FF   			call	_put_number.4
 6495                        	
 6496                        		.dbg	line,	"include\routines_LEVELS.c", 108; }
 6497    20:C737             	.LL212:
 6498                        		__return	0
         20:C737  4C EF FF   			jmp	leave_proc
 6499                        		.dbg	clear
 6500                        		.endp
 6501                        		.pceas
 6502                        	
 6503                        		.dbg	line,	"include\routines_LEVELS.c", 111; void display_ZENNY()
 6504                        		.dbg	line,	"include\routines_LEVELS.c", 112; {
 6505                        	;***********************
 6506                        	;***********************
 6507                        	
 6508                        		.hucc
 6509    20:C6CE             		.proc		_display_ZENNY
 6510                        		__enter		_display_ZENNY
 6511                        	
 6512                        		.dbg	line,	"include\routines_LEVELS.c", 113; put_number(zenny_amount,5,26,4);
 6513                        		__ld.wm		_zenny_amount
         20:C6CE  AD 61 26   			lda.l	_zenny_amount
         20:C6D1  AC 62 26   			ldy.h	_zenny_amount
 6514                        		__st.wmq	_bx
         20:C6D4  85 FA      			sta.l	_bx
         20:C6D6  84 FB      			sty.h	_bx
 6515                        		__st.umiq	5, _cl
         20:C6D8  A9 05      			lda.l	#5
         20:C6DA  85 FC      			sta	_cl
 6516                        		__st.umiq	26, _dil
         20:C6DC  A9 1A      			lda.l	#26
         20:C6DE  85 F0      			sta	_dil
 6517                        		__st.umiq	4, _dih
         20:C6E0  A9 04      			lda.l	#4
         20:C6E2  85 F1      			sta	_dih
 6518                        		__call		_put_number.4
         20:C6E4  20 6D FF   			call	_put_number.4
 6519                        	
 6520                        		.dbg	line,	"include\routines_LEVELS.c", 114; }
 6521    20:C6E7             	.LL213:
 6522                        		__return	0
         20:C6E7  4C EF FF   			jmp	leave_proc
 6523                        		.dbg	clear
 6524                        		.endp
 6525                        		.pceas
 6526                        	
 6527                        		.dbg	line,	"include\routines_LEVELS.c", 119; //-----------------------------------------------------------------------------//
 6528                        		.dbg	line,	"include\routines_LEVELS.c", 120; //                                  SCROLLING                                  //
 6529                        		.dbg	line,	"include\routines_LEVELS.c", 121; //-----------------------------------------------------------------------------//
 6530                        		.dbg	line,	"include\routines_LEVELS.c", 123; void scroll_object()
 6531                        		.dbg	line,	"include\routines_LEVELS.c", 124; {
 6532                        	;***********************
 6533                        	;***********************
 6534                        	
 6535                        		.hucc
 6536    1F:D26C             		.proc		_scroll_object
 6537                        		__enter		_scroll_object
 6538                        	
 6539                        		.dbg	line,	"include\routines_LEVELS.c", 125; char i;
 6540                        	
 6541                        		.dbg	line,	"include\routines_LEVELS.c", 126; onscreen_object_number = 0;
 6542                        		__st.umiq	0, _onscreen_object_number
         1F:D26C  9C 3A 23   			stz	_onscreen_object_number
 6543                        	
 6544                        		.dbg	line,	"include\routines_LEVELS.c", 128; for(i=0 ; i<level_object_number ; i++)
 6545                        		__st.umiq	0, __scroll_object_end - 1  /* i */
         1F:D26F  9C 2D 2C   			stz	__scroll_object_end - 1
 6546    1F:D272             	.LL215:
 6547                        		__ld.umq	__scroll_object_end - 1  /* i */
         1F:D272  AD 2D 2C   			lda	__scroll_object_end - 1
 6548                        		__ult_b.umq	_level_object_number
         1F:D275  CD 39 23   			cmp	_level_object_number		; Subtract memory from A.
         1F:D278  6A         			ror	a		; CC if A < memory.
         1F:D279  49 80      			eor	#$80
         1F:D27B  2A         			rol	a
 6549                        		__btrue		.LL217
         1F:D27C  B0 08      			bcs	.LL217
 6550                        		__bra		.LL218
         1F:D27E  4C CC D3   			bra	.LL218
 6551    1F:D281             	.LL216:
 6552                        		__inc.umq	__scroll_object_end - 1  /* i */
         1F:D281  EE 2D 2C   			inc	__scroll_object_end - 1
 6553                        		__bra		.LL215
         1F:D284  80 EC      			bra	.LL215
 6554    1F:D286             	.LL217:
 6555                        	
 6556                        		.dbg	line,	"include\routines_LEVELS.c", 129; {
 6557                        	
 6558                        		.dbg	line,	"include\routines_LEVELS.c", 130; if(list_object_state[i] != STATE_FREE)
 6559                        		__ldx.umq	__scroll_object_end - 1  /* i */
         1F:D286  AE 2D 2C   			ldx	__scroll_object_end - 1
 6560                        		__tst.uax	_list_object_state
         1F:D289  BD 54 23   			lda	_list_object_state, x
         1F:D28C  C9 01      			cmp	#1
 6561                        		__bfalse	.LL219
         1F:D28E  90 F1      			bcc	.LL219
 6562                        	
 6563                        		.dbg	line,	"include\routines_LEVELS.c", 131; {
 6564                        	
 6565                        		.dbg	line,	"include\routines_LEVELS.c", 132; char scroll_allowed = FALSE;
 6566                        		__st.umiq	0, __scroll_object_end - 2  /* scroll_allowed */
         1F:D290  9C 2C 2C   			stz	__scroll_object_end - 2
 6567                        	
 6568                        		.dbg	line,	"include\routines_LEVELS.c", 133; 
 6569                        	
 6570                        		.dbg	line,	"include\routines_LEVELS.c", 134; // IF OBJECT X POSITION IS INFERIOR TO SCREEN RIGHT SIDE //
 6571                        	
 6572                        		.dbg	line,	"include\routines_LEVELS.c", 135; if(list_object_x_pos_ref[i] < sgx_map_pxl_x + 256)
 6573                        		__ld.wm		_sgx_map_pxl_x
         1F:D293  AD E4 26   			lda.l	_sgx_map_pxl_x
         1F:D296  AC E5 26   			ldy.h	_sgx_map_pxl_x
 6574                        		__add.wi	256
         1F:D299  18         			clc
         1F:D29A  69 00      			adc.l	#256
         1F:D29C  42         			say
         1F:D29D  69 01      			adc.h	#256
         1F:D29F  42         			say
 6575                        		__ld2x.um	__scroll_object_end - 1  /* i */
         1F:D2A0  AA         			tax
         1F:D2A1  AD 2D 2C   			lda	__scroll_object_end - 1
         1F:D2A4  0A         			asl	a
         1F:D2A5  22         			sax
 6576                        		__ugt_w.wax	_list_object_x_pos_ref
         1F:D2A6  18         			clc			; Subtract memory+1 from Y:A.
         1F:D2A7  FD 6F 25   			sbc.l	_list_object_x_pos_ref, x
         1F:D2AA  98         			tya
         1F:D2AB  FD 70 25   			sbc.h	_list_object_x_pos_ref, x		; CS if Y:A > memory.
 6577                        		__bfalse	.LL220
         1F:D2AE  B0 03 4C 33			bcc	.LL220
         1F:D2B2  D3          
 6578                        	
 6579                        		.dbg	line,	"include\routines_LEVELS.c", 136; {
 6580                        	
 6581                        		.dbg	line,	"include\routines_LEVELS.c", 137; // IF OBJECT X POSITION IS SUPERIOR TO SCREEN LEFT SIDE PLUS 16 PX //
 6582                        	
 6583                        		.dbg	line,	"include\routines_LEVELS.c", 138; if(list_object_x_pos_ref[i] - sgx_map_pxl_x + 16 > 0)
 6584                        		__ld2x.umq	__scroll_object_end - 1  /* i */
         1F:D2B3  AD 2D 2C   			lda	__scroll_object_end - 1
         1F:D2B6  0A         			asl	a
         1F:D2B7  AA         			tax
 6585                        		__ld.wax	_list_object_x_pos_ref
         1F:D2B8  BD 6F 25   			lda.l	_list_object_x_pos_ref, x
         1F:D2BB  BC 70 25   			ldy.h	_list_object_x_pos_ref, x
 6586                        		__sub.wm	_sgx_map_pxl_x
         1F:D2BE  38         			sec
         1F:D2BF  ED E4 26   			sbc.l	_sgx_map_pxl_x
         1F:D2C2  42         			say
         1F:D2C3  ED E5 26   			sbc.h	_sgx_map_pxl_x
         1F:D2C6  42         			say
 6587                        		__add.wi	16
         1F:D2C7  18         			clc
         1F:D2C8  69 10      			adc.l	#16
         1F:D2CA  90 01      			bcc	!+
         1F:D2CC  C8         			iny
         1F:D2CD             	!:
 6588                        		__sgt_w.wi	0
         1F:D2CD  18         			clc			; Subtract integer+1 from Y:A.
         1F:D2CE  E9 00      			sbc.l	#0
         1F:D2D0  98         			tya
         1F:D2D1  E9 00      			sbc.h	#0
         1F:D2D3  50 02      			bvc	!+
         1F:D2D5  49 80      			eor	#$80		; +ve if Y:A > integer (signed).
         1F:D2D7  49 80      	!:		eor	#$80
         1F:D2D9  0A         			asl	a
 6589                        		__bfalse	.LL221
         1F:D2DA  90 57      			bcc	.LL221
 6590                        	
 6591                        		.dbg	line,	"include\routines_LEVELS.c", 139; {
 6592                        	
 6593                        		.dbg	line,	"include\routines_LEVELS.c", 140; // IF OBJECT Y POSITION IS INFERIOR TO SCREEN BOTTOM //
 6594                        	
 6595                        		.dbg	line,	"include\routines_LEVELS.c", 141; if(list_object_y_pos_ref[i] < sgx_map_pxl_y + 224)
 6596                        		__ld.wm		_sgx_map_pxl_y
         1F:D2DC  AD E6 26   			lda.l	_sgx_map_pxl_y
         1F:D2DF  AC E7 26   			ldy.h	_sgx_map_pxl_y
 6597                        		__add.wi	224
         1F:D2E2  18         			clc
         1F:D2E3  69 E0      			adc.l	#224
         1F:D2E5  90 01      			bcc	!+
         1F:D2E7  C8         			iny
         1F:D2E8             	!:
 6598                        		__ld2x.um	__scroll_object_end - 1  /* i */
         1F:D2E8  AA         			tax
         1F:D2E9  AD 2D 2C   			lda	__scroll_object_end - 1
         1F:D2EC  0A         			asl	a
         1F:D2ED  22         			sax
 6599                        		__ugt_w.wax	_list_object_y_pos_ref
         1F:D2EE  18         			clc			; Subtract memory+1 from Y:A.
         1F:D2EF  FD A1 25   			sbc.l	_list_object_y_pos_ref, x
         1F:D2F2  98         			tya
         1F:D2F3  FD A2 25   			sbc.h	_list_object_y_pos_ref, x		; CS if Y:A > memory.
 6600                        		__bfalse	.LL222
         1F:D2F6  90 3B      			bcc	.LL222
 6601                        	
 6602                        		.dbg	line,	"include\routines_LEVELS.c", 142; {
 6603                        	
 6604                        		.dbg	line,	"include\routines_LEVELS.c", 143; // IF OBJECT Y POSITION IS SUPERIOR TO SCREEN TOP PLUS 16 PX //
 6605                        	
 6606                        		.dbg	line,	"include\routines_LEVELS.c", 144; if(list_object_y_pos_ref[i] - sgx_map_pxl_y + 16 > 0)
 6607                        		__ld2x.umq	__scroll_object_end - 1  /* i */
         1F:D2F8  AD 2D 2C   			lda	__scroll_object_end - 1
         1F:D2FB  0A         			asl	a
         1F:D2FC  AA         			tax
 6608                        		__ld.wax	_list_object_y_pos_ref
         1F:D2FD  BD A1 25   			lda.l	_list_object_y_pos_ref, x
         1F:D300  BC A2 25   			ldy.h	_list_object_y_pos_ref, x
 6609                        		__sub.wm	_sgx_map_pxl_y
         1F:D303  38         			sec
         1F:D304  ED E6 26   			sbc.l	_sgx_map_pxl_y
         1F:D307  42         			say
         1F:D308  ED E7 26   			sbc.h	_sgx_map_pxl_y
         1F:D30B  42         			say
 6610                        		__add.wi	16
         1F:D30C  18         			clc
         1F:D30D  69 10      			adc.l	#16
         1F:D30F  90 01      			bcc	!+
         1F:D311  C8         			iny
         1F:D312             	!:
 6611                        		__sgt_w.wi	0
         1F:D312  18         			clc			; Subtract integer+1 from Y:A.
         1F:D313  E9 00      			sbc.l	#0
         1F:D315  98         			tya
         1F:D316  E9 00      			sbc.h	#0
         1F:D318  50 02      			bvc	!+
         1F:D31A  49 80      			eor	#$80		; +ve if Y:A > integer (signed).
         1F:D31C  49 80      	!:		eor	#$80
         1F:D31E  0A         			asl	a
 6612                        		__bfalse	.LL223
         1F:D31F  90 12      			bcc	.LL223
 6613                        	
 6614                        		.dbg	line,	"include\routines_LEVELS.c", 145; {
 6615                        	
 6616                        		.dbg	line,	"include\routines_LEVELS.c", 146; // WE STORE THE OBJECT ID //
 6617                        	
 6618                        		.dbg	line,	"include\routines_LEVELS.c", 147; list_onscreen_object[onscreen_object_number] = i;
 6619                        		__ldx.umq	_onscreen_object_number
         1F:D321  AE 3A 23   			ldx	_onscreen_object_number
 6620                        		__ld.um		__scroll_object_end - 1  /* i */
         1F:D324  AD 2D 2C   			lda	__scroll_object_end - 1
         1F:D327  C2         			cly
 6621                        		__st.uaxq	_list_onscreen_object
         1F:D328  9D B8 23   			sta	_list_onscreen_object, x
 6622                        	
 6623                        		.dbg	line,	"include\routines_LEVELS.c", 148; onscreen_object_number += 1;
 6624                        		__add_st.umiq	1, _onscreen_object_number
         1F:D32B  EE 3A 23   			inc	_onscreen_object_number
 6625                        	
 6626                        		.dbg	line,	"include\routines_LEVELS.c", 149; scroll_allowed = TRUE;
 6627                        		__st.umiq	1, __scroll_object_end - 2  /* scroll_allowed */
         1F:D32E  A9 01      			lda.l	#1
         1F:D330  8D 2C 2C   			sta	__scroll_object_end - 2
 6628                        	
 6629                        		.dbg	line,	"include\routines_LEVELS.c", 150; }
 6630                        	
 6631                        		.dbg	line,	"include\routines_LEVELS.c", 151; }
 6632    1F:D333             	.LL223:
 6633                        	
 6634                        		.dbg	line,	"include\routines_LEVELS.c", 152; }
 6635    1F:D333             	.LL222:
 6636                        	
 6637                        		.dbg	line,	"include\routines_LEVELS.c", 153; }
 6638    1F:D333             	.LL221:
 6639                        	
 6640                        		.dbg	line,	"include\routines_LEVELS.c", 155; // IF OBJECTS IS WITHIN THE SCREEN LIMITS //
 6641                        	
 6642                        		.dbg	line,	"include\routines_LEVELS.c", 156; if(scroll_allowed == TRUE)
 6643    1F:D333             	.LL220:
 6644                        		__ld.umq	__scroll_object_end - 2  /* scroll_allowed */
         1F:D333  AD 2C 2C   			lda	__scroll_object_end - 2
 6645                        		__equ_b.uiq	1
         1F:D336  C9 01      			cmp	#1
         1F:D338  F0 01      			beq	!+
         1F:D33A  18         			clc
         1F:D33B             	!:
 6646                        		__bfalse	.LL224
         1F:D33B  90 44      			bcc	.LL224
 6647                        	
 6648                        		.dbg	line,	"include\routines_LEVELS.c", 157; {
 6649                        	
 6650                        		.dbg	line,	"include\routines_LEVELS.c", 158; list_object_x_pos[i] = list_object_x_pos_ref[i] - sgx_map_pxl_x;
 6651                        		__ld2x.umq	__scroll_object_end - 1  /* i */
         1F:D33D  AD 2D 2C   			lda	__scroll_object_end - 1
         1F:D340  0A         			asl	a
         1F:D341  AA         			tax
 6652                        		__ld.wax	_list_object_x_pos_ref
         1F:D342  BD 6F 25   			lda.l	_list_object_x_pos_ref, x
         1F:D345  BC 70 25   			ldy.h	_list_object_x_pos_ref, x
 6653                        		__sub.wm	_sgx_map_pxl_x
         1F:D348  38         			sec
         1F:D349  ED E4 26   			sbc.l	_sgx_map_pxl_x
         1F:D34C  42         			say
         1F:D34D  ED E5 26   			sbc.h	_sgx_map_pxl_x
         1F:D350  42         			say
 6654                        		__ld2x.um	__scroll_object_end - 1  /* i */
         1F:D351  AA         			tax
         1F:D352  AD 2D 2C   			lda	__scroll_object_end - 1
         1F:D355  0A         			asl	a
         1F:D356  22         			sax
 6655                        		__st.waxq	_list_object_x_pos
         1F:D357  9D 0B 25   			sta.l	_list_object_x_pos, x
         1F:D35A  98         			tya
         1F:D35B  9D 0C 25   			sta.h	_list_object_x_pos, x
 6656                        	
 6657                        		.dbg	line,	"include\routines_LEVELS.c", 159; list_object_y_pos[i] = list_object_y_pos_ref[i] - sgx_map_pxl_y;
 6658                        		__ld2x.umq	__scroll_object_end - 1  /* i */
         1F:D35E  AD 2D 2C   			lda	__scroll_object_end - 1
         1F:D361  0A         			asl	a
         1F:D362  AA         			tax
 6659                        		__ld.wax	_list_object_y_pos_ref
         1F:D363  BD A1 25   			lda.l	_list_object_y_pos_ref, x
         1F:D366  BC A2 25   			ldy.h	_list_object_y_pos_ref, x
 6660                        		__sub.wm	_sgx_map_pxl_y
         1F:D369  38         			sec
         1F:D36A  ED E6 26   			sbc.l	_sgx_map_pxl_y
         1F:D36D  42         			say
         1F:D36E  ED E7 26   			sbc.h	_sgx_map_pxl_y
         1F:D371  42         			say
 6661                        		__ld2x.um	__scroll_object_end - 1  /* i */
         1F:D372  AA         			tax
         1F:D373  AD 2D 2C   			lda	__scroll_object_end - 1
         1F:D376  0A         			asl	a
         1F:D377  22         			sax
 6662                        		__st.waxq	_list_object_y_pos
         1F:D378  9D 3D 25   			sta.l	_list_object_y_pos, x
         1F:D37B  98         			tya
         1F:D37C  9D 3E 25   			sta.h	_list_object_y_pos, x
 6663                        	
 6664                        		.dbg	line,	"include\routines_LEVELS.c", 160; }
 6665                        	
 6666                        		.dbg	line,	"include\routines_LEVELS.c", 162; else
 6667                        		__bra		.LL225
         1F:D37F  80 1E      			bra	.LL225
 6668    1F:D381             	.LL224:
 6669                        	
 6670                        		.dbg	line,	"include\routines_LEVELS.c", 163; {
 6671                        	
 6672                        		.dbg	line,	"include\routines_LEVELS.c", 164; list_object_x_pos[i] = -16;
 6673                        		__ld2x.umq	__scroll_object_end - 1  /* i */
         1F:D381  AD 2D 2C   			lda	__scroll_object_end - 1
         1F:D384  0A         			asl	a
         1F:D385  AA         			tax
 6674                        		__st.waxiq	-16, _list_object_x_pos
         1F:D386  A9 F0      			lda.l	#-16
         1F:D388  9D 0B 25   			sta.l	_list_object_x_pos, x
         1F:D38B  A9 FF      			lda.h	#-16
         1F:D38D  9D 0C 25   			sta.h	_list_object_x_pos, x
 6675                        	
 6676                        		.dbg	line,	"include\routines_LEVELS.c", 165; list_object_y_pos[i] = -16;
 6677                        		__ld2x.umq	__scroll_object_end - 1  /* i */
         1F:D390  AD 2D 2C   			lda	__scroll_object_end - 1
         1F:D393  0A         			asl	a
         1F:D394  AA         			tax
 6678                        		__st.waxiq	-16, _list_object_y_pos
         1F:D395  A9 F0      			lda.l	#-16
         1F:D397  9D 3D 25   			sta.l	_list_object_y_pos, x
         1F:D39A  A9 FF      			lda.h	#-16
         1F:D39C  9D 3E 25   			sta.h	_list_object_y_pos, x
 6679                        	
 6680                        		.dbg	line,	"include\routines_LEVELS.c", 166; }
 6681    1F:D39F             	.LL225:
 6682                        	
 6683                        		.dbg	line,	"include\routines_LEVELS.c", 168; sgx_spr_set(i + object_start_index);
 6684                        		__ld.um		__scroll_object_end - 1  /* i */
         1F:D39F  AD 2D 2C   			lda	__scroll_object_end - 1
         1F:D3A2  C2         			cly
 6685                        		__add.um	_object_start_index
         1F:D3A3  18         			clc
         1F:D3A4  6D 38 23   			adc	_object_start_index
         1F:D3A7  90 01      			bcc	!+
         1F:D3A9  C8         			iny
         1F:D3AA             	!:
 6686                        		__call		_sgx_spr_set.1
         1F:D3AA  20 9E E8   			call	_sgx_spr_set.1
 6687                        	
 6688                        		.dbg	line,	"include\routines_LEVELS.c", 170; sgx_spr_x(list_object_x_pos[i]);
 6689                        		__ld2x.umq	__scroll_object_end - 1  /* i */
         1F:D3AD  AD 2D 2C   			lda	__scroll_object_end - 1
         1F:D3B0  0A         			asl	a
         1F:D3B1  AA         			tax
 6690                        		__ld.wax	_list_object_x_pos
         1F:D3B2  BD 0B 25   			lda.l	_list_object_x_pos, x
         1F:D3B5  BC 0C 25   			ldy.h	_list_object_x_pos, x
 6691                        		__call		_sgx_spr_x.1
         1F:D3B8  20 CB E8   			call	_sgx_spr_x.1
 6692                        	
 6693                        		.dbg	line,	"include\routines_LEVELS.c", 171; sgx_spr_y(list_object_y_pos[i]);
 6694                        		__ld2x.umq	__scroll_object_end - 1  /* i */
         1F:D3BB  AD 2D 2C   			lda	__scroll_object_end - 1
         1F:D3BE  0A         			asl	a
         1F:D3BF  AA         			tax
 6695                        		__ld.wax	_list_object_y_pos
         1F:D3C0  BD 3D 25   			lda.l	_list_object_y_pos, x
         1F:D3C3  BC 3E 25   			ldy.h	_list_object_y_pos, x
 6696                        		__call		_sgx_spr_y.1
         1F:D3C6  20 DA E8   			call	_sgx_spr_y.1
 6697                        	
 6698                        		.dbg	line,	"include\routines_LEVELS.c", 172; }
 6699                        	
 6700                        		.dbg	line,	"include\routines_LEVELS.c", 173; }
 6701    1F:D3C9             	.LL219	.alias		.LL216
 6702                        		__bra		.LL216
         1F:D3C9  4C 81 D2   			bra	.LL216
 6703    1F:D3CC             	.LL218:
 6704                        	
 6705                        		.dbg	line,	"include\routines_LEVELS.c", 174; }
 6706    1F:D3CC             	.LL214:
 6707                        		__return	0
         1F:D3CC  4C EF FF   			jmp	leave_proc
 6708                        		.dbg	clear
 6709                        		.endp
 6710               2300     		.bss
 6711    F8:2300             	__scroll_object_end	.alias	leaf_stack
 6712               E31D     		.code
 6713                        		.pceas
 6714                        	
 6715                        		.dbg	line,	"include\routines_LEVELS.c", 177; void scroll_chest()
 6716                        		.dbg	line,	"include\routines_LEVELS.c", 178; {
 6717                        	;***********************
 6718                        	;***********************
 6719                        	
 6720                        		.hucc
 6721    1F:D3CF             		.proc		_scroll_chest
 6722                        		__enter		_scroll_chest
 6723                        	
 6724                        		.dbg	line,	"include\routines_LEVELS.c", 179; char i;
 6725                        	
 6726                        		.dbg	line,	"include\routines_LEVELS.c", 180; onscreen_chest_number = 0;
 6727                        		__st.umiq	0, _onscreen_chest_number
         1F:D3CF  9C C2 23   			stz	_onscreen_chest_number
 6728                        	
 6729                        		.dbg	line,	"include\routines_LEVELS.c", 182; for(i=0 ; i<level_chest_number ; i++)
 6730                        		__st.umiq	0, __scroll_chest_end - 1  /* i */
         1F:D3D2  9C 2D 2C   			stz	__scroll_chest_end - 1
 6731    1F:D3D5             	.LL227:
 6732                        		__ld.umq	__scroll_chest_end - 1  /* i */
         1F:D3D5  AD 2D 2C   			lda	__scroll_chest_end - 1
 6733                        		__ult_b.umq	_level_chest_number
         1F:D3D8  CD C1 23   			cmp	_level_chest_number		; Subtract memory from A.
         1F:D3DB  6A         			ror	a		; CC if A < memory.
         1F:D3DC  49 80      			eor	#$80
         1F:D3DE  2A         			rol	a
 6734                        		__btrue		.LL229
         1F:D3DF  B0 08      			bcs	.LL229
 6735                        		__bra		.LL230
         1F:D3E1  4C 2F D5   			bra	.LL230
 6736    1F:D3E4             	.LL228:
 6737                        		__inc.umq	__scroll_chest_end - 1  /* i */
         1F:D3E4  EE 2D 2C   			inc	__scroll_chest_end - 1
 6738                        		__bra		.LL227
         1F:D3E7  80 EC      			bra	.LL227
 6739    1F:D3E9             	.LL229:
 6740                        	
 6741                        		.dbg	line,	"include\routines_LEVELS.c", 183; {
 6742                        	
 6743                        		.dbg	line,	"include\routines_LEVELS.c", 184; if(list_chest_state[i] != STATE_FREE)
 6744                        		__ldx.umq	__scroll_chest_end - 1  /* i */
         1F:D3E9  AE 2D 2C   			ldx	__scroll_chest_end - 1
 6745                        		__tst.uax	_list_chest_state
         1F:D3EC  BD C3 23   			lda	_list_chest_state, x
         1F:D3EF  C9 01      			cmp	#1
 6746                        		__bfalse	.LL231
         1F:D3F1  90 F1      			bcc	.LL231
 6747                        	
 6748                        		.dbg	line,	"include\routines_LEVELS.c", 185; {
 6749                        	
 6750                        		.dbg	line,	"include\routines_LEVELS.c", 186; char scroll_allowed = FALSE;
 6751                        		__st.umiq	0, __scroll_chest_end - 2  /* scroll_allowed */
         1F:D3F3  9C 2C 2C   			stz	__scroll_chest_end - 2
 6752                        	
 6753                        		.dbg	line,	"include\routines_LEVELS.c", 187; 
 6754                        	
 6755                        		.dbg	line,	"include\routines_LEVELS.c", 188; // IF CHEST X POSITION IS INFERIOR TO SCREEN RIGHT SIDE //
 6756                        	
 6757                        		.dbg	line,	"include\routines_LEVELS.c", 189; if(list_chest_x_pos_ref[i] < sgx_map_pxl_x + 256)
 6758                        		__ld.wm		_sgx_map_pxl_x
         1F:D3F6  AD E4 26   			lda.l	_sgx_map_pxl_x
         1F:D3F9  AC E5 26   			ldy.h	_sgx_map_pxl_x
 6759                        		__add.wi	256
         1F:D3FC  18         			clc
         1F:D3FD  69 00      			adc.l	#256
         1F:D3FF  42         			say
         1F:D400  69 01      			adc.h	#256
         1F:D402  42         			say
 6760                        		__ld2x.um	__scroll_chest_end - 1  /* i */
         1F:D403  AA         			tax
         1F:D404  AD 2D 2C   			lda	__scroll_chest_end - 1
         1F:D407  0A         			asl	a
         1F:D408  22         			sax
 6761                        		__ugt_w.wax	_list_chest_x_pos_ref
         1F:D409  18         			clc			; Subtract memory+1 from Y:A.
         1F:D40A  FD F3 25   			sbc.l	_list_chest_x_pos_ref, x
         1F:D40D  98         			tya
         1F:D40E  FD F4 25   			sbc.h	_list_chest_x_pos_ref, x		; CS if Y:A > memory.
 6762                        		__bfalse	.LL232
         1F:D411  B0 03 4C 96			bcc	.LL232
         1F:D415  D4          
 6763                        	
 6764                        		.dbg	line,	"include\routines_LEVELS.c", 190; {
 6765                        	
 6766                        		.dbg	line,	"include\routines_LEVELS.c", 191; // IF CHEST X POSITION IS SUPERIOR TO SCREEN LEFT SIDE PLUS 32 PX //
 6767                        	
 6768                        		.dbg	line,	"include\routines_LEVELS.c", 192; if(list_chest_x_pos_ref[i] - sgx_map_pxl_x + 32 > 0)
 6769                        		__ld2x.umq	__scroll_chest_end - 1  /* i */
         1F:D416  AD 2D 2C   			lda	__scroll_chest_end - 1
         1F:D419  0A         			asl	a
         1F:D41A  AA         			tax
 6770                        		__ld.wax	_list_chest_x_pos_ref
         1F:D41B  BD F3 25   			lda.l	_list_chest_x_pos_ref, x
         1F:D41E  BC F4 25   			ldy.h	_list_chest_x_pos_ref, x
 6771                        		__sub.wm	_sgx_map_pxl_x
         1F:D421  38         			sec
         1F:D422  ED E4 26   			sbc.l	_sgx_map_pxl_x
         1F:D425  42         			say
         1F:D426  ED E5 26   			sbc.h	_sgx_map_pxl_x
         1F:D429  42         			say
 6772                        		__add.wi	32
         1F:D42A  18         			clc
         1F:D42B  69 20      			adc.l	#32
         1F:D42D  90 01      			bcc	!+
         1F:D42F  C8         			iny
         1F:D430             	!:
 6773                        		__sgt_w.wi	0
         1F:D430  18         			clc			; Subtract integer+1 from Y:A.
         1F:D431  E9 00      			sbc.l	#0
         1F:D433  98         			tya
         1F:D434  E9 00      			sbc.h	#0
         1F:D436  50 02      			bvc	!+
         1F:D438  49 80      			eor	#$80		; +ve if Y:A > integer (signed).
         1F:D43A  49 80      	!:		eor	#$80
         1F:D43C  0A         			asl	a
 6774                        		__bfalse	.LL233
         1F:D43D  90 57      			bcc	.LL233
 6775                        	
 6776                        		.dbg	line,	"include\routines_LEVELS.c", 193; {
 6777                        	
 6778                        		.dbg	line,	"include\routines_LEVELS.c", 194; // IF CHEST Y POSITION IS INFERIOR TO SCREEN BOTTOM //
 6779                        	
 6780                        		.dbg	line,	"include\routines_LEVELS.c", 195; if(list_chest_y_pos_ref[i] < sgx_map_pxl_y + 224)
 6781                        		__ld.wm		_sgx_map_pxl_y
         1F:D43F  AD E6 26   			lda.l	_sgx_map_pxl_y
         1F:D442  AC E7 26   			ldy.h	_sgx_map_pxl_y
 6782                        		__add.wi	224
         1F:D445  18         			clc
         1F:D446  69 E0      			adc.l	#224
         1F:D448  90 01      			bcc	!+
         1F:D44A  C8         			iny
         1F:D44B             	!:
 6783                        		__ld2x.um	__scroll_chest_end - 1  /* i */
         1F:D44B  AA         			tax
         1F:D44C  AD 2D 2C   			lda	__scroll_chest_end - 1
         1F:D44F  0A         			asl	a
         1F:D450  22         			sax
 6784                        		__ugt_w.wax	_list_chest_y_pos_ref
         1F:D451  18         			clc			; Subtract memory+1 from Y:A.
         1F:D452  FD 03 26   			sbc.l	_list_chest_y_pos_ref, x
         1F:D455  98         			tya
         1F:D456  FD 04 26   			sbc.h	_list_chest_y_pos_ref, x		; CS if Y:A > memory.
 6785                        		__bfalse	.LL234
         1F:D459  90 3B      			bcc	.LL234
 6786                        	
 6787                        		.dbg	line,	"include\routines_LEVELS.c", 196; {
 6788                        	
 6789                        		.dbg	line,	"include\routines_LEVELS.c", 197; // IF CHEST Y POSITION IS SUPERIOR TO SCREEN TOP PLUS 32 PX //
 6790                        	
 6791                        		.dbg	line,	"include\routines_LEVELS.c", 198; if(list_chest_y_pos_ref[i] - sgx_map_pxl_y + 32 > 0)
 6792                        		__ld2x.umq	__scroll_chest_end - 1  /* i */
         1F:D45B  AD 2D 2C   			lda	__scroll_chest_end - 1
         1F:D45E  0A         			asl	a
         1F:D45F  AA         			tax
 6793                        		__ld.wax	_list_chest_y_pos_ref
         1F:D460  BD 03 26   			lda.l	_list_chest_y_pos_ref, x
         1F:D463  BC 04 26   			ldy.h	_list_chest_y_pos_ref, x
 6794                        		__sub.wm	_sgx_map_pxl_y
         1F:D466  38         			sec
         1F:D467  ED E6 26   			sbc.l	_sgx_map_pxl_y
         1F:D46A  42         			say
         1F:D46B  ED E7 26   			sbc.h	_sgx_map_pxl_y
         1F:D46E  42         			say
 6795                        		__add.wi	32
         1F:D46F  18         			clc
         1F:D470  69 20      			adc.l	#32
         1F:D472  90 01      			bcc	!+
         1F:D474  C8         			iny
         1F:D475             	!:
 6796                        		__sgt_w.wi	0
         1F:D475  18         			clc			; Subtract integer+1 from Y:A.
         1F:D476  E9 00      			sbc.l	#0
         1F:D478  98         			tya
         1F:D479  E9 00      			sbc.h	#0
         1F:D47B  50 02      			bvc	!+
         1F:D47D  49 80      			eor	#$80		; +ve if Y:A > integer (signed).
         1F:D47F  49 80      	!:		eor	#$80
         1F:D481  0A         			asl	a
 6797                        		__bfalse	.LL235
         1F:D482  90 12      			bcc	.LL235
 6798                        	
 6799                        		.dbg	line,	"include\routines_LEVELS.c", 199; {
 6800                        	
 6801                        		.dbg	line,	"include\routines_LEVELS.c", 200; // WE STORE THE CHEST ID //
 6802                        	
 6803                        		.dbg	line,	"include\routines_LEVELS.c", 201; list_onscreen_chest[onscreen_chest_number] = i;
 6804                        		__ldx.umq	_onscreen_chest_number
         1F:D484  AE C2 23   			ldx	_onscreen_chest_number
 6805                        		__ld.um		__scroll_chest_end - 1  /* i */
         1F:D487  AD 2D 2C   			lda	__scroll_chest_end - 1
         1F:D48A  C2         			cly
 6806                        		__st.uaxq	_list_onscreen_chest
         1F:D48B  9D CB 23   			sta	_list_onscreen_chest, x
 6807                        	
 6808                        		.dbg	line,	"include\routines_LEVELS.c", 202; onscreen_chest_number += 1;
 6809                        		__add_st.umiq	1, _onscreen_chest_number
         1F:D48E  EE C2 23   			inc	_onscreen_chest_number
 6810                        	
 6811                        		.dbg	line,	"include\routines_LEVELS.c", 203; 
 6812                        	
 6813                        		.dbg	line,	"include\routines_LEVELS.c", 204; scroll_allowed = TRUE;
 6814                        		__st.umiq	1, __scroll_chest_end - 2  /* scroll_allowed */
         1F:D491  A9 01      			lda.l	#1
         1F:D493  8D 2C 2C   			sta	__scroll_chest_end - 2
 6815                        	
 6816                        		.dbg	line,	"include\routines_LEVELS.c", 205; }
 6817                        	
 6818                        		.dbg	line,	"include\routines_LEVELS.c", 206; }
 6819    1F:D496             	.LL235:
 6820                        	
 6821                        		.dbg	line,	"include\routines_LEVELS.c", 207; }
 6822    1F:D496             	.LL234:
 6823                        	
 6824                        		.dbg	line,	"include\routines_LEVELS.c", 208; }
 6825    1F:D496             	.LL233:
 6826                        	
 6827                        		.dbg	line,	"include\routines_LEVELS.c", 210; // IF CHEST IS WITHIN THE SCREEN LIMITS //
 6828                        	
 6829                        		.dbg	line,	"include\routines_LEVELS.c", 211; if(scroll_allowed == TRUE)
 6830    1F:D496             	.LL232:
 6831                        		__ld.umq	__scroll_chest_end - 2  /* scroll_allowed */
         1F:D496  AD 2C 2C   			lda	__scroll_chest_end - 2
 6832                        		__equ_b.uiq	1
         1F:D499  C9 01      			cmp	#1
         1F:D49B  F0 01      			beq	!+
         1F:D49D  18         			clc
         1F:D49E             	!:
 6833                        		__bfalse	.LL236
         1F:D49E  90 44      			bcc	.LL236
 6834                        	
 6835                        		.dbg	line,	"include\routines_LEVELS.c", 212; {
 6836                        	
 6837                        		.dbg	line,	"include\routines_LEVELS.c", 213; list_chest_x_pos[i] = list_chest_x_pos_ref[i] - sgx_map_pxl_x;
 6838                        		__ld2x.umq	__scroll_chest_end - 1  /* i */
         1F:D4A0  AD 2D 2C   			lda	__scroll_chest_end - 1
         1F:D4A3  0A         			asl	a
         1F:D4A4  AA         			tax
 6839                        		__ld.wax	_list_chest_x_pos_ref
         1F:D4A5  BD F3 25   			lda.l	_list_chest_x_pos_ref, x
         1F:D4A8  BC F4 25   			ldy.h	_list_chest_x_pos_ref, x
 6840                        		__sub.wm	_sgx_map_pxl_x
         1F:D4AB  38         			sec
         1F:D4AC  ED E4 26   			sbc.l	_sgx_map_pxl_x
         1F:D4AF  42         			say
         1F:D4B0  ED E5 26   			sbc.h	_sgx_map_pxl_x
         1F:D4B3  42         			say
 6841                        		__ld2x.um	__scroll_chest_end - 1  /* i */
         1F:D4B4  AA         			tax
         1F:D4B5  AD 2D 2C   			lda	__scroll_chest_end - 1
         1F:D4B8  0A         			asl	a
         1F:D4B9  22         			sax
 6842                        		__st.waxq	_list_chest_x_pos
         1F:D4BA  9D D3 25   			sta.l	_list_chest_x_pos, x
         1F:D4BD  98         			tya
         1F:D4BE  9D D4 25   			sta.h	_list_chest_x_pos, x
 6843                        	
 6844                        		.dbg	line,	"include\routines_LEVELS.c", 214; list_chest_y_pos[i] = list_chest_y_pos_ref[i] - sgx_map_pxl_y;
 6845                        		__ld2x.umq	__scroll_chest_end - 1  /* i */
         1F:D4C1  AD 2D 2C   			lda	__scroll_chest_end - 1
         1F:D4C4  0A         			asl	a
         1F:D4C5  AA         			tax
 6846                        		__ld.wax	_list_chest_y_pos_ref
         1F:D4C6  BD 03 26   			lda.l	_list_chest_y_pos_ref, x
         1F:D4C9  BC 04 26   			ldy.h	_list_chest_y_pos_ref, x
 6847                        		__sub.wm	_sgx_map_pxl_y
         1F:D4CC  38         			sec
         1F:D4CD  ED E6 26   			sbc.l	_sgx_map_pxl_y
         1F:D4D0  42         			say
         1F:D4D1  ED E7 26   			sbc.h	_sgx_map_pxl_y
         1F:D4D4  42         			say
 6848                        		__ld2x.um	__scroll_chest_end - 1  /* i */
         1F:D4D5  AA         			tax
         1F:D4D6  AD 2D 2C   			lda	__scroll_chest_end - 1
         1F:D4D9  0A         			asl	a
         1F:D4DA  22         			sax
 6849                        		__st.waxq	_list_chest_y_pos
         1F:D4DB  9D E3 25   			sta.l	_list_chest_y_pos, x
         1F:D4DE  98         			tya
         1F:D4DF  9D E4 25   			sta.h	_list_chest_y_pos, x
 6850                        	
 6851                        		.dbg	line,	"include\routines_LEVELS.c", 215; }
 6852                        	
 6853                        		.dbg	line,	"include\routines_LEVELS.c", 217; else
 6854                        		__bra		.LL237
         1F:D4E2  80 1E      			bra	.LL237
 6855    1F:D4E4             	.LL236:
 6856                        	
 6857                        		.dbg	line,	"include\routines_LEVELS.c", 218; {
 6858                        	
 6859                        		.dbg	line,	"include\routines_LEVELS.c", 219; list_chest_x_pos[i] = -32;
 6860                        		__ld2x.umq	__scroll_chest_end - 1  /* i */
         1F:D4E4  AD 2D 2C   			lda	__scroll_chest_end - 1
         1F:D4E7  0A         			asl	a
         1F:D4E8  AA         			tax
 6861                        		__st.waxiq	-32, _list_chest_x_pos
         1F:D4E9  A9 E0      			lda.l	#-32
         1F:D4EB  9D D3 25   			sta.l	_list_chest_x_pos, x
         1F:D4EE  A9 FF      			lda.h	#-32
         1F:D4F0  9D D4 25   			sta.h	_list_chest_x_pos, x
 6862                        	
 6863                        		.dbg	line,	"include\routines_LEVELS.c", 220; list_chest_y_pos[i] = -32;
 6864                        		__ld2x.umq	__scroll_chest_end - 1  /* i */
         1F:D4F3  AD 2D 2C   			lda	__scroll_chest_end - 1
         1F:D4F6  0A         			asl	a
         1F:D4F7  AA         			tax
 6865                        		__st.waxiq	-32, _list_chest_y_pos
         1F:D4F8  A9 E0      			lda.l	#-32
         1F:D4FA  9D E3 25   			sta.l	_list_chest_y_pos, x
         1F:D4FD  A9 FF      			lda.h	#-32
         1F:D4FF  9D E4 25   			sta.h	_list_chest_y_pos, x
 6866                        	
 6867                        		.dbg	line,	"include\routines_LEVELS.c", 221; }
 6868    1F:D502             	.LL237:
 6869                        	
 6870                        		.dbg	line,	"include\routines_LEVELS.c", 223; sgx_spr_set(i + chest_start_index);
 6871                        		__ld.um		__scroll_chest_end - 1  /* i */
         1F:D502  AD 2D 2C   			lda	__scroll_chest_end - 1
         1F:D505  C2         			cly
 6872                        		__add.um	_chest_start_index
         1F:D506  18         			clc
         1F:D507  6D C0 23   			adc	_chest_start_index
         1F:D50A  90 01      			bcc	!+
         1F:D50C  C8         			iny
         1F:D50D             	!:
 6873                        		__call		_sgx_spr_set.1
         1F:D50D  20 9E E8   			call	_sgx_spr_set.1
 6874                        	
 6875                        		.dbg	line,	"include\routines_LEVELS.c", 225; sgx_spr_x(list_chest_x_pos[i]);
 6876                        		__ld2x.umq	__scroll_chest_end - 1  /* i */
         1F:D510  AD 2D 2C   			lda	__scroll_chest_end - 1
         1F:D513  0A         			asl	a
         1F:D514  AA         			tax
 6877                        		__ld.wax	_list_chest_x_pos
         1F:D515  BD D3 25   			lda.l	_list_chest_x_pos, x
         1F:D518  BC D4 25   			ldy.h	_list_chest_x_pos, x
 6878                        		__call		_sgx_spr_x.1
         1F:D51B  20 CB E8   			call	_sgx_spr_x.1
 6879                        	
 6880                        		.dbg	line,	"include\routines_LEVELS.c", 226; sgx_spr_y(list_chest_y_pos[i]);
 6881                        		__ld2x.umq	__scroll_chest_end - 1  /* i */
         1F:D51E  AD 2D 2C   			lda	__scroll_chest_end - 1
         1F:D521  0A         			asl	a
         1F:D522  AA         			tax
 6882                        		__ld.wax	_list_chest_y_pos
         1F:D523  BD E3 25   			lda.l	_list_chest_y_pos, x
         1F:D526  BC E4 25   			ldy.h	_list_chest_y_pos, x
 6883                        		__call		_sgx_spr_y.1
         1F:D529  20 DA E8   			call	_sgx_spr_y.1
 6884                        	
 6885                        		.dbg	line,	"include\routines_LEVELS.c", 227; }
 6886                        	
 6887                        		.dbg	line,	"include\routines_LEVELS.c", 228; }
 6888    1F:D52C             	.LL231	.alias		.LL228
 6889                        		__bra		.LL228
         1F:D52C  4C E4 D3   			bra	.LL228
 6890    1F:D52F             	.LL230:
 6891                        	
 6892                        		.dbg	line,	"include\routines_LEVELS.c", 229; }
 6893    1F:D52F             	.LL226:
 6894                        		__return	0
         1F:D52F  4C EF FF   			jmp	leave_proc
 6895                        		.dbg	clear
 6896                        		.endp
 6897               2300     		.bss
 6898    F8:2300             	__scroll_chest_end	.alias	leaf_stack
 6899               E31D     		.code
 6900                        		.pceas
 6901                        	
 6902                        		.dbg	line,	"include\routines_LEVELS.c", 232; void scroll_npc()
 6903                        		.dbg	line,	"include\routines_LEVELS.c", 233; {
 6904                        	;***********************
 6905                        	;***********************
 6906                        	
 6907                        		.hucc
 6908    1F:D532             		.proc		_scroll_npc
 6909                        		__enter		_scroll_npc
 6910                        	
 6911                        		.dbg	line,	"include\routines_LEVELS.c", 234; char i;
 6912                        	
 6913                        		.dbg	line,	"include\routines_LEVELS.c", 235; onscreen_npc_number = 0;
 6914                        		__st.umiq	0, _onscreen_npc_number
         1F:D532  9C D5 23   			stz	_onscreen_npc_number
 6915                        	
 6916                        		.dbg	line,	"include\routines_LEVELS.c", 237; for(i=0 ; i<level_npc_number ; i++)
 6917                        		__st.umiq	0, __scroll_npc_end - 1  /* i */
         1F:D535  9C 2D 2C   			stz	__scroll_npc_end - 1
 6918    1F:D538             	.LL239:
 6919                        		__ld.umq	__scroll_npc_end - 1  /* i */
         1F:D538  AD 2D 2C   			lda	__scroll_npc_end - 1
 6920                        		__ult_b.umq	_level_npc_number
         1F:D53B  CD D4 23   			cmp	_level_npc_number		; Subtract memory from A.
         1F:D53E  6A         			ror	a		; CC if A < memory.
         1F:D53F  49 80      			eor	#$80
         1F:D541  2A         			rol	a
 6921                        		__btrue		.LL241
         1F:D542  B0 08      			bcs	.LL241
 6922                        		__bra		.LL242
         1F:D544  4C 92 D6   			bra	.LL242
 6923    1F:D547             	.LL240:
 6924                        		__inc.umq	__scroll_npc_end - 1  /* i */
         1F:D547  EE 2D 2C   			inc	__scroll_npc_end - 1
 6925                        		__bra		.LL239
         1F:D54A  80 EC      			bra	.LL239
 6926    1F:D54C             	.LL241:
 6927                        	
 6928                        		.dbg	line,	"include\routines_LEVELS.c", 238; {
 6929                        	
 6930                        		.dbg	line,	"include\routines_LEVELS.c", 239; if(list_npc_state[i] != STATE_FREE)
 6931                        		__ldx.umq	__scroll_npc_end - 1  /* i */
         1F:D54C  AE 2D 2C   			ldx	__scroll_npc_end - 1
 6932                        		__tst.uax	_list_npc_state
         1F:D54F  BD E0 23   			lda	_list_npc_state, x
         1F:D552  C9 01      			cmp	#1
 6933                        		__bfalse	.LL243
         1F:D554  90 F1      			bcc	.LL243
 6934                        	
 6935                        		.dbg	line,	"include\routines_LEVELS.c", 240; {
 6936                        	
 6937                        		.dbg	line,	"include\routines_LEVELS.c", 241; char scroll_allowed = FALSE;
 6938                        		__st.umiq	0, __scroll_npc_end - 2  /* scroll_allowed */
         1F:D556  9C 2C 2C   			stz	__scroll_npc_end - 2
 6939                        	
 6940                        		.dbg	line,	"include\routines_LEVELS.c", 242; 
 6941                        	
 6942                        		.dbg	line,	"include\routines_LEVELS.c", 243; // IF NPC X POSITION IS INFERIOR TO SCREEN RIGHT SIDE //
 6943                        	
 6944                        		.dbg	line,	"include\routines_LEVELS.c", 244; if(list_npc_x_pos_ref[i] < sgx_map_pxl_x + 256)
 6945                        		__ld.wm		_sgx_map_pxl_x
         1F:D559  AD E4 26   			lda.l	_sgx_map_pxl_x
         1F:D55C  AC E5 26   			ldy.h	_sgx_map_pxl_x
 6946                        		__add.wi	256
         1F:D55F  18         			clc
         1F:D560  69 00      			adc.l	#256
         1F:D562  42         			say
         1F:D563  69 01      			adc.h	#256
         1F:D565  42         			say
 6947                        		__ld2x.um	__scroll_npc_end - 1  /* i */
         1F:D566  AA         			tax
         1F:D567  AD 2D 2C   			lda	__scroll_npc_end - 1
         1F:D56A  0A         			asl	a
         1F:D56B  22         			sax
 6948                        		__ugt_w.wax	_list_npc_x_pos_ref
         1F:D56C  18         			clc			; Subtract memory+1 from Y:A.
         1F:D56D  FD 37 26   			sbc.l	_list_npc_x_pos_ref, x
         1F:D570  98         			tya
         1F:D571  FD 38 26   			sbc.h	_list_npc_x_pos_ref, x		; CS if Y:A > memory.
 6949                        		__bfalse	.LL244
         1F:D574  B0 03 4C F9			bcc	.LL244
         1F:D578  D5          
 6950                        	
 6951                        		.dbg	line,	"include\routines_LEVELS.c", 245; {
 6952                        	
 6953                        		.dbg	line,	"include\routines_LEVELS.c", 246; // IF NPC X POSITION IS SUPERIOR TO SCREEN LEFT SIDE PLUS 32 PX //
 6954                        	
 6955                        		.dbg	line,	"include\routines_LEVELS.c", 247; if(list_npc_x_pos_ref[i] - sgx_map_pxl_x + 32 > 0)
 6956                        		__ld2x.umq	__scroll_npc_end - 1  /* i */
         1F:D579  AD 2D 2C   			lda	__scroll_npc_end - 1
         1F:D57C  0A         			asl	a
         1F:D57D  AA         			tax
 6957                        		__ld.wax	_list_npc_x_pos_ref
         1F:D57E  BD 37 26   			lda.l	_list_npc_x_pos_ref, x
         1F:D581  BC 38 26   			ldy.h	_list_npc_x_pos_ref, x
 6958                        		__sub.wm	_sgx_map_pxl_x
         1F:D584  38         			sec
         1F:D585  ED E4 26   			sbc.l	_sgx_map_pxl_x
         1F:D588  42         			say
         1F:D589  ED E5 26   			sbc.h	_sgx_map_pxl_x
         1F:D58C  42         			say
 6959                        		__add.wi	32
         1F:D58D  18         			clc
         1F:D58E  69 20      			adc.l	#32
         1F:D590  90 01      			bcc	!+
         1F:D592  C8         			iny
         1F:D593             	!:
 6960                        		__sgt_w.wi	0
         1F:D593  18         			clc			; Subtract integer+1 from Y:A.
         1F:D594  E9 00      			sbc.l	#0
         1F:D596  98         			tya
         1F:D597  E9 00      			sbc.h	#0
         1F:D599  50 02      			bvc	!+
         1F:D59B  49 80      			eor	#$80		; +ve if Y:A > integer (signed).
         1F:D59D  49 80      	!:		eor	#$80
         1F:D59F  0A         			asl	a
 6961                        		__bfalse	.LL245
         1F:D5A0  90 57      			bcc	.LL245
 6962                        	
 6963                        		.dbg	line,	"include\routines_LEVELS.c", 248; {
 6964                        	
 6965                        		.dbg	line,	"include\routines_LEVELS.c", 249; // IF NPC Y POSITION IS INFERIOR TO SCREEN BOTTOM //
 6966                        	
 6967                        		.dbg	line,	"include\routines_LEVELS.c", 250; if(list_npc_y_pos_ref[i] < sgx_map_pxl_y + 224)
 6968                        		__ld.wm		_sgx_map_pxl_y
         1F:D5A2  AD E6 26   			lda.l	_sgx_map_pxl_y
         1F:D5A5  AC E7 26   			ldy.h	_sgx_map_pxl_y
 6969                        		__add.wi	224
         1F:D5A8  18         			clc
         1F:D5A9  69 E0      			adc.l	#224
         1F:D5AB  90 01      			bcc	!+
         1F:D5AD  C8         			iny
         1F:D5AE             	!:
 6970                        		__ld2x.um	__scroll_npc_end - 1  /* i */
         1F:D5AE  AA         			tax
         1F:D5AF  AD 2D 2C   			lda	__scroll_npc_end - 1
         1F:D5B2  0A         			asl	a
         1F:D5B3  22         			sax
 6971                        		__ugt_w.wax	_list_npc_y_pos_ref
         1F:D5B4  18         			clc			; Subtract memory+1 from Y:A.
         1F:D5B5  FD 49 26   			sbc.l	_list_npc_y_pos_ref, x
         1F:D5B8  98         			tya
         1F:D5B9  FD 4A 26   			sbc.h	_list_npc_y_pos_ref, x		; CS if Y:A > memory.
 6972                        		__bfalse	.LL246
         1F:D5BC  90 3B      			bcc	.LL246
 6973                        	
 6974                        		.dbg	line,	"include\routines_LEVELS.c", 251; {
 6975                        	
 6976                        		.dbg	line,	"include\routines_LEVELS.c", 252; // IF NPC Y POSITION IS SUPERIOR TO SCREEN TOP PLUS 32 PX //
 6977                        	
 6978                        		.dbg	line,	"include\routines_LEVELS.c", 253; if(list_npc_y_pos_ref[i] - sgx_map_pxl_y + 32 > 0)
 6979                        		__ld2x.umq	__scroll_npc_end - 1  /* i */
         1F:D5BE  AD 2D 2C   			lda	__scroll_npc_end - 1
         1F:D5C1  0A         			asl	a
         1F:D5C2  AA         			tax
 6980                        		__ld.wax	_list_npc_y_pos_ref
         1F:D5C3  BD 49 26   			lda.l	_list_npc_y_pos_ref, x
         1F:D5C6  BC 4A 26   			ldy.h	_list_npc_y_pos_ref, x
 6981                        		__sub.wm	_sgx_map_pxl_y
         1F:D5C9  38         			sec
         1F:D5CA  ED E6 26   			sbc.l	_sgx_map_pxl_y
         1F:D5CD  42         			say
         1F:D5CE  ED E7 26   			sbc.h	_sgx_map_pxl_y
         1F:D5D1  42         			say
 6982                        		__add.wi	32
         1F:D5D2  18         			clc
         1F:D5D3  69 20      			adc.l	#32
         1F:D5D5  90 01      			bcc	!+
         1F:D5D7  C8         			iny
         1F:D5D8             	!:
 6983                        		__sgt_w.wi	0
         1F:D5D8  18         			clc			; Subtract integer+1 from Y:A.
         1F:D5D9  E9 00      			sbc.l	#0
         1F:D5DB  98         			tya
         1F:D5DC  E9 00      			sbc.h	#0
         1F:D5DE  50 02      			bvc	!+
         1F:D5E0  49 80      			eor	#$80		; +ve if Y:A > integer (signed).
         1F:D5E2  49 80      	!:		eor	#$80
         1F:D5E4  0A         			asl	a
 6984                        		__bfalse	.LL247
         1F:D5E5  90 12      			bcc	.LL247
 6985                        	
 6986                        		.dbg	line,	"include\routines_LEVELS.c", 254; {
 6987                        	
 6988                        		.dbg	line,	"include\routines_LEVELS.c", 255; // WE STORE THE NPC ID //
 6989                        	
 6990                        		.dbg	line,	"include\routines_LEVELS.c", 256; list_onscreen_npc[onscreen_npc_number] = i;
 6991                        		__ldx.umq	_onscreen_npc_number
         1F:D5E7  AE D5 23   			ldx	_onscreen_npc_number
 6992                        		__ld.um		__scroll_npc_end - 1  /* i */
         1F:D5EA  AD 2D 2C   			lda	__scroll_npc_end - 1
         1F:D5ED  C2         			cly
 6993                        		__st.uaxq	_list_onscreen_npc
         1F:D5EE  9D F2 23   			sta	_list_onscreen_npc, x
 6994                        	
 6995                        		.dbg	line,	"include\routines_LEVELS.c", 257; onscreen_npc_number += 1;
 6996                        		__add_st.umiq	1, _onscreen_npc_number
         1F:D5F1  EE D5 23   			inc	_onscreen_npc_number
 6997                        	
 6998                        		.dbg	line,	"include\routines_LEVELS.c", 258; 
 6999                        	
 7000                        		.dbg	line,	"include\routines_LEVELS.c", 259; scroll_allowed = TRUE;
 7001                        		__st.umiq	1, __scroll_npc_end - 2  /* scroll_allowed */
         1F:D5F4  A9 01      			lda.l	#1
         1F:D5F6  8D 2C 2C   			sta	__scroll_npc_end - 2
 7002                        	
 7003                        		.dbg	line,	"include\routines_LEVELS.c", 260; }
 7004                        	
 7005                        		.dbg	line,	"include\routines_LEVELS.c", 261; }
 7006    1F:D5F9             	.LL247:
 7007                        	
 7008                        		.dbg	line,	"include\routines_LEVELS.c", 262; }
 7009    1F:D5F9             	.LL246:
 7010                        	
 7011                        		.dbg	line,	"include\routines_LEVELS.c", 263; }
 7012    1F:D5F9             	.LL245:
 7013                        	
 7014                        		.dbg	line,	"include\routines_LEVELS.c", 265; // IF NPC IS WITHIN THE SCREEN LIMITS //
 7015                        	
 7016                        		.dbg	line,	"include\routines_LEVELS.c", 266; if(scroll_allowed == TRUE)
 7017    1F:D5F9             	.LL244:
 7018                        		__ld.umq	__scroll_npc_end - 2  /* scroll_allowed */
         1F:D5F9  AD 2C 2C   			lda	__scroll_npc_end - 2
 7019                        		__equ_b.uiq	1
         1F:D5FC  C9 01      			cmp	#1
         1F:D5FE  F0 01      			beq	!+
         1F:D600  18         			clc
         1F:D601             	!:
 7020                        		__bfalse	.LL248
         1F:D601  90 44      			bcc	.LL248
 7021                        	
 7022                        		.dbg	line,	"include\routines_LEVELS.c", 267; {
 7023                        	
 7024                        		.dbg	line,	"include\routines_LEVELS.c", 268; list_npc_x_pos[i] = list_npc_x_pos_ref[i] - sgx_map_pxl_x;
 7025                        		__ld2x.umq	__scroll_npc_end - 1  /* i */
         1F:D603  AD 2D 2C   			lda	__scroll_npc_end - 1
         1F:D606  0A         			asl	a
         1F:D607  AA         			tax
 7026                        		__ld.wax	_list_npc_x_pos_ref
         1F:D608  BD 37 26   			lda.l	_list_npc_x_pos_ref, x
         1F:D60B  BC 38 26   			ldy.h	_list_npc_x_pos_ref, x
 7027                        		__sub.wm	_sgx_map_pxl_x
         1F:D60E  38         			sec
         1F:D60F  ED E4 26   			sbc.l	_sgx_map_pxl_x
         1F:D612  42         			say
         1F:D613  ED E5 26   			sbc.h	_sgx_map_pxl_x
         1F:D616  42         			say
 7028                        		__ld2x.um	__scroll_npc_end - 1  /* i */
         1F:D617  AA         			tax
         1F:D618  AD 2D 2C   			lda	__scroll_npc_end - 1
         1F:D61B  0A         			asl	a
         1F:D61C  22         			sax
 7029                        		__st.waxq	_list_npc_x_pos
         1F:D61D  9D 13 26   			sta.l	_list_npc_x_pos, x
         1F:D620  98         			tya
         1F:D621  9D 14 26   			sta.h	_list_npc_x_pos, x
 7030                        	
 7031                        		.dbg	line,	"include\routines_LEVELS.c", 269; list_npc_y_pos[i] = list_npc_y_pos_ref[i] - sgx_map_pxl_y;
 7032                        		__ld2x.umq	__scroll_npc_end - 1  /* i */
         1F:D624  AD 2D 2C   			lda	__scroll_npc_end - 1
         1F:D627  0A         			asl	a
         1F:D628  AA         			tax
 7033                        		__ld.wax	_list_npc_y_pos_ref
         1F:D629  BD 49 26   			lda.l	_list_npc_y_pos_ref, x
         1F:D62C  BC 4A 26   			ldy.h	_list_npc_y_pos_ref, x
 7034                        		__sub.wm	_sgx_map_pxl_y
         1F:D62F  38         			sec
         1F:D630  ED E6 26   			sbc.l	_sgx_map_pxl_y
         1F:D633  42         			say
         1F:D634  ED E7 26   			sbc.h	_sgx_map_pxl_y
         1F:D637  42         			say
 7035                        		__ld2x.um	__scroll_npc_end - 1  /* i */
         1F:D638  AA         			tax
         1F:D639  AD 2D 2C   			lda	__scroll_npc_end - 1
         1F:D63C  0A         			asl	a
         1F:D63D  22         			sax
 7036                        		__st.waxq	_list_npc_y_pos
         1F:D63E  9D 25 26   			sta.l	_list_npc_y_pos, x
         1F:D641  98         			tya
         1F:D642  9D 26 26   			sta.h	_list_npc_y_pos, x
 7037                        	
 7038                        		.dbg	line,	"include\routines_LEVELS.c", 270; }
 7039                        	
 7040                        		.dbg	line,	"include\routines_LEVELS.c", 272; else
 7041                        		__bra		.LL249
         1F:D645  80 1E      			bra	.LL249
 7042    1F:D647             	.LL248:
 7043                        	
 7044                        		.dbg	line,	"include\routines_LEVELS.c", 273; {
 7045                        	
 7046                        		.dbg	line,	"include\routines_LEVELS.c", 274; list_npc_x_pos[i] = -32;
 7047                        		__ld2x.umq	__scroll_npc_end - 1  /* i */
         1F:D647  AD 2D 2C   			lda	__scroll_npc_end - 1
         1F:D64A  0A         			asl	a
         1F:D64B  AA         			tax
 7048                        		__st.waxiq	-32, _list_npc_x_pos
         1F:D64C  A9 E0      			lda.l	#-32
         1F:D64E  9D 13 26   			sta.l	_list_npc_x_pos, x
         1F:D651  A9 FF      			lda.h	#-32
         1F:D653  9D 14 26   			sta.h	_list_npc_x_pos, x
 7049                        	
 7050                        		.dbg	line,	"include\routines_LEVELS.c", 275; list_npc_y_pos[i] = -32;
 7051                        		__ld2x.umq	__scroll_npc_end - 1  /* i */
         1F:D656  AD 2D 2C   			lda	__scroll_npc_end - 1
         1F:D659  0A         			asl	a
         1F:D65A  AA         			tax
 7052                        		__st.waxiq	-32, _list_npc_y_pos
         1F:D65B  A9 E0      			lda.l	#-32
         1F:D65D  9D 25 26   			sta.l	_list_npc_y_pos, x
         1F:D660  A9 FF      			lda.h	#-32
         1F:D662  9D 26 26   			sta.h	_list_npc_y_pos, x
 7053                        	
 7054                        		.dbg	line,	"include\routines_LEVELS.c", 276; }
 7055    1F:D665             	.LL249:
 7056                        	
 7057                        		.dbg	line,	"include\routines_LEVELS.c", 278; sgx_spr_set(i + npc_start_index);
 7058                        		__ld.um		__scroll_npc_end - 1  /* i */
         1F:D665  AD 2D 2C   			lda	__scroll_npc_end - 1
         1F:D668  C2         			cly
 7059                        		__add.um	_npc_start_index
         1F:D669  18         			clc
         1F:D66A  6D D3 23   			adc	_npc_start_index
         1F:D66D  90 01      			bcc	!+
         1F:D66F  C8         			iny
         1F:D670             	!:
 7060                        		__call		_sgx_spr_set.1
         1F:D670  20 9E E8   			call	_sgx_spr_set.1
 7061                        	
 7062                        		.dbg	line,	"include\routines_LEVELS.c", 280; sgx_spr_x(list_npc_x_pos[i]);
 7063                        		__ld2x.umq	__scroll_npc_end - 1  /* i */
         1F:D673  AD 2D 2C   			lda	__scroll_npc_end - 1
         1F:D676  0A         			asl	a
         1F:D677  AA         			tax
 7064                        		__ld.wax	_list_npc_x_pos
         1F:D678  BD 13 26   			lda.l	_list_npc_x_pos, x
         1F:D67B  BC 14 26   			ldy.h	_list_npc_x_pos, x
 7065                        		__call		_sgx_spr_x.1
         1F:D67E  20 CB E8   			call	_sgx_spr_x.1
 7066                        	
 7067                        		.dbg	line,	"include\routines_LEVELS.c", 281; sgx_spr_y(list_npc_y_pos[i]);
 7068                        		__ld2x.umq	__scroll_npc_end - 1  /* i */
         1F:D681  AD 2D 2C   			lda	__scroll_npc_end - 1
         1F:D684  0A         			asl	a
         1F:D685  AA         			tax
 7069                        		__ld.wax	_list_npc_y_pos
         1F:D686  BD 25 26   			lda.l	_list_npc_y_pos, x
         1F:D689  BC 26 26   			ldy.h	_list_npc_y_pos, x
 7070                        		__call		_sgx_spr_y.1
         1F:D68C  20 DA E8   			call	_sgx_spr_y.1
 7071                        	
 7072                        		.dbg	line,	"include\routines_LEVELS.c", 282; }
 7073                        	
 7074                        		.dbg	line,	"include\routines_LEVELS.c", 283; }
 7075    1F:D68F             	.LL243	.alias		.LL240
 7076                        		__bra		.LL240
         1F:D68F  4C 47 D5   			bra	.LL240
 7077    1F:D692             	.LL242:
 7078                        	
 7079                        		.dbg	line,	"include\routines_LEVELS.c", 284; }
 7080    1F:D692             	.LL238:
 7081                        		__return	0
         1F:D692  4C EF FF   			jmp	leave_proc
 7082                        		.dbg	clear
 7083                        		.endp
 7084               2300     		.bss
 7085    F8:2300             	__scroll_npc_end	.alias	leaf_stack
 7086               E31D     		.code
 7087                        		.pceas
 7088                        	
 7089                        		.dbg	line,	"include\routines_LEVELS.c", 287; void scroll_BG()
 7090                        		.dbg	line,	"include\routines_LEVELS.c", 288; {
 7091                        	;***********************
 7092                        	;***********************
 7093                        	
 7094                        		.hucc
 7095    1E:DFCC             		.proc		_scroll_BG
 7096                        		__enter		_scroll_BG
 7097                        	
 7098                        		.dbg	line,	"include\routines_LEVELS.c", 289; // UPDATE VDC2 BG //
 7099                        	
 7100                        		.dbg	line,	"include\routines_LEVELS.c", 290; sgx_scroll_map();
 7101                        		__call		_sgx_scroll_map
         1E:DFCC  20 63 FF   			call	_sgx_scroll_map
 7102                        	
 7103                        		.dbg	line,	"include\routines_LEVELS.c", 292; //--------------------------------------------------------------------------------------//
 7104                        	
 7105                        		.dbg	line,	"include\routines_LEVELS.c", 293; //                                        VDC 2                                         //
 7106                        	
 7107                        		.dbg	line,	"include\routines_LEVELS.c", 294; //--------------------------------------------------------------------------------------//
 7108                        	
 7109                        		.dbg	line,	"include\routines_LEVELS.c", 296; sgx_scroll_split(0,   0, sgx_map_pxl_x & (BAT_SIZE_W - 1), sgx_map_pxl_y & (BAT_SIZE_H - 1), BKG_ON | SPR_ON);
 7110                        		__st.umiq	0, _al
         1E:DFCF  64 F8      			stz	_al
 7111                        		__st.umiq	0, _ah
         1E:DFD1  64 F9      			stz	_ah
 7112                        		__ld.wm		_sgx_map_pxl_x
         1E:DFD3  AD E4 26   			lda.l	_sgx_map_pxl_x
         1E:DFD6  AC E5 26   			ldy.h	_sgx_map_pxl_x
 7113                        		__and.wi	2047
         1E:DFD9  29 FF      			and.l	#2047
         1E:DFDB  42         			say
         1E:DFDC  29 07      			and.h	#2047
         1E:DFDE  42         			say
 7114                        		__st.wmq	_bx
         1E:DFDF  85 FA      			sta.l	_bx
         1E:DFE1  84 FB      			sty.h	_bx
 7115                        		__ld.wm		_sgx_map_pxl_y
         1E:DFE3  AD E6 26   			lda.l	_sgx_map_pxl_y
         1E:DFE6  AC E7 26   			ldy.h	_sgx_map_pxl_y
 7116                        		__and.wi	255
         1E:DFE9  29 FF      			and	#255
         1E:DFEB  C2         			cly
 7117                        		__st.wmq	_cx
         1E:DFEC  85 FC      			sta.l	_cx
         1E:DFEE  84 FD      			sty.h	_cx
 7118                        		__st.umiq	192, _dl
         1E:DFF0  A9 C0      			lda.l	#192
         1E:DFF2  85 FE      			sta	_dl
 7119                        		__call		_sgx_scroll_split.5
         1E:DFF4  20 59 FF   			call	_sgx_scroll_split.5
 7120                        	
 7121                        		.dbg	line,	"include\routines_LEVELS.c", 297; }
 7122    1E:DFF7             	.LL250:
 7123                        		__return	0
         1E:DFF7  4C EF FF   			jmp	leave_proc
 7124                        		.dbg	clear
 7125                        		.endp
 7126                        		.pceas
 7127                        	
 7128                        		.dbg	line,	"include\routines_LEVELS.c", 300; void recenter_CAMERA()
 7129                        		.dbg	line,	"include\routines_LEVELS.c", 301; {
 7130                        	;***********************
 7131                        	;***********************
 7132                        	
 7133                        		.hucc
 7134    1F:DB51             		.proc		_recenter_CAMERA
 7135                        		__enter		_recenter_CAMERA
 7136                        	
 7137                        		.dbg	line,	"include\routines_LEVELS.c", 302; signed char camera_y_move;
 7138                        	
 7139                        		.dbg	line,	"include\routines_LEVELS.c", 304; spr_set(player_id);
 7140                        		__ld.umq	_player_id
         1F:DB51  AD 1A 23   			lda	_player_id
 7141                        		__call		_spr_set.1
         1F:DB54  20 F1 E7   			call	_spr_set.1
 7142                        	
 7143                        		.dbg	line,	"include\routines_LEVELS.c", 307; if(player_pos_y < 128)
 7144                        		__ld.wm		_player_pos_y
         1F:DB57  AD 03 25   			lda.l	_player_pos_y
         1F:DB5A  AC 04 25   			ldy.h	_player_pos_y
 7145                        		__slt_w.wi	128
         1F:DB5D  C9 80      			cmp.l	#128		; Subtract integer from Y:A.
         1F:DB5F  98         			tya
         1F:DB60  E9 00      			sbc.h	#128
         1F:DB62  50 02      			bvc	!+
         1F:DB64  49 80      			eor	#$80		; -ve if Y:A < integer (signed).
         1F:DB66  0A         	!:		asl	a
 7146                        		__bfalse	.LL252
         1F:DB67  90 70      			bcc	.LL252
 7147                        	
 7148                        		.dbg	line,	"include\routines_LEVELS.c", 308; {
 7149                        	
 7150                        		.dbg	line,	"include\routines_LEVELS.c", 309; player_pos_y += CAMERA_RECENTER_VELOCITY;
 7151                        		__add_st.wmiq	6, _player_pos_y
         1F:DB69  18         			clc
         1F:DB6A  AD 03 25   			lda.l	_player_pos_y
         1F:DB6D  69 06      			adc.l	#6
         1F:DB6F  8D 03 25   			sta.l	_player_pos_y
         1F:DB72  90 03      			bcc	!+
         1F:DB74  EE 04 25   			inc.h	_player_pos_y
         1F:DB77             	!:
 7152                        	
 7153                        		.dbg	line,	"include\routines_LEVELS.c", 311; if(player_pos_y > 128)
 7154                        		__ld.wm		_player_pos_y
         1F:DB77  AD 03 25   			lda.l	_player_pos_y
         1F:DB7A  AC 04 25   			ldy.h	_player_pos_y
 7155                        		__sgt_w.wi	128
         1F:DB7D  18         			clc			; Subtract integer+1 from Y:A.
         1F:DB7E  E9 80      			sbc.l	#128
         1F:DB80  98         			tya
         1F:DB81  E9 00      			sbc.h	#128
         1F:DB83  50 02      			bvc	!+
         1F:DB85  49 80      			eor	#$80		; +ve if Y:A > integer (signed).
         1F:DB87  49 80      	!:		eor	#$80
         1F:DB89  0A         			asl	a
 7156                        		__bfalse	.LL253
         1F:DB8A  90 24      			bcc	.LL253
 7157                        	
 7158                        		.dbg	line,	"include\routines_LEVELS.c", 312; {
 7159                        	
 7160                        		.dbg	line,	"include\routines_LEVELS.c", 313; camera_y_move = CAMERA_RECENTER_VELOCITY - (player_pos_y - 128);
 7161                        		__ld.wm		_player_pos_y
         1F:DB8C  AD 03 25   			lda.l	_player_pos_y
         1F:DB8F  AC 04 25   			ldy.h	_player_pos_y
 7162                        		__sub.wi	128
         1F:DB92  38         			sec
         1F:DB93  E9 80      			sbc.l	#128
         1F:DB95  B0 01      			bcs	!+
         1F:DB97  88         			dey
         1F:DB98             	!:
 7163                        		__isub.wi	6
         1F:DB98  38         			sec
         1F:DB99  49 FF      			eor	#$FF
         1F:DB9B  69 06      			adc.l	#6
         1F:DB9D  42         			say
         1F:DB9E  49 FF      			eor	#$FF
         1F:DBA0  69 00      			adc.h	#6
         1F:DBA2  42         			say
 7164                        		__st.umq	__recenter_CAMERA_end - 1  /* camera_y_move */
         1F:DBA3  8D 2D 2C   			sta	__recenter_CAMERA_end - 1
 7165                        	
 7166                        		.dbg	line,	"include\routines_LEVELS.c", 315; player_pos_y = 128;
 7167                        		__st.wmiq	128, _player_pos_y
         1F:DBA6  A9 80      			lda.l	#128
         1F:DBA8  8D 03 25   			sta.l	_player_pos_y
         1F:DBAB  9C 04 25   			stz.h	_player_pos_y
 7168                        	
 7169                        		.dbg	line,	"include\routines_LEVELS.c", 316; }
 7170                        	
 7171                        		.dbg	line,	"include\routines_LEVELS.c", 318; else
 7172                        		__bra		.LL254
         1F:DBAE  80 05      			bra	.LL254
 7173    1F:DBB0             	.LL253:
 7174                        	
 7175                        		.dbg	line,	"include\routines_LEVELS.c", 319; {
 7176                        	
 7177                        		.dbg	line,	"include\routines_LEVELS.c", 320; camera_y_move = CAMERA_RECENTER_VELOCITY;
 7178                        		__st.umiq	6, __recenter_CAMERA_end - 1  /* camera_y_move */
         1F:DBB0  A9 06      			lda.l	#6
         1F:DBB2  8D 2D 2C   			sta	__recenter_CAMERA_end - 1
 7179                        	
 7180                        		.dbg	line,	"include\routines_LEVELS.c", 321; }
 7181    1F:DBB5             	.LL254:
 7182                        	
 7183                        		.dbg	line,	"include\routines_LEVELS.c", 323; spr_y(player_pos_y);
 7184                        		__ld.wm		_player_pos_y
         1F:DBB5  AD 03 25   			lda.l	_player_pos_y
         1F:DBB8  AC 04 25   			ldy.h	_player_pos_y
 7185                        		__call		_spr_y.1
         1F:DBBB  20 2D E8   			call	_spr_y.1
 7186                        	
 7187                        		.dbg	line,	"include\routines_LEVELS.c", 325; sgx_map_pxl_y -= camera_y_move;
 7188                        		__ld.bm		__recenter_CAMERA_end - 1  /* camera_y_move */
         1F:DBBE  AD 2D 2C   			lda	__recenter_CAMERA_end - 1
         1F:DBC1  C2         			cly
         1F:DBC2  10 01      			bpl	!+
         1F:DBC4  88         			dey
         1F:DBC5             	!:
 7189                        		__isub_st.wmq	_sgx_map_pxl_y
         1F:DBC5  38         			sec
         1F:DBC6  49 FF      			eor	#$FF
         1F:DBC8  6D E6 26   			adc.l	_sgx_map_pxl_y
         1F:DBCB  8D E6 26   			sta.l	_sgx_map_pxl_y
         1F:DBCE  98         			tya
         1F:DBCF  49 FF      			eor	#$FF
         1F:DBD1  6D E7 26   			adc.h	_sgx_map_pxl_y
         1F:DBD4  8D E7 26   			sta.h	_sgx_map_pxl_y
 7190                        	
 7191                        		.dbg	line,	"include\routines_LEVELS.c", 326; }
 7192                        	
 7193                        		.dbg	line,	"include\routines_LEVELS.c", 329; else if(player_pos_y > 128)
 7194                        		__bra		.LL255
         1F:DBD7  80 7C      			bra	.LL255
 7195    1F:DBD9             	.LL252:
 7196                        		__ld.wm		_player_pos_y
         1F:DBD9  AD 03 25   			lda.l	_player_pos_y
         1F:DBDC  AC 04 25   			ldy.h	_player_pos_y
 7197                        		__sgt_w.wi	128
         1F:DBDF  18         			clc			; Subtract integer+1 from Y:A.
         1F:DBE0  E9 80      			sbc.l	#128
         1F:DBE2  98         			tya
         1F:DBE3  E9 00      			sbc.h	#128
         1F:DBE5  50 02      			bvc	!+
         1F:DBE7  49 80      			eor	#$80		; +ve if Y:A > integer (signed).
         1F:DBE9  49 80      	!:		eor	#$80
         1F:DBEB  0A         			asl	a
 7198                        		__bfalse	.LL256
         1F:DBEC  90 67      			bcc	.LL256
 7199                        	
 7200                        		.dbg	line,	"include\routines_LEVELS.c", 330; {
 7201                        	
 7202                        		.dbg	line,	"include\routines_LEVELS.c", 331; player_pos_y -= CAMERA_RECENTER_VELOCITY;
 7203                        		__sub_st.wmiq	6, _player_pos_y
         1F:DBEE  38         			sec
         1F:DBEF  AD 03 25   			lda.l	_player_pos_y
         1F:DBF2  E9 06      			sbc.l	#6
         1F:DBF4  8D 03 25   			sta.l	_player_pos_y
         1F:DBF7  B0 03      			bcs	!+
         1F:DBF9  CE 04 25   			dec.h	_player_pos_y
         1F:DBFC             	!:
 7204                        	
 7205                        		.dbg	line,	"include\routines_LEVELS.c", 333; if(player_pos_y < 128)
 7206                        		__ld.wm		_player_pos_y
         1F:DBFC  AD 03 25   			lda.l	_player_pos_y
         1F:DBFF  AC 04 25   			ldy.h	_player_pos_y
 7207                        		__slt_w.wi	128
         1F:DC02  C9 80      			cmp.l	#128		; Subtract integer from Y:A.
         1F:DC04  98         			tya
         1F:DC05  E9 00      			sbc.h	#128
         1F:DC07  50 02      			bvc	!+
         1F:DC09  49 80      			eor	#$80		; -ve if Y:A < integer (signed).
         1F:DC0B  0A         	!:		asl	a
 7208                        		__bfalse	.LL257
         1F:DC0C  90 24      			bcc	.LL257
 7209                        	
 7210                        		.dbg	line,	"include\routines_LEVELS.c", 334; {
 7211                        	
 7212                        		.dbg	line,	"include\routines_LEVELS.c", 335; camera_y_move = CAMERA_RECENTER_VELOCITY - (128 - player_pos_y);
 7213                        		__ld.wi		128
         1F:DC0E  A9 80      			lda.l	#128
         1F:DC10  C2         			cly
 7214                        		__sub.wm	_player_pos_y
         1F:DC11  38         			sec
         1F:DC12  ED 03 25   			sbc.l	_player_pos_y
         1F:DC15  42         			say
         1F:DC16  ED 04 25   			sbc.h	_player_pos_y
         1F:DC19  42         			say
 7215                        		__isub.wi	6
         1F:DC1A  38         			sec
         1F:DC1B  49 FF      			eor	#$FF
         1F:DC1D  69 06      			adc.l	#6
         1F:DC1F  42         			say
         1F:DC20  49 FF      			eor	#$FF
         1F:DC22  69 00      			adc.h	#6
         1F:DC24  42         			say
 7216                        		__st.umq	__recenter_CAMERA_end - 1  /* camera_y_move */
         1F:DC25  8D 2D 2C   			sta	__recenter_CAMERA_end - 1
 7217                        	
 7218                        		.dbg	line,	"include\routines_LEVELS.c", 337; player_pos_y = 128;
 7219                        		__st.wmiq	128, _player_pos_y
         1F:DC28  A9 80      			lda.l	#128
         1F:DC2A  8D 03 25   			sta.l	_player_pos_y
         1F:DC2D  9C 04 25   			stz.h	_player_pos_y
 7220                        	
 7221                        		.dbg	line,	"include\routines_LEVELS.c", 338; }
 7222                        	
 7223                        		.dbg	line,	"include\routines_LEVELS.c", 340; else
 7224                        		__bra		.LL258
         1F:DC30  80 05      			bra	.LL258
 7225    1F:DC32             	.LL257:
 7226                        	
 7227                        		.dbg	line,	"include\routines_LEVELS.c", 341; {
 7228                        	
 7229                        		.dbg	line,	"include\routines_LEVELS.c", 342; camera_y_move = CAMERA_RECENTER_VELOCITY;
 7230                        		__st.umiq	6, __recenter_CAMERA_end - 1  /* camera_y_move */
         1F:DC32  A9 06      			lda.l	#6
         1F:DC34  8D 2D 2C   			sta	__recenter_CAMERA_end - 1
 7231                        	
 7232                        		.dbg	line,	"include\routines_LEVELS.c", 343; }
 7233    1F:DC37             	.LL258:
 7234                        	
 7235                        		.dbg	line,	"include\routines_LEVELS.c", 345; spr_y(player_pos_y);
 7236                        		__ld.wm		_player_pos_y
         1F:DC37  AD 03 25   			lda.l	_player_pos_y
         1F:DC3A  AC 04 25   			ldy.h	_player_pos_y
 7237                        		__call		_spr_y.1
         1F:DC3D  20 2D E8   			call	_spr_y.1
 7238                        	
 7239                        		.dbg	line,	"include\routines_LEVELS.c", 347; sgx_map_pxl_y += camera_y_move;
 7240                        		__ld.bm		__recenter_CAMERA_end - 1  /* camera_y_move */
         1F:DC40  AD 2D 2C   			lda	__recenter_CAMERA_end - 1
         1F:DC43  C2         			cly
         1F:DC44  10 01      			bpl	!+
         1F:DC46  88         			dey
         1F:DC47             	!:
 7241                        		__add_st.wmq	_sgx_map_pxl_y
         1F:DC47  18         			clc
         1F:DC48  6D E6 26   			adc.l	_sgx_map_pxl_y
         1F:DC4B  8D E6 26   			sta.l	_sgx_map_pxl_y
         1F:DC4E  98         			tya
         1F:DC4F  6D E7 26   			adc.h	_sgx_map_pxl_y
         1F:DC52  8D E7 26   			sta.h	_sgx_map_pxl_y
 7242                        	
 7243                        		.dbg	line,	"include\routines_LEVELS.c", 348; }
 7244                        	
 7245                        		.dbg	line,	"include\routines_LEVELS.c", 349; }
 7246    1F:DC55             	.LL256:
 7247    1F:DC55             	.LL255:
 7248    1F:DC55             	.LL251:
 7249                        		__return	0
         1F:DC55  4C EF FF   			jmp	leave_proc
 7250                        		.dbg	clear
 7251                        		.endp
 7252               2300     		.bss
 7253    F8:2300             	__recenter_CAMERA_end	.alias	leaf_stack
 7254               E31D     		.code
 7255                        		.pceas
 7256                        	
 7257                        		.dbg	line,	"include\routines_LEVELS.c", 354; //-----------------------------------------------------------------------------//
 7258                        		.dbg	line,	"include\routines_LEVELS.c", 355; //                                 COLLISIONS                                  //
 7259                        		.dbg	line,	"include\routines_LEVELS.c", 356; //-----------------------------------------------------------------------------//
 7260                        		.dbg	line,	"include\routines_LEVELS.c", 358; int check_TILE_DEPTH(signed char x_offset , signed char y_offset)
 7261                        		.dbg	line,	"include\routines_LEVELS.c", 359; {
 7262                        	;***********************
 7263                        	;***********************
 7264                        	
 7265                        		.hucc
 7266    1F:DF86             		.proc		_check_TILE_DEPTH
 7267                        		__enter		_check_TILE_DEPTH
 7268                        	
 7269                        		.dbg	line,	"include\routines_LEVELS.c", 360; int player_COLL_X;
 7270                        	
 7271                        		.dbg	line,	"include\routines_LEVELS.c", 361; int player_COLL_Y;
 7272                        	
 7273                        		.dbg	line,	"include\routines_LEVELS.c", 364; player_COLL_X = player_pos_x + x_offset;
 7274                        		__ld.bs		2  /* x_offset */
         1F:DF86  A6 8D      			ldx	<__sp
         1F:DF88  B5 0A      			lda	<__stack + 2, x
         1F:DF8A  C2         			cly
         1F:DF8B  10 01      			bpl	!+	; signed
         1F:DF8D  88         			dey
         1F:DF8E             	!:
 7275                        		__add.wm	_player_pos_x
         1F:DF8E  18         			clc
         1F:DF8F  6D 01 25   			adc.l	_player_pos_x
         1F:DF92  42         			say
         1F:DF93  6D 02 25   			adc.h	_player_pos_x
         1F:DF96  42         			say
 7276                        		__st.wmq	__check_TILE_DEPTH_end - 2  /* player_COLL_X */
         1F:DF97  8D 2C 2C   			sta.l	__check_TILE_DEPTH_end - 2
         1F:DF9A  8C 2D 2C   			sty.h	__check_TILE_DEPTH_end - 2
 7277                        	
 7278                        		.dbg	line,	"include\routines_LEVELS.c", 365; player_COLL_Y = player_pos_y + 32 - y_offset;//32
 7279                        		__ld.wm		_player_pos_y
         1F:DF9D  AD 03 25   			lda.l	_player_pos_y
         1F:DFA0  AC 04 25   			ldy.h	_player_pos_y
 7280                        		__add.wi	32
         1F:DFA3  18         			clc
         1F:DFA4  69 20      			adc.l	#32
         1F:DFA6  90 01      			bcc	!+
         1F:DFA8  C8         			iny
         1F:DFA9             	!:
 7281                        		__push.wr
         1F:DFA9  5A         			phy
         1F:DFAA  48         			pha
 7282                        		__ld.bs		0  /* y_offset */
         1F:DFAB  A6 8D      			ldx	<__sp
         1F:DFAD  B5 08      			lda	<__stack + 0, x
         1F:DFAF  C2         			cly
         1F:DFB0  10 01      			bpl	!+	; signed
         1F:DFB2  88         			dey
         1F:DFB3             	!:
 7283                        		__sub.wt
         1F:DFB3  BA         			tsx
         1F:DFB4  38         			sec
         1F:DFB5  49 FF      			eor	#$FF
         1F:DFB7  7D 01 21   			adc.l	__tos, x
         1F:DFBA  42         			say
         1F:DFBB  49 FF      			eor	#$FF
         1F:DFBD  7D 02 21   			adc.h	__tos, x
         1F:DFC0  42         			say
         1F:DFC1  E8         			inx
         1F:DFC2  E8         			inx
         1F:DFC3  9A         			txs
 7284                        		__st.wmq	__check_TILE_DEPTH_end - 4  /* player_COLL_Y */
         1F:DFC4  8D 2A 2C   			sta.l	__check_TILE_DEPTH_end - 4
         1F:DFC7  8C 2B 2C   			sty.h	__check_TILE_DEPTH_end - 4
 7285                        	
 7286                        		.dbg	line,	"include\routines_LEVELS.c", 367; get_map_block(player_COLL_X + sgx_map_pxl_x, player_COLL_Y + sgx_map_pxl_y);
 7287                        		__ld.wm		__check_TILE_DEPTH_end - 2  /* player_COLL_X */
         1F:DFCA  AD 2C 2C   			lda.l	__check_TILE_DEPTH_end - 2
         1F:DFCD  AC 2D 2C   			ldy.h	__check_TILE_DEPTH_end - 2
 7288                        		__add.wm	_sgx_map_pxl_x
         1F:DFD0  18         			clc
         1F:DFD1  6D E4 26   			adc.l	_sgx_map_pxl_x
         1F:DFD4  42         			say
         1F:DFD5  6D E5 26   			adc.h	_sgx_map_pxl_x
         1F:DFD8  42         			say
 7289                        		__st.wmq	map_pxl_x
         1F:DFD9  85 FC      			sta.l	map_pxl_x
         1F:DFDB  84 FD      			sty.h	map_pxl_x
 7290                        		__ld.wm		__check_TILE_DEPTH_end - 4  /* player_COLL_Y */
         1F:DFDD  AD 2A 2C   			lda.l	__check_TILE_DEPTH_end - 4
         1F:DFE0  AC 2B 2C   			ldy.h	__check_TILE_DEPTH_end - 4
 7291                        		__add.wm	_sgx_map_pxl_y
         1F:DFE3  18         			clc
         1F:DFE4  6D E6 26   			adc.l	_sgx_map_pxl_y
         1F:DFE7  42         			say
         1F:DFE8  6D E7 26   			adc.h	_sgx_map_pxl_y
         1F:DFEB  42         			say
 7292                        		__st.wmq	map_pxl_y
         1F:DFEC  85 FE      			sta.l	map_pxl_y
         1F:DFEE  84 FF      			sty.h	map_pxl_y
 7293                        		__call		_get_map_block.2
         1F:DFF0  20 4F FF   			call	_get_map_block.2
 7294                        	
 7295                        		.dbg	line,	"include\routines_LEVELS.c", 368; }
 7296    1F:DFF3             	.LL259:
 7297                        		__modsp		4
         1F:DFF3  AA         			tax
         1F:DFF4  A5 8D      			lda	<__sp
         1F:DFF6  18         			clc
         1F:DFF7  69 04      			adc	#4
         1F:DFF9  85 8D      			sta	<__sp
         1F:DFFB  8A         			txa
 7298                        		__return	1
         1F:DFFC  AA         			tax
         1F:DFFD  4C EF FF   			jmp	leave_proc
 7299                        		.dbg	clear
 7300                        		.endp
 7301               2300     		.bss
 7302    F8:2300             	__check_TILE_DEPTH_end	.alias	leaf_stack
 7303               E31D     		.code
 7304                        		.pceas
 7305                        	
 7306                        		.dbg	line,	"include\routines_LEVELS.c", 370; // CHECK COLLISION PLAYER -> BG //
 7307                        		.dbg	line,	"include\routines_LEVELS.c", 371; int collision_PLAYER_BG(signed char x_offset , signed char y_offset)
 7308                        		.dbg	line,	"include\routines_LEVELS.c", 372; {
 7309                        	;***********************
 7310                        	;***********************
 7311                        	
 7312                        		.hucc
 7313    20:C309             		.proc		_collision_PLAYER_BG
 7314                        		__enter		_collision_PLAYER_BG
 7315                        	
 7316                        		.dbg	line,	"include\routines_LEVELS.c", 373; int player_COLL_X;
 7317                        	
 7318                        		.dbg	line,	"include\routines_LEVELS.c", 374; int player_COLL_Y;
 7319                        	
 7320                        		.dbg	line,	"include\routines_LEVELS.c", 377; player_COLL_X = player_pos_x + x_offset;
 7321                        		__ld.bs		2  /* x_offset */
         20:C309  A6 8D      			ldx	<__sp
         20:C30B  B5 0A      			lda	<__stack + 2, x
         20:C30D  C2         			cly
         20:C30E  10 01      			bpl	!+	; signed
         20:C310  88         			dey
         20:C311             	!:
 7322                        		__add.wm	_player_pos_x
         20:C311  18         			clc
         20:C312  6D 01 25   			adc.l	_player_pos_x
         20:C315  42         			say
         20:C316  6D 02 25   			adc.h	_player_pos_x
         20:C319  42         			say
 7323                        		__st.wmq	__collision_PLAYER_BG_end - 2  /* player_COLL_X */
         20:C31A  8D 2C 2C   			sta.l	__collision_PLAYER_BG_end - 2
         20:C31D  8C 2D 2C   			sty.h	__collision_PLAYER_BG_end - 2
 7324                        	
 7325                        		.dbg	line,	"include\routines_LEVELS.c", 378; player_COLL_Y = player_pos_y + y_offset;
 7326                        		__ld.bs		0  /* y_offset */
         20:C320  A6 8D      			ldx	<__sp
         20:C322  B5 08      			lda	<__stack + 0, x
         20:C324  C2         			cly
         20:C325  10 01      			bpl	!+	; signed
         20:C327  88         			dey
         20:C328             	!:
 7327                        		__add.wm	_player_pos_y
         20:C328  18         			clc
         20:C329  6D 03 25   			adc.l	_player_pos_y
         20:C32C  42         			say
         20:C32D  6D 04 25   			adc.h	_player_pos_y
         20:C330  42         			say
 7328                        		__st.wmq	__collision_PLAYER_BG_end - 4  /* player_COLL_Y */
         20:C331  8D 2A 2C   			sta.l	__collision_PLAYER_BG_end - 4
         20:C334  8C 2B 2C   			sty.h	__collision_PLAYER_BG_end - 4
 7329                        	
 7330                        		.dbg	line,	"include\routines_LEVELS.c", 380; get_map_block(player_COLL_X + sgx_map_pxl_x, player_COLL_Y + sgx_map_pxl_y);
 7331                        		__ld.wm		__collision_PLAYER_BG_end - 2  /* player_COLL_X */
         20:C337  AD 2C 2C   			lda.l	__collision_PLAYER_BG_end - 2
         20:C33A  AC 2D 2C   			ldy.h	__collision_PLAYER_BG_end - 2
 7332                        		__add.wm	_sgx_map_pxl_x
         20:C33D  18         			clc
         20:C33E  6D E4 26   			adc.l	_sgx_map_pxl_x
         20:C341  42         			say
         20:C342  6D E5 26   			adc.h	_sgx_map_pxl_x
         20:C345  42         			say
 7333                        		__st.wmq	map_pxl_x
         20:C346  85 FC      			sta.l	map_pxl_x
         20:C348  84 FD      			sty.h	map_pxl_x
 7334                        		__ld.wm		__collision_PLAYER_BG_end - 4  /* player_COLL_Y */
         20:C34A  AD 2A 2C   			lda.l	__collision_PLAYER_BG_end - 4
         20:C34D  AC 2B 2C   			ldy.h	__collision_PLAYER_BG_end - 4
 7335                        		__add.wm	_sgx_map_pxl_y
         20:C350  18         			clc
         20:C351  6D E6 26   			adc.l	_sgx_map_pxl_y
         20:C354  42         			say
         20:C355  6D E7 26   			adc.h	_sgx_map_pxl_y
         20:C358  42         			say
 7336                        		__st.wmq	map_pxl_y
         20:C359  85 FE      			sta.l	map_pxl_y
         20:C35B  84 FF      			sty.h	map_pxl_y
 7337                        		__call		_get_map_block.2
         20:C35D  20 4F FF   			call	_get_map_block.2
 7338                        	
 7339                        		.dbg	line,	"include\routines_LEVELS.c", 381; }
 7340    20:C360             	.LL260:
 7341                        		__modsp		4
         20:C360  AA         			tax
         20:C361  A5 8D      			lda	<__sp
         20:C363  18         			clc
         20:C364  69 04      			adc	#4
         20:C366  85 8D      			sta	<__sp
         20:C368  8A         			txa
 7342                        		__return	1
         20:C369  AA         			tax
         20:C36A  4C EF FF   			jmp	leave_proc
 7343                        		.dbg	clear
 7344                        		.endp
 7345               2300     		.bss
 7346    F8:2300             	__collision_PLAYER_BG_end	.alias	leaf_stack
 7347               E31D     		.code
 7348                        		.pceas
 7349                        	
 7350                        		.dbg	line,	"include\routines_LEVELS.c", 383; // CHECK COLLISION PLAYER -> OBJECTS //
 7351                        		.dbg	line,	"include\routines_LEVELS.c", 384; void collision_PLAYER_OBJECT()
 7352                        		.dbg	line,	"include\routines_LEVELS.c", 385; {
 7353                        	;***********************
 7354                        	;***********************
 7355                        	
 7356                        		.hucc
 7357    1F:CEE0             		.proc		_collision_PLAYER_OBJECT
 7358                        		__enter		_collision_PLAYER_OBJECT
 7359                        	
 7360                        		.dbg	line,	"include\routines_LEVELS.c", 386; if(onscreen_object_number != 0)
 7361                        		__tst.um	_onscreen_object_number
         1F:CEE0  AD 3A 23   			lda	_onscreen_object_number
         1F:CEE3  C9 01      			cmp	#1
 7362                        		__bfalse	.LL262
         1F:CEE5  B0 03 4C F9			bcc	.LL262
         1F:CEE9  D0          
 7363                        	
 7364                        		.dbg	line,	"include\routines_LEVELS.c", 387; {
 7365                        	
 7366                        		.dbg	line,	"include\routines_LEVELS.c", 388; char i;
 7367                        	
 7368                        		.dbg	line,	"include\routines_LEVELS.c", 389; char current_object_id;
 7369                        	
 7370                        		.dbg	line,	"include\routines_LEVELS.c", 390; char current_object_type;
 7371                        	
 7372                        		.dbg	line,	"include\routines_LEVELS.c", 392; for(i=0 ; i<onscreen_object_number ; i++)
 7373                        		__st.umiq	0, __collision_PLAYER_OBJECT_end - 1  /* i */
         1F:CEEA  9C 02 23   			stz	__collision_PLAYER_OBJECT_end - 1
 7374    1F:CEED             	.LL263:
 7375                        		__ld.umq	__collision_PLAYER_OBJECT_end - 1  /* i */
         1F:CEED  AD 02 23   			lda	__collision_PLAYER_OBJECT_end - 1
 7376                        		__ult_b.umq	_onscreen_object_number
         1F:CEF0  CD 3A 23   			cmp	_onscreen_object_number		; Subtract memory from A.
         1F:CEF3  6A         			ror	a		; CC if A < memory.
         1F:CEF4  49 80      			eor	#$80
         1F:CEF6  2A         			rol	a
 7377                        		__btrue		.LL265
         1F:CEF7  B0 08      			bcs	.LL265
 7378                        		__bra		.LL266
         1F:CEF9  4C F9 D0   			bra	.LL266
 7379    1F:CEFC             	.LL264:
 7380                        		__inc.umq	__collision_PLAYER_OBJECT_end - 1  /* i */
         1F:CEFC  EE 02 23   			inc	__collision_PLAYER_OBJECT_end - 1
 7381                        		__bra		.LL263
         1F:CEFF  80 EC      			bra	.LL263
 7382    1F:CF01             	.LL265:
 7383                        	
 7384                        		.dbg	line,	"include\routines_LEVELS.c", 393; {
 7385                        	
 7386                        		.dbg	line,	"include\routines_LEVELS.c", 394; // RETRIEVE OBJECT INDEX IN THE LIST //
 7387                        	
 7388                        		.dbg	line,	"include\routines_LEVELS.c", 395; current_object_id = list_onscreen_object[i];
 7389                        		__ldx.umq	__collision_PLAYER_OBJECT_end - 1  /* i */
         1F:CF01  AE 02 23   			ldx	__collision_PLAYER_OBJECT_end - 1
 7390                        		__ld.uax	_list_onscreen_object
         1F:CF04  BD B8 23   			lda	_list_onscreen_object, x
         1F:CF07  C2         			cly
 7391                        		__st.umq	__collision_PLAYER_OBJECT_end - 2  /* current_object_id */
         1F:CF08  8D 01 23   			sta	__collision_PLAYER_OBJECT_end - 2
 7392                        	
 7393                        		.dbg	line,	"include\routines_LEVELS.c", 396; // RETRIEVE OBJECT TYPE //
 7394                        	
 7395                        		.dbg	line,	"include\routines_LEVELS.c", 397; current_object_type = list_object_type[current_object_id];
 7396                        		__ldx.umq	__collision_PLAYER_OBJECT_end - 2  /* current_object_id */
         1F:CF0B  AE 01 23   			ldx	__collision_PLAYER_OBJECT_end - 2
 7397                        		__ld.uax	_list_object_type
         1F:CF0E  BD 3B 23   			lda	_list_object_type, x
         1F:CF11  C2         			cly
 7398                        		__st.umq	__collision_PLAYER_OBJECT_end - 3  /* current_object_type */
         1F:CF12  8D 00 23   			sta	__collision_PLAYER_OBJECT_end - 3
 7399                        	
 7400                        		.dbg	line,	"include\routines_LEVELS.c", 399; if(current_object_type != TYPE_POT)
 7401                        		__ld.umq	__collision_PLAYER_OBJECT_end - 3  /* current_object_type */
         1F:CF15  AD 00 23   			lda	__collision_PLAYER_OBJECT_end - 3
 7402                        		__neq_b.uiq	1
         1F:CF18  38         			sec
         1F:CF19  49 01      			eor	#1
         1F:CF1B  D0 01      			bne	!+
         1F:CF1D  18         			clc
         1F:CF1E             	!:
 7403                        		__bfalse	.LL267
         1F:CF1E  90 DC      			bcc	.LL267
 7404                        	
 7405                        		.dbg	line,	"include\routines_LEVELS.c", 400; {
 7406                        	
 7407                        		.dbg	line,	"include\routines_LEVELS.c", 401; if(abs( (player_pos_x + 16) - (list_object_x_pos[current_object_id] + 8) ) < OBJECT_MARGIN)
 7408                        		__ld.wm		_player_pos_x
         1F:CF20  AD 01 25   			lda.l	_player_pos_x
         1F:CF23  AC 02 25   			ldy.h	_player_pos_x
 7409                        		__add.wi	16
         1F:CF26  18         			clc
         1F:CF27  69 10      			adc.l	#16
         1F:CF29  90 01      			bcc	!+
         1F:CF2B  C8         			iny
         1F:CF2C             	!:
 7410                        		__push.wr
         1F:CF2C  5A         			phy
         1F:CF2D  48         			pha
 7411                        		__ld2x.umq	__collision_PLAYER_OBJECT_end - 2  /* current_object_id */
         1F:CF2E  AD 01 23   			lda	__collision_PLAYER_OBJECT_end - 2
         1F:CF31  0A         			asl	a
         1F:CF32  AA         			tax
 7412                        		__ld.wax	_list_object_x_pos
         1F:CF33  BD 0B 25   			lda.l	_list_object_x_pos, x
         1F:CF36  BC 0C 25   			ldy.h	_list_object_x_pos, x
 7413                        		__add.wi	8
         1F:CF39  18         			clc
         1F:CF3A  69 08      			adc.l	#8
         1F:CF3C  90 01      			bcc	!+
         1F:CF3E  C8         			iny
         1F:CF3F             	!:
 7414                        		__sub.wt
         1F:CF3F  BA         			tsx
         1F:CF40  38         			sec
         1F:CF41  49 FF      			eor	#$FF
         1F:CF43  7D 01 21   			adc.l	__tos, x
         1F:CF46  42         			say
         1F:CF47  49 FF      			eor	#$FF
         1F:CF49  7D 02 21   			adc.h	__tos, x
         1F:CF4C  42         			say
         1F:CF4D  E8         			inx
         1F:CF4E  E8         			inx
         1F:CF4F  9A         			txs
 7415                        		__call		_abs.1
         1F:CF50  20 1D E5   			call	_abs.1
 7416                        		__slt_w.wi	10
         1F:CF53  C9 0A      			cmp.l	#10		; Subtract integer from Y:A.
         1F:CF55  98         			tya
         1F:CF56  E9 00      			sbc.h	#10
         1F:CF58  50 02      			bvc	!+
         1F:CF5A  49 80      			eor	#$80		; -ve if Y:A < integer (signed).
         1F:CF5C  0A         	!:		asl	a
 7417                        		__bfalse	.LL268
         1F:CF5D  90 9D      			bcc	.LL268
 7418                        	
 7419                        		.dbg	line,	"include\routines_LEVELS.c", 402; {
 7420                        	
 7421                        		.dbg	line,	"include\routines_LEVELS.c", 403; if(abs( (player_pos_y + 16) - (list_object_y_pos[current_object_id] + 8) ) < OBJECT_MARGIN)
 7422                        		__ld.wm		_player_pos_y
         1F:CF5F  AD 03 25   			lda.l	_player_pos_y
         1F:CF62  AC 04 25   			ldy.h	_player_pos_y
 7423                        		__add.wi	16
         1F:CF65  18         			clc
         1F:CF66  69 10      			adc.l	#16
         1F:CF68  90 01      			bcc	!+
         1F:CF6A  C8         			iny
         1F:CF6B             	!:
 7424                        		__push.wr
         1F:CF6B  5A         			phy
         1F:CF6C  48         			pha
 7425                        		__ld2x.umq	__collision_PLAYER_OBJECT_end - 2  /* current_object_id */
         1F:CF6D  AD 01 23   			lda	__collision_PLAYER_OBJECT_end - 2
         1F:CF70  0A         			asl	a
         1F:CF71  AA         			tax
 7426                        		__ld.wax	_list_object_y_pos
         1F:CF72  BD 3D 25   			lda.l	_list_object_y_pos, x
         1F:CF75  BC 3E 25   			ldy.h	_list_object_y_pos, x
 7427                        		__add.wi	8
         1F:CF78  18         			clc
         1F:CF79  69 08      			adc.l	#8
         1F:CF7B  90 01      			bcc	!+
         1F:CF7D  C8         			iny
         1F:CF7E             	!:
 7428                        		__sub.wt
         1F:CF7E  BA         			tsx
         1F:CF7F  38         			sec
         1F:CF80  49 FF      			eor	#$FF
         1F:CF82  7D 01 21   			adc.l	__tos, x
         1F:CF85  42         			say
         1F:CF86  49 FF      			eor	#$FF
         1F:CF88  7D 02 21   			adc.h	__tos, x
         1F:CF8B  42         			say
         1F:CF8C  E8         			inx
         1F:CF8D  E8         			inx
         1F:CF8E  9A         			txs
 7429                        		__call		_abs.1
         1F:CF8F  20 1D E5   			call	_abs.1
 7430                        		__slt_w.wi	10
         1F:CF92  C9 0A      			cmp.l	#10		; Subtract integer from Y:A.
         1F:CF94  98         			tya
         1F:CF95  E9 00      			sbc.h	#10
         1F:CF97  50 02      			bvc	!+
         1F:CF99  49 80      			eor	#$80		; -ve if Y:A < integer (signed).
         1F:CF9B  0A         	!:		asl	a
 7431                        		__bfalse	.LL269
         1F:CF9C  B0 03 4C FC			bcc	.LL269
         1F:CFA0  CE          
 7432                        	
 7433                        		.dbg	line,	"include\routines_LEVELS.c", 404; {
 7434                        	
 7435                        		.dbg	line,	"include\routines_LEVELS.c", 405; // THE OBJECT DISAPPEARS //
 7436                        	
 7437                        		.dbg	line,	"include\routines_LEVELS.c", 406; list_object_x_pos[current_object_id] = -16;
 7438                        		__ld2x.umq	__collision_PLAYER_OBJECT_end - 2  /* current_object_id */
         1F:CFA1  AD 01 23   			lda	__collision_PLAYER_OBJECT_end - 2
         1F:CFA4  0A         			asl	a
         1F:CFA5  AA         			tax
 7439                        		__st.waxiq	-16, _list_object_x_pos
         1F:CFA6  A9 F0      			lda.l	#-16
         1F:CFA8  9D 0B 25   			sta.l	_list_object_x_pos, x
         1F:CFAB  A9 FF      			lda.h	#-16
         1F:CFAD  9D 0C 25   			sta.h	_list_object_x_pos, x
 7440                        	
 7441                        		.dbg	line,	"include\routines_LEVELS.c", 407; list_object_y_pos[current_object_id] = -16;
 7442                        		__ld2x.umq	__collision_PLAYER_OBJECT_end - 2  /* current_object_id */
         1F:CFB0  AD 01 23   			lda	__collision_PLAYER_OBJECT_end - 2
         1F:CFB3  0A         			asl	a
         1F:CFB4  AA         			tax
 7443                        		__st.waxiq	-16, _list_object_y_pos
         1F:CFB5  A9 F0      			lda.l	#-16
         1F:CFB7  9D 3D 25   			sta.l	_list_object_y_pos, x
         1F:CFBA  A9 FF      			lda.h	#-16
         1F:CFBC  9D 3E 25   			sta.h	_list_object_y_pos, x
 7444                        	
 7445                        		.dbg	line,	"include\routines_LEVELS.c", 408; list_object_state[current_object_id] = STATE_FREE;
 7446                        		__ldx.umq	__collision_PLAYER_OBJECT_end - 2  /* current_object_id */
         1F:CFBF  AE 01 23   			ldx	__collision_PLAYER_OBJECT_end - 2
 7447                        		__st.uaxiq	0, _list_object_state
         1F:CFC2  9E 54 23   			stz	_list_object_state, x
 7448                        	
 7449                        		.dbg	line,	"include\routines_LEVELS.c", 410; sgx_spr_set(current_object_id + object_start_index);
 7450                        		__ld.um		__collision_PLAYER_OBJECT_end - 2  /* current_object_id */
         1F:CFC5  AD 01 23   			lda	__collision_PLAYER_OBJECT_end - 2
         1F:CFC8  C2         			cly
 7451                        		__add.um	_object_start_index
         1F:CFC9  18         			clc
         1F:CFCA  6D 38 23   			adc	_object_start_index
         1F:CFCD  90 01      			bcc	!+
         1F:CFCF  C8         			iny
         1F:CFD0             	!:
 7452                        		__call		_sgx_spr_set.1
         1F:CFD0  20 9E E8   			call	_sgx_spr_set.1
 7453                        	
 7454                        		.dbg	line,	"include\routines_LEVELS.c", 411; sgx_spr_x(list_object_x_pos[current_object_id]);
 7455                        		__ld2x.umq	__collision_PLAYER_OBJECT_end - 2  /* current_object_id */
         1F:CFD3  AD 01 23   			lda	__collision_PLAYER_OBJECT_end - 2
         1F:CFD6  0A         			asl	a
         1F:CFD7  AA         			tax
 7456                        		__ld.wax	_list_object_x_pos
         1F:CFD8  BD 0B 25   			lda.l	_list_object_x_pos, x
         1F:CFDB  BC 0C 25   			ldy.h	_list_object_x_pos, x
 7457                        		__call		_sgx_spr_x.1
         1F:CFDE  20 CB E8   			call	_sgx_spr_x.1
 7458                        	
 7459                        		.dbg	line,	"include\routines_LEVELS.c", 412; sgx_spr_y(list_object_y_pos[current_object_id]);
 7460                        		__ld2x.umq	__collision_PLAYER_OBJECT_end - 2  /* current_object_id */
         1F:CFE1  AD 01 23   			lda	__collision_PLAYER_OBJECT_end - 2
         1F:CFE4  0A         			asl	a
         1F:CFE5  AA         			tax
 7461                        		__ld.wax	_list_object_y_pos
         1F:CFE6  BD 3D 25   			lda.l	_list_object_y_pos, x
         1F:CFE9  BC 3E 25   			ldy.h	_list_object_y_pos, x
 7462                        		__call		_sgx_spr_y.1
         1F:CFEC  20 DA E8   			call	_sgx_spr_y.1
 7463                        	
 7464                        		.dbg	line,	"include\routines_LEVELS.c", 413; 
 7465                        	
 7466                        		.dbg	line,	"include\routines_LEVELS.c", 415; switch(current_object_type)
 7467                        		__ld.umq	__collision_PLAYER_OBJECT_end - 3  /* current_object_type */
         1F:CFEF  AD 00 23   			lda	__collision_PLAYER_OBJECT_end - 3
 7468                        		__bra		.LL270
         1F:CFF2  4C CB D0   			bra	.LL270
 7469                        	
 7470                        		.dbg	line,	"include\routines_LEVELS.c", 416; {
 7471                        	
 7472                        		.dbg	line,	"include\routines_LEVELS.c", 417; case TYPE_HOURGLASS:
 7473    1F:CFF5             	.LL272:
 7474                        		__case		0
 7475                        	
 7476                        		.dbg	line,	"include\routines_LEVELS.c", 418; if(seconds + 30 > 59)
 7477                        		__ld.um		_seconds
         1F:CFF5  AD 34 23   			lda	_seconds
         1F:CFF8  C2         			cly
 7478                        		__add.wi	30
         1F:CFF9  18         			clc
         1F:CFFA  69 1E      			adc.l	#30
         1F:CFFC  90 01      			bcc	!+
         1F:CFFE  C8         			iny
         1F:CFFF             	!:
 7479                        		__sgt_w.wi	59
         1F:CFFF  18         			clc			; Subtract integer+1 from Y:A.
         1F:D000  E9 3B      			sbc.l	#59
         1F:D002  98         			tya
         1F:D003  E9 00      			sbc.h	#59
         1F:D005  50 02      			bvc	!+
         1F:D007  49 80      			eor	#$80		; +ve if Y:A > integer (signed).
         1F:D009  49 80      	!:		eor	#$80
         1F:D00B  0A         			asl	a
 7480                        		__bfalse	.LL273
         1F:D00C  90 13      			bcc	.LL273
 7481                        	
 7482                        		.dbg	line,	"include\routines_LEVELS.c", 419; {
 7483                        	
 7484                        		.dbg	line,	"include\routines_LEVELS.c", 420; seconds = seconds + 30 - 60;
 7485                        		__ld.um		_seconds
         1F:D00E  AD 34 23   			lda	_seconds
         1F:D011  C2         			cly
 7486                        		__sub.wi	30
         1F:D012  38         			sec
         1F:D013  E9 1E      			sbc.l	#30
         1F:D015  B0 01      			bcs	!+
         1F:D017  88         			dey
         1F:D018             	!:
 7487                        		__st.umq	_seconds
         1F:D018  8D 34 23   			sta	_seconds
 7488                        	
 7489                        		.dbg	line,	"include\routines_LEVELS.c", 421; minutes += 1;
 7490                        		__add_st.umiq	1, _minutes
         1F:D01B  EE 33 23   			inc	_minutes
 7491                        	
 7492                        		.dbg	line,	"include\routines_LEVELS.c", 422; }
 7493                        	
 7494                        		.dbg	line,	"include\routines_LEVELS.c", 424; else
 7495                        		__bra		.LL274
         1F:D01E  4C FC CE   			bra	.LL274
 7496    1F:D021             	.LL273:
 7497                        	
 7498                        		.dbg	line,	"include\routines_LEVELS.c", 425; {
 7499                        	
 7500                        		.dbg	line,	"include\routines_LEVELS.c", 426; seconds += 30;
 7501                        		__add_st.umiq	30, _seconds
         1F:D021  18         			clc
         1F:D022  AD 34 23   			lda	_seconds
         1F:D025  69 1E      			adc	#30
         1F:D027  8D 34 23   			sta	_seconds
 7502                        	
 7503                        		.dbg	line,	"include\routines_LEVELS.c", 427; }
 7504    1F:D02A             	.LL274	.alias		.LL271
 7505                        	
 7506                        		.dbg	line,	"include\routines_LEVELS.c", 429; break;
 7507                        		__bra		.LL271
         1F:D02A  4C FC CE   			bra	.LL271
 7508                        	
 7509                        		.dbg	line,	"include\routines_LEVELS.c", 431; case TYPE_POW:
 7510    1F:D02D             	.LL275:
 7511                        		__case		2
 7512                        	
 7513                        		.dbg	line,	"include\routines_LEVELS.c", 432; //
 7514                        	
 7515                        		.dbg	line,	"include\routines_LEVELS.c", 433; break;
 7516                        		__bra		.LL271
         1F:D02D  4C FC CE   			bra	.LL271
 7517                        	
 7518                        		.dbg	line,	"include\routines_LEVELS.c", 435; case TYPE_GRAY_KEY:
 7519    1F:D030             	.LL276:
 7520                        		__case		4
 7521                        	
 7522                        		.dbg	line,	"include\routines_LEVELS.c", 436; key_amount += 1;
 7523                        		__add_st.umiq	1, _key_amount
         1F:D030  EE 31 23   			inc	_key_amount
 7524                        	
 7525                        		.dbg	line,	"include\routines_LEVELS.c", 437; display_KEY();
 7526                        		__call		_display_KEY
         1F:D033  20 45 FF   			call	_display_KEY
 7527                        	
 7528                        		.dbg	line,	"include\routines_LEVELS.c", 438; break;
 7529                        		__bra		.LL271
         1F:D036  4C FC CE   			bra	.LL271
 7530                        	
 7531                        		.dbg	line,	"include\routines_LEVELS.c", 440; case TYPE_COIN_1:
 7532    1F:D039             	.LL277:
 7533                        		__case		7
 7534                        	
 7535                        		.dbg	line,	"include\routines_LEVELS.c", 441; zenny_amount += 1;
 7536                        		__add_st.wmiq	1, _zenny_amount
         1F:D039  EE 61 26   			inc.l	_zenny_amount
         1F:D03C  D0 03      			bne	!+
         1F:D03E  EE 62 26   			inc.h	_zenny_amount
         1F:D041             	!:
 7537                        	
 7538                        		.dbg	line,	"include\routines_LEVELS.c", 442; display_ZENNY();
 7539                        		__call		_display_ZENNY
         1F:D041  20 3B FF   			call	_display_ZENNY
 7540                        	
 7541                        		.dbg	line,	"include\routines_LEVELS.c", 443; break;
 7542                        		__bra		.LL271
         1F:D044  4C FC CE   			bra	.LL271
 7543                        	
 7544                        		.dbg	line,	"include\routines_LEVELS.c", 445; case TYPE_COIN_5:
 7545    1F:D047             	.LL278:
 7546                        		__case		8
 7547                        	
 7548                        		.dbg	line,	"include\routines_LEVELS.c", 446; zenny_amount += 5;
 7549                        		__add_st.wmiq	5, _zenny_amount
         1F:D047  18         			clc
         1F:D048  AD 61 26   			lda.l	_zenny_amount
         1F:D04B  69 05      			adc.l	#5
         1F:D04D  8D 61 26   			sta.l	_zenny_amount
         1F:D050  90 03      			bcc	!+
         1F:D052  EE 62 26   			inc.h	_zenny_amount
         1F:D055             	!:
 7550                        	
 7551                        		.dbg	line,	"include\routines_LEVELS.c", 447; display_ZENNY();
 7552                        		__call		_display_ZENNY
         1F:D055  20 3B FF   			call	_display_ZENNY
 7553                        	
 7554                        		.dbg	line,	"include\routines_LEVELS.c", 448; break;
 7555                        		__bra		.LL271
         1F:D058  4C FC CE   			bra	.LL271
 7556                        	
 7557                        		.dbg	line,	"include\routines_LEVELS.c", 450; case TYPE_COIN_10:
 7558    1F:D05B             	.LL279:
 7559                        		__case		9
 7560                        	
 7561                        		.dbg	line,	"include\routines_LEVELS.c", 451; zenny_amount += 10;
 7562                        		__add_st.wmiq	10, _zenny_amount
         1F:D05B  18         			clc
         1F:D05C  AD 61 26   			lda.l	_zenny_amount
         1F:D05F  69 0A      			adc.l	#10
         1F:D061  8D 61 26   			sta.l	_zenny_amount
         1F:D064  90 03      			bcc	!+
         1F:D066  EE 62 26   			inc.h	_zenny_amount
         1F:D069             	!:
 7563                        	
 7564                        		.dbg	line,	"include\routines_LEVELS.c", 452; display_ZENNY();
 7565                        		__call		_display_ZENNY
         1F:D069  20 3B FF   			call	_display_ZENNY
 7566                        	
 7567                        		.dbg	line,	"include\routines_LEVELS.c", 453; break;
 7568                        		__bra		.LL271
         1F:D06C  4C FC CE   			bra	.LL271
 7569                        	
 7570                        		.dbg	line,	"include\routines_LEVELS.c", 455; case TYPE_COIN_50:
 7571    1F:D06F             	.LL280:
 7572                        		__case		10
 7573                        	
 7574                        		.dbg	line,	"include\routines_LEVELS.c", 456; zenny_amount += 50;
 7575                        		__add_st.wmiq	50, _zenny_amount
         1F:D06F  18         			clc
         1F:D070  AD 61 26   			lda.l	_zenny_amount
         1F:D073  69 32      			adc.l	#50
         1F:D075  8D 61 26   			sta.l	_zenny_amount
         1F:D078  90 03      			bcc	!+
         1F:D07A  EE 62 26   			inc.h	_zenny_amount
         1F:D07D             	!:
 7576                        	
 7577                        		.dbg	line,	"include\routines_LEVELS.c", 457; display_ZENNY();
 7578                        		__call		_display_ZENNY
         1F:D07D  20 3B FF   			call	_display_ZENNY
 7579                        	
 7580                        		.dbg	line,	"include\routines_LEVELS.c", 458; break;
 7581                        		__bra		.LL271
         1F:D080  4C FC CE   			bra	.LL271
 7582                        	
 7583                        		.dbg	line,	"include\routines_LEVELS.c", 460; case TYPE_COIN_100:
 7584    1F:D083             	.LL281:
 7585                        		__case		11
 7586                        	
 7587                        		.dbg	line,	"include\routines_LEVELS.c", 461; zenny_amount += 100;
 7588                        		__add_st.wmiq	100, _zenny_amount
         1F:D083  18         			clc
         1F:D084  AD 61 26   			lda.l	_zenny_amount
         1F:D087  69 64      			adc.l	#100
         1F:D089  8D 61 26   			sta.l	_zenny_amount
         1F:D08C  90 03      			bcc	!+
         1F:D08E  EE 62 26   			inc.h	_zenny_amount
         1F:D091             	!:
 7589                        	
 7590                        		.dbg	line,	"include\routines_LEVELS.c", 462; display_ZENNY();
 7591                        		__call		_display_ZENNY
         1F:D091  20 3B FF   			call	_display_ZENNY
 7592                        	
 7593                        		.dbg	line,	"include\routines_LEVELS.c", 463; break;
 7594                        		__bra		.LL271
         1F:D094  4C FC CE   			bra	.LL271
 7595                        	
 7596                        		.dbg	line,	"include\routines_LEVELS.c", 465; case TYPE_COIN_500:
 7597    1F:D097             	.LL282:
 7598                        		__case		12
 7599                        	
 7600                        		.dbg	line,	"include\routines_LEVELS.c", 466; zenny_amount += 500;
 7601                        		__add_st.wmiq	500, _zenny_amount
         1F:D097  18         			clc
         1F:D098  AD 61 26   			lda.l	_zenny_amount
         1F:D09B  69 F4      			adc.l	#500
         1F:D09D  8D 61 26   			sta.l	_zenny_amount
         1F:D0A0  AD 62 26   			lda.h	_zenny_amount
         1F:D0A3  69 01      			adc.h	#500
         1F:D0A5  8D 62 26   			sta.h	_zenny_amount
 7602                        	
 7603                        		.dbg	line,	"include\routines_LEVELS.c", 467; display_ZENNY();
 7604                        		__call		_display_ZENNY
         1F:D0A8  20 3B FF   			call	_display_ZENNY
 7605                        	
 7606                        		.dbg	line,	"include\routines_LEVELS.c", 468; break;
 7607                        		__bra		.LL271
         1F:D0AB  4C FC CE   			bra	.LL271
 7608                        	
 7609                        		.dbg	line,	"include\routines_LEVELS.c", 470; case TYPE_COIN_1000:
 7610    1F:D0AE             	.LL283:
 7611                        		__case		13
 7612                        	
 7613                        		.dbg	line,	"include\routines_LEVELS.c", 471; zenny_amount += 1000;
 7614                        		__add_st.wmiq	1000, _zenny_amount
         1F:D0AE  18         			clc
         1F:D0AF  AD 61 26   			lda.l	_zenny_amount
         1F:D0B2  69 E8      			adc.l	#1000
         1F:D0B4  8D 61 26   			sta.l	_zenny_amount
         1F:D0B7  AD 62 26   			lda.h	_zenny_amount
         1F:D0BA  69 03      			adc.h	#1000
         1F:D0BC  8D 62 26   			sta.h	_zenny_amount
 7615                        	
 7616                        		.dbg	line,	"include\routines_LEVELS.c", 472; display_ZENNY();
 7617                        		__call		_display_ZENNY
         1F:D0BF  20 3B FF   			call	_display_ZENNY
 7618                        	
 7619                        		.dbg	line,	"include\routines_LEVELS.c", 473; break;
 7620                        		__bra		.LL271
         1F:D0C2  4C FC CE   			bra	.LL271
 7621                        	
 7622                        		.dbg	line,	"include\routines_LEVELS.c", 475; case TYPE_YASHICHI:
 7623    1F:D0C5             	.LL284:
 7624                        		__case		14
 7625                        	
 7626                        		.dbg	line,	"include\routines_LEVELS.c", 476; life_amount += 1;
 7627                        		__add_st.umiq	1, _life_amount
         1F:D0C5  EE 2F 23   			inc	_life_amount
 7628                        	
 7629                        		.dbg	line,	"include\routines_LEVELS.c", 477; break;
 7630                        		__bra		.LL271
         1F:D0C8  4C FC CE   			bra	.LL271
 7631                        	
 7632                        		.dbg	line,	"include\routines_LEVELS.c", 478; }
 7633    1F:D0CB             	.LL270:
 7634                        		__switch_r.ur	0, 14
         1F:D0CB  C9 0F      			cmp	#(14 - 0) + 1
         1F:D0CD  90 02      			bcc	!found+
         1F:D0CF  A9 0F      	!default:	lda	#(14 - 0) + 1
         1F:D0D1  0A         	!found:		asl	a
         1F:D0D2  AA         			tax
         1F:D0D3  7C D6 D0   			jmp	[!table+, x]
 7635                        	
 7636    1F:D0D6  F5 CF      	!table:		dw	.LL272, .LL271, .LL275, .LL271, .LL276, .LL271, .LL271, .LL277
         1F:D0D8  FC CE       
         1F:D0DA  2D D0       
         1F:D0DC  FC CE       
         1F:D0DE  30 D0       
         1F:D0E0  FC CE       
         1F:D0E2  FC CE       
         1F:D0E4  39 D0       
 7637    1F:D0E6  47 D0      			dw	.LL278, .LL279, .LL280, .LL281, .LL282, .LL283, .LL284
         1F:D0E8  5B D0       
         1F:D0EA  6F D0       
         1F:D0EC  83 D0       
         1F:D0EE  97 D0       
         1F:D0F0  AE D0       
         1F:D0F2  C5 D0       
 7638    1F:D0F4  FC CE      			dw	.LL271
 7639    1F:D0F6             	.LL271	.alias		.LL264
 7640                        	
 7641                        		.dbg	line,	"include\routines_LEVELS.c", 479; }
 7642                        	
 7643                        		.dbg	line,	"include\routines_LEVELS.c", 480; }
 7644    1F:D0F6             	.LL269	.alias		.LL264
 7645                        	
 7646                        		.dbg	line,	"include\routines_LEVELS.c", 481; }
 7647    1F:D0F6             	.LL268	.alias		.LL264
 7648                        	
 7649                        		.dbg	line,	"include\routines_LEVELS.c", 482; }
 7650    1F:D0F6             	.LL267	.alias		.LL264
 7651                        		__bra		.LL264
         1F:D0F6  4C FC CE   			bra	.LL264
 7652    1F:D0F9             	.LL266:
 7653                        	
 7654                        		.dbg	line,	"include\routines_LEVELS.c", 483; }
 7655                        	
 7656                        		.dbg	line,	"include\routines_LEVELS.c", 484; }
 7657    1F:D0F9             	.LL262:
 7658    1F:D0F9             	.LL261:
 7659                        		__return	0
         1F:D0F9  4C EF FF   			jmp	leave_proc
 7660                        		.dbg	clear
 7661                        		.endp
 7662               2300     		.bss
 7663    F8:2300             			ds	3
 7664    F8:2303             	__collision_PLAYER_OBJECT_end:
 7665               E31D     		.code
 7666                        		.pceas
 7667                        	
 7668                        		.dbg	line,	"include\routines_LEVELS.c", 486; // CHECK COLLISION PLAYER -> NPCS //
 7669                        		.dbg	line,	"include\routines_LEVELS.c", 487; void collision_PLAYER_NPC()
 7670                        		.dbg	line,	"include\routines_LEVELS.c", 488; {
 7671                        	;***********************
 7672                        	;***********************
 7673                        	
 7674                        		.hucc
 7675    1F:D7D5             		.proc		_collision_PLAYER_NPC
 7676                        		__enter		_collision_PLAYER_NPC
 7677                        	
 7678                        		.dbg	line,	"include\routines_LEVELS.c", 489; if(onscreen_npc_number != 0)
 7679                        		__tst.um	_onscreen_npc_number
         1F:D7D5  AD D5 23   			lda	_onscreen_npc_number
         1F:D7D8  C9 01      			cmp	#1
 7680                        		__bfalse	.LL286
         1F:D7DA  B0 03 4C 0E			bcc	.LL286
         1F:D7DE  D9          
 7681                        	
 7682                        		.dbg	line,	"include\routines_LEVELS.c", 490; {
 7683                        	
 7684                        		.dbg	line,	"include\routines_LEVELS.c", 491; if(player_state == STATE_IDLE || player_state == STATE_WALK)
 7685                        		__not.um	_player_state
         1F:D7DF  AD 1B 23   			lda	_player_state
         1F:D7E2  18         			clc
         1F:D7E3  D0 01      			bne	!+
         1F:D7E5  38         			sec
         1F:D7E6             	!:
 7686                        		__btrue		.LL288
         1F:D7E6  B0 08      			bcs	.LL288
 7687                        		__ld.umq	_player_state
         1F:D7E8  AD 1B 23   			lda	_player_state
 7688                        		__equ_b.uiq	1
         1F:D7EB  C9 01      			cmp	#1
         1F:D7ED  F0 01      			beq	!+
         1F:D7EF  18         			clc
         1F:D7F0             	!:
 7689    1F:D7F0             	.LL288:
 7690                        		__bfalse	.LL287
         1F:D7F0  B0 03 4C 0E			bcc	.LL287
         1F:D7F4  D9          
 7691                        	
 7692                        		.dbg	line,	"include\routines_LEVELS.c", 492; {
 7693                        	
 7694                        		.dbg	line,	"include\routines_LEVELS.c", 493; char i,j;
 7695                        	
 7696                        		.dbg	line,	"include\routines_LEVELS.c", 494; char current_npc_id;
 7697                        	
 7698                        		.dbg	line,	"include\routines_LEVELS.c", 495; char current_npc_type;
 7699                        	
 7700                        		.dbg	line,	"include\routines_LEVELS.c", 497; for(i=0 ; i<onscreen_npc_number ; i++)
 7701                        		__st.umiq	0, __collision_PLAYER_NPC_end - 1  /* i */
         1F:D7F5  9C 2D 2C   			stz	__collision_PLAYER_NPC_end - 1
 7702    1F:D7F8             	.LL289:
 7703                        		__ld.umq	__collision_PLAYER_NPC_end - 1  /* i */
         1F:D7F8  AD 2D 2C   			lda	__collision_PLAYER_NPC_end - 1
 7704                        		__ult_b.umq	_onscreen_npc_number
         1F:D7FB  CD D5 23   			cmp	_onscreen_npc_number		; Subtract memory from A.
         1F:D7FE  6A         			ror	a		; CC if A < memory.
         1F:D7FF  49 80      			eor	#$80
         1F:D801  2A         			rol	a
 7705                        		__btrue		.LL291
         1F:D802  B0 08      			bcs	.LL291
 7706                        		__bra		.LL292
         1F:D804  4C 0E D9   			bra	.LL292
 7707    1F:D807             	.LL290:
 7708                        		__inc.umq	__collision_PLAYER_NPC_end - 1  /* i */
         1F:D807  EE 2D 2C   			inc	__collision_PLAYER_NPC_end - 1
 7709                        		__bra		.LL289
         1F:D80A  80 EC      			bra	.LL289
 7710    1F:D80C             	.LL291:
 7711                        	
 7712                        		.dbg	line,	"include\routines_LEVELS.c", 498; {
 7713                        	
 7714                        		.dbg	line,	"include\routines_LEVELS.c", 499; // RETRIEVE NPC INDEX IN THE LIST //
 7715                        	
 7716                        		.dbg	line,	"include\routines_LEVELS.c", 500; current_npc_id = list_onscreen_npc[i];
 7717                        		__ldx.umq	__collision_PLAYER_NPC_end - 1  /* i */
         1F:D80C  AE 2D 2C   			ldx	__collision_PLAYER_NPC_end - 1
 7718                        		__ld.uax	_list_onscreen_npc
         1F:D80F  BD F2 23   			lda	_list_onscreen_npc, x
         1F:D812  C2         			cly
 7719                        		__st.umq	__collision_PLAYER_NPC_end - 3  /* current_npc_id */
         1F:D813  8D 2B 2C   			sta	__collision_PLAYER_NPC_end - 3
 7720                        	
 7721                        		.dbg	line,	"include\routines_LEVELS.c", 502; if(list_npc_state[current_npc_id] == STATE_ACTIVE)
 7722                        		__ldx.umq	__collision_PLAYER_NPC_end - 3  /* current_npc_id */
         1F:D816  AE 2B 2C   			ldx	__collision_PLAYER_NPC_end - 3
 7723                        		__ld.uaxq	_list_npc_state
         1F:D819  BD E0 23   			lda	_list_npc_state, x
 7724                        		__equ_b.uiq	1
         1F:D81C  C9 01      			cmp	#1
         1F:D81E  F0 01      			beq	!+
         1F:D820  18         			clc
         1F:D821             	!:
 7725                        		__bfalse	.LL293
         1F:D821  90 E4      			bcc	.LL293
 7726                        	
 7727                        		.dbg	line,	"include\routines_LEVELS.c", 503; {
 7728                        	
 7729                        		.dbg	line,	"include\routines_LEVELS.c", 504; // RETRIEVE NPC TYPE //
 7730                        	
 7731                        		.dbg	line,	"include\routines_LEVELS.c", 505; current_npc_type = list_npc_type[current_npc_id];
 7732                        		__ldx.umq	__collision_PLAYER_NPC_end - 3  /* current_npc_id */
         1F:D823  AE 2B 2C   			ldx	__collision_PLAYER_NPC_end - 3
 7733                        		__ld.uax	_list_npc_type
         1F:D826  BD D7 23   			lda	_list_npc_type, x
         1F:D829  C2         			cly
 7734                        		__st.umq	__collision_PLAYER_NPC_end - 4  /* current_npc_type */
         1F:D82A  8D 2A 2C   			sta	__collision_PLAYER_NPC_end - 4
 7735                        	
 7736                        		.dbg	line,	"include\routines_LEVELS.c", 507; if(abs( (player_pos_x + 16) - (list_npc_x_pos[current_npc_id] + 16) ) < OBJECT_MARGIN)
 7737                        		__ld.wm		_player_pos_x
         1F:D82D  AD 01 25   			lda.l	_player_pos_x
         1F:D830  AC 02 25   			ldy.h	_player_pos_x
 7738                        		__add.wi	16
         1F:D833  18         			clc
         1F:D834  69 10      			adc.l	#16
         1F:D836  90 01      			bcc	!+
         1F:D838  C8         			iny
         1F:D839             	!:
 7739                        		__push.wr
         1F:D839  5A         			phy
         1F:D83A  48         			pha
 7740                        		__ld2x.umq	__collision_PLAYER_NPC_end - 3  /* current_npc_id */
         1F:D83B  AD 2B 2C   			lda	__collision_PLAYER_NPC_end - 3
         1F:D83E  0A         			asl	a
         1F:D83F  AA         			tax
 7741                        		__ld.wax	_list_npc_x_pos
         1F:D840  BD 13 26   			lda.l	_list_npc_x_pos, x
         1F:D843  BC 14 26   			ldy.h	_list_npc_x_pos, x
 7742                        		__add.wi	16
         1F:D846  18         			clc
         1F:D847  69 10      			adc.l	#16
         1F:D849  90 01      			bcc	!+
         1F:D84B  C8         			iny
         1F:D84C             	!:
 7743                        		__sub.wt
         1F:D84C  BA         			tsx
         1F:D84D  38         			sec
         1F:D84E  49 FF      			eor	#$FF
         1F:D850  7D 01 21   			adc.l	__tos, x
         1F:D853  42         			say
         1F:D854  49 FF      			eor	#$FF
         1F:D856  7D 02 21   			adc.h	__tos, x
         1F:D859  42         			say
         1F:D85A  E8         			inx
         1F:D85B  E8         			inx
         1F:D85C  9A         			txs
 7744                        		__call		_abs.1
         1F:D85D  20 1D E5   			call	_abs.1
 7745                        		__slt_w.wi	10
         1F:D860  C9 0A      			cmp.l	#10		; Subtract integer from Y:A.
         1F:D862  98         			tya
         1F:D863  E9 00      			sbc.h	#10
         1F:D865  50 02      			bvc	!+
         1F:D867  49 80      			eor	#$80		; -ve if Y:A < integer (signed).
         1F:D869  0A         	!:		asl	a
 7746                        		__bfalse	.LL294
         1F:D86A  90 9B      			bcc	.LL294
 7747                        	
 7748                        		.dbg	line,	"include\routines_LEVELS.c", 508; {
 7749                        	
 7750                        		.dbg	line,	"include\routines_LEVELS.c", 509; if(abs( (player_pos_y + 16) - (list_npc_y_pos[current_npc_id] + 16) ) < OBJECT_MARGIN)
 7751                        		__ld.wm		_player_pos_y
         1F:D86C  AD 03 25   			lda.l	_player_pos_y
         1F:D86F  AC 04 25   			ldy.h	_player_pos_y
 7752                        		__add.wi	16
         1F:D872  18         			clc
         1F:D873  69 10      			adc.l	#16
         1F:D875  90 01      			bcc	!+
         1F:D877  C8         			iny
         1F:D878             	!:
 7753                        		__push.wr
         1F:D878  5A         			phy
         1F:D879  48         			pha
 7754                        		__ld2x.umq	__collision_PLAYER_NPC_end - 3  /* current_npc_id */
         1F:D87A  AD 2B 2C   			lda	__collision_PLAYER_NPC_end - 3
         1F:D87D  0A         			asl	a
         1F:D87E  AA         			tax
 7755                        		__ld.wax	_list_npc_y_pos
         1F:D87F  BD 25 26   			lda.l	_list_npc_y_pos, x
         1F:D882  BC 26 26   			ldy.h	_list_npc_y_pos, x
 7756                        		__add.wi	16
         1F:D885  18         			clc
         1F:D886  69 10      			adc.l	#16
         1F:D888  90 01      			bcc	!+
         1F:D88A  C8         			iny
         1F:D88B             	!:
 7757                        		__sub.wt
         1F:D88B  BA         			tsx
         1F:D88C  38         			sec
         1F:D88D  49 FF      			eor	#$FF
         1F:D88F  7D 01 21   			adc.l	__tos, x
         1F:D892  42         			say
         1F:D893  49 FF      			eor	#$FF
         1F:D895  7D 02 21   			adc.h	__tos, x
         1F:D898  42         			say
         1F:D899  E8         			inx
         1F:D89A  E8         			inx
         1F:D89B  9A         			txs
 7758                        		__call		_abs.1
         1F:D89C  20 1D E5   			call	_abs.1
 7759                        		__slt_w.wi	10
         1F:D89F  C9 0A      			cmp.l	#10		; Subtract integer from Y:A.
         1F:D8A1  98         			tya
         1F:D8A2  E9 00      			sbc.h	#10
         1F:D8A4  50 02      			bvc	!+
         1F:D8A6  49 80      			eor	#$80		; -ve if Y:A < integer (signed).
         1F:D8A8  0A         	!:		asl	a
 7760                        		__bfalse	.LL295
         1F:D8A9  B0 03 4C 07			bcc	.LL295
         1F:D8AD  D8          
 7761                        	
 7762                        		.dbg	line,	"include\routines_LEVELS.c", 510; {               
 7763                        	
 7764                        		.dbg	line,	"include\routines_LEVELS.c", 511; global_counter = 0;
 7765                        		__st.wmiq	0, _global_counter
         1F:D8AE  9C 5B 26   			stz.l	_global_counter
         1F:D8B1  9C 5C 26   			stz.h	_global_counter
 7766                        	
 7767                        		.dbg	line,	"include\routines_LEVELS.c", 512; selected_npc = current_npc_id + npc_start_index;
 7768                        		__ld.um		__collision_PLAYER_NPC_end - 3  /* current_npc_id */
         1F:D8B4  AD 2B 2C   			lda	__collision_PLAYER_NPC_end - 3
         1F:D8B7  C2         			cly
 7769                        		__add.um	_npc_start_index
         1F:D8B8  18         			clc
         1F:D8B9  6D D3 23   			adc	_npc_start_index
         1F:D8BC  90 01      			bcc	!+
         1F:D8BE  C8         			iny
         1F:D8BF             	!:
 7770                        		__st.umq	_selected_npc
         1F:D8BF  8D D6 23   			sta	_selected_npc
 7771                        	
 7772                        		.dbg	line,	"include\routines_LEVELS.c", 513; list_npc_state[current_npc_id] = STATE_FREE;
 7773                        		__ldx.umq	__collision_PLAYER_NPC_end - 3  /* current_npc_id */
         1F:D8C2  AE 2B 2C   			ldx	__collision_PLAYER_NPC_end - 3
 7774                        		__st.uaxiq	0, _list_npc_state
         1F:D8C5  9E E0 23   			stz	_list_npc_state, x
 7775                        	
 7776                        		.dbg	line,	"include\routines_LEVELS.c", 514; sequence_id = SEQUENCE_NPC;
 7777                        		__st.umiq	3, _sequence_id
         1F:D8C8  A9 03      			lda.l	#3
         1F:D8CA  8D 15 23   			sta	_sequence_id
 7778                        	
 7779                        		.dbg	line,	"include\routines_LEVELS.c", 516; if(current_npc_type == TYPE_NPC_SHOP)
 7780                        		__ld.umq	__collision_PLAYER_NPC_end - 4  /* current_npc_type */
         1F:D8CD  AD 2A 2C   			lda	__collision_PLAYER_NPC_end - 4
 7781                        		__equ_b.uiq	2
         1F:D8D0  C9 02      			cmp	#2
         1F:D8D2  F0 01      			beq	!+
         1F:D8D4  18         			clc
         1F:D8D5             	!:
 7782                        		__bfalse	.LL296
         1F:D8D5  B0 03 4C 07			bcc	.LL296
         1F:D8D9  D8          
 7783                        	
 7784                        		.dbg	line,	"include\routines_LEVELS.c", 517; {                              
 7785                        	
 7786                        		.dbg	line,	"include\routines_LEVELS.c", 518; minutes_backup = minutes;
 7787                        		__ld.um		_minutes
         1F:D8DA  AD 33 23   			lda	_minutes
         1F:D8DD  C2         			cly
 7788                        		__st.umq	_minutes_backup
         1F:D8DE  8D 36 23   			sta	_minutes_backup
 7789                        	
 7790                        		.dbg	line,	"include\routines_LEVELS.c", 519; seconds_backup = seconds;
 7791                        		__ld.um		_seconds
         1F:D8E1  AD 34 23   			lda	_seconds
         1F:D8E4  C2         			cly
 7792                        		__st.umq	_seconds_backup
         1F:D8E5  8D 37 23   			sta	_seconds_backup
 7793                        	
 7794                        		.dbg	line,	"include\routines_LEVELS.c", 520; camera_pos_x_backup = sgx_map_pxl_x;
 7795                        		__ld.wm		_sgx_map_pxl_x
         1F:D8E8  AD E4 26   			lda.l	_sgx_map_pxl_x
         1F:D8EB  AC E5 26   			ldy.h	_sgx_map_pxl_x
 7796                        		__st.wmq	_camera_pos_x_backup
         1F:D8EE  8D 07 25   			sta.l	_camera_pos_x_backup
         1F:D8F1  8C 08 25   			sty.h	_camera_pos_x_backup
 7797                        	
 7798                        		.dbg	line,	"include\routines_LEVELS.c", 521; camera_pos_y_backup = list_npc_y_pos_ref[current_npc_id] - 128;
 7799                        		__ld2x.umq	__collision_PLAYER_NPC_end - 3  /* current_npc_id */
         1F:D8F4  AD 2B 2C   			lda	__collision_PLAYER_NPC_end - 3
         1F:D8F7  0A         			asl	a
         1F:D8F8  AA         			tax
 7800                        		__ld.wax	_list_npc_y_pos_ref
         1F:D8F9  BD 49 26   			lda.l	_list_npc_y_pos_ref, x
         1F:D8FC  BC 4A 26   			ldy.h	_list_npc_y_pos_ref, x
 7801                        		__sub.wi	128
         1F:D8FF  38         			sec
         1F:D900  E9 80      			sbc.l	#128
         1F:D902  B0 01      			bcs	!+
         1F:D904  88         			dey
         1F:D905             	!:
 7802                        		__st.wmq	_camera_pos_y_backup
         1F:D905  8D 09 25   			sta.l	_camera_pos_y_backup
         1F:D908  8C 0A 25   			sty.h	_camera_pos_y_backup
 7803                        	
 7804                        		.dbg	line,	"include\routines_LEVELS.c", 522; }
 7805                        	
 7806                        		.dbg	line,	"include\routines_LEVELS.c", 523; }
 7807    1F:D90B             	.LL296	.alias		.LL290
 7808                        	
 7809                        		.dbg	line,	"include\routines_LEVELS.c", 524; }
 7810    1F:D90B             	.LL295	.alias		.LL290
 7811                        	
 7812                        		.dbg	line,	"include\routines_LEVELS.c", 525; }
 7813    1F:D90B             	.LL294	.alias		.LL290
 7814                        	
 7815                        		.dbg	line,	"include\routines_LEVELS.c", 526; }
 7816    1F:D90B             	.LL293	.alias		.LL290
 7817                        		__bra		.LL290
         1F:D90B  4C 07 D8   			bra	.LL290
 7818    1F:D90E             	.LL292:
 7819                        	
 7820                        		.dbg	line,	"include\routines_LEVELS.c", 527; }
 7821                        	
 7822                        		.dbg	line,	"include\routines_LEVELS.c", 528; }
 7823    1F:D90E             	.LL287:
 7824                        	
 7825                        		.dbg	line,	"include\routines_LEVELS.c", 529; }
 7826    1F:D90E             	.LL286:
 7827    1F:D90E             	.LL285:
 7828                        		__return	0
         1F:D90E  4C EF FF   			jmp	leave_proc
 7829                        		.dbg	clear
 7830                        		.endp
 7831               2303     		.bss
 7832    F8:2303             	__collision_PLAYER_NPC_end	.alias	leaf_stack
 7833               E31D     		.code
 7834                        		.pceas
 7835                        	
 7836                        		.dbg	line,	"include\routines_LEVELS.c", 531; // CHECK COLLISION WEAPON -> OBJECTS //
 7837                        		.dbg	line,	"include\routines_LEVELS.c", 532; void collision_WEAPON_OBJECTS()
 7838                        		.dbg	line,	"include\routines_LEVELS.c", 533; {
 7839                        	;***********************
 7840                        	;***********************
 7841                        	
 7842                        		.hucc
 7843    1F:D911             		.proc		_collision_WEAPON_OBJECTS
 7844                        		__enter		_collision_WEAPON_OBJECTS
 7845                        	
 7846                        		.dbg	line,	"include\routines_LEVELS.c", 534; if(onscreen_object_number != 0)
 7847                        		__tst.um	_onscreen_object_number
         1F:D911  AD 3A 23   			lda	_onscreen_object_number
         1F:D914  C9 01      			cmp	#1
 7848                        		__bfalse	.LL298
         1F:D916  B0 03 4C 46			bcc	.LL298
         1F:D91A  DA          
 7849                        	
 7850                        		.dbg	line,	"include\routines_LEVELS.c", 535; {
 7851                        	
 7852                        		.dbg	line,	"include\routines_LEVELS.c", 536; char i;
 7853                        	
 7854                        		.dbg	line,	"include\routines_LEVELS.c", 537; char current_object_id;
 7855                        	
 7856                        		.dbg	line,	"include\routines_LEVELS.c", 538; char current_object_type;
 7857                        	
 7858                        		.dbg	line,	"include\routines_LEVELS.c", 539; int weapon_pos_x;
 7859                        	
 7860                        		.dbg	line,	"include\routines_LEVELS.c", 540; int weapon_pos_y;
 7861                        	
 7862                        		.dbg	line,	"include\routines_LEVELS.c", 542; for(i=0 ; i<onscreen_object_number ; i++)
 7863                        		__st.umiq	0, __collision_WEAPON_OBJECTS_end - 1  /* i */
         1F:D91B  9C 2D 2C   			stz	__collision_WEAPON_OBJECTS_end - 1
 7864    1F:D91E             	.LL299:
 7865                        		__ld.umq	__collision_WEAPON_OBJECTS_end - 1  /* i */
         1F:D91E  AD 2D 2C   			lda	__collision_WEAPON_OBJECTS_end - 1
 7866                        		__ult_b.umq	_onscreen_object_number
         1F:D921  CD 3A 23   			cmp	_onscreen_object_number		; Subtract memory from A.
         1F:D924  6A         			ror	a		; CC if A < memory.
         1F:D925  49 80      			eor	#$80
         1F:D927  2A         			rol	a
 7867                        		__btrue		.LL301
         1F:D928  B0 08      			bcs	.LL301
 7868                        		__bra		.LL302
         1F:D92A  4C 46 DA   			bra	.LL302
 7869    1F:D92D             	.LL300:
 7870                        		__inc.umq	__collision_WEAPON_OBJECTS_end - 1  /* i */
         1F:D92D  EE 2D 2C   			inc	__collision_WEAPON_OBJECTS_end - 1
 7871                        		__bra		.LL299
         1F:D930  80 EC      			bra	.LL299
 7872    1F:D932             	.LL301:
 7873                        	
 7874                        		.dbg	line,	"include\routines_LEVELS.c", 543; {
 7875                        	
 7876                        		.dbg	line,	"include\routines_LEVELS.c", 544; // RETRIEVE OBJECT INDEX IN THE LIST //
 7877                        	
 7878                        		.dbg	line,	"include\routines_LEVELS.c", 545; current_object_id = list_onscreen_object[i];
 7879                        		__ldx.umq	__collision_WEAPON_OBJECTS_end - 1  /* i */
         1F:D932  AE 2D 2C   			ldx	__collision_WEAPON_OBJECTS_end - 1
 7880                        		__ld.uax	_list_onscreen_object
         1F:D935  BD B8 23   			lda	_list_onscreen_object, x
         1F:D938  C2         			cly
 7881                        		__st.umq	__collision_WEAPON_OBJECTS_end - 2  /* current_object_id */
         1F:D939  8D 2C 2C   			sta	__collision_WEAPON_OBJECTS_end - 2
 7882                        	
 7883                        		.dbg	line,	"include\routines_LEVELS.c", 546; // RETRIEVE OBJECT TYPE //
 7884                        	
 7885                        		.dbg	line,	"include\routines_LEVELS.c", 547; current_object_type = list_object_type[current_object_id];
 7886                        		__ldx.umq	__collision_WEAPON_OBJECTS_end - 2  /* current_object_id */
         1F:D93C  AE 2C 2C   			ldx	__collision_WEAPON_OBJECTS_end - 2
 7887                        		__ld.uax	_list_object_type
         1F:D93F  BD 3B 23   			lda	_list_object_type, x
         1F:D942  C2         			cly
 7888                        		__st.umq	__collision_WEAPON_OBJECTS_end - 3  /* current_object_type */
         1F:D943  8D 2B 2C   			sta	__collision_WEAPON_OBJECTS_end - 3
 7889                        	
 7890                        		.dbg	line,	"include\routines_LEVELS.c", 549; if(current_object_type == TYPE_POT)
 7891                        		__ld.umq	__collision_WEAPON_OBJECTS_end - 3  /* current_object_type */
         1F:D946  AD 2B 2C   			lda	__collision_WEAPON_OBJECTS_end - 3
 7892                        		__equ_b.uiq	1
         1F:D949  C9 01      			cmp	#1
         1F:D94B  F0 01      			beq	!+
         1F:D94D  18         			clc
         1F:D94E             	!:
 7893                        		__bfalse	.LL303
         1F:D94E  90 DD      			bcc	.LL303
 7894                        	
 7895                        		.dbg	line,	"include\routines_LEVELS.c", 550; {
 7896                        	
 7897                        		.dbg	line,	"include\routines_LEVELS.c", 551; if(list_object_state[current_object_id] == STATE_ACTIVE)
 7898                        		__ldx.umq	__collision_WEAPON_OBJECTS_end - 2  /* current_object_id */
         1F:D950  AE 2C 2C   			ldx	__collision_WEAPON_OBJECTS_end - 2
 7899                        		__ld.uaxq	_list_object_state
         1F:D953  BD 54 23   			lda	_list_object_state, x
 7900                        		__equ_b.uiq	1
         1F:D956  C9 01      			cmp	#1
         1F:D958  F0 01      			beq	!+
         1F:D95A  18         			clc
         1F:D95B             	!:
 7901                        		__bfalse	.LL304
         1F:D95B  90 D0      			bcc	.LL304
 7902                        	
 7903                        		.dbg	line,	"include\routines_LEVELS.c", 552; {
 7904                        	
 7905                        		.dbg	line,	"include\routines_LEVELS.c", 553; // GET WEAPON POSITION //
 7906                        	
 7907                        		.dbg	line,	"include\routines_LEVELS.c", 554; spr_set(weapon_id);
 7908                        		__ld.umq	_weapon_id
         1F:D95D  AD 29 23   			lda	_weapon_id
 7909                        		__call		_spr_set.1
         1F:D960  20 F1 E7   			call	_spr_set.1
 7910                        	
 7911                        		.dbg	line,	"include\routines_LEVELS.c", 555; weapon_pos_x = spr_get_x();
 7912                        		__call		_spr_get_x
         1F:D963  20 7F E8   			call	_spr_get_x
 7913                        		__st.wmq	__collision_WEAPON_OBJECTS_end - 5  /* weapon_pos_x */
         1F:D966  8D 29 2C   			sta.l	__collision_WEAPON_OBJECTS_end - 5
         1F:D969  8C 2A 2C   			sty.h	__collision_WEAPON_OBJECTS_end - 5
 7914                        	
 7915                        		.dbg	line,	"include\routines_LEVELS.c", 556; weapon_pos_y = spr_get_y();
 7916                        		__call		_spr_get_y
         1F:D96C  20 8F E8   			call	_spr_get_y
 7917                        		__st.wmq	__collision_WEAPON_OBJECTS_end - 7  /* weapon_pos_y */
         1F:D96F  8D 27 2C   			sta.l	__collision_WEAPON_OBJECTS_end - 7
         1F:D972  8C 28 2C   			sty.h	__collision_WEAPON_OBJECTS_end - 7
 7918                        	
 7919                        		.dbg	line,	"include\routines_LEVELS.c", 558; if( abs( (weapon_pos_x + 8) - (list_object_x_pos[current_object_id] + 8) ) < 16 )
 7920                        		__ld.wm		__collision_WEAPON_OBJECTS_end - 5  /* weapon_pos_x */
         1F:D975  AD 29 2C   			lda.l	__collision_WEAPON_OBJECTS_end - 5
         1F:D978  AC 2A 2C   			ldy.h	__collision_WEAPON_OBJECTS_end - 5
 7921                        		__add.wi	8
         1F:D97B  18         			clc
         1F:D97C  69 08      			adc.l	#8
         1F:D97E  90 01      			bcc	!+
         1F:D980  C8         			iny
         1F:D981             	!:
 7922                        		__push.wr
         1F:D981  5A         			phy
         1F:D982  48         			pha
 7923                        		__ld2x.umq	__collision_WEAPON_OBJECTS_end - 2  /* current_object_id */
         1F:D983  AD 2C 2C   			lda	__collision_WEAPON_OBJECTS_end - 2
         1F:D986  0A         			asl	a
         1F:D987  AA         			tax
 7924                        		__ld.wax	_list_object_x_pos
         1F:D988  BD 0B 25   			lda.l	_list_object_x_pos, x
         1F:D98B  BC 0C 25   			ldy.h	_list_object_x_pos, x
 7925                        		__add.wi	8
         1F:D98E  18         			clc
         1F:D98F  69 08      			adc.l	#8
         1F:D991  90 01      			bcc	!+
         1F:D993  C8         			iny
         1F:D994             	!:
 7926                        		__sub.wt
         1F:D994  BA         			tsx
         1F:D995  38         			sec
         1F:D996  49 FF      			eor	#$FF
         1F:D998  7D 01 21   			adc.l	__tos, x
         1F:D99B  42         			say
         1F:D99C  49 FF      			eor	#$FF
         1F:D99E  7D 02 21   			adc.h	__tos, x
         1F:D9A1  42         			say
         1F:D9A2  E8         			inx
         1F:D9A3  E8         			inx
         1F:D9A4  9A         			txs
 7927                        		__call		_abs.1
         1F:D9A5  20 1D E5   			call	_abs.1
 7928                        		__slt_w.wi	16
         1F:D9A8  C9 10      			cmp.l	#16		; Subtract integer from Y:A.
         1F:D9AA  98         			tya
         1F:D9AB  E9 00      			sbc.h	#16
         1F:D9AD  50 02      			bvc	!+
         1F:D9AF  49 80      			eor	#$80		; -ve if Y:A < integer (signed).
         1F:D9B1  0A         	!:		asl	a
 7929                        		__bfalse	.LL305
         1F:D9B2  B0 03 4C 2D			bcc	.LL305
         1F:D9B6  D9          
 7930                        	
 7931                        		.dbg	line,	"include\routines_LEVELS.c", 559; {
 7932                        	
 7933                        		.dbg	line,	"include\routines_LEVELS.c", 560; if( abs( (weapon_pos_y + 8) - (list_object_y_pos[current_object_id] + 8) ) < 8 )
 7934                        		__ld.wm		__collision_WEAPON_OBJECTS_end - 7  /* weapon_pos_y */
         1F:D9B7  AD 27 2C   			lda.l	__collision_WEAPON_OBJECTS_end - 7
         1F:D9BA  AC 28 2C   			ldy.h	__collision_WEAPON_OBJECTS_end - 7
 7935                        		__add.wi	8
         1F:D9BD  18         			clc
         1F:D9BE  69 08      			adc.l	#8
         1F:D9C0  90 01      			bcc	!+
         1F:D9C2  C8         			iny
         1F:D9C3             	!:
 7936                        		__push.wr
         1F:D9C3  5A         			phy
         1F:D9C4  48         			pha
 7937                        		__ld2x.umq	__collision_WEAPON_OBJECTS_end - 2  /* current_object_id */
         1F:D9C5  AD 2C 2C   			lda	__collision_WEAPON_OBJECTS_end - 2
         1F:D9C8  0A         			asl	a
         1F:D9C9  AA         			tax
 7938                        		__ld.wax	_list_object_y_pos
         1F:D9CA  BD 3D 25   			lda.l	_list_object_y_pos, x
         1F:D9CD  BC 3E 25   			ldy.h	_list_object_y_pos, x
 7939                        		__add.wi	8
         1F:D9D0  18         			clc
         1F:D9D1  69 08      			adc.l	#8
         1F:D9D3  90 01      			bcc	!+
         1F:D9D5  C8         			iny
         1F:D9D6             	!:
 7940                        		__sub.wt
         1F:D9D6  BA         			tsx
         1F:D9D7  38         			sec
         1F:D9D8  49 FF      			eor	#$FF
         1F:D9DA  7D 01 21   			adc.l	__tos, x
         1F:D9DD  42         			say
         1F:D9DE  49 FF      			eor	#$FF
         1F:D9E0  7D 02 21   			adc.h	__tos, x
         1F:D9E3  42         			say
         1F:D9E4  E8         			inx
         1F:D9E5  E8         			inx
         1F:D9E6  9A         			txs
 7941                        		__call		_abs.1
         1F:D9E7  20 1D E5   			call	_abs.1
 7942                        		__slt_w.wi	8
         1F:D9EA  C9 08      			cmp.l	#8		; Subtract integer from Y:A.
         1F:D9EC  98         			tya
         1F:D9ED  E9 00      			sbc.h	#8
         1F:D9EF  50 02      			bvc	!+
         1F:D9F1  49 80      			eor	#$80		; -ve if Y:A < integer (signed).
         1F:D9F3  0A         	!:		asl	a
 7943                        		__bfalse	.LL306
         1F:D9F4  B0 03 4C 2D			bcc	.LL306
         1F:D9F8  D9          
 7944                        	
 7945                        		.dbg	line,	"include\routines_LEVELS.c", 561; {
 7946                        	
 7947                        		.dbg	line,	"include\routines_LEVELS.c", 562; // WEAPON STOPS UNDOLDING //
 7948                        	
 7949                        		.dbg	line,	"include\routines_LEVELS.c", 563; //chain_unfold = FALSE;
 7950                        	
 7951                        		.dbg	line,	"include\routines_LEVELS.c", 565; // WE SHORTEN WEAPON ANIMATION DURATION //
 7952                        	
 7953                        		.dbg	line,	"include\routines_LEVELS.c", 566; player_counter_attack = 19;
 7954                        		__st.umiq	19, _player_counter_attack
         1F:D9F9  A9 13      			lda.l	#19
         1F:D9FB  8D 21 23   			sta	_player_counter_attack
 7955                        	
 7956                        		.dbg	line,	"include\routines_LEVELS.c", 568; // DECREASE POT ENERGY //
 7957                        	
 7958                        		.dbg	line,	"include\routines_LEVELS.c", 569; list_object_energy[current_object_id] -= 1;
 7959                        		__ldx.umq	__collision_WEAPON_OBJECTS_end - 2  /* current_object_id */
         1F:D9FE  AE 2C 2C   			ldx	__collision_WEAPON_OBJECTS_end - 2
 7960                        		__sub_st.uaxiq	1, _list_object_energy
         1F:DA01  DE 6D 23   			dec	_list_object_energy, x
 7961                        	
 7962                        		.dbg	line,	"include\routines_LEVELS.c", 571; // INIT POT COUNTER //
 7963                        	
 7964                        		.dbg	line,	"include\routines_LEVELS.c", 572; list_object_counter[current_object_id] = 0;
 7965                        		__ldx.umq	__collision_WEAPON_OBJECTS_end - 2  /* current_object_id */
         1F:DA04  AE 2C 2C   			ldx	__collision_WEAPON_OBJECTS_end - 2
 7966                        		__st.uaxiq	0, _list_object_counter
         1F:DA07  9E 9F 23   			stz	_list_object_counter, x
 7967                        	
 7968                        		.dbg	line,	"include\routines_LEVELS.c", 574; // POT GETS HIT //
 7969                        	
 7970                        		.dbg	line,	"include\routines_LEVELS.c", 575; list_object_state[current_object_id] = STATE_HIT;
 7971                        		__ldx.umq	__collision_WEAPON_OBJECTS_end - 2  /* current_object_id */
         1F:DA0A  AE 2C 2C   			ldx	__collision_WEAPON_OBJECTS_end - 2
 7972                        		__st.uaxiq	2, _list_object_state
         1F:DA0D  A9 02      			lda.l	#2
         1F:DA0F  9D 54 23   			sta	_list_object_state, x
 7973                        	
 7974                        		.dbg	line,	"include\routines_LEVELS.c", 577; // SELECT POT SPRITE //
 7975                        	
 7976                        		.dbg	line,	"include\routines_LEVELS.c", 578; sgx_spr_set(current_object_id + object_start_index);
 7977                        		__ld.um		__collision_WEAPON_OBJECTS_end - 2  /* current_object_id */
         1F:DA12  AD 2C 2C   			lda	__collision_WEAPON_OBJECTS_end - 2
         1F:DA15  C2         			cly
 7978                        		__add.um	_object_start_index
         1F:DA16  18         			clc
         1F:DA17  6D 38 23   			adc	_object_start_index
         1F:DA1A  90 01      			bcc	!+
         1F:DA1C  C8         			iny
         1F:DA1D             	!:
 7979                        		__call		_sgx_spr_set.1
         1F:DA1D  20 9E E8   			call	_sgx_spr_set.1
 7980                        	
 7981                        		.dbg	line,	"include\routines_LEVELS.c", 579; 
 7982                        	
 7983                        		.dbg	line,	"include\routines_LEVELS.c", 580; // CHECK OBJECT ENERGY //
 7984                        	
 7985                        		.dbg	line,	"include\routines_LEVELS.c", 581; switch(list_object_energy[current_object_id])
 7986                        		__ldx.umq	__collision_WEAPON_OBJECTS_end - 2  /* current_object_id */
         1F:DA20  AE 2C 2C   			ldx	__collision_WEAPON_OBJECTS_end - 2
 7987                        		__ld.uaxq	_list_object_energy
         1F:DA23  BD 6D 23   			lda	_list_object_energy, x
 7988                        		__bra		.LL307
         1F:DA26  80 0A      			bra	.LL307
 7989                        	
 7990                        		.dbg	line,	"include\routines_LEVELS.c", 582; {
 7991                        	
 7992                        		.dbg	line,	"include\routines_LEVELS.c", 583; case 0:
 7993    1F:DA28             	.LL309:
 7994    1F:DA28             	.LL310:
 7995                        	
 7996                        		.dbg	line,	"include\routines_LEVELS.c", 584; //sgx_spr_pattern(POT3_VRAM_ADR);
 7997                        	
 7998                        		.dbg	line,	"include\routines_LEVELS.c", 587; case 1:
 7999                        		__case		1
 8000                        	
 8001                        		.dbg	line,	"include\routines_LEVELS.c", 588; sgx_spr_pattern(POT2_VRAM_ADR);
 8002                        		__ld.wi		26688
         1F:DA28  A9 40      			lda.l	#26688
         1F:DA2A  A0 68      			ldy.h	#26688
 8003                        		__call		_sgx_spr_pattern.1
         1F:DA2C  20 E7 E8   			call	_sgx_spr_pattern.1
 8004                        	
 8005                        		.dbg	line,	"include\routines_LEVELS.c", 589; }
 8006                        		__bra		.LL308
         1F:DA2F  4C 2D D9   			bra	.LL308
 8007    1F:DA32             	.LL307:
 8008                        		__switch_r.ur	0, 1
         1F:DA32  C9 02      			cmp	#(1 - 0) + 1
         1F:DA34  90 02      			bcc	!found+
         1F:DA36  A9 02      	!default:	lda	#(1 - 0) + 1
         1F:DA38  0A         	!found:		asl	a
         1F:DA39  AA         			tax
         1F:DA3A  7C 3D DA   			jmp	[!table+, x]
 8009                        	
 8010    1F:DA3D  28 DA      	!table:		dw	.LL309, .LL310
         1F:DA3F  28 DA       
 8011    1F:DA41  2D D9      			dw	.LL308
 8012    1F:DA43             	.LL308	.alias		.LL300
 8013                        	
 8014                        		.dbg	line,	"include\routines_LEVELS.c", 590; }
 8015                        	
 8016                        		.dbg	line,	"include\routines_LEVELS.c", 591; }
 8017    1F:DA43             	.LL306	.alias		.LL300
 8018                        	
 8019                        		.dbg	line,	"include\routines_LEVELS.c", 592; }
 8020    1F:DA43             	.LL305	.alias		.LL300
 8021                        	
 8022                        		.dbg	line,	"include\routines_LEVELS.c", 593; }
 8023    1F:DA43             	.LL304	.alias		.LL300
 8024                        	
 8025                        		.dbg	line,	"include\routines_LEVELS.c", 594; }
 8026    1F:DA43             	.LL303	.alias		.LL300
 8027                        		__bra		.LL300
         1F:DA43  4C 2D D9   			bra	.LL300
 8028    1F:DA46             	.LL302:
 8029                        	
 8030                        		.dbg	line,	"include\routines_LEVELS.c", 595; }
 8031                        	
 8032                        		.dbg	line,	"include\routines_LEVELS.c", 596; }
 8033    1F:DA46             	.LL298:
 8034    1F:DA46             	.LL297:
 8035                        		__return	0
         1F:DA46  4C EF FF   			jmp	leave_proc
 8036                        		.dbg	clear
 8037                        		.endp
 8038               2303     		.bss
 8039    F8:2303             	__collision_WEAPON_OBJECTS_end	.alias	leaf_stack
 8040               E31D     		.code
 8041                        		.pceas
 8042                        	
 8043                        		.dbg	line,	"include\routines_LEVELS.c", 602; //-----------------------------------------------------------------------------//
 8044                        		.dbg	line,	"include\routines_LEVELS.c", 603; //                                   OBJECTS                                   //
 8045                        		.dbg	line,	"include\routines_LEVELS.c", 604; //-----------------------------------------------------------------------------//
 8046                        		.dbg	line,	"include\routines_LEVELS.c", 606; void anim_OBJECTS()
 8047                        		.dbg	line,	"include\routines_LEVELS.c", 607; {
 8048                        	;***********************
 8049                        	;***********************
 8050                        	
 8051                        		.hucc
 8052    1E:DC22             		.proc		_anim_OBJECTS
 8053                        		__enter		_anim_OBJECTS
 8054                        	
 8055                        		.dbg	line,	"include\routines_LEVELS.c", 608; if(onscreen_object_number != 0)
 8056                        		__tst.um	_onscreen_object_number
         1E:DC22  AD 3A 23   			lda	_onscreen_object_number
         1E:DC25  C9 01      			cmp	#1
 8057                        		__bfalse	.LL312
         1E:DC27  B0 03 4C C9			bcc	.LL312
         1E:DC2B  DF          
 8058                        	
 8059                        		.dbg	line,	"include\routines_LEVELS.c", 609; {
 8060                        	
 8061                        		.dbg	line,	"include\routines_LEVELS.c", 610; char i;
 8062                        	
 8063                        		.dbg	line,	"include\routines_LEVELS.c", 611; char current_object_id;
 8064                        	
 8065                        		.dbg	line,	"include\routines_LEVELS.c", 612; signed int object_pos_y;
 8066                        	
 8067                        		.dbg	line,	"include\routines_LEVELS.c", 615; for(i=0 ; i<onscreen_object_number ; i++)
 8068                        		__st.umiq	0, __anim_OBJECTS_end - 1  /* i */
         1E:DC2C  9C 2D 2C   			stz	__anim_OBJECTS_end - 1
 8069    1E:DC2F             	.LL313:
 8070                        		__ld.umq	__anim_OBJECTS_end - 1  /* i */
         1E:DC2F  AD 2D 2C   			lda	__anim_OBJECTS_end - 1
 8071                        		__ult_b.umq	_onscreen_object_number
         1E:DC32  CD 3A 23   			cmp	_onscreen_object_number		; Subtract memory from A.
         1E:DC35  6A         			ror	a		; CC if A < memory.
         1E:DC36  49 80      			eor	#$80
         1E:DC38  2A         			rol	a
 8072                        		__btrue		.LL315
         1E:DC39  B0 08      			bcs	.LL315
 8073                        		__bra		.LL316
         1E:DC3B  4C C9 DF   			bra	.LL316
 8074    1E:DC3E             	.LL314:
 8075                        		__inc.umq	__anim_OBJECTS_end - 1  /* i */
         1E:DC3E  EE 2D 2C   			inc	__anim_OBJECTS_end - 1
 8076                        		__bra		.LL313
         1E:DC41  80 EC      			bra	.LL313
 8077    1E:DC43             	.LL315:
 8078                        	
 8079                        		.dbg	line,	"include\routines_LEVELS.c", 616; {
 8080                        	
 8081                        		.dbg	line,	"include\routines_LEVELS.c", 617; // RETRIEVE OBJECT INDEX IN THE LIST //
 8082                        	
 8083                        		.dbg	line,	"include\routines_LEVELS.c", 618; current_object_id = list_onscreen_object[i];
 8084                        		__ldx.umq	__anim_OBJECTS_end - 1  /* i */
         1E:DC43  AE 2D 2C   			ldx	__anim_OBJECTS_end - 1
 8085                        		__ld.uax	_list_onscreen_object
         1E:DC46  BD B8 23   			lda	_list_onscreen_object, x
         1E:DC49  C2         			cly
 8086                        		__st.umq	__anim_OBJECTS_end - 2  /* current_object_id */
         1E:DC4A  8D 2C 2C   			sta	__anim_OBJECTS_end - 2
 8087                        	
 8088                        		.dbg	line,	"include\routines_LEVELS.c", 620; // IF POT HAS BEEN HIT BY THE WEAPON //
 8089                        	
 8090                        		.dbg	line,	"include\routines_LEVELS.c", 621; if(list_object_state[current_object_id] == STATE_HIT)
 8091                        		__ldx.umq	__anim_OBJECTS_end - 2  /* current_object_id */
         1E:DC4D  AE 2C 2C   			ldx	__anim_OBJECTS_end - 2
 8092                        		__ld.uaxq	_list_object_state
         1E:DC50  BD 54 23   			lda	_list_object_state, x
 8093                        		__equ_b.uiq	2
         1E:DC53  C9 02      			cmp	#2
         1E:DC55  F0 01      			beq	!+
         1E:DC57  18         			clc
         1E:DC58             	!:
 8094                        		__bfalse	.LL317
         1E:DC58  90 E4      			bcc	.LL317
 8095                        	
 8096                        		.dbg	line,	"include\routines_LEVELS.c", 622; {
 8097                        	
 8098                        		.dbg	line,	"include\routines_LEVELS.c", 623; // SELECT POT SPRITE //
 8099                        	
 8100                        		.dbg	line,	"include\routines_LEVELS.c", 624; sgx_spr_set(current_object_id + object_start_index);
 8101                        		__ld.um		__anim_OBJECTS_end - 2  /* current_object_id */
         1E:DC5A  AD 2C 2C   			lda	__anim_OBJECTS_end - 2
         1E:DC5D  C2         			cly
 8102                        		__add.um	_object_start_index
         1E:DC5E  18         			clc
         1E:DC5F  6D 38 23   			adc	_object_start_index
         1E:DC62  90 01      			bcc	!+
         1E:DC64  C8         			iny
         1E:DC65             	!:
 8103                        		__call		_sgx_spr_set.1
         1E:DC65  20 9E E8   			call	_sgx_spr_set.1
 8104                        	
 8105                        		.dbg	line,	"include\routines_LEVELS.c", 625; 
 8106                        	
 8107                        		.dbg	line,	"include\routines_LEVELS.c", 626; // CHECK OBJECT ENERGY //
 8108                        	
 8109                        		.dbg	line,	"include\routines_LEVELS.c", 627; if(list_object_energy[current_object_id] == 0)
 8110                        		__ldx.umq	__anim_OBJECTS_end - 2  /* current_object_id */
         1E:DC68  AE 2C 2C   			ldx	__anim_OBJECTS_end - 2
 8111                        		__not.uax	_list_object_energy
         1E:DC6B  BD 6D 23   			lda	_list_object_energy, x
         1E:DC6E  18         			clc
         1E:DC6F  D0 01      			bne	!+
         1E:DC71  38         			sec
         1E:DC72             	!:
 8112                        		__bfalse	.LL318
         1E:DC72  B0 03 4C 27			bcc	.LL318
         1E:DC76  DF          
 8113                        	
 8114                        		.dbg	line,	"include\routines_LEVELS.c", 628; {
 8115                        	
 8116                        		.dbg	line,	"include\routines_LEVELS.c", 629; if(list_object_counter[current_object_id] == 0)
 8117                        		__ldx.umq	__anim_OBJECTS_end - 2  /* current_object_id */
         1E:DC77  AE 2C 2C   			ldx	__anim_OBJECTS_end - 2
 8118                        		__not.uax	_list_object_counter
         1E:DC7A  BD 9F 23   			lda	_list_object_counter, x
         1E:DC7D  18         			clc
         1E:DC7E  D0 01      			bne	!+
         1E:DC80  38         			sec
         1E:DC81             	!:
 8119                        		__bfalse	.LL319
         1E:DC81  90 1B      			bcc	.LL319
 8120                        	
 8121                        		.dbg	line,	"include\routines_LEVELS.c", 630; {
 8122                        	
 8123                        		.dbg	line,	"include\routines_LEVELS.c", 631; object_pos_y = sgx_spr_get_y();
 8124                        		__call		_sgx_spr_get_y
         1E:DC83  20 3C E9   			call	_sgx_spr_get_y
 8125                        		__st.wmq	__anim_OBJECTS_end - 4  /* object_pos_y */
         1E:DC86  8D 2A 2C   			sta.l	__anim_OBJECTS_end - 4
         1E:DC89  8C 2B 2C   			sty.h	__anim_OBJECTS_end - 4
 8126                        	
 8127                        		.dbg	line,	"include\routines_LEVELS.c", 632; sgx_spr_y(object_pos_y - 1);
 8128                        		__ld.wm		__anim_OBJECTS_end - 4  /* object_pos_y */
         1E:DC8C  AD 2A 2C   			lda.l	__anim_OBJECTS_end - 4
         1E:DC8F  AC 2B 2C   			ldy.h	__anim_OBJECTS_end - 4
 8129                        		__sub.wi	1
         1E:DC92  38         			sec
         1E:DC93  E9 01      			sbc.l	#1
         1E:DC95  B0 01      			bcs	!+
         1E:DC97  88         			dey
         1E:DC98             	!:
 8130                        		__call		_sgx_spr_y.1
         1E:DC98  20 DA E8   			call	_sgx_spr_y.1
 8131                        	
 8132                        		.dbg	line,	"include\routines_LEVELS.c", 633; }
 8133                        	
 8134                        		.dbg	line,	"include\routines_LEVELS.c", 635; else if(list_object_counter[current_object_id] == 1)
 8135                        		__bra		.LL320
         1E:DC9B  4C 1E DF   			bra	.LL320
 8136    1E:DC9E             	.LL319:
 8137                        		__ldx.umq	__anim_OBJECTS_end - 2  /* current_object_id */
         1E:DC9E  AE 2C 2C   			ldx	__anim_OBJECTS_end - 2
 8138                        		__ld.uaxq	_list_object_counter
         1E:DCA1  BD 9F 23   			lda	_list_object_counter, x
 8139                        		__equ_b.uiq	1
         1E:DCA4  C9 01      			cmp	#1
         1E:DCA6  F0 01      			beq	!+
         1E:DCA8  18         			clc
         1E:DCA9             	!:
 8140                        		__bfalse	.LL321
         1E:DCA9  90 1B      			bcc	.LL321
 8141                        	
 8142                        		.dbg	line,	"include\routines_LEVELS.c", 636; {
 8143                        	
 8144                        		.dbg	line,	"include\routines_LEVELS.c", 637; object_pos_y = sgx_spr_get_y();
 8145                        		__call		_sgx_spr_get_y
         1E:DCAB  20 3C E9   			call	_sgx_spr_get_y
 8146                        		__st.wmq	__anim_OBJECTS_end - 4  /* object_pos_y */
         1E:DCAE  8D 2A 2C   			sta.l	__anim_OBJECTS_end - 4
         1E:DCB1  8C 2B 2C   			sty.h	__anim_OBJECTS_end - 4
 8147                        	
 8148                        		.dbg	line,	"include\routines_LEVELS.c", 638; sgx_spr_y(object_pos_y - 2);
 8149                        		__ld.wm		__anim_OBJECTS_end - 4  /* object_pos_y */
         1E:DCB4  AD 2A 2C   			lda.l	__anim_OBJECTS_end - 4
         1E:DCB7  AC 2B 2C   			ldy.h	__anim_OBJECTS_end - 4
 8150                        		__sub.wi	2
         1E:DCBA  38         			sec
         1E:DCBB  E9 02      			sbc.l	#2
         1E:DCBD  B0 01      			bcs	!+
         1E:DCBF  88         			dey
         1E:DCC0             	!:
 8151                        		__call		_sgx_spr_y.1
         1E:DCC0  20 DA E8   			call	_sgx_spr_y.1
 8152                        	
 8153                        		.dbg	line,	"include\routines_LEVELS.c", 639; }
 8154                        	
 8155                        		.dbg	line,	"include\routines_LEVELS.c", 641; else if(list_object_counter[current_object_id] == 2)
 8156                        		__bra		.LL322
         1E:DCC3  4C 1E DF   			bra	.LL322
 8157    1E:DCC6             	.LL321:
 8158                        		__ldx.umq	__anim_OBJECTS_end - 2  /* current_object_id */
         1E:DCC6  AE 2C 2C   			ldx	__anim_OBJECTS_end - 2
 8159                        		__ld.uaxq	_list_object_counter
         1E:DCC9  BD 9F 23   			lda	_list_object_counter, x
 8160                        		__equ_b.uiq	2
         1E:DCCC  C9 02      			cmp	#2
         1E:DCCE  F0 01      			beq	!+
         1E:DCD0  18         			clc
         1E:DCD1             	!:
 8161                        		__bfalse	.LL323
         1E:DCD1  90 1B      			bcc	.LL323
 8162                        	
 8163                        		.dbg	line,	"include\routines_LEVELS.c", 642; {
 8164                        	
 8165                        		.dbg	line,	"include\routines_LEVELS.c", 643; object_pos_y = sgx_spr_get_y();
 8166                        		__call		_sgx_spr_get_y
         1E:DCD3  20 3C E9   			call	_sgx_spr_get_y
 8167                        		__st.wmq	__anim_OBJECTS_end - 4  /* object_pos_y */
         1E:DCD6  8D 2A 2C   			sta.l	__anim_OBJECTS_end - 4
         1E:DCD9  8C 2B 2C   			sty.h	__anim_OBJECTS_end - 4
 8168                        	
 8169                        		.dbg	line,	"include\routines_LEVELS.c", 644; sgx_spr_y(object_pos_y - 1);
 8170                        		__ld.wm		__anim_OBJECTS_end - 4  /* object_pos_y */
         1E:DCDC  AD 2A 2C   			lda.l	__anim_OBJECTS_end - 4
         1E:DCDF  AC 2B 2C   			ldy.h	__anim_OBJECTS_end - 4
 8171                        		__sub.wi	1
         1E:DCE2  38         			sec
         1E:DCE3  E9 01      			sbc.l	#1
         1E:DCE5  B0 01      			bcs	!+
         1E:DCE7  88         			dey
         1E:DCE8             	!:
 8172                        		__call		_sgx_spr_y.1
         1E:DCE8  20 DA E8   			call	_sgx_spr_y.1
 8173                        	
 8174                        		.dbg	line,	"include\routines_LEVELS.c", 645; }
 8175                        	
 8176                        		.dbg	line,	"include\routines_LEVELS.c", 647; else if(list_object_counter[current_object_id] == 8)
 8177                        		__bra		.LL324
         1E:DCEB  4C 1E DF   			bra	.LL324
 8178    1E:DCEE             	.LL323:
 8179                        		__ldx.umq	__anim_OBJECTS_end - 2  /* current_object_id */
         1E:DCEE  AE 2C 2C   			ldx	__anim_OBJECTS_end - 2
 8180                        		__ld.uaxq	_list_object_counter
         1E:DCF1  BD 9F 23   			lda	_list_object_counter, x
 8181                        		__equ_b.uiq	8
         1E:DCF4  C9 08      			cmp	#8
         1E:DCF6  F0 01      			beq	!+
         1E:DCF8  18         			clc
         1E:DCF9             	!:
 8182                        		__bfalse	.LL325
         1E:DCF9  90 27      			bcc	.LL325
 8183                        	
 8184                        		.dbg	line,	"include\routines_LEVELS.c", 648; {
 8185                        	
 8186                        		.dbg	line,	"include\routines_LEVELS.c", 649; sgx_spr_pal(18);
 8187                        		__ld.uiq	18
         1E:DCFB  A9 12      			lda	#18
 8188                        		__call		_sgx_spr_pal.1
         1E:DCFD  20 0E E9   			call	_sgx_spr_pal.1
 8189                        	
 8190                        		.dbg	line,	"include\routines_LEVELS.c", 650; sgx_spr_pattern(*(ptr_REWARD_VRAM_ADR+current_object_id));
 8191                        		__ld.um		__anim_OBJECTS_end - 2  /* current_object_id */
         1E:DD00  AD 2C 2C   			lda	__anim_OBJECTS_end - 2
         1E:DD03  C2         			cly
 8192                        		__asl.wr
         1E:DD04  0A         			asl	a
         1E:DD05  42         			say
         1E:DD06  2A         			rol	a
         1E:DD07  42         			say
 8193                        		__add.wm	_ptr_REWARD_VRAM_ADR
         1E:DD08  18         			clc
         1E:DD09  6D 9C 26   			adc.l	_ptr_REWARD_VRAM_ADR
         1E:DD0C  42         			say
         1E:DD0D  6D 9D 26   			adc.h	_ptr_REWARD_VRAM_ADR
         1E:DD10  42         			say
 8194                        		__st.wm		__ptr
         1E:DD11  85 88      			sta.l	__ptr
         1E:DD13  84 89      			sty.h	__ptr
 8195                        		__ld.wp		__ptr
         1E:DD15  A0 01      			ldy	#1
         1E:DD17  B1 88      			lda	[__ptr], y
         1E:DD19  A8         			tay
         1E:DD1A  B2 88      			lda	[__ptr]
 8196                        		__call		_sgx_spr_pattern.1
         1E:DD1C  20 E7 E8   			call	_sgx_spr_pattern.1
 8197                        	
 8198                        		.dbg	line,	"include\routines_LEVELS.c", 651; }
 8199                        	
 8200                        		.dbg	line,	"include\routines_LEVELS.c", 653; else if(list_object_counter[current_object_id] == 9)
 8201                        		__bra		.LL326
         1E:DD1F  4C 1E DF   			bra	.LL326
 8202    1E:DD22             	.LL325:
 8203                        		__ldx.umq	__anim_OBJECTS_end - 2  /* current_object_id */
         1E:DD22  AE 2C 2C   			ldx	__anim_OBJECTS_end - 2
 8204                        		__ld.uaxq	_list_object_counter
         1E:DD25  BD 9F 23   			lda	_list_object_counter, x
 8205                        		__equ_b.uiq	9
         1E:DD28  C9 09      			cmp	#9
         1E:DD2A  F0 01      			beq	!+
         1E:DD2C  18         			clc
         1E:DD2D             	!:
 8206                        		__bfalse	.LL327
         1E:DD2D  90 0F      			bcc	.LL327
 8207                        	
 8208                        		.dbg	line,	"include\routines_LEVELS.c", 654; {
 8209                        	
 8210                        		.dbg	line,	"include\routines_LEVELS.c", 655; sgx_spr_pal(17);
 8211                        		__ld.uiq	17
         1E:DD2F  A9 11      			lda	#17
 8212                        		__call		_sgx_spr_pal.1
         1E:DD31  20 0E E9   			call	_sgx_spr_pal.1
 8213                        	
 8214                        		.dbg	line,	"include\routines_LEVELS.c", 656; sgx_spr_pattern(POT3_VRAM_ADR);
 8215                        		__ld.wi		26752
         1E:DD34  A9 80      			lda.l	#26752
         1E:DD36  A0 68      			ldy.h	#26752
 8216                        		__call		_sgx_spr_pattern.1
         1E:DD38  20 E7 E8   			call	_sgx_spr_pattern.1
 8217                        	
 8218                        		.dbg	line,	"include\routines_LEVELS.c", 657; }
 8219                        	
 8220                        		.dbg	line,	"include\routines_LEVELS.c", 659; else if(list_object_counter[current_object_id] == 13)
 8221                        		__bra		.LL328
         1E:DD3B  4C 1E DF   			bra	.LL328
 8222    1E:DD3E             	.LL327:
 8223                        		__ldx.umq	__anim_OBJECTS_end - 2  /* current_object_id */
         1E:DD3E  AE 2C 2C   			ldx	__anim_OBJECTS_end - 2
 8224                        		__ld.uaxq	_list_object_counter
         1E:DD41  BD 9F 23   			lda	_list_object_counter, x
 8225                        		__equ_b.uiq	13
         1E:DD44  C9 0D      			cmp	#13
         1E:DD46  F0 01      			beq	!+
         1E:DD48  18         			clc
         1E:DD49             	!:
 8226                        		__bfalse	.LL329
         1E:DD49  90 27      			bcc	.LL329
 8227                        	
 8228                        		.dbg	line,	"include\routines_LEVELS.c", 660; {
 8229                        	
 8230                        		.dbg	line,	"include\routines_LEVELS.c", 661; sgx_spr_pal(18);
 8231                        		__ld.uiq	18
         1E:DD4B  A9 12      			lda	#18
 8232                        		__call		_sgx_spr_pal.1
         1E:DD4D  20 0E E9   			call	_sgx_spr_pal.1
 8233                        	
 8234                        		.dbg	line,	"include\routines_LEVELS.c", 662; sgx_spr_pattern(*(ptr_REWARD_VRAM_ADR+current_object_id));
 8235                        		__ld.um		__anim_OBJECTS_end - 2  /* current_object_id */
         1E:DD50  AD 2C 2C   			lda	__anim_OBJECTS_end - 2
         1E:DD53  C2         			cly
 8236                        		__asl.wr
         1E:DD54  0A         			asl	a
         1E:DD55  42         			say
         1E:DD56  2A         			rol	a
         1E:DD57  42         			say
 8237                        		__add.wm	_ptr_REWARD_VRAM_ADR
         1E:DD58  18         			clc
         1E:DD59  6D 9C 26   			adc.l	_ptr_REWARD_VRAM_ADR
         1E:DD5C  42         			say
         1E:DD5D  6D 9D 26   			adc.h	_ptr_REWARD_VRAM_ADR
         1E:DD60  42         			say
 8238                        		__st.wm		__ptr
         1E:DD61  85 88      			sta.l	__ptr
         1E:DD63  84 89      			sty.h	__ptr
 8239                        		__ld.wp		__ptr
         1E:DD65  A0 01      			ldy	#1
         1E:DD67  B1 88      			lda	[__ptr], y
         1E:DD69  A8         			tay
         1E:DD6A  B2 88      			lda	[__ptr]
 8240                        		__call		_sgx_spr_pattern.1
         1E:DD6C  20 E7 E8   			call	_sgx_spr_pattern.1
 8241                        	
 8242                        		.dbg	line,	"include\routines_LEVELS.c", 663; }
 8243                        	
 8244                        		.dbg	line,	"include\routines_LEVELS.c", 665; else if(list_object_counter[current_object_id] == 14)
 8245                        		__bra		.LL330
         1E:DD6F  4C 1E DF   			bra	.LL330
 8246    1E:DD72             	.LL329:
 8247                        		__ldx.umq	__anim_OBJECTS_end - 2  /* current_object_id */
         1E:DD72  AE 2C 2C   			ldx	__anim_OBJECTS_end - 2
 8248                        		__ld.uaxq	_list_object_counter
         1E:DD75  BD 9F 23   			lda	_list_object_counter, x
 8249                        		__equ_b.uiq	14
         1E:DD78  C9 0E      			cmp	#14
         1E:DD7A  F0 01      			beq	!+
         1E:DD7C  18         			clc
         1E:DD7D             	!:
 8250                        		__bfalse	.LL331
         1E:DD7D  90 0F      			bcc	.LL331
 8251                        	
 8252                        		.dbg	line,	"include\routines_LEVELS.c", 666; {
 8253                        	
 8254                        		.dbg	line,	"include\routines_LEVELS.c", 667; sgx_spr_pal(17);
 8255                        		__ld.uiq	17
         1E:DD7F  A9 11      			lda	#17
 8256                        		__call		_sgx_spr_pal.1
         1E:DD81  20 0E E9   			call	_sgx_spr_pal.1
 8257                        	
 8258                        		.dbg	line,	"include\routines_LEVELS.c", 668; sgx_spr_pattern(POT4_VRAM_ADR);
 8259                        		__ld.wi		26816
         1E:DD84  A9 C0      			lda.l	#26816
         1E:DD86  A0 68      			ldy.h	#26816
 8260                        		__call		_sgx_spr_pattern.1
         1E:DD88  20 E7 E8   			call	_sgx_spr_pattern.1
 8261                        	
 8262                        		.dbg	line,	"include\routines_LEVELS.c", 669; }
 8263                        	
 8264                        		.dbg	line,	"include\routines_LEVELS.c", 671; else if(list_object_counter[current_object_id] == 18)
 8265                        		__bra		.LL332
         1E:DD8B  4C 1E DF   			bra	.LL332
 8266    1E:DD8E             	.LL331:
 8267                        		__ldx.umq	__anim_OBJECTS_end - 2  /* current_object_id */
         1E:DD8E  AE 2C 2C   			ldx	__anim_OBJECTS_end - 2
 8268                        		__ld.uaxq	_list_object_counter
         1E:DD91  BD 9F 23   			lda	_list_object_counter, x
 8269                        		__equ_b.uiq	18
         1E:DD94  C9 12      			cmp	#18
         1E:DD96  F0 01      			beq	!+
         1E:DD98  18         			clc
         1E:DD99             	!:
 8270                        		__bfalse	.LL333
         1E:DD99  90 27      			bcc	.LL333
 8271                        	
 8272                        		.dbg	line,	"include\routines_LEVELS.c", 672; {
 8273                        	
 8274                        		.dbg	line,	"include\routines_LEVELS.c", 673; sgx_spr_pal(18);
 8275                        		__ld.uiq	18
         1E:DD9B  A9 12      			lda	#18
 8276                        		__call		_sgx_spr_pal.1
         1E:DD9D  20 0E E9   			call	_sgx_spr_pal.1
 8277                        	
 8278                        		.dbg	line,	"include\routines_LEVELS.c", 674; sgx_spr_pattern(*(ptr_REWARD_VRAM_ADR+current_object_id));
 8279                        		__ld.um		__anim_OBJECTS_end - 2  /* current_object_id */
         1E:DDA0  AD 2C 2C   			lda	__anim_OBJECTS_end - 2
         1E:DDA3  C2         			cly
 8280                        		__asl.wr
         1E:DDA4  0A         			asl	a
         1E:DDA5  42         			say
         1E:DDA6  2A         			rol	a
         1E:DDA7  42         			say
 8281                        		__add.wm	_ptr_REWARD_VRAM_ADR
         1E:DDA8  18         			clc
         1E:DDA9  6D 9C 26   			adc.l	_ptr_REWARD_VRAM_ADR
         1E:DDAC  42         			say
         1E:DDAD  6D 9D 26   			adc.h	_ptr_REWARD_VRAM_ADR
         1E:DDB0  42         			say
 8282                        		__st.wm		__ptr
         1E:DDB1  85 88      			sta.l	__ptr
         1E:DDB3  84 89      			sty.h	__ptr
 8283                        		__ld.wp		__ptr
         1E:DDB5  A0 01      			ldy	#1
         1E:DDB7  B1 88      			lda	[__ptr], y
         1E:DDB9  A8         			tay
         1E:DDBA  B2 88      			lda	[__ptr]
 8284                        		__call		_sgx_spr_pattern.1
         1E:DDBC  20 E7 E8   			call	_sgx_spr_pattern.1
 8285                        	
 8286                        		.dbg	line,	"include\routines_LEVELS.c", 675; }
 8287                        	
 8288                        		.dbg	line,	"include\routines_LEVELS.c", 677; else if(list_object_counter[current_object_id] == 19)
 8289                        		__bra		.LL334
         1E:DDBF  4C 1E DF   			bra	.LL334
 8290    1E:DDC2             	.LL333:
 8291                        		__ldx.umq	__anim_OBJECTS_end - 2  /* current_object_id */
         1E:DDC2  AE 2C 2C   			ldx	__anim_OBJECTS_end - 2
 8292                        		__ld.uaxq	_list_object_counter
         1E:DDC5  BD 9F 23   			lda	_list_object_counter, x
 8293                        		__equ_b.uiq	19
         1E:DDC8  C9 13      			cmp	#19
         1E:DDCA  F0 01      			beq	!+
         1E:DDCC  18         			clc
         1E:DDCD             	!:
 8294                        		__bfalse	.LL335
         1E:DDCD  90 0E      			bcc	.LL335
 8295                        	
 8296                        		.dbg	line,	"include\routines_LEVELS.c", 678; {
 8297                        	
 8298                        		.dbg	line,	"include\routines_LEVELS.c", 679; sgx_spr_pal(17);
 8299                        		__ld.uiq	17
         1E:DDCF  A9 11      			lda	#17
 8300                        		__call		_sgx_spr_pal.1
         1E:DDD1  20 0E E9   			call	_sgx_spr_pal.1
 8301                        	
 8302                        		.dbg	line,	"include\routines_LEVELS.c", 680; sgx_spr_pattern(POT5_VRAM_ADR);
 8303                        		__ld.wi		26880
         1E:DDD4  62         			cla
         1E:DDD5  A0 69      			ldy.h	#26880
 8304                        		__call		_sgx_spr_pattern.1
         1E:DDD7  20 E7 E8   			call	_sgx_spr_pattern.1
 8305                        	
 8306                        		.dbg	line,	"include\routines_LEVELS.c", 681; }
 8307                        	
 8308                        		.dbg	line,	"include\routines_LEVELS.c", 683; else if(list_object_counter[current_object_id] == 23)
 8309                        		__bra		.LL336
         1E:DDDA  4C 1E DF   			bra	.LL336
 8310    1E:DDDD             	.LL335:
 8311                        		__ldx.umq	__anim_OBJECTS_end - 2  /* current_object_id */
         1E:DDDD  AE 2C 2C   			ldx	__anim_OBJECTS_end - 2
 8312                        		__ld.uaxq	_list_object_counter
         1E:DDE0  BD 9F 23   			lda	_list_object_counter, x
 8313                        		__equ_b.uiq	23
         1E:DDE3  C9 17      			cmp	#23
         1E:DDE5  F0 01      			beq	!+
         1E:DDE7  18         			clc
         1E:DDE8             	!:
 8314                        		__bfalse	.LL337
         1E:DDE8  90 27      			bcc	.LL337
 8315                        	
 8316                        		.dbg	line,	"include\routines_LEVELS.c", 684; {
 8317                        	
 8318                        		.dbg	line,	"include\routines_LEVELS.c", 685; sgx_spr_pal(18);
 8319                        		__ld.uiq	18
         1E:DDEA  A9 12      			lda	#18
 8320                        		__call		_sgx_spr_pal.1
         1E:DDEC  20 0E E9   			call	_sgx_spr_pal.1
 8321                        	
 8322                        		.dbg	line,	"include\routines_LEVELS.c", 686; sgx_spr_pattern(*(ptr_REWARD_VRAM_ADR+current_object_id));
 8323                        		__ld.um		__anim_OBJECTS_end - 2  /* current_object_id */
         1E:DDEF  AD 2C 2C   			lda	__anim_OBJECTS_end - 2
         1E:DDF2  C2         			cly
 8324                        		__asl.wr
         1E:DDF3  0A         			asl	a
         1E:DDF4  42         			say
         1E:DDF5  2A         			rol	a
         1E:DDF6  42         			say
 8325                        		__add.wm	_ptr_REWARD_VRAM_ADR
         1E:DDF7  18         			clc
         1E:DDF8  6D 9C 26   			adc.l	_ptr_REWARD_VRAM_ADR
         1E:DDFB  42         			say
         1E:DDFC  6D 9D 26   			adc.h	_ptr_REWARD_VRAM_ADR
         1E:DDFF  42         			say
 8326                        		__st.wm		__ptr
         1E:DE00  85 88      			sta.l	__ptr
         1E:DE02  84 89      			sty.h	__ptr
 8327                        		__ld.wp		__ptr
         1E:DE04  A0 01      			ldy	#1
         1E:DE06  B1 88      			lda	[__ptr], y
         1E:DE08  A8         			tay
         1E:DE09  B2 88      			lda	[__ptr]
 8328                        		__call		_sgx_spr_pattern.1
         1E:DE0B  20 E7 E8   			call	_sgx_spr_pattern.1
 8329                        	
 8330                        		.dbg	line,	"include\routines_LEVELS.c", 687; }
 8331                        	
 8332                        		.dbg	line,	"include\routines_LEVELS.c", 689; else if(list_object_counter[current_object_id] == 24)
 8333                        		__bra		.LL338
         1E:DE0E  4C 1E DF   			bra	.LL338
 8334    1E:DE11             	.LL337:
 8335                        		__ldx.umq	__anim_OBJECTS_end - 2  /* current_object_id */
         1E:DE11  AE 2C 2C   			ldx	__anim_OBJECTS_end - 2
 8336                        		__ld.uaxq	_list_object_counter
         1E:DE14  BD 9F 23   			lda	_list_object_counter, x
 8337                        		__equ_b.uiq	24
         1E:DE17  C9 18      			cmp	#24
         1E:DE19  F0 01      			beq	!+
         1E:DE1B  18         			clc
         1E:DE1C             	!:
 8338                        		__bfalse	.LL339
         1E:DE1C  90 0F      			bcc	.LL339
 8339                        	
 8340                        		.dbg	line,	"include\routines_LEVELS.c", 690; {
 8341                        	
 8342                        		.dbg	line,	"include\routines_LEVELS.c", 691; sgx_spr_pal(17);
 8343                        		__ld.uiq	17
         1E:DE1E  A9 11      			lda	#17
 8344                        		__call		_sgx_spr_pal.1
         1E:DE20  20 0E E9   			call	_sgx_spr_pal.1
 8345                        	
 8346                        		.dbg	line,	"include\routines_LEVELS.c", 692; sgx_spr_pattern(POT6_VRAM_ADR);
 8347                        		__ld.wi		26944
         1E:DE23  A9 40      			lda.l	#26944
         1E:DE25  A0 69      			ldy.h	#26944
 8348                        		__call		_sgx_spr_pattern.1
         1E:DE27  20 E7 E8   			call	_sgx_spr_pattern.1
 8349                        	
 8350                        		.dbg	line,	"include\routines_LEVELS.c", 693; }
 8351                        	
 8352                        		.dbg	line,	"include\routines_LEVELS.c", 695; else if(list_object_counter[current_object_id] == 28)
 8353                        		__bra		.LL340
         1E:DE2A  4C 1E DF   			bra	.LL340
 8354    1E:DE2D             	.LL339:
 8355                        		__ldx.umq	__anim_OBJECTS_end - 2  /* current_object_id */
         1E:DE2D  AE 2C 2C   			ldx	__anim_OBJECTS_end - 2
 8356                        		__ld.uaxq	_list_object_counter
         1E:DE30  BD 9F 23   			lda	_list_object_counter, x
 8357                        		__equ_b.uiq	28
         1E:DE33  C9 1C      			cmp	#28
         1E:DE35  F0 01      			beq	!+
         1E:DE37  18         			clc
         1E:DE38             	!:
 8358                        		__bfalse	.LL341
         1E:DE38  90 27      			bcc	.LL341
 8359                        	
 8360                        		.dbg	line,	"include\routines_LEVELS.c", 696; {
 8361                        	
 8362                        		.dbg	line,	"include\routines_LEVELS.c", 697; sgx_spr_pal(18);
 8363                        		__ld.uiq	18
         1E:DE3A  A9 12      			lda	#18
 8364                        		__call		_sgx_spr_pal.1
         1E:DE3C  20 0E E9   			call	_sgx_spr_pal.1
 8365                        	
 8366                        		.dbg	line,	"include\routines_LEVELS.c", 698; sgx_spr_pattern(*(ptr_REWARD_VRAM_ADR+current_object_id));
 8367                        		__ld.um		__anim_OBJECTS_end - 2  /* current_object_id */
         1E:DE3F  AD 2C 2C   			lda	__anim_OBJECTS_end - 2
         1E:DE42  C2         			cly
 8368                        		__asl.wr
         1E:DE43  0A         			asl	a
         1E:DE44  42         			say
         1E:DE45  2A         			rol	a
         1E:DE46  42         			say
 8369                        		__add.wm	_ptr_REWARD_VRAM_ADR
         1E:DE47  18         			clc
         1E:DE48  6D 9C 26   			adc.l	_ptr_REWARD_VRAM_ADR
         1E:DE4B  42         			say
         1E:DE4C  6D 9D 26   			adc.h	_ptr_REWARD_VRAM_ADR
         1E:DE4F  42         			say
 8370                        		__st.wm		__ptr
         1E:DE50  85 88      			sta.l	__ptr
         1E:DE52  84 89      			sty.h	__ptr
 8371                        		__ld.wp		__ptr
         1E:DE54  A0 01      			ldy	#1
         1E:DE56  B1 88      			lda	[__ptr], y
         1E:DE58  A8         			tay
         1E:DE59  B2 88      			lda	[__ptr]
 8372                        		__call		_sgx_spr_pattern.1
         1E:DE5B  20 E7 E8   			call	_sgx_spr_pattern.1
 8373                        	
 8374                        		.dbg	line,	"include\routines_LEVELS.c", 699; }
 8375                        	
 8376                        		.dbg	line,	"include\routines_LEVELS.c", 701; else if(list_object_counter[current_object_id] == 29)
 8377                        		__bra		.LL342
         1E:DE5E  4C 1E DF   			bra	.LL342
 8378    1E:DE61             	.LL341:
 8379                        		__ldx.umq	__anim_OBJECTS_end - 2  /* current_object_id */
         1E:DE61  AE 2C 2C   			ldx	__anim_OBJECTS_end - 2
 8380                        		__ld.uaxq	_list_object_counter
         1E:DE64  BD 9F 23   			lda	_list_object_counter, x
 8381                        		__equ_b.uiq	29
         1E:DE67  C9 1D      			cmp	#29
         1E:DE69  F0 01      			beq	!+
         1E:DE6B  18         			clc
         1E:DE6C             	!:
 8382                        		__bfalse	.LL343
         1E:DE6C  90 0F      			bcc	.LL343
 8383                        	
 8384                        		.dbg	line,	"include\routines_LEVELS.c", 702; {
 8385                        	
 8386                        		.dbg	line,	"include\routines_LEVELS.c", 703; sgx_spr_pal(17);
 8387                        		__ld.uiq	17
         1E:DE6E  A9 11      			lda	#17
 8388                        		__call		_sgx_spr_pal.1
         1E:DE70  20 0E E9   			call	_sgx_spr_pal.1
 8389                        	
 8390                        		.dbg	line,	"include\routines_LEVELS.c", 704; sgx_spr_pattern(POT7_VRAM_ADR);
 8391                        		__ld.wi		27008
         1E:DE73  A9 80      			lda.l	#27008
         1E:DE75  A0 69      			ldy.h	#27008
 8392                        		__call		_sgx_spr_pattern.1
         1E:DE77  20 E7 E8   			call	_sgx_spr_pattern.1
 8393                        	
 8394                        		.dbg	line,	"include\routines_LEVELS.c", 705; }
 8395                        	
 8396                        		.dbg	line,	"include\routines_LEVELS.c", 707; else if(list_object_counter[current_object_id] == 33)
 8397                        		__bra		.LL344
         1E:DE7A  4C 1E DF   			bra	.LL344
 8398    1E:DE7D             	.LL343:
 8399                        		__ldx.umq	__anim_OBJECTS_end - 2  /* current_object_id */
         1E:DE7D  AE 2C 2C   			ldx	__anim_OBJECTS_end - 2
 8400                        		__ld.uaxq	_list_object_counter
         1E:DE80  BD 9F 23   			lda	_list_object_counter, x
 8401                        		__equ_b.uiq	33
         1E:DE83  C9 21      			cmp	#33
         1E:DE85  F0 01      			beq	!+
         1E:DE87  18         			clc
         1E:DE88             	!:
 8402                        		__bfalse	.LL345
         1E:DE88  90 26      			bcc	.LL345
 8403                        	
 8404                        		.dbg	line,	"include\routines_LEVELS.c", 708; {
 8405                        	
 8406                        		.dbg	line,	"include\routines_LEVELS.c", 709; sgx_spr_pal(18);
 8407                        		__ld.uiq	18
         1E:DE8A  A9 12      			lda	#18
 8408                        		__call		_sgx_spr_pal.1
         1E:DE8C  20 0E E9   			call	_sgx_spr_pal.1
 8409                        	
 8410                        		.dbg	line,	"include\routines_LEVELS.c", 710; sgx_spr_pattern(*(ptr_REWARD_VRAM_ADR+current_object_id));
 8411                        		__ld.um		__anim_OBJECTS_end - 2  /* current_object_id */
         1E:DE8F  AD 2C 2C   			lda	__anim_OBJECTS_end - 2
         1E:DE92  C2         			cly
 8412                        		__asl.wr
         1E:DE93  0A         			asl	a
         1E:DE94  42         			say
         1E:DE95  2A         			rol	a
         1E:DE96  42         			say
 8413                        		__add.wm	_ptr_REWARD_VRAM_ADR
         1E:DE97  18         			clc
         1E:DE98  6D 9C 26   			adc.l	_ptr_REWARD_VRAM_ADR
         1E:DE9B  42         			say
         1E:DE9C  6D 9D 26   			adc.h	_ptr_REWARD_VRAM_ADR
         1E:DE9F  42         			say
 8414                        		__st.wm		__ptr
         1E:DEA0  85 88      			sta.l	__ptr
         1E:DEA2  84 89      			sty.h	__ptr
 8415                        		__ld.wp		__ptr
         1E:DEA4  A0 01      			ldy	#1
         1E:DEA6  B1 88      			lda	[__ptr], y
         1E:DEA8  A8         			tay
         1E:DEA9  B2 88      			lda	[__ptr]
 8416                        		__call		_sgx_spr_pattern.1
         1E:DEAB  20 E7 E8   			call	_sgx_spr_pattern.1
 8417                        	
 8418                        		.dbg	line,	"include\routines_LEVELS.c", 711; }
 8419                        	
 8420                        		.dbg	line,	"include\routines_LEVELS.c", 713; else if(list_object_counter[current_object_id] == 34)
 8421                        		__bra		.LL346
         1E:DEAE  80 6E      			bra	.LL346
 8422    1E:DEB0             	.LL345:
 8423                        		__ldx.umq	__anim_OBJECTS_end - 2  /* current_object_id */
         1E:DEB0  AE 2C 2C   			ldx	__anim_OBJECTS_end - 2
 8424                        		__ld.uaxq	_list_object_counter
         1E:DEB3  BD 9F 23   			lda	_list_object_counter, x
 8425                        		__equ_b.uiq	34
         1E:DEB6  C9 22      			cmp	#34
         1E:DEB8  F0 01      			beq	!+
         1E:DEBA  18         			clc
         1E:DEBB             	!:
 8426                        		__bfalse	.LL347
         1E:DEBB  90 0E      			bcc	.LL347
 8427                        	
 8428                        		.dbg	line,	"include\routines_LEVELS.c", 714; {
 8429                        	
 8430                        		.dbg	line,	"include\routines_LEVELS.c", 715; sgx_spr_pal(17);
 8431                        		__ld.uiq	17
         1E:DEBD  A9 11      			lda	#17
 8432                        		__call		_sgx_spr_pal.1
         1E:DEBF  20 0E E9   			call	_sgx_spr_pal.1
 8433                        	
 8434                        		.dbg	line,	"include\routines_LEVELS.c", 716; sgx_spr_pattern(POT8_VRAM_ADR);
 8435                        		__ld.wi		27072
         1E:DEC2  A9 C0      			lda.l	#27072
         1E:DEC4  A0 69      			ldy.h	#27072
 8436                        		__call		_sgx_spr_pattern.1
         1E:DEC6  20 E7 E8   			call	_sgx_spr_pattern.1
 8437                        	
 8438                        		.dbg	line,	"include\routines_LEVELS.c", 717; }
 8439                        	
 8440                        		.dbg	line,	"include\routines_LEVELS.c", 719; else if(list_object_counter[current_object_id] == 38)
 8441                        		__bra		.LL348
         1E:DEC9  80 53      			bra	.LL348
 8442    1E:DECB             	.LL347:
 8443                        		__ldx.umq	__anim_OBJECTS_end - 2  /* current_object_id */
         1E:DECB  AE 2C 2C   			ldx	__anim_OBJECTS_end - 2
 8444                        		__ld.uaxq	_list_object_counter
         1E:DECE  BD 9F 23   			lda	_list_object_counter, x
 8445                        		__equ_b.uiq	38
         1E:DED1  C9 26      			cmp	#38
         1E:DED3  F0 01      			beq	!+
         1E:DED5  18         			clc
         1E:DED6             	!:
 8446                        		__bfalse	.LL349
         1E:DED6  90 46      			bcc	.LL349
 8447                        	
 8448                        		.dbg	line,	"include\routines_LEVELS.c", 720; {
 8449                        	
 8450                        		.dbg	line,	"include\routines_LEVELS.c", 721; sgx_spr_pal(18);
 8451                        		__ld.uiq	18
         1E:DED8  A9 12      			lda	#18
 8452                        		__call		_sgx_spr_pal.1
         1E:DEDA  20 0E E9   			call	_sgx_spr_pal.1
 8453                        	
 8454                        		.dbg	line,	"include\routines_LEVELS.c", 722; sgx_spr_pattern(*(ptr_REWARD_VRAM_ADR+current_object_id));
 8455                        		__ld.um		__anim_OBJECTS_end - 2  /* current_object_id */
         1E:DEDD  AD 2C 2C   			lda	__anim_OBJECTS_end - 2
         1E:DEE0  C2         			cly
 8456                        		__asl.wr
         1E:DEE1  0A         			asl	a
         1E:DEE2  42         			say
         1E:DEE3  2A         			rol	a
         1E:DEE4  42         			say
 8457                        		__add.wm	_ptr_REWARD_VRAM_ADR
         1E:DEE5  18         			clc
         1E:DEE6  6D 9C 26   			adc.l	_ptr_REWARD_VRAM_ADR
         1E:DEE9  42         			say
         1E:DEEA  6D 9D 26   			adc.h	_ptr_REWARD_VRAM_ADR
         1E:DEED  42         			say
 8458                        		__st.wm		__ptr
         1E:DEEE  85 88      			sta.l	__ptr
         1E:DEF0  84 89      			sty.h	__ptr
 8459                        		__ld.wp		__ptr
         1E:DEF2  A0 01      			ldy	#1
         1E:DEF4  B1 88      			lda	[__ptr], y
         1E:DEF6  A8         			tay
         1E:DEF7  B2 88      			lda	[__ptr]
 8460                        		__call		_sgx_spr_pattern.1
         1E:DEF9  20 E7 E8   			call	_sgx_spr_pattern.1
 8461                        	
 8462                        		.dbg	line,	"include\routines_LEVELS.c", 723; list_object_type[current_object_id] = *(ptr_REWARD_TYPE+current_object_id);
 8463                        		__ld.wm		_ptr_REWARD_TYPE
         1E:DEFC  AD 9A 26   			lda.l	_ptr_REWARD_TYPE
         1E:DEFF  AC 9B 26   			ldy.h	_ptr_REWARD_TYPE
 8464                        		__add.um	__anim_OBJECTS_end - 2  /* current_object_id */
         1E:DF02  18         			clc
         1E:DF03  6D 2C 2C   			adc	__anim_OBJECTS_end - 2
         1E:DF06  90 01      			bcc	!+
         1E:DF08  C8         			iny
         1E:DF09             	!:
 8465                        		__st.wm		__ptr
         1E:DF09  85 88      			sta.l	__ptr
         1E:DF0B  84 89      			sty.h	__ptr
 8466                        		__ld.up		__ptr
         1E:DF0D  B2 88      			lda	[__ptr]
         1E:DF0F  C2         			cly
 8467                        		__ldx.umq	__anim_OBJECTS_end - 2  /* current_object_id */
         1E:DF10  AE 2C 2C   			ldx	__anim_OBJECTS_end - 2
 8468                        		__st.uaxq	_list_object_type
         1E:DF13  9D 3B 23   			sta	_list_object_type, x
 8469                        	
 8470                        		.dbg	line,	"include\routines_LEVELS.c", 724; list_object_state[current_object_id] = STATE_DROPPED;
 8471                        		__ldx.umq	__anim_OBJECTS_end - 2  /* current_object_id */
         1E:DF16  AE 2C 2C   			ldx	__anim_OBJECTS_end - 2
 8472                        		__st.uaxiq	3, _list_object_state
         1E:DF19  A9 03      			lda.l	#3
         1E:DF1B  9D 54 23   			sta	_list_object_state, x
 8473                        	
 8474                        		.dbg	line,	"include\routines_LEVELS.c", 725; }
 8475                        	
 8476                        		.dbg	line,	"include\routines_LEVELS.c", 727; list_object_counter[current_object_id] += 1;
 8477    1E:DF1E             	.LL349:
 8478    1E:DF1E             	.LL348:
 8479    1E:DF1E             	.LL346:
 8480    1E:DF1E             	.LL344:
 8481    1E:DF1E             	.LL342:
 8482    1E:DF1E             	.LL340:
 8483    1E:DF1E             	.LL338:
 8484    1E:DF1E             	.LL336:
 8485    1E:DF1E             	.LL334:
 8486    1E:DF1E             	.LL332:
 8487    1E:DF1E             	.LL330:
 8488    1E:DF1E             	.LL328:
 8489    1E:DF1E             	.LL326:
 8490    1E:DF1E             	.LL324:
 8491    1E:DF1E             	.LL322:
 8492    1E:DF1E             	.LL320:
 8493                        		__ldx.umq	__anim_OBJECTS_end - 2  /* current_object_id */
         1E:DF1E  AE 2C 2C   			ldx	__anim_OBJECTS_end - 2
 8494                        		__add_st.uaxiq	1, _list_object_counter
         1E:DF21  FE 9F 23   			inc	_list_object_counter, x
 8495                        	
 8496                        		.dbg	line,	"include\routines_LEVELS.c", 728; }
 8497                        	
 8498                        		.dbg	line,	"include\routines_LEVELS.c", 729; 
 8499                        	
 8500                        		.dbg	line,	"include\routines_LEVELS.c", 731; else if(list_object_energy[current_object_id] == 1)
 8501                        		__bra		.LL350
         1E:DF24  4C 3E DC   			bra	.LL350
 8502    1E:DF27             	.LL318:
 8503                        		__ldx.umq	__anim_OBJECTS_end - 2  /* current_object_id */
         1E:DF27  AE 2C 2C   			ldx	__anim_OBJECTS_end - 2
 8504                        		__ld.uaxq	_list_object_energy
         1E:DF2A  BD 6D 23   			lda	_list_object_energy, x
 8505                        		__equ_b.uiq	1
         1E:DF2D  C9 01      			cmp	#1
         1E:DF2F  F0 01      			beq	!+
         1E:DF31  18         			clc
         1E:DF32             	!:
 8506                        		__bfalse	.LL351
         1E:DF32  B0 03 4C 3E			bcc	.LL351
         1E:DF36  DC          
 8507                        	
 8508                        		.dbg	line,	"include\routines_LEVELS.c", 732; {
 8509                        	
 8510                        		.dbg	line,	"include\routines_LEVELS.c", 733; if(list_object_counter[current_object_id] == 0)
 8511                        		__ldx.umq	__anim_OBJECTS_end - 2  /* current_object_id */
         1E:DF37  AE 2C 2C   			ldx	__anim_OBJECTS_end - 2
 8512                        		__not.uax	_list_object_counter
         1E:DF3A  BD 9F 23   			lda	_list_object_counter, x
         1E:DF3D  18         			clc
         1E:DF3E  D0 01      			bne	!+
         1E:DF40  38         			sec
         1E:DF41             	!:
 8513                        		__bfalse	.LL352
         1E:DF41  90 1A      			bcc	.LL352
 8514                        	
 8515                        		.dbg	line,	"include\routines_LEVELS.c", 734; {
 8516                        	
 8517                        		.dbg	line,	"include\routines_LEVELS.c", 735; object_pos_y = sgx_spr_get_y();
 8518                        		__call		_sgx_spr_get_y
         1E:DF43  20 3C E9   			call	_sgx_spr_get_y
 8519                        		__st.wmq	__anim_OBJECTS_end - 4  /* object_pos_y */
         1E:DF46  8D 2A 2C   			sta.l	__anim_OBJECTS_end - 4
         1E:DF49  8C 2B 2C   			sty.h	__anim_OBJECTS_end - 4
 8520                        	
 8521                        		.dbg	line,	"include\routines_LEVELS.c", 736; sgx_spr_y(object_pos_y - 1);
 8522                        		__ld.wm		__anim_OBJECTS_end - 4  /* object_pos_y */
         1E:DF4C  AD 2A 2C   			lda.l	__anim_OBJECTS_end - 4
         1E:DF4F  AC 2B 2C   			ldy.h	__anim_OBJECTS_end - 4
 8523                        		__sub.wi	1
         1E:DF52  38         			sec
         1E:DF53  E9 01      			sbc.l	#1
         1E:DF55  B0 01      			bcs	!+
         1E:DF57  88         			dey
         1E:DF58             	!:
 8524                        		__call		_sgx_spr_y.1
         1E:DF58  20 DA E8   			call	_sgx_spr_y.1
 8525                        	
 8526                        		.dbg	line,	"include\routines_LEVELS.c", 737; }
 8527                        	
 8528                        		.dbg	line,	"include\routines_LEVELS.c", 739; else if(list_object_counter[current_object_id] == 1)
 8529                        		__bra		.LL353
         1E:DF5B  80 63      			bra	.LL353
 8530    1E:DF5D             	.LL352:
 8531                        		__ldx.umq	__anim_OBJECTS_end - 2  /* current_object_id */
         1E:DF5D  AE 2C 2C   			ldx	__anim_OBJECTS_end - 2
 8532                        		__ld.uaxq	_list_object_counter
         1E:DF60  BD 9F 23   			lda	_list_object_counter, x
 8533                        		__equ_b.uiq	1
         1E:DF63  C9 01      			cmp	#1
         1E:DF65  F0 01      			beq	!+
         1E:DF67  18         			clc
         1E:DF68             	!:
 8534                        		__bfalse	.LL354
         1E:DF68  90 1A      			bcc	.LL354
 8535                        	
 8536                        		.dbg	line,	"include\routines_LEVELS.c", 740; {
 8537                        	
 8538                        		.dbg	line,	"include\routines_LEVELS.c", 741; object_pos_y = sgx_spr_get_y();
 8539                        		__call		_sgx_spr_get_y
         1E:DF6A  20 3C E9   			call	_sgx_spr_get_y
 8540                        		__st.wmq	__anim_OBJECTS_end - 4  /* object_pos_y */
         1E:DF6D  8D 2A 2C   			sta.l	__anim_OBJECTS_end - 4
         1E:DF70  8C 2B 2C   			sty.h	__anim_OBJECTS_end - 4
 8541                        	
 8542                        		.dbg	line,	"include\routines_LEVELS.c", 742; sgx_spr_y(object_pos_y - 2);
 8543                        		__ld.wm		__anim_OBJECTS_end - 4  /* object_pos_y */
         1E:DF73  AD 2A 2C   			lda.l	__anim_OBJECTS_end - 4
         1E:DF76  AC 2B 2C   			ldy.h	__anim_OBJECTS_end - 4
 8544                        		__sub.wi	2
         1E:DF79  38         			sec
         1E:DF7A  E9 02      			sbc.l	#2
         1E:DF7C  B0 01      			bcs	!+
         1E:DF7E  88         			dey
         1E:DF7F             	!:
 8545                        		__call		_sgx_spr_y.1
         1E:DF7F  20 DA E8   			call	_sgx_spr_y.1
 8546                        	
 8547                        		.dbg	line,	"include\routines_LEVELS.c", 743; }
 8548                        	
 8549                        		.dbg	line,	"include\routines_LEVELS.c", 745; else if(list_object_counter[current_object_id] == 2)
 8550                        		__bra		.LL355
         1E:DF82  80 3C      			bra	.LL355
 8551    1E:DF84             	.LL354:
 8552                        		__ldx.umq	__anim_OBJECTS_end - 2  /* current_object_id */
         1E:DF84  AE 2C 2C   			ldx	__anim_OBJECTS_end - 2
 8553                        		__ld.uaxq	_list_object_counter
         1E:DF87  BD 9F 23   			lda	_list_object_counter, x
 8554                        		__equ_b.uiq	2
         1E:DF8A  C9 02      			cmp	#2
         1E:DF8C  F0 01      			beq	!+
         1E:DF8E  18         			clc
         1E:DF8F             	!:
 8555                        		__bfalse	.LL356
         1E:DF8F  90 1A      			bcc	.LL356
 8556                        	
 8557                        		.dbg	line,	"include\routines_LEVELS.c", 746; {
 8558                        	
 8559                        		.dbg	line,	"include\routines_LEVELS.c", 747; object_pos_y = sgx_spr_get_y();
 8560                        		__call		_sgx_spr_get_y
         1E:DF91  20 3C E9   			call	_sgx_spr_get_y
 8561                        		__st.wmq	__anim_OBJECTS_end - 4  /* object_pos_y */
         1E:DF94  8D 2A 2C   			sta.l	__anim_OBJECTS_end - 4
         1E:DF97  8C 2B 2C   			sty.h	__anim_OBJECTS_end - 4
 8562                        	
 8563                        		.dbg	line,	"include\routines_LEVELS.c", 748; sgx_spr_y(object_pos_y - 1);
 8564                        		__ld.wm		__anim_OBJECTS_end - 4  /* object_pos_y */
         1E:DF9A  AD 2A 2C   			lda.l	__anim_OBJECTS_end - 4
         1E:DF9D  AC 2B 2C   			ldy.h	__anim_OBJECTS_end - 4
 8565                        		__sub.wi	1
         1E:DFA0  38         			sec
         1E:DFA1  E9 01      			sbc.l	#1
         1E:DFA3  B0 01      			bcs	!+
         1E:DFA5  88         			dey
         1E:DFA6             	!:
 8566                        		__call		_sgx_spr_y.1
         1E:DFA6  20 DA E8   			call	_sgx_spr_y.1
 8567                        	
 8568                        		.dbg	line,	"include\routines_LEVELS.c", 749; }
 8569                        	
 8570                        		.dbg	line,	"include\routines_LEVELS.c", 751; else if(list_object_counter[current_object_id] == 4)
 8571                        		__bra		.LL357
         1E:DFA9  80 15      			bra	.LL357
 8572    1E:DFAB             	.LL356:
 8573                        		__ldx.umq	__anim_OBJECTS_end - 2  /* current_object_id */
         1E:DFAB  AE 2C 2C   			ldx	__anim_OBJECTS_end - 2
 8574                        		__ld.uaxq	_list_object_counter
         1E:DFAE  BD 9F 23   			lda	_list_object_counter, x
 8575                        		__equ_b.uiq	4
         1E:DFB1  C9 04      			cmp	#4
         1E:DFB3  F0 01      			beq	!+
         1E:DFB5  18         			clc
         1E:DFB6             	!:
 8576                        		__bfalse	.LL358
         1E:DFB6  90 08      			bcc	.LL358
 8577                        	
 8578                        		.dbg	line,	"include\routines_LEVELS.c", 752; {
 8579                        	
 8580                        		.dbg	line,	"include\routines_LEVELS.c", 753; list_object_state[current_object_id] = STATE_ACTIVE;
 8581                        		__ldx.umq	__anim_OBJECTS_end - 2  /* current_object_id */
         1E:DFB8  AE 2C 2C   			ldx	__anim_OBJECTS_end - 2
 8582                        		__st.uaxiq	1, _list_object_state
         1E:DFBB  A9 01      			lda.l	#1
         1E:DFBD  9D 54 23   			sta	_list_object_state, x
 8583                        	
 8584                        		.dbg	line,	"include\routines_LEVELS.c", 754; }
 8585                        	
 8586                        		.dbg	line,	"include\routines_LEVELS.c", 756; list_object_counter[current_object_id] += 1;
 8587    1E:DFC0             	.LL358:
 8588    1E:DFC0             	.LL357:
 8589    1E:DFC0             	.LL355:
 8590    1E:DFC0             	.LL353:
 8591                        		__ldx.umq	__anim_OBJECTS_end - 2  /* current_object_id */
         1E:DFC0  AE 2C 2C   			ldx	__anim_OBJECTS_end - 2
 8592                        		__add_st.uaxiq	1, _list_object_counter
         1E:DFC3  FE 9F 23   			inc	_list_object_counter, x
 8593                        	
 8594                        		.dbg	line,	"include\routines_LEVELS.c", 757; }
 8595                        	
 8596                        		.dbg	line,	"include\routines_LEVELS.c", 758; }
 8597    1E:DFC6             	.LL351	.alias		.LL314
 8598    1E:DFC6             	.LL350	.alias		.LL314
 8599                        	
 8600                        		.dbg	line,	"include\routines_LEVELS.c", 759; }
 8601    1E:DFC6             	.LL317	.alias		.LL314
 8602                        		__bra		.LL314
         1E:DFC6  4C 3E DC   			bra	.LL314
 8603    1E:DFC9             	.LL316:
 8604                        	
 8605                        		.dbg	line,	"include\routines_LEVELS.c", 760; }
 8606                        	
 8607                        		.dbg	line,	"include\routines_LEVELS.c", 761; }
 8608    1E:DFC9             	.LL312:
 8609    1E:DFC9             	.LL311:
 8610                        		__return	0
         1E:DFC9  4C EF FF   			jmp	leave_proc
 8611                        		.dbg	clear
 8612                        		.endp
 8613               2303     		.bss
 8614    F8:2303             	__anim_OBJECTS_end	.alias	leaf_stack
 8615               E31D     		.code
 8616                        		.pceas
 8617                        	
 8618                        		.dbg	line,	"include\routines_LEVELS.c", 769; void joypad_BUTTONS()
 8619                        		.dbg	line,	"include\routines_LEVELS.c", 770; {
 8620                        	;***********************
 8621                        	;***********************
 8622                        	
 8623                        		.hucc
 8624    1F:C000             		.proc		_joypad_BUTTONS
 8625                        		__enter		_joypad_BUTTONS
 8626                        	
 8627                        		.dbg	line,	"include\routines_LEVELS.c", 771; // JUMP //
 8628                        	
 8629                        		.dbg	line,	"include\routines_LEVELS.c", 772; if(joytrg(JOYPAD_1) == JOY_I)
 8630                        		__ld.uiq	0
         1F:C000  62         			cla
 8631                        		 _joytrg.1
         1F:C001  AA         			tax
         1F:C002  BD 2D 22   			lda	joytrg, x
         1F:C005  BC DD 22   			ldy	joy6trg, x
 8632                        		__equ_w.wi	1
         1F:C008  C9 01      			cmp.l	#1
         1F:C00A  D0 04      			bne	!false+
         1F:C00C  C0 00      			cpy.h	#1
         1F:C00E  F0 01      			beq	!+
         1F:C010  18         	!false:		clc
         1F:C011             	!:
 8633                        		__bfalse	.LL360
         1F:C011  B0 03 4C DC			bcc	.LL360
         1F:C015  C1          
 8634                        	
 8635                        		.dbg	line,	"include\routines_LEVELS.c", 773; {
 8636                        	
 8637                        		.dbg	line,	"include\routines_LEVELS.c", 774; if(player_state == STATE_IDLE)
 8638                        		__not.um	_player_state
         1F:C016  AD 1B 23   			lda	_player_state
         1F:C019  18         			clc
         1F:C01A  D0 01      			bne	!+
         1F:C01C  38         			sec
         1F:C01D             	!:
 8639                        		__bfalse	.LL361
         1F:C01D  90 43      			bcc	.LL361
 8640                        	
 8641                        		.dbg	line,	"include\routines_LEVELS.c", 775; {
 8642                        	
 8643                        		.dbg	line,	"include\routines_LEVELS.c", 776; hit_wall = FALSE;
 8644                        		__st.umiq	0, _hit_wall
         1F:C01F  9C 27 23   			stz	_hit_wall
 8645                        	
 8646                        		.dbg	line,	"include\routines_LEVELS.c", 777; 
 8647                        	
 8648                        		.dbg	line,	"include\routines_LEVELS.c", 778; player_counter_anim = 0;
 8649                        		__st.umiq	0, _player_counter_anim
         1F:C022  9C 1E 23   			stz	_player_counter_anim
 8650                        	
 8651                        		.dbg	line,	"include\routines_LEVELS.c", 780; jump_max_index = 43;
 8652                        		__st.umiq	43, _jump_max_index
         1F:C025  A9 2B      			lda.l	#43
         1F:C027  8D 25 23   			sta	_jump_max_index
 8653                        	
 8654                        		.dbg	line,	"include\routines_LEVELS.c", 782; player_state = STATE_JUMP;
 8655                        		__st.umiq	4, _player_state
         1F:C02A  A9 04      			lda.l	#4
         1F:C02C  8D 1B 23   			sta	_player_state
 8656                        	
 8657                        		.dbg	line,	"include\routines_LEVELS.c", 784; spr_set(weapon_id);
 8658                        		__ld.umq	_weapon_id
         1F:C02F  AD 29 23   			lda	_weapon_id
 8659                        		__call		_spr_set.1
         1F:C032  20 F1 E7   			call	_spr_set.1
 8660                        	
 8661                        		.dbg	line,	"include\routines_LEVELS.c", 785; 
 8662                        	
 8663                        		.dbg	line,	"include\routines_LEVELS.c", 786; if(player_axis == AXIS_RIGHT)
 8664                        		__not.um	_player_axis
         1F:C035  AD 1C 23   			lda	_player_axis
         1F:C038  18         			clc
         1F:C039  D0 01      			bne	!+
         1F:C03B  38         			sec
         1F:C03C             	!:
 8665                        		__bfalse	.LL362
         1F:C03C  90 12      			bcc	.LL362
 8666                        	
 8667                        		.dbg	line,	"include\routines_LEVELS.c", 787; {
 8668                        	
 8669                        		.dbg	line,	"include\routines_LEVELS.c", 788; spr_x(player_pos_x-5);
 8670                        		__ld.wm		_player_pos_x
         1F:C03E  AD 01 25   			lda.l	_player_pos_x
         1F:C041  AC 02 25   			ldy.h	_player_pos_x
 8671                        		__sub.wi	5
         1F:C044  38         			sec
         1F:C045  E9 05      			sbc.l	#5
         1F:C047  B0 01      			bcs	!+
         1F:C049  88         			dey
         1F:C04A             	!:
 8672                        		__call		_spr_x.1
         1F:C04A  20 1E E8   			call	_spr_x.1
 8673                        	
 8674                        		.dbg	line,	"include\routines_LEVELS.c", 789; }
 8675                        	
 8676                        		.dbg	line,	"include\routines_LEVELS.c", 791; else
 8677                        		__bra		.LL363
         1F:C04D  4C C1 C2   			bra	.LL363
 8678    1F:C050             	.LL362:
 8679                        	
 8680                        		.dbg	line,	"include\routines_LEVELS.c", 792; {
 8681                        	
 8682                        		.dbg	line,	"include\routines_LEVELS.c", 793; spr_x(player_pos_x+21);
 8683                        		__ld.wm		_player_pos_x
         1F:C050  AD 01 25   			lda.l	_player_pos_x
         1F:C053  AC 02 25   			ldy.h	_player_pos_x
 8684                        		__add.wi	21
         1F:C056  18         			clc
         1F:C057  69 15      			adc.l	#21
         1F:C059  90 01      			bcc	!+
         1F:C05B  C8         			iny
         1F:C05C             	!:
 8685                        		__call		_spr_x.1
         1F:C05C  20 1E E8   			call	_spr_x.1
 8686                        	
 8687                        		.dbg	line,	"include\routines_LEVELS.c", 794; }
 8688    1F:C05F             	.LL363	.alias		.LL364
 8689                        	
 8690                        		.dbg	line,	"include\routines_LEVELS.c", 795; }
 8691                        	
 8692                        		.dbg	line,	"include\routines_LEVELS.c", 798; else if(player_state == STATE_WALK)
 8693                        		__bra		.LL364
         1F:C05F  4C C1 C2   			bra	.LL364
 8694    1F:C062             	.LL361:
 8695                        		__ld.umq	_player_state
         1F:C062  AD 1B 23   			lda	_player_state
 8696                        		__equ_b.uiq	1
         1F:C065  C9 01      			cmp	#1
         1F:C067  F0 01      			beq	!+
         1F:C069  18         			clc
         1F:C06A             	!:
 8697                        		__bfalse	.LL365
         1F:C06A  90 4B      			bcc	.LL365
 8698                        	
 8699                        		.dbg	line,	"include\routines_LEVELS.c", 799; {
 8700                        	
 8701                        		.dbg	line,	"include\routines_LEVELS.c", 800; hit_wall = FALSE;
 8702                        		__st.umiq	0, _hit_wall
         1F:C06C  9C 27 23   			stz	_hit_wall
 8703                        	
 8704                        		.dbg	line,	"include\routines_LEVELS.c", 801; 
 8705                        	
 8706                        		.dbg	line,	"include\routines_LEVELS.c", 802; player_counter_anim = 0;
 8707                        		__st.umiq	0, _player_counter_anim
         1F:C06F  9C 1E 23   			stz	_player_counter_anim
 8708                        	
 8709                        		.dbg	line,	"include\routines_LEVELS.c", 804; jump_max_index = 35;
 8710                        		__st.umiq	35, _jump_max_index
         1F:C072  A9 23      			lda.l	#35
         1F:C074  8D 25 23   			sta	_jump_max_index
 8711                        	
 8712                        		.dbg	line,	"include\routines_LEVELS.c", 806; player_state = STATE_JUMP_RIGHT + player_axis;
 8713                        		__ld.wi		5
         1F:C077  A9 05      			lda.l	#5
         1F:C079  C2         			cly
 8714                        		__add.um	_player_axis
         1F:C07A  18         			clc
         1F:C07B  6D 1C 23   			adc	_player_axis
         1F:C07E  90 01      			bcc	!+
         1F:C080  C8         			iny
         1F:C081             	!:
 8715                        		__st.umq	_player_state
         1F:C081  8D 1B 23   			sta	_player_state
 8716                        	
 8717                        		.dbg	line,	"include\routines_LEVELS.c", 808; spr_set(weapon_id);
 8718                        		__ld.umq	_weapon_id
         1F:C084  AD 29 23   			lda	_weapon_id
 8719                        		__call		_spr_set.1
         1F:C087  20 F1 E7   			call	_spr_set.1
 8720                        	
 8721                        		.dbg	line,	"include\routines_LEVELS.c", 809; 
 8722                        	
 8723                        		.dbg	line,	"include\routines_LEVELS.c", 810; if(player_axis == AXIS_RIGHT)
 8724                        		__not.um	_player_axis
         1F:C08A  AD 1C 23   			lda	_player_axis
         1F:C08D  18         			clc
         1F:C08E  D0 01      			bne	!+
         1F:C090  38         			sec
         1F:C091             	!:
 8725                        		__bfalse	.LL366
         1F:C091  90 12      			bcc	.LL366
 8726                        	
 8727                        		.dbg	line,	"include\routines_LEVELS.c", 811; {
 8728                        	
 8729                        		.dbg	line,	"include\routines_LEVELS.c", 812; spr_x(player_pos_x-5);
 8730                        		__ld.wm		_player_pos_x
         1F:C093  AD 01 25   			lda.l	_player_pos_x
         1F:C096  AC 02 25   			ldy.h	_player_pos_x
 8731                        		__sub.wi	5
         1F:C099  38         			sec
         1F:C09A  E9 05      			sbc.l	#5
         1F:C09C  B0 01      			bcs	!+
         1F:C09E  88         			dey
         1F:C09F             	!:
 8732                        		__call		_spr_x.1
         1F:C09F  20 1E E8   			call	_spr_x.1
 8733                        	
 8734                        		.dbg	line,	"include\routines_LEVELS.c", 813; }
 8735                        	
 8736                        		.dbg	line,	"include\routines_LEVELS.c", 815; else
 8737                        		__bra		.LL367
         1F:C0A2  4C C1 C2   			bra	.LL367
 8738    1F:C0A5             	.LL366:
 8739                        	
 8740                        		.dbg	line,	"include\routines_LEVELS.c", 816; {
 8741                        	
 8742                        		.dbg	line,	"include\routines_LEVELS.c", 817; spr_x(player_pos_x+21);
 8743                        		__ld.wm		_player_pos_x
         1F:C0A5  AD 01 25   			lda.l	_player_pos_x
         1F:C0A8  AC 02 25   			ldy.h	_player_pos_x
 8744                        		__add.wi	21
         1F:C0AB  18         			clc
         1F:C0AC  69 15      			adc.l	#21
         1F:C0AE  90 01      			bcc	!+
         1F:C0B0  C8         			iny
         1F:C0B1             	!:
 8745                        		__call		_spr_x.1
         1F:C0B1  20 1E E8   			call	_spr_x.1
 8746                        	
 8747                        		.dbg	line,	"include\routines_LEVELS.c", 818; }
 8748    1F:C0B4             	.LL367	.alias		.LL368
 8749                        	
 8750                        		.dbg	line,	"include\routines_LEVELS.c", 819; }
 8751                        	
 8752                        		.dbg	line,	"include\routines_LEVELS.c", 822; else if(player_state == STATE_HANG || player_state == STATE_CLIMB_UP || player_state == STATE_CLIMB_DOWN)
 8753                        		__bra		.LL368
         1F:C0B4  4C C1 C2   			bra	.LL368
 8754    1F:C0B7             	.LL365:
 8755                        		__ld.umq	_player_state
         1F:C0B7  AD 1B 23   			lda	_player_state
 8756                        		__equ_b.uiq	10
         1F:C0BA  C9 0A      			cmp	#10
         1F:C0BC  F0 01      			beq	!+
         1F:C0BE  18         			clc
         1F:C0BF             	!:
 8757                        		__btrue		.LL370
         1F:C0BF  B0 08      			bcs	.LL370
 8758                        		__ld.umq	_player_state
         1F:C0C1  AD 1B 23   			lda	_player_state
 8759                        		__equ_b.uiq	11
         1F:C0C4  C9 0B      			cmp	#11
         1F:C0C6  F0 01      			beq	!+
         1F:C0C8  18         			clc
         1F:C0C9             	!:
 8760    1F:C0C9             	.LL370:
 8761                        		__btrue		.LL371
         1F:C0C9  B0 08      			bcs	.LL371
 8762                        		__ld.umq	_player_state
         1F:C0CB  AD 1B 23   			lda	_player_state
 8763                        		__equ_b.uiq	12
         1F:C0CE  C9 0C      			cmp	#12
         1F:C0D0  F0 01      			beq	!+
         1F:C0D2  18         			clc
         1F:C0D3             	!:
 8764    1F:C0D3             	.LL371:
 8765                        		__bfalse	.LL369
         1F:C0D3  B0 03 4C C1			bcc	.LL369
         1F:C0D7  C2          
 8766                        	
 8767                        		.dbg	line,	"include\routines_LEVELS.c", 823; {
 8768                        	
 8769                        		.dbg	line,	"include\routines_LEVELS.c", 824; if(player_attack == FALSE)
 8770                        		__not.um	_player_attack
         1F:C0D8  AD 23 23   			lda	_player_attack
         1F:C0DB  18         			clc
         1F:C0DC  D0 01      			bne	!+
         1F:C0DE  38         			sec
         1F:C0DF             	!:
 8771                        		__bfalse	.LL372
         1F:C0DF  B0 03 4C C1			bcc	.LL372
         1F:C0E3  C2          
 8772                        	
 8773                        		.dbg	line,	"include\routines_LEVELS.c", 825; {
 8774                        	
 8775                        		.dbg	line,	"include\routines_LEVELS.c", 826; if(joy(JOYPAD_1) & JOY_RIGHT)
 8776                        		__ld.uiq	0
         1F:C0E4  62         			cla
 8777                        		 _joy.1
         1F:C0E5  AA         			tax
         1F:C0E6  BD 28 22   			lda	joynow, x
         1F:C0E9  BC D3 22   			ldy	joy6now, x
 8778                        		__tand.wi	32
         1F:C0EC  29 20      			and	#32
         1F:C0EE  C9 01      	!:		cmp	#1
 8779                        		__bfalse	.LL373
         1F:C0F0  90 28      			bcc	.LL373
 8780                        	
 8781                        		.dbg	line,	"include\routines_LEVELS.c", 827; {
 8782                        	
 8783                        		.dbg	line,	"include\routines_LEVELS.c", 828; hit_wall = FALSE;
 8784                        		__st.umiq	0, _hit_wall
         1F:C0F2  9C 27 23   			stz	_hit_wall
 8785                        	
 8786                        		.dbg	line,	"include\routines_LEVELS.c", 830; jump_max_index = 29;
 8787                        		__st.umiq	29, _jump_max_index
         1F:C0F5  A9 1D      			lda.l	#29
         1F:C0F7  8D 25 23   			sta	_jump_max_index
 8788                        	
 8789                        		.dbg	line,	"include\routines_LEVELS.c", 831; 
 8790                        	
 8791                        		.dbg	line,	"include\routines_LEVELS.c", 832; player_counter_anim = 0;
 8792                        		__st.umiq	0, _player_counter_anim
         1F:C0FA  9C 1E 23   			stz	_player_counter_anim
 8793                        	
 8794                        		.dbg	line,	"include\routines_LEVELS.c", 834; player_state = STATE_JUMP_RIGHT;
 8795                        		__st.umiq	5, _player_state
         1F:C0FD  A9 05      			lda.l	#5
         1F:C0FF  8D 1B 23   			sta	_player_state
 8796                        	
 8797                        		.dbg	line,	"include\routines_LEVELS.c", 836; spr_set(weapon_id);
 8798                        		__ld.umq	_weapon_id
         1F:C102  AD 29 23   			lda	_weapon_id
 8799                        		__call		_spr_set.1
         1F:C105  20 F1 E7   			call	_spr_set.1
 8800                        	
 8801                        		.dbg	line,	"include\routines_LEVELS.c", 837; spr_x(player_pos_x-5);
 8802                        		__ld.wm		_player_pos_x
         1F:C108  AD 01 25   			lda.l	_player_pos_x
         1F:C10B  AC 02 25   			ldy.h	_player_pos_x
 8803                        		__sub.wi	5
         1F:C10E  38         			sec
         1F:C10F  E9 05      			sbc.l	#5
         1F:C111  B0 01      			bcs	!+
         1F:C113  88         			dey
         1F:C114             	!:
 8804                        		__call		_spr_x.1
         1F:C114  20 1E E8   			call	_spr_x.1
 8805                        	
 8806                        		.dbg	line,	"include\routines_LEVELS.c", 838; }
 8807                        	
 8808                        		.dbg	line,	"include\routines_LEVELS.c", 840; else if(joy(JOYPAD_1) & JOY_LEFT)
 8809                        		__bra		.LL374
         1F:C117  4C C1 C2   			bra	.LL374
 8810    1F:C11A             	.LL373:
 8811                        		__ld.uiq	0
         1F:C11A  62         			cla
 8812                        		 _joy.1
         1F:C11B  AA         			tax
         1F:C11C  BD 28 22   			lda	joynow, x
         1F:C11F  BC D3 22   			ldy	joy6now, x
 8813                        		__tand.wi	128
         1F:C122  29 80      			and	#128
         1F:C124  C9 01      	!:		cmp	#1
 8814                        		__bfalse	.LL375
         1F:C126  90 28      			bcc	.LL375
 8815                        	
 8816                        		.dbg	line,	"include\routines_LEVELS.c", 841; {
 8817                        	
 8818                        		.dbg	line,	"include\routines_LEVELS.c", 842; hit_wall = FALSE;
 8819                        		__st.umiq	0, _hit_wall
         1F:C128  9C 27 23   			stz	_hit_wall
 8820                        	
 8821                        		.dbg	line,	"include\routines_LEVELS.c", 844; jump_max_index = 29;
 8822                        		__st.umiq	29, _jump_max_index
         1F:C12B  A9 1D      			lda.l	#29
         1F:C12D  8D 25 23   			sta	_jump_max_index
 8823                        	
 8824                        		.dbg	line,	"include\routines_LEVELS.c", 845; 
 8825                        	
 8826                        		.dbg	line,	"include\routines_LEVELS.c", 846; player_counter_anim = 0;
 8827                        		__st.umiq	0, _player_counter_anim
         1F:C130  9C 1E 23   			stz	_player_counter_anim
 8828                        	
 8829                        		.dbg	line,	"include\routines_LEVELS.c", 848; player_state = STATE_JUMP_LEFT;
 8830                        		__st.umiq	6, _player_state
         1F:C133  A9 06      			lda.l	#6
         1F:C135  8D 1B 23   			sta	_player_state
 8831                        	
 8832                        		.dbg	line,	"include\routines_LEVELS.c", 850; spr_set(weapon_id);
 8833                        		__ld.umq	_weapon_id
         1F:C138  AD 29 23   			lda	_weapon_id
 8834                        		__call		_spr_set.1
         1F:C13B  20 F1 E7   			call	_spr_set.1
 8835                        	
 8836                        		.dbg	line,	"include\routines_LEVELS.c", 851; spr_x(player_pos_x+21);
 8837                        		__ld.wm		_player_pos_x
         1F:C13E  AD 01 25   			lda.l	_player_pos_x
         1F:C141  AC 02 25   			ldy.h	_player_pos_x
 8838                        		__add.wi	21
         1F:C144  18         			clc
         1F:C145  69 15      			adc.l	#21
         1F:C147  90 01      			bcc	!+
         1F:C149  C8         			iny
         1F:C14A             	!:
 8839                        		__call		_spr_x.1
         1F:C14A  20 1E E8   			call	_spr_x.1
 8840                        	
 8841                        		.dbg	line,	"include\routines_LEVELS.c", 852; }
 8842                        	
 8843                        		.dbg	line,	"include\routines_LEVELS.c", 854; else if(joy(JOYPAD_1) & JOY_UP)
 8844                        		__bra		.LL376
         1F:C14D  4C C1 C2   			bra	.LL376
 8845    1F:C150             	.LL375:
 8846                        		__ld.uiq	0
         1F:C150  62         			cla
 8847                        		 _joy.1
         1F:C151  AA         			tax
         1F:C152  BD 28 22   			lda	joynow, x
         1F:C155  BC D3 22   			ldy	joy6now, x
 8848                        		__tand.wi	16
         1F:C158  29 10      			and	#16
         1F:C15A  C9 01      	!:		cmp	#1
 8849                        		__bfalse	.LL377
         1F:C15C  B0 03 4C C1			bcc	.LL377
         1F:C160  C2          
 8850                        	
 8851                        		.dbg	line,	"include\routines_LEVELS.c", 855; {
 8852                        	
 8853                        		.dbg	line,	"include\routines_LEVELS.c", 856; hit_wall = FALSE;
 8854                        		__st.umiq	0, _hit_wall
         1F:C161  9C 27 23   			stz	_hit_wall
 8855                        	
 8856                        		.dbg	line,	"include\routines_LEVELS.c", 857; 
 8857                        	
 8858                        		.dbg	line,	"include\routines_LEVELS.c", 858; player_counter_anim = 0;
 8859                        		__st.umiq	0, _player_counter_anim
         1F:C164  9C 1E 23   			stz	_player_counter_anim
 8860                        	
 8861                        		.dbg	line,	"include\routines_LEVELS.c", 860; collision_PLAYER_BG( 15 , 8 );
 8862                        		__ld.wi		15
         1F:C167  A9 0F      			lda.l	#15
         1F:C169  C2         			cly
 8863                        		__pusharg.wr
         1F:C16A  A6 8D      			ldx	<__sp
         1F:C16C  CA         			dex
         1F:C16D  CA         			dex
         1F:C16E  95 08      			sta.l	<__stack, x
         1F:C170  94 09      			sty.h	<__stack, x
         1F:C172  86 8D      			stx	<__sp
 8864                        		__ld.wi		8
         1F:C174  A9 08      			lda.l	#8
         1F:C176  C2         			cly
 8865                        		__pusharg.wr
         1F:C177  A6 8D      			ldx	<__sp
         1F:C179  CA         			dex
         1F:C17A  CA         			dex
         1F:C17B  95 08      			sta.l	<__stack, x
         1F:C17D  94 09      			sty.h	<__stack, x
         1F:C17F  86 8D      			stx	<__sp
 8866                        		__call		_collision_PLAYER_BG
         1F:C181  20 31 FF   			call	_collision_PLAYER_BG
 8867                        	
 8868                        		.dbg	line,	"include\routines_LEVELS.c", 862; if(map_blk_flag == TILE_EMPTY)
 8869                        		__not.um	_map_blk_flag
         1F:C184  AD 05 2C   			lda	_map_blk_flag
         1F:C187  18         			clc
         1F:C188  D0 01      			bne	!+
         1F:C18A  38         			sec
         1F:C18B             	!:
 8870                        		__bfalse	.LL378
         1F:C18B  B0 03 4C C1			bcc	.LL378
         1F:C18F  C2          
 8871                        	
 8872                        		.dbg	line,	"include\routines_LEVELS.c", 863; {
 8873                        	
 8874                        		.dbg	line,	"include\routines_LEVELS.c", 864; player_state = STATE_JUMP_LADDER;
 8875                        		__st.umiq	13, _player_state
         1F:C190  A9 0D      			lda.l	#13
         1F:C192  8D 1B 23   			sta	_player_state
 8876                        	
 8877                        		.dbg	line,	"include\routines_LEVELS.c", 866; jump_max_index = 43;
 8878                        		__st.umiq	43, _jump_max_index
         1F:C195  A9 2B      			lda.l	#43
         1F:C197  8D 25 23   			sta	_jump_max_index
 8879                        	
 8880                        		.dbg	line,	"include\routines_LEVELS.c", 868; spr_set(weapon_id);
 8881                        		__ld.umq	_weapon_id
         1F:C19A  AD 29 23   			lda	_weapon_id
 8882                        		__call		_spr_set.1
         1F:C19D  20 F1 E7   			call	_spr_set.1
 8883                        	
 8884                        		.dbg	line,	"include\routines_LEVELS.c", 869; spr_y(player_pos_y+8);
 8885                        		__ld.wm		_player_pos_y
         1F:C1A0  AD 03 25   			lda.l	_player_pos_y
         1F:C1A3  AC 04 25   			ldy.h	_player_pos_y
 8886                        		__add.wi	8
         1F:C1A6  18         			clc
         1F:C1A7  69 08      			adc.l	#8
         1F:C1A9  90 01      			bcc	!+
         1F:C1AB  C8         			iny
         1F:C1AC             	!:
 8887                        		__call		_spr_y.1
         1F:C1AC  20 2D E8   			call	_spr_y.1
 8888                        	
 8889                        		.dbg	line,	"include\routines_LEVELS.c", 870; 
 8890                        	
 8891                        		.dbg	line,	"include\routines_LEVELS.c", 871; if(player_axis == AXIS_RIGHT)
 8892                        		__not.um	_player_axis
         1F:C1AF  AD 1C 23   			lda	_player_axis
         1F:C1B2  18         			clc
         1F:C1B3  D0 01      			bne	!+
         1F:C1B5  38         			sec
         1F:C1B6             	!:
 8893                        		__bfalse	.LL379
         1F:C1B6  90 12      			bcc	.LL379
 8894                        	
 8895                        		.dbg	line,	"include\routines_LEVELS.c", 872; {
 8896                        	
 8897                        		.dbg	line,	"include\routines_LEVELS.c", 873; spr_x(player_pos_x-5);
 8898                        		__ld.wm		_player_pos_x
         1F:C1B8  AD 01 25   			lda.l	_player_pos_x
         1F:C1BB  AC 02 25   			ldy.h	_player_pos_x
 8899                        		__sub.wi	5
         1F:C1BE  38         			sec
         1F:C1BF  E9 05      			sbc.l	#5
         1F:C1C1  B0 01      			bcs	!+
         1F:C1C3  88         			dey
         1F:C1C4             	!:
 8900                        		__call		_spr_x.1
         1F:C1C4  20 1E E8   			call	_spr_x.1
 8901                        	
 8902                        		.dbg	line,	"include\routines_LEVELS.c", 874; }
 8903                        	
 8904                        		.dbg	line,	"include\routines_LEVELS.c", 876; else
 8905                        		__bra		.LL380
         1F:C1C7  4C C1 C2   			bra	.LL380
 8906    1F:C1CA             	.LL379:
 8907                        	
 8908                        		.dbg	line,	"include\routines_LEVELS.c", 877; {
 8909                        	
 8910                        		.dbg	line,	"include\routines_LEVELS.c", 878; spr_x(player_pos_x+21);
 8911                        		__ld.wm		_player_pos_x
         1F:C1CA  AD 01 25   			lda.l	_player_pos_x
         1F:C1CD  AC 02 25   			ldy.h	_player_pos_x
 8912                        		__add.wi	21
         1F:C1D0  18         			clc
         1F:C1D1  69 15      			adc.l	#21
         1F:C1D3  90 01      			bcc	!+
         1F:C1D5  C8         			iny
         1F:C1D6             	!:
 8913                        		__call		_spr_x.1
         1F:C1D6  20 1E E8   			call	_spr_x.1
 8914                        	
 8915                        		.dbg	line,	"include\routines_LEVELS.c", 879; }
 8916    1F:C1D9             	.LL380	.alias		.LL381
 8917                        	
 8918                        		.dbg	line,	"include\routines_LEVELS.c", 880; }
 8919                        	
 8920                        		.dbg	line,	"include\routines_LEVELS.c", 881; }
 8921    1F:C1D9             	.LL378	.alias		.LL381
 8922                        	
 8923                        		.dbg	line,	"include\routines_LEVELS.c", 882; }
 8924    1F:C1D9             	.LL377	.alias		.LL381
 8925    1F:C1D9             	.LL376	.alias		.LL381
 8926    1F:C1D9             	.LL374	.alias		.LL381
 8927                        	
 8928                        		.dbg	line,	"include\routines_LEVELS.c", 883; }
 8929    1F:C1D9             	.LL372	.alias		.LL381
 8930                        	
 8931                        		.dbg	line,	"include\routines_LEVELS.c", 884; }
 8932    1F:C1D9             	.LL369	.alias		.LL381
 8933    1F:C1D9             	.LL368	.alias		.LL381
 8934    1F:C1D9             	.LL364	.alias		.LL381
 8935                        	
 8936                        		.dbg	line,	"include\routines_LEVELS.c", 886; // ATTACK //
 8937                        	
 8938                        		.dbg	line,	"include\routines_LEVELS.c", 887; else if(joytrg(JOYPAD_1) == JOY_II)
 8939                        		__bra		.LL381
         1F:C1D9  4C C1 C2   			bra	.LL381
 8940    1F:C1DC             	.LL360:
 8941                        		__ld.uiq	0
         1F:C1DC  62         			cla
 8942                        		 _joytrg.1
         1F:C1DD  AA         			tax
         1F:C1DE  BD 2D 22   			lda	joytrg, x
         1F:C1E1  BC DD 22   			ldy	joy6trg, x
 8943                        		__equ_w.wi	2
         1F:C1E4  C9 02      			cmp.l	#2
         1F:C1E6  D0 04      			bne	!false+
         1F:C1E8  C0 00      			cpy.h	#2
         1F:C1EA  F0 01      			beq	!+
         1F:C1EC  18         	!false:		clc
         1F:C1ED             	!:
 8944                        		__bfalse	.LL382
         1F:C1ED  B0 03 4C C1			bcc	.LL382
         1F:C1F1  C2          
 8945                        	
 8946                        		.dbg	line,	"include\routines_LEVELS.c", 888; {
 8947                        	
 8948                        		.dbg	line,	"include\routines_LEVELS.c", 889; if(player_state == STATE_IDLE || player_state == STATE_WALK)
 8949                        		__not.um	_player_state
         1F:C1F2  AD 1B 23   			lda	_player_state
         1F:C1F5  18         			clc
         1F:C1F6  D0 01      			bne	!+
         1F:C1F8  38         			sec
         1F:C1F9             	!:
 8950                        		__btrue		.LL384
         1F:C1F9  B0 08      			bcs	.LL384
 8951                        		__ld.umq	_player_state
         1F:C1FB  AD 1B 23   			lda	_player_state
 8952                        		__equ_b.uiq	1
         1F:C1FE  C9 01      			cmp	#1
         1F:C200  F0 01      			beq	!+
         1F:C202  18         			clc
         1F:C203             	!:
 8953    1F:C203             	.LL384:
 8954                        		__bfalse	.LL383
         1F:C203  90 14      			bcc	.LL383
 8955                        	
 8956                        		.dbg	line,	"include\routines_LEVELS.c", 890; {
 8957                        	
 8958                        		.dbg	line,	"include\routines_LEVELS.c", 891; list_chain_active[0] = FALSE;
 8959                        		__st.umiq	0, _list_chain_active
         1F:C205  9C 2C 23   			stz	_list_chain_active
 8960                        	
 8961                        		.dbg	line,	"include\routines_LEVELS.c", 892; list_chain_active[1] = FALSE;
 8962                        		__st.umiq	0, _list_chain_active + 1
         1F:C208  9C 2D 23   			stz	_list_chain_active + 1
 8963                        	
 8964                        		.dbg	line,	"include\routines_LEVELS.c", 893; list_chain_active[2] = FALSE;
 8965                        		__st.umiq	0, _list_chain_active + 2
         1F:C20B  9C 2E 23   			stz	_list_chain_active + 2
 8966                        	
 8967                        		.dbg	line,	"include\routines_LEVELS.c", 895; player_counter_attack = 0;
 8968                        		__st.umiq	0, _player_counter_attack
         1F:C20E  9C 21 23   			stz	_player_counter_attack
 8969                        	
 8970                        		.dbg	line,	"include\routines_LEVELS.c", 896; player_state = STATE_ATTACK;
 8971                        		__st.umiq	2, _player_state
         1F:C211  A9 02      			lda.l	#2
         1F:C213  8D 1B 23   			sta	_player_state
 8972                        	
 8973                        		.dbg	line,	"include\routines_LEVELS.c", 897; }
 8974                        	
 8975                        		.dbg	line,	"include\routines_LEVELS.c", 899; else if(player_state == STATE_JUMP || player_state == STATE_JUMP_RIGHT || player_state == STATE_JUMP_LEFT || player_state == STATE_FALL || player_state == STATE_JUMP_LADDER)
 8976                        		__bra		.LL385
         1F:C216  4C C1 C2   			bra	.LL385
 8977    1F:C219             	.LL383:
 8978                        		__ld.umq	_player_state
         1F:C219  AD 1B 23   			lda	_player_state
 8979                        		__equ_b.uiq	4
         1F:C21C  C9 04      			cmp	#4
         1F:C21E  F0 01      			beq	!+
         1F:C220  18         			clc
         1F:C221             	!:
 8980                        		__btrue		.LL387
         1F:C221  B0 08      			bcs	.LL387
 8981                        		__ld.umq	_player_state
         1F:C223  AD 1B 23   			lda	_player_state
 8982                        		__equ_b.uiq	5
         1F:C226  C9 05      			cmp	#5
         1F:C228  F0 01      			beq	!+
         1F:C22A  18         			clc
         1F:C22B             	!:
 8983    1F:C22B             	.LL387:
 8984                        		__btrue		.LL388
         1F:C22B  B0 08      			bcs	.LL388
 8985                        		__ld.umq	_player_state
         1F:C22D  AD 1B 23   			lda	_player_state
 8986                        		__equ_b.uiq	6
         1F:C230  C9 06      			cmp	#6
         1F:C232  F0 01      			beq	!+
         1F:C234  18         			clc
         1F:C235             	!:
 8987    1F:C235             	.LL388:
 8988                        		__btrue		.LL389
         1F:C235  B0 08      			bcs	.LL389
 8989                        		__ld.umq	_player_state
         1F:C237  AD 1B 23   			lda	_player_state
 8990                        		__equ_b.uiq	9
         1F:C23A  C9 09      			cmp	#9
         1F:C23C  F0 01      			beq	!+
         1F:C23E  18         			clc
         1F:C23F             	!:
 8991    1F:C23F             	.LL389:
 8992                        		__btrue		.LL390
         1F:C23F  B0 08      			bcs	.LL390
 8993                        		__ld.umq	_player_state
         1F:C241  AD 1B 23   			lda	_player_state
 8994                        		__equ_b.uiq	13
         1F:C244  C9 0D      			cmp	#13
         1F:C246  F0 01      			beq	!+
         1F:C248  18         			clc
         1F:C249             	!:
 8995    1F:C249             	.LL390:
 8996                        		__bfalse	.LL386
         1F:C249  90 1C      			bcc	.LL386
 8997                        	
 8998                        		.dbg	line,	"include\routines_LEVELS.c", 900; {
 8999                        	
 9000                        		.dbg	line,	"include\routines_LEVELS.c", 901; if(player_attack == FALSE)
 9001                        		__not.um	_player_attack
         1F:C24B  AD 23 23   			lda	_player_attack
         1F:C24E  18         			clc
         1F:C24F  D0 01      			bne	!+
         1F:C251  38         			sec
         1F:C252             	!:
 9002                        		__bfalse	.LL391
         1F:C252  90 6D      			bcc	.LL391
 9003                        	
 9004                        		.dbg	line,	"include\routines_LEVELS.c", 902; {
 9005                        	
 9006                        		.dbg	line,	"include\routines_LEVELS.c", 903; list_chain_active[0] = FALSE;
 9007                        		__st.umiq	0, _list_chain_active
         1F:C254  9C 2C 23   			stz	_list_chain_active
 9008                        	
 9009                        		.dbg	line,	"include\routines_LEVELS.c", 904; list_chain_active[1] = FALSE;
 9010                        		__st.umiq	0, _list_chain_active + 1
         1F:C257  9C 2D 23   			stz	_list_chain_active + 1
 9011                        	
 9012                        		.dbg	line,	"include\routines_LEVELS.c", 905; list_chain_active[2] = FALSE;
 9013                        		__st.umiq	0, _list_chain_active + 2
         1F:C25A  9C 2E 23   			stz	_list_chain_active + 2
 9014                        	
 9015                        		.dbg	line,	"include\routines_LEVELS.c", 907; player_counter_attack = 0;
 9016                        		__st.umiq	0, _player_counter_attack
         1F:C25D  9C 21 23   			stz	_player_counter_attack
 9017                        	
 9018                        		.dbg	line,	"include\routines_LEVELS.c", 908; player_attack = TRUE;
 9019                        		__st.umiq	1, _player_attack
         1F:C260  A9 01      			lda.l	#1
         1F:C262  8D 23 23   			sta	_player_attack
 9020                        	
 9021                        		.dbg	line,	"include\routines_LEVELS.c", 909; }
 9022                        	
 9023                        		.dbg	line,	"include\routines_LEVELS.c", 910; }
 9024    1F:C265             	.LL391	.alias		.LL392
 9025                        	
 9026                        		.dbg	line,	"include\routines_LEVELS.c", 912; else if(player_state == STATE_CROUCH)
 9027                        		__bra		.LL392
         1F:C265  80 5A      			bra	.LL392
 9028    1F:C267             	.LL386:
 9029                        		__ld.umq	_player_state
         1F:C267  AD 1B 23   			lda	_player_state
 9030                        		__equ_b.uiq	7
         1F:C26A  C9 07      			cmp	#7
         1F:C26C  F0 01      			beq	!+
         1F:C26E  18         			clc
         1F:C26F             	!:
 9031                        		__bfalse	.LL393
         1F:C26F  90 13      			bcc	.LL393
 9032                        	
 9033                        		.dbg	line,	"include\routines_LEVELS.c", 913; {
 9034                        	
 9035                        		.dbg	line,	"include\routines_LEVELS.c", 914; list_chain_active[0] = FALSE;
 9036                        		__st.umiq	0, _list_chain_active
         1F:C271  9C 2C 23   			stz	_list_chain_active
 9037                        	
 9038                        		.dbg	line,	"include\routines_LEVELS.c", 915; list_chain_active[1] = FALSE;
 9039                        		__st.umiq	0, _list_chain_active + 1
         1F:C274  9C 2D 23   			stz	_list_chain_active + 1
 9040                        	
 9041                        		.dbg	line,	"include\routines_LEVELS.c", 916; list_chain_active[2] = FALSE;
 9042                        		__st.umiq	0, _list_chain_active + 2
         1F:C277  9C 2E 23   			stz	_list_chain_active + 2
 9043                        	
 9044                        		.dbg	line,	"include\routines_LEVELS.c", 918; player_counter_attack = 0;
 9045                        		__st.umiq	0, _player_counter_attack
         1F:C27A  9C 21 23   			stz	_player_counter_attack
 9046                        	
 9047                        		.dbg	line,	"include\routines_LEVELS.c", 919; player_state = STATE_CROUCH_ATTACK;
 9048                        		__st.umiq	8, _player_state
         1F:C27D  A9 08      			lda.l	#8
         1F:C27F  8D 1B 23   			sta	_player_state
 9049                        	
 9050                        		.dbg	line,	"include\routines_LEVELS.c", 920; }
 9051                        	
 9052                        		.dbg	line,	"include\routines_LEVELS.c", 922; else if(player_state == STATE_HANG || player_state == STATE_CLIMB_UP || player_state == STATE_CLIMB_DOWN)
 9053                        		__bra		.LL394
         1F:C282  80 3D      			bra	.LL394
 9054    1F:C284             	.LL393:
 9055                        		__ld.umq	_player_state
         1F:C284  AD 1B 23   			lda	_player_state
 9056                        		__equ_b.uiq	10
         1F:C287  C9 0A      			cmp	#10
         1F:C289  F0 01      			beq	!+
         1F:C28B  18         			clc
         1F:C28C             	!:
 9057                        		__btrue		.LL396
         1F:C28C  B0 08      			bcs	.LL396
 9058                        		__ld.umq	_player_state
         1F:C28E  AD 1B 23   			lda	_player_state
 9059                        		__equ_b.uiq	11
         1F:C291  C9 0B      			cmp	#11
         1F:C293  F0 01      			beq	!+
         1F:C295  18         			clc
         1F:C296             	!:
 9060    1F:C296             	.LL396:
 9061                        		__btrue		.LL397
         1F:C296  B0 08      			bcs	.LL397
 9062                        		__ld.umq	_player_state
         1F:C298  AD 1B 23   			lda	_player_state
 9063                        		__equ_b.uiq	12
         1F:C29B  C9 0C      			cmp	#12
         1F:C29D  F0 01      			beq	!+
         1F:C29F  18         			clc
         1F:C2A0             	!:
 9064    1F:C2A0             	.LL397:
 9065                        		__bfalse	.LL395
         1F:C2A0  90 1F      			bcc	.LL395
 9066                        	
 9067                        		.dbg	line,	"include\routines_LEVELS.c", 923; {
 9068                        	
 9069                        		.dbg	line,	"include\routines_LEVELS.c", 924; if(player_attack == FALSE)
 9070                        		__not.um	_player_attack
         1F:C2A2  AD 23 23   			lda	_player_attack
         1F:C2A5  18         			clc
         1F:C2A6  D0 01      			bne	!+
         1F:C2A8  38         			sec
         1F:C2A9             	!:
 9071                        		__bfalse	.LL398
         1F:C2A9  90 16      			bcc	.LL398
 9072                        	
 9073                        		.dbg	line,	"include\routines_LEVELS.c", 925; {
 9074                        	
 9075                        		.dbg	line,	"include\routines_LEVELS.c", 926; list_chain_active[0] = FALSE;
 9076                        		__st.umiq	0, _list_chain_active
         1F:C2AB  9C 2C 23   			stz	_list_chain_active
 9077                        	
 9078                        		.dbg	line,	"include\routines_LEVELS.c", 927; list_chain_active[1] = FALSE;
 9079                        		__st.umiq	0, _list_chain_active + 1
         1F:C2AE  9C 2D 23   			stz	_list_chain_active + 1
 9080                        	
 9081                        		.dbg	line,	"include\routines_LEVELS.c", 928; list_chain_active[2] = FALSE;
 9082                        		__st.umiq	0, _list_chain_active + 2
         1F:C2B1  9C 2E 23   			stz	_list_chain_active + 2
 9083                        	
 9084                        		.dbg	line,	"include\routines_LEVELS.c", 929; 
 9085                        	
 9086                        		.dbg	line,	"include\routines_LEVELS.c", 930; player_counter_attack = 0;
 9087                        		__st.umiq	0, _player_counter_attack
         1F:C2B4  9C 21 23   			stz	_player_counter_attack
 9088                        	
 9089                        		.dbg	line,	"include\routines_LEVELS.c", 931; player_attack = TRUE;
 9090                        		__st.umiq	1, _player_attack
         1F:C2B7  A9 01      			lda.l	#1
         1F:C2B9  8D 23 23   			sta	_player_attack
 9091                        	
 9092                        		.dbg	line,	"include\routines_LEVELS.c", 932; player_state = STATE_HANG;
 9093                        		__st.umiq	10, _player_state
         1F:C2BC  A9 0A      			lda.l	#10
         1F:C2BE  8D 1B 23   			sta	_player_state
 9094                        	
 9095                        		.dbg	line,	"include\routines_LEVELS.c", 933; }
 9096                        	
 9097                        		.dbg	line,	"include\routines_LEVELS.c", 934; }
 9098    1F:C2C1             	.LL398:
 9099                        	
 9100                        		.dbg	line,	"include\routines_LEVELS.c", 935; }
 9101    1F:C2C1             	.LL395:
 9102    1F:C2C1             	.LL394:
 9103    1F:C2C1             	.LL392:
 9104    1F:C2C1             	.LL385:
 9105                        	
 9106                        		.dbg	line,	"include\routines_LEVELS.c", 936; }
 9107    1F:C2C1             	.LL382:
 9108    1F:C2C1             	.LL381:
 9109    1F:C2C1             	.LL359:
 9110                        		__return	0
         1F:C2C1  4C EF FF   			jmp	leave_proc
 9111                        		.dbg	clear
 9112                        		.endp
 9113                        		.pceas
 9114                        	
 9115                        		.dbg	line,	"include\routines_LEVELS.c", 939; void joypad_DIR()
 9116                        		.dbg	line,	"include\routines_LEVELS.c", 940; {
 9117                        	;***********************
 9118                        	;***********************
 9119                        	
 9120                        		.hucc
 9121    1D:D340             		.proc		_joypad_DIR
 9122                        		__enter		_joypad_DIR
 9123                        	
 9124                        		.dbg	line,	"include\routines_LEVELS.c", 941; //--------------------------------------------------------------------------------------//
 9125                        	
 9126                        		.dbg	line,	"include\routines_LEVELS.c", 942; //                                        NO DIR                                        //
 9127                        	
 9128                        		.dbg	line,	"include\routines_LEVELS.c", 943; //--------------------------------------------------------------------------------------//
 9129                        	
 9130                        		.dbg	line,	"include\routines_LEVELS.c", 945; if(! (joy(JOYPAD_1) & JOY_DIR_PRESSED) )
 9131                        		__ld.uiq	0
         1D:D340  62         			cla
 9132                        		 _joy.1
         1D:D341  AA         			tax
         1D:D342  BD 28 22   			lda	joynow, x
         1D:D345  BC D3 22   			ldy	joy6now, x
 9133                        		__nand.wi	240
         1D:D348  18         			clc
         1D:D349  29 F0      			and	#240
         1D:D34B  D0 01      			bne	!+
         1D:D34D  38         			sec
         1D:D34E             	!:
 9134                        		__bfalse	.LL400
         1D:D34E  90 53      			bcc	.LL400
 9135                        	
 9136                        		.dbg	line,	"include\routines_LEVELS.c", 946; {
 9137                        	
 9138                        		.dbg	line,	"include\routines_LEVELS.c", 947; if(player_state == STATE_WALK || player_state == STATE_CROUCH)
 9139                        		__ld.umq	_player_state
         1D:D350  AD 1B 23   			lda	_player_state
 9140                        		__equ_b.uiq	1
         1D:D353  C9 01      			cmp	#1
         1D:D355  F0 01      			beq	!+
         1D:D357  18         			clc
         1D:D358             	!:
 9141                        		__btrue		.LL402
         1D:D358  B0 08      			bcs	.LL402
 9142                        		__ld.umq	_player_state
         1D:D35A  AD 1B 23   			lda	_player_state
 9143                        		__equ_b.uiq	7
         1D:D35D  C9 07      			cmp	#7
         1D:D35F  F0 01      			beq	!+
         1D:D361  18         			clc
         1D:D362             	!:
 9144    1D:D362             	.LL402:
 9145                        		__bfalse	.LL401
         1D:D362  90 0E      			bcc	.LL401
 9146                        	
 9147                        		.dbg	line,	"include\routines_LEVELS.c", 948; {
 9148                        	
 9149                        		.dbg	line,	"include\routines_LEVELS.c", 949; if(player_attack == FALSE)
 9150                        		__not.um	_player_attack
         1D:D364  AD 23 23   			lda	_player_attack
         1D:D367  18         			clc
         1D:D368  D0 01      			bne	!+
         1D:D36A  38         			sec
         1D:D36B             	!:
 9151                        		__bfalse	.LL403
         1D:D36B  90 36      			bcc	.LL403
 9152                        	
 9153                        		.dbg	line,	"include\routines_LEVELS.c", 950; {
 9154                        	
 9155                        		.dbg	line,	"include\routines_LEVELS.c", 951; set_PLAYER_IDLE();
 9156                        		__call		_set_PLAYER_IDLE
         1D:D36D  20 27 FF   			call	_set_PLAYER_IDLE
 9157                        	
 9158                        		.dbg	line,	"include\routines_LEVELS.c", 952; }
 9159                        	
 9160                        		.dbg	line,	"include\routines_LEVELS.c", 953; }
 9161    1D:D370             	.LL403	.alias		.LL404
 9162                        	
 9163                        		.dbg	line,	"include\routines_LEVELS.c", 956; else if(player_state == STATE_CLIMB_UP || player_state == STATE_CLIMB_DOWN)
 9164                        		__bra		.LL404
         1D:D370  80 31      			bra	.LL404
 9165    1D:D372             	.LL401:
 9166                        		__ld.umq	_player_state
         1D:D372  AD 1B 23   			lda	_player_state
 9167                        		__equ_b.uiq	11
         1D:D375  C9 0B      			cmp	#11
         1D:D377  F0 01      			beq	!+
         1D:D379  18         			clc
         1D:D37A             	!:
 9168                        		__btrue		.LL406
         1D:D37A  B0 08      			bcs	.LL406
 9169                        		__ld.umq	_player_state
         1D:D37C  AD 1B 23   			lda	_player_state
 9170                        		__equ_b.uiq	12
         1D:D37F  C9 0C      			cmp	#12
         1D:D381  F0 01      			beq	!+
         1D:D383  18         			clc
         1D:D384             	!:
 9171    1D:D384             	.LL406:
 9172                        		__bfalse	.LL405
         1D:D384  90 1D      			bcc	.LL405
 9173                        	
 9174                        		.dbg	line,	"include\routines_LEVELS.c", 957; {
 9175                        	
 9176                        		.dbg	line,	"include\routines_LEVELS.c", 958; if(player_attack == FALSE)
 9177                        		__not.um	_player_attack
         1D:D386  AD 23 23   			lda	_player_attack
         1D:D389  18         			clc
         1D:D38A  D0 01      			bne	!+
         1D:D38C  38         			sec
         1D:D38D             	!:
 9178                        		__bfalse	.LL407
         1D:D38D  90 14      			bcc	.LL407
 9179                        	
 9180                        		.dbg	line,	"include\routines_LEVELS.c", 959; {
 9181                        	
 9182                        		.dbg	line,	"include\routines_LEVELS.c", 960; spr_set(player_id);
 9183                        		__ld.umq	_player_id
         1D:D38F  AD 1A 23   			lda	_player_id
 9184                        		__call		_spr_set.1
         1D:D392  20 F1 E7   			call	_spr_set.1
 9185                        	
 9186                        		.dbg	line,	"include\routines_LEVELS.c", 961; spr_pattern(PLAYER_HANG_VRAM_ADR);
 9187                        		__ld.wi		8448
         1D:D395  62         			cla
         1D:D396  A0 21      			ldy.h	#8448
 9188                        		__call		_spr_pattern.1
         1D:D398  20 3A E8   			call	_spr_pattern.1
 9189                        	
 9190                        		.dbg	line,	"include\routines_LEVELS.c", 962; player_counter_anim = 0;
 9191                        		__st.umiq	0, _player_counter_anim
         1D:D39B  9C 1E 23   			stz	_player_counter_anim
 9192                        	
 9193                        		.dbg	line,	"include\routines_LEVELS.c", 963; player_state = STATE_HANG;
 9194                        		__st.umiq	10, _player_state
         1D:D39E  A9 0A      			lda.l	#10
         1D:D3A0  8D 1B 23   			sta	_player_state
 9195                        	
 9196                        		.dbg	line,	"include\routines_LEVELS.c", 964; }
 9197                        	
 9198                        		.dbg	line,	"include\routines_LEVELS.c", 965; }
 9199    1D:D3A3             	.LL407:
 9200                        	
 9201                        		.dbg	line,	"include\routines_LEVELS.c", 966; }
 9202    1D:D3A3             	.LL405:
 9203    1D:D3A3             	.LL404:
 9204                        	
 9205                        		.dbg	line,	"include\routines_LEVELS.c", 969; //--------------------------------------------------------------------------------------//
 9206                        	
 9207                        		.dbg	line,	"include\routines_LEVELS.c", 970; //                                     RIGHT BUTTON                                     //
 9208                        	
 9209                        		.dbg	line,	"include\routines_LEVELS.c", 971; //--------------------------------------------------------------------------------------//
 9210                        	
 9211                        		.dbg	line,	"include\routines_LEVELS.c", 973; if(joy(JOYPAD_1) & JOY_RIGHT)
 9212    1D:D3A3             	.LL400:
 9213                        		__ld.uiq	0
         1D:D3A3  62         			cla
 9214                        		 _joy.1
         1D:D3A4  AA         			tax
         1D:D3A5  BD 28 22   			lda	joynow, x
         1D:D3A8  BC D3 22   			ldy	joy6now, x
 9215                        		__tand.wi	32
         1D:D3AB  29 20      			and	#32
         1D:D3AD  C9 01      	!:		cmp	#1
 9216                        		__bfalse	.LL408
         1D:D3AF  B0 03 4C 27			bcc	.LL408
         1D:D3B3  D8          
 9217                        	
 9218                        		.dbg	line,	"include\routines_LEVELS.c", 974; {
 9219                        	
 9220                        		.dbg	line,	"include\routines_LEVELS.c", 975; if(player_state == STATE_IDLE || player_state == STATE_WALK)
 9221                        		__not.um	_player_state
         1D:D3B4  AD 1B 23   			lda	_player_state
         1D:D3B7  18         			clc
         1D:D3B8  D0 01      			bne	!+
         1D:D3BA  38         			sec
         1D:D3BB             	!:
 9222                        		__btrue		.LL410
         1D:D3BB  B0 08      			bcs	.LL410
 9223                        		__ld.umq	_player_state
         1D:D3BD  AD 1B 23   			lda	_player_state
 9224                        		__equ_b.uiq	1
         1D:D3C0  C9 01      			cmp	#1
         1D:D3C2  F0 01      			beq	!+
         1D:D3C4  18         			clc
         1D:D3C5             	!:
 9225    1D:D3C5             	.LL410:
 9226                        		__bfalse	.LL409
         1D:D3C5  B0 03 4C 62			bcc	.LL409
         1D:D3C9  D4          
 9227                        	
 9228                        		.dbg	line,	"include\routines_LEVELS.c", 976; {
 9229                        	
 9230                        		.dbg	line,	"include\routines_LEVELS.c", 977; player_axis = AXIS_RIGHT;
 9231                        		__st.umiq	0, _player_axis
         1D:D3CA  9C 1C 23   			stz	_player_axis
 9232                        	
 9233                        		.dbg	line,	"include\routines_LEVELS.c", 979; if(player_previous_axis != player_axis)
 9234                        		__ld.umq	_player_previous_axis
         1D:D3CD  AD 1D 23   			lda	_player_previous_axis
 9235                        		__neq_b.umq	_player_axis
         1D:D3D0  38         			sec
         1D:D3D1  4D 1C 23   			eor	_player_axis
         1D:D3D4  D0 01      			bne	!+
         1D:D3D6  18         			clc
         1D:D3D7             	!:
 9236                        		__bfalse	.LL411
         1D:D3D7  90 66      			bcc	.LL411
 9237                        	
 9238                        		.dbg	line,	"include\routines_LEVELS.c", 980; {
 9239                        	
 9240                        		.dbg	line,	"include\routines_LEVELS.c", 981; player_previous_axis = player_axis;
 9241                        		__ld.um		_player_axis
         1D:D3D9  AD 1C 23   			lda	_player_axis
         1D:D3DC  C2         			cly
 9242                        		__st.umq	_player_previous_axis
         1D:D3DD  8D 1D 23   			sta	_player_previous_axis
 9243                        	
 9244                        		.dbg	line,	"include\routines_LEVELS.c", 983; spr_set(player_id);
 9245                        		__ld.umq	_player_id
         1D:D3E0  AD 1A 23   			lda	_player_id
 9246                        		__call		_spr_set.1
         1D:D3E3  20 F1 E7   			call	_spr_set.1
 9247                        	
 9248                        		.dbg	line,	"include\routines_LEVELS.c", 984; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 9249                        		__st.umiq	136, _al
         1D:D3E6  A9 88      			lda.l	#136
         1D:D3E8  85 F8      			sta	_al
 9250                        		__ld.uiq	0
         1D:D3EA  62         			cla
 9251                        		__call		_spr_ctrl.2
         1D:D3EB  20 50 E8   			call	_spr_ctrl.2
 9252                        	
 9253                        		.dbg	line,	"include\routines_LEVELS.c", 986; spr_set(chain_id);
 9254                        		__ld.umq	_chain_id
         1D:D3EE  AD 28 23   			lda	_chain_id
 9255                        		__call		_spr_set.1
         1D:D3F1  20 F1 E7   			call	_spr_set.1
 9256                        	
 9257                        		.dbg	line,	"include\routines_LEVELS.c", 987; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 9258                        		__st.umiq	136, _al
         1D:D3F4  A9 88      			lda.l	#136
         1D:D3F6  85 F8      			sta	_al
 9259                        		__ld.uiq	0
         1D:D3F8  62         			cla
 9260                        		__call		_spr_ctrl.2
         1D:D3F9  20 50 E8   			call	_spr_ctrl.2
 9261                        	
 9262                        		.dbg	line,	"include\routines_LEVELS.c", 989; spr_set(chain_id+1);
 9263                        		__ld.um		_chain_id
         1D:D3FC  AD 28 23   			lda	_chain_id
         1D:D3FF  C2         			cly
 9264                        		__add.wi	1
         1D:D400  1A         			inc	a
         1D:D401  D0 01      			bne	!+
         1D:D403  C8         			iny
         1D:D404             	!:
 9265                        		__call		_spr_set.1
         1D:D404  20 F1 E7   			call	_spr_set.1
 9266                        	
 9267                        		.dbg	line,	"include\routines_LEVELS.c", 990; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 9268                        		__st.umiq	136, _al
         1D:D407  A9 88      			lda.l	#136
         1D:D409  85 F8      			sta	_al
 9269                        		__ld.uiq	0
         1D:D40B  62         			cla
 9270                        		__call		_spr_ctrl.2
         1D:D40C  20 50 E8   			call	_spr_ctrl.2
 9271                        	
 9272                        		.dbg	line,	"include\routines_LEVELS.c", 992; spr_set(chain_id+2);
 9273                        		__ld.um		_chain_id
         1D:D40F  AD 28 23   			lda	_chain_id
         1D:D412  C2         			cly
 9274                        		__add.wi	2
         1D:D413  18         			clc
         1D:D414  69 02      			adc.l	#2
         1D:D416  90 01      			bcc	!+
         1D:D418  C8         			iny
         1D:D419             	!:
 9275                        		__call		_spr_set.1
         1D:D419  20 F1 E7   			call	_spr_set.1
 9276                        	
 9277                        		.dbg	line,	"include\routines_LEVELS.c", 993; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 9278                        		__st.umiq	136, _al
         1D:D41C  A9 88      			lda.l	#136
         1D:D41E  85 F8      			sta	_al
 9279                        		__ld.uiq	0
         1D:D420  62         			cla
 9280                        		__call		_spr_ctrl.2
         1D:D421  20 50 E8   			call	_spr_ctrl.2
 9281                        	
 9282                        		.dbg	line,	"include\routines_LEVELS.c", 995; spr_set(weapon_id);
 9283                        		__ld.umq	_weapon_id
         1D:D424  AD 29 23   			lda	_weapon_id
 9284                        		__call		_spr_set.1
         1D:D427  20 F1 E7   			call	_spr_set.1
 9285                        	
 9286                        		.dbg	line,	"include\routines_LEVELS.c", 996; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 9287                        		__st.umiq	136, _al
         1D:D42A  A9 88      			lda.l	#136
         1D:D42C  85 F8      			sta	_al
 9288                        		__ld.uiq	0
         1D:D42E  62         			cla
 9289                        		__call		_spr_ctrl.2
         1D:D42F  20 50 E8   			call	_spr_ctrl.2
 9290                        	
 9291                        		.dbg	line,	"include\routines_LEVELS.c", 997; spr_x(player_pos_x+1);
 9292                        		__ld.wm		_player_pos_x
         1D:D432  AD 01 25   			lda.l	_player_pos_x
         1D:D435  AC 02 25   			ldy.h	_player_pos_x
 9293                        		__add.wi	1
         1D:D438  1A         			inc	a
         1D:D439  D0 01      			bne	!+
         1D:D43B  C8         			iny
         1D:D43C             	!:
 9294                        		__call		_spr_x.1
         1D:D43C  20 1E E8   			call	_spr_x.1
 9295                        	
 9296                        		.dbg	line,	"include\routines_LEVELS.c", 998; }
 9297                        	
 9298                        		.dbg	line,	"include\routines_LEVELS.c", 1000; if(joy(JOYPAD_1) & JOY_DOWN)
 9299    1D:D43F             	.LL411:
 9300                        		__ld.uiq	0
         1D:D43F  62         			cla
 9301                        		 _joy.1
         1D:D440  AA         			tax
         1D:D441  BD 28 22   			lda	joynow, x
         1D:D444  BC D3 22   			ldy	joy6now, x
 9302                        		__tand.wi	64
         1D:D447  29 40      			and	#64
         1D:D449  C9 01      	!:		cmp	#1
 9303                        		__bfalse	.LL412
         1D:D44B  90 0D      			bcc	.LL412
 9304                        	
 9305                        		.dbg	line,	"include\routines_LEVELS.c", 1001; {
 9306                        	
 9307                        		.dbg	line,	"include\routines_LEVELS.c", 1002; player_counter_anim = 1;
 9308                        		__st.umiq	1, _player_counter_anim
         1D:D44D  A9 01      			lda.l	#1
         1D:D44F  8D 1E 23   			sta	_player_counter_anim
 9309                        	
 9310                        		.dbg	line,	"include\routines_LEVELS.c", 1003; player_state = STATE_CROUCH;
 9311                        		__st.umiq	7, _player_state
         1D:D452  A9 07      			lda.l	#7
         1D:D454  8D 1B 23   			sta	_player_state
 9312                        	
 9313                        		.dbg	line,	"include\routines_LEVELS.c", 1004; return;
 9314                        		__bra		.LL399
         1D:D457  4C 22 DF   			bra	.LL399
 9315                        	
 9316                        		.dbg	line,	"include\routines_LEVELS.c", 1005; }
 9317                        	
 9318                        		.dbg	line,	"include\routines_LEVELS.c", 1007; player_state = STATE_WALK;
 9319    1D:D45A             	.LL412:
 9320                        		__st.umiq	1, _player_state
         1D:D45A  A9 01      			lda.l	#1
         1D:D45C  8D 1B 23   			sta	_player_state
 9321                        	
 9322                        		.dbg	line,	"include\routines_LEVELS.c", 1008; }
 9323                        	
 9324                        		.dbg	line,	"include\routines_LEVELS.c", 1011; else if(player_state == STATE_JUMP || player_state == STATE_JUMP_LADDER)
 9325                        		__bra		.LL413
         1D:D45F  4C 22 DF   			bra	.LL413
 9326    1D:D462             	.LL409:
 9327                        		__ld.umq	_player_state
         1D:D462  AD 1B 23   			lda	_player_state
 9328                        		__equ_b.uiq	4
         1D:D465  C9 04      			cmp	#4
         1D:D467  F0 01      			beq	!+
         1D:D469  18         			clc
         1D:D46A             	!:
 9329                        		__btrue		.LL415
         1D:D46A  B0 08      			bcs	.LL415
 9330                        		__ld.umq	_player_state
         1D:D46C  AD 1B 23   			lda	_player_state
 9331                        		__equ_b.uiq	13
         1D:D46F  C9 0D      			cmp	#13
         1D:D471  F0 01      			beq	!+
         1D:D473  18         			clc
         1D:D474             	!:
 9332    1D:D474             	.LL415:
 9333                        		__bfalse	.LL414
         1D:D474  B0 03 4C 20			bcc	.LL414
         1D:D478  D5          
 9334                        	
 9335                        		.dbg	line,	"include\routines_LEVELS.c", 1012; {
 9336                        	
 9337                        		.dbg	line,	"include\routines_LEVELS.c", 1013; if(player_attack == FALSE)
 9338                        		__not.um	_player_attack
         1D:D479  AD 23 23   			lda	_player_attack
         1D:D47C  18         			clc
         1D:D47D  D0 01      			bne	!+
         1D:D47F  38         			sec
         1D:D480             	!:
 9339                        		__bfalse	.LL416
         1D:D480  B0 03 4C 22			bcc	.LL416
         1D:D484  DF          
 9340                        	
 9341                        		.dbg	line,	"include\routines_LEVELS.c", 1014; {
 9342                        	
 9343                        		.dbg	line,	"include\routines_LEVELS.c", 1015; jump_ladder = FALSE;
 9344                        		__st.umiq	0, _jump_ladder
         1D:D485  9C 24 23   			stz	_jump_ladder
 9345                        	
 9346                        		.dbg	line,	"include\routines_LEVELS.c", 1016; 
 9347                        	
 9348                        		.dbg	line,	"include\routines_LEVELS.c", 1017; if(player_axis == AXIS_LEFT)
 9349                        		__ld.umq	_player_axis
         1D:D488  AD 1C 23   			lda	_player_axis
 9350                        		__equ_b.uiq	1
         1D:D48B  C9 01      			cmp	#1
         1D:D48D  F0 01      			beq	!+
         1D:D48F  18         			clc
         1D:D490             	!:
 9351                        		__bfalse	.LL417
         1D:D490  90 6B      			bcc	.LL417
 9352                        	
 9353                        		.dbg	line,	"include\routines_LEVELS.c", 1018; {
 9354                        	
 9355                        		.dbg	line,	"include\routines_LEVELS.c", 1019; player_axis = AXIS_RIGHT;
 9356                        		__st.umiq	0, _player_axis
         1D:D492  9C 1C 23   			stz	_player_axis
 9357                        	
 9358                        		.dbg	line,	"include\routines_LEVELS.c", 1020; player_previous_axis = player_axis;
 9359                        		__ld.um		_player_axis
         1D:D495  AD 1C 23   			lda	_player_axis
         1D:D498  C2         			cly
 9360                        		__st.umq	_player_previous_axis
         1D:D499  8D 1D 23   			sta	_player_previous_axis
 9361                        	
 9362                        		.dbg	line,	"include\routines_LEVELS.c", 1022; spr_set(player_id);
 9363                        		__ld.umq	_player_id
         1D:D49C  AD 1A 23   			lda	_player_id
 9364                        		__call		_spr_set.1
         1D:D49F  20 F1 E7   			call	_spr_set.1
 9365                        	
 9366                        		.dbg	line,	"include\routines_LEVELS.c", 1023; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 9367                        		__st.umiq	136, _al
         1D:D4A2  A9 88      			lda.l	#136
         1D:D4A4  85 F8      			sta	_al
 9368                        		__ld.uiq	0
         1D:D4A6  62         			cla
 9369                        		__call		_spr_ctrl.2
         1D:D4A7  20 50 E8   			call	_spr_ctrl.2
 9370                        	
 9371                        		.dbg	line,	"include\routines_LEVELS.c", 1025; spr_set(chain_id);
 9372                        		__ld.umq	_chain_id
         1D:D4AA  AD 28 23   			lda	_chain_id
 9373                        		__call		_spr_set.1
         1D:D4AD  20 F1 E7   			call	_spr_set.1
 9374                        	
 9375                        		.dbg	line,	"include\routines_LEVELS.c", 1026; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 9376                        		__st.umiq	136, _al
         1D:D4B0  A9 88      			lda.l	#136
         1D:D4B2  85 F8      			sta	_al
 9377                        		__ld.uiq	0
         1D:D4B4  62         			cla
 9378                        		__call		_spr_ctrl.2
         1D:D4B5  20 50 E8   			call	_spr_ctrl.2
 9379                        	
 9380                        		.dbg	line,	"include\routines_LEVELS.c", 1028; spr_set(chain_id+1);
 9381                        		__ld.um		_chain_id
         1D:D4B8  AD 28 23   			lda	_chain_id
         1D:D4BB  C2         			cly
 9382                        		__add.wi	1
         1D:D4BC  1A         			inc	a
         1D:D4BD  D0 01      			bne	!+
         1D:D4BF  C8         			iny
         1D:D4C0             	!:
 9383                        		__call		_spr_set.1
         1D:D4C0  20 F1 E7   			call	_spr_set.1
 9384                        	
 9385                        		.dbg	line,	"include\routines_LEVELS.c", 1029; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 9386                        		__st.umiq	136, _al
         1D:D4C3  A9 88      			lda.l	#136
         1D:D4C5  85 F8      			sta	_al
 9387                        		__ld.uiq	0
         1D:D4C7  62         			cla
 9388                        		__call		_spr_ctrl.2
         1D:D4C8  20 50 E8   			call	_spr_ctrl.2
 9389                        	
 9390                        		.dbg	line,	"include\routines_LEVELS.c", 1031; spr_set(chain_id+2);
 9391                        		__ld.um		_chain_id
         1D:D4CB  AD 28 23   			lda	_chain_id
         1D:D4CE  C2         			cly
 9392                        		__add.wi	2
         1D:D4CF  18         			clc
         1D:D4D0  69 02      			adc.l	#2
         1D:D4D2  90 01      			bcc	!+
         1D:D4D4  C8         			iny
         1D:D4D5             	!:
 9393                        		__call		_spr_set.1
         1D:D4D5  20 F1 E7   			call	_spr_set.1
 9394                        	
 9395                        		.dbg	line,	"include\routines_LEVELS.c", 1032; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 9396                        		__st.umiq	136, _al
         1D:D4D8  A9 88      			lda.l	#136
         1D:D4DA  85 F8      			sta	_al
 9397                        		__ld.uiq	0
         1D:D4DC  62         			cla
 9398                        		__call		_spr_ctrl.2
         1D:D4DD  20 50 E8   			call	_spr_ctrl.2
 9399                        	
 9400                        		.dbg	line,	"include\routines_LEVELS.c", 1034; spr_set(weapon_id);
 9401                        		__ld.umq	_weapon_id
         1D:D4E0  AD 29 23   			lda	_weapon_id
 9402                        		__call		_spr_set.1
         1D:D4E3  20 F1 E7   			call	_spr_set.1
 9403                        	
 9404                        		.dbg	line,	"include\routines_LEVELS.c", 1035; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 9405                        		__st.umiq	136, _al
         1D:D4E6  A9 88      			lda.l	#136
         1D:D4E8  85 F8      			sta	_al
 9406                        		__ld.uiq	0
         1D:D4EA  62         			cla
 9407                        		__call		_spr_ctrl.2
         1D:D4EB  20 50 E8   			call	_spr_ctrl.2
 9408                        	
 9409                        		.dbg	line,	"include\routines_LEVELS.c", 1036; spr_x(player_pos_x-5);
 9410                        		__ld.wm		_player_pos_x
         1D:D4EE  AD 01 25   			lda.l	_player_pos_x
         1D:D4F1  AC 02 25   			ldy.h	_player_pos_x
 9411                        		__sub.wi	5
         1D:D4F4  38         			sec
         1D:D4F5  E9 05      			sbc.l	#5
         1D:D4F7  B0 01      			bcs	!+
         1D:D4F9  88         			dey
         1D:D4FA             	!:
 9412                        		__call		_spr_x.1
         1D:D4FA  20 1E E8   			call	_spr_x.1
 9413                        	
 9414                        		.dbg	line,	"include\routines_LEVELS.c", 1037; }
 9415                        	
 9416                        		.dbg	line,	"include\routines_LEVELS.c", 1039; if(player_index_jump > 10 && player_index_jump < 15)
 9417    1D:D4FD             	.LL417:
 9418                        		__ld.umq	_player_index_jump
         1D:D4FD  AD 1F 23   			lda	_player_index_jump
 9419                        		__ugt_b.uiq	10
         1D:D500  18         			clc			; Subtract integer+1 from A.
         1D:D501  E9 0A      			sbc	#10		; CS if A > integer.
 9420                        		__bfalse	.LL419
         1D:D503  90 09      			bcc	.LL419
 9421                        		__ld.umq	_player_index_jump
         1D:D505  AD 1F 23   			lda	_player_index_jump
 9422                        		__ult_b.uiq	15
         1D:D508  C9 0F      			cmp	#15		; Subtract integer from A.
         1D:D50A  6A         			ror	a		; CC if A < integer.
         1D:D50B  49 80      			eor	#$80
         1D:D50D  2A         			rol	a
 9423    1D:D50E             	.LL419:
 9424                        		__bfalse	.LL418
         1D:D50E  B0 03 4C 22			bcc	.LL418
         1D:D512  DF          
 9425                        	
 9426                        		.dbg	line,	"include\routines_LEVELS.c", 1040; {
 9427                        	
 9428                        		.dbg	line,	"include\routines_LEVELS.c", 1041; jump_max_index = 35;
 9429                        		__st.umiq	35, _jump_max_index
         1D:D513  A9 23      			lda.l	#35
         1D:D515  8D 25 23   			sta	_jump_max_index
 9430                        	
 9431                        		.dbg	line,	"include\routines_LEVELS.c", 1042; 
 9432                        	
 9433                        		.dbg	line,	"include\routines_LEVELS.c", 1043; player_state = STATE_JUMP_RIGHT;                        
 9434                        		__st.umiq	5, _player_state
         1D:D518  A9 05      			lda.l	#5
         1D:D51A  8D 1B 23   			sta	_player_state
 9435                        	
 9436                        		.dbg	line,	"include\routines_LEVELS.c", 1044; }
 9437                        	
 9438                        		.dbg	line,	"include\routines_LEVELS.c", 1045; }
 9439    1D:D51D             	.LL418	.alias		.LL420
 9440                        	
 9441                        		.dbg	line,	"include\routines_LEVELS.c", 1046; }
 9442    1D:D51D             	.LL416	.alias		.LL420
 9443                        	
 9444                        		.dbg	line,	"include\routines_LEVELS.c", 1049; else if(player_state == STATE_JUMP_RIGHT || player_state == STATE_JUMP_LEFT)
 9445                        		__bra		.LL420
         1D:D51D  4C 22 DF   			bra	.LL420
 9446    1D:D520             	.LL414:
 9447                        		__ld.umq	_player_state
         1D:D520  AD 1B 23   			lda	_player_state
 9448                        		__equ_b.uiq	5
         1D:D523  C9 05      			cmp	#5
         1D:D525  F0 01      			beq	!+
         1D:D527  18         			clc
         1D:D528             	!:
 9449                        		__btrue		.LL422
         1D:D528  B0 08      			bcs	.LL422
 9450                        		__ld.umq	_player_state
         1D:D52A  AD 1B 23   			lda	_player_state
 9451                        		__equ_b.uiq	6
         1D:D52D  C9 06      			cmp	#6
         1D:D52F  F0 01      			beq	!+
         1D:D531  18         			clc
         1D:D532             	!:
 9452    1D:D532             	.LL422:
 9453                        		__bfalse	.LL421
         1D:D532  B0 03 4C BE			bcc	.LL421
         1D:D536  D5          
 9454                        	
 9455                        		.dbg	line,	"include\routines_LEVELS.c", 1050; {
 9456                        	
 9457                        		.dbg	line,	"include\routines_LEVELS.c", 1051; if(player_attack == FALSE)
 9458                        		__not.um	_player_attack
         1D:D537  AD 23 23   			lda	_player_attack
         1D:D53A  18         			clc
         1D:D53B  D0 01      			bne	!+
         1D:D53D  38         			sec
         1D:D53E             	!:
 9459                        		__bfalse	.LL423
         1D:D53E  B0 03 4C 22			bcc	.LL423
         1D:D542  DF          
 9460                        	
 9461                        		.dbg	line,	"include\routines_LEVELS.c", 1052; {
 9462                        	
 9463                        		.dbg	line,	"include\routines_LEVELS.c", 1053; if(player_axis == AXIS_LEFT)
 9464                        		__ld.umq	_player_axis
         1D:D543  AD 1C 23   			lda	_player_axis
 9465                        		__equ_b.uiq	1
         1D:D546  C9 01      			cmp	#1
         1D:D548  F0 01      			beq	!+
         1D:D54A  18         			clc
         1D:D54B             	!:
 9466                        		__bfalse	.LL424
         1D:D54B  B0 03 4C 22			bcc	.LL424
         1D:D54F  DF          
 9467                        	
 9468                        		.dbg	line,	"include\routines_LEVELS.c", 1054; {
 9469                        	
 9470                        		.dbg	line,	"include\routines_LEVELS.c", 1055; player_axis = AXIS_RIGHT;
 9471                        		__st.umiq	0, _player_axis
         1D:D550  9C 1C 23   			stz	_player_axis
 9472                        	
 9473                        		.dbg	line,	"include\routines_LEVELS.c", 1056; player_previous_axis = player_axis;
 9474                        		__ld.um		_player_axis
         1D:D553  AD 1C 23   			lda	_player_axis
         1D:D556  C2         			cly
 9475                        		__st.umq	_player_previous_axis
         1D:D557  8D 1D 23   			sta	_player_previous_axis
 9476                        	
 9477                        		.dbg	line,	"include\routines_LEVELS.c", 1058; spr_set(player_id);
 9478                        		__ld.umq	_player_id
         1D:D55A  AD 1A 23   			lda	_player_id
 9479                        		__call		_spr_set.1
         1D:D55D  20 F1 E7   			call	_spr_set.1
 9480                        	
 9481                        		.dbg	line,	"include\routines_LEVELS.c", 1059; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 9482                        		__st.umiq	136, _al
         1D:D560  A9 88      			lda.l	#136
         1D:D562  85 F8      			sta	_al
 9483                        		__ld.uiq	0
         1D:D564  62         			cla
 9484                        		__call		_spr_ctrl.2
         1D:D565  20 50 E8   			call	_spr_ctrl.2
 9485                        	
 9486                        		.dbg	line,	"include\routines_LEVELS.c", 1061; spr_set(chain_id);
 9487                        		__ld.umq	_chain_id
         1D:D568  AD 28 23   			lda	_chain_id
 9488                        		__call		_spr_set.1
         1D:D56B  20 F1 E7   			call	_spr_set.1
 9489                        	
 9490                        		.dbg	line,	"include\routines_LEVELS.c", 1062; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 9491                        		__st.umiq	136, _al
         1D:D56E  A9 88      			lda.l	#136
         1D:D570  85 F8      			sta	_al
 9492                        		__ld.uiq	0
         1D:D572  62         			cla
 9493                        		__call		_spr_ctrl.2
         1D:D573  20 50 E8   			call	_spr_ctrl.2
 9494                        	
 9495                        		.dbg	line,	"include\routines_LEVELS.c", 1064; spr_set(chain_id+1);
 9496                        		__ld.um		_chain_id
         1D:D576  AD 28 23   			lda	_chain_id
         1D:D579  C2         			cly
 9497                        		__add.wi	1
         1D:D57A  1A         			inc	a
         1D:D57B  D0 01      			bne	!+
         1D:D57D  C8         			iny
         1D:D57E             	!:
 9498                        		__call		_spr_set.1
         1D:D57E  20 F1 E7   			call	_spr_set.1
 9499                        	
 9500                        		.dbg	line,	"include\routines_LEVELS.c", 1065; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 9501                        		__st.umiq	136, _al
         1D:D581  A9 88      			lda.l	#136
         1D:D583  85 F8      			sta	_al
 9502                        		__ld.uiq	0
         1D:D585  62         			cla
 9503                        		__call		_spr_ctrl.2
         1D:D586  20 50 E8   			call	_spr_ctrl.2
 9504                        	
 9505                        		.dbg	line,	"include\routines_LEVELS.c", 1067; spr_set(chain_id+2);
 9506                        		__ld.um		_chain_id
         1D:D589  AD 28 23   			lda	_chain_id
         1D:D58C  C2         			cly
 9507                        		__add.wi	2
         1D:D58D  18         			clc
         1D:D58E  69 02      			adc.l	#2
         1D:D590  90 01      			bcc	!+
         1D:D592  C8         			iny
         1D:D593             	!:
 9508                        		__call		_spr_set.1
         1D:D593  20 F1 E7   			call	_spr_set.1
 9509                        	
 9510                        		.dbg	line,	"include\routines_LEVELS.c", 1068; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 9511                        		__st.umiq	136, _al
         1D:D596  A9 88      			lda.l	#136
         1D:D598  85 F8      			sta	_al
 9512                        		__ld.uiq	0
         1D:D59A  62         			cla
 9513                        		__call		_spr_ctrl.2
         1D:D59B  20 50 E8   			call	_spr_ctrl.2
 9514                        	
 9515                        		.dbg	line,	"include\routines_LEVELS.c", 1070; spr_set(weapon_id);
 9516                        		__ld.umq	_weapon_id
         1D:D59E  AD 29 23   			lda	_weapon_id
 9517                        		__call		_spr_set.1
         1D:D5A1  20 F1 E7   			call	_spr_set.1
 9518                        	
 9519                        		.dbg	line,	"include\routines_LEVELS.c", 1071; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 9520                        		__st.umiq	136, _al
         1D:D5A4  A9 88      			lda.l	#136
         1D:D5A6  85 F8      			sta	_al
 9521                        		__ld.uiq	0
         1D:D5A8  62         			cla
 9522                        		__call		_spr_ctrl.2
         1D:D5A9  20 50 E8   			call	_spr_ctrl.2
 9523                        	
 9524                        		.dbg	line,	"include\routines_LEVELS.c", 1072; spr_x(player_pos_x-5);
 9525                        		__ld.wm		_player_pos_x
         1D:D5AC  AD 01 25   			lda.l	_player_pos_x
         1D:D5AF  AC 02 25   			ldy.h	_player_pos_x
 9526                        		__sub.wi	5
         1D:D5B2  38         			sec
         1D:D5B3  E9 05      			sbc.l	#5
         1D:D5B5  B0 01      			bcs	!+
         1D:D5B7  88         			dey
         1D:D5B8             	!:
 9527                        		__call		_spr_x.1
         1D:D5B8  20 1E E8   			call	_spr_x.1
 9528                        	
 9529                        		.dbg	line,	"include\routines_LEVELS.c", 1073; }
 9530                        	
 9531                        		.dbg	line,	"include\routines_LEVELS.c", 1074; }
 9532    1D:D5BB             	.LL424	.alias		.LL425
 9533                        	
 9534                        		.dbg	line,	"include\routines_LEVELS.c", 1075; }
 9535    1D:D5BB             	.LL423	.alias		.LL425
 9536                        	
 9537                        		.dbg	line,	"include\routines_LEVELS.c", 1078; else if(player_state == STATE_CROUCH)
 9538                        		__bra		.LL425
         1D:D5BB  4C 22 DF   			bra	.LL425
 9539    1D:D5BE             	.LL421:
 9540                        		__ld.umq	_player_state
         1D:D5BE  AD 1B 23   			lda	_player_state
 9541                        		__equ_b.uiq	7
         1D:D5C1  C9 07      			cmp	#7
         1D:D5C3  F0 01      			beq	!+
         1D:D5C5  18         			clc
         1D:D5C6             	!:
 9542                        		__bfalse	.LL426
         1D:D5C6  B0 03 4C D1			bcc	.LL426
         1D:D5CA  D6          
 9543                        	
 9544                        		.dbg	line,	"include\routines_LEVELS.c", 1079; {
 9545                        	
 9546                        		.dbg	line,	"include\routines_LEVELS.c", 1080; if(joy(JOYPAD_1) & JOY_DOWN)
 9547                        		__ld.uiq	0
         1D:D5CB  62         			cla
 9548                        		 _joy.1
         1D:D5CC  AA         			tax
         1D:D5CD  BD 28 22   			lda	joynow, x
         1D:D5D0  BC D3 22   			ldy	joy6now, x
 9549                        		__tand.wi	64
         1D:D5D3  29 40      			and	#64
         1D:D5D5  C9 01      	!:		cmp	#1
 9550                        		__bfalse	.LL427
         1D:D5D7  90 7B      			bcc	.LL427
 9551                        	
 9552                        		.dbg	line,	"include\routines_LEVELS.c", 1081; {
 9553                        	
 9554                        		.dbg	line,	"include\routines_LEVELS.c", 1082; if(player_axis == AXIS_LEFT)
 9555                        		__ld.umq	_player_axis
         1D:D5D9  AD 1C 23   			lda	_player_axis
 9556                        		__equ_b.uiq	1
         1D:D5DC  C9 01      			cmp	#1
         1D:D5DE  F0 01      			beq	!+
         1D:D5E0  18         			clc
         1D:D5E1             	!:
 9557                        		__bfalse	.LL428
         1D:D5E1  B0 03 4C 22			bcc	.LL428
         1D:D5E5  DF          
 9558                        	
 9559                        		.dbg	line,	"include\routines_LEVELS.c", 1083; {
 9560                        	
 9561                        		.dbg	line,	"include\routines_LEVELS.c", 1084; player_axis = AXIS_RIGHT;
 9562                        		__st.umiq	0, _player_axis
         1D:D5E6  9C 1C 23   			stz	_player_axis
 9563                        	
 9564                        		.dbg	line,	"include\routines_LEVELS.c", 1085; player_previous_axis = player_axis;
 9565                        		__ld.um		_player_axis
         1D:D5E9  AD 1C 23   			lda	_player_axis
         1D:D5EC  C2         			cly
 9566                        		__st.umq	_player_previous_axis
         1D:D5ED  8D 1D 23   			sta	_player_previous_axis
 9567                        	
 9568                        		.dbg	line,	"include\routines_LEVELS.c", 1087; spr_set(player_id);
 9569                        		__ld.umq	_player_id
         1D:D5F0  AD 1A 23   			lda	_player_id
 9570                        		__call		_spr_set.1
         1D:D5F3  20 F1 E7   			call	_spr_set.1
 9571                        	
 9572                        		.dbg	line,	"include\routines_LEVELS.c", 1088; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 9573                        		__st.umiq	136, _al
         1D:D5F6  A9 88      			lda.l	#136
         1D:D5F8  85 F8      			sta	_al
 9574                        		__ld.uiq	0
         1D:D5FA  62         			cla
 9575                        		__call		_spr_ctrl.2
         1D:D5FB  20 50 E8   			call	_spr_ctrl.2
 9576                        	
 9577                        		.dbg	line,	"include\routines_LEVELS.c", 1090; spr_set(chain_id);
 9578                        		__ld.umq	_chain_id
         1D:D5FE  AD 28 23   			lda	_chain_id
 9579                        		__call		_spr_set.1
         1D:D601  20 F1 E7   			call	_spr_set.1
 9580                        	
 9581                        		.dbg	line,	"include\routines_LEVELS.c", 1091; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 9582                        		__st.umiq	136, _al
         1D:D604  A9 88      			lda.l	#136
         1D:D606  85 F8      			sta	_al
 9583                        		__ld.uiq	0
         1D:D608  62         			cla
 9584                        		__call		_spr_ctrl.2
         1D:D609  20 50 E8   			call	_spr_ctrl.2
 9585                        	
 9586                        		.dbg	line,	"include\routines_LEVELS.c", 1093; spr_set(chain_id+1);
 9587                        		__ld.um		_chain_id
         1D:D60C  AD 28 23   			lda	_chain_id
         1D:D60F  C2         			cly
 9588                        		__add.wi	1
         1D:D610  1A         			inc	a
         1D:D611  D0 01      			bne	!+
         1D:D613  C8         			iny
         1D:D614             	!:
 9589                        		__call		_spr_set.1
         1D:D614  20 F1 E7   			call	_spr_set.1
 9590                        	
 9591                        		.dbg	line,	"include\routines_LEVELS.c", 1094; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 9592                        		__st.umiq	136, _al
         1D:D617  A9 88      			lda.l	#136
         1D:D619  85 F8      			sta	_al
 9593                        		__ld.uiq	0
         1D:D61B  62         			cla
 9594                        		__call		_spr_ctrl.2
         1D:D61C  20 50 E8   			call	_spr_ctrl.2
 9595                        	
 9596                        		.dbg	line,	"include\routines_LEVELS.c", 1096; spr_set(chain_id+2);
 9597                        		__ld.um		_chain_id
         1D:D61F  AD 28 23   			lda	_chain_id
         1D:D622  C2         			cly
 9598                        		__add.wi	2
         1D:D623  18         			clc
         1D:D624  69 02      			adc.l	#2
         1D:D626  90 01      			bcc	!+
         1D:D628  C8         			iny
         1D:D629             	!:
 9599                        		__call		_spr_set.1
         1D:D629  20 F1 E7   			call	_spr_set.1
 9600                        	
 9601                        		.dbg	line,	"include\routines_LEVELS.c", 1097; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 9602                        		__st.umiq	136, _al
         1D:D62C  A9 88      			lda.l	#136
         1D:D62E  85 F8      			sta	_al
 9603                        		__ld.uiq	0
         1D:D630  62         			cla
 9604                        		__call		_spr_ctrl.2
         1D:D631  20 50 E8   			call	_spr_ctrl.2
 9605                        	
 9606                        		.dbg	line,	"include\routines_LEVELS.c", 1099; spr_set(weapon_id);
 9607                        		__ld.umq	_weapon_id
         1D:D634  AD 29 23   			lda	_weapon_id
 9608                        		__call		_spr_set.1
         1D:D637  20 F1 E7   			call	_spr_set.1
 9609                        	
 9610                        		.dbg	line,	"include\routines_LEVELS.c", 1100; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 9611                        		__st.umiq	136, _al
         1D:D63A  A9 88      			lda.l	#136
         1D:D63C  85 F8      			sta	_al
 9612                        		__ld.uiq	0
         1D:D63E  62         			cla
 9613                        		__call		_spr_ctrl.2
         1D:D63F  20 50 E8   			call	_spr_ctrl.2
 9614                        	
 9615                        		.dbg	line,	"include\routines_LEVELS.c", 1101; spr_x(player_pos_x-1);
 9616                        		__ld.wm		_player_pos_x
         1D:D642  AD 01 25   			lda.l	_player_pos_x
         1D:D645  AC 02 25   			ldy.h	_player_pos_x
 9617                        		__sub.wi	1
         1D:D648  38         			sec
         1D:D649  E9 01      			sbc.l	#1
         1D:D64B  B0 01      			bcs	!+
         1D:D64D  88         			dey
         1D:D64E             	!:
 9618                        		__call		_spr_x.1
         1D:D64E  20 1E E8   			call	_spr_x.1
 9619                        	
 9620                        		.dbg	line,	"include\routines_LEVELS.c", 1102; }
 9621                        	
 9622                        		.dbg	line,	"include\routines_LEVELS.c", 1103; }
 9623    1D:D651             	.LL428	.alias		.LL429
 9624                        	
 9625                        		.dbg	line,	"include\routines_LEVELS.c", 1105; else
 9626                        		__bra		.LL429
         1D:D651  4C 22 DF   			bra	.LL429
 9627    1D:D654             	.LL427:
 9628                        	
 9629                        		.dbg	line,	"include\routines_LEVELS.c", 1106; {
 9630                        	
 9631                        		.dbg	line,	"include\routines_LEVELS.c", 1107; player_axis = AXIS_RIGHT;
 9632                        		__st.umiq	0, _player_axis
         1D:D654  9C 1C 23   			stz	_player_axis
 9633                        	
 9634                        		.dbg	line,	"include\routines_LEVELS.c", 1108; 
 9635                        	
 9636                        		.dbg	line,	"include\routines_LEVELS.c", 1109; if(player_previous_axis != player_axis)
 9637                        		__ld.umq	_player_previous_axis
         1D:D657  AD 1D 23   			lda	_player_previous_axis
 9638                        		__neq_b.umq	_player_axis
         1D:D65A  38         			sec
         1D:D65B  4D 1C 23   			eor	_player_axis
         1D:D65E  D0 01      			bne	!+
         1D:D660  18         			clc
         1D:D661             	!:
 9639                        		__bfalse	.LL430
         1D:D661  90 66      			bcc	.LL430
 9640                        	
 9641                        		.dbg	line,	"include\routines_LEVELS.c", 1110; {
 9642                        	
 9643                        		.dbg	line,	"include\routines_LEVELS.c", 1111; player_previous_axis = player_axis;
 9644                        		__ld.um		_player_axis
         1D:D663  AD 1C 23   			lda	_player_axis
         1D:D666  C2         			cly
 9645                        		__st.umq	_player_previous_axis
         1D:D667  8D 1D 23   			sta	_player_previous_axis
 9646                        	
 9647                        		.dbg	line,	"include\routines_LEVELS.c", 1113; spr_set(player_id);
 9648                        		__ld.umq	_player_id
         1D:D66A  AD 1A 23   			lda	_player_id
 9649                        		__call		_spr_set.1
         1D:D66D  20 F1 E7   			call	_spr_set.1
 9650                        	
 9651                        		.dbg	line,	"include\routines_LEVELS.c", 1114; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 9652                        		__st.umiq	136, _al
         1D:D670  A9 88      			lda.l	#136
         1D:D672  85 F8      			sta	_al
 9653                        		__ld.uiq	0
         1D:D674  62         			cla
 9654                        		__call		_spr_ctrl.2
         1D:D675  20 50 E8   			call	_spr_ctrl.2
 9655                        	
 9656                        		.dbg	line,	"include\routines_LEVELS.c", 1116; spr_set(chain_id);
 9657                        		__ld.umq	_chain_id
         1D:D678  AD 28 23   			lda	_chain_id
 9658                        		__call		_spr_set.1
         1D:D67B  20 F1 E7   			call	_spr_set.1
 9659                        	
 9660                        		.dbg	line,	"include\routines_LEVELS.c", 1117; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 9661                        		__st.umiq	136, _al
         1D:D67E  A9 88      			lda.l	#136
         1D:D680  85 F8      			sta	_al
 9662                        		__ld.uiq	0
         1D:D682  62         			cla
 9663                        		__call		_spr_ctrl.2
         1D:D683  20 50 E8   			call	_spr_ctrl.2
 9664                        	
 9665                        		.dbg	line,	"include\routines_LEVELS.c", 1119; spr_set(chain_id+1);
 9666                        		__ld.um		_chain_id
         1D:D686  AD 28 23   			lda	_chain_id
         1D:D689  C2         			cly
 9667                        		__add.wi	1
         1D:D68A  1A         			inc	a
         1D:D68B  D0 01      			bne	!+
         1D:D68D  C8         			iny
         1D:D68E             	!:
 9668                        		__call		_spr_set.1
         1D:D68E  20 F1 E7   			call	_spr_set.1
 9669                        	
 9670                        		.dbg	line,	"include\routines_LEVELS.c", 1120; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 9671                        		__st.umiq	136, _al
         1D:D691  A9 88      			lda.l	#136
         1D:D693  85 F8      			sta	_al
 9672                        		__ld.uiq	0
         1D:D695  62         			cla
 9673                        		__call		_spr_ctrl.2
         1D:D696  20 50 E8   			call	_spr_ctrl.2
 9674                        	
 9675                        		.dbg	line,	"include\routines_LEVELS.c", 1122; spr_set(chain_id+2);
 9676                        		__ld.um		_chain_id
         1D:D699  AD 28 23   			lda	_chain_id
         1D:D69C  C2         			cly
 9677                        		__add.wi	2
         1D:D69D  18         			clc
         1D:D69E  69 02      			adc.l	#2
         1D:D6A0  90 01      			bcc	!+
         1D:D6A2  C8         			iny
         1D:D6A3             	!:
 9678                        		__call		_spr_set.1
         1D:D6A3  20 F1 E7   			call	_spr_set.1
 9679                        	
 9680                        		.dbg	line,	"include\routines_LEVELS.c", 1123; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 9681                        		__st.umiq	136, _al
         1D:D6A6  A9 88      			lda.l	#136
         1D:D6A8  85 F8      			sta	_al
 9682                        		__ld.uiq	0
         1D:D6AA  62         			cla
 9683                        		__call		_spr_ctrl.2
         1D:D6AB  20 50 E8   			call	_spr_ctrl.2
 9684                        	
 9685                        		.dbg	line,	"include\routines_LEVELS.c", 1125; spr_set(weapon_id);
 9686                        		__ld.umq	_weapon_id
         1D:D6AE  AD 29 23   			lda	_weapon_id
 9687                        		__call		_spr_set.1
         1D:D6B1  20 F1 E7   			call	_spr_set.1
 9688                        	
 9689                        		.dbg	line,	"include\routines_LEVELS.c", 1126; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 9690                        		__st.umiq	136, _al
         1D:D6B4  A9 88      			lda.l	#136
         1D:D6B6  85 F8      			sta	_al
 9691                        		__ld.uiq	0
         1D:D6B8  62         			cla
 9692                        		__call		_spr_ctrl.2
         1D:D6B9  20 50 E8   			call	_spr_ctrl.2
 9693                        	
 9694                        		.dbg	line,	"include\routines_LEVELS.c", 1127; spr_x(player_pos_x+1);
 9695                        		__ld.wm		_player_pos_x
         1D:D6BC  AD 01 25   			lda.l	_player_pos_x
         1D:D6BF  AC 02 25   			ldy.h	_player_pos_x
 9696                        		__add.wi	1
         1D:D6C2  1A         			inc	a
         1D:D6C3  D0 01      			bne	!+
         1D:D6C5  C8         			iny
         1D:D6C6             	!:
 9697                        		__call		_spr_x.1
         1D:D6C6  20 1E E8   			call	_spr_x.1
 9698                        	
 9699                        		.dbg	line,	"include\routines_LEVELS.c", 1128; }
 9700                        	
 9701                        		.dbg	line,	"include\routines_LEVELS.c", 1130; player_state = STATE_WALK;
 9702    1D:D6C9             	.LL430:
 9703                        		__st.umiq	1, _player_state
         1D:D6C9  A9 01      			lda.l	#1
         1D:D6CB  8D 1B 23   			sta	_player_state
 9704                        	
 9705                        		.dbg	line,	"include\routines_LEVELS.c", 1131; }
 9706    1D:D6CE             	.LL429	.alias		.LL431
 9707                        	
 9708                        		.dbg	line,	"include\routines_LEVELS.c", 1132; }
 9709                        	
 9710                        		.dbg	line,	"include\routines_LEVELS.c", 1135; else if(player_state == STATE_FALL)
 9711                        		__bra		.LL431
         1D:D6CE  4C 22 DF   			bra	.LL431
 9712    1D:D6D1             	.LL426:
 9713                        		__ld.umq	_player_state
         1D:D6D1  AD 1B 23   			lda	_player_state
 9714                        		__equ_b.uiq	9
         1D:D6D4  C9 09      			cmp	#9
         1D:D6D6  F0 01      			beq	!+
         1D:D6D8  18         			clc
         1D:D6D9             	!:
 9715                        		__bfalse	.LL432
         1D:D6D9  B0 03 4C 65			bcc	.LL432
         1D:D6DD  D7          
 9716                        	
 9717                        		.dbg	line,	"include\routines_LEVELS.c", 1136; {
 9718                        	
 9719                        		.dbg	line,	"include\routines_LEVELS.c", 1137; if(player_attack == FALSE)
 9720                        		__not.um	_player_attack
         1D:D6DE  AD 23 23   			lda	_player_attack
         1D:D6E1  18         			clc
         1D:D6E2  D0 01      			bne	!+
         1D:D6E4  38         			sec
         1D:D6E5             	!:
 9721                        		__bfalse	.LL433
         1D:D6E5  B0 03 4C 22			bcc	.LL433
         1D:D6E9  DF          
 9722                        	
 9723                        		.dbg	line,	"include\routines_LEVELS.c", 1138; {
 9724                        	
 9725                        		.dbg	line,	"include\routines_LEVELS.c", 1139; if(player_axis == AXIS_LEFT)
 9726                        		__ld.umq	_player_axis
         1D:D6EA  AD 1C 23   			lda	_player_axis
 9727                        		__equ_b.uiq	1
         1D:D6ED  C9 01      			cmp	#1
         1D:D6EF  F0 01      			beq	!+
         1D:D6F1  18         			clc
         1D:D6F2             	!:
 9728                        		__bfalse	.LL434
         1D:D6F2  B0 03 4C 22			bcc	.LL434
         1D:D6F6  DF          
 9729                        	
 9730                        		.dbg	line,	"include\routines_LEVELS.c", 1140; {
 9731                        	
 9732                        		.dbg	line,	"include\routines_LEVELS.c", 1141; player_axis = AXIS_RIGHT;
 9733                        		__st.umiq	0, _player_axis
         1D:D6F7  9C 1C 23   			stz	_player_axis
 9734                        	
 9735                        		.dbg	line,	"include\routines_LEVELS.c", 1142; player_previous_axis = player_axis;
 9736                        		__ld.um		_player_axis
         1D:D6FA  AD 1C 23   			lda	_player_axis
         1D:D6FD  C2         			cly
 9737                        		__st.umq	_player_previous_axis
         1D:D6FE  8D 1D 23   			sta	_player_previous_axis
 9738                        	
 9739                        		.dbg	line,	"include\routines_LEVELS.c", 1144; spr_set(player_id);
 9740                        		__ld.umq	_player_id
         1D:D701  AD 1A 23   			lda	_player_id
 9741                        		__call		_spr_set.1
         1D:D704  20 F1 E7   			call	_spr_set.1
 9742                        	
 9743                        		.dbg	line,	"include\routines_LEVELS.c", 1145; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 9744                        		__st.umiq	136, _al
         1D:D707  A9 88      			lda.l	#136
         1D:D709  85 F8      			sta	_al
 9745                        		__ld.uiq	0
         1D:D70B  62         			cla
 9746                        		__call		_spr_ctrl.2
         1D:D70C  20 50 E8   			call	_spr_ctrl.2
 9747                        	
 9748                        		.dbg	line,	"include\routines_LEVELS.c", 1147; spr_set(chain_id);
 9749                        		__ld.umq	_chain_id
         1D:D70F  AD 28 23   			lda	_chain_id
 9750                        		__call		_spr_set.1
         1D:D712  20 F1 E7   			call	_spr_set.1
 9751                        	
 9752                        		.dbg	line,	"include\routines_LEVELS.c", 1148; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 9753                        		__st.umiq	136, _al
         1D:D715  A9 88      			lda.l	#136
         1D:D717  85 F8      			sta	_al
 9754                        		__ld.uiq	0
         1D:D719  62         			cla
 9755                        		__call		_spr_ctrl.2
         1D:D71A  20 50 E8   			call	_spr_ctrl.2
 9756                        	
 9757                        		.dbg	line,	"include\routines_LEVELS.c", 1150; spr_set(chain_id+1);
 9758                        		__ld.um		_chain_id
         1D:D71D  AD 28 23   			lda	_chain_id
         1D:D720  C2         			cly
 9759                        		__add.wi	1
         1D:D721  1A         			inc	a
         1D:D722  D0 01      			bne	!+
         1D:D724  C8         			iny
         1D:D725             	!:
 9760                        		__call		_spr_set.1
         1D:D725  20 F1 E7   			call	_spr_set.1
 9761                        	
 9762                        		.dbg	line,	"include\routines_LEVELS.c", 1151; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 9763                        		__st.umiq	136, _al
         1D:D728  A9 88      			lda.l	#136
         1D:D72A  85 F8      			sta	_al
 9764                        		__ld.uiq	0
         1D:D72C  62         			cla
 9765                        		__call		_spr_ctrl.2
         1D:D72D  20 50 E8   			call	_spr_ctrl.2
 9766                        	
 9767                        		.dbg	line,	"include\routines_LEVELS.c", 1153; spr_set(chain_id+2);
 9768                        		__ld.um		_chain_id
         1D:D730  AD 28 23   			lda	_chain_id
         1D:D733  C2         			cly
 9769                        		__add.wi	2
         1D:D734  18         			clc
         1D:D735  69 02      			adc.l	#2
         1D:D737  90 01      			bcc	!+
         1D:D739  C8         			iny
         1D:D73A             	!:
 9770                        		__call		_spr_set.1
         1D:D73A  20 F1 E7   			call	_spr_set.1
 9771                        	
 9772                        		.dbg	line,	"include\routines_LEVELS.c", 1154; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 9773                        		__st.umiq	136, _al
         1D:D73D  A9 88      			lda.l	#136
         1D:D73F  85 F8      			sta	_al
 9774                        		__ld.uiq	0
         1D:D741  62         			cla
 9775                        		__call		_spr_ctrl.2
         1D:D742  20 50 E8   			call	_spr_ctrl.2
 9776                        	
 9777                        		.dbg	line,	"include\routines_LEVELS.c", 1156; spr_set(weapon_id);
 9778                        		__ld.umq	_weapon_id
         1D:D745  AD 29 23   			lda	_weapon_id
 9779                        		__call		_spr_set.1
         1D:D748  20 F1 E7   			call	_spr_set.1
 9780                        	
 9781                        		.dbg	line,	"include\routines_LEVELS.c", 1157; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 9782                        		__st.umiq	136, _al
         1D:D74B  A9 88      			lda.l	#136
         1D:D74D  85 F8      			sta	_al
 9783                        		__ld.uiq	0
         1D:D74F  62         			cla
 9784                        		__call		_spr_ctrl.2
         1D:D750  20 50 E8   			call	_spr_ctrl.2
 9785                        	
 9786                        		.dbg	line,	"include\routines_LEVELS.c", 1158; spr_x(player_pos_x-4);
 9787                        		__ld.wm		_player_pos_x
         1D:D753  AD 01 25   			lda.l	_player_pos_x
         1D:D756  AC 02 25   			ldy.h	_player_pos_x
 9788                        		__sub.wi	4
         1D:D759  38         			sec
         1D:D75A  E9 04      			sbc.l	#4
         1D:D75C  B0 01      			bcs	!+
         1D:D75E  88         			dey
         1D:D75F             	!:
 9789                        		__call		_spr_x.1
         1D:D75F  20 1E E8   			call	_spr_x.1
 9790                        	
 9791                        		.dbg	line,	"include\routines_LEVELS.c", 1159; }
 9792                        	
 9793                        		.dbg	line,	"include\routines_LEVELS.c", 1160; }
 9794    1D:D762             	.LL434	.alias		.LL435
 9795                        	
 9796                        		.dbg	line,	"include\routines_LEVELS.c", 1161; }
 9797    1D:D762             	.LL433	.alias		.LL435
 9798                        	
 9799                        		.dbg	line,	"include\routines_LEVELS.c", 1164; else if(player_state == STATE_HANG)
 9800                        		__bra		.LL435
         1D:D762  4C 22 DF   			bra	.LL435
 9801    1D:D765             	.LL432:
 9802                        		__ld.umq	_player_state
         1D:D765  AD 1B 23   			lda	_player_state
 9803                        		__equ_b.uiq	10
         1D:D768  C9 0A      			cmp	#10
         1D:D76A  F0 01      			beq	!+
         1D:D76C  18         			clc
         1D:D76D             	!:
 9804                        		__bfalse	.LL436
         1D:D76D  B0 03 4C F9			bcc	.LL436
         1D:D771  D7          
 9805                        	
 9806                        		.dbg	line,	"include\routines_LEVELS.c", 1165; {
 9807                        	
 9808                        		.dbg	line,	"include\routines_LEVELS.c", 1166; if(player_attack == FALSE)
 9809                        		__not.um	_player_attack
         1D:D772  AD 23 23   			lda	_player_attack
         1D:D775  18         			clc
         1D:D776  D0 01      			bne	!+
         1D:D778  38         			sec
         1D:D779             	!:
 9810                        		__bfalse	.LL437
         1D:D779  B0 03 4C 22			bcc	.LL437
         1D:D77D  DF          
 9811                        	
 9812                        		.dbg	line,	"include\routines_LEVELS.c", 1167; {
 9813                        	
 9814                        		.dbg	line,	"include\routines_LEVELS.c", 1168; if(player_axis == AXIS_LEFT)
 9815                        		__ld.umq	_player_axis
         1D:D77E  AD 1C 23   			lda	_player_axis
 9816                        		__equ_b.uiq	1
         1D:D781  C9 01      			cmp	#1
         1D:D783  F0 01      			beq	!+
         1D:D785  18         			clc
         1D:D786             	!:
 9817                        		__bfalse	.LL438
         1D:D786  B0 03 4C 22			bcc	.LL438
         1D:D78A  DF          
 9818                        	
 9819                        		.dbg	line,	"include\routines_LEVELS.c", 1169; {
 9820                        	
 9821                        		.dbg	line,	"include\routines_LEVELS.c", 1170; player_axis = AXIS_RIGHT;
 9822                        		__st.umiq	0, _player_axis
         1D:D78B  9C 1C 23   			stz	_player_axis
 9823                        	
 9824                        		.dbg	line,	"include\routines_LEVELS.c", 1171; player_previous_axis = player_axis;
 9825                        		__ld.um		_player_axis
         1D:D78E  AD 1C 23   			lda	_player_axis
         1D:D791  C2         			cly
 9826                        		__st.umq	_player_previous_axis
         1D:D792  8D 1D 23   			sta	_player_previous_axis
 9827                        	
 9828                        		.dbg	line,	"include\routines_LEVELS.c", 1173; spr_set(player_id);
 9829                        		__ld.umq	_player_id
         1D:D795  AD 1A 23   			lda	_player_id
 9830                        		__call		_spr_set.1
         1D:D798  20 F1 E7   			call	_spr_set.1
 9831                        	
 9832                        		.dbg	line,	"include\routines_LEVELS.c", 1174; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 9833                        		__st.umiq	136, _al
         1D:D79B  A9 88      			lda.l	#136
         1D:D79D  85 F8      			sta	_al
 9834                        		__ld.uiq	0
         1D:D79F  62         			cla
 9835                        		__call		_spr_ctrl.2
         1D:D7A0  20 50 E8   			call	_spr_ctrl.2
 9836                        	
 9837                        		.dbg	line,	"include\routines_LEVELS.c", 1176; spr_set(chain_id);
 9838                        		__ld.umq	_chain_id
         1D:D7A3  AD 28 23   			lda	_chain_id
 9839                        		__call		_spr_set.1
         1D:D7A6  20 F1 E7   			call	_spr_set.1
 9840                        	
 9841                        		.dbg	line,	"include\routines_LEVELS.c", 1177; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 9842                        		__st.umiq	136, _al
         1D:D7A9  A9 88      			lda.l	#136
         1D:D7AB  85 F8      			sta	_al
 9843                        		__ld.uiq	0
         1D:D7AD  62         			cla
 9844                        		__call		_spr_ctrl.2
         1D:D7AE  20 50 E8   			call	_spr_ctrl.2
 9845                        	
 9846                        		.dbg	line,	"include\routines_LEVELS.c", 1179; spr_set(chain_id+1);
 9847                        		__ld.um		_chain_id
         1D:D7B1  AD 28 23   			lda	_chain_id
         1D:D7B4  C2         			cly
 9848                        		__add.wi	1
         1D:D7B5  1A         			inc	a
         1D:D7B6  D0 01      			bne	!+
         1D:D7B8  C8         			iny
         1D:D7B9             	!:
 9849                        		__call		_spr_set.1
         1D:D7B9  20 F1 E7   			call	_spr_set.1
 9850                        	
 9851                        		.dbg	line,	"include\routines_LEVELS.c", 1180; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 9852                        		__st.umiq	136, _al
         1D:D7BC  A9 88      			lda.l	#136
         1D:D7BE  85 F8      			sta	_al
 9853                        		__ld.uiq	0
         1D:D7C0  62         			cla
 9854                        		__call		_spr_ctrl.2
         1D:D7C1  20 50 E8   			call	_spr_ctrl.2
 9855                        	
 9856                        		.dbg	line,	"include\routines_LEVELS.c", 1182; spr_set(chain_id+2);
 9857                        		__ld.um		_chain_id
         1D:D7C4  AD 28 23   			lda	_chain_id
         1D:D7C7  C2         			cly
 9858                        		__add.wi	2
         1D:D7C8  18         			clc
         1D:D7C9  69 02      			adc.l	#2
         1D:D7CB  90 01      			bcc	!+
         1D:D7CD  C8         			iny
         1D:D7CE             	!:
 9859                        		__call		_spr_set.1
         1D:D7CE  20 F1 E7   			call	_spr_set.1
 9860                        	
 9861                        		.dbg	line,	"include\routines_LEVELS.c", 1183; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 9862                        		__st.umiq	136, _al
         1D:D7D1  A9 88      			lda.l	#136
         1D:D7D3  85 F8      			sta	_al
 9863                        		__ld.uiq	0
         1D:D7D5  62         			cla
 9864                        		__call		_spr_ctrl.2
         1D:D7D6  20 50 E8   			call	_spr_ctrl.2
 9865                        	
 9866                        		.dbg	line,	"include\routines_LEVELS.c", 1185; spr_set(weapon_id);
 9867                        		__ld.umq	_weapon_id
         1D:D7D9  AD 29 23   			lda	_weapon_id
 9868                        		__call		_spr_set.1
         1D:D7DC  20 F1 E7   			call	_spr_set.1
 9869                        	
 9870                        		.dbg	line,	"include\routines_LEVELS.c", 1186; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 9871                        		__st.umiq	136, _al
         1D:D7DF  A9 88      			lda.l	#136
         1D:D7E1  85 F8      			sta	_al
 9872                        		__ld.uiq	0
         1D:D7E3  62         			cla
 9873                        		__call		_spr_ctrl.2
         1D:D7E4  20 50 E8   			call	_spr_ctrl.2
 9874                        	
 9875                        		.dbg	line,	"include\routines_LEVELS.c", 1187; spr_x(player_pos_x+17);
 9876                        		__ld.wm		_player_pos_x
         1D:D7E7  AD 01 25   			lda.l	_player_pos_x
         1D:D7EA  AC 02 25   			ldy.h	_player_pos_x
 9877                        		__add.wi	17
         1D:D7ED  18         			clc
         1D:D7EE  69 11      			adc.l	#17
         1D:D7F0  90 01      			bcc	!+
         1D:D7F2  C8         			iny
         1D:D7F3             	!:
 9878                        		__call		_spr_x.1
         1D:D7F3  20 1E E8   			call	_spr_x.1
 9879                        	
 9880                        		.dbg	line,	"include\routines_LEVELS.c", 1188; }
 9881                        	
 9882                        		.dbg	line,	"include\routines_LEVELS.c", 1189; }
 9883    1D:D7F6             	.LL438	.alias		.LL439
 9884                        	
 9885                        		.dbg	line,	"include\routines_LEVELS.c", 1190; }
 9886    1D:D7F6             	.LL437	.alias		.LL439
 9887                        	
 9888                        		.dbg	line,	"include\routines_LEVELS.c", 1193; else if(player_state == STATE_CLIMB_UP || player_state == STATE_CLIMB_DOWN)
 9889                        		__bra		.LL439
         1D:D7F6  4C 22 DF   			bra	.LL439
 9890    1D:D7F9             	.LL436:
 9891                        		__ld.umq	_player_state
         1D:D7F9  AD 1B 23   			lda	_player_state
 9892                        		__equ_b.uiq	11
         1D:D7FC  C9 0B      			cmp	#11
         1D:D7FE  F0 01      			beq	!+
         1D:D800  18         			clc
         1D:D801             	!:
 9893                        		__btrue		.LL441
         1D:D801  B0 08      			bcs	.LL441
 9894                        		__ld.umq	_player_state
         1D:D803  AD 1B 23   			lda	_player_state
 9895                        		__equ_b.uiq	12
         1D:D806  C9 0C      			cmp	#12
         1D:D808  F0 01      			beq	!+
         1D:D80A  18         			clc
         1D:D80B             	!:
 9896    1D:D80B             	.LL441:
 9897                        		__bfalse	.LL440
         1D:D80B  B0 03 4C 22			bcc	.LL440
         1D:D80F  DF          
 9898                        	
 9899                        		.dbg	line,	"include\routines_LEVELS.c", 1194; {
 9900                        	
 9901                        		.dbg	line,	"include\routines_LEVELS.c", 1195; spr_set(player_id);
 9902                        		__ld.umq	_player_id
         1D:D810  AD 1A 23   			lda	_player_id
 9903                        		__call		_spr_set.1
         1D:D813  20 F1 E7   			call	_spr_set.1
 9904                        	
 9905                        		.dbg	line,	"include\routines_LEVELS.c", 1196; spr_pattern(PLAYER_HANG_VRAM_ADR);
 9906                        		__ld.wi		8448
         1D:D816  62         			cla
         1D:D817  A0 21      			ldy.h	#8448
 9907                        		__call		_spr_pattern.1
         1D:D819  20 3A E8   			call	_spr_pattern.1
 9908                        	
 9909                        		.dbg	line,	"include\routines_LEVELS.c", 1197; player_counter_anim = 0;
 9910                        		__st.umiq	0, _player_counter_anim
         1D:D81C  9C 1E 23   			stz	_player_counter_anim
 9911                        	
 9912                        		.dbg	line,	"include\routines_LEVELS.c", 1198; player_state = STATE_HANG;
 9913                        		__st.umiq	10, _player_state
         1D:D81F  A9 0A      			lda.l	#10
         1D:D821  8D 1B 23   			sta	_player_state
 9914                        	
 9915                        		.dbg	line,	"include\routines_LEVELS.c", 1199; }
 9916                        	
 9917                        		.dbg	line,	"include\routines_LEVELS.c", 1200; }
 9918    1D:D824             	.LL440	.alias		.LL442
 9919    1D:D824             	.LL439	.alias		.LL442
 9920    1D:D824             	.LL435	.alias		.LL442
 9921    1D:D824             	.LL431	.alias		.LL442
 9922    1D:D824             	.LL425	.alias		.LL442
 9923    1D:D824             	.LL420	.alias		.LL442
 9924    1D:D824             	.LL413	.alias		.LL442
 9925                        	
 9926                        		.dbg	line,	"include\routines_LEVELS.c", 1203; //--------------------------------------------------------------------------------------//
 9927                        	
 9928                        		.dbg	line,	"include\routines_LEVELS.c", 1204; //                                     LEFT BUTTON                                      //
 9929                        	
 9930                        		.dbg	line,	"include\routines_LEVELS.c", 1205; //--------------------------------------------------------------------------------------//
 9931                        	
 9932                        		.dbg	line,	"include\routines_LEVELS.c", 1207; else if(joy(JOYPAD_1) & JOY_LEFT)
 9933                        		__bra		.LL442
         1D:D824  4C 22 DF   			bra	.LL442
 9934    1D:D827             	.LL408:
 9935                        		__ld.uiq	0
         1D:D827  62         			cla
 9936                        		 _joy.1
         1D:D828  AA         			tax
         1D:D829  BD 28 22   			lda	joynow, x
         1D:D82C  BC D3 22   			ldy	joy6now, x
 9937                        		__tand.wi	128
         1D:D82F  29 80      			and	#128
         1D:D831  C9 01      	!:		cmp	#1
 9938                        		__bfalse	.LL443
         1D:D833  B0 03 4C CB			bcc	.LL443
         1D:D837  DC          
 9939                        	
 9940                        		.dbg	line,	"include\routines_LEVELS.c", 1208; {
 9941                        	
 9942                        		.dbg	line,	"include\routines_LEVELS.c", 1209; if(player_state == STATE_IDLE || player_state == STATE_WALK)
 9943                        		__not.um	_player_state
         1D:D838  AD 1B 23   			lda	_player_state
         1D:D83B  18         			clc
         1D:D83C  D0 01      			bne	!+
         1D:D83E  38         			sec
         1D:D83F             	!:
 9944                        		__btrue		.LL445
         1D:D83F  B0 08      			bcs	.LL445
 9945                        		__ld.umq	_player_state
         1D:D841  AD 1B 23   			lda	_player_state
 9946                        		__equ_b.uiq	1
         1D:D844  C9 01      			cmp	#1
         1D:D846  F0 01      			beq	!+
         1D:D848  18         			clc
         1D:D849             	!:
 9947    1D:D849             	.LL445:
 9948                        		__bfalse	.LL444
         1D:D849  B0 03 4C EF			bcc	.LL444
         1D:D84D  D8          
 9949                        	
 9950                        		.dbg	line,	"include\routines_LEVELS.c", 1210; {
 9951                        	
 9952                        		.dbg	line,	"include\routines_LEVELS.c", 1211; player_axis = AXIS_LEFT;
 9953                        		__st.umiq	1, _player_axis
         1D:D84E  A9 01      			lda.l	#1
         1D:D850  8D 1C 23   			sta	_player_axis
 9954                        	
 9955                        		.dbg	line,	"include\routines_LEVELS.c", 1213; if(player_previous_axis != player_axis)
 9956                        		__ld.umq	_player_previous_axis
         1D:D853  AD 1D 23   			lda	_player_previous_axis
 9957                        		__neq_b.umq	_player_axis
         1D:D856  38         			sec
         1D:D857  4D 1C 23   			eor	_player_axis
         1D:D85A  D0 01      			bne	!+
         1D:D85C  18         			clc
         1D:D85D             	!:
 9958                        		__bfalse	.LL446
         1D:D85D  90 6D      			bcc	.LL446
 9959                        	
 9960                        		.dbg	line,	"include\routines_LEVELS.c", 1214; {
 9961                        	
 9962                        		.dbg	line,	"include\routines_LEVELS.c", 1215; player_previous_axis = player_axis;
 9963                        		__ld.um		_player_axis
         1D:D85F  AD 1C 23   			lda	_player_axis
         1D:D862  C2         			cly
 9964                        		__st.umq	_player_previous_axis
         1D:D863  8D 1D 23   			sta	_player_previous_axis
 9965                        	
 9966                        		.dbg	line,	"include\routines_LEVELS.c", 1217; spr_set(player_id);
 9967                        		__ld.umq	_player_id
         1D:D866  AD 1A 23   			lda	_player_id
 9968                        		__call		_spr_set.1
         1D:D869  20 F1 E7   			call	_spr_set.1
 9969                        	
 9970                        		.dbg	line,	"include\routines_LEVELS.c", 1218; spr_ctrl(FLIP_MAS, FLIP_X);
 9971                        		__st.umiq	136, _al
         1D:D86C  A9 88      			lda.l	#136
         1D:D86E  85 F8      			sta	_al
 9972                        		__ld.uiq	8
         1D:D870  A9 08      			lda	#8
 9973                        		__call		_spr_ctrl.2
         1D:D872  20 50 E8   			call	_spr_ctrl.2
 9974                        	
 9975                        		.dbg	line,	"include\routines_LEVELS.c", 1220; spr_set(chain_id);
 9976                        		__ld.umq	_chain_id
         1D:D875  AD 28 23   			lda	_chain_id
 9977                        		__call		_spr_set.1
         1D:D878  20 F1 E7   			call	_spr_set.1
 9978                        	
 9979                        		.dbg	line,	"include\routines_LEVELS.c", 1221; spr_ctrl(FLIP_MAS, FLIP_X);
 9980                        		__st.umiq	136, _al
         1D:D87B  A9 88      			lda.l	#136
         1D:D87D  85 F8      			sta	_al
 9981                        		__ld.uiq	8
         1D:D87F  A9 08      			lda	#8
 9982                        		__call		_spr_ctrl.2
         1D:D881  20 50 E8   			call	_spr_ctrl.2
 9983                        	
 9984                        		.dbg	line,	"include\routines_LEVELS.c", 1223; spr_set(chain_id+1);
 9985                        		__ld.um		_chain_id
         1D:D884  AD 28 23   			lda	_chain_id
         1D:D887  C2         			cly
 9986                        		__add.wi	1
         1D:D888  1A         			inc	a
         1D:D889  D0 01      			bne	!+
         1D:D88B  C8         			iny
         1D:D88C             	!:
 9987                        		__call		_spr_set.1
         1D:D88C  20 F1 E7   			call	_spr_set.1
 9988                        	
 9989                        		.dbg	line,	"include\routines_LEVELS.c", 1224; spr_ctrl(FLIP_MAS, FLIP_X);
 9990                        		__st.umiq	136, _al
         1D:D88F  A9 88      			lda.l	#136
         1D:D891  85 F8      			sta	_al
 9991                        		__ld.uiq	8
         1D:D893  A9 08      			lda	#8
 9992                        		__call		_spr_ctrl.2
         1D:D895  20 50 E8   			call	_spr_ctrl.2
 9993                        	
 9994                        		.dbg	line,	"include\routines_LEVELS.c", 1226; spr_set(chain_id+2);
 9995                        		__ld.um		_chain_id
         1D:D898  AD 28 23   			lda	_chain_id
         1D:D89B  C2         			cly
 9996                        		__add.wi	2
         1D:D89C  18         			clc
         1D:D89D  69 02      			adc.l	#2
         1D:D89F  90 01      			bcc	!+
         1D:D8A1  C8         			iny
         1D:D8A2             	!:
 9997                        		__call		_spr_set.1
         1D:D8A2  20 F1 E7   			call	_spr_set.1
 9998                        	
 9999                        		.dbg	line,	"include\routines_LEVELS.c", 1227; spr_ctrl(FLIP_MAS, FLIP_X);
10000                        		__st.umiq	136, _al
         1D:D8A5  A9 88      			lda.l	#136
         1D:D8A7  85 F8      			sta	_al
10001                        		__ld.uiq	8
         1D:D8A9  A9 08      			lda	#8
10002                        		__call		_spr_ctrl.2
         1D:D8AB  20 50 E8   			call	_spr_ctrl.2
10003                        	
10004                        		.dbg	line,	"include\routines_LEVELS.c", 1229; spr_set(weapon_id);
10005                        		__ld.umq	_weapon_id
         1D:D8AE  AD 29 23   			lda	_weapon_id
10006                        		__call		_spr_set.1
         1D:D8B1  20 F1 E7   			call	_spr_set.1
10007                        	
10008                        		.dbg	line,	"include\routines_LEVELS.c", 1230; spr_ctrl(FLIP_MAS, FLIP_X);
10009                        		__st.umiq	136, _al
         1D:D8B4  A9 88      			lda.l	#136
         1D:D8B6  85 F8      			sta	_al
10010                        		__ld.uiq	8
         1D:D8B8  A9 08      			lda	#8
10011                        		__call		_spr_ctrl.2
         1D:D8BA  20 50 E8   			call	_spr_ctrl.2
10012                        	
10013                        		.dbg	line,	"include\routines_LEVELS.c", 1231; spr_x(player_pos_x+15);
10014                        		__ld.wm		_player_pos_x
         1D:D8BD  AD 01 25   			lda.l	_player_pos_x
         1D:D8C0  AC 02 25   			ldy.h	_player_pos_x
10015                        		__add.wi	15
         1D:D8C3  18         			clc
         1D:D8C4  69 0F      			adc.l	#15
         1D:D8C6  90 01      			bcc	!+
         1D:D8C8  C8         			iny
         1D:D8C9             	!:
10016                        		__call		_spr_x.1
         1D:D8C9  20 1E E8   			call	_spr_x.1
10017                        	
10018                        		.dbg	line,	"include\routines_LEVELS.c", 1232; }
10019                        	
10020                        		.dbg	line,	"include\routines_LEVELS.c", 1234; if(joy(JOYPAD_1) & JOY_DOWN)
10021    1D:D8CC             	.LL446:
10022                        		__ld.uiq	0
         1D:D8CC  62         			cla
10023                        		 _joy.1
         1D:D8CD  AA         			tax
         1D:D8CE  BD 28 22   			lda	joynow, x
         1D:D8D1  BC D3 22   			ldy	joy6now, x
10024                        		__tand.wi	64
         1D:D8D4  29 40      			and	#64
         1D:D8D6  C9 01      	!:		cmp	#1
10025                        		__bfalse	.LL447
         1D:D8D8  90 0D      			bcc	.LL447
10026                        	
10027                        		.dbg	line,	"include\routines_LEVELS.c", 1235; {
10028                        	
10029                        		.dbg	line,	"include\routines_LEVELS.c", 1236; player_counter_anim = 1;
10030                        		__st.umiq	1, _player_counter_anim
         1D:D8DA  A9 01      			lda.l	#1
         1D:D8DC  8D 1E 23   			sta	_player_counter_anim
10031                        	
10032                        		.dbg	line,	"include\routines_LEVELS.c", 1237; player_state = STATE_CROUCH;
10033                        		__st.umiq	7, _player_state
         1D:D8DF  A9 07      			lda.l	#7
         1D:D8E1  8D 1B 23   			sta	_player_state
10034                        	
10035                        		.dbg	line,	"include\routines_LEVELS.c", 1238; return;
10036                        		__bra		.LL399
         1D:D8E4  4C 22 DF   			bra	.LL399
10037                        	
10038                        		.dbg	line,	"include\routines_LEVELS.c", 1239; }
10039                        	
10040                        		.dbg	line,	"include\routines_LEVELS.c", 1241; player_state = STATE_WALK;
10041    1D:D8E7             	.LL447:
10042                        		__st.umiq	1, _player_state
         1D:D8E7  A9 01      			lda.l	#1
         1D:D8E9  8D 1B 23   			sta	_player_state
10043                        	
10044                        		.dbg	line,	"include\routines_LEVELS.c", 1242; }
10045                        	
10046                        		.dbg	line,	"include\routines_LEVELS.c", 1245; else if(player_state == STATE_JUMP || player_state == STATE_JUMP_LADDER)
10047                        		__bra		.LL448
         1D:D8EC  4C 22 DF   			bra	.LL448
10048    1D:D8EF             	.LL444:
10049                        		__ld.umq	_player_state
         1D:D8EF  AD 1B 23   			lda	_player_state
10050                        		__equ_b.uiq	4
         1D:D8F2  C9 04      			cmp	#4
         1D:D8F4  F0 01      			beq	!+
         1D:D8F6  18         			clc
         1D:D8F7             	!:
10051                        		__btrue		.LL450
         1D:D8F7  B0 08      			bcs	.LL450
10052                        		__ld.umq	_player_state
         1D:D8F9  AD 1B 23   			lda	_player_state
10053                        		__equ_b.uiq	13
         1D:D8FC  C9 0D      			cmp	#13
         1D:D8FE  F0 01      			beq	!+
         1D:D900  18         			clc
         1D:D901             	!:
10054    1D:D901             	.LL450:
10055                        		__bfalse	.LL449
         1D:D901  B0 03 4C B3			bcc	.LL449
         1D:D905  D9          
10056                        	
10057                        		.dbg	line,	"include\routines_LEVELS.c", 1246; {
10058                        	
10059                        		.dbg	line,	"include\routines_LEVELS.c", 1247; if(player_attack == FALSE)
10060                        		__not.um	_player_attack
         1D:D906  AD 23 23   			lda	_player_attack
         1D:D909  18         			clc
         1D:D90A  D0 01      			bne	!+
         1D:D90C  38         			sec
         1D:D90D             	!:
10061                        		__bfalse	.LL451
         1D:D90D  B0 03 4C 22			bcc	.LL451
         1D:D911  DF          
10062                        	
10063                        		.dbg	line,	"include\routines_LEVELS.c", 1248; {
10064                        	
10065                        		.dbg	line,	"include\routines_LEVELS.c", 1249; jump_ladder = FALSE;
10066                        		__st.umiq	0, _jump_ladder
         1D:D912  9C 24 23   			stz	_jump_ladder
10067                        	
10068                        		.dbg	line,	"include\routines_LEVELS.c", 1250; 
10069                        	
10070                        		.dbg	line,	"include\routines_LEVELS.c", 1251; if(player_axis == AXIS_RIGHT)
10071                        		__not.um	_player_axis
         1D:D915  AD 1C 23   			lda	_player_axis
         1D:D918  18         			clc
         1D:D919  D0 01      			bne	!+
         1D:D91B  38         			sec
         1D:D91C             	!:
10072                        		__bfalse	.LL452
         1D:D91C  90 72      			bcc	.LL452
10073                        	
10074                        		.dbg	line,	"include\routines_LEVELS.c", 1252; {
10075                        	
10076                        		.dbg	line,	"include\routines_LEVELS.c", 1253; player_axis = AXIS_LEFT;
10077                        		__st.umiq	1, _player_axis
         1D:D91E  A9 01      			lda.l	#1
         1D:D920  8D 1C 23   			sta	_player_axis
10078                        	
10079                        		.dbg	line,	"include\routines_LEVELS.c", 1254; player_previous_axis = player_axis;
10080                        		__ld.um		_player_axis
         1D:D923  AD 1C 23   			lda	_player_axis
         1D:D926  C2         			cly
10081                        		__st.umq	_player_previous_axis
         1D:D927  8D 1D 23   			sta	_player_previous_axis
10082                        	
10083                        		.dbg	line,	"include\routines_LEVELS.c", 1256; spr_set(player_id);
10084                        		__ld.umq	_player_id
         1D:D92A  AD 1A 23   			lda	_player_id
10085                        		__call		_spr_set.1
         1D:D92D  20 F1 E7   			call	_spr_set.1
10086                        	
10087                        		.dbg	line,	"include\routines_LEVELS.c", 1257; spr_ctrl(FLIP_MAS, FLIP_X);
10088                        		__st.umiq	136, _al
         1D:D930  A9 88      			lda.l	#136
         1D:D932  85 F8      			sta	_al
10089                        		__ld.uiq	8
         1D:D934  A9 08      			lda	#8
10090                        		__call		_spr_ctrl.2
         1D:D936  20 50 E8   			call	_spr_ctrl.2
10091                        	
10092                        		.dbg	line,	"include\routines_LEVELS.c", 1259; spr_set(chain_id);
10093                        		__ld.umq	_chain_id
         1D:D939  AD 28 23   			lda	_chain_id
10094                        		__call		_spr_set.1
         1D:D93C  20 F1 E7   			call	_spr_set.1
10095                        	
10096                        		.dbg	line,	"include\routines_LEVELS.c", 1260; spr_ctrl(FLIP_MAS, FLIP_X);
10097                        		__st.umiq	136, _al
         1D:D93F  A9 88      			lda.l	#136
         1D:D941  85 F8      			sta	_al
10098                        		__ld.uiq	8
         1D:D943  A9 08      			lda	#8
10099                        		__call		_spr_ctrl.2
         1D:D945  20 50 E8   			call	_spr_ctrl.2
10100                        	
10101                        		.dbg	line,	"include\routines_LEVELS.c", 1262; spr_set(chain_id+1);
10102                        		__ld.um		_chain_id
         1D:D948  AD 28 23   			lda	_chain_id
         1D:D94B  C2         			cly
10103                        		__add.wi	1
         1D:D94C  1A         			inc	a
         1D:D94D  D0 01      			bne	!+
         1D:D94F  C8         			iny
         1D:D950             	!:
10104                        		__call		_spr_set.1
         1D:D950  20 F1 E7   			call	_spr_set.1
10105                        	
10106                        		.dbg	line,	"include\routines_LEVELS.c", 1263; spr_ctrl(FLIP_MAS, FLIP_X);
10107                        		__st.umiq	136, _al
         1D:D953  A9 88      			lda.l	#136
         1D:D955  85 F8      			sta	_al
10108                        		__ld.uiq	8
         1D:D957  A9 08      			lda	#8
10109                        		__call		_spr_ctrl.2
         1D:D959  20 50 E8   			call	_spr_ctrl.2
10110                        	
10111                        		.dbg	line,	"include\routines_LEVELS.c", 1265; spr_set(chain_id+2);
10112                        		__ld.um		_chain_id
         1D:D95C  AD 28 23   			lda	_chain_id
         1D:D95F  C2         			cly
10113                        		__add.wi	2
         1D:D960  18         			clc
         1D:D961  69 02      			adc.l	#2
         1D:D963  90 01      			bcc	!+
         1D:D965  C8         			iny
         1D:D966             	!:
10114                        		__call		_spr_set.1
         1D:D966  20 F1 E7   			call	_spr_set.1
10115                        	
10116                        		.dbg	line,	"include\routines_LEVELS.c", 1266; spr_ctrl(FLIP_MAS, FLIP_X);
10117                        		__st.umiq	136, _al
         1D:D969  A9 88      			lda.l	#136
         1D:D96B  85 F8      			sta	_al
10118                        		__ld.uiq	8
         1D:D96D  A9 08      			lda	#8
10119                        		__call		_spr_ctrl.2
         1D:D96F  20 50 E8   			call	_spr_ctrl.2
10120                        	
10121                        		.dbg	line,	"include\routines_LEVELS.c", 1268; spr_set(weapon_id);
10122                        		__ld.umq	_weapon_id
         1D:D972  AD 29 23   			lda	_weapon_id
10123                        		__call		_spr_set.1
         1D:D975  20 F1 E7   			call	_spr_set.1
10124                        	
10125                        		.dbg	line,	"include\routines_LEVELS.c", 1269; spr_ctrl(FLIP_MAS, FLIP_X);
10126                        		__st.umiq	136, _al
         1D:D978  A9 88      			lda.l	#136
         1D:D97A  85 F8      			sta	_al
10127                        		__ld.uiq	8
         1D:D97C  A9 08      			lda	#8
10128                        		__call		_spr_ctrl.2
         1D:D97E  20 50 E8   			call	_spr_ctrl.2
10129                        	
10130                        		.dbg	line,	"include\routines_LEVELS.c", 1270; spr_x(player_pos_x+21);
10131                        		__ld.wm		_player_pos_x
         1D:D981  AD 01 25   			lda.l	_player_pos_x
         1D:D984  AC 02 25   			ldy.h	_player_pos_x
10132                        		__add.wi	21
         1D:D987  18         			clc
         1D:D988  69 15      			adc.l	#21
         1D:D98A  90 01      			bcc	!+
         1D:D98C  C8         			iny
         1D:D98D             	!:
10133                        		__call		_spr_x.1
         1D:D98D  20 1E E8   			call	_spr_x.1
10134                        	
10135                        		.dbg	line,	"include\routines_LEVELS.c", 1271; }
10136                        	
10137                        		.dbg	line,	"include\routines_LEVELS.c", 1273; if(player_index_jump > 10 && player_index_jump < 15)
10138    1D:D990             	.LL452:
10139                        		__ld.umq	_player_index_jump
         1D:D990  AD 1F 23   			lda	_player_index_jump
10140                        		__ugt_b.uiq	10
         1D:D993  18         			clc			; Subtract integer+1 from A.
         1D:D994  E9 0A      			sbc	#10		; CS if A > integer.
10141                        		__bfalse	.LL454
         1D:D996  90 09      			bcc	.LL454
10142                        		__ld.umq	_player_index_jump
         1D:D998  AD 1F 23   			lda	_player_index_jump
10143                        		__ult_b.uiq	15
         1D:D99B  C9 0F      			cmp	#15		; Subtract integer from A.
         1D:D99D  6A         			ror	a		; CC if A < integer.
         1D:D99E  49 80      			eor	#$80
         1D:D9A0  2A         			rol	a
10144    1D:D9A1             	.LL454:
10145                        		__bfalse	.LL453
         1D:D9A1  B0 03 4C 22			bcc	.LL453
         1D:D9A5  DF          
10146                        	
10147                        		.dbg	line,	"include\routines_LEVELS.c", 1274; {
10148                        	
10149                        		.dbg	line,	"include\routines_LEVELS.c", 1275; jump_max_index = 35;
10150                        		__st.umiq	35, _jump_max_index
         1D:D9A6  A9 23      			lda.l	#35
         1D:D9A8  8D 25 23   			sta	_jump_max_index
10151                        	
10152                        		.dbg	line,	"include\routines_LEVELS.c", 1276; 
10153                        	
10154                        		.dbg	line,	"include\routines_LEVELS.c", 1277; player_state = STATE_JUMP_LEFT;                        
10155                        		__st.umiq	6, _player_state
         1D:D9AB  A9 06      			lda.l	#6
         1D:D9AD  8D 1B 23   			sta	_player_state
10156                        	
10157                        		.dbg	line,	"include\routines_LEVELS.c", 1278; }
10158                        	
10159                        		.dbg	line,	"include\routines_LEVELS.c", 1279; }
10160    1D:D9B0             	.LL453	.alias		.LL455
10161                        	
10162                        		.dbg	line,	"include\routines_LEVELS.c", 1280; }
10163    1D:D9B0             	.LL451	.alias		.LL455
10164                        	
10165                        		.dbg	line,	"include\routines_LEVELS.c", 1283; else if(player_state == STATE_JUMP_RIGHT || player_state == STATE_JUMP_LEFT)
10166                        		__bra		.LL455
         1D:D9B0  4C 22 DF   			bra	.LL455
10167    1D:D9B3             	.LL449:
10168                        		__ld.umq	_player_state
         1D:D9B3  AD 1B 23   			lda	_player_state
10169                        		__equ_b.uiq	5
         1D:D9B6  C9 05      			cmp	#5
         1D:D9B8  F0 01      			beq	!+
         1D:D9BA  18         			clc
         1D:D9BB             	!:
10170                        		__btrue		.LL457
         1D:D9BB  B0 08      			bcs	.LL457
10171                        		__ld.umq	_player_state
         1D:D9BD  AD 1B 23   			lda	_player_state
10172                        		__equ_b.uiq	6
         1D:D9C0  C9 06      			cmp	#6
         1D:D9C2  F0 01      			beq	!+
         1D:D9C4  18         			clc
         1D:D9C5             	!:
10173    1D:D9C5             	.LL457:
10174                        		__bfalse	.LL456
         1D:D9C5  B0 03 4C 57			bcc	.LL456
         1D:D9C9  DA          
10175                        	
10176                        		.dbg	line,	"include\routines_LEVELS.c", 1284; {
10177                        	
10178                        		.dbg	line,	"include\routines_LEVELS.c", 1285; if(player_attack == FALSE)
10179                        		__not.um	_player_attack
         1D:D9CA  AD 23 23   			lda	_player_attack
         1D:D9CD  18         			clc
         1D:D9CE  D0 01      			bne	!+
         1D:D9D0  38         			sec
         1D:D9D1             	!:
10180                        		__bfalse	.LL458
         1D:D9D1  B0 03 4C 22			bcc	.LL458
         1D:D9D5  DF          
10181                        	
10182                        		.dbg	line,	"include\routines_LEVELS.c", 1286; {
10183                        	
10184                        		.dbg	line,	"include\routines_LEVELS.c", 1287; if(player_axis == AXIS_RIGHT)
10185                        		__not.um	_player_axis
         1D:D9D6  AD 1C 23   			lda	_player_axis
         1D:D9D9  18         			clc
         1D:D9DA  D0 01      			bne	!+
         1D:D9DC  38         			sec
         1D:D9DD             	!:
10186                        		__bfalse	.LL459
         1D:D9DD  B0 03 4C 22			bcc	.LL459
         1D:D9E1  DF          
10187                        	
10188                        		.dbg	line,	"include\routines_LEVELS.c", 1288; {
10189                        	
10190                        		.dbg	line,	"include\routines_LEVELS.c", 1289; player_axis = AXIS_LEFT;
10191                        		__st.umiq	1, _player_axis
         1D:D9E2  A9 01      			lda.l	#1
         1D:D9E4  8D 1C 23   			sta	_player_axis
10192                        	
10193                        		.dbg	line,	"include\routines_LEVELS.c", 1290; player_previous_axis = player_axis;
10194                        		__ld.um		_player_axis
         1D:D9E7  AD 1C 23   			lda	_player_axis
         1D:D9EA  C2         			cly
10195                        		__st.umq	_player_previous_axis
         1D:D9EB  8D 1D 23   			sta	_player_previous_axis
10196                        	
10197                        		.dbg	line,	"include\routines_LEVELS.c", 1292; spr_set(player_id);
10198                        		__ld.umq	_player_id
         1D:D9EE  AD 1A 23   			lda	_player_id
10199                        		__call		_spr_set.1
         1D:D9F1  20 F1 E7   			call	_spr_set.1
10200                        	
10201                        		.dbg	line,	"include\routines_LEVELS.c", 1293; spr_ctrl(FLIP_MAS, FLIP_X);
10202                        		__st.umiq	136, _al
         1D:D9F4  A9 88      			lda.l	#136
         1D:D9F6  85 F8      			sta	_al
10203                        		__ld.uiq	8
         1D:D9F8  A9 08      			lda	#8
10204                        		__call		_spr_ctrl.2
         1D:D9FA  20 50 E8   			call	_spr_ctrl.2
10205                        	
10206                        		.dbg	line,	"include\routines_LEVELS.c", 1295; spr_set(chain_id);
10207                        		__ld.umq	_chain_id
         1D:D9FD  AD 28 23   			lda	_chain_id
10208                        		__call		_spr_set.1
         1D:DA00  20 F1 E7   			call	_spr_set.1
10209                        	
10210                        		.dbg	line,	"include\routines_LEVELS.c", 1296; spr_ctrl(FLIP_MAS, FLIP_X);
10211                        		__st.umiq	136, _al
         1D:DA03  A9 88      			lda.l	#136
         1D:DA05  85 F8      			sta	_al
10212                        		__ld.uiq	8
         1D:DA07  A9 08      			lda	#8
10213                        		__call		_spr_ctrl.2
         1D:DA09  20 50 E8   			call	_spr_ctrl.2
10214                        	
10215                        		.dbg	line,	"include\routines_LEVELS.c", 1298; spr_set(chain_id+1);
10216                        		__ld.um		_chain_id
         1D:DA0C  AD 28 23   			lda	_chain_id
         1D:DA0F  C2         			cly
10217                        		__add.wi	1
         1D:DA10  1A         			inc	a
         1D:DA11  D0 01      			bne	!+
         1D:DA13  C8         			iny
         1D:DA14             	!:
10218                        		__call		_spr_set.1
         1D:DA14  20 F1 E7   			call	_spr_set.1
10219                        	
10220                        		.dbg	line,	"include\routines_LEVELS.c", 1299; spr_ctrl(FLIP_MAS, FLIP_X);
10221                        		__st.umiq	136, _al
         1D:DA17  A9 88      			lda.l	#136
         1D:DA19  85 F8      			sta	_al
10222                        		__ld.uiq	8
         1D:DA1B  A9 08      			lda	#8
10223                        		__call		_spr_ctrl.2
         1D:DA1D  20 50 E8   			call	_spr_ctrl.2
10224                        	
10225                        		.dbg	line,	"include\routines_LEVELS.c", 1301; spr_set(chain_id+2);
10226                        		__ld.um		_chain_id
         1D:DA20  AD 28 23   			lda	_chain_id
         1D:DA23  C2         			cly
10227                        		__add.wi	2
         1D:DA24  18         			clc
         1D:DA25  69 02      			adc.l	#2
         1D:DA27  90 01      			bcc	!+
         1D:DA29  C8         			iny
         1D:DA2A             	!:
10228                        		__call		_spr_set.1
         1D:DA2A  20 F1 E7   			call	_spr_set.1
10229                        	
10230                        		.dbg	line,	"include\routines_LEVELS.c", 1302; spr_ctrl(FLIP_MAS, FLIP_X);
10231                        		__st.umiq	136, _al
         1D:DA2D  A9 88      			lda.l	#136
         1D:DA2F  85 F8      			sta	_al
10232                        		__ld.uiq	8
         1D:DA31  A9 08      			lda	#8
10233                        		__call		_spr_ctrl.2
         1D:DA33  20 50 E8   			call	_spr_ctrl.2
10234                        	
10235                        		.dbg	line,	"include\routines_LEVELS.c", 1304; spr_set(weapon_id);
10236                        		__ld.umq	_weapon_id
         1D:DA36  AD 29 23   			lda	_weapon_id
10237                        		__call		_spr_set.1
         1D:DA39  20 F1 E7   			call	_spr_set.1
10238                        	
10239                        		.dbg	line,	"include\routines_LEVELS.c", 1305; spr_ctrl(FLIP_MAS, FLIP_X);
10240                        		__st.umiq	136, _al
         1D:DA3C  A9 88      			lda.l	#136
         1D:DA3E  85 F8      			sta	_al
10241                        		__ld.uiq	8
         1D:DA40  A9 08      			lda	#8
10242                        		__call		_spr_ctrl.2
         1D:DA42  20 50 E8   			call	_spr_ctrl.2
10243                        	
10244                        		.dbg	line,	"include\routines_LEVELS.c", 1306; spr_x(player_pos_x+21);
10245                        		__ld.wm		_player_pos_x
         1D:DA45  AD 01 25   			lda.l	_player_pos_x
         1D:DA48  AC 02 25   			ldy.h	_player_pos_x
10246                        		__add.wi	21
         1D:DA4B  18         			clc
         1D:DA4C  69 15      			adc.l	#21
         1D:DA4E  90 01      			bcc	!+
         1D:DA50  C8         			iny
         1D:DA51             	!:
10247                        		__call		_spr_x.1
         1D:DA51  20 1E E8   			call	_spr_x.1
10248                        	
10249                        		.dbg	line,	"include\routines_LEVELS.c", 1307; }
10250                        	
10251                        		.dbg	line,	"include\routines_LEVELS.c", 1308; }
10252    1D:DA54             	.LL459	.alias		.LL460
10253                        	
10254                        		.dbg	line,	"include\routines_LEVELS.c", 1309; }
10255    1D:DA54             	.LL458	.alias		.LL460
10256                        	
10257                        		.dbg	line,	"include\routines_LEVELS.c", 1312; else if(player_state == STATE_CROUCH)
10258                        		__bra		.LL460
         1D:DA54  4C 22 DF   			bra	.LL460
10259    1D:DA57             	.LL456:
10260                        		__ld.umq	_player_state
         1D:DA57  AD 1B 23   			lda	_player_state
10261                        		__equ_b.uiq	7
         1D:DA5A  C9 07      			cmp	#7
         1D:DA5C  F0 01      			beq	!+
         1D:DA5E  18         			clc
         1D:DA5F             	!:
10262                        		__bfalse	.LL461
         1D:DA5F  B0 03 4C 81			bcc	.LL461
         1D:DA63  DB          
10263                        	
10264                        		.dbg	line,	"include\routines_LEVELS.c", 1313; {
10265                        	
10266                        		.dbg	line,	"include\routines_LEVELS.c", 1314; if(joy(JOYPAD_1) & JOY_DOWN)
10267                        		__ld.uiq	0
         1D:DA64  62         			cla
10268                        		 _joy.1
         1D:DA65  AA         			tax
         1D:DA66  BD 28 22   			lda	joynow, x
         1D:DA69  BC D3 22   			ldy	joy6now, x
10269                        		__tand.wi	64
         1D:DA6C  29 40      			and	#64
         1D:DA6E  C9 01      	!:		cmp	#1
10270                        		__bfalse	.LL462
         1D:DA70  B0 03 4C FB			bcc	.LL462
         1D:DA74  DA          
10271                        	
10272                        		.dbg	line,	"include\routines_LEVELS.c", 1315; {
10273                        	
10274                        		.dbg	line,	"include\routines_LEVELS.c", 1316; if(joy(JOYPAD_1) & JOY_DOWN)
10275                        		__ld.uiq	0
         1D:DA75  62         			cla
10276                        		 _joy.1
         1D:DA76  AA         			tax
         1D:DA77  BD 28 22   			lda	joynow, x
         1D:DA7A  BC D3 22   			ldy	joy6now, x
10277                        		__tand.wi	64
         1D:DA7D  29 40      			and	#64
         1D:DA7F  C9 01      	!:		cmp	#1
10278                        		__bfalse	.LL463
         1D:DA81  B0 03 4C 22			bcc	.LL463
         1D:DA85  DF          
10279                        	
10280                        		.dbg	line,	"include\routines_LEVELS.c", 1317; {
10281                        	
10282                        		.dbg	line,	"include\routines_LEVELS.c", 1318; player_axis = AXIS_LEFT;
10283                        		__st.umiq	1, _player_axis
         1D:DA86  A9 01      			lda.l	#1
         1D:DA88  8D 1C 23   			sta	_player_axis
10284                        	
10285                        		.dbg	line,	"include\routines_LEVELS.c", 1319; player_previous_axis = player_axis;
10286                        		__ld.um		_player_axis
         1D:DA8B  AD 1C 23   			lda	_player_axis
         1D:DA8E  C2         			cly
10287                        		__st.umq	_player_previous_axis
         1D:DA8F  8D 1D 23   			sta	_player_previous_axis
10288                        	
10289                        		.dbg	line,	"include\routines_LEVELS.c", 1321; spr_set(player_id);
10290                        		__ld.umq	_player_id
         1D:DA92  AD 1A 23   			lda	_player_id
10291                        		__call		_spr_set.1
         1D:DA95  20 F1 E7   			call	_spr_set.1
10292                        	
10293                        		.dbg	line,	"include\routines_LEVELS.c", 1322; spr_ctrl(FLIP_MAS, FLIP_X);
10294                        		__st.umiq	136, _al
         1D:DA98  A9 88      			lda.l	#136
         1D:DA9A  85 F8      			sta	_al
10295                        		__ld.uiq	8
         1D:DA9C  A9 08      			lda	#8
10296                        		__call		_spr_ctrl.2
         1D:DA9E  20 50 E8   			call	_spr_ctrl.2
10297                        	
10298                        		.dbg	line,	"include\routines_LEVELS.c", 1324; spr_set(chain_id);
10299                        		__ld.umq	_chain_id
         1D:DAA1  AD 28 23   			lda	_chain_id
10300                        		__call		_spr_set.1
         1D:DAA4  20 F1 E7   			call	_spr_set.1
10301                        	
10302                        		.dbg	line,	"include\routines_LEVELS.c", 1325; spr_ctrl(FLIP_MAS, FLIP_X);
10303                        		__st.umiq	136, _al
         1D:DAA7  A9 88      			lda.l	#136
         1D:DAA9  85 F8      			sta	_al
10304                        		__ld.uiq	8
         1D:DAAB  A9 08      			lda	#8
10305                        		__call		_spr_ctrl.2
         1D:DAAD  20 50 E8   			call	_spr_ctrl.2
10306                        	
10307                        		.dbg	line,	"include\routines_LEVELS.c", 1327; spr_set(chain_id+1);
10308                        		__ld.um		_chain_id
         1D:DAB0  AD 28 23   			lda	_chain_id
         1D:DAB3  C2         			cly
10309                        		__add.wi	1
         1D:DAB4  1A         			inc	a
         1D:DAB5  D0 01      			bne	!+
         1D:DAB7  C8         			iny
         1D:DAB8             	!:
10310                        		__call		_spr_set.1
         1D:DAB8  20 F1 E7   			call	_spr_set.1
10311                        	
10312                        		.dbg	line,	"include\routines_LEVELS.c", 1328; spr_ctrl(FLIP_MAS, FLIP_X);
10313                        		__st.umiq	136, _al
         1D:DABB  A9 88      			lda.l	#136
         1D:DABD  85 F8      			sta	_al
10314                        		__ld.uiq	8
         1D:DABF  A9 08      			lda	#8
10315                        		__call		_spr_ctrl.2
         1D:DAC1  20 50 E8   			call	_spr_ctrl.2
10316                        	
10317                        		.dbg	line,	"include\routines_LEVELS.c", 1330; spr_set(chain_id+2);
10318                        		__ld.um		_chain_id
         1D:DAC4  AD 28 23   			lda	_chain_id
         1D:DAC7  C2         			cly
10319                        		__add.wi	2
         1D:DAC8  18         			clc
         1D:DAC9  69 02      			adc.l	#2
         1D:DACB  90 01      			bcc	!+
         1D:DACD  C8         			iny
         1D:DACE             	!:
10320                        		__call		_spr_set.1
         1D:DACE  20 F1 E7   			call	_spr_set.1
10321                        	
10322                        		.dbg	line,	"include\routines_LEVELS.c", 1331; spr_ctrl(FLIP_MAS, FLIP_X);
10323                        		__st.umiq	136, _al
         1D:DAD1  A9 88      			lda.l	#136
         1D:DAD3  85 F8      			sta	_al
10324                        		__ld.uiq	8
         1D:DAD5  A9 08      			lda	#8
10325                        		__call		_spr_ctrl.2
         1D:DAD7  20 50 E8   			call	_spr_ctrl.2
10326                        	
10327                        		.dbg	line,	"include\routines_LEVELS.c", 1333; spr_set(weapon_id);
10328                        		__ld.umq	_weapon_id
         1D:DADA  AD 29 23   			lda	_weapon_id
10329                        		__call		_spr_set.1
         1D:DADD  20 F1 E7   			call	_spr_set.1
10330                        	
10331                        		.dbg	line,	"include\routines_LEVELS.c", 1334; spr_ctrl(FLIP_MAS, FLIP_X);
10332                        		__st.umiq	136, _al
         1D:DAE0  A9 88      			lda.l	#136
         1D:DAE2  85 F8      			sta	_al
10333                        		__ld.uiq	8
         1D:DAE4  A9 08      			lda	#8
10334                        		__call		_spr_ctrl.2
         1D:DAE6  20 50 E8   			call	_spr_ctrl.2
10335                        	
10336                        		.dbg	line,	"include\routines_LEVELS.c", 1335; spr_x(player_pos_x+17);
10337                        		__ld.wm		_player_pos_x
         1D:DAE9  AD 01 25   			lda.l	_player_pos_x
         1D:DAEC  AC 02 25   			ldy.h	_player_pos_x
10338                        		__add.wi	17
         1D:DAEF  18         			clc
         1D:DAF0  69 11      			adc.l	#17
         1D:DAF2  90 01      			bcc	!+
         1D:DAF4  C8         			iny
         1D:DAF5             	!:
10339                        		__call		_spr_x.1
         1D:DAF5  20 1E E8   			call	_spr_x.1
10340                        	
10341                        		.dbg	line,	"include\routines_LEVELS.c", 1336; }
10342                        	
10343                        		.dbg	line,	"include\routines_LEVELS.c", 1337; }
10344    1D:DAF8             	.LL463	.alias		.LL464
10345                        	
10346                        		.dbg	line,	"include\routines_LEVELS.c", 1339; else
10347                        		__bra		.LL464
         1D:DAF8  4C 22 DF   			bra	.LL464
10348    1D:DAFB             	.LL462:
10349                        	
10350                        		.dbg	line,	"include\routines_LEVELS.c", 1340; {
10351                        	
10352                        		.dbg	line,	"include\routines_LEVELS.c", 1341; player_axis = AXIS_LEFT;
10353                        		__st.umiq	1, _player_axis
         1D:DAFB  A9 01      			lda.l	#1
         1D:DAFD  8D 1C 23   			sta	_player_axis
10354                        	
10355                        		.dbg	line,	"include\routines_LEVELS.c", 1343; if(player_previous_axis != player_axis)
10356                        		__ld.umq	_player_previous_axis
         1D:DB00  AD 1D 23   			lda	_player_previous_axis
10357                        		__neq_b.umq	_player_axis
         1D:DB03  38         			sec
         1D:DB04  4D 1C 23   			eor	_player_axis
         1D:DB07  D0 01      			bne	!+
         1D:DB09  18         			clc
         1D:DB0A             	!:
10358                        		__bfalse	.LL465
         1D:DB0A  90 6D      			bcc	.LL465
10359                        	
10360                        		.dbg	line,	"include\routines_LEVELS.c", 1344; {
10361                        	
10362                        		.dbg	line,	"include\routines_LEVELS.c", 1345; player_previous_axis = player_axis;
10363                        		__ld.um		_player_axis
         1D:DB0C  AD 1C 23   			lda	_player_axis
         1D:DB0F  C2         			cly
10364                        		__st.umq	_player_previous_axis
         1D:DB10  8D 1D 23   			sta	_player_previous_axis
10365                        	
10366                        		.dbg	line,	"include\routines_LEVELS.c", 1347; spr_set(player_id);
10367                        		__ld.umq	_player_id
         1D:DB13  AD 1A 23   			lda	_player_id
10368                        		__call		_spr_set.1
         1D:DB16  20 F1 E7   			call	_spr_set.1
10369                        	
10370                        		.dbg	line,	"include\routines_LEVELS.c", 1348; spr_ctrl(FLIP_MAS, FLIP_X);
10371                        		__st.umiq	136, _al
         1D:DB19  A9 88      			lda.l	#136
         1D:DB1B  85 F8      			sta	_al
10372                        		__ld.uiq	8
         1D:DB1D  A9 08      			lda	#8
10373                        		__call		_spr_ctrl.2
         1D:DB1F  20 50 E8   			call	_spr_ctrl.2
10374                        	
10375                        		.dbg	line,	"include\routines_LEVELS.c", 1350; spr_set(chain_id);
10376                        		__ld.umq	_chain_id
         1D:DB22  AD 28 23   			lda	_chain_id
10377                        		__call		_spr_set.1
         1D:DB25  20 F1 E7   			call	_spr_set.1
10378                        	
10379                        		.dbg	line,	"include\routines_LEVELS.c", 1351; spr_ctrl(FLIP_MAS, FLIP_X);
10380                        		__st.umiq	136, _al
         1D:DB28  A9 88      			lda.l	#136
         1D:DB2A  85 F8      			sta	_al
10381                        		__ld.uiq	8
         1D:DB2C  A9 08      			lda	#8
10382                        		__call		_spr_ctrl.2
         1D:DB2E  20 50 E8   			call	_spr_ctrl.2
10383                        	
10384                        		.dbg	line,	"include\routines_LEVELS.c", 1353; spr_set(chain_id+1);
10385                        		__ld.um		_chain_id
         1D:DB31  AD 28 23   			lda	_chain_id
         1D:DB34  C2         			cly
10386                        		__add.wi	1
         1D:DB35  1A         			inc	a
         1D:DB36  D0 01      			bne	!+
         1D:DB38  C8         			iny
         1D:DB39             	!:
10387                        		__call		_spr_set.1
         1D:DB39  20 F1 E7   			call	_spr_set.1
10388                        	
10389                        		.dbg	line,	"include\routines_LEVELS.c", 1354; spr_ctrl(FLIP_MAS, FLIP_X);
10390                        		__st.umiq	136, _al
         1D:DB3C  A9 88      			lda.l	#136
         1D:DB3E  85 F8      			sta	_al
10391                        		__ld.uiq	8
         1D:DB40  A9 08      			lda	#8
10392                        		__call		_spr_ctrl.2
         1D:DB42  20 50 E8   			call	_spr_ctrl.2
10393                        	
10394                        		.dbg	line,	"include\routines_LEVELS.c", 1356; spr_set(chain_id+2);
10395                        		__ld.um		_chain_id
         1D:DB45  AD 28 23   			lda	_chain_id
         1D:DB48  C2         			cly
10396                        		__add.wi	2
         1D:DB49  18         			clc
         1D:DB4A  69 02      			adc.l	#2
         1D:DB4C  90 01      			bcc	!+
         1D:DB4E  C8         			iny
         1D:DB4F             	!:
10397                        		__call		_spr_set.1
         1D:DB4F  20 F1 E7   			call	_spr_set.1
10398                        	
10399                        		.dbg	line,	"include\routines_LEVELS.c", 1357; spr_ctrl(FLIP_MAS, FLIP_X);
10400                        		__st.umiq	136, _al
         1D:DB52  A9 88      			lda.l	#136
         1D:DB54  85 F8      			sta	_al
10401                        		__ld.uiq	8
         1D:DB56  A9 08      			lda	#8
10402                        		__call		_spr_ctrl.2
         1D:DB58  20 50 E8   			call	_spr_ctrl.2
10403                        	
10404                        		.dbg	line,	"include\routines_LEVELS.c", 1359; spr_set(weapon_id);
10405                        		__ld.umq	_weapon_id
         1D:DB5B  AD 29 23   			lda	_weapon_id
10406                        		__call		_spr_set.1
         1D:DB5E  20 F1 E7   			call	_spr_set.1
10407                        	
10408                        		.dbg	line,	"include\routines_LEVELS.c", 1360; spr_ctrl(FLIP_MAS, FLIP_X);
10409                        		__st.umiq	136, _al
         1D:DB61  A9 88      			lda.l	#136
         1D:DB63  85 F8      			sta	_al
10410                        		__ld.uiq	8
         1D:DB65  A9 08      			lda	#8
10411                        		__call		_spr_ctrl.2
         1D:DB67  20 50 E8   			call	_spr_ctrl.2
10412                        	
10413                        		.dbg	line,	"include\routines_LEVELS.c", 1361; spr_x(player_pos_x+15);
10414                        		__ld.wm		_player_pos_x
         1D:DB6A  AD 01 25   			lda.l	_player_pos_x
         1D:DB6D  AC 02 25   			ldy.h	_player_pos_x
10415                        		__add.wi	15
         1D:DB70  18         			clc
         1D:DB71  69 0F      			adc.l	#15
         1D:DB73  90 01      			bcc	!+
         1D:DB75  C8         			iny
         1D:DB76             	!:
10416                        		__call		_spr_x.1
         1D:DB76  20 1E E8   			call	_spr_x.1
10417                        	
10418                        		.dbg	line,	"include\routines_LEVELS.c", 1362; }
10419                        	
10420                        		.dbg	line,	"include\routines_LEVELS.c", 1364; player_state = STATE_WALK;
10421    1D:DB79             	.LL465:
10422                        		__st.umiq	1, _player_state
         1D:DB79  A9 01      			lda.l	#1
         1D:DB7B  8D 1B 23   			sta	_player_state
10423                        	
10424                        		.dbg	line,	"include\routines_LEVELS.c", 1365; }
10425    1D:DB7E             	.LL464	.alias		.LL466
10426                        	
10427                        		.dbg	line,	"include\routines_LEVELS.c", 1366; }
10428                        	
10429                        		.dbg	line,	"include\routines_LEVELS.c", 1369; else if(player_state == STATE_FALL)
10430                        		__bra		.LL466
         1D:DB7E  4C 22 DF   			bra	.LL466
10431    1D:DB81             	.LL461:
10432                        		__ld.umq	_player_state
         1D:DB81  AD 1B 23   			lda	_player_state
10433                        		__equ_b.uiq	9
         1D:DB84  C9 09      			cmp	#9
         1D:DB86  F0 01      			beq	!+
         1D:DB88  18         			clc
         1D:DB89             	!:
10434                        		__bfalse	.LL467
         1D:DB89  B0 03 4C 0F			bcc	.LL467
         1D:DB8D  DC          
10435                        	
10436                        		.dbg	line,	"include\routines_LEVELS.c", 1370; {
10437                        	
10438                        		.dbg	line,	"include\routines_LEVELS.c", 1371; if(player_axis == AXIS_RIGHT)
10439                        		__not.um	_player_axis
         1D:DB8E  AD 1C 23   			lda	_player_axis
         1D:DB91  18         			clc
         1D:DB92  D0 01      			bne	!+
         1D:DB94  38         			sec
         1D:DB95             	!:
10440                        		__bfalse	.LL468
         1D:DB95  B0 03 4C 22			bcc	.LL468
         1D:DB99  DF          
10441                        	
10442                        		.dbg	line,	"include\routines_LEVELS.c", 1372; {
10443                        	
10444                        		.dbg	line,	"include\routines_LEVELS.c", 1373; player_axis = AXIS_LEFT;
10445                        		__st.umiq	1, _player_axis
         1D:DB9A  A9 01      			lda.l	#1
         1D:DB9C  8D 1C 23   			sta	_player_axis
10446                        	
10447                        		.dbg	line,	"include\routines_LEVELS.c", 1374; player_previous_axis = player_axis;
10448                        		__ld.um		_player_axis
         1D:DB9F  AD 1C 23   			lda	_player_axis
         1D:DBA2  C2         			cly
10449                        		__st.umq	_player_previous_axis
         1D:DBA3  8D 1D 23   			sta	_player_previous_axis
10450                        	
10451                        		.dbg	line,	"include\routines_LEVELS.c", 1376; spr_set(player_id);
10452                        		__ld.umq	_player_id
         1D:DBA6  AD 1A 23   			lda	_player_id
10453                        		__call		_spr_set.1
         1D:DBA9  20 F1 E7   			call	_spr_set.1
10454                        	
10455                        		.dbg	line,	"include\routines_LEVELS.c", 1377; spr_ctrl(FLIP_MAS, FLIP_X);
10456                        		__st.umiq	136, _al
         1D:DBAC  A9 88      			lda.l	#136
         1D:DBAE  85 F8      			sta	_al
10457                        		__ld.uiq	8
         1D:DBB0  A9 08      			lda	#8
10458                        		__call		_spr_ctrl.2
         1D:DBB2  20 50 E8   			call	_spr_ctrl.2
10459                        	
10460                        		.dbg	line,	"include\routines_LEVELS.c", 1379; spr_set(chain_id);
10461                        		__ld.umq	_chain_id
         1D:DBB5  AD 28 23   			lda	_chain_id
10462                        		__call		_spr_set.1
         1D:DBB8  20 F1 E7   			call	_spr_set.1
10463                        	
10464                        		.dbg	line,	"include\routines_LEVELS.c", 1380; spr_ctrl(FLIP_MAS, FLIP_X);
10465                        		__st.umiq	136, _al
         1D:DBBB  A9 88      			lda.l	#136
         1D:DBBD  85 F8      			sta	_al
10466                        		__ld.uiq	8
         1D:DBBF  A9 08      			lda	#8
10467                        		__call		_spr_ctrl.2
         1D:DBC1  20 50 E8   			call	_spr_ctrl.2
10468                        	
10469                        		.dbg	line,	"include\routines_LEVELS.c", 1382; spr_set(chain_id+1);
10470                        		__ld.um		_chain_id
         1D:DBC4  AD 28 23   			lda	_chain_id
         1D:DBC7  C2         			cly
10471                        		__add.wi	1
         1D:DBC8  1A         			inc	a
         1D:DBC9  D0 01      			bne	!+
         1D:DBCB  C8         			iny
         1D:DBCC             	!:
10472                        		__call		_spr_set.1
         1D:DBCC  20 F1 E7   			call	_spr_set.1
10473                        	
10474                        		.dbg	line,	"include\routines_LEVELS.c", 1383; spr_ctrl(FLIP_MAS, FLIP_X);
10475                        		__st.umiq	136, _al
         1D:DBCF  A9 88      			lda.l	#136
         1D:DBD1  85 F8      			sta	_al
10476                        		__ld.uiq	8
         1D:DBD3  A9 08      			lda	#8
10477                        		__call		_spr_ctrl.2
         1D:DBD5  20 50 E8   			call	_spr_ctrl.2
10478                        	
10479                        		.dbg	line,	"include\routines_LEVELS.c", 1385; spr_set(chain_id+2);
10480                        		__ld.um		_chain_id
         1D:DBD8  AD 28 23   			lda	_chain_id
         1D:DBDB  C2         			cly
10481                        		__add.wi	2
         1D:DBDC  18         			clc
         1D:DBDD  69 02      			adc.l	#2
         1D:DBDF  90 01      			bcc	!+
         1D:DBE1  C8         			iny
         1D:DBE2             	!:
10482                        		__call		_spr_set.1
         1D:DBE2  20 F1 E7   			call	_spr_set.1
10483                        	
10484                        		.dbg	line,	"include\routines_LEVELS.c", 1386; spr_ctrl(FLIP_MAS, FLIP_X);
10485                        		__st.umiq	136, _al
         1D:DBE5  A9 88      			lda.l	#136
         1D:DBE7  85 F8      			sta	_al
10486                        		__ld.uiq	8
         1D:DBE9  A9 08      			lda	#8
10487                        		__call		_spr_ctrl.2
         1D:DBEB  20 50 E8   			call	_spr_ctrl.2
10488                        	
10489                        		.dbg	line,	"include\routines_LEVELS.c", 1388; spr_set(weapon_id);
10490                        		__ld.umq	_weapon_id
         1D:DBEE  AD 29 23   			lda	_weapon_id
10491                        		__call		_spr_set.1
         1D:DBF1  20 F1 E7   			call	_spr_set.1
10492                        	
10493                        		.dbg	line,	"include\routines_LEVELS.c", 1389; spr_ctrl(FLIP_MAS, FLIP_X);
10494                        		__st.umiq	136, _al
         1D:DBF4  A9 88      			lda.l	#136
         1D:DBF6  85 F8      			sta	_al
10495                        		__ld.uiq	8
         1D:DBF8  A9 08      			lda	#8
10496                        		__call		_spr_ctrl.2
         1D:DBFA  20 50 E8   			call	_spr_ctrl.2
10497                        	
10498                        		.dbg	line,	"include\routines_LEVELS.c", 1390; spr_x(player_pos_x+20);
10499                        		__ld.wm		_player_pos_x
         1D:DBFD  AD 01 25   			lda.l	_player_pos_x
         1D:DC00  AC 02 25   			ldy.h	_player_pos_x
10500                        		__add.wi	20
         1D:DC03  18         			clc
         1D:DC04  69 14      			adc.l	#20
         1D:DC06  90 01      			bcc	!+
         1D:DC08  C8         			iny
         1D:DC09             	!:
10501                        		__call		_spr_x.1
         1D:DC09  20 1E E8   			call	_spr_x.1
10502                        	
10503                        		.dbg	line,	"include\routines_LEVELS.c", 1391; }
10504                        	
10505                        		.dbg	line,	"include\routines_LEVELS.c", 1392; }
10506    1D:DC0C             	.LL468	.alias		.LL469
10507                        	
10508                        		.dbg	line,	"include\routines_LEVELS.c", 1394; 
10509                        	
10510                        		.dbg	line,	"include\routines_LEVELS.c", 1395; else if(player_state == STATE_HANG)
10511                        		__bra		.LL469
         1D:DC0C  4C 22 DF   			bra	.LL469
10512    1D:DC0F             	.LL467:
10513                        		__ld.umq	_player_state
         1D:DC0F  AD 1B 23   			lda	_player_state
10514                        		__equ_b.uiq	10
         1D:DC12  C9 0A      			cmp	#10
         1D:DC14  F0 01      			beq	!+
         1D:DC16  18         			clc
         1D:DC17             	!:
10515                        		__bfalse	.LL470
         1D:DC17  B0 03 4C 9D			bcc	.LL470
         1D:DC1B  DC          
10516                        	
10517                        		.dbg	line,	"include\routines_LEVELS.c", 1396; {
10518                        	
10519                        		.dbg	line,	"include\routines_LEVELS.c", 1397; if(player_axis == AXIS_RIGHT)
10520                        		__not.um	_player_axis
         1D:DC1C  AD 1C 23   			lda	_player_axis
         1D:DC1F  18         			clc
         1D:DC20  D0 01      			bne	!+
         1D:DC22  38         			sec
         1D:DC23             	!:
10521                        		__bfalse	.LL471
         1D:DC23  B0 03 4C 22			bcc	.LL471
         1D:DC27  DF          
10522                        	
10523                        		.dbg	line,	"include\routines_LEVELS.c", 1398; {
10524                        	
10525                        		.dbg	line,	"include\routines_LEVELS.c", 1399; player_axis = AXIS_LEFT;
10526                        		__st.umiq	1, _player_axis
         1D:DC28  A9 01      			lda.l	#1
         1D:DC2A  8D 1C 23   			sta	_player_axis
10527                        	
10528                        		.dbg	line,	"include\routines_LEVELS.c", 1400; player_previous_axis = player_axis;
10529                        		__ld.um		_player_axis
         1D:DC2D  AD 1C 23   			lda	_player_axis
         1D:DC30  C2         			cly
10530                        		__st.umq	_player_previous_axis
         1D:DC31  8D 1D 23   			sta	_player_previous_axis
10531                        	
10532                        		.dbg	line,	"include\routines_LEVELS.c", 1402; spr_set(player_id);
10533                        		__ld.umq	_player_id
         1D:DC34  AD 1A 23   			lda	_player_id
10534                        		__call		_spr_set.1
         1D:DC37  20 F1 E7   			call	_spr_set.1
10535                        	
10536                        		.dbg	line,	"include\routines_LEVELS.c", 1403; spr_ctrl(FLIP_MAS, FLIP_X);
10537                        		__st.umiq	136, _al
         1D:DC3A  A9 88      			lda.l	#136
         1D:DC3C  85 F8      			sta	_al
10538                        		__ld.uiq	8
         1D:DC3E  A9 08      			lda	#8
10539                        		__call		_spr_ctrl.2
         1D:DC40  20 50 E8   			call	_spr_ctrl.2
10540                        	
10541                        		.dbg	line,	"include\routines_LEVELS.c", 1405; spr_set(chain_id);
10542                        		__ld.umq	_chain_id
         1D:DC43  AD 28 23   			lda	_chain_id
10543                        		__call		_spr_set.1
         1D:DC46  20 F1 E7   			call	_spr_set.1
10544                        	
10545                        		.dbg	line,	"include\routines_LEVELS.c", 1406; spr_ctrl(FLIP_MAS, FLIP_X);
10546                        		__st.umiq	136, _al
         1D:DC49  A9 88      			lda.l	#136
         1D:DC4B  85 F8      			sta	_al
10547                        		__ld.uiq	8
         1D:DC4D  A9 08      			lda	#8
10548                        		__call		_spr_ctrl.2
         1D:DC4F  20 50 E8   			call	_spr_ctrl.2
10549                        	
10550                        		.dbg	line,	"include\routines_LEVELS.c", 1408; spr_set(chain_id+1);
10551                        		__ld.um		_chain_id
         1D:DC52  AD 28 23   			lda	_chain_id
         1D:DC55  C2         			cly
10552                        		__add.wi	1
         1D:DC56  1A         			inc	a
         1D:DC57  D0 01      			bne	!+
         1D:DC59  C8         			iny
         1D:DC5A             	!:
10553                        		__call		_spr_set.1
         1D:DC5A  20 F1 E7   			call	_spr_set.1
10554                        	
10555                        		.dbg	line,	"include\routines_LEVELS.c", 1409; spr_ctrl(FLIP_MAS, FLIP_X);
10556                        		__st.umiq	136, _al
         1D:DC5D  A9 88      			lda.l	#136
         1D:DC5F  85 F8      			sta	_al
10557                        		__ld.uiq	8
         1D:DC61  A9 08      			lda	#8
10558                        		__call		_spr_ctrl.2
         1D:DC63  20 50 E8   			call	_spr_ctrl.2
10559                        	
10560                        		.dbg	line,	"include\routines_LEVELS.c", 1411; spr_set(chain_id+2);
10561                        		__ld.um		_chain_id
         1D:DC66  AD 28 23   			lda	_chain_id
         1D:DC69  C2         			cly
10562                        		__add.wi	2
         1D:DC6A  18         			clc
         1D:DC6B  69 02      			adc.l	#2
         1D:DC6D  90 01      			bcc	!+
         1D:DC6F  C8         			iny
         1D:DC70             	!:
10563                        		__call		_spr_set.1
         1D:DC70  20 F1 E7   			call	_spr_set.1
10564                        	
10565                        		.dbg	line,	"include\routines_LEVELS.c", 1412; spr_ctrl(FLIP_MAS, FLIP_X);
10566                        		__st.umiq	136, _al
         1D:DC73  A9 88      			lda.l	#136
         1D:DC75  85 F8      			sta	_al
10567                        		__ld.uiq	8
         1D:DC77  A9 08      			lda	#8
10568                        		__call		_spr_ctrl.2
         1D:DC79  20 50 E8   			call	_spr_ctrl.2
10569                        	
10570                        		.dbg	line,	"include\routines_LEVELS.c", 1414; spr_set(weapon_id);
10571                        		__ld.umq	_weapon_id
         1D:DC7C  AD 29 23   			lda	_weapon_id
10572                        		__call		_spr_set.1
         1D:DC7F  20 F1 E7   			call	_spr_set.1
10573                        	
10574                        		.dbg	line,	"include\routines_LEVELS.c", 1415; spr_ctrl(FLIP_MAS, FLIP_X);
10575                        		__st.umiq	136, _al
         1D:DC82  A9 88      			lda.l	#136
         1D:DC84  85 F8      			sta	_al
10576                        		__ld.uiq	8
         1D:DC86  A9 08      			lda	#8
10577                        		__call		_spr_ctrl.2
         1D:DC88  20 50 E8   			call	_spr_ctrl.2
10578                        	
10579                        		.dbg	line,	"include\routines_LEVELS.c", 1416; spr_x(player_pos_x-2);
10580                        		__ld.wm		_player_pos_x
         1D:DC8B  AD 01 25   			lda.l	_player_pos_x
         1D:DC8E  AC 02 25   			ldy.h	_player_pos_x
10581                        		__sub.wi	2
         1D:DC91  38         			sec
         1D:DC92  E9 02      			sbc.l	#2
         1D:DC94  B0 01      			bcs	!+
         1D:DC96  88         			dey
         1D:DC97             	!:
10582                        		__call		_spr_x.1
         1D:DC97  20 1E E8   			call	_spr_x.1
10583                        	
10584                        		.dbg	line,	"include\routines_LEVELS.c", 1417; }
10585                        	
10586                        		.dbg	line,	"include\routines_LEVELS.c", 1418; }
10587    1D:DC9A             	.LL471	.alias		.LL472
10588                        	
10589                        		.dbg	line,	"include\routines_LEVELS.c", 1421; else if(player_state == STATE_CLIMB_UP || player_state == STATE_CLIMB_DOWN)
10590                        		__bra		.LL472
         1D:DC9A  4C 22 DF   			bra	.LL472
10591    1D:DC9D             	.LL470:
10592                        		__ld.umq	_player_state
         1D:DC9D  AD 1B 23   			lda	_player_state
10593                        		__equ_b.uiq	11
         1D:DCA0  C9 0B      			cmp	#11
         1D:DCA2  F0 01      			beq	!+
         1D:DCA4  18         			clc
         1D:DCA5             	!:
10594                        		__btrue		.LL474
         1D:DCA5  B0 08      			bcs	.LL474
10595                        		__ld.umq	_player_state
         1D:DCA7  AD 1B 23   			lda	_player_state
10596                        		__equ_b.uiq	12
         1D:DCAA  C9 0C      			cmp	#12
         1D:DCAC  F0 01      			beq	!+
         1D:DCAE  18         			clc
         1D:DCAF             	!:
10597    1D:DCAF             	.LL474:
10598                        		__bfalse	.LL473
         1D:DCAF  B0 03 4C 22			bcc	.LL473
         1D:DCB3  DF          
10599                        	
10600                        		.dbg	line,	"include\routines_LEVELS.c", 1422; {
10601                        	
10602                        		.dbg	line,	"include\routines_LEVELS.c", 1423; spr_set(player_id);
10603                        		__ld.umq	_player_id
         1D:DCB4  AD 1A 23   			lda	_player_id
10604                        		__call		_spr_set.1
         1D:DCB7  20 F1 E7   			call	_spr_set.1
10605                        	
10606                        		.dbg	line,	"include\routines_LEVELS.c", 1424; spr_pattern(PLAYER_HANG_VRAM_ADR);
10607                        		__ld.wi		8448
         1D:DCBA  62         			cla
         1D:DCBB  A0 21      			ldy.h	#8448
10608                        		__call		_spr_pattern.1
         1D:DCBD  20 3A E8   			call	_spr_pattern.1
10609                        	
10610                        		.dbg	line,	"include\routines_LEVELS.c", 1425; player_counter_anim = 0;
10611                        		__st.umiq	0, _player_counter_anim
         1D:DCC0  9C 1E 23   			stz	_player_counter_anim
10612                        	
10613                        		.dbg	line,	"include\routines_LEVELS.c", 1426; player_state = STATE_HANG;
10614                        		__st.umiq	10, _player_state
         1D:DCC3  A9 0A      			lda.l	#10
         1D:DCC5  8D 1B 23   			sta	_player_state
10615                        	
10616                        		.dbg	line,	"include\routines_LEVELS.c", 1427; }
10617                        	
10618                        		.dbg	line,	"include\routines_LEVELS.c", 1428; }
10619    1D:DCC8             	.LL473	.alias		.LL475
10620    1D:DCC8             	.LL472	.alias		.LL475
10621    1D:DCC8             	.LL469	.alias		.LL475
10622    1D:DCC8             	.LL466	.alias		.LL475
10623    1D:DCC8             	.LL460	.alias		.LL475
10624    1D:DCC8             	.LL455	.alias		.LL475
10625    1D:DCC8             	.LL448	.alias		.LL475
10626                        	
10627                        		.dbg	line,	"include\routines_LEVELS.c", 1431; //--------------------------------------------------------------------------------------//
10628                        	
10629                        		.dbg	line,	"include\routines_LEVELS.c", 1432; //                                      UP BUTTON                                       //
10630                        	
10631                        		.dbg	line,	"include\routines_LEVELS.c", 1433; //--------------------------------------------------------------------------------------//
10632                        	
10633                        		.dbg	line,	"include\routines_LEVELS.c", 1435; else if(joy(JOYPAD_1) & JOY_UP)
10634                        		__bra		.LL475
         1D:DCC8  4C 22 DF   			bra	.LL475
10635    1D:DCCB             	.LL443:
10636                        		__ld.uiq	0
         1D:DCCB  62         			cla
10637                        		 _joy.1
         1D:DCCC  AA         			tax
         1D:DCCD  BD 28 22   			lda	joynow, x
         1D:DCD0  BC D3 22   			ldy	joy6now, x
10638                        		__tand.wi	16
         1D:DCD3  29 10      			and	#16
         1D:DCD5  C9 01      	!:		cmp	#1
10639                        		__bfalse	.LL476
         1D:DCD7  B0 03 4C B5			bcc	.LL476
         1D:DCDB  DD          
10640                        	
10641                        		.dbg	line,	"include\routines_LEVELS.c", 1436; {
10642                        	
10643                        		.dbg	line,	"include\routines_LEVELS.c", 1437; if(player_state == STATE_HANG || player_state == STATE_CLIMB_UP || player_state == STATE_CLIMB_DOWN)
10644                        		__ld.umq	_player_state
         1D:DCDC  AD 1B 23   			lda	_player_state
10645                        		__equ_b.uiq	10
         1D:DCDF  C9 0A      			cmp	#10
         1D:DCE1  F0 01      			beq	!+
         1D:DCE3  18         			clc
         1D:DCE4             	!:
10646                        		__btrue		.LL478
         1D:DCE4  B0 08      			bcs	.LL478
10647                        		__ld.umq	_player_state
         1D:DCE6  AD 1B 23   			lda	_player_state
10648                        		__equ_b.uiq	11
         1D:DCE9  C9 0B      			cmp	#11
         1D:DCEB  F0 01      			beq	!+
         1D:DCED  18         			clc
         1D:DCEE             	!:
10649    1D:DCEE             	.LL478:
10650                        		__btrue		.LL479
         1D:DCEE  B0 08      			bcs	.LL479
10651                        		__ld.umq	_player_state
         1D:DCF0  AD 1B 23   			lda	_player_state
10652                        		__equ_b.uiq	12
         1D:DCF3  C9 0C      			cmp	#12
         1D:DCF5  F0 01      			beq	!+
         1D:DCF7  18         			clc
         1D:DCF8             	!:
10653    1D:DCF8             	.LL479:
10654                        		__bfalse	.LL477
         1D:DCF8  B0 03 4C 22			bcc	.LL477
         1D:DCFC  DF          
10655                        	
10656                        		.dbg	line,	"include\routines_LEVELS.c", 1438; {
10657                        	
10658                        		.dbg	line,	"include\routines_LEVELS.c", 1439; if(player_attack == FALSE)
10659                        		__not.um	_player_attack
         1D:DCFD  AD 23 23   			lda	_player_attack
         1D:DD00  18         			clc
         1D:DD01  D0 01      			bne	!+
         1D:DD03  38         			sec
         1D:DD04             	!:
10660                        		__bfalse	.LL480
         1D:DD04  B0 03 4C 22			bcc	.LL480
         1D:DD08  DF          
10661                        	
10662                        		.dbg	line,	"include\routines_LEVELS.c", 1440; {
10663                        	
10664                        		.dbg	line,	"include\routines_LEVELS.c", 1441; unsigned char i;
10665                        	
10666                        		.dbg	line,	"include\routines_LEVELS.c", 1443; collision_PLAYER_BG( 15 , 8 );
10667                        		__ld.wi		15
         1D:DD09  A9 0F      			lda.l	#15
         1D:DD0B  C2         			cly
10668                        		__pusharg.wr
         1D:DD0C  A6 8D      			ldx	<__sp
         1D:DD0E  CA         			dex
         1D:DD0F  CA         			dex
         1D:DD10  95 08      			sta.l	<__stack, x
         1D:DD12  94 09      			sty.h	<__stack, x
         1D:DD14  86 8D      			stx	<__sp
10669                        		__ld.wi		8
         1D:DD16  A9 08      			lda.l	#8
         1D:DD18  C2         			cly
10670                        		__pusharg.wr
         1D:DD19  A6 8D      			ldx	<__sp
         1D:DD1B  CA         			dex
         1D:DD1C  CA         			dex
         1D:DD1D  95 08      			sta.l	<__stack, x
         1D:DD1F  94 09      			sty.h	<__stack, x
         1D:DD21  86 8D      			stx	<__sp
10671                        		__call		_collision_PLAYER_BG
         1D:DD23  20 31 FF   			call	_collision_PLAYER_BG
10672                        	
10673                        		.dbg	line,	"include\routines_LEVELS.c", 1445; if(map_blk_flag == TILE_EMPTY)
10674                        		__not.um	_map_blk_flag
         1D:DD26  AD 05 2C   			lda	_map_blk_flag
         1D:DD29  18         			clc
         1D:DD2A  D0 01      			bne	!+
         1D:DD2C  38         			sec
         1D:DD2D             	!:
10675                        		__bfalse	.LL481
         1D:DD2D  90 67      			bcc	.LL481
10676                        	
10677                        		.dbg	line,	"include\routines_LEVELS.c", 1446; {
10678                        	
10679                        		.dbg	line,	"include\routines_LEVELS.c", 1447; for(i=1 ; i<3 ; i++)
10680                        		__st.umiq	1, __joypad_DIR_end - 1  /* i */
         1D:DD2F  A9 01      			lda.l	#1
         1D:DD31  8D 04 23   			sta	__joypad_DIR_end - 1
10681    1D:DD34             	.LL482:
10682                        		__ld.umq	__joypad_DIR_end - 1  /* i */
         1D:DD34  AD 04 23   			lda	__joypad_DIR_end - 1
10683                        		__ult_b.uiq	3
         1D:DD37  C9 03      			cmp	#3		; Subtract integer from A.
         1D:DD39  6A         			ror	a		; CC if A < integer.
         1D:DD3A  49 80      			eor	#$80
         1D:DD3C  2A         			rol	a
10684                        		__btrue		.LL484
         1D:DD3D  B0 07      			bcs	.LL484
10685                        		__bra		.LL485
         1D:DD3F  80 63      			bra	.LL485
10686    1D:DD41             	.LL483:
10687                        		__inc.umq	__joypad_DIR_end - 1  /* i */
         1D:DD41  EE 04 23   			inc	__joypad_DIR_end - 1
10688                        		__bra		.LL482
         1D:DD44  80 EE      			bra	.LL482
10689    1D:DD46             	.LL484:
10690                        	
10691                        		.dbg	line,	"include\routines_LEVELS.c", 1448; {
10692                        	
10693                        		.dbg	line,	"include\routines_LEVELS.c", 1449; collision_PLAYER_BG( 15 , 8 + i );
10694                        		__ld.wi		15
         1D:DD46  A9 0F      			lda.l	#15
         1D:DD48  C2         			cly
10695                        		__pusharg.wr
         1D:DD49  A6 8D      			ldx	<__sp
         1D:DD4B  CA         			dex
         1D:DD4C  CA         			dex
         1D:DD4D  95 08      			sta.l	<__stack, x
         1D:DD4F  94 09      			sty.h	<__stack, x
         1D:DD51  86 8D      			stx	<__sp
10696                        		__ld.wi		8
         1D:DD53  A9 08      			lda.l	#8
         1D:DD55  C2         			cly
10697                        		__add.um	__joypad_DIR_end - 1  /* i */
         1D:DD56  18         			clc
         1D:DD57  6D 04 23   			adc	__joypad_DIR_end - 1
         1D:DD5A  90 01      			bcc	!+
         1D:DD5C  C8         			iny
         1D:DD5D             	!:
10698                        		__pusharg.wr
         1D:DD5D  A6 8D      			ldx	<__sp
         1D:DD5F  CA         			dex
         1D:DD60  CA         			dex
         1D:DD61  95 08      			sta.l	<__stack, x
         1D:DD63  94 09      			sty.h	<__stack, x
         1D:DD65  86 8D      			stx	<__sp
10699                        		__call		_collision_PLAYER_BG
         1D:DD67  20 31 FF   			call	_collision_PLAYER_BG
10700                        	
10701                        		.dbg	line,	"include\routines_LEVELS.c", 1451; if(map_blk_flag == TILE_LADDER)
10702                        		__ld.umq	_map_blk_flag
         1D:DD6A  AD 05 2C   			lda	_map_blk_flag
10703                        		__equ_b.uiq	2
         1D:DD6D  C9 02      			cmp	#2
         1D:DD6F  F0 01      			beq	!+
         1D:DD71  18         			clc
         1D:DD72             	!:
10704                        		__bfalse	.LL486
         1D:DD72  90 CD      			bcc	.LL486
10705                        	
10706                        		.dbg	line,	"include\routines_LEVELS.c", 1452; {
10707                        	
10708                        		.dbg	line,	"include\routines_LEVELS.c", 1453; sgx_map_pxl_y -= (2 - i);
10709                        		__ld.wi		2
         1D:DD74  A9 02      			lda.l	#2
         1D:DD76  C2         			cly
10710                        		__sub.um	__joypad_DIR_end - 1  /* i */
         1D:DD77  38         			sec
         1D:DD78  ED 04 23   			sbc	__joypad_DIR_end - 1
         1D:DD7B  B0 01      			bcs	!+
         1D:DD7D  88         			dey
         1D:DD7E             	!:
10711                        		__isub_st.wmq	_sgx_map_pxl_y
         1D:DD7E  38         			sec
         1D:DD7F  49 FF      			eor	#$FF
         1D:DD81  6D E6 26   			adc.l	_sgx_map_pxl_y
         1D:DD84  8D E6 26   			sta.l	_sgx_map_pxl_y
         1D:DD87  98         			tya
         1D:DD88  49 FF      			eor	#$FF
         1D:DD8A  6D E7 26   			adc.h	_sgx_map_pxl_y
         1D:DD8D  8D E7 26   			sta.h	_sgx_map_pxl_y
10712                        	
10713                        		.dbg	line,	"include\routines_LEVELS.c", 1454; break;
10714                        		__bra		.LL485
         1D:DD90  80 12      			bra	.LL485
10715                        	
10716                        		.dbg	line,	"include\routines_LEVELS.c", 1455; }
10717                        	
10718                        		.dbg	line,	"include\routines_LEVELS.c", 1456; }
10719    1D:DD92             	.LL486	.alias		.LL483
10720                        		__bra		.LL483
         1D:DD92  80 AD      			bra	.LL483
10721    1D:DD94             	.LL485	.alias		.LL487
10722                        	
10723                        		.dbg	line,	"include\routines_LEVELS.c", 1457; }
10724                        	
10725                        		.dbg	line,	"include\routines_LEVELS.c", 1459; else
10726                        		__bra		.LL487
         1D:DD94  80 0E      			bra	.LL487
10727    1D:DD96             	.LL481:
10728                        	
10729                        		.dbg	line,	"include\routines_LEVELS.c", 1460; {
10730                        	
10731                        		.dbg	line,	"include\routines_LEVELS.c", 1461; sgx_map_pxl_y -= 2;
10732                        		__sub_st.wmiq	2, _sgx_map_pxl_y
         1D:DD96  38         			sec
         1D:DD97  AD E6 26   			lda.l	_sgx_map_pxl_y
         1D:DD9A  E9 02      			sbc.l	#2
         1D:DD9C  8D E6 26   			sta.l	_sgx_map_pxl_y
         1D:DD9F  B0 03      			bcs	!+
         1D:DDA1  CE E7 26   			dec.h	_sgx_map_pxl_y
         1D:DDA4             	!:
10733                        	
10734                        		.dbg	line,	"include\routines_LEVELS.c", 1462; }
10735    1D:DDA4             	.LL487:
10736                        	
10737                        		.dbg	line,	"include\routines_LEVELS.c", 1464; spr_set(weapon_id);
10738                        		__ld.umq	_weapon_id
         1D:DDA4  AD 29 23   			lda	_weapon_id
10739                        		__call		_spr_set.1
         1D:DDA7  20 F1 E7   			call	_spr_set.1
10740                        	
10741                        		.dbg	line,	"include\routines_LEVELS.c", 1465; spr_hide();
10742                        		__call		_spr_hide
         1D:DDAA  20 0C E8   			call	_spr_hide
10743                        	
10744                        		.dbg	line,	"include\routines_LEVELS.c", 1467; player_state = STATE_CLIMB_UP;
10745                        		__st.umiq	11, _player_state
         1D:DDAD  A9 0B      			lda.l	#11
         1D:DDAF  8D 1B 23   			sta	_player_state
10746                        	
10747                        		.dbg	line,	"include\routines_LEVELS.c", 1468; }
10748                        	
10749                        		.dbg	line,	"include\routines_LEVELS.c", 1469; }
10750    1D:DDB2             	.LL480	.alias		.LL488
10751                        	
10752                        		.dbg	line,	"include\routines_LEVELS.c", 1470; }
10753    1D:DDB2             	.LL477	.alias		.LL488
10754                        	
10755                        		.dbg	line,	"include\routines_LEVELS.c", 1473; //--------------------------------------------------------------------------------------//
10756                        	
10757                        		.dbg	line,	"include\routines_LEVELS.c", 1474; //                                     DOWN BUTTON                                      //
10758                        	
10759                        		.dbg	line,	"include\routines_LEVELS.c", 1475; //--------------------------------------------------------------------------------------//
10760                        	
10761                        		.dbg	line,	"include\routines_LEVELS.c", 1477; else if(joy(JOYPAD_1) & JOY_DOWN)
10762                        		__bra		.LL488
         1D:DDB2  4C 22 DF   			bra	.LL488
10763    1D:DDB5             	.LL476:
10764                        		__ld.uiq	0
         1D:DDB5  62         			cla
10765                        		 _joy.1
         1D:DDB6  AA         			tax
         1D:DDB7  BD 28 22   			lda	joynow, x
         1D:DDBA  BC D3 22   			ldy	joy6now, x
10766                        		__tand.wi	64
         1D:DDBD  29 40      			and	#64
         1D:DDBF  C9 01      	!:		cmp	#1
10767                        		__bfalse	.LL489
         1D:DDC1  B0 03 4C 22			bcc	.LL489
         1D:DDC5  DF          
10768                        	
10769                        		.dbg	line,	"include\routines_LEVELS.c", 1478; {
10770                        	
10771                        		.dbg	line,	"include\routines_LEVELS.c", 1479; if(player_state == STATE_IDLE || player_state == STATE_WALK)
10772                        		__not.um	_player_state
         1D:DDC6  AD 1B 23   			lda	_player_state
         1D:DDC9  18         			clc
         1D:DDCA  D0 01      			bne	!+
         1D:DDCC  38         			sec
         1D:DDCD             	!:
10773                        		__btrue		.LL491
         1D:DDCD  B0 08      			bcs	.LL491
10774                        		__ld.umq	_player_state
         1D:DDCF  AD 1B 23   			lda	_player_state
10775                        		__equ_b.uiq	1
         1D:DDD2  C9 01      			cmp	#1
         1D:DDD4  F0 01      			beq	!+
         1D:DDD6  18         			clc
         1D:DDD7             	!:
10776    1D:DDD7             	.LL491:
10777                        		__bfalse	.LL490
         1D:DDD7  90 0D      			bcc	.LL490
10778                        	
10779                        		.dbg	line,	"include\routines_LEVELS.c", 1480; {
10780                        	
10781                        		.dbg	line,	"include\routines_LEVELS.c", 1481; player_counter_anim = 1;
10782                        		__st.umiq	1, _player_counter_anim
         1D:DDD9  A9 01      			lda.l	#1
         1D:DDDB  8D 1E 23   			sta	_player_counter_anim
10783                        	
10784                        		.dbg	line,	"include\routines_LEVELS.c", 1482; player_state = STATE_CROUCH;
10785                        		__st.umiq	7, _player_state
         1D:DDDE  A9 07      			lda.l	#7
         1D:DDE0  8D 1B 23   			sta	_player_state
10786                        	
10787                        		.dbg	line,	"include\routines_LEVELS.c", 1483; }
10788                        	
10789                        		.dbg	line,	"include\routines_LEVELS.c", 1486; else if(player_state == STATE_HANG || player_state == STATE_CLIMB_UP || player_state == STATE_CLIMB_DOWN)
10790                        		__bra		.LL492
         1D:DDE3  4C 22 DF   			bra	.LL492
10791    1D:DDE6             	.LL490:
10792                        		__ld.umq	_player_state
         1D:DDE6  AD 1B 23   			lda	_player_state
10793                        		__equ_b.uiq	10
         1D:DDE9  C9 0A      			cmp	#10
         1D:DDEB  F0 01      			beq	!+
         1D:DDED  18         			clc
         1D:DDEE             	!:
10794                        		__btrue		.LL494
         1D:DDEE  B0 08      			bcs	.LL494
10795                        		__ld.umq	_player_state
         1D:DDF0  AD 1B 23   			lda	_player_state
10796                        		__equ_b.uiq	11
         1D:DDF3  C9 0B      			cmp	#11
         1D:DDF5  F0 01      			beq	!+
         1D:DDF7  18         			clc
         1D:DDF8             	!:
10797    1D:DDF8             	.LL494:
10798                        		__btrue		.LL495
         1D:DDF8  B0 08      			bcs	.LL495
10799                        		__ld.umq	_player_state
         1D:DDFA  AD 1B 23   			lda	_player_state
10800                        		__equ_b.uiq	12
         1D:DDFD  C9 0C      			cmp	#12
         1D:DDFF  F0 01      			beq	!+
         1D:DE01  18         			clc
         1D:DE02             	!:
10801    1D:DE02             	.LL495:
10802                        		__bfalse	.LL493
         1D:DE02  B0 03 4C 22			bcc	.LL493
         1D:DE06  DF          
10803                        	
10804                        		.dbg	line,	"include\routines_LEVELS.c", 1487; {
10805                        	
10806                        		.dbg	line,	"include\routines_LEVELS.c", 1488; if(player_attack == FALSE)
10807                        		__not.um	_player_attack
         1D:DE07  AD 23 23   			lda	_player_attack
         1D:DE0A  18         			clc
         1D:DE0B  D0 01      			bne	!+
         1D:DE0D  38         			sec
         1D:DE0E             	!:
10808                        		__bfalse	.LL496
         1D:DE0E  B0 03 4C 22			bcc	.LL496
         1D:DE12  DF          
10809                        	
10810                        		.dbg	line,	"include\routines_LEVELS.c", 1489; {
10811                        	
10812                        		.dbg	line,	"include\routines_LEVELS.c", 1490; unsigned char i;
10813                        	
10814                        		.dbg	line,	"include\routines_LEVELS.c", 1492; collision_PLAYER_BG( 15 , 10 );
10815                        		__ld.wi		15
         1D:DE13  A9 0F      			lda.l	#15
         1D:DE15  C2         			cly
10816                        		__pusharg.wr
         1D:DE16  A6 8D      			ldx	<__sp
         1D:DE18  CA         			dex
         1D:DE19  CA         			dex
         1D:DE1A  95 08      			sta.l	<__stack, x
         1D:DE1C  94 09      			sty.h	<__stack, x
         1D:DE1E  86 8D      			stx	<__sp
10817                        		__ld.wi		10
         1D:DE20  A9 0A      			lda.l	#10
         1D:DE22  C2         			cly
10818                        		__pusharg.wr
         1D:DE23  A6 8D      			ldx	<__sp
         1D:DE25  CA         			dex
         1D:DE26  CA         			dex
         1D:DE27  95 08      			sta.l	<__stack, x
         1D:DE29  94 09      			sty.h	<__stack, x
         1D:DE2B  86 8D      			stx	<__sp
10819                        		__call		_collision_PLAYER_BG
         1D:DE2D  20 31 FF   			call	_collision_PLAYER_BG
10820                        	
10821                        		.dbg	line,	"include\routines_LEVELS.c", 1494; if(map_blk_flag == TILE_EMPTY)
10822                        		__not.um	_map_blk_flag
         1D:DE30  AD 05 2C   			lda	_map_blk_flag
         1D:DE33  18         			clc
         1D:DE34  D0 01      			bne	!+
         1D:DE36  38         			sec
         1D:DE37             	!:
10823                        		__bfalse	.LL497
         1D:DE37  B0 03 4C 06			bcc	.LL497
         1D:DE3B  DF          
10824                        	
10825                        		.dbg	line,	"include\routines_LEVELS.c", 1495; {
10826                        	
10827                        		.dbg	line,	"include\routines_LEVELS.c", 1496; for(i=1 ; i<3 ; i++)
10828                        		__st.umiq	1, __joypad_DIR_end - 2  /* i */
         1D:DE3C  A9 01      			lda.l	#1
         1D:DE3E  8D 03 23   			sta	__joypad_DIR_end - 2
10829    1D:DE41             	.LL498:
10830                        		__ld.umq	__joypad_DIR_end - 2  /* i */
         1D:DE41  AD 03 23   			lda	__joypad_DIR_end - 2
10831                        		__ult_b.uiq	3
         1D:DE44  C9 03      			cmp	#3		; Subtract integer from A.
         1D:DE46  6A         			ror	a		; CC if A < integer.
         1D:DE47  49 80      			eor	#$80
         1D:DE49  2A         			rol	a
10832                        		__btrue		.LL500
         1D:DE4A  B0 08      			bcs	.LL500
10833                        		__bra		.LL501
         1D:DE4C  4C 22 DF   			bra	.LL501
10834    1D:DE4F             	.LL499:
10835                        		__inc.umq	__joypad_DIR_end - 2  /* i */
         1D:DE4F  EE 03 23   			inc	__joypad_DIR_end - 2
10836                        		__bra		.LL498
         1D:DE52  80 ED      			bra	.LL498
10837    1D:DE54             	.LL500:
10838                        	
10839                        		.dbg	line,	"include\routines_LEVELS.c", 1497; {
10840                        	
10841                        		.dbg	line,	"include\routines_LEVELS.c", 1498; collision_PLAYER_BG( 15 , 22 + i );
10842                        		__ld.wi		15
         1D:DE54  A9 0F      			lda.l	#15
         1D:DE56  C2         			cly
10843                        		__pusharg.wr
         1D:DE57  A6 8D      			ldx	<__sp
         1D:DE59  CA         			dex
         1D:DE5A  CA         			dex
         1D:DE5B  95 08      			sta.l	<__stack, x
         1D:DE5D  94 09      			sty.h	<__stack, x
         1D:DE5F  86 8D      			stx	<__sp
10844                        		__ld.wi		22
         1D:DE61  A9 16      			lda.l	#22
         1D:DE63  C2         			cly
10845                        		__add.um	__joypad_DIR_end - 2  /* i */
         1D:DE64  18         			clc
         1D:DE65  6D 03 23   			adc	__joypad_DIR_end - 2
         1D:DE68  90 01      			bcc	!+
         1D:DE6A  C8         			iny
         1D:DE6B             	!:
10846                        		__pusharg.wr
         1D:DE6B  A6 8D      			ldx	<__sp
         1D:DE6D  CA         			dex
         1D:DE6E  CA         			dex
         1D:DE6F  95 08      			sta.l	<__stack, x
         1D:DE71  94 09      			sty.h	<__stack, x
         1D:DE73  86 8D      			stx	<__sp
10847                        		__call		_collision_PLAYER_BG
         1D:DE75  20 31 FF   			call	_collision_PLAYER_BG
10848                        	
10849                        		.dbg	line,	"include\routines_LEVELS.c", 1500; if(map_blk_flag == TILE_LADDER)
10850                        		__ld.umq	_map_blk_flag
         1D:DE78  AD 05 2C   			lda	_map_blk_flag
10851                        		__equ_b.uiq	2
         1D:DE7B  C9 02      			cmp	#2
         1D:DE7D  F0 01      			beq	!+
         1D:DE7F  18         			clc
         1D:DE80             	!:
10852                        		__bfalse	.LL502
         1D:DE80  90 1B      			bcc	.LL502
10853                        	
10854                        		.dbg	line,	"include\routines_LEVELS.c", 1501; {
10855                        	
10856                        		.dbg	line,	"include\routines_LEVELS.c", 1502; sgx_map_pxl_y += (2 - i);
10857                        		__ld.wi		2
         1D:DE82  A9 02      			lda.l	#2
         1D:DE84  C2         			cly
10858                        		__sub.um	__joypad_DIR_end - 2  /* i */
         1D:DE85  38         			sec
         1D:DE86  ED 03 23   			sbc	__joypad_DIR_end - 2
         1D:DE89  B0 01      			bcs	!+
         1D:DE8B  88         			dey
         1D:DE8C             	!:
10859                        		__add_st.wmq	_sgx_map_pxl_y
         1D:DE8C  18         			clc
         1D:DE8D  6D E6 26   			adc.l	_sgx_map_pxl_y
         1D:DE90  8D E6 26   			sta.l	_sgx_map_pxl_y
         1D:DE93  98         			tya
         1D:DE94  6D E7 26   			adc.h	_sgx_map_pxl_y
         1D:DE97  8D E7 26   			sta.h	_sgx_map_pxl_y
10860                        	
10861                        		.dbg	line,	"include\routines_LEVELS.c", 1503; break;
10862                        		__bra		.LL501
         1D:DE9A  4C 22 DF   			bra	.LL501
10863                        	
10864                        		.dbg	line,	"include\routines_LEVELS.c", 1504; }
10865                        	
10866                        		.dbg	line,	"include\routines_LEVELS.c", 1506; else
10867    1D:DE9D             	.LL502:
10868                        	
10869                        		.dbg	line,	"include\routines_LEVELS.c", 1507; {
10870                        	
10871                        		.dbg	line,	"include\routines_LEVELS.c", 1508; spr_set(player_id);
10872                        		__ld.umq	_player_id
         1D:DE9D  AD 1A 23   			lda	_player_id
10873                        		__call		_spr_set.1
         1D:DEA0  20 F1 E7   			call	_spr_set.1
10874                        	
10875                        		.dbg	line,	"include\routines_LEVELS.c", 1509; spr_pattern(PLAYER_FALL_VRAM_ADR);
10876                        		__ld.wi		10240
         1D:DEA3  62         			cla
         1D:DEA4  A0 28      			ldy.h	#10240
10877                        		__call		_spr_pattern.1
         1D:DEA6  20 3A E8   			call	_spr_pattern.1
10878                        	
10879                        		.dbg	line,	"include\routines_LEVELS.c", 1511; spr_set(weapon_id);
10880                        		__ld.umq	_weapon_id
         1D:DEA9  AD 29 23   			lda	_weapon_id
10881                        		__call		_spr_set.1
         1D:DEAC  20 F1 E7   			call	_spr_set.1
10882                        	
10883                        		.dbg	line,	"include\routines_LEVELS.c", 1512; spr_pattern(WEAPON_IDLE_VRAM_ADRESS);
10884                        		__ld.wi		31808
         1D:DEAF  A9 40      			lda.l	#31808
         1D:DEB1  A0 7C      			ldy.h	#31808
10885                        		__call		_spr_pattern.1
         1D:DEB3  20 3A E8   			call	_spr_pattern.1
10886                        	
10887                        		.dbg	line,	"include\routines_LEVELS.c", 1513; spr_y(player_pos_y+4);
10888                        		__ld.wm		_player_pos_y
         1D:DEB6  AD 03 25   			lda.l	_player_pos_y
         1D:DEB9  AC 04 25   			ldy.h	_player_pos_y
10889                        		__add.wi	4
         1D:DEBC  18         			clc
         1D:DEBD  69 04      			adc.l	#4
         1D:DEBF  90 01      			bcc	!+
         1D:DEC1  C8         			iny
         1D:DEC2             	!:
10890                        		__call		_spr_y.1
         1D:DEC2  20 2D E8   			call	_spr_y.1
10891                        	
10892                        		.dbg	line,	"include\routines_LEVELS.c", 1515; if(player_axis == AXIS_RIGHT)
10893                        		__not.um	_player_axis
         1D:DEC5  AD 1C 23   			lda	_player_axis
         1D:DEC8  18         			clc
         1D:DEC9  D0 01      			bne	!+
         1D:DECB  38         			sec
         1D:DECC             	!:
10894                        		__bfalse	.LL504
         1D:DECC  90 11      			bcc	.LL504
10895                        	
10896                        		.dbg	line,	"include\routines_LEVELS.c", 1516; {
10897                        	
10898                        		.dbg	line,	"include\routines_LEVELS.c", 1517; spr_x(player_pos_x-4);
10899                        		__ld.wm		_player_pos_x
         1D:DECE  AD 01 25   			lda.l	_player_pos_x
         1D:DED1  AC 02 25   			ldy.h	_player_pos_x
10900                        		__sub.wi	4
         1D:DED4  38         			sec
         1D:DED5  E9 04      			sbc.l	#4
         1D:DED7  B0 01      			bcs	!+
         1D:DED9  88         			dey
         1D:DEDA             	!:
10901                        		__call		_spr_x.1
         1D:DEDA  20 1E E8   			call	_spr_x.1
10902                        	
10903                        		.dbg	line,	"include\routines_LEVELS.c", 1518; }
10904                        	
10905                        		.dbg	line,	"include\routines_LEVELS.c", 1519; 
10906                        	
10907                        		.dbg	line,	"include\routines_LEVELS.c", 1520; else
10908                        		__bra		.LL505
         1D:DEDD  80 0F      			bra	.LL505
10909    1D:DEDF             	.LL504:
10910                        	
10911                        		.dbg	line,	"include\routines_LEVELS.c", 1521; {
10912                        	
10913                        		.dbg	line,	"include\routines_LEVELS.c", 1522; spr_x(player_pos_x+20);
10914                        		__ld.wm		_player_pos_x
         1D:DEDF  AD 01 25   			lda.l	_player_pos_x
         1D:DEE2  AC 02 25   			ldy.h	_player_pos_x
10915                        		__add.wi	20
         1D:DEE5  18         			clc
         1D:DEE6  69 14      			adc.l	#20
         1D:DEE8  90 01      			bcc	!+
         1D:DEEA  C8         			iny
         1D:DEEB             	!:
10916                        		__call		_spr_x.1
         1D:DEEB  20 1E E8   			call	_spr_x.1
10917                        	
10918                        		.dbg	line,	"include\routines_LEVELS.c", 1523; }
10919    1D:DEEE             	.LL505:
10920                        	
10921                        		.dbg	line,	"include\routines_LEVELS.c", 1524; 
10922                        	
10923                        		.dbg	line,	"include\routines_LEVELS.c", 1526; jump_ladder = FALSE;
10924                        		__st.umiq	0, _jump_ladder
         1D:DEEE  9C 24 23   			stz	_jump_ladder
10925                        	
10926                        		.dbg	line,	"include\routines_LEVELS.c", 1527; player_index_jump = 0;
10927                        		__st.umiq	0, _player_index_jump
         1D:DEF1  9C 1F 23   			stz	_player_index_jump
10928                        	
10929                        		.dbg	line,	"include\routines_LEVELS.c", 1528; player_index_fall = 0;
10930                        		__st.umiq	0, _player_index_fall
         1D:DEF4  9C 20 23   			stz	_player_index_fall
10931                        	
10932                        		.dbg	line,	"include\routines_LEVELS.c", 1529; fall_ladder = TRUE;
10933                        		__st.umiq	1, _fall_ladder
         1D:DEF7  A9 01      			lda.l	#1
         1D:DEF9  8D 26 23   			sta	_fall_ladder
10934                        	
10935                        		.dbg	line,	"include\routines_LEVELS.c", 1530; player_state = STATE_FALL;
10936                        		__st.umiq	9, _player_state
         1D:DEFC  A9 09      			lda.l	#9
         1D:DEFE  8D 1B 23   			sta	_player_state
10937                        	
10938                        		.dbg	line,	"include\routines_LEVELS.c", 1531; }
10939    1D:DF01             	.LL503	.alias		.LL499
10940                        	
10941                        		.dbg	line,	"include\routines_LEVELS.c", 1532; }
10942                        		__bra		.LL499
         1D:DF01  4C 4F DE   			bra	.LL499
10943    1D:DF04             	.LL501	.alias		.LL506
10944                        	
10945                        		.dbg	line,	"include\routines_LEVELS.c", 1533; }
10946                        	
10947                        		.dbg	line,	"include\routines_LEVELS.c", 1535; else
10948                        		__bra		.LL506
         1D:DF04  80 1C      			bra	.LL506
10949    1D:DF06             	.LL497:
10950                        	
10951                        		.dbg	line,	"include\routines_LEVELS.c", 1536; {
10952                        	
10953                        		.dbg	line,	"include\routines_LEVELS.c", 1537; spr_set(weapon_id);
10954                        		__ld.umq	_weapon_id
         1D:DF06  AD 29 23   			lda	_weapon_id
10955                        		__call		_spr_set.1
         1D:DF09  20 F1 E7   			call	_spr_set.1
10956                        	
10957                        		.dbg	line,	"include\routines_LEVELS.c", 1538; spr_hide();
10958                        		__call		_spr_hide
         1D:DF0C  20 0C E8   			call	_spr_hide
10959                        	
10960                        		.dbg	line,	"include\routines_LEVELS.c", 1539; 
10961                        	
10962                        		.dbg	line,	"include\routines_LEVELS.c", 1540; sgx_map_pxl_y += 2;
10963                        		__add_st.wmiq	2, _sgx_map_pxl_y
         1D:DF0F  18         			clc
         1D:DF10  AD E6 26   			lda.l	_sgx_map_pxl_y
         1D:DF13  69 02      			adc.l	#2
         1D:DF15  8D E6 26   			sta.l	_sgx_map_pxl_y
         1D:DF18  90 03      			bcc	!+
         1D:DF1A  EE E7 26   			inc.h	_sgx_map_pxl_y
         1D:DF1D             	!:
10964                        	
10965                        		.dbg	line,	"include\routines_LEVELS.c", 1541; player_state = STATE_CLIMB_DOWN;
10966                        		__st.umiq	12, _player_state
         1D:DF1D  A9 0C      			lda.l	#12
         1D:DF1F  8D 1B 23   			sta	_player_state
10967                        	
10968                        		.dbg	line,	"include\routines_LEVELS.c", 1542; }
10969    1D:DF22             	.LL506:
10970                        	
10971                        		.dbg	line,	"include\routines_LEVELS.c", 1543; }
10972                        	
10973                        		.dbg	line,	"include\routines_LEVELS.c", 1544; }
10974    1D:DF22             	.LL496:
10975                        	
10976                        		.dbg	line,	"include\routines_LEVELS.c", 1545; }
10977    1D:DF22             	.LL493:
10978    1D:DF22             	.LL492:
10979                        	
10980                        		.dbg	line,	"include\routines_LEVELS.c", 1546; }
10981    1D:DF22             	.LL489:
10982    1D:DF22             	.LL488:
10983    1D:DF22             	.LL475:
10984    1D:DF22             	.LL442:
10985    1D:DF22             	.LL399:
10986                        		__return	0
         1D:DF22  4C EF FF   			jmp	leave_proc
10987                        		.dbg	clear
10988                        		.endp
10989               2303     		.bss
10990    F8:2303             			ds	2
10991    F8:2305             	__joypad_DIR_end:
10992               E31D     		.code
10993                        		.pceas
10994                        	
10995                        		.dbg	line,	"include\routines_LEVELS.c", 1555; void update_PLAYER()
10996                        		.dbg	line,	"include\routines_LEVELS.c", 1556; {
10997                        	;***********************
10998                        	;***********************
10999                        	
11000                        		.hucc
11001    01:C364             		.proc		_update_PLAYER
11002                        		__enter		_update_PLAYER
11003                        	
11004                        		.dbg	line,	"include\routines_LEVELS.c", 1557; if(player_state == STATE_IDLE)
11005                        		__not.um	_player_state
         01:C364  AD 1B 23   			lda	_player_state
         01:C367  18         			clc
         01:C368  D0 01      			bne	!+
         01:C36A  38         			sec
         01:C36B             	!:
11006                        		__bfalse	.LL508
         01:C36B  B0 03 4C 14			bcc	.LL508
         01:C36F  C4          
11007                        	
11008                        		.dbg	line,	"include\routines_LEVELS.c", 1558; {
11009                        	
11010                        		.dbg	line,	"include\routines_LEVELS.c", 1559; if(player_counter_anim == 1)
11011                        		__ld.umq	_player_counter_anim
         01:C370  AD 1E 23   			lda	_player_counter_anim
11012                        		__equ_b.uiq	1
         01:C373  C9 01      			cmp	#1
         01:C375  F0 01      			beq	!+
         01:C377  18         			clc
         01:C378             	!:
11013                        		__bfalse	.LL509
         01:C378  90 0F      			bcc	.LL509
11014                        	
11015                        		.dbg	line,	"include\routines_LEVELS.c", 1560; {
11016                        	
11017                        		.dbg	line,	"include\routines_LEVELS.c", 1561; spr_set(player_id);
11018                        		__ld.umq	_player_id
         01:C37A  AD 1A 23   			lda	_player_id
11019                        		__call		_spr_set.1
         01:C37D  20 F1 E7   			call	_spr_set.1
11020                        	
11021                        		.dbg	line,	"include\routines_LEVELS.c", 1562; spr_pattern(PLAYER_IDLE_VRAM_ADR);
11022                        		__ld.wi		6144
         01:C380  62         			cla
         01:C381  A0 18      			ldy.h	#6144
11023                        		__call		_spr_pattern.1
         01:C383  20 3A E8   			call	_spr_pattern.1
11024                        	
11025                        		.dbg	line,	"include\routines_LEVELS.c", 1564; player_counter_anim = 0;
11026                        		__st.umiq	0, _player_counter_anim
         01:C386  9C 1E 23   			stz	_player_counter_anim
11027                        	
11028                        		.dbg	line,	"include\routines_LEVELS.c", 1565; }
11029                        	
11030                        		.dbg	line,	"include\routines_LEVELS.c", 1567; recenter_CAMERA();
11031    01:C389             	.LL509:
11032                        		__call		_recenter_CAMERA
         01:C389  20 1D FF   			call	_recenter_CAMERA
11033                        	
11034                        		.dbg	line,	"include\routines_LEVELS.c", 1570; // CHECK COLLISION WITH LEFT FLOOR //
11035                        	
11036                        		.dbg	line,	"include\routines_LEVELS.c", 1571; collision_PLAYER_BG( 10 , 32 );//8
11037                        		__ld.wi		10
         01:C38C  A9 0A      			lda.l	#10
         01:C38E  C2         			cly
11038                        		__pusharg.wr
         01:C38F  A6 8D      			ldx	<__sp
         01:C391  CA         			dex
         01:C392  CA         			dex
         01:C393  95 08      			sta.l	<__stack, x
         01:C395  94 09      			sty.h	<__stack, x
         01:C397  86 8D      			stx	<__sp
11039                        		__ld.wi		32
         01:C399  A9 20      			lda.l	#32
         01:C39B  C2         			cly
11040                        		__pusharg.wr
         01:C39C  A6 8D      			ldx	<__sp
         01:C39E  CA         			dex
         01:C39F  CA         			dex
         01:C3A0  95 08      			sta.l	<__stack, x
         01:C3A2  94 09      			sty.h	<__stack, x
         01:C3A4  86 8D      			stx	<__sp
11041                        		__call		_collision_PLAYER_BG
         01:C3A6  20 31 FF   			call	_collision_PLAYER_BG
11042                        	
11043                        		.dbg	line,	"include\routines_LEVELS.c", 1573; if(map_blk_flag == TILE_EMPTY)
11044                        		__not.um	_map_blk_flag
         01:C3A9  AD 05 2C   			lda	_map_blk_flag
         01:C3AC  18         			clc
         01:C3AD  D0 01      			bne	!+
         01:C3AF  38         			sec
         01:C3B0             	!:
11045                        		__bfalse	.LL510
         01:C3B0  90 34      			bcc	.LL510
11046                        	
11047                        		.dbg	line,	"include\routines_LEVELS.c", 1574; {
11048                        	
11049                        		.dbg	line,	"include\routines_LEVELS.c", 1575; // CHECK COLLISION WITH RIGHT FLOOR //
11050                        	
11051                        		.dbg	line,	"include\routines_LEVELS.c", 1576; collision_PLAYER_BG( 22 , 32 );//24
11052                        		__ld.wi		22
         01:C3B2  A9 16      			lda.l	#22
         01:C3B4  C2         			cly
11053                        		__pusharg.wr
         01:C3B5  A6 8D      			ldx	<__sp
         01:C3B7  CA         			dex
         01:C3B8  CA         			dex
         01:C3B9  95 08      			sta.l	<__stack, x
         01:C3BB  94 09      			sty.h	<__stack, x
         01:C3BD  86 8D      			stx	<__sp
11054                        		__ld.wi		32
         01:C3BF  A9 20      			lda.l	#32
         01:C3C1  C2         			cly
11055                        		__pusharg.wr
         01:C3C2  A6 8D      			ldx	<__sp
         01:C3C4  CA         			dex
         01:C3C5  CA         			dex
         01:C3C6  95 08      			sta.l	<__stack, x
         01:C3C8  94 09      			sty.h	<__stack, x
         01:C3CA  86 8D      			stx	<__sp
11056                        		__call		_collision_PLAYER_BG
         01:C3CC  20 31 FF   			call	_collision_PLAYER_BG
11057                        	
11058                        		.dbg	line,	"include\routines_LEVELS.c", 1578; if(map_blk_flag == TILE_EMPTY)
11059                        		__not.um	_map_blk_flag
         01:C3CF  AD 05 2C   			lda	_map_blk_flag
         01:C3D2  18         			clc
         01:C3D3  D0 01      			bne	!+
         01:C3D5  38         			sec
         01:C3D6             	!:
11060                        		__bfalse	.LL511
         01:C3D6  90 0E      			bcc	.LL511
11061                        	
11062                        		.dbg	line,	"include\routines_LEVELS.c", 1579; {
11063                        	
11064                        		.dbg	line,	"include\routines_LEVELS.c", 1580; //set_far_base(TABLE_PLAYER_TILES_BANK[player_naked],TABLE_PLAYER_TILES_ADR[player_naked]);
11065                        	
11066                        		.dbg	line,	"include\routines_LEVELS.c", 1581; //far_load_vram(PLAYER_VRAM_ADR,TILES_16);
11067                        	
11068                        		.dbg	line,	"include\routines_LEVELS.c", 1583; jump_ladder = FALSE;
11069                        		__st.umiq	0, _jump_ladder
         01:C3D8  9C 24 23   			stz	_jump_ladder
11070                        	
11071                        		.dbg	line,	"include\routines_LEVELS.c", 1584; player_index_jump = 0;
11072                        		__st.umiq	0, _player_index_jump
         01:C3DB  9C 1F 23   			stz	_player_index_jump
11073                        	
11074                        		.dbg	line,	"include\routines_LEVELS.c", 1585; player_index_fall = 0;
11075                        		__st.umiq	0, _player_index_fall
         01:C3DE  9C 20 23   			stz	_player_index_fall
11076                        	
11077                        		.dbg	line,	"include\routines_LEVELS.c", 1586; player_state = STATE_FALL;
11078                        		__st.umiq	9, _player_state
         01:C3E1  A9 09      			lda.l	#9
         01:C3E3  8D 1B 23   			sta	_player_state
11079                        	
11080                        		.dbg	line,	"include\routines_LEVELS.c", 1587; }
11081                        	
11082                        		.dbg	line,	"include\routines_LEVELS.c", 1588; }
11083    01:C3E6             	.LL511:
11084                        	
11085                        		.dbg	line,	"include\routines_LEVELS.c", 1590; spr_set(weapon_id);
11086    01:C3E6             	.LL510:
11087                        		__ld.umq	_weapon_id
         01:C3E6  AD 29 23   			lda	_weapon_id
11088                        		__call		_spr_set.1
         01:C3E9  20 F1 E7   			call	_spr_set.1
11089                        	
11090                        		.dbg	line,	"include\routines_LEVELS.c", 1591; spr_pattern(WEAPON_IDLE_VRAM_ADRESS);
11091                        		__ld.wi		31808
         01:C3EC  A9 40      			lda.l	#31808
         01:C3EE  A0 7C      			ldy.h	#31808
11092                        		__call		_spr_pattern.1
         01:C3F0  20 3A E8   			call	_spr_pattern.1
11093                        	
11094                        		.dbg	line,	"include\routines_LEVELS.c", 1592; spr_x(player_pos_x+8);
11095                        		__ld.wm		_player_pos_x
         01:C3F3  AD 01 25   			lda.l	_player_pos_x
         01:C3F6  AC 02 25   			ldy.h	_player_pos_x
11096                        		__add.wi	8
         01:C3F9  18         			clc
         01:C3FA  69 08      			adc.l	#8
         01:C3FC  90 01      			bcc	!+
         01:C3FE  C8         			iny
         01:C3FF             	!:
11097                        		__call		_spr_x.1
         01:C3FF  20 1E E8   			call	_spr_x.1
11098                        	
11099                        		.dbg	line,	"include\routines_LEVELS.c", 1593; spr_y(player_pos_y+16);
11100                        		__ld.wm		_player_pos_y
         01:C402  AD 03 25   			lda.l	_player_pos_y
         01:C405  AC 04 25   			ldy.h	_player_pos_y
11101                        		__add.wi	16
         01:C408  18         			clc
         01:C409  69 10      			adc.l	#16
         01:C40B  90 01      			bcc	!+
         01:C40D  C8         			iny
         01:C40E             	!:
11102                        		__call		_spr_y.1
         01:C40E  20 2D E8   			call	_spr_y.1
11103                        	
11104                        		.dbg	line,	"include\routines_LEVELS.c", 1594; }
11105                        	
11106                        		.dbg	line,	"include\routines_LEVELS.c", 1597; else if(player_state == STATE_WALK)
11107                        		__bra		.LL512
         01:C411  4C 14 DC   			bra	.LL512
11108    01:C414             	.LL508:
11109                        		__ld.umq	_player_state
         01:C414  AD 1B 23   			lda	_player_state
11110                        		__equ_b.uiq	1
         01:C417  C9 01      			cmp	#1
         01:C419  F0 01      			beq	!+
         01:C41B  18         			clc
         01:C41C             	!:
11111                        		__bfalse	.LL513
         01:C41C  B0 03 4C C2			bcc	.LL513
         01:C420  C7          
11112                        	
11113                        		.dbg	line,	"include\routines_LEVELS.c", 1598; {
11114                        	
11115                        		.dbg	line,	"include\routines_LEVELS.c", 1599; recenter_CAMERA();
11116                        		__call		_recenter_CAMERA
         01:C421  20 1D FF   			call	_recenter_CAMERA
11117                        	
11118                        		.dbg	line,	"include\routines_LEVELS.c", 1602; //--------------------------------------------------------------------------------------//
11119                        	
11120                        		.dbg	line,	"include\routines_LEVELS.c", 1603; //                                   FLOOR COLLISION                                    //
11121                        	
11122                        		.dbg	line,	"include\routines_LEVELS.c", 1604; //--------------------------------------------------------------------------------------//
11123                        	
11124                        		.dbg	line,	"include\routines_LEVELS.c", 1606; // CHECK COLLISION WITH LEFT FLOOR //
11125                        	
11126                        		.dbg	line,	"include\routines_LEVELS.c", 1607; collision_PLAYER_BG( 10 , 32 );//8
11127                        		__ld.wi		10
         01:C424  A9 0A      			lda.l	#10
         01:C426  C2         			cly
11128                        		__pusharg.wr
         01:C427  A6 8D      			ldx	<__sp
         01:C429  CA         			dex
         01:C42A  CA         			dex
         01:C42B  95 08      			sta.l	<__stack, x
         01:C42D  94 09      			sty.h	<__stack, x
         01:C42F  86 8D      			stx	<__sp
11129                        		__ld.wi		32
         01:C431  A9 20      			lda.l	#32
         01:C433  C2         			cly
11130                        		__pusharg.wr
         01:C434  A6 8D      			ldx	<__sp
         01:C436  CA         			dex
         01:C437  CA         			dex
         01:C438  95 08      			sta.l	<__stack, x
         01:C43A  94 09      			sty.h	<__stack, x
         01:C43C  86 8D      			stx	<__sp
11131                        		__call		_collision_PLAYER_BG
         01:C43E  20 31 FF   			call	_collision_PLAYER_BG
11132                        	
11133                        		.dbg	line,	"include\routines_LEVELS.c", 1609; if(map_blk_flag == TILE_EMPTY)
11134                        		__not.um	_map_blk_flag
         01:C441  AD 05 2C   			lda	_map_blk_flag
         01:C444  18         			clc
         01:C445  D0 01      			bne	!+
         01:C447  38         			sec
         01:C448             	!:
11135                        		__bfalse	.LL514
         01:C448  B0 03 4C 00			bcc	.LL514
         01:C44C  C5          
11136                        	
11137                        		.dbg	line,	"include\routines_LEVELS.c", 1610; {
11138                        	
11139                        		.dbg	line,	"include\routines_LEVELS.c", 1611; // CHECK COLLISION WITH RIGHT FLOOR //
11140                        	
11141                        		.dbg	line,	"include\routines_LEVELS.c", 1612; collision_PLAYER_BG( 22 , 32 );//24
11142                        		__ld.wi		22
         01:C44D  A9 16      			lda.l	#22
         01:C44F  C2         			cly
11143                        		__pusharg.wr
         01:C450  A6 8D      			ldx	<__sp
         01:C452  CA         			dex
         01:C453  CA         			dex
         01:C454  95 08      			sta.l	<__stack, x
         01:C456  94 09      			sty.h	<__stack, x
         01:C458  86 8D      			stx	<__sp
11144                        		__ld.wi		32
         01:C45A  A9 20      			lda.l	#32
         01:C45C  C2         			cly
11145                        		__pusharg.wr
         01:C45D  A6 8D      			ldx	<__sp
         01:C45F  CA         			dex
         01:C460  CA         			dex
         01:C461  95 08      			sta.l	<__stack, x
         01:C463  94 09      			sty.h	<__stack, x
         01:C465  86 8D      			stx	<__sp
11146                        		__call		_collision_PLAYER_BG
         01:C467  20 31 FF   			call	_collision_PLAYER_BG
11147                        	
11148                        		.dbg	line,	"include\routines_LEVELS.c", 1614; if(map_blk_flag == TILE_EMPTY)
11149                        		__not.um	_map_blk_flag
         01:C46A  AD 05 2C   			lda	_map_blk_flag
         01:C46D  18         			clc
         01:C46E  D0 01      			bne	!+
         01:C470  38         			sec
         01:C471             	!:
11150                        		__bfalse	.LL515
         01:C471  90 11      			bcc	.LL515
11151                        	
11152                        		.dbg	line,	"include\routines_LEVELS.c", 1615; {
11153                        	
11154                        		.dbg	line,	"include\routines_LEVELS.c", 1616; /*spr_set(player_id);
11155                        	
11156                        		.dbg	line,	"include\routines_LEVELS.c", 1617; spr_pattern(PLAYER_IDLE_VRAM_ADR);
11157                        	
11158                        		.dbg	line,	"include\routines_LEVELS.c", 1619; spr_set(weapon_id);
11159                        	
11160                        		.dbg	line,	"include\routines_LEVELS.c", 1620; spr_pattern(WEAPON_IDLE_VRAM_ADRESS);
11161                        	
11162                        		.dbg	line,	"include\routines_LEVELS.c", 1621; spr_x(player_pos_x+8);
11163                        	
11164                        		.dbg	line,	"include\routines_LEVELS.c", 1622; spr_y(player_pos_y+16);*/
11165                        	
11166                        		.dbg	line,	"include\routines_LEVELS.c", 1624; jump_ladder = FALSE;
11167                        		__st.umiq	0, _jump_ladder
         01:C473  9C 24 23   			stz	_jump_ladder
11168                        	
11169                        		.dbg	line,	"include\routines_LEVELS.c", 1625; player_index_jump = 0;
11170                        		__st.umiq	0, _player_index_jump
         01:C476  9C 1F 23   			stz	_player_index_jump
11171                        	
11172                        		.dbg	line,	"include\routines_LEVELS.c", 1626; player_index_fall = 0;
11173                        		__st.umiq	0, _player_index_fall
         01:C479  9C 20 23   			stz	_player_index_fall
11174                        	
11175                        		.dbg	line,	"include\routines_LEVELS.c", 1627; player_state = STATE_FALL;
11176                        		__st.umiq	9, _player_state
         01:C47C  A9 09      			lda.l	#9
         01:C47E  8D 1B 23   			sta	_player_state
11177                        	
11178                        		.dbg	line,	"include\routines_LEVELS.c", 1628; }
11179                        	
11180                        		.dbg	line,	"include\routines_LEVELS.c", 1631; else
11181                        		__bra		.LL516
         01:C481  4C 73 C5   			bra	.LL516
11182    01:C484             	.LL515:
11183                        	
11184                        		.dbg	line,	"include\routines_LEVELS.c", 1632; {
11185                        	
11186                        		.dbg	line,	"include\routines_LEVELS.c", 1633; if(player_axis == AXIS_RIGHT)
11187                        		__not.um	_player_axis
         01:C484  AD 1C 23   			lda	_player_axis
         01:C487  18         			clc
         01:C488  D0 01      			bne	!+
         01:C48A  38         			sec
         01:C48B             	!:
11188                        		__bfalse	.LL517
         01:C48B  90 3A      			bcc	.LL517
11189                        	
11190                        		.dbg	line,	"include\routines_LEVELS.c", 1634; {
11191                        	
11192                        		.dbg	line,	"include\routines_LEVELS.c", 1635; // CHECK COLLISION WITH RIGHT WALL //
11193                        	
11194                        		.dbg	line,	"include\routines_LEVELS.c", 1636; collision_PLAYER_BG( 24 , 31 ); // 24+2
11195                        		__ld.wi		24
         01:C48D  A9 18      			lda.l	#24
         01:C48F  C2         			cly
11196                        		__pusharg.wr
         01:C490  A6 8D      			ldx	<__sp
         01:C492  CA         			dex
         01:C493  CA         			dex
         01:C494  95 08      			sta.l	<__stack, x
         01:C496  94 09      			sty.h	<__stack, x
         01:C498  86 8D      			stx	<__sp
11197                        		__ld.wi		31
         01:C49A  A9 1F      			lda.l	#31
         01:C49C  C2         			cly
11198                        		__pusharg.wr
         01:C49D  A6 8D      			ldx	<__sp
         01:C49F  CA         			dex
         01:C4A0  CA         			dex
         01:C4A1  95 08      			sta.l	<__stack, x
         01:C4A3  94 09      			sty.h	<__stack, x
         01:C4A5  86 8D      			stx	<__sp
11199                        		__call		_collision_PLAYER_BG
         01:C4A7  20 31 FF   			call	_collision_PLAYER_BG
11200                        	
11201                        		.dbg	line,	"include\routines_LEVELS.c", 1638; if(map_blk_flag == TILE_EMPTY)
11202                        		__not.um	_map_blk_flag
         01:C4AA  AD 05 2C   			lda	_map_blk_flag
         01:C4AD  18         			clc
         01:C4AE  D0 01      			bne	!+
         01:C4B0  38         			sec
         01:C4B1             	!:
11203                        		__bfalse	.LL518
         01:C4B1  B0 03 4C 73			bcc	.LL518
         01:C4B5  C5          
11204                        	
11205                        		.dbg	line,	"include\routines_LEVELS.c", 1639; {
11206                        	
11207                        		.dbg	line,	"include\routines_LEVELS.c", 1640; sgx_map_pxl_x += 2;
11208                        		__add_st.wmiq	2, _sgx_map_pxl_x
         01:C4B6  18         			clc
         01:C4B7  AD E4 26   			lda.l	_sgx_map_pxl_x
         01:C4BA  69 02      			adc.l	#2
         01:C4BC  8D E4 26   			sta.l	_sgx_map_pxl_x
         01:C4BF  90 03      			bcc	!+
         01:C4C1  EE E5 26   			inc.h	_sgx_map_pxl_x
         01:C4C4             	!:
11209                        	
11210                        		.dbg	line,	"include\routines_LEVELS.c", 1641; }
11211                        	
11212                        		.dbg	line,	"include\routines_LEVELS.c", 1642; }
11213    01:C4C4             	.LL518	.alias		.LL519
11214                        	
11215                        		.dbg	line,	"include\routines_LEVELS.c", 1644; else
11216                        		__bra		.LL519
         01:C4C4  4C 73 C5   			bra	.LL519
11217    01:C4C7             	.LL517:
11218                        	
11219                        		.dbg	line,	"include\routines_LEVELS.c", 1645; {
11220                        	
11221                        		.dbg	line,	"include\routines_LEVELS.c", 1646; // CHECK COLLISION WITH LEFT WALL //
11222                        	
11223                        		.dbg	line,	"include\routines_LEVELS.c", 1647; collision_PLAYER_BG( 8 , 31 ); // 8-2
11224                        		__ld.wi		8
         01:C4C7  A9 08      			lda.l	#8
         01:C4C9  C2         			cly
11225                        		__pusharg.wr
         01:C4CA  A6 8D      			ldx	<__sp
         01:C4CC  CA         			dex
         01:C4CD  CA         			dex
         01:C4CE  95 08      			sta.l	<__stack, x
         01:C4D0  94 09      			sty.h	<__stack, x
         01:C4D2  86 8D      			stx	<__sp
11226                        		__ld.wi		31
         01:C4D4  A9 1F      			lda.l	#31
         01:C4D6  C2         			cly
11227                        		__pusharg.wr
         01:C4D7  A6 8D      			ldx	<__sp
         01:C4D9  CA         			dex
         01:C4DA  CA         			dex
         01:C4DB  95 08      			sta.l	<__stack, x
         01:C4DD  94 09      			sty.h	<__stack, x
         01:C4DF  86 8D      			stx	<__sp
11228                        		__call		_collision_PLAYER_BG
         01:C4E1  20 31 FF   			call	_collision_PLAYER_BG
11229                        	
11230                        		.dbg	line,	"include\routines_LEVELS.c", 1649; if(map_blk_flag == TILE_EMPTY)
11231                        		__not.um	_map_blk_flag
         01:C4E4  AD 05 2C   			lda	_map_blk_flag
         01:C4E7  18         			clc
         01:C4E8  D0 01      			bne	!+
         01:C4EA  38         			sec
         01:C4EB             	!:
11232                        		__bfalse	.LL520
         01:C4EB  B0 03 4C 73			bcc	.LL520
         01:C4EF  C5          
11233                        	
11234                        		.dbg	line,	"include\routines_LEVELS.c", 1650; {
11235                        	
11236                        		.dbg	line,	"include\routines_LEVELS.c", 1651; sgx_map_pxl_x -= 2;
11237                        		__sub_st.wmiq	2, _sgx_map_pxl_x
         01:C4F0  38         			sec
         01:C4F1  AD E4 26   			lda.l	_sgx_map_pxl_x
         01:C4F4  E9 02      			sbc.l	#2
         01:C4F6  8D E4 26   			sta.l	_sgx_map_pxl_x
         01:C4F9  B0 03      			bcs	!+
         01:C4FB  CE E5 26   			dec.h	_sgx_map_pxl_x
         01:C4FE             	!:
11238                        	
11239                        		.dbg	line,	"include\routines_LEVELS.c", 1652; }
11240                        	
11241                        		.dbg	line,	"include\routines_LEVELS.c", 1653; }
11242    01:C4FE             	.LL520	.alias		.LL521
11243    01:C4FE             	.LL519	.alias		.LL521
11244                        	
11245                        		.dbg	line,	"include\routines_LEVELS.c", 1654; }
11246    01:C4FE             	.LL516	.alias		.LL521
11247                        	
11248                        		.dbg	line,	"include\routines_LEVELS.c", 1655; }
11249                        	
11250                        		.dbg	line,	"include\routines_LEVELS.c", 1658; else
11251                        		__bra		.LL521
         01:C4FE  80 73      			bra	.LL521
11252    01:C500             	.LL514:
11253                        	
11254                        		.dbg	line,	"include\routines_LEVELS.c", 1659; {
11255                        	
11256                        		.dbg	line,	"include\routines_LEVELS.c", 1660; if(player_axis == AXIS_RIGHT)
11257                        		__not.um	_player_axis
         01:C500  AD 1C 23   			lda	_player_axis
         01:C503  18         			clc
         01:C504  D0 01      			bne	!+
         01:C506  38         			sec
         01:C507             	!:
11258                        		__bfalse	.LL522
         01:C507  90 36      			bcc	.LL522
11259                        	
11260                        		.dbg	line,	"include\routines_LEVELS.c", 1661; {
11261                        	
11262                        		.dbg	line,	"include\routines_LEVELS.c", 1662; // CHECK COLLISION WITH RIGHT WALL //
11263                        	
11264                        		.dbg	line,	"include\routines_LEVELS.c", 1663; collision_PLAYER_BG( 24 , 31 ); // 24+2
11265                        		__ld.wi		24
         01:C509  A9 18      			lda.l	#24
         01:C50B  C2         			cly
11266                        		__pusharg.wr
         01:C50C  A6 8D      			ldx	<__sp
         01:C50E  CA         			dex
         01:C50F  CA         			dex
         01:C510  95 08      			sta.l	<__stack, x
         01:C512  94 09      			sty.h	<__stack, x
         01:C514  86 8D      			stx	<__sp
11267                        		__ld.wi		31
         01:C516  A9 1F      			lda.l	#31
         01:C518  C2         			cly
11268                        		__pusharg.wr
         01:C519  A6 8D      			ldx	<__sp
         01:C51B  CA         			dex
         01:C51C  CA         			dex
         01:C51D  95 08      			sta.l	<__stack, x
         01:C51F  94 09      			sty.h	<__stack, x
         01:C521  86 8D      			stx	<__sp
11269                        		__call		_collision_PLAYER_BG
         01:C523  20 31 FF   			call	_collision_PLAYER_BG
11270                        	
11271                        		.dbg	line,	"include\routines_LEVELS.c", 1665; if(map_blk_flag == TILE_EMPTY)
11272                        		__not.um	_map_blk_flag
         01:C526  AD 05 2C   			lda	_map_blk_flag
         01:C529  18         			clc
         01:C52A  D0 01      			bne	!+
         01:C52C  38         			sec
         01:C52D             	!:
11273                        		__bfalse	.LL523
         01:C52D  90 44      			bcc	.LL523
11274                        	
11275                        		.dbg	line,	"include\routines_LEVELS.c", 1666; {
11276                        	
11277                        		.dbg	line,	"include\routines_LEVELS.c", 1667; sgx_map_pxl_x += 2;
11278                        		__add_st.wmiq	2, _sgx_map_pxl_x
         01:C52F  18         			clc
         01:C530  AD E4 26   			lda.l	_sgx_map_pxl_x
         01:C533  69 02      			adc.l	#2
         01:C535  8D E4 26   			sta.l	_sgx_map_pxl_x
         01:C538  90 03      			bcc	!+
         01:C53A  EE E5 26   			inc.h	_sgx_map_pxl_x
         01:C53D             	!:
11279                        	
11280                        		.dbg	line,	"include\routines_LEVELS.c", 1668; }
11281                        	
11282                        		.dbg	line,	"include\routines_LEVELS.c", 1669; }
11283    01:C53D             	.LL523	.alias		.LL524
11284                        	
11285                        		.dbg	line,	"include\routines_LEVELS.c", 1671; else
11286                        		__bra		.LL524
         01:C53D  80 34      			bra	.LL524
11287    01:C53F             	.LL522:
11288                        	
11289                        		.dbg	line,	"include\routines_LEVELS.c", 1672; {
11290                        	
11291                        		.dbg	line,	"include\routines_LEVELS.c", 1673; // CHECK COLLISION WITH LEFT WALL //
11292                        	
11293                        		.dbg	line,	"include\routines_LEVELS.c", 1674; collision_PLAYER_BG( 8 , 31 ); // 8-2
11294                        		__ld.wi		8
         01:C53F  A9 08      			lda.l	#8
         01:C541  C2         			cly
11295                        		__pusharg.wr
         01:C542  A6 8D      			ldx	<__sp
         01:C544  CA         			dex
         01:C545  CA         			dex
         01:C546  95 08      			sta.l	<__stack, x
         01:C548  94 09      			sty.h	<__stack, x
         01:C54A  86 8D      			stx	<__sp
11296                        		__ld.wi		31
         01:C54C  A9 1F      			lda.l	#31
         01:C54E  C2         			cly
11297                        		__pusharg.wr
         01:C54F  A6 8D      			ldx	<__sp
         01:C551  CA         			dex
         01:C552  CA         			dex
         01:C553  95 08      			sta.l	<__stack, x
         01:C555  94 09      			sty.h	<__stack, x
         01:C557  86 8D      			stx	<__sp
11298                        		__call		_collision_PLAYER_BG
         01:C559  20 31 FF   			call	_collision_PLAYER_BG
11299                        	
11300                        		.dbg	line,	"include\routines_LEVELS.c", 1676; if(map_blk_flag == TILE_EMPTY)
11301                        		__not.um	_map_blk_flag
         01:C55C  AD 05 2C   			lda	_map_blk_flag
         01:C55F  18         			clc
         01:C560  D0 01      			bne	!+
         01:C562  38         			sec
         01:C563             	!:
11302                        		__bfalse	.LL525
         01:C563  90 0E      			bcc	.LL525
11303                        	
11304                        		.dbg	line,	"include\routines_LEVELS.c", 1677; {
11305                        	
11306                        		.dbg	line,	"include\routines_LEVELS.c", 1678; sgx_map_pxl_x -= 2;
11307                        		__sub_st.wmiq	2, _sgx_map_pxl_x
         01:C565  38         			sec
         01:C566  AD E4 26   			lda.l	_sgx_map_pxl_x
         01:C569  E9 02      			sbc.l	#2
         01:C56B  8D E4 26   			sta.l	_sgx_map_pxl_x
         01:C56E  B0 03      			bcs	!+
         01:C570  CE E5 26   			dec.h	_sgx_map_pxl_x
         01:C573             	!:
11308                        	
11309                        		.dbg	line,	"include\routines_LEVELS.c", 1679; }
11310                        	
11311                        		.dbg	line,	"include\routines_LEVELS.c", 1680; }
11312    01:C573             	.LL525:
11313    01:C573             	.LL524:
11314                        	
11315                        		.dbg	line,	"include\routines_LEVELS.c", 1681; }
11316    01:C573             	.LL521:
11317                        	
11318                        		.dbg	line,	"include\routines_LEVELS.c", 1686; spr_set(player_id);
11319                        		__ld.umq	_player_id
         01:C573  AD 1A 23   			lda	_player_id
11320                        		__call		_spr_set.1
         01:C576  20 F1 E7   			call	_spr_set.1
11321                        	
11322                        		.dbg	line,	"include\routines_LEVELS.c", 1689; player_counter_anim += 1;
11323                        		__add_st.umiq	1, _player_counter_anim
         01:C579  EE 1E 23   			inc	_player_counter_anim
11324                        	
11325                        		.dbg	line,	"include\routines_LEVELS.c", 1692; // UPDATE PLAYER TILES //
11326                        	
11327                        		.dbg	line,	"include\routines_LEVELS.c", 1693; if(player_counter_anim == 1)
11328                        		__ld.umq	_player_counter_anim
         01:C57C  AD 1E 23   			lda	_player_counter_anim
11329                        		__equ_b.uiq	1
         01:C57F  C9 01      			cmp	#1
         01:C581  F0 01      			beq	!+
         01:C583  18         			clc
         01:C584             	!:
11330                        		__bfalse	.LL526
         01:C584  90 2A      			bcc	.LL526
11331                        	
11332                        		.dbg	line,	"include\routines_LEVELS.c", 1694; {
11333                        	
11334                        		.dbg	line,	"include\routines_LEVELS.c", 1695; spr_pattern(PLAYER_IDLE_VRAM_ADR);
11335                        		__ld.wi		6144
         01:C586  62         			cla
         01:C587  A0 18      			ldy.h	#6144
11336                        		__call		_spr_pattern.1
         01:C589  20 3A E8   			call	_spr_pattern.1
11337                        	
11338                        		.dbg	line,	"include\routines_LEVELS.c", 1697; spr_set(weapon_id);
11339                        		__ld.umq	_weapon_id
         01:C58C  AD 29 23   			lda	_weapon_id
11340                        		__call		_spr_set.1
         01:C58F  20 F1 E7   			call	_spr_set.1
11341                        	
11342                        		.dbg	line,	"include\routines_LEVELS.c", 1698; spr_pattern(WEAPON_IDLE_VRAM_ADRESS);
11343                        		__ld.wi		31808
         01:C592  A9 40      			lda.l	#31808
         01:C594  A0 7C      			ldy.h	#31808
11344                        		__call		_spr_pattern.1
         01:C596  20 3A E8   			call	_spr_pattern.1
11345                        	
11346                        		.dbg	line,	"include\routines_LEVELS.c", 1699; spr_x(player_pos_x+8);
11347                        		__ld.wm		_player_pos_x
         01:C599  AD 01 25   			lda.l	_player_pos_x
         01:C59C  AC 02 25   			ldy.h	_player_pos_x
11348                        		__add.wi	8
         01:C59F  18         			clc
         01:C5A0  69 08      			adc.l	#8
         01:C5A2  90 01      			bcc	!+
         01:C5A4  C8         			iny
         01:C5A5             	!:
11349                        		__call		_spr_x.1
         01:C5A5  20 1E E8   			call	_spr_x.1
11350                        	
11351                        		.dbg	line,	"include\routines_LEVELS.c", 1700; weapon_y_offset = 16;
11352                        		__st.umiq	16, _weapon_y_offset
         01:C5A8  A9 10      			lda.l	#16
         01:C5AA  8D 99 26   			sta	_weapon_y_offset
11353                        	
11354                        		.dbg	line,	"include\routines_LEVELS.c", 1701; //spr_y(player_pos_y+16);
11355                        	
11356                        		.dbg	line,	"include\routines_LEVELS.c", 1702; }
11357                        	
11358                        		.dbg	line,	"include\routines_LEVELS.c", 1705; else if(player_counter_anim == 2)
11359                        		__bra		.LL527
         01:C5AD  4C A6 C7   			bra	.LL527
11360    01:C5B0             	.LL526:
11361                        		__ld.umq	_player_counter_anim
         01:C5B0  AD 1E 23   			lda	_player_counter_anim
11362                        		__equ_b.uiq	2
         01:C5B3  C9 02      			cmp	#2
         01:C5B5  F0 01      			beq	!+
         01:C5B7  18         			clc
         01:C5B8             	!:
11363                        		__bfalse	.LL528
         01:C5B8  90 45      			bcc	.LL528
11364                        	
11365                        		.dbg	line,	"include\routines_LEVELS.c", 1706; {
11366                        	
11367                        		.dbg	line,	"include\routines_LEVELS.c", 1707; spr_pattern(PLAYER_WALK_1_VRAM_ADR);
11368                        		__ld.wi		6400
         01:C5BA  62         			cla
         01:C5BB  A0 19      			ldy.h	#6400
11369                        		__call		_spr_pattern.1
         01:C5BD  20 3A E8   			call	_spr_pattern.1
11370                        	
11371                        		.dbg	line,	"include\routines_LEVELS.c", 1709; spr_set(weapon_id);
11372                        		__ld.umq	_weapon_id
         01:C5C0  AD 29 23   			lda	_weapon_id
11373                        		__call		_spr_set.1
         01:C5C3  20 F1 E7   			call	_spr_set.1
11374                        	
11375                        		.dbg	line,	"include\routines_LEVELS.c", 1710; spr_pattern(WEAPON_WALK_1_VRAM_ADRESS);
11376                        		__ld.wi		31872
         01:C5C6  A9 80      			lda.l	#31872
         01:C5C8  A0 7C      			ldy.h	#31872
11377                        		__call		_spr_pattern.1
         01:C5CA  20 3A E8   			call	_spr_pattern.1
11378                        	
11379                        		.dbg	line,	"include\routines_LEVELS.c", 1711; weapon_y_offset = 17;
11380                        		__st.umiq	17, _weapon_y_offset
         01:C5CD  A9 11      			lda.l	#17
         01:C5CF  8D 99 26   			sta	_weapon_y_offset
11381                        	
11382                        		.dbg	line,	"include\routines_LEVELS.c", 1712; //spr_y(player_pos_y+17);
11383                        	
11384                        		.dbg	line,	"include\routines_LEVELS.c", 1714; if(player_axis == AXIS_RIGHT)
11385                        		__not.um	_player_axis
         01:C5D2  AD 1C 23   			lda	_player_axis
         01:C5D5  18         			clc
         01:C5D6  D0 01      			bne	!+
         01:C5D8  38         			sec
         01:C5D9             	!:
11386                        		__bfalse	.LL529
         01:C5D9  90 12      			bcc	.LL529
11387                        	
11388                        		.dbg	line,	"include\routines_LEVELS.c", 1715; {
11389                        	
11390                        		.dbg	line,	"include\routines_LEVELS.c", 1716; spr_x(player_pos_x+5);
11391                        		__ld.wm		_player_pos_x
         01:C5DB  AD 01 25   			lda.l	_player_pos_x
         01:C5DE  AC 02 25   			ldy.h	_player_pos_x
11392                        		__add.wi	5
         01:C5E1  18         			clc
         01:C5E2  69 05      			adc.l	#5
         01:C5E4  90 01      			bcc	!+
         01:C5E6  C8         			iny
         01:C5E7             	!:
11393                        		__call		_spr_x.1
         01:C5E7  20 1E E8   			call	_spr_x.1
11394                        	
11395                        		.dbg	line,	"include\routines_LEVELS.c", 1717; }
11396                        	
11397                        		.dbg	line,	"include\routines_LEVELS.c", 1719; else
11398                        		__bra		.LL530
         01:C5EA  4C A6 C7   			bra	.LL530
11399    01:C5ED             	.LL529:
11400                        	
11401                        		.dbg	line,	"include\routines_LEVELS.c", 1720; {
11402                        	
11403                        		.dbg	line,	"include\routines_LEVELS.c", 1721; spr_x(player_pos_x+11);
11404                        		__ld.wm		_player_pos_x
         01:C5ED  AD 01 25   			lda.l	_player_pos_x
         01:C5F0  AC 02 25   			ldy.h	_player_pos_x
11405                        		__add.wi	11
         01:C5F3  18         			clc
         01:C5F4  69 0B      			adc.l	#11
         01:C5F6  90 01      			bcc	!+
         01:C5F8  C8         			iny
         01:C5F9             	!:
11406                        		__call		_spr_x.1
         01:C5F9  20 1E E8   			call	_spr_x.1
11407                        	
11408                        		.dbg	line,	"include\routines_LEVELS.c", 1722; }
11409    01:C5FC             	.LL530	.alias		.LL531
11410                        	
11411                        		.dbg	line,	"include\routines_LEVELS.c", 1723; }
11412                        	
11413                        		.dbg	line,	"include\routines_LEVELS.c", 1726; else if(player_counter_anim == 4)
11414                        		__bra		.LL531
         01:C5FC  4C A6 C7   			bra	.LL531
11415    01:C5FF             	.LL528:
11416                        		__ld.umq	_player_counter_anim
         01:C5FF  AD 1E 23   			lda	_player_counter_anim
11417                        		__equ_b.uiq	4
         01:C602  C9 04      			cmp	#4
         01:C604  F0 01      			beq	!+
         01:C606  18         			clc
         01:C607             	!:
11418                        		__bfalse	.LL532
         01:C607  90 40      			bcc	.LL532
11419                        	
11420                        		.dbg	line,	"include\routines_LEVELS.c", 1727; {
11421                        	
11422                        		.dbg	line,	"include\routines_LEVELS.c", 1728; spr_pattern(PLAYER_WALK_2_VRAM_ADR);
11423                        		__ld.wi		6656
         01:C609  62         			cla
         01:C60A  A0 1A      			ldy.h	#6656
11424                        		__call		_spr_pattern.1
         01:C60C  20 3A E8   			call	_spr_pattern.1
11425                        	
11426                        		.dbg	line,	"include\routines_LEVELS.c", 1729; 
11427                        	
11428                        		.dbg	line,	"include\routines_LEVELS.c", 1730; spr_set(weapon_id);
11429                        		__ld.umq	_weapon_id
         01:C60F  AD 29 23   			lda	_weapon_id
11430                        		__call		_spr_set.1
         01:C612  20 F1 E7   			call	_spr_set.1
11431                        	
11432                        		.dbg	line,	"include\routines_LEVELS.c", 1731; spr_pattern(WEAPON_WALK_2_VRAM_ADRESS);
11433                        		__ld.wi		31936
         01:C615  A9 C0      			lda.l	#31936
         01:C617  A0 7C      			ldy.h	#31936
11434                        		__call		_spr_pattern.1
         01:C619  20 3A E8   			call	_spr_pattern.1
11435                        	
11436                        		.dbg	line,	"include\routines_LEVELS.c", 1733; if(player_axis == AXIS_RIGHT)
11437                        		__not.um	_player_axis
         01:C61C  AD 1C 23   			lda	_player_axis
         01:C61F  18         			clc
         01:C620  D0 01      			bne	!+
         01:C622  38         			sec
         01:C623             	!:
11438                        		__bfalse	.LL533
         01:C623  90 12      			bcc	.LL533
11439                        	
11440                        		.dbg	line,	"include\routines_LEVELS.c", 1734; {
11441                        	
11442                        		.dbg	line,	"include\routines_LEVELS.c", 1735; spr_x(player_pos_x+3);
11443                        		__ld.wm		_player_pos_x
         01:C625  AD 01 25   			lda.l	_player_pos_x
         01:C628  AC 02 25   			ldy.h	_player_pos_x
11444                        		__add.wi	3
         01:C62B  18         			clc
         01:C62C  69 03      			adc.l	#3
         01:C62E  90 01      			bcc	!+
         01:C630  C8         			iny
         01:C631             	!:
11445                        		__call		_spr_x.1
         01:C631  20 1E E8   			call	_spr_x.1
11446                        	
11447                        		.dbg	line,	"include\routines_LEVELS.c", 1736; }
11448                        	
11449                        		.dbg	line,	"include\routines_LEVELS.c", 1738; else
11450                        		__bra		.LL534
         01:C634  4C A6 C7   			bra	.LL534
11451    01:C637             	.LL533:
11452                        	
11453                        		.dbg	line,	"include\routines_LEVELS.c", 1739; {
11454                        	
11455                        		.dbg	line,	"include\routines_LEVELS.c", 1740; spr_x(player_pos_x+13);
11456                        		__ld.wm		_player_pos_x
         01:C637  AD 01 25   			lda.l	_player_pos_x
         01:C63A  AC 02 25   			ldy.h	_player_pos_x
11457                        		__add.wi	13
         01:C63D  18         			clc
         01:C63E  69 0D      			adc.l	#13
         01:C640  90 01      			bcc	!+
         01:C642  C8         			iny
         01:C643             	!:
11458                        		__call		_spr_x.1
         01:C643  20 1E E8   			call	_spr_x.1
11459                        	
11460                        		.dbg	line,	"include\routines_LEVELS.c", 1741; }
11461    01:C646             	.LL534	.alias		.LL535
11462                        	
11463                        		.dbg	line,	"include\routines_LEVELS.c", 1742; }
11464                        	
11465                        		.dbg	line,	"include\routines_LEVELS.c", 1745; else if(player_counter_anim == 7)
11466                        		__bra		.LL535
         01:C646  4C A6 C7   			bra	.LL535
11467    01:C649             	.LL532:
11468                        		__ld.umq	_player_counter_anim
         01:C649  AD 1E 23   			lda	_player_counter_anim
11469                        		__equ_b.uiq	7
         01:C64C  C9 07      			cmp	#7
         01:C64E  F0 01      			beq	!+
         01:C650  18         			clc
         01:C651             	!:
11470                        		__bfalse	.LL536
         01:C651  90 40      			bcc	.LL536
11471                        	
11472                        		.dbg	line,	"include\routines_LEVELS.c", 1746; {
11473                        	
11474                        		.dbg	line,	"include\routines_LEVELS.c", 1747; //spr_set(player_id);
11475                        	
11476                        		.dbg	line,	"include\routines_LEVELS.c", 1748; spr_pattern(PLAYER_WALK_3_VRAM_ADR);
11477                        		__ld.wi		6912
         01:C653  62         			cla
         01:C654  A0 1B      			ldy.h	#6912
11478                        		__call		_spr_pattern.1
         01:C656  20 3A E8   			call	_spr_pattern.1
11479                        	
11480                        		.dbg	line,	"include\routines_LEVELS.c", 1750; spr_set(weapon_id);
11481                        		__ld.umq	_weapon_id
         01:C659  AD 29 23   			lda	_weapon_id
11482                        		__call		_spr_set.1
         01:C65C  20 F1 E7   			call	_spr_set.1
11483                        	
11484                        		.dbg	line,	"include\routines_LEVELS.c", 1751; spr_pattern(WEAPON_WALK_1_VRAM_ADRESS);
11485                        		__ld.wi		31872
         01:C65F  A9 80      			lda.l	#31872
         01:C661  A0 7C      			ldy.h	#31872
11486                        		__call		_spr_pattern.1
         01:C663  20 3A E8   			call	_spr_pattern.1
11487                        	
11488                        		.dbg	line,	"include\routines_LEVELS.c", 1753; if(player_axis == AXIS_RIGHT)
11489                        		__not.um	_player_axis
         01:C666  AD 1C 23   			lda	_player_axis
         01:C669  18         			clc
         01:C66A  D0 01      			bne	!+
         01:C66C  38         			sec
         01:C66D             	!:
11490                        		__bfalse	.LL537
         01:C66D  90 12      			bcc	.LL537
11491                        	
11492                        		.dbg	line,	"include\routines_LEVELS.c", 1754; {
11493                        	
11494                        		.dbg	line,	"include\routines_LEVELS.c", 1755; spr_x(player_pos_x+5);
11495                        		__ld.wm		_player_pos_x
         01:C66F  AD 01 25   			lda.l	_player_pos_x
         01:C672  AC 02 25   			ldy.h	_player_pos_x
11496                        		__add.wi	5
         01:C675  18         			clc
         01:C676  69 05      			adc.l	#5
         01:C678  90 01      			bcc	!+
         01:C67A  C8         			iny
         01:C67B             	!:
11497                        		__call		_spr_x.1
         01:C67B  20 1E E8   			call	_spr_x.1
11498                        	
11499                        		.dbg	line,	"include\routines_LEVELS.c", 1756; }
11500                        	
11501                        		.dbg	line,	"include\routines_LEVELS.c", 1758; else
11502                        		__bra		.LL538
         01:C67E  4C A6 C7   			bra	.LL538
11503    01:C681             	.LL537:
11504                        	
11505                        		.dbg	line,	"include\routines_LEVELS.c", 1759; {
11506                        	
11507                        		.dbg	line,	"include\routines_LEVELS.c", 1760; spr_x(player_pos_x+11);
11508                        		__ld.wm		_player_pos_x
         01:C681  AD 01 25   			lda.l	_player_pos_x
         01:C684  AC 02 25   			ldy.h	_player_pos_x
11509                        		__add.wi	11
         01:C687  18         			clc
         01:C688  69 0B      			adc.l	#11
         01:C68A  90 01      			bcc	!+
         01:C68C  C8         			iny
         01:C68D             	!:
11510                        		__call		_spr_x.1
         01:C68D  20 1E E8   			call	_spr_x.1
11511                        	
11512                        		.dbg	line,	"include\routines_LEVELS.c", 1761; }
11513    01:C690             	.LL538	.alias		.LL539
11514                        	
11515                        		.dbg	line,	"include\routines_LEVELS.c", 1762; }
11516                        	
11517                        		.dbg	line,	"include\routines_LEVELS.c", 1765; else if(player_counter_anim == 9)
11518                        		__bra		.LL539
         01:C690  4C A6 C7   			bra	.LL539
11519    01:C693             	.LL536:
11520                        		__ld.umq	_player_counter_anim
         01:C693  AD 1E 23   			lda	_player_counter_anim
11521                        		__equ_b.uiq	9
         01:C696  C9 09      			cmp	#9
         01:C698  F0 01      			beq	!+
         01:C69A  18         			clc
         01:C69B             	!:
11522                        		__bfalse	.LL540
         01:C69B  90 2A      			bcc	.LL540
11523                        	
11524                        		.dbg	line,	"include\routines_LEVELS.c", 1766; {
11525                        	
11526                        		.dbg	line,	"include\routines_LEVELS.c", 1767; //spr_set(player_id);
11527                        	
11528                        		.dbg	line,	"include\routines_LEVELS.c", 1768; spr_pattern(PLAYER_IDLE_VRAM_ADR);
11529                        		__ld.wi		6144
         01:C69D  62         			cla
         01:C69E  A0 18      			ldy.h	#6144
11530                        		__call		_spr_pattern.1
         01:C6A0  20 3A E8   			call	_spr_pattern.1
11531                        	
11532                        		.dbg	line,	"include\routines_LEVELS.c", 1770; spr_set(weapon_id);
11533                        		__ld.umq	_weapon_id
         01:C6A3  AD 29 23   			lda	_weapon_id
11534                        		__call		_spr_set.1
         01:C6A6  20 F1 E7   			call	_spr_set.1
11535                        	
11536                        		.dbg	line,	"include\routines_LEVELS.c", 1771; spr_pattern(WEAPON_IDLE_VRAM_ADRESS);
11537                        		__ld.wi		31808
         01:C6A9  A9 40      			lda.l	#31808
         01:C6AB  A0 7C      			ldy.h	#31808
11538                        		__call		_spr_pattern.1
         01:C6AD  20 3A E8   			call	_spr_pattern.1
11539                        	
11540                        		.dbg	line,	"include\routines_LEVELS.c", 1772; spr_x(player_pos_x+8);
11541                        		__ld.wm		_player_pos_x
         01:C6B0  AD 01 25   			lda.l	_player_pos_x
         01:C6B3  AC 02 25   			ldy.h	_player_pos_x
11542                        		__add.wi	8
         01:C6B6  18         			clc
         01:C6B7  69 08      			adc.l	#8
         01:C6B9  90 01      			bcc	!+
         01:C6BB  C8         			iny
         01:C6BC             	!:
11543                        		__call		_spr_x.1
         01:C6BC  20 1E E8   			call	_spr_x.1
11544                        	
11545                        		.dbg	line,	"include\routines_LEVELS.c", 1773; weapon_y_offset = 16;
11546                        		__st.umiq	16, _weapon_y_offset
         01:C6BF  A9 10      			lda.l	#16
         01:C6C1  8D 99 26   			sta	_weapon_y_offset
11547                        	
11548                        		.dbg	line,	"include\routines_LEVELS.c", 1774; //pr_y(player_pos_y+16);
11549                        	
11550                        		.dbg	line,	"include\routines_LEVELS.c", 1775; }
11551                        	
11552                        		.dbg	line,	"include\routines_LEVELS.c", 1778; else if(player_counter_anim == 12)
11553                        		__bra		.LL541
         01:C6C4  4C A6 C7   			bra	.LL541
11554    01:C6C7             	.LL540:
11555                        		__ld.umq	_player_counter_anim
         01:C6C7  AD 1E 23   			lda	_player_counter_anim
11556                        		__equ_b.uiq	12
         01:C6CA  C9 0C      			cmp	#12
         01:C6CC  F0 01      			beq	!+
         01:C6CE  18         			clc
         01:C6CF             	!:
11557                        		__bfalse	.LL542
         01:C6CF  90 3E      			bcc	.LL542
11558                        	
11559                        		.dbg	line,	"include\routines_LEVELS.c", 1779; {
11560                        	
11561                        		.dbg	line,	"include\routines_LEVELS.c", 1780; spr_pattern(PLAYER_WALK_4_VRAM_ADR);
11562                        		__ld.wi		7168
         01:C6D1  62         			cla
         01:C6D2  A0 1C      			ldy.h	#7168
11563                        		__call		_spr_pattern.1
         01:C6D4  20 3A E8   			call	_spr_pattern.1
11564                        	
11565                        		.dbg	line,	"include\routines_LEVELS.c", 1782; spr_set(weapon_id);
11566                        		__ld.umq	_weapon_id
         01:C6D7  AD 29 23   			lda	_weapon_id
11567                        		__call		_spr_set.1
         01:C6DA  20 F1 E7   			call	_spr_set.1
11568                        	
11569                        		.dbg	line,	"include\routines_LEVELS.c", 1783; weapon_y_offset = 14;
11570                        		__st.umiq	14, _weapon_y_offset
         01:C6DD  A9 0E      			lda.l	#14
         01:C6DF  8D 99 26   			sta	_weapon_y_offset
11571                        	
11572                        		.dbg	line,	"include\routines_LEVELS.c", 1784; //spr_y(player_pos_y+14);
11573                        	
11574                        		.dbg	line,	"include\routines_LEVELS.c", 1786; if(player_axis == AXIS_RIGHT)
11575                        		__not.um	_player_axis
         01:C6E2  AD 1C 23   			lda	_player_axis
         01:C6E5  18         			clc
         01:C6E6  D0 01      			bne	!+
         01:C6E8  38         			sec
         01:C6E9             	!:
11576                        		__bfalse	.LL543
         01:C6E9  90 12      			bcc	.LL543
11577                        	
11578                        		.dbg	line,	"include\routines_LEVELS.c", 1787; {
11579                        	
11580                        		.dbg	line,	"include\routines_LEVELS.c", 1788; spr_x(player_pos_x+12);
11581                        		__ld.wm		_player_pos_x
         01:C6EB  AD 01 25   			lda.l	_player_pos_x
         01:C6EE  AC 02 25   			ldy.h	_player_pos_x
11582                        		__add.wi	12
         01:C6F1  18         			clc
         01:C6F2  69 0C      			adc.l	#12
         01:C6F4  90 01      			bcc	!+
         01:C6F6  C8         			iny
         01:C6F7             	!:
11583                        		__call		_spr_x.1
         01:C6F7  20 1E E8   			call	_spr_x.1
11584                        	
11585                        		.dbg	line,	"include\routines_LEVELS.c", 1789; }
11586                        	
11587                        		.dbg	line,	"include\routines_LEVELS.c", 1791; else
11588                        		__bra		.LL544
         01:C6FA  4C A6 C7   			bra	.LL544
11589    01:C6FD             	.LL543:
11590                        	
11591                        		.dbg	line,	"include\routines_LEVELS.c", 1792; {
11592                        	
11593                        		.dbg	line,	"include\routines_LEVELS.c", 1793; spr_x(player_pos_x+4);
11594                        		__ld.wm		_player_pos_x
         01:C6FD  AD 01 25   			lda.l	_player_pos_x
         01:C700  AC 02 25   			ldy.h	_player_pos_x
11595                        		__add.wi	4
         01:C703  18         			clc
         01:C704  69 04      			adc.l	#4
         01:C706  90 01      			bcc	!+
         01:C708  C8         			iny
         01:C709             	!:
11596                        		__call		_spr_x.1
         01:C709  20 1E E8   			call	_spr_x.1
11597                        	
11598                        		.dbg	line,	"include\routines_LEVELS.c", 1794; }
11599    01:C70C             	.LL544	.alias		.LL545
11600                        	
11601                        		.dbg	line,	"include\routines_LEVELS.c", 1795; }
11602                        	
11603                        		.dbg	line,	"include\routines_LEVELS.c", 1798; else if(player_counter_anim == 15)
11604                        		__bra		.LL545
         01:C70C  4C A6 C7   			bra	.LL545
11605    01:C70F             	.LL542:
11606                        		__ld.umq	_player_counter_anim
         01:C70F  AD 1E 23   			lda	_player_counter_anim
11607                        		__equ_b.uiq	15
         01:C712  C9 0F      			cmp	#15
         01:C714  F0 01      			beq	!+
         01:C716  18         			clc
         01:C717             	!:
11608                        		__bfalse	.LL546
         01:C717  90 3A      			bcc	.LL546
11609                        	
11610                        		.dbg	line,	"include\routines_LEVELS.c", 1799; {
11611                        	
11612                        		.dbg	line,	"include\routines_LEVELS.c", 1800; spr_pattern(PLAYER_WALK_5_VRAM_ADR);
11613                        		__ld.wi		7424
         01:C719  62         			cla
         01:C71A  A0 1D      			ldy.h	#7424
11614                        		__call		_spr_pattern.1
         01:C71C  20 3A E8   			call	_spr_pattern.1
11615                        	
11616                        		.dbg	line,	"include\routines_LEVELS.c", 1802; spr_set(weapon_id);
11617                        		__ld.umq	_weapon_id
         01:C71F  AD 29 23   			lda	_weapon_id
11618                        		__call		_spr_set.1
         01:C722  20 F1 E7   			call	_spr_set.1
11619                        	
11620                        		.dbg	line,	"include\routines_LEVELS.c", 1803; weapon_y_offset = 12;
11621                        		__st.umiq	12, _weapon_y_offset
         01:C725  A9 0C      			lda.l	#12
         01:C727  8D 99 26   			sta	_weapon_y_offset
11622                        	
11623                        		.dbg	line,	"include\routines_LEVELS.c", 1804; //spr_y(player_pos_y+12);
11624                        	
11625                        		.dbg	line,	"include\routines_LEVELS.c", 1806; if(player_axis == AXIS_RIGHT)
11626                        		__not.um	_player_axis
         01:C72A  AD 1C 23   			lda	_player_axis
         01:C72D  18         			clc
         01:C72E  D0 01      			bne	!+
         01:C730  38         			sec
         01:C731             	!:
11627                        		__bfalse	.LL547
         01:C731  90 11      			bcc	.LL547
11628                        	
11629                        		.dbg	line,	"include\routines_LEVELS.c", 1807; {
11630                        	
11631                        		.dbg	line,	"include\routines_LEVELS.c", 1808; spr_x(player_pos_x+15);
11632                        		__ld.wm		_player_pos_x
         01:C733  AD 01 25   			lda.l	_player_pos_x
         01:C736  AC 02 25   			ldy.h	_player_pos_x
11633                        		__add.wi	15
         01:C739  18         			clc
         01:C73A  69 0F      			adc.l	#15
         01:C73C  90 01      			bcc	!+
         01:C73E  C8         			iny
         01:C73F             	!:
11634                        		__call		_spr_x.1
         01:C73F  20 1E E8   			call	_spr_x.1
11635                        	
11636                        		.dbg	line,	"include\routines_LEVELS.c", 1809; }
11637                        	
11638                        		.dbg	line,	"include\routines_LEVELS.c", 1811; else
11639                        		__bra		.LL548
         01:C742  80 62      			bra	.LL548
11640    01:C744             	.LL547:
11641                        	
11642                        		.dbg	line,	"include\routines_LEVELS.c", 1812; {
11643                        	
11644                        		.dbg	line,	"include\routines_LEVELS.c", 1813; spr_x(player_pos_x+1);
11645                        		__ld.wm		_player_pos_x
         01:C744  AD 01 25   			lda.l	_player_pos_x
         01:C747  AC 02 25   			ldy.h	_player_pos_x
11646                        		__add.wi	1
         01:C74A  1A         			inc	a
         01:C74B  D0 01      			bne	!+
         01:C74D  C8         			iny
         01:C74E             	!:
11647                        		__call		_spr_x.1
         01:C74E  20 1E E8   			call	_spr_x.1
11648                        	
11649                        		.dbg	line,	"include\routines_LEVELS.c", 1814; }
11650    01:C751             	.LL548	.alias		.LL549
11651                        	
11652                        		.dbg	line,	"include\routines_LEVELS.c", 1815; }
11653                        	
11654                        		.dbg	line,	"include\routines_LEVELS.c", 1818; else if(player_counter_anim == 18)
11655                        		__bra		.LL549
         01:C751  80 53      			bra	.LL549
11656    01:C753             	.LL546:
11657                        		__ld.umq	_player_counter_anim
         01:C753  AD 1E 23   			lda	_player_counter_anim
11658                        		__equ_b.uiq	18
         01:C756  C9 12      			cmp	#18
         01:C758  F0 01      			beq	!+
         01:C75A  18         			clc
         01:C75B             	!:
11659                        		__bfalse	.LL550
         01:C75B  90 3C      			bcc	.LL550
11660                        	
11661                        		.dbg	line,	"include\routines_LEVELS.c", 1819; {
11662                        	
11663                        		.dbg	line,	"include\routines_LEVELS.c", 1820; spr_pattern(PLAYER_WALK_6_VRAM_ADR);
11664                        		__ld.wi		7680
         01:C75D  62         			cla
         01:C75E  A0 1E      			ldy.h	#7680
11665                        		__call		_spr_pattern.1
         01:C760  20 3A E8   			call	_spr_pattern.1
11666                        	
11667                        		.dbg	line,	"include\routines_LEVELS.c", 1822; spr_set(weapon_id);
11668                        		__ld.umq	_weapon_id
         01:C763  AD 29 23   			lda	_weapon_id
11669                        		__call		_spr_set.1
         01:C766  20 F1 E7   			call	_spr_set.1
11670                        	
11671                        		.dbg	line,	"include\routines_LEVELS.c", 1823; weapon_y_offset = 14;
11672                        		__st.umiq	14, _weapon_y_offset
         01:C769  A9 0E      			lda.l	#14
         01:C76B  8D 99 26   			sta	_weapon_y_offset
11673                        	
11674                        		.dbg	line,	"include\routines_LEVELS.c", 1824; //spr_y(player_pos_y+14);
11675                        	
11676                        		.dbg	line,	"include\routines_LEVELS.c", 1826; if(player_axis == AXIS_RIGHT)
11677                        		__not.um	_player_axis
         01:C76E  AD 1C 23   			lda	_player_axis
         01:C771  18         			clc
         01:C772  D0 01      			bne	!+
         01:C774  38         			sec
         01:C775             	!:
11678                        		__bfalse	.LL551
         01:C775  90 11      			bcc	.LL551
11679                        	
11680                        		.dbg	line,	"include\routines_LEVELS.c", 1827; {
11681                        	
11682                        		.dbg	line,	"include\routines_LEVELS.c", 1828; spr_x(player_pos_x+12);
11683                        		__ld.wm		_player_pos_x
         01:C777  AD 01 25   			lda.l	_player_pos_x
         01:C77A  AC 02 25   			ldy.h	_player_pos_x
11684                        		__add.wi	12
         01:C77D  18         			clc
         01:C77E  69 0C      			adc.l	#12
         01:C780  90 01      			bcc	!+
         01:C782  C8         			iny
         01:C783             	!:
11685                        		__call		_spr_x.1
         01:C783  20 1E E8   			call	_spr_x.1
11686                        	
11687                        		.dbg	line,	"include\routines_LEVELS.c", 1829; }
11688                        	
11689                        		.dbg	line,	"include\routines_LEVELS.c", 1831; else
11690                        		__bra		.LL552
         01:C786  80 1E      			bra	.LL552
11691    01:C788             	.LL551:
11692                        	
11693                        		.dbg	line,	"include\routines_LEVELS.c", 1832; {
11694                        	
11695                        		.dbg	line,	"include\routines_LEVELS.c", 1833; spr_x(player_pos_x+4);
11696                        		__ld.wm		_player_pos_x
         01:C788  AD 01 25   			lda.l	_player_pos_x
         01:C78B  AC 02 25   			ldy.h	_player_pos_x
11697                        		__add.wi	4
         01:C78E  18         			clc
         01:C78F  69 04      			adc.l	#4
         01:C791  90 01      			bcc	!+
         01:C793  C8         			iny
         01:C794             	!:
11698                        		__call		_spr_x.1
         01:C794  20 1E E8   			call	_spr_x.1
11699                        	
11700                        		.dbg	line,	"include\routines_LEVELS.c", 1834; } 
11701    01:C797             	.LL552	.alias		.LL553
11702                        	
11703                        		.dbg	line,	"include\routines_LEVELS.c", 1835; }
11704                        	
11705                        		.dbg	line,	"include\routines_LEVELS.c", 1838; else if(player_counter_anim == 19)
11706                        		__bra		.LL553
         01:C797  80 0D      			bra	.LL553
11707    01:C799             	.LL550:
11708                        		__ld.umq	_player_counter_anim
         01:C799  AD 1E 23   			lda	_player_counter_anim
11709                        		__equ_b.uiq	19
         01:C79C  C9 13      			cmp	#19
         01:C79E  F0 01      			beq	!+
         01:C7A0  18         			clc
         01:C7A1             	!:
11710                        		__bfalse	.LL554
         01:C7A1  90 03      			bcc	.LL554
11711                        	
11712                        		.dbg	line,	"include\routines_LEVELS.c", 1839; {
11713                        	
11714                        		.dbg	line,	"include\routines_LEVELS.c", 1840; player_counter_anim = 0;
11715                        		__st.umiq	0, _player_counter_anim
         01:C7A3  9C 1E 23   			stz	_player_counter_anim
11716                        	
11717                        		.dbg	line,	"include\routines_LEVELS.c", 1841; }
11718                        	
11719                        		.dbg	line,	"include\routines_LEVELS.c", 1844; spr_set(weapon_id);
11720    01:C7A6             	.LL554:
11721    01:C7A6             	.LL553:
11722    01:C7A6             	.LL549:
11723    01:C7A6             	.LL545:
11724    01:C7A6             	.LL541:
11725    01:C7A6             	.LL539:
11726    01:C7A6             	.LL535:
11727    01:C7A6             	.LL531:
11728    01:C7A6             	.LL527:
11729                        		__ld.umq	_weapon_id
         01:C7A6  AD 29 23   			lda	_weapon_id
11730                        		__call		_spr_set.1
         01:C7A9  20 F1 E7   			call	_spr_set.1
11731                        	
11732                        		.dbg	line,	"include\routines_LEVELS.c", 1845; spr_y(player_pos_y + weapon_y_offset);
11733                        		__ld.bm		_weapon_y_offset
         01:C7AC  AD 99 26   			lda	_weapon_y_offset
         01:C7AF  C2         			cly
         01:C7B0  10 01      			bpl	!+
         01:C7B2  88         			dey
         01:C7B3             	!:
11734                        		__add.wm	_player_pos_y
         01:C7B3  18         			clc
         01:C7B4  6D 03 25   			adc.l	_player_pos_y
         01:C7B7  42         			say
         01:C7B8  6D 04 25   			adc.h	_player_pos_y
         01:C7BB  42         			say
11735                        		__call		_spr_y.1
         01:C7BC  20 2D E8   			call	_spr_y.1
11736                        	
11737                        		.dbg	line,	"include\routines_LEVELS.c", 1846; //player_counter_anim += 1;
11738                        	
11739                        		.dbg	line,	"include\routines_LEVELS.c", 1848; }
11740                        	
11741                        		.dbg	line,	"include\routines_LEVELS.c", 1851; else if(player_state == STATE_JUMP)
11742                        		__bra		.LL555
         01:C7BF  4C 14 DC   			bra	.LL555
11743    01:C7C2             	.LL513:
11744                        		__ld.umq	_player_state
         01:C7C2  AD 1B 23   			lda	_player_state
11745                        		__equ_b.uiq	4
         01:C7C5  C9 04      			cmp	#4
         01:C7C7  F0 01      			beq	!+
         01:C7C9  18         			clc
         01:C7CA             	!:
11746                        		__bfalse	.LL556
         01:C7CA  B0 03 4C 08			bcc	.LL556
         01:C7CE  CB          
11747                        	
11748                        		.dbg	line,	"include\routines_LEVELS.c", 1852; {
11749                        	
11750                        		.dbg	line,	"include\routines_LEVELS.c", 1853; unsigned char i;
11751                        	
11752                        		.dbg	line,	"include\routines_LEVELS.c", 1854; i = 1;
11753                        		__st.umiq	1, __update_PLAYER_end - 1  /* i */
         01:C7CF  A9 01      			lda.l	#1
         01:C7D1  8D 0C 23   			sta	__update_PLAYER_end - 1
11754                        	
11755                        		.dbg	line,	"include\routines_LEVELS.c", 1856; // SELECT PLAYER SPRITE //
11756                        	
11757                        		.dbg	line,	"include\routines_LEVELS.c", 1857; spr_set(player_id);
11758                        		__ld.umq	_player_id
         01:C7D4  AD 1A 23   			lda	_player_id
11759                        		__call		_spr_set.1
         01:C7D7  20 F1 E7   			call	_spr_set.1
11760                        	
11761                        		.dbg	line,	"include\routines_LEVELS.c", 1860; // UPDATE PLAYER TILES //
11762                        	
11763                        		.dbg	line,	"include\routines_LEVELS.c", 1861; if(player_counter_anim == 0)
11764                        		__not.um	_player_counter_anim
         01:C7DA  AD 1E 23   			lda	_player_counter_anim
         01:C7DD  18         			clc
         01:C7DE  D0 01      			bne	!+
         01:C7E0  38         			sec
         01:C7E1             	!:
11765                        		__bfalse	.LL557
         01:C7E1  90 0B      			bcc	.LL557
11766                        	
11767                        		.dbg	line,	"include\routines_LEVELS.c", 1862; {
11768                        	
11769                        		.dbg	line,	"include\routines_LEVELS.c", 1863; spr_pattern(PLAYER_JUMP_VRAM_ADR);
11770                        		__ld.wi		7936
         01:C7E3  62         			cla
         01:C7E4  A0 1F      			ldy.h	#7936
11771                        		__call		_spr_pattern.1
         01:C7E6  20 3A E8   			call	_spr_pattern.1
11772                        	
11773                        		.dbg	line,	"include\routines_LEVELS.c", 1865; player_counter_anim = 1;
11774                        		__st.umiq	1, _player_counter_anim
         01:C7E9  A9 01      			lda.l	#1
         01:C7EB  8D 1E 23   			sta	_player_counter_anim
11775                        	
11776                        		.dbg	line,	"include\routines_LEVELS.c", 1866; }
11777                        	
11778                        		.dbg	line,	"include\routines_LEVELS.c", 1871; //**************************************************************************************//
11779                        	
11780                        		.dbg	line,	"include\routines_LEVELS.c", 1872; //                                        V MOVE                                        //
11781                        	
11782                        		.dbg	line,	"include\routines_LEVELS.c", 1873; //**************************************************************************************//
11783                        	
11784                        		.dbg	line,	"include\routines_LEVELS.c", 1875; player_pos_y += TABLE_PLAYER_JUMP_V_GROUND[player_index_jump];
11785    01:C7EE             	.LL557:
11786                        		__ldx.umq	_player_index_jump
         01:C7EE  AE 1F 23   			ldx	_player_index_jump
11787                        		__ld.bax	_TABLE_PLAYER_JUMP_V_GROUND
         01:C7F1  BD 8B 62   			lda	_TABLE_PLAYER_JUMP_V_GROUND, x
         01:C7F4  C2         			cly
         01:C7F5  10 01      			bpl	!+
         01:C7F7  88         			dey
         01:C7F8             	!:
11788                        		__add_st.wmq	_player_pos_y
         01:C7F8  18         			clc
         01:C7F9  6D 03 25   			adc.l	_player_pos_y
         01:C7FC  8D 03 25   			sta.l	_player_pos_y
         01:C7FF  98         			tya
         01:C800  6D 04 25   			adc.h	_player_pos_y
         01:C803  8D 04 25   			sta.h	_player_pos_y
11789                        	
11790                        		.dbg	line,	"include\routines_LEVELS.c", 1878; // CHECK COLLISION WITH CEILING //
11791                        	
11792                        		.dbg	line,	"include\routines_LEVELS.c", 1879; collision_PLAYER_BG( 15 , 8 );
11793                        		__ld.wi		15
         01:C806  A9 0F      			lda.l	#15
         01:C808  C2         			cly
11794                        		__pusharg.wr
         01:C809  A6 8D      			ldx	<__sp
         01:C80B  CA         			dex
         01:C80C  CA         			dex
         01:C80D  95 08      			sta.l	<__stack, x
         01:C80F  94 09      			sty.h	<__stack, x
         01:C811  86 8D      			stx	<__sp
11795                        		__ld.wi		8
         01:C813  A9 08      			lda.l	#8
         01:C815  C2         			cly
11796                        		__pusharg.wr
         01:C816  A6 8D      			ldx	<__sp
         01:C818  CA         			dex
         01:C819  CA         			dex
         01:C81A  95 08      			sta.l	<__stack, x
         01:C81C  94 09      			sty.h	<__stack, x
         01:C81E  86 8D      			stx	<__sp
11797                        		__call		_collision_PLAYER_BG
         01:C820  20 31 FF   			call	_collision_PLAYER_BG
11798                        	
11799                        		.dbg	line,	"include\routines_LEVELS.c", 1881; if(map_blk_flag == TILE_BG)
11800                        		__ld.umq	_map_blk_flag
         01:C823  AD 05 2C   			lda	_map_blk_flag
11801                        		__equ_b.uiq	1
         01:C826  C9 01      			cmp	#1
         01:C828  F0 01      			beq	!+
         01:C82A  18         			clc
         01:C82B             	!:
11802                        		__bfalse	.LL558
         01:C82B  90 5A      			bcc	.LL558
11803                        	
11804                        		.dbg	line,	"include\routines_LEVELS.c", 1882; {
11805                        	
11806                        		.dbg	line,	"include\routines_LEVELS.c", 1883; for(i=1 ; i<8 ; i++)
11807                        		__st.umiq	1, __update_PLAYER_end - 1  /* i */
         01:C82D  A9 01      			lda.l	#1
         01:C82F  8D 0C 23   			sta	__update_PLAYER_end - 1
11808    01:C832             	.LL559:
11809                        		__ld.umq	__update_PLAYER_end - 1  /* i */
         01:C832  AD 0C 23   			lda	__update_PLAYER_end - 1
11810                        		__ult_b.uiq	8
         01:C835  C9 08      			cmp	#8		; Subtract integer from A.
         01:C837  6A         			ror	a		; CC if A < integer.
         01:C838  49 80      			eor	#$80
         01:C83A  2A         			rol	a
11811                        		__btrue		.LL561
         01:C83B  B0 07      			bcs	.LL561
11812                        		__bra		.LL562
         01:C83D  80 48      			bra	.LL562
11813    01:C83F             	.LL560:
11814                        		__inc.umq	__update_PLAYER_end - 1  /* i */
         01:C83F  EE 0C 23   			inc	__update_PLAYER_end - 1
11815                        		__bra		.LL559
         01:C842  80 EE      			bra	.LL559
11816    01:C844             	.LL561:
11817                        	
11818                        		.dbg	line,	"include\routines_LEVELS.c", 1884; {
11819                        	
11820                        		.dbg	line,	"include\routines_LEVELS.c", 1885; collision_PLAYER_BG( 15 , 8 + i );
11821                        		__ld.wi		15
         01:C844  A9 0F      			lda.l	#15
         01:C846  C2         			cly
11822                        		__pusharg.wr
         01:C847  A6 8D      			ldx	<__sp
         01:C849  CA         			dex
         01:C84A  CA         			dex
         01:C84B  95 08      			sta.l	<__stack, x
         01:C84D  94 09      			sty.h	<__stack, x
         01:C84F  86 8D      			stx	<__sp
11823                        		__ld.wi		8
         01:C851  A9 08      			lda.l	#8
         01:C853  C2         			cly
11824                        		__add.um	__update_PLAYER_end - 1  /* i */
         01:C854  18         			clc
         01:C855  6D 0C 23   			adc	__update_PLAYER_end - 1
         01:C858  90 01      			bcc	!+
         01:C85A  C8         			iny
         01:C85B             	!:
11825                        		__pusharg.wr
         01:C85B  A6 8D      			ldx	<__sp
         01:C85D  CA         			dex
         01:C85E  CA         			dex
         01:C85F  95 08      			sta.l	<__stack, x
         01:C861  94 09      			sty.h	<__stack, x
         01:C863  86 8D      			stx	<__sp
11826                        		__call		_collision_PLAYER_BG
         01:C865  20 31 FF   			call	_collision_PLAYER_BG
11827                        	
11828                        		.dbg	line,	"include\routines_LEVELS.c", 1886; {
11829                        	
11830                        		.dbg	line,	"include\routines_LEVELS.c", 1887; if(map_blk_flag == TILE_EMPTY)
11831                        		__not.um	_map_blk_flag
         01:C868  AD 05 2C   			lda	_map_blk_flag
         01:C86B  18         			clc
         01:C86C  D0 01      			bne	!+
         01:C86E  38         			sec
         01:C86F             	!:
11832                        		__bfalse	.LL563
         01:C86F  90 CE      			bcc	.LL563
11833                        	
11834                        		.dbg	line,	"include\routines_LEVELS.c", 1888; {
11835                        	
11836                        		.dbg	line,	"include\routines_LEVELS.c", 1889; player_pos_y += i;
11837                        		__ld.um		__update_PLAYER_end - 1  /* i */
         01:C871  AD 0C 23   			lda	__update_PLAYER_end - 1
         01:C874  C2         			cly
11838                        		__add_st.wmq	_player_pos_y
         01:C875  18         			clc
         01:C876  6D 03 25   			adc.l	_player_pos_y
         01:C879  8D 03 25   			sta.l	_player_pos_y
         01:C87C  98         			tya
         01:C87D  6D 04 25   			adc.h	_player_pos_y
         01:C880  8D 04 25   			sta.h	_player_pos_y
11839                        	
11840                        		.dbg	line,	"include\routines_LEVELS.c", 1890; break;
11841                        		__bra		.LL562
         01:C883  80 02      			bra	.LL562
11842                        	
11843                        		.dbg	line,	"include\routines_LEVELS.c", 1891; }
11844                        	
11845                        		.dbg	line,	"include\routines_LEVELS.c", 1892; }
11846    01:C885             	.LL563	.alias		.LL560
11847                        	
11848                        		.dbg	line,	"include\routines_LEVELS.c", 1893; }
11849                        		__bra		.LL560
         01:C885  80 B8      			bra	.LL560
11850    01:C887             	.LL562:
11851                        	
11852                        		.dbg	line,	"include\routines_LEVELS.c", 1894; }
11853                        	
11854                        		.dbg	line,	"include\routines_LEVELS.c", 1897; // UPDATE PLAYER VERTICAL POSITION //
11855                        	
11856                        		.dbg	line,	"include\routines_LEVELS.c", 1898; spr_y(player_pos_y);
11857    01:C887             	.LL558:
11858                        		__ld.wm		_player_pos_y
         01:C887  AD 03 25   			lda.l	_player_pos_y
         01:C88A  AC 04 25   			ldy.h	_player_pos_y
11859                        		__call		_spr_y.1
         01:C88D  20 2D E8   			call	_spr_y.1
11860                        	
11861                        		.dbg	line,	"include\routines_LEVELS.c", 1901; // UPDATE WEAPON POSITION //
11862                        	
11863                        		.dbg	line,	"include\routines_LEVELS.c", 1902; if(player_attack == FALSE)
11864                        		__not.um	_player_attack
         01:C890  AD 23 23   			lda	_player_attack
         01:C893  18         			clc
         01:C894  D0 01      			bne	!+
         01:C896  38         			sec
         01:C897             	!:
11865                        		__bfalse	.LL564
         01:C897  90 15      			bcc	.LL564
11866                        	
11867                        		.dbg	line,	"include\routines_LEVELS.c", 1903; {
11868                        	
11869                        		.dbg	line,	"include\routines_LEVELS.c", 1904; spr_set(weapon_id);
11870                        		__ld.umq	_weapon_id
         01:C899  AD 29 23   			lda	_weapon_id
11871                        		__call		_spr_set.1
         01:C89C  20 F1 E7   			call	_spr_set.1
11872                        	
11873                        		.dbg	line,	"include\routines_LEVELS.c", 1905; spr_y(player_pos_y+8);
11874                        		__ld.wm		_player_pos_y
         01:C89F  AD 03 25   			lda.l	_player_pos_y
         01:C8A2  AC 04 25   			ldy.h	_player_pos_y
11875                        		__add.wi	8
         01:C8A5  18         			clc
         01:C8A6  69 08      			adc.l	#8
         01:C8A8  90 01      			bcc	!+
         01:C8AA  C8         			iny
         01:C8AB             	!:
11876                        		__call		_spr_y.1
         01:C8AB  20 2D E8   			call	_spr_y.1
11877                        	
11878                        		.dbg	line,	"include\routines_LEVELS.c", 1906; }
11879                        	
11880                        		.dbg	line,	"include\routines_LEVELS.c", 1909; if(player_index_jump < 43)
11881    01:C8AE             	.LL564:
11882                        		__ld.umq	_player_index_jump
         01:C8AE  AD 1F 23   			lda	_player_index_jump
11883                        		__ult_b.uiq	43
         01:C8B1  C9 2B      			cmp	#43		; Subtract integer from A.
         01:C8B3  6A         			ror	a		; CC if A < integer.
         01:C8B4  49 80      			eor	#$80
         01:C8B6  2A         			rol	a
11884                        		__bfalse	.LL565
         01:C8B7  90 03      			bcc	.LL565
11885                        	
11886                        		.dbg	line,	"include\routines_LEVELS.c", 1910; {
11887                        	
11888                        		.dbg	line,	"include\routines_LEVELS.c", 1911; player_index_jump += 1;
11889                        		__add_st.umiq	1, _player_index_jump
         01:C8B9  EE 1F 23   			inc	_player_index_jump
11890                        	
11891                        		.dbg	line,	"include\routines_LEVELS.c", 1912; }
11892                        	
11893                        		.dbg	line,	"include\routines_LEVELS.c", 1917; //--------------------------------------------------------------------------------------//
11894                        	
11895                        		.dbg	line,	"include\routines_LEVELS.c", 1918; //                                   FLOOR COLLISION                                    //
11896                        	
11897                        		.dbg	line,	"include\routines_LEVELS.c", 1919; //--------------------------------------------------------------------------------------//
11898                        	
11899                        		.dbg	line,	"include\routines_LEVELS.c", 1921; if(player_index_jump > 14)
11900    01:C8BC             	.LL565:
11901                        		__ld.umq	_player_index_jump
         01:C8BC  AD 1F 23   			lda	_player_index_jump
11902                        		__ugt_b.uiq	14
         01:C8BF  18         			clc			; Subtract integer+1 from A.
         01:C8C0  E9 0E      			sbc	#14		; CS if A > integer.
11903                        		__bfalse	.LL566
         01:C8C2  B0 03 4C 71			bcc	.LL566
         01:C8C6  CA          
11904                        	
11905                        		.dbg	line,	"include\routines_LEVELS.c", 1922; {
11906                        	
11907                        		.dbg	line,	"include\routines_LEVELS.c", 1923; // CHECK COLLISION WITH LEFT FLOOR //
11908                        	
11909                        		.dbg	line,	"include\routines_LEVELS.c", 1924; collision_PLAYER_BG( 10 , 32 );
11910                        		__ld.wi		10
         01:C8C7  A9 0A      			lda.l	#10
         01:C8C9  C2         			cly
11911                        		__pusharg.wr
         01:C8CA  A6 8D      			ldx	<__sp
         01:C8CC  CA         			dex
         01:C8CD  CA         			dex
         01:C8CE  95 08      			sta.l	<__stack, x
         01:C8D0  94 09      			sty.h	<__stack, x
         01:C8D2  86 8D      			stx	<__sp
11912                        		__ld.wi		32
         01:C8D4  A9 20      			lda.l	#32
         01:C8D6  C2         			cly
11913                        		__pusharg.wr
         01:C8D7  A6 8D      			ldx	<__sp
         01:C8D9  CA         			dex
         01:C8DA  CA         			dex
         01:C8DB  95 08      			sta.l	<__stack, x
         01:C8DD  94 09      			sty.h	<__stack, x
         01:C8DF  86 8D      			stx	<__sp
11914                        		__call		_collision_PLAYER_BG
         01:C8E1  20 31 FF   			call	_collision_PLAYER_BG
11915                        	
11916                        		.dbg	line,	"include\routines_LEVELS.c", 1926; // IF PLAYER TOUCHES THE GROUND TO THE LEFT //
11917                        	
11918                        		.dbg	line,	"include\routines_LEVELS.c", 1927; if(map_blk_flag == TILE_BG)
11919                        		__ld.umq	_map_blk_flag
         01:C8E4  AD 05 2C   			lda	_map_blk_flag
11920                        		__equ_b.uiq	1
         01:C8E7  C9 01      			cmp	#1
         01:C8E9  F0 01      			beq	!+
         01:C8EB  18         			clc
         01:C8EC             	!:
11921                        		__bfalse	.LL567
         01:C8EC  B0 03 4C 9C			bcc	.LL567
         01:C8F0  C9          
11922                        	
11923                        		.dbg	line,	"include\routines_LEVELS.c", 1928; {
11924                        	
11925                        		.dbg	line,	"include\routines_LEVELS.c", 1929; // CALCULATE HOW MANY PIXELS THE PLAYER MOVED INTO THE GROUND //
11926                        	
11927                        		.dbg	line,	"include\routines_LEVELS.c", 1930; for(i=1; i<11 ; i++ )
11928                        		__st.umiq	1, __update_PLAYER_end - 1  /* i */
         01:C8F1  A9 01      			lda.l	#1
         01:C8F3  8D 0C 23   			sta	__update_PLAYER_end - 1
11929    01:C8F6             	.LL568:
11930                        		__ld.umq	__update_PLAYER_end - 1  /* i */
         01:C8F6  AD 0C 23   			lda	__update_PLAYER_end - 1
11931                        		__ult_b.uiq	11
         01:C8F9  C9 0B      			cmp	#11		; Subtract integer from A.
         01:C8FB  6A         			ror	a		; CC if A < integer.
         01:C8FC  49 80      			eor	#$80
         01:C8FE  2A         			rol	a
11932                        		__btrue		.LL570
         01:C8FF  B0 07      			bcs	.LL570
11933                        		__bra		.LL571
         01:C901  80 5B      			bra	.LL571
11934    01:C903             	.LL569:
11935                        		__inc.umq	__update_PLAYER_end - 1  /* i */
         01:C903  EE 0C 23   			inc	__update_PLAYER_end - 1
11936                        		__bra		.LL568
         01:C906  80 EE      			bra	.LL568
11937    01:C908             	.LL570:
11938                        	
11939                        		.dbg	line,	"include\routines_LEVELS.c", 1931; {
11940                        	
11941                        		.dbg	line,	"include\routines_LEVELS.c", 1932; check_TILE_DEPTH( 10 , i);
11942                        		__ld.wi		10
         01:C908  A9 0A      			lda.l	#10
         01:C90A  C2         			cly
11943                        		__pusharg.wr
         01:C90B  A6 8D      			ldx	<__sp
         01:C90D  CA         			dex
         01:C90E  CA         			dex
         01:C90F  95 08      			sta.l	<__stack, x
         01:C911  94 09      			sty.h	<__stack, x
         01:C913  86 8D      			stx	<__sp
11944                        		__ld.um		__update_PLAYER_end - 1  /* i */
         01:C915  AD 0C 23   			lda	__update_PLAYER_end - 1
         01:C918  C2         			cly
11945                        		__pusharg.wr
         01:C919  A6 8D      			ldx	<__sp
         01:C91B  CA         			dex
         01:C91C  CA         			dex
         01:C91D  95 08      			sta.l	<__stack, x
         01:C91F  94 09      			sty.h	<__stack, x
         01:C921  86 8D      			stx	<__sp
11946                        		__call		_check_TILE_DEPTH
         01:C923  20 13 FF   			call	_check_TILE_DEPTH
11947                        	
11948                        		.dbg	line,	"include\routines_LEVELS.c", 1934; if(map_blk_flag == TILE_EMPTY)
11949                        		__not.um	_map_blk_flag
         01:C926  AD 05 2C   			lda	_map_blk_flag
         01:C929  18         			clc
         01:C92A  D0 01      			bne	!+
         01:C92C  38         			sec
         01:C92D             	!:
11950                        		__bfalse	.LL572
         01:C92D  90 D4      			bcc	.LL572
11951                        	
11952                        		.dbg	line,	"include\routines_LEVELS.c", 1935; {
11953                        	
11954                        		.dbg	line,	"include\routines_LEVELS.c", 1936; player_pos_y -= (i - 1);
11955                        		__ld.um		__update_PLAYER_end - 1  /* i */
         01:C92F  AD 0C 23   			lda	__update_PLAYER_end - 1
         01:C932  C2         			cly
11956                        		__sub.wi	1
         01:C933  38         			sec
         01:C934  E9 01      			sbc.l	#1
         01:C936  B0 01      			bcs	!+
         01:C938  88         			dey
         01:C939             	!:
11957                        		__isub_st.wmq	_player_pos_y
         01:C939  38         			sec
         01:C93A  49 FF      			eor	#$FF
         01:C93C  6D 03 25   			adc.l	_player_pos_y
         01:C93F  8D 03 25   			sta.l	_player_pos_y
         01:C942  98         			tya
         01:C943  49 FF      			eor	#$FF
         01:C945  6D 04 25   			adc.h	_player_pos_y
         01:C948  8D 04 25   			sta.h	_player_pos_y
11958                        	
11959                        		.dbg	line,	"include\routines_LEVELS.c", 1937; spr_set(player_id);
11960                        		__ld.umq	_player_id
         01:C94B  AD 1A 23   			lda	_player_id
11961                        		__call		_spr_set.1
         01:C94E  20 F1 E7   			call	_spr_set.1
11962                        	
11963                        		.dbg	line,	"include\routines_LEVELS.c", 1938; spr_y(player_pos_y);
11964                        		__ld.wm		_player_pos_y
         01:C951  AD 03 25   			lda.l	_player_pos_y
         01:C954  AC 04 25   			ldy.h	_player_pos_y
11965                        		__call		_spr_y.1
         01:C957  20 2D E8   			call	_spr_y.1
11966                        	
11967                        		.dbg	line,	"include\routines_LEVELS.c", 1939; break;
11968                        		__bra		.LL571
         01:C95A  80 02      			bra	.LL571
11969                        	
11970                        		.dbg	line,	"include\routines_LEVELS.c", 1940; }
11971                        	
11972                        		.dbg	line,	"include\routines_LEVELS.c", 1942; }
11973    01:C95C             	.LL572	.alias		.LL569
11974                        		__bra		.LL569
         01:C95C  80 A5      			bra	.LL569
11975    01:C95E             	.LL571:
11976                        	
11977                        		.dbg	line,	"include\routines_LEVELS.c", 1944; // SET PLAYER SPRITE NEW POSITION //
11978                        	
11979                        		.dbg	line,	"include\routines_LEVELS.c", 1945; if(player_attack == FALSE)
11980                        		__not.um	_player_attack
         01:C95E  AD 23 23   			lda	_player_attack
         01:C961  18         			clc
         01:C962  D0 01      			bne	!+
         01:C964  38         			sec
         01:C965             	!:
11981                        		__bfalse	.LL573
         01:C965  90 2A      			bcc	.LL573
11982                        	
11983                        		.dbg	line,	"include\routines_LEVELS.c", 1946; {
11984                        	
11985                        		.dbg	line,	"include\routines_LEVELS.c", 1947; spr_set(weapon_id);
11986                        		__ld.umq	_weapon_id
         01:C967  AD 29 23   			lda	_weapon_id
11987                        		__call		_spr_set.1
         01:C96A  20 F1 E7   			call	_spr_set.1
11988                        	
11989                        		.dbg	line,	"include\routines_LEVELS.c", 1948; spr_x(player_pos_x+8);
11990                        		__ld.wm		_player_pos_x
         01:C96D  AD 01 25   			lda.l	_player_pos_x
         01:C970  AC 02 25   			ldy.h	_player_pos_x
11991                        		__add.wi	8
         01:C973  18         			clc
         01:C974  69 08      			adc.l	#8
         01:C976  90 01      			bcc	!+
         01:C978  C8         			iny
         01:C979             	!:
11992                        		__call		_spr_x.1
         01:C979  20 1E E8   			call	_spr_x.1
11993                        	
11994                        		.dbg	line,	"include\routines_LEVELS.c", 1949; spr_y(player_pos_y+16);
11995                        		__ld.wm		_player_pos_y
         01:C97C  AD 03 25   			lda.l	_player_pos_y
         01:C97F  AC 04 25   			ldy.h	_player_pos_y
11996                        		__add.wi	16
         01:C982  18         			clc
         01:C983  69 10      			adc.l	#16
         01:C985  90 01      			bcc	!+
         01:C987  C8         			iny
         01:C988             	!:
11997                        		__call		_spr_y.1
         01:C988  20 2D E8   			call	_spr_y.1
11998                        	
11999                        		.dbg	line,	"include\routines_LEVELS.c", 1950; 
12000                        	
12001                        		.dbg	line,	"include\routines_LEVELS.c", 1951; set_PLAYER_IDLE();
12002                        		__call		_set_PLAYER_IDLE
         01:C98B  20 27 FF   			call	_set_PLAYER_IDLE
12003                        	
12004                        		.dbg	line,	"include\routines_LEVELS.c", 1952; }
12005                        	
12006                        		.dbg	line,	"include\routines_LEVELS.c", 1954; else
12007                        		__bra		.LL574
         01:C98E  4C 14 DC   			bra	.LL574
12008    01:C991             	.LL573:
12009                        	
12010                        		.dbg	line,	"include\routines_LEVELS.c", 1955; {
12011                        	
12012                        		.dbg	line,	"include\routines_LEVELS.c", 1956; player_index_jump = 0;
12013                        		__st.umiq	0, _player_index_jump
         01:C991  9C 1F 23   			stz	_player_index_jump
12014                        	
12015                        		.dbg	line,	"include\routines_LEVELS.c", 1957; player_state = STATE_ATTACK;
12016                        		__st.umiq	2, _player_state
         01:C994  A9 02      			lda.l	#2
         01:C996  8D 1B 23   			sta	_player_state
12017                        	
12018                        		.dbg	line,	"include\routines_LEVELS.c", 1958; }
12019    01:C999             	.LL574	.alias		.LL507
12020                        	
12021                        		.dbg	line,	"include\routines_LEVELS.c", 1960; return;
12022                        		__bra		.LL507
         01:C999  4C 14 DC   			bra	.LL507
12023                        	
12024                        		.dbg	line,	"include\routines_LEVELS.c", 1961; }
12025                        	
12026                        		.dbg	line,	"include\routines_LEVELS.c", 1963; // IF PLAYER TOUCHES THE GROUND TO THE RIGHT //
12027                        	
12028                        		.dbg	line,	"include\routines_LEVELS.c", 1964; else
12029    01:C99C             	.LL567:
12030                        	
12031                        		.dbg	line,	"include\routines_LEVELS.c", 1965; {
12032                        	
12033                        		.dbg	line,	"include\routines_LEVELS.c", 1966; // CHECK COLLISION WITH RIGHT FLOOR //
12034                        	
12035                        		.dbg	line,	"include\routines_LEVELS.c", 1967; collision_PLAYER_BG( 22 , 32 );
12036                        		__ld.wi		22
         01:C99C  A9 16      			lda.l	#22
         01:C99E  C2         			cly
12037                        		__pusharg.wr
         01:C99F  A6 8D      			ldx	<__sp
         01:C9A1  CA         			dex
         01:C9A2  CA         			dex
         01:C9A3  95 08      			sta.l	<__stack, x
         01:C9A5  94 09      			sty.h	<__stack, x
         01:C9A7  86 8D      			stx	<__sp
12038                        		__ld.wi		32
         01:C9A9  A9 20      			lda.l	#32
         01:C9AB  C2         			cly
12039                        		__pusharg.wr
         01:C9AC  A6 8D      			ldx	<__sp
         01:C9AE  CA         			dex
         01:C9AF  CA         			dex
         01:C9B0  95 08      			sta.l	<__stack, x
         01:C9B2  94 09      			sty.h	<__stack, x
         01:C9B4  86 8D      			stx	<__sp
12040                        		__call		_collision_PLAYER_BG
         01:C9B6  20 31 FF   			call	_collision_PLAYER_BG
12041                        	
12042                        		.dbg	line,	"include\routines_LEVELS.c", 1969; if(map_blk_flag == TILE_BG)
12043                        		__ld.umq	_map_blk_flag
         01:C9B9  AD 05 2C   			lda	_map_blk_flag
12044                        		__equ_b.uiq	1
         01:C9BC  C9 01      			cmp	#1
         01:C9BE  F0 01      			beq	!+
         01:C9C0  18         			clc
         01:C9C1             	!:
12045                        		__bfalse	.LL576
         01:C9C1  B0 03 4C 71			bcc	.LL576
         01:C9C5  CA          
12046                        	
12047                        		.dbg	line,	"include\routines_LEVELS.c", 1970; {
12048                        	
12049                        		.dbg	line,	"include\routines_LEVELS.c", 1971; // CALCULATE HOW MANY PIXELS THE PLAYER MOVED INTO THE GROUND //
12050                        	
12051                        		.dbg	line,	"include\routines_LEVELS.c", 1972; for(i=1; i<11 ; i++ )
12052                        		__st.umiq	1, __update_PLAYER_end - 1  /* i */
         01:C9C6  A9 01      			lda.l	#1
         01:C9C8  8D 0C 23   			sta	__update_PLAYER_end - 1
12053    01:C9CB             	.LL577:
12054                        		__ld.umq	__update_PLAYER_end - 1  /* i */
         01:C9CB  AD 0C 23   			lda	__update_PLAYER_end - 1
12055                        		__ult_b.uiq	11
         01:C9CE  C9 0B      			cmp	#11		; Subtract integer from A.
         01:C9D0  6A         			ror	a		; CC if A < integer.
         01:C9D1  49 80      			eor	#$80
         01:C9D3  2A         			rol	a
12056                        		__btrue		.LL579
         01:C9D4  B0 07      			bcs	.LL579
12057                        		__bra		.LL580
         01:C9D6  80 5B      			bra	.LL580
12058    01:C9D8             	.LL578:
12059                        		__inc.umq	__update_PLAYER_end - 1  /* i */
         01:C9D8  EE 0C 23   			inc	__update_PLAYER_end - 1
12060                        		__bra		.LL577
         01:C9DB  80 EE      			bra	.LL577
12061    01:C9DD             	.LL579:
12062                        	
12063                        		.dbg	line,	"include\routines_LEVELS.c", 1973; {
12064                        	
12065                        		.dbg	line,	"include\routines_LEVELS.c", 1974; check_TILE_DEPTH( 22 , i);
12066                        		__ld.wi		22
         01:C9DD  A9 16      			lda.l	#22
         01:C9DF  C2         			cly
12067                        		__pusharg.wr
         01:C9E0  A6 8D      			ldx	<__sp
         01:C9E2  CA         			dex
         01:C9E3  CA         			dex
         01:C9E4  95 08      			sta.l	<__stack, x
         01:C9E6  94 09      			sty.h	<__stack, x
         01:C9E8  86 8D      			stx	<__sp
12068                        		__ld.um		__update_PLAYER_end - 1  /* i */
         01:C9EA  AD 0C 23   			lda	__update_PLAYER_end - 1
         01:C9ED  C2         			cly
12069                        		__pusharg.wr
         01:C9EE  A6 8D      			ldx	<__sp
         01:C9F0  CA         			dex
         01:C9F1  CA         			dex
         01:C9F2  95 08      			sta.l	<__stack, x
         01:C9F4  94 09      			sty.h	<__stack, x
         01:C9F6  86 8D      			stx	<__sp
12070                        		__call		_check_TILE_DEPTH
         01:C9F8  20 13 FF   			call	_check_TILE_DEPTH
12071                        	
12072                        		.dbg	line,	"include\routines_LEVELS.c", 1976; if(map_blk_flag == TILE_EMPTY)
12073                        		__not.um	_map_blk_flag
         01:C9FB  AD 05 2C   			lda	_map_blk_flag
         01:C9FE  18         			clc
         01:C9FF  D0 01      			bne	!+
         01:CA01  38         			sec
         01:CA02             	!:
12074                        		__bfalse	.LL581
         01:CA02  90 D4      			bcc	.LL581
12075                        	
12076                        		.dbg	line,	"include\routines_LEVELS.c", 1977; {
12077                        	
12078                        		.dbg	line,	"include\routines_LEVELS.c", 1978; //spr_set(player_id);
12079                        	
12080                        		.dbg	line,	"include\routines_LEVELS.c", 1979; spr_pattern(PLAYER_IDLE_VRAM_ADR);
12081                        		__ld.wi		6144
         01:CA04  62         			cla
         01:CA05  A0 18      			ldy.h	#6144
12082                        		__call		_spr_pattern.1
         01:CA07  20 3A E8   			call	_spr_pattern.1
12083                        	
12084                        		.dbg	line,	"include\routines_LEVELS.c", 1980; player_pos_y -= (i - 1);
12085                        		__ld.um		__update_PLAYER_end - 1  /* i */
         01:CA0A  AD 0C 23   			lda	__update_PLAYER_end - 1
         01:CA0D  C2         			cly
12086                        		__sub.wi	1
         01:CA0E  38         			sec
         01:CA0F  E9 01      			sbc.l	#1
         01:CA11  B0 01      			bcs	!+
         01:CA13  88         			dey
         01:CA14             	!:
12087                        		__isub_st.wmq	_player_pos_y
         01:CA14  38         			sec
         01:CA15  49 FF      			eor	#$FF
         01:CA17  6D 03 25   			adc.l	_player_pos_y
         01:CA1A  8D 03 25   			sta.l	_player_pos_y
         01:CA1D  98         			tya
         01:CA1E  49 FF      			eor	#$FF
         01:CA20  6D 04 25   			adc.h	_player_pos_y
         01:CA23  8D 04 25   			sta.h	_player_pos_y
12088                        	
12089                        		.dbg	line,	"include\routines_LEVELS.c", 1981; spr_y(player_pos_y);
12090                        		__ld.wm		_player_pos_y
         01:CA26  AD 03 25   			lda.l	_player_pos_y
         01:CA29  AC 04 25   			ldy.h	_player_pos_y
12091                        		__call		_spr_y.1
         01:CA2C  20 2D E8   			call	_spr_y.1
12092                        	
12093                        		.dbg	line,	"include\routines_LEVELS.c", 1982; break;
12094                        		__bra		.LL580
         01:CA2F  80 02      			bra	.LL580
12095                        	
12096                        		.dbg	line,	"include\routines_LEVELS.c", 1983; }
12097                        	
12098                        		.dbg	line,	"include\routines_LEVELS.c", 1985; }
12099    01:CA31             	.LL581	.alias		.LL578
12100                        		__bra		.LL578
         01:CA31  80 A5      			bra	.LL578
12101    01:CA33             	.LL580:
12102                        	
12103                        		.dbg	line,	"include\routines_LEVELS.c", 1987; if(player_attack == FALSE)
12104                        		__not.um	_player_attack
         01:CA33  AD 23 23   			lda	_player_attack
         01:CA36  18         			clc
         01:CA37  D0 01      			bne	!+
         01:CA39  38         			sec
         01:CA3A             	!:
12105                        		__bfalse	.LL582
         01:CA3A  90 2A      			bcc	.LL582
12106                        	
12107                        		.dbg	line,	"include\routines_LEVELS.c", 1988; {
12108                        	
12109                        		.dbg	line,	"include\routines_LEVELS.c", 1989; spr_set(weapon_id);
12110                        		__ld.umq	_weapon_id
         01:CA3C  AD 29 23   			lda	_weapon_id
12111                        		__call		_spr_set.1
         01:CA3F  20 F1 E7   			call	_spr_set.1
12112                        	
12113                        		.dbg	line,	"include\routines_LEVELS.c", 1990; spr_x(player_pos_x+8);
12114                        		__ld.wm		_player_pos_x
         01:CA42  AD 01 25   			lda.l	_player_pos_x
         01:CA45  AC 02 25   			ldy.h	_player_pos_x
12115                        		__add.wi	8
         01:CA48  18         			clc
         01:CA49  69 08      			adc.l	#8
         01:CA4B  90 01      			bcc	!+
         01:CA4D  C8         			iny
         01:CA4E             	!:
12116                        		__call		_spr_x.1
         01:CA4E  20 1E E8   			call	_spr_x.1
12117                        	
12118                        		.dbg	line,	"include\routines_LEVELS.c", 1991; spr_y(player_pos_y+16);
12119                        		__ld.wm		_player_pos_y
         01:CA51  AD 03 25   			lda.l	_player_pos_y
         01:CA54  AC 04 25   			ldy.h	_player_pos_y
12120                        		__add.wi	16
         01:CA57  18         			clc
         01:CA58  69 10      			adc.l	#16
         01:CA5A  90 01      			bcc	!+
         01:CA5C  C8         			iny
         01:CA5D             	!:
12121                        		__call		_spr_y.1
         01:CA5D  20 2D E8   			call	_spr_y.1
12122                        	
12123                        		.dbg	line,	"include\routines_LEVELS.c", 1992; 
12124                        	
12125                        		.dbg	line,	"include\routines_LEVELS.c", 1993; set_PLAYER_IDLE();
12126                        		__call		_set_PLAYER_IDLE
         01:CA60  20 27 FF   			call	_set_PLAYER_IDLE
12127                        	
12128                        		.dbg	line,	"include\routines_LEVELS.c", 1994; }
12129                        	
12130                        		.dbg	line,	"include\routines_LEVELS.c", 1996; else
12131                        		__bra		.LL583
         01:CA63  4C 14 DC   			bra	.LL583
12132    01:CA66             	.LL582:
12133                        	
12134                        		.dbg	line,	"include\routines_LEVELS.c", 1997; {
12135                        	
12136                        		.dbg	line,	"include\routines_LEVELS.c", 1998; player_index_jump = 0;
12137                        		__st.umiq	0, _player_index_jump
         01:CA66  9C 1F 23   			stz	_player_index_jump
12138                        	
12139                        		.dbg	line,	"include\routines_LEVELS.c", 1999; player_state = STATE_ATTACK;
12140                        		__st.umiq	2, _player_state
         01:CA69  A9 02      			lda.l	#2
         01:CA6B  8D 1B 23   			sta	_player_state
12141                        	
12142                        		.dbg	line,	"include\routines_LEVELS.c", 2000; }
12143    01:CA6E             	.LL583	.alias		.LL507
12144                        	
12145                        		.dbg	line,	"include\routines_LEVELS.c", 2002; return;
12146                        		__bra		.LL507
         01:CA6E  4C 14 DC   			bra	.LL507
12147                        	
12148                        		.dbg	line,	"include\routines_LEVELS.c", 2003; }
12149                        	
12150                        		.dbg	line,	"include\routines_LEVELS.c", 2004; }
12151    01:CA71             	.LL576:
12152    01:CA71             	.LL575:
12153                        	
12154                        		.dbg	line,	"include\routines_LEVELS.c", 2005; }
12155                        	
12156                        		.dbg	line,	"include\routines_LEVELS.c", 2010; //--------------------------------------------------------------------------------------//
12157                        	
12158                        		.dbg	line,	"include\routines_LEVELS.c", 2011; //                                   LADDER COLLISION                                   //
12159                        	
12160                        		.dbg	line,	"include\routines_LEVELS.c", 2012; //--------------------------------------------------------------------------------------//
12161                        	
12162                        		.dbg	line,	"include\routines_LEVELS.c", 2014; collision_PLAYER_BG( 16 , 16 );
12163    01:CA71             	.LL566:
12164                        		__ld.wi		16
         01:CA71  A9 10      			lda.l	#16
         01:CA73  C2         			cly
12165                        		__pusharg.wr
         01:CA74  A6 8D      			ldx	<__sp
         01:CA76  CA         			dex
         01:CA77  CA         			dex
         01:CA78  95 08      			sta.l	<__stack, x
         01:CA7A  94 09      			sty.h	<__stack, x
         01:CA7C  86 8D      			stx	<__sp
12166                        		__ld.wi		16
         01:CA7E  A9 10      			lda.l	#16
         01:CA80  C2         			cly
12167                        		__pusharg.wr
         01:CA81  A6 8D      			ldx	<__sp
         01:CA83  CA         			dex
         01:CA84  CA         			dex
         01:CA85  95 08      			sta.l	<__stack, x
         01:CA87  94 09      			sty.h	<__stack, x
         01:CA89  86 8D      			stx	<__sp
12168                        		__call		_collision_PLAYER_BG
         01:CA8B  20 31 FF   			call	_collision_PLAYER_BG
12169                        	
12170                        		.dbg	line,	"include\routines_LEVELS.c", 2016; // IF PLAYER HITS THE LADDER //
12171                        	
12172                        		.dbg	line,	"include\routines_LEVELS.c", 2017; if(map_blk_flag == TILE_LADDER)
12173                        		__ld.umq	_map_blk_flag
         01:CA8E  AD 05 2C   			lda	_map_blk_flag
12174                        		__equ_b.uiq	2
         01:CA91  C9 02      			cmp	#2
         01:CA93  F0 01      			beq	!+
         01:CA95  18         			clc
         01:CA96             	!:
12175                        		__bfalse	.LL584
         01:CA96  B0 03 4C 14			bcc	.LL584
         01:CA9A  DC          
12176                        	
12177                        		.dbg	line,	"include\routines_LEVELS.c", 2018; {
12178                        	
12179                        		.dbg	line,	"include\routines_LEVELS.c", 2019; // CAMERA GOES 8 PX BACKWARD //
12180                        	
12181                        		.dbg	line,	"include\routines_LEVELS.c", 2020; sgx_map_pxl_x = ( (sgx_map_pxl_x >> 3) << 3 );
12182                        		__ld.wm		_sgx_map_pxl_x
         01:CA9B  AD E4 26   			lda.l	_sgx_map_pxl_x
         01:CA9E  AC E5 26   			ldy.h	_sgx_map_pxl_x
12183                        		__lsr.wi	3
         01:CAA1  84 00      			sty	__temp
         01:CAA3  20 3A E2   			jsr	lsrw3
12184                        		__asl.wi	3
         01:CAA6  84 00      			sty	__temp
         01:CAA8  20 D7 E1   			jsr	aslw3
12185                        		__st.wmq	_sgx_map_pxl_x
         01:CAAB  8D E4 26   			sta.l	_sgx_map_pxl_x
         01:CAAE  8C E5 26   			sty.h	_sgx_map_pxl_x
12186                        	
12187                        		.dbg	line,	"include\routines_LEVELS.c", 2022; // SO WE UPDATE THE MAP //
12188                        	
12189                        		.dbg	line,	"include\routines_LEVELS.c", 2023; sgx_scroll_map();
12190                        		__call		_sgx_scroll_map
         01:CAB1  20 63 FF   			call	_sgx_scroll_map
12191                        	
12192                        		.dbg	line,	"include\routines_LEVELS.c", 2025; // CHECK IF THE PLAYER STANDS RIGHT TO THE LADDER //
12193                        	
12194                        		.dbg	line,	"include\routines_LEVELS.c", 2026; collision_PLAYER_BG( 31 , 16 );
12195                        		__ld.wi		31
         01:CAB4  A9 1F      			lda.l	#31
         01:CAB6  C2         			cly
12196                        		__pusharg.wr
         01:CAB7  A6 8D      			ldx	<__sp
         01:CAB9  CA         			dex
         01:CABA  CA         			dex
         01:CABB  95 08      			sta.l	<__stack, x
         01:CABD  94 09      			sty.h	<__stack, x
         01:CABF  86 8D      			stx	<__sp
12197                        		__ld.wi		16
         01:CAC1  A9 10      			lda.l	#16
         01:CAC3  C2         			cly
12198                        		__pusharg.wr
         01:CAC4  A6 8D      			ldx	<__sp
         01:CAC6  CA         			dex
         01:CAC7  CA         			dex
         01:CAC8  95 08      			sta.l	<__stack, x
         01:CACA  94 09      			sty.h	<__stack, x
         01:CACC  86 8D      			stx	<__sp
12199                        		__call		_collision_PLAYER_BG
         01:CACE  20 31 FF   			call	_collision_PLAYER_BG
12200                        	
12201                        		.dbg	line,	"include\routines_LEVELS.c", 2028; if(map_blk_flag == TILE_LADDER)
12202                        		__ld.umq	_map_blk_flag
         01:CAD1  AD 05 2C   			lda	_map_blk_flag
12203                        		__equ_b.uiq	2
         01:CAD4  C9 02      			cmp	#2
         01:CAD6  F0 01      			beq	!+
         01:CAD8  18         			clc
         01:CAD9             	!:
12204                        		__bfalse	.LL585
         01:CAD9  90 0E      			bcc	.LL585
12205                        	
12206                        		.dbg	line,	"include\routines_LEVELS.c", 2029; {
12207                        	
12208                        		.dbg	line,	"include\routines_LEVELS.c", 2030; sgx_map_pxl_x += 8;
12209                        		__add_st.wmiq	8, _sgx_map_pxl_x
         01:CADB  18         			clc
         01:CADC  AD E4 26   			lda.l	_sgx_map_pxl_x
         01:CADF  69 08      			adc.l	#8
         01:CAE1  8D E4 26   			sta.l	_sgx_map_pxl_x
         01:CAE4  90 03      			bcc	!+
         01:CAE6  EE E5 26   			inc.h	_sgx_map_pxl_x
         01:CAE9             	!:
12210                        	
12211                        		.dbg	line,	"include\routines_LEVELS.c", 2031; }
12212                        	
12213                        		.dbg	line,	"include\routines_LEVELS.c", 2033; spr_set(player_id);
12214    01:CAE9             	.LL585:
12215                        		__ld.umq	_player_id
         01:CAE9  AD 1A 23   			lda	_player_id
12216                        		__call		_spr_set.1
         01:CAEC  20 F1 E7   			call	_spr_set.1
12217                        	
12218                        		.dbg	line,	"include\routines_LEVELS.c", 2034; spr_pattern(PLAYER_HANG_VRAM_ADR);
12219                        		__ld.wi		8448
         01:CAEF  62         			cla
         01:CAF0  A0 21      			ldy.h	#8448
12220                        		__call		_spr_pattern.1
         01:CAF2  20 3A E8   			call	_spr_pattern.1
12221                        	
12222                        		.dbg	line,	"include\routines_LEVELS.c", 2035; player_counter_anim = 0;
12223                        		__st.umiq	0, _player_counter_anim
         01:CAF5  9C 1E 23   			stz	_player_counter_anim
12224                        	
12225                        		.dbg	line,	"include\routines_LEVELS.c", 2036; player_index_jump = 0;
12226                        		__st.umiq	0, _player_index_jump
         01:CAF8  9C 1F 23   			stz	_player_index_jump
12227                        	
12228                        		.dbg	line,	"include\routines_LEVELS.c", 2037; jump_ladder = TRUE;
12229                        		__st.umiq	1, _jump_ladder
         01:CAFB  A9 01      			lda.l	#1
         01:CAFD  8D 24 23   			sta	_jump_ladder
12230                        	
12231                        		.dbg	line,	"include\routines_LEVELS.c", 2038; player_state = STATE_HANG;
12232                        		__st.umiq	10, _player_state
         01:CB00  A9 0A      			lda.l	#10
         01:CB02  8D 1B 23   			sta	_player_state
12233                        	
12234                        		.dbg	line,	"include\routines_LEVELS.c", 2039; }
12235                        	
12236                        		.dbg	line,	"include\routines_LEVELS.c", 2040; }
12237    01:CB05             	.LL584	.alias		.LL586
12238                        	
12239                        		.dbg	line,	"include\routines_LEVELS.c", 2043; else if(player_state == STATE_JUMP_RIGHT)
12240                        		__bra		.LL586
         01:CB05  4C 14 DC   			bra	.LL586
12241    01:CB08             	.LL556:
12242                        		__ld.umq	_player_state
         01:CB08  AD 1B 23   			lda	_player_state
12243                        		__equ_b.uiq	5
         01:CB0B  C9 05      			cmp	#5
         01:CB0D  F0 01      			beq	!+
         01:CB0F  18         			clc
         01:CB10             	!:
12244                        		__bfalse	.LL587
         01:CB10  B0 03 4C FB			bcc	.LL587
         01:CB14  CF          
12245                        	
12246                        		.dbg	line,	"include\routines_LEVELS.c", 2044; {
12247                        	
12248                        		.dbg	line,	"include\routines_LEVELS.c", 2045; unsigned char i, camera_y_move;
12249                        	
12250                        		.dbg	line,	"include\routines_LEVELS.c", 2046; i = 1;
12251                        		__st.umiq	1, __update_PLAYER_end - 2  /* i */
         01:CB15  A9 01      			lda.l	#1
         01:CB17  8D 0B 23   			sta	__update_PLAYER_end - 2
12252                        	
12253                        		.dbg	line,	"include\routines_LEVELS.c", 2048; // SELECT PLAYER SPRITE //
12254                        	
12255                        		.dbg	line,	"include\routines_LEVELS.c", 2049; spr_set(player_id);
12256                        		__ld.umq	_player_id
         01:CB1A  AD 1A 23   			lda	_player_id
12257                        		__call		_spr_set.1
         01:CB1D  20 F1 E7   			call	_spr_set.1
12258                        	
12259                        		.dbg	line,	"include\routines_LEVELS.c", 2052; // UPDATE PLAYER TILES //
12260                        	
12261                        		.dbg	line,	"include\routines_LEVELS.c", 2053; if(player_counter_anim == 0)
12262                        		__not.um	_player_counter_anim
         01:CB20  AD 1E 23   			lda	_player_counter_anim
         01:CB23  18         			clc
         01:CB24  D0 01      			bne	!+
         01:CB26  38         			sec
         01:CB27             	!:
12263                        		__bfalse	.LL588
         01:CB27  90 0B      			bcc	.LL588
12264                        	
12265                        		.dbg	line,	"include\routines_LEVELS.c", 2054; {
12266                        	
12267                        		.dbg	line,	"include\routines_LEVELS.c", 2055; spr_pattern(PLAYER_JUMP_VRAM_ADR);
12268                        		__ld.wi		7936
         01:CB29  62         			cla
         01:CB2A  A0 1F      			ldy.h	#7936
12269                        		__call		_spr_pattern.1
         01:CB2C  20 3A E8   			call	_spr_pattern.1
12270                        	
12271                        		.dbg	line,	"include\routines_LEVELS.c", 2057; player_counter_anim = 1;
12272                        		__st.umiq	1, _player_counter_anim
         01:CB2F  A9 01      			lda.l	#1
         01:CB31  8D 1E 23   			sta	_player_counter_anim
12273                        	
12274                        		.dbg	line,	"include\routines_LEVELS.c", 2058; }
12275                        	
12276                        		.dbg	line,	"include\routines_LEVELS.c", 2064; //**************************************************************************************//
12277                        	
12278                        		.dbg	line,	"include\routines_LEVELS.c", 2065; //                                        H MOVE                                        //
12279                        	
12280                        		.dbg	line,	"include\routines_LEVELS.c", 2066; //**************************************************************************************//
12281                        	
12282                        		.dbg	line,	"include\routines_LEVELS.c", 2068; //--------------------------------------------------------------------------------------//
12283                        	
12284                        		.dbg	line,	"include\routines_LEVELS.c", 2069; //                                    WALL COLLISION                                    //
12285                        	
12286                        		.dbg	line,	"include\routines_LEVELS.c", 2070; //--------------------------------------------------------------------------------------//
12287                        	
12288                        		.dbg	line,	"include\routines_LEVELS.c", 2072; // CHECK COLLISION WITH BOTTOM RIGHT WALL //
12289                        	
12290                        		.dbg	line,	"include\routines_LEVELS.c", 2073; collision_PLAYER_BG( 24 , 31 );
12291    01:CB34             	.LL588:
12292                        		__ld.wi		24
         01:CB34  A9 18      			lda.l	#24
         01:CB36  C2         			cly
12293                        		__pusharg.wr
         01:CB37  A6 8D      			ldx	<__sp
         01:CB39  CA         			dex
         01:CB3A  CA         			dex
         01:CB3B  95 08      			sta.l	<__stack, x
         01:CB3D  94 09      			sty.h	<__stack, x
         01:CB3F  86 8D      			stx	<__sp
12294                        		__ld.wi		31
         01:CB41  A9 1F      			lda.l	#31
         01:CB43  C2         			cly
12295                        		__pusharg.wr
         01:CB44  A6 8D      			ldx	<__sp
         01:CB46  CA         			dex
         01:CB47  CA         			dex
         01:CB48  95 08      			sta.l	<__stack, x
         01:CB4A  94 09      			sty.h	<__stack, x
         01:CB4C  86 8D      			stx	<__sp
12296                        		__call		_collision_PLAYER_BG
         01:CB4E  20 31 FF   			call	_collision_PLAYER_BG
12297                        	
12298                        		.dbg	line,	"include\routines_LEVELS.c", 2075; if(map_blk_flag != TILE_BG)
12299                        		__ld.umq	_map_blk_flag
         01:CB51  AD 05 2C   			lda	_map_blk_flag
12300                        		__neq_b.uiq	1
         01:CB54  38         			sec
         01:CB55  49 01      			eor	#1
         01:CB57  D0 01      			bne	!+
         01:CB59  18         			clc
         01:CB5A             	!:
12301                        		__bfalse	.LL589
         01:CB5A  90 6E      			bcc	.LL589
12302                        	
12303                        		.dbg	line,	"include\routines_LEVELS.c", 2076; {
12304                        	
12305                        		.dbg	line,	"include\routines_LEVELS.c", 2077; // CHECK COLLISION WITH TOP RIGHT WALL //
12306                        	
12307                        		.dbg	line,	"include\routines_LEVELS.c", 2078; collision_PLAYER_BG( 24 , 15 );
12308                        		__ld.wi		24
         01:CB5C  A9 18      			lda.l	#24
         01:CB5E  C2         			cly
12309                        		__pusharg.wr
         01:CB5F  A6 8D      			ldx	<__sp
         01:CB61  CA         			dex
         01:CB62  CA         			dex
         01:CB63  95 08      			sta.l	<__stack, x
         01:CB65  94 09      			sty.h	<__stack, x
         01:CB67  86 8D      			stx	<__sp
12310                        		__ld.wi		15
         01:CB69  A9 0F      			lda.l	#15
         01:CB6B  C2         			cly
12311                        		__pusharg.wr
         01:CB6C  A6 8D      			ldx	<__sp
         01:CB6E  CA         			dex
         01:CB6F  CA         			dex
         01:CB70  95 08      			sta.l	<__stack, x
         01:CB72  94 09      			sty.h	<__stack, x
         01:CB74  86 8D      			stx	<__sp
12312                        		__call		_collision_PLAYER_BG
         01:CB76  20 31 FF   			call	_collision_PLAYER_BG
12313                        	
12314                        		.dbg	line,	"include\routines_LEVELS.c", 2080; if(map_blk_flag == TILE_BG)
12315                        		__ld.umq	_map_blk_flag
         01:CB79  AD 05 2C   			lda	_map_blk_flag
12316                        		__equ_b.uiq	1
         01:CB7C  C9 01      			cmp	#1
         01:CB7E  F0 01      			beq	!+
         01:CB80  18         			clc
         01:CB81             	!:
12317                        		__bfalse	.LL590
         01:CB81  90 37      			bcc	.LL590
12318                        	
12319                        		.dbg	line,	"include\routines_LEVELS.c", 2081; {
12320                        	
12321                        		.dbg	line,	"include\routines_LEVELS.c", 2082; check_TILE_DEPTH( 15 , -16 );
12322                        		__ld.wi		15
         01:CB83  A9 0F      			lda.l	#15
         01:CB85  C2         			cly
12323                        		__pusharg.wr
         01:CB86  A6 8D      			ldx	<__sp
         01:CB88  CA         			dex
         01:CB89  CA         			dex
         01:CB8A  95 08      			sta.l	<__stack, x
         01:CB8C  94 09      			sty.h	<__stack, x
         01:CB8E  86 8D      			stx	<__sp
12324                        		__ld.wi		-16
         01:CB90  A9 F0      			lda.l	#-16
         01:CB92  A0 FF      			ldy.h	#-16
12325                        		__pusharg.wr
         01:CB94  A6 8D      			ldx	<__sp
         01:CB96  CA         			dex
         01:CB97  CA         			dex
         01:CB98  95 08      			sta.l	<__stack, x
         01:CB9A  94 09      			sty.h	<__stack, x
         01:CB9C  86 8D      			stx	<__sp
12326                        		__call		_check_TILE_DEPTH
         01:CB9E  20 13 FF   			call	_check_TILE_DEPTH
12327                        	
12328                        		.dbg	line,	"include\routines_LEVELS.c", 2084; if(map_blk_flag == TILE_EMPTY)
12329                        		__not.um	_map_blk_flag
         01:CBA1  AD 05 2C   			lda	_map_blk_flag
         01:CBA4  18         			clc
         01:CBA5  D0 01      			bne	!+
         01:CBA7  38         			sec
         01:CBA8             	!:
12330                        		__bfalse	.LL591
         01:CBA8  90 5A      			bcc	.LL591
12331                        	
12332                        		.dbg	line,	"include\routines_LEVELS.c", 2085; {
12333                        	
12334                        		.dbg	line,	"include\routines_LEVELS.c", 2086; jump_ladder = FALSE;
12335                        		__st.umiq	0, _jump_ladder
         01:CBAA  9C 24 23   			stz	_jump_ladder
12336                        	
12337                        		.dbg	line,	"include\routines_LEVELS.c", 2087; player_index_fall = 0;
12338                        		__st.umiq	0, _player_index_fall
         01:CBAD  9C 20 23   			stz	_player_index_fall
12339                        	
12340                        		.dbg	line,	"include\routines_LEVELS.c", 2088; player_state = STATE_FALL;
12341                        		__st.umiq	9, _player_state
         01:CBB0  A9 09      			lda.l	#9
         01:CBB2  8D 1B 23   			sta	_player_state
12342                        	
12343                        		.dbg	line,	"include\routines_LEVELS.c", 2089; return;
12344                        		__bra		.LL507
         01:CBB5  4C 14 DC   			bra	.LL507
12345                        	
12346                        		.dbg	line,	"include\routines_LEVELS.c", 2090; }
12347                        	
12348                        		.dbg	line,	"include\routines_LEVELS.c", 2091; }
12349    01:CBB8             	.LL591	.alias		.LL592
12350                        	
12351                        		.dbg	line,	"include\routines_LEVELS.c", 2093; else
12352                        		__bra		.LL592
         01:CBB8  80 4A      			bra	.LL592
12353    01:CBBA             	.LL590:
12354                        	
12355                        		.dbg	line,	"include\routines_LEVELS.c", 2094; {
12356                        	
12357                        		.dbg	line,	"include\routines_LEVELS.c", 2095; sgx_map_pxl_x += 2;
12358                        		__add_st.wmiq	2, _sgx_map_pxl_x
         01:CBBA  18         			clc
         01:CBBB  AD E4 26   			lda.l	_sgx_map_pxl_x
         01:CBBE  69 02      			adc.l	#2
         01:CBC0  8D E4 26   			sta.l	_sgx_map_pxl_x
         01:CBC3  90 03      			bcc	!+
         01:CBC5  EE E5 26   			inc.h	_sgx_map_pxl_x
         01:CBC8             	!:
12359                        	
12360                        		.dbg	line,	"include\routines_LEVELS.c", 2096; }
12361    01:CBC8             	.LL592	.alias		.LL593
12362                        	
12363                        		.dbg	line,	"include\routines_LEVELS.c", 2097; }
12364                        	
12365                        		.dbg	line,	"include\routines_LEVELS.c", 2099; else
12366                        		__bra		.LL593
         01:CBC8  80 3A      			bra	.LL593
12367    01:CBCA             	.LL589:
12368                        	
12369                        		.dbg	line,	"include\routines_LEVELS.c", 2100; {
12370                        	
12371                        		.dbg	line,	"include\routines_LEVELS.c", 2101; check_TILE_DEPTH( 15 , -16 );
12372                        		__ld.wi		15
         01:CBCA  A9 0F      			lda.l	#15
         01:CBCC  C2         			cly
12373                        		__pusharg.wr
         01:CBCD  A6 8D      			ldx	<__sp
         01:CBCF  CA         			dex
         01:CBD0  CA         			dex
         01:CBD1  95 08      			sta.l	<__stack, x
         01:CBD3  94 09      			sty.h	<__stack, x
         01:CBD5  86 8D      			stx	<__sp
12374                        		__ld.wi		-16
         01:CBD7  A9 F0      			lda.l	#-16
         01:CBD9  A0 FF      			ldy.h	#-16
12375                        		__pusharg.wr
         01:CBDB  A6 8D      			ldx	<__sp
         01:CBDD  CA         			dex
         01:CBDE  CA         			dex
         01:CBDF  95 08      			sta.l	<__stack, x
         01:CBE1  94 09      			sty.h	<__stack, x
         01:CBE3  86 8D      			stx	<__sp
12376                        		__call		_check_TILE_DEPTH
         01:CBE5  20 13 FF   			call	_check_TILE_DEPTH
12377                        	
12378                        		.dbg	line,	"include\routines_LEVELS.c", 2103; if(map_blk_flag == TILE_EMPTY)
12379                        		__not.um	_map_blk_flag
         01:CBE8  AD 05 2C   			lda	_map_blk_flag
         01:CBEB  18         			clc
         01:CBEC  D0 01      			bne	!+
         01:CBEE  38         			sec
         01:CBEF             	!:
12380                        		__bfalse	.LL594
         01:CBEF  90 13      			bcc	.LL594
12381                        	
12382                        		.dbg	line,	"include\routines_LEVELS.c", 2104; {
12383                        	
12384                        		.dbg	line,	"include\routines_LEVELS.c", 2105; jump_ladder = FALSE;
12385                        		__st.umiq	0, _jump_ladder
         01:CBF1  9C 24 23   			stz	_jump_ladder
12386                        	
12387                        		.dbg	line,	"include\routines_LEVELS.c", 2106; hit_wall = TRUE;
12388                        		__st.umiq	1, _hit_wall
         01:CBF4  A9 01      			lda.l	#1
         01:CBF6  8D 27 23   			sta	_hit_wall
12389                        	
12390                        		.dbg	line,	"include\routines_LEVELS.c", 2107; player_index_fall = 0;
12391                        		__st.umiq	0, _player_index_fall
         01:CBF9  9C 20 23   			stz	_player_index_fall
12392                        	
12393                        		.dbg	line,	"include\routines_LEVELS.c", 2108; player_state = STATE_FALL;
12394                        		__st.umiq	9, _player_state
         01:CBFC  A9 09      			lda.l	#9
         01:CBFE  8D 1B 23   			sta	_player_state
12395                        	
12396                        		.dbg	line,	"include\routines_LEVELS.c", 2109; return;
12397                        		__bra		.LL507
         01:CC01  4C 14 DC   			bra	.LL507
12398                        	
12399                        		.dbg	line,	"include\routines_LEVELS.c", 2110; }
12400                        	
12401                        		.dbg	line,	"include\routines_LEVELS.c", 2111; }
12402    01:CC04             	.LL594:
12403    01:CC04             	.LL593:
12404                        	
12405                        		.dbg	line,	"include\routines_LEVELS.c", 2116; //**************************************************************************************//
12406                        	
12407                        		.dbg	line,	"include\routines_LEVELS.c", 2117; //                                        V MOVE                                        //
12408                        	
12409                        		.dbg	line,	"include\routines_LEVELS.c", 2118; //**************************************************************************************//
12410                        	
12411                        		.dbg	line,	"include\routines_LEVELS.c", 2120; // UPDATE PLAYER Y POSITION //
12412                        	
12413                        		.dbg	line,	"include\routines_LEVELS.c", 2121; if(jump_ladder == FALSE)
12414                        		__not.um	_jump_ladder
         01:CC04  AD 24 23   			lda	_jump_ladder
         01:CC07  18         			clc
         01:CC08  D0 01      			bne	!+
         01:CC0A  38         			sec
         01:CC0B             	!:
12415                        		__bfalse	.LL595
         01:CC0B  90 1A      			bcc	.LL595
12416                        	
12417                        		.dbg	line,	"include\routines_LEVELS.c", 2122; {
12418                        	
12419                        		.dbg	line,	"include\routines_LEVELS.c", 2123; player_pos_y += TABLE_PLAYER_JUMP_D_GROUND[player_index_jump];
12420                        		__ldx.umq	_player_index_jump
         01:CC0D  AE 1F 23   			ldx	_player_index_jump
12421                        		__ld.bax	_TABLE_PLAYER_JUMP_D_GROUND
         01:CC10  BD B7 62   			lda	_TABLE_PLAYER_JUMP_D_GROUND, x
         01:CC13  C2         			cly
         01:CC14  10 01      			bpl	!+
         01:CC16  88         			dey
         01:CC17             	!:
12422                        		__add_st.wmq	_player_pos_y
         01:CC17  18         			clc
         01:CC18  6D 03 25   			adc.l	_player_pos_y
         01:CC1B  8D 03 25   			sta.l	_player_pos_y
         01:CC1E  98         			tya
         01:CC1F  6D 04 25   			adc.h	_player_pos_y
         01:CC22  8D 04 25   			sta.h	_player_pos_y
12423                        	
12424                        		.dbg	line,	"include\routines_LEVELS.c", 2124; }
12425                        	
12426                        		.dbg	line,	"include\routines_LEVELS.c", 2126; else
12427                        		__bra		.LL596
         01:CC25  80 18      			bra	.LL596
12428    01:CC27             	.LL595:
12429                        	
12430                        		.dbg	line,	"include\routines_LEVELS.c", 2127; {
12431                        	
12432                        		.dbg	line,	"include\routines_LEVELS.c", 2128; player_pos_y += TABLE_PLAYER_JUMP_V_LADDER[player_index_jump];
12433                        		__ldx.umq	_player_index_jump
         01:CC27  AE 1F 23   			ldx	_player_index_jump
12434                        		__ld.bax	_TABLE_PLAYER_JUMP_V_LADDER
         01:CC2A  BD F0 62   			lda	_TABLE_PLAYER_JUMP_V_LADDER, x
         01:CC2D  C2         			cly
         01:CC2E  10 01      			bpl	!+
         01:CC30  88         			dey
         01:CC31             	!:
12435                        		__add_st.wmq	_player_pos_y
         01:CC31  18         			clc
         01:CC32  6D 03 25   			adc.l	_player_pos_y
         01:CC35  8D 03 25   			sta.l	_player_pos_y
         01:CC38  98         			tya
         01:CC39  6D 04 25   			adc.h	_player_pos_y
         01:CC3C  8D 04 25   			sta.h	_player_pos_y
12436                        	
12437                        		.dbg	line,	"include\routines_LEVELS.c", 2129; }
12438    01:CC3F             	.LL596:
12439                        	
12440                        		.dbg	line,	"include\routines_LEVELS.c", 2133; // IF PLAYER GOES BELOW ITS BASE Y POSITION //
12441                        	
12442                        		.dbg	line,	"include\routines_LEVELS.c", 2134; if(player_pos_y >= PLAYER_BASE_Y_POS)
12443                        		__ld.wm		_player_pos_y
         01:CC3F  AD 03 25   			lda.l	_player_pos_y
         01:CC42  AC 04 25   			ldy.h	_player_pos_y
12444                        		__sge_w.wi	128
         01:CC45  C9 80      			cmp.l	#128		; Subtract integer from Y:A.
         01:CC47  98         			tya
         01:CC48  E9 00      			sbc.h	#128
         01:CC4A  50 02      			bvc	!+
         01:CC4C  49 80      			eor	#$80		; +ve if Y:A >= integer (signed).
         01:CC4E  49 80      	!:		eor	#$80
         01:CC50  0A         			asl	a
12445                        		__bfalse	.LL597
         01:CC51  90 4E      			bcc	.LL597
12446                        	
12447                        		.dbg	line,	"include\routines_LEVELS.c", 2135; {
12448                        	
12449                        		.dbg	line,	"include\routines_LEVELS.c", 2136; // THE CAMERA MOVES //
12450                        	
12451                        		.dbg	line,	"include\routines_LEVELS.c", 2137; // CALCULATE HOW MANY PIXELS THE CAMERA HAS TO MOVE DOWN //
12452                        	
12453                        		.dbg	line,	"include\routines_LEVELS.c", 2138; camera_y_move = player_pos_y - PLAYER_BASE_Y_POS;
12454                        		__ld.wm		_player_pos_y
         01:CC53  AD 03 25   			lda.l	_player_pos_y
         01:CC56  AC 04 25   			ldy.h	_player_pos_y
12455                        		__sub.wi	128
         01:CC59  38         			sec
         01:CC5A  E9 80      			sbc.l	#128
         01:CC5C  B0 01      			bcs	!+
         01:CC5E  88         			dey
         01:CC5F             	!:
12456                        		__st.umq	__update_PLAYER_end - 3  /* camera_y_move */
         01:CC5F  8D 0A 23   			sta	__update_PLAYER_end - 3
12457                        	
12458                        		.dbg	line,	"include\routines_LEVELS.c", 2139; sgx_map_pxl_y += camera_y_move;
12459                        		__ld.um		__update_PLAYER_end - 3  /* camera_y_move */
         01:CC62  AD 0A 23   			lda	__update_PLAYER_end - 3
         01:CC65  C2         			cly
12460                        		__add_st.wmq	_sgx_map_pxl_y
         01:CC66  18         			clc
         01:CC67  6D E6 26   			adc.l	_sgx_map_pxl_y
         01:CC6A  8D E6 26   			sta.l	_sgx_map_pxl_y
         01:CC6D  98         			tya
         01:CC6E  6D E7 26   			adc.h	_sgx_map_pxl_y
         01:CC71  8D E7 26   			sta.h	_sgx_map_pxl_y
12461                        	
12462                        		.dbg	line,	"include\routines_LEVELS.c", 2141; // IF THE CAMERA HAS REACHED ITS MAX (LOWEST) POSITION //
12463                        	
12464                        		.dbg	line,	"include\routines_LEVELS.c", 2142; if(sgx_map_pxl_y > camera_max_y_position)
12465                        		__ld.wm		_sgx_map_pxl_y
         01:CC74  AD E6 26   			lda.l	_sgx_map_pxl_y
         01:CC77  AC E7 26   			ldy.h	_sgx_map_pxl_y
12466                        		__ugt_w.wm	_camera_max_y_position
         01:CC7A  18         			clc			; Subtract memory+1 from Y:A.
         01:CC7B  ED 05 25   			sbc.l	_camera_max_y_position
         01:CC7E  98         			tya
         01:CC7F  ED 06 25   			sbc.h	_camera_max_y_position		; CS if Y:A > memory.
12467                        		__bfalse	.LL598
         01:CC82  90 0C      			bcc	.LL598
12468                        	
12469                        		.dbg	line,	"include\routines_LEVELS.c", 2143; {
12470                        	
12471                        		.dbg	line,	"include\routines_LEVELS.c", 2144; // THE CAMERA CAN NOT MOVE LOWER //
12472                        	
12473                        		.dbg	line,	"include\routines_LEVELS.c", 2145; sgx_map_pxl_y = camera_max_y_position;
12474                        		__ld.wm		_camera_max_y_position
         01:CC84  AD 05 25   			lda.l	_camera_max_y_position
         01:CC87  AC 06 25   			ldy.h	_camera_max_y_position
12475                        		__st.wmq	_sgx_map_pxl_y
         01:CC8A  8D E6 26   			sta.l	_sgx_map_pxl_y
         01:CC8D  8C E7 26   			sty.h	_sgx_map_pxl_y
12476                        	
12477                        		.dbg	line,	"include\routines_LEVELS.c", 2146; }
12478                        	
12479                        		.dbg	line,	"include\routines_LEVELS.c", 2148; // THE PLAYER STAYS AT ITS BASE Y POSITION //
12480                        	
12481                        		.dbg	line,	"include\routines_LEVELS.c", 2149; player_pos_y = PLAYER_BASE_Y_POS;
12482    01:CC90             	.LL598:
12483                        		__st.wmiq	128, _player_pos_y
         01:CC90  A9 80      			lda.l	#128
         01:CC92  8D 03 25   			sta.l	_player_pos_y
         01:CC95  9C 04 25   			stz.h	_player_pos_y
12484                        	
12485                        		.dbg	line,	"include\routines_LEVELS.c", 2151; spr_y(player_pos_y);
12486                        		__ld.wm		_player_pos_y
         01:CC98  AD 03 25   			lda.l	_player_pos_y
         01:CC9B  AC 04 25   			ldy.h	_player_pos_y
12487                        		__call		_spr_y.1
         01:CC9E  20 2D E8   			call	_spr_y.1
12488                        	
12489                        		.dbg	line,	"include\routines_LEVELS.c", 2152; }
12490                        	
12491                        		.dbg	line,	"include\routines_LEVELS.c", 2155; // UPDATE JUMP INDEX IN THE ARRAY //
12492                        	
12493                        		.dbg	line,	"include\routines_LEVELS.c", 2156; if(player_index_jump < jump_max_index)
12494    01:CCA1             	.LL597:
12495                        		__ld.umq	_player_index_jump
         01:CCA1  AD 1F 23   			lda	_player_index_jump
12496                        		__ult_b.umq	_jump_max_index
         01:CCA4  CD 25 23   			cmp	_jump_max_index		; Subtract memory from A.
         01:CCA7  6A         			ror	a		; CC if A < memory.
         01:CCA8  49 80      			eor	#$80
         01:CCAA  2A         			rol	a
12497                        		__bfalse	.LL599
         01:CCAB  90 03      			bcc	.LL599
12498                        	
12499                        		.dbg	line,	"include\routines_LEVELS.c", 2157; {
12500                        	
12501                        		.dbg	line,	"include\routines_LEVELS.c", 2158; player_index_jump += 1;
12502                        		__add_st.umiq	1, _player_index_jump
         01:CCAD  EE 1F 23   			inc	_player_index_jump
12503                        	
12504                        		.dbg	line,	"include\routines_LEVELS.c", 2159; }
12505                        	
12506                        		.dbg	line,	"include\routines_LEVELS.c", 2164; //--------------------------------------------------------------------------------------//
12507                        	
12508                        		.dbg	line,	"include\routines_LEVELS.c", 2165; //                                   FLOOR COLLISION                                    //
12509                        	
12510                        		.dbg	line,	"include\routines_LEVELS.c", 2166; //--------------------------------------------------------------------------------------//
12511                        	
12512                        		.dbg	line,	"include\routines_LEVELS.c", 2168; if(player_index_jump > 14)
12513    01:CCB0             	.LL599:
12514                        		__ld.umq	_player_index_jump
         01:CCB0  AD 1F 23   			lda	_player_index_jump
12515                        		__ugt_b.uiq	14
         01:CCB3  18         			clc			; Subtract integer+1 from A.
         01:CCB4  E9 0E      			sbc	#14		; CS if A > integer.
12516                        		__bfalse	.LL600
         01:CCB6  B0 03 4C B2			bcc	.LL600
         01:CCBA  CE          
12517                        	
12518                        		.dbg	line,	"include\routines_LEVELS.c", 2169; {
12519                        	
12520                        		.dbg	line,	"include\routines_LEVELS.c", 2170; // CHECK COLLISION WITH LEFT FLOOR //
12521                        	
12522                        		.dbg	line,	"include\routines_LEVELS.c", 2171; collision_PLAYER_BG( 10 , 32 );
12523                        		__ld.wi		10
         01:CCBB  A9 0A      			lda.l	#10
         01:CCBD  C2         			cly
12524                        		__pusharg.wr
         01:CCBE  A6 8D      			ldx	<__sp
         01:CCC0  CA         			dex
         01:CCC1  CA         			dex
         01:CCC2  95 08      			sta.l	<__stack, x
         01:CCC4  94 09      			sty.h	<__stack, x
         01:CCC6  86 8D      			stx	<__sp
12525                        		__ld.wi		32
         01:CCC8  A9 20      			lda.l	#32
         01:CCCA  C2         			cly
12526                        		__pusharg.wr
         01:CCCB  A6 8D      			ldx	<__sp
         01:CCCD  CA         			dex
         01:CCCE  CA         			dex
         01:CCCF  95 08      			sta.l	<__stack, x
         01:CCD1  94 09      			sty.h	<__stack, x
         01:CCD3  86 8D      			stx	<__sp
12527                        		__call		_collision_PLAYER_BG
         01:CCD5  20 31 FF   			call	_collision_PLAYER_BG
12528                        	
12529                        		.dbg	line,	"include\routines_LEVELS.c", 2173; // IF PLAYER TOUCHES THE GROUND TO THE LEFT //
12530                        	
12531                        		.dbg	line,	"include\routines_LEVELS.c", 2174; if(map_blk_flag == TILE_BG)
12532                        		__ld.umq	_map_blk_flag
         01:CCD8  AD 05 2C   			lda	_map_blk_flag
12533                        		__equ_b.uiq	1
         01:CCDB  C9 01      			cmp	#1
         01:CCDD  F0 01      			beq	!+
         01:CCDF  18         			clc
         01:CCE0             	!:
12534                        		__bfalse	.LL601
         01:CCE0  B0 03 4C B2			bcc	.LL601
         01:CCE4  CD          
12535                        	
12536                        		.dbg	line,	"include\routines_LEVELS.c", 2175; {
12537                        	
12538                        		.dbg	line,	"include\routines_LEVELS.c", 2176; // CALCULATE HOW MANY PIXELS THE PLAYER MOVED INTO THE GROUND //
12539                        	
12540                        		.dbg	line,	"include\routines_LEVELS.c", 2177; for(i=1; i<11 ; i++)
12541                        		__st.umiq	1, __update_PLAYER_end - 2  /* i */
         01:CCE5  A9 01      			lda.l	#1
         01:CCE7  8D 0B 23   			sta	__update_PLAYER_end - 2
12542    01:CCEA             	.LL602:
12543                        		__ld.umq	__update_PLAYER_end - 2  /* i */
         01:CCEA  AD 0B 23   			lda	__update_PLAYER_end - 2
12544                        		__ult_b.uiq	11
         01:CCED  C9 0B      			cmp	#11		; Subtract integer from A.
         01:CCEF  6A         			ror	a		; CC if A < integer.
         01:CCF0  49 80      			eor	#$80
         01:CCF2  2A         			rol	a
12545                        		__btrue		.LL604
         01:CCF3  B0 07      			bcs	.LL604
12546                        		__bra		.LL605
         01:CCF5  80 7D      			bra	.LL605
12547    01:CCF7             	.LL603:
12548                        		__inc.umq	__update_PLAYER_end - 2  /* i */
         01:CCF7  EE 0B 23   			inc	__update_PLAYER_end - 2
12549                        		__bra		.LL602
         01:CCFA  80 EE      			bra	.LL602
12550    01:CCFC             	.LL604:
12551                        	
12552                        		.dbg	line,	"include\routines_LEVELS.c", 2178; {
12553                        	
12554                        		.dbg	line,	"include\routines_LEVELS.c", 2179; check_TILE_DEPTH( 10 , i);
12555                        		__ld.wi		10
         01:CCFC  A9 0A      			lda.l	#10
         01:CCFE  C2         			cly
12556                        		__pusharg.wr
         01:CCFF  A6 8D      			ldx	<__sp
         01:CD01  CA         			dex
         01:CD02  CA         			dex
         01:CD03  95 08      			sta.l	<__stack, x
         01:CD05  94 09      			sty.h	<__stack, x
         01:CD07  86 8D      			stx	<__sp
12557                        		__ld.um		__update_PLAYER_end - 2  /* i */
         01:CD09  AD 0B 23   			lda	__update_PLAYER_end - 2
         01:CD0C  C2         			cly
12558                        		__pusharg.wr
         01:CD0D  A6 8D      			ldx	<__sp
         01:CD0F  CA         			dex
         01:CD10  CA         			dex
         01:CD11  95 08      			sta.l	<__stack, x
         01:CD13  94 09      			sty.h	<__stack, x
         01:CD15  86 8D      			stx	<__sp
12559                        		__call		_check_TILE_DEPTH
         01:CD17  20 13 FF   			call	_check_TILE_DEPTH
12560                        	
12561                        		.dbg	line,	"include\routines_LEVELS.c", 2181; if(map_blk_flag == TILE_EMPTY)
12562                        		__not.um	_map_blk_flag
         01:CD1A  AD 05 2C   			lda	_map_blk_flag
         01:CD1D  18         			clc
         01:CD1E  D0 01      			bne	!+
         01:CD20  38         			sec
         01:CD21             	!:
12563                        		__bfalse	.LL606
         01:CD21  90 D4      			bcc	.LL606
12564                        	
12565                        		.dbg	line,	"include\routines_LEVELS.c", 2182; {
12566                        	
12567                        		.dbg	line,	"include\routines_LEVELS.c", 2183; if(player_pos_y != PLAYER_BASE_Y_POS)
12568                        		__ld.wm		_player_pos_y
         01:CD23  AD 03 25   			lda.l	_player_pos_y
         01:CD26  AC 04 25   			ldy.h	_player_pos_y
12569                        		__neq_w.wi	128
         01:CD29  38         			sec
         01:CD2A  49 80      			eor.l	#128
         01:CD2C  D0 06      			bne	!+
         01:CD2E  98         			tya
         01:CD2F  49 00      			eor.h	#128
         01:CD31  D0 01      			bne	!+
         01:CD33  18         			clc
         01:CD34             	!:
12570                        		__bfalse	.LL607
         01:CD34  90 1E      			bcc	.LL607
12571                        	
12572                        		.dbg	line,	"include\routines_LEVELS.c", 2184; {
12573                        	
12574                        		.dbg	line,	"include\routines_LEVELS.c", 2185; player_pos_y -= (i - 1);
12575                        		__ld.um		__update_PLAYER_end - 2  /* i */
         01:CD36  AD 0B 23   			lda	__update_PLAYER_end - 2
         01:CD39  C2         			cly
12576                        		__sub.wi	1
         01:CD3A  38         			sec
         01:CD3B  E9 01      			sbc.l	#1
         01:CD3D  B0 01      			bcs	!+
         01:CD3F  88         			dey
         01:CD40             	!:
12577                        		__isub_st.wmq	_player_pos_y
         01:CD40  38         			sec
         01:CD41  49 FF      			eor	#$FF
         01:CD43  6D 03 25   			adc.l	_player_pos_y
         01:CD46  8D 03 25   			sta.l	_player_pos_y
         01:CD49  98         			tya
         01:CD4A  49 FF      			eor	#$FF
         01:CD4C  6D 04 25   			adc.h	_player_pos_y
         01:CD4F  8D 04 25   			sta.h	_player_pos_y
12578                        	
12579                        		.dbg	line,	"include\routines_LEVELS.c", 2186; }
12580                        	
12581                        		.dbg	line,	"include\routines_LEVELS.c", 2188; else
12582                        		__bra		.LL608
         01:CD52  80 20      			bra	.LL608
12583    01:CD54             	.LL607:
12584                        	
12585                        		.dbg	line,	"include\routines_LEVELS.c", 2189; {
12586                        	
12587                        		.dbg	line,	"include\routines_LEVELS.c", 2190; sgx_map_pxl_y -= (i - 1);
12588                        		__ld.um		__update_PLAYER_end - 2  /* i */
         01:CD54  AD 0B 23   			lda	__update_PLAYER_end - 2
         01:CD57  C2         			cly
12589                        		__sub.wi	1
         01:CD58  38         			sec
         01:CD59  E9 01      			sbc.l	#1
         01:CD5B  B0 01      			bcs	!+
         01:CD5D  88         			dey
         01:CD5E             	!:
12590                        		__isub_st.wmq	_sgx_map_pxl_y
         01:CD5E  38         			sec
         01:CD5F  49 FF      			eor	#$FF
         01:CD61  6D E6 26   			adc.l	_sgx_map_pxl_y
         01:CD64  8D E6 26   			sta.l	_sgx_map_pxl_y
         01:CD67  98         			tya
         01:CD68  49 FF      			eor	#$FF
         01:CD6A  6D E7 26   			adc.h	_sgx_map_pxl_y
         01:CD6D  8D E7 26   			sta.h	_sgx_map_pxl_y
12591                        	
12592                        		.dbg	line,	"include\routines_LEVELS.c", 2191; }
12593    01:CD70             	.LL608	.alias		.LL605
12594                        	
12595                        		.dbg	line,	"include\routines_LEVELS.c", 2193; break;
12596                        		__bra		.LL605
         01:CD70  80 02      			bra	.LL605
12597                        	
12598                        		.dbg	line,	"include\routines_LEVELS.c", 2194; }
12599                        	
12600                        		.dbg	line,	"include\routines_LEVELS.c", 2195; }
12601    01:CD72             	.LL606	.alias		.LL603
12602                        		__bra		.LL603
         01:CD72  80 83      			bra	.LL603
12603    01:CD74             	.LL605:
12604                        	
12605                        		.dbg	line,	"include\routines_LEVELS.c", 2197; // SET PLAYER SPRITE NEW POSITION //
12606                        	
12607                        		.dbg	line,	"include\routines_LEVELS.c", 2198; spr_y(player_pos_y);
12608                        		__ld.wm		_player_pos_y
         01:CD74  AD 03 25   			lda.l	_player_pos_y
         01:CD77  AC 04 25   			ldy.h	_player_pos_y
12609                        		__call		_spr_y.1
         01:CD7A  20 2D E8   			call	_spr_y.1
12610                        	
12611                        		.dbg	line,	"include\routines_LEVELS.c", 2201; // SET PLAYER NEW STATE //
12612                        	
12613                        		.dbg	line,	"include\routines_LEVELS.c", 2202; if(player_attack == FALSE)
12614                        		__not.um	_player_attack
         01:CD7D  AD 23 23   			lda	_player_attack
         01:CD80  18         			clc
         01:CD81  D0 01      			bne	!+
         01:CD83  38         			sec
         01:CD84             	!:
12615                        		__bfalse	.LL609
         01:CD84  90 21      			bcc	.LL609
12616                        	
12617                        		.dbg	line,	"include\routines_LEVELS.c", 2203; {
12618                        	
12619                        		.dbg	line,	"include\routines_LEVELS.c", 2204; spr_set(weapon_id);
12620                        		__ld.umq	_weapon_id
         01:CD86  AD 29 23   			lda	_weapon_id
12621                        		__call		_spr_set.1
         01:CD89  20 F1 E7   			call	_spr_set.1
12622                        	
12623                        		.dbg	line,	"include\routines_LEVELS.c", 2205; spr_y(player_pos_y+8);
12624                        		__ld.wm		_player_pos_y
         01:CD8C  AD 03 25   			lda.l	_player_pos_y
         01:CD8F  AC 04 25   			ldy.h	_player_pos_y
12625                        		__add.wi	8
         01:CD92  18         			clc
         01:CD93  69 08      			adc.l	#8
         01:CD95  90 01      			bcc	!+
         01:CD97  C8         			iny
         01:CD98             	!:
12626                        		__call		_spr_y.1
         01:CD98  20 2D E8   			call	_spr_y.1
12627                        	
12628                        		.dbg	line,	"include\routines_LEVELS.c", 2207; jump_ladder = FALSE;
12629                        		__st.umiq	0, _jump_ladder
         01:CD9B  9C 24 23   			stz	_jump_ladder
12630                        	
12631                        		.dbg	line,	"include\routines_LEVELS.c", 2208; hit_wall = FALSE;
12632                        		__st.umiq	0, _hit_wall
         01:CD9E  9C 27 23   			stz	_hit_wall
12633                        	
12634                        		.dbg	line,	"include\routines_LEVELS.c", 2210; set_PLAYER_IDLE();
12635                        		__call		_set_PLAYER_IDLE
         01:CDA1  20 27 FF   			call	_set_PLAYER_IDLE
12636                        	
12637                        		.dbg	line,	"include\routines_LEVELS.c", 2211; }
12638                        	
12639                        		.dbg	line,	"include\routines_LEVELS.c", 2213; else
12640                        		__bra		.LL610
         01:CDA4  4C 14 DC   			bra	.LL610
12641    01:CDA7             	.LL609:
12642                        	
12643                        		.dbg	line,	"include\routines_LEVELS.c", 2214; {
12644                        	
12645                        		.dbg	line,	"include\routines_LEVELS.c", 2215; player_index_jump = 0;
12646                        		__st.umiq	0, _player_index_jump
         01:CDA7  9C 1F 23   			stz	_player_index_jump
12647                        	
12648                        		.dbg	line,	"include\routines_LEVELS.c", 2216; player_state = STATE_ATTACK;
12649                        		__st.umiq	2, _player_state
         01:CDAA  A9 02      			lda.l	#2
         01:CDAC  8D 1B 23   			sta	_player_state
12650                        	
12651                        		.dbg	line,	"include\routines_LEVELS.c", 2217; }
12652    01:CDAF             	.LL610	.alias		.LL507
12653                        	
12654                        		.dbg	line,	"include\routines_LEVELS.c", 2219; return;
12655                        		__bra		.LL507
         01:CDAF  4C 14 DC   			bra	.LL507
12656                        	
12657                        		.dbg	line,	"include\routines_LEVELS.c", 2220; }
12658                        	
12659                        		.dbg	line,	"include\routines_LEVELS.c", 2222; // IF PLAYER TOUCHES THE GROUND TO THE RIGHT //
12660                        	
12661                        		.dbg	line,	"include\routines_LEVELS.c", 2223; else
12662    01:CDB2             	.LL601:
12663                        	
12664                        		.dbg	line,	"include\routines_LEVELS.c", 2224; {
12665                        	
12666                        		.dbg	line,	"include\routines_LEVELS.c", 2225; // CHECK COLLISION WITH RIGHT FLOOR //
12667                        	
12668                        		.dbg	line,	"include\routines_LEVELS.c", 2226; collision_PLAYER_BG( 22 , 32 );
12669                        		__ld.wi		22
         01:CDB2  A9 16      			lda.l	#22
         01:CDB4  C2         			cly
12670                        		__pusharg.wr
         01:CDB5  A6 8D      			ldx	<__sp
         01:CDB7  CA         			dex
         01:CDB8  CA         			dex
         01:CDB9  95 08      			sta.l	<__stack, x
         01:CDBB  94 09      			sty.h	<__stack, x
         01:CDBD  86 8D      			stx	<__sp
12671                        		__ld.wi		32
         01:CDBF  A9 20      			lda.l	#32
         01:CDC1  C2         			cly
12672                        		__pusharg.wr
         01:CDC2  A6 8D      			ldx	<__sp
         01:CDC4  CA         			dex
         01:CDC5  CA         			dex
         01:CDC6  95 08      			sta.l	<__stack, x
         01:CDC8  94 09      			sty.h	<__stack, x
         01:CDCA  86 8D      			stx	<__sp
12673                        		__call		_collision_PLAYER_BG
         01:CDCC  20 31 FF   			call	_collision_PLAYER_BG
12674                        	
12675                        		.dbg	line,	"include\routines_LEVELS.c", 2228; if(map_blk_flag == TILE_BG)
12676                        		__ld.umq	_map_blk_flag
         01:CDCF  AD 05 2C   			lda	_map_blk_flag
12677                        		__equ_b.uiq	1
         01:CDD2  C9 01      			cmp	#1
         01:CDD4  F0 01      			beq	!+
         01:CDD6  18         			clc
         01:CDD7             	!:
12678                        		__bfalse	.LL612
         01:CDD7  B0 03 4C B2			bcc	.LL612
         01:CDDB  CE          
12679                        	
12680                        		.dbg	line,	"include\routines_LEVELS.c", 2229; {
12681                        	
12682                        		.dbg	line,	"include\routines_LEVELS.c", 2230; // CALCULATE HOW MANY PIXELS THE PLAYER MOVED INTO THE GROUND //
12683                        	
12684                        		.dbg	line,	"include\routines_LEVELS.c", 2231; for(i=1; i<11 ; i++)
12685                        		__st.umiq	1, __update_PLAYER_end - 2  /* i */
         01:CDDC  A9 01      			lda.l	#1
         01:CDDE  8D 0B 23   			sta	__update_PLAYER_end - 2
12686    01:CDE1             	.LL613:
12687                        		__ld.umq	__update_PLAYER_end - 2  /* i */
         01:CDE1  AD 0B 23   			lda	__update_PLAYER_end - 2
12688                        		__ult_b.uiq	11
         01:CDE4  C9 0B      			cmp	#11		; Subtract integer from A.
         01:CDE6  6A         			ror	a		; CC if A < integer.
         01:CDE7  49 80      			eor	#$80
         01:CDE9  2A         			rol	a
12689                        		__btrue		.LL615
         01:CDEA  B0 07      			bcs	.LL615
12690                        		__bra		.LL616
         01:CDEC  80 7D      			bra	.LL616
12691    01:CDEE             	.LL614:
12692                        		__inc.umq	__update_PLAYER_end - 2  /* i */
         01:CDEE  EE 0B 23   			inc	__update_PLAYER_end - 2
12693                        		__bra		.LL613
         01:CDF1  80 EE      			bra	.LL613
12694    01:CDF3             	.LL615:
12695                        	
12696                        		.dbg	line,	"include\routines_LEVELS.c", 2232; {
12697                        	
12698                        		.dbg	line,	"include\routines_LEVELS.c", 2233; check_TILE_DEPTH( 22 , i);
12699                        		__ld.wi		22
         01:CDF3  A9 16      			lda.l	#22
         01:CDF5  C2         			cly
12700                        		__pusharg.wr
         01:CDF6  A6 8D      			ldx	<__sp
         01:CDF8  CA         			dex
         01:CDF9  CA         			dex
         01:CDFA  95 08      			sta.l	<__stack, x
         01:CDFC  94 09      			sty.h	<__stack, x
         01:CDFE  86 8D      			stx	<__sp
12701                        		__ld.um		__update_PLAYER_end - 2  /* i */
         01:CE00  AD 0B 23   			lda	__update_PLAYER_end - 2
         01:CE03  C2         			cly
12702                        		__pusharg.wr
         01:CE04  A6 8D      			ldx	<__sp
         01:CE06  CA         			dex
         01:CE07  CA         			dex
         01:CE08  95 08      			sta.l	<__stack, x
         01:CE0A  94 09      			sty.h	<__stack, x
         01:CE0C  86 8D      			stx	<__sp
12703                        		__call		_check_TILE_DEPTH
         01:CE0E  20 13 FF   			call	_check_TILE_DEPTH
12704                        	
12705                        		.dbg	line,	"include\routines_LEVELS.c", 2235; if(map_blk_flag == TILE_EMPTY)
12706                        		__not.um	_map_blk_flag
         01:CE11  AD 05 2C   			lda	_map_blk_flag
         01:CE14  18         			clc
         01:CE15  D0 01      			bne	!+
         01:CE17  38         			sec
         01:CE18             	!:
12707                        		__bfalse	.LL617
         01:CE18  90 D4      			bcc	.LL617
12708                        	
12709                        		.dbg	line,	"include\routines_LEVELS.c", 2236; {
12710                        	
12711                        		.dbg	line,	"include\routines_LEVELS.c", 2237; if(player_pos_y != PLAYER_BASE_Y_POS)
12712                        		__ld.wm		_player_pos_y
         01:CE1A  AD 03 25   			lda.l	_player_pos_y
         01:CE1D  AC 04 25   			ldy.h	_player_pos_y
12713                        		__neq_w.wi	128
         01:CE20  38         			sec
         01:CE21  49 80      			eor.l	#128
         01:CE23  D0 06      			bne	!+
         01:CE25  98         			tya
         01:CE26  49 00      			eor.h	#128
         01:CE28  D0 01      			bne	!+
         01:CE2A  18         			clc
         01:CE2B             	!:
12714                        		__bfalse	.LL618
         01:CE2B  90 1E      			bcc	.LL618
12715                        	
12716                        		.dbg	line,	"include\routines_LEVELS.c", 2238; {
12717                        	
12718                        		.dbg	line,	"include\routines_LEVELS.c", 2239; player_pos_y -= (i - 1);
12719                        		__ld.um		__update_PLAYER_end - 2  /* i */
         01:CE2D  AD 0B 23   			lda	__update_PLAYER_end - 2
         01:CE30  C2         			cly
12720                        		__sub.wi	1
         01:CE31  38         			sec
         01:CE32  E9 01      			sbc.l	#1
         01:CE34  B0 01      			bcs	!+
         01:CE36  88         			dey
         01:CE37             	!:
12721                        		__isub_st.wmq	_player_pos_y
         01:CE37  38         			sec
         01:CE38  49 FF      			eor	#$FF
         01:CE3A  6D 03 25   			adc.l	_player_pos_y
         01:CE3D  8D 03 25   			sta.l	_player_pos_y
         01:CE40  98         			tya
         01:CE41  49 FF      			eor	#$FF
         01:CE43  6D 04 25   			adc.h	_player_pos_y
         01:CE46  8D 04 25   			sta.h	_player_pos_y
12722                        	
12723                        		.dbg	line,	"include\routines_LEVELS.c", 2240; }
12724                        	
12725                        		.dbg	line,	"include\routines_LEVELS.c", 2242; else
12726                        		__bra		.LL619
         01:CE49  80 20      			bra	.LL619
12727    01:CE4B             	.LL618:
12728                        	
12729                        		.dbg	line,	"include\routines_LEVELS.c", 2243; {
12730                        	
12731                        		.dbg	line,	"include\routines_LEVELS.c", 2244; sgx_map_pxl_y -= (i - 1);
12732                        		__ld.um		__update_PLAYER_end - 2  /* i */
         01:CE4B  AD 0B 23   			lda	__update_PLAYER_end - 2
         01:CE4E  C2         			cly
12733                        		__sub.wi	1
         01:CE4F  38         			sec
         01:CE50  E9 01      			sbc.l	#1
         01:CE52  B0 01      			bcs	!+
         01:CE54  88         			dey
         01:CE55             	!:
12734                        		__isub_st.wmq	_sgx_map_pxl_y
         01:CE55  38         			sec
         01:CE56  49 FF      			eor	#$FF
         01:CE58  6D E6 26   			adc.l	_sgx_map_pxl_y
         01:CE5B  8D E6 26   			sta.l	_sgx_map_pxl_y
         01:CE5E  98         			tya
         01:CE5F  49 FF      			eor	#$FF
         01:CE61  6D E7 26   			adc.h	_sgx_map_pxl_y
         01:CE64  8D E7 26   			sta.h	_sgx_map_pxl_y
12735                        	
12736                        		.dbg	line,	"include\routines_LEVELS.c", 2245; }
12737    01:CE67             	.LL619	.alias		.LL616
12738                        	
12739                        		.dbg	line,	"include\routines_LEVELS.c", 2247; break;
12740                        		__bra		.LL616
         01:CE67  80 02      			bra	.LL616
12741                        	
12742                        		.dbg	line,	"include\routines_LEVELS.c", 2248; }
12743                        	
12744                        		.dbg	line,	"include\routines_LEVELS.c", 2249; }
12745    01:CE69             	.LL617	.alias		.LL614
12746                        		__bra		.LL614
         01:CE69  80 83      			bra	.LL614
12747    01:CE6B             	.LL616:
12748                        	
12749                        		.dbg	line,	"include\routines_LEVELS.c", 2251; // SET PLAYER SPRITE NEW POSITION //
12750                        	
12751                        		.dbg	line,	"include\routines_LEVELS.c", 2252; spr_y(player_pos_y);
12752                        		__ld.wm		_player_pos_y
         01:CE6B  AD 03 25   			lda.l	_player_pos_y
         01:CE6E  AC 04 25   			ldy.h	_player_pos_y
12753                        		__call		_spr_y.1
         01:CE71  20 2D E8   			call	_spr_y.1
12754                        	
12755                        		.dbg	line,	"include\routines_LEVELS.c", 2255; // SET PLAYER NEW STATE //
12756                        	
12757                        		.dbg	line,	"include\routines_LEVELS.c", 2256; if(player_attack == FALSE)
12758                        		__not.um	_player_attack
         01:CE74  AD 23 23   			lda	_player_attack
         01:CE77  18         			clc
         01:CE78  D0 01      			bne	!+
         01:CE7A  38         			sec
         01:CE7B             	!:
12759                        		__bfalse	.LL620
         01:CE7B  90 2A      			bcc	.LL620
12760                        	
12761                        		.dbg	line,	"include\routines_LEVELS.c", 2257; {
12762                        	
12763                        		.dbg	line,	"include\routines_LEVELS.c", 2258; spr_y(player_pos_y);
12764                        		__ld.wm		_player_pos_y
         01:CE7D  AD 03 25   			lda.l	_player_pos_y
         01:CE80  AC 04 25   			ldy.h	_player_pos_y
12765                        		__call		_spr_y.1
         01:CE83  20 2D E8   			call	_spr_y.1
12766                        	
12767                        		.dbg	line,	"include\routines_LEVELS.c", 2260; spr_set(weapon_id);
12768                        		__ld.umq	_weapon_id
         01:CE86  AD 29 23   			lda	_weapon_id
12769                        		__call		_spr_set.1
         01:CE89  20 F1 E7   			call	_spr_set.1
12770                        	
12771                        		.dbg	line,	"include\routines_LEVELS.c", 2261; spr_y(player_pos_y+8);
12772                        		__ld.wm		_player_pos_y
         01:CE8C  AD 03 25   			lda.l	_player_pos_y
         01:CE8F  AC 04 25   			ldy.h	_player_pos_y
12773                        		__add.wi	8
         01:CE92  18         			clc
         01:CE93  69 08      			adc.l	#8
         01:CE95  90 01      			bcc	!+
         01:CE97  C8         			iny
         01:CE98             	!:
12774                        		__call		_spr_y.1
         01:CE98  20 2D E8   			call	_spr_y.1
12775                        	
12776                        		.dbg	line,	"include\routines_LEVELS.c", 2263; jump_ladder = FALSE;
12777                        		__st.umiq	0, _jump_ladder
         01:CE9B  9C 24 23   			stz	_jump_ladder
12778                        	
12779                        		.dbg	line,	"include\routines_LEVELS.c", 2264; hit_wall = FALSE;
12780                        		__st.umiq	0, _hit_wall
         01:CE9E  9C 27 23   			stz	_hit_wall
12781                        	
12782                        		.dbg	line,	"include\routines_LEVELS.c", 2266; set_PLAYER_IDLE();
12783                        		__call		_set_PLAYER_IDLE
         01:CEA1  20 27 FF   			call	_set_PLAYER_IDLE
12784                        	
12785                        		.dbg	line,	"include\routines_LEVELS.c", 2267; }
12786                        	
12787                        		.dbg	line,	"include\routines_LEVELS.c", 2269; else
12788                        		__bra		.LL621
         01:CEA4  4C 14 DC   			bra	.LL621
12789    01:CEA7             	.LL620:
12790                        	
12791                        		.dbg	line,	"include\routines_LEVELS.c", 2270; {
12792                        	
12793                        		.dbg	line,	"include\routines_LEVELS.c", 2271; player_index_jump = 0;
12794                        		__st.umiq	0, _player_index_jump
         01:CEA7  9C 1F 23   			stz	_player_index_jump
12795                        	
12796                        		.dbg	line,	"include\routines_LEVELS.c", 2272; player_state = STATE_ATTACK;
12797                        		__st.umiq	2, _player_state
         01:CEAA  A9 02      			lda.l	#2
         01:CEAC  8D 1B 23   			sta	_player_state
12798                        	
12799                        		.dbg	line,	"include\routines_LEVELS.c", 2273; }
12800    01:CEAF             	.LL621	.alias		.LL507
12801                        	
12802                        		.dbg	line,	"include\routines_LEVELS.c", 2275; return;
12803                        		__bra		.LL507
         01:CEAF  4C 14 DC   			bra	.LL507
12804                        	
12805                        		.dbg	line,	"include\routines_LEVELS.c", 2276; }
12806                        	
12807                        		.dbg	line,	"include\routines_LEVELS.c", 2277; }
12808    01:CEB2             	.LL612:
12809    01:CEB2             	.LL611:
12810                        	
12811                        		.dbg	line,	"include\routines_LEVELS.c", 2278; }
12812                        	
12813                        		.dbg	line,	"include\routines_LEVELS.c", 2283; //--------------------------------------------------------------------------------------//
12814                        	
12815                        		.dbg	line,	"include\routines_LEVELS.c", 2284; //                                   LADDER COLLISION                                   //
12816                        	
12817                        		.dbg	line,	"include\routines_LEVELS.c", 2285; //--------------------------------------------------------------------------------------//
12818                        	
12819                        		.dbg	line,	"include\routines_LEVELS.c", 2287; if(player_index_jump > 4)
12820    01:CEB2             	.LL600:
12821                        		__ld.umq	_player_index_jump
         01:CEB2  AD 1F 23   			lda	_player_index_jump
12822                        		__ugt_b.uiq	4
         01:CEB5  18         			clc			; Subtract integer+1 from A.
         01:CEB6  E9 04      			sbc	#4		; CS if A > integer.
12823                        		__bfalse	.LL622
         01:CEB8  B0 03 4C C8			bcc	.LL622
         01:CEBC  CF          
12824                        	
12825                        		.dbg	line,	"include\routines_LEVELS.c", 2288; {
12826                        	
12827                        		.dbg	line,	"include\routines_LEVELS.c", 2289; collision_PLAYER_BG( 16 , 16 );
12828                        		__ld.wi		16
         01:CEBD  A9 10      			lda.l	#16
         01:CEBF  C2         			cly
12829                        		__pusharg.wr
         01:CEC0  A6 8D      			ldx	<__sp
         01:CEC2  CA         			dex
         01:CEC3  CA         			dex
         01:CEC4  95 08      			sta.l	<__stack, x
         01:CEC6  94 09      			sty.h	<__stack, x
         01:CEC8  86 8D      			stx	<__sp
12830                        		__ld.wi		16
         01:CECA  A9 10      			lda.l	#16
         01:CECC  C2         			cly
12831                        		__pusharg.wr
         01:CECD  A6 8D      			ldx	<__sp
         01:CECF  CA         			dex
         01:CED0  CA         			dex
         01:CED1  95 08      			sta.l	<__stack, x
         01:CED3  94 09      			sty.h	<__stack, x
         01:CED5  86 8D      			stx	<__sp
12832                        		__call		_collision_PLAYER_BG
         01:CED7  20 31 FF   			call	_collision_PLAYER_BG
12833                        	
12834                        		.dbg	line,	"include\routines_LEVELS.c", 2291; // IF PLAYER HITS THE LADDER //
12835                        	
12836                        		.dbg	line,	"include\routines_LEVELS.c", 2292; if(map_blk_flag == TILE_LADDER)
12837                        		__ld.umq	_map_blk_flag
         01:CEDA  AD 05 2C   			lda	_map_blk_flag
12838                        		__equ_b.uiq	2
         01:CEDD  C9 02      			cmp	#2
         01:CEDF  F0 01      			beq	!+
         01:CEE1  18         			clc
         01:CEE2             	!:
12839                        		__bfalse	.LL623
         01:CEE2  B0 03 4C C8			bcc	.LL623
         01:CEE6  CF          
12840                        	
12841                        		.dbg	line,	"include\routines_LEVELS.c", 2293; {
12842                        	
12843                        		.dbg	line,	"include\routines_LEVELS.c", 2294; // CAMERA GOES 8 PX BACKWARD //
12844                        	
12845                        		.dbg	line,	"include\routines_LEVELS.c", 2295; sgx_map_pxl_x = ( (sgx_map_pxl_x >> 3) << 3 );
12846                        		__ld.wm		_sgx_map_pxl_x
         01:CEE7  AD E4 26   			lda.l	_sgx_map_pxl_x
         01:CEEA  AC E5 26   			ldy.h	_sgx_map_pxl_x
12847                        		__lsr.wi	3
         01:CEED  84 00      			sty	__temp
         01:CEEF  20 3A E2   			jsr	lsrw3
12848                        		__asl.wi	3
         01:CEF2  84 00      			sty	__temp
         01:CEF4  20 D7 E1   			jsr	aslw3
12849                        		__st.wmq	_sgx_map_pxl_x
         01:CEF7  8D E4 26   			sta.l	_sgx_map_pxl_x
         01:CEFA  8C E5 26   			sty.h	_sgx_map_pxl_x
12850                        	
12851                        		.dbg	line,	"include\routines_LEVELS.c", 2297; // SO WE UPDATE THE MAP //
12852                        	
12853                        		.dbg	line,	"include\routines_LEVELS.c", 2298; sgx_scroll_map();
12854                        		__call		_sgx_scroll_map
         01:CEFD  20 63 FF   			call	_sgx_scroll_map
12855                        	
12856                        		.dbg	line,	"include\routines_LEVELS.c", 2300; // CHECK IF THE PLAYER STANDS RIGHT TO THE LADDER //
12857                        	
12858                        		.dbg	line,	"include\routines_LEVELS.c", 2301; collision_PLAYER_BG( 31 , 16 );
12859                        		__ld.wi		31
         01:CF00  A9 1F      			lda.l	#31
         01:CF02  C2         			cly
12860                        		__pusharg.wr
         01:CF03  A6 8D      			ldx	<__sp
         01:CF05  CA         			dex
         01:CF06  CA         			dex
         01:CF07  95 08      			sta.l	<__stack, x
         01:CF09  94 09      			sty.h	<__stack, x
         01:CF0B  86 8D      			stx	<__sp
12861                        		__ld.wi		16
         01:CF0D  A9 10      			lda.l	#16
         01:CF0F  C2         			cly
12862                        		__pusharg.wr
         01:CF10  A6 8D      			ldx	<__sp
         01:CF12  CA         			dex
         01:CF13  CA         			dex
         01:CF14  95 08      			sta.l	<__stack, x
         01:CF16  94 09      			sty.h	<__stack, x
         01:CF18  86 8D      			stx	<__sp
12863                        		__call		_collision_PLAYER_BG
         01:CF1A  20 31 FF   			call	_collision_PLAYER_BG
12864                        	
12865                        		.dbg	line,	"include\routines_LEVELS.c", 2303; if(map_blk_flag == TILE_LADDER)
12866                        		__ld.umq	_map_blk_flag
         01:CF1D  AD 05 2C   			lda	_map_blk_flag
12867                        		__equ_b.uiq	2
         01:CF20  C9 02      			cmp	#2
         01:CF22  F0 01      			beq	!+
         01:CF24  18         			clc
         01:CF25             	!:
12868                        		__bfalse	.LL624
         01:CF25  90 0E      			bcc	.LL624
12869                        	
12870                        		.dbg	line,	"include\routines_LEVELS.c", 2304; {
12871                        	
12872                        		.dbg	line,	"include\routines_LEVELS.c", 2305; sgx_map_pxl_x += 8;
12873                        		__add_st.wmiq	8, _sgx_map_pxl_x
         01:CF27  18         			clc
         01:CF28  AD E4 26   			lda.l	_sgx_map_pxl_x
         01:CF2B  69 08      			adc.l	#8
         01:CF2D  8D E4 26   			sta.l	_sgx_map_pxl_x
         01:CF30  90 03      			bcc	!+
         01:CF32  EE E5 26   			inc.h	_sgx_map_pxl_x
         01:CF35             	!:
12874                        	
12875                        		.dbg	line,	"include\routines_LEVELS.c", 2306; }
12876                        	
12877                        		.dbg	line,	"include\routines_LEVELS.c", 2308; spr_pattern(PLAYER_HANG_VRAM_ADR);
12878    01:CF35             	.LL624:
12879                        		__ld.wi		8448
         01:CF35  62         			cla
         01:CF36  A0 21      			ldy.h	#8448
12880                        		__call		_spr_pattern.1
         01:CF38  20 3A E8   			call	_spr_pattern.1
12881                        	
12882                        		.dbg	line,	"include\routines_LEVELS.c", 2310; spr_set(weapon_id);
12883                        		__ld.umq	_weapon_id
         01:CF3B  AD 29 23   			lda	_weapon_id
12884                        		__call		_spr_set.1
         01:CF3E  20 F1 E7   			call	_spr_set.1
12885                        	
12886                        		.dbg	line,	"include\routines_LEVELS.c", 2311; spr_pattern(WEAPON_IDLE_VRAM_ADRESS);
12887                        		__ld.wi		31808
         01:CF41  A9 40      			lda.l	#31808
         01:CF43  A0 7C      			ldy.h	#31808
12888                        		__call		_spr_pattern.1
         01:CF45  20 3A E8   			call	_spr_pattern.1
12889                        	
12890                        		.dbg	line,	"include\routines_LEVELS.c", 2312; spr_y(player_pos_y+5);
12891                        		__ld.wm		_player_pos_y
         01:CF48  AD 03 25   			lda.l	_player_pos_y
         01:CF4B  AC 04 25   			ldy.h	_player_pos_y
12892                        		__add.wi	5
         01:CF4E  18         			clc
         01:CF4F  69 05      			adc.l	#5
         01:CF51  90 01      			bcc	!+
         01:CF53  C8         			iny
         01:CF54             	!:
12893                        		__call		_spr_y.1
         01:CF54  20 2D E8   			call	_spr_y.1
12894                        	
12895                        		.dbg	line,	"include\routines_LEVELS.c", 2314; if(player_axis == AXIS_RIGHT)
12896                        		__not.um	_player_axis
         01:CF57  AD 1C 23   			lda	_player_axis
         01:CF5A  18         			clc
         01:CF5B  D0 01      			bne	!+
         01:CF5D  38         			sec
         01:CF5E             	!:
12897                        		__bfalse	.LL625
         01:CF5E  90 11      			bcc	.LL625
12898                        	
12899                        		.dbg	line,	"include\routines_LEVELS.c", 2315; {
12900                        	
12901                        		.dbg	line,	"include\routines_LEVELS.c", 2316; spr_x(player_pos_x+17);
12902                        		__ld.wm		_player_pos_x
         01:CF60  AD 01 25   			lda.l	_player_pos_x
         01:CF63  AC 02 25   			ldy.h	_player_pos_x
12903                        		__add.wi	17
         01:CF66  18         			clc
         01:CF67  69 11      			adc.l	#17
         01:CF69  90 01      			bcc	!+
         01:CF6B  C8         			iny
         01:CF6C             	!:
12904                        		__call		_spr_x.1
         01:CF6C  20 1E E8   			call	_spr_x.1
12905                        	
12906                        		.dbg	line,	"include\routines_LEVELS.c", 2317; }
12907                        	
12908                        		.dbg	line,	"include\routines_LEVELS.c", 2319; else
12909                        		__bra		.LL626
         01:CF6F  80 0F      			bra	.LL626
12910    01:CF71             	.LL625:
12911                        	
12912                        		.dbg	line,	"include\routines_LEVELS.c", 2320; {
12913                        	
12914                        		.dbg	line,	"include\routines_LEVELS.c", 2321; spr_x(player_pos_x-2);
12915                        		__ld.wm		_player_pos_x
         01:CF71  AD 01 25   			lda.l	_player_pos_x
         01:CF74  AC 02 25   			ldy.h	_player_pos_x
12916                        		__sub.wi	2
         01:CF77  38         			sec
         01:CF78  E9 02      			sbc.l	#2
         01:CF7A  B0 01      			bcs	!+
         01:CF7C  88         			dey
         01:CF7D             	!:
12917                        		__call		_spr_x.1
         01:CF7D  20 1E E8   			call	_spr_x.1
12918                        	
12919                        		.dbg	line,	"include\routines_LEVELS.c", 2322; }
12920    01:CF80             	.LL626:
12921                        	
12922                        		.dbg	line,	"include\routines_LEVELS.c", 2324; spr_set(chain_id);
12923                        		__ld.umq	_chain_id
         01:CF80  AD 28 23   			lda	_chain_id
12924                        		__call		_spr_set.1
         01:CF83  20 F1 E7   			call	_spr_set.1
12925                        	
12926                        		.dbg	line,	"include\routines_LEVELS.c", 2325; spr_hide();
12927                        		__call		_spr_hide
         01:CF86  20 0C E8   			call	_spr_hide
12928                        	
12929                        		.dbg	line,	"include\routines_LEVELS.c", 2327; spr_set(chain_id+1);
12930                        		__ld.um		_chain_id
         01:CF89  AD 28 23   			lda	_chain_id
         01:CF8C  C2         			cly
12931                        		__add.wi	1
         01:CF8D  1A         			inc	a
         01:CF8E  D0 01      			bne	!+
         01:CF90  C8         			iny
         01:CF91             	!:
12932                        		__call		_spr_set.1
         01:CF91  20 F1 E7   			call	_spr_set.1
12933                        	
12934                        		.dbg	line,	"include\routines_LEVELS.c", 2328; spr_hide();
12935                        		__call		_spr_hide
         01:CF94  20 0C E8   			call	_spr_hide
12936                        	
12937                        		.dbg	line,	"include\routines_LEVELS.c", 2330; spr_set(chain_id+2);
12938                        		__ld.um		_chain_id
         01:CF97  AD 28 23   			lda	_chain_id
         01:CF9A  C2         			cly
12939                        		__add.wi	2
         01:CF9B  18         			clc
         01:CF9C  69 02      			adc.l	#2
         01:CF9E  90 01      			bcc	!+
         01:CFA0  C8         			iny
         01:CFA1             	!:
12940                        		__call		_spr_set.1
         01:CFA1  20 F1 E7   			call	_spr_set.1
12941                        	
12942                        		.dbg	line,	"include\routines_LEVELS.c", 2331; spr_hide();
12943                        		__call		_spr_hide
         01:CFA4  20 0C E8   			call	_spr_hide
12944                        	
12945                        		.dbg	line,	"include\routines_LEVELS.c", 2333; list_chain_active[0] = FALSE;
12946                        		__st.umiq	0, _list_chain_active
         01:CFA7  9C 2C 23   			stz	_list_chain_active
12947                        	
12948                        		.dbg	line,	"include\routines_LEVELS.c", 2334; list_chain_active[1] = FALSE;
12949                        		__st.umiq	0, _list_chain_active + 1
         01:CFAA  9C 2D 23   			stz	_list_chain_active + 1
12950                        	
12951                        		.dbg	line,	"include\routines_LEVELS.c", 2335; list_chain_active[2] = FALSE;
12952                        		__st.umiq	0, _list_chain_active + 2
         01:CFAD  9C 2E 23   			stz	_list_chain_active + 2
12953                        	
12954                        		.dbg	line,	"include\routines_LEVELS.c", 2337; player_counter_anim = 0;
12955                        		__st.umiq	0, _player_counter_anim
         01:CFB0  9C 1E 23   			stz	_player_counter_anim
12956                        	
12957                        		.dbg	line,	"include\routines_LEVELS.c", 2338; player_index_jump = 0;
12958                        		__st.umiq	0, _player_index_jump
         01:CFB3  9C 1F 23   			stz	_player_index_jump
12959                        	
12960                        		.dbg	line,	"include\routines_LEVELS.c", 2339; player_attack = FALSE;
12961                        		__st.umiq	0, _player_attack
         01:CFB6  9C 23 23   			stz	_player_attack
12962                        	
12963                        		.dbg	line,	"include\routines_LEVELS.c", 2340; jump_ladder = TRUE;
12964                        		__st.umiq	1, _jump_ladder
         01:CFB9  A9 01      			lda.l	#1
         01:CFBB  8D 24 23   			sta	_jump_ladder
12965                        	
12966                        		.dbg	line,	"include\routines_LEVELS.c", 2341; jump_max_index = 29;
12967                        		__st.umiq	29, _jump_max_index
         01:CFBE  A9 1D      			lda.l	#29
         01:CFC0  8D 25 23   			sta	_jump_max_index
12968                        	
12969                        		.dbg	line,	"include\routines_LEVELS.c", 2342; player_state = STATE_HANG;
12970                        		__st.umiq	10, _player_state
         01:CFC3  A9 0A      			lda.l	#10
         01:CFC5  8D 1B 23   			sta	_player_state
12971                        	
12972                        		.dbg	line,	"include\routines_LEVELS.c", 2343; }
12973                        	
12974                        		.dbg	line,	"include\routines_LEVELS.c", 2344; }
12975    01:CFC8             	.LL623:
12976                        	
12977                        		.dbg	line,	"include\routines_LEVELS.c", 2347; // SET PLAYER SPRITE NEW POSITION //
12978                        	
12979                        		.dbg	line,	"include\routines_LEVELS.c", 2348; spr_set(player_id);
12980    01:CFC8             	.LL622:
12981                        		__ld.umq	_player_id
         01:CFC8  AD 1A 23   			lda	_player_id
12982                        		__call		_spr_set.1
         01:CFCB  20 F1 E7   			call	_spr_set.1
12983                        	
12984                        		.dbg	line,	"include\routines_LEVELS.c", 2349; spr_y(player_pos_y);
12985                        		__ld.wm		_player_pos_y
         01:CFCE  AD 03 25   			lda.l	_player_pos_y
         01:CFD1  AC 04 25   			ldy.h	_player_pos_y
12986                        		__call		_spr_y.1
         01:CFD4  20 2D E8   			call	_spr_y.1
12987                        	
12988                        		.dbg	line,	"include\routines_LEVELS.c", 2352; // SET WEAPON SPRITE NEW POSITION //
12989                        	
12990                        		.dbg	line,	"include\routines_LEVELS.c", 2353; if(player_attack == FALSE)
12991                        		__not.um	_player_attack
         01:CFD7  AD 23 23   			lda	_player_attack
         01:CFDA  18         			clc
         01:CFDB  D0 01      			bne	!+
         01:CFDD  38         			sec
         01:CFDE             	!:
12992                        		__bfalse	.LL627
         01:CFDE  B0 03 4C 14			bcc	.LL627
         01:CFE2  DC          
12993                        	
12994                        		.dbg	line,	"include\routines_LEVELS.c", 2354; {
12995                        	
12996                        		.dbg	line,	"include\routines_LEVELS.c", 2355; spr_set(weapon_id);
12997                        		__ld.umq	_weapon_id
         01:CFE3  AD 29 23   			lda	_weapon_id
12998                        		__call		_spr_set.1
         01:CFE6  20 F1 E7   			call	_spr_set.1
12999                        	
13000                        		.dbg	line,	"include\routines_LEVELS.c", 2356; spr_y(player_pos_y+8);
13001                        		__ld.wm		_player_pos_y
         01:CFE9  AD 03 25   			lda.l	_player_pos_y
         01:CFEC  AC 04 25   			ldy.h	_player_pos_y
13002                        		__add.wi	8
         01:CFEF  18         			clc
         01:CFF0  69 08      			adc.l	#8
         01:CFF2  90 01      			bcc	!+
         01:CFF4  C8         			iny
         01:CFF5             	!:
13003                        		__call		_spr_y.1
         01:CFF5  20 2D E8   			call	_spr_y.1
13004                        	
13005                        		.dbg	line,	"include\routines_LEVELS.c", 2357; }
13006                        	
13007                        		.dbg	line,	"include\routines_LEVELS.c", 2358; }
13008    01:CFF8             	.LL627	.alias		.LL628
13009                        	
13010                        		.dbg	line,	"include\routines_LEVELS.c", 2361; else if(player_state == STATE_JUMP_LEFT)
13011                        		__bra		.LL628
         01:CFF8  4C 14 DC   			bra	.LL628
13012    01:CFFB             	.LL587:
13013                        		__ld.umq	_player_state
         01:CFFB  AD 1B 23   			lda	_player_state
13014                        		__equ_b.uiq	6
         01:CFFE  C9 06      			cmp	#6
         01:D000  F0 01      			beq	!+
         01:D002  18         			clc
         01:D003             	!:
13015                        		__bfalse	.LL629
         01:D003  B0 03 4C D9			bcc	.LL629
         01:D007  D4          
13016                        	
13017                        		.dbg	line,	"include\routines_LEVELS.c", 2362; {
13018                        	
13019                        		.dbg	line,	"include\routines_LEVELS.c", 2363; unsigned char i, camera_y_move;
13020                        	
13021                        		.dbg	line,	"include\routines_LEVELS.c", 2364; i = 1;
13022                        		__st.umiq	1, __update_PLAYER_end - 4  /* i */
         01:D008  A9 01      			lda.l	#1
         01:D00A  8D 09 23   			sta	__update_PLAYER_end - 4
13023                        	
13024                        		.dbg	line,	"include\routines_LEVELS.c", 2367; // SELECT PLAYER SPRITE //
13025                        	
13026                        		.dbg	line,	"include\routines_LEVELS.c", 2368; spr_set(player_id);
13027                        		__ld.umq	_player_id
         01:D00D  AD 1A 23   			lda	_player_id
13028                        		__call		_spr_set.1
         01:D010  20 F1 E7   			call	_spr_set.1
13029                        	
13030                        		.dbg	line,	"include\routines_LEVELS.c", 2371; // UPDATE PLAYER TILES //
13031                        	
13032                        		.dbg	line,	"include\routines_LEVELS.c", 2372; if(player_counter_anim == 0)
13033                        		__not.um	_player_counter_anim
         01:D013  AD 1E 23   			lda	_player_counter_anim
         01:D016  18         			clc
         01:D017  D0 01      			bne	!+
         01:D019  38         			sec
         01:D01A             	!:
13034                        		__bfalse	.LL630
         01:D01A  90 0B      			bcc	.LL630
13035                        	
13036                        		.dbg	line,	"include\routines_LEVELS.c", 2373; {
13037                        	
13038                        		.dbg	line,	"include\routines_LEVELS.c", 2374; //spr_set(player_id);
13039                        	
13040                        		.dbg	line,	"include\routines_LEVELS.c", 2375; spr_pattern(PLAYER_JUMP_VRAM_ADR);
13041                        		__ld.wi		7936
         01:D01C  62         			cla
         01:D01D  A0 1F      			ldy.h	#7936
13042                        		__call		_spr_pattern.1
         01:D01F  20 3A E8   			call	_spr_pattern.1
13043                        	
13044                        		.dbg	line,	"include\routines_LEVELS.c", 2377; player_counter_anim = 1;
13045                        		__st.umiq	1, _player_counter_anim
         01:D022  A9 01      			lda.l	#1
         01:D024  8D 1E 23   			sta	_player_counter_anim
13046                        	
13047                        		.dbg	line,	"include\routines_LEVELS.c", 2378; }
13048                        	
13049                        		.dbg	line,	"include\routines_LEVELS.c", 2384; //**************************************************************************************//
13050                        	
13051                        		.dbg	line,	"include\routines_LEVELS.c", 2385; //                                        H MOVE                                        //
13052                        	
13053                        		.dbg	line,	"include\routines_LEVELS.c", 2386; //**************************************************************************************//
13054                        	
13055                        		.dbg	line,	"include\routines_LEVELS.c", 2388; //--------------------------------------------------------------------------------------//
13056                        	
13057                        		.dbg	line,	"include\routines_LEVELS.c", 2389; //                                    WALL COLLISION                                    //
13058                        	
13059                        		.dbg	line,	"include\routines_LEVELS.c", 2390; //--------------------------------------------------------------------------------------//
13060                        	
13061                        		.dbg	line,	"include\routines_LEVELS.c", 2392; // CHECK COLLISION WITH BOTTOM LEFT WALL //
13062                        	
13063                        		.dbg	line,	"include\routines_LEVELS.c", 2393; collision_PLAYER_BG( 8 , 31 );
13064    01:D027             	.LL630:
13065                        		__ld.wi		8
         01:D027  A9 08      			lda.l	#8
         01:D029  C2         			cly
13066                        		__pusharg.wr
         01:D02A  A6 8D      			ldx	<__sp
         01:D02C  CA         			dex
         01:D02D  CA         			dex
         01:D02E  95 08      			sta.l	<__stack, x
         01:D030  94 09      			sty.h	<__stack, x
         01:D032  86 8D      			stx	<__sp
13067                        		__ld.wi		31
         01:D034  A9 1F      			lda.l	#31
         01:D036  C2         			cly
13068                        		__pusharg.wr
         01:D037  A6 8D      			ldx	<__sp
         01:D039  CA         			dex
         01:D03A  CA         			dex
         01:D03B  95 08      			sta.l	<__stack, x
         01:D03D  94 09      			sty.h	<__stack, x
         01:D03F  86 8D      			stx	<__sp
13069                        		__call		_collision_PLAYER_BG
         01:D041  20 31 FF   			call	_collision_PLAYER_BG
13070                        	
13071                        		.dbg	line,	"include\routines_LEVELS.c", 2395; if(map_blk_flag != TILE_BG)
13072                        		__ld.umq	_map_blk_flag
         01:D044  AD 05 2C   			lda	_map_blk_flag
13073                        		__neq_b.uiq	1
         01:D047  38         			sec
         01:D048  49 01      			eor	#1
         01:D04A  D0 01      			bne	!+
         01:D04C  18         			clc
         01:D04D             	!:
13074                        		__bfalse	.LL631
         01:D04D  90 6E      			bcc	.LL631
13075                        	
13076                        		.dbg	line,	"include\routines_LEVELS.c", 2396; {
13077                        	
13078                        		.dbg	line,	"include\routines_LEVELS.c", 2397; // CHECK COLLISION WITH TOP RIGHT WALL //
13079                        	
13080                        		.dbg	line,	"include\routines_LEVELS.c", 2398; collision_PLAYER_BG( 8 , 15 );
13081                        		__ld.wi		8
         01:D04F  A9 08      			lda.l	#8
         01:D051  C2         			cly
13082                        		__pusharg.wr
         01:D052  A6 8D      			ldx	<__sp
         01:D054  CA         			dex
         01:D055  CA         			dex
         01:D056  95 08      			sta.l	<__stack, x
         01:D058  94 09      			sty.h	<__stack, x
         01:D05A  86 8D      			stx	<__sp
13083                        		__ld.wi		15
         01:D05C  A9 0F      			lda.l	#15
         01:D05E  C2         			cly
13084                        		__pusharg.wr
         01:D05F  A6 8D      			ldx	<__sp
         01:D061  CA         			dex
         01:D062  CA         			dex
         01:D063  95 08      			sta.l	<__stack, x
         01:D065  94 09      			sty.h	<__stack, x
         01:D067  86 8D      			stx	<__sp
13085                        		__call		_collision_PLAYER_BG
         01:D069  20 31 FF   			call	_collision_PLAYER_BG
13086                        	
13087                        		.dbg	line,	"include\routines_LEVELS.c", 2400; if(map_blk_flag == TILE_BG)
13088                        		__ld.umq	_map_blk_flag
         01:D06C  AD 05 2C   			lda	_map_blk_flag
13089                        		__equ_b.uiq	1
         01:D06F  C9 01      			cmp	#1
         01:D071  F0 01      			beq	!+
         01:D073  18         			clc
         01:D074             	!:
13090                        		__bfalse	.LL632
         01:D074  90 37      			bcc	.LL632
13091                        	
13092                        		.dbg	line,	"include\routines_LEVELS.c", 2401; {
13093                        	
13094                        		.dbg	line,	"include\routines_LEVELS.c", 2402; check_TILE_DEPTH( 15 , -16 );
13095                        		__ld.wi		15
         01:D076  A9 0F      			lda.l	#15
         01:D078  C2         			cly
13096                        		__pusharg.wr
         01:D079  A6 8D      			ldx	<__sp
         01:D07B  CA         			dex
         01:D07C  CA         			dex
         01:D07D  95 08      			sta.l	<__stack, x
         01:D07F  94 09      			sty.h	<__stack, x
         01:D081  86 8D      			stx	<__sp
13097                        		__ld.wi		-16
         01:D083  A9 F0      			lda.l	#-16
         01:D085  A0 FF      			ldy.h	#-16
13098                        		__pusharg.wr
         01:D087  A6 8D      			ldx	<__sp
         01:D089  CA         			dex
         01:D08A  CA         			dex
         01:D08B  95 08      			sta.l	<__stack, x
         01:D08D  94 09      			sty.h	<__stack, x
         01:D08F  86 8D      			stx	<__sp
13099                        		__call		_check_TILE_DEPTH
         01:D091  20 13 FF   			call	_check_TILE_DEPTH
13100                        	
13101                        		.dbg	line,	"include\routines_LEVELS.c", 2404; if(map_blk_flag == TILE_EMPTY)
13102                        		__not.um	_map_blk_flag
         01:D094  AD 05 2C   			lda	_map_blk_flag
         01:D097  18         			clc
         01:D098  D0 01      			bne	!+
         01:D09A  38         			sec
         01:D09B             	!:
13103                        		__bfalse	.LL633
         01:D09B  90 5A      			bcc	.LL633
13104                        	
13105                        		.dbg	line,	"include\routines_LEVELS.c", 2405; {
13106                        	
13107                        		.dbg	line,	"include\routines_LEVELS.c", 2406; jump_ladder = FALSE;
13108                        		__st.umiq	0, _jump_ladder
         01:D09D  9C 24 23   			stz	_jump_ladder
13109                        	
13110                        		.dbg	line,	"include\routines_LEVELS.c", 2407; player_index_fall = 0;
13111                        		__st.umiq	0, _player_index_fall
         01:D0A0  9C 20 23   			stz	_player_index_fall
13112                        	
13113                        		.dbg	line,	"include\routines_LEVELS.c", 2408; player_state = STATE_FALL;
13114                        		__st.umiq	9, _player_state
         01:D0A3  A9 09      			lda.l	#9
         01:D0A5  8D 1B 23   			sta	_player_state
13115                        	
13116                        		.dbg	line,	"include\routines_LEVELS.c", 2409; return;
13117                        		__bra		.LL507
         01:D0A8  4C 14 DC   			bra	.LL507
13118                        	
13119                        		.dbg	line,	"include\routines_LEVELS.c", 2410; }
13120                        	
13121                        		.dbg	line,	"include\routines_LEVELS.c", 2411; }
13122    01:D0AB             	.LL633	.alias		.LL634
13123                        	
13124                        		.dbg	line,	"include\routines_LEVELS.c", 2413; else
13125                        		__bra		.LL634
         01:D0AB  80 4A      			bra	.LL634
13126    01:D0AD             	.LL632:
13127                        	
13128                        		.dbg	line,	"include\routines_LEVELS.c", 2414; {
13129                        	
13130                        		.dbg	line,	"include\routines_LEVELS.c", 2415; sgx_map_pxl_x -= 2;
13131                        		__sub_st.wmiq	2, _sgx_map_pxl_x
         01:D0AD  38         			sec
         01:D0AE  AD E4 26   			lda.l	_sgx_map_pxl_x
         01:D0B1  E9 02      			sbc.l	#2
         01:D0B3  8D E4 26   			sta.l	_sgx_map_pxl_x
         01:D0B6  B0 03      			bcs	!+
         01:D0B8  CE E5 26   			dec.h	_sgx_map_pxl_x
         01:D0BB             	!:
13132                        	
13133                        		.dbg	line,	"include\routines_LEVELS.c", 2416; }
13134    01:D0BB             	.LL634	.alias		.LL635
13135                        	
13136                        		.dbg	line,	"include\routines_LEVELS.c", 2417; }
13137                        	
13138                        		.dbg	line,	"include\routines_LEVELS.c", 2419; else
13139                        		__bra		.LL635
         01:D0BB  80 3A      			bra	.LL635
13140    01:D0BD             	.LL631:
13141                        	
13142                        		.dbg	line,	"include\routines_LEVELS.c", 2420; {
13143                        	
13144                        		.dbg	line,	"include\routines_LEVELS.c", 2421; check_TILE_DEPTH( 15 , -16 );
13145                        		__ld.wi		15
         01:D0BD  A9 0F      			lda.l	#15
         01:D0BF  C2         			cly
13146                        		__pusharg.wr
         01:D0C0  A6 8D      			ldx	<__sp
         01:D0C2  CA         			dex
         01:D0C3  CA         			dex
         01:D0C4  95 08      			sta.l	<__stack, x
         01:D0C6  94 09      			sty.h	<__stack, x
         01:D0C8  86 8D      			stx	<__sp
13147                        		__ld.wi		-16
         01:D0CA  A9 F0      			lda.l	#-16
         01:D0CC  A0 FF      			ldy.h	#-16
13148                        		__pusharg.wr
         01:D0CE  A6 8D      			ldx	<__sp
         01:D0D0  CA         			dex
         01:D0D1  CA         			dex
         01:D0D2  95 08      			sta.l	<__stack, x
         01:D0D4  94 09      			sty.h	<__stack, x
         01:D0D6  86 8D      			stx	<__sp
13149                        		__call		_check_TILE_DEPTH
         01:D0D8  20 13 FF   			call	_check_TILE_DEPTH
13150                        	
13151                        		.dbg	line,	"include\routines_LEVELS.c", 2423; if(map_blk_flag == TILE_EMPTY)
13152                        		__not.um	_map_blk_flag
         01:D0DB  AD 05 2C   			lda	_map_blk_flag
         01:D0DE  18         			clc
         01:D0DF  D0 01      			bne	!+
         01:D0E1  38         			sec
         01:D0E2             	!:
13153                        		__bfalse	.LL636
         01:D0E2  90 13      			bcc	.LL636
13154                        	
13155                        		.dbg	line,	"include\routines_LEVELS.c", 2424; {
13156                        	
13157                        		.dbg	line,	"include\routines_LEVELS.c", 2425; jump_ladder = FALSE;
13158                        		__st.umiq	0, _jump_ladder
         01:D0E4  9C 24 23   			stz	_jump_ladder
13159                        	
13160                        		.dbg	line,	"include\routines_LEVELS.c", 2426; hit_wall = TRUE;
13161                        		__st.umiq	1, _hit_wall
         01:D0E7  A9 01      			lda.l	#1
         01:D0E9  8D 27 23   			sta	_hit_wall
13162                        	
13163                        		.dbg	line,	"include\routines_LEVELS.c", 2427; player_index_fall = 0;
13164                        		__st.umiq	0, _player_index_fall
         01:D0EC  9C 20 23   			stz	_player_index_fall
13165                        	
13166                        		.dbg	line,	"include\routines_LEVELS.c", 2428; player_state = STATE_FALL;
13167                        		__st.umiq	9, _player_state
         01:D0EF  A9 09      			lda.l	#9
         01:D0F1  8D 1B 23   			sta	_player_state
13168                        	
13169                        		.dbg	line,	"include\routines_LEVELS.c", 2429; return;
13170                        		__bra		.LL507
         01:D0F4  4C 14 DC   			bra	.LL507
13171                        	
13172                        		.dbg	line,	"include\routines_LEVELS.c", 2430; }
13173                        	
13174                        		.dbg	line,	"include\routines_LEVELS.c", 2431; }
13175    01:D0F7             	.LL636:
13176    01:D0F7             	.LL635:
13177                        	
13178                        		.dbg	line,	"include\routines_LEVELS.c", 2436; //**************************************************************************************//
13179                        	
13180                        		.dbg	line,	"include\routines_LEVELS.c", 2437; //                                        V MOVE                                        //
13181                        	
13182                        		.dbg	line,	"include\routines_LEVELS.c", 2438; //**************************************************************************************//
13183                        	
13184                        		.dbg	line,	"include\routines_LEVELS.c", 2440; // UPDATE PLAYER Y POSITION //
13185                        	
13186                        		.dbg	line,	"include\routines_LEVELS.c", 2441; if(jump_ladder == FALSE)
13187                        		__not.um	_jump_ladder
         01:D0F7  AD 24 23   			lda	_jump_ladder
         01:D0FA  18         			clc
         01:D0FB  D0 01      			bne	!+
         01:D0FD  38         			sec
         01:D0FE             	!:
13188                        		__bfalse	.LL637
         01:D0FE  90 1A      			bcc	.LL637
13189                        	
13190                        		.dbg	line,	"include\routines_LEVELS.c", 2442; {
13191                        	
13192                        		.dbg	line,	"include\routines_LEVELS.c", 2443; player_pos_y += TABLE_PLAYER_JUMP_D_GROUND[player_index_jump];
13193                        		__ldx.umq	_player_index_jump
         01:D100  AE 1F 23   			ldx	_player_index_jump
13194                        		__ld.bax	_TABLE_PLAYER_JUMP_D_GROUND
         01:D103  BD B7 62   			lda	_TABLE_PLAYER_JUMP_D_GROUND, x
         01:D106  C2         			cly
         01:D107  10 01      			bpl	!+
         01:D109  88         			dey
         01:D10A             	!:
13195                        		__add_st.wmq	_player_pos_y
         01:D10A  18         			clc
         01:D10B  6D 03 25   			adc.l	_player_pos_y
         01:D10E  8D 03 25   			sta.l	_player_pos_y
         01:D111  98         			tya
         01:D112  6D 04 25   			adc.h	_player_pos_y
         01:D115  8D 04 25   			sta.h	_player_pos_y
13196                        	
13197                        		.dbg	line,	"include\routines_LEVELS.c", 2444; }
13198                        	
13199                        		.dbg	line,	"include\routines_LEVELS.c", 2446; else
13200                        		__bra		.LL638
         01:D118  80 18      			bra	.LL638
13201    01:D11A             	.LL637:
13202                        	
13203                        		.dbg	line,	"include\routines_LEVELS.c", 2447; {
13204                        	
13205                        		.dbg	line,	"include\routines_LEVELS.c", 2448; player_pos_y += TABLE_PLAYER_JUMP_V_LADDER[player_index_jump];
13206                        		__ldx.umq	_player_index_jump
         01:D11A  AE 1F 23   			ldx	_player_index_jump
13207                        		__ld.bax	_TABLE_PLAYER_JUMP_V_LADDER
         01:D11D  BD F0 62   			lda	_TABLE_PLAYER_JUMP_V_LADDER, x
         01:D120  C2         			cly
         01:D121  10 01      			bpl	!+
         01:D123  88         			dey
         01:D124             	!:
13208                        		__add_st.wmq	_player_pos_y
         01:D124  18         			clc
         01:D125  6D 03 25   			adc.l	_player_pos_y
         01:D128  8D 03 25   			sta.l	_player_pos_y
         01:D12B  98         			tya
         01:D12C  6D 04 25   			adc.h	_player_pos_y
         01:D12F  8D 04 25   			sta.h	_player_pos_y
13209                        	
13210                        		.dbg	line,	"include\routines_LEVELS.c", 2449; }
13211    01:D132             	.LL638:
13212                        	
13213                        		.dbg	line,	"include\routines_LEVELS.c", 2452; // IF PLAYER GOES BELOW ITS BASE Y POSITION //
13214                        	
13215                        		.dbg	line,	"include\routines_LEVELS.c", 2453; if(player_pos_y >= PLAYER_BASE_Y_POS)
13216                        		__ld.wm		_player_pos_y
         01:D132  AD 03 25   			lda.l	_player_pos_y
         01:D135  AC 04 25   			ldy.h	_player_pos_y
13217                        		__sge_w.wi	128
         01:D138  C9 80      			cmp.l	#128		; Subtract integer from Y:A.
         01:D13A  98         			tya
         01:D13B  E9 00      			sbc.h	#128
         01:D13D  50 02      			bvc	!+
         01:D13F  49 80      			eor	#$80		; +ve if Y:A >= integer (signed).
         01:D141  49 80      	!:		eor	#$80
         01:D143  0A         			asl	a
13218                        		__bfalse	.LL639
         01:D144  90 4E      			bcc	.LL639
13219                        	
13220                        		.dbg	line,	"include\routines_LEVELS.c", 2454; {
13221                        	
13222                        		.dbg	line,	"include\routines_LEVELS.c", 2455; // THE CAMERA MOVES //
13223                        	
13224                        		.dbg	line,	"include\routines_LEVELS.c", 2456; // CALCULATE HOW MANY PIXELS THE CAMERA HAS TO MOVE DOWN //
13225                        	
13226                        		.dbg	line,	"include\routines_LEVELS.c", 2457; camera_y_move = player_pos_y - PLAYER_BASE_Y_POS;
13227                        		__ld.wm		_player_pos_y
         01:D146  AD 03 25   			lda.l	_player_pos_y
         01:D149  AC 04 25   			ldy.h	_player_pos_y
13228                        		__sub.wi	128
         01:D14C  38         			sec
         01:D14D  E9 80      			sbc.l	#128
         01:D14F  B0 01      			bcs	!+
         01:D151  88         			dey
         01:D152             	!:
13229                        		__st.umq	__update_PLAYER_end - 5  /* camera_y_move */
         01:D152  8D 08 23   			sta	__update_PLAYER_end - 5
13230                        	
13231                        		.dbg	line,	"include\routines_LEVELS.c", 2458; sgx_map_pxl_y += camera_y_move;
13232                        		__ld.um		__update_PLAYER_end - 5  /* camera_y_move */
         01:D155  AD 08 23   			lda	__update_PLAYER_end - 5
         01:D158  C2         			cly
13233                        		__add_st.wmq	_sgx_map_pxl_y
         01:D159  18         			clc
         01:D15A  6D E6 26   			adc.l	_sgx_map_pxl_y
         01:D15D  8D E6 26   			sta.l	_sgx_map_pxl_y
         01:D160  98         			tya
         01:D161  6D E7 26   			adc.h	_sgx_map_pxl_y
         01:D164  8D E7 26   			sta.h	_sgx_map_pxl_y
13234                        	
13235                        		.dbg	line,	"include\routines_LEVELS.c", 2460; // IF THE CAMERA HAS REACHED ITS MAX (LOWEST) POSITION //
13236                        	
13237                        		.dbg	line,	"include\routines_LEVELS.c", 2461; if(sgx_map_pxl_y > camera_max_y_position)
13238                        		__ld.wm		_sgx_map_pxl_y
         01:D167  AD E6 26   			lda.l	_sgx_map_pxl_y
         01:D16A  AC E7 26   			ldy.h	_sgx_map_pxl_y
13239                        		__ugt_w.wm	_camera_max_y_position
         01:D16D  18         			clc			; Subtract memory+1 from Y:A.
         01:D16E  ED 05 25   			sbc.l	_camera_max_y_position
         01:D171  98         			tya
         01:D172  ED 06 25   			sbc.h	_camera_max_y_position		; CS if Y:A > memory.
13240                        		__bfalse	.LL640
         01:D175  90 0C      			bcc	.LL640
13241                        	
13242                        		.dbg	line,	"include\routines_LEVELS.c", 2462; {
13243                        	
13244                        		.dbg	line,	"include\routines_LEVELS.c", 2463; // THE CAMERA CAN NOT MOVE LOWER //
13245                        	
13246                        		.dbg	line,	"include\routines_LEVELS.c", 2464; sgx_map_pxl_y = camera_max_y_position;
13247                        		__ld.wm		_camera_max_y_position
         01:D177  AD 05 25   			lda.l	_camera_max_y_position
         01:D17A  AC 06 25   			ldy.h	_camera_max_y_position
13248                        		__st.wmq	_sgx_map_pxl_y
         01:D17D  8D E6 26   			sta.l	_sgx_map_pxl_y
         01:D180  8C E7 26   			sty.h	_sgx_map_pxl_y
13249                        	
13250                        		.dbg	line,	"include\routines_LEVELS.c", 2465; }
13251                        	
13252                        		.dbg	line,	"include\routines_LEVELS.c", 2467; // THE PLAYER STAYS AT ITS BASE Y POSITION //
13253                        	
13254                        		.dbg	line,	"include\routines_LEVELS.c", 2468; player_pos_y = PLAYER_BASE_Y_POS;
13255    01:D183             	.LL640:
13256                        		__st.wmiq	128, _player_pos_y
         01:D183  A9 80      			lda.l	#128
         01:D185  8D 03 25   			sta.l	_player_pos_y
         01:D188  9C 04 25   			stz.h	_player_pos_y
13257                        	
13258                        		.dbg	line,	"include\routines_LEVELS.c", 2470; spr_y(player_pos_y);
13259                        		__ld.wm		_player_pos_y
         01:D18B  AD 03 25   			lda.l	_player_pos_y
         01:D18E  AC 04 25   			ldy.h	_player_pos_y
13260                        		__call		_spr_y.1
         01:D191  20 2D E8   			call	_spr_y.1
13261                        	
13262                        		.dbg	line,	"include\routines_LEVELS.c", 2471; }
13263                        	
13264                        		.dbg	line,	"include\routines_LEVELS.c", 2474; // UPDATE JUMP INDEX IN THE ARRAY //
13265                        	
13266                        		.dbg	line,	"include\routines_LEVELS.c", 2475; if(player_index_jump < jump_max_index)
13267    01:D194             	.LL639:
13268                        		__ld.umq	_player_index_jump
         01:D194  AD 1F 23   			lda	_player_index_jump
13269                        		__ult_b.umq	_jump_max_index
         01:D197  CD 25 23   			cmp	_jump_max_index		; Subtract memory from A.
         01:D19A  6A         			ror	a		; CC if A < memory.
         01:D19B  49 80      			eor	#$80
         01:D19D  2A         			rol	a
13270                        		__bfalse	.LL641
         01:D19E  90 03      			bcc	.LL641
13271                        	
13272                        		.dbg	line,	"include\routines_LEVELS.c", 2476; {
13273                        	
13274                        		.dbg	line,	"include\routines_LEVELS.c", 2477; player_index_jump += 1;
13275                        		__add_st.umiq	1, _player_index_jump
         01:D1A0  EE 1F 23   			inc	_player_index_jump
13276                        	
13277                        		.dbg	line,	"include\routines_LEVELS.c", 2478; }
13278                        	
13279                        		.dbg	line,	"include\routines_LEVELS.c", 2483; //--------------------------------------------------------------------------------------//
13280                        	
13281                        		.dbg	line,	"include\routines_LEVELS.c", 2484; //                                   FLOOR COLLISION                                    //
13282                        	
13283                        		.dbg	line,	"include\routines_LEVELS.c", 2485; //--------------------------------------------------------------------------------------//
13284                        	
13285                        		.dbg	line,	"include\routines_LEVELS.c", 2487; if(player_index_jump > 14)
13286    01:D1A3             	.LL641:
13287                        		__ld.umq	_player_index_jump
         01:D1A3  AD 1F 23   			lda	_player_index_jump
13288                        		__ugt_b.uiq	14
         01:D1A6  18         			clc			; Subtract integer+1 from A.
         01:D1A7  E9 0E      			sbc	#14		; CS if A > integer.
13289                        		__bfalse	.LL642
         01:D1A9  B0 03 4C 9C			bcc	.LL642
         01:D1AD  D3          
13290                        	
13291                        		.dbg	line,	"include\routines_LEVELS.c", 2488; {
13292                        	
13293                        		.dbg	line,	"include\routines_LEVELS.c", 2489; // CHECK COLLISION WITH LEFT FLOOR //
13294                        	
13295                        		.dbg	line,	"include\routines_LEVELS.c", 2490; collision_PLAYER_BG( 10 , 32 );
13296                        		__ld.wi		10
         01:D1AE  A9 0A      			lda.l	#10
         01:D1B0  C2         			cly
13297                        		__pusharg.wr
         01:D1B1  A6 8D      			ldx	<__sp
         01:D1B3  CA         			dex
         01:D1B4  CA         			dex
         01:D1B5  95 08      			sta.l	<__stack, x
         01:D1B7  94 09      			sty.h	<__stack, x
         01:D1B9  86 8D      			stx	<__sp
13298                        		__ld.wi		32
         01:D1BB  A9 20      			lda.l	#32
         01:D1BD  C2         			cly
13299                        		__pusharg.wr
         01:D1BE  A6 8D      			ldx	<__sp
         01:D1C0  CA         			dex
         01:D1C1  CA         			dex
         01:D1C2  95 08      			sta.l	<__stack, x
         01:D1C4  94 09      			sty.h	<__stack, x
         01:D1C6  86 8D      			stx	<__sp
13300                        		__call		_collision_PLAYER_BG
         01:D1C8  20 31 FF   			call	_collision_PLAYER_BG
13301                        	
13302                        		.dbg	line,	"include\routines_LEVELS.c", 2492; if(map_blk_flag == TILE_BG)
13303                        		__ld.umq	_map_blk_flag
         01:D1CB  AD 05 2C   			lda	_map_blk_flag
13304                        		__equ_b.uiq	1
         01:D1CE  C9 01      			cmp	#1
         01:D1D0  F0 01      			beq	!+
         01:D1D2  18         			clc
         01:D1D3             	!:
13305                        		__bfalse	.LL643
         01:D1D3  B0 03 4C A5			bcc	.LL643
         01:D1D7  D2          
13306                        	
13307                        		.dbg	line,	"include\routines_LEVELS.c", 2493; {
13308                        	
13309                        		.dbg	line,	"include\routines_LEVELS.c", 2494; // CALCULATE HOW MANY PIXELS THE PLAYER MOVED INTO THE GROUND //
13310                        	
13311                        		.dbg	line,	"include\routines_LEVELS.c", 2495; for(i=1; i<11 ; i++)
13312                        		__st.umiq	1, __update_PLAYER_end - 4  /* i */
         01:D1D8  A9 01      			lda.l	#1
         01:D1DA  8D 09 23   			sta	__update_PLAYER_end - 4
13313    01:D1DD             	.LL644:
13314                        		__ld.umq	__update_PLAYER_end - 4  /* i */
         01:D1DD  AD 09 23   			lda	__update_PLAYER_end - 4
13315                        		__ult_b.uiq	11
         01:D1E0  C9 0B      			cmp	#11		; Subtract integer from A.
         01:D1E2  6A         			ror	a		; CC if A < integer.
         01:D1E3  49 80      			eor	#$80
         01:D1E5  2A         			rol	a
13316                        		__btrue		.LL646
         01:D1E6  B0 07      			bcs	.LL646
13317                        		__bra		.LL647
         01:D1E8  80 7D      			bra	.LL647
13318    01:D1EA             	.LL645:
13319                        		__inc.umq	__update_PLAYER_end - 4  /* i */
         01:D1EA  EE 09 23   			inc	__update_PLAYER_end - 4
13320                        		__bra		.LL644
         01:D1ED  80 EE      			bra	.LL644
13321    01:D1EF             	.LL646:
13322                        	
13323                        		.dbg	line,	"include\routines_LEVELS.c", 2496; {
13324                        	
13325                        		.dbg	line,	"include\routines_LEVELS.c", 2497; check_TILE_DEPTH( 10 , i);
13326                        		__ld.wi		10
         01:D1EF  A9 0A      			lda.l	#10
         01:D1F1  C2         			cly
13327                        		__pusharg.wr
         01:D1F2  A6 8D      			ldx	<__sp
         01:D1F4  CA         			dex
         01:D1F5  CA         			dex
         01:D1F6  95 08      			sta.l	<__stack, x
         01:D1F8  94 09      			sty.h	<__stack, x
         01:D1FA  86 8D      			stx	<__sp
13328                        		__ld.um		__update_PLAYER_end - 4  /* i */
         01:D1FC  AD 09 23   			lda	__update_PLAYER_end - 4
         01:D1FF  C2         			cly
13329                        		__pusharg.wr
         01:D200  A6 8D      			ldx	<__sp
         01:D202  CA         			dex
         01:D203  CA         			dex
         01:D204  95 08      			sta.l	<__stack, x
         01:D206  94 09      			sty.h	<__stack, x
         01:D208  86 8D      			stx	<__sp
13330                        		__call		_check_TILE_DEPTH
         01:D20A  20 13 FF   			call	_check_TILE_DEPTH
13331                        	
13332                        		.dbg	line,	"include\routines_LEVELS.c", 2499; if(map_blk_flag == TILE_EMPTY)
13333                        		__not.um	_map_blk_flag
         01:D20D  AD 05 2C   			lda	_map_blk_flag
         01:D210  18         			clc
         01:D211  D0 01      			bne	!+
         01:D213  38         			sec
         01:D214             	!:
13334                        		__bfalse	.LL648
         01:D214  90 D4      			bcc	.LL648
13335                        	
13336                        		.dbg	line,	"include\routines_LEVELS.c", 2500; {
13337                        	
13338                        		.dbg	line,	"include\routines_LEVELS.c", 2501; if(player_pos_y != PLAYER_BASE_Y_POS)
13339                        		__ld.wm		_player_pos_y
         01:D216  AD 03 25   			lda.l	_player_pos_y
         01:D219  AC 04 25   			ldy.h	_player_pos_y
13340                        		__neq_w.wi	128
         01:D21C  38         			sec
         01:D21D  49 80      			eor.l	#128
         01:D21F  D0 06      			bne	!+
         01:D221  98         			tya
         01:D222  49 00      			eor.h	#128
         01:D224  D0 01      			bne	!+
         01:D226  18         			clc
         01:D227             	!:
13341                        		__bfalse	.LL649
         01:D227  90 1E      			bcc	.LL649
13342                        	
13343                        		.dbg	line,	"include\routines_LEVELS.c", 2502; {
13344                        	
13345                        		.dbg	line,	"include\routines_LEVELS.c", 2503; player_pos_y -= (i - 1);
13346                        		__ld.um		__update_PLAYER_end - 4  /* i */
         01:D229  AD 09 23   			lda	__update_PLAYER_end - 4
         01:D22C  C2         			cly
13347                        		__sub.wi	1
         01:D22D  38         			sec
         01:D22E  E9 01      			sbc.l	#1
         01:D230  B0 01      			bcs	!+
         01:D232  88         			dey
         01:D233             	!:
13348                        		__isub_st.wmq	_player_pos_y
         01:D233  38         			sec
         01:D234  49 FF      			eor	#$FF
         01:D236  6D 03 25   			adc.l	_player_pos_y
         01:D239  8D 03 25   			sta.l	_player_pos_y
         01:D23C  98         			tya
         01:D23D  49 FF      			eor	#$FF
         01:D23F  6D 04 25   			adc.h	_player_pos_y
         01:D242  8D 04 25   			sta.h	_player_pos_y
13349                        	
13350                        		.dbg	line,	"include\routines_LEVELS.c", 2504; }
13351                        	
13352                        		.dbg	line,	"include\routines_LEVELS.c", 2506; else
13353                        		__bra		.LL650
         01:D245  80 20      			bra	.LL650
13354    01:D247             	.LL649:
13355                        	
13356                        		.dbg	line,	"include\routines_LEVELS.c", 2507; {
13357                        	
13358                        		.dbg	line,	"include\routines_LEVELS.c", 2508; sgx_map_pxl_y -= (i - 1);
13359                        		__ld.um		__update_PLAYER_end - 4  /* i */
         01:D247  AD 09 23   			lda	__update_PLAYER_end - 4
         01:D24A  C2         			cly
13360                        		__sub.wi	1
         01:D24B  38         			sec
         01:D24C  E9 01      			sbc.l	#1
         01:D24E  B0 01      			bcs	!+
         01:D250  88         			dey
         01:D251             	!:
13361                        		__isub_st.wmq	_sgx_map_pxl_y
         01:D251  38         			sec
         01:D252  49 FF      			eor	#$FF
         01:D254  6D E6 26   			adc.l	_sgx_map_pxl_y
         01:D257  8D E6 26   			sta.l	_sgx_map_pxl_y
         01:D25A  98         			tya
         01:D25B  49 FF      			eor	#$FF
         01:D25D  6D E7 26   			adc.h	_sgx_map_pxl_y
         01:D260  8D E7 26   			sta.h	_sgx_map_pxl_y
13362                        	
13363                        		.dbg	line,	"include\routines_LEVELS.c", 2509; }
13364    01:D263             	.LL650	.alias		.LL647
13365                        	
13366                        		.dbg	line,	"include\routines_LEVELS.c", 2511; break;
13367                        		__bra		.LL647
         01:D263  80 02      			bra	.LL647
13368                        	
13369                        		.dbg	line,	"include\routines_LEVELS.c", 2512; }
13370                        	
13371                        		.dbg	line,	"include\routines_LEVELS.c", 2513; }
13372    01:D265             	.LL648	.alias		.LL645
13373                        		__bra		.LL645
         01:D265  80 83      			bra	.LL645
13374    01:D267             	.LL647:
13375                        	
13376                        		.dbg	line,	"include\routines_LEVELS.c", 2515; // SET PLAYER SPRITE NEW POSITION //
13377                        	
13378                        		.dbg	line,	"include\routines_LEVELS.c", 2516; if(player_attack == FALSE)
13379                        		__not.um	_player_attack
         01:D267  AD 23 23   			lda	_player_attack
         01:D26A  18         			clc
         01:D26B  D0 01      			bne	!+
         01:D26D  38         			sec
         01:D26E             	!:
13380                        		__bfalse	.LL651
         01:D26E  90 2A      			bcc	.LL651
13381                        	
13382                        		.dbg	line,	"include\routines_LEVELS.c", 2517; {
13383                        	
13384                        		.dbg	line,	"include\routines_LEVELS.c", 2518; spr_y(player_pos_y);
13385                        		__ld.wm		_player_pos_y
         01:D270  AD 03 25   			lda.l	_player_pos_y
         01:D273  AC 04 25   			ldy.h	_player_pos_y
13386                        		__call		_spr_y.1
         01:D276  20 2D E8   			call	_spr_y.1
13387                        	
13388                        		.dbg	line,	"include\routines_LEVELS.c", 2520; spr_set(weapon_id);
13389                        		__ld.umq	_weapon_id
         01:D279  AD 29 23   			lda	_weapon_id
13390                        		__call		_spr_set.1
         01:D27C  20 F1 E7   			call	_spr_set.1
13391                        	
13392                        		.dbg	line,	"include\routines_LEVELS.c", 2521; spr_y(player_pos_y+8);
13393                        		__ld.wm		_player_pos_y
         01:D27F  AD 03 25   			lda.l	_player_pos_y
         01:D282  AC 04 25   			ldy.h	_player_pos_y
13394                        		__add.wi	8
         01:D285  18         			clc
         01:D286  69 08      			adc.l	#8
         01:D288  90 01      			bcc	!+
         01:D28A  C8         			iny
         01:D28B             	!:
13395                        		__call		_spr_y.1
         01:D28B  20 2D E8   			call	_spr_y.1
13396                        	
13397                        		.dbg	line,	"include\routines_LEVELS.c", 2523; jump_ladder = FALSE;
13398                        		__st.umiq	0, _jump_ladder
         01:D28E  9C 24 23   			stz	_jump_ladder
13399                        	
13400                        		.dbg	line,	"include\routines_LEVELS.c", 2524; hit_wall = FALSE;
13401                        		__st.umiq	0, _hit_wall
         01:D291  9C 27 23   			stz	_hit_wall
13402                        	
13403                        		.dbg	line,	"include\routines_LEVELS.c", 2526; set_PLAYER_IDLE();
13404                        		__call		_set_PLAYER_IDLE
         01:D294  20 27 FF   			call	_set_PLAYER_IDLE
13405                        	
13406                        		.dbg	line,	"include\routines_LEVELS.c", 2527; }
13407                        	
13408                        		.dbg	line,	"include\routines_LEVELS.c", 2529; else
13409                        		__bra		.LL652
         01:D297  4C 14 DC   			bra	.LL652
13410    01:D29A             	.LL651:
13411                        	
13412                        		.dbg	line,	"include\routines_LEVELS.c", 2530; {
13413                        	
13414                        		.dbg	line,	"include\routines_LEVELS.c", 2531; player_index_jump = 0;
13415                        		__st.umiq	0, _player_index_jump
         01:D29A  9C 1F 23   			stz	_player_index_jump
13416                        	
13417                        		.dbg	line,	"include\routines_LEVELS.c", 2532; player_state = STATE_ATTACK;
13418                        		__st.umiq	2, _player_state
         01:D29D  A9 02      			lda.l	#2
         01:D29F  8D 1B 23   			sta	_player_state
13419                        	
13420                        		.dbg	line,	"include\routines_LEVELS.c", 2533; }
13421    01:D2A2             	.LL652	.alias		.LL507
13422                        	
13423                        		.dbg	line,	"include\routines_LEVELS.c", 2535; return;
13424                        		__bra		.LL507
         01:D2A2  4C 14 DC   			bra	.LL507
13425                        	
13426                        		.dbg	line,	"include\routines_LEVELS.c", 2536; }
13427                        	
13428                        		.dbg	line,	"include\routines_LEVELS.c", 2538; else
13429    01:D2A5             	.LL643:
13430                        	
13431                        		.dbg	line,	"include\routines_LEVELS.c", 2539; {
13432                        	
13433                        		.dbg	line,	"include\routines_LEVELS.c", 2540; // CHECK COLLISION WITH RIGHT FLOOR //
13434                        	
13435                        		.dbg	line,	"include\routines_LEVELS.c", 2541; collision_PLAYER_BG( 22 , 32 );
13436                        		__ld.wi		22
         01:D2A5  A9 16      			lda.l	#22
         01:D2A7  C2         			cly
13437                        		__pusharg.wr
         01:D2A8  A6 8D      			ldx	<__sp
         01:D2AA  CA         			dex
         01:D2AB  CA         			dex
         01:D2AC  95 08      			sta.l	<__stack, x
         01:D2AE  94 09      			sty.h	<__stack, x
         01:D2B0  86 8D      			stx	<__sp
13438                        		__ld.wi		32
         01:D2B2  A9 20      			lda.l	#32
         01:D2B4  C2         			cly
13439                        		__pusharg.wr
         01:D2B5  A6 8D      			ldx	<__sp
         01:D2B7  CA         			dex
         01:D2B8  CA         			dex
         01:D2B9  95 08      			sta.l	<__stack, x
         01:D2BB  94 09      			sty.h	<__stack, x
         01:D2BD  86 8D      			stx	<__sp
13440                        		__call		_collision_PLAYER_BG
         01:D2BF  20 31 FF   			call	_collision_PLAYER_BG
13441                        	
13442                        		.dbg	line,	"include\routines_LEVELS.c", 2543; if(map_blk_flag == TILE_BG)
13443                        		__ld.umq	_map_blk_flag
         01:D2C2  AD 05 2C   			lda	_map_blk_flag
13444                        		__equ_b.uiq	1
         01:D2C5  C9 01      			cmp	#1
         01:D2C7  F0 01      			beq	!+
         01:D2C9  18         			clc
         01:D2CA             	!:
13445                        		__bfalse	.LL654
         01:D2CA  B0 03 4C 9C			bcc	.LL654
         01:D2CE  D3          
13446                        	
13447                        		.dbg	line,	"include\routines_LEVELS.c", 2544; {
13448                        	
13449                        		.dbg	line,	"include\routines_LEVELS.c", 2545; // CALCULATE HOW MANY PIXELS THE PLAYER MOVED INTO THE GROUND //
13450                        	
13451                        		.dbg	line,	"include\routines_LEVELS.c", 2546; for(i=1; i<11 ; i++)
13452                        		__st.umiq	1, __update_PLAYER_end - 4  /* i */
         01:D2CF  A9 01      			lda.l	#1
         01:D2D1  8D 09 23   			sta	__update_PLAYER_end - 4
13453    01:D2D4             	.LL655:
13454                        		__ld.umq	__update_PLAYER_end - 4  /* i */
         01:D2D4  AD 09 23   			lda	__update_PLAYER_end - 4
13455                        		__ult_b.uiq	11
         01:D2D7  C9 0B      			cmp	#11		; Subtract integer from A.
         01:D2D9  6A         			ror	a		; CC if A < integer.
         01:D2DA  49 80      			eor	#$80
         01:D2DC  2A         			rol	a
13456                        		__btrue		.LL657
         01:D2DD  B0 07      			bcs	.LL657
13457                        		__bra		.LL658
         01:D2DF  80 7D      			bra	.LL658
13458    01:D2E1             	.LL656:
13459                        		__inc.umq	__update_PLAYER_end - 4  /* i */
         01:D2E1  EE 09 23   			inc	__update_PLAYER_end - 4
13460                        		__bra		.LL655
         01:D2E4  80 EE      			bra	.LL655
13461    01:D2E6             	.LL657:
13462                        	
13463                        		.dbg	line,	"include\routines_LEVELS.c", 2547; {
13464                        	
13465                        		.dbg	line,	"include\routines_LEVELS.c", 2548; check_TILE_DEPTH( 22 , i);
13466                        		__ld.wi		22
         01:D2E6  A9 16      			lda.l	#22
         01:D2E8  C2         			cly
13467                        		__pusharg.wr
         01:D2E9  A6 8D      			ldx	<__sp
         01:D2EB  CA         			dex
         01:D2EC  CA         			dex
         01:D2ED  95 08      			sta.l	<__stack, x
         01:D2EF  94 09      			sty.h	<__stack, x
         01:D2F1  86 8D      			stx	<__sp
13468                        		__ld.um		__update_PLAYER_end - 4  /* i */
         01:D2F3  AD 09 23   			lda	__update_PLAYER_end - 4
         01:D2F6  C2         			cly
13469                        		__pusharg.wr
         01:D2F7  A6 8D      			ldx	<__sp
         01:D2F9  CA         			dex
         01:D2FA  CA         			dex
         01:D2FB  95 08      			sta.l	<__stack, x
         01:D2FD  94 09      			sty.h	<__stack, x
         01:D2FF  86 8D      			stx	<__sp
13470                        		__call		_check_TILE_DEPTH
         01:D301  20 13 FF   			call	_check_TILE_DEPTH
13471                        	
13472                        		.dbg	line,	"include\routines_LEVELS.c", 2550; if(map_blk_flag == TILE_EMPTY)
13473                        		__not.um	_map_blk_flag
         01:D304  AD 05 2C   			lda	_map_blk_flag
         01:D307  18         			clc
         01:D308  D0 01      			bne	!+
         01:D30A  38         			sec
         01:D30B             	!:
13474                        		__bfalse	.LL659
         01:D30B  90 D4      			bcc	.LL659
13475                        	
13476                        		.dbg	line,	"include\routines_LEVELS.c", 2551; {
13477                        	
13478                        		.dbg	line,	"include\routines_LEVELS.c", 2552; if(player_pos_y != PLAYER_BASE_Y_POS)
13479                        		__ld.wm		_player_pos_y
         01:D30D  AD 03 25   			lda.l	_player_pos_y
         01:D310  AC 04 25   			ldy.h	_player_pos_y
13480                        		__neq_w.wi	128
         01:D313  38         			sec
         01:D314  49 80      			eor.l	#128
         01:D316  D0 06      			bne	!+
         01:D318  98         			tya
         01:D319  49 00      			eor.h	#128
         01:D31B  D0 01      			bne	!+
         01:D31D  18         			clc
         01:D31E             	!:
13481                        		__bfalse	.LL660
         01:D31E  90 1E      			bcc	.LL660
13482                        	
13483                        		.dbg	line,	"include\routines_LEVELS.c", 2553; {
13484                        	
13485                        		.dbg	line,	"include\routines_LEVELS.c", 2554; player_pos_y -= (i - 1);
13486                        		__ld.um		__update_PLAYER_end - 4  /* i */
         01:D320  AD 09 23   			lda	__update_PLAYER_end - 4
         01:D323  C2         			cly
13487                        		__sub.wi	1
         01:D324  38         			sec
         01:D325  E9 01      			sbc.l	#1
         01:D327  B0 01      			bcs	!+
         01:D329  88         			dey
         01:D32A             	!:
13488                        		__isub_st.wmq	_player_pos_y
         01:D32A  38         			sec
         01:D32B  49 FF      			eor	#$FF
         01:D32D  6D 03 25   			adc.l	_player_pos_y
         01:D330  8D 03 25   			sta.l	_player_pos_y
         01:D333  98         			tya
         01:D334  49 FF      			eor	#$FF
         01:D336  6D 04 25   			adc.h	_player_pos_y
         01:D339  8D 04 25   			sta.h	_player_pos_y
13489                        	
13490                        		.dbg	line,	"include\routines_LEVELS.c", 2555; }
13491                        	
13492                        		.dbg	line,	"include\routines_LEVELS.c", 2557; else
13493                        		__bra		.LL661
         01:D33C  80 20      			bra	.LL661
13494    01:D33E             	.LL660:
13495                        	
13496                        		.dbg	line,	"include\routines_LEVELS.c", 2558; {
13497                        	
13498                        		.dbg	line,	"include\routines_LEVELS.c", 2559; sgx_map_pxl_y -= (i - 1);
13499                        		__ld.um		__update_PLAYER_end - 4  /* i */
         01:D33E  AD 09 23   			lda	__update_PLAYER_end - 4
         01:D341  C2         			cly
13500                        		__sub.wi	1
         01:D342  38         			sec
         01:D343  E9 01      			sbc.l	#1
         01:D345  B0 01      			bcs	!+
         01:D347  88         			dey
         01:D348             	!:
13501                        		__isub_st.wmq	_sgx_map_pxl_y
         01:D348  38         			sec
         01:D349  49 FF      			eor	#$FF
         01:D34B  6D E6 26   			adc.l	_sgx_map_pxl_y
         01:D34E  8D E6 26   			sta.l	_sgx_map_pxl_y
         01:D351  98         			tya
         01:D352  49 FF      			eor	#$FF
         01:D354  6D E7 26   			adc.h	_sgx_map_pxl_y
         01:D357  8D E7 26   			sta.h	_sgx_map_pxl_y
13502                        	
13503                        		.dbg	line,	"include\routines_LEVELS.c", 2560; }
13504    01:D35A             	.LL661	.alias		.LL658
13505                        	
13506                        		.dbg	line,	"include\routines_LEVELS.c", 2562; break;
13507                        		__bra		.LL658
         01:D35A  80 02      			bra	.LL658
13508                        	
13509                        		.dbg	line,	"include\routines_LEVELS.c", 2563; }
13510                        	
13511                        		.dbg	line,	"include\routines_LEVELS.c", 2564; }
13512    01:D35C             	.LL659	.alias		.LL656
13513                        		__bra		.LL656
         01:D35C  80 83      			bra	.LL656
13514    01:D35E             	.LL658:
13515                        	
13516                        		.dbg	line,	"include\routines_LEVELS.c", 2566; // SET PLAYER SPRITE NEW POSITION //
13517                        	
13518                        		.dbg	line,	"include\routines_LEVELS.c", 2567; if(player_attack == FALSE)
13519                        		__not.um	_player_attack
         01:D35E  AD 23 23   			lda	_player_attack
         01:D361  18         			clc
         01:D362  D0 01      			bne	!+
         01:D364  38         			sec
         01:D365             	!:
13520                        		__bfalse	.LL662
         01:D365  90 2A      			bcc	.LL662
13521                        	
13522                        		.dbg	line,	"include\routines_LEVELS.c", 2568; {
13523                        	
13524                        		.dbg	line,	"include\routines_LEVELS.c", 2569; spr_y(player_pos_y);
13525                        		__ld.wm		_player_pos_y
         01:D367  AD 03 25   			lda.l	_player_pos_y
         01:D36A  AC 04 25   			ldy.h	_player_pos_y
13526                        		__call		_spr_y.1
         01:D36D  20 2D E8   			call	_spr_y.1
13527                        	
13528                        		.dbg	line,	"include\routines_LEVELS.c", 2571; spr_set(weapon_id);
13529                        		__ld.umq	_weapon_id
         01:D370  AD 29 23   			lda	_weapon_id
13530                        		__call		_spr_set.1
         01:D373  20 F1 E7   			call	_spr_set.1
13531                        	
13532                        		.dbg	line,	"include\routines_LEVELS.c", 2572; spr_y(player_pos_y+8);
13533                        		__ld.wm		_player_pos_y
         01:D376  AD 03 25   			lda.l	_player_pos_y
         01:D379  AC 04 25   			ldy.h	_player_pos_y
13534                        		__add.wi	8
         01:D37C  18         			clc
         01:D37D  69 08      			adc.l	#8
         01:D37F  90 01      			bcc	!+
         01:D381  C8         			iny
         01:D382             	!:
13535                        		__call		_spr_y.1
         01:D382  20 2D E8   			call	_spr_y.1
13536                        	
13537                        		.dbg	line,	"include\routines_LEVELS.c", 2574; jump_ladder = FALSE;
13538                        		__st.umiq	0, _jump_ladder
         01:D385  9C 24 23   			stz	_jump_ladder
13539                        	
13540                        		.dbg	line,	"include\routines_LEVELS.c", 2575; hit_wall = FALSE;
13541                        		__st.umiq	0, _hit_wall
         01:D388  9C 27 23   			stz	_hit_wall
13542                        	
13543                        		.dbg	line,	"include\routines_LEVELS.c", 2577; set_PLAYER_IDLE();
13544                        		__call		_set_PLAYER_IDLE
         01:D38B  20 27 FF   			call	_set_PLAYER_IDLE
13545                        	
13546                        		.dbg	line,	"include\routines_LEVELS.c", 2578; }
13547                        	
13548                        		.dbg	line,	"include\routines_LEVELS.c", 2580; else
13549                        		__bra		.LL663
         01:D38E  4C 14 DC   			bra	.LL663
13550    01:D391             	.LL662:
13551                        	
13552                        		.dbg	line,	"include\routines_LEVELS.c", 2581; {
13553                        	
13554                        		.dbg	line,	"include\routines_LEVELS.c", 2582; player_index_jump = 0;
13555                        		__st.umiq	0, _player_index_jump
         01:D391  9C 1F 23   			stz	_player_index_jump
13556                        	
13557                        		.dbg	line,	"include\routines_LEVELS.c", 2583; player_state = STATE_ATTACK;
13558                        		__st.umiq	2, _player_state
         01:D394  A9 02      			lda.l	#2
         01:D396  8D 1B 23   			sta	_player_state
13559                        	
13560                        		.dbg	line,	"include\routines_LEVELS.c", 2584; }
13561    01:D399             	.LL663	.alias		.LL507
13562                        	
13563                        		.dbg	line,	"include\routines_LEVELS.c", 2586; return;
13564                        		__bra		.LL507
         01:D399  4C 14 DC   			bra	.LL507
13565                        	
13566                        		.dbg	line,	"include\routines_LEVELS.c", 2587; }
13567                        	
13568                        		.dbg	line,	"include\routines_LEVELS.c", 2588; }
13569    01:D39C             	.LL654:
13570    01:D39C             	.LL653:
13571                        	
13572                        		.dbg	line,	"include\routines_LEVELS.c", 2589; }
13573                        	
13574                        		.dbg	line,	"include\routines_LEVELS.c", 2594; //--------------------------------------------------------------------------------------//
13575                        	
13576                        		.dbg	line,	"include\routines_LEVELS.c", 2595; //                                   LADDER COLLISION                                   //
13577                        	
13578                        		.dbg	line,	"include\routines_LEVELS.c", 2596; //--------------------------------------------------------------------------------------//
13579                        	
13580                        		.dbg	line,	"include\routines_LEVELS.c", 2598; if(player_index_jump > 4)
13581    01:D39C             	.LL642:
13582                        		__ld.umq	_player_index_jump
         01:D39C  AD 1F 23   			lda	_player_index_jump
13583                        		__ugt_b.uiq	4
         01:D39F  18         			clc			; Subtract integer+1 from A.
         01:D3A0  E9 04      			sbc	#4		; CS if A > integer.
13584                        		__bfalse	.LL664
         01:D3A2  B0 03 4C B2			bcc	.LL664
         01:D3A6  D4          
13585                        	
13586                        		.dbg	line,	"include\routines_LEVELS.c", 2599; {
13587                        	
13588                        		.dbg	line,	"include\routines_LEVELS.c", 2600; collision_PLAYER_BG( 16 , 16 );
13589                        		__ld.wi		16
         01:D3A7  A9 10      			lda.l	#16
         01:D3A9  C2         			cly
13590                        		__pusharg.wr
         01:D3AA  A6 8D      			ldx	<__sp
         01:D3AC  CA         			dex
         01:D3AD  CA         			dex
         01:D3AE  95 08      			sta.l	<__stack, x
         01:D3B0  94 09      			sty.h	<__stack, x
         01:D3B2  86 8D      			stx	<__sp
13591                        		__ld.wi		16
         01:D3B4  A9 10      			lda.l	#16
         01:D3B6  C2         			cly
13592                        		__pusharg.wr
         01:D3B7  A6 8D      			ldx	<__sp
         01:D3B9  CA         			dex
         01:D3BA  CA         			dex
         01:D3BB  95 08      			sta.l	<__stack, x
         01:D3BD  94 09      			sty.h	<__stack, x
         01:D3BF  86 8D      			stx	<__sp
13593                        		__call		_collision_PLAYER_BG
         01:D3C1  20 31 FF   			call	_collision_PLAYER_BG
13594                        	
13595                        		.dbg	line,	"include\routines_LEVELS.c", 2602; if(map_blk_flag == TILE_LADDER)
13596                        		__ld.umq	_map_blk_flag
         01:D3C4  AD 05 2C   			lda	_map_blk_flag
13597                        		__equ_b.uiq	2
         01:D3C7  C9 02      			cmp	#2
         01:D3C9  F0 01      			beq	!+
         01:D3CB  18         			clc
         01:D3CC             	!:
13598                        		__bfalse	.LL665
         01:D3CC  B0 03 4C B2			bcc	.LL665
         01:D3D0  D4          
13599                        	
13600                        		.dbg	line,	"include\routines_LEVELS.c", 2603; {
13601                        	
13602                        		.dbg	line,	"include\routines_LEVELS.c", 2604; // CAMERA GOES 8 PX BACKWARD //
13603                        	
13604                        		.dbg	line,	"include\routines_LEVELS.c", 2605; sgx_map_pxl_x = ( (sgx_map_pxl_x >> 3) << 3 );
13605                        		__ld.wm		_sgx_map_pxl_x
         01:D3D1  AD E4 26   			lda.l	_sgx_map_pxl_x
         01:D3D4  AC E5 26   			ldy.h	_sgx_map_pxl_x
13606                        		__lsr.wi	3
         01:D3D7  84 00      			sty	__temp
         01:D3D9  20 3A E2   			jsr	lsrw3
13607                        		__asl.wi	3
         01:D3DC  84 00      			sty	__temp
         01:D3DE  20 D7 E1   			jsr	aslw3
13608                        		__st.wmq	_sgx_map_pxl_x
         01:D3E1  8D E4 26   			sta.l	_sgx_map_pxl_x
         01:D3E4  8C E5 26   			sty.h	_sgx_map_pxl_x
13609                        	
13610                        		.dbg	line,	"include\routines_LEVELS.c", 2607; // SO WE UPDATE THE MAP //
13611                        	
13612                        		.dbg	line,	"include\routines_LEVELS.c", 2608; sgx_scroll_map();
13613                        		__call		_sgx_scroll_map
         01:D3E7  20 63 FF   			call	_sgx_scroll_map
13614                        	
13615                        		.dbg	line,	"include\routines_LEVELS.c", 2610; // CHECK IF THE PLAYER STANDS RIGHT TO THE LADDER //
13616                        	
13617                        		.dbg	line,	"include\routines_LEVELS.c", 2611; collision_PLAYER_BG( 31 , 16 );
13618                        		__ld.wi		31
         01:D3EA  A9 1F      			lda.l	#31
         01:D3EC  C2         			cly
13619                        		__pusharg.wr
         01:D3ED  A6 8D      			ldx	<__sp
         01:D3EF  CA         			dex
         01:D3F0  CA         			dex
         01:D3F1  95 08      			sta.l	<__stack, x
         01:D3F3  94 09      			sty.h	<__stack, x
         01:D3F5  86 8D      			stx	<__sp
13620                        		__ld.wi		16
         01:D3F7  A9 10      			lda.l	#16
         01:D3F9  C2         			cly
13621                        		__pusharg.wr
         01:D3FA  A6 8D      			ldx	<__sp
         01:D3FC  CA         			dex
         01:D3FD  CA         			dex
         01:D3FE  95 08      			sta.l	<__stack, x
         01:D400  94 09      			sty.h	<__stack, x
         01:D402  86 8D      			stx	<__sp
13622                        		__call		_collision_PLAYER_BG
         01:D404  20 31 FF   			call	_collision_PLAYER_BG
13623                        	
13624                        		.dbg	line,	"include\routines_LEVELS.c", 2613; if(map_blk_flag == TILE_LADDER)
13625                        		__ld.umq	_map_blk_flag
         01:D407  AD 05 2C   			lda	_map_blk_flag
13626                        		__equ_b.uiq	2
         01:D40A  C9 02      			cmp	#2
         01:D40C  F0 01      			beq	!+
         01:D40E  18         			clc
         01:D40F             	!:
13627                        		__bfalse	.LL666
         01:D40F  90 0E      			bcc	.LL666
13628                        	
13629                        		.dbg	line,	"include\routines_LEVELS.c", 2614; {
13630                        	
13631                        		.dbg	line,	"include\routines_LEVELS.c", 2615; sgx_map_pxl_x += 8;
13632                        		__add_st.wmiq	8, _sgx_map_pxl_x
         01:D411  18         			clc
         01:D412  AD E4 26   			lda.l	_sgx_map_pxl_x
         01:D415  69 08      			adc.l	#8
         01:D417  8D E4 26   			sta.l	_sgx_map_pxl_x
         01:D41A  90 03      			bcc	!+
         01:D41C  EE E5 26   			inc.h	_sgx_map_pxl_x
         01:D41F             	!:
13633                        	
13634                        		.dbg	line,	"include\routines_LEVELS.c", 2616; }
13635                        	
13636                        		.dbg	line,	"include\routines_LEVELS.c", 2618; spr_pattern(PLAYER_HANG_VRAM_ADR);
13637    01:D41F             	.LL666:
13638                        		__ld.wi		8448
         01:D41F  62         			cla
         01:D420  A0 21      			ldy.h	#8448
13639                        		__call		_spr_pattern.1
         01:D422  20 3A E8   			call	_spr_pattern.1
13640                        	
13641                        		.dbg	line,	"include\routines_LEVELS.c", 2620; spr_set(weapon_id);
13642                        		__ld.umq	_weapon_id
         01:D425  AD 29 23   			lda	_weapon_id
13643                        		__call		_spr_set.1
         01:D428  20 F1 E7   			call	_spr_set.1
13644                        	
13645                        		.dbg	line,	"include\routines_LEVELS.c", 2621; spr_pattern(WEAPON_IDLE_VRAM_ADRESS);
13646                        		__ld.wi		31808
         01:D42B  A9 40      			lda.l	#31808
         01:D42D  A0 7C      			ldy.h	#31808
13647                        		__call		_spr_pattern.1
         01:D42F  20 3A E8   			call	_spr_pattern.1
13648                        	
13649                        		.dbg	line,	"include\routines_LEVELS.c", 2622; spr_y(player_pos_y+5);
13650                        		__ld.wm		_player_pos_y
         01:D432  AD 03 25   			lda.l	_player_pos_y
         01:D435  AC 04 25   			ldy.h	_player_pos_y
13651                        		__add.wi	5
         01:D438  18         			clc
         01:D439  69 05      			adc.l	#5
         01:D43B  90 01      			bcc	!+
         01:D43D  C8         			iny
         01:D43E             	!:
13652                        		__call		_spr_y.1
         01:D43E  20 2D E8   			call	_spr_y.1
13653                        	
13654                        		.dbg	line,	"include\routines_LEVELS.c", 2624; if(player_axis == AXIS_RIGHT)
13655                        		__not.um	_player_axis
         01:D441  AD 1C 23   			lda	_player_axis
         01:D444  18         			clc
         01:D445  D0 01      			bne	!+
         01:D447  38         			sec
         01:D448             	!:
13656                        		__bfalse	.LL667
         01:D448  90 11      			bcc	.LL667
13657                        	
13658                        		.dbg	line,	"include\routines_LEVELS.c", 2625; {
13659                        	
13660                        		.dbg	line,	"include\routines_LEVELS.c", 2626; spr_x(player_pos_x+17);
13661                        		__ld.wm		_player_pos_x
         01:D44A  AD 01 25   			lda.l	_player_pos_x
         01:D44D  AC 02 25   			ldy.h	_player_pos_x
13662                        		__add.wi	17
         01:D450  18         			clc
         01:D451  69 11      			adc.l	#17
         01:D453  90 01      			bcc	!+
         01:D455  C8         			iny
         01:D456             	!:
13663                        		__call		_spr_x.1
         01:D456  20 1E E8   			call	_spr_x.1
13664                        	
13665                        		.dbg	line,	"include\routines_LEVELS.c", 2627; }
13666                        	
13667                        		.dbg	line,	"include\routines_LEVELS.c", 2629; else
13668                        		__bra		.LL668
         01:D459  80 0F      			bra	.LL668
13669    01:D45B             	.LL667:
13670                        	
13671                        		.dbg	line,	"include\routines_LEVELS.c", 2630; {
13672                        	
13673                        		.dbg	line,	"include\routines_LEVELS.c", 2631; spr_x(player_pos_x-2);
13674                        		__ld.wm		_player_pos_x
         01:D45B  AD 01 25   			lda.l	_player_pos_x
         01:D45E  AC 02 25   			ldy.h	_player_pos_x
13675                        		__sub.wi	2
         01:D461  38         			sec
         01:D462  E9 02      			sbc.l	#2
         01:D464  B0 01      			bcs	!+
         01:D466  88         			dey
         01:D467             	!:
13676                        		__call		_spr_x.1
         01:D467  20 1E E8   			call	_spr_x.1
13677                        	
13678                        		.dbg	line,	"include\routines_LEVELS.c", 2632; }
13679    01:D46A             	.LL668:
13680                        	
13681                        		.dbg	line,	"include\routines_LEVELS.c", 2634; spr_set(chain_id);
13682                        		__ld.umq	_chain_id
         01:D46A  AD 28 23   			lda	_chain_id
13683                        		__call		_spr_set.1
         01:D46D  20 F1 E7   			call	_spr_set.1
13684                        	
13685                        		.dbg	line,	"include\routines_LEVELS.c", 2635; spr_hide();
13686                        		__call		_spr_hide
         01:D470  20 0C E8   			call	_spr_hide
13687                        	
13688                        		.dbg	line,	"include\routines_LEVELS.c", 2637; spr_set(chain_id+1);
13689                        		__ld.um		_chain_id
         01:D473  AD 28 23   			lda	_chain_id
         01:D476  C2         			cly
13690                        		__add.wi	1
         01:D477  1A         			inc	a
         01:D478  D0 01      			bne	!+
         01:D47A  C8         			iny
         01:D47B             	!:
13691                        		__call		_spr_set.1
         01:D47B  20 F1 E7   			call	_spr_set.1
13692                        	
13693                        		.dbg	line,	"include\routines_LEVELS.c", 2638; spr_hide();
13694                        		__call		_spr_hide
         01:D47E  20 0C E8   			call	_spr_hide
13695                        	
13696                        		.dbg	line,	"include\routines_LEVELS.c", 2640; spr_set(chain_id+2);
13697                        		__ld.um		_chain_id
         01:D481  AD 28 23   			lda	_chain_id
         01:D484  C2         			cly
13698                        		__add.wi	2
         01:D485  18         			clc
         01:D486  69 02      			adc.l	#2
         01:D488  90 01      			bcc	!+
         01:D48A  C8         			iny
         01:D48B             	!:
13699                        		__call		_spr_set.1
         01:D48B  20 F1 E7   			call	_spr_set.1
13700                        	
13701                        		.dbg	line,	"include\routines_LEVELS.c", 2641; spr_hide();
13702                        		__call		_spr_hide
         01:D48E  20 0C E8   			call	_spr_hide
13703                        	
13704                        		.dbg	line,	"include\routines_LEVELS.c", 2643; list_chain_active[0] = FALSE;
13705                        		__st.umiq	0, _list_chain_active
         01:D491  9C 2C 23   			stz	_list_chain_active
13706                        	
13707                        		.dbg	line,	"include\routines_LEVELS.c", 2644; list_chain_active[1] = FALSE;
13708                        		__st.umiq	0, _list_chain_active + 1
         01:D494  9C 2D 23   			stz	_list_chain_active + 1
13709                        	
13710                        		.dbg	line,	"include\routines_LEVELS.c", 2645; list_chain_active[2] = FALSE;
13711                        		__st.umiq	0, _list_chain_active + 2
         01:D497  9C 2E 23   			stz	_list_chain_active + 2
13712                        	
13713                        		.dbg	line,	"include\routines_LEVELS.c", 2647; player_counter_anim = 0;
13714                        		__st.umiq	0, _player_counter_anim
         01:D49A  9C 1E 23   			stz	_player_counter_anim
13715                        	
13716                        		.dbg	line,	"include\routines_LEVELS.c", 2648; player_index_jump = 0;
13717                        		__st.umiq	0, _player_index_jump
         01:D49D  9C 1F 23   			stz	_player_index_jump
13718                        	
13719                        		.dbg	line,	"include\routines_LEVELS.c", 2649; player_attack = FALSE;
13720                        		__st.umiq	0, _player_attack
         01:D4A0  9C 23 23   			stz	_player_attack
13721                        	
13722                        		.dbg	line,	"include\routines_LEVELS.c", 2650; jump_ladder = TRUE;
13723                        		__st.umiq	1, _jump_ladder
         01:D4A3  A9 01      			lda.l	#1
         01:D4A5  8D 24 23   			sta	_jump_ladder
13724                        	
13725                        		.dbg	line,	"include\routines_LEVELS.c", 2651; jump_max_index = 29;
13726                        		__st.umiq	29, _jump_max_index
         01:D4A8  A9 1D      			lda.l	#29
         01:D4AA  8D 25 23   			sta	_jump_max_index
13727                        	
13728                        		.dbg	line,	"include\routines_LEVELS.c", 2652; player_state = STATE_HANG;
13729                        		__st.umiq	10, _player_state
         01:D4AD  A9 0A      			lda.l	#10
         01:D4AF  8D 1B 23   			sta	_player_state
13730                        	
13731                        		.dbg	line,	"include\routines_LEVELS.c", 2653; }
13732                        	
13733                        		.dbg	line,	"include\routines_LEVELS.c", 2654; }
13734    01:D4B2             	.LL665:
13735                        	
13736                        		.dbg	line,	"include\routines_LEVELS.c", 2657; // SET PLAYER SPRITE NEW POSITION //
13737                        	
13738                        		.dbg	line,	"include\routines_LEVELS.c", 2658; spr_set(player_id);
13739    01:D4B2             	.LL664:
13740                        		__ld.umq	_player_id
         01:D4B2  AD 1A 23   			lda	_player_id
13741                        		__call		_spr_set.1
         01:D4B5  20 F1 E7   			call	_spr_set.1
13742                        	
13743                        		.dbg	line,	"include\routines_LEVELS.c", 2659; spr_y(player_pos_y);
13744                        		__ld.wm		_player_pos_y
         01:D4B8  AD 03 25   			lda.l	_player_pos_y
         01:D4BB  AC 04 25   			ldy.h	_player_pos_y
13745                        		__call		_spr_y.1
         01:D4BE  20 2D E8   			call	_spr_y.1
13746                        	
13747                        		.dbg	line,	"include\routines_LEVELS.c", 2661; spr_set(weapon_id);
13748                        		__ld.umq	_weapon_id
         01:D4C1  AD 29 23   			lda	_weapon_id
13749                        		__call		_spr_set.1
         01:D4C4  20 F1 E7   			call	_spr_set.1
13750                        	
13751                        		.dbg	line,	"include\routines_LEVELS.c", 2662; spr_y(player_pos_y+8);
13752                        		__ld.wm		_player_pos_y
         01:D4C7  AD 03 25   			lda.l	_player_pos_y
         01:D4CA  AC 04 25   			ldy.h	_player_pos_y
13753                        		__add.wi	8
         01:D4CD  18         			clc
         01:D4CE  69 08      			adc.l	#8
         01:D4D0  90 01      			bcc	!+
         01:D4D2  C8         			iny
         01:D4D3             	!:
13754                        		__call		_spr_y.1
         01:D4D3  20 2D E8   			call	_spr_y.1
13755                        	
13756                        		.dbg	line,	"include\routines_LEVELS.c", 2663; }
13757                        	
13758                        		.dbg	line,	"include\routines_LEVELS.c", 2666; else if(player_state == STATE_CROUCH)
13759                        		__bra		.LL669
         01:D4D6  4C 14 DC   			bra	.LL669
13760    01:D4D9             	.LL629:
13761                        		__ld.umq	_player_state
         01:D4D9  AD 1B 23   			lda	_player_state
13762                        		__equ_b.uiq	7
         01:D4DC  C9 07      			cmp	#7
         01:D4DE  F0 01      			beq	!+
         01:D4E0  18         			clc
         01:D4E1             	!:
13763                        		__bfalse	.LL670
         01:D4E1  90 6A      			bcc	.LL670
13764                        	
13765                        		.dbg	line,	"include\routines_LEVELS.c", 2667; {
13766                        	
13767                        		.dbg	line,	"include\routines_LEVELS.c", 2668; recenter_CAMERA();
13768                        		__call		_recenter_CAMERA
         01:D4E3  20 1D FF   			call	_recenter_CAMERA
13769                        	
13770                        		.dbg	line,	"include\routines_LEVELS.c", 2669; 
13771                        	
13772                        		.dbg	line,	"include\routines_LEVELS.c", 2670; if(player_counter_anim == 1)
13773                        		__ld.umq	_player_counter_anim
         01:D4E6  AD 1E 23   			lda	_player_counter_anim
13774                        		__equ_b.uiq	1
         01:D4E9  C9 01      			cmp	#1
         01:D4EB  F0 01      			beq	!+
         01:D4ED  18         			clc
         01:D4EE             	!:
13775                        		__bfalse	.LL671
         01:D4EE  90 45      			bcc	.LL671
13776                        	
13777                        		.dbg	line,	"include\routines_LEVELS.c", 2671; {
13778                        	
13779                        		.dbg	line,	"include\routines_LEVELS.c", 2672; spr_set(player_id);
13780                        		__ld.umq	_player_id
         01:D4F0  AD 1A 23   			lda	_player_id
13781                        		__call		_spr_set.1
         01:D4F3  20 F1 E7   			call	_spr_set.1
13782                        	
13783                        		.dbg	line,	"include\routines_LEVELS.c", 2673; spr_pattern(PLAYER_CROUCH_VRAM_ADR);
13784                        		__ld.wi		8192
         01:D4F6  62         			cla
         01:D4F7  A0 20      			ldy.h	#8192
13785                        		__call		_spr_pattern.1
         01:D4F9  20 3A E8   			call	_spr_pattern.1
13786                        	
13787                        		.dbg	line,	"include\routines_LEVELS.c", 2675; spr_set(weapon_id);
13788                        		__ld.umq	_weapon_id
         01:D4FC  AD 29 23   			lda	_weapon_id
13789                        		__call		_spr_set.1
         01:D4FF  20 F1 E7   			call	_spr_set.1
13790                        	
13791                        		.dbg	line,	"include\routines_LEVELS.c", 2676; spr_pattern(WEAPON_IDLE_VRAM_ADRESS);
13792                        		__ld.wi		31808
         01:D502  A9 40      			lda.l	#31808
         01:D504  A0 7C      			ldy.h	#31808
13793                        		__call		_spr_pattern.1
         01:D506  20 3A E8   			call	_spr_pattern.1
13794                        	
13795                        		.dbg	line,	"include\routines_LEVELS.c", 2677; 
13796                        	
13797                        		.dbg	line,	"include\routines_LEVELS.c", 2678; if(player_axis == AXIS_RIGHT)
13798                        		__not.um	_player_axis
         01:D509  AD 1C 23   			lda	_player_axis
         01:D50C  18         			clc
         01:D50D  D0 01      			bne	!+
         01:D50F  38         			sec
         01:D510             	!:
13799                        		__bfalse	.LL672
         01:D510  90 11      			bcc	.LL672
13800                        	
13801                        		.dbg	line,	"include\routines_LEVELS.c", 2679; {
13802                        	
13803                        		.dbg	line,	"include\routines_LEVELS.c", 2680; spr_x(player_pos_x-1);
13804                        		__ld.wm		_player_pos_x
         01:D512  AD 01 25   			lda.l	_player_pos_x
         01:D515  AC 02 25   			ldy.h	_player_pos_x
13805                        		__sub.wi	1
         01:D518  38         			sec
         01:D519  E9 01      			sbc.l	#1
         01:D51B  B0 01      			bcs	!+
         01:D51D  88         			dey
         01:D51E             	!:
13806                        		__call		_spr_x.1
         01:D51E  20 1E E8   			call	_spr_x.1
13807                        	
13808                        		.dbg	line,	"include\routines_LEVELS.c", 2681; }
13809                        	
13810                        		.dbg	line,	"include\routines_LEVELS.c", 2683; else
13811                        		__bra		.LL673
         01:D521  80 0F      			bra	.LL673
13812    01:D523             	.LL672:
13813                        	
13814                        		.dbg	line,	"include\routines_LEVELS.c", 2684; {
13815                        	
13816                        		.dbg	line,	"include\routines_LEVELS.c", 2685; spr_x(player_pos_x+17);
13817                        		__ld.wm		_player_pos_x
         01:D523  AD 01 25   			lda.l	_player_pos_x
         01:D526  AC 02 25   			ldy.h	_player_pos_x
13818                        		__add.wi	17
         01:D529  18         			clc
         01:D52A  69 11      			adc.l	#17
         01:D52C  90 01      			bcc	!+
         01:D52E  C8         			iny
         01:D52F             	!:
13819                        		__call		_spr_x.1
         01:D52F  20 1E E8   			call	_spr_x.1
13820                        	
13821                        		.dbg	line,	"include\routines_LEVELS.c", 2686; }
13822    01:D532             	.LL673:
13823                        	
13824                        		.dbg	line,	"include\routines_LEVELS.c", 2688; //spr_y(player_pos_y+18);
13825                        	
13826                        		.dbg	line,	"include\routines_LEVELS.c", 2689; 
13827                        	
13828                        		.dbg	line,	"include\routines_LEVELS.c", 2690; player_counter_anim = 0;
13829                        		__st.umiq	0, _player_counter_anim
         01:D532  9C 1E 23   			stz	_player_counter_anim
13830                        	
13831                        		.dbg	line,	"include\routines_LEVELS.c", 2691; }
13832                        	
13833                        		.dbg	line,	"include\routines_LEVELS.c", 2693; spr_set(weapon_id);
13834    01:D535             	.LL671:
13835                        		__ld.umq	_weapon_id
         01:D535  AD 29 23   			lda	_weapon_id
13836                        		__call		_spr_set.1
         01:D538  20 F1 E7   			call	_spr_set.1
13837                        	
13838                        		.dbg	line,	"include\routines_LEVELS.c", 2694; spr_y(player_pos_y+18);
13839                        		__ld.wm		_player_pos_y
         01:D53B  AD 03 25   			lda.l	_player_pos_y
         01:D53E  AC 04 25   			ldy.h	_player_pos_y
13840                        		__add.wi	18
         01:D541  18         			clc
         01:D542  69 12      			adc.l	#18
         01:D544  90 01      			bcc	!+
         01:D546  C8         			iny
         01:D547             	!:
13841                        		__call		_spr_y.1
         01:D547  20 2D E8   			call	_spr_y.1
13842                        	
13843                        		.dbg	line,	"include\routines_LEVELS.c", 2695; //recenter_CAMERA();
13844                        	
13845                        		.dbg	line,	"include\routines_LEVELS.c", 2696; }
13846                        	
13847                        		.dbg	line,	"include\routines_LEVELS.c", 2699; else if(player_state == STATE_FALL)
13848                        		__bra		.LL674
         01:D54A  4C 14 DC   			bra	.LL674
13849    01:D54D             	.LL670:
13850                        		__ld.umq	_player_state
         01:D54D  AD 1B 23   			lda	_player_state
13851                        		__equ_b.uiq	9
         01:D550  C9 09      			cmp	#9
         01:D552  F0 01      			beq	!+
         01:D554  18         			clc
         01:D555             	!:
13852                        		__bfalse	.LL675
         01:D555  B0 03 4C 1C			bcc	.LL675
         01:D559  D8          
13853                        	
13854                        		.dbg	line,	"include\routines_LEVELS.c", 2700; {
13855                        	
13856                        		.dbg	line,	"include\routines_LEVELS.c", 2701; unsigned char i, camera_y_move;
13857                        	
13858                        		.dbg	line,	"include\routines_LEVELS.c", 2702; i = 1;
13859                        		__st.umiq	1, __update_PLAYER_end - 6  /* i */
         01:D55A  A9 01      			lda.l	#1
         01:D55C  8D 07 23   			sta	__update_PLAYER_end - 6
13860                        	
13861                        		.dbg	line,	"include\routines_LEVELS.c", 2705; //spr_set(player_id);
13862                        	
13863                        		.dbg	line,	"include\routines_LEVELS.c", 2708; //**************************************************************************************//
13864                        	
13865                        		.dbg	line,	"include\routines_LEVELS.c", 2709; //                                        V MOVE                                        //
13866                        	
13867                        		.dbg	line,	"include\routines_LEVELS.c", 2710; //**************************************************************************************//
13868                        	
13869                        		.dbg	line,	"include\routines_LEVELS.c", 2712; // UPDATE PLAYER Y POSITION //
13870                        	
13871                        		.dbg	line,	"include\routines_LEVELS.c", 2713; player_pos_y += TABLE_PLAYER_FALL[player_index_fall];
13872                        		__ldx.umq	_player_index_fall
         01:D55F  AE 20 23   			ldx	_player_index_fall
13873                        		__ld.bax	_TABLE_PLAYER_FALL
         01:D562  BD DB 62   			lda	_TABLE_PLAYER_FALL, x
         01:D565  C2         			cly
         01:D566  10 01      			bpl	!+
         01:D568  88         			dey
         01:D569             	!:
13874                        		__add_st.wmq	_player_pos_y
         01:D569  18         			clc
         01:D56A  6D 03 25   			adc.l	_player_pos_y
         01:D56D  8D 03 25   			sta.l	_player_pos_y
         01:D570  98         			tya
         01:D571  6D 04 25   			adc.h	_player_pos_y
         01:D574  8D 04 25   			sta.h	_player_pos_y
13875                        	
13876                        		.dbg	line,	"include\routines_LEVELS.c", 2716; // IF PLAYER GOES BELOW ITS BASE Y POSITION //
13877                        	
13878                        		.dbg	line,	"include\routines_LEVELS.c", 2717; if(player_pos_y >= PLAYER_BASE_Y_POS)
13879                        		__ld.wm		_player_pos_y
         01:D577  AD 03 25   			lda.l	_player_pos_y
         01:D57A  AC 04 25   			ldy.h	_player_pos_y
13880                        		__sge_w.wi	128
         01:D57D  C9 80      			cmp.l	#128		; Subtract integer from Y:A.
         01:D57F  98         			tya
         01:D580  E9 00      			sbc.h	#128
         01:D582  50 02      			bvc	!+
         01:D584  49 80      			eor	#$80		; +ve if Y:A >= integer (signed).
         01:D586  49 80      	!:		eor	#$80
         01:D588  0A         			asl	a
13881                        		__bfalse	.LL676
         01:D589  90 45      			bcc	.LL676
13882                        	
13883                        		.dbg	line,	"include\routines_LEVELS.c", 2718; {
13884                        	
13885                        		.dbg	line,	"include\routines_LEVELS.c", 2719; // THE CAMERA MOVES //
13886                        	
13887                        		.dbg	line,	"include\routines_LEVELS.c", 2720; // CALCULATE HOW MANY PIXELS THE CAMERA HAS TO MOVE DOWN //
13888                        	
13889                        		.dbg	line,	"include\routines_LEVELS.c", 2721; camera_y_move = player_pos_y - PLAYER_BASE_Y_POS;
13890                        		__ld.wm		_player_pos_y
         01:D58B  AD 03 25   			lda.l	_player_pos_y
         01:D58E  AC 04 25   			ldy.h	_player_pos_y
13891                        		__sub.wi	128
         01:D591  38         			sec
         01:D592  E9 80      			sbc.l	#128
         01:D594  B0 01      			bcs	!+
         01:D596  88         			dey
         01:D597             	!:
13892                        		__st.umq	__update_PLAYER_end - 7  /* camera_y_move */
         01:D597  8D 06 23   			sta	__update_PLAYER_end - 7
13893                        	
13894                        		.dbg	line,	"include\routines_LEVELS.c", 2722; sgx_map_pxl_y += camera_y_move;
13895                        		__ld.um		__update_PLAYER_end - 7  /* camera_y_move */
         01:D59A  AD 06 23   			lda	__update_PLAYER_end - 7
         01:D59D  C2         			cly
13896                        		__add_st.wmq	_sgx_map_pxl_y
         01:D59E  18         			clc
         01:D59F  6D E6 26   			adc.l	_sgx_map_pxl_y
         01:D5A2  8D E6 26   			sta.l	_sgx_map_pxl_y
         01:D5A5  98         			tya
         01:D5A6  6D E7 26   			adc.h	_sgx_map_pxl_y
         01:D5A9  8D E7 26   			sta.h	_sgx_map_pxl_y
13897                        	
13898                        		.dbg	line,	"include\routines_LEVELS.c", 2724; // IF THE CAMERA HAS REACHED ITS MAX (LOWEST) POSITION //
13899                        	
13900                        		.dbg	line,	"include\routines_LEVELS.c", 2725; if(sgx_map_pxl_y > camera_max_y_position)
13901                        		__ld.wm		_sgx_map_pxl_y
         01:D5AC  AD E6 26   			lda.l	_sgx_map_pxl_y
         01:D5AF  AC E7 26   			ldy.h	_sgx_map_pxl_y
13902                        		__ugt_w.wm	_camera_max_y_position
         01:D5B2  18         			clc			; Subtract memory+1 from Y:A.
         01:D5B3  ED 05 25   			sbc.l	_camera_max_y_position
         01:D5B6  98         			tya
         01:D5B7  ED 06 25   			sbc.h	_camera_max_y_position		; CS if Y:A > memory.
13903                        		__bfalse	.LL677
         01:D5BA  90 0C      			bcc	.LL677
13904                        	
13905                        		.dbg	line,	"include\routines_LEVELS.c", 2726; {
13906                        	
13907                        		.dbg	line,	"include\routines_LEVELS.c", 2727; // THE CAMERA CAN NOT MOVE LOWER //
13908                        	
13909                        		.dbg	line,	"include\routines_LEVELS.c", 2728; sgx_map_pxl_y = camera_max_y_position;
13910                        		__ld.wm		_camera_max_y_position
         01:D5BC  AD 05 25   			lda.l	_camera_max_y_position
         01:D5BF  AC 06 25   			ldy.h	_camera_max_y_position
13911                        		__st.wmq	_sgx_map_pxl_y
         01:D5C2  8D E6 26   			sta.l	_sgx_map_pxl_y
         01:D5C5  8C E7 26   			sty.h	_sgx_map_pxl_y
13912                        	
13913                        		.dbg	line,	"include\routines_LEVELS.c", 2729; }
13914                        	
13915                        		.dbg	line,	"include\routines_LEVELS.c", 2731; // THE PLAYER STAYS AT ITS BASE Y POSITION //
13916                        	
13917                        		.dbg	line,	"include\routines_LEVELS.c", 2732; player_pos_y = PLAYER_BASE_Y_POS;
13918    01:D5C8             	.LL677:
13919                        		__st.wmiq	128, _player_pos_y
         01:D5C8  A9 80      			lda.l	#128
         01:D5CA  8D 03 25   			sta.l	_player_pos_y
         01:D5CD  9C 04 25   			stz.h	_player_pos_y
13920                        	
13921                        		.dbg	line,	"include\routines_LEVELS.c", 2733; }
13922                        	
13923                        		.dbg	line,	"include\routines_LEVELS.c", 2736; // UPDATE JUMP INDEX IN THE ARRAY //
13924                        	
13925                        		.dbg	line,	"include\routines_LEVELS.c", 2737; // ARRAY MAX ENTRY : 20//
13926                        	
13927                        		.dbg	line,	"include\routines_LEVELS.c", 2738; if(player_index_fall < 20)
13928    01:D5D0             	.LL676:
13929                        		__ld.umq	_player_index_fall
         01:D5D0  AD 20 23   			lda	_player_index_fall
13930                        		__ult_b.uiq	20
         01:D5D3  C9 14      			cmp	#20		; Subtract integer from A.
         01:D5D5  6A         			ror	a		; CC if A < integer.
         01:D5D6  49 80      			eor	#$80
         01:D5D8  2A         			rol	a
13931                        		__bfalse	.LL678
         01:D5D9  90 03      			bcc	.LL678
13932                        	
13933                        		.dbg	line,	"include\routines_LEVELS.c", 2739; {
13934                        	
13935                        		.dbg	line,	"include\routines_LEVELS.c", 2740; player_index_fall += 1;
13936                        		__add_st.umiq	1, _player_index_fall
         01:D5DB  EE 20 23   			inc	_player_index_fall
13937                        	
13938                        		.dbg	line,	"include\routines_LEVELS.c", 2741; }
13939                        	
13940                        		.dbg	line,	"include\routines_LEVELS.c", 2744; check_TILE_DEPTH( 15 , 0);
13941    01:D5DE             	.LL678:
13942                        		__ld.wi		15
         01:D5DE  A9 0F      			lda.l	#15
         01:D5E0  C2         			cly
13943                        		__pusharg.wr
         01:D5E1  A6 8D      			ldx	<__sp
         01:D5E3  CA         			dex
         01:D5E4  CA         			dex
         01:D5E5  95 08      			sta.l	<__stack, x
         01:D5E7  94 09      			sty.h	<__stack, x
         01:D5E9  86 8D      			stx	<__sp
13944                        		__ld.wi		0
         01:D5EB  62         			cla
         01:D5EC  C2         			cly
13945                        		__pusharg.wr
         01:D5ED  A6 8D      			ldx	<__sp
         01:D5EF  CA         			dex
         01:D5F0  CA         			dex
         01:D5F1  95 08      			sta.l	<__stack, x
         01:D5F3  94 09      			sty.h	<__stack, x
         01:D5F5  86 8D      			stx	<__sp
13946                        		__call		_check_TILE_DEPTH
         01:D5F7  20 13 FF   			call	_check_TILE_DEPTH
13947                        	
13948                        		.dbg	line,	"include\routines_LEVELS.c", 2749; //--------------------------------------------------------------------------------------//
13949                        	
13950                        		.dbg	line,	"include\routines_LEVELS.c", 2750; //                                   FLOOR COLLISION                                    //
13951                        	
13952                        		.dbg	line,	"include\routines_LEVELS.c", 2751; //--------------------------------------------------------------------------------------//
13953                        	
13954                        		.dbg	line,	"include\routines_LEVELS.c", 2753; if(map_blk_flag == TILE_BG)
13955                        		__ld.umq	_map_blk_flag
         01:D5FA  AD 05 2C   			lda	_map_blk_flag
13956                        		__equ_b.uiq	1
         01:D5FD  C9 01      			cmp	#1
         01:D5FF  F0 01      			beq	!+
         01:D601  18         			clc
         01:D602             	!:
13957                        		__bfalse	.LL679
         01:D602  B0 03 4C 16			bcc	.LL679
         01:D606  D7          
13958                        	
13959                        		.dbg	line,	"include\routines_LEVELS.c", 2754; {
13960                        	
13961                        		.dbg	line,	"include\routines_LEVELS.c", 2755; // CALCULATE HOW MANY PIXELS THE PLAYER MOVED INTO THE GROUND //
13962                        	
13963                        		.dbg	line,	"include\routines_LEVELS.c", 2756; for(i=1; i<11 ; i++ )
13964                        		__st.umiq	1, __update_PLAYER_end - 6  /* i */
         01:D607  A9 01      			lda.l	#1
         01:D609  8D 07 23   			sta	__update_PLAYER_end - 6
13965    01:D60C             	.LL680:
13966                        		__ld.umq	__update_PLAYER_end - 6  /* i */
         01:D60C  AD 07 23   			lda	__update_PLAYER_end - 6
13967                        		__ult_b.uiq	11
         01:D60F  C9 0B      			cmp	#11		; Subtract integer from A.
         01:D611  6A         			ror	a		; CC if A < integer.
         01:D612  49 80      			eor	#$80
         01:D614  2A         			rol	a
13968                        		__btrue		.LL682
         01:D615  B0 07      			bcs	.LL682
13969                        		__bra		.LL683
         01:D617  80 7D      			bra	.LL683
13970    01:D619             	.LL681:
13971                        		__inc.umq	__update_PLAYER_end - 6  /* i */
         01:D619  EE 07 23   			inc	__update_PLAYER_end - 6
13972                        		__bra		.LL680
         01:D61C  80 EE      			bra	.LL680
13973    01:D61E             	.LL682:
13974                        	
13975                        		.dbg	line,	"include\routines_LEVELS.c", 2757; {
13976                        	
13977                        		.dbg	line,	"include\routines_LEVELS.c", 2758; check_TILE_DEPTH( 15 , i);//20
13978                        		__ld.wi		15
         01:D61E  A9 0F      			lda.l	#15
         01:D620  C2         			cly
13979                        		__pusharg.wr
         01:D621  A6 8D      			ldx	<__sp
         01:D623  CA         			dex
         01:D624  CA         			dex
         01:D625  95 08      			sta.l	<__stack, x
         01:D627  94 09      			sty.h	<__stack, x
         01:D629  86 8D      			stx	<__sp
13980                        		__ld.um		__update_PLAYER_end - 6  /* i */
         01:D62B  AD 07 23   			lda	__update_PLAYER_end - 6
         01:D62E  C2         			cly
13981                        		__pusharg.wr
         01:D62F  A6 8D      			ldx	<__sp
         01:D631  CA         			dex
         01:D632  CA         			dex
         01:D633  95 08      			sta.l	<__stack, x
         01:D635  94 09      			sty.h	<__stack, x
         01:D637  86 8D      			stx	<__sp
13982                        		__call		_check_TILE_DEPTH
         01:D639  20 13 FF   			call	_check_TILE_DEPTH
13983                        	
13984                        		.dbg	line,	"include\routines_LEVELS.c", 2761; if(map_blk_flag == TILE_EMPTY)
13985                        		__not.um	_map_blk_flag
         01:D63C  AD 05 2C   			lda	_map_blk_flag
         01:D63F  18         			clc
         01:D640  D0 01      			bne	!+
         01:D642  38         			sec
         01:D643             	!:
13986                        		__bfalse	.LL684
         01:D643  90 D4      			bcc	.LL684
13987                        	
13988                        		.dbg	line,	"include\routines_LEVELS.c", 2762; {
13989                        	
13990                        		.dbg	line,	"include\routines_LEVELS.c", 2763; if(player_pos_y != PLAYER_BASE_Y_POS)
13991                        		__ld.wm		_player_pos_y
         01:D645  AD 03 25   			lda.l	_player_pos_y
         01:D648  AC 04 25   			ldy.h	_player_pos_y
13992                        		__neq_w.wi	128
         01:D64B  38         			sec
         01:D64C  49 80      			eor.l	#128
         01:D64E  D0 06      			bne	!+
         01:D650  98         			tya
         01:D651  49 00      			eor.h	#128
         01:D653  D0 01      			bne	!+
         01:D655  18         			clc
         01:D656             	!:
13993                        		__bfalse	.LL685
         01:D656  90 1E      			bcc	.LL685
13994                        	
13995                        		.dbg	line,	"include\routines_LEVELS.c", 2764; {
13996                        	
13997                        		.dbg	line,	"include\routines_LEVELS.c", 2765; player_pos_y -= (i - 1);
13998                        		__ld.um		__update_PLAYER_end - 6  /* i */
         01:D658  AD 07 23   			lda	__update_PLAYER_end - 6
         01:D65B  C2         			cly
13999                        		__sub.wi	1
         01:D65C  38         			sec
         01:D65D  E9 01      			sbc.l	#1
         01:D65F  B0 01      			bcs	!+
         01:D661  88         			dey
         01:D662             	!:
14000                        		__isub_st.wmq	_player_pos_y
         01:D662  38         			sec
         01:D663  49 FF      			eor	#$FF
         01:D665  6D 03 25   			adc.l	_player_pos_y
         01:D668  8D 03 25   			sta.l	_player_pos_y
         01:D66B  98         			tya
         01:D66C  49 FF      			eor	#$FF
         01:D66E  6D 04 25   			adc.h	_player_pos_y
         01:D671  8D 04 25   			sta.h	_player_pos_y
14001                        	
14002                        		.dbg	line,	"include\routines_LEVELS.c", 2766; }
14003                        	
14004                        		.dbg	line,	"include\routines_LEVELS.c", 2768; else
14005                        		__bra		.LL686
         01:D674  80 20      			bra	.LL686
14006    01:D676             	.LL685:
14007                        	
14008                        		.dbg	line,	"include\routines_LEVELS.c", 2769; {
14009                        	
14010                        		.dbg	line,	"include\routines_LEVELS.c", 2770; sgx_map_pxl_y -= (i - 1);
14011                        		__ld.um		__update_PLAYER_end - 6  /* i */
         01:D676  AD 07 23   			lda	__update_PLAYER_end - 6
         01:D679  C2         			cly
14012                        		__sub.wi	1
         01:D67A  38         			sec
         01:D67B  E9 01      			sbc.l	#1
         01:D67D  B0 01      			bcs	!+
         01:D67F  88         			dey
         01:D680             	!:
14013                        		__isub_st.wmq	_sgx_map_pxl_y
         01:D680  38         			sec
         01:D681  49 FF      			eor	#$FF
         01:D683  6D E6 26   			adc.l	_sgx_map_pxl_y
         01:D686  8D E6 26   			sta.l	_sgx_map_pxl_y
         01:D689  98         			tya
         01:D68A  49 FF      			eor	#$FF
         01:D68C  6D E7 26   			adc.h	_sgx_map_pxl_y
         01:D68F  8D E7 26   			sta.h	_sgx_map_pxl_y
14014                        	
14015                        		.dbg	line,	"include\routines_LEVELS.c", 2771; }
14016    01:D692             	.LL686	.alias		.LL683
14017                        	
14018                        		.dbg	line,	"include\routines_LEVELS.c", 2774; break;
14019                        		__bra		.LL683
         01:D692  80 02      			bra	.LL683
14020                        	
14021                        		.dbg	line,	"include\routines_LEVELS.c", 2775; }
14022                        	
14023                        		.dbg	line,	"include\routines_LEVELS.c", 2777; }
14024    01:D694             	.LL684	.alias		.LL681
14025                        		__bra		.LL681
         01:D694  80 83      			bra	.LL681
14026    01:D696             	.LL683:
14027                        	
14028                        		.dbg	line,	"include\routines_LEVELS.c", 2780; // SET PLAYER SPRITE NEW POSITION //
14029                        	
14030                        		.dbg	line,	"include\routines_LEVELS.c", 2781; spr_set(player_id);
14031                        		__ld.umq	_player_id
         01:D696  AD 1A 23   			lda	_player_id
14032                        		__call		_spr_set.1
         01:D699  20 F1 E7   			call	_spr_set.1
14033                        	
14034                        		.dbg	line,	"include\routines_LEVELS.c", 2782; spr_y(player_pos_y);
14035                        		__ld.wm		_player_pos_y
         01:D69C  AD 03 25   			lda.l	_player_pos_y
         01:D69F  AC 04 25   			ldy.h	_player_pos_y
14036                        		__call		_spr_y.1
         01:D6A2  20 2D E8   			call	_spr_y.1
14037                        	
14038                        		.dbg	line,	"include\routines_LEVELS.c", 2784; 
14039                        	
14040                        		.dbg	line,	"include\routines_LEVELS.c", 2785; if(player_attack == FALSE)
14041                        		__not.um	_player_attack
         01:D6A5  AD 23 23   			lda	_player_attack
         01:D6A8  18         			clc
         01:D6A9  D0 01      			bne	!+
         01:D6AB  38         			sec
         01:D6AC             	!:
14042                        		__bfalse	.LL687
         01:D6AC  90 5D      			bcc	.LL687
14043                        	
14044                        		.dbg	line,	"include\routines_LEVELS.c", 2786; {
14045                        	
14046                        		.dbg	line,	"include\routines_LEVELS.c", 2787; // BY DEFAULT, WE ASSUME THE PLAYER WAS WALKING //
14047                        	
14048                        		.dbg	line,	"include\routines_LEVELS.c", 2788; player_state = STATE_WALK;
14049                        		__st.umiq	1, _player_state
         01:D6AE  A9 01      			lda.l	#1
         01:D6B0  8D 1B 23   			sta	_player_state
14050                        	
14051                        		.dbg	line,	"include\routines_LEVELS.c", 2789; 
14052                        	
14053                        		.dbg	line,	"include\routines_LEVELS.c", 2790; if(fall_ladder == TRUE || hit_wall == TRUE)
14054                        		__ld.umq	_fall_ladder
         01:D6B3  AD 26 23   			lda	_fall_ladder
14055                        		__equ_b.uiq	1
         01:D6B6  C9 01      			cmp	#1
         01:D6B8  F0 01      			beq	!+
         01:D6BA  18         			clc
         01:D6BB             	!:
14056                        		__btrue		.LL689
         01:D6BB  B0 08      			bcs	.LL689
14057                        		__ld.umq	_hit_wall
         01:D6BD  AD 27 23   			lda	_hit_wall
14058                        		__equ_b.uiq	1
         01:D6C0  C9 01      			cmp	#1
         01:D6C2  F0 01      			beq	!+
         01:D6C4  18         			clc
         01:D6C5             	!:
14059    01:D6C5             	.LL689:
14060                        		__bfalse	.LL688
         01:D6C5  90 32      			bcc	.LL688
14061                        	
14062                        		.dbg	line,	"include\routines_LEVELS.c", 2791; {
14063                        	
14064                        		.dbg	line,	"include\routines_LEVELS.c", 2792; spr_pattern(PLAYER_IDLE_VRAM_ADR);
14065                        		__ld.wi		6144
         01:D6C7  62         			cla
         01:D6C8  A0 18      			ldy.h	#6144
14066                        		__call		_spr_pattern.1
         01:D6CA  20 3A E8   			call	_spr_pattern.1
14067                        	
14068                        		.dbg	line,	"include\routines_LEVELS.c", 2793; 
14069                        	
14070                        		.dbg	line,	"include\routines_LEVELS.c", 2794; spr_set(weapon_id);
14071                        		__ld.umq	_weapon_id
         01:D6CD  AD 29 23   			lda	_weapon_id
14072                        		__call		_spr_set.1
         01:D6D0  20 F1 E7   			call	_spr_set.1
14073                        	
14074                        		.dbg	line,	"include\routines_LEVELS.c", 2795; spr_x(player_pos_x+8);
14075                        		__ld.wm		_player_pos_x
         01:D6D3  AD 01 25   			lda.l	_player_pos_x
         01:D6D6  AC 02 25   			ldy.h	_player_pos_x
14076                        		__add.wi	8
         01:D6D9  18         			clc
         01:D6DA  69 08      			adc.l	#8
         01:D6DC  90 01      			bcc	!+
         01:D6DE  C8         			iny
         01:D6DF             	!:
14077                        		__call		_spr_x.1
         01:D6DF  20 1E E8   			call	_spr_x.1
14078                        	
14079                        		.dbg	line,	"include\routines_LEVELS.c", 2796; spr_y(player_pos_y+16);
14080                        		__ld.wm		_player_pos_y
         01:D6E2  AD 03 25   			lda.l	_player_pos_y
         01:D6E5  AC 04 25   			ldy.h	_player_pos_y
14081                        		__add.wi	16
         01:D6E8  18         			clc
         01:D6E9  69 10      			adc.l	#16
         01:D6EB  90 01      			bcc	!+
         01:D6ED  C8         			iny
         01:D6EE             	!:
14082                        		__call		_spr_y.1
         01:D6EE  20 2D E8   			call	_spr_y.1
14083                        	
14084                        		.dbg	line,	"include\routines_LEVELS.c", 2798; player_counter_anim = 1;
14085                        		__st.umiq	1, _player_counter_anim
         01:D6F1  A9 01      			lda.l	#1
         01:D6F3  8D 1E 23   			sta	_player_counter_anim
14086                        	
14087                        		.dbg	line,	"include\routines_LEVELS.c", 2800; player_state = STATE_IDLE;
14088                        		__st.umiq	0, _player_state
         01:D6F6  9C 1B 23   			stz	_player_state
14089                        	
14090                        		.dbg	line,	"include\routines_LEVELS.c", 2801; }
14091                        	
14092                        		.dbg	line,	"include\routines_LEVELS.c", 2803; player_index_jump = 0;
14093    01:D6F9             	.LL688:
14094                        		__st.umiq	0, _player_index_jump
         01:D6F9  9C 1F 23   			stz	_player_index_jump
14095                        	
14096                        		.dbg	line,	"include\routines_LEVELS.c", 2804; player_index_fall = 0;
14097                        		__st.umiq	0, _player_index_fall
         01:D6FC  9C 20 23   			stz	_player_index_fall
14098                        	
14099                        		.dbg	line,	"include\routines_LEVELS.c", 2805; jump_ladder = FALSE;
14100                        		__st.umiq	0, _jump_ladder
         01:D6FF  9C 24 23   			stz	_jump_ladder
14101                        	
14102                        		.dbg	line,	"include\routines_LEVELS.c", 2806; fall_ladder = FALSE;
14103                        		__st.umiq	0, _fall_ladder
         01:D702  9C 26 23   			stz	_fall_ladder
14104                        	
14105                        		.dbg	line,	"include\routines_LEVELS.c", 2807; hit_wall = FALSE;
14106                        		__st.umiq	0, _hit_wall
         01:D705  9C 27 23   			stz	_hit_wall
14107                        	
14108                        		.dbg	line,	"include\routines_LEVELS.c", 2808; }
14109                        	
14110                        		.dbg	line,	"include\routines_LEVELS.c", 2810; else
14111                        		__bra		.LL690
         01:D708  4C 14 DC   			bra	.LL690
14112    01:D70B             	.LL687:
14113                        	
14114                        		.dbg	line,	"include\routines_LEVELS.c", 2811; {
14115                        	
14116                        		.dbg	line,	"include\routines_LEVELS.c", 2812; player_index_jump = 0;
14117                        		__st.umiq	0, _player_index_jump
         01:D70B  9C 1F 23   			stz	_player_index_jump
14118                        	
14119                        		.dbg	line,	"include\routines_LEVELS.c", 2813; player_state = STATE_ATTACK;
14120                        		__st.umiq	2, _player_state
         01:D70E  A9 02      			lda.l	#2
         01:D710  8D 1B 23   			sta	_player_state
14121                        	
14122                        		.dbg	line,	"include\routines_LEVELS.c", 2814; }
14123    01:D713             	.LL690	.alias		.LL507
14124                        	
14125                        		.dbg	line,	"include\routines_LEVELS.c", 2816; return;
14126                        		__bra		.LL507
         01:D713  4C 14 DC   			bra	.LL507
14127                        	
14128                        		.dbg	line,	"include\routines_LEVELS.c", 2817; }
14129                        	
14130                        		.dbg	line,	"include\routines_LEVELS.c", 2822; //--------------------------------------------------------------------------------------//
14131                        	
14132                        		.dbg	line,	"include\routines_LEVELS.c", 2823; //                                   LADDER COLLISION                                   //
14133                        	
14134                        		.dbg	line,	"include\routines_LEVELS.c", 2824; //--------------------------------------------------------------------------------------//
14135                        	
14136                        		.dbg	line,	"include\routines_LEVELS.c", 2826; collision_PLAYER_BG( 16 , 16 );
14137    01:D716             	.LL679:
14138                        		__ld.wi		16
         01:D716  A9 10      			lda.l	#16
         01:D718  C2         			cly
14139                        		__pusharg.wr
         01:D719  A6 8D      			ldx	<__sp
         01:D71B  CA         			dex
         01:D71C  CA         			dex
         01:D71D  95 08      			sta.l	<__stack, x
         01:D71F  94 09      			sty.h	<__stack, x
         01:D721  86 8D      			stx	<__sp
14140                        		__ld.wi		16
         01:D723  A9 10      			lda.l	#16
         01:D725  C2         			cly
14141                        		__pusharg.wr
         01:D726  A6 8D      			ldx	<__sp
         01:D728  CA         			dex
         01:D729  CA         			dex
         01:D72A  95 08      			sta.l	<__stack, x
         01:D72C  94 09      			sty.h	<__stack, x
         01:D72E  86 8D      			stx	<__sp
14142                        		__call		_collision_PLAYER_BG
         01:D730  20 31 FF   			call	_collision_PLAYER_BG
14143                        	
14144                        		.dbg	line,	"include\routines_LEVELS.c", 2828; // IF PLAYER HITS THE LADDER //
14145                        	
14146                        		.dbg	line,	"include\routines_LEVELS.c", 2829; if(map_blk_flag == TILE_LADDER)
14147                        		__ld.umq	_map_blk_flag
         01:D733  AD 05 2C   			lda	_map_blk_flag
14148                        		__equ_b.uiq	2
         01:D736  C9 02      			cmp	#2
         01:D738  F0 01      			beq	!+
         01:D73A  18         			clc
         01:D73B             	!:
14149                        		__bfalse	.LL691
         01:D73B  B0 03 4C E8			bcc	.LL691
         01:D73F  D7          
14150                        	
14151                        		.dbg	line,	"include\routines_LEVELS.c", 2830; {
14152                        	
14153                        		.dbg	line,	"include\routines_LEVELS.c", 2831; // CAMERA GOES 8 PX BACKWARD //
14154                        	
14155                        		.dbg	line,	"include\routines_LEVELS.c", 2832; sgx_map_pxl_x = ( (sgx_map_pxl_x >> 3) << 3 );
14156                        		__ld.wm		_sgx_map_pxl_x
         01:D740  AD E4 26   			lda.l	_sgx_map_pxl_x
         01:D743  AC E5 26   			ldy.h	_sgx_map_pxl_x
14157                        		__lsr.wi	3
         01:D746  84 00      			sty	__temp
         01:D748  20 3A E2   			jsr	lsrw3
14158                        		__asl.wi	3
         01:D74B  84 00      			sty	__temp
         01:D74D  20 D7 E1   			jsr	aslw3
14159                        		__st.wmq	_sgx_map_pxl_x
         01:D750  8D E4 26   			sta.l	_sgx_map_pxl_x
         01:D753  8C E5 26   			sty.h	_sgx_map_pxl_x
14160                        	
14161                        		.dbg	line,	"include\routines_LEVELS.c", 2834; // SO WE UPDATE THE MAP //
14162                        	
14163                        		.dbg	line,	"include\routines_LEVELS.c", 2835; sgx_scroll_map();
14164                        		__call		_sgx_scroll_map
         01:D756  20 63 FF   			call	_sgx_scroll_map
14165                        	
14166                        		.dbg	line,	"include\routines_LEVELS.c", 2837; // CHECK IF THE PLAYER STANDS RIGHT TO THE LADDER //
14167                        	
14168                        		.dbg	line,	"include\routines_LEVELS.c", 2838; collision_PLAYER_BG( 31 , 16 );
14169                        		__ld.wi		31
         01:D759  A9 1F      			lda.l	#31
         01:D75B  C2         			cly
14170                        		__pusharg.wr
         01:D75C  A6 8D      			ldx	<__sp
         01:D75E  CA         			dex
         01:D75F  CA         			dex
         01:D760  95 08      			sta.l	<__stack, x
         01:D762  94 09      			sty.h	<__stack, x
         01:D764  86 8D      			stx	<__sp
14171                        		__ld.wi		16
         01:D766  A9 10      			lda.l	#16
         01:D768  C2         			cly
14172                        		__pusharg.wr
         01:D769  A6 8D      			ldx	<__sp
         01:D76B  CA         			dex
         01:D76C  CA         			dex
         01:D76D  95 08      			sta.l	<__stack, x
         01:D76F  94 09      			sty.h	<__stack, x
         01:D771  86 8D      			stx	<__sp
14173                        		__call		_collision_PLAYER_BG
         01:D773  20 31 FF   			call	_collision_PLAYER_BG
14174                        	
14175                        		.dbg	line,	"include\routines_LEVELS.c", 2840; if(map_blk_flag == TILE_LADDER)
14176                        		__ld.umq	_map_blk_flag
         01:D776  AD 05 2C   			lda	_map_blk_flag
14177                        		__equ_b.uiq	2
         01:D779  C9 02      			cmp	#2
         01:D77B  F0 01      			beq	!+
         01:D77D  18         			clc
         01:D77E             	!:
14178                        		__bfalse	.LL692
         01:D77E  90 0E      			bcc	.LL692
14179                        	
14180                        		.dbg	line,	"include\routines_LEVELS.c", 2841; {
14181                        	
14182                        		.dbg	line,	"include\routines_LEVELS.c", 2842; sgx_map_pxl_x += 8;
14183                        		__add_st.wmiq	8, _sgx_map_pxl_x
         01:D780  18         			clc
         01:D781  AD E4 26   			lda.l	_sgx_map_pxl_x
         01:D784  69 08      			adc.l	#8
         01:D786  8D E4 26   			sta.l	_sgx_map_pxl_x
         01:D789  90 03      			bcc	!+
         01:D78B  EE E5 26   			inc.h	_sgx_map_pxl_x
         01:D78E             	!:
14184                        	
14185                        		.dbg	line,	"include\routines_LEVELS.c", 2843; }
14186                        	
14187                        		.dbg	line,	"include\routines_LEVELS.c", 2845; spr_set(player_id);
14188    01:D78E             	.LL692:
14189                        		__ld.umq	_player_id
         01:D78E  AD 1A 23   			lda	_player_id
14190                        		__call		_spr_set.1
         01:D791  20 F1 E7   			call	_spr_set.1
14191                        	
14192                        		.dbg	line,	"include\routines_LEVELS.c", 2846; spr_pattern(PLAYER_HANG_VRAM_ADR);
14193                        		__ld.wi		8448
         01:D794  62         			cla
         01:D795  A0 21      			ldy.h	#8448
14194                        		__call		_spr_pattern.1
         01:D797  20 3A E8   			call	_spr_pattern.1
14195                        	
14196                        		.dbg	line,	"include\routines_LEVELS.c", 2848; spr_set(chain_id);
14197                        		__ld.umq	_chain_id
         01:D79A  AD 28 23   			lda	_chain_id
14198                        		__call		_spr_set.1
         01:D79D  20 F1 E7   			call	_spr_set.1
14199                        	
14200                        		.dbg	line,	"include\routines_LEVELS.c", 2849; spr_hide();
14201                        		__call		_spr_hide
         01:D7A0  20 0C E8   			call	_spr_hide
14202                        	
14203                        		.dbg	line,	"include\routines_LEVELS.c", 2851; spr_set(chain_id+1);
14204                        		__ld.um		_chain_id
         01:D7A3  AD 28 23   			lda	_chain_id
         01:D7A6  C2         			cly
14205                        		__add.wi	1
         01:D7A7  1A         			inc	a
         01:D7A8  D0 01      			bne	!+
         01:D7AA  C8         			iny
         01:D7AB             	!:
14206                        		__call		_spr_set.1
         01:D7AB  20 F1 E7   			call	_spr_set.1
14207                        	
14208                        		.dbg	line,	"include\routines_LEVELS.c", 2852; spr_hide();
14209                        		__call		_spr_hide
         01:D7AE  20 0C E8   			call	_spr_hide
14210                        	
14211                        		.dbg	line,	"include\routines_LEVELS.c", 2854; spr_set(chain_id+2);
14212                        		__ld.um		_chain_id
         01:D7B1  AD 28 23   			lda	_chain_id
         01:D7B4  C2         			cly
14213                        		__add.wi	2
         01:D7B5  18         			clc
         01:D7B6  69 02      			adc.l	#2
         01:D7B8  90 01      			bcc	!+
         01:D7BA  C8         			iny
         01:D7BB             	!:
14214                        		__call		_spr_set.1
         01:D7BB  20 F1 E7   			call	_spr_set.1
14215                        	
14216                        		.dbg	line,	"include\routines_LEVELS.c", 2855; spr_hide();
14217                        		__call		_spr_hide
         01:D7BE  20 0C E8   			call	_spr_hide
14218                        	
14219                        		.dbg	line,	"include\routines_LEVELS.c", 2857; list_chain_active[0] = FALSE;
14220                        		__st.umiq	0, _list_chain_active
         01:D7C1  9C 2C 23   			stz	_list_chain_active
14221                        	
14222                        		.dbg	line,	"include\routines_LEVELS.c", 2858; list_chain_active[1] = FALSE;
14223                        		__st.umiq	0, _list_chain_active + 1
         01:D7C4  9C 2D 23   			stz	_list_chain_active + 1
14224                        	
14225                        		.dbg	line,	"include\routines_LEVELS.c", 2859; list_chain_active[2] = FALSE;
14226                        		__st.umiq	0, _list_chain_active + 2
         01:D7C7  9C 2E 23   			stz	_list_chain_active + 2
14227                        	
14228                        		.dbg	line,	"include\routines_LEVELS.c", 2861; player_attack = FALSE;
14229                        		__st.umiq	0, _player_attack
         01:D7CA  9C 23 23   			stz	_player_attack
14230                        	
14231                        		.dbg	line,	"include\routines_LEVELS.c", 2862; //player_counter_attack = 0;
14232                        	
14233                        		.dbg	line,	"include\routines_LEVELS.c", 2864; player_counter_anim = 0;//1
14234                        		__st.umiq	0, _player_counter_anim
         01:D7CD  9C 1E 23   			stz	_player_counter_anim
14235                        	
14236                        		.dbg	line,	"include\routines_LEVELS.c", 2865; player_index_jump = 0;
14237                        		__st.umiq	0, _player_index_jump
         01:D7D0  9C 1F 23   			stz	_player_index_jump
14238                        	
14239                        		.dbg	line,	"include\routines_LEVELS.c", 2866; player_index_fall = 0;
14240                        		__st.umiq	0, _player_index_fall
         01:D7D3  9C 20 23   			stz	_player_index_fall
14241                        	
14242                        		.dbg	line,	"include\routines_LEVELS.c", 2867; jump_ladder = TRUE;
14243                        		__st.umiq	1, _jump_ladder
         01:D7D6  A9 01      			lda.l	#1
         01:D7D8  8D 24 23   			sta	_jump_ladder
14244                        	
14245                        		.dbg	line,	"include\routines_LEVELS.c", 2868; jump_max_index = 29;
14246                        		__st.umiq	29, _jump_max_index
         01:D7DB  A9 1D      			lda.l	#29
         01:D7DD  8D 25 23   			sta	_jump_max_index
14247                        	
14248                        		.dbg	line,	"include\routines_LEVELS.c", 2869; player_state = STATE_HANG;
14249                        		__st.umiq	10, _player_state
         01:D7E0  A9 0A      			lda.l	#10
         01:D7E2  8D 1B 23   			sta	_player_state
14250                        	
14251                        		.dbg	line,	"include\routines_LEVELS.c", 2871; return;
14252                        		__bra		.LL507
         01:D7E5  4C 14 DC   			bra	.LL507
14253                        	
14254                        		.dbg	line,	"include\routines_LEVELS.c", 2872; }
14255                        	
14256                        		.dbg	line,	"include\routines_LEVELS.c", 2874; spr_set(player_id);
14257    01:D7E8             	.LL691:
14258                        		__ld.umq	_player_id
         01:D7E8  AD 1A 23   			lda	_player_id
14259                        		__call		_spr_set.1
         01:D7EB  20 F1 E7   			call	_spr_set.1
14260                        	
14261                        		.dbg	line,	"include\routines_LEVELS.c", 2875; spr_y(player_pos_y);
14262                        		__ld.wm		_player_pos_y
         01:D7EE  AD 03 25   			lda.l	_player_pos_y
         01:D7F1  AC 04 25   			ldy.h	_player_pos_y
14263                        		__call		_spr_y.1
         01:D7F4  20 2D E8   			call	_spr_y.1
14264                        	
14265                        		.dbg	line,	"include\routines_LEVELS.c", 2877; if(fall_ladder == TRUE)
14266                        		__ld.umq	_fall_ladder
         01:D7F7  AD 26 23   			lda	_fall_ladder
14267                        		__equ_b.uiq	1
         01:D7FA  C9 01      			cmp	#1
         01:D7FC  F0 01      			beq	!+
         01:D7FE  18         			clc
         01:D7FF             	!:
14268                        		__bfalse	.LL693
         01:D7FF  B0 03 4C 14			bcc	.LL693
         01:D803  DC          
14269                        	
14270                        		.dbg	line,	"include\routines_LEVELS.c", 2878; {
14271                        	
14272                        		.dbg	line,	"include\routines_LEVELS.c", 2879; spr_set(weapon_id);
14273                        		__ld.umq	_weapon_id
         01:D804  AD 29 23   			lda	_weapon_id
14274                        		__call		_spr_set.1
         01:D807  20 F1 E7   			call	_spr_set.1
14275                        	
14276                        		.dbg	line,	"include\routines_LEVELS.c", 2880; spr_y(player_pos_y+8);
14277                        		__ld.wm		_player_pos_y
         01:D80A  AD 03 25   			lda.l	_player_pos_y
         01:D80D  AC 04 25   			ldy.h	_player_pos_y
14278                        		__add.wi	8
         01:D810  18         			clc
         01:D811  69 08      			adc.l	#8
         01:D813  90 01      			bcc	!+
         01:D815  C8         			iny
         01:D816             	!:
14279                        		__call		_spr_y.1
         01:D816  20 2D E8   			call	_spr_y.1
14280                        	
14281                        		.dbg	line,	"include\routines_LEVELS.c", 2881; }
14282                        	
14283                        		.dbg	line,	"include\routines_LEVELS.c", 2882; }
14284    01:D819             	.LL693	.alias		.LL694
14285                        	
14286                        		.dbg	line,	"include\routines_LEVELS.c", 2885; else if(player_state == STATE_HANG)
14287                        		__bra		.LL694
         01:D819  4C 14 DC   			bra	.LL694
14288    01:D81C             	.LL675:
14289                        		__ld.umq	_player_state
         01:D81C  AD 1B 23   			lda	_player_state
14290                        		__equ_b.uiq	10
         01:D81F  C9 0A      			cmp	#10
         01:D821  F0 01      			beq	!+
         01:D823  18         			clc
         01:D824             	!:
14291                        		__bfalse	.LL695
         01:D824  90 5A      			bcc	.LL695
14292                        	
14293                        		.dbg	line,	"include\routines_LEVELS.c", 2886; {
14294                        	
14295                        		.dbg	line,	"include\routines_LEVELS.c", 2887; recenter_CAMERA();
14296                        		__call		_recenter_CAMERA
         01:D826  20 1D FF   			call	_recenter_CAMERA
14297                        	
14298                        		.dbg	line,	"include\routines_LEVELS.c", 2889; if(player_attack == FALSE)
14299                        		__not.um	_player_attack
         01:D829  AD 23 23   			lda	_player_attack
         01:D82C  18         			clc
         01:D82D  D0 01      			bne	!+
         01:D82F  38         			sec
         01:D830             	!:
14300                        		__bfalse	.LL696
         01:D830  B0 03 4C 14			bcc	.LL696
         01:D834  DC          
14301                        	
14302                        		.dbg	line,	"include\routines_LEVELS.c", 2890; {
14303                        	
14304                        		.dbg	line,	"include\routines_LEVELS.c", 2891; spr_set(weapon_id);
14305                        		__ld.umq	_weapon_id
         01:D835  AD 29 23   			lda	_weapon_id
14306                        		__call		_spr_set.1
         01:D838  20 F1 E7   			call	_spr_set.1
14307                        	
14308                        		.dbg	line,	"include\routines_LEVELS.c", 2892; spr_pattern(WEAPON_IDLE_VRAM_ADRESS);
14309                        		__ld.wi		31808
         01:D83B  A9 40      			lda.l	#31808
         01:D83D  A0 7C      			ldy.h	#31808
14310                        		__call		_spr_pattern.1
         01:D83F  20 3A E8   			call	_spr_pattern.1
14311                        	
14312                        		.dbg	line,	"include\routines_LEVELS.c", 2893; spr_y(player_pos_y+5);
14313                        		__ld.wm		_player_pos_y
         01:D842  AD 03 25   			lda.l	_player_pos_y
         01:D845  AC 04 25   			ldy.h	_player_pos_y
14314                        		__add.wi	5
         01:D848  18         			clc
         01:D849  69 05      			adc.l	#5
         01:D84B  90 01      			bcc	!+
         01:D84D  C8         			iny
         01:D84E             	!:
14315                        		__call		_spr_y.1
         01:D84E  20 2D E8   			call	_spr_y.1
14316                        	
14317                        		.dbg	line,	"include\routines_LEVELS.c", 2895; if(player_axis == AXIS_RIGHT)
14318                        		__not.um	_player_axis
         01:D851  AD 1C 23   			lda	_player_axis
         01:D854  18         			clc
         01:D855  D0 01      			bne	!+
         01:D857  38         			sec
         01:D858             	!:
14319                        		__bfalse	.LL697
         01:D858  90 11      			bcc	.LL697
14320                        	
14321                        		.dbg	line,	"include\routines_LEVELS.c", 2896; {
14322                        	
14323                        		.dbg	line,	"include\routines_LEVELS.c", 2897; spr_x(player_pos_x+17);
14324                        		__ld.wm		_player_pos_x
         01:D85A  AD 01 25   			lda.l	_player_pos_x
         01:D85D  AC 02 25   			ldy.h	_player_pos_x
14325                        		__add.wi	17
         01:D860  18         			clc
         01:D861  69 11      			adc.l	#17
         01:D863  90 01      			bcc	!+
         01:D865  C8         			iny
         01:D866             	!:
14326                        		__call		_spr_x.1
         01:D866  20 1E E8   			call	_spr_x.1
14327                        	
14328                        		.dbg	line,	"include\routines_LEVELS.c", 2898; }
14329                        	
14330                        		.dbg	line,	"include\routines_LEVELS.c", 2900; else
14331                        		__bra		.LL698
         01:D869  80 0F      			bra	.LL698
14332    01:D86B             	.LL697:
14333                        	
14334                        		.dbg	line,	"include\routines_LEVELS.c", 2901; {
14335                        	
14336                        		.dbg	line,	"include\routines_LEVELS.c", 2902; spr_x(player_pos_x-2);
14337                        		__ld.wm		_player_pos_x
         01:D86B  AD 01 25   			lda.l	_player_pos_x
         01:D86E  AC 02 25   			ldy.h	_player_pos_x
14338                        		__sub.wi	2
         01:D871  38         			sec
         01:D872  E9 02      			sbc.l	#2
         01:D874  B0 01      			bcs	!+
         01:D876  88         			dey
         01:D877             	!:
14339                        		__call		_spr_x.1
         01:D877  20 1E E8   			call	_spr_x.1
14340                        	
14341                        		.dbg	line,	"include\routines_LEVELS.c", 2903; }
14342    01:D87A             	.LL698:
14343                        	
14344                        		.dbg	line,	"include\routines_LEVELS.c", 2904; 
14345                        	
14346                        		.dbg	line,	"include\routines_LEVELS.c", 2905; player_counter_anim = 0;
14347                        		__st.umiq	0, _player_counter_anim
         01:D87A  9C 1E 23   			stz	_player_counter_anim
14348                        	
14349                        		.dbg	line,	"include\routines_LEVELS.c", 2906; }
14350                        	
14351                        		.dbg	line,	"include\routines_LEVELS.c", 2907; }
14352    01:D87D             	.LL696	.alias		.LL699
14353                        	
14354                        		.dbg	line,	"include\routines_LEVELS.c", 2910; else if(player_state == STATE_CLIMB_UP)
14355                        		__bra		.LL699
         01:D87D  4C 14 DC   			bra	.LL699
14356    01:D880             	.LL695:
14357                        		__ld.umq	_player_state
         01:D880  AD 1B 23   			lda	_player_state
14358                        		__equ_b.uiq	11
         01:D883  C9 0B      			cmp	#11
         01:D885  F0 01      			beq	!+
         01:D887  18         			clc
         01:D888             	!:
14359                        		__bfalse	.LL700
         01:D888  B0 03 4C 62			bcc	.LL700
         01:D88C  D9          
14360                        	
14361                        		.dbg	line,	"include\routines_LEVELS.c", 2911; {
14362                        	
14363                        		.dbg	line,	"include\routines_LEVELS.c", 2912; if(player_counter_anim == 0)
14364                        		__not.um	_player_counter_anim
         01:D88D  AD 1E 23   			lda	_player_counter_anim
         01:D890  18         			clc
         01:D891  D0 01      			bne	!+
         01:D893  38         			sec
         01:D894             	!:
14365                        		__bfalse	.LL701
         01:D894  90 0F      			bcc	.LL701
14366                        	
14367                        		.dbg	line,	"include\routines_LEVELS.c", 2913; {
14368                        	
14369                        		.dbg	line,	"include\routines_LEVELS.c", 2914; spr_set(player_id);
14370                        		__ld.umq	_player_id
         01:D896  AD 1A 23   			lda	_player_id
14371                        		__call		_spr_set.1
         01:D899  20 F1 E7   			call	_spr_set.1
14372                        	
14373                        		.dbg	line,	"include\routines_LEVELS.c", 2915; spr_pattern(PLAYER_CLIMB_1_VRAM_ADR); 
14374                        		__ld.wi		8704
         01:D89C  62         			cla
         01:D89D  A0 22      			ldy.h	#8704
14375                        		__call		_spr_pattern.1
         01:D89F  20 3A E8   			call	_spr_pattern.1
14376                        	
14377                        		.dbg	line,	"include\routines_LEVELS.c", 2916; }
14378                        	
14379                        		.dbg	line,	"include\routines_LEVELS.c", 2918; else if(player_counter_anim == 2)
14380                        		__bra		.LL702
         01:D8A2  4C 4C D9   			bra	.LL702
14381    01:D8A5             	.LL701:
14382                        		__ld.umq	_player_counter_anim
         01:D8A5  AD 1E 23   			lda	_player_counter_anim
14383                        		__equ_b.uiq	2
         01:D8A8  C9 02      			cmp	#2
         01:D8AA  F0 01      			beq	!+
         01:D8AC  18         			clc
         01:D8AD             	!:
14384                        		__bfalse	.LL703
         01:D8AD  90 0F      			bcc	.LL703
14385                        	
14386                        		.dbg	line,	"include\routines_LEVELS.c", 2919; {
14387                        	
14388                        		.dbg	line,	"include\routines_LEVELS.c", 2920; spr_set(player_id);
14389                        		__ld.umq	_player_id
         01:D8AF  AD 1A 23   			lda	_player_id
14390                        		__call		_spr_set.1
         01:D8B2  20 F1 E7   			call	_spr_set.1
14391                        	
14392                        		.dbg	line,	"include\routines_LEVELS.c", 2921; spr_pattern(PLAYER_CLIMB_2_VRAM_ADR); 
14393                        		__ld.wi		8960
         01:D8B5  62         			cla
         01:D8B6  A0 23      			ldy.h	#8960
14394                        		__call		_spr_pattern.1
         01:D8B8  20 3A E8   			call	_spr_pattern.1
14395                        	
14396                        		.dbg	line,	"include\routines_LEVELS.c", 2922; }
14397                        	
14398                        		.dbg	line,	"include\routines_LEVELS.c", 2924; else if(player_counter_anim == 5)
14399                        		__bra		.LL704
         01:D8BB  4C 4C D9   			bra	.LL704
14400    01:D8BE             	.LL703:
14401                        		__ld.umq	_player_counter_anim
         01:D8BE  AD 1E 23   			lda	_player_counter_anim
14402                        		__equ_b.uiq	5
         01:D8C1  C9 05      			cmp	#5
         01:D8C3  F0 01      			beq	!+
         01:D8C5  18         			clc
         01:D8C6             	!:
14403                        		__bfalse	.LL705
         01:D8C6  90 0E      			bcc	.LL705
14404                        	
14405                        		.dbg	line,	"include\routines_LEVELS.c", 2925; {
14406                        	
14407                        		.dbg	line,	"include\routines_LEVELS.c", 2926; spr_set(player_id);
14408                        		__ld.umq	_player_id
         01:D8C8  AD 1A 23   			lda	_player_id
14409                        		__call		_spr_set.1
         01:D8CB  20 F1 E7   			call	_spr_set.1
14410                        	
14411                        		.dbg	line,	"include\routines_LEVELS.c", 2927; spr_pattern(PLAYER_CLIMB_3_VRAM_ADR); 
14412                        		__ld.wi		9216
         01:D8CE  62         			cla
         01:D8CF  A0 24      			ldy.h	#9216
14413                        		__call		_spr_pattern.1
         01:D8D1  20 3A E8   			call	_spr_pattern.1
14414                        	
14415                        		.dbg	line,	"include\routines_LEVELS.c", 2928; }
14416                        	
14417                        		.dbg	line,	"include\routines_LEVELS.c", 2930; else if(player_counter_anim == 8)
14418                        		__bra		.LL706
         01:D8D4  80 76      			bra	.LL706
14419    01:D8D6             	.LL705:
14420                        		__ld.umq	_player_counter_anim
         01:D8D6  AD 1E 23   			lda	_player_counter_anim
14421                        		__equ_b.uiq	8
         01:D8D9  C9 08      			cmp	#8
         01:D8DB  F0 01      			beq	!+
         01:D8DD  18         			clc
         01:D8DE             	!:
14422                        		__bfalse	.LL707
         01:D8DE  90 0E      			bcc	.LL707
14423                        	
14424                        		.dbg	line,	"include\routines_LEVELS.c", 2931; {
14425                        	
14426                        		.dbg	line,	"include\routines_LEVELS.c", 2932; spr_set(player_id);
14427                        		__ld.umq	_player_id
         01:D8E0  AD 1A 23   			lda	_player_id
14428                        		__call		_spr_set.1
         01:D8E3  20 F1 E7   			call	_spr_set.1
14429                        	
14430                        		.dbg	line,	"include\routines_LEVELS.c", 2933; spr_pattern(PLAYER_CLIMB_4_VRAM_ADR); 
14431                        		__ld.wi		9472
         01:D8E6  62         			cla
         01:D8E7  A0 25      			ldy.h	#9472
14432                        		__call		_spr_pattern.1
         01:D8E9  20 3A E8   			call	_spr_pattern.1
14433                        	
14434                        		.dbg	line,	"include\routines_LEVELS.c", 2934; }
14435                        	
14436                        		.dbg	line,	"include\routines_LEVELS.c", 2936; else if(player_counter_anim == 11)
14437                        		__bra		.LL708
         01:D8EC  80 5E      			bra	.LL708
14438    01:D8EE             	.LL707:
14439                        		__ld.umq	_player_counter_anim
         01:D8EE  AD 1E 23   			lda	_player_counter_anim
14440                        		__equ_b.uiq	11
         01:D8F1  C9 0B      			cmp	#11
         01:D8F3  F0 01      			beq	!+
         01:D8F5  18         			clc
         01:D8F6             	!:
14441                        		__bfalse	.LL709
         01:D8F6  90 0E      			bcc	.LL709
14442                        	
14443                        		.dbg	line,	"include\routines_LEVELS.c", 2937; {
14444                        	
14445                        		.dbg	line,	"include\routines_LEVELS.c", 2938; spr_set(player_id);
14446                        		__ld.umq	_player_id
         01:D8F8  AD 1A 23   			lda	_player_id
14447                        		__call		_spr_set.1
         01:D8FB  20 F1 E7   			call	_spr_set.1
14448                        	
14449                        		.dbg	line,	"include\routines_LEVELS.c", 2939; spr_pattern(PLAYER_CLIMB_5_VRAM_ADR); 
14450                        		__ld.wi		9728
         01:D8FE  62         			cla
         01:D8FF  A0 26      			ldy.h	#9728
14451                        		__call		_spr_pattern.1
         01:D901  20 3A E8   			call	_spr_pattern.1
14452                        	
14453                        		.dbg	line,	"include\routines_LEVELS.c", 2940; }
14454                        	
14455                        		.dbg	line,	"include\routines_LEVELS.c", 2942; else if(player_counter_anim == 14)
14456                        		__bra		.LL710
         01:D904  80 46      			bra	.LL710
14457    01:D906             	.LL709:
14458                        		__ld.umq	_player_counter_anim
         01:D906  AD 1E 23   			lda	_player_counter_anim
14459                        		__equ_b.uiq	14
         01:D909  C9 0E      			cmp	#14
         01:D90B  F0 01      			beq	!+
         01:D90D  18         			clc
         01:D90E             	!:
14460                        		__bfalse	.LL711
         01:D90E  90 0E      			bcc	.LL711
14461                        	
14462                        		.dbg	line,	"include\routines_LEVELS.c", 2943; {
14463                        	
14464                        		.dbg	line,	"include\routines_LEVELS.c", 2944; spr_set(player_id);
14465                        		__ld.umq	_player_id
         01:D910  AD 1A 23   			lda	_player_id
14466                        		__call		_spr_set.1
         01:D913  20 F1 E7   			call	_spr_set.1
14467                        	
14468                        		.dbg	line,	"include\routines_LEVELS.c", 2945; spr_pattern(PLAYER_CLIMB_6_VRAM_ADR); 
14469                        		__ld.wi		9984
         01:D916  62         			cla
         01:D917  A0 27      			ldy.h	#9984
14470                        		__call		_spr_pattern.1
         01:D919  20 3A E8   			call	_spr_pattern.1
14471                        	
14472                        		.dbg	line,	"include\routines_LEVELS.c", 2946; }
14473                        	
14474                        		.dbg	line,	"include\routines_LEVELS.c", 2948; else if(player_counter_anim == 17)
14475                        		__bra		.LL712
         01:D91C  80 2E      			bra	.LL712
14476    01:D91E             	.LL711:
14477                        		__ld.umq	_player_counter_anim
         01:D91E  AD 1E 23   			lda	_player_counter_anim
14478                        		__equ_b.uiq	17
         01:D921  C9 11      			cmp	#17
         01:D923  F0 01      			beq	!+
         01:D925  18         			clc
         01:D926             	!:
14479                        		__bfalse	.LL713
         01:D926  90 0E      			bcc	.LL713
14480                        	
14481                        		.dbg	line,	"include\routines_LEVELS.c", 2949; {
14482                        	
14483                        		.dbg	line,	"include\routines_LEVELS.c", 2950; spr_set(player_id);
14484                        		__ld.umq	_player_id
         01:D928  AD 1A 23   			lda	_player_id
14485                        		__call		_spr_set.1
         01:D92B  20 F1 E7   			call	_spr_set.1
14486                        	
14487                        		.dbg	line,	"include\routines_LEVELS.c", 2951; spr_pattern(PLAYER_CLIMB_3_VRAM_ADR); 
14488                        		__ld.wi		9216
         01:D92E  62         			cla
         01:D92F  A0 24      			ldy.h	#9216
14489                        		__call		_spr_pattern.1
         01:D931  20 3A E8   			call	_spr_pattern.1
14490                        	
14491                        		.dbg	line,	"include\routines_LEVELS.c", 2952; }
14492                        	
14493                        		.dbg	line,	"include\routines_LEVELS.c", 2954; else if(player_counter_anim == 20)
14494                        		__bra		.LL714
         01:D934  80 16      			bra	.LL714
14495    01:D936             	.LL713:
14496                        		__ld.umq	_player_counter_anim
         01:D936  AD 1E 23   			lda	_player_counter_anim
14497                        		__equ_b.uiq	20
         01:D939  C9 14      			cmp	#20
         01:D93B  F0 01      			beq	!+
         01:D93D  18         			clc
         01:D93E             	!:
14498                        		__bfalse	.LL715
         01:D93E  90 0C      			bcc	.LL715
14499                        	
14500                        		.dbg	line,	"include\routines_LEVELS.c", 2955; {
14501                        	
14502                        		.dbg	line,	"include\routines_LEVELS.c", 2956; spr_set(player_id);
14503                        		__ld.umq	_player_id
         01:D940  AD 1A 23   			lda	_player_id
14504                        		__call		_spr_set.1
         01:D943  20 F1 E7   			call	_spr_set.1
14505                        	
14506                        		.dbg	line,	"include\routines_LEVELS.c", 2957; spr_pattern(PLAYER_CLIMB_2_VRAM_ADR); 
14507                        		__ld.wi		8960
         01:D946  62         			cla
         01:D947  A0 23      			ldy.h	#8960
14508                        		__call		_spr_pattern.1
         01:D949  20 3A E8   			call	_spr_pattern.1
14509                        	
14510                        		.dbg	line,	"include\routines_LEVELS.c", 2958; }
14511                        	
14512                        		.dbg	line,	"include\routines_LEVELS.c", 2961; player_counter_anim += 1;
14513    01:D94C             	.LL715:
14514    01:D94C             	.LL714:
14515    01:D94C             	.LL712:
14516    01:D94C             	.LL710:
14517    01:D94C             	.LL708:
14518    01:D94C             	.LL706:
14519    01:D94C             	.LL704:
14520    01:D94C             	.LL702:
14521                        		__add_st.umiq	1, _player_counter_anim
         01:D94C  EE 1E 23   			inc	_player_counter_anim
14522                        	
14523                        		.dbg	line,	"include\routines_LEVELS.c", 2963; if(player_counter_anim == 22)
14524                        		__ld.umq	_player_counter_anim
         01:D94F  AD 1E 23   			lda	_player_counter_anim
14525                        		__equ_b.uiq	22
         01:D952  C9 16      			cmp	#22
         01:D954  F0 01      			beq	!+
         01:D956  18         			clc
         01:D957             	!:
14526                        		__bfalse	.LL716
         01:D957  90 03      			bcc	.LL716
14527                        	
14528                        		.dbg	line,	"include\routines_LEVELS.c", 2964; {
14529                        	
14530                        		.dbg	line,	"include\routines_LEVELS.c", 2965; player_counter_anim = 0;
14531                        		__st.umiq	0, _player_counter_anim
         01:D959  9C 1E 23   			stz	_player_counter_anim
14532                        	
14533                        		.dbg	line,	"include\routines_LEVELS.c", 2966; }
14534                        	
14535                        		.dbg	line,	"include\routines_LEVELS.c", 2968; recenter_CAMERA();
14536    01:D95C             	.LL716:
14537                        		__call		_recenter_CAMERA
         01:D95C  20 1D FF   			call	_recenter_CAMERA
14538                        	
14539                        		.dbg	line,	"include\routines_LEVELS.c", 2969; }
14540                        	
14541                        		.dbg	line,	"include\routines_LEVELS.c", 2972; else if(player_state == STATE_CLIMB_DOWN)
14542                        		__bra		.LL717
         01:D95F  4C 14 DC   			bra	.LL717
14543    01:D962             	.LL700:
14544                        		__ld.umq	_player_state
         01:D962  AD 1B 23   			lda	_player_state
14545                        		__equ_b.uiq	12
         01:D965  C9 0C      			cmp	#12
         01:D967  F0 01      			beq	!+
         01:D969  18         			clc
         01:D96A             	!:
14546                        		__bfalse	.LL718
         01:D96A  B0 03 4C 44			bcc	.LL718
         01:D96E  DA          
14547                        	
14548                        		.dbg	line,	"include\routines_LEVELS.c", 2973; {
14549                        	
14550                        		.dbg	line,	"include\routines_LEVELS.c", 2974; if(player_counter_anim == 0)
14551                        		__not.um	_player_counter_anim
         01:D96F  AD 1E 23   			lda	_player_counter_anim
         01:D972  18         			clc
         01:D973  D0 01      			bne	!+
         01:D975  38         			sec
         01:D976             	!:
14552                        		__bfalse	.LL719
         01:D976  90 0F      			bcc	.LL719
14553                        	
14554                        		.dbg	line,	"include\routines_LEVELS.c", 2975; {
14555                        	
14556                        		.dbg	line,	"include\routines_LEVELS.c", 2976; spr_set(player_id);
14557                        		__ld.umq	_player_id
         01:D978  AD 1A 23   			lda	_player_id
14558                        		__call		_spr_set.1
         01:D97B  20 F1 E7   			call	_spr_set.1
14559                        	
14560                        		.dbg	line,	"include\routines_LEVELS.c", 2977; spr_pattern(PLAYER_CLIMB_1_VRAM_ADR); 
14561                        		__ld.wi		8704
         01:D97E  62         			cla
         01:D97F  A0 22      			ldy.h	#8704
14562                        		__call		_spr_pattern.1
         01:D981  20 3A E8   			call	_spr_pattern.1
14563                        	
14564                        		.dbg	line,	"include\routines_LEVELS.c", 2978; }
14565                        	
14566                        		.dbg	line,	"include\routines_LEVELS.c", 2980; else if(player_counter_anim == 2)
14567                        		__bra		.LL720
         01:D984  4C 2E DA   			bra	.LL720
14568    01:D987             	.LL719:
14569                        		__ld.umq	_player_counter_anim
         01:D987  AD 1E 23   			lda	_player_counter_anim
14570                        		__equ_b.uiq	2
         01:D98A  C9 02      			cmp	#2
         01:D98C  F0 01      			beq	!+
         01:D98E  18         			clc
         01:D98F             	!:
14571                        		__bfalse	.LL721
         01:D98F  90 0F      			bcc	.LL721
14572                        	
14573                        		.dbg	line,	"include\routines_LEVELS.c", 2981; {
14574                        	
14575                        		.dbg	line,	"include\routines_LEVELS.c", 2982; spr_set(player_id);
14576                        		__ld.umq	_player_id
         01:D991  AD 1A 23   			lda	_player_id
14577                        		__call		_spr_set.1
         01:D994  20 F1 E7   			call	_spr_set.1
14578                        	
14579                        		.dbg	line,	"include\routines_LEVELS.c", 2983; spr_pattern(PLAYER_CLIMB_2_VRAM_ADR); 
14580                        		__ld.wi		8960
         01:D997  62         			cla
         01:D998  A0 23      			ldy.h	#8960
14581                        		__call		_spr_pattern.1
         01:D99A  20 3A E8   			call	_spr_pattern.1
14582                        	
14583                        		.dbg	line,	"include\routines_LEVELS.c", 2984; }
14584                        	
14585                        		.dbg	line,	"include\routines_LEVELS.c", 2986; else if(player_counter_anim == 5)
14586                        		__bra		.LL722
         01:D99D  4C 2E DA   			bra	.LL722
14587    01:D9A0             	.LL721:
14588                        		__ld.umq	_player_counter_anim
         01:D9A0  AD 1E 23   			lda	_player_counter_anim
14589                        		__equ_b.uiq	5
         01:D9A3  C9 05      			cmp	#5
         01:D9A5  F0 01      			beq	!+
         01:D9A7  18         			clc
         01:D9A8             	!:
14590                        		__bfalse	.LL723
         01:D9A8  90 0E      			bcc	.LL723
14591                        	
14592                        		.dbg	line,	"include\routines_LEVELS.c", 2987; {
14593                        	
14594                        		.dbg	line,	"include\routines_LEVELS.c", 2988; spr_set(player_id);
14595                        		__ld.umq	_player_id
         01:D9AA  AD 1A 23   			lda	_player_id
14596                        		__call		_spr_set.1
         01:D9AD  20 F1 E7   			call	_spr_set.1
14597                        	
14598                        		.dbg	line,	"include\routines_LEVELS.c", 2989; spr_pattern(PLAYER_CLIMB_3_VRAM_ADR); 
14599                        		__ld.wi		9216
         01:D9B0  62         			cla
         01:D9B1  A0 24      			ldy.h	#9216
14600                        		__call		_spr_pattern.1
         01:D9B3  20 3A E8   			call	_spr_pattern.1
14601                        	
14602                        		.dbg	line,	"include\routines_LEVELS.c", 2990; }
14603                        	
14604                        		.dbg	line,	"include\routines_LEVELS.c", 2992; else if(player_counter_anim == 8)
14605                        		__bra		.LL724
         01:D9B6  80 76      			bra	.LL724
14606    01:D9B8             	.LL723:
14607                        		__ld.umq	_player_counter_anim
         01:D9B8  AD 1E 23   			lda	_player_counter_anim
14608                        		__equ_b.uiq	8
         01:D9BB  C9 08      			cmp	#8
         01:D9BD  F0 01      			beq	!+
         01:D9BF  18         			clc
         01:D9C0             	!:
14609                        		__bfalse	.LL725
         01:D9C0  90 0E      			bcc	.LL725
14610                        	
14611                        		.dbg	line,	"include\routines_LEVELS.c", 2993; {
14612                        	
14613                        		.dbg	line,	"include\routines_LEVELS.c", 2994; spr_set(player_id);
14614                        		__ld.umq	_player_id
         01:D9C2  AD 1A 23   			lda	_player_id
14615                        		__call		_spr_set.1
         01:D9C5  20 F1 E7   			call	_spr_set.1
14616                        	
14617                        		.dbg	line,	"include\routines_LEVELS.c", 2995; spr_pattern(PLAYER_CLIMB_4_VRAM_ADR); 
14618                        		__ld.wi		9472
         01:D9C8  62         			cla
         01:D9C9  A0 25      			ldy.h	#9472
14619                        		__call		_spr_pattern.1
         01:D9CB  20 3A E8   			call	_spr_pattern.1
14620                        	
14621                        		.dbg	line,	"include\routines_LEVELS.c", 2996; }
14622                        	
14623                        		.dbg	line,	"include\routines_LEVELS.c", 2998; else if(player_counter_anim == 11)
14624                        		__bra		.LL726
         01:D9CE  80 5E      			bra	.LL726
14625    01:D9D0             	.LL725:
14626                        		__ld.umq	_player_counter_anim
         01:D9D0  AD 1E 23   			lda	_player_counter_anim
14627                        		__equ_b.uiq	11
         01:D9D3  C9 0B      			cmp	#11
         01:D9D5  F0 01      			beq	!+
         01:D9D7  18         			clc
         01:D9D8             	!:
14628                        		__bfalse	.LL727
         01:D9D8  90 0E      			bcc	.LL727
14629                        	
14630                        		.dbg	line,	"include\routines_LEVELS.c", 2999; {
14631                        	
14632                        		.dbg	line,	"include\routines_LEVELS.c", 3000; spr_set(player_id);
14633                        		__ld.umq	_player_id
         01:D9DA  AD 1A 23   			lda	_player_id
14634                        		__call		_spr_set.1
         01:D9DD  20 F1 E7   			call	_spr_set.1
14635                        	
14636                        		.dbg	line,	"include\routines_LEVELS.c", 3001; spr_pattern(PLAYER_CLIMB_5_VRAM_ADR); 
14637                        		__ld.wi		9728
         01:D9E0  62         			cla
         01:D9E1  A0 26      			ldy.h	#9728
14638                        		__call		_spr_pattern.1
         01:D9E3  20 3A E8   			call	_spr_pattern.1
14639                        	
14640                        		.dbg	line,	"include\routines_LEVELS.c", 3002; }
14641                        	
14642                        		.dbg	line,	"include\routines_LEVELS.c", 3004; else if(player_counter_anim == 14)
14643                        		__bra		.LL728
         01:D9E6  80 46      			bra	.LL728
14644    01:D9E8             	.LL727:
14645                        		__ld.umq	_player_counter_anim
         01:D9E8  AD 1E 23   			lda	_player_counter_anim
14646                        		__equ_b.uiq	14
         01:D9EB  C9 0E      			cmp	#14
         01:D9ED  F0 01      			beq	!+
         01:D9EF  18         			clc
         01:D9F0             	!:
14647                        		__bfalse	.LL729
         01:D9F0  90 0E      			bcc	.LL729
14648                        	
14649                        		.dbg	line,	"include\routines_LEVELS.c", 3005; {
14650                        	
14651                        		.dbg	line,	"include\routines_LEVELS.c", 3006; spr_set(player_id);
14652                        		__ld.umq	_player_id
         01:D9F2  AD 1A 23   			lda	_player_id
14653                        		__call		_spr_set.1
         01:D9F5  20 F1 E7   			call	_spr_set.1
14654                        	
14655                        		.dbg	line,	"include\routines_LEVELS.c", 3007; spr_pattern(PLAYER_CLIMB_4_VRAM_ADR); 
14656                        		__ld.wi		9472
         01:D9F8  62         			cla
         01:D9F9  A0 25      			ldy.h	#9472
14657                        		__call		_spr_pattern.1
         01:D9FB  20 3A E8   			call	_spr_pattern.1
14658                        	
14659                        		.dbg	line,	"include\routines_LEVELS.c", 3008; }
14660                        	
14661                        		.dbg	line,	"include\routines_LEVELS.c", 3010; else if(player_counter_anim == 17)
14662                        		__bra		.LL730
         01:D9FE  80 2E      			bra	.LL730
14663    01:DA00             	.LL729:
14664                        		__ld.umq	_player_counter_anim
         01:DA00  AD 1E 23   			lda	_player_counter_anim
14665                        		__equ_b.uiq	17
         01:DA03  C9 11      			cmp	#17
         01:DA05  F0 01      			beq	!+
         01:DA07  18         			clc
         01:DA08             	!:
14666                        		__bfalse	.LL731
         01:DA08  90 0E      			bcc	.LL731
14667                        	
14668                        		.dbg	line,	"include\routines_LEVELS.c", 3011; {
14669                        	
14670                        		.dbg	line,	"include\routines_LEVELS.c", 3012; spr_set(player_id);
14671                        		__ld.umq	_player_id
         01:DA0A  AD 1A 23   			lda	_player_id
14672                        		__call		_spr_set.1
         01:DA0D  20 F1 E7   			call	_spr_set.1
14673                        	
14674                        		.dbg	line,	"include\routines_LEVELS.c", 3013; spr_pattern(PLAYER_CLIMB_3_VRAM_ADR); 
14675                        		__ld.wi		9216
         01:DA10  62         			cla
         01:DA11  A0 24      			ldy.h	#9216
14676                        		__call		_spr_pattern.1
         01:DA13  20 3A E8   			call	_spr_pattern.1
14677                        	
14678                        		.dbg	line,	"include\routines_LEVELS.c", 3014; }
14679                        	
14680                        		.dbg	line,	"include\routines_LEVELS.c", 3016; else if(player_counter_anim == 20)
14681                        		__bra		.LL732
         01:DA16  80 16      			bra	.LL732
14682    01:DA18             	.LL731:
14683                        		__ld.umq	_player_counter_anim
         01:DA18  AD 1E 23   			lda	_player_counter_anim
14684                        		__equ_b.uiq	20
         01:DA1B  C9 14      			cmp	#20
         01:DA1D  F0 01      			beq	!+
         01:DA1F  18         			clc
         01:DA20             	!:
14685                        		__bfalse	.LL733
         01:DA20  90 0C      			bcc	.LL733
14686                        	
14687                        		.dbg	line,	"include\routines_LEVELS.c", 3017; {
14688                        	
14689                        		.dbg	line,	"include\routines_LEVELS.c", 3018; spr_set(player_id);
14690                        		__ld.umq	_player_id
         01:DA22  AD 1A 23   			lda	_player_id
14691                        		__call		_spr_set.1
         01:DA25  20 F1 E7   			call	_spr_set.1
14692                        	
14693                        		.dbg	line,	"include\routines_LEVELS.c", 3019; spr_pattern(PLAYER_CLIMB_2_VRAM_ADR); 
14694                        		__ld.wi		8960
         01:DA28  62         			cla
         01:DA29  A0 23      			ldy.h	#8960
14695                        		__call		_spr_pattern.1
         01:DA2B  20 3A E8   			call	_spr_pattern.1
14696                        	
14697                        		.dbg	line,	"include\routines_LEVELS.c", 3020; }
14698                        	
14699                        		.dbg	line,	"include\routines_LEVELS.c", 3023; player_counter_anim += 1;
14700    01:DA2E             	.LL733:
14701    01:DA2E             	.LL732:
14702    01:DA2E             	.LL730:
14703    01:DA2E             	.LL728:
14704    01:DA2E             	.LL726:
14705    01:DA2E             	.LL724:
14706    01:DA2E             	.LL722:
14707    01:DA2E             	.LL720:
14708                        		__add_st.umiq	1, _player_counter_anim
         01:DA2E  EE 1E 23   			inc	_player_counter_anim
14709                        	
14710                        		.dbg	line,	"include\routines_LEVELS.c", 3025; if(player_counter_anim == 22)
14711                        		__ld.umq	_player_counter_anim
         01:DA31  AD 1E 23   			lda	_player_counter_anim
14712                        		__equ_b.uiq	22
         01:DA34  C9 16      			cmp	#22
         01:DA36  F0 01      			beq	!+
         01:DA38  18         			clc
         01:DA39             	!:
14713                        		__bfalse	.LL734
         01:DA39  90 03      			bcc	.LL734
14714                        	
14715                        		.dbg	line,	"include\routines_LEVELS.c", 3026; {
14716                        	
14717                        		.dbg	line,	"include\routines_LEVELS.c", 3027; player_counter_anim = 0;
14718                        		__st.umiq	0, _player_counter_anim
         01:DA3B  9C 1E 23   			stz	_player_counter_anim
14719                        	
14720                        		.dbg	line,	"include\routines_LEVELS.c", 3028; }
14721                        	
14722                        		.dbg	line,	"include\routines_LEVELS.c", 3030; recenter_CAMERA();
14723    01:DA3E             	.LL734:
14724                        		__call		_recenter_CAMERA
         01:DA3E  20 1D FF   			call	_recenter_CAMERA
14725                        	
14726                        		.dbg	line,	"include\routines_LEVELS.c", 3031; }
14727                        	
14728                        		.dbg	line,	"include\routines_LEVELS.c", 3034; else if(player_state == STATE_JUMP_LADDER)
14729                        		__bra		.LL735
         01:DA41  4C 14 DC   			bra	.LL735
14730    01:DA44             	.LL718:
14731                        		__ld.umq	_player_state
         01:DA44  AD 1B 23   			lda	_player_state
14732                        		__equ_b.uiq	13
         01:DA47  C9 0D      			cmp	#13
         01:DA49  F0 01      			beq	!+
         01:DA4B  18         			clc
         01:DA4C             	!:
14733                        		__bfalse	.LL736
         01:DA4C  B0 03 4C 14			bcc	.LL736
         01:DA50  DC          
14734                        	
14735                        		.dbg	line,	"include\routines_LEVELS.c", 3035; {
14736                        	
14737                        		.dbg	line,	"include\routines_LEVELS.c", 3036; unsigned char i;
14738                        	
14739                        		.dbg	line,	"include\routines_LEVELS.c", 3037; i = 1;
14740                        		__st.umiq	1, __update_PLAYER_end - 8  /* i */
         01:DA51  A9 01      			lda.l	#1
         01:DA53  8D 05 23   			sta	__update_PLAYER_end - 8
14741                        	
14742                        		.dbg	line,	"include\routines_LEVELS.c", 3040; if(player_counter_anim == 0)
14743                        		__not.um	_player_counter_anim
         01:DA56  AD 1E 23   			lda	_player_counter_anim
         01:DA59  18         			clc
         01:DA5A  D0 01      			bne	!+
         01:DA5C  38         			sec
         01:DA5D             	!:
14744                        		__bfalse	.LL737
         01:DA5D  90 11      			bcc	.LL737
14745                        	
14746                        		.dbg	line,	"include\routines_LEVELS.c", 3041; {
14747                        	
14748                        		.dbg	line,	"include\routines_LEVELS.c", 3042; spr_set(player_id);
14749                        		__ld.umq	_player_id
         01:DA5F  AD 1A 23   			lda	_player_id
14750                        		__call		_spr_set.1
         01:DA62  20 F1 E7   			call	_spr_set.1
14751                        	
14752                        		.dbg	line,	"include\routines_LEVELS.c", 3043; spr_pattern(PLAYER_JUMP_VRAM_ADR); 
14753                        		__ld.wi		7936
         01:DA65  62         			cla
         01:DA66  A0 1F      			ldy.h	#7936
14754                        		__call		_spr_pattern.1
         01:DA68  20 3A E8   			call	_spr_pattern.1
14755                        	
14756                        		.dbg	line,	"include\routines_LEVELS.c", 3045; player_counter_anim = 1;
14757                        		__st.umiq	1, _player_counter_anim
         01:DA6B  A9 01      			lda.l	#1
         01:DA6D  8D 1E 23   			sta	_player_counter_anim
14758                        	
14759                        		.dbg	line,	"include\routines_LEVELS.c", 3046; }
14760                        	
14761                        		.dbg	line,	"include\routines_LEVELS.c", 3048; 
14762                        	
14763                        		.dbg	line,	"include\routines_LEVELS.c", 3049; //player_pos_y += TABLE_PLAYER_JUMP_V_LADDER[player_index_jump];
14764                        	
14765                        		.dbg	line,	"include\routines_LEVELS.c", 3050; player_pos_y += TABLE_PLAYER_JUMP_V_GROUND[player_index_jump];
14766    01:DA70             	.LL737:
14767                        		__ldx.umq	_player_index_jump
         01:DA70  AE 1F 23   			ldx	_player_index_jump
14768                        		__ld.bax	_TABLE_PLAYER_JUMP_V_GROUND
         01:DA73  BD 8B 62   			lda	_TABLE_PLAYER_JUMP_V_GROUND, x
         01:DA76  C2         			cly
         01:DA77  10 01      			bpl	!+
         01:DA79  88         			dey
         01:DA7A             	!:
14769                        		__add_st.wmq	_player_pos_y
         01:DA7A  18         			clc
         01:DA7B  6D 03 25   			adc.l	_player_pos_y
         01:DA7E  8D 03 25   			sta.l	_player_pos_y
         01:DA81  98         			tya
         01:DA82  6D 04 25   			adc.h	_player_pos_y
         01:DA85  8D 04 25   			sta.h	_player_pos_y
14770                        	
14771                        		.dbg	line,	"include\routines_LEVELS.c", 3052; // CHECK COLLISION WITH CEILING //
14772                        	
14773                        		.dbg	line,	"include\routines_LEVELS.c", 3053; collision_PLAYER_BG( 15 , 8 );
14774                        		__ld.wi		15
         01:DA88  A9 0F      			lda.l	#15
         01:DA8A  C2         			cly
14775                        		__pusharg.wr
         01:DA8B  A6 8D      			ldx	<__sp
         01:DA8D  CA         			dex
         01:DA8E  CA         			dex
         01:DA8F  95 08      			sta.l	<__stack, x
         01:DA91  94 09      			sty.h	<__stack, x
         01:DA93  86 8D      			stx	<__sp
14776                        		__ld.wi		8
         01:DA95  A9 08      			lda.l	#8
         01:DA97  C2         			cly
14777                        		__pusharg.wr
         01:DA98  A6 8D      			ldx	<__sp
         01:DA9A  CA         			dex
         01:DA9B  CA         			dex
         01:DA9C  95 08      			sta.l	<__stack, x
         01:DA9E  94 09      			sty.h	<__stack, x
         01:DAA0  86 8D      			stx	<__sp
14778                        		__call		_collision_PLAYER_BG
         01:DAA2  20 31 FF   			call	_collision_PLAYER_BG
14779                        	
14780                        		.dbg	line,	"include\routines_LEVELS.c", 3055; if(map_blk_flag == TILE_BG)
14781                        		__ld.umq	_map_blk_flag
         01:DAA5  AD 05 2C   			lda	_map_blk_flag
14782                        		__equ_b.uiq	1
         01:DAA8  C9 01      			cmp	#1
         01:DAAA  F0 01      			beq	!+
         01:DAAC  18         			clc
         01:DAAD             	!:
14783                        		__bfalse	.LL738
         01:DAAD  90 5F      			bcc	.LL738
14784                        	
14785                        		.dbg	line,	"include\routines_LEVELS.c", 3056; {
14786                        	
14787                        		.dbg	line,	"include\routines_LEVELS.c", 3057; player_index_jump = 20;
14788                        		__st.umiq	20, _player_index_jump
         01:DAAF  A9 14      			lda.l	#20
         01:DAB1  8D 1F 23   			sta	_player_index_jump
14789                        	
14790                        		.dbg	line,	"include\routines_LEVELS.c", 3058; 
14791                        	
14792                        		.dbg	line,	"include\routines_LEVELS.c", 3059; for(i=1 ; i<8 ; i++)
14793                        		__st.umiq	1, __update_PLAYER_end - 8  /* i */
         01:DAB4  A9 01      			lda.l	#1
         01:DAB6  8D 05 23   			sta	__update_PLAYER_end - 8
14794    01:DAB9             	.LL739:
14795                        		__ld.umq	__update_PLAYER_end - 8  /* i */
         01:DAB9  AD 05 23   			lda	__update_PLAYER_end - 8
14796                        		__ult_b.uiq	8
         01:DABC  C9 08      			cmp	#8		; Subtract integer from A.
         01:DABE  6A         			ror	a		; CC if A < integer.
         01:DABF  49 80      			eor	#$80
         01:DAC1  2A         			rol	a
14797                        		__btrue		.LL741
         01:DAC2  B0 07      			bcs	.LL741
14798                        		__bra		.LL742
         01:DAC4  80 48      			bra	.LL742
14799    01:DAC6             	.LL740:
14800                        		__inc.umq	__update_PLAYER_end - 8  /* i */
         01:DAC6  EE 05 23   			inc	__update_PLAYER_end - 8
14801                        		__bra		.LL739
         01:DAC9  80 EE      			bra	.LL739
14802    01:DACB             	.LL741:
14803                        	
14804                        		.dbg	line,	"include\routines_LEVELS.c", 3060; {
14805                        	
14806                        		.dbg	line,	"include\routines_LEVELS.c", 3061; collision_PLAYER_BG( 15 , 8 + i );
14807                        		__ld.wi		15
         01:DACB  A9 0F      			lda.l	#15
         01:DACD  C2         			cly
14808                        		__pusharg.wr
         01:DACE  A6 8D      			ldx	<__sp
         01:DAD0  CA         			dex
         01:DAD1  CA         			dex
         01:DAD2  95 08      			sta.l	<__stack, x
         01:DAD4  94 09      			sty.h	<__stack, x
         01:DAD6  86 8D      			stx	<__sp
14809                        		__ld.wi		8
         01:DAD8  A9 08      			lda.l	#8
         01:DADA  C2         			cly
14810                        		__add.um	__update_PLAYER_end - 8  /* i */
         01:DADB  18         			clc
         01:DADC  6D 05 23   			adc	__update_PLAYER_end - 8
         01:DADF  90 01      			bcc	!+
         01:DAE1  C8         			iny
         01:DAE2             	!:
14811                        		__pusharg.wr
         01:DAE2  A6 8D      			ldx	<__sp
         01:DAE4  CA         			dex
         01:DAE5  CA         			dex
         01:DAE6  95 08      			sta.l	<__stack, x
         01:DAE8  94 09      			sty.h	<__stack, x
         01:DAEA  86 8D      			stx	<__sp
14812                        		__call		_collision_PLAYER_BG
         01:DAEC  20 31 FF   			call	_collision_PLAYER_BG
14813                        	
14814                        		.dbg	line,	"include\routines_LEVELS.c", 3062; {
14815                        	
14816                        		.dbg	line,	"include\routines_LEVELS.c", 3063; if(map_blk_flag == TILE_EMPTY)
14817                        		__not.um	_map_blk_flag
         01:DAEF  AD 05 2C   			lda	_map_blk_flag
         01:DAF2  18         			clc
         01:DAF3  D0 01      			bne	!+
         01:DAF5  38         			sec
         01:DAF6             	!:
14818                        		__bfalse	.LL743
         01:DAF6  90 CE      			bcc	.LL743
14819                        	
14820                        		.dbg	line,	"include\routines_LEVELS.c", 3064; {
14821                        	
14822                        		.dbg	line,	"include\routines_LEVELS.c", 3065; player_pos_y += i;
14823                        		__ld.um		__update_PLAYER_end - 8  /* i */
         01:DAF8  AD 05 23   			lda	__update_PLAYER_end - 8
         01:DAFB  C2         			cly
14824                        		__add_st.wmq	_player_pos_y
         01:DAFC  18         			clc
         01:DAFD  6D 03 25   			adc.l	_player_pos_y
         01:DB00  8D 03 25   			sta.l	_player_pos_y
         01:DB03  98         			tya
         01:DB04  6D 04 25   			adc.h	_player_pos_y
         01:DB07  8D 04 25   			sta.h	_player_pos_y
14825                        	
14826                        		.dbg	line,	"include\routines_LEVELS.c", 3066; break;
14827                        		__bra		.LL742
         01:DB0A  80 02      			bra	.LL742
14828                        	
14829                        		.dbg	line,	"include\routines_LEVELS.c", 3067; }
14830                        	
14831                        		.dbg	line,	"include\routines_LEVELS.c", 3068; }
14832    01:DB0C             	.LL743	.alias		.LL740
14833                        	
14834                        		.dbg	line,	"include\routines_LEVELS.c", 3069; }
14835                        		__bra		.LL740
         01:DB0C  80 B8      			bra	.LL740
14836    01:DB0E             	.LL742:
14837                        	
14838                        		.dbg	line,	"include\routines_LEVELS.c", 3070; }
14839                        	
14840                        		.dbg	line,	"include\routines_LEVELS.c", 3072; spr_set(player_id);
14841    01:DB0E             	.LL738:
14842                        		__ld.umq	_player_id
         01:DB0E  AD 1A 23   			lda	_player_id
14843                        		__call		_spr_set.1
         01:DB11  20 F1 E7   			call	_spr_set.1
14844                        	
14845                        		.dbg	line,	"include\routines_LEVELS.c", 3073; spr_y(player_pos_y);
14846                        		__ld.wm		_player_pos_y
         01:DB14  AD 03 25   			lda.l	_player_pos_y
         01:DB17  AC 04 25   			ldy.h	_player_pos_y
14847                        		__call		_spr_y.1
         01:DB1A  20 2D E8   			call	_spr_y.1
14848                        	
14849                        		.dbg	line,	"include\routines_LEVELS.c", 3077; if(player_index_jump < 34)
14850                        		__ld.umq	_player_index_jump
         01:DB1D  AD 1F 23   			lda	_player_index_jump
14851                        		__ult_b.uiq	34
         01:DB20  C9 22      			cmp	#34		; Subtract integer from A.
         01:DB22  6A         			ror	a		; CC if A < integer.
         01:DB23  49 80      			eor	#$80
         01:DB25  2A         			rol	a
14852                        		__bfalse	.LL744
         01:DB26  90 03      			bcc	.LL744
14853                        	
14854                        		.dbg	line,	"include\routines_LEVELS.c", 3078; {
14855                        	
14856                        		.dbg	line,	"include\routines_LEVELS.c", 3079; player_index_jump += 1;
14857                        		__add_st.umiq	1, _player_index_jump
         01:DB28  EE 1F 23   			inc	_player_index_jump
14858                        	
14859                        		.dbg	line,	"include\routines_LEVELS.c", 3080; }
14860                        	
14861                        		.dbg	line,	"include\routines_LEVELS.c", 3085; //--------------------------------------------------------------------------------------//
14862                        	
14863                        		.dbg	line,	"include\routines_LEVELS.c", 3086; //                                   LADDER COLLISION                                   //
14864                        	
14865                        		.dbg	line,	"include\routines_LEVELS.c", 3087; //--------------------------------------------------------------------------------------//
14866                        	
14867                        		.dbg	line,	"include\routines_LEVELS.c", 3089; if(player_index_jump > 18)
14868    01:DB2B             	.LL744:
14869                        		__ld.umq	_player_index_jump
         01:DB2B  AD 1F 23   			lda	_player_index_jump
14870                        		__ugt_b.uiq	18
         01:DB2E  18         			clc			; Subtract integer+1 from A.
         01:DB2F  E9 12      			sbc	#18		; CS if A > integer.
14871                        		__bfalse	.LL745
         01:DB31  B0 03 4C FF			bcc	.LL745
         01:DB35  DB          
14872                        	
14873                        		.dbg	line,	"include\routines_LEVELS.c", 3090; {
14874                        	
14875                        		.dbg	line,	"include\routines_LEVELS.c", 3091; // CHECK COLLISION WITH LADDERS //
14876                        	
14877                        		.dbg	line,	"include\routines_LEVELS.c", 3092; collision_PLAYER_BG( 16 , 8 );
14878                        		__ld.wi		16
         01:DB36  A9 10      			lda.l	#16
         01:DB38  C2         			cly
14879                        		__pusharg.wr
         01:DB39  A6 8D      			ldx	<__sp
         01:DB3B  CA         			dex
         01:DB3C  CA         			dex
         01:DB3D  95 08      			sta.l	<__stack, x
         01:DB3F  94 09      			sty.h	<__stack, x
         01:DB41  86 8D      			stx	<__sp
14880                        		__ld.wi		8
         01:DB43  A9 08      			lda.l	#8
         01:DB45  C2         			cly
14881                        		__pusharg.wr
         01:DB46  A6 8D      			ldx	<__sp
         01:DB48  CA         			dex
         01:DB49  CA         			dex
         01:DB4A  95 08      			sta.l	<__stack, x
         01:DB4C  94 09      			sty.h	<__stack, x
         01:DB4E  86 8D      			stx	<__sp
14882                        		__call		_collision_PLAYER_BG
         01:DB50  20 31 FF   			call	_collision_PLAYER_BG
14883                        	
14884                        		.dbg	line,	"include\routines_LEVELS.c", 3094; // IF PLAYER HITS THE LADDER //
14885                        	
14886                        		.dbg	line,	"include\routines_LEVELS.c", 3095; if(map_blk_flag == TILE_LADDER)
14887                        		__ld.umq	_map_blk_flag
         01:DB53  AD 05 2C   			lda	_map_blk_flag
14888                        		__equ_b.uiq	2
         01:DB56  C9 02      			cmp	#2
         01:DB58  F0 01      			beq	!+
         01:DB5A  18         			clc
         01:DB5B             	!:
14889                        		__bfalse	.LL746
         01:DB5B  B0 03 4C FF			bcc	.LL746
         01:DB5F  DB          
14890                        	
14891                        		.dbg	line,	"include\routines_LEVELS.c", 3096; {
14892                        	
14893                        		.dbg	line,	"include\routines_LEVELS.c", 3097; // CAMERA GOES 8 PX BACKWARD //
14894                        	
14895                        		.dbg	line,	"include\routines_LEVELS.c", 3098; sgx_map_pxl_x = ( (sgx_map_pxl_x >> 3) << 3 );
14896                        		__ld.wm		_sgx_map_pxl_x
         01:DB60  AD E4 26   			lda.l	_sgx_map_pxl_x
         01:DB63  AC E5 26   			ldy.h	_sgx_map_pxl_x
14897                        		__lsr.wi	3
         01:DB66  84 00      			sty	__temp
         01:DB68  20 3A E2   			jsr	lsrw3
14898                        		__asl.wi	3
         01:DB6B  84 00      			sty	__temp
         01:DB6D  20 D7 E1   			jsr	aslw3
14899                        		__st.wmq	_sgx_map_pxl_x
         01:DB70  8D E4 26   			sta.l	_sgx_map_pxl_x
         01:DB73  8C E5 26   			sty.h	_sgx_map_pxl_x
14900                        	
14901                        		.dbg	line,	"include\routines_LEVELS.c", 3100; // SO WE UPDATE THE MAP //
14902                        	
14903                        		.dbg	line,	"include\routines_LEVELS.c", 3101; sgx_scroll_map();
14904                        		__call		_sgx_scroll_map
         01:DB76  20 63 FF   			call	_sgx_scroll_map
14905                        	
14906                        		.dbg	line,	"include\routines_LEVELS.c", 3103; // CHECK IF THE PLAYER STANDS RIGHT TO THE LADDER //
14907                        	
14908                        		.dbg	line,	"include\routines_LEVELS.c", 3104; collision_PLAYER_BG( 31 , 8 );
14909                        		__ld.wi		31
         01:DB79  A9 1F      			lda.l	#31
         01:DB7B  C2         			cly
14910                        		__pusharg.wr
         01:DB7C  A6 8D      			ldx	<__sp
         01:DB7E  CA         			dex
         01:DB7F  CA         			dex
         01:DB80  95 08      			sta.l	<__stack, x
         01:DB82  94 09      			sty.h	<__stack, x
         01:DB84  86 8D      			stx	<__sp
14911                        		__ld.wi		8
         01:DB86  A9 08      			lda.l	#8
         01:DB88  C2         			cly
14912                        		__pusharg.wr
         01:DB89  A6 8D      			ldx	<__sp
         01:DB8B  CA         			dex
         01:DB8C  CA         			dex
         01:DB8D  95 08      			sta.l	<__stack, x
         01:DB8F  94 09      			sty.h	<__stack, x
         01:DB91  86 8D      			stx	<__sp
14913                        		__call		_collision_PLAYER_BG
         01:DB93  20 31 FF   			call	_collision_PLAYER_BG
14914                        	
14915                        		.dbg	line,	"include\routines_LEVELS.c", 3106; if(map_blk_flag == TILE_LADDER)
14916                        		__ld.umq	_map_blk_flag
         01:DB96  AD 05 2C   			lda	_map_blk_flag
14917                        		__equ_b.uiq	2
         01:DB99  C9 02      			cmp	#2
         01:DB9B  F0 01      			beq	!+
         01:DB9D  18         			clc
         01:DB9E             	!:
14918                        		__bfalse	.LL747
         01:DB9E  90 0E      			bcc	.LL747
14919                        	
14920                        		.dbg	line,	"include\routines_LEVELS.c", 3107; {
14921                        	
14922                        		.dbg	line,	"include\routines_LEVELS.c", 3108; sgx_map_pxl_x += 8;
14923                        		__add_st.wmiq	8, _sgx_map_pxl_x
         01:DBA0  18         			clc
         01:DBA1  AD E4 26   			lda.l	_sgx_map_pxl_x
         01:DBA4  69 08      			adc.l	#8
         01:DBA6  8D E4 26   			sta.l	_sgx_map_pxl_x
         01:DBA9  90 03      			bcc	!+
         01:DBAB  EE E5 26   			inc.h	_sgx_map_pxl_x
         01:DBAE             	!:
14924                        	
14925                        		.dbg	line,	"include\routines_LEVELS.c", 3109; }
14926                        	
14927                        		.dbg	line,	"include\routines_LEVELS.c", 3111; spr_pattern(PLAYER_HANG_VRAM_ADR);
14928    01:DBAE             	.LL747:
14929                        		__ld.wi		8448
         01:DBAE  62         			cla
         01:DBAF  A0 21      			ldy.h	#8448
14930                        		__call		_spr_pattern.1
         01:DBB1  20 3A E8   			call	_spr_pattern.1
14931                        	
14932                        		.dbg	line,	"include\routines_LEVELS.c", 3113; spr_set(chain_id);
14933                        		__ld.umq	_chain_id
         01:DBB4  AD 28 23   			lda	_chain_id
14934                        		__call		_spr_set.1
         01:DBB7  20 F1 E7   			call	_spr_set.1
14935                        	
14936                        		.dbg	line,	"include\routines_LEVELS.c", 3114; spr_hide();
14937                        		__call		_spr_hide
         01:DBBA  20 0C E8   			call	_spr_hide
14938                        	
14939                        		.dbg	line,	"include\routines_LEVELS.c", 3116; spr_set(chain_id+1);
14940                        		__ld.um		_chain_id
         01:DBBD  AD 28 23   			lda	_chain_id
         01:DBC0  C2         			cly
14941                        		__add.wi	1
         01:DBC1  1A         			inc	a
         01:DBC2  D0 01      			bne	!+
         01:DBC4  C8         			iny
         01:DBC5             	!:
14942                        		__call		_spr_set.1
         01:DBC5  20 F1 E7   			call	_spr_set.1
14943                        	
14944                        		.dbg	line,	"include\routines_LEVELS.c", 3117; spr_hide();
14945                        		__call		_spr_hide
         01:DBC8  20 0C E8   			call	_spr_hide
14946                        	
14947                        		.dbg	line,	"include\routines_LEVELS.c", 3119; spr_set(chain_id+2);
14948                        		__ld.um		_chain_id
         01:DBCB  AD 28 23   			lda	_chain_id
         01:DBCE  C2         			cly
14949                        		__add.wi	2
         01:DBCF  18         			clc
         01:DBD0  69 02      			adc.l	#2
         01:DBD2  90 01      			bcc	!+
         01:DBD4  C8         			iny
         01:DBD5             	!:
14950                        		__call		_spr_set.1
         01:DBD5  20 F1 E7   			call	_spr_set.1
14951                        	
14952                        		.dbg	line,	"include\routines_LEVELS.c", 3120; spr_hide();
14953                        		__call		_spr_hide
         01:DBD8  20 0C E8   			call	_spr_hide
14954                        	
14955                        		.dbg	line,	"include\routines_LEVELS.c", 3122; list_chain_active[0] = FALSE;
14956                        		__st.umiq	0, _list_chain_active
         01:DBDB  9C 2C 23   			stz	_list_chain_active
14957                        	
14958                        		.dbg	line,	"include\routines_LEVELS.c", 3123; list_chain_active[1] = FALSE;
14959                        		__st.umiq	0, _list_chain_active + 1
         01:DBDE  9C 2D 23   			stz	_list_chain_active + 1
14960                        	
14961                        		.dbg	line,	"include\routines_LEVELS.c", 3124; list_chain_active[2] = FALSE;
14962                        		__st.umiq	0, _list_chain_active + 2
         01:DBE1  9C 2E 23   			stz	_list_chain_active + 2
14963                        	
14964                        		.dbg	line,	"include\routines_LEVELS.c", 3126; player_attack = FALSE;
14965                        		__st.umiq	0, _player_attack
         01:DBE4  9C 23 23   			stz	_player_attack
14966                        	
14967                        		.dbg	line,	"include\routines_LEVELS.c", 3127; player_counter_attack = 0;
14968                        		__st.umiq	0, _player_counter_attack
         01:DBE7  9C 21 23   			stz	_player_counter_attack
14969                        	
14970                        		.dbg	line,	"include\routines_LEVELS.c", 3129; player_counter_anim = 0;//
14971                        		__st.umiq	0, _player_counter_anim
         01:DBEA  9C 1E 23   			stz	_player_counter_anim
14972                        	
14973                        		.dbg	line,	"include\routines_LEVELS.c", 3130; player_index_jump = 0;
14974                        		__st.umiq	0, _player_index_jump
         01:DBED  9C 1F 23   			stz	_player_index_jump
14975                        	
14976                        		.dbg	line,	"include\routines_LEVELS.c", 3131; jump_ladder = TRUE;
14977                        		__st.umiq	1, _jump_ladder
         01:DBF0  A9 01      			lda.l	#1
         01:DBF2  8D 24 23   			sta	_jump_ladder
14978                        	
14979                        		.dbg	line,	"include\routines_LEVELS.c", 3132; jump_max_index = 29;
14980                        		__st.umiq	29, _jump_max_index
         01:DBF5  A9 1D      			lda.l	#29
         01:DBF7  8D 25 23   			sta	_jump_max_index
14981                        	
14982                        		.dbg	line,	"include\routines_LEVELS.c", 3133; player_state = STATE_HANG;
14983                        		__st.umiq	10, _player_state
         01:DBFA  A9 0A      			lda.l	#10
         01:DBFC  8D 1B 23   			sta	_player_state
14984                        	
14985                        		.dbg	line,	"include\routines_LEVELS.c", 3134; }
14986                        	
14987                        		.dbg	line,	"include\routines_LEVELS.c", 3135; }
14988    01:DBFF             	.LL746:
14989                        	
14990                        		.dbg	line,	"include\routines_LEVELS.c", 3137; spr_set(weapon_id);
14991    01:DBFF             	.LL745:
14992                        		__ld.umq	_weapon_id
         01:DBFF  AD 29 23   			lda	_weapon_id
14993                        		__call		_spr_set.1
         01:DC02  20 F1 E7   			call	_spr_set.1
14994                        	
14995                        		.dbg	line,	"include\routines_LEVELS.c", 3138; spr_y(player_pos_y+8);
14996                        		__ld.wm		_player_pos_y
         01:DC05  AD 03 25   			lda.l	_player_pos_y
         01:DC08  AC 04 25   			ldy.h	_player_pos_y
14997                        		__add.wi	8
         01:DC0B  18         			clc
         01:DC0C  69 08      			adc.l	#8
         01:DC0E  90 01      			bcc	!+
         01:DC10  C8         			iny
         01:DC11             	!:
14998                        		__call		_spr_y.1
         01:DC11  20 2D E8   			call	_spr_y.1
14999                        	
15000                        		.dbg	line,	"include\routines_LEVELS.c", 3139; }
15001                        	
15002                        		.dbg	line,	"include\routines_LEVELS.c", 3141; }
15003    01:DC14             	.LL736:
15004    01:DC14             	.LL735:
15005    01:DC14             	.LL717:
15006    01:DC14             	.LL699:
15007    01:DC14             	.LL694:
15008    01:DC14             	.LL674:
15009    01:DC14             	.LL669:
15010    01:DC14             	.LL628:
15011    01:DC14             	.LL586:
15012    01:DC14             	.LL555:
15013    01:DC14             	.LL512:
15014    01:DC14             	.LL507:
15015                        		__return	0
         01:DC14  4C EF FF   			jmp	leave_proc
15016                        		.dbg	clear
15017                        		.endp
15018               2305     		.bss
15019    F8:2305             			ds	8
15020    F8:230D             	__update_PLAYER_end:
15021               E31D     		.code
15022                        		.pceas
15023                        	
15024                        		.dbg	line,	"include\routines_LEVELS.c", 3144; void update_WEAPON()
15025                        		.dbg	line,	"include\routines_LEVELS.c", 3145; {
15026                        	;***********************
15027                        	;***********************
15028                        	
15029                        		.hucc
15030    02:C000             		.proc		_update_WEAPON
15031                        		__enter		_update_WEAPON
15032                        	
15033                        		.dbg	line,	"include\routines_LEVELS.c", 3146; if(player_state == STATE_ATTACK)
15034                        		__ld.umq	_player_state
         02:C000  AD 1B 23   			lda	_player_state
15035                        		__equ_b.uiq	2
         02:C003  C9 02      			cmp	#2
         02:C005  F0 01      			beq	!+
         02:C007  18         			clc
         02:C008             	!:
15036                        		__bfalse	.LL749
         02:C008  B0 03 4C 02			bcc	.LL749
         02:C00C  C3          
15037                        	
15038                        		.dbg	line,	"include\routines_LEVELS.c", 3147; {
15039                        	
15040                        		.dbg	line,	"include\routines_LEVELS.c", 3148; char i;
15041                        	
15042                        		.dbg	line,	"include\routines_LEVELS.c", 3149; 
15043                        	
15044                        		.dbg	line,	"include\routines_LEVELS.c", 3150; recenter_CAMERA();
15045                        		__call		_recenter_CAMERA
         02:C00D  20 1D FF   			call	_recenter_CAMERA
15046                        	
15047                        		.dbg	line,	"include\routines_LEVELS.c", 3152; // 
15048                        	
15049                        		.dbg	line,	"include\routines_LEVELS.c", 3153; if(player_counter_attack < 6)
15050                        		__ld.umq	_player_counter_attack
         02:C010  AD 21 23   			lda	_player_counter_attack
15051                        		__ult_b.uiq	6
         02:C013  C9 06      			cmp	#6		; Subtract integer from A.
         02:C015  6A         			ror	a		; CC if A < integer.
         02:C016  49 80      			eor	#$80
         02:C018  2A         			rol	a
15052                        		__bfalse	.LL750
         02:C019  90 5B      			bcc	.LL750
15053                        	
15054                        		.dbg	line,	"include\routines_LEVELS.c", 3154; {
15055                        	
15056                        		.dbg	line,	"include\routines_LEVELS.c", 3155; spr_set(player_id);
15057                        		__ld.umq	_player_id
         02:C01B  AD 1A 23   			lda	_player_id
15058                        		__call		_spr_set.1
         02:C01E  20 F1 E7   			call	_spr_set.1
15059                        	
15060                        		.dbg	line,	"include\routines_LEVELS.c", 3156; spr_pattern(PLAYER_ATTACK_1_VRAM_ADR);
15061                        		__ld.wi		10496
         02:C021  62         			cla
         02:C022  A0 29      			ldy.h	#10496
15062                        		__call		_spr_pattern.1
         02:C024  20 3A E8   			call	_spr_pattern.1
15063                        	
15064                        		.dbg	line,	"include\routines_LEVELS.c", 3158; spr_set(weapon_id);
15065                        		__ld.umq	_weapon_id
         02:C027  AD 29 23   			lda	_weapon_id
15066                        		__call		_spr_set.1
         02:C02A  20 F1 E7   			call	_spr_set.1
15067                        	
15068                        		.dbg	line,	"include\routines_LEVELS.c", 3159; spr_pattern(WEAPON_ATTACK_1_VRAM_ADRESS);
15069                        		__ld.wi		32000
         02:C02D  62         			cla
         02:C02E  A0 7D      			ldy.h	#32000
15070                        		__call		_spr_pattern.1
         02:C030  20 3A E8   			call	_spr_pattern.1
15071                        	
15072                        		.dbg	line,	"include\routines_LEVELS.c", 3161; if(player_axis == AXIS_RIGHT)
15073                        		__not.um	_player_axis
         02:C033  AD 1C 23   			lda	_player_axis
         02:C036  18         			clc
         02:C037  D0 01      			bne	!+
         02:C039  38         			sec
         02:C03A             	!:
15074                        		__bfalse	.LL751
         02:C03A  90 11      			bcc	.LL751
15075                        	
15076                        		.dbg	line,	"include\routines_LEVELS.c", 3162; {
15077                        	
15078                        		.dbg	line,	"include\routines_LEVELS.c", 3163; spr_x(player_pos_x-13);
15079                        		__ld.wm		_player_pos_x
         02:C03C  AD 01 25   			lda.l	_player_pos_x
         02:C03F  AC 02 25   			ldy.h	_player_pos_x
15080                        		__sub.wi	13
         02:C042  38         			sec
         02:C043  E9 0D      			sbc.l	#13
         02:C045  B0 01      			bcs	!+
         02:C047  88         			dey
         02:C048             	!:
15081                        		__call		_spr_x.1
         02:C048  20 1E E8   			call	_spr_x.1
15082                        	
15083                        		.dbg	line,	"include\routines_LEVELS.c", 3164; }
15084                        	
15085                        		.dbg	line,	"include\routines_LEVELS.c", 3166; else
15086                        		__bra		.LL752
         02:C04B  80 0F      			bra	.LL752
15087    02:C04D             	.LL751:
15088                        	
15089                        		.dbg	line,	"include\routines_LEVELS.c", 3167; {
15090                        	
15091                        		.dbg	line,	"include\routines_LEVELS.c", 3168; spr_x(player_pos_x+29);
15092                        		__ld.wm		_player_pos_x
         02:C04D  AD 01 25   			lda.l	_player_pos_x
         02:C050  AC 02 25   			ldy.h	_player_pos_x
15093                        		__add.wi	29
         02:C053  18         			clc
         02:C054  69 1D      			adc.l	#29
         02:C056  90 01      			bcc	!+
         02:C058  C8         			iny
         02:C059             	!:
15094                        		__call		_spr_x.1
         02:C059  20 1E E8   			call	_spr_x.1
15095                        	
15096                        		.dbg	line,	"include\routines_LEVELS.c", 3169; }
15097    02:C05C             	.LL752:
15098                        	
15099                        		.dbg	line,	"include\routines_LEVELS.c", 3171; weapon_y_offset = -8;
15100                        		__st.umiq	-8, _weapon_y_offset
         02:C05C  A9 F8      			lda.l	#-8
         02:C05E  8D 99 26   			sta	_weapon_y_offset
15101                        	
15102                        		.dbg	line,	"include\routines_LEVELS.c", 3172; spr_y(player_pos_y + weapon_y_offset);
15103                        		__ld.bm		_weapon_y_offset
         02:C061  AD 99 26   			lda	_weapon_y_offset
         02:C064  C2         			cly
         02:C065  10 01      			bpl	!+
         02:C067  88         			dey
         02:C068             	!:
15104                        		__add.wm	_player_pos_y
         02:C068  18         			clc
         02:C069  6D 03 25   			adc.l	_player_pos_y
         02:C06C  42         			say
         02:C06D  6D 04 25   			adc.h	_player_pos_y
         02:C070  42         			say
15105                        		__call		_spr_y.1
         02:C071  20 2D E8   			call	_spr_y.1
15106                        	
15107                        		.dbg	line,	"include\routines_LEVELS.c", 3173; }
15108                        	
15109                        		.dbg	line,	"include\routines_LEVELS.c", 3175; else if(player_counter_attack == 23)
15110                        		__bra		.LL753
         02:C074  80 74      			bra	.LL753
15111    02:C076             	.LL750:
15112                        		__ld.umq	_player_counter_attack
         02:C076  AD 21 23   			lda	_player_counter_attack
15113                        		__equ_b.uiq	23
         02:C079  C9 17      			cmp	#23
         02:C07B  F0 01      			beq	!+
         02:C07D  18         			clc
         02:C07E             	!:
15114                        		__bfalse	.LL754
         02:C07E  90 6A      			bcc	.LL754
15115                        	
15116                        		.dbg	line,	"include\routines_LEVELS.c", 3176; {
15117                        	
15118                        		.dbg	line,	"include\routines_LEVELS.c", 3177; spr_set(chain_id);
15119                        		__ld.umq	_chain_id
         02:C080  AD 28 23   			lda	_chain_id
15120                        		__call		_spr_set.1
         02:C083  20 F1 E7   			call	_spr_set.1
15121                        	
15122                        		.dbg	line,	"include\routines_LEVELS.c", 3178; spr_hide();
15123                        		__call		_spr_hide
         02:C086  20 0C E8   			call	_spr_hide
15124                        	
15125                        		.dbg	line,	"include\routines_LEVELS.c", 3180; spr_set(chain_id+1);
15126                        		__ld.um		_chain_id
         02:C089  AD 28 23   			lda	_chain_id
         02:C08C  C2         			cly
15127                        		__add.wi	1
         02:C08D  1A         			inc	a
         02:C08E  D0 01      			bne	!+
         02:C090  C8         			iny
         02:C091             	!:
15128                        		__call		_spr_set.1
         02:C091  20 F1 E7   			call	_spr_set.1
15129                        	
15130                        		.dbg	line,	"include\routines_LEVELS.c", 3181; spr_hide();
15131                        		__call		_spr_hide
         02:C094  20 0C E8   			call	_spr_hide
15132                        	
15133                        		.dbg	line,	"include\routines_LEVELS.c", 3183; spr_set(chain_id+2);
15134                        		__ld.um		_chain_id
         02:C097  AD 28 23   			lda	_chain_id
         02:C09A  C2         			cly
15135                        		__add.wi	2
         02:C09B  18         			clc
         02:C09C  69 02      			adc.l	#2
         02:C09E  90 01      			bcc	!+
         02:C0A0  C8         			iny
         02:C0A1             	!:
15136                        		__call		_spr_set.1
         02:C0A1  20 F1 E7   			call	_spr_set.1
15137                        	
15138                        		.dbg	line,	"include\routines_LEVELS.c", 3184; spr_hide();
15139                        		__call		_spr_hide
         02:C0A4  20 0C E8   			call	_spr_hide
15140                        	
15141                        		.dbg	line,	"include\routines_LEVELS.c", 3186; spr_set(player_id);
15142                        		__ld.umq	_player_id
         02:C0A7  AD 1A 23   			lda	_player_id
15143                        		__call		_spr_set.1
         02:C0AA  20 F1 E7   			call	_spr_set.1
15144                        	
15145                        		.dbg	line,	"include\routines_LEVELS.c", 3187; spr_pattern(PLAYER_IDLE_VRAM_ADR);
15146                        		__ld.wi		6144
         02:C0AD  62         			cla
         02:C0AE  A0 18      			ldy.h	#6144
15147                        		__call		_spr_pattern.1
         02:C0B0  20 3A E8   			call	_spr_pattern.1
15148                        	
15149                        		.dbg	line,	"include\routines_LEVELS.c", 3189; spr_set(weapon_id);
15150                        		__ld.umq	_weapon_id
         02:C0B3  AD 29 23   			lda	_weapon_id
15151                        		__call		_spr_set.1
         02:C0B6  20 F1 E7   			call	_spr_set.1
15152                        	
15153                        		.dbg	line,	"include\routines_LEVELS.c", 3190; spr_pattern(WEAPON_IDLE_VRAM_ADRESS);
15154                        		__ld.wi		31808
         02:C0B9  A9 40      			lda.l	#31808
         02:C0BB  A0 7C      			ldy.h	#31808
15155                        		__call		_spr_pattern.1
         02:C0BD  20 3A E8   			call	_spr_pattern.1
15156                        	
15157                        		.dbg	line,	"include\routines_LEVELS.c", 3191; spr_x(player_pos_x+8);
15158                        		__ld.wm		_player_pos_x
         02:C0C0  AD 01 25   			lda.l	_player_pos_x
         02:C0C3  AC 02 25   			ldy.h	_player_pos_x
15159                        		__add.wi	8
         02:C0C6  18         			clc
         02:C0C7  69 08      			adc.l	#8
         02:C0C9  90 01      			bcc	!+
         02:C0CB  C8         			iny
         02:C0CC             	!:
15160                        		__call		_spr_x.1
         02:C0CC  20 1E E8   			call	_spr_x.1
15161                        	
15162                        		.dbg	line,	"include\routines_LEVELS.c", 3192; spr_y(player_pos_y+16);
15163                        		__ld.wm		_player_pos_y
         02:C0CF  AD 03 25   			lda.l	_player_pos_y
         02:C0D2  AC 04 25   			ldy.h	_player_pos_y
15164                        		__add.wi	16
         02:C0D5  18         			clc
         02:C0D6  69 10      			adc.l	#16
         02:C0D8  90 01      			bcc	!+
         02:C0DA  C8         			iny
         02:C0DB             	!:
15165                        		__call		_spr_y.1
         02:C0DB  20 2D E8   			call	_spr_y.1
15166                        	
15167                        		.dbg	line,	"include\routines_LEVELS.c", 3194; player_attack = FALSE;
15168                        		__st.umiq	0, _player_attack
         02:C0DE  9C 23 23   			stz	_player_attack
15169                        	
15170                        		.dbg	line,	"include\routines_LEVELS.c", 3195; jump_ladder = FALSE;
15171                        		__st.umiq	0, _jump_ladder
         02:C0E1  9C 24 23   			stz	_jump_ladder
15172                        	
15173                        		.dbg	line,	"include\routines_LEVELS.c", 3197; set_PLAYER_IDLE();
15174                        		__call		_set_PLAYER_IDLE
         02:C0E4  20 27 FF   			call	_set_PLAYER_IDLE
15175                        	
15176                        		.dbg	line,	"include\routines_LEVELS.c", 3198; return;
15177                        		__bra		.LL748
         02:C0E7  4C E5 CF   			bra	.LL748
15178                        	
15179                        		.dbg	line,	"include\routines_LEVELS.c", 3199; }
15180                        	
15181                        		.dbg	line,	"include\routines_LEVELS.c", 3201; // CHAIN ANIMATION //
15182                        	
15183                        		.dbg	line,	"include\routines_LEVELS.c", 3202; if(player_counter_attack > 5)
15184    02:C0EA             	.LL754:
15185    02:C0EA             	.LL753:
15186                        		__ld.umq	_player_counter_attack
         02:C0EA  AD 21 23   			lda	_player_counter_attack
15187                        		__ugt_b.uiq	5
         02:C0ED  18         			clc			; Subtract integer+1 from A.
         02:C0EE  E9 05      			sbc	#5		; CS if A > integer.
15188                        		__bfalse	.LL755
         02:C0F0  B0 03 4C FC			bcc	.LL755
         02:C0F4  C2          
15189                        	
15190                        		.dbg	line,	"include\routines_LEVELS.c", 3203; {
15191                        	
15192                        		.dbg	line,	"include\routines_LEVELS.c", 3204; spr_set(player_id);
15193                        		__ld.umq	_player_id
         02:C0F5  AD 1A 23   			lda	_player_id
15194                        		__call		_spr_set.1
         02:C0F8  20 F1 E7   			call	_spr_set.1
15195                        	
15196                        		.dbg	line,	"include\routines_LEVELS.c", 3205; spr_pattern(PLAYER_ATTACK_2_VRAM_ADR);
15197                        		__ld.wi		10752
         02:C0FB  62         			cla
         02:C0FC  A0 2A      			ldy.h	#10752
15198                        		__call		_spr_pattern.1
         02:C0FE  20 3A E8   			call	_spr_pattern.1
15199                        	
15200                        		.dbg	line,	"include\routines_LEVELS.c", 3207; if(player_counter_attack == 6)
15201                        		__ld.umq	_player_counter_attack
         02:C101  AD 21 23   			lda	_player_counter_attack
15202                        		__equ_b.uiq	6
         02:C104  C9 06      			cmp	#6
         02:C106  F0 01      			beq	!+
         02:C108  18         			clc
         02:C109             	!:
15203                        		__bfalse	.LL756
         02:C109  90 3E      			bcc	.LL756
15204                        	
15205                        		.dbg	line,	"include\routines_LEVELS.c", 3208; {
15206                        	
15207                        		.dbg	line,	"include\routines_LEVELS.c", 3209; //spr_set(player_id);
15208                        	
15209                        		.dbg	line,	"include\routines_LEVELS.c", 3210; //spr_pattern(PLAYER_ATTACK_2_VRAM_ADR);
15210                        	
15211                        		.dbg	line,	"include\routines_LEVELS.c", 3212; spr_set(weapon_id);
15212                        		__ld.umq	_weapon_id
         02:C10B  AD 29 23   			lda	_weapon_id
15213                        		__call		_spr_set.1
         02:C10E  20 F1 E7   			call	_spr_set.1
15214                        	
15215                        		.dbg	line,	"include\routines_LEVELS.c", 3213; spr_pattern(WEAPON_ATTACK_2_VRAM_ADRESS);
15216                        		__ld.wi		32064
         02:C111  A9 40      			lda.l	#32064
         02:C113  A0 7D      			ldy.h	#32064
15217                        		__call		_spr_pattern.1
         02:C115  20 3A E8   			call	_spr_pattern.1
15218                        	
15219                        		.dbg	line,	"include\routines_LEVELS.c", 3215; if(player_axis == AXIS_RIGHT)
15220                        		__not.um	_player_axis
         02:C118  AD 1C 23   			lda	_player_axis
         02:C11B  18         			clc
         02:C11C  D0 01      			bne	!+
         02:C11E  38         			sec
         02:C11F             	!:
15221                        		__bfalse	.LL757
         02:C11F  90 11      			bcc	.LL757
15222                        	
15223                        		.dbg	line,	"include\routines_LEVELS.c", 3216; {
15224                        	
15225                        		.dbg	line,	"include\routines_LEVELS.c", 3217; spr_x(player_pos_x+32);
15226                        		__ld.wm		_player_pos_x
         02:C121  AD 01 25   			lda.l	_player_pos_x
         02:C124  AC 02 25   			ldy.h	_player_pos_x
15227                        		__add.wi	32
         02:C127  18         			clc
         02:C128  69 20      			adc.l	#32
         02:C12A  90 01      			bcc	!+
         02:C12C  C8         			iny
         02:C12D             	!:
15228                        		__call		_spr_x.1
         02:C12D  20 1E E8   			call	_spr_x.1
15229                        	
15230                        		.dbg	line,	"include\routines_LEVELS.c", 3218; 
15231                        	
15232                        		.dbg	line,	"include\routines_LEVELS.c", 3219; }
15233                        	
15234                        		.dbg	line,	"include\routines_LEVELS.c", 3220; 
15235                        	
15236                        		.dbg	line,	"include\routines_LEVELS.c", 3221; else
15237                        		__bra		.LL758
         02:C130  80 0F      			bra	.LL758
15238    02:C132             	.LL757:
15239                        	
15240                        		.dbg	line,	"include\routines_LEVELS.c", 3222; {
15241                        	
15242                        		.dbg	line,	"include\routines_LEVELS.c", 3223; spr_x(player_pos_x-16);
15243                        		__ld.wm		_player_pos_x
         02:C132  AD 01 25   			lda.l	_player_pos_x
         02:C135  AC 02 25   			ldy.h	_player_pos_x
15244                        		__sub.wi	16
         02:C138  38         			sec
         02:C139  E9 10      			sbc.l	#16
         02:C13B  B0 01      			bcs	!+
         02:C13D  88         			dey
         02:C13E             	!:
15245                        		__call		_spr_x.1
         02:C13E  20 1E E8   			call	_spr_x.1
15246                        	
15247                        		.dbg	line,	"include\routines_LEVELS.c", 3224; }
15248    02:C141             	.LL758:
15249                        	
15250                        		.dbg	line,	"include\routines_LEVELS.c", 3226; weapon_y_offset = 6;
15251                        		__st.umiq	6, _weapon_y_offset
         02:C141  A9 06      			lda.l	#6
         02:C143  8D 99 26   			sta	_weapon_y_offset
15252                        	
15253                        		.dbg	line,	"include\routines_LEVELS.c", 3227; //spr_y(player_pos_y + weapon_y_offset);
15254                        	
15255                        		.dbg	line,	"include\routines_LEVELS.c", 3229; //collision_WEAPON_OBJECTS();
15256                        	
15257                        		.dbg	line,	"include\routines_LEVELS.c", 3230; }
15258                        	
15259                        		.dbg	line,	"include\routines_LEVELS.c", 3232; else if(player_counter_attack == 7)
15260                        		__bra		.LL759
         02:C146  4C 94 C2   			bra	.LL759
15261    02:C149             	.LL756:
15262                        		__ld.umq	_player_counter_attack
         02:C149  AD 21 23   			lda	_player_counter_attack
15263                        		__equ_b.uiq	7
         02:C14C  C9 07      			cmp	#7
         02:C14E  F0 01      			beq	!+
         02:C150  18         			clc
         02:C151             	!:
15264                        		__bfalse	.LL760
         02:C151  90 62      			bcc	.LL760
15265                        	
15266                        		.dbg	line,	"include\routines_LEVELS.c", 3233; {
15267                        	
15268                        		.dbg	line,	"include\routines_LEVELS.c", 3234; list_chain_active[0] = TRUE;
15269                        		__st.umiq	1, _list_chain_active
         02:C153  A9 01      			lda.l	#1
         02:C155  8D 2C 23   			sta	_list_chain_active
15270                        	
15271                        		.dbg	line,	"include\routines_LEVELS.c", 3235; spr_set(chain_id);
15272                        		__ld.umq	_chain_id
         02:C158  AD 28 23   			lda	_chain_id
15273                        		__call		_spr_set.1
         02:C15B  20 F1 E7   			call	_spr_set.1
15274                        	
15275                        		.dbg	line,	"include\routines_LEVELS.c", 3237; if(player_axis == AXIS_RIGHT)
15276                        		__not.um	_player_axis
         02:C15E  AD 1C 23   			lda	_player_axis
         02:C161  18         			clc
         02:C162  D0 01      			bne	!+
         02:C164  38         			sec
         02:C165             	!:
15277                        		__bfalse	.LL761
         02:C165  90 27      			bcc	.LL761
15278                        	
15279                        		.dbg	line,	"include\routines_LEVELS.c", 3238; {
15280                        	
15281                        		.dbg	line,	"include\routines_LEVELS.c", 3239; spr_x(player_pos_x+32);
15282                        		__ld.wm		_player_pos_x
         02:C167  AD 01 25   			lda.l	_player_pos_x
         02:C16A  AC 02 25   			ldy.h	_player_pos_x
15283                        		__add.wi	32
         02:C16D  18         			clc
         02:C16E  69 20      			adc.l	#32
         02:C170  90 01      			bcc	!+
         02:C172  C8         			iny
         02:C173             	!:
15284                        		__call		_spr_x.1
         02:C173  20 1E E8   			call	_spr_x.1
15285                        	
15286                        		.dbg	line,	"include\routines_LEVELS.c", 3241; spr_set(weapon_id);
15287                        		__ld.umq	_weapon_id
         02:C176  AD 29 23   			lda	_weapon_id
15288                        		__call		_spr_set.1
         02:C179  20 F1 E7   			call	_spr_set.1
15289                        	
15290                        		.dbg	line,	"include\routines_LEVELS.c", 3242; spr_x(player_pos_x+48);
15291                        		__ld.wm		_player_pos_x
         02:C17C  AD 01 25   			lda.l	_player_pos_x
         02:C17F  AC 02 25   			ldy.h	_player_pos_x
15292                        		__add.wi	48
         02:C182  18         			clc
         02:C183  69 30      			adc.l	#48
         02:C185  90 01      			bcc	!+
         02:C187  C8         			iny
         02:C188             	!:
15293                        		__call		_spr_x.1
         02:C188  20 1E E8   			call	_spr_x.1
15294                        	
15295                        		.dbg	line,	"include\routines_LEVELS.c", 3243; }
15296                        	
15297                        		.dbg	line,	"include\routines_LEVELS.c", 3244; 
15298                        	
15299                        		.dbg	line,	"include\routines_LEVELS.c", 3245; else
15300                        		__bra		.LL762
         02:C18B  4C 94 C2   			bra	.LL762
15301    02:C18E             	.LL761:
15302                        	
15303                        		.dbg	line,	"include\routines_LEVELS.c", 3246; {
15304                        	
15305                        		.dbg	line,	"include\routines_LEVELS.c", 3247; spr_x(player_pos_x-16);
15306                        		__ld.wm		_player_pos_x
         02:C18E  AD 01 25   			lda.l	_player_pos_x
         02:C191  AC 02 25   			ldy.h	_player_pos_x
15307                        		__sub.wi	16
         02:C194  38         			sec
         02:C195  E9 10      			sbc.l	#16
         02:C197  B0 01      			bcs	!+
         02:C199  88         			dey
         02:C19A             	!:
15308                        		__call		_spr_x.1
         02:C19A  20 1E E8   			call	_spr_x.1
15309                        	
15310                        		.dbg	line,	"include\routines_LEVELS.c", 3249; spr_set(weapon_id);
15311                        		__ld.umq	_weapon_id
         02:C19D  AD 29 23   			lda	_weapon_id
15312                        		__call		_spr_set.1
         02:C1A0  20 F1 E7   			call	_spr_set.1
15313                        	
15314                        		.dbg	line,	"include\routines_LEVELS.c", 3250; spr_x(player_pos_x-32);
15315                        		__ld.wm		_player_pos_x
         02:C1A3  AD 01 25   			lda.l	_player_pos_x
         02:C1A6  AC 02 25   			ldy.h	_player_pos_x
15316                        		__sub.wi	32
         02:C1A9  38         			sec
         02:C1AA  E9 20      			sbc.l	#32
         02:C1AC  B0 01      			bcs	!+
         02:C1AE  88         			dey
         02:C1AF             	!:
15317                        		__call		_spr_x.1
         02:C1AF  20 1E E8   			call	_spr_x.1
15318                        	
15319                        		.dbg	line,	"include\routines_LEVELS.c", 3251; }
15320    02:C1B2             	.LL762	.alias		.LL763
15321                        	
15322                        		.dbg	line,	"include\routines_LEVELS.c", 3253; //spr_y(player_pos_y + weapon_y_offset);
15323                        	
15324                        		.dbg	line,	"include\routines_LEVELS.c", 3255; //collision_WEAPON_OBJECTS();
15325                        	
15326                        		.dbg	line,	"include\routines_LEVELS.c", 3256; }
15327                        	
15328                        		.dbg	line,	"include\routines_LEVELS.c", 3258; else if(player_counter_attack == 8)
15329                        		__bra		.LL763
         02:C1B2  4C 94 C2   			bra	.LL763
15330    02:C1B5             	.LL760:
15331                        		__ld.umq	_player_counter_attack
         02:C1B5  AD 21 23   			lda	_player_counter_attack
15332                        		__equ_b.uiq	8
         02:C1B8  C9 08      			cmp	#8
         02:C1BA  F0 01      			beq	!+
         02:C1BC  18         			clc
         02:C1BD             	!:
15333                        		__bfalse	.LL764
         02:C1BD  90 66      			bcc	.LL764
15334                        	
15335                        		.dbg	line,	"include\routines_LEVELS.c", 3259; {
15336                        	
15337                        		.dbg	line,	"include\routines_LEVELS.c", 3260; list_chain_active[1] = TRUE;
15338                        		__st.umiq	1, _list_chain_active + 1
         02:C1BF  A9 01      			lda.l	#1
         02:C1C1  8D 2D 23   			sta	_list_chain_active + 1
15339                        	
15340                        		.dbg	line,	"include\routines_LEVELS.c", 3261; spr_set(chain_id+1);
15341                        		__ld.um		_chain_id
         02:C1C4  AD 28 23   			lda	_chain_id
         02:C1C7  C2         			cly
15342                        		__add.wi	1
         02:C1C8  1A         			inc	a
         02:C1C9  D0 01      			bne	!+
         02:C1CB  C8         			iny
         02:C1CC             	!:
15343                        		__call		_spr_set.1
         02:C1CC  20 F1 E7   			call	_spr_set.1
15344                        	
15345                        		.dbg	line,	"include\routines_LEVELS.c", 3263; if(player_axis == AXIS_RIGHT)
15346                        		__not.um	_player_axis
         02:C1CF  AD 1C 23   			lda	_player_axis
         02:C1D2  18         			clc
         02:C1D3  D0 01      			bne	!+
         02:C1D5  38         			sec
         02:C1D6             	!:
15347                        		__bfalse	.LL765
         02:C1D6  90 27      			bcc	.LL765
15348                        	
15349                        		.dbg	line,	"include\routines_LEVELS.c", 3264; {
15350                        	
15351                        		.dbg	line,	"include\routines_LEVELS.c", 3265; spr_x(player_pos_x+48);
15352                        		__ld.wm		_player_pos_x
         02:C1D8  AD 01 25   			lda.l	_player_pos_x
         02:C1DB  AC 02 25   			ldy.h	_player_pos_x
15353                        		__add.wi	48
         02:C1DE  18         			clc
         02:C1DF  69 30      			adc.l	#48
         02:C1E1  90 01      			bcc	!+
         02:C1E3  C8         			iny
         02:C1E4             	!:
15354                        		__call		_spr_x.1
         02:C1E4  20 1E E8   			call	_spr_x.1
15355                        	
15356                        		.dbg	line,	"include\routines_LEVELS.c", 3267; spr_set(weapon_id);
15357                        		__ld.umq	_weapon_id
         02:C1E7  AD 29 23   			lda	_weapon_id
15358                        		__call		_spr_set.1
         02:C1EA  20 F1 E7   			call	_spr_set.1
15359                        	
15360                        		.dbg	line,	"include\routines_LEVELS.c", 3268; spr_x(player_pos_x+64);
15361                        		__ld.wm		_player_pos_x
         02:C1ED  AD 01 25   			lda.l	_player_pos_x
         02:C1F0  AC 02 25   			ldy.h	_player_pos_x
15362                        		__add.wi	64
         02:C1F3  18         			clc
         02:C1F4  69 40      			adc.l	#64
         02:C1F6  90 01      			bcc	!+
         02:C1F8  C8         			iny
         02:C1F9             	!:
15363                        		__call		_spr_x.1
         02:C1F9  20 1E E8   			call	_spr_x.1
15364                        	
15365                        		.dbg	line,	"include\routines_LEVELS.c", 3269; }
15366                        	
15367                        		.dbg	line,	"include\routines_LEVELS.c", 3270; 
15368                        	
15369                        		.dbg	line,	"include\routines_LEVELS.c", 3271; else
15370                        		__bra		.LL766
         02:C1FC  4C 94 C2   			bra	.LL766
15371    02:C1FF             	.LL765:
15372                        	
15373                        		.dbg	line,	"include\routines_LEVELS.c", 3272; {
15374                        	
15375                        		.dbg	line,	"include\routines_LEVELS.c", 3273; spr_x(player_pos_x-32);
15376                        		__ld.wm		_player_pos_x
         02:C1FF  AD 01 25   			lda.l	_player_pos_x
         02:C202  AC 02 25   			ldy.h	_player_pos_x
15377                        		__sub.wi	32
         02:C205  38         			sec
         02:C206  E9 20      			sbc.l	#32
         02:C208  B0 01      			bcs	!+
         02:C20A  88         			dey
         02:C20B             	!:
15378                        		__call		_spr_x.1
         02:C20B  20 1E E8   			call	_spr_x.1
15379                        	
15380                        		.dbg	line,	"include\routines_LEVELS.c", 3275; spr_set(weapon_id);
15381                        		__ld.umq	_weapon_id
         02:C20E  AD 29 23   			lda	_weapon_id
15382                        		__call		_spr_set.1
         02:C211  20 F1 E7   			call	_spr_set.1
15383                        	
15384                        		.dbg	line,	"include\routines_LEVELS.c", 3276; spr_x(player_pos_x-48);
15385                        		__ld.wm		_player_pos_x
         02:C214  AD 01 25   			lda.l	_player_pos_x
         02:C217  AC 02 25   			ldy.h	_player_pos_x
15386                        		__sub.wi	48
         02:C21A  38         			sec
         02:C21B  E9 30      			sbc.l	#48
         02:C21D  B0 01      			bcs	!+
         02:C21F  88         			dey
         02:C220             	!:
15387                        		__call		_spr_x.1
         02:C220  20 1E E8   			call	_spr_x.1
15388                        	
15389                        		.dbg	line,	"include\routines_LEVELS.c", 3277; }
15390    02:C223             	.LL766	.alias		.LL767
15391                        	
15392                        		.dbg	line,	"include\routines_LEVELS.c", 3279; //spr_y(player_pos_y + weapon_y_offset);
15393                        	
15394                        		.dbg	line,	"include\routines_LEVELS.c", 3281; //collision_WEAPON_OBJECTS();
15395                        	
15396                        		.dbg	line,	"include\routines_LEVELS.c", 3282; }
15397                        	
15398                        		.dbg	line,	"include\routines_LEVELS.c", 3284; else if(player_counter_attack == 9)
15399                        		__bra		.LL767
         02:C223  80 6F      			bra	.LL767
15400    02:C225             	.LL764:
15401                        		__ld.umq	_player_counter_attack
         02:C225  AD 21 23   			lda	_player_counter_attack
15402                        		__equ_b.uiq	9
         02:C228  C9 09      			cmp	#9
         02:C22A  F0 01      			beq	!+
         02:C22C  18         			clc
         02:C22D             	!:
15403                        		__bfalse	.LL768
         02:C22D  90 65      			bcc	.LL768
15404                        	
15405                        		.dbg	line,	"include\routines_LEVELS.c", 3285; {
15406                        	
15407                        		.dbg	line,	"include\routines_LEVELS.c", 3286; list_chain_active[2] = TRUE;
15408                        		__st.umiq	1, _list_chain_active + 2
         02:C22F  A9 01      			lda.l	#1
         02:C231  8D 2E 23   			sta	_list_chain_active + 2
15409                        	
15410                        		.dbg	line,	"include\routines_LEVELS.c", 3287; spr_set(chain_id+2);
15411                        		__ld.um		_chain_id
         02:C234  AD 28 23   			lda	_chain_id
         02:C237  C2         			cly
15412                        		__add.wi	2
         02:C238  18         			clc
         02:C239  69 02      			adc.l	#2
         02:C23B  90 01      			bcc	!+
         02:C23D  C8         			iny
         02:C23E             	!:
15413                        		__call		_spr_set.1
         02:C23E  20 F1 E7   			call	_spr_set.1
15414                        	
15415                        		.dbg	line,	"include\routines_LEVELS.c", 3289; if(player_axis == AXIS_RIGHT)
15416                        		__not.um	_player_axis
         02:C241  AD 1C 23   			lda	_player_axis
         02:C244  18         			clc
         02:C245  D0 01      			bne	!+
         02:C247  38         			sec
         02:C248             	!:
15417                        		__bfalse	.LL769
         02:C248  90 26      			bcc	.LL769
15418                        	
15419                        		.dbg	line,	"include\routines_LEVELS.c", 3290; {
15420                        	
15421                        		.dbg	line,	"include\routines_LEVELS.c", 3291; spr_x(player_pos_x+64);
15422                        		__ld.wm		_player_pos_x
         02:C24A  AD 01 25   			lda.l	_player_pos_x
         02:C24D  AC 02 25   			ldy.h	_player_pos_x
15423                        		__add.wi	64
         02:C250  18         			clc
         02:C251  69 40      			adc.l	#64
         02:C253  90 01      			bcc	!+
         02:C255  C8         			iny
         02:C256             	!:
15424                        		__call		_spr_x.1
         02:C256  20 1E E8   			call	_spr_x.1
15425                        	
15426                        		.dbg	line,	"include\routines_LEVELS.c", 3293; spr_set(weapon_id);
15427                        		__ld.umq	_weapon_id
         02:C259  AD 29 23   			lda	_weapon_id
15428                        		__call		_spr_set.1
         02:C25C  20 F1 E7   			call	_spr_set.1
15429                        	
15430                        		.dbg	line,	"include\routines_LEVELS.c", 3294; spr_x(player_pos_x+80);
15431                        		__ld.wm		_player_pos_x
         02:C25F  AD 01 25   			lda.l	_player_pos_x
         02:C262  AC 02 25   			ldy.h	_player_pos_x
15432                        		__add.wi	80
         02:C265  18         			clc
         02:C266  69 50      			adc.l	#80
         02:C268  90 01      			bcc	!+
         02:C26A  C8         			iny
         02:C26B             	!:
15433                        		__call		_spr_x.1
         02:C26B  20 1E E8   			call	_spr_x.1
15434                        	
15435                        		.dbg	line,	"include\routines_LEVELS.c", 3295; }
15436                        	
15437                        		.dbg	line,	"include\routines_LEVELS.c", 3296; 
15438                        	
15439                        		.dbg	line,	"include\routines_LEVELS.c", 3297; else
15440                        		__bra		.LL770
         02:C26E  80 24      			bra	.LL770
15441    02:C270             	.LL769:
15442                        	
15443                        		.dbg	line,	"include\routines_LEVELS.c", 3298; {
15444                        	
15445                        		.dbg	line,	"include\routines_LEVELS.c", 3299; spr_x(player_pos_x-48);
15446                        		__ld.wm		_player_pos_x
         02:C270  AD 01 25   			lda.l	_player_pos_x
         02:C273  AC 02 25   			ldy.h	_player_pos_x
15447                        		__sub.wi	48
         02:C276  38         			sec
         02:C277  E9 30      			sbc.l	#48
         02:C279  B0 01      			bcs	!+
         02:C27B  88         			dey
         02:C27C             	!:
15448                        		__call		_spr_x.1
         02:C27C  20 1E E8   			call	_spr_x.1
15449                        	
15450                        		.dbg	line,	"include\routines_LEVELS.c", 3301; spr_set(weapon_id);
15451                        		__ld.umq	_weapon_id
         02:C27F  AD 29 23   			lda	_weapon_id
15452                        		__call		_spr_set.1
         02:C282  20 F1 E7   			call	_spr_set.1
15453                        	
15454                        		.dbg	line,	"include\routines_LEVELS.c", 3302; spr_x(player_pos_x-64);
15455                        		__ld.wm		_player_pos_x
         02:C285  AD 01 25   			lda.l	_player_pos_x
         02:C288  AC 02 25   			ldy.h	_player_pos_x
15456                        		__sub.wi	64
         02:C28B  38         			sec
         02:C28C  E9 40      			sbc.l	#64
         02:C28E  B0 01      			bcs	!+
         02:C290  88         			dey
         02:C291             	!:
15457                        		__call		_spr_x.1
         02:C291  20 1E E8   			call	_spr_x.1
15458                        	
15459                        		.dbg	line,	"include\routines_LEVELS.c", 3303; }
15460    02:C294             	.LL770:
15461                        	
15462                        		.dbg	line,	"include\routines_LEVELS.c", 3305; //spr_y(player_pos_y + weapon_y_offset);
15463                        	
15464                        		.dbg	line,	"include\routines_LEVELS.c", 3307; //collision_WEAPON_OBJECTS();
15465                        	
15466                        		.dbg	line,	"include\routines_LEVELS.c", 3308; }
15467                        	
15468                        		.dbg	line,	"include\routines_LEVELS.c", 3310; spr_set(weapon_id);
15469    02:C294             	.LL768:
15470    02:C294             	.LL767:
15471    02:C294             	.LL763:
15472    02:C294             	.LL759:
15473                        		__ld.umq	_weapon_id
         02:C294  AD 29 23   			lda	_weapon_id
15474                        		__call		_spr_set.1
         02:C297  20 F1 E7   			call	_spr_set.1
15475                        	
15476                        		.dbg	line,	"include\routines_LEVELS.c", 3311; spr_y(player_pos_y + weapon_y_offset);
15477                        		__ld.bm		_weapon_y_offset
         02:C29A  AD 99 26   			lda	_weapon_y_offset
         02:C29D  C2         			cly
         02:C29E  10 01      			bpl	!+
         02:C2A0  88         			dey
         02:C2A1             	!:
15478                        		__add.wm	_player_pos_y
         02:C2A1  18         			clc
         02:C2A2  6D 03 25   			adc.l	_player_pos_y
         02:C2A5  42         			say
         02:C2A6  6D 04 25   			adc.h	_player_pos_y
         02:C2A9  42         			say
15479                        		__call		_spr_y.1
         02:C2AA  20 2D E8   			call	_spr_y.1
15480                        	
15481                        		.dbg	line,	"include\routines_LEVELS.c", 3312; 
15482                        	
15483                        		.dbg	line,	"include\routines_LEVELS.c", 3313; collision_WEAPON_OBJECTS();
15484                        		__call		_collision_WEAPON_OBJECTS
         02:C2AD  20 09 FF   			call	_collision_WEAPON_OBJECTS
15485                        	
15486                        		.dbg	line,	"include\routines_LEVELS.c", 3315; // SET CHAIN Y POSITION //
15487                        	
15488                        		.dbg	line,	"include\routines_LEVELS.c", 3316; for(i=0 ; i<3 ; i++)
15489                        		__st.umiq	0, __update_WEAPON_end - 1  /* i */
         02:C2B0  9C 10 23   			stz	__update_WEAPON_end - 1
15490    02:C2B3             	.LL771:
15491                        		__ld.umq	__update_WEAPON_end - 1  /* i */
         02:C2B3  AD 10 23   			lda	__update_WEAPON_end - 1
15492                        		__ult_b.uiq	3
         02:C2B6  C9 03      			cmp	#3		; Subtract integer from A.
         02:C2B8  6A         			ror	a		; CC if A < integer.
         02:C2B9  49 80      			eor	#$80
         02:C2BB  2A         			rol	a
15493                        		__btrue		.LL773
         02:C2BC  B0 07      			bcs	.LL773
15494                        		__bra		.LL774
         02:C2BE  80 3C      			bra	.LL774
15495    02:C2C0             	.LL772:
15496                        		__inc.umq	__update_WEAPON_end - 1  /* i */
         02:C2C0  EE 10 23   			inc	__update_WEAPON_end - 1
15497                        		__bra		.LL771
         02:C2C3  80 EE      			bra	.LL771
15498    02:C2C5             	.LL773:
15499                        	
15500                        		.dbg	line,	"include\routines_LEVELS.c", 3317; {
15501                        	
15502                        		.dbg	line,	"include\routines_LEVELS.c", 3318; spr_set(chain_id+i);
15503                        		__ld.um		_chain_id
         02:C2C5  AD 28 23   			lda	_chain_id
         02:C2C8  C2         			cly
15504                        		__add.um	__update_WEAPON_end - 1  /* i */
         02:C2C9  18         			clc
         02:C2CA  6D 10 23   			adc	__update_WEAPON_end - 1
         02:C2CD  90 01      			bcc	!+
         02:C2CF  C8         			iny
         02:C2D0             	!:
15505                        		__call		_spr_set.1
         02:C2D0  20 F1 E7   			call	_spr_set.1
15506                        	
15507                        		.dbg	line,	"include\routines_LEVELS.c", 3320; spr_y( ((player_pos_y + 16) * list_chain_active[i]) - 16); //list_chain_active[0] = TRUE;
15508                        		__ld.wm		_player_pos_y
         02:C2D3  AD 03 25   			lda.l	_player_pos_y
         02:C2D6  AC 04 25   			ldy.h	_player_pos_y
15509                        		__add.wi	16
         02:C2D9  18         			clc
         02:C2DA  69 10      			adc.l	#16
         02:C2DC  90 01      			bcc	!+
         02:C2DE  C8         			iny
         02:C2DF             	!:
15510                        		__push.wr
         02:C2DF  5A         			phy
         02:C2E0  48         			pha
15511                        		__ldx.umq	__update_WEAPON_end - 1  /* i */
         02:C2E1  AE 10 23   			ldx	__update_WEAPON_end - 1
15512                        		__ld.uax	_list_chain_active
         02:C2E4  BD 2C 23   			lda	_list_chain_active, x
         02:C2E7  C2         			cly
15513                        		__mul.wt
         02:C2E8  85 00      			sta.l	<multiplier
         02:C2EA  84 01      			sty.h	<multiplier
         02:C2EC  68         			pla
         02:C2ED  7A         			ply
         02:C2EE  20 60 E4   			jsr	__mulint
15514                        		__sub.wi	16
         02:C2F1  38         			sec
         02:C2F2  E9 10      			sbc.l	#16
         02:C2F4  B0 01      			bcs	!+
         02:C2F6  88         			dey
         02:C2F7             	!:
15515                        		__call		_spr_y.1
         02:C2F7  20 2D E8   			call	_spr_y.1
15516                        	
15517                        		.dbg	line,	"include\routines_LEVELS.c", 3321; }
15518                        		__bra		.LL772
         02:C2FA  80 C4      			bra	.LL772
15519    02:C2FC             	.LL774:
15520                        	
15521                        		.dbg	line,	"include\routines_LEVELS.c", 3322; }
15522                        	
15523                        		.dbg	line,	"include\routines_LEVELS.c", 3325; player_counter_attack += 1;
15524    02:C2FC             	.LL755:
15525                        		__add_st.umiq	1, _player_counter_attack
         02:C2FC  EE 21 23   			inc	_player_counter_attack
15526                        	
15527                        		.dbg	line,	"include\routines_LEVELS.c", 3326; }
15528                        	
15529                        		.dbg	line,	"include\routines_LEVELS.c", 3329; else if(player_state == STATE_JUMP || player_state == STATE_JUMP_RIGHT || player_state == STATE_JUMP_LEFT || player_state == STATE_JUMP_LADDER)
15530                        		__bra		.LL775
         02:C2FF  4C E5 CF   			bra	.LL775
15531    02:C302             	.LL749:
15532                        		__ld.umq	_player_state
         02:C302  AD 1B 23   			lda	_player_state
15533                        		__equ_b.uiq	4
         02:C305  C9 04      			cmp	#4
         02:C307  F0 01      			beq	!+
         02:C309  18         			clc
         02:C30A             	!:
15534                        		__btrue		.LL777
         02:C30A  B0 08      			bcs	.LL777
15535                        		__ld.umq	_player_state
         02:C30C  AD 1B 23   			lda	_player_state
15536                        		__equ_b.uiq	5
         02:C30F  C9 05      			cmp	#5
         02:C311  F0 01      			beq	!+
         02:C313  18         			clc
         02:C314             	!:
15537    02:C314             	.LL777:
15538                        		__btrue		.LL778
         02:C314  B0 08      			bcs	.LL778
15539                        		__ld.umq	_player_state
         02:C316  AD 1B 23   			lda	_player_state
15540                        		__equ_b.uiq	6
         02:C319  C9 06      			cmp	#6
         02:C31B  F0 01      			beq	!+
         02:C31D  18         			clc
         02:C31E             	!:
15541    02:C31E             	.LL778:
15542                        		__btrue		.LL779
         02:C31E  B0 08      			bcs	.LL779
15543                        		__ld.umq	_player_state
         02:C320  AD 1B 23   			lda	_player_state
15544                        		__equ_b.uiq	13
         02:C323  C9 0D      			cmp	#13
         02:C325  F0 01      			beq	!+
         02:C327  18         			clc
         02:C328             	!:
15545    02:C328             	.LL779:
15546                        		__bfalse	.LL776
         02:C328  B0 03 4C 62			bcc	.LL776
         02:C32C  C6          
15547                        	
15548                        		.dbg	line,	"include\routines_LEVELS.c", 3330; {
15549                        	
15550                        		.dbg	line,	"include\routines_LEVELS.c", 3331; char i;
15551                        	
15552                        		.dbg	line,	"include\routines_LEVELS.c", 3332; 
15553                        	
15554                        		.dbg	line,	"include\routines_LEVELS.c", 3333; if(player_attack == TRUE)
15555                        		__ld.umq	_player_attack
         02:C32D  AD 23 23   			lda	_player_attack
15556                        		__equ_b.uiq	1
         02:C330  C9 01      			cmp	#1
         02:C332  F0 01      			beq	!+
         02:C334  18         			clc
         02:C335             	!:
15557                        		__bfalse	.LL780
         02:C335  B0 03 4C E5			bcc	.LL780
         02:C339  CF          
15558                        	
15559                        		.dbg	line,	"include\routines_LEVELS.c", 3334; {
15560                        	
15561                        		.dbg	line,	"include\routines_LEVELS.c", 3335; if(player_counter_attack < 6)
15562                        		__ld.umq	_player_counter_attack
         02:C33A  AD 21 23   			lda	_player_counter_attack
15563                        		__ult_b.uiq	6
         02:C33D  C9 06      			cmp	#6		; Subtract integer from A.
         02:C33F  6A         			ror	a		; CC if A < integer.
         02:C340  49 80      			eor	#$80
         02:C342  2A         			rol	a
15564                        		__bfalse	.LL781
         02:C343  90 5C      			bcc	.LL781
15565                        	
15566                        		.dbg	line,	"include\routines_LEVELS.c", 3336; {
15567                        	
15568                        		.dbg	line,	"include\routines_LEVELS.c", 3337; spr_set(player_id);
15569                        		__ld.umq	_player_id
         02:C345  AD 1A 23   			lda	_player_id
15570                        		__call		_spr_set.1
         02:C348  20 F1 E7   			call	_spr_set.1
15571                        	
15572                        		.dbg	line,	"include\routines_LEVELS.c", 3338; spr_pattern(PLAYER_JUMP_ATTACK_1_VRAM_ADR);
15573                        		__ld.wi		11520
         02:C34B  62         			cla
         02:C34C  A0 2D      			ldy.h	#11520
15574                        		__call		_spr_pattern.1
         02:C34E  20 3A E8   			call	_spr_pattern.1
15575                        	
15576                        		.dbg	line,	"include\routines_LEVELS.c", 3340; spr_set(weapon_id);
15577                        		__ld.umq	_weapon_id
         02:C351  AD 29 23   			lda	_weapon_id
15578                        		__call		_spr_set.1
         02:C354  20 F1 E7   			call	_spr_set.1
15579                        	
15580                        		.dbg	line,	"include\routines_LEVELS.c", 3341; spr_pattern(WEAPON_ATTACK_1_VRAM_ADRESS);
15581                        		__ld.wi		32000
         02:C357  62         			cla
         02:C358  A0 7D      			ldy.h	#32000
15582                        		__call		_spr_pattern.1
         02:C35A  20 3A E8   			call	_spr_pattern.1
15583                        	
15584                        		.dbg	line,	"include\routines_LEVELS.c", 3343; if(player_axis == AXIS_RIGHT)
15585                        		__not.um	_player_axis
         02:C35D  AD 1C 23   			lda	_player_axis
         02:C360  18         			clc
         02:C361  D0 01      			bne	!+
         02:C363  38         			sec
         02:C364             	!:
15586                        		__bfalse	.LL782
         02:C364  90 11      			bcc	.LL782
15587                        	
15588                        		.dbg	line,	"include\routines_LEVELS.c", 3344; {
15589                        	
15590                        		.dbg	line,	"include\routines_LEVELS.c", 3345; spr_x(player_pos_x-14);
15591                        		__ld.wm		_player_pos_x
         02:C366  AD 01 25   			lda.l	_player_pos_x
         02:C369  AC 02 25   			ldy.h	_player_pos_x
15592                        		__sub.wi	14
         02:C36C  38         			sec
         02:C36D  E9 0E      			sbc.l	#14
         02:C36F  B0 01      			bcs	!+
         02:C371  88         			dey
         02:C372             	!:
15593                        		__call		_spr_x.1
         02:C372  20 1E E8   			call	_spr_x.1
15594                        	
15595                        		.dbg	line,	"include\routines_LEVELS.c", 3346; }
15596                        	
15597                        		.dbg	line,	"include\routines_LEVELS.c", 3348; else
15598                        		__bra		.LL783
         02:C375  80 0F      			bra	.LL783
15599    02:C377             	.LL782:
15600                        	
15601                        		.dbg	line,	"include\routines_LEVELS.c", 3349; {
15602                        	
15603                        		.dbg	line,	"include\routines_LEVELS.c", 3350; spr_x(player_pos_x+29);
15604                        		__ld.wm		_player_pos_x
         02:C377  AD 01 25   			lda.l	_player_pos_x
         02:C37A  AC 02 25   			ldy.h	_player_pos_x
15605                        		__add.wi	29
         02:C37D  18         			clc
         02:C37E  69 1D      			adc.l	#29
         02:C380  90 01      			bcc	!+
         02:C382  C8         			iny
         02:C383             	!:
15606                        		__call		_spr_x.1
         02:C383  20 1E E8   			call	_spr_x.1
15607                        	
15608                        		.dbg	line,	"include\routines_LEVELS.c", 3351; }
15609    02:C386             	.LL783:
15610                        	
15611                        		.dbg	line,	"include\routines_LEVELS.c", 3353; weapon_y_offset = -10;
15612                        		__st.umiq	-10, _weapon_y_offset
         02:C386  A9 F6      			lda.l	#-10
         02:C388  8D 99 26   			sta	_weapon_y_offset
15613                        	
15614                        		.dbg	line,	"include\routines_LEVELS.c", 3354; spr_y(player_pos_y + weapon_y_offset);
15615                        		__ld.bm		_weapon_y_offset
         02:C38B  AD 99 26   			lda	_weapon_y_offset
         02:C38E  C2         			cly
         02:C38F  10 01      			bpl	!+
         02:C391  88         			dey
         02:C392             	!:
15616                        		__add.wm	_player_pos_y
         02:C392  18         			clc
         02:C393  6D 03 25   			adc.l	_player_pos_y
         02:C396  42         			say
         02:C397  6D 04 25   			adc.h	_player_pos_y
         02:C39A  42         			say
15617                        		__call		_spr_y.1
         02:C39B  20 2D E8   			call	_spr_y.1
15618                        	
15619                        		.dbg	line,	"include\routines_LEVELS.c", 3355; }
15620                        	
15621                        		.dbg	line,	"include\routines_LEVELS.c", 3357; else if(player_counter_attack == 23)
15622                        		__bra		.LL784
         02:C39E  4C 2F C4   			bra	.LL784
15623    02:C3A1             	.LL781:
15624                        		__ld.umq	_player_counter_attack
         02:C3A1  AD 21 23   			lda	_player_counter_attack
15625                        		__equ_b.uiq	23
         02:C3A4  C9 17      			cmp	#23
         02:C3A6  F0 01      			beq	!+
         02:C3A8  18         			clc
         02:C3A9             	!:
15626                        		__bfalse	.LL785
         02:C3A9  B0 03 4C 2F			bcc	.LL785
         02:C3AD  C4          
15627                        	
15628                        		.dbg	line,	"include\routines_LEVELS.c", 3358; {
15629                        	
15630                        		.dbg	line,	"include\routines_LEVELS.c", 3359; spr_set(chain_id);
15631                        		__ld.umq	_chain_id
         02:C3AE  AD 28 23   			lda	_chain_id
15632                        		__call		_spr_set.1
         02:C3B1  20 F1 E7   			call	_spr_set.1
15633                        	
15634                        		.dbg	line,	"include\routines_LEVELS.c", 3360; spr_hide();
15635                        		__call		_spr_hide
         02:C3B4  20 0C E8   			call	_spr_hide
15636                        	
15637                        		.dbg	line,	"include\routines_LEVELS.c", 3362; spr_set(chain_id+1);
15638                        		__ld.um		_chain_id
         02:C3B7  AD 28 23   			lda	_chain_id
         02:C3BA  C2         			cly
15639                        		__add.wi	1
         02:C3BB  1A         			inc	a
         02:C3BC  D0 01      			bne	!+
         02:C3BE  C8         			iny
         02:C3BF             	!:
15640                        		__call		_spr_set.1
         02:C3BF  20 F1 E7   			call	_spr_set.1
15641                        	
15642                        		.dbg	line,	"include\routines_LEVELS.c", 3363; spr_hide();
15643                        		__call		_spr_hide
         02:C3C2  20 0C E8   			call	_spr_hide
15644                        	
15645                        		.dbg	line,	"include\routines_LEVELS.c", 3365; spr_set(chain_id+2);
15646                        		__ld.um		_chain_id
         02:C3C5  AD 28 23   			lda	_chain_id
         02:C3C8  C2         			cly
15647                        		__add.wi	2
         02:C3C9  18         			clc
         02:C3CA  69 02      			adc.l	#2
         02:C3CC  90 01      			bcc	!+
         02:C3CE  C8         			iny
         02:C3CF             	!:
15648                        		__call		_spr_set.1
         02:C3CF  20 F1 E7   			call	_spr_set.1
15649                        	
15650                        		.dbg	line,	"include\routines_LEVELS.c", 3366; spr_hide();
15651                        		__call		_spr_hide
         02:C3D2  20 0C E8   			call	_spr_hide
15652                        	
15653                        		.dbg	line,	"include\routines_LEVELS.c", 3368; spr_set(player_id);
15654                        		__ld.umq	_player_id
         02:C3D5  AD 1A 23   			lda	_player_id
15655                        		__call		_spr_set.1
         02:C3D8  20 F1 E7   			call	_spr_set.1
15656                        	
15657                        		.dbg	line,	"include\routines_LEVELS.c", 3369; spr_pattern(PLAYER_JUMP_VRAM_ADR);
15658                        		__ld.wi		7936
         02:C3DB  62         			cla
         02:C3DC  A0 1F      			ldy.h	#7936
15659                        		__call		_spr_pattern.1
         02:C3DE  20 3A E8   			call	_spr_pattern.1
15660                        	
15661                        		.dbg	line,	"include\routines_LEVELS.c", 3371; spr_set(weapon_id);
15662                        		__ld.umq	_weapon_id
         02:C3E1  AD 29 23   			lda	_weapon_id
15663                        		__call		_spr_set.1
         02:C3E4  20 F1 E7   			call	_spr_set.1
15664                        	
15665                        		.dbg	line,	"include\routines_LEVELS.c", 3372; spr_pattern(WEAPON_IDLE_VRAM_ADRESS);
15666                        		__ld.wi		31808
         02:C3E7  A9 40      			lda.l	#31808
         02:C3E9  A0 7C      			ldy.h	#31808
15667                        		__call		_spr_pattern.1
         02:C3EB  20 3A E8   			call	_spr_pattern.1
15668                        	
15669                        		.dbg	line,	"include\routines_LEVELS.c", 3373; spr_y(player_pos_y+5);
15670                        		__ld.wm		_player_pos_y
         02:C3EE  AD 03 25   			lda.l	_player_pos_y
         02:C3F1  AC 04 25   			ldy.h	_player_pos_y
15671                        		__add.wi	5
         02:C3F4  18         			clc
         02:C3F5  69 05      			adc.l	#5
         02:C3F7  90 01      			bcc	!+
         02:C3F9  C8         			iny
         02:C3FA             	!:
15672                        		__call		_spr_y.1
         02:C3FA  20 2D E8   			call	_spr_y.1
15673                        	
15674                        		.dbg	line,	"include\routines_LEVELS.c", 3375; if(player_axis == AXIS_RIGHT)
15675                        		__not.um	_player_axis
         02:C3FD  AD 1C 23   			lda	_player_axis
         02:C400  18         			clc
         02:C401  D0 01      			bne	!+
         02:C403  38         			sec
         02:C404             	!:
15676                        		__bfalse	.LL786
         02:C404  90 11      			bcc	.LL786
15677                        	
15678                        		.dbg	line,	"include\routines_LEVELS.c", 3376; {
15679                        	
15680                        		.dbg	line,	"include\routines_LEVELS.c", 3377; spr_x(player_pos_x+17);
15681                        		__ld.wm		_player_pos_x
         02:C406  AD 01 25   			lda.l	_player_pos_x
         02:C409  AC 02 25   			ldy.h	_player_pos_x
15682                        		__add.wi	17
         02:C40C  18         			clc
         02:C40D  69 11      			adc.l	#17
         02:C40F  90 01      			bcc	!+
         02:C411  C8         			iny
         02:C412             	!:
15683                        		__call		_spr_x.1
         02:C412  20 1E E8   			call	_spr_x.1
15684                        	
15685                        		.dbg	line,	"include\routines_LEVELS.c", 3378; }
15686                        	
15687                        		.dbg	line,	"include\routines_LEVELS.c", 3380; else
15688                        		__bra		.LL787
         02:C415  80 0F      			bra	.LL787
15689    02:C417             	.LL786:
15690                        	
15691                        		.dbg	line,	"include\routines_LEVELS.c", 3381; {
15692                        	
15693                        		.dbg	line,	"include\routines_LEVELS.c", 3382; spr_x(player_pos_x-2);
15694                        		__ld.wm		_player_pos_x
         02:C417  AD 01 25   			lda.l	_player_pos_x
         02:C41A  AC 02 25   			ldy.h	_player_pos_x
15695                        		__sub.wi	2
         02:C41D  38         			sec
         02:C41E  E9 02      			sbc.l	#2
         02:C420  B0 01      			bcs	!+
         02:C422  88         			dey
         02:C423             	!:
15696                        		__call		_spr_x.1
         02:C423  20 1E E8   			call	_spr_x.1
15697                        	
15698                        		.dbg	line,	"include\routines_LEVELS.c", 3383; }
15699    02:C426             	.LL787:
15700                        	
15701                        		.dbg	line,	"include\routines_LEVELS.c", 3385; player_attack = FALSE;
15702                        		__st.umiq	0, _player_attack
         02:C426  9C 23 23   			stz	_player_attack
15703                        	
15704                        		.dbg	line,	"include\routines_LEVELS.c", 3386; player_counter_attack = 0;
15705                        		__st.umiq	0, _player_counter_attack
         02:C429  9C 21 23   			stz	_player_counter_attack
15706                        	
15707                        		.dbg	line,	"include\routines_LEVELS.c", 3387; //player_state = STATE_JUMP;
15708                        	
15709                        		.dbg	line,	"include\routines_LEVELS.c", 3388; return;
15710                        		__bra		.LL748
         02:C42C  4C E5 CF   			bra	.LL748
15711                        	
15712                        		.dbg	line,	"include\routines_LEVELS.c", 3389; }
15713                        	
15714                        		.dbg	line,	"include\routines_LEVELS.c", 3391; // CHAIN ANIMATION //
15715                        	
15716                        		.dbg	line,	"include\routines_LEVELS.c", 3392; if(player_counter_attack > 5)
15717    02:C42F             	.LL785:
15718    02:C42F             	.LL784:
15719                        		__ld.umq	_player_counter_attack
         02:C42F  AD 21 23   			lda	_player_counter_attack
15720                        		__ugt_b.uiq	5
         02:C432  18         			clc			; Subtract integer+1 from A.
         02:C433  E9 05      			sbc	#5		; CS if A > integer.
15721                        		__bfalse	.LL788
         02:C435  B0 03 4C 5C			bcc	.LL788
         02:C439  C6          
15722                        	
15723                        		.dbg	line,	"include\routines_LEVELS.c", 3393; {
15724                        	
15725                        		.dbg	line,	"include\routines_LEVELS.c", 3394; if(player_counter_attack == 6)
15726                        		__ld.umq	_player_counter_attack
         02:C43A  AD 21 23   			lda	_player_counter_attack
15727                        		__equ_b.uiq	6
         02:C43D  C9 06      			cmp	#6
         02:C43F  F0 01      			beq	!+
         02:C441  18         			clc
         02:C442             	!:
15728                        		__bfalse	.LL789
         02:C442  90 4A      			bcc	.LL789
15729                        	
15730                        		.dbg	line,	"include\routines_LEVELS.c", 3395; {
15731                        	
15732                        		.dbg	line,	"include\routines_LEVELS.c", 3396; spr_set(player_id);
15733                        		__ld.umq	_player_id
         02:C444  AD 1A 23   			lda	_player_id
15734                        		__call		_spr_set.1
         02:C447  20 F1 E7   			call	_spr_set.1
15735                        	
15736                        		.dbg	line,	"include\routines_LEVELS.c", 3397; spr_pattern(PLAYER_JUMP_ATTACK_2_VRAM_ADR);
15737                        		__ld.wi		11776
         02:C44A  62         			cla
         02:C44B  A0 2E      			ldy.h	#11776
15738                        		__call		_spr_pattern.1
         02:C44D  20 3A E8   			call	_spr_pattern.1
15739                        	
15740                        		.dbg	line,	"include\routines_LEVELS.c", 3399; spr_set(weapon_id);
15741                        		__ld.umq	_weapon_id
         02:C450  AD 29 23   			lda	_weapon_id
15742                        		__call		_spr_set.1
         02:C453  20 F1 E7   			call	_spr_set.1
15743                        	
15744                        		.dbg	line,	"include\routines_LEVELS.c", 3400; spr_pattern(WEAPON_ATTACK_2_VRAM_ADRESS);
15745                        		__ld.wi		32064
         02:C456  A9 40      			lda.l	#32064
         02:C458  A0 7D      			ldy.h	#32064
15746                        		__call		_spr_pattern.1
         02:C45A  20 3A E8   			call	_spr_pattern.1
15747                        	
15748                        		.dbg	line,	"include\routines_LEVELS.c", 3402; if(player_axis == AXIS_RIGHT)
15749                        		__not.um	_player_axis
         02:C45D  AD 1C 23   			lda	_player_axis
         02:C460  18         			clc
         02:C461  D0 01      			bne	!+
         02:C463  38         			sec
         02:C464             	!:
15750                        		__bfalse	.LL790
         02:C464  90 11      			bcc	.LL790
15751                        	
15752                        		.dbg	line,	"include\routines_LEVELS.c", 3403; {
15753                        	
15754                        		.dbg	line,	"include\routines_LEVELS.c", 3404; spr_x(player_pos_x+32);
15755                        		__ld.wm		_player_pos_x
         02:C466  AD 01 25   			lda.l	_player_pos_x
         02:C469  AC 02 25   			ldy.h	_player_pos_x
15756                        		__add.wi	32
         02:C46C  18         			clc
         02:C46D  69 20      			adc.l	#32
         02:C46F  90 01      			bcc	!+
         02:C471  C8         			iny
         02:C472             	!:
15757                        		__call		_spr_x.1
         02:C472  20 1E E8   			call	_spr_x.1
15758                        	
15759                        		.dbg	line,	"include\routines_LEVELS.c", 3405; 
15760                        	
15761                        		.dbg	line,	"include\routines_LEVELS.c", 3406; }
15762                        	
15763                        		.dbg	line,	"include\routines_LEVELS.c", 3407; 
15764                        	
15765                        		.dbg	line,	"include\routines_LEVELS.c", 3408; else
15766                        		__bra		.LL791
         02:C475  80 0F      			bra	.LL791
15767    02:C477             	.LL790:
15768                        	
15769                        		.dbg	line,	"include\routines_LEVELS.c", 3409; {
15770                        	
15771                        		.dbg	line,	"include\routines_LEVELS.c", 3410; spr_x(player_pos_x-16);
15772                        		__ld.wm		_player_pos_x
         02:C477  AD 01 25   			lda.l	_player_pos_x
         02:C47A  AC 02 25   			ldy.h	_player_pos_x
15773                        		__sub.wi	16
         02:C47D  38         			sec
         02:C47E  E9 10      			sbc.l	#16
         02:C480  B0 01      			bcs	!+
         02:C482  88         			dey
         02:C483             	!:
15774                        		__call		_spr_x.1
         02:C483  20 1E E8   			call	_spr_x.1
15775                        	
15776                        		.dbg	line,	"include\routines_LEVELS.c", 3411; }
15777    02:C486             	.LL791:
15778                        	
15779                        		.dbg	line,	"include\routines_LEVELS.c", 3413; weapon_y_offset = 6;
15780                        		__st.umiq	6, _weapon_y_offset
         02:C486  A9 06      			lda.l	#6
         02:C488  8D 99 26   			sta	_weapon_y_offset
15781                        	
15782                        		.dbg	line,	"include\routines_LEVELS.c", 3414; //spr_y(player_pos_y + weapon_y_offset);
15783                        	
15784                        		.dbg	line,	"include\routines_LEVELS.c", 3416; //collision_WEAPON_OBJECTS();
15785                        	
15786                        		.dbg	line,	"include\routines_LEVELS.c", 3417; }
15787                        	
15788                        		.dbg	line,	"include\routines_LEVELS.c", 3419; else if(player_counter_attack == 7)
15789                        		__bra		.LL792
         02:C48B  4C F4 C5   			bra	.LL792
15790    02:C48E             	.LL789:
15791                        		__ld.umq	_player_counter_attack
         02:C48E  AD 21 23   			lda	_player_counter_attack
15792                        		__equ_b.uiq	7
         02:C491  C9 07      			cmp	#7
         02:C493  F0 01      			beq	!+
         02:C495  18         			clc
         02:C496             	!:
15793                        		__bfalse	.LL793
         02:C496  90 6B      			bcc	.LL793
15794                        	
15795                        		.dbg	line,	"include\routines_LEVELS.c", 3420; {
15796                        	
15797                        		.dbg	line,	"include\routines_LEVELS.c", 3421; list_chain_active[0] = TRUE;
15798                        		__st.umiq	1, _list_chain_active
         02:C498  A9 01      			lda.l	#1
         02:C49A  8D 2C 23   			sta	_list_chain_active
15799                        	
15800                        		.dbg	line,	"include\routines_LEVELS.c", 3422; 
15801                        	
15802                        		.dbg	line,	"include\routines_LEVELS.c", 3423; spr_set(chain_id);
15803                        		__ld.umq	_chain_id
         02:C49D  AD 28 23   			lda	_chain_id
15804                        		__call		_spr_set.1
         02:C4A0  20 F1 E7   			call	_spr_set.1
15805                        	
15806                        		.dbg	line,	"include\routines_LEVELS.c", 3424; spr_y(player_pos_y);
15807                        		__ld.wm		_player_pos_y
         02:C4A3  AD 03 25   			lda.l	_player_pos_y
         02:C4A6  AC 04 25   			ldy.h	_player_pos_y
15808                        		__call		_spr_y.1
         02:C4A9  20 2D E8   			call	_spr_y.1
15809                        	
15810                        		.dbg	line,	"include\routines_LEVELS.c", 3426; if(player_axis == AXIS_RIGHT)
15811                        		__not.um	_player_axis
         02:C4AC  AD 1C 23   			lda	_player_axis
         02:C4AF  18         			clc
         02:C4B0  D0 01      			bne	!+
         02:C4B2  38         			sec
         02:C4B3             	!:
15812                        		__bfalse	.LL794
         02:C4B3  90 27      			bcc	.LL794
15813                        	
15814                        		.dbg	line,	"include\routines_LEVELS.c", 3427; {
15815                        	
15816                        		.dbg	line,	"include\routines_LEVELS.c", 3428; spr_x(player_pos_x+32);
15817                        		__ld.wm		_player_pos_x
         02:C4B5  AD 01 25   			lda.l	_player_pos_x
         02:C4B8  AC 02 25   			ldy.h	_player_pos_x
15818                        		__add.wi	32
         02:C4BB  18         			clc
         02:C4BC  69 20      			adc.l	#32
         02:C4BE  90 01      			bcc	!+
         02:C4C0  C8         			iny
         02:C4C1             	!:
15819                        		__call		_spr_x.1
         02:C4C1  20 1E E8   			call	_spr_x.1
15820                        	
15821                        		.dbg	line,	"include\routines_LEVELS.c", 3430; spr_set(weapon_id);
15822                        		__ld.umq	_weapon_id
         02:C4C4  AD 29 23   			lda	_weapon_id
15823                        		__call		_spr_set.1
         02:C4C7  20 F1 E7   			call	_spr_set.1
15824                        	
15825                        		.dbg	line,	"include\routines_LEVELS.c", 3431; spr_x(player_pos_x+48);
15826                        		__ld.wm		_player_pos_x
         02:C4CA  AD 01 25   			lda.l	_player_pos_x
         02:C4CD  AC 02 25   			ldy.h	_player_pos_x
15827                        		__add.wi	48
         02:C4D0  18         			clc
         02:C4D1  69 30      			adc.l	#48
         02:C4D3  90 01      			bcc	!+
         02:C4D5  C8         			iny
         02:C4D6             	!:
15828                        		__call		_spr_x.1
         02:C4D6  20 1E E8   			call	_spr_x.1
15829                        	
15830                        		.dbg	line,	"include\routines_LEVELS.c", 3432; }
15831                        	
15832                        		.dbg	line,	"include\routines_LEVELS.c", 3433; 
15833                        	
15834                        		.dbg	line,	"include\routines_LEVELS.c", 3434; else
15835                        		__bra		.LL795
         02:C4D9  4C F4 C5   			bra	.LL795
15836    02:C4DC             	.LL794:
15837                        	
15838                        		.dbg	line,	"include\routines_LEVELS.c", 3435; {
15839                        	
15840                        		.dbg	line,	"include\routines_LEVELS.c", 3436; spr_x(player_pos_x-16);
15841                        		__ld.wm		_player_pos_x
         02:C4DC  AD 01 25   			lda.l	_player_pos_x
         02:C4DF  AC 02 25   			ldy.h	_player_pos_x
15842                        		__sub.wi	16
         02:C4E2  38         			sec
         02:C4E3  E9 10      			sbc.l	#16
         02:C4E5  B0 01      			bcs	!+
         02:C4E7  88         			dey
         02:C4E8             	!:
15843                        		__call		_spr_x.1
         02:C4E8  20 1E E8   			call	_spr_x.1
15844                        	
15845                        		.dbg	line,	"include\routines_LEVELS.c", 3438; spr_set(weapon_id);
15846                        		__ld.umq	_weapon_id
         02:C4EB  AD 29 23   			lda	_weapon_id
15847                        		__call		_spr_set.1
         02:C4EE  20 F1 E7   			call	_spr_set.1
15848                        	
15849                        		.dbg	line,	"include\routines_LEVELS.c", 3439; spr_x(player_pos_x-32);
15850                        		__ld.wm		_player_pos_x
         02:C4F1  AD 01 25   			lda.l	_player_pos_x
         02:C4F4  AC 02 25   			ldy.h	_player_pos_x
15851                        		__sub.wi	32
         02:C4F7  38         			sec
         02:C4F8  E9 20      			sbc.l	#32
         02:C4FA  B0 01      			bcs	!+
         02:C4FC  88         			dey
         02:C4FD             	!:
15852                        		__call		_spr_x.1
         02:C4FD  20 1E E8   			call	_spr_x.1
15853                        	
15854                        		.dbg	line,	"include\routines_LEVELS.c", 3440; }
15855    02:C500             	.LL795	.alias		.LL796
15856                        	
15857                        		.dbg	line,	"include\routines_LEVELS.c", 3442; //spr_y(player_pos_y + weapon_y_offset);
15858                        	
15859                        		.dbg	line,	"include\routines_LEVELS.c", 3444; //collision_WEAPON_OBJECTS();
15860                        	
15861                        		.dbg	line,	"include\routines_LEVELS.c", 3445; }
15862                        	
15863                        		.dbg	line,	"include\routines_LEVELS.c", 3447; else if(player_counter_attack == 8)
15864                        		__bra		.LL796
         02:C500  4C F4 C5   			bra	.LL796
15865    02:C503             	.LL793:
15866                        		__ld.umq	_player_counter_attack
         02:C503  AD 21 23   			lda	_player_counter_attack
15867                        		__equ_b.uiq	8
         02:C506  C9 08      			cmp	#8
         02:C508  F0 01      			beq	!+
         02:C50A  18         			clc
         02:C50B             	!:
15868                        		__bfalse	.LL797
         02:C50B  90 6F      			bcc	.LL797
15869                        	
15870                        		.dbg	line,	"include\routines_LEVELS.c", 3448; {
15871                        	
15872                        		.dbg	line,	"include\routines_LEVELS.c", 3449; list_chain_active[1] = TRUE;
15873                        		__st.umiq	1, _list_chain_active + 1
         02:C50D  A9 01      			lda.l	#1
         02:C50F  8D 2D 23   			sta	_list_chain_active + 1
15874                        	
15875                        		.dbg	line,	"include\routines_LEVELS.c", 3450; 
15876                        	
15877                        		.dbg	line,	"include\routines_LEVELS.c", 3451; spr_set(chain_id+1);
15878                        		__ld.um		_chain_id
         02:C512  AD 28 23   			lda	_chain_id
         02:C515  C2         			cly
15879                        		__add.wi	1
         02:C516  1A         			inc	a
         02:C517  D0 01      			bne	!+
         02:C519  C8         			iny
         02:C51A             	!:
15880                        		__call		_spr_set.1
         02:C51A  20 F1 E7   			call	_spr_set.1
15881                        	
15882                        		.dbg	line,	"include\routines_LEVELS.c", 3452; spr_y(player_pos_y);
15883                        		__ld.wm		_player_pos_y
         02:C51D  AD 03 25   			lda.l	_player_pos_y
         02:C520  AC 04 25   			ldy.h	_player_pos_y
15884                        		__call		_spr_y.1
         02:C523  20 2D E8   			call	_spr_y.1
15885                        	
15886                        		.dbg	line,	"include\routines_LEVELS.c", 3454; if(player_axis == AXIS_RIGHT)
15887                        		__not.um	_player_axis
         02:C526  AD 1C 23   			lda	_player_axis
         02:C529  18         			clc
         02:C52A  D0 01      			bne	!+
         02:C52C  38         			sec
         02:C52D             	!:
15888                        		__bfalse	.LL798
         02:C52D  90 27      			bcc	.LL798
15889                        	
15890                        		.dbg	line,	"include\routines_LEVELS.c", 3455; {
15891                        	
15892                        		.dbg	line,	"include\routines_LEVELS.c", 3456; spr_x(player_pos_x+48);
15893                        		__ld.wm		_player_pos_x
         02:C52F  AD 01 25   			lda.l	_player_pos_x
         02:C532  AC 02 25   			ldy.h	_player_pos_x
15894                        		__add.wi	48
         02:C535  18         			clc
         02:C536  69 30      			adc.l	#48
         02:C538  90 01      			bcc	!+
         02:C53A  C8         			iny
         02:C53B             	!:
15895                        		__call		_spr_x.1
         02:C53B  20 1E E8   			call	_spr_x.1
15896                        	
15897                        		.dbg	line,	"include\routines_LEVELS.c", 3458; spr_set(weapon_id);
15898                        		__ld.umq	_weapon_id
         02:C53E  AD 29 23   			lda	_weapon_id
15899                        		__call		_spr_set.1
         02:C541  20 F1 E7   			call	_spr_set.1
15900                        	
15901                        		.dbg	line,	"include\routines_LEVELS.c", 3459; spr_x(player_pos_x+64);
15902                        		__ld.wm		_player_pos_x
         02:C544  AD 01 25   			lda.l	_player_pos_x
         02:C547  AC 02 25   			ldy.h	_player_pos_x
15903                        		__add.wi	64
         02:C54A  18         			clc
         02:C54B  69 40      			adc.l	#64
         02:C54D  90 01      			bcc	!+
         02:C54F  C8         			iny
         02:C550             	!:
15904                        		__call		_spr_x.1
         02:C550  20 1E E8   			call	_spr_x.1
15905                        	
15906                        		.dbg	line,	"include\routines_LEVELS.c", 3460; }
15907                        	
15908                        		.dbg	line,	"include\routines_LEVELS.c", 3461; 
15909                        	
15910                        		.dbg	line,	"include\routines_LEVELS.c", 3462; else
15911                        		__bra		.LL799
         02:C553  4C F4 C5   			bra	.LL799
15912    02:C556             	.LL798:
15913                        	
15914                        		.dbg	line,	"include\routines_LEVELS.c", 3463; {
15915                        	
15916                        		.dbg	line,	"include\routines_LEVELS.c", 3464; spr_x(player_pos_x-32);
15917                        		__ld.wm		_player_pos_x
         02:C556  AD 01 25   			lda.l	_player_pos_x
         02:C559  AC 02 25   			ldy.h	_player_pos_x
15918                        		__sub.wi	32
         02:C55C  38         			sec
         02:C55D  E9 20      			sbc.l	#32
         02:C55F  B0 01      			bcs	!+
         02:C561  88         			dey
         02:C562             	!:
15919                        		__call		_spr_x.1
         02:C562  20 1E E8   			call	_spr_x.1
15920                        	
15921                        		.dbg	line,	"include\routines_LEVELS.c", 3466; spr_set(weapon_id);
15922                        		__ld.umq	_weapon_id
         02:C565  AD 29 23   			lda	_weapon_id
15923                        		__call		_spr_set.1
         02:C568  20 F1 E7   			call	_spr_set.1
15924                        	
15925                        		.dbg	line,	"include\routines_LEVELS.c", 3467; spr_x(player_pos_x-48);
15926                        		__ld.wm		_player_pos_x
         02:C56B  AD 01 25   			lda.l	_player_pos_x
         02:C56E  AC 02 25   			ldy.h	_player_pos_x
15927                        		__sub.wi	48
         02:C571  38         			sec
         02:C572  E9 30      			sbc.l	#48
         02:C574  B0 01      			bcs	!+
         02:C576  88         			dey
         02:C577             	!:
15928                        		__call		_spr_x.1
         02:C577  20 1E E8   			call	_spr_x.1
15929                        	
15930                        		.dbg	line,	"include\routines_LEVELS.c", 3468; }
15931    02:C57A             	.LL799	.alias		.LL800
15932                        	
15933                        		.dbg	line,	"include\routines_LEVELS.c", 3470; //spr_y(player_pos_y + weapon_y_offset);
15934                        	
15935                        		.dbg	line,	"include\routines_LEVELS.c", 3472; //collision_WEAPON_OBJECTS();
15936                        	
15937                        		.dbg	line,	"include\routines_LEVELS.c", 3473; }
15938                        	
15939                        		.dbg	line,	"include\routines_LEVELS.c", 3475; else if(player_counter_attack == 9)
15940                        		__bra		.LL800
         02:C57A  80 78      			bra	.LL800
15941    02:C57C             	.LL797:
15942                        		__ld.umq	_player_counter_attack
         02:C57C  AD 21 23   			lda	_player_counter_attack
15943                        		__equ_b.uiq	9
         02:C57F  C9 09      			cmp	#9
         02:C581  F0 01      			beq	!+
         02:C583  18         			clc
         02:C584             	!:
15944                        		__bfalse	.LL801
         02:C584  90 6E      			bcc	.LL801
15945                        	
15946                        		.dbg	line,	"include\routines_LEVELS.c", 3476; {
15947                        	
15948                        		.dbg	line,	"include\routines_LEVELS.c", 3477; list_chain_active[2] = TRUE;
15949                        		__st.umiq	1, _list_chain_active + 2
         02:C586  A9 01      			lda.l	#1
         02:C588  8D 2E 23   			sta	_list_chain_active + 2
15950                        	
15951                        		.dbg	line,	"include\routines_LEVELS.c", 3478; 
15952                        	
15953                        		.dbg	line,	"include\routines_LEVELS.c", 3479; spr_set(chain_id+2);
15954                        		__ld.um		_chain_id
         02:C58B  AD 28 23   			lda	_chain_id
         02:C58E  C2         			cly
15955                        		__add.wi	2
         02:C58F  18         			clc
         02:C590  69 02      			adc.l	#2
         02:C592  90 01      			bcc	!+
         02:C594  C8         			iny
         02:C595             	!:
15956                        		__call		_spr_set.1
         02:C595  20 F1 E7   			call	_spr_set.1
15957                        	
15958                        		.dbg	line,	"include\routines_LEVELS.c", 3480; spr_y(player_pos_y);
15959                        		__ld.wm		_player_pos_y
         02:C598  AD 03 25   			lda.l	_player_pos_y
         02:C59B  AC 04 25   			ldy.h	_player_pos_y
15960                        		__call		_spr_y.1
         02:C59E  20 2D E8   			call	_spr_y.1
15961                        	
15962                        		.dbg	line,	"include\routines_LEVELS.c", 3482; if(player_axis == AXIS_RIGHT)
15963                        		__not.um	_player_axis
         02:C5A1  AD 1C 23   			lda	_player_axis
         02:C5A4  18         			clc
         02:C5A5  D0 01      			bne	!+
         02:C5A7  38         			sec
         02:C5A8             	!:
15964                        		__bfalse	.LL802
         02:C5A8  90 26      			bcc	.LL802
15965                        	
15966                        		.dbg	line,	"include\routines_LEVELS.c", 3483; {
15967                        	
15968                        		.dbg	line,	"include\routines_LEVELS.c", 3484; spr_x(player_pos_x+64);
15969                        		__ld.wm		_player_pos_x
         02:C5AA  AD 01 25   			lda.l	_player_pos_x
         02:C5AD  AC 02 25   			ldy.h	_player_pos_x
15970                        		__add.wi	64
         02:C5B0  18         			clc
         02:C5B1  69 40      			adc.l	#64
         02:C5B3  90 01      			bcc	!+
         02:C5B5  C8         			iny
         02:C5B6             	!:
15971                        		__call		_spr_x.1
         02:C5B6  20 1E E8   			call	_spr_x.1
15972                        	
15973                        		.dbg	line,	"include\routines_LEVELS.c", 3486; spr_set(weapon_id);
15974                        		__ld.umq	_weapon_id
         02:C5B9  AD 29 23   			lda	_weapon_id
15975                        		__call		_spr_set.1
         02:C5BC  20 F1 E7   			call	_spr_set.1
15976                        	
15977                        		.dbg	line,	"include\routines_LEVELS.c", 3487; spr_x(player_pos_x+80);
15978                        		__ld.wm		_player_pos_x
         02:C5BF  AD 01 25   			lda.l	_player_pos_x
         02:C5C2  AC 02 25   			ldy.h	_player_pos_x
15979                        		__add.wi	80
         02:C5C5  18         			clc
         02:C5C6  69 50      			adc.l	#80
         02:C5C8  90 01      			bcc	!+
         02:C5CA  C8         			iny
         02:C5CB             	!:
15980                        		__call		_spr_x.1
         02:C5CB  20 1E E8   			call	_spr_x.1
15981                        	
15982                        		.dbg	line,	"include\routines_LEVELS.c", 3488; }
15983                        	
15984                        		.dbg	line,	"include\routines_LEVELS.c", 3489; 
15985                        	
15986                        		.dbg	line,	"include\routines_LEVELS.c", 3490; else
15987                        		__bra		.LL803
         02:C5CE  80 24      			bra	.LL803
15988    02:C5D0             	.LL802:
15989                        	
15990                        		.dbg	line,	"include\routines_LEVELS.c", 3491; {
15991                        	
15992                        		.dbg	line,	"include\routines_LEVELS.c", 3492; spr_x(player_pos_x-48);
15993                        		__ld.wm		_player_pos_x
         02:C5D0  AD 01 25   			lda.l	_player_pos_x
         02:C5D3  AC 02 25   			ldy.h	_player_pos_x
15994                        		__sub.wi	48
         02:C5D6  38         			sec
         02:C5D7  E9 30      			sbc.l	#48
         02:C5D9  B0 01      			bcs	!+
         02:C5DB  88         			dey
         02:C5DC             	!:
15995                        		__call		_spr_x.1
         02:C5DC  20 1E E8   			call	_spr_x.1
15996                        	
15997                        		.dbg	line,	"include\routines_LEVELS.c", 3494; spr_set(weapon_id);
15998                        		__ld.umq	_weapon_id
         02:C5DF  AD 29 23   			lda	_weapon_id
15999                        		__call		_spr_set.1
         02:C5E2  20 F1 E7   			call	_spr_set.1
16000                        	
16001                        		.dbg	line,	"include\routines_LEVELS.c", 3495; spr_x(player_pos_x-64);
16002                        		__ld.wm		_player_pos_x
         02:C5E5  AD 01 25   			lda.l	_player_pos_x
         02:C5E8  AC 02 25   			ldy.h	_player_pos_x
16003                        		__sub.wi	64
         02:C5EB  38         			sec
         02:C5EC  E9 40      			sbc.l	#64
         02:C5EE  B0 01      			bcs	!+
         02:C5F0  88         			dey
         02:C5F1             	!:
16004                        		__call		_spr_x.1
         02:C5F1  20 1E E8   			call	_spr_x.1
16005                        	
16006                        		.dbg	line,	"include\routines_LEVELS.c", 3496; }
16007    02:C5F4             	.LL803:
16008                        	
16009                        		.dbg	line,	"include\routines_LEVELS.c", 3498; //spr_y(player_pos_y + weapon_y_offset);
16010                        	
16011                        		.dbg	line,	"include\routines_LEVELS.c", 3500; //collision_WEAPON_OBJECTS();
16012                        	
16013                        		.dbg	line,	"include\routines_LEVELS.c", 3501; }
16014                        	
16015                        		.dbg	line,	"include\routines_LEVELS.c", 3502; 
16016                        	
16017                        		.dbg	line,	"include\routines_LEVELS.c", 3503; spr_set(weapon_id);
16018    02:C5F4             	.LL801:
16019    02:C5F4             	.LL800:
16020    02:C5F4             	.LL796:
16021    02:C5F4             	.LL792:
16022                        		__ld.umq	_weapon_id
         02:C5F4  AD 29 23   			lda	_weapon_id
16023                        		__call		_spr_set.1
         02:C5F7  20 F1 E7   			call	_spr_set.1
16024                        	
16025                        		.dbg	line,	"include\routines_LEVELS.c", 3504; spr_y(player_pos_y + weapon_y_offset);
16026                        		__ld.bm		_weapon_y_offset
         02:C5FA  AD 99 26   			lda	_weapon_y_offset
         02:C5FD  C2         			cly
         02:C5FE  10 01      			bpl	!+
         02:C600  88         			dey
         02:C601             	!:
16027                        		__add.wm	_player_pos_y
         02:C601  18         			clc
         02:C602  6D 03 25   			adc.l	_player_pos_y
         02:C605  42         			say
         02:C606  6D 04 25   			adc.h	_player_pos_y
         02:C609  42         			say
16028                        		__call		_spr_y.1
         02:C60A  20 2D E8   			call	_spr_y.1
16029                        	
16030                        		.dbg	line,	"include\routines_LEVELS.c", 3505; 
16031                        	
16032                        		.dbg	line,	"include\routines_LEVELS.c", 3506; collision_WEAPON_OBJECTS();
16033                        		__call		_collision_WEAPON_OBJECTS
         02:C60D  20 09 FF   			call	_collision_WEAPON_OBJECTS
16034                        	
16035                        		.dbg	line,	"include\routines_LEVELS.c", 3508; // SET CHAIN Y POSITION //
16036                        	
16037                        		.dbg	line,	"include\routines_LEVELS.c", 3509; for(i=0 ; i<3 ; i++)
16038                        		__st.umiq	0, __update_WEAPON_end - 2  /* i */
         02:C610  9C 0F 23   			stz	__update_WEAPON_end - 2
16039    02:C613             	.LL804:
16040                        		__ld.umq	__update_WEAPON_end - 2  /* i */
         02:C613  AD 0F 23   			lda	__update_WEAPON_end - 2
16041                        		__ult_b.uiq	3
         02:C616  C9 03      			cmp	#3		; Subtract integer from A.
         02:C618  6A         			ror	a		; CC if A < integer.
         02:C619  49 80      			eor	#$80
         02:C61B  2A         			rol	a
16042                        		__btrue		.LL806
         02:C61C  B0 07      			bcs	.LL806
16043                        		__bra		.LL807
         02:C61E  80 3C      			bra	.LL807
16044    02:C620             	.LL805:
16045                        		__inc.umq	__update_WEAPON_end - 2  /* i */
         02:C620  EE 0F 23   			inc	__update_WEAPON_end - 2
16046                        		__bra		.LL804
         02:C623  80 EE      			bra	.LL804
16047    02:C625             	.LL806:
16048                        	
16049                        		.dbg	line,	"include\routines_LEVELS.c", 3510; {
16050                        	
16051                        		.dbg	line,	"include\routines_LEVELS.c", 3511; spr_set(chain_id+i);
16052                        		__ld.um		_chain_id
         02:C625  AD 28 23   			lda	_chain_id
         02:C628  C2         			cly
16053                        		__add.um	__update_WEAPON_end - 2  /* i */
         02:C629  18         			clc
         02:C62A  6D 0F 23   			adc	__update_WEAPON_end - 2
         02:C62D  90 01      			bcc	!+
         02:C62F  C8         			iny
         02:C630             	!:
16054                        		__call		_spr_set.1
         02:C630  20 F1 E7   			call	_spr_set.1
16055                        	
16056                        		.dbg	line,	"include\routines_LEVELS.c", 3513; spr_y( ((player_pos_y + 16) * list_chain_active[i]) - 16); //list_chain_active[0] = TRUE;
16057                        		__ld.wm		_player_pos_y
         02:C633  AD 03 25   			lda.l	_player_pos_y
         02:C636  AC 04 25   			ldy.h	_player_pos_y
16058                        		__add.wi	16
         02:C639  18         			clc
         02:C63A  69 10      			adc.l	#16
         02:C63C  90 01      			bcc	!+
         02:C63E  C8         			iny
         02:C63F             	!:
16059                        		__push.wr
         02:C63F  5A         			phy
         02:C640  48         			pha
16060                        		__ldx.umq	__update_WEAPON_end - 2  /* i */
         02:C641  AE 0F 23   			ldx	__update_WEAPON_end - 2
16061                        		__ld.uax	_list_chain_active
         02:C644  BD 2C 23   			lda	_list_chain_active, x
         02:C647  C2         			cly
16062                        		__mul.wt
         02:C648  85 00      			sta.l	<multiplier
         02:C64A  84 01      			sty.h	<multiplier
         02:C64C  68         			pla
         02:C64D  7A         			ply
         02:C64E  20 60 E4   			jsr	__mulint
16063                        		__sub.wi	16
         02:C651  38         			sec
         02:C652  E9 10      			sbc.l	#16
         02:C654  B0 01      			bcs	!+
         02:C656  88         			dey
         02:C657             	!:
16064                        		__call		_spr_y.1
         02:C657  20 2D E8   			call	_spr_y.1
16065                        	
16066                        		.dbg	line,	"include\routines_LEVELS.c", 3514; }
16067                        		__bra		.LL805
         02:C65A  80 C4      			bra	.LL805
16068    02:C65C             	.LL807:
16069                        	
16070                        		.dbg	line,	"include\routines_LEVELS.c", 3515; }
16071                        	
16072                        		.dbg	line,	"include\routines_LEVELS.c", 3517; 
16073                        	
16074                        		.dbg	line,	"include\routines_LEVELS.c", 3518; player_counter_attack += 1;
16075    02:C65C             	.LL788:
16076                        		__add_st.umiq	1, _player_counter_attack
         02:C65C  EE 21 23   			inc	_player_counter_attack
16077                        	
16078                        		.dbg	line,	"include\routines_LEVELS.c", 3519; }
16079                        	
16080                        		.dbg	line,	"include\routines_LEVELS.c", 3520; }
16081    02:C65F             	.LL780	.alias		.LL808
16082                        	
16083                        		.dbg	line,	"include\routines_LEVELS.c", 3523; else if(player_state == STATE_CROUCH_ATTACK)
16084                        		__bra		.LL808
         02:C65F  4C E5 CF   			bra	.LL808
16085    02:C662             	.LL776:
16086                        		__ld.umq	_player_state
         02:C662  AD 1B 23   			lda	_player_state
16087                        		__equ_b.uiq	8
         02:C665  C9 08      			cmp	#8
         02:C667  F0 01      			beq	!+
         02:C669  18         			clc
         02:C66A             	!:
16088                        		__bfalse	.LL809
         02:C66A  B0 03 4C C0			bcc	.LL809
         02:C66E  C9          
16089                        	
16090                        		.dbg	line,	"include\routines_LEVELS.c", 3524; {
16091                        	
16092                        		.dbg	line,	"include\routines_LEVELS.c", 3525; char i;
16093                        	
16094                        		.dbg	line,	"include\routines_LEVELS.c", 3526; 
16095                        	
16096                        		.dbg	line,	"include\routines_LEVELS.c", 3527; recenter_CAMERA();
16097                        		__call		_recenter_CAMERA
         02:C66F  20 1D FF   			call	_recenter_CAMERA
16098                        	
16099                        		.dbg	line,	"include\routines_LEVELS.c", 3529; if(player_counter_attack < 6)
16100                        		__ld.umq	_player_counter_attack
         02:C672  AD 21 23   			lda	_player_counter_attack
16101                        		__ult_b.uiq	6
         02:C675  C9 06      			cmp	#6		; Subtract integer from A.
         02:C677  6A         			ror	a		; CC if A < integer.
         02:C678  49 80      			eor	#$80
         02:C67A  2A         			rol	a
16102                        		__bfalse	.LL810
         02:C67B  90 5A      			bcc	.LL810
16103                        	
16104                        		.dbg	line,	"include\routines_LEVELS.c", 3530; {
16105                        	
16106                        		.dbg	line,	"include\routines_LEVELS.c", 3531; spr_set(player_id);
16107                        		__ld.umq	_player_id
         02:C67D  AD 1A 23   			lda	_player_id
16108                        		__call		_spr_set.1
         02:C680  20 F1 E7   			call	_spr_set.1
16109                        	
16110                        		.dbg	line,	"include\routines_LEVELS.c", 3532; spr_pattern(PLAYER_CROUCH_ATTACK_1_VRAM_ADR);
16111                        		__ld.wi		11008
         02:C683  62         			cla
         02:C684  A0 2B      			ldy.h	#11008
16112                        		__call		_spr_pattern.1
         02:C686  20 3A E8   			call	_spr_pattern.1
16113                        	
16114                        		.dbg	line,	"include\routines_LEVELS.c", 3534; spr_set(weapon_id);
16115                        		__ld.umq	_weapon_id
         02:C689  AD 29 23   			lda	_weapon_id
16116                        		__call		_spr_set.1
         02:C68C  20 F1 E7   			call	_spr_set.1
16117                        	
16118                        		.dbg	line,	"include\routines_LEVELS.c", 3535; spr_pattern(WEAPON_ATTACK_1_VRAM_ADRESS);
16119                        		__ld.wi		32000
         02:C68F  62         			cla
         02:C690  A0 7D      			ldy.h	#32000
16120                        		__call		_spr_pattern.1
         02:C692  20 3A E8   			call	_spr_pattern.1
16121                        	
16122                        		.dbg	line,	"include\routines_LEVELS.c", 3537; if(player_axis == AXIS_RIGHT)
16123                        		__not.um	_player_axis
         02:C695  AD 1C 23   			lda	_player_axis
         02:C698  18         			clc
         02:C699  D0 01      			bne	!+
         02:C69B  38         			sec
         02:C69C             	!:
16124                        		__bfalse	.LL811
         02:C69C  90 11      			bcc	.LL811
16125                        	
16126                        		.dbg	line,	"include\routines_LEVELS.c", 3538; {
16127                        	
16128                        		.dbg	line,	"include\routines_LEVELS.c", 3539; spr_x(player_pos_x-16);
16129                        		__ld.wm		_player_pos_x
         02:C69E  AD 01 25   			lda.l	_player_pos_x
         02:C6A1  AC 02 25   			ldy.h	_player_pos_x
16130                        		__sub.wi	16
         02:C6A4  38         			sec
         02:C6A5  E9 10      			sbc.l	#16
         02:C6A7  B0 01      			bcs	!+
         02:C6A9  88         			dey
         02:C6AA             	!:
16131                        		__call		_spr_x.1
         02:C6AA  20 1E E8   			call	_spr_x.1
16132                        	
16133                        		.dbg	line,	"include\routines_LEVELS.c", 3540; }
16134                        	
16135                        		.dbg	line,	"include\routines_LEVELS.c", 3542; else
16136                        		__bra		.LL812
         02:C6AD  80 0F      			bra	.LL812
16137    02:C6AF             	.LL811:
16138                        	
16139                        		.dbg	line,	"include\routines_LEVELS.c", 3543; {
16140                        	
16141                        		.dbg	line,	"include\routines_LEVELS.c", 3544; spr_x(player_pos_x+32);
16142                        		__ld.wm		_player_pos_x
         02:C6AF  AD 01 25   			lda.l	_player_pos_x
         02:C6B2  AC 02 25   			ldy.h	_player_pos_x
16143                        		__add.wi	32
         02:C6B5  18         			clc
         02:C6B6  69 20      			adc.l	#32
         02:C6B8  90 01      			bcc	!+
         02:C6BA  C8         			iny
         02:C6BB             	!:
16144                        		__call		_spr_x.1
         02:C6BB  20 1E E8   			call	_spr_x.1
16145                        	
16146                        		.dbg	line,	"include\routines_LEVELS.c", 3545; }
16147    02:C6BE             	.LL812:
16148                        	
16149                        		.dbg	line,	"include\routines_LEVELS.c", 3547; weapon_y_offset = 0;
16150                        		__st.umiq	0, _weapon_y_offset
         02:C6BE  9C 99 26   			stz	_weapon_y_offset
16151                        	
16152                        		.dbg	line,	"include\routines_LEVELS.c", 3548; spr_y(player_pos_y + weapon_y_offset);
16153                        		__ld.bm		_weapon_y_offset
         02:C6C1  AD 99 26   			lda	_weapon_y_offset
         02:C6C4  C2         			cly
         02:C6C5  10 01      			bpl	!+
         02:C6C7  88         			dey
         02:C6C8             	!:
16154                        		__add.wm	_player_pos_y
         02:C6C8  18         			clc
         02:C6C9  6D 03 25   			adc.l	_player_pos_y
         02:C6CC  42         			say
         02:C6CD  6D 04 25   			adc.h	_player_pos_y
         02:C6D0  42         			say
16155                        		__call		_spr_y.1
         02:C6D1  20 2D E8   			call	_spr_y.1
16156                        	
16157                        		.dbg	line,	"include\routines_LEVELS.c", 3549; }
16158                        	
16159                        		.dbg	line,	"include\routines_LEVELS.c", 3551; else if(player_counter_attack == 23)
16160                        		__bra		.LL813
         02:C6D4  4C 6C C7   			bra	.LL813
16161    02:C6D7             	.LL810:
16162                        		__ld.umq	_player_counter_attack
         02:C6D7  AD 21 23   			lda	_player_counter_attack
16163                        		__equ_b.uiq	23
         02:C6DA  C9 17      			cmp	#23
         02:C6DC  F0 01      			beq	!+
         02:C6DE  18         			clc
         02:C6DF             	!:
16164                        		__bfalse	.LL814
         02:C6DF  B0 03 4C 6C			bcc	.LL814
         02:C6E3  C7          
16165                        	
16166                        		.dbg	line,	"include\routines_LEVELS.c", 3552; {
16167                        	
16168                        		.dbg	line,	"include\routines_LEVELS.c", 3553; spr_set(chain_id);
16169                        		__ld.umq	_chain_id
         02:C6E4  AD 28 23   			lda	_chain_id
16170                        		__call		_spr_set.1
         02:C6E7  20 F1 E7   			call	_spr_set.1
16171                        	
16172                        		.dbg	line,	"include\routines_LEVELS.c", 3554; spr_hide();
16173                        		__call		_spr_hide
         02:C6EA  20 0C E8   			call	_spr_hide
16174                        	
16175                        		.dbg	line,	"include\routines_LEVELS.c", 3556; spr_set(chain_id+1);
16176                        		__ld.um		_chain_id
         02:C6ED  AD 28 23   			lda	_chain_id
         02:C6F0  C2         			cly
16177                        		__add.wi	1
         02:C6F1  1A         			inc	a
         02:C6F2  D0 01      			bne	!+
         02:C6F4  C8         			iny
         02:C6F5             	!:
16178                        		__call		_spr_set.1
         02:C6F5  20 F1 E7   			call	_spr_set.1
16179                        	
16180                        		.dbg	line,	"include\routines_LEVELS.c", 3557; spr_hide();
16181                        		__call		_spr_hide
         02:C6F8  20 0C E8   			call	_spr_hide
16182                        	
16183                        		.dbg	line,	"include\routines_LEVELS.c", 3559; spr_set(chain_id+2);
16184                        		__ld.um		_chain_id
         02:C6FB  AD 28 23   			lda	_chain_id
         02:C6FE  C2         			cly
16185                        		__add.wi	2
         02:C6FF  18         			clc
         02:C700  69 02      			adc.l	#2
         02:C702  90 01      			bcc	!+
         02:C704  C8         			iny
         02:C705             	!:
16186                        		__call		_spr_set.1
         02:C705  20 F1 E7   			call	_spr_set.1
16187                        	
16188                        		.dbg	line,	"include\routines_LEVELS.c", 3560; spr_hide();
16189                        		__call		_spr_hide
         02:C708  20 0C E8   			call	_spr_hide
16190                        	
16191                        		.dbg	line,	"include\routines_LEVELS.c", 3562; spr_set(player_id);
16192                        		__ld.umq	_player_id
         02:C70B  AD 1A 23   			lda	_player_id
16193                        		__call		_spr_set.1
         02:C70E  20 F1 E7   			call	_spr_set.1
16194                        	
16195                        		.dbg	line,	"include\routines_LEVELS.c", 3563; spr_pattern(PLAYER_CROUCH_VRAM_ADR);
16196                        		__ld.wi		8192
         02:C711  62         			cla
         02:C712  A0 20      			ldy.h	#8192
16197                        		__call		_spr_pattern.1
         02:C714  20 3A E8   			call	_spr_pattern.1
16198                        	
16199                        		.dbg	line,	"include\routines_LEVELS.c", 3565; spr_set(weapon_id);
16200                        		__ld.umq	_weapon_id
         02:C717  AD 29 23   			lda	_weapon_id
16201                        		__call		_spr_set.1
         02:C71A  20 F1 E7   			call	_spr_set.1
16202                        	
16203                        		.dbg	line,	"include\routines_LEVELS.c", 3566; spr_pattern(WEAPON_IDLE_VRAM_ADRESS);
16204                        		__ld.wi		31808
         02:C71D  A9 40      			lda.l	#31808
         02:C71F  A0 7C      			ldy.h	#31808
16205                        		__call		_spr_pattern.1
         02:C721  20 3A E8   			call	_spr_pattern.1
16206                        	
16207                        		.dbg	line,	"include\routines_LEVELS.c", 3567; 
16208                        	
16209                        		.dbg	line,	"include\routines_LEVELS.c", 3568; if(player_axis == AXIS_RIGHT)
16210                        		__not.um	_player_axis
         02:C724  AD 1C 23   			lda	_player_axis
         02:C727  18         			clc
         02:C728  D0 01      			bne	!+
         02:C72A  38         			sec
         02:C72B             	!:
16211                        		__bfalse	.LL815
         02:C72B  90 11      			bcc	.LL815
16212                        	
16213                        		.dbg	line,	"include\routines_LEVELS.c", 3569; {
16214                        	
16215                        		.dbg	line,	"include\routines_LEVELS.c", 3570; spr_x(player_pos_x-1);
16216                        		__ld.wm		_player_pos_x
         02:C72D  AD 01 25   			lda.l	_player_pos_x
         02:C730  AC 02 25   			ldy.h	_player_pos_x
16217                        		__sub.wi	1
         02:C733  38         			sec
         02:C734  E9 01      			sbc.l	#1
         02:C736  B0 01      			bcs	!+
         02:C738  88         			dey
         02:C739             	!:
16218                        		__call		_spr_x.1
         02:C739  20 1E E8   			call	_spr_x.1
16219                        	
16220                        		.dbg	line,	"include\routines_LEVELS.c", 3571; }
16221                        	
16222                        		.dbg	line,	"include\routines_LEVELS.c", 3573; else
16223                        		__bra		.LL816
         02:C73C  80 0F      			bra	.LL816
16224    02:C73E             	.LL815:
16225                        	
16226                        		.dbg	line,	"include\routines_LEVELS.c", 3574; {
16227                        	
16228                        		.dbg	line,	"include\routines_LEVELS.c", 3575; spr_x(player_pos_x+17);
16229                        		__ld.wm		_player_pos_x
         02:C73E  AD 01 25   			lda.l	_player_pos_x
         02:C741  AC 02 25   			ldy.h	_player_pos_x
16230                        		__add.wi	17
         02:C744  18         			clc
         02:C745  69 11      			adc.l	#17
         02:C747  90 01      			bcc	!+
         02:C749  C8         			iny
         02:C74A             	!:
16231                        		__call		_spr_x.1
         02:C74A  20 1E E8   			call	_spr_x.1
16232                        	
16233                        		.dbg	line,	"include\routines_LEVELS.c", 3576; }
16234    02:C74D             	.LL816:
16235                        	
16236                        		.dbg	line,	"include\routines_LEVELS.c", 3578; spr_y(player_pos_y+18);
16237                        		__ld.wm		_player_pos_y
         02:C74D  AD 03 25   			lda.l	_player_pos_y
         02:C750  AC 04 25   			ldy.h	_player_pos_y
16238                        		__add.wi	18
         02:C753  18         			clc
         02:C754  69 12      			adc.l	#18
         02:C756  90 01      			bcc	!+
         02:C758  C8         			iny
         02:C759             	!:
16239                        		__call		_spr_y.1
         02:C759  20 2D E8   			call	_spr_y.1
16240                        	
16241                        		.dbg	line,	"include\routines_LEVELS.c", 3580; player_attack = FALSE;
16242                        		__st.umiq	0, _player_attack
         02:C75C  9C 23 23   			stz	_player_attack
16243                        	
16244                        		.dbg	line,	"include\routines_LEVELS.c", 3581; player_counter_attack = 1;
16245                        		__st.umiq	1, _player_counter_attack
         02:C75F  A9 01      			lda.l	#1
         02:C761  8D 21 23   			sta	_player_counter_attack
16246                        	
16247                        		.dbg	line,	"include\routines_LEVELS.c", 3582; player_state = STATE_CROUCH;
16248                        		__st.umiq	7, _player_state
         02:C764  A9 07      			lda.l	#7
         02:C766  8D 1B 23   			sta	_player_state
16249                        	
16250                        		.dbg	line,	"include\routines_LEVELS.c", 3583; return;
16251                        		__bra		.LL748
         02:C769  4C E5 CF   			bra	.LL748
16252                        	
16253                        		.dbg	line,	"include\routines_LEVELS.c", 3584; }
16254                        	
16255                        		.dbg	line,	"include\routines_LEVELS.c", 3586; // CHAIN ANIMATION //
16256                        	
16257                        		.dbg	line,	"include\routines_LEVELS.c", 3587; //if(chain_unfold == TRUE)
16258                        	
16259                        		.dbg	line,	"include\routines_LEVELS.c", 3588; if(player_counter_attack > 5)
16260    02:C76C             	.LL814:
16261    02:C76C             	.LL813:
16262                        		__ld.umq	_player_counter_attack
         02:C76C  AD 21 23   			lda	_player_counter_attack
16263                        		__ugt_b.uiq	5
         02:C76F  18         			clc			; Subtract integer+1 from A.
         02:C770  E9 05      			sbc	#5		; CS if A > integer.
16264                        		__bfalse	.LL817
         02:C772  B0 03 4C 6D			bcc	.LL817
         02:C776  C9          
16265                        	
16266                        		.dbg	line,	"include\routines_LEVELS.c", 3589; {
16267                        	
16268                        		.dbg	line,	"include\routines_LEVELS.c", 3590; if(player_counter_attack == 6)
16269                        		__ld.umq	_player_counter_attack
         02:C777  AD 21 23   			lda	_player_counter_attack
16270                        		__equ_b.uiq	6
         02:C77A  C9 06      			cmp	#6
         02:C77C  F0 01      			beq	!+
         02:C77E  18         			clc
         02:C77F             	!:
16271                        		__bfalse	.LL818
         02:C77F  90 60      			bcc	.LL818
16272                        	
16273                        		.dbg	line,	"include\routines_LEVELS.c", 3591; {
16274                        	
16275                        		.dbg	line,	"include\routines_LEVELS.c", 3592; spr_set(player_id);
16276                        		__ld.umq	_player_id
         02:C781  AD 1A 23   			lda	_player_id
16277                        		__call		_spr_set.1
         02:C784  20 F1 E7   			call	_spr_set.1
16278                        	
16279                        		.dbg	line,	"include\routines_LEVELS.c", 3593; spr_pattern(PLAYER_CROUCH_ATTACK_2_VRAM_ADR);
16280                        		__ld.wi		11264
         02:C787  62         			cla
         02:C788  A0 2C      			ldy.h	#11264
16281                        		__call		_spr_pattern.1
         02:C78A  20 3A E8   			call	_spr_pattern.1
16282                        	
16283                        		.dbg	line,	"include\routines_LEVELS.c", 3595; spr_set(weapon_id);
16284                        		__ld.umq	_weapon_id
         02:C78D  AD 29 23   			lda	_weapon_id
16285                        		__call		_spr_set.1
         02:C790  20 F1 E7   			call	_spr_set.1
16286                        	
16287                        		.dbg	line,	"include\routines_LEVELS.c", 3596; spr_pattern(WEAPON_ATTACK_2_VRAM_ADRESS);
16288                        		__ld.wi		32064
         02:C793  A9 40      			lda.l	#32064
         02:C795  A0 7D      			ldy.h	#32064
16289                        		__call		_spr_pattern.1
         02:C797  20 3A E8   			call	_spr_pattern.1
16290                        	
16291                        		.dbg	line,	"include\routines_LEVELS.c", 3598; if(player_axis == AXIS_RIGHT)
16292                        		__not.um	_player_axis
         02:C79A  AD 1C 23   			lda	_player_axis
         02:C79D  18         			clc
         02:C79E  D0 01      			bne	!+
         02:C7A0  38         			sec
         02:C7A1             	!:
16293                        		__bfalse	.LL819
         02:C7A1  90 11      			bcc	.LL819
16294                        	
16295                        		.dbg	line,	"include\routines_LEVELS.c", 3599; {
16296                        	
16297                        		.dbg	line,	"include\routines_LEVELS.c", 3600; spr_x(player_pos_x+32);
16298                        		__ld.wm		_player_pos_x
         02:C7A3  AD 01 25   			lda.l	_player_pos_x
         02:C7A6  AC 02 25   			ldy.h	_player_pos_x
16299                        		__add.wi	32
         02:C7A9  18         			clc
         02:C7AA  69 20      			adc.l	#32
         02:C7AC  90 01      			bcc	!+
         02:C7AE  C8         			iny
         02:C7AF             	!:
16300                        		__call		_spr_x.1
         02:C7AF  20 1E E8   			call	_spr_x.1
16301                        	
16302                        		.dbg	line,	"include\routines_LEVELS.c", 3601; 
16303                        	
16304                        		.dbg	line,	"include\routines_LEVELS.c", 3602; }
16305                        	
16306                        		.dbg	line,	"include\routines_LEVELS.c", 3603; 
16307                        	
16308                        		.dbg	line,	"include\routines_LEVELS.c", 3604; else
16309                        		__bra		.LL820
         02:C7B2  80 0F      			bra	.LL820
16310    02:C7B4             	.LL819:
16311                        	
16312                        		.dbg	line,	"include\routines_LEVELS.c", 3605; {
16313                        	
16314                        		.dbg	line,	"include\routines_LEVELS.c", 3606; spr_x(player_pos_x-16);
16315                        		__ld.wm		_player_pos_x
         02:C7B4  AD 01 25   			lda.l	_player_pos_x
         02:C7B7  AC 02 25   			ldy.h	_player_pos_x
16316                        		__sub.wi	16
         02:C7BA  38         			sec
         02:C7BB  E9 10      			sbc.l	#16
         02:C7BD  B0 01      			bcs	!+
         02:C7BF  88         			dey
         02:C7C0             	!:
16317                        		__call		_spr_x.1
         02:C7C0  20 1E E8   			call	_spr_x.1
16318                        	
16319                        		.dbg	line,	"include\routines_LEVELS.c", 3607; }
16320    02:C7C3             	.LL820:
16321                        	
16322                        		.dbg	line,	"include\routines_LEVELS.c", 3609; weapon_y_offset = 14;
16323                        		__st.umiq	14, _weapon_y_offset
         02:C7C3  A9 0E      			lda.l	#14
         02:C7C5  8D 99 26   			sta	_weapon_y_offset
16324                        	
16325                        		.dbg	line,	"include\routines_LEVELS.c", 3610; spr_y(player_pos_y + weapon_y_offset);
16326                        		__ld.bm		_weapon_y_offset
         02:C7C8  AD 99 26   			lda	_weapon_y_offset
         02:C7CB  C2         			cly
         02:C7CC  10 01      			bpl	!+
         02:C7CE  88         			dey
         02:C7CF             	!:
16327                        		__add.wm	_player_pos_y
         02:C7CF  18         			clc
         02:C7D0  6D 03 25   			adc.l	_player_pos_y
         02:C7D3  42         			say
         02:C7D4  6D 04 25   			adc.h	_player_pos_y
         02:C7D7  42         			say
16328                        		__call		_spr_y.1
         02:C7D8  20 2D E8   			call	_spr_y.1
16329                        	
16330                        		.dbg	line,	"include\routines_LEVELS.c", 3612; collision_WEAPON_OBJECTS();
16331                        		__call		_collision_WEAPON_OBJECTS
         02:C7DB  20 09 FF   			call	_collision_WEAPON_OBJECTS
16332                        	
16333                        		.dbg	line,	"include\routines_LEVELS.c", 3613; }
16334                        	
16335                        		.dbg	line,	"include\routines_LEVELS.c", 3615; else if(player_counter_attack == 7)
16336                        		__bra		.LL821
         02:C7DE  4C 6D C9   			bra	.LL821
16337    02:C7E1             	.LL818:
16338                        		__ld.umq	_player_counter_attack
         02:C7E1  AD 21 23   			lda	_player_counter_attack
16339                        		__equ_b.uiq	7
         02:C7E4  C9 07      			cmp	#7
         02:C7E6  F0 01      			beq	!+
         02:C7E8  18         			clc
         02:C7E9             	!:
16340                        		__bfalse	.LL822
         02:C7E9  90 77      			bcc	.LL822
16341                        	
16342                        		.dbg	line,	"include\routines_LEVELS.c", 3616; {
16343                        	
16344                        		.dbg	line,	"include\routines_LEVELS.c", 3617; list_chain_active[0] = TRUE;
16345                        		__st.umiq	1, _list_chain_active
         02:C7EB  A9 01      			lda.l	#1
         02:C7ED  8D 2C 23   			sta	_list_chain_active
16346                        	
16347                        		.dbg	line,	"include\routines_LEVELS.c", 3618; spr_set(chain_id);
16348                        		__ld.umq	_chain_id
         02:C7F0  AD 28 23   			lda	_chain_id
16349                        		__call		_spr_set.1
         02:C7F3  20 F1 E7   			call	_spr_set.1
16350                        	
16351                        		.dbg	line,	"include\routines_LEVELS.c", 3620; if(player_axis == AXIS_RIGHT)
16352                        		__not.um	_player_axis
         02:C7F6  AD 1C 23   			lda	_player_axis
         02:C7F9  18         			clc
         02:C7FA  D0 01      			bne	!+
         02:C7FC  38         			sec
         02:C7FD             	!:
16353                        		__bfalse	.LL823
         02:C7FD  90 26      			bcc	.LL823
16354                        	
16355                        		.dbg	line,	"include\routines_LEVELS.c", 3621; {
16356                        	
16357                        		.dbg	line,	"include\routines_LEVELS.c", 3622; spr_x(player_pos_x+32);
16358                        		__ld.wm		_player_pos_x
         02:C7FF  AD 01 25   			lda.l	_player_pos_x
         02:C802  AC 02 25   			ldy.h	_player_pos_x
16359                        		__add.wi	32
         02:C805  18         			clc
         02:C806  69 20      			adc.l	#32
         02:C808  90 01      			bcc	!+
         02:C80A  C8         			iny
         02:C80B             	!:
16360                        		__call		_spr_x.1
         02:C80B  20 1E E8   			call	_spr_x.1
16361                        	
16362                        		.dbg	line,	"include\routines_LEVELS.c", 3624; spr_set(weapon_id);
16363                        		__ld.umq	_weapon_id
         02:C80E  AD 29 23   			lda	_weapon_id
16364                        		__call		_spr_set.1
         02:C811  20 F1 E7   			call	_spr_set.1
16365                        	
16366                        		.dbg	line,	"include\routines_LEVELS.c", 3625; spr_x(player_pos_x+48);
16367                        		__ld.wm		_player_pos_x
         02:C814  AD 01 25   			lda.l	_player_pos_x
         02:C817  AC 02 25   			ldy.h	_player_pos_x
16368                        		__add.wi	48
         02:C81A  18         			clc
         02:C81B  69 30      			adc.l	#48
         02:C81D  90 01      			bcc	!+
         02:C81F  C8         			iny
         02:C820             	!:
16369                        		__call		_spr_x.1
         02:C820  20 1E E8   			call	_spr_x.1
16370                        	
16371                        		.dbg	line,	"include\routines_LEVELS.c", 3626; }
16372                        	
16373                        		.dbg	line,	"include\routines_LEVELS.c", 3627; 
16374                        	
16375                        		.dbg	line,	"include\routines_LEVELS.c", 3628; else
16376                        		__bra		.LL824
         02:C823  80 24      			bra	.LL824
16377    02:C825             	.LL823:
16378                        	
16379                        		.dbg	line,	"include\routines_LEVELS.c", 3629; {
16380                        	
16381                        		.dbg	line,	"include\routines_LEVELS.c", 3630; spr_x(player_pos_x-16);
16382                        		__ld.wm		_player_pos_x
         02:C825  AD 01 25   			lda.l	_player_pos_x
         02:C828  AC 02 25   			ldy.h	_player_pos_x
16383                        		__sub.wi	16
         02:C82B  38         			sec
         02:C82C  E9 10      			sbc.l	#16
         02:C82E  B0 01      			bcs	!+
         02:C830  88         			dey
         02:C831             	!:
16384                        		__call		_spr_x.1
         02:C831  20 1E E8   			call	_spr_x.1
16385                        	
16386                        		.dbg	line,	"include\routines_LEVELS.c", 3632; spr_set(weapon_id);
16387                        		__ld.umq	_weapon_id
         02:C834  AD 29 23   			lda	_weapon_id
16388                        		__call		_spr_set.1
         02:C837  20 F1 E7   			call	_spr_set.1
16389                        	
16390                        		.dbg	line,	"include\routines_LEVELS.c", 3633; spr_x(player_pos_x-32);
16391                        		__ld.wm		_player_pos_x
         02:C83A  AD 01 25   			lda.l	_player_pos_x
         02:C83D  AC 02 25   			ldy.h	_player_pos_x
16392                        		__sub.wi	32
         02:C840  38         			sec
         02:C841  E9 20      			sbc.l	#32
         02:C843  B0 01      			bcs	!+
         02:C845  88         			dey
         02:C846             	!:
16393                        		__call		_spr_x.1
         02:C846  20 1E E8   			call	_spr_x.1
16394                        	
16395                        		.dbg	line,	"include\routines_LEVELS.c", 3634; }
16396    02:C849             	.LL824:
16397                        	
16398                        		.dbg	line,	"include\routines_LEVELS.c", 3636; spr_y(player_pos_y + weapon_y_offset);
16399                        		__ld.bm		_weapon_y_offset
         02:C849  AD 99 26   			lda	_weapon_y_offset
         02:C84C  C2         			cly
         02:C84D  10 01      			bpl	!+
         02:C84F  88         			dey
         02:C850             	!:
16400                        		__add.wm	_player_pos_y
         02:C850  18         			clc
         02:C851  6D 03 25   			adc.l	_player_pos_y
         02:C854  42         			say
         02:C855  6D 04 25   			adc.h	_player_pos_y
         02:C858  42         			say
16401                        		__call		_spr_y.1
         02:C859  20 2D E8   			call	_spr_y.1
16402                        	
16403                        		.dbg	line,	"include\routines_LEVELS.c", 3638; collision_WEAPON_OBJECTS();
16404                        		__call		_collision_WEAPON_OBJECTS
         02:C85C  20 09 FF   			call	_collision_WEAPON_OBJECTS
16405                        	
16406                        		.dbg	line,	"include\routines_LEVELS.c", 3639; }
16407                        	
16408                        		.dbg	line,	"include\routines_LEVELS.c", 3641; else if(player_counter_attack == 8)
16409                        		__bra		.LL825
         02:C85F  4C 6D C9   			bra	.LL825
16410    02:C862             	.LL822:
16411                        		__ld.umq	_player_counter_attack
         02:C862  AD 21 23   			lda	_player_counter_attack
16412                        		__equ_b.uiq	8
         02:C865  C9 08      			cmp	#8
         02:C867  F0 01      			beq	!+
         02:C869  18         			clc
         02:C86A             	!:
16413                        		__bfalse	.LL826
         02:C86A  90 7C      			bcc	.LL826
16414                        	
16415                        		.dbg	line,	"include\routines_LEVELS.c", 3642; {
16416                        	
16417                        		.dbg	line,	"include\routines_LEVELS.c", 3643; list_chain_active[1] = TRUE;
16418                        		__st.umiq	1, _list_chain_active + 1
         02:C86C  A9 01      			lda.l	#1
         02:C86E  8D 2D 23   			sta	_list_chain_active + 1
16419                        	
16420                        		.dbg	line,	"include\routines_LEVELS.c", 3644; spr_set(chain_id+1);
16421                        		__ld.um		_chain_id
         02:C871  AD 28 23   			lda	_chain_id
         02:C874  C2         			cly
16422                        		__add.wi	1
         02:C875  1A         			inc	a
         02:C876  D0 01      			bne	!+
         02:C878  C8         			iny
         02:C879             	!:
16423                        		__call		_spr_set.1
         02:C879  20 F1 E7   			call	_spr_set.1
16424                        	
16425                        		.dbg	line,	"include\routines_LEVELS.c", 3646; if(player_axis == AXIS_RIGHT)
16426                        		__not.um	_player_axis
         02:C87C  AD 1C 23   			lda	_player_axis
         02:C87F  18         			clc
         02:C880  D0 01      			bne	!+
         02:C882  38         			sec
         02:C883             	!:
16427                        		__bfalse	.LL827
         02:C883  90 26      			bcc	.LL827
16428                        	
16429                        		.dbg	line,	"include\routines_LEVELS.c", 3647; {
16430                        	
16431                        		.dbg	line,	"include\routines_LEVELS.c", 3648; spr_x(player_pos_x+48);
16432                        		__ld.wm		_player_pos_x
         02:C885  AD 01 25   			lda.l	_player_pos_x
         02:C888  AC 02 25   			ldy.h	_player_pos_x
16433                        		__add.wi	48
         02:C88B  18         			clc
         02:C88C  69 30      			adc.l	#48
         02:C88E  90 01      			bcc	!+
         02:C890  C8         			iny
         02:C891             	!:
16434                        		__call		_spr_x.1
         02:C891  20 1E E8   			call	_spr_x.1
16435                        	
16436                        		.dbg	line,	"include\routines_LEVELS.c", 3650; spr_set(weapon_id);
16437                        		__ld.umq	_weapon_id
         02:C894  AD 29 23   			lda	_weapon_id
16438                        		__call		_spr_set.1
         02:C897  20 F1 E7   			call	_spr_set.1
16439                        	
16440                        		.dbg	line,	"include\routines_LEVELS.c", 3651; spr_x(player_pos_x+64);
16441                        		__ld.wm		_player_pos_x
         02:C89A  AD 01 25   			lda.l	_player_pos_x
         02:C89D  AC 02 25   			ldy.h	_player_pos_x
16442                        		__add.wi	64
         02:C8A0  18         			clc
         02:C8A1  69 40      			adc.l	#64
         02:C8A3  90 01      			bcc	!+
         02:C8A5  C8         			iny
         02:C8A6             	!:
16443                        		__call		_spr_x.1
         02:C8A6  20 1E E8   			call	_spr_x.1
16444                        	
16445                        		.dbg	line,	"include\routines_LEVELS.c", 3652; }
16446                        	
16447                        		.dbg	line,	"include\routines_LEVELS.c", 3653; 
16448                        	
16449                        		.dbg	line,	"include\routines_LEVELS.c", 3654; else
16450                        		__bra		.LL828
         02:C8A9  80 24      			bra	.LL828
16451    02:C8AB             	.LL827:
16452                        	
16453                        		.dbg	line,	"include\routines_LEVELS.c", 3655; {
16454                        	
16455                        		.dbg	line,	"include\routines_LEVELS.c", 3656; spr_x(player_pos_x-32);
16456                        		__ld.wm		_player_pos_x
         02:C8AB  AD 01 25   			lda.l	_player_pos_x
         02:C8AE  AC 02 25   			ldy.h	_player_pos_x
16457                        		__sub.wi	32
         02:C8B1  38         			sec
         02:C8B2  E9 20      			sbc.l	#32
         02:C8B4  B0 01      			bcs	!+
         02:C8B6  88         			dey
         02:C8B7             	!:
16458                        		__call		_spr_x.1
         02:C8B7  20 1E E8   			call	_spr_x.1
16459                        	
16460                        		.dbg	line,	"include\routines_LEVELS.c", 3658; spr_set(weapon_id);
16461                        		__ld.umq	_weapon_id
         02:C8BA  AD 29 23   			lda	_weapon_id
16462                        		__call		_spr_set.1
         02:C8BD  20 F1 E7   			call	_spr_set.1
16463                        	
16464                        		.dbg	line,	"include\routines_LEVELS.c", 3659; spr_x(player_pos_x-48);
16465                        		__ld.wm		_player_pos_x
         02:C8C0  AD 01 25   			lda.l	_player_pos_x
         02:C8C3  AC 02 25   			ldy.h	_player_pos_x
16466                        		__sub.wi	48
         02:C8C6  38         			sec
         02:C8C7  E9 30      			sbc.l	#48
         02:C8C9  B0 01      			bcs	!+
         02:C8CB  88         			dey
         02:C8CC             	!:
16467                        		__call		_spr_x.1
         02:C8CC  20 1E E8   			call	_spr_x.1
16468                        	
16469                        		.dbg	line,	"include\routines_LEVELS.c", 3660; }
16470    02:C8CF             	.LL828:
16471                        	
16472                        		.dbg	line,	"include\routines_LEVELS.c", 3662; spr_y(player_pos_y + weapon_y_offset);
16473                        		__ld.bm		_weapon_y_offset
         02:C8CF  AD 99 26   			lda	_weapon_y_offset
         02:C8D2  C2         			cly
         02:C8D3  10 01      			bpl	!+
         02:C8D5  88         			dey
         02:C8D6             	!:
16474                        		__add.wm	_player_pos_y
         02:C8D6  18         			clc
         02:C8D7  6D 03 25   			adc.l	_player_pos_y
         02:C8DA  42         			say
         02:C8DB  6D 04 25   			adc.h	_player_pos_y
         02:C8DE  42         			say
16475                        		__call		_spr_y.1
         02:C8DF  20 2D E8   			call	_spr_y.1
16476                        	
16477                        		.dbg	line,	"include\routines_LEVELS.c", 3664; collision_WEAPON_OBJECTS();
16478                        		__call		_collision_WEAPON_OBJECTS
         02:C8E2  20 09 FF   			call	_collision_WEAPON_OBJECTS
16479                        	
16480                        		.dbg	line,	"include\routines_LEVELS.c", 3665; }
16481                        	
16482                        		.dbg	line,	"include\routines_LEVELS.c", 3667; else if(player_counter_attack == 9)
16483                        		__bra		.LL829
         02:C8E5  4C 6D C9   			bra	.LL829
16484    02:C8E8             	.LL826:
16485                        		__ld.umq	_player_counter_attack
         02:C8E8  AD 21 23   			lda	_player_counter_attack
16486                        		__equ_b.uiq	9
         02:C8EB  C9 09      			cmp	#9
         02:C8ED  F0 01      			beq	!+
         02:C8EF  18         			clc
         02:C8F0             	!:
16487                        		__bfalse	.LL830
         02:C8F0  90 7B      			bcc	.LL830
16488                        	
16489                        		.dbg	line,	"include\routines_LEVELS.c", 3668; {
16490                        	
16491                        		.dbg	line,	"include\routines_LEVELS.c", 3669; list_chain_active[2] = TRUE;
16492                        		__st.umiq	1, _list_chain_active + 2
         02:C8F2  A9 01      			lda.l	#1
         02:C8F4  8D 2E 23   			sta	_list_chain_active + 2
16493                        	
16494                        		.dbg	line,	"include\routines_LEVELS.c", 3670; spr_set(chain_id+2);
16495                        		__ld.um		_chain_id
         02:C8F7  AD 28 23   			lda	_chain_id
         02:C8FA  C2         			cly
16496                        		__add.wi	2
         02:C8FB  18         			clc
         02:C8FC  69 02      			adc.l	#2
         02:C8FE  90 01      			bcc	!+
         02:C900  C8         			iny
         02:C901             	!:
16497                        		__call		_spr_set.1
         02:C901  20 F1 E7   			call	_spr_set.1
16498                        	
16499                        		.dbg	line,	"include\routines_LEVELS.c", 3672; if(player_axis == AXIS_RIGHT)
16500                        		__not.um	_player_axis
         02:C904  AD 1C 23   			lda	_player_axis
         02:C907  18         			clc
         02:C908  D0 01      			bne	!+
         02:C90A  38         			sec
         02:C90B             	!:
16501                        		__bfalse	.LL831
         02:C90B  90 26      			bcc	.LL831
16502                        	
16503                        		.dbg	line,	"include\routines_LEVELS.c", 3673; {
16504                        	
16505                        		.dbg	line,	"include\routines_LEVELS.c", 3674; spr_x(player_pos_x+64);
16506                        		__ld.wm		_player_pos_x
         02:C90D  AD 01 25   			lda.l	_player_pos_x
         02:C910  AC 02 25   			ldy.h	_player_pos_x
16507                        		__add.wi	64
         02:C913  18         			clc
         02:C914  69 40      			adc.l	#64
         02:C916  90 01      			bcc	!+
         02:C918  C8         			iny
         02:C919             	!:
16508                        		__call		_spr_x.1
         02:C919  20 1E E8   			call	_spr_x.1
16509                        	
16510                        		.dbg	line,	"include\routines_LEVELS.c", 3676; spr_set(weapon_id);
16511                        		__ld.umq	_weapon_id
         02:C91C  AD 29 23   			lda	_weapon_id
16512                        		__call		_spr_set.1
         02:C91F  20 F1 E7   			call	_spr_set.1
16513                        	
16514                        		.dbg	line,	"include\routines_LEVELS.c", 3677; spr_x(player_pos_x+80);
16515                        		__ld.wm		_player_pos_x
         02:C922  AD 01 25   			lda.l	_player_pos_x
         02:C925  AC 02 25   			ldy.h	_player_pos_x
16516                        		__add.wi	80
         02:C928  18         			clc
         02:C929  69 50      			adc.l	#80
         02:C92B  90 01      			bcc	!+
         02:C92D  C8         			iny
         02:C92E             	!:
16517                        		__call		_spr_x.1
         02:C92E  20 1E E8   			call	_spr_x.1
16518                        	
16519                        		.dbg	line,	"include\routines_LEVELS.c", 3678; }
16520                        	
16521                        		.dbg	line,	"include\routines_LEVELS.c", 3679; 
16522                        	
16523                        		.dbg	line,	"include\routines_LEVELS.c", 3680; else
16524                        		__bra		.LL832
         02:C931  80 24      			bra	.LL832
16525    02:C933             	.LL831:
16526                        	
16527                        		.dbg	line,	"include\routines_LEVELS.c", 3681; {
16528                        	
16529                        		.dbg	line,	"include\routines_LEVELS.c", 3682; spr_x(player_pos_x-48);
16530                        		__ld.wm		_player_pos_x
         02:C933  AD 01 25   			lda.l	_player_pos_x
         02:C936  AC 02 25   			ldy.h	_player_pos_x
16531                        		__sub.wi	48
         02:C939  38         			sec
         02:C93A  E9 30      			sbc.l	#48
         02:C93C  B0 01      			bcs	!+
         02:C93E  88         			dey
         02:C93F             	!:
16532                        		__call		_spr_x.1
         02:C93F  20 1E E8   			call	_spr_x.1
16533                        	
16534                        		.dbg	line,	"include\routines_LEVELS.c", 3684; spr_set(weapon_id);
16535                        		__ld.umq	_weapon_id
         02:C942  AD 29 23   			lda	_weapon_id
16536                        		__call		_spr_set.1
         02:C945  20 F1 E7   			call	_spr_set.1
16537                        	
16538                        		.dbg	line,	"include\routines_LEVELS.c", 3685; spr_x(player_pos_x-64);
16539                        		__ld.wm		_player_pos_x
         02:C948  AD 01 25   			lda.l	_player_pos_x
         02:C94B  AC 02 25   			ldy.h	_player_pos_x
16540                        		__sub.wi	64
         02:C94E  38         			sec
         02:C94F  E9 40      			sbc.l	#64
         02:C951  B0 01      			bcs	!+
         02:C953  88         			dey
         02:C954             	!:
16541                        		__call		_spr_x.1
         02:C954  20 1E E8   			call	_spr_x.1
16542                        	
16543                        		.dbg	line,	"include\routines_LEVELS.c", 3686; }
16544    02:C957             	.LL832:
16545                        	
16546                        		.dbg	line,	"include\routines_LEVELS.c", 3688; spr_y(player_pos_y + weapon_y_offset);
16547                        		__ld.bm		_weapon_y_offset
         02:C957  AD 99 26   			lda	_weapon_y_offset
         02:C95A  C2         			cly
         02:C95B  10 01      			bpl	!+
         02:C95D  88         			dey
         02:C95E             	!:
16548                        		__add.wm	_player_pos_y
         02:C95E  18         			clc
         02:C95F  6D 03 25   			adc.l	_player_pos_y
         02:C962  42         			say
         02:C963  6D 04 25   			adc.h	_player_pos_y
         02:C966  42         			say
16549                        		__call		_spr_y.1
         02:C967  20 2D E8   			call	_spr_y.1
16550                        	
16551                        		.dbg	line,	"include\routines_LEVELS.c", 3690; collision_WEAPON_OBJECTS();
16552                        		__call		_collision_WEAPON_OBJECTS
         02:C96A  20 09 FF   			call	_collision_WEAPON_OBJECTS
16553                        	
16554                        		.dbg	line,	"include\routines_LEVELS.c", 3691; }
16555                        	
16556                        		.dbg	line,	"include\routines_LEVELS.c", 3692; }
16557    02:C96D             	.LL830:
16558    02:C96D             	.LL829:
16559    02:C96D             	.LL825:
16560    02:C96D             	.LL821:
16561                        	
16562                        		.dbg	line,	"include\routines_LEVELS.c", 3695; player_counter_attack += 1;
16563    02:C96D             	.LL817:
16564                        		__add_st.umiq	1, _player_counter_attack
         02:C96D  EE 21 23   			inc	_player_counter_attack
16565                        	
16566                        		.dbg	line,	"include\routines_LEVELS.c", 3698; // SET CHAIN Y POSITION //
16567                        	
16568                        		.dbg	line,	"include\routines_LEVELS.c", 3699; for(i=0 ; i<3 ; i++)
16569                        		__st.umiq	0, __update_WEAPON_end - 3  /* i */
         02:C970  9C 0E 23   			stz	__update_WEAPON_end - 3
16570    02:C973             	.LL833:
16571                        		__ld.umq	__update_WEAPON_end - 3  /* i */
         02:C973  AD 0E 23   			lda	__update_WEAPON_end - 3
16572                        		__ult_b.uiq	3
         02:C976  C9 03      			cmp	#3		; Subtract integer from A.
         02:C978  6A         			ror	a		; CC if A < integer.
         02:C979  49 80      			eor	#$80
         02:C97B  2A         			rol	a
16573                        		__btrue		.LL835
         02:C97C  B0 08      			bcs	.LL835
16574                        		__bra		.LL836
         02:C97E  4C E5 CF   			bra	.LL836
16575    02:C981             	.LL834:
16576                        		__inc.umq	__update_WEAPON_end - 3  /* i */
         02:C981  EE 0E 23   			inc	__update_WEAPON_end - 3
16577                        		__bra		.LL833
         02:C984  80 ED      			bra	.LL833
16578    02:C986             	.LL835:
16579                        	
16580                        		.dbg	line,	"include\routines_LEVELS.c", 3700; {
16581                        	
16582                        		.dbg	line,	"include\routines_LEVELS.c", 3701; spr_set(chain_id+i);
16583                        		__ld.um		_chain_id
         02:C986  AD 28 23   			lda	_chain_id
         02:C989  C2         			cly
16584                        		__add.um	__update_WEAPON_end - 3  /* i */
         02:C98A  18         			clc
         02:C98B  6D 0E 23   			adc	__update_WEAPON_end - 3
         02:C98E  90 01      			bcc	!+
         02:C990  C8         			iny
         02:C991             	!:
16585                        		__call		_spr_set.1
         02:C991  20 F1 E7   			call	_spr_set.1
16586                        	
16587                        		.dbg	line,	"include\routines_LEVELS.c", 3703; spr_y( ((player_pos_y + 24) * list_chain_active[i]) - 16); //list_chain_active[0] = TRUE;
16588                        		__ld.wm		_player_pos_y
         02:C994  AD 03 25   			lda.l	_player_pos_y
         02:C997  AC 04 25   			ldy.h	_player_pos_y
16589                        		__add.wi	24
         02:C99A  18         			clc
         02:C99B  69 18      			adc.l	#24
         02:C99D  90 01      			bcc	!+
         02:C99F  C8         			iny
         02:C9A0             	!:
16590                        		__push.wr
         02:C9A0  5A         			phy
         02:C9A1  48         			pha
16591                        		__ldx.umq	__update_WEAPON_end - 3  /* i */
         02:C9A2  AE 0E 23   			ldx	__update_WEAPON_end - 3
16592                        		__ld.uax	_list_chain_active
         02:C9A5  BD 2C 23   			lda	_list_chain_active, x
         02:C9A8  C2         			cly
16593                        		__mul.wt
         02:C9A9  85 00      			sta.l	<multiplier
         02:C9AB  84 01      			sty.h	<multiplier
         02:C9AD  68         			pla
         02:C9AE  7A         			ply
         02:C9AF  20 60 E4   			jsr	__mulint
16594                        		__sub.wi	16
         02:C9B2  38         			sec
         02:C9B3  E9 10      			sbc.l	#16
         02:C9B5  B0 01      			bcs	!+
         02:C9B7  88         			dey
         02:C9B8             	!:
16595                        		__call		_spr_y.1
         02:C9B8  20 2D E8   			call	_spr_y.1
16596                        	
16597                        		.dbg	line,	"include\routines_LEVELS.c", 3704; }
16598                        		__bra		.LL834
         02:C9BB  80 C4      			bra	.LL834
16599    02:C9BD             	.LL836	.alias		.LL837
16600                        	
16601                        		.dbg	line,	"include\routines_LEVELS.c", 3705; }
16602                        	
16603                        		.dbg	line,	"include\routines_LEVELS.c", 3708; else if(player_state == STATE_HANG)
16604                        		__bra		.LL837
         02:C9BD  4C E5 CF   			bra	.LL837
16605    02:C9C0             	.LL809:
16606                        		__ld.umq	_player_state
         02:C9C0  AD 1B 23   			lda	_player_state
16607                        		__equ_b.uiq	10
         02:C9C3  C9 0A      			cmp	#10
         02:C9C5  F0 01      			beq	!+
         02:C9C7  18         			clc
         02:C9C8             	!:
16608                        		__bfalse	.LL838
         02:C9C8  B0 03 4C A1			bcc	.LL838
         02:C9CC  CC          
16609                        	
16610                        		.dbg	line,	"include\routines_LEVELS.c", 3709; {
16611                        	
16612                        		.dbg	line,	"include\routines_LEVELS.c", 3710; if(player_attack == TRUE)
16613                        		__ld.umq	_player_attack
         02:C9CD  AD 23 23   			lda	_player_attack
16614                        		__equ_b.uiq	1
         02:C9D0  C9 01      			cmp	#1
         02:C9D2  F0 01      			beq	!+
         02:C9D4  18         			clc
         02:C9D5             	!:
16615                        		__bfalse	.LL839
         02:C9D5  B0 03 4C E5			bcc	.LL839
         02:C9D9  CF          
16616                        	
16617                        		.dbg	line,	"include\routines_LEVELS.c", 3711; {
16618                        	
16619                        		.dbg	line,	"include\routines_LEVELS.c", 3712; if(player_counter_attack < 6)
16620                        		__ld.umq	_player_counter_attack
         02:C9DA  AD 21 23   			lda	_player_counter_attack
16621                        		__ult_b.uiq	6
         02:C9DD  C9 06      			cmp	#6		; Subtract integer from A.
         02:C9DF  6A         			ror	a		; CC if A < integer.
         02:C9E0  49 80      			eor	#$80
         02:C9E2  2A         			rol	a
16622                        		__bfalse	.LL840
         02:C9E3  90 53      			bcc	.LL840
16623                        	
16624                        		.dbg	line,	"include\routines_LEVELS.c", 3713; {
16625                        	
16626                        		.dbg	line,	"include\routines_LEVELS.c", 3714; // UPDATE PLAYER TILES //
16627                        	
16628                        		.dbg	line,	"include\routines_LEVELS.c", 3715; spr_set(player_id);
16629                        		__ld.umq	_player_id
         02:C9E5  AD 1A 23   			lda	_player_id
16630                        		__call		_spr_set.1
         02:C9E8  20 F1 E7   			call	_spr_set.1
16631                        	
16632                        		.dbg	line,	"include\routines_LEVELS.c", 3716; spr_pattern(PLAYER_HANG_ATTACK_1_VRAM_ADR);
16633                        		__ld.wi		12032
         02:C9EB  62         			cla
         02:C9EC  A0 2F      			ldy.h	#12032
16634                        		__call		_spr_pattern.1
         02:C9EE  20 3A E8   			call	_spr_pattern.1
16635                        	
16636                        		.dbg	line,	"include\routines_LEVELS.c", 3718; // UPDATE WEAPON TILES //
16637                        	
16638                        		.dbg	line,	"include\routines_LEVELS.c", 3719; spr_set(weapon_id);
16639                        		__ld.umq	_weapon_id
         02:C9F1  AD 29 23   			lda	_weapon_id
16640                        		__call		_spr_set.1
         02:C9F4  20 F1 E7   			call	_spr_set.1
16641                        	
16642                        		.dbg	line,	"include\routines_LEVELS.c", 3720; spr_pattern(WEAPON_ATTACK_1_VRAM_ADRESS);
16643                        		__ld.wi		32000
         02:C9F7  62         			cla
         02:C9F8  A0 7D      			ldy.h	#32000
16644                        		__call		_spr_pattern.1
         02:C9FA  20 3A E8   			call	_spr_pattern.1
16645                        	
16646                        		.dbg	line,	"include\routines_LEVELS.c", 3722; // UPDATE WEAPON H POSITION //
16647                        	
16648                        		.dbg	line,	"include\routines_LEVELS.c", 3723; if(player_axis == AXIS_RIGHT)
16649                        		__not.um	_player_axis
         02:C9FD  AD 1C 23   			lda	_player_axis
         02:CA00  18         			clc
         02:CA01  D0 01      			bne	!+
         02:CA03  38         			sec
         02:CA04             	!:
16650                        		__bfalse	.LL841
         02:CA04  90 11      			bcc	.LL841
16651                        	
16652                        		.dbg	line,	"include\routines_LEVELS.c", 3724; {
16653                        	
16654                        		.dbg	line,	"include\routines_LEVELS.c", 3725; spr_x(player_pos_x-14);
16655                        		__ld.wm		_player_pos_x
         02:CA06  AD 01 25   			lda.l	_player_pos_x
         02:CA09  AC 02 25   			ldy.h	_player_pos_x
16656                        		__sub.wi	14
         02:CA0C  38         			sec
         02:CA0D  E9 0E      			sbc.l	#14
         02:CA0F  B0 01      			bcs	!+
         02:CA11  88         			dey
         02:CA12             	!:
16657                        		__call		_spr_x.1
         02:CA12  20 1E E8   			call	_spr_x.1
16658                        	
16659                        		.dbg	line,	"include\routines_LEVELS.c", 3726; }
16660                        	
16661                        		.dbg	line,	"include\routines_LEVELS.c", 3728; else
16662                        		__bra		.LL842
         02:CA15  80 0F      			bra	.LL842
16663    02:CA17             	.LL841:
16664                        	
16665                        		.dbg	line,	"include\routines_LEVELS.c", 3729; {
16666                        	
16667                        		.dbg	line,	"include\routines_LEVELS.c", 3730; spr_x(player_pos_x+29);
16668                        		__ld.wm		_player_pos_x
         02:CA17  AD 01 25   			lda.l	_player_pos_x
         02:CA1A  AC 02 25   			ldy.h	_player_pos_x
16669                        		__add.wi	29
         02:CA1D  18         			clc
         02:CA1E  69 1D      			adc.l	#29
         02:CA20  90 01      			bcc	!+
         02:CA22  C8         			iny
         02:CA23             	!:
16670                        		__call		_spr_x.1
         02:CA23  20 1E E8   			call	_spr_x.1
16671                        	
16672                        		.dbg	line,	"include\routines_LEVELS.c", 3731; }
16673    02:CA26             	.LL842:
16674                        	
16675                        		.dbg	line,	"include\routines_LEVELS.c", 3733; // UPDATE WEAPON V POSITION //
16676                        	
16677                        		.dbg	line,	"include\routines_LEVELS.c", 3734; spr_y(player_pos_y-8);
16678                        		__ld.wm		_player_pos_y
         02:CA26  AD 03 25   			lda.l	_player_pos_y
         02:CA29  AC 04 25   			ldy.h	_player_pos_y
16679                        		__sub.wi	8
         02:CA2C  38         			sec
         02:CA2D  E9 08      			sbc.l	#8
         02:CA2F  B0 01      			bcs	!+
         02:CA31  88         			dey
         02:CA32             	!:
16680                        		__call		_spr_y.1
         02:CA32  20 2D E8   			call	_spr_y.1
16681                        	
16682                        		.dbg	line,	"include\routines_LEVELS.c", 3735; }
16683                        	
16684                        		.dbg	line,	"include\routines_LEVELS.c", 3737; else if(player_counter_attack == 23)
16685                        		__bra		.LL843
         02:CA35  4C D1 CA   			bra	.LL843
16686    02:CA38             	.LL840:
16687                        		__ld.umq	_player_counter_attack
         02:CA38  AD 21 23   			lda	_player_counter_attack
16688                        		__equ_b.uiq	23
         02:CA3B  C9 17      			cmp	#23
         02:CA3D  F0 01      			beq	!+
         02:CA3F  18         			clc
         02:CA40             	!:
16689                        		__bfalse	.LL844
         02:CA40  B0 03 4C D1			bcc	.LL844
         02:CA44  CA          
16690                        	
16691                        		.dbg	line,	"include\routines_LEVELS.c", 3738; {
16692                        	
16693                        		.dbg	line,	"include\routines_LEVELS.c", 3739; spr_set(chain_id);
16694                        		__ld.umq	_chain_id
         02:CA45  AD 28 23   			lda	_chain_id
16695                        		__call		_spr_set.1
         02:CA48  20 F1 E7   			call	_spr_set.1
16696                        	
16697                        		.dbg	line,	"include\routines_LEVELS.c", 3740; spr_hide();
16698                        		__call		_spr_hide
         02:CA4B  20 0C E8   			call	_spr_hide
16699                        	
16700                        		.dbg	line,	"include\routines_LEVELS.c", 3742; spr_set(chain_id+1);
16701                        		__ld.um		_chain_id
         02:CA4E  AD 28 23   			lda	_chain_id
         02:CA51  C2         			cly
16702                        		__add.wi	1
         02:CA52  1A         			inc	a
         02:CA53  D0 01      			bne	!+
         02:CA55  C8         			iny
         02:CA56             	!:
16703                        		__call		_spr_set.1
         02:CA56  20 F1 E7   			call	_spr_set.1
16704                        	
16705                        		.dbg	line,	"include\routines_LEVELS.c", 3743; spr_hide();
16706                        		__call		_spr_hide
         02:CA59  20 0C E8   			call	_spr_hide
16707                        	
16708                        		.dbg	line,	"include\routines_LEVELS.c", 3745; spr_set(chain_id+2);
16709                        		__ld.um		_chain_id
         02:CA5C  AD 28 23   			lda	_chain_id
         02:CA5F  C2         			cly
16710                        		__add.wi	2
         02:CA60  18         			clc
         02:CA61  69 02      			adc.l	#2
         02:CA63  90 01      			bcc	!+
         02:CA65  C8         			iny
         02:CA66             	!:
16711                        		__call		_spr_set.1
         02:CA66  20 F1 E7   			call	_spr_set.1
16712                        	
16713                        		.dbg	line,	"include\routines_LEVELS.c", 3746; spr_hide();
16714                        		__call		_spr_hide
         02:CA69  20 0C E8   			call	_spr_hide
16715                        	
16716                        		.dbg	line,	"include\routines_LEVELS.c", 3748; spr_set(player_id);
16717                        		__ld.umq	_player_id
         02:CA6C  AD 1A 23   			lda	_player_id
16718                        		__call		_spr_set.1
         02:CA6F  20 F1 E7   			call	_spr_set.1
16719                        	
16720                        		.dbg	line,	"include\routines_LEVELS.c", 3749; spr_pattern(PLAYER_HANG_VRAM_ADR);
16721                        		__ld.wi		8448
         02:CA72  62         			cla
         02:CA73  A0 21      			ldy.h	#8448
16722                        		__call		_spr_pattern.1
         02:CA75  20 3A E8   			call	_spr_pattern.1
16723                        	
16724                        		.dbg	line,	"include\routines_LEVELS.c", 3751; spr_set(weapon_id);
16725                        		__ld.umq	_weapon_id
         02:CA78  AD 29 23   			lda	_weapon_id
16726                        		__call		_spr_set.1
         02:CA7B  20 F1 E7   			call	_spr_set.1
16727                        	
16728                        		.dbg	line,	"include\routines_LEVELS.c", 3752; spr_pattern(WEAPON_IDLE_VRAM_ADRESS);
16729                        		__ld.wi		31808
         02:CA7E  A9 40      			lda.l	#31808
         02:CA80  A0 7C      			ldy.h	#31808
16730                        		__call		_spr_pattern.1
         02:CA82  20 3A E8   			call	_spr_pattern.1
16731                        	
16732                        		.dbg	line,	"include\routines_LEVELS.c", 3753; spr_y(player_pos_y+5);
16733                        		__ld.wm		_player_pos_y
         02:CA85  AD 03 25   			lda.l	_player_pos_y
         02:CA88  AC 04 25   			ldy.h	_player_pos_y
16734                        		__add.wi	5
         02:CA8B  18         			clc
         02:CA8C  69 05      			adc.l	#5
         02:CA8E  90 01      			bcc	!+
         02:CA90  C8         			iny
         02:CA91             	!:
16735                        		__call		_spr_y.1
         02:CA91  20 2D E8   			call	_spr_y.1
16736                        	
16737                        		.dbg	line,	"include\routines_LEVELS.c", 3755; if(player_axis == AXIS_RIGHT)
16738                        		__not.um	_player_axis
         02:CA94  AD 1C 23   			lda	_player_axis
         02:CA97  18         			clc
         02:CA98  D0 01      			bne	!+
         02:CA9A  38         			sec
         02:CA9B             	!:
16739                        		__bfalse	.LL845
         02:CA9B  90 11      			bcc	.LL845
16740                        	
16741                        		.dbg	line,	"include\routines_LEVELS.c", 3756; {
16742                        	
16743                        		.dbg	line,	"include\routines_LEVELS.c", 3757; spr_x(player_pos_x+17);
16744                        		__ld.wm		_player_pos_x
         02:CA9D  AD 01 25   			lda.l	_player_pos_x
         02:CAA0  AC 02 25   			ldy.h	_player_pos_x
16745                        		__add.wi	17
         02:CAA3  18         			clc
         02:CAA4  69 11      			adc.l	#17
         02:CAA6  90 01      			bcc	!+
         02:CAA8  C8         			iny
         02:CAA9             	!:
16746                        		__call		_spr_x.1
         02:CAA9  20 1E E8   			call	_spr_x.1
16747                        	
16748                        		.dbg	line,	"include\routines_LEVELS.c", 3758; }
16749                        	
16750                        		.dbg	line,	"include\routines_LEVELS.c", 3760; else
16751                        		__bra		.LL846
         02:CAAC  80 0F      			bra	.LL846
16752    02:CAAE             	.LL845:
16753                        	
16754                        		.dbg	line,	"include\routines_LEVELS.c", 3761; {
16755                        	
16756                        		.dbg	line,	"include\routines_LEVELS.c", 3762; spr_x(player_pos_x-2);
16757                        		__ld.wm		_player_pos_x
         02:CAAE  AD 01 25   			lda.l	_player_pos_x
         02:CAB1  AC 02 25   			ldy.h	_player_pos_x
16758                        		__sub.wi	2
         02:CAB4  38         			sec
         02:CAB5  E9 02      			sbc.l	#2
         02:CAB7  B0 01      			bcs	!+
         02:CAB9  88         			dey
         02:CABA             	!:
16759                        		__call		_spr_x.1
         02:CABA  20 1E E8   			call	_spr_x.1
16760                        	
16761                        		.dbg	line,	"include\routines_LEVELS.c", 3763; }
16762    02:CABD             	.LL846:
16763                        	
16764                        		.dbg	line,	"include\routines_LEVELS.c", 3765; list_chain_active[0] = FALSE;
16765                        		__st.umiq	0, _list_chain_active
         02:CABD  9C 2C 23   			stz	_list_chain_active
16766                        	
16767                        		.dbg	line,	"include\routines_LEVELS.c", 3766; list_chain_active[1] = FALSE;
16768                        		__st.umiq	0, _list_chain_active + 1
         02:CAC0  9C 2D 23   			stz	_list_chain_active + 1
16769                        	
16770                        		.dbg	line,	"include\routines_LEVELS.c", 3767; list_chain_active[2] = FALSE;
16771                        		__st.umiq	0, _list_chain_active + 2
         02:CAC3  9C 2E 23   			stz	_list_chain_active + 2
16772                        	
16773                        		.dbg	line,	"include\routines_LEVELS.c", 3769; player_attack = FALSE;
16774                        		__st.umiq	0, _player_attack
         02:CAC6  9C 23 23   			stz	_player_attack
16775                        	
16776                        		.dbg	line,	"include\routines_LEVELS.c", 3770; player_counter_attack = 0;
16777                        		__st.umiq	0, _player_counter_attack
         02:CAC9  9C 21 23   			stz	_player_counter_attack
16778                        	
16779                        		.dbg	line,	"include\routines_LEVELS.c", 3771; player_state = STATE_HANG;
16780                        		__st.umiq	10, _player_state
         02:CACC  A9 0A      			lda.l	#10
         02:CACE  8D 1B 23   			sta	_player_state
16781                        	
16782                        		.dbg	line,	"include\routines_LEVELS.c", 3772; }
16783                        	
16784                        		.dbg	line,	"include\routines_LEVELS.c", 3774; // CHAIN ANIMATION //
16785                        	
16786                        		.dbg	line,	"include\routines_LEVELS.c", 3775; if(player_counter_attack > 5)
16787    02:CAD1             	.LL844:
16788    02:CAD1             	.LL843:
16789                        		__ld.umq	_player_counter_attack
         02:CAD1  AD 21 23   			lda	_player_counter_attack
16790                        		__ugt_b.uiq	5
         02:CAD4  18         			clc			; Subtract integer+1 from A.
         02:CAD5  E9 05      			sbc	#5		; CS if A > integer.
16791                        		__bfalse	.LL847
         02:CAD7  B0 03 4C 9B			bcc	.LL847
         02:CADB  CC          
16792                        	
16793                        		.dbg	line,	"include\routines_LEVELS.c", 3776; {
16794                        	
16795                        		.dbg	line,	"include\routines_LEVELS.c", 3777; if(player_counter_attack == 6)
16796                        		__ld.umq	_player_counter_attack
         02:CADC  AD 21 23   			lda	_player_counter_attack
16797                        		__equ_b.uiq	6
         02:CADF  C9 06      			cmp	#6
         02:CAE1  F0 01      			beq	!+
         02:CAE3  18         			clc
         02:CAE4             	!:
16798                        		__bfalse	.LL848
         02:CAE4  90 46      			bcc	.LL848
16799                        	
16800                        		.dbg	line,	"include\routines_LEVELS.c", 3778; {
16801                        	
16802                        		.dbg	line,	"include\routines_LEVELS.c", 3779; // UPDATE PLAYER TILES //
16803                        	
16804                        		.dbg	line,	"include\routines_LEVELS.c", 3780; spr_set(player_id);
16805                        		__ld.umq	_player_id
         02:CAE6  AD 1A 23   			lda	_player_id
16806                        		__call		_spr_set.1
         02:CAE9  20 F1 E7   			call	_spr_set.1
16807                        	
16808                        		.dbg	line,	"include\routines_LEVELS.c", 3781; spr_pattern(PLAYER_HANG_ATTACK_2_VRAM_ADR);
16809                        		__ld.wi		12288
         02:CAEC  62         			cla
         02:CAED  A0 30      			ldy.h	#12288
16810                        		__call		_spr_pattern.1
         02:CAEF  20 3A E8   			call	_spr_pattern.1
16811                        	
16812                        		.dbg	line,	"include\routines_LEVELS.c", 3783; // UPDATE WEAPON TILES //
16813                        	
16814                        		.dbg	line,	"include\routines_LEVELS.c", 3784; spr_set(weapon_id);
16815                        		__ld.umq	_weapon_id
         02:CAF2  AD 29 23   			lda	_weapon_id
16816                        		__call		_spr_set.1
         02:CAF5  20 F1 E7   			call	_spr_set.1
16817                        	
16818                        		.dbg	line,	"include\routines_LEVELS.c", 3785; spr_pattern(WEAPON_ATTACK_2_VRAM_ADRESS);
16819                        		__ld.wi		32064
         02:CAF8  A9 40      			lda.l	#32064
         02:CAFA  A0 7D      			ldy.h	#32064
16820                        		__call		_spr_pattern.1
         02:CAFC  20 3A E8   			call	_spr_pattern.1
16821                        	
16822                        		.dbg	line,	"include\routines_LEVELS.c", 3787; // UPDATE WEAPON H POSITION //
16823                        	
16824                        		.dbg	line,	"include\routines_LEVELS.c", 3788; if(player_axis == AXIS_RIGHT)
16825                        		__not.um	_player_axis
         02:CAFF  AD 1C 23   			lda	_player_axis
         02:CB02  18         			clc
         02:CB03  D0 01      			bne	!+
         02:CB05  38         			sec
         02:CB06             	!:
16826                        		__bfalse	.LL849
         02:CB06  90 12      			bcc	.LL849
16827                        	
16828                        		.dbg	line,	"include\routines_LEVELS.c", 3789; {
16829                        	
16830                        		.dbg	line,	"include\routines_LEVELS.c", 3790; spr_x(player_pos_x+32);
16831                        		__ld.wm		_player_pos_x
         02:CB08  AD 01 25   			lda.l	_player_pos_x
         02:CB0B  AC 02 25   			ldy.h	_player_pos_x
16832                        		__add.wi	32
         02:CB0E  18         			clc
         02:CB0F  69 20      			adc.l	#32
         02:CB11  90 01      			bcc	!+
         02:CB13  C8         			iny
         02:CB14             	!:
16833                        		__call		_spr_x.1
         02:CB14  20 1E E8   			call	_spr_x.1
16834                        	
16835                        		.dbg	line,	"include\routines_LEVELS.c", 3791; 
16836                        	
16837                        		.dbg	line,	"include\routines_LEVELS.c", 3792; }
16838                        	
16839                        		.dbg	line,	"include\routines_LEVELS.c", 3793; 
16840                        	
16841                        		.dbg	line,	"include\routines_LEVELS.c", 3794; else
16842                        		__bra		.LL850
         02:CB17  4C 83 CC   			bra	.LL850
16843    02:CB1A             	.LL849:
16844                        	
16845                        		.dbg	line,	"include\routines_LEVELS.c", 3795; {
16846                        	
16847                        		.dbg	line,	"include\routines_LEVELS.c", 3796; spr_x(player_pos_x-16);
16848                        		__ld.wm		_player_pos_x
         02:CB1A  AD 01 25   			lda.l	_player_pos_x
         02:CB1D  AC 02 25   			ldy.h	_player_pos_x
16849                        		__sub.wi	16
         02:CB20  38         			sec
         02:CB21  E9 10      			sbc.l	#16
         02:CB23  B0 01      			bcs	!+
         02:CB25  88         			dey
         02:CB26             	!:
16850                        		__call		_spr_x.1
         02:CB26  20 1E E8   			call	_spr_x.1
16851                        	
16852                        		.dbg	line,	"include\routines_LEVELS.c", 3797; }
16853    02:CB29             	.LL850	.alias		.LL851
16854                        	
16855                        		.dbg	line,	"include\routines_LEVELS.c", 3799; //spr_y(player_pos_y+6);
16856                        	
16857                        		.dbg	line,	"include\routines_LEVELS.c", 3801; //collision_WEAPON_OBJECTS();
16858                        	
16859                        		.dbg	line,	"include\routines_LEVELS.c", 3802; }
16860                        	
16861                        		.dbg	line,	"include\routines_LEVELS.c", 3804; else if(player_counter_attack == 7)
16862                        		__bra		.LL851
         02:CB29  4C 83 CC   			bra	.LL851
16863    02:CB2C             	.LL848:
16864                        		__ld.umq	_player_counter_attack
         02:CB2C  AD 21 23   			lda	_player_counter_attack
16865                        		__equ_b.uiq	7
         02:CB2F  C9 07      			cmp	#7
         02:CB31  F0 01      			beq	!+
         02:CB33  18         			clc
         02:CB34             	!:
16866                        		__bfalse	.LL852
         02:CB34  90 66      			bcc	.LL852
16867                        	
16868                        		.dbg	line,	"include\routines_LEVELS.c", 3805; {
16869                        	
16870                        		.dbg	line,	"include\routines_LEVELS.c", 3806; // UPDATE CHAIN V POSITION //
16871                        	
16872                        		.dbg	line,	"include\routines_LEVELS.c", 3807; spr_set(chain_id);
16873                        		__ld.umq	_chain_id
         02:CB36  AD 28 23   			lda	_chain_id
16874                        		__call		_spr_set.1
         02:CB39  20 F1 E7   			call	_spr_set.1
16875                        	
16876                        		.dbg	line,	"include\routines_LEVELS.c", 3808; spr_y(player_pos_y);
16877                        		__ld.wm		_player_pos_y
         02:CB3C  AD 03 25   			lda.l	_player_pos_y
         02:CB3F  AC 04 25   			ldy.h	_player_pos_y
16878                        		__call		_spr_y.1
         02:CB42  20 2D E8   			call	_spr_y.1
16879                        	
16880                        		.dbg	line,	"include\routines_LEVELS.c", 3810; if(player_axis == AXIS_RIGHT)
16881                        		__not.um	_player_axis
         02:CB45  AD 1C 23   			lda	_player_axis
         02:CB48  18         			clc
         02:CB49  D0 01      			bne	!+
         02:CB4B  38         			sec
         02:CB4C             	!:
16882                        		__bfalse	.LL853
         02:CB4C  90 27      			bcc	.LL853
16883                        	
16884                        		.dbg	line,	"include\routines_LEVELS.c", 3811; {
16885                        	
16886                        		.dbg	line,	"include\routines_LEVELS.c", 3812; // UPDATE CHAIN H POSITION //
16887                        	
16888                        		.dbg	line,	"include\routines_LEVELS.c", 3813; spr_x(player_pos_x+32);
16889                        		__ld.wm		_player_pos_x
         02:CB4E  AD 01 25   			lda.l	_player_pos_x
         02:CB51  AC 02 25   			ldy.h	_player_pos_x
16890                        		__add.wi	32
         02:CB54  18         			clc
         02:CB55  69 20      			adc.l	#32
         02:CB57  90 01      			bcc	!+
         02:CB59  C8         			iny
         02:CB5A             	!:
16891                        		__call		_spr_x.1
         02:CB5A  20 1E E8   			call	_spr_x.1
16892                        	
16893                        		.dbg	line,	"include\routines_LEVELS.c", 3815; // UPDATE WEAPON H POSITION //
16894                        	
16895                        		.dbg	line,	"include\routines_LEVELS.c", 3816; spr_set(weapon_id);
16896                        		__ld.umq	_weapon_id
         02:CB5D  AD 29 23   			lda	_weapon_id
16897                        		__call		_spr_set.1
         02:CB60  20 F1 E7   			call	_spr_set.1
16898                        	
16899                        		.dbg	line,	"include\routines_LEVELS.c", 3817; spr_x(player_pos_x+48);
16900                        		__ld.wm		_player_pos_x
         02:CB63  AD 01 25   			lda.l	_player_pos_x
         02:CB66  AC 02 25   			ldy.h	_player_pos_x
16901                        		__add.wi	48
         02:CB69  18         			clc
         02:CB6A  69 30      			adc.l	#48
         02:CB6C  90 01      			bcc	!+
         02:CB6E  C8         			iny
         02:CB6F             	!:
16902                        		__call		_spr_x.1
         02:CB6F  20 1E E8   			call	_spr_x.1
16903                        	
16904                        		.dbg	line,	"include\routines_LEVELS.c", 3818; }
16905                        	
16906                        		.dbg	line,	"include\routines_LEVELS.c", 3819; 
16907                        	
16908                        		.dbg	line,	"include\routines_LEVELS.c", 3820; else
16909                        		__bra		.LL854
         02:CB72  4C 83 CC   			bra	.LL854
16910    02:CB75             	.LL853:
16911                        	
16912                        		.dbg	line,	"include\routines_LEVELS.c", 3821; {
16913                        	
16914                        		.dbg	line,	"include\routines_LEVELS.c", 3822; // UPDATE CHAIN H POSITION //
16915                        	
16916                        		.dbg	line,	"include\routines_LEVELS.c", 3823; spr_x(player_pos_x-16);
16917                        		__ld.wm		_player_pos_x
         02:CB75  AD 01 25   			lda.l	_player_pos_x
         02:CB78  AC 02 25   			ldy.h	_player_pos_x
16918                        		__sub.wi	16
         02:CB7B  38         			sec
         02:CB7C  E9 10      			sbc.l	#16
         02:CB7E  B0 01      			bcs	!+
         02:CB80  88         			dey
         02:CB81             	!:
16919                        		__call		_spr_x.1
         02:CB81  20 1E E8   			call	_spr_x.1
16920                        	
16921                        		.dbg	line,	"include\routines_LEVELS.c", 3825; // UPDATE WEAPON H POSITION //
16922                        	
16923                        		.dbg	line,	"include\routines_LEVELS.c", 3826; spr_set(weapon_id);
16924                        		__ld.umq	_weapon_id
         02:CB84  AD 29 23   			lda	_weapon_id
16925                        		__call		_spr_set.1
         02:CB87  20 F1 E7   			call	_spr_set.1
16926                        	
16927                        		.dbg	line,	"include\routines_LEVELS.c", 3827; spr_x(player_pos_x-32);
16928                        		__ld.wm		_player_pos_x
         02:CB8A  AD 01 25   			lda.l	_player_pos_x
         02:CB8D  AC 02 25   			ldy.h	_player_pos_x
16929                        		__sub.wi	32
         02:CB90  38         			sec
         02:CB91  E9 20      			sbc.l	#32
         02:CB93  B0 01      			bcs	!+
         02:CB95  88         			dey
         02:CB96             	!:
16930                        		__call		_spr_x.1
         02:CB96  20 1E E8   			call	_spr_x.1
16931                        	
16932                        		.dbg	line,	"include\routines_LEVELS.c", 3828; }
16933    02:CB99             	.LL854	.alias		.LL855
16934                        	
16935                        		.dbg	line,	"include\routines_LEVELS.c", 3830; //collision_WEAPON_OBJECTS();
16936                        	
16937                        		.dbg	line,	"include\routines_LEVELS.c", 3831; }
16938                        	
16939                        		.dbg	line,	"include\routines_LEVELS.c", 3833; else if(player_counter_attack == 8)
16940                        		__bra		.LL855
         02:CB99  4C 83 CC   			bra	.LL855
16941    02:CB9C             	.LL852:
16942                        		__ld.umq	_player_counter_attack
         02:CB9C  AD 21 23   			lda	_player_counter_attack
16943                        		__equ_b.uiq	8
         02:CB9F  C9 08      			cmp	#8
         02:CBA1  F0 01      			beq	!+
         02:CBA3  18         			clc
         02:CBA4             	!:
16944                        		__bfalse	.LL856
         02:CBA4  90 6A      			bcc	.LL856
16945                        	
16946                        		.dbg	line,	"include\routines_LEVELS.c", 3834; {
16947                        	
16948                        		.dbg	line,	"include\routines_LEVELS.c", 3835; // UPDATE CHAIN V POSITION //
16949                        	
16950                        		.dbg	line,	"include\routines_LEVELS.c", 3836; spr_set(chain_id+1);
16951                        		__ld.um		_chain_id
         02:CBA6  AD 28 23   			lda	_chain_id
         02:CBA9  C2         			cly
16952                        		__add.wi	1
         02:CBAA  1A         			inc	a
         02:CBAB  D0 01      			bne	!+
         02:CBAD  C8         			iny
         02:CBAE             	!:
16953                        		__call		_spr_set.1
         02:CBAE  20 F1 E7   			call	_spr_set.1
16954                        	
16955                        		.dbg	line,	"include\routines_LEVELS.c", 3837; spr_y(player_pos_y);
16956                        		__ld.wm		_player_pos_y
         02:CBB1  AD 03 25   			lda.l	_player_pos_y
         02:CBB4  AC 04 25   			ldy.h	_player_pos_y
16957                        		__call		_spr_y.1
         02:CBB7  20 2D E8   			call	_spr_y.1
16958                        	
16959                        		.dbg	line,	"include\routines_LEVELS.c", 3839; if(player_axis == AXIS_RIGHT)
16960                        		__not.um	_player_axis
         02:CBBA  AD 1C 23   			lda	_player_axis
         02:CBBD  18         			clc
         02:CBBE  D0 01      			bne	!+
         02:CBC0  38         			sec
         02:CBC1             	!:
16961                        		__bfalse	.LL857
         02:CBC1  90 27      			bcc	.LL857
16962                        	
16963                        		.dbg	line,	"include\routines_LEVELS.c", 3840; {
16964                        	
16965                        		.dbg	line,	"include\routines_LEVELS.c", 3841; // UPDATE CHAIN H POSITION //
16966                        	
16967                        		.dbg	line,	"include\routines_LEVELS.c", 3842; spr_x(player_pos_x+48);
16968                        		__ld.wm		_player_pos_x
         02:CBC3  AD 01 25   			lda.l	_player_pos_x
         02:CBC6  AC 02 25   			ldy.h	_player_pos_x
16969                        		__add.wi	48
         02:CBC9  18         			clc
         02:CBCA  69 30      			adc.l	#48
         02:CBCC  90 01      			bcc	!+
         02:CBCE  C8         			iny
         02:CBCF             	!:
16970                        		__call		_spr_x.1
         02:CBCF  20 1E E8   			call	_spr_x.1
16971                        	
16972                        		.dbg	line,	"include\routines_LEVELS.c", 3844; // UPDATE WEAPON H POSITION //
16973                        	
16974                        		.dbg	line,	"include\routines_LEVELS.c", 3845; spr_set(weapon_id);
16975                        		__ld.umq	_weapon_id
         02:CBD2  AD 29 23   			lda	_weapon_id
16976                        		__call		_spr_set.1
         02:CBD5  20 F1 E7   			call	_spr_set.1
16977                        	
16978                        		.dbg	line,	"include\routines_LEVELS.c", 3846; spr_x(player_pos_x+64);
16979                        		__ld.wm		_player_pos_x
         02:CBD8  AD 01 25   			lda.l	_player_pos_x
         02:CBDB  AC 02 25   			ldy.h	_player_pos_x
16980                        		__add.wi	64
         02:CBDE  18         			clc
         02:CBDF  69 40      			adc.l	#64
         02:CBE1  90 01      			bcc	!+
         02:CBE3  C8         			iny
         02:CBE4             	!:
16981                        		__call		_spr_x.1
         02:CBE4  20 1E E8   			call	_spr_x.1
16982                        	
16983                        		.dbg	line,	"include\routines_LEVELS.c", 3847; }
16984                        	
16985                        		.dbg	line,	"include\routines_LEVELS.c", 3848; 
16986                        	
16987                        		.dbg	line,	"include\routines_LEVELS.c", 3849; else
16988                        		__bra		.LL858
         02:CBE7  4C 83 CC   			bra	.LL858
16989    02:CBEA             	.LL857:
16990                        	
16991                        		.dbg	line,	"include\routines_LEVELS.c", 3850; {
16992                        	
16993                        		.dbg	line,	"include\routines_LEVELS.c", 3851; // UPDATE CHAIN H POSITION //
16994                        	
16995                        		.dbg	line,	"include\routines_LEVELS.c", 3852; spr_x(player_pos_x-32);
16996                        		__ld.wm		_player_pos_x
         02:CBEA  AD 01 25   			lda.l	_player_pos_x
         02:CBED  AC 02 25   			ldy.h	_player_pos_x
16997                        		__sub.wi	32
         02:CBF0  38         			sec
         02:CBF1  E9 20      			sbc.l	#32
         02:CBF3  B0 01      			bcs	!+
         02:CBF5  88         			dey
         02:CBF6             	!:
16998                        		__call		_spr_x.1
         02:CBF6  20 1E E8   			call	_spr_x.1
16999                        	
17000                        		.dbg	line,	"include\routines_LEVELS.c", 3854; // UPDATE WEAPON H POSITION //
17001                        	
17002                        		.dbg	line,	"include\routines_LEVELS.c", 3855; spr_set(weapon_id);
17003                        		__ld.umq	_weapon_id
         02:CBF9  AD 29 23   			lda	_weapon_id
17004                        		__call		_spr_set.1
         02:CBFC  20 F1 E7   			call	_spr_set.1
17005                        	
17006                        		.dbg	line,	"include\routines_LEVELS.c", 3856; spr_x(player_pos_x-48);
17007                        		__ld.wm		_player_pos_x
         02:CBFF  AD 01 25   			lda.l	_player_pos_x
         02:CC02  AC 02 25   			ldy.h	_player_pos_x
17008                        		__sub.wi	48
         02:CC05  38         			sec
         02:CC06  E9 30      			sbc.l	#48
         02:CC08  B0 01      			bcs	!+
         02:CC0A  88         			dey
         02:CC0B             	!:
17009                        		__call		_spr_x.1
         02:CC0B  20 1E E8   			call	_spr_x.1
17010                        	
17011                        		.dbg	line,	"include\routines_LEVELS.c", 3857; }
17012    02:CC0E             	.LL858	.alias		.LL859
17013                        	
17014                        		.dbg	line,	"include\routines_LEVELS.c", 3859; //collision_WEAPON_OBJECTS();
17015                        	
17016                        		.dbg	line,	"include\routines_LEVELS.c", 3860; }
17017                        	
17018                        		.dbg	line,	"include\routines_LEVELS.c", 3862; else if(player_counter_attack == 9)
17019                        		__bra		.LL859
         02:CC0E  80 73      			bra	.LL859
17020    02:CC10             	.LL856:
17021                        		__ld.umq	_player_counter_attack
         02:CC10  AD 21 23   			lda	_player_counter_attack
17022                        		__equ_b.uiq	9
         02:CC13  C9 09      			cmp	#9
         02:CC15  F0 01      			beq	!+
         02:CC17  18         			clc
         02:CC18             	!:
17023                        		__bfalse	.LL860
         02:CC18  90 69      			bcc	.LL860
17024                        	
17025                        		.dbg	line,	"include\routines_LEVELS.c", 3863; {
17026                        	
17027                        		.dbg	line,	"include\routines_LEVELS.c", 3864; // UPDATE CHAIN V POSITION //
17028                        	
17029                        		.dbg	line,	"include\routines_LEVELS.c", 3865; spr_set(chain_id+2);
17030                        		__ld.um		_chain_id
         02:CC1A  AD 28 23   			lda	_chain_id
         02:CC1D  C2         			cly
17031                        		__add.wi	2
         02:CC1E  18         			clc
         02:CC1F  69 02      			adc.l	#2
         02:CC21  90 01      			bcc	!+
         02:CC23  C8         			iny
         02:CC24             	!:
17032                        		__call		_spr_set.1
         02:CC24  20 F1 E7   			call	_spr_set.1
17033                        	
17034                        		.dbg	line,	"include\routines_LEVELS.c", 3866; spr_y(player_pos_y);
17035                        		__ld.wm		_player_pos_y
         02:CC27  AD 03 25   			lda.l	_player_pos_y
         02:CC2A  AC 04 25   			ldy.h	_player_pos_y
17036                        		__call		_spr_y.1
         02:CC2D  20 2D E8   			call	_spr_y.1
17037                        	
17038                        		.dbg	line,	"include\routines_LEVELS.c", 3868; if(player_axis == AXIS_RIGHT)
17039                        		__not.um	_player_axis
         02:CC30  AD 1C 23   			lda	_player_axis
         02:CC33  18         			clc
         02:CC34  D0 01      			bne	!+
         02:CC36  38         			sec
         02:CC37             	!:
17040                        		__bfalse	.LL861
         02:CC37  90 26      			bcc	.LL861
17041                        	
17042                        		.dbg	line,	"include\routines_LEVELS.c", 3869; {
17043                        	
17044                        		.dbg	line,	"include\routines_LEVELS.c", 3870; // UPDATE CHAIN H POSITION //
17045                        	
17046                        		.dbg	line,	"include\routines_LEVELS.c", 3871; spr_x(player_pos_x+64);
17047                        		__ld.wm		_player_pos_x
         02:CC39  AD 01 25   			lda.l	_player_pos_x
         02:CC3C  AC 02 25   			ldy.h	_player_pos_x
17048                        		__add.wi	64
         02:CC3F  18         			clc
         02:CC40  69 40      			adc.l	#64
         02:CC42  90 01      			bcc	!+
         02:CC44  C8         			iny
         02:CC45             	!:
17049                        		__call		_spr_x.1
         02:CC45  20 1E E8   			call	_spr_x.1
17050                        	
17051                        		.dbg	line,	"include\routines_LEVELS.c", 3873; // UPDATE WEAPON H POSITION //
17052                        	
17053                        		.dbg	line,	"include\routines_LEVELS.c", 3874; spr_set(weapon_id);
17054                        		__ld.umq	_weapon_id
         02:CC48  AD 29 23   			lda	_weapon_id
17055                        		__call		_spr_set.1
         02:CC4B  20 F1 E7   			call	_spr_set.1
17056                        	
17057                        		.dbg	line,	"include\routines_LEVELS.c", 3875; spr_x(player_pos_x+80);
17058                        		__ld.wm		_player_pos_x
         02:CC4E  AD 01 25   			lda.l	_player_pos_x
         02:CC51  AC 02 25   			ldy.h	_player_pos_x
17059                        		__add.wi	80
         02:CC54  18         			clc
         02:CC55  69 50      			adc.l	#80
         02:CC57  90 01      			bcc	!+
         02:CC59  C8         			iny
         02:CC5A             	!:
17060                        		__call		_spr_x.1
         02:CC5A  20 1E E8   			call	_spr_x.1
17061                        	
17062                        		.dbg	line,	"include\routines_LEVELS.c", 3876; }
17063                        	
17064                        		.dbg	line,	"include\routines_LEVELS.c", 3877; 
17065                        	
17066                        		.dbg	line,	"include\routines_LEVELS.c", 3878; else
17067                        		__bra		.LL862
         02:CC5D  80 24      			bra	.LL862
17068    02:CC5F             	.LL861:
17069                        	
17070                        		.dbg	line,	"include\routines_LEVELS.c", 3879; {
17071                        	
17072                        		.dbg	line,	"include\routines_LEVELS.c", 3880; // UPDATE CHAIN H POSITION //
17073                        	
17074                        		.dbg	line,	"include\routines_LEVELS.c", 3881; spr_x(player_pos_x-48);
17075                        		__ld.wm		_player_pos_x
         02:CC5F  AD 01 25   			lda.l	_player_pos_x
         02:CC62  AC 02 25   			ldy.h	_player_pos_x
17076                        		__sub.wi	48
         02:CC65  38         			sec
         02:CC66  E9 30      			sbc.l	#48
         02:CC68  B0 01      			bcs	!+
         02:CC6A  88         			dey
         02:CC6B             	!:
17077                        		__call		_spr_x.1
         02:CC6B  20 1E E8   			call	_spr_x.1
17078                        	
17079                        		.dbg	line,	"include\routines_LEVELS.c", 3883; // UPDATE WEAPON H POSITION //
17080                        	
17081                        		.dbg	line,	"include\routines_LEVELS.c", 3884; spr_set(weapon_id);
17082                        		__ld.umq	_weapon_id
         02:CC6E  AD 29 23   			lda	_weapon_id
17083                        		__call		_spr_set.1
         02:CC71  20 F1 E7   			call	_spr_set.1
17084                        	
17085                        		.dbg	line,	"include\routines_LEVELS.c", 3885; spr_x(player_pos_x-64);
17086                        		__ld.wm		_player_pos_x
         02:CC74  AD 01 25   			lda.l	_player_pos_x
         02:CC77  AC 02 25   			ldy.h	_player_pos_x
17087                        		__sub.wi	64
         02:CC7A  38         			sec
         02:CC7B  E9 40      			sbc.l	#64
         02:CC7D  B0 01      			bcs	!+
         02:CC7F  88         			dey
         02:CC80             	!:
17088                        		__call		_spr_x.1
         02:CC80  20 1E E8   			call	_spr_x.1
17089                        	
17090                        		.dbg	line,	"include\routines_LEVELS.c", 3886; }
17091    02:CC83             	.LL862:
17092                        	
17093                        		.dbg	line,	"include\routines_LEVELS.c", 3888; //collision_WEAPON_OBJECTS();
17094                        	
17095                        		.dbg	line,	"include\routines_LEVELS.c", 3889; }
17096                        	
17097                        		.dbg	line,	"include\routines_LEVELS.c", 3890; 
17098                        	
17099                        		.dbg	line,	"include\routines_LEVELS.c", 3891; // UPDATE WEAPON V POSITION //
17100                        	
17101                        		.dbg	line,	"include\routines_LEVELS.c", 3892; spr_set(weapon_id);
17102    02:CC83             	.LL860:
17103    02:CC83             	.LL859:
17104    02:CC83             	.LL855:
17105    02:CC83             	.LL851:
17106                        		__ld.umq	_weapon_id
         02:CC83  AD 29 23   			lda	_weapon_id
17107                        		__call		_spr_set.1
         02:CC86  20 F1 E7   			call	_spr_set.1
17108                        	
17109                        		.dbg	line,	"include\routines_LEVELS.c", 3893; spr_y(player_pos_y+6);
17110                        		__ld.wm		_player_pos_y
         02:CC89  AD 03 25   			lda.l	_player_pos_y
         02:CC8C  AC 04 25   			ldy.h	_player_pos_y
17111                        		__add.wi	6
         02:CC8F  18         			clc
         02:CC90  69 06      			adc.l	#6
         02:CC92  90 01      			bcc	!+
         02:CC94  C8         			iny
         02:CC95             	!:
17112                        		__call		_spr_y.1
         02:CC95  20 2D E8   			call	_spr_y.1
17113                        	
17114                        		.dbg	line,	"include\routines_LEVELS.c", 3895; collision_WEAPON_OBJECTS();
17115                        		__call		_collision_WEAPON_OBJECTS
         02:CC98  20 09 FF   			call	_collision_WEAPON_OBJECTS
17116                        	
17117                        		.dbg	line,	"include\routines_LEVELS.c", 3896; }
17118                        	
17119                        		.dbg	line,	"include\routines_LEVELS.c", 3898; player_counter_attack += 1;
17120    02:CC9B             	.LL847:
17121                        		__add_st.umiq	1, _player_counter_attack
         02:CC9B  EE 21 23   			inc	_player_counter_attack
17122                        	
17123                        		.dbg	line,	"include\routines_LEVELS.c", 3899; } 
17124                        	
17125                        		.dbg	line,	"include\routines_LEVELS.c", 3900; }
17126    02:CC9E             	.LL839	.alias		.LL863
17127                        	
17128                        		.dbg	line,	"include\routines_LEVELS.c", 3903; else if(player_state == STATE_FALL)
17129                        		__bra		.LL863
         02:CC9E  4C E5 CF   			bra	.LL863
17130    02:CCA1             	.LL838:
17131                        		__ld.umq	_player_state
         02:CCA1  AD 1B 23   			lda	_player_state
17132                        		__equ_b.uiq	9
         02:CCA4  C9 09      			cmp	#9
         02:CCA6  F0 01      			beq	!+
         02:CCA8  18         			clc
         02:CCA9             	!:
17133                        		__bfalse	.LL864
         02:CCA9  B0 03 4C E5			bcc	.LL864
         02:CCAD  CF          
17134                        	
17135                        		.dbg	line,	"include\routines_LEVELS.c", 3904; {
17136                        	
17137                        		.dbg	line,	"include\routines_LEVELS.c", 3905; char i;
17138                        	
17139                        		.dbg	line,	"include\routines_LEVELS.c", 3906; 
17140                        	
17141                        		.dbg	line,	"include\routines_LEVELS.c", 3907; if(player_attack == TRUE)
17142                        		__ld.umq	_player_attack
         02:CCAE  AD 23 23   			lda	_player_attack
17143                        		__equ_b.uiq	1
         02:CCB1  C9 01      			cmp	#1
         02:CCB3  F0 01      			beq	!+
         02:CCB5  18         			clc
         02:CCB6             	!:
17144                        		__bfalse	.LL865
         02:CCB6  B0 03 4C E5			bcc	.LL865
         02:CCBA  CF          
17145                        	
17146                        		.dbg	line,	"include\routines_LEVELS.c", 3908; {
17147                        	
17148                        		.dbg	line,	"include\routines_LEVELS.c", 3909; if(player_counter_attack < 6)
17149                        		__ld.umq	_player_counter_attack
         02:CCBB  AD 21 23   			lda	_player_counter_attack
17150                        		__ult_b.uiq	6
         02:CCBE  C9 06      			cmp	#6		; Subtract integer from A.
         02:CCC0  6A         			ror	a		; CC if A < integer.
         02:CCC1  49 80      			eor	#$80
         02:CCC3  2A         			rol	a
17151                        		__bfalse	.LL866
         02:CCC4  90 5C      			bcc	.LL866
17152                        	
17153                        		.dbg	line,	"include\routines_LEVELS.c", 3910; {
17154                        	
17155                        		.dbg	line,	"include\routines_LEVELS.c", 3911; spr_set(player_id);
17156                        		__ld.umq	_player_id
         02:CCC6  AD 1A 23   			lda	_player_id
17157                        		__call		_spr_set.1
         02:CCC9  20 F1 E7   			call	_spr_set.1
17158                        	
17159                        		.dbg	line,	"include\routines_LEVELS.c", 3912; spr_pattern(PLAYER_JUMP_ATTACK_1_VRAM_ADR);
17160                        		__ld.wi		11520
         02:CCCC  62         			cla
         02:CCCD  A0 2D      			ldy.h	#11520
17161                        		__call		_spr_pattern.1
         02:CCCF  20 3A E8   			call	_spr_pattern.1
17162                        	
17163                        		.dbg	line,	"include\routines_LEVELS.c", 3914; spr_set(weapon_id);
17164                        		__ld.umq	_weapon_id
         02:CCD2  AD 29 23   			lda	_weapon_id
17165                        		__call		_spr_set.1
         02:CCD5  20 F1 E7   			call	_spr_set.1
17166                        	
17167                        		.dbg	line,	"include\routines_LEVELS.c", 3915; spr_pattern(WEAPON_ATTACK_1_VRAM_ADRESS);
17168                        		__ld.wi		32000
         02:CCD8  62         			cla
         02:CCD9  A0 7D      			ldy.h	#32000
17169                        		__call		_spr_pattern.1
         02:CCDB  20 3A E8   			call	_spr_pattern.1
17170                        	
17171                        		.dbg	line,	"include\routines_LEVELS.c", 3917; if(player_axis == AXIS_RIGHT)
17172                        		__not.um	_player_axis
         02:CCDE  AD 1C 23   			lda	_player_axis
         02:CCE1  18         			clc
         02:CCE2  D0 01      			bne	!+
         02:CCE4  38         			sec
         02:CCE5             	!:
17173                        		__bfalse	.LL867
         02:CCE5  90 11      			bcc	.LL867
17174                        	
17175                        		.dbg	line,	"include\routines_LEVELS.c", 3918; {
17176                        	
17177                        		.dbg	line,	"include\routines_LEVELS.c", 3919; spr_x(player_pos_x-14);
17178                        		__ld.wm		_player_pos_x
         02:CCE7  AD 01 25   			lda.l	_player_pos_x
         02:CCEA  AC 02 25   			ldy.h	_player_pos_x
17179                        		__sub.wi	14
         02:CCED  38         			sec
         02:CCEE  E9 0E      			sbc.l	#14
         02:CCF0  B0 01      			bcs	!+
         02:CCF2  88         			dey
         02:CCF3             	!:
17180                        		__call		_spr_x.1
         02:CCF3  20 1E E8   			call	_spr_x.1
17181                        	
17182                        		.dbg	line,	"include\routines_LEVELS.c", 3920; }
17183                        	
17184                        		.dbg	line,	"include\routines_LEVELS.c", 3922; else
17185                        		__bra		.LL868
         02:CCF6  80 0F      			bra	.LL868
17186    02:CCF8             	.LL867:
17187                        	
17188                        		.dbg	line,	"include\routines_LEVELS.c", 3923; {
17189                        	
17190                        		.dbg	line,	"include\routines_LEVELS.c", 3924; spr_x(player_pos_x+29);
17191                        		__ld.wm		_player_pos_x
         02:CCF8  AD 01 25   			lda.l	_player_pos_x
         02:CCFB  AC 02 25   			ldy.h	_player_pos_x
17192                        		__add.wi	29
         02:CCFE  18         			clc
         02:CCFF  69 1D      			adc.l	#29
         02:CD01  90 01      			bcc	!+
         02:CD03  C8         			iny
         02:CD04             	!:
17193                        		__call		_spr_x.1
         02:CD04  20 1E E8   			call	_spr_x.1
17194                        	
17195                        		.dbg	line,	"include\routines_LEVELS.c", 3925; }
17196    02:CD07             	.LL868:
17197                        	
17198                        		.dbg	line,	"include\routines_LEVELS.c", 3927; weapon_y_offset = -10;
17199                        		__st.umiq	-10, _weapon_y_offset
         02:CD07  A9 F6      			lda.l	#-10
         02:CD09  8D 99 26   			sta	_weapon_y_offset
17200                        	
17201                        		.dbg	line,	"include\routines_LEVELS.c", 3928; spr_y(player_pos_y + weapon_y_offset);
17202                        		__ld.bm		_weapon_y_offset
         02:CD0C  AD 99 26   			lda	_weapon_y_offset
         02:CD0F  C2         			cly
         02:CD10  10 01      			bpl	!+
         02:CD12  88         			dey
         02:CD13             	!:
17203                        		__add.wm	_player_pos_y
         02:CD13  18         			clc
         02:CD14  6D 03 25   			adc.l	_player_pos_y
         02:CD17  42         			say
         02:CD18  6D 04 25   			adc.h	_player_pos_y
         02:CD1B  42         			say
17204                        		__call		_spr_y.1
         02:CD1C  20 2D E8   			call	_spr_y.1
17205                        	
17206                        		.dbg	line,	"include\routines_LEVELS.c", 3929; }
17207                        	
17208                        		.dbg	line,	"include\routines_LEVELS.c", 3931; else if(player_counter_attack == 23)
17209                        		__bra		.LL869
         02:CD1F  4C B5 CD   			bra	.LL869
17210    02:CD22             	.LL866:
17211                        		__ld.umq	_player_counter_attack
         02:CD22  AD 21 23   			lda	_player_counter_attack
17212                        		__equ_b.uiq	23
         02:CD25  C9 17      			cmp	#23
         02:CD27  F0 01      			beq	!+
         02:CD29  18         			clc
         02:CD2A             	!:
17213                        		__bfalse	.LL870
         02:CD2A  B0 03 4C B5			bcc	.LL870
         02:CD2E  CD          
17214                        	
17215                        		.dbg	line,	"include\routines_LEVELS.c", 3932; {
17216                        	
17217                        		.dbg	line,	"include\routines_LEVELS.c", 3933; spr_set(chain_id);
17218                        		__ld.umq	_chain_id
         02:CD2F  AD 28 23   			lda	_chain_id
17219                        		__call		_spr_set.1
         02:CD32  20 F1 E7   			call	_spr_set.1
17220                        	
17221                        		.dbg	line,	"include\routines_LEVELS.c", 3934; spr_hide();
17222                        		__call		_spr_hide
         02:CD35  20 0C E8   			call	_spr_hide
17223                        	
17224                        		.dbg	line,	"include\routines_LEVELS.c", 3936; spr_set(chain_id+1);
17225                        		__ld.um		_chain_id
         02:CD38  AD 28 23   			lda	_chain_id
         02:CD3B  C2         			cly
17226                        		__add.wi	1
         02:CD3C  1A         			inc	a
         02:CD3D  D0 01      			bne	!+
         02:CD3F  C8         			iny
         02:CD40             	!:
17227                        		__call		_spr_set.1
         02:CD40  20 F1 E7   			call	_spr_set.1
17228                        	
17229                        		.dbg	line,	"include\routines_LEVELS.c", 3937; spr_hide();
17230                        		__call		_spr_hide
         02:CD43  20 0C E8   			call	_spr_hide
17231                        	
17232                        		.dbg	line,	"include\routines_LEVELS.c", 3939; spr_set(chain_id+2);
17233                        		__ld.um		_chain_id
         02:CD46  AD 28 23   			lda	_chain_id
         02:CD49  C2         			cly
17234                        		__add.wi	2
         02:CD4A  18         			clc
         02:CD4B  69 02      			adc.l	#2
         02:CD4D  90 01      			bcc	!+
         02:CD4F  C8         			iny
         02:CD50             	!:
17235                        		__call		_spr_set.1
         02:CD50  20 F1 E7   			call	_spr_set.1
17236                        	
17237                        		.dbg	line,	"include\routines_LEVELS.c", 3940; spr_hide();
17238                        		__call		_spr_hide
         02:CD53  20 0C E8   			call	_spr_hide
17239                        	
17240                        		.dbg	line,	"include\routines_LEVELS.c", 3942; spr_set(player_id);
17241                        		__ld.umq	_player_id
         02:CD56  AD 1A 23   			lda	_player_id
17242                        		__call		_spr_set.1
         02:CD59  20 F1 E7   			call	_spr_set.1
17243                        	
17244                        		.dbg	line,	"include\routines_LEVELS.c", 3943; spr_pattern(PLAYER_JUMP_VRAM_ADR);
17245                        		__ld.wi		7936
         02:CD5C  62         			cla
         02:CD5D  A0 1F      			ldy.h	#7936
17246                        		__call		_spr_pattern.1
         02:CD5F  20 3A E8   			call	_spr_pattern.1
17247                        	
17248                        		.dbg	line,	"include\routines_LEVELS.c", 3945; spr_set(weapon_id);
17249                        		__ld.umq	_weapon_id
         02:CD62  AD 29 23   			lda	_weapon_id
17250                        		__call		_spr_set.1
         02:CD65  20 F1 E7   			call	_spr_set.1
17251                        	
17252                        		.dbg	line,	"include\routines_LEVELS.c", 3946; spr_pattern(WEAPON_IDLE_VRAM_ADRESS);
17253                        		__ld.wi		31808
         02:CD68  A9 40      			lda.l	#31808
         02:CD6A  A0 7C      			ldy.h	#31808
17254                        		__call		_spr_pattern.1
         02:CD6C  20 3A E8   			call	_spr_pattern.1
17255                        	
17256                        		.dbg	line,	"include\routines_LEVELS.c", 3947; spr_y(player_pos_y+5);
17257                        		__ld.wm		_player_pos_y
         02:CD6F  AD 03 25   			lda.l	_player_pos_y
         02:CD72  AC 04 25   			ldy.h	_player_pos_y
17258                        		__add.wi	5
         02:CD75  18         			clc
         02:CD76  69 05      			adc.l	#5
         02:CD78  90 01      			bcc	!+
         02:CD7A  C8         			iny
         02:CD7B             	!:
17259                        		__call		_spr_y.1
         02:CD7B  20 2D E8   			call	_spr_y.1
17260                        	
17261                        		.dbg	line,	"include\routines_LEVELS.c", 3949; if(player_axis == AXIS_RIGHT)
17262                        		__not.um	_player_axis
         02:CD7E  AD 1C 23   			lda	_player_axis
         02:CD81  18         			clc
         02:CD82  D0 01      			bne	!+
         02:CD84  38         			sec
         02:CD85             	!:
17263                        		__bfalse	.LL871
         02:CD85  90 11      			bcc	.LL871
17264                        	
17265                        		.dbg	line,	"include\routines_LEVELS.c", 3950; {
17266                        	
17267                        		.dbg	line,	"include\routines_LEVELS.c", 3951; spr_x(player_pos_x+17);
17268                        		__ld.wm		_player_pos_x
         02:CD87  AD 01 25   			lda.l	_player_pos_x
         02:CD8A  AC 02 25   			ldy.h	_player_pos_x
17269                        		__add.wi	17
         02:CD8D  18         			clc
         02:CD8E  69 11      			adc.l	#17
         02:CD90  90 01      			bcc	!+
         02:CD92  C8         			iny
         02:CD93             	!:
17270                        		__call		_spr_x.1
         02:CD93  20 1E E8   			call	_spr_x.1
17271                        	
17272                        		.dbg	line,	"include\routines_LEVELS.c", 3952; }
17273                        	
17274                        		.dbg	line,	"include\routines_LEVELS.c", 3954; else
17275                        		__bra		.LL872
         02:CD96  80 0F      			bra	.LL872
17276    02:CD98             	.LL871:
17277                        	
17278                        		.dbg	line,	"include\routines_LEVELS.c", 3955; {
17279                        	
17280                        		.dbg	line,	"include\routines_LEVELS.c", 3956; spr_x(player_pos_x-2);
17281                        		__ld.wm		_player_pos_x
         02:CD98  AD 01 25   			lda.l	_player_pos_x
         02:CD9B  AC 02 25   			ldy.h	_player_pos_x
17282                        		__sub.wi	2
         02:CD9E  38         			sec
         02:CD9F  E9 02      			sbc.l	#2
         02:CDA1  B0 01      			bcs	!+
         02:CDA3  88         			dey
         02:CDA4             	!:
17283                        		__call		_spr_x.1
         02:CDA4  20 1E E8   			call	_spr_x.1
17284                        	
17285                        		.dbg	line,	"include\routines_LEVELS.c", 3957; }
17286    02:CDA7             	.LL872:
17287                        	
17288                        		.dbg	line,	"include\routines_LEVELS.c", 3959; player_attack = FALSE;
17289                        		__st.umiq	0, _player_attack
         02:CDA7  9C 23 23   			stz	_player_attack
17290                        	
17291                        		.dbg	line,	"include\routines_LEVELS.c", 3960; player_counter_attack = 0;
17292                        		__st.umiq	0, _player_counter_attack
         02:CDAA  9C 21 23   			stz	_player_counter_attack
17293                        	
17294                        		.dbg	line,	"include\routines_LEVELS.c", 3961; player_state = STATE_FALL;
17295                        		__st.umiq	9, _player_state
         02:CDAD  A9 09      			lda.l	#9
         02:CDAF  8D 1B 23   			sta	_player_state
17296                        	
17297                        		.dbg	line,	"include\routines_LEVELS.c", 3962; return;
17298                        		__bra		.LL748
         02:CDB2  4C E5 CF   			bra	.LL748
17299                        	
17300                        		.dbg	line,	"include\routines_LEVELS.c", 3963; }
17301                        	
17302                        		.dbg	line,	"include\routines_LEVELS.c", 3965; // CHAIN ANIMATION //
17303                        	
17304                        		.dbg	line,	"include\routines_LEVELS.c", 3966; if(player_counter_attack > 5)
17305    02:CDB5             	.LL870:
17306    02:CDB5             	.LL869:
17307                        		__ld.umq	_player_counter_attack
         02:CDB5  AD 21 23   			lda	_player_counter_attack
17308                        		__ugt_b.uiq	5
         02:CDB8  18         			clc			; Subtract integer+1 from A.
         02:CDB9  E9 05      			sbc	#5		; CS if A > integer.
17309                        		__bfalse	.LL873
         02:CDBB  B0 03 4C E2			bcc	.LL873
         02:CDBF  CF          
17310                        	
17311                        		.dbg	line,	"include\routines_LEVELS.c", 3967; {
17312                        	
17313                        		.dbg	line,	"include\routines_LEVELS.c", 3968; if(player_counter_attack == 6)
17314                        		__ld.umq	_player_counter_attack
         02:CDC0  AD 21 23   			lda	_player_counter_attack
17315                        		__equ_b.uiq	6
         02:CDC3  C9 06      			cmp	#6
         02:CDC5  F0 01      			beq	!+
         02:CDC7  18         			clc
         02:CDC8             	!:
17316                        		__bfalse	.LL874
         02:CDC8  90 4A      			bcc	.LL874
17317                        	
17318                        		.dbg	line,	"include\routines_LEVELS.c", 3969; {
17319                        	
17320                        		.dbg	line,	"include\routines_LEVELS.c", 3970; spr_set(player_id);
17321                        		__ld.umq	_player_id
         02:CDCA  AD 1A 23   			lda	_player_id
17322                        		__call		_spr_set.1
         02:CDCD  20 F1 E7   			call	_spr_set.1
17323                        	
17324                        		.dbg	line,	"include\routines_LEVELS.c", 3971; spr_pattern(PLAYER_JUMP_ATTACK_2_VRAM_ADR);
17325                        		__ld.wi		11776
         02:CDD0  62         			cla
         02:CDD1  A0 2E      			ldy.h	#11776
17326                        		__call		_spr_pattern.1
         02:CDD3  20 3A E8   			call	_spr_pattern.1
17327                        	
17328                        		.dbg	line,	"include\routines_LEVELS.c", 3973; spr_set(weapon_id);
17329                        		__ld.umq	_weapon_id
         02:CDD6  AD 29 23   			lda	_weapon_id
17330                        		__call		_spr_set.1
         02:CDD9  20 F1 E7   			call	_spr_set.1
17331                        	
17332                        		.dbg	line,	"include\routines_LEVELS.c", 3974; spr_pattern(WEAPON_ATTACK_2_VRAM_ADRESS);
17333                        		__ld.wi		32064
         02:CDDC  A9 40      			lda.l	#32064
         02:CDDE  A0 7D      			ldy.h	#32064
17334                        		__call		_spr_pattern.1
         02:CDE0  20 3A E8   			call	_spr_pattern.1
17335                        	
17336                        		.dbg	line,	"include\routines_LEVELS.c", 3976; if(player_axis == AXIS_RIGHT)
17337                        		__not.um	_player_axis
         02:CDE3  AD 1C 23   			lda	_player_axis
         02:CDE6  18         			clc
         02:CDE7  D0 01      			bne	!+
         02:CDE9  38         			sec
         02:CDEA             	!:
17338                        		__bfalse	.LL875
         02:CDEA  90 11      			bcc	.LL875
17339                        	
17340                        		.dbg	line,	"include\routines_LEVELS.c", 3977; {
17341                        	
17342                        		.dbg	line,	"include\routines_LEVELS.c", 3978; spr_x(player_pos_x+32);
17343                        		__ld.wm		_player_pos_x
         02:CDEC  AD 01 25   			lda.l	_player_pos_x
         02:CDEF  AC 02 25   			ldy.h	_player_pos_x
17344                        		__add.wi	32
         02:CDF2  18         			clc
         02:CDF3  69 20      			adc.l	#32
         02:CDF5  90 01      			bcc	!+
         02:CDF7  C8         			iny
         02:CDF8             	!:
17345                        		__call		_spr_x.1
         02:CDF8  20 1E E8   			call	_spr_x.1
17346                        	
17347                        		.dbg	line,	"include\routines_LEVELS.c", 3979; 
17348                        	
17349                        		.dbg	line,	"include\routines_LEVELS.c", 3980; }
17350                        	
17351                        		.dbg	line,	"include\routines_LEVELS.c", 3981; 
17352                        	
17353                        		.dbg	line,	"include\routines_LEVELS.c", 3982; else
17354                        		__bra		.LL876
         02:CDFB  80 0F      			bra	.LL876
17355    02:CDFD             	.LL875:
17356                        	
17357                        		.dbg	line,	"include\routines_LEVELS.c", 3983; {
17358                        	
17359                        		.dbg	line,	"include\routines_LEVELS.c", 3984; spr_x(player_pos_x-16);
17360                        		__ld.wm		_player_pos_x
         02:CDFD  AD 01 25   			lda.l	_player_pos_x
         02:CE00  AC 02 25   			ldy.h	_player_pos_x
17361                        		__sub.wi	16
         02:CE03  38         			sec
         02:CE04  E9 10      			sbc.l	#16
         02:CE06  B0 01      			bcs	!+
         02:CE08  88         			dey
         02:CE09             	!:
17362                        		__call		_spr_x.1
         02:CE09  20 1E E8   			call	_spr_x.1
17363                        	
17364                        		.dbg	line,	"include\routines_LEVELS.c", 3985; }
17365    02:CE0C             	.LL876:
17366                        	
17367                        		.dbg	line,	"include\routines_LEVELS.c", 3987; weapon_y_offset = 6;
17368                        		__st.umiq	6, _weapon_y_offset
         02:CE0C  A9 06      			lda.l	#6
         02:CE0E  8D 99 26   			sta	_weapon_y_offset
17369                        	
17370                        		.dbg	line,	"include\routines_LEVELS.c", 3988; //spr_y(player_pos_y + weapon_y_offset);
17371                        	
17372                        		.dbg	line,	"include\routines_LEVELS.c", 3990; //collision_WEAPON_OBJECTS();
17373                        	
17374                        		.dbg	line,	"include\routines_LEVELS.c", 3991; }
17375                        	
17376                        		.dbg	line,	"include\routines_LEVELS.c", 3993; else if(player_counter_attack == 7)
17377                        		__bra		.LL877
         02:CE11  4C 7A CF   			bra	.LL877
17378    02:CE14             	.LL874:
17379                        		__ld.umq	_player_counter_attack
         02:CE14  AD 21 23   			lda	_player_counter_attack
17380                        		__equ_b.uiq	7
         02:CE17  C9 07      			cmp	#7
         02:CE19  F0 01      			beq	!+
         02:CE1B  18         			clc
         02:CE1C             	!:
17381                        		__bfalse	.LL878
         02:CE1C  90 6B      			bcc	.LL878
17382                        	
17383                        		.dbg	line,	"include\routines_LEVELS.c", 3994; {
17384                        	
17385                        		.dbg	line,	"include\routines_LEVELS.c", 3995; list_chain_active[0] = TRUE;
17386                        		__st.umiq	1, _list_chain_active
         02:CE1E  A9 01      			lda.l	#1
         02:CE20  8D 2C 23   			sta	_list_chain_active
17387                        	
17388                        		.dbg	line,	"include\routines_LEVELS.c", 3996; 
17389                        	
17390                        		.dbg	line,	"include\routines_LEVELS.c", 3997; spr_set(chain_id);
17391                        		__ld.umq	_chain_id
         02:CE23  AD 28 23   			lda	_chain_id
17392                        		__call		_spr_set.1
         02:CE26  20 F1 E7   			call	_spr_set.1
17393                        	
17394                        		.dbg	line,	"include\routines_LEVELS.c", 3998; spr_y(player_pos_y);
17395                        		__ld.wm		_player_pos_y
         02:CE29  AD 03 25   			lda.l	_player_pos_y
         02:CE2C  AC 04 25   			ldy.h	_player_pos_y
17396                        		__call		_spr_y.1
         02:CE2F  20 2D E8   			call	_spr_y.1
17397                        	
17398                        		.dbg	line,	"include\routines_LEVELS.c", 4000; if(player_axis == AXIS_RIGHT)
17399                        		__not.um	_player_axis
         02:CE32  AD 1C 23   			lda	_player_axis
         02:CE35  18         			clc
         02:CE36  D0 01      			bne	!+
         02:CE38  38         			sec
         02:CE39             	!:
17400                        		__bfalse	.LL879
         02:CE39  90 27      			bcc	.LL879
17401                        	
17402                        		.dbg	line,	"include\routines_LEVELS.c", 4001; {
17403                        	
17404                        		.dbg	line,	"include\routines_LEVELS.c", 4002; spr_x(player_pos_x+32);
17405                        		__ld.wm		_player_pos_x
         02:CE3B  AD 01 25   			lda.l	_player_pos_x
         02:CE3E  AC 02 25   			ldy.h	_player_pos_x
17406                        		__add.wi	32
         02:CE41  18         			clc
         02:CE42  69 20      			adc.l	#32
         02:CE44  90 01      			bcc	!+
         02:CE46  C8         			iny
         02:CE47             	!:
17407                        		__call		_spr_x.1
         02:CE47  20 1E E8   			call	_spr_x.1
17408                        	
17409                        		.dbg	line,	"include\routines_LEVELS.c", 4004; spr_set(weapon_id);
17410                        		__ld.umq	_weapon_id
         02:CE4A  AD 29 23   			lda	_weapon_id
17411                        		__call		_spr_set.1
         02:CE4D  20 F1 E7   			call	_spr_set.1
17412                        	
17413                        		.dbg	line,	"include\routines_LEVELS.c", 4005; spr_x(player_pos_x+48);
17414                        		__ld.wm		_player_pos_x
         02:CE50  AD 01 25   			lda.l	_player_pos_x
         02:CE53  AC 02 25   			ldy.h	_player_pos_x
17415                        		__add.wi	48
         02:CE56  18         			clc
         02:CE57  69 30      			adc.l	#48
         02:CE59  90 01      			bcc	!+
         02:CE5B  C8         			iny
         02:CE5C             	!:
17416                        		__call		_spr_x.1
         02:CE5C  20 1E E8   			call	_spr_x.1
17417                        	
17418                        		.dbg	line,	"include\routines_LEVELS.c", 4006; }
17419                        	
17420                        		.dbg	line,	"include\routines_LEVELS.c", 4007; 
17421                        	
17422                        		.dbg	line,	"include\routines_LEVELS.c", 4008; else
17423                        		__bra		.LL880
         02:CE5F  4C 7A CF   			bra	.LL880
17424    02:CE62             	.LL879:
17425                        	
17426                        		.dbg	line,	"include\routines_LEVELS.c", 4009; {
17427                        	
17428                        		.dbg	line,	"include\routines_LEVELS.c", 4010; spr_x(player_pos_x-16);
17429                        		__ld.wm		_player_pos_x
         02:CE62  AD 01 25   			lda.l	_player_pos_x
         02:CE65  AC 02 25   			ldy.h	_player_pos_x
17430                        		__sub.wi	16
         02:CE68  38         			sec
         02:CE69  E9 10      			sbc.l	#16
         02:CE6B  B0 01      			bcs	!+
         02:CE6D  88         			dey
         02:CE6E             	!:
17431                        		__call		_spr_x.1
         02:CE6E  20 1E E8   			call	_spr_x.1
17432                        	
17433                        		.dbg	line,	"include\routines_LEVELS.c", 4012; spr_set(weapon_id);
17434                        		__ld.umq	_weapon_id
         02:CE71  AD 29 23   			lda	_weapon_id
17435                        		__call		_spr_set.1
         02:CE74  20 F1 E7   			call	_spr_set.1
17436                        	
17437                        		.dbg	line,	"include\routines_LEVELS.c", 4013; spr_x(player_pos_x-32);
17438                        		__ld.wm		_player_pos_x
         02:CE77  AD 01 25   			lda.l	_player_pos_x
         02:CE7A  AC 02 25   			ldy.h	_player_pos_x
17439                        		__sub.wi	32
         02:CE7D  38         			sec
         02:CE7E  E9 20      			sbc.l	#32
         02:CE80  B0 01      			bcs	!+
         02:CE82  88         			dey
         02:CE83             	!:
17440                        		__call		_spr_x.1
         02:CE83  20 1E E8   			call	_spr_x.1
17441                        	
17442                        		.dbg	line,	"include\routines_LEVELS.c", 4014; }
17443    02:CE86             	.LL880	.alias		.LL881
17444                        	
17445                        		.dbg	line,	"include\routines_LEVELS.c", 4016; //spr_y(player_pos_y + weapon_y_offset);
17446                        	
17447                        		.dbg	line,	"include\routines_LEVELS.c", 4018; //collision_WEAPON_OBJECTS();
17448                        	
17449                        		.dbg	line,	"include\routines_LEVELS.c", 4019; }
17450                        	
17451                        		.dbg	line,	"include\routines_LEVELS.c", 4021; else if(player_counter_attack == 8)
17452                        		__bra		.LL881
         02:CE86  4C 7A CF   			bra	.LL881
17453    02:CE89             	.LL878:
17454                        		__ld.umq	_player_counter_attack
         02:CE89  AD 21 23   			lda	_player_counter_attack
17455                        		__equ_b.uiq	8
         02:CE8C  C9 08      			cmp	#8
         02:CE8E  F0 01      			beq	!+
         02:CE90  18         			clc
         02:CE91             	!:
17456                        		__bfalse	.LL882
         02:CE91  90 6F      			bcc	.LL882
17457                        	
17458                        		.dbg	line,	"include\routines_LEVELS.c", 4022; {
17459                        	
17460                        		.dbg	line,	"include\routines_LEVELS.c", 4023; list_chain_active[1] = TRUE;
17461                        		__st.umiq	1, _list_chain_active + 1
         02:CE93  A9 01      			lda.l	#1
         02:CE95  8D 2D 23   			sta	_list_chain_active + 1
17462                        	
17463                        		.dbg	line,	"include\routines_LEVELS.c", 4024; 
17464                        	
17465                        		.dbg	line,	"include\routines_LEVELS.c", 4025; spr_set(chain_id+1);
17466                        		__ld.um		_chain_id
         02:CE98  AD 28 23   			lda	_chain_id
         02:CE9B  C2         			cly
17467                        		__add.wi	1
         02:CE9C  1A         			inc	a
         02:CE9D  D0 01      			bne	!+
         02:CE9F  C8         			iny
         02:CEA0             	!:
17468                        		__call		_spr_set.1
         02:CEA0  20 F1 E7   			call	_spr_set.1
17469                        	
17470                        		.dbg	line,	"include\routines_LEVELS.c", 4026; spr_y(player_pos_y);
17471                        		__ld.wm		_player_pos_y
         02:CEA3  AD 03 25   			lda.l	_player_pos_y
         02:CEA6  AC 04 25   			ldy.h	_player_pos_y
17472                        		__call		_spr_y.1
         02:CEA9  20 2D E8   			call	_spr_y.1
17473                        	
17474                        		.dbg	line,	"include\routines_LEVELS.c", 4028; if(player_axis == AXIS_RIGHT)
17475                        		__not.um	_player_axis
         02:CEAC  AD 1C 23   			lda	_player_axis
         02:CEAF  18         			clc
         02:CEB0  D0 01      			bne	!+
         02:CEB2  38         			sec
         02:CEB3             	!:
17476                        		__bfalse	.LL883
         02:CEB3  90 27      			bcc	.LL883
17477                        	
17478                        		.dbg	line,	"include\routines_LEVELS.c", 4029; {
17479                        	
17480                        		.dbg	line,	"include\routines_LEVELS.c", 4030; spr_x(player_pos_x+48);
17481                        		__ld.wm		_player_pos_x
         02:CEB5  AD 01 25   			lda.l	_player_pos_x
         02:CEB8  AC 02 25   			ldy.h	_player_pos_x
17482                        		__add.wi	48
         02:CEBB  18         			clc
         02:CEBC  69 30      			adc.l	#48
         02:CEBE  90 01      			bcc	!+
         02:CEC0  C8         			iny
         02:CEC1             	!:
17483                        		__call		_spr_x.1
         02:CEC1  20 1E E8   			call	_spr_x.1
17484                        	
17485                        		.dbg	line,	"include\routines_LEVELS.c", 4032; spr_set(weapon_id);
17486                        		__ld.umq	_weapon_id
         02:CEC4  AD 29 23   			lda	_weapon_id
17487                        		__call		_spr_set.1
         02:CEC7  20 F1 E7   			call	_spr_set.1
17488                        	
17489                        		.dbg	line,	"include\routines_LEVELS.c", 4033; spr_x(player_pos_x+64);
17490                        		__ld.wm		_player_pos_x
         02:CECA  AD 01 25   			lda.l	_player_pos_x
         02:CECD  AC 02 25   			ldy.h	_player_pos_x
17491                        		__add.wi	64
         02:CED0  18         			clc
         02:CED1  69 40      			adc.l	#64
         02:CED3  90 01      			bcc	!+
         02:CED5  C8         			iny
         02:CED6             	!:
17492                        		__call		_spr_x.1
         02:CED6  20 1E E8   			call	_spr_x.1
17493                        	
17494                        		.dbg	line,	"include\routines_LEVELS.c", 4034; }
17495                        	
17496                        		.dbg	line,	"include\routines_LEVELS.c", 4035; 
17497                        	
17498                        		.dbg	line,	"include\routines_LEVELS.c", 4036; else
17499                        		__bra		.LL884
         02:CED9  4C 7A CF   			bra	.LL884
17500    02:CEDC             	.LL883:
17501                        	
17502                        		.dbg	line,	"include\routines_LEVELS.c", 4037; {
17503                        	
17504                        		.dbg	line,	"include\routines_LEVELS.c", 4038; spr_x(player_pos_x-32);
17505                        		__ld.wm		_player_pos_x
         02:CEDC  AD 01 25   			lda.l	_player_pos_x
         02:CEDF  AC 02 25   			ldy.h	_player_pos_x
17506                        		__sub.wi	32
         02:CEE2  38         			sec
         02:CEE3  E9 20      			sbc.l	#32
         02:CEE5  B0 01      			bcs	!+
         02:CEE7  88         			dey
         02:CEE8             	!:
17507                        		__call		_spr_x.1
         02:CEE8  20 1E E8   			call	_spr_x.1
17508                        	
17509                        		.dbg	line,	"include\routines_LEVELS.c", 4040; spr_set(weapon_id);
17510                        		__ld.umq	_weapon_id
         02:CEEB  AD 29 23   			lda	_weapon_id
17511                        		__call		_spr_set.1
         02:CEEE  20 F1 E7   			call	_spr_set.1
17512                        	
17513                        		.dbg	line,	"include\routines_LEVELS.c", 4041; spr_x(player_pos_x-48);
17514                        		__ld.wm		_player_pos_x
         02:CEF1  AD 01 25   			lda.l	_player_pos_x
         02:CEF4  AC 02 25   			ldy.h	_player_pos_x
17515                        		__sub.wi	48
         02:CEF7  38         			sec
         02:CEF8  E9 30      			sbc.l	#48
         02:CEFA  B0 01      			bcs	!+
         02:CEFC  88         			dey
         02:CEFD             	!:
17516                        		__call		_spr_x.1
         02:CEFD  20 1E E8   			call	_spr_x.1
17517                        	
17518                        		.dbg	line,	"include\routines_LEVELS.c", 4042; }
17519    02:CF00             	.LL884	.alias		.LL885
17520                        	
17521                        		.dbg	line,	"include\routines_LEVELS.c", 4044; //spr_y(player_pos_y + weapon_y_offset);
17522                        	
17523                        		.dbg	line,	"include\routines_LEVELS.c", 4046; //collision_WEAPON_OBJECTS();
17524                        	
17525                        		.dbg	line,	"include\routines_LEVELS.c", 4047; }
17526                        	
17527                        		.dbg	line,	"include\routines_LEVELS.c", 4049; else if(player_counter_attack == 9)
17528                        		__bra		.LL885
         02:CF00  80 78      			bra	.LL885
17529    02:CF02             	.LL882:
17530                        		__ld.umq	_player_counter_attack
         02:CF02  AD 21 23   			lda	_player_counter_attack
17531                        		__equ_b.uiq	9
         02:CF05  C9 09      			cmp	#9
         02:CF07  F0 01      			beq	!+
         02:CF09  18         			clc
         02:CF0A             	!:
17532                        		__bfalse	.LL886
         02:CF0A  90 6E      			bcc	.LL886
17533                        	
17534                        		.dbg	line,	"include\routines_LEVELS.c", 4050; {
17535                        	
17536                        		.dbg	line,	"include\routines_LEVELS.c", 4051; list_chain_active[2] = TRUE;
17537                        		__st.umiq	1, _list_chain_active + 2
         02:CF0C  A9 01      			lda.l	#1
         02:CF0E  8D 2E 23   			sta	_list_chain_active + 2
17538                        	
17539                        		.dbg	line,	"include\routines_LEVELS.c", 4052; 
17540                        	
17541                        		.dbg	line,	"include\routines_LEVELS.c", 4053; spr_set(chain_id+2);
17542                        		__ld.um		_chain_id
         02:CF11  AD 28 23   			lda	_chain_id
         02:CF14  C2         			cly
17543                        		__add.wi	2
         02:CF15  18         			clc
         02:CF16  69 02      			adc.l	#2
         02:CF18  90 01      			bcc	!+
         02:CF1A  C8         			iny
         02:CF1B             	!:
17544                        		__call		_spr_set.1
         02:CF1B  20 F1 E7   			call	_spr_set.1
17545                        	
17546                        		.dbg	line,	"include\routines_LEVELS.c", 4054; spr_y(player_pos_y);
17547                        		__ld.wm		_player_pos_y
         02:CF1E  AD 03 25   			lda.l	_player_pos_y
         02:CF21  AC 04 25   			ldy.h	_player_pos_y
17548                        		__call		_spr_y.1
         02:CF24  20 2D E8   			call	_spr_y.1
17549                        	
17550                        		.dbg	line,	"include\routines_LEVELS.c", 4056; if(player_axis == AXIS_RIGHT)
17551                        		__not.um	_player_axis
         02:CF27  AD 1C 23   			lda	_player_axis
         02:CF2A  18         			clc
         02:CF2B  D0 01      			bne	!+
         02:CF2D  38         			sec
         02:CF2E             	!:
17552                        		__bfalse	.LL887
         02:CF2E  90 26      			bcc	.LL887
17553                        	
17554                        		.dbg	line,	"include\routines_LEVELS.c", 4057; {
17555                        	
17556                        		.dbg	line,	"include\routines_LEVELS.c", 4058; spr_x(player_pos_x+64);
17557                        		__ld.wm		_player_pos_x
         02:CF30  AD 01 25   			lda.l	_player_pos_x
         02:CF33  AC 02 25   			ldy.h	_player_pos_x
17558                        		__add.wi	64
         02:CF36  18         			clc
         02:CF37  69 40      			adc.l	#64
         02:CF39  90 01      			bcc	!+
         02:CF3B  C8         			iny
         02:CF3C             	!:
17559                        		__call		_spr_x.1
         02:CF3C  20 1E E8   			call	_spr_x.1
17560                        	
17561                        		.dbg	line,	"include\routines_LEVELS.c", 4060; spr_set(weapon_id);
17562                        		__ld.umq	_weapon_id
         02:CF3F  AD 29 23   			lda	_weapon_id
17563                        		__call		_spr_set.1
         02:CF42  20 F1 E7   			call	_spr_set.1
17564                        	
17565                        		.dbg	line,	"include\routines_LEVELS.c", 4061; spr_x(player_pos_x+80);
17566                        		__ld.wm		_player_pos_x
         02:CF45  AD 01 25   			lda.l	_player_pos_x
         02:CF48  AC 02 25   			ldy.h	_player_pos_x
17567                        		__add.wi	80
         02:CF4B  18         			clc
         02:CF4C  69 50      			adc.l	#80
         02:CF4E  90 01      			bcc	!+
         02:CF50  C8         			iny
         02:CF51             	!:
17568                        		__call		_spr_x.1
         02:CF51  20 1E E8   			call	_spr_x.1
17569                        	
17570                        		.dbg	line,	"include\routines_LEVELS.c", 4062; }
17571                        	
17572                        		.dbg	line,	"include\routines_LEVELS.c", 4063; 
17573                        	
17574                        		.dbg	line,	"include\routines_LEVELS.c", 4064; else
17575                        		__bra		.LL888
         02:CF54  80 24      			bra	.LL888
17576    02:CF56             	.LL887:
17577                        	
17578                        		.dbg	line,	"include\routines_LEVELS.c", 4065; {
17579                        	
17580                        		.dbg	line,	"include\routines_LEVELS.c", 4066; spr_x(player_pos_x-48);
17581                        		__ld.wm		_player_pos_x
         02:CF56  AD 01 25   			lda.l	_player_pos_x
         02:CF59  AC 02 25   			ldy.h	_player_pos_x
17582                        		__sub.wi	48
         02:CF5C  38         			sec
         02:CF5D  E9 30      			sbc.l	#48
         02:CF5F  B0 01      			bcs	!+
         02:CF61  88         			dey
         02:CF62             	!:
17583                        		__call		_spr_x.1
         02:CF62  20 1E E8   			call	_spr_x.1
17584                        	
17585                        		.dbg	line,	"include\routines_LEVELS.c", 4068; spr_set(weapon_id);
17586                        		__ld.umq	_weapon_id
         02:CF65  AD 29 23   			lda	_weapon_id
17587                        		__call		_spr_set.1
         02:CF68  20 F1 E7   			call	_spr_set.1
17588                        	
17589                        		.dbg	line,	"include\routines_LEVELS.c", 4069; spr_x(player_pos_x-64);
17590                        		__ld.wm		_player_pos_x
         02:CF6B  AD 01 25   			lda.l	_player_pos_x
         02:CF6E  AC 02 25   			ldy.h	_player_pos_x
17591                        		__sub.wi	64
         02:CF71  38         			sec
         02:CF72  E9 40      			sbc.l	#64
         02:CF74  B0 01      			bcs	!+
         02:CF76  88         			dey
         02:CF77             	!:
17592                        		__call		_spr_x.1
         02:CF77  20 1E E8   			call	_spr_x.1
17593                        	
17594                        		.dbg	line,	"include\routines_LEVELS.c", 4070; }
17595    02:CF7A             	.LL888:
17596                        	
17597                        		.dbg	line,	"include\routines_LEVELS.c", 4072; //spr_y(player_pos_y + weapon_y_offset);
17598                        	
17599                        		.dbg	line,	"include\routines_LEVELS.c", 4074; //collision_WEAPON_OBJECTS();
17600                        	
17601                        		.dbg	line,	"include\routines_LEVELS.c", 4075; }
17602                        	
17603                        		.dbg	line,	"include\routines_LEVELS.c", 4076; 
17604                        	
17605                        		.dbg	line,	"include\routines_LEVELS.c", 4077; spr_set(weapon_id);
17606    02:CF7A             	.LL886:
17607    02:CF7A             	.LL885:
17608    02:CF7A             	.LL881:
17609    02:CF7A             	.LL877:
17610                        		__ld.umq	_weapon_id
         02:CF7A  AD 29 23   			lda	_weapon_id
17611                        		__call		_spr_set.1
         02:CF7D  20 F1 E7   			call	_spr_set.1
17612                        	
17613                        		.dbg	line,	"include\routines_LEVELS.c", 4078; spr_y(player_pos_y + weapon_y_offset);
17614                        		__ld.bm		_weapon_y_offset
         02:CF80  AD 99 26   			lda	_weapon_y_offset
         02:CF83  C2         			cly
         02:CF84  10 01      			bpl	!+
         02:CF86  88         			dey
         02:CF87             	!:
17615                        		__add.wm	_player_pos_y
         02:CF87  18         			clc
         02:CF88  6D 03 25   			adc.l	_player_pos_y
         02:CF8B  42         			say
         02:CF8C  6D 04 25   			adc.h	_player_pos_y
         02:CF8F  42         			say
17616                        		__call		_spr_y.1
         02:CF90  20 2D E8   			call	_spr_y.1
17617                        	
17618                        		.dbg	line,	"include\routines_LEVELS.c", 4079; 
17619                        	
17620                        		.dbg	line,	"include\routines_LEVELS.c", 4080; collision_WEAPON_OBJECTS();
17621                        		__call		_collision_WEAPON_OBJECTS
         02:CF93  20 09 FF   			call	_collision_WEAPON_OBJECTS
17622                        	
17623                        		.dbg	line,	"include\routines_LEVELS.c", 4082; // SET CHAIN Y POSITION //
17624                        	
17625                        		.dbg	line,	"include\routines_LEVELS.c", 4083; for(i=0 ; i<3 ; i++)
17626                        		__st.umiq	0, __update_WEAPON_end - 4  /* i */
         02:CF96  9C 0D 23   			stz	__update_WEAPON_end - 4
17627    02:CF99             	.LL889:
17628                        		__ld.umq	__update_WEAPON_end - 4  /* i */
         02:CF99  AD 0D 23   			lda	__update_WEAPON_end - 4
17629                        		__ult_b.uiq	3
         02:CF9C  C9 03      			cmp	#3		; Subtract integer from A.
         02:CF9E  6A         			ror	a		; CC if A < integer.
         02:CF9F  49 80      			eor	#$80
         02:CFA1  2A         			rol	a
17630                        		__btrue		.LL891
         02:CFA2  B0 07      			bcs	.LL891
17631                        		__bra		.LL892
         02:CFA4  80 3C      			bra	.LL892
17632    02:CFA6             	.LL890:
17633                        		__inc.umq	__update_WEAPON_end - 4  /* i */
         02:CFA6  EE 0D 23   			inc	__update_WEAPON_end - 4
17634                        		__bra		.LL889
         02:CFA9  80 EE      			bra	.LL889
17635    02:CFAB             	.LL891:
17636                        	
17637                        		.dbg	line,	"include\routines_LEVELS.c", 4084; {
17638                        	
17639                        		.dbg	line,	"include\routines_LEVELS.c", 4085; spr_set(chain_id+i);
17640                        		__ld.um		_chain_id
         02:CFAB  AD 28 23   			lda	_chain_id
         02:CFAE  C2         			cly
17641                        		__add.um	__update_WEAPON_end - 4  /* i */
         02:CFAF  18         			clc
         02:CFB0  6D 0D 23   			adc	__update_WEAPON_end - 4
         02:CFB3  90 01      			bcc	!+
         02:CFB5  C8         			iny
         02:CFB6             	!:
17642                        		__call		_spr_set.1
         02:CFB6  20 F1 E7   			call	_spr_set.1
17643                        	
17644                        		.dbg	line,	"include\routines_LEVELS.c", 4087; spr_y( ((player_pos_y + 16) * list_chain_active[i]) - 16); //list_chain_active[0] = TRUE;
17645                        		__ld.wm		_player_pos_y
         02:CFB9  AD 03 25   			lda.l	_player_pos_y
         02:CFBC  AC 04 25   			ldy.h	_player_pos_y
17646                        		__add.wi	16
         02:CFBF  18         			clc
         02:CFC0  69 10      			adc.l	#16
         02:CFC2  90 01      			bcc	!+
         02:CFC4  C8         			iny
         02:CFC5             	!:
17647                        		__push.wr
         02:CFC5  5A         			phy
         02:CFC6  48         			pha
17648                        		__ldx.umq	__update_WEAPON_end - 4  /* i */
         02:CFC7  AE 0D 23   			ldx	__update_WEAPON_end - 4
17649                        		__ld.uax	_list_chain_active
         02:CFCA  BD 2C 23   			lda	_list_chain_active, x
         02:CFCD  C2         			cly
17650                        		__mul.wt
         02:CFCE  85 00      			sta.l	<multiplier
         02:CFD0  84 01      			sty.h	<multiplier
         02:CFD2  68         			pla
         02:CFD3  7A         			ply
         02:CFD4  20 60 E4   			jsr	__mulint
17651                        		__sub.wi	16
         02:CFD7  38         			sec
         02:CFD8  E9 10      			sbc.l	#16
         02:CFDA  B0 01      			bcs	!+
         02:CFDC  88         			dey
         02:CFDD             	!:
17652                        		__call		_spr_y.1
         02:CFDD  20 2D E8   			call	_spr_y.1
17653                        	
17654                        		.dbg	line,	"include\routines_LEVELS.c", 4088; }
17655                        		__bra		.LL890
         02:CFE0  80 C4      			bra	.LL890
17656    02:CFE2             	.LL892:
17657                        	
17658                        		.dbg	line,	"include\routines_LEVELS.c", 4089; }
17659                        	
17660                        		.dbg	line,	"include\routines_LEVELS.c", 4091; 
17661                        	
17662                        		.dbg	line,	"include\routines_LEVELS.c", 4092; player_counter_attack += 1;
17663    02:CFE2             	.LL873:
17664                        		__add_st.umiq	1, _player_counter_attack
         02:CFE2  EE 21 23   			inc	_player_counter_attack
17665                        	
17666                        		.dbg	line,	"include\routines_LEVELS.c", 4093; }
17667                        	
17668                        		.dbg	line,	"include\routines_LEVELS.c", 4094; }
17669    02:CFE5             	.LL865:
17670                        	
17671                        		.dbg	line,	"include\routines_LEVELS.c", 4095; }
17672    02:CFE5             	.LL864:
17673    02:CFE5             	.LL863:
17674    02:CFE5             	.LL837:
17675    02:CFE5             	.LL808:
17676    02:CFE5             	.LL775:
17677    02:CFE5             	.LL748:
17678                        		__return	0
         02:CFE5  4C EF FF   			jmp	leave_proc
17679                        		.dbg	clear
17680                        		.endp
17681               230D     		.bss
17682    F8:230D             			ds	4
17683    F8:2311             	__update_WEAPON_end:
17684               E31D     		.code
17685                        		.pceas
17686                        	
17687                        		.dbg	line,	"Black_Tiger.c", 26; #include "include/routines_NPC.c"
17688                        		.dbg	line,	"include\routines_NPC.c", 1; #include "huc.h"
17689                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 1; #ifndef _hucc_legacy_h
17690                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 2; #define _hucc_legacy_h
17691                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 4; /****************************************************************************
17692                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 5; ; ***************************************************************************
17693                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 6; ;
17694                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 7; ; huc.h
17695                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 8; ;
17696                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 9; ; HuCC wrapper file to include a default set of HuC-compatible functions.
17697                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 10; ;
17698                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 11; ; Copyright John Brandwood 2024.
17699                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 12; ;
17700                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 13; ; Distributed under the Boost Software License, Version 1.0.
17701                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
17702                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
17703                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 16; ;
17704                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 17; ; ***************************************************************************
17705                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 18; ; ***************************************************************************
17706                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 19; ;
17707                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 20; ; When the HuCC compiler is invoked with the "--legacy" option to compile old
17708                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 21; ; projects, then this "huc.h" file is automatically included.
17709                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 22; ;
17710                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 23; ; This file includes a set of the individual HuCC headers which correspond to
17711                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 24; ; HuC's built-in functions and MagicKit library.
17712                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 25; ;
17713                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 26; ; New HuCC projects should, preferably, include the specific headers that are
17714                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 27; ; needed, which will then allow them to replace parts of the standard library
17715                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 28; ; with newer functions, or they can just manually include this "huc.h" file.
17716                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 29; ;
17717                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 30; ; ***************************************************************************
17718                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 31; ; **************************************************************************/
17719                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 33; #include "hucc-systemcard.h"
17720                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 34; #include "hucc-baselib.h"
17721                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 35; #include "hucc-gfx.h"
17722                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 36; #include "hucc-old-scroll.h"
17723                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 37; #include "hucc-old-spr.h"
17724                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 38; #include "hucc-old-map.h"
17725                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 39; #include "hucc-old-line.h"
17726                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 41; #include <stdlib.h>
17727                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 42; #include <string.h>
17728                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 44; #endif // _hucc_legacy_h
17729                        		.dbg	line,	"include\routines_NPC.c", 2; #include "hucc-scroll.h"
17730                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 1; #ifndef _hucc_scroll_h
17731                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 2; #define _hucc_scroll_h
17732                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 4; /****************************************************************************
17733                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 5; ; ***************************************************************************
17734                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 6; ;
17735                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 7; ; hucc-scroll.h
17736                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 8; ;
17737                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 9; ; Routines for a fast split-screen scrolling system.
17738                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 10; ;
17739                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 11; ; Copyright John Brandwood 2024.
17740                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 12; ;
17741                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 13; ; Distributed under the Boost Software License, Version 1.0.
17742                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
17743                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
17744                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 16; ;
17745                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 17; ; ***************************************************************************
17746                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 18; ; ***************************************************************************
17747                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 19; ;
17748                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 20; ; The maximum number of splits for each screen layer is set in your project's
17749                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 21; ; "hucc-config.inc" file, with the library having a limit of 128-per-layer.
17750                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 22; ;
17751                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 23; ; Your first active split must be defined to start at screen line 0, and then
17752                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 24; ; the rest of the active splits must be in increasing line order to match the
17753                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 25; ; way that the PC Engine displays the output image.
17754                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 26; ;
17755                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 27; ; You can have disabled splits interleaved with your active splits.
17756                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 28; ;
17757                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 29; ; Splits that are normally disabled can be used to create full screen effects
17758                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 30; ; such as bouncing the screen up and down by adding blank areas at the top or
17759                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 31; ; bottom of the screen, and then rapidly changing the height of those areas.
17760                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 32; ;
17761                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 33; ; ***************************************************************************
17762                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 34; ; **************************************************************************/
17763                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 36; // *************
17764                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 37; // VDC bits for display_flags ...
17765                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 38; // *************
17766                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 40; #ifndef BKG_OFF
17767                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 41; #define BKG_OFF 0x00
17768                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 42; #endif
17769                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 44; #ifndef SPR_OFF
17770                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 45; #define SPR_OFF 0x00
17771                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 46; #endif
17772                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 48; #ifndef BKG_ON
17773                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 49; #define BKG_ON 0x80
17774                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 50; #endif
17775                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 52; #ifndef SPR_ON
17776                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 53; #define SPR_ON 0x40
17777                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 54; #endif
17778                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 56; // *************
17779                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 57; // Functions in hucc-scroll.asm ...
17780                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 58; // *************
17781                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 60; #ifdef __HUCC__
17782                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 62; #asmdef	HUCC_USES_NEW_SCROLL 1
17783                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 64; extern void __fastcall scroll_split( unsigned char index<_al>, unsigned char screen_line<_ah>, unsigned int bat_x<_bx>, unsigned int bat_y<_cx>, unsigned char display_flags<_dl> );
17784                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 65; extern void __fastcall sgx_scroll_split( unsigned char index<_al>, unsigned char screen_line<_ah>, unsigned int bat_x<_bx>, unsigned int bat_y<_cx>, unsigned char display_flags<_dl> );
17785                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 67; extern void __fastcall disable_split( unsigned char index<acc> );
17786                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 68; extern void __fastcall sgx_disable_split( unsigned char index<acc> );
17787                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 70; extern void __fastcall __macro disable_all_splits( void );
17788                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 71; extern void __fastcall __macro sgx_disable_all_splits( void );
17789                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 73; #asm
17790                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 74; .macro	_disable_all_splits
17791                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 75; ldy	#HUCC_PCE_SPLITS - 1
17792                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 76; !loop:		tya
17793                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 77; call	_disable_split.1
17794                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 78; dey
17795                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 79; bpl	!loop-
17796                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 80; .endm
17797                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 82; .macro	_sgx_disable_all_splits
17798                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 83; ldy	#HUCC_SGX_SPLITS - 1
17799                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 84; !loop:		tya
17800                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 85; call	_sgx_disable_split.1
17801                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 86; dey
17802                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 87; bpl	!loop-
17803                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 88; .endm
17804                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 89; #endasm
17805                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 91; #endif // __HUCC__
17806                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 93; #endif // _hucc_scroll_h
17807                        		.dbg	line,	"include\routines_NPC.c", 3; #include "hucc-chrmap.h"
17808                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 1; #ifndef _hucc_chrmap_h
17809                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 2; #define _hucc_chrmap_h
17810                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 4; /****************************************************************************
17811                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 5; ; ***************************************************************************
17812                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 6; ;
17813                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 7; ; hucc-chrmap.h
17814                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 8; ;
17815                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 9; ; A simple map system based on 8x8 characters (aka "tiles") in BAT format.
17816                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 10; ;
17817                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 11; ; Copyright John Brandwood 2025.
17818                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 12; ;
17819                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 13; ; Distributed under the Boost Software License, Version 1.0.
17820                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
17821                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
17822                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 16; ;
17823                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 17; ; ***************************************************************************
17824                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 18; ; ***************************************************************************
17825                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 19; ;
17826                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 20; ; The maximum X and Y size for chrmaps is 256 characters (2048 pixels).
17827                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 21; ;
17828                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 22; ; The maximum total size for a chrmap is 16KBytes, which allows for maps up
17829                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 23; ; to 256x32 tiles (2048x256 pixels).
17830                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 24; ;
17831                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 25; ; ***************************************************************************
17832                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 26; ; **************************************************************************/
17833                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 28; // *************
17834                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 29; // This code extends the blkmap library ...
17835                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 30; // *************
17836                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 32; #include "hucc-blkmap.h"
17837                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 34; // *************
17838                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 35; // Functions in chrmap.asm ...
17839                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 36; // *************
17840                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 38; #ifdef __HUCC__
17841                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 40; #asmdef	HUCC_USES_CHRMAP 1
17842                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 42; extern void __fastcall __nop set_chrmap( unsigned char __far *chrmap<vdc_map_bank:vdc_map_addr>, unsigned char tiles_w<vdc_map_line_w> );
17843                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 44; extern void __fastcall draw_bat( void );
17844                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 45; extern void __fastcall scroll_bat( void );
17845                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 47; extern void __fastcall blit_bat( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
17846                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 49; #ifdef _SGX
17847                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 51; extern void __fastcall __nop sgx_set_chrmap( unsigned char __far *chrmap<sgx_map_bank:sgx_map_addr>, unsigned char tiles_w<sgx_map_line_w> );
17848                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 53; extern void __fastcall sgx_draw_bat( void );
17849                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 54; extern void __fastcall sgx_scroll_bat( void );
17850                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 56; extern void __fastcall sgx_blit_bat( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
17851                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 58; #endif
17852                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 60; #endif // __HUCC__
17853                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 62; #endif // _hucc_chrmap_h
17854                        		.dbg	line,	"include\routines_NPC.c", 4; #include "hucc-blkmap.h"
17855                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 1; #ifndef _hucc_blkmap_h
17856                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 2; #define _hucc_blkmap_h
17857                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 4; /****************************************************************************
17858                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 5; ; ***************************************************************************
17859                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 6; ;
17860                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 7; ; hucc-blkmap.h
17861                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 8; ;
17862                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 9; ; A map system based on 16x16 meta-tiles (aka "blocks", aka CHR/BLK/MAP).
17863                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 10; ;
17864                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 11; ; Copyright John Brandwood 2025.
17865                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 12; ;
17866                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 13; ; Distributed under the Boost Software License, Version 1.0.
17867                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
17868                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
17869                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 16; ;
17870                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 17; ; ***************************************************************************
17871                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 18; ; ***************************************************************************
17872                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 19; ;
17873                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 20; ; The maximum X and Y size for blkmaps is 128 blocks (2048 pixels).
17874                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 21; ;
17875                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 22; ; The maximum total size for a blkmap is 16KBytes, which allows for maps up
17876                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 23; ; to 128x128 blocks (2048x2048 pixels).
17877                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 24; ;
17878                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 25; ; Huge multi-screen blkmaps are also supported (optionally).
17879                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 26; ;
17880                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 27; ; The maximum X and Y for multi-screen maps is 128 screens (32768 pixels).
17881                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 28; ;
17882                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 29; ; The maximum total size for a multi-screen map is 8KBytes, which allows for
17883                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 30; ; a total of 1024 screens.
17884                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 31; ;
17885                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 32; ; ***************************************************************************
17886                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 33; ; **************************************************************************/
17887                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 35; // *************
17888                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 36; // Functions in blkmap.asm ...
17889                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 37; // *************
17890                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 39; #ifdef __HUCC__
17891                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 41; #asmdef	HUCC_USES_BLKMAP 1
17892                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 43; // Current top-left of drawn map in pixels.
17893                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 44; extern unsigned int   vdc_map_pxl_x;
17894                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 45; extern unsigned int   vdc_map_pxl_y;
17895                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 47; // Width and height to draw/scroll in characters (not tiles).
17896                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 48; extern unsigned char  vdc_map_draw_w;
17897                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 49; extern unsigned char  vdc_map_draw_h;
17898                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 51; // Width of map (or multi-screen BAT) in tiles.
17899                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 52; extern unsigned char  vdc_map_line_w;
17900                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 54; // Width of map in screens (if multi-screen map).
17901                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 55; extern unsigned char  vdc_map_scrn_w;
17902                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 57; // Extra information returned by get_map_block() and sgx_get_map_block(),
17903                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 58; // which are the collision flags and the mask/overlay sprite for the BLK.
17904                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 59; extern unsigned char  map_blk_flag;
17905                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 60; extern unsigned char  map_blk_mask;
17906                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 62; extern unsigned char  vdc_scr_bank;
17907                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 63; extern unsigned char *vdc_scr_addr;
17908                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 65; extern unsigned char  vdc_map_bank;
17909                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 66; extern unsigned char *vdc_map_addr;
17910                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 68; extern unsigned char  vdc_blk_bank;
17911                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 69; extern unsigned char *vdc_blk_addr;
17912                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 71; extern unsigned char  vdc_tbl_bank;
17913                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 72; extern unsigned char *vdc_tbl_addr;
17914                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 74; extern void __fastcall set_blocks( unsigned char __far *blk_def<vdc_blk_bank:vdc_blk_addr>, unsigned char __far *flg_def<vdc_tbl_bank:vdc_tbl_addr>, unsigned char number_of_blocks<_al> );
17915                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 75; extern void __fastcall __macro set_blkmap( unsigned char __far *blk_map<vdc_map_bank:vdc_map_addr>, unsigned char blocks_w<vdc_map_line_w> );
17916                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 76; extern void __fastcall __macro set_multimap( unsigned char __far *multi_map<vdc_scr_bank:vdc_scr_addr>, unsigned char screens_w<vdc_map_scrn_w> );
17917                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 78; extern void __fastcall draw_map( void );
17918                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 79; extern void __fastcall scroll_map( void );
17919                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 81; extern void __fastcall blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
17920                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 83; extern unsigned char __fastcall get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
17921                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 85; #asm
17922                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 86; .macro	_set_blkmap.2
17923                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 87; stz	vdc_scr_bank
17924                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 88; .endm
17925                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 90; .macro	_set_multimap.2
17926                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 91; lda	vdc_bat_width
17927                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 92; lsr	a
17928                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 93; sta	vdc_map_line_w
17929                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 94; .endm
17930                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 96; .macro	SCREEN
17931                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 97; db	(((\1) & $1FFF) | $6000) >> 8, bank(\1)
17932                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 98; db	(((\2) & $1FFF) | $4000) >> 8, bank(\2)
17933                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 99; db	(((\3) & $1FFF) | $6000) >> 8, bank(\3)
17934                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 100; dw	(\4)
17935                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 101; .endm
17936                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 102; #endasm
17937                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 104; #ifdef _SGX
17938                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 106; // Current top-left of drawn map in pixels.
17939                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 107; extern unsigned int   sgx_map_pxl_x;
17940                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 108; extern unsigned int   sgx_map_pxl_y;
17941                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 110; // Width and height to draw/scroll in characters (not tiles).
17942                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 111; extern unsigned char  sgx_map_draw_w;
17943                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 112; extern unsigned char  sgx_map_draw_h;
17944                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 114; // Width of map (or multi-screen BAT) in tiles.
17945                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 115; extern unsigned char  sgx_map_line_w;
17946                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 117; // Width of map in screens (if multi-screen map).
17947                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 118; extern unsigned char  sgx_map_scrn_w;
17948                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 120; extern unsigned char  sgx_scr_bank;
17949                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 121; extern unsigned char *sgx_scr_addr;
17950                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 123; extern unsigned char  sgx_map_bank;
17951                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 124; extern unsigned char *sgx_map_addr;
17952                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 126; extern unsigned char  sgx_blk_bank;
17953                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 127; extern unsigned char *sgx_blk_addr;
17954                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 129; extern unsigned char  sgx_tbl_bank;
17955                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 130; extern unsigned char *sgx_tbl_addr;
17956                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 132; extern void __fastcall sgx_set_blocks( unsigned char __far *blk_def<sgx_blk_bank:sgx_blk_addr>, unsigned char __far *flg_def<sgx_tbl_bank:sgx_tbl_addr>, unsigned char number_of_blocks<_al> );
17957                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 133; extern void __fastcall __macro sgx_set_blkmap( unsigned char __far *blk_map<sgx_map_bank:sgx_map_addr>, unsigned char blocks_w<sgx_map_line_w> );
17958                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 134; extern void __fastcall __macro sgx_set_multimap( unsigned char __far *multi_map<sgx_scr_bank:sgx_scr_addr>, unsigned char screens_w<sgx_map_scrn_w> );
17959                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 136; extern void __fastcall sgx_draw_map( void );
17960                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 137; extern void __fastcall sgx_scroll_map( void );
17961                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 139; extern void __fastcall sgx_blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
17962                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 141; extern unsigned char __fastcall sgx_get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
17963                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 143; #asm
17964                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 144; .macro	_sgx_set_blkmap.2
17965                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 145; stz	sgx_scr_bank
17966                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 146; .endm
17967                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 148; .macro	_sgx_set_multimap.2
17968                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 149; lda	sgx_bat_width
17969                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 150; lsr	a
17970                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 151; sta	sgx_map_line_w
17971                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 152; .endm
17972                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 153; #endasm
17973                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 155; #endif
17974                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 157; #endif // __HUCC__
17975                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 159; #endif // _hucc_blkmap_h
17976                        		.dbg	line,	"include\routines_NPC.c", 13; void sequence_NPC()
17977                        		.dbg	line,	"include\routines_NPC.c", 14; {
17978                        	;***********************
17979                        	;***********************
17980                        	
17981                        		.hucc
17982    1E:D38B             		.proc		_sequence_NPC
17983                        		__enter		_sequence_NPC
17984                        	
17985                        		.dbg	line,	"include\routines_NPC.c", 15; global_counter += 1;
17986                        		__add_st.wmiq	1, _global_counter
         1E:D38B  EE 5B 26   			inc.l	_global_counter
         1E:D38E  D0 03      			bne	!+
         1E:D390  EE 5C 26   			inc.h	_global_counter
         1E:D393             	!:
17987                        	
17988                        		.dbg	line,	"include\routines_NPC.c", 17; if(global_counter == 4)
17989                        		__ld.wm		_global_counter
         1E:D393  AD 5B 26   			lda.l	_global_counter
         1E:D396  AC 5C 26   			ldy.h	_global_counter
17990                        		__equ_w.wi	4
         1E:D399  C9 04      			cmp.l	#4
         1E:D39B  D0 04      			bne	!false+
         1E:D39D  C0 00      			cpy.h	#4
         1E:D39F  F0 01      			beq	!+
         1E:D3A1  18         	!false:		clc
         1E:D3A2             	!:
17991                        		__bfalse	.LL894
         1E:D3A2  90 0F      			bcc	.LL894
17992                        	
17993                        		.dbg	line,	"include\routines_NPC.c", 18; {
17994                        	
17995                        		.dbg	line,	"include\routines_NPC.c", 19; sgx_spr_set(selected_npc);
17996                        		__ld.umq	_selected_npc
         1E:D3A4  AD D6 23   			lda	_selected_npc
17997                        		__call		_sgx_spr_set.1
         1E:D3A7  20 9E E8   			call	_sgx_spr_set.1
17998                        	
17999                        		.dbg	line,	"include\routines_NPC.c", 20; sgx_spr_pattern(NPC_2_VRAM_ADR);
18000                        		__ld.wi		30208
         1E:D3AA  62         			cla
         1E:D3AB  A0 76      			ldy.h	#30208
18001                        		__call		_sgx_spr_pattern.1
         1E:D3AD  20 E7 E8   			call	_sgx_spr_pattern.1
18002                        	
18003                        		.dbg	line,	"include\routines_NPC.c", 21; }
18004                        	
18005                        		.dbg	line,	"include\routines_NPC.c", 23; else if(global_counter == 8)
18006                        		__bra		.LL895
         1E:D3B0  4C 08 D8   			bra	.LL895
18007    1E:D3B3             	.LL894:
18008                        		__ld.wm		_global_counter
         1E:D3B3  AD 5B 26   			lda.l	_global_counter
         1E:D3B6  AC 5C 26   			ldy.h	_global_counter
18009                        		__equ_w.wi	8
         1E:D3B9  C9 08      			cmp.l	#8
         1E:D3BB  D0 04      			bne	!false+
         1E:D3BD  C0 00      			cpy.h	#8
         1E:D3BF  F0 01      			beq	!+
         1E:D3C1  18         	!false:		clc
         1E:D3C2             	!:
18010                        		__bfalse	.LL896
         1E:D3C2  90 09      			bcc	.LL896
18011                        	
18012                        		.dbg	line,	"include\routines_NPC.c", 24; {
18013                        	
18014                        		.dbg	line,	"include\routines_NPC.c", 25; //sgx_spr_set(selected_npc);
18015                        	
18016                        		.dbg	line,	"include\routines_NPC.c", 26; sgx_spr_pattern(NPC_1_VRAM_ADR);
18017                        		__ld.wi		29952
         1E:D3C4  62         			cla
         1E:D3C5  A0 75      			ldy.h	#29952
18018                        		__call		_sgx_spr_pattern.1
         1E:D3C7  20 E7 E8   			call	_sgx_spr_pattern.1
18019                        	
18020                        		.dbg	line,	"include\routines_NPC.c", 27; }
18021                        	
18022                        		.dbg	line,	"include\routines_NPC.c", 29; else if(global_counter == 12)
18023                        		__bra		.LL897
         1E:D3CA  4C 08 D8   			bra	.LL897
18024    1E:D3CD             	.LL896:
18025                        		__ld.wm		_global_counter
         1E:D3CD  AD 5B 26   			lda.l	_global_counter
         1E:D3D0  AC 5C 26   			ldy.h	_global_counter
18026                        		__equ_w.wi	12
         1E:D3D3  C9 0C      			cmp.l	#12
         1E:D3D5  D0 04      			bne	!false+
         1E:D3D7  C0 00      			cpy.h	#12
         1E:D3D9  F0 01      			beq	!+
         1E:D3DB  18         	!false:		clc
         1E:D3DC             	!:
18027                        		__bfalse	.LL898
         1E:D3DC  90 09      			bcc	.LL898
18028                        	
18029                        		.dbg	line,	"include\routines_NPC.c", 30; {
18030                        	
18031                        		.dbg	line,	"include\routines_NPC.c", 31; //sgx_spr_set(selected_npc);
18032                        	
18033                        		.dbg	line,	"include\routines_NPC.c", 32; sgx_spr_pattern(NPC_2_VRAM_ADR);
18034                        		__ld.wi		30208
         1E:D3DE  62         			cla
         1E:D3DF  A0 76      			ldy.h	#30208
18035                        		__call		_sgx_spr_pattern.1
         1E:D3E1  20 E7 E8   			call	_sgx_spr_pattern.1
18036                        	
18037                        		.dbg	line,	"include\routines_NPC.c", 33; }
18038                        	
18039                        		.dbg	line,	"include\routines_NPC.c", 35; else if(global_counter == 16)
18040                        		__bra		.LL899
         1E:D3E4  4C 08 D8   			bra	.LL899
18041    1E:D3E7             	.LL898:
18042                        		__ld.wm		_global_counter
         1E:D3E7  AD 5B 26   			lda.l	_global_counter
         1E:D3EA  AC 5C 26   			ldy.h	_global_counter
18043                        		__equ_w.wi	16
         1E:D3ED  C9 10      			cmp.l	#16
         1E:D3EF  D0 04      			bne	!false+
         1E:D3F1  C0 00      			cpy.h	#16
         1E:D3F3  F0 01      			beq	!+
         1E:D3F5  18         	!false:		clc
         1E:D3F6             	!:
18044                        		__bfalse	.LL900
         1E:D3F6  90 09      			bcc	.LL900
18045                        	
18046                        		.dbg	line,	"include\routines_NPC.c", 36; {
18047                        	
18048                        		.dbg	line,	"include\routines_NPC.c", 37; //sgx_spr_set(selected_npc);
18049                        	
18050                        		.dbg	line,	"include\routines_NPC.c", 38; sgx_spr_pattern(NPC_1_VRAM_ADR);
18051                        		__ld.wi		29952
         1E:D3F8  62         			cla
         1E:D3F9  A0 75      			ldy.h	#29952
18052                        		__call		_sgx_spr_pattern.1
         1E:D3FB  20 E7 E8   			call	_sgx_spr_pattern.1
18053                        	
18054                        		.dbg	line,	"include\routines_NPC.c", 39; }
18055                        	
18056                        		.dbg	line,	"include\routines_NPC.c", 41; else if(global_counter == 20)
18057                        		__bra		.LL901
         1E:D3FE  4C 08 D8   			bra	.LL901
18058    1E:D401             	.LL900:
18059                        		__ld.wm		_global_counter
         1E:D401  AD 5B 26   			lda.l	_global_counter
         1E:D404  AC 5C 26   			ldy.h	_global_counter
18060                        		__equ_w.wi	20
         1E:D407  C9 14      			cmp.l	#20
         1E:D409  D0 04      			bne	!false+
         1E:D40B  C0 00      			cpy.h	#20
         1E:D40D  F0 01      			beq	!+
         1E:D40F  18         	!false:		clc
         1E:D410             	!:
18061                        		__bfalse	.LL902
         1E:D410  90 09      			bcc	.LL902
18062                        	
18063                        		.dbg	line,	"include\routines_NPC.c", 42; {
18064                        	
18065                        		.dbg	line,	"include\routines_NPC.c", 43; //sgx_spr_set(selected_npc);
18066                        	
18067                        		.dbg	line,	"include\routines_NPC.c", 44; sgx_spr_pattern(NPC_2_VRAM_ADR);
18068                        		__ld.wi		30208
         1E:D412  62         			cla
         1E:D413  A0 76      			ldy.h	#30208
18069                        		__call		_sgx_spr_pattern.1
         1E:D415  20 E7 E8   			call	_sgx_spr_pattern.1
18070                        	
18071                        		.dbg	line,	"include\routines_NPC.c", 45; }
18072                        	
18073                        		.dbg	line,	"include\routines_NPC.c", 47; else if(global_counter == 24)
18074                        		__bra		.LL903
         1E:D418  4C 08 D8   			bra	.LL903
18075    1E:D41B             	.LL902:
18076                        		__ld.wm		_global_counter
         1E:D41B  AD 5B 26   			lda.l	_global_counter
         1E:D41E  AC 5C 26   			ldy.h	_global_counter
18077                        		__equ_w.wi	24
         1E:D421  C9 18      			cmp.l	#24
         1E:D423  D0 04      			bne	!false+
         1E:D425  C0 00      			cpy.h	#24
         1E:D427  F0 01      			beq	!+
         1E:D429  18         	!false:		clc
         1E:D42A             	!:
18078                        		__bfalse	.LL904
         1E:D42A  90 09      			bcc	.LL904
18079                        	
18080                        		.dbg	line,	"include\routines_NPC.c", 48; {
18081                        	
18082                        		.dbg	line,	"include\routines_NPC.c", 49; //sgx_spr_set(selected_npc);
18083                        	
18084                        		.dbg	line,	"include\routines_NPC.c", 50; sgx_spr_pattern(NPC_1_VRAM_ADR);
18085                        		__ld.wi		29952
         1E:D42C  62         			cla
         1E:D42D  A0 75      			ldy.h	#29952
18086                        		__call		_sgx_spr_pattern.1
         1E:D42F  20 E7 E8   			call	_sgx_spr_pattern.1
18087                        	
18088                        		.dbg	line,	"include\routines_NPC.c", 51; }
18089                        	
18090                        		.dbg	line,	"include\routines_NPC.c", 53; else if(global_counter == 28)
18091                        		__bra		.LL905
         1E:D432  4C 08 D8   			bra	.LL905
18092    1E:D435             	.LL904:
18093                        		__ld.wm		_global_counter
         1E:D435  AD 5B 26   			lda.l	_global_counter
         1E:D438  AC 5C 26   			ldy.h	_global_counter
18094                        		__equ_w.wi	28
         1E:D43B  C9 1C      			cmp.l	#28
         1E:D43D  D0 04      			bne	!false+
         1E:D43F  C0 00      			cpy.h	#28
         1E:D441  F0 01      			beq	!+
         1E:D443  18         	!false:		clc
         1E:D444             	!:
18095                        		__bfalse	.LL906
         1E:D444  90 09      			bcc	.LL906
18096                        	
18097                        		.dbg	line,	"include\routines_NPC.c", 54; {
18098                        	
18099                        		.dbg	line,	"include\routines_NPC.c", 55; //sgx_spr_set(selected_npc);
18100                        	
18101                        		.dbg	line,	"include\routines_NPC.c", 56; sgx_spr_pattern(NPC_2_VRAM_ADR);
18102                        		__ld.wi		30208
         1E:D446  62         			cla
         1E:D447  A0 76      			ldy.h	#30208
18103                        		__call		_sgx_spr_pattern.1
         1E:D449  20 E7 E8   			call	_sgx_spr_pattern.1
18104                        	
18105                        		.dbg	line,	"include\routines_NPC.c", 57; }
18106                        	
18107                        		.dbg	line,	"include\routines_NPC.c", 59; else if(global_counter == 32)
18108                        		__bra		.LL907
         1E:D44C  4C 08 D8   			bra	.LL907
18109    1E:D44F             	.LL906:
18110                        		__ld.wm		_global_counter
         1E:D44F  AD 5B 26   			lda.l	_global_counter
         1E:D452  AC 5C 26   			ldy.h	_global_counter
18111                        		__equ_w.wi	32
         1E:D455  C9 20      			cmp.l	#32
         1E:D457  D0 04      			bne	!false+
         1E:D459  C0 00      			cpy.h	#32
         1E:D45B  F0 01      			beq	!+
         1E:D45D  18         	!false:		clc
         1E:D45E             	!:
18112                        		__bfalse	.LL908
         1E:D45E  90 09      			bcc	.LL908
18113                        	
18114                        		.dbg	line,	"include\routines_NPC.c", 60; {
18115                        	
18116                        		.dbg	line,	"include\routines_NPC.c", 61; //sgx_spr_set(selected_npc);
18117                        	
18118                        		.dbg	line,	"include\routines_NPC.c", 62; sgx_spr_pattern(NPC_1_VRAM_ADR);
18119                        		__ld.wi		29952
         1E:D460  62         			cla
         1E:D461  A0 75      			ldy.h	#29952
18120                        		__call		_sgx_spr_pattern.1
         1E:D463  20 E7 E8   			call	_sgx_spr_pattern.1
18121                        	
18122                        		.dbg	line,	"include\routines_NPC.c", 63; }
18123                        	
18124                        		.dbg	line,	"include\routines_NPC.c", 65; else if(global_counter == 36)
18125                        		__bra		.LL909
         1E:D466  4C 08 D8   			bra	.LL909
18126    1E:D469             	.LL908:
18127                        		__ld.wm		_global_counter
         1E:D469  AD 5B 26   			lda.l	_global_counter
         1E:D46C  AC 5C 26   			ldy.h	_global_counter
18128                        		__equ_w.wi	36
         1E:D46F  C9 24      			cmp.l	#36
         1E:D471  D0 04      			bne	!false+
         1E:D473  C0 00      			cpy.h	#36
         1E:D475  F0 01      			beq	!+
         1E:D477  18         	!false:		clc
         1E:D478             	!:
18129                        		__bfalse	.LL910
         1E:D478  90 09      			bcc	.LL910
18130                        	
18131                        		.dbg	line,	"include\routines_NPC.c", 66; {
18132                        	
18133                        		.dbg	line,	"include\routines_NPC.c", 67; //sgx_spr_set(selected_npc);
18134                        	
18135                        		.dbg	line,	"include\routines_NPC.c", 68; sgx_spr_pattern(NPC_2_VRAM_ADR);
18136                        		__ld.wi		30208
         1E:D47A  62         			cla
         1E:D47B  A0 76      			ldy.h	#30208
18137                        		__call		_sgx_spr_pattern.1
         1E:D47D  20 E7 E8   			call	_sgx_spr_pattern.1
18138                        	
18139                        		.dbg	line,	"include\routines_NPC.c", 69; }
18140                        	
18141                        		.dbg	line,	"include\routines_NPC.c", 71; else if(global_counter == 40)
18142                        		__bra		.LL911
         1E:D480  4C 08 D8   			bra	.LL911
18143    1E:D483             	.LL910:
18144                        		__ld.wm		_global_counter
         1E:D483  AD 5B 26   			lda.l	_global_counter
         1E:D486  AC 5C 26   			ldy.h	_global_counter
18145                        		__equ_w.wi	40
         1E:D489  C9 28      			cmp.l	#40
         1E:D48B  D0 04      			bne	!false+
         1E:D48D  C0 00      			cpy.h	#40
         1E:D48F  F0 01      			beq	!+
         1E:D491  18         	!false:		clc
         1E:D492             	!:
18146                        		__bfalse	.LL912
         1E:D492  90 09      			bcc	.LL912
18147                        	
18148                        		.dbg	line,	"include\routines_NPC.c", 72; {
18149                        	
18150                        		.dbg	line,	"include\routines_NPC.c", 73; //sgx_spr_set(selected_npc);
18151                        	
18152                        		.dbg	line,	"include\routines_NPC.c", 74; sgx_spr_pattern(NPC_1_VRAM_ADR);
18153                        		__ld.wi		29952
         1E:D494  62         			cla
         1E:D495  A0 75      			ldy.h	#29952
18154                        		__call		_sgx_spr_pattern.1
         1E:D497  20 E7 E8   			call	_sgx_spr_pattern.1
18155                        	
18156                        		.dbg	line,	"include\routines_NPC.c", 75; }
18157                        	
18158                        		.dbg	line,	"include\routines_NPC.c", 77; else if(global_counter == 44)
18159                        		__bra		.LL913
         1E:D49A  4C 08 D8   			bra	.LL913
18160    1E:D49D             	.LL912:
18161                        		__ld.wm		_global_counter
         1E:D49D  AD 5B 26   			lda.l	_global_counter
         1E:D4A0  AC 5C 26   			ldy.h	_global_counter
18162                        		__equ_w.wi	44
         1E:D4A3  C9 2C      			cmp.l	#44
         1E:D4A5  D0 04      			bne	!false+
         1E:D4A7  C0 00      			cpy.h	#44
         1E:D4A9  F0 01      			beq	!+
         1E:D4AB  18         	!false:		clc
         1E:D4AC             	!:
18163                        		__bfalse	.LL914
         1E:D4AC  90 09      			bcc	.LL914
18164                        	
18165                        		.dbg	line,	"include\routines_NPC.c", 78; {
18166                        	
18167                        		.dbg	line,	"include\routines_NPC.c", 79; //sgx_spr_set(selected_npc);
18168                        	
18169                        		.dbg	line,	"include\routines_NPC.c", 80; sgx_spr_pattern(NPC_2_VRAM_ADR);
18170                        		__ld.wi		30208
         1E:D4AE  62         			cla
         1E:D4AF  A0 76      			ldy.h	#30208
18171                        		__call		_sgx_spr_pattern.1
         1E:D4B1  20 E7 E8   			call	_sgx_spr_pattern.1
18172                        	
18173                        		.dbg	line,	"include\routines_NPC.c", 81; }
18174                        	
18175                        		.dbg	line,	"include\routines_NPC.c", 83; else if(global_counter == 48)
18176                        		__bra		.LL915
         1E:D4B4  4C 08 D8   			bra	.LL915
18177    1E:D4B7             	.LL914:
18178                        		__ld.wm		_global_counter
         1E:D4B7  AD 5B 26   			lda.l	_global_counter
         1E:D4BA  AC 5C 26   			ldy.h	_global_counter
18179                        		__equ_w.wi	48
         1E:D4BD  C9 30      			cmp.l	#48
         1E:D4BF  D0 04      			bne	!false+
         1E:D4C1  C0 00      			cpy.h	#48
         1E:D4C3  F0 01      			beq	!+
         1E:D4C5  18         	!false:		clc
         1E:D4C6             	!:
18180                        		__bfalse	.LL916
         1E:D4C6  90 09      			bcc	.LL916
18181                        	
18182                        		.dbg	line,	"include\routines_NPC.c", 84; {
18183                        	
18184                        		.dbg	line,	"include\routines_NPC.c", 85; //sgx_spr_set(selected_npc);
18185                        	
18186                        		.dbg	line,	"include\routines_NPC.c", 86; sgx_spr_pattern(NPC_1_VRAM_ADR);
18187                        		__ld.wi		29952
         1E:D4C8  62         			cla
         1E:D4C9  A0 75      			ldy.h	#29952
18188                        		__call		_sgx_spr_pattern.1
         1E:D4CB  20 E7 E8   			call	_sgx_spr_pattern.1
18189                        	
18190                        		.dbg	line,	"include\routines_NPC.c", 87; }
18191                        	
18192                        		.dbg	line,	"include\routines_NPC.c", 89; else if(global_counter == 52)
18193                        		__bra		.LL917
         1E:D4CE  4C 08 D8   			bra	.LL917
18194    1E:D4D1             	.LL916:
18195                        		__ld.wm		_global_counter
         1E:D4D1  AD 5B 26   			lda.l	_global_counter
         1E:D4D4  AC 5C 26   			ldy.h	_global_counter
18196                        		__equ_w.wi	52
         1E:D4D7  C9 34      			cmp.l	#52
         1E:D4D9  D0 04      			bne	!false+
         1E:D4DB  C0 00      			cpy.h	#52
         1E:D4DD  F0 01      			beq	!+
         1E:D4DF  18         	!false:		clc
         1E:D4E0             	!:
18197                        		__bfalse	.LL918
         1E:D4E0  90 09      			bcc	.LL918
18198                        	
18199                        		.dbg	line,	"include\routines_NPC.c", 90; {
18200                        	
18201                        		.dbg	line,	"include\routines_NPC.c", 91; //sgx_spr_set(selected_npc);
18202                        	
18203                        		.dbg	line,	"include\routines_NPC.c", 92; sgx_spr_pattern(NPC_2_VRAM_ADR);
18204                        		__ld.wi		30208
         1E:D4E2  62         			cla
         1E:D4E3  A0 76      			ldy.h	#30208
18205                        		__call		_sgx_spr_pattern.1
         1E:D4E5  20 E7 E8   			call	_sgx_spr_pattern.1
18206                        	
18207                        		.dbg	line,	"include\routines_NPC.c", 93; }
18208                        	
18209                        		.dbg	line,	"include\routines_NPC.c", 95; else if(global_counter == 75)
18210                        		__bra		.LL919
         1E:D4E8  4C 08 D8   			bra	.LL919
18211    1E:D4EB             	.LL918:
18212                        		__ld.wm		_global_counter
         1E:D4EB  AD 5B 26   			lda.l	_global_counter
         1E:D4EE  AC 5C 26   			ldy.h	_global_counter
18213                        		__equ_w.wi	75
         1E:D4F1  C9 4B      			cmp.l	#75
         1E:D4F3  D0 04      			bne	!false+
         1E:D4F5  C0 00      			cpy.h	#75
         1E:D4F7  F0 01      			beq	!+
         1E:D4F9  18         	!false:		clc
         1E:D4FA             	!:
18214                        		__bfalse	.LL920
         1E:D4FA  B0 03 4C 1F			bcc	.LL920
         1E:D4FE  D6          
18215                        	
18216                        		.dbg	line,	"include\routines_NPC.c", 96; {
18217                        	
18218                        		.dbg	line,	"include\routines_NPC.c", 97; // DISPLAY DIALOGUE BOX //
18219                        	
18220                        		.dbg	line,	"include\routines_NPC.c", 99; if(list_npc_type[selected_npc - npc_start_index] == TYPE_NPC_ZENNY)
18221                        		__ld.um		_selected_npc
         1E:D4FF  AD D6 23   			lda	_selected_npc
         1E:D502  C2         			cly
18222                        		__sub.um	_npc_start_index
         1E:D503  38         			sec
         1E:D504  ED D3 23   			sbc	_npc_start_index
         1E:D507  B0 01      			bcs	!+
         1E:D509  88         			dey
         1E:D50A             	!:
18223                        		__not.uar	_list_npc_type
         1E:D50A  A8         			tay
         1E:D50B  B9 D7 23   			lda	_list_npc_type, y
         1E:D50E  18         			clc
         1E:D50F  D0 01      			bne	!+
         1E:D511  38         			sec
         1E:D512             	!:
18224                        		__bfalse	.LL921
         1E:D512  90 48      			bcc	.LL921
18225                        	
18226                        		.dbg	line,	"include\routines_NPC.c", 100; {
18227                        	
18228                        		.dbg	line,	"include\routines_NPC.c", 101; scroll_split(0,   0,   0,  0, BKG_ON | SPR_ON);
18229                        		__st.umiq	0, _al
         1E:D514  64 F8      			stz	_al
18230                        		__st.umiq	0, _ah
         1E:D516  64 F9      			stz	_ah
18231                        		__st.wmiq	0, _bx
         1E:D518  64 FA      			stz.l	_bx
         1E:D51A  64 FB      			stz.h	_bx
18232                        		__st.wmiq	0, _cx
         1E:D51C  64 FC      			stz.l	_cx
         1E:D51E  64 FD      			stz.h	_cx
18233                        		__st.umiq	192, _dl
         1E:D520  A9 C0      			lda.l	#192
         1E:D522  85 FE      			sta	_dl
18234                        		__call		_scroll_split.5
         1E:D524  20 81 FF   			call	_scroll_split.5
18235                        	
18236                        		.dbg	line,	"include\routines_NPC.c", 102; scroll_split(1,  48, 256,  0, BKG_ON | SPR_ON);
18237                        		__st.umiq	1, _al
         1E:D527  A9 01      			lda.l	#1
         1E:D529  85 F8      			sta	_al
18238                        		__st.umiq	48, _ah
         1E:D52B  A9 30      			lda.l	#48
         1E:D52D  85 F9      			sta	_ah
18239                        		__st.wmiq	256, _bx
         1E:D52F  64 FA      			stz.l	_bx
         1E:D531  A9 01      			lda.h	#256
         1E:D533  85 FB      			sta.h	_bx
18240                        		__st.wmiq	0, _cx
         1E:D535  64 FC      			stz.l	_cx
         1E:D537  64 FD      			stz.h	_cx
18241                        		__st.umiq	192, _dl
         1E:D539  A9 C0      			lda.l	#192
         1E:D53B  85 FE      			sta	_dl
18242                        		__call		_scroll_split.5
         1E:D53D  20 81 FF   			call	_scroll_split.5
18243                        	
18244                        		.dbg	line,	"include\routines_NPC.c", 103; scroll_split(2,  80,   0, 80, BKG_ON | SPR_ON);
18245                        		__st.umiq	2, _al
         1E:D540  A9 02      			lda.l	#2
         1E:D542  85 F8      			sta	_al
18246                        		__st.umiq	80, _ah
         1E:D544  A9 50      			lda.l	#80
         1E:D546  85 F9      			sta	_ah
18247                        		__st.wmiq	0, _bx
         1E:D548  64 FA      			stz.l	_bx
         1E:D54A  64 FB      			stz.h	_bx
18248                        		__st.wmiq	80, _cx
         1E:D54C  A9 50      			lda.l	#80
         1E:D54E  85 FC      			sta.l	_cx
         1E:D550  64 FD      			stz.h	_cx
18249                        		__st.umiq	192, _dl
         1E:D552  A9 C0      			lda.l	#192
         1E:D554  85 FE      			sta	_dl
18250                        		__call		_scroll_split.5
         1E:D556  20 81 FF   			call	_scroll_split.5
18251                        	
18252                        		.dbg	line,	"include\routines_NPC.c", 104; }
18253                        	
18254                        		.dbg	line,	"include\routines_NPC.c", 106; else if(list_npc_type[selected_npc - npc_start_index] == TYPE_NPC_TIME)
18255                        		__bra		.LL922
         1E:D559  4C 08 D8   			bra	.LL922
18256    1E:D55C             	.LL921:
18257                        		__ld.um		_selected_npc
         1E:D55C  AD D6 23   			lda	_selected_npc
         1E:D55F  C2         			cly
18258                        		__sub.um	_npc_start_index
         1E:D560  38         			sec
         1E:D561  ED D3 23   			sbc	_npc_start_index
         1E:D564  B0 01      			bcs	!+
         1E:D566  88         			dey
         1E:D567             	!:
18259                        		__ld.uarq	_list_npc_type
         1E:D567  A8         			tay
         1E:D568  B9 D7 23   			lda	_list_npc_type, y
18260                        		__equ_b.uiq	1
         1E:D56B  C9 01      			cmp	#1
         1E:D56D  F0 01      			beq	!+
         1E:D56F  18         			clc
         1E:D570             	!:
18261                        		__bfalse	.LL923
         1E:D570  90 4A      			bcc	.LL923
18262                        	
18263                        		.dbg	line,	"include\routines_NPC.c", 107; {
18264                        	
18265                        		.dbg	line,	"include\routines_NPC.c", 108; scroll_split(0,   0,   0,  0, BKG_ON | SPR_ON);
18266                        		__st.umiq	0, _al
         1E:D572  64 F8      			stz	_al
18267                        		__st.umiq	0, _ah
         1E:D574  64 F9      			stz	_ah
18268                        		__st.wmiq	0, _bx
         1E:D576  64 FA      			stz.l	_bx
         1E:D578  64 FB      			stz.h	_bx
18269                        		__st.wmiq	0, _cx
         1E:D57A  64 FC      			stz.l	_cx
         1E:D57C  64 FD      			stz.h	_cx
18270                        		__st.umiq	192, _dl
         1E:D57E  A9 C0      			lda.l	#192
         1E:D580  85 FE      			sta	_dl
18271                        		__call		_scroll_split.5
         1E:D582  20 81 FF   			call	_scroll_split.5
18272                        	
18273                        		.dbg	line,	"include\routines_NPC.c", 109; scroll_split(1,  48, 256, 32, BKG_ON | SPR_ON);
18274                        		__st.umiq	1, _al
         1E:D585  A9 01      			lda.l	#1
         1E:D587  85 F8      			sta	_al
18275                        		__st.umiq	48, _ah
         1E:D589  A9 30      			lda.l	#48
         1E:D58B  85 F9      			sta	_ah
18276                        		__st.wmiq	256, _bx
         1E:D58D  64 FA      			stz.l	_bx
         1E:D58F  A9 01      			lda.h	#256
         1E:D591  85 FB      			sta.h	_bx
18277                        		__st.wmiq	32, _cx
         1E:D593  A9 20      			lda.l	#32
         1E:D595  85 FC      			sta.l	_cx
         1E:D597  64 FD      			stz.h	_cx
18278                        		__st.umiq	192, _dl
         1E:D599  A9 C0      			lda.l	#192
         1E:D59B  85 FE      			sta	_dl
18279                        		__call		_scroll_split.5
         1E:D59D  20 81 FF   			call	_scroll_split.5
18280                        	
18281                        		.dbg	line,	"include\routines_NPC.c", 110; scroll_split(2,  80,   0, 80, BKG_ON | SPR_ON);
18282                        		__st.umiq	2, _al
         1E:D5A0  A9 02      			lda.l	#2
         1E:D5A2  85 F8      			sta	_al
18283                        		__st.umiq	80, _ah
         1E:D5A4  A9 50      			lda.l	#80
         1E:D5A6  85 F9      			sta	_ah
18284                        		__st.wmiq	0, _bx
         1E:D5A8  64 FA      			stz.l	_bx
         1E:D5AA  64 FB      			stz.h	_bx
18285                        		__st.wmiq	80, _cx
         1E:D5AC  A9 50      			lda.l	#80
         1E:D5AE  85 FC      			sta.l	_cx
         1E:D5B0  64 FD      			stz.h	_cx
18286                        		__st.umiq	192, _dl
         1E:D5B2  A9 C0      			lda.l	#192
         1E:D5B4  85 FE      			sta	_dl
18287                        		__call		_scroll_split.5
         1E:D5B6  20 81 FF   			call	_scroll_split.5
18288                        	
18289                        		.dbg	line,	"include\routines_NPC.c", 111; }
18290                        	
18291                        		.dbg	line,	"include\routines_NPC.c", 113; else if(list_npc_type[selected_npc - npc_start_index] == TYPE_NPC_SHOP)
18292                        		__bra		.LL924
         1E:D5B9  4C 08 D8   			bra	.LL924
18293    1E:D5BC             	.LL923:
18294                        		__ld.um		_selected_npc
         1E:D5BC  AD D6 23   			lda	_selected_npc
         1E:D5BF  C2         			cly
18295                        		__sub.um	_npc_start_index
         1E:D5C0  38         			sec
         1E:D5C1  ED D3 23   			sbc	_npc_start_index
         1E:D5C4  B0 01      			bcs	!+
         1E:D5C6  88         			dey
         1E:D5C7             	!:
18296                        		__ld.uarq	_list_npc_type
         1E:D5C7  A8         			tay
         1E:D5C8  B9 D7 23   			lda	_list_npc_type, y
18297                        		__equ_b.uiq	2
         1E:D5CB  C9 02      			cmp	#2
         1E:D5CD  F0 01      			beq	!+
         1E:D5CF  18         			clc
         1E:D5D0             	!:
18298                        		__bfalse	.LL925
         1E:D5D0  B0 03 4C 08			bcc	.LL925
         1E:D5D4  D8          
18299                        	
18300                        		.dbg	line,	"include\routines_NPC.c", 114; {
18301                        	
18302                        		.dbg	line,	"include\routines_NPC.c", 115; scroll_split(0,   0,   0,  0, BKG_ON | SPR_ON);
18303                        		__st.umiq	0, _al
         1E:D5D5  64 F8      			stz	_al
18304                        		__st.umiq	0, _ah
         1E:D5D7  64 F9      			stz	_ah
18305                        		__st.wmiq	0, _bx
         1E:D5D9  64 FA      			stz.l	_bx
         1E:D5DB  64 FB      			stz.h	_bx
18306                        		__st.wmiq	0, _cx
         1E:D5DD  64 FC      			stz.l	_cx
         1E:D5DF  64 FD      			stz.h	_cx
18307                        		__st.umiq	192, _dl
         1E:D5E1  A9 C0      			lda.l	#192
         1E:D5E3  85 FE      			sta	_dl
18308                        		__call		_scroll_split.5
         1E:D5E5  20 81 FF   			call	_scroll_split.5
18309                        	
18310                        		.dbg	line,	"include\routines_NPC.c", 116; scroll_split(1,  48, 256, 64, BKG_ON | SPR_ON);
18311                        		__st.umiq	1, _al
         1E:D5E8  A9 01      			lda.l	#1
         1E:D5EA  85 F8      			sta	_al
18312                        		__st.umiq	48, _ah
         1E:D5EC  A9 30      			lda.l	#48
         1E:D5EE  85 F9      			sta	_ah
18313                        		__st.wmiq	256, _bx
         1E:D5F0  64 FA      			stz.l	_bx
         1E:D5F2  A9 01      			lda.h	#256
         1E:D5F4  85 FB      			sta.h	_bx
18314                        		__st.wmiq	64, _cx
         1E:D5F6  A9 40      			lda.l	#64
         1E:D5F8  85 FC      			sta.l	_cx
         1E:D5FA  64 FD      			stz.h	_cx
18315                        		__st.umiq	192, _dl
         1E:D5FC  A9 C0      			lda.l	#192
         1E:D5FE  85 FE      			sta	_dl
18316                        		__call		_scroll_split.5
         1E:D600  20 81 FF   			call	_scroll_split.5
18317                        	
18318                        		.dbg	line,	"include\routines_NPC.c", 117; scroll_split(2,  80,   0, 80, BKG_ON | SPR_ON);
18319                        		__st.umiq	2, _al
         1E:D603  A9 02      			lda.l	#2
         1E:D605  85 F8      			sta	_al
18320                        		__st.umiq	80, _ah
         1E:D607  A9 50      			lda.l	#80
         1E:D609  85 F9      			sta	_ah
18321                        		__st.wmiq	0, _bx
         1E:D60B  64 FA      			stz.l	_bx
         1E:D60D  64 FB      			stz.h	_bx
18322                        		__st.wmiq	80, _cx
         1E:D60F  A9 50      			lda.l	#80
         1E:D611  85 FC      			sta.l	_cx
         1E:D613  64 FD      			stz.h	_cx
18323                        		__st.umiq	192, _dl
         1E:D615  A9 C0      			lda.l	#192
         1E:D617  85 FE      			sta	_dl
18324                        		__call		_scroll_split.5
         1E:D619  20 81 FF   			call	_scroll_split.5
18325                        	
18326                        		.dbg	line,	"include\routines_NPC.c", 118; }
18327                        	
18328                        		.dbg	line,	"include\routines_NPC.c", 120; }
18329    1E:D61C             	.LL925	.alias		.LL926
18330    1E:D61C             	.LL924	.alias		.LL926
18331    1E:D61C             	.LL922	.alias		.LL926
18332                        	
18333                        		.dbg	line,	"include\routines_NPC.c", 122; else if(global_counter == 76)
18334                        		__bra		.LL926
         1E:D61C  4C 08 D8   			bra	.LL926
18335    1E:D61F             	.LL920:
18336                        		__ld.wm		_global_counter
         1E:D61F  AD 5B 26   			lda.l	_global_counter
         1E:D622  AC 5C 26   			ldy.h	_global_counter
18337                        		__equ_w.wi	76
         1E:D625  C9 4C      			cmp.l	#76
         1E:D627  D0 04      			bne	!false+
         1E:D629  C0 00      			cpy.h	#76
         1E:D62B  F0 01      			beq	!+
         1E:D62D  18         	!false:		clc
         1E:D62E             	!:
18338                        		__bfalse	.LL927
         1E:D62E  90 09      			bcc	.LL927
18339                        	
18340                        		.dbg	line,	"include\routines_NPC.c", 123; {
18341                        	
18342                        		.dbg	line,	"include\routines_NPC.c", 124; //sgx_spr_set(selected_npc);
18343                        	
18344                        		.dbg	line,	"include\routines_NPC.c", 125; sgx_spr_pattern(NPC_3_VRAM_ADR);
18345                        		__ld.wi		30464
         1E:D630  62         			cla
         1E:D631  A0 77      			ldy.h	#30464
18346                        		__call		_sgx_spr_pattern.1
         1E:D633  20 E7 E8   			call	_sgx_spr_pattern.1
18347                        	
18348                        		.dbg	line,	"include\routines_NPC.c", 126; }
18349                        	
18350                        		.dbg	line,	"include\routines_NPC.c", 128; else if(global_counter == 96)
18351                        		__bra		.LL928
         1E:D636  4C 08 D8   			bra	.LL928
18352    1E:D639             	.LL927:
18353                        		__ld.wm		_global_counter
         1E:D639  AD 5B 26   			lda.l	_global_counter
         1E:D63C  AC 5C 26   			ldy.h	_global_counter
18354                        		__equ_w.wi	96
         1E:D63F  C9 60      			cmp.l	#96
         1E:D641  D0 04      			bne	!false+
         1E:D643  C0 00      			cpy.h	#96
         1E:D645  F0 01      			beq	!+
         1E:D647  18         	!false:		clc
         1E:D648             	!:
18355                        		__bfalse	.LL929
         1E:D648  90 09      			bcc	.LL929
18356                        	
18357                        		.dbg	line,	"include\routines_NPC.c", 129; {
18358                        	
18359                        		.dbg	line,	"include\routines_NPC.c", 130; //sgx_spr_set(selected_npc);
18360                        	
18361                        		.dbg	line,	"include\routines_NPC.c", 131; sgx_spr_pattern(NPC_5_VRAM_ADR);
18362                        		__ld.wi		30976
         1E:D64A  62         			cla
         1E:D64B  A0 79      			ldy.h	#30976
18363                        		__call		_sgx_spr_pattern.1
         1E:D64D  20 E7 E8   			call	_sgx_spr_pattern.1
18364                        	
18365                        		.dbg	line,	"include\routines_NPC.c", 132; }
18366                        	
18367                        		.dbg	line,	"include\routines_NPC.c", 134; else if(global_counter == 104)
18368                        		__bra		.LL930
         1E:D650  4C 08 D8   			bra	.LL930
18369    1E:D653             	.LL929:
18370                        		__ld.wm		_global_counter
         1E:D653  AD 5B 26   			lda.l	_global_counter
         1E:D656  AC 5C 26   			ldy.h	_global_counter
18371                        		__equ_w.wi	104
         1E:D659  C9 68      			cmp.l	#104
         1E:D65B  D0 04      			bne	!false+
         1E:D65D  C0 00      			cpy.h	#104
         1E:D65F  F0 01      			beq	!+
         1E:D661  18         	!false:		clc
         1E:D662             	!:
18372                        		__bfalse	.LL931
         1E:D662  90 09      			bcc	.LL931
18373                        	
18374                        		.dbg	line,	"include\routines_NPC.c", 135; {
18375                        	
18376                        		.dbg	line,	"include\routines_NPC.c", 136; //sgx_spr_set(selected_npc);
18377                        	
18378                        		.dbg	line,	"include\routines_NPC.c", 137; sgx_spr_pattern(NPC_6_VRAM_ADR);
18379                        		__ld.wi		31232
         1E:D664  62         			cla
         1E:D665  A0 7A      			ldy.h	#31232
18380                        		__call		_sgx_spr_pattern.1
         1E:D667  20 E7 E8   			call	_sgx_spr_pattern.1
18381                        	
18382                        		.dbg	line,	"include\routines_NPC.c", 138; }
18383                        	
18384                        		.dbg	line,	"include\routines_NPC.c", 140; else if(global_counter == 128)
18385                        		__bra		.LL932
         1E:D66A  4C 08 D8   			bra	.LL932
18386    1E:D66D             	.LL931:
18387                        		__ld.wm		_global_counter
         1E:D66D  AD 5B 26   			lda.l	_global_counter
         1E:D670  AC 5C 26   			ldy.h	_global_counter
18388                        		__equ_w.wi	128
         1E:D673  C9 80      			cmp.l	#128
         1E:D675  D0 04      			bne	!false+
         1E:D677  C0 00      			cpy.h	#128
         1E:D679  F0 01      			beq	!+
         1E:D67B  18         	!false:		clc
         1E:D67C             	!:
18389                        		__bfalse	.LL933
         1E:D67C  90 09      			bcc	.LL933
18390                        	
18391                        		.dbg	line,	"include\routines_NPC.c", 141; {
18392                        	
18393                        		.dbg	line,	"include\routines_NPC.c", 142; //sgx_spr_set(selected_npc);
18394                        	
18395                        		.dbg	line,	"include\routines_NPC.c", 143; sgx_spr_pattern(NPC_5_VRAM_ADR);
18396                        		__ld.wi		30976
         1E:D67E  62         			cla
         1E:D67F  A0 79      			ldy.h	#30976
18397                        		__call		_sgx_spr_pattern.1
         1E:D681  20 E7 E8   			call	_sgx_spr_pattern.1
18398                        	
18399                        		.dbg	line,	"include\routines_NPC.c", 144; }
18400                        	
18401                        		.dbg	line,	"include\routines_NPC.c", 146; else if(global_counter == 136)
18402                        		__bra		.LL934
         1E:D684  4C 08 D8   			bra	.LL934
18403    1E:D687             	.LL933:
18404                        		__ld.wm		_global_counter
         1E:D687  AD 5B 26   			lda.l	_global_counter
         1E:D68A  AC 5C 26   			ldy.h	_global_counter
18405                        		__equ_w.wi	136
         1E:D68D  C9 88      			cmp.l	#136
         1E:D68F  D0 04      			bne	!false+
         1E:D691  C0 00      			cpy.h	#136
         1E:D693  F0 01      			beq	!+
         1E:D695  18         	!false:		clc
         1E:D696             	!:
18406                        		__bfalse	.LL935
         1E:D696  90 09      			bcc	.LL935
18407                        	
18408                        		.dbg	line,	"include\routines_NPC.c", 147; {
18409                        	
18410                        		.dbg	line,	"include\routines_NPC.c", 148; //sgx_spr_set(selected_npc);
18411                        	
18412                        		.dbg	line,	"include\routines_NPC.c", 149; sgx_spr_pattern(NPC_3_VRAM_ADR);
18413                        		__ld.wi		30464
         1E:D698  62         			cla
         1E:D699  A0 77      			ldy.h	#30464
18414                        		__call		_sgx_spr_pattern.1
         1E:D69B  20 E7 E8   			call	_sgx_spr_pattern.1
18415                        	
18416                        		.dbg	line,	"include\routines_NPC.c", 150; }
18417                        	
18418                        		.dbg	line,	"include\routines_NPC.c", 152; else if(global_counter == 164)
18419                        		__bra		.LL936
         1E:D69E  4C 08 D8   			bra	.LL936
18420    1E:D6A1             	.LL935:
18421                        		__ld.wm		_global_counter
         1E:D6A1  AD 5B 26   			lda.l	_global_counter
         1E:D6A4  AC 5C 26   			ldy.h	_global_counter
18422                        		__equ_w.wi	164
         1E:D6A7  C9 A4      			cmp.l	#164
         1E:D6A9  D0 04      			bne	!false+
         1E:D6AB  C0 00      			cpy.h	#164
         1E:D6AD  F0 01      			beq	!+
         1E:D6AF  18         	!false:		clc
         1E:D6B0             	!:
18423                        		__bfalse	.LL937
         1E:D6B0  B0 03 4C 08			bcc	.LL937
         1E:D6B4  D8          
18424                        	
18425                        		.dbg	line,	"include\routines_NPC.c", 153; {
18426                        	
18427                        		.dbg	line,	"include\routines_NPC.c", 154; global_counter = 0;
18428                        		__st.wmiq	0, _global_counter
         1E:D6B5  9C 5B 26   			stz.l	_global_counter
         1E:D6B8  9C 5C 26   			stz.h	_global_counter
18429                        	
18430                        		.dbg	line,	"include\routines_NPC.c", 155; 
18431                        	
18432                        		.dbg	line,	"include\routines_NPC.c", 156; if(list_npc_type[selected_npc - npc_start_index] == TYPE_NPC_SHOP)
18433                        		__ld.um		_selected_npc
         1E:D6BB  AD D6 23   			lda	_selected_npc
         1E:D6BE  C2         			cly
18434                        		__sub.um	_npc_start_index
         1E:D6BF  38         			sec
         1E:D6C0  ED D3 23   			sbc	_npc_start_index
         1E:D6C3  B0 01      			bcs	!+
         1E:D6C5  88         			dey
         1E:D6C6             	!:
18435                        		__ld.uarq	_list_npc_type
         1E:D6C6  A8         			tay
         1E:D6C7  B9 D7 23   			lda	_list_npc_type, y
18436                        		__equ_b.uiq	2
         1E:D6CA  C9 02      			cmp	#2
         1E:D6CC  F0 01      			beq	!+
         1E:D6CE  18         			clc
         1E:D6CF             	!:
18437                        		__bfalse	.LL938
         1E:D6CF  90 0E      			bcc	.LL938
18438                        	
18439                        		.dbg	line,	"include\routines_NPC.c", 157; {
18440                        	
18441                        		.dbg	line,	"include\routines_NPC.c", 158; disp_off();
18442                        		__call		_disp_off
         1E:D6D1  20 3D E4   			call	_disp_off
18443                        	
18444                        		.dbg	line,	"include\routines_NPC.c", 160; sequence_loaded = FALSE;
18445                        		__st.umiq	0, _sequence_loaded
         1E:D6D4  9C 16 23   			stz	_sequence_loaded
18446                        	
18447                        		.dbg	line,	"include\routines_NPC.c", 161; sequence_id = SEQUENCE_SHOP;
18448                        		__st.umiq	4, _sequence_id
         1E:D6D7  A9 04      			lda.l	#4
         1E:D6D9  8D 15 23   			sta	_sequence_id
18449                        	
18450                        		.dbg	line,	"include\routines_NPC.c", 162; }
18451                        	
18452                        		.dbg	line,	"include\routines_NPC.c", 164; else if(list_npc_type[selected_npc - npc_start_index] == TYPE_NPC_ZENNY)
18453                        		__bra		.LL939
         1E:D6DC  4C C3 D7   			bra	.LL939
18454    1E:D6DF             	.LL938:
18455                        		__ld.um		_selected_npc
         1E:D6DF  AD D6 23   			lda	_selected_npc
         1E:D6E2  C2         			cly
18456                        		__sub.um	_npc_start_index
         1E:D6E3  38         			sec
         1E:D6E4  ED D3 23   			sbc	_npc_start_index
         1E:D6E7  B0 01      			bcs	!+
         1E:D6E9  88         			dey
         1E:D6EA             	!:
18457                        		__not.uar	_list_npc_type
         1E:D6EA  A8         			tay
         1E:D6EB  B9 D7 23   			lda	_list_npc_type, y
         1E:D6EE  18         			clc
         1E:D6EF  D0 01      			bne	!+
         1E:D6F1  38         			sec
         1E:D6F2             	!:
18458                        		__bfalse	.LL940
         1E:D6F2  90 3C      			bcc	.LL940
18459                        	
18460                        		.dbg	line,	"include\routines_NPC.c", 165; {
18461                        	
18462                        		.dbg	line,	"include\routines_NPC.c", 166; zenny_amount += list_npc_reward[selected_npc - npc_start_index];
18463                        		__ld.um		_selected_npc
         1E:D6F4  AD D6 23   			lda	_selected_npc
         1E:D6F7  C2         			cly
18464                        		__sub.um	_npc_start_index
         1E:D6F8  38         			sec
         1E:D6F9  ED D3 23   			sbc	_npc_start_index
         1E:D6FC  B0 01      			bcs	!+
         1E:D6FE  88         			dey
         1E:D6FF             	!:
18465                        		__ld.uar	_list_npc_reward
         1E:D6FF  A8         			tay
         1E:D700  B9 E9 23   			lda	_list_npc_reward, y
         1E:D703  C2         			cly
18466                        		__add_st.wmq	_zenny_amount
         1E:D704  18         			clc
         1E:D705  6D 61 26   			adc.l	_zenny_amount
         1E:D708  8D 61 26   			sta.l	_zenny_amount
         1E:D70B  98         			tya
         1E:D70C  6D 62 26   			adc.h	_zenny_amount
         1E:D70F  8D 62 26   			sta.h	_zenny_amount
18467                        	
18468                        		.dbg	line,	"include\routines_NPC.c", 167; display_ZENNY();
18469                        		__call		_display_ZENNY
         1E:D712  20 3B FF   			call	_display_ZENNY
18470                        	
18471                        		.dbg	line,	"include\routines_NPC.c", 169; sgx_spr_hide();
18472                        		__call		_sgx_spr_hide
         1E:D715  20 B9 E8   			call	_sgx_spr_hide
18473                        	
18474                        		.dbg	line,	"include\routines_NPC.c", 171; list_npc_state[selected_npc - npc_start_index] = STATE_FREE;
18475                        		__ld.um		_selected_npc
         1E:D718  AD D6 23   			lda	_selected_npc
         1E:D71B  C2         			cly
18476                        		__sub.um	_npc_start_index
         1E:D71C  38         			sec
         1E:D71D  ED D3 23   			sbc	_npc_start_index
         1E:D720  B0 01      			bcs	!+
         1E:D722  88         			dey
         1E:D723             	!:
18477                        		__index.ur	_list_npc_state
         1E:D723  48         			pha
18478                        		__st.uatiq	0, _list_npc_state
         1E:D724  FA         			plx
         1E:D725  9E E0 23   			stz	_list_npc_state, x
18479                        	
18480                        		.dbg	line,	"include\routines_NPC.c", 172; sequence_id = SEQUENCE_LEVEL;
18481                        		__st.umiq	2, _sequence_id
         1E:D728  A9 02      			lda.l	#2
         1E:D72A  8D 15 23   			sta	_sequence_id
18482                        	
18483                        		.dbg	line,	"include\routines_NPC.c", 173; }
18484                        	
18485                        		.dbg	line,	"include\routines_NPC.c", 175; else if(list_npc_type[selected_npc - npc_start_index] == TYPE_NPC_TIME)
18486                        		__bra		.LL941
         1E:D72D  4C C3 D7   			bra	.LL941
18487    1E:D730             	.LL940:
18488                        		__ld.um		_selected_npc
         1E:D730  AD D6 23   			lda	_selected_npc
         1E:D733  C2         			cly
18489                        		__sub.um	_npc_start_index
         1E:D734  38         			sec
         1E:D735  ED D3 23   			sbc	_npc_start_index
         1E:D738  B0 01      			bcs	!+
         1E:D73A  88         			dey
         1E:D73B             	!:
18490                        		__ld.uarq	_list_npc_type
         1E:D73B  A8         			tay
         1E:D73C  B9 D7 23   			lda	_list_npc_type, y
18491                        		__equ_b.uiq	1
         1E:D73F  C9 01      			cmp	#1
         1E:D741  F0 01      			beq	!+
         1E:D743  18         			clc
         1E:D744             	!:
18492                        		__bfalse	.LL942
         1E:D744  90 7D      			bcc	.LL942
18493                        	
18494                        		.dbg	line,	"include\routines_NPC.c", 176; {
18495                        	
18496                        		.dbg	line,	"include\routines_NPC.c", 177; if(seconds + list_npc_reward[selected_npc - npc_start_index] > 59)
18497                        		__ld.um		_selected_npc
         1E:D746  AD D6 23   			lda	_selected_npc
         1E:D749  C2         			cly
18498                        		__sub.um	_npc_start_index
         1E:D74A  38         			sec
         1E:D74B  ED D3 23   			sbc	_npc_start_index
         1E:D74E  B0 01      			bcs	!+
         1E:D750  88         			dey
         1E:D751             	!:
18499                        		__ld.uar	_list_npc_reward
         1E:D751  A8         			tay
         1E:D752  B9 E9 23   			lda	_list_npc_reward, y
         1E:D755  C2         			cly
18500                        		__add.um	_seconds
         1E:D756  18         			clc
         1E:D757  6D 34 23   			adc	_seconds
         1E:D75A  90 01      			bcc	!+
         1E:D75C  C8         			iny
         1E:D75D             	!:
18501                        		__sgt_w.wi	59
         1E:D75D  18         			clc			; Subtract integer+1 from Y:A.
         1E:D75E  E9 3B      			sbc.l	#59
         1E:D760  98         			tya
         1E:D761  E9 00      			sbc.h	#59
         1E:D763  50 02      			bvc	!+
         1E:D765  49 80      			eor	#$80		; +ve if Y:A > integer (signed).
         1E:D767  49 80      	!:		eor	#$80
         1E:D769  0A         			asl	a
18502                        		__bfalse	.LL943
         1E:D76A  90 25      			bcc	.LL943
18503                        	
18504                        		.dbg	line,	"include\routines_NPC.c", 178; {
18505                        	
18506                        		.dbg	line,	"include\routines_NPC.c", 179; minutes += 1;
18507                        		__add_st.umiq	1, _minutes
         1E:D76C  EE 33 23   			inc	_minutes
18508                        	
18509                        		.dbg	line,	"include\routines_NPC.c", 181; seconds = seconds + list_npc_reward[selected_npc - npc_start_index] - 60;
18510                        		__ld.um		_selected_npc
         1E:D76F  AD D6 23   			lda	_selected_npc
         1E:D772  C2         			cly
18511                        		__sub.um	_npc_start_index
         1E:D773  38         			sec
         1E:D774  ED D3 23   			sbc	_npc_start_index
         1E:D777  B0 01      			bcs	!+
         1E:D779  88         			dey
         1E:D77A             	!:
18512                        		__ld.uar	_list_npc_reward
         1E:D77A  A8         			tay
         1E:D77B  B9 E9 23   			lda	_list_npc_reward, y
         1E:D77E  C2         			cly
18513                        		__add.um	_seconds
         1E:D77F  18         			clc
         1E:D780  6D 34 23   			adc	_seconds
         1E:D783  90 01      			bcc	!+
         1E:D785  C8         			iny
         1E:D786             	!:
18514                        		__sub.wi	60
         1E:D786  38         			sec
         1E:D787  E9 3C      			sbc.l	#60
         1E:D789  B0 01      			bcs	!+
         1E:D78B  88         			dey
         1E:D78C             	!:
18515                        		__st.umq	_seconds
         1E:D78C  8D 34 23   			sta	_seconds
18516                        	
18517                        		.dbg	line,	"include\routines_NPC.c", 182; }
18518                        	
18519                        		.dbg	line,	"include\routines_NPC.c", 184; else
18520                        		__bra		.LL944
         1E:D78F  80 17      			bra	.LL944
18521    1E:D791             	.LL943:
18522                        	
18523                        		.dbg	line,	"include\routines_NPC.c", 185; {
18524                        	
18525                        		.dbg	line,	"include\routines_NPC.c", 186; seconds += list_npc_reward[selected_npc - npc_start_index];
18526                        		__ld.um		_selected_npc
         1E:D791  AD D6 23   			lda	_selected_npc
         1E:D794  C2         			cly
18527                        		__sub.um	_npc_start_index
         1E:D795  38         			sec
         1E:D796  ED D3 23   			sbc	_npc_start_index
         1E:D799  B0 01      			bcs	!+
         1E:D79B  88         			dey
         1E:D79C             	!:
18528                        		__ld.uar	_list_npc_reward
         1E:D79C  A8         			tay
         1E:D79D  B9 E9 23   			lda	_list_npc_reward, y
         1E:D7A0  C2         			cly
18529                        		__add_st.umq	_seconds
         1E:D7A1  18         			clc
         1E:D7A2  6D 34 23   			adc	_seconds
         1E:D7A5  8D 34 23   			sta	_seconds
18530                        	
18531                        		.dbg	line,	"include\routines_NPC.c", 187; }
18532    1E:D7A8             	.LL944:
18533                        	
18534                        		.dbg	line,	"include\routines_NPC.c", 189; display_TIME_LEVEL();
18535                        		__call		_display_TIME_LEVEL
         1E:D7A8  20 FF FE   			call	_display_TIME_LEVEL
18536                        	
18537                        		.dbg	line,	"include\routines_NPC.c", 191; sgx_spr_hide();
18538                        		__call		_sgx_spr_hide
         1E:D7AB  20 B9 E8   			call	_sgx_spr_hide
18539                        	
18540                        		.dbg	line,	"include\routines_NPC.c", 193; list_npc_state[selected_npc - npc_start_index] = STATE_FREE;
18541                        		__ld.um		_selected_npc
         1E:D7AE  AD D6 23   			lda	_selected_npc
         1E:D7B1  C2         			cly
18542                        		__sub.um	_npc_start_index
         1E:D7B2  38         			sec
         1E:D7B3  ED D3 23   			sbc	_npc_start_index
         1E:D7B6  B0 01      			bcs	!+
         1E:D7B8  88         			dey
         1E:D7B9             	!:
18543                        		__index.ur	_list_npc_state
         1E:D7B9  48         			pha
18544                        		__st.uatiq	0, _list_npc_state
         1E:D7BA  FA         			plx
         1E:D7BB  9E E0 23   			stz	_list_npc_state, x
18545                        	
18546                        		.dbg	line,	"include\routines_NPC.c", 194; sequence_id = SEQUENCE_LEVEL;
18547                        		__st.umiq	2, _sequence_id
         1E:D7BE  A9 02      			lda.l	#2
         1E:D7C0  8D 15 23   			sta	_sequence_id
18548                        	
18549                        		.dbg	line,	"include\routines_NPC.c", 195; }
18550                        	
18551                        		.dbg	line,	"include\routines_NPC.c", 197; scroll_split(0,   0, 0,  0, BKG_ON | SPR_ON);
18552    1E:D7C3             	.LL942:
18553    1E:D7C3             	.LL941:
18554    1E:D7C3             	.LL939:
18555                        		__st.umiq	0, _al
         1E:D7C3  64 F8      			stz	_al
18556                        		__st.umiq	0, _ah
         1E:D7C5  64 F9      			stz	_ah
18557                        		__st.wmiq	0, _bx
         1E:D7C7  64 FA      			stz.l	_bx
         1E:D7C9  64 FB      			stz.h	_bx
18558                        		__st.wmiq	0, _cx
         1E:D7CB  64 FC      			stz.l	_cx
         1E:D7CD  64 FD      			stz.h	_cx
18559                        		__st.umiq	192, _dl
         1E:D7CF  A9 C0      			lda.l	#192
         1E:D7D1  85 FE      			sta	_dl
18560                        		__call		_scroll_split.5
         1E:D7D3  20 81 FF   			call	_scroll_split.5
18561                        	
18562                        		.dbg	line,	"include\routines_NPC.c", 198; scroll_split(1,  48, 0, 48, BKG_ON | SPR_ON);
18563                        		__st.umiq	1, _al
         1E:D7D6  A9 01      			lda.l	#1
         1E:D7D8  85 F8      			sta	_al
18564                        		__st.umiq	48, _ah
         1E:D7DA  A9 30      			lda.l	#48
         1E:D7DC  85 F9      			sta	_ah
18565                        		__st.wmiq	0, _bx
         1E:D7DE  64 FA      			stz.l	_bx
         1E:D7E0  64 FB      			stz.h	_bx
18566                        		__st.wmiq	48, _cx
         1E:D7E2  A9 30      			lda.l	#48
         1E:D7E4  85 FC      			sta.l	_cx
         1E:D7E6  64 FD      			stz.h	_cx
18567                        		__st.umiq	192, _dl
         1E:D7E8  A9 C0      			lda.l	#192
         1E:D7EA  85 FE      			sta	_dl
18568                        		__call		_scroll_split.5
         1E:D7EC  20 81 FF   			call	_scroll_split.5
18569                        	
18570                        		.dbg	line,	"include\routines_NPC.c", 199; scroll_split(2,  80, 0, 80, BKG_ON | SPR_ON);
18571                        		__st.umiq	2, _al
         1E:D7EF  A9 02      			lda.l	#2
         1E:D7F1  85 F8      			sta	_al
18572                        		__st.umiq	80, _ah
         1E:D7F3  A9 50      			lda.l	#80
         1E:D7F5  85 F9      			sta	_ah
18573                        		__st.wmiq	0, _bx
         1E:D7F7  64 FA      			stz.l	_bx
         1E:D7F9  64 FB      			stz.h	_bx
18574                        		__st.wmiq	80, _cx
         1E:D7FB  A9 50      			lda.l	#80
         1E:D7FD  85 FC      			sta.l	_cx
         1E:D7FF  64 FD      			stz.h	_cx
18575                        		__st.umiq	192, _dl
         1E:D801  A9 C0      			lda.l	#192
         1E:D803  85 FE      			sta	_dl
18576                        		__call		_scroll_split.5
         1E:D805  20 81 FF   			call	_scroll_split.5
18577                        	
18578                        		.dbg	line,	"include\routines_NPC.c", 200; }
18579                        	
18580                        		.dbg	line,	"include\routines_NPC.c", 202; sgx_satb_update();
18581    1E:D808             	.LL937:
18582    1E:D808             	.LL936:
18583    1E:D808             	.LL934:
18584    1E:D808             	.LL932:
18585    1E:D808             	.LL930:
18586    1E:D808             	.LL928:
18587    1E:D808             	.LL926:
18588    1E:D808             	.LL919:
18589    1E:D808             	.LL917:
18590    1E:D808             	.LL915:
18591    1E:D808             	.LL913:
18592    1E:D808             	.LL911:
18593    1E:D808             	.LL909:
18594    1E:D808             	.LL907:
18595    1E:D808             	.LL905:
18596    1E:D808             	.LL903:
18597    1E:D808             	.LL901:
18598    1E:D808             	.LL899:
18599    1E:D808             	.LL897:
18600    1E:D808             	.LL895:
18601                        		__call		_sgx_satb_update
         1E:D808  20 F5 FE   			call	_sgx_satb_update
18602                        	
18603                        		.dbg	line,	"include\routines_NPC.c", 203; }
18604    1E:D80B             	.LL893:
18605                        		__return	0
         1E:D80B  4C EF FF   			jmp	leave_proc
18606                        		.dbg	clear
18607                        		.endp
18608                        		.pceas
18609                        	
18610                        		.dbg	line,	"Black_Tiger.c", 27; #include "include/routines_SHOP.c"
18611                        		.dbg	line,	"include\routines_SHOP.c", 1; #include "huc.h"
18612                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 1; #ifndef _hucc_legacy_h
18613                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 2; #define _hucc_legacy_h
18614                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 4; /****************************************************************************
18615                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 5; ; ***************************************************************************
18616                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 6; ;
18617                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 7; ; huc.h
18618                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 8; ;
18619                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 9; ; HuCC wrapper file to include a default set of HuC-compatible functions.
18620                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 10; ;
18621                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 11; ; Copyright John Brandwood 2024.
18622                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 12; ;
18623                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 13; ; Distributed under the Boost Software License, Version 1.0.
18624                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
18625                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
18626                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 16; ;
18627                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 17; ; ***************************************************************************
18628                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 18; ; ***************************************************************************
18629                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 19; ;
18630                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 20; ; When the HuCC compiler is invoked with the "--legacy" option to compile old
18631                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 21; ; projects, then this "huc.h" file is automatically included.
18632                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 22; ;
18633                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 23; ; This file includes a set of the individual HuCC headers which correspond to
18634                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 24; ; HuC's built-in functions and MagicKit library.
18635                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 25; ;
18636                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 26; ; New HuCC projects should, preferably, include the specific headers that are
18637                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 27; ; needed, which will then allow them to replace parts of the standard library
18638                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 28; ; with newer functions, or they can just manually include this "huc.h" file.
18639                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 29; ;
18640                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 30; ; ***************************************************************************
18641                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 31; ; **************************************************************************/
18642                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 33; #include "hucc-systemcard.h"
18643                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 34; #include "hucc-baselib.h"
18644                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 35; #include "hucc-gfx.h"
18645                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 36; #include "hucc-old-scroll.h"
18646                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 37; #include "hucc-old-spr.h"
18647                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 38; #include "hucc-old-map.h"
18648                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 39; #include "hucc-old-line.h"
18649                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 41; #include <stdlib.h>
18650                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 42; #include <string.h>
18651                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 44; #endif // _hucc_legacy_h
18652                        		.dbg	line,	"include\routines_SHOP.c", 2; #include "hucc-scroll.h"
18653                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 1; #ifndef _hucc_scroll_h
18654                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 2; #define _hucc_scroll_h
18655                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 4; /****************************************************************************
18656                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 5; ; ***************************************************************************
18657                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 6; ;
18658                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 7; ; hucc-scroll.h
18659                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 8; ;
18660                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 9; ; Routines for a fast split-screen scrolling system.
18661                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 10; ;
18662                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 11; ; Copyright John Brandwood 2024.
18663                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 12; ;
18664                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 13; ; Distributed under the Boost Software License, Version 1.0.
18665                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
18666                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
18667                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 16; ;
18668                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 17; ; ***************************************************************************
18669                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 18; ; ***************************************************************************
18670                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 19; ;
18671                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 20; ; The maximum number of splits for each screen layer is set in your project's
18672                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 21; ; "hucc-config.inc" file, with the library having a limit of 128-per-layer.
18673                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 22; ;
18674                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 23; ; Your first active split must be defined to start at screen line 0, and then
18675                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 24; ; the rest of the active splits must be in increasing line order to match the
18676                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 25; ; way that the PC Engine displays the output image.
18677                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 26; ;
18678                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 27; ; You can have disabled splits interleaved with your active splits.
18679                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 28; ;
18680                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 29; ; Splits that are normally disabled can be used to create full screen effects
18681                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 30; ; such as bouncing the screen up and down by adding blank areas at the top or
18682                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 31; ; bottom of the screen, and then rapidly changing the height of those areas.
18683                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 32; ;
18684                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 33; ; ***************************************************************************
18685                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 34; ; **************************************************************************/
18686                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 36; // *************
18687                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 37; // VDC bits for display_flags ...
18688                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 38; // *************
18689                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 40; #ifndef BKG_OFF
18690                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 41; #define BKG_OFF 0x00
18691                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 42; #endif
18692                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 44; #ifndef SPR_OFF
18693                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 45; #define SPR_OFF 0x00
18694                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 46; #endif
18695                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 48; #ifndef BKG_ON
18696                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 49; #define BKG_ON 0x80
18697                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 50; #endif
18698                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 52; #ifndef SPR_ON
18699                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 53; #define SPR_ON 0x40
18700                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 54; #endif
18701                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 56; // *************
18702                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 57; // Functions in hucc-scroll.asm ...
18703                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 58; // *************
18704                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 60; #ifdef __HUCC__
18705                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 62; #asmdef	HUCC_USES_NEW_SCROLL 1
18706                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 64; extern void __fastcall scroll_split( unsigned char index<_al>, unsigned char screen_line<_ah>, unsigned int bat_x<_bx>, unsigned int bat_y<_cx>, unsigned char display_flags<_dl> );
18707                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 65; extern void __fastcall sgx_scroll_split( unsigned char index<_al>, unsigned char screen_line<_ah>, unsigned int bat_x<_bx>, unsigned int bat_y<_cx>, unsigned char display_flags<_dl> );
18708                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 67; extern void __fastcall disable_split( unsigned char index<acc> );
18709                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 68; extern void __fastcall sgx_disable_split( unsigned char index<acc> );
18710                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 70; extern void __fastcall __macro disable_all_splits( void );
18711                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 71; extern void __fastcall __macro sgx_disable_all_splits( void );
18712                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 73; #asm
18713                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 74; .macro	_disable_all_splits
18714                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 75; ldy	#HUCC_PCE_SPLITS - 1
18715                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 76; !loop:		tya
18716                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 77; call	_disable_split.1
18717                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 78; dey
18718                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 79; bpl	!loop-
18719                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 80; .endm
18720                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 82; .macro	_sgx_disable_all_splits
18721                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 83; ldy	#HUCC_SGX_SPLITS - 1
18722                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 84; !loop:		tya
18723                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 85; call	_sgx_disable_split.1
18724                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 86; dey
18725                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 87; bpl	!loop-
18726                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 88; .endm
18727                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 89; #endasm
18728                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 91; #endif // __HUCC__
18729                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 93; #endif // _hucc_scroll_h
18730                        		.dbg	line,	"include\routines_SHOP.c", 3; #include "hucc-chrmap.h"
18731                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 1; #ifndef _hucc_chrmap_h
18732                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 2; #define _hucc_chrmap_h
18733                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 4; /****************************************************************************
18734                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 5; ; ***************************************************************************
18735                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 6; ;
18736                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 7; ; hucc-chrmap.h
18737                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 8; ;
18738                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 9; ; A simple map system based on 8x8 characters (aka "tiles") in BAT format.
18739                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 10; ;
18740                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 11; ; Copyright John Brandwood 2025.
18741                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 12; ;
18742                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 13; ; Distributed under the Boost Software License, Version 1.0.
18743                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
18744                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
18745                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 16; ;
18746                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 17; ; ***************************************************************************
18747                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 18; ; ***************************************************************************
18748                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 19; ;
18749                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 20; ; The maximum X and Y size for chrmaps is 256 characters (2048 pixels).
18750                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 21; ;
18751                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 22; ; The maximum total size for a chrmap is 16KBytes, which allows for maps up
18752                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 23; ; to 256x32 tiles (2048x256 pixels).
18753                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 24; ;
18754                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 25; ; ***************************************************************************
18755                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 26; ; **************************************************************************/
18756                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 28; // *************
18757                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 29; // This code extends the blkmap library ...
18758                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 30; // *************
18759                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 32; #include "hucc-blkmap.h"
18760                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 34; // *************
18761                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 35; // Functions in chrmap.asm ...
18762                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 36; // *************
18763                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 38; #ifdef __HUCC__
18764                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 40; #asmdef	HUCC_USES_CHRMAP 1
18765                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 42; extern void __fastcall __nop set_chrmap( unsigned char __far *chrmap<vdc_map_bank:vdc_map_addr>, unsigned char tiles_w<vdc_map_line_w> );
18766                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 44; extern void __fastcall draw_bat( void );
18767                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 45; extern void __fastcall scroll_bat( void );
18768                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 47; extern void __fastcall blit_bat( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
18769                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 49; #ifdef _SGX
18770                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 51; extern void __fastcall __nop sgx_set_chrmap( unsigned char __far *chrmap<sgx_map_bank:sgx_map_addr>, unsigned char tiles_w<sgx_map_line_w> );
18771                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 53; extern void __fastcall sgx_draw_bat( void );
18772                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 54; extern void __fastcall sgx_scroll_bat( void );
18773                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 56; extern void __fastcall sgx_blit_bat( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
18774                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 58; #endif
18775                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 60; #endif // __HUCC__
18776                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 62; #endif // _hucc_chrmap_h
18777                        		.dbg	line,	"include\routines_SHOP.c", 4; #include "hucc-blkmap.h"
18778                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 1; #ifndef _hucc_blkmap_h
18779                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 2; #define _hucc_blkmap_h
18780                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 4; /****************************************************************************
18781                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 5; ; ***************************************************************************
18782                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 6; ;
18783                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 7; ; hucc-blkmap.h
18784                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 8; ;
18785                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 9; ; A map system based on 16x16 meta-tiles (aka "blocks", aka CHR/BLK/MAP).
18786                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 10; ;
18787                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 11; ; Copyright John Brandwood 2025.
18788                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 12; ;
18789                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 13; ; Distributed under the Boost Software License, Version 1.0.
18790                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
18791                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
18792                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 16; ;
18793                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 17; ; ***************************************************************************
18794                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 18; ; ***************************************************************************
18795                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 19; ;
18796                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 20; ; The maximum X and Y size for blkmaps is 128 blocks (2048 pixels).
18797                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 21; ;
18798                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 22; ; The maximum total size for a blkmap is 16KBytes, which allows for maps up
18799                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 23; ; to 128x128 blocks (2048x2048 pixels).
18800                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 24; ;
18801                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 25; ; Huge multi-screen blkmaps are also supported (optionally).
18802                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 26; ;
18803                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 27; ; The maximum X and Y for multi-screen maps is 128 screens (32768 pixels).
18804                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 28; ;
18805                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 29; ; The maximum total size for a multi-screen map is 8KBytes, which allows for
18806                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 30; ; a total of 1024 screens.
18807                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 31; ;
18808                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 32; ; ***************************************************************************
18809                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 33; ; **************************************************************************/
18810                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 35; // *************
18811                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 36; // Functions in blkmap.asm ...
18812                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 37; // *************
18813                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 39; #ifdef __HUCC__
18814                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 41; #asmdef	HUCC_USES_BLKMAP 1
18815                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 43; // Current top-left of drawn map in pixels.
18816                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 44; extern unsigned int   vdc_map_pxl_x;
18817                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 45; extern unsigned int   vdc_map_pxl_y;
18818                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 47; // Width and height to draw/scroll in characters (not tiles).
18819                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 48; extern unsigned char  vdc_map_draw_w;
18820                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 49; extern unsigned char  vdc_map_draw_h;
18821                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 51; // Width of map (or multi-screen BAT) in tiles.
18822                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 52; extern unsigned char  vdc_map_line_w;
18823                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 54; // Width of map in screens (if multi-screen map).
18824                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 55; extern unsigned char  vdc_map_scrn_w;
18825                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 57; // Extra information returned by get_map_block() and sgx_get_map_block(),
18826                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 58; // which are the collision flags and the mask/overlay sprite for the BLK.
18827                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 59; extern unsigned char  map_blk_flag;
18828                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 60; extern unsigned char  map_blk_mask;
18829                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 62; extern unsigned char  vdc_scr_bank;
18830                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 63; extern unsigned char *vdc_scr_addr;
18831                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 65; extern unsigned char  vdc_map_bank;
18832                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 66; extern unsigned char *vdc_map_addr;
18833                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 68; extern unsigned char  vdc_blk_bank;
18834                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 69; extern unsigned char *vdc_blk_addr;
18835                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 71; extern unsigned char  vdc_tbl_bank;
18836                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 72; extern unsigned char *vdc_tbl_addr;
18837                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 74; extern void __fastcall set_blocks( unsigned char __far *blk_def<vdc_blk_bank:vdc_blk_addr>, unsigned char __far *flg_def<vdc_tbl_bank:vdc_tbl_addr>, unsigned char number_of_blocks<_al> );
18838                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 75; extern void __fastcall __macro set_blkmap( unsigned char __far *blk_map<vdc_map_bank:vdc_map_addr>, unsigned char blocks_w<vdc_map_line_w> );
18839                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 76; extern void __fastcall __macro set_multimap( unsigned char __far *multi_map<vdc_scr_bank:vdc_scr_addr>, unsigned char screens_w<vdc_map_scrn_w> );
18840                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 78; extern void __fastcall draw_map( void );
18841                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 79; extern void __fastcall scroll_map( void );
18842                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 81; extern void __fastcall blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
18843                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 83; extern unsigned char __fastcall get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
18844                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 85; #asm
18845                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 86; .macro	_set_blkmap.2
18846                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 87; stz	vdc_scr_bank
18847                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 88; .endm
18848                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 90; .macro	_set_multimap.2
18849                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 91; lda	vdc_bat_width
18850                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 92; lsr	a
18851                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 93; sta	vdc_map_line_w
18852                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 94; .endm
18853                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 96; .macro	SCREEN
18854                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 97; db	(((\1) & $1FFF) | $6000) >> 8, bank(\1)
18855                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 98; db	(((\2) & $1FFF) | $4000) >> 8, bank(\2)
18856                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 99; db	(((\3) & $1FFF) | $6000) >> 8, bank(\3)
18857                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 100; dw	(\4)
18858                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 101; .endm
18859                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 102; #endasm
18860                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 104; #ifdef _SGX
18861                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 106; // Current top-left of drawn map in pixels.
18862                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 107; extern unsigned int   sgx_map_pxl_x;
18863                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 108; extern unsigned int   sgx_map_pxl_y;
18864                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 110; // Width and height to draw/scroll in characters (not tiles).
18865                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 111; extern unsigned char  sgx_map_draw_w;
18866                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 112; extern unsigned char  sgx_map_draw_h;
18867                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 114; // Width of map (or multi-screen BAT) in tiles.
18868                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 115; extern unsigned char  sgx_map_line_w;
18869                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 117; // Width of map in screens (if multi-screen map).
18870                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 118; extern unsigned char  sgx_map_scrn_w;
18871                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 120; extern unsigned char  sgx_scr_bank;
18872                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 121; extern unsigned char *sgx_scr_addr;
18873                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 123; extern unsigned char  sgx_map_bank;
18874                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 124; extern unsigned char *sgx_map_addr;
18875                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 126; extern unsigned char  sgx_blk_bank;
18876                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 127; extern unsigned char *sgx_blk_addr;
18877                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 129; extern unsigned char  sgx_tbl_bank;
18878                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 130; extern unsigned char *sgx_tbl_addr;
18879                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 132; extern void __fastcall sgx_set_blocks( unsigned char __far *blk_def<sgx_blk_bank:sgx_blk_addr>, unsigned char __far *flg_def<sgx_tbl_bank:sgx_tbl_addr>, unsigned char number_of_blocks<_al> );
18880                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 133; extern void __fastcall __macro sgx_set_blkmap( unsigned char __far *blk_map<sgx_map_bank:sgx_map_addr>, unsigned char blocks_w<sgx_map_line_w> );
18881                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 134; extern void __fastcall __macro sgx_set_multimap( unsigned char __far *multi_map<sgx_scr_bank:sgx_scr_addr>, unsigned char screens_w<sgx_map_scrn_w> );
18882                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 136; extern void __fastcall sgx_draw_map( void );
18883                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 137; extern void __fastcall sgx_scroll_map( void );
18884                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 139; extern void __fastcall sgx_blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
18885                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 141; extern unsigned char __fastcall sgx_get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
18886                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 143; #asm
18887                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 144; .macro	_sgx_set_blkmap.2
18888                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 145; stz	sgx_scr_bank
18889                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 146; .endm
18890                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 148; .macro	_sgx_set_multimap.2
18891                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 149; lda	sgx_bat_width
18892                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 150; lsr	a
18893                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 151; sta	sgx_map_line_w
18894                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 152; .endm
18895                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 153; #endasm
18896                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 155; #endif
18897                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 157; #endif // __HUCC__
18898                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 159; #endif // _hucc_blkmap_h
18899                        		.dbg	line,	"include\routines_SHOP.c", 12; void display_TIME_SHOP()
18900                        		.dbg	line,	"include\routines_SHOP.c", 13; {
18901                        	;***********************
18902                        	;***********************
18903                        	
18904                        		.hucc
18905    11:DF3E             		.proc		_display_TIME_SHOP
18906                        		__enter		_display_TIME_SHOP
18907                        	
18908                        		.dbg	line,	"include\routines_SHOP.c", 14; put_number(minutes,1,1,3);
18909                        		__ld.um		_minutes
         11:DF3E  AD 33 23   			lda	_minutes
         11:DF41  C2         			cly
18910                        		__st.wmq	_bx
         11:DF42  85 FA      			sta.l	_bx
         11:DF44  84 FB      			sty.h	_bx
18911                        		__st.umiq	1, _cl
         11:DF46  A9 01      			lda.l	#1
         11:DF48  85 FC      			sta	_cl
18912                        		__st.umiq	1, _dil
         11:DF4A  A9 01      			lda.l	#1
         11:DF4C  85 F0      			sta	_dil
18913                        		__st.umiq	3, _dih
         11:DF4E  A9 03      			lda.l	#3
         11:DF50  85 F1      			sta	_dih
18914                        		__call		_put_number.4
         11:DF52  20 6D FF   			call	_put_number.4
18915                        	
18916                        		.dbg	line,	"include\routines_SHOP.c", 16; if(seconds < 10)
18917                        		__ld.umq	_seconds
         11:DF55  AD 34 23   			lda	_seconds
18918                        		__ult_b.uiq	10
         11:DF58  C9 0A      			cmp	#10		; Subtract integer from A.
         11:DF5A  6A         			ror	a		; CC if A < integer.
         11:DF5B  49 80      			eor	#$80
         11:DF5D  2A         			rol	a
18919                        		__bfalse	.LL946
         11:DF5E  90 2C      			bcc	.LL946
18920                        	
18921                        		.dbg	line,	"include\routines_SHOP.c", 17; {
18922                        	
18923                        		.dbg	line,	"include\routines_SHOP.c", 18; put_number(0,1,3,3);
18924                        		__st.wmiq	0, _bx
         11:DF60  64 FA      			stz.l	_bx
         11:DF62  64 FB      			stz.h	_bx
18925                        		__st.umiq	1, _cl
         11:DF64  A9 01      			lda.l	#1
         11:DF66  85 FC      			sta	_cl
18926                        		__st.umiq	3, _dil
         11:DF68  A9 03      			lda.l	#3
         11:DF6A  85 F0      			sta	_dil
18927                        		__st.umiq	3, _dih
         11:DF6C  A9 03      			lda.l	#3
         11:DF6E  85 F1      			sta	_dih
18928                        		__call		_put_number.4
         11:DF70  20 6D FF   			call	_put_number.4
18929                        	
18930                        		.dbg	line,	"include\routines_SHOP.c", 19; put_number(seconds,1,4,3);
18931                        		__ld.um		_seconds
         11:DF73  AD 34 23   			lda	_seconds
         11:DF76  C2         			cly
18932                        		__st.wmq	_bx
         11:DF77  85 FA      			sta.l	_bx
         11:DF79  84 FB      			sty.h	_bx
18933                        		__st.umiq	1, _cl
         11:DF7B  A9 01      			lda.l	#1
         11:DF7D  85 FC      			sta	_cl
18934                        		__st.umiq	4, _dil
         11:DF7F  A9 04      			lda.l	#4
         11:DF81  85 F0      			sta	_dil
18935                        		__st.umiq	3, _dih
         11:DF83  A9 03      			lda.l	#3
         11:DF85  85 F1      			sta	_dih
18936                        		__call		_put_number.4
         11:DF87  20 6D FF   			call	_put_number.4
18937                        	
18938                        		.dbg	line,	"include\routines_SHOP.c", 20; }
18939                        	
18940                        		.dbg	line,	"include\routines_SHOP.c", 22; else
18941                        		__bra		.LL947
         11:DF8A  80 17      			bra	.LL947
18942    11:DF8C             	.LL946:
18943                        	
18944                        		.dbg	line,	"include\routines_SHOP.c", 23; {
18945                        	
18946                        		.dbg	line,	"include\routines_SHOP.c", 24; put_number(seconds,2,3,3);
18947                        		__ld.um		_seconds
         11:DF8C  AD 34 23   			lda	_seconds
         11:DF8F  C2         			cly
18948                        		__st.wmq	_bx
         11:DF90  85 FA      			sta.l	_bx
         11:DF92  84 FB      			sty.h	_bx
18949                        		__st.umiq	2, _cl
         11:DF94  A9 02      			lda.l	#2
         11:DF96  85 FC      			sta	_cl
18950                        		__st.umiq	3, _dil
         11:DF98  A9 03      			lda.l	#3
         11:DF9A  85 F0      			sta	_dil
18951                        		__st.umiq	3, _dih
         11:DF9C  A9 03      			lda.l	#3
         11:DF9E  85 F1      			sta	_dih
18952                        		__call		_put_number.4
         11:DFA0  20 6D FF   			call	_put_number.4
18953                        	
18954                        		.dbg	line,	"include\routines_SHOP.c", 25; }
18955    11:DFA3             	.LL947:
18956                        	
18957                        		.dbg	line,	"include\routines_SHOP.c", 27; time_counter += 1;
18958                        		__add_st.umiq	1, _time_counter
         11:DFA3  EE 35 23   			inc	_time_counter
18959                        	
18960                        		.dbg	line,	"include\routines_SHOP.c", 29; if(time_counter == 60)
18961                        		__ld.umq	_time_counter
         11:DFA6  AD 35 23   			lda	_time_counter
18962                        		__equ_b.uiq	60
         11:DFA9  C9 3C      			cmp	#60
         11:DFAB  F0 01      			beq	!+
         11:DFAD  18         			clc
         11:DFAE             	!:
18963                        		__bfalse	.LL948
         11:DFAE  90 30      			bcc	.LL948
18964                        	
18965                        		.dbg	line,	"include\routines_SHOP.c", 30; {
18966                        	
18967                        		.dbg	line,	"include\routines_SHOP.c", 31; time_counter = 0;
18968                        		__st.umiq	0, _time_counter
         11:DFB0  9C 35 23   			stz	_time_counter
18969                        	
18970                        		.dbg	line,	"include\routines_SHOP.c", 33; if(seconds > 0)
18971                        		__ld.umq	_seconds
         11:DFB3  AD 34 23   			lda	_seconds
18972                        		__ugt_b.uiq	0
         11:DFB6  18         			clc			; Subtract integer+1 from A.
         11:DFB7  E9 00      			sbc	#0		; CS if A > integer.
18973                        		__bfalse	.LL949
         11:DFB9  90 05      			bcc	.LL949
18974                        	
18975                        		.dbg	line,	"include\routines_SHOP.c", 34; {
18976                        	
18977                        		.dbg	line,	"include\routines_SHOP.c", 35; seconds -= 1;
18978                        		__sub_st.umiq	1, _seconds
         11:DFBB  CE 34 23   			dec	_seconds
18979                        	
18980                        		.dbg	line,	"include\routines_SHOP.c", 36; }
18981                        	
18982                        		.dbg	line,	"include\routines_SHOP.c", 38; else
18983                        		__bra		.LL950
         11:DFBE  80 20      			bra	.LL950
18984    11:DFC0             	.LL949:
18985                        	
18986                        		.dbg	line,	"include\routines_SHOP.c", 39; {
18987                        	
18988                        		.dbg	line,	"include\routines_SHOP.c", 40; if(minutes > 0)
18989                        		__ld.umq	_minutes
         11:DFC0  AD 33 23   			lda	_minutes
18990                        		__ugt_b.uiq	0
         11:DFC3  18         			clc			; Subtract integer+1 from A.
         11:DFC4  E9 00      			sbc	#0		; CS if A > integer.
18991                        		__bfalse	.LL951
         11:DFC6  90 0A      			bcc	.LL951
18992                        	
18993                        		.dbg	line,	"include\routines_SHOP.c", 41; {
18994                        	
18995                        		.dbg	line,	"include\routines_SHOP.c", 42; seconds = 59;
18996                        		__st.umiq	59, _seconds
         11:DFC8  A9 3B      			lda.l	#59
         11:DFCA  8D 34 23   			sta	_seconds
18997                        	
18998                        		.dbg	line,	"include\routines_SHOP.c", 43; minutes -= 1;
18999                        		__sub_st.umiq	1, _minutes
         11:DFCD  CE 33 23   			dec	_minutes
19000                        	
19001                        		.dbg	line,	"include\routines_SHOP.c", 44; }
19002                        	
19003                        		.dbg	line,	"include\routines_SHOP.c", 46; else
19004                        		__bra		.LL952
         11:DFD0  80 0E      			bra	.LL952
19005    11:DFD2             	.LL951:
19006                        	
19007                        		.dbg	line,	"include\routines_SHOP.c", 47; {
19008                        	
19009                        		.dbg	line,	"include\routines_SHOP.c", 48; seconds = 0;
19010                        		__st.umiq	0, _seconds
         11:DFD2  9C 34 23   			stz	_seconds
19011                        	
19012                        		.dbg	line,	"include\routines_SHOP.c", 49; minutes = 0;
19013                        		__st.umiq	0, _minutes
         11:DFD5  9C 33 23   			stz	_minutes
19014                        	
19015                        		.dbg	line,	"include\routines_SHOP.c", 50; shop_counter = 0;    
19016                        		__st.umiq	0, _shop_counter
         11:DFD8  9C FF 23   			stz	_shop_counter
19017                        	
19018                        		.dbg	line,	"include\routines_SHOP.c", 51; shop_phase = SHOP_PHASE_EXIT;
19019                        		__st.umiq	2, _shop_phase
         11:DFDB  A9 02      			lda.l	#2
         11:DFDD  8D FE 23   			sta	_shop_phase
19020                        	
19021                        		.dbg	line,	"include\routines_SHOP.c", 52; }
19022    11:DFE0             	.LL952:
19023                        	
19024                        		.dbg	line,	"include\routines_SHOP.c", 53; }
19025    11:DFE0             	.LL950:
19026                        	
19027                        		.dbg	line,	"include\routines_SHOP.c", 54; } 
19028                        	
19029                        		.dbg	line,	"include\routines_SHOP.c", 55; }
19030    11:DFE0             	.LL948:
19031    11:DFE0             	.LL945:
19032                        		__return	0
         11:DFE0  4C EF FF   			jmp	leave_proc
19033                        		.dbg	clear
19034                        		.endp
19035                        		.pceas
19036                        	
19037                        		.dbg	line,	"include\routines_SHOP.c", 59; void joypad_BUTTONS_SHOP()
19038                        		.dbg	line,	"include\routines_SHOP.c", 60; {
19039                        	;***********************
19040                        	;***********************
19041                        	
19042                        		.hucc
19043    1E:CE0B             		.proc		_joypad_BUTTONS_SHOP
19044                        		__enter		_joypad_BUTTONS_SHOP
19045                        	
19046                        		.dbg	line,	"include\routines_SHOP.c", 61; if(joytrg(JOYPAD_1) & JOY_RIGHT)
19047                        		__ld.uiq	0
         1E:CE0B  62         			cla
19048                        		 _joytrg.1
         1E:CE0C  AA         			tax
         1E:CE0D  BD 2D 22   			lda	joytrg, x
         1E:CE10  BC DD 22   			ldy	joy6trg, x
19049                        		__tand.wi	32
         1E:CE13  29 20      			and	#32
         1E:CE15  C9 01      	!:		cmp	#1
19050                        		__bfalse	.LL954
         1E:CE17  90 59      			bcc	.LL954
19051                        	
19052                        		.dbg	line,	"include\routines_SHOP.c", 62; {   
19053                        	
19054                        		.dbg	line,	"include\routines_SHOP.c", 63; char max_index;
19055                        	
19056                        		.dbg	line,	"include\routines_SHOP.c", 64; 
19057                        	
19058                        		.dbg	line,	"include\routines_SHOP.c", 65; if(index_y == 0)
19059                        		__not.um	_index_y
         1E:CE19  AD FC 23   			lda	_index_y
         1E:CE1C  18         			clc
         1E:CE1D  D0 01      			bne	!+
         1E:CE1F  38         			sec
         1E:CE20             	!:
19060                        		__bfalse	.LL955
         1E:CE20  90 07      			bcc	.LL955
19061                        	
19062                        		.dbg	line,	"include\routines_SHOP.c", 66; {
19063                        	
19064                        		.dbg	line,	"include\routines_SHOP.c", 67; max_index = 4;
19065                        		__st.umiq	4, __joypad_BUTTONS_SHOP_end - 1  /* max_index */
         1E:CE22  A9 04      			lda.l	#4
         1E:CE24  8D 11 23   			sta	__joypad_BUTTONS_SHOP_end - 1
19066                        	
19067                        		.dbg	line,	"include\routines_SHOP.c", 68; }
19068                        	
19069                        		.dbg	line,	"include\routines_SHOP.c", 70; else
19070                        		__bra		.LL956
         1E:CE27  80 05      			bra	.LL956
19071    1E:CE29             	.LL955:
19072                        	
19073                        		.dbg	line,	"include\routines_SHOP.c", 71; {
19074                        	
19075                        		.dbg	line,	"include\routines_SHOP.c", 72; max_index = 5;
19076                        		__st.umiq	5, __joypad_BUTTONS_SHOP_end - 1  /* max_index */
         1E:CE29  A9 05      			lda.l	#5
         1E:CE2B  8D 11 23   			sta	__joypad_BUTTONS_SHOP_end - 1
19077                        	
19078                        		.dbg	line,	"include\routines_SHOP.c", 73; }
19079    1E:CE2E             	.LL956:
19080                        	
19081                        		.dbg	line,	"include\routines_SHOP.c", 75; if(index_x < max_index)
19082                        		__ld.umq	_index_x
         1E:CE2E  AD FB 23   			lda	_index_x
19083                        		__ult_b.umq	__joypad_BUTTONS_SHOP_end - 1  /* max_index */
         1E:CE31  CD 11 23   			cmp	__joypad_BUTTONS_SHOP_end - 1		; Subtract memory from A.
         1E:CE34  6A         			ror	a		; CC if A < memory.
         1E:CE35  49 80      			eor	#$80
         1E:CE37  2A         			rol	a
19084                        		__bfalse	.LL957
         1E:CE38  B0 03 4C 88			bcc	.LL957
         1E:CE3C  D3          
19085                        	
19086                        		.dbg	line,	"include\routines_SHOP.c", 76; {
19087                        	
19088                        		.dbg	line,	"include\routines_SHOP.c", 77; index_x += 1;
19089                        		__add_st.umiq	1, _index_x
         1E:CE3D  EE FB 23   			inc	_index_x
19090                        	
19091                        		.dbg	line,	"include\routines_SHOP.c", 78; item_index = (index_x + (index_y * 5));
19092                        		__ld.um		_index_y
         1E:CE40  AD FC 23   			lda	_index_y
         1E:CE43  C2         			cly
19093                        		__mul.wi	5
         1E:CE44  85 00      			sta.l	__temp
         1E:CE46  84 01      			sty.h	__temp
                             		__asl.wr
         1E:CE48  0A         			asl	a
         1E:CE49  42         			say
         1E:CE4A  2A         			rol	a
         1E:CE4B  42         			say
                             		__asl.wr
         1E:CE4C  0A         			asl	a
         1E:CE4D  42         			say
         1E:CE4E  2A         			rol	a
         1E:CE4F  42         			say
                             		__add.wm	__temp
         1E:CE50  18         			clc
         1E:CE51  65 00      			adc.l	__temp
         1E:CE53  42         			say
         1E:CE54  65 01      			adc.h	__temp
         1E:CE56  42         			say
19094                        		__add.um	_index_x
         1E:CE57  18         			clc
         1E:CE58  6D FB 23   			adc	_index_x
         1E:CE5B  90 01      			bcc	!+
         1E:CE5D  C8         			iny
         1E:CE5E             	!:
19095                        		__st.umq	_item_index
         1E:CE5E  8D FD 23   			sta	_item_index
19096                        	
19097                        		.dbg	line,	"include\routines_SHOP.c", 80; spr_set(0);
19098                        		__ld.uiq	0
         1E:CE61  62         			cla
19099                        		__call		_spr_set.1
         1E:CE62  20 F1 E7   			call	_spr_set.1
19100                        	
19101                        		.dbg	line,	"include\routines_SHOP.c", 81; spr_x(TABLE_CURSOR_POS_X[item_index]);
19102                        		__ldx.umq	_item_index
         1E:CE65  AE FD 23   			ldx	_item_index
19103                        		__ld.uax	_TABLE_CURSOR_POS_X
         1E:CE68  BD 59 63   			lda	_TABLE_CURSOR_POS_X, x
         1E:CE6B  C2         			cly
19104                        		__call		_spr_x.1
         1E:CE6C  20 1E E8   			call	_spr_x.1
19105                        	
19106                        		.dbg	line,	"include\routines_SHOP.c", 82; }
19107                        	
19108                        		.dbg	line,	"include\routines_SHOP.c", 83; }
19109    1E:CE6F             	.LL957	.alias		.LL958
19110                        	
19111                        		.dbg	line,	"include\routines_SHOP.c", 85; 
19112                        	
19113                        		.dbg	line,	"include\routines_SHOP.c", 86; else if(joytrg(JOYPAD_1) & JOY_LEFT)
19114                        		__bra		.LL958
         1E:CE6F  4C 88 D3   			bra	.LL958
19115    1E:CE72             	.LL954:
19116                        		__ld.uiq	0
         1E:CE72  62         			cla
19117                        		 _joytrg.1
         1E:CE73  AA         			tax
         1E:CE74  BD 2D 22   			lda	joytrg, x
         1E:CE77  BC DD 22   			ldy	joy6trg, x
19118                        		__tand.wi	128
         1E:CE7A  29 80      			and	#128
         1E:CE7C  C9 01      	!:		cmp	#1
19119                        		__bfalse	.LL959
         1E:CE7E  90 40      			bcc	.LL959
19120                        	
19121                        		.dbg	line,	"include\routines_SHOP.c", 87; {
19122                        	
19123                        		.dbg	line,	"include\routines_SHOP.c", 88; if(index_x > 0)
19124                        		__ld.umq	_index_x
         1E:CE80  AD FB 23   			lda	_index_x
19125                        		__ugt_b.uiq	0
         1E:CE83  18         			clc			; Subtract integer+1 from A.
         1E:CE84  E9 00      			sbc	#0		; CS if A > integer.
19126                        		__bfalse	.LL960
         1E:CE86  B0 03 4C 88			bcc	.LL960
         1E:CE8A  D3          
19127                        	
19128                        		.dbg	line,	"include\routines_SHOP.c", 89; {
19129                        	
19130                        		.dbg	line,	"include\routines_SHOP.c", 90; index_x -= 1;
19131                        		__sub_st.umiq	1, _index_x
         1E:CE8B  CE FB 23   			dec	_index_x
19132                        	
19133                        		.dbg	line,	"include\routines_SHOP.c", 91; item_index = (index_x + (index_y * 5));
19134                        		__ld.um		_index_y
         1E:CE8E  AD FC 23   			lda	_index_y
         1E:CE91  C2         			cly
19135                        		__mul.wi	5
         1E:CE92  85 00      			sta.l	__temp
         1E:CE94  84 01      			sty.h	__temp
                             		__asl.wr
         1E:CE96  0A         			asl	a
         1E:CE97  42         			say
         1E:CE98  2A         			rol	a
         1E:CE99  42         			say
                             		__asl.wr
         1E:CE9A  0A         			asl	a
         1E:CE9B  42         			say
         1E:CE9C  2A         			rol	a
         1E:CE9D  42         			say
                             		__add.wm	__temp
         1E:CE9E  18         			clc
         1E:CE9F  65 00      			adc.l	__temp
         1E:CEA1  42         			say
         1E:CEA2  65 01      			adc.h	__temp
         1E:CEA4  42         			say
19136                        		__add.um	_index_x
         1E:CEA5  18         			clc
         1E:CEA6  6D FB 23   			adc	_index_x
         1E:CEA9  90 01      			bcc	!+
         1E:CEAB  C8         			iny
         1E:CEAC             	!:
19137                        		__st.umq	_item_index
         1E:CEAC  8D FD 23   			sta	_item_index
19138                        	
19139                        		.dbg	line,	"include\routines_SHOP.c", 93; spr_set(0);
19140                        		__ld.uiq	0
         1E:CEAF  62         			cla
19141                        		__call		_spr_set.1
         1E:CEB0  20 F1 E7   			call	_spr_set.1
19142                        	
19143                        		.dbg	line,	"include\routines_SHOP.c", 94; spr_x(TABLE_CURSOR_POS_X[item_index]);
19144                        		__ldx.umq	_item_index
         1E:CEB3  AE FD 23   			ldx	_item_index
19145                        		__ld.uax	_TABLE_CURSOR_POS_X
         1E:CEB6  BD 59 63   			lda	_TABLE_CURSOR_POS_X, x
         1E:CEB9  C2         			cly
19146                        		__call		_spr_x.1
         1E:CEBA  20 1E E8   			call	_spr_x.1
19147                        	
19148                        		.dbg	line,	"include\routines_SHOP.c", 95; }
19149                        	
19150                        		.dbg	line,	"include\routines_SHOP.c", 96; }
19151    1E:CEBD             	.LL960	.alias		.LL961
19152                        	
19153                        		.dbg	line,	"include\routines_SHOP.c", 99; else if(joytrg(JOYPAD_1) & JOY_UP)
19154                        		__bra		.LL961
         1E:CEBD  4C 88 D3   			bra	.LL961
19155    1E:CEC0             	.LL959:
19156                        		__ld.uiq	0
         1E:CEC0  62         			cla
19157                        		 _joytrg.1
         1E:CEC1  AA         			tax
         1E:CEC2  BD 2D 22   			lda	joytrg, x
         1E:CEC5  BC DD 22   			ldy	joy6trg, x
19158                        		__tand.wi	16
         1E:CEC8  29 10      			and	#16
         1E:CECA  C9 01      	!:		cmp	#1
19159                        		__bfalse	.LL962
         1E:CECC  90 4A      			bcc	.LL962
19160                        	
19161                        		.dbg	line,	"include\routines_SHOP.c", 100; {
19162                        	
19163                        		.dbg	line,	"include\routines_SHOP.c", 101; if(index_y > 0)
19164                        		__ld.umq	_index_y
         1E:CECE  AD FC 23   			lda	_index_y
19165                        		__ugt_b.uiq	0
         1E:CED1  18         			clc			; Subtract integer+1 from A.
         1E:CED2  E9 00      			sbc	#0		; CS if A > integer.
19166                        		__bfalse	.LL963
         1E:CED4  B0 03 4C 88			bcc	.LL963
         1E:CED8  D3          
19167                        	
19168                        		.dbg	line,	"include\routines_SHOP.c", 102; {
19169                        	
19170                        		.dbg	line,	"include\routines_SHOP.c", 103; if(item_index != 10)
19171                        		__ld.umq	_item_index
         1E:CED9  AD FD 23   			lda	_item_index
19172                        		__neq_b.uiq	10
         1E:CEDC  38         			sec
         1E:CEDD  49 0A      			eor	#10
         1E:CEDF  D0 01      			bne	!+
         1E:CEE1  18         			clc
         1E:CEE2             	!:
19173                        		__bfalse	.LL964
         1E:CEE2  B0 03 4C 88			bcc	.LL964
         1E:CEE6  D3          
19174                        	
19175                        		.dbg	line,	"include\routines_SHOP.c", 104; {
19176                        	
19177                        		.dbg	line,	"include\routines_SHOP.c", 105; index_y -= 1;
19178                        		__sub_st.umiq	1, _index_y
         1E:CEE7  CE FC 23   			dec	_index_y
19179                        	
19180                        		.dbg	line,	"include\routines_SHOP.c", 106; item_index = (index_x + (index_y * 5));
19181                        		__ld.um		_index_y
         1E:CEEA  AD FC 23   			lda	_index_y
         1E:CEED  C2         			cly
19182                        		__mul.wi	5
         1E:CEEE  85 00      			sta.l	__temp
         1E:CEF0  84 01      			sty.h	__temp
                             		__asl.wr
         1E:CEF2  0A         			asl	a
         1E:CEF3  42         			say
         1E:CEF4  2A         			rol	a
         1E:CEF5  42         			say
                             		__asl.wr
         1E:CEF6  0A         			asl	a
         1E:CEF7  42         			say
         1E:CEF8  2A         			rol	a
         1E:CEF9  42         			say
                             		__add.wm	__temp
         1E:CEFA  18         			clc
         1E:CEFB  65 00      			adc.l	__temp
         1E:CEFD  42         			say
         1E:CEFE  65 01      			adc.h	__temp
         1E:CF00  42         			say
19183                        		__add.um	_index_x
         1E:CF01  18         			clc
         1E:CF02  6D FB 23   			adc	_index_x
         1E:CF05  90 01      			bcc	!+
         1E:CF07  C8         			iny
         1E:CF08             	!:
19184                        		__st.umq	_item_index
         1E:CF08  8D FD 23   			sta	_item_index
19185                        	
19186                        		.dbg	line,	"include\routines_SHOP.c", 108; spr_set(0);
19187                        		__ld.uiq	0
         1E:CF0B  62         			cla
19188                        		__call		_spr_set.1
         1E:CF0C  20 F1 E7   			call	_spr_set.1
19189                        	
19190                        		.dbg	line,	"include\routines_SHOP.c", 109; spr_y(144);
19191                        		__ld.wi		144
         1E:CF0F  A9 90      			lda.l	#144
         1E:CF11  C2         			cly
19192                        		__call		_spr_y.1
         1E:CF12  20 2D E8   			call	_spr_y.1
19193                        	
19194                        		.dbg	line,	"include\routines_SHOP.c", 110; }
19195                        	
19196                        		.dbg	line,	"include\routines_SHOP.c", 111; }
19197    1E:CF15             	.LL964	.alias		.LL965
19198                        	
19199                        		.dbg	line,	"include\routines_SHOP.c", 112; }
19200    1E:CF15             	.LL963	.alias		.LL965
19201                        	
19202                        		.dbg	line,	"include\routines_SHOP.c", 115; else if(joytrg(JOYPAD_1) & JOY_DOWN)
19203                        		__bra		.LL965
         1E:CF15  4C 88 D3   			bra	.LL965
19204    1E:CF18             	.LL962:
19205                        		__ld.uiq	0
         1E:CF18  62         			cla
19206                        		 _joytrg.1
         1E:CF19  AA         			tax
         1E:CF1A  BD 2D 22   			lda	joytrg, x
         1E:CF1D  BC DD 22   			ldy	joy6trg, x
19207                        		__tand.wi	64
         1E:CF20  29 40      			and	#64
         1E:CF22  C9 01      	!:		cmp	#1
19208                        		__bfalse	.LL966
         1E:CF24  90 3F      			bcc	.LL966
19209                        	
19210                        		.dbg	line,	"include\routines_SHOP.c", 116; {
19211                        	
19212                        		.dbg	line,	"include\routines_SHOP.c", 117; if(index_y < 1)
19213                        		__ld.umq	_index_y
         1E:CF26  AD FC 23   			lda	_index_y
19214                        		__ult_b.uiq	1
         1E:CF29  C9 01      			cmp	#1		; Subtract integer from A.
         1E:CF2B  6A         			ror	a		; CC if A < integer.
         1E:CF2C  49 80      			eor	#$80
         1E:CF2E  2A         			rol	a
19215                        		__bfalse	.LL967
         1E:CF2F  B0 03 4C 88			bcc	.LL967
         1E:CF33  D3          
19216                        	
19217                        		.dbg	line,	"include\routines_SHOP.c", 118; {
19218                        	
19219                        		.dbg	line,	"include\routines_SHOP.c", 119; index_y += 1;
19220                        		__add_st.umiq	1, _index_y
         1E:CF34  EE FC 23   			inc	_index_y
19221                        	
19222                        		.dbg	line,	"include\routines_SHOP.c", 120; item_index = (index_x + (index_y * 5));
19223                        		__ld.um		_index_y
         1E:CF37  AD FC 23   			lda	_index_y
         1E:CF3A  C2         			cly
19224                        		__mul.wi	5
         1E:CF3B  85 00      			sta.l	__temp
         1E:CF3D  84 01      			sty.h	__temp
                             		__asl.wr
         1E:CF3F  0A         			asl	a
         1E:CF40  42         			say
         1E:CF41  2A         			rol	a
         1E:CF42  42         			say
                             		__asl.wr
         1E:CF43  0A         			asl	a
         1E:CF44  42         			say
         1E:CF45  2A         			rol	a
         1E:CF46  42         			say
                             		__add.wm	__temp
         1E:CF47  18         			clc
         1E:CF48  65 00      			adc.l	__temp
         1E:CF4A  42         			say
         1E:CF4B  65 01      			adc.h	__temp
         1E:CF4D  42         			say
19225                        		__add.um	_index_x
         1E:CF4E  18         			clc
         1E:CF4F  6D FB 23   			adc	_index_x
         1E:CF52  90 01      			bcc	!+
         1E:CF54  C8         			iny
         1E:CF55             	!:
19226                        		__st.umq	_item_index
         1E:CF55  8D FD 23   			sta	_item_index
19227                        	
19228                        		.dbg	line,	"include\routines_SHOP.c", 122; spr_set(0);
19229                        		__ld.uiq	0
         1E:CF58  62         			cla
19230                        		__call		_spr_set.1
         1E:CF59  20 F1 E7   			call	_spr_set.1
19231                        	
19232                        		.dbg	line,	"include\routines_SHOP.c", 123; spr_y(168);
19233                        		__ld.wi		168
         1E:CF5C  A9 A8      			lda.l	#168
         1E:CF5E  C2         			cly
19234                        		__call		_spr_y.1
         1E:CF5F  20 2D E8   			call	_spr_y.1
19235                        	
19236                        		.dbg	line,	"include\routines_SHOP.c", 124; }
19237                        	
19238                        		.dbg	line,	"include\routines_SHOP.c", 125; }
19239    1E:CF62             	.LL967	.alias		.LL968
19240                        	
19241                        		.dbg	line,	"include\routines_SHOP.c", 128; else if(joytrg(JOYPAD_1) & JOY_I)
19242                        		__bra		.LL968
         1E:CF62  4C 88 D3   			bra	.LL968
19243    1E:CF65             	.LL966:
19244                        		__ld.uiq	0
         1E:CF65  62         			cla
19245                        		 _joytrg.1
         1E:CF66  AA         			tax
         1E:CF67  BD 2D 22   			lda	joytrg, x
         1E:CF6A  BC DD 22   			ldy	joy6trg, x
19246                        		__tand.wi	1
         1E:CF6D  29 01      			and	#1
         1E:CF6F  C9 01      	!:		cmp	#1
19247                        		__bfalse	.LL969
         1E:CF71  B0 03 4C 88			bcc	.LL969
         1E:CF75  D3          
19248                        	
19249                        		.dbg	line,	"include\routines_SHOP.c", 129; {
19250                        	
19251                        		.dbg	line,	"include\routines_SHOP.c", 130; switch(item_index)
19252                        		__ld.umq	_item_index
         1E:CF76  AD FD 23   			lda	_item_index
19253                        		__bra		.LL970
         1E:CF79  4C 65 D3   			bra	.LL970
19254                        	
19255                        		.dbg	line,	"include\routines_SHOP.c", 131; {
19256                        	
19257                        		.dbg	line,	"include\routines_SHOP.c", 132; // WEAPON 2 //
19258                        	
19259                        		.dbg	line,	"include\routines_SHOP.c", 133; case 0:
19260    1E:CF7C             	.LL972:
19261                        		__case		0
19262                        	
19263                        		.dbg	line,	"include\routines_SHOP.c", 134; if(zenny_amount >= shop_prices[0])
19264                        		__ld.wm		_zenny_amount
         1E:CF7C  AD 61 26   			lda.l	_zenny_amount
         1E:CF7F  AC 62 26   			ldy.h	_zenny_amount
19265                        		__sge_w.wm	_shop_prices
         1E:CF82  CD 65 26   			cmp.l	_shop_prices		; Subtract memory from Y:A.
         1E:CF85  98         			tya
         1E:CF86  ED 66 26   			sbc.h	_shop_prices
         1E:CF89  50 02      			bvc	!+
         1E:CF8B  49 80      			eor	#$80		; +ve if Y:A >= memory (signed).
         1E:CF8D  49 80      	!:		eor	#$80
         1E:CF8F  0A         			asl	a
19266                        		__bfalse	.LL973
         1E:CF90  B0 03 4C 88			bcc	.LL973
         1E:CF94  D3          
19267                        	
19268                        		.dbg	line,	"include\routines_SHOP.c", 135; {
19269                        	
19270                        		.dbg	line,	"include\routines_SHOP.c", 136; if(weapon_level < 1)
19271                        		__ld.umq	_weapon_level
         1E:CF95  AD 2B 23   			lda	_weapon_level
19272                        		__ult_b.uiq	1
         1E:CF98  C9 01      			cmp	#1		; Subtract integer from A.
         1E:CF9A  6A         			ror	a		; CC if A < integer.
         1E:CF9B  49 80      			eor	#$80
         1E:CF9D  2A         			rol	a
19273                        		__bfalse	.LL974
         1E:CF9E  B0 03 4C 88			bcc	.LL974
         1E:CFA2  D3          
19274                        	
19275                        		.dbg	line,	"include\routines_SHOP.c", 137; {
19276                        	
19277                        		.dbg	line,	"include\routines_SHOP.c", 138; weapon_level = 1;
19278                        		__st.umiq	1, _weapon_level
         1E:CFA3  A9 01      			lda.l	#1
         1E:CFA5  8D 2B 23   			sta	_weapon_level
19279                        	
19280                        		.dbg	line,	"include\routines_SHOP.c", 139; load_vram( WEAPON_ICON_VRAM_ADR, tileset_WEAPON_2, SIZEOF(tileset_WEAPON_2) >> 1 );
19281                        		__st.wmiq	4256, _di
         1E:CFA8  A9 A0      			lda.l	#4256
         1E:CFAA  85 F0      			sta.l	_di
         1E:CFAC  A9 10      			lda.h	#4256
         1E:CFAE  85 F1      			sta.h	_di
19282                        		__farptr	_tileset_WEAPON_2, _bp_bank, _bp
         1E:CFB0  A9 60      			lda.l	#$6000 + ($1FFF & (_tileset_WEAPON_2))
         1E:CFB2  85 EC      			sta.l	_bp
         1E:CFB4  A9 74      			lda.h	#$6000 + ($1FFF & (_tileset_WEAPON_2))
         1E:CFB6  85 ED      			sta.h	_bp
         1E:CFB8  A9 07      			lda	#bank(_tileset_WEAPON_2)
         1E:CFBA  85 02      			sta	_bp_bank
19283                        		__ld.wi		___sizeof__tileset_WEAPON_2
         1E:CFBC  A9 80      			lda.l	#___sizeof__tileset_WEAPON_2
         1E:CFBE  A0 00      			ldy.h	#___sizeof__tileset_WEAPON_2
19284                        		__lsr.wi	1
         1E:CFC0  42         			say
         1E:CFC1  4A         			lsr	a
         1E:CFC2  42         			say
         1E:CFC3  6A         			ror	a
19285                        		__st.wmq	_ax
         1E:CFC4  85 F8      			sta.l	_ax
         1E:CFC6  84 F9      			sty.h	_ax
19286                        		 _load_vram.3
         1E:CFC8  82         			clx				; Offset to PCE VDC.
         1E:CFC9  20 EB FE   			call	load_vram_x
19287                        	
19288                        		.dbg	line,	"include\routines_SHOP.c", 141; zenny_amount -= shop_prices[0];
19289                        		__ld.wm		_shop_prices
         1E:CFCC  AD 65 26   			lda.l	_shop_prices
         1E:CFCF  AC 66 26   			ldy.h	_shop_prices
19290                        		__isub_st.wmq	_zenny_amount
         1E:CFD2  38         			sec
         1E:CFD3  49 FF      			eor	#$FF
         1E:CFD5  6D 61 26   			adc.l	_zenny_amount
         1E:CFD8  8D 61 26   			sta.l	_zenny_amount
         1E:CFDB  98         			tya
         1E:CFDC  49 FF      			eor	#$FF
         1E:CFDE  6D 62 26   			adc.h	_zenny_amount
         1E:CFE1  8D 62 26   			sta.h	_zenny_amount
19291                        	
19292                        		.dbg	line,	"include\routines_SHOP.c", 142; display_ZENNY();
19293                        		__call		_display_ZENNY
         1E:CFE4  20 3B FF   			call	_display_ZENNY
19294                        	
19295                        		.dbg	line,	"include\routines_SHOP.c", 143; }
19296                        	
19297                        		.dbg	line,	"include\routines_SHOP.c", 144; }
19298    1E:CFE7             	.LL974	.alias		.LL971
19299                        	
19300                        		.dbg	line,	"include\routines_SHOP.c", 146; break;   
19301    1E:CFE7             	.LL973	.alias		.LL971
19302                        		__bra		.LL971
         1E:CFE7  4C 88 D3   			bra	.LL971
19303                        	
19304                        		.dbg	line,	"include\routines_SHOP.c", 149; // WEAPON 4 //
19305                        	
19306                        		.dbg	line,	"include\routines_SHOP.c", 150; case 1:
19307    1E:CFEA             	.LL975:
19308                        		__case		1
19309                        	
19310                        		.dbg	line,	"include\routines_SHOP.c", 151; if(zenny_amount >= shop_prices[1])
19311                        		__ld.wm		_zenny_amount
         1E:CFEA  AD 61 26   			lda.l	_zenny_amount
         1E:CFED  AC 62 26   			ldy.h	_zenny_amount
19312                        		__sge_w.wm	_shop_prices + 2
         1E:CFF0  CD 67 26   			cmp.l	_shop_prices + 2		; Subtract memory from Y:A.
         1E:CFF3  98         			tya
         1E:CFF4  ED 68 26   			sbc.h	_shop_prices + 2
         1E:CFF7  50 02      			bvc	!+
         1E:CFF9  49 80      			eor	#$80		; +ve if Y:A >= memory (signed).
         1E:CFFB  49 80      	!:		eor	#$80
         1E:CFFD  0A         			asl	a
19313                        		__bfalse	.LL976
         1E:CFFE  B0 03 4C 88			bcc	.LL976
         1E:D002  D3          
19314                        	
19315                        		.dbg	line,	"include\routines_SHOP.c", 152; {
19316                        	
19317                        		.dbg	line,	"include\routines_SHOP.c", 153; if(weapon_level < 2)
19318                        		__ld.umq	_weapon_level
         1E:D003  AD 2B 23   			lda	_weapon_level
19319                        		__ult_b.uiq	2
         1E:D006  C9 02      			cmp	#2		; Subtract integer from A.
         1E:D008  6A         			ror	a		; CC if A < integer.
         1E:D009  49 80      			eor	#$80
         1E:D00B  2A         			rol	a
19320                        		__bfalse	.LL977
         1E:D00C  B0 03 4C 88			bcc	.LL977
         1E:D010  D3          
19321                        	
19322                        		.dbg	line,	"include\routines_SHOP.c", 154; {
19323                        	
19324                        		.dbg	line,	"include\routines_SHOP.c", 155; weapon_level = 2;
19325                        		__st.umiq	2, _weapon_level
         1E:D011  A9 02      			lda.l	#2
         1E:D013  8D 2B 23   			sta	_weapon_level
19326                        	
19327                        		.dbg	line,	"include\routines_SHOP.c", 156; load_vram( WEAPON_ICON_VRAM_ADR, tileset_WEAPON_4, SIZEOF(tileset_WEAPON_4) >> 1 );
19328                        		__st.wmiq	4256, _di
         1E:D016  A9 A0      			lda.l	#4256
         1E:D018  85 F0      			sta.l	_di
         1E:D01A  A9 10      			lda.h	#4256
         1E:D01C  85 F1      			sta.h	_di
19329                        		__farptr	_tileset_WEAPON_4, _bp_bank, _bp
         1E:D01E  A9 E0      			lda.l	#$6000 + ($1FFF & (_tileset_WEAPON_4))
         1E:D020  85 EC      			sta.l	_bp
         1E:D022  A9 74      			lda.h	#$6000 + ($1FFF & (_tileset_WEAPON_4))
         1E:D024  85 ED      			sta.h	_bp
         1E:D026  A9 07      			lda	#bank(_tileset_WEAPON_4)
         1E:D028  85 02      			sta	_bp_bank
19330                        		__ld.wi		___sizeof__tileset_WEAPON_4
         1E:D02A  A9 80      			lda.l	#___sizeof__tileset_WEAPON_4
         1E:D02C  A0 00      			ldy.h	#___sizeof__tileset_WEAPON_4
19331                        		__lsr.wi	1
         1E:D02E  42         			say
         1E:D02F  4A         			lsr	a
         1E:D030  42         			say
         1E:D031  6A         			ror	a
19332                        		__st.wmq	_ax
         1E:D032  85 F8      			sta.l	_ax
         1E:D034  84 F9      			sty.h	_ax
19333                        		 _load_vram.3
         1E:D036  82         			clx				; Offset to PCE VDC.
         1E:D037  20 EB FE   			call	load_vram_x
19334                        	
19335                        		.dbg	line,	"include\routines_SHOP.c", 158; zenny_amount -= shop_prices[1];
19336                        		__ld.wm		_shop_prices + 2
         1E:D03A  AD 67 26   			lda.l	_shop_prices + 2
         1E:D03D  AC 68 26   			ldy.h	_shop_prices + 2
19337                        		__isub_st.wmq	_zenny_amount
         1E:D040  38         			sec
         1E:D041  49 FF      			eor	#$FF
         1E:D043  6D 61 26   			adc.l	_zenny_amount
         1E:D046  8D 61 26   			sta.l	_zenny_amount
         1E:D049  98         			tya
         1E:D04A  49 FF      			eor	#$FF
         1E:D04C  6D 62 26   			adc.h	_zenny_amount
         1E:D04F  8D 62 26   			sta.h	_zenny_amount
19338                        	
19339                        		.dbg	line,	"include\routines_SHOP.c", 159; display_ZENNY();
19340                        		__call		_display_ZENNY
         1E:D052  20 3B FF   			call	_display_ZENNY
19341                        	
19342                        		.dbg	line,	"include\routines_SHOP.c", 160; }
19343                        	
19344                        		.dbg	line,	"include\routines_SHOP.c", 161; }
19345    1E:D055             	.LL977	.alias		.LL971
19346                        	
19347                        		.dbg	line,	"include\routines_SHOP.c", 163; break; 
19348    1E:D055             	.LL976	.alias		.LL971
19349                        		__bra		.LL971
         1E:D055  4C 88 D3   			bra	.LL971
19350                        	
19351                        		.dbg	line,	"include\routines_SHOP.c", 166; // WEAPON 5 //
19352                        	
19353                        		.dbg	line,	"include\routines_SHOP.c", 167; case 2:
19354    1E:D058             	.LL978:
19355                        		__case		2
19356                        	
19357                        		.dbg	line,	"include\routines_SHOP.c", 168; if(zenny_amount >= shop_prices[2])
19358                        		__ld.wm		_zenny_amount
         1E:D058  AD 61 26   			lda.l	_zenny_amount
         1E:D05B  AC 62 26   			ldy.h	_zenny_amount
19359                        		__sge_w.wm	_shop_prices + 4
         1E:D05E  CD 69 26   			cmp.l	_shop_prices + 4		; Subtract memory from Y:A.
         1E:D061  98         			tya
         1E:D062  ED 6A 26   			sbc.h	_shop_prices + 4
         1E:D065  50 02      			bvc	!+
         1E:D067  49 80      			eor	#$80		; +ve if Y:A >= memory (signed).
         1E:D069  49 80      	!:		eor	#$80
         1E:D06B  0A         			asl	a
19360                        		__bfalse	.LL979
         1E:D06C  B0 03 4C 88			bcc	.LL979
         1E:D070  D3          
19361                        	
19362                        		.dbg	line,	"include\routines_SHOP.c", 169; {
19363                        	
19364                        		.dbg	line,	"include\routines_SHOP.c", 170; if(weapon_level < 3)
19365                        		__ld.umq	_weapon_level
         1E:D071  AD 2B 23   			lda	_weapon_level
19366                        		__ult_b.uiq	3
         1E:D074  C9 03      			cmp	#3		; Subtract integer from A.
         1E:D076  6A         			ror	a		; CC if A < integer.
         1E:D077  49 80      			eor	#$80
         1E:D079  2A         			rol	a
19367                        		__bfalse	.LL980
         1E:D07A  B0 03 4C 88			bcc	.LL980
         1E:D07E  D3          
19368                        	
19369                        		.dbg	line,	"include\routines_SHOP.c", 171; {
19370                        	
19371                        		.dbg	line,	"include\routines_SHOP.c", 172; weapon_level = 3;
19372                        		__st.umiq	3, _weapon_level
         1E:D07F  A9 03      			lda.l	#3
         1E:D081  8D 2B 23   			sta	_weapon_level
19373                        	
19374                        		.dbg	line,	"include\routines_SHOP.c", 173; load_vram( WEAPON_ICON_VRAM_ADR, tileset_WEAPON_5, SIZEOF(tileset_WEAPON_5) >> 1 );
19375                        		__st.wmiq	4256, _di
         1E:D084  A9 A0      			lda.l	#4256
         1E:D086  85 F0      			sta.l	_di
         1E:D088  A9 10      			lda.h	#4256
         1E:D08A  85 F1      			sta.h	_di
19376                        		__farptr	_tileset_WEAPON_5, _bp_bank, _bp
         1E:D08C  A9 60      			lda.l	#$6000 + ($1FFF & (_tileset_WEAPON_5))
         1E:D08E  85 EC      			sta.l	_bp
         1E:D090  A9 75      			lda.h	#$6000 + ($1FFF & (_tileset_WEAPON_5))
         1E:D092  85 ED      			sta.h	_bp
         1E:D094  A9 07      			lda	#bank(_tileset_WEAPON_5)
         1E:D096  85 02      			sta	_bp_bank
19377                        		__ld.wi		___sizeof__tileset_WEAPON_5
         1E:D098  A9 80      			lda.l	#___sizeof__tileset_WEAPON_5
         1E:D09A  A0 00      			ldy.h	#___sizeof__tileset_WEAPON_5
19378                        		__lsr.wi	1
         1E:D09C  42         			say
         1E:D09D  4A         			lsr	a
         1E:D09E  42         			say
         1E:D09F  6A         			ror	a
19379                        		__st.wmq	_ax
         1E:D0A0  85 F8      			sta.l	_ax
         1E:D0A2  84 F9      			sty.h	_ax
19380                        		 _load_vram.3
         1E:D0A4  82         			clx				; Offset to PCE VDC.
         1E:D0A5  20 EB FE   			call	load_vram_x
19381                        	
19382                        		.dbg	line,	"include\routines_SHOP.c", 175; zenny_amount -= shop_prices[2];
19383                        		__ld.wm		_shop_prices + 4
         1E:D0A8  AD 69 26   			lda.l	_shop_prices + 4
         1E:D0AB  AC 6A 26   			ldy.h	_shop_prices + 4
19384                        		__isub_st.wmq	_zenny_amount
         1E:D0AE  38         			sec
         1E:D0AF  49 FF      			eor	#$FF
         1E:D0B1  6D 61 26   			adc.l	_zenny_amount
         1E:D0B4  8D 61 26   			sta.l	_zenny_amount
         1E:D0B7  98         			tya
         1E:D0B8  49 FF      			eor	#$FF
         1E:D0BA  6D 62 26   			adc.h	_zenny_amount
         1E:D0BD  8D 62 26   			sta.h	_zenny_amount
19385                        	
19386                        		.dbg	line,	"include\routines_SHOP.c", 176; display_ZENNY();
19387                        		__call		_display_ZENNY
         1E:D0C0  20 3B FF   			call	_display_ZENNY
19388                        	
19389                        		.dbg	line,	"include\routines_SHOP.c", 177; }
19390                        	
19391                        		.dbg	line,	"include\routines_SHOP.c", 178; }
19392    1E:D0C3             	.LL980	.alias		.LL971
19393                        	
19394                        		.dbg	line,	"include\routines_SHOP.c", 180; break;   
19395    1E:D0C3             	.LL979	.alias		.LL971
19396                        		__bra		.LL971
         1E:D0C3  4C 88 D3   			bra	.LL971
19397                        	
19398                        		.dbg	line,	"include\routines_SHOP.c", 183; // WEAPON 8 //
19399                        	
19400                        		.dbg	line,	"include\routines_SHOP.c", 184; case 3:
19401    1E:D0C6             	.LL981:
19402                        		__case		3
19403                        	
19404                        		.dbg	line,	"include\routines_SHOP.c", 185; if(zenny_amount >= shop_prices[3])
19405                        		__ld.wm		_zenny_amount
         1E:D0C6  AD 61 26   			lda.l	_zenny_amount
         1E:D0C9  AC 62 26   			ldy.h	_zenny_amount
19406                        		__sge_w.wm	_shop_prices + 6
         1E:D0CC  CD 6B 26   			cmp.l	_shop_prices + 6		; Subtract memory from Y:A.
         1E:D0CF  98         			tya
         1E:D0D0  ED 6C 26   			sbc.h	_shop_prices + 6
         1E:D0D3  50 02      			bvc	!+
         1E:D0D5  49 80      			eor	#$80		; +ve if Y:A >= memory (signed).
         1E:D0D7  49 80      	!:		eor	#$80
         1E:D0D9  0A         			asl	a
19407                        		__bfalse	.LL982
         1E:D0DA  B0 03 4C 88			bcc	.LL982
         1E:D0DE  D3          
19408                        	
19409                        		.dbg	line,	"include\routines_SHOP.c", 186; {
19410                        	
19411                        		.dbg	line,	"include\routines_SHOP.c", 187; if(weapon_level < 4)
19412                        		__ld.umq	_weapon_level
         1E:D0DF  AD 2B 23   			lda	_weapon_level
19413                        		__ult_b.uiq	4
         1E:D0E2  C9 04      			cmp	#4		; Subtract integer from A.
         1E:D0E4  6A         			ror	a		; CC if A < integer.
         1E:D0E5  49 80      			eor	#$80
         1E:D0E7  2A         			rol	a
19414                        		__bfalse	.LL983
         1E:D0E8  B0 03 4C 88			bcc	.LL983
         1E:D0EC  D3          
19415                        	
19416                        		.dbg	line,	"include\routines_SHOP.c", 188; {
19417                        	
19418                        		.dbg	line,	"include\routines_SHOP.c", 189; weapon_level = 4;
19419                        		__st.umiq	4, _weapon_level
         1E:D0ED  A9 04      			lda.l	#4
         1E:D0EF  8D 2B 23   			sta	_weapon_level
19420                        	
19421                        		.dbg	line,	"include\routines_SHOP.c", 190; load_vram( WEAPON_ICON_VRAM_ADR, tileset_WEAPON_8, SIZEOF(tileset_WEAPON_8) >> 1 );
19422                        		__st.wmiq	4256, _di
         1E:D0F2  A9 A0      			lda.l	#4256
         1E:D0F4  85 F0      			sta.l	_di
         1E:D0F6  A9 10      			lda.h	#4256
         1E:D0F8  85 F1      			sta.h	_di
19423                        		__farptr	_tileset_WEAPON_8, _bp_bank, _bp
         1E:D0FA  A9 E0      			lda.l	#$6000 + ($1FFF & (_tileset_WEAPON_8))
         1E:D0FC  85 EC      			sta.l	_bp
         1E:D0FE  A9 75      			lda.h	#$6000 + ($1FFF & (_tileset_WEAPON_8))
         1E:D100  85 ED      			sta.h	_bp
         1E:D102  A9 07      			lda	#bank(_tileset_WEAPON_8)
         1E:D104  85 02      			sta	_bp_bank
19424                        		__ld.wi		___sizeof__tileset_WEAPON_8
         1E:D106  A9 80      			lda.l	#___sizeof__tileset_WEAPON_8
         1E:D108  A0 00      			ldy.h	#___sizeof__tileset_WEAPON_8
19425                        		__lsr.wi	1
         1E:D10A  42         			say
         1E:D10B  4A         			lsr	a
         1E:D10C  42         			say
         1E:D10D  6A         			ror	a
19426                        		__st.wmq	_ax
         1E:D10E  85 F8      			sta.l	_ax
         1E:D110  84 F9      			sty.h	_ax
19427                        		 _load_vram.3
         1E:D112  82         			clx				; Offset to PCE VDC.
         1E:D113  20 EB FE   			call	load_vram_x
19428                        	
19429                        		.dbg	line,	"include\routines_SHOP.c", 192; zenny_amount -= shop_prices[3];
19430                        		__ld.wm		_shop_prices + 6
         1E:D116  AD 6B 26   			lda.l	_shop_prices + 6
         1E:D119  AC 6C 26   			ldy.h	_shop_prices + 6
19431                        		__isub_st.wmq	_zenny_amount
         1E:D11C  38         			sec
         1E:D11D  49 FF      			eor	#$FF
         1E:D11F  6D 61 26   			adc.l	_zenny_amount
         1E:D122  8D 61 26   			sta.l	_zenny_amount
         1E:D125  98         			tya
         1E:D126  49 FF      			eor	#$FF
         1E:D128  6D 62 26   			adc.h	_zenny_amount
         1E:D12B  8D 62 26   			sta.h	_zenny_amount
19432                        	
19433                        		.dbg	line,	"include\routines_SHOP.c", 193; display_ZENNY();
19434                        		__call		_display_ZENNY
         1E:D12E  20 3B FF   			call	_display_ZENNY
19435                        	
19436                        		.dbg	line,	"include\routines_SHOP.c", 194; }
19437                        	
19438                        		.dbg	line,	"include\routines_SHOP.c", 195; }
19439    1E:D131             	.LL983	.alias		.LL971
19440                        	
19441                        		.dbg	line,	"include\routines_SHOP.c", 197; break;  
19442    1E:D131             	.LL982	.alias		.LL971
19443                        		__bra		.LL971
         1E:D131  4C 88 D3   			bra	.LL971
19444                        	
19445                        		.dbg	line,	"include\routines_SHOP.c", 200; // KEY //
19446                        	
19447                        		.dbg	line,	"include\routines_SHOP.c", 201; case 4:
19448    1E:D134             	.LL984:
19449                        		__case		4
19450                        	
19451                        		.dbg	line,	"include\routines_SHOP.c", 202; if(zenny_amount >= shop_prices[4])
19452                        		__ld.wm		_zenny_amount
         1E:D134  AD 61 26   			lda.l	_zenny_amount
         1E:D137  AC 62 26   			ldy.h	_zenny_amount
19453                        		__sge_w.wm	_shop_prices + 8
         1E:D13A  CD 6D 26   			cmp.l	_shop_prices + 8		; Subtract memory from Y:A.
         1E:D13D  98         			tya
         1E:D13E  ED 6E 26   			sbc.h	_shop_prices + 8
         1E:D141  50 02      			bvc	!+
         1E:D143  49 80      			eor	#$80		; +ve if Y:A >= memory (signed).
         1E:D145  49 80      	!:		eor	#$80
         1E:D147  0A         			asl	a
19454                        		__bfalse	.LL985
         1E:D148  B0 03 4C 88			bcc	.LL985
         1E:D14C  D3          
19455                        	
19456                        		.dbg	line,	"include\routines_SHOP.c", 203; {
19457                        	
19458                        		.dbg	line,	"include\routines_SHOP.c", 204; key_amount += 1;
19459                        		__add_st.umiq	1, _key_amount
         1E:D14D  EE 31 23   			inc	_key_amount
19460                        	
19461                        		.dbg	line,	"include\routines_SHOP.c", 206; zenny_amount -= shop_prices[4];
19462                        		__ld.wm		_shop_prices + 8
         1E:D150  AD 6D 26   			lda.l	_shop_prices + 8
         1E:D153  AC 6E 26   			ldy.h	_shop_prices + 8
19463                        		__isub_st.wmq	_zenny_amount
         1E:D156  38         			sec
         1E:D157  49 FF      			eor	#$FF
         1E:D159  6D 61 26   			adc.l	_zenny_amount
         1E:D15C  8D 61 26   			sta.l	_zenny_amount
         1E:D15F  98         			tya
         1E:D160  49 FF      			eor	#$FF
         1E:D162  6D 62 26   			adc.h	_zenny_amount
         1E:D165  8D 62 26   			sta.h	_zenny_amount
19464                        	
19465                        		.dbg	line,	"include\routines_SHOP.c", 207; display_KEY();
19466                        		__call		_display_KEY
         1E:D168  20 45 FF   			call	_display_KEY
19467                        	
19468                        		.dbg	line,	"include\routines_SHOP.c", 208; }
19469                        	
19470                        		.dbg	line,	"include\routines_SHOP.c", 210; break;   
19471    1E:D16B             	.LL985	.alias		.LL971
19472                        		__bra		.LL971
         1E:D16B  4C 88 D3   			bra	.LL971
19473                        	
19474                        		.dbg	line,	"include\routines_SHOP.c", 213; // ARMOR 1 //
19475                        	
19476                        		.dbg	line,	"include\routines_SHOP.c", 214; case 5:
19477    1E:D16E             	.LL986:
19478                        		__case		5
19479                        	
19480                        		.dbg	line,	"include\routines_SHOP.c", 215; if(zenny_amount >= shop_prices[5])
19481                        		__ld.wm		_zenny_amount
         1E:D16E  AD 61 26   			lda.l	_zenny_amount
         1E:D171  AC 62 26   			ldy.h	_zenny_amount
19482                        		__sge_w.wm	_shop_prices + 10
         1E:D174  CD 6F 26   			cmp.l	_shop_prices + 10		; Subtract memory from Y:A.
         1E:D177  98         			tya
         1E:D178  ED 70 26   			sbc.h	_shop_prices + 10
         1E:D17B  50 02      			bvc	!+
         1E:D17D  49 80      			eor	#$80		; +ve if Y:A >= memory (signed).
         1E:D17F  49 80      	!:		eor	#$80
         1E:D181  0A         			asl	a
19483                        		__bfalse	.LL987
         1E:D182  B0 03 4C 88			bcc	.LL987
         1E:D186  D3          
19484                        	
19485                        		.dbg	line,	"include\routines_SHOP.c", 216; {
19486                        	
19487                        		.dbg	line,	"include\routines_SHOP.c", 217; if(armor_level < 1)
19488                        		__ld.umq	_armor_level
         1E:D187  AD 2A 23   			lda	_armor_level
19489                        		__ult_b.uiq	1
         1E:D18A  C9 01      			cmp	#1		; Subtract integer from A.
         1E:D18C  6A         			ror	a		; CC if A < integer.
         1E:D18D  49 80      			eor	#$80
         1E:D18F  2A         			rol	a
19490                        		__bfalse	.LL988
         1E:D190  B0 03 4C 88			bcc	.LL988
         1E:D194  D3          
19491                        	
19492                        		.dbg	line,	"include\routines_SHOP.c", 218; {
19493                        	
19494                        		.dbg	line,	"include\routines_SHOP.c", 219; armor_level = 1;
19495                        		__st.umiq	1, _armor_level
         1E:D195  A9 01      			lda.l	#1
         1E:D197  8D 2A 23   			sta	_armor_level
19496                        	
19497                        		.dbg	line,	"include\routines_SHOP.c", 220; load_vram( ARMOR_VRAM_ADR, tileset_ARMOR_1, SIZEOF(tileset_ARMOR_1) >> 1 );
19498                        		__st.wmiq	4320, _di
         1E:D19A  A9 E0      			lda.l	#4320
         1E:D19C  85 F0      			sta.l	_di
         1E:D19E  A9 10      			lda.h	#4320
         1E:D1A0  85 F1      			sta.h	_di
19499                        		__farptr	_tileset_ARMOR_1, _bp_bank, _bp
         1E:D1A2  A9 E0      			lda.l	#$6000 + ($1FFF & (_tileset_ARMOR_1))
         1E:D1A4  85 EC      			sta.l	_bp
         1E:D1A6  A9 71      			lda.h	#$6000 + ($1FFF & (_tileset_ARMOR_1))
         1E:D1A8  85 ED      			sta.h	_bp
         1E:D1AA  A9 07      			lda	#bank(_tileset_ARMOR_1)
         1E:D1AC  85 02      			sta	_bp_bank
19500                        		__ld.wi		___sizeof__tileset_ARMOR_1
         1E:D1AE  A9 80      			lda.l	#___sizeof__tileset_ARMOR_1
         1E:D1B0  A0 00      			ldy.h	#___sizeof__tileset_ARMOR_1
19501                        		__lsr.wi	1
         1E:D1B2  42         			say
         1E:D1B3  4A         			lsr	a
         1E:D1B4  42         			say
         1E:D1B5  6A         			ror	a
19502                        		__st.wmq	_ax
         1E:D1B6  85 F8      			sta.l	_ax
         1E:D1B8  84 F9      			sty.h	_ax
19503                        		 _load_vram.3
         1E:D1BA  82         			clx				; Offset to PCE VDC.
         1E:D1BB  20 EB FE   			call	load_vram_x
19504                        	
19505                        		.dbg	line,	"include\routines_SHOP.c", 222; zenny_amount -= shop_prices[5];
19506                        		__ld.wm		_shop_prices + 10
         1E:D1BE  AD 6F 26   			lda.l	_shop_prices + 10
         1E:D1C1  AC 70 26   			ldy.h	_shop_prices + 10
19507                        		__isub_st.wmq	_zenny_amount
         1E:D1C4  38         			sec
         1E:D1C5  49 FF      			eor	#$FF
         1E:D1C7  6D 61 26   			adc.l	_zenny_amount
         1E:D1CA  8D 61 26   			sta.l	_zenny_amount
         1E:D1CD  98         			tya
         1E:D1CE  49 FF      			eor	#$FF
         1E:D1D0  6D 62 26   			adc.h	_zenny_amount
         1E:D1D3  8D 62 26   			sta.h	_zenny_amount
19508                        	
19509                        		.dbg	line,	"include\routines_SHOP.c", 223; display_ZENNY();
19510                        		__call		_display_ZENNY
         1E:D1D6  20 3B FF   			call	_display_ZENNY
19511                        	
19512                        		.dbg	line,	"include\routines_SHOP.c", 224; }
19513                        	
19514                        		.dbg	line,	"include\routines_SHOP.c", 225; }
19515    1E:D1D9             	.LL988	.alias		.LL971
19516                        	
19517                        		.dbg	line,	"include\routines_SHOP.c", 227; break;   
19518    1E:D1D9             	.LL987	.alias		.LL971
19519                        		__bra		.LL971
         1E:D1D9  4C 88 D3   			bra	.LL971
19520                        	
19521                        		.dbg	line,	"include\routines_SHOP.c", 230; // ARMOR 2 //
19522                        	
19523                        		.dbg	line,	"include\routines_SHOP.c", 231; case 6:
19524    1E:D1DC             	.LL989:
19525                        		__case		6
19526                        	
19527                        		.dbg	line,	"include\routines_SHOP.c", 232; if(zenny_amount >= shop_prices[6])
19528                        		__ld.wm		_zenny_amount
         1E:D1DC  AD 61 26   			lda.l	_zenny_amount
         1E:D1DF  AC 62 26   			ldy.h	_zenny_amount
19529                        		__sge_w.wm	_shop_prices + 12
         1E:D1E2  CD 71 26   			cmp.l	_shop_prices + 12		; Subtract memory from Y:A.
         1E:D1E5  98         			tya
         1E:D1E6  ED 72 26   			sbc.h	_shop_prices + 12
         1E:D1E9  50 02      			bvc	!+
         1E:D1EB  49 80      			eor	#$80		; +ve if Y:A >= memory (signed).
         1E:D1ED  49 80      	!:		eor	#$80
         1E:D1EF  0A         			asl	a
19530                        		__bfalse	.LL990
         1E:D1F0  B0 03 4C 88			bcc	.LL990
         1E:D1F4  D3          
19531                        	
19532                        		.dbg	line,	"include\routines_SHOP.c", 233; {
19533                        	
19534                        		.dbg	line,	"include\routines_SHOP.c", 234; if(armor_level < 4)
19535                        		__ld.umq	_armor_level
         1E:D1F5  AD 2A 23   			lda	_armor_level
19536                        		__ult_b.uiq	4
         1E:D1F8  C9 04      			cmp	#4		; Subtract integer from A.
         1E:D1FA  6A         			ror	a		; CC if A < integer.
         1E:D1FB  49 80      			eor	#$80
         1E:D1FD  2A         			rol	a
19537                        		__bfalse	.LL991
         1E:D1FE  B0 03 4C 88			bcc	.LL991
         1E:D202  D3          
19538                        	
19539                        		.dbg	line,	"include\routines_SHOP.c", 235; {
19540                        	
19541                        		.dbg	line,	"include\routines_SHOP.c", 236; armor_level = 4;
19542                        		__st.umiq	4, _armor_level
         1E:D203  A9 04      			lda.l	#4
         1E:D205  8D 2A 23   			sta	_armor_level
19543                        	
19544                        		.dbg	line,	"include\routines_SHOP.c", 237; load_vram( ARMOR_VRAM_ADR, tileset_ARMOR_2, SIZEOF(tileset_ARMOR_2) >> 1 );
19545                        		__st.wmiq	4320, _di
         1E:D208  A9 E0      			lda.l	#4320
         1E:D20A  85 F0      			sta.l	_di
         1E:D20C  A9 10      			lda.h	#4320
         1E:D20E  85 F1      			sta.h	_di
19546                        		__farptr	_tileset_ARMOR_2, _bp_bank, _bp
         1E:D210  A9 60      			lda.l	#$6000 + ($1FFF & (_tileset_ARMOR_2))
         1E:D212  85 EC      			sta.l	_bp
         1E:D214  A9 72      			lda.h	#$6000 + ($1FFF & (_tileset_ARMOR_2))
         1E:D216  85 ED      			sta.h	_bp
         1E:D218  A9 07      			lda	#bank(_tileset_ARMOR_2)
         1E:D21A  85 02      			sta	_bp_bank
19547                        		__ld.wi		___sizeof__tileset_ARMOR_2
         1E:D21C  A9 80      			lda.l	#___sizeof__tileset_ARMOR_2
         1E:D21E  A0 00      			ldy.h	#___sizeof__tileset_ARMOR_2
19548                        		__lsr.wi	1
         1E:D220  42         			say
         1E:D221  4A         			lsr	a
         1E:D222  42         			say
         1E:D223  6A         			ror	a
19549                        		__st.wmq	_ax
         1E:D224  85 F8      			sta.l	_ax
         1E:D226  84 F9      			sty.h	_ax
19550                        		 _load_vram.3
         1E:D228  82         			clx				; Offset to PCE VDC.
         1E:D229  20 EB FE   			call	load_vram_x
19551                        	
19552                        		.dbg	line,	"include\routines_SHOP.c", 239; zenny_amount -= shop_prices[6];
19553                        		__ld.wm		_shop_prices + 12
         1E:D22C  AD 71 26   			lda.l	_shop_prices + 12
         1E:D22F  AC 72 26   			ldy.h	_shop_prices + 12
19554                        		__isub_st.wmq	_zenny_amount
         1E:D232  38         			sec
         1E:D233  49 FF      			eor	#$FF
         1E:D235  6D 61 26   			adc.l	_zenny_amount
         1E:D238  8D 61 26   			sta.l	_zenny_amount
         1E:D23B  98         			tya
         1E:D23C  49 FF      			eor	#$FF
         1E:D23E  6D 62 26   			adc.h	_zenny_amount
         1E:D241  8D 62 26   			sta.h	_zenny_amount
19555                        	
19556                        		.dbg	line,	"include\routines_SHOP.c", 240; display_ZENNY();
19557                        		__call		_display_ZENNY
         1E:D244  20 3B FF   			call	_display_ZENNY
19558                        	
19559                        		.dbg	line,	"include\routines_SHOP.c", 241; }
19560                        	
19561                        		.dbg	line,	"include\routines_SHOP.c", 242; }
19562    1E:D247             	.LL991	.alias		.LL971
19563                        	
19564                        		.dbg	line,	"include\routines_SHOP.c", 244; break;    
19565    1E:D247             	.LL990	.alias		.LL971
19566                        		__bra		.LL971
         1E:D247  4C 88 D3   			bra	.LL971
19567                        	
19568                        		.dbg	line,	"include\routines_SHOP.c", 247; // ARMOR 4 //
19569                        	
19570                        		.dbg	line,	"include\routines_SHOP.c", 248; case 7:
19571    1E:D24A             	.LL992:
19572                        		__case		7
19573                        	
19574                        		.dbg	line,	"include\routines_SHOP.c", 249; if(zenny_amount >= shop_prices[7])
19575                        		__ld.wm		_zenny_amount
         1E:D24A  AD 61 26   			lda.l	_zenny_amount
         1E:D24D  AC 62 26   			ldy.h	_zenny_amount
19576                        		__sge_w.wm	_shop_prices + 14
         1E:D250  CD 73 26   			cmp.l	_shop_prices + 14		; Subtract memory from Y:A.
         1E:D253  98         			tya
         1E:D254  ED 74 26   			sbc.h	_shop_prices + 14
         1E:D257  50 02      			bvc	!+
         1E:D259  49 80      			eor	#$80		; +ve if Y:A >= memory (signed).
         1E:D25B  49 80      	!:		eor	#$80
         1E:D25D  0A         			asl	a
19577                        		__bfalse	.LL993
         1E:D25E  B0 03 4C 88			bcc	.LL993
         1E:D262  D3          
19578                        	
19579                        		.dbg	line,	"include\routines_SHOP.c", 250; {
19580                        	
19581                        		.dbg	line,	"include\routines_SHOP.c", 251; if(armor_level < 5)
19582                        		__ld.umq	_armor_level
         1E:D263  AD 2A 23   			lda	_armor_level
19583                        		__ult_b.uiq	5
         1E:D266  C9 05      			cmp	#5		; Subtract integer from A.
         1E:D268  6A         			ror	a		; CC if A < integer.
         1E:D269  49 80      			eor	#$80
         1E:D26B  2A         			rol	a
19584                        		__bfalse	.LL994
         1E:D26C  B0 03 4C 88			bcc	.LL994
         1E:D270  D3          
19585                        	
19586                        		.dbg	line,	"include\routines_SHOP.c", 252; {
19587                        	
19588                        		.dbg	line,	"include\routines_SHOP.c", 253; armor_level = 5;
19589                        		__st.umiq	5, _armor_level
         1E:D271  A9 05      			lda.l	#5
         1E:D273  8D 2A 23   			sta	_armor_level
19590                        	
19591                        		.dbg	line,	"include\routines_SHOP.c", 254; load_vram( ARMOR_VRAM_ADR, tileset_ARMOR_4, SIZEOF(tileset_ARMOR_4) >> 1 );
19592                        		__st.wmiq	4320, _di
         1E:D276  A9 E0      			lda.l	#4320
         1E:D278  85 F0      			sta.l	_di
         1E:D27A  A9 10      			lda.h	#4320
         1E:D27C  85 F1      			sta.h	_di
19593                        		__farptr	_tileset_ARMOR_4, _bp_bank, _bp
         1E:D27E  A9 E0      			lda.l	#$6000 + ($1FFF & (_tileset_ARMOR_4))
         1E:D280  85 EC      			sta.l	_bp
         1E:D282  A9 72      			lda.h	#$6000 + ($1FFF & (_tileset_ARMOR_4))
         1E:D284  85 ED      			sta.h	_bp
         1E:D286  A9 07      			lda	#bank(_tileset_ARMOR_4)
         1E:D288  85 02      			sta	_bp_bank
19594                        		__ld.wi		___sizeof__tileset_ARMOR_4
         1E:D28A  A9 80      			lda.l	#___sizeof__tileset_ARMOR_4
         1E:D28C  A0 00      			ldy.h	#___sizeof__tileset_ARMOR_4
19595                        		__lsr.wi	1
         1E:D28E  42         			say
         1E:D28F  4A         			lsr	a
         1E:D290  42         			say
         1E:D291  6A         			ror	a
19596                        		__st.wmq	_ax
         1E:D292  85 F8      			sta.l	_ax
         1E:D294  84 F9      			sty.h	_ax
19597                        		 _load_vram.3
         1E:D296  82         			clx				; Offset to PCE VDC.
         1E:D297  20 EB FE   			call	load_vram_x
19598                        	
19599                        		.dbg	line,	"include\routines_SHOP.c", 256; zenny_amount -= shop_prices[7];
19600                        		__ld.wm		_shop_prices + 14
         1E:D29A  AD 73 26   			lda.l	_shop_prices + 14
         1E:D29D  AC 74 26   			ldy.h	_shop_prices + 14
19601                        		__isub_st.wmq	_zenny_amount
         1E:D2A0  38         			sec
         1E:D2A1  49 FF      			eor	#$FF
         1E:D2A3  6D 61 26   			adc.l	_zenny_amount
         1E:D2A6  8D 61 26   			sta.l	_zenny_amount
         1E:D2A9  98         			tya
         1E:D2AA  49 FF      			eor	#$FF
         1E:D2AC  6D 62 26   			adc.h	_zenny_amount
         1E:D2AF  8D 62 26   			sta.h	_zenny_amount
19602                        	
19603                        		.dbg	line,	"include\routines_SHOP.c", 257; display_ZENNY();
19604                        		__call		_display_ZENNY
         1E:D2B2  20 3B FF   			call	_display_ZENNY
19605                        	
19606                        		.dbg	line,	"include\routines_SHOP.c", 258; }
19607                        	
19608                        		.dbg	line,	"include\routines_SHOP.c", 259; }
19609    1E:D2B5             	.LL994	.alias		.LL971
19610                        	
19611                        		.dbg	line,	"include\routines_SHOP.c", 261; break;   
19612    1E:D2B5             	.LL993	.alias		.LL971
19613                        		__bra		.LL971
         1E:D2B5  4C 88 D3   			bra	.LL971
19614                        	
19615                        		.dbg	line,	"include\routines_SHOP.c", 264; // ARMOR 8 //
19616                        	
19617                        		.dbg	line,	"include\routines_SHOP.c", 265; case 8:
19618    1E:D2B8             	.LL995:
19619                        		__case		8
19620                        	
19621                        		.dbg	line,	"include\routines_SHOP.c", 266; if(zenny_amount >= shop_prices[8])
19622                        		__ld.wm		_zenny_amount
         1E:D2B8  AD 61 26   			lda.l	_zenny_amount
         1E:D2BB  AC 62 26   			ldy.h	_zenny_amount
19623                        		__sge_w.wm	_shop_prices + 16
         1E:D2BE  CD 75 26   			cmp.l	_shop_prices + 16		; Subtract memory from Y:A.
         1E:D2C1  98         			tya
         1E:D2C2  ED 76 26   			sbc.h	_shop_prices + 16
         1E:D2C5  50 02      			bvc	!+
         1E:D2C7  49 80      			eor	#$80		; +ve if Y:A >= memory (signed).
         1E:D2C9  49 80      	!:		eor	#$80
         1E:D2CB  0A         			asl	a
19624                        		__bfalse	.LL996
         1E:D2CC  B0 03 4C 88			bcc	.LL996
         1E:D2D0  D3          
19625                        	
19626                        		.dbg	line,	"include\routines_SHOP.c", 267; {
19627                        	
19628                        		.dbg	line,	"include\routines_SHOP.c", 268; if(armor_level < 8)
19629                        		__ld.umq	_armor_level
         1E:D2D1  AD 2A 23   			lda	_armor_level
19630                        		__ult_b.uiq	8
         1E:D2D4  C9 08      			cmp	#8		; Subtract integer from A.
         1E:D2D6  6A         			ror	a		; CC if A < integer.
         1E:D2D7  49 80      			eor	#$80
         1E:D2D9  2A         			rol	a
19631                        		__bfalse	.LL997
         1E:D2DA  B0 03 4C 88			bcc	.LL997
         1E:D2DE  D3          
19632                        	
19633                        		.dbg	line,	"include\routines_SHOP.c", 269; {
19634                        	
19635                        		.dbg	line,	"include\routines_SHOP.c", 270; armor_level = 8;
19636                        		__st.umiq	8, _armor_level
         1E:D2DF  A9 08      			lda.l	#8
         1E:D2E1  8D 2A 23   			sta	_armor_level
19637                        	
19638                        		.dbg	line,	"include\routines_SHOP.c", 271; load_vram( ARMOR_VRAM_ADR, tileset_ARMOR_8, SIZEOF(tileset_ARMOR_8) >> 1 );
19639                        		__st.wmiq	4320, _di
         1E:D2E4  A9 E0      			lda.l	#4320
         1E:D2E6  85 F0      			sta.l	_di
         1E:D2E8  A9 10      			lda.h	#4320
         1E:D2EA  85 F1      			sta.h	_di
19640                        		__farptr	_tileset_ARMOR_8, _bp_bank, _bp
         1E:D2EC  A9 60      			lda.l	#$6000 + ($1FFF & (_tileset_ARMOR_8))
         1E:D2EE  85 EC      			sta.l	_bp
         1E:D2F0  A9 73      			lda.h	#$6000 + ($1FFF & (_tileset_ARMOR_8))
         1E:D2F2  85 ED      			sta.h	_bp
         1E:D2F4  A9 07      			lda	#bank(_tileset_ARMOR_8)
         1E:D2F6  85 02      			sta	_bp_bank
19641                        		__ld.wi		___sizeof__tileset_ARMOR_8
         1E:D2F8  A9 80      			lda.l	#___sizeof__tileset_ARMOR_8
         1E:D2FA  A0 00      			ldy.h	#___sizeof__tileset_ARMOR_8
19642                        		__lsr.wi	1
         1E:D2FC  42         			say
         1E:D2FD  4A         			lsr	a
         1E:D2FE  42         			say
         1E:D2FF  6A         			ror	a
19643                        		__st.wmq	_ax
         1E:D300  85 F8      			sta.l	_ax
         1E:D302  84 F9      			sty.h	_ax
19644                        		 _load_vram.3
         1E:D304  82         			clx				; Offset to PCE VDC.
         1E:D305  20 EB FE   			call	load_vram_x
19645                        	
19646                        		.dbg	line,	"include\routines_SHOP.c", 273; zenny_amount -= shop_prices[8];
19647                        		__ld.wm		_shop_prices + 16
         1E:D308  AD 75 26   			lda.l	_shop_prices + 16
         1E:D30B  AC 76 26   			ldy.h	_shop_prices + 16
19648                        		__isub_st.wmq	_zenny_amount
         1E:D30E  38         			sec
         1E:D30F  49 FF      			eor	#$FF
         1E:D311  6D 61 26   			adc.l	_zenny_amount
         1E:D314  8D 61 26   			sta.l	_zenny_amount
         1E:D317  98         			tya
         1E:D318  49 FF      			eor	#$FF
         1E:D31A  6D 62 26   			adc.h	_zenny_amount
         1E:D31D  8D 62 26   			sta.h	_zenny_amount
19649                        	
19650                        		.dbg	line,	"include\routines_SHOP.c", 274; display_ZENNY();
19651                        		__call		_display_ZENNY
         1E:D320  20 3B FF   			call	_display_ZENNY
19652                        	
19653                        		.dbg	line,	"include\routines_SHOP.c", 275; }
19654                        	
19655                        		.dbg	line,	"include\routines_SHOP.c", 276; }
19656    1E:D323             	.LL997	.alias		.LL971
19657                        	
19658                        		.dbg	line,	"include\routines_SHOP.c", 278; break;   
19659    1E:D323             	.LL996	.alias		.LL971
19660                        		__bra		.LL971
         1E:D323  80 63      			bra	.LL971
19661                        	
19662                        		.dbg	line,	"include\routines_SHOP.c", 281; // POTION //
19663                        	
19664                        		.dbg	line,	"include\routines_SHOP.c", 282; case 9:
19665    1E:D325             	.LL998:
19666                        		__case		9
19667                        	
19668                        		.dbg	line,	"include\routines_SHOP.c", 283; if(zenny_amount >= shop_prices[9])
19669                        		__ld.wm		_zenny_amount
         1E:D325  AD 61 26   			lda.l	_zenny_amount
         1E:D328  AC 62 26   			ldy.h	_zenny_amount
19670                        		__sge_w.wm	_shop_prices + 18
         1E:D32B  CD 77 26   			cmp.l	_shop_prices + 18		; Subtract memory from Y:A.
         1E:D32E  98         			tya
         1E:D32F  ED 78 26   			sbc.h	_shop_prices + 18
         1E:D332  50 02      			bvc	!+
         1E:D334  49 80      			eor	#$80		; +ve if Y:A >= memory (signed).
         1E:D336  49 80      	!:		eor	#$80
         1E:D338  0A         			asl	a
19671                        		__bfalse	.LL999
         1E:D339  90 4D      			bcc	.LL999
19672                        	
19673                        		.dbg	line,	"include\routines_SHOP.c", 284; {
19674                        	
19675                        		.dbg	line,	"include\routines_SHOP.c", 285; potion_amount += 1;
19676                        		__add_st.umiq	1, _potion_amount
         1E:D33B  EE 32 23   			inc	_potion_amount
19677                        	
19678                        		.dbg	line,	"include\routines_SHOP.c", 287; zenny_amount -= shop_prices[9];
19679                        		__ld.wm		_shop_prices + 18
         1E:D33E  AD 77 26   			lda.l	_shop_prices + 18
         1E:D341  AC 78 26   			ldy.h	_shop_prices + 18
19680                        		__isub_st.wmq	_zenny_amount
         1E:D344  38         			sec
         1E:D345  49 FF      			eor	#$FF
         1E:D347  6D 61 26   			adc.l	_zenny_amount
         1E:D34A  8D 61 26   			sta.l	_zenny_amount
         1E:D34D  98         			tya
         1E:D34E  49 FF      			eor	#$FF
         1E:D350  6D 62 26   			adc.h	_zenny_amount
         1E:D353  8D 62 26   			sta.h	_zenny_amount
19681                        	
19682                        		.dbg	line,	"include\routines_SHOP.c", 288; display_POTION();
19683                        		__call		_display_POTION
         1E:D356  20 E1 FE   			call	_display_POTION
19684                        	
19685                        		.dbg	line,	"include\routines_SHOP.c", 289; }
19686                        	
19687                        		.dbg	line,	"include\routines_SHOP.c", 291; break;   
19688    1E:D359             	.LL999	.alias		.LL971
19689                        		__bra		.LL971
         1E:D359  80 2D      			bra	.LL971
19690                        	
19691                        		.dbg	line,	"include\routines_SHOP.c", 294; // EXIT //
19692                        	
19693                        		.dbg	line,	"include\routines_SHOP.c", 295; case 10:
19694    1E:D35B             	.LL1000:
19695                        		__case		10
19696                        	
19697                        		.dbg	line,	"include\routines_SHOP.c", 296; shop_counter = 0;    
19698                        		__st.umiq	0, _shop_counter
         1E:D35B  9C FF 23   			stz	_shop_counter
19699                        	
19700                        		.dbg	line,	"include\routines_SHOP.c", 297; shop_phase = SHOP_PHASE_EXIT;
19701                        		__st.umiq	2, _shop_phase
         1E:D35E  A9 02      			lda.l	#2
         1E:D360  8D FE 23   			sta	_shop_phase
19702                        	
19703                        		.dbg	line,	"include\routines_SHOP.c", 299; break;                  
19704                        		__bra		.LL971
         1E:D363  80 23      			bra	.LL971
19705                        	
19706                        		.dbg	line,	"include\routines_SHOP.c", 300; }
19707    1E:D365             	.LL970:
19708                        		__switch_r.ur	0, 10
         1E:D365  C9 0B      			cmp	#(10 - 0) + 1
         1E:D367  90 02      			bcc	!found+
         1E:D369  A9 0B      	!default:	lda	#(10 - 0) + 1
         1E:D36B  0A         	!found:		asl	a
         1E:D36C  AA         			tax
         1E:D36D  7C 70 D3   			jmp	[!table+, x]
19709                        	
19710    1E:D370  7C CF      	!table:		dw	.LL972, .LL975, .LL978, .LL981, .LL984, .LL986, .LL989, .LL992
         1E:D372  EA CF       
         1E:D374  58 D0       
         1E:D376  C6 D0       
         1E:D378  34 D1       
         1E:D37A  6E D1       
         1E:D37C  DC D1       
         1E:D37E  4A D2       
19711    1E:D380  B8 D2      			dw	.LL995, .LL998, .LL1000
         1E:D382  25 D3       
         1E:D384  5B D3       
19712    1E:D386  88 D3      			dw	.LL971
19713    1E:D388             	.LL971:
19714                        	
19715                        		.dbg	line,	"include\routines_SHOP.c", 301; }
19716                        	
19717                        		.dbg	line,	"include\routines_SHOP.c", 302; }
19718    1E:D388             	.LL969:
19719    1E:D388             	.LL968:
19720    1E:D388             	.LL965:
19721    1E:D388             	.LL961:
19722    1E:D388             	.LL958:
19723    1E:D388             	.LL953:
19724                        		__return	0
         1E:D388  4C EF FF   			jmp	leave_proc
19725                        		.dbg	clear
19726                        		.endp
19727               2311     		.bss
19728    F8:2311             			ds	1
19729    F8:2312             	__joypad_BUTTONS_SHOP_end:
19730               E31D     		.code
19731                        		.pceas
19732                        	
19733                        		.dbg	line,	"Black_Tiger.c", 28; #include "include/routines_TITLE.c"
19734                        		.dbg	line,	"include\routines_TITLE.c", 1; #include "huc.h"
19735                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 1; #ifndef _hucc_legacy_h
19736                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 2; #define _hucc_legacy_h
19737                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 4; /****************************************************************************
19738                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 5; ; ***************************************************************************
19739                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 6; ;
19740                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 7; ; huc.h
19741                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 8; ;
19742                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 9; ; HuCC wrapper file to include a default set of HuC-compatible functions.
19743                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 10; ;
19744                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 11; ; Copyright John Brandwood 2024.
19745                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 12; ;
19746                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 13; ; Distributed under the Boost Software License, Version 1.0.
19747                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
19748                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
19749                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 16; ;
19750                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 17; ; ***************************************************************************
19751                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 18; ; ***************************************************************************
19752                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 19; ;
19753                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 20; ; When the HuCC compiler is invoked with the "--legacy" option to compile old
19754                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 21; ; projects, then this "huc.h" file is automatically included.
19755                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 22; ;
19756                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 23; ; This file includes a set of the individual HuCC headers which correspond to
19757                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 24; ; HuC's built-in functions and MagicKit library.
19758                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 25; ;
19759                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 26; ; New HuCC projects should, preferably, include the specific headers that are
19760                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 27; ; needed, which will then allow them to replace parts of the standard library
19761                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 28; ; with newer functions, or they can just manually include this "huc.h" file.
19762                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 29; ;
19763                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 30; ; ***************************************************************************
19764                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 31; ; **************************************************************************/
19765                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 33; #include "hucc-systemcard.h"
19766                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 34; #include "hucc-baselib.h"
19767                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 35; #include "hucc-gfx.h"
19768                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 36; #include "hucc-old-scroll.h"
19769                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 37; #include "hucc-old-spr.h"
19770                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 38; #include "hucc-old-map.h"
19771                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 39; #include "hucc-old-line.h"
19772                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 41; #include <stdlib.h>
19773                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 42; #include <string.h>
19774                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 44; #endif // _hucc_legacy_h
19775                        		.dbg	line,	"include\routines_TITLE.c", 2; #include "hucc-scroll.h"
19776                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 1; #ifndef _hucc_scroll_h
19777                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 2; #define _hucc_scroll_h
19778                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 4; /****************************************************************************
19779                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 5; ; ***************************************************************************
19780                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 6; ;
19781                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 7; ; hucc-scroll.h
19782                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 8; ;
19783                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 9; ; Routines for a fast split-screen scrolling system.
19784                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 10; ;
19785                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 11; ; Copyright John Brandwood 2024.
19786                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 12; ;
19787                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 13; ; Distributed under the Boost Software License, Version 1.0.
19788                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
19789                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
19790                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 16; ;
19791                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 17; ; ***************************************************************************
19792                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 18; ; ***************************************************************************
19793                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 19; ;
19794                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 20; ; The maximum number of splits for each screen layer is set in your project's
19795                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 21; ; "hucc-config.inc" file, with the library having a limit of 128-per-layer.
19796                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 22; ;
19797                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 23; ; Your first active split must be defined to start at screen line 0, and then
19798                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 24; ; the rest of the active splits must be in increasing line order to match the
19799                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 25; ; way that the PC Engine displays the output image.
19800                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 26; ;
19801                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 27; ; You can have disabled splits interleaved with your active splits.
19802                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 28; ;
19803                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 29; ; Splits that are normally disabled can be used to create full screen effects
19804                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 30; ; such as bouncing the screen up and down by adding blank areas at the top or
19805                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 31; ; bottom of the screen, and then rapidly changing the height of those areas.
19806                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 32; ;
19807                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 33; ; ***************************************************************************
19808                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 34; ; **************************************************************************/
19809                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 36; // *************
19810                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 37; // VDC bits for display_flags ...
19811                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 38; // *************
19812                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 40; #ifndef BKG_OFF
19813                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 41; #define BKG_OFF 0x00
19814                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 42; #endif
19815                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 44; #ifndef SPR_OFF
19816                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 45; #define SPR_OFF 0x00
19817                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 46; #endif
19818                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 48; #ifndef BKG_ON
19819                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 49; #define BKG_ON 0x80
19820                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 50; #endif
19821                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 52; #ifndef SPR_ON
19822                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 53; #define SPR_ON 0x40
19823                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 54; #endif
19824                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 56; // *************
19825                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 57; // Functions in hucc-scroll.asm ...
19826                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 58; // *************
19827                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 60; #ifdef __HUCC__
19828                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 62; #asmdef	HUCC_USES_NEW_SCROLL 1
19829                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 64; extern void __fastcall scroll_split( unsigned char index<_al>, unsigned char screen_line<_ah>, unsigned int bat_x<_bx>, unsigned int bat_y<_cx>, unsigned char display_flags<_dl> );
19830                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 65; extern void __fastcall sgx_scroll_split( unsigned char index<_al>, unsigned char screen_line<_ah>, unsigned int bat_x<_bx>, unsigned int bat_y<_cx>, unsigned char display_flags<_dl> );
19831                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 67; extern void __fastcall disable_split( unsigned char index<acc> );
19832                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 68; extern void __fastcall sgx_disable_split( unsigned char index<acc> );
19833                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 70; extern void __fastcall __macro disable_all_splits( void );
19834                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 71; extern void __fastcall __macro sgx_disable_all_splits( void );
19835                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 73; #asm
19836                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 74; .macro	_disable_all_splits
19837                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 75; ldy	#HUCC_PCE_SPLITS - 1
19838                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 76; !loop:		tya
19839                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 77; call	_disable_split.1
19840                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 78; dey
19841                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 79; bpl	!loop-
19842                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 80; .endm
19843                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 82; .macro	_sgx_disable_all_splits
19844                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 83; ldy	#HUCC_SGX_SPLITS - 1
19845                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 84; !loop:		tya
19846                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 85; call	_sgx_disable_split.1
19847                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 86; dey
19848                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 87; bpl	!loop-
19849                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 88; .endm
19850                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 89; #endasm
19851                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 91; #endif // __HUCC__
19852                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 93; #endif // _hucc_scroll_h
19853                        		.dbg	line,	"include\routines_TITLE.c", 3; #include "hucc-chrmap.h"
19854                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 1; #ifndef _hucc_chrmap_h
19855                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 2; #define _hucc_chrmap_h
19856                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 4; /****************************************************************************
19857                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 5; ; ***************************************************************************
19858                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 6; ;
19859                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 7; ; hucc-chrmap.h
19860                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 8; ;
19861                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 9; ; A simple map system based on 8x8 characters (aka "tiles") in BAT format.
19862                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 10; ;
19863                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 11; ; Copyright John Brandwood 2025.
19864                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 12; ;
19865                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 13; ; Distributed under the Boost Software License, Version 1.0.
19866                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
19867                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
19868                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 16; ;
19869                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 17; ; ***************************************************************************
19870                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 18; ; ***************************************************************************
19871                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 19; ;
19872                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 20; ; The maximum X and Y size for chrmaps is 256 characters (2048 pixels).
19873                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 21; ;
19874                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 22; ; The maximum total size for a chrmap is 16KBytes, which allows for maps up
19875                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 23; ; to 256x32 tiles (2048x256 pixels).
19876                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 24; ;
19877                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 25; ; ***************************************************************************
19878                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 26; ; **************************************************************************/
19879                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 28; // *************
19880                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 29; // This code extends the blkmap library ...
19881                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 30; // *************
19882                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 32; #include "hucc-blkmap.h"
19883                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 34; // *************
19884                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 35; // Functions in chrmap.asm ...
19885                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 36; // *************
19886                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 38; #ifdef __HUCC__
19887                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 40; #asmdef	HUCC_USES_CHRMAP 1
19888                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 42; extern void __fastcall __nop set_chrmap( unsigned char __far *chrmap<vdc_map_bank:vdc_map_addr>, unsigned char tiles_w<vdc_map_line_w> );
19889                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 44; extern void __fastcall draw_bat( void );
19890                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 45; extern void __fastcall scroll_bat( void );
19891                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 47; extern void __fastcall blit_bat( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
19892                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 49; #ifdef _SGX
19893                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 51; extern void __fastcall __nop sgx_set_chrmap( unsigned char __far *chrmap<sgx_map_bank:sgx_map_addr>, unsigned char tiles_w<sgx_map_line_w> );
19894                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 53; extern void __fastcall sgx_draw_bat( void );
19895                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 54; extern void __fastcall sgx_scroll_bat( void );
19896                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 56; extern void __fastcall sgx_blit_bat( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
19897                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 58; #endif
19898                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 60; #endif // __HUCC__
19899                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 62; #endif // _hucc_chrmap_h
19900                        		.dbg	line,	"include\routines_TITLE.c", 4; #include "hucc-blkmap.h"
19901                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 1; #ifndef _hucc_blkmap_h
19902                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 2; #define _hucc_blkmap_h
19903                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 4; /****************************************************************************
19904                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 5; ; ***************************************************************************
19905                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 6; ;
19906                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 7; ; hucc-blkmap.h
19907                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 8; ;
19908                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 9; ; A map system based on 16x16 meta-tiles (aka "blocks", aka CHR/BLK/MAP).
19909                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 10; ;
19910                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 11; ; Copyright John Brandwood 2025.
19911                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 12; ;
19912                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 13; ; Distributed under the Boost Software License, Version 1.0.
19913                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
19914                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
19915                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 16; ;
19916                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 17; ; ***************************************************************************
19917                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 18; ; ***************************************************************************
19918                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 19; ;
19919                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 20; ; The maximum X and Y size for blkmaps is 128 blocks (2048 pixels).
19920                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 21; ;
19921                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 22; ; The maximum total size for a blkmap is 16KBytes, which allows for maps up
19922                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 23; ; to 128x128 blocks (2048x2048 pixels).
19923                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 24; ;
19924                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 25; ; Huge multi-screen blkmaps are also supported (optionally).
19925                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 26; ;
19926                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 27; ; The maximum X and Y for multi-screen maps is 128 screens (32768 pixels).
19927                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 28; ;
19928                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 29; ; The maximum total size for a multi-screen map is 8KBytes, which allows for
19929                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 30; ; a total of 1024 screens.
19930                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 31; ;
19931                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 32; ; ***************************************************************************
19932                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 33; ; **************************************************************************/
19933                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 35; // *************
19934                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 36; // Functions in blkmap.asm ...
19935                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 37; // *************
19936                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 39; #ifdef __HUCC__
19937                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 41; #asmdef	HUCC_USES_BLKMAP 1
19938                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 43; // Current top-left of drawn map in pixels.
19939                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 44; extern unsigned int   vdc_map_pxl_x;
19940                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 45; extern unsigned int   vdc_map_pxl_y;
19941                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 47; // Width and height to draw/scroll in characters (not tiles).
19942                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 48; extern unsigned char  vdc_map_draw_w;
19943                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 49; extern unsigned char  vdc_map_draw_h;
19944                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 51; // Width of map (or multi-screen BAT) in tiles.
19945                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 52; extern unsigned char  vdc_map_line_w;
19946                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 54; // Width of map in screens (if multi-screen map).
19947                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 55; extern unsigned char  vdc_map_scrn_w;
19948                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 57; // Extra information returned by get_map_block() and sgx_get_map_block(),
19949                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 58; // which are the collision flags and the mask/overlay sprite for the BLK.
19950                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 59; extern unsigned char  map_blk_flag;
19951                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 60; extern unsigned char  map_blk_mask;
19952                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 62; extern unsigned char  vdc_scr_bank;
19953                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 63; extern unsigned char *vdc_scr_addr;
19954                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 65; extern unsigned char  vdc_map_bank;
19955                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 66; extern unsigned char *vdc_map_addr;
19956                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 68; extern unsigned char  vdc_blk_bank;
19957                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 69; extern unsigned char *vdc_blk_addr;
19958                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 71; extern unsigned char  vdc_tbl_bank;
19959                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 72; extern unsigned char *vdc_tbl_addr;
19960                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 74; extern void __fastcall set_blocks( unsigned char __far *blk_def<vdc_blk_bank:vdc_blk_addr>, unsigned char __far *flg_def<vdc_tbl_bank:vdc_tbl_addr>, unsigned char number_of_blocks<_al> );
19961                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 75; extern void __fastcall __macro set_blkmap( unsigned char __far *blk_map<vdc_map_bank:vdc_map_addr>, unsigned char blocks_w<vdc_map_line_w> );
19962                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 76; extern void __fastcall __macro set_multimap( unsigned char __far *multi_map<vdc_scr_bank:vdc_scr_addr>, unsigned char screens_w<vdc_map_scrn_w> );
19963                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 78; extern void __fastcall draw_map( void );
19964                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 79; extern void __fastcall scroll_map( void );
19965                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 81; extern void __fastcall blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
19966                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 83; extern unsigned char __fastcall get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
19967                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 85; #asm
19968                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 86; .macro	_set_blkmap.2
19969                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 87; stz	vdc_scr_bank
19970                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 88; .endm
19971                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 90; .macro	_set_multimap.2
19972                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 91; lda	vdc_bat_width
19973                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 92; lsr	a
19974                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 93; sta	vdc_map_line_w
19975                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 94; .endm
19976                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 96; .macro	SCREEN
19977                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 97; db	(((\1) & $1FFF) | $6000) >> 8, bank(\1)
19978                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 98; db	(((\2) & $1FFF) | $4000) >> 8, bank(\2)
19979                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 99; db	(((\3) & $1FFF) | $6000) >> 8, bank(\3)
19980                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 100; dw	(\4)
19981                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 101; .endm
19982                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 102; #endasm
19983                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 104; #ifdef _SGX
19984                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 106; // Current top-left of drawn map in pixels.
19985                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 107; extern unsigned int   sgx_map_pxl_x;
19986                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 108; extern unsigned int   sgx_map_pxl_y;
19987                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 110; // Width and height to draw/scroll in characters (not tiles).
19988                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 111; extern unsigned char  sgx_map_draw_w;
19989                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 112; extern unsigned char  sgx_map_draw_h;
19990                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 114; // Width of map (or multi-screen BAT) in tiles.
19991                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 115; extern unsigned char  sgx_map_line_w;
19992                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 117; // Width of map in screens (if multi-screen map).
19993                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 118; extern unsigned char  sgx_map_scrn_w;
19994                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 120; extern unsigned char  sgx_scr_bank;
19995                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 121; extern unsigned char *sgx_scr_addr;
19996                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 123; extern unsigned char  sgx_map_bank;
19997                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 124; extern unsigned char *sgx_map_addr;
19998                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 126; extern unsigned char  sgx_blk_bank;
19999                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 127; extern unsigned char *sgx_blk_addr;
20000                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 129; extern unsigned char  sgx_tbl_bank;
20001                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 130; extern unsigned char *sgx_tbl_addr;
20002                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 132; extern void __fastcall sgx_set_blocks( unsigned char __far *blk_def<sgx_blk_bank:sgx_blk_addr>, unsigned char __far *flg_def<sgx_tbl_bank:sgx_tbl_addr>, unsigned char number_of_blocks<_al> );
20003                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 133; extern void __fastcall __macro sgx_set_blkmap( unsigned char __far *blk_map<sgx_map_bank:sgx_map_addr>, unsigned char blocks_w<sgx_map_line_w> );
20004                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 134; extern void __fastcall __macro sgx_set_multimap( unsigned char __far *multi_map<sgx_scr_bank:sgx_scr_addr>, unsigned char screens_w<sgx_map_scrn_w> );
20005                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 136; extern void __fastcall sgx_draw_map( void );
20006                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 137; extern void __fastcall sgx_scroll_map( void );
20007                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 139; extern void __fastcall sgx_blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
20008                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 141; extern unsigned char __fastcall sgx_get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
20009                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 143; #asm
20010                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 144; .macro	_sgx_set_blkmap.2
20011                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 145; stz	sgx_scr_bank
20012                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 146; .endm
20013                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 148; .macro	_sgx_set_multimap.2
20014                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 149; lda	sgx_bat_width
20015                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 150; lsr	a
20016                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 151; sta	sgx_map_line_w
20017                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 152; .endm
20018                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 153; #endasm
20019                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 155; #endif
20020                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 157; #endif // __HUCC__
20021                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 159; #endif // _hucc_blkmap_h
20022                        		.dbg	line,	"include\routines_TITLE.c", 12; void joypad_BUTTONS_TITLE()
20023                        		.dbg	line,	"include\routines_TITLE.c", 13; {
20024                        	;***********************
20025                        	;***********************
20026                        	
20027                        		.hucc
20028    1F:CA6D             		.proc		_joypad_BUTTONS_TITLE
20029                        		__enter		_joypad_BUTTONS_TITLE
20030                        	
20031                        		.dbg	line,	"include\routines_TITLE.c", 14; int selector_pos;
20032                        	
20033                        		.dbg	line,	"include\routines_TITLE.c", 15; 
20034                        	
20035                        		.dbg	line,	"include\routines_TITLE.c", 16; if(joytrg(JOYPAD_1) & JOY_RIGHT)
20036                        		__ld.uiq	0
         1F:CA6D  62         			cla
20037                        		 _joytrg.1
         1F:CA6E  AA         			tax
         1F:CA6F  BD 2D 22   			lda	joytrg, x
         1F:CA72  BC DD 22   			ldy	joy6trg, x
20038                        		__tand.wi	32
         1F:CA75  29 20      			and	#32
         1F:CA77  C9 01      	!:		cmp	#1
20039                        		__bfalse	.LL1002
         1F:CA79  B0 03 4C 06			bcc	.LL1002
         1F:CA7D  CB          
20040                        	
20041                        		.dbg	line,	"include\routines_TITLE.c", 17; {   
20042                        	
20043                        		.dbg	line,	"include\routines_TITLE.c", 18; spr_set(0);
20044                        		__ld.uiq	0
         1F:CA7E  62         			cla
20045                        		__call		_spr_set.1
         1F:CA7F  20 F1 E7   			call	_spr_set.1
20046                        	
20047                        		.dbg	line,	"include\routines_TITLE.c", 19; selector_pos = spr_get_y();
20048                        		__call		_spr_get_y
         1F:CA82  20 8F E8   			call	_spr_get_y
20049                        		__st.wmq	__joypad_BUTTONS_TITLE_end - 2  /* selector_pos */
         1F:CA85  8D 2C 2C   			sta.l	__joypad_BUTTONS_TITLE_end - 2
         1F:CA88  8C 2D 2C   			sty.h	__joypad_BUTTONS_TITLE_end - 2
20050                        	
20051                        		.dbg	line,	"include\routines_TITLE.c", 21; if(selector_pos == 160)
20052                        		__ld.wm		__joypad_BUTTONS_TITLE_end - 2  /* selector_pos */
         1F:CA8B  AD 2C 2C   			lda.l	__joypad_BUTTONS_TITLE_end - 2
         1F:CA8E  AC 2D 2C   			ldy.h	__joypad_BUTTONS_TITLE_end - 2
20053                        		__equ_w.wi	160
         1F:CA91  C9 A0      			cmp.l	#160
         1F:CA93  D0 04      			bne	!false+
         1F:CA95  C0 00      			cpy.h	#160
         1F:CA97  F0 01      			beq	!+
         1F:CA99  18         	!false:		clc
         1F:CA9A             	!:
20054                        		__bfalse	.LL1003
         1F:CA9A  90 2B      			bcc	.LL1003
20055                        	
20056                        		.dbg	line,	"include\routines_TITLE.c", 22; {
20057                        	
20058                        		.dbg	line,	"include\routines_TITLE.c", 23; if(life_amount < 9)
20059                        		__ld.umq	_life_amount
         1F:CA9C  AD 2F 23   			lda	_life_amount
20060                        		__ult_b.uiq	9
         1F:CA9F  C9 09      			cmp	#9		; Subtract integer from A.
         1F:CAA1  6A         			ror	a		; CC if A < integer.
         1F:CAA2  49 80      			eor	#$80
         1F:CAA4  2A         			rol	a
20061                        		__bfalse	.LL1004
         1F:CAA5  B0 03 4C B7			bcc	.LL1004
         1F:CAA9  CC          
20062                        	
20063                        		.dbg	line,	"include\routines_TITLE.c", 24; {
20064                        	
20065                        		.dbg	line,	"include\routines_TITLE.c", 25; life_amount += 1;
20066                        		__add_st.umiq	1, _life_amount
         1F:CAAA  EE 2F 23   			inc	_life_amount
20067                        	
20068                        		.dbg	line,	"include\routines_TITLE.c", 26; put_number(life_amount   	,  1 , 20 , 20);
20069                        		__ld.um		_life_amount
         1F:CAAD  AD 2F 23   			lda	_life_amount
         1F:CAB0  C2         			cly
20070                        		__st.wmq	_bx
         1F:CAB1  85 FA      			sta.l	_bx
         1F:CAB3  84 FB      			sty.h	_bx
20071                        		__st.umiq	1, _cl
         1F:CAB5  A9 01      			lda.l	#1
         1F:CAB7  85 FC      			sta	_cl
20072                        		__st.umiq	20, _dil
         1F:CAB9  A9 14      			lda.l	#20
         1F:CABB  85 F0      			sta	_dil
20073                        		__st.umiq	20, _dih
         1F:CABD  A9 14      			lda.l	#20
         1F:CABF  85 F1      			sta	_dih
20074                        		__call		_put_number.4
         1F:CAC1  20 6D FF   			call	_put_number.4
20075                        	
20076                        		.dbg	line,	"include\routines_TITLE.c", 27; }
20077                        	
20078                        		.dbg	line,	"include\routines_TITLE.c", 28; }
20079    1F:CAC4             	.LL1004	.alias		.LL1005
20080                        	
20081                        		.dbg	line,	"include\routines_TITLE.c", 30; else if(selector_pos == 168)
20082                        		__bra		.LL1005
         1F:CAC4  4C B7 CC   			bra	.LL1005
20083    1F:CAC7             	.LL1003:
20084                        		__ld.wm		__joypad_BUTTONS_TITLE_end - 2  /* selector_pos */
         1F:CAC7  AD 2C 2C   			lda.l	__joypad_BUTTONS_TITLE_end - 2
         1F:CACA  AC 2D 2C   			ldy.h	__joypad_BUTTONS_TITLE_end - 2
20085                        		__equ_w.wi	168
         1F:CACD  C9 A8      			cmp.l	#168
         1F:CACF  D0 04      			bne	!false+
         1F:CAD1  C0 00      			cpy.h	#168
         1F:CAD3  F0 01      			beq	!+
         1F:CAD5  18         	!false:		clc
         1F:CAD6             	!:
20086                        		__bfalse	.LL1006
         1F:CAD6  B0 03 4C B7			bcc	.LL1006
         1F:CADA  CC          
20087                        	
20088                        		.dbg	line,	"include\routines_TITLE.c", 31; {
20089                        	
20090                        		.dbg	line,	"include\routines_TITLE.c", 32; if(credits_amount < 5)
20091                        		__ld.umq	_credits_amount
         1F:CADB  AD 30 23   			lda	_credits_amount
20092                        		__ult_b.uiq	5
         1F:CADE  C9 05      			cmp	#5		; Subtract integer from A.
         1F:CAE0  6A         			ror	a		; CC if A < integer.
         1F:CAE1  49 80      			eor	#$80
         1F:CAE3  2A         			rol	a
20093                        		__bfalse	.LL1007
         1F:CAE4  B0 03 4C B7			bcc	.LL1007
         1F:CAE8  CC          
20094                        	
20095                        		.dbg	line,	"include\routines_TITLE.c", 33; {
20096                        	
20097                        		.dbg	line,	"include\routines_TITLE.c", 34; credits_amount += 1;
20098                        		__add_st.umiq	1, _credits_amount
         1F:CAE9  EE 30 23   			inc	_credits_amount
20099                        	
20100                        		.dbg	line,	"include\routines_TITLE.c", 35; put_number(credits_amount   ,  1 , 20 , 21);
20101                        		__ld.um		_credits_amount
         1F:CAEC  AD 30 23   			lda	_credits_amount
         1F:CAEF  C2         			cly
20102                        		__st.wmq	_bx
         1F:CAF0  85 FA      			sta.l	_bx
         1F:CAF2  84 FB      			sty.h	_bx
20103                        		__st.umiq	1, _cl
         1F:CAF4  A9 01      			lda.l	#1
         1F:CAF6  85 FC      			sta	_cl
20104                        		__st.umiq	20, _dil
         1F:CAF8  A9 14      			lda.l	#20
         1F:CAFA  85 F0      			sta	_dil
20105                        		__st.umiq	21, _dih
         1F:CAFC  A9 15      			lda.l	#21
         1F:CAFE  85 F1      			sta	_dih
20106                        		__call		_put_number.4
         1F:CB00  20 6D FF   			call	_put_number.4
20107                        	
20108                        		.dbg	line,	"include\routines_TITLE.c", 36; }
20109                        	
20110                        		.dbg	line,	"include\routines_TITLE.c", 37; }
20111    1F:CB03             	.LL1007	.alias		.LL1008
20112                        	
20113                        		.dbg	line,	"include\routines_TITLE.c", 38; }
20114    1F:CB03             	.LL1006	.alias		.LL1008
20115    1F:CB03             	.LL1005	.alias		.LL1008
20116                        	
20117                        		.dbg	line,	"include\routines_TITLE.c", 40; 
20118                        	
20119                        		.dbg	line,	"include\routines_TITLE.c", 41; else if(joytrg(JOYPAD_1) & JOY_LEFT)
20120                        		__bra		.LL1008
         1F:CB03  4C B7 CC   			bra	.LL1008
20121    1F:CB06             	.LL1002:
20122                        		__ld.uiq	0
         1F:CB06  62         			cla
20123                        		 _joytrg.1
         1F:CB07  AA         			tax
         1F:CB08  BD 2D 22   			lda	joytrg, x
         1F:CB0B  BC DD 22   			ldy	joy6trg, x
20124                        		__tand.wi	128
         1F:CB0E  29 80      			and	#128
         1F:CB10  C9 01      	!:		cmp	#1
20125                        		__bfalse	.LL1009
         1F:CB12  B0 03 4C 99			bcc	.LL1009
         1F:CB16  CB          
20126                        	
20127                        		.dbg	line,	"include\routines_TITLE.c", 42; {
20128                        	
20129                        		.dbg	line,	"include\routines_TITLE.c", 43; spr_set(0);
20130                        		__ld.uiq	0
         1F:CB17  62         			cla
20131                        		__call		_spr_set.1
         1F:CB18  20 F1 E7   			call	_spr_set.1
20132                        	
20133                        		.dbg	line,	"include\routines_TITLE.c", 44; selector_pos = spr_get_y();
20134                        		__call		_spr_get_y
         1F:CB1B  20 8F E8   			call	_spr_get_y
20135                        		__st.wmq	__joypad_BUTTONS_TITLE_end - 2  /* selector_pos */
         1F:CB1E  8D 2C 2C   			sta.l	__joypad_BUTTONS_TITLE_end - 2
         1F:CB21  8C 2D 2C   			sty.h	__joypad_BUTTONS_TITLE_end - 2
20136                        	
20137                        		.dbg	line,	"include\routines_TITLE.c", 46; if(selector_pos == 160)
20138                        		__ld.wm		__joypad_BUTTONS_TITLE_end - 2  /* selector_pos */
         1F:CB24  AD 2C 2C   			lda.l	__joypad_BUTTONS_TITLE_end - 2
         1F:CB27  AC 2D 2C   			ldy.h	__joypad_BUTTONS_TITLE_end - 2
20139                        		__equ_w.wi	160
         1F:CB2A  C9 A0      			cmp.l	#160
         1F:CB2C  D0 04      			bne	!false+
         1F:CB2E  C0 00      			cpy.h	#160
         1F:CB30  F0 01      			beq	!+
         1F:CB32  18         	!false:		clc
         1F:CB33             	!:
20140                        		__bfalse	.LL1010
         1F:CB33  90 28      			bcc	.LL1010
20141                        	
20142                        		.dbg	line,	"include\routines_TITLE.c", 47; {
20143                        	
20144                        		.dbg	line,	"include\routines_TITLE.c", 48; if(life_amount > 3)
20145                        		__ld.umq	_life_amount
         1F:CB35  AD 2F 23   			lda	_life_amount
20146                        		__ugt_b.uiq	3
         1F:CB38  18         			clc			; Subtract integer+1 from A.
         1F:CB39  E9 03      			sbc	#3		; CS if A > integer.
20147                        		__bfalse	.LL1011
         1F:CB3B  B0 03 4C B7			bcc	.LL1011
         1F:CB3F  CC          
20148                        	
20149                        		.dbg	line,	"include\routines_TITLE.c", 49; {
20150                        	
20151                        		.dbg	line,	"include\routines_TITLE.c", 50; life_amount -= 1;
20152                        		__sub_st.umiq	1, _life_amount
         1F:CB40  CE 2F 23   			dec	_life_amount
20153                        	
20154                        		.dbg	line,	"include\routines_TITLE.c", 51; put_number(life_amount   	,  1 , 20 , 20);
20155                        		__ld.um		_life_amount
         1F:CB43  AD 2F 23   			lda	_life_amount
         1F:CB46  C2         			cly
20156                        		__st.wmq	_bx
         1F:CB47  85 FA      			sta.l	_bx
         1F:CB49  84 FB      			sty.h	_bx
20157                        		__st.umiq	1, _cl
         1F:CB4B  A9 01      			lda.l	#1
         1F:CB4D  85 FC      			sta	_cl
20158                        		__st.umiq	20, _dil
         1F:CB4F  A9 14      			lda.l	#20
         1F:CB51  85 F0      			sta	_dil
20159                        		__st.umiq	20, _dih
         1F:CB53  A9 14      			lda.l	#20
         1F:CB55  85 F1      			sta	_dih
20160                        		__call		_put_number.4
         1F:CB57  20 6D FF   			call	_put_number.4
20161                        	
20162                        		.dbg	line,	"include\routines_TITLE.c", 52; }
20163                        	
20164                        		.dbg	line,	"include\routines_TITLE.c", 53; }
20165    1F:CB5A             	.LL1011	.alias		.LL1012
20166                        	
20167                        		.dbg	line,	"include\routines_TITLE.c", 55; else if(selector_pos == 168)
20168                        		__bra		.LL1012
         1F:CB5A  4C B7 CC   			bra	.LL1012
20169    1F:CB5D             	.LL1010:
20170                        		__ld.wm		__joypad_BUTTONS_TITLE_end - 2  /* selector_pos */
         1F:CB5D  AD 2C 2C   			lda.l	__joypad_BUTTONS_TITLE_end - 2
         1F:CB60  AC 2D 2C   			ldy.h	__joypad_BUTTONS_TITLE_end - 2
20171                        		__equ_w.wi	168
         1F:CB63  C9 A8      			cmp.l	#168
         1F:CB65  D0 04      			bne	!false+
         1F:CB67  C0 00      			cpy.h	#168
         1F:CB69  F0 01      			beq	!+
         1F:CB6B  18         	!false:		clc
         1F:CB6C             	!:
20172                        		__bfalse	.LL1013
         1F:CB6C  B0 03 4C B7			bcc	.LL1013
         1F:CB70  CC          
20173                        	
20174                        		.dbg	line,	"include\routines_TITLE.c", 56; {
20175                        	
20176                        		.dbg	line,	"include\routines_TITLE.c", 57; if(credits_amount > 2)
20177                        		__ld.umq	_credits_amount
         1F:CB71  AD 30 23   			lda	_credits_amount
20178                        		__ugt_b.uiq	2
         1F:CB74  18         			clc			; Subtract integer+1 from A.
         1F:CB75  E9 02      			sbc	#2		; CS if A > integer.
20179                        		__bfalse	.LL1014
         1F:CB77  B0 03 4C B7			bcc	.LL1014
         1F:CB7B  CC          
20180                        	
20181                        		.dbg	line,	"include\routines_TITLE.c", 58; {
20182                        	
20183                        		.dbg	line,	"include\routines_TITLE.c", 59; credits_amount -= 1;
20184                        		__sub_st.umiq	1, _credits_amount
         1F:CB7C  CE 30 23   			dec	_credits_amount
20185                        	
20186                        		.dbg	line,	"include\routines_TITLE.c", 60; put_number(credits_amount   ,  1 , 20 , 21);
20187                        		__ld.um		_credits_amount
         1F:CB7F  AD 30 23   			lda	_credits_amount
         1F:CB82  C2         			cly
20188                        		__st.wmq	_bx
         1F:CB83  85 FA      			sta.l	_bx
         1F:CB85  84 FB      			sty.h	_bx
20189                        		__st.umiq	1, _cl
         1F:CB87  A9 01      			lda.l	#1
         1F:CB89  85 FC      			sta	_cl
20190                        		__st.umiq	20, _dil
         1F:CB8B  A9 14      			lda.l	#20
         1F:CB8D  85 F0      			sta	_dil
20191                        		__st.umiq	21, _dih
         1F:CB8F  A9 15      			lda.l	#21
         1F:CB91  85 F1      			sta	_dih
20192                        		__call		_put_number.4
         1F:CB93  20 6D FF   			call	_put_number.4
20193                        	
20194                        		.dbg	line,	"include\routines_TITLE.c", 61; }
20195                        	
20196                        		.dbg	line,	"include\routines_TITLE.c", 62; }
20197    1F:CB96             	.LL1014	.alias		.LL1015
20198                        	
20199                        		.dbg	line,	"include\routines_TITLE.c", 63; }
20200    1F:CB96             	.LL1013	.alias		.LL1015
20201    1F:CB96             	.LL1012	.alias		.LL1015
20202                        	
20203                        		.dbg	line,	"include\routines_TITLE.c", 66; else if(joytrg(JOYPAD_1) & JOY_UP)
20204                        		__bra		.LL1015
         1F:CB96  4C B7 CC   			bra	.LL1015
20205    1F:CB99             	.LL1009:
20206                        		__ld.uiq	0
         1F:CB99  62         			cla
20207                        		 _joytrg.1
         1F:CB9A  AA         			tax
         1F:CB9B  BD 2D 22   			lda	joytrg, x
         1F:CB9E  BC DD 22   			ldy	joy6trg, x
20208                        		__tand.wi	16
         1F:CBA1  29 10      			and	#16
         1F:CBA3  C9 01      	!:		cmp	#1
20209                        		__bfalse	.LL1016
         1F:CBA5  90 5A      			bcc	.LL1016
20210                        	
20211                        		.dbg	line,	"include\routines_TITLE.c", 67; {
20212                        	
20213                        		.dbg	line,	"include\routines_TITLE.c", 68; spr_set(0);
20214                        		__ld.uiq	0
         1F:CBA7  62         			cla
20215                        		__call		_spr_set.1
         1F:CBA8  20 F1 E7   			call	_spr_set.1
20216                        	
20217                        		.dbg	line,	"include\routines_TITLE.c", 69; selector_pos = spr_get_y();
20218                        		__call		_spr_get_y
         1F:CBAB  20 8F E8   			call	_spr_get_y
20219                        		__st.wmq	__joypad_BUTTONS_TITLE_end - 2  /* selector_pos */
         1F:CBAE  8D 2C 2C   			sta.l	__joypad_BUTTONS_TITLE_end - 2
         1F:CBB1  8C 2D 2C   			sty.h	__joypad_BUTTONS_TITLE_end - 2
20220                        	
20221                        		.dbg	line,	"include\routines_TITLE.c", 71; if(selector_pos == 160)
20222                        		__ld.wm		__joypad_BUTTONS_TITLE_end - 2  /* selector_pos */
         1F:CBB4  AD 2C 2C   			lda.l	__joypad_BUTTONS_TITLE_end - 2
         1F:CBB7  AC 2D 2C   			ldy.h	__joypad_BUTTONS_TITLE_end - 2
20223                        		__equ_w.wi	160
         1F:CBBA  C9 A0      			cmp.l	#160
         1F:CBBC  D0 04      			bne	!false+
         1F:CBBE  C0 00      			cpy.h	#160
         1F:CBC0  F0 01      			beq	!+
         1F:CBC2  18         	!false:		clc
         1F:CBC3             	!:
20224                        		__bfalse	.LL1017
         1F:CBC3  90 14      			bcc	.LL1017
20225                        	
20226                        		.dbg	line,	"include\routines_TITLE.c", 72; {
20227                        	
20228                        		.dbg	line,	"include\routines_TITLE.c", 73; selector_pos = 144;
20229                        		__st.wmiq	144, __joypad_BUTTONS_TITLE_end - 2  /* selector_pos */
         1F:CBC5  A9 90      			lda.l	#144
         1F:CBC7  8D 2C 2C   			sta.l	__joypad_BUTTONS_TITLE_end - 2
         1F:CBCA  9C 2D 2C   			stz.h	__joypad_BUTTONS_TITLE_end - 2
20230                        	
20231                        		.dbg	line,	"include\routines_TITLE.c", 74; spr_y(selector_pos);
20232                        		__ld.wm		__joypad_BUTTONS_TITLE_end - 2  /* selector_pos */
         1F:CBCD  AD 2C 2C   			lda.l	__joypad_BUTTONS_TITLE_end - 2
         1F:CBD0  AC 2D 2C   			ldy.h	__joypad_BUTTONS_TITLE_end - 2
20233                        		__call		_spr_y.1
         1F:CBD3  20 2D E8   			call	_spr_y.1
20234                        	
20235                        		.dbg	line,	"include\routines_TITLE.c", 75; }
20236                        	
20237                        		.dbg	line,	"include\routines_TITLE.c", 77; else if(selector_pos == 168)
20238                        		__bra		.LL1018
         1F:CBD6  4C B7 CC   			bra	.LL1018
20239    1F:CBD9             	.LL1017:
20240                        		__ld.wm		__joypad_BUTTONS_TITLE_end - 2  /* selector_pos */
         1F:CBD9  AD 2C 2C   			lda.l	__joypad_BUTTONS_TITLE_end - 2
         1F:CBDC  AC 2D 2C   			ldy.h	__joypad_BUTTONS_TITLE_end - 2
20241                        		__equ_w.wi	168
         1F:CBDF  C9 A8      			cmp.l	#168
         1F:CBE1  D0 04      			bne	!false+
         1F:CBE3  C0 00      			cpy.h	#168
         1F:CBE5  F0 01      			beq	!+
         1F:CBE7  18         	!false:		clc
         1F:CBE8             	!:
20242                        		__bfalse	.LL1019
         1F:CBE8  B0 03 4C B7			bcc	.LL1019
         1F:CBEC  CC          
20243                        	
20244                        		.dbg	line,	"include\routines_TITLE.c", 78; {
20245                        	
20246                        		.dbg	line,	"include\routines_TITLE.c", 79; selector_pos = 160;
20247                        		__st.wmiq	160, __joypad_BUTTONS_TITLE_end - 2  /* selector_pos */
         1F:CBED  A9 A0      			lda.l	#160
         1F:CBEF  8D 2C 2C   			sta.l	__joypad_BUTTONS_TITLE_end - 2
         1F:CBF2  9C 2D 2C   			stz.h	__joypad_BUTTONS_TITLE_end - 2
20248                        	
20249                        		.dbg	line,	"include\routines_TITLE.c", 80; spr_y(selector_pos);
20250                        		__ld.wm		__joypad_BUTTONS_TITLE_end - 2  /* selector_pos */
         1F:CBF5  AD 2C 2C   			lda.l	__joypad_BUTTONS_TITLE_end - 2
         1F:CBF8  AC 2D 2C   			ldy.h	__joypad_BUTTONS_TITLE_end - 2
20251                        		__call		_spr_y.1
         1F:CBFB  20 2D E8   			call	_spr_y.1
20252                        	
20253                        		.dbg	line,	"include\routines_TITLE.c", 81; }
20254                        	
20255                        		.dbg	line,	"include\routines_TITLE.c", 82; }
20256    1F:CBFE             	.LL1019	.alias		.LL1020
20257    1F:CBFE             	.LL1018	.alias		.LL1020
20258                        	
20259                        		.dbg	line,	"include\routines_TITLE.c", 85; else if(joytrg(JOYPAD_1) & JOY_DOWN)
20260                        		__bra		.LL1020
         1F:CBFE  4C B7 CC   			bra	.LL1020
20261    1F:CC01             	.LL1016:
20262                        		__ld.uiq	0
         1F:CC01  62         			cla
20263                        		 _joytrg.1
         1F:CC02  AA         			tax
         1F:CC03  BD 2D 22   			lda	joytrg, x
         1F:CC06  BC DD 22   			ldy	joy6trg, x
20264                        		__tand.wi	64
         1F:CC09  29 40      			and	#64
         1F:CC0B  C9 01      	!:		cmp	#1
20265                        		__bfalse	.LL1021
         1F:CC0D  90 55      			bcc	.LL1021
20266                        	
20267                        		.dbg	line,	"include\routines_TITLE.c", 86; {
20268                        	
20269                        		.dbg	line,	"include\routines_TITLE.c", 87; spr_set(0);
20270                        		__ld.uiq	0
         1F:CC0F  62         			cla
20271                        		__call		_spr_set.1
         1F:CC10  20 F1 E7   			call	_spr_set.1
20272                        	
20273                        		.dbg	line,	"include\routines_TITLE.c", 88; selector_pos = spr_get_y();
20274                        		__call		_spr_get_y
         1F:CC13  20 8F E8   			call	_spr_get_y
20275                        		__st.wmq	__joypad_BUTTONS_TITLE_end - 2  /* selector_pos */
         1F:CC16  8D 2C 2C   			sta.l	__joypad_BUTTONS_TITLE_end - 2
         1F:CC19  8C 2D 2C   			sty.h	__joypad_BUTTONS_TITLE_end - 2
20276                        	
20277                        		.dbg	line,	"include\routines_TITLE.c", 90; if(selector_pos == 144)
20278                        		__ld.wm		__joypad_BUTTONS_TITLE_end - 2  /* selector_pos */
         1F:CC1C  AD 2C 2C   			lda.l	__joypad_BUTTONS_TITLE_end - 2
         1F:CC1F  AC 2D 2C   			ldy.h	__joypad_BUTTONS_TITLE_end - 2
20279                        		__equ_w.wi	144
         1F:CC22  C9 90      			cmp.l	#144
         1F:CC24  D0 04      			bne	!false+
         1F:CC26  C0 00      			cpy.h	#144
         1F:CC28  F0 01      			beq	!+
         1F:CC2A  18         	!false:		clc
         1F:CC2B             	!:
20280                        		__bfalse	.LL1022
         1F:CC2B  90 13      			bcc	.LL1022
20281                        	
20282                        		.dbg	line,	"include\routines_TITLE.c", 91; {
20283                        	
20284                        		.dbg	line,	"include\routines_TITLE.c", 92; selector_pos = 160;
20285                        		__st.wmiq	160, __joypad_BUTTONS_TITLE_end - 2  /* selector_pos */
         1F:CC2D  A9 A0      			lda.l	#160
         1F:CC2F  8D 2C 2C   			sta.l	__joypad_BUTTONS_TITLE_end - 2
         1F:CC32  9C 2D 2C   			stz.h	__joypad_BUTTONS_TITLE_end - 2
20286                        	
20287                        		.dbg	line,	"include\routines_TITLE.c", 93; spr_y(selector_pos);
20288                        		__ld.wm		__joypad_BUTTONS_TITLE_end - 2  /* selector_pos */
         1F:CC35  AD 2C 2C   			lda.l	__joypad_BUTTONS_TITLE_end - 2
         1F:CC38  AC 2D 2C   			ldy.h	__joypad_BUTTONS_TITLE_end - 2
20289                        		__call		_spr_y.1
         1F:CC3B  20 2D E8   			call	_spr_y.1
20290                        	
20291                        		.dbg	line,	"include\routines_TITLE.c", 94; }
20292                        	
20293                        		.dbg	line,	"include\routines_TITLE.c", 96; else if(selector_pos == 160)
20294                        		__bra		.LL1023
         1F:CC3E  80 77      			bra	.LL1023
20295    1F:CC40             	.LL1022:
20296                        		__ld.wm		__joypad_BUTTONS_TITLE_end - 2  /* selector_pos */
         1F:CC40  AD 2C 2C   			lda.l	__joypad_BUTTONS_TITLE_end - 2
         1F:CC43  AC 2D 2C   			ldy.h	__joypad_BUTTONS_TITLE_end - 2
20297                        		__equ_w.wi	160
         1F:CC46  C9 A0      			cmp.l	#160
         1F:CC48  D0 04      			bne	!false+
         1F:CC4A  C0 00      			cpy.h	#160
         1F:CC4C  F0 01      			beq	!+
         1F:CC4E  18         	!false:		clc
         1F:CC4F             	!:
20298                        		__bfalse	.LL1024
         1F:CC4F  90 66      			bcc	.LL1024
20299                        	
20300                        		.dbg	line,	"include\routines_TITLE.c", 97; {
20301                        	
20302                        		.dbg	line,	"include\routines_TITLE.c", 98; selector_pos = 168;
20303                        		__st.wmiq	168, __joypad_BUTTONS_TITLE_end - 2  /* selector_pos */
         1F:CC51  A9 A8      			lda.l	#168
         1F:CC53  8D 2C 2C   			sta.l	__joypad_BUTTONS_TITLE_end - 2
         1F:CC56  9C 2D 2C   			stz.h	__joypad_BUTTONS_TITLE_end - 2
20304                        	
20305                        		.dbg	line,	"include\routines_TITLE.c", 99; spr_y(selector_pos);
20306                        		__ld.wm		__joypad_BUTTONS_TITLE_end - 2  /* selector_pos */
         1F:CC59  AD 2C 2C   			lda.l	__joypad_BUTTONS_TITLE_end - 2
         1F:CC5C  AC 2D 2C   			ldy.h	__joypad_BUTTONS_TITLE_end - 2
20307                        		__call		_spr_y.1
         1F:CC5F  20 2D E8   			call	_spr_y.1
20308                        	
20309                        		.dbg	line,	"include\routines_TITLE.c", 100; }        
20310                        	
20311                        		.dbg	line,	"include\routines_TITLE.c", 101; }
20312    1F:CC62             	.LL1024	.alias		.LL1025
20313    1F:CC62             	.LL1023	.alias		.LL1025
20314                        	
20315                        		.dbg	line,	"include\routines_TITLE.c", 104; else if(joytrg(JOYPAD_1) & JOY_I || joytrg(JOYPAD_1) & JOY_II || joytrg(JOYPAD_1) & JOY_RUN)
20316                        		__bra		.LL1025
         1F:CC62  80 53      			bra	.LL1025
20317    1F:CC64             	.LL1021:
20318                        		__ld.uiq	0
         1F:CC64  62         			cla
20319                        		 _joytrg.1
         1F:CC65  AA         			tax
         1F:CC66  BD 2D 22   			lda	joytrg, x
         1F:CC69  BC DD 22   			ldy	joy6trg, x
20320                        		__tand.wi	1
         1F:CC6C  29 01      			and	#1
         1F:CC6E  C9 01      	!:		cmp	#1
20321                        		__btrue		.LL1027
         1F:CC70  B0 0C      			bcs	.LL1027
20322                        		__ld.uiq	0
         1F:CC72  62         			cla
20323                        		 _joytrg.1
         1F:CC73  AA         			tax
         1F:CC74  BD 2D 22   			lda	joytrg, x
         1F:CC77  BC DD 22   			ldy	joy6trg, x
20324                        		__tand.wi	2
         1F:CC7A  29 02      			and	#2
         1F:CC7C  C9 01      	!:		cmp	#1
20325    1F:CC7E             	.LL1027:
20326                        		__btrue		.LL1028
         1F:CC7E  B0 0C      			bcs	.LL1028
20327                        		__ld.uiq	0
         1F:CC80  62         			cla
20328                        		 _joytrg.1
         1F:CC81  AA         			tax
         1F:CC82  BD 2D 22   			lda	joytrg, x
         1F:CC85  BC DD 22   			ldy	joy6trg, x
20329                        		__tand.wi	8
         1F:CC88  29 08      			and	#8
         1F:CC8A  C9 01      	!:		cmp	#1
20330    1F:CC8C             	.LL1028:
20331                        		__bfalse	.LL1026
         1F:CC8C  90 29      			bcc	.LL1026
20332                        	
20333                        		.dbg	line,	"include\routines_TITLE.c", 105; {
20334                        	
20335                        		.dbg	line,	"include\routines_TITLE.c", 106; spr_set(0);
20336                        		__ld.uiq	0
         1F:CC8E  62         			cla
20337                        		__call		_spr_set.1
         1F:CC8F  20 F1 E7   			call	_spr_set.1
20338                        	
20339                        		.dbg	line,	"include\routines_TITLE.c", 107; selector_pos = spr_get_y();
20340                        		__call		_spr_get_y
         1F:CC92  20 8F E8   			call	_spr_get_y
20341                        		__st.wmq	__joypad_BUTTONS_TITLE_end - 2  /* selector_pos */
         1F:CC95  8D 2C 2C   			sta.l	__joypad_BUTTONS_TITLE_end - 2
         1F:CC98  8C 2D 2C   			sty.h	__joypad_BUTTONS_TITLE_end - 2
20342                        	
20343                        		.dbg	line,	"include\routines_TITLE.c", 109; // IF CURSOR IS ON START GAME //
20344                        	
20345                        		.dbg	line,	"include\routines_TITLE.c", 110; if(selector_pos == 144)
20346                        		__ld.wm		__joypad_BUTTONS_TITLE_end - 2  /* selector_pos */
         1F:CC9B  AD 2C 2C   			lda.l	__joypad_BUTTONS_TITLE_end - 2
         1F:CC9E  AC 2D 2C   			ldy.h	__joypad_BUTTONS_TITLE_end - 2
20347                        		__equ_w.wi	144
         1F:CCA1  C9 90      			cmp.l	#144
         1F:CCA3  D0 04      			bne	!false+
         1F:CCA5  C0 00      			cpy.h	#144
         1F:CCA7  F0 01      			beq	!+
         1F:CCA9  18         	!false:		clc
         1F:CCAA             	!:
20348                        		__bfalse	.LL1029
         1F:CCAA  90 0B      			bcc	.LL1029
20349                        	
20350                        		.dbg	line,	"include\routines_TITLE.c", 111; {
20351                        	
20352                        		.dbg	line,	"include\routines_TITLE.c", 112; // DISABLE DISPLAY //
20353                        	
20354                        		.dbg	line,	"include\routines_TITLE.c", 113; disp_off();
20355                        		__call		_disp_off
         1F:CCAC  20 3D E4   			call	_disp_off
20356                        	
20357                        		.dbg	line,	"include\routines_TITLE.c", 115; sequence_loaded = FALSE;
20358                        		__st.umiq	0, _sequence_loaded
         1F:CCAF  9C 16 23   			stz	_sequence_loaded
20359                        	
20360                        		.dbg	line,	"include\routines_TITLE.c", 117; sequence_id = SEQUENCE_INTRO;
20361                        		__st.umiq	1, _sequence_id
         1F:CCB2  A9 01      			lda.l	#1
         1F:CCB4  8D 15 23   			sta	_sequence_id
20362                        	
20363                        		.dbg	line,	"include\routines_TITLE.c", 118; }
20364                        	
20365                        		.dbg	line,	"include\routines_TITLE.c", 119; }
20366    1F:CCB7             	.LL1029:
20367                        	
20368                        		.dbg	line,	"include\routines_TITLE.c", 120; }
20369    1F:CCB7             	.LL1026:
20370    1F:CCB7             	.LL1025:
20371    1F:CCB7             	.LL1020:
20372    1F:CCB7             	.LL1015:
20373    1F:CCB7             	.LL1008:
20374    1F:CCB7             	.LL1001:
20375                        		__return	0
         1F:CCB7  4C EF FF   			jmp	leave_proc
20376                        		.dbg	clear
20377                        		.endp
20378               2312     		.bss
20379    F8:2312             	__joypad_BUTTONS_TITLE_end	.alias	leaf_stack
20380               E31D     		.code
20381                        		.pceas
20382                        	
20383                        		.dbg	line,	"Black_Tiger.c", 29; #include "include/init.c"
20384                        		.dbg	line,	"include\init.c", 1; #include "huc.h"
20385                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 1; #ifndef _hucc_legacy_h
20386                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 2; #define _hucc_legacy_h
20387                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 4; /****************************************************************************
20388                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 5; ; ***************************************************************************
20389                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 6; ;
20390                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 7; ; huc.h
20391                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 8; ;
20392                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 9; ; HuCC wrapper file to include a default set of HuC-compatible functions.
20393                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 10; ;
20394                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 11; ; Copyright John Brandwood 2024.
20395                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 12; ;
20396                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 13; ; Distributed under the Boost Software License, Version 1.0.
20397                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
20398                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
20399                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 16; ;
20400                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 17; ; ***************************************************************************
20401                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 18; ; ***************************************************************************
20402                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 19; ;
20403                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 20; ; When the HuCC compiler is invoked with the "--legacy" option to compile old
20404                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 21; ; projects, then this "huc.h" file is automatically included.
20405                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 22; ;
20406                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 23; ; This file includes a set of the individual HuCC headers which correspond to
20407                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 24; ; HuC's built-in functions and MagicKit library.
20408                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 25; ;
20409                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 26; ; New HuCC projects should, preferably, include the specific headers that are
20410                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 27; ; needed, which will then allow them to replace parts of the standard library
20411                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 28; ; with newer functions, or they can just manually include this "huc.h" file.
20412                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 29; ;
20413                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 30; ; ***************************************************************************
20414                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 31; ; **************************************************************************/
20415                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 33; #include "hucc-systemcard.h"
20416                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 34; #include "hucc-baselib.h"
20417                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 35; #include "hucc-gfx.h"
20418                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 36; #include "hucc-old-scroll.h"
20419                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 37; #include "hucc-old-spr.h"
20420                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 38; #include "hucc-old-map.h"
20421                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 39; #include "hucc-old-line.h"
20422                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 41; #include <stdlib.h>
20423                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 42; #include <string.h>
20424                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 44; #endif // _hucc_legacy_h
20425                        		.dbg	line,	"include\init.c", 2; #include "hucc-scroll.h"
20426                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 1; #ifndef _hucc_scroll_h
20427                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 2; #define _hucc_scroll_h
20428                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 4; /****************************************************************************
20429                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 5; ; ***************************************************************************
20430                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 6; ;
20431                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 7; ; hucc-scroll.h
20432                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 8; ;
20433                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 9; ; Routines for a fast split-screen scrolling system.
20434                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 10; ;
20435                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 11; ; Copyright John Brandwood 2024.
20436                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 12; ;
20437                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 13; ; Distributed under the Boost Software License, Version 1.0.
20438                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
20439                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
20440                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 16; ;
20441                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 17; ; ***************************************************************************
20442                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 18; ; ***************************************************************************
20443                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 19; ;
20444                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 20; ; The maximum number of splits for each screen layer is set in your project's
20445                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 21; ; "hucc-config.inc" file, with the library having a limit of 128-per-layer.
20446                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 22; ;
20447                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 23; ; Your first active split must be defined to start at screen line 0, and then
20448                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 24; ; the rest of the active splits must be in increasing line order to match the
20449                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 25; ; way that the PC Engine displays the output image.
20450                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 26; ;
20451                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 27; ; You can have disabled splits interleaved with your active splits.
20452                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 28; ;
20453                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 29; ; Splits that are normally disabled can be used to create full screen effects
20454                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 30; ; such as bouncing the screen up and down by adding blank areas at the top or
20455                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 31; ; bottom of the screen, and then rapidly changing the height of those areas.
20456                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 32; ;
20457                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 33; ; ***************************************************************************
20458                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 34; ; **************************************************************************/
20459                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 36; // *************
20460                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 37; // VDC bits for display_flags ...
20461                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 38; // *************
20462                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 40; #ifndef BKG_OFF
20463                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 41; #define BKG_OFF 0x00
20464                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 42; #endif
20465                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 44; #ifndef SPR_OFF
20466                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 45; #define SPR_OFF 0x00
20467                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 46; #endif
20468                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 48; #ifndef BKG_ON
20469                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 49; #define BKG_ON 0x80
20470                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 50; #endif
20471                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 52; #ifndef SPR_ON
20472                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 53; #define SPR_ON 0x40
20473                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 54; #endif
20474                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 56; // *************
20475                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 57; // Functions in hucc-scroll.asm ...
20476                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 58; // *************
20477                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 60; #ifdef __HUCC__
20478                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 62; #asmdef	HUCC_USES_NEW_SCROLL 1
20479                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 64; extern void __fastcall scroll_split( unsigned char index<_al>, unsigned char screen_line<_ah>, unsigned int bat_x<_bx>, unsigned int bat_y<_cx>, unsigned char display_flags<_dl> );
20480                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 65; extern void __fastcall sgx_scroll_split( unsigned char index<_al>, unsigned char screen_line<_ah>, unsigned int bat_x<_bx>, unsigned int bat_y<_cx>, unsigned char display_flags<_dl> );
20481                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 67; extern void __fastcall disable_split( unsigned char index<acc> );
20482                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 68; extern void __fastcall sgx_disable_split( unsigned char index<acc> );
20483                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 70; extern void __fastcall __macro disable_all_splits( void );
20484                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 71; extern void __fastcall __macro sgx_disable_all_splits( void );
20485                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 73; #asm
20486                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 74; .macro	_disable_all_splits
20487                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 75; ldy	#HUCC_PCE_SPLITS - 1
20488                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 76; !loop:		tya
20489                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 77; call	_disable_split.1
20490                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 78; dey
20491                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 79; bpl	!loop-
20492                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 80; .endm
20493                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 82; .macro	_sgx_disable_all_splits
20494                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 83; ldy	#HUCC_SGX_SPLITS - 1
20495                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 84; !loop:		tya
20496                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 85; call	_sgx_disable_split.1
20497                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 86; dey
20498                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 87; bpl	!loop-
20499                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 88; .endm
20500                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 89; #endasm
20501                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 91; #endif // __HUCC__
20502                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 93; #endif // _hucc_scroll_h
20503                        		.dbg	line,	"include\init.c", 3; #include "hucc-chrmap.h"
20504                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 1; #ifndef _hucc_chrmap_h
20505                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 2; #define _hucc_chrmap_h
20506                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 4; /****************************************************************************
20507                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 5; ; ***************************************************************************
20508                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 6; ;
20509                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 7; ; hucc-chrmap.h
20510                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 8; ;
20511                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 9; ; A simple map system based on 8x8 characters (aka "tiles") in BAT format.
20512                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 10; ;
20513                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 11; ; Copyright John Brandwood 2025.
20514                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 12; ;
20515                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 13; ; Distributed under the Boost Software License, Version 1.0.
20516                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
20517                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
20518                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 16; ;
20519                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 17; ; ***************************************************************************
20520                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 18; ; ***************************************************************************
20521                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 19; ;
20522                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 20; ; The maximum X and Y size for chrmaps is 256 characters (2048 pixels).
20523                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 21; ;
20524                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 22; ; The maximum total size for a chrmap is 16KBytes, which allows for maps up
20525                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 23; ; to 256x32 tiles (2048x256 pixels).
20526                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 24; ;
20527                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 25; ; ***************************************************************************
20528                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 26; ; **************************************************************************/
20529                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 28; // *************
20530                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 29; // This code extends the blkmap library ...
20531                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 30; // *************
20532                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 32; #include "hucc-blkmap.h"
20533                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 34; // *************
20534                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 35; // Functions in chrmap.asm ...
20535                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 36; // *************
20536                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 38; #ifdef __HUCC__
20537                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 40; #asmdef	HUCC_USES_CHRMAP 1
20538                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 42; extern void __fastcall __nop set_chrmap( unsigned char __far *chrmap<vdc_map_bank:vdc_map_addr>, unsigned char tiles_w<vdc_map_line_w> );
20539                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 44; extern void __fastcall draw_bat( void );
20540                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 45; extern void __fastcall scroll_bat( void );
20541                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 47; extern void __fastcall blit_bat( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
20542                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 49; #ifdef _SGX
20543                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 51; extern void __fastcall __nop sgx_set_chrmap( unsigned char __far *chrmap<sgx_map_bank:sgx_map_addr>, unsigned char tiles_w<sgx_map_line_w> );
20544                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 53; extern void __fastcall sgx_draw_bat( void );
20545                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 54; extern void __fastcall sgx_scroll_bat( void );
20546                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 56; extern void __fastcall sgx_blit_bat( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
20547                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 58; #endif
20548                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 60; #endif // __HUCC__
20549                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 62; #endif // _hucc_chrmap_h
20550                        		.dbg	line,	"include\init.c", 4; #include "hucc-blkmap.h"
20551                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 1; #ifndef _hucc_blkmap_h
20552                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 2; #define _hucc_blkmap_h
20553                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 4; /****************************************************************************
20554                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 5; ; ***************************************************************************
20555                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 6; ;
20556                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 7; ; hucc-blkmap.h
20557                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 8; ;
20558                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 9; ; A map system based on 16x16 meta-tiles (aka "blocks", aka CHR/BLK/MAP).
20559                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 10; ;
20560                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 11; ; Copyright John Brandwood 2025.
20561                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 12; ;
20562                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 13; ; Distributed under the Boost Software License, Version 1.0.
20563                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
20564                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
20565                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 16; ;
20566                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 17; ; ***************************************************************************
20567                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 18; ; ***************************************************************************
20568                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 19; ;
20569                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 20; ; The maximum X and Y size for blkmaps is 128 blocks (2048 pixels).
20570                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 21; ;
20571                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 22; ; The maximum total size for a blkmap is 16KBytes, which allows for maps up
20572                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 23; ; to 128x128 blocks (2048x2048 pixels).
20573                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 24; ;
20574                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 25; ; Huge multi-screen blkmaps are also supported (optionally).
20575                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 26; ;
20576                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 27; ; The maximum X and Y for multi-screen maps is 128 screens (32768 pixels).
20577                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 28; ;
20578                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 29; ; The maximum total size for a multi-screen map is 8KBytes, which allows for
20579                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 30; ; a total of 1024 screens.
20580                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 31; ;
20581                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 32; ; ***************************************************************************
20582                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 33; ; **************************************************************************/
20583                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 35; // *************
20584                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 36; // Functions in blkmap.asm ...
20585                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 37; // *************
20586                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 39; #ifdef __HUCC__
20587                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 41; #asmdef	HUCC_USES_BLKMAP 1
20588                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 43; // Current top-left of drawn map in pixels.
20589                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 44; extern unsigned int   vdc_map_pxl_x;
20590                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 45; extern unsigned int   vdc_map_pxl_y;
20591                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 47; // Width and height to draw/scroll in characters (not tiles).
20592                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 48; extern unsigned char  vdc_map_draw_w;
20593                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 49; extern unsigned char  vdc_map_draw_h;
20594                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 51; // Width of map (or multi-screen BAT) in tiles.
20595                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 52; extern unsigned char  vdc_map_line_w;
20596                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 54; // Width of map in screens (if multi-screen map).
20597                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 55; extern unsigned char  vdc_map_scrn_w;
20598                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 57; // Extra information returned by get_map_block() and sgx_get_map_block(),
20599                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 58; // which are the collision flags and the mask/overlay sprite for the BLK.
20600                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 59; extern unsigned char  map_blk_flag;
20601                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 60; extern unsigned char  map_blk_mask;
20602                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 62; extern unsigned char  vdc_scr_bank;
20603                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 63; extern unsigned char *vdc_scr_addr;
20604                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 65; extern unsigned char  vdc_map_bank;
20605                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 66; extern unsigned char *vdc_map_addr;
20606                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 68; extern unsigned char  vdc_blk_bank;
20607                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 69; extern unsigned char *vdc_blk_addr;
20608                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 71; extern unsigned char  vdc_tbl_bank;
20609                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 72; extern unsigned char *vdc_tbl_addr;
20610                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 74; extern void __fastcall set_blocks( unsigned char __far *blk_def<vdc_blk_bank:vdc_blk_addr>, unsigned char __far *flg_def<vdc_tbl_bank:vdc_tbl_addr>, unsigned char number_of_blocks<_al> );
20611                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 75; extern void __fastcall __macro set_blkmap( unsigned char __far *blk_map<vdc_map_bank:vdc_map_addr>, unsigned char blocks_w<vdc_map_line_w> );
20612                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 76; extern void __fastcall __macro set_multimap( unsigned char __far *multi_map<vdc_scr_bank:vdc_scr_addr>, unsigned char screens_w<vdc_map_scrn_w> );
20613                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 78; extern void __fastcall draw_map( void );
20614                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 79; extern void __fastcall scroll_map( void );
20615                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 81; extern void __fastcall blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
20616                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 83; extern unsigned char __fastcall get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
20617                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 85; #asm
20618                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 86; .macro	_set_blkmap.2
20619                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 87; stz	vdc_scr_bank
20620                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 88; .endm
20621                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 90; .macro	_set_multimap.2
20622                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 91; lda	vdc_bat_width
20623                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 92; lsr	a
20624                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 93; sta	vdc_map_line_w
20625                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 94; .endm
20626                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 96; .macro	SCREEN
20627                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 97; db	(((\1) & $1FFF) | $6000) >> 8, bank(\1)
20628                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 98; db	(((\2) & $1FFF) | $4000) >> 8, bank(\2)
20629                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 99; db	(((\3) & $1FFF) | $6000) >> 8, bank(\3)
20630                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 100; dw	(\4)
20631                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 101; .endm
20632                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 102; #endasm
20633                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 104; #ifdef _SGX
20634                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 106; // Current top-left of drawn map in pixels.
20635                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 107; extern unsigned int   sgx_map_pxl_x;
20636                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 108; extern unsigned int   sgx_map_pxl_y;
20637                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 110; // Width and height to draw/scroll in characters (not tiles).
20638                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 111; extern unsigned char  sgx_map_draw_w;
20639                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 112; extern unsigned char  sgx_map_draw_h;
20640                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 114; // Width of map (or multi-screen BAT) in tiles.
20641                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 115; extern unsigned char  sgx_map_line_w;
20642                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 117; // Width of map in screens (if multi-screen map).
20643                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 118; extern unsigned char  sgx_map_scrn_w;
20644                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 120; extern unsigned char  sgx_scr_bank;
20645                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 121; extern unsigned char *sgx_scr_addr;
20646                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 123; extern unsigned char  sgx_map_bank;
20647                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 124; extern unsigned char *sgx_map_addr;
20648                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 126; extern unsigned char  sgx_blk_bank;
20649                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 127; extern unsigned char *sgx_blk_addr;
20650                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 129; extern unsigned char  sgx_tbl_bank;
20651                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 130; extern unsigned char *sgx_tbl_addr;
20652                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 132; extern void __fastcall sgx_set_blocks( unsigned char __far *blk_def<sgx_blk_bank:sgx_blk_addr>, unsigned char __far *flg_def<sgx_tbl_bank:sgx_tbl_addr>, unsigned char number_of_blocks<_al> );
20653                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 133; extern void __fastcall __macro sgx_set_blkmap( unsigned char __far *blk_map<sgx_map_bank:sgx_map_addr>, unsigned char blocks_w<sgx_map_line_w> );
20654                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 134; extern void __fastcall __macro sgx_set_multimap( unsigned char __far *multi_map<sgx_scr_bank:sgx_scr_addr>, unsigned char screens_w<sgx_map_scrn_w> );
20655                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 136; extern void __fastcall sgx_draw_map( void );
20656                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 137; extern void __fastcall sgx_scroll_map( void );
20657                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 139; extern void __fastcall sgx_blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
20658                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 141; extern unsigned char __fastcall sgx_get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
20659                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 143; #asm
20660                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 144; .macro	_sgx_set_blkmap.2
20661                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 145; stz	sgx_scr_bank
20662                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 146; .endm
20663                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 148; .macro	_sgx_set_multimap.2
20664                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 149; lda	sgx_bat_width
20665                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 150; lsr	a
20666                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 151; sta	sgx_map_line_w
20667                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 152; .endm
20668                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 153; #endasm
20669                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 155; #endif
20670                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 157; #endif // __HUCC__
20671                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 159; #endif // _hucc_blkmap_h
20672                        		.dbg	line,	"include\init.c", 13; void init_SYSTEM()
20673                        		.dbg	line,	"include\init.c", 14; {
20674                        	;***********************
20675                        	;***********************
20676                        	
20677                        		.hucc
20678    11:DFE3             		.proc		_init_SYSTEM
20679                        		__enter		_init_SYSTEM
20680                        	
20681                        		.dbg	line,	"include\init.c", 15; // DISABLE DISPLAY //
20682                        	
20683                        		.dbg	line,	"include\init.c", 16; disp_off();
20684                        		__call		_disp_off
         11:DFE3  20 3D E4   			call	_disp_off
20685                        	
20686                        		.dbg	line,	"include\init.c", 18; // VSYNC //
20687                        	
20688                        		.dbg	line,	"include\init.c", 19; vsync();
20689                        		__call		_vsync
         11:DFE6  20 1D E3   			call	_vsync
20690                        	
20691                        		.dbg	line,	"include\init.c", 21; // LOAD DEFAULT FONT //
20692                        	
20693                        		.dbg	line,	"include\init.c", 22; load_default_font();
20694                        		 _load_default_font
         11:DFE9  82         			clx				; Offset to PCE VDC.
         11:DFEA  20 C7 FF   			call	huc_monofont_x
20695                        	
20696                        		.dbg	line,	"include\init.c", 25; // SET VDC 1 SCREEN SIZE (IN TILES) - 32x32 = 256 PIXELS
20697                        	
20698                        		.dbg	line,	"include\init.c", 26; set_screen_size(SCR_SIZE_32x32);
20699                        		__st.umiq	0, _al
         11:DFED  64 F8      			stz	_al
20700                        		__call		_set_screen_size.1
         11:DFEF  20 D7 FE   			call	_set_screen_size.1
20701                        	
20702                        		.dbg	line,	"include\init.c", 29; // SET VDC 2 SCREEN SIZE (IN TILES) - 32x32 = 256 PIXELS
20703                        	
20704                        		.dbg	line,	"include\init.c", 30; sgx_set_screen_size(SCR_SIZE_32x32);
20705                        		__st.umiq	0, _al
         11:DFF2  64 F8      			stz	_al
20706                        		__call		_sgx_set_screen_size.1
         11:DFF4  20 CD FE   			call	_sgx_set_screen_size.1
20707                        	
20708                        		.dbg	line,	"include\init.c", 33; // INIT SPRITE ATTRIBUTE TABLE //
20709                        	
20710                        		.dbg	line,	"include\init.c", 34; init_satb();
20711                        		__call		_init_satb
         11:DFF7  20 CB E7   			call	_init_satb
20712                        	
20713                        		.dbg	line,	"include\init.c", 35; sgx_init_satb();
20714                        		__call		_sgx_init_satb
         11:DFFA  20 DE E7   			call	_sgx_init_satb
20715                        	
20716                        		.dbg	line,	"include\init.c", 38; // ENABLE DISPLAY //
20717                        	
20718                        		.dbg	line,	"include\init.c", 39; //disp_on();
20719                        	
20720                        		.dbg	line,	"include\init.c", 40; }
20721    11:DFFD             	.LL1030:
20722                        		__return	0
         11:DFFD  4C EF FF   			jmp	leave_proc
20723                        		.dbg	clear
20724                        		.endp
20725                        		.pceas
20726                        	
20727                        		.dbg	line,	"include\init.c", 43; void init_VARIABLES()
20728                        		.dbg	line,	"include\init.c", 44; {
20729                        	;***********************
20730                        	;***********************
20731                        	
20732                        		.hucc
20733    02:DFB1             		.proc		_init_VARIABLES
20734                        		__enter		_init_VARIABLES
20735                        	
20736                        		.dbg	line,	"include\init.c", 45; sequence_id = SEQUENCE_TITLE; // SEQUENCE_TITLE | SEQUENCE_INTRO | SEQUENCE_LEVEL | SEQUENCE_SHOP
20737                        		__st.umiq	0, _sequence_id
         02:DFB1  9C 15 23   			stz	_sequence_id
20738                        	
20739                        		.dbg	line,	"include\init.c", 47; letter_index = 0;
20740                        		__st.wmiq	0, _letter_index
         02:DFB4  9C 5D 26   			stz.l	_letter_index
         02:DFB7  9C 5E 26   			stz.h	_letter_index
20741                        	
20742                        		.dbg	line,	"include\init.c", 49; level_id = 1;
20743                        		__st.umiq	1, _level_id
         02:DFBA  A9 01      			lda.l	#1
         02:DFBC  8D 17 23   			sta	_level_id
20744                        	
20745                        		.dbg	line,	"include\init.c", 50; display_level_text = TRUE;
20746                        		__st.umiq	1, _display_level_text
         02:DFBF  A9 01      			lda.l	#1
         02:DFC1  8D 18 23   			sta	_display_level_text
20747                        	
20748                        		.dbg	line,	"include\init.c", 52; life_amount = 3;
20749                        		__st.umiq	3, _life_amount
         02:DFC4  A9 03      			lda.l	#3
         02:DFC6  8D 2F 23   			sta	_life_amount
20750                        	
20751                        		.dbg	line,	"include\init.c", 53; credits_amount = 2;
20752                        		__st.umiq	2, _credits_amount
         02:DFC9  A9 02      			lda.l	#2
         02:DFCB  8D 30 23   			sta	_credits_amount
20753                        	
20754                        		.dbg	line,	"include\init.c", 54; key_amount = 0;
20755                        		__st.umiq	0, _key_amount
         02:DFCE  9C 31 23   			stz	_key_amount
20756                        	
20757                        		.dbg	line,	"include\init.c", 55; potion_amount = 0;
20758                        		__st.umiq	0, _potion_amount
         02:DFD1  9C 32 23   			stz	_potion_amount
20759                        	
20760                        		.dbg	line,	"include\init.c", 56; zenny_amount = 0;
20761                        		__st.wmiq	0, _zenny_amount
         02:DFD4  9C 61 26   			stz.l	_zenny_amount
         02:DFD7  9C 62 26   			stz.h	_zenny_amount
20762                        	
20763                        		.dbg	line,	"include\init.c", 58; weapon_level = 0;
20764                        		__st.umiq	0, _weapon_level
         02:DFDA  9C 2B 23   			stz	_weapon_level
20765                        	
20766                        		.dbg	line,	"include\init.c", 59; armor_level = 2;
20767                        		__st.umiq	2, _armor_level
         02:DFDD  A9 02      			lda.l	#2
         02:DFDF  8D 2A 23   			sta	_armor_level
20768                        	
20769                        		.dbg	line,	"include\init.c", 60; 
20770                        	
20771                        		.dbg	line,	"include\init.c", 61; player_naked = FALSE;
20772                        		__st.umiq	0, _player_naked
         02:DFE2  9C 22 23   			stz	_player_naked
20773                        	
20774                        		.dbg	line,	"include\init.c", 63; selected_npc = 0;
20775                        		__st.umiq	0, _selected_npc
         02:DFE5  9C D6 23   			stz	_selected_npc
20776                        	
20777                        		.dbg	line,	"include\init.c", 64; index_x = 0;
20778                        		__st.umiq	0, _index_x
         02:DFE8  9C FB 23   			stz	_index_x
20779                        	
20780                        		.dbg	line,	"include\init.c", 65; index_y = 0;
20781                        		__st.umiq	0, _index_y
         02:DFEB  9C FC 23   			stz	_index_y
20782                        	
20783                        		.dbg	line,	"include\init.c", 66; item_index = 0;
20784                        		__st.umiq	0, _item_index
         02:DFEE  9C FD 23   			stz	_item_index
20785                        	
20786                        		.dbg	line,	"include\init.c", 67; shop_counter = 0;
20787                        		__st.umiq	0, _shop_counter
         02:DFF1  9C FF 23   			stz	_shop_counter
20788                        	
20789                        		.dbg	line,	"include\init.c", 68; shop_phase = SHOP_PHASE_ENTER;
20790                        		__st.umiq	0, _shop_phase
         02:DFF4  9C FE 23   			stz	_shop_phase
20791                        	
20792                        		.dbg	line,	"include\init.c", 70; respawn = FALSE;
20793                        		__st.umiq	0, _respawn
         02:DFF7  9C 19 23   			stz	_respawn
20794                        	
20795                        		.dbg	line,	"include\init.c", 72; sequence_loaded = FALSE;
20796                        		__st.umiq	0, _sequence_loaded
         02:DFFA  9C 16 23   			stz	_sequence_loaded
20797                        	
20798                        		.dbg	line,	"include\init.c", 73; }
20799    02:DFFD             	.LL1031:
20800                        		__return	0
         02:DFFD  4C EF FF   			jmp	leave_proc
20801                        		.dbg	clear
20802                        		.endp
20803                        		.pceas
20804                        	
20805                        		.dbg	line,	"include\init.c", 76; void init_PLAYER()
20806                        		.dbg	line,	"include\init.c", 77; {
20807                        	;***********************
20808                        	;***********************
20809                        	
20810                        		.hucc
20811    20:C4E6             		.proc		_init_PLAYER
20812                        		__enter		_init_PLAYER
20813                        	
20814                        		.dbg	line,	"include\init.c", 78; if(player_naked != RESPAWN_SHOP)
20815                        		__ld.umq	_player_naked
         20:C4E6  AD 22 23   			lda	_player_naked
20816                        		__neq_b.uiq	2
         20:C4E9  38         			sec
         20:C4EA  49 02      			eor	#2
         20:C4EC  D0 01      			bne	!+
         20:C4EE  18         			clc
         20:C4EF             	!:
20817                        		__bfalse	.LL1033
         20:C4EF  90 03      			bcc	.LL1033
20818                        	
20819                        		.dbg	line,	"include\init.c", 79; {
20820                        	
20821                        		.dbg	line,	"include\init.c", 80; player_naked = FALSE;
20822                        		__st.umiq	0, _player_naked
         20:C4F1  9C 22 23   			stz	_player_naked
20823                        	
20824                        		.dbg	line,	"include\init.c", 81; }
20825                        	
20826                        		.dbg	line,	"include\init.c", 82; 
20827                        	
20828                        		.dbg	line,	"include\init.c", 83; player_id = PLAYER_START_INDEX;
20829    20:C4F4             	.LL1033:
20830                        		__st.umiq	14, _player_id
         20:C4F4  A9 0E      			lda.l	#14
         20:C4F6  8D 1A 23   			sta	_player_id
20831                        	
20832                        		.dbg	line,	"include\init.c", 84; player_axis = AXIS_RIGHT;
20833                        		__st.umiq	0, _player_axis
         20:C4F9  9C 1C 23   			stz	_player_axis
20834                        	
20835                        		.dbg	line,	"include\init.c", 85; player_previous_axis = player_axis;
20836                        		__ld.um		_player_axis
         20:C4FC  AD 1C 23   			lda	_player_axis
         20:C4FF  C2         			cly
20837                        		__st.umq	_player_previous_axis
         20:C500  8D 1D 23   			sta	_player_previous_axis
20838                        	
20839                        		.dbg	line,	"include\init.c", 86; player_counter_anim = 0;
20840                        		__st.umiq	0, _player_counter_anim
         20:C503  9C 1E 23   			stz	_player_counter_anim
20841                        	
20842                        		.dbg	line,	"include\init.c", 87; player_index_jump = 0;
20843                        		__st.umiq	0, _player_index_jump
         20:C506  9C 1F 23   			stz	_player_index_jump
20844                        	
20845                        		.dbg	line,	"include\init.c", 88; player_index_fall = 0;
20846                        		__st.umiq	0, _player_index_fall
         20:C509  9C 20 23   			stz	_player_index_fall
20847                        	
20848                        		.dbg	line,	"include\init.c", 89; fall_ladder = FALSE;
20849                        		__st.umiq	0, _fall_ladder
         20:C50C  9C 26 23   			stz	_fall_ladder
20850                        	
20851                        		.dbg	line,	"include\init.c", 90; player_counter_attack = 0;
20852                        		__st.umiq	0, _player_counter_attack
         20:C50F  9C 21 23   			stz	_player_counter_attack
20853                        	
20854                        		.dbg	line,	"include\init.c", 91; player_attack = FALSE;
20855                        		__st.umiq	0, _player_attack
         20:C512  9C 23 23   			stz	_player_attack
20856                        	
20857                        		.dbg	line,	"include\init.c", 92; player_state = STATE_IDLE;
20858                        		__st.umiq	0, _player_state
         20:C515  9C 1B 23   			stz	_player_state
20859                        	
20860                        		.dbg	line,	"include\init.c", 94; chain_id = player_id - 3;
20861                        		__ld.um		_player_id
         20:C518  AD 1A 23   			lda	_player_id
         20:C51B  C2         			cly
20862                        		__sub.wi	3
         20:C51C  38         			sec
         20:C51D  E9 03      			sbc.l	#3
         20:C51F  B0 01      			bcs	!+
         20:C521  88         			dey
         20:C522             	!:
20863                        		__st.umq	_chain_id
         20:C522  8D 28 23   			sta	_chain_id
20864                        	
20865                        		.dbg	line,	"include\init.c", 95; }
20866    20:C525             	.LL1032:
20867                        		__return	0
         20:C525  4C EF FF   			jmp	leave_proc
20868                        		.dbg	clear
20869                        		.endp
20870                        		.pceas
20871                        	
20872                        		.dbg	line,	"include\init.c", 104; void init_TITLE()
20873                        		.dbg	line,	"include\init.c", 105; {
20874                        	;***********************
20875                        	;***********************
20876                        	
20877                        		.hucc
20878    1F:D0FC             		.proc		_init_TITLE
20879                        		__enter		_init_TITLE
20880                        	
20881                        		.dbg	line,	"include\init.c", 106; // DISABLE DISPLAY //
20882                        	
20883                        		.dbg	line,	"include\init.c", 107; disp_off();
20884                        		__call		_disp_off
         1F:D0FC  20 3D E4   			call	_disp_off
20885                        	
20886                        		.dbg	line,	"include\init.c", 108; 
20887                        	
20888                        		.dbg	line,	"include\init.c", 110; // VSYNC //
20889                        	
20890                        		.dbg	line,	"include\init.c", 111; vsync();
20891                        		__call		_vsync
         1F:D0FF  20 1D E3   			call	_vsync
20892                        	
20893                        		.dbg	line,	"include\init.c", 114; // SET VDC 1 SCREEN SIZE (IN TILES) - 64x64 = 256 PIXELS
20894                        	
20895                        		.dbg	line,	"include\init.c", 115; set_screen_size(SCR_SIZE_32x32);
20896                        		__st.umiq	0, _al
         1F:D102  64 F8      			stz	_al
20897                        		__call		_set_screen_size.1
         1F:D104  20 D7 FE   			call	_set_screen_size.1
20898                        	
20899                        		.dbg	line,	"include\init.c", 117; // SET VDC 2 SCREEN SIZE (IN TILES) - 32x32 = 512 PIXELS
20900                        	
20901                        		.dbg	line,	"include\init.c", 118; //sgx_set_screen_size(SCR_SIZE_32x32);
20902                        	
20903                        		.dbg	line,	"include\init.c", 123; //**************************************************************************************//
20904                        	
20905                        		.dbg	line,	"include\init.c", 124; //                                                                                      //
20906                        	
20907                        		.dbg	line,	"include\init.c", 125; //                                        VDC 1                                         //
20908                        	
20909                        		.dbg	line,	"include\init.c", 126; //                                                                                      //
20910                        	
20911                        		.dbg	line,	"include\init.c", 127; //**************************************************************************************//
20912                        	
20913                        		.dbg	line,	"include\init.c", 129; //--------------------------------------------------------------------------------------//
20914                        	
20915                        		.dbg	line,	"include\init.c", 130; //                                      LOAD FONT                                       //
20916                        	
20917                        		.dbg	line,	"include\init.c", 131; //--------------------------------------------------------------------------------------//
20918                        	
20919                        		.dbg	line,	"include\init.c", 133; load_vram( 0x0800, tileset_FONT_TITLE, SIZEOF(tileset_FONT_TITLE) >> 1 );
20920                        		__st.wmiq	2048, _di
         1F:D107  64 F0      			stz.l	_di
         1F:D109  A9 08      			lda.h	#2048
         1F:D10B  85 F1      			sta.h	_di
20921                        		__farptr	_tileset_FONT_TITLE, _bp_bank, _bp
         1F:D10D  A9 E0      			lda.l	#$6000 + ($1FFF & (_tileset_FONT_TITLE))
         1F:D10F  85 EC      			sta.l	_bp
         1F:D111  A9 71      			lda.h	#$6000 + ($1FFF & (_tileset_FONT_TITLE))
         1F:D113  85 ED      			sta.h	_bp
         1F:D115  A9 12      			lda	#bank(_tileset_FONT_TITLE)
         1F:D117  85 02      			sta	_bp_bank
20922                        		__ld.wi		___sizeof__tileset_FONT_TITLE
         1F:D119  A9 00      			lda.l	#___sizeof__tileset_FONT_TITLE
         1F:D11B  A0 0C      			ldy.h	#___sizeof__tileset_FONT_TITLE
20923                        		__lsr.wi	1
         1F:D11D  42         			say
         1F:D11E  4A         			lsr	a
         1F:D11F  42         			say
         1F:D120  6A         			ror	a
20924                        		__st.wmq	_ax
         1F:D121  85 F8      			sta.l	_ax
         1F:D123  84 F9      			sty.h	_ax
20925                        		 _load_vram.3
         1F:D125  82         			clx				; Offset to PCE VDC.
         1F:D126  20 EB FE   			call	load_vram_x
20926                        	
20927                        		.dbg	line,	"include\init.c", 135; set_font_pal(15);
20928                        		__ld.uiq	15
         1F:D129  A9 0F      			lda	#15
20929                        		__call		_set_font_pal.1
         1F:D12B  20 00 E6   			call	_set_font_pal.1
20930                        	
20931                        		.dbg	line,	"include\init.c", 139; //--------------------------------------------------------------------------------------//
20932                        	
20933                        		.dbg	line,	"include\init.c", 140; //                                    LOAD TILEMAP                                      //
20934                        	
20935                        		.dbg	line,	"include\init.c", 141; //--------------------------------------------------------------------------------------//
20936                        	
20937                        		.dbg	line,	"include\init.c", 143; load_vram( 0x0000, tilemap_TITLE_BG_B, SIZEOF(tilemap_TITLE_BG_B) >> 1 );
20938                        		__st.wmiq	0, _di
         1F:D12E  64 F0      			stz.l	_di
         1F:D130  64 F1      			stz.h	_di
20939                        		__farptr	_tilemap_TITLE_BG_B, _bp_bank, _bp
         1F:D132  A9 40      			lda.l	#$6000 + ($1FFF & (_tilemap_TITLE_BG_B))
         1F:D134  85 EC      			sta.l	_bp
         1F:D136  A9 7A      			lda.h	#$6000 + ($1FFF & (_tilemap_TITLE_BG_B))
         1F:D138  85 ED      			sta.h	_bp
         1F:D13A  A9 13      			lda	#bank(_tilemap_TITLE_BG_B)
         1F:D13C  85 02      			sta	_bp_bank
20940                        		__ld.wi		___sizeof__tilemap_TITLE_BG_B
         1F:D13E  A9 00      			lda.l	#___sizeof__tilemap_TITLE_BG_B
         1F:D140  A0 07      			ldy.h	#___sizeof__tilemap_TITLE_BG_B
20941                        		__lsr.wi	1
         1F:D142  42         			say
         1F:D143  4A         			lsr	a
         1F:D144  42         			say
         1F:D145  6A         			ror	a
20942                        		__st.wmq	_ax
         1F:D146  85 F8      			sta.l	_ax
         1F:D148  84 F9      			sty.h	_ax
20943                        		 _load_vram.3
         1F:D14A  82         			clx				; Offset to PCE VDC.
         1F:D14B  20 EB FE   			call	load_vram_x
20944                        	
20945                        		.dbg	line,	"include\init.c", 145; //--------------------------------------------------------------------------------------//
20946                        	
20947                        		.dbg	line,	"include\init.c", 146; //                                    LOAD TILESET                                      //
20948                        	
20949                        		.dbg	line,	"include\init.c", 147; //--------------------------------------------------------------------------------------//
20950                        	
20951                        		.dbg	line,	"include\init.c", 149; load_vram( 0x1000, tileset_TITLE_BG_B, SIZEOF(tileset_TITLE_BG_B) >> 1 );
20952                        		__st.wmiq	4096, _di
         1F:D14E  64 F0      			stz.l	_di
         1F:D150  A9 10      			lda.h	#4096
         1F:D152  85 F1      			sta.h	_di
20953                        		__farptr	_tileset_TITLE_BG_B, _bp_bank, _bp
         1F:D154  A9 E0      			lda.l	#$6000 + ($1FFF & (_tileset_TITLE_BG_B))
         1F:D156  85 EC      			sta.l	_bp
         1F:D158  A9 7D      			lda.h	#$6000 + ($1FFF & (_tileset_TITLE_BG_B))
         1F:D15A  85 ED      			sta.h	_bp
         1F:D15C  A9 12      			lda	#bank(_tileset_TITLE_BG_B)
         1F:D15E  85 02      			sta	_bp_bank
20954                        		__ld.wi		___sizeof__tileset_TITLE_BG_B
         1F:D160  A9 60      			lda.l	#___sizeof__tileset_TITLE_BG_B
         1F:D162  A0 1C      			ldy.h	#___sizeof__tileset_TITLE_BG_B
20955                        		__lsr.wi	1
         1F:D164  42         			say
         1F:D165  4A         			lsr	a
         1F:D166  42         			say
         1F:D167  6A         			ror	a
20956                        		__st.wmq	_ax
         1F:D168  85 F8      			sta.l	_ax
         1F:D16A  84 F9      			sty.h	_ax
20957                        		 _load_vram.3
         1F:D16C  82         			clx				; Offset to PCE VDC.
         1F:D16D  20 EB FE   			call	load_vram_x
20958                        	
20959                        		.dbg	line,	"include\init.c", 154; //put_string("PRESS RUN"   , 11 , 18);
20960                        	
20961                        		.dbg	line,	"include\init.c", 155; put_string("START GAME"  	, 11 , 18);
20962                        		__ld.wi		__const1+0
         1F:D170  A9 00      			lda.l	#__const1+0
         1F:D172  A0 60      			ldy.h	#__const1+0
20963                        		__st.wmq	_bp
         1F:D174  85 EC      			sta.l	_bp
         1F:D176  84 ED      			sty.h	_bp
20964                        		__st.umiq	11, _dil
         1F:D178  A9 0B      			lda.l	#11
         1F:D17A  85 F0      			sta	_dil
20965                        		__st.umiq	18, _dih
         1F:D17C  A9 12      			lda.l	#18
         1F:D17E  85 F1      			sta	_dih
20966                        		__call		_put_string.3
         1F:D180  20 5F E6   			call	_put_string.3
20967                        	
20968                        		.dbg	line,	"include\init.c", 157; put_string("LIFE"        	, 11 , 20);
20969                        		__ld.wi		__const1+11
         1F:D183  A9 0B      			lda.l	#__const1+11
         1F:D185  A0 60      			ldy.h	#__const1+11
20970                        		__st.wmq	_bp
         1F:D187  85 EC      			sta.l	_bp
         1F:D189  84 ED      			sty.h	_bp
20971                        		__st.umiq	11, _dil
         1F:D18B  A9 0B      			lda.l	#11
         1F:D18D  85 F0      			sta	_dil
20972                        		__st.umiq	20, _dih
         1F:D18F  A9 14      			lda.l	#20
         1F:D191  85 F1      			sta	_dih
20973                        		__call		_put_string.3
         1F:D193  20 5F E6   			call	_put_string.3
20974                        	
20975                        		.dbg	line,	"include\init.c", 158; put_number(life_amount   	,  1 , 20 , 20);
20976                        		__ld.um		_life_amount
         1F:D196  AD 2F 23   			lda	_life_amount
         1F:D199  C2         			cly
20977                        		__st.wmq	_bx
         1F:D19A  85 FA      			sta.l	_bx
         1F:D19C  84 FB      			sty.h	_bx
20978                        		__st.umiq	1, _cl
         1F:D19E  A9 01      			lda.l	#1
         1F:D1A0  85 FC      			sta	_cl
20979                        		__st.umiq	20, _dil
         1F:D1A2  A9 14      			lda.l	#20
         1F:D1A4  85 F0      			sta	_dil
20980                        		__st.umiq	20, _dih
         1F:D1A6  A9 14      			lda.l	#20
         1F:D1A8  85 F1      			sta	_dih
20981                        		__call		_put_number.4
         1F:D1AA  20 6D FF   			call	_put_number.4
20982                        	
20983                        		.dbg	line,	"include\init.c", 160; put_string("CREDITS"		, 11 , 21);
20984                        		__ld.wi		__const1+16
         1F:D1AD  A9 10      			lda.l	#__const1+16
         1F:D1AF  A0 60      			ldy.h	#__const1+16
20985                        		__st.wmq	_bp
         1F:D1B1  85 EC      			sta.l	_bp
         1F:D1B3  84 ED      			sty.h	_bp
20986                        		__st.umiq	11, _dil
         1F:D1B5  A9 0B      			lda.l	#11
         1F:D1B7  85 F0      			sta	_dil
20987                        		__st.umiq	21, _dih
         1F:D1B9  A9 15      			lda.l	#21
         1F:D1BB  85 F1      			sta	_dih
20988                        		__call		_put_string.3
         1F:D1BD  20 5F E6   			call	_put_string.3
20989                        	
20990                        		.dbg	line,	"include\init.c", 161; put_number(credits_amount   ,  1 , 20 , 21);
20991                        		__ld.um		_credits_amount
         1F:D1C0  AD 30 23   			lda	_credits_amount
         1F:D1C3  C2         			cly
20992                        		__st.wmq	_bx
         1F:D1C4  85 FA      			sta.l	_bx
         1F:D1C6  84 FB      			sty.h	_bx
20993                        		__st.umiq	1, _cl
         1F:D1C8  A9 01      			lda.l	#1
         1F:D1CA  85 FC      			sta	_cl
20994                        		__st.umiq	20, _dil
         1F:D1CC  A9 14      			lda.l	#20
         1F:D1CE  85 F0      			sta	_dil
20995                        		__st.umiq	21, _dih
         1F:D1D0  A9 15      			lda.l	#21
         1F:D1D2  85 F1      			sta	_dih
20996                        		__call		_put_number.4
         1F:D1D4  20 6D FF   			call	_put_number.4
20997                        	
20998                        		.dbg	line,	"include\init.c", 163; put_string("CAPCOM 1987" 	, 11 , 26);
20999                        		__ld.wi		__const1+24
         1F:D1D7  A9 18      			lda.l	#__const1+24
         1F:D1D9  A0 60      			ldy.h	#__const1+24
21000                        		__st.wmq	_bp
         1F:D1DB  85 EC      			sta.l	_bp
         1F:D1DD  84 ED      			sty.h	_bp
21001                        		__st.umiq	11, _dil
         1F:D1DF  A9 0B      			lda.l	#11
         1F:D1E1  85 F0      			sta	_dil
21002                        		__st.umiq	26, _dih
         1F:D1E3  A9 1A      			lda.l	#26
         1F:D1E5  85 F1      			sta	_dih
21003                        		__call		_put_string.3
         1F:D1E7  20 5F E6   			call	_put_string.3
21004                        	
21005                        		.dbg	line,	"include\init.c", 168; //--------------------------------------------------------------------------------------//
21006                        	
21007                        		.dbg	line,	"include\init.c", 169; //                                   LOAD BG PALETTES                                   //
21008                        	
21009                        		.dbg	line,	"include\init.c", 170; //--------------------------------------------------------------------------------------//
21010                        	
21011                        		.dbg	line,	"include\init.c", 172; load_palette( 0, palette_TITLE, 16 );
21012                        		__st.umiq	0, _al
         1F:D1EA  64 F8      			stz	_al
21013                        		__farptr	_palette_TITLE, _bp_bank, _bp
         1F:D1EC  A9 40      			lda.l	#$6000 + ($1FFF & (_palette_TITLE))
         1F:D1EE  85 EC      			sta.l	_bp
         1F:D1F0  A9 61      			lda.h	#$6000 + ($1FFF & (_palette_TITLE))
         1F:D1F2  85 ED      			sta.h	_bp
         1F:D1F4  A9 14      			lda	#bank(_palette_TITLE)
         1F:D1F6  85 02      			sta	_bp_bank
21014                        		__st.umiq	16, _ah
         1F:D1F8  A9 10      			lda.l	#16
         1F:D1FA  85 F9      			sta	_ah
21015                        		__call		_load_palette.3
         1F:D1FC  20 8B FF   			call	_load_palette.3
21016                        	
21017                        		.dbg	line,	"include\init.c", 177; //**************************************************************************************//
21018                        	
21019                        		.dbg	line,	"include\init.c", 178; //                                                                                      //
21020                        	
21021                        		.dbg	line,	"include\init.c", 179; //                                       SPRITES                                        //
21022                        	
21023                        		.dbg	line,	"include\init.c", 180; //                                                                                      //
21024                        	
21025                        		.dbg	line,	"include\init.c", 181; //**************************************************************************************//
21026                        	
21027                        		.dbg	line,	"include\init.c", 183; //--------------------------------------------------------------------------------------//
21028                        	
21029                        		.dbg	line,	"include\init.c", 184; //                                        CURSOR                                        //
21030                        	
21031                        		.dbg	line,	"include\init.c", 185; //--------------------------------------------------------------------------------------//
21032                        	
21033                        		.dbg	line,	"include\init.c", 187; // LOAD CURSOR TILES //
21034                        	
21035                        		.dbg	line,	"include\init.c", 188; load_vram(0x2000, tiles_SPR_SELECTOR , SIZEOF(tiles_SPR_SELECTOR) >> 1 );
21036                        		__st.wmiq	8192, _di
         1F:D1FF  64 F0      			stz.l	_di
         1F:D201  A9 20      			lda.h	#8192
         1F:D203  85 F1      			sta.h	_di
21037                        		__farptr	_tiles_SPR_SELECTOR, _bp_bank, _bp
         1F:D205  A9 40      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_SELECTOR))
         1F:D207  85 EC      			sta.l	_bp
         1F:D209  A9 65      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_SELECTOR))
         1F:D20B  85 ED      			sta.h	_bp
         1F:D20D  A9 16      			lda	#bank(_tiles_SPR_SELECTOR)
         1F:D20F  85 02      			sta	_bp_bank
21038                        		__ld.wi		___sizeof__tiles_SPR_SELECTOR
         1F:D211  A9 80      			lda.l	#___sizeof__tiles_SPR_SELECTOR
         1F:D213  A0 00      			ldy.h	#___sizeof__tiles_SPR_SELECTOR
21039                        		__lsr.wi	1
         1F:D215  42         			say
         1F:D216  4A         			lsr	a
         1F:D217  42         			say
         1F:D218  6A         			ror	a
21040                        		__st.wmq	_ax
         1F:D219  85 F8      			sta.l	_ax
         1F:D21B  84 F9      			sty.h	_ax
21041                        		 _load_vram.3
         1F:D21D  82         			clx				; Offset to PCE VDC.
         1F:D21E  20 EB FE   			call	load_vram_x
21042                        	
21043                        		.dbg	line,	"include\init.c", 191; // SELECT CURSOR SPRITE //
21044                        	
21045                        		.dbg	line,	"include\init.c", 192; spr_set(0);
21046                        		__ld.uiq	0
         1F:D221  62         			cla
21047                        		__call		_spr_set.1
         1F:D222  20 F1 E7   			call	_spr_set.1
21048                        	
21049                        		.dbg	line,	"include\init.c", 195; spr_x(72);
21050                        		__ld.wi		72
         1F:D225  A9 48      			lda.l	#72
         1F:D227  C2         			cly
21051                        		__call		_spr_x.1
         1F:D228  20 1E E8   			call	_spr_x.1
21052                        	
21053                        		.dbg	line,	"include\init.c", 196; spr_y(144);
21054                        		__ld.wi		144
         1F:D22B  A9 90      			lda.l	#144
         1F:D22D  C2         			cly
21055                        		__call		_spr_y.1
         1F:D22E  20 2D E8   			call	_spr_y.1
21056                        	
21057                        		.dbg	line,	"include\init.c", 198; // SET TILES DATA FOR THE CURSOR //
21058                        	
21059                        		.dbg	line,	"include\init.c", 199; spr_pattern(0x2000);
21060                        		__ld.wi		8192
         1F:D231  62         			cla
         1F:D232  A0 20      			ldy.h	#8192
21061                        		__call		_spr_pattern.1
         1F:D234  20 3A E8   			call	_spr_pattern.1
21062                        	
21063                        		.dbg	line,	"include\init.c", 202; spr_ctrl(FLIP_MAS|SIZE_MAS, NO_FLIP|SZ_16x16);
21064                        		__st.umiq	185, _al
         1F:D237  A9 B9      			lda.l	#185
         1F:D239  85 F8      			sta	_al
21065                        		__ld.uiq	0
         1F:D23B  62         			cla
21066                        		__call		_spr_ctrl.2
         1F:D23C  20 50 E8   			call	_spr_ctrl.2
21067                        	
21068                        		.dbg	line,	"include\init.c", 205; spr_pal(16);
21069                        		__ld.uiq	16
         1F:D23F  A9 10      			lda	#16
21070                        		__call		_spr_pal.1
         1F:D241  20 61 E8   			call	_spr_pal.1
21071                        	
21072                        		.dbg	line,	"include\init.c", 206; spr_pri(TRUE);
21073                        		__ld.uiq	1
         1F:D244  A9 01      			lda	#1
21074                        		__call		_spr_pri.1
         1F:D246  20 70 E8   			call	_spr_pri.1
21075                        	
21076                        		.dbg	line,	"include\init.c", 209; //--------------------------------------------------------------------------------------//
21077                        	
21078                        		.dbg	line,	"include\init.c", 210; //                                LOAD SPRITES PALETTES                                 //
21079                        	
21080                        		.dbg	line,	"include\init.c", 211; //--------------------------------------------------------------------------------------//
21081                        	
21082                        		.dbg	line,	"include\init.c", 213; load_palette( 16, palette_objects_2, 1 );
21083                        		__st.umiq	16, _al
         1F:D249  A9 10      			lda.l	#16
         1F:D24B  85 F8      			sta	_al
21084                        		__farptr	_palette_objects_2, _bp_bank, _bp
         1F:D24D  A9 40      			lda.l	#$6000 + ($1FFF & (_palette_objects_2))
         1F:D24F  85 EC      			sta.l	_bp
         1F:D251  A9 7C      			lda.h	#$6000 + ($1FFF & (_palette_objects_2))
         1F:D253  85 ED      			sta.h	_bp
         1F:D255  A9 1A      			lda	#bank(_palette_objects_2)
         1F:D257  85 02      			sta	_bp_bank
21085                        		__st.umiq	1, _ah
         1F:D259  A9 01      			lda.l	#1
         1F:D25B  85 F9      			sta	_ah
21086                        		__call		_load_palette.3
         1F:D25D  20 8B FF   			call	_load_palette.3
21087                        	
21088                        		.dbg	line,	"include\init.c", 218; // UPDATE PCE SAT //
21089                        	
21090                        		.dbg	line,	"include\init.c", 219; satb_update();
21091                        		__call		_satb_update
         1F:D260  20 C3 FE   			call	_satb_update
21092                        	
21093                        		.dbg	line,	"include\init.c", 224; // VSYNC //
21094                        	
21095                        		.dbg	line,	"include\init.c", 225; vsync();
21096                        		__call		_vsync
         1F:D263  20 1D E3   			call	_vsync
21097                        	
21098                        		.dbg	line,	"include\init.c", 227; // ENABLE DISPLAY //
21099                        	
21100                        		.dbg	line,	"include\init.c", 228; disp_on();
21101                        		__call		_disp_on
         1F:D266  20 2A E4   			call	_disp_on
21102                        	
21103                        		.dbg	line,	"include\init.c", 229; }
21104    1F:D269             	.LL1034:
21105                        		__return	0
         1F:D269  4C EF FF   			jmp	leave_proc
21106                        		.dbg	clear
21107                        		.endp
21108                        		.pceas
21109                        	
21110                        		.dbg	line,	"include\init.c", 235; void init_INTRO()
21111                        		.dbg	line,	"include\init.c", 236; {
21112                        	;***********************
21113                        	;***********************
21114                        	
21115                        		.hucc
21116    1F:CCBA             		.proc		_init_INTRO
21117                        		__enter		_init_INTRO
21118                        	
21119                        		.dbg	line,	"include\init.c", 237; char i;
21120                        	
21121                        		.dbg	line,	"include\init.c", 238; 
21122                        	
21123                        		.dbg	line,	"include\init.c", 239; // DISABLE DISPLAY //
21124                        	
21125                        		.dbg	line,	"include\init.c", 240; disp_off();
21126                        		__call		_disp_off
         1F:CCBA  20 3D E4   			call	_disp_off
21127                        	
21128                        		.dbg	line,	"include\init.c", 241; 
21129                        	
21130                        		.dbg	line,	"include\init.c", 243; // VSYNC //
21131                        	
21132                        		.dbg	line,	"include\init.c", 244; vsync();
21133                        		__call		_vsync
         1F:CCBD  20 1D E3   			call	_vsync
21134                        	
21135                        		.dbg	line,	"include\init.c", 247; // SET VDC 1 SCREEN SIZE (IN TILES) - 64x64 = 256 PIXELS
21136                        	
21137                        		.dbg	line,	"include\init.c", 248; set_screen_size(SCR_SIZE_64x64);
21138                        		__st.umiq	5, _al
         1F:CCC0  A9 05      			lda.l	#5
         1F:CCC2  85 F8      			sta	_al
21139                        		__call		_set_screen_size.1
         1F:CCC4  20 D7 FE   			call	_set_screen_size.1
21140                        	
21141                        		.dbg	line,	"include\init.c", 250; // SET VDC 2 SCREEN SIZE (IN TILES) - 32x32 = 256 PIXELS
21142                        	
21143                        		.dbg	line,	"include\init.c", 251; sgx_set_screen_size(SCR_SIZE_32x32);
21144                        		__st.umiq	0, _al
         1F:CCC7  64 F8      			stz	_al
21145                        		__call		_sgx_set_screen_size.1
         1F:CCC9  20 CD FE   			call	_sgx_set_screen_size.1
21146                        	
21147                        		.dbg	line,	"include\init.c", 256; //**************************************************************************************//
21148                        	
21149                        		.dbg	line,	"include\init.c", 257; //                                                                                      //
21150                        	
21151                        		.dbg	line,	"include\init.c", 258; //                                      VARIABLES                                       //
21152                        	
21153                        		.dbg	line,	"include\init.c", 259; //                                                                                      //
21154                        	
21155                        		.dbg	line,	"include\init.c", 260; //**************************************************************************************//
21156                        	
21157                        		.dbg	line,	"include\init.c", 262; global_counter = 1;
21158                        		__st.wmiq	1, _global_counter
         1F:CCCC  A9 01      			lda.l	#1
         1F:CCCE  8D 5B 26   			sta.l	_global_counter
         1F:CCD1  9C 5C 26   			stz.h	_global_counter
21159                        	
21160                        		.dbg	line,	"include\init.c", 264; vdc_map_pxl_x = 0;
21161                        		__st.wmiq	0, _vdc_map_pxl_x
         1F:CCD4  9C D4 26   			stz.l	_vdc_map_pxl_x
         1F:CCD7  9C D5 26   			stz.h	_vdc_map_pxl_x
21162                        	
21163                        		.dbg	line,	"include\init.c", 265; vdc_map_pxl_y = 0;
21164                        		__st.wmiq	0, _vdc_map_pxl_y
         1F:CCDA  9C D6 26   			stz.l	_vdc_map_pxl_y
         1F:CCDD  9C D7 26   			stz.h	_vdc_map_pxl_y
21165                        	
21166                        		.dbg	line,	"include\init.c", 270; //**************************************************************************************//
21167                        	
21168                        		.dbg	line,	"include\init.c", 271; //                                                                                      //
21169                        	
21170                        		.dbg	line,	"include\init.c", 272; //                                        VDC 1                                         //
21171                        	
21172                        		.dbg	line,	"include\init.c", 273; //                                                                                      //
21173                        	
21174                        		.dbg	line,	"include\init.c", 274; //**************************************************************************************//
21175                        	
21176                        		.dbg	line,	"include\init.c", 276; //--------------------------------------------------------------------------------------//
21177                        	
21178                        		.dbg	line,	"include\init.c", 277; //                                    LOAD TILEMAP                                      //
21179                        	
21180                        		.dbg	line,	"include\init.c", 278; //--------------------------------------------------------------------------------------//
21181                        	
21182                        		.dbg	line,	"include\init.c", 280; load_vram( 0x0000, tilemap_INTRO_BG_A, SIZEOF(tilemap_INTRO_BG_A) >> 1 );
21183                        		__st.wmiq	0, _di
         1F:CCE0  64 F0      			stz.l	_di
         1F:CCE2  64 F1      			stz.h	_di
21184                        		__farptr	_tilemap_INTRO_BG_A, _bp_bank, _bp
         1F:CCE4  A9 E0      			lda.l	#$6000 + ($1FFF & (_tilemap_INTRO_BG_A))
         1F:CCE6  85 EC      			sta.l	_bp
         1F:CCE8  A9 76      			lda.h	#$6000 + ($1FFF & (_tilemap_INTRO_BG_A))
         1F:CCEA  85 ED      			sta.h	_bp
         1F:CCEC  A9 05      			lda	#bank(_tilemap_INTRO_BG_A)
         1F:CCEE  85 02      			sta	_bp_bank
21185                        		__ld.wi		___sizeof__tilemap_INTRO_BG_A
         1F:CCF0  A9 00      			lda.l	#___sizeof__tilemap_INTRO_BG_A
         1F:CCF2  A0 20      			ldy.h	#___sizeof__tilemap_INTRO_BG_A
21186                        		__lsr.wi	1
         1F:CCF4  42         			say
         1F:CCF5  4A         			lsr	a
         1F:CCF6  42         			say
         1F:CCF7  6A         			ror	a
21187                        		__st.wmq	_ax
         1F:CCF8  85 F8      			sta.l	_ax
         1F:CCFA  84 F9      			sty.h	_ax
21188                        		 _load_vram.3
         1F:CCFC  82         			clx				; Offset to PCE VDC.
         1F:CCFD  20 EB FE   			call	load_vram_x
21189                        	
21190                        		.dbg	line,	"include\init.c", 282; //--------------------------------------------------------------------------------------//
21191                        	
21192                        		.dbg	line,	"include\init.c", 283; //                                    LOAD TILESET                                      //
21193                        	
21194                        		.dbg	line,	"include\init.c", 284; //--------------------------------------------------------------------------------------//
21195                        	
21196                        		.dbg	line,	"include\init.c", 286; load_vram( 0x1000, tileset_INTRO_BG_A, SIZEOF(tileset_INTRO_BG_A) >> 1 );
21197                        		__st.wmiq	4096, _di
         1F:CD00  64 F0      			stz.l	_di
         1F:CD02  A9 10      			lda.h	#4096
         1F:CD04  85 F1      			sta.h	_di
21198                        		__farptr	_tileset_INTRO_BG_A, _bp_bank, _bp
         1F:CD06  A9 60      			lda.l	#$6000 + ($1FFF & (_tileset_INTRO_BG_A))
         1F:CD08  85 EC      			sta.l	_bp
         1F:CD0A  A9 6B      			lda.h	#$6000 + ($1FFF & (_tileset_INTRO_BG_A))
         1F:CD0C  85 ED      			sta.h	_bp
         1F:CD0E  A9 05      			lda	#bank(_tileset_INTRO_BG_A)
         1F:CD10  85 02      			sta	_bp_bank
21199                        		__ld.wi		___sizeof__tileset_INTRO_BG_A
         1F:CD12  A9 80      			lda.l	#___sizeof__tileset_INTRO_BG_A
         1F:CD14  A0 0B      			ldy.h	#___sizeof__tileset_INTRO_BG_A
21200                        		__lsr.wi	1
         1F:CD16  42         			say
         1F:CD17  4A         			lsr	a
         1F:CD18  42         			say
         1F:CD19  6A         			ror	a
21201                        		__st.wmq	_ax
         1F:CD1A  85 F8      			sta.l	_ax
         1F:CD1C  84 F9      			sty.h	_ax
21202                        		 _load_vram.3
         1F:CD1E  82         			clx				; Offset to PCE VDC.
         1F:CD1F  20 EB FE   			call	load_vram_x
21203                        	
21204                        		.dbg	line,	"include\init.c", 289; //--------------------------------------------------------------------------------------//
21205                        	
21206                        		.dbg	line,	"include\init.c", 290; //                                    SCROLL SPLIT                                      //
21207                        	
21208                        		.dbg	line,	"include\init.c", 291; //--------------------------------------------------------------------------------------//
21209                        	
21210                        		.dbg	line,	"include\init.c", 293; scroll_split(0,   0, vdc_map_pxl_x & (511), vdc_map_pxl_y & (511), BKG_ON | SPR_ON);
21211                        		__st.umiq	0, _al
         1F:CD22  64 F8      			stz	_al
21212                        		__st.umiq	0, _ah
         1F:CD24  64 F9      			stz	_ah
21213                        		__ld.wm		_vdc_map_pxl_x
         1F:CD26  AD D4 26   			lda.l	_vdc_map_pxl_x
         1F:CD29  AC D5 26   			ldy.h	_vdc_map_pxl_x
21214                        		__and.wi	511
         1F:CD2C  29 FF      			and.l	#511
         1F:CD2E  42         			say
         1F:CD2F  29 01      			and.h	#511
         1F:CD31  42         			say
21215                        		__st.wmq	_bx
         1F:CD32  85 FA      			sta.l	_bx
         1F:CD34  84 FB      			sty.h	_bx
21216                        		__ld.wm		_vdc_map_pxl_y
         1F:CD36  AD D6 26   			lda.l	_vdc_map_pxl_y
         1F:CD39  AC D7 26   			ldy.h	_vdc_map_pxl_y
21217                        		__and.wi	511
         1F:CD3C  29 FF      			and.l	#511
         1F:CD3E  42         			say
         1F:CD3F  29 01      			and.h	#511
         1F:CD41  42         			say
21218                        		__st.wmq	_cx
         1F:CD42  85 FC      			sta.l	_cx
         1F:CD44  84 FD      			sty.h	_cx
21219                        		__st.umiq	192, _dl
         1F:CD46  A9 C0      			lda.l	#192
         1F:CD48  85 FE      			sta	_dl
21220                        		__call		_scroll_split.5
         1F:CD4A  20 81 FF   			call	_scroll_split.5
21221                        	
21222                        		.dbg	line,	"include\init.c", 298; //--------------------------------------------------------------------------------------//
21223                        	
21224                        		.dbg	line,	"include\init.c", 299; //                                      LOAD FONT                                       //
21225                        	
21226                        		.dbg	line,	"include\init.c", 300; //--------------------------------------------------------------------------------------//
21227                        	
21228                        		.dbg	line,	"include\init.c", 302; set_font_addr(0x3000);
21229                        		__ld.wi		12288
         1F:CD4D  62         			cla
         1F:CD4E  A0 30      			ldy.h	#12288
21230                        		__call		_set_font_addr.1
         1F:CD50  20 D9 E5   			call	_set_font_addr.1
21231                        	
21232                        		.dbg	line,	"include\init.c", 303; load_vram( 0x3000, tileset_FONT_INTRO, SIZEOF(tileset_FONT_INTRO) >> 1 );
21233                        		__st.wmiq	12288, _di
         1F:CD53  64 F0      			stz.l	_di
         1F:CD55  A9 30      			lda.h	#12288
         1F:CD57  85 F1      			sta.h	_di
21234                        		__farptr	_tileset_FONT_INTRO, _bp_bank, _bp
         1F:CD59  A9 00      			lda.l	#$6000 + ($1FFF & (_tileset_FONT_INTRO))
         1F:CD5B  85 EC      			sta.l	_bp
         1F:CD5D  A9 60      			lda.h	#$6000 + ($1FFF & (_tileset_FONT_INTRO))
         1F:CD5F  85 ED      			sta.h	_bp
         1F:CD61  A9 03      			lda	#bank(_tileset_FONT_INTRO)
         1F:CD63  85 02      			sta	_bp_bank
21235                        		__ld.wi		___sizeof__tileset_FONT_INTRO
         1F:CD65  A9 00      			lda.l	#___sizeof__tileset_FONT_INTRO
         1F:CD67  A0 0C      			ldy.h	#___sizeof__tileset_FONT_INTRO
21236                        		__lsr.wi	1
         1F:CD69  42         			say
         1F:CD6A  4A         			lsr	a
         1F:CD6B  42         			say
         1F:CD6C  6A         			ror	a
21237                        		__st.wmq	_ax
         1F:CD6D  85 F8      			sta.l	_ax
         1F:CD6F  84 F9      			sty.h	_ax
21238                        		 _load_vram.3
         1F:CD71  82         			clx				; Offset to PCE VDC.
         1F:CD72  20 EB FE   			call	load_vram_x
21239                        	
21240                        		.dbg	line,	"include\init.c", 305; set_font_pal(15);
21241                        		__ld.uiq	15
         1F:CD75  A9 0F      			lda	#15
21242                        		__call		_set_font_pal.1
         1F:CD77  20 00 E6   			call	_set_font_pal.1
21243                        	
21244                        		.dbg	line,	"include\init.c", 309; //**************************************************************************************//
21245                        	
21246                        		.dbg	line,	"include\init.c", 310; //                                                                                      //
21247                        	
21248                        		.dbg	line,	"include\init.c", 311; //                                        VDC 2                                         //
21249                        	
21250                        		.dbg	line,	"include\init.c", 312; //                                                                                      //
21251                        	
21252                        		.dbg	line,	"include\init.c", 313; //**************************************************************************************//
21253                        	
21254                        		.dbg	line,	"include\init.c", 315; //--------------------------------------------------------------------------------------//
21255                        	
21256                        		.dbg	line,	"include\init.c", 316; //                                    LOAD TILEMAP                                      //
21257                        	
21258                        		.dbg	line,	"include\init.c", 317; //--------------------------------------------------------------------------------------//
21259                        	
21260                        		.dbg	line,	"include\init.c", 319; sgx_load_vram( 0x0000, tilemap_INTRO_BG_B, SIZEOF(tilemap_INTRO_BG_B) >> 1 );
21261                        		__st.wmiq	0, _di
         1F:CD7A  64 F0      			stz.l	_di
         1F:CD7C  64 F1      			stz.h	_di
21262                        		__farptr	_tilemap_INTRO_BG_B, _bp_bank, _bp
         1F:CD7E  A9 60      			lda.l	#$6000 + ($1FFF & (_tilemap_INTRO_BG_B))
         1F:CD80  85 EC      			sta.l	_bp
         1F:CD82  A9 64      			lda.h	#$6000 + ($1FFF & (_tilemap_INTRO_BG_B))
         1F:CD84  85 ED      			sta.h	_bp
         1F:CD86  A9 05      			lda	#bank(_tilemap_INTRO_BG_B)
         1F:CD88  85 02      			sta	_bp_bank
21263                        		__ld.wi		___sizeof__tilemap_INTRO_BG_B
         1F:CD8A  A9 00      			lda.l	#___sizeof__tilemap_INTRO_BG_B
         1F:CD8C  A0 07      			ldy.h	#___sizeof__tilemap_INTRO_BG_B
21264                        		__lsr.wi	1
         1F:CD8E  42         			say
         1F:CD8F  4A         			lsr	a
         1F:CD90  42         			say
         1F:CD91  6A         			ror	a
21265                        		__st.wmq	_ax
         1F:CD92  85 F8      			sta.l	_ax
         1F:CD94  84 F9      			sty.h	_ax
21266                        		 _sgx_load_vram.3
         1F:CD96  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1F:CD98  20 EB FE   			call	load_vram_x
21267                        	
21268                        		.dbg	line,	"include\init.c", 321; //--------------------------------------------------------------------------------------//
21269                        	
21270                        		.dbg	line,	"include\init.c", 322; //                                    LOAD TILESET                                      //
21271                        	
21272                        		.dbg	line,	"include\init.c", 323; //--------------------------------------------------------------------------------------//
21273                        	
21274                        		.dbg	line,	"include\init.c", 325; sgx_load_vram( 0x1000, tileset_INTRO_BG_B, SIZEOF(tileset_INTRO_BG_B) >> 1 );
21275                        		__st.wmiq	4096, _di
         1F:CD9B  64 F0      			stz.l	_di
         1F:CD9D  A9 10      			lda.h	#4096
         1F:CD9F  85 F1      			sta.h	_di
21276                        		__farptr	_tileset_INTRO_BG_B, _bp_bank, _bp
         1F:CDA1  A9 00      			lda.l	#$6000 + ($1FFF & (_tileset_INTRO_BG_B))
         1F:CDA3  85 EC      			sta.l	_bp
         1F:CDA5  A9 70      			lda.h	#$6000 + ($1FFF & (_tileset_INTRO_BG_B))
         1F:CDA7  85 ED      			sta.h	_bp
         1F:CDA9  A9 03      			lda	#bank(_tileset_INTRO_BG_B)
         1F:CDAB  85 02      			sta	_bp_bank
21277                        		__ld.wi		___sizeof__tileset_INTRO_BG_B
         1F:CDAD  A9 60      			lda.l	#___sizeof__tileset_INTRO_BG_B
         1F:CDAF  A0 34      			ldy.h	#___sizeof__tileset_INTRO_BG_B
21278                        		__lsr.wi	1
         1F:CDB1  42         			say
         1F:CDB2  4A         			lsr	a
         1F:CDB3  42         			say
         1F:CDB4  6A         			ror	a
21279                        		__st.wmq	_ax
         1F:CDB5  85 F8      			sta.l	_ax
         1F:CDB7  84 F9      			sty.h	_ax
21280                        		 _sgx_load_vram.3
         1F:CDB9  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1F:CDBB  20 EB FE   			call	load_vram_x
21281                        	
21282                        		.dbg	line,	"include\init.c", 330; //--------------------------------------------------------------------------------------//
21283                        	
21284                        		.dbg	line,	"include\init.c", 331; //                                   LOAD BG PALETTES                                   //
21285                        	
21286                        		.dbg	line,	"include\init.c", 332; //--------------------------------------------------------------------------------------//
21287                        	
21288                        		.dbg	line,	"include\init.c", 334; // STORES DESTINATION PALETTE FOR FADE //
21289                        	
21290                        		.dbg	line,	"include\init.c", 335; load_palette( 0, palette_INTRO_1, 1 );
21291                        		__st.umiq	0, _al
         1F:CDBE  64 F8      			stz	_al
21292                        		__farptr	_palette_INTRO_1, _bp_bank, _bp
         1F:CDC0  A9 E0      			lda.l	#$6000 + ($1FFF & (_palette_INTRO_1))
         1F:CDC2  85 EC      			sta.l	_bp
         1F:CDC4  A9 76      			lda.h	#$6000 + ($1FFF & (_palette_INTRO_1))
         1F:CDC6  85 ED      			sta.h	_bp
         1F:CDC8  A9 06      			lda	#bank(_palette_INTRO_1)
         1F:CDCA  85 02      			sta	_bp_bank
21293                        		__st.umiq	1, _ah
         1F:CDCC  A9 01      			lda.l	#1
         1F:CDCE  85 F9      			sta	_ah
21294                        		__call		_load_palette.3
         1F:CDD0  20 8B FF   			call	_load_palette.3
21295                        	
21296                        		.dbg	line,	"include\init.c", 336; load_palette( 15, palette_FONT_INTRO, 1 );
21297                        		__st.umiq	15, _al
         1F:CDD3  A9 0F      			lda.l	#15
         1F:CDD5  85 F8      			sta	_al
21298                        		__farptr	_palette_FONT_INTRO, _bp_bank, _bp
         1F:CDD7  A9 00      			lda.l	#$6000 + ($1FFF & (_palette_FONT_INTRO))
         1F:CDD9  85 EC      			sta.l	_bp
         1F:CDDB  A9 6C      			lda.h	#$6000 + ($1FFF & (_palette_FONT_INTRO))
         1F:CDDD  85 ED      			sta.h	_bp
         1F:CDDF  A9 03      			lda	#bank(_palette_FONT_INTRO)
         1F:CDE1  85 02      			sta	_bp_bank
21299                        		__st.umiq	1, _ah
         1F:CDE3  A9 01      			lda.l	#1
         1F:CDE5  85 F9      			sta	_ah
21300                        		__call		_load_palette.3
         1F:CDE7  20 8B FF   			call	_load_palette.3
21301                        	
21302                        		.dbg	line,	"include\init.c", 341; //**************************************************************************************//
21303                        	
21304                        		.dbg	line,	"include\init.c", 342; //                                                                                      //
21305                        	
21306                        		.dbg	line,	"include\init.c", 343; //                                       SPRITES                                        //
21307                        	
21308                        		.dbg	line,	"include\init.c", 344; //                                                                                      //
21309                        	
21310                        		.dbg	line,	"include\init.c", 345; //**************************************************************************************//
21311                        	
21312                        		.dbg	line,	"include\init.c", 347; // HIDE CURSOR SPRITE FROM TITLE SCREEN //
21313                        	
21314                        		.dbg	line,	"include\init.c", 348; spr_set(0);
21315                        		__ld.uiq	0
         1F:CDEA  62         			cla
21316                        		__call		_spr_set.1
         1F:CDEB  20 F1 E7   			call	_spr_set.1
21317                        	
21318                        		.dbg	line,	"include\init.c", 349; spr_hide();
21319                        		__call		_spr_hide
         1F:CDEE  20 0C E8   			call	_spr_hide
21320                        	
21321                        		.dbg	line,	"include\init.c", 351; //--------------------------------------------------------------------------------------//
21322                        	
21323                        		.dbg	line,	"include\init.c", 352; //                                        DRAGON                                        //
21324                        	
21325                        		.dbg	line,	"include\init.c", 353; //--------------------------------------------------------------------------------------//
21326                        	
21327                        		.dbg	line,	"include\init.c", 355; player_pos_x = 113;
21328                        		__st.wmiq	113, _player_pos_x
         1F:CDF1  A9 71      			lda.l	#113
         1F:CDF3  8D 01 25   			sta.l	_player_pos_x
         1F:CDF6  9C 02 25   			stz.h	_player_pos_x
21329                        	
21330                        		.dbg	line,	"include\init.c", 356; player_pos_y = 81;
21331                        		__st.wmiq	81, _player_pos_y
         1F:CDF9  A9 51      			lda.l	#81
         1F:CDFB  8D 03 25   			sta.l	_player_pos_y
         1F:CDFE  9C 04 25   			stz.h	_player_pos_y
21332                        	
21333                        		.dbg	line,	"include\init.c", 358; // LOAD DRAGON TILES //
21334                        	
21335                        		.dbg	line,	"include\init.c", 359; sgx_load_vram(DRAGON_INTRO_VRAM_ADR, tiles_SPR_DRAGON_INTRO , SIZEOF(tiles_SPR_DRAGON_INTRO) >> 1);
21336                        		__st.wmiq	11264, _di
         1F:CE01  64 F0      			stz.l	_di
         1F:CE03  A9 2C      			lda.h	#11264
         1F:CE05  85 F1      			sta.h	_di
21337                        		__farptr	_tiles_SPR_DRAGON_INTRO, _bp_bank, _bp
         1F:CE07  A9 40      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_DRAGON_INTRO))
         1F:CE09  85 EC      			sta.l	_bp
         1F:CE0B  A9 63      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_DRAGON_INTRO))
         1F:CE0D  85 ED      			sta.h	_bp
         1F:CE0F  A9 14      			lda	#bank(_tiles_SPR_DRAGON_INTRO)
         1F:CE11  85 02      			sta	_bp_bank
21338                        		__ld.wi		___sizeof__tiles_SPR_DRAGON_INTRO
         1F:CE13  A9 00      			lda.l	#___sizeof__tiles_SPR_DRAGON_INTRO
         1F:CE15  A0 40      			ldy.h	#___sizeof__tiles_SPR_DRAGON_INTRO
21339                        		__lsr.wi	1
         1F:CE17  42         			say
         1F:CE18  4A         			lsr	a
         1F:CE19  42         			say
         1F:CE1A  6A         			ror	a
21340                        		__st.wmq	_ax
         1F:CE1B  85 F8      			sta.l	_ax
         1F:CE1D  84 F9      			sty.h	_ax
21341                        		 _sgx_load_vram.3
         1F:CE1F  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1F:CE21  20 EB FE   			call	load_vram_x
21342                        	
21343                        		.dbg	line,	"include\init.c", 362; for(i=0 ; i<8 ; i++)
21344                        		__st.umiq	0, __init_INTRO_end - 1  /* i */
         1F:CE24  9C 2D 2C   			stz	__init_INTRO_end - 1
21345    1F:CE27             	.LL1036:
21346                        		__ld.umq	__init_INTRO_end - 1  /* i */
         1F:CE27  AD 2D 2C   			lda	__init_INTRO_end - 1
21347                        		__ult_b.uiq	8
         1F:CE2A  C9 08      			cmp	#8		; Subtract integer from A.
         1F:CE2C  6A         			ror	a		; CC if A < integer.
         1F:CE2D  49 80      			eor	#$80
         1F:CE2F  2A         			rol	a
21348                        		__btrue		.LL1038
         1F:CE30  B0 08      			bcs	.LL1038
21349                        		__bra		.LL1039
         1F:CE32  4C BA CE   			bra	.LL1039
21350    1F:CE35             	.LL1037:
21351                        		__inc.umq	__init_INTRO_end - 1  /* i */
         1F:CE35  EE 2D 2C   			inc	__init_INTRO_end - 1
21352                        		__bra		.LL1036
         1F:CE38  80 ED      			bra	.LL1036
21353    1F:CE3A             	.LL1038:
21354                        	
21355                        		.dbg	line,	"include\init.c", 363; {
21356                        	
21357                        		.dbg	line,	"include\init.c", 364; sgx_spr_set(i);
21358                        		__ld.umq	__init_INTRO_end - 1  /* i */
         1F:CE3A  AD 2D 2C   			lda	__init_INTRO_end - 1
21359                        		__call		_sgx_spr_set.1
         1F:CE3D  20 9E E8   			call	_sgx_spr_set.1
21360                        	
21361                        		.dbg	line,	"include\init.c", 365; sgx_spr_x(player_pos_x + (i*32) - ((i>>2)*128));
21362                        		__ld.um		__init_INTRO_end - 1  /* i */
         1F:CE40  AD 2D 2C   			lda	__init_INTRO_end - 1
         1F:CE43  C2         			cly
21363                        		__asl.wi	5
         1F:CE44  85 00      			sta	__temp
         1F:CE46  98         			tya
         1F:CE47  4A         			lsr	a
         1F:CE48  20 C8 E1   			jsr	aslw5
         1F:CE4B  29 E0      			and.l	#$FF << 5
21364                        		__add.wm	_player_pos_x
         1F:CE4D  18         			clc
         1F:CE4E  6D 01 25   			adc.l	_player_pos_x
         1F:CE51  42         			say
         1F:CE52  6D 02 25   			adc.h	_player_pos_x
         1F:CE55  42         			say
21365                        		__push.wr
         1F:CE56  5A         			phy
         1F:CE57  48         			pha
21366                        		__ld.um		__init_INTRO_end - 1  /* i */
         1F:CE58  AD 2D 2C   			lda	__init_INTRO_end - 1
         1F:CE5B  C2         			cly
21367                        		__lsr.uiq	2
         1F:CE5C  4A         			lsr	a
         1F:CE5D  4A         			lsr	a
21368                        		__asl.wi	7
         1F:CE5E  42         			say
         1F:CE5F  4A         			lsr	a
         1F:CE60  42         			say
         1F:CE61  6A         			ror	a
         1F:CE62  42         			say
         1F:CE63  6A         			ror	a
         1F:CE64  29 80      			and	#$80
21369                        		__sub.wt
         1F:CE66  BA         			tsx
         1F:CE67  38         			sec
         1F:CE68  49 FF      			eor	#$FF
         1F:CE6A  7D 01 21   			adc.l	__tos, x
         1F:CE6D  42         			say
         1F:CE6E  49 FF      			eor	#$FF
         1F:CE70  7D 02 21   			adc.h	__tos, x
         1F:CE73  42         			say
         1F:CE74  E8         			inx
         1F:CE75  E8         			inx
         1F:CE76  9A         			txs
21370                        		__call		_sgx_spr_x.1
         1F:CE77  20 CB E8   			call	_sgx_spr_x.1
21371                        	
21372                        		.dbg	line,	"include\init.c", 366; sgx_spr_y(player_pos_y + ((i>>2)*32));
21373                        		__ld.um		__init_INTRO_end - 1  /* i */
         1F:CE7A  AD 2D 2C   			lda	__init_INTRO_end - 1
         1F:CE7D  C2         			cly
21374                        		__lsr.uiq	2
         1F:CE7E  4A         			lsr	a
         1F:CE7F  4A         			lsr	a
21375                        		__asl.wi	5
         1F:CE80  85 00      			sta	__temp
         1F:CE82  98         			tya
         1F:CE83  4A         			lsr	a
         1F:CE84  20 C8 E1   			jsr	aslw5
         1F:CE87  29 E0      			and.l	#$FF << 5
21376                        		__add.wm	_player_pos_y
         1F:CE89  18         			clc
         1F:CE8A  6D 03 25   			adc.l	_player_pos_y
         1F:CE8D  42         			say
         1F:CE8E  6D 04 25   			adc.h	_player_pos_y
         1F:CE91  42         			say
21377                        		__call		_sgx_spr_y.1
         1F:CE92  20 DA E8   			call	_sgx_spr_y.1
21378                        	
21379                        		.dbg	line,	"include\init.c", 367; sgx_spr_pattern(DRAGON_INTRO_VRAM_ADR + (i*TILES_16));
21380                        		__ld.um		__init_INTRO_end - 1  /* i */
         1F:CE95  AD 2D 2C   			lda	__init_INTRO_end - 1
         1F:CE98  C2         			cly
21381                        		__asl.wi	8
         1F:CE99  A8         			tay
         1F:CE9A  62         			cla
21382                        		__add.wi	11264
         1F:CE9B  18         			clc
         1F:CE9C  69 00      			adc.l	#11264
         1F:CE9E  42         			say
         1F:CE9F  69 2C      			adc.h	#11264
         1F:CEA1  42         			say
21383                        		__call		_sgx_spr_pattern.1
         1F:CEA2  20 E7 E8   			call	_sgx_spr_pattern.1
21384                        	
21385                        		.dbg	line,	"include\init.c", 368; sgx_spr_ctrl(FLIP_MAS|SIZE_MAS, NO_FLIP|SZ_32x32);
21386                        		__st.umiq	185, _al
         1F:CEA5  A9 B9      			lda.l	#185
         1F:CEA7  85 F8      			sta	_al
21387                        		__ld.uiq	17
         1F:CEA9  A9 11      			lda	#17
21388                        		__call		_sgx_spr_ctrl.2
         1F:CEAB  20 FD E8   			call	_sgx_spr_ctrl.2
21389                        	
21390                        		.dbg	line,	"include\init.c", 369; sgx_spr_pal(16);
21391                        		__ld.uiq	16
         1F:CEAE  A9 10      			lda	#16
21392                        		__call		_sgx_spr_pal.1
         1F:CEB0  20 0E E9   			call	_sgx_spr_pal.1
21393                        	
21394                        		.dbg	line,	"include\init.c", 370; sgx_spr_pri(FALSE);
21395                        		__ld.uiq	0
         1F:CEB3  62         			cla
21396                        		__call		_sgx_spr_pri.1
         1F:CEB4  20 1D E9   			call	_sgx_spr_pri.1
21397                        	
21398                        		.dbg	line,	"include\init.c", 371; }
21399                        		__bra		.LL1037
         1F:CEB7  4C 35 CE   			bra	.LL1037
21400    1F:CEBA             	.LL1039:
21401                        	
21402                        		.dbg	line,	"include\init.c", 372; 
21403                        	
21404                        		.dbg	line,	"include\init.c", 374; //--------------------------------------------------------------------------------------//
21405                        	
21406                        		.dbg	line,	"include\init.c", 375; //                                LOAD SPRITES PALETTES                                 //
21407                        	
21408                        		.dbg	line,	"include\init.c", 376; //--------------------------------------------------------------------------------------//
21409                        	
21410                        		.dbg	line,	"include\init.c", 378; load_palette( 16, palette_SPR_DRAGON_INTRO, 1 );
21411                        		__st.umiq	16, _al
         1F:CEBA  A9 10      			lda.l	#16
         1F:CEBC  85 F8      			sta	_al
21412                        		__farptr	_palette_SPR_DRAGON_INTRO, _bp_bank, _bp
         1F:CEBE  A9 40      			lda.l	#$6000 + ($1FFF & (_palette_SPR_DRAGON_INTRO))
         1F:CEC0  85 EC      			sta.l	_bp
         1F:CEC2  A9 63      			lda.h	#$6000 + ($1FFF & (_palette_SPR_DRAGON_INTRO))
         1F:CEC4  85 ED      			sta.h	_bp
         1F:CEC6  A9 16      			lda	#bank(_palette_SPR_DRAGON_INTRO)
         1F:CEC8  85 02      			sta	_bp_bank
21413                        		__st.umiq	1, _ah
         1F:CECA  A9 01      			lda.l	#1
         1F:CECC  85 F9      			sta	_ah
21414                        		__call		_load_palette.3
         1F:CECE  20 8B FF   			call	_load_palette.3
21415                        	
21416                        		.dbg	line,	"include\init.c", 382; // UPDATE SGX SAT //
21417                        	
21418                        		.dbg	line,	"include\init.c", 383; sgx_satb_update();
21419                        		__call		_sgx_satb_update
         1F:CED1  20 F5 FE   			call	_sgx_satb_update
21420                        	
21421                        		.dbg	line,	"include\init.c", 385; // UPDATE PCE SAT //
21422                        	
21423                        		.dbg	line,	"include\init.c", 386; satb_update();
21424                        		__call		_satb_update
         1F:CED4  20 C3 FE   			call	_satb_update
21425                        	
21426                        		.dbg	line,	"include\init.c", 389; // VSYNC //
21427                        	
21428                        		.dbg	line,	"include\init.c", 390; vsync();
21429                        		__call		_vsync
         1F:CED7  20 1D E3   			call	_vsync
21430                        	
21431                        		.dbg	line,	"include\init.c", 392; // ENABLE DISPLAY //
21432                        	
21433                        		.dbg	line,	"include\init.c", 393; disp_on();
21434                        		__call		_disp_on
         1F:CEDA  20 2A E4   			call	_disp_on
21435                        	
21436                        		.dbg	line,	"include\init.c", 394; }
21437    1F:CEDD             	.LL1035:
21438                        		__return	0
         1F:CEDD  4C EF FF   			jmp	leave_proc
21439                        		.dbg	clear
21440                        		.endp
21441               2312     		.bss
21442    F8:2312             	__init_INTRO_end	.alias	leaf_stack
21443               E31D     		.code
21444                        		.pceas
21445                        	
21446                        		.dbg	line,	"include\init.c", 402; void load_OBJECT_TILES()
21447                        		.dbg	line,	"include\init.c", 403; {
21448                        	;***********************
21449                        	;***********************
21450                        	
21451                        		.hucc
21452    1F:C7E5             		.proc		_load_OBJECT_TILES
21453                        		__enter		_load_OBJECT_TILES
21454                        	
21455                        		.dbg	line,	"include\init.c", 404; sgx_load_vram(POT1_VRAM_ADR, tiles_SPR_POT , SIZEOF(tiles_SPR_POT) >> 1);
21456                        		__st.wmiq	26624, _di
         1F:C7E5  64 F0      			stz.l	_di
         1F:C7E7  A9 68      			lda.h	#26624
         1F:C7E9  85 F1      			sta.h	_di
21457                        		__farptr	_tiles_SPR_POT, _bp_bank, _bp
         1F:C7EB  A9 40      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_POT))
         1F:C7ED  85 EC      			sta.l	_bp
         1F:C7EF  A9 72      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_POT))
         1F:C7F1  85 ED      			sta.h	_bp
         1F:C7F3  A9 1A      			lda	#bank(_tiles_SPR_POT)
         1F:C7F5  85 02      			sta	_bp_bank
21458                        		__ld.wi		___sizeof__tiles_SPR_POT
         1F:C7F7  A9 00      			lda.l	#___sizeof__tiles_SPR_POT
         1F:C7F9  A0 04      			ldy.h	#___sizeof__tiles_SPR_POT
21459                        		__lsr.wi	1
         1F:C7FB  42         			say
         1F:C7FC  4A         			lsr	a
         1F:C7FD  42         			say
         1F:C7FE  6A         			ror	a
21460                        		__st.wmq	_ax
         1F:C7FF  85 F8      			sta.l	_ax
         1F:C801  84 F9      			sty.h	_ax
21461                        		 _sgx_load_vram.3
         1F:C803  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1F:C805  20 EB FE   			call	load_vram_x
21462                        	
21463                        		.dbg	line,	"include\init.c", 405; sgx_load_vram(POW_VRAM_ADR, tiles_SPR_POW , TILES_4);
21464                        		__st.wmiq	27136, _di
         1F:C808  64 F0      			stz.l	_di
         1F:C80A  A9 6A      			lda.h	#27136
         1F:C80C  85 F1      			sta.h	_di
21465                        		__farptr	_tiles_SPR_POW, _bp_bank, _bp
         1F:C80E  A9 40      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_POW))
         1F:C810  85 EC      			sta.l	_bp
         1F:C812  A9 76      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_POW))
         1F:C814  85 ED      			sta.h	_bp
         1F:C816  A9 1A      			lda	#bank(_tiles_SPR_POW)
         1F:C818  85 02      			sta	_bp_bank
21466                        		__st.wmiq	64, _ax
         1F:C81A  A9 40      			lda.l	#64
         1F:C81C  85 F8      			sta.l	_ax
         1F:C81E  64 F9      			stz.h	_ax
21467                        		 _sgx_load_vram.3
         1F:C820  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1F:C822  20 EB FE   			call	load_vram_x
21468                        	
21469                        		.dbg	line,	"include\init.c", 406; sgx_load_vram(GRAY_KEY_VRAM_ADR, tiles_SPR_GRAY_KEY , TILES_4);
21470                        		__st.wmiq	27200, _di
         1F:C825  A9 40      			lda.l	#27200
         1F:C827  85 F0      			sta.l	_di
         1F:C829  A9 6A      			lda.h	#27200
         1F:C82B  85 F1      			sta.h	_di
21471                        		__farptr	_tiles_SPR_GRAY_KEY, _bp_bank, _bp
         1F:C82D  A9 C0      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_GRAY_KEY))
         1F:C82F  85 EC      			sta.l	_bp
         1F:C831  A9 6F      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_GRAY_KEY))
         1F:C833  85 ED      			sta.h	_bp
         1F:C835  A9 1A      			lda	#bank(_tiles_SPR_GRAY_KEY)
         1F:C837  85 02      			sta	_bp_bank
21472                        		__st.wmiq	64, _ax
         1F:C839  A9 40      			lda.l	#64
         1F:C83B  85 F8      			sta.l	_ax
         1F:C83D  64 F9      			stz.h	_ax
21473                        		 _sgx_load_vram.3
         1F:C83F  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1F:C841  20 EB FE   			call	load_vram_x
21474                        	
21475                        		.dbg	line,	"include\init.c", 407; //sgx_load_vram(GOLD_KEY_VRAM_ADR, tiles_SPR_GOLD_KEY , TILES_4);
21476                        	
21477                        		.dbg	line,	"include\init.c", 408; //sgx_load_vram(LIFE_VRAM_ADR, tiles_SPR_LIFE , TILES_4);
21478                        	
21479                        		.dbg	line,	"include\init.c", 409; sgx_load_vram(COIN_1_VRAM_ADR, tiles_SPR_COIN_1 , TILES_4);
21480                        		__st.wmiq	27264, _di
         1F:C844  A9 80      			lda.l	#27264
         1F:C846  85 F0      			sta.l	_di
         1F:C848  A9 6A      			lda.h	#27264
         1F:C84A  85 F1      			sta.h	_di
21481                        		__farptr	_tiles_SPR_COIN_1, _bp_bank, _bp
         1F:C84C  A9 C0      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_COIN_1))
         1F:C84E  85 EC      			sta.l	_bp
         1F:C850  A9 6B      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_COIN_1))
         1F:C852  85 ED      			sta.h	_bp
         1F:C854  A9 1A      			lda	#bank(_tiles_SPR_COIN_1)
         1F:C856  85 02      			sta	_bp_bank
21482                        		__st.wmiq	64, _ax
         1F:C858  A9 40      			lda.l	#64
         1F:C85A  85 F8      			sta.l	_ax
         1F:C85C  64 F9      			stz.h	_ax
21483                        		 _sgx_load_vram.3
         1F:C85E  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1F:C860  20 EB FE   			call	load_vram_x
21484                        	
21485                        		.dbg	line,	"include\init.c", 410; sgx_load_vram(COIN_5_VRAM_ADR, tiles_SPR_COIN_5 , TILES_4);
21486                        		__st.wmiq	27328, _di
         1F:C863  A9 C0      			lda.l	#27328
         1F:C865  85 F0      			sta.l	_di
         1F:C867  A9 6A      			lda.h	#27328
         1F:C869  85 F1      			sta.h	_di
21487                        		__farptr	_tiles_SPR_COIN_5, _bp_bank, _bp
         1F:C86B  A9 40      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_COIN_5))
         1F:C86D  85 EC      			sta.l	_bp
         1F:C86F  A9 6C      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_COIN_5))
         1F:C871  85 ED      			sta.h	_bp
         1F:C873  A9 1A      			lda	#bank(_tiles_SPR_COIN_5)
         1F:C875  85 02      			sta	_bp_bank
21488                        		__st.wmiq	64, _ax
         1F:C877  A9 40      			lda.l	#64
         1F:C879  85 F8      			sta.l	_ax
         1F:C87B  64 F9      			stz.h	_ax
21489                        		 _sgx_load_vram.3
         1F:C87D  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1F:C87F  20 EB FE   			call	load_vram_x
21490                        	
21491                        		.dbg	line,	"include\init.c", 411; sgx_load_vram(COIN_10_VRAM_ADR, tiles_SPR_COIN_10 , TILES_4);
21492                        		__st.wmiq	27392, _di
         1F:C882  64 F0      			stz.l	_di
         1F:C884  A9 6B      			lda.h	#27392
         1F:C886  85 F1      			sta.h	_di
21493                        		__farptr	_tiles_SPR_COIN_10, _bp_bank, _bp
         1F:C888  A9 C0      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_COIN_10))
         1F:C88A  85 EC      			sta.l	_bp
         1F:C88C  A9 6C      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_COIN_10))
         1F:C88E  85 ED      			sta.h	_bp
         1F:C890  A9 1A      			lda	#bank(_tiles_SPR_COIN_10)
         1F:C892  85 02      			sta	_bp_bank
21494                        		__st.wmiq	64, _ax
         1F:C894  A9 40      			lda.l	#64
         1F:C896  85 F8      			sta.l	_ax
         1F:C898  64 F9      			stz.h	_ax
21495                        		 _sgx_load_vram.3
         1F:C89A  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1F:C89C  20 EB FE   			call	load_vram_x
21496                        	
21497                        		.dbg	line,	"include\init.c", 412; sgx_load_vram(COIN_50_VRAM_ADR, tiles_SPR_COIN_50 , TILES_4);
21498                        		__st.wmiq	27456, _di
         1F:C89F  A9 40      			lda.l	#27456
         1F:C8A1  85 F0      			sta.l	_di
         1F:C8A3  A9 6B      			lda.h	#27456
         1F:C8A5  85 F1      			sta.h	_di
21499                        		__farptr	_tiles_SPR_COIN_50, _bp_bank, _bp
         1F:C8A7  A9 40      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_COIN_50))
         1F:C8A9  85 EC      			sta.l	_bp
         1F:C8AB  A9 6D      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_COIN_50))
         1F:C8AD  85 ED      			sta.h	_bp
         1F:C8AF  A9 1A      			lda	#bank(_tiles_SPR_COIN_50)
         1F:C8B1  85 02      			sta	_bp_bank
21500                        		__st.wmiq	64, _ax
         1F:C8B3  A9 40      			lda.l	#64
         1F:C8B5  85 F8      			sta.l	_ax
         1F:C8B7  64 F9      			stz.h	_ax
21501                        		 _sgx_load_vram.3
         1F:C8B9  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1F:C8BB  20 EB FE   			call	load_vram_x
21502                        	
21503                        		.dbg	line,	"include\init.c", 413; sgx_load_vram(COIN_100_VRAM_ADR, tiles_SPR_COIN_100 , TILES_4);
21504                        		__st.wmiq	27520, _di
         1F:C8BE  A9 80      			lda.l	#27520
         1F:C8C0  85 F0      			sta.l	_di
         1F:C8C2  A9 6B      			lda.h	#27520
         1F:C8C4  85 F1      			sta.h	_di
21505                        		__farptr	_tiles_SPR_COIN_100, _bp_bank, _bp
         1F:C8C6  A9 C0      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_COIN_100))
         1F:C8C8  85 EC      			sta.l	_bp
         1F:C8CA  A9 6D      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_COIN_100))
         1F:C8CC  85 ED      			sta.h	_bp
         1F:C8CE  A9 1A      			lda	#bank(_tiles_SPR_COIN_100)
         1F:C8D0  85 02      			sta	_bp_bank
21506                        		__st.wmiq	64, _ax
         1F:C8D2  A9 40      			lda.l	#64
         1F:C8D4  85 F8      			sta.l	_ax
         1F:C8D6  64 F9      			stz.h	_ax
21507                        		 _sgx_load_vram.3
         1F:C8D8  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1F:C8DA  20 EB FE   			call	load_vram_x
21508                        	
21509                        		.dbg	line,	"include\init.c", 414; sgx_load_vram(COIN_500_VRAM_ADR, tiles_SPR_COIN_500 , TILES_4);
21510                        		__st.wmiq	27584, _di
         1F:C8DD  A9 C0      			lda.l	#27584
         1F:C8DF  85 F0      			sta.l	_di
         1F:C8E1  A9 6B      			lda.h	#27584
         1F:C8E3  85 F1      			sta.h	_di
21511                        		__farptr	_tiles_SPR_COIN_500, _bp_bank, _bp
         1F:C8E5  A9 40      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_COIN_500))
         1F:C8E7  85 EC      			sta.l	_bp
         1F:C8E9  A9 6E      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_COIN_500))
         1F:C8EB  85 ED      			sta.h	_bp
         1F:C8ED  A9 1A      			lda	#bank(_tiles_SPR_COIN_500)
         1F:C8EF  85 02      			sta	_bp_bank
21512                        		__st.wmiq	64, _ax
         1F:C8F1  A9 40      			lda.l	#64
         1F:C8F3  85 F8      			sta.l	_ax
         1F:C8F5  64 F9      			stz.h	_ax
21513                        		 _sgx_load_vram.3
         1F:C8F7  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1F:C8F9  20 EB FE   			call	load_vram_x
21514                        	
21515                        		.dbg	line,	"include\init.c", 415; sgx_load_vram(COIN_1000_VRAM_ADR, tiles_SPR_COIN_1000 , TILES_4);
21516                        		__st.wmiq	27648, _di
         1F:C8FC  64 F0      			stz.l	_di
         1F:C8FE  A9 6C      			lda.h	#27648
         1F:C900  85 F1      			sta.h	_di
21517                        		__farptr	_tiles_SPR_COIN_1000, _bp_bank, _bp
         1F:C902  A9 C0      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_COIN_1000))
         1F:C904  85 EC      			sta.l	_bp
         1F:C906  A9 6E      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_COIN_1000))
         1F:C908  85 ED      			sta.h	_bp
         1F:C90A  A9 1A      			lda	#bank(_tiles_SPR_COIN_1000)
         1F:C90C  85 02      			sta	_bp_bank
21518                        		__st.wmiq	64, _ax
         1F:C90E  A9 40      			lda.l	#64
         1F:C910  85 F8      			sta.l	_ax
         1F:C912  64 F9      			stz.h	_ax
21519                        		 _sgx_load_vram.3
         1F:C914  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1F:C916  20 EB FE   			call	load_vram_x
21520                        	
21521                        		.dbg	line,	"include\init.c", 416; sgx_load_vram(STAR_VRAM_ADR, tiles_SPR_STAR , TILES_4);
21522                        		__st.wmiq	27712, _di
         1F:C919  A9 40      			lda.l	#27712
         1F:C91B  85 F0      			sta.l	_di
         1F:C91D  A9 6C      			lda.h	#27712
         1F:C91F  85 F1      			sta.h	_di
21523                        		__farptr	_tiles_SPR_STAR, _bp_bank, _bp
         1F:C921  A9 C0      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_STAR))
         1F:C923  85 EC      			sta.l	_bp
         1F:C925  A9 76      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_STAR))
         1F:C927  85 ED      			sta.h	_bp
         1F:C929  A9 1A      			lda	#bank(_tiles_SPR_STAR)
         1F:C92B  85 02      			sta	_bp_bank
21524                        		__st.wmiq	64, _ax
         1F:C92D  A9 40      			lda.l	#64
         1F:C92F  85 F8      			sta.l	_ax
         1F:C931  64 F9      			stz.h	_ax
21525                        		 _sgx_load_vram.3
         1F:C933  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1F:C935  20 EB FE   			call	load_vram_x
21526                        	
21527                        		.dbg	line,	"include\init.c", 417; sgx_load_vram(OCTOPUS_VRAM_ADR, tiles_SPR_OCTOPUS , TILES_4);
21528                        		__st.wmiq	27776, _di
         1F:C938  A9 80      			lda.l	#27776
         1F:C93A  85 F0      			sta.l	_di
         1F:C93C  A9 6C      			lda.h	#27776
         1F:C93E  85 F1      			sta.h	_di
21529                        		__farptr	_tiles_SPR_OCTOPUS, _bp_bank, _bp
         1F:C940  A9 C0      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_OCTOPUS))
         1F:C942  85 EC      			sta.l	_bp
         1F:C944  A9 71      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_OCTOPUS))
         1F:C946  85 ED      			sta.h	_bp
         1F:C948  A9 1A      			lda	#bank(_tiles_SPR_OCTOPUS)
         1F:C94A  85 02      			sta	_bp_bank
21530                        		__st.wmiq	64, _ax
         1F:C94C  A9 40      			lda.l	#64
         1F:C94E  85 F8      			sta.l	_ax
         1F:C950  64 F9      			stz.h	_ax
21531                        		 _sgx_load_vram.3
         1F:C952  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1F:C954  20 EB FE   			call	load_vram_x
21532                        	
21533                        		.dbg	line,	"include\init.c", 418; sgx_load_vram(FRUIT_VRAM_ADR, tiles_SPR_FRUIT , TILES_4);
21534                        		__st.wmiq	27840, _di
         1F:C957  A9 C0      			lda.l	#27840
         1F:C959  85 F0      			sta.l	_di
         1F:C95B  A9 6C      			lda.h	#27840
         1F:C95D  85 F1      			sta.h	_di
21535                        		__farptr	_tiles_SPR_FRUIT, _bp_bank, _bp
         1F:C95F  A9 40      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_FRUIT))
         1F:C961  85 EC      			sta.l	_bp
         1F:C963  A9 6F      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_FRUIT))
         1F:C965  85 ED      			sta.h	_bp
         1F:C967  A9 1A      			lda	#bank(_tiles_SPR_FRUIT)
         1F:C969  85 02      			sta	_bp_bank
21536                        		__st.wmiq	64, _ax
         1F:C96B  A9 40      			lda.l	#64
         1F:C96D  85 F8      			sta.l	_ax
         1F:C96F  64 F9      			stz.h	_ax
21537                        		 _sgx_load_vram.3
         1F:C971  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1F:C973  20 EB FE   			call	load_vram_x
21538                        	
21539                        		.dbg	line,	"include\init.c", 419; sgx_load_vram(BARREL_VRAM_ADR, tiles_SPR_BARREL , TILES_4);
21540                        		__st.wmiq	27904, _di
         1F:C976  64 F0      			stz.l	_di
         1F:C978  A9 6D      			lda.h	#27904
         1F:C97A  85 F1      			sta.h	_di
21541                        		__farptr	_tiles_SPR_BARREL, _bp_bank, _bp
         1F:C97C  A9 40      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_BARREL))
         1F:C97E  85 EC      			sta.l	_bp
         1F:C980  A9 7F      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_BARREL))
         1F:C982  85 ED      			sta.h	_bp
         1F:C984  A9 19      			lda	#bank(_tiles_SPR_BARREL)
         1F:C986  85 02      			sta	_bp_bank
21542                        		__st.wmiq	64, _ax
         1F:C988  A9 40      			lda.l	#64
         1F:C98A  85 F8      			sta.l	_ax
         1F:C98C  64 F9      			stz.h	_ax
21543                        		 _sgx_load_vram.3
         1F:C98E  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1F:C990  20 EB FE   			call	load_vram_x
21544                        	
21545                        		.dbg	line,	"include\init.c", 420; sgx_load_vram(HOURGLASS_VRAM_ADR, tiles_SPR_HOURGLASS , TILES_4);
21546                        		__st.wmiq	27968, _di
         1F:C993  A9 40      			lda.l	#27968
         1F:C995  85 F0      			sta.l	_di
         1F:C997  A9 6D      			lda.h	#27968
         1F:C999  85 F1      			sta.h	_di
21547                        		__farptr	_tiles_SPR_HOURGLASS, _bp_bank, _bp
         1F:C99B  A9 C0      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_HOURGLASS))
         1F:C99D  85 EC      			sta.l	_bp
         1F:C99F  A9 70      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_HOURGLASS))
         1F:C9A1  85 ED      			sta.h	_bp
         1F:C9A3  A9 1A      			lda	#bank(_tiles_SPR_HOURGLASS)
         1F:C9A5  85 02      			sta	_bp_bank
21548                        		__st.wmiq	64, _ax
         1F:C9A7  A9 40      			lda.l	#64
         1F:C9A9  85 F8      			sta.l	_ax
         1F:C9AB  64 F9      			stz.h	_ax
21549                        		 _sgx_load_vram.3
         1F:C9AD  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1F:C9AF  20 EB FE   			call	load_vram_x
21550                        	
21551                        		.dbg	line,	"include\init.c", 421; sgx_load_vram(BAMBOO_VRAM_ADR, tiles_SPR_BAMBOO , TILES_4);
21552                        		__st.wmiq	28032, _di
         1F:C9B2  A9 80      			lda.l	#28032
         1F:C9B4  85 F0      			sta.l	_di
         1F:C9B6  A9 6D      			lda.h	#28032
         1F:C9B8  85 F1      			sta.h	_di
21553                        		__farptr	_tiles_SPR_BAMBOO, _bp_bank, _bp
         1F:C9BA  A9 40      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_BAMBOO))
         1F:C9BC  85 EC      			sta.l	_bp
         1F:C9BE  A9 77      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_BAMBOO))
         1F:C9C0  85 ED      			sta.h	_bp
         1F:C9C2  A9 1A      			lda	#bank(_tiles_SPR_BAMBOO)
         1F:C9C4  85 02      			sta	_bp_bank
21554                        		__st.wmiq	64, _ax
         1F:C9C6  A9 40      			lda.l	#64
         1F:C9C8  85 F8      			sta.l	_ax
         1F:C9CA  64 F9      			stz.h	_ax
21555                        		 _sgx_load_vram.3
         1F:C9CC  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1F:C9CE  20 EB FE   			call	load_vram_x
21556                        	
21557                        		.dbg	line,	"include\init.c", 422; sgx_load_vram(YASHICHI_VRAM_ADR, tiles_SPR_YASHICHI , TILES_4);
21558                        		__st.wmiq	28096, _di
         1F:C9D1  A9 C0      			lda.l	#28096
         1F:C9D3  85 F0      			sta.l	_di
         1F:C9D5  A9 6D      			lda.h	#28096
         1F:C9D7  85 F1      			sta.h	_di
21559                        		__farptr	_tiles_SPR_YASHICHI, _bp_bank, _bp
         1F:C9D9  A9 C0      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_YASHICHI))
         1F:C9DB  85 EC      			sta.l	_bp
         1F:C9DD  A9 77      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_YASHICHI))
         1F:C9DF  85 ED      			sta.h	_bp
         1F:C9E1  A9 1A      			lda	#bank(_tiles_SPR_YASHICHI)
         1F:C9E3  85 02      			sta	_bp_bank
21560                        		__st.wmiq	64, _ax
         1F:C9E5  A9 40      			lda.l	#64
         1F:C9E7  85 F8      			sta.l	_ax
         1F:C9E9  64 F9      			stz.h	_ax
21561                        		 _sgx_load_vram.3
         1F:C9EB  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1F:C9ED  20 EB FE   			call	load_vram_x
21562                        	
21563                        		.dbg	line,	"include\init.c", 423; sgx_load_vram(ELEPHANT_VRAM_ADR, tiles_SPR_ELEPHANT , TILES_4);
21564                        		__st.wmiq	28160, _di
         1F:C9F0  64 F0      			stz.l	_di
         1F:C9F2  A9 6E      			lda.h	#28160
         1F:C9F4  85 F1      			sta.h	_di
21565                        		__farptr	_tiles_SPR_ELEPHANT, _bp_bank, _bp
         1F:C9F6  A9 40      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_ELEPHANT))
         1F:C9F8  85 EC      			sta.l	_bp
         1F:C9FA  A9 78      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_ELEPHANT))
         1F:C9FC  85 ED      			sta.h	_bp
         1F:C9FE  A9 1A      			lda	#bank(_tiles_SPR_ELEPHANT)
         1F:CA00  85 02      			sta	_bp_bank
21566                        		__st.wmiq	64, _ax
         1F:CA02  A9 40      			lda.l	#64
         1F:CA04  85 F8      			sta.l	_ax
         1F:CA06  64 F9      			stz.h	_ax
21567                        		 _sgx_load_vram.3
         1F:CA08  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1F:CA0A  20 EB FE   			call	load_vram_x
21568                        	
21569                        		.dbg	line,	"include\init.c", 424; sgx_load_vram(DRAGONFLY_VRAM_ADR, tiles_SPR_DRAGONFLY , TILES_4);
21570                        		__st.wmiq	28224, _di
         1F:CA0D  A9 40      			lda.l	#28224
         1F:CA0F  85 F0      			sta.l	_di
         1F:CA11  A9 6E      			lda.h	#28224
         1F:CA13  85 F1      			sta.h	_di
21571                        		__farptr	_tiles_SPR_DRAGONFLY, _bp_bank, _bp
         1F:CA15  A9 C0      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_DRAGONFLY))
         1F:CA17  85 EC      			sta.l	_bp
         1F:CA19  A9 78      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_DRAGONFLY))
         1F:CA1B  85 ED      			sta.h	_bp
         1F:CA1D  A9 1A      			lda	#bank(_tiles_SPR_DRAGONFLY)
         1F:CA1F  85 02      			sta	_bp_bank
21572                        		__st.wmiq	64, _ax
         1F:CA21  A9 40      			lda.l	#64
         1F:CA23  85 F8      			sta.l	_ax
         1F:CA25  64 F9      			stz.h	_ax
21573                        		 _sgx_load_vram.3
         1F:CA27  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1F:CA29  20 EB FE   			call	load_vram_x
21574                        	
21575                        		.dbg	line,	"include\init.c", 425; sgx_load_vram(COW_VRAM_ADR, tiles_SPR_COW , TILES_4);
21576                        		__st.wmiq	28288, _di
         1F:CA2C  A9 80      			lda.l	#28288
         1F:CA2E  85 F0      			sta.l	_di
         1F:CA30  A9 6E      			lda.h	#28288
         1F:CA32  85 F1      			sta.h	_di
21577                        		__farptr	_tiles_SPR_COW, _bp_bank, _bp
         1F:CA34  A9 40      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_COW))
         1F:CA36  85 EC      			sta.l	_bp
         1F:CA38  A9 79      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_COW))
         1F:CA3A  85 ED      			sta.h	_bp
         1F:CA3C  A9 1A      			lda	#bank(_tiles_SPR_COW)
         1F:CA3E  85 02      			sta	_bp_bank
21578                        		__st.wmiq	64, _ax
         1F:CA40  A9 40      			lda.l	#64
         1F:CA42  85 F8      			sta.l	_ax
         1F:CA44  64 F9      			stz.h	_ax
21579                        		 _sgx_load_vram.3
         1F:CA46  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1F:CA48  20 EB FE   			call	load_vram_x
21580                        	
21581                        		.dbg	line,	"include\init.c", 426; sgx_load_vram(MOBICHAN_VRAM_ADR, tiles_SPR_MOBICHAN , TILES_4);
21582                        		__st.wmiq	28352, _di
         1F:CA4B  A9 C0      			lda.l	#28352
         1F:CA4D  85 F0      			sta.l	_di
         1F:CA4F  A9 6E      			lda.h	#28352
         1F:CA51  85 F1      			sta.h	_di
21583                        		__farptr	_tiles_SPR_MOBICHAN, _bp_bank, _bp
         1F:CA53  A9 C0      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_MOBICHAN))
         1F:CA55  85 EC      			sta.l	_bp
         1F:CA57  A9 79      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_MOBICHAN))
         1F:CA59  85 ED      			sta.h	_bp
         1F:CA5B  A9 1A      			lda	#bank(_tiles_SPR_MOBICHAN)
         1F:CA5D  85 02      			sta	_bp_bank
21584                        		__st.wmiq	64, _ax
         1F:CA5F  A9 40      			lda.l	#64
         1F:CA61  85 F8      			sta.l	_ax
         1F:CA63  64 F9      			stz.h	_ax
21585                        		 _sgx_load_vram.3
         1F:CA65  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1F:CA67  20 EB FE   			call	load_vram_x
21586                        	
21587                        		.dbg	line,	"include\init.c", 427; }
21588    1F:CA6A             	.LL1040:
21589                        		__return	0
         1F:CA6A  4C EF FF   			jmp	leave_proc
21590                        		.dbg	clear
21591                        		.endp
21592                        		.pceas
21593                        	
21594                        		.dbg	line,	"include\init.c", 430; void load_CHEST_TILES()
21595                        		.dbg	line,	"include\init.c", 431; {
21596                        	;***********************
21597                        	;***********************
21598                        	
21599                        		.hucc
21600    20:C643             		.proc		_load_CHEST_TILES
21601                        		__enter		_load_CHEST_TILES
21602                        	
21603                        		.dbg	line,	"include\init.c", 432; sgx_load_vram(CHEST_VRAM_ADR, tiles_SPR_CHEST , SIZEOF(tiles_SPR_CHEST) >> 1);
21604                        		__st.wmiq	28416, _di
         20:C643  64 F0      			stz.l	_di
         20:C645  A9 6F      			lda.h	#28416
         20:C647  85 F1      			sta.h	_di
21605                        		__farptr	_tiles_SPR_CHEST, _bp_bank, _bp
         20:C649  A9 C0      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_CHEST))
         20:C64B  85 EC      			sta.l	_bp
         20:C64D  A9 7F      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_CHEST))
         20:C64F  85 ED      			sta.h	_bp
         20:C651  A9 19      			lda	#bank(_tiles_SPR_CHEST)
         20:C653  85 02      			sta	_bp_bank
21606                        		__ld.wi		___sizeof__tiles_SPR_CHEST
         20:C655  A9 00      			lda.l	#___sizeof__tiles_SPR_CHEST
         20:C657  A0 0C      			ldy.h	#___sizeof__tiles_SPR_CHEST
21607                        		__lsr.wi	1
         20:C659  42         			say
         20:C65A  4A         			lsr	a
         20:C65B  42         			say
         20:C65C  6A         			ror	a
21608                        		__st.wmq	_ax
         20:C65D  85 F8      			sta.l	_ax
         20:C65F  84 F9      			sty.h	_ax
21609                        		 _sgx_load_vram.3
         20:C661  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         20:C663  20 EB FE   			call	load_vram_x
21610                        	
21611                        		.dbg	line,	"include\init.c", 433; }
21612    20:C666             	.LL1041:
21613                        		__return	0
         20:C666  4C EF FF   			jmp	leave_proc
21614                        		.dbg	clear
21615                        		.endp
21616                        		.pceas
21617                        	
21618                        		.dbg	line,	"include\init.c", 436; void load_NPC_TILES()
21619                        		.dbg	line,	"include\init.c", 437; {
21620                        	;***********************
21621                        	;***********************
21622                        	
21623                        		.hucc
21624    20:C669             		.proc		_load_NPC_TILES
21625                        		__enter		_load_NPC_TILES
21626                        	
21627                        		.dbg	line,	"include\init.c", 438; sgx_load_vram(NPC_1_VRAM_ADR, tiles_SPR_NPC , SIZEOF(tiles_SPR_NPC) >> 1);
21628                        		__st.wmiq	29952, _di
         20:C669  64 F0      			stz.l	_di
         20:C66B  A9 75      			lda.h	#29952
         20:C66D  85 F1      			sta.h	_di
21629                        		__farptr	_tiles_SPR_NPC, _bp_bank, _bp
         20:C66F  A9 40      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_NPC))
         20:C671  85 EC      			sta.l	_bp
         20:C673  A9 7E      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_NPC))
         20:C675  85 ED      			sta.h	_bp
         20:C677  A9 1A      			lda	#bank(_tiles_SPR_NPC)
         20:C679  85 02      			sta	_bp_bank
21630                        		__ld.wi		___sizeof__tiles_SPR_NPC
         20:C67B  A9 00      			lda.l	#___sizeof__tiles_SPR_NPC
         20:C67D  A0 0C      			ldy.h	#___sizeof__tiles_SPR_NPC
21631                        		__lsr.wi	1
         20:C67F  42         			say
         20:C680  4A         			lsr	a
         20:C681  42         			say
         20:C682  6A         			ror	a
21632                        		__st.wmq	_ax
         20:C683  85 F8      			sta.l	_ax
         20:C685  84 F9      			sty.h	_ax
21633                        		 _sgx_load_vram.3
         20:C687  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         20:C689  20 EB FE   			call	load_vram_x
21634                        	
21635                        		.dbg	line,	"include\init.c", 439; }
21636    20:C68C             	.LL1042:
21637                        		__return	0
         20:C68C  4C EF FF   			jmp	leave_proc
21638                        		.dbg	clear
21639                        		.endp
21640                        		.pceas
21641                        	
21642                        		.dbg	line,	"include\init.c", 442; void init_OBJECT_LV1()
21643                        		.dbg	line,	"include\init.c", 443; {
21644                        	;***********************
21645                        	;***********************
21646                        	
21647                        		.hucc
21648    1F:D695             		.proc		_init_OBJECT_LV1
21649                        		__enter		_init_OBJECT_LV1
21650                        	
21651                        		.dbg	line,	"include\init.c", 444; signed char i;
21652                        	
21653                        		.dbg	line,	"include\init.c", 446; for(i=0 ; i<level_object_number ; i++)
21654                        		__st.umiq	0, __init_OBJECT_LV1_end - 1  /* i */
         1F:D695  9C 2D 2C   			stz	__init_OBJECT_LV1_end - 1
21655    1F:D698             	.LL1044:
21656                        		__ld.bm		__init_OBJECT_LV1_end - 1  /* i */
         1F:D698  AD 2D 2C   			lda	__init_OBJECT_LV1_end - 1
         1F:D69B  C2         			cly
         1F:D69C  10 01      			bpl	!+
         1F:D69E  88         			dey
         1F:D69F             	!:
21657                        		__slt_w.um	_level_object_number
         1F:D69F  CD 39 23   			cmp	_level_object_number		; Subtract memory from Y:A.
         1F:D6A2  98         			tya
         1F:D6A3  E9 00      			sbc	#0
         1F:D6A5  50 02      			bvc	!+
         1F:D6A7  49 80      			eor	#$80		; -ve if Y:A < memory (signed).
         1F:D6A9  0A         	!:		asl	a
21658                        		__btrue		.LL1046
         1F:D6AA  B0 08      			bcs	.LL1046
21659                        		__bra		.LL1047
         1F:D6AC  4C D2 D7   			bra	.LL1047
21660    1F:D6AF             	.LL1045:
21661                        		__inc.umq	__init_OBJECT_LV1_end - 1  /* i */
         1F:D6AF  EE 2D 2C   			inc	__init_OBJECT_LV1_end - 1
21662                        		__bra		.LL1044
         1F:D6B2  80 E4      			bra	.LL1044
21663    1F:D6B4             	.LL1046:
21664                        	
21665                        		.dbg	line,	"include\init.c", 447; {
21666                        	
21667                        		.dbg	line,	"include\init.c", 448; // SET OBJECT PROPERTIES //
21668                        	
21669                        		.dbg	line,	"include\init.c", 449; list_object_type[i] = TABLE_OBJECT_TYPE_LV1[i];
21670                        		__ldx.bmq	__init_OBJECT_LV1_end - 1  /* i */
         1F:D6B4  AE 2D 2C   			ldx	__init_OBJECT_LV1_end - 1
21671                        		__ld.uax	_TABLE_OBJECT_TYPE_LV1
         1F:D6B7  BD C5 61   			lda	_TABLE_OBJECT_TYPE_LV1, x
         1F:D6BA  C2         			cly
21672                        		__ldx.bmq	__init_OBJECT_LV1_end - 1  /* i */
         1F:D6BB  AE 2D 2C   			ldx	__init_OBJECT_LV1_end - 1
21673                        		__st.uaxq	_list_object_type
         1F:D6BE  9D 3B 23   			sta	_list_object_type, x
21674                        	
21675                        		.dbg	line,	"include\init.c", 450; list_object_x_pos_ref[i] = TABLE_OBJECT_X_POS_REF_LV1[i];
21676                        		__ld2x.bmq	__init_OBJECT_LV1_end - 1  /* i */
         1F:D6C1  AD 2D 2C   			lda	__init_OBJECT_LV1_end - 1
         1F:D6C4  0A         			asl	a
         1F:D6C5  AA         			tax
21677                        		__ld.wax	_TABLE_OBJECT_X_POS_REF_LV1
         1F:D6C6  BD DC 61   			lda.l	_TABLE_OBJECT_X_POS_REF_LV1, x
         1F:D6C9  BC DD 61   			ldy.h	_TABLE_OBJECT_X_POS_REF_LV1, x
21678                        		__ld2x.bm	__init_OBJECT_LV1_end - 1  /* i */
         1F:D6CC  AA         			tax
         1F:D6CD  AD 2D 2C   			lda	__init_OBJECT_LV1_end - 1
         1F:D6D0  0A         			asl	a
         1F:D6D1  22         			sax
21679                        		__st.waxq	_list_object_x_pos_ref
         1F:D6D2  9D 6F 25   			sta.l	_list_object_x_pos_ref, x
         1F:D6D5  98         			tya
         1F:D6D6  9D 70 25   			sta.h	_list_object_x_pos_ref, x
21680                        	
21681                        		.dbg	line,	"include\init.c", 451; list_object_y_pos_ref[i] = TABLE_OBJECT_Y_POS_REF_LV1[i];
21682                        		__ld2x.bmq	__init_OBJECT_LV1_end - 1  /* i */
         1F:D6D9  AD 2D 2C   			lda	__init_OBJECT_LV1_end - 1
         1F:D6DC  0A         			asl	a
         1F:D6DD  AA         			tax
21683                        		__ld.wax	_TABLE_OBJECT_Y_POS_REF_LV1
         1F:D6DE  BD 0A 62   			lda.l	_TABLE_OBJECT_Y_POS_REF_LV1, x
         1F:D6E1  BC 0B 62   			ldy.h	_TABLE_OBJECT_Y_POS_REF_LV1, x
21684                        		__ld2x.bm	__init_OBJECT_LV1_end - 1  /* i */
         1F:D6E4  AA         			tax
         1F:D6E5  AD 2D 2C   			lda	__init_OBJECT_LV1_end - 1
         1F:D6E8  0A         			asl	a
         1F:D6E9  22         			sax
21685                        		__st.waxq	_list_object_y_pos_ref
         1F:D6EA  9D A1 25   			sta.l	_list_object_y_pos_ref, x
         1F:D6ED  98         			tya
         1F:D6EE  9D A2 25   			sta.h	_list_object_y_pos_ref, x
21686                        	
21687                        		.dbg	line,	"include\init.c", 452; list_object_x_pos[i] = -16;
21688                        		__ld2x.bmq	__init_OBJECT_LV1_end - 1  /* i */
         1F:D6F1  AD 2D 2C   			lda	__init_OBJECT_LV1_end - 1
         1F:D6F4  0A         			asl	a
         1F:D6F5  AA         			tax
21689                        		__st.waxiq	-16, _list_object_x_pos
         1F:D6F6  A9 F0      			lda.l	#-16
         1F:D6F8  9D 0B 25   			sta.l	_list_object_x_pos, x
         1F:D6FB  A9 FF      			lda.h	#-16
         1F:D6FD  9D 0C 25   			sta.h	_list_object_x_pos, x
21690                        	
21691                        		.dbg	line,	"include\init.c", 453; list_object_y_pos[i] = -16;
21692                        		__ld2x.bmq	__init_OBJECT_LV1_end - 1  /* i */
         1F:D700  AD 2D 2C   			lda	__init_OBJECT_LV1_end - 1
         1F:D703  0A         			asl	a
         1F:D704  AA         			tax
21693                        		__st.waxiq	-16, _list_object_y_pos
         1F:D705  A9 F0      			lda.l	#-16
         1F:D707  9D 3D 25   			sta.l	_list_object_y_pos, x
         1F:D70A  A9 FF      			lda.h	#-16
         1F:D70C  9D 3E 25   			sta.h	_list_object_y_pos, x
21694                        	
21695                        		.dbg	line,	"include\init.c", 454; 
21696                        	
21697                        		.dbg	line,	"include\init.c", 455; // IF THE PLAYERS ENTERS THE LEVEL FOR THE 1RST TIME //
21698                        	
21699                        		.dbg	line,	"include\init.c", 456; // ALL OBJECTS ARE ACTIVE //
21700                        	
21701                        		.dbg	line,	"include\init.c", 457; if(respawn == FALSE)
21702                        		__not.um	_respawn
         1F:D70F  AD 19 23   			lda	_respawn
         1F:D712  18         			clc
         1F:D713  D0 01      			bne	!+
         1F:D715  38         			sec
         1F:D716             	!:
21703                        		__bfalse	.LL1048
         1F:D716  90 08      			bcc	.LL1048
21704                        	
21705                        		.dbg	line,	"include\init.c", 458; {
21706                        	
21707                        		.dbg	line,	"include\init.c", 459; list_object_state[i] = STATE_ACTIVE;
21708                        		__ldx.bmq	__init_OBJECT_LV1_end - 1  /* i */
         1F:D718  AE 2D 2C   			ldx	__init_OBJECT_LV1_end - 1
21709                        		__st.uaxiq	1, _list_object_state
         1F:D71B  A9 01      			lda.l	#1
         1F:D71D  9D 54 23   			sta	_list_object_state, x
21710                        	
21711                        		.dbg	line,	"include\init.c", 460; }
21712                        	
21713                        		.dbg	line,	"include\init.c", 463; // SET OBJECT SPRITE //
21714                        	
21715                        		.dbg	line,	"include\init.c", 464; sgx_spr_set(i + object_start_index);
21716    1F:D720             	.LL1048:
21717                        		__ld.bm		__init_OBJECT_LV1_end - 1  /* i */
         1F:D720  AD 2D 2C   			lda	__init_OBJECT_LV1_end - 1
         1F:D723  C2         			cly
         1F:D724  10 01      			bpl	!+
         1F:D726  88         			dey
         1F:D727             	!:
21718                        		__add.um	_object_start_index
         1F:D727  18         			clc
         1F:D728  6D 38 23   			adc	_object_start_index
         1F:D72B  90 01      			bcc	!+
         1F:D72D  C8         			iny
         1F:D72E             	!:
21719                        		__call		_sgx_spr_set.1
         1F:D72E  20 9E E8   			call	_sgx_spr_set.1
21720                        	
21721                        		.dbg	line,	"include\init.c", 465; sgx_spr_x(list_object_x_pos[i]);
21722                        		__ld2x.bmq	__init_OBJECT_LV1_end - 1  /* i */
         1F:D731  AD 2D 2C   			lda	__init_OBJECT_LV1_end - 1
         1F:D734  0A         			asl	a
         1F:D735  AA         			tax
21723                        		__ld.wax	_list_object_x_pos
         1F:D736  BD 0B 25   			lda.l	_list_object_x_pos, x
         1F:D739  BC 0C 25   			ldy.h	_list_object_x_pos, x
21724                        		__call		_sgx_spr_x.1
         1F:D73C  20 CB E8   			call	_sgx_spr_x.1
21725                        	
21726                        		.dbg	line,	"include\init.c", 466; sgx_spr_y(list_object_y_pos[i]);
21727                        		__ld2x.bmq	__init_OBJECT_LV1_end - 1  /* i */
         1F:D73F  AD 2D 2C   			lda	__init_OBJECT_LV1_end - 1
         1F:D742  0A         			asl	a
         1F:D743  AA         			tax
21728                        		__ld.wax	_list_object_y_pos
         1F:D744  BD 3D 25   			lda.l	_list_object_y_pos, x
         1F:D747  BC 3E 25   			ldy.h	_list_object_y_pos, x
21729                        		__call		_sgx_spr_y.1
         1F:D74A  20 DA E8   			call	_sgx_spr_y.1
21730                        	
21731                        		.dbg	line,	"include\init.c", 467; sgx_spr_pri(TRUE);
21732                        		__ld.uiq	1
         1F:D74D  A9 01      			lda	#1
21733                        		__call		_sgx_spr_pri.1
         1F:D74F  20 1D E9   			call	_sgx_spr_pri.1
21734                        	
21735                        		.dbg	line,	"include\init.c", 470; if(list_object_type[i] == TYPE_HOURGLASS)
21736                        		__ldx.bmq	__init_OBJECT_LV1_end - 1  /* i */
         1F:D752  AE 2D 2C   			ldx	__init_OBJECT_LV1_end - 1
21737                        		__not.uax	_list_object_type
         1F:D755  BD 3B 23   			lda	_list_object_type, x
         1F:D758  18         			clc
         1F:D759  D0 01      			bne	!+
         1F:D75B  38         			sec
         1F:D75C             	!:
21738                        		__bfalse	.LL1049
         1F:D75C  90 1D      			bcc	.LL1049
21739                        	
21740                        		.dbg	line,	"include\init.c", 471; {
21741                        	
21742                        		.dbg	line,	"include\init.c", 472; list_object_energy[i] = 0;
21743                        		__ldx.bmq	__init_OBJECT_LV1_end - 1  /* i */
         1F:D75E  AE 2D 2C   			ldx	__init_OBJECT_LV1_end - 1
21744                        		__st.uaxiq	0, _list_object_energy
         1F:D761  9E 6D 23   			stz	_list_object_energy, x
21745                        	
21746                        		.dbg	line,	"include\init.c", 473; sgx_spr_pal(18);
21747                        		__ld.uiq	18
         1F:D764  A9 12      			lda	#18
21748                        		__call		_sgx_spr_pal.1
         1F:D766  20 0E E9   			call	_sgx_spr_pal.1
21749                        	
21750                        		.dbg	line,	"include\init.c", 474; sgx_spr_pattern(HOURGLASS_VRAM_ADR);
21751                        		__ld.wi		27968
         1F:D769  A9 40      			lda.l	#27968
         1F:D76B  A0 6D      			ldy.h	#27968
21752                        		__call		_sgx_spr_pattern.1
         1F:D76D  20 E7 E8   			call	_sgx_spr_pattern.1
21753                        	
21754                        		.dbg	line,	"include\init.c", 475; sgx_spr_ctrl(FLIP_MAS|SIZE_MAS, NO_FLIP|SZ_16x16);
21755                        		__st.umiq	185, _al
         1F:D770  A9 B9      			lda.l	#185
         1F:D772  85 F8      			sta	_al
21756                        		__ld.uiq	0
         1F:D774  62         			cla
21757                        		__call		_sgx_spr_ctrl.2
         1F:D775  20 FD E8   			call	_sgx_spr_ctrl.2
21758                        	
21759                        		.dbg	line,	"include\init.c", 476; }
21760                        	
21761                        		.dbg	line,	"include\init.c", 478; else if(list_object_type[i] == TYPE_POT)
21762                        		__bra		.LL1050
         1F:D778  4C AF D6   			bra	.LL1050
21763    1F:D77B             	.LL1049:
21764                        		__ldx.bmq	__init_OBJECT_LV1_end - 1  /* i */
         1F:D77B  AE 2D 2C   			ldx	__init_OBJECT_LV1_end - 1
21765                        		__ld.uaxq	_list_object_type
         1F:D77E  BD 3B 23   			lda	_list_object_type, x
21766                        		__equ_b.uiq	1
         1F:D781  C9 01      			cmp	#1
         1F:D783  F0 01      			beq	!+
         1F:D785  18         			clc
         1F:D786             	!:
21767                        		__bfalse	.LL1051
         1F:D786  90 1E      			bcc	.LL1051
21768                        	
21769                        		.dbg	line,	"include\init.c", 479; {
21770                        	
21771                        		.dbg	line,	"include\init.c", 480; list_object_energy[i] = 2;
21772                        		__ldx.bmq	__init_OBJECT_LV1_end - 1  /* i */
         1F:D788  AE 2D 2C   			ldx	__init_OBJECT_LV1_end - 1
21773                        		__st.uaxiq	2, _list_object_energy
         1F:D78B  A9 02      			lda.l	#2
         1F:D78D  9D 6D 23   			sta	_list_object_energy, x
21774                        	
21775                        		.dbg	line,	"include\init.c", 481; sgx_spr_pal(17);
21776                        		__ld.uiq	17
         1F:D790  A9 11      			lda	#17
21777                        		__call		_sgx_spr_pal.1
         1F:D792  20 0E E9   			call	_sgx_spr_pal.1
21778                        	
21779                        		.dbg	line,	"include\init.c", 482; sgx_spr_pattern(POT1_VRAM_ADR);
21780                        		__ld.wi		26624
         1F:D795  62         			cla
         1F:D796  A0 68      			ldy.h	#26624
21781                        		__call		_sgx_spr_pattern.1
         1F:D798  20 E7 E8   			call	_sgx_spr_pattern.1
21782                        	
21783                        		.dbg	line,	"include\init.c", 483; sgx_spr_ctrl(FLIP_MAS|SIZE_MAS, NO_FLIP|SZ_16x16);
21784                        		__st.umiq	185, _al
         1F:D79B  A9 B9      			lda.l	#185
         1F:D79D  85 F8      			sta	_al
21785                        		__ld.uiq	0
         1F:D79F  62         			cla
21786                        		__call		_sgx_spr_ctrl.2
         1F:D7A0  20 FD E8   			call	_sgx_spr_ctrl.2
21787                        	
21788                        		.dbg	line,	"include\init.c", 484; }
21789                        	
21790                        		.dbg	line,	"include\init.c", 486; else if(list_object_type[i] == TYPE_POW)
21791                        		__bra		.LL1052
         1F:D7A3  4C AF D6   			bra	.LL1052
21792    1F:D7A6             	.LL1051:
21793                        		__ldx.bmq	__init_OBJECT_LV1_end - 1  /* i */
         1F:D7A6  AE 2D 2C   			ldx	__init_OBJECT_LV1_end - 1
21794                        		__ld.uaxq	_list_object_type
         1F:D7A9  BD 3B 23   			lda	_list_object_type, x
21795                        		__equ_b.uiq	2
         1F:D7AC  C9 02      			cmp	#2
         1F:D7AE  F0 01      			beq	!+
         1F:D7B0  18         			clc
         1F:D7B1             	!:
21796                        		__bfalse	.LL1053
         1F:D7B1  B0 03 4C AF			bcc	.LL1053
         1F:D7B5  D6          
21797                        	
21798                        		.dbg	line,	"include\init.c", 487; {
21799                        	
21800                        		.dbg	line,	"include\init.c", 488; list_object_energy[i] = 0;
21801                        		__ldx.bmq	__init_OBJECT_LV1_end - 1  /* i */
         1F:D7B6  AE 2D 2C   			ldx	__init_OBJECT_LV1_end - 1
21802                        		__st.uaxiq	0, _list_object_energy
         1F:D7B9  9E 6D 23   			stz	_list_object_energy, x
21803                        	
21804                        		.dbg	line,	"include\init.c", 489; sgx_spr_pal(18);
21805                        		__ld.uiq	18
         1F:D7BC  A9 12      			lda	#18
21806                        		__call		_sgx_spr_pal.1
         1F:D7BE  20 0E E9   			call	_sgx_spr_pal.1
21807                        	
21808                        		.dbg	line,	"include\init.c", 490; sgx_spr_pattern(POW_VRAM_ADR);
21809                        		__ld.wi		27136
         1F:D7C1  62         			cla
         1F:D7C2  A0 6A      			ldy.h	#27136
21810                        		__call		_sgx_spr_pattern.1
         1F:D7C4  20 E7 E8   			call	_sgx_spr_pattern.1
21811                        	
21812                        		.dbg	line,	"include\init.c", 491; sgx_spr_ctrl(FLIP_MAS|SIZE_MAS, NO_FLIP|SZ_16x16);
21813                        		__st.umiq	185, _al
         1F:D7C7  A9 B9      			lda.l	#185
         1F:D7C9  85 F8      			sta	_al
21814                        		__ld.uiq	0
         1F:D7CB  62         			cla
21815                        		__call		_sgx_spr_ctrl.2
         1F:D7CC  20 FD E8   			call	_sgx_spr_ctrl.2
21816                        	
21817                        		.dbg	line,	"include\init.c", 492; }
21818                        	
21819                        		.dbg	line,	"include\init.c", 493; }
21820    1F:D7CF             	.LL1053	.alias		.LL1045
21821    1F:D7CF             	.LL1052	.alias		.LL1045
21822    1F:D7CF             	.LL1050	.alias		.LL1045
21823                        		__bra		.LL1045
         1F:D7CF  4C AF D6   			bra	.LL1045
21824    1F:D7D2             	.LL1047:
21825                        	
21826                        		.dbg	line,	"include\init.c", 494; }
21827    1F:D7D2             	.LL1043:
21828                        		__return	0
         1F:D7D2  4C EF FF   			jmp	leave_proc
21829                        		.dbg	clear
21830                        		.endp
21831               2312     		.bss
21832    F8:2312             	__init_OBJECT_LV1_end	.alias	leaf_stack
21833               E31D     		.code
21834                        		.pceas
21835                        	
21836                        		.dbg	line,	"include\init.c", 497; void init_CHEST_LV1()
21837                        		.dbg	line,	"include\init.c", 498; {
21838                        	;***********************
21839                        	;***********************
21840                        	
21841                        		.hucc
21842    1F:DE1F             		.proc		_init_CHEST_LV1
21843                        		__enter		_init_CHEST_LV1
21844                        	
21845                        		.dbg	line,	"include\init.c", 499; signed char i;
21846                        	
21847                        		.dbg	line,	"include\init.c", 501; for(i=0 ; i<level_chest_number ; i++)
21848                        		__st.umiq	0, __init_CHEST_LV1_end - 1  /* i */
         1F:DE1F  9C 2D 2C   			stz	__init_CHEST_LV1_end - 1
21849    1F:DE22             	.LL1055:
21850                        		__ld.bm		__init_CHEST_LV1_end - 1  /* i */
         1F:DE22  AD 2D 2C   			lda	__init_CHEST_LV1_end - 1
         1F:DE25  C2         			cly
         1F:DE26  10 01      			bpl	!+
         1F:DE28  88         			dey
         1F:DE29             	!:
21851                        		__slt_w.um	_level_chest_number
         1F:DE29  CD C1 23   			cmp	_level_chest_number		; Subtract memory from Y:A.
         1F:DE2C  98         			tya
         1F:DE2D  E9 00      			sbc	#0
         1F:DE2F  50 02      			bvc	!+
         1F:DE31  49 80      			eor	#$80		; -ve if Y:A < memory (signed).
         1F:DE33  0A         	!:		asl	a
21852                        		__btrue		.LL1057
         1F:DE34  B0 08      			bcs	.LL1057
21853                        		__bra		.LL1058
         1F:DE36  4C E6 DE   			bra	.LL1058
21854    1F:DE39             	.LL1056:
21855                        		__inc.umq	__init_CHEST_LV1_end - 1  /* i */
         1F:DE39  EE 2D 2C   			inc	__init_CHEST_LV1_end - 1
21856                        		__bra		.LL1055
         1F:DE3C  80 E4      			bra	.LL1055
21857    1F:DE3E             	.LL1057:
21858                        	
21859                        		.dbg	line,	"include\init.c", 502; {
21860                        	
21861                        		.dbg	line,	"include\init.c", 503; // SET CHEST PROPERTIES //
21862                        	
21863                        		.dbg	line,	"include\init.c", 504; list_chest_x_pos_ref[i] = TABLE_CHEST_X_POS_REF_LV1[i];
21864                        		__ld2x.bmq	__init_CHEST_LV1_end - 1  /* i */
         1F:DE3E  AD 2D 2C   			lda	__init_CHEST_LV1_end - 1
         1F:DE41  0A         			asl	a
         1F:DE42  AA         			tax
21865                        		__ld.wax	_TABLE_CHEST_X_POS_REF_LV1
         1F:DE43  BD 7D 62   			lda.l	_TABLE_CHEST_X_POS_REF_LV1, x
         1F:DE46  BC 7E 62   			ldy.h	_TABLE_CHEST_X_POS_REF_LV1, x
21866                        		__ld2x.bm	__init_CHEST_LV1_end - 1  /* i */
         1F:DE49  AA         			tax
         1F:DE4A  AD 2D 2C   			lda	__init_CHEST_LV1_end - 1
         1F:DE4D  0A         			asl	a
         1F:DE4E  22         			sax
21867                        		__st.waxq	_list_chest_x_pos_ref
         1F:DE4F  9D F3 25   			sta.l	_list_chest_x_pos_ref, x
         1F:DE52  98         			tya
         1F:DE53  9D F4 25   			sta.h	_list_chest_x_pos_ref, x
21868                        	
21869                        		.dbg	line,	"include\init.c", 505; list_chest_y_pos_ref[i] = TABLE_CHEST_Y_POS_REF_LV1[i];
21870                        		__ld2x.bmq	__init_CHEST_LV1_end - 1  /* i */
         1F:DE56  AD 2D 2C   			lda	__init_CHEST_LV1_end - 1
         1F:DE59  0A         			asl	a
         1F:DE5A  AA         			tax
21871                        		__ld.wax	_TABLE_CHEST_Y_POS_REF_LV1
         1F:DE5B  BD 81 62   			lda.l	_TABLE_CHEST_Y_POS_REF_LV1, x
         1F:DE5E  BC 82 62   			ldy.h	_TABLE_CHEST_Y_POS_REF_LV1, x
21872                        		__ld2x.bm	__init_CHEST_LV1_end - 1  /* i */
         1F:DE61  AA         			tax
         1F:DE62  AD 2D 2C   			lda	__init_CHEST_LV1_end - 1
         1F:DE65  0A         			asl	a
         1F:DE66  22         			sax
21873                        		__st.waxq	_list_chest_y_pos_ref
         1F:DE67  9D 03 26   			sta.l	_list_chest_y_pos_ref, x
         1F:DE6A  98         			tya
         1F:DE6B  9D 04 26   			sta.h	_list_chest_y_pos_ref, x
21874                        	
21875                        		.dbg	line,	"include\init.c", 506; list_chest_x_pos[i] = -32;
21876                        		__ld2x.bmq	__init_CHEST_LV1_end - 1  /* i */
         1F:DE6E  AD 2D 2C   			lda	__init_CHEST_LV1_end - 1
         1F:DE71  0A         			asl	a
         1F:DE72  AA         			tax
21877                        		__st.waxiq	-32, _list_chest_x_pos
         1F:DE73  A9 E0      			lda.l	#-32
         1F:DE75  9D D3 25   			sta.l	_list_chest_x_pos, x
         1F:DE78  A9 FF      			lda.h	#-32
         1F:DE7A  9D D4 25   			sta.h	_list_chest_x_pos, x
21878                        	
21879                        		.dbg	line,	"include\init.c", 507; list_chest_y_pos[i] = -32;
21880                        		__ld2x.bmq	__init_CHEST_LV1_end - 1  /* i */
         1F:DE7D  AD 2D 2C   			lda	__init_CHEST_LV1_end - 1
         1F:DE80  0A         			asl	a
         1F:DE81  AA         			tax
21881                        		__st.waxiq	-32, _list_chest_y_pos
         1F:DE82  A9 E0      			lda.l	#-32
         1F:DE84  9D E3 25   			sta.l	_list_chest_y_pos, x
         1F:DE87  A9 FF      			lda.h	#-32
         1F:DE89  9D E4 25   			sta.h	_list_chest_y_pos, x
21882                        	
21883                        		.dbg	line,	"include\init.c", 509; if(respawn == FALSE)
21884                        		__not.um	_respawn
         1F:DE8C  AD 19 23   			lda	_respawn
         1F:DE8F  18         			clc
         1F:DE90  D0 01      			bne	!+
         1F:DE92  38         			sec
         1F:DE93             	!:
21885                        		__bfalse	.LL1059
         1F:DE93  90 08      			bcc	.LL1059
21886                        	
21887                        		.dbg	line,	"include\init.c", 510; {
21888                        	
21889                        		.dbg	line,	"include\init.c", 511; list_chest_state[i] = STATE_ACTIVE;
21890                        		__ldx.bmq	__init_CHEST_LV1_end - 1  /* i */
         1F:DE95  AE 2D 2C   			ldx	__init_CHEST_LV1_end - 1
21891                        		__st.uaxiq	1, _list_chest_state
         1F:DE98  A9 01      			lda.l	#1
         1F:DE9A  9D C3 23   			sta	_list_chest_state, x
21892                        	
21893                        		.dbg	line,	"include\init.c", 512; }
21894                        	
21895                        		.dbg	line,	"include\init.c", 515; // SET CHEST SPRITE //
21896                        	
21897                        		.dbg	line,	"include\init.c", 516; sgx_spr_set(i + chest_start_index);
21898    1F:DE9D             	.LL1059:
21899                        		__ld.bm		__init_CHEST_LV1_end - 1  /* i */
         1F:DE9D  AD 2D 2C   			lda	__init_CHEST_LV1_end - 1
         1F:DEA0  C2         			cly
         1F:DEA1  10 01      			bpl	!+
         1F:DEA3  88         			dey
         1F:DEA4             	!:
21900                        		__add.um	_chest_start_index
         1F:DEA4  18         			clc
         1F:DEA5  6D C0 23   			adc	_chest_start_index
         1F:DEA8  90 01      			bcc	!+
         1F:DEAA  C8         			iny
         1F:DEAB             	!:
21901                        		__call		_sgx_spr_set.1
         1F:DEAB  20 9E E8   			call	_sgx_spr_set.1
21902                        	
21903                        		.dbg	line,	"include\init.c", 517; sgx_spr_x(list_chest_x_pos[i]);
21904                        		__ld2x.bmq	__init_CHEST_LV1_end - 1  /* i */
         1F:DEAE  AD 2D 2C   			lda	__init_CHEST_LV1_end - 1
         1F:DEB1  0A         			asl	a
         1F:DEB2  AA         			tax
21905                        		__ld.wax	_list_chest_x_pos
         1F:DEB3  BD D3 25   			lda.l	_list_chest_x_pos, x
         1F:DEB6  BC D4 25   			ldy.h	_list_chest_x_pos, x
21906                        		__call		_sgx_spr_x.1
         1F:DEB9  20 CB E8   			call	_sgx_spr_x.1
21907                        	
21908                        		.dbg	line,	"include\init.c", 518; sgx_spr_y(list_chest_y_pos[i]);
21909                        		__ld2x.bmq	__init_CHEST_LV1_end - 1  /* i */
         1F:DEBC  AD 2D 2C   			lda	__init_CHEST_LV1_end - 1
         1F:DEBF  0A         			asl	a
         1F:DEC0  AA         			tax
21910                        		__ld.wax	_list_chest_y_pos
         1F:DEC1  BD E3 25   			lda.l	_list_chest_y_pos, x
         1F:DEC4  BC E4 25   			ldy.h	_list_chest_y_pos, x
21911                        		__call		_sgx_spr_y.1
         1F:DEC7  20 DA E8   			call	_sgx_spr_y.1
21912                        	
21913                        		.dbg	line,	"include\init.c", 519; sgx_spr_pri(TRUE);
21914                        		__ld.uiq	1
         1F:DECA  A9 01      			lda	#1
21915                        		__call		_sgx_spr_pri.1
         1F:DECC  20 1D E9   			call	_sgx_spr_pri.1
21916                        	
21917                        		.dbg	line,	"include\init.c", 522; sgx_spr_pal(18);
21918                        		__ld.uiq	18
         1F:DECF  A9 12      			lda	#18
21919                        		__call		_sgx_spr_pal.1
         1F:DED1  20 0E E9   			call	_sgx_spr_pal.1
21920                        	
21921                        		.dbg	line,	"include\init.c", 523; sgx_spr_pattern(CHEST_VRAM_ADR);
21922                        		__ld.wi		28416
         1F:DED4  62         			cla
         1F:DED5  A0 6F      			ldy.h	#28416
21923                        		__call		_sgx_spr_pattern.1
         1F:DED7  20 E7 E8   			call	_sgx_spr_pattern.1
21924                        	
21925                        		.dbg	line,	"include\init.c", 524; sgx_spr_ctrl(FLIP_MAS|SIZE_MAS, NO_FLIP|SZ_32x32);
21926                        		__st.umiq	185, _al
         1F:DEDA  A9 B9      			lda.l	#185
         1F:DEDC  85 F8      			sta	_al
21927                        		__ld.uiq	17
         1F:DEDE  A9 11      			lda	#17
21928                        		__call		_sgx_spr_ctrl.2
         1F:DEE0  20 FD E8   			call	_sgx_spr_ctrl.2
21929                        	
21930                        		.dbg	line,	"include\init.c", 525; }
21931                        		__bra		.LL1056
         1F:DEE3  4C 39 DE   			bra	.LL1056
21932    1F:DEE6             	.LL1058:
21933                        	
21934                        		.dbg	line,	"include\init.c", 526; }
21935    1F:DEE6             	.LL1054:
21936                        		__return	0
         1F:DEE6  4C EF FF   			jmp	leave_proc
21937                        		.dbg	clear
21938                        		.endp
21939               2312     		.bss
21940    F8:2312             	__init_CHEST_LV1_end	.alias	leaf_stack
21941               E31D     		.code
21942                        		.pceas
21943                        	
21944                        		.dbg	line,	"include\init.c", 529; void init_NPC_LV1()
21945                        		.dbg	line,	"include\init.c", 530; {
21946                        	;***********************
21947                        	;***********************
21948                        	
21949                        		.hucc
21950    1F:DC58             		.proc		_init_NPC_LV1
21951                        		__enter		_init_NPC_LV1
21952                        	
21953                        		.dbg	line,	"include\init.c", 531; signed char i;
21954                        	
21955                        		.dbg	line,	"include\init.c", 533; for(i=0 ; i<level_npc_number ; i++)
21956                        		__st.umiq	0, __init_NPC_LV1_end - 1  /* i */
         1F:DC58  9C 2D 2C   			stz	__init_NPC_LV1_end - 1
21957    1F:DC5B             	.LL1061:
21958                        		__ld.bm		__init_NPC_LV1_end - 1  /* i */
         1F:DC5B  AD 2D 2C   			lda	__init_NPC_LV1_end - 1
         1F:DC5E  C2         			cly
         1F:DC5F  10 01      			bpl	!+
         1F:DC61  88         			dey
         1F:DC62             	!:
21959                        		__slt_w.um	_level_npc_number
         1F:DC62  CD D4 23   			cmp	_level_npc_number		; Subtract memory from Y:A.
         1F:DC65  98         			tya
         1F:DC66  E9 00      			sbc	#0
         1F:DC68  50 02      			bvc	!+
         1F:DC6A  49 80      			eor	#$80		; -ve if Y:A < memory (signed).
         1F:DC6C  0A         	!:		asl	a
21960                        		__btrue		.LL1063
         1F:DC6D  B0 08      			bcs	.LL1063
21961                        		__bra		.LL1064
         1F:DC6F  4C 3D DD   			bra	.LL1064
21962    1F:DC72             	.LL1062:
21963                        		__inc.umq	__init_NPC_LV1_end - 1  /* i */
         1F:DC72  EE 2D 2C   			inc	__init_NPC_LV1_end - 1
21964                        		__bra		.LL1061
         1F:DC75  80 E4      			bra	.LL1061
21965    1F:DC77             	.LL1063:
21966                        	
21967                        		.dbg	line,	"include\init.c", 534; {
21968                        	
21969                        		.dbg	line,	"include\init.c", 535; // SET NPC PROPERTIES //
21970                        	
21971                        		.dbg	line,	"include\init.c", 536; list_npc_type[i] = TABLE_NPC_TYPE_LV1[i];
21972                        		__ldx.bmq	__init_NPC_LV1_end - 1  /* i */
         1F:DC77  AE 2D 2C   			ldx	__init_NPC_LV1_end - 1
21973                        		__ld.uax	_TABLE_NPC_TYPE_LV1
         1F:DC7A  BD B7 61   			lda	_TABLE_NPC_TYPE_LV1, x
         1F:DC7D  C2         			cly
21974                        		__ldx.bmq	__init_NPC_LV1_end - 1  /* i */
         1F:DC7E  AE 2D 2C   			ldx	__init_NPC_LV1_end - 1
21975                        		__st.uaxq	_list_npc_type
         1F:DC81  9D D7 23   			sta	_list_npc_type, x
21976                        	
21977                        		.dbg	line,	"include\init.c", 537; list_npc_x_pos_ref[i] = TABLE_NPC_X_POS_REF_LV1[i];
21978                        		__ld2x.bmq	__init_NPC_LV1_end - 1  /* i */
         1F:DC84  AD 2D 2C   			lda	__init_NPC_LV1_end - 1
         1F:DC87  0A         			asl	a
         1F:DC88  AA         			tax
21979                        		__ld.wax	_TABLE_NPC_X_POS_REF_LV1
         1F:DC89  BD B9 61   			lda.l	_TABLE_NPC_X_POS_REF_LV1, x
         1F:DC8C  BC BA 61   			ldy.h	_TABLE_NPC_X_POS_REF_LV1, x
21980                        		__ld2x.bm	__init_NPC_LV1_end - 1  /* i */
         1F:DC8F  AA         			tax
         1F:DC90  AD 2D 2C   			lda	__init_NPC_LV1_end - 1
         1F:DC93  0A         			asl	a
         1F:DC94  22         			sax
21981                        		__st.waxq	_list_npc_x_pos_ref
         1F:DC95  9D 37 26   			sta.l	_list_npc_x_pos_ref, x
         1F:DC98  98         			tya
         1F:DC99  9D 38 26   			sta.h	_list_npc_x_pos_ref, x
21982                        	
21983                        		.dbg	line,	"include\init.c", 538; list_npc_y_pos_ref[i] = TABLE_NPC_Y_POS_REF_LV1[i];
21984                        		__ld2x.bmq	__init_NPC_LV1_end - 1  /* i */
         1F:DC9C  AD 2D 2C   			lda	__init_NPC_LV1_end - 1
         1F:DC9F  0A         			asl	a
         1F:DCA0  AA         			tax
21985                        		__ld.wax	_TABLE_NPC_Y_POS_REF_LV1
         1F:DCA1  BD BD 61   			lda.l	_TABLE_NPC_Y_POS_REF_LV1, x
         1F:DCA4  BC BE 61   			ldy.h	_TABLE_NPC_Y_POS_REF_LV1, x
21986                        		__ld2x.bm	__init_NPC_LV1_end - 1  /* i */
         1F:DCA7  AA         			tax
         1F:DCA8  AD 2D 2C   			lda	__init_NPC_LV1_end - 1
         1F:DCAB  0A         			asl	a
         1F:DCAC  22         			sax
21987                        		__st.waxq	_list_npc_y_pos_ref
         1F:DCAD  9D 49 26   			sta.l	_list_npc_y_pos_ref, x
         1F:DCB0  98         			tya
         1F:DCB1  9D 4A 26   			sta.h	_list_npc_y_pos_ref, x
21988                        	
21989                        		.dbg	line,	"include\init.c", 539; list_npc_reward[i] = TABLE_NPC_REWARD_LV1[i];
21990                        		__ld2x.bmq	__init_NPC_LV1_end - 1  /* i */
         1F:DCB4  AD 2D 2C   			lda	__init_NPC_LV1_end - 1
         1F:DCB7  0A         			asl	a
         1F:DCB8  AA         			tax
21991                        		__ld.wax	_TABLE_NPC_REWARD_LV1
         1F:DCB9  BD C1 61   			lda.l	_TABLE_NPC_REWARD_LV1, x
         1F:DCBC  BC C2 61   			ldy.h	_TABLE_NPC_REWARD_LV1, x
21992                        		__ldx.bmq	__init_NPC_LV1_end - 1  /* i */
         1F:DCBF  AE 2D 2C   			ldx	__init_NPC_LV1_end - 1
21993                        		__st.uaxq	_list_npc_reward
         1F:DCC2  9D E9 23   			sta	_list_npc_reward, x
21994                        	
21995                        		.dbg	line,	"include\init.c", 540; list_npc_x_pos[i] = -32;
21996                        		__ld2x.bmq	__init_NPC_LV1_end - 1  /* i */
         1F:DCC5  AD 2D 2C   			lda	__init_NPC_LV1_end - 1
         1F:DCC8  0A         			asl	a
         1F:DCC9  AA         			tax
21997                        		__st.waxiq	-32, _list_npc_x_pos
         1F:DCCA  A9 E0      			lda.l	#-32
         1F:DCCC  9D 13 26   			sta.l	_list_npc_x_pos, x
         1F:DCCF  A9 FF      			lda.h	#-32
         1F:DCD1  9D 14 26   			sta.h	_list_npc_x_pos, x
21998                        	
21999                        		.dbg	line,	"include\init.c", 541; list_npc_y_pos[i] = -32;
22000                        		__ld2x.bmq	__init_NPC_LV1_end - 1  /* i */
         1F:DCD4  AD 2D 2C   			lda	__init_NPC_LV1_end - 1
         1F:DCD7  0A         			asl	a
         1F:DCD8  AA         			tax
22001                        		__st.waxiq	-32, _list_npc_y_pos
         1F:DCD9  A9 E0      			lda.l	#-32
         1F:DCDB  9D 25 26   			sta.l	_list_npc_y_pos, x
         1F:DCDE  A9 FF      			lda.h	#-32
         1F:DCE0  9D 26 26   			sta.h	_list_npc_y_pos, x
22002                        	
22003                        		.dbg	line,	"include\init.c", 543; if(respawn == FALSE)
22004                        		__not.um	_respawn
         1F:DCE3  AD 19 23   			lda	_respawn
         1F:DCE6  18         			clc
         1F:DCE7  D0 01      			bne	!+
         1F:DCE9  38         			sec
         1F:DCEA             	!:
22005                        		__bfalse	.LL1065
         1F:DCEA  90 08      			bcc	.LL1065
22006                        	
22007                        		.dbg	line,	"include\init.c", 544; {
22008                        	
22009                        		.dbg	line,	"include\init.c", 545; list_npc_state[i] = STATE_ACTIVE;
22010                        		__ldx.bmq	__init_NPC_LV1_end - 1  /* i */
         1F:DCEC  AE 2D 2C   			ldx	__init_NPC_LV1_end - 1
22011                        		__st.uaxiq	1, _list_npc_state
         1F:DCEF  A9 01      			lda.l	#1
         1F:DCF1  9D E0 23   			sta	_list_npc_state, x
22012                        	
22013                        		.dbg	line,	"include\init.c", 546; }
22014                        	
22015                        		.dbg	line,	"include\init.c", 549; // SET NPC SPRITE //
22016                        	
22017                        		.dbg	line,	"include\init.c", 550; sgx_spr_set(i + npc_start_index);
22018    1F:DCF4             	.LL1065:
22019                        		__ld.bm		__init_NPC_LV1_end - 1  /* i */
         1F:DCF4  AD 2D 2C   			lda	__init_NPC_LV1_end - 1
         1F:DCF7  C2         			cly
         1F:DCF8  10 01      			bpl	!+
         1F:DCFA  88         			dey
         1F:DCFB             	!:
22020                        		__add.um	_npc_start_index
         1F:DCFB  18         			clc
         1F:DCFC  6D D3 23   			adc	_npc_start_index
         1F:DCFF  90 01      			bcc	!+
         1F:DD01  C8         			iny
         1F:DD02             	!:
22021                        		__call		_sgx_spr_set.1
         1F:DD02  20 9E E8   			call	_sgx_spr_set.1
22022                        	
22023                        		.dbg	line,	"include\init.c", 551; sgx_spr_x(list_npc_x_pos[i]);
22024                        		__ld2x.bmq	__init_NPC_LV1_end - 1  /* i */
         1F:DD05  AD 2D 2C   			lda	__init_NPC_LV1_end - 1
         1F:DD08  0A         			asl	a
         1F:DD09  AA         			tax
22025                        		__ld.wax	_list_npc_x_pos
         1F:DD0A  BD 13 26   			lda.l	_list_npc_x_pos, x
         1F:DD0D  BC 14 26   			ldy.h	_list_npc_x_pos, x
22026                        		__call		_sgx_spr_x.1
         1F:DD10  20 CB E8   			call	_sgx_spr_x.1
22027                        	
22028                        		.dbg	line,	"include\init.c", 552; sgx_spr_y(list_npc_y_pos[i]);
22029                        		__ld2x.bmq	__init_NPC_LV1_end - 1  /* i */
         1F:DD13  AD 2D 2C   			lda	__init_NPC_LV1_end - 1
         1F:DD16  0A         			asl	a
         1F:DD17  AA         			tax
22030                        		__ld.wax	_list_npc_y_pos
         1F:DD18  BD 25 26   			lda.l	_list_npc_y_pos, x
         1F:DD1B  BC 26 26   			ldy.h	_list_npc_y_pos, x
22031                        		__call		_sgx_spr_y.1
         1F:DD1E  20 DA E8   			call	_sgx_spr_y.1
22032                        	
22033                        		.dbg	line,	"include\init.c", 553; sgx_spr_pri(TRUE);
22034                        		__ld.uiq	1
         1F:DD21  A9 01      			lda	#1
22035                        		__call		_sgx_spr_pri.1
         1F:DD23  20 1D E9   			call	_sgx_spr_pri.1
22036                        	
22037                        		.dbg	line,	"include\init.c", 556; sgx_spr_pal(17);
22038                        		__ld.uiq	17
         1F:DD26  A9 11      			lda	#17
22039                        		__call		_sgx_spr_pal.1
         1F:DD28  20 0E E9   			call	_sgx_spr_pal.1
22040                        	
22041                        		.dbg	line,	"include\init.c", 557; sgx_spr_pattern(NPC_1_VRAM_ADR);
22042                        		__ld.wi		29952
         1F:DD2B  62         			cla
         1F:DD2C  A0 75      			ldy.h	#29952
22043                        		__call		_sgx_spr_pattern.1
         1F:DD2E  20 E7 E8   			call	_sgx_spr_pattern.1
22044                        	
22045                        		.dbg	line,	"include\init.c", 558; sgx_spr_ctrl(FLIP_MAS|SIZE_MAS, NO_FLIP|SZ_32x32);
22046                        		__st.umiq	185, _al
         1F:DD31  A9 B9      			lda.l	#185
         1F:DD33  85 F8      			sta	_al
22047                        		__ld.uiq	17
         1F:DD35  A9 11      			lda	#17
22048                        		__call		_sgx_spr_ctrl.2
         1F:DD37  20 FD E8   			call	_sgx_spr_ctrl.2
22049                        	
22050                        		.dbg	line,	"include\init.c", 559; }
22051                        		__bra		.LL1062
         1F:DD3A  4C 72 DC   			bra	.LL1062
22052    1F:DD3D             	.LL1064:
22053                        	
22054                        		.dbg	line,	"include\init.c", 560; }
22055    1F:DD3D             	.LL1060:
22056                        		__return	0
         1F:DD3D  4C EF FF   			jmp	leave_proc
22057                        		.dbg	clear
22058                        		.endp
22059               2312     		.bss
22060    F8:2312             	__init_NPC_LV1_end	.alias	leaf_stack
22061               E31D     		.code
22062                        		.pceas
22063                        	
22064                        		.dbg	line,	"include\init.c", 567; void init_HUD()
22065                        		.dbg	line,	"include\init.c", 568; {
22066                        	;***********************
22067                        	;***********************
22068                        	
22069                        		.hucc
22070    11:DC00             		.proc		_init_HUD
22071                        		__enter		_init_HUD
22072                        	
22073                        		.dbg	line,	"include\init.c", 569; //**************************************************************************************//
22074                        	
22075                        		.dbg	line,	"include\init.c", 570; //                                                                                      //
22076                        	
22077                        		.dbg	line,	"include\init.c", 571; //                                        VDC 1                                         //
22078                        	
22079                        		.dbg	line,	"include\init.c", 572; //                                                                                      //
22080                        	
22081                        		.dbg	line,	"include\init.c", 573; //**************************************************************************************//
22082                        	
22083                        		.dbg	line,	"include\init.c", 575; //--------------------------------------------------------------------------------------//
22084                        	
22085                        		.dbg	line,	"include\init.c", 576; //                                      LOAD FONT                                       //
22086                        	
22087                        		.dbg	line,	"include\init.c", 577; //--------------------------------------------------------------------------------------//
22088                        	
22089                        		.dbg	line,	"include\init.c", 579; set_font_addr(0x0800);
22090                        		__ld.wi		2048
         11:DC00  62         			cla
         11:DC01  A0 08      			ldy.h	#2048
22091                        		__call		_set_font_addr.1
         11:DC03  20 D9 E5   			call	_set_font_addr.1
22092                        	
22093                        		.dbg	line,	"include\init.c", 581; load_vram( 0x0800, tileset_FONT_TITLE, SIZEOF(tileset_FONT_TITLE) >> 1 );
22094                        		__st.wmiq	2048, _di
         11:DC06  64 F0      			stz.l	_di
         11:DC08  A9 08      			lda.h	#2048
         11:DC0A  85 F1      			sta.h	_di
22095                        		__farptr	_tileset_FONT_TITLE, _bp_bank, _bp
         11:DC0C  A9 E0      			lda.l	#$6000 + ($1FFF & (_tileset_FONT_TITLE))
         11:DC0E  85 EC      			sta.l	_bp
         11:DC10  A9 71      			lda.h	#$6000 + ($1FFF & (_tileset_FONT_TITLE))
         11:DC12  85 ED      			sta.h	_bp
         11:DC14  A9 12      			lda	#bank(_tileset_FONT_TITLE)
         11:DC16  85 02      			sta	_bp_bank
22096                        		__ld.wi		___sizeof__tileset_FONT_TITLE
         11:DC18  A9 00      			lda.l	#___sizeof__tileset_FONT_TITLE
         11:DC1A  A0 0C      			ldy.h	#___sizeof__tileset_FONT_TITLE
22097                        		__lsr.wi	1
         11:DC1C  42         			say
         11:DC1D  4A         			lsr	a
         11:DC1E  42         			say
         11:DC1F  6A         			ror	a
22098                        		__st.wmq	_ax
         11:DC20  85 F8      			sta.l	_ax
         11:DC22  84 F9      			sty.h	_ax
22099                        		 _load_vram.3
         11:DC24  82         			clx				; Offset to PCE VDC.
         11:DC25  20 EB FE   			call	load_vram_x
22100                        	
22101                        		.dbg	line,	"include\init.c", 583; set_font_pal(15);
22102                        		__ld.uiq	15
         11:DC28  A9 0F      			lda	#15
22103                        		__call		_set_font_pal.1
         11:DC2A  20 00 E6   			call	_set_font_pal.1
22104                        	
22105                        		.dbg	line,	"include\init.c", 586; //--------------------------------------------------------------------------------------//
22106                        	
22107                        		.dbg	line,	"include\init.c", 587; //                                    LOAD TILESET                                      //
22108                        	
22109                        		.dbg	line,	"include\init.c", 588; //--------------------------------------------------------------------------------------//
22110                        	
22111                        		.dbg	line,	"include\init.c", 590; load_vram( 0x1000, tileset_HUD, SIZEOF(tileset_HUD) >> 1 );
22112                        		__st.wmiq	4096, _di
         11:DC2D  64 F0      			stz.l	_di
         11:DC2F  A9 10      			lda.h	#4096
         11:DC31  85 F1      			sta.h	_di
22113                        		__farptr	_tileset_HUD, _bp_bank, _bp
         11:DC33  A9 A0      			lda.l	#$6000 + ($1FFF & (_tileset_HUD))
         11:DC35  85 EC      			sta.l	_bp
         11:DC37  A9 79      			lda.h	#$6000 + ($1FFF & (_tileset_HUD))
         11:DC39  85 ED      			sta.h	_bp
         11:DC3B  A9 0D      			lda	#bank(_tileset_HUD)
         11:DC3D  85 02      			sta	_bp_bank
22114                        		__ld.wi		___sizeof__tileset_HUD
         11:DC3F  A9 80      			lda.l	#___sizeof__tileset_HUD
         11:DC41  A0 0B      			ldy.h	#___sizeof__tileset_HUD
22115                        		__lsr.wi	1
         11:DC43  42         			say
         11:DC44  4A         			lsr	a
         11:DC45  42         			say
         11:DC46  6A         			ror	a
22116                        		__st.wmq	_ax
         11:DC47  85 F8      			sta.l	_ax
         11:DC49  84 F9      			sty.h	_ax
22117                        		 _load_vram.3
         11:DC4B  82         			clx				; Offset to PCE VDC.
         11:DC4C  20 EB FE   			call	load_vram_x
22118                        	
22119                        		.dbg	line,	"include\init.c", 593; //--------------------------------------------------------------------------------------//
22120                        	
22121                        		.dbg	line,	"include\init.c", 594; //                                 LOAD LIFEBAR TILES                                   //
22122                        	
22123                        		.dbg	line,	"include\init.c", 595; //--------------------------------------------------------------------------------------//
22124                        	
22125                        		.dbg	line,	"include\init.c", 597; load_vram( LIFEBAR_1_VRAM_ADR, tileset_LIFE_RED, SIZEOF(tileset_LIFE_RED) >> 1 );
22126                        		__st.wmiq	4096, _di
         11:DC4F  64 F0      			stz.l	_di
         11:DC51  A9 10      			lda.h	#4096
         11:DC53  85 F1      			sta.h	_di
22127                        		__farptr	_tileset_LIFE_RED, _bp_bank, _bp
         11:DC55  A9 E0      			lda.l	#$6000 + ($1FFF & (_tileset_LIFE_RED))
         11:DC57  85 EC      			sta.l	_bp
         11:DC59  A9 70      			lda.h	#$6000 + ($1FFF & (_tileset_LIFE_RED))
         11:DC5B  85 ED      			sta.h	_bp
         11:DC5D  A9 07      			lda	#bank(_tileset_LIFE_RED)
         11:DC5F  85 02      			sta	_bp_bank
22128                        		__ld.wi		___sizeof__tileset_LIFE_RED
         11:DC61  A9 40      			lda.l	#___sizeof__tileset_LIFE_RED
         11:DC63  A0 00      			ldy.h	#___sizeof__tileset_LIFE_RED
22129                        		__lsr.wi	1
         11:DC65  42         			say
         11:DC66  4A         			lsr	a
         11:DC67  42         			say
         11:DC68  6A         			ror	a
22130                        		__st.wmq	_ax
         11:DC69  85 F8      			sta.l	_ax
         11:DC6B  84 F9      			sty.h	_ax
22131                        		 _load_vram.3
         11:DC6D  82         			clx				; Offset to PCE VDC.
         11:DC6E  20 EB FE   			call	load_vram_x
22132                        	
22133                        		.dbg	line,	"include\init.c", 598; load_vram( LIFEBAR_2_VRAM_ADR, tileset_LIFE_ORANGE, SIZEOF(tileset_LIFE_ORANGE) >> 1 );
22134                        		__st.wmiq	4128, _di
         11:DC71  A9 20      			lda.l	#4128
         11:DC73  85 F0      			sta.l	_di
         11:DC75  A9 10      			lda.h	#4128
         11:DC77  85 F1      			sta.h	_di
22135                        		__farptr	_tileset_LIFE_ORANGE, _bp_bank, _bp
         11:DC79  A9 20      			lda.l	#$6000 + ($1FFF & (_tileset_LIFE_ORANGE))
         11:DC7B  85 EC      			sta.l	_bp
         11:DC7D  A9 71      			lda.h	#$6000 + ($1FFF & (_tileset_LIFE_ORANGE))
         11:DC7F  85 ED      			sta.h	_bp
         11:DC81  A9 07      			lda	#bank(_tileset_LIFE_ORANGE)
         11:DC83  85 02      			sta	_bp_bank
22136                        		__ld.wi		___sizeof__tileset_LIFE_ORANGE
         11:DC85  A9 40      			lda.l	#___sizeof__tileset_LIFE_ORANGE
         11:DC87  A0 00      			ldy.h	#___sizeof__tileset_LIFE_ORANGE
22137                        		__lsr.wi	1
         11:DC89  42         			say
         11:DC8A  4A         			lsr	a
         11:DC8B  42         			say
         11:DC8C  6A         			ror	a
22138                        		__st.wmq	_ax
         11:DC8D  85 F8      			sta.l	_ax
         11:DC8F  84 F9      			sty.h	_ax
22139                        		 _load_vram.3
         11:DC91  82         			clx				; Offset to PCE VDC.
         11:DC92  20 EB FE   			call	load_vram_x
22140                        	
22141                        		.dbg	line,	"include\init.c", 599; load_vram( LIFEBAR_3_VRAM_ADR, tileset_LIFE_YELLOW, SIZEOF(tileset_LIFE_YELLOW) >> 1 );
22142                        		__st.wmiq	4160, _di
         11:DC95  A9 40      			lda.l	#4160
         11:DC97  85 F0      			sta.l	_di
         11:DC99  A9 10      			lda.h	#4160
         11:DC9B  85 F1      			sta.h	_di
22143                        		__farptr	_tileset_LIFE_YELLOW, _bp_bank, _bp
         11:DC9D  A9 60      			lda.l	#$6000 + ($1FFF & (_tileset_LIFE_YELLOW))
         11:DC9F  85 EC      			sta.l	_bp
         11:DCA1  A9 71      			lda.h	#$6000 + ($1FFF & (_tileset_LIFE_YELLOW))
         11:DCA3  85 ED      			sta.h	_bp
         11:DCA5  A9 07      			lda	#bank(_tileset_LIFE_YELLOW)
         11:DCA7  85 02      			sta	_bp_bank
22144                        		__ld.wi		___sizeof__tileset_LIFE_YELLOW
         11:DCA9  A9 40      			lda.l	#___sizeof__tileset_LIFE_YELLOW
         11:DCAB  A0 00      			ldy.h	#___sizeof__tileset_LIFE_YELLOW
22145                        		__lsr.wi	1
         11:DCAD  42         			say
         11:DCAE  4A         			lsr	a
         11:DCAF  42         			say
         11:DCB0  6A         			ror	a
22146                        		__st.wmq	_ax
         11:DCB1  85 F8      			sta.l	_ax
         11:DCB3  84 F9      			sty.h	_ax
22147                        		 _load_vram.3
         11:DCB5  82         			clx				; Offset to PCE VDC.
         11:DCB6  20 EB FE   			call	load_vram_x
22148                        	
22149                        		.dbg	line,	"include\init.c", 600; load_vram( LIFEBAR_4_VRAM_ADR, tileset_LIFE_YELLOW, SIZEOF(tileset_LIFE_YELLOW) >> 1 );
22150                        		__st.wmiq	4192, _di
         11:DCB9  A9 60      			lda.l	#4192
         11:DCBB  85 F0      			sta.l	_di
         11:DCBD  A9 10      			lda.h	#4192
         11:DCBF  85 F1      			sta.h	_di
22151                        		__farptr	_tileset_LIFE_YELLOW, _bp_bank, _bp
         11:DCC1  A9 60      			lda.l	#$6000 + ($1FFF & (_tileset_LIFE_YELLOW))
         11:DCC3  85 EC      			sta.l	_bp
         11:DCC5  A9 71      			lda.h	#$6000 + ($1FFF & (_tileset_LIFE_YELLOW))
         11:DCC7  85 ED      			sta.h	_bp
         11:DCC9  A9 07      			lda	#bank(_tileset_LIFE_YELLOW)
         11:DCCB  85 02      			sta	_bp_bank
22152                        		__ld.wi		___sizeof__tileset_LIFE_YELLOW
         11:DCCD  A9 40      			lda.l	#___sizeof__tileset_LIFE_YELLOW
         11:DCCF  A0 00      			ldy.h	#___sizeof__tileset_LIFE_YELLOW
22153                        		__lsr.wi	1
         11:DCD1  42         			say
         11:DCD2  4A         			lsr	a
         11:DCD3  42         			say
         11:DCD4  6A         			ror	a
22154                        		__st.wmq	_ax
         11:DCD5  85 F8      			sta.l	_ax
         11:DCD7  84 F9      			sty.h	_ax
22155                        		 _load_vram.3
         11:DCD9  82         			clx				; Offset to PCE VDC.
         11:DCDA  20 EB FE   			call	load_vram_x
22156                        	
22157                        		.dbg	line,	"include\init.c", 601; load_vram( LIFEBAR_5_VRAM_ADR, tileset_LIFE_EMPTY, SIZEOF(tileset_LIFE_EMPTY) >> 1 );
22158                        		__st.wmiq	4224, _di
         11:DCDD  A9 80      			lda.l	#4224
         11:DCDF  85 F0      			sta.l	_di
         11:DCE1  A9 10      			lda.h	#4224
         11:DCE3  85 F1      			sta.h	_di
22159                        		__farptr	_tileset_LIFE_EMPTY, _bp_bank, _bp
         11:DCE5  A9 A0      			lda.l	#$6000 + ($1FFF & (_tileset_LIFE_EMPTY))
         11:DCE7  85 EC      			sta.l	_bp
         11:DCE9  A9 71      			lda.h	#$6000 + ($1FFF & (_tileset_LIFE_EMPTY))
         11:DCEB  85 ED      			sta.h	_bp
         11:DCED  A9 07      			lda	#bank(_tileset_LIFE_EMPTY)
         11:DCEF  85 02      			sta	_bp_bank
22160                        		__ld.wi		___sizeof__tileset_LIFE_EMPTY
         11:DCF1  A9 40      			lda.l	#___sizeof__tileset_LIFE_EMPTY
         11:DCF3  A0 00      			ldy.h	#___sizeof__tileset_LIFE_EMPTY
22161                        		__lsr.wi	1
         11:DCF5  42         			say
         11:DCF6  4A         			lsr	a
         11:DCF7  42         			say
         11:DCF8  6A         			ror	a
22162                        		__st.wmq	_ax
         11:DCF9  85 F8      			sta.l	_ax
         11:DCFB  84 F9      			sty.h	_ax
22163                        		 _load_vram.3
         11:DCFD  82         			clx				; Offset to PCE VDC.
         11:DCFE  20 EB FE   			call	load_vram_x
22164                        	
22165                        		.dbg	line,	"include\init.c", 604; //--------------------------------------------------------------------------------------//
22166                        	
22167                        		.dbg	line,	"include\init.c", 605; //                               LOAD WEAPON + ARMOR TILES                              //
22168                        	
22169                        		.dbg	line,	"include\init.c", 606; //--------------------------------------------------------------------------------------//
22170                        	
22171                        		.dbg	line,	"include\init.c", 608; if(weapon_level == 1)
22172                        		__ld.umq	_weapon_level
         11:DD01  AD 2B 23   			lda	_weapon_level
22173                        		__equ_b.uiq	1
         11:DD04  C9 01      			cmp	#1
         11:DD06  F0 01      			beq	!+
         11:DD08  18         			clc
         11:DD09             	!:
22174                        		__bfalse	.LL1067
         11:DD09  90 27      			bcc	.LL1067
22175                        	
22176                        		.dbg	line,	"include\init.c", 609; {
22177                        	
22178                        		.dbg	line,	"include\init.c", 610; load_vram( WEAPON_ICON_VRAM_ADR, tileset_WEAPON_1, SIZEOF(tileset_WEAPON_1) >> 1 );
22179                        		__st.wmiq	4256, _di
         11:DD0B  A9 A0      			lda.l	#4256
         11:DD0D  85 F0      			sta.l	_di
         11:DD0F  A9 10      			lda.h	#4256
         11:DD11  85 F1      			sta.h	_di
22180                        		__farptr	_tileset_WEAPON_1, _bp_bank, _bp
         11:DD13  A9 E0      			lda.l	#$6000 + ($1FFF & (_tileset_WEAPON_1))
         11:DD15  85 EC      			sta.l	_bp
         11:DD17  A9 73      			lda.h	#$6000 + ($1FFF & (_tileset_WEAPON_1))
         11:DD19  85 ED      			sta.h	_bp
         11:DD1B  A9 07      			lda	#bank(_tileset_WEAPON_1)
         11:DD1D  85 02      			sta	_bp_bank
22181                        		__ld.wi		___sizeof__tileset_WEAPON_1
         11:DD1F  A9 80      			lda.l	#___sizeof__tileset_WEAPON_1
         11:DD21  A0 00      			ldy.h	#___sizeof__tileset_WEAPON_1
22182                        		__lsr.wi	1
         11:DD23  42         			say
         11:DD24  4A         			lsr	a
         11:DD25  42         			say
         11:DD26  6A         			ror	a
22183                        		__st.wmq	_ax
         11:DD27  85 F8      			sta.l	_ax
         11:DD29  84 F9      			sty.h	_ax
22184                        		 _load_vram.3
         11:DD2B  82         			clx				; Offset to PCE VDC.
         11:DD2C  20 EB FE   			call	load_vram_x
22185                        	
22186                        		.dbg	line,	"include\init.c", 611; }
22187                        	
22188                        		.dbg	line,	"include\init.c", 613; else if(weapon_level == 2)
22189                        		__bra		.LL1068
         11:DD2F  4C F1 DD   			bra	.LL1068
22190    11:DD32             	.LL1067:
22191                        		__ld.umq	_weapon_level
         11:DD32  AD 2B 23   			lda	_weapon_level
22192                        		__equ_b.uiq	2
         11:DD35  C9 02      			cmp	#2
         11:DD37  F0 01      			beq	!+
         11:DD39  18         			clc
         11:DD3A             	!:
22193                        		__bfalse	.LL1069
         11:DD3A  90 27      			bcc	.LL1069
22194                        	
22195                        		.dbg	line,	"include\init.c", 614; {
22196                        	
22197                        		.dbg	line,	"include\init.c", 615; load_vram( WEAPON_ICON_VRAM_ADR, tileset_WEAPON_2, SIZEOF(tileset_WEAPON_2) >> 1 );
22198                        		__st.wmiq	4256, _di
         11:DD3C  A9 A0      			lda.l	#4256
         11:DD3E  85 F0      			sta.l	_di
         11:DD40  A9 10      			lda.h	#4256
         11:DD42  85 F1      			sta.h	_di
22199                        		__farptr	_tileset_WEAPON_2, _bp_bank, _bp
         11:DD44  A9 60      			lda.l	#$6000 + ($1FFF & (_tileset_WEAPON_2))
         11:DD46  85 EC      			sta.l	_bp
         11:DD48  A9 74      			lda.h	#$6000 + ($1FFF & (_tileset_WEAPON_2))
         11:DD4A  85 ED      			sta.h	_bp
         11:DD4C  A9 07      			lda	#bank(_tileset_WEAPON_2)
         11:DD4E  85 02      			sta	_bp_bank
22200                        		__ld.wi		___sizeof__tileset_WEAPON_2
         11:DD50  A9 80      			lda.l	#___sizeof__tileset_WEAPON_2
         11:DD52  A0 00      			ldy.h	#___sizeof__tileset_WEAPON_2
22201                        		__lsr.wi	1
         11:DD54  42         			say
         11:DD55  4A         			lsr	a
         11:DD56  42         			say
         11:DD57  6A         			ror	a
22202                        		__st.wmq	_ax
         11:DD58  85 F8      			sta.l	_ax
         11:DD5A  84 F9      			sty.h	_ax
22203                        		 _load_vram.3
         11:DD5C  82         			clx				; Offset to PCE VDC.
         11:DD5D  20 EB FE   			call	load_vram_x
22204                        	
22205                        		.dbg	line,	"include\init.c", 616; }
22206                        	
22207                        		.dbg	line,	"include\init.c", 618; else if(weapon_level == 3)
22208                        		__bra		.LL1070
         11:DD60  4C F1 DD   			bra	.LL1070
22209    11:DD63             	.LL1069:
22210                        		__ld.umq	_weapon_level
         11:DD63  AD 2B 23   			lda	_weapon_level
22211                        		__equ_b.uiq	3
         11:DD66  C9 03      			cmp	#3
         11:DD68  F0 01      			beq	!+
         11:DD6A  18         			clc
         11:DD6B             	!:
22212                        		__bfalse	.LL1071
         11:DD6B  90 26      			bcc	.LL1071
22213                        	
22214                        		.dbg	line,	"include\init.c", 619; {
22215                        	
22216                        		.dbg	line,	"include\init.c", 620; load_vram( WEAPON_ICON_VRAM_ADR, tileset_WEAPON_4, SIZEOF(tileset_WEAPON_4) >> 1 );
22217                        		__st.wmiq	4256, _di
         11:DD6D  A9 A0      			lda.l	#4256
         11:DD6F  85 F0      			sta.l	_di
         11:DD71  A9 10      			lda.h	#4256
         11:DD73  85 F1      			sta.h	_di
22218                        		__farptr	_tileset_WEAPON_4, _bp_bank, _bp
         11:DD75  A9 E0      			lda.l	#$6000 + ($1FFF & (_tileset_WEAPON_4))
         11:DD77  85 EC      			sta.l	_bp
         11:DD79  A9 74      			lda.h	#$6000 + ($1FFF & (_tileset_WEAPON_4))
         11:DD7B  85 ED      			sta.h	_bp
         11:DD7D  A9 07      			lda	#bank(_tileset_WEAPON_4)
         11:DD7F  85 02      			sta	_bp_bank
22219                        		__ld.wi		___sizeof__tileset_WEAPON_4
         11:DD81  A9 80      			lda.l	#___sizeof__tileset_WEAPON_4
         11:DD83  A0 00      			ldy.h	#___sizeof__tileset_WEAPON_4
22220                        		__lsr.wi	1
         11:DD85  42         			say
         11:DD86  4A         			lsr	a
         11:DD87  42         			say
         11:DD88  6A         			ror	a
22221                        		__st.wmq	_ax
         11:DD89  85 F8      			sta.l	_ax
         11:DD8B  84 F9      			sty.h	_ax
22222                        		 _load_vram.3
         11:DD8D  82         			clx				; Offset to PCE VDC.
         11:DD8E  20 EB FE   			call	load_vram_x
22223                        	
22224                        		.dbg	line,	"include\init.c", 621; }
22225                        	
22226                        		.dbg	line,	"include\init.c", 623; else if(weapon_level == 4)
22227                        		__bra		.LL1072
         11:DD91  80 5E      			bra	.LL1072
22228    11:DD93             	.LL1071:
22229                        		__ld.umq	_weapon_level
         11:DD93  AD 2B 23   			lda	_weapon_level
22230                        		__equ_b.uiq	4
         11:DD96  C9 04      			cmp	#4
         11:DD98  F0 01      			beq	!+
         11:DD9A  18         			clc
         11:DD9B             	!:
22231                        		__bfalse	.LL1073
         11:DD9B  90 26      			bcc	.LL1073
22232                        	
22233                        		.dbg	line,	"include\init.c", 624; {
22234                        	
22235                        		.dbg	line,	"include\init.c", 625; load_vram( WEAPON_ICON_VRAM_ADR, tileset_WEAPON_5, SIZEOF(tileset_WEAPON_5) >> 1 );
22236                        		__st.wmiq	4256, _di
         11:DD9D  A9 A0      			lda.l	#4256
         11:DD9F  85 F0      			sta.l	_di
         11:DDA1  A9 10      			lda.h	#4256
         11:DDA3  85 F1      			sta.h	_di
22237                        		__farptr	_tileset_WEAPON_5, _bp_bank, _bp
         11:DDA5  A9 60      			lda.l	#$6000 + ($1FFF & (_tileset_WEAPON_5))
         11:DDA7  85 EC      			sta.l	_bp
         11:DDA9  A9 75      			lda.h	#$6000 + ($1FFF & (_tileset_WEAPON_5))
         11:DDAB  85 ED      			sta.h	_bp
         11:DDAD  A9 07      			lda	#bank(_tileset_WEAPON_5)
         11:DDAF  85 02      			sta	_bp_bank
22238                        		__ld.wi		___sizeof__tileset_WEAPON_5
         11:DDB1  A9 80      			lda.l	#___sizeof__tileset_WEAPON_5
         11:DDB3  A0 00      			ldy.h	#___sizeof__tileset_WEAPON_5
22239                        		__lsr.wi	1
         11:DDB5  42         			say
         11:DDB6  4A         			lsr	a
         11:DDB7  42         			say
         11:DDB8  6A         			ror	a
22240                        		__st.wmq	_ax
         11:DDB9  85 F8      			sta.l	_ax
         11:DDBB  84 F9      			sty.h	_ax
22241                        		 _load_vram.3
         11:DDBD  82         			clx				; Offset to PCE VDC.
         11:DDBE  20 EB FE   			call	load_vram_x
22242                        	
22243                        		.dbg	line,	"include\init.c", 626; }
22244                        	
22245                        		.dbg	line,	"include\init.c", 628; else if(weapon_level == 5)
22246                        		__bra		.LL1074
         11:DDC1  80 2E      			bra	.LL1074
22247    11:DDC3             	.LL1073:
22248                        		__ld.umq	_weapon_level
         11:DDC3  AD 2B 23   			lda	_weapon_level
22249                        		__equ_b.uiq	5
         11:DDC6  C9 05      			cmp	#5
         11:DDC8  F0 01      			beq	!+
         11:DDCA  18         			clc
         11:DDCB             	!:
22250                        		__bfalse	.LL1075
         11:DDCB  90 24      			bcc	.LL1075
22251                        	
22252                        		.dbg	line,	"include\init.c", 629; {
22253                        	
22254                        		.dbg	line,	"include\init.c", 630; load_vram( WEAPON_ICON_VRAM_ADR, tileset_WEAPON_8, SIZEOF(tileset_WEAPON_8) >> 1 );
22255                        		__st.wmiq	4256, _di
         11:DDCD  A9 A0      			lda.l	#4256
         11:DDCF  85 F0      			sta.l	_di
         11:DDD1  A9 10      			lda.h	#4256
         11:DDD3  85 F1      			sta.h	_di
22256                        		__farptr	_tileset_WEAPON_8, _bp_bank, _bp
         11:DDD5  A9 E0      			lda.l	#$6000 + ($1FFF & (_tileset_WEAPON_8))
         11:DDD7  85 EC      			sta.l	_bp
         11:DDD9  A9 75      			lda.h	#$6000 + ($1FFF & (_tileset_WEAPON_8))
         11:DDDB  85 ED      			sta.h	_bp
         11:DDDD  A9 07      			lda	#bank(_tileset_WEAPON_8)
         11:DDDF  85 02      			sta	_bp_bank
22257                        		__ld.wi		___sizeof__tileset_WEAPON_8
         11:DDE1  A9 80      			lda.l	#___sizeof__tileset_WEAPON_8
         11:DDE3  A0 00      			ldy.h	#___sizeof__tileset_WEAPON_8
22258                        		__lsr.wi	1
         11:DDE5  42         			say
         11:DDE6  4A         			lsr	a
         11:DDE7  42         			say
         11:DDE8  6A         			ror	a
22259                        		__st.wmq	_ax
         11:DDE9  85 F8      			sta.l	_ax
         11:DDEB  84 F9      			sty.h	_ax
22260                        		 _load_vram.3
         11:DDED  82         			clx				; Offset to PCE VDC.
         11:DDEE  20 EB FE   			call	load_vram_x
22261                        	
22262                        		.dbg	line,	"include\init.c", 631; }
22263                        	
22264                        		.dbg	line,	"include\init.c", 636; if(armor_level == 1)
22265    11:DDF1             	.LL1075:
22266    11:DDF1             	.LL1074:
22267    11:DDF1             	.LL1072:
22268    11:DDF1             	.LL1070:
22269    11:DDF1             	.LL1068:
22270                        		__ld.umq	_armor_level
         11:DDF1  AD 2A 23   			lda	_armor_level
22271                        		__equ_b.uiq	1
         11:DDF4  C9 01      			cmp	#1
         11:DDF6  F0 01      			beq	!+
         11:DDF8  18         			clc
         11:DDF9             	!:
22272                        		__bfalse	.LL1076
         11:DDF9  90 27      			bcc	.LL1076
22273                        	
22274                        		.dbg	line,	"include\init.c", 637; {
22275                        	
22276                        		.dbg	line,	"include\init.c", 638; load_vram( ARMOR_VRAM_ADR, tileset_ARMOR_1, SIZEOF(tileset_ARMOR_1) >> 1 );
22277                        		__st.wmiq	4320, _di
         11:DDFB  A9 E0      			lda.l	#4320
         11:DDFD  85 F0      			sta.l	_di
         11:DDFF  A9 10      			lda.h	#4320
         11:DE01  85 F1      			sta.h	_di
22278                        		__farptr	_tileset_ARMOR_1, _bp_bank, _bp
         11:DE03  A9 E0      			lda.l	#$6000 + ($1FFF & (_tileset_ARMOR_1))
         11:DE05  85 EC      			sta.l	_bp
         11:DE07  A9 71      			lda.h	#$6000 + ($1FFF & (_tileset_ARMOR_1))
         11:DE09  85 ED      			sta.h	_bp
         11:DE0B  A9 07      			lda	#bank(_tileset_ARMOR_1)
         11:DE0D  85 02      			sta	_bp_bank
22279                        		__ld.wi		___sizeof__tileset_ARMOR_1
         11:DE0F  A9 80      			lda.l	#___sizeof__tileset_ARMOR_1
         11:DE11  A0 00      			ldy.h	#___sizeof__tileset_ARMOR_1
22280                        		__lsr.wi	1
         11:DE13  42         			say
         11:DE14  4A         			lsr	a
         11:DE15  42         			say
         11:DE16  6A         			ror	a
22281                        		__st.wmq	_ax
         11:DE17  85 F8      			sta.l	_ax
         11:DE19  84 F9      			sty.h	_ax
22282                        		 _load_vram.3
         11:DE1B  82         			clx				; Offset to PCE VDC.
         11:DE1C  20 EB FE   			call	load_vram_x
22283                        	
22284                        		.dbg	line,	"include\init.c", 639; }
22285                        	
22286                        		.dbg	line,	"include\init.c", 641; else if(armor_level == 2)
22287                        		__bra		.LL1077
         11:DE1F  4C B0 DE   			bra	.LL1077
22288    11:DE22             	.LL1076:
22289                        		__ld.umq	_armor_level
         11:DE22  AD 2A 23   			lda	_armor_level
22290                        		__equ_b.uiq	2
         11:DE25  C9 02      			cmp	#2
         11:DE27  F0 01      			beq	!+
         11:DE29  18         			clc
         11:DE2A             	!:
22291                        		__bfalse	.LL1078
         11:DE2A  90 26      			bcc	.LL1078
22292                        	
22293                        		.dbg	line,	"include\init.c", 642; {
22294                        	
22295                        		.dbg	line,	"include\init.c", 643; load_vram( ARMOR_VRAM_ADR, tileset_ARMOR_2, SIZEOF(tileset_ARMOR_2) >> 1 );
22296                        		__st.wmiq	4320, _di
         11:DE2C  A9 E0      			lda.l	#4320
         11:DE2E  85 F0      			sta.l	_di
         11:DE30  A9 10      			lda.h	#4320
         11:DE32  85 F1      			sta.h	_di
22297                        		__farptr	_tileset_ARMOR_2, _bp_bank, _bp
         11:DE34  A9 60      			lda.l	#$6000 + ($1FFF & (_tileset_ARMOR_2))
         11:DE36  85 EC      			sta.l	_bp
         11:DE38  A9 72      			lda.h	#$6000 + ($1FFF & (_tileset_ARMOR_2))
         11:DE3A  85 ED      			sta.h	_bp
         11:DE3C  A9 07      			lda	#bank(_tileset_ARMOR_2)
         11:DE3E  85 02      			sta	_bp_bank
22298                        		__ld.wi		___sizeof__tileset_ARMOR_2
         11:DE40  A9 80      			lda.l	#___sizeof__tileset_ARMOR_2
         11:DE42  A0 00      			ldy.h	#___sizeof__tileset_ARMOR_2
22299                        		__lsr.wi	1
         11:DE44  42         			say
         11:DE45  4A         			lsr	a
         11:DE46  42         			say
         11:DE47  6A         			ror	a
22300                        		__st.wmq	_ax
         11:DE48  85 F8      			sta.l	_ax
         11:DE4A  84 F9      			sty.h	_ax
22301                        		 _load_vram.3
         11:DE4C  82         			clx				; Offset to PCE VDC.
         11:DE4D  20 EB FE   			call	load_vram_x
22302                        	
22303                        		.dbg	line,	"include\init.c", 644; }
22304                        	
22305                        		.dbg	line,	"include\init.c", 646; else if(armor_level == 3)
22306                        		__bra		.LL1079
         11:DE50  80 5E      			bra	.LL1079
22307    11:DE52             	.LL1078:
22308                        		__ld.umq	_armor_level
         11:DE52  AD 2A 23   			lda	_armor_level
22309                        		__equ_b.uiq	3
         11:DE55  C9 03      			cmp	#3
         11:DE57  F0 01      			beq	!+
         11:DE59  18         			clc
         11:DE5A             	!:
22310                        		__bfalse	.LL1080
         11:DE5A  90 26      			bcc	.LL1080
22311                        	
22312                        		.dbg	line,	"include\init.c", 647; {
22313                        	
22314                        		.dbg	line,	"include\init.c", 648; load_vram( ARMOR_VRAM_ADR, tileset_ARMOR_4, SIZEOF(tileset_ARMOR_4) >> 1 );
22315                        		__st.wmiq	4320, _di
         11:DE5C  A9 E0      			lda.l	#4320
         11:DE5E  85 F0      			sta.l	_di
         11:DE60  A9 10      			lda.h	#4320
         11:DE62  85 F1      			sta.h	_di
22316                        		__farptr	_tileset_ARMOR_4, _bp_bank, _bp
         11:DE64  A9 E0      			lda.l	#$6000 + ($1FFF & (_tileset_ARMOR_4))
         11:DE66  85 EC      			sta.l	_bp
         11:DE68  A9 72      			lda.h	#$6000 + ($1FFF & (_tileset_ARMOR_4))
         11:DE6A  85 ED      			sta.h	_bp
         11:DE6C  A9 07      			lda	#bank(_tileset_ARMOR_4)
         11:DE6E  85 02      			sta	_bp_bank
22317                        		__ld.wi		___sizeof__tileset_ARMOR_4
         11:DE70  A9 80      			lda.l	#___sizeof__tileset_ARMOR_4
         11:DE72  A0 00      			ldy.h	#___sizeof__tileset_ARMOR_4
22318                        		__lsr.wi	1
         11:DE74  42         			say
         11:DE75  4A         			lsr	a
         11:DE76  42         			say
         11:DE77  6A         			ror	a
22319                        		__st.wmq	_ax
         11:DE78  85 F8      			sta.l	_ax
         11:DE7A  84 F9      			sty.h	_ax
22320                        		 _load_vram.3
         11:DE7C  82         			clx				; Offset to PCE VDC.
         11:DE7D  20 EB FE   			call	load_vram_x
22321                        	
22322                        		.dbg	line,	"include\init.c", 649; }
22323                        	
22324                        		.dbg	line,	"include\init.c", 651; else if(armor_level == 4)
22325                        		__bra		.LL1081
         11:DE80  80 2E      			bra	.LL1081
22326    11:DE82             	.LL1080:
22327                        		__ld.umq	_armor_level
         11:DE82  AD 2A 23   			lda	_armor_level
22328                        		__equ_b.uiq	4
         11:DE85  C9 04      			cmp	#4
         11:DE87  F0 01      			beq	!+
         11:DE89  18         			clc
         11:DE8A             	!:
22329                        		__bfalse	.LL1082
         11:DE8A  90 24      			bcc	.LL1082
22330                        	
22331                        		.dbg	line,	"include\init.c", 652; {
22332                        	
22333                        		.dbg	line,	"include\init.c", 653; load_vram( ARMOR_VRAM_ADR, tileset_ARMOR_8, SIZEOF(tileset_ARMOR_8) >> 1 );
22334                        		__st.wmiq	4320, _di
         11:DE8C  A9 E0      			lda.l	#4320
         11:DE8E  85 F0      			sta.l	_di
         11:DE90  A9 10      			lda.h	#4320
         11:DE92  85 F1      			sta.h	_di
22335                        		__farptr	_tileset_ARMOR_8, _bp_bank, _bp
         11:DE94  A9 60      			lda.l	#$6000 + ($1FFF & (_tileset_ARMOR_8))
         11:DE96  85 EC      			sta.l	_bp
         11:DE98  A9 73      			lda.h	#$6000 + ($1FFF & (_tileset_ARMOR_8))
         11:DE9A  85 ED      			sta.h	_bp
         11:DE9C  A9 07      			lda	#bank(_tileset_ARMOR_8)
         11:DE9E  85 02      			sta	_bp_bank
22336                        		__ld.wi		___sizeof__tileset_ARMOR_8
         11:DEA0  A9 80      			lda.l	#___sizeof__tileset_ARMOR_8
         11:DEA2  A0 00      			ldy.h	#___sizeof__tileset_ARMOR_8
22337                        		__lsr.wi	1
         11:DEA4  42         			say
         11:DEA5  4A         			lsr	a
         11:DEA6  42         			say
         11:DEA7  6A         			ror	a
22338                        		__st.wmq	_ax
         11:DEA8  85 F8      			sta.l	_ax
         11:DEAA  84 F9      			sty.h	_ax
22339                        		 _load_vram.3
         11:DEAC  82         			clx				; Offset to PCE VDC.
         11:DEAD  20 EB FE   			call	load_vram_x
22340                        	
22341                        		.dbg	line,	"include\init.c", 654; }
22342                        	
22343                        		.dbg	line,	"include\init.c", 659; //--------------------------------------------------------------------------------------//
22344                        	
22345                        		.dbg	line,	"include\init.c", 660; //                                     SET MULTIMAP                                     //
22346                        	
22347                        		.dbg	line,	"include\init.c", 661; //--------------------------------------------------------------------------------------//
22348                        	
22349                        		.dbg	line,	"include\init.c", 663; // multimap is 2 screens wide //
22350                        	
22351                        		.dbg	line,	"include\init.c", 664; set_multimap( multimap_LV1_BG_A , 5 );
22352    11:DEB0             	.LL1082:
22353    11:DEB0             	.LL1081:
22354    11:DEB0             	.LL1079:
22355    11:DEB0             	.LL1077:
22356                        		__farptr	_multimap_LV1_BG_A, vdc_scr_bank, vdc_scr_addr
         11:DEB0  A9 00      			lda.l	#$6000 + ($1FFF & (_multimap_LV1_BG_A))
         11:DEB2  8D 12 2C   			sta.l	vdc_scr_addr
         11:DEB5  A9 60      			lda.h	#$6000 + ($1FFF & (_multimap_LV1_BG_A))
         11:DEB7  8D 13 2C   			sta.h	vdc_scr_addr
         11:DEBA  A9 10      			lda	#bank(_multimap_LV1_BG_A)
         11:DEBC  8D 14 2C   			sta	vdc_scr_bank
22357                        		__st.umiq	5, vdc_map_scrn_w
         11:DEBF  A9 05      			lda.l	#5
         11:DEC1  8D D3 26   			sta	vdc_map_scrn_w
22358                        		 _set_multimap.2
         11:DEC4  AD CB 26   			lda	vdc_bat_width
         11:DEC7  4A         			lsr	a
         11:DEC8  8D D2 26   			sta	vdc_map_line_w
22359                        	
22360                        		.dbg	line,	"include\init.c", 667; //--------------------------------------------------------------------------------------//
22361                        	
22362                        		.dbg	line,	"include\init.c", 668; //                                    DRAW TILEMAP                                      //
22363                        	
22364                        		.dbg	line,	"include\init.c", 669; //--------------------------------------------------------------------------------------//
22365                        	
22366                        		.dbg	line,	"include\init.c", 671; // The blkmap is drawn using global variables for the top-left coordinate
22367                        	
22368                        		.dbg	line,	"include\init.c", 672; // in pixels, and the draw width and height in terms of 8x8 characters.
22369                        	
22370                        		.dbg	line,	"include\init.c", 674; vdc_map_pxl_x = 0;
22371                        		__st.wmiq	0, _vdc_map_pxl_x
         11:DECB  9C D4 26   			stz.l	_vdc_map_pxl_x
         11:DECE  9C D5 26   			stz.h	_vdc_map_pxl_x
22372                        	
22373                        		.dbg	line,	"include\init.c", 675; vdc_map_pxl_y = 0;
22374                        		__st.wmiq	0, _vdc_map_pxl_y
         11:DED1  9C D6 26   			stz.l	_vdc_map_pxl_y
         11:DED4  9C D7 26   			stz.h	_vdc_map_pxl_y
22375                        	
22376                        		.dbg	line,	"include\init.c", 677; vdc_map_draw_w = 64;//32
22377                        		__st.umiq	64, _vdc_map_draw_w
         11:DED7  A9 40      			lda.l	#64
         11:DED9  8D D0 26   			sta	_vdc_map_draw_w
22378                        	
22379                        		.dbg	line,	"include\init.c", 678; vdc_map_draw_h = 32;//28
22380                        		__st.umiq	32, _vdc_map_draw_h
         11:DEDC  A9 20      			lda.l	#32
         11:DEDE  8D D1 26   			sta	_vdc_map_draw_h
22381                        	
22382                        		.dbg	line,	"include\init.c", 680; draw_map();
22383                        		__call		_draw_map
         11:DEE1  20 B9 FE   			call	_draw_map
22384                        	
22385                        		.dbg	line,	"include\init.c", 683; //**************************************************************************************//
22386                        	
22387                        		.dbg	line,	"include\init.c", 684; //                                                                                      //
22388                        	
22389                        		.dbg	line,	"include\init.c", 685; //                                  SETUP SCROLL_SPLIT                                  //
22390                        	
22391                        		.dbg	line,	"include\init.c", 686; //                                                                                      //
22392                        	
22393                        		.dbg	line,	"include\init.c", 687; //**************************************************************************************//
22394                        	
22395                        		.dbg	line,	"include\init.c", 689; //--------------------------------------------------------------------------------------//
22396                        	
22397                        		.dbg	line,	"include\init.c", 690; //                                        VDC 1                                         //
22398                        	
22399                        		.dbg	line,	"include\init.c", 691; //--------------------------------------------------------------------------------------//
22400                        	
22401                        		.dbg	line,	"include\init.c", 693; scroll_split(0,   0, 0,  0, BKG_ON | SPR_ON);
22402                        		__st.umiq	0, _al
         11:DEE4  64 F8      			stz	_al
22403                        		__st.umiq	0, _ah
         11:DEE6  64 F9      			stz	_ah
22404                        		__st.wmiq	0, _bx
         11:DEE8  64 FA      			stz.l	_bx
         11:DEEA  64 FB      			stz.h	_bx
22405                        		__st.wmiq	0, _cx
         11:DEEC  64 FC      			stz.l	_cx
         11:DEEE  64 FD      			stz.h	_cx
22406                        		__st.umiq	192, _dl
         11:DEF0  A9 C0      			lda.l	#192
         11:DEF2  85 FE      			sta	_dl
22407                        		__call		_scroll_split.5
         11:DEF4  20 81 FF   			call	_scroll_split.5
22408                        	
22409                        		.dbg	line,	"include\init.c", 694; scroll_split(1,  48, 0, 48, BKG_ON | SPR_ON);
22410                        		__st.umiq	1, _al
         11:DEF7  A9 01      			lda.l	#1
         11:DEF9  85 F8      			sta	_al
22411                        		__st.umiq	48, _ah
         11:DEFB  A9 30      			lda.l	#48
         11:DEFD  85 F9      			sta	_ah
22412                        		__st.wmiq	0, _bx
         11:DEFF  64 FA      			stz.l	_bx
         11:DF01  64 FB      			stz.h	_bx
22413                        		__st.wmiq	48, _cx
         11:DF03  A9 30      			lda.l	#48
         11:DF05  85 FC      			sta.l	_cx
         11:DF07  64 FD      			stz.h	_cx
22414                        		__st.umiq	192, _dl
         11:DF09  A9 C0      			lda.l	#192
         11:DF0B  85 FE      			sta	_dl
22415                        		__call		_scroll_split.5
         11:DF0D  20 81 FF   			call	_scroll_split.5
22416                        	
22417                        		.dbg	line,	"include\init.c", 695; scroll_split(2,  80, 0, 80, BKG_ON | SPR_ON);
22418                        		__st.umiq	2, _al
         11:DF10  A9 02      			lda.l	#2
         11:DF12  85 F8      			sta	_al
22419                        		__st.umiq	80, _ah
         11:DF14  A9 50      			lda.l	#80
         11:DF16  85 F9      			sta	_ah
22420                        		__st.wmiq	0, _bx
         11:DF18  64 FA      			stz.l	_bx
         11:DF1A  64 FB      			stz.h	_bx
22421                        		__st.wmiq	80, _cx
         11:DF1C  A9 50      			lda.l	#80
         11:DF1E  85 FC      			sta.l	_cx
         11:DF20  64 FD      			stz.h	_cx
22422                        		__st.umiq	192, _dl
         11:DF22  A9 C0      			lda.l	#192
         11:DF24  85 FE      			sta	_dl
22423                        		__call		_scroll_split.5
         11:DF26  20 81 FF   			call	_scroll_split.5
22424                        	
22425                        		.dbg	line,	"include\init.c", 698; display_LIFE();
22426                        		__call		_display_LIFE
         11:DF29  20 AF FE   			call	_display_LIFE
22427                        	
22428                        		.dbg	line,	"include\init.c", 699; display_SCORE();
22429                        		__call		_display_SCORE
         11:DF2C  20 A5 FE   			call	_display_SCORE
22430                        	
22431                        		.dbg	line,	"include\init.c", 700; display_TIME_LEVEL();
22432                        		__call		_display_TIME_LEVEL
         11:DF2F  20 FF FE   			call	_display_TIME_LEVEL
22433                        	
22434                        		.dbg	line,	"include\init.c", 701; display_KEY();
22435                        		__call		_display_KEY
         11:DF32  20 45 FF   			call	_display_KEY
22436                        	
22437                        		.dbg	line,	"include\init.c", 702; display_POTION();
22438                        		__call		_display_POTION
         11:DF35  20 E1 FE   			call	_display_POTION
22439                        	
22440                        		.dbg	line,	"include\init.c", 703; display_ZENNY();
22441                        		__call		_display_ZENNY
         11:DF38  20 3B FF   			call	_display_ZENNY
22442                        	
22443                        		.dbg	line,	"include\init.c", 704; }
22444    11:DF3B             	.LL1066:
22445                        		__return	0
         11:DF3B  4C EF FF   			jmp	leave_proc
22446                        		.dbg	clear
22447                        		.endp
22448                        		.pceas
22449                        	
22450                        		.dbg	line,	"include\init.c", 707; void init_LEVEL()
22451                        		.dbg	line,	"include\init.c", 708; {
22452                        	;***********************
22453                        	;***********************
22454                        	
22455                        		.hucc
22456    1E:C86D             		.proc		_init_LEVEL
22457                        		__enter		_init_LEVEL
22458                        	
22459                        		.dbg	line,	"include\init.c", 709; if(level_id == 1)
22460                        		__ld.umq	_level_id
         1E:C86D  AD 17 23   			lda	_level_id
22461                        		__equ_b.uiq	1
         1E:C870  C9 01      			cmp	#1
         1E:C872  F0 01      			beq	!+
         1E:C874  18         			clc
         1E:C875             	!:
22462                        		__bfalse	.LL1084
         1E:C875  B0 03 4C 08			bcc	.LL1084
         1E:C879  CE          
22463                        	
22464                        		.dbg	line,	"include\init.c", 710; {
22465                        	
22466                        		.dbg	line,	"include\init.c", 711; char i;
22467                        	
22468                        		.dbg	line,	"include\init.c", 712; 
22469                        	
22470                        		.dbg	line,	"include\init.c", 713; // VSYNC //
22471                        	
22472                        		.dbg	line,	"include\init.c", 714; vsync();
22473                        		__call		_vsync
         1E:C87A  20 1D E3   			call	_vsync
22474                        	
22475                        		.dbg	line,	"include\init.c", 717; // DISABLE DISPLAY //
22476                        	
22477                        		.dbg	line,	"include\init.c", 718; disp_off();
22478                        		__call		_disp_off
         1E:C87D  20 3D E4   			call	_disp_off
22479                        	
22480                        		.dbg	line,	"include\init.c", 721; // SET VDC 1 SCREEN SIZE (IN TILES) - 64x32 = 512x256 PIXELS
22481                        	
22482                        		.dbg	line,	"include\init.c", 722; set_screen_size(SCR_SIZE_64x32);
22483                        		__st.umiq	1, _al
         1E:C880  A9 01      			lda.l	#1
         1E:C882  85 F8      			sta	_al
22484                        		__call		_set_screen_size.1
         1E:C884  20 D7 FE   			call	_set_screen_size.1
22485                        	
22486                        		.dbg	line,	"include\init.c", 725; // SET VDC 2 SCREEN SIZE (IN TILES) - 64x32 = 512x256 PIXELS
22487                        	
22488                        		.dbg	line,	"include\init.c", 726; sgx_set_screen_size(SCR_SIZE_64x32);
22489                        		__st.umiq	1, _al
         1E:C887  A9 01      			lda.l	#1
         1E:C889  85 F8      			sta	_al
22490                        		__call		_sgx_set_screen_size.1
         1E:C88B  20 CD FE   			call	_sgx_set_screen_size.1
22491                        	
22492                        		.dbg	line,	"include\init.c", 729; // INIT SPRITE ATTRIBUTE TABLE //
22493                        	
22494                        		.dbg	line,	"include\init.c", 730; //init_satb();
22495                        	
22496                        		.dbg	line,	"include\init.c", 735; //**************************************************************************************//
22497                        	
22498                        		.dbg	line,	"include\init.c", 736; //                                                                                      //
22499                        	
22500                        		.dbg	line,	"include\init.c", 737; //                                      VARIABLES                                       //
22501                        	
22502                        		.dbg	line,	"include\init.c", 738; //                                                                                      //
22503                        	
22504                        		.dbg	line,	"include\init.c", 739; //**************************************************************************************//
22505                        	
22506                        		.dbg	line,	"include\init.c", 741; time_counter = 0;
22507                        		__st.umiq	0, _time_counter
         1E:C88E  9C 35 23   			stz	_time_counter
22508                        	
22509                        		.dbg	line,	"include\init.c", 742; 
22510                        	
22511                        		.dbg	line,	"include\init.c", 743; if(respawn == RESPAWN_SHOP)
22512                        		__ld.umq	_respawn
         1E:C891  AD 19 23   			lda	_respawn
22513                        		__equ_b.uiq	2
         1E:C894  C9 02      			cmp	#2
         1E:C896  F0 01      			beq	!+
         1E:C898  18         			clc
         1E:C899             	!:
22514                        		__bfalse	.LL1085
         1E:C899  90 10      			bcc	.LL1085
22515                        	
22516                        		.dbg	line,	"include\init.c", 744; {
22517                        	
22518                        		.dbg	line,	"include\init.c", 745; minutes = minutes_backup;
22519                        		__ld.um		_minutes_backup
         1E:C89B  AD 36 23   			lda	_minutes_backup
         1E:C89E  C2         			cly
22520                        		__st.umq	_minutes
         1E:C89F  8D 33 23   			sta	_minutes
22521                        	
22522                        		.dbg	line,	"include\init.c", 746; seconds = seconds_backup;
22523                        		__ld.um		_seconds_backup
         1E:C8A2  AD 37 23   			lda	_seconds_backup
         1E:C8A5  C2         			cly
22524                        		__st.umq	_seconds
         1E:C8A6  8D 34 23   			sta	_seconds
22525                        	
22526                        		.dbg	line,	"include\init.c", 747; }
22527                        	
22528                        		.dbg	line,	"include\init.c", 749; else
22529                        		__bra		.LL1086
         1E:C8A9  80 0A      			bra	.LL1086
22530    1E:C8AB             	.LL1085:
22531                        	
22532                        		.dbg	line,	"include\init.c", 750; {
22533                        	
22534                        		.dbg	line,	"include\init.c", 751; minutes = 1;
22535                        		__st.umiq	1, _minutes
         1E:C8AB  A9 01      			lda.l	#1
         1E:C8AD  8D 33 23   			sta	_minutes
22536                        	
22537                        		.dbg	line,	"include\init.c", 752; seconds = 59;
22538                        		__st.umiq	59, _seconds
         1E:C8B0  A9 3B      			lda.l	#59
         1E:C8B2  8D 34 23   			sta	_seconds
22539                        	
22540                        		.dbg	line,	"include\init.c", 753; }
22541    1E:C8B5             	.LL1086:
22542                        	
22543                        		.dbg	line,	"include\init.c", 755; global_counter			= 0;
22544                        		__st.wmiq	0, _global_counter
         1E:C8B5  9C 5B 26   			stz.l	_global_counter
         1E:C8B8  9C 5C 26   			stz.h	_global_counter
22545                        	
22546                        		.dbg	line,	"include\init.c", 756; camera_max_y_position	= 768;
22547                        		__st.wmiq	768, _camera_max_y_position
         1E:C8BB  9C 05 25   			stz.l	_camera_max_y_position
         1E:C8BE  A9 03      			lda.h	#768
         1E:C8C0  8D 06 25   			sta.h	_camera_max_y_position
22548                        	
22549                        		.dbg	line,	"include\init.c", 757; score					= 0;
22550                        		__st.wmiq	0, _score
         1E:C8C3  9C 63 26   			stz.l	_score
         1E:C8C6  9C 64 26   			stz.h	_score
22551                        	
22552                        		.dbg	line,	"include\init.c", 758; level_object_number		= OBJECT_NUMBER_LV1;
22553                        		__st.umiq	23, _level_object_number
         1E:C8C9  A9 17      			lda.l	#23
         1E:C8CB  8D 39 23   			sta	_level_object_number
22554                        	
22555                        		.dbg	line,	"include\init.c", 759; level_chest_number		= CHEST_NUMBER_LV1;
22556                        		__st.umiq	2, _level_chest_number
         1E:C8CE  A9 02      			lda.l	#2
         1E:C8D0  8D C1 23   			sta	_level_chest_number
22557                        	
22558                        		.dbg	line,	"include\init.c", 760; level_npc_number		= NPC_NUMBER_LV1;
22559                        		__st.umiq	2, _level_npc_number
         1E:C8D3  A9 02      			lda.l	#2
         1E:C8D5  8D D4 23   			sta	_level_npc_number
22560                        	
22561                        		.dbg	line,	"include\init.c", 761; object_start_index		= OBJECT_START_INDEX_LV1;
22562                        		__st.umiq	0, _object_start_index
         1E:C8D8  9C 38 23   			stz	_object_start_index
22563                        	
22564                        		.dbg	line,	"include\init.c", 762; chest_start_index		= CHEST_START_INDEX_LV1;
22565                        		__st.umiq	23, _chest_start_index
         1E:C8DB  A9 17      			lda.l	#23
         1E:C8DD  8D C0 23   			sta	_chest_start_index
22566                        	
22567                        		.dbg	line,	"include\init.c", 763; npc_start_index			= NPC_START_INDEX_LV1;
22568                        		__st.umiq	25, _npc_start_index
         1E:C8E0  A9 19      			lda.l	#25
         1E:C8E2  8D D3 23   			sta	_npc_start_index
22569                        	
22570                        		.dbg	line,	"include\init.c", 764; jump_ladder				= FALSE;
22571                        		__st.umiq	0, _jump_ladder
         1E:C8E5  9C 24 23   			stz	_jump_ladder
22572                        	
22573                        		.dbg	line,	"include\init.c", 766; //
22574                        	
22575                        		.dbg	line,	"include\init.c", 767; ptr_REWARD_TYPE     	= TABLE_REWARD_TYPE_LV1;
22576                        		__ld.wi		_TABLE_REWARD_TYPE_LV1
         1E:C8E8  A9 38      			lda.l	#_TABLE_REWARD_TYPE_LV1
         1E:C8EA  A0 62      			ldy.h	#_TABLE_REWARD_TYPE_LV1
22577                        		__st.wmq	_ptr_REWARD_TYPE
         1E:C8EC  8D 9A 26   			sta.l	_ptr_REWARD_TYPE
         1E:C8EF  8C 9B 26   			sty.h	_ptr_REWARD_TYPE
22578                        	
22579                        		.dbg	line,	"include\init.c", 768; ptr_REWARD_VRAM_ADR 	= TABLE_REWARD_VRAM_ADR_LV1;
22580                        		__ld.wi		_TABLE_REWARD_VRAM_ADR_LV1
         1E:C8F2  A9 4F      			lda.l	#_TABLE_REWARD_VRAM_ADR_LV1
         1E:C8F4  A0 62      			ldy.h	#_TABLE_REWARD_VRAM_ADR_LV1
22581                        		__st.wmq	_ptr_REWARD_VRAM_ADR
         1E:C8F6  8D 9C 26   			sta.l	_ptr_REWARD_VRAM_ADR
         1E:C8F9  8C 9D 26   			sty.h	_ptr_REWARD_VRAM_ADR
22582                        	
22583                        		.dbg	line,	"include\init.c", 772; //**************************************************************************************//
22584                        	
22585                        		.dbg	line,	"include\init.c", 773; //                                                                                      //
22586                        	
22587                        		.dbg	line,	"include\init.c", 774; //                                        VDC 2                                         //
22588                        	
22589                        		.dbg	line,	"include\init.c", 775; //                                                                                      //
22590                        	
22591                        		.dbg	line,	"include\init.c", 776; //**************************************************************************************//
22592                        	
22593                        		.dbg	line,	"include\init.c", 778; //--------------------------------------------------------------------------------------//
22594                        	
22595                        		.dbg	line,	"include\init.c", 779; //                                    LOAD TILESET                                      //
22596                        	
22597                        		.dbg	line,	"include\init.c", 780; //--------------------------------------------------------------------------------------//
22598                        	
22599                        		.dbg	line,	"include\init.c", 782; sgx_load_vram( 0x1000, tileset_LV1_BG_B, SIZEOF(tileset_LV1_BG_B) >> 1 );
22600                        		__st.wmiq	4096, _di
         1E:C8FC  64 F0      			stz.l	_di
         1E:C8FE  A9 10      			lda.h	#4096
         1E:C900  85 F1      			sta.h	_di
22601                        		__farptr	_tileset_LV1_BG_B, _bp_bank, _bp
         1E:C902  A9 60      			lda.l	#$6000 + ($1FFF & (_tileset_LV1_BG_B))
         1E:C904  85 EC      			sta.l	_bp
         1E:C906  A9 76      			lda.h	#$6000 + ($1FFF & (_tileset_LV1_BG_B))
         1E:C908  85 ED      			sta.h	_bp
         1E:C90A  A9 07      			lda	#bank(_tileset_LV1_BG_B)
         1E:C90C  85 02      			sta	_bp_bank
22602                        		__ld.wi		___sizeof__tileset_LV1_BG_B
         1E:C90E  A9 E0      			lda.l	#___sizeof__tileset_LV1_BG_B
         1E:C910  A0 72      			ldy.h	#___sizeof__tileset_LV1_BG_B
22603                        		__lsr.wi	1
         1E:C912  42         			say
         1E:C913  4A         			lsr	a
         1E:C914  42         			say
         1E:C915  6A         			ror	a
22604                        		__st.wmq	_ax
         1E:C916  85 F8      			sta.l	_ax
         1E:C918  84 F9      			sty.h	_ax
22605                        		 _sgx_load_vram.3
         1E:C91A  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1E:C91C  20 EB FE   			call	load_vram_x
22606                        	
22607                        		.dbg	line,	"include\init.c", 785; //--------------------------------------------------------------------------------------//
22608                        	
22609                        		.dbg	line,	"include\init.c", 786; //                               LOAD WALL & DOOR TILES                                 //
22610                        	
22611                        		.dbg	line,	"include\init.c", 787; //--------------------------------------------------------------------------------------//
22612                        	
22613                        		.dbg	line,	"include\init.c", 789; sgx_load_vram( LV1_WALL_VRAM_ADR, tileset_LV1_WALL, SIZEOF(tileset_LV1_WALL) >> 1 );
22614                        		__st.wmiq	4096, _di
         1E:C91F  64 F0      			stz.l	_di
         1E:C921  A9 10      			lda.h	#4096
         1E:C923  85 F1      			sta.h	_di
22615                        		__farptr	_tileset_LV1_WALL, _bp_bank, _bp
         1E:C925  A9 E0      			lda.l	#$6000 + ($1FFF & (_tileset_LV1_WALL))
         1E:C927  85 EC      			sta.l	_bp
         1E:C929  A9 68      			lda.h	#$6000 + ($1FFF & (_tileset_LV1_WALL))
         1E:C92B  85 ED      			sta.h	_bp
         1E:C92D  A9 07      			lda	#bank(_tileset_LV1_WALL)
         1E:C92F  85 02      			sta	_bp_bank
22616                        		__ld.wi		___sizeof__tileset_LV1_WALL
         1E:C931  A9 00      			lda.l	#___sizeof__tileset_LV1_WALL
         1E:C933  A0 02      			ldy.h	#___sizeof__tileset_LV1_WALL
22617                        		__lsr.wi	1
         1E:C935  42         			say
         1E:C936  4A         			lsr	a
         1E:C937  42         			say
         1E:C938  6A         			ror	a
22618                        		__st.wmq	_ax
         1E:C939  85 F8      			sta.l	_ax
         1E:C93B  84 F9      			sty.h	_ax
22619                        		 _sgx_load_vram.3
         1E:C93D  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1E:C93F  20 EB FE   			call	load_vram_x
22620                        	
22621                        		.dbg	line,	"include\init.c", 790; sgx_load_vram( LV1_DOOR_VRAM_ADR, tileset_LV1_DOOR_OPEN, SIZEOF(tileset_LV1_DOOR_OPEN) >> 1 );
22622                        		__st.wmiq	4352, _di
         1E:C942  64 F0      			stz.l	_di
         1E:C944  A9 11      			lda.h	#4352
         1E:C946  85 F1      			sta.h	_di
22623                        		__farptr	_tileset_LV1_DOOR_OPEN, _bp_bank, _bp
         1E:C948  A9 E0      			lda.l	#$6000 + ($1FFF & (_tileset_LV1_DOOR_OPEN))
         1E:C94A  85 EC      			sta.l	_bp
         1E:C94C  A9 6A      			lda.h	#$6000 + ($1FFF & (_tileset_LV1_DOOR_OPEN))
         1E:C94E  85 ED      			sta.h	_bp
         1E:C950  A9 07      			lda	#bank(_tileset_LV1_DOOR_OPEN)
         1E:C952  85 02      			sta	_bp_bank
22624                        		__ld.wi		___sizeof__tileset_LV1_DOOR_OPEN
         1E:C954  A9 00      			lda.l	#___sizeof__tileset_LV1_DOOR_OPEN
         1E:C956  A0 03      			ldy.h	#___sizeof__tileset_LV1_DOOR_OPEN
22625                        		__lsr.wi	1
         1E:C958  42         			say
         1E:C959  4A         			lsr	a
         1E:C95A  42         			say
         1E:C95B  6A         			ror	a
22626                        		__st.wmq	_ax
         1E:C95C  85 F8      			sta.l	_ax
         1E:C95E  84 F9      			sty.h	_ax
22627                        		 _sgx_load_vram.3
         1E:C960  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1E:C962  20 EB FE   			call	load_vram_x
22628                        	
22629                        		.dbg	line,	"include\init.c", 793; //--------------------------------------------------------------------------------------//
22630                        	
22631                        		.dbg	line,	"include\init.c", 794; //                                     SET MULTIMAP                                     //
22632                        	
22633                        		.dbg	line,	"include\init.c", 795; //--------------------------------------------------------------------------------------//
22634                        	
22635                        		.dbg	line,	"include\init.c", 797; // multimap is 5 screens wide //
22636                        	
22637                        		.dbg	line,	"include\init.c", 798; sgx_set_multimap( multimap_LV1_BG_B , 5 );
22638                        		__farptr	_multimap_LV1_BG_B, sgx_scr_bank, sgx_scr_addr
         1E:C965  A9 00      			lda.l	#$6000 + ($1FFF & (_multimap_LV1_BG_B))
         1E:C967  8D 22 2C   			sta.l	sgx_scr_addr
         1E:C96A  A9 79      			lda.h	#$6000 + ($1FFF & (_multimap_LV1_BG_B))
         1E:C96C  8D 23 2C   			sta.h	sgx_scr_addr
         1E:C96F  A9 0D      			lda	#bank(_multimap_LV1_BG_B)
         1E:C971  8D 24 2C   			sta	sgx_scr_bank
22639                        		__st.umiq	5, sgx_map_scrn_w
         1E:C974  A9 05      			lda.l	#5
         1E:C976  8D E3 26   			sta	sgx_map_scrn_w
22640                        		 _sgx_set_multimap.2
         1E:C979  AD DB 26   			lda	sgx_bat_width
         1E:C97C  4A         			lsr	a
         1E:C97D  8D E2 26   			sta	sgx_map_line_w
22641                        	
22642                        		.dbg	line,	"include\init.c", 801; //--------------------------------------------------------------------------------------//
22643                        	
22644                        		.dbg	line,	"include\init.c", 802; //                                    DRAW TILEMAP                                      //
22645                        	
22646                        		.dbg	line,	"include\init.c", 803; //--------------------------------------------------------------------------------------//
22647                        	
22648                        		.dbg	line,	"include\init.c", 805; // The blkmap is drawn using global variables for the top-left coordinate
22649                        	
22650                        		.dbg	line,	"include\init.c", 806; // in pixels, and the draw width and height in terms of 8x8 characters.
22651                        	
22652                        		.dbg	line,	"include\init.c", 808; if(respawn == FALSE)
22653                        		__not.um	_respawn
         1E:C980  AD 19 23   			lda	_respawn
         1E:C983  18         			clc
         1E:C984  D0 01      			bne	!+
         1E:C986  38         			sec
         1E:C987             	!:
22654                        		__bfalse	.LL1087
         1E:C987  90 12      			bcc	.LL1087
22655                        	
22656                        		.dbg	line,	"include\init.c", 809; {
22657                        	
22658                        		.dbg	line,	"include\init.c", 810; sgx_map_pxl_x = 96;
22659                        		__st.wmiq	96, _sgx_map_pxl_x
         1E:C989  A9 60      			lda.l	#96
         1E:C98B  8D E4 26   			sta.l	_sgx_map_pxl_x
         1E:C98E  9C E5 26   			stz.h	_sgx_map_pxl_x
22660                        	
22661                        		.dbg	line,	"include\init.c", 811; sgx_map_pxl_y = 768;
22662                        		__st.wmiq	768, _sgx_map_pxl_y
         1E:C991  9C E6 26   			stz.l	_sgx_map_pxl_y
         1E:C994  A9 03      			lda.h	#768
         1E:C996  8D E7 26   			sta.h	_sgx_map_pxl_y
22663                        	
22664                        		.dbg	line,	"include\init.c", 812; }
22665                        	
22666                        		.dbg	line,	"include\init.c", 814; else if(respawn == RESPAWN_SHOP)
22667                        		__bra		.LL1088
         1E:C999  80 22      			bra	.LL1088
22668    1E:C99B             	.LL1087:
22669                        		__ld.umq	_respawn
         1E:C99B  AD 19 23   			lda	_respawn
22670                        		__equ_b.uiq	2
         1E:C99E  C9 02      			cmp	#2
         1E:C9A0  F0 01      			beq	!+
         1E:C9A2  18         			clc
         1E:C9A3             	!:
22671                        		__bfalse	.LL1089
         1E:C9A3  90 18      			bcc	.LL1089
22672                        	
22673                        		.dbg	line,	"include\init.c", 815; {
22674                        	
22675                        		.dbg	line,	"include\init.c", 816; sgx_map_pxl_x = camera_pos_x_backup;
22676                        		__ld.wm		_camera_pos_x_backup
         1E:C9A5  AD 07 25   			lda.l	_camera_pos_x_backup
         1E:C9A8  AC 08 25   			ldy.h	_camera_pos_x_backup
22677                        		__st.wmq	_sgx_map_pxl_x
         1E:C9AB  8D E4 26   			sta.l	_sgx_map_pxl_x
         1E:C9AE  8C E5 26   			sty.h	_sgx_map_pxl_x
22678                        	
22679                        		.dbg	line,	"include\init.c", 817; sgx_map_pxl_y = camera_pos_y_backup;
22680                        		__ld.wm		_camera_pos_y_backup
         1E:C9B1  AD 09 25   			lda.l	_camera_pos_y_backup
         1E:C9B4  AC 0A 25   			ldy.h	_camera_pos_y_backup
22681                        		__st.wmq	_sgx_map_pxl_y
         1E:C9B7  8D E6 26   			sta.l	_sgx_map_pxl_y
         1E:C9BA  8C E7 26   			sty.h	_sgx_map_pxl_y
22682                        	
22683                        		.dbg	line,	"include\init.c", 818; }
22684                        	
22685                        		.dbg	line,	"include\init.c", 821; sgx_map_draw_w = 63;
22686    1E:C9BD             	.LL1089:
22687    1E:C9BD             	.LL1088:
22688                        		__st.umiq	63, _sgx_map_draw_w
         1E:C9BD  A9 3F      			lda.l	#63
         1E:C9BF  8D E0 26   			sta	_sgx_map_draw_w
22689                        	
22690                        		.dbg	line,	"include\init.c", 822; sgx_map_draw_h = 29;
22691                        		__st.umiq	29, _sgx_map_draw_h
         1E:C9C2  A9 1D      			lda.l	#29
         1E:C9C4  8D E1 26   			sta	_sgx_map_draw_h
22692                        	
22693                        		.dbg	line,	"include\init.c", 824; sgx_draw_map();
22694                        		__call		_sgx_draw_map
         1E:C9C7  20 9B FE   			call	_sgx_draw_map
22695                        	
22696                        		.dbg	line,	"include\init.c", 829; //**************************************************************************************//
22697                        	
22698                        		.dbg	line,	"include\init.c", 830; //                                                                                      //
22699                        	
22700                        		.dbg	line,	"include\init.c", 831; //                                         HUD                                          //
22701                        	
22702                        		.dbg	line,	"include\init.c", 832; //                                                                                      //
22703                        	
22704                        		.dbg	line,	"include\init.c", 833; //**************************************************************************************//
22705                        	
22706                        		.dbg	line,	"include\init.c", 835; init_HUD();
22707                        		__call		_init_HUD
         1E:C9CA  20 91 FE   			call	_init_HUD
22708                        	
22709                        		.dbg	line,	"include\init.c", 838; if(display_level_text == TRUE)
22710                        		__ld.umq	_display_level_text
         1E:C9CD  AD 18 23   			lda	_display_level_text
22711                        		__equ_b.uiq	1
         1E:C9D0  C9 01      			cmp	#1
         1E:C9D2  F0 01      			beq	!+
         1E:C9D4  18         			clc
         1E:C9D5             	!:
22712                        		__bfalse	.LL1090
         1E:C9D5  90 67      			bcc	.LL1090
22713                        	
22714                        		.dbg	line,	"include\init.c", 839; {
22715                        	
22716                        		.dbg	line,	"include\init.c", 840; put_string("ROUND",13, 8);
22717                        		__ld.wi		__const1+36
         1E:C9D7  A9 24      			lda.l	#__const1+36
         1E:C9D9  A0 60      			ldy.h	#__const1+36
22718                        		__st.wmq	_bp
         1E:C9DB  85 EC      			sta.l	_bp
         1E:C9DD  84 ED      			sty.h	_bp
22719                        		__st.umiq	13, _dil
         1E:C9DF  A9 0D      			lda.l	#13
         1E:C9E1  85 F0      			sta	_dil
22720                        		__st.umiq	8, _dih
         1E:C9E3  A9 08      			lda.l	#8
         1E:C9E5  85 F1      			sta	_dih
22721                        		__call		_put_string.3
         1E:C9E7  20 5F E6   			call	_put_string.3
22722                        	
22723                        		.dbg	line,	"include\init.c", 841; put_number(level_id,1,19,8);
22724                        		__ld.um		_level_id
         1E:C9EA  AD 17 23   			lda	_level_id
         1E:C9ED  C2         			cly
22725                        		__st.wmq	_bx
         1E:C9EE  85 FA      			sta.l	_bx
         1E:C9F0  84 FB      			sty.h	_bx
22726                        		__st.umiq	1, _cl
         1E:C9F2  A9 01      			lda.l	#1
         1E:C9F4  85 FC      			sta	_cl
22727                        		__st.umiq	19, _dil
         1E:C9F6  A9 13      			lda.l	#19
         1E:C9F8  85 F0      			sta	_dil
22728                        		__st.umiq	8, _dih
         1E:C9FA  A9 08      			lda.l	#8
         1E:C9FC  85 F1      			sta	_dih
22729                        		__call		_put_number.4
         1E:C9FE  20 6D FF   			call	_put_number.4
22730                        	
22731                        		.dbg	line,	"include\init.c", 842; put_string("READY PLAYER 1",10,13);
22732                        		__ld.wi		__const1+42
         1E:CA01  A9 2A      			lda.l	#__const1+42
         1E:CA03  A0 60      			ldy.h	#__const1+42
22733                        		__st.wmq	_bp
         1E:CA05  85 EC      			sta.l	_bp
         1E:CA07  84 ED      			sty.h	_bp
22734                        		__st.umiq	10, _dil
         1E:CA09  A9 0A      			lda.l	#10
         1E:CA0B  85 F0      			sta	_dil
22735                        		__st.umiq	13, _dih
         1E:CA0D  A9 0D      			lda.l	#13
         1E:CA0F  85 F1      			sta	_dih
22736                        		__call		_put_string.3
         1E:CA11  20 5F E6   			call	_put_string.3
22737                        	
22738                        		.dbg	line,	"include\init.c", 843; put_string("SAVE   LIVES",11,15);
22739                        		__ld.wi		__const1+57
         1E:CA14  A9 39      			lda.l	#__const1+57
         1E:CA16  A0 60      			ldy.h	#__const1+57
22740                        		__st.wmq	_bp
         1E:CA18  85 EC      			sta.l	_bp
         1E:CA1A  84 ED      			sty.h	_bp
22741                        		__st.umiq	11, _dil
         1E:CA1C  A9 0B      			lda.l	#11
         1E:CA1E  85 F0      			sta	_dil
22742                        		__st.umiq	15, _dih
         1E:CA20  A9 0F      			lda.l	#15
         1E:CA22  85 F1      			sta	_dih
22743                        		__call		_put_string.3
         1E:CA24  20 5F E6   			call	_put_string.3
22744                        	
22745                        		.dbg	line,	"include\init.c", 844; put_number(life_amount,1,16,15);
22746                        		__ld.um		_life_amount
         1E:CA27  AD 2F 23   			lda	_life_amount
         1E:CA2A  C2         			cly
22747                        		__st.wmq	_bx
         1E:CA2B  85 FA      			sta.l	_bx
         1E:CA2D  84 FB      			sty.h	_bx
22748                        		__st.umiq	1, _cl
         1E:CA2F  A9 01      			lda.l	#1
         1E:CA31  85 FC      			sta	_cl
22749                        		__st.umiq	16, _dil
         1E:CA33  A9 10      			lda.l	#16
         1E:CA35  85 F0      			sta	_dil
22750                        		__st.umiq	15, _dih
         1E:CA37  A9 0F      			lda.l	#15
         1E:CA39  85 F1      			sta	_dih
22751                        		__call		_put_number.4
         1E:CA3B  20 6D FF   			call	_put_number.4
22752                        	
22753                        		.dbg	line,	"include\init.c", 845; }
22754                        	
22755                        		.dbg	line,	"include\init.c", 848; 
22756                        	
22757                        		.dbg	line,	"include\init.c", 851; //**************************************************************************************//
22758                        	
22759                        		.dbg	line,	"include\init.c", 852; //                                                                                      //
22760                        	
22761                        		.dbg	line,	"include\init.c", 853; //                                  SETUP SCROLL_SPLIT                                  //
22762                        	
22763                        		.dbg	line,	"include\init.c", 854; //                                                                                      //
22764                        	
22765                        		.dbg	line,	"include\init.c", 855; //**************************************************************************************//
22766                        	
22767                        		.dbg	line,	"include\init.c", 857; //--------------------------------------------------------------------------------------//
22768                        	
22769                        		.dbg	line,	"include\init.c", 858; //                                        VDC 2                                         //
22770                        	
22771                        		.dbg	line,	"include\init.c", 859; //--------------------------------------------------------------------------------------//
22772                        	
22773                        		.dbg	line,	"include\init.c", 861; sgx_scroll_map();
22774    1E:CA3E             	.LL1090:
22775                        		__call		_sgx_scroll_map
         1E:CA3E  20 63 FF   			call	_sgx_scroll_map
22776                        	
22777                        		.dbg	line,	"include\init.c", 863; sgx_scroll_split(0,   0, sgx_map_pxl_x & (BAT_SIZE_W - 1), sgx_map_pxl_y & (BAT_SIZE_H - 1), BKG_ON | SPR_ON);
22778                        		__st.umiq	0, _al
         1E:CA41  64 F8      			stz	_al
22779                        		__st.umiq	0, _ah
         1E:CA43  64 F9      			stz	_ah
22780                        		__ld.wm		_sgx_map_pxl_x
         1E:CA45  AD E4 26   			lda.l	_sgx_map_pxl_x
         1E:CA48  AC E5 26   			ldy.h	_sgx_map_pxl_x
22781                        		__and.wi	2047
         1E:CA4B  29 FF      			and.l	#2047
         1E:CA4D  42         			say
         1E:CA4E  29 07      			and.h	#2047
         1E:CA50  42         			say
22782                        		__st.wmq	_bx
         1E:CA51  85 FA      			sta.l	_bx
         1E:CA53  84 FB      			sty.h	_bx
22783                        		__ld.wm		_sgx_map_pxl_y
         1E:CA55  AD E6 26   			lda.l	_sgx_map_pxl_y
         1E:CA58  AC E7 26   			ldy.h	_sgx_map_pxl_y
22784                        		__and.wi	255
         1E:CA5B  29 FF      			and	#255
         1E:CA5D  C2         			cly
22785                        		__st.wmq	_cx
         1E:CA5E  85 FC      			sta.l	_cx
         1E:CA60  84 FD      			sty.h	_cx
22786                        		__st.umiq	192, _dl
         1E:CA62  A9 C0      			lda.l	#192
         1E:CA64  85 FE      			sta	_dl
22787                        		__call		_sgx_scroll_split.5
         1E:CA66  20 59 FF   			call	_sgx_scroll_split.5
22788                        	
22789                        		.dbg	line,	"include\init.c", 868; //--------------------------------------------------------------------------------------//
22790                        	
22791                        		.dbg	line,	"include\init.c", 869; //                                   LOAD BG PALETTES                                   //
22792                        	
22793                        		.dbg	line,	"include\init.c", 870; //--------------------------------------------------------------------------------------//
22794                        	
22795                        		.dbg	line,	"include\init.c", 872; // LOAD ALL PALETTES AT BG PALETTE 0 //
22796                        	
22797                        		.dbg	line,	"include\init.c", 873; load_palette( 0, palette_LV1, 16 );
22798                        		__st.umiq	0, _al
         1E:CA69  64 F8      			stz	_al
22799                        		__farptr	_palette_LV1, _bp_bank, _bp
         1E:CA6B  A9 A0      			lda.l	#$6000 + ($1FFF & (_palette_LV1))
         1E:CA6D  85 EC      			sta.l	_bp
         1E:CA6F  A9 60      			lda.h	#$6000 + ($1FFF & (_palette_LV1))
         1E:CA71  85 ED      			sta.h	_bp
         1E:CA73  A9 10      			lda	#bank(_palette_LV1)
         1E:CA75  85 02      			sta	_bp_bank
22800                        		__st.umiq	16, _ah
         1E:CA77  A9 10      			lda.l	#16
         1E:CA79  85 F9      			sta	_ah
22801                        		__call		_load_palette.3
         1E:CA7B  20 8B FF   			call	_load_palette.3
22802                        	
22803                        		.dbg	line,	"include\init.c", 878; //**************************************************************************************//
22804                        	
22805                        		.dbg	line,	"include\init.c", 879; //                                                                                      //
22806                        	
22807                        		.dbg	line,	"include\init.c", 880; //                                       SPRITES                                        //
22808                        	
22809                        		.dbg	line,	"include\init.c", 881; //                                                                                      //
22810                        	
22811                        		.dbg	line,	"include\init.c", 882; //**************************************************************************************//
22812                        	
22813                        		.dbg	line,	"include\init.c", 884; // HIDE DRAGON SPRITES FROM INTRO //
22814                        	
22815                        		.dbg	line,	"include\init.c", 885; for(i=0 ; i<8 ; i++)
22816                        		__st.umiq	0, __init_LEVEL_end - 1  /* i */
         1E:CA7E  9C 12 23   			stz	__init_LEVEL_end - 1
22817    1E:CA81             	.LL1091:
22818                        		__ld.umq	__init_LEVEL_end - 1  /* i */
         1E:CA81  AD 12 23   			lda	__init_LEVEL_end - 1
22819                        		__ult_b.uiq	8
         1E:CA84  C9 08      			cmp	#8		; Subtract integer from A.
         1E:CA86  6A         			ror	a		; CC if A < integer.
         1E:CA87  49 80      			eor	#$80
         1E:CA89  2A         			rol	a
22820                        		__btrue		.LL1093
         1E:CA8A  B0 07      			bcs	.LL1093
22821                        		__bra		.LL1094
         1E:CA8C  80 10      			bra	.LL1094
22822    1E:CA8E             	.LL1092:
22823                        		__inc.umq	__init_LEVEL_end - 1  /* i */
         1E:CA8E  EE 12 23   			inc	__init_LEVEL_end - 1
22824                        		__bra		.LL1091
         1E:CA91  80 EE      			bra	.LL1091
22825    1E:CA93             	.LL1093:
22826                        	
22827                        		.dbg	line,	"include\init.c", 886; {
22828                        	
22829                        		.dbg	line,	"include\init.c", 887; sgx_spr_set(i);
22830                        		__ld.umq	__init_LEVEL_end - 1  /* i */
         1E:CA93  AD 12 23   			lda	__init_LEVEL_end - 1
22831                        		__call		_sgx_spr_set.1
         1E:CA96  20 9E E8   			call	_sgx_spr_set.1
22832                        	
22833                        		.dbg	line,	"include\init.c", 888; sgx_spr_hide();
22834                        		__call		_sgx_spr_hide
         1E:CA99  20 B9 E8   			call	_sgx_spr_hide
22835                        	
22836                        		.dbg	line,	"include\init.c", 889; }
22837                        		__bra		.LL1092
         1E:CA9C  80 F0      			bra	.LL1092
22838    1E:CA9E             	.LL1094:
22839                        	
22840                        		.dbg	line,	"include\init.c", 891; //--------------------------------------------------------------------------------------//
22841                        	
22842                        		.dbg	line,	"include\init.c", 892; //                                        PLAYER                                        //
22843                        	
22844                        		.dbg	line,	"include\init.c", 893; //--------------------------------------------------------------------------------------//
22845                        	
22846                        		.dbg	line,	"include\init.c", 895; // LOAD ALL PLAYER TILES //
22847                        	
22848                        		.dbg	line,	"include\init.c", 896; set_far_base(TABLE_PLAYER_TILES_BANK[player_naked],TABLE_PLAYER_TILES_ADR[player_naked]);
22849                        		__ldx.umq	_player_naked
         1E:CA9E  AE 22 23   			ldx	_player_naked
22850                        		__ld.uax	_TABLE_PLAYER_TILES_BANK
         1E:CAA1  BD 89 62   			lda	_TABLE_PLAYER_TILES_BANK, x
         1E:CAA4  C2         			cly
22851                        		__st.umq	_bp_bank
         1E:CAA5  85 02      			sta	_bp_bank
22852                        		__ld2x.umq	_player_naked
         1E:CAA7  AD 22 23   			lda	_player_naked
         1E:CAAA  0A         			asl	a
         1E:CAAB  AA         			tax
22853                        		__ld.wax	_TABLE_PLAYER_TILES_ADR
         1E:CAAC  BD 85 62   			lda.l	_TABLE_PLAYER_TILES_ADR, x
         1E:CAAF  BC 86 62   			ldy.h	_TABLE_PLAYER_TILES_ADR, x
22854                        		__st.wmq	_bp
         1E:CAB2  85 EC      			sta.l	_bp
         1E:CAB4  84 ED      			sty.h	_bp
22855                        	
22856                        		.dbg	line,	"include\init.c", 897; far_load_vram(PLAYER_VRAM_ADR,TILES_400);
22857                        		__st.wmiq	6144, _di
         1E:CAB6  64 F0      			stz.l	_di
         1E:CAB8  A9 18      			lda.h	#6144
         1E:CABA  85 F1      			sta.h	_di
22858                        		__st.wmiq	6400, _ax
         1E:CABC  64 F8      			stz.l	_ax
         1E:CABE  A9 19      			lda.h	#6400
         1E:CAC0  85 F9      			sta.h	_ax
22859                        		 _far_load_vram.2
         1E:CAC2  82         			clx				; Offset to PCE VDC.
         1E:CAC3  20 EB FE   			call	load_vram_x
22860                        	
22861                        		.dbg	line,	"include\init.c", 900; // SELECT PLAYER CORE SPRITE //
22862                        	
22863                        		.dbg	line,	"include\init.c", 901; spr_set(player_id); // PLAYER_START_INDEX
22864                        		__ld.umq	_player_id
         1E:CAC6  AD 1A 23   			lda	_player_id
22865                        		__call		_spr_set.1
         1E:CAC9  20 F1 E7   			call	_spr_set.1
22866                        	
22867                        		.dbg	line,	"include\init.c", 904; player_pos_x = 112;
22868                        		__st.wmiq	112, _player_pos_x
         1E:CACC  A9 70      			lda.l	#112
         1E:CACE  8D 01 25   			sta.l	_player_pos_x
         1E:CAD1  9C 02 25   			stz.h	_player_pos_x
22869                        	
22870                        		.dbg	line,	"include\init.c", 905; player_pos_y = PLAYER_BASE_Y_POS;
22871                        		__st.wmiq	128, _player_pos_y
         1E:CAD4  A9 80      			lda.l	#128
         1E:CAD6  8D 03 25   			sta.l	_player_pos_y
         1E:CAD9  9C 04 25   			stz.h	_player_pos_y
22872                        	
22873                        		.dbg	line,	"include\init.c", 908; spr_x(player_pos_x);
22874                        		__ld.wm		_player_pos_x
         1E:CADC  AD 01 25   			lda.l	_player_pos_x
         1E:CADF  AC 02 25   			ldy.h	_player_pos_x
22875                        		__call		_spr_x.1
         1E:CAE2  20 1E E8   			call	_spr_x.1
22876                        	
22877                        		.dbg	line,	"include\init.c", 909; spr_y(player_pos_y);
22878                        		__ld.wm		_player_pos_y
         1E:CAE5  AD 03 25   			lda.l	_player_pos_y
         1E:CAE8  AC 04 25   			ldy.h	_player_pos_y
22879                        		__call		_spr_y.1
         1E:CAEB  20 2D E8   			call	_spr_y.1
22880                        	
22881                        		.dbg	line,	"include\init.c", 911; // SET TILES DATA FOR THE PLAYER //
22882                        	
22883                        		.dbg	line,	"include\init.c", 912; spr_pattern(PLAYER_VRAM_ADR);
22884                        		__ld.wi		6144
         1E:CAEE  62         			cla
         1E:CAEF  A0 18      			ldy.h	#6144
22885                        		__call		_spr_pattern.1
         1E:CAF1  20 3A E8   			call	_spr_pattern.1
22886                        	
22887                        		.dbg	line,	"include\init.c", 914; // SET SPRITE FLIP //
22888                        	
22889                        		.dbg	line,	"include\init.c", 915; spr_ctrl(FLIP_MAS|SIZE_MAS, NO_FLIP|SZ_32x32);
22890                        		__st.umiq	185, _al
         1E:CAF4  A9 B9      			lda.l	#185
         1E:CAF6  85 F8      			sta	_al
22891                        		__ld.uiq	17
         1E:CAF8  A9 11      			lda	#17
22892                        		__call		_spr_ctrl.2
         1E:CAFA  20 50 E8   			call	_spr_ctrl.2
22893                        	
22894                        		.dbg	line,	"include\init.c", 917; 
22895                        	
22896                        		.dbg	line,	"include\init.c", 920; spr_pal(0);
22897                        		__ld.uiq	0
         1E:CAFD  62         			cla
22898                        		__call		_spr_pal.1
         1E:CAFE  20 61 E8   			call	_spr_pal.1
22899                        	
22900                        		.dbg	line,	"include\init.c", 921; spr_pri(TRUE);
22901                        		__ld.uiq	1
         1E:CB01  A9 01      			lda	#1
22902                        		__call		_spr_pri.1
         1E:CB03  20 70 E8   			call	_spr_pri.1
22903                        	
22904                        		.dbg	line,	"include\init.c", 924; //--------------------------------------------------------------------------------------//
22905                        	
22906                        		.dbg	line,	"include\init.c", 925; //                                        CHAIN                                         //
22907                        	
22908                        		.dbg	line,	"include\init.c", 926; //--------------------------------------------------------------------------------------//
22909                        	
22910                        		.dbg	line,	"include\init.c", 928; load_vram(CHAIN_VRAM_ADR, tiles_SPR_CHAIN , TILES_4);
22911                        		__st.wmiq	31744, _di
         1E:CB06  64 F0      			stz.l	_di
         1E:CB08  A9 7C      			lda.h	#31744
         1E:CB0A  85 F1      			sta.h	_di
22912                        		__farptr	_tiles_SPR_CHAIN, _bp_bank, _bp
         1E:CB0C  A9 C0      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_CHAIN))
         1E:CB0E  85 EC      			sta.l	_bp
         1E:CB10  A9 71      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_CHAIN))
         1E:CB12  85 ED      			sta.h	_bp
         1E:CB14  A9 19      			lda	#bank(_tiles_SPR_CHAIN)
         1E:CB16  85 02      			sta	_bp_bank
22913                        		__st.wmiq	64, _ax
         1E:CB18  A9 40      			lda.l	#64
         1E:CB1A  85 F8      			sta.l	_ax
         1E:CB1C  64 F9      			stz.h	_ax
22914                        		 _load_vram.3
         1E:CB1E  82         			clx				; Offset to PCE VDC.
         1E:CB1F  20 EB FE   			call	load_vram_x
22915                        	
22916                        		.dbg	line,	"include\init.c", 930; for(i=0 ; i<3 ; i++)
22917                        		__st.umiq	0, __init_LEVEL_end - 1  /* i */
         1E:CB22  9C 12 23   			stz	__init_LEVEL_end - 1
22918    1E:CB25             	.LL1095:
22919                        		__ld.umq	__init_LEVEL_end - 1  /* i */
         1E:CB25  AD 12 23   			lda	__init_LEVEL_end - 1
22920                        		__ult_b.uiq	3
         1E:CB28  C9 03      			cmp	#3		; Subtract integer from A.
         1E:CB2A  6A         			ror	a		; CC if A < integer.
         1E:CB2B  49 80      			eor	#$80
         1E:CB2D  2A         			rol	a
22921                        		__btrue		.LL1097
         1E:CB2E  B0 07      			bcs	.LL1097
22922                        		__bra		.LL1098
         1E:CB30  80 2F      			bra	.LL1098
22923    1E:CB32             	.LL1096:
22924                        		__inc.umq	__init_LEVEL_end - 1  /* i */
         1E:CB32  EE 12 23   			inc	__init_LEVEL_end - 1
22925                        		__bra		.LL1095
         1E:CB35  80 EE      			bra	.LL1095
22926    1E:CB37             	.LL1097:
22927                        	
22928                        		.dbg	line,	"include\init.c", 931; {
22929                        	
22930                        		.dbg	line,	"include\init.c", 932; spr_set(chain_id+i);
22931                        		__ld.um		_chain_id
         1E:CB37  AD 28 23   			lda	_chain_id
         1E:CB3A  C2         			cly
22932                        		__add.um	__init_LEVEL_end - 1  /* i */
         1E:CB3B  18         			clc
         1E:CB3C  6D 12 23   			adc	__init_LEVEL_end - 1
         1E:CB3F  90 01      			bcc	!+
         1E:CB41  C8         			iny
         1E:CB42             	!:
22933                        		__call		_spr_set.1
         1E:CB42  20 F1 E7   			call	_spr_set.1
22934                        	
22935                        		.dbg	line,	"include\init.c", 933; spr_pattern(CHAIN_VRAM_ADR);
22936                        		__ld.wi		31744
         1E:CB45  62         			cla
         1E:CB46  A0 7C      			ldy.h	#31744
22937                        		__call		_spr_pattern.1
         1E:CB48  20 3A E8   			call	_spr_pattern.1
22938                        	
22939                        		.dbg	line,	"include\init.c", 934; spr_ctrl(FLIP_MAS|SIZE_MAS, NO_FLIP|SZ_16x16);
22940                        		__st.umiq	185, _al
         1E:CB4B  A9 B9      			lda.l	#185
         1E:CB4D  85 F8      			sta	_al
22941                        		__ld.uiq	0
         1E:CB4F  62         			cla
22942                        		__call		_spr_ctrl.2
         1E:CB50  20 50 E8   			call	_spr_ctrl.2
22943                        	
22944                        		.dbg	line,	"include\init.c", 935; spr_hide();
22945                        		__call		_spr_hide
         1E:CB53  20 0C E8   			call	_spr_hide
22946                        	
22947                        		.dbg	line,	"include\init.c", 937; spr_pal(0);
22948                        		__ld.uiq	0
         1E:CB56  62         			cla
22949                        		__call		_spr_pal.1
         1E:CB57  20 61 E8   			call	_spr_pal.1
22950                        	
22951                        		.dbg	line,	"include\init.c", 938; spr_pri(TRUE);
22952                        		__ld.uiq	1
         1E:CB5A  A9 01      			lda	#1
22953                        		__call		_spr_pri.1
         1E:CB5C  20 70 E8   			call	_spr_pri.1
22954                        	
22955                        		.dbg	line,	"include\init.c", 939; }
22956                        		__bra		.LL1096
         1E:CB5F  80 D1      			bra	.LL1096
22957    1E:CB61             	.LL1098:
22958                        	
22959                        		.dbg	line,	"include\init.c", 940; 
22960                        	
22961                        		.dbg	line,	"include\init.c", 942; //--------------------------------------------------------------------------------------//
22962                        	
22963                        		.dbg	line,	"include\init.c", 943; //                                        WEAPON                                        //
22964                        	
22965                        		.dbg	line,	"include\init.c", 944; //--------------------------------------------------------------------------------------//
22966                        	
22967                        		.dbg	line,	"include\init.c", 946; if(weapon_level == 0)
22968                        		__not.um	_weapon_level
         1E:CB61  AD 2B 23   			lda	_weapon_level
         1E:CB64  18         			clc
         1E:CB65  D0 01      			bne	!+
         1E:CB67  38         			sec
         1E:CB68             	!:
22969                        		__bfalse	.LL1099
         1E:CB68  90 27      			bcc	.LL1099
22970                        	
22971                        		.dbg	line,	"include\init.c", 947; {
22972                        	
22973                        		.dbg	line,	"include\init.c", 948; load_vram(WEAPON_VRAM_ADR, tiles_SPR_WEAPON_0 , SIZEOF(tiles_SPR_WEAPON_0) >> 1);
22974                        		__st.wmiq	31808, _di
         1E:CB6A  A9 40      			lda.l	#31808
         1E:CB6C  85 F0      			sta.l	_di
         1E:CB6E  A9 7C      			lda.h	#31808
         1E:CB70  85 F1      			sta.h	_di
22975                        		__farptr	_tiles_SPR_WEAPON_0, _bp_bank, _bp
         1E:CB72  A9 40      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_WEAPON_0))
         1E:CB74  85 EC      			sta.l	_bp
         1E:CB76  A9 72      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_WEAPON_0))
         1E:CB78  85 ED      			sta.h	_bp
         1E:CB7A  A9 19      			lda	#bank(_tiles_SPR_WEAPON_0)
         1E:CB7C  85 02      			sta	_bp_bank
22976                        		__ld.wi		___sizeof__tiles_SPR_WEAPON_0
         1E:CB7E  A9 80      			lda.l	#___sizeof__tiles_SPR_WEAPON_0
         1E:CB80  A0 02      			ldy.h	#___sizeof__tiles_SPR_WEAPON_0
22977                        		__lsr.wi	1
         1E:CB82  42         			say
         1E:CB83  4A         			lsr	a
         1E:CB84  42         			say
         1E:CB85  6A         			ror	a
22978                        		__st.wmq	_ax
         1E:CB86  85 F8      			sta.l	_ax
         1E:CB88  84 F9      			sty.h	_ax
22979                        		 _load_vram.3
         1E:CB8A  82         			clx				; Offset to PCE VDC.
         1E:CB8B  20 EB FE   			call	load_vram_x
22980                        	
22981                        		.dbg	line,	"include\init.c", 949; }
22982                        	
22983                        		.dbg	line,	"include\init.c", 951; else if(weapon_level == 1)
22984                        		__bra		.LL1100
         1E:CB8E  4C 50 CC   			bra	.LL1100
22985    1E:CB91             	.LL1099:
22986                        		__ld.umq	_weapon_level
         1E:CB91  AD 2B 23   			lda	_weapon_level
22987                        		__equ_b.uiq	1
         1E:CB94  C9 01      			cmp	#1
         1E:CB96  F0 01      			beq	!+
         1E:CB98  18         			clc
         1E:CB99             	!:
22988                        		__bfalse	.LL1101
         1E:CB99  90 27      			bcc	.LL1101
22989                        	
22990                        		.dbg	line,	"include\init.c", 952; {
22991                        	
22992                        		.dbg	line,	"include\init.c", 953; load_vram(WEAPON_VRAM_ADR, tiles_SPR_WEAPON_1 , SIZEOF(tiles_SPR_WEAPON_1) >> 1);
22993                        		__st.wmiq	31808, _di
         1E:CB9B  A9 40      			lda.l	#31808
         1E:CB9D  85 F0      			sta.l	_di
         1E:CB9F  A9 7C      			lda.h	#31808
         1E:CBA1  85 F1      			sta.h	_di
22994                        		__farptr	_tiles_SPR_WEAPON_1, _bp_bank, _bp
         1E:CBA3  A9 C0      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_WEAPON_1))
         1E:CBA5  85 EC      			sta.l	_bp
         1E:CBA7  A9 74      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_WEAPON_1))
         1E:CBA9  85 ED      			sta.h	_bp
         1E:CBAB  A9 19      			lda	#bank(_tiles_SPR_WEAPON_1)
         1E:CBAD  85 02      			sta	_bp_bank
22995                        		__ld.wi		___sizeof__tiles_SPR_WEAPON_1
         1E:CBAF  A9 80      			lda.l	#___sizeof__tiles_SPR_WEAPON_1
         1E:CBB1  A0 02      			ldy.h	#___sizeof__tiles_SPR_WEAPON_1
22996                        		__lsr.wi	1
         1E:CBB3  42         			say
         1E:CBB4  4A         			lsr	a
         1E:CBB5  42         			say
         1E:CBB6  6A         			ror	a
22997                        		__st.wmq	_ax
         1E:CBB7  85 F8      			sta.l	_ax
         1E:CBB9  84 F9      			sty.h	_ax
22998                        		 _load_vram.3
         1E:CBBB  82         			clx				; Offset to PCE VDC.
         1E:CBBC  20 EB FE   			call	load_vram_x
22999                        	
23000                        		.dbg	line,	"include\init.c", 954; }
23001                        	
23002                        		.dbg	line,	"include\init.c", 956; else if(weapon_level == 2)
23003                        		__bra		.LL1102
         1E:CBBF  4C 50 CC   			bra	.LL1102
23004    1E:CBC2             	.LL1101:
23005                        		__ld.umq	_weapon_level
         1E:CBC2  AD 2B 23   			lda	_weapon_level
23006                        		__equ_b.uiq	2
         1E:CBC5  C9 02      			cmp	#2
         1E:CBC7  F0 01      			beq	!+
         1E:CBC9  18         			clc
         1E:CBCA             	!:
23007                        		__bfalse	.LL1103
         1E:CBCA  90 26      			bcc	.LL1103
23008                        	
23009                        		.dbg	line,	"include\init.c", 957; {
23010                        	
23011                        		.dbg	line,	"include\init.c", 958; load_vram(WEAPON_VRAM_ADR, tiles_SPR_WEAPON_2 , SIZEOF(tiles_SPR_WEAPON_2) >> 1);
23012                        		__st.wmiq	31808, _di
         1E:CBCC  A9 40      			lda.l	#31808
         1E:CBCE  85 F0      			sta.l	_di
         1E:CBD0  A9 7C      			lda.h	#31808
         1E:CBD2  85 F1      			sta.h	_di
23013                        		__farptr	_tiles_SPR_WEAPON_2, _bp_bank, _bp
         1E:CBD4  A9 40      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_WEAPON_2))
         1E:CBD6  85 EC      			sta.l	_bp
         1E:CBD8  A9 77      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_WEAPON_2))
         1E:CBDA  85 ED      			sta.h	_bp
         1E:CBDC  A9 19      			lda	#bank(_tiles_SPR_WEAPON_2)
         1E:CBDE  85 02      			sta	_bp_bank
23014                        		__ld.wi		___sizeof__tiles_SPR_WEAPON_2
         1E:CBE0  A9 80      			lda.l	#___sizeof__tiles_SPR_WEAPON_2
         1E:CBE2  A0 02      			ldy.h	#___sizeof__tiles_SPR_WEAPON_2
23015                        		__lsr.wi	1
         1E:CBE4  42         			say
         1E:CBE5  4A         			lsr	a
         1E:CBE6  42         			say
         1E:CBE7  6A         			ror	a
23016                        		__st.wmq	_ax
         1E:CBE8  85 F8      			sta.l	_ax
         1E:CBEA  84 F9      			sty.h	_ax
23017                        		 _load_vram.3
         1E:CBEC  82         			clx				; Offset to PCE VDC.
         1E:CBED  20 EB FE   			call	load_vram_x
23018                        	
23019                        		.dbg	line,	"include\init.c", 959; }
23020                        	
23021                        		.dbg	line,	"include\init.c", 961; else if(weapon_level == 3)
23022                        		__bra		.LL1104
         1E:CBF0  80 5E      			bra	.LL1104
23023    1E:CBF2             	.LL1103:
23024                        		__ld.umq	_weapon_level
         1E:CBF2  AD 2B 23   			lda	_weapon_level
23025                        		__equ_b.uiq	3
         1E:CBF5  C9 03      			cmp	#3
         1E:CBF7  F0 01      			beq	!+
         1E:CBF9  18         			clc
         1E:CBFA             	!:
23026                        		__bfalse	.LL1105
         1E:CBFA  90 26      			bcc	.LL1105
23027                        	
23028                        		.dbg	line,	"include\init.c", 962; {
23029                        	
23030                        		.dbg	line,	"include\init.c", 963; load_vram(WEAPON_VRAM_ADR, tiles_SPR_WEAPON_3 , SIZEOF(tiles_SPR_WEAPON_3) >> 1);
23031                        		__st.wmiq	31808, _di
         1E:CBFC  A9 40      			lda.l	#31808
         1E:CBFE  85 F0      			sta.l	_di
         1E:CC00  A9 7C      			lda.h	#31808
         1E:CC02  85 F1      			sta.h	_di
23032                        		__farptr	_tiles_SPR_WEAPON_3, _bp_bank, _bp
         1E:CC04  A9 C0      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_WEAPON_3))
         1E:CC06  85 EC      			sta.l	_bp
         1E:CC08  A9 79      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_WEAPON_3))
         1E:CC0A  85 ED      			sta.h	_bp
         1E:CC0C  A9 19      			lda	#bank(_tiles_SPR_WEAPON_3)
         1E:CC0E  85 02      			sta	_bp_bank
23033                        		__ld.wi		___sizeof__tiles_SPR_WEAPON_3
         1E:CC10  A9 80      			lda.l	#___sizeof__tiles_SPR_WEAPON_3
         1E:CC12  A0 02      			ldy.h	#___sizeof__tiles_SPR_WEAPON_3
23034                        		__lsr.wi	1
         1E:CC14  42         			say
         1E:CC15  4A         			lsr	a
         1E:CC16  42         			say
         1E:CC17  6A         			ror	a
23035                        		__st.wmq	_ax
         1E:CC18  85 F8      			sta.l	_ax
         1E:CC1A  84 F9      			sty.h	_ax
23036                        		 _load_vram.3
         1E:CC1C  82         			clx				; Offset to PCE VDC.
         1E:CC1D  20 EB FE   			call	load_vram_x
23037                        	
23038                        		.dbg	line,	"include\init.c", 964; }
23039                        	
23040                        		.dbg	line,	"include\init.c", 966; else if(weapon_level == 4)
23041                        		__bra		.LL1106
         1E:CC20  80 2E      			bra	.LL1106
23042    1E:CC22             	.LL1105:
23043                        		__ld.umq	_weapon_level
         1E:CC22  AD 2B 23   			lda	_weapon_level
23044                        		__equ_b.uiq	4
         1E:CC25  C9 04      			cmp	#4
         1E:CC27  F0 01      			beq	!+
         1E:CC29  18         			clc
         1E:CC2A             	!:
23045                        		__bfalse	.LL1107
         1E:CC2A  90 24      			bcc	.LL1107
23046                        	
23047                        		.dbg	line,	"include\init.c", 967; {
23048                        	
23049                        		.dbg	line,	"include\init.c", 968; load_vram(WEAPON_VRAM_ADR, tiles_SPR_WEAPON_4 , SIZEOF(tiles_SPR_WEAPON_4) >> 1);
23050                        		__st.wmiq	31808, _di
         1E:CC2C  A9 40      			lda.l	#31808
         1E:CC2E  85 F0      			sta.l	_di
         1E:CC30  A9 7C      			lda.h	#31808
         1E:CC32  85 F1      			sta.h	_di
23051                        		__farptr	_tiles_SPR_WEAPON_4, _bp_bank, _bp
         1E:CC34  A9 40      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_WEAPON_4))
         1E:CC36  85 EC      			sta.l	_bp
         1E:CC38  A9 7C      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_WEAPON_4))
         1E:CC3A  85 ED      			sta.h	_bp
         1E:CC3C  A9 19      			lda	#bank(_tiles_SPR_WEAPON_4)
         1E:CC3E  85 02      			sta	_bp_bank
23052                        		__ld.wi		___sizeof__tiles_SPR_WEAPON_4
         1E:CC40  A9 80      			lda.l	#___sizeof__tiles_SPR_WEAPON_4
         1E:CC42  A0 02      			ldy.h	#___sizeof__tiles_SPR_WEAPON_4
23053                        		__lsr.wi	1
         1E:CC44  42         			say
         1E:CC45  4A         			lsr	a
         1E:CC46  42         			say
         1E:CC47  6A         			ror	a
23054                        		__st.wmq	_ax
         1E:CC48  85 F8      			sta.l	_ax
         1E:CC4A  84 F9      			sty.h	_ax
23055                        		 _load_vram.3
         1E:CC4C  82         			clx				; Offset to PCE VDC.
         1E:CC4D  20 EB FE   			call	load_vram_x
23056                        	
23057                        		.dbg	line,	"include\init.c", 969; }		
23058                        	
23059                        		.dbg	line,	"include\init.c", 971; 
23060                        	
23061                        		.dbg	line,	"include\init.c", 972; weapon_id = chain_id-1;
23062    1E:CC50             	.LL1107:
23063    1E:CC50             	.LL1106:
23064    1E:CC50             	.LL1104:
23065    1E:CC50             	.LL1102:
23066    1E:CC50             	.LL1100:
23067                        		__ld.um		_chain_id
         1E:CC50  AD 28 23   			lda	_chain_id
         1E:CC53  C2         			cly
23068                        		__sub.wi	1
         1E:CC54  38         			sec
         1E:CC55  E9 01      			sbc.l	#1
         1E:CC57  B0 01      			bcs	!+
         1E:CC59  88         			dey
         1E:CC5A             	!:
23069                        		__st.umq	_weapon_id
         1E:CC5A  8D 29 23   			sta	_weapon_id
23070                        	
23071                        		.dbg	line,	"include\init.c", 973; spr_set(weapon_id);
23072                        		__ld.umq	_weapon_id
         1E:CC5D  AD 29 23   			lda	_weapon_id
23073                        		__call		_spr_set.1
         1E:CC60  20 F1 E7   			call	_spr_set.1
23074                        	
23075                        		.dbg	line,	"include\init.c", 974; spr_pattern(WEAPON_VRAM_ADR);
23076                        		__ld.wi		31808
         1E:CC63  A9 40      			lda.l	#31808
         1E:CC65  A0 7C      			ldy.h	#31808
23077                        		__call		_spr_pattern.1
         1E:CC67  20 3A E8   			call	_spr_pattern.1
23078                        	
23079                        		.dbg	line,	"include\init.c", 975; spr_ctrl(FLIP_MAS|SIZE_MAS, NO_FLIP|SZ_16x16);
23080                        		__st.umiq	185, _al
         1E:CC6A  A9 B9      			lda.l	#185
         1E:CC6C  85 F8      			sta	_al
23081                        		__ld.uiq	0
         1E:CC6E  62         			cla
23082                        		__call		_spr_ctrl.2
         1E:CC6F  20 50 E8   			call	_spr_ctrl.2
23083                        	
23084                        		.dbg	line,	"include\init.c", 977; spr_x(player_pos_x+8);
23085                        		__ld.wm		_player_pos_x
         1E:CC72  AD 01 25   			lda.l	_player_pos_x
         1E:CC75  AC 02 25   			ldy.h	_player_pos_x
23086                        		__add.wi	8
         1E:CC78  18         			clc
         1E:CC79  69 08      			adc.l	#8
         1E:CC7B  90 01      			bcc	!+
         1E:CC7D  C8         			iny
         1E:CC7E             	!:
23087                        		__call		_spr_x.1
         1E:CC7E  20 1E E8   			call	_spr_x.1
23088                        	
23089                        		.dbg	line,	"include\init.c", 978; spr_y(player_pos_y+16);
23090                        		__ld.wm		_player_pos_y
         1E:CC81  AD 03 25   			lda.l	_player_pos_y
         1E:CC84  AC 04 25   			ldy.h	_player_pos_y
23091                        		__add.wi	16
         1E:CC87  18         			clc
         1E:CC88  69 10      			adc.l	#16
         1E:CC8A  90 01      			bcc	!+
         1E:CC8C  C8         			iny
         1E:CC8D             	!:
23092                        		__call		_spr_y.1
         1E:CC8D  20 2D E8   			call	_spr_y.1
23093                        	
23094                        		.dbg	line,	"include\init.c", 979; spr_pri(TRUE);
23095                        		__ld.uiq	1
         1E:CC90  A9 01      			lda	#1
23096                        		__call		_spr_pri.1
         1E:CC92  20 70 E8   			call	_spr_pri.1
23097                        	
23098                        		.dbg	line,	"include\init.c", 981; // WEAPON 4 USES PAL2
23099                        	
23100                        		.dbg	line,	"include\init.c", 982; if(weapon_level == 4)
23101                        		__ld.umq	_weapon_level
         1E:CC95  AD 2B 23   			lda	_weapon_level
23102                        		__equ_b.uiq	4
         1E:CC98  C9 04      			cmp	#4
         1E:CC9A  F0 01      			beq	!+
         1E:CC9C  18         			clc
         1E:CC9D             	!:
23103                        		__bfalse	.LL1108
         1E:CC9D  90 07      			bcc	.LL1108
23104                        	
23105                        		.dbg	line,	"include\init.c", 983; {
23106                        	
23107                        		.dbg	line,	"include\init.c", 984; spr_pal(2);
23108                        		__ld.uiq	2
         1E:CC9F  A9 02      			lda	#2
23109                        		__call		_spr_pal.1
         1E:CCA1  20 61 E8   			call	_spr_pal.1
23110                        	
23111                        		.dbg	line,	"include\init.c", 985; }
23112                        	
23113                        		.dbg	line,	"include\init.c", 986; // ALL OTHERS USE PAL0
23114                        	
23115                        		.dbg	line,	"include\init.c", 987; else
23116                        		__bra		.LL1109
         1E:CCA4  80 04      			bra	.LL1109
23117    1E:CCA6             	.LL1108:
23118                        	
23119                        		.dbg	line,	"include\init.c", 988; {
23120                        	
23121                        		.dbg	line,	"include\init.c", 989; spr_pal(0);
23122                        		__ld.uiq	0
         1E:CCA6  62         			cla
23123                        		__call		_spr_pal.1
         1E:CCA7  20 61 E8   			call	_spr_pal.1
23124                        	
23125                        		.dbg	line,	"include\init.c", 990; }
23126    1E:CCAA             	.LL1109:
23127                        	
23128                        		.dbg	line,	"include\init.c", 991; 
23129                        	
23130                        		.dbg	line,	"include\init.c", 992; 
23131                        	
23132                        		.dbg	line,	"include\init.c", 995; //--------------------------------------------------------------------------------------//
23133                        	
23134                        		.dbg	line,	"include\init.c", 996; //                                       OBJECTS                                        //
23135                        	
23136                        		.dbg	line,	"include\init.c", 997; //--------------------------------------------------------------------------------------//
23137                        	
23138                        		.dbg	line,	"include\init.c", 999; load_OBJECT_TILES();
23139                        		__call		_load_OBJECT_TILES
         1E:CCAA  20 87 FE   			call	_load_OBJECT_TILES
23140                        	
23141                        		.dbg	line,	"include\init.c", 1000; init_OBJECT_LV1();
23142                        		__call		_init_OBJECT_LV1
         1E:CCAD  20 7D FE   			call	_init_OBJECT_LV1
23143                        	
23144                        		.dbg	line,	"include\init.c", 1001; scroll_object();
23145                        		__call		_scroll_object
         1E:CCB0  20 73 FE   			call	_scroll_object
23146                        	
23147                        		.dbg	line,	"include\init.c", 1004; //--------------------------------------------------------------------------------------//
23148                        	
23149                        		.dbg	line,	"include\init.c", 1005; //                                        CHESTS                                        //
23150                        	
23151                        		.dbg	line,	"include\init.c", 1006; //--------------------------------------------------------------------------------------//
23152                        	
23153                        		.dbg	line,	"include\init.c", 1008; load_CHEST_TILES();
23154                        		__call		_load_CHEST_TILES
         1E:CCB3  20 69 FE   			call	_load_CHEST_TILES
23155                        	
23156                        		.dbg	line,	"include\init.c", 1009; init_CHEST_LV1();
23157                        		__call		_init_CHEST_LV1
         1E:CCB6  20 5F FE   			call	_init_CHEST_LV1
23158                        	
23159                        		.dbg	line,	"include\init.c", 1010; scroll_chest();
23160                        		__call		_scroll_chest
         1E:CCB9  20 55 FE   			call	_scroll_chest
23161                        	
23162                        		.dbg	line,	"include\init.c", 1013; //--------------------------------------------------------------------------------------//
23163                        	
23164                        		.dbg	line,	"include\init.c", 1014; //                                         NPCS                                         //
23165                        	
23166                        		.dbg	line,	"include\init.c", 1015; //--------------------------------------------------------------------------------------//
23167                        	
23168                        		.dbg	line,	"include\init.c", 1017; load_NPC_TILES();
23169                        		__call		_load_NPC_TILES
         1E:CCBC  20 4B FE   			call	_load_NPC_TILES
23170                        	
23171                        		.dbg	line,	"include\init.c", 1018; init_NPC_LV1();
23172                        		__call		_init_NPC_LV1
         1E:CCBF  20 41 FE   			call	_init_NPC_LV1
23173                        	
23174                        		.dbg	line,	"include\init.c", 1023; //--------------------------------------------------------------------------------------//
23175                        	
23176                        		.dbg	line,	"include\init.c", 1024; //                                       ENEMIES                                        //
23177                        	
23178                        		.dbg	line,	"include\init.c", 1025; //--------------------------------------------------------------------------------------//
23179                        	
23180                        		.dbg	line,	"include\init.c", 1027; load_vram(ORC_VRAM_ADR, tiles_SPR_ORC , SIZEOF(tiles_SPR_ORC) >> 1);
23181                        		__st.wmiq	12544, _di
         1E:CCC2  64 F0      			stz.l	_di
         1E:CCC4  A9 31      			lda.h	#12544
         1E:CCC6  85 F1      			sta.h	_di
23182                        		__farptr	_tiles_SPR_ORC, _bp_bank, _bp
         1E:CCC8  A9 40      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_ORC))
         1E:CCCA  85 EC      			sta.l	_bp
         1E:CCCC  A9 6C      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_ORC))
         1E:CCCE  85 ED      			sta.h	_bp
         1E:CCD0  A9 1B      			lda	#bank(_tiles_SPR_ORC)
         1E:CCD2  85 02      			sta	_bp_bank
23183                        		__ld.wi		___sizeof__tiles_SPR_ORC
         1E:CCD4  A9 00      			lda.l	#___sizeof__tiles_SPR_ORC
         1E:CCD6  A0 1D      			ldy.h	#___sizeof__tiles_SPR_ORC
23184                        		__lsr.wi	1
         1E:CCD8  42         			say
         1E:CCD9  4A         			lsr	a
         1E:CCDA  42         			say
         1E:CCDB  6A         			ror	a
23185                        		__st.wmq	_ax
         1E:CCDC  85 F8      			sta.l	_ax
         1E:CCDE  84 F9      			sty.h	_ax
23186                        		 _load_vram.3
         1E:CCE0  82         			clx				; Offset to PCE VDC.
         1E:CCE1  20 EB FE   			call	load_vram_x
23187                        	
23188                        		.dbg	line,	"include\init.c", 1028; load_vram(SERPENT_VRAM_ADR, tiles_SPR_SERPENT , TILES_96);
23189                        		__st.wmiq	16256, _di
         1E:CCE4  A9 80      			lda.l	#16256
         1E:CCE6  85 F0      			sta.l	_di
         1E:CCE8  A9 3F      			lda.h	#16256
         1E:CCEA  85 F1      			sta.h	_di
23190                        		__farptr	_tiles_SPR_SERPENT, _bp_bank, _bp
         1E:CCEC  A9 40      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_SERPENT))
         1E:CCEE  85 EC      			sta.l	_bp
         1E:CCF0  A9 69      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_SERPENT))
         1E:CCF2  85 ED      			sta.h	_bp
         1E:CCF4  A9 1C      			lda	#bank(_tiles_SPR_SERPENT)
         1E:CCF6  85 02      			sta	_bp_bank
23191                        		__st.wmiq	1536, _ax
         1E:CCF8  64 F8      			stz.l	_ax
         1E:CCFA  A9 06      			lda.h	#1536
         1E:CCFC  85 F9      			sta.h	_ax
23192                        		 _load_vram.3
         1E:CCFE  82         			clx				; Offset to PCE VDC.
         1E:CCFF  20 EB FE   			call	load_vram_x
23193                        	
23194                        		.dbg	line,	"include\init.c", 1029; load_vram(PLANT_VRAM_ADR, tiles_SPR_PLANT , TILES_160);
23195                        		__st.wmiq	17792, _di
         1E:CD02  A9 80      			lda.l	#17792
         1E:CD04  85 F0      			sta.l	_di
         1E:CD06  A9 45      			lda.h	#17792
         1E:CD08  85 F1      			sta.h	_di
23196                        		__farptr	_tiles_SPR_PLANT, _bp_bank, _bp
         1E:CD0A  A9 40      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_PLANT))
         1E:CD0C  85 EC      			sta.l	_bp
         1E:CD0E  A9 75      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_PLANT))
         1E:CD10  85 ED      			sta.h	_bp
         1E:CD12  A9 1C      			lda	#bank(_tiles_SPR_PLANT)
         1E:CD14  85 02      			sta	_bp_bank
23197                        		__st.wmiq	2560, _ax
         1E:CD16  64 F8      			stz.l	_ax
         1E:CD18  A9 0A      			lda.h	#2560
         1E:CD1A  85 F9      			sta.h	_ax
23198                        		 _load_vram.3
         1E:CD1C  82         			clx				; Offset to PCE VDC.
         1E:CD1D  20 EB FE   			call	load_vram_x
23199                        	
23200                        		.dbg	line,	"include\init.c", 1034; // UPDATE PCE SAT //
23201                        	
23202                        		.dbg	line,	"include\init.c", 1035; satb_update();
23203                        		__call		_satb_update
         1E:CD20  20 C3 FE   			call	_satb_update
23204                        	
23205                        		.dbg	line,	"include\init.c", 1037; // UPDATE SGX SAT //
23206                        	
23207                        		.dbg	line,	"include\init.c", 1038; sgx_satb_update();
23208                        		__call		_sgx_satb_update
         1E:CD23  20 F5 FE   			call	_sgx_satb_update
23209                        	
23210                        		.dbg	line,	"include\init.c", 1041; //--------------------------------------------------------------------------------------//
23211                        	
23212                        		.dbg	line,	"include\init.c", 1042; //                                LOAD SPRITES PALETTES                                 //
23213                        	
23214                        		.dbg	line,	"include\init.c", 1043; //--------------------------------------------------------------------------------------//
23215                        	
23216                        		.dbg	line,	"include\init.c", 1045; if(armor_level == 8)
23217                        		__ld.umq	_armor_level
         1E:CD26  AD 2A 23   			lda	_armor_level
23218                        		__equ_b.uiq	8
         1E:CD29  C9 08      			cmp	#8
         1E:CD2B  F0 01      			beq	!+
         1E:CD2D  18         			clc
         1E:CD2E             	!:
23219                        		__bfalse	.LL1110
         1E:CD2E  90 19      			bcc	.LL1110
23220                        	
23221                        		.dbg	line,	"include\init.c", 1046; {
23222                        	
23223                        		.dbg	line,	"include\init.c", 1047; load_palette( 16, palette_PLAYER_8, 1 );
23224                        		__st.umiq	16, _al
         1E:CD30  A9 10      			lda.l	#16
         1E:CD32  85 F8      			sta	_al
23225                        		__farptr	_palette_PLAYER_8, _bp_bank, _bp
         1E:CD34  A9 C0      			lda.l	#$6000 + ($1FFF & (_palette_PLAYER_8))
         1E:CD36  85 EC      			sta.l	_bp
         1E:CD38  A9 6F      			lda.h	#$6000 + ($1FFF & (_palette_PLAYER_8))
         1E:CD3A  85 ED      			sta.h	_bp
         1E:CD3C  A9 19      			lda	#bank(_palette_PLAYER_8)
         1E:CD3E  85 02      			sta	_bp_bank
23226                        		__st.umiq	1, _ah
         1E:CD40  A9 01      			lda.l	#1
         1E:CD42  85 F9      			sta	_ah
23227                        		__call		_load_palette.3
         1E:CD44  20 8B FF   			call	_load_palette.3
23228                        	
23229                        		.dbg	line,	"include\init.c", 1048; }
23230                        	
23231                        		.dbg	line,	"include\init.c", 1050; else if(armor_level == 5)
23232                        		__bra		.LL1111
         1E:CD47  80 5D      			bra	.LL1111
23233    1E:CD49             	.LL1110:
23234                        		__ld.umq	_armor_level
         1E:CD49  AD 2A 23   			lda	_armor_level
23235                        		__equ_b.uiq	5
         1E:CD4C  C9 05      			cmp	#5
         1E:CD4E  F0 01      			beq	!+
         1E:CD50  18         			clc
         1E:CD51             	!:
23236                        		__bfalse	.LL1112
         1E:CD51  90 19      			bcc	.LL1112
23237                        	
23238                        		.dbg	line,	"include\init.c", 1051; {
23239                        	
23240                        		.dbg	line,	"include\init.c", 1052; load_palette( 16, palette_PLAYER_5, 1 );
23241                        		__st.umiq	16, _al
         1E:CD53  A9 10      			lda.l	#16
         1E:CD55  85 F8      			sta	_al
23242                        		__farptr	_palette_PLAYER_5, _bp_bank, _bp
         1E:CD57  A9 C0      			lda.l	#$6000 + ($1FFF & (_palette_PLAYER_5))
         1E:CD59  85 EC      			sta.l	_bp
         1E:CD5B  A9 6D      			lda.h	#$6000 + ($1FFF & (_palette_PLAYER_5))
         1E:CD5D  85 ED      			sta.h	_bp
         1E:CD5F  A9 19      			lda	#bank(_palette_PLAYER_5)
         1E:CD61  85 02      			sta	_bp_bank
23243                        		__st.umiq	1, _ah
         1E:CD63  A9 01      			lda.l	#1
         1E:CD65  85 F9      			sta	_ah
23244                        		__call		_load_palette.3
         1E:CD67  20 8B FF   			call	_load_palette.3
23245                        	
23246                        		.dbg	line,	"include\init.c", 1053; }
23247                        	
23248                        		.dbg	line,	"include\init.c", 1055; else if(armor_level == 4)
23249                        		__bra		.LL1113
         1E:CD6A  80 3A      			bra	.LL1113
23250    1E:CD6C             	.LL1112:
23251                        		__ld.umq	_armor_level
         1E:CD6C  AD 2A 23   			lda	_armor_level
23252                        		__equ_b.uiq	4
         1E:CD6F  C9 04      			cmp	#4
         1E:CD71  F0 01      			beq	!+
         1E:CD73  18         			clc
         1E:CD74             	!:
23253                        		__bfalse	.LL1114
         1E:CD74  90 19      			bcc	.LL1114
23254                        	
23255                        		.dbg	line,	"include\init.c", 1056; {
23256                        	
23257                        		.dbg	line,	"include\init.c", 1057; load_palette( 16, palette_PLAYER_4, 1 );
23258                        		__st.umiq	16, _al
         1E:CD76  A9 10      			lda.l	#16
         1E:CD78  85 F8      			sta	_al
23259                        		__farptr	_palette_PLAYER_4, _bp_bank, _bp
         1E:CD7A  A9 C0      			lda.l	#$6000 + ($1FFF & (_palette_PLAYER_4))
         1E:CD7C  85 EC      			sta.l	_bp
         1E:CD7E  A9 6B      			lda.h	#$6000 + ($1FFF & (_palette_PLAYER_4))
         1E:CD80  85 ED      			sta.h	_bp
         1E:CD82  A9 19      			lda	#bank(_palette_PLAYER_4)
         1E:CD84  85 02      			sta	_bp_bank
23260                        		__st.umiq	1, _ah
         1E:CD86  A9 01      			lda.l	#1
         1E:CD88  85 F9      			sta	_ah
23261                        		__call		_load_palette.3
         1E:CD8A  20 8B FF   			call	_load_palette.3
23262                        	
23263                        		.dbg	line,	"include\init.c", 1058; }
23264                        	
23265                        		.dbg	line,	"include\init.c", 1060; else
23266                        		__bra		.LL1115
         1E:CD8D  80 17      			bra	.LL1115
23267    1E:CD8F             	.LL1114:
23268                        	
23269                        		.dbg	line,	"include\init.c", 1061; {
23270                        	
23271                        		.dbg	line,	"include\init.c", 1062; load_palette( 16, palette_PLAYER_1, 1 );
23272                        		__st.umiq	16, _al
         1E:CD8F  A9 10      			lda.l	#16
         1E:CD91  85 F8      			sta	_al
23273                        		__farptr	_palette_PLAYER_1, _bp_bank, _bp
         1E:CD93  A9 C0      			lda.l	#$6000 + ($1FFF & (_palette_PLAYER_1))
         1E:CD95  85 EC      			sta.l	_bp
         1E:CD97  A9 69      			lda.h	#$6000 + ($1FFF & (_palette_PLAYER_1))
         1E:CD99  85 ED      			sta.h	_bp
         1E:CD9B  A9 19      			lda	#bank(_palette_PLAYER_1)
         1E:CD9D  85 02      			sta	_bp_bank
23274                        		__st.umiq	1, _ah
         1E:CD9F  A9 01      			lda.l	#1
         1E:CDA1  85 F9      			sta	_ah
23275                        		__call		_load_palette.3
         1E:CDA3  20 8B FF   			call	_load_palette.3
23276                        	
23277                        		.dbg	line,	"include\init.c", 1063; }
23278    1E:CDA6             	.LL1115:
23279    1E:CDA6             	.LL1113:
23280    1E:CDA6             	.LL1111:
23281                        	
23282                        		.dbg	line,	"include\init.c", 1066; load_palette( 17, palette_objects_1,   1 );
23283                        		__st.umiq	17, _al
         1E:CDA6  A9 11      			lda.l	#17
         1E:CDA8  85 F8      			sta	_al
23284                        		__farptr	_palette_objects_1, _bp_bank, _bp
         1E:CDAA  A9 40      			lda.l	#$6000 + ($1FFF & (_palette_objects_1))
         1E:CDAC  85 EC      			sta.l	_bp
         1E:CDAE  A9 7A      			lda.h	#$6000 + ($1FFF & (_palette_objects_1))
         1E:CDB0  85 ED      			sta.h	_bp
         1E:CDB2  A9 1A      			lda	#bank(_palette_objects_1)
         1E:CDB4  85 02      			sta	_bp_bank
23285                        		__st.umiq	1, _ah
         1E:CDB6  A9 01      			lda.l	#1
         1E:CDB8  85 F9      			sta	_ah
23286                        		__call		_load_palette.3
         1E:CDBA  20 8B FF   			call	_load_palette.3
23287                        	
23288                        		.dbg	line,	"include\init.c", 1067; load_palette( 18, palette_objects_2,   1 );
23289                        		__st.umiq	18, _al
         1E:CDBD  A9 12      			lda.l	#18
         1E:CDBF  85 F8      			sta	_al
23290                        		__farptr	_palette_objects_2, _bp_bank, _bp
         1E:CDC1  A9 40      			lda.l	#$6000 + ($1FFF & (_palette_objects_2))
         1E:CDC3  85 EC      			sta.l	_bp
         1E:CDC5  A9 7C      			lda.h	#$6000 + ($1FFF & (_palette_objects_2))
         1E:CDC7  85 ED      			sta.h	_bp
         1E:CDC9  A9 1A      			lda	#bank(_palette_objects_2)
         1E:CDCB  85 02      			sta	_bp_bank
23291                        		__st.umiq	1, _ah
         1E:CDCD  A9 01      			lda.l	#1
         1E:CDCF  85 F9      			sta	_ah
23292                        		__call		_load_palette.3
         1E:CDD1  20 8B FF   			call	_load_palette.3
23293                        	
23294                        		.dbg	line,	"include\init.c", 1068; load_palette( 19, palette_SPR_ORC,  1 );
23295                        		__st.umiq	19, _al
         1E:CDD4  A9 13      			lda.l	#19
         1E:CDD6  85 F8      			sta	_al
23296                        		__farptr	_palette_SPR_ORC, _bp_bank, _bp
         1E:CDD8  A9 40      			lda.l	#$6000 + ($1FFF & (_palette_SPR_ORC))
         1E:CDDA  85 EC      			sta.l	_bp
         1E:CDDC  A9 6F      			lda.h	#$6000 + ($1FFF & (_palette_SPR_ORC))
         1E:CDDE  85 ED      			sta.h	_bp
         1E:CDE0  A9 1D      			lda	#bank(_palette_SPR_ORC)
         1E:CDE2  85 02      			sta	_bp_bank
23297                        		__st.umiq	1, _ah
         1E:CDE4  A9 01      			lda.l	#1
         1E:CDE6  85 F9      			sta	_ah
23298                        		__call		_load_palette.3
         1E:CDE8  20 8B FF   			call	_load_palette.3
23299                        	
23300                        		.dbg	line,	"include\init.c", 1069; load_palette( 20, palette_SPR_PLANT,   1 );
23301                        		__st.umiq	20, _al
         1E:CDEB  A9 14      			lda.l	#20
         1E:CDED  85 F8      			sta	_al
23302                        		__farptr	_palette_SPR_PLANT, _bp_bank, _bp
         1E:CDEF  A9 40      			lda.l	#$6000 + ($1FFF & (_palette_SPR_PLANT))
         1E:CDF1  85 EC      			sta.l	_bp
         1E:CDF3  A9 71      			lda.h	#$6000 + ($1FFF & (_palette_SPR_PLANT))
         1E:CDF5  85 ED      			sta.h	_bp
         1E:CDF7  A9 1D      			lda	#bank(_palette_SPR_PLANT)
         1E:CDF9  85 02      			sta	_bp_bank
23303                        		__st.umiq	1, _ah
         1E:CDFB  A9 01      			lda.l	#1
         1E:CDFD  85 F9      			sta	_ah
23304                        		__call		_load_palette.3
         1E:CDFF  20 8B FF   			call	_load_palette.3
23305                        	
23306                        		.dbg	line,	"include\init.c", 1074; // VSYNC //
23307                        	
23308                        		.dbg	line,	"include\init.c", 1075; vsync();
23309                        		__call		_vsync
         1E:CE02  20 1D E3   			call	_vsync
23310                        	
23311                        		.dbg	line,	"include\init.c", 1077; // ENABLE DISPLAY //
23312                        	
23313                        		.dbg	line,	"include\init.c", 1078; disp_on();
23314                        		__call		_disp_on
         1E:CE05  20 2A E4   			call	_disp_on
23315                        	
23316                        		.dbg	line,	"include\init.c", 1079; }
23317                        	
23318                        		.dbg	line,	"include\init.c", 1080; }
23319    1E:CE08             	.LL1084:
23320    1E:CE08             	.LL1083:
23321                        		__return	0
         1E:CE08  4C EF FF   			jmp	leave_proc
23322                        		.dbg	clear
23323                        		.endp
23324               2312     		.bss
23325    F8:2312             			ds	1
23326    F8:2313             	__init_LEVEL_end:
23327               E31D     		.code
23328                        		.pceas
23329                        	
23330                        		.dbg	line,	"include\init.c", 1083; void init_SHOP()
23331                        		.dbg	line,	"include\init.c", 1084; {
23332                        	;***********************
23333                        	;***********************
23334                        	
23335                        		.hucc
23336    1E:D80E             		.proc		_init_SHOP
23337                        		__enter		_init_SHOP
23338                        	
23339                        		.dbg	line,	"include\init.c", 1085; char i;
23340                        	
23341                        		.dbg	line,	"include\init.c", 1086; char item_id;
23342                        	
23343                        		.dbg	line,	"include\init.c", 1089; // DISABLE DISPLAY //
23344                        	
23345                        		.dbg	line,	"include\init.c", 1090; disp_off();
23346                        		__call		_disp_off
         1E:D80E  20 3D E4   			call	_disp_off
23347                        	
23348                        		.dbg	line,	"include\init.c", 1091; 
23349                        	
23350                        		.dbg	line,	"include\init.c", 1093; // VSYNC //
23351                        	
23352                        		.dbg	line,	"include\init.c", 1094; vsync();
23353                        		__call		_vsync
         1E:D811  20 1D E3   			call	_vsync
23354                        	
23355                        		.dbg	line,	"include\init.c", 1097; // HIDE ALL LEVEL SPRITES //
23356                        	
23357                        		.dbg	line,	"include\init.c", 1098; hide_LEVEL_SPRITES();
23358                        		__call		_hide_LEVEL_SPRITES
         1E:D814  20 37 FE   			call	_hide_LEVEL_SPRITES
23359                        	
23360                        		.dbg	line,	"include\init.c", 1101; // SET VDC 1 SCREEN SIZE (IN TILES) - 32x32 = 256 PIXELS
23361                        	
23362                        		.dbg	line,	"include\init.c", 1102; set_screen_size(SCR_SIZE_64x32);
23363                        		__st.umiq	1, _al
         1E:D817  A9 01      			lda.l	#1
         1E:D819  85 F8      			sta	_al
23364                        		__call		_set_screen_size.1
         1E:D81B  20 D7 FE   			call	_set_screen_size.1
23365                        	
23366                        		.dbg	line,	"include\init.c", 1105; // SET VDC 2 SCREEN SIZE (IN TILES) - 32x32 = 256 PIXELS
23367                        	
23368                        		.dbg	line,	"include\init.c", 1106; sgx_set_screen_size(SCR_SIZE_32x32);
23369                        		__st.umiq	0, _al
         1E:D81E  64 F8      			stz	_al
23370                        		__call		_sgx_set_screen_size.1
         1E:D820  20 CD FE   			call	_sgx_set_screen_size.1
23371                        	
23372                        		.dbg	line,	"include\init.c", 1111; //**************************************************************************************//
23373                        	
23374                        		.dbg	line,	"include\init.c", 1112; //                                                                                      //
23375                        	
23376                        		.dbg	line,	"include\init.c", 1113; //                                      VARIABLES                                       //
23377                        	
23378                        		.dbg	line,	"include\init.c", 1114; //                                                                                      //
23379                        	
23380                        		.dbg	line,	"include\init.c", 1115; //**************************************************************************************//
23381                        	
23382                        		.dbg	line,	"include\init.c", 1117; index_x = 0;
23383                        		__st.umiq	0, _index_x
         1E:D823  9C FB 23   			stz	_index_x
23384                        	
23385                        		.dbg	line,	"include\init.c", 1118; index_y = 0;
23386                        		__st.umiq	0, _index_y
         1E:D826  9C FC 23   			stz	_index_y
23387                        	
23388                        		.dbg	line,	"include\init.c", 1119; item_index = 0;
23389                        		__st.umiq	0, _item_index
         1E:D829  9C FD 23   			stz	_item_index
23390                        	
23391                        		.dbg	line,	"include\init.c", 1121; minutes = 0;
23392                        		__st.umiq	0, _minutes
         1E:D82C  9C 33 23   			stz	_minutes
23393                        	
23394                        		.dbg	line,	"include\init.c", 1122; seconds = 30;
23395                        		__st.umiq	30, _seconds
         1E:D82F  A9 1E      			lda.l	#30
         1E:D831  8D 34 23   			sta	_seconds
23396                        	
23397                        		.dbg	line,	"include\init.c", 1124; shop_counter = 0;
23398                        		__st.umiq	0, _shop_counter
         1E:D834  9C FF 23   			stz	_shop_counter
23399                        	
23400                        		.dbg	line,	"include\init.c", 1125; shop_phase = SHOP_PHASE_ENTER;
23401                        		__st.umiq	0, _shop_phase
         1E:D837  9C FE 23   			stz	_shop_phase
23402                        	
23403                        		.dbg	line,	"include\init.c", 1127; if(level_id == 1)
23404                        		__ld.umq	_level_id
         1E:D83A  AD 17 23   			lda	_level_id
23405                        		__equ_b.uiq	1
         1E:D83D  C9 01      			cmp	#1
         1E:D83F  F0 01      			beq	!+
         1E:D841  18         			clc
         1E:D842             	!:
23406                        		__bfalse	.LL1117
         1E:D842  90 0A      			bcc	.LL1117
23407                        	
23408                        		.dbg	line,	"include\init.c", 1128; {
23409                        	
23410                        		.dbg	line,	"include\init.c", 1129; ptr_SHOP_ITEM_PRICES = &TABLE_SHOP_PRICES_LV1[0];
23411                        		__ld.wi		_TABLE_SHOP_PRICES_LV1
         1E:D844  A9 27      			lda.l	#_TABLE_SHOP_PRICES_LV1
         1E:D846  A0 63      			ldy.h	#_TABLE_SHOP_PRICES_LV1
23412                        		__st.wmq	_ptr_SHOP_ITEM_PRICES
         1E:D848  8D 9E 26   			sta.l	_ptr_SHOP_ITEM_PRICES
         1E:D84B  8C 9F 26   			sty.h	_ptr_SHOP_ITEM_PRICES
23413                        	
23414                        		.dbg	line,	"include\init.c", 1130; }
23415                        	
23416                        		.dbg	line,	"include\init.c", 1131; 
23417                        	
23418                        		.dbg	line,	"include\init.c", 1136; //**************************************************************************************//
23419                        	
23420                        		.dbg	line,	"include\init.c", 1137; //                                                                                      //
23421                        	
23422                        		.dbg	line,	"include\init.c", 1138; //                                        VDC 2                                         //
23423                        	
23424                        		.dbg	line,	"include\init.c", 1139; //                                                                                      //
23425                        	
23426                        		.dbg	line,	"include\init.c", 1140; //**************************************************************************************//
23427                        	
23428                        		.dbg	line,	"include\init.c", 1142; //--------------------------------------------------------------------------------------//
23429                        	
23430                        		.dbg	line,	"include\init.c", 1143; //                                      LOAD FONT                                       //
23431                        	
23432                        		.dbg	line,	"include\init.c", 1144; //--------------------------------------------------------------------------------------//
23433                        	
23434                        		.dbg	line,	"include\init.c", 1146; load_vram( 0x0800, tileset_FONT, SIZEOF(tileset_FONT) >> 1 );
23435    1E:D84E             	.LL1117:
23436                        		__st.wmiq	2048, _di
         1E:D84E  64 F0      			stz.l	_di
         1E:D850  A9 08      			lda.h	#2048
         1E:D852  85 F1      			sta.h	_di
23437                        		__farptr	_tileset_FONT, _bp_bank, _bp
         1E:D854  A9 E0      			lda.l	#$6000 + ($1FFF & (_tileset_FONT))
         1E:D856  85 EC      			sta.l	_bp
         1E:D858  A9 7C      			lda.h	#$6000 + ($1FFF & (_tileset_FONT))
         1E:D85A  85 ED      			sta.h	_bp
         1E:D85C  A9 06      			lda	#bank(_tileset_FONT)
         1E:D85E  85 02      			sta	_bp_bank
23438                        		__ld.wi		___sizeof__tileset_FONT
         1E:D860  A9 00      			lda.l	#___sizeof__tileset_FONT
         1E:D862  A0 0C      			ldy.h	#___sizeof__tileset_FONT
23439                        		__lsr.wi	1
         1E:D864  42         			say
         1E:D865  4A         			lsr	a
         1E:D866  42         			say
         1E:D867  6A         			ror	a
23440                        		__st.wmq	_ax
         1E:D868  85 F8      			sta.l	_ax
         1E:D86A  84 F9      			sty.h	_ax
23441                        		 _load_vram.3
         1E:D86C  82         			clx				; Offset to PCE VDC.
         1E:D86D  20 EB FE   			call	load_vram_x
23442                        	
23443                        		.dbg	line,	"include\init.c", 1148; set_font_pal(15);
23444                        		__ld.uiq	15
         1E:D870  A9 0F      			lda	#15
23445                        		__call		_set_font_pal.1
         1E:D872  20 00 E6   			call	_set_font_pal.1
23446                        	
23447                        		.dbg	line,	"include\init.c", 1151; //--------------------------------------------------------------------------------------//
23448                        	
23449                        		.dbg	line,	"include\init.c", 1152; //                                    LOAD TILESET                                      //
23450                        	
23451                        		.dbg	line,	"include\init.c", 1153; //--------------------------------------------------------------------------------------//
23452                        	
23453                        		.dbg	line,	"include\init.c", 1155; sgx_load_vram( 0x1000, tileset_SHOP_BG_B, SIZEOF(tileset_SHOP_BG_B) >> 1 );
23454                        		__st.wmiq	4096, _di
         1E:D875  64 F0      			stz.l	_di
         1E:D877  A9 10      			lda.h	#4096
         1E:D879  85 F1      			sta.h	_di
23455                        		__farptr	_tileset_SHOP_BG_B, _bp_bank, _bp
         1E:D87B  A9 A0      			lda.l	#$6000 + ($1FFF & (_tileset_SHOP_BG_B))
         1E:D87D  85 EC      			sta.l	_bp
         1E:D87F  A9 62      			lda.h	#$6000 + ($1FFF & (_tileset_SHOP_BG_B))
         1E:D881  85 ED      			sta.h	_bp
         1E:D883  A9 10      			lda	#bank(_tileset_SHOP_BG_B)
         1E:D885  85 02      			sta	_bp_bank
23456                        		__ld.wi		___sizeof__tileset_SHOP_BG_B
         1E:D887  A9 60      			lda.l	#___sizeof__tileset_SHOP_BG_B
         1E:D889  A0 39      			ldy.h	#___sizeof__tileset_SHOP_BG_B
23457                        		__lsr.wi	1
         1E:D88B  42         			say
         1E:D88C  4A         			lsr	a
         1E:D88D  42         			say
         1E:D88E  6A         			ror	a
23458                        		__st.wmq	_ax
         1E:D88F  85 F8      			sta.l	_ax
         1E:D891  84 F9      			sty.h	_ax
23459                        		 _sgx_load_vram.3
         1E:D893  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1E:D895  20 EB FE   			call	load_vram_x
23460                        	
23461                        		.dbg	line,	"include\init.c", 1158; //--------------------------------------------------------------------------------------//
23462                        	
23463                        		.dbg	line,	"include\init.c", 1159; //                                      LOAD ITEMS                                      //
23464                        	
23465                        		.dbg	line,	"include\init.c", 1160; //--------------------------------------------------------------------------------------//
23466                        	
23467                        		.dbg	line,	"include\init.c", 1162; for(i=0 ; i<10 ; i++)
23468                        		__st.umiq	0, __init_SHOP_end - 1  /* i */
         1E:D898  9C 14 23   			stz	__init_SHOP_end - 1
23469    1E:D89B             	.LL1118:
23470                        		__ld.umq	__init_SHOP_end - 1  /* i */
         1E:D89B  AD 14 23   			lda	__init_SHOP_end - 1
23471                        		__ult_b.uiq	10
         1E:D89E  C9 0A      			cmp	#10		; Subtract integer from A.
         1E:D8A0  6A         			ror	a		; CC if A < integer.
         1E:D8A1  49 80      			eor	#$80
         1E:D8A3  2A         			rol	a
23472                        		__btrue		.LL1120
         1E:D8A4  B0 07      			bcs	.LL1120
23473                        		__bra		.LL1121
         1E:D8A6  80 42      			bra	.LL1121
23474    1E:D8A8             	.LL1119:
23475                        		__inc.umq	__init_SHOP_end - 1  /* i */
         1E:D8A8  EE 14 23   			inc	__init_SHOP_end - 1
23476                        		__bra		.LL1118
         1E:D8AB  80 EE      			bra	.LL1118
23477    1E:D8AD             	.LL1120:
23478                        	
23479                        		.dbg	line,	"include\init.c", 1163; {
23480                        	
23481                        		.dbg	line,	"include\init.c", 1164; set_far_base(TABLE_SHOP_ITEMS_TILES_BANK[i],TABLE_SHOP_ITEMS_TILES_ADR[i]);
23482                        		__ldx.umq	__init_SHOP_end - 1  /* i */
         1E:D8AD  AE 14 23   			ldx	__init_SHOP_end - 1
23483                        		__ld.uax	_TABLE_SHOP_ITEMS_TILES_BANK
         1E:D8B0  BD 4F 63   			lda	_TABLE_SHOP_ITEMS_TILES_BANK, x
         1E:D8B3  C2         			cly
23484                        		__st.umq	_bp_bank
         1E:D8B4  85 02      			sta	_bp_bank
23485                        		__ld2x.umq	__init_SHOP_end - 1  /* i */
         1E:D8B6  AD 14 23   			lda	__init_SHOP_end - 1
         1E:D8B9  0A         			asl	a
         1E:D8BA  AA         			tax
23486                        		__ld.wax	_TABLE_SHOP_ITEMS_TILES_ADR
         1E:D8BB  BD 3B 63   			lda.l	_TABLE_SHOP_ITEMS_TILES_ADR, x
         1E:D8BE  BC 3C 63   			ldy.h	_TABLE_SHOP_ITEMS_TILES_ADR, x
23487                        		__st.wmq	_bp
         1E:D8C1  85 EC      			sta.l	_bp
         1E:D8C3  84 ED      			sty.h	_bp
23488                        	
23489                        		.dbg	line,	"include\init.c", 1165; sgx_far_load_vram( 0x1000 + (i * TILES_4), TILES_4 );
23490                        		__ld.um		__init_SHOP_end - 1  /* i */
         1E:D8C5  AD 14 23   			lda	__init_SHOP_end - 1
         1E:D8C8  C2         			cly
23491                        		__asl.wi	6
         1E:D8C9  85 00      			sta	__temp
         1E:D8CB  98         			tya
         1E:D8CC  4A         			lsr	a
         1E:D8CD  20 CB E1   			jsr	aslw6
         1E:D8D0  29 C0      			and.l	#$FF << 6
23492                        		__add.wi	4096
         1E:D8D2  18         			clc
         1E:D8D3  69 00      			adc.l	#4096
         1E:D8D5  42         			say
         1E:D8D6  69 10      			adc.h	#4096
         1E:D8D8  42         			say
23493                        		__st.wmq	_di
         1E:D8D9  85 F0      			sta.l	_di
         1E:D8DB  84 F1      			sty.h	_di
23494                        		__st.wmiq	64, _ax
         1E:D8DD  A9 40      			lda.l	#64
         1E:D8DF  85 F8      			sta.l	_ax
         1E:D8E1  64 F9      			stz.h	_ax
23495                        		 _sgx_far_load_vram.2
         1E:D8E3  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1E:D8E5  20 EB FE   			call	load_vram_x
23496                        	
23497                        		.dbg	line,	"include\init.c", 1166; }
23498                        		__bra		.LL1119
         1E:D8E8  80 BE      			bra	.LL1119
23499    1E:D8EA             	.LL1121:
23500                        	
23501                        		.dbg	line,	"include\init.c", 1169; //--------------------------------------------------------------------------------------//
23502                        	
23503                        		.dbg	line,	"include\init.c", 1170; //                                      SET BLOCKS                                      //
23504                        	
23505                        		.dbg	line,	"include\init.c", 1171; //--------------------------------------------------------------------------------------//
23506                        	
23507                        		.dbg	line,	"include\init.c", 1173; sgx_set_blocks( blocks_SHOP_BG_B , tilemap_mask , 256 );
23508                        		__farptr	_blocks_SHOP_BG_B, sgx_blk_bank, sgx_blk_addr
         1E:D8EA  A9 00      			lda.l	#$6000 + ($1FFF & (_blocks_SHOP_BG_B))
         1E:D8EC  8D 1C 2C   			sta.l	sgx_blk_addr
         1E:D8EF  A9 60      			lda.h	#$6000 + ($1FFF & (_blocks_SHOP_BG_B))
         1E:D8F1  8D 1D 2C   			sta.h	sgx_blk_addr
         1E:D8F4  A9 12      			lda	#bank(_blocks_SHOP_BG_B)
         1E:D8F6  8D 1E 2C   			sta	sgx_blk_bank
23509                        		__farptr	_tilemap_mask, sgx_tbl_bank, sgx_tbl_addr
         1E:D8F9  A9 01      			lda.l	#$6000 + ($1FFF & (_tilemap_mask))
         1E:D8FB  8D 19 2C   			sta.l	sgx_tbl_addr
         1E:D8FE  A9 64      			lda.h	#$6000 + ($1FFF & (_tilemap_mask))
         1E:D900  8D 1A 2C   			sta.h	sgx_tbl_addr
         1E:D903  A9 F8      			lda	#bank(_tilemap_mask)
         1E:D905  8D 1B 2C   			sta	sgx_tbl_bank
23510                        		__st.umiq	256, _al
         1E:D908  A9 00      			lda.l	#256
         1E:D90A  85 F8      			sta	_al
23511                        		__call		_sgx_set_blocks.3
         1E:D90C  20 2D FE   			call	_sgx_set_blocks.3
23512                        	
23513                        		.dbg	line,	"include\init.c", 1177; //--------------------------------------------------------------------------------------//
23514                        	
23515                        		.dbg	line,	"include\init.c", 1178; //                                       SET MAP                                        //
23516                        	
23517                        		.dbg	line,	"include\init.c", 1179; //--------------------------------------------------------------------------------------//
23518                        	
23519                        		.dbg	line,	"include\init.c", 1181; sgx_set_blkmap( map_SHOP_BG_B, COUNTOF(map_SHOP_BG_B) );
23520                        		__farptr	_map_SHOP_BG_B, sgx_map_bank, sgx_map_addr
         1E:D90F  A9 00      			lda.l	#$6000 + ($1FFF & (_map_SHOP_BG_B))
         1E:D911  8D 1F 2C   			sta.l	sgx_map_addr
         1E:D914  A9 68      			lda.h	#$6000 + ($1FFF & (_map_SHOP_BG_B))
         1E:D916  8D 20 2C   			sta.h	sgx_map_addr
         1E:D919  A9 12      			lda	#bank(_map_SHOP_BG_B)
         1E:D91B  8D 21 2C   			sta	sgx_map_bank
23521                        		__ld.wi		___countof__map_SHOP_BG_B
         1E:D91E  A9 10      			lda.l	#___countof__map_SHOP_BG_B
         1E:D920  A0 00      			ldy.h	#___countof__map_SHOP_BG_B
23522                        		__st.umq	sgx_map_line_w
         1E:D922  8D E2 26   			sta	sgx_map_line_w
23523                        		 _sgx_set_blkmap.2
         1E:D925  9C 24 2C   			stz	sgx_scr_bank
23524                        	
23525                        		.dbg	line,	"include\init.c", 1184; //--------------------------------------------------------------------------------------//
23526                        	
23527                        		.dbg	line,	"include\init.c", 1185; //                                    DRAW TILEMAP                                      //
23528                        	
23529                        		.dbg	line,	"include\init.c", 1186; //--------------------------------------------------------------------------------------//
23530                        	
23531                        		.dbg	line,	"include\init.c", 1188; // The blkmap is drawn using global variables for the top-left coordinate
23532                        	
23533                        		.dbg	line,	"include\init.c", 1189; // in pixels, and the draw width and height in terms of 8x8 characters.
23534                        	
23535                        		.dbg	line,	"include\init.c", 1191; sgx_map_pxl_x = 0;
23536                        		__st.wmiq	0, _sgx_map_pxl_x
         1E:D928  9C E4 26   			stz.l	_sgx_map_pxl_x
         1E:D92B  9C E5 26   			stz.h	_sgx_map_pxl_x
23537                        	
23538                        		.dbg	line,	"include\init.c", 1192; sgx_map_pxl_y = 0;
23539                        		__st.wmiq	0, _sgx_map_pxl_y
         1E:D92E  9C E6 26   			stz.l	_sgx_map_pxl_y
         1E:D931  9C E7 26   			stz.h	_sgx_map_pxl_y
23540                        	
23541                        		.dbg	line,	"include\init.c", 1194; sgx_map_draw_w = 32;
23542                        		__st.umiq	32, _sgx_map_draw_w
         1E:D934  A9 20      			lda.l	#32
         1E:D936  8D E0 26   			sta	_sgx_map_draw_w
23543                        	
23544                        		.dbg	line,	"include\init.c", 1195; sgx_map_draw_h = 28;
23545                        		__st.umiq	28, _sgx_map_draw_h
         1E:D939  A9 1C      			lda.l	#28
         1E:D93B  8D E1 26   			sta	_sgx_map_draw_h
23546                        	
23547                        		.dbg	line,	"include\init.c", 1198; //**************************************************************************************//
23548                        	
23549                        		.dbg	line,	"include\init.c", 1199; //                                                                                      //
23550                        	
23551                        		.dbg	line,	"include\init.c", 1200; //                                  SETUP SCROLL_SPLIT                                  //
23552                        	
23553                        		.dbg	line,	"include\init.c", 1201; //                                                                                      //
23554                        	
23555                        		.dbg	line,	"include\init.c", 1202; //**************************************************************************************//
23556                        	
23557                        		.dbg	line,	"include\init.c", 1204; sgx_draw_map();
23558                        		__call		_sgx_draw_map
         1E:D93E  20 9B FE   			call	_sgx_draw_map
23559                        	
23560                        		.dbg	line,	"include\init.c", 1206; sgx_scroll_split(0,   0, sgx_map_pxl_x & (BAT_SIZE_W - 1), sgx_map_pxl_y & (BAT_SIZE_H - 1), BKG_ON | SPR_ON);
23561                        		__st.umiq	0, _al
         1E:D941  64 F8      			stz	_al
23562                        		__st.umiq	0, _ah
         1E:D943  64 F9      			stz	_ah
23563                        		__ld.wm		_sgx_map_pxl_x
         1E:D945  AD E4 26   			lda.l	_sgx_map_pxl_x
         1E:D948  AC E5 26   			ldy.h	_sgx_map_pxl_x
23564                        		__and.wi	2047
         1E:D94B  29 FF      			and.l	#2047
         1E:D94D  42         			say
         1E:D94E  29 07      			and.h	#2047
         1E:D950  42         			say
23565                        		__st.wmq	_bx
         1E:D951  85 FA      			sta.l	_bx
         1E:D953  84 FB      			sty.h	_bx
23566                        		__ld.wm		_sgx_map_pxl_y
         1E:D955  AD E6 26   			lda.l	_sgx_map_pxl_y
         1E:D958  AC E7 26   			ldy.h	_sgx_map_pxl_y
23567                        		__and.wi	255
         1E:D95B  29 FF      			and	#255
         1E:D95D  C2         			cly
23568                        		__st.wmq	_cx
         1E:D95E  85 FC      			sta.l	_cx
         1E:D960  84 FD      			sty.h	_cx
23569                        		__st.umiq	192, _dl
         1E:D962  A9 C0      			lda.l	#192
         1E:D964  85 FE      			sta	_dl
23570                        		__call		_sgx_scroll_split.5
         1E:D966  20 59 FF   			call	_sgx_scroll_split.5
23571                        	
23572                        		.dbg	line,	"include\init.c", 1211; //**************************************************************************************//
23573                        	
23574                        		.dbg	line,	"include\init.c", 1212; //                                                                                      //
23575                        	
23576                        		.dbg	line,	"include\init.c", 1213; //                                         HUD                                          //
23577                        	
23578                        		.dbg	line,	"include\init.c", 1214; //                                                                                      //
23579                        	
23580                        		.dbg	line,	"include\init.c", 1215; //**************************************************************************************//
23581                        	
23582                        		.dbg	line,	"include\init.c", 1217; init_HUD();
23583                        		__call		_init_HUD
         1E:D969  20 91 FE   			call	_init_HUD
23584                        	
23585                        		.dbg	line,	"include\init.c", 1222; //--------------------------------------------------------------------------------------//
23586                        	
23587                        		.dbg	line,	"include\init.c", 1223; //                                     DRAW PRICES                                      //
23588                        	
23589                        		.dbg	line,	"include\init.c", 1224; //--------------------------------------------------------------------------------------//
23590                        	
23591                        		.dbg	line,	"include\init.c", 1226; shop_prices[0] = *(ptr_SHOP_ITEM_PRICES);
23592                        		__ld.wm		_ptr_SHOP_ITEM_PRICES
         1E:D96C  AD 9E 26   			lda.l	_ptr_SHOP_ITEM_PRICES
         1E:D96F  AC 9F 26   			ldy.h	_ptr_SHOP_ITEM_PRICES
23593                        		__st.wm		__ptr
         1E:D972  85 88      			sta.l	__ptr
         1E:D974  84 89      			sty.h	__ptr
23594                        		__ld.wp		__ptr
         1E:D976  A0 01      			ldy	#1
         1E:D978  B1 88      			lda	[__ptr], y
         1E:D97A  A8         			tay
         1E:D97B  B2 88      			lda	[__ptr]
23595                        		__st.wmq	_shop_prices
         1E:D97D  8D 65 26   			sta.l	_shop_prices
         1E:D980  8C 66 26   			sty.h	_shop_prices
23596                        	
23597                        		.dbg	line,	"include\init.c", 1227; shop_prices[1] = *(ptr_SHOP_ITEM_PRICES+1);
23598                        		__ld.wm		_ptr_SHOP_ITEM_PRICES
         1E:D983  AD 9E 26   			lda.l	_ptr_SHOP_ITEM_PRICES
         1E:D986  AC 9F 26   			ldy.h	_ptr_SHOP_ITEM_PRICES
23599                        		__add.wi	2
         1E:D989  18         			clc
         1E:D98A  69 02      			adc.l	#2
         1E:D98C  90 01      			bcc	!+
         1E:D98E  C8         			iny
         1E:D98F             	!:
23600                        		__st.wm		__ptr
         1E:D98F  85 88      			sta.l	__ptr
         1E:D991  84 89      			sty.h	__ptr
23601                        		__ld.wp		__ptr
         1E:D993  A0 01      			ldy	#1
         1E:D995  B1 88      			lda	[__ptr], y
         1E:D997  A8         			tay
         1E:D998  B2 88      			lda	[__ptr]
23602                        		__st.wmq	_shop_prices + 2
         1E:D99A  8D 67 26   			sta.l	_shop_prices + 2
         1E:D99D  8C 68 26   			sty.h	_shop_prices + 2
23603                        	
23604                        		.dbg	line,	"include\init.c", 1228; shop_prices[2] = *(ptr_SHOP_ITEM_PRICES+2);
23605                        		__ld.wm		_ptr_SHOP_ITEM_PRICES
         1E:D9A0  AD 9E 26   			lda.l	_ptr_SHOP_ITEM_PRICES
         1E:D9A3  AC 9F 26   			ldy.h	_ptr_SHOP_ITEM_PRICES
23606                        		__add.wi	4
         1E:D9A6  18         			clc
         1E:D9A7  69 04      			adc.l	#4
         1E:D9A9  90 01      			bcc	!+
         1E:D9AB  C8         			iny
         1E:D9AC             	!:
23607                        		__st.wm		__ptr
         1E:D9AC  85 88      			sta.l	__ptr
         1E:D9AE  84 89      			sty.h	__ptr
23608                        		__ld.wp		__ptr
         1E:D9B0  A0 01      			ldy	#1
         1E:D9B2  B1 88      			lda	[__ptr], y
         1E:D9B4  A8         			tay
         1E:D9B5  B2 88      			lda	[__ptr]
23609                        		__st.wmq	_shop_prices + 4
         1E:D9B7  8D 69 26   			sta.l	_shop_prices + 4
         1E:D9BA  8C 6A 26   			sty.h	_shop_prices + 4
23610                        	
23611                        		.dbg	line,	"include\init.c", 1229; shop_prices[3] = *(ptr_SHOP_ITEM_PRICES+3);
23612                        		__ld.wm		_ptr_SHOP_ITEM_PRICES
         1E:D9BD  AD 9E 26   			lda.l	_ptr_SHOP_ITEM_PRICES
         1E:D9C0  AC 9F 26   			ldy.h	_ptr_SHOP_ITEM_PRICES
23613                        		__add.wi	6
         1E:D9C3  18         			clc
         1E:D9C4  69 06      			adc.l	#6
         1E:D9C6  90 01      			bcc	!+
         1E:D9C8  C8         			iny
         1E:D9C9             	!:
23614                        		__st.wm		__ptr
         1E:D9C9  85 88      			sta.l	__ptr
         1E:D9CB  84 89      			sty.h	__ptr
23615                        		__ld.wp		__ptr
         1E:D9CD  A0 01      			ldy	#1
         1E:D9CF  B1 88      			lda	[__ptr], y
         1E:D9D1  A8         			tay
         1E:D9D2  B2 88      			lda	[__ptr]
23616                        		__st.wmq	_shop_prices + 6
         1E:D9D4  8D 6B 26   			sta.l	_shop_prices + 6
         1E:D9D7  8C 6C 26   			sty.h	_shop_prices + 6
23617                        	
23618                        		.dbg	line,	"include\init.c", 1230; shop_prices[4] = *(ptr_SHOP_ITEM_PRICES+4);
23619                        		__ld.wm		_ptr_SHOP_ITEM_PRICES
         1E:D9DA  AD 9E 26   			lda.l	_ptr_SHOP_ITEM_PRICES
         1E:D9DD  AC 9F 26   			ldy.h	_ptr_SHOP_ITEM_PRICES
23620                        		__add.wi	8
         1E:D9E0  18         			clc
         1E:D9E1  69 08      			adc.l	#8
         1E:D9E3  90 01      			bcc	!+
         1E:D9E5  C8         			iny
         1E:D9E6             	!:
23621                        		__st.wm		__ptr
         1E:D9E6  85 88      			sta.l	__ptr
         1E:D9E8  84 89      			sty.h	__ptr
23622                        		__ld.wp		__ptr
         1E:D9EA  A0 01      			ldy	#1
         1E:D9EC  B1 88      			lda	[__ptr], y
         1E:D9EE  A8         			tay
         1E:D9EF  B2 88      			lda	[__ptr]
23623                        		__st.wmq	_shop_prices + 8
         1E:D9F1  8D 6D 26   			sta.l	_shop_prices + 8
         1E:D9F4  8C 6E 26   			sty.h	_shop_prices + 8
23624                        	
23625                        		.dbg	line,	"include\init.c", 1231; 
23626                        	
23627                        		.dbg	line,	"include\init.c", 1232; shop_prices[5] = *(ptr_SHOP_ITEM_PRICES+5);
23628                        		__ld.wm		_ptr_SHOP_ITEM_PRICES
         1E:D9F7  AD 9E 26   			lda.l	_ptr_SHOP_ITEM_PRICES
         1E:D9FA  AC 9F 26   			ldy.h	_ptr_SHOP_ITEM_PRICES
23629                        		__add.wi	10
         1E:D9FD  18         			clc
         1E:D9FE  69 0A      			adc.l	#10
         1E:DA00  90 01      			bcc	!+
         1E:DA02  C8         			iny
         1E:DA03             	!:
23630                        		__st.wm		__ptr
         1E:DA03  85 88      			sta.l	__ptr
         1E:DA05  84 89      			sty.h	__ptr
23631                        		__ld.wp		__ptr
         1E:DA07  A0 01      			ldy	#1
         1E:DA09  B1 88      			lda	[__ptr], y
         1E:DA0B  A8         			tay
         1E:DA0C  B2 88      			lda	[__ptr]
23632                        		__st.wmq	_shop_prices + 10
         1E:DA0E  8D 6F 26   			sta.l	_shop_prices + 10
         1E:DA11  8C 70 26   			sty.h	_shop_prices + 10
23633                        	
23634                        		.dbg	line,	"include\init.c", 1233; shop_prices[6] = *(ptr_SHOP_ITEM_PRICES+6);
23635                        		__ld.wm		_ptr_SHOP_ITEM_PRICES
         1E:DA14  AD 9E 26   			lda.l	_ptr_SHOP_ITEM_PRICES
         1E:DA17  AC 9F 26   			ldy.h	_ptr_SHOP_ITEM_PRICES
23636                        		__add.wi	12
         1E:DA1A  18         			clc
         1E:DA1B  69 0C      			adc.l	#12
         1E:DA1D  90 01      			bcc	!+
         1E:DA1F  C8         			iny
         1E:DA20             	!:
23637                        		__st.wm		__ptr
         1E:DA20  85 88      			sta.l	__ptr
         1E:DA22  84 89      			sty.h	__ptr
23638                        		__ld.wp		__ptr
         1E:DA24  A0 01      			ldy	#1
         1E:DA26  B1 88      			lda	[__ptr], y
         1E:DA28  A8         			tay
         1E:DA29  B2 88      			lda	[__ptr]
23639                        		__st.wmq	_shop_prices + 12
         1E:DA2B  8D 71 26   			sta.l	_shop_prices + 12
         1E:DA2E  8C 72 26   			sty.h	_shop_prices + 12
23640                        	
23641                        		.dbg	line,	"include\init.c", 1234; shop_prices[7] = *(ptr_SHOP_ITEM_PRICES+7);
23642                        		__ld.wm		_ptr_SHOP_ITEM_PRICES
         1E:DA31  AD 9E 26   			lda.l	_ptr_SHOP_ITEM_PRICES
         1E:DA34  AC 9F 26   			ldy.h	_ptr_SHOP_ITEM_PRICES
23643                        		__add.wi	14
         1E:DA37  18         			clc
         1E:DA38  69 0E      			adc.l	#14
         1E:DA3A  90 01      			bcc	!+
         1E:DA3C  C8         			iny
         1E:DA3D             	!:
23644                        		__st.wm		__ptr
         1E:DA3D  85 88      			sta.l	__ptr
         1E:DA3F  84 89      			sty.h	__ptr
23645                        		__ld.wp		__ptr
         1E:DA41  A0 01      			ldy	#1
         1E:DA43  B1 88      			lda	[__ptr], y
         1E:DA45  A8         			tay
         1E:DA46  B2 88      			lda	[__ptr]
23646                        		__st.wmq	_shop_prices + 14
         1E:DA48  8D 73 26   			sta.l	_shop_prices + 14
         1E:DA4B  8C 74 26   			sty.h	_shop_prices + 14
23647                        	
23648                        		.dbg	line,	"include\init.c", 1235; shop_prices[8] = *(ptr_SHOP_ITEM_PRICES+8);
23649                        		__ld.wm		_ptr_SHOP_ITEM_PRICES
         1E:DA4E  AD 9E 26   			lda.l	_ptr_SHOP_ITEM_PRICES
         1E:DA51  AC 9F 26   			ldy.h	_ptr_SHOP_ITEM_PRICES
23650                        		__add.wi	16
         1E:DA54  18         			clc
         1E:DA55  69 10      			adc.l	#16
         1E:DA57  90 01      			bcc	!+
         1E:DA59  C8         			iny
         1E:DA5A             	!:
23651                        		__st.wm		__ptr
         1E:DA5A  85 88      			sta.l	__ptr
         1E:DA5C  84 89      			sty.h	__ptr
23652                        		__ld.wp		__ptr
         1E:DA5E  A0 01      			ldy	#1
         1E:DA60  B1 88      			lda	[__ptr], y
         1E:DA62  A8         			tay
         1E:DA63  B2 88      			lda	[__ptr]
23653                        		__st.wmq	_shop_prices + 16
         1E:DA65  8D 75 26   			sta.l	_shop_prices + 16
         1E:DA68  8C 76 26   			sty.h	_shop_prices + 16
23654                        	
23655                        		.dbg	line,	"include\init.c", 1236; shop_prices[9] = *(ptr_SHOP_ITEM_PRICES+9);
23656                        		__ld.wm		_ptr_SHOP_ITEM_PRICES
         1E:DA6B  AD 9E 26   			lda.l	_ptr_SHOP_ITEM_PRICES
         1E:DA6E  AC 9F 26   			ldy.h	_ptr_SHOP_ITEM_PRICES
23657                        		__add.wi	18
         1E:DA71  18         			clc
         1E:DA72  69 12      			adc.l	#18
         1E:DA74  90 01      			bcc	!+
         1E:DA76  C8         			iny
         1E:DA77             	!:
23658                        		__st.wm		__ptr
         1E:DA77  85 88      			sta.l	__ptr
         1E:DA79  84 89      			sty.h	__ptr
23659                        		__ld.wp		__ptr
         1E:DA7B  A0 01      			ldy	#1
         1E:DA7D  B1 88      			lda	[__ptr], y
         1E:DA7F  A8         			tay
         1E:DA80  B2 88      			lda	[__ptr]
23660                        		__st.wmq	_shop_prices + 18
         1E:DA82  8D 77 26   			sta.l	_shop_prices + 18
         1E:DA85  8C 78 26   			sty.h	_shop_prices + 18
23661                        	
23662                        		.dbg	line,	"include\init.c", 1239; put_number(shop_prices[0],4,2,20);
23663                        		__ld.wm		_shop_prices
         1E:DA88  AD 65 26   			lda.l	_shop_prices
         1E:DA8B  AC 66 26   			ldy.h	_shop_prices
23664                        		__st.wmq	_bx
         1E:DA8E  85 FA      			sta.l	_bx
         1E:DA90  84 FB      			sty.h	_bx
23665                        		__st.umiq	4, _cl
         1E:DA92  A9 04      			lda.l	#4
         1E:DA94  85 FC      			sta	_cl
23666                        		__st.umiq	2, _dil
         1E:DA96  A9 02      			lda.l	#2
         1E:DA98  85 F0      			sta	_dil
23667                        		__st.umiq	20, _dih
         1E:DA9A  A9 14      			lda.l	#20
         1E:DA9C  85 F1      			sta	_dih
23668                        		__call		_put_number.4
         1E:DA9E  20 6D FF   			call	_put_number.4
23669                        	
23670                        		.dbg	line,	"include\init.c", 1240; put_number(shop_prices[1],4,7,20);
23671                        		__ld.wm		_shop_prices + 2
         1E:DAA1  AD 67 26   			lda.l	_shop_prices + 2
         1E:DAA4  AC 68 26   			ldy.h	_shop_prices + 2
23672                        		__st.wmq	_bx
         1E:DAA7  85 FA      			sta.l	_bx
         1E:DAA9  84 FB      			sty.h	_bx
23673                        		__st.umiq	4, _cl
         1E:DAAB  A9 04      			lda.l	#4
         1E:DAAD  85 FC      			sta	_cl
23674                        		__st.umiq	7, _dil
         1E:DAAF  A9 07      			lda.l	#7
         1E:DAB1  85 F0      			sta	_dil
23675                        		__st.umiq	20, _dih
         1E:DAB3  A9 14      			lda.l	#20
         1E:DAB5  85 F1      			sta	_dih
23676                        		__call		_put_number.4
         1E:DAB7  20 6D FF   			call	_put_number.4
23677                        	
23678                        		.dbg	line,	"include\init.c", 1241; put_number(shop_prices[2],4,12,20);
23679                        		__ld.wm		_shop_prices + 4
         1E:DABA  AD 69 26   			lda.l	_shop_prices + 4
         1E:DABD  AC 6A 26   			ldy.h	_shop_prices + 4
23680                        		__st.wmq	_bx
         1E:DAC0  85 FA      			sta.l	_bx
         1E:DAC2  84 FB      			sty.h	_bx
23681                        		__st.umiq	4, _cl
         1E:DAC4  A9 04      			lda.l	#4
         1E:DAC6  85 FC      			sta	_cl
23682                        		__st.umiq	12, _dil
         1E:DAC8  A9 0C      			lda.l	#12
         1E:DACA  85 F0      			sta	_dil
23683                        		__st.umiq	20, _dih
         1E:DACC  A9 14      			lda.l	#20
         1E:DACE  85 F1      			sta	_dih
23684                        		__call		_put_number.4
         1E:DAD0  20 6D FF   			call	_put_number.4
23685                        	
23686                        		.dbg	line,	"include\init.c", 1242; put_number(shop_prices[3],4,17,20);
23687                        		__ld.wm		_shop_prices + 6
         1E:DAD3  AD 6B 26   			lda.l	_shop_prices + 6
         1E:DAD6  AC 6C 26   			ldy.h	_shop_prices + 6
23688                        		__st.wmq	_bx
         1E:DAD9  85 FA      			sta.l	_bx
         1E:DADB  84 FB      			sty.h	_bx
23689                        		__st.umiq	4, _cl
         1E:DADD  A9 04      			lda.l	#4
         1E:DADF  85 FC      			sta	_cl
23690                        		__st.umiq	17, _dil
         1E:DAE1  A9 11      			lda.l	#17
         1E:DAE3  85 F0      			sta	_dil
23691                        		__st.umiq	20, _dih
         1E:DAE5  A9 14      			lda.l	#20
         1E:DAE7  85 F1      			sta	_dih
23692                        		__call		_put_number.4
         1E:DAE9  20 6D FF   			call	_put_number.4
23693                        	
23694                        		.dbg	line,	"include\init.c", 1243; put_number(shop_prices[4],4,22,20);
23695                        		__ld.wm		_shop_prices + 8
         1E:DAEC  AD 6D 26   			lda.l	_shop_prices + 8
         1E:DAEF  AC 6E 26   			ldy.h	_shop_prices + 8
23696                        		__st.wmq	_bx
         1E:DAF2  85 FA      			sta.l	_bx
         1E:DAF4  84 FB      			sty.h	_bx
23697                        		__st.umiq	4, _cl
         1E:DAF6  A9 04      			lda.l	#4
         1E:DAF8  85 FC      			sta	_cl
23698                        		__st.umiq	22, _dil
         1E:DAFA  A9 16      			lda.l	#22
         1E:DAFC  85 F0      			sta	_dil
23699                        		__st.umiq	20, _dih
         1E:DAFE  A9 14      			lda.l	#20
         1E:DB00  85 F1      			sta	_dih
23700                        		__call		_put_number.4
         1E:DB02  20 6D FF   			call	_put_number.4
23701                        	
23702                        		.dbg	line,	"include\init.c", 1245; put_number(shop_prices[5],4,2,23);
23703                        		__ld.wm		_shop_prices + 10
         1E:DB05  AD 6F 26   			lda.l	_shop_prices + 10
         1E:DB08  AC 70 26   			ldy.h	_shop_prices + 10
23704                        		__st.wmq	_bx
         1E:DB0B  85 FA      			sta.l	_bx
         1E:DB0D  84 FB      			sty.h	_bx
23705                        		__st.umiq	4, _cl
         1E:DB0F  A9 04      			lda.l	#4
         1E:DB11  85 FC      			sta	_cl
23706                        		__st.umiq	2, _dil
         1E:DB13  A9 02      			lda.l	#2
         1E:DB15  85 F0      			sta	_dil
23707                        		__st.umiq	23, _dih
         1E:DB17  A9 17      			lda.l	#23
         1E:DB19  85 F1      			sta	_dih
23708                        		__call		_put_number.4
         1E:DB1B  20 6D FF   			call	_put_number.4
23709                        	
23710                        		.dbg	line,	"include\init.c", 1246; put_number(shop_prices[6],4,7,23);
23711                        		__ld.wm		_shop_prices + 12
         1E:DB1E  AD 71 26   			lda.l	_shop_prices + 12
         1E:DB21  AC 72 26   			ldy.h	_shop_prices + 12
23712                        		__st.wmq	_bx
         1E:DB24  85 FA      			sta.l	_bx
         1E:DB26  84 FB      			sty.h	_bx
23713                        		__st.umiq	4, _cl
         1E:DB28  A9 04      			lda.l	#4
         1E:DB2A  85 FC      			sta	_cl
23714                        		__st.umiq	7, _dil
         1E:DB2C  A9 07      			lda.l	#7
         1E:DB2E  85 F0      			sta	_dil
23715                        		__st.umiq	23, _dih
         1E:DB30  A9 17      			lda.l	#23
         1E:DB32  85 F1      			sta	_dih
23716                        		__call		_put_number.4
         1E:DB34  20 6D FF   			call	_put_number.4
23717                        	
23718                        		.dbg	line,	"include\init.c", 1247; put_number(shop_prices[7],4,12,23);
23719                        		__ld.wm		_shop_prices + 14
         1E:DB37  AD 73 26   			lda.l	_shop_prices + 14
         1E:DB3A  AC 74 26   			ldy.h	_shop_prices + 14
23720                        		__st.wmq	_bx
         1E:DB3D  85 FA      			sta.l	_bx
         1E:DB3F  84 FB      			sty.h	_bx
23721                        		__st.umiq	4, _cl
         1E:DB41  A9 04      			lda.l	#4
         1E:DB43  85 FC      			sta	_cl
23722                        		__st.umiq	12, _dil
         1E:DB45  A9 0C      			lda.l	#12
         1E:DB47  85 F0      			sta	_dil
23723                        		__st.umiq	23, _dih
         1E:DB49  A9 17      			lda.l	#23
         1E:DB4B  85 F1      			sta	_dih
23724                        		__call		_put_number.4
         1E:DB4D  20 6D FF   			call	_put_number.4
23725                        	
23726                        		.dbg	line,	"include\init.c", 1248; put_number(shop_prices[8],4,17,23);
23727                        		__ld.wm		_shop_prices + 16
         1E:DB50  AD 75 26   			lda.l	_shop_prices + 16
         1E:DB53  AC 76 26   			ldy.h	_shop_prices + 16
23728                        		__st.wmq	_bx
         1E:DB56  85 FA      			sta.l	_bx
         1E:DB58  84 FB      			sty.h	_bx
23729                        		__st.umiq	4, _cl
         1E:DB5A  A9 04      			lda.l	#4
         1E:DB5C  85 FC      			sta	_cl
23730                        		__st.umiq	17, _dil
         1E:DB5E  A9 11      			lda.l	#17
         1E:DB60  85 F0      			sta	_dil
23731                        		__st.umiq	23, _dih
         1E:DB62  A9 17      			lda.l	#23
         1E:DB64  85 F1      			sta	_dih
23732                        		__call		_put_number.4
         1E:DB66  20 6D FF   			call	_put_number.4
23733                        	
23734                        		.dbg	line,	"include\init.c", 1249; put_number(shop_prices[9],4,22,23);
23735                        		__ld.wm		_shop_prices + 18
         1E:DB69  AD 77 26   			lda.l	_shop_prices + 18
         1E:DB6C  AC 78 26   			ldy.h	_shop_prices + 18
23736                        		__st.wmq	_bx
         1E:DB6F  85 FA      			sta.l	_bx
         1E:DB71  84 FB      			sty.h	_bx
23737                        		__st.umiq	4, _cl
         1E:DB73  A9 04      			lda.l	#4
         1E:DB75  85 FC      			sta	_cl
23738                        		__st.umiq	22, _dil
         1E:DB77  A9 16      			lda.l	#22
         1E:DB79  85 F0      			sta	_dil
23739                        		__st.umiq	23, _dih
         1E:DB7B  A9 17      			lda.l	#23
         1E:DB7D  85 F1      			sta	_dih
23740                        		__call		_put_number.4
         1E:DB7F  20 6D FF   			call	_put_number.4
23741                        	
23742                        		.dbg	line,	"include\init.c", 1254; //--------------------------------------------------------------------------------------//
23743                        	
23744                        		.dbg	line,	"include\init.c", 1255; //                                   LOAD BG PALETTES                                   //
23745                        	
23746                        		.dbg	line,	"include\init.c", 1256; //--------------------------------------------------------------------------------------//
23747                        	
23748                        		.dbg	line,	"include\init.c", 1258; load_palette( 0, palette_SHOP, 16 );
23749                        		__st.umiq	0, _al
         1E:DB82  64 F8      			stz	_al
23750                        		__farptr	_palette_SHOP, _bp_bank, _bp
         1E:DB84  A9 E0      			lda.l	#$6000 + ($1FFF & (_palette_SHOP))
         1E:DB86  85 EC      			sta.l	_bp
         1E:DB88  A9 6D      			lda.h	#$6000 + ($1FFF & (_palette_SHOP))
         1E:DB8A  85 ED      			sta.h	_bp
         1E:DB8C  A9 12      			lda	#bank(_palette_SHOP)
         1E:DB8E  85 02      			sta	_bp_bank
23751                        		__st.umiq	16, _ah
         1E:DB90  A9 10      			lda.l	#16
         1E:DB92  85 F9      			sta	_ah
23752                        		__call		_load_palette.3
         1E:DB94  20 8B FF   			call	_load_palette.3
23753                        	
23754                        		.dbg	line,	"include\init.c", 1263; //**************************************************************************************//
23755                        	
23756                        		.dbg	line,	"include\init.c", 1264; //                                                                                      //
23757                        	
23758                        		.dbg	line,	"include\init.c", 1265; //                                       SPRITES                                        //
23759                        	
23760                        		.dbg	line,	"include\init.c", 1266; //                                                                                      //
23761                        	
23762                        		.dbg	line,	"include\init.c", 1267; //**************************************************************************************//
23763                        	
23764                        		.dbg	line,	"include\init.c", 1269; //--------------------------------------------------------------------------------------//
23765                        	
23766                        		.dbg	line,	"include\init.c", 1270; //                                   HIDE ALL SPRITES                                   //
23767                        	
23768                        		.dbg	line,	"include\init.c", 1271; //--------------------------------------------------------------------------------------//
23769                        	
23770                        		.dbg	line,	"include\init.c", 1273; for(i=0 ; i<63 ; i++)
23771                        		__st.umiq	0, __init_SHOP_end - 1  /* i */
         1E:DB97  9C 14 23   			stz	__init_SHOP_end - 1
23772    1E:DB9A             	.LL1122:
23773                        		__ld.umq	__init_SHOP_end - 1  /* i */
         1E:DB9A  AD 14 23   			lda	__init_SHOP_end - 1
23774                        		__ult_b.uiq	63
         1E:DB9D  C9 3F      			cmp	#63		; Subtract integer from A.
         1E:DB9F  6A         			ror	a		; CC if A < integer.
         1E:DBA0  49 80      			eor	#$80
         1E:DBA2  2A         			rol	a
23775                        		__btrue		.LL1124
         1E:DBA3  B0 07      			bcs	.LL1124
23776                        		__bra		.LL1125
         1E:DBA5  80 19      			bra	.LL1125
23777    1E:DBA7             	.LL1123:
23778                        		__inc.umq	__init_SHOP_end - 1  /* i */
         1E:DBA7  EE 14 23   			inc	__init_SHOP_end - 1
23779                        		__bra		.LL1122
         1E:DBAA  80 EE      			bra	.LL1122
23780    1E:DBAC             	.LL1124:
23781                        	
23782                        		.dbg	line,	"include\init.c", 1274; {
23783                        	
23784                        		.dbg	line,	"include\init.c", 1275; spr_set(i);
23785                        		__ld.umq	__init_SHOP_end - 1  /* i */
         1E:DBAC  AD 14 23   			lda	__init_SHOP_end - 1
23786                        		__call		_spr_set.1
         1E:DBAF  20 F1 E7   			call	_spr_set.1
23787                        	
23788                        		.dbg	line,	"include\init.c", 1276; spr_hide();
23789                        		__call		_spr_hide
         1E:DBB2  20 0C E8   			call	_spr_hide
23790                        	
23791                        		.dbg	line,	"include\init.c", 1278; sgx_spr_set(i);
23792                        		__ld.umq	__init_SHOP_end - 1  /* i */
         1E:DBB5  AD 14 23   			lda	__init_SHOP_end - 1
23793                        		__call		_sgx_spr_set.1
         1E:DBB8  20 9E E8   			call	_sgx_spr_set.1
23794                        	
23795                        		.dbg	line,	"include\init.c", 1279; sgx_spr_hide();
23796                        		__call		_sgx_spr_hide
         1E:DBBB  20 B9 E8   			call	_sgx_spr_hide
23797                        	
23798                        		.dbg	line,	"include\init.c", 1280; }
23799                        		__bra		.LL1123
         1E:DBBE  80 E7      			bra	.LL1123
23800    1E:DBC0             	.LL1125:
23801                        	
23802                        		.dbg	line,	"include\init.c", 1282; //--------------------------------------------------------------------------------------//
23803                        	
23804                        		.dbg	line,	"include\init.c", 1283; //                                        CURSOR                                        //
23805                        	
23806                        		.dbg	line,	"include\init.c", 1284; //--------------------------------------------------------------------------------------//
23807                        	
23808                        		.dbg	line,	"include\init.c", 1286; // LOAD CURSOR TILES //
23809                        	
23810                        		.dbg	line,	"include\init.c", 1287; load_vram(0x2000, tiles_SPR_CURSOR , TILES_16);
23811                        		__st.wmiq	8192, _di
         1E:DBC0  64 F0      			stz.l	_di
         1E:DBC2  A9 20      			lda.h	#8192
         1E:DBC4  85 F1      			sta.h	_di
23812                        		__farptr	_tiles_SPR_CURSOR, _bp_bank, _bp
         1E:DBC6  A9 40      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_CURSOR))
         1E:DBC8  85 EC      			sta.l	_bp
         1E:DBCA  A9 6A      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_CURSOR))
         1E:DBCC  85 ED      			sta.h	_bp
         1E:DBCE  A9 1B      			lda	#bank(_tiles_SPR_CURSOR)
         1E:DBD0  85 02      			sta	_bp_bank
23813                        		__st.wmiq	256, _ax
         1E:DBD2  64 F8      			stz.l	_ax
         1E:DBD4  A9 01      			lda.h	#256
         1E:DBD6  85 F9      			sta.h	_ax
23814                        		 _load_vram.3
         1E:DBD8  82         			clx				; Offset to PCE VDC.
         1E:DBD9  20 EB FE   			call	load_vram_x
23815                        	
23816                        		.dbg	line,	"include\init.c", 1290; // SELECT CURSOR SPRITE //
23817                        	
23818                        		.dbg	line,	"include\init.c", 1291; spr_set(0);
23819                        		__ld.uiq	0
         1E:DBDC  62         			cla
23820                        		__call		_spr_set.1
         1E:DBDD  20 F1 E7   			call	_spr_set.1
23821                        	
23822                        		.dbg	line,	"include\init.c", 1292; spr_hide();
23823                        		__call		_spr_hide
         1E:DBE0  20 0C E8   			call	_spr_hide
23824                        	
23825                        		.dbg	line,	"include\init.c", 1295; //spr_x(24);
23826                        	
23827                        		.dbg	line,	"include\init.c", 1296; //spr_y(144);
23828                        	
23829                        		.dbg	line,	"include\init.c", 1298; // SET TILES DATA FOR THE CURSOR //
23830                        	
23831                        		.dbg	line,	"include\init.c", 1299; spr_pattern(0x2000);
23832                        		__ld.wi		8192
         1E:DBE3  62         			cla
         1E:DBE4  A0 20      			ldy.h	#8192
23833                        		__call		_spr_pattern.1
         1E:DBE6  20 3A E8   			call	_spr_pattern.1
23834                        	
23835                        		.dbg	line,	"include\init.c", 1302; spr_ctrl(FLIP_MAS|SIZE_MAS, NO_FLIP|SZ_32x32);
23836                        		__st.umiq	185, _al
         1E:DBE9  A9 B9      			lda.l	#185
         1E:DBEB  85 F8      			sta	_al
23837                        		__ld.uiq	17
         1E:DBED  A9 11      			lda	#17
23838                        		__call		_spr_ctrl.2
         1E:DBEF  20 50 E8   			call	_spr_ctrl.2
23839                        	
23840                        		.dbg	line,	"include\init.c", 1305; spr_pal(16);
23841                        		__ld.uiq	16
         1E:DBF2  A9 10      			lda	#16
23842                        		__call		_spr_pal.1
         1E:DBF4  20 61 E8   			call	_spr_pal.1
23843                        	
23844                        		.dbg	line,	"include\init.c", 1306; spr_pri(TRUE);
23845                        		__ld.uiq	1
         1E:DBF7  A9 01      			lda	#1
23846                        		__call		_spr_pri.1
         1E:DBF9  20 70 E8   			call	_spr_pri.1
23847                        	
23848                        		.dbg	line,	"include\init.c", 1309; // UPDATE PCE SAT //
23849                        	
23850                        		.dbg	line,	"include\init.c", 1310; satb_update();
23851                        		__call		_satb_update
         1E:DBFC  20 C3 FE   			call	_satb_update
23852                        	
23853                        		.dbg	line,	"include\init.c", 1311; sgx_satb_update();
23854                        		__call		_sgx_satb_update
         1E:DBFF  20 F5 FE   			call	_sgx_satb_update
23855                        	
23856                        		.dbg	line,	"include\init.c", 1315; //--------------------------------------------------------------------------------------//
23857                        	
23858                        		.dbg	line,	"include\init.c", 1316; //                                LOAD SPRITES PALETTES                                 //
23859                        	
23860                        		.dbg	line,	"include\init.c", 1317; //--------------------------------------------------------------------------------------//
23861                        	
23862                        		.dbg	line,	"include\init.c", 1319; load_palette( 16, palette_objects_2, 1 );
23863                        		__st.umiq	16, _al
         1E:DC02  A9 10      			lda.l	#16
         1E:DC04  85 F8      			sta	_al
23864                        		__farptr	_palette_objects_2, _bp_bank, _bp
         1E:DC06  A9 40      			lda.l	#$6000 + ($1FFF & (_palette_objects_2))
         1E:DC08  85 EC      			sta.l	_bp
         1E:DC0A  A9 7C      			lda.h	#$6000 + ($1FFF & (_palette_objects_2))
         1E:DC0C  85 ED      			sta.h	_bp
         1E:DC0E  A9 1A      			lda	#bank(_palette_objects_2)
         1E:DC10  85 02      			sta	_bp_bank
23865                        		__st.umiq	1, _ah
         1E:DC12  A9 01      			lda.l	#1
         1E:DC14  85 F9      			sta	_ah
23866                        		__call		_load_palette.3
         1E:DC16  20 8B FF   			call	_load_palette.3
23867                        	
23868                        		.dbg	line,	"include\init.c", 1323; // VSYNC //
23869                        	
23870                        		.dbg	line,	"include\init.c", 1324; vsync();
23871                        		__call		_vsync
         1E:DC19  20 1D E3   			call	_vsync
23872                        	
23873                        		.dbg	line,	"include\init.c", 1326; // ENABLE DISPLAY //
23874                        	
23875                        		.dbg	line,	"include\init.c", 1327; disp_on();
23876                        		__call		_disp_on
         1E:DC1C  20 2A E4   			call	_disp_on
23877                        	
23878                        		.dbg	line,	"include\init.c", 1328; }
23879    1E:DC1F             	.LL1116:
23880                        		__return	0
         1E:DC1F  4C EF FF   			jmp	leave_proc
23881                        		.dbg	clear
23882                        		.endp
23883               2313     		.bss
23884    F8:2313             			ds	2
23885    F8:2315             	__init_SHOP_end:
23886               E31D     		.code
23887                        		.pceas
23888                        	
23889                        		.dbg	line,	"Black_Tiger.c", 36; main()
23890                        		.dbg	line,	"Black_Tiger.c", 37; {
23891                        	;***********************
23892                        	;***********************
23893                        	
23894                        		.hucc
23895    1F:C556             		.proc		_main
23896                        		__enter		_main
23897                        	
23898                        		.dbg	line,	"Black_Tiger.c", 38; if(!sgx_detect())
23899                        		 _sgx_detect
         1F:C556  AD E8 22   			lda	sgx_detected
         1F:C559  C2         			cly
23900                        		__not.wr
         1F:C55A  84 00      			sty	__temp
         1F:C55C  05 00      			ora	__temp
         1F:C55E  18         			clc
         1F:C55F  D0 01      			bne	!+
         1F:C561  38         			sec
         1F:C562             	!:
23901                        		__bfalse	.LL1127
         1F:C562  90 15      			bcc	.LL1127
23902                        	
23903                        		.dbg	line,	"Black_Tiger.c", 39; {
23904                        	
23905                        		.dbg	line,	"Black_Tiger.c", 40; put_string("Halt: SGX hardware not found", 2, 13);
23906                        		__ld.wi		__const1+70
         1F:C564  A9 46      			lda.l	#__const1+70
         1F:C566  A0 60      			ldy.h	#__const1+70
23907                        		__st.wmq	_bp
         1F:C568  85 EC      			sta.l	_bp
         1F:C56A  84 ED      			sty.h	_bp
23908                        		__st.umiq	2, _dil
         1F:C56C  A9 02      			lda.l	#2
         1F:C56E  85 F0      			sta	_dil
23909                        		__st.umiq	13, _dih
         1F:C570  A9 0D      			lda.l	#13
         1F:C572  85 F1      			sta	_dih
23910                        		__call		_put_string.3
         1F:C574  20 5F E6   			call	_put_string.3
23911                        	
23912                        		.dbg	line,	"Black_Tiger.c", 42; for(;;)
23913    1F:C577             	.LL1128	.alias		.LL1130
23914    1F:C577             	.LL1129	.alias		.LL1130
23915    1F:C577             	.LL1130:
23916                        	
23917                        		.dbg	line,	"Black_Tiger.c", 43; {
23918                        	
23919                        		.dbg	line,	"Black_Tiger.c", 44; // INFINITE LOOP //
23920                        	
23921                        		.dbg	line,	"Black_Tiger.c", 45; }
23922                        		__bra		.LL1130
         1F:C577  80 FE      			bra	.LL1130
23923    1F:C579             	.LL1131:
23924                        	
23925                        		.dbg	line,	"Black_Tiger.c", 46; }
23926                        	
23927                        		.dbg	line,	"Black_Tiger.c", 51; init_SYSTEM();
23928    1F:C579             	.LL1127:
23929                        		__call		_init_SYSTEM
         1F:C579  20 23 FE   			call	_init_SYSTEM
23930                        	
23931                        		.dbg	line,	"Black_Tiger.c", 52; 
23932                        	
23933                        		.dbg	line,	"Black_Tiger.c", 53; 
23934                        	
23935                        		.dbg	line,	"Black_Tiger.c", 54; init_VARIABLES();
23936                        		__call		_init_VARIABLES
         1F:C57C  20 19 FE   			call	_init_VARIABLES
23937                        	
23938                        		.dbg	line,	"Black_Tiger.c", 57; init_PLAYER();
23939                        		__call		_init_PLAYER
         1F:C57F  20 0F FE   			call	_init_PLAYER
23940                        	
23941                        		.dbg	line,	"Black_Tiger.c", 62; //**************************************************************************************//
23942                        	
23943                        		.dbg	line,	"Black_Tiger.c", 63; //                                                                                      //
23944                        	
23945                        		.dbg	line,	"Black_Tiger.c", 64; //                                         MAIN                                         //
23946                        	
23947                        		.dbg	line,	"Black_Tiger.c", 65; //                                                                                      //
23948                        	
23949                        		.dbg	line,	"Black_Tiger.c", 66; //**************************************************************************************//
23950                        	
23951                        		.dbg	line,	"Black_Tiger.c", 67; for(;;)
23952    1F:C582             	.LL1132:
23953    1F:C582             	.LL1133:
23954    1F:C582             	.LL1134:
23955                        	
23956                        		.dbg	line,	"Black_Tiger.c", 68; {
23957                        	
23958                        		.dbg	line,	"Black_Tiger.c", 69; switch(sequence_id)
23959                        		__ld.umq	_sequence_id
         1F:C582  AD 15 23   			lda	_sequence_id
23960                        		__bra		.LL1136
         1F:C585  4C C7 C7   			bra	.LL1136
23961                        	
23962                        		.dbg	line,	"Black_Tiger.c", 70; {
23963                        	
23964                        		.dbg	line,	"Black_Tiger.c", 71; //-----------------------------------------------------------------------------//
23965                        	
23966                        		.dbg	line,	"Black_Tiger.c", 72; //                                    TITLE                                    //
23967                        	
23968                        		.dbg	line,	"Black_Tiger.c", 73; //-----------------------------------------------------------------------------//
23969                        	
23970                        		.dbg	line,	"Black_Tiger.c", 74; case SEQUENCE_TITLE:
23971    1F:C588             	.LL1138:
23972                        		__case		0
23973                        	
23974                        		.dbg	line,	"Black_Tiger.c", 75; if(sequence_loaded == FALSE)
23975                        		__not.um	_sequence_loaded
         1F:C588  AD 16 23   			lda	_sequence_loaded
         1F:C58B  18         			clc
         1F:C58C  D0 01      			bne	!+
         1F:C58E  38         			sec
         1F:C58F             	!:
23976                        		__bfalse	.LL1139
         1F:C58F  90 0A      			bcc	.LL1139
23977                        	
23978                        		.dbg	line,	"Black_Tiger.c", 76; {
23979                        	
23980                        		.dbg	line,	"Black_Tiger.c", 77; init_TITLE();
23981                        		__call		_init_TITLE
         1F:C591  20 05 FE   			call	_init_TITLE
23982                        	
23983                        		.dbg	line,	"Black_Tiger.c", 79; sequence_loaded = TRUE;
23984                        		__st.umiq	1, _sequence_loaded
         1F:C594  A9 01      			lda.l	#1
         1F:C596  8D 16 23   			sta	_sequence_loaded
23985                        	
23986                        		.dbg	line,	"Black_Tiger.c", 80; }
23987                        	
23988                        		.dbg	line,	"Black_Tiger.c", 82; else
23989                        		__bra		.LL1140
         1F:C599  80 E7      			bra	.LL1140
23990    1F:C59B             	.LL1139:
23991                        	
23992                        		.dbg	line,	"Black_Tiger.c", 83; {
23993                        	
23994                        		.dbg	line,	"Black_Tiger.c", 84; vsync();
23995                        		__call		_vsync
         1F:C59B  20 1D E3   			call	_vsync
23996                        	
23997                        		.dbg	line,	"Black_Tiger.c", 86; joypad_BUTTONS_TITLE();
23998                        		__call		_joypad_BUTTONS_TITLE
         1F:C59E  20 FB FD   			call	_joypad_BUTTONS_TITLE
23999                        	
24000                        		.dbg	line,	"Black_Tiger.c", 87; 
24001                        	
24002                        		.dbg	line,	"Black_Tiger.c", 88; satb_update();
24003                        		__call		_satb_update
         1F:C5A1  20 C3 FE   			call	_satb_update
24004                        	
24005                        		.dbg	line,	"Black_Tiger.c", 89; }
24006    1F:C5A4             	.LL1140	.alias		.LL1137
24007                        	
24008                        		.dbg	line,	"Black_Tiger.c", 91; break;
24009                        		__bra		.LL1137
         1F:C5A4  80 DC      			bra	.LL1137
24010                        	
24011                        		.dbg	line,	"Black_Tiger.c", 94; //-----------------------------------------------------------------------------//
24012                        	
24013                        		.dbg	line,	"Black_Tiger.c", 95; //                                    INTRO                                    //
24014                        	
24015                        		.dbg	line,	"Black_Tiger.c", 96; //-----------------------------------------------------------------------------//
24016                        	
24017                        		.dbg	line,	"Black_Tiger.c", 97; case SEQUENCE_INTRO:
24018    1F:C5A6             	.LL1141:
24019                        		__case		1
24020                        	
24021                        		.dbg	line,	"Black_Tiger.c", 98; if(sequence_loaded == FALSE)
24022                        		__not.um	_sequence_loaded
         1F:C5A6  AD 16 23   			lda	_sequence_loaded
         1F:C5A9  18         			clc
         1F:C5AA  D0 01      			bne	!+
         1F:C5AC  38         			sec
         1F:C5AD             	!:
24023                        		__bfalse	.LL1142
         1F:C5AD  90 0A      			bcc	.LL1142
24024                        	
24025                        		.dbg	line,	"Black_Tiger.c", 99; {
24026                        	
24027                        		.dbg	line,	"Black_Tiger.c", 100; init_INTRO();
24028                        		__call		_init_INTRO
         1F:C5AF  20 F1 FD   			call	_init_INTRO
24029                        	
24030                        		.dbg	line,	"Black_Tiger.c", 102; sequence_loaded = TRUE;
24031                        		__st.umiq	1, _sequence_loaded
         1F:C5B2  A9 01      			lda.l	#1
         1F:C5B4  8D 16 23   			sta	_sequence_loaded
24032                        	
24033                        		.dbg	line,	"Black_Tiger.c", 103; }
24034                        	
24035                        		.dbg	line,	"Black_Tiger.c", 105; else
24036                        		__bra		.LL1143
         1F:C5B7  80 C9      			bra	.LL1143
24037    1F:C5B9             	.LL1142:
24038                        	
24039                        		.dbg	line,	"Black_Tiger.c", 106; {
24040                        	
24041                        		.dbg	line,	"Black_Tiger.c", 107; vsync();
24042                        		__call		_vsync
         1F:C5B9  20 1D E3   			call	_vsync
24043                        	
24044                        		.dbg	line,	"Black_Tiger.c", 109; //put_number(vdc_map_pxl_x,3,0,0);
24045                        	
24046                        		.dbg	line,	"Black_Tiger.c", 110; sequence_INTRO();
24047                        		__call		_sequence_INTRO
         1F:C5BC  20 E7 FD   			call	_sequence_INTRO
24048                        	
24049                        		.dbg	line,	"Black_Tiger.c", 111; 
24050                        	
24051                        		.dbg	line,	"Black_Tiger.c", 112; joypad_BUTTONS_INTRO();
24052                        		__call		_joypad_BUTTONS_INTRO
         1F:C5BF  20 DD FD   			call	_joypad_BUTTONS_INTRO
24053                        	
24054                        		.dbg	line,	"Black_Tiger.c", 114; sgx_satb_update();
24055                        		__call		_sgx_satb_update
         1F:C5C2  20 F5 FE   			call	_sgx_satb_update
24056                        	
24057                        		.dbg	line,	"Black_Tiger.c", 115; }
24058    1F:C5C5             	.LL1143	.alias		.LL1137
24059                        	
24060                        		.dbg	line,	"Black_Tiger.c", 117; break;
24061                        		__bra		.LL1137
         1F:C5C5  80 BB      			bra	.LL1137
24062                        	
24063                        		.dbg	line,	"Black_Tiger.c", 120; //-----------------------------------------------------------------------------//
24064                        	
24065                        		.dbg	line,	"Black_Tiger.c", 121; //                                    LEVEL                                    //
24066                        	
24067                        		.dbg	line,	"Black_Tiger.c", 122; //-----------------------------------------------------------------------------//
24068                        	
24069                        		.dbg	line,	"Black_Tiger.c", 123; case SEQUENCE_LEVEL:
24070    1F:C5C7             	.LL1144:
24071                        		__case		2
24072                        	
24073                        		.dbg	line,	"Black_Tiger.c", 124; switch(level_id)
24074                        		__ld.umq	_level_id
         1F:C5C7  AD 17 23   			lda	_level_id
24075                        		__bra		.LL1145
         1F:C5CA  4C 92 C6   			bra	.LL1145
24076                        	
24077                        		.dbg	line,	"Black_Tiger.c", 125; {
24078                        	
24079                        		.dbg	line,	"Black_Tiger.c", 126; case 1:
24080    1F:C5CD             	.LL1147:
24081                        		__case		1
24082                        	
24083                        		.dbg	line,	"Black_Tiger.c", 127; if(sequence_loaded == FALSE)
24084                        		__not.um	_sequence_loaded
         1F:C5CD  AD 16 23   			lda	_sequence_loaded
         1F:C5D0  18         			clc
         1F:C5D1  D0 01      			bne	!+
         1F:C5D3  38         			sec
         1F:C5D4             	!:
24085                        		__bfalse	.LL1148
         1F:C5D4  90 0A      			bcc	.LL1148
24086                        	
24087                        		.dbg	line,	"Black_Tiger.c", 128; {
24088                        	
24089                        		.dbg	line,	"Black_Tiger.c", 129; init_LEVEL();
24090                        		__call		_init_LEVEL
         1F:C5D6  20 D3 FD   			call	_init_LEVEL
24091                        	
24092                        		.dbg	line,	"Black_Tiger.c", 131; sequence_loaded = TRUE;
24093                        		__st.umiq	1, _sequence_loaded
         1F:C5D9  A9 01      			lda.l	#1
         1F:C5DB  8D 16 23   			sta	_sequence_loaded
24094                        	
24095                        		.dbg	line,	"Black_Tiger.c", 132; }
24096                        	
24097                        		.dbg	line,	"Black_Tiger.c", 134; else
24098                        		__bra		.LL1149
         1F:C5DE  80 A2      			bra	.LL1149
24099    1F:C5E0             	.LL1148:
24100                        	
24101                        		.dbg	line,	"Black_Tiger.c", 135; {
24102                        	
24103                        		.dbg	line,	"Black_Tiger.c", 136; //
24104                        	
24105                        		.dbg	line,	"Black_Tiger.c", 137; while(display_level_text == TRUE)
24106    1F:C5E0             	.LL1150:
24107                        		__ld.umq	_display_level_text
         1F:C5E0  AD 18 23   			lda	_display_level_text
24108                        		__equ_b.uiq	1
         1F:C5E3  C9 01      			cmp	#1
         1F:C5E5  F0 01      			beq	!+
         1F:C5E7  18         			clc
         1F:C5E8             	!:
24109                        		__bfalse	.LL1151
         1F:C5E8  90 60      			bcc	.LL1151
24110                        	
24111                        		.dbg	line,	"Black_Tiger.c", 138; {
24112                        	
24113                        		.dbg	line,	"Black_Tiger.c", 139; vsync();
24114                        		__call		_vsync
         1F:C5EA  20 1D E3   			call	_vsync
24115                        	
24116                        		.dbg	line,	"Black_Tiger.c", 140; 
24117                        	
24118                        		.dbg	line,	"Black_Tiger.c", 141; global_counter += 1;
24119                        		__add_st.wmiq	1, _global_counter
         1F:C5ED  EE 5B 26   			inc.l	_global_counter
         1F:C5F0  D0 03      			bne	!+
         1F:C5F2  EE 5C 26   			inc.h	_global_counter
         1F:C5F5             	!:
24120                        	
24121                        		.dbg	line,	"Black_Tiger.c", 143; if(global_counter == 120)
24122                        		__ld.wm		_global_counter
         1F:C5F5  AD 5B 26   			lda.l	_global_counter
         1F:C5F8  AC 5C 26   			ldy.h	_global_counter
24123                        		__equ_w.wi	120
         1F:C5FB  C9 78      			cmp.l	#120
         1F:C5FD  D0 04      			bne	!false+
         1F:C5FF  C0 00      			cpy.h	#120
         1F:C601  F0 01      			beq	!+
         1F:C603  18         	!false:		clc
         1F:C604             	!:
24124                        		__bfalse	.LL1152
         1F:C604  90 DA      			bcc	.LL1152
24125                        	
24126                        		.dbg	line,	"Black_Tiger.c", 144; {
24127                        	
24128                        		.dbg	line,	"Black_Tiger.c", 145; put_string("       ",13, 8);
24129                        		__ld.wi		__const1+99
         1F:C606  A9 63      			lda.l	#__const1+99
         1F:C608  A0 60      			ldy.h	#__const1+99
24130                        		__st.wmq	_bp
         1F:C60A  85 EC      			sta.l	_bp
         1F:C60C  84 ED      			sty.h	_bp
24131                        		__st.umiq	13, _dil
         1F:C60E  A9 0D      			lda.l	#13
         1F:C610  85 F0      			sta	_dil
24132                        		__st.umiq	8, _dih
         1F:C612  A9 08      			lda.l	#8
         1F:C614  85 F1      			sta	_dih
24133                        		__call		_put_string.3
         1F:C616  20 5F E6   			call	_put_string.3
24134                        	
24135                        		.dbg	line,	"Black_Tiger.c", 146; put_string("              ",10,13);
24136                        		__ld.wi		__const1+107
         1F:C619  A9 6B      			lda.l	#__const1+107
         1F:C61B  A0 60      			ldy.h	#__const1+107
24137                        		__st.wmq	_bp
         1F:C61D  85 EC      			sta.l	_bp
         1F:C61F  84 ED      			sty.h	_bp
24138                        		__st.umiq	10, _dil
         1F:C621  A9 0A      			lda.l	#10
         1F:C623  85 F0      			sta	_dil
24139                        		__st.umiq	13, _dih
         1F:C625  A9 0D      			lda.l	#13
         1F:C627  85 F1      			sta	_dih
24140                        		__call		_put_string.3
         1F:C629  20 5F E6   			call	_put_string.3
24141                        	
24142                        		.dbg	line,	"Black_Tiger.c", 147; put_string("            ",11,15);
24143                        		__ld.wi		__const1+122
         1F:C62C  A9 7A      			lda.l	#__const1+122
         1F:C62E  A0 60      			ldy.h	#__const1+122
24144                        		__st.wmq	_bp
         1F:C630  85 EC      			sta.l	_bp
         1F:C632  84 ED      			sty.h	_bp
24145                        		__st.umiq	11, _dil
         1F:C634  A9 0B      			lda.l	#11
         1F:C636  85 F0      			sta	_dil
24146                        		__st.umiq	15, _dih
         1F:C638  A9 0F      			lda.l	#15
         1F:C63A  85 F1      			sta	_dih
24147                        		__call		_put_string.3
         1F:C63C  20 5F E6   			call	_put_string.3
24148                        	
24149                        		.dbg	line,	"Black_Tiger.c", 148; 
24150                        	
24151                        		.dbg	line,	"Black_Tiger.c", 149; global_counter = 0;
24152                        		__st.wmiq	0, _global_counter
         1F:C63F  9C 5B 26   			stz.l	_global_counter
         1F:C642  9C 5C 26   			stz.h	_global_counter
24153                        	
24154                        		.dbg	line,	"Black_Tiger.c", 151; display_level_text = FALSE;
24155                        		__st.umiq	0, _display_level_text
         1F:C645  9C 18 23   			stz	_display_level_text
24156                        	
24157                        		.dbg	line,	"Black_Tiger.c", 152; }
24158                        	
24159                        		.dbg	line,	"Black_Tiger.c", 153; }
24160    1F:C648             	.LL1152	.alias		.LL1150
24161                        		__bra		.LL1150
         1F:C648  80 96      			bra	.LL1150
24162    1F:C64A             	.LL1151:
24163                        	
24164                        		.dbg	line,	"Black_Tiger.c", 155; vsync();
24165                        		__call		_vsync
         1F:C64A  20 1D E3   			call	_vsync
24166                        	
24167                        		.dbg	line,	"Black_Tiger.c", 157; update_PLAYER();
24168                        		__call		_update_PLAYER
         1F:C64D  20 C9 FD   			call	_update_PLAYER
24169                        	
24170                        		.dbg	line,	"Black_Tiger.c", 158; update_WEAPON();
24171                        		__call		_update_WEAPON
         1F:C650  20 BF FD   			call	_update_WEAPON
24172                        	
24173                        		.dbg	line,	"Black_Tiger.c", 160; //put_number(fall_ladder,1,0,5);
24174                        	
24175                        		.dbg	line,	"Black_Tiger.c", 161; //put_number(hit_wall,1,0,6);
24176                        	
24177                        		.dbg	line,	"Black_Tiger.c", 162; //put_number(player_index_jump,2,0,7);
24178                        	
24179                        		.dbg	line,	"Black_Tiger.c", 163; //put_number(player_counter_attack,2,0,8);
24180                        	
24181                        		.dbg	line,	"Black_Tiger.c", 165; 
24182                        	
24183                        		.dbg	line,	"Black_Tiger.c", 166; scroll_object();
24184                        		__call		_scroll_object
         1F:C653  20 73 FE   			call	_scroll_object
24185                        	
24186                        		.dbg	line,	"Black_Tiger.c", 167; scroll_chest();
24187                        		__call		_scroll_chest
         1F:C656  20 55 FE   			call	_scroll_chest
24188                        	
24189                        		.dbg	line,	"Black_Tiger.c", 168; scroll_npc();
24190                        		__call		_scroll_npc
         1F:C659  20 B5 FD   			call	_scroll_npc
24191                        	
24192                        		.dbg	line,	"Black_Tiger.c", 170; collision_PLAYER_OBJECT();
24193                        		__call		_collision_PLAYER_OBJECT
         1F:C65C  20 AB FD   			call	_collision_PLAYER_OBJECT
24194                        	
24195                        		.dbg	line,	"Black_Tiger.c", 171; collision_PLAYER_NPC();
24196                        		__call		_collision_PLAYER_NPC
         1F:C65F  20 A1 FD   			call	_collision_PLAYER_NPC
24197                        	
24198                        		.dbg	line,	"Black_Tiger.c", 173; anim_OBJECTS();
24199                        		__call		_anim_OBJECTS
         1F:C662  20 97 FD   			call	_anim_OBJECTS
24200                        	
24201                        		.dbg	line,	"Black_Tiger.c", 175; display_TIME_LEVEL();
24202                        		__call		_display_TIME_LEVEL
         1F:C665  20 FF FE   			call	_display_TIME_LEVEL
24203                        	
24204                        		.dbg	line,	"Black_Tiger.c", 177; satb_update();
24205                        		__call		_satb_update
         1F:C668  20 C3 FE   			call	_satb_update
24206                        	
24207                        		.dbg	line,	"Black_Tiger.c", 178; sgx_satb_update();
24208                        		__call		_sgx_satb_update
         1F:C66B  20 F5 FE   			call	_sgx_satb_update
24209                        	
24210                        		.dbg	line,	"Black_Tiger.c", 180; scroll_BG();
24211                        		__call		_scroll_BG
         1F:C66E  20 8D FD   			call	_scroll_BG
24212                        	
24213                        		.dbg	line,	"Black_Tiger.c", 182; joypad_DIR();
24214                        		__call		_joypad_DIR
         1F:C671  20 83 FD   			call	_joypad_DIR
24215                        	
24216                        		.dbg	line,	"Black_Tiger.c", 183; joypad_BUTTONS();
24217                        		__call		_joypad_BUTTONS
         1F:C674  20 79 FD   			call	_joypad_BUTTONS
24218                        	
24219                        		.dbg	line,	"Black_Tiger.c", 184; }
24220    1F:C677             	.LL1149	.alias		.LL1146
24221                        	
24222                        		.dbg	line,	"Black_Tiger.c", 186; break;
24223                        		__bra		.LL1146
         1F:C677  4C 82 C5   			bra	.LL1146
24224                        	
24225                        		.dbg	line,	"Black_Tiger.c", 189; case 2:
24226    1F:C67A             	.LL1153:
24227                        		__case		2
24228                        	
24229                        		.dbg	line,	"Black_Tiger.c", 190; vsync();
24230                        		__call		_vsync
         1F:C67A  20 1D E3   			call	_vsync
24231                        	
24232                        		.dbg	line,	"Black_Tiger.c", 191; break;
24233                        		__bra		.LL1146
         1F:C67D  4C 82 C5   			bra	.LL1146
24234                        	
24235                        		.dbg	line,	"Black_Tiger.c", 194; case 3:
24236    1F:C680             	.LL1154:
24237                        		__case		3
24238                        	
24239                        		.dbg	line,	"Black_Tiger.c", 195; vsync();
24240                        		__call		_vsync
         1F:C680  20 1D E3   			call	_vsync
24241                        	
24242                        		.dbg	line,	"Black_Tiger.c", 196; break;
24243                        		__bra		.LL1146
         1F:C683  4C 82 C5   			bra	.LL1146
24244                        	
24245                        		.dbg	line,	"Black_Tiger.c", 199; case 4:
24246    1F:C686             	.LL1155:
24247                        		__case		4
24248                        	
24249                        		.dbg	line,	"Black_Tiger.c", 200; vsync();
24250                        		__call		_vsync
         1F:C686  20 1D E3   			call	_vsync
24251                        	
24252                        		.dbg	line,	"Black_Tiger.c", 201; break;
24253                        		__bra		.LL1146
         1F:C689  4C 82 C5   			bra	.LL1146
24254                        	
24255                        		.dbg	line,	"Black_Tiger.c", 204; case 5:
24256    1F:C68C             	.LL1156:
24257                        		__case		5
24258                        	
24259                        		.dbg	line,	"Black_Tiger.c", 205; vsync();
24260                        		__call		_vsync
         1F:C68C  20 1D E3   			call	_vsync
24261                        	
24262                        		.dbg	line,	"Black_Tiger.c", 206; break;
24263                        		__bra		.LL1146
         1F:C68F  4C 82 C5   			bra	.LL1146
24264                        	
24265                        		.dbg	line,	"Black_Tiger.c", 208; }
24266    1F:C692             	.LL1145:
24267                        		__switch_r.ur	0, 5
         1F:C692  C9 06      			cmp	#(5 - 0) + 1
         1F:C694  90 02      			bcc	!found+
         1F:C696  A9 06      	!default:	lda	#(5 - 0) + 1
         1F:C698  0A         	!found:		asl	a
         1F:C699  AA         			tax
         1F:C69A  7C 9D C6   			jmp	[!table+, x]
24268                        	
24269    1F:C69D  82 C5      	!table:		dw	.LL1146, .LL1147, .LL1153, .LL1154, .LL1155, .LL1156
         1F:C69F  CD C5       
         1F:C6A1  7A C6       
         1F:C6A3  80 C6       
         1F:C6A5  86 C6       
         1F:C6A7  8C C6       
24270    1F:C6A9  82 C5      			dw	.LL1146
24271    1F:C6AB             	.LL1146	.alias		.LL1137
24272                        	
24273                        		.dbg	line,	"Black_Tiger.c", 210; break;
24274                        		__bra		.LL1137
         1F:C6AB  4C 82 C5   			bra	.LL1137
24275                        	
24276                        		.dbg	line,	"Black_Tiger.c", 213; //-----------------------------------------------------------------------------//
24277                        	
24278                        		.dbg	line,	"Black_Tiger.c", 214; //                                     NPC                                     //
24279                        	
24280                        		.dbg	line,	"Black_Tiger.c", 215; //-----------------------------------------------------------------------------//
24281                        	
24282                        		.dbg	line,	"Black_Tiger.c", 216; case SEQUENCE_NPC:
24283    1F:C6AE             	.LL1157:
24284                        		__case		3
24285                        	
24286                        		.dbg	line,	"Black_Tiger.c", 217; vsync();
24287                        		__call		_vsync
         1F:C6AE  20 1D E3   			call	_vsync
24288                        	
24289                        		.dbg	line,	"Black_Tiger.c", 218; sequence_NPC();
24290                        		__call		_sequence_NPC
         1F:C6B1  20 6F FD   			call	_sequence_NPC
24291                        	
24292                        		.dbg	line,	"Black_Tiger.c", 219; break;
24293                        		__bra		.LL1137
         1F:C6B4  4C 82 C5   			bra	.LL1137
24294                        	
24295                        		.dbg	line,	"Black_Tiger.c", 222; //-----------------------------------------------------------------------------//
24296                        	
24297                        		.dbg	line,	"Black_Tiger.c", 223; //                                    SHOP                                     //
24298                        	
24299                        		.dbg	line,	"Black_Tiger.c", 224; //-----------------------------------------------------------------------------//
24300                        	
24301                        		.dbg	line,	"Black_Tiger.c", 225; case SEQUENCE_SHOP:
24302    1F:C6B7             	.LL1158:
24303                        		__case		4
24304                        	
24305                        		.dbg	line,	"Black_Tiger.c", 226; if(sequence_loaded == FALSE)
24306                        		__not.um	_sequence_loaded
         1F:C6B7  AD 16 23   			lda	_sequence_loaded
         1F:C6BA  18         			clc
         1F:C6BB  D0 01      			bne	!+
         1F:C6BD  38         			sec
         1F:C6BE             	!:
24307                        		__bfalse	.LL1159
         1F:C6BE  90 0B      			bcc	.LL1159
24308                        	
24309                        		.dbg	line,	"Black_Tiger.c", 227; {
24310                        	
24311                        		.dbg	line,	"Black_Tiger.c", 228; init_SHOP();
24312                        		__call		_init_SHOP
         1F:C6C0  20 65 FD   			call	_init_SHOP
24313                        	
24314                        		.dbg	line,	"Black_Tiger.c", 230; sequence_loaded = TRUE;
24315                        		__st.umiq	1, _sequence_loaded
         1F:C6C3  A9 01      			lda.l	#1
         1F:C6C5  8D 16 23   			sta	_sequence_loaded
24316                        	
24317                        		.dbg	line,	"Black_Tiger.c", 231; }
24318                        	
24319                        		.dbg	line,	"Black_Tiger.c", 232; 
24320                        	
24321                        		.dbg	line,	"Black_Tiger.c", 233; else
24322                        		__bra		.LL1160
         1F:C6C8  4C 82 C5   			bra	.LL1160
24323    1F:C6CB             	.LL1159:
24324                        	
24325                        		.dbg	line,	"Black_Tiger.c", 234; {
24326                        	
24327                        		.dbg	line,	"Black_Tiger.c", 235; switch(shop_phase)
24328                        		__ld.umq	_shop_phase
         1F:C6CB  AD FE 23   			lda	_shop_phase
24329                        		__bra		.LL1161
         1F:C6CE  4C B1 C7   			bra	.LL1161
24330                        	
24331                        		.dbg	line,	"Black_Tiger.c", 236; {
24332                        	
24333                        		.dbg	line,	"Black_Tiger.c", 237; case SHOP_PHASE_ENTER:
24334    1F:C6D1             	.LL1163:
24335                        		__case		0
24336                        	
24337                        		.dbg	line,	"Black_Tiger.c", 238; vsync();
24338                        		__call		_vsync
         1F:C6D1  20 1D E3   			call	_vsync
24339                        	
24340                        		.dbg	line,	"Black_Tiger.c", 240; if(shop_counter == 0)
24341                        		__not.um	_shop_counter
         1F:C6D4  AD FF 23   			lda	_shop_counter
         1F:C6D7  18         			clc
         1F:C6D8  D0 01      			bne	!+
         1F:C6DA  38         			sec
         1F:C6DB             	!:
24342                        		__bfalse	.LL1164
         1F:C6DB  90 28      			bcc	.LL1164
24343                        	
24344                        		.dbg	line,	"Black_Tiger.c", 241; {
24345                        	
24346                        		.dbg	line,	"Black_Tiger.c", 242; put_string("Maybe, i can sell you" ,  2 , 15);
24347                        		__ld.wi		__const1+135
         1F:C6DD  A9 87      			lda.l	#__const1+135
         1F:C6DF  A0 60      			ldy.h	#__const1+135
24348                        		__st.wmq	_bp
         1F:C6E1  85 EC      			sta.l	_bp
         1F:C6E3  84 ED      			sty.h	_bp
24349                        		__st.umiq	2, _dil
         1F:C6E5  A9 02      			lda.l	#2
         1F:C6E7  85 F0      			sta	_dil
24350                        		__st.umiq	15, _dih
         1F:C6E9  A9 0F      			lda.l	#15
         1F:C6EB  85 F1      			sta	_dih
24351                        		__call		_put_string.3
         1F:C6ED  20 5F E6   			call	_put_string.3
24352                        	
24353                        		.dbg	line,	"Black_Tiger.c", 243; put_string("something..." , 18 , 16);
24354                        		__ld.wi		__const1+157
         1F:C6F0  A9 9D      			lda.l	#__const1+157
         1F:C6F2  A0 60      			ldy.h	#__const1+157
24355                        		__st.wmq	_bp
         1F:C6F4  85 EC      			sta.l	_bp
         1F:C6F6  84 ED      			sty.h	_bp
24356                        		__st.umiq	18, _dil
         1F:C6F8  A9 12      			lda.l	#18
         1F:C6FA  85 F0      			sta	_dil
24357                        		__st.umiq	16, _dih
         1F:C6FC  A9 10      			lda.l	#16
         1F:C6FE  85 F1      			sta	_dih
24358                        		__call		_put_string.3
         1F:C700  20 5F E6   			call	_put_string.3
24359                        	
24360                        		.dbg	line,	"Black_Tiger.c", 244; }
24361                        	
24362                        		.dbg	line,	"Black_Tiger.c", 246; else if(shop_counter == 120)
24363                        		__bra		.LL1165
         1F:C703  80 44      			bra	.LL1165
24364    1F:C705             	.LL1164:
24365                        		__ld.umq	_shop_counter
         1F:C705  AD FF 23   			lda	_shop_counter
24366                        		__equ_b.uiq	120
         1F:C708  C9 78      			cmp	#120
         1F:C70A  F0 01      			beq	!+
         1F:C70C  18         			clc
         1F:C70D             	!:
24367                        		__bfalse	.LL1166
         1F:C70D  90 3A      			bcc	.LL1166
24368                        	
24369                        		.dbg	line,	"Black_Tiger.c", 247; {
24370                        	
24371                        		.dbg	line,	"Black_Tiger.c", 248; put_string("                     " ,  2 , 15);
24372                        		__ld.wi		__const1+170
         1F:C70F  A9 AA      			lda.l	#__const1+170
         1F:C711  A0 60      			ldy.h	#__const1+170
24373                        		__st.wmq	_bp
         1F:C713  85 EC      			sta.l	_bp
         1F:C715  84 ED      			sty.h	_bp
24374                        		__st.umiq	2, _dil
         1F:C717  A9 02      			lda.l	#2
         1F:C719  85 F0      			sta	_dil
24375                        		__st.umiq	15, _dih
         1F:C71B  A9 0F      			lda.l	#15
         1F:C71D  85 F1      			sta	_dih
24376                        		__call		_put_string.3
         1F:C71F  20 5F E6   			call	_put_string.3
24377                        	
24378                        		.dbg	line,	"Black_Tiger.c", 249; put_string("            " , 18 , 16);
24379                        		__ld.wi		__const1+192
         1F:C722  A9 C0      			lda.l	#__const1+192
         1F:C724  A0 60      			ldy.h	#__const1+192
24380                        		__st.wmq	_bp
         1F:C726  85 EC      			sta.l	_bp
         1F:C728  84 ED      			sty.h	_bp
24381                        		__st.umiq	18, _dil
         1F:C72A  A9 12      			lda.l	#18
         1F:C72C  85 F0      			sta	_dil
24382                        		__st.umiq	16, _dih
         1F:C72E  A9 10      			lda.l	#16
         1F:C730  85 F1      			sta	_dih
24383                        		__call		_put_string.3
         1F:C732  20 5F E6   			call	_put_string.3
24384                        	
24385                        		.dbg	line,	"Black_Tiger.c", 251; spr_x(24);
24386                        		__ld.wi		24
         1F:C735  A9 18      			lda.l	#24
         1F:C737  C2         			cly
24387                        		__call		_spr_x.1
         1F:C738  20 1E E8   			call	_spr_x.1
24388                        	
24389                        		.dbg	line,	"Black_Tiger.c", 252; spr_y(144);
24390                        		__ld.wi		144
         1F:C73B  A9 90      			lda.l	#144
         1F:C73D  C2         			cly
24391                        		__call		_spr_y.1
         1F:C73E  20 2D E8   			call	_spr_y.1
24392                        	
24393                        		.dbg	line,	"Black_Tiger.c", 253; satb_update();
24394                        		__call		_satb_update
         1F:C741  20 C3 FE   			call	_satb_update
24395                        	
24396                        		.dbg	line,	"Black_Tiger.c", 255; shop_phase = SHOP_PHASE_BUY;
24397                        		__st.umiq	1, _shop_phase
         1F:C744  A9 01      			lda.l	#1
         1F:C746  8D FE 23   			sta	_shop_phase
24398                        	
24399                        		.dbg	line,	"Black_Tiger.c", 256; }
24400                        	
24401                        		.dbg	line,	"Black_Tiger.c", 258; shop_counter++;
24402    1F:C749             	.LL1166:
24403    1F:C749             	.LL1165:
24404                        		__inc.umq	_shop_counter
         1F:C749  EE FF 23   			inc	_shop_counter
24405                        	
24406                        		.dbg	line,	"Black_Tiger.c", 260; break;
24407                        		__bra		.LL1162
         1F:C74C  4C 82 C5   			bra	.LL1162
24408                        	
24409                        		.dbg	line,	"Black_Tiger.c", 261; 
24410                        	
24411                        		.dbg	line,	"Black_Tiger.c", 263; case SHOP_PHASE_BUY:
24412    1F:C74F             	.LL1167:
24413                        		__case		1
24414                        	
24415                        		.dbg	line,	"Black_Tiger.c", 264; vsync();
24416                        		__call		_vsync
         1F:C74F  20 1D E3   			call	_vsync
24417                        	
24418                        		.dbg	line,	"Black_Tiger.c", 266; joypad_BUTTONS_SHOP();
24419                        		__call		_joypad_BUTTONS_SHOP
         1F:C752  20 5B FD   			call	_joypad_BUTTONS_SHOP
24420                        	
24421                        		.dbg	line,	"Black_Tiger.c", 267; display_TIME_SHOP();
24422                        		__call		_display_TIME_SHOP
         1F:C755  20 51 FD   			call	_display_TIME_SHOP
24423                        	
24424                        		.dbg	line,	"Black_Tiger.c", 268; satb_update();
24425                        		__call		_satb_update
         1F:C758  20 C3 FE   			call	_satb_update
24426                        	
24427                        		.dbg	line,	"Black_Tiger.c", 270; break;
24428                        		__bra		.LL1162
         1F:C75B  4C 82 C5   			bra	.LL1162
24429                        	
24430                        		.dbg	line,	"Black_Tiger.c", 273; case SHOP_PHASE_EXIT:
24431    1F:C75E             	.LL1168:
24432                        		__case		2
24433                        	
24434                        		.dbg	line,	"Black_Tiger.c", 274; vsync();
24435                        		__call		_vsync
         1F:C75E  20 1D E3   			call	_vsync
24436                        	
24437                        		.dbg	line,	"Black_Tiger.c", 276; if(shop_counter == 0)
24438                        		__not.um	_shop_counter
         1F:C761  AD FF 23   			lda	_shop_counter
         1F:C764  18         			clc
         1F:C765  D0 01      			bne	!+
         1F:C767  38         			sec
         1F:C768             	!:
24439                        		__bfalse	.LL1169
         1F:C768  90 1F      			bcc	.LL1169
24440                        	
24441                        		.dbg	line,	"Black_Tiger.c", 277; {
24442                        	
24443                        		.dbg	line,	"Black_Tiger.c", 278; put_string("GOOD LUCK!" , 11 , 16);
24444                        		__ld.wi		__const1+205
         1F:C76A  A9 CD      			lda.l	#__const1+205
         1F:C76C  A0 60      			ldy.h	#__const1+205
24445                        		__st.wmq	_bp
         1F:C76E  85 EC      			sta.l	_bp
         1F:C770  84 ED      			sty.h	_bp
24446                        		__st.umiq	11, _dil
         1F:C772  A9 0B      			lda.l	#11
         1F:C774  85 F0      			sta	_dil
24447                        		__st.umiq	16, _dih
         1F:C776  A9 10      			lda.l	#16
         1F:C778  85 F1      			sta	_dih
24448                        		__call		_put_string.3
         1F:C77A  20 5F E6   			call	_put_string.3
24449                        	
24450                        		.dbg	line,	"Black_Tiger.c", 280; // HIDE CURSOR //
24451                        	
24452                        		.dbg	line,	"Black_Tiger.c", 281; spr_set(0);
24453                        		__ld.uiq	0
         1F:C77D  62         			cla
24454                        		__call		_spr_set.1
         1F:C77E  20 F1 E7   			call	_spr_set.1
24455                        	
24456                        		.dbg	line,	"Black_Tiger.c", 282; spr_hide();
24457                        		__call		_spr_hide
         1F:C781  20 0C E8   			call	_spr_hide
24458                        	
24459                        		.dbg	line,	"Black_Tiger.c", 283; satb_update();
24460                        		__call		_satb_update
         1F:C784  20 C3 FE   			call	_satb_update
24461                        	
24462                        		.dbg	line,	"Black_Tiger.c", 284; }
24463                        	
24464                        		.dbg	line,	"Black_Tiger.c", 286; else if(shop_counter == 120)
24465                        		__bra		.LL1170
         1F:C787  80 22      			bra	.LL1170
24466    1F:C789             	.LL1169:
24467                        		__ld.umq	_shop_counter
         1F:C789  AD FF 23   			lda	_shop_counter
24468                        		__equ_b.uiq	120
         1F:C78C  C9 78      			cmp	#120
         1F:C78E  F0 01      			beq	!+
         1F:C790  18         			clc
         1F:C791             	!:
24469                        		__bfalse	.LL1171
         1F:C791  90 18      			bcc	.LL1171
24470                        	
24471                        		.dbg	line,	"Black_Tiger.c", 287; {
24472                        	
24473                        		.dbg	line,	"Black_Tiger.c", 288; disp_off();
24474                        		__call		_disp_off
         1F:C793  20 3D E4   			call	_disp_off
24475                        	
24476                        		.dbg	line,	"Black_Tiger.c", 290; // REINIT PLAYER //
24477                        	
24478                        		.dbg	line,	"Black_Tiger.c", 291; init_PLAYER();
24479                        		__call		_init_PLAYER
         1F:C796  20 0F FE   			call	_init_PLAYER
24480                        	
24481                        		.dbg	line,	"Black_Tiger.c", 293; shop_phase = SHOP_PHASE_EXIT;
24482                        		__st.umiq	2, _shop_phase
         1F:C799  A9 02      			lda.l	#2
         1F:C79B  8D FE 23   			sta	_shop_phase
24483                        	
24484                        		.dbg	line,	"Black_Tiger.c", 294; respawn = RESPAWN_SHOP;
24485                        		__st.umiq	2, _respawn
         1F:C79E  A9 02      			lda.l	#2
         1F:C7A0  8D 19 23   			sta	_respawn
24486                        	
24487                        		.dbg	line,	"Black_Tiger.c", 295; sequence_loaded = FALSE;
24488                        		__st.umiq	0, _sequence_loaded
         1F:C7A3  9C 16 23   			stz	_sequence_loaded
24489                        	
24490                        		.dbg	line,	"Black_Tiger.c", 296; sequence_id = SEQUENCE_LEVEL;
24491                        		__st.umiq	2, _sequence_id
         1F:C7A6  A9 02      			lda.l	#2
         1F:C7A8  8D 15 23   			sta	_sequence_id
24492                        	
24493                        		.dbg	line,	"Black_Tiger.c", 297; }
24494                        	
24495                        		.dbg	line,	"Black_Tiger.c", 299; shop_counter++;
24496    1F:C7AB             	.LL1171:
24497    1F:C7AB             	.LL1170:
24498                        		__inc.umq	_shop_counter
         1F:C7AB  EE FF 23   			inc	_shop_counter
24499                        	
24500                        		.dbg	line,	"Black_Tiger.c", 301; break;
24501                        		__bra		.LL1162
         1F:C7AE  4C 82 C5   			bra	.LL1162
24502                        	
24503                        		.dbg	line,	"Black_Tiger.c", 302; }
24504    1F:C7B1             	.LL1161:
24505                        		__switch_r.ur	0, 2
         1F:C7B1  C9 03      			cmp	#(2 - 0) + 1
         1F:C7B3  90 02      			bcc	!found+
         1F:C7B5  A9 03      	!default:	lda	#(2 - 0) + 1
         1F:C7B7  0A         	!found:		asl	a
         1F:C7B8  AA         			tax
         1F:C7B9  7C BC C7   			jmp	[!table+, x]
24506                        	
24507    1F:C7BC  D1 C6      	!table:		dw	.LL1163, .LL1167, .LL1168
         1F:C7BE  4F C7       
         1F:C7C0  5E C7       
24508    1F:C7C2  82 C5      			dw	.LL1162
24509    1F:C7C4             	.LL1162	.alias		.LL1137
24510                        	
24511                        		.dbg	line,	"Black_Tiger.c", 303; }
24512    1F:C7C4             	.LL1160	.alias		.LL1137
24513                        	
24514                        		.dbg	line,	"Black_Tiger.c", 305; break;
24515                        		__bra		.LL1137
         1F:C7C4  4C 82 C5   			bra	.LL1137
24516                        	
24517                        		.dbg	line,	"Black_Tiger.c", 306; }
24518    1F:C7C7             	.LL1136:
24519                        		__switch_r.ur	0, 4
         1F:C7C7  C9 05      			cmp	#(4 - 0) + 1
         1F:C7C9  90 02      			bcc	!found+
         1F:C7CB  A9 05      	!default:	lda	#(4 - 0) + 1
         1F:C7CD  0A         	!found:		asl	a
         1F:C7CE  AA         			tax
         1F:C7CF  7C D2 C7   			jmp	[!table+, x]
24520                        	
24521    1F:C7D2  88 C5      	!table:		dw	.LL1138, .LL1141, .LL1144, .LL1157, .LL1158
         1F:C7D4  A6 C5       
         1F:C7D6  C7 C5       
         1F:C7D8  AE C6       
         1F:C7DA  B7 C6       
24522    1F:C7DC  82 C5      			dw	.LL1137
24523    1F:C7DE             	.LL1137	.alias		.LL1134
24524                        	
24525                        		.dbg	line,	"Black_Tiger.c", 307; }
24526                        		__bra		.LL1134
         1F:C7DE  4C 82 C5   			bra	.LL1134
24527    1F:C7E1             	.LL1135:
24528                        	
24529                        		.dbg	line,	"Black_Tiger.c", 308; }
24530    1F:C7E1             	.LL1126:
24531                        		__return	1
         1F:C7E1  AA         			tax
         1F:C7E2  4C EF FF   			jmp	leave_proc
24532                        		.dbg	clear
24533                        		.endp
24534                        		.pceas
24535                        	
24536                        		.dbg	clear
24537               6000     		.rodata
24538    01:6000             	__const1:
24539    01:6000  53 54 41 52			db	'S','T','A','R','T',' ','G','A'
         01:6004  54 20 47 41 
24540    01:6008  4D 45 00 4C			db	'M','E',$00,'L','I','F','E',$00
         01:600C  49 46 45 00 
24541    01:6010  43 52 45 44			db	'C','R','E','D','I','T','S',$00
         01:6014  49 54 53 00 
24542    01:6018  43 41 50 43			db	'C','A','P','C','O','M',' ','1'
         01:601C  4F 4D 20 31 
24543    01:6020  39 38 37 00			db	'9','8','7',$00,'R','O','U','N'
         01:6024  52 4F 55 4E 
24544    01:6028  44 00 52 45			db	'D',$00,'R','E','A','D','Y',' '
         01:602C  41 44 59 20 
24545    01:6030  50 4C 41 59			db	'P','L','A','Y','E','R',' ','1'
         01:6034  45 52 20 31 
24546    01:6038  00 53 41 56			db	$00,'S','A','V','E',' ',' ',' '
         01:603C  45 20 20 20 
24547    01:6040  4C 49 56 45			db	'L','I','V','E','S',$00,'H','a'
         01:6044  53 00 48 61 
24548    01:6048  6C 74 3A 20			db	'l','t',':',' ','S','G','X',' '
         01:604C  53 47 58 20 
24549    01:6050  68 61 72 64			db	'h','a','r','d','w','a','r','e'
         01:6054  77 61 72 65 
24550    01:6058  20 6E 6F 74			db	' ','n','o','t',' ','f','o','u'
         01:605C  20 66 6F 75 
24551    01:6060  6E 64 00 20			db	'n','d',$00,' ',' ',' ',' ',' '
         01:6064  20 20 20 20 
24552    01:6068  20 20 00 20			db	' ',' ',$00,' ',' ',' ',' ',' '
         01:606C  20 20 20 20 
24553    01:6070  20 20 20 20			db	' ',' ',' ',' ',' ',' ',' ',' '
         01:6074  20 20 20 20 
24554    01:6078  20 00 20 20			db	' ',$00,' ',' ',' ',' ',' ',' '
         01:607C  20 20 20 20 
24555    01:6080  20 20 20 20			db	' ',' ',' ',' ',' ',' ',$00,'M'
         01:6084  20 20 00 4D 
24556    01:6088  61 79 62 65			db	'a','y','b','e',',',' ','i',' '
         01:608C  2C 20 69 20 
24557    01:6090  63 61 6E 20			db	'c','a','n',' ','s','e','l','l'
         01:6094  73 65 6C 6C 
24558    01:6098  20 79 6F 75			db	' ','y','o','u',$00,'s','o','m'
         01:609C  00 73 6F 6D 
24559    01:60A0  65 74 68 69			db	'e','t','h','i','n','g','.','.'
         01:60A4  6E 67 2E 2E 
24560    01:60A8  2E 00 20 20			db	'.',$00,' ',' ',' ',' ',' ',' '
         01:60AC  20 20 20 20 
24561    01:60B0  20 20 20 20			db	' ',' ',' ',' ',' ',' ',' ',' '
         01:60B4  20 20 20 20 
24562    01:60B8  20 20 20 20			db	' ',' ',' ',' ',' ',' ',' ',$00
         01:60BC  20 20 20 00 
24563    01:60C0  20 20 20 20			db	' ',' ',' ',' ',' ',' ',' ',' '
         01:60C4  20 20 20 20 
24564    01:60C8  20 20 20 20			db	' ',' ',' ',' ',$00,'G','O','O'
         01:60CC  00 47 4F 4F 
24565    01:60D0  44 20 4C 55			db	'D',' ','L','U','C','K','!',$00
         01:60D4  43 4B 21 00 
24566    01:60D8             	_TABLE_INTRO_TEXT:
24567    01:60D8  4C 6F 6E 67			db	"Long Long ago, three dragonsdescended from skies above  with a rolling thunder and  destroyed a kingdom into    darkness.                   From lengthy suffering and  darkness of the kingdom     came one brave fighter.    "
         01:60DC  20 4C 6F 6E 
         01:60E0  67 20 61 67 
         01:60E4  6F 2C 20 74 
         01:60E8  68 72 65 65 
         01:60EC  20 64 72 61 
         01:60F0  67 6F 6E 73 
         01:60F4  64 65 73 63 
         01:60F8  65 6E 64 65 
         01:60FC  64 20 66 72 
         01:6100  6F 6D 20 73 
         01:6104  6B 69 65 73 
         01:6108  20 61 62 6F 
         01:610C  76 65 20 20 
         01:6110  77 69 74 68 
         01:6114  20 61 20 72 
         01:6118  6F 6C 6C 69 
         01:611C  6E 67 20 74 
         01:6120  68 75 6E 64 
         01:6124  65 72 20 61 
         01:6128  6E 64 20 20 
         01:612C  64 65 73 74 
         01:6130  72 6F 79 65 
         01:6134  64 20 61 20 
         01:6138  6B 69 6E 67 
         01:613C  64 6F 6D 20 
         01:6140  69 6E 74 6F 
         01:6144  20 20 20 20 
         01:6148  64 61 72 6B 
         01:614C  6E 65 73 73 
         01:6150  2E 20 20 20 
         01:6154  20 20 20 20 
         01:6158  20 20 20 20 
         01:615C  20 20 20 20 
         01:6160  20 20 20 20 
         01:6164  46 72 6F 6D 
         01:6168  20 6C 65 6E 
         01:616C  67 74 68 79 
         01:6170  20 73 75 66 
         01:6174  66 65 72 69 
         01:6178  6E 67 20 61 
         01:617C  6E 64 20 20 
         01:6180  64 61 72 6B 
         01:6184  6E 65 73 73 
         01:6188  20 6F 66 20 
         01:618C  74 68 65 20 
         01:6190  6B 69 6E 67 
         01:6194  64 6F 6D 20 
         01:6198  20 20 20 20 
         01:619C  63 61 6D 65 
         01:61A0  20 6F 6E 65 
         01:61A4  20 62 72 61 
         01:61A8  76 65 20 66 
         01:61AC  69 67 68 74 
         01:61B0  65 72 2E 20 
         01:61B4  20 20 20    
24568    01:61B7             	_TABLE_NPC_TYPE_LV1:
24569    01:61B7  00         			db	0
24570    01:61B8  02         			db	2
24571    01:61B9             	_TABLE_NPC_X_POS_REF_LV1:
24572    01:61B9  90 03      			dw	912
24573    01:61BB  D0 04      			dw	1232
24574    01:61BD             	_TABLE_NPC_Y_POS_REF_LV1:
24575    01:61BD  40 02      			dw	576
24576    01:61BF  90 01      			dw	400
24577    01:61C1             	_TABLE_NPC_REWARD_LV1:
24578    01:61C1  64 00      			dw	100
24579    01:61C3  00 00      			dw	0
24580    01:61C5             	_TABLE_OBJECT_TYPE_LV1:
24581    01:61C5  00         			db	0
24582    01:61C6  01         			db	1
24583    01:61C7  01         			db	1
24584    01:61C8  01         			db	1
24585    01:61C9  01         			db	1
24586    01:61CA  01         			db	1
24587    01:61CB  01         			db	1
24588    01:61CC  02         			db	2
24589    01:61CD  01         			db	1
24590    01:61CE  01         			db	1
24591    01:61CF  01         			db	1
24592    01:61D0  01         			db	1
24593    01:61D1  01         			db	1
24594    01:61D2  01         			db	1
24595    01:61D3  01         			db	1
24596    01:61D4  01         			db	1
24597    01:61D5  01         			db	1
24598    01:61D6  01         			db	1
24599    01:61D7  01         			db	1
24600    01:61D8  01         			db	1
24601    01:61D9  01         			db	1
24602    01:61DA  01         			db	1
24603    01:61DB  01         			db	1
24604    01:61DC             	_TABLE_OBJECT_X_POS_REF_LV1:
24605    01:61DC  90 06      			dw	1680
24606    01:61DE  00 05      			dw	1280
24607    01:61E0  C0 05      			dw	1472
24608    01:61E2  A0 05      			dw	1440
24609    01:61E4  90 04      			dw	1168
24610    01:61E6  B0 04      			dw	1200
24611    01:61E8  C0 03      			dw	960
24612    01:61EA  D8 03      			dw	984
24613    01:61EC  50 05      			dw	1360
24614    01:61EE  70 05      			dw	1392
24615    01:61F0  10 06      			dw	1552
24616    01:61F2  90 06      			dw	1680
24617    01:61F4  B0 06      			dw	1712
24618    01:61F6  D0 06      			dw	1744
24619    01:61F8  E0 04      			dw	1248
24620    01:61FA  00 05      			dw	1280
24621    01:61FC  90 04      			dw	1168
24622    01:61FE  10 04      			dw	1040
24623    01:6200  80 02      			dw	640
24624    01:6202  A0 02      			dw	672
24625    01:6204  50 01      			dw	336
24626    01:6206  70 01      			dw	368
24627    01:6208  A0 01      			dw	416
24628    01:620A             	_TABLE_OBJECT_Y_POS_REF_LV1:
24629    01:620A  80 01      			dw	384
24630    01:620C  A0 01      			dw	416
24631    01:620E  E0 01      			dw	480
24632    01:6210  F0 01      			dw	496
24633    01:6212  30 02      			dw	560
24634    01:6214  30 02      			dw	560
24635    01:6216  50 02      			dw	592
24636    01:6218  50 02      			dw	592
24637    01:621A  50 02      			dw	592
24638    01:621C  50 02      			dw	592
24639    01:621E  C0 02      			dw	704
24640    01:6220  D0 02      			dw	720
24641    01:6222  D0 02      			dw	720
24642    01:6224  D0 02      			dw	720
24643    01:6226  E0 02      			dw	736
24644    01:6228  E0 02      			dw	736
24645    01:622A  F0 02      			dw	752
24646    01:622C  50 03      			dw	848
24647    01:622E  70 03      			dw	880
24648    01:6230  70 03      			dw	880
24649    01:6232  80 03      			dw	896
24650    01:6234  80 03      			dw	896
24651    01:6236  80 03      			dw	896
24652    01:6238             	_TABLE_REWARD_TYPE_LV1:
24653    01:6238  63         			db	99
24654    01:6239  04         			db	4
24655    01:623A  08         			db	8
24656    01:623B  08         			db	8
24657    01:623C  04         			db	4
24658    01:623D  09         			db	9
24659    01:623E  09         			db	9
24660    01:623F  63         			db	99
24661    01:6240  04         			db	4
24662    01:6241  00         			db	0
24663    01:6242  09         			db	9
24664    01:6243  00         			db	0
24665    01:6244  04         			db	4
24666    01:6245  09         			db	9
24667    01:6246  04         			db	4
24668    01:6247  09         			db	9
24669    01:6248  08         			db	8
24670    01:6249  09         			db	9
24671    01:624A  08         			db	8
24672    01:624B  09         			db	9
24673    01:624C  04         			db	4
24674    01:624D  08         			db	8
24675    01:624E  04         			db	4
24676    01:624F             	_TABLE_REWARD_VRAM_ADR_LV1:
24677    01:624F  63 00      			dw	99
24678    01:6251  40 6A      			dw	0x6800+64+64+64+64+64+64+64+64+64
24679    01:6253  C0 6A      			dw	0x6800+64+64+64+64+64+64+64+64+64+64+64
24680    01:6255  C0 6A      			dw	0x6800+64+64+64+64+64+64+64+64+64+64+64
24681    01:6257  40 6A      			dw	0x6800+64+64+64+64+64+64+64+64+64
24682    01:6259  00 6B      			dw	0x6800+64+64+64+64+64+64+64+64+64+64+64+64
24683    01:625B  00 6B      			dw	0x6800+64+64+64+64+64+64+64+64+64+64+64+64
24684    01:625D  63 00      			dw	99
24685    01:625F  40 6A      			dw	0x6800+64+64+64+64+64+64+64+64+64
24686    01:6261  40 6D      			dw	0x6800+64+64+64+64+64+64+64+64+64+64+64+64+64+64+64+64+64+64+64+64+64
24687    01:6263  00 6B      			dw	0x6800+64+64+64+64+64+64+64+64+64+64+64+64
24688    01:6265  40 6D      			dw	0x6800+64+64+64+64+64+64+64+64+64+64+64+64+64+64+64+64+64+64+64+64+64
24689    01:6267  40 6A      			dw	0x6800+64+64+64+64+64+64+64+64+64
24690    01:6269  00 6B      			dw	0x6800+64+64+64+64+64+64+64+64+64+64+64+64
24691    01:626B  40 6A      			dw	0x6800+64+64+64+64+64+64+64+64+64
24692    01:626D  00 6B      			dw	0x6800+64+64+64+64+64+64+64+64+64+64+64+64
24693    01:626F  C0 6A      			dw	0x6800+64+64+64+64+64+64+64+64+64+64+64
24694    01:6271  00 6B      			dw	0x6800+64+64+64+64+64+64+64+64+64+64+64+64
24695    01:6273  C0 6A      			dw	0x6800+64+64+64+64+64+64+64+64+64+64+64
24696    01:6275  00 6B      			dw	0x6800+64+64+64+64+64+64+64+64+64+64+64+64
24697    01:6277  40 6A      			dw	0x6800+64+64+64+64+64+64+64+64+64
24698    01:6279  C0 6A      			dw	0x6800+64+64+64+64+64+64+64+64+64+64+64
24699    01:627B  40 6A      			dw	0x6800+64+64+64+64+64+64+64+64+64
24700    01:627D             	_TABLE_CHEST_X_POS_REF_LV1:
24701    01:627D  30 04      			dw	1072
24702    01:627F  30 03      			dw	816
24703    01:6281             	_TABLE_CHEST_Y_POS_REF_LV1:
24704    01:6281  40 03      			dw	832
24705    01:6283  50 03      			dw	848
24706    01:6285             	_TABLE_PLAYER_TILES_ADR:
24707    01:6285  C0 65      			dw	_tiles_SPR_PLAYER_ARMOR
24708    01:6287  C0 77      			dw	_tiles_SPR_PLAYER_NAKED
24709    01:6289             	_TABLE_PLAYER_TILES_BANK:
24710    01:6289  16         			db	^_tiles_SPR_PLAYER_ARMOR
24711    01:628A  17         			db	^_tiles_SPR_PLAYER_NAKED
24712    01:628B             	_TABLE_PLAYER_JUMP_V_GROUND:
24713    01:628B  FB         			db	-5
24714    01:628C  FB         			db	-5
24715    01:628D  FB         			db	-5
24716    01:628E  FB         			db	-5
24717    01:628F  FC         			db	-4
24718    01:6290  FC         			db	-4
24719    01:6291  FC         			db	-4
24720    01:6292  FC         			db	-4
24721    01:6293  FD         			db	-3
24722    01:6294  FD         			db	-3
24723    01:6295  FD         			db	-3
24724    01:6296  FD         			db	-3
24725    01:6297  FE         			db	-2
24726    01:6298  FE         			db	-2
24727    01:6299  FE         			db	-2
24728    01:629A  FE         			db	-2
24729    01:629B  FF         			db	-1
24730    01:629C  FF         			db	-1
24731    01:629D  FF         			db	-1
24732    01:629E  FF         			db	-1
24733    01:629F  00         			db	0
24734    01:62A0  00         			db	0
24735    01:62A1  00         			db	0
24736    01:62A2  00         			db	0
24737    01:62A3  01         			db	1
24738    01:62A4  01         			db	1
24739    01:62A5  01         			db	1
24740    01:62A6  01         			db	1
24741    01:62A7  02         			db	2
24742    01:62A8  02         			db	2
24743    01:62A9  02         			db	2
24744    01:62AA  02         			db	2
24745    01:62AB  03         			db	3
24746    01:62AC  03         			db	3
24747    01:62AD  03         			db	3
24748    01:62AE  03         			db	3
24749    01:62AF  04         			db	4
24750    01:62B0  04         			db	4
24751    01:62B1  04         			db	4
24752    01:62B2  04         			db	4
24753    01:62B3  05         			db	5
24754    01:62B4  05         			db	5
24755    01:62B5  05         			db	5
24756    01:62B6  05         			db	5
24757    01:62B7             	_TABLE_PLAYER_JUMP_D_GROUND:
24758    01:62B7  FB         			db	-5
24759    01:62B8  F8         			db	-8
24760    01:62B9  FC         			db	-4
24761    01:62BA  FC         			db	-4
24762    01:62BB  FD         			db	-3
24763    01:62BC  FD         			db	-3
24764    01:62BD  FD         			db	-3
24765    01:62BE  FD         			db	-3
24766    01:62BF  FE         			db	-2
24767    01:62C0  FE         			db	-2
24768    01:62C1  FE         			db	-2
24769    01:62C2  FE         			db	-2
24770    01:62C3  FF         			db	-1
24771    01:62C4  FF         			db	-1
24772    01:62C5  FF         			db	-1
24773    01:62C6  FF         			db	-1
24774    01:62C7  00         			db	0
24775    01:62C8  00         			db	0
24776    01:62C9  00         			db	0
24777    01:62CA  00         			db	0
24778    01:62CB  01         			db	1
24779    01:62CC  01         			db	1
24780    01:62CD  01         			db	1
24781    01:62CE  01         			db	1
24782    01:62CF  02         			db	2
24783    01:62D0  02         			db	2
24784    01:62D1  02         			db	2
24785    01:62D2  02         			db	2
24786    01:62D3  03         			db	3
24787    01:62D4  03         			db	3
24788    01:62D5  03         			db	3
24789    01:62D6  03         			db	3
24790    01:62D7  04         			db	4
24791    01:62D8  04         			db	4
24792    01:62D9  08         			db	8
24793    01:62DA  05         			db	5
24794    01:62DB             	_TABLE_PLAYER_FALL:
24795    01:62DB  00         			db	0
24796    01:62DC  00         			db	0
24797    01:62DD  00         			db	0
24798    01:62DE  00         			db	0
24799    01:62DF  01         			db	1
24800    01:62E0  01         			db	1
24801    01:62E1  01         			db	1
24802    01:62E2  01         			db	1
24803    01:62E3  02         			db	2
24804    01:62E4  02         			db	2
24805    01:62E5  02         			db	2
24806    01:62E6  02         			db	2
24807    01:62E7  03         			db	3
24808    01:62E8  03         			db	3
24809    01:62E9  03         			db	3
24810    01:62EA  04         			db	4
24811    01:62EB  04         			db	4
24812    01:62EC  04         			db	4
24813    01:62ED  04         			db	4
24814    01:62EE  04         			db	4
24815    01:62EF  05         			db	5
24816    01:62F0             	_TABLE_PLAYER_JUMP_V_LADDER:
24817    01:62F0  FC         			db	-4
24818    01:62F1  FC         			db	-4
24819    01:62F2  FD         			db	-3
24820    01:62F3  FD         			db	-3
24821    01:62F4  FD         			db	-3
24822    01:62F5  FE         			db	-2
24823    01:62F6  FE         			db	-2
24824    01:62F7  FE         			db	-2
24825    01:62F8  FF         			db	-1
24826    01:62F9  FF         			db	-1
24827    01:62FA  FF         			db	-1
24828    01:62FB  FF         			db	-1
24829    01:62FC  FF         			db	-1
24830    01:62FD  00         			db	0
24831    01:62FE  00         			db	0
24832    01:62FF  00         			db	0
24833    01:6300  00         			db	0
24834    01:6301  01         			db	1
24835    01:6302  01         			db	1
24836    01:6303  01         			db	1
24837    01:6304  01         			db	1
24838    01:6305  01         			db	1
24839    01:6306  02         			db	2
24840    01:6307  02         			db	2
24841    01:6308  02         			db	2
24842    01:6309  03         			db	3
24843    01:630A  03         			db	3
24844    01:630B  03         			db	3
24845    01:630C  04         			db	4
24846    01:630D  04         			db	4
24847    01:630E             	_TABLE_WEAPON_TILES_ADR:
24848    01:630E  40 72      			dw	_tiles_SPR_WEAPON_0
24849    01:6310  C0 74      			dw	_tiles_SPR_WEAPON_1
24850    01:6312  40 77      			dw	_tiles_SPR_WEAPON_2
24851    01:6314  C0 79      			dw	_tiles_SPR_WEAPON_3
24852    01:6316  40 7C      			dw	_tiles_SPR_WEAPON_4
24853    01:6318             	_TABLE_WEAPON_TILES_BANK:
24854    01:6318  19         			db	^_tiles_SPR_WEAPON_0
24855    01:6319  19         			db	^_tiles_SPR_WEAPON_1
24856    01:631A  19         			db	^_tiles_SPR_WEAPON_2
24857    01:631B  19         			db	^_tiles_SPR_WEAPON_3
24858    01:631C  19         			db	^_tiles_SPR_WEAPON_4
24859    01:631D             	_TABLE_SHOP_ITEMS_LV1:
24860    01:631D  00         			db	0
24861    01:631E  01         			db	1
24862    01:631F  02         			db	2
24863    01:6320  03         			db	3
24864    01:6321  04         			db	4
24865    01:6322  05         			db	5
24866    01:6323  06         			db	6
24867    01:6324  07         			db	7
24868    01:6325  08         			db	8
24869    01:6326  09         			db	9
24870    01:6327             	_TABLE_SHOP_PRICES_LV1:
24871    01:6327  64 00      			dw	100
24872    01:6329  E8 03      			dw	1000
24873    01:632B  60 09      			dw	2400
24874    01:632D  80 25      			dw	9600
24875    01:632F  1E 00      			dw	30
24876    01:6331  50 00      			dw	80
24877    01:6333  2C 01      			dw	300
24878    01:6335  20 03      			dw	800
24879    01:6337  40 06      			dw	1600
24880    01:6339  96 00      			dw	150
24881    01:633B             	_TABLE_SHOP_ITEMS_TILES_ADR:
24882    01:633B  E0 68      			dw	_tiles_ITEM_WEAPON_2
24883    01:633D  60 69      			dw	_tiles_ITEM_WEAPON_3
24884    01:633F  E0 69      			dw	_tiles_ITEM_WEAPON_4
24885    01:6341  60 6A      			dw	_tiles_ITEM_WEAPON_5
24886    01:6343  E0 6A      			dw	_tiles_ITEM_KEY
24887    01:6345  60 6B      			dw	_tiles_ITEM_ARMOR_2
24888    01:6347  E0 6B      			dw	_tiles_ITEM_ARMOR_3
24889    01:6349  60 6C      			dw	_tiles_ITEM_ARMOR_4
24890    01:634B  E0 6C      			dw	_tiles_ITEM_ARMOR_5
24891    01:634D  60 6D      			dw	_tiles_ITEM_POTION
24892    01:634F             	_TABLE_SHOP_ITEMS_TILES_BANK:
24893    01:634F  12         			db	^_tiles_ITEM_WEAPON_2
24894    01:6350  12         			db	^_tiles_ITEM_WEAPON_3
24895    01:6351  12         			db	^_tiles_ITEM_WEAPON_4
24896    01:6352  12         			db	^_tiles_ITEM_WEAPON_5
24897    01:6353  12         			db	^_tiles_ITEM_KEY
24898    01:6354  12         			db	^_tiles_ITEM_ARMOR_2
24899    01:6355  12         			db	^_tiles_ITEM_ARMOR_3
24900    01:6356  12         			db	^_tiles_ITEM_ARMOR_4
24901    01:6357  12         			db	^_tiles_ITEM_ARMOR_5
24902    01:6358  12         			db	^_tiles_ITEM_POTION
24903    01:6359             	_TABLE_CURSOR_POS_X:
24904    01:6359  18         			db	24
24905    01:635A  38         			db	56
24906    01:635B  60         			db	96
24907    01:635C  88         			db	136
24908    01:635D  B0         			db	176
24909    01:635E  18         			db	24
24910    01:635F  38         			db	56
24911    01:6360  60         			db	96
24912    01:6361  88         			db	136
24913    01:6362  B0         			db	176
24914    01:6363  D4         			db	212
24915                        	
24916               2315     		.bss
24917    F8:2315             	_sequence_id:
24918    F8:2315             			ds	1
24919    F8:2316             	_sequence_loaded:
24920    F8:2316             			ds	1
24921    F8:2317             	_level_id:
24922    F8:2317             			ds	1
24923    F8:2318             	_display_level_text:
24924    F8:2318             			ds	1
24925    F8:2319             	_respawn:
24926    F8:2319             			ds	1
24927    F8:231A             	_player_id:
24928    F8:231A             			ds	1
24929    F8:231B             	_player_state:
24930    F8:231B             			ds	1
24931    F8:231C             	_player_axis:
24932    F8:231C             			ds	1
24933    F8:231D             	_player_previous_axis:
24934    F8:231D             			ds	1
24935    F8:231E             	_player_counter_anim:
24936    F8:231E             			ds	1
24937    F8:231F             	_player_index_jump:
24938    F8:231F             			ds	1
24939    F8:2320             	_player_index_fall:
24940    F8:2320             			ds	1
24941    F8:2321             	_player_counter_attack:
24942    F8:2321             			ds	1
24943    F8:2322             	_player_naked:
24944    F8:2322             			ds	1
24945    F8:2323             	_player_attack:
24946    F8:2323             			ds	1
24947    F8:2324             	_jump_ladder:
24948    F8:2324             			ds	1
24949    F8:2325             	_jump_max_index:
24950    F8:2325             			ds	1
24951    F8:2326             	_fall_ladder:
24952    F8:2326             			ds	1
24953    F8:2327             	_hit_wall:
24954    F8:2327             			ds	1
24955    F8:2328             	_chain_id:
24956    F8:2328             			ds	1
24957    F8:2329             	_weapon_id:
24958    F8:2329             			ds	1
24959    F8:232A             	_armor_level:
24960    F8:232A             			ds	1
24961    F8:232B             	_weapon_level:
24962    F8:232B             			ds	1
24963    F8:232C             	_list_chain_active:
24964    F8:232C             			ds	3
24965    F8:232F             	_life_amount:
24966    F8:232F             			ds	1
24967    F8:2330             	_credits_amount:
24968    F8:2330             			ds	1
24969    F8:2331             	_key_amount:
24970    F8:2331             			ds	1
24971    F8:2332             	_potion_amount:
24972    F8:2332             			ds	1
24973    F8:2333             	_minutes:
24974    F8:2333             			ds	1
24975    F8:2334             	_seconds:
24976    F8:2334             			ds	1
24977    F8:2335             	_time_counter:
24978    F8:2335             			ds	1
24979    F8:2336             	_minutes_backup:
24980    F8:2336             			ds	1
24981    F8:2337             	_seconds_backup:
24982    F8:2337             			ds	1
24983    F8:2338             	_object_start_index:
24984    F8:2338             			ds	1
24985    F8:2339             	_level_object_number:
24986    F8:2339             			ds	1
24987    F8:233A             	_onscreen_object_number:
24988    F8:233A             			ds	1
24989    F8:233B             	_list_object_type:
24990    F8:233B             			ds	25
24991    F8:2354             	_list_object_state:
24992    F8:2354             			ds	25
24993    F8:236D             	_list_object_energy:
24994    F8:236D             			ds	25
24995    F8:2386             	_list_reward_type:
24996    F8:2386             			ds	25
24997    F8:239F             	_list_object_counter:
24998    F8:239F             			ds	25
24999    F8:23B8             	_list_onscreen_object:
25000    F8:23B8             			ds	8
25001    F8:23C0             	_chest_start_index:
25002    F8:23C0             			ds	1
25003    F8:23C1             	_level_chest_number:
25004    F8:23C1             			ds	1
25005    F8:23C2             	_onscreen_chest_number:
25006    F8:23C2             			ds	1
25007    F8:23C3             	_list_chest_state:
25008    F8:23C3             			ds	8
25009    F8:23CB             	_list_onscreen_chest:
25010    F8:23CB             			ds	8
25011    F8:23D3             	_npc_start_index:
25012    F8:23D3             			ds	1
25013    F8:23D4             	_level_npc_number:
25014    F8:23D4             			ds	1
25015    F8:23D5             	_onscreen_npc_number:
25016    F8:23D5             			ds	1
25017    F8:23D6             	_selected_npc:
25018    F8:23D6             			ds	1
25019    F8:23D7             	_list_npc_type:
25020    F8:23D7             			ds	9
25021    F8:23E0             	_list_npc_state:
25022    F8:23E0             			ds	9
25023    F8:23E9             	_list_npc_reward:
25024    F8:23E9             			ds	9
25025    F8:23F2             	_list_onscreen_npc:
25026    F8:23F2             			ds	9
25027    F8:23FB             	_index_x:
25028    F8:23FB             			ds	1
25029    F8:23FC             	_index_y:
25030    F8:23FC             			ds	1
25031    F8:23FD             	_item_index:
25032    F8:23FD             			ds	1
25033    F8:23FE             	_shop_phase:
25034    F8:23FE             			ds	1
25035    F8:23FF             	_shop_counter:
25036    F8:23FF             			ds	1
25037    F8:2400             	_palette_step:
25038    F8:2400             			ds	1
25039    F8:2401             	_tilemap_mask:
25040    F8:2401             			ds	256
25041    F8:2501             	_player_pos_x:
25042    F8:2501             			ds	2
25043    F8:2503             	_player_pos_y:
25044    F8:2503             			ds	2
25045    F8:2505             	_camera_max_y_position:
25046    F8:2505             			ds	2
25047    F8:2507             	_camera_pos_x_backup:
25048    F8:2507             			ds	2
25049    F8:2509             	_camera_pos_y_backup:
25050    F8:2509             			ds	2
25051    F8:250B             	_list_object_x_pos:
25052    F8:250B             			ds	50
25053    F8:253D             	_list_object_y_pos:
25054    F8:253D             			ds	50
25055    F8:256F             	_list_object_x_pos_ref:
25056    F8:256F             			ds	50
25057    F8:25A1             	_list_object_y_pos_ref:
25058    F8:25A1             			ds	50
25059    F8:25D3             	_list_chest_x_pos:
25060    F8:25D3             			ds	16
25061    F8:25E3             	_list_chest_y_pos:
25062    F8:25E3             			ds	16
25063    F8:25F3             	_list_chest_x_pos_ref:
25064    F8:25F3             			ds	16
25065    F8:2603             	_list_chest_y_pos_ref:
25066    F8:2603             			ds	16
25067    F8:2613             	_list_npc_x_pos:
25068    F8:2613             			ds	18
25069    F8:2625             	_list_npc_y_pos:
25070    F8:2625             			ds	18
25071    F8:2637             	_list_npc_x_pos_ref:
25072    F8:2637             			ds	18
25073    F8:2649             	_list_npc_y_pos_ref:
25074    F8:2649             			ds	18
25075    F8:265B             	_global_counter:
25076    F8:265B             			ds	2
25077    F8:265D             	_letter_index:
25078    F8:265D             			ds	2
25079    F8:265F             	_letter_counter:
25080    F8:265F             			ds	2
25081    F8:2661             	_zenny_amount:
25082    F8:2661             			ds	2
25083    F8:2663             	_score:
25084    F8:2663             			ds	2
25085    F8:2665             	_shop_prices:
25086    F8:2665             			ds	20
25087    F8:2679             	_palette_buffer:
25088    F8:2679             			ds	32
25089    F8:2699             	_weapon_y_offset:
25090    F8:2699             			ds	1
25091    F8:269A             	_ptr_REWARD_TYPE:
25092    F8:269A             			ds	2
25093    F8:269C             	_ptr_REWARD_VRAM_ADR:
25094    F8:269C             			ds	2
25095    F8:269E             	_ptr_SHOP_ITEM_PRICES:
25096    F8:269E             			ds	2
25097                        	
25098               E31D     		.code
25099               0001     		.if		leaf_needs < 7
25100               0007     	leaf_needs	.set	7
25101                        		.endif
25102                        	
25103                        	;0 error(s) in compilation
25104                        	;	literal pool:216
25105                        	;	constant pool:430
25106                        	;	global pool:588
25107                        	;	Macro pool:332
                             #[2]   "..\..\..\include\hucc\hucc-final.asm"
    1                        	; ***************************************************************************
    2                        	; ***************************************************************************
    3                        	;
    4                        	; hucc-final.asm
    5                        	;
    6                        	; PCEAS auto-includes this file at the end of every pass in HuCC or SDCC.
    7                        	;
    8                        	; Copyright John Brandwood 2024.
    9                        	;
   10                        	; Distributed under the Boost Software License, Version 1.0.
   11                        	; (See accompanying file LICENSE_1_0.txt or copy at
   12                        	;  http://www.boost.org/LICENSE_1_0.txt)
   13                        	;
   14                        	; ***************************************************************************
   15                        	; ***************************************************************************
   16                        	;
   17                        	; This is used to select which assembly-language library files to include in
   18                        	; a HuCC project, using labels defined in the compiler's header files.
   19                        	;
   20                        	; ***************************************************************************
   21                        	; ***************************************************************************
   22                        	
   23                        			; Allow projects to customize what is included at the end
   24                        			; of a pass without replacing the entire "hucc-final.asm".
   25                        	
   26               E31D     			.code
   27               0000     			.bank	CORE_BANK
   28               E31D     			.page	CORE_PAGE
   29                        	
                             #[3]   "..\..\..\include\hucc\hucc-final-extra.asm"
   30                        			include	"hucc-final-extra.asm"
    1                        	; ***************************************************************************
    2                        	; ***************************************************************************
    3                        	;
    4                        	; hucc-final-extra.asm
    5                        	;
    6                        	; hucc-final.asm includes this file at the end of every pass in HuCC or SDCC.
    7                        	;
    8                        	; Copyright John Brandwood 2024.
    9                        	;
   10                        	; Distributed under the Boost Software License, Version 1.0.
   11                        	; (See accompanying file LICENSE_1_0.txt or copy at
   12                        	;  http://www.boost.org/LICENSE_1_0.txt)
   13                        	;
   14                        	; ***************************************************************************
   15                        	; ***************************************************************************
   16                        	;
   17                        	; This is used to select which assembly-language library files to include in
   18                        	; a HuCC project, using labels defined in the compiler's header files.
   19                        	;
   20                        	; ***************************************************************************
   21                        	; ***************************************************************************
                             #[2]   "..\..\..\include\hucc\hucc-final.asm"
   31                        	
   32                        			; Libraries required for basic functionality.
   33                        	
   34               E31D     			.code
   35               0000     			.bank	CORE_BANK
   36               E31D     			.page	CORE_PAGE
   37                        	
                             #[3]   "..\..\..\include\hucc\common.asm"
   38                        			include	"common.asm"		; Common helpers.
    1                        	; ***************************************************************************
    2                        	; ***************************************************************************
    3                        	;
    4                        	; common.asm
    5                        	;
    6                        	; Small, generic, PCE subroutines that are commonly useful when developing.
    7                        	;
    8                        	; These should be located in permanently-accessible memory!
    9                        	;
   10                        	; Copyright John Brandwood 2021-2024.
   11                        	;
   12                        	; Distributed under the Boost Software License, Version 1.0.
   13                        	; (See accompanying file LICENSE_1_0.txt or copy at
   14                        	;  http://www.boost.org/LICENSE_1_0.txt)
   15                        	;
   16                        	; ***************************************************************************
   17                        	; ***************************************************************************
   18                        	
   19                        	
   20                        	
   21                        	; ***************************************************************************
   22                        	; ***************************************************************************
   23                        	;
   24                        	; Wait for the next VBLANK IRQ.
   25                        	;
   26                        	
   27    00:E31D  AD 41 22   	wait_vsync:	lda	irq_cnt			; System Card variable, changed
   28    00:E320  CD 41 22   	.loop:		cmp	irq_cnt			; every VBLANK interrupt.
   29    00:E323  F0 FB      			beq	.loop
   30               0001     		.ifdef	HUCC
   31    00:E325  8D EB 22   			sta	old_cnt			; Remember the frame count.
   32                        		.endif
   33    00:E328  60         			rts
   34                        	
   35                        	
   36                        	
   37                        	; ***************************************************************************
   38                        	; ***************************************************************************
   39                        	;
   40                        	; Delay for the next Y VBLANK IRQs.
   41                        	;
   42                        	
   43               0001     		.ifdef	HUCC
   44    00:E329             	_vsync		.alias	wait_vsync
   45                        	
   46    00:E329  AD 41 22   	_vsync.1:	lda	irq_cnt			; HuCC's vsync(n) was defined
   47    00:E32C  38         			sec				; as frames from the previous
   48    00:E32D  ED EB 22   			sbc	old_cnt			; vsync() call, 1 to 255.
   49    00:E330  38         			sec
   50    00:E331  E5 F8      			sbc	<_al
   51    00:E333  90 02      			bcc	!+
   52    00:E335  A9 FF      			lda	#$FF
   53    00:E337  49 FF      	!:		eor	#$FF
   54    00:E339  1A         			inc	a
   55    00:E33A  A8         			tay
   56                        		.endif
   57                        	
   58    00:E33B  44 E0      	wait_nvsync:	bsr	wait_vsync		; # of VBLANK IRQs to wait in
   59    00:E33D  88         			dey				; the Y register.
   60    00:E33E  D0 FB      			bne	wait_nvsync
   61    00:E340  60         			rts
   62                        	
   63                        	
   64                        	
   65               0000     		.ifndef	HUCC
  101                        		.endif
  102                        	
  103                        	
  104                        	
  105                        	; ***************************************************************************
  106                        	; ***************************************************************************
  107                        	;
  108                        	; Map the _bp data far-pointer into MPR3 (& MPR4).
  109                        	;
  110                        	; Because the 16KB RAM region at $2000-$5FFF is composed of two separate
  111                        	; banks, with the 2nd bank having no specific relation to the 1st, there
  112                        	; is no way to deal with a bank-increment, so do not map that region.
  113                        	;
  114                        	; N.B. Library code relies on this preserving X and V!
  115                        	;
  116                        	
  117    00:E341  98         	map_bp_to_mpr3:	tya				; Put bank into MPR3.
  118    00:E342  F0 0A      			beq	!+
  119    00:E344  53 08      			tam3
  120    00:E346  A5 ED      			lda.h	<_bp			; Do not remap a ptr to RAM,
  121    00:E348  29 1F      			and	#$1F			; Remap ptr to MPR3.
  122    00:E34A  09 60      			ora	#$60
  123    00:E34C  85 ED      			sta.h	<_bp
  124    00:E34E  60         	!:		rts
  125                        	
  126    00:E34F  98         	map_bp_to_mpr34:tya				; Put bank into MPR3.
  127    00:E350  F0 0D      			beq	!+
  128    00:E352  53 08      			tam3
  129    00:E354  1A         			inc	a			; Put next into MPR4.
  130    00:E355  53 10      			tam4
  131    00:E357  A5 ED      			lda.h	<_bp			; Do not remap a ptr to RAM,
  132    00:E359  29 1F      			and	#$1F			; Remap ptr to MPR3.
  133    00:E35B  09 60      			ora	#$60
  134    00:E35D  85 ED      			sta.h	<_bp
  135    00:E35F  60         	!:		rts
  136                        	
  137                        	
  138                        	
  139                        	; ***************************************************************************
  140                        	; ***************************************************************************
  141                        	;
  142                        	; Increment the hi-byte of _bp and change TMA3 if necessary.
  143                        	;
  144                        	; N.B. Library code relies on this preserving A,X,Y and V!
  145                        	;
  146                        	
  147    00:E360  E6 ED      	inc.h_bp_mpr3:	inc.h	<_bp			; Increment hi-byte of _bp.
  148    00:E362  10 0B      			bpl	!+			; OK if within MPR0-MPR3.
  149    00:E364  48         			pha				; Increment the bank in MPR3,
  150    00:E365  43 08      			tma3				; usually when pointer moves
  151    00:E367  1A         			inc	a			; from $7FFF -> $8000.
  152    00:E368  53 08      			tam3
  153    00:E36A  A9 60      			lda	#$60
  154    00:E36C  85 ED      			sta.h	<_bp
  155    00:E36E  68         			pla
  156    00:E36F  60         	!:		rts
  157                        	
  158                        	
  159                        	
  160                        	; ***************************************************************************
  161                        	; ***************************************************************************
  162                        	;
  163                        	; Increment the hi-byte of _bp and change TMA3 and TMA4 if necessary.
  164                        	;
  165                        	; N.B. Library code relies on this preserving A,X,Y and V!
  166                        	;
  167                        	
  168    00:E370  E6 ED      	inc.h_bp_mpr34:	inc.h	<_bp			; Increment hi-byte of _bp.
  169    00:E372  10 0D      			bpl	!+			; OK if within MPR0-MPR3.
  170    00:E374  48         			pha				; Increment the bank in MPR3,
  171    00:E375  43 10      			tma4				; usually when pointer moves
  172    00:E377  53 08      			tam3				; from $7FFF -> $8000.
  173    00:E379  1A         			inc	a
  174    00:E37A  53 10      			tam4
  175    00:E37C  A9 60      			lda	#$60
  176    00:E37E  85 ED      			sta.h	<_bp
  177    00:E380  68         			pla
  178    00:E381  60         	!:		rts
  179                        	
  180                        	
  181                        	
  182                        	; ***************************************************************************
  183                        	; ***************************************************************************
  184                        	;
  185                        	; Put the _di data pointer into the VDC's MARR or MAWR register.
  186                        	;
  187                        	; N.B. Library code relies on this preserving Y!
  188                        	;
  189                        	
  190               0001     		.if	SUPPORT_SGX
  191    00:E382  A2 10      	sgx_di_to_marr:	ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
  192    00:E384  F0         			db	$F0			; Turn "clx" into a "beq".
  193                        		.endif
  194                        	
  195    00:E385  82         	vdc_di_to_marr:	clx				; Offset to PCE VDC.
  196                        	
  197    00:E386  A9 01      	set_di_to_marr	lda	#VDC_MARR		; Set VDC or SGX destination
  198    00:E388  95 F7      			sta	<vdc_reg, x		; address.
  199    00:E38A  9D 00 02   			sta	VDC_AR, x
  200    00:E38D  80 09      			bra	!+
  201                        	
  202               0001     		.if	SUPPORT_SGX
  203    00:E38F  A2 10      	sgx_di_to_mawr:	ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
  204    00:E391  F0         			db	$F0			; Turn "clx" into a "beq".
  205                        		.endif
  206                        	
  207    00:E392  82         	vdc_di_to_mawr:	clx				; Offset to PCE VDC.
  208                        	
  209    00:E393             	set_di_to_mawr;	lda	#VDC_MAWR		; Set VDC or SGX destination
  210    00:E393  74 F7      			stz	<vdc_reg, x		; address.
  211    00:E395  9E 00 02   			stz	VDC_AR, x
  212                        	
  213    00:E398  A5 F0      	!:		lda	<_di + 0
  214    00:E39A  9D 02 02   			sta	VDC_DL, x
  215    00:E39D  A5 F1      			lda	<_di + 1
  216    00:E39F  9D 03 02   			sta	VDC_DH, x
  217                        	
  218    00:E3A2  A9 02      			lda	#VDC_VWR		; Select the VRR/VWR data
  219    00:E3A4  95 F7      			sta	<vdc_reg, x		; register.
  220    00:E3A6  9D 00 02   			sta	VDC_AR, x
  221    00:E3A9  60         			rts
  222                        	
  223                        	
  224                        	
  225                        	; ***************************************************************************
  226                        	; ***************************************************************************
  227                        	;
  228                        	; Increment the hi-byte of _di and change TMA4 if necessary.
  229                        	;
  230                        	
  231               0000     		.if	0				; Save memory, for now.
  250                        		.endif
  251                        	
  252                        	
  253                        	
  254                        	; ***************************************************************************
  255                        	; ***************************************************************************
  256                        	;
  257                        	; Far-call a function in another bank.
  258                        	;
  259                        	; This is a potential alternative procedure call trampoline that uses only 10
  260                        	; bytes of common memory per bank of procedures, instead of 10 bytes for each
  261                        	; individual procedure call, BUT it uses the X register as a procedure-index,
  262                        	; and it needs a table of addresses at the end of every procedure bank.
  263                        	;
  264                        	; To use this ...
  265                        	;
  266                        	;  ldx #procedure-index
  267                        	;  jsr far_call_nn
  268                        	;
  269                        	; The called .PROC routine must exit with "jmp leave_proc" and not "rts".
  270                        	;
  271                        	; leave_proc:	pla
  272                        	;		tam6
  273                        	;		tya
  274                        	;		rts
  275                        	;
  276                        	; N.B. This costs 21 cycles vs 18 for the .newproc trampoline code (when you
  277                        	;      exclude preserving YA in zero-page).
  278                        	;
  279                        	; N.B. This was written as an excerise, and definitely not for HuC!
  280                        	;
  281                        	
  282               0000     		.if	0
  295                        		.endif					; 21
                             #[2]   "..\..\..\include\hucc\hucc-final.asm"
                             #[3]   "..\..\..\include\hucc\vce.asm"
   39                        			include	"vce.asm"		; Useful VCE routines.
    1                        	; ***************************************************************************
    2                        	; ***************************************************************************
    3                        	;
    4                        	; vce.asm
    5                        	;
    6                        	; Useful routines for operating the HuC6260 Video Color Encoder
    7                        	;
    8                        	; These should be located in permanently-accessible memory!
    9                        	;
   10                        	; Copyright John Brandwood 2021-2025.
   11                        	;
   12                        	; Distributed under the Boost Software License, Version 1.0.
   13                        	; (See accompanying file LICENSE_1_0.txt or copy at
   14                        	;  http://www.boost.org/LICENSE_1_0.txt)
   15                        	;
   16                        	; ***************************************************************************
   17                        	; ***************************************************************************
   18                        	
   19                        	;
   20                        	; Configure Library ...
   21                        	;
   22                        	
   23               0000     		.ifndef VCE_SPLIT_CROSS
   25                        		.endif
   26                        	
   27                        	
   28                        	
   29                        	; ***************************************************************************
   30                        	; ***************************************************************************
   31                        	;
   32                        	; xfer_palettes - Update the VCE with the queued palettes changes.
   33                        	;
   34                        	; This is normally called in a developer's vsync_hook handler, but it can
   35                        	; be called manually as long as it will not also be called in an interrupt.
   36                        	;
   37                        	; The queued transfers are split into 32-byte chunks so that an HSYNC and/or
   38                        	; TIMER IRQ is not delayed for too long during the VBLANK.
   39                        	;
   40                        	
   41    00:E3AA  A9 80      	xfer_palettes:	lda	#$80			; Acquire color mutex to avoid
   42    00:E3AC  0C A0 26   			tsb	color_mutex		; conflict with a delayed VBL.
   43    00:E3AF  30 5F      			bmi	.busy
   44                        	
   45    00:E3B1  AC A1 26   			ldy	color_queue_r		; Are there any palette xfers
   46    00:E3B4  CC A2 26   			cpy	color_queue_w		; queued up?
   47    00:E3B7  F0 54      			beq	.exit
   48                        	
   49    00:E3B9  08         			php				; Enable interrupts so that an
   50    00:E3BA  58         			cli				; HSYNC or TIMER IRQ can occur.
   51                        	
   52    00:E3BB  43 08      			tma3				; Preserve MPR3 & MPR4 because
   53    00:E3BD  48         			pha				; this normally runs in the
   54    00:E3BE  43 10      			tma4				; VBLANK IRQ.
   55    00:E3C0  48         			pha
   56                        	
   57               0001     		.if	!CDROM
   58    00:E3C1  73 16 E4 86			tii	.tia_func, color_tia, 8 ; Copy TIA to RAM.
         00:E3C5  22 08 00    
   59                        		.endif
   60                        	
   61    00:E3C8  B9 A3 26   	.next_item:	lda	color_index, y		; Get the next set of palettes
   62    00:E3CB  0A         			asl	a			; from the queue.
   63    00:E3CC  0A         			asl	a
   64    00:E3CD  0A         			asl	a
   65    00:E3CE  0A         			asl	a
   66    00:E3CF  8D 02 04   			sta	VCE_CTA + 0
   67    00:E3D2  62         			cla
   68    00:E3D3  2A         			rol	a
   69    00:E3D4  8D 03 04   			sta	VCE_CTA + 1
   70                        	
   71    00:E3D7  BE AB 26   			ldx	color_count,y		; How many palettes to xfer?
   72                        	
   73    00:E3DA  B9 C3 26   			lda	color_bank, y		; Map data into MPR3 & MPR4.
   74    00:E3DD  53 08      			tam3
   75    00:E3DF  1A         			inc	a
   76    00:E3E0  53 10      			tam4
   77    00:E3E2  B9 BB 26   			lda	color_addr_h, y
   78    00:E3E5  8D 88 22   			sta	.ram_tia + 2
   79    00:E3E8  B9 B3 26   			lda	color_addr_l, y
   80    00:E3EB  8D 87 22   	.palette_loop:	sta	.ram_tia + 1
   81                        	
   82               0000     		.if	CDROM
   84                        		.else
   85    00:E3EE  20 86 22   			jsr	.ram_tia		; Copy 32-bytes to the VCE.
   86                        		.endif
   87                        	
   88    00:E3F1  18         			clc				; Increment the data ptr to
   89    00:E3F2  69 20      			adc	#32			; the next 32-byte palette.
   90    00:E3F4  B0 1B      			bcs	.next_page
   91                        	
   92    00:E3F6  CA         	.next_palette:	dex				; Any palettes left to xfer?
   93    00:E3F7  D0 F2      			bne	.palette_loop
   94                        	
   95    00:E3F9  C8         			iny				; Increment the queue index.
   96    00:E3FA  98         			tya
   97    00:E3FB  29 07      			and	#7
   98    00:E3FD  A8         			tay
   99                        	
  100    00:E3FE  CC A2 26   			cpy	color_queue_w		; Any more items in the queue?
  101    00:E401  D0 C5      			bne	.next_item
  102    00:E403  8C A1 26   			sty	color_queue_r		; Signal the queue is empty.
  103                        	
  104    00:E406  68         			pla				; Restore MPR3 & MPR4.
  105    00:E407  53 10      			tam4
  106    00:E409  68         			pla
  107    00:E40A  53 08      			tam3
  108                        	
  109    00:E40C  28         			plp				; Restore interrupt state.
  110                        	
  111    00:E40D  9C A0 26   	.exit:		stz	color_mutex		; Release color mutex.
  112                        	
  113    00:E410  60         	.busy:		rts
  114                        	
  115    00:E411  EE 88 22   	.next_page:	inc	.ram_tia + 2
  116    00:E414  80 E0      			bra	.next_palette
  117                        	
  118               0001     		.if	!CDROM
  119               2286     	.ram_tia	=	color_tia		; Use a TIA in RAM.
  120                        	
  121    00:E416  E3 00 00 04	.tia_func:	tia	0, VCE_CTW, 32
         00:E41A  04 20 00    
  122    00:E41D  60         			rts
  123                        		.endif	!CDROM
  124                        	
  125               26A0     			.bss
  126                        	
  127    F8:26A0             	color_mutex:	ds	1			; Mutex for VCE changes.
  128    F8:26A1             	color_queue_r:	ds	1			; Ring buffer read index.
  129    F8:26A2             	color_queue_w:	ds	1			; Ring buffer write index.
  130    F8:26A3             	color_index:	ds	8			; Ring buffer - Palette index.
  131    F8:26AB             	color_count:	ds	8			; Ring buffer - Palette count.
  132    F8:26B3             	color_addr_l:	ds	8			; Ring buffer - Data Ptr (lo).
  133    F8:26BB             	color_addr_h:	ds	8			; Ring buffer - Data Ptr (hi).
  134    F8:26C3             	color_bank:	ds	8			; Ring buffer - Data Ptr (bank).
  135                        	
  136               E41E     			.code
  137                        	
  138                        	
  139                        	
  140                        	; ***************************************************************************
  141                        	; ***************************************************************************
  142                        	;
  143                        	; load_palettes - Queue a set of palettes to upload to the VCE next VBLANK.
  144                        	;
  145                        	; Args: _al = Palette index (0..15 for BG, 16..31 for SPR).
  146                        	; Args: _ah = Palette count (1..32).
  147                        	; Args: _bp = Pointer to palette data.
  148                        	; Args:   Y = Bank to map into MPR3 & MPR4, or zero to leave unchanged.
  149                        	;
  150                        	; N.B. Y==0 is only useful if the palette data is permanently mapped!
  151                        	;
  152                        	
  153                        	load_palettes	.proc
  179                        			.endp
  180                        	
  181                        	
  182                        	
  183                        	; ***************************************************************************
  184                        	; ***************************************************************************
  185                        	;
  186                        	; clear_vce - Clear all 512 of the VCE's palette entries.
  187                        	;
  188                        	
  189    20:C6EA             	clear_vce	.proc
  190                        	
  191    20:C6EA  08         			php				; Disable interrupts to avoid
  192    20:C6EB  78         			sei				; VBLANK palette upload.
  193    20:C6EC  C2         			cly
  194    20:C6ED  9C 02 04   			stz	VCE_CTA+0		; Set VCE write address.
  195    20:C6F0  9C 03 04   			stz	VCE_CTA+1
  196    20:C6F3  9C 04 04   	.loop:		stz	VCE_CTW+0		; Set lo-byte of color.
  197    20:C6F6  9C 05 04   			stz	VCE_CTW+1		; Write 1 color value.
  198    20:C6F9  9C 04 04   			stz	VCE_CTW+0		; Set lo-byte of color.
  199    20:C6FC  9C 05 04   			stz	VCE_CTW+1		; Write 1 color value.
  200    20:C6FF  88         			dey
  201    20:C700  D0 F1      			bne	.loop
  202    20:C702  28         			plp
  203                        	
  204                        			leave				; All done, phew!
         20:C703  4C EF FF   			jmp	leave_proc
  205                        	
  206                        			.endp
  207                        	
  208               0001     		.ifdef	HUCC
  209    00:E41E             			.alias	_clear_palette		= clear_vce
  210                        		.endif
  211                        	
  212                        	
  213                        	
  214                        	; ***************************************************************************
  215                        	; ***************************************************************************
  216                        	;
  217                        	; read_palettes - Read palettes from the VCE into a buffer in RAM.
  218                        	;
  219                        	; Args: _al = Palette index (0..15 for BG, 16..31 for SPR).
  220                        	; Args: _ah = Palette count (1..32).
  221                        	; Args: _di = Pointer to palette data destination in RAM.
  222                        	;
  223                        	; The transfer is split into 32-byte chunks so that an HSYNC and/or TIMER
  224                        	; IRQ is not delayed for too long while executing.
  225                        	;
  226                        	
  227    20:C41A             	read_palettes	.proc
  228                        	
  229    20:C41A  A9 80      	.wait:		lda	#$80			; Acquire color mutex to avoid
  230    20:C41C  0C A0 26   			tsb	color_mutex		; conflict with xfer_palettes.
  231    20:C41F  30 F9      			bmi	.wait
  232                        	
  233               0001     		.if	!CDROM
  234    20:C421  73 58 C4 86			tii	.tai_func, color_tia, 8 ; Copy TAI to RAM.
         20:C425  22 08 00    
  235                        		.endif
  236                        	
  237    20:C428  A5 F8      	.next_item:	lda	<_al			; Get the palette number.
  238    20:C42A  0A         			asl	a
  239    20:C42B  0A         			asl	a
  240    20:C42C  0A         			asl	a
  241    20:C42D  0A         			asl	a
  242    20:C42E  8D 02 04   			sta	VCE_CTA + 0
  243    20:C431  62         			cla
  244    20:C432  2A         			rol	a
  245    20:C433  8D 03 04   			sta	VCE_CTA + 1
  246                        	
  247    20:C436  A6 F9      			ldx	<_ah			; How many palettes to xfer?
  248                        	
  249    20:C438  A5 F1      			lda.h	<_di
  250    20:C43A  8D 8A 22   			sta	.ram_tai + 4
  251    20:C43D  A5 F0      			lda.l	<_di
  252    20:C43F  8D 89 22   	.palette_loop:	sta	.ram_tai + 3
  253                        	
  254               0000     		.if	CDROM
  256                        		.else
  257    20:C442  20 86 22   			jsr	.ram_tai		; Copy 32-bytes from the VCE.
  258                        		.endif
  259                        	
  260    20:C445  18         			clc				; Increment the data ptr to
  261    20:C446  69 20      			adc	#32			; the next 32-byte palette.
  262    20:C448  B0 09      			bcs	.next_page
  263                        	
  264    20:C44A  CA         	.next_palette:	dex				; Any palettes left to xfer?
  265    20:C44B  D0 F2      			bne	.palette_loop
  266                        	
  267    20:C44D  9C A0 26   			stz	color_mutex		; Release color mutex.
  268                        	
  269                        			leave
         20:C450  4C EF FF   			jmp	leave_proc
  270                        	
  271    20:C453  EE 8A 22   	.next_page:	inc	.ram_tai + 4
  272    20:C456  80 F2      			bra	.next_palette
  273                        	
  274               0001     		.if	!CDROM
  275               2286     	.ram_tai	=	color_tia		; Use a TIA in RAM.
  276                        	
  277    20:C458  F3 04 04 00	.tai_func:	tai	VCE_CTR, 0, 32
         20:C45C  00 20 00    
  278    20:C45F  60         			rts
  279                        		.endif	!CDROM
  280                        	
  281                        			.endp
  282                        	
  283               0001     		.ifdef	HUCC
  284    00:E41E             			.alias	_read_palette.3		= read_palettes
  285                        		.endif
  286                        	
  287                        	
  288                        	
  289                        	vce_fade_funcs	.procgroup
  516                        			.endprocgroup
  517                        	
  518                        	
  519                        	
  520                        	; ***************************************************************************
  521                        	; ***************************************************************************
  522                        	;
  523                        	; cross_fade_to - Cross fade a palette in RAM towards a reference palette.
  524                        	;
  525                        	; Args: _al = Number of colors (1..256).
  526                        	; Args: _di = Pointer to faded palette destination in RAM.
  527                        	; Args: _bp = Pointer to reference palette data.
  528                        	; Args:   Y = Bank to map into MPR3 & MPR4, or zero to leave unchanged.
  529                        	;
  530                        	; N.B. Y==0 is only useful if the reference palette data is already mapped!
  531                        	;
  532                        	; N.B. This only updates the palette in RAM by 1 RGB step, so it will need
  533                        	;      to be called 7 times to guarantee that you've reached the target.
  534                        	;
  535                        	
  536    20:C000             	cross_fade_to	.proc
  537                        	
  538    20:C000  43 08      			tma3				; Preserve MPR3.
  539    20:C002  48         			pha
  540    20:C003  43 10      			tma4				; Preserve MPR4.
  541    20:C005  48         			pha
  542                        	
  543    20:C006  98         			tya				; Is there a bank to map?
  544    20:C007  F0 03      			beq	!+
  545                        	
  546    20:C009  20 4F E3   			jsr	map_bp_to_mpr34		; Map data to MPR3 & MPR4.
  547                        	
  548    20:C00C  A5 F8      	!:		lda	<_al			; # of colors (1..256).
  549    20:C00E  F0 05      			beq	.next_page		; Exactly 256 colors?
  550    20:C010  0A         	!:		asl	a
  551    20:C011  90 07      			bcc	.page_loop
  552    20:C013  F0 FB      			beq	!-			; Exactly 128 colors?
  553                        	
  554    20:C015  38         	.next_page:	sec				; More than 128 colors.
  555    20:C016  E6 ED      			inc.h	<_bp
  556    20:C018  E6 F1      			inc.h	<_di
  557                        	
  558    20:C01A  08         	.page_loop:	php				; C is set if more than 128
  559    20:C01B  A8         			tay				; colors left to fade.
  560                        	
  561    20:C01C  88         	.green:		dey				; Is target green > fade green?
  562               0001     		.if	VCE_SPLIT_CROSS
  563    20:C01D  8F F9 31   			bbs0	<_ah, .red
  564                        		.endif
  565    20:C020  B1 EC      			lda	[_bp], y
  566    20:C022  4A         			lsr	a
  567    20:C023  88         			dey
  568    20:C024  B1 EC      			lda	[_bp], y
  569    20:C026  6A         			ror	a
  570    20:C027  29 E0      			and	#%11100000
  571    20:C029  85 00      			sta	<__temp
  572    20:C02B  C8         			iny
  573    20:C02C  B1 F0      			lda	[_di], y
  574    20:C02E  4A         			lsr	a
  575    20:C02F  88         			dey
  576    20:C030  B1 F0      			lda	[_di], y
  577    20:C032  6A         			ror	a
  578    20:C033  08         			php
  579    20:C034  AA         			tax
  580    20:C035  29 E0      			and	#%11100000
  581    20:C037  38         			sec
  582    20:C038  E5 00      			sbc	<__temp
  583    20:C03A  22         			sax				; Move X to A but keep Z.
  584    20:C03B  F0 08      			beq	.set_green		; Don't update if equal green.
  585    20:C03D  B0 04      			bcs	.dec_green
  586    20:C03F  69 20      	.inc_green:	adc	#%00100000
  587    20:C041  80 02      			bra	.set_green
  588    20:C043  E9 20      	.dec_green:	sbc	#%00100000
  589    20:C045  28         	.set_green:	plp
  590    20:C046  2A         			rol	a
  591               0001     		.if	VCE_SPLIT_CROSS
  592    20:C047  91 F0      			sta	[_di], y		; Save lo-byte of updated color.
  593                        		.else
  595                        		.endif
  596    20:C049  62         			cla
  597    20:C04A  2A         			rol	a
  598    20:C04B  C8         			iny
  599    20:C04C  91 F0      			sta	[_di], y		; Save hi-byte of updated color.
  600               0001     		.if	VCE_SPLIT_CROSS
  601    20:C04E  88         			dey
  602    20:C04F  80 34      			bra	.next_color
  603                        		.endif
  604                        	
  605    20:C051  88         	.red:		dey
  606    20:C052  B1 EC      			lda	[_bp], y		; Is target red > fade red?
  607    20:C054  29 38      			and	#%00111000
  608    20:C056  85 00      			sta	<__temp
  609               0001     		.if	VCE_SPLIT_CROSS
  610    20:C058  B1 F0      			lda	[_di], y
  611    20:C05A  AA         			tax
  612                        		.else
  614                        		.endif
  615    20:C05B  29 38      			and	#%00111000
  616    20:C05D  38         			sec
  617    20:C05E  E5 00      			sbc	<__temp
  618    20:C060  22         			sax				; Move X to A but keep Z.
  619    20:C061  F0 08      			beq	.set_red		; Don't update if equal red.
  620    20:C063  B0 04      			bcs	.dec_red
  621    20:C065  69 08      	.inc_red:	adc	#%00001000
  622    20:C067  80 02      			bra	.set_red
  623    20:C069  E9 08      	.dec_red:	sbc	#%00001000
  624    20:C06B  AA         	.set_red:	tax
  625                        	
  626    20:C06C  B1 EC      	.blue:		lda	[_bp], y		; Is target blue > fade blue?
  627    20:C06E  29 07      			and	#%00000111
  628    20:C070  85 00      			sta	<__temp
  629    20:C072  8A         			txa
  630    20:C073  29 07      			and	#%00000111
  631    20:C075  38         			sec
  632    20:C076  E5 00      			sbc	<__temp
  633    20:C078  22         			sax				; Move X to A but keep Z.
  634    20:C079  F0 08      			beq	.set_blue		; Don't update if equal blue.
  635    20:C07B  B0 04      			bcs	.dec_blue
  636    20:C07D  69 01      	.inc_blue:	adc	#%00000001
  637    20:C07F  80 02      			bra	.set_blue
  638    20:C081  E9 01      	.dec_blue:	sbc	#%00000001
  639    20:C083  91 F0      	.set_blue:	sta	[_di], y		; Save lo-byte of updated color.
  640                        	
  641    20:C085  98         	.next_color:	tya				; Last color in the page?
  642    20:C086  D0 94      			bne	.green
  643    20:C088  28         			plp				; Are there another 128 colors?
  644    20:C089  90 07      			bcc	.finished
  645                        	
  646    20:C08B  C6 ED      			dec.h	<_bp			; Fade the 1st 128 colors if
  647    20:C08D  C6 F1      			dec.h	<_di			; there were more than 128.
  648    20:C08F  18         			clc
  649    20:C090  80 88      			bra	.page_loop
  650                        	
  651    20:C092  68         	.finished:	pla				; Restore MPR4.
  652    20:C093  53 10      			tam4
  653    20:C095  68         			pla				; Restore MPR3.
  654    20:C096  53 08      			tam3
  655                        	
  656                        			leave				; All done, phew!
         20:C098  4C EF FF   			jmp	leave_proc
  657                        	
  658                        			.endp
                             #[2]   "..\..\..\include\hucc\hucc-final.asm"
                             #[3]   "..\..\..\include\hucc\vdc.asm"
   40                        			include	"vdc.asm"		; Useful VDC routines.
    1                        	; ***************************************************************************
    2                        	; ***************************************************************************
    3                        	;
    4                        	; vdc.asm
    5                        	;
    6                        	; Useful routines for operating the HuC6270 Video Display Controller.
    7                        	;
    8                        	; These should be located in permanently-accessible memory!
    9                        	;
   10                        	; Copyright John Brandwood 2021-2025.
   11                        	;
   12                        	; Distributed under the Boost Software License, Version 1.0.
   13                        	; (See accompanying file LICENSE_1_0.txt or copy at
   14                        	;  http://www.boost.org/LICENSE_1_0.txt)
   15                        	;
   16                        	; ***************************************************************************
   17                        	; ***************************************************************************
   18                        	
   19                        	;
   20                        	; Include dependancies ...
   21                        	;
   22                        	
   23                        			include "common.asm"		; Common helpers.
   24                        			include "vce.asm"		; Useful VCE routines.
   25                        	
   26                        	;
   27                        	; Choose how much to transfer to VRAM in a single chunk, normally 16-bytes.
   28                        	;
   29                        	; The cycle timings for a TIA-to-VRAM depend upon how the VDC's MWR CPU slots
   30                        	; line up to the CPU's writes, and how long the VDC has to halt the CPU while
   31                        	; it fetches the next scanline's sprite data.
   32                        	;
   33                        	; These cycle timings are for 0 sprites (best) and 16 sprites (worst) ...
   34                        	;
   35                        	; 32-byte TIA takes 270..364 cycles in 5MHz, 242..312 cycles in 7MHz. (8.44 cycles-per-byte best-case at 5MHz.)
   36                        	; 24-byte TIA takes 210..298 cycles in 5MHz, 186..256 cycles in 7MHz. (8.75 cycles-per-byte best-case at 5MHz.)
   37                        	; 16-byte TIA takes 142..234 cycles in 5MHz, 128..200 cycles in 7MHz. (8.88 cycles-per-byte best-case at 5MHz.)
   38                        	;
   39                        	; If a user wishes to be able to put RCR interrupts one-line-after-another,
   40                        	; then it is only safe to use 32-byte chunks if there are no TIMER or IRQ2
   41                        	; interrupts ... which is almost-impossible to rely on in library code!
   42                        	;
   43                        	
   44               0000     		.ifndef	VRAM_XFER_SIZE
   46                        		.endif
   47                        	
   48                        	;
   49                        	; Enable BG & SPR layers, and RCR interrupt.
   50                        	;
   51                        	
   52    00:E41E  A9 04      	set_rcron:	lda	#$04			; Enable RCR interrupt.
   53    00:E420  80 0A      			bra	!+
   54                        	
   55    00:E422  A9 80      	set_bgon:	lda	#$80			; Enable BG layer.
   56    00:E424  80 06      			bra	!+
   57                        	
   58    00:E426  A9 40      	set_spron:	lda	#$40			; Enable SPR layer.
   59    00:E428  80 02      			bra	!+
   60                        	
   61    00:E42A  A9 C0      	set_dspon:	lda	#$C0			; Enable BG & SPR layers.
   62                        	
   63    00:E42C  04 F3      	!:		tsb	<vdc_crl		; These take effect when
   64               0001     		.if	SUPPORT_SGX			; the next VBLANK occurs.
   65    00:E42E  04 03      			tsb	<sgx_crl
   66                        		.endif
   67    00:E430  60         			rts
   68                        	
   69                        	;
   70                        	; Disable BG & SPR layers, and RCR interrupt.
   71                        	;
   72                        	
   73    00:E431  A9 04      	set_rcroff:	lda	#$04			; Disable RCR interrupt.
   74    00:E433  80 0A      			bra	!+
   75                        	
   76    00:E435  A9 80      	set_bgoff:	lda	#$80			; Disable BG layer.
   77    00:E437  80 06      			bra	!+
   78                        	
   79    00:E439  A9 40      	set_sproff:	lda	#$40			; Disable SPR layer.
   80    00:E43B  80 02      			bra	!+
   81                        	
   82    00:E43D  A9 C0      	set_dspoff:	lda	#$C0			; Disable BG & SPR layers.
   83                        	
   84    00:E43F  14 F3      	!:		trb	<vdc_crl		; These take effect when
   85               0001     		.if	SUPPORT_SGX			; the next VBLANK occurs.
   86    00:E441  14 03      			trb	<sgx_crl
   87                        		.endif
   88    00:E443  60         			rts
   89                        	
   90                        	
   91                        	
   92                        	; ***************************************************************************
   93                        	; ***************************************************************************
   94                        	;
   95                        	; Put the _di data pointer into the VDC's MARR or MAWR register.
   96                        	;
   97                        	; N.B. Library code relies on this preserving Y!
   98                        	;
   99                        	; Args: _di + 0 = BAT X coordinate.
  100                        	; Args: _di + 1 = BAT Y coordinate.
  101                        	;
  102                        	; Here because it relies on the "vdc_bat_width" that is defined in this file.
  103                        	;
  104                        	
  105               0001     		.if	SUPPORT_SGX
  106    00:E444  A2 10      	sgx_di_xy_marr:	ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
  107    00:E446  F0         			db	$F0			; Turn "clx" into a "beq".
  108                        		.endif
  109                        	
  110    00:E447  82         	vdc_di_xy_marr:	clx				; Offset to PCE VDC.
  111                        	
  112    00:E448  62         	set_di_xy_mawr:	cla
  113    00:E449  3C CB 26   			bit	vdc_bat_width, x	; Set by set_bat_size().
  114    00:E44C  30 08      			bmi	.w128
  115    00:E44E  70 03      			bvs	.w64
  116    00:E450  46 F1      	.w32:		lsr.h	<_di
  117    00:E452  6A         			ror	a
  118    00:E453  46 F1      	.w64:		lsr.h	<_di
  119    00:E455  6A         			ror	a
  120    00:E456  46 F1      	.w128:		lsr.h	<_di
  121    00:E458  6A         			ror	a
  122    00:E459  05 F0      			ora.l	<_di
  123    00:E45B  85 F0      			sta.l	<_di
  124    00:E45D  4C 93 E3   			jmp	set_di_to_mawr		; In "common.asm".
  125                        	
  126                        	
  127                        	
  128    20:C460             	vdc_clear_vram	.procgroup			; These routines share code!
  129                        	
  130                        	; ***************************************************************************
  131                        	; ***************************************************************************
  132                        	;
  133                        	; clear_vram_sgx - Clear all of VRAM in the SGX VDC.
  134                        	; clear_vram_vdc - Clear all of VRAM in the PCE VDC.
  135                        	;
  136                        	; Args: _ax = word value to write to the BAT.
  137                        	; Args: _bl = hi-byte of size of BAT (# of words).
  138                        	;
  139                        	
  140               0001     		.if	SUPPORT_SGX
  141    20:C460             	clear_vram_sgx	.proc
  142                        	
  143    20:C460  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
  144    20:C462  F0         			db	$F0			; Turn "clx" into a "beq".
  145                        	
  146    20:C463             			.ref	clear_vram_vdc		; Need clear_vram_vdc
  147                        			.endp
  148                        		.endif
  149                        	
  150    20:C463             	clear_vram_vdc	.proc
  151                        	
  152    20:C463  82         			clx				; Offset to PCE VDC.
  153                        	
  154    20:C464  20 3D FD   	clear_vram_x:	call	clear_bat_x		; Clear the BAT.
  155                        	
  156    20:C467  A9 80      			lda	#$80			; Xvert hi-byte of # words
  157    20:C469  38         			sec				; in screen to loop count.
  158    20:C46A  E5 FA      			sbc	<_bl
  159    20:C46C  4A         			lsr	a
  160                        	
  161                        	;		cly				; Clear the rest of VRAM.
  162    20:C46D  9E 02 02   			stz	VDC_DL, x
  163    20:C470  9E 03 02   	.clr_loop:	stz	VDC_DH, x		; Seperate writes to minimize
  164    20:C473  88         			dey				; VDC MWR penalty.
  165    20:C474  9E 03 02   			stz	VDC_DH, x
  166    20:C477  D0 F7      			bne	.clr_loop
  167    20:C479  3A         			dec	a
  168    20:C47A  D0 F4      			bne	.clr_loop
  169                        	
  170                        			leave				; All done, phew!
         20:C47C  4C EF FF   			jmp	leave_proc
  171                        	
  172                        			.endp
  173                        	
  174                        	
  175                        	
  176                        	; ***************************************************************************
  177                        	; ***************************************************************************
  178                        	;
  179                        	; clear_bat_sgx - Clear the BAT in the SGX VDC.
  180                        	; clear_bat_vdc - Clear the BAT in the PCE VDC.
  181                        	;
  182                        	; Args: _ax = word value to write to the BAT.
  183                        	; Args: _bl = hi-byte of size of BAT (# of words).
  184                        	;
  185                        	
  186               0001     		.if	SUPPORT_SGX
  187                        	clear_bat_sgx	.proc
  193                        			.endp
  194                        		.endif
  195                        	
  196    20:C47F             	clear_bat_vdc	.proc
  197                        	
  198    20:C47F  82         			clx				; Offset to PCE VDC.
  199                        	
  200    20:C480             			.ref	clear_bat_x		; Need clear_bat_x
  201                        			.endp
  202                        	
  203    20:C480             	clear_bat_x	.proc				; HuCC uses this entry point.
  204                        	
  205    20:C480  64 F0      			stz	<_di + 0		; Set VDC or SGX destination
  206    20:C482  64 F1      			stz	<_di + 1		; address.
  207    20:C484  20 93 E3   			jsr	set_di_to_mawr
  208                        	
  209    20:C487  A5 FA      			lda	<_bl			; Xvert hi-byte of # words
  210    20:C489  4A         			lsr	a			; in screen to loop count.
  211                        	
  212    20:C48A  C2         			cly
  213    20:C48B  48         	.bat_loop:	pha
  214    20:C48C  A5 F8      			lda	<_ax + 0
  215    20:C48E  9D 02 02   			sta	VDC_DL, x
  216    20:C491  A5 F9      			lda	<_ax + 1
  217    20:C493  9D 03 02   	.bat_pair:	sta	VDC_DH, x		; Seperate writes to minimize
  218    20:C496  88         			dey				; VDC MWR penalty.
  219    20:C497  9D 03 02   			sta	VDC_DH, x
  220    20:C49A  D0 F7      			bne	.bat_pair
  221                        	
  222    20:C49C  68         			pla
  223    20:C49D  3A         			dec	a
  224    20:C49E  D0 EB      			bne	.bat_loop
  225                        	
  226                        			leave
         20:C4A0  4C EF FF   			jmp	leave_proc
  227                        	
  228                        			.endp
  229                        	
  230                        			.endprocgroup
  231                        	
  232                        	;
  233                        	;
  234                        	;
  235                        	
  236    1F:DD40             	vdc_set_mode	.procgroup			; These routines share code!
  237                        	
  238                        	; ***************************************************************************
  239                        	; ***************************************************************************
  240                        	;
  241                        	; set_mode_sgx - Set video hardware registers from a data table.
  242                        	; set_mode_vdc - Set video hardware registers from a data table.
  243                        	;
  244                        	; Args: _bp, Y = _farptr to data table mapped into MPR3 & MPR4.
  245                        	;
  246                        	
  247               0001     		.if	SUPPORT_SGX
  248    1F:DD40             	set_mode_sgx	.proc
  249                        	
  250    1F:DD40  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
  251    1F:DD42  F0         			db	$F0			; Turn "clx" into a "beq".
  252                        	
  253                        			.endp
  254                        		.endif
  255                        	
  256    1F:DD43             	set_mode_vdc	.proc
  257                        	
  258    1F:DD43  82         			clx				; Offset to PCE VDC.
  259                        	
  260    1F:DD44  F7 F8      			smb7	<_al			; Signal no set_bat_size() yet.
  261                        	
  262    1F:DD46  43 08      			tma3				; Preserve MPR3.
  263    1F:DD48  48         			pha
  264    1F:DD49  43 10      			tma4				; Preserve MPR4.
  265    1F:DD4B  48         			pha
  266                        	
  267    1F:DD4C  20 4F E3   			jsr	map_bp_to_mpr34		; Map data to MPR3 & MPR4.
  268                        	
  269    1F:DD4F  08         			php				; Disable interrupts.
  270    1F:DD50  78         			sei
  271                        	
  272    1F:DD51  C2         			cly				; Table size is < 256 bytes.
  273                        	
  274    1F:DD52  B1 EC      	.loop:		lda	[_bp], y		; Get the register #, +ve for
  275    1F:DD54  F0 46      			beq	.done			; VDC, -128 for VCE_CR.
  276    1F:DD56  10 0C      			bpl	.set_vdc_reg
  277                        	
  278                        			; Set the VCE_CR register.
  279                        	
  280    1F:DD58  C8         	.set_vce_cr:	iny
  281                        	
  282    1F:DD59  B1 EC      			lda	[_bp], y		; Get lo-byte of register.
  283    1F:DD5B  C8         			iny
  284    1F:DD5C  8D 44 22   			sta	vce_cr			; No SGX shadow for this!
  285    1F:DD5F  8D 00 04   			sta	VCE_CR			; Set the VCE clock speed.
  286    1F:DD62  80 EE      			bra	.loop			; Do not set VDC_MWR reg bits!
  287                        	
  288                        			; Set a VDC register.
  289                        	
  290    1F:DD64  C8         	.set_vdc_reg:	iny
  291    1F:DD65  9D 00 02   			sta	VDC_AR, x		; Set which VDC register.
  292                        	
  293    1F:DD68  C9 05      			cmp	#VDC_CR			; CS if VDC_CR or higher.
  294    1F:DD6A  F0 14      			beq	.skip_cc
  295    1F:DD6C  18         			clc				; CC if not VDC_CR.
  296                        	
  297    1F:DD6D  49 09      			eor	#VDC_MWR		; Check if this the VDC_MWR
  298    1F:DD6F  D0 0F      			bne	.skip_cc		; without changing CC.
  299                        	
  300    1F:DD71  B1 EC      			lda	[_bp], y		; Remember the BAT size so that
  301    1F:DD73  8D 42 22   			sta	vdc_mwr			; set_bat_size() can be called.
  302    1F:DD76  4A         			lsr	a
  303    1F:DD77  4A         			lsr	a
  304    1F:DD78  4A         			lsr	a
  305    1F:DD79  4A         			lsr	a
  306    1F:DD7A  85 F8      			sta	<_al
  307    1F:DD7C  C8         			iny
  308    1F:DD7D  C8         			iny
  309    1F:DD7E  80 D2      			bra	.loop
  310                        	
  311    1F:DD80  B1 EC      	.skip_cc:	lda	[_bp], y		; Get lo-byte of register.
  312    1F:DD82  C8         			iny
  313    1F:DD83  90 08      			bcc	.not_vdc_cr
  314                        	
  315               0001     		.if	SUPPORT_SGX
  316    1F:DD85  E0 00      			cpx	#0			; Writing to the VDC or SGX?
  317    1F:DD87  F0 02      			beq	.save_crl
  318    1F:DD89  29 F7      			and	#$F7			; We only need 1 vblank IRQ!
  319                        		.endif
  320                        	
  321    1F:DD8B  95 F3      	.save_crl:	sta	<vdc_crl, x		; Save VDC_CR shadow register.
  322                        	
  323    1F:DD8D  9D 02 02   	.not_vdc_cr:	sta	VDC_DL, x		; Write to VDC.
  324                        	
  325    1F:DD90  B1 EC      			lda	[_bp], y		; Get hi-byte of register.
  326    1F:DD92  C8         			iny
  327    1F:DD93  9D 03 02   			sta	VDC_DH, x
  328    1F:DD96  90 BA      			bcc	.loop			; Next register, please!
  329                        	
  330    1F:DD98  95 F4      			sta	<vdc_crh, x		; Save VDC_CR shadow register.
  331                        	
  332    1F:DD9A  80 B6      			bra	.loop			; Next register, please!
  333                        	
  334                        			; All registers set!
  335                        	
  336    1F:DD9C  A9 02      	.done:		lda	#VDC_VWR		; Leave with VDC_VWR set.
  337    1F:DD9E  95 F7      			sta	<vdc_reg, x
  338                        	;		lda	<vdc_reg, x		; Restore previous VDC_AR from
  339    1F:DDA0  9D 00 02   			sta	VDC_AR, x		; the shadow variable.
  340                        	
  341    1F:DDA3  28         			plp				; Restore interrupts.
  342                        	
  343    1F:DDA4  68         			pla				; Restore MPR4.
  344    1F:DDA5  53 10      			tam4
  345    1F:DDA7  68         			pla				; Restore MPR3.
  346    1F:DDA8  53 08      			tam3
  347                        	
  348    1F:DDAA  7F F8 07   			bbr7	<_al, set_bat_size	; Update if BAT size changed.
  349                        	
  350                        			leave				; All done, phew!
         1F:DDAD  4C EF FF   			jmp	leave_proc
  351                        	
  352    1F:DDB0             			.ref	set_bat_vdc
  353                        			.endp
  354                        	
  355                        	
  356                        	
  357                        	; ***************************************************************************
  358                        	; ***************************************************************************
  359                        	;
  360                        	; set_bat_sgx - Change the SGX BAT size and initialize variables based on it.
  361                        	; set_bat_vdc - Change the PCE BAT size and initialize variables based on it.
  362                        	;
  363                        	; Args: _al = new size (0-7).
  364                        	;
  365                        	; (VDC_MWR_32x32  >> 4) or in HuCC, SCR_SIZE_32x32.
  366                        	; (VDC_MWR_32x64  >> 4) or in HuCC, SCR_SIZE_32x64.
  367                        	; (VDC_MWR_64x32  >> 4) or in HuCC, SCR_SIZE_64x32.
  368                        	; (VDC_MWR_64x64  >> 4) or in HuCC, SCR_SIZE_64x64.
  369                        	; (VDC_MWR_128x32 >> 4) or in HuCC, SCR_SIZE_128x32.
  370                        	; (VDC_MWR_128x64 >> 4) or in HuCC, SCR_SIZE_128x64.
  371                        	;
  372                        	
  373               0001     		.if	SUPPORT_SGX
  374    1F:DDB0             	set_bat_sgx	.proc
  375                        	
  376    1F:DDB0  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
  377    1F:DDB2  F0         			db	$F0			; Turn "clx" into a "beq".
  378                        	
  379    1F:DDB3             			.ref	set_bat_vdc
  380                        			.endp
  381                        		.endif
  382                        	
  383    1F:DDB3             	set_bat_vdc	.proc
  384                        	
  385    1F:DDB3  82         			clx				; Offset to PCE VDC.
  386                        	
  387    1F:DDB4  A5 F8      	set_bat_size:	lda	<_al			; Get BAT size value.
  388    1F:DDB6  29 07      			and	#7			; Sanitize screen size value.
  389    1F:DDB8  A8         			tay
  390    1F:DDB9  0A         			asl	a			; Put it in bits 4..6.
  391    1F:DDBA  0A         			asl	a
  392    1F:DDBB  0A         			asl	a
  393    1F:DDBC  0A         			asl	a
  394    1F:DDBD  85 00      			sta	<__temp
  395                        	
  396    1F:DDBF  B9 FF DD   			lda	.width, y
  397    1F:DDC2  9D CB 26   			sta	vdc_bat_width, x
  398    1F:DDC5  3A         			dec	a
  399    1F:DDC6  9D CD 26   			sta	vdc_bat_x_mask, x
  400                        	
  401    1F:DDC9  B9 07 DE   			lda	.height, y
  402    1F:DDCC  9D CC 26   			sta	vdc_bat_height, x
  403    1F:DDCF  3A         			dec	a
  404    1F:DDD0  9D CE 26   			sta	vdc_bat_y_mask, x
  405                        	
  406    1F:DDD3  B9 0F DE   			lda	.limit, y
  407    1F:DDD6  9D CF 26   			sta	vdc_bat_limit, x
  408                        	
  409    1F:DDD9  B9 17 DE   			lda	.increment, y		; Put the VRAM increment for a
  410    1F:DDDC  95 F4      			sta	<vdc_crh, x		; line into vdc_crh for later.
  411                        	
  412    1F:DDDE  08         			php
  413    1F:DDDF  78         			sei
  414                        	
  415    1F:DDE0  A9 09      			lda	#VDC_MWR
  416    1F:DDE2  9D 00 02   			sta	VDC_AR, x
  417                        	
  418    1F:DDE5  AD 42 22   			lda	vdc_mwr			; Get the MWR access width bits.
  419    1F:DDE8  29 8F      			and	#%10001111
  420    1F:DDEA  05 00      			ora	<__temp
  421               0001     		.if	SUPPORT_SGX
  422    1F:DDEC  E0 00      			cpx	#PCE_VDC_OFFSET		; This has no SGX shadow!
  423    1F:DDEE  D0 03      			bne	!+
  424                        		.endif
  425    1F:DDF0  8D 42 22   			sta	vdc_mwr
  426    1F:DDF3  9D 02 02   	!:		sta	VDC_DL, x
  427                        	
  428    1F:DDF6  B5 F7      			lda	<vdc_reg, x		; Restore previous VDC_AR from
  429    1F:DDF8  9D 00 02   			sta	VDC_AR, x		; the shadow variable.
  430                        	
  431    1F:DDFB  28         			plp
  432                        	
  433                        			leave
         1F:DDFC  4C EF FF   			jmp	leave_proc
  434                        	
  435    1F:DDFF  20 40 80 80	.width:		db	$20,$40,$80,$80,$20,$40,$80,$80
         1F:DE03  20 40 80 80 
  436    1F:DE07  20 20 20 20	.height:	db	$20,$20,$20,$20,$40,$40,$40,$40
         1F:DE0B  40 40 40 40 
  437    1F:DE0F  03 07 0F 0F	.limit:		db	$03,$07,$0F,$0F,$07,$0F,$1F,$1F
         1F:DE13  07 0F 1F 1F 
  438    1F:DE17  08 10 18 18	.increment	db	$08,$10,$18,$18,$08,$10,$18,$18
         1F:DE1B  08 10 18 18 
  439                        	
  440               26CB     			.bss
  441                        	
  442                        	; **************
  443                        	; 16-bytes of VDC BAT information.
  444                        	;
  445                        	; N.B. MUST be 16-bytes before the SGX versions to use PCE_VDC_OFFSET.
  446                        	;
  447                        	; N.B. Declared inside this .proc so that they can be stripped if unused.
  448                        	
  449                        	; Initialized by set_bat_vdc.
  450    F8:26CB             	vdc_bat_width:	ds	1	; $20, $40, $80
  451    F8:26CC             	vdc_bat_height:	ds	1	; $20, $40
  452    F8:26CD             	vdc_bat_x_mask:	ds	1	; $1F, $3F, $7F
  453    F8:26CE             	vdc_bat_y_mask:	ds	1	; $1F, $3F
  454    F8:26CF             	vdc_bat_limit:	ds	1	; (>$03FF), (>$07FF), (>$0FFF), (>$1FFF)
  455                        	
  456                        	; From blkmap.asm just to avoid wasting .bss space with padding.
  457    F8:26D0             	vdc_map_draw_w:	ds	1	; (SCR_WIDTH / 8) + 1
  458    F8:26D1             	vdc_map_draw_h:	ds	1	; (SCR_HEIGHT / 8) + 1
  459    F8:26D2             	vdc_map_line_w:	ds	1	; Line width of map data in tiles.
  460    F8:26D3             	vdc_map_scrn_w:	ds	1	; Line width of map data in screens.
  461    F8:26D4             	vdc_map_pxl_x:	ds	2	; Current top-left X in pixels.
  462    F8:26D6             	vdc_map_pxl_y:	ds	2	; Current top-left Y in pixels.
  463    F8:26D8             	vdc_map_option:	ds	1	; Flags to disable BAT alignment.
  464                        	
  465                        	; From hucc-old-spr.asm just to avoid wasting .bss space with padding.
  466    F8:26D9             	spr_max:	ds	1
  467    F8:26DA             	spr_clr:	ds	1
  468                        	
  469               0001     		.if	SUPPORT_SGX
  470                        	
  471                        	; **************
  472                        	; 16-bytes of SGX BAT information.
  473                        	;
  474                        	; N.B. MUST be 16-bytes after the VDC versions to use SGX_VDC_OFFSET.
  475                        	;
  476                        	; N.B. Declared inside this .proc so that they can be stripped if unused.
  477                        	
  478                        	; Initialized by set_bat_sgx.
  479    F8:26DB             	sgx_bat_width:	ds	1	; $20, $40, $80
  480    F8:26DC             	sgx_bat_height:	ds	1	; $20, $40
  481    F8:26DD             	sgx_bat_x_mask:	ds	1	; $1F, $3F, $7F
  482    F8:26DE             	sgx_bat_y_mask:	ds	1	; $1F, $3F
  483    F8:26DF             	sgx_bat_limit:	ds	1	; (>$03FF), (>$07FF), (>$0FFF), (>$1FFF)
  484                        	
  485                        	; From blkmap.asm just to avoid wasting .bss space with padding.
  486    F8:26E0             	sgx_map_draw_w:	ds	1	; (SCR_WIDTH / 8) + 1
  487    F8:26E1             	sgx_map_draw_h:	ds	1	; (SCR_HEIGHT / 8) + 1
  488    F8:26E2             	sgx_map_line_w:	ds	1	; Line width of map data in tiles.
  489    F8:26E3             	sgx_map_scrn_w:	ds	1	; Line width of map data in screens.
  490    F8:26E4             	sgx_map_pxl_x:	ds	2	; Current top-left X in pixels.
  491    F8:26E6             	sgx_map_pxl_y:	ds	2	; Current top-left Y in pixels.
  492    F8:26E8             	sgx_map_option:	ds	1	; Flags to disable BAT alignment.
  493                        	
  494                        	; From hucc-old-spr.asm just to avoid wasting .bss space with padding.
  495    F8:26E9             	sgx_spr_max:	ds	1
  496    F8:26EA             	sgx_spr_clr:	ds	1
  497                        	
  498                        		.endif
  499                        	
  500               DE1F     			.code
  501                        	
  502                        			.endp
  503                        	
  504                        			.endprocgroup
  505                        	
  506                        	
  507                        	
  508                        	; ***************************************************************************
  509                        	; ***************************************************************************
  510                        	;
  511                        	; sgx_detect - Detect whether we're running on a SuperGrafx (and init VPC).
  512                        	;
  513                        	; Returns: X,C-flag, and "sgx_detected" = NZ, CS if detected.
  514                        	;
  515                        	; ***************************************************************************
  516                        	;
  517                        	; https://web.archive.org/web/20161129055659/http://cgfm2.emuviews.com/txt/sgxtech.txt
  518                        	;
  519                        	; ***************************************************************************
  520                        	;
  521                        	; HuC6202 VIDEO PRIORITY CONTROLLER (huge thanks to Charles MacDonald!)
  522                        	;
  523                        	; The VPC has no access to sprite priority data, it can only sort pixels
  524                        	; based upon which VDC and whether they are "sprite" or "background".
  525                        	;
  526                        	; This can sometimes lead to unexpected results with low-priority sprites.
  527                        	;
  528                        	; VPC registers $0008 and $0009 make up four 4-bit values that define the
  529                        	; enabled layers and priority setting for the four possible window areas.
  530                        	;
  531                        	; Bits 3-0 of $0008 are for the region where Window 1 and 2 overlap
  532                        	; Bits 7-4 of $0008 are for the region occupied by only Window 2
  533                        	; Bits 3-0 of $0009 are for the region occupied by only Window 1
  534                        	; Bits 7-4 of $0009 are for the region where no Window is present
  535                        	;
  536                        	;  Each 4-bit value has the same format:
  537                        	;
  538                        	;  Bit 0: VDC #1 graphics are 0=disabled, 1=enabled
  539                        	;  Bit 1: VDC #2 graphics are 0=disabled, 1=enabled
  540                        	;  Bit 2: Bit 0 of priority setting
  541                        	;  Bit 3: Bit 1 of priority setting
  542                        	;
  543                        	;   Priority Setting 0b00xx: (useful when VDC #1 is a fullscreen HUD)
  544                        	;
  545                        	;    FRONT
  546                        	;     SP1 = VDC #1 (pce) sprite pixels
  547                        	;     BG1 = VDC #1 (pce) background pixels
  548                        	;     SP2 = VDC #2 (sgx) sprite pixels
  549                        	;     BG2 = VDC #2 (sgx) background pixels
  550                        	;    BACK
  551                        	;
  552                        	;   Priority Setting 0b01xx: (useful for parallax backgrounds)
  553                        	;
  554                        	;    FRONT
  555                        	;     SP1 = VDC #1 (pce) sprite pixels
  556                        	;     SP2 = VDC #2 (sgx) sprite pixels
  557                        	;     BG1 = VDC #1 (pce) background pixels
  558                        	;     BG2 = VDC #2 (sgx) background pixels
  559                        	;    BACK
  560                        	;
  561                        	;   Priority Setting 0b10xx: (only useful for special effects)
  562                        	;
  563                        	;    FRONT
  564                        	;     BG1 = VDC #1 (pce) background pixels (transparent where sprites)
  565                        	;     BG2 = VDC #2 (sgx) background pixels
  566                        	;     SP1 = VDC #1 (pce) sprite pixels
  567                        	;     SP2 = VDC #2 (sgx) sprite pixels
  568                        	;    BACK
  569                        	
  570               0001     		.if	SUPPORT_SGX
  571               0001     		.if	1
  572    20:C4A3             	sgx_detect	.proc
  573                        	
  574    20:C4A3  A0 7F      			ldy	#$7F			; Use VRAM address $7F7F
  575    20:C4A5  84 F0      			sty.l	<_di			; because it won't cause
  576    20:C4A7  84 F1      			sty.h	<_di			; a screen glitch.
  577                        	
  578    20:C4A9  20 8F E3   			jsr	sgx_di_to_mawr		; Write $0001 to SGX VRAM.
  579    20:C4AC  A0 01      			ldy	#$01
  580    20:C4AE  8C 12 02   			sty	SGX_DL
  581    20:C4B1  9C 13 02   			stz	SGX_DH
  582                        	
  583    20:C4B4  20 92 E3   			jsr	vdc_di_to_mawr		; Write $0000 to VDC VRAM.
  584    20:C4B7  9C 02 02   			stz	VDC_DL
  585    20:C4BA  9C 03 02   			stz	VDC_DH
  586                        	
  587    20:C4BD  20 82 E3   			jsr	sgx_di_to_marr		; Check value in SGX VRAM.
  588    20:C4C0  AC 12 02   			ldy	SGX_DL			; $01 if found, $00 if not.
  589    20:C4C3  8C E8 22   			sty	sgx_detected
  590    20:C4C6  F0 10      			beq	!+			; Skip the rest if not SGX.
  591                        	
  592    20:C4C8  20 8F E3   			jsr	sgx_di_to_mawr		; Write $0000 to SGX VRAM
  593    20:C4CB  9C 12 02   			stz	SGX_DL			; to clean VRAM contents.
  594    20:C4CE  9C 13 02   			stz	SGX_DH
  595                        	
  596    20:C4D1  73 DE C4 08			tii	.vpc_mode, VPC_CR, 8	; Initialize the HuC6202 VPC.
         20:C4D5  02 08 00    
  597                        	
  598    20:C4D8  98         	!:		tya
  599    20:C4D9  AA         			tax				; "leave" copies X back to A.
  600    20:C4DA  4A         			lsr	a			; Also CC if PCE, CS if SGX.
  601                        	
  602                        			leave				; All done, phew!
         20:C4DB  4C EF FF   			jmp	leave_proc
  603                        		.else
  618                        		.endif
  619                        	
  620               0000     		.ifndef	SGX_PARALLAX
  622                        		.endif
  623                        	
  624               0000     		.if	SGX_PARALLAX
  629                        		.else
  630    20:C4DE  00 30      	.vpc_mode:	dw	$3000			; Use SGX as the background
  631    20:C4E0  00 00      			dw	$0000			; behind a fullscreen HUD.
  632    20:C4E2  00 00      			dw	$0000
  633    20:C4E4  00 00      			dw	$0000
  634                        		.endif	SGX_PARALLAX
  635                        	
  636                        			.endp
  637                        	
  638               0000     		.ifndef	CORE_VERSION			; CORE has this in the kernel.
  642                        		.endif	CORE_VERSION
  643                        	
  644                        		.endif	SUPPORT_SGX
  645                        	
  646                        	
  647                        	
  648                        	
  649                        	vdc_copy_to	.procgroup			; These routines share code!
  799                        			.endprocgroup
  800                        	
  801                        	
  802                        	
  803                        	; ***************************************************************************
  804                        	; ***************************************************************************
  805                        	;
  806                        	; init_240x208 - An example of initializing screen and VRAM.
  807                        	;
  808                        	; This can be used as-is, or copied to your own program and modified.
  809                        	;
  810                        	
  811                        	init_240x208	.proc
  892                        			.endp
  893                        	
  894                        	
  895                        	
  896                        	; ***************************************************************************
  897                        	; ***************************************************************************
  898                        	;
  899                        	; init_256x224 - An example of initializing screen and VRAM.
  900                        	;
  901                        	; This can be used as-is, or copied to your own program and modified.
  902                        	;
  903                        	
  904                        	init_256x224	.proc
  985                        			.endp
  986                        	
  987                        	
  988                        	
  989                        	; ***************************************************************************
  990                        	; ***************************************************************************
  991                        	;
  992                        	; init_352x224 - An example of initializing screen and VRAM.
  993                        	;
  994                        	; This can be used as-is, or copied to your own program and modified.
  995                        	;
  996                        	
  997                        	init_352x224	.proc
 1078                        			.endp
 1079                        	
 1080                        	
 1081                        	
 1082                        	; ***************************************************************************
 1083                        	; ***************************************************************************
 1084                        	;
 1085                        	; init_512x224 - An example of initializing screen and VRAM.
 1086                        	;
 1087                        	; This can be used as-is, or copied to your own program and modified.
 1088                        	;
 1089                        	
 1090                        	init_512x224	.proc
 1171                        			.endp
 1172                        	
 1173                        	
 1174                        	
 1175                        	; ***************************************************************************
 1176                        	; ***************************************************************************
 1177                        	;
 1178                        	; init_320x208 - An example of initializing screen and VRAM.
 1179                        	;
 1180                        	; This can be used as-is, or copied to your own program and modified.
 1181                        	;
 1182                        	; This resolution is rarely-seen, but it has no overscan, so it has a use.
 1183                        	;
 1184                        	
 1185                        	init_320x208	.proc
 1266                        			.endp
                             #[2]   "..\..\..\include\hucc\hucc-final.asm"
   41                        	
                             #[3]   "..\..\..\include\hucc\hucc-math.asm"
   42                        			include	"hucc-math.asm"		; HuCC multiply and divide.
    1                        	; ***************************************************************************
    2                        	; ***************************************************************************
    3                        	;
    4                        	; hucc-math.asm
    5                        	;
    6                        	; Basic (i.e. very slow) 8-bit and 16-bit multiply and divide routines.
    7                        	;
    8                        	; Copyright John Brandwood 2021-2024.
    9                        	;
   10                        	; Distributed under the Boost Software License, Version 1.0.
   11                        	; (See accompanying file LICENSE_1_0.txt or copy at
   12                        	;  http://www.boost.org/LICENSE_1_0.txt)
   13                        	;
   14                        	; ***************************************************************************
   15                        	; ***************************************************************************
   16                        	;
   17                        	; This is basically a set of SDCC-compatible routines, but using Y:A for the
   18                        	; primary register instead of X:A.
   19                        	;
   20                        	; Using Y:A makes the routines instantly usable with HuCC, and it also makes
   21                        	; them usable with SDCC with just an "sxy" before and after the call.
   22                        	;
   23                        	; ***************************************************************************
   24                        	; ***************************************************************************
   25                        	
   26               E460     			.code
   27                        	
   28               2000     	multiplier	=	__temp
   29               2094     	multiplicand	=	___SDCC_m6502_ret0
   30               2094     	product		=	multiplicand
   31                        	
   32               2000     	__mulint_PARM_2	=	multiplier
   33                        	
   34               2000     	divisor		=	__temp
   35               2094     	dividend	=	___SDCC_m6502_ret0
   36               2094     	quotient	=	dividend
   37               2096     	remainder	=	___SDCC_m6502_ret2
   38                        	
   39               2000     	__moduint_PARM_2 =	divisor
   40               2000     	__modsint_PARM_2 =	divisor
   41               2000     	__divuint_PARM_2 =	divisor
   42               2000     	__divsint_PARM_2 =	divisor
   43                        	
   44                        	
   45                        	
   46                        	; ***************************************************************************
   47                        	; int
   48                        	; _mulint (int a, int b)
   49                        	;
   50                        	; 1st parameter in Y:A (multiplicand)
   51                        	; 2nd parameter in __mulint_PARM_2 (multiplier)
   52                        	; result in Y:A
   53                        	;
   54                        	; N.B. signed and unsigned multiply only differ in the top 16 of the 32bits!
   55                        	
   56    00:E460  85 94      	__mulint:	sta	<multiplicand + 0
   57    00:E462  84 95      			sty	<multiplicand + 1
   58                        	
   59    00:E464  A2 10      			ldx	#16			; Loop 16 times.
   60                        	
   61    00:E466  46 95      			lsr	<multiplicand + 1	; Divide multiplicand by 2
   62    00:E468  66 94      			ror	<multiplicand + 0	; and clear the 16th bit.
   63                        	
   64    00:E46A  62         			cla				; Clear top word of product.
   65    00:E46B  85 96      			sta.l	<multiplicand + 2
   66    00:E46D  90 0B      			bcc	.rotate
   67                        	
   68    00:E46F  A8         	.add:		tay				; Add the 16-bit multiplier to
   69    00:E470  18         			clc				; top 16-bits of the product.
   70    00:E471  A5 96      			lda	<multiplicand + 2
   71    00:E473  65 00      			adc.l	<multiplier
   72    00:E475  85 96      			sta	<multiplicand + 2
   73    00:E477  98         			tya
   74    00:E478  65 01      			adc.h	<multiplier
   75                        	
   76    00:E47A  6A         	.rotate:	ror	a			; Rotate product into the top
   77    00:E47B  66 96      			ror	<multiplicand + 2	; bits of the multiplicand ...
   78    00:E47D  66 95      			ror	<multiplicand + 1	; and divide multiplicand by 2.
   79    00:E47F  66 94      			ror	<multiplicand + 0
   80                        	
   81    00:E481  CA         			dex
   82    00:E482  B0 EB      			bcs	.add			; Add multiplier to top word?
   83    00:E484  D0 F4      			bne	.rotate			; Completed 16 bits?
   84                        	
   85    00:E486  85 97      			sta	<multiplicand + 3	; Save top byte of product.
   86                        	
   87    00:E488  A5 94      			lda.l	<multiplicand		; Return the bottom 16-bits of
   88    00:E48A  A4 95      			ldy.h	<multiplicand		; the 32-bit product.
   89                        	
   90    00:E48C  60         			rts
   91                        	
   92                        	
   93                        	
   94                        	; ***************************************************************************
   95                        	; unsigned int
   96                        	; _divuint (unsigned int x, unsigned int y)
   97                        	;
   98                        	; 1st parameter in Y:A (unsigned dividend)
   99                        	; 2nd parameter in __divuint_PARM_2 (unsigned divisor)
  100                        	; result in Y:A
  101                        	
  102    00:E48D  20 95 E4   	__divuint:	jsr	__moduint		; Call the basic uint division.
  103                        	
  104    00:E490  A5 94      			lda.l	<quotient		; Then get the result from where
  105    00:E492  A4 95      			ldy.h	<quotient		; it was calculated.
  106    00:E494  60         			rts
  107                        	
  108                        	
  109                        	
  110                        	; ***************************************************************************
  111                        	; unsigned int
  112                        	; _moduint (unsigned int x, unsigned int y)
  113                        	;
  114                        	; 1st parameter in Y:A (unsigned dividend)
  115                        	; 2nd parameter in __moduint_PARM_2 (unsigned divisor)
  116                        	; result in Y:A
  117                        	;
  118                        	; If the dividend has more bits than the divisor, then we need to check the
  119                        	; 17th bit of the remainder!
  120                        	
  121               0000     		.if	0
  176                        		.else
  177                        	
  178    00:E495  85 94      	__moduint:	sta.l	<dividend		; 1st SDCC parameter in Y:A.
  179    00:E497  84 95      			sty.h	<dividend
  180                        	
  181    00:E499  A5 00      	divmoduint:	lda.l	<divisor		; Check for a divide-by-zero.
  182    00:E49B  05 01      			ora.h	<divisor
  183    00:E49D  F0 FE      	.zero:		beq	.zero
  184                        	
  185    00:E49F  A2 11      			ldx	#16 + 1
  186                        	
  187    00:E4A1  C2         			cly				; Clear remainder.
  188    00:E4A2  84 97      			sty.h	<remainder
  189                        	
  190    00:E4A4  98         	.skip:		tya				; Restore remainder lo-byte.
  191                        	
  192    00:E4A5  26 94      	.loop:		rol.l	<dividend		; Quotient bit -> dividend LSB.
  193    00:E4A7  26 95      			rol.h	<dividend		; Rotate dividend, MSB -> C.
  194                        	
  195    00:E4A9  CA         			dex
  196    00:E4AA  F0 14      			beq	.finished
  197                        	
  198    00:E4AC  2A         			rol	a			; Rotate C into remainder.
  199    00:E4AD  26 97      			rol.h	<remainder
  200                        	;		php				; Preserve remainder 17th bit.
  201                        	
  202    00:E4AF  A8         			tay				; Preserve remainder lo-byte.
  203                        	
  204    00:E4B0  C5 00      			cmp.l	<divisor		; Test divisor.
  205    00:E4B2  A5 97      			lda.h	<remainder
  206    00:E4B4  E5 01      			sbc.h	<divisor
  207    00:E4B6  90 EC      			bcc	.skip			; CC if divisor > remainder.
  208                        	
  209                        	;		cmp.l	<divisor		; If the dividend has more bits
  210                        	;		lda.h	<remainder		; than the divisor then we need
  211                        	;		sbc.h	<divisor		; to check the remainder hi-bit.
  212                        	;		bcs	.subtract		; CS if divisor <= remainder.
  213                        	;		plp				; Restore remainder 17th bit.
  214                        	;		bcc	.skip			; CC if divisor > remainder.
  215                        	;		db	$90			; Turn "plp" into "bcc" to skip.
  216                        	;.subtract:	plp				; Discard remainder 17th bit.
  217                        	;		sec
  218                        	
  219    00:E4B8  85 97      			sta.h	<remainder		; Subtract divisor.
  220    00:E4BA  98         			tya
  221    00:E4BB  E5 00      			sbc.l	<divisor
  222    00:E4BD  38         			sec				
  223    00:E4BE  80 E5      			bra	.loop
  224                        	
  225    00:E4C0  A4 97      	.finished:	ldy.h	<remainder		; Get the remainder hi-byte.
  226                        	
  227    00:E4C2  60         			rts
  228                        	
  229                        		.endif
  230                        	
  231                        	
  232                        	
  233                        	; ***************************************************************************
  234                        	; int
  235                        	; _divsint (int x, int y)
  236                        	;
  237                        	; 1st parameter in Y:A (signed dividend)
  238                        	; 2nd parameter in __divsint_PARM_2 (signed divisor)
  239                        	; result in Y:A
  240                        	
  241    00:E4C3  20 CB E4   	__divsint:	jsr	__modsint		; Call the basic sint division.
  242                        	
  243    00:E4C6  A5 94      			lda.l	<quotient		; Then get the result from where
  244    00:E4C8  A4 95      			ldy.h	<quotient		; it was calculated.
  245    00:E4CA  60         			rts
  246                        	
  247                        	
  248                        	
  249                        	; ***************************************************************************
  250                        	; int
  251                        	; _modsint (int x, int y)
  252                        	;
  253                        	; 1st parameter in Y:A (signed dividend)
  254                        	; 2nd parameter in __modsint_PARM_2 (signed divisor)
  255                        	; result in Y:A
  256                        	
  257    00:E4CB  84 95      	__modsint:	sty.h	<dividend
  258                        	
  259    00:E4CD  C0 80      			cpy	#$80			; Remainder -ve if dividend
  260    00:E4CF  08         			php				; was -ve.
  261    00:E4D0  90 03      			bcc	!+
  262    00:E4D2  20 22 E5   			jsr	neg_yacs		; Negate the dividend.
  263                        	
  264    00:E4D5  85 94      	!:		sta.l	<dividend		; Store the dividend.
  265    00:E4D7  A5 95      			lda.h	<dividend
  266    00:E4D9  84 95      			sty.h	<dividend
  267                        	
  268    00:E4DB  45 01      			eor.h	<divisor		; Quotient is -ve if divisor
  269    00:E4DD  08         			php				; and dividend signs differ.
  270                        	
  271    00:E4DE  A5 01      			lda.h	<divisor		; Is the divisor -ve?
  272    00:E4E0  10 0B      			bpl	!+
  273                        	
  274    00:E4E2  38         			sec				; Negate the divisor.
  275    00:E4E3  62         			cla
  276    00:E4E4  E5 00      			sbc.l	<divisor
  277    00:E4E6  85 00      			sta.l	<divisor
  278    00:E4E8  62         			cla
  279    00:E4E9  E5 01      			sbc.h	<divisor
  280    00:E4EB  85 01      			sta.h	<divisor
  281                        	
  282    00:E4ED  20 99 E4   	!:		jsr	divmoduint		; Do the unsigned division.
  283                        	
  284    00:E4F0  28         	.result:	plp				; Should the quotient be -ve?
  285    00:E4F1  10 0D      			bpl	.remainder
  286                        	
  287    00:E4F3  AA         			tax				; Preserve remainder lo-byte.
  288                        	
  289    00:E4F4  38         			sec				; Then negate the quotient.
  290    00:E4F5  62         			cla
  291    00:E4F6  E5 94      			sbc.l	<dividend
  292    00:E4F8  85 94      			sta.l	<dividend
  293    00:E4FA  62         			cla
  294    00:E4FB  E5 95      			sbc.h	<dividend
  295    00:E4FD  85 95      			sta.h	<dividend
  296                        	
  297    00:E4FF  8A         			txa				; Restore remainder lo-byte.
  298                        	
  299    00:E500  28         	.remainder:	plp				; Was the dividend -ve?
  300    00:E501  B0 1F      			bcs	neg_yacs		; Then negate the remainder.
  301    00:E503  60         			rts
  302                        	
  303                        	
  304                        	
  305                        	; ***************************************************************************
  306                        	; unsigned int
  307                        	; _muluchar (unsigned char x, unsigned char y)
  308                        	;
  309                        	; 1st parameter in A (unsigned multiplicand)
  310                        	; 2nd parameter in Y (unsigned multiplier)
  311                        	; result in Y:A
  312                        	
  313    00:E504  84 00      	__muluchar:	sty	<multiplier
  314                        	
  315    00:E506  A0 08      	muluchar_a:	ldy	#8			; Loop 8 times.
  316                        	
  317    00:E508  4A         			lsr	a			; Divide multiplicand by 2
  318    00:E509  85 94      			sta	<multiplicand		; and clear the 8th bit.
  319                        	
  320    00:E50B  62         			cla				; Clear top byte of product.
  321    00:E50C  90 03      			bcc	.rotate
  322                        	
  323    00:E50E  18         	.add:		clc				; Add the 8-bit multiplier to
  324    00:E50F  65 00      			adc	<multiplier		; top 8-bits of the product.
  325                        	
  326    00:E511  6A         	.rotate:	ror	a			; Rotate product into the top
  327    00:E512  66 94      			ror	<multiplicand		; bits of the multiplicand.
  328                        	
  329    00:E514  88         			dey
  330    00:E515  B0 F7      			bcs	.add			; Add multiplier to top byte?
  331    00:E517  D0 F8      			bne	.rotate			; Completed 8 bits?
  332                        	
  333    00:E519  A8         			tay				; Return the 16-bit product.
  334    00:E51A  A5 94      			lda	<multiplicand
  335                        	
  336    00:E51C  60         			rts
  337                        	
  338                        	
  339                        	
  340                        	; ***************************************************************************
  341                        	; signed int
  342                        	; abs (signed int x)
  343                        	;
  344                        	; 1st parameter in Y:A (signed)
  345                        	; result in Y:A
  346                        	
  347    00:E51D  C0 80      	_abs:		cpy	#$80			; Is the hi-byte -ve?
  348    00:E51F  90 0B      			bcc	!+
  349                        	
  350    00:E521  38         	neg_ya:		sec
  351    00:E522  49 FF      	neg_yacs:	eor	#$FF
  352    00:E524  69 00      			adc	#0
  353    00:E526  42         			say
  354    00:E527  49 FF      			eor	#$FF
  355    00:E529  69 00      			adc	#0
  356    00:E52B  42         			say
  357    00:E52C  60         	!:		rts
  358                        	
  359    00:E52D             	_abs.1		.alias	_abs
  360                        	
  361                        	
  362                        	
  363                        	; ***************************************************************************
  364                        	; signed int
  365                        	; _mulschar (signed char x, signed char y)
  366                        	;
  367                        	; 1st parameter in A (signed multiplicand)
  368                        	; 2nd parameter in Y (signed multiplier)
  369                        	; result in Y:A
  370                        	;
  371                        	; N.B. Y and A get swapped to make the code shorter.
  372                        	
  373    00:E52D  85 94      	__mulschar:	sta	<multiplicand		; Remember multiplicand sign.
  374                        	
  375    00:E52F  C9 80      			cmp	#$80			; Is the multiplicand -ve?
  376    00:E531  90 03      			bcc	!+
  377    00:E533  49 FF      			eor	#$FF			; Negate the multiplicand.
  378    00:E535  1A         			inc	a
  379    00:E536  85 00      	!:		sta	<multiplier		; Then save it as multiplier.
  380                        	
  381    00:E538  98         			tya				; Product -ve if multiplicand
  382    00:E539  45 94      			eor	<multiplicand		; and multiplier signs differ.
  383    00:E53B  08         			php				; Remember product sign.
  384                        	
  385    00:E53C  98         			tya				; Is the multiplicand -ve?
  386    00:E53D  10 03      			bpl	!+
  387    00:E53F  49 FF      			eor	#$FF			; Negate the multiplicand.
  388    00:E541  1A         			inc	a
  389                        	
  390    00:E542  20 06 E5   	!:		jsr	muluchar_a		; Multiplier already saved.
  391                        	
  392    00:E545  28         			plp				; Is the product -ve?
  393    00:E546  30 D9      			bmi	neg_ya
  394    00:E548  60         			rts
  395                        	
  396                        	
  397                        	
  398                        	; ***************************************************************************
  399                        	; unsigned int
  400                        	; _mulsuchar (signed char x, signed char y)
  401                        	;
  402                        	; 1st parameter in A (unsigned multiplicand)
  403                        	; 2nd parameter in Y (signed multiplier)
  404                        	; result in Y:A
  405                        	;
  406                        	; N.B. Y and A get swapped to make the code shorter.
  407                        	
  408    00:E549  42         	__mulsuchar:	say				; Put the signed param in A.
  409                        			; drop through to __muluschar
  410                        	
  411                        	
  412                        	
  413                        	; ***************************************************************************
  414                        	; signed int
  415                        	; _muluschar (unsigned char x, unsigned char y)
  416                        	;
  417                        	; 1st parameter in A (signed multiplicand)
  418                        	; 2nd parameter in Y (unsigned multiplier)
  419                        	; result in Y:A
  420                        	
  421    00:E54A  C9 80      	__muluschar:	cmp	#$80			; Is multiplicand -ve?
  422    00:E54C  08         			php				; Remember the sign.
  423    00:E54D  90 03      			bcc	!+
  424    00:E54F  49 FF      			eor	#$FF			; Negate multiplicand.
  425    00:E551  1A         			inc	a
  426                        	
  427    00:E552  20 04 E5   	!:		jsr	__muluchar		; Do the unsigned multiply.
  428                        	
  429    00:E555  28         			plp				; Was multiplicand -ve?
  430    00:E556  B0 CA      			bcs	neg_yacs		; Then negate the product.
  431    00:E558  60         			rts
  432                        	
  433                        	
  434                        	
  435                        	; ***************************************************************************
  436                        	; unsigned int
  437                        	; _moduchar (unsigned char x, unsigned char y)
  438                        	;
  439                        	; 1st parameter in A (unsigned dividend)
  440                        	; 2nd parameter in Y (unsigned divisor)
  441                        	; result in Y:A
  442                        	
  443    00:E559  84 00      	__moduchar:	sty.l	<divisor
  444                        	
  445    00:E55B  0A         	divmodu8_a:	asl	a			; Rotate dividend, MSB -> C.
  446    00:E55C  85 94      			sta.l	<dividend
  447    00:E55E  64 95      			stz.h	<dividend		; Clear quotient hi-byte.
  448                        	
  449    00:E560  A0 08      			ldy	#8
  450    00:E562  62         			cla				; Clear remainder.
  451    00:E563  2A         	.loop:		rol	a			; Rotate C into remainder.
  452    00:E564  C5 00      			cmp	<divisor		; Test divisor.
  453    00:E566  90 02      			bcc	.skip			; CC if divisor > remainder.
  454    00:E568  E5 00      			sbc	<divisor		; Subtract divisor.
  455    00:E56A  26 94      	.skip:		rol	<dividend		; Quotient bit -> dividend LSB.
  456    00:E56C  88         			dey
  457    00:E56D  D0 F4      			bne	.loop
  458                        	
  459    00:E56F  C2         			cly				; Clear hi-byte of return.
  460    00:E570  60         			rts				; Return the 16-bit remainder.
  461                        	
  462                        	
  463                        	
  464                        	; ***************************************************************************
  465                        	; unsigned int
  466                        	; _divuchar (unsigned char x, unsigned char y)
  467                        	;
  468                        	; 1st parameter in A (unsigned dividend)
  469                        	; 2nd parameter in Y (unsigned divisor)
  470                        	; result in Y:A
  471                        	
  472    00:E571  20 59 E5   	__divuchar:	jsr	__moduchar
  473                        	
  474    00:E574  A5 94      			lda	<dividend		; Get the dividend lo-byte.
  475    00:E576  60         			rts				; Return the 16-bit dividend.
  476                        	
  477                        	
  478                        	
  479                        	; ***************************************************************************
  480                        	; signed int
  481                        	; _modschar (signed char x, signed char y)
  482                        	;
  483                        	; 1st parameter in A (signed dividend)
  484                        	; 2nd parameter in Y (signed divisor)
  485                        	; result in Y:A
  486                        	
  487    00:E577  AA         	__modschar:	tax				; Preserve the dividend.
  488    00:E578  08         			php				; Remember remainder sign.
  489                        	
  490    00:E579  84 00      			sty	<divisor		; Quotient negative if divisor
  491    00:E57B  45 00      			eor	<divisor		; and dividend signs differ.
  492    00:E57D  08         			php				; Remember the quotient sign.
  493                        	
  494    00:E57E  98         			tya				; Is the divisor -ve?
  495    00:E57F  10 05      			bpl	!+
  496    00:E581  49 FF      			eor	#$FF			; Negate the divisor.
  497    00:E583  1A         			inc	a
  498    00:E584  85 00      			sta	<divisor
  499                        	
  500    00:E586  8A         	!:		txa				; Is the dividend -ve?
  501    00:E587  10 03      			bpl	divmods8_a
  502                        	
  503    00:E589  49 FF      	divmods8_neg:	eor	#$FF			; Negate the dividend.
  504    00:E58B  1A         			inc	a
  505                        	
  506    00:E58C  20 5B E5   	divmods8_a:	jsr	divmodu8_a		; Do the unsigned division.
  507                        	
  508    00:E58F  28         			plp				; Should the quotient be -ve?
  509    00:E590  10 0C      			bpl	!+
  510                        	
  511    00:E592  AA         			tax				; Preserve remainder lo-byte.
  512                        	
  513    00:E593  38         			sec				; Negate the quotient.
  514    00:E594  62         			cla
  515    00:E595  E5 94      			sbc.l	<dividend
  516    00:E597  85 94      			sta.l	<dividend
  517    00:E599  A9 FF      			lda	#$FF
  518    00:E59B  85 95      			sta.h	<dividend
  519                        	
  520    00:E59D  8A         			txa				; Restore remainder lo-byte.
  521                        	
  522    00:E59E  28         	!:		plp				; Was the dividend -ve?
  523    00:E59F  10 05      			bpl	!+
  524                        	
  525    00:E5A1  49 FF      			eor	#$FF			; Then negate the remainder.
  526    00:E5A3  1A         			inc	a
  527    00:E5A4  A0 FF      			ldy	#$FF
  528                        	
  529    00:E5A6  60         	!:		rts
  530                        	
  531                        	
  532                        	
  533                        	; ***************************************************************************
  534                        	; signed int
  535                        	; _moduschar (unsigned char x, unsigned char y)
  536                        	;
  537                        	; 1st parameter in A (signed dividend)
  538                        	; 2nd parameter in Y (unsigned divisor)
  539                        	; result in Y:A
  540                        	
  541    00:E5A7  84 00      	__moduschar:	sty.l	<divisor
  542                        	
  543    00:E5A9  A8         			tay				; Is the dividend -ve?
  544    00:E5AA  08         			php				; Remember remainder sign.
  545    00:E5AB  08         			php				; Remember quotient sign.
  546    00:E5AC  30 DB      			bmi	divmods8_neg
  547    00:E5AE  80 DC      			bra	divmods8_a
  548                        	
  549                        	
  550                        	
  551                        	; ***************************************************************************
  552                        	; unsigned int
  553                        	; _modsuchar (signed char x, signed char y)
  554                        	;
  555                        	; 1st parameter in A (unsigned dividend)
  556                        	; 2nd parameter in Y (signed divisor)
  557                        	; result in Y:A
  558                        	
  559    00:E5B0  AA         	__modsuchar:	tax				; Preserve the dividend.
  560    00:E5B1  08         			php				; Remember remainder sign.
  561                        	
  562    00:E5B2  98         			tya				; Check the divisor sign.
  563    00:E5B3  08         			php				; Remember quotient sign.
  564    00:E5B4  10 03      			bpl	!+
  565    00:E5B6  49 FF      			eor	#$FF			; Negate the divisor.
  566    00:E5B8  1A         			inc	a
  567    00:E5B9  85 00      	!:		sta.l	<divisor
  568                        	
  569    00:E5BB  8A         			txa				; Restore the dividend.
  570    00:E5BC  80 CE      			bra	divmods8_a
  571                        	
  572                        	
  573                        	
  574                        	; ***************************************************************************
  575                        	; signed int
  576                        	; _divschar (signed char x, signed char y)
  577                        	;
  578                        	; 1st parameter in A (signed dividend)
  579                        	; 2nd parameter in Y (signed divisor)
  580                        	; result in Y:A
  581                        	
  582    00:E5BE  20 77 E5   	__divschar:	jsr	__modschar
  583                        	
  584    00:E5C1  A5 94      			lda.l	<dividend
  585    00:E5C3  A4 95      			ldy.h	<dividend
  586    00:E5C5  60         			rts
  587                        	
  588                        	
  589                        	
  590                        	; ***************************************************************************
  591                        	; signed int
  592                        	; _divuschar (unsigned char x, unsigned char y)
  593                        	;
  594                        	; 1st parameter in A (signed dividend)
  595                        	; 2nd parameter in Y (unsigned divisor)
  596                        	; result in Y:A
  597                        	
  598    00:E5C6  20 A7 E5   	__divuschar:	jsr	__moduschar
  599                        	
  600    00:E5C9  A5 94      			lda.l	<dividend
  601    00:E5CB  A4 95      			ldy.h	<dividend
  602    00:E5CD  60         			rts
  603                        	
  604                        	
  605                        	
  606                        	; ***************************************************************************
  607                        	; unsigned int
  608                        	; _divsuchar (signed char x, signed char y)
  609                        	;
  610                        	; 1st parameter in A (unsigned dividend)
  611                        	; 2nd parameter in Y (signed divisor)
  612                        	; result in Y:A
  613                        	
  614    00:E5CE  20 B0 E5   	__divsuchar:	jsr	__modsuchar
  615                        	
  616    00:E5D1  A5 94      			lda.l	<dividend
  617    00:E5D3  A4 95      			ldy.h	<dividend
  618    00:E5D5  60         			rts
                             #[2]   "..\..\..\include\hucc\hucc-final.asm"
                             #[3]   "..\..\..\include\hucc\hucc-gfx.asm"
   43                        			include	"hucc-gfx.asm"		; Used by HuCC's core_main.
    1                        	; ***************************************************************************
    2                        	; ***************************************************************************
    3                        	;
    4                        	; huc-gfx.asm
    5                        	;
    6                        	; Based on the original HuC and MagicKit functions by David Michel and the
    7                        	; other original HuC developers.
    8                        	;
    9                        	; Modifications copyright John Brandwood 2024-2025.
   10                        	;
   11                        	; Distributed under the Boost Software License, Version 1.0.
   12                        	; (See accompanying file LICENSE_1_0.txt or copy at
   13                        	;  http://www.boost.org/LICENSE_1_0.txt)
   14                        	;
   15                        	; ***************************************************************************
   16                        	; ***************************************************************************
   17                        	
   18                        	;
   19                        	; Include dependancies ...
   20                        	;
   21                        	
   22                        			include "common.asm"		; Common helpers.
   23                        			include "vce.asm"		; Useful VCE routines.
   24                        			include "vdc.asm"		; Useful VCE routines.
   25                        	
   26                        	
   27                        	
   28                        	; ***************************************************************************
   29                        	; ***************************************************************************
   30                        	;
   31                        	; void __fastcall disp_on( void );
   32                        	; void __fastcall disp_off( void );
   33                        	
   34    00:E5D6             			.alias	_disp_on		= set_dspon
   35    00:E5D6             			.alias	_disp_off		= set_dspoff
   36                        	
   37                        	
   38                        	
   39                        	; ***************************************************************************
   40                        	; ***************************************************************************
   41                        	;
   42                        	; void __fastcall set_screen_size( unsigned char value<_al> );
   43                        	; void __fastcall sgx_set_screen_size( unsigned char value<_al> );
   44                        	;
   45                        	
   46    00:E5D6             			.alias	_set_screen_size.1	= set_bat_vdc
   47    00:E5D6             			.alias	_sgx_set_screen_size.1	= set_bat_sgx
   48                        	
   49                        	
   50                        	
   51                        	; ***************************************************************************
   52                        	; ***************************************************************************
   53                        	;
   54                        	; void __fastcall init_256x224( void );
   55                        	
   56    20:C36D             	_init_256x224	.proc
   57                        	
   58               0800     	.BAT_SIZE	=	64 * 32
   59               0080     	.CHR_0x20	=	.BAT_SIZE / 16		; 1st tile # after the BAT.
   60               7F00     	.SAT_ADDR	=	$7F00			; SAT takes 16 tiles of VRAM.
   61                        	
   62    20:C36D  08         			php				; Disable interrupts.
   63    20:C36E  78         			sei
   64                        	
   65    20:C36F  20 33 FD   			call	clear_vce		; Clear all palettes.
   66                        	
   67    20:C372  A9 80      			lda.l	#.CHR_0x20		; CHR # of ASCII ' '.
   68    20:C374  85 F8      			sta.l	<_ax
   69    20:C376  A9 00      			lda.h	#.CHR_0x20
   70    20:C378  85 F9      			sta.h	<_ax
   71                        	
   72    20:C37A  A9 08      			lda	#>.BAT_SIZE		; Size of BAT in words.
   73    20:C37C  85 FA      			sta	<_bl
   74                        	
   75    20:C37E  20 47 FD   			call	clear_vram_vdc		; Clear VRAM.
   76               0001     		.if	SUPPORT_SGX
   77    20:C381  20 29 FD   			call	clear_vram_sgx
   78                        		.endif
   79                        	
   80    20:C384  A9 A8      			lda	#<.mode_256x224		; Disable BKG & SPR layers but
   81    20:C386  85 EC      			sta.l	<_bp			; enable RCR & VBLANK IRQ.
   82    20:C388  A9 C3      			lda	#>.mode_256x224
   83    20:C38A  85 ED      			sta.h	<_bp
   84                        	
   85               0001     		.if	SUPPORT_SGX
   86    20:C38C  20 1F FD   			call	sgx_detect		; Are we really on an SGX?
   87    20:C38F  90 05      			bcc	!+
   88    20:C391  A0 20      			ldy	#^.mode_256x224		; Set SGX 1st, with no VBL.
   89    20:C393  20 15 FD   			call	set_mode_sgx
   90                        		.endif
   91    20:C396  A0 20      	!:		ldy	#^.mode_256x224		; Set VDC 2nd, VBL allowed.
   92    20:C398  20 0B FD   			call	set_mode_vdc
   93                        	
   94               0001     		.if	SUPPORT_SGX
   95    20:C39B  2C 10 02   			bit	SGX_SR			; Purge any overdue RCR.
   96                        		.endif
   97    20:C39E  2C 00 02   			bit	VDC_SR			; Purge any overdue VBL.
   98    20:C3A1  28         			plp				; Restore interrupts.
   99                        	
  100    20:C3A2  20 1D E3   			call	wait_vsync		; Wait for the next VBLANK.
  101                        	
  102                        			leave				; All done, phew!
         20:C3A5  4C EF FF   			jmp	leave_proc
  103                        	
  104                        			; A standard 256x224 screen with overscan.
  105                        	
  106    20:C3A8  80         	.mode_256x224:	db	$80			; VCE Control Register.
  107    20:C3A9  04         			db	VCE_CR_5MHz + XRES_SOFT	;   Video Clock + Artifact Reduction
  108                        	
  109    20:C3AA  09         			db	VDC_MWR			; Memory-access Width Register
  110    20:C3AB  10 00      			dw	VDC_MWR_64x32 + VDC_MWR_1CYCLE
  111    20:C3AD  0A         			db	VDC_HSR			; Horizontal Sync Register
  112    20:C3AE  02 02      			dw	VDC_HSR_256
  113    20:C3B0  0B         			db	VDC_HDR			; Horizontal Display Register
  114    20:C3B1  1F 04      			dw	VDC_HDR_256
  115    20:C3B3  0C         			db	VDC_VPR			; Vertical Sync Register
  116    20:C3B4  02 17      			dw	VDC_VPR_224
  117    20:C3B6  0D         			db	VDC_VDW			; Vertical Display Register
  118    20:C3B7  DF 00      			dw	VDC_VDW_224
  119    20:C3B9  0E         			db	VDC_VCR			; Vertical Display END position Register
  120    20:C3BA  FF 00      			dw	VDC_VCR_224
  121    20:C3BC  0F         			db	VDC_DCR			; DMA Control Register
  122    20:C3BD  10 00      			dw	$0010			;   Enable automatic VRAM->SATB
  123    20:C3BF  13         			db	VDC_DVSSR		; VRAM->SATB address $7F00
  124    20:C3C0  00 7F      			dw	.SAT_ADDR
  125    20:C3C2  07         			db	VDC_BXR			; Background X-Scroll Register
  126    20:C3C3  00 00      			dw	$0000
  127    20:C3C5  08         			db	VDC_BYR			; Background Y-Scroll Register
  128    20:C3C6  00 00      			dw	$0000
  129    20:C3C8  06         			db	VDC_RCR			; Raster Counter Register
  130    20:C3C9  00 00      			dw	$0000			;   Never occurs!
  131    20:C3CB  05         			db	VDC_CR			; Control Register
  132    20:C3CC  0C 00      			dw	$000C			;   Enable VSYNC & RCR IRQ
  133    20:C3CE  00         			db	0
  134                        	
  135                        			.endp
  136                        	
  137                        	
  138                        	
  139                        	; ***************************************************************************
  140                        	; ***************************************************************************
  141                        	;
  142                        	; void __fastcall init_240x208( void );
  143                        	
  144                        	_init_240x208	.proc
  223                        			.endp
  224                        	
  225                        	
  226                        	
  227                        	; ***************************************************************************
  228                        	; ***************************************************************************
  229                        	;
  230                        	; void __fastcall _macro set_xres( unsigned int x_pixels<_ax> );
  231                        	; void __fastcall _macro sgx_set_xres( unsigned int x_pixels<_ax> );
  232                        	;
  233                        	; void __fastcall set_xres( unsigned int x_pixels<_ax>, unsigned char blur_flag<_bl> );
  234                        	; void __fastcall sgx_set_xres( unsigned int x_pixels<_ax>, unsigned char blur_flag<_bl> );
  235                        	;
  236                        	; blur_flag = XRES_SOFT (default if not specified), XRES_SHARP or XRES_KEEP
  237                        	
  238                        	set_xres_group	.procgroup			; These routines share code!
  337                        			.endprocgroup	; set_xres_group
  338                        	
  339                        	
  340                        	
  341                        	; ***************************************************************************
  342                        	; ***************************************************************************
  343                        	;
  344                        	; HuC VRAM Functions
  345                        	;
  346                        	; ***************************************************************************
  347                        	; ***************************************************************************
  348                        	
  349                        	
  350    20:C29F             	load_vram_group	.procgroup			; These routines share code!
  351                        	
  352                        	; ***************************************************************************
  353                        	; ***************************************************************************
  354                        	;
  355                        	; void __fastcall load_vram( unsigned int vram<_di>, unsigned char __far *data<_bp_bank:_bp>, unsigned int num_words<_ax> );
  356                        	; void __fastcall sgx_load_vram( unsigned int vram<_di>, unsigned char __far *data<_bp_bank:_bp>, unsigned int num_words<_ax> );
  357                        	;
  358                        	; void __fastcall far_load_vram( unsigned int vram<_di>, unsigned int num_words<_ax> );
  359                        	; void __fastcall sgx_far_load_vram( unsigned int vram<_di>, unsigned int num_words<_ax> );
  360                        	;
  361                        	; load_vram_sgx -  copy a block of memory to VRAM
  362                        	; load_vram_vdc -  copy a block of memory to VRAM
  363                        	;
  364                        	; _bp		= BAT memory location
  365                        	; _bp_bank	= BAT bank
  366                        	; _di		= VRAM base address
  367                        	; _ax		= nb of words to copy
  368                        	; ----
  369                        	; N.B. BAT data *must* be word-aligned!
  370                        	
  371               0000     		.ifndef	VRAM_XFER_SIZE
  373                        		.endif
  374                        	
  375    20:C29F             	load_vram_x	.proc
  376                        	
  377    20:C29F  43 08      			tma3
  378    20:C2A1  48         			pha
  379    20:C2A2  43 10      			tma4
  380    20:C2A4  48         			pha
  381                        	
  382    20:C2A5  A4 02      			ldy	<_bp_bank
  383    20:C2A7  20 4F E3   			jsr	map_bp_to_mpr34		; Map data to MPR3 & MPR4.
  384                        	
  385    20:C2AA  20 93 E3   			jsr	set_di_to_mawr
  386                        	
  387                        	;		tii	.vdc_tai, ram_tia, 8
  388                        	
  389               0001     		.if	SUPPORT_SGX
  390    20:C2AD  8A         			txa				; Select which VDC to write
  391    20:C2AE  1A         			inc	a			; to.
  392    20:C2AF  1A         			inc	a
  393    20:C2B0  8D F3 22   			sta.l	ram_tia_dst
  394                        		.endif
  395                        	
  396    20:C2B3  A9 10      			lda	#VRAM_XFER_SIZE		; Split into 16-byte chunks
  397    20:C2B5  8D F5 22   			sta.l	ram_tia_len		; for stable IRQ response.
  398                        	
  399    20:C2B8  A6 EC      			ldx.l	<_bp
  400    20:C2BA  8E F1 22   			stx.l	ram_tia_src
  401    20:C2BD  A4 ED      			ldy.h	<_bp
  402    20:C2BF  8C F2 22   			sty.h	ram_tia_src
  403                        	
  404    20:C2C2  A5 F8      			lda.l	<_ax			; Length in words.
  405    20:C2C4  48         			pha				; Preserve length.l
  406                        	
  407    20:C2C5  46 F9      			lsr.h	<_ax
  408    20:C2C7  6A         			ror	a
  409    20:C2C8  46 F9      			lsr.h	<_ax
  410    20:C2CA  6A         			ror	a
  411    20:C2CB  46 F9      			lsr.h	<_ax
  412    20:C2CD  6A         			ror	a
  413               0000     		.if	VRAM_XFER_SIZE == 32
  416                        		.endif
  417                        	
  418    20:C2CE  22         			sax				; x=chunks-lo
  419    20:C2CF  F0 1F      			beq	.next_block		; a=source-lo, y=source-hi
  420                        	
  421    20:C2D1  20 F0 22   	.chunk_loop:	jsr	ram_tia			; transfer 16-bytes
  422                        	
  423    20:C2D4  18         			clc				; increment source
  424    20:C2D5  69 10      			adc	#VRAM_XFER_SIZE
  425    20:C2D7  8D F1 22   			sta.l	ram_tia_src
  426    20:C2DA  90 11      			bcc	.same_page
  427    20:C2DC  C8         			iny
  428    20:C2DD  10 0B      			bpl	.same_bank		; remap_data
  429                        	
  430    20:C2DF  42         			say
  431    20:C2E0  43 10      			tma4
  432    20:C2E2  53 08      			tam3
  433    20:C2E4  1A         			inc	a
  434    20:C2E5  53 10      			tam4
  435    20:C2E7  A9 60      			lda	#$60
  436    20:C2E9  42         			say
  437                        	
  438    20:C2EA  8C F2 22   	.same_bank:	sty.h	ram_tia_src
  439                        	
  440    20:C2ED  CA         	.same_page:	dex
  441    20:C2EE  D0 E1      			bne	.chunk_loop
  442                        	
  443    20:C2F0  C6 F9      	.next_block:	dec.h	<_ax
  444    20:C2F2  10 DD      			bpl	.chunk_loop
  445                        	
  446    20:C2F4  68         			pla				; Restore length.l
  447    20:C2F5  29 07      			and	#VRAM_XFER_SIZE / 2 - 1
  448    20:C2F7  F0 07      			beq	.done
  449                        	
  450    20:C2F9  0A         			asl	a			; Convert words to bytes.
  451    20:C2FA  8D F5 22   			sta.l	ram_tia_len
  452                        	
  453    20:C2FD  20 F0 22   			jsr	ram_tia			; transfer remainder
  454                        	
  455    20:C300  68         	.done:		pla
  456    20:C301  53 10      			tam4
  457    20:C303  68         			pla
  458    20:C304  53 08      			tam3
  459                        	
  460                        			leave
         20:C306  4C EF FF   			jmp	leave_proc
  461                        	
  462                        			.endp
  463                        	
  464                        			.endprocgroup	; load_vram_group
  465                        	
  466                        	
  467                        	
  468                        	; ***************************************************************************
  469                        	; ***************************************************************************
  470                        	;
  471                        	; void __fastcall load_bat( unsigned int vram<_di>, unsigned char __far *data<_bp_bank:_bp>, unsigned char tiles_w<_al>, unsigned char tiles_h<_ah> );
  472                        	; void __fastcall sgx_load_bat( unsigned int vram<_di>, unsigned char __far *data<_bp_bank:_bp>, unsigned char tiles_w<_al>, unsigned char tiles_h<_ah> );
  473                        	;
  474                        	; void __fastcall far_load_bat( unsigned int vram<_di>, unsigned char tiles_w<_al>, unsigned char tiles_h<_ah> );
  475                        	; void __fastcall sgx_far_load_bat( unsigned int vram<_di>, unsigned char tiles_w<_al>, unsigned char tiles_h<_ah> );
  476                        	;
  477                        	; load_bat_sgx - transfer a BAT to VRAM
  478                        	; load_bat_vdc - transfer a BAT to VRAM
  479                        	;
  480                        	; transfer a BAT to VRAM
  481                        	; ----
  482                        	; _bp		= BAT memory location
  483                        	; _bp_bank	= BAT bank
  484                        	; _di		= VRAM base address
  485                        	; _al		= nb of column to copy
  486                        	; _ah		= nb of row
  487                        	; ----
  488                        	; N.B. BAT data *must* be word-aligned!
  489                        	
  490               20EC     	_gfx_load_bat_PARM_2	=	_bp
  491               20F0     	_gfx_load_bat_PARM_3	=	_di
  492               20F8     	_gfx_load_bat_PARM_4	=	_al
  493               20F9     	_gfx_load_bat_PARM_5	=	_ah
  494                        	
  495    20:C528             	load_bat_group	.procgroup			; These routines share code!
  496                        	
  497               0001     		.if	SUPPORT_SGX
  498                        			.proc	_sgx_load_bat.4
  505                        			.endp
  506                        		.endif
  507                        	
  508    20:C528             			.proc	_load_bat.4
  509    20:C528             			.alias	_far_load_bat.3		= _load_bat.4
  510                        	
  511    20:C528  82         			clx				; Offset to PCE VDC.
  512                        	
  513    20:C529  43 08      			tma3
  514    20:C52B  48         			pha
  515                        	
  516    20:C52C  A4 02      			ldy	<_bp_bank
  517    20:C52E  20 41 E3   			jsr	map_bp_to_mpr3		; Map data to MPR3.
  518                        	
  519    20:C531  A4 EC      			ldy.l	<_bp
  520    20:C533  64 EC      			stz.l	<_bp
  521                        	
  522    20:C535  20 93 E3   	.line_loop:	jsr	set_di_to_mawr
  523                        	
  524    20:C538  A5 F8      			lda	<_al
  525    20:C53A  85 00      			sta	<__temp
  526    20:C53C  B1 EC      	.tile_loop:	lda	[_bp], y
  527    20:C53E  9D 02 02   			sta	VDC_DL, x
  528    20:C541  C8         			iny
  529    20:C542  B1 EC      			lda	[_bp], y
  530    20:C544  9D 03 02   			sta	VDC_DH, x
  531    20:C547  C8         			iny
  532    20:C548  D0 03      			bne	!+
  533    20:C54A  20 60 E3   			jsr	inc.h_bp_mpr3
  534    20:C54D  C6 00      	!:		dec	<__temp
  535    20:C54F  D0 EB      			bne	.tile_loop
  536                        	
  537    20:C551  BD CB 26   			lda	vdc_bat_width, x
  538    20:C554  18         			clc
  539    20:C555  65 F0      			adc.l	<_di
  540    20:C557  85 F0      			sta.l	<_di
  541    20:C559  90 02      			bcc	!+
  542    20:C55B  E6 F1      			inc.h	<_di
  543                        	
  544    20:C55D  C6 F9      	!:		dec	<_ah
  545    20:C55F  D0 D4      			bne	.line_loop
  546                        	
  547    20:C561  68         			pla
  548    20:C562  53 08      			tam3
  549                        	
  550                        			leave
         20:C564  4C EF FF   			jmp	leave_proc
  551                        	
  552                        			.endp
  553                        	
  554                        			.endprocgroup	; load_bat_group
  555                        	
  556                        	
  557                        	
  558                        	; ***************************************************************************
  559                        	; ***************************************************************************
  560                        	;
  561                        	; void __fastcall load_palette( unsigned char palette<_al>, unsigned char __far *data<_bp_bank:_bp>, unsigned char num_palettes<_ah> );
  562                        	;
  563                        	; void __fastcall far_load_palette( unsigned char palette<_al>, unsigned char num_palettes<_ah> );
  564                        	
  565    20:C618             			.proc	_load_palette.3
  566    20:C618             			.alias	_far_load_palette.2	= _load_palette.3
  567                        	
  568    20:C618  AC A2 26   			ldy	color_queue_w		; Get the queue's write index.
  569                        	
  570    20:C61B  A5 EC      			lda.l	<_bp			; Add this set of palettes to
  571    20:C61D  99 B3 26   			sta	color_addr_l, y		; the queue.
  572    20:C620  A5 ED      			lda.h	<_bp
  573    20:C622  99 BB 26   			sta	color_addr_h, y
  574    20:C625  A5 02      			lda	<_bp_bank
  575    20:C627  99 C3 26   			sta	color_bank, y
  576    20:C62A  A5 F8      			lda	<_al
  577    20:C62C  99 A3 26   			sta	color_index, y
  578    20:C62F  A5 F9      			lda	<_ah
  579    20:C631  99 AB 26   			sta	color_count, y
  580                        	
  581    20:C634  C8         			iny				; Increment the queue index.
  582    20:C635  98         			tya
  583    20:C636  29 07      			and	#7
  584                        	
  585    20:C638  CD A1 26   	.wait:		cmp	color_queue_r		; If the queue is full, wait
  586    20:C63B  F0 FB      			beq	.wait			; for the next VBLANK.
  587                        	
  588    20:C63D  8D A2 26   			sta	color_queue_w		; Signal item is in the queue.
  589                        	
  590                        			leave				; All done, phew!
         20:C640  4C EF FF   			jmp	leave_proc
  591                        	
  592                        			.endp
  593                        	
  594                        	
  595                        	
  596               0000     		.if	0
  620                        		.endif
  621                        	
  622                        	
  623                        	
  624                        	; ***************************************************************************
  625                        	; ***************************************************************************
  626                        	;
  627                        	; void __fastcall load_background( unsigned char __far *tiles<_bp_bank:_bp>, unsigned char __far *palettes<__fbank:__fptr>, unsigned char __far *bat<_cl:_bx>, unsigned char w<_dl>, unsigned char w<_dh> );
  628                        	
  629                        			.proc	_load_background.5
  667                        			.endp
  668                        	
  669                        	
  670                        	
  671                        	; ***************************************************************************
  672                        	; ***************************************************************************
  673                        	;
  674                        	; void __fastcall vram2vram( unsigned int vram_dst<_ax>, unsigned int vram_src<_bx>, unsigned int word_len<_cx> );
  675                        	; void __fastcall sgx_vram2vram( unsigned int vram_dst<_ax>, unsigned int vram_src<_bx>, unsigned int word_len<_cx> );
  676                        	;
  677                        	
  678               0001     		.if	SUPPORT_SGX
  679                        			.proc	_sgx_vram2vram.3
  685                        			.endp
  686                        		.endif
  687                        	
  688    20:C567             			.proc	_vram2vram.3
  689                        	
  690    20:C567  82         			clx				; Offset to PCE VDC.
  691                        	
  692    20:C568  08         			php
  693    20:C569  78         			sei
  694    20:C56A  A9 11      			lda	#VDC_DESR
  695    20:C56C  9D 00 02   			sta	VDC_AR, x
  696    20:C56F  A5 F8      			lda.l	<_ax
  697    20:C571  9D 02 02   			sta	VDC_DL, x
  698    20:C574  A5 F9      			lda.h	<_ax
  699    20:C576  9D 03 02   			sta	VDC_DH, x
  700                        	
  701    20:C579  A9 10      			lda	#VDC_SOUR
  702    20:C57B  9D 00 02   			sta	VDC_AR, x
  703    20:C57E  A5 FA      			lda.l	<_bx
  704    20:C580  9D 02 02   			sta	VDC_DL, x
  705    20:C583  A5 FB      			lda.h	<_bx
  706    20:C585  9D 03 02   			sta	VDC_DH, x
  707                        	
  708    20:C588  A9 12      			lda	#VDC_LENR
  709    20:C58A  9D 00 02   			sta	VDC_AR, x
  710    20:C58D  18         			clc
  711    20:C58E  A5 FC      			lda.l	<_cx
  712    20:C590  69 FF      			adc	#$FF
  713    20:C592  9D 02 02   			sta	VDC_DL, x
  714    20:C595  A5 FD      			lda.h	<_cx
  715    20:C597  69 FF      			adc	#$FF
  716    20:C599  9D 03 02   			sta	VDC_DH, x
  717                        	
  718    20:C59C  B5 F7      			lda	<vdc_reg, x
  719    20:C59E  8D 00 02   			sta	VDC_AR
  720    20:C5A1  28         			plp
  721                        	
  722                        			leave
         20:C5A2  4C EF FF   			jmp	leave_proc
  723                        	
  724                        			.endp
  725                        	
  726                        	
  727                        	
  728                        	; ***************************************************************************
  729                        	; ***************************************************************************
  730                        	;
  731                        	; HuC Font Functions
  732                        	;
  733                        	; ***************************************************************************
  734                        	; ***************************************************************************
  735                        	
  736                        	
  737                        	
  738               26EB     			.bss
  739                        	
  740                        	; **************
  741                        	; 16-bytes of VDC BAT information.
  742                        	;
  743                        	; N.B. MUST be 16-bytes before the SGX versions to use PCE_VDC_OFFSET.
  744                        	
  745    F8:26EB             	_vdc_font_base:	ds	2	; Tile number of ASCII '\0'.
  746                        	
  747                        	; From hucc-printf.asm just to avoid wasting .bss space with padding.
  748    F8:26ED             	_vdc_tty_x_lhs:	ds	1	; TTY minimum X position.
  749    F8:26EE             	_vdc_tty_y_top:	ds	1	; TTY minimum Y position.
  750    F8:26EF             	_vdc_tty_x:	ds	1	; TTY current X position.
  751    F8:26F0             	_vdc_tty_y:	ds	1	; TTY current Y position.
  752                        	
  753               0001     		.if	SUPPORT_SGX
  754                        	
  755                        	; **************
  756                        	; 16-bytes of SGX BAT information.
  757                        	;
  758                        	; N.B. MUST be 16-bytes after the VDC versions to use SGX_VDC_OFFSET.
  759                        	
  760    F8:26F1             			ds	10	; Padding to ensure the 16-byte delta.
  761                        	
  762    F8:26FB             	_sgx_font_base:	ds	2	; Tile number of ASCII '\0'.
  763                        	
  764                        	; From hucc-printf.asm just to avoid wasting .bss space with padding.
  765    F8:26FD             	_sgx_tty_x_lhs:	ds	1	; TTY minimum X position.
  766    F8:26FE             	_sgx_tty_y_top:	ds	1	; TTY minimum Y position.
  767    F8:26FF             	_sgx_tty_x:	ds	1	; TTY current X position.
  768    F8:2700             	_sgx_tty_y:	ds	1	; TTY current Y position.
  769                        	
  770                        		.endif
  771                        	
  772                        	;_font_base	.alias	vdc_font_base
  773                        	
  774               E5D6     			.code
  775                        	
  776                        	
  777                        	
  778                        	; ***************************************************************************
  779                        	; ***************************************************************************
  780                        	;
  781                        	; void __fastcall set_font_addr( unsigned int vram<acc> );
  782                        	; void __fastcall sgx_set_font_addr( unsigned int vram<acc> );
  783                        	
  784               0001     		.if	SUPPORT_SGX
  785    00:E5D6             	_sgx_set_font_addr.1:
  786    00:E5D6  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
  787    00:E5D8  F0         			db	$F0			; Turn "clx" into a "beq".
  788                        		.endif
  789                        	
  790    00:E5D9             	_set_font_addr.1:
  791    00:E5D9  82         			clx				; Offset to PCE VDC.
  792                        	
  793    00:E5DA  84 00      	set_font_addr:	sty	<__temp
  794    00:E5DC  46 00      			lsr	<__temp
  795    00:E5DE  6A         			ror	a
  796    00:E5DF  46 00      			lsr	<__temp
  797    00:E5E1  6A         			ror	a
  798    00:E5E2  46 00      			lsr	<__temp
  799    00:E5E4  6A         			ror	a
  800    00:E5E5  46 00      			lsr	<__temp
  801    00:E5E7  6A         			ror	a
  802    00:E5E8  38         			sec
  803    00:E5E9  E9 20      			sbc	#$20
  804    00:E5EB  9D EB 26   			sta.l	_vdc_font_base,x
  805    00:E5EE  B0 02      			bcs	!+
  806    00:E5F0  C6 00      			dec	<__temp
  807                        	
  808    00:E5F2  BD EC 26   	!:		lda.h	_vdc_font_base, x
  809    00:E5F5  29 F0      			and	#$F0
  810    00:E5F7  05 00      			ora	<__temp
  811    00:E5F9  9D EC 26   			sta.h	_vdc_font_base, x
  812    00:E5FC  60         			rts
  813                        	
  814                        	
  815                        	
  816                        	; ***************************************************************************
  817                        	; ***************************************************************************
  818                        	;
  819                        	; void __fastcall set_font_pal( unsigned char palette<acc> );
  820                        	; void __fastcall sgx_set_font_pal( unsigned char palette<acc> );
  821                        	
  822               0001     		.if	SUPPORT_SGX
  823    00:E5FD             	_sgx_set_font_pal.1:
  824    00:E5FD  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
  825    00:E5FF  F0         			db	$F0			; Turn "clx" into a "beq".
  826                        		.endif
  827                        	
  828    00:E600             	_set_font_pal:					; For compatibility with HuC.
  829    00:E600             	_set_font_pal.1:
  830    00:E600  82         			clx				; Offset to PCE VDC.
  831    00:E601  0A         			asl	a
  832    00:E602  0A         			asl	a
  833    00:E603  0A         			asl	a
  834    00:E604  0A         			asl	a
  835    00:E605  85 00      			sta	<__temp
  836                        	
  837    00:E607  BD EC 26   			lda.h	_vdc_font_base, x
  838    00:E60A  29 0F      			and	#$0F
  839    00:E60C  05 00      			ora	<__temp
  840    00:E60E  9D EC 26   			sta.h	_vdc_font_base, x
  841    00:E611  60         			rts
  842                        	
  843                        	
  844                        	
  845                        	; ***************************************************************************
  846                        	; ***************************************************************************
  847                        	;
  848                        	; void __fastcall load_font( char far *font<_bp_bank:_bp>, unsigned char count<_al> );
  849                        	;
  850                        	; void __fastcall load_font( char far *font<_bp_bank:_bp>, unsigned char count<_al>, unsigned int vram<acc> );
  851                        	; void __fastcall sgx_load_font( char far *font<_bp_bank:_bp>, unsigned char count<_al>, unsigned int vram<acc> );
  852                        	;
  853                        	; void __fastcall far_load_font( unsigned char count<_al>, unsigned int vram<acc> );
  854                        	; void __fastcall sgx_far_load_font( unsigned char count<_al>, unsigned int vram<acc> );
  855                        	
  856    00:E612  AC CF 26   	_load_font.2:	ldy	vdc_bat_limit		; Load the font directly
  857    00:E615  C8         			iny				; after the BAT (stupid!).
  858    00:E616  62         			cla
  859    00:E617  80 03      			bra	_load_font.3
  860                        	
  861               0001     		.if	SUPPORT_SGX
  862    00:E619             	_sgx_load_font.3:
  863    00:E619  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
  864    00:E61B  F0         			db	$F0			; Turn "clx" into a "beq".
  865                        		.endif
  866                        	
  867    00:E61C  82         	_load_font.3:	clx				; Offset to PCE VDC.
  868                        	
  869    00:E61D  85 F0      			sta.l	<_di			; Load the font directly
  870    00:E61F  84 F1      			sty.h	<_di			; after the BAT (stupid!).
  871                        	
  872    00:E621  20 DA E5   			jsr	set_font_addr		; Set xxx_font_base from addr.
  873                        	
  874    00:E624  A5 F8      			lda	<__al			; Convert #tiles into #words.
  875    00:E626  64 F9      			stz	<__ah
  876    00:E628  0A         			asl	a
  877    00:E629  26 F9      			rol	<__ah
  878    00:E62B  0A         			asl	a
  879    00:E62C  26 F9      			rol	<__ah
  880    00:E62E  0A         			asl	a
  881    00:E62F  26 F9      			rol	<__ah
  882    00:E631  0A         			asl	a
  883    00:E632  26 F9      			rol	<__ah
  884    00:E634  85 F8      			sta	<__al
  885    00:E636  4C EB FE   			jmp	load_vram_x
  886                        	
  887    00:E639             			.alias	_far_load_font.2	= _load_font.3
  888    00:E639             			.alias	_sgx_far_load_font.2	= _sgx_load_font.3
  889                        	
  890                        	
  891                        	
  892                        	; ***************************************************************************
  893                        	; ***************************************************************************
  894                        	;
  895                        	; void __fastcall cls();
  896                        	; void __fastcall sgx_cls();
  897                        	;
  898                        	; void __fastcall cls( int tile<acc> );
  899                        	; void __fastcall sgx_cls( int tile<acc> );
  900                        	
  901               0001     		.if	SUPPORT_SGX
  902    00:E639  A2 10      	_sgx_cls:	ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
  903    00:E63B  F0         			db	$F0			; Turn "clx" into a "beq".
  904                        		.endif
  905                        	
  906    00:E63C  82         	_cls:		clx				; Offset to PCE VDC.
  907                        	
  908    00:E63D  BD EB 26   	clear_tty_x:	lda.l	_vdc_font_base, x
  909    00:E640  BC EC 26   			ldy.h	_vdc_font_base, x
  910    00:E643  18         			clc
  911    00:E644  69 20      			adc	#' '
  912    00:E646  90 07      			bcc	!+
  913    00:E648  C8         			iny
  914    00:E649  80 04      			bra	!+
  915                        	
  916               0001     		.if	SUPPORT_SGX
  917    00:E64B  A2 10      	_sgx_cls.1:	ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
  918    00:E64D  F0         			db	$F0			; Turn "clx" into a "beq".
  919                        		.endif
  920                        	
  921    00:E64E  82         	_cls.1:		clx
  922                        	
  923    00:E64F  85 F8      	!:		sta.l	<_ax			; VRAM word to write.
  924    00:E651  84 F9      			sty.h	<_ax
  925    00:E653  BD CF 26   			lda	vdc_bat_limit, x	; BAT size hi-byte.
  926    00:E656  1A         			inc	a
  927    00:E657  85 FA      			sta	<_bl
  928    00:E659  4C 3D FD   			jmp	clear_bat_x
  929                        	
  930                        	
  931                        	
  932                        	; ***************************************************************************
  933                        	; ***************************************************************************
  934                        	;
  935                        	; void __fastcall __macro load_default_font( void );
  936                        	; void __fastcall __macro sgx_load_default_font( void );
  937                        	;
  938                        	; Args: _bp, _bp_bank = _farptr to font data mapped into MPR3 & MPR4.
  939                        	; Args: _di = VRAM destination address.
  940                        	; Args: monofont_fg = font color (0..15)
  941                        	; Args: monofont_bg = background color (0..15)
  942                        	; Args: _al = number of tiles (aka characters) 0==256
  943                        	
  944    01:DC17             	huc_monofont_x	.proc
  945                        	
  946               2701     			.bss
  947    F8:2701             	monofont_fg:	.ds	1
  948    F8:2702             	monofont_bg:	.ds	1
  949               DC17     			.code
  950                        	
  951    01:DC17  BC CF 26   			ldy	vdc_bat_limit, x	; BAT limit mask hi-byte.
  952    01:DC1A  C8         			iny
  953    01:DC1B  62         			cla
  954    01:DC1C  85 F0      			sta.l	<_di			; Load the font directly
  955    01:DC1E  84 F1      			sty.h	<_di			; after the BAT (stupid!).
  956                        	
  957    01:DC20  20 DA E5   			jsr	set_font_addr		; Set xxx_font_base from addr.
  958                        	
  959    01:DC23  A9 A7      			lda.l	#.font
  960    01:DC25  85 EC      			sta.l	<_bp
  961    01:DC27  A9 DC      			lda.h	#.font
  962    01:DC29  85 ED      			sta.h	<_bp
  963                        	
  964    01:DC2B  A9 60      			lda	#$60			; #characters.
  965    01:DC2D  85 F8      			sta	<_al
  966                        	
  967    01:DC2F  20 93 E3   			jsr	set_di_to_mawr
  968                        	
  969    01:DC32  AD 01 27   			lda	monofont_fg		; Foreground pixel color.
  970    01:DC35  85 00      			sta	<__temp
  971    01:DC37  AD 02 27   			lda	monofont_bg		; Background pixel color.
  972    01:DC3A  DA         			phx
  973    01:DC3B  A2 FC      			ldx.l	#_cx			; Create a bit mask for each
  974    01:DC3D  9E 00 20   	.bg_loop:	stz	$2000, x		; plane of the background.
  975    01:DC40  4A         			lsr	a
  976    01:DC41  90 03      			bcc	.bg_plane
  977    01:DC43  DE 00 20   			dec	$2000, x
  978    01:DC46  E8         	.bg_plane:	inx
  979    01:DC47  D0 F4      			bne	.bg_loop
  980    01:DC49  FA         			plx
  981                        	
  982    01:DC4A  C2         	.tile_loop:	cly
  983                        	
  984    01:DC4B  B1 EC      	.plane01:	lda	[_bp], y		; Get font byte.
  985    01:DC4D  8F 00 06   			bbs0	<__temp, .set_plane0
  986    01:DC50  49 FF      	.clr_plane0:	eor	#$FF			; Clr font bits in background.
  987    01:DC52  25 FC      			and	<_cx + 0
  988    01:DC54  80 02      			bra	.put_plane0
  989    01:DC56  05 FC      	.set_plane0:	ora	<_cx + 0		; Set font bits in background.
  990    01:DC58  9D 02 02   	.put_plane0:	sta	VDC_DL, x
  991                        	
  992    01:DC5B  B1 EC      			lda	[_bp], y		; Get font byte.
  993    01:DC5D  9F 00 06   			bbs1	<__temp, .set_plane1
  994    01:DC60  49 FF      	.clr_plane1:	eor	#$FF			; Clr font bits in background.
  995    01:DC62  25 FD      			and	<_cx + 1
  996    01:DC64  80 02      			bra	.put_plane1
  997    01:DC66  05 FD      	.set_plane1:	ora	<_cx + 1		; Set font bits in background.
  998    01:DC68  9D 03 02   	.put_plane1:	sta	VDC_DH, x
  999                        	
 1000    01:DC6B  C8         			iny
 1001    01:DC6C  C0 08      			cpy	#8
 1002    01:DC6E  90 DB      			bcc	.plane01
 1003                        	
 1004    01:DC70  C2         			cly
 1005                        	
 1006    01:DC71  B1 EC      	.plane23:	lda	[_bp], y		; Get font byte.
 1007    01:DC73  AF 00 06   			bbs2	<__temp, .set_plane2
 1008    01:DC76  49 FF      	.clr_plane2:	eor	#$FF			; Clr font bits in background.
 1009    01:DC78  25 FE      			and	<_cx + 2
 1010    01:DC7A  80 02      			bra	.put_plane2
 1011    01:DC7C  05 FE      	.set_plane2:	ora	<_cx + 2		; Set font bits in background.
 1012    01:DC7E  9D 02 02   	.put_plane2:	sta	VDC_DL, x
 1013                        	
 1014    01:DC81  B1 EC      			lda	[_bp], y		; Get font byte.
 1015    01:DC83  BF 00 06   			bbs3	<__temp, .set_plane3
 1016    01:DC86  49 FF      	.clr_plane3:	eor	#$FF			; Clr font bits in background.
 1017    01:DC88  25 FF      			and	<_cx + 3
 1018    01:DC8A  80 02      			bra	.put_plane3
 1019    01:DC8C  05 FF      	.set_plane3:	ora	<_cx + 3		; Set font bits in background.
 1020    01:DC8E  9D 03 02   	.put_plane3:	sta	VDC_DH, x
 1021                        	
 1022    01:DC91  C8         			iny
 1023    01:DC92  C0 08      			cpy	#8
 1024    01:DC94  90 DB      			bcc	.plane23
 1025                        	
 1026    01:DC96  A5 EC      			lda.l	<_bp
 1027    01:DC98  69 07      			adc	#8-1
 1028    01:DC9A  85 EC      			sta.l	<_bp
 1029    01:DC9C  90 02      			bcc	!+
 1030    01:DC9E  E6 ED      			inc.h	<_bp
 1031                        	
 1032    01:DCA0  C6 F8      	!:		dec	<_al
 1033    01:DCA2  D0 A6      			bne	.tile_loop
 1034                        	
 1035                        			leave				; All done, phew!
         01:DCA4  4C EF FF   			jmp	leave_proc
 1036                        	
 1037    01:DCA7             	.font:		incbin	"data/font8x8-bold-short-iso646-fr.dat", 128
 1038                        	
 1039                        			.endp
 1040                        	
 1041                        	
 1042                        	
 1043                        	; ***************************************************************************
 1044                        	; ***************************************************************************
 1045                        	;
 1046                        	; HuC Text Output
 1047                        	;
 1048                        	; ***************************************************************************
 1049                        	; ***************************************************************************
 1050                        	
 1051                        	
 1052                        	
 1053    1D:DF25             	vdc_tty_out	.procgroup			; These routines share code!
 1054                        	
 1055                        	; ***************************************************************************
 1056                        	; ***************************************************************************
 1057                        	;
 1058                        	; void __fastcall put_char( unsigned char digit<_bl>, unsigned char bat_x<_dil>, unsigned char bat_y<_dih> );
 1059                        	
 1060               0001     		.if	SUPPORT_SGX
 1061                        	put_char_sgx	.proc
 1067                        			.endp
 1068                        		.endif
 1069                        	
 1070    1D:DF25             	put_char_vdc	.proc
 1071                        	
 1072    1D:DF25  82         			clx				; Offset to PCE VDC.
 1073                        	
 1074    1D:DF26  20 E4 DF   			jsr	put_di_xy_wrap		; Comply with HuC's wrapping.
 1075                        	
 1076    1D:DF29  62         			cla				; Push EOL marker.
 1077    1D:DF2A  48         			pha
 1078                        	
 1079    1D:DF2B  A5 FA      			lda	<_bl
 1080    1D:DF2D  48         			pha				; Push character to output.
 1081    1D:DF2E  80 58      			bra	!output+
 1082                        	
 1083    1D:DF30             			.ref	put_hex_vdc		; Need put_number_vdc
 1084                        			.endp
 1085                        	
 1086    1D:DF30             			.alias	_put_char.3		= put_char_vdc
 1087                        	
 1088                        	
 1089                        	
 1090                        	; ***************************************************************************
 1091                        	; ***************************************************************************
 1092                        	;
 1093                        	; void __fastcall put_digit( unsigned char digit<_bl>, unsigned char bat_x<_dil>, unsigned char bat_y<_dih> );
 1094                        	
 1095               0001     		.if	SUPPORT_SGX
 1096                        	put_digit_sgx	.proc
 1102                        			.endp
 1103                        		.endif
 1104                        	
 1105    1D:DF30             	put_digit_vdc	.proc
 1106                        	
 1107    1D:DF30  82         			clx				; Offset to PCE VDC.
 1108                        	
 1109    1D:DF31  20 E4 DF   			jsr	put_di_xy_wrap		; Comply with HuC's wrapping.
 1110                        	
 1111    1D:DF34  62         			cla				; Push EOL marker.
 1112    1D:DF35  48         			pha
 1113                        	
 1114    1D:DF36  A5 FA      			lda	<_bl			; Convert hex digit to ASCII.
 1115    1D:DF38  29 0F      			and	#$0F
 1116    1D:DF3A  C9 0A      			cmp	#10
 1117    1D:DF3C  90 02      			bcc	!+
 1118    1D:DF3E  69 06      			adc	#6
 1119    1D:DF40  69 30      	!:		adc	#'0'
 1120    1D:DF42  48         			pha				; Push character to output.
 1121    1D:DF43  80 43      			bra	!output+
 1122                        	
 1123    1D:DF45             			.ref	put_hex_vdc		; Need put_number_vdc
 1124                        			.endp
 1125                        	
 1126    1D:DF45             			.alias	_put_digit.3		= put_digit_vdc
 1127                        	
 1128                        	
 1129                        	
 1130                        	; ***************************************************************************
 1131                        	; ***************************************************************************
 1132                        	;
 1133                        	; void __fastcall put_hex( unsigned int number<_bx>, unsigned char length<_cl>, unsigned char bat_x<_dil>, unsigned char bat_y<_dih> );
 1134                        	
 1135               0001     		.if	SUPPORT_SGX
 1136                        	put_hex_sgx	.proc
 1141                        			.endp
 1142                        		.endif
 1143                        	
 1144    1D:DF45             	put_hex_vdc	.proc
 1145                        	
 1146    1D:DF45  82         			clx				; Offset to PCE VDC.
 1147                        	
 1148    1D:DF46  20 E4 DF   			jsr	put_di_xy_wrap		; Comply with HuC's wrapping.
 1149                        	
 1150    1D:DF49  A4 FC      			ldy	<_cl			; Total #characters to print,
 1151    1D:DF4B  F0 3E      			beq	!exit+			; NOT minimum #characters!
 1152                        	
 1153    1D:DF4D  86 00      			stx	<__temp			; Preserve which VDC.
 1154                        	
 1155    1D:DF4F  82         			clx				; Push EOL marker.
 1156    1D:DF50  DA         			phx
 1157                        	
 1158    1D:DF51  B5 FA      	.hex_byte:	lda.l	<_bx, x			; Convert hex digit to ASCII.
 1159    1D:DF53  29 0F      			and	#$0F
 1160    1D:DF55  C9 0A      			cmp	#10
 1161    1D:DF57  90 02      			bcc	!+
 1162    1D:DF59  69 06      			adc	#6
 1163    1D:DF5B  69 30      	!:		adc	#'0'
 1164    1D:DF5D  48         			pha				; Push character to output.
 1165    1D:DF5E  88         			dey
 1166    1D:DF5F  F0 15      			beq	.hex_done
 1167                        	
 1168    1D:DF61  B5 FA      			lda.l	<_bx, x			; Convert hex digit to ASCII.
 1169    1D:DF63  4A         			lsr	a
 1170    1D:DF64  4A         			lsr	a
 1171    1D:DF65  4A         			lsr	a
 1172    1D:DF66  4A         			lsr	a
 1173    1D:DF67  C9 0A      			cmp	#10
 1174    1D:DF69  90 02      			bcc	!+
 1175    1D:DF6B  69 06      			adc	#6
 1176    1D:DF6D  69 30      	!:		adc	#'0'
 1177    1D:DF6F  48         			pha				; Push character to output.
 1178    1D:DF70  88         			dey
 1179    1D:DF71  F0 03      			beq	.hex_done
 1180                        	
 1181    1D:DF73  E8         			inx
 1182    1D:DF74  80 DB      			bra	.hex_byte
 1183                        	
 1184    1D:DF76  A6 00      	.hex_done:	ldx	<__temp			; Restore which VDC.
 1185    1D:DF78  80 0E      			bra	!output+
 1186                        	
 1187    1D:DF7A  18         	.write:		clc
 1188    1D:DF7B  7D EB 26   			adc.l	_vdc_font_base, x
 1189    1D:DF7E  9D 02 02   			sta	VDC_DL, x
 1190    1D:DF81  62         			cla
 1191    1D:DF82  7D EC 26   			adc.h	_vdc_font_base, x
 1192    1D:DF85  9D 03 02   			sta	VDC_DH, x
 1193                        	
 1194    1D:DF88  68         	!output:	pla				; Pop the digits and output.
 1195    1D:DF89  D0 EF      			bne	.write
 1196                        	
 1197                        	!exit:		leave				; All done!
         1D:DF8B  4C EF FF   			jmp	leave_proc
 1198                        	
 1199                        			.endp
 1200                        	
 1201    1D:DF8E             			.alias	_put_hex.4 = put_hex_vdc
 1202                        	
 1203                        	
 1204                        	
 1205                        	; ***************************************************************************
 1206                        	; ***************************************************************************
 1207                        	;
 1208                        	; void __fastcall put_number( unsigned int number<_bx>, unsigned char length<_cl>, unsigned char bat_x<_dil>, unsigned char bat_y<_dih> );
 1209                        	
 1210               0001     		.if	SUPPORT_SGX
 1211                        	put_number_sgx	.proc
 1216                        			.endp
 1217                        		.endif
 1218                        	
 1219    1D:DF8E             	put_number_vdc	.proc
 1220                        	
 1221    1D:DF8E  82         			clx				; Offset to PCE VDC.
 1222                        	
 1223    1D:DF8F  20 E4 DF   			jsr	put_di_xy_wrap		; Comply with HuC's wrapping.
 1224                        	
 1225    1D:DF92  A4 FC      			ldy	<_cl			; Total #characters to print,
 1226    1D:DF94  F0 F5      			beq	!exit-			; NOT minimum #characters!
 1227                        	
 1228    1D:DF96  86 00      			stx	<__temp			; Preserve which VDC.
 1229                        	
 1230    1D:DF98  82         			clx				; Push EOL marker.
 1231    1D:DF99  DA         			phx
 1232                        	
 1233    1D:DF9A  A6 FB      			ldx.h	<_bx			; Is the number -ve?
 1234    1D:DF9C  86 FC      			stx	<_cl			; Remember this.
 1235    1D:DF9E  10 10      			bpl	.divide_by_ten
 1236                        	
 1237    1D:DFA0  38         			sec				; Make the number +ve.
 1238    1D:DFA1  A5 FA      			lda.l	<_bx
 1239    1D:DFA3  49 FF      			eor	#$FF
 1240    1D:DFA5  69 00      			adc	#0
 1241    1D:DFA7  85 FA      			sta.l	<_bx
 1242    1D:DFA9  8A         			txa
 1243    1D:DFAA  49 FF      			eor	#$FF
 1244    1D:DFAC  69 00      			adc	#0
 1245    1D:DFAE  85 FB      			sta.h	<_bx
 1246                        	
 1247    1D:DFB0  A2 10      	.divide_by_ten:	ldx	#16
 1248    1D:DFB2  62         			cla				; Clear Remainder.
 1249    1D:DFB3  06 FA      			asl.l	<_bx			; Rotate Dividend, MSB -> C.
 1250    1D:DFB5  26 FB      			rol.h	<_bx
 1251    1D:DFB7  2A         	.divide_loop:	rol	a			; Rotate C into Remainder.
 1252    1D:DFB8  C9 0A      			cmp	#10			; Test Divisor.
 1253    1D:DFBA  90 02      			bcc	.divide_less		; CC if Divisor > Remainder.
 1254    1D:DFBC  E9 0A      			sbc	#10			; Subtract Divisor.
 1255    1D:DFBE  26 FA      	.divide_less:	rol.l	<_bx			; Quotient bit -> Dividend LSB.
 1256    1D:DFC0  26 FB      			rol.h	<_bx			; Rotate Dividend, MSB -> C.
 1257    1D:DFC2  CA         			dex
 1258    1D:DFC3  D0 F2      			bne	.divide_loop
 1259                        	
 1260    1D:DFC5  18         			clc
 1261    1D:DFC6  69 30      			adc	#'0'			; Always leaves C clr.
 1262    1D:DFC8  48         			pha				; Push character to output.
 1263    1D:DFC9  88         			dey
 1264    1D:DFCA  F0 10      			beq	!pad+
 1265    1D:DFCC  A5 FA      			lda.l	<_bx			; Repeat while non-zero.
 1266    1D:DFCE  05 FB      			ora.h	<_bx
 1267    1D:DFD0  D0 DE      			bne	.divide_by_ten
 1268                        	
 1269    1D:DFD2  A6 00      			ldx	<__temp			; Restore which VDC.
 1270                        	
 1271    1D:DFD4  A5 FC      			lda	<_cl			; Was the number -ve?
 1272    1D:DFD6  10 04      			bpl	!pad+
 1273    1D:DFD8  A9 2D      			lda	#'-'			; Output a leading '-'.
 1274    1D:DFDA  48         			pha
 1275    1D:DFDB  88         			dey
 1276                        	
 1277    1D:DFDC  A9 20      	!pad:		lda	#' '			; Add padding characters.
 1278    1D:DFDE  88         	.loop:		dey
 1279    1D:DFDF  30 A7      			bmi	!output-
 1280    1D:DFE1  48         			pha
 1281    1D:DFE2  80 FA      			bra	.loop
 1282                        	
 1283    1D:DFE4             			.ref	put_hex_vdc		; Need put_number_vdc
 1284                        	
 1285                        			.endp
 1286                        	
 1287    1D:DFE4             			.alias	_put_number.4 = put_number_vdc
 1288                        	
 1289                        	
 1290                        	
 1291                        	; ***************************************************************************
 1292                        	; ***************************************************************************
 1293                        	;
 1294                        	; void __fastcall put_raw( unsigned int data<_bx>, unsigned char bat_x<_dil>, unsigned char bat_y<_dih> );
 1295                        	
 1296               0001     		.if	SUPPORT_SGX
 1297                        	put_raw_sgx	.proc
 1302                        			.endp
 1303                        		.endif
 1304                        	
 1305                        	put_raw_vdc	.proc
 1318                        			.endp
 1319                        	
 1320    1D:DFE4             			.alias	_put_raw.3		= put_raw_vdc
 1321                        	
 1322                        			;
 1323                        			; Ugly hack to wrap the X & Y coordinates like HuC.
 1324                        			;
 1325                        	
 1326    1D:DFE4  A5 F0      	put_di_xy_wrap:	lda.l	<_di			; Sanitize X coordinate.
 1327    1D:DFE6  3D CD 26   			and	vdc_bat_x_mask, x
 1328    1D:DFE9  85 F0      			sta.l	<_di
 1329                        	
 1330    1D:DFEB  A5 F1      			lda.h	<_di			; Sanitize Y coordinate.
 1331    1D:DFED  3D CE 26   			and	vdc_bat_y_mask, x
 1332    1D:DFF0  85 F1      			sta.h	<_di
 1333                        	
 1334    1D:DFF2  4C 48 E4   			jmp	set_di_xy_mawr		; In "common.asm".
 1335                        	
 1336                        			.endprocgroup			; vdc_tty_out
 1337                        	
 1338                        	
 1339                        	
 1340                        	; ***************************************************************************
 1341                        	; ***************************************************************************
 1342                        	;
 1343                        	; void __fastcall put_string( unsigned char *string<_bp>, unsigned char bat_x<_dil>, unsigned char bat_y<_dih> );
 1344                        	;
 1345                        	; N.B. This is not a .proc right now because it is called from procedures
 1346                        	; that contain embedded strings, and the string aren't banked in before
 1347                        	; printing (yet).
 1348                        	
 1349               0001     		.if	SUPPORT_SGX
 1350    00:E65C             	_sgx_put_string.3:
 1351    00:E65C  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
 1352    00:E65E  F0         			db	$F0			; Turn "clx" into a "beq".
 1353                        		.endif
 1354                        	
 1355    00:E65F  82         	_put_string.3:	clx				; Offset to PCE VDC.
 1356                        	
 1357    00:E660  20 48 E4   			jsr	set_di_xy_mawr
 1358                        	
 1359    00:E663  C2         			cly
 1360    00:E664  B1 EC      	.chr_loop:	lda	[_bp], y
 1361    00:E666  F0 15      			beq	.done
 1362                        	
 1363    00:E668  18         			clc
 1364    00:E669  7D EB 26   			adc.l	_vdc_font_base, x
 1365    00:E66C  9D 02 02   			sta	VDC_DL, x
 1366    00:E66F  62         			cla
 1367    00:E670  7D EC 26   			adc.h	_vdc_font_base, x
 1368    00:E673  9D 03 02   			sta	VDC_DH, x
 1369                        	
 1370    00:E676  C8         			iny
 1371    00:E677  D0 EB      			bne	.chr_loop
 1372    00:E679  E6 ED      			inc.h	<_bp
 1373    00:E67B  80 E7      			bra	.chr_loop
 1374                        	
 1375    00:E67D  60         	.done:		rts
 1376                        	
 1377                        	
 1378                        	
 1379                        	; ***************************************************************************
 1380                        	; ***************************************************************************
 1381                        	;
 1382                        	; void __fastcall set_color_rgb( unsigned int index<VCE_CTA>, unsigned char r<_al>, unsigned char g<_ah>, unsigned char b<acc> );
 1383                        	;
 1384                        	; r:	red	RED:	bit 3-5
 1385                        	; g:	green	GREEN:	bit 6-8
 1386                        	; b:	blue	BLUE:	bit 0-2
 1387                        	
 1388    00:E67E             	_set_color_rgb.4:
 1389                        	;		and	#7
 1390    00:E67E  85 00      			sta	<__temp
 1391    00:E680  A5 F8      			lda	<_al
 1392                        	;		and	#7
 1393    00:E682  0A         			asl	a
 1394    00:E683  0A         			asl	a
 1395    00:E684  0A         			asl	a
 1396    00:E685  05 00      			ora	<__temp
 1397    00:E687  0A         			asl	a
 1398    00:E688  0A         			asl	a
 1399    00:E689  85 00      			sta	<__temp
 1400    00:E68B  A5 F9      			lda	<_ah
 1401                        	;		and	#7
 1402    00:E68D  4A         			lsr	a
 1403    00:E68E  66 00      			ror	<__temp
 1404    00:E690  4A         			lsr	a
 1405    00:E691  66 00      			ror	<__temp
 1406    00:E693  A8         			tay
 1407    00:E694  A5 00      			lda	<__temp
 1408    00:E696  8D 04 04   			sta.l	VCE_CTW
 1409    00:E699  8C 05 04   			sty.h	VCE_CTW
 1410    00:E69C  60         			rts
                             #[2]   "..\..\..\include\hucc\hucc-final.asm"
   44                        	
   45                        			; Define in hucc-config.inc to remove this.
   46                        	
   47               0001     		.ifndef	HUCC_NO_DEFAULT_RANDOM
                             #[3]   "..\..\..\include\hucc\random.asm"
   48                        			include	"random.asm"		; Random number generator.
    1                        	; ***************************************************************************
    2                        	; ***************************************************************************
    3                        	;
    4                        	; random.asm
    5                        	;
    6                        	; Pseudo-random number generator (https://github.com/bbbradsmith/prng_6502)
    7                        	;
    8                        	; Copyright Brad Smith 2019.
    9                        	;
   10                        	; License:
   11                        	;
   12                        	; This code and may be used, reused, and modified for any purpose, commercial
   13                        	; or non-commercial.
   14                        	;
   15                        	; Attribution in released binaries or documentation is appreciated but not
   16                        	; required.
   17                        	;
   18                        	; ***************************************************************************
   19                        	; ***************************************************************************
   20                        	;
   21                        	; This is a linear feedback shift register (LFSR) in Galois form, which is
   22                        	; iterated 8 times to produce an 8-bit pseudo-random number.
   23                        	;
   24                        	; Two widths of LFSR are provided:
   25                        	;
   26                        	;  24-bit requires 3 bytes, and repeats after 16777215 calls.
   27                        	;  32-bit requires 4 bytes, and repeats after 4294967295 calls.
   28                        	;
   29                        	; Usage:
   30                        	;
   31                        	;  Initialize the zero-page "random" variable to any value other than 0.
   32                        	;  The size of "random" is 3 or 4 bytes, depending on the width of LFSR
   33                        	;  chosen.
   34                        	;
   35                        	;  Call one of the RNG functions and an 8-bit result will be returned in the
   36                        	;  A-register (with flags), and the Y-register will be clobbered.
   37                        	;
   38                        	;  Do not mix RNGs of different width in the same program, unless you can
   39                        	;  give them each separate "random" state storage.
   40                        	;
   41                        	; ***************************************************************************
   42                        	; ***************************************************************************
   43                        	
   44                        	
   45               0001     		.ifndef	_KICKC				; Variables defined in C?
   46               2098     			.zp
   47    F8:2098             	random:		.ds	4			; Seed is 3 or 4 bytes.
   48               E69D     			.code
   49                        		.endif	_KICKC
   50                        	
   51                        	
   52                        	
   53                        	; ***************************************************************************
   54                        	; ***************************************************************************
   55                        	;
   56                        	; init_random - Initialize a 32-bit LFSR using an 8-bit seed value in Y.
   57                        	;
   58                        	; The LFSR is initialized to n'th entry of a standard CRC-32 lookup-table,
   59                        	; which gives it a decent distribution of bits.
   60                        	;
   61                        	; Since seed is an 8-bit value, there are 255 (256-1) possible starting
   62                        	; states for the LFSR, because 0 would generate a 0 state.
   63                        	;
   64                        	; CRC-32 code by Paul Guertin. See http://6502.org/source/integers/crc.htm
   65                        	;
   66                        	
   67    20:C5A5             	init_random	.proc
   68                        	
   69    20:C5A5  A9 01      			lda	#1			; Init CRC-32 table value.
   70    20:C5A7  85 98      			sta	<random + 0
   71    20:C5A9  98         			tya				; Get and check the seed value.
   72    20:C5AA  D0 01      			bne	.reverse_seed
   73    20:C5AC  3A         			dec	a			; Which must be non-zero!
   74    20:C5AD  4A         	.reverse_seed:	lsr	a			; Reverse the bits so that small changes
   75    20:C5AE  26 98      			rol	<random + 0		; in the seed make larger differences in
   76    20:C5B0  90 FB      			bcc	.reverse_seed		; the initial state.
   77                        	
   78    20:C5B2  64 99      			stz	<random + 1		; A contains the high byte of the CRC-32.
   79    20:C5B4  64 9A      			stz	<random + 2		; The other three bytes are in memory.
   80    20:C5B6  62         			cla
   81                        	
   82    20:C5B7  A0 08      			ldy	#8			; Y counts bits in a byte.
   83    20:C5B9  4A         	.bit_loop:	lsr	a			; The CRC-32 algorithm is similar to CRC-16
   84    20:C5BA  66 9A      			ror	<random + 2		; except that it is reversed (originally for
   85    20:C5BC  66 99      			ror	<random + 1		; hardware reasons). This is why we shift
   86    20:C5BE  66 98      			ror	<random + 0		; right instead of left here.
   87    20:C5C0  90 16      			bcc	.no_add			; Do nothing if no overflow,
   88    20:C5C2  49 ED      			eor	#$ED			; else add CRC-32 polynomial $EDB88320.
   89                        	
   90    20:C5C4  48         			pha				; Save high byte while we do others.
   91    20:C5C5  A5 9A      			lda	<random + 2
   92    20:C5C7  49 B8      			eor	#$B8			; Most reference books give the CRC-32 poly
   93    20:C5C9  85 9A      			sta	<random + 2		; as $04C11DB7. This is actually the same if
   94    20:C5CB  A5 99      			lda	<random + 1		; you write it in binary and read it right-
   95    20:C5CD  49 83      			eor	#$83			; to-left instead of left-to-right. Doing it
   96    20:C5CF  85 99      			sta	<random + 1		; this way means we won't have to explicitly
   97    20:C5D1  A5 98      			lda	<random + 0		; reverse things afterwards.
   98    20:C5D3  49 20      			eor	#$20
   99    20:C5D5  85 98      			sta	<random + 0
  100    20:C5D7  68         			pla				; Restore high byte.
  101                        	
  102    20:C5D8  88         	.no_add:	dey				; Do next bit.
  103    20:C5D9  D0 DE      			bne	.bit_loop
  104                        	
  105    20:C5DB  85 9B      			sta	<random + 3		; Save CRC-32 high-byte.
  106                        	
  107                        			leave				; All done!
         20:C5DD  4C EF FF   			jmp	leave_proc
  108                        	
  109                        			.endp
  110                        	
  111                        	
  112                        	
  113                        	; ***************************************************************************
  114                        	; ***************************************************************************
  115                        	;
  116                        	; get_random - 8-bit LFSR pseudo-random number with a 24-bit cycle.
  117                        	;
  118                        	; The pseudo-random sequence repeats after (2^24)-1 calls.
  119                        	;
  120                        	; Written by Wim Couwenberg, see ...
  121                        	;
  122                        	; "https://wimcouwenberg.wordpress.com/2020/11/15/ ...
  123                        	;  a-fast-24-bit-prng-algorithm-for-the-6502-processor/"
  124                        	;
  125                        	; Takes 68 cycles on the HuC6280, incl JSR & RTS.
  126                        	;
  127                        	; N.B. HuCC library code relies on this preserving X and Y!
  128                        	;
  129                        	
  130    00:E69D  C2         	_rand8:		cly				; Entry point for HuCC.
  131                        	
  132    00:E69E  A5 98      	get_random:	lda	<random + 0		; Operation 7 (with carry clear).
  133    00:E6A0  0A         			asl	a
  134    00:E6A1  45 99      			eor	<random + 1
  135    00:E6A3  85 99      			sta	<random + 1
  136    00:E6A5  2A         			rol	a             		; Operation 9.
  137    00:E6A6  45 9A      			eor	<random + 2
  138    00:E6A8  85 9A      			sta	<random + 2
  139    00:E6AA  45 98      			eor	<random + 0		; Operation 5.
  140    00:E6AC  85 98      			sta	<random + 0
  141    00:E6AE  A5 99      			lda	<random + 1		; Operation 15.
  142    00:E6B0  6A         			ror	a
  143    00:E6B1  45 9A      			eor	<random + 2
  144    00:E6B3  85 9A      			sta	<random + 2
  145    00:E6B5  45 99      			eor	<random + 1		; Operation 6.
  146    00:E6B7  85 99      			sta	<random + 1
  147    00:E6B9  60         			rts
  148                        	
  149                        	
  150                        	
  151               0000     		.if	0
  316                        		.endif
                             #[2]   "..\..\..\include\hucc\hucc-final.asm"
   49                        		.endif
   50                        	
   51                        			; Optional libraries that get used when their header files
   52                        			; are included in a HuCC project.
   53                        			;
   54                        			; When the HuCC compiler is invoked with the "--legacy"
   55                        			; option to compile old projects, then the "huc.h" file
   56                        			; is automatically included, which then includes a list
   57                        			; of specific headers corresponding to HuC's library.
   58                        	
   59               0001     		.ifdef	HUCC_USES_STRING		; Set in hucc_string.h
                             #[3]   "..\..\..\include\hucc\hucc-string.asm"
   60                        			include	"hucc-string.asm"
    1                        	; ***************************************************************************
    2                        	; ***************************************************************************
    3                        	;
    4                        	; hucc-string.asm
    5                        	;
    6                        	; Not-quite-standard, but fast, replacements for <string.h>.
    7                        	;
    8                        	; Copyright John Brandwood 2024.
    9                        	;
   10                        	; Distributed under the Boost Software License, Version 1.0.
   11                        	; (See accompanying file LICENSE_1_0.txt or copy at
   12                        	;  http://www.boost.org/LICENSE_1_0.txt)
   13                        	;
   14                        	; ***************************************************************************
   15                        	; ***************************************************************************
   16                        	;
   17                        	; !!! WARNING : non-standard return values !!!
   18                        	;
   19                        	; Strings are limited to a maximum of 255 characters (+ the terminator)!
   20                        	;
   21                        	; The memcpy(), strcpy() and strcat() functions do NOT return the destination
   22                        	; address, and they are declared "void" to check that the value is not used.
   23                        	;
   24                        	; mempcpy() is provided which returns the end address instead of the starting
   25                        	; address, because this is typically more useful.
   26                        	;
   27                        	; Please note that both memcpy() and memset() are implemented using a TII for
   28                        	; speed, and so the length should be < 16 bytes if used in time-critical bits
   29                        	; of code (such as when using a split screen) because they delay interrupts.
   30                        	;
   31                        	; strncpy() and strncat() are not provided, because strncpy() was not created
   32                        	; for the purpose of avoiding string overruns, and strncat() is just a poorly
   33                        	; designed function.
   34                        	;
   35                        	; POSIX strlcpy() and strlcat() are provided instead, but once again they are
   36                        	; slightly non-standard in that the return value when there is an overflow is
   37                        	; the buffer size (so that the overflow can be detected), instead of the full
   38                        	; size of the destination string that was too big to fit in the buffer.
   39                        	;
   40                        	; ***************************************************************************
   41                        	; ***************************************************************************
   42                        	
   43                        	
   44                        	
   45                        	; ***************************************************************************
   46                        	; ***************************************************************************
   47                        	;
   48                        	; void __fastcall strcpy( char *destination<_di>, char *source<_bp> );
   49                        	; void __fastcall strcat( char *destination<_di>, char *source<_bp> );
   50                        	;
   51                        	; unsigned int __fastcall strlcpy( char *destination<_di>, char *source<_bp>, unsigned char size<acc> );
   52                        	; unsigned int __fastcall strlcat( char *destination<_di>, char *source<_bp>, unsigned char size<acc> );
   53                        	; unsigned int __fastcall strlen( char *source<_bp> );
   54                        	;
   55                        	; NOT WORKING YET (needs compiler changes) ...
   56                        	;
   57                        	; void __fastcall strcpy( char *destination<_di>, char __far *source<_bp_bank:_bp> );
   58                        	; void __fastcall strcat( char *destination<_di>, char __far *source<_bp_bank:_bp> );
   59                        	;
   60                        	; unsigned int __fastcall strlcpy( char *destination<_di>, char __far *source<_bp_bank:_bp>, unsigned char size<acc> );
   61                        	; unsigned int __fastcall strlcat( char *destination<_di>, char __far *source<_bp_bank:_bp>, unsigned char size<acc> );
   62                        	; unsigned int __fastcall strlen( char __far *source<_bp_bank:_bp> );
   63                        	
   64    00:E6BA  62         	_strcat:	cla				; Max string length == 256!
   65    00:E6BB  A0 01      			ldy.h	#256
   66                        	
   67    00:E6BD  AA         	_strlcat:	tax				; X = buffer length (1..256).
   68                        	
   69               0000     		.ifdef	_DEBUG
   74                        		.endif
   75                        	
   76    00:E6BE  43 08      			tma3				; Preserve MPR3 and MPR4.
   77    00:E6C0  48         			pha
   78    00:E6C1  43 10      			tma4
   79    00:E6C3  48         			pha
   80                        	
   81                        	;		ldy	<_bp_bank		; Map the source string.
   82                        	;		beq	.no_bank
   83                        	;		jsr	map_bp_to_mpr34
   84                        	
   85    00:E6C4  C2         	.no_bank:	cly
   86                        	
   87    00:E6C5  B1 F0      	.find:		lda	[_di], y		; Find the end of the string.
   88    00:E6C7  F0 08      			beq	.adjust
   89    00:E6C9  C8         			iny
   90    00:E6CA  CA         			dex
   91    00:E6CB  D0 F8      			bne	.find
   92    00:E6CD  98         			tya				; A:Y = buffer length.
   93    00:E6CE  62         			cla
   94    00:E6CF  80 28      			bra	str_overflow
   95                        	
   96    00:E6D1  98         	.adjust:	tya				; Subtract Y from _bp so that
   97    00:E6D2  49 FF      			eor	#$FF			; _bp and _di use the same Y.
   98    00:E6D4  38         			sec
   99    00:E6D5  65 EC      			adc.l	<_bp
  100    00:E6D7  85 EC      			sta.l	<_bp
  101    00:E6D9  B0 0F      			bcs	str_copy
  102    00:E6DB  C6 ED      			dec.h	<_bp
  103    00:E6DD  80 0B      			bra	str_copy
  104                        	
  105                        			;
  106                        	
  107    00:E6DF  62         	_strcpy:	cla				; Max string length == 256!
  108    00:E6E0  A0 01      			ldy.h	#256
  109                        	
  110    00:E6E2  AA         	_strlcpy:	tax				; X = buffer length (1..256).
  111                        	
  112               0000     		.ifdef	_DEBUG
  117                        		.endif
  118                        	
  119    00:E6E3  43 08      			tma3				; Preserve MPR3 and MPR4.
  120    00:E6E5  48         			pha
  121    00:E6E6  43 10      			tma4
  122    00:E6E8  48         			pha
  123                        	
  124                        	;		ldy	<_bp_bank		; Map the source string.
  125                        	;		beq	.no_bank
  126                        	;		jsr	map_bp_to_mpr34
  127                        	
  128    00:E6E9  C2         	.no_bank:	cly
  129                        	
  130    00:E6EA  B1 EC      	str_copy:	lda	[_bp], y
  131    00:E6EC  91 F0      			sta	[_di], y
  132    00:E6EE  F0 1E      			beq	str_exit		; A:Y = string length.
  133    00:E6F0  C8         			iny
  134    00:E6F1  CA         			dex
  135    00:E6F2  D0 F6      			bne	str_copy
  136                        	
  137    00:E6F4  88         			dey
  138    00:E6F5  62         			cla
  139    00:E6F6  91 F0      			sta	[_di], y
  140    00:E6F8  C8         			iny				; A:Y = buffer length.
  141    00:E6F9  D0 13      	str_overflow:	bne	str_exit
  142    00:E6FB  1A         			inc	a			; A:Y = buffer length = 256.
  143    00:E6FC  80 10      			bra	str_exit
  144                        	
  145                        			;
  146                        	
  147    00:E6FE  43 08      	_strlen:	tma3
  148    00:E700  48         			pha
  149    00:E701  43 10      			tma4
  150    00:E703  48         			pha
  151                        	
  152                        	;		ldy	<_bp_bank
  153                        	;		beq	.no_bank
  154                        	;		jsr	map_bp_to_mpr34
  155                        	
  156    00:E704  C2         	.no_bank:	cly
  157                        	
  158    00:E705  B1 EC      	.find:		lda	[_bp], y
  159    00:E707  F0 05      			beq	str_exit
  160    00:E709  C8         			iny
  161    00:E70A  D0 F9      			bne	.find
  162    00:E70C  A9 01      			lda.h	#256			; A:Y = overflow length = 256.
  163                        	
  164    00:E70E  AA         	str_exit:	tax				; X:Y = string or buffer length.
  165                        	
  166    00:E70F  68         			pla				; Restore MPR3 and MPR4.
  167    00:E710  53 10      			tam4
  168    00:E712  68         			pla
  169    00:E713  53 08      			tam3
  170                        	
  171    00:E715  8A         			txa				; A:Y = string or buffer length.
  172    00:E716  42         			say				; Y:A = string or buffer length.
  173                        	
  174    00:E717  60         			rts
  175                        	
  176    00:E718             			.alias	_strlen.1		= _strlen
  177    00:E718             			.alias	_strcpy.2		= _strcpy
  178    00:E718             			.alias	_strcat.2		= _strcat
  179    00:E718             			.alias	_strlcpy.3		= _strlcpy
  180    00:E718             			.alias	_strlcat.3		= _strlcat
  181                        	
  182                        	
  183                        	
  184                        	; ***************************************************************************
  185                        	; ***************************************************************************
  186                        	;
  187                        	; void __fastcall memcpy( unsigned char *destination<ram_tii_dst>, unsigned char  *source<ram_tii_src>, unsigned int count<acc> );
  188                        	; unsigned char * __fastcall mempcpy( unsigned char *destination<ram_tii_dst>, unsigned char  *source<ram_tii_src>, unsigned int count<acc> );
  189                        	;
  190                        	; void __fastcall farmemcpy( unsigned char *destination<ram_tii_dst>, unsigned char __far *source<_bp_bank:ram_tii_src>, unsigned int count<acc> );
  191                        	; unsigned char * __fastcall farmempcpy( unsigned char *destination<ram_tii_dst>, unsigned char __far *source<_bp_bank:ram_tii_src>, unsigned int count<acc> );
  192                        	;
  193                        	; void __fastcall far_memcpy( unsigned char *destination<ram_tii_dst>, unsigned int count<acc> );
  194                        	; unsigned char * __fastcall far_mempcpy( unsigned char *destination<ram_tii_dst>, unsigned int count<acc> );
  195                        	;
  196                        	
  197    00:E718             	_memcpy.3:
  198    00:E718  64 02      	_mempcpy.3:	stz	<_bp_bank		; Map the source memory.
  199                        	
  200    00:E71A             	_farmemcpy.3:
  201    00:E71A  8C FE 22   	_farmempcpy.3:	sty.h	ram_tii_len		; Check for zero length.
  202    00:E71D  8D FD 22   			sta.l	ram_tii_len
  203    00:E720  0D FE 22   			ora.h	ram_tii_len
  204    00:E723  F0 18      			beq	.zero_length
  205                        	
  206    00:E725  43 08      			tma3				; Preserve MPR3 and MPR4.
  207    00:E727  48         			pha
  208    00:E728  43 10      			tma4
  209    00:E72A  48         			pha
  210                        	
  211    00:E72B  A5 02      			lda	<_bp_bank		; Map the source memory.
  212    00:E72D  F0 05      			beq	.no_bank
  213                        	
  214    00:E72F  53 08      			tam3				; Put bank into MPR3.
  215    00:E731  1A         			inc	a
  216    00:E732  53 10      			tam4				; Put next into MPR4.
  217                        	
  218                        	;		lda.h	ram_tii_src		; Remap ptr to MPR3.
  219                        	;		and	#$1F
  220                        	;		ora	#$60
  221                        	;		sta.h	ram_tii_src
  222                        	
  223    00:E734  20 F8 22   	.no_bank:	jsr	ram_tii			; Copy the memory.
  224                        	
  225    00:E737  68         			pla				; Restore MPR3 and MPR4.
  226    00:E738  53 10      			tam4
  227    00:E73A  68         			pla
  228    00:E73B  53 08      			tam3
  229                        	
  230    00:E73D  18         	.zero_length:	clc				; Return the end address
  231    00:E73E  AD FB 22   			lda.l	ram_tii_dst		; like mempcpy().
  232    00:E741  6D FD 22   			adc.l	ram_tii_len
  233    00:E744  A8         			tay
  234    00:E745  AD FC 22   			lda.h	ram_tii_dst
  235    00:E748  6D FE 22   			adc.h	ram_tii_len
  236    00:E74B  42         			say
  237                        	
  238    00:E74C  60         			rts
  239                        	
  240    00:E74D             			.alias	_far_memcpy.2		= _farmemcpy.3
  241    00:E74D             			.alias	_far_mempcpy.2		= _farmempcpy.3
  242                        	
  243                        	
  244                        	
  245                        	; ***************************************************************************
  246                        	; ***************************************************************************
  247                        	;
  248                        	; void __fastcall memset( unsigned char *destination<ram_tii_src>, unsigned char value<_al>, unsigned int count<acc> );
  249                        	
  250    00:E74D  C9 00      	_memset:	cmp	#0			; Decrement the length, check
  251    00:E74F  D0 05      			bne	!+			; for zero and set C. 
  252    00:E751  C0 00      			cpy	#0
  253    00:E753  F0 23      			beq	.zero_length
  254    00:E755  88         			dey
  255    00:E756  3A         	!:		dec	a
  256    00:E757  8D FD 22   			sta.l	ram_tii_len
  257    00:E75A  8C FE 22   			sty.h	ram_tii_len
  258                        	
  259    00:E75D  AD F9 22   			lda.l	ram_tii_src		; ram_tii_dst = ram_tii_src + 1
  260    00:E760  85 88      			sta.l	<__ptr
  261    00:E762  69 00      			adc	#0
  262    00:E764  8D FB 22   			sta.l	ram_tii_dst
  263    00:E767  AD FA 22   			lda.h	ram_tii_src
  264    00:E76A  85 89      			sta.h	<__ptr
  265    00:E76C  69 00      			adc	#0
  266    00:E76E  8D FC 22   			sta.h	ram_tii_dst
  267                        	
  268    00:E771  A5 F8      			lda	<_al			; Set the fill value.
  269    00:E773  92 88      			sta	[__ptr]
  270                        	
  271    00:E775  4C F8 22   			jmp	ram_tii			; Copy the memory.
  272                        	
  273    00:E778  60         	.zero_length:	rts
  274                        	
  275    00:E779             			.alias	_memset.3		= _memset
  276                        	
  277                        	
  278                        	
  279                        	; ***************************************************************************
  280                        	; ***************************************************************************
  281                        	;
  282                        	; int __fastcall strcmp( char *string1<_di>, char *string2<_bp> );
  283                        	; int __fastcall strncmp( char *string1<_di>, char *string2<_bp>, unsigned int count<_ax> );
  284                        	;
  285                        	; int __fastcall __macro memcmp( unsigned char *string1<_di>, unsigned char *string2<_bp>, unsigned int count<_ax> );
  286                        	; int __fastcall farmemcmp( unsigned char *string1<_di>, unsigned char __far *string2<_bp_bank:_bp>, unsigned int count<_ax> );
  287                        	; int __fastcall far_memcmp( unsigned char *string1<_di>, unsigned int count<_ax> );
  288                        	;
  289                        	;  0 	if strings are equal
  290                        	;  1 	if the first non-matching character in string1 > string2 (in ASCII).
  291                        	; -1 	if the first non-matching character in string1 < string2 (in ASCII).
  292                        	
  293    20:C3CF             	hucc_memcmp	.procgroup
  294                        	
  295                        	_strcmp.2	.proc
  300                        			.endp				; Fall through.
  301                        	
  302    20:C3CF             	_strncmp.3	.proc
  303    20:C3CF  64 02      			stz	<_bp_bank		; Assume strings are mapped.
  304    20:C3D1  89 40      			bit	#$40			; Set the V bit for strcmp.
  305    20:C3D3  50         			db	$50			; Turn "clv" into "bvc".
  306    20:C3D4             			.ref	_farmemcmp.3		; Don't strip _farmemcmp.3!
  307                        			.endp				; Fall through.
  308                        	
  309    20:C3D4             	_farmemcmp.3	.proc
  310    20:C3D4  B8         			clv				; Clr the V bit for memcmp.
  311                        	
  312    20:C3D5  43 08      			tma3				; Preserve MPR3 and MPR4.
  313    20:C3D7  48         			pha
  314    20:C3D8  43 10      			tma4
  315    20:C3DA  48         			pha
  316                        	
  317    20:C3DB  A4 02      			ldy	<_bp_bank		; Map string2.
  318    20:C3DD  F0 03      			beq	.no_bank
  319                        	
  320    20:C3DF  20 4F E3   			jsr	map_bp_to_mpr34
  321                        	
  322    20:C3E2  C2         	.no_bank:	cly
  323                        	
  324    20:C3E3  A6 F8      			ldx.l	<_ax			; Increment length.l
  325    20:C3E5  E8         			inx
  326    20:C3E6  CA         	.loop:		dex				; Decrement length.l
  327    20:C3E7  F0 17      			beq	.page
  328    20:C3E9  B1 F0      	.test:		lda	[_di], y		; string1 - string2
  329    20:C3EB  D1 EC      			cmp	[_bp], y
  330    20:C3ED  90 1E      			bcc	.return_neg		; string1 < string2 
  331    20:C3EF  D0 17      			bne	.return_pos		; string1 > string2
  332    20:C3F1  50 04      			bvc	!+			; Only check for end-of-string
  333    20:C3F3  C9 00      			cmp	#0			; if the V flag is set.
  334    20:C3F5  F0 0D      			beq	.return_same
  335    20:C3F7  C8         	!:		iny
  336    20:C3F8  D0 EC      			bne	.loop
  337    20:C3FA  E6 F1      			inc.h	<_di
  338    20:C3FC  E6 ED      			inc.h	<_bp			; Limited to 8KB maximum!
  339                        	;		jsr	inc.h_bp_mpr34
  340    20:C3FE  80 E6      			bra	.loop
  341                        	
  342    20:C400  C6 F9      	.page:		dec.h	<_ax			; Decrement length.h 
  343    20:C402  10 E5      			bpl	.test			; Limit comparison to 32KB.
  344                        	;		bra	cmp_same
  345                        	
  346    20:C404  82         	.return_same:	clx				; Return code in Y:X, X -> A.
  347    20:C405  C2         			cly
  348    20:C406  80 09      			bra	!+
  349                        	
  350    20:C408  A2 01      	.return_pos:	ldx	#$01			; Return code in Y:X, X -> A.
  351    20:C40A  C2         			cly
  352    20:C40B  80 04      			bra	!+
  353                        	
  354    20:C40D  A2 FF      	.return_neg:	ldx	#$FF			; Return code in Y:X, X -> A.
  355    20:C40F  A0 FF      			ldy	#$FF
  356                        	
  357    20:C411  68         	!:		pla				; Restore MPR3 and MPR4.
  358    20:C412  53 10      			tam4
  359    20:C414  68         			pla
  360    20:C415  53 08      			tam3
  361                        	
  362                        			leave				; Return and copy X -> A.
         20:C417  4C EF FF   			jmp	leave_proc
  363                        	
  364                        			.endp
  365                        	
  366                        			.endprocgroup			; hucc_memcmp
  367                        	
  368    00:E779             			.alias	_far_memcmp.2		= _farmemcmp.3
                             #[2]   "..\..\..\include\hucc\hucc-final.asm"
   61                        		.endif
   62                        	
   63               0001     		.ifdef	HUCC_USES_NEW_SCROLL		; Set in hucc_scroll.h
                             #[3]   "..\..\..\include\hucc\hucc-scroll.asm"
   64                        			include	"hucc-scroll.asm"
    1                        	; ***************************************************************************
    2                        	; ***************************************************************************
    3                        	;
    4                        	; hucc-scroll.asm
    5                        	;
    6                        	; Routines for a fast split-screen scrolling system.
    7                        	;
    8                        	; Copyright John Brandwood 2024.
    9                        	;
   10                        	; Distributed under the Boost Software License, Version 1.0.
   11                        	; (See accompanying file LICENSE_1_0.txt or copy at
   12                        	;  http://www.boost.org/LICENSE_1_0.txt)
   13                        	;
   14                        	; ***************************************************************************
   15                        	; ***************************************************************************
   16                        	;
   17                        	; The maximum number of splits for each screen layer is set in your project's
   18                        	; "hucc-config.inc" file, with the library having a limit of 128-per-layer.
   19                        	;
   20                        	; Your first active split must be defined to start at screen line 0, and then
   21                        	; the rest of the active splits must be in increasing line order to match the
   22                        	; way that the PC Engine displays the output image.
   23                        	;
   24                        	; You can have disabled splits interleaved with your active splits.
   25                        	;
   26                        	; Splits that are normally disabled can be used to create full screen effects
   27                        	; such as bouncing the screen up and down by adding blank areas at the top or
   28                        	; bottom of the screen, and then rapidly changing the height of those areas.
   29                        	;
   30                        	; ***************************************************************************
   31                        	; ***************************************************************************
   32                        	
   33                        	
   34                        	
   35               0000     		.ifndef	HUCC_PCE_SPLITS
   37                        		.endif
   38                        	
   39               0000     		.ifndef	HUCC_SGX_SPLITS
   41                        		.endif
   42                        	
   43               0000     		.if	(HUCC_PCE_SPLITS < 2) || (HUCC_PCE_SPLITS > 128)
   45                        		.endif
   46                        	
   47               0000     		.if	(HUCC_SGX_SPLITS < 2) || (HUCC_SGX_SPLITS > 128)
   49                        		.endif
   50                        	
   51               0144     	HUCC_1ST_RCR	=	$144
   52               00E0     	HUCC_SCR_HEIGHT	=	224
   53                        	
   54               E779     			.code
   55                        	
   56                        	
   57                        	
   58                        	; ***************************************************************************
   59                        	; ***************************************************************************
   60                        	;
   61                        	; void __fastcall scroll_split( unsigned char index<_al>, unsigned char screen_line<_ah>, unsigned int bat_x<_bx>, unsigned int bat_y<_cx>, unsigned char display_flags<_dl> );
   62                        	; void __fastcall sgx_scroll_split( unsigned char index<_al>, unsigned char screen_line<_ah>, unsigned int bat_x<_bx>, unsigned int bat_y<_cx>, unsigned char display_flags<_dl> );
   63                        	;
   64                        	; set screen scrolling
   65                        	
   66    20:C09B             			.proc	_scroll_split.5
   67                        	
   68    20:C09B  08         			php				; Disable interrupts while
   69    20:C09C  78         			sei				; updating this structure.
   70                        	
   71    20:C09D  A6 F8      			ldx	<_al			; Region number.
   72    20:C09F  E0 08      			cpx	#HUCC_PCE_SPLITS
   73    20:C0A1  B0 FE      	.hang:		bcs	.hang			; Better a hang than a crash!
   74                        	
   75    20:C0A3  BD 03 27   			lda	vdc_region_sel, x	; Update the parameter copy
   76    20:C0A6  5D 0B 27   			eor	vdc_region_new, x	; that is not displayed now.
   77    20:C0A9  D0 3B      			bne	.regionA
   78                        	
   79    20:C0AB  A5 F9      	.regionB:	lda	<_ah			; Scanline (i.e. top).
   80    20:C0AD  C9 E0      			cmp	#HUCC_SCR_HEIGHT	; Skip if offscreen.
   81    20:C0AF  B0 31      			bcs	!done+
   82    20:C0B1  9D 2B 27   			sta	vdc_regionB_rcr, x
   83                        	
   84    20:C0B4  C9 00      			cmp	#0			; Either Y at top of the frame
   85    20:C0B6  F0 01      			beq	!+			; or Y-1 because the RCR code
   86    20:C0B8  18         			clc				; sets it on the line before.
   87    20:C0B9  A5 FC      	!:		lda.l	<_cx
   88    20:C0BB  E9 00      			sbc	#0
   89    20:C0BD  9D 5B 27   			sta	vdc_regionB_yl, x
   90    20:C0C0  A5 FD      			lda.h	<_cx
   91    20:C0C2  E9 00      			sbc	#0
   92    20:C0C4  9D 6B 27   			sta	vdc_regionB_yh, x
   93                        	
   94    20:C0C7  A5 FA      			lda.l	<_bx
   95    20:C0C9  9D 3B 27   			sta	vdc_regionB_xl, x
   96    20:C0CC  A5 FB      			lda.h	<_bx
   97    20:C0CE  9D 4B 27   			sta	vdc_regionB_xh, x
   98                        	
   99    20:C0D1  A5 FE      			lda	<_dl			; Flags (mark it as enabled).
  100    20:C0D3  29 C0      			and	#$C0
  101    20:C0D5  09 0C      			ora	#$0C
  102    20:C0D7  9D 1B 27   			sta	vdc_regionB_crl, x
  103                        	
  104    20:C0DA  A9 01      			lda	#1			; Mark that we've changed the
  105    20:C0DC  9D 0B 27   			sta	vdc_region_new, x	; selected region.
  106    20:C0DF  9D 03 27   			sta	vdc_region_sel, x
  107                        	
  108    20:C0E2  28         	!done:		plp				; Restore interrupts.
  109                        			leave				; All done!
         20:C0E3  4C EF FF   			jmp	leave_proc
  110                        	
  111    20:C0E6  A5 F9      	.regionA:	lda	<_ah			; Scanline (i.e. top).
  112    20:C0E8  C9 E0      			cmp	#HUCC_SCR_HEIGHT	; Skip if offscreen.
  113    20:C0EA  B0 31      			bcs	!done+
  114    20:C0EC  9D 23 27   			sta	vdc_regionA_rcr, x
  115                        	
  116    20:C0EF  C9 00      			cmp	#0			; Either Y at top of the frame
  117    20:C0F1  F0 01      			beq	!+			; or Y-1 because the RCR code
  118    20:C0F3  18         			clc				; sets it on the line before.
  119    20:C0F4  A5 FC      	!:		lda.l	<_cx
  120    20:C0F6  E9 00      			sbc	#0
  121    20:C0F8  9D 53 27   			sta	vdc_regionA_yl, x
  122    20:C0FB  A5 FD      			lda.h	<_cx
  123    20:C0FD  E9 00      			sbc	#0
  124    20:C0FF  9D 63 27   			sta	vdc_regionA_yh, x
  125                        	
  126    20:C102  A5 FA      			lda.l	<_bx
  127    20:C104  9D 33 27   			sta	vdc_regionA_xl, x
  128    20:C107  A5 FB      			lda.h	<_bx
  129    20:C109  9D 43 27   			sta	vdc_regionA_xh, x
  130                        	
  131    20:C10C  A5 FE      			lda	<_dl			; Flags (mark it as enabled).
  132    20:C10E  29 C0      			and	#$C0
  133    20:C110  09 0C      			ora	#$0C
  134    20:C112  9D 13 27   			sta	vdc_regionA_crl, x
  135                        	
  136    20:C115  A9 01      			lda	#1			; Mark that we've changed the
  137    20:C117  9D 0B 27   			sta	vdc_region_new, x	; selected region.
  138    20:C11A  9E 03 27   			stz	vdc_region_sel, x
  139                        	
  140    20:C11D  28         	!done:		plp				; Restore interrupts.
  141                        			leave				; All done!
         20:C11E  4C EF FF   			jmp	leave_proc
  142                        	
  143                        			.endp
  144                        	
  145               0001     		.if	SUPPORT_SGX
  146                        	
  147    20:C121             			.proc	_sgx_scroll_split.5
  148                        	
  149    20:C121  08         			php				; Disable interrupts while
  150    20:C122  78         			sei				; updating this structure.
  151                        	
  152    20:C123  A6 F8      			ldx	<_al			; Region number.
  153    20:C125  E0 08      			cpx	#HUCC_SGX_SPLITS
  154    20:C127  B0 FE      	.hang:		bcs	.hang			; Better a hang than a crash!
  155                        	
  156    20:C129  BD 84 27   			lda	sgx_region_sel, x	; Update the parameter copy
  157    20:C12C  5D 8C 27   			eor	sgx_region_new, x	; that is not displayed now.
  158    20:C12F  D0 3B      			bne	.regionA
  159                        	
  160    20:C131  A5 F9      	.regionB:	lda	<_ah			; Scanline (i.e. top).
  161    20:C133  C9 E0      			cmp	#HUCC_SCR_HEIGHT	; Skip if offscreen.
  162    20:C135  B0 31      			bcs	!done+
  163    20:C137  9D AC 27   			sta	sgx_regionB_rcr, x
  164                        	
  165    20:C13A  C9 00      			cmp	#0			; Either Y at top of the frame
  166    20:C13C  F0 01      			beq	!+			; or Y-1 because the RCR code
  167    20:C13E  18         			clc				; sets it on the line before.
  168    20:C13F  A5 FC      	!:		lda.l	<_cx
  169    20:C141  E9 00      			sbc	#0
  170    20:C143  9D DC 27   			sta	sgx_regionB_yl, x
  171    20:C146  A5 FD      			lda.h	<_cx
  172    20:C148  E9 00      			sbc	#0
  173    20:C14A  9D EC 27   			sta	sgx_regionB_yh, x
  174                        	
  175    20:C14D  A5 FA      			lda.l	<_bx
  176    20:C14F  9D BC 27   			sta	sgx_regionB_xl, x
  177    20:C152  A5 FB      			lda.h	<_bx
  178    20:C154  9D CC 27   			sta	sgx_regionB_xh, x
  179                        	
  180    20:C157  A5 FE      			lda	<_dl
  181    20:C159  29 C0      			and	#$C0			; Flags (mark it as enabled).
  182    20:C15B  09 0C      			ora	#$0C
  183    20:C15D  9D 9C 27   			sta	sgx_regionB_crl, x
  184                        	
  185    20:C160  A9 01      			lda	#1			; Mark that we've changed the
  186    20:C162  9D 8C 27   			sta	sgx_region_new, x	; selected region.
  187    20:C165  9D 84 27   			sta	sgx_region_sel, x
  188                        	
  189    20:C168  28         	!done:		plp				; Restore interrupts.
  190                        			leave				; All done!
         20:C169  4C EF FF   			jmp	leave_proc
  191                        	
  192    20:C16C  A5 F9      	.regionA:	lda	<_ah			; Scanline (i.e. top).
  193    20:C16E  C9 E0      			cmp	#HUCC_SCR_HEIGHT	; Skip if offscreen.
  194    20:C170  B0 31      			bcs	!done+
  195    20:C172  9D A4 27   			sta	sgx_regionA_rcr, x
  196                        	
  197    20:C175  C9 00      			cmp	#0			; Either Y at top of the frame
  198    20:C177  F0 01      			beq	!+			; or Y-1 because the RCR code
  199    20:C179  18         			clc				; sets it on the line before.
  200    20:C17A  A5 FC      	!:		lda.l	<_cx
  201    20:C17C  E9 00      			sbc	#0
  202    20:C17E  9D D4 27   			sta	sgx_regionA_yl, x
  203    20:C181  A5 FD      			lda.h	<_cx
  204    20:C183  E9 00      			sbc	#0
  205    20:C185  9D E4 27   			sta	sgx_regionA_yh, x
  206                        	
  207    20:C188  A5 FA      			lda.l	<_bx
  208    20:C18A  9D B4 27   			sta	sgx_regionA_xl, x
  209    20:C18D  A5 FB      			lda.h	<_bx
  210    20:C18F  9D C4 27   			sta	sgx_regionA_xh, x
  211                        	
  212    20:C192  A5 FE      			lda	<_dl
  213    20:C194  29 C0      			and	#$C0			; Flags (mark it as enabled).
  214    20:C196  09 0C      			ora	#$0C
  215    20:C198  9D 94 27   			sta	sgx_regionA_crl, x
  216                        	
  217    20:C19B  A9 01      			lda	#1			; Mark that we've changed the
  218    20:C19D  9D 8C 27   			sta	sgx_region_new, x	; selected region.
  219    20:C1A0  9E 84 27   			stz	sgx_region_sel, x
  220                        	
  221    20:C1A3  28         	!done:		plp				; Restore interrupts.
  222                        			leave				; All done!
         20:C1A4  4C EF FF   			jmp	leave_proc
  223                        	
  224                        			.endp
  225                        	
  226                        		.endif	SUPPORT_SGX
  227                        	
  228                        	
  229                        	
  230                        	; ***************************************************************************
  231                        	; ***************************************************************************
  232                        	;
  233                        	; void __fastcall disable_split( unsigned char index<acc> );
  234                        	; void __fastcall sgx_disable_split( unsigned char index<acc> );
  235                        	;
  236                        	; disable screen scrolling for a scroll region
  237                        	
  238    00:E779             	_disable_split.1:
  239    00:E779  08         			php				; Disable interrupts while
  240    00:E77A  78         			sei				; updating this structure.
  241                        	
  242    00:E77B  C9 08      			cmp	#HUCC_PCE_SPLITS	; Better a hang than a crash!
  243    00:E77D  B0 FE      	.hang:		bcs	.hang
  244    00:E77F  AA         			tax
  245                        	
  246    00:E780  BD 03 27   			lda	vdc_region_sel, x	; Update the parameter copy
  247    00:E783  5D 0B 27   			eor	vdc_region_new, x	; that is not displayed now.
  248    00:E786  D0 0D      			bne	.regionA
  249                        	
  250    00:E788  9E 1B 27   	.regionB:	stz	vdc_regionB_crl, x	; Region disabled if $00.
  251                        	
  252    00:E78B  A9 01      			lda	#1			; Mark that we've changed the
  253    00:E78D  9D 0B 27   			sta	vdc_region_new, x	; selected region.
  254    00:E790  9D 03 27   			sta	vdc_region_sel, x
  255                        	
  256    00:E793  28         			plp				; Restore interrupts.
  257    00:E794  60         			rts
  258                        	
  259    00:E795  9E 13 27   	.regionA:	stz	vdc_regionA_crl, x	; Region disabled if $00.
  260                        	
  261    00:E798  A9 01      			lda	#1			; Mark that we've changed the
  262    00:E79A  9D 0B 27   			sta	vdc_region_new, x	; selected region.
  263    00:E79D  9E 03 27   			stz	vdc_region_sel, x
  264                        	
  265    00:E7A0  28         			plp				; Restore interrupts.
  266    00:E7A1  60         			rts
  267                        	
  268               0001     		.if	SUPPORT_SGX
  269                        	
  270    00:E7A2             	_sgx_disable_split.1:
  271    00:E7A2  08         			php				; Disable interrupts while
  272    00:E7A3  78         			sei				; updating this structure.
  273                        	
  274    00:E7A4  C9 08      			cmp	#HUCC_SGX_SPLITS	; Better a hang than a crash!
  275    00:E7A6  B0 FE      	.hang:		bcs	.hang
  276    00:E7A8  AA         			tax
  277                        	
  278    00:E7A9  BD 84 27   			lda	sgx_region_sel, x	; Update the parameter copy
  279    00:E7AC  5D 8C 27   			eor	sgx_region_new, x	; that is not displayed now.
  280    00:E7AF  D0 0D      			bne	.regionA
  281                        	
  282    00:E7B1  9E 9C 27   	.regionB:	stz	sgx_regionB_crl, x	; Region disabled if $00.
  283                        	
  284    00:E7B4  A9 01      			lda	#1			; Mark that we've changed the
  285    00:E7B6  9D 8C 27   			sta	sgx_region_new, x	; selected region.
  286    00:E7B9  9D 84 27   			sta	sgx_region_sel, x
  287                        	
  288    00:E7BC  28         			plp				; Restore interrupts.
  289    00:E7BD  60         			rts
  290                        	
  291    00:E7BE  9E 94 27   	.regionA:	stz	sgx_regionA_crl, x	; Region disabled if $00.
  292                        	
  293    00:E7C1  A9 01      			lda	#1			; Mark that we've changed the
  294    00:E7C3  9D 8C 27   			sta	sgx_region_new, x	; selected region.
  295    00:E7C6  9E 84 27   			stz	sgx_region_sel, x
  296                        	
  297    00:E7C9  28         			plp				; Restore interrupts.
  298    00:E7CA  60         			rts
  299                        	
  300                        		.endif	SUPPORT_SGX
  301                        	
  302                        	
  303                        	
  304                        	; ***************************************************************************
  305                        	; ***************************************************************************
  306                        	;
  307                        	; vbl_init_scroll
  308                        	;
  309                        	; From Charles MacDonald's pcetech.txt ...
  310                        	;
  311                        	;  Raster Compare Register (RCR):
  312                        	;
  313                        	;  The range of the RCR is 263 lines, relative to the start of the active
  314                        	;  display period. (defined by VSW, VDS, and VCR) The VDC treats the first
  315                        	;  scanline of the active display period as $0040, so the valid ranges for
  316                        	;  the RCR register are $0040 to $0146.
  317                        	;
  318                        	;  For example, assume VSW=$02, VDS=$17. This positions the first line of
  319                        	;  the active display period at line 25 of the frame. An RCR value of $0040
  320                        	;  (zero) causes an interrupt at line 25, and a value of $0146 (262) causes an
  321                        	;  interrupt at line 24 of the next frame.
  322                        	;
  323                        	;  Any other RCR values that are out of range ($00-$3F, $147-$3FF) will never
  324                        	;  result in a successful line compare.
  325                        	;
  326                        	; Processing time:
  327                        	;
  328                        	; Old HuC rcr_init: 2148 cycles if all 8 regions pre-sorted
  329                        	; Old HuC rcr_init: 4346 cycles if all 8 regions need sorting
  330                        	;
  331                        	; New HuCC vbl_init_scroll:   8 disabled splits:  290 cycles
  332                        	; New HuCC vbl_init_scroll:   8  enabled splits:  384 cycles
  333                        	;
  334                        	; New HuCC vbl_init_scroll:  16 disabled splits:  506 cycles
  335                        	; New HuCC vbl_init_scroll:  16  enabled splits:  672 cycles
  336                        	;
  337                        	; New HuCC vbl_init_scroll:  32 disabled splits:  953 cycles
  338                        	; New HuCC vbl_init_scroll:  32  enabled splits: 1263 cycles
  339                        	;
  340                        	; New HuCC vbl_init_scroll:  64 disabled splits: 1802 cycles
  341                        	; New HuCC vbl_init_scroll:  64  enabled splits: 2400 cycles
  342                        	;
  343                        	; New HuCC vbl_init_scroll: 128 disabled splits: 3530 cycles
  344                        	; New HuCC vbl_init_scroll: 128  enabled splits: 4704 cycles
  345                        	;
  346                        	; Memory used is 16 bytes per scroll per VDC!
  347                        	
  348               2703     			.bss
  349                        	
  350    F8:2703             	vdc_region_sel:	.ds	HUCC_PCE_SPLITS		; Use A or B region next frame?
  351    F8:270B             	vdc_region_new:	.ds	HUCC_PCE_SPLITS		; 1 if vdc_region_sel modified.
  352                        	
  353    F8:2713             	vdc_regionA_crl:.ds	HUCC_PCE_SPLITS		; Two copies of each setting
  354    F8:271B             	vdc_regionB_crl:.ds	HUCC_PCE_SPLITS		; HUCC_PCE_SPLITS bytes apart,
  355    F8:2723             	vdc_regionA_rcr:.ds	HUCC_PCE_SPLITS		; one setting for the current
  356    F8:272B             	vdc_regionB_rcr:.ds	HUCC_PCE_SPLITS		; frame, and one setting that
  357    F8:2733             	vdc_regionA_xl:	.ds	HUCC_PCE_SPLITS		; gets modified and then used
  358    F8:273B             	vdc_regionB_xl:	.ds	HUCC_PCE_SPLITS		; on the next frame after the
  359    F8:2743             	vdc_regionA_xh:	.ds	HUCC_PCE_SPLITS		; change is made.
  360    F8:274B             	vdc_regionB_xh:	.ds	HUCC_PCE_SPLITS		; Regions will have different
  361    F8:2753             	vdc_regionA_yl:	.ds	HUCC_PCE_SPLITS		; A or B currently active!
  362    F8:275B             	vdc_regionB_yl:	.ds	HUCC_PCE_SPLITS
  363    F8:2763             	vdc_regionA_yh:	.ds	HUCC_PCE_SPLITS
  364    F8:276B             	vdc_regionB_yh:	.ds	HUCC_PCE_SPLITS
  365                        	
  366    F8:2773             	vdc_next_region:.ds	1			; Linked list of region indexes
  367    F8:2774             	vdc_regionA_nxt:.ds	HUCC_PCE_SPLITS		; for the current frame.
  368    F8:277C             	vdc_regionB_nxt:.ds	HUCC_PCE_SPLITS
  369                        	
  370               0001     		.if	SUPPORT_SGX
  371                        	
  372    F8:2784             	sgx_region_sel:	.ds	HUCC_SGX_SPLITS		; Use A or B region next frame?
  373    F8:278C             	sgx_region_new:	.ds	HUCC_SGX_SPLITS		; 1 if sgx_region_sel modified.
  374                        	
  375    F8:2794             	sgx_regionA_crl:.ds	HUCC_SGX_SPLITS		; Two copies of each setting
  376    F8:279C             	sgx_regionB_crl:.ds	HUCC_SGX_SPLITS		; HUCC_SGX_SPLITS bytes apart,
  377    F8:27A4             	sgx_regionA_rcr:.ds	HUCC_SGX_SPLITS		; one setting for the current
  378    F8:27AC             	sgx_regionB_rcr:.ds	HUCC_SGX_SPLITS		; frame, and one setting that
  379    F8:27B4             	sgx_regionA_xl:	.ds	HUCC_SGX_SPLITS		; gets modified and then used
  380    F8:27BC             	sgx_regionB_xl:	.ds	HUCC_SGX_SPLITS		; on the next frame after the
  381    F8:27C4             	sgx_regionA_xh:	.ds	HUCC_SGX_SPLITS		; change is made.
  382    F8:27CC             	sgx_regionB_xh:	.ds	HUCC_SGX_SPLITS		; Regions will have different
  383    F8:27D4             	sgx_regionA_yl:	.ds	HUCC_SGX_SPLITS		; A or B currently active!
  384    F8:27DC             	sgx_regionB_yl:	.ds	HUCC_SGX_SPLITS
  385    F8:27E4             	sgx_regionA_yh:	.ds	HUCC_SGX_SPLITS
  386    F8:27EC             	sgx_regionB_yh:	.ds	HUCC_SGX_SPLITS
  387                        	
  388    F8:27F4             	sgx_next_region:.ds	1			; Linked list of region indexes
  389    F8:27F5             	sgx_regionA_nxt:.ds	HUCC_SGX_SPLITS		; for the current frame.
  390    F8:27FD             	sgx_regionB_nxt:.ds	HUCC_SGX_SPLITS
  391                        	
  392                        		.endif
  393                        	
  394               E7CB     			.code
  395                        	
  396    20:C1A7             	vbl_init_scroll	.proc
  397                        	
  398    20:C1A7  62         			cla				; A = previous active index
  399    20:C1A8  A2 08      			ldx	#HUCC_PCE_SPLITS	; so $00 for end-of-screen.
  400                        	
  401    20:C1AA  18         			clc				; For regionB indexes.
  402                        	
  403    20:C1AB  CA         	!next_region:	dex				; All regions updated?
  404    20:C1AC  30 20      			bmi	!save_first+
  405                        	
  406    20:C1AE  9E 0B 27   			stz	vdc_region_new, x	; Clear region modified flag.
  407                        	
  408    20:C1B1  BC 03 27   			ldy	vdc_region_sel, x	; 0=regionA or 1=regionB.
  409    20:C1B4  F0 0D      			beq	!use_regionA+
  410                        	
  411    20:C1B6  BC 1B 27   	!use_regionB:	ldy	vdc_regionB_crl, x	; Region disabled if $00.
  412    20:C1B9  F0 F0      			beq	!next_region-
  413    20:C1BB  9D 7C 27   			sta	vdc_regionB_nxt, x	; Save index of next region.
  414    20:C1BE  8A         			txa				; A = current region index.
  415    20:C1BF  69 08      			adc	#HUCC_PCE_SPLITS	; Always leaves CC!
  416    20:C1C1  80 E8      			bra	!next_region-
  417                        	
  418    20:C1C3  BC 13 27   	!use_regionA:	ldy	vdc_regionA_crl, x	; Region disabled if $00.
  419    20:C1C6  F0 E3      			beq	!next_region-
  420    20:C1C8  9D 74 27   			sta	vdc_regionA_nxt, x	; Save index of next region.
  421    20:C1CB  8A         			txa				; A = current region index.
  422    20:C1CC  80 DD      			bra	!next_region-
  423                        	
  424    20:C1CE  8D 73 27   	!save_first:	sta	vdc_next_region		; Save index of 1st region.
  425                        	
  426    20:C1D1  AA         			tax				; NZ if first active region
  427    20:C1D2  D0 03      			bne	!init_first+		; is not region 0.
  428    20:C1D4  98         			tya				; NZ if region 0 is active.
  429    20:C1D5  F0 0F      			beq	!+			; If no active leave RCR=0.
  430                        	
  431    20:C1D7  A9 06      	!init_first:	lda	#VDC_RCR		; 1st RCR always happens just
  432    20:C1D9  8D 00 02   			sta	VDC_AR			; before the display starts.
  433    20:C1DC  A9 44      			lda.l	#HUCC_1ST_RCR
  434    20:C1DE  8D 02 02   			sta	VDC_DL
  435    20:C1E1  A9 01      			lda.h	#HUCC_1ST_RCR
  436    20:C1E3  8D 03 02   			sta	VDC_DH
  437                        	
  438               0001     		.if	SUPPORT_SGX
  439                        	
  440    20:C1E6  62         	!:		cla				; A = previous active index
  441    20:C1E7  A2 08      			ldx	#HUCC_SGX_SPLITS	; so $00 for end-of-screen.
  442                        	
  443    20:C1E9  18         			clc				; For regionB indexes.
  444                        	
  445    20:C1EA  CA         	!next_region:	dex				; All regions updated?
  446    20:C1EB  30 20      			bmi	!save_first+
  447                        	
  448    20:C1ED  9E 8C 27   			stz	sgx_region_new, x	; Clear region modified flag.
  449                        	
  450    20:C1F0  BC 84 27   			ldy	sgx_region_sel, x	; 0=regionA or 1=regionB.
  451    20:C1F3  F0 0D      			beq	!use_regionA+
  452                        	
  453    20:C1F5  BC 9C 27   	!use_regionB:	ldy	sgx_regionB_crl, x	; Region disabled if $00.
  454    20:C1F8  F0 F0      			beq	!next_region-
  455    20:C1FA  9D FD 27   			sta	sgx_regionB_nxt, x	; Save index of next region.
  456    20:C1FD  8A         			txa				; A = current region index.
  457    20:C1FE  69 08      			adc	#HUCC_SGX_SPLITS	; Always leaves CC!
  458    20:C200  80 E8      			bra	!next_region-
  459                        	
  460    20:C202  BC 94 27   	!use_regionA:	ldy	sgx_regionA_crl, x	; Region disabled if $00.
  461    20:C205  F0 E3      			beq	!next_region-
  462    20:C207  9D F5 27   			sta	sgx_regionA_nxt, x	; Save index of next region.
  463    20:C20A  8A         			txa				; A = current region index.
  464    20:C20B  80 DD      			bra	!next_region-
  465                        	
  466    20:C20D  8D F4 27   	!save_first:	sta	sgx_next_region		; Save index of 1st region.
  467                        	
  468    20:C210  AA         			tax				; NZ if first active region
  469    20:C211  D0 03      			bne	!init_first+		; is not region 0.
  470    20:C213  98         			tya				; NZ if region 0 is active.
  471    20:C214  F0 0F      			beq	!+			; If no active leave RCR=0.
  472                        	
  473    20:C216  A9 06      	!init_first:	lda	#VDC_RCR		; 1st RCR always happens just
  474    20:C218  8D 10 02   			sta	SGX_AR			; before the display starts.
  475    20:C21B  A9 44      			lda.l	#HUCC_1ST_RCR
  476    20:C21D  8D 12 02   			sta	SGX_DL
  477    20:C220  A9 01      			lda.h	#HUCC_1ST_RCR
  478    20:C222  8D 13 02   			sta	SGX_DH
  479                        	
  480                        		.endif	SUPPORT_SGX
  481                        	
  482                        	!:		leave				; All done!
         20:C225  4C EF FF   			jmp	leave_proc
  483                        	
  484                        			.endp
  485                        	
  486                        	
  487                        	
  488               0001     		.if	SUPPORT_SGX
  489                        	
  490                        	; ***************************************************************************
  491                        	; ***************************************************************************
  492                        	;
  493                        	; VDC_RCR_MACRO and SGX_RCR_MACRO
  494                        	;
  495                        	; A 16-byte TIA takes 142..234 cycles in 5MHz, 128..200 cycles in 7MHz.
  496                        	; A 32-byte TIA takes 270..364 cycles in 5MHz, 242..312 cycles in 7MHz. (527 DUO)
  497                        	;
  498                        	; You need to write the last RCR setting within 540 cycles in order to catch
  499                        	; the next line (at 256/336/512 resolution).
  500                        	;
  501                        	; That gives 305 cycles from the RCR to write the last setting, or there
  502                        	; will be a visible glitch on the screen.
  503                        	
  504               0000     		.ifndef	USING_RCR_MACROS
  506                        		.endif
  507                        	
  508                        	;		;;;				; 8 (cycles for the INT)
  509                        	;		bbs1	<irq_vec, .hook		; 8
  510                        	;		jmp	[irq1_hook]		; 7
  511                        	
  512                        	;		;;;				; 8 (cycles for the INT)
  513                        	;		jmp	irq1_handler		; 4
  514                        	
  515                        	;irq1_handler:	pha				; 3 Save all registers.
  516                        	;		phx				; 3
  517                        	;		phy				; 3
  518                        	;
  519                        	;		lda	VDC_SR			; 6 Acknowledge the VDC's IRQ.
  520                        	;		sta	<vdc_sr			; 4 Remember what caused it.
  521                        	;
  522                        	;		ldx	SGX_SR			; 6 Read SGX_SR after VDC_SR in
  523                        	;		stx	<sgx_sr			; 4 case this is not an SGX!
  524                        	;
  525                        	;!:		and	#$04			; 2 Is this an HSYNC interrupt?
  526                        	;		beq	!+			; 2
  527                        	
  528                        			.macro	VDC_RCR_MACRO
  529                        	
  530                        			st0	#VDC_RCR		; 5
  531                        	
  532                        			ldx	vdc_next_region		; 5 X and Y can be greater than
  533                        			ldy	vdc_regionA_nxt, x	; 5 HUCC_PCE_SPLITS if regionB!
  534                        			clc				; 2
  535                        			bne	!set_next_rcr+		; 4 Stop RCR if next line is 0.
  536                        	
  537                        			and	const_0000		; 5 A=$00 with the same #cycles
  538                        			bra	!clr_next_rcr+		; 4 as if the branch were taken.
  539                        	
  540                        	!set_next_rcr:	lda	vdc_regionA_rcr, y	; 5 Set next RCR 1 line before
  541                        			adc	#64-1			; 2 the region begins, or 0 to
  542                        	!clr_next_rcr:	sta	VDC_DL			; 6 disable.
  543                        			cla				; 2
  544                        			rol	a			; 2
  545                        			sta	VDC_DH			; 6
  546                        	
  547                        			st0	#VDC_BYR		; 5 Do BYR first to mitigate the
  548                        			lda	vdc_regionA_yl, x	; 5 glitch if the IRQ is delayed.
  549                        			sta	VDC_DL			; 6 = 105 cycles from RCR on SGX
  550                        			lda	vdc_regionA_yh, x	; 5
  551                        			sta	VDC_DH			; 6
  552                        	
  553                        			st0	#VDC_CR			; 5
  554                        			lda	vdc_regionA_crl, x	; 5
  555                        	;		asl	a
  556                        			sta	VDC_DL			; 6
  557                        	
  558                        			st0	#VDC_BXR		; 2
  559                        			lda	vdc_regionA_xl, x	; 5
  560                        			sta	VDC_DL			; 6
  561                        			lda	vdc_regionA_xh, x	; 5
  562                        			sta	VDC_DH			; 6 = 156 cycles from RCR if DUO
  563                        	
  564                        	;		bcc	!+
  565                        	;		lda	vdc_regionA_yh, x	; 5
  566                        	;		sta.l	VCE_CTW			; 6
  567                        	
  568                        			sty	vdc_next_region		; 5
  569                        	
  570                        			.endm
  571                        	
  572                        	;!:		bbr2	<sgx_sr, !+		; 6 Is this an HSYNC interrupt?
  573                        	
  574                        			.macro	SGX_RCR_MACRO
  575                        	
  576                        			lda	#VDC_RCR		; 2
  577                        			sta	SGX_AR			; 6
  578                        	
  579                        			ldx	sgx_next_region		; 5 X and Y can be greater than
  580                        			ldy	sgx_regionA_nxt, x	; 5 HUCC_SGX_SPLITS if regionB!
  581                        			clc				; 2
  582                        			bne	!set_next_rcr+		; 4 Stop RCR if next line is 0.
  583                        	
  584                        			and	const_0000		; 5 A=$00 with the same #cycles
  585                        			bra	!clr_next_rcr+		; 4 as if the branch were taken.
  586                        	
  587                        	!set_next_rcr:	lda	sgx_regionA_rcr, y	; 5 Set next RCR 1 line before
  588                        			adc	#64-1			; 2 the region begins, or 0 to
  589                        	!clr_next_rcr:	sta	SGX_DL			; 6 disable.
  590                        			cla				; 2
  591                        			rol	a			; 2
  592                        			sta	SGX_DH			; 6
  593                        	
  594                        			lda	#VDC_BYR		; 2 Do BYR first to mitigate the
  595                        			sta	SGX_AR			; 6 glitch if the IRQ is delayed.
  596                        			lda	sgx_regionA_yl, x	; 5
  597                        			sta	SGX_DL			; 6
  598                        			lda	sgx_regionA_yh, x	; 5
  599                        			sta	SGX_DH			; 6
  600                        	
  601                        			lda	#VDC_CR			; 2
  602                        			sta	SGX_AR			; 6
  603                        			lda	sgx_regionA_crl, x	; 5
  604                        			sta	SGX_DL			; 6
  605                        	
  606                        			lda	#VDC_BXR		; 2
  607                        			sta	SGX_AR			; 6
  608                        			lda	sgx_regionA_xl, x	; 5
  609                        			sta	SGX_DL			; 6
  610                        			lda	sgx_regionA_xh, x	; 5
  611                        			sta	SGX_DH			; 6 = 293 cycles (282 if no YH)
  612                        	
  613                        			sty	sgx_next_region		; 5
  614                        	
  615                        			.endm
  616                        	
  617                        		.else	SUPPORT_SGX
  697                        		.endif	SUPPORT_SGX
                             #[2]   "..\..\..\include\hucc\hucc-final.asm"
   65                        		.else
   69                        		.endif	HUCC_USES_NEW_SCROLL
   70                        	
   71               0001     		.ifdef	HUCC_USES_OLD_SPR		; Set in hucc_old_spr.h
                             #[3]   "..\..\..\include\hucc\hucc-old-spr.asm"
   72                        			include	"hucc-old-spr.asm"
    1                        	; ***************************************************************************
    2                        	; ***************************************************************************
    3                        	;
    4                        	; hucc-old-spr.asm
    5                        	;
    6                        	; Based on the original HuC and MagicKit functions by David Michel and the
    7                        	; other original HuC developers.
    8                        	;
    9                        	; Modifications copyright John Brandwood 2024.
   10                        	;
   11                        	; Distributed under the Boost Software License, Version 1.0.
   12                        	; (See accompanying file LICENSE_1_0.txt or copy at
   13                        	;  http://www.boost.org/LICENSE_1_0.txt)
   14                        	;
   15                        	; ***************************************************************************
   16                        	; ***************************************************************************
   17                        	
   18                        	;
   19                        	; Include dependancies ...
   20                        	;
   21                        	
   22                        			include "common.asm"		; Common helpers.
   23                        			include "vce.asm"		; Useful VCE routines.
   24                        			include "vdc.asm"		; Useful VCE routines.
   25                        	
   26                        	
   27                        	
   28                        	; ***************************************************************************
   29                        	; ***************************************************************************
   30                        	;
   31                        	; HuC Sprite Functions
   32                        	;
   33                        	; ***************************************************************************
   34                        	; ***************************************************************************
   35                        	
   36               209C     			.zp
   37    F8:209C             	spr_ptr:	ds	2
   38               2805     			.bss
   39    F8:2805             	spr_sat:	ds	512
   40               E7CB     			.code
   41                        	
   42               0001     		.if	SUPPORT_SGX
   43               209E     			.zp
   44    F8:209E             	sgx_spr_ptr:	ds	2
   45               2A05     			.bss
   46    F8:2A05             	sgx_spr_sat:	ds	512	; N.B. Directly after spr_sat!
   47               E7CB     			.code
   48                        		.endif
   49                        	
   50                        	; Moved to hucc-old-map.asm just to save space. This NEEDS to be changed!
   51                        	;
   52                        	;		.bss
   53                        	;spr_max:	ds	1
   54                        	;spr_clr:	ds	1
   55                        	;	.if	SUPPORT_SGX
   56                        	;sgx_spr_max:	ds	1
   57                        	;sgx_spr_clr:	ds	1
   58                        	;	.endif
   59                        	;		.code
   60                        	
   61                        	
   62                        	
   63                        	; ***************************************************************************
   64                        	; ***************************************************************************
   65                        	;
   66                        	; void __fastcall init_satb( void );
   67                        	; void __fastcall reset_satb( void );
   68                        	;
   69                        	; void __fastcall sgx_init_satb( void );
   70                        	; void __fastcall sgx_reset_satb( void );
   71                        	
   72    00:E7CB             	_reset_satb:
   73    00:E7CB  C2         	_init_satb:	cly
   74    00:E7CC  62         			cla
   75    00:E7CD  99 05 28   	!:		sta	spr_sat + $0000, y
   76    00:E7D0  99 05 29   			sta	spr_sat + $0100, y
   77    00:E7D3  C8         			iny
   78    00:E7D4  D0 F7      			bne	!-
   79    00:E7D6  8C D9 26   			sty	spr_max
   80    00:E7D9  C8         			iny
   81    00:E7DA  8C DA 26   			sty	spr_clr
   82    00:E7DD  60         			rts
   83                        	
   84               0001     		.if	SUPPORT_SGX
   85    00:E7DE             	_sgx_reset_satb:
   86    00:E7DE  C2         	_sgx_init_satb:	cly
   87    00:E7DF  62         			cla
   88    00:E7E0  99 05 2A   	!:		sta	sgx_spr_sat + $0000, y
   89    00:E7E3  99 05 2B   			sta	sgx_spr_sat + $0100, y
   90    00:E7E6  C8         			iny
   91    00:E7E7  D0 F7      			bne	!-
   92    00:E7E9  8C E9 26   			sty	sgx_spr_max
   93    00:E7EC  C8         			iny
   94    00:E7ED  8C EA 26   			sty	sgx_spr_clr
   95    00:E7F0  60         			rts
   96                        		.endif
   97                        	
   98                        	
   99                        	
  100                        	; ***************************************************************************
  101                        	; ***************************************************************************
  102                        	;
  103                        	; void __fastcall satb_update( void );
  104                        	; void __fastcall sgx_satb_update( void );
  105                        	
  106    01:DFA7             	old_satb_group	.procgroup
  107                        	
  108               0001     		.if	SUPPORT_SGX
  109    01:DFA7             			.proc	_sgx_satb_update
  110                        	
  111    01:DFA7  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
  112    01:DFA9  F0         			db	$F0			; Turn "clx" into a "beq".
  113                        	
  114    01:DFAA             			.ref	_satb_update
  115                        			.endp
  116                        		.endif
  117                        	
  118    01:DFAA             			.proc	_satb_update
  119                        	
  120    01:DFAA  82         			clx				; Offset to PCE VDC.
  121                        	
  122    01:DFAB  A9 7F      			lda.h	#$7F00			; HuC puts the SAT here in VRAM
  123                        	;		lda.h	#$0800			; but we put it here instead
  124    01:DFAD  64 F0      			stz.l	<_di
  125    01:DFAF  85 F1      			sta.h	<_di
  126    01:DFB1  20 93 E3   			jsr	set_di_to_mawr
  127                        	
  128               0001     		.if	SUPPORT_SGX
  129    01:DFB4  8A         			txa				; Select which VDC to write
  130    01:DFB5  1A         			inc	a			; to.
  131    01:DFB6  1A         			inc	a
  132    01:DFB7  8D F3 22   			sta.l	ram_tia_dst
  133                        		.endif
  134                        	
  135    01:DFBA  A9 10      			lda	#VRAM_XFER_SIZE		; Split into 16-byte chunks
  136    01:DFBC  8D F5 22   			sta.l	ram_tia_len		; for stable IRQ response.
  137                        	
  138    01:DFBF  BC D9 26   			ldy	spr_max, x		; Highest sprite that was set.
  139    01:DFC2  C8         			iny
  140                        	
  141    01:DFC3  BD DA 26   			lda	spr_clr, x
  142    01:DFC6  F0 05      			beq	!+
  143    01:DFC8  9E DA 26   			stz	spr_clr, x
  144    01:DFCB  A0 40      			ldy	#64
  145                        	
  146    01:DFCD  98         	!:		tya
  147    01:DFCE  F0 22      			beq	.exit
  148                        	
  149    01:DFD0  3A         			dec	a			; round up to the next group of 2 sprites
  150    01:DFD1  4A         			lsr	a
  151               0000     		.if	VRAM_XFER_SIZE == 32
  153                        		.endif
  154    01:DFD2  1A         			inc	a
  155    01:DFD3  A8         			tay
  156                        	
  157    01:DFD4  A9 28      			lda.h	#spr_sat
  158                        	
  159               0001     		.if	SUPPORT_SGX
  160    01:DFD6  E0 00      			cpx	#0
  161    01:DFD8  F0 02      			beq	!+
  162                        	
  163    01:DFDA  A9 2A      			lda.h	#sgx_spr_sat
  164                        		.endif
  165                        	
  166    01:DFDC  8D F2 22   	!:		sta.h	ram_tia_src
  167                        	
  168    01:DFDF  A9 05      			lda.l	#spr_sat		; Same for SGX and PCE!
  169    01:DFE1  8D F1 22   	.chunk_loop:	sta.l	ram_tia_src
  170                        	
  171    01:DFE4  20 F0 22   			jsr	ram_tia			; transfer 16-bytes
  172                        	
  173    01:DFE7  18         			clc				; increment source
  174    01:DFE8  69 10      			adc	#VRAM_XFER_SIZE
  175    01:DFEA  90 03      			bcc	.same_page
  176    01:DFEC  EE F2 22   			inc.h	ram_tia_src
  177                        	
  178    01:DFEF  88         	.same_page:	dey
  179    01:DFF0  D0 EF      			bne	.chunk_loop
  180                        	
  181                        	.exit:		leave
         01:DFF2  4C EF FF   			jmp	leave_proc
  182                        	
  183                        			.endp
  184                        	
  185                        			.endprocgroup	; old_satb_group
  186                        	
  187                        	
  188                        	
  189                        	; ***************************************************************************
  190                        	; ***************************************************************************
  191                        	;
  192                        	; void __fastcall spr_set( unsigned char num<acc> );
  193                        	
  194    00:E7F1  CD D9 26   	_spr_set.1:	cmp	spr_max
  195    00:E7F4  90 03      			bcc	!+
  196    00:E7F6  8D D9 26   			sta	spr_max
  197    00:E7F9  A0 28      	!:		ldy.h	#spr_sat
  198    00:E7FB  0A         			asl	a
  199    00:E7FC  0A         			asl	a
  200    00:E7FD  0A         			asl	a
  201    00:E7FE  90 02      			bcc	!+
  202    00:E800  C8         			iny
  203    00:E801  18         			clc
  204    00:E802  69 05      	!:		adc.l	#spr_sat
  205    00:E804  85 9C      			sta.l	<spr_ptr
  206    00:E806  90 01      			bcc	!+
  207    00:E808  C8         			iny
  208    00:E809  84 9D      	!:		sty.h	<spr_ptr
  209    00:E80B  60         			rts
  210                        	
  211                        	
  212                        	
  213                        	; ***************************************************************************
  214                        	; ***************************************************************************
  215                        	;
  216                        	; void __fastcall spr_hide( void );
  217                        	
  218    00:E80C  A0 01      	_spr_hide:	ldy	#1
  219    00:E80E  B1 9C      			lda	[spr_ptr], y
  220    00:E810  09 02      			ora	#2
  221    00:E812  91 9C      			sta	[spr_ptr], y
  222    00:E814  60         			rts
  223                        	
  224                        	
  225                        	
  226                        	; ***************************************************************************
  227                        	; ***************************************************************************
  228                        	;
  229                        	; void __fastcall spr_show( void );
  230                        	
  231    00:E815  A0 01      	_spr_show:	ldy	#1
  232    00:E817  B1 9C      			lda	[spr_ptr], y
  233    00:E819  29 01      			and	#1
  234    00:E81B  91 9C      			sta	[spr_ptr], y
  235    00:E81D  60         			rts
  236                        	
  237                        	
  238                        	
  239                        	; ***************************************************************************
  240                        	; ***************************************************************************
  241                        	;
  242                        	; void __fastcall spr_x( unsigned int value<acc> );
  243                        	
  244    00:E81E  02         	_spr_x.1:	sxy
  245    00:E81F  18         			clc
  246    00:E820  69 20      			adc	#32
  247    00:E822  A0 02      			ldy	#2
  248    00:E824  91 9C      			sta	[spr_ptr], y
  249    00:E826  8A         			txa
  250    00:E827  69 00      			adc	#0
  251    00:E829  C8         			iny
  252    00:E82A  91 9C      			sta	[spr_ptr], y
  253    00:E82C  60         			rts
  254                        	
  255                        	
  256                        	
  257                        	; ***************************************************************************
  258                        	; ***************************************************************************
  259                        	;
  260                        	; void __fastcall spr_y( unsigned int value<acc> );
  261                        	
  262    00:E82D  18         	_spr_y.1:	clc
  263    00:E82E  69 40      			adc	#64
  264    00:E830  92 9C      			sta	[spr_ptr]
  265    00:E832  98         			tya
  266    00:E833  69 00      			adc	#0
  267    00:E835  A0 01      			ldy	#1
  268    00:E837  91 9C      			sta	[spr_ptr], y
  269    00:E839  60         			rts
  270                        			
  271                        	
  272                        	
  273                        	; ***************************************************************************
  274                        	; ***************************************************************************
  275                        	;
  276                        	; void __fastcall spr_pattern( unsigned int vaddr<acc> );
  277                        	
  278    00:E83A  84 00      	_spr_pattern.1:	sty	<__temp		;     zp=fedcba98 a=76543210
  279    00:E83C  0A         			asl	a		; c=f zp=edcba987 a=6543210_
  280    00:E83D  26 00      			rol	<__temp
  281    00:E83F  2A         			rol	a		; c=e zp=dcba9876 a=543210_f
  282    00:E840  26 00      			rol	<__temp
  283    00:E842  2A         			rol	a		; c=d zp=cba98765 a=43210_fe
  284    00:E843  26 00      			rol	<__temp
  285    00:E845  2A         			rol	a		; c=4 zp=cba98765 a=3210_fed
  286    00:E846  A0 05      			ldy	#5
  287    00:E848  91 9C      			sta	[spr_ptr], y
  288    00:E84A  A5 00      			lda	<__temp
  289    00:E84C  88         			dey
  290    00:E84D  91 9C      			sta	[spr_ptr], y
  291    00:E84F  60         			rts
  292                        	
  293                        	
  294                        	
  295                        	; ***************************************************************************
  296                        	; ***************************************************************************
  297                        	;
  298                        	; void __fastcall spr_ctrl( unsigned char mask<_al>, unsigned char value<acc> );
  299                        	
  300    00:E850  25 F8      	_spr_ctrl.2:	and	<_al
  301    00:E852  85 00      			sta	<__temp
  302    00:E854  A5 F8      			lda	<_al
  303    00:E856  49 FF      			eor	#$FF
  304    00:E858  A0 07      			ldy	#7
  305    00:E85A  31 9C      			and	[spr_ptr], y
  306    00:E85C  05 00      			ora	<__temp
  307    00:E85E  91 9C      			sta	[spr_ptr], y
  308    00:E860  60         			rts
  309                        	
  310                        	
  311                        	
  312                        	; ***************************************************************************
  313                        	; ***************************************************************************
  314                        	;
  315                        	; void __fastcall spr_pal( unsigned char palette<acc> )
  316                        	
  317    00:E861  29 0F      	_spr_pal.1:	and	#$0F
  318    00:E863  85 00      			sta	<__temp
  319    00:E865  A0 06      			ldy	#6
  320    00:E867  B1 9C      			lda	[spr_ptr], y
  321    00:E869  29 F0      			and	#$F0
  322    00:E86B  05 00      			ora	<__temp
  323    00:E86D  91 9C      			sta	[spr_ptr], y
  324    00:E86F  60         			rts
  325                        	
  326                        	
  327                        	
  328                        	; ***************************************************************************
  329                        	; ***************************************************************************
  330                        	;
  331                        	; void __fastcall spr_pri( unsigned char priority<acc> )
  332                        	
  333    00:E870  C9 01      	_spr_pri.1:	cmp	#1
  334    00:E872  A0 06      			ldy	#6
  335    00:E874  B1 9C      			lda	[spr_ptr], y
  336    00:E876  29 7F      			and	#$7F
  337    00:E878  90 02      			bcc	!+
  338    00:E87A  09 80      			ora	#$80
  339    00:E87C  91 9C      	!:		sta	[spr_ptr], y
  340    00:E87E  60         			rts
  341                        	
  342                        	
  343                        	
  344                        	; ***************************************************************************
  345                        	; ***************************************************************************
  346                        	;
  347                        	; unsigned int __fastcall spr_get_x( void );
  348                        	
  349    00:E87F  38         	_spr_get_x:	sec
  350    00:E880  A0 02      			ldy	#2
  351    00:E882  B1 9C      			lda	[spr_ptr], y
  352    00:E884  E9 20      			sbc	#32
  353    00:E886  AA         			tax
  354    00:E887  C8         			iny
  355    00:E888  B1 9C      			lda	[spr_ptr], y
  356    00:E88A  E9 00      			sbc	#0
  357    00:E88C  A8         			tay
  358    00:E88D  8A         			txa
  359    00:E88E  60         			rts
  360                        	
  361                        	
  362                        	
  363                        	; ***************************************************************************
  364                        	; ***************************************************************************
  365                        	;
  366                        	; unsigned int __fastcall spr_get_y( void );
  367                        	
  368    00:E88F  38         	_spr_get_y:	sec
  369    00:E890  B2 9C      			lda	[spr_ptr]
  370    00:E892  E9 40      			sbc	#64
  371    00:E894  AA         			tax
  372    00:E895  A0 01      			ldy	#1
  373    00:E897  B1 9C      			lda	[spr_ptr], y
  374    00:E899  E9 00      			sbc	#0
  375    00:E89B  A8         			tay
  376    00:E89C  8A         			txa
  377    00:E89D  60         			rts
  378                        	
  379                        	
  380                        	
  381               0001     		.if	SUPPORT_SGX
  382                        	
  383                        	; ***************************************************************************
  384                        	; ***************************************************************************
  385                        	;
  386                        	; void __fastcall sgx_spr_set( unsigned char num<acc> );
  387                        	
  388    00:E89E  CD E9 26   	_sgx_spr_set.1:	cmp	sgx_spr_max
  389    00:E8A1  90 03      			bcc	!+
  390    00:E8A3  8D E9 26   			sta	sgx_spr_max
  391    00:E8A6  A0 2A      	!:		ldy.h	#sgx_spr_sat
  392    00:E8A8  0A         			asl	a
  393    00:E8A9  0A         			asl	a
  394    00:E8AA  0A         			asl	a
  395    00:E8AB  90 02      			bcc	!+
  396    00:E8AD  C8         			iny
  397    00:E8AE  18         			clc
  398    00:E8AF  69 05      	!:		adc.l	#sgx_spr_sat
  399    00:E8B1  85 9E      			sta.l	<sgx_spr_ptr
  400    00:E8B3  90 01      			bcc	!+
  401    00:E8B5  C8         			iny
  402    00:E8B6  84 9F      	!:		sty.h	<sgx_spr_ptr
  403    00:E8B8  60         			rts
  404                        	
  405                        	
  406                        	
  407                        	; ***************************************************************************
  408                        	; ***************************************************************************
  409                        	;
  410                        	; void __fastcall sgx_spr_hide( void );
  411                        	
  412    00:E8B9  A0 01      	_sgx_spr_hide:	ldy	#1
  413    00:E8BB  B1 9E      			lda	[sgx_spr_ptr], y
  414    00:E8BD  09 02      			ora	#2
  415    00:E8BF  91 9E      			sta	[sgx_spr_ptr], y
  416    00:E8C1  60         			rts
  417                        	
  418                        	
  419                        	
  420                        	; ***************************************************************************
  421                        	; ***************************************************************************
  422                        	;
  423                        	; void __fastcall sgx_spr_show( void );
  424                        	
  425    00:E8C2  A0 01      	_sgx_spr_show:	ldy	#1
  426    00:E8C4  B1 9E      			lda	[sgx_spr_ptr], y
  427    00:E8C6  29 01      			and	#1
  428    00:E8C8  91 9E      			sta	[sgx_spr_ptr], y
  429    00:E8CA  60         			rts
  430                        	
  431                        	
  432                        	
  433                        	; ***************************************************************************
  434                        	; ***************************************************************************
  435                        	;
  436                        	; void __fastcall sgx_spr_x( unsigned int value<acc> );
  437                        	
  438    00:E8CB  02         	_sgx_spr_x.1:	sxy
  439    00:E8CC  18         			clc
  440    00:E8CD  69 20      			adc	#32
  441    00:E8CF  A0 02      			ldy	#2
  442    00:E8D1  91 9E      			sta	[sgx_spr_ptr], y
  443    00:E8D3  8A         			txa
  444    00:E8D4  69 00      			adc	#0
  445    00:E8D6  C8         			iny
  446    00:E8D7  91 9E      			sta	[sgx_spr_ptr], y
  447    00:E8D9  60         			rts
  448                        	
  449                        	
  450                        	
  451                        	; ***************************************************************************
  452                        	; ***************************************************************************
  453                        	;
  454                        	; void __fastcall sgx_spr_y( unsigned int value<acc> );
  455                        	
  456    00:E8DA  18         	_sgx_spr_y.1:	clc
  457    00:E8DB  69 40      			adc	#64
  458    00:E8DD  92 9E      			sta	[sgx_spr_ptr]
  459    00:E8DF  98         			tya
  460    00:E8E0  69 00      			adc	#0
  461    00:E8E2  A0 01      			ldy	#1
  462    00:E8E4  91 9E      			sta	[sgx_spr_ptr], y
  463    00:E8E6  60         			rts
  464                        			
  465                        	
  466                        	
  467                        	; ***************************************************************************
  468                        	; ***************************************************************************
  469                        	;
  470                        	; void __fastcall sgx_spr_pattern( unsigned int vaddr<acc> );
  471                        	
  472    00:E8E7             	_sgx_spr_pattern.1:
  473    00:E8E7  84 00      			sty	<__temp		;     zp=fedcba98 a=76543210
  474    00:E8E9  0A         			asl	a		; c=f zp=edcba987 a=6543210_
  475    00:E8EA  26 00      			rol	<__temp
  476    00:E8EC  2A         			rol	a		; c=e zp=dcba9876 a=543210_f
  477    00:E8ED  26 00      			rol	<__temp
  478    00:E8EF  2A         			rol	a		; c=d zp=cba98765 a=43210_fe
  479    00:E8F0  26 00      			rol	<__temp
  480    00:E8F2  2A         			rol	a		; c=4 zp=cba98765 a=3210_fed
  481    00:E8F3  A0 05      			ldy	#5
  482    00:E8F5  91 9E      			sta	[sgx_spr_ptr], y
  483    00:E8F7  A5 00      			lda	<__temp
  484    00:E8F9  88         			dey
  485    00:E8FA  91 9E      			sta	[sgx_spr_ptr], y
  486    00:E8FC  60         			rts
  487                        	
  488                        	
  489                        	
  490                        	; ***************************************************************************
  491                        	; ***************************************************************************
  492                        	;
  493                        	; void __fastcall sgx_spr_ctrl( unsigned char mask<_al>, unsigned char value<acc> );
  494                        	
  495    00:E8FD  25 F8      	_sgx_spr_ctrl.2:and	<_al
  496    00:E8FF  85 00      			sta	<__temp
  497    00:E901  A5 F8      			lda	<_al
  498    00:E903  49 FF      			eor	#$FF
  499    00:E905  A0 07      			ldy	#7
  500    00:E907  31 9E      			and	[sgx_spr_ptr], y
  501    00:E909  05 00      			ora	<__temp
  502    00:E90B  91 9E      			sta	[sgx_spr_ptr], y
  503    00:E90D  60         			rts
  504                        	
  505                        	
  506                        	
  507                        	; ***************************************************************************
  508                        	; ***************************************************************************
  509                        	;
  510                        	; void __fastcall sgx_spr_pal( unsigned char palette<acc> )
  511                        	
  512    00:E90E  29 0F      	_sgx_spr_pal.1:	and	#$0F
  513    00:E910  85 00      			sta	<__temp
  514    00:E912  A0 06      			ldy	#6
  515    00:E914  B1 9E      			lda	[sgx_spr_ptr], y
  516    00:E916  29 F0      			and	#$F0
  517    00:E918  05 00      			ora	<__temp
  518    00:E91A  91 9E      			sta	[sgx_spr_ptr], y
  519    00:E91C  60         			rts
  520                        	
  521                        	
  522                        	
  523                        	; ***************************************************************************
  524                        	; ***************************************************************************
  525                        	;
  526                        	; void __fastcall sgx_spr_pri( unsigned char priority<acc> )
  527                        	
  528    00:E91D  C9 01      	_sgx_spr_pri.1:	cmp	#1
  529    00:E91F  A0 06      			ldy	#6
  530    00:E921  B1 9E      			lda	[sgx_spr_ptr], y
  531    00:E923  29 7F      			and	#$7F
  532    00:E925  90 02      			bcc	!+
  533    00:E927  09 80      			ora	#$80
  534    00:E929  91 9E      	!:		sta	[sgx_spr_ptr], y
  535    00:E92B  60         			rts
  536                        	
  537                        	
  538                        	
  539                        	; ***************************************************************************
  540                        	; ***************************************************************************
  541                        	;
  542                        	; unsigned int __fastcall sgx_spr_get_x( void );
  543                        	
  544    00:E92C  38         	_sgx_spr_get_x:	sec
  545    00:E92D  A0 02      			ldy	#2
  546    00:E92F  B1 9E      			lda	[sgx_spr_ptr], y
  547    00:E931  E9 20      			sbc	#32
  548    00:E933  AA         			tax
  549    00:E934  C8         			iny
  550    00:E935  B1 9E      			lda	[sgx_spr_ptr], y
  551    00:E937  E9 00      			sbc	#0
  552    00:E939  A8         			tay
  553    00:E93A  8A         			txa
  554    00:E93B  60         			rts
  555                        	
  556                        	
  557                        	
  558                        	; ***************************************************************************
  559                        	; ***************************************************************************
  560                        	;
  561                        	; unsigned int __fastcall sgx_spr_get_y( void );
  562                        	
  563    00:E93C  38         	_sgx_spr_get_y:	sec
  564    00:E93D  B2 9E      			lda	[sgx_spr_ptr]
  565    00:E93F  E9 40      			sbc	#64
  566    00:E941  AA         			tax
  567    00:E942  A0 01      			ldy	#1
  568    00:E944  B1 9E      			lda	[sgx_spr_ptr], y
  569    00:E946  E9 00      			sbc	#0
  570    00:E948  A8         			tay
  571    00:E949  8A         			txa
  572    00:E94A  60         			rts
  573                        	
  574                        		.endif	SUPPORT_SGX
                             #[2]   "..\..\..\include\hucc\hucc-final.asm"
   73                        		.endif
   74                        	
   75               0001     		.ifdef	HUCC_USES_BLKMAP		; Set in hucc_blkmap.h
                             #[3]   "..\..\..\include\hucc\blkmap.asm"
   76                        			include	"blkmap.asm"
    1                        	; ***************************************************************************
    2                        	; ***************************************************************************
    3                        	;
    4                        	; blkmap.asm
    5                        	;
    6                        	; A map system based on 16x16 meta-tiles (aka "blocks", aka CHR/BLK/MAP).
    7                        	;
    8                        	; Copyright John Brandwood 2025.
    9                        	;
   10                        	; Distributed under the Boost Software License, Version 1.0.
   11                        	; (See accompanying file LICENSE_1_0.txt or copy at
   12                        	;  http://www.boost.org/LICENSE_1_0.txt)
   13                        	;
   14                        	; ***************************************************************************
   15                        	; ***************************************************************************
   16                        	;
   17                        	; The maximum X and Y size for blkmaps is 128 blocks (2048 pixels).
   18                        	;
   19                        	; The maximum total size for a blkmap is 16KBytes, which allows for maps up
   20                        	; to 128x128 blocks (2048x2048 pixels).
   21                        	;
   22                        	; Huge multi-screen blkmaps are also supported (optionally).
   23                        	;
   24                        	; The maximum X and Y for multi-screen maps is 128 screens (32768 pixels).
   25                        	;
   26                        	; The maximum total size for a multi-screen map is 8KBytes, which allows for
   27                        	; a total of 1024 screens.
   28                        	;
   29                        	; ***************************************************************************
   30                        	; ***************************************************************************
   31                        	
   32                        	;
   33                        	; Include dependancies ...
   34                        	;
   35                        	
   36                        			include "common.asm"		; Common helpers.
   37                        			include "vce.asm"		; Useful VCE routines.
   38                        			include "vdc.asm"		; Useful VCE routines.
   39                        	
   40                        	;
   41                        	; Support large blkmaps up to 16KBytes instead of the regular 8KBytes?
   42                        	;
   43                        	; The maximum X and Y size for regular blkmaps is 128 tiles (2048 pixels).
   44                        	;
   45                        	; This allows for individual maps up to 128x128 tiles (2048x2048 pixels) vs
   46                        	; default limit of 128x64 or 64x128.
   47                        	;
   48                        	
   49               0000     		.ifndef	BLKMAP_LARGEMAP
   51                        		.endif
   52                        	
   53                        	;
   54                        	; Support huge multi-screen maps, up to 32768 pixels wide/high?
   55                        	;
   56                        	; These are sectorized maps split into individual BAT-sized "screens", with
   57                        	; a maximum of 1024 screens per map.
   58                        	;
   59                        	; The BAT size that is used when drawing *must* be the same as the BAT size
   60                        	; that was chosen when creating the multi-screen map.
   61                        	;
   62                        	; Each screen can use a unique set of block definitions, or it might choose
   63                        	; to share the same block definitions that are used on another screen.
   64                        	;
   65                        	; Each screen may choose which 8KByte banks of character data to select for
   66                        	; the 4 banks (32KBytes) of VRAM that its block definitions use, with a max
   67                        	; of 16 banks of characters per multi-screen map.
   68                        	;
   69                        	; Loading those character banks dynamically is an exercise for the user!
   70                        	;
   71                        	; Enabling support adds extra library code, and slightly slows down the use
   72                        	; of regular blkmaps.
   73                        	;
   74                        	
   75               0000     		.ifndef	BLKMAP_MULTISCR
   77                        		.endif
   78                        	
   79                        	;
   80                        	; Block definitions can either use character data from VRAM $1000..$7FFF or
   81                        	; they can be limited to use the 32KByte of characters in VRAM $1000..$4FFF
   82                        	; which then frees up 2-bits for flag information for each character in the
   83                        	; block.
   84                        	;
   85                        	; These 2-bits are perfect for using as collision information in game maps,
   86                        	; allowing storage of states like transparent, solid, up-slope, down-slope.
   87                        	;
   88                        	; Typically this flag information is set by the map conversion tools from a
   89                        	; seperate "collision" map layer.
   90                        	;
   91                        	
   92               0000     		.ifndef	BLKDEF_CHR_FLAG
   94                        		.endif
   95                        	
   96                        	;
   97                        	; Block definitions are accessed in MPR2 ($4000..$5FFF), and must not cross
   98                        	; the bank boundary.
   99                        	;
  100                        	; When working this way, 8 pointers in ZP are used to access the individual
  101                        	; bytes in the block definition. This is fine when using a regular map on a
  102                        	; PC Engine, but it is awfully slow when using multi-screen maps or drawing
  103                        	; maps on both VDC chips in a SuperGRAFX because the pointer values must be
  104                        	; constantly changed.
  105                        	;
  106                        	; When using multi-screen maps, or when developing a SuperGRAFX game, or if
  107                        	; developing a CDROM game, then it is usually preferable to store the block
  108                        	; definitions with 2KByte alignment, especially if they are normally stored
  109                        	; compressed and then decompressed into a 2KByte buffer in RAM when needed.
  110                        	;
  111                        	; This option controls whether the definitions are stored 2KByte aligned or
  112                        	; if pointers should be used instead.
  113                        	;
  114                        	
  115               0000     		.ifndef	BLKDEF_POINTERS
  117                        		.endif
  118                        	
  119                        	;
  120                        	; Add a timing bar to the scroll_map() to see how long the drawing takes?
  121                        	;
  122                        	
  123               0000     		.ifndef	BLKMAP_TIMETEST
  125                        		.endif
  126                        	
  127                        	;
  128                        	;
  129                        	;
  130                        	
  131               0000     		.if	BLKDEF_POINTERS
  144                        		.else
  145                        	
  146                        		; If the block definititions are 2KByte aligned.
  147                        	
  148               4000     	BLK_4000_TL_L	=	$4000
  149               4100     	BLK_4000_TR_L	=	$4100
  150               4200     	BLK_4000_BL_L	=	$4200
  151               4300     	BLK_4000_BR_L	=	$4300
  152               4400     	BLK_4000_TL_H	=	$4400
  153               4500     	BLK_4000_TR_H	=	$4500
  154               4600     	BLK_4000_BL_H	=	$4600
  155               4700     	BLK_4000_BR_H	=	$4700
  156                        	
  157               4800     	BLK_4800_TL_L	=	$4800
  158               4900     	BLK_4800_TR_L	=	$4900
  159               4A00     	BLK_4800_BL_L	=	$4A00
  160               4B00     	BLK_4800_BR_L	=	$4B00
  161               4C00     	BLK_4800_TL_H	=	$4C00
  162               4D00     	BLK_4800_TR_H	=	$4D00
  163               4E00     	BLK_4800_BL_H	=	$4E00
  164               4F00     	BLK_4800_BR_H	=	$4F00
  165                        	
  166               5000     	BLK_5000_TL_L	=	$5000
  167               5100     	BLK_5000_TR_L	=	$5100
  168               5200     	BLK_5000_BL_L	=	$5200
  169               5300     	BLK_5000_BR_L	=	$5300
  170               5400     	BLK_5000_TL_H	=	$5400
  171               5500     	BLK_5000_TR_H	=	$5500
  172               5600     	BLK_5000_BL_H	=	$5600
  173               5700     	BLK_5000_BR_H	=	$5700
  174                        	
  175               5800     	BLK_5800_TL_L	=	$5800
  176               5900     	BLK_5800_TR_L	=	$5900
  177               5A00     	BLK_5800_BL_L	=	$5A00
  178               5B00     	BLK_5800_BR_L	=	$5B00
  179               5C00     	BLK_5800_TL_H	=	$5C00
  180               5D00     	BLK_5800_TR_H	=	$5D00
  181               5E00     	BLK_5800_BL_H	=	$5E00
  182               5F00     	BLK_5800_BR_H	=	$5F00
  183                        	
  184                        		.endif
  185                        	
  186               0080     	MAP_UNALIGNED_X	=	$80
  187               0040     	MAP_UNALIGNED_Y	=	$40
  188                        	
  189                        	;
  190                        	;
  191                        	;
  192                        	
  193               2C05     			.bss
  194                        	
  195                        	; **************
  196                        	; 8-byte (or 2-byte) entry for each SCREEN in the MULTI_MAP.
  197                        	
  198               0000     			.rsset	0
  199               0000     		.if	BLKDEF_POINTERS
  202                        		.else
  203               0000     	SCR_MAP_PAGE	.rs	1	; 256-byte aligned.
  204               0001     	SCR_MAP_BANK	.rs	1
  205               0002     	SCR_BLK_PAGE	.rs	1	; >$4000, >$4800, >$5000, or >$5800.
  206               0003     	SCR_BLK_BANK	.rs	1
  207               0004     	SCR_TBL_PAGE	.rs	1	; 256-byte aligned.
  208               0005     	SCR_TBL_BANK	.rs	1
  209               0006     	SCR_CHR_12	.rs	1	; Which CHR banks are used by the BLK, with
  210               0007     	SCR_CHR_34	.rs	1	; a max of 16 CHR banks per MULTI_MAP.
  211                        		.endif
  212                        	
  213                        			; A simple macro to help build a multi-screen map.
  214                        	
  215               0000     		.ifndef	SCREEN
  224                        		.endif
  225                        	
  226    F8:2C05             	map_blk_flag:	ds	1	; Returned from _get_map_block().
  227    F8:2C06             	map_blk_mask:	ds	1	; Returned from _get_map_block().
  228                        	
  229                        	; **************
  230                        	; 16-bytes of VDC blkmap info.
  231                        	;
  232                        	; N.B. MUST be 16-bytes before the SGX versions to use PCE_VDC_OFFSET.
  233                        	
  234    F8:2C07             	vdc_old_chr_x:	ds	1	; Previous top-left X in CHR (lo-byte only).
  235    F8:2C08             	vdc_old_chr_y:	ds	1	; Previous top-left Y in CHR (lo-byte only).
  236                        	
  237    F8:2C09             	vdc_tbl_addr:	ds	2	; 256-byte aligned.
  238    F8:2C0B             	vdc_tbl_bank:	ds	1
  239                        	
  240    F8:2C0C             	vdc_blk_addr:	ds	2	; 2KBytes of data, 256-byte aligned.
  241    F8:2C0E             	vdc_blk_bank:	ds	1
  242                        	
  243    F8:2C0F             	vdc_map_addr:	ds	2	; Mapped into MPR3..MPR5, max 16KBytes.
  244    F8:2C11             	vdc_map_bank:	ds	1
  245                        	
  246    F8:2C12             	vdc_scr_addr:	ds	2	; 8KByte maximum size.
  247    F8:2C14             	vdc_scr_bank:	ds	1
  248    F8:2C15             	vdc_scr_chr12:	ds	1	; Which CHR banks are used by the BLK, with
  249    F8:2C16             	vdc_scr_chr34:	ds	1	; a max of 16 banks per multi-screen map.
  250                        	
  251               0001     		.if	SUPPORT_SGX
  252                        	
  253                        	; **************
  254                        	; 16-bytes of SGX blkmap info.
  255                        	;
  256                        	; N.B. MUST be 16-bytes after the VDC versions to use SGX_VDC_OFFSET.
  257                        	
  258    F8:2C17             	sgx_old_chr_x:	ds	1	; Previous top-left X in CHR (lo-byte only).
  259    F8:2C18             	sgx_old_chr_y:	ds	1	; Previous top-left Y in CHR (lo-byte only).
  260                        	
  261    F8:2C19             	sgx_tbl_addr:	ds	2	; 256-byte aligned.
  262    F8:2C1B             	sgx_tbl_bank:	ds	1
  263                        	
  264    F8:2C1C             	sgx_blk_addr:	ds	2	; 2KBytes of data, 256-byte aligned.
  265    F8:2C1E             	sgx_blk_bank:	ds	1
  266                        	
  267    F8:2C1F             	sgx_map_addr:	ds	2	; Mapped into MPR3..MPR4, max 8KBytes.
  268    F8:2C21             	sgx_map_bank:	ds	1
  269                        	
  270    F8:2C22             	sgx_scr_addr:	ds	2	; 8KByte maximum size.
  271    F8:2C24             	sgx_scr_bank:	ds	1
  272    F8:2C25             	sgx_scr_chr12:	ds	1	; Which CHR banks are used by the BLK, with
  273    F8:2C26             	sgx_scr_chr34:	ds	1	; a max of 16 banks per multi-screen map.
  274                        	
  275                        		.endif	SUPPORT_SGX
  276                        	
  277               0000     		.if	0
  310                        		.endif	0
  311                        	
  312                        	; **************
  313                        	; Aliases for the asm variable names in HuCC.
  314                        	;
  315                        	
  316               0001     		.ifdef	HUCC
  317                        	
  318    F8:2C27             	_map_blk_flag	.alias	map_blk_flag
  319    F8:2C27             	_map_blk_mask	.alias	map_blk_mask
  320                        	
  321    F8:2C27             	_vdc_map_draw_w	.alias	vdc_map_draw_w
  322    F8:2C27             	_vdc_map_draw_h	.alias	vdc_map_draw_h
  323    F8:2C27             	_vdc_map_pxl_x	.alias	vdc_map_pxl_x
  324    F8:2C27             	_vdc_map_pxl_y	.alias	vdc_map_pxl_y
  325    F8:2C27             	_vdc_old_chr_x	.alias	vdc_old_chr_x
  326    F8:2C27             	_vdc_old_chr_y	.alias	vdc_old_chr_y
  327    F8:2C27             	_vdc_tbl_addr	.alias	vdc_tbl_addr
  328    F8:2C27             	_vdc_tbl_bank	.alias	vdc_tbl_bank
  329    F8:2C27             	_vdc_blk_addr	.alias	vdc_blk_addr
  330    F8:2C27             	_vdc_blk_bank	.alias	vdc_blk_bank
  331    F8:2C27             	_vdc_map_line_w	.alias	vdc_map_line_w
  332    F8:2C27             	_vdc_map_scrn_w	.alias	vdc_map_scrn_w
  333    F8:2C27             	_vdc_map_addr	.alias	vdc_map_addr
  334    F8:2C27             	_vdc_map_bank	.alias	vdc_map_bank
  335    F8:2C27             	_vdc_scr_addr	.alias	vdc_scr_addr
  336    F8:2C27             	_vdc_scr_bank	.alias	vdc_scr_bank
  337    F8:2C27             	_vdc_scr_chr12	.alias	vdc_scr_chr12
  338    F8:2C27             	_vdc_scr_chr34	.alias	vdc_scr_chr34
  339                        	
  340               0001     		.if	SUPPORT_SGX
  341    F8:2C27             	_sgx_map_draw_w	.alias	sgx_map_draw_w
  342    F8:2C27             	_sgx_map_draw_h	.alias	sgx_map_draw_h
  343    F8:2C27             	_sgx_map_pxl_x	.alias	sgx_map_pxl_x
  344    F8:2C27             	_sgx_map_pxl_y	.alias	sgx_map_pxl_y
  345    F8:2C27             	_sgx_old_chr_x	.alias	sgx_old_chr_x
  346    F8:2C27             	_sgx_old_chr_y	.alias	sgx_old_chr_y
  347    F8:2C27             	_sgx_tbl_addr	.alias	sgx_tbl_addr
  348    F8:2C27             	_sgx_tbl_bank	.alias	sgx_tbl_bank
  349    F8:2C27             	_sgx_blk_addr	.alias	sgx_blk_addr
  350    F8:2C27             	_sgx_blk_bank	.alias	sgx_blk_bank
  351    F8:2C27             	_sgx_map_line_w	.alias	sgx_map_line_w
  352    F8:2C27             	_sgx_map_scrn_w	.alias	sgx_map_scrn_w
  353    F8:2C27             	_sgx_map_addr	.alias	sgx_map_addr
  354    F8:2C27             	_sgx_map_bank	.alias	sgx_map_bank
  355    F8:2C27             	_sgx_scr_addr	.alias	sgx_scr_addr
  356    F8:2C27             	_sgx_scr_bank	.alias	sgx_scr_bank
  357    F8:2C27             	_sgx_scr_chr12	.alias	sgx_scr_chr12
  358    F8:2C27             	_sgx_scr_chr34	.alias	sgx_scr_chr34
  359                        		.endif	SUPPORT_SGX
  360                        	
  361                        		.endif	HUCC
  362                        	
  363                        	; **************
  364                        	; Temporary variables for drawing, using common zero-page locations.
  365                        	;
  366                        	
  367               20F8     	map_bat_x	=	_al	; Set by draw_map(), scroll_map() if drawing
  368               20F9     	map_bat_y	=	_ah	; aligned, or as parameters to blit_map().
  369                        	
  370               20FA     	map_draw_w	=	_bl	; Set by draw_map(), scroll_map(), but given
  371               20FB     	map_draw_h	=	_bh	; as parameters to blit_map().
  372                        	
  373               20FC     	map_pxl_x	=	_cx	; Set by draw_map(), scroll_map() and also by
  374               20FC     	map_chr_x	=	_cl	; blit__map(), from current vdc_map_pxl_x.
  375               20FD     	map_scrn_x	=	_ch
  376                        	
  377               20FE     	map_pxl_y	=	_dx	; Set by draw_map(), scroll_map() and also by
  378               20FE     	map_chr_y	=	_dl	; blit__map(), from current vdc_map_pxl_y.
  379               20FF     	map_scrn_y	=	_dh
  380                        	
  381               20EE     	map_line	=	_si	; Start of map data line being drawn.
  382                        	
  383               2000     	map_count	=	__temp + 0
  384               2001     	map_drawn	=	__temp + 1
  385                        	
  386               E94B     			.code
  387                        	
  388                        	
  389                        	
  390    1E:C000             	blkmap_group	.procgroup
  391                        	
  392                        	; ***************************************************************************
  393                        	; ***************************************************************************
  394                        	;
  395                        	; _set_blocks - Initialize the block definition pointers.
  396                        	; _sgx_set_blocks - Initialize the block definition pointers.
  397                        	;
  398                        	; void __fastcall set_blocks( unsigned char __far *blk_def<vdc_blk_bank:vdc_blk_addr>, unsigned char __far *flg_def<vdc_tbl_bank:vdc_tbl_addr>, unsigned char number_of_blk<_al> );
  399                        	; void __fastcall sgx_set_blocks( unsigned char __far *blk_def<sgx_blk_bank:sgx_blk_addr>, unsigned char __far *flg_def<sgx_tbl_bank:sgx_tbl_addr>, unsigned char number_of_blk<_al> );
  400                        	;
  401                        	
  402               0001     		.if	SUPPORT_SGX
  403                        	
  404    1E:C000             			.proc	_sgx_set_blocks.3
  405                        	
  406    1E:C000  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
  407    1E:C002  F0         			db	$F0			; Turn "clx" into a "beq".
  408                        	
  409    1E:C003             			.ref	_set_blocks.3
  410                        			.endp
  411                        		.endif
  412                        	
  413    1E:C003             			.proc	_set_blocks.3
  414                        	
  415    1E:C003  82         			clx				; Offset to PCE VDC.
  416                        	
  417    1E:C004  BD 0A 2C   			lda.h	vdc_tbl_addr, x		; Remap the address to MPR2.
  418    1E:C007  29 1F      			and	#$1F
  419    1E:C009  09 40      			ora	#$40
  420    1E:C00B  9D 0A 2C   			sta.h	vdc_tbl_addr, x
  421                        	
  422    1E:C00E  BD 0D 2C   			lda.h	vdc_blk_addr, x		; Remap the address to MPR2.
  423    1E:C011  29 1F      			and	#$1F
  424    1E:C013  09 40      			ora	#$40
  425    1E:C015  9D 0D 2C   			sta.h	vdc_blk_addr, x
  426                        	
  427               0000     		.if	BLKDEF_POINTERS
  479                        		.endif	BLKDEF_POINTERS
  480                        	
  481                        			leave
         1E:C018  4C EF FF   			jmp	leave_proc
  482                        	
  483                        			.endp
  484                        	
  485                        	
  486                        	
  487                        	; ***************************************************************************
  488                        	; ***************************************************************************
  489                        	;
  490                        	; _draw_map - Draw the entire screen at the current coordinates.
  491                        	; _sgx_draw_map - Draw the entire screen at the current coordinates.
  492                        	;
  493                        	; void __fastcall draw_map( void );
  494                        	; void __fastcall sgx_draw_map( void );
  495                        	;
  496                        	
  497               0001     		.if	SUPPORT_SGX
  498                        	
  499    1E:C01B             	_sgx_draw_map	.proc
  500                        	
  501    1E:C01B  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
  502    1E:C01D  F0         			db	$F0			; Turn "clx" into a "beq".
  503                        	
  504    1E:C01E             			.ref	_draw_map
  505                        			.endp
  506                        		.endif
  507                        	
  508    1E:C01E             	_draw_map	.proc
  509                        	
  510    1E:C01E  82         			clx				; Offset to PCE VDC.
  511                        	
  512    1E:C01F  43 04      			tma2				; Preserve MPR2..MPR4.
  513    1E:C021  48         			pha
  514    1E:C022  43 08      			tma3
  515    1E:C024  48         			pha
  516    1E:C025  43 10      			tma4
  517    1E:C027  48         			pha
  518               0000     		.if	BLKMAP_LARGEMAP
  521                        		.endif
  522                        	
  523    1E:C028  20 2A C1   			jsr	map_pxl_2_chr		; Set up the draw coordinates.
  524                        	
  525    1E:C02B  A5 FC      			lda	<map_chr_x		; Reset previous X position.
  526    1E:C02D  9D 07 2C   			sta	vdc_old_chr_x, x
  527                        	
  528    1E:C030  A5 FE      			lda	<map_chr_y		; Reset previous Y position,
  529    1E:C032  1A         			inc	a			; ready to draw multiple rows.
  530    1E:C033  9D 08 2C   			sta	vdc_old_chr_y, x
  531                        	
  532    1E:C036  BD D0 26   			lda	vdc_map_draw_w, x	; Draw the whole screen.
  533    1E:C039  85 FA      			sta	<map_draw_w
  534    1E:C03B  BD D1 26   			lda	vdc_map_draw_h, x
  535    1E:C03E  85 FB      			sta	<map_draw_h
  536                        	
  537    1E:C040  20 80 C3   			jsr	map_scroll_y		; Draw N row of CHR to the BAT.
  538                        	
  539               0000     		.if	BLKMAP_LARGEMAP
  542                        		.endif
  543    1E:C043  68         			pla				; Restore MPR2..MPR4.
  544    1E:C044  53 10      			tam4
  545    1E:C046  68         			pla
  546    1E:C047  53 08      			tam3
  547    1E:C049  68         			pla
  548    1E:C04A  53 04      			tam2
  549                        	
  550                        			leave
         1E:C04C  4C EF FF   			jmp	leave_proc
  551                        	
  552                        			.endp
  553                        	
  554                        	
  555                        	
  556                        	; ***************************************************************************
  557                        	; ***************************************************************************
  558                        	;
  559                        	; _scroll_map - Draw a single row of CHR into the BAT to update the edge.
  560                        	; _sgx_scroll_map - Draw a single row of CHR into the BAT to update the edge.
  561                        	;
  562                        	; void __fastcall scroll_map( void );
  563                        	; void __fastcall sgx_scroll_map( void );
  564                        	;
  565                        	
  566               0001     		.if	SUPPORT_SGX
  567                        	
  568    1E:C04F             	_sgx_scroll_map	.proc
  569                        	
  570    1E:C04F  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
  571    1E:C051  F0         			db	$F0			; Turn "clx" into a "beq".
  572                        	
  573    1E:C052             			.ref	_scroll_map
  574                        			.endp
  575                        		.endif
  576                        	
  577    1E:C052             	_scroll_map	.proc
  578                        	
  579    1E:C052  82         			clx				; Offset to PCE VDC.
  580                        	
  581               0000     		.if	BLKMAP_TIMETEST
  587                        		.endif
  588                        	
  589    1E:C053  43 04      			tma2				; Preserve MPR2..MPR4.
  590    1E:C055  48         			pha
  591    1E:C056  43 08      			tma3
  592    1E:C058  48         			pha
  593    1E:C059  43 10      			tma4
  594    1E:C05B  48         			pha
  595               0000     		.if	BLKMAP_LARGEMAP
  598                        		.endif
  599                        	
  600    1E:C05C  20 2A C1   			jsr	map_pxl_2_chr		; Set up the draw coordinates.
  601                        	
  602               0001     		.if	BLKMAP_MULTISCR
  603    1E:C05F  A5 FD      			lda	<map_scrn_x		; map_scroll_x can change this!
  604    1E:C061  48         			pha
  605                        		.endif
  606                        	
  607    1E:C062  BD D1 26   			lda	vdc_map_draw_h, x	; Draw new LHS or RHS if needed.
  608    1E:C065  85 FB      			sta	<map_draw_h
  609                        	;		lda	#1			; map_scroll_x only ever draws a
  610                        	;		sta	<map_draw_w		; single column.
  611    1E:C067  20 61 C2   			jsr	map_scroll_x
  612                        	
  613    1E:C06A  BD 07 2C   			lda	vdc_old_chr_x, x	; Restore map_chr_x which could
  614    1E:C06D  85 FC      			sta	<map_chr_x		; be changed by map_scroll_x.
  615                        	
  616               0001     		.if	BLKMAP_MULTISCR
  617    1E:C06F  68         			pla				; Restore before map_scroll_y.
  618    1E:C070  85 FD      			sta	<map_scrn_x
  619                        		.endif
  620                        	
  621    1E:C072  BD D0 26   			lda	vdc_map_draw_w, x	; Draw new TOP or BTM if needed.
  622    1E:C075  85 FA      			sta	<map_draw_w
  623    1E:C077  A9 01      			lda	#1
  624    1E:C079  85 FB      			sta	<map_draw_h
  625    1E:C07B  20 80 C3   			jsr	map_scroll_y
  626                        	
  627               0000     		.if	BLKMAP_LARGEMAP
  630                        		.endif
  631    1E:C07E  68         			pla				; Restore MPR2..MPR4.
  632    1E:C07F  53 10      			tam4
  633    1E:C081  68         			pla
  634    1E:C082  53 08      			tam3
  635    1E:C084  68         			pla
  636    1E:C085  53 04      			tam2
  637                        	
  638               0000     		.if	BLKMAP_TIMETEST
  640                        		.endif
  641                        	
  642                        			leave
         1E:C087  4C EF FF   			jmp	leave_proc
  643                        	
  644                        			.endp
  645                        	
  646                        	
  647                        	
  648                        	; ***************************************************************************
  649                        	; ***************************************************************************
  650                        	;
  651                        	; _blit_map - Draw a map rectangle to specific BAT coordinates.
  652                        	; _sgx_blit_map - Draw a map rectangle to specific BAT coordinates.
  653                        	;
  654                        	; void __fastcall blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
  655                        	; void __fastcall sgx_blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
  656                        	;
  657                        	; Normally you'd just use _draw_map() and _scroll_map(), but for those folks
  658                        	; who really wish to take manual control, you can use this.
  659                        	;
  660                        	
  661               0001     		.if	SUPPORT_SGX
  662                        	
  663                        	_sgx_blit_map	.proc
  669                        			.endp
  670                        		.endif
  671                        	
  672    1E:C08A             	_blit_map	.proc
  673                        	
  674    1E:C08A  82         			clx				; Offset to PCE VDC.
  675                        	
  676    1E:C08B  BD 14 2C   			lda	vdc_scr_bank, x		; Skip this if a multi-screen
  677    1E:C08E  D0 36      			bne	.exit			; blkmap.
  678                        	
  679    1E:C090  43 04      			tma2				; Preserve MPR2..MPR4.
  680    1E:C092  48         			pha
  681    1E:C093  43 08      			tma3
  682    1E:C095  48         			pha
  683    1E:C096  43 10      			tma4
  684    1E:C098  48         			pha
  685               0000     		.if	BLKMAP_LARGEMAP
  688                        		.endif
  689                        	
  690    1E:C099  BD D8 26   			lda	vdc_map_option, x	; Preserve current map options.
  691    1E:C09C  48         			pha
  692    1E:C09D  09 C0      			ora	#MAP_UNALIGNED_X | MAP_UNALIGNED_Y
  693    1E:C09F  9D D8 26   			sta	vdc_map_option, x
  694                        	
  695    1E:C0A2  20 2A C1   			jsr	map_pxl_2_chr		; Set up the draw coordinates.
  696                        	
  697    1E:C0A5  A5 FA      			lda	<map_draw_w		; Are we drawing just 1 column?
  698    1E:C0A7  C9 01      			cmp	#1
  699    1E:C0A9  F0 1E      			beq	.draw_column
  700                        	
  701                        			; Draw N rows.
  702                        	
  703    1E:C0AB  A5 FC      	.draw_rows:	lda	<map_chr_x		; Reset previous X position.
  704    1E:C0AD  9D 07 2C   			sta	vdc_old_chr_x, x
  705                        	
  706    1E:C0B0  A5 FE      			lda	<map_chr_y		; Reset previous Y position,
  707    1E:C0B2  1A         			inc	a			; ready to draw rows upwards.
  708    1E:C0B3  9D 08 2C   			sta	vdc_old_chr_y, x
  709                        	
  710    1E:C0B6  20 80 C3   			jsr	map_scroll_y		; Draw a row of CHR to the BAT.
  711                        	
  712                        			; Drawing completed.
  713                        	
  714    1E:C0B9  68         	.finished:	pla				; Restore previous map options.
  715    1E:C0BA  9D D8 26   			sta	vdc_map_option, x
  716                        	
  717               0000     		.if	BLKMAP_LARGEMAP
  720                        		.endif
  721    1E:C0BD  68         			pla				; Restore MPR2..MPR4.
  722    1E:C0BE  53 10      			tam4
  723    1E:C0C0  68         			pla
  724    1E:C0C1  53 08      			tam3
  725    1E:C0C3  68         			pla
  726    1E:C0C4  53 04      			tam2
  727                        	
  728                        	.exit:		leave
         1E:C0C6  4C EF FF   			jmp	leave_proc
  729                        	
  730                        			; Draw 1 column.
  731                        	
  732    1E:C0C9  A5 FC      	.draw_column:	lda	<map_chr_x		; Reset previous X position.
  733    1E:C0CB  1A         			inc	a			; ready to draw 1 column.
  734    1E:C0CC  9D 07 2C   			sta	vdc_old_chr_x, x
  735                        	
  736    1E:C0CF  A5 FE      			lda	<map_chr_y		; Reset previous Y position.
  737    1E:C0D1  9D 08 2C   			sta	vdc_old_chr_y, x
  738                        	
  739    1E:C0D4  20 61 C2   			jsr	map_scroll_x		; Draw a single column of CHR.
  740                        	
  741    1E:C0D7  80 E0      			bra	.finished
  742                        	
  743                        			.endp
  744                        	
  745                        	
  746                        	
  747                        	; ***************************************************************************
  748                        	; ***************************************************************************
  749                        	;
  750                        	; _get_map_block - Get the block number used at a map pixel coordinate.
  751                        	; _sgx_get_map_block - Get the block number used at a map pixel coordinate.
  752                        	;
  753                        	; unsigned char __fastcall _get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
  754                        	; unsigned char __fastcall _sgx_get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
  755                        	;
  756                        	
  757               0001     		.if	SUPPORT_SGX
  758                        	
  759                        			.proc	_sgx_get_map_block.2
  765                        			.endp
  766                        		.endif
  767                        	
  768    1E:C0D9             			.proc	_get_map_block.2
  769                        	
  770    1E:C0D9  82         			clx				; Offset to PCE VDC.
  771                        	
  772    1E:C0DA  43 04      			tma2				; Preserve MPR2..MPR4.
  773    1E:C0DC  48         			pha
  774    1E:C0DD  43 08      			tma3
  775    1E:C0DF  48         			pha
  776    1E:C0E0  43 10      			tma4
  777    1E:C0E2  48         			pha
  778               0000     		.if	BLKMAP_LARGEMAP
  781                        		.endif
  782                        	
  783    1E:C0E3  20 3E C1   			jsr	xvt_pxl_2_chr		; Set up the query coordinates.
  784                        	
  785    1E:C0E6  20 6C C1   			jsr	map_chr_2_data		; Page in the map address.
  786                        	
  787    1E:C0E9  B2 EC      			lda	[_bp]			; Read the BLK from the map.
  788    1E:C0EB  A8         			tay
  789                        	
  790    1E:C0EC  A5 FC      			lda	<map_chr_x		; Calc the BLK address offset
  791    1E:C0EE  4A         			lsr	a			; use depending upon even/odd
  792    1E:C0EF  A5 FE      			lda	<map_chr_y		; CHR coordinates (not BAT to
  793    1E:C0F1  29 01      			and	#1			; support unaligned drawing).
  794    1E:C0F3  2A         			rol	a
  795    1E:C0F4  09 04      			ora	#4			; Offset to BLK table top byte.
  796    1E:C0F6  7D 0D 2C   			adc.h	vdc_blk_addr, x		; What is the BLK data address?
  797    1E:C0F9  85 ED      			sta.h	<_bp			; $4000, $4800, $5000 or $5800.
  798    1E:C0FB  64 EC      			stz.l	<_bp
  799    1E:C0FD  B1 EC      			lda	[_bp], y		; Read the collision flags from
  800    1E:C0FF  29 0C      			and	#%00001100		; the top byte of the CHR.
  801    1E:C101  4A         			lsr	a
  802    1E:C102  4A         			lsr	a
  803    1E:C103  4A         			lsr	a			; Swizzle the bottom bit to get
  804    1E:C104  90 02      			bcc	!+			; the same bit order as used in
  805    1E:C106  09 02      			ora	#2			; .HALTMAP layer.
  806    1E:C108  8D 05 2C   	!:		sta	map_blk_flag
  807                        	
  808    1E:C10B  BD 0B 2C   			lda	vdc_tbl_bank, x		; Is there a table of flags?
  809    1E:C10E  F0 09      			beq	!+
  810    1E:C110  53 08      			tam3
  811                        	;		inc	a
  812                        	;		tam4
  813                        	;		lda.l	vdc_tbl_addr, x
  814                        	;		sta.l	<_bp
  815    1E:C112  BD 0A 2C   			lda.h	vdc_tbl_addr, x		; If so, it must be aligned!
  816    1E:C115  85 ED      			sta.h	<_bp
  817    1E:C117  B1 EC      			lda	[_bp], y		; Read the .MASKMAP/.OVERMAP
  818    1E:C119  8D 06 2C   	!:		sta	map_blk_mask		; flag value for this BLK.
  819                        	
  820               0000     		.if	BLKMAP_LARGEMAP
  823                        		.endif
  824    1E:C11C  68         			pla				; Restore MPR2..MPR4.
  825    1E:C11D  53 10      			tam4
  826    1E:C11F  68         			pla
  827    1E:C120  53 08      			tam3
  828    1E:C122  68         			pla
  829    1E:C123  53 04      			tam2
  830                        	
  831    1E:C125  02         			sxy				; Put the BLK number in X.
  832    1E:C126  C2         			cly
  833                        	
  834                        			leave				; All done!
         1E:C127  4C EF FF   			jmp	leave_proc
  835                        	
  836                        			.endp
  837                        	
  838                        	
  839                        	
  840                        	; ***************************************************************************
  841                        	; ***************************************************************************
  842                        	;
  843                        	; map_pxl_2_chr - Convert PXL to CHR, BLK and SCR coordinates.
  844                        	;
  845                        	
  846    1E:C12A  BD D6 26   	map_pxl_2_chr:	lda.l	vdc_map_pxl_y, x	; Get current map Y coordinate.
  847    1E:C12D  85 FE      			sta.l	<map_pxl_y
  848    1E:C12F  BD D7 26   			lda.h	vdc_map_pxl_y, x
  849    1E:C132  85 FF      			sta.h	<map_pxl_y
  850                        	
  851    1E:C134  BD D4 26   			lda.l	vdc_map_pxl_x, x	; Get current map X coordinate.
  852    1E:C137  85 FC      			sta.l	<map_pxl_x
  853    1E:C139  BD D5 26   			lda.h	vdc_map_pxl_x, x
  854    1E:C13C  85 FD      			sta.h	<map_pxl_x
  855                        	
  856    1E:C13E  A5 FD      	xvt_pxl_2_chr:	lda.h	<map_pxl_x		; Xvert map_pxl_x to map_chr_x.
  857               0001     		.if	BLKMAP_MULTISCR
  858    1E:C140  A8         			tay				; Xvert map_pxl_x to map_scrn_x.
  859    1E:C141  3C CB 26   			bit	vdc_bat_width, x
  860    1E:C144  70 03      			bvs	.w64
  861    1E:C146  10 02      			bpl	.w32
  862    1E:C148  4A         	.w128:		lsr	a
  863    1E:C149  4A         	.w64:		lsr	a
  864    1E:C14A  85 FD      	.w32:		sta	<map_scrn_x
  865    1E:C14C  98         			tya
  866                        		.endif
  867    1E:C14D  4A         			lsr	a
  868    1E:C14E  66 FC      			ror.l	<map_pxl_x
  869    1E:C150  4A         			lsr	a
  870    1E:C151  66 FC      			ror.l	<map_pxl_x
  871    1E:C153  4A         			lsr	a
  872    1E:C154  66 FC      			ror.l	<map_pxl_x		; Max map width is 256 CHR.
  873                        	
  874    1E:C156  A5 FF      			lda.h	<map_pxl_y		; Xvert map_pxl_y to map_chr_y.
  875               0001     		.if	BLKMAP_MULTISCR
  876    1E:C158  A8         			tay				; Xvert map_pxl_y to map_scrn_y.
  877    1E:C159  3C CC 26   			bit	vdc_bat_height, x
  878    1E:C15C  50 01      			bvc	.h32
  879    1E:C15E  4A         	.h64:		lsr	a
  880    1E:C15F  85 FF      	.h32:		sta	<map_scrn_y
  881    1E:C161  98         			tya
  882                        		.endif
  883    1E:C162  4A         			lsr	a
  884    1E:C163  66 FE      			ror.l	<map_pxl_y
  885    1E:C165  4A         			lsr	a
  886    1E:C166  66 FE      			ror.l	<map_pxl_y
  887    1E:C168  4A         			lsr	a
  888    1E:C169  66 FE      			ror.l	<map_pxl_y		; Max map width is 256 CHR.
  889                        	
  890    1E:C16B  60         			rts
  891                        	
  892                        	
  893                        	
  894                        	; ***************************************************************************
  895                        	; ***************************************************************************
  896                        	;
  897                        	; map_chr_2_data - Page in the MAP address for the CHR coordinates.
  898                        	;
  899                        	
  900    1E:C16C             	map_chr_2_data:
  901                        	
  902               0001     		.if	BLKMAP_MULTISCR
  903                        	
  904                        			; Initialization for a multi-screen map.
  905                        	
  906    1E:C16C  BD 14 2C   			lda	vdc_scr_bank, x		; Skip this if regular blkmap.
  907    1E:C16F  F0 3A      			beq	.regular
  908                        	
  909    1E:C171  A5 FC      	.multiscreen:	lda	<map_chr_x		; Compare old_x with cur_x.
  910    1E:C173  3D CD 26   			and	vdc_bat_x_mask, x
  911    1E:C176  85 F8      			sta	<map_bat_x		; Save BAT X chr coordinate.
  912                        	
  913    1E:C178  A5 FE      			lda	<map_chr_y		; Save BAT Y chr coordinate.
  914    1E:C17A  3D CE 26   			and	vdc_bat_y_mask, x
  915    1E:C17D  85 F9      			sta	<map_bat_y
  916    1E:C17F  4A         			lsr	a			; Map BLK Y coordinate.
  917    1E:C180  85 EF      			sta.h	<map_line
  918    1E:C182  62         			cla
  919    1E:C183  3C CB 26   			bit	vdc_bat_width, x
  920    1E:C186  30 08      			bmi	.w128
  921    1E:C188  70 03      			bvs	.w64
  922    1E:C18A  46 EF      	.w32:		lsr.h	<map_line
  923    1E:C18C  6A         			ror	a
  924    1E:C18D  46 EF      	.w64:		lsr.h	<map_line
  925    1E:C18F  6A         			ror	a
  926    1E:C190  46 EF      	.w128:		lsr.h	<map_line
  927    1E:C192  6A         			ror	a
  928    1E:C193  46 EF      			lsr.h	<map_line		; Hi-byte of (BLK Y * width).
  929    1E:C195  6A         			ror	a
  930    1E:C196  85 EE      			sta.l	<map_line		; Lo-byte of (BLK Y * width).
  931                        	
  932    1E:C198  20 EC C1   			jsr	map_set_screen		; Put BLK & MAP in MPR2-MPR5.
  933                        	
  934    1E:C19B  A5 F8      			lda	<map_bat_x		; Calc map data pointer.
  935    1E:C19D  4A         			lsr	a			; Map BLK X coordinate.
  936    1E:C19E  05 EE      			ora.l	<map_line
  937    1E:C1A0  85 EC      			sta.l	<_bp
  938    1E:C1A2  A5 EF      			lda.h	<map_line
  939    1E:C1A4  18         			clc
  940    1E:C1A5  7D 10 2C   			adc.h	vdc_map_addr, x		; N.B. 256-byte aligned!
  941    1E:C1A8  85 ED      			sta.h	<_bp
  942                        	
  943    1E:C1AA  60         			rts
  944                        	
  945                        		.endif	BLKMAP_MULTISCR
  946                        	
  947                        			; Initialization for a regular map.
  948                        	
  949    1E:C1AB  A5 FC      	.regular:	lda	<map_chr_x		; Compare old_x with cur_x.
  950                        	;		bit	vdc_map_option, x	; Set bit7 to disable aligning
  951                        	;		bmi	!+			; BAT X with the map X.
  952    1E:C1AD  3D CD 26   			and	vdc_bat_x_mask, x
  953    1E:C1B0  85 F8      			sta	<map_bat_x		; Save BAT X chr coordinate.
  954                        	
  955    1E:C1B2  A5 FE      	!:		lda	<map_chr_y		; A = map CHR Y coordinate.
  956    1E:C1B4  A8         			tay
  957    1E:C1B5  4A         			lsr	a
  958    1E:C1B6  42         			say				; Y = map BLK Y coordinate.
  959                        	
  960                        	;		bit	vdc_map_option, x	; Set bit6 to disable aligning
  961                        	;		bvs	!+			; BAT Y with the map Y.
  962    1E:C1B7  3D CE 26   			and	vdc_bat_y_mask, x
  963    1E:C1BA  85 F9      			sta	<map_bat_y		; Save BAT Y chr coordinate.
  964                        	
  965               0000     		.if	BLKMAP_LARGEMAP
  970                        		.endif
  971                        	
  972    1E:C1BC  BD D2 26   	!:		lda	vdc_map_line_w, x	; Map width in BLK.
  973               0000     		.if	FAST_MULTIPLY
  986                        		.else
  987    1E:C1BF  84 EF      			sty.h	<map_line		; Takes 144..176 cycles.
  988    1E:C1C1  A0 08      			ldy	#8
  989    1E:C1C3  4A         			lsr	a
  990    1E:C1C4  85 EE      			sta.l	<map_line
  991    1E:C1C6  62         			cla
  992    1E:C1C7  90 03      			bcc	.rotate
  993    1E:C1C9  18         	.add:		clc
  994    1E:C1CA  65 EF      			adc.h	<map_line
  995    1E:C1CC  6A         	.rotate:	ror	a
  996    1E:C1CD  66 EE      			ror.l	<map_line		; Lo-byte of (BLK Y * width).
  997    1E:C1CF  88         			dey
  998    1E:C1D0  B0 F7      			bcs	.add
  999    1E:C1D2  D0 F8      			bne	.rotate
 1000    1E:C1D4  A8         			tay				; Hi-byte of (BLK Y * width).
 1001                        		.endif
 1002                        	
 1003    1E:C1D5  A5 FC      	!:		lda	<map_chr_x		; Map CHR X coordinate.
 1004    1E:C1D7  4A         			lsr	a			; Map BLK X coordinate.
 1005    1E:C1D8  18         			clc
 1006    1E:C1D9  65 EE      			adc.l	<map_line		; Lo-byte of (BLK Y * width).
 1007    1E:C1DB  90 01      			bcc	!+
 1008    1E:C1DD  C8         			iny				; Hi-byte of (BLK Y * width).
 1009                        	
 1010    1E:C1DE  18         	!:		clc				; Calc map data pointer.
 1011    1E:C1DF  7D 0F 2C   			adc.l	vdc_map_addr, x
 1012    1E:C1E2  85 EC      			sta.l	<_bp			; Maximum map size is 16KBytes
 1013    1E:C1E4  98         			tya				; so we don't need to consider
 1014    1E:C1E5  7D 10 2C   			adc.h	vdc_map_addr, x		; bank overflow.
 1015    1E:C1E8  85 ED      			sta.h	<_bp
 1016                        	
 1017    1E:C1EA  80 66      			bra	map_set_banks		; Put BLK & MAP in MPR2-MPR5.
 1018                        	
 1019                        	
 1020                        	
 1021               0001     		.if	BLKMAP_MULTISCR
 1022                        	
 1023                        	; ***************************************************************************
 1024                        	; ***************************************************************************
 1025                        	;
 1026                        	; map_set_screen -
 1027                        	;
 1028                        	; Maximum X and Y dimension of 128 screens (32768 pixels).
 1029                        	; Maximum 8KByte total size of screen data (1024 screens).
 1030                        	;
 1031                        	
 1032    1E:C1EC  A4 FF      	map_set_screen:	ldy	<map_scrn_y		; Map SCR Y coordinate.
 1033    1E:C1EE  BD D3 26   			lda	vdc_map_scrn_w, x	; Map width in SCREENS.
 1034                        	
 1035               0000     		.if	FAST_MULTIPLY
 1048                        		.else
 1049    1E:C1F1  84 ED      			sty.h	<_bp			; Takes 144..176 cycles.
 1050    1E:C1F3  A0 08      			ldy	#8
 1051    1E:C1F5  4A         			lsr	a
 1052    1E:C1F6  85 EC      			sta.l	<_bp
 1053    1E:C1F8  62         			cla
 1054    1E:C1F9  90 03      			bcc	.rotate
 1055    1E:C1FB  18         	.add:		clc
 1056    1E:C1FC  65 ED      			adc.h	<_bp
 1057    1E:C1FE  6A         	.rotate:	ror	a
 1058    1E:C1FF  66 EC      			ror.l	<_bp			; Lo-byte of (SCR Y * width).
 1059    1E:C201  88         			dey
 1060    1E:C202  B0 F7      			bcs	.add
 1061    1E:C204  D0 F8      			bne	.rotate
 1062    1E:C206  A8         			tay				; Hi-byte of (SCR Y * width).
 1063                        		.endif
 1064                        	
 1065    1E:C207  A5 FD      			lda	<map_scrn_x		; Map SCR X coordinate.
 1066    1E:C209  18         			clc
 1067    1E:C20A  65 EC      			adc.l	<_bp
 1068    1E:C20C  90 01      			bcc	!+
 1069    1E:C20E  C8         			iny
 1070                        	
 1071    1E:C20F  84 ED      	!:		sty.h	<_bp			; 2 bytes per screen entry, max
 1072    1E:C211  0A         			asl	a			; 8KByte screen table.
 1073    1E:C212  26 ED      			rol.h	<_bp
 1074               0001     		.if	BLKDEF_POINTERS == 0
 1075    1E:C214  0A         			asl	a			; 8 bytes per screen entry when
 1076    1E:C215  26 ED      			rol.h	<_bp			; not using BLK pointers.
 1077    1E:C217  0A         			asl	a
 1078    1E:C218  26 ED      			rol.h	<_bp
 1079                        		.endif
 1080                        	
 1081    1E:C21A  7D 12 2C   			adc.l	vdc_scr_addr, x		; Calc screen data pointer.
 1082    1E:C21D  85 EC      			sta.l	<_bp			; Maximum data size is 8KBytes
 1083    1E:C21F  A5 ED      			lda.h	<_bp			; so we don't need to consider
 1084    1E:C221  7D 13 2C   			adc.h	vdc_scr_addr, x		; bank overflow.
 1085    1E:C224  85 ED      			sta.h	<_bp
 1086                        	
 1087    1E:C226  BD 14 2C   			lda	vdc_scr_bank, x		; Map the SCR data in MPR3..MPR4.
 1088    1E:C229  53 08      			tam3
 1089    1E:C22B  1A         			inc	a
 1090    1E:C22C  53 10      			tam4
 1091                        	
 1092    1E:C22E  C2         			cly
 1093    1E:C22F  B1 EC      			lda	[_bp], y		; Get SCR_MAP_PAGE.
 1094    1E:C231  9D 10 2C   			sta.h	vdc_map_addr, x
 1095    1E:C234  C8         			iny
 1096    1E:C235  B1 EC      			lda	[_bp], y		; Get SCR_MAP_BANK.
 1097    1E:C237  9D 11 2C   			sta	vdc_map_bank, x
 1098                        	
 1099               0001     		.if	BLKDEF_POINTERS == 0
 1100    1E:C23A  C8         			iny
 1101    1E:C23B  B1 EC      			lda	[_bp], y		; Get SCR_BLK_PAGE.
 1102    1E:C23D  9D 0D 2C   			sta.h	vdc_blk_addr, x
 1103    1E:C240  C8         			iny
 1104    1E:C241  B1 EC      			lda	[_bp], y		; Get SCR_BLK_BANK.
 1105    1E:C243  9D 0E 2C   			sta	vdc_blk_bank, x
 1106    1E:C246  C8         			iny
 1107    1E:C247  B1 EC      			lda	[_bp], y		; Get SCR_TBL_PAGE.
 1108    1E:C249  9D 0A 2C   			sta.h	vdc_tbl_addr, x
 1109    1E:C24C  C8         			iny
 1110    1E:C24D  B1 EC      			lda	[_bp], y		; Get SCR_TBL_BANK.
 1111    1E:C24F  9D 0B 2C   			sta	vdc_tbl_bank, x
 1112               0000     		.if	0				; These are not currently used.
 1119                        		.endif
 1120                        		.endif
 1121                        	
 1122                        	;		lda	vdc_bat_width, x	; Set up the map width.
 1123                        	;		lsr	a			; This should have been set
 1124                        	;		sta	vdc_map_line_w, x	; with the multi-screen map.
 1125                        	
 1126                        	;		jmp	map_set_banks		; Put BLK & MAP in MPR2-MPR5.
 1127                        	
 1128                        			; Fall through to map_set_banks.
 1129                        	
 1130                        		.endif	BLKMAP_MULTISCR
 1131                        	
 1132                        	
 1133                        	
 1134                        	; ***************************************************************************
 1135                        	; ***************************************************************************
 1136                        	;
 1137                        	; map_set_banks - Put BLK & MAP in MPR2-MPR5.
 1138                        	;
 1139                        	
 1140    1E:C252  BD 0E 2C   	map_set_banks:	lda	vdc_blk_bank, x		; Put the BLK into MPR2.
 1141    1E:C255  53 04      			tam2
 1142                        	
 1143    1E:C257  BD 11 2C   			lda	vdc_map_bank, x		; Put the MAP into MPR3-MPR5.
 1144    1E:C25A  53 08      			tam3
 1145    1E:C25C  1A         			inc	a
 1146    1E:C25D  53 10      			tam4
 1147               0000     		.if	BLKMAP_LARGEMAP
 1156                        		.endif
 1157                        	
 1158    1E:C25F  60         	!:		rts
 1159                        	
 1160                        	
 1161                        	
 1162                        	; ***************************************************************************
 1163                        	; ***************************************************************************
 1164                        	;
 1165                        	; map_scroll_x - Update the BAT when X coordinate changes.
 1166                        	;
 1167                        	; N.B. This will alter map_chr_x and map_scrn_x if moved in +ve direction!
 1168                        	;
 1169                        	; N.B. This only ever draws a single column!
 1170                        	;
 1171                        	
 1172    1E:C260  60         	!no_change:	rts
 1173                        	
 1174    1E:C261             	map_scroll_x:
 1175                        	
 1176               0001     		.if	BLKMAP_MULTISCR
 1177                        	
 1178                        			; Initialization for a multi-screen map.
 1179                        	
 1180    1E:C261  BD 14 2C   			lda	vdc_scr_bank, x		; Skip this if regular blkmap.
 1181    1E:C264  F0 56      			beq	.regular
 1182                        	
 1183    1E:C266  A5 FC      	.multiscreen:	lda	<map_chr_x		; Compare old_x with cur_x.
 1184    1E:C268  DD 07 2C   			cmp	vdc_old_chr_x, x
 1185               0001     		.if	BLKMAP_TIMETEST == 0
 1186    1E:C26B  F0 F3      			beq	!no_change-		; Do nothing if no change.
 1187                        		.endif
 1188    1E:C26D  9D 07 2C   			sta	vdc_old_chr_x, x
 1189    1E:C270  30 11      			bmi	!+			; Test the sign of the change.
 1190                        	
 1191    1E:C272  18         			clc				; Draw RHS if chr_x >= old_x.
 1192    1E:C273  3D CD 26   			and	vdc_bat_x_mask, x
 1193    1E:C276  7D D0 26   			adc	vdc_map_draw_w, x	; Usually (SCR_WIDTH / 8) + 1.
 1194    1E:C279  3A         			dec	a
 1195    1E:C27A  85 FC      			sta	<map_chr_x		; Update CHR X chr coordinate.
 1196    1E:C27C  3C CB 26   			bit	vdc_bat_width, x
 1197    1E:C27F  F0 02      			beq	!+
 1198    1E:C281  E6 FD      			inc	<map_scrn_x		; Wrapped to the next screen.
 1199                        	
 1200    1E:C283  3D CD 26   	!:		and	vdc_bat_x_mask, x
 1201    1E:C286  85 F8      			sta	<map_bat_x		; Save BAT X chr coordinate.
 1202                        	
 1203    1E:C288  A5 FE      			lda	<map_chr_y		; Save BAT Y chr coordinate.
 1204    1E:C28A  3D CE 26   			and	vdc_bat_y_mask, x
 1205    1E:C28D  85 F9      			sta	<map_bat_y
 1206    1E:C28F  4A         			lsr	a			; Map BLK Y coordinate.
 1207    1E:C290  85 EF      			sta.h	<map_line
 1208    1E:C292  62         			cla
 1209    1E:C293  3C CB 26   			bit	vdc_bat_width, x
 1210    1E:C296  30 08      			bmi	.w128
 1211    1E:C298  70 03      			bvs	.w64
 1212    1E:C29A  46 EF      	.w32:		lsr.h	<map_line
 1213    1E:C29C  6A         			ror	a
 1214    1E:C29D  46 EF      	.w64:		lsr.h	<map_line
 1215    1E:C29F  6A         			ror	a
 1216    1E:C2A0  46 EF      	.w128:		lsr.h	<map_line
 1217    1E:C2A2  6A         			ror	a
 1218    1E:C2A3  46 EF      			lsr.h	<map_line		; Hi-byte of (BLK Y * width).
 1219    1E:C2A5  6A         			ror	a
 1220    1E:C2A6  85 EE      			sta.l	<map_line		; Lo-byte of (BLK Y * width).
 1221                        	
 1222    1E:C2A8  20 EC C1   			jsr	map_set_screen		; Put BLK & MAP in MPR2-MPR5.
 1223                        	
 1224    1E:C2AB  A5 F8      			lda	<map_bat_x		; Calc map data pointer.
 1225    1E:C2AD  4A         			lsr	a			; Map BLK X coordinate.
 1226    1E:C2AE  05 EE      			ora.l	<map_line
 1227    1E:C2B0  85 EC      			sta.l	<_bp
 1228    1E:C2B2  A5 EF      			lda.h	<map_line
 1229    1E:C2B4  18         			clc
 1230    1E:C2B5  7D 10 2C   			adc.h	vdc_map_addr, x		; N.B. 256-byte aligned!
 1231    1E:C2B8  85 ED      			sta.h	<_bp
 1232                        	
 1233    1E:C2BA  80 5D      			bra	.draw_col		; Now draw it.
 1234                        	
 1235                        		.endif	BLKMAP_MULTISCR
 1236                        	
 1237                        			; Initialization for a regular map.
 1238                        	
 1239    1E:C2BC  A5 FC      	.regular:	lda	<map_chr_x		; Compare old_x with cur_x.
 1240    1E:C2BE  DD 07 2C   			cmp	vdc_old_chr_x, x
 1241               0001     		.if	BLKMAP_TIMETEST == 0
 1242    1E:C2C1  F0 9D      			beq	!no_change-		; Do nothing if no change.
 1243                        		.endif
 1244    1E:C2C3  9D 07 2C   			sta	vdc_old_chr_x, x
 1245    1E:C2C6  30 07      			bmi	!+			; Test the sign of the change.
 1246                        	
 1247    1E:C2C8  18         			clc				; Draw RHS if chr_x >= old_x.
 1248    1E:C2C9  7D D0 26   			adc	vdc_map_draw_w, x	; Usually (SCR_WIDTH / 8) + 1.
 1249    1E:C2CC  3A         			dec	a
 1250    1E:C2CD  85 FC      			sta	<map_chr_x		; Update CHR X chr coordinate.
 1251                        	
 1252    1E:C2CF  3C D8 26   	!:		bit	vdc_map_option, x	; Set bit7 to disable aligning
 1253    1E:C2D2  30 05      			bmi	!+			; BAT X with the map X.
 1254    1E:C2D4  3D CD 26   			and	vdc_bat_x_mask, x
 1255    1E:C2D7  85 F8      			sta	<map_bat_x		; Save BAT X chr coordinate.
 1256                        	
 1257    1E:C2D9  A5 FE      	!:		lda	<map_chr_y		; A = map CHR Y coordinate.
 1258    1E:C2DB  A8         			tay
 1259    1E:C2DC  4A         			lsr	a
 1260    1E:C2DD  42         			say				; Y = map BLK Y coordinate.
 1261                        	
 1262    1E:C2DE  3C D8 26   			bit	vdc_map_option, x	; Set bit6 to disable aligning
 1263    1E:C2E1  70 05      			bvs	!+			; BAT Y with the map Y.
 1264    1E:C2E3  3D CE 26   			and	vdc_bat_y_mask, x
 1265    1E:C2E6  85 F9      			sta	<map_bat_y		; Save BAT Y chr coordinate.
 1266                        	
 1267               0000     		.if	BLKMAP_LARGEMAP
 1272                        		.endif
 1273                        	
 1274    1E:C2E8  BD D2 26   	!:		lda	vdc_map_line_w, x	; Map width in BLK.
 1275               0000     		.if	FAST_MULTIPLY
 1288                        		.else
 1289    1E:C2EB  84 EF      			sty.h	<map_line		; Takes 144..176 cycles.
 1290    1E:C2ED  A0 08      			ldy	#8
 1291    1E:C2EF  4A         			lsr	a
 1292    1E:C2F0  85 EE      			sta.l	<map_line
 1293    1E:C2F2  62         			cla
 1294    1E:C2F3  90 03      			bcc	.rotate
 1295    1E:C2F5  18         	.add:		clc
 1296    1E:C2F6  65 EF      			adc.h	<map_line
 1297    1E:C2F8  6A         	.rotate:	ror	a
 1298    1E:C2F9  66 EE      			ror.l	<map_line		; Lo-byte of (BLK Y * width).
 1299    1E:C2FB  88         			dey
 1300    1E:C2FC  B0 F7      			bcs	.add
 1301    1E:C2FE  D0 F8      			bne	.rotate
 1302    1E:C300  A8         			tay				; Hi-byte of (BLK Y * width).
 1303                        		.endif
 1304                        	
 1305    1E:C301  A5 FC      	!:		lda	<map_chr_x		; Map CHR X coordinate.
 1306    1E:C303  4A         			lsr	a			; Map BLK X coordinate.
 1307    1E:C304  18         			clc
 1308    1E:C305  65 EE      			adc.l	<map_line		; Lo-byte of (BLK Y * width).
 1309    1E:C307  90 01      			bcc	!+
 1310    1E:C309  C8         			iny				; Hi-byte of (BLK Y * width).
 1311                        	
 1312    1E:C30A  18         	!:		clc				; Calc map data pointer.
 1313    1E:C30B  7D 0F 2C   			adc.l	vdc_map_addr, x
 1314    1E:C30E  85 EC      			sta.l	<_bp			; Maximum map size is 16KBytes
 1315    1E:C310  98         			tya				; so we don't need to consider
 1316    1E:C311  7D 10 2C   			adc.h	vdc_map_addr, x		; bank overflow.
 1317    1E:C314  85 ED      			sta.h	<_bp
 1318                        	
 1319    1E:C316  20 52 C2   			jsr	map_set_banks		; Put BLK & MAP in MPR2-MPR5.
 1320                        	
 1321                        			; Draw the first part of the column.
 1322                        	
 1323    1E:C319  A5 F8      	.draw_col:	lda	<map_bat_x		; Set the BAT VRAM destination
 1324    1E:C31B  85 F0      			sta.l	<_di			; coordinates.
 1325    1E:C31D  A5 F9      			lda	<map_bat_y
 1326    1E:C31F  85 F1      			sta.h	<_di
 1327                        	
 1328    1E:C321  5D CE 26   			eor	vdc_bat_y_mask, x	; Calc CHR before wrap.
 1329    1E:C324  1A         			inc	a
 1330    1E:C325  DD D1 26   			cmp	vdc_map_draw_h, x	; Usually (SCR_HEIGHT / 8) + 1.
 1331    1E:C328  90 03      			bcc	!+
 1332    1E:C32A  BD D1 26   			lda	vdc_map_draw_h, x	; Maximum CHR to draw.
 1333    1E:C32D  85 00      	!:		sta	<map_count		; Set number of CHR to draw.
 1334    1E:C32F  85 01      			sta	<map_drawn		; Preserve number of CHR drawn.
 1335                        	
 1336    1E:C331  A9 05      			lda	#VDC_CR			; Set VDC auto-increment from
 1337    1E:C333  95 F7      			sta	<vdc_reg, x		; the BAT width, which is set
 1338    1E:C335  9D 00 02   			sta	VDC_AR, x		; up by set_screen_size().
 1339    1E:C338  B5 F4      			lda	<vdc_crh, x
 1340    1E:C33A  9D 03 02   			sta	VDC_DH, x
 1341                        	
 1342    1E:C33D  20 7F C6   			jsr	blk_col_strip		; Draw top of vertical strip.
 1343                        	
 1344                        			; Wrap around and draw the rest of the column (if needed).
 1345                        	
 1346    1E:C340  38         			sec				; Are there any more CHR that
 1347    1E:C341  BD D1 26   			lda	vdc_map_draw_h, x	; need to be drawn?
 1348    1E:C344  E5 01      			sbc	<map_drawn
 1349    1E:C346  F0 2C      			beq	.done
 1350                        	
 1351    1E:C348  85 00      			sta	<map_count		; Set number of CHR to draw.
 1352                        	
 1353    1E:C34A  A5 FE      			lda	<map_chr_y		; Update CHR Y coordinate for
 1354    1E:C34C  48         			pha				; drawing unaligned tiles.
 1355    1E:C34D  18         			clc
 1356    1E:C34E  65 01      			adc	<map_drawn
 1357    1E:C350  85 FE      			sta	<map_chr_y
 1358                        	
 1359               0001     		.if	BLKMAP_MULTISCR
 1360    1E:C352  BD 14 2C   			lda	vdc_scr_bank, x		; Skip this if regular blkmap.
 1361    1E:C355  F0 0F      			beq	!+
 1362                        	
 1363    1E:C357  E6 FF      			inc	<map_scrn_y		; Wrapped to the next screen.
 1364                        	
 1365    1E:C359  20 EC C1   			jsr	map_set_screen		; Put BLK & MAP in MPR2-MPR5.
 1366                        	
 1367    1E:C35C  A5 F8      			lda	<map_bat_x		; Calc map data pointer.
 1368    1E:C35E  4A         			lsr	a			; Map BLK X coordinate.
 1369    1E:C35F  85 EC      			sta.l	<_bp
 1370    1E:C361  BD 10 2C   			lda.h	vdc_map_addr, x		; N.B. 256-byte aligned!
 1371    1E:C364  85 ED      			sta.h	<_bp
 1372                        		.endif
 1373                        	
 1374    1E:C366  A5 F8      	!:		lda	<map_bat_x		; Set the BAT VRAM destination
 1375    1E:C368  85 F0      			sta.l	<_di			; coordinates.
 1376    1E:C36A  64 F1      			stz.h	<_di			; Reset 1st row to draw.
 1377                        	
 1378    1E:C36C  20 7F C6   			jsr	blk_col_strip		; Draw btm of vertical strip.
 1379                        	
 1380               0001     		.if	BLKMAP_MULTISCR
 1381    1E:C36F  C6 FF      			dec	<map_scrn_y		; Restore, no check if should.
 1382                        		.endif
 1383                        	
 1384    1E:C371  68         			pla				; Restore CHR Y coordinate, we
 1385    1E:C372  85 FE      			sta	<map_chr_y		; might draw another column!
 1386                        	
 1387    1E:C374  A9 05      	.done:		lda	#VDC_CR			; Set VDC auto-increment to 1.
 1388    1E:C376  95 F7      			sta	<vdc_reg, x
 1389    1E:C378  9D 00 02   			sta	VDC_AR, x
 1390    1E:C37B  9E 03 02   			stz	VDC_DH, x
 1391                        	
 1392    1E:C37E  60         			rts
 1393                        	
 1394                        	
 1395                        	
 1396                        	; ***************************************************************************
 1397                        	; ***************************************************************************
 1398                        	;
 1399                        	; map_scroll_y - Update the BAT when Y coordinate changes.
 1400                        	;
 1401                        	; N.B. This will alter map_chr_y and map_scrn_y if moved in +ve direction!
 1402                        	;
 1403                        	; N.B. This draws multiple rows when called from _draw_map or _blit_map.
 1404                        	;
 1405                        	
 1406    1E:C37F  60         	!no_change:	rts
 1407                        	
 1408    1E:C380             	map_scroll_y:
 1409                        	
 1410               0001     		.if	BLKMAP_MULTISCR
 1411                        	
 1412                        			; Initialization for a multi-screen map.
 1413                        	
 1414    1E:C380  BD 14 2C   			lda	vdc_scr_bank, x		; Skip this if regular blkmap.
 1415    1E:C383  F0 56      			beq	.regular
 1416                        	
 1417    1E:C385  A5 FE      	.multiscr:	lda	<map_chr_y		; Compare old_y with cur_y.
 1418    1E:C387  DD 08 2C   			cmp	vdc_old_chr_y, x
 1419               0001     		.if	BLKMAP_TIMETEST == 0
 1420    1E:C38A  F0 F3      			beq	!no_change-		; Do nothing if no change.
 1421                        		.endif
 1422    1E:C38C  9D 08 2C   			sta	vdc_old_chr_y, x
 1423    1E:C38F  30 11      			bmi	!+			; Test the sign of the change.
 1424                        	
 1425    1E:C391  18         			clc				; Draw bottom if chr_y >= old_y.
 1426    1E:C392  3D CE 26   			and	vdc_bat_y_mask, x
 1427    1E:C395  7D D1 26   			adc	vdc_map_draw_h, x	; Usually (SCR_HEIGHT / 8) + 1.
 1428    1E:C398  3A         			dec	a
 1429    1E:C399  85 FE      			sta	<map_chr_y		; Update CHR Y chr coordinate.
 1430    1E:C39B  3C CC 26   			bit	vdc_bat_height, x
 1431    1E:C39E  F0 02      			beq	!+
 1432    1E:C3A0  E6 FF      			inc	<map_scrn_y		; Wrapped to the next screen.
 1433                        	
 1434    1E:C3A2  3D CE 26   	!:		and	vdc_bat_y_mask, x
 1435    1E:C3A5  85 F9      			sta	<map_bat_y		; Save BAT Y chr coordinate.
 1436                        	
 1437    1E:C3A7  4A         			lsr	a			; Map BLK Y coordinate.
 1438    1E:C3A8  85 EF      			sta.h	<map_line
 1439    1E:C3AA  62         			cla
 1440    1E:C3AB  3C CB 26   			bit	vdc_bat_width, x
 1441    1E:C3AE  30 08      			bmi	.w128
 1442    1E:C3B0  70 03      			bvs	.w64
 1443    1E:C3B2  46 EF      	.w32:		lsr.h	<map_line
 1444    1E:C3B4  6A         			ror	a
 1445    1E:C3B5  46 EF      	.w64:		lsr.h	<map_line
 1446    1E:C3B7  6A         			ror	a
 1447    1E:C3B8  46 EF      	.w128:		lsr.h	<map_line
 1448    1E:C3BA  6A         			ror	a
 1449    1E:C3BB  46 EF      			lsr.h	<map_line		; Hi-byte of (BLK Y * width).
 1450    1E:C3BD  6A         			ror	a
 1451    1E:C3BE  85 EE      			sta.l	<map_line		; Lo-byte of (BLK Y * width).
 1452                        	
 1453    1E:C3C0  A5 FC      			lda	<map_chr_x
 1454    1E:C3C2  3D CD 26   			and	vdc_bat_x_mask, x
 1455    1E:C3C5  85 F8      			sta	<map_bat_x		; Save BAT X chr coordinate.
 1456                        	
 1457                        			; Loop to here if drawing multiple multi-screen rows.
 1458                        	
 1459    1E:C3C7  20 EC C1   	.multiscr_row:	jsr	map_set_screen		; Put BLK & MAP in MPR2-MPR5.
 1460                        	
 1461    1E:C3CA  A5 F8      			lda	<map_bat_x		; Calc map data pointer.
 1462    1E:C3CC  4A         			lsr	a			; Map BLK X coordinate.
 1463    1E:C3CD  05 EE      			ora.l	<map_line
 1464    1E:C3CF  85 EC      			sta.l	<_bp
 1465    1E:C3D1  A5 EF      			lda.h	<map_line
 1466    1E:C3D3  18         			clc
 1467    1E:C3D4  7D 10 2C   			adc.h	vdc_map_addr, x		; N.B. 256-byte aligned!
 1468    1E:C3D7  85 ED      			sta.h	<_bp
 1469                        	
 1470    1E:C3D9  80 60      			bra	.draw_row		; Now draw it.
 1471                        	
 1472                        		.endif	BLKMAP_MULTISCR
 1473                        	
 1474                        			; Initialization for a regular blkmap.
 1475                        	
 1476    1E:C3DB  A5 FE      	.regular:	lda	<map_chr_y		; Compare old_y with cur_y.
 1477    1E:C3DD  DD 08 2C   			cmp	vdc_old_chr_y, x
 1478               0001     		.if	BLKMAP_TIMETEST == 0
 1479    1E:C3E0  F0 9D      			beq	!no_change-		; Do nothing if no change.
 1480                        		.endif
 1481    1E:C3E2  9D 08 2C   			sta	vdc_old_chr_y, x
 1482    1E:C3E5  30 07      			bmi	!+			; Test the sign of the change.
 1483                        	
 1484    1E:C3E7  18         			clc				; Draw bottom if chr_y >= old_y.
 1485    1E:C3E8  7D D1 26   			adc	vdc_map_draw_h, x	; Usually (SCR_HEIGHT / 8) + 1.
 1486    1E:C3EB  3A         			dec	a
 1487    1E:C3EC  85 FE      			sta	<map_chr_y		; Update CHR Y chr coordinate.
 1488                        	
 1489    1E:C3EE  A8         	!:		tay				; A = map CHR Y coordinate.
 1490    1E:C3EF  4A         			lsr	a
 1491    1E:C3F0  42         			say				; Y = map BLK Y coordinate.
 1492                        	
 1493    1E:C3F1  3C D8 26   			bit	vdc_map_option, x	; Set bit6 to disable aligning
 1494    1E:C3F4  70 05      			bvs	!+			; BAT Y with the map Y.
 1495    1E:C3F6  3D CE 26   			and	vdc_bat_y_mask, x
 1496    1E:C3F9  85 F9      			sta	<map_bat_y		; Save BAT Y chr coordinate.
 1497                        	
 1498    1E:C3FB  3C D8 26   	!:		bit	vdc_map_option, x	; Set bit7 to disable aligning
 1499    1E:C3FE  30 07      			bmi	!+			; BAT X with the map X.
 1500    1E:C400  A5 FC      			lda	<map_chr_x
 1501    1E:C402  3D CD 26   			and	vdc_bat_x_mask, x
 1502    1E:C405  85 F8      			sta	<map_bat_x		; Save BAT X chr coordinate.
 1503    1E:C407             	!:
 1504                        	
 1505               0000     		.if	BLKMAP_LARGEMAP
 1510                        		.endif
 1511                        	
 1512    1E:C407  BD D2 26   			lda	vdc_map_line_w, x	; Map width in BLK.
 1513               0000     		.if	FAST_MULTIPLY
 1526                        		.else
 1527    1E:C40A  84 EF      			sty.h	<map_line		; Takes 144..176 cycles.
 1528    1E:C40C  A0 08      			ldy	#8
 1529    1E:C40E  4A         			lsr	a
 1530    1E:C40F  85 EE      			sta.l	<map_line
 1531    1E:C411  62         			cla
 1532    1E:C412  90 03      			bcc	.rotate
 1533    1E:C414  18         	.add:		clc
 1534    1E:C415  65 EF      			adc.h	<map_line
 1535    1E:C417  6A         	.rotate:	ror	a
 1536    1E:C418  66 EE      			ror.l	<map_line		; Lo-byte of (BLK Y * width).
 1537    1E:C41A  88         			dey
 1538    1E:C41B  B0 F7      			bcs	.add
 1539    1E:C41D  D0 F8      			bne	.rotate
 1540    1E:C41F  85 EF      			sta.h	<map_line		; Hi-byte of (BLK Y * width).
 1541                        		.endif
 1542                        	
 1543    1E:C421  20 52 C2   			jsr	map_set_banks		; Put BLK & MAP in MPR2-MPR5.
 1544                        	
 1545                        			; Loop to here if drawing multiple regular blkmap rows.
 1546                        	
 1547    1E:C424  A4 EF      	.regular_row:	ldy.h	<map_line		; Hi-byte of (BLK Y * width).
 1548    1E:C426  A5 FC      			lda	<map_chr_x		; Map CHR X coordinate.
 1549    1E:C428  4A         			lsr	a			; Map BLK X coordinate.
 1550    1E:C429  18         			clc
 1551    1E:C42A  65 EE      			adc.l	<map_line		; Lo-byte of (BLK Y * width).
 1552    1E:C42C  90 01      			bcc	!+
 1553    1E:C42E  C8         			iny
 1554    1E:C42F  18         	!:		clc				; Calc map data pointer.
 1555    1E:C430  7D 0F 2C   			adc.l	vdc_map_addr, x
 1556    1E:C433  85 EC      			sta.l	<_bp			; Maximum map size is 16KBytes
 1557    1E:C435  98         			tya				; so we don't need to consider
 1558    1E:C436  7D 10 2C   			adc.h	vdc_map_addr, x		; bank overflow.
 1559    1E:C439  85 ED      			sta.h	<_bp
 1560                        	
 1561                        			; Draw the first part of the row.
 1562                        	
 1563    1E:C43B  A5 F9      	.draw_row:	lda	<map_bat_y		; Set the BAT VRAM destination
 1564    1E:C43D  85 F1      			sta.h	<_di			; coordinates.
 1565    1E:C43F  A5 F8      			lda	<map_bat_x
 1566    1E:C441  85 F0      			sta.l	<_di
 1567                        	
 1568    1E:C443  5D CD 26   			eor	vdc_bat_x_mask, x	; Calc CHR before wrap.
 1569    1E:C446  1A         			inc	a
 1570    1E:C447  C5 FA      			cmp	<map_draw_w		; Usually (SCR_WIDTH / 8) + 1.
 1571    1E:C449  90 02      			bcc	!+
 1572    1E:C44B  A5 FA      			lda	<map_draw_w		; Maximum CHR to draw.
 1573    1E:C44D  85 00      	!:		sta	<map_count		; Set number of CHR to draw.
 1574    1E:C44F  85 01      			sta	<map_drawn		; Preserve number of CHR drawn.
 1575                        	
 1576    1E:C451  20 C1 C4   			jsr	blk_row_strip		; Draw lhs of horizontal strip.
 1577                        	
 1578                        			; Wrap around and draw the rest of the row (if needed).
 1579                        	
 1580    1E:C454  38         			sec				; Are there any more CHR that
 1581    1E:C455  A5 FA      			lda	<map_draw_w		; need to be drawn?
 1582    1E:C457  E5 01      			sbc	<map_drawn
 1583    1E:C459  F0 2E      			beq	.done_row
 1584                        	
 1585    1E:C45B  85 00      			sta	<map_count		; Set number of CHR to draw.
 1586                        	
 1587    1E:C45D  A5 FC      			lda	<map_chr_x		; Update CHR X coordinate for
 1588    1E:C45F  48         			pha				; drawing unaligned tiles.
 1589    1E:C460  18         			clc
 1590    1E:C461  65 01      			adc	<map_drawn
 1591    1E:C463  85 FC      			sta	<map_chr_x
 1592                        	
 1593               0001     		.if	BLKMAP_MULTISCR
 1594    1E:C465  BD 14 2C   			lda	vdc_scr_bank, x		; Skip this if regular blkmap.
 1595    1E:C468  F0 11      			beq	!+
 1596                        	
 1597    1E:C46A  E6 FD      			inc	<map_scrn_x		; Wrapped to the next screen.
 1598                        	
 1599    1E:C46C  20 EC C1   			jsr	map_set_screen		; Locate screen's BLK and MAP.
 1600                        	
 1601    1E:C46F  18         			clc				; Calc map data pointer.
 1602    1E:C470  A5 EE      			lda.l	<map_line
 1603    1E:C472  85 EC      			sta.l	<_bp
 1604    1E:C474  A5 EF      			lda.h	<map_line
 1605    1E:C476  7D 10 2C   			adc.h	vdc_map_addr, x		; N.B. 256-byte aligned!
 1606    1E:C479  85 ED      			sta.h	<_bp
 1607                        		.endif
 1608                        	
 1609    1E:C47B  A5 F9      	!:		lda	<map_bat_y		; Set the BAT VRAM destination
 1610    1E:C47D  85 F1      			sta.h	<_di			; coordinates.
 1611    1E:C47F  64 F0      			stz.l	<_di			; Reset 1st column to draw.
 1612                        	
 1613    1E:C481  20 C1 C4   			jsr	blk_row_strip		; Draw rhs of horizontal strip.
 1614                        	
 1615               0001     		.if	BLKMAP_MULTISCR
 1616    1E:C484  C6 FD      			dec	<map_scrn_x		; Restore, no check if should.
 1617                        		.endif	BLKMAP_MULTISCR
 1618                        	
 1619    1E:C486  68         			pla				; Restore CHR X coordinate, we
 1620    1E:C487  85 FC      			sta	<map_chr_x		; might draw another row!
 1621                        	
 1622    1E:C489  C6 FB      	.done_row:	dec	<map_draw_h		; Are all desired rows drawn?
 1623    1E:C48B  F0 33      			beq	.finished
 1624                        	
 1625    1E:C48D  E6 FE      			inc	<map_chr_y		; Move CHR Y down by 1.
 1626                        	
 1627    1E:C48F  A5 FE      			lda	<map_chr_y		; If new BLK then ...
 1628    1E:C491  4A         			lsr	a
 1629    1E:C492  B0 0B      			bcs	!+
 1630    1E:C494  BD D2 26   			lda	vdc_map_line_w, x	; Move the map line pointer to
 1631    1E:C497  65 EE      			adc.l	<map_line		; the next line.
 1632    1E:C499  85 EE      			sta.l	<map_line
 1633    1E:C49B  90 02      			bcc	!+
 1634    1E:C49D  E6 EF      			inc.h	<map_line
 1635                        	
 1636    1E:C49F  A5 F9      	!:		lda	<map_bat_y		; Move BAT Y down by 1.
 1637    1E:C4A1  1A         			inc	a
 1638    1E:C4A2  3D CE 26   			and	vdc_bat_y_mask, x
 1639    1E:C4A5  85 F9      			sta	<map_bat_y
 1640                        	
 1641               0001     		.if	BLKMAP_MULTISCR
 1642    1E:C4A7  BC 14 2C   			ldy	vdc_scr_bank, x		; Skip this if regular blkmap.
 1643    1E:C4AA  D0 03 4C 24			beq	.regular_row
         1E:C4AE  C4          
 1644                        	
 1645    1E:C4AF  A8         			tay				; If wrapped to the top line of
 1646    1E:C4B0  D0 0B      			bne	!+			; of the BAT then increment the
 1647    1E:C4B2  E6 FF      			inc	<map_scrn_y		; screen.
 1648                        	
 1649    1E:C4B4  BD CF 26   			lda	vdc_bat_limit, x	; The map line must wrap around
 1650    1E:C4B7  4A         			lsr	a			; too. This is simple since its
 1651    1E:C4B8  4A         			lsr	a			; size (in bytes) is 1/4 of the
 1652    1E:C4B9  25 EF      			and.h	<map_line		; BAT size (in words) and it is
 1653    1E:C4BB  85 EF      			sta.h	<map_line		; a power-of-2.
 1654                        	
 1655    1E:C4BD  4C C7 C3   	!:		jmp	.multiscr_row		; Draw next row.
 1656                        		.else
 1658                        		.endif	BLKMAP_MULTISCR
 1659                        	
 1660    1E:C4C0  60         	.finished:	rts
 1661                        	
 1662                        	
 1663                        	
 1664               0000     		.if	BLKDEF_POINTERS
 1858                        		.else	BLKDEF_POINTERS
 1859                        	
 1860                        	
 1861                        	
 1862                        	; ***************************************************************************
 1863                        	; ***************************************************************************
 1864                        	;
 1865                        	; blk_row_strip - Draw a single row of CHR into the BAT.
 1866                        	;
 1867                        	
 1868    1E:C4C1  20 48 E4   	blk_row_strip:	jsr	set_di_xy_mawr		; Set the BAT VRAM destination.
 1869                        	
 1870    1E:C4C4  A5 FC      			lda	<map_chr_x		; Select what drawing code to
 1871    1E:C4C6  4A         			lsr	a			; use depending upon even/odd
 1872    1E:C4C7  A5 FE      			lda	<map_chr_y		; CHR coordinates (not BAT to
 1873    1E:C4C9  29 01      			and	#1			; support unaligned drawing).
 1874    1E:C4CB  2A         			rol	a
 1875    1E:C4CC  0A         			asl	a
 1876    1E:C4CD  1D 0D 2C   			ora.h	vdc_blk_addr, x		; What is the BLK data address?
 1877    1E:C4D0  29 1E      			and	#%00011110		; $4000, $4800, $5000 or $5800.
 1878    1E:C4D2  A8         			tay
 1879    1E:C4D3  B9 E0 C4   			lda.h	.jump_table, y		; Push the address of the code.
 1880    1E:C4D6  48         			pha
 1881    1E:C4D7  B9 DF C4   			lda.l	.jump_table, y
 1882    1E:C4DA  48         			pha
 1883                        	
 1884    1E:C4DB  B2 EC      			lda	[_bp]			; Get the first BLK number.
 1885    1E:C4DD  A8         			tay
 1886                        	
 1887    1E:C4DE  60         			rts				; Jump to the drawing code.
 1888                        	
 1889    1E:C4DF  01 C5      	.jump_table:	dw	b4000_top_even - 1
 1890    1E:C4E1  14 C5      			dw	b4000_top_odd - 1
 1891    1E:C4E3  31 C5      			dw	b4000_btm_even - 1
 1892    1E:C4E5  44 C5      			dw	b4000_btm_odd - 1
 1893                        	
 1894    1E:C4E7  61 C5      			dw	b4800_top_even - 1
 1895    1E:C4E9  74 C5      			dw	b4800_top_odd - 1
 1896    1E:C4EB  91 C5      			dw	b4800_btm_even - 1
 1897    1E:C4ED  A4 C5      			dw	b4800_btm_odd - 1
 1898                        	
 1899    1E:C4EF  C1 C5      			dw	b5000_top_even - 1
 1900    1E:C4F1  D4 C5      			dw	b5000_top_odd - 1
 1901    1E:C4F3  F1 C5      			dw	b5000_btm_even - 1
 1902    1E:C4F5  04 C6      			dw	b5000_btm_odd - 1
 1903                        	
 1904    1E:C4F7  21 C6      			dw	b5800_top_even - 1
 1905    1E:C4F9  34 C6      			dw	b5800_top_odd - 1
 1906    1E:C4FB  51 C6      			dw	b5800_btm_even - 1
 1907    1E:C4FD  64 C6      			dw	b5800_btm_odd - 1
 1908                        	
 1909                        			; top horizontal (32+2 rept)
 1910                        			;
 1911                        			; 89 cycles per block * 17 -> 1513 cycles
 1912                        	
 1913    1E:C4FF  B2 EC      	!repeat:	lda	[_bp]			; 7
 1914    1E:C501  A8         			tay				; 2
 1915                        	
 1916    1E:C502  B9 00 40   	b4000_top_even:	lda	BLK_4000_TL_L, y	; 5
 1917    1E:C505  9D 02 02   			sta	VDC_DL, x		; 6
 1918    1E:C508  B9 00 44   			lda	BLK_4000_TL_H, y	; 5
 1919               0001     		.if	BLKDEF_CHR_FLAG
 1920    1E:C50B  29 F3      			and	#%11110011		; 2
 1921                        		.endif
 1922    1E:C50D  1A         			inc	a			; 2
 1923    1E:C50E  9D 03 02   			sta	VDC_DH, x		; 6
 1924                        	
 1925    1E:C511  C6 00      			dec	<map_count		; 6
 1926    1E:C513  F0 19      			beq	!end+			; 2
 1927                        	
 1928    1E:C515  B9 00 41   	b4000_top_odd:	lda	BLK_4000_TR_L, y	; 5
 1929    1E:C518  9D 02 02   			sta	VDC_DL, x		; 6
 1930    1E:C51B  B9 00 45   			lda	BLK_4000_TR_H, y	; 5
 1931               0001     		.if	BLKDEF_CHR_FLAG
 1932    1E:C51E  29 F3      			and	#%11110011		; 2
 1933                        		.endif
 1934    1E:C520  1A         			inc	a			; 2
 1935    1E:C521  9D 03 02   			sta	VDC_DH, x		; 6
 1936                        	
 1937    1E:C524  E6 EC      			inc.l	<_bp			; 6
 1938    1E:C526  D0 02      			bne	!+			; 2/4
 1939    1E:C528  E6 ED      			inc.h	<_bp			; 6
 1940                        	
 1941    1E:C52A  C6 00      	!:		dec	<map_count		; 6
 1942    1E:C52C  D0 D1      			bne	!repeat-		; 4
 1943                        	
 1944    1E:C52E  60         	!end:		rts
 1945                        	
 1946                        			; btm horizontal (32+2 rept)
 1947                        			;
 1948                        			; 89 cycles per block * 17 -> 1513 cycles
 1949                        	
 1950    1E:C52F  B2 EC      	!repeat:	lda	[_bp]			; 7
 1951    1E:C531  A8         			tay				; 2
 1952                        	
 1953    1E:C532  B9 00 42   	b4000_btm_even:	lda	BLK_4000_BL_L, y	; 5
 1954    1E:C535  9D 02 02   			sta	VDC_DL, x		; 6
 1955    1E:C538  B9 00 46   			lda	BLK_4000_BL_H, y	; 5
 1956               0001     		.if	BLKDEF_CHR_FLAG
 1957    1E:C53B  29 F3      			and	#%11110011		; 2
 1958                        		.endif
 1959    1E:C53D  1A         			inc	a			; 2
 1960    1E:C53E  9D 03 02   			sta	VDC_DH, x		; 6
 1961                        	
 1962    1E:C541  C6 00      			dec	<map_count		; 6
 1963    1E:C543  F0 19      			beq	!end+			; 2
 1964                        	
 1965    1E:C545  B9 00 43   	b4000_btm_odd:	lda	BLK_4000_BR_L, y	; 5
 1966    1E:C548  9D 02 02   			sta	VDC_DL, x		; 6
 1967    1E:C54B  B9 00 47   			lda	BLK_4000_BR_H, y	; 5
 1968               0001     		.if	BLKDEF_CHR_FLAG
 1969    1E:C54E  29 F3      			and	#%11110011		; 2
 1970                        		.endif
 1971    1E:C550  1A         			inc	a			; 2
 1972    1E:C551  9D 03 02   			sta	VDC_DH, x		; 6
 1973                        	
 1974    1E:C554  E6 EC      			inc.l	<_bp			; 6
 1975    1E:C556  D0 02      			bne	!+			; 2/4
 1976    1E:C558  E6 ED      			inc.h	<_bp			; 6
 1977                        	
 1978    1E:C55A  C6 00      	!:		dec	<map_count		; 6
 1979    1E:C55C  D0 D1      			bne	!repeat-		; 4
 1980                        	
 1981    1E:C55E  60         	!end:		rts
 1982                        	
 1983                        			; top horizontal (32+2 rept)
 1984                        			;
 1985                        			; 89 cycles per block * 17 -> 1513 cycles
 1986                        	
 1987    1E:C55F  B2 EC      	!repeat:	lda	[_bp]			; 7
 1988    1E:C561  A8         			tay				; 2
 1989                        	
 1990    1E:C562  B9 00 48   	b4800_top_even:	lda	BLK_4800_TL_L, y	; 5
 1991    1E:C565  9D 02 02   			sta	VDC_DL, x		; 6
 1992    1E:C568  B9 00 4C   			lda	BLK_4800_TL_H, y	; 5
 1993               0001     		.if	BLKDEF_CHR_FLAG
 1994    1E:C56B  29 F3      			and	#%11110011		; 2
 1995                        		.endif
 1996    1E:C56D  1A         			inc	a			; 2
 1997    1E:C56E  9D 03 02   			sta	VDC_DH, x		; 6
 1998                        	
 1999    1E:C571  C6 00      			dec	<map_count		; 6
 2000    1E:C573  F0 19      			beq	!end+			; 2
 2001                        	
 2002    1E:C575  B9 00 49   	b4800_top_odd:	lda	BLK_4800_TR_L, y	; 5
 2003    1E:C578  9D 02 02   			sta	VDC_DL, x		; 6
 2004    1E:C57B  B9 00 4D   			lda	BLK_4800_TR_H, y	; 5
 2005               0001     		.if	BLKDEF_CHR_FLAG
 2006    1E:C57E  29 F3      			and	#%11110011		; 2
 2007                        		.endif
 2008    1E:C580  1A         			inc	a			; 2
 2009    1E:C581  9D 03 02   			sta	VDC_DH, x		; 6
 2010                        	
 2011    1E:C584  E6 EC      			inc.l	<_bp			; 6
 2012    1E:C586  D0 02      			bne	!+			; 2/4
 2013    1E:C588  E6 ED      			inc.h	<_bp			; 6
 2014                        	
 2015    1E:C58A  C6 00      	!:		dec	<map_count		; 6
 2016    1E:C58C  D0 D1      			bne	!repeat-		; 4
 2017                        	
 2018    1E:C58E  60         	!end:		rts
 2019                        	
 2020                        			; btm horizontal (32+2 rept)
 2021                        			;
 2022                        			; 89 cycles per block * 17 -> 1513 cycles
 2023                        	
 2024    1E:C58F  B2 EC      	!repeat:	lda	[_bp]			; 7
 2025    1E:C591  A8         			tay				; 2
 2026                        	
 2027    1E:C592  B9 00 4A   	b4800_btm_even:	lda	BLK_4800_BL_L, y	; 5
 2028    1E:C595  9D 02 02   			sta	VDC_DL, x		; 6
 2029    1E:C598  B9 00 4E   			lda	BLK_4800_BL_H, y	; 5
 2030               0001     		.if	BLKDEF_CHR_FLAG
 2031    1E:C59B  29 F3      			and	#%11110011		; 2
 2032                        		.endif
 2033    1E:C59D  1A         			inc	a			; 2
 2034    1E:C59E  9D 03 02   			sta	VDC_DH, x		; 6
 2035                        	
 2036    1E:C5A1  C6 00      			dec	<map_count		; 6
 2037    1E:C5A3  F0 19      			beq	!end+			; 2
 2038                        	
 2039    1E:C5A5  B9 00 4B   	b4800_btm_odd:	lda	BLK_4800_BR_L, y	; 5
 2040    1E:C5A8  9D 02 02   			sta	VDC_DL, x		; 6
 2041    1E:C5AB  B9 00 4F   			lda	BLK_4800_BR_H, y	; 5
 2042               0001     		.if	BLKDEF_CHR_FLAG
 2043    1E:C5AE  29 F3      			and	#%11110011		; 2
 2044                        		.endif
 2045    1E:C5B0  1A         			inc	a			; 2
 2046    1E:C5B1  9D 03 02   			sta	VDC_DH, x		; 6
 2047                        	
 2048    1E:C5B4  E6 EC      			inc.l	<_bp			; 6
 2049    1E:C5B6  D0 02      			bne	!+			; 2/4
 2050    1E:C5B8  E6 ED      			inc.h	<_bp			; 6
 2051                        	
 2052    1E:C5BA  C6 00      	!:		dec	<map_count		; 6
 2053    1E:C5BC  D0 D1      			bne	!repeat-		; 4
 2054                        	
 2055    1E:C5BE  60         	!end:		rts
 2056                        	
 2057                        			; top horizontal (32+2 rept)
 2058                        			;
 2059                        			; 89 cycles per block * 17 -> 1513 cycles
 2060                        	
 2061    1E:C5BF  B2 EC      	!repeat:	lda	[_bp]			; 7
 2062    1E:C5C1  A8         			tay				; 2
 2063                        	
 2064    1E:C5C2  B9 00 50   	b5000_top_even:	lda	BLK_5000_TL_L, y	; 5
 2065    1E:C5C5  9D 02 02   			sta	VDC_DL, x		; 6
 2066    1E:C5C8  B9 00 54   			lda	BLK_5000_TL_H, y	; 5
 2067               0001     		.if	BLKDEF_CHR_FLAG
 2068    1E:C5CB  29 F3      			and	#%11110011		; 2
 2069                        		.endif
 2070    1E:C5CD  1A         			inc	a			; 2
 2071    1E:C5CE  9D 03 02   			sta	VDC_DH, x		; 6
 2072                        	
 2073    1E:C5D1  C6 00      			dec	<map_count		; 6
 2074    1E:C5D3  F0 19      			beq	!end+			; 2
 2075                        	
 2076    1E:C5D5  B9 00 51   	b5000_top_odd:	lda	BLK_5000_TR_L, y	; 5
 2077    1E:C5D8  9D 02 02   			sta	VDC_DL, x		; 6
 2078    1E:C5DB  B9 00 55   			lda	BLK_5000_TR_H, y	; 5
 2079               0001     		.if	BLKDEF_CHR_FLAG
 2080    1E:C5DE  29 F3      			and	#%11110011		; 2
 2081                        		.endif
 2082    1E:C5E0  1A         			inc	a			; 2
 2083    1E:C5E1  9D 03 02   			sta	VDC_DH, x		; 6
 2084                        	
 2085    1E:C5E4  E6 EC      			inc.l	<_bp			; 6
 2086    1E:C5E6  D0 02      			bne	!+			; 2/4
 2087    1E:C5E8  E6 ED      			inc.h	<_bp			; 6
 2088                        	
 2089    1E:C5EA  C6 00      	!:		dec	<map_count		; 6
 2090    1E:C5EC  D0 D1      			bne	!repeat-		; 4
 2091                        	
 2092    1E:C5EE  60         	!end:		rts
 2093                        	
 2094                        			; btm horizontal (32+2 rept)
 2095                        			;
 2096                        			; 89 cycles per block * 17 -> 1513 cycles
 2097                        	
 2098    1E:C5EF  B2 EC      	!repeat:	lda	[_bp]			; 7
 2099    1E:C5F1  A8         			tay				; 2
 2100                        	
 2101    1E:C5F2  B9 00 52   	b5000_btm_even:	lda	BLK_5000_BL_L, y	; 5
 2102    1E:C5F5  9D 02 02   			sta	VDC_DL, x		; 6
 2103    1E:C5F8  B9 00 56   			lda	BLK_5000_BL_H, y	; 5
 2104               0001     		.if	BLKDEF_CHR_FLAG
 2105    1E:C5FB  29 F3      			and	#%11110011		; 2
 2106                        		.endif
 2107    1E:C5FD  1A         			inc	a			; 2
 2108    1E:C5FE  9D 03 02   			sta	VDC_DH, x		; 6
 2109                        	
 2110    1E:C601  C6 00      			dec	<map_count		; 6
 2111    1E:C603  F0 19      			beq	!end+			; 2
 2112                        	
 2113    1E:C605  B9 00 53   	b5000_btm_odd:	lda	BLK_5000_BR_L, y	; 5
 2114    1E:C608  9D 02 02   			sta	VDC_DL, x		; 6
 2115    1E:C60B  B9 00 57   			lda	BLK_5000_BR_H, y	; 5
 2116               0001     		.if	BLKDEF_CHR_FLAG
 2117    1E:C60E  29 F3      			and	#%11110011		; 2
 2118                        		.endif
 2119    1E:C610  1A         			inc	a			; 2
 2120    1E:C611  9D 03 02   			sta	VDC_DH, x		; 6
 2121                        	
 2122    1E:C614  E6 EC      			inc.l	<_bp			; 6
 2123    1E:C616  D0 02      			bne	!+			; 2/4
 2124    1E:C618  E6 ED      			inc.h	<_bp			; 6
 2125                        	
 2126    1E:C61A  C6 00      	!:		dec	<map_count		; 6
 2127    1E:C61C  D0 D1      			bne	!repeat-		; 4
 2128                        	
 2129    1E:C61E  60         	!end:		rts
 2130                        	
 2131                        			; top horizontal (32+2 rept)
 2132                        			;
 2133                        			; 89 cycles per block * 17 -> 1513 cycles
 2134                        	
 2135    1E:C61F  B2 EC      	!repeat:	lda	[_bp]			; 7
 2136    1E:C621  A8         			tay				; 2
 2137                        	
 2138    1E:C622  B9 00 58   	b5800_top_even:	lda	BLK_5800_TL_L, y	; 5
 2139    1E:C625  9D 02 02   			sta	VDC_DL, x		; 6
 2140    1E:C628  B9 00 5C   			lda	BLK_5800_TL_H, y	; 5
 2141               0001     		.if	BLKDEF_CHR_FLAG
 2142    1E:C62B  29 F3      			and	#%11110011		; 2
 2143                        		.endif
 2144    1E:C62D  1A         			inc	a			; 2
 2145    1E:C62E  9D 03 02   			sta	VDC_DH, x		; 6
 2146                        	
 2147    1E:C631  C6 00      			dec	<map_count		; 6
 2148    1E:C633  F0 19      			beq	!end+			; 2
 2149                        	
 2150    1E:C635  B9 00 59   	b5800_top_odd:	lda	BLK_5800_TR_L, y	; 5
 2151    1E:C638  9D 02 02   			sta	VDC_DL, x		; 6
 2152    1E:C63B  B9 00 5D   			lda	BLK_5800_TR_H, y	; 5
 2153               0001     		.if	BLKDEF_CHR_FLAG
 2154    1E:C63E  29 F3      			and	#%11110011		; 2
 2155                        		.endif
 2156    1E:C640  1A         			inc	a			; 2
 2157    1E:C641  9D 03 02   			sta	VDC_DH, x		; 6
 2158                        	
 2159    1E:C644  E6 EC      			inc.l	<_bp			; 6
 2160    1E:C646  D0 02      			bne	!+			; 2/4
 2161    1E:C648  E6 ED      			inc.h	<_bp			; 6
 2162                        	
 2163    1E:C64A  C6 00      	!:		dec	<map_count		; 6
 2164    1E:C64C  D0 D1      			bne	!repeat-		; 4
 2165                        	
 2166    1E:C64E  60         	!end:		rts
 2167                        	
 2168                        			; btm horizontal (32+2 rept)
 2169                        			;
 2170                        			; 89 cycles per block * 17 -> 1513 cycles
 2171                        	
 2172    1E:C64F  B2 EC      	!repeat:	lda	[_bp]		; 7
 2173    1E:C651  A8         			tay				; 2
 2174                        	
 2175    1E:C652  B9 00 5A   	b5800_btm_even:	lda	BLK_5800_BL_L, y	; 5
 2176    1E:C655  9D 02 02   			sta	VDC_DL, x		; 6
 2177    1E:C658  B9 00 5E   			lda	BLK_5800_BL_H, y	; 5
 2178               0001     		.if	BLKDEF_CHR_FLAG
 2179    1E:C65B  29 F3      			and	#%11110011		; 2
 2180                        		.endif
 2181    1E:C65D  1A         			inc	a			; 2
 2182    1E:C65E  9D 03 02   			sta	VDC_DH, x		; 6
 2183                        	
 2184    1E:C661  C6 00      			dec	<map_count		; 6
 2185    1E:C663  F0 19      			beq	!end+			; 2
 2186                        	
 2187    1E:C665  B9 00 5B   	b5800_btm_odd:	lda	BLK_5800_BR_L, y	; 5
 2188    1E:C668  9D 02 02   			sta	VDC_DL, x		; 6
 2189    1E:C66B  B9 00 5F   			lda	BLK_5800_BR_H, y	; 5
 2190               0001     		.if	BLKDEF_CHR_FLAG
 2191    1E:C66E  29 F3      			and	#%11110011		; 2
 2192                        		.endif
 2193    1E:C670  1A         			inc	a			; 2
 2194    1E:C671  9D 03 02   			sta	VDC_DH, x		; 6
 2195                        	
 2196    1E:C674  E6 EC      			inc.l	<_bp			; 6
 2197    1E:C676  D0 02      			bne	!+			; 2/4
 2198    1E:C678  E6 ED      			inc.h	<_bp			; 6
 2199                        	
 2200    1E:C67A  C6 00      	!:		dec	<map_count		; 6
 2201    1E:C67C  D0 D1      			bne	!repeat-		; 4
 2202                        	
 2203    1E:C67E  60         	!end:		rts
 2204                        	
 2205                        	
 2206                        	
 2207                        	; ***************************************************************************
 2208                        	; ***************************************************************************
 2209                        	;
 2210                        	; blk_col_strip - Draw a single column of CHR into the BAT.
 2211                        	;
 2212                        	
 2213    1E:C67F  20 48 E4   	blk_col_strip:	jsr	set_di_xy_mawr		; Set the BAT VRAM destination.
 2214                        	
 2215    1E:C682  A5 FC      			lda	<map_chr_x		; Select what drawing code to
 2216    1E:C684  4A         			lsr	a			; use depending upon even/odd
 2217    1E:C685  A5 FE      			lda	<map_chr_y		; CHR coordinates (not BAT to
 2218    1E:C687  29 01      			and	#1			; support unaligned drawing).
 2219    1E:C689  2A         			rol	a
 2220    1E:C68A  0A         			asl	a			; N.B. Always leaves C clear.
 2221    1E:C68B  1D 0D 2C   			ora.h	vdc_blk_addr, x		; What is the BLK data address?
 2222    1E:C68E  29 1E      			and	#%00011110		; $4000, $4800, $5000 or $5800.
 2223    1E:C690  A8         			tay
 2224    1E:C691  B9 9E C6   			lda.h	.jump_table, y		; Push the address of the code.
 2225    1E:C694  48         			pha
 2226    1E:C695  B9 9D C6   			lda.l	.jump_table, y
 2227    1E:C698  48         			pha
 2228                        	
 2229    1E:C699  B2 EC      			lda	[_bp]			; Get the first BLK number.
 2230    1E:C69B  A8         			tay
 2231                        	
 2232    1E:C69C  60         			rts				; Jump to the drawing code.
 2233                        	
 2234    1E:C69D  BF C6      	.jump_table:	dw	b4000_lhs_even - 1
 2235    1E:C69F  F5 C6      			dw	b4000_rhs_even - 1
 2236    1E:C6A1  D2 C6      			dw	b4000_lhs_odd - 1
 2237    1E:C6A3  08 C7      			dw	b4000_rhs_odd - 1
 2238                        	
 2239    1E:C6A5  2B C7      			dw	b4800_lhs_even - 1
 2240    1E:C6A7  61 C7      			dw	b4800_rhs_even - 1
 2241    1E:C6A9  3E C7      			dw	b4800_lhs_odd - 1
 2242    1E:C6AB  74 C7      			dw	b4800_rhs_odd - 1
 2243                        	
 2244    1E:C6AD  97 C7      			dw	b5000_lhs_even - 1
 2245    1E:C6AF  CD C7      			dw	b5000_rhs_even - 1
 2246    1E:C6B1  AA C7      			dw	b5000_lhs_odd - 1
 2247    1E:C6B3  E0 C7      			dw	b5000_rhs_odd - 1
 2248                        	
 2249    1E:C6B5  03 C8      			dw	b5800_lhs_even - 1
 2250    1E:C6B7  39 C8      			dw	b5800_rhs_even - 1
 2251    1E:C6B9  16 C8      			dw	b5800_lhs_odd - 1
 2252    1E:C6BB  4C C8      			dw	b5800_rhs_odd - 1
 2253                        	
 2254                        			; lhs vertical (28+2 rept)
 2255                        			;
 2256                        			; N.B. C is always clear on entry.
 2257                        			;
 2258                        			; 100 cycles per block * 15 -> 1500 cycles
 2259                        	
 2260    1E:C6BD  B2 EC      	!repeat:	lda	[_bp]			; 7
 2261    1E:C6BF  A8         			tay				; 2
 2262                        	
 2263    1E:C6C0  B9 00 40   	b4000_lhs_even:	lda	BLK_4000_TL_L, y	; 5
 2264    1E:C6C3  9D 02 02   			sta	VDC_DL, x		; 6
 2265    1E:C6C6  B9 00 44   			lda	BLK_4000_TL_H, y	; 5
 2266               0001     		.if	BLKDEF_CHR_FLAG
 2267    1E:C6C9  29 F3      			and	#%11110011		; 2
 2268                        		.endif
 2269    1E:C6CB  1A         			inc	a			; 2
 2270    1E:C6CC  9D 03 02   			sta	VDC_DH, x		; 6
 2271                        	
 2272    1E:C6CF  C6 00      			dec	<map_count		; 6
 2273    1E:C6D1  F0 1F      			beq	!end+			; 2
 2274                        	
 2275    1E:C6D3  B9 00 42   	b4000_lhs_odd:	lda	BLK_4000_BL_L, y	; 5
 2276    1E:C6D6  9D 02 02   			sta	VDC_DL, x		; 6
 2277    1E:C6D9  B9 00 46   			lda	BLK_4000_BL_H, y	; 5
 2278               0001     		.if	BLKDEF_CHR_FLAG
 2279    1E:C6DC  29 F3      			and	#%11110011		; 2
 2280                        		.endif
 2281    1E:C6DE  1A         			inc	a			; 2
 2282    1E:C6DF  9D 03 02   			sta	VDC_DH, x		; 6
 2283                        	
 2284    1E:C6E2  BD D2 26   			lda	vdc_map_line_w, x	; 5
 2285    1E:C6E5  65 EC      			adc.l	<_bp			; 4
 2286    1E:C6E7  85 EC      			sta.l	<_bp			; 4
 2287    1E:C6E9  90 03      			bcc	!+			; 2/4
 2288    1E:C6EB  E6 ED      			inc.h	<_bp			; 6
 2289    1E:C6ED  18         			clc				; 2
 2290                        	
 2291    1E:C6EE  C6 00      	!:		dec	<map_count		; 6
 2292    1E:C6F0  D0 CB      			bne	!repeat-		; 4
 2293                        	
 2294    1E:C6F2  60         	!end:		rts
 2295                        	
 2296                        			; rhs vertical (28+2 rept)
 2297                        			;
 2298                        			; N.B. C is always clear on entry.
 2299                        			;
 2300                        			; 100 cycles per block * 15 -> 1500 cycles
 2301                        	
 2302    1E:C6F3  B2 EC      	!repeat:	lda	[_bp]			; 7
 2303    1E:C6F5  A8         			tay				; 2
 2304                        	
 2305    1E:C6F6  B9 00 41   	b4000_rhs_even:	lda	BLK_4000_TR_L, y	; 5
 2306    1E:C6F9  9D 02 02   			sta	VDC_DL, x		; 6
 2307    1E:C6FC  B9 00 45   			lda	BLK_4000_TR_H, y	; 5
 2308               0001     		.if	BLKDEF_CHR_FLAG
 2309    1E:C6FF  29 F3      			and	#%11110011		; 2
 2310                        		.endif
 2311    1E:C701  1A         			inc	a			; 2
 2312    1E:C702  9D 03 02   			sta	VDC_DH, x		; 6
 2313                        	
 2314    1E:C705  C6 00      			dec	<map_count		; 6
 2315    1E:C707  F0 1F      			beq	!end+			; 2
 2316                        	
 2317    1E:C709  B9 00 43   	b4000_rhs_odd:	lda	BLK_4000_BR_L, y	; 5
 2318    1E:C70C  9D 02 02   			sta	VDC_DL, x		; 6
 2319    1E:C70F  B9 00 47   			lda	BLK_4000_BR_H, y	; 5
 2320               0001     		.if	BLKDEF_CHR_FLAG
 2321    1E:C712  29 F3      			and	#%11110011		; 2
 2322                        		.endif
 2323    1E:C714  1A         			inc	a			; 2
 2324    1E:C715  9D 03 02   			sta	VDC_DH, x		; 6
 2325                        	
 2326    1E:C718  BD D2 26   			lda	vdc_map_line_w, x	; 5
 2327    1E:C71B  65 EC      			adc.l	<_bp			; 4
 2328    1E:C71D  85 EC      			sta.l	<_bp			; 4
 2329    1E:C71F  90 03      			bcc	!+			; 2/4
 2330    1E:C721  E6 ED      			inc.h	<_bp			; 6
 2331    1E:C723  18         			clc				; 2
 2332                        	
 2333    1E:C724  C6 00      	!:		dec	<map_count		; 6
 2334    1E:C726  D0 CB      			bne	!repeat-		; 4
 2335                        	
 2336    1E:C728  60         	!end:		rts
 2337                        	
 2338                        			; lhs vertical (28+2 rept)
 2339                        			;
 2340                        			; N.B. C is always clear on entry.
 2341                        			;
 2342                        			; 100 cycles per block * 15 -> 1500 cycles
 2343                        	
 2344    1E:C729  B2 EC      	!repeat:	lda	[_bp]			; 7
 2345    1E:C72B  A8         			tay				; 2
 2346                        	
 2347    1E:C72C  B9 00 48   	b4800_lhs_even:	lda	BLK_4800_TL_L, y	; 5
 2348    1E:C72F  9D 02 02   			sta	VDC_DL, x		; 6
 2349    1E:C732  B9 00 4C   			lda	BLK_4800_TL_H, y	; 5
 2350               0001     		.if	BLKDEF_CHR_FLAG
 2351    1E:C735  29 F3      			and	#%11110011		; 2
 2352                        		.endif
 2353    1E:C737  1A         			inc	a			; 2
 2354    1E:C738  9D 03 02   			sta	VDC_DH, x		; 6
 2355                        	
 2356    1E:C73B  C6 00      			dec	<map_count		; 6
 2357    1E:C73D  F0 1F      			beq	!end+			; 2
 2358                        	
 2359    1E:C73F  B9 00 4A   	b4800_lhs_odd:	lda	BLK_4800_BL_L, y	; 5
 2360    1E:C742  9D 02 02   			sta	VDC_DL, x		; 6
 2361    1E:C745  B9 00 4E   			lda	BLK_4800_BL_H, y	; 5
 2362               0001     		.if	BLKDEF_CHR_FLAG
 2363    1E:C748  29 F3      			and	#%11110011		; 2
 2364                        		.endif
 2365    1E:C74A  1A         			inc	a			; 2
 2366    1E:C74B  9D 03 02   			sta	VDC_DH, x		; 6
 2367                        	
 2368    1E:C74E  BD D2 26   			lda	vdc_map_line_w, x	; 5
 2369    1E:C751  65 EC      			adc.l	<_bp			; 4
 2370    1E:C753  85 EC      			sta.l	<_bp			; 4
 2371    1E:C755  90 03      			bcc	!+			; 2/4
 2372    1E:C757  E6 ED      			inc.h	<_bp			; 6
 2373    1E:C759  18         			clc				; 2
 2374                        	
 2375    1E:C75A  C6 00      	!:		dec	<map_count		; 6
 2376    1E:C75C  D0 CB      			bne	!repeat-		; 4
 2377                        	
 2378    1E:C75E  60         	!end:		rts
 2379                        	
 2380                        			; rhs vertical (28+2 rept)
 2381                        			;
 2382                        			; N.B. C is always clear on entry.
 2383                        			;
 2384                        			; 100 cycles per block * 15 -> 1500 cycles
 2385                        	
 2386    1E:C75F  B2 EC      	!repeat:	lda	[_bp]			; 7
 2387    1E:C761  A8         			tay				; 2
 2388                        	
 2389    1E:C762  B9 00 49   	b4800_rhs_even:	lda	BLK_4800_TR_L, y	; 5
 2390    1E:C765  9D 02 02   			sta	VDC_DL, x		; 6
 2391    1E:C768  B9 00 4D   			lda	BLK_4800_TR_H, y	; 5
 2392               0001     		.if	BLKDEF_CHR_FLAG
 2393    1E:C76B  29 F3      			and	#%11110011		; 2
 2394                        		.endif
 2395    1E:C76D  1A         			inc	a			; 2
 2396    1E:C76E  9D 03 02   			sta	VDC_DH, x		; 6
 2397                        	
 2398    1E:C771  C6 00      			dec	<map_count		; 6
 2399    1E:C773  F0 1F      			beq	!end+			; 2
 2400                        	
 2401    1E:C775  B9 00 4B   	b4800_rhs_odd:	lda	BLK_4800_BR_L, y	; 5
 2402    1E:C778  9D 02 02   			sta	VDC_DL, x		; 6
 2403    1E:C77B  B9 00 4F   			lda	BLK_4800_BR_H, y	; 5
 2404               0001     		.if	BLKDEF_CHR_FLAG
 2405    1E:C77E  29 F3      			and	#%11110011		; 2
 2406                        		.endif
 2407    1E:C780  1A         			inc	a			; 2
 2408    1E:C781  9D 03 02   			sta	VDC_DH, x		; 6
 2409                        	
 2410    1E:C784  BD D2 26   			lda	vdc_map_line_w, x	; 5
 2411    1E:C787  65 EC      			adc.l	<_bp			; 4
 2412    1E:C789  85 EC      			sta.l	<_bp			; 4
 2413    1E:C78B  90 03      			bcc	!+			; 2/4
 2414    1E:C78D  E6 ED      			inc.h	<_bp			; 6
 2415    1E:C78F  18         			clc				; 2
 2416                        	
 2417    1E:C790  C6 00      	!:		dec	<map_count		; 6
 2418    1E:C792  D0 CB      			bne	!repeat-		; 4
 2419                        	
 2420    1E:C794  60         	!end:		rts
 2421                        	
 2422                        			; lhs vertical (28+2 rept)
 2423                        			;
 2424                        			; N.B. C is always clear on entry.
 2425                        			;
 2426                        			; 100 cycles per block * 15 -> 1500 cycles
 2427                        	
 2428    1E:C795  B2 EC      	!repeat:	lda	[_bp]			; 7
 2429    1E:C797  A8         			tay				; 2
 2430                        	
 2431    1E:C798  B9 00 50   	b5000_lhs_even:	lda	BLK_5000_TL_L, y	; 5
 2432    1E:C79B  9D 02 02   			sta	VDC_DL, x		; 6
 2433    1E:C79E  B9 00 54   			lda	BLK_5000_TL_H, y	; 5
 2434               0001     		.if	BLKDEF_CHR_FLAG
 2435    1E:C7A1  29 F3      			and	#%11110011		; 2
 2436                        		.endif
 2437    1E:C7A3  1A         			inc	a			; 2
 2438    1E:C7A4  9D 03 02   			sta	VDC_DH, x		; 6
 2439                        	
 2440    1E:C7A7  C6 00      			dec	<map_count		; 6
 2441    1E:C7A9  F0 1F      			beq	!end+			; 2
 2442                        	
 2443    1E:C7AB  B9 00 52   	b5000_lhs_odd:	lda	BLK_5000_BL_L, y	; 5
 2444    1E:C7AE  9D 02 02   			sta	VDC_DL, x		; 6
 2445    1E:C7B1  B9 00 56   			lda	BLK_5000_BL_H, y	; 5
 2446               0001     		.if	BLKDEF_CHR_FLAG
 2447    1E:C7B4  29 F3      			and	#%11110011		; 2
 2448                        		.endif
 2449    1E:C7B6  1A         			inc	a			; 2
 2450    1E:C7B7  9D 03 02   			sta	VDC_DH, x		; 6
 2451                        	
 2452    1E:C7BA  BD D2 26   			lda	vdc_map_line_w, x	; 5
 2453    1E:C7BD  65 EC      			adc.l	<_bp			; 4
 2454    1E:C7BF  85 EC      			sta.l	<_bp			; 4
 2455    1E:C7C1  90 03      			bcc	!+			; 2/4
 2456    1E:C7C3  E6 ED      			inc.h	<_bp			; 6
 2457    1E:C7C5  18         			clc				; 2
 2458                        	
 2459    1E:C7C6  C6 00      	!:		dec	<map_count		; 6
 2460    1E:C7C8  D0 CB      			bne	!repeat-		; 4
 2461                        	
 2462    1E:C7CA  60         	!end:		rts
 2463                        	
 2464                        			; rhs vertical (28+2 rept)
 2465                        			;
 2466                        			; N.B. C is always clear on entry.
 2467                        			;
 2468                        			; 100 cycles per block * 15 -> 1500 cycles
 2469                        	
 2470    1E:C7CB  B2 EC      	!repeat:	lda	[_bp]			; 7
 2471    1E:C7CD  A8         			tay				; 2
 2472                        	
 2473    1E:C7CE  B9 00 51   	b5000_rhs_even:	lda	BLK_5000_TR_L, y	; 5
 2474    1E:C7D1  9D 02 02   			sta	VDC_DL, x		; 6
 2475    1E:C7D4  B9 00 55   			lda	BLK_5000_TR_H, y	; 5
 2476               0001     		.if	BLKDEF_CHR_FLAG
 2477    1E:C7D7  29 F3      			and	#%11110011		; 2
 2478                        		.endif
 2479    1E:C7D9  1A         			inc	a			; 2
 2480    1E:C7DA  9D 03 02   			sta	VDC_DH, x		; 6
 2481                        	
 2482    1E:C7DD  C6 00      			dec	<map_count		; 6
 2483    1E:C7DF  F0 1F      			beq	!end+			; 2
 2484                        	
 2485    1E:C7E1  B9 00 53   	b5000_rhs_odd:	lda	BLK_5000_BR_L, y	; 5
 2486    1E:C7E4  9D 02 02   			sta	VDC_DL, x		; 6
 2487    1E:C7E7  B9 00 57   			lda	BLK_5000_BR_H, y	; 5
 2488               0001     		.if	BLKDEF_CHR_FLAG
 2489    1E:C7EA  29 F3      			and	#%11110011		; 2
 2490                        		.endif
 2491    1E:C7EC  1A         			inc	a			; 2
 2492    1E:C7ED  9D 03 02   			sta	VDC_DH, x		; 6
 2493                        	
 2494    1E:C7F0  BD D2 26   			lda	vdc_map_line_w, x	; 5
 2495    1E:C7F3  65 EC      			adc.l	<_bp			; 4
 2496    1E:C7F5  85 EC      			sta.l	<_bp			; 4
 2497    1E:C7F7  90 03      			bcc	!+			; 2/4
 2498    1E:C7F9  E6 ED      			inc.h	<_bp			; 6
 2499    1E:C7FB  18         			clc				; 2
 2500                        	
 2501    1E:C7FC  C6 00      	!:		dec	<map_count		; 6
 2502    1E:C7FE  D0 CB      			bne	!repeat-		; 4
 2503                        	
 2504    1E:C800  60         	!end:		rts
 2505                        	
 2506                        			; lhs vertical (28+2 rept)
 2507                        			;
 2508                        			; N.B. C is always clear on entry.
 2509                        			;
 2510                        			; 100 cycles per block * 15 -> 1500 cycles
 2511                        	
 2512    1E:C801  B2 EC      	!repeat:	lda	[_bp]			; 7
 2513    1E:C803  A8         			tay				; 2
 2514                        	
 2515    1E:C804  B9 00 58   	b5800_lhs_even:	lda	BLK_5800_TL_L, y	; 5
 2516    1E:C807  9D 02 02   			sta	VDC_DL, x		; 6
 2517    1E:C80A  B9 00 5C   			lda	BLK_5800_TL_H, y	; 5
 2518               0001     		.if	BLKDEF_CHR_FLAG
 2519    1E:C80D  29 F3      			and	#%11110011		; 2
 2520                        		.endif
 2521    1E:C80F  1A         			inc	a			; 2
 2522    1E:C810  9D 03 02   			sta	VDC_DH, x		; 6
 2523                        	
 2524    1E:C813  C6 00      			dec	<map_count		; 6
 2525    1E:C815  F0 1F      			beq	!end+			; 2
 2526                        	
 2527    1E:C817  B9 00 5A   	b5800_lhs_odd:	lda	BLK_5800_BL_L, y	; 5
 2528    1E:C81A  9D 02 02   			sta	VDC_DL, x		; 6
 2529    1E:C81D  B9 00 5E   			lda	BLK_5800_BL_H, y	; 5
 2530               0001     		.if	BLKDEF_CHR_FLAG
 2531    1E:C820  29 F3      			and	#%11110011		; 2
 2532                        		.endif
 2533    1E:C822  1A         			inc	a			; 2
 2534    1E:C823  9D 03 02   			sta	VDC_DH, x		; 6
 2535                        	
 2536    1E:C826  BD D2 26   			lda	vdc_map_line_w, x	; 5
 2537    1E:C829  65 EC      			adc.l	<_bp			; 4
 2538    1E:C82B  85 EC      			sta.l	<_bp			; 4
 2539    1E:C82D  90 03      			bcc	!+			; 2/4
 2540    1E:C82F  E6 ED      			inc.h	<_bp			; 6
 2541    1E:C831  18         			clc				; 2
 2542                        	
 2543    1E:C832  C6 00      	!:		dec	<map_count		; 6
 2544    1E:C834  D0 CB      			bne	!repeat-		; 4
 2545                        	
 2546    1E:C836  60         	!end:		rts
 2547                        	
 2548                        			; rhs vertical (28+2 rept)
 2549                        			;
 2550                        			; N.B. C is always clear on entry.
 2551                        			;
 2552                        			; 100 cycles per block * 15 -> 1500 cycles
 2553                        	
 2554    1E:C837  B2 EC      	!repeat:	lda	[_bp]			; 7
 2555    1E:C839  A8         			tay				; 2
 2556                        	
 2557    1E:C83A  B9 00 59   	b5800_rhs_even:	lda	BLK_5800_TR_L, y	; 5
 2558    1E:C83D  9D 02 02   			sta	VDC_DL, x		; 6
 2559    1E:C840  B9 00 5D   			lda	BLK_5800_TR_H, y	; 5
 2560               0001     		.if	BLKDEF_CHR_FLAG
 2561    1E:C843  29 F3      			and	#%11110011		; 2
 2562                        		.endif
 2563    1E:C845  1A         			inc	a			; 2
 2564    1E:C846  9D 03 02   			sta	VDC_DH, x		; 6
 2565                        	
 2566    1E:C849  C6 00      			dec	<map_count		; 6
 2567    1E:C84B  F0 1F      			beq	!end+			; 2
 2568                        	
 2569    1E:C84D  B9 00 5B   	b5800_rhs_odd:	lda	BLK_5800_BR_L, y	; 5
 2570    1E:C850  9D 02 02   			sta	VDC_DL, x		; 6
 2571    1E:C853  B9 00 5F   			lda	BLK_5800_BR_H, y	; 5
 2572               0001     		.if	BLKDEF_CHR_FLAG
 2573    1E:C856  29 F3      			and	#%11110011		; 2
 2574                        		.endif
 2575    1E:C858  1A         			inc	a			; 2
 2576    1E:C859  9D 03 02   			sta	VDC_DH, x		; 6
 2577                        	
 2578    1E:C85C  BD D2 26   			lda	vdc_map_line_w, x	; 5
 2579    1E:C85F  65 EC      			adc.l	<_bp			; 4
 2580    1E:C861  85 EC      			sta.l	<_bp			; 4
 2581    1E:C863  90 03      			bcc	!+			; 2/4
 2582    1E:C865  E6 ED      			inc.h	<_bp			; 6
 2583    1E:C867  18         			clc				; 2
 2584                        	
 2585    1E:C868  C6 00      	!:		dec	<map_count		; 6
 2586    1E:C86A  D0 CB      			bne	!repeat-		; 4
 2587                        	
 2588    1E:C86C  60         	!end:		rts
 2589                        	
 2590                        		.endif	BLKDEF_POINTERS
 2591                        	
 2592                        		.endprocgroup	; blkmap_group
                             #[2]   "..\..\..\include\hucc\hucc-final.asm"
   77                        		.else
   81                        		.endif	HUCC_USES_BLKMAP
   82                        	
   83               0001     		.ifdef	HUCC_USES_CHRMAP		; Set in hucc_chrmap.h
                             #[3]   "..\..\..\include\hucc\chrmap.asm"
   84                        			include	"chrmap.asm"
    1                        	; ***************************************************************************
    2                        	; ***************************************************************************
    3                        	;
    4                        	; chrmap.asm
    5                        	;
    6                        	; A simple map system based on 8x8 characters (aka "tiles") in BAT format.
    7                        	;
    8                        	; Copyright John Brandwood 2025.
    9                        	;
   10                        	; Distributed under the Boost Software License, Version 1.0.
   11                        	; (See accompanying file LICENSE_1_0.txt or copy at
   12                        	;  http://www.boost.org/LICENSE_1_0.txt)
   13                        	;
   14                        	; ***************************************************************************
   15                        	; ***************************************************************************
   16                        	;
   17                        	; The maximum X and Y size for chrmaps is 256 characters (2048 pixels).
   18                        	;
   19                        	; The maximum total size for a chrmap is 16KBytes, which allows for maps up
   20                        	; to 256x32 tiles (2048x256 pixels).
   21                        	;
   22                        	; ***************************************************************************
   23                        	; ***************************************************************************
   24                        	
   25                        	;
   26                        	; Include dependancies ...
   27                        	;
   28                        	
   29                        			include "blkmap.asm"		; This defines the variables.
   30                        	
   31                        	;
   32                        	; Chrmaps in BAT format normally address all of VRAM from $0400..$7FFF, but
   33                        	; they can be limited to use the 32KByte of characters in VRAM $1000..$4FFF
   34                        	; which then frees up 2-bits for flag information for each character in the
   35                        	; BAT entry.
   36                        	;
   37                        	; These 2-bits are perfect for using as collision information in game maps,
   38                        	; allowing storage of states like transparent, solid, up-slope, down-slope.
   39                        	;
   40                        	; Typically this flag information is set by the map conversion tools from a
   41                        	; seperate "collision" map layer.
   42                        	;
   43                        	
   44               0000     		.ifndef	CHRMAP_BAT_FLAG
   46                        		.endif
   47                        	
   48                        	;
   49                        	;
   50                        	;
   51                        	
   52                        	
   53                        	
   54    1F:C2C4             	chrmap_group	.procgroup
   55                        	
   56                        	; ***************************************************************************
   57                        	; ***************************************************************************
   58                        	;
   59                        	; _draw_bat - Draw the entire screen at the current coordinates.
   60                        	; _sgx_draw_bat - Draw the entire screen at the current coordinates.
   61                        	;
   62                        	; void __fastcall draw_bat( void );
   63                        	; void __fastcall sgx_draw_bat( void );
   64                        	;
   65                        	
   66               0001     		.if	SUPPORT_SGX
   67                        	
   68                        	_sgx_draw_bat	.proc
   74                        			.endp
   75                        		.endif
   76                        	
   77    1F:C2C4             	_draw_bat	.proc
   78                        	
   79    1F:C2C4  82         			clx				; Offset to PCE VDC.
   80                        	
   81    1F:C2C5  43 08      			tma3				; Preserve MPR3..MPR5.
   82    1F:C2C7  48         			pha
   83    1F:C2C8  43 10      			tma4
   84    1F:C2CA  48         			pha
   85    1F:C2CB  43 20      			tma5
   86    1F:C2CD  48         			pha
   87                        	
   88    1F:C2CE  20 71 C3   			jsr	bat_pxl_2_chr		; Set up the draw coordinates.
   89                        	
   90    1F:C2D1  A5 FC      			lda	<map_chr_x		; Reset previous X position.
   91    1F:C2D3  9D 07 2C   			sta	vdc_old_chr_x, x
   92                        	
   93    1F:C2D6  A5 FE      			lda	<map_chr_y		; Reset previous Y position,
   94    1F:C2D8  1A         			inc	a			; ready to draw rows upwards.
   95    1F:C2D9  9D 08 2C   			sta	vdc_old_chr_y, x
   96                        	
   97    1F:C2DC  BD D0 26   			lda	vdc_map_draw_w, x	; Draw the whole screen.
   98    1F:C2DF  85 FA      			sta	<map_draw_w
   99    1F:C2E1  BD D1 26   			lda	vdc_map_draw_h, x
  100    1F:C2E4  85 FB      			sta	<map_draw_h
  101                        	
  102    1F:C2E6  20 54 C4   			jsr	bat_scroll_y		; Draw N row of CHR to the BAT.
  103                        	
  104    1F:C2E9  68         			pla				; Restore MPR3..MPR5.
  105    1F:C2EA  53 20      			tam5
  106    1F:C2EC  68         			pla
  107    1F:C2ED  53 10      			tam4
  108    1F:C2EF  68         			pla
  109    1F:C2F0  53 08      			tam3
  110                        	
  111                        			leave
         1F:C2F2  4C EF FF   			jmp	leave_proc
  112                        	
  113                        			.endp
  114                        	
  115                        	
  116                        	
  117                        	; ***************************************************************************
  118                        	; ***************************************************************************
  119                        	;
  120                        	; _scroll_bat - Draw a single row of CHR into the BAT to update the edge.
  121                        	; _sgx_scroll_bat - Draw a single row of CHR into the BAT to update the edge.
  122                        	;
  123                        	; void __fastcall scroll_bat( void );
  124                        	; void __fastcall sgx_scroll_bat( void );
  125                        	;
  126                        	
  127               0001     		.if	SUPPORT_SGX
  128                        	
  129                        	_sgx_scroll_bat	.proc
  135                        			.endp
  136                        		.endif
  137                        	
  138    1F:C2F5             	_scroll_bat	.proc
  139                        	
  140    1F:C2F5  82         			clx				; Offset to PCE VDC.
  141                        	
  142    1F:C2F6  43 08      			tma3				; Preserve MPR3..MPR5.
  143    1F:C2F8  48         			pha
  144    1F:C2F9  43 10      			tma4
  145    1F:C2FB  48         			pha
  146    1F:C2FC  43 20      			tma5
  147    1F:C2FE  48         			pha
  148                        	
  149    1F:C2FF  20 71 C3   			jsr	bat_pxl_2_chr		; Set up the draw coordinates.
  150                        	
  151    1F:C302  BD D1 26   			lda	vdc_map_draw_h, x	; Draw new LHS or RHS if needed.
  152    1F:C305  85 FB      			sta	<map_draw_h
  153                        	;		lda	#1			; bat_scroll_x only ever draws a
  154                        	;		sta	<map_draw_w		; single column.
  155    1F:C307  20 95 C3   			jsr	bat_scroll_x
  156                        	
  157    1F:C30A  BD 07 2C   			lda	vdc_old_chr_x, x	; Restore map_chr_x which could
  158    1F:C30D  85 FC      			sta	<map_chr_x		; be changed by bat_scroll_x.
  159                        	
  160    1F:C30F  BD D0 26   			lda	vdc_map_draw_w, x	; Draw new TOP or BTM if needed.
  161    1F:C312  85 FA      			sta	<map_draw_w
  162    1F:C314  A9 01      			lda	#1
  163    1F:C316  85 FB      			sta	<map_draw_h
  164    1F:C318  20 54 C4   			jsr	bat_scroll_y
  165                        	
  166    1F:C31B  68         			pla				; Restore MPR3..MPR5.
  167    1F:C31C  53 20      			tam5
  168    1F:C31E  68         			pla
  169    1F:C31F  53 10      			tam4
  170    1F:C321  68         			pla
  171    1F:C322  53 08      			tam3
  172                        	
  173                        			leave
         1F:C324  4C EF FF   			jmp	leave_proc
  174                        	
  175                        			.endp
  176                        	
  177                        	
  178                        	
  179                        	; ***************************************************************************
  180                        	; ***************************************************************************
  181                        	;
  182                        	; _blit_bat - Draw a map rectangle to specific BAT coordinates.
  183                        	; _sgx_blit_bat - Draw a map rectangle to specific BAT coordinates.
  184                        	;
  185                        	; void __fastcall blit_bat( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
  186                        	; void __fastcall sgx_blit_bat( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
  187                        	;
  188                        	; Normally you'd just use _draw_bat() and _scroll_bat(), but for those folks
  189                        	; who really wish to take manual control, you can use this.
  190                        	;
  191                        	
  192               0001     		.if	SUPPORT_SGX
  193                        	
  194                        	_sgx_blit_bat	.proc
  200                        			.endp
  201                        		.endif
  202                        	
  203    1F:C327             	_blit_bat	.proc
  204                        	
  205    1F:C327  82         			clx				; Offset to PCE VDC.
  206                        	
  207    1F:C328  43 08      			tma3				; Preserve MPR3..MPR5.
  208    1F:C32A  48         			pha
  209    1F:C32B  43 10      			tma4
  210    1F:C32D  48         			pha
  211    1F:C32E  43 20      			tma5
  212    1F:C330  48         			pha
  213                        	
  214    1F:C331  BD D8 26   			lda	vdc_map_option, x	; Preserve current map options.
  215    1F:C334  48         			pha
  216    1F:C335  09 C0      			ora	#MAP_UNALIGNED_X | MAP_UNALIGNED_Y
  217    1F:C337  9D D8 26   			sta	vdc_map_option, x
  218                        	
  219    1F:C33A  20 71 C3   			jsr	bat_pxl_2_chr		; Set up the draw coordinates.
  220                        	
  221    1F:C33D  A5 FA      			lda	<map_draw_w		; Are we drawing just 1 column?
  222    1F:C33F  C9 01      			cmp	#1
  223    1F:C341  F0 1E      			beq	.draw_column
  224                        	
  225                        			; Draw N rows.
  226                        	
  227    1F:C343  A5 FC      	.draw_rows:	lda	<map_chr_x		; Reset previous X position.
  228    1F:C345  9D 07 2C   			sta	vdc_old_chr_x, x
  229                        	
  230    1F:C348  A5 FE      			lda	<map_chr_y		; Reset previous Y position,
  231    1F:C34A  1A         			inc	a			; ready to draw rows upwards.
  232    1F:C34B  9D 08 2C   			sta	vdc_old_chr_y, x
  233                        	
  234    1F:C34E  20 54 C4   			jsr	bat_scroll_y		; Draw a row of CHR to the BAT.
  235                        	
  236                        			; Drawing completed.
  237                        	
  238    1F:C351  68         	.finished:	pla				; Restore previous map options.
  239    1F:C352  9D D8 26   			sta	vdc_map_option, x
  240                        	
  241    1F:C355  68         			pla				; Restore MPR3..MPR5.
  242    1F:C356  53 20      			tam5
  243    1F:C358  68         			pla
  244    1F:C359  53 10      			tam4
  245    1F:C35B  68         			pla
  246    1F:C35C  53 08      			tam3
  247                        	
  248                        	.exit:		leave
         1F:C35E  4C EF FF   			jmp	leave_proc
  249                        	
  250                        			; Draw 1 column.
  251                        	
  252    1F:C361  A5 FC      	.draw_column:	lda	<map_chr_x		; Reset previous X position.
  253    1F:C363  1A         			inc	a			; ready to draw 1 column.
  254    1F:C364  9D 07 2C   			sta	vdc_old_chr_x, x
  255                        	
  256    1F:C367  A5 FE      			lda	<map_chr_y		; Reset previous Y position.
  257    1F:C369  9D 08 2C   			sta	vdc_old_chr_y, x
  258                        	
  259    1F:C36C  20 95 C3   			jsr	bat_scroll_x		; Draw a single column of CHR.
  260                        	
  261    1F:C36F  80 E0      			bra	.finished
  262                        	
  263                        			.endp
  264                        	
  265                        	
  266                        	
  267                        	; ***************************************************************************
  268                        	; ***************************************************************************
  269                        	;
  270                        	
  271    1F:C371  BD D4 26   	bat_pxl_2_chr:	lda.l	vdc_map_pxl_x, x	; Get current map X coordinate.
  272    1F:C374  85 FC      			sta.l	<map_pxl_x
  273    1F:C376  BD D5 26   			lda.h	vdc_map_pxl_x, x	; Xvert map_pxl_x to map_chr_x.
  274    1F:C379  4A         			lsr	a
  275    1F:C37A  66 FC      			ror.l	<map_pxl_x
  276    1F:C37C  4A         			lsr	a
  277    1F:C37D  66 FC      			ror.l	<map_pxl_x
  278    1F:C37F  4A         			lsr	a
  279    1F:C380  66 FC      			ror.l	<map_pxl_x		; Max map width is 256 CHR.
  280                        	
  281    1F:C382  BD D6 26   			lda.l	vdc_map_pxl_y, x	; Get current map Y coordinate.
  282    1F:C385  85 FE      			sta.l	<map_pxl_y
  283    1F:C387  BD D7 26   			lda.h	vdc_map_pxl_y, x	; Xvert map_pxl_y to map_chr_y.
  284    1F:C38A  4A         			lsr	a
  285    1F:C38B  66 FE      			ror.l	<map_pxl_y
  286    1F:C38D  4A         			lsr	a
  287    1F:C38E  66 FE      			ror.l	<map_pxl_y
  288    1F:C390  4A         			lsr	a
  289    1F:C391  66 FE      			ror.l	<map_pxl_y		; Max map width is 256 CHR.
  290                        	
  291    1F:C393  60         			rts
  292                        	
  293                        	
  294                        	
  295                        	; ***************************************************************************
  296                        	; ***************************************************************************
  297                        	;
  298                        	; bat_scroll_x - Update the BAT when X coordinate changes.
  299                        	;
  300                        	; N.B. This only ever draws a single column!
  301                        	;
  302                        	
  303    1F:C394  60         	!no_change:	rts
  304                        	
  305    1F:C395  A5 FC      	bat_scroll_x:	lda	<map_chr_x		; Compare old_x with cur_x.
  306    1F:C397  DD 07 2C   			cmp	vdc_old_chr_x, x
  307    1F:C39A  F0 F8      			beq	!no_change-		; Do nothing if no change.
  308    1F:C39C  9D 07 2C   			sta	vdc_old_chr_x, x
  309    1F:C39F  30 05      			bmi	.moved			; Test the sign of the change.
  310                        	
  311    1F:C3A1  18         			clc				; Draw RHS if chr_x >= old_x.
  312    1F:C3A2  7D D0 26   			adc	vdc_map_draw_w, x	; Usually (SCR_WIDTH / 8) + 1.
  313    1F:C3A5  3A         			dec	a
  314                        	
  315    1F:C3A6  48         	.moved:		pha				; Push chr_x in map section.
  316                        	
  317    1F:C3A7  3C D8 26   			bit	vdc_map_option, x	; Set bit7 to disable aligning
  318    1F:C3AA  30 05      			bmi	!+			; BAT X with the map X.
  319    1F:C3AC  3D CD 26   			and	vdc_bat_x_mask, x
  320    1F:C3AF  85 F8      			sta	<map_bat_x		; Save BAT X chr coordinate.
  321                        	
  322    1F:C3B1  A5 FE      	!:		lda	<map_chr_y		; Y = chr_y in map section.
  323    1F:C3B3  A8         			tay
  324                        	
  325    1F:C3B4  3C D8 26   			bit	vdc_map_option, x	; Set bit6 to disable aligning
  326    1F:C3B7  70 05      			bvs	!+			; BAT Y with the map Y.
  327    1F:C3B9  3D CE 26   			and	vdc_bat_y_mask, x
  328    1F:C3BC  85 F9      			sta	<map_bat_y		; Save BAT Y chr coordinate.
  329                        	
  330               0000     		.if	FAST_MULTIPLY
  333                        		.endif
  334                        	
  335    1F:C3BE  BD D2 26   	!:		lda	vdc_map_line_w, x	; Map width in CHR (0 == 256).
  336    1F:C3C1  D0 05      			bne	!+
  337                        	
  338    1F:C3C3  64 EE      			stz.l	<map_line		; Multiply by 256 is easy!
  339    1F:C3C5  98         			tya
  340    1F:C3C6  80 15      			bra	.double
  341                        	
  342               0000     		.if	FAST_MULTIPLY
  354                        		.else
  355    1F:C3C8  84 EF      	!:		sty.h	<map_line		; Takes 144..176 cycles.
  356    1F:C3CA  A0 08      			ldy	#8
  357    1F:C3CC  4A         			lsr	a
  358    1F:C3CD  85 EE      			sta.l	<map_line
  359    1F:C3CF  62         			cla
  360    1F:C3D0  90 03      			bcc	.rotate
  361    1F:C3D2  18         	.add:		clc
  362    1F:C3D3  65 EF      			adc.h	<map_line
  363    1F:C3D5  6A         	.rotate:	ror	a
  364    1F:C3D6  66 EE      			ror.l	<map_line		; Lo-byte of (CHR Y * width).
  365    1F:C3D8  88         			dey
  366    1F:C3D9  B0 F7      			bcs	.add
  367    1F:C3DB  D0 F8      			bne	.rotate
  368                        		.endif
  369                        	
  370    1F:C3DD  06 EE      	.double:	asl.l	<map_line		; Lo-byte of (CHR Y * width * 2).
  371    1F:C3DF  2A         			rol	a
  372    1F:C3E0  A8         			tay				; Hi-byte of (CHR Y * width * 2).
  373                        	
  374    1F:C3E1  BD 11 2C   			lda	vdc_map_bank, x		; Put the MAP into MPR3-MPR5.
  375    1F:C3E4  53 08      			tam3				; Allow for 16KByte chrmap.
  376    1F:C3E6  1A         			inc	a
  377    1F:C3E7  53 10      			tam4
  378    1F:C3E9  1A         			inc	a
  379    1F:C3EA  53 20      			tam5
  380                        	
  381    1F:C3EC  68         			pla				; Pop chr_x in map section.
  382    1F:C3ED  0A         			asl	a			; 2-bytes for a BAT value.
  383    1F:C3EE  90 02      			bcc	!+
  384    1F:C3F0  C8         			iny				; Hi-byte of (CHR Y * width * 2).
  385    1F:C3F1  18         			clc
  386    1F:C3F2  65 EE      	!:		adc.l	<map_line		; Lo-byte of (CHR Y * width * 2).
  387    1F:C3F4  90 01      			bcc	!+
  388    1F:C3F6  C8         			iny
  389                        	
  390    1F:C3F7  18         	!:		clc				; Calc map data pointer.
  391    1F:C3F8  7D 0F 2C   			adc.l	vdc_map_addr, x
  392    1F:C3FB  85 EC      			sta.l	<_bp			; Maximum map size is 16KBytes
  393    1F:C3FD  98         			tya				; so we don't need to consider
  394    1F:C3FE  7D 10 2C   			adc.h	vdc_map_addr, x		; bank overflow.
  395    1F:C401  85 ED      			sta.h	<_bp
  396                        	
  397    1F:C403  C2         			cly				; Calculate the map line delta
  398    1F:C404  BD D2 26   			lda	vdc_map_line_w, x	; in bytes.
  399    1F:C407  D0 01      			bne	!+
  400    1F:C409  C8         			iny
  401    1F:C40A  0A         	!:		asl	a
  402    1F:C40B  85 EE      			sta.l	<map_line
  403    1F:C40D  98         			tya
  404    1F:C40E  2A         			rol	a
  405    1F:C40F  85 EF      			sta.h	<map_line
  406                        	
  407                        			; Draw the first part of the column.
  408                        	
  409    1F:C411  A5 F8      	.draw_col:	lda	<map_bat_x		; Set the BAT VRAM destination
  410    1F:C413  85 F0      			sta.l	<_di			; coordinates.
  411    1F:C415  A5 F9      			lda	<map_bat_y
  412    1F:C417  85 F1      			sta.h	<_di
  413                        	
  414    1F:C419  5D CE 26   			eor	vdc_bat_y_mask, x	; Calc CHR before wrap.
  415    1F:C41C  1A         			inc	a
  416    1F:C41D  C5 FB      			cmp	<map_draw_h		; Usually (SCR_HEIGHT / 8) + 1.
  417    1F:C41F  90 02      			bcc	!+
  418    1F:C421  A5 FB      			lda	<map_draw_h		; Maximum CHR to draw.
  419    1F:C423  85 00      	!:		sta	<map_count		; Set number of CHR to draw.
  420    1F:C425  85 01      			sta	<map_drawn		; Preserve number of CHR drawn.
  421                        	
  422    1F:C427  A9 05      			lda	#VDC_CR			; Set VDC auto-increment from
  423    1F:C429  95 F7      			sta	<vdc_reg, x		; the BAT width, which is set
  424    1F:C42B  9D 00 02   			sta	VDC_AR, x		; up by set_screen_size().
  425    1F:C42E  B5 F4      			lda	<vdc_crh, x
  426    1F:C430  9D 03 02   			sta	VDC_DH, x
  427                        	
  428    1F:C433  20 35 C5   			jsr	bat_col_strip		; Draw top of vertical strip.
  429                        	
  430                        			; Wrap around and draw the rest of the column (if needed).
  431                        	
  432    1F:C436  38         			sec				; Are there any more CHR that
  433    1F:C437  A5 FB      			lda	<map_draw_h		; need to be drawn?
  434    1F:C439  E5 01      			sbc	<map_drawn
  435    1F:C43B  F0 0B      			beq	.done
  436                        	
  437    1F:C43D  85 00      			sta	<map_count		; Set number of CHR to draw.
  438                        	
  439    1F:C43F  A5 F8      			lda	<map_bat_x		; Set the BAT VRAM destination
  440    1F:C441  85 F0      			sta.l	<_di			; coordinates.
  441    1F:C443  64 F1      			stz.h	<_di			; Reset 1st row to draw.
  442                        	
  443    1F:C445  20 35 C5   			jsr	bat_col_strip		; Draw btm of vertical strip.
  444                        	
  445    1F:C448  A9 05      	.done:		lda	#VDC_CR			; Set VDC auto-increment to 1.
  446    1F:C44A  95 F7      			sta	<vdc_reg, x
  447    1F:C44C  9D 00 02   			sta	VDC_AR, x
  448    1F:C44F  9E 03 02   			stz	VDC_DH, x
  449                        	
  450    1F:C452  60         			rts
  451                        	
  452                        	
  453                        	
  454                        	; ***************************************************************************
  455                        	; ***************************************************************************
  456                        	;
  457                        	; bat_scroll_y - Update the BAT when Y coordinate changes.
  458                        	;
  459                        	; N.B. This draws multiple rows when called from _draw_bat or _blit_bat.
  460                        	;
  461                        	
  462    1F:C453  60         	!no_change:	rts
  463                        	
  464    1F:C454  A5 FE      	bat_scroll_y:	lda	<map_chr_y		; Compare old_y with cur_y.
  465    1F:C456  DD 08 2C   			cmp	vdc_old_chr_y, x
  466    1F:C459  F0 F8      			beq	!no_change-		; Do nothing if no change.
  467    1F:C45B  9D 08 2C   			sta	vdc_old_chr_y, x
  468    1F:C45E  30 05      			bmi	.moved			; Test the sign of the change.
  469                        	
  470    1F:C460  18         			clc				; Draw bottom if chr_y >= old_y.
  471    1F:C461  7D D1 26   			adc	vdc_map_draw_h, x	; Usually (SCR_HEIGHT / 8) + 1.
  472    1F:C464  3A         			dec	a
  473                        	
  474    1F:C465  A8         	.moved:		tay				; Y = chr_y in map section.
  475                        	
  476    1F:C466  3C D8 26   			bit	vdc_map_option, x	; Set bit6 to disable aligning
  477    1F:C469  70 05      			bvs	!+			; BAT Y with the map Y.
  478    1F:C46B  3D CE 26   			and	vdc_bat_y_mask, x
  479    1F:C46E  85 F9      			sta	<map_bat_y		; Save BAT Y chr coordinate.
  480                        	
  481    1F:C470  3C D8 26   	!:		bit	vdc_map_option, x	; Set bit7 to disable aligning
  482    1F:C473  30 07      			bmi	!+			; BAT X with the map X.
  483    1F:C475  A5 FC      			lda	<map_chr_x
  484    1F:C477  3D CD 26   			and	vdc_bat_x_mask, x
  485    1F:C47A  85 F8      			sta	<map_bat_x		; Save BAT X chr coordinate.
  486                        	
  487               0000     		.if	FAST_MULTIPLY
  490                        		.endif
  491                        	
  492    1F:C47C  BD D2 26   	!:		lda	vdc_map_line_w, x	; Map width in CHR (0 == 256).
  493    1F:C47F  D0 05      			bne	!+
  494                        	
  495    1F:C481  64 EE      			stz.l	<map_line		; Multiply by 256 is easy!
  496    1F:C483  98         			tya
  497    1F:C484  80 15      			bra	.double
  498                        	
  499               0000     		.if	FAST_MULTIPLY
  511                        		.else
  512    1F:C486  84 EF      	!:		sty.h	<map_line		; Takes 144..176 cycles.
  513    1F:C488  A0 08      			ldy	#8
  514    1F:C48A  4A         			lsr	a
  515    1F:C48B  85 EE      			sta.l	<map_line
  516    1F:C48D  62         			cla
  517    1F:C48E  90 03      			bcc	.rotate
  518    1F:C490  18         	.add:		clc
  519    1F:C491  65 EF      			adc.h	<map_line
  520    1F:C493  6A         	.rotate:	ror	a
  521    1F:C494  66 EE      			ror.l	<map_line		; Lo-byte of (CHR Y * width).
  522    1F:C496  88         			dey
  523    1F:C497  B0 F7      			bcs	.add
  524    1F:C499  D0 F8      			bne	.rotate
  525                        		.endif
  526                        	
  527    1F:C49B  06 EE      	.double:	asl.l	<map_line		; Lo-byte of (CHR Y * width * 2).
  528    1F:C49D  2A         			rol	a
  529    1F:C49E  85 EF      			sta.h	<map_line		; Hi-byte of (CHR Y * width * 2).
  530    1F:C4A0  A8         			tay
  531                        	
  532    1F:C4A1  BD 11 2C   			lda	vdc_map_bank, x		; Put the MAP into MPR3-MPR5.
  533    1F:C4A4  53 08      			tam3				; Allow for 16KByte chrmap.
  534    1F:C4A6  1A         			inc	a
  535    1F:C4A7  53 10      			tam4
  536    1F:C4A9  1A         			inc	a
  537    1F:C4AA  53 20      			tam5
  538                        	
  539                        			; Loop to here if drawing multiple rows.
  540                        	
  541    1F:C4AC  A5 FC      	.next_row:	lda	<map_chr_x		; Map CHR X coordinate.
  542    1F:C4AE  0A         			asl	a			; 2-bytes for a BAT value!
  543    1F:C4AF  90 02      			bcc	!+
  544    1F:C4B1  C8         			iny				; Hi-byte of (CHR Y * width * 2).
  545    1F:C4B2  18         			clc
  546    1F:C4B3  65 EE      	!:		adc.l	<map_line		; Lo-byte of (CHR Y * width * 2).
  547    1F:C4B5  90 01      			bcc	!+
  548    1F:C4B7  C8         			iny
  549    1F:C4B8  18         	!:		clc				; Calc map data pointer.
  550    1F:C4B9  7D 0F 2C   			adc.l	vdc_map_addr, x
  551    1F:C4BC  85 EC      			sta.l	<_bp			; Maximum map size is 16KBytes
  552    1F:C4BE  98         			tya				; so we don't need to consider
  553    1F:C4BF  7D 10 2C   			adc.h	vdc_map_addr, x		; bank overflow.
  554    1F:C4C2  85 ED      			sta.h	<_bp
  555                        	
  556                        			; Draw the first part of the row.
  557                        	
  558    1F:C4C4  A5 F9      	.draw_row:	lda	<map_bat_y		; Set the BAT VRAM destination
  559    1F:C4C6  85 F1      			sta.h	<_di			; coordinates.
  560    1F:C4C8  A5 F8      			lda	<map_bat_x
  561    1F:C4CA  85 F0      			sta.l	<_di
  562                        	
  563    1F:C4CC  5D CD 26   			eor	vdc_bat_x_mask, x	; Calc CHR before wrap.
  564    1F:C4CF  1A         			inc	a
  565    1F:C4D0  C5 FA      			cmp	<map_draw_w		; Usually (SCR_WIDTH / 8) + 1.
  566    1F:C4D2  90 02      			bcc	!+
  567    1F:C4D4  A5 FA      			lda	<map_draw_w		; Maximum CHR to draw.
  568    1F:C4D6  85 00      	!:		sta	<map_count		; Set number of CHR to draw.
  569    1F:C4D8  85 01      			sta	<map_drawn		; Preserve number of CHR drawn.
  570                        	
  571    1F:C4DA  20 14 C5   			jsr	bat_row_strip		; Draw lhs of horizontal strip.
  572                        	
  573                        			; Wrap around and draw the rest of the row (if needed).
  574                        	
  575    1F:C4DD  38         			sec				; Are there any more CHR that
  576    1F:C4DE  A5 FA      			lda	<map_draw_w		; need to be drawn?
  577    1F:C4E0  E5 01      			sbc	<map_drawn
  578    1F:C4E2  F0 0B      			beq	.done_row
  579                        	
  580    1F:C4E4  85 00      			sta	<map_count		; Set number of CHR to draw.
  581                        	
  582    1F:C4E6  A5 F9      			lda	<map_bat_y		; Set the BAT VRAM destination
  583    1F:C4E8  85 F1      			sta.h	<_di			; coordinates.
  584    1F:C4EA  64 F0      			stz.l	<_di			; Reset 1st column to draw.
  585                        	
  586    1F:C4EC  20 14 C5   			jsr	bat_row_strip		; Draw rhs of horizontal strip.
  587                        	
  588    1F:C4EF  C6 FB      	.done_row:	dec	<map_draw_h		; Are all desired rows drawn?
  589    1F:C4F1  F0 20      			beq	.finished
  590                        	
  591    1F:C4F3  A5 F9      			lda	<map_bat_y		; Move BAT Y down by 1.
  592    1F:C4F5  1A         			inc	a
  593    1F:C4F6  3D CE 26   			and	vdc_bat_y_mask, x
  594    1F:C4F9  85 F9      			sta	<map_bat_y
  595                        	
  596    1F:C4FB  A4 EF      			ldy.h	<map_line		; Move the map line pointer to
  597    1F:C4FD  C8         			iny				; the next line.
  598    1F:C4FE  BD D2 26   			lda	vdc_map_line_w, x
  599    1F:C501  F0 0B      			beq	!++			; vdc_map_line_w == 0 == 256.
  600    1F:C503  0A         			asl	a			; 2-bytes for a BAT value!
  601    1F:C504  B0 01      			bcs	!+
  602    1F:C506  88         			dey				; Fix if vdc_map_line_w <= 127.
  603    1F:C507  18         	!:		clc
  604    1F:C508  65 EE      			adc.l	<map_line
  605    1F:C50A  85 EE      			sta.l	<map_line
  606    1F:C50C  90 01      			bcc	!++
  607    1F:C50E  C8         	!:		iny
  608    1F:C50F  84 EF      	!:		sty.h	<map_line		; Needed for .next_row!
  609                        	
  610    1F:C511  80 99      			bra	.next_row		; Draw next row.
  611                        	
  612    1F:C513  60         	.finished:	rts
  613                        	
  614                        	
  615                        	
  616                        	; ***************************************************************************
  617                        	; ***************************************************************************
  618                        	;
  619                        	; bat_row_strip - Draw a single row of CHR into the BAT.
  620                        	;
  621                        	
  622    1F:C514  20 48 E4   	bat_row_strip:	jsr	set_di_xy_mawr		; Set the BAT VRAM destination.
  623                        	
  624    1F:C517  C2         			cly				; 2
  625    1F:C518  B1 EC      	.repeat:	lda	[_bp], y		; 7
  626    1F:C51A  9D 02 02   			sta	VDC_DL, x		; 6
  627    1F:C51D  C8         			iny				; 2
  628    1F:C51E  B1 EC      			lda	[_bp], y		; 7
  629               0000     		.if	CHRMAP_BAT_FLAG
  634                        		.endif
  635    1F:C520  9D 03 02   			sta	VDC_DH, x		; 6
  636    1F:C523  C8         			iny				; 2
  637                        	
  638    1F:C524  C6 00      	!:		dec	<map_count		; 6
  639    1F:C526  D0 F0      			bne	.repeat			; 4
  640                        	
  641    1F:C528  98         			tya				; 2
  642    1F:C529  F0 07      			beq	!+			; 2/4
  643    1F:C52B  18         			clc				; 2
  644    1F:C52C  65 EC      			adc.l	<_bp			; 4
  645    1F:C52E  85 EC      			sta.l	<_bp			; 4
  646    1F:C530  90 02      			bcc	.done			; 2/4
  647    1F:C532  E6 ED      	!:		inc.h	<_bp			; 6
  648                        	
  649    1F:C534  60         	.done:		rts
  650                        	
  651                        	
  652                        	
  653                        	; ***************************************************************************
  654                        	; ***************************************************************************
  655                        	;
  656                        	; bat_col_strip - Draw a single column of CHR into the BAT.
  657                        	;
  658                        	
  659    1F:C535  20 48 E4   	bat_col_strip:	jsr	set_di_xy_mawr		; Set the BAT VRAM destination.
  660                        	
  661    1F:C538  A0 01      			ldy	#1			; 2
  662    1F:C53A  B2 EC      	.repeat:	lda	[_bp]			; 7
  663    1F:C53C  9D 02 02   			sta	VDC_DL, x		; 6
  664    1F:C53F  B1 EC      			lda	[_bp], y		; 7
  665               0000     		.if	CHRMAP_BAT_FLAG
  670                        		.endif
  671    1F:C541  9D 03 02   			sta	VDC_DH, x		; 6
  672                        	
  673    1F:C544  18         			clc				; 2
  674    1F:C545  A5 EE      			lda.l	<map_line		; 4
  675    1F:C547  65 EC      			adc.l	<_bp			; 4
  676    1F:C549  85 EC      			sta.l	<_bp			; 4
  677    1F:C54B  A5 EF      			lda.h	<map_line		; 4
  678    1F:C54D  65 ED      			adc.h	<_bp			; 4
  679    1F:C54F  85 ED      			sta.h	<_bp			; 4
  680                        	
  681    1F:C551  C6 00      			dec	<map_count		; 6
  682    1F:C553  D0 E5      			bne	.repeat			; 4
  683                        	
  684    1F:C555  60         			rts
  685                        	
  686                        		.endprocgroup	; chrmap_group
                             #[2]   "..\..\..\include\hucc\hucc-final.asm"
   85                        		.endif	HUCC_USES_CHRMAP
   86                        	
   87               0001     		.ifdef	HUCC_USES_OLD_LINE		; Set in hucc_old_line.h
                             #[3]   "..\..\..\include\hucc\hucc-old-line.asm"
   88                        			include	"hucc-old-line.asm"
    1                        	; ***************************************************************************
    2                        	; ***************************************************************************
    3                        	;
    4                        	; hucc-old-line.asm
    5                        	;
    6                        	; Based on the original HuC and MagicKit functions by David Michel and the
    7                        	; other original HuC developers.
    8                        	;
    9                        	; Modifications copyright John Brandwood 2024-2025.
   10                        	;
   11                        	; Distributed under the Boost Software License, Version 1.0.
   12                        	; (See accompanying file LICENSE_1_0.txt or copy at
   13                        	;  http://www.boost.org/LICENSE_1_0.txt)
   14                        	;
   15                        	; ***************************************************************************
   16                        	; ***************************************************************************
   17                        	
   18                        	
   19                        	
   20                        	; ***************************************************************************
   21                        	; ***************************************************************************
   22                        	;
   23                        	; void __fastcall gfx_init( unsigned int start_vram_addr<_ax> );
   24                        	;
   25                        	; initialize graphics mode
   26                        	; - points graphics map to tiles at start_vram_addr
   27                        	
   28                        	_gfx_init.1	.proc
   73                        			.endp
   74                        	
   75                        	
   76                        	
   77                        	; ***************************************************************************
   78                        	; ***************************************************************************
   79                        	;
   80                        	; void __fastcall gfx_clear( unsigned int start_vram_addr<_di> );
   81                        	;
   82                        	; Clear the values in the graphics tiles
   83                        	; - places zeroes in graphics tiles at start_vram_addr
   84                        	
   85                        	_gfx_clear.1	.proc
  105                        			.endp
  106                        	
  107                        	
  108                        	
  109                        	; ***************************************************************************
  110                        	; ***************************************************************************
  111                        	;
  112                        	; void __fastcall gfx_line( unsigned int x1<_gfx_x1>, unsigned int y1<_gfx_y1>, unsigned int x2<_gfx_x2>, unsigned int y2<_gfx_y2>, unsigned char color<_gfx_color> );
  113                        	
  114                        	huc_gfx_line	.procgroup
  459                        			.endprocgroup	; huc_gfx_line
                             #[2]   "..\..\..\include\hucc\hucc-final.asm"
   89                        		.endif
   90                        	
   91               0000     		.ifdef	HUCC_USES_ZX0			; Set in hucc_zx0.h
   93                        		.endif
   94                        	
   95                        	
   96                        	
   97                        	; ***************************************************************************
   98                        	; ***************************************************************************
   99                        	;
  100                        	; Allocate space for the "-fnon-recursive" leaf function stack if needed.
  101                        	;
  102                        	
  103               0007     		.if		leaf_needs
  104               2C27     			.bss
  105    F8:2C27             			ds	leaf_needs
  106    F8:2C2E             	leaf_stack:
  107                        		.endif
  108                        	
  109                        	
  110                        	
  111                        	; ***************************************************************************
  112                        	; ***************************************************************************
  113                        	;
  114                        	; Check that C "__zp" declarations aren't overwriting System Card variables.
  115                        	;
  116                        	
  117               20A0     			.zp
  118               0000     		.if	(* > zpg_sys_top) || (USING_PSGDRIVER && (* > zpg_psg_top))
  120                        		.endif
  121                        	
  122                        	
  123                        	
  124                        	; ***************************************************************************
  125                        	; ***************************************************************************
  126                        	;
  127                        	; Check that there isn't too much C "const" data in the ".RODATA" section.
  128                        	;
  129                        	
  130               2C2E     			.xdata
  131    F8:2C2E             	_xdata_end:					; End of initialized vars in BSS.
  132                        	
  133               6364     			.xinit
  134    01:6364             	_xinit_end:					; End of initialized data in ROM.
  135                        	
  136               6364     			.xstrz
  137    01:6364             	_xstrz_end:					; End of anonymous C strings.
  138    01:6364             	_rodata_end:					; End of .RODATA section.
  139               E94B     			.code
  140                        	
  141               0000     		.if	_rodata_end >= 0xA000
  143                        		.endif
                             #[1]   "Black_Tiger.s"

PROCEDURE LIST (in order of size):

Size: $18B3, Addr: $01:C364,      .proc _update_PLAYER
Size: $0FE8, Addr: $02:C000,      .proc _update_WEAPON
Size: $0FC9, Addr: $02:CFE8,      .proc _sequence_INTRO
Size: $0BE5, Addr: $1D:D340,      .proc _joypad_DIR
Size: $086D, Addr: $1E:C000, .procgroup blkmap_group
Size: $059E, Addr: $1E:C86D,      .proc _init_LEVEL
Size: $0580, Addr: $1E:CE0B,      .proc _joypad_BUTTONS_SHOP
Size: $0483, Addr: $1E:D38B,      .proc _sequence_NPC
Size: $0414, Addr: $1E:D80E,      .proc _init_SHOP
Size: $03AA, Addr: $1E:DC22,      .proc _anim_OBJECTS
Size: $0390, Addr: $01:DC17,      .proc huc_monofont_x
Size: $033E, Addr: $11:DC00,      .proc _init_HUD
Size: $02C4, Addr: $1F:C000,      .proc _joypad_BUTTONS
Size: $0292, Addr: $1F:C2C4, .procgroup chrmap_group
Size: $028F, Addr: $1F:C556,      .proc _main
Size: $0288, Addr: $1F:C7E5,      .proc _load_OBJECT_TILES
Size: $024D, Addr: $1F:CA6D,      .proc _joypad_BUTTONS_TITLE
Size: $0226, Addr: $1F:CCBA,      .proc _init_INTRO
Size: $021C, Addr: $1F:CEE0,      .proc _collision_PLAYER_OBJECT
Size: $0170, Addr: $1F:D0FC,      .proc _init_TITLE
Size: $0163, Addr: $1F:D26C,      .proc _scroll_object
Size: $0163, Addr: $1F:D3CF,      .proc _scroll_chest
Size: $0163, Addr: $1F:D532,      .proc _scroll_npc
Size: $0140, Addr: $1F:D695,      .proc _init_OBJECT_LV1
Size: $013C, Addr: $1F:D7D5,      .proc _collision_PLAYER_NPC
Size: $0138, Addr: $1F:D911,      .proc _collision_WEAPON_OBJECTS
Size: $0108, Addr: $1F:DA49,      .proc read_joypads
Size: $0107, Addr: $1F:DB51,      .proc _recenter_CAMERA
Size: $00E8, Addr: $1F:DC58,      .proc _init_NPC_LV1
Size: $00DF, Addr: $1F:DD40, .procgroup vdc_set_mode
Size: $00D0, Addr: $1D:DF25, .procgroup vdc_tty_out
Size: $00CA, Addr: $1F:DE1F,      .proc _init_CHEST_LV1
Size: $00A5, Addr: $11:DF3E,      .proc _display_TIME_SHOP
Size: $009D, Addr: $1F:DEE9,      .proc _display_TIME_LEVEL
Size: $009B, Addr: $20:C000,      .proc cross_fade_to
Size: $0086, Addr: $20:C09B,      .proc _scroll_split.5
Size: $0086, Addr: $20:C121,      .proc _sgx_scroll_split.5
Size: $0081, Addr: $20:C1A7,      .proc vbl_init_scroll
Size: $007A, Addr: $1F:DF86,      .proc _check_TILE_DEPTH
Size: $0077, Addr: $20:C228,      .proc core_main
Size: $006A, Addr: $20:C29F, .procgroup load_vram_group
Size: $0064, Addr: $20:C309,      .proc _collision_PLAYER_BG
Size: $0062, Addr: $20:C36D,      .proc _init_256x224
Size: $004F, Addr: $02:DFB1,      .proc _init_VARIABLES
Size: $004E, Addr: $01:DFA7, .procgroup old_satb_group
Size: $004B, Addr: $20:C3CF, .procgroup hucc_memcmp
Size: $0046, Addr: $20:C41A,      .proc read_palettes
Size: $0043, Addr: $20:C460, .procgroup vdc_clear_vram
Size: $0043, Addr: $20:C4A3,      .proc sgx_detect
Size: $0042, Addr: $20:C4E6,      .proc _init_PLAYER
Size: $003F, Addr: $20:C528, .procgroup load_bat_group
Size: $003E, Addr: $20:C567,      .proc _vram2vram.3
Size: $003B, Addr: $20:C5A5,      .proc init_random
Size: $0038, Addr: $20:C5E0,      .proc _joypad_BUTTONS_INTRO
Size: $002E, Addr: $1E:DFCC,      .proc _scroll_BG
Size: $002B, Addr: $20:C618,      .proc _load_palette.3
Size: $0026, Addr: $20:C643,      .proc _load_CHEST_TILES
Size: $0026, Addr: $20:C669,      .proc _load_NPC_TILES
Size: $0023, Addr: $20:C68F,      .proc _hide_LEVEL_SPRITES
Size: $001D, Addr: $11:DFE3,      .proc _init_SYSTEM
Size: $001C, Addr: $20:C6B2,      .proc _display_SCORE
Size: $001C, Addr: $20:C6CE,      .proc _display_ZENNY
Size: $001C, Addr: $20:C6EA,      .proc clear_vce
Size: $001A, Addr: $20:C706,      .proc _display_KEY
Size: $001A, Addr: $20:C720,      .proc _display_POTION
Size: $0018, Addr: $20:C73A,      .proc _display_LIFE
Size: $000E, Addr: $20:C752,      .proc _set_PLAYER_IDLE
