                             #[1]   "Black_Tiger.s"
   27                        	
   28               0010     	CORE_VERSION	=	$10			; Version 1.0
   29                        	
   30                        			; Get the user program's configuration settings, this will
   31                        			; be read from the current directory, if it exists, or the
   32                        			; "../include/" directory if not.
   33                        	
                             #[4]   "..\..\..\include\hucc\core-config.inc"
   34                        			include	"core-config.inc"
    1                        	; ***************************************************************************
    2                        	; ***************************************************************************
    3                        	;
    4                        	; core-config.inc
    5                        	;
    6                        	; Configuration settings for the "CORE(not TM)" PC Engine library code.
    7                        	;
    8                        	; Copyright John Brandwood 2021-2024.
    9                        	;
   10                        	; Distributed under the Boost Software License, Version 1.0.
   11                        	; (See accompanying file LICENSE_1_0.txt or copy at
   12                        	;  http://www.boost.org/LICENSE_1_0.txt)
   13                        	;
   14                        	; ***************************************************************************
   15                        	; ***************************************************************************
   16                        	;
   17                        	; The idea is that you, a PCE developer, copy this file from the ../include/
   18                        	; directory and into your project's directory, and then customize the values
   19                        	; to suit your particular project.
   20                        	;
   21                        	; Because PCEAS searches the current (i.e. project) directory for an include
   22                        	; file first, then it will find your customized copy of the file rather than
   23                        	; the original copy in the ../include/ directory.
   24                        	;
   25                        	; That means that all of the different overlay programs in your project will
   26                        	; share the same overall library configuration for your game.
   27                        	;
   28                        	; ***************************************************************************
   29                        	; ***************************************************************************
   30                        	
   31                        	;
   32                        	; Are we going to take over MPR7?
   33                        	;
   34                        	; While this is the default for the "CORE(not TM)" library, it is definitely
   35                        	; possible to use the library to build CD-ROM code that runs with the System
   36                        	; Card in MPR7, and with the 1st bank remaining in MPR2.
   37                        	;
   38                        	; N.B. The CD-ROM Stage1 loader runs the library with USING_MPR7=0 while it
   39                        	;      installs the kernel into PCE RAM in MPR1.
   40                        	;
   41                        	
   42               0000     		.ifndef	USING_MPR7
   44                        		.endif
   45                        	
   46                        	;
   47                        	; Are we building a CD-ROM overlay that uses an already-built CD-ROM Stage1
   48                        	; loader to install the library's kernel code into PCE RAM in MPR1?
   49                        	;
   50                        	; If this is set, the library's kernel code will be excluded from the build,
   51                        	; which will save about 1KB-3KB of code space in every overlay program!
   52                        	;
   53                        	; N.B. The CD-ROM Stage1 loader sets USING_STAGE1=0 so it builds correctly.
   54                        	;
   55                        	
   56               0000     		.ifndef	USING_STAGE1
   58                        		.endif
   59                        	
   60                        	;
   61                        	; Are we currently building the CD-ROM Stage1 loader?
   62                        	;
   63                        	; If this is set, the library's startup code does not call the __sound_init
   64                        	; macro because the sound driver code is not usually a part of the kernel.
   65                        	;
   66                        	; N.B. The CD-ROM Stage1 loader sets BUILDING_STAGE1=1 so it builds correctly.
   67                        	;
   68                        	
   69               0000     		.ifndef	BUILDING_STAGE1
   71                        		.endif
   72                        	
   73                        	;
   74                        	; Is the last track of the CD a duplicate of the main ISO data track?
   75                        	;
   76                        	; Most CD games put two copies of the same ISO track on the CD, so that data
   77                        	; can be read from the secondary track if the drive has a problem reading it
   78                        	; it from the primary location.
   79                        	;
   80                        	; If set, the secondary track will be enabled when the library first starts.
   81                        	;
   82                        	
   83               0000     		.ifndef	SUPPORT_2ISO
   85                        		.endif
   86                        	
   87                        	;
   88                        	; Maximum number of directory entries to use from the ISO.
   89                        	;
   90                        	; The fewer that we choose, the less RAM memory we need. A setting of 64 is
   91                        	; a good compromise to use until you are putting lots of files on the ISO.
   92                        	;
   93                        	
   94               0000     		.ifndef	MAX_DIRSIZE
   96                        		.endif
   97                        	
   98                        	;
   99                        	; Use the System Card's PSG driver code instead of a modern alternative
  100                        	; sound driver like a DefleMask or Furnace player?
  101                        	;
  102                        	
  103               0000     		.ifndef	USING_PSGDRIVER
  105                        		.endif
  106                        	
  107                        	;
  108                        	; Support development for the Turbo EverDrive v2?
  109                        	;
  110                        	; This only applies to HuCard programs, but when chosen, the "CORE(not TM)"
  111                        	; kernel is moved from bank 0 to bank 2, and a minimal set of startup code
  112                        	; is put in bank 0.
  113                        	;
  114                        	; This is because the TED2 hardware occupies the whole of bank 0 when it is
  115                        	; activated, and so we need to run with a different bank in MPR7.
  116                        	;
  117                        	
  118               0000     		.ifndef	SUPPORT_TED2
  120                        		.endif
  121                        	
  122                        	;
  123                        	; Support development for the SuperGRAFX?
  124                        	;
  125                        	; This enables SuperGRAFX support in certain library functions.
  126                        	;
  127                        	
  128               0000     		.ifndef	SUPPORT_SGX
  130                        		.endif
  131                        	
  132                        	;
  133                        	; Choose SuperGRAFX VPC initialization mode.
  134                        	;
  135                        	; SGX_PARALLAX=0 (useful when VDC #1 is a fullscreen HUD)
  136                        	;
  137                        	;  FRONT
  138                        	;   SP1 = VDC #1 (pce) sprite pixels
  139                        	;   BG1 = VDC #1 (pce) background pixels
  140                        	;   SP2 = VDC #2 (sgx) sprite pixels
  141                        	;   BG2 = VDC #2 (sgx) background pixels
  142                        	;  BACK
  143                        	;
  144                        	; SGX_PARALLAX=1
  145                        	;
  146                        	;  FRONT
  147                        	;   SP1 = VDC #1 (pce) sprite pixels
  148                        	;   SP2 = VDC #2 (sgx) sprite pixels
  149                        	;   BG1 = VDC #1 (pce) background pixels
  150                        	;   BG2 = VDC #2 (sgx) background pixels
  151                        	;  BACK
  152                        	;
  153                        	
  154               0000     		.ifndef	SGX_PARALLAX
  156                        		.endif
  157                        	
  158                        	;
  159                        	; Support development for the ArcadeCard?
  160                        	;
  161                        	; This enables ArcadeCard support in certain library functions.
  162                        	;
  163                        	
  164               0000     		.ifndef	SUPPORT_ACD
  166                        		.endif
  167                        	
  168                        	;
  169                        	; Support development for the IFU's ADPCM hardware?
  170                        	;
  171                        	; Developers would normally just use the System Card functions for ADPCM, but
  172                        	; enabling this adds alternative functions, and allows ADPCM use on a HuCARD.
  173                        	;
  174                        	
  175               0000     		.ifndef	SUPPORT_ADPCM
  177                        		.endif
  178                        	
  179                        	;
  180                        	; Select which version of the joystick library code to include, only one of
  181                        	; these can be set to '1' ...
  182                        	;
  183                        	; SUPPORT_2BUTTON : Only returns buttons I and II.
  184                        	; SUPPORT_6BUTTON : Read buttons III-VI, but ignore a mouse.
  185                        	; SUPPORT_MOUSE	  : Read mouse, but ignore buttons III-VI.
  186                        	;
  187                        	; It doesn't make sense to design a game the relies on both the 6-button and
  188                        	; the mouse, so the joystick library is optimized for one or the other.
  189                        	;
  190                        	; Note that both those devices are always detected and no conflicts occur,
  191                        	; this just controls reading either buttons III-VI or the Mouse Y-movement.
  192                        	;
  193                        	
  194               0000     		.ifndef	SUPPORT_6BUTTON
  200                        		.endif
  201                        	
  202                        	;
  203                        	; How many joypad/mouse devices should be supported?
  204                        	;
  205                        	; This is normally 5, but can be set to 3 (or lower) in order to speed up
  206                        	; the processing and free up CPU time for other code, which is especially
  207                        	; useful for mouse games.
  208                        	;
  209                        	
  210               0000     		.ifndef	MAX_PADS
  212                        		.endif
  213                        	
  214                        	;
  215                        	; Implement a HuC-compatible seperate array for accumulating joypad presses?
  216                        	;
  217                        	; This is only really needed if your game is not expected to run at 60Hz and
  218                        	; so you will sometimes miss joypad presses.
  219                        	;
  220                        	; Alternatively you can set ACCUMULATE_JOY so that joypad presses are always
  221                        	; accumulated in the normal joytrg array, which is how asm programmers would
  222                        	; normally deal with this situation.
  223                        	;
  224                        	
  225               0000     		.ifndef HUC_JOY_EVENTS
  227                        		.endif
  228                        	
  229                        	;
  230                        	; Should "joytrg" accumulate presses, and so need to be explicitely cleared
  231                        	; after reading, or should it just be the result of the last read?
  232                        	;
  233                        	; This option has no effect if HUC_JOY_EVENTS is non-zero since that option
  234                        	; takes precedence over this one!
  235                        	;
  236                        	
  237               0000     		.ifndef ACCUMULATE_JOY
  239                        		.endif
  240                        	
  241                        	;
  242                        	; The DATA_BANK location needs to be set as early as possible so that library
  243                        	; code is able to put data in there before the total overall size of the code
  244                        	; is known.
  245                        	;
  246                        	; By default, DATA_BANK is the next bank after the CORE_BANK.
  247                        	;
  248                        	; RESERVE_BANKS allows developers to reserve some banks between the CORE_BANK
  249                        	; and the DATA_BANK that they can use however they wish.
  250                        	;
  251                        	; One use for RESERVE_BANKS is to create empty space that PCEAS can use when
  252                        	; it relocates procedures. This provides a way for a developer to group code
  253                        	; together at the start of memory, and leave the maximum number of banks for
  254                        	; loading dynamic data from CD-ROM.
  255                        	;
  256                        	; The KickC environment sets RESERVE_BANKS=1 (or higher) so that there is a
  257                        	; a bank for the permanent C code and static constants.
  258                        	;
  259                        	
  260               0000     		.ifndef	RESERVE_BANKS
  266                        		.endif	RESERVE_BANKS
                             #[3]   "..\..\..\include\hucc\core.inc"
   35                        	
   36                        	;
   37                        	; This is a simple macro to call System Card functions when using MPR7 for
   38                        	; running the "CORE(not TM)" PC Engine library code.
   39                        	;
   40                        	
   41                        	system		.macro
   42                        			ldy     #<\1
   43                        			jsr	call_bios
   44                        			.endm
   45                        	
   46                        	;
   47                        	; This replaces the System Card's ex_setvec, because "call_bios" uses the
   48                        	; Y register.
   49                        	;
   50                        	
   51                        	setvec		.macro
   52                        			php
   53                        			sei
   54                        			lda.l	#\2
   55                        			sta.l	\1
   56                        			lda.h	#\2
   57                        			sta.h	\1
   58                        			plp
   59                        			.endm
   60                        	
   61                        	;
   62                        	; Repurpose this System Card variable, since nmi_hook is never used.
   63                        	;
   64                        	; We'll use it as a vector to a user-supplied sound driver instead.
   65                        	;
   66                        	
   67               2206     	sound_hook	=	nmi_hook		; Sound Driver to run in VBL.
   68                        	
   69                        	;
   70                        	; CORE Zero-Page variables, relative to the System Card's ZP variables.
   71                        	;
   72                        	
   73               0000     		.if	USING_PSGDRIVER
   75                        		.else
   76               20EC     	core_zpend	=	$F8:20EC
   77                        		.endif	USING_PSGDRIVER
   78                        	
   79               0001     		.if	SUPPORT_SGX
   80                        	
   81                        			; Put some "CORE(not TM)" variables at the start of Zero Page.
   82                        			;
   83                        			; These are at the *start* of ZP so that the SuperGrafx shadow
   84                        			; "sgx_" registers are at a specific offset from their System
   85                        			; Card "vdc_" counterparts, and they MUST NOT be moved!
   86                        			;
   87                        			; This allows us to put SGX_VDC_OFFSET or PCE_VDC_OFFSET into
   88                        			; the X register, and then index into either set of hardware
   89                        			; registers and the "sgx_reg" or "vdc_reg" shadow-variables.
   90                        	
   91               0000     	PCE_VDC_OFFSET	=	$00		; Offset to PCE VDC chip & shadow vars.
   92               0010     	SGX_VDC_OFFSET	=	$10		; Offset to SGX VDC chip & shadow vars.
   93                        	
   94               2000     			.zp
   95               2000     			.org	$2000
   96    F8:2000             	__temp		ds	2		; $F8:2000 Use within any ASM routine.
   97    F8:2002             	_bp_bank	ds	1		; $F8:2002 Use within any ASM/HuCC routine.
   98    F8:2003             	sgx_crl		ds	1		; $F8:2003 SGX shadow (vdc_crl = $20F3).
   99    F8:2004             	sgx_crh		ds	1		; $F8:2004 SGX shadow (vdc_crh = $20F4).
  100    F8:2005             	core_1stbank	ds	1		; $F8:2005 1st bank of library code.
  101    F8:2006             	sgx_sr		ds	1		; $F8:2006 SGX shadow (vdc_sr  = $20F6).
  102    F8:2007             	sgx_reg		ds	1		; $F8:2007 SGX shadow (vdc_reg = $20F7).
  103                        	
  104               2008     	core_zp1st	=	*		; $F8:2008 1st free user address.
  105                        	
  106                        		.else	SUPPORT_SGX
  116                        		.endif	SUPPORT_SGX
  117                        	
  118                        	;
  119                        	; The kernel code in RAM follows the System Card's RAM variables.
  120                        	;
  121                        	
  122               0000     		.if	USING_PSGDRIVER
  124                        		.else
  125               22D0     	core_ram1st     =	$F8:22D0
  126                        		.endif	USING_PSGDRIVER
  127                        	
  128                        	;
  129                        	; Include the "CORE(not TM)" startup code to begin the HuCARD / Overlay.
  130                        	;
  131                        	
                             #[4]   "..\..\..\include\hucc\core-startup.asm"
  132                        			include	"core-startup.asm"
    1                        	; ***************************************************************************
    2                        	; ***************************************************************************
    3                        	;
    4                        	; core-startup.asm
    5                        	;
    6                        	; The "CORE(not TM)" PC Engine library startup code that runs at boot/reset.
    7                        	;
    8                        	; Copyright John Brandwood 2021-2024.
    9                        	;
   10                        	; Distributed under the Boost Software License, Version 1.0.
   11                        	; (See accompanying file LICENSE_1_0.txt or copy at
   12                        	;  http://www.boost.org/LICENSE_1_0.txt)
   13                        	;
   14                        	; ***************************************************************************
   15                        	; ***************************************************************************
   16                        	;
   17                        	; This is the initialization code in the 1st bank, and it is responsible for
   18                        	; setting up a consistant runtime environment for the developer's program,
   19                        	; so that the developer can concentrate on writing the program itself.
   20                        	;
   21                        	; The idea is that when a program is loaded, the first 40KB of it is mapped
   22                        	; as $4000..$DFFF, and initialization starts at $4000, with the developer's
   23                        	; program getting control after initialization, with a jump to "core_main".
   24                        	;
   25                        	; The initializtion sets up a small kernel of code that provides interrupt
   26                        	; handling that mimics a subset of the System Card's behavior, designed to
   27                        	; act in the same way on HuCARD and CD-ROM, with either the System Card in
   28                        	; MPR7, or with an overlay in MPR7.
   29                        	;
   30                        	; The kernel handles reading the joypad/mouse, and it offers handler hooks
   31                        	; for running the developer's interrupt code.  On CD-ROM systems, it also
   32                        	; handles the loading and running of subsequent overlay programs.
   33                        	;
   34                        	; On HuCARD, the kernel itself runs in MPR7; while on CD-ROM systems it is
   35                        	; run from RAM in MPR1, so that overlay programs are independant from each
   36                        	; other, and can be written in different programming languages.
   37                        	;
   38                        	;
   39                        	; 1) If we're running on a HuCARD, the initialization is simple!
   40                        	;
   41                        	;    The PC Engine's memory map is set to ...
   42                        	;
   43                        	;      MPR0 = bank $FF : PCE hardware
   44                        	;      MPR1 = bank $F8 : PCE RAM with Stack & ZP
   45                        	;      MPR2 = bank $00 : HuCARD ROM
   46                        	;      MPR3 = bank $01 : HuCARD ROM
   47                        	;      MPR4 = bank $02 : HuCARD ROM
   48                        	;      MPR5 = bank $03 : HuCARD ROM
   49                        	;      MPR6 = bank $04 : HuCARD ROM
   50                        	;      MPR7 = bank $00 : HuCARD ROM
   51                        	;
   52                        	;
   53                        	; 2) If we're running on a HuCARD that supports the Turbo Everdrive, then the
   54                        	;    first 2 banks are reserved for mapping the TED2 hardware and a RAM bank.
   55                        	;
   56                        	;    The PC Engine's memory map is set to ...
   57                        	;
   58                        	;      MPR0 = bank $FF : PCE hardware
   59                        	;      MPR1 = bank $F8 : PCE RAM with Stack & ZP
   60                        	;      MPR2 = bank $02 : HuCARD ROM
   61                        	;      MPR3 = bank $03 : HuCARD ROM
   62                        	;      MPR4 = bank $04 : HuCARD ROM
   63                        	;      MPR5 = bank $05 : HuCARD ROM
   64                        	;      MPR6 = bank $06 : HuCARD ROM
   65                        	;      MPR7 = bank $02 : HuCARD ROM
   66                        	;
   67                        	;
   68                        	; 3) If we're running on an old CD System, the overlay is loaded from the ISO
   69                        	;    into banks $80-$87 (64KB max).
   70                        	;
   71                        	;    The PC Engine's memory map is set to ...
   72                        	;
   73                        	;      MPR0 = bank $FF : PCE hardware
   74                        	;      MPR1 = bank $F8 : PCE RAM with Stack & ZP
   75                        	;      MPR2 = bank $80 : CD RAM
   76                        	;      MPR3 = bank $81 : CD RAM
   77                        	;      MPR4 = bank $82 : CD RAM
   78                        	;      MPR5 = bank $83 : CD RAM
   79                        	;      MPR6 = bank $84 : CD RAM
   80                        	;      MPR7 = bank $80 : CD RAM or System Card's bank $00
   81                        	;
   82                        	;
   83                        	; 4) If we're running on a SuperCD System, the overlay is loaded from the ISO
   84                        	;    into banks $68-$87 (256KB max).
   85                        	;
   86                        	;    The PC Engine's memory map is set to ...
   87                        	;
   88                        	;      MPR0 = bank $FF : PCE hardware
   89                        	;      MPR1 = bank $F8 : PCE RAM with Stack & ZP
   90                        	;      MPR2 = bank $68 : SCD RAM
   91                        	;      MPR3 = bank $69 : SCD RAM
   92                        	;      MPR4 = bank $6A : SCD RAM
   93                        	;      MPR5 = bank $6B : SCD RAM
   94                        	;      MPR6 = bank $6C : SCD RAM
   95                        	;      MPR7 = bank $68 : SCD RAM or System Card's bank $00
   96                        	;
   97                        	; ***************************************************************************
   98                        	; ***************************************************************************
   99                        	
  100                        	
  101                        	
  102               E000     			.code
  103               0000     			.bank	0
  104                        	
  105               0000     		.if	SUPPORT_TED2			; Do we want to use a TED2?
  177                        		.endif	SUPPORT_TED2
  178                        	
  179                        	
  180                        	
  181               0001     		.if	USING_MPR7
  182                        	
  183                        	; ***************************************************************************
  184                        	; ***************************************************************************
  185                        	;
  186                        	; RESET VECTORS (when running in MPR7, either as a HuCARD, or a CD overlay)
  187                        	;
  188                        	
  189                        			; Hardware reset and interrupt vectors.
  190                        	
  191               FFF4     			.org	$FFF4
  192                        	
  193    00:FFF4  10         	core_version:	db	CORE_VERSION		; CORE(not TM) Version.
  194    00:FFF5  80         			db	$80			; System Card compatibility.
  195                        	
  196    00:FFF6  5D E0      			dw	core_irq2		; IRQ2	(from CD/ADPCM)
  197    00:FFF8  64 E0      			dw	core_irq1		; IRQ1	(from VDC)
  198    00:FFFA  58 E1      			dw	core_timer		; TIMER (from CPU)
  199    00:FFFC  5E E1      			dw	core_rti		; NMI	(unused)
  200               0000     		.if	CDROM
  202                        		.else
  203    00:FFFE  21 E0      			dw	core_hw_reset		; RESET (HuCARD)
  204                        		.endif	CDROM
  205                        	
  206               0001     		.if	USING_NEWPROC			; If the ".proc" trampolines
  207               FFF3     	__trampolineptr =	$FFF3			; are in MPR7, tell PCEAS to
  208                        		.endif					; put them below the vectors.
  209                        	
  210                        		.else	USING_MPR7
  222                        		.endif	USING_MPR7
  223                        	
  224                        	
  225                        	
  226                        	; ***************************************************************************
  227                        	; ***************************************************************************
  228                        	;
  229                        	; !!! THE HuCARD/OVERLAY PROGRAM'S FIRST BANK STARTS HERE !!!
  230                        	;
  231                        	
  232                        			; Switch to MPR2 for the "CORE(not TM)" library init.
  233                        			;
  234                        			; This is also executed by a HuCARD once it has run
  235                        			; its initial hardware-reset code.
  236                        			;
  237                        			; When run, MPR2-MPR6 are always mapped to the 1st 5 banks of
  238                        			; the overlay program, and MPR7 contains the System Card.
  239                        	
  240               4000     			.org	$4000
  241                        	
  242               0000     	CORE_BANK	=	bank(*) - _bank_base	; It isn't always zero! ;-)
  243                        	
  244               0000     			.bank	CORE_BANK, "CORE_BANK"	; Give it a label.
  245                        	
  246               0001     		.if	USING_MPR7
  247               0007     	CORE_PAGE	=	7			; User code runs in MPR7.
  248                        		.else
  250                        		.endif	USING_MPR7
  251                        	
  252    00:4000  4C 06 40   	core_boot:	jmp	* + 6			; Allow someone to patch this.
  253                        	
  254                        			; Add an ident string so isoLINK can autodetect configuration.
  255                        			;
  256                        			; This allows isoLINK to decide whether to use the IPL-SCD boot
  257                        			; sector hack, and whether to include a SuperGRAFX signature in
  258                        			; the boot sector, without the user having to manually use some
  259                        			; command line parameters, although they are free to do that if
  260                        			; they wish.
  261                        	
  262               0001     		.if	SUPPORT_SGX
  263               0000     		.if	BUILDING_STAGE1
  265                        		.else
  266    00:4003  53 47 58   			db	"SGX"			; SGX SuperCD or SGX HuCARD.
  267                        		.endif	BUILDING_STAGE1
  268                        		.else
  282                        		.endif	SUPPORT_SGX
  283                        	
  284               0000     		.if	CDROM
  331                        		.else	CDROM
  332                        	
  333                        			; Set up HuCARD RAM in a compatible way to the System Card.
  334                        			;
  335                        			; Note that the entire RAM is cleared by "core_hw_reset".
  336                        	
  337    00:4006  A9 1F      			lda	#%11111			; Enable joypad soft-reset.
  338    00:4008  8D 27 22   			sta	joyena
  339                        	
  340                        		.endif	CDROM
  341                        	
  342                        			; Now that RAM is initialized ...
  343                        	
  344    00:400B  43 04      			tma2				; Remember overlay's 1st bank
  345    00:400D  85 05      			sta	<core_1stbank		; $00, $02, $68 or $80!
  346               0001     		.if	USING_MPR7
  347    00:400F  53 80      			tam7				; "CORE(not TM)" takes MPR7!
  348                        		.endif
  349                        	
  350    00:4011  A2 FF      			ldx	#$FF			; Initialize stack pointer.
  351    00:4013  9A         			txs
  352                        	
  353    00:4014  20 5F E1   			jsr	core_clr_hooks		; Reset default hooks.
  354                        	
  355                        	;		stz	TIMER_CR		; Stop HuC6280 timer.
  356                        	;		stz	IRQ_ACK			; Clr HuC6280 timer interrupt.
  357                        	;		stz	IRQ_MSK			; Clr HuC6280 interrupt mask.
  358                        	
  359    00:4017  AD 00 02   			lda	VDC_SR			; Purge any overdue VBL.
  360    00:401A  9C 41 22   			stz	irq_cnt			; Make it easy to check.
  361    00:401D  58         			cli				; Restore interrupts.
  362                        	
  363    00:401E  4C E5 FF   			jmp	core_main		; Start the game's code.
  364                        	
  365                        	
  366                        	
  367               0001     		.if	!CDROM
  368                        	
  369                        	; ***************************************************************************
  370                        	; ***************************************************************************
  371                        	;
  372                        	; HuCARD Kernel Code
  373                        	;
  374                        	; core_ram1st - Start of code to relocate to MPR1.
  375                        	; core_ramend - End of code to relocate to MPR1.
  376                        	;
  377                        	
  378                        			; In a HuCARD, BSS variables start as low as possible.
  379                        	
  380               2200     			.bss
  381               22D0     			.org	core_ram1st
  382               22D0     	core_ramend	=	*
  383               4021     			.code
  384                        	
  385                        			; Normal HuCARD hardware-reset code, executed in MPR7.
  386                        			;
  387                        			; This does the basic PCE startup that every HuCARD (including
  388                        			; a System Card) needs to do, and then it remaps memory to be
  389                        			; compatible with the "CORE(not TM)" CD overlay program start.
  390                        	
  391               E021     			.page	7			; This will run in MPR7.
  392                        	
  393    00:E021  78         	core_hw_reset:	sei				; Disable interrupts.
  394    00:E022  D4         			csh				; Set high-speed mode.
  395    00:E023  D8         			cld
  396                        	
  397    00:E024  A2 FF      			ldx	#$FF			; Initialize stack pointer.
  398    00:E026  9A         			txs
  399    00:E027  8A         			txa				; MPR0 = $FF : PCE hardware
  400    00:E028  53 01      			tam0				; MPR1 = $F8 : PCE RAM
  401    00:E02A  A9 F8      			lda	#$F8
  402    00:E02C  53 02      			tam1
  403                        	
  404    00:E02E  9C 01 0C   			stz	TIMER_CR		; HW reset already does these,
  405    00:E031  9C 03 14   			stz	IRQ_ACK			; but this may be a reset from
  406    00:E034  9C 02 14   			stz	IRQ_MSK			; software (i.e. joypad).
  407                        	
  408    00:E037  F3 53 E0 00			tai	const_0000, $2000, 8192 ; Clear RAM.
         00:E03B  20 00 20    
  409                        	
  410    00:E03E  43 80      			tma7				; Not always bank 0!
  411                        	
  412    00:E040  53 04      			tam2				; Set CD-ROM overlay memory map,
  413    00:E042  1A         			inc	a			; 1st 5 banks in MPR2-MPR6.
  414    00:E043  53 08      			tam3
  415    00:E045  1A         			inc	a
  416    00:E046  53 10      			tam4
  417    00:E048  1A         			inc	a
  418    00:E049  53 20      			tam5
  419    00:E04B  1A         			inc	a
  420    00:E04C  53 40      			tam6
  421                        	
  422    00:E04E  4C 00 40   			jmp	core_boot		; Continue execution in MPR2.
  423                        	
  424                        			; In a HuCARD, the kernel code is permanently in MPR7.
  425                        	
                             #[5]   "..\..\..\include\hucc\core-kernel.asm"
  426                        			include "core-kernel.asm"
    1                        	; ***************************************************************************
    2                        	; ***************************************************************************
    3                        	;
    4                        	; core-kernel.asm
    5                        	;
    6                        	; The "CORE(not TM)" PC Engine library kernel code that runs after startup.
    7                        	;
    8                        	; Copyright John Brandwood 2021-2024.
    9                        	;
   10                        	; Distributed under the Boost Software License, Version 1.0.
   11                        	; (See accompanying file LICENSE_1_0.txt or copy at
   12                        	;  http://www.boost.org/LICENSE_1_0.txt)
   13                        	;
   14                        	; ***************************************************************************
   15                        	; ***************************************************************************
   16                        	;
   17                        	; This code is permanently located in either MPR7 (HuCARD), or MPR1 (CD-ROM),
   18                        	; and it provides a consistant method of interrupt-handling on both systems
   19                        	; that is designed to be compatible with the System Card.
   20                        	;
   21                        	; The library uses the "irq1_hook" for its own VDC interrupt handler, and PCE
   22                        	; developers are expected to use "vsync_hook" and "hsync_hook" for their VDC
   23                        	; interrupt functions.  Plenty of memory is available in the 1st bank for the
   24                        	; developer to put those functions.
   25                        	;
   26                        	; The reason for using "irq1_hook", is so that the library can work properly
   27                        	; if either the current overlay program, or the System Card, are mapped into
   28                        	; MPR7 whenever an interrupt occurs.
   29                        	;
   30                        	; The VDC interupt handler itself is changed from the System Card's handler,
   31                        	; and it is designed to provide faster response to vsync_hook, and to enable
   32                        	; interrupts during the slow(ish) joypad and sound driver code, so that both
   33                        	; raster and timer interrupts are not delayed.
   34                        	;
   35                        	; Developers are free to enable interrupts during their own vsync_hook code,
   36                        	; if they wish to do so.
   37                        	;
   38                        	; On CD-ROM systems, this library kernel also provides a function to load and
   39                        	; run a new overlay program, without relying upon any of the code/data within
   40                        	; the current overlay program's memory (unlike HuC v3).
   41                        	;
   42                        	; ***************************************************************************
   43                        	; ***************************************************************************
   44                        	
   45                        	
   46                        	
   47                        	; ***************************************************************************
   48                        	; ***************************************************************************
   49                        	;
   50                        	; core_kernel - Start of kernel code.
   51                        	;
   52                        	
   53               E051     	core_kernel	=	*
   54                        	
   55                        	
   56                        	
   57                        	; ***************************************************************************
   58                        	; ***************************************************************************
   59                        	;
   60                        	; Useful constants, needed by joypad library code, and used by many others.
   61                        	;
   62                        	; The kernel starts with a non-zero byte so that core-startup.asm can check
   63                        	; whether it has already been loaded into RAM.
   64                        	;
   65                        	
   66    00:E051  FF FF      	const_FFFF:	dw	$FFFF			; Useful constant for TAI.
   67    00:E053  00 00      	const_0000:	dw	$0000			; Useful constant for TAI.
   68                        	
   69    00:E055  01 02 04 08	bit_mask:	db	$01,$02,$04,$08,$10,$20,$40,$80
         00:E059  10 20 40 80 
   70                        	
   71                        	
   72                        	
   73                        	; ***************************************************************************
   74                        	; ***************************************************************************
   75                        	;
   76                        	; core_irq2  - Minimal interrupt handler compatible with System Card.
   77                        	; core_irq1  - Minimal interrupt handler compatible with System Card.
   78                        	; core_timer - Minimal interrupt handler compatible with System Card.
   79                        	; core_rti   - Minimal interrupt handler compatible with System Card.
   80                        	;
   81                        	; Note that it takes 8 cycles to respond to an IRQ.
   82                        	;
   83                        	; These routines are copied to a location in RAM that does not vary when
   84                        	; a different overlay program is loaded.
   85                        	;
   86                        	; All overlay programs are set up to vector interrupts to these routines,
   87                        	; which is designed to avoid interrupt-related crashes when loading a new
   88                        	; overlay on top of an old overlay in memory.
   89                        	;
   90                        	; All of the game's actual interrupt handling itself is done in the "hook"
   91                        	; functions so that everything works the same if the System Card is banked
   92                        	; into MPR7 when an interrupt occurs.
   93                        	;
   94                        	; ***************************************************************************
   95                        	; ***************************************************************************
   96                        	;
   97                        	; Bit settings for irq_vec  ...
   98                        	;
   99                        	;   7 : 1 to skip BIOS hsync processsing
  100                        	;   6 : 1 to call [hsync_hook]
  101                        	;   5 : 1 to skip BIOS vsync processsing
  102                        	;   4 : 1 to call [vsync_hook]
  103                        	;
  104                        	;   3 : 1 to jump [nmi_hook]
  105                        	;   2 : 1 to jump [timer_hook]
  106                        	;   1 : 1 to jump [irq1_hook]
  107                        	;   0 : 1 to jump [irq2_hook]
  108                        	;
  109                        	; ***************************************************************************
  110                        	; ***************************************************************************
  111                        	
  112    00:E05D  8F F5 01   	core_irq2:	bbs0	<irq_vec, .hook		; 8 cycles if using hook.
  113                        	
  114               0000     		.if	CDROM
  138                        		.else
  139                        			; Does this HuCARD support the IFU's ADPCM hardware?
  140                        	
  141               0000     		.if	SUPPORT_ADPCM
  153                        		.endif	SUPPORT_ADPCM
  154                        	
  155    00:E060  40         			rti				; No IRQ2 hardware on HuCARD.
  156                        	
  157    00:E061  6C 00 22   	.hook:		jmp	[irq2_hook]		; 7 cycles.
  158                        		.endif	CDROM
  159                        	
  160                        	
  161                        	
  162                        	; ***************************************************************************
  163                        	; ***************************************************************************
  164                        	;
  165                        	; core_irq1 - Minimal interrupt handler compatible with System Card.
  166                        	;
  167                        	; irq1_handler - Basic "CORE(not TM)" IRQ1 handler to use as the "irq1_hook".
  168                        	;
  169                        	; Doing the IRQ1 handler processing in this hook means that things operate
  170                        	; the same whether the System Card or an Overlay is paged into MPR7.
  171                        	
  172               0000     		.ifndef	HUCC
  181                        		.else
  182                        			; Faster IRQ servicing for HuCC and code that would like to
  183                        			; avoid the 8 cycles used by the "bbs1" instruction that is
  184                        			; taken when the System Card is mapped into MPR7.
  185                        	
  186    00:E064             	core_irq1:	;;;				; 8 (cycles for the INT)
  187               0001     		.if	CDROM || !defined(NO_CORE_IRQ1_HOOK)
  188    00:E064  6C 02 22   			jmp	[irq1_hook]		; 7 cycles.
  189                        	
  190                        		.endif
  191                        		.endif
  192                        	
  193    00:E067  48         	irq1_handler:	pha				; 3 Save all registers.
  194    00:E068  DA         			phx				; 3
  195    00:E069  5A         			phy				; 3
  196                        	
  197               0000     		.ifndef	USING_RCR_MACROS		;   This slows things down
  206                        		.endif	USING_RCR_MACROS
  207                        	
  208    00:E06A  AD 00 02   			lda	VDC_SR			; 6 Acknowledge the VDC's IRQ.
  209    00:E06D  85 F6      			sta	<vdc_sr			; 4 Remember what caused it.
  210                        	
  211               0001     		.if	SUPPORT_SGX
  212    00:E06F  AE 10 02   			ldx	SGX_SR			; 6 Read SGX_SR after VDC_SR in
  213    00:E072  86 06      			stx	<sgx_sr			; 4 case this is not an SGX!
  214                        		.endif
  215                        	
  216                        			; Handle the VDC's RCR interrupt.
  217                        	
  218    00:E074  29 04      	!:		and	#$04			; 2 Is this an HSYNC interrupt?
  219    00:E076  F0 44      			beq	!+			; 2
  220                        	
  221               0001     		.ifdef	USING_RCR_MACROS
  222                        			VDC_RCR_MACRO
                             	
         00:E078  03 06      			st0	#VDC_RCR		; 5
                             	
         00:E07A  AE 73 27   			ldx	vdc_next_region		; 5 X and Y can be greater than
         00:E07D  BC 74 27   			ldy	vdc_regionA_nxt, x	; 5 HUCC_PCE_SPLITS if regionB!
         00:E080  18         			clc				; 2
         00:E081  D0 05      			bne	!set_next_rcr+		; 4 Stop RCR if next line is 0.
                             	
         00:E083  2D 53 E0   			and	const_0000		; 5 A=$00 with the same #cycles
         00:E086  80 05      			bra	!clr_next_rcr+		; 4 as if the branch were taken.
                             	
         00:E088  B9 23 27   	!set_next_rcr:	lda	vdc_regionA_rcr, y	; 5 Set next RCR 1 line before
         00:E08B  69 3F      			adc	#64-1			; 2 the region begins, or 0 to
         00:E08D  8D 02 02   	!clr_next_rcr:	sta	VDC_DL			; 6 disable.
         00:E090  62         			cla				; 2
         00:E091  2A         			rol	a			; 2
         00:E092  8D 03 02   			sta	VDC_DH			; 6
                             	
         00:E095  03 08      			st0	#VDC_BYR		; 5 Do BYR first to mitigate the
         00:E097  BD 53 27   			lda	vdc_regionA_yl, x	; 5 glitch if the IRQ is delayed.
         00:E09A  8D 02 02   			sta	VDC_DL			; 6 = 105 cycles from RCR on SGX
         00:E09D  BD 63 27   			lda	vdc_regionA_yh, x	; 5
         00:E0A0  8D 03 02   			sta	VDC_DH			; 6
                             	
         00:E0A3  03 05      			st0	#VDC_CR			; 5
         00:E0A5  BD 13 27   			lda	vdc_regionA_crl, x	; 5
                             	;		asl	a
         00:E0A8  8D 02 02   			sta	VDC_DL			; 6
                             	
         00:E0AB  03 07      			st0	#VDC_BXR		; 2
         00:E0AD  BD 33 27   			lda	vdc_regionA_xl, x	; 5
         00:E0B0  8D 02 02   			sta	VDC_DL			; 6
         00:E0B3  BD 43 27   			lda	vdc_regionA_xh, x	; 5
         00:E0B6  8D 03 02   			sta	VDC_DH			; 6 = 156 cycles from RCR if DUO
                             	
                             	;		bcc	!+
                             	;		lda	vdc_regionA_yh, x	; 5
                             	;		sta.l	VCE_CTW			; 6
                             	
         00:E0B9  8C 73 27   			sty	vdc_next_region		; 5
                             	
  223                        		.else
  225                        		.endif
  226                        	
  227               0001     		.if	SUPPORT_SGX
  228                        	
  229                        			; Handle the SGX's RCR interrupt.
  230                        	
  231    00:E0BC  2F 06 50   	!:		bbr2	<sgx_sr, !+		; 6 Is this an HSYNC interrupt?
  232                        	
  233               0001     		.ifdef	USING_RCR_MACROS
  234                        			SGX_RCR_MACRO
                             	
         00:E0BF  A9 06      			lda	#VDC_RCR		; 2
         00:E0C1  8D 10 02   			sta	SGX_AR			; 6
                             	
         00:E0C4  AE F4 27   			ldx	sgx_next_region		; 5 X and Y can be greater than
         00:E0C7  BC F5 27   			ldy	sgx_regionA_nxt, x	; 5 HUCC_SGX_SPLITS if regionB!
         00:E0CA  18         			clc				; 2
         00:E0CB  D0 05      			bne	!set_next_rcr+		; 4 Stop RCR if next line is 0.
                             	
         00:E0CD  2D 53 E0   			and	const_0000		; 5 A=$00 with the same #cycles
         00:E0D0  80 05      			bra	!clr_next_rcr+		; 4 as if the branch were taken.
                             	
         00:E0D2  B9 A4 27   	!set_next_rcr:	lda	sgx_regionA_rcr, y	; 5 Set next RCR 1 line before
         00:E0D5  69 3F      			adc	#64-1			; 2 the region begins, or 0 to
         00:E0D7  8D 12 02   	!clr_next_rcr:	sta	SGX_DL			; 6 disable.
         00:E0DA  62         			cla				; 2
         00:E0DB  2A         			rol	a			; 2
         00:E0DC  8D 13 02   			sta	SGX_DH			; 6
                             	
         00:E0DF  A9 08      			lda	#VDC_BYR		; 2 Do BYR first to mitigate the
         00:E0E1  8D 10 02   			sta	SGX_AR			; 6 glitch if the IRQ is delayed.
         00:E0E4  BD D4 27   			lda	sgx_regionA_yl, x	; 5
         00:E0E7  8D 12 02   			sta	SGX_DL			; 6
         00:E0EA  BD E4 27   			lda	sgx_regionA_yh, x	; 5
         00:E0ED  8D 13 02   			sta	SGX_DH			; 6
                             	
         00:E0F0  A9 05      			lda	#VDC_CR			; 2
         00:E0F2  8D 10 02   			sta	SGX_AR			; 6
         00:E0F5  BD 94 27   			lda	sgx_regionA_crl, x	; 5
         00:E0F8  8D 12 02   			sta	SGX_DL			; 6
                             	
         00:E0FB  A9 07      			lda	#VDC_BXR		; 2
         00:E0FD  8D 10 02   			sta	SGX_AR			; 6
         00:E100  BD B4 27   			lda	sgx_regionA_xl, x	; 5
         00:E103  8D 12 02   			sta	SGX_DL			; 6
         00:E106  BD C4 27   			lda	sgx_regionA_xh, x	; 5
         00:E109  8D 13 02   			sta	SGX_DH			; 6 = 293 cycles (282 if no YH)
                             	
         00:E10C  8C F4 27   			sty	sgx_next_region		; 5
                             	
  235                        		.else
  237                        		.endif
  238                        	
  239                        		.endif	SUPPORT_SGX
  240                        	
  241                        			; Handle the VDC's VBL interrupt.
  242                        	
  243    00:E10F  5F F6 32   	!:		bbr5	<vdc_sr, .exit_irq1	; 6 Is this a VBLANK interrupt?
  244                        	
  245               0001     		.ifdef	USING_RCR_MACROS		;   If we didn't do it earlier
  246               0000     		.if	CDROM				;   then we need to do it now.
  253                        		.endif	CDROM
  254                        		.endif	USING_RCR_MACROS
  255                        	
  256               0001     		.if	SUPPORT_SGX
  257    00:E112  A9 05      			lda	#VDC_CR			; Update the SGX's Control
  258    00:E114  8D 10 02   			sta	SGX_AR			; Register first, just in
  259    00:E117  8D 00 02   			sta	VDC_AR			; case this is not an SGX!
  260    00:E11A  A5 03      			lda	<sgx_crl		
  261    00:E11C  8D 12 02   			sta	SGX_DL
  262    00:E11F  A5 F3      			lda	<vdc_crl
  263    00:E121  8D 02 02   			sta	VDC_DL
  264                        	
  265                        	;		lda	<sgx_crh		; Do not mess with the SGX's
  266                        	;		sta	SGX_DH			; auto-increment!!!
  267                        	;		lda	<vdc_crh		; Do not mess with the VDC's
  268                        	;		sta	VDC_DH			; auto-increment!!!
  269                        		.else
  277                        		.endif	SUPPORT_SGX
  278                        	
  279    00:E124  EE 41 22   			inc	irq_cnt			; Mark that a VBLANK occurred.
  280                        	
  281    00:E127  4F F5 02   			bbr4	<irq_vec, .skip_hookv	; Is a driver registered?
  282                        	
  283    00:E12A  44 26      			bsr	.user_vsync		; Call game's VBLANK code.
  284                        	
  285    00:E12C  DF F5 15   	.skip_hookv:	bbs5	<irq_vec, .exit_vbl	; Should we skip "BIOS" stuff?
  286                        	
  287    00:E12F  58         			cli				; Allow HSYNC and TIMER IRQ.
  288                        	
  289    00:E130  20 DB FF   			call	read_joypads		; Update joypad state.
  290                        	
  291               0000     		.if	USING_PSGDRIVER
  305                        		.else
  306    00:E133  AD 07 22   			lda	sound_hook + 1		; Is a driver registered?
  307    00:E136  F0 0C      			beq	.exit_vbl
  308                        	
  309    00:E138  A9 80      			lda	#$80			; Acquire sound mutex to avoid
  310    00:E13A  0C E7 22   			tsb	sound_mutex		; conflict with a delayed VBL.
  311    00:E13D  30 05      			bmi	.exit_vbl
  312                        	
  313    00:E13F  44 14      			bsr	.user_sound		; Call the driver hook.
  314                        	
  315    00:E141  9C E7 22   			stz	sound_mutex		; Release sound mutex.
  316                        		.endif	USING_PSGDRIVER
  317                        	
  318    00:E144             	.exit_vbl:
  319                        	
  320               0001     		.ifdef	USING_RCR_MACROS		; If USING_RCR_MACROS then 
  321               0000     		.if	CDROM				; restore after the VBLANK.
  326                        		.endif	CDROM
  327                        		.endif	USING_RCR_MACROS
  328                        	
  329    00:E144             	.exit_irq1:
  330                        	
  331               0000     		.ifndef	USING_RCR_MACROS		; If !USING_RCR_MACROS then
  338                        		.endif	USING_RCR_MACROS
  339                        	
  340               0001     		.if	SUPPORT_SGX
  341    00:E144  A5 07      			lda	<sgx_reg		; Restore SGX_AR first, just
  342    00:E146  8D 10 02   			sta	SGX_AR			; in case this is not an SGX!
  343                        		.endif
  344                        	
  345    00:E149  A5 F7      			lda	<vdc_reg		; Restore VDC_AR in case we
  346    00:E14B  8D 00 02   			sta	VDC_AR			; changed it.
  347                        	
  348    00:E14E  7A         			ply				; Restore all registers.
  349    00:E14F  FA         			plx
  350    00:E150  68         			pla
  351                        	
  352    00:E151  40         			rti				; Return from interrupt.
  353                        	
  354    00:E152  6C 08 22   	.user_vsync:	jmp	[vsync_hook]		; 7
  355    00:E155  6C 06 22   	.user_sound:	jmp	[sound_hook]		; 7
  356                        	
  357               0000     		.ifndef	USING_RCR_MACROS
  362                        		.endif	USING_RCR_MACROS
  363                        	
  364                        	
  365                        	
  366                        	; ***************************************************************************
  367                        	; ***************************************************************************
  368                        	;
  369                        	; core_timer - Minimal interrupt handler compatible with System Card.
  370                        	;
  371                        	; tirq_handler - Basic "CORE(not TM)" TIRQ handler to use as the "timer_hook".
  372                        	;
  373                        	; Doing the TIRQ handler processing in this hook means that things operate
  374                        	; the same whether the System Card or an Overlay is paged into MPR7.
  375                        	
  376               0000     		.ifndef	HUCC
  385                        		.else
  386                        			; Faster IRQ servicing for HuCC and code that would like to
  387                        			; avoid the 8 cycles used by the "bbs2" instruction that is
  388                        			; taken when the System Card is mapped into MPR7.
  389                        	
  390    00:E158             	core_timer:	;;;				; 8 (cycles for the INT)
  391               0001     		.if	CDROM || !defined(NO_CORE_TIRQ_HOOK)
  392    00:E158  6C 04 22   			jmp	[timer_hook]		; 7 cycles.
  393                        		.endif
  394                        		.endif
  395                        	
  396    00:E15B             	tirq_handler:
  397               0000     		.ifdef	USING_TIRQ_MACRO
  399                        		.else
  400    00:E15B  9C 03 14   			stz	IRQ_ACK			; 5 Clear timer interrupt.
  401                        		.endif
  402                        	
  403    00:E15E  40         	core_rti:	rti
  404                        	
  405                        	
  406                        	
  407                        	; ***************************************************************************
  408                        	; ***************************************************************************
  409                        	;
  410                        	; core_clr_hooks - Reset default "CORE(not TM)" interrupt-handling hooks.
  411                        	;
  412                        	
  413    00:E15F  08         	core_clr_hooks:	php				; Preserve interrupt state.
  414    00:E160  78         			sei				; Disable interrupts.
  415                        	
  416               0000     		.if	USING_PSGDRIVER
  419                        		.else
  420    00:E161  9C 07 22   			stz.h	sound_hook		; Disable sound driver calls.
  421                        		.endif
  422                        	
  423    00:E164  A9 88      			lda	#<core_sw_reset		; Set up the soft-reset hook.
  424    00:E166  8D 84 22   			sta.l	reset_hook
  425    00:E169  A9 E1      			lda	#>core_sw_reset
  426    00:E16B  8D 85 22   			sta.h	reset_hook
  427                        	
  428    00:E16E  A9 67      			lda	#<irq1_handler		; Set up the IRQ1 hook.
  429    00:E170  8D 02 22   			sta.l	irq1_hook
  430    00:E173  A9 E0      			lda	#>irq1_handler
  431    00:E175  8D 03 22   			sta.h	irq1_hook
  432                        	
  433    00:E178  A9 5B      			lda	#<tirq_handler		; Set up the TIRQ hook.
  434    00:E17A  8D 04 22   			sta.l	timer_hook
  435    00:E17D  A9 E1      			lda	#>tirq_handler
  436    00:E17F  8D 05 22   			sta.h	timer_hook
  437                        	
  438    00:E182  A9 06      			lda	#%00000110		; Replace the System Card's
  439    00:E184  85 F5      			sta	<irq_vec		; IRQ1 and TIRQ processing.
  440                        	
  441    00:E186  28         			plp				; Restore interrupt state.
  442    00:E187  60         			rts
  443                        	
  444                        	
  445                        	
  446                        	; ***************************************************************************
  447                        	; ***************************************************************************
  448                        	;
  449                        	; Include the joypad library, with configuration from "core-config.inc".
  450                        	;
  451                        	
                             #[6]   "..\..\..\include\hucc\joypad.asm"
  452                        			include "joypad.asm"
    1                        	; ***************************************************************************
    2                        	; ***************************************************************************
    3                        	;
    4                        	; joypad.asm
    5                        	;
    6                        	; Read 2-button & 6-button joypads & PCE mouse, with or without a MultiTap.
    7                        	;
    8                        	; Copyright John Brandwood 2019-2025.
    9                        	;
   10                        	; Distributed under the Boost Software License, Version 1.0.
   11                        	; (See accompanying file LICENSE_1_0.txt or copy at
   12                        	;  http://www.boost.org/LICENSE_1_0.txt)
   13                        	;
   14                        	; ***************************************************************************
   15                        	; ***************************************************************************
   16                        	;
   17                        	; Unlike Lemmings, this code does not interfere with a Memory Base 128! ;-)
   18                        	;
   19                        	; ***************************************************************************
   20                        	; ***************************************************************************
   21                        	;
   22                        	; With SUPPORT_MOUSE ..... 2602 cycles to read 5 ports with 5 mice
   23                        	;
   24                        	; With HuC library code .. 2442 cycles to read 5 ports with 5 pads (2-button)
   25                        	; With HuC library code .. 2442 cycles to read 5 ports with 5 pads (6-button)
   26                        	;
   27                        	; With SUPPORT_MOUSE ....  2016 cycles to read 5 ports with 5 pads (2-button)
   28                        	; With SUPPORT_MOUSE ..... 1976 cycles to read 5 ports with 5 pads (6-button)
   29                        	;
   30                        	; With SUPPORT_MOUSE ....  1618 cycles to read 3 ports with 3 mice
   31                        	; With SUPPORT_MOUSE ..... 1462 cycles to read 3 ports with 2 mice
   32                        	; With SUPPORT_MOUSE ..... 1306 cycles to read 3 ports with 1 mouse
   33                        	;
   34                        	; With SUPPORT_6BUTTON ... 1235 cycles to read 5 ports with 5 pads (2-button)
   35                        	; With SUPPORT_6BUTTON ... 1215 cycles to read 5 ports with 5 pads (6-button)
   36                        	;
   37                        	; With SUPPORT_MOUSE ..... 1126 cycles to read 2 ports with 2 mice
   38                        	; With SUPPORT_MOUSE ...... 970 cycles to read 2 ports with 1 mouse
   39                        	;
   40                        	; Only SUPPORT_2BUTTON .... 971 cycles to read 5 ports with 5 pads (2-button)
   41                        	; Only SUPPORT_2BUTTON .... 861 cycles to read 5 ports with 5 pads (6-button)
   42                        	;
   43                        	; With SUPPORT_MOUSE ...... 634 cycles to read 1 port  with 1 mouse
   44                        	;
   45                        	; ***************************************************************************
   46                        	; ***************************************************************************
   47                        	
  142                        	
  143                        	;
  144                        	; Now choose which version of the code to include.
  145                        	;
  146                        	
  147               0000     		.if	SUPPORT_2BUTTON
  278                        		.endif	SUPPORT_2BUTTON
  279                        	
  280                        	
  281                        	
  282               0000     		.if	SUPPORT_MOUSE
  845                        		.else	SUPPORT_MOUSE
  846                        	
  847                        	
  848                        	
  849               0001     		.if	SUPPORT_6BUTTON			; Without mouse!
  850                        	
  851                        	; ***************************************************************************
  852                        	; ***************************************************************************
  853                        	;
  854                        	; read_joypads - full 6-button pad support, but mouse movement is ignored.
  855                        	;
  856                        	; This code distinguishes between a mouse and a 2-button or 6-button joypad,
  857                        	; so that unsupported devices do not have to be unplugged from the MultiTap.
  858                        	;
  859                        	; The code loops two times to get both sets of buttons on a 6-button joypad.
  860                        	;
  861                        	; N.B. Takes approx 1/3 frame to detect mice the first time it is run.
  862                        	;
  863                        	; bit values for joypad 2-button bytes: (MSB = #7; LSB = #0)
  864                        	; ----------------------------------------------------------
  865                        	; bit 0 (ie $01) = I
  866                        	; bit 1 (ie $02) = II
  867                        	; bit 2 (ie $04) = SELECT
  868                        	; bit 3 (ie $08) = RUN
  869                        	; bit 4 (ie $10) = UP
  870                        	; bit 5 (ie $20) = RIGHT
  871                        	; bit 6 (ie $40) = DOWN
  872                        	; bit 7 (ie $80) = LEFT
  873                        	;
  874                        	; bit values for joypad 6-button bytes: (MSB = #7; LSB = #0)
  875                        	; ----------------------------------------------------------
  876                        	; bit 0 (ie $01) = III
  877                        	; bit 1 (ie $02) = IV
  878                        	; bit 2 (ie $04) = V
  879                        	; bit 3 (ie $08) = VI
  880                        	; bit 4 (ie $10) = zero
  881                        	; bit 5 (ie $20) = zero
  882                        	; bit 6 (ie $40) = zero
  883                        	; bit 7 (ie $80) = zero, but set to one if 6-button pad detected.
  884                        	;
  885                        	
  886               E188     			.code
  887                        	
  888               0001     		.if	(* >= $4000)			; Make this a ".proc" if it
  889    1D:DED7             	read_joypads	.proc                           ; not running in RAM.
  890                        		.else
  892                        		.endif
  893                        	
  894    1D:DED7  A9 80      			lda	#$80			; Acquire port mutex to avoid
  895    1D:DED9  0C D0 22   			tsb	port_mutex		; conflict with a delayed VBL
  896    1D:DEDC  30 75      			bmi	.exit			; or access to an MB128.
  897                        	
  898    1D:DEDE  73 28 22 32			tii	joynow,joyold,MAX_PADS	; Save the previous values.
         1D:DEE2  22 05 00    
  899    1D:DEE5  73 D3 22 D8			tii	joy6now,joy6old,MAX_PADS
         1D:DEE9  22 05 00    
  900                        	
  901                        			; Reset the 6-btn bits, the user might change the joypad mode!
  902                        	
  903    1D:DEEC  F3 53 E0 D3			tai	const_0000, joy6now, MAX_PADS
         1D:DEF0  22 05 00    
  904                        	
  905                        			; Detect attached mice the first time this routine is called.
  906                        	
  907    1D:DEF3  AD D2 22   			lda	mouse_flg		; Has mouse detection happened?
  908    1D:DEF6  30 28      			bmi	.calc_pressed
  909                        	
  910    1D:DEF8  A9 05      			lda	#MAX_PADS		; Reset number of pads to read.
  911    1D:DEFA  8D D1 22   			sta	num_ports
  912                        	
  913    1D:DEFD  A9 1F      			lda	#%00011111		; Try reading everything as a
  914    1D:DEFF  8D D2 22   			sta	mouse_flg		; mouse.
  915                        	
  916    1D:DF02  A0 17      			ldy	#23			; Initialize repeat count.
  917    1D:DF04  A9 80      			lda	#$80			; Initialize mouse detection.
  918    1D:DF06  5A         	.detect_loop:	phy
  919    1D:DF07  48         			pha
  920    1D:DF08  44 53      			bsr	.read_devices		; Read all devices as if mice.
  921    1D:DF0A  68         			pla
  922    1D:DF0B  82         			clx
  923    1D:DF0C  BC E2 22   	.detect_port:	ldy	mouse_x, x		; A movement of zero means
  924    1D:DF0F  D0 03      			bne	.detect_next		; this port is a mouse.
  925    1D:DF11  1D 55 E0   			ora	bit_mask, x
  926    1D:DF14  E8         	.detect_next:	inx				; Get the next pad from the
  927    1D:DF15  E0 05      			cpx	#MAX_PADS		; multitap.
  928    1D:DF17  D0 F3      			bne	.detect_port
  929    1D:DF19  7A         			ply				; Repeat the detection test.
  930    1D:DF1A  88         			dey
  931    1D:DF1B  D0 E9      			bne	.detect_loop
  932                        	
  933                        	;	.if	DETECT_PHANTOMS
  934                        	;		cmp	#(1 << MAX_PADS) + 127	; If we find a mouse in every
  935                        	;		bne	.detect_done		; port, then assume mirrored!
  936                        	;		lda	#1			; Report a single mouse in a
  937                        	;		sta	num_ports		; single port.
  938                        	;		lda	#$81
  939                        	;	.endif
  940                        	
  941    1D:DF1D  8D D2 22   	.detect_done:	sta	mouse_flg		; Report mouse detection.
  942                        	
  943                        			; See what has just been pressed, and check for soft-reset.
  944                        	
  945    1D:DF20  44 3B      	.calc_pressed:	bsr	.read_devices		; Read all devices normally.
  946                        	
  947    1D:DF22  A2 04      			ldx	#MAX_PADS - 1
  948                        	
  949    1D:DF24  BD D3 22   	.pressed_loop:	lda	joy6now, x		; Calc which buttons have just
  950    1D:DF27  5D D8 22   			eor	joy6old, x		; been pressed (6-button).
  951    1D:DF2A  3D D3 22   			and	joy6now, x
  952               0000     		.if	HUC_JOY_EVENTS
  956                        		.else
  957               0000     		.if	ACCUMULATE_JOY
  959                        		.endif
  960    1D:DF2D  9D DD 22   			sta	joy6trg, x
  961                        		.endif
  962                        	
  963    1D:DF30  BD 28 22   			lda	joynow, x		; Calc which buttons have just
  964    1D:DF33  A8         			tay                             ; been pressed (2-button).
  965    1D:DF34  5D 32 22   			eor	joyold, x
  966    1D:DF37  3D 28 22   			and	joynow, x
  967               0000     		.if	HUC_JOY_EVENTS
  971                        		.else
  972               0000     		.if	ACCUMULATE_JOY
  974                        		.endif
  975    1D:DF3A  9D 2D 22   			sta	joytrg, x
  976                        		.endif
  977                        	
  978    1D:DF3D  C9 04      			cmp	#$04			; Detect the soft-reset combo,
  979    1D:DF3F  D0 0C      			bne	.not_reset		; hold RUN then press SELECT.
  980    1D:DF41  C0 0C      			cpy	#$0C
  981    1D:DF43  D0 08      			bne	.not_reset
  982    1D:DF45  BD 55 E0   			lda	bit_mask, x
  983    1D:DF48  2C 27 22   			bit	joyena
  984    1D:DF4B  D0 09      			bne	.soft_reset
  985                        	
  986    1D:DF4D  CA         	.not_reset:	dex				; Check the next pad from the
  987    1D:DF4E  10 D4      			bpl	.pressed_loop		; multitap.
  988                        	
  989    1D:DF50  9C D0 22   			stz	port_mutex		; Release port mutex.
  990                        	
  991               0001     		.if	(* >= $4000)			; This is a ".proc" if it is
  992                        	.exit:		leave                           ; not running in RAM.
         1D:DF53  4C EF FF   			jmp	leave_proc
  993                        		.else
  995                        		.endif
  996                        	
  997    1D:DF56  78         	.soft_reset:	sei				; Disable interrupts.
  998    1D:DF57  9C D0 22   			stz	port_mutex		; Release port mutex.
  999    1D:DF5A  6C 84 22   			jmp	[reset_hook]		; Jump to the soft-reset hook.
 1000                        	
 1001                        			; Read all of the devices attached to the MultiTap.
 1002                        	
 1003    1D:DF5D  A2 02      	.read_devices:	ldx	#2			; Repeat this loop 2 times.
 1004                        	
 1005    1D:DF5F  A9 01      	.read_multitap:	lda	#$01			; CLR lo, SEL hi for d-pad.
 1006    1D:DF61  8D 00 10   			sta	IO_PORT
 1007    1D:DF64  A9 03      			lda	#$03			; CLR hi, SEL hi, reset tap.
 1008    1D:DF66  8D 00 10   			sta	IO_PORT
 1009    1D:DF69  C2         			cly				; Start at port 1.
 1010                        	
 1011    1D:DF6A  A9 01      	.read_port:	lda	#$01			; CLR lo, SEL hi for d-pad.
 1012    1D:DF6C  8D 00 10   			sta	IO_PORT			; Wait 1.25us (9 cycles).
 1013                        	
 1014    1D:DF6F  B9 55 E0   			lda	bit_mask, y		; Is there a mouse attached?
 1015    1D:DF72  2D D2 22   			and	mouse_flg
 1016    1D:DF75  D0 33      			bne	.read_mouse
 1017                        	
 1018    1D:DF77  AD 00 10   	.read_pad:	lda	IO_PORT			; Read direction-pad bits.
 1019    1D:DF7A  9C 00 10   			stz	IO_PORT			; CLR lo, SEL lo for buttons.
 1020    1D:DF7D  0A         			asl	a			; Wait 1.25us (9 cycles).
 1021    1D:DF7E  0A         			asl	a
 1022    1D:DF7F  0A         			asl	a
 1023    1D:DF80  0A         			asl	a
 1024    1D:DF81  F0 1B      			beq	.read_6button		; 6-btn pad if UDLR all held.
 1025                        	
 1026    1D:DF83  99 28 22   	.read_2button:	sta	joynow, y		; Get buttons of 2-btn pad.
 1027    1D:DF86  AD 00 10   			lda	IO_PORT
 1028    1D:DF89  29 0F      			and	#$0F
 1029    1D:DF8B  19 28 22   			ora	joynow, y
 1030    1D:DF8E  49 FF      			eor	#$FF
 1031    1D:DF90  99 28 22   			sta	joynow, y
 1032                        	
 1033    1D:DF93  C8         	.next_port:	iny				; Get the next pad from the
 1034    1D:DF94  CC D1 22   			cpy	num_ports		; multitap.
 1035    1D:DF97  90 D1      			bcc	.read_port
 1036                        	
 1037    1D:DF99  CA         			dex				; Do the next complete pass.
 1038    1D:DF9A  CA         			dex
 1039    1D:DF9B  10 C2      			bpl	.read_multitap		; Have we finished 2 passes?
 1040    1D:DF9D  60         			rts				; Now that everything is read.
 1041                        	
 1042    1D:DF9E  AD 00 10   	.read_6button:	lda	IO_PORT			; Get buttons of 6-btn pad.
 1043    1D:DFA1  29 0F      			and	#$0F
 1044    1D:DFA3  49 8F      			eor	#$8F			; Set bit-7 to show that a
 1045    1D:DFA5  99 D3 22   			sta	joy6now, y		; 6-button pad is present.
 1046    1D:DFA8  80 E9      			bra	.next_port
 1047                        	
 1048    1D:DFAA  7C DB DF   	.read_mouse:	jmp	[.mouse_vectors, x]	; Which mouse info is next?
 1049                        	
 1050                        			; Mouse processing, normally four passes, here just two.
 1051                        	
 1052    1D:DFAD  A9 1C      	.mouse_x_hi:	lda	#28			; 189 cycle delay after CLR lo
 1053    1D:DFAF  3A         	.wait_loop:	dec	a			; on port to allow the mouse
 1054    1D:DFB0  D0 FD      			bne	.wait_loop		; to buffer and reset counters.
 1055                        	
 1056    1D:DFB2  AD 00 10   			lda	IO_PORT			; Read direction-pad bits.
 1057    1D:DFB5  9C 00 10   			stz	IO_PORT			; CLR lo, SEL lo for buttons.
 1058    1D:DFB8  0A         			asl	a			; Wait 1.25us (9 cycles).
 1059    1D:DFB9  0A         			asl	a
 1060    1D:DFBA  0A         			asl	a
 1061    1D:DFBB  0A         			asl	a
 1062    1D:DFBC  99 E2 22   			sta	mouse_x, y		; Save port's X-hi nibble.
 1063                        	
 1064    1D:DFBF  AD 00 10   			lda	IO_PORT			; Get mouse buttons.
 1065    1D:DFC2  29 0F      			and	#$0F
 1066    1D:DFC4  49 0F      			eor	#$0F
 1067    1D:DFC6  99 28 22   			sta	joynow, y
 1068    1D:DFC9  80 C8      			bra	.next_port
 1069                        	
 1070    1D:DFCB  AD 00 10   	.mouse_x_lo:	lda	IO_PORT			; Read direction-pad bits.
 1071    1D:DFCE  9C 00 10   			stz	IO_PORT			; CLR lo, SEL lo for buttons.
 1072    1D:DFD1  29 0F      			and	#$0F			; Wait 1.25us (9 cycles).
 1073    1D:DFD3  19 E2 22   			ora	mouse_x, y		; Add port's X-hi nibble.
 1074                        	;		eor	#$FF			; Negate so LEFT is -ve.
 1075                        	;		inc	a
 1076    1D:DFD6  99 E2 22   			sta	mouse_x, y
 1077    1D:DFD9  80 B8      			bra	.next_port
 1078                        	
 1079    1D:DFDB  CB DF      	.mouse_vectors: dw	.mouse_x_lo		; Pass 2
 1080    1D:DFDD  AD DF      			dw	.mouse_x_hi		; Pass 1
 1081                        	
 1082               0001     		.if	(* >= $4000)			; This is a ".proc" if it is
 1083                        			.endp                           ; not running in RAM.
 1084               22D0     			.bss				; Put the variables in RAM.
 1085                        		.endif
 1086                        	
 1087    F8:22D0             	port_mutex:	ds	1			; NZ when controller port busy.
 1088    F8:22D1             	num_ports:	ds	1			; Set to 1 if no multitap.
 1089    F8:22D2             	mouse_flg:	ds	1			; Which ports are mice?
 1090               0000     		.if	HUC_JOY_EVENTS
 1093                        		.endif
 1094    F8:22D3             	joy6now:	ds	MAX_PADS
 1095    F8:22D8             	joy6old:	ds	MAX_PADS
 1096    F8:22DD             	joy6trg:	ds	MAX_PADS
 1097    F8:22E2             	mouse_x:	ds	MAX_PADS
 1098                        	
 1099               E188     			.code
 1100                        	
 1101                        		.endif	SUPPORT_6BUTTON			; Without mouse!
 1102                        	
 1103                        		.endif	SUPPORT_MOUSE
                             #[5]   "..\..\..\include\hucc\core-kernel.asm"
  453                        	
  454                        	
  455                        	
  456               0001     		.if	!CDROM
  457                        	
  458                        	; ***************************************************************************
  459                        	; ***************************************************************************
  460                        	;
  461                        	; core_sw_reset - Default HuCARD handler for a joypad "soft-reset".
  462                        	;
  463                        	
  464    00:E188  78         	core_sw_reset:	sei				; Disable interrupts.
  465                        	
  466    00:E189  6C FE FF   			jmp	[$FFFE]			; Jump to the HuCARD reset.
  467                        	
  468                        	
  469                        	
  470                        		.else	!CDROM
  616                        		.endif	!CDROM
  617                        	
  618                        	
  619                        	
  620                        	; ***************************************************************************
  621                        	; ***************************************************************************
  622                        	
  623               0001     		.if	(core_kernel >= $4000)		; If not running in RAM, then
  624               22E7     			.bss				; put these variables in RAM.
  625                        		.endif
  626                        	
  627    F8:22E7             	sound_mutex:	ds	1			; NZ when controller port busy.
  628                        	
  629               0001     		.if	SUPPORT_SGX
  630    F8:22E8             	sgx_detected:	ds	1			; NZ if SuperGrafx detected.
  631    F8:22E9             	hsync_hook_sgx:	ds	2			; SGX version of hsync_hook.
  632                        		.endif
  633                        	
  634               0000     		.if	SUPPORT_ACD
  636                        		.endif
  637                        	
  638               0001     		.if	(core_kernel >= $4000)
  639               E18C     			.code
  640                        		.endif
                             #[4]   "..\..\..\include\hucc\core-startup.asm"
  427                        	
  428                        	
  429                        	
  430                        		.else	!CDROM
  524                        		.endif	!CDROM
  525                        	
  526                        	
  527                        	
  528                        	; ***************************************************************************
  529                        	; ***************************************************************************
  530                        	;
  531                        	; With the availability of so many different configuration options, we've now
  532                        	; built somewhere between a few hundred bytes, and a couple of KB, of code in
  533                        	; the CORE_BANK of the HuCARD / overlay program.
  534                        	;
  535                        	; This is the end of the "CORE(not TM)" library code!
  536                        	;
  537                        	; Remember that the ".proc" trampolines are located at the end of this bank,
  538                        	; so the amount of free space left depends upon the number of ".proc" calls.
  539                        	;
  540                        	
  541                        			; Switch to CORE_PAGE to run the developer's game code.
  542               E18C     			.page	CORE_PAGE
  543                        	
  544                        	
  545                        	
  546                        	; ***************************************************************************
  547                        	; ***************************************************************************
  548                        	;
  549                        	; The DATA_BANK location needs to be set as early as possible so that library
  550                        	; code is able to put data in there before the total overall size of the code
  551                        	; is known.
  552                        	;
  553                        	; By default, DATA_BANK is the next bank after the CORE_BANK.
  554                        	;
  555                        	; RESERVE_BANKS allows developers to reserve some banks between the CORE_BANK
  556                        	; and the DATA_BANK that they can use however they wish.
  557                        	;
  558                        	; One use for RESERVE_BANKS is to create empty space that PCEAS can use when
  559                        	; it relocates procedures. This provides a way for a developer to group code
  560                        	; together at the start of memory, and leave the maximum number of banks for
  561                        	; loading dynamic data from CD-ROM.
  562                        	;
  563                        	; The KickC environment sets RESERVE_BANKS=1 (or higher) so that there is a
  564                        	; a bank for the permanent C code and static constants.
  565                        	;
  566                        	; RESERVE_BANKS is normally defined in each project's "core-config.inc".
  567                        	;
  568                        	
  569                        			.opt	d+			; DATA labels use fixed MPR.
  570                        	
  571               0001     			.rsset	CORE_BANK + 1
  572                        	
  573               0000     		.ifdef	NEED_HOME_BANK
  580                        		.endif
  581                        	
  582               0001     		.ifdef	NEED_SOUND_BANK			; Defined in hucc-sound.inc
  583               0000     		.if	NEED_SOUND_BANK			; if the driver wants a bank.
  585                        		.endif
  586                        		.endif
  587                        	
  588               0001     		.ifdef	RESERVE_BANKS			; For CORE projects.
  589               0001     	RESERVED_BANK	.rs	RESERVE_BANKS
  590                        		.endif
  591                        	
  592               0001     		.ifdef	HUCC
  593               0001     		.ifdef	HUC_RESERVE_BANKS		; For HuCC projects.
  594               0001     	HUC_USER_BANK	.rs	HUC_RESERVE_BANKS
  595                        		.endif
  596                        	
  597               0001     	CONST_BANK	.rs	2
  598               6000     			.rodata
  599               0001     			.bank	CONST_BANK, ".rodata"
  600                        		.endif	HUCC
  601                        	
  602               0003     	DATA_BANK	.rs	0
  603               6000     			.data
  604               0000     		.if	BUILDING_STAGE1
  606                        		.else
  607               0003     			.bank	DATA_BANK, ".data"
  608                        		.endif
  609               6000     			.org	$6000
  610                        	
  611               E18C     			.code
                             #[3]   "..\..\..\include\hucc\core.inc"
                             #[2]   "..\..\..\include\hucc\hucc.asm"
  120                        		.else
  126                        		.endif
  127                        	
  128                        			; Allocate this as early as possible to ensure bank-aligned
  129                        			; so that there is no wasted space for aligning the table.
  130                        	
  131               0000     		.if	FAST_MULTIPLY
  138                        		.endif
  139                        	
  140                        			; Mark the start of the .XDATA, .XINIT and .XSTRZ sections
  141                        	
  142               2C2E     			.xdata
  143    F8:2C2E             	_xdata_start:
  144               6337     			.xinit
  145    01:6337             	_xinit_start:
  146               6337     			.xstrz
  147    01:6337             	_xstrz_start:
  148               E18C     			.code
  149                        	
  150                        			;
  151                        	
  154                        	
  155                        			; The hardware stack is used for expressions.
  156                        	
  157               00FF     	__tos		=	$F8:2101, 255
  158                        	
  159               2008     			.zp
  160               2008     			.align	2
  161    F8:2008             	__stack:	ds	HUCC_STACK_SZ
  162                        	
  163    F8:2088             	__ptr:		ds	2
  164    F8:208A             	__fptr:		ds	2
  165    F8:208C             	__fbank:	ds	1
  166    F8:208D             	__sp:		ds	1
  167                        	
  168                        			; REGTEMP 6-byte stack for temporaries used by SDCC.
  169                        			; Keep the size in sync with NUM_TEMP_REGS in sdcc/src/mos6502/gen.h!
  170                        	
  171    F8:208E             	REGTEMP:	ds	6
  172                        	
  173                        			; HuCC's non-recursive consecutive varargs for printf().
  174                        	
  175               2008     	__vararg1	=	__stack + 0
  176               200A     	__vararg2	=	__stack + 2
  177               200C     	__vararg3	=	__stack + 4
  178               200E     	__vararg4	=	__stack + 6
  179                        	
  180                        			; Pointer used by poke() because __ptr could be overwritten.
  181                        	
  182               20EE     	__poke		=	__si
  183                        	
  184                        			; Used for indirect calls because __ptr could be overwritten.
  185                        	
  186               20EE     	__func		=	__si
  187                        	
  188                        			; Data pointer used by SDCC for indirect indexed memory access.
  189                        	
  190               2088     	DPTR		=	__ptr
  191                        	
  192                        			; Values returned from SDCC functions that don't fit into XA.
  193                        			; These are also used as workspace for SDCC library functions,
  194                        			; including HuCC's multiplication and division functions.
  195                        	
  196    F8:2094             	___SDCC_m6502_ret0:	ds	1
  197    F8:2095             	___SDCC_m6502_ret1:	ds	1
  198    F8:2096             	___SDCC_m6502_ret2:	ds	1
  199    F8:2097             	___SDCC_m6502_ret3:	ds	1
  200                        	
  201               0000     		.if	0
  206                        		.endif
  207                        	
  208                        			; Permanent pointers for fast table-of-squares multiplication.
  209                        	
  210               0000     		.if	FAST_MULTIPLY
  215                        		.endif
  216                        	
  217                        			; HuCC keeps a realtime clock, updated in hucc_vbl.
  218                        			;
  219                        			; Defining this here means that it will go before any HuCC
  220                        			; variables in "globals.h", and so it won't get cleared in
  221                        			; a CDROM game when loading different overlays.
  222                        	
  223               22EB     			.bss
  224    F8:22EB             	old_cnt:	ds	1			; irq_cnt of previous vsync().
  225    F8:22EC             	__clock_tt:	ds	1			; System Clock, ticks	(0-59).
  226    F8:22ED             	__clock_ss:	ds	1			; System Clock, seconds (0-59).
  227    F8:22EE             	__clock_mm:	ds	1			; System Clock, minutes (0-59).
  228    F8:22EF             	__clock_hh:	ds	1			; System Clock, hours	(0-11).
  229               E18C     			.code
  230                        	
  231                        			; Reset the stack size needed for leaf functions.
  232                        			;
  233                        			; This is a variable that compiled HuCC code updates at the end
  234                        			; of each source file to store the largest leaf stack size.
  235                        	
  236               0000     	leaf_needs	.set	0
  237                        	
  238                        			; Critical HuCC libraries that the compiler depends upon.
  239                        			;
  240                        			; These include various macros that must be defined before
  241                        			; they are encountered in any compiler-generated code.
  242                        	
                             #[3]   "..\..\..\include\hucc\hucc-codegen.asm"
  243                        			include "hucc-codegen.asm"	; HuCC i-code macros and funcs.
    1                        	; ***************************************************************************
    2                        	; ***************************************************************************
    3                        	;
    4                        	; hucc-codegen.asm
    5                        	;
    6                        	; The HuCC compiler translates C code into these macros, it does not directly
    7                        	; generate HuC6280 instructions.
    8                        	;
    9                        	; Based on the original HuC macros created by David Michel and the other HuC
   10                        	; developers, later modified and improved by Ulrich Hecht.
   11                        	;
   12                        	; Modifications copyright John Brandwood 2024.
   13                        	;
   14                        	; Distributed under the Boost Software License, Version 1.0.
   15                        	; (See accompanying file LICENSE_1_0.txt or copy at
   16                        	;  http://www.boost.org/LICENSE_1_0.txt)
   17                        	;
   18                        	; ***************************************************************************
   19                        	; ***************************************************************************
   20                        	;
   21                        	; NAMING SCHEME FOR HuCC MACROS ...
   22                        	;
   23                        	;   __function.parameters
   24                        	;
   25                        	; {parameters} is a list of alphanumeric specifiers, starting with {size} and
   26                        	; followed by {where}, followed by {index} if an array, then optional {value}
   27                        	; and finally ending with optional {suffix}
   28                        	;
   29                        	; {size}
   30                        	;   w : 16-bit signed int (default "int" in HuCC)
   31                        	;   c : 16-bit unsigned int (a "cardinal" in Pascal terms)
   32                        	;   b :  8-bit signed char
   33                        	;   u :  8-bit unsigned char (default "char" in HuCC)
   34                        	;
   35                        	; {where} or {index}
   36                        	;   r : HuCC primary register, made up of the Y:A cpu registers
   37                        	;   t : top of expression stack
   38                        	;   p : indirect pointer, usually [__ptr]
   39                        	;   f : structure field (member) offset value
   40                        	;   i : immediate value, i.e. a decimal number
   41                        	;   m : memory, i.e. C global, static, and "-fno-recursive" variables
   42                        	;   s : stack, i.e. C function parameters and locals (not "-fno-recursive")
   43                        	;   a : array, i.e. C global, static, "-fno-recursive" arrays <= 256 bytes
   44                        	;   x : array index already in the X register
   45                        	;   y : array index already in the Y register
   46                        	;
   47                        	; {value} OPTIONAL
   48                        	;   i : immediate value, i.e. a decimal number
   49                        	;   z : zero value
   50                        	;
   51                        	; {suffix} OPTIONAL
   52                        	;   q : quick, used for optimized math on only 8-bit values, because all math
   53                        	;       is normally promoted to "int" size in C; and when optimized stores do
   54                        	;       not need to preserve the primary register contents
   55                        	;
   56                        	; ***************************************************************************
   57                        	; ***************************************************************************
   58                        	
   59                        	
   60                        	
 8399                        	
 8400                        	; ***************************************************************************
 8401                        	; ***************************************************************************
 8402                        	; subroutines for logical and arithmetic shifts by a constant amount
 8403                        	; ***************************************************************************
 8404                        	; ***************************************************************************
 8405                        	
 8406                        	; **************
 8407                        	; Y:A = Y:A << const
 8408                        	
 8409    00:E1BE  0A         	aslw15:		asl	a
 8410    00:E1BF  0A         	aslw14:		asl	a
 8411    00:E1C0  0A         	aslw13:		asl	a
 8412    00:E1C1  0A         	aslw12:		asl	a
 8413    00:E1C2  0A         	aslw11:		asl	a
 8414    00:E1C3  0A         	aslw10:		asl	a
 8415    00:E1C4  0A         	aslw9:		asl	a
 8416    00:E1C5  A8         	aslw8:		tay
 8417    00:E1C6  62         			cla
 8418    00:E1C7  60         			rts
 8419                        	
 8420               0001     		.if	1
 8421    00:E1C8  66 00      	aslw5:		ror	<__temp
 8422    00:E1CA  6A         			ror	a
 8423    00:E1CB  66 00      	aslw6:		ror	<__temp
 8424    00:E1CD  6A         			ror	a
 8425    00:E1CE  66 00      	aslw7:		ror	<__temp
 8426    00:E1D0  6A         			ror	a
 8427    00:E1D1  A4 00      			ldy	<__temp
 8428    00:E1D3  60         			rts
 8429                        		.else
 8436                        		.endif
 8437    00:E1D4  0A         	aslw4:		asl	a
 8438    00:E1D5  26 00      			rol	<__temp
 8439    00:E1D7  0A         	aslw3:		asl	a
 8440    00:E1D8  26 00      			rol	<__temp
 8441    00:E1DA  0A         	aslw2:		asl	a
 8442    00:E1DB  26 00      			rol	<__temp
 8443    00:E1DD  0A         	aslw1:		asl	a
 8444    00:E1DE  26 00      			rol	<__temp
 8445    00:E1E0  A4 00      	aslw0:		ldy	<__temp
 8446    00:E1E2  60         			rts
 8447                        	
 8448                        	; **************
 8449                        	; Y:A = Y:A >> const
 8450                        	
 8451    00:E1E3  C9 80      	asrw15:		cmp	#$80
 8452    00:E1E5  6A         			ror	a
 8453    00:E1E6  C9 80      	asrw14:		cmp	#$80
 8454    00:E1E8  6A         			ror	a
 8455    00:E1E9  C9 80      	asrw13:		cmp	#$80
 8456    00:E1EB  6A         			ror	a
 8457    00:E1EC  C9 80      	asrw12:		cmp	#$80
 8458    00:E1EE  6A         			ror	a
 8459    00:E1EF  C9 80      	asrw11:		cmp	#$80
 8460    00:E1F1  6A         			ror	a
 8461    00:E1F2  C9 80      	asrw10:		cmp	#$80
 8462    00:E1F4  6A         			ror	a
 8463    00:E1F5  C9 80      	asrw9:		cmp	#$80
 8464    00:E1F7  6A         			ror	a
 8465    00:E1F8  C9 80      	asrw8:		cmp	#$80
 8466    00:E1FA  C2         			cly
 8467    00:E1FB  90 01      			bcc	!+
 8468    00:E1FD  88         			dey
 8469    00:E1FE  60         	!:		rts
 8470                        	
 8471    00:E1FF  C0 80      	asrw7:		cpy	#$80
 8472    00:E201  66 00      			ror	<__temp
 8473    00:E203  6A         			ror	a
 8474    00:E204  C0 80      	asrw6:		cpy	#$80
 8475    00:E206  66 00      			ror	<__temp
 8476    00:E208  6A         			ror	a
 8477    00:E209  C0 80      	asrw5:		cpy	#$80
 8478    00:E20B  66 00      			ror	<__temp
 8479    00:E20D  6A         			ror	a
 8480    00:E20E  C0 80      	asrw4:		cpy	#$80
 8481    00:E210  66 00      			ror	<__temp
 8482    00:E212  6A         			ror	a
 8483    00:E213  C0 80      	asrw3:		cpy	#$80
 8484    00:E215  66 00      			ror	<__temp
 8485    00:E217  6A         			ror	a
 8486    00:E218  C0 80      	asrw2:		cpy	#$80
 8487    00:E21A  66 00      			ror	<__temp
 8488    00:E21C  6A         			ror	a
 8489    00:E21D  C0 80      	asrw1:		cpy	#$80
 8490    00:E21F  66 00      			ror	<__temp
 8491    00:E221  6A         			ror	a
 8492    00:E222  A4 00      	asrw0:		ldy	<__temp
 8493    00:E224  60         			rts
 8494                        	
 8495                        	; **************
 8496                        	; Y:A = Y:A >> const
 8497                        	
 8498    00:E225  4A         	lsrw15:		lsr	a
 8499    00:E226  4A         	lsrw14:		lsr	a
 8500    00:E227  4A         	lsrw13:		lsr	a
 8501    00:E228  4A         	lsrw12:		lsr	a
 8502    00:E229  4A         	lsrw11:		lsr	a
 8503    00:E22A  4A         	lsrw10:		lsr	a
 8504    00:E22B  4A         	lsrw9:		lsr	a
 8505    00:E22C  C2         	lsrw8:		cly
 8506    00:E22D  60         			rts
 8507                        	
 8508    00:E22E  46 00      	lsrw7:		lsr	<__temp
 8509    00:E230  6A         			ror	a
 8510    00:E231  46 00      	lsrw6:		lsr	<__temp
 8511    00:E233  6A         			ror	a
 8512    00:E234  46 00      	lsrw5:		lsr	<__temp
 8513    00:E236  6A         			ror	a
 8514    00:E237  46 00      	lsrw4:		lsr	<__temp
 8515    00:E239  6A         			ror	a
 8516    00:E23A  46 00      	lsrw3:		lsr	<__temp
 8517    00:E23C  6A         			ror	a
 8518    00:E23D  46 00      	lsrw2:		lsr	<__temp
 8519    00:E23F  6A         			ror	a
 8520    00:E240  46 00      	lsrw1:		lsr	<__temp
 8521    00:E242  6A         			ror	a
 8522    00:E243  A4 00      	lsrw0:		ldy	<__temp
 8523    00:E245  60         			rts
 8524                        	
 8525                        	
 8526                        	
 8527                        	; ***************************************************************************
 8528                        	; ***************************************************************************
 8529                        	; subroutines for logical and arithmetic shifts by a variable amount
 8530                        	; ***************************************************************************
 8531                        	; ***************************************************************************
 8532                        	
 8533                        	; **************
 8534                        	; Y:A = Y:A << X
 8535                        	
 8536    00:E246  84 00      	asl.wx:		sty	<__temp
 8537    00:E248  E0 10      			cpx	#16
 8538    00:E24A  B0 37      			bcs	!zero+
 8539    00:E24C  CA         			dex
 8540    00:E24D  30 06      			bmi	.done
 8541    00:E24F  0A         	.loop:		asl	a
 8542    00:E250  26 00      			rol	<__temp
 8543    00:E252  CA         			dex
 8544    00:E253  10 FA      			bpl	.loop
 8545    00:E255  A4 00      	.done:		ldy	<__temp
 8546    00:E257  60         			rts
 8547                        	
 8548                        	; **************
 8549                        	; Y:A = Y:A >> X
 8550                        	
 8551    00:E258  84 00      	asr.wx:		sty	<__temp
 8552    00:E25A  10 17      			bpl	!positive+
 8553    00:E25C  E0 10      	!negative:	cpx	#16
 8554    00:E25E  B0 0D      			bcs	.sign
 8555    00:E260  CA         			dex
 8556    00:E261  30 07      			bmi	.done
 8557    00:E263  38         	.loop:		sec
 8558    00:E264  66 00      			ror	<__temp
 8559    00:E266  6A         			ror	a
 8560    00:E267  CA         			dex
 8561    00:E268  10 F9      			bpl	.loop
 8562    00:E26A  A4 00      	.done:		ldy	<__temp
 8563    00:E26C  60         			rts
 8564                        	
 8565    00:E26D  A9 FF      	.sign:		lda	#$FF
 8566    00:E26F  A8         			tay
 8567    00:E270  60         			rts
 8568                        	
 8569                        	; **************
 8570                        	; Y:A = Y:A >> X
 8571                        	
 8572    00:E271  84 00      	lsr.wx:		sty	<__temp
 8573    00:E273  E0 10      	!positive:	cpx	#16
 8574    00:E275  B0 0C      			bcs	!zero+
 8575    00:E277  CA         			dex
 8576    00:E278  30 06      			bmi	.done
 8577    00:E27A  46 00      	.loop:		lsr	<__temp
 8578    00:E27C  6A         			ror	a
 8579    00:E27D  CA         			dex
 8580    00:E27E  10 FA      			bpl	.loop
 8581    00:E280  A4 00      	.done:		ldy	<__temp
 8582    00:E282  60         			rts
 8583                        	
 8584    00:E283  62         	!zero:		cla
 8585    00:E284  C2         			cly
 8586    00:E285  60         			rts
 8587                        	
 8588                        	
 8589                        	
 8590                        	; ***************************************************************************
 8591                        	; ***************************************************************************
 8592                        	; POTENTIAL OPTIMIZATIONS, NOT YET ADDED
 8593                        	; ***************************************************************************
 8594                        	; ***************************************************************************
                             #[2]   "..\..\..\include\hucc\hucc.asm"
                             #[3]   "..\..\..\include\hucc\hucc-baselib.asm"
  244                        			include	"hucc-baselib.asm"	; HuCC base library macros.
    1                        	; ***************************************************************************
    2                        	; ***************************************************************************
    3                        	;
    4                        	; hucc-baselib.asm
    5                        	;
    6                        	; Basic library functions provided (mostly) as macros.
    7                        	;
    8                        	; Copyright John Brandwood 2024-2025.
    9                        	;
   10                        	; Distributed under the Boost Software License, Version 1.0.
   11                        	; (See accompanying file LICENSE_1_0.txt or copy at
   12                        	;  http://www.boost.org/LICENSE_1_0.txt)
   13                        	;
   14                        	; ***************************************************************************
   15                        	; ***************************************************************************
   16                        	
   17                        	
   18                        	
   19                        	; ***************************************************************************
   20                        	; ***************************************************************************
   21                        	;
   22                        	; Make certain System Card variables accessible to HuCC.
   23                        	
   24    00:E286             	_irq_cnt	.alias	irq_cnt
   25    00:E286             	_joynow		.alias	joynow
   26    00:E286             	_joytrg		.alias	joytrg
   27    00:E286             	_joy6now	.alias	joy6now
   28    00:E286             	_joy6trg	.alias	joy6trg
   29    00:E286             	_bg_x1		.alias	bg_x1
   30    00:E286             	_bg_y1		.alias	bg_y1
   31    00:E286             	_bg_x2		.alias	bg_x2
   32    00:E286             	_bg_y2		.alias	bg_y2
   33                        	
   34                        	
   35                        	
   36                        	; ***************************************************************************
   37                        	; ***************************************************************************
   38                        	;
   39                        	; void __fastcall dump_screen( void );
   40                        	;
   41                        	; THIS IS AN ILLEGAL INSTRUCTION ONLY IMPLEMENTED BY THE TGEMU EMULATOR!
   42                        	
   43    00:E286  33         	_dump_screen:	db	0x33
   44                        	
   45                        	
   46                        	
   47                        	; ***************************************************************************
   48                        	; ***************************************************************************
   49                        	;
   50                        	; void __fastcall abort( void );
   51                        	;
   52                        	; THIS IS AN ILLEGAL INSTRUCTION ONLY IMPLEMENTED BY THE TGEMU EMULATOR!
   53                        	
   54    00:E287  E2         	_abort:		db	0xE2
   55                        	
   56                        	
   57                        	
   58                        	; ***************************************************************************
   59                        	; ***************************************************************************
   60                        	;
   61                        	; void __fastcall exit( int value<acc> );
   62                        	;
   63                        	; THIS IS AN ILLEGAL INSTRUCTION ONLY IMPLEMENTED BY THE TGEMU EMULATOR!
   64                        	
   65    00:E288  AA         	_exit.1:	tax				; Put the return code into X.
   66    00:E289  63         			db	0x63
   67                        	
   68    00:E28A  80 FE      	.hang:		bra	.hang			; Hang if used in normal code.
   69                        	
   70                        	
   71                        	
   72                        	; ***************************************************************************
   73                        	; ***************************************************************************
   74                        	;
   75                        	; unsigned char __fastcall __macro cd_execoverlay( unsigned char ovl_index<acc> );
   76                        	;
   77                        	; Execute program overlay from disc
   78                        	;
   79                        	; N.B. This does not return, even if there's an error.
   80                        	
   81                        			.macro	_cd_execoverlay.1
   82                        			tax
   83                        			jmp	exec_overlay
   84                        			.endm
   85                        	
   86                        	
   87                        	
   88                        	; ***************************************************************************
   89                        	; ***************************************************************************
   90                        	;
   91                        	; void __fastcall __nop set_far_base( unsigned char data_bank<_bp_bank>, unsigned char *data_addr<_bp> );
   92                        	; void __fastcall set_far_offset( unsigned int offset<_bp>, unsigned char data_bank<_bp_bank>, unsigned char *data_addr<acc> );
   93                        	
   94    00:E28C             	_set_far_offset.3:
   95    00:E28C  18         			clc
   96    00:E28D  65 EC      			adc.l	<_bp
   97    00:E28F  85 EC      			sta.l	<_bp
   98    00:E291  98         			tya
   99    00:E292  29 1F      			and	#$1F
  100    00:E294  65 ED      			adc.h	<_bp
  101    00:E296  A8         			tay
  102    00:E297  29 1F      			and	#$1F
  103    00:E299  09 60      			ora	#$60
  104    00:E29B  85 ED      			sta.h	<_bp
  105    00:E29D  98         			tya
  106    00:E29E  6A         			ror	a
  107    00:E29F  4A         			lsr	a
  108    00:E2A0  4A         			lsr	a
  109    00:E2A1  4A         			lsr	a
  110    00:E2A2  4A         			lsr	a
  111    00:E2A3  18         			clc
  112    00:E2A4  65 02      			adc	<_bp_bank
  113    00:E2A6  85 02      			sta	<_bp_bank
  114    00:E2A8  60         			rts
  115                        	
  116                        	
  117                        	; ***************************************************************************
  118                        	; ***************************************************************************
  119                        	;
  120                        	; void __fastcall __macro reset_mpr2( void );
  121                        	; void __fastcall __macro reset_mpr34( void );
  122                        	;
  123                        	; void * __fastcall __macro set_mpr2( void __far *addr<_bp_bank:_bp> );
  124                        	; void * __fastcall __macro set_mpr34( void __far *addr<_bp_bank:_bp> );
  125                        	;
  126                        	; void * __fastcall __macro far_set_mpr2( void );
  127                        	; void * __fastcall __macro far_set_mpr34( void );
  128                        	
  129                        	_reset_mpr2	.macro
  130                        		.if	SUPPORT_SGX
  131                        			lda	#$F9
  132                        		.else
  133                        			lda	#$87
  134                        		.endif
  135                        			tam2
  136                        			.endm
  137                        	
  138                        	_reset_mpr34	.macro
  139                        			lda	#CONST_BANK + _bank_base
  140                        			tam3
  141                        			inc	a
  142                        			tam4
  143                        			.endm
  144                        	
  145                        	_farset_mpr2.1	.macro
  146                        			lda	<_bp_bank
  147                        			tam2
  148                        			lda.l	<_bp
  149                        			ldy.h	<_bp
  150                        			.endm
  151                        	
  152                        	_farset_mpr34.1	.macro
  153                        			lda	<_bp_bank
  154                        			tam3
  155                        			inc	a
  156                        			tam4
  157                        			lda.l	<_bp
  158                        			ldy.h	<_bp
  159                        			.endm
  160                        	
  161                        	_far_set_mpr2	.macro
  162                        			lda	<_bp_bank
  163                        			tam2
  164                        			lda.l	<_bp
  165                        			ldy.h	<_bp
  166                        			.endm
  167                        	
  168                        	_far_set_mpr34	.macro
  169                        			lda	<_bp_bank
  170                        			tam3
  171                        			inc	a
  172                        			tam4
  173                        			lda.l	<_bp
  174                        			ldy.h	<_bp
  175                        			.endm
  176                        	
  177                        	
  178                        	
  179                        	; ***************************************************************************
  180                        	; ***************************************************************************
  181                        	;
  182                        	; unsigned char __fastcall __macro ac_exists( void );
  183                        	
  184                        	_ac_exists	.macro
  185                        			cla
  186                        			ldy	ACD_FLAG
  187                        			cpy	#ACD_ID
  188                        			bne	!+
  189                        			inc	a
  190                        	!:		cly
  191                        			.endm
  192                        	
  193                        	
  194                        	
  195                        	; ***************************************************************************
  196                        	; ***************************************************************************
  197                        	;
  198                        	; unsigned char __fastcall __macro _sgx_detect( void );
  199                        	
  200                        	_sgx_detect	.macro
  201                        			lda	sgx_detected
  202                        			cly
  203                        			.endm
  204                        	
  205                        	
  206                        	
  207                        	; ***************************************************************************
  208                        	; ***************************************************************************
  209                        	;
  210                        	; unsigned int __fastcall __macro peek( unsigned int addr<__ptr> );
  211                        	
  212                        	_peek.1		.macro
  213                        			lda	[__ptr]
  214                        			cly
  215                        			.endm
  216                        	
  217                        	
  218                        	
  219                        	; ***************************************************************************
  220                        	; ***************************************************************************
  221                        	;
  222                        	; unsigned int __fastcall __macro peekw( unsigned int addr<__ptr> );
  223                        	
  224                        	_peekw.1	.macro
  225                        			lda	[__ptr]
  226                        			pha
  227                        			ldy	#1
  228                        			lda	[__ptr], y
  229                        			tay
  230                        			pla
  231                        			.endm
  232                        	
  233                        	
  234                        	
  235                        	; ***************************************************************************
  236                        	; ***************************************************************************
  237                        	;
  238                        	; void __fastcall __macro poke( unsigned int addr<__poke>, unsigned char with<acc> );
  239                        	;
  240                        	; N.B. Because the <acc> value can be a complex C calculation, it isn't safe
  241                        	; to use __ptr as the destination, which can be overwritten in C macros.
  242                        	
  243                        	_poke.2		.macro
  244                        			sta	[__poke]
  245                        			.endm
  246                        	
  247                        	
  248                        	
  249                        	; ***************************************************************************
  250                        	; ***************************************************************************
  251                        	;
  252                        	; void __fastcall __macro pokew( unsigned int addr<__poke>, unsigned int with<acc> );
  253                        	;
  254                        	; N.B. Because the <acc> value can be a complex C calculation, it isn't safe
  255                        	; to use __ptr as the destination, which can be overwritten in C macros.
  256                        	
  257                        	_pokew.2	.macro
  258                        			sta	[__poke]
  259                        			tya
  260                        			ldy	#1
  261                        			sta	[__poke], y
  262                        			.endm
  263                        	
  264                        	
  265                        	
  266                        	; ***************************************************************************
  267                        	; ***************************************************************************
  268                        	;
  269                        	; unsigned char __fastcall __macro clock_hh( void );
  270                        	; unsigned char __fastcall __macro clock_mm( void );
  271                        	; unsigned char __fastcall __macro clock_ss( void );
  272                        	; unsigned char __fastcall __macro clock_tt( void );
  273                        	;
  274                        	; N.B. HuC stores the clock as binary, HuCC stores it as BCD.
  275                        	
  276                        	_clock_hh	.macro
  277                        			lda	__clock_hh
  278                        			jsr	bcd_byte_to_bin
  279                        			.endm
  280                        	
  281                        	_clock_mm	.macro
  282                        			lda	__clock_mm
  283                        			jsr	bcd_byte_to_bin
  284                        			.endm
  285                        	
  286                        	_clock_ss	.macro
  287                        			lda	__clock_ss
  288                        			jsr	bcd_byte_to_bin
  289                        			.endm
  290                        	
  291                        	_clock_tt	.macro
  292                        			lda	__clock_tt
  293                        			jsr	bcd_byte_to_bin
  294                        			.endm
  295                        	
  296                        			; HuC returns binary values for these clock functions.
  297                        	
  298    00:E2A9  A8         	bcd_byte_to_bin:tay
  299    00:E2AA  4A         			lsr	a
  300    00:E2AB  4A         			lsr	a
  301    00:E2AC  4A         			lsr	a
  302    00:E2AD  4A         			lsr	a
  303    00:E2AE  42         			say
  304    00:E2AF  18         			clc
  305    00:E2B0  29 0F      			and	#$0F
  306    00:E2B2  79 B7 E2   			adc	.table, y
  307    00:E2B5  C2         			cly
  308    00:E2B6  60         			rts
  309                        	
  310    00:E2B7  00         	.table:		db	0
  311    00:E2B8  0A         			db	10
  312    00:E2B9  14         			db	20
  313    00:E2BA  1E         			db	30
  314    00:E2BB  28         			db	40
  315    00:E2BC  32         			db	50
  316                        	
  317                        	
  318                        	
  319                        	; ***************************************************************************
  320                        	; ***************************************************************************
  321                        	;
  322                        	; void __fastcall __macro clock_reset( void );
  323                        	
  324                        	_clock_reset	.macro
  325                        			stz	__clock_tt
  326                        			stz	__clock_ss
  327                        			stz	__clock_mm
  328                        			stz	__clock_hh
  329                        			.endm
  330                        	
  331                        	
  332                        	
  333                        	
  334                        	; ***************************************************************************
  335                        	; ***************************************************************************
  336                        	;
  337                        	; unsigned int __fastcall __macro joy( unsigned char which<acc> );
  338                        	
  339                        	_joy.1		.macro
  340                        			tax
  341                        			lda	joynow, x
  342                        		.if	SUPPORT_6BUTTON
  343                        			ldy	joy6now, x
  344                        		.else
  345                        			cly
  346                        		.endif
  347                        			.endm
  348                        	
  349                        	
  350                        	
  351                        	; ***************************************************************************
  352                        	; ***************************************************************************
  353                        	;
  354                        	; unsigned int __fastcall __macro joytrg( unsigned char which<acc> );
  355                        	
  356                        	_joytrg.1	.macro
  357                        			tax
  358                        			lda	joytrg, x
  359                        		.if	SUPPORT_6BUTTON
  360                        			ldy	joy6trg, x
  361                        		.else
  362                        			cly
  363                        		.endif
  364                        			.endm
  365                        	
  366                        	
  367                        	
  368                        	; ***************************************************************************
  369                        	; ***************************************************************************
  370                        	;
  371                        	; unsigned int __fastcall __macro joybuf( unsigned char which<acc> );
  372                        	
  373                        	_joybuf.1	.macro
  374                        		.if	HUC_JOY_EVENTS
  375                        			tax
  376                        			lda	joybuf, x
  377                        		.if	SUPPORT_6BUTTON
  378                        			ldy	joy6buf, x
  379                        		.else
  380                        			cly
  381                        		.endif
  382                        		.else
  383                        			.fail	You must enable HUC_JOY_EVENTS in your hucc-config.inc!
  384                        		.endif
  385                        			.endm
  386                        	
  387                        	
  388                        	
  389                        	; ***************************************************************************
  390                        	; ***************************************************************************
  391                        	;
  392                        	; unsigned int __fastcall __macro get_joy_events( unsigned char which<acc> );
  393                        	;
  394                        	; N.B. This is just a version of joybuf() that clears the accumulated events.
  395                        	
  396                        			.macro	_get_joy_events.1
  397                        		.if	HUC_JOY_EVENTS
  398                        			tax
  399                        			lda	joybuf, x
  400                        			stz	joybuf, x
  401                        		.if	SUPPORT_6BUTTON
  402                        			ldy	joy6buf, x
  403                        			stz	joy6buf, x
  404                        		.else
  405                        			cly
  406                        		.endif
  407                        		.else
  408                        		.if	ACCUMULATE_JOY
  409                        			tax
  410                        			lda	joytrg, x
  411                        			stz	joytrg, x
  412                        		.if	SUPPORT_6BUTTON
  413                        			ldy	joy6trg, x
  414                        			stz	joy6trg, x
  415                        		.else
  416                        			cly
  417                        		.endif
  418                        		.else
  419                        			.fail	You must enable HUC_JOY_EVENTS or ACCUMULATE_JOY in your hucc-config.inc!
  420                        		.endif
  421                        		.endif
  422                        			.endm
  423                        	
  424                        	
  425                        	
  426                        	; ***************************************************************************
  427                        	; ***************************************************************************
  428                        	;
  429                        	; void __fastcall __macro clear_joy_events( unsigned char mask<acc> );
  430                        	
  431                        			.macro	_clear_joy_events.1
  432                        			php
  433                        			sei
  434                        			and	#(1 << MAX_PADS) - 1
  435                        			ldx	#$FF
  436                        	.loop:		inx
  437                        			lsr	a
  438                        			bcc	.next
  439                        		.if	HUC_JOY_EVENTS
  440                        			stz	joybuf, x
  441                        		.if	SUPPORT_6BUTTON
  442                        			stz	joy6buf, x
  443                        		.endif
  444                        		.else
  445                        		.if	ACCUMULATE_JOY
  446                        			stz	joytrg, x
  447                        		.if	SUPPORT_6BUTTON
  448                        			stz	joy6trg, x
  449                        		.endif
  450                        		.else
  451                        			.fail	You must enable HUC_JOY_EVENTS or ACCUMULATE_JOY in your hucc-config.inc!
  452                        		.endif
  453                        		.endif
  454                        	.next:		bne	.loop
  455                        			plp
  456                        			.endm
  457                        	
  458                        	
  459                        	
  460                        	; ***************************************************************************
  461                        	; ***************************************************************************
  462                        	;
  463                        	; void __fastcall srand( unsigned char seed<acc> );
  464                        	
  465               0001     		.ifndef	HUCC_NO_DEFAULT_RANDOM
  466                        	_srand.1	.macro
  467                        			tay
  468                        			jsr	init_random
  469                        			.endm
  470                        		.endif
  471                        	
  472                        	
  473                        	
  474                        	; ***************************************************************************
  475                        	; ***************************************************************************
  476                        	;
  477                        	; unsigned int __fastcall rand( void );
  478                        	; unsigned char __fastcall rand8( void );
  479                        	
  480               0001     		.ifndef	HUCC_NO_DEFAULT_RANDOM
  481    00:E2BD  20 9E E6   	_rand:		jsr	get_random		; Random in A, preserve Y.
  482    00:E2C0  A8         			tay
  483    00:E2C1  4C 9E E6   			jmp	get_random		; Random in A, preserve Y.
  484                        		.endif
  485                        	
  486                        	
  487                        	
  488                        	; ***************************************************************************
  489                        	; ***************************************************************************
  490                        	;
  491                        	; unsigned char __fastcall random8( unsigned char limit<acc> );
  492                        	;
  493                        	; IN :	A = range (0..255)
  494                        	; OUT : A = random number interval 0 <= x < A
  495                        	
  496               0001     		.ifndef	HUCC_NO_DEFAULT_RANDOM
  497                        	
  498    00:E2C4  A8         	_random8.1:	tay				; Preserve the limit.
  499    00:E2C5  20 9E E6   			jsr	get_random		; Random in A, preserve Y.
  500                        	
  501    00:E2C8  20 04 E5   			jsr	__muluchar
  502    00:E2CB  98         			tya				; Do a 8.0 x 0.8 fixed point
  503    00:E2CC  C2         			cly				; fractional multiply.
  504    00:E2CD  60         			rts
  505                        		.endif
  506                        	
  507                        	
  508                        	
  509                        	; ***************************************************************************
  510                        	; ***************************************************************************
  511                        	;
  512                        	; unsigned char __fastcall random( unsigned char limit<acc> );
  513                        	;
  514                        	; IN :	A = range (0..128), 129..255 is treated as 128
  515                        	; OUT : A = random number interval 0 <= x < A
  516                        	
  517               0001     		.ifndef	HUCC_NO_DEFAULT_RANDOM
  518                        	
  519    00:E2CE  A8         	_random.1:	tay				; Preserve the limit.
  520    00:E2CF  20 9E E6   			jsr	get_random		; Random in A, preserve Y.
  521                        	
  522    00:E2D2  C0 80      			cpy	#128			; Check the limit.
  523    00:E2D4  90 04      			bcc	!+
  524                        	
  525    00:E2D6  29 7F      			and	#$7F			; Just mask the random if
  526    00:E2D8  C2         			cly				; the limit is >= 128.
  527    00:E2D9  60         			rts
  528                        	
  529    00:E2DA  20 04 E5   	!:		jsr	__muluchar
  530    00:E2DD  98         			tya				; If the limit is < 128 then
  531    00:E2DE  C2         			cly				; do a 8.0 x 0.8 fixed point
  532    00:E2DF  60         			rts				; fractional multiply.
  533                        		.endif
  534                        	
  535                        	
  536                        	
  537                        	; ***************************************************************************
  538                        	; ***************************************************************************
  539                        	;
  540                        	; unsigned char __fastcall __builtin_ffs( unsigned int value<__temp> );
  541                        	
  542                        			.proc	___builtin_ffs.1
  562                        			.endp
  563                        	
  564                        	
  565                        	
  566                        	; ***************************************************************************
  567                        	; ***************************************************************************
  568                        	;
  569                        	; N.B. Declared in hucc-string.h, but defined here because they're macros!
  570                        	;
  571                        	; int __fastcall __macro memcmp( unsigned char *destination<_di>, unsigned char *source<_bp>, unsigned int count<acc> );
  572                        	
  573                        	_memcmp.3	.macro
  574                        			stz	<_bp_bank		; Map the source string.
  575                        			call	_farmemcmp.3
  576                        			.endm
  577                        	
  578                        	
  579                        	
  580                        	; ***************************************************************************
  581                        	; ***************************************************************************
  582                        	;
  583                        	; N.B. Declared in hucc-gfx.h, but defined here because they're macros!
  584                        	;
  585                        	; void __fastcall __macro get_color( unsigned int index<VCE_CTA> );
  586                        	
  587                        	_get_color.1	.macro
  588                        			lda.l	VCE_CTR
  589                        			ldy.h	VCE_CTR
  590                        			.endm
  591                        	
  592                        	
  593                        	
  594                        	; ***************************************************************************
  595                        	; ***************************************************************************
  596                        	;
  597                        	; N.B. Declared in hucc-gfx.h, but defined here because they're macros!
  598                        	;
  599                        	; void __fastcall __macro fade_to_black( unsigned int __far *from<_bp_bank:_bp>, unsigned int *destination<_di>, unsigned char num_colors<_al>, unsigned char value_to_sub<_ah> );
  600                        	; void __fastcall __macro fade_to_white( unsigned int __far *from<_bp_bank:_bp>, unsigned int *destination<_di>, unsigned char num_colors<_al>, unsigned char value_to_add<_ah> );
  601                        	; void __fastcall __macro cross_fade_to( unsigned int __far *from<_bp_bank:_bp>, unsigned int *destination<_di>, unsigned char num_colors<_al>, unsigned char which_component<_ah );
  602                        	;
  603                        	; void __fastcall __macro far_fade_to_black( unsigned int *destination<_di>, unsigned char num_colors<_al>, unsigned char value_to_sub<_ah> );
  604                        	; void __fastcall __macro far_fade_to_white( unsigned int *destination<_di>, unsigned char num_colors<_al>, unsigned char value_to_add<_ah> );
  605                        	; void __fastcall __macro far_cross_fade_to( unsigned int *destination<_di>, unsigned char num_colors<_al>, unsigned char which_component<_ah );
  606                        	
  607                        			.macro	_fade_to_black.4
  608                        			ldy	<_bp_bank
  609                        			call	fade_to_black
  610                        			.endm
  611                        	
  612                        			.macro	_fade_to_white.4
  613                        			ldy	<_bp_bank
  614                        			call	fade_to_white
  615                        			.endm
  616                        	
  617                        			.macro	_cross_fade_to.4
  618                        			ldy	<_bp_bank
  619                        			call	cross_fade_to
  620                        			.endm
  621                        	
  622                        			.macro	_far_fade_to_black.3
  623                        			ldy	<_bp_bank
  624                        			call	fade_to_black
  625                        			.endm
  626                        	
  627                        			.macro	_far_fade_to_white.3
  628                        			ldy	<_bp_bank
  629                        			call	fade_to_white
  630                        			.endm
  631                        	
  632                        			.macro	_far_cross_fade_to.3
  633                        			ldy	<_bp_bank
  634                        			call	cross_fade_to
  635                        			.endm
  636                        	
  637                        	
  638                        	
  639                        	; ***************************************************************************
  640                        	; ***************************************************************************
  641                        	;
  642                        	; N.B. Declared in hucc-gfx.h, but defined here because they're macros!
  643                        	;
  644                        	; void __fastcall __macro set_xres( unsigned int x_pixels<_ax> );
  645                        	; void __fastcall __macro sgx_set_xres( unsigned int x_pixels<_ax> );
  646                        	;
  647                        	; void __fastcall set_xres( unsigned int x_pixels<_ax>, unsigned char blur_flag<_bl> );
  648                        	; void __fastcall sgx_set_xres( unsigned int x_pixels<_ax>, unsigned char blur_flag<_bl> );
  649                        	
  650                        	_set_xres.1	.macro
  651                        			lda	#XRES_SOFT
  652                        			sta	<_bl
  653                        			call	_set_xres.2
  654                        			.endm
  655                        	
  656               0001     		.if	SUPPORT_SGX
  657                        			.macro	_sgx_set_xres.1
  658                        			lda	#XRES_SOFT
  659                        			sta	<_bl
  660                        			call	_sgx_set_xres.2
  661                        			.endm
  662                        		.endif
  663                        	
  664                        	
  665                        	
  666                        	; ***************************************************************************
  667                        	; ***************************************************************************
  668                        	;
  669                        	; N.B. Declared in hucc-gfx.h, but defined here because they're macros!
  670                        	;
  671                        	; unsigned int __fastcall __macro vram_addr( unsigned char bat_x<_al>, unsigned char bat_y<_ah> );
  672                        	; unsigned int __fastcall __macro sgx_vram_addr( unsigned char bat_x<_al>, unsigned char bat_y<_ah> );
  673                        	
  674                        			.macro	_vram_addr.2
  675                        			cla
  676                        			bit	vdc_bat_width
  677                        			bmi	!w128+
  678                        			bvs	!w64+
  679                        	!w32:		lsr	<_ah
  680                        			ror	a
  681                        	!w64:		lsr	<_ah
  682                        			ror	a
  683                        	!w128:		lsr	<_ah
  684                        			ror	a
  685                        			ora	<_al
  686                        			ldy	<_ah
  687                        			.endm
  688                        	
  689               0001     		.if	SUPPORT_SGX
  690                        			.macro	_sgx_vram_addr.2
  691                        			cla
  692                        			bit	sgx_bat_width
  693                        			bmi	!w128+
  694                        			bvs	!w64+
  695                        	!w32:		lsr	<_ah
  696                        			ror	a
  697                        	!w64:		lsr	<_ah
  698                        			ror	a
  699                        	!w128:		lsr	<_ah
  700                        			ror	a
  701                        			ora	<_al
  702                        			ldy	<_ah
  703                        			.endm
  704                        		.endif
  705                        	
  706                        	
  707                        	
  708                        	; ***************************************************************************
  709                        	; ***************************************************************************
  710                        	;
  711                        	; N.B. Declared in hucc-gfx.h, but defined here because they're macros!
  712                        	;
  713                        	; unsigned int __fastcall __macro get_vram( unsigned int address<_di> );
  714                        	; void __fastcall __macro put_vram( unsigned int address<_di>, unsigned int data<acc> );
  715                        	;
  716                        	; unsigned int __fastcall __macro sgx_get_vram( unsigned int address<_di> );
  717                        	; void __fastcall __macro sgx_put_vram( unsigned int address<_di>, unsigned int data<acc> );
  718                        	
  719                        			.macro	_get_vram.1
  720                        			jsr	vdc_di_to_marr
  721                        			lda	VDC_DL
  722                        			ldy	VDC_DH
  723                        			.endm
  724                        	
  725                        			.macro	_put_vram.2
  726                        			pha
  727                        			jsr	vdc_di_to_mawr
  728                        			pla
  729                        			sta	VDC_DL
  730                        			sty	VDC_DH
  731                        			.endm
  732                        	
  733               0001     		.if	SUPPORT_SGX
  734                        			.macro	_sgx_get_vram.1
  735                        			jsr	sgx_di_to_marr
  736                        			lda	SGX_DL
  737                        			ldy	SGX_DH
  738                        			.endm
  739                        	
  740                        			.macro	_sgx_put_vram.2
  741                        			pha
  742                        			jsr	sgx_di_to_mawr
  743                        			pla
  744                        			sta	SGX_DL
  745                        			sty	SGX_DH
  746                        			.endm
  747                        		.endif
  748                        	
  749                        	
  750                        	
  751                        	; ***************************************************************************
  752                        	; ***************************************************************************
  753                        	;
  754                        	; N.B. Declared in hucc-gfx.h, but defined here because they're macros!
  755                        	;
  756                        	; void __fastcall __macro set_bgpal( unsigned char palette<_al>, unsigned char __far *data<_bp_bank:_bp> );
  757                        	; void __fastcall __macro set_bgpal( unsigned char palette<_al>, unsigned char __far *data<_bp_bank:_bp>, unsigned int num_palettes<_ah> );
  758                        	; void __fastcall __macro set_sprpal( unsigned char palette<_al>, unsigned char __far *data<_bp_bank:_bp> );
  759                        	; void __fastcall __macro set_sprpal( unsigned char palette<_al>, unsigned char __far *data<_bp_bank:_bp>, unsigned int num_palettes<_ah> );
  760                        	
  761                        	_set_bgpal.2	.macro
  762                        			lda	#1
  763                        			sta	<_ah
  764                        			call	_load_palette.3
  765                        			.endm
  766                        	
  767                        	_set_bgpal.3	.macro
  768                        			call	_load_palette.3
  769                        			.endm
  770                        	
  771                        	_set_sprpal.2	.macro
  772                        			lda	#1
  773                        			sta	<_ah
  774                        			smb4	<_al
  775                        			call	_load_palette.3
  776                        			.endm
  777                        	
  778                        	_set_sprpal.3	.macro
  779                        			smb4	<_al
  780                        			call	_load_palette.3
  781                        			.endm
  782                        	
  783                        	
  784                        	
  785                        	; ***************************************************************************
  786                        	; ***************************************************************************
  787                        	;
  788                        	; N.B. Declared in hucc-gfx.h, but defined here because they're macros!
  789                        	;
  790                        	; void __fastcall __macro load_vram( unsigned int vram<_di>, unsigned char __far *data<_bp_bank:_bp>, unsigned int num_words<_ax> );
  791                        	; void __fastcall __macro sgx_load_vram( unsigned int vram<_di>, unsigned char __far *data<_bp_bank:_bp>, unsigned int num_words<_ax> );
  792                        	;
  793                        	; void __fastcall __macro far_load_vram( unsigned int vram<_di>, unsigned int num_words<_ax> );
  794                        	; void __fastcall __macro sgx_far_load_vram( unsigned int vram<_di>, unsigned int num_words<_ax> );
  795                        	;
  796                        	
  797               0001     		.if	SUPPORT_SGX
  798                        			.macro	_sgx_load_vram.3
  799                        			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
  800                        			call	load_vram_x
  801                        			.endm
  802                        	
  803                        			.macro	_sgx_far_load_vram.2
  804                        			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
  805                        			call	load_vram_x
  806                        			.endm
  807                        		.endif
  808                        	
  809                        			.macro	_load_vram.3
  810                        			clx				; Offset to PCE VDC.
  811                        			call	load_vram_x
  812                        			.endm
  813                        	
  814                        			.macro	_far_load_vram.2
  815                        			clx				; Offset to PCE VDC.
  816                        			call	load_vram_x
  817                        			.endm
  818                        	
  819                        	
  820                        	
  821                        	; ***************************************************************************
  822                        	; ***************************************************************************
  823                        	;
  824                        	; N.B. Declared in hucc-gfx.h, but defined here because they're macros!
  825                        	;
  826                        	; void __fastcall __macro load_sprites( unsigned int vram<_di>, unsigned char __far *data<_bp_bank:_bp>, unsigned int num_groups<acc> );
  827                        	; void __fastcall __macro sgx_load_sprites( unsigned int vram<_di>, unsigned char __far *data<_bp_bank:_bp>, unsigned int num_groups<acc> );
  828                        	; void __fastcall __macro far_load_sprites( unsigned int vram<_di>, unsigned int num_groups<acc> );
  829                        	; void __fastcall __macro sgx_far_load_sprites( unsigned int vram<_di>, unsigned int num_groups<acc> );
  830                        	
  831               0001     		.if	SUPPORT_SGX
  832                        			.macro	_sgx_load_sprites.3
  833                        			stz.l	<_ax
  834                        			asl	a
  835                        			sta.h	<_ax
  836                        			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
  837                        			call	load_vram_x
  838                        			.endm
  839                        	
  840                        			.macro	_sgx_far_load_sprites.2
  841                        			stz.l	<_ax
  842                        			asl	a
  843                        			sta.h	<_ax
  844                        			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
  845                        			call	load_vram_x
  846                        			.endm
  847                        		.endif
  848                        	
  849                        			.macro	_load_sprites.3
  850                        			stz.l	<_ax
  851                        			asl	a
  852                        			sta.h	<_ax
  853                        			clx				; Offset to PCE VDC.
  854                        			call	load_vram_x
  855                        			.endm
  856                        	
  857                        			.macro	_far_load_sprites.2
  858                        			stz.l	<_ax
  859                        			asl	a
  860                        			sta.h	<_ax
  861                        			clx				; Offset to PCE VDC.
  862                        			call	load_vram_x
  863                        			.endm
  864                        	
  865                        	
  866                        	
  867                        	; ***************************************************************************
  868                        	; ***************************************************************************
  869                        	;
  870                        	; N.B. Declared in hucc-gfx.h, but defined here because they're macros!
  871                        	;
  872                        	; void __fastcall load_default_font( void );
  873                        	; void __fastcall sgx_load_default_font( void );
  874                        	;
  875                        	
  876               0001     		.if	SUPPORT_SGX
  877                        			.macro	_sgx_load_default_font
  878                        			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
  879                        			call	huc_monofont_x
  880                        			.endm
  881                        		.endif
  882                        	
  883                        			.macro	_load_default_font
  884                        			clx				; Offset to PCE VDC.
  885                        			call	huc_monofont_x
  886                        			.endm
  887                        	
  888                        	
  889                        	
  890                        	; ***************************************************************************
  891                        	; ***************************************************************************
  892                        	
  893               0000     		.if	0
  911                        		.endif
                             #[2]   "..\..\..\include\hucc\hucc.asm"
  245                        	
  246               0000     		.if	CDROM
  248                        		.endif
  249                        	
  250                        			; Definitions for compatibility with old HuC/MagicKit projects.
  251                        	
  252               0001     		.ifndef	HUCC_NO_DEPRECATED
                             #[3]   "..\..\..\include\hucc\hucc-deprecated.inc"
  253                        			include	"hucc-deprecated.inc"
    1                        	; ***************************************************************************
    2                        	; ***************************************************************************
    3                        	;
    4                        	; hucc-deprecated.inc
    5                        	;
    6                        	; Macros and definitions for compatibility with old HuC/MagicKit projects.
    7                        	;
    8                        	; Based on the original HuC and MagicKit definitions by David Michel and the
    9                        	; other original HuC developers.
   10                        	;
   11                        	; ***************************************************************************
   12                        	; ***************************************************************************
   13                        	
   14                        			; For compatibility with HuC projects that use the old name.
   15                        	
   16               0001     	HUC_USER_RESERVED = HUC_USER_BANK
   17                        	
   18                        			; For compatibility with code that expects the HuC naming that
   19                        			; is used in the newer HuC, rather than the original HuC v3.21.
   20                        			;
   21                        			; Code generated by HuCC uses the original single-underscore.
   22                        	
   23               0001     		.if	1				
   24               0002     	__bp		=	$F8:20EC, 2		; base pointer
   25               0002     	__si		=	$F8:20EE, 2		; source address
   26               0002     	__di		=	$F8:20F0, 2		; destination address
   27                        	
   28               0002     	__ax		=	$F8:20F8, 2
   29               0001     	__al		=	$F8:20F8, 1
   30               0001     	__ah		=	$F8:20F9, 1
   31                        	
   32               0002     	__bx		=	$F8:20FA, 2
   33               0001     	__bl		=	$F8:20FA, 1
   34               0001     	__bh		=	$F8:20FB, 1
   35                        	
   36               0002     	__cx		=	$F8:20FC, 2
   37               0001     	__cl		=	$F8:20FC, 1
   38               0001     	__ch		=	$F8:20FD, 1
   39                        	
   40               0002     	__dx		=	$F8:20FE, 2
   41               0001     	__dl		=	$F8:20FE, 1
   42               0001     	__dh		=	$F8:20FF, 1
   43                        		.endif
   44                        	
   45                        			; For compatibility with code that expects the HuC naming that
   46                        			; is used rather than the shorter upper-case #define naming.
   47                        	
   48               0001     		.if	1				
   49               0001     	video_reg	=	$FF:0200, 1		; Address/Status Register
   50               0001     	video_reg_l	=	$FF:0200, 1		; Address/Status Register
   51               0001     	video_reg_h	=	$FF:0201, 1		; Address/Status Register
   52               0002     	video_data	=	$FF:0202, 2		; Data (Read/Write) Low
   53               0001     	video_data_l	=	$FF:0202, 1		; Data (Read/Write) Low
   54               0001     	video_data_h	=	$FF:0203, 1		; Data (Read/Write) High
   55                        	
   56               0002     	color_ctrl	=	$FF:0400, 2		; Control Register
   57               0002     	color_reg	=	$FF:0402, 2		; Color Table Address
   58               0001     	color_reg_l	=	$FF:0402, 1		; Color Table Address
   59               0001     	color_reg_h	=	$FF:0402, 1		; Color Table Address
   60               0002     	color_data	=	$FF:0404, 2		; Color Table Data Read/Write
   61               0001     	color_data_l	=	$FF:0404, 1		; Color Table Data Read/Write
   62               0001     	color_data_h	=	$FF:0405, 1		; Color Table Data Read/Write
   63                        	
   64               0001     	psg_ch		=	$FF:0800, 1		; Channel Select
   65               0001     	psg_mainvol	=	$FF:0801, 1		; Main Amplitude Level
   66               0001     	psg_freqlo	=	$FF:0802, 1		; Frequency Low
   67               0001     	psg_freqhi	=	$FF:0803, 1		; Frequency High
   68               0001     	psg_ctrl	=	$FF:0804, 1		; Control & Channel Amplitude
   69               0001     	psg_pan		=	$FF:0805, 1		; L/R Amplitude Level
   70               0001     	psg_wavebuf	=	$FF:0806, 1		; Waveform
   71               0001     	psg_noise	=	$FF:0807, 1		; Noise
   72               0001     	psg_lfofreq	=	$FF:0808, 1		; LFO Frequency
   73               0001     	psg_lfoctrl	=	$FF:0809, 1		; LFO Control
   74                        	
   75               0001     	irq_m		=	irq_vec, 1		; Old System Card name.
   76               0002     	irq2_jmp	=	irq2_hook, 2		; Old System Card name.
   77               0002     	irq1_jmp	=	irq1_hook, 2		; Old System Card name.
   78               0002     	timer_jmp	=	timer_hook, 2		; Old System Card name.
   79               0002     	nmi_jmp		=	nmi_hook, 2		; Old System Card name.
   80               0002     	sat_adr		=	satb_addr, 2		; Old System Card name.
   81               0005     	joy		=	joynow, 5		; Old System Card name.
   82               0001     	mwr_m		=	vdc_mwr, 1		; Old System Card name.
   83               0001     	dcr_m		=	vdc_dcr, 1		; Old System Card name.
   84                        		.endif
   85                        	
   86                        			; Macros for compatibility with #asm usage in old HuC projects.
   87                        	
   88                        	stw		.macro
   89                        			lda.l	\1
   90                        			sta.l	\2
   91                        			lda.h	\1
   92                        			sta.h	\2
   93                        			.endm
   94                        	
   95                        	stb		.macro
   96                        			lda	\1
   97                        			sta	\2
   98                        			.endm
   99                        	
  100                        	addw		.macro
  101                        		.if	(\# = 3)
  102                        			clc
  103                        			lda.l	\2
  104                        			adc.l	\1
  105                        			sta.l	\3
  106                        			lda.h	\2
  107                        			adc.h	\1
  108                        			sta.h	\3
  109                        		.else
  110                        			clc
  111                        			lda.l	\2
  112                        			adc.l	\1
  113                        			sta.l	\2
  114                        			lda.h	\2
  115                        			adc.h	\1
  116                        			sta.h	\2
  117                        		.endif
  118                        			.endm
  119                        	
  120                        	add		.macro			; add byte-sized value to
  121                        		.if (\# = 2)			; register A (handle carry
  122                        			lda	\2		; flag)
  123                        			clc
  124                        			adc	\1
  125                        			sta	\2
  126                        		.else
  127                        			clc
  128                        			adc	\1
  129                        		.endif
  130                        			.endm
  131                        	
  132                        	subw		.macro
  133                        			sec
  134                        			lda.l	\2
  135                        			sbc.l	\1
  136                        			sta.l	\2
  137                        			lda.h	\2
  138                        			sbc.h	\1
  139                        			sta.h	\2
  140                        			.endm
  141                        	
  142                        	sub		.macro			; subtract byte-sized value
  143                        		.if (\# = 2)			; from register A (handle
  144                        			lda	\2		; carry flag)
  145                        			sec
  146                        			sbc	\1
  147                        			sta	\2
  148                        		.else
  149                        			sec
  150                        			sbc	\1
  151                        		.endif
  152                        			.endm
  153                        	
  154                        	incw		.macro			; increment a word-sized
  155                        			inc.l	\1		; value at stated memory
  156                        			bne	!+		; location
  157                        			inc.h	\1
  158                        	!:
  159                        			.endm
  160                        	
  161                        	decw		.macro			; decrement a word-sized
  162                        			lda	\1		; value at stated memory
  163                        			bne	!+		; location
  164                        			dec.h	\1
  165                        	!:		dec.l	\1
  166                        			.endm
  167                        	
  168                        	lbne		.macro
  169                        			bne	\1
  170                        			.endm
  171                        	
  172                        	lbeq		.macro
  173                        			beq	\1
  174                        			.endm
  175                        	
  176                        	lbpl		.macro
  177                        			bpl	\1
  178                        			.endm
  179                        	
  180                        	lbmi		.macro
  181                        			bmi	\1
  182                        			.endm
  183                        	
  184                        	lbcc		.macro
  185                        			bcc	\1
  186                        			.endm
  187                        	
  188                        	lbcs		.macro
  189                        			bcs	\1
  190                        			.endm
  191                        	
  192                        	lblo		.macro
  193                        			bcc	\1
  194                        			.endm
  195                        	
  196                        	lbhs		.macro
  197                        			bcs	\1
  198                        			.endm
  199                        	
  200                        	__ldwi		.macro
  201                        		__ld.wi		\1
  202                        			.endm
                             #[2]   "..\..\..\include\hucc\hucc.asm"
  254                        		.endif
  255                        	
  256                        			;
  257                        			;
  258                        			;
  259                        	
  260                        	
  261                        	
  262                        	; ***************************************************************************
  263                        	; ***************************************************************************
  264                        	;
  265                        	; core_main - This is executed after "CORE(not TM)" library initialization.
  266                        	;
  267                        	; This is the first code assembled after the library includes, so we're still
  268                        	; in the CORE_BANK, usually ".bank 0"; and because this is assembled with the
  269                        	; default configuration from "include/core-config.inc", which sets the option
  270                        	; "USING_MPR7", then we're running in MPR7 ($E000-$FFFF).
  271                        	
  272    1F:DC9D             	core_main	.proc
  273                        	
  274               0001     		.if	SUPPORT_SGX
  275    1F:DC9D  A9 F9      			lda	#$F9			; Map the 2nd SGX RAM bank.
  276                        		.else
  278                        		.endif
  279    1F:DC9F  53 04      			tam2
  280                        	
  281    1F:DCA1  A9 01      			lda	#CONST_BANK + _bank_base; Map HuCC's .RODATA bank.
  282    1F:DCA3  53 08      			tam3
  283    1F:DCA5  1A         			inc	a
  284    1F:DCA6  53 10      			tam4
  285                        	
  286               0000     		.ifdef	HOME_BANK
  288                        		.else
  289    1F:DCA8  1A         			inc	a
  290                        		.endif
  291    1F:DCA9  53 20      			tam5
  292                        	
  293    1F:DCAB  08         			php				; Disable interrupts while
  294    1F:DCAC  78         			sei				; clearing overlay's BSS.
  295                        	
  296               0000     		.ifndef	USING_RCR_MACROS
  311                        		.endif	USING_RCR_MACROS
  312                        	
  313    1F:DCAD  A9 E0      			lda	#<hucc_vbl		; Setup HuCC's VBL IRQ handler.
  314    1F:DCAF  8D 08 22   			sta.l	vsync_hook
  315    1F:DCB2  A9 E2      			lda	#>hucc_vbl
  316    1F:DCB4  8D 09 22   			sta.h	vsync_hook
  317                        	
  318               0000     		.if	CDROM				; Overlays should clear BSS.
  320                        		.else
  321    1F:DCB7  73 04 DD F0			tii	.rom_tia, ram_tia, 16	; Only needed on HuCARD.
         1F:DCBB  22 10 00    
  322                        		.endif	CDROM
  323                        	
  324               0000     		.if	(_xinit_end - _xinit_start)	; Copy initialized BSS data.
  326                        		.endif
  327                        	
  328    1F:DCBE  F3 02 DD 08			tai	.stack_fill, __stack, HUCC_STACK_SZ
         1F:DCC2  20 80 00    
  329                        	
  330               0000     		.if	FAST_MULTIPLY
  339                        		.endif
  340                        	
  341    1F:DCC5  A9 10      			lda	#$10			; Enable HuCC's vblank IRQ
  342    1F:DCC7  04 F5      			tsb	<irq_vec		; handler.
  343                        	
  344                        			__sound_init			; Initialize a sound driver.
  345                        	
  346    1F:DCC9  AD 00 02   			lda	VDC_SR			; Purge any overdue VBL.
  347    1F:DCCC  9C 41 22   			stz	irq_cnt			; Make it easy to check.
  348                        	
  349    1F:DCCF  28         			plp				; Restore interrupts.
  350                        	
  351               0001     		.ifndef	HUCC_NO_DEFAULT_SCREEN
  352    1F:DCD0  20 D1 FF   			call	_init_256x224		; HuCC initializes the VDC and
  353    1F:DCD3  20 2A E4   			jsr	set_dspon		; turns the display on.
  354                        		.endif
  355                        	
  356               0001     		.ifndef	HUCC_NO_DEFAULT_FONT
  357    1F:DCD6  A9 01      			lda	#1			; HuCC loads a default font.
  358    1F:DCD8  8D 01 27   			sta	monofont_fg
  359    1F:DCDB  9C 02 27   			stz	monofont_bg
  360                        			_load_default_font
         1F:DCDE  82         			clx				; Offset to PCE VDC.
         1F:DCDF  20 C7 FF   			call	huc_monofont_x
  361    1F:DCE2  A9 01      			lda	#$01			; Set the font palette entry to
  362    1F:DCE4  8D 02 04   			sta.l	VCE_CTA			; cyan which is a) visible, but
  363    1F:DCE7  9C 03 04   			stz.h	VCE_CTA			; b) a clear indicator that the
  364    1F:DCEA  A0 96      			ldy	#$96			; user hasn't set a palette yet.
  365    1F:DCEC  8C 04 04   			sty.l	VCE_CTW
  366    1F:DCEF  8D 05 04   			sta.h	VCE_CTW
  367                        		.endif
  368                        	
  369               0001     		.ifndef	HUCC_NO_DEFAULT_RANDOM
  370    1F:DCF2  AC 41 22   			ldy	irq_cnt			; Initialize random seed.
  371    1F:DCF5  20 BD FF   			call	init_random
  372                        		.endif
  373                        	
  374    1F:DCF8  A2 80      			ldx	#HUCC_STACK_SZ		; Initialize the HuCC stack.
  375    1F:DCFA  86 8D      			stx	<__sp
  376                        	
  377    1F:DCFC  20 B3 FF   			call	_main			; Execute the HuCC program.
  378                        	
  379    1F:DCFF  4C 88 E2   			jmp	_exit.1			; Pass the exit code on.
  380                        	
  381    1F:DD02  EA EA      	.stack_fill:	db	$EA,$EA			; To make it easier to see.
  382                        	
  383               0001     		.if	!CDROM
  384                        	
  385    1F:DD04  E3 34 12 02	.rom_tia:	tia	$1234, VDC_DL, 32
         1F:DD08  02 20 00    
  386    1F:DD0B  60         			rts
  387                        	
  388    1F:DD0C  73 34 12 78	.rom_tii:	tii	$1234, $5678, $9ABC
         1F:DD10  56 BC 9A    
  389    1F:DD13  60         			rts
  390                        	
  391               22F0     			.bss
  392    F8:22F0             	ram_tia:	ds	8
  393    F8:22F8             	ram_tii:	ds	8
  394               DD14     			.code
  395                        	
  396                        		.endif	!CDROM
  397                        	
  398                        			.endp
  399                        	
  400                        			;
  401                        			; Self-Modifying TIA and TII instruction subroutines.
  402                        			;
  403                        			; These need to be in permanently-accessible memory so that
  404                        			; HuCC code can modify the values as __fastcall parameters.
  405                        			;
  406                        	
  407               0000     		.if	CDROM
  415                        		.endif	CDROM
  416                        	
  417               22F0     			rsset	ram_tia
  418               22F0     	ram_tia_opc	rs	1
  419               22F1     	ram_tia_src	rs	2
  420               22F3     	ram_tia_dst	rs	2
  421               22F5     	ram_tia_len	rs	2
  422               22F7     	ram_tia_rts	rs	1
  423                        	
  424               22F8     			rsset	ram_tii
  425               22F8     	ram_tii_opc	rs	1
  426               22F9     	ram_tii_src	rs	2
  427               22FB     	ram_tii_dst	rs	2
  428               22FD     	ram_tii_len	rs	2
  429               22FF     	ram_tii_rts	rs	1
  430                        	
  431                        	
  432                        	
  433                        	; ***************************************************************************
  434                        	; ***************************************************************************
  435                        	;
  436                        	; hucc_vbl - vblank IRQ handler, called by the "CORE(not TM)" kernel.
  437                        	;
  438                        	; This uses the kernel's hook to process things during vblank. It returns
  439                        	; with a simple RTS, and it can corrupt any register.
  440                        	;
  441                        	; Any slow routines in here should enable interrupts and protect itself from
  442                        	; re-entrancy problems.
  443                        	;
  444                        	
  445    00:E2E0  20 A9 FF   	hucc_vbl:	call	vbl_init_scroll		; Prepare for the next frame.
  446                        	
  447    00:E2E3  F8         			sed				; Update the HuC system clock
  448    00:E2E4  38         			sec				; which is in BCD here rather
  449    00:E2E5  AD EC 22   			lda	__clock_tt		; than the binary one in HuC.
  450    00:E2E8  69 00      			adc	#0			; BCD add ...
  451    00:E2EA  C9 60      			cmp	#$60			; ... but binary comparison.
  452    00:E2EC  90 28      			bcc	.ticks
  453    00:E2EE  AD ED 22   			lda	__clock_ss
  454    00:E2F1  69 00      			adc	#0			; BCD add ...
  455    00:E2F3  C9 60      			cmp	#$60			; ... but binary comparison.
  456    00:E2F5  90 1B      			bcc	.seconds
  457    00:E2F7  AD EE 22   			lda	__clock_mm
  458    00:E2FA  69 00      			adc	#0			; BCD add ...
  459    00:E2FC  C9 60      			cmp	#$60			; ... but binary comparison.
  460    00:E2FE  90 0E      			bcc	.minutes
  461    00:E300  AD EF 22   			lda	__clock_hh
  462    00:E303  69 00      			adc	#0			; BCD add ...
  463    00:E305  C9 12      			cmp	#$12			; ... but binary comparison.
  464    00:E307  90 01      			bcc	.hours
  465    00:E309  62         			cla
  466    00:E30A  8D EF 22   	.hours:		sta	__clock_hh
  467    00:E30D  62         			cla
  468    00:E30E  8D EE 22   	.minutes:	sta	__clock_mm
  469    00:E311  62         			cla
  470    00:E312  8D ED 22   	.seconds:	sta	__clock_ss
  471    00:E315  62         			cla
  472    00:E316  8D EC 22   	.ticks:		sta	__clock_tt
  473    00:E319  D8         			cld
  474                        	
  475    00:E31A  4C AA E3   			jmp	xfer_palettes		; Upload any palette changes.
                             #[1]   "Black_Tiger.s"
   15                        		.opt		@+
   16               E31D     		.code
   17                        	
   18                        		.dbg	line,	"..\..\..\include\hucc\globals.h", 1; // **************************************************************************
   19                        		.dbg	line,	"..\..\..\include\hucc\globals.h", 2; // **************************************************************************
   20                        		.dbg	line,	"..\..\..\include\hucc\globals.h", 3; //
   21                        		.dbg	line,	"..\..\..\include\hucc\globals.h", 4; // globals.h
   22                        		.dbg	line,	"..\..\..\include\hucc\globals.h", 5; //
   23                        		.dbg	line,	"..\..\..\include\hucc\globals.h", 6; // **************************************************************************
   24                        		.dbg	line,	"..\..\..\include\hucc\globals.h", 7; // **************************************************************************
   25                        		.dbg	line,	"..\..\..\include\hucc\globals.h", 8; //
   26                        		.dbg	line,	"..\..\..\include\hucc\globals.h", 9; // The idea is that you, a PCE developer, copy this file from the ../include/
   27                        		.dbg	line,	"..\..\..\include\hucc\globals.h", 10; // directory and into your project's directory, and then define the variables
   28                        		.dbg	line,	"..\..\..\include\hucc\globals.h", 11; // that you want to have shared access to in all overlay programs on your CD.
   29                        		.dbg	line,	"..\..\..\include\hucc\globals.h", 12; //
   30                        		.dbg	line,	"..\..\..\include\hucc\globals.h", 13; // Because PCEAS searches the current (i.e. project) directory for an include
   31                        		.dbg	line,	"..\..\..\include\hucc\globals.h", 14; // file first, then it will find your customized copy of the file rather than
   32                        		.dbg	line,	"..\..\..\include\hucc\globals.h", 15; // the original copy in the ../include/ directory.
   33                        		.dbg	line,	"..\..\..\include\hucc\globals.h", 16; //
   34                        		.dbg	line,	"..\..\..\include\hucc\globals.h", 17; // **************************************************************************
   35                        		.dbg	line,	"..\..\..\include\hucc\globals.h", 18; // **************************************************************************
   36                        		.dbg	clear
   37               2300     		.bss
   38    F8:2300             	huc_globals:
   39                        	
   40    F8:2300             	huc_globals_end:
   41               E31D     		.code
   42                        		.dbg	line,	"Black_Tiger.c", 1; #include "huc.h"
   43                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 1; #ifndef _hucc_legacy_h
   44                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 2; #define _hucc_legacy_h
   45                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 4; /****************************************************************************
   46                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 5; ; ***************************************************************************
   47                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 6; ;
   48                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 7; ; huc.h
   49                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 8; ;
   50                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 9; ; HuCC wrapper file to include a default set of HuC-compatible functions.
   51                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 10; ;
   52                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 11; ; Copyright John Brandwood 2024.
   53                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 12; ;
   54                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 13; ; Distributed under the Boost Software License, Version 1.0.
   55                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
   56                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
   57                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 16; ;
   58                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 17; ; ***************************************************************************
   59                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 18; ; ***************************************************************************
   60                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 19; ;
   61                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 20; ; When the HuCC compiler is invoked with the "--legacy" option to compile old
   62                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 21; ; projects, then this "huc.h" file is automatically included.
   63                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 22; ;
   64                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 23; ; This file includes a set of the individual HuCC headers which correspond to
   65                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 24; ; HuC's built-in functions and MagicKit library.
   66                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 25; ;
   67                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 26; ; New HuCC projects should, preferably, include the specific headers that are
   68                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 27; ; needed, which will then allow them to replace parts of the standard library
   69                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 28; ; with newer functions, or they can just manually include this "huc.h" file.
   70                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 29; ;
   71                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 30; ; ***************************************************************************
   72                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 31; ; **************************************************************************/
   73                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 33; #include "hucc-systemcard.h"
   74                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 1; #ifndef _hucc_systemcard_h
   75                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 2; #define _hucc_systemcard_h
   76                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 4; /****************************************************************************
   77                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 5; ; ***************************************************************************
   78                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 6; ;
   79                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 7; ; hucc-systemcard.h
   80                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 8; ;
   81                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 9; ; Macros and library functions for using the System Card.
   82                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 10; ;
   83                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 11; ; Copyright John Brandwood 2024.
   84                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 12; ;
   85                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 13; ; Distributed under the Boost Software License, Version 1.0.
   86                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
   87                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
   88                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 16; ;
   89                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 17; ; ***************************************************************************
   90                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 18; ; ***************************************************************************
   91                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 19; ;
   92                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 20; ; Because these are mainly macros, and so must be included before being used
   93                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 21; ; in compiled code, the actual functions here are written to avoid using any
   94                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 22; ; BSS memory so that HuCC's overlay global-shared-variables are not effected.
   95                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 23; ;
   96                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 24; ; ***************************************************************************
   97                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 25; ; **************************************************************************/
   98                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 27; // *************
   99                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 28; // Backup RAM defines ...
  100                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 29; // *************
  101                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 31; #define  BM_OK             0
  102                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 32; #define  BM_NOT_FOUND      1
  103                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 33; #define  BM_BAD_CHECKSUM   2
  104                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 34; #define  BM_DIR_CORRUPTED  3
  105                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 35; #define  BM_FILE_EMPTY     4
  106                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 36; #define  BM_FULL           5
  107                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 37; #define  BM_NOT_FORMATED   0xFF			// HuC incorrect spelling.
  108                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 38; #define  BM_NOT_FORMATTED  0xFF			// HuCC can use a dictionary!
  109                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 40; #define  BRAM_STARTPTR     0x8010
  110                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 42; // *************
  111                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 43; // CD defines ...
  112                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 44; // *************
  113                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 46; #define	CDPLAY_MUTE		0
  114                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 47; #define	CDPLAY_REPEAT		1
  115                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 48; #define	CDPLAY_NORMAL		2
  116                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 49; #define	CDPLAY_ENDOFDISC	0
  117                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 51; #define	CDFADE_CANCEL	0
  118                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 52; #define	CDFADE_PCM6	8
  119                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 53; #define	CDFADE_ADPCM6	10
  120                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 54; #define	CDFADE_PCM2	12
  121                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 55; #define	CDFADE_ADPCM2	14
  122                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 57; #define CDTRK_AUDIO	0
  123                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 58; #define CDTRK_DATA	4
  124                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 60; // *************
  125                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 61; // ADPCM defines ...
  126                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 62; // *************
  127                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 64; #define	ADPLAY_AUTOSTOP		0
  128                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 65; #define	ADPLAY_REPEAT		0x80
  129                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 67; #define ADPLAY_FREQ_16KHZ	0xE
  130                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 68; #define ADPLAY_FREQ_10KHZ	0xD
  131                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 69; #define ADPLAY_FREQ_8KHZ	0xC
  132                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 70; #define ADPLAY_FREQ_6KHZ	0xB
  133                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 71; #define ADPLAY_FREQ_5KHZ	0xA
  134                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 73; #define ADREAD_RAM	0
  135                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 74; #define ADREAD_VRAM	0xFF
  136                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 76; #define ADWRITE_RAM	0
  137                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 77; #define ADWRITE_VRAM	0xFF
  138                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 79; // *************
  139                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 80; // Functions in hucc-systemcard.asm ...
  140                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 81; // *************
  141                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 83; #ifdef __HUCC__
  142                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 85; #asmdef	HUCC_USES_SYSTEMCARD 1
  143               0001     	HUCC_USES_SYSTEMCARD = 1
  144                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 87; extern void __fastcall __macro cd_boot( void );
  145                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 88; extern unsigned int __fastcall __macro cd_getver( void );
  146                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 89; extern void __fastcall __macro cd_reset( void );
  147                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 90; extern unsigned char __fastcall __macro cd_pause( void );
  148                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 91; extern unsigned char __fastcall cd_unpause( void );
  149                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 92; extern void __fastcall __macro cd_fade( unsigned char type<acc> );
  150                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 93; extern unsigned char __fastcall cd_playtrk( unsigned char start_track<_bx>, unsigned char end_track<_cx>, unsigned char mode<_dh> );
  151                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 94; extern unsigned char __fastcall cd_playmsf( unsigned char start_minute<_al>,  unsigned char start_second<_ah>,  unsigned char start_frame<_bl>, unsigned char end_minute<_cl>,  unsigned char end_second<_ch>,  unsigned char end_frame<_dl>,  unsigned char mode<_dh> );
  152                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 95; extern unsigned char __fastcall cd_fastvram( unsigned char ovl_index<_cl>, unsigned int sect_offset<_si>, unsigned int vramaddr<_bx>, unsigned int sectors<_al> );
  153                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 96; extern unsigned char __fastcall cd_loadvram( unsigned char ovl_index<_cl>, unsigned int sect_offset<_si>, unsigned int vramaddr<_bx>, unsigned int bytes<_ax> );
  154                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 97; extern unsigned char __fastcall cd_loaddata( unsigned char ovl_index<_cl>, unsigned int sect_offset<_si>, unsigned char __far *buffer<_bp_bank:_bp>, unsigned int bytes<__ptr> );
  155                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 98; extern unsigned char __fastcall cd_loadbank( unsigned char ovl_index<_cl>, unsigned int sect_offset<_si>, unsigned char bank<_bl>, unsigned int sectors<_al> );
  156                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 99; extern unsigned char __fastcall __macro cd_status( unsigned char mode<acc> );
  157                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 101; extern void __fastcall __macro ad_reset( void );
  158                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 102; extern unsigned char __fastcall __macro ad_trans( unsigned char ovl_index<_cl>, unsigned int sect_offset<_si>, unsigned char nb_sectors<_dh>, unsigned int ad_addr<_bx> );
  159                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 103; extern void __fastcall __macro ad_read( unsigned int ad_addr<_cx>, unsigned char mode<_dh>, unsigned int buf<_bx>, unsigned int bytes<_ax> );
  160                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 104; extern void __fastcall __macro ad_write( unsigned int ad_addr<_cx>, unsigned char mode<_dh>, unsigned int buf<_bx>, unsigned int bytes<_ax> );
  161                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 105; extern unsigned char __fastcall __macro ad_play( unsigned int ad_addr<_bx>, unsigned int bytes<_ax>, unsigned char freq<_dh>, unsigned char mode<_dl> );
  162                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 106; extern unsigned char __fastcall __macro ad_cplay( unsigned char ovl_index<_cl>, unsigned int sect_offset<_si>, unsigned int nb_sectors<_bx>, unsigned char freq<_dh> );
  163                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 107; extern void __fastcall __macro ad_stop( void );
  164                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 108; extern unsigned char __fastcall __macro ad_stat( void );
  165                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 110; extern unsigned char __fastcall bm_check( void );
  166                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 111; extern unsigned char __fastcall bm_format( void );
  167                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 112; extern unsigned int __fastcall __macro bm_free( void );
  168                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 113; extern unsigned char __fastcall __macro bm_read( unsigned char *buffer<_bx>, unsigned char *name<_ax>, unsigned int offset<_dx>, unsigned int length<_cx> );
  169                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 114; extern unsigned char __fastcall __macro bm_write( unsigned char *buffer<_bx>, unsigned char *name<_ax>, unsigned int offset<_dx>, unsigned int length<_cx> );
  170                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 115; extern unsigned char __fastcall __macro bm_delete( unsigned char *name<_ax> );
  171                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 117; // Deprecated functions ...
  172                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 119; extern unsigned char __fastcall __macro bm_exist( unsigned char *name<_ax> );
  173                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 120; extern unsigned char __fastcall __macro bm_create( unsigned char *name<_ax>, unsigned int length<_cx> );
  174                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 122; // void __fastcall _xsafe add_sectors( unsigned int sector_offset<acc> );
  175                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 124; #endif // __HUCC__
  176                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 126; #endif // _hucc_systemcard_h
  177                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 34; #include "hucc-baselib.h"
  178                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 1; #ifndef _hucc_baselib_h
  179                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 2; #define _hucc_baselib_h
  180                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 4; /****************************************************************************
  181                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 5; ; ***************************************************************************
  182                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 6; ;
  183                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 7; ; hucc-baselib.h
  184                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 8; ;
  185                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 9; ; Basic library functions provided as macros.
  186                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 10; ;
  187                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 11; ; Copyright John Brandwood 2024.
  188                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 12; ;
  189                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 13; ; Distributed under the Boost Software License, Version 1.0.
  190                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
  191                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
  192                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 16; ;
  193                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 17; ; ***************************************************************************
  194                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 18; ; **************************************************************************/
  195                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 20; // *************
  196                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 21; // Joypad defines ...
  197                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 22; // *************
  198                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 24; #define	JOY_A		0x01
  199                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 25; #define	JOY_I		0x01
  200                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 26; #define	JOY_B		0x02
  201                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 27; #define	JOY_II		0x02
  202                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 28; #define	JOY_SLCT	0x04
  203                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 29; #define	JOY_SEL		0x04
  204                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 30; #define	JOY_STRT	0x08
  205                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 31; #define	JOY_RUN		0x08
  206                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 32; #define	JOY_UP		0x10
  207                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 33; #define	JOY_RGHT	0x20
  208                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 34; #define	JOY_RIGHT	0x20
  209                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 35; #define	JOY_DOWN	0x40
  210                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 36; #define	JOY_LEFT	0x80
  211                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 38; #define	JOY_C		0x0100
  212                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 39; #define	JOY_III		0x0100
  213                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 40; #define	JOY_D		0x0200
  214                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 41; #define	JOY_IV		0x0200
  215                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 42; #define	JOY_E		0x0400
  216                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 43; #define	JOY_V		0x0400
  217                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 44; #define	JOY_F		0x0800
  218                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 45; #define	JOY_VI		0x0800
  219                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 47; #define JOY_SIXBUT	0x8000
  220                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 48; #define JOY_TYPE6	0x8000
  221                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 50; // *************
  222                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 51; // SuperGRAFX VPC settings for set_vpc_ctl() ...
  223                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 52; // *************
  224                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 54; #define VPC_SPR1_BKG1_SPR2_BKG2	0x3000 // same as SGX_PARALLAX=0
  225                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 55; #define VPC_SPR1_SPR2_BKG1_BKG2	0x7000 // same as SGX_PARALLAX=1
  226                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 56; #define VPC_BKG1_BKG2_SPR1_SPR2	0xB000
  227                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 58; // *************
  228                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 59; // System Card variables ...
  229                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 60; // *************
  230                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 62; extern unsigned int si;
  231                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 63; extern unsigned int di;
  232                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 64; extern unsigned int bp;
  233                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 66; extern unsigned int ax;
  234                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 67; extern unsigned int bx;
  235                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 68; extern unsigned int cx;
  236                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 69; extern unsigned int dx;
  237                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 71; extern unsigned char al;
  238                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 72; extern unsigned char ah;
  239                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 73; extern unsigned char bl;
  240                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 74; extern unsigned char bh;
  241                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 75; extern unsigned char cl;
  242                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 76; extern unsigned char ch;
  243                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 77; extern unsigned char dl;
  244                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 78; extern unsigned char dh;
  245                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 80; extern unsigned char irq_cnt;
  246                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 81; extern unsigned char joynow[5];
  247                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 82; extern unsigned char joytrg[5];
  248                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 83; extern unsigned char joy6now[5];
  249                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 84; extern unsigned char joy6trg[5];
  250                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 85; extern unsigned int  bg_x1;
  251                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 86; extern unsigned int  bg_y1;
  252                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 87; extern unsigned int  bg_x2;
  253                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 88; extern unsigned int  bg_y2;
  254                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 90; // *************
  255                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 91; // Special macros to get information from PCEAS ...
  256                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 92; // *************
  257                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 94; #define BANK( datasym ) ((unsigned) (&__bank__ ## datasym))
  258                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 95; #define SIZEOF( datasym ) ((unsigned) (&__sizeof__ ## datasym))
  259                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 96; #define COUNTOF( datasym ) ((unsigned) (&__countof__ ## datasym))
  260                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 97; #define OVERLAY( datasym ) ((unsigned) (&__overlay__ ## datasym))
  261                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 100; // *************
  262                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 101; // Functions in hucc-baselib.asm ...
  263                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 102; // *************
  264                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 104; #ifdef __HUCC__
  265                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 106; #asmdef	HUCC_USES_BASELIB 1
  266               0001     	HUCC_USES_BASELIB = 1
  267                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 108; #define	_OPTIMIZE 1
  268                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 111; // *************
  269                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 112; // Hardware Detection
  270                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 113; // *************
  271                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 115; extern unsigned char __fastcall __macro sgx_detect( void );
  272                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 116; extern unsigned char __fastcall __macro ac_exists( void );
  273                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 119; // *************
  274                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 120; // Memory Access
  275                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 121; // *************
  276                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 123; extern unsigned char __fastcall __macro peek( unsigned int addr<__ptr> );
  277                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 124; extern unsigned int  __fastcall __macro peekw( unsigned int addr<__ptr> );
  278                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 126; extern void __fastcall __macro poke( unsigned int addr<__poke>, unsigned char with<acc> );
  279                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 127; extern void __fastcall __macro pokew( unsigned int addr<__poke>, unsigned int with<acc> );
  280                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 129; extern unsigned char __fastcall farpeek( void __far *addr<_bp_bank:_bp> );
  281                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 130; extern unsigned int  __fastcall farpeekw( void __far *addr<_bp_bank:_bp> );
  282                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 132; extern void __fastcall __nop set_far_base( unsigned char data_bank<_bp_bank>, unsigned char *data_addr<_bp> );
  283                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 133; extern void __fastcall set_far_offset( unsigned int offset<_bp>, unsigned char data_bank<_bp_bank>, unsigned char *data_addr<acc> );
  284                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 135; extern unsigned char __fastcall far_peek( void );
  285                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 136; extern unsigned int  __fastcall far_peekw( void );
  286                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 138; extern void __fastcall __macro reset_mpr2( void );
  287                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 139; extern void __fastcall __macro reset_mpr34( void );
  288                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 141; extern void * __fastcall __macro farset_mpr2( void __far *addr<_bp_bank:_bp> );
  289                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 142; extern void * __fastcall __macro farset_mpr34( void __far *addr<_bp_bank:_bp> );
  290                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 144; extern void * __fastcall __macro far_set_mpr2( void );
  291                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 145; extern void * __fastcall __macro far_set_mpr34( void );
  292                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 148; // *************
  293                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 149; // Clock Functions
  294                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 150; // *************
  295                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 152; extern unsigned char __fastcall __macro clock_hh( void );
  296                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 153; extern unsigned char __fastcall __macro clock_mm( void );
  297                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 154; extern unsigned char __fastcall __macro clock_ss( void );
  298                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 155; extern unsigned char __fastcall __macro clock_tt( void );
  299                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 156; extern void __fastcall __macro clock_reset( void );
  300                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 159; // *************
  301                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 160; // Joypad Functions
  302                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 161; // *************
  303                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 163; extern unsigned int __fastcall __macro joy( unsigned char which<acc> );
  304                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 164; extern unsigned int __fastcall __macro joytrg( unsigned char which<acc> );
  305                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 167; // *************
  306                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 168; // Number Functions
  307                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 169; // *************
  308                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 171; extern void __fastcall __macro srand( unsigned char seed<acc> );
  309                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 172; extern unsigned int __fastcall rand( void );
  310                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 173; extern unsigned char __fastcall rand8( void );
  311                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 175; // Note: "limit" is 0..255.
  312                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 176; extern unsigned char __fastcall random8( unsigned char limit<acc> );
  313                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 178; // Note: "limit" is 0..128, 129..255 are treated as 128!
  314                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 179; extern unsigned char __fastcall random( unsigned char limit<acc> );
  315                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 182; // *************
  316                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 183; // Overlay Execution
  317                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 184; // *************
  318                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 186; extern unsigned char __fastcall __macro cd_execoverlay( unsigned char ovl_index<acc> );
  319                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 189; // *************
  320                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 190; // Functions that are only optionally available if configured in your hucc-config.inc
  321                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 191; // *************
  322                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 193; extern unsigned int __fastcall __macro joybuf( unsigned char which<acc> );
  323                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 194; extern unsigned int __fastcall __macro get_joy_events( unsigned char which<acc> );
  324                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 195; extern void __fastcall __macro clear_joy_events( unsigned char mask<acc> );
  325                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 198; // *************
  326                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 199; // Functions that are only implemented in the TGEMU emulator for unit-testing
  327                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 200; // the compiler, and which should never be used in normal HuCC projects ...
  328                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 201; // *************
  329                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 203; extern void __fastcall dump_screen( void );
  330                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 205; #endif // __HUCC__
  331                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 207; #endif // _hucc_baselib_h
  332                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 35; #include "hucc-gfx.h"
  333                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 1; #ifndef _hucc_gfx_h
  334                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 2; #define _hucc_gfx_h
  335                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 4; /****************************************************************************
  336                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 5; ; ***************************************************************************
  337                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 6; ;
  338                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 7; ; huc-gfx.h
  339                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 8; ;
  340                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 9; ; Based on the original HuC and MagicKit functions by David Michel and the
  341                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 10; ; other original HuC developers.
  342                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 11; ;
  343                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 12; ; Modifications copyright John Brandwood 2024.
  344                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 13; ;
  345                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 14; ; Distributed under the Boost Software License, Version 1.0.
  346                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 15; ; (See accompanying file LICENSE_1_0.txt or copy at
  347                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 16; ;  http://www.boost.org/LICENSE_1_0.txt)
  348                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 17; ;
  349                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 18; ; ***************************************************************************
  350                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 19; ; **************************************************************************/
  351                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 21; // *************
  352                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 22; // Screen defines ...
  353                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 23; // *************
  354                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 25; #define	SCR_SIZE_32x32	0
  355                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 26; #define	SCR_SIZE_64x32	1
  356                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 27; #define	SCR_SIZE_128x32	2
  357                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 28; #define	SCR_SIZE_32x64	4
  358                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 29; #define	SCR_SIZE_64x64	5
  359                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 30; #define	SCR_SIZE_128x64	6
  360                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 32; #define	XRES_SHARP	0
  361                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 33; #define	XRES_SOFT	4
  362                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 34; #define	XRES_KEEP	128
  363                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 36; #define VPC_WIN_A	0x00
  364                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 37; #define VPC_WIN_B	0x01
  365                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 38; #define	VPC_WIN_AB	0x02
  366                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 39; #define	VPC_WIN_NONE	0x03
  367                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 40; #define	VPC_NORM	0x00
  368                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 41; #define	VPC_SPR		0x04
  369                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 42; #define	VPC_INV_SPR	0x08
  370                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 43; #define VDC1_ON		0x01
  371                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 44; #define	VDC1_OFF	0x00
  372                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 45; #define VDC2_ON		0x02
  373                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 46; #define	VDC2_OFF	0x00
  374                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 47; #define VDC_ON		0x03
  375                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 48; #define	VDC_OFF		0x00
  376                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 50; // *************
  377                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 51; // Functions in hucc-gfx.asm ...
  378                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 52; // *************
  379                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 54; #ifdef __HUCC__
  380                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 56; #asmdef	HUCC_USES_GFX 1
  381               0001     	HUCC_USES_GFX = 1
  382                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 58; // *************
  383                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 59; // Color and Palette Functions
  384                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 60; // *************
  385                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 62; extern void __fastcall clear_palette( void );
  386                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 64; extern void __fastcall __nop set_color( unsigned int index<VCE_CTA>, unsigned int value<VCE_CTW> );
  387                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 65; extern void __fastcall set_color_rgb( unsigned int index<VCE_CTA>, unsigned char r<_al>, unsigned char g<_ah>, unsigned char b<acc> );
  388                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 66; extern unsigned int __fastcall __macro get_color( unsigned int index<VCE_CTA> );
  389                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 68; extern void __fastcall load_palette( unsigned char palette<_al>, unsigned char __far *data<_bp_bank:_bp>, unsigned char num_palettes<_ah> );
  390                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 69; extern void __fastcall far_load_palette( unsigned char palette<_al>, unsigned char num_palettes<_ah> );
  391                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 71; extern void __fastcall read_palette( unsigned char palette<_al>, unsigned char num_palettes<_ah>, unsigned int *destination<_di> );
  392                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 73; extern void __fastcall __macro fade_to_black( unsigned int __far *from<_bp_bank:_bp>, unsigned int *destination<_di>, unsigned char num_colors<_al>, unsigned char value_to_sub<_ah> );
  393                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 74; extern void __fastcall __macro fade_to_white( unsigned int __far *from<_bp_bank:_bp>, unsigned int *destination<_di>, unsigned char num_colors<_al>, unsigned char value_to_add<_ah> );
  394                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 75; extern void __fastcall __macro cross_fade_to( unsigned int __far *from<_bp_bank:_bp>, unsigned int *destination<_di>, unsigned char num_colors<_al>, unsigned char which_component<_ah> );
  395                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 77; extern void __fastcall __macro far_fade_to_black( unsigned int *destination<_di>, unsigned char num_colors<_al>, unsigned char value_to_sub<_ah> );
  396                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 78; extern void __fastcall __macro far_fade_to_white( unsigned int *destination<_di>, unsigned char num_colors<_al>, unsigned char value_to_add<_ah> );
  397                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 79; extern void __fastcall __macro far_cross_fade_to( unsigned int *destination<_di>, unsigned char num_colors<_al>, unsigned char which_component<_ah> );
  398                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 83; // *************
  399                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 84; // Video Functions
  400                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 85; // *************
  401                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 87; extern void __fastcall init_240x208( void );
  402                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 88; extern void __fastcall init_256x224( void );
  403                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 90; extern void __fastcall vsync( void );
  404                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 91; extern void __fastcall vsync( unsigned char count<_al> );
  405                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 93; extern void __fastcall disp_on( void );
  406                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 94; extern void __fastcall disp_off( void );
  407                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 96; extern void __fastcall set_screen_size( unsigned char value<_al> );
  408                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 98; extern void __fastcall set_xres( unsigned int x_pixels<_ax>, unsigned char blur_flag<_bl> );
  409                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 100; extern void __fastcall cls( void );
  410                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 101; extern void __fastcall cls( unsigned int tile<acc> );
  411                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 103; extern unsigned int __fastcall __macro vram_addr( unsigned char bat_x<_al>, unsigned char bat_y<_ah> );
  412                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 104; extern unsigned int __fastcall __macro get_vram( unsigned int address<_di> );
  413                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 105; extern void __fastcall __macro put_vram( unsigned int address<_di>, unsigned int data<acc> );
  414                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 107; extern void __fastcall __macro load_vram( unsigned int vram<_di>, unsigned char __far *data<_bp_bank:_bp>, unsigned int num_words<_ax> );
  415                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 108; extern void __fastcall __macro far_load_vram( unsigned int vram<_di>,  unsigned int num_words<_ax> );
  416                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 110; extern void __fastcall load_bat( unsigned int vram<_di>, unsigned char __far *data<_bp_bank:_bp>, unsigned char tiles_w<_al>, unsigned char tiles_h<_ah> );
  417                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 111; extern void __fastcall far_load_bat( unsigned int vram<_di>, unsigned char tiles_w<_al>, unsigned char tiles_h<_ah> );
  418                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 113; extern void __fastcall __macro load_sprites( unsigned int vram<_di>, unsigned char __far *data<_bp_bank:_bp>, unsigned int num_groups<acc> );
  419                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 114; extern void __fastcall __macro far_load_sprites( unsigned int vram<_di>, unsigned int num_groups<acc> );
  420                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 116; extern void __fastcall vram2vram( unsigned int vram_dst<_ax>, unsigned int vram_src<_bx>, unsigned int word_len<_cx> );
  421                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 119; // *************
  422                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 120; // SuperGRAFX Video Functions
  423                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 121; // *************
  424                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 123; extern void __fastcall __nop vpc_set_ctl( unsigned int bits<VPC_CR> );
  425                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 124; extern void __fastcall __nop vpc_set_win1( unsigned int width<VPC_WINDOW1> );
  426                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 125; extern void __fastcall __nop vpc_set_win2( unsigned int width<VPC_WINDOW2> );
  427                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 127; extern void __fastcall sgx_set_screen_size( unsigned char value<_al> );
  428                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 129; extern void __fastcall sgx_set_xres( unsigned int x_pixels<_ax>, unsigned char blur_flag<_bl> );
  429                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 131; extern void __fastcall sgx_cls( void );
  430                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 132; extern void __fastcall sgx_cls( unsigned int tile<acc> );
  431                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 134; extern unsigned int __fastcall __macro sgx_vram_addr( unsigned char bat_x<_al>, unsigned char bat_y<_ah> );
  432                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 135; extern unsigned int __fastcall __macro sgx_get_vram( unsigned int address<_di> );
  433                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 136; extern void __fastcall __macro sgx_put_vram( unsigned int address<_di>, unsigned int data<acc> );
  434                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 138; extern void __fastcall __macro sgx_load_vram( unsigned int vram<_di>, unsigned char __far *data<_bp_bank:_bp>, unsigned int num_words<_ax> );
  435                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 139; extern void __fastcall __macro sgx_far_load_vram( unsigned int vram<_di>, unsigned int num_words<_ax> );
  436                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 141; extern void __fastcall sgx_load_bat( unsigned int vram<_di>, unsigned char __far *data<_bp_bank:_bp>, unsigned char tiles_w<_al>, unsigned char tiles_h<_ah> );
  437                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 142; extern void __fastcall sgx_far_load_bat( unsigned int vram<_di>, unsigned char tiles_w<_al>, unsigned char tiles_h<_ah> );
  438                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 144; extern void __fastcall __macro sgx_load_sprites( unsigned int vram<_di>, unsigned char __far *data<_bp_bank:_bp>, unsigned int num_groups<acc> );
  439                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 145; extern void __fastcall __macro sgx_far_load_sprites( unsigned int vram<_di>, unsigned int num_groups<acc> );
  440                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 147; extern void __fastcall sgx_vram2vram( unsigned int vram_dst<_ax>, unsigned int vram_src<_bx>, unsigned int word_len<_cx> );
  441                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 150; // *************
  442                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 151; // Font Functions
  443                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 152; // *************
  444                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 154; extern void __fastcall set_font_addr( unsigned int vram<acc> );
  445                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 155; extern void __fastcall set_font_pal( unsigned char palette<acc> );
  446                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 157; extern void __fastcall load_font( unsigned char __far *font<_bp_bank:_bp>, unsigned char count<_al>, unsigned int vram<acc> );
  447                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 158; extern void __fastcall far_load_font( unsigned char count<_al>, unsigned int vram<acc> );
  448                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 160; extern void __fastcall __nop set_font_color( unsigned char foreground<monofont_fg>, unsigned char background<monofont_bg> );
  449                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 161; extern void __fastcall __macro load_default_font( void );
  450                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 164; // *************
  451                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 165; // SuperGRAFX Font Functions
  452                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 166; // *************
  453                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 168; extern void __fastcall sgx_set_font_addr( unsigned int vram<acc> );
  454                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 169; extern void __fastcall sgx_set_font_pal( unsigned char palette<acc> );
  455                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 171; extern void __fastcall sgx_load_font( char __far *font<_bp_bank:_bp>, unsigned char count<_al>, unsigned int vram<acc> );
  456                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 172; extern void __fastcall sgx_far_load_font( unsigned char count<_al>, unsigned int vram<acc> );
  457                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 174; extern void __fastcall __macro sgx_load_default_font( void );
  458                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 177; // *************
  459                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 178; // Deprecated functions ...
  460                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 179; // *************
  461                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 181; extern void __fastcall __macro set_xres( unsigned int x_pixels<_ax> );
  462                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 182; extern void __fastcall __macro sgx_set_xres( unsigned int x_pixels<_ax> );
  463                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 184; extern void __fastcall load_background( unsigned char __far *tiles<_bp_bank:_bp>, unsigned char __far *palettes<__fbank:__fptr>, unsigned char __far *bat<_cl:_bx>, unsigned char w<_dl>, unsigned char h<_dh> );
  464                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 186; extern void __fastcall __macro set_bgpal( unsigned char palette<_al>, unsigned char __far *data<_bp_bank:_bp> );
  465                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 187; extern void __fastcall __macro set_bgpal( unsigned char palette<_al>, unsigned char __far *data<_bp_bank:_bp>, unsigned int num_palettes<_ah> );
  466                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 188; extern void __fastcall __macro set_sprpal( unsigned char palette<_al>, unsigned char __far *data<_bp_bank:_bp> );
  467                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 189; extern void __fastcall __macro set_sprpal( unsigned char palette<_al>, unsigned char __far *data<_bp_bank:_bp>, unsigned int num_palettes<_ah> );
  468                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 191; extern void __fastcall load_font( char __far *font<_bp_bank:_bp>, unsigned char count<_al> );
  469                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 193; extern void __fastcall put_string( unsigned char *string<_bp>, unsigned char bat_x<_dil>, unsigned char bat_y<_dih> );
  470                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 195; extern void __fastcall put_char( unsigned char digit<_bl>, unsigned char bat_x<_dil>, unsigned char bat_y<_dih> );
  471                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 196; extern void __fastcall put_digit( unsigned char digit<_bl>, unsigned char bat_x<_dil>, unsigned char bat_y<_dih> );
  472                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 197; extern void __fastcall put_hex( unsigned int number<_bx>, unsigned char length<_cl>, unsigned char bat_x<_dil>, unsigned char bat_y<_dih> );
  473                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 198; extern void __fastcall put_number( unsigned int number<_bx>, unsigned char length<_cl>, unsigned char bat_x<_dil>, unsigned char bat_y<_dih> );
  474                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 199; extern void __fastcall put_raw( unsigned int data<_bx>, unsigned char bat_x<_dil>, unsigned char bat_y<_dih> );
  475                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 201; #endif // __HUCC__
  476                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 203; #endif // _hucc_gfx_h
  477                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 36; #include "hucc-old-scroll.h"
  478                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 1; #ifndef _hucc_old_scroll_h
  479                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 2; #define _hucc_old_scroll_h
  480                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 4; /****************************************************************************
  481                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 5; ; ***************************************************************************
  482                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 6; ;
  483                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 7; ; hucc-old-scroll.h
  484                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 8; ;
  485                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 9; ; Based on the original HuC and MagicKit functions by David Michel and the
  486                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 10; ; other original HuC developers.
  487                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 11; ;
  488                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 12; ; Modifications copyright John Brandwood 2024.
  489                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 13; ;
  490                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 14; ; Distributed under the Boost Software License, Version 1.0.
  491                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 15; ; (See accompanying file LICENSE_1_0.txt or copy at
  492                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 16; ;  http://www.boost.org/LICENSE_1_0.txt)
  493                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 17; ;
  494                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 18; ; ***************************************************************************
  495                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 19; ; ***************************************************************************
  496                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 20; ;
  497                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 21; ; HuC's old scrolling library is provided for use with existing HuC projects,
  498                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 22; ; but it should preferably be avoided in new projects because it is slow and
  499                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 23; ; forever limited by its choice to handle gaps between areas, and sorting.
  500                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 24; ;
  501                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 25; ; HuCC's new scrolling library puts the responibility for defining both gaps
  502                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 26; ; and the display order into the project's hands, but in return it runs much
  503                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 27; ; faster, using less than 1/6 of the processing time in VBLANK, and far less
  504                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 28; ; time in the RCR interrputs themselves. It also supports the 2nd SuperGRAFX
  505                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 29; ; screen layer, which HuC's old scrolling library ignores.
  506                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 30; ;
  507                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 31; ; ***************************************************************************
  508                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 32; ; **************************************************************************/
  509                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 34; // *************
  510                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 35; // Functions in hucc-old-scroll.asm ...
  511                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 36; // *************
  512                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 38; #ifdef __HUCC__
  513                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 40; #asmdef	HUCC_USES_OLD_SCROLL 1
  514               0001     	HUCC_USES_OLD_SCROLL = 1
  515                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 42; extern void __fastcall scroll( unsigned char num<_al>, unsigned int x<_cx>, unsigned int y<_dx>, unsigned char top<_ah>, unsigned char bottom<_bl>, unsigned char disp<acc> );
  516                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 43; extern void __fastcall scroll_disable( unsigned char num<acc> );
  517                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 45; #endif // __HUCC__
  518                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 47; #endif // _hucc_old_scroll_h
  519                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 37; #include "hucc-old-spr.h"
  520                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 1; #ifndef _hucc_old_spr_h
  521                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 2; #define _hucc_old_spr_h
  522                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 4; /****************************************************************************
  523                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 5; ; ***************************************************************************
  524                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 6; ;
  525                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 7; ; hucc-old-spr.h
  526                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 8; ;
  527                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 9; ; Based on the original HuC and MagicKit functions by David Michel and the
  528                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 10; ; other original HuC developers.
  529                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 11; ;
  530                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 12; ; Modifications copyright John Brandwood 2024.
  531                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 13; ;
  532                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 14; ; Distributed under the Boost Software License, Version 1.0.
  533                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 15; ; (See accompanying file LICENSE_1_0.txt or copy at
  534                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 16; ;  http://www.boost.org/LICENSE_1_0.txt)
  535                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 17; ;
  536                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 18; ; ***************************************************************************
  537                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 19; ; **************************************************************************/
  538                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 21; // *************
  539                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 22; // Sprite defines ...
  540                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 23; // *************
  541                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 25; #define FLIP_X_MASK 0x08
  542                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 26; #define FLIP_Y_MASK 0x80
  543                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 27; #define FLIP_MAS    0x88
  544                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 28; #define SIZE_MAS    0x31
  545                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 30; #define NO_FLIP     0x00
  546                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 31; #define NO_FLIP_X   0x00
  547                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 32; #define NO_FLIP_Y   0x00
  548                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 33; #define FLIP_X      0x08
  549                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 34; #define FLIP_Y      0x80
  550                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 35; #define SZ_16x16    0x00
  551                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 36; #define SZ_16x32    0x10
  552                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 37; #define SZ_16x64    0x30
  553                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 38; #define SZ_32x16    0x01
  554                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 39; #define SZ_32x32    0x11
  555                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 40; #define	SZ_32x64    0x31
  556                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 42; // *************
  557                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 43; // Functions in hucc-old-spr.asm ...
  558                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 44; // *************
  559                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 46; #ifdef __HUCC__
  560                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 48; #asmdef	HUCC_USES_OLD_SPR 1
  561               0001     	HUCC_USES_OLD_SPR = 1
  562                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 50; extern void __fastcall init_satb( void );
  563                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 51; extern void __fastcall reset_satb( void );
  564                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 52; extern void __fastcall satb_update( void );
  565                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 53; extern void __fastcall spr_set( unsigned char num<acc> );
  566                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 54; extern void __fastcall spr_hide( void );
  567                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 55; extern void __fastcall spr_show( void );
  568                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 56; extern void __fastcall spr_x( unsigned int value<acc> );
  569                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 57; extern void __fastcall spr_y( unsigned int value<acc> );
  570                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 58; extern void __fastcall spr_pattern( unsigned int vaddr<acc> );
  571                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 59; extern void __fastcall spr_ctrl( unsigned char mask<_al>, unsigned char value<acc> );
  572                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 60; extern void __fastcall spr_pal( unsigned char palette<acc> );
  573                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 61; extern void __fastcall spr_pri( unsigned char priority<acc> );
  574                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 63; extern unsigned int __fastcall spr_get_x( void );
  575                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 64; extern unsigned int __fastcall spr_get_y( void );
  576                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 66; extern void __fastcall sgx_init_satb( void );
  577                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 67; extern void __fastcall sgx_reset_satb( void );
  578                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 68; extern void __fastcall sgx_satb_update( void );
  579                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 69; extern void __fastcall sgx_spr_set( unsigned char num<acc> );
  580                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 70; extern void __fastcall sgx_spr_hide( void );
  581                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 71; extern void __fastcall sgx_spr_show( void );
  582                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 72; extern void __fastcall sgx_spr_x( unsigned int value<acc> );
  583                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 73; extern void __fastcall sgx_spr_y( unsigned int value<acc> );
  584                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 74; extern void __fastcall sgx_spr_pattern( unsigned int vaddr<acc> );
  585                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 75; extern void __fastcall sgx_spr_ctrl( unsigned char mask<_al>, unsigned char value<acc> );
  586                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 76; extern void __fastcall sgx_spr_pal( unsigned char palette<acc> );
  587                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 77; extern void __fastcall sgx_spr_pri( unsigned char priority<acc> );
  588                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 79; extern unsigned int __fastcall sgx_spr_get_x( void );
  589                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 80; extern unsigned int __fastcall sgx_spr_get_y( void );
  590                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 82; #endif // __HUCC__
  591                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 84; #endif // _hucc_old_spr_h
  592                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 38; #include "hucc-old-map.h"
  593                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 1; #ifndef _hucc_old_map_h
  594                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 2; #define _hucc_old_map_h
  595                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 4; /****************************************************************************
  596                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 5; ; ***************************************************************************
  597                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 6; ;
  598                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 7; ; hucc-old-map.h
  599                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 8; ;
  600                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 9; ; Based on the original HuC and MagicKit functions by David Michel and the
  601                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 10; ; other original HuC developers.
  602                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 11; ;
  603                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 12; ; Modifications copyright John Brandwood 2024.
  604                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 13; ;
  605                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 14; ; Distributed under the Boost Software License, Version 1.0.
  606                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 15; ; (See accompanying file LICENSE_1_0.txt or copy at
  607                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 16; ;  http://www.boost.org/LICENSE_1_0.txt)
  608                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 17; ;
  609                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 18; ; ***************************************************************************
  610                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 19; ; **************************************************************************/
  611                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 21; // *************
  612                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 22; // Functions in hucc-old-map.asm ...
  613                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 23; // *************
  614                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 25; #ifdef __HUCC__
  615                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 27; #asmdef	HUCC_USES_OLD_MAP 1
  616               0001     	HUCC_USES_OLD_MAP = 1
  617                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 29; extern void __fastcall set_tile_address( unsigned int vram<_di> );
  618                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 30; extern void __fastcall sgx_set_tile_address( unsigned int vram<_di> );
  619                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 32; extern void __fastcall __nop set_tile_data( unsigned char __far *tiles<vdc_tile_bank:vdc_tile_addr>, unsigned char num_tiles<vdc_num_tiles>, unsigned char __far *palette_table<vdc_attr_bank:vdc_attr_addr>, unsigned char tile_type<vdc_tile_type> );
  620                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 33; extern void __fastcall __nop sgx_set_tile_data( unsigned char __far *tiles<sgx_tile_bank:sgx_tile_addr>, unsigned char num_tiles<sgx_num_tiles>, unsigned char __far *palette_table<sgx_attr_bank:sgx_attr_addr>, unsigned char tile_type<sgx_tile_type> );
  621                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 35; extern void __fastcall __nop set_far_tile_data( unsigned char tile_bank<vdc_tile_bank>, unsigned char *tile_addr<vdc_tile_addr>, unsigned char num_tiles<vdc_num_tiles>, unsigned char palette_table_bank<vdc_attr_bank>, unsigned char *palette_table_addr<vdc_attr_addr>, unsigned char tile_type<vdc_tile_type> );
  622                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 36; extern void __fastcall __nop sgx_set_far_tile_data( unsigned char tile_bank<sgx_tile_bank>, unsigned char *tile_addr<sgx_tile_addr>, unsigned char num_tiles<sgx_num_tiles>, unsigned char palette_table_bank<sgx_attr_bank>, unsigned char *palette_table_addr<sgx_attr_addr>, unsigned char tile_type<sgx_tile_type> );
  623                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 38; extern void __fastcall __nop set_map_data( unsigned char __far *map<vdc_map_bank:vdc_map_addr>, unsigned char w<vdc_map_width>, unsigned char h<vdc_map_height> );
  624                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 39; extern void __fastcall __nop sgx_set_map_data( unsigned char __far *map<sgx_map_bank:sgx_map_addr>, unsigned char w<sgx_map_width>, unsigned char h<sgx_map_height> );
  625                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 41; extern void __fastcall __nop set_far_map_data( unsigned char map_bank<vdc_map_bank>, unsigned char *map_addr<vdc_map_addr>, unsigned char w<vdc_map_width>, unsigned char h<vdc_map_height> );
  626                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 42; extern void __fastcall __nop sgx_set_far_map_data( unsigned char map_bank<vdc_map_bank>, unsigned char *map_addr<vdc_map_addr>, unsigned char w<sgx_map_width>, unsigned char h<sgx_map_height> );
  627                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 44; extern void __fastcall load_tile( unsigned int vram<_di> );
  628                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 45; extern void __fastcall sgx_load_tile( unsigned int vram<_di> );
  629                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 47; extern void __fastcall load_map( unsigned char bat_x<_al>, unsigned char bat_y<_ah>, int map_x<_bx>, int map_y<_dx>, unsigned char tiles_w<_cl>, unsigned char tiles_h<_ch> );
  630                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 48; extern void __fastcall sgx_load_map( unsigned char bat_x<_al>, unsigned char bat_y<_ah>, int map_x<_bx>, int map_y<_dx>, unsigned char tiles_w<_cl>, unsigned char tiles_h<_ch> );
  631                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 50; extern unsigned char __fastcall map_get_tile( unsigned char map_x<_bl>, unsigned char map_y<_bh> );
  632                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 51; extern unsigned char __fastcall sgx_map_get_tile( unsigned char map_x<_bl>, unsigned char map_y<_bh> );
  633                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 53; extern void __fastcall map_put_tile( unsigned char map_x<_bl>, unsigned char map_y<_bh>, unsigned char tile<_al> );
  634                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 54; extern void __fastcall sgx_map_put_tile( unsigned char map_x<_bl>, unsigned char map_y<_bh>, unsigned char tile<_al> );
  635                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 56; extern void __fastcall put_tile( unsigned char tile<_bl>, unsigned char bat_x<_al>, unsigned char bat_y<_ah> );
  636                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 57; extern void __fastcall sgx_put_tile( unsigned char tile<_bl>, unsigned char bat_x<_al>, unsigned char bat_y<_ah> );
  637                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 59; // Deprecated functions ...
  638                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 61; extern void __fastcall set_tile_data( unsigned char *tile_ex<_di> );
  639                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 63; extern void __fastcall __nop set_map_pals( unsigned char __far *palette_table<vdc_attr_bank:vdc_attr_addr> );
  640                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 64; extern void __fastcall __nop set_map_tile_type( unsigned char tile_type<vdc_tile_type> );
  641                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 66; extern void __fastcall __nop sgx_set_map_pals( unsigned char __far *palette_table<sgx_attr_bank:sgx_attr_addr> );
  642                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 67; extern void __fastcall __nop sgx_set_map_tile_type( unsigned char tile_type<sgx_tile_type> );
  643                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 69; extern void __fastcall set_map_tile_base( unsigned int vram<_di> );
  644                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 70; extern void __fastcall sgx_set_map_tile_base( unsigned int vram<_di> );
  645                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 72; #endif // __HUCC__
  646                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 74; #endif // _hucc_old_map_h
  647                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 39; #include "hucc-old-line.h"
  648                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 1; #ifndef _hucc_old_line_h
  649                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 2; #define _hucc_old_line_h
  650                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 4; /****************************************************************************
  651                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 5; ; ***************************************************************************
  652                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 6; ;
  653                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 7; ; hucc-old-line.h
  654                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 8; ;
  655                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 9; ; Based on the original HuC and MagicKit functions by David Michel and the
  656                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 10; ; other original HuC developers.
  657                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 11; ;
  658                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 12; ; Modifications copyright John Brandwood 2024.
  659                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 13; ;
  660                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 14; ; Distributed under the Boost Software License, Version 1.0.
  661                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 15; ; (See accompanying file LICENSE_1_0.txt or copy at
  662                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 16; ;  http://www.boost.org/LICENSE_1_0.txt)
  663                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 17; ;
  664                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 18; ; ***************************************************************************
  665                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 19; ; **************************************************************************/
  666                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 21; // *************
  667                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 22; // Functions in hucc-old-line.asm ...
  668                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 23; // *************
  669                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 25; #ifdef __HUCC__
  670                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 27; #asmdef	HUCC_USES_OLD_LINE 1
  671               0001     	HUCC_USES_OLD_LINE = 1
  672                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 29; extern void __fastcall gfx_init( unsigned int start_vram_addr<_ax> );
  673                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 30; extern void __fastcall gfx_clear( unsigned int start_vram_addr<_di> );
  674                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 31; extern void __fastcall gfx_plot( unsigned int x<_gfx_x1>, unsigned int y<_gfx_y1>, char color<_gfx_color> );
  675                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 32; extern void __fastcall gfx_line( unsigned int x1<_gfx_x1>, unsigned int y1<_gfx_y1>, unsigned int x2<_gfx_x2>, unsigned int y2<_gfx_y2>, unsigned char color<_gfx_color> );
  676                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 34; #endif // __HUCC__
  677                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 36; #endif // _hucc_old_line_h
  678                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 41; #include <stdlib.h>
  679                        		.dbg	line,	"..\..\..\include\hucc\stdlib.h", 1; #ifndef _hucc_stdlib_h
  680                        		.dbg	line,	"..\..\..\include\hucc\stdlib.h", 2; #define _hucc_stdlib_h
  681                        		.dbg	line,	"..\..\..\include\hucc\stdlib.h", 4; #define RAND_MAX 32767
  682                        		.dbg	line,	"..\..\..\include\hucc\stdlib.h", 6; #ifdef __HUCC__
  683                        		.dbg	line,	"..\..\..\include\hucc\stdlib.h", 7; extern int __fastcall abs( int value<acc> );
  684                        		.dbg	line,	"..\..\..\include\hucc\stdlib.h", 8; #endif
  685                        		.dbg	line,	"..\..\..\include\hucc\stdlib.h", 10; #endif // _hucc_stdlib_h
  686                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 42; #include <string.h>
  687                        		.dbg	line,	"..\..\..\include\hucc\string.h", 1; #ifdef __HUCC__
  688                        		.dbg	line,	"..\..\..\include\hucc\string.h", 2; #include "hucc-string.h"
  689                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 1; #ifndef _hucc_string_h
  690                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 2; #define _hucc_string_h
  691                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 4; /****************************************************************************
  692                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 5; ; ***************************************************************************
  693                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 6; ;
  694                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 7; ; hucc-string.h
  695                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 8; ;
  696                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 9; ; Not-quite-standard, but fast, replacements for <string.h>.
  697                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 10; ;
  698                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 11; ; Copyright John Brandwood 2024.
  699                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 12; ;
  700                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 13; ; Distributed under the Boost Software License, Version 1.0.
  701                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
  702                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
  703                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 16; ;
  704                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 17; ; ***************************************************************************
  705                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 18; ; ***************************************************************************
  706                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 19; ;
  707                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 20; ; !!! WARNING : non-standard return values !!!
  708                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 21; ;
  709                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 22; ; Strings are limited to a maximum of 255 characters (+ the terminator)!
  710                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 23; ;
  711                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 24; ; The memcpy(), strcpy() and strcat() functions do NOT return the destination
  712                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 25; ; address, and they are declared "void" to check that the value is not used.
  713                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 26; ;
  714                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 27; ; mempcpy() is provided which returns the end address instead of the starting
  715                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 28; ; address, because this is typically more useful.
  716                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 29; ;
  717                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 30; ; Please note that both memcpy() and memset() are implemented using a TII for
  718                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 31; ; speed, and so the length should be < 16 bytes if used in time-critical bits
  719                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 32; ; of code (such as when using a split screen) because they delay interrupts.
  720                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 33; ;
  721                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 34; ; strncpy() and strncat() are not provided, because strncpy() was not created
  722                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 35; ; for the purpose of avoiding string overruns, and strncat() is just a poorly
  723                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 36; ; designed function IMHO.
  724                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 37; ;
  725                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 38; ; POSIX strlcpy() and strlcat() are provided instead, but once again they are
  726                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 39; ; slightly non-standard in that the return value when there is an overflow is
  727                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 40; ; the buffer size (so that the overflow can be detected), instead of the full
  728                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 41; ; size of the destination string that was too big to fit in the buffer.
  729                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 42; ;
  730                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 43; ; ***************************************************************************
  731                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 44; ; **************************************************************************/
  732                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 46; // *************
  733                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 47; // Functions in hucc-string.asm ...
  734                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 48; // *************
  735                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 50; #ifdef __HUCC__
  736                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 52; #asmdef	HUCC_USES_STRING 1
  737               0001     	HUCC_USES_STRING = 1
  738                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 54; extern void __fastcall strcpy( char *destination<_di>, char *source<_bp> );
  739                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 55; extern void __fastcall strcat( char *destination<_di>, char *source<_bp> );
  740                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 57; extern unsigned int __fastcall strlen( char *source<_bp> );
  741                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 59; extern unsigned int __fastcall strlcpy( char *destination<_di>, char *source<_bp>, unsigned char size<acc> );
  742                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 60; extern unsigned int __fastcall strlcat( char *destination<_di>, char *source<_bp>, unsigned char size<acc> );
  743                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 62; extern void __fastcall memcpy( unsigned char *destination<ram_tii_dst>, unsigned char *source<ram_tii_src>, unsigned int count<acc> );
  744                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 63; extern void __fastcall farmemcpy( unsigned char *destination<ram_tii_dst>, unsigned char __far *source<_bp_bank:ram_tii_src>, unsigned int count<acc> );
  745                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 64; extern void __fastcall far_memcpy( unsigned char *destination<ram_tii_dst>, unsigned int count<acc> );
  746                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 66; extern unsigned char * __fastcall mempcpy( unsigned char *destination<ram_tii_dst>, unsigned char *source<ram_tii_src>, unsigned int count<acc> );
  747                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 67; extern unsigned char * __fastcall farmempcpy( unsigned char *destination<ram_tii_dst>, unsigned char __far *source<_bp_bank:ram_tii_src>, unsigned int count<acc> );
  748                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 68; extern unsigned char * __fastcall far_mempcpy( unsigned char *destination<ram_tii_dst>, unsigned int count<acc> );
  749                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 70; extern void __fastcall memset( unsigned char *destination<ram_tii_src>, unsigned char value<_al>, unsigned int count<acc> );
  750                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 72; //  0 	if strings are equal
  751                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 73; //  1 	if the first non-matching character in string1 > string2 (in ASCII).
  752                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 74; // -1 	if the first non-matching character in string1 < string2 (in ASCII).
  753                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 76; extern int __fastcall strcmp( char *string1<_di>, char *string2<_bp> );
  754                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 77; extern int __fastcall strncmp( char *string1<_di>, char *string2<_bp>, unsigned int count<_ax> );
  755                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 79; extern int __fastcall __macro memcmp( unsigned char *string1<_di>, unsigned char *string2<_bp>, unsigned int count<acc> );
  756                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 80; extern int __fastcall farmemcmp( unsigned char *string1<_di>, unsigned char __far *string2<_bp_bank:_bp>, unsigned int count<acc> );
  757                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 81; extern int __fastcall far_memcmp( unsigned char *string1<_di>, unsigned int count<acc> );
  758                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 83; #endif // __HUCC__
  759                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 85; #endif // _hucc_string_h
  760                        		.dbg	line,	"..\..\..\include\hucc\string.h", 3; #endif
  761                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 44; #endif // _hucc_legacy_h
  762                        		.dbg	line,	"Black_Tiger.c", 2; #include "hucc-scroll.h"
  763                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 1; #ifndef _hucc_scroll_h
  764                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 2; #define _hucc_scroll_h
  765                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 4; /****************************************************************************
  766                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 5; ; ***************************************************************************
  767                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 6; ;
  768                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 7; ; hucc-scroll.h
  769                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 8; ;
  770                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 9; ; Routines for a fast split-screen scrolling system.
  771                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 10; ;
  772                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 11; ; Copyright John Brandwood 2024.
  773                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 12; ;
  774                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 13; ; Distributed under the Boost Software License, Version 1.0.
  775                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
  776                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
  777                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 16; ;
  778                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 17; ; ***************************************************************************
  779                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 18; ; ***************************************************************************
  780                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 19; ;
  781                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 20; ; The maximum number of splits for each screen layer is set in your project's
  782                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 21; ; "hucc-config.inc" file, with the library having a limit of 128-per-layer.
  783                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 22; ;
  784                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 23; ; Your first active split must be defined to start at screen line 0, and then
  785                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 24; ; the rest of the active splits must be in increasing line order to match the
  786                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 25; ; way that the PC Engine displays the output image.
  787                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 26; ;
  788                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 27; ; You can have disabled splits interleaved with your active splits.
  789                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 28; ;
  790                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 29; ; Splits that are normally disabled can be used to create full screen effects
  791                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 30; ; such as bouncing the screen up and down by adding blank areas at the top or
  792                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 31; ; bottom of the screen, and then rapidly changing the height of those areas.
  793                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 32; ;
  794                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 33; ; ***************************************************************************
  795                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 34; ; **************************************************************************/
  796                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 36; // *************
  797                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 37; // VDC bits for display_flags ...
  798                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 38; // *************
  799                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 40; #ifndef BKG_OFF
  800                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 41; #define BKG_OFF 0x00
  801                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 42; #endif
  802                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 44; #ifndef SPR_OFF
  803                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 45; #define SPR_OFF 0x00
  804                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 46; #endif
  805                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 48; #ifndef BKG_ON
  806                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 49; #define BKG_ON 0x80
  807                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 50; #endif
  808                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 52; #ifndef SPR_ON
  809                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 53; #define SPR_ON 0x40
  810                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 54; #endif
  811                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 56; // *************
  812                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 57; // Functions in hucc-scroll.asm ...
  813                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 58; // *************
  814                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 60; #ifdef __HUCC__
  815                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 62; #asmdef	HUCC_USES_NEW_SCROLL 1
  816               0001     	HUCC_USES_NEW_SCROLL = 1
  817                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 64; extern void __fastcall scroll_split( unsigned char index<_al>, unsigned char screen_line<_ah>, unsigned int bat_x<_bx>, unsigned int bat_y<_cx>, unsigned char display_flags<_dl> );
  818                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 65; extern void __fastcall sgx_scroll_split( unsigned char index<_al>, unsigned char screen_line<_ah>, unsigned int bat_x<_bx>, unsigned int bat_y<_cx>, unsigned char display_flags<_dl> );
  819                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 67; extern void __fastcall disable_split( unsigned char index<acc> );
  820                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 68; extern void __fastcall sgx_disable_split( unsigned char index<acc> );
  821                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 70; extern void __fastcall __macro disable_all_splits( void );
  822                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 71; extern void __fastcall __macro sgx_disable_all_splits( void );
  823                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 73; #asm
  824                        		.dbg	clear
  825                        			.macro	_disable_all_splits
  826                        			ldy	#HUCC_PCE_SPLITS - 1
  827                        	!loop:		tya
  828                        			call	_disable_split.1
  829                        			dey
  830                        			bpl	!loop-
  831                        			.endm
  832                        			.macro	_sgx_disable_all_splits
  833                        			ldy	#HUCC_SGX_SPLITS - 1
  834                        	!loop:		tya
  835                        			call	_sgx_disable_split.1
  836                        			dey
  837                        			bpl	!loop-
  838                        			.endm
  839                        	
  840                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 89; #endasm
  841                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 91; #endif // __HUCC__
  842                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 93; #endif // _hucc_scroll_h
  843                        		.dbg	line,	"Black_Tiger.c", 3; #include "hucc-chrmap.h"
  844                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 1; #ifndef _hucc_chrmap_h
  845                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 2; #define _hucc_chrmap_h
  846                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 4; /****************************************************************************
  847                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 5; ; ***************************************************************************
  848                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 6; ;
  849                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 7; ; hucc-chrmap.h
  850                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 8; ;
  851                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 9; ; A simple map system based on 8x8 characters (aka "tiles") in BAT format.
  852                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 10; ;
  853                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 11; ; Copyright John Brandwood 2025.
  854                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 12; ;
  855                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 13; ; Distributed under the Boost Software License, Version 1.0.
  856                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
  857                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
  858                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 16; ;
  859                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 17; ; ***************************************************************************
  860                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 18; ; ***************************************************************************
  861                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 19; ;
  862                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 20; ; The maximum X and Y size for chrmaps is 256 characters (2048 pixels).
  863                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 21; ;
  864                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 22; ; The maximum total size for a chrmap is 16KBytes, which allows for maps up
  865                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 23; ; to 256x32 tiles (2048x256 pixels).
  866                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 24; ;
  867                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 25; ; ***************************************************************************
  868                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 26; ; **************************************************************************/
  869                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 28; // *************
  870                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 29; // This code extends the blkmap library ...
  871                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 30; // *************
  872                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 32; #include "hucc-blkmap.h"
  873                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 1; #ifndef _hucc_blkmap_h
  874                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 2; #define _hucc_blkmap_h
  875                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 4; /****************************************************************************
  876                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 5; ; ***************************************************************************
  877                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 6; ;
  878                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 7; ; hucc-blkmap.h
  879                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 8; ;
  880                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 9; ; A map system based on 16x16 meta-tiles (aka "blocks", aka CHR/BLK/MAP).
  881                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 10; ;
  882                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 11; ; Copyright John Brandwood 2025.
  883                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 12; ;
  884                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 13; ; Distributed under the Boost Software License, Version 1.0.
  885                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
  886                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
  887                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 16; ;
  888                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 17; ; ***************************************************************************
  889                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 18; ; ***************************************************************************
  890                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 19; ;
  891                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 20; ; The maximum X and Y size for blkmaps is 128 blocks (2048 pixels).
  892                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 21; ;
  893                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 22; ; The maximum total size for a blkmap is 16KBytes, which allows for maps up
  894                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 23; ; to 128x128 blocks (2048x2048 pixels).
  895                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 24; ;
  896                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 25; ; Huge multi-screen blkmaps are also supported (optionally).
  897                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 26; ;
  898                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 27; ; The maximum X and Y for multi-screen maps is 128 screens (32768 pixels).
  899                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 28; ;
  900                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 29; ; The maximum total size for a multi-screen map is 8KBytes, which allows for
  901                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 30; ; a total of 1024 screens.
  902                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 31; ;
  903                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 32; ; ***************************************************************************
  904                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 33; ; **************************************************************************/
  905                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 35; // *************
  906                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 36; // Functions in blkmap.asm ...
  907                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 37; // *************
  908                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 39; #ifdef __HUCC__
  909                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 41; #asmdef	HUCC_USES_BLKMAP 1
  910               0001     	HUCC_USES_BLKMAP = 1
  911                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 43; // Current top-left of drawn map in pixels.
  912                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 44; extern unsigned int   vdc_map_pxl_x;
  913                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 45; extern unsigned int   vdc_map_pxl_y;
  914                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 47; // Width and height to draw/scroll in characters (not tiles).
  915                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 48; extern unsigned char  vdc_map_draw_w;
  916                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 49; extern unsigned char  vdc_map_draw_h;
  917                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 51; // Width of map (or multi-screen BAT) in tiles.
  918                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 52; extern unsigned char  vdc_map_line_w;
  919                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 54; // Width of map in screens (if multi-screen map).
  920                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 55; extern unsigned char  vdc_map_scrn_w;
  921                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 57; // Extra information returned by get_map_block() and sgx_get_map_block(),
  922                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 58; // which are the collision flags and the mask/overlay sprite for the BLK.
  923                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 59; extern unsigned char  map_blk_flag;
  924                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 60; extern unsigned char  map_blk_mask;
  925                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 62; extern unsigned char  vdc_scr_bank;
  926                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 63; extern unsigned char *vdc_scr_addr;
  927                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 65; extern unsigned char  vdc_map_bank;
  928                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 66; extern unsigned char *vdc_map_addr;
  929                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 68; extern unsigned char  vdc_blk_bank;
  930                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 69; extern unsigned char *vdc_blk_addr;
  931                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 71; extern unsigned char  vdc_tbl_bank;
  932                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 72; extern unsigned char *vdc_tbl_addr;
  933                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 74; extern void __fastcall set_blocks( unsigned char __far *blk_def<vdc_blk_bank:vdc_blk_addr>, unsigned char __far *flg_def<vdc_tbl_bank:vdc_tbl_addr>, unsigned char number_of_blocks<_al> );
  934                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 75; extern void __fastcall __macro set_blkmap( unsigned char __far *blk_map<vdc_map_bank:vdc_map_addr>, unsigned char blocks_w<vdc_map_line_w> );
  935                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 76; extern void __fastcall __macro set_multimap( unsigned char __far *multi_map<vdc_scr_bank:vdc_scr_addr>, unsigned char screens_w<vdc_map_scrn_w> );
  936                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 78; extern void __fastcall draw_map( void );
  937                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 79; extern void __fastcall scroll_map( void );
  938                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 81; extern void __fastcall blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
  939                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 83; extern unsigned char __fastcall get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
  940                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 85; #asm
  941                        		.dbg	clear
  942                        			.macro	_set_blkmap.2
  943                        			stz	vdc_scr_bank
  944                        			.endm
  945                        			.macro	_set_multimap.2
  946                        			lda	vdc_bat_width
  947                        			lsr	a
  948                        			sta	vdc_map_line_w
  949                        			.endm
  950                        			.macro	SCREEN
  951                        			db	(((\1) & $1FFF) | $6000) >> 8, bank(\1)
  952                        			db	(((\2) & $1FFF) | $4000) >> 8, bank(\2)
  953                        			db	(((\3) & $1FFF) | $6000) >> 8, bank(\3)
  954                        			dw	(\4)
  955                        			.endm
  956                        	
  957                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 102; #endasm
  958                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 104; #ifdef _SGX
  959                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 106; // Current top-left of drawn map in pixels.
  960                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 107; extern unsigned int   sgx_map_pxl_x;
  961                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 108; extern unsigned int   sgx_map_pxl_y;
  962                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 110; // Width and height to draw/scroll in characters (not tiles).
  963                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 111; extern unsigned char  sgx_map_draw_w;
  964                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 112; extern unsigned char  sgx_map_draw_h;
  965                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 114; // Width of map (or multi-screen BAT) in tiles.
  966                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 115; extern unsigned char  sgx_map_line_w;
  967                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 117; // Width of map in screens (if multi-screen map).
  968                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 118; extern unsigned char  sgx_map_scrn_w;
  969                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 120; extern unsigned char  sgx_scr_bank;
  970                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 121; extern unsigned char *sgx_scr_addr;
  971                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 123; extern unsigned char  sgx_map_bank;
  972                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 124; extern unsigned char *sgx_map_addr;
  973                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 126; extern unsigned char  sgx_blk_bank;
  974                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 127; extern unsigned char *sgx_blk_addr;
  975                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 129; extern unsigned char  sgx_tbl_bank;
  976                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 130; extern unsigned char *sgx_tbl_addr;
  977                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 132; extern void __fastcall sgx_set_blocks( unsigned char __far *blk_def<sgx_blk_bank:sgx_blk_addr>, unsigned char __far *flg_def<sgx_tbl_bank:sgx_tbl_addr>, unsigned char number_of_blocks<_al> );
  978                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 133; extern void __fastcall __macro sgx_set_blkmap( unsigned char __far *blk_map<sgx_map_bank:sgx_map_addr>, unsigned char blocks_w<sgx_map_line_w> );
  979                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 134; extern void __fastcall __macro sgx_set_multimap( unsigned char __far *multi_map<sgx_scr_bank:sgx_scr_addr>, unsigned char screens_w<sgx_map_scrn_w> );
  980                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 136; extern void __fastcall sgx_draw_map( void );
  981                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 137; extern void __fastcall sgx_scroll_map( void );
  982                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 139; extern void __fastcall sgx_blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
  983                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 141; extern unsigned char __fastcall sgx_get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
  984                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 143; #asm
  985                        		.dbg	clear
  986                        			.macro	_sgx_set_blkmap.2
  987                        			stz	sgx_scr_bank
  988                        			.endm
  989                        			.macro	_sgx_set_multimap.2
  990                        			lda	sgx_bat_width
  991                        			lsr	a
  992                        			sta	sgx_map_line_w
  993                        			.endm
  994                        	
  995                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 153; #endasm
  996                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 155; #endif
  997                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 157; #endif // __HUCC__
  998                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 159; #endif // _hucc_blkmap_h
  999                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 34; // *************
 1000                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 35; // Functions in chrmap.asm ...
 1001                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 36; // *************
 1002                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 38; #ifdef __HUCC__
 1003                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 40; #asmdef	HUCC_USES_CHRMAP 1
 1004               0001     	HUCC_USES_CHRMAP = 1
 1005                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 42; extern void __fastcall __nop set_chrmap( unsigned char __far *chrmap<vdc_map_bank:vdc_map_addr>, unsigned char tiles_w<vdc_map_line_w> );
 1006                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 44; extern void __fastcall draw_bat( void );
 1007                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 45; extern void __fastcall scroll_bat( void );
 1008                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 47; extern void __fastcall blit_bat( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 1009                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 49; #ifdef _SGX
 1010                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 51; extern void __fastcall __nop sgx_set_chrmap( unsigned char __far *chrmap<sgx_map_bank:sgx_map_addr>, unsigned char tiles_w<sgx_map_line_w> );
 1011                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 53; extern void __fastcall sgx_draw_bat( void );
 1012                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 54; extern void __fastcall sgx_scroll_bat( void );
 1013                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 56; extern void __fastcall sgx_blit_bat( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 1014                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 58; #endif
 1015                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 60; #endif // __HUCC__
 1016                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 62; #endif // _hucc_chrmap_h
 1017                        		.dbg	line,	"Black_Tiger.c", 4; #include "hucc-blkmap.h"
 1018                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 1; #ifndef _hucc_blkmap_h
 1019                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 2; #define _hucc_blkmap_h
 1020                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 4; /****************************************************************************
 1021                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 5; ; ***************************************************************************
 1022                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 6; ;
 1023                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 7; ; hucc-blkmap.h
 1024                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 8; ;
 1025                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 9; ; A map system based on 16x16 meta-tiles (aka "blocks", aka CHR/BLK/MAP).
 1026                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 10; ;
 1027                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 11; ; Copyright John Brandwood 2025.
 1028                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 12; ;
 1029                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 1030                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 1031                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 1032                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 16; ;
 1033                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 17; ; ***************************************************************************
 1034                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 18; ; ***************************************************************************
 1035                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 19; ;
 1036                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 20; ; The maximum X and Y size for blkmaps is 128 blocks (2048 pixels).
 1037                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 21; ;
 1038                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 22; ; The maximum total size for a blkmap is 16KBytes, which allows for maps up
 1039                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 23; ; to 128x128 blocks (2048x2048 pixels).
 1040                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 24; ;
 1041                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 25; ; Huge multi-screen blkmaps are also supported (optionally).
 1042                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 26; ;
 1043                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 27; ; The maximum X and Y for multi-screen maps is 128 screens (32768 pixels).
 1044                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 28; ;
 1045                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 29; ; The maximum total size for a multi-screen map is 8KBytes, which allows for
 1046                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 30; ; a total of 1024 screens.
 1047                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 31; ;
 1048                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 32; ; ***************************************************************************
 1049                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 33; ; **************************************************************************/
 1050                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 35; // *************
 1051                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 36; // Functions in blkmap.asm ...
 1052                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 37; // *************
 1053                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 39; #ifdef __HUCC__
 1054                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 41; #asmdef	HUCC_USES_BLKMAP 1
 1055                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 43; // Current top-left of drawn map in pixels.
 1056                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 44; extern unsigned int   vdc_map_pxl_x;
 1057                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 45; extern unsigned int   vdc_map_pxl_y;
 1058                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 47; // Width and height to draw/scroll in characters (not tiles).
 1059                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 48; extern unsigned char  vdc_map_draw_w;
 1060                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 49; extern unsigned char  vdc_map_draw_h;
 1061                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 51; // Width of map (or multi-screen BAT) in tiles.
 1062                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 52; extern unsigned char  vdc_map_line_w;
 1063                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 54; // Width of map in screens (if multi-screen map).
 1064                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 55; extern unsigned char  vdc_map_scrn_w;
 1065                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 57; // Extra information returned by get_map_block() and sgx_get_map_block(),
 1066                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 58; // which are the collision flags and the mask/overlay sprite for the BLK.
 1067                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 59; extern unsigned char  map_blk_flag;
 1068                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 60; extern unsigned char  map_blk_mask;
 1069                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 62; extern unsigned char  vdc_scr_bank;
 1070                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 63; extern unsigned char *vdc_scr_addr;
 1071                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 65; extern unsigned char  vdc_map_bank;
 1072                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 66; extern unsigned char *vdc_map_addr;
 1073                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 68; extern unsigned char  vdc_blk_bank;
 1074                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 69; extern unsigned char *vdc_blk_addr;
 1075                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 71; extern unsigned char  vdc_tbl_bank;
 1076                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 72; extern unsigned char *vdc_tbl_addr;
 1077                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 74; extern void __fastcall set_blocks( unsigned char __far *blk_def<vdc_blk_bank:vdc_blk_addr>, unsigned char __far *flg_def<vdc_tbl_bank:vdc_tbl_addr>, unsigned char number_of_blocks<_al> );
 1078                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 75; extern void __fastcall __macro set_blkmap( unsigned char __far *blk_map<vdc_map_bank:vdc_map_addr>, unsigned char blocks_w<vdc_map_line_w> );
 1079                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 76; extern void __fastcall __macro set_multimap( unsigned char __far *multi_map<vdc_scr_bank:vdc_scr_addr>, unsigned char screens_w<vdc_map_scrn_w> );
 1080                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 78; extern void __fastcall draw_map( void );
 1081                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 79; extern void __fastcall scroll_map( void );
 1082                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 81; extern void __fastcall blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 1083                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 83; extern unsigned char __fastcall get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
 1084                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 85; #asm
 1085                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 86; .macro	_set_blkmap.2
 1086                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 87; stz	vdc_scr_bank
 1087                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 88; .endm
 1088                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 90; .macro	_set_multimap.2
 1089                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 91; lda	vdc_bat_width
 1090                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 92; lsr	a
 1091                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 93; sta	vdc_map_line_w
 1092                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 94; .endm
 1093                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 96; .macro	SCREEN
 1094                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 97; db	(((\1) & $1FFF) | $6000) >> 8, bank(\1)
 1095                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 98; db	(((\2) & $1FFF) | $4000) >> 8, bank(\2)
 1096                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 99; db	(((\3) & $1FFF) | $6000) >> 8, bank(\3)
 1097                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 100; dw	(\4)
 1098                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 101; .endm
 1099                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 102; #endasm
 1100                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 104; #ifdef _SGX
 1101                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 106; // Current top-left of drawn map in pixels.
 1102                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 107; extern unsigned int   sgx_map_pxl_x;
 1103                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 108; extern unsigned int   sgx_map_pxl_y;
 1104                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 110; // Width and height to draw/scroll in characters (not tiles).
 1105                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 111; extern unsigned char  sgx_map_draw_w;
 1106                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 112; extern unsigned char  sgx_map_draw_h;
 1107                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 114; // Width of map (or multi-screen BAT) in tiles.
 1108                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 115; extern unsigned char  sgx_map_line_w;
 1109                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 117; // Width of map in screens (if multi-screen map).
 1110                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 118; extern unsigned char  sgx_map_scrn_w;
 1111                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 120; extern unsigned char  sgx_scr_bank;
 1112                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 121; extern unsigned char *sgx_scr_addr;
 1113                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 123; extern unsigned char  sgx_map_bank;
 1114                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 124; extern unsigned char *sgx_map_addr;
 1115                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 126; extern unsigned char  sgx_blk_bank;
 1116                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 127; extern unsigned char *sgx_blk_addr;
 1117                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 129; extern unsigned char  sgx_tbl_bank;
 1118                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 130; extern unsigned char *sgx_tbl_addr;
 1119                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 132; extern void __fastcall sgx_set_blocks( unsigned char __far *blk_def<sgx_blk_bank:sgx_blk_addr>, unsigned char __far *flg_def<sgx_tbl_bank:sgx_tbl_addr>, unsigned char number_of_blocks<_al> );
 1120                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 133; extern void __fastcall __macro sgx_set_blkmap( unsigned char __far *blk_map<sgx_map_bank:sgx_map_addr>, unsigned char blocks_w<sgx_map_line_w> );
 1121                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 134; extern void __fastcall __macro sgx_set_multimap( unsigned char __far *multi_map<sgx_scr_bank:sgx_scr_addr>, unsigned char screens_w<sgx_map_scrn_w> );
 1122                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 136; extern void __fastcall sgx_draw_map( void );
 1123                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 137; extern void __fastcall sgx_scroll_map( void );
 1124                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 139; extern void __fastcall sgx_blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 1125                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 141; extern unsigned char __fastcall sgx_get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
 1126                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 143; #asm
 1127                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 144; .macro	_sgx_set_blkmap.2
 1128                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 145; stz	sgx_scr_bank
 1129                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 146; .endm
 1130                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 148; .macro	_sgx_set_multimap.2
 1131                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 149; lda	sgx_bat_width
 1132                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 150; lsr	a
 1133                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 151; sta	sgx_map_line_w
 1134                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 152; .endm
 1135                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 153; #endasm
 1136                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 155; #endif
 1137                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 157; #endif // __HUCC__
 1138                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 159; #endif // _hucc_blkmap_h
 1139                        		.dbg	line,	"Black_Tiger.c", 7; #include "include/constants.c"
 1140                        		.dbg	line,	"include\constants.c", 1; //*****************************************************************************//
 1141                        		.dbg	line,	"include\constants.c", 2; //                                                                             //
 1142                        		.dbg	line,	"include\constants.c", 3; //                                SYSTEM CONSTANTS                             //
 1143                        		.dbg	line,	"include\constants.c", 4; //                                                                             //
 1144                        		.dbg	line,	"include\constants.c", 5; //*****************************************************************************//
 1145                        		.dbg	line,	"include\constants.c", 7; #define FALSE 0
 1146                        		.dbg	line,	"include\constants.c", 8; #define TRUE  1
 1147                        		.dbg	line,	"include\constants.c", 10; #define YES   1
 1148                        		.dbg	line,	"include\constants.c", 11; #define NO    2
 1149                        		.dbg	line,	"include\constants.c", 13; #define JOYPAD_1 0
 1150                        		.dbg	line,	"include\constants.c", 14; #define JOYPAD_2 1
 1151                        		.dbg	line,	"include\constants.c", 16; #define BAT_SIZE_W 2048 // IN PIXELS
 1152                        		.dbg	line,	"include\constants.c", 17; #define BAT_SIZE_H 256  // IN PIXELS
 1153                        		.dbg	line,	"include\constants.c", 19; #define NUMBERS_FONT_VRAM_ADR   0x0900
 1154                        		.dbg	line,	"include\constants.c", 21; #define JOY_DIR_PRESSED (JOY_DOWN | JOY_UP | JOY_RIGHT | JOY_LEFT)
 1155                        		.dbg	line,	"include\constants.c", 24; #define TILES_1   16
 1156                        		.dbg	line,	"include\constants.c", 25; #define TILES_2   32
 1157                        		.dbg	line,	"include\constants.c", 26; #define TILES_3   48
 1158                        		.dbg	line,	"include\constants.c", 27; #define TILES_4   64
 1159                        		.dbg	line,	"include\constants.c", 28; #define TILES_8   128
 1160                        		.dbg	line,	"include\constants.c", 29; #define TILES_12  192
 1161                        		.dbg	line,	"include\constants.c", 30; #define TILES_16  256
 1162                        		.dbg	line,	"include\constants.c", 31; #define TILES_24  384
 1163                        		.dbg	line,	"include\constants.c", 32; #define TILES_32  512
 1164                        		.dbg	line,	"include\constants.c", 33; #define TILES_48  768
 1165                        		.dbg	line,	"include\constants.c", 34; #define TILES_64  1024
 1166                        		.dbg	line,	"include\constants.c", 35; #define TILES_80  1280
 1167                        		.dbg	line,	"include\constants.c", 36; #define TILES_96  1536
 1168                        		.dbg	line,	"include\constants.c", 37; #define TILES_128 2048
 1169                        		.dbg	line,	"include\constants.c", 38; #define TILES_144 2304
 1170                        		.dbg	line,	"include\constants.c", 39; #define TILES_160 2560
 1171                        		.dbg	line,	"include\constants.c", 40; #define TILES_256 4096
 1172                        		.dbg	line,	"include\constants.c", 41; #define TILES_384 6144
 1173                        		.dbg	line,	"include\constants.c", 42; #define TILES_400 6400
 1174                        		.dbg	line,	"include\constants.c", 47; #define SEQUENCE_TITLE          0
 1175                        		.dbg	line,	"include\constants.c", 48; #define SEQUENCE_INTRO          1
 1176                        		.dbg	line,	"include\constants.c", 49; #define SEQUENCE_LEVEL          2
 1177                        		.dbg	line,	"include\constants.c", 50; #define SEQUENCE_NPC            3
 1178                        		.dbg	line,	"include\constants.c", 51; #define SEQUENCE_SHOP           4
 1179                        		.dbg	line,	"include\constants.c", 56; #define CAMERA_RECENTER_VELOCITY    6
 1180                        		.dbg	line,	"include\constants.c", 61; //-----------------------------------------------------------------------------//
 1181                        		.dbg	line,	"include\constants.c", 62; //                                                                             //
 1182                        		.dbg	line,	"include\constants.c", 63; //                                    INTRO                                    //
 1183                        		.dbg	line,	"include\constants.c", 64; //                                                                             //
 1184                        		.dbg	line,	"include\constants.c", 65; //-----------------------------------------------------------------------------//
 1185                        		.dbg	line,	"include\constants.c", 67; #define DRAGON_INTRO_VRAM_ADR       0x2C00
 1186                        		.dbg	line,	"include\constants.c", 72; //-----------------------------------------------------------------------------//
 1187                        		.dbg	line,	"include\constants.c", 73; //                                                                             //
 1188                        		.dbg	line,	"include\constants.c", 74; //                                   PLAYER                                    //
 1189                        		.dbg	line,	"include\constants.c", 75; //                                                                             //
 1190                        		.dbg	line,	"include\constants.c", 76; //-----------------------------------------------------------------------------//
 1191                        		.dbg	line,	"include\constants.c", 78; #define AXIS_RIGHT          0
 1192                        		.dbg	line,	"include\constants.c", 79; #define AXIS_LEFT           1
 1193                        		.dbg	line,	"include\constants.c", 80; #define AXIS_UP             2
 1194                        		.dbg	line,	"include\constants.c", 81; #define AXIS_DOWN           3
 1195                        		.dbg	line,	"include\constants.c", 85; #define STATE_IDLE          0
 1196                        		.dbg	line,	"include\constants.c", 86; #define STATE_WALK          1
 1197                        		.dbg	line,	"include\constants.c", 87; #define STATE_ATTACK        2
 1198                        		.dbg	line,	"include\constants.c", 88; #define STATE_JUMP          4
 1199                        		.dbg	line,	"include\constants.c", 89; #define STATE_JUMP_RIGHT    5
 1200                        		.dbg	line,	"include\constants.c", 90; #define STATE_JUMP_LEFT     6
 1201                        		.dbg	line,	"include\constants.c", 91; #define STATE_CROUCH        7
 1202                        		.dbg	line,	"include\constants.c", 92; #define STATE_CROUCH_ATTACK 8
 1203                        		.dbg	line,	"include\constants.c", 93; #define STATE_FALL          9
 1204                        		.dbg	line,	"include\constants.c", 94; #define STATE_HANG          10
 1205                        		.dbg	line,	"include\constants.c", 95; #define STATE_CLIMB_UP      11
 1206                        		.dbg	line,	"include\constants.c", 96; #define STATE_CLIMB_DOWN    12
 1207                        		.dbg	line,	"include\constants.c", 97; #define STATE_JUMP_LADDER   13
 1208                        		.dbg	line,	"include\constants.c", 98; #define STATE_HANG_ATTACK   14
 1209                        		.dbg	line,	"include\constants.c", 103; #define PLAYER_BASE_Y_POS   128
 1210                        		.dbg	line,	"include\constants.c", 105; #define RESPAWN_DEAD        1
 1211                        		.dbg	line,	"include\constants.c", 106; #define RESPAWN_SHOP        2
 1212                        		.dbg	line,	"include\constants.c", 108; #define PLAYER_START_INDEX  14
 1213                        		.dbg	line,	"include\constants.c", 112; #define PLAYER_VRAM_ADR                     0x1800
 1214                        		.dbg	line,	"include\constants.c", 113; #define PLAYER_IDLE_VRAM_ADR                PLAYER_VRAM_ADR
 1215                        		.dbg	line,	"include\constants.c", 114; #define PLAYER_WALK_1_VRAM_ADR              PLAYER_VRAM_ADR+TILES_16
 1216                        		.dbg	line,	"include\constants.c", 115; #define PLAYER_WALK_2_VRAM_ADR              PLAYER_WALK_1_VRAM_ADR+TILES_16
 1217                        		.dbg	line,	"include\constants.c", 116; #define PLAYER_WALK_3_VRAM_ADR              PLAYER_WALK_2_VRAM_ADR+TILES_16
 1218                        		.dbg	line,	"include\constants.c", 117; #define PLAYER_WALK_4_VRAM_ADR              PLAYER_WALK_3_VRAM_ADR+TILES_16
 1219                        		.dbg	line,	"include\constants.c", 118; #define PLAYER_WALK_5_VRAM_ADR              PLAYER_WALK_4_VRAM_ADR+TILES_16
 1220                        		.dbg	line,	"include\constants.c", 119; #define PLAYER_WALK_6_VRAM_ADR              PLAYER_WALK_5_VRAM_ADR+TILES_16
 1221                        		.dbg	line,	"include\constants.c", 121; #define PLAYER_JUMP_VRAM_ADR                PLAYER_WALK_6_VRAM_ADR+TILES_16
 1222                        		.dbg	line,	"include\constants.c", 122; #define PLAYER_CROUCH_VRAM_ADR              PLAYER_JUMP_VRAM_ADR+TILES_16
 1223                        		.dbg	line,	"include\constants.c", 123; #define PLAYER_HANG_VRAM_ADR                PLAYER_CROUCH_VRAM_ADR+TILES_16
 1224                        		.dbg	line,	"include\constants.c", 125; #define PLAYER_CLIMB_1_VRAM_ADR             PLAYER_HANG_VRAM_ADR+TILES_16
 1225                        		.dbg	line,	"include\constants.c", 126; #define PLAYER_CLIMB_2_VRAM_ADR             PLAYER_CLIMB_1_VRAM_ADR+TILES_16
 1226                        		.dbg	line,	"include\constants.c", 127; #define PLAYER_CLIMB_3_VRAM_ADR             PLAYER_CLIMB_2_VRAM_ADR+TILES_16
 1227                        		.dbg	line,	"include\constants.c", 128; #define PLAYER_CLIMB_4_VRAM_ADR             PLAYER_CLIMB_3_VRAM_ADR+TILES_16
 1228                        		.dbg	line,	"include\constants.c", 129; #define PLAYER_CLIMB_5_VRAM_ADR             PLAYER_CLIMB_4_VRAM_ADR+TILES_16
 1229                        		.dbg	line,	"include\constants.c", 130; #define PLAYER_CLIMB_6_VRAM_ADR             PLAYER_CLIMB_5_VRAM_ADR+TILES_16
 1230                        		.dbg	line,	"include\constants.c", 132; #define PLAYER_FALL_VRAM_ADR                PLAYER_CLIMB_6_VRAM_ADR+TILES_16
 1231                        		.dbg	line,	"include\constants.c", 134; #define PLAYER_ATTACK_1_VRAM_ADR            PLAYER_FALL_VRAM_ADR+TILES_16
 1232                        		.dbg	line,	"include\constants.c", 135; #define PLAYER_ATTACK_2_VRAM_ADR            PLAYER_ATTACK_1_VRAM_ADR+TILES_16
 1233                        		.dbg	line,	"include\constants.c", 137; #define PLAYER_CROUCH_ATTACK_1_VRAM_ADR     PLAYER_ATTACK_2_VRAM_ADR+TILES_16
 1234                        		.dbg	line,	"include\constants.c", 138; #define PLAYER_CROUCH_ATTACK_2_VRAM_ADR     PLAYER_CROUCH_ATTACK_1_VRAM_ADR+TILES_16
 1235                        		.dbg	line,	"include\constants.c", 140; #define PLAYER_JUMP_ATTACK_1_VRAM_ADR       PLAYER_CROUCH_ATTACK_2_VRAM_ADR+TILES_16
 1236                        		.dbg	line,	"include\constants.c", 141; #define PLAYER_JUMP_ATTACK_2_VRAM_ADR       PLAYER_JUMP_ATTACK_1_VRAM_ADR+TILES_16
 1237                        		.dbg	line,	"include\constants.c", 143; #define PLAYER_HANG_ATTACK_1_VRAM_ADR       PLAYER_JUMP_ATTACK_2_VRAM_ADR+TILES_16
 1238                        		.dbg	line,	"include\constants.c", 144; #define PLAYER_HANG_ATTACK_2_VRAM_ADR       PLAYER_HANG_ATTACK_1_VRAM_ADR+TILES_16
 1239                        		.dbg	line,	"include\constants.c", 149; //-----------------------------------------------------------------------------//
 1240                        		.dbg	line,	"include\constants.c", 150; //                                                                             //
 1241                        		.dbg	line,	"include\constants.c", 151; //                                  WEAPONS                                    //
 1242                        		.dbg	line,	"include\constants.c", 152; //                                                                             //
 1243                        		.dbg	line,	"include\constants.c", 153; //-----------------------------------------------------------------------------//
 1244                        		.dbg	line,	"include\constants.c", 155; #define CHAIN_VRAM_ADR                  0x7C00
 1245                        		.dbg	line,	"include\constants.c", 156; #define WEAPON_VRAM_ADR                 CHAIN_VRAM_ADR+TILES_4
 1246                        		.dbg	line,	"include\constants.c", 157; #define CHAIN_START_INDEX               PLAYER_START_INDEX-3
 1247                        		.dbg	line,	"include\constants.c", 159; #define WEAPON_IDLE_VRAM_ADRESS         WEAPON_VRAM_ADR
 1248                        		.dbg	line,	"include\constants.c", 160; #define WEAPON_WALK_1_VRAM_ADRESS       WEAPON_IDLE_VRAM_ADRESS+TILES_4
 1249                        		.dbg	line,	"include\constants.c", 161; #define WEAPON_WALK_2_VRAM_ADRESS       WEAPON_WALK_1_VRAM_ADRESS+TILES_4
 1250                        		.dbg	line,	"include\constants.c", 163; #define WEAPON_ATTACK_1_VRAM_ADRESS     WEAPON_WALK_2_VRAM_ADRESS+TILES_4
 1251                        		.dbg	line,	"include\constants.c", 164; #define WEAPON_ATTACK_2_VRAM_ADRESS     WEAPON_ATTACK_1_VRAM_ADRESS+TILES_4
 1252                        		.dbg	line,	"include\constants.c", 169; //-----------------------------------------------------------------------------//
 1253                        		.dbg	line,	"include\constants.c", 170; //                                                                             //
 1254                        		.dbg	line,	"include\constants.c", 171; //                                  COLLISIONS                                 //
 1255                        		.dbg	line,	"include\constants.c", 172; //                                                                             //
 1256                        		.dbg	line,	"include\constants.c", 173; //-----------------------------------------------------------------------------//
 1257                        		.dbg	line,	"include\constants.c", 175; #define TILE_EMPTY          0
 1258                        		.dbg	line,	"include\constants.c", 176; #define TILE_BG             1
 1259                        		.dbg	line,	"include\constants.c", 177; #define TILE_LADDER         2
 1260                        		.dbg	line,	"include\constants.c", 182; //-----------------------------------------------------------------------------//
 1261                        		.dbg	line,	"include\constants.c", 183; //                                                                             //
 1262                        		.dbg	line,	"include\constants.c", 184; //                                     HUD                                     //
 1263                        		.dbg	line,	"include\constants.c", 185; //                                                                             //
 1264                        		.dbg	line,	"include\constants.c", 186; //-----------------------------------------------------------------------------//
 1265                        		.dbg	line,	"include\constants.c", 188; #define LIFEBAR_1_VRAM_ADR      0x1000
 1266                        		.dbg	line,	"include\constants.c", 189; #define LIFEBAR_2_VRAM_ADR      LIFEBAR_1_VRAM_ADR+TILES_2
 1267                        		.dbg	line,	"include\constants.c", 190; #define LIFEBAR_3_VRAM_ADR      LIFEBAR_2_VRAM_ADR+TILES_2
 1268                        		.dbg	line,	"include\constants.c", 191; #define LIFEBAR_4_VRAM_ADR      LIFEBAR_3_VRAM_ADR+TILES_2
 1269                        		.dbg	line,	"include\constants.c", 192; #define LIFEBAR_5_VRAM_ADR      LIFEBAR_4_VRAM_ADR+TILES_2
 1270                        		.dbg	line,	"include\constants.c", 194; #define WEAPON_ICON_VRAM_ADR    LIFEBAR_5_VRAM_ADR+TILES_2
 1271                        		.dbg	line,	"include\constants.c", 195; #define ARMOR_VRAM_ADR          WEAPON_ICON_VRAM_ADR+TILES_4
 1272                        		.dbg	line,	"include\constants.c", 200; //-----------------------------------------------------------------------------//
 1273                        		.dbg	line,	"include\constants.c", 201; //                                                                             //
 1274                        		.dbg	line,	"include\constants.c", 202; //                                    LEVELS                                   //
 1275                        		.dbg	line,	"include\constants.c", 203; //                                                                             //
 1276                        		.dbg	line,	"include\constants.c", 204; //-----------------------------------------------------------------------------//
 1277                        		.dbg	line,	"include\constants.c", 206; #define LV1_WALL_VRAM_ADR       0x1000
 1278                        		.dbg	line,	"include\constants.c", 207; #define LV1_DOOR_VRAM_ADR       LV1_WALL_VRAM_ADR+256
 1279                        		.dbg	line,	"include\constants.c", 212; #define OBJECT_NUMBER_LV1       23
 1280                        		.dbg	line,	"include\constants.c", 213; #define CHEST_NUMBER_LV1        2
 1281                        		.dbg	line,	"include\constants.c", 214; #define NPC_NUMBER_LV1          2
 1282                        		.dbg	line,	"include\constants.c", 216; #define OBJECT_START_INDEX_LV1  0
 1283                        		.dbg	line,	"include\constants.c", 217; #define CHEST_START_INDEX_LV1   OBJECT_START_INDEX_LV1+OBJECT_NUMBER_LV1
 1284                        		.dbg	line,	"include\constants.c", 218; #define NPC_START_INDEX_LV1     CHEST_START_INDEX_LV1+CHEST_NUMBER_LV1
 1285                        		.dbg	line,	"include\constants.c", 223; //-----------------------------------------------------------------------------//
 1286                        		.dbg	line,	"include\constants.c", 224; //                                                                             //
 1287                        		.dbg	line,	"include\constants.c", 225; //                                   OBJECT                                    //
 1288                        		.dbg	line,	"include\constants.c", 226; //                                                                             //
 1289                        		.dbg	line,	"include\constants.c", 227; //-----------------------------------------------------------------------------//
 1290                        		.dbg	line,	"include\constants.c", 229; #define TYPE_HOURGLASS          0
 1291                        		.dbg	line,	"include\constants.c", 230; #define TYPE_POT                1
 1292                        		.dbg	line,	"include\constants.c", 231; #define TYPE_POW                2
 1293                        		.dbg	line,	"include\constants.c", 232; #define TYPE_CHEST              3
 1294                        		.dbg	line,	"include\constants.c", 233; #define TYPE_GRAY_KEY           4
 1295                        		.dbg	line,	"include\constants.c", 234; #define TYPE_GOLD_KEY           5
 1296                        		.dbg	line,	"include\constants.c", 235; #define TYPE_1UP                6
 1297                        		.dbg	line,	"include\constants.c", 236; #define TYPE_COIN_1             7
 1298                        		.dbg	line,	"include\constants.c", 237; #define TYPE_COIN_5             8
 1299                        		.dbg	line,	"include\constants.c", 238; #define TYPE_COIN_10            9
 1300                        		.dbg	line,	"include\constants.c", 239; #define TYPE_COIN_50            10
 1301                        		.dbg	line,	"include\constants.c", 240; #define TYPE_COIN_100           11
 1302                        		.dbg	line,	"include\constants.c", 241; #define TYPE_COIN_500           12
 1303                        		.dbg	line,	"include\constants.c", 242; #define TYPE_COIN_1000          13
 1304                        		.dbg	line,	"include\constants.c", 243; #define TYPE_YASHICHI           14
 1305                        		.dbg	line,	"include\constants.c", 244; #define TYPE_NULL               99
 1306                        		.dbg	line,	"include\constants.c", 247; #define STATE_FREE              0
 1307                        		.dbg	line,	"include\constants.c", 248; #define STATE_ACTIVE            1
 1308                        		.dbg	line,	"include\constants.c", 249; #define STATE_HIT               2
 1309                        		.dbg	line,	"include\constants.c", 250; #define STATE_DROPPED           3
 1310                        		.dbg	line,	"include\constants.c", 252; #define OBJECT_MARGIN           10//9
 1311                        		.dbg	line,	"include\constants.c", 255; #define POT1_VRAM_ADR           0x6800
 1312                        		.dbg	line,	"include\constants.c", 256; #define POT2_VRAM_ADR           POT1_VRAM_ADR+TILES_4
 1313                        		.dbg	line,	"include\constants.c", 257; #define POT3_VRAM_ADR           POT2_VRAM_ADR+TILES_4
 1314                        		.dbg	line,	"include\constants.c", 258; #define POT4_VRAM_ADR           POT3_VRAM_ADR+TILES_4
 1315                        		.dbg	line,	"include\constants.c", 259; #define POT5_VRAM_ADR           POT4_VRAM_ADR+TILES_4
 1316                        		.dbg	line,	"include\constants.c", 260; #define POT6_VRAM_ADR           POT5_VRAM_ADR+TILES_4
 1317                        		.dbg	line,	"include\constants.c", 261; #define POT7_VRAM_ADR           POT6_VRAM_ADR+TILES_4
 1318                        		.dbg	line,	"include\constants.c", 262; #define POT8_VRAM_ADR           POT7_VRAM_ADR+TILES_4
 1319                        		.dbg	line,	"include\constants.c", 264; #define POW_VRAM_ADR            POT8_VRAM_ADR+TILES_4
 1320                        		.dbg	line,	"include\constants.c", 265; #define GRAY_KEY_VRAM_ADR       POW_VRAM_ADR+TILES_4
 1321                        		.dbg	line,	"include\constants.c", 266; #define COIN_1_VRAM_ADR         GRAY_KEY_VRAM_ADR+TILES_4
 1322                        		.dbg	line,	"include\constants.c", 267; #define COIN_5_VRAM_ADR         COIN_1_VRAM_ADR+TILES_4
 1323                        		.dbg	line,	"include\constants.c", 268; #define COIN_10_VRAM_ADR        COIN_5_VRAM_ADR+TILES_4
 1324                        		.dbg	line,	"include\constants.c", 269; #define COIN_50_VRAM_ADR        COIN_10_VRAM_ADR+TILES_4
 1325                        		.dbg	line,	"include\constants.c", 270; #define COIN_100_VRAM_ADR       COIN_50_VRAM_ADR+TILES_4
 1326                        		.dbg	line,	"include\constants.c", 271; #define COIN_500_VRAM_ADR       COIN_100_VRAM_ADR+TILES_4
 1327                        		.dbg	line,	"include\constants.c", 272; #define COIN_1000_VRAM_ADR      COIN_500_VRAM_ADR+TILES_4
 1328                        		.dbg	line,	"include\constants.c", 274; #define STAR_VRAM_ADR           COIN_1000_VRAM_ADR+TILES_4
 1329                        		.dbg	line,	"include\constants.c", 275; #define OCTOPUS_VRAM_ADR        STAR_VRAM_ADR+TILES_4
 1330                        		.dbg	line,	"include\constants.c", 276; #define FRUIT_VRAM_ADR          OCTOPUS_VRAM_ADR+TILES_4
 1331                        		.dbg	line,	"include\constants.c", 277; #define BARREL_VRAM_ADR         FRUIT_VRAM_ADR+TILES_4
 1332                        		.dbg	line,	"include\constants.c", 278; #define HOURGLASS_VRAM_ADR      BARREL_VRAM_ADR+TILES_4
 1333                        		.dbg	line,	"include\constants.c", 279; #define BAMBOO_VRAM_ADR         HOURGLASS_VRAM_ADR+TILES_4
 1334                        		.dbg	line,	"include\constants.c", 280; #define YASHICHI_VRAM_ADR       BAMBOO_VRAM_ADR+TILES_4
 1335                        		.dbg	line,	"include\constants.c", 281; #define ELEPHANT_VRAM_ADR       YASHICHI_VRAM_ADR+TILES_4
 1336                        		.dbg	line,	"include\constants.c", 282; #define DRAGONFLY_VRAM_ADR      ELEPHANT_VRAM_ADR+TILES_4
 1337                        		.dbg	line,	"include\constants.c", 283; #define COW_VRAM_ADR            DRAGONFLY_VRAM_ADR+TILES_4
 1338                        		.dbg	line,	"include\constants.c", 284; #define MOBICHAN_VRAM_ADR       COW_VRAM_ADR+TILES_4
 1339                        		.dbg	line,	"include\constants.c", 286; #define CHEST_VRAM_ADR          MOBICHAN_VRAM_ADR+TILES_4
 1340                        		.dbg	line,	"include\constants.c", 287; #define NPC_1_VRAM_ADR          CHEST_VRAM_ADR+TILES_96
 1341                        		.dbg	line,	"include\constants.c", 288; #define NPC_2_VRAM_ADR          NPC_1_VRAM_ADR+TILES_16
 1342                        		.dbg	line,	"include\constants.c", 289; #define NPC_3_VRAM_ADR          NPC_2_VRAM_ADR+TILES_16
 1343                        		.dbg	line,	"include\constants.c", 290; #define NPC_4_VRAM_ADR          NPC_3_VRAM_ADR+TILES_16
 1344                        		.dbg	line,	"include\constants.c", 291; #define NPC_5_VRAM_ADR          NPC_4_VRAM_ADR+TILES_16
 1345                        		.dbg	line,	"include\constants.c", 292; #define NPC_6_VRAM_ADR          NPC_5_VRAM_ADR+TILES_16
 1346                        		.dbg	line,	"include\constants.c", 297; //-----------------------------------------------------------------------------//
 1347                        		.dbg	line,	"include\constants.c", 298; //                                                                             //
 1348                        		.dbg	line,	"include\constants.c", 299; //                                    NPC                                      //
 1349                        		.dbg	line,	"include\constants.c", 300; //                                                                             //
 1350                        		.dbg	line,	"include\constants.c", 301; //-----------------------------------------------------------------------------//
 1351                        		.dbg	line,	"include\constants.c", 303; #define TYPE_NPC_ZENNY          0
 1352                        		.dbg	line,	"include\constants.c", 304; #define TYPE_NPC_TIME           1
 1353                        		.dbg	line,	"include\constants.c", 305; #define TYPE_NPC_SHOP           2
 1354                        		.dbg	line,	"include\constants.c", 310; //-----------------------------------------------------------------------------//
 1355                        		.dbg	line,	"include\constants.c", 311; //                                                                             //
 1356                        		.dbg	line,	"include\constants.c", 312; //                                    SHOP                                     //
 1357                        		.dbg	line,	"include\constants.c", 313; //                                                                             //
 1358                        		.dbg	line,	"include\constants.c", 314; //-----------------------------------------------------------------------------//
 1359                        		.dbg	line,	"include\constants.c", 316; #define SHOP_PHASE_ENTER        0
 1360                        		.dbg	line,	"include\constants.c", 317; #define SHOP_PHASE_BUY          1
 1361                        		.dbg	line,	"include\constants.c", 318; #define SHOP_PHASE_EXIT         2
 1362                        		.dbg	line,	"include\constants.c", 320; #define TYPE_ITEM_WEAPON_2      0
 1363                        		.dbg	line,	"include\constants.c", 321; #define TYPE_ITEM_WEAPON_3      1
 1364                        		.dbg	line,	"include\constants.c", 322; #define TYPE_ITEM_WEAPON_4      2
 1365                        		.dbg	line,	"include\constants.c", 323; #define TYPE_ITEM_WEAPON_5      3
 1366                        		.dbg	line,	"include\constants.c", 324; #define TYPE_ITEM_KEY           4
 1367                        		.dbg	line,	"include\constants.c", 326; #define TYPE_ITEM_ARMOR_2       5
 1368                        		.dbg	line,	"include\constants.c", 327; #define TYPE_ITEM_ARMOR_3       6
 1369                        		.dbg	line,	"include\constants.c", 328; #define TYPE_ITEM_ARMOR_4       7
 1370                        		.dbg	line,	"include\constants.c", 329; #define TYPE_ITEM_ARMOR_5       8
 1371                        		.dbg	line,	"include\constants.c", 330; #define TYPE_ITEM_POTION        9
 1372                        		.dbg	line,	"include\constants.c", 335; //-----------------------------------------------------------------------------//
 1373                        		.dbg	line,	"include\constants.c", 336; //                                                                             //
 1374                        		.dbg	line,	"include\constants.c", 337; //                                   ENEMIES                                   //
 1375                        		.dbg	line,	"include\constants.c", 338; //                                                                             //
 1376                        		.dbg	line,	"include\constants.c", 339; //-----------------------------------------------------------------------------//
 1377                        		.dbg	line,	"include\constants.c", 341; //-----------------------------------------------------------------------------//
 1378                        		.dbg	line,	"include\constants.c", 342; //                                     ORC                                     //
 1379                        		.dbg	line,	"include\constants.c", 343; //-----------------------------------------------------------------------------//
 1380                        		.dbg	line,	"include\constants.c", 345; #define ORC_VRAM_ADR                     PLAYER_HANG_ATTACK_2_VRAM_ADR+TILES_16
 1381                        		.dbg	line,	"include\constants.c", 347; #define ORC_WALK_1_VRAM_ADR              ORC_VRAM_ADR
 1382                        		.dbg	line,	"include\constants.c", 348; #define ORC_WALK_2_VRAM_ADR              ORC_WALK_1_VRAM_ADR+TILES_16
 1383                        		.dbg	line,	"include\constants.c", 349; #define ORC_WALK_3_VRAM_ADR              ORC_WALK_2_VRAM_ADR+TILES_16
 1384                        		.dbg	line,	"include\constants.c", 350; #define ORC_ATTACK_1_VRAM_ADR            ORC_WALK_3_VRAM_ADR+TILES_16
 1385                        		.dbg	line,	"include\constants.c", 352; #define ORC_ATTACK_2_VRAM_ADR            ORC_ATTACK_1_VRAM_ADR+TILES_16
 1386                        		.dbg	line,	"include\constants.c", 353; #define ORC_ATTACK_3_VRAM_ADR            ORC_ATTACK_2_VRAM_ADR+TILES_16
 1387                        		.dbg	line,	"include\constants.c", 354; #define ORC_ATTACK_4_VRAM_ADR            ORC_ATTACK_3_VRAM_ADR+TILES_16
 1388                        		.dbg	line,	"include\constants.c", 355; #define ORC_ATTACK_5_VRAM_ADR            ORC_ATTACK_4_VRAM_ADR+TILES_16
 1389                        		.dbg	line,	"include\constants.c", 356; #define ORC_ATTACK_6_VRAM_ADR            ORC_ATTACK_5_VRAM_ADR+TILES_16
 1390                        		.dbg	line,	"include\constants.c", 358; #define ORC_DEAD_1_VRAM_ADR              ORC_ATTACK_6_VRAM_ADR+TILES_16
 1391                        		.dbg	line,	"include\constants.c", 359; #define ORC_DEAD_2_VRAM_ADR              ORC_DEAD_1_VRAM_ADR+TILES_16
 1392                        		.dbg	line,	"include\constants.c", 360; #define ORC_DEAD_3_VRAM_ADR              ORC_DEAD_2_VRAM_ADR+TILES_16
 1393                        		.dbg	line,	"include\constants.c", 361; #define ORC_DEAD_4_VRAM_ADR              ORC_DEAD_3_VRAM_ADR+TILES_16
 1394                        		.dbg	line,	"include\constants.c", 363; #define ORC_AXE_1_VRAM_ADR               ORC_DEAD_4_VRAM_ADR+TILES_16
 1395                        		.dbg	line,	"include\constants.c", 364; #define ORC_AXE_2_VRAM_ADR               ORC_AXE_1_VRAM_ADR+TILES_4
 1396                        		.dbg	line,	"include\constants.c", 365; #define ORC_AXE_3_VRAM_ADR               ORC_AXE_2_VRAM_ADR+TILES_4
 1397                        		.dbg	line,	"include\constants.c", 366; #define ORC_AXE_4_VRAM_ADR               ORC_AXE_3_VRAM_ADR+TILES_4
 1398                        		.dbg	line,	"include\constants.c", 367; #define ORC_AXE_5_VRAM_ADR               ORC_AXE_4_VRAM_ADR+TILES_4
 1399                        		.dbg	line,	"include\constants.c", 368; #define ORC_AXE_6_VRAM_ADR               ORC_AXE_5_VRAM_ADR+TILES_4
 1400                        		.dbg	line,	"include\constants.c", 371; //-----------------------------------------------------------------------------//
 1401                        		.dbg	line,	"include\constants.c", 372; //                                                                             //
 1402                        		.dbg	line,	"include\constants.c", 373; //                                   SERPENT                                   //
 1403                        		.dbg	line,	"include\constants.c", 374; //                                                                             //
 1404                        		.dbg	line,	"include\constants.c", 375; //-----------------------------------------------------------------------------//
 1405                        		.dbg	line,	"include\constants.c", 377; #define SERPENT_VRAM_ADR                    ORC_AXE_6_VRAM_ADR+TILES_4
 1406                        		.dbg	line,	"include\constants.c", 378; #define SERPENT_LEFT_VRAM_ADR               SERPENT_VRAM_ADR
 1407                        		.dbg	line,	"include\constants.c", 379; #define SERPENT_FRONT_VRAM_ADR              SERPENT_LEFT_VRAM_ADR+TILES_16
 1408                        		.dbg	line,	"include\constants.c", 380; #define SERPENT_RIGHT_VRAM_ADR              SERPENT_FRONT_VRAM_ADR+TILES_16
 1409                        		.dbg	line,	"include\constants.c", 381; #define SERPENT_ATTACK_LEFT_VRAM_ADR        SERPENT_RIGHT_VRAM_ADR+TILES_16
 1410                        		.dbg	line,	"include\constants.c", 382; #define SERPENT_ATTACK_FRONT_VRAM_ADR       SERPENT_ATTACK_LEFT_VRAM_ADR+TILES_16
 1411                        		.dbg	line,	"include\constants.c", 383; #define SERPENT_ATTACK_RIGHT_VRAM_ADR       SERPENT_ATTACK_FRONT_VRAM_ADR+TILES_16
 1412                        		.dbg	line,	"include\constants.c", 386; //-----------------------------------------------------------------------------//
 1413                        		.dbg	line,	"include\constants.c", 387; //                                                                             //
 1414                        		.dbg	line,	"include\constants.c", 388; //                                    PLANT                                    //
 1415                        		.dbg	line,	"include\constants.c", 389; //                                                                             //
 1416                        		.dbg	line,	"include\constants.c", 390; //-----------------------------------------------------------------------------//
 1417                        		.dbg	line,	"include\constants.c", 392; #define PLANT_VRAM_ADR                      SERPENT_ATTACK_RIGHT_VRAM_ADR+TILES_16
 1418                        		.dbg	line,	"include\constants.c", 393; #define PLANT_IDLE_VRAM_ADR                 PLANT_VRAM_ADR
 1419                        		.dbg	line,	"Black_Tiger.c", 8; #include "include/variables.c"
 1420                        		.dbg	line,	"include\variables.c", 1; #include "huc.h"
 1421                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 1; #ifndef _hucc_legacy_h
 1422                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 2; #define _hucc_legacy_h
 1423                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 4; /****************************************************************************
 1424                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 5; ; ***************************************************************************
 1425                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 6; ;
 1426                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 7; ; huc.h
 1427                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 8; ;
 1428                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 9; ; HuCC wrapper file to include a default set of HuC-compatible functions.
 1429                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 10; ;
 1430                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 11; ; Copyright John Brandwood 2024.
 1431                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 12; ;
 1432                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 1433                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 1434                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 1435                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 16; ;
 1436                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 17; ; ***************************************************************************
 1437                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 18; ; ***************************************************************************
 1438                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 19; ;
 1439                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 20; ; When the HuCC compiler is invoked with the "--legacy" option to compile old
 1440                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 21; ; projects, then this "huc.h" file is automatically included.
 1441                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 22; ;
 1442                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 23; ; This file includes a set of the individual HuCC headers which correspond to
 1443                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 24; ; HuC's built-in functions and MagicKit library.
 1444                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 25; ;
 1445                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 26; ; New HuCC projects should, preferably, include the specific headers that are
 1446                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 27; ; needed, which will then allow them to replace parts of the standard library
 1447                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 28; ; with newer functions, or they can just manually include this "huc.h" file.
 1448                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 29; ;
 1449                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 30; ; ***************************************************************************
 1450                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 31; ; **************************************************************************/
 1451                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 33; #include "hucc-systemcard.h"
 1452                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 34; #include "hucc-baselib.h"
 1453                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 35; #include "hucc-gfx.h"
 1454                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 36; #include "hucc-old-scroll.h"
 1455                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 37; #include "hucc-old-spr.h"
 1456                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 38; #include "hucc-old-map.h"
 1457                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 39; #include "hucc-old-line.h"
 1458                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 41; #include <stdlib.h>
 1459                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 42; #include <string.h>
 1460                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 44; #endif // _hucc_legacy_h
 1461                        		.dbg	line,	"include\variables.c", 2; #include "hucc-scroll.h"
 1462                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 1; #ifndef _hucc_scroll_h
 1463                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 2; #define _hucc_scroll_h
 1464                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 4; /****************************************************************************
 1465                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 5; ; ***************************************************************************
 1466                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 6; ;
 1467                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 7; ; hucc-scroll.h
 1468                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 8; ;
 1469                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 9; ; Routines for a fast split-screen scrolling system.
 1470                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 10; ;
 1471                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 11; ; Copyright John Brandwood 2024.
 1472                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 12; ;
 1473                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 1474                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 1475                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 1476                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 16; ;
 1477                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 17; ; ***************************************************************************
 1478                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 18; ; ***************************************************************************
 1479                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 19; ;
 1480                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 20; ; The maximum number of splits for each screen layer is set in your project's
 1481                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 21; ; "hucc-config.inc" file, with the library having a limit of 128-per-layer.
 1482                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 22; ;
 1483                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 23; ; Your first active split must be defined to start at screen line 0, and then
 1484                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 24; ; the rest of the active splits must be in increasing line order to match the
 1485                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 25; ; way that the PC Engine displays the output image.
 1486                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 26; ;
 1487                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 27; ; You can have disabled splits interleaved with your active splits.
 1488                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 28; ;
 1489                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 29; ; Splits that are normally disabled can be used to create full screen effects
 1490                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 30; ; such as bouncing the screen up and down by adding blank areas at the top or
 1491                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 31; ; bottom of the screen, and then rapidly changing the height of those areas.
 1492                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 32; ;
 1493                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 33; ; ***************************************************************************
 1494                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 34; ; **************************************************************************/
 1495                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 36; // *************
 1496                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 37; // VDC bits for display_flags ...
 1497                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 38; // *************
 1498                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 40; #ifndef BKG_OFF
 1499                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 41; #define BKG_OFF 0x00
 1500                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 42; #endif
 1501                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 44; #ifndef SPR_OFF
 1502                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 45; #define SPR_OFF 0x00
 1503                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 46; #endif
 1504                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 48; #ifndef BKG_ON
 1505                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 49; #define BKG_ON 0x80
 1506                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 50; #endif
 1507                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 52; #ifndef SPR_ON
 1508                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 53; #define SPR_ON 0x40
 1509                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 54; #endif
 1510                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 56; // *************
 1511                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 57; // Functions in hucc-scroll.asm ...
 1512                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 58; // *************
 1513                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 60; #ifdef __HUCC__
 1514                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 62; #asmdef	HUCC_USES_NEW_SCROLL 1
 1515                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 64; extern void __fastcall scroll_split( unsigned char index<_al>, unsigned char screen_line<_ah>, unsigned int bat_x<_bx>, unsigned int bat_y<_cx>, unsigned char display_flags<_dl> );
 1516                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 65; extern void __fastcall sgx_scroll_split( unsigned char index<_al>, unsigned char screen_line<_ah>, unsigned int bat_x<_bx>, unsigned int bat_y<_cx>, unsigned char display_flags<_dl> );
 1517                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 67; extern void __fastcall disable_split( unsigned char index<acc> );
 1518                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 68; extern void __fastcall sgx_disable_split( unsigned char index<acc> );
 1519                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 70; extern void __fastcall __macro disable_all_splits( void );
 1520                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 71; extern void __fastcall __macro sgx_disable_all_splits( void );
 1521                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 73; #asm
 1522                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 74; .macro	_disable_all_splits
 1523                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 75; ldy	#HUCC_PCE_SPLITS - 1
 1524                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 76; !loop:		tya
 1525                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 77; call	_disable_split.1
 1526                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 78; dey
 1527                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 79; bpl	!loop-
 1528                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 80; .endm
 1529                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 82; .macro	_sgx_disable_all_splits
 1530                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 83; ldy	#HUCC_SGX_SPLITS - 1
 1531                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 84; !loop:		tya
 1532                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 85; call	_sgx_disable_split.1
 1533                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 86; dey
 1534                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 87; bpl	!loop-
 1535                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 88; .endm
 1536                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 89; #endasm
 1537                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 91; #endif // __HUCC__
 1538                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 93; #endif // _hucc_scroll_h
 1539                        		.dbg	line,	"include\variables.c", 3; #include "hucc-chrmap.h"
 1540                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 1; #ifndef _hucc_chrmap_h
 1541                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 2; #define _hucc_chrmap_h
 1542                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 4; /****************************************************************************
 1543                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 5; ; ***************************************************************************
 1544                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 6; ;
 1545                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 7; ; hucc-chrmap.h
 1546                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 8; ;
 1547                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 9; ; A simple map system based on 8x8 characters (aka "tiles") in BAT format.
 1548                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 10; ;
 1549                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 11; ; Copyright John Brandwood 2025.
 1550                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 12; ;
 1551                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 1552                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 1553                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 1554                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 16; ;
 1555                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 17; ; ***************************************************************************
 1556                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 18; ; ***************************************************************************
 1557                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 19; ;
 1558                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 20; ; The maximum X and Y size for chrmaps is 256 characters (2048 pixels).
 1559                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 21; ;
 1560                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 22; ; The maximum total size for a chrmap is 16KBytes, which allows for maps up
 1561                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 23; ; to 256x32 tiles (2048x256 pixels).
 1562                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 24; ;
 1563                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 25; ; ***************************************************************************
 1564                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 26; ; **************************************************************************/
 1565                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 28; // *************
 1566                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 29; // This code extends the blkmap library ...
 1567                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 30; // *************
 1568                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 32; #include "hucc-blkmap.h"
 1569                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 34; // *************
 1570                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 35; // Functions in chrmap.asm ...
 1571                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 36; // *************
 1572                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 38; #ifdef __HUCC__
 1573                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 40; #asmdef	HUCC_USES_CHRMAP 1
 1574                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 42; extern void __fastcall __nop set_chrmap( unsigned char __far *chrmap<vdc_map_bank:vdc_map_addr>, unsigned char tiles_w<vdc_map_line_w> );
 1575                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 44; extern void __fastcall draw_bat( void );
 1576                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 45; extern void __fastcall scroll_bat( void );
 1577                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 47; extern void __fastcall blit_bat( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 1578                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 49; #ifdef _SGX
 1579                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 51; extern void __fastcall __nop sgx_set_chrmap( unsigned char __far *chrmap<sgx_map_bank:sgx_map_addr>, unsigned char tiles_w<sgx_map_line_w> );
 1580                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 53; extern void __fastcall sgx_draw_bat( void );
 1581                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 54; extern void __fastcall sgx_scroll_bat( void );
 1582                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 56; extern void __fastcall sgx_blit_bat( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 1583                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 58; #endif
 1584                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 60; #endif // __HUCC__
 1585                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 62; #endif // _hucc_chrmap_h
 1586                        		.dbg	line,	"include\variables.c", 4; #include "hucc-blkmap.h"
 1587                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 1; #ifndef _hucc_blkmap_h
 1588                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 2; #define _hucc_blkmap_h
 1589                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 4; /****************************************************************************
 1590                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 5; ; ***************************************************************************
 1591                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 6; ;
 1592                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 7; ; hucc-blkmap.h
 1593                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 8; ;
 1594                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 9; ; A map system based on 16x16 meta-tiles (aka "blocks", aka CHR/BLK/MAP).
 1595                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 10; ;
 1596                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 11; ; Copyright John Brandwood 2025.
 1597                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 12; ;
 1598                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 1599                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 1600                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 1601                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 16; ;
 1602                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 17; ; ***************************************************************************
 1603                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 18; ; ***************************************************************************
 1604                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 19; ;
 1605                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 20; ; The maximum X and Y size for blkmaps is 128 blocks (2048 pixels).
 1606                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 21; ;
 1607                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 22; ; The maximum total size for a blkmap is 16KBytes, which allows for maps up
 1608                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 23; ; to 128x128 blocks (2048x2048 pixels).
 1609                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 24; ;
 1610                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 25; ; Huge multi-screen blkmaps are also supported (optionally).
 1611                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 26; ;
 1612                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 27; ; The maximum X and Y for multi-screen maps is 128 screens (32768 pixels).
 1613                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 28; ;
 1614                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 29; ; The maximum total size for a multi-screen map is 8KBytes, which allows for
 1615                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 30; ; a total of 1024 screens.
 1616                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 31; ;
 1617                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 32; ; ***************************************************************************
 1618                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 33; ; **************************************************************************/
 1619                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 35; // *************
 1620                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 36; // Functions in blkmap.asm ...
 1621                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 37; // *************
 1622                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 39; #ifdef __HUCC__
 1623                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 41; #asmdef	HUCC_USES_BLKMAP 1
 1624                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 43; // Current top-left of drawn map in pixels.
 1625                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 44; extern unsigned int   vdc_map_pxl_x;
 1626                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 45; extern unsigned int   vdc_map_pxl_y;
 1627                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 47; // Width and height to draw/scroll in characters (not tiles).
 1628                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 48; extern unsigned char  vdc_map_draw_w;
 1629                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 49; extern unsigned char  vdc_map_draw_h;
 1630                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 51; // Width of map (or multi-screen BAT) in tiles.
 1631                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 52; extern unsigned char  vdc_map_line_w;
 1632                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 54; // Width of map in screens (if multi-screen map).
 1633                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 55; extern unsigned char  vdc_map_scrn_w;
 1634                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 57; // Extra information returned by get_map_block() and sgx_get_map_block(),
 1635                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 58; // which are the collision flags and the mask/overlay sprite for the BLK.
 1636                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 59; extern unsigned char  map_blk_flag;
 1637                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 60; extern unsigned char  map_blk_mask;
 1638                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 62; extern unsigned char  vdc_scr_bank;
 1639                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 63; extern unsigned char *vdc_scr_addr;
 1640                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 65; extern unsigned char  vdc_map_bank;
 1641                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 66; extern unsigned char *vdc_map_addr;
 1642                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 68; extern unsigned char  vdc_blk_bank;
 1643                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 69; extern unsigned char *vdc_blk_addr;
 1644                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 71; extern unsigned char  vdc_tbl_bank;
 1645                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 72; extern unsigned char *vdc_tbl_addr;
 1646                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 74; extern void __fastcall set_blocks( unsigned char __far *blk_def<vdc_blk_bank:vdc_blk_addr>, unsigned char __far *flg_def<vdc_tbl_bank:vdc_tbl_addr>, unsigned char number_of_blocks<_al> );
 1647                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 75; extern void __fastcall __macro set_blkmap( unsigned char __far *blk_map<vdc_map_bank:vdc_map_addr>, unsigned char blocks_w<vdc_map_line_w> );
 1648                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 76; extern void __fastcall __macro set_multimap( unsigned char __far *multi_map<vdc_scr_bank:vdc_scr_addr>, unsigned char screens_w<vdc_map_scrn_w> );
 1649                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 78; extern void __fastcall draw_map( void );
 1650                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 79; extern void __fastcall scroll_map( void );
 1651                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 81; extern void __fastcall blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 1652                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 83; extern unsigned char __fastcall get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
 1653                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 85; #asm
 1654                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 86; .macro	_set_blkmap.2
 1655                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 87; stz	vdc_scr_bank
 1656                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 88; .endm
 1657                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 90; .macro	_set_multimap.2
 1658                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 91; lda	vdc_bat_width
 1659                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 92; lsr	a
 1660                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 93; sta	vdc_map_line_w
 1661                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 94; .endm
 1662                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 96; .macro	SCREEN
 1663                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 97; db	(((\1) & $1FFF) | $6000) >> 8, bank(\1)
 1664                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 98; db	(((\2) & $1FFF) | $4000) >> 8, bank(\2)
 1665                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 99; db	(((\3) & $1FFF) | $6000) >> 8, bank(\3)
 1666                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 100; dw	(\4)
 1667                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 101; .endm
 1668                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 102; #endasm
 1669                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 104; #ifdef _SGX
 1670                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 106; // Current top-left of drawn map in pixels.
 1671                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 107; extern unsigned int   sgx_map_pxl_x;
 1672                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 108; extern unsigned int   sgx_map_pxl_y;
 1673                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 110; // Width and height to draw/scroll in characters (not tiles).
 1674                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 111; extern unsigned char  sgx_map_draw_w;
 1675                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 112; extern unsigned char  sgx_map_draw_h;
 1676                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 114; // Width of map (or multi-screen BAT) in tiles.
 1677                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 115; extern unsigned char  sgx_map_line_w;
 1678                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 117; // Width of map in screens (if multi-screen map).
 1679                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 118; extern unsigned char  sgx_map_scrn_w;
 1680                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 120; extern unsigned char  sgx_scr_bank;
 1681                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 121; extern unsigned char *sgx_scr_addr;
 1682                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 123; extern unsigned char  sgx_map_bank;
 1683                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 124; extern unsigned char *sgx_map_addr;
 1684                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 126; extern unsigned char  sgx_blk_bank;
 1685                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 127; extern unsigned char *sgx_blk_addr;
 1686                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 129; extern unsigned char  sgx_tbl_bank;
 1687                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 130; extern unsigned char *sgx_tbl_addr;
 1688                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 132; extern void __fastcall sgx_set_blocks( unsigned char __far *blk_def<sgx_blk_bank:sgx_blk_addr>, unsigned char __far *flg_def<sgx_tbl_bank:sgx_tbl_addr>, unsigned char number_of_blocks<_al> );
 1689                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 133; extern void __fastcall __macro sgx_set_blkmap( unsigned char __far *blk_map<sgx_map_bank:sgx_map_addr>, unsigned char blocks_w<sgx_map_line_w> );
 1690                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 134; extern void __fastcall __macro sgx_set_multimap( unsigned char __far *multi_map<sgx_scr_bank:sgx_scr_addr>, unsigned char screens_w<sgx_map_scrn_w> );
 1691                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 136; extern void __fastcall sgx_draw_map( void );
 1692                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 137; extern void __fastcall sgx_scroll_map( void );
 1693                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 139; extern void __fastcall sgx_blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 1694                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 141; extern unsigned char __fastcall sgx_get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
 1695                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 143; #asm
 1696                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 144; .macro	_sgx_set_blkmap.2
 1697                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 145; stz	sgx_scr_bank
 1698                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 146; .endm
 1699                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 148; .macro	_sgx_set_multimap.2
 1700                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 149; lda	sgx_bat_width
 1701                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 150; lsr	a
 1702                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 151; sta	sgx_map_line_w
 1703                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 152; .endm
 1704                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 153; #endasm
 1705                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 155; #endif
 1706                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 157; #endif // __HUCC__
 1707                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 159; #endif // _hucc_blkmap_h
 1708                        		.dbg	line,	"include\variables.c", 13; unsigned char   sequence_id,
 1709                        		.dbg	line,	"include\variables.c", 14; sequence_loaded,
 1710                        		.dbg	line,	"include\variables.c", 16; level_id,
 1711                        		.dbg	line,	"include\variables.c", 17; display_level_text,
 1712                        		.dbg	line,	"include\variables.c", 19; // PLAYER //
 1713                        		.dbg	line,	"include\variables.c", 20; respawn,
 1714                        		.dbg	line,	"include\variables.c", 21; player_id,
 1715                        		.dbg	line,	"include\variables.c", 22; player_state,
 1716                        		.dbg	line,	"include\variables.c", 23; player_axis,
 1717                        		.dbg	line,	"include\variables.c", 24; player_previous_axis,
 1718                        		.dbg	line,	"include\variables.c", 25; player_counter_anim,
 1719                        		.dbg	line,	"include\variables.c", 26; player_index_jump,
 1720                        		.dbg	line,	"include\variables.c", 27; player_index_fall,
 1721                        		.dbg	line,	"include\variables.c", 28; player_counter_attack,
 1722                        		.dbg	line,	"include\variables.c", 30; player_naked,
 1723                        		.dbg	line,	"include\variables.c", 31; player_attack,
 1724                        		.dbg	line,	"include\variables.c", 33; jump_ladder,
 1725                        		.dbg	line,	"include\variables.c", 34; jump_max_index,
 1726                        		.dbg	line,	"include\variables.c", 35; fall_ladder,
 1727                        		.dbg	line,	"include\variables.c", 36; hit_wall,
 1728                        		.dbg	line,	"include\variables.c", 38; // ARMOR + WEAPON //
 1729                        		.dbg	line,	"include\variables.c", 39; chain_id,
 1730                        		.dbg	line,	"include\variables.c", 40; weapon_id,
 1731                        		.dbg	line,	"include\variables.c", 41; armor_level,
 1732                        		.dbg	line,	"include\variables.c", 42; weapon_level,
 1733                        		.dbg	line,	"include\variables.c", 43; chain_unfold,
 1734                        		.dbg	line,	"include\variables.c", 44; list_chain_active[3],
 1735                        		.dbg	line,	"include\variables.c", 46; // HUD //
 1736                        		.dbg	line,	"include\variables.c", 47; life_amount,
 1737                        		.dbg	line,	"include\variables.c", 48; credits_amount,
 1738                        		.dbg	line,	"include\variables.c", 49; key_amount,
 1739                        		.dbg	line,	"include\variables.c", 50; potion_amount,
 1740                        		.dbg	line,	"include\variables.c", 52; // TIME //
 1741                        		.dbg	line,	"include\variables.c", 53; minutes,
 1742                        		.dbg	line,	"include\variables.c", 54; seconds,
 1743                        		.dbg	line,	"include\variables.c", 55; time_counter,
 1744                        		.dbg	line,	"include\variables.c", 57; minutes_backup,
 1745                        		.dbg	line,	"include\variables.c", 58; seconds_backup,
 1746                        		.dbg	line,	"include\variables.c", 61; // OBJECTS //
 1747                        		.dbg	line,	"include\variables.c", 62; object_start_index,
 1748                        		.dbg	line,	"include\variables.c", 63; level_object_number,
 1749                        		.dbg	line,	"include\variables.c", 64; onscreen_object_number,
 1750                        		.dbg	line,	"include\variables.c", 65; 
 1751                        		.dbg	line,	"include\variables.c", 66; list_object_type[25],
 1752                        		.dbg	line,	"include\variables.c", 67; list_object_state[25],
 1753                        		.dbg	line,	"include\variables.c", 68; list_object_energy[25],
 1754                        		.dbg	line,	"include\variables.c", 69; list_reward_type[25],
 1755                        		.dbg	line,	"include\variables.c", 70; list_object_counter[25],
 1756                        		.dbg	line,	"include\variables.c", 71; 
 1757                        		.dbg	line,	"include\variables.c", 72; list_onscreen_object[8],                
 1758                        		.dbg	line,	"include\variables.c", 73; 
 1759                        		.dbg	line,	"include\variables.c", 74; // CHESTS //
 1760                        		.dbg	line,	"include\variables.c", 75; chest_start_index,
 1761                        		.dbg	line,	"include\variables.c", 76; level_chest_number,
 1762                        		.dbg	line,	"include\variables.c", 77; onscreen_chest_number,
 1763                        		.dbg	line,	"include\variables.c", 78; 
 1764                        		.dbg	line,	"include\variables.c", 79; list_chest_state[8],
 1765                        		.dbg	line,	"include\variables.c", 80; list_onscreen_chest[8],
 1766                        		.dbg	line,	"include\variables.c", 82; // NPC //
 1767                        		.dbg	line,	"include\variables.c", 83; npc_start_index,
 1768                        		.dbg	line,	"include\variables.c", 84; level_npc_number,
 1769                        		.dbg	line,	"include\variables.c", 85; onscreen_npc_number,
 1770                        		.dbg	line,	"include\variables.c", 86; selected_npc,
 1771                        		.dbg	line,	"include\variables.c", 88; list_npc_type[9],
 1772                        		.dbg	line,	"include\variables.c", 89; list_npc_state[9],
 1773                        		.dbg	line,	"include\variables.c", 90; list_npc_reward[9],
 1774                        		.dbg	line,	"include\variables.c", 91; list_onscreen_npc[9],
 1775                        		.dbg	line,	"include\variables.c", 93; // SHOPS //
 1776                        		.dbg	line,	"include\variables.c", 94; index_x,
 1777                        		.dbg	line,	"include\variables.c", 95; index_y,
 1778                        		.dbg	line,	"include\variables.c", 96; item_index,
 1779                        		.dbg	line,	"include\variables.c", 98; shop_phase,
 1780                        		.dbg	line,	"include\variables.c", 99; shop_counter,
 1781                        		.dbg	line,	"include\variables.c", 101; palette_step,
 1782                        		.dbg	line,	"include\variables.c", 102; 
 1783                        		.dbg	line,	"include\variables.c", 103; tilemap_mask[256];
 1784                        		.dbg	line,	"include\variables.c", 108; signed int      player_pos_x,
 1785                        		.dbg	line,	"include\variables.c", 109; player_pos_y,
 1786                        		.dbg	line,	"include\variables.c", 110; camera_max_y_position,
 1787                        		.dbg	line,	"include\variables.c", 112; camera_pos_x_backup,
 1788                        		.dbg	line,	"include\variables.c", 113; camera_pos_y_backup,
 1789                        		.dbg	line,	"include\variables.c", 116; list_object_x_pos[25],
 1790                        		.dbg	line,	"include\variables.c", 117; list_object_y_pos[25],
 1791                        		.dbg	line,	"include\variables.c", 118; list_object_x_pos_ref[25],
 1792                        		.dbg	line,	"include\variables.c", 119; list_object_y_pos_ref[25],
 1793                        		.dbg	line,	"include\variables.c", 122; list_chest_x_pos[8],
 1794                        		.dbg	line,	"include\variables.c", 123; list_chest_y_pos[8],
 1795                        		.dbg	line,	"include\variables.c", 124; list_chest_x_pos_ref[8],
 1796                        		.dbg	line,	"include\variables.c", 125; list_chest_y_pos_ref[8],
 1797                        		.dbg	line,	"include\variables.c", 128; list_npc_x_pos[9],
 1798                        		.dbg	line,	"include\variables.c", 129; list_npc_y_pos[9],
 1799                        		.dbg	line,	"include\variables.c", 130; list_npc_x_pos_ref[9],
 1800                        		.dbg	line,	"include\variables.c", 131; list_npc_y_pos_ref[9];
 1801                        		.dbg	line,	"include\variables.c", 132; 
 1802                        		.dbg	line,	"include\variables.c", 136; int             global_counter,
 1803                        		.dbg	line,	"include\variables.c", 137; letter_index,
 1804                        		.dbg	line,	"include\variables.c", 138; letter_counter,
 1805                        		.dbg	line,	"include\variables.c", 139; zenny_amount,
 1806                        		.dbg	line,	"include\variables.c", 140; score,
 1807                        		.dbg	line,	"include\variables.c", 142; shop_prices[10],
 1808                        		.dbg	line,	"include\variables.c", 143; palette_buffer[16];
 1809                        		.dbg	line,	"include\variables.c", 148; signed char weapon_y_offset;
 1810                        		.dbg	line,	"include\variables.c", 153; extern unsigned char tileset_LV1_BG_B[];
 1811                        		.dbg	line,	"include\variables.c", 154; extern unsigned char multimap_LV1_BG_B[];
 1812                        		.dbg	line,	"include\variables.c", 156; extern unsigned char tileset_HUD[];
 1813                        		.dbg	line,	"include\variables.c", 157; extern unsigned char multimap_LV1_BG_A[];
 1814                        		.dbg	line,	"include\variables.c", 159; extern unsigned char tileset_SHOP_BG_B[];
 1815                        		.dbg	line,	"include\variables.c", 161; char *ptr_REWARD_TYPE;
 1816                        		.dbg	line,	"include\variables.c", 162; int *ptr_REWARD_VRAM_ADR;
 1817                        		.dbg	line,	"include\variables.c", 163; int *ptr_SHOP_ITEM_PRICES;
 1818                        		.dbg	line,	"Black_Tiger.c", 11; #include "include/gfx_BG_INTRO.c"
 1819                        		.dbg	line,	"include\gfx_BG_INTRO.c", 1; #include "huc.h"
 1820                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 1; #ifndef _hucc_legacy_h
 1821                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 2; #define _hucc_legacy_h
 1822                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 4; /****************************************************************************
 1823                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 5; ; ***************************************************************************
 1824                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 6; ;
 1825                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 7; ; huc.h
 1826                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 8; ;
 1827                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 9; ; HuCC wrapper file to include a default set of HuC-compatible functions.
 1828                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 10; ;
 1829                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 11; ; Copyright John Brandwood 2024.
 1830                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 12; ;
 1831                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 1832                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 1833                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 1834                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 16; ;
 1835                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 17; ; ***************************************************************************
 1836                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 18; ; ***************************************************************************
 1837                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 19; ;
 1838                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 20; ; When the HuCC compiler is invoked with the "--legacy" option to compile old
 1839                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 21; ; projects, then this "huc.h" file is automatically included.
 1840                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 22; ;
 1841                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 23; ; This file includes a set of the individual HuCC headers which correspond to
 1842                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 24; ; HuC's built-in functions and MagicKit library.
 1843                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 25; ;
 1844                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 26; ; New HuCC projects should, preferably, include the specific headers that are
 1845                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 27; ; needed, which will then allow them to replace parts of the standard library
 1846                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 28; ; with newer functions, or they can just manually include this "huc.h" file.
 1847                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 29; ;
 1848                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 30; ; ***************************************************************************
 1849                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 31; ; **************************************************************************/
 1850                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 33; #include "hucc-systemcard.h"
 1851                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 34; #include "hucc-baselib.h"
 1852                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 35; #include "hucc-gfx.h"
 1853                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 36; #include "hucc-old-scroll.h"
 1854                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 37; #include "hucc-old-spr.h"
 1855                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 38; #include "hucc-old-map.h"
 1856                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 39; #include "hucc-old-line.h"
 1857                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 41; #include <stdlib.h>
 1858                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 42; #include <string.h>
 1859                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 44; #endif // _hucc_legacy_h
 1860                        		.dbg	line,	"include\gfx_BG_INTRO.c", 2; #include "hucc-scroll.h"
 1861                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 1; #ifndef _hucc_scroll_h
 1862                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 2; #define _hucc_scroll_h
 1863                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 4; /****************************************************************************
 1864                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 5; ; ***************************************************************************
 1865                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 6; ;
 1866                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 7; ; hucc-scroll.h
 1867                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 8; ;
 1868                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 9; ; Routines for a fast split-screen scrolling system.
 1869                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 10; ;
 1870                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 11; ; Copyright John Brandwood 2024.
 1871                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 12; ;
 1872                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 1873                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 1874                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 1875                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 16; ;
 1876                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 17; ; ***************************************************************************
 1877                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 18; ; ***************************************************************************
 1878                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 19; ;
 1879                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 20; ; The maximum number of splits for each screen layer is set in your project's
 1880                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 21; ; "hucc-config.inc" file, with the library having a limit of 128-per-layer.
 1881                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 22; ;
 1882                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 23; ; Your first active split must be defined to start at screen line 0, and then
 1883                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 24; ; the rest of the active splits must be in increasing line order to match the
 1884                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 25; ; way that the PC Engine displays the output image.
 1885                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 26; ;
 1886                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 27; ; You can have disabled splits interleaved with your active splits.
 1887                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 28; ;
 1888                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 29; ; Splits that are normally disabled can be used to create full screen effects
 1889                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 30; ; such as bouncing the screen up and down by adding blank areas at the top or
 1890                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 31; ; bottom of the screen, and then rapidly changing the height of those areas.
 1891                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 32; ;
 1892                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 33; ; ***************************************************************************
 1893                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 34; ; **************************************************************************/
 1894                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 36; // *************
 1895                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 37; // VDC bits for display_flags ...
 1896                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 38; // *************
 1897                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 40; #ifndef BKG_OFF
 1898                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 41; #define BKG_OFF 0x00
 1899                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 42; #endif
 1900                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 44; #ifndef SPR_OFF
 1901                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 45; #define SPR_OFF 0x00
 1902                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 46; #endif
 1903                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 48; #ifndef BKG_ON
 1904                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 49; #define BKG_ON 0x80
 1905                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 50; #endif
 1906                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 52; #ifndef SPR_ON
 1907                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 53; #define SPR_ON 0x40
 1908                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 54; #endif
 1909                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 56; // *************
 1910                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 57; // Functions in hucc-scroll.asm ...
 1911                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 58; // *************
 1912                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 60; #ifdef __HUCC__
 1913                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 62; #asmdef	HUCC_USES_NEW_SCROLL 1
 1914                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 64; extern void __fastcall scroll_split( unsigned char index<_al>, unsigned char screen_line<_ah>, unsigned int bat_x<_bx>, unsigned int bat_y<_cx>, unsigned char display_flags<_dl> );
 1915                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 65; extern void __fastcall sgx_scroll_split( unsigned char index<_al>, unsigned char screen_line<_ah>, unsigned int bat_x<_bx>, unsigned int bat_y<_cx>, unsigned char display_flags<_dl> );
 1916                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 67; extern void __fastcall disable_split( unsigned char index<acc> );
 1917                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 68; extern void __fastcall sgx_disable_split( unsigned char index<acc> );
 1918                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 70; extern void __fastcall __macro disable_all_splits( void );
 1919                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 71; extern void __fastcall __macro sgx_disable_all_splits( void );
 1920                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 73; #asm
 1921                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 74; .macro	_disable_all_splits
 1922                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 75; ldy	#HUCC_PCE_SPLITS - 1
 1923                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 76; !loop:		tya
 1924                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 77; call	_disable_split.1
 1925                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 78; dey
 1926                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 79; bpl	!loop-
 1927                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 80; .endm
 1928                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 82; .macro	_sgx_disable_all_splits
 1929                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 83; ldy	#HUCC_SGX_SPLITS - 1
 1930                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 84; !loop:		tya
 1931                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 85; call	_sgx_disable_split.1
 1932                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 86; dey
 1933                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 87; bpl	!loop-
 1934                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 88; .endm
 1935                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 89; #endasm
 1936                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 91; #endif // __HUCC__
 1937                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 93; #endif // _hucc_scroll_h
 1938                        		.dbg	line,	"include\gfx_BG_INTRO.c", 3; #include "hucc-chrmap.h"
 1939                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 1; #ifndef _hucc_chrmap_h
 1940                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 2; #define _hucc_chrmap_h
 1941                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 4; /****************************************************************************
 1942                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 5; ; ***************************************************************************
 1943                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 6; ;
 1944                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 7; ; hucc-chrmap.h
 1945                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 8; ;
 1946                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 9; ; A simple map system based on 8x8 characters (aka "tiles") in BAT format.
 1947                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 10; ;
 1948                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 11; ; Copyright John Brandwood 2025.
 1949                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 12; ;
 1950                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 1951                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 1952                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 1953                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 16; ;
 1954                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 17; ; ***************************************************************************
 1955                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 18; ; ***************************************************************************
 1956                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 19; ;
 1957                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 20; ; The maximum X and Y size for chrmaps is 256 characters (2048 pixels).
 1958                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 21; ;
 1959                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 22; ; The maximum total size for a chrmap is 16KBytes, which allows for maps up
 1960                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 23; ; to 256x32 tiles (2048x256 pixels).
 1961                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 24; ;
 1962                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 25; ; ***************************************************************************
 1963                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 26; ; **************************************************************************/
 1964                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 28; // *************
 1965                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 29; // This code extends the blkmap library ...
 1966                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 30; // *************
 1967                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 32; #include "hucc-blkmap.h"
 1968                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 34; // *************
 1969                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 35; // Functions in chrmap.asm ...
 1970                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 36; // *************
 1971                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 38; #ifdef __HUCC__
 1972                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 40; #asmdef	HUCC_USES_CHRMAP 1
 1973                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 42; extern void __fastcall __nop set_chrmap( unsigned char __far *chrmap<vdc_map_bank:vdc_map_addr>, unsigned char tiles_w<vdc_map_line_w> );
 1974                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 44; extern void __fastcall draw_bat( void );
 1975                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 45; extern void __fastcall scroll_bat( void );
 1976                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 47; extern void __fastcall blit_bat( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 1977                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 49; #ifdef _SGX
 1978                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 51; extern void __fastcall __nop sgx_set_chrmap( unsigned char __far *chrmap<sgx_map_bank:sgx_map_addr>, unsigned char tiles_w<sgx_map_line_w> );
 1979                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 53; extern void __fastcall sgx_draw_bat( void );
 1980                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 54; extern void __fastcall sgx_scroll_bat( void );
 1981                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 56; extern void __fastcall sgx_blit_bat( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 1982                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 58; #endif
 1983                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 60; #endif // __HUCC__
 1984                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 62; #endif // _hucc_chrmap_h
 1985                        		.dbg	line,	"include\gfx_BG_INTRO.c", 4; #include "hucc-blkmap.h"
 1986                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 1; #ifndef _hucc_blkmap_h
 1987                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 2; #define _hucc_blkmap_h
 1988                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 4; /****************************************************************************
 1989                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 5; ; ***************************************************************************
 1990                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 6; ;
 1991                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 7; ; hucc-blkmap.h
 1992                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 8; ;
 1993                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 9; ; A map system based on 16x16 meta-tiles (aka "blocks", aka CHR/BLK/MAP).
 1994                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 10; ;
 1995                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 11; ; Copyright John Brandwood 2025.
 1996                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 12; ;
 1997                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 1998                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 1999                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 2000                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 16; ;
 2001                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 17; ; ***************************************************************************
 2002                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 18; ; ***************************************************************************
 2003                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 19; ;
 2004                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 20; ; The maximum X and Y size for blkmaps is 128 blocks (2048 pixels).
 2005                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 21; ;
 2006                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 22; ; The maximum total size for a blkmap is 16KBytes, which allows for maps up
 2007                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 23; ; to 128x128 blocks (2048x2048 pixels).
 2008                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 24; ;
 2009                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 25; ; Huge multi-screen blkmaps are also supported (optionally).
 2010                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 26; ;
 2011                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 27; ; The maximum X and Y for multi-screen maps is 128 screens (32768 pixels).
 2012                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 28; ;
 2013                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 29; ; The maximum total size for a multi-screen map is 8KBytes, which allows for
 2014                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 30; ; a total of 1024 screens.
 2015                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 31; ;
 2016                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 32; ; ***************************************************************************
 2017                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 33; ; **************************************************************************/
 2018                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 35; // *************
 2019                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 36; // Functions in blkmap.asm ...
 2020                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 37; // *************
 2021                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 39; #ifdef __HUCC__
 2022                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 41; #asmdef	HUCC_USES_BLKMAP 1
 2023                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 43; // Current top-left of drawn map in pixels.
 2024                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 44; extern unsigned int   vdc_map_pxl_x;
 2025                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 45; extern unsigned int   vdc_map_pxl_y;
 2026                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 47; // Width and height to draw/scroll in characters (not tiles).
 2027                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 48; extern unsigned char  vdc_map_draw_w;
 2028                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 49; extern unsigned char  vdc_map_draw_h;
 2029                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 51; // Width of map (or multi-screen BAT) in tiles.
 2030                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 52; extern unsigned char  vdc_map_line_w;
 2031                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 54; // Width of map in screens (if multi-screen map).
 2032                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 55; extern unsigned char  vdc_map_scrn_w;
 2033                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 57; // Extra information returned by get_map_block() and sgx_get_map_block(),
 2034                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 58; // which are the collision flags and the mask/overlay sprite for the BLK.
 2035                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 59; extern unsigned char  map_blk_flag;
 2036                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 60; extern unsigned char  map_blk_mask;
 2037                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 62; extern unsigned char  vdc_scr_bank;
 2038                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 63; extern unsigned char *vdc_scr_addr;
 2039                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 65; extern unsigned char  vdc_map_bank;
 2040                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 66; extern unsigned char *vdc_map_addr;
 2041                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 68; extern unsigned char  vdc_blk_bank;
 2042                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 69; extern unsigned char *vdc_blk_addr;
 2043                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 71; extern unsigned char  vdc_tbl_bank;
 2044                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 72; extern unsigned char *vdc_tbl_addr;
 2045                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 74; extern void __fastcall set_blocks( unsigned char __far *blk_def<vdc_blk_bank:vdc_blk_addr>, unsigned char __far *flg_def<vdc_tbl_bank:vdc_tbl_addr>, unsigned char number_of_blocks<_al> );
 2046                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 75; extern void __fastcall __macro set_blkmap( unsigned char __far *blk_map<vdc_map_bank:vdc_map_addr>, unsigned char blocks_w<vdc_map_line_w> );
 2047                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 76; extern void __fastcall __macro set_multimap( unsigned char __far *multi_map<vdc_scr_bank:vdc_scr_addr>, unsigned char screens_w<vdc_map_scrn_w> );
 2048                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 78; extern void __fastcall draw_map( void );
 2049                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 79; extern void __fastcall scroll_map( void );
 2050                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 81; extern void __fastcall blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 2051                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 83; extern unsigned char __fastcall get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
 2052                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 85; #asm
 2053                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 86; .macro	_set_blkmap.2
 2054                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 87; stz	vdc_scr_bank
 2055                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 88; .endm
 2056                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 90; .macro	_set_multimap.2
 2057                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 91; lda	vdc_bat_width
 2058                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 92; lsr	a
 2059                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 93; sta	vdc_map_line_w
 2060                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 94; .endm
 2061                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 96; .macro	SCREEN
 2062                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 97; db	(((\1) & $1FFF) | $6000) >> 8, bank(\1)
 2063                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 98; db	(((\2) & $1FFF) | $4000) >> 8, bank(\2)
 2064                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 99; db	(((\3) & $1FFF) | $6000) >> 8, bank(\3)
 2065                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 100; dw	(\4)
 2066                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 101; .endm
 2067                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 102; #endasm
 2068                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 104; #ifdef _SGX
 2069                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 106; // Current top-left of drawn map in pixels.
 2070                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 107; extern unsigned int   sgx_map_pxl_x;
 2071                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 108; extern unsigned int   sgx_map_pxl_y;
 2072                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 110; // Width and height to draw/scroll in characters (not tiles).
 2073                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 111; extern unsigned char  sgx_map_draw_w;
 2074                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 112; extern unsigned char  sgx_map_draw_h;
 2075                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 114; // Width of map (or multi-screen BAT) in tiles.
 2076                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 115; extern unsigned char  sgx_map_line_w;
 2077                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 117; // Width of map in screens (if multi-screen map).
 2078                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 118; extern unsigned char  sgx_map_scrn_w;
 2079                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 120; extern unsigned char  sgx_scr_bank;
 2080                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 121; extern unsigned char *sgx_scr_addr;
 2081                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 123; extern unsigned char  sgx_map_bank;
 2082                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 124; extern unsigned char *sgx_map_addr;
 2083                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 126; extern unsigned char  sgx_blk_bank;
 2084                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 127; extern unsigned char *sgx_blk_addr;
 2085                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 129; extern unsigned char  sgx_tbl_bank;
 2086                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 130; extern unsigned char *sgx_tbl_addr;
 2087                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 132; extern void __fastcall sgx_set_blocks( unsigned char __far *blk_def<sgx_blk_bank:sgx_blk_addr>, unsigned char __far *flg_def<sgx_tbl_bank:sgx_tbl_addr>, unsigned char number_of_blocks<_al> );
 2088                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 133; extern void __fastcall __macro sgx_set_blkmap( unsigned char __far *blk_map<sgx_map_bank:sgx_map_addr>, unsigned char blocks_w<sgx_map_line_w> );
 2089                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 134; extern void __fastcall __macro sgx_set_multimap( unsigned char __far *multi_map<sgx_scr_bank:sgx_scr_addr>, unsigned char screens_w<sgx_map_scrn_w> );
 2090                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 136; extern void __fastcall sgx_draw_map( void );
 2091                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 137; extern void __fastcall sgx_scroll_map( void );
 2092                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 139; extern void __fastcall sgx_blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 2093                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 141; extern unsigned char __fastcall sgx_get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
 2094                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 143; #asm
 2095                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 144; .macro	_sgx_set_blkmap.2
 2096                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 145; stz	sgx_scr_bank
 2097                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 146; .endm
 2098                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 148; .macro	_sgx_set_multimap.2
 2099                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 149; lda	sgx_bat_width
 2100                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 150; lsr	a
 2101                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 151; sta	sgx_map_line_w
 2102                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 152; .endm
 2103                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 153; #endasm
 2104                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 155; #endif
 2105                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 157; #endif // __HUCC__
 2106                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 159; #endif // _hucc_blkmap_h
 2107                        		.dbg	line,	"include\gfx_BG_INTRO.c", 13; #incchr(tileset_FONT_INTRO,"res/maps/tiles_FONT_INTRO.png");
 2108               6000     		.data
 2109    03:6000             	_tileset_FONT_INTRO: 	.incchr		"res/maps/tiles_FONT_INTRO.png"
 2110               E31D     		.code
 2111                        		.dbg	line,	"include\gfx_BG_INTRO.c", 15; #incpal(palette_FONT_INTRO, "res/maps/tiles_FONT_INTRO.png")
 2112               6C00     		.data
 2113    03:6C00             	_palette_FONT_INTRO:	.incpal		"res/maps/tiles_FONT_INTRO.png"
 2114               E31D     		.code
 2115                        		.dbg	line,	"include\gfx_BG_INTRO.c", 17; #incpal(palette_BLACK, "res/palettes/palette_BLACK.png")
 2116               6E00     		.data
 2117    03:6E00             	_palette_BLACK:	.incpal		"res/palettes/palette_BLACK.png"
 2118               E31D     		.code
 2119                        		.dbg	line,	"include\gfx_BG_INTRO.c", 20; //**************************************************************************************//
 2120                        		.dbg	line,	"include\gfx_BG_INTRO.c", 21; //                                                                                      //
 2121                        		.dbg	line,	"include\gfx_BG_INTRO.c", 22; //                                        TITLE                                         //
 2122                        		.dbg	line,	"include\gfx_BG_INTRO.c", 23; //                                                                                      //
 2123                        		.dbg	line,	"include\gfx_BG_INTRO.c", 24; //**************************************************************************************//
 2124                        		.dbg	line,	"include\gfx_BG_INTRO.c", 26; #incchr(tileset_INTRO_BG_B, "res/maps/tilemap_INTRO_BG_B.png", _OPTIMIZE)
 2125               7000     		.data
 2126    03:7000             	_tileset_INTRO_BG_B: 	.incchr		"res/maps/tilemap_INTRO_BG_B.png", 1
 2127               E31D     		.code
 2128                        		.dbg	line,	"include\gfx_BG_INTRO.c", 27; #incbat(tilemap_INTRO_BG_B,"res/maps/tilemap_INTRO_BG_B.png", 0x1000 , 32 , 28 , tileset_INTRO_BG_B);
 2129               6460     		.data
 2130    05:6460             	_tilemap_INTRO_BG_B:	.incbat		"res/maps/tilemap_INTRO_BG_B.png", 4096, 32, 28, _tileset_INTRO_BG_B
 2131               E31D     		.code
 2132                        		.dbg	line,	"include\gfx_BG_INTRO.c", 29; #incchr(tileset_INTRO_BG_A, "res/maps/tilemap_INTRO_BG_A.png", _OPTIMIZE)
 2133               6B60     		.data
 2134    05:6B60             	_tileset_INTRO_BG_A: 	.incchr		"res/maps/tilemap_INTRO_BG_A.png", 1
 2135               E31D     		.code
 2136                        		.dbg	line,	"include\gfx_BG_INTRO.c", 30; #incbat(tilemap_INTRO_BG_A,"res/maps/tilemap_INTRO_BG_A.png", 0x1000 , 64 , 64 , tileset_INTRO_BG_A);
 2137               76E0     		.data
 2138    05:76E0             	_tilemap_INTRO_BG_A:	.incbat		"res/maps/tilemap_INTRO_BG_A.png", 4096, 64, 64, _tileset_INTRO_BG_A
 2139               E31D     		.code
 2140                        		.dbg	line,	"include\gfx_BG_INTRO.c", 32; #incpal(palette_INTRO_1, "res/maps/tilemap_INTRO_BG_B.png")
 2141               76E0     		.data
 2142    06:76E0             	_palette_INTRO_1:	.incpal		"res/maps/tilemap_INTRO_BG_B.png"
 2143               E31D     		.code
 2144                        		.dbg	line,	"include\gfx_BG_INTRO.c", 33; #incpal(palette_INTRO_2, "res/palettes/palette_INTRO_2.png")
 2145               78E0     		.data
 2146    06:78E0             	_palette_INTRO_2:	.incpal		"res/palettes/palette_INTRO_2.png"
 2147               E31D     		.code
 2148                        		.dbg	line,	"include\gfx_BG_INTRO.c", 34; #incpal(palette_INTRO_3, "res/palettes/palette_INTRO_3.png")
 2149               7AE0     		.data
 2150    06:7AE0             	_palette_INTRO_3:	.incpal		"res/palettes/palette_INTRO_3.png"
 2151               E31D     		.code
 2152                        		.dbg	line,	"Black_Tiger.c", 12; #include "include/gfx_BG_LEVELS.c"
 2153                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 1; #include "huc.h"
 2154                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 1; #ifndef _hucc_legacy_h
 2155                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 2; #define _hucc_legacy_h
 2156                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 4; /****************************************************************************
 2157                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 5; ; ***************************************************************************
 2158                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 6; ;
 2159                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 7; ; huc.h
 2160                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 8; ;
 2161                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 9; ; HuCC wrapper file to include a default set of HuC-compatible functions.
 2162                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 10; ;
 2163                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 11; ; Copyright John Brandwood 2024.
 2164                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 12; ;
 2165                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 2166                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 2167                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 2168                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 16; ;
 2169                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 17; ; ***************************************************************************
 2170                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 18; ; ***************************************************************************
 2171                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 19; ;
 2172                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 20; ; When the HuCC compiler is invoked with the "--legacy" option to compile old
 2173                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 21; ; projects, then this "huc.h" file is automatically included.
 2174                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 22; ;
 2175                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 23; ; This file includes a set of the individual HuCC headers which correspond to
 2176                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 24; ; HuC's built-in functions and MagicKit library.
 2177                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 25; ;
 2178                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 26; ; New HuCC projects should, preferably, include the specific headers that are
 2179                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 27; ; needed, which will then allow them to replace parts of the standard library
 2180                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 28; ; with newer functions, or they can just manually include this "huc.h" file.
 2181                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 29; ;
 2182                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 30; ; ***************************************************************************
 2183                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 31; ; **************************************************************************/
 2184                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 33; #include "hucc-systemcard.h"
 2185                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 34; #include "hucc-baselib.h"
 2186                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 35; #include "hucc-gfx.h"
 2187                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 36; #include "hucc-old-scroll.h"
 2188                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 37; #include "hucc-old-spr.h"
 2189                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 38; #include "hucc-old-map.h"
 2190                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 39; #include "hucc-old-line.h"
 2191                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 41; #include <stdlib.h>
 2192                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 42; #include <string.h>
 2193                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 44; #endif // _hucc_legacy_h
 2194                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 2; #include "hucc-scroll.h"
 2195                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 1; #ifndef _hucc_scroll_h
 2196                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 2; #define _hucc_scroll_h
 2197                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 4; /****************************************************************************
 2198                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 5; ; ***************************************************************************
 2199                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 6; ;
 2200                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 7; ; hucc-scroll.h
 2201                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 8; ;
 2202                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 9; ; Routines for a fast split-screen scrolling system.
 2203                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 10; ;
 2204                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 11; ; Copyright John Brandwood 2024.
 2205                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 12; ;
 2206                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 2207                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 2208                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 2209                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 16; ;
 2210                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 17; ; ***************************************************************************
 2211                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 18; ; ***************************************************************************
 2212                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 19; ;
 2213                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 20; ; The maximum number of splits for each screen layer is set in your project's
 2214                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 21; ; "hucc-config.inc" file, with the library having a limit of 128-per-layer.
 2215                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 22; ;
 2216                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 23; ; Your first active split must be defined to start at screen line 0, and then
 2217                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 24; ; the rest of the active splits must be in increasing line order to match the
 2218                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 25; ; way that the PC Engine displays the output image.
 2219                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 26; ;
 2220                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 27; ; You can have disabled splits interleaved with your active splits.
 2221                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 28; ;
 2222                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 29; ; Splits that are normally disabled can be used to create full screen effects
 2223                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 30; ; such as bouncing the screen up and down by adding blank areas at the top or
 2224                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 31; ; bottom of the screen, and then rapidly changing the height of those areas.
 2225                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 32; ;
 2226                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 33; ; ***************************************************************************
 2227                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 34; ; **************************************************************************/
 2228                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 36; // *************
 2229                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 37; // VDC bits for display_flags ...
 2230                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 38; // *************
 2231                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 40; #ifndef BKG_OFF
 2232                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 41; #define BKG_OFF 0x00
 2233                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 42; #endif
 2234                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 44; #ifndef SPR_OFF
 2235                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 45; #define SPR_OFF 0x00
 2236                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 46; #endif
 2237                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 48; #ifndef BKG_ON
 2238                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 49; #define BKG_ON 0x80
 2239                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 50; #endif
 2240                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 52; #ifndef SPR_ON
 2241                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 53; #define SPR_ON 0x40
 2242                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 54; #endif
 2243                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 56; // *************
 2244                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 57; // Functions in hucc-scroll.asm ...
 2245                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 58; // *************
 2246                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 60; #ifdef __HUCC__
 2247                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 62; #asmdef	HUCC_USES_NEW_SCROLL 1
 2248                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 64; extern void __fastcall scroll_split( unsigned char index<_al>, unsigned char screen_line<_ah>, unsigned int bat_x<_bx>, unsigned int bat_y<_cx>, unsigned char display_flags<_dl> );
 2249                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 65; extern void __fastcall sgx_scroll_split( unsigned char index<_al>, unsigned char screen_line<_ah>, unsigned int bat_x<_bx>, unsigned int bat_y<_cx>, unsigned char display_flags<_dl> );
 2250                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 67; extern void __fastcall disable_split( unsigned char index<acc> );
 2251                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 68; extern void __fastcall sgx_disable_split( unsigned char index<acc> );
 2252                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 70; extern void __fastcall __macro disable_all_splits( void );
 2253                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 71; extern void __fastcall __macro sgx_disable_all_splits( void );
 2254                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 73; #asm
 2255                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 74; .macro	_disable_all_splits
 2256                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 75; ldy	#HUCC_PCE_SPLITS - 1
 2257                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 76; !loop:		tya
 2258                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 77; call	_disable_split.1
 2259                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 78; dey
 2260                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 79; bpl	!loop-
 2261                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 80; .endm
 2262                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 82; .macro	_sgx_disable_all_splits
 2263                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 83; ldy	#HUCC_SGX_SPLITS - 1
 2264                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 84; !loop:		tya
 2265                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 85; call	_sgx_disable_split.1
 2266                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 86; dey
 2267                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 87; bpl	!loop-
 2268                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 88; .endm
 2269                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 89; #endasm
 2270                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 91; #endif // __HUCC__
 2271                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 93; #endif // _hucc_scroll_h
 2272                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 3; #include "hucc-chrmap.h"
 2273                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 1; #ifndef _hucc_chrmap_h
 2274                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 2; #define _hucc_chrmap_h
 2275                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 4; /****************************************************************************
 2276                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 5; ; ***************************************************************************
 2277                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 6; ;
 2278                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 7; ; hucc-chrmap.h
 2279                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 8; ;
 2280                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 9; ; A simple map system based on 8x8 characters (aka "tiles") in BAT format.
 2281                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 10; ;
 2282                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 11; ; Copyright John Brandwood 2025.
 2283                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 12; ;
 2284                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 2285                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 2286                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 2287                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 16; ;
 2288                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 17; ; ***************************************************************************
 2289                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 18; ; ***************************************************************************
 2290                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 19; ;
 2291                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 20; ; The maximum X and Y size for chrmaps is 256 characters (2048 pixels).
 2292                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 21; ;
 2293                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 22; ; The maximum total size for a chrmap is 16KBytes, which allows for maps up
 2294                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 23; ; to 256x32 tiles (2048x256 pixels).
 2295                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 24; ;
 2296                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 25; ; ***************************************************************************
 2297                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 26; ; **************************************************************************/
 2298                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 28; // *************
 2299                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 29; // This code extends the blkmap library ...
 2300                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 30; // *************
 2301                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 32; #include "hucc-blkmap.h"
 2302                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 34; // *************
 2303                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 35; // Functions in chrmap.asm ...
 2304                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 36; // *************
 2305                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 38; #ifdef __HUCC__
 2306                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 40; #asmdef	HUCC_USES_CHRMAP 1
 2307                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 42; extern void __fastcall __nop set_chrmap( unsigned char __far *chrmap<vdc_map_bank:vdc_map_addr>, unsigned char tiles_w<vdc_map_line_w> );
 2308                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 44; extern void __fastcall draw_bat( void );
 2309                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 45; extern void __fastcall scroll_bat( void );
 2310                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 47; extern void __fastcall blit_bat( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 2311                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 49; #ifdef _SGX
 2312                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 51; extern void __fastcall __nop sgx_set_chrmap( unsigned char __far *chrmap<sgx_map_bank:sgx_map_addr>, unsigned char tiles_w<sgx_map_line_w> );
 2313                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 53; extern void __fastcall sgx_draw_bat( void );
 2314                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 54; extern void __fastcall sgx_scroll_bat( void );
 2315                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 56; extern void __fastcall sgx_blit_bat( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 2316                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 58; #endif
 2317                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 60; #endif // __HUCC__
 2318                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 62; #endif // _hucc_chrmap_h
 2319                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 4; #include "hucc-blkmap.h"
 2320                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 1; #ifndef _hucc_blkmap_h
 2321                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 2; #define _hucc_blkmap_h
 2322                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 4; /****************************************************************************
 2323                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 5; ; ***************************************************************************
 2324                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 6; ;
 2325                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 7; ; hucc-blkmap.h
 2326                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 8; ;
 2327                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 9; ; A map system based on 16x16 meta-tiles (aka "blocks", aka CHR/BLK/MAP).
 2328                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 10; ;
 2329                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 11; ; Copyright John Brandwood 2025.
 2330                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 12; ;
 2331                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 2332                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 2333                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 2334                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 16; ;
 2335                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 17; ; ***************************************************************************
 2336                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 18; ; ***************************************************************************
 2337                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 19; ;
 2338                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 20; ; The maximum X and Y size for blkmaps is 128 blocks (2048 pixels).
 2339                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 21; ;
 2340                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 22; ; The maximum total size for a blkmap is 16KBytes, which allows for maps up
 2341                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 23; ; to 128x128 blocks (2048x2048 pixels).
 2342                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 24; ;
 2343                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 25; ; Huge multi-screen blkmaps are also supported (optionally).
 2344                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 26; ;
 2345                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 27; ; The maximum X and Y for multi-screen maps is 128 screens (32768 pixels).
 2346                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 28; ;
 2347                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 29; ; The maximum total size for a multi-screen map is 8KBytes, which allows for
 2348                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 30; ; a total of 1024 screens.
 2349                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 31; ;
 2350                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 32; ; ***************************************************************************
 2351                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 33; ; **************************************************************************/
 2352                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 35; // *************
 2353                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 36; // Functions in blkmap.asm ...
 2354                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 37; // *************
 2355                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 39; #ifdef __HUCC__
 2356                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 41; #asmdef	HUCC_USES_BLKMAP 1
 2357                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 43; // Current top-left of drawn map in pixels.
 2358                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 44; extern unsigned int   vdc_map_pxl_x;
 2359                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 45; extern unsigned int   vdc_map_pxl_y;
 2360                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 47; // Width and height to draw/scroll in characters (not tiles).
 2361                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 48; extern unsigned char  vdc_map_draw_w;
 2362                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 49; extern unsigned char  vdc_map_draw_h;
 2363                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 51; // Width of map (or multi-screen BAT) in tiles.
 2364                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 52; extern unsigned char  vdc_map_line_w;
 2365                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 54; // Width of map in screens (if multi-screen map).
 2366                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 55; extern unsigned char  vdc_map_scrn_w;
 2367                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 57; // Extra information returned by get_map_block() and sgx_get_map_block(),
 2368                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 58; // which are the collision flags and the mask/overlay sprite for the BLK.
 2369                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 59; extern unsigned char  map_blk_flag;
 2370                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 60; extern unsigned char  map_blk_mask;
 2371                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 62; extern unsigned char  vdc_scr_bank;
 2372                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 63; extern unsigned char *vdc_scr_addr;
 2373                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 65; extern unsigned char  vdc_map_bank;
 2374                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 66; extern unsigned char *vdc_map_addr;
 2375                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 68; extern unsigned char  vdc_blk_bank;
 2376                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 69; extern unsigned char *vdc_blk_addr;
 2377                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 71; extern unsigned char  vdc_tbl_bank;
 2378                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 72; extern unsigned char *vdc_tbl_addr;
 2379                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 74; extern void __fastcall set_blocks( unsigned char __far *blk_def<vdc_blk_bank:vdc_blk_addr>, unsigned char __far *flg_def<vdc_tbl_bank:vdc_tbl_addr>, unsigned char number_of_blocks<_al> );
 2380                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 75; extern void __fastcall __macro set_blkmap( unsigned char __far *blk_map<vdc_map_bank:vdc_map_addr>, unsigned char blocks_w<vdc_map_line_w> );
 2381                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 76; extern void __fastcall __macro set_multimap( unsigned char __far *multi_map<vdc_scr_bank:vdc_scr_addr>, unsigned char screens_w<vdc_map_scrn_w> );
 2382                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 78; extern void __fastcall draw_map( void );
 2383                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 79; extern void __fastcall scroll_map( void );
 2384                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 81; extern void __fastcall blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 2385                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 83; extern unsigned char __fastcall get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
 2386                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 85; #asm
 2387                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 86; .macro	_set_blkmap.2
 2388                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 87; stz	vdc_scr_bank
 2389                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 88; .endm
 2390                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 90; .macro	_set_multimap.2
 2391                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 91; lda	vdc_bat_width
 2392                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 92; lsr	a
 2393                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 93; sta	vdc_map_line_w
 2394                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 94; .endm
 2395                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 96; .macro	SCREEN
 2396                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 97; db	(((\1) & $1FFF) | $6000) >> 8, bank(\1)
 2397                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 98; db	(((\2) & $1FFF) | $4000) >> 8, bank(\2)
 2398                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 99; db	(((\3) & $1FFF) | $6000) >> 8, bank(\3)
 2399                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 100; dw	(\4)
 2400                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 101; .endm
 2401                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 102; #endasm
 2402                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 104; #ifdef _SGX
 2403                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 106; // Current top-left of drawn map in pixels.
 2404                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 107; extern unsigned int   sgx_map_pxl_x;
 2405                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 108; extern unsigned int   sgx_map_pxl_y;
 2406                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 110; // Width and height to draw/scroll in characters (not tiles).
 2407                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 111; extern unsigned char  sgx_map_draw_w;
 2408                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 112; extern unsigned char  sgx_map_draw_h;
 2409                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 114; // Width of map (or multi-screen BAT) in tiles.
 2410                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 115; extern unsigned char  sgx_map_line_w;
 2411                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 117; // Width of map in screens (if multi-screen map).
 2412                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 118; extern unsigned char  sgx_map_scrn_w;
 2413                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 120; extern unsigned char  sgx_scr_bank;
 2414                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 121; extern unsigned char *sgx_scr_addr;
 2415                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 123; extern unsigned char  sgx_map_bank;
 2416                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 124; extern unsigned char *sgx_map_addr;
 2417                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 126; extern unsigned char  sgx_blk_bank;
 2418                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 127; extern unsigned char *sgx_blk_addr;
 2419                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 129; extern unsigned char  sgx_tbl_bank;
 2420                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 130; extern unsigned char *sgx_tbl_addr;
 2421                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 132; extern void __fastcall sgx_set_blocks( unsigned char __far *blk_def<sgx_blk_bank:sgx_blk_addr>, unsigned char __far *flg_def<sgx_tbl_bank:sgx_tbl_addr>, unsigned char number_of_blocks<_al> );
 2422                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 133; extern void __fastcall __macro sgx_set_blkmap( unsigned char __far *blk_map<sgx_map_bank:sgx_map_addr>, unsigned char blocks_w<sgx_map_line_w> );
 2423                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 134; extern void __fastcall __macro sgx_set_multimap( unsigned char __far *multi_map<sgx_scr_bank:sgx_scr_addr>, unsigned char screens_w<sgx_map_scrn_w> );
 2424                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 136; extern void __fastcall sgx_draw_map( void );
 2425                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 137; extern void __fastcall sgx_scroll_map( void );
 2426                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 139; extern void __fastcall sgx_blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 2427                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 141; extern unsigned char __fastcall sgx_get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
 2428                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 143; #asm
 2429                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 144; .macro	_sgx_set_blkmap.2
 2430                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 145; stz	sgx_scr_bank
 2431                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 146; .endm
 2432                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 148; .macro	_sgx_set_multimap.2
 2433                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 149; lda	sgx_bat_width
 2434                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 150; lsr	a
 2435                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 151; sta	sgx_map_line_w
 2436                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 152; .endm
 2437                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 153; #endasm
 2438                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 155; #endif
 2439                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 157; #endif // __HUCC__
 2440                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 159; #endif // _hucc_blkmap_h
 2441                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 13; #incchr(tileset_FONT,"res/maps/tiles_FONT.png");
 2442               7CE0     		.data
 2443    06:7CE0             	_tileset_FONT: 	.incchr		"res/maps/tiles_FONT.png"
 2444               E31D     		.code
 2445                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 16; //**************************************************************************************//
 2446                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 17; //                                                                                      //
 2447                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 18; //                                       LEVEL 1                                        //
 2448                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 19; //                                                                                      //
 2449                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 20; //**************************************************************************************//
 2450                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 22; #incchr(tileset_LV1_WALL,"res/maps/tiles_LV1_WALL.png", 4 , 4);
 2451               68E0     		.data
 2452    07:68E0             	_tileset_LV1_WALL: 	.incchr		"res/maps/tiles_LV1_WALL.png", 4, 4
 2453               E31D     		.code
 2454                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 23; #incchr(tileset_LV1_DOOR_OPEN,"res/maps/tiles_LV1_DOOR_OPEN.png", 4 , 6);
 2455               6AE0     		.data
 2456    07:6AE0             	_tileset_LV1_DOOR_OPEN: 	.incchr		"res/maps/tiles_LV1_DOOR_OPEN.png", 4, 6
 2457               E31D     		.code
 2458                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 24; #incchr(tileset_LV1_DOOR_CLOSED,"res/maps/tiles_LV1_DOOR_CLOSED.png", 4 , 6);
 2459               6DE0     		.data
 2460    07:6DE0             	_tileset_LV1_DOOR_CLOSED: 	.incchr		"res/maps/tiles_LV1_DOOR_CLOSED.png", 4, 6
 2461               E31D     		.code
 2462                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 26; #incchr(tileset_LIFE_RED,"res/maps/tileset_LIFE_RED.png", 2 , 1);
 2463               70E0     		.data
 2464    07:70E0             	_tileset_LIFE_RED: 	.incchr		"res/maps/tileset_LIFE_RED.png", 2, 1
 2465               E31D     		.code
 2466                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 27; #incchr(tileset_LIFE_ORANGE,"res/maps/tileset_LIFE_ORANGE.png", 2 , 1);
 2467               7120     		.data
 2468    07:7120             	_tileset_LIFE_ORANGE: 	.incchr		"res/maps/tileset_LIFE_ORANGE.png", 2, 1
 2469               E31D     		.code
 2470                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 28; #incchr(tileset_LIFE_YELLOW,"res/maps/tileset_LIFE_YELLOW.png", 2 , 1);
 2471               7160     		.data
 2472    07:7160             	_tileset_LIFE_YELLOW: 	.incchr		"res/maps/tileset_LIFE_YELLOW.png", 2, 1
 2473               E31D     		.code
 2474                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 29; #incchr(tileset_LIFE_EMPTY,"res/maps/tileset_LIFE_EMPTY.png", 2 , 1);
 2475               71A0     		.data
 2476    07:71A0             	_tileset_LIFE_EMPTY: 	.incchr		"res/maps/tileset_LIFE_EMPTY.png", 2, 1
 2477               E31D     		.code
 2478                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 31; #incchr(tileset_ARMOR_1,"res/maps/tileset_ARMOR_1.png", 2 , 2);
 2479               71E0     		.data
 2480    07:71E0             	_tileset_ARMOR_1: 	.incchr		"res/maps/tileset_ARMOR_1.png", 2, 2
 2481               E31D     		.code
 2482                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 32; #incchr(tileset_ARMOR_2,"res/maps/tileset_ARMOR_2.png", 2 , 2);
 2483               7260     		.data
 2484    07:7260             	_tileset_ARMOR_2: 	.incchr		"res/maps/tileset_ARMOR_2.png", 2, 2
 2485               E31D     		.code
 2486                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 33; #incchr(tileset_ARMOR_4,"res/maps/tileset_ARMOR_4.png", 2 , 2);
 2487               72E0     		.data
 2488    07:72E0             	_tileset_ARMOR_4: 	.incchr		"res/maps/tileset_ARMOR_4.png", 2, 2
 2489               E31D     		.code
 2490                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 34; #incchr(tileset_ARMOR_8,"res/maps/tileset_ARMOR_8.png", 2 , 2);
 2491               7360     		.data
 2492    07:7360             	_tileset_ARMOR_8: 	.incchr		"res/maps/tileset_ARMOR_8.png", 2, 2
 2493               E31D     		.code
 2494                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 36; #incchr(tileset_WEAPON_1,"res/maps/tileset_WEAPON_1.png", 2 , 2);
 2495               73E0     		.data
 2496    07:73E0             	_tileset_WEAPON_1: 	.incchr		"res/maps/tileset_WEAPON_1.png", 2, 2
 2497               E31D     		.code
 2498                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 37; #incchr(tileset_WEAPON_2,"res/maps/tileset_WEAPON_2.png", 2 , 2);
 2499               7460     		.data
 2500    07:7460             	_tileset_WEAPON_2: 	.incchr		"res/maps/tileset_WEAPON_2.png", 2, 2
 2501               E31D     		.code
 2502                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 38; #incchr(tileset_WEAPON_4,"res/maps/tileset_WEAPON_4.png", 2 , 2);
 2503               74E0     		.data
 2504    07:74E0             	_tileset_WEAPON_4: 	.incchr		"res/maps/tileset_WEAPON_4.png", 2, 2
 2505               E31D     		.code
 2506                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 39; #incchr(tileset_WEAPON_5,"res/maps/tileset_WEAPON_5.png", 2 , 2);
 2507               7560     		.data
 2508    07:7560             	_tileset_WEAPON_5: 	.incchr		"res/maps/tileset_WEAPON_5.png", 2, 2
 2509               E31D     		.code
 2510                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 40; #incchr(tileset_WEAPON_8,"res/maps/tileset_WEAPON_8.png", 2 , 2);
 2511               75E0     		.data
 2512    07:75E0             	_tileset_WEAPON_8: 	.incchr		"res/maps/tileset_WEAPON_8.png", 2, 2
 2513               E31D     		.code
 2514                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 43; //--------------------------------------------------------------------------------------//
 2515                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 44; //                                        VDC 2                                         //
 2516                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 45; //--------------------------------------------------------------------------------------//
 2517                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 47; #asm
 2518                        		.dbg	clear
 2519               0001     	OPTIMIZE	=	1
 2520               7660     			.data
 2521                        	; EXTRACT TILESET
 2522                        	;----------------
 2523    07:7660             	_tileset_LV1_BG_B:  incchr	"res/maps/template_LV1_WALL.png"
 2524    07:7860             			incchr	"res/maps/template_LV1_DOOR.png"
 2525    07:7B60             			incchr	"res/maps/tilemap_LV1_BG_B.png", OPTIMIZE
 2526                        	; EXTRACT BLOCKS
 2527                        	;--------------
 2528    0B:7000             	blocks_LV1_BG_B1:	incblk	"res/maps/tilemap_LV1_BG_B.png" , 0x1000 ,    0 ,   0 ,  64 , 32 , _tileset_LV1_BG_B ; // 96x16 = 1536 | 32x16 =  512
 2529    0B:7800             	blocks_LV1_BG_B2:	incblk	"res/maps/tilemap_LV1_BG_B.png" , 0x1000 , 1024 ,   0 ,  96 , 32 , _tileset_LV1_BG_B ; // 64x16 = 1024 | 32x16 =  512
 2530    0C:6000             	blocks_LV1_BG_B3:	incblk	"res/maps/tilemap_LV1_BG_B.png" , 0x1000 ,    0 , 512 ,  64 , 32 , _tileset_LV1_BG_B ; // 96x16 = 1536 | 16x16 =  256
 2531    0C:6800             	blocks_LV1_BG_B4:	incblk	"res/maps/tilemap_LV1_BG_B.png" , 0x1000 , 1024 , 512 ,  96 , 32 , _tileset_LV1_BG_B ; // 64x16 = 1024 | 16x16 =  256
 2532                        	; EXTRACT MAPS
 2533                        	;------------
 2534               7000     			align	256
 2535    0C:7000             	MAP_LV1_BG_B1:		incmap	"res/maps/tilemap_LV1_BG_B.png",    0 ,   0 ,  64 , 32 , blocks_LV1_BG_B1 ; // 96x16 = 1536 | 32x16 =  512
 2536               7800     			align	256
 2537    0C:7800             	MAP_LV1_BG_B2:		incmap	"res/maps/tilemap_LV1_BG_B.png", 1024 ,   0 ,  96 , 32 , blocks_LV1_BG_B2 ; // 64x16 = 1024 | 32x16 =  512
 2538               6400     			align	256
 2539    0D:6400             	MAP_LV1_BG_B3:		incmap	"res/maps/tilemap_LV1_BG_B.png",    0 , 512 ,  64 , 32 , blocks_LV1_BG_B3 ; // 96x16 = 1536 | 16x16 =  256
 2540               6C00     			align	256
 2541    0D:6C00             	MAP_LV1_BG_B4:		incmap	"res/maps/tilemap_LV1_BG_B.png", 1024 , 512 ,  96 , 32 , blocks_LV1_BG_B4 ; // 64x16 = 1024 | 16x16 =  256
 2542                        	; MASK (EMPTY)
 2543                        	;----------------
 2544    0D:7800  00 00 00 00	dummy_tbl:	ds	256
         0D:7804  00 00 00 00 
         0D:7808  00 00 00 00 
         0D:780C  00 00 00 00 
         0D:7810  00 00 00 00 
         0D:7814  00 00 00 00 
         0D:7818  00 00 00 00 
         0D:781C  00 00 00 00 
         0D:7820  00 00 00 00 
         0D:7824  00 00 00 00 
         0D:7828  00 00 00 00 
         0D:782C  00 00 00 00 
         0D:7830  00 00 00 00 
         0D:7834  00 00 00 00 
         0D:7838  00 00 00 00 
         0D:783C  00 00 00 00 
         0D:7840  00 00 00 00 
         0D:7844  00 00 00 00 
         0D:7848  00 00 00 00 
         0D:784C  00 00 00 00 
         0D:7850  00 00 00 00 
         0D:7854  00 00 00 00 
         0D:7858  00 00 00 00 
         0D:785C  00 00 00 00 
         0D:7860  00 00 00 00 
         0D:7864  00 00 00 00 
         0D:7868  00 00 00 00 
         0D:786C  00 00 00 00 
         0D:7870  00 00 00 00 
         0D:7874  00 00 00 00 
         0D:7878  00 00 00 00 
         0D:787C  00 00 00 00 
         0D:7880  00 00 00 00 
         0D:7884  00 00 00 00 
         0D:7888  00 00 00 00 
         0D:788C  00 00 00 00 
         0D:7890  00 00 00 00 
         0D:7894  00 00 00 00 
         0D:7898  00 00 00 00 
         0D:789C  00 00 00 00 
         0D:78A0  00 00 00 00 
         0D:78A4  00 00 00 00 
         0D:78A8  00 00 00 00 
         0D:78AC  00 00 00 00 
         0D:78B0  00 00 00 00 
         0D:78B4  00 00 00 00 
         0D:78B8  00 00 00 00 
         0D:78BC  00 00 00 00 
         0D:78C0  00 00 00 00 
         0D:78C4  00 00 00 00 
         0D:78C8  00 00 00 00 
         0D:78CC  00 00 00 00 
         0D:78D0  00 00 00 00 
         0D:78D4  00 00 00 00 
         0D:78D8  00 00 00 00 
         0D:78DC  00 00 00 00 
         0D:78E0  00 00 00 00 
         0D:78E4  00 00 00 00 
         0D:78E8  00 00 00 00 
         0D:78EC  00 00 00 00 
         0D:78F0  00 00 00 00 
         0D:78F4  00 00 00 00 
         0D:78F8  00 00 00 00 
         0D:78FC  00 00 00 00 
 2545                        	; SWIZZLE MAPS
 2546                        	;-------------
 2547    0D:7900             	swizzle	MAP_LV1_BG_B1,  32, 16 ;
 2548    0D:7900             	swizzle	MAP_LV1_BG_B2,  32, 16 ;
 2549    0D:7900             	swizzle	MAP_LV1_BG_B3,  32, 16 ;
 2550    0D:7900             	swizzle	MAP_LV1_BG_B4,  32, 16 ;
 2551                        	; BUILD MULTIMAP
 2552                        	;---------------
 2553    0D:7900             	_multimap_LV1_BG_B:
 2554                        			; 1st line of 5 screens (512x256)
 2555                        			SCREEN MAP_LV1_BG_B1 + 0x0000, blocks_LV1_BG_B1, dummy_tbl, 0
         0D:7900  70 0C      			db	(((MAP_LV1_BG_B1 + 0x0000) & $1FFF) | $6000) >> 8, bank(MAP_LV1_BG_B1 + 0x0000)
         0D:7902  50 0B      			db	(((blocks_LV1_BG_B1) & $1FFF) | $4000) >> 8, bank(blocks_LV1_BG_B1)
         0D:7904  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0D:7906  00 00      			dw	(0)
 2556                        			SCREEN MAP_LV1_BG_B1 + 0x0200, blocks_LV1_BG_B1, dummy_tbl, 0
         0D:7908  72 0C      			db	(((MAP_LV1_BG_B1 + 0x0200) & $1FFF) | $6000) >> 8, bank(MAP_LV1_BG_B1 + 0x0200)
         0D:790A  50 0B      			db	(((blocks_LV1_BG_B1) & $1FFF) | $4000) >> 8, bank(blocks_LV1_BG_B1)
         0D:790C  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0D:790E  00 00      			dw	(0)
 2557                        			SCREEN MAP_LV1_BG_B2 + 0x0000, blocks_LV1_BG_B2, dummy_tbl, 0
         0D:7910  78 0C      			db	(((MAP_LV1_BG_B2 + 0x0000) & $1FFF) | $6000) >> 8, bank(MAP_LV1_BG_B2 + 0x0000)
         0D:7912  58 0B      			db	(((blocks_LV1_BG_B2) & $1FFF) | $4000) >> 8, bank(blocks_LV1_BG_B2)
         0D:7914  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0D:7916  00 00      			dw	(0)
 2558                        			SCREEN MAP_LV1_BG_B2 + 0x0200, blocks_LV1_BG_B2, dummy_tbl, 0
         0D:7918  7A 0C      			db	(((MAP_LV1_BG_B2 + 0x0200) & $1FFF) | $6000) >> 8, bank(MAP_LV1_BG_B2 + 0x0200)
         0D:791A  58 0B      			db	(((blocks_LV1_BG_B2) & $1FFF) | $4000) >> 8, bank(blocks_LV1_BG_B2)
         0D:791C  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0D:791E  00 00      			dw	(0)
 2559                        			SCREEN MAP_LV1_BG_B2 + 0x0400, blocks_LV1_BG_B2, dummy_tbl, 0
         0D:7920  7C 0C      			db	(((MAP_LV1_BG_B2 + 0x0400) & $1FFF) | $6000) >> 8, bank(MAP_LV1_BG_B2 + 0x0400)
         0D:7922  58 0B      			db	(((blocks_LV1_BG_B2) & $1FFF) | $4000) >> 8, bank(blocks_LV1_BG_B2)
         0D:7924  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0D:7926  00 00      			dw	(0)
 2560                        			; 2nd line of 5 screens (512x256)
 2561                        			SCREEN MAP_LV1_BG_B1 + 0x0400, blocks_LV1_BG_B1, dummy_tbl, 0
         0D:7928  74 0C      			db	(((MAP_LV1_BG_B1 + 0x0400) & $1FFF) | $6000) >> 8, bank(MAP_LV1_BG_B1 + 0x0400)
         0D:792A  50 0B      			db	(((blocks_LV1_BG_B1) & $1FFF) | $4000) >> 8, bank(blocks_LV1_BG_B1)
         0D:792C  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0D:792E  00 00      			dw	(0)
 2562                        			SCREEN MAP_LV1_BG_B1 + 0x0600, blocks_LV1_BG_B1, dummy_tbl, 0
         0D:7930  76 0C      			db	(((MAP_LV1_BG_B1 + 0x0600) & $1FFF) | $6000) >> 8, bank(MAP_LV1_BG_B1 + 0x0600)
         0D:7932  50 0B      			db	(((blocks_LV1_BG_B1) & $1FFF) | $4000) >> 8, bank(blocks_LV1_BG_B1)
         0D:7934  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0D:7936  00 00      			dw	(0)
 2563                        			SCREEN MAP_LV1_BG_B2 + 0x0600, blocks_LV1_BG_B2, dummy_tbl, 0
         0D:7938  7E 0C      			db	(((MAP_LV1_BG_B2 + 0x0600) & $1FFF) | $6000) >> 8, bank(MAP_LV1_BG_B2 + 0x0600)
         0D:793A  58 0B      			db	(((blocks_LV1_BG_B2) & $1FFF) | $4000) >> 8, bank(blocks_LV1_BG_B2)
         0D:793C  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0D:793E  00 00      			dw	(0)
 2564                        			SCREEN MAP_LV1_BG_B2 + 0x0800, blocks_LV1_BG_B2, dummy_tbl, 0
         0D:7940  60 0D      			db	(((MAP_LV1_BG_B2 + 0x0800) & $1FFF) | $6000) >> 8, bank(MAP_LV1_BG_B2 + 0x0800)
         0D:7942  58 0B      			db	(((blocks_LV1_BG_B2) & $1FFF) | $4000) >> 8, bank(blocks_LV1_BG_B2)
         0D:7944  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0D:7946  00 00      			dw	(0)
 2565                        			SCREEN MAP_LV1_BG_B2 + 0x0A00, blocks_LV1_BG_B2, dummy_tbl, 0
         0D:7948  62 0D      			db	(((MAP_LV1_BG_B2 + 0x0A00) & $1FFF) | $6000) >> 8, bank(MAP_LV1_BG_B2 + 0x0A00)
         0D:794A  58 0B      			db	(((blocks_LV1_BG_B2) & $1FFF) | $4000) >> 8, bank(blocks_LV1_BG_B2)
         0D:794C  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0D:794E  00 00      			dw	(0)
 2566                        			; 3rd line of 5 screens (512x256)
 2567                        			SCREEN MAP_LV1_BG_B3 + 0x0000, blocks_LV1_BG_B3, dummy_tbl, 0
         0D:7950  64 0D      			db	(((MAP_LV1_BG_B3 + 0x0000) & $1FFF) | $6000) >> 8, bank(MAP_LV1_BG_B3 + 0x0000)
         0D:7952  40 0C      			db	(((blocks_LV1_BG_B3) & $1FFF) | $4000) >> 8, bank(blocks_LV1_BG_B3)
         0D:7954  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0D:7956  00 00      			dw	(0)
 2568                        			SCREEN MAP_LV1_BG_B3 + 0x0200, blocks_LV1_BG_B3, dummy_tbl, 0
         0D:7958  66 0D      			db	(((MAP_LV1_BG_B3 + 0x0200) & $1FFF) | $6000) >> 8, bank(MAP_LV1_BG_B3 + 0x0200)
         0D:795A  40 0C      			db	(((blocks_LV1_BG_B3) & $1FFF) | $4000) >> 8, bank(blocks_LV1_BG_B3)
         0D:795C  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0D:795E  00 00      			dw	(0)
 2569                        			SCREEN MAP_LV1_BG_B4 + 0x0000, blocks_LV1_BG_B4, dummy_tbl, 0
         0D:7960  6C 0D      			db	(((MAP_LV1_BG_B4 + 0x0000) & $1FFF) | $6000) >> 8, bank(MAP_LV1_BG_B4 + 0x0000)
         0D:7962  48 0C      			db	(((blocks_LV1_BG_B4) & $1FFF) | $4000) >> 8, bank(blocks_LV1_BG_B4)
         0D:7964  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0D:7966  00 00      			dw	(0)
 2570                        			SCREEN MAP_LV1_BG_B4 + 0x0200, blocks_LV1_BG_B4, dummy_tbl, 0
         0D:7968  6E 0D      			db	(((MAP_LV1_BG_B4 + 0x0200) & $1FFF) | $6000) >> 8, bank(MAP_LV1_BG_B4 + 0x0200)
         0D:796A  48 0C      			db	(((blocks_LV1_BG_B4) & $1FFF) | $4000) >> 8, bank(blocks_LV1_BG_B4)
         0D:796C  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0D:796E  00 00      			dw	(0)
 2571                        			SCREEN MAP_LV1_BG_B4 + 0x0400, blocks_LV1_BG_B4, dummy_tbl, 0
         0D:7970  70 0D      			db	(((MAP_LV1_BG_B4 + 0x0400) & $1FFF) | $6000) >> 8, bank(MAP_LV1_BG_B4 + 0x0400)
         0D:7972  48 0C      			db	(((blocks_LV1_BG_B4) & $1FFF) | $4000) >> 8, bank(blocks_LV1_BG_B4)
         0D:7974  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0D:7976  00 00      			dw	(0)
 2572                        			; 4th line of 5 screens (512x256)
 2573                        			SCREEN MAP_LV1_BG_B3 + 0x0400, blocks_LV1_BG_B3, dummy_tbl, 0
         0D:7978  68 0D      			db	(((MAP_LV1_BG_B3 + 0x0400) & $1FFF) | $6000) >> 8, bank(MAP_LV1_BG_B3 + 0x0400)
         0D:797A  40 0C      			db	(((blocks_LV1_BG_B3) & $1FFF) | $4000) >> 8, bank(blocks_LV1_BG_B3)
         0D:797C  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0D:797E  00 00      			dw	(0)
 2574                        			SCREEN MAP_LV1_BG_B3 + 0x0600, blocks_LV1_BG_B3, dummy_tbl, 0
         0D:7980  6A 0D      			db	(((MAP_LV1_BG_B3 + 0x0600) & $1FFF) | $6000) >> 8, bank(MAP_LV1_BG_B3 + 0x0600)
         0D:7982  40 0C      			db	(((blocks_LV1_BG_B3) & $1FFF) | $4000) >> 8, bank(blocks_LV1_BG_B3)
         0D:7984  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0D:7986  00 00      			dw	(0)
 2575                        			SCREEN MAP_LV1_BG_B4 + 0x0600, blocks_LV1_BG_B4, dummy_tbl, 0
         0D:7988  72 0D      			db	(((MAP_LV1_BG_B4 + 0x0600) & $1FFF) | $6000) >> 8, bank(MAP_LV1_BG_B4 + 0x0600)
         0D:798A  48 0C      			db	(((blocks_LV1_BG_B4) & $1FFF) | $4000) >> 8, bank(blocks_LV1_BG_B4)
         0D:798C  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0D:798E  00 00      			dw	(0)
 2576                        			SCREEN MAP_LV1_BG_B4 + 0x0800, blocks_LV1_BG_B4, dummy_tbl, 0
         0D:7990  74 0D      			db	(((MAP_LV1_BG_B4 + 0x0800) & $1FFF) | $6000) >> 8, bank(MAP_LV1_BG_B4 + 0x0800)
         0D:7992  48 0C      			db	(((blocks_LV1_BG_B4) & $1FFF) | $4000) >> 8, bank(blocks_LV1_BG_B4)
         0D:7994  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0D:7996  00 00      			dw	(0)
 2577                        			SCREEN MAP_LV1_BG_B4 + 0x0A00, blocks_LV1_BG_B4, dummy_tbl, 0
         0D:7998  76 0D      			db	(((MAP_LV1_BG_B4 + 0x0A00) & $1FFF) | $6000) >> 8, bank(MAP_LV1_BG_B4 + 0x0A00)
         0D:799A  48 0C      			db	(((blocks_LV1_BG_B4) & $1FFF) | $4000) >> 8, bank(blocks_LV1_BG_B4)
         0D:799C  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0D:799E  00 00      			dw	(0)
 2578                        	;//--------------------------------------------------------------------------------------//
 2579                        	;//                                        VDC 1                                         //
 2580                        	;//--------------------------------------------------------------------------------------//
 2581                        	; EXTRACT TILESET
 2582                        	;----------------
 2583    0D:79A0             	_tileset_HUD:	incchr	"res/maps/template_LIFEBAR_1.png"
 2584    0D:79E0             			incchr	"res/maps/template_LIFEBAR_2.png"
 2585    0D:7A20             			incchr	"res/maps/template_LIFEBAR_3.png"
 2586    0D:7A60             			incchr	"res/maps/template_LIFEBAR_4.png"
 2587    0D:7AA0             			incchr	"res/maps/template_LIFEBAR_5.png"
 2588    0D:7AE0             			incchr	"res/maps/tileset_WEAPON_1.png"
 2589    0D:7B60             			incchr	"res/maps/tileset_ARMOR_2.png"
 2590    0D:7BE0             			incchr	"res/maps/tilemap_HUD.png", OPTIMIZE
 2591                        	; EXTRACT BLOCKS
 2592                        	;--------------
 2593    0E:6800             	blocks_HUD1:	incblk	"res/maps/tilemap_HUD.png" , 0x1000 ,    0 ,   0 , 128 , 64 , _tileset_HUD ; // 128x16 = 2048 | 64x16 = 1024
 2594    0E:7000             	blocks_HUD2:	incblk	"res/maps/tilemap_HUD.png" , 0x1000 , 2048 ,   0 ,  32 , 64 , _tileset_HUD ; //  32x16 =  512 | 64x16 = 1024
 2595                        	; EXTRACT MAPS
 2596                        	;------------
 2597               7800     			align	256
 2598    0E:7800             	MAP_HUD1:		incmap	"res/maps/tilemap_HUD.png",    0 ,   0 , 128 , 64 , blocks_HUD1 ; // 128x16 = 2048 | 64x16 = 1024
 2599    0F:7800             			flagmap "res/maps/collision_LV1.png",       0 ,   0 , 128 , 64 , MAP_HUD1
 2600               7800     			align	256
 2601    0F:7800             	MAP_HUD2:		incmap	"res/maps/tilemap_HUD.png", 2048 ,   0 ,  32 , 64 , blocks_HUD2 ; //  32x16 =  512 | 64x16 = 1024
 2602    0F:8000             			flagmap "res/maps/collision_LV1.png",    2048 ,   0 ,  32 , 64 , MAP_HUD2
 2603                        	; SWIZZLE MAPS
 2604                        	;-------------
 2605    0F:8000             	swizzle	MAP_HUD1,  32, 16 ;
 2606    0F:8000             	swizzle	MAP_HUD2,  32, 16 ;
 2607                        	; BUILD MULTIMAP
 2608                        	;---------------
 2609    10:6000             	_multimap_LV1_BG_A:
 2610                        			; 1st line of 5 screens (512x256)
 2611                        			SCREEN MAP_HUD1 + 0x0000, blocks_HUD1, dummy_tbl, 0
         10:6000  78 0E      			db	(((MAP_HUD1 + 0x0000) & $1FFF) | $6000) >> 8, bank(MAP_HUD1 + 0x0000)
         10:6002  48 0E      			db	(((blocks_HUD1) & $1FFF) | $4000) >> 8, bank(blocks_HUD1)
         10:6004  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         10:6006  00 00      			dw	(0)
 2612                        			SCREEN MAP_HUD1 + 0x0200, blocks_HUD1, dummy_tbl, 0
         10:6008  7A 0E      			db	(((MAP_HUD1 + 0x0200) & $1FFF) | $6000) >> 8, bank(MAP_HUD1 + 0x0200)
         10:600A  48 0E      			db	(((blocks_HUD1) & $1FFF) | $4000) >> 8, bank(blocks_HUD1)
         10:600C  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         10:600E  00 00      			dw	(0)
 2613                        			SCREEN MAP_HUD1 + 0x0400, blocks_HUD1, dummy_tbl, 0
         10:6010  7C 0E      			db	(((MAP_HUD1 + 0x0400) & $1FFF) | $6000) >> 8, bank(MAP_HUD1 + 0x0400)
         10:6012  48 0E      			db	(((blocks_HUD1) & $1FFF) | $4000) >> 8, bank(blocks_HUD1)
         10:6014  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         10:6016  00 00      			dw	(0)
 2614                        			SCREEN MAP_HUD1 + 0x0600, blocks_HUD1, dummy_tbl, 0
         10:6018  7E 0E      			db	(((MAP_HUD1 + 0x0600) & $1FFF) | $6000) >> 8, bank(MAP_HUD1 + 0x0600)
         10:601A  48 0E      			db	(((blocks_HUD1) & $1FFF) | $4000) >> 8, bank(blocks_HUD1)
         10:601C  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         10:601E  00 00      			dw	(0)
 2615                        			SCREEN MAP_HUD2 + 0x0000, blocks_HUD2, dummy_tbl, 0
         10:6020  78 0F      			db	(((MAP_HUD2 + 0x0000) & $1FFF) | $6000) >> 8, bank(MAP_HUD2 + 0x0000)
         10:6022  50 0E      			db	(((blocks_HUD2) & $1FFF) | $4000) >> 8, bank(blocks_HUD2)
         10:6024  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         10:6026  00 00      			dw	(0)
 2616                        			; 2nd line of 5 screens (512x256)
 2617                        			SCREEN MAP_HUD1 + 0x0800, blocks_HUD1, dummy_tbl, 0
         10:6028  60 0F      			db	(((MAP_HUD1 + 0x0800) & $1FFF) | $6000) >> 8, bank(MAP_HUD1 + 0x0800)
         10:602A  48 0E      			db	(((blocks_HUD1) & $1FFF) | $4000) >> 8, bank(blocks_HUD1)
         10:602C  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         10:602E  00 00      			dw	(0)
 2618                        			SCREEN MAP_HUD1 + 0x0A00, blocks_HUD1, dummy_tbl, 0
         10:6030  62 0F      			db	(((MAP_HUD1 + 0x0A00) & $1FFF) | $6000) >> 8, bank(MAP_HUD1 + 0x0A00)
         10:6032  48 0E      			db	(((blocks_HUD1) & $1FFF) | $4000) >> 8, bank(blocks_HUD1)
         10:6034  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         10:6036  00 00      			dw	(0)
 2619                        			SCREEN MAP_HUD1 + 0x0C00, blocks_HUD1, dummy_tbl, 0
         10:6038  64 0F      			db	(((MAP_HUD1 + 0x0C00) & $1FFF) | $6000) >> 8, bank(MAP_HUD1 + 0x0C00)
         10:603A  48 0E      			db	(((blocks_HUD1) & $1FFF) | $4000) >> 8, bank(blocks_HUD1)
         10:603C  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         10:603E  00 00      			dw	(0)
 2620                        			SCREEN MAP_HUD1 + 0x0E00, blocks_HUD1, dummy_tbl, 0
         10:6040  66 0F      			db	(((MAP_HUD1 + 0x0E00) & $1FFF) | $6000) >> 8, bank(MAP_HUD1 + 0x0E00)
         10:6042  48 0E      			db	(((blocks_HUD1) & $1FFF) | $4000) >> 8, bank(blocks_HUD1)
         10:6044  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         10:6046  00 00      			dw	(0)
 2621                        			SCREEN MAP_HUD2 + 0x0200, blocks_HUD2, dummy_tbl, 0
         10:6048  7A 0F      			db	(((MAP_HUD2 + 0x0200) & $1FFF) | $6000) >> 8, bank(MAP_HUD2 + 0x0200)
         10:604A  50 0E      			db	(((blocks_HUD2) & $1FFF) | $4000) >> 8, bank(blocks_HUD2)
         10:604C  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         10:604E  00 00      			dw	(0)
 2622                        			; 3rd line of 5 screens (512x256)
 2623                        			SCREEN MAP_HUD1 + 0x1000, blocks_HUD1, dummy_tbl, 0
         10:6050  68 0F      			db	(((MAP_HUD1 + 0x1000) & $1FFF) | $6000) >> 8, bank(MAP_HUD1 + 0x1000)
         10:6052  48 0E      			db	(((blocks_HUD1) & $1FFF) | $4000) >> 8, bank(blocks_HUD1)
         10:6054  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         10:6056  00 00      			dw	(0)
 2624                        			SCREEN MAP_HUD1 + 0x1200, blocks_HUD1, dummy_tbl, 0
         10:6058  6A 0F      			db	(((MAP_HUD1 + 0x1200) & $1FFF) | $6000) >> 8, bank(MAP_HUD1 + 0x1200)
         10:605A  48 0E      			db	(((blocks_HUD1) & $1FFF) | $4000) >> 8, bank(blocks_HUD1)
         10:605C  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         10:605E  00 00      			dw	(0)
 2625                        			SCREEN MAP_HUD1 + 0x1400, blocks_HUD1, dummy_tbl, 0
         10:6060  6C 0F      			db	(((MAP_HUD1 + 0x1400) & $1FFF) | $6000) >> 8, bank(MAP_HUD1 + 0x1400)
         10:6062  48 0E      			db	(((blocks_HUD1) & $1FFF) | $4000) >> 8, bank(blocks_HUD1)
         10:6064  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         10:6066  00 00      			dw	(0)
 2626                        			SCREEN MAP_HUD1 + 0x1600, blocks_HUD1, dummy_tbl, 0
         10:6068  6E 0F      			db	(((MAP_HUD1 + 0x1600) & $1FFF) | $6000) >> 8, bank(MAP_HUD1 + 0x1600)
         10:606A  48 0E      			db	(((blocks_HUD1) & $1FFF) | $4000) >> 8, bank(blocks_HUD1)
         10:606C  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         10:606E  00 00      			dw	(0)
 2627                        			SCREEN MAP_HUD2 + 0x0400, blocks_HUD2, dummy_tbl, 0
         10:6070  7C 0F      			db	(((MAP_HUD2 + 0x0400) & $1FFF) | $6000) >> 8, bank(MAP_HUD2 + 0x0400)
         10:6072  50 0E      			db	(((blocks_HUD2) & $1FFF) | $4000) >> 8, bank(blocks_HUD2)
         10:6074  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         10:6076  00 00      			dw	(0)
 2628                        			; 4th line of 5 screens (512x256)
 2629                        			SCREEN MAP_HUD1 + 0x1800, blocks_HUD1, dummy_tbl, 0
         10:6078  70 0F      			db	(((MAP_HUD1 + 0x1800) & $1FFF) | $6000) >> 8, bank(MAP_HUD1 + 0x1800)
         10:607A  48 0E      			db	(((blocks_HUD1) & $1FFF) | $4000) >> 8, bank(blocks_HUD1)
         10:607C  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         10:607E  00 00      			dw	(0)
 2630                        			SCREEN MAP_HUD1 + 0x1A00, blocks_HUD1, dummy_tbl, 0
         10:6080  72 0F      			db	(((MAP_HUD1 + 0x1A00) & $1FFF) | $6000) >> 8, bank(MAP_HUD1 + 0x1A00)
         10:6082  48 0E      			db	(((blocks_HUD1) & $1FFF) | $4000) >> 8, bank(blocks_HUD1)
         10:6084  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         10:6086  00 00      			dw	(0)
 2631                        			SCREEN MAP_HUD1 + 0x1C00, blocks_HUD1, dummy_tbl, 0
         10:6088  74 0F      			db	(((MAP_HUD1 + 0x1C00) & $1FFF) | $6000) >> 8, bank(MAP_HUD1 + 0x1C00)
         10:608A  48 0E      			db	(((blocks_HUD1) & $1FFF) | $4000) >> 8, bank(blocks_HUD1)
         10:608C  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         10:608E  00 00      			dw	(0)
 2632                        			SCREEN MAP_HUD1 + 0x1E00, blocks_HUD1, dummy_tbl, 0
         10:6090  76 0F      			db	(((MAP_HUD1 + 0x1E00) & $1FFF) | $6000) >> 8, bank(MAP_HUD1 + 0x1E00)
         10:6092  48 0E      			db	(((blocks_HUD1) & $1FFF) | $4000) >> 8, bank(blocks_HUD1)
         10:6094  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         10:6096  00 00      			dw	(0)
 2633                        			SCREEN MAP_HUD2 + 0x0600, blocks_HUD2, dummy_tbl, 0
         10:6098  7E 0F      			db	(((MAP_HUD2 + 0x0600) & $1FFF) | $6000) >> 8, bank(MAP_HUD2 + 0x0600)
         10:609A  50 0E      			db	(((blocks_HUD2) & $1FFF) | $4000) >> 8, bank(blocks_HUD2)
         10:609C  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         10:609E  00 00      			dw	(0)
 2634               E31D     			.code
 2635                        	
 2636                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 207; #endasm
 2637                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 211; //--------------------------------------------------------------------------------------//
 2638                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 212; //                                   EXTRACT PALETTES                                   //
 2639                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 213; //--------------------------------------------------------------------------------------//
 2640                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 215; #incpal(palette_LV1,"res/maps/tilemap_LV1_BG_B.png");
 2641               60A0     		.data
 2642    10:60A0             	_palette_LV1:	.incpal		"res/maps/tilemap_LV1_BG_B.png"
 2643               E31D     		.code
 2644                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 224; //**************************************************************************************//
 2645                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 225; //                                                                                      //
 2646                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 226; //                                         SHOP                                         //
 2647                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 227; //                                                                                      //
 2648                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 228; //**************************************************************************************//
 2649                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 230; #asm
 2650                        		.dbg	clear
 2651               0001     	OPTIMIZE	=	1
 2652               62A0     			.data
 2653                        	;//--------------------------------------------------------------------------------------//
 2654                        	;//                                        VDC 1                                         //
 2655                        	;//--------------------------------------------------------------------------------------//
 2656                        	; EXTRACT TILESET
 2657                        	;----------------
 2658    10:62A0             	_tileset_SHOP_BG_B:		incchr	"res/maps/template_ITEM_1.png"
 2659    10:6320             			incchr	"res/maps/template_ITEM_2.png"
 2660    10:63A0             			incchr	"res/maps/template_ITEM_3.png"
 2661    10:6420             			incchr	"res/maps/template_ITEM_4.png"
 2662    10:64A0             			incchr	"res/maps/template_ITEM_5.png"
 2663    10:6520             			incchr	"res/maps/template_ITEM_6.png"
 2664    10:65A0             			incchr	"res/maps/template_ITEM_7.png"
 2665    10:6620             			incchr	"res/maps/template_ITEM_8.png"
 2666    10:66A0             			incchr	"res/maps/template_ITEM_9.png"
 2667    10:6720             			incchr	"res/maps/template_ITEM_10.png"
 2668    10:67A0             			incchr	"res/maps/tilemap_SHOP_BG_B.png", OPTIMIZE
 2669               E31D     			.code
 2670                        	
 2671                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 254; #endasm
 2672                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 257; // EXTRACT BLOCKS //
 2673                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 258; #incblk(blocks_SHOP_BG_B, "res/maps/tilemap_SHOP_BG_B.png", 0x1000, tileset_SHOP_BG_B);
 2674               7C00     		.data
 2675    12:6000             	_blocks_SHOP_BG_B:	.incblk		"res/maps/tilemap_SHOP_BG_B.png", 4096, _tileset_SHOP_BG_B
 2676               E31D     		.code
 2677                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 260; // EXTRACT MAP //
 2678                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 261; #incmap(map_SHOP_BG_B, "res/maps/tilemap_SHOP_BG_B.png", blocks_SHOP_BG_B);
 2679               6800     		.data
 2680    12:6800             	_map_SHOP_BG_B:	.incmap		"res/maps/tilemap_SHOP_BG_B.png", _blocks_SHOP_BG_B
 2681               E31D     		.code
 2682                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 264; //--------------------------------------------------------------------------------------//
 2683                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 265; //                                        ITEMS                                         //
 2684                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 266; //--------------------------------------------------------------------------------------//
 2685                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 268; #incchr(tiles_ITEM_WEAPON_2,"res/maps/tiles_ITEM_WEAPON_2.png", 2 , 2);
 2686               68E0     		.data
 2687    12:68E0             	_tiles_ITEM_WEAPON_2: 	.incchr		"res/maps/tiles_ITEM_WEAPON_2.png", 2, 2
 2688               E31D     		.code
 2689                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 269; #incchr(tiles_ITEM_WEAPON_3,"res/maps/tiles_ITEM_WEAPON_3.png", 2 , 2);
 2690               6960     		.data
 2691    12:6960             	_tiles_ITEM_WEAPON_3: 	.incchr		"res/maps/tiles_ITEM_WEAPON_3.png", 2, 2
 2692               E31D     		.code
 2693                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 270; #incchr(tiles_ITEM_WEAPON_4,"res/maps/tiles_ITEM_WEAPON_4.png", 2 , 2);
 2694               69E0     		.data
 2695    12:69E0             	_tiles_ITEM_WEAPON_4: 	.incchr		"res/maps/tiles_ITEM_WEAPON_4.png", 2, 2
 2696               E31D     		.code
 2697                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 271; #incchr(tiles_ITEM_WEAPON_5,"res/maps/tiles_ITEM_WEAPON_5.png", 2 , 2);
 2698               6A60     		.data
 2699    12:6A60             	_tiles_ITEM_WEAPON_5: 	.incchr		"res/maps/tiles_ITEM_WEAPON_5.png", 2, 2
 2700               E31D     		.code
 2701                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 272; #incchr(tiles_ITEM_KEY,"res/maps/tiles_ITEM_KEY.png", 2 , 2);
 2702               6AE0     		.data
 2703    12:6AE0             	_tiles_ITEM_KEY: 	.incchr		"res/maps/tiles_ITEM_KEY.png", 2, 2
 2704               E31D     		.code
 2705                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 273; #incchr(tiles_ITEM_ARMOR_2,"res/maps/tiles_ITEM_ARMOR_2.png", 2 , 2);
 2706               6B60     		.data
 2707    12:6B60             	_tiles_ITEM_ARMOR_2: 	.incchr		"res/maps/tiles_ITEM_ARMOR_2.png", 2, 2
 2708               E31D     		.code
 2709                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 274; #incchr(tiles_ITEM_ARMOR_3,"res/maps/tiles_ITEM_ARMOR_3.png", 2 , 2);
 2710               6BE0     		.data
 2711    12:6BE0             	_tiles_ITEM_ARMOR_3: 	.incchr		"res/maps/tiles_ITEM_ARMOR_3.png", 2, 2
 2712               E31D     		.code
 2713                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 275; #incchr(tiles_ITEM_ARMOR_4,"res/maps/tiles_ITEM_ARMOR_4.png", 2 , 2);
 2714               6C60     		.data
 2715    12:6C60             	_tiles_ITEM_ARMOR_4: 	.incchr		"res/maps/tiles_ITEM_ARMOR_4.png", 2, 2
 2716               E31D     		.code
 2717                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 276; #incchr(tiles_ITEM_ARMOR_5,"res/maps/tiles_ITEM_ARMOR_5.png", 2 , 2);
 2718               6CE0     		.data
 2719    12:6CE0             	_tiles_ITEM_ARMOR_5: 	.incchr		"res/maps/tiles_ITEM_ARMOR_5.png", 2, 2
 2720               E31D     		.code
 2721                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 277; #incchr(tiles_ITEM_POTION,"res/maps/tiles_ITEM_POTION.png", 2 , 2);
 2722               6D60     		.data
 2723    12:6D60             	_tiles_ITEM_POTION: 	.incchr		"res/maps/tiles_ITEM_POTION.png", 2, 2
 2724               E31D     		.code
 2725                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 279; //#incchr(tileset_NUMBERS_SHOP_FONT,"res/maps/tiles_NUMBERS_SHOP_FONT.png");
 2726                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 282; //--------------------------------------------------------------------------------------//
 2727                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 283; //                                   EXTRACT PALETTES                                   //
 2728                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 284; //--------------------------------------------------------------------------------------//
 2729                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 286; #incpal(palette_SHOP,"res/maps/tilemap_SHOP_BG_B.png");
 2730               6DE0     		.data
 2731    12:6DE0             	_palette_SHOP:	.incpal		"res/maps/tilemap_SHOP_BG_B.png"
 2732               E31D     		.code
 2733                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 287; #incpal(palette_SHOP_ITEMS,"res/palettes/palette_SHOP_ITEMS.png");
 2734               6FE0     		.data
 2735    12:6FE0             	_palette_SHOP_ITEMS:	.incpal		"res/palettes/palette_SHOP_ITEMS.png"
 2736               E31D     		.code
 2737                        		.dbg	line,	"Black_Tiger.c", 13; #include "include/gfx_BG_TITLE.c"
 2738                        		.dbg	line,	"include\gfx_BG_TITLE.c", 1; #include "huc.h"
 2739                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 1; #ifndef _hucc_legacy_h
 2740                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 2; #define _hucc_legacy_h
 2741                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 4; /****************************************************************************
 2742                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 5; ; ***************************************************************************
 2743                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 6; ;
 2744                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 7; ; huc.h
 2745                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 8; ;
 2746                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 9; ; HuCC wrapper file to include a default set of HuC-compatible functions.
 2747                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 10; ;
 2748                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 11; ; Copyright John Brandwood 2024.
 2749                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 12; ;
 2750                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 2751                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 2752                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 2753                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 16; ;
 2754                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 17; ; ***************************************************************************
 2755                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 18; ; ***************************************************************************
 2756                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 19; ;
 2757                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 20; ; When the HuCC compiler is invoked with the "--legacy" option to compile old
 2758                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 21; ; projects, then this "huc.h" file is automatically included.
 2759                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 22; ;
 2760                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 23; ; This file includes a set of the individual HuCC headers which correspond to
 2761                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 24; ; HuC's built-in functions and MagicKit library.
 2762                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 25; ;
 2763                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 26; ; New HuCC projects should, preferably, include the specific headers that are
 2764                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 27; ; needed, which will then allow them to replace parts of the standard library
 2765                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 28; ; with newer functions, or they can just manually include this "huc.h" file.
 2766                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 29; ;
 2767                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 30; ; ***************************************************************************
 2768                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 31; ; **************************************************************************/
 2769                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 33; #include "hucc-systemcard.h"
 2770                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 34; #include "hucc-baselib.h"
 2771                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 35; #include "hucc-gfx.h"
 2772                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 36; #include "hucc-old-scroll.h"
 2773                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 37; #include "hucc-old-spr.h"
 2774                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 38; #include "hucc-old-map.h"
 2775                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 39; #include "hucc-old-line.h"
 2776                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 41; #include <stdlib.h>
 2777                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 42; #include <string.h>
 2778                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 44; #endif // _hucc_legacy_h
 2779                        		.dbg	line,	"include\gfx_BG_TITLE.c", 2; #include "hucc-scroll.h"
 2780                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 1; #ifndef _hucc_scroll_h
 2781                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 2; #define _hucc_scroll_h
 2782                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 4; /****************************************************************************
 2783                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 5; ; ***************************************************************************
 2784                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 6; ;
 2785                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 7; ; hucc-scroll.h
 2786                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 8; ;
 2787                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 9; ; Routines for a fast split-screen scrolling system.
 2788                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 10; ;
 2789                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 11; ; Copyright John Brandwood 2024.
 2790                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 12; ;
 2791                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 2792                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 2793                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 2794                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 16; ;
 2795                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 17; ; ***************************************************************************
 2796                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 18; ; ***************************************************************************
 2797                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 19; ;
 2798                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 20; ; The maximum number of splits for each screen layer is set in your project's
 2799                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 21; ; "hucc-config.inc" file, with the library having a limit of 128-per-layer.
 2800                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 22; ;
 2801                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 23; ; Your first active split must be defined to start at screen line 0, and then
 2802                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 24; ; the rest of the active splits must be in increasing line order to match the
 2803                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 25; ; way that the PC Engine displays the output image.
 2804                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 26; ;
 2805                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 27; ; You can have disabled splits interleaved with your active splits.
 2806                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 28; ;
 2807                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 29; ; Splits that are normally disabled can be used to create full screen effects
 2808                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 30; ; such as bouncing the screen up and down by adding blank areas at the top or
 2809                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 31; ; bottom of the screen, and then rapidly changing the height of those areas.
 2810                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 32; ;
 2811                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 33; ; ***************************************************************************
 2812                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 34; ; **************************************************************************/
 2813                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 36; // *************
 2814                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 37; // VDC bits for display_flags ...
 2815                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 38; // *************
 2816                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 40; #ifndef BKG_OFF
 2817                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 41; #define BKG_OFF 0x00
 2818                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 42; #endif
 2819                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 44; #ifndef SPR_OFF
 2820                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 45; #define SPR_OFF 0x00
 2821                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 46; #endif
 2822                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 48; #ifndef BKG_ON
 2823                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 49; #define BKG_ON 0x80
 2824                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 50; #endif
 2825                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 52; #ifndef SPR_ON
 2826                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 53; #define SPR_ON 0x40
 2827                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 54; #endif
 2828                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 56; // *************
 2829                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 57; // Functions in hucc-scroll.asm ...
 2830                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 58; // *************
 2831                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 60; #ifdef __HUCC__
 2832                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 62; #asmdef	HUCC_USES_NEW_SCROLL 1
 2833                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 64; extern void __fastcall scroll_split( unsigned char index<_al>, unsigned char screen_line<_ah>, unsigned int bat_x<_bx>, unsigned int bat_y<_cx>, unsigned char display_flags<_dl> );
 2834                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 65; extern void __fastcall sgx_scroll_split( unsigned char index<_al>, unsigned char screen_line<_ah>, unsigned int bat_x<_bx>, unsigned int bat_y<_cx>, unsigned char display_flags<_dl> );
 2835                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 67; extern void __fastcall disable_split( unsigned char index<acc> );
 2836                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 68; extern void __fastcall sgx_disable_split( unsigned char index<acc> );
 2837                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 70; extern void __fastcall __macro disable_all_splits( void );
 2838                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 71; extern void __fastcall __macro sgx_disable_all_splits( void );
 2839                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 73; #asm
 2840                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 74; .macro	_disable_all_splits
 2841                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 75; ldy	#HUCC_PCE_SPLITS - 1
 2842                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 76; !loop:		tya
 2843                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 77; call	_disable_split.1
 2844                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 78; dey
 2845                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 79; bpl	!loop-
 2846                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 80; .endm
 2847                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 82; .macro	_sgx_disable_all_splits
 2848                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 83; ldy	#HUCC_SGX_SPLITS - 1
 2849                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 84; !loop:		tya
 2850                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 85; call	_sgx_disable_split.1
 2851                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 86; dey
 2852                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 87; bpl	!loop-
 2853                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 88; .endm
 2854                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 89; #endasm
 2855                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 91; #endif // __HUCC__
 2856                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 93; #endif // _hucc_scroll_h
 2857                        		.dbg	line,	"include\gfx_BG_TITLE.c", 3; #include "hucc-chrmap.h"
 2858                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 1; #ifndef _hucc_chrmap_h
 2859                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 2; #define _hucc_chrmap_h
 2860                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 4; /****************************************************************************
 2861                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 5; ; ***************************************************************************
 2862                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 6; ;
 2863                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 7; ; hucc-chrmap.h
 2864                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 8; ;
 2865                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 9; ; A simple map system based on 8x8 characters (aka "tiles") in BAT format.
 2866                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 10; ;
 2867                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 11; ; Copyright John Brandwood 2025.
 2868                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 12; ;
 2869                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 2870                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 2871                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 2872                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 16; ;
 2873                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 17; ; ***************************************************************************
 2874                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 18; ; ***************************************************************************
 2875                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 19; ;
 2876                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 20; ; The maximum X and Y size for chrmaps is 256 characters (2048 pixels).
 2877                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 21; ;
 2878                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 22; ; The maximum total size for a chrmap is 16KBytes, which allows for maps up
 2879                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 23; ; to 256x32 tiles (2048x256 pixels).
 2880                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 24; ;
 2881                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 25; ; ***************************************************************************
 2882                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 26; ; **************************************************************************/
 2883                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 28; // *************
 2884                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 29; // This code extends the blkmap library ...
 2885                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 30; // *************
 2886                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 32; #include "hucc-blkmap.h"
 2887                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 34; // *************
 2888                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 35; // Functions in chrmap.asm ...
 2889                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 36; // *************
 2890                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 38; #ifdef __HUCC__
 2891                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 40; #asmdef	HUCC_USES_CHRMAP 1
 2892                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 42; extern void __fastcall __nop set_chrmap( unsigned char __far *chrmap<vdc_map_bank:vdc_map_addr>, unsigned char tiles_w<vdc_map_line_w> );
 2893                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 44; extern void __fastcall draw_bat( void );
 2894                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 45; extern void __fastcall scroll_bat( void );
 2895                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 47; extern void __fastcall blit_bat( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 2896                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 49; #ifdef _SGX
 2897                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 51; extern void __fastcall __nop sgx_set_chrmap( unsigned char __far *chrmap<sgx_map_bank:sgx_map_addr>, unsigned char tiles_w<sgx_map_line_w> );
 2898                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 53; extern void __fastcall sgx_draw_bat( void );
 2899                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 54; extern void __fastcall sgx_scroll_bat( void );
 2900                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 56; extern void __fastcall sgx_blit_bat( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 2901                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 58; #endif
 2902                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 60; #endif // __HUCC__
 2903                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 62; #endif // _hucc_chrmap_h
 2904                        		.dbg	line,	"include\gfx_BG_TITLE.c", 4; #include "hucc-blkmap.h"
 2905                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 1; #ifndef _hucc_blkmap_h
 2906                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 2; #define _hucc_blkmap_h
 2907                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 4; /****************************************************************************
 2908                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 5; ; ***************************************************************************
 2909                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 6; ;
 2910                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 7; ; hucc-blkmap.h
 2911                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 8; ;
 2912                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 9; ; A map system based on 16x16 meta-tiles (aka "blocks", aka CHR/BLK/MAP).
 2913                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 10; ;
 2914                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 11; ; Copyright John Brandwood 2025.
 2915                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 12; ;
 2916                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 2917                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 2918                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 2919                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 16; ;
 2920                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 17; ; ***************************************************************************
 2921                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 18; ; ***************************************************************************
 2922                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 19; ;
 2923                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 20; ; The maximum X and Y size for blkmaps is 128 blocks (2048 pixels).
 2924                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 21; ;
 2925                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 22; ; The maximum total size for a blkmap is 16KBytes, which allows for maps up
 2926                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 23; ; to 128x128 blocks (2048x2048 pixels).
 2927                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 24; ;
 2928                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 25; ; Huge multi-screen blkmaps are also supported (optionally).
 2929                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 26; ;
 2930                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 27; ; The maximum X and Y for multi-screen maps is 128 screens (32768 pixels).
 2931                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 28; ;
 2932                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 29; ; The maximum total size for a multi-screen map is 8KBytes, which allows for
 2933                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 30; ; a total of 1024 screens.
 2934                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 31; ;
 2935                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 32; ; ***************************************************************************
 2936                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 33; ; **************************************************************************/
 2937                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 35; // *************
 2938                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 36; // Functions in blkmap.asm ...
 2939                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 37; // *************
 2940                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 39; #ifdef __HUCC__
 2941                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 41; #asmdef	HUCC_USES_BLKMAP 1
 2942                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 43; // Current top-left of drawn map in pixels.
 2943                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 44; extern unsigned int   vdc_map_pxl_x;
 2944                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 45; extern unsigned int   vdc_map_pxl_y;
 2945                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 47; // Width and height to draw/scroll in characters (not tiles).
 2946                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 48; extern unsigned char  vdc_map_draw_w;
 2947                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 49; extern unsigned char  vdc_map_draw_h;
 2948                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 51; // Width of map (or multi-screen BAT) in tiles.
 2949                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 52; extern unsigned char  vdc_map_line_w;
 2950                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 54; // Width of map in screens (if multi-screen map).
 2951                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 55; extern unsigned char  vdc_map_scrn_w;
 2952                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 57; // Extra information returned by get_map_block() and sgx_get_map_block(),
 2953                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 58; // which are the collision flags and the mask/overlay sprite for the BLK.
 2954                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 59; extern unsigned char  map_blk_flag;
 2955                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 60; extern unsigned char  map_blk_mask;
 2956                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 62; extern unsigned char  vdc_scr_bank;
 2957                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 63; extern unsigned char *vdc_scr_addr;
 2958                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 65; extern unsigned char  vdc_map_bank;
 2959                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 66; extern unsigned char *vdc_map_addr;
 2960                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 68; extern unsigned char  vdc_blk_bank;
 2961                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 69; extern unsigned char *vdc_blk_addr;
 2962                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 71; extern unsigned char  vdc_tbl_bank;
 2963                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 72; extern unsigned char *vdc_tbl_addr;
 2964                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 74; extern void __fastcall set_blocks( unsigned char __far *blk_def<vdc_blk_bank:vdc_blk_addr>, unsigned char __far *flg_def<vdc_tbl_bank:vdc_tbl_addr>, unsigned char number_of_blocks<_al> );
 2965                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 75; extern void __fastcall __macro set_blkmap( unsigned char __far *blk_map<vdc_map_bank:vdc_map_addr>, unsigned char blocks_w<vdc_map_line_w> );
 2966                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 76; extern void __fastcall __macro set_multimap( unsigned char __far *multi_map<vdc_scr_bank:vdc_scr_addr>, unsigned char screens_w<vdc_map_scrn_w> );
 2967                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 78; extern void __fastcall draw_map( void );
 2968                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 79; extern void __fastcall scroll_map( void );
 2969                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 81; extern void __fastcall blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 2970                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 83; extern unsigned char __fastcall get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
 2971                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 85; #asm
 2972                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 86; .macro	_set_blkmap.2
 2973                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 87; stz	vdc_scr_bank
 2974                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 88; .endm
 2975                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 90; .macro	_set_multimap.2
 2976                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 91; lda	vdc_bat_width
 2977                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 92; lsr	a
 2978                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 93; sta	vdc_map_line_w
 2979                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 94; .endm
 2980                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 96; .macro	SCREEN
 2981                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 97; db	(((\1) & $1FFF) | $6000) >> 8, bank(\1)
 2982                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 98; db	(((\2) & $1FFF) | $4000) >> 8, bank(\2)
 2983                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 99; db	(((\3) & $1FFF) | $6000) >> 8, bank(\3)
 2984                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 100; dw	(\4)
 2985                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 101; .endm
 2986                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 102; #endasm
 2987                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 104; #ifdef _SGX
 2988                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 106; // Current top-left of drawn map in pixels.
 2989                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 107; extern unsigned int   sgx_map_pxl_x;
 2990                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 108; extern unsigned int   sgx_map_pxl_y;
 2991                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 110; // Width and height to draw/scroll in characters (not tiles).
 2992                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 111; extern unsigned char  sgx_map_draw_w;
 2993                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 112; extern unsigned char  sgx_map_draw_h;
 2994                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 114; // Width of map (or multi-screen BAT) in tiles.
 2995                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 115; extern unsigned char  sgx_map_line_w;
 2996                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 117; // Width of map in screens (if multi-screen map).
 2997                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 118; extern unsigned char  sgx_map_scrn_w;
 2998                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 120; extern unsigned char  sgx_scr_bank;
 2999                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 121; extern unsigned char *sgx_scr_addr;
 3000                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 123; extern unsigned char  sgx_map_bank;
 3001                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 124; extern unsigned char *sgx_map_addr;
 3002                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 126; extern unsigned char  sgx_blk_bank;
 3003                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 127; extern unsigned char *sgx_blk_addr;
 3004                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 129; extern unsigned char  sgx_tbl_bank;
 3005                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 130; extern unsigned char *sgx_tbl_addr;
 3006                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 132; extern void __fastcall sgx_set_blocks( unsigned char __far *blk_def<sgx_blk_bank:sgx_blk_addr>, unsigned char __far *flg_def<sgx_tbl_bank:sgx_tbl_addr>, unsigned char number_of_blocks<_al> );
 3007                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 133; extern void __fastcall __macro sgx_set_blkmap( unsigned char __far *blk_map<sgx_map_bank:sgx_map_addr>, unsigned char blocks_w<sgx_map_line_w> );
 3008                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 134; extern void __fastcall __macro sgx_set_multimap( unsigned char __far *multi_map<sgx_scr_bank:sgx_scr_addr>, unsigned char screens_w<sgx_map_scrn_w> );
 3009                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 136; extern void __fastcall sgx_draw_map( void );
 3010                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 137; extern void __fastcall sgx_scroll_map( void );
 3011                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 139; extern void __fastcall sgx_blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 3012                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 141; extern unsigned char __fastcall sgx_get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
 3013                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 143; #asm
 3014                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 144; .macro	_sgx_set_blkmap.2
 3015                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 145; stz	sgx_scr_bank
 3016                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 146; .endm
 3017                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 148; .macro	_sgx_set_multimap.2
 3018                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 149; lda	sgx_bat_width
 3019                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 150; lsr	a
 3020                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 151; sta	sgx_map_line_w
 3021                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 152; .endm
 3022                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 153; #endasm
 3023                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 155; #endif
 3024                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 157; #endif // __HUCC__
 3025                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 159; #endif // _hucc_blkmap_h
 3026                        		.dbg	line,	"include\gfx_BG_TITLE.c", 13; #incchr(tileset_FONT_TITLE,"res/maps/tiles_FONT_TITLE.png");
 3027               71E0     		.data
 3028    12:71E0             	_tileset_FONT_TITLE: 	.incchr		"res/maps/tiles_FONT_TITLE.png"
 3029               E31D     		.code
 3030                        		.dbg	line,	"include\gfx_BG_TITLE.c", 16; //**************************************************************************************//
 3031                        		.dbg	line,	"include\gfx_BG_TITLE.c", 17; //                                                                                      //
 3032                        		.dbg	line,	"include\gfx_BG_TITLE.c", 18; //                                        TITLE                                         //
 3033                        		.dbg	line,	"include\gfx_BG_TITLE.c", 19; //                                                                                      //
 3034                        		.dbg	line,	"include\gfx_BG_TITLE.c", 20; //**************************************************************************************//
 3035                        		.dbg	line,	"include\gfx_BG_TITLE.c", 22; #incchr(tileset_TITLE_BG_B, "res/maps/tilemap_TITLE_BG_B.png", _OPTIMIZE)
 3036               7DE0     		.data
 3037    12:7DE0             	_tileset_TITLE_BG_B: 	.incchr		"res/maps/tilemap_TITLE_BG_B.png", 1
 3038               E31D     		.code
 3039                        		.dbg	line,	"include\gfx_BG_TITLE.c", 24; #incbat(tilemap_TITLE_BG_B,"res/maps/tilemap_TITLE_BG_B.png", 0x1000 , 32 , 28 , tileset_TITLE_BG_B);
 3040               7A40     		.data
 3041    13:7A40             	_tilemap_TITLE_BG_B:	.incbat		"res/maps/tilemap_TITLE_BG_B.png", 4096, 32, 28, _tileset_TITLE_BG_B
 3042               E31D     		.code
 3043                        		.dbg	line,	"Black_Tiger.c", 13; #incpal(palette_TITLE, "res/maps/tilemap_TITLE_BG_B.png")
 3044               6140     		.data
 3045    14:6140             	_palette_TITLE:	.incpal		"res/maps/tilemap_TITLE_BG_B.png"
 3046               E31D     		.code
 3047                        		.dbg	line,	"Black_Tiger.c", 14; #include "include/gfx_SPRITES.c"
 3048                        		.dbg	line,	"include\gfx_SPRITES.c", 1; #include "huc.h"
 3049                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 1; #ifndef _hucc_legacy_h
 3050                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 2; #define _hucc_legacy_h
 3051                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 4; /****************************************************************************
 3052                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 5; ; ***************************************************************************
 3053                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 6; ;
 3054                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 7; ; huc.h
 3055                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 8; ;
 3056                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 9; ; HuCC wrapper file to include a default set of HuC-compatible functions.
 3057                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 10; ;
 3058                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 11; ; Copyright John Brandwood 2024.
 3059                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 12; ;
 3060                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 3061                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 3062                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 3063                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 16; ;
 3064                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 17; ; ***************************************************************************
 3065                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 18; ; ***************************************************************************
 3066                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 19; ;
 3067                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 20; ; When the HuCC compiler is invoked with the "--legacy" option to compile old
 3068                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 21; ; projects, then this "huc.h" file is automatically included.
 3069                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 22; ;
 3070                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 23; ; This file includes a set of the individual HuCC headers which correspond to
 3071                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 24; ; HuC's built-in functions and MagicKit library.
 3072                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 25; ;
 3073                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 26; ; New HuCC projects should, preferably, include the specific headers that are
 3074                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 27; ; needed, which will then allow them to replace parts of the standard library
 3075                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 28; ; with newer functions, or they can just manually include this "huc.h" file.
 3076                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 29; ;
 3077                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 30; ; ***************************************************************************
 3078                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 31; ; **************************************************************************/
 3079                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 33; #include "hucc-systemcard.h"
 3080                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 34; #include "hucc-baselib.h"
 3081                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 35; #include "hucc-gfx.h"
 3082                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 36; #include "hucc-old-scroll.h"
 3083                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 37; #include "hucc-old-spr.h"
 3084                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 38; #include "hucc-old-map.h"
 3085                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 39; #include "hucc-old-line.h"
 3086                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 41; #include <stdlib.h>
 3087                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 42; #include <string.h>
 3088                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 44; #endif // _hucc_legacy_h
 3089                        		.dbg	line,	"include\gfx_SPRITES.c", 10; #incspr(tiles_SPR_DRAGON_INTRO,"res/sprites/tiles_SPR_DRAGON_INTRO.png")
 3090               6340     		.data
 3091    14:6340             	_tiles_SPR_DRAGON_INTRO:	.incspr		"res/sprites/tiles_SPR_DRAGON_INTRO.png"
 3092               E31D     		.code
 3093                        		.dbg	line,	"include\gfx_SPRITES.c", 11; #incpal(palette_SPR_DRAGON_INTRO,"res/sprites/tiles_SPR_DRAGON_INTRO.png");
 3094               6340     		.data
 3095    16:6340             	_palette_SPR_DRAGON_INTRO:	.incpal		"res/sprites/tiles_SPR_DRAGON_INTRO.png"
 3096               E31D     		.code
 3097                        		.dbg	line,	"include\gfx_SPRITES.c", 13; #incspr(tiles_SPR_SELECTOR,"res/sprites/tiles_SPR_SELECTOR.png")
 3098               6540     		.data
 3099    16:6540             	_tiles_SPR_SELECTOR:	.incspr		"res/sprites/tiles_SPR_SELECTOR.png"
 3100               E31D     		.code
 3101                        		.dbg	line,	"include\gfx_SPRITES.c", 16; // EXTRACT PLAYER TILES //
 3102                        		.dbg	line,	"include\gfx_SPRITES.c", 17; #incspr(tiles_SPR_PLAYER_ARMOR,"res/sprites/tiles_SPR_PLAYER_ARMOR.png")
 3103               65C0     		.data
 3104    16:65C0             	_tiles_SPR_PLAYER_ARMOR:	.incspr		"res/sprites/tiles_SPR_PLAYER_ARMOR.png"
 3105               E31D     		.code
 3106                        		.dbg	line,	"include\gfx_SPRITES.c", 18; #incspr(tiles_SPR_PLAYER_NAKED,"res/sprites/tiles_SPR_PLAYER_NAKED.png")
 3107               77C0     		.data
 3108    17:77C0             	_tiles_SPR_PLAYER_NAKED:	.incspr		"res/sprites/tiles_SPR_PLAYER_NAKED.png"
 3109               E31D     		.code
 3110                        		.dbg	line,	"include\gfx_SPRITES.c", 20; // EXTRACT PLAYER PALETTE //
 3111                        		.dbg	line,	"include\gfx_SPRITES.c", 21; #incpal(palette_PLAYER_1,"res/palettes/palette_PLAYER_1.png");
 3112               69C0     		.data
 3113    19:69C0             	_palette_PLAYER_1:	.incpal		"res/palettes/palette_PLAYER_1.png"
 3114               E31D     		.code
 3115                        		.dbg	line,	"include\gfx_SPRITES.c", 22; #incpal(palette_PLAYER_4,"res/palettes/palette_PLAYER_4.png");
 3116               6BC0     		.data
 3117    19:6BC0             	_palette_PLAYER_4:	.incpal		"res/palettes/palette_PLAYER_4.png"
 3118               E31D     		.code
 3119                        		.dbg	line,	"include\gfx_SPRITES.c", 23; #incpal(palette_PLAYER_5,"res/palettes/palette_PLAYER_5.png");
 3120               6DC0     		.data
 3121    19:6DC0             	_palette_PLAYER_5:	.incpal		"res/palettes/palette_PLAYER_5.png"
 3122               E31D     		.code
 3123                        		.dbg	line,	"include\gfx_SPRITES.c", 24; #incpal(palette_PLAYER_8,"res/palettes/palette_PLAYER_8.png");
 3124               6FC0     		.data
 3125    19:6FC0             	_palette_PLAYER_8:	.incpal		"res/palettes/palette_PLAYER_8.png"
 3126               E31D     		.code
 3127                        		.dbg	line,	"include\gfx_SPRITES.c", 27; // EXTRACT WEAPONS TILES //
 3128                        		.dbg	line,	"include\gfx_SPRITES.c", 28; #incspr(tiles_SPR_CHAIN,"res/sprites/tiles_SPR_CHAIN.png")
 3129               71C0     		.data
 3130    19:71C0             	_tiles_SPR_CHAIN:	.incspr		"res/sprites/tiles_SPR_CHAIN.png"
 3131               E31D     		.code
 3132                        		.dbg	line,	"include\gfx_SPRITES.c", 29; #incspr(tiles_SPR_WEAPON_0,"res/sprites/tiles_SPR_WEAPON_0.png")
 3133               7240     		.data
 3134    19:7240             	_tiles_SPR_WEAPON_0:	.incspr		"res/sprites/tiles_SPR_WEAPON_0.png"
 3135               E31D     		.code
 3136                        		.dbg	line,	"include\gfx_SPRITES.c", 30; #incspr(tiles_SPR_WEAPON_1,"res/sprites/tiles_SPR_WEAPON_1.png")
 3137               74C0     		.data
 3138    19:74C0             	_tiles_SPR_WEAPON_1:	.incspr		"res/sprites/tiles_SPR_WEAPON_1.png"
 3139               E31D     		.code
 3140                        		.dbg	line,	"include\gfx_SPRITES.c", 31; #incspr(tiles_SPR_WEAPON_2,"res/sprites/tiles_SPR_WEAPON_2.png")
 3141               7740     		.data
 3142    19:7740             	_tiles_SPR_WEAPON_2:	.incspr		"res/sprites/tiles_SPR_WEAPON_2.png"
 3143               E31D     		.code
 3144                        		.dbg	line,	"include\gfx_SPRITES.c", 32; #incspr(tiles_SPR_WEAPON_3,"res/sprites/tiles_SPR_WEAPON_3.png")
 3145               79C0     		.data
 3146    19:79C0             	_tiles_SPR_WEAPON_3:	.incspr		"res/sprites/tiles_SPR_WEAPON_3.png"
 3147               E31D     		.code
 3148                        		.dbg	line,	"include\gfx_SPRITES.c", 33; #incspr(tiles_SPR_WEAPON_4,"res/sprites/tiles_SPR_WEAPON_4.png")
 3149               7C40     		.data
 3150    19:7C40             	_tiles_SPR_WEAPON_4:	.incspr		"res/sprites/tiles_SPR_WEAPON_4.png"
 3151               E31D     		.code
 3152                        		.dbg	line,	"include\gfx_SPRITES.c", 36; #incspr(tiles_SPR_HIT,"res/sprites/tiles_SPR_HIT.png")
 3153               7EC0     		.data
 3154    19:7EC0             	_tiles_SPR_HIT:	.incspr		"res/sprites/tiles_SPR_HIT.png"
 3155               E31D     		.code
 3156                        		.dbg	line,	"include\gfx_SPRITES.c", 39; // EXTRACT OBJECTS TILES //
 3157                        		.dbg	line,	"include\gfx_SPRITES.c", 40; #incspr(tiles_SPR_BARREL,"res/sprites/tiles_SPR_BARREL.png")
 3158               7F40     		.data
 3159    19:7F40             	_tiles_SPR_BARREL:	.incspr		"res/sprites/tiles_SPR_BARREL.png"
 3160               E31D     		.code
 3161                        		.dbg	line,	"include\gfx_SPRITES.c", 41; #incspr(tiles_SPR_CHEST,"res/sprites/tiles_SPR_CHEST.png")
 3162               7FC0     		.data
 3163    19:7FC0             	_tiles_SPR_CHEST:	.incspr		"res/sprites/tiles_SPR_CHEST.png"
 3164               E31D     		.code
 3165                        		.dbg	line,	"include\gfx_SPRITES.c", 42; #incspr(tiles_SPR_COIN_1,"res/sprites/tiles_SPR_COIN_1.png")
 3166               6BC0     		.data
 3167    1A:6BC0             	_tiles_SPR_COIN_1:	.incspr		"res/sprites/tiles_SPR_COIN_1.png"
 3168               E31D     		.code
 3169                        		.dbg	line,	"include\gfx_SPRITES.c", 43; #incspr(tiles_SPR_COIN_5,"res/sprites/tiles_SPR_COIN_5.png")
 3170               6C40     		.data
 3171    1A:6C40             	_tiles_SPR_COIN_5:	.incspr		"res/sprites/tiles_SPR_COIN_5.png"
 3172               E31D     		.code
 3173                        		.dbg	line,	"include\gfx_SPRITES.c", 44; #incspr(tiles_SPR_COIN_10,"res/sprites/tiles_SPR_COIN_10.png")
 3174               6CC0     		.data
 3175    1A:6CC0             	_tiles_SPR_COIN_10:	.incspr		"res/sprites/tiles_SPR_COIN_10.png"
 3176               E31D     		.code
 3177                        		.dbg	line,	"include\gfx_SPRITES.c", 45; #incspr(tiles_SPR_COIN_50,"res/sprites/tiles_SPR_COIN_50.png")
 3178               6D40     		.data
 3179    1A:6D40             	_tiles_SPR_COIN_50:	.incspr		"res/sprites/tiles_SPR_COIN_50.png"
 3180               E31D     		.code
 3181                        		.dbg	line,	"include\gfx_SPRITES.c", 46; #incspr(tiles_SPR_COIN_100,"res/sprites/tiles_SPR_COIN_100.png")
 3182               6DC0     		.data
 3183    1A:6DC0             	_tiles_SPR_COIN_100:	.incspr		"res/sprites/tiles_SPR_COIN_100.png"
 3184               E31D     		.code
 3185                        		.dbg	line,	"include\gfx_SPRITES.c", 47; #incspr(tiles_SPR_COIN_500,"res/sprites/tiles_SPR_COIN_500.png")
 3186               6E40     		.data
 3187    1A:6E40             	_tiles_SPR_COIN_500:	.incspr		"res/sprites/tiles_SPR_COIN_500.png"
 3188               E31D     		.code
 3189                        		.dbg	line,	"include\gfx_SPRITES.c", 48; #incspr(tiles_SPR_COIN_1000,"res/sprites/tiles_SPR_COIN_1000.png")
 3190               6EC0     		.data
 3191    1A:6EC0             	_tiles_SPR_COIN_1000:	.incspr		"res/sprites/tiles_SPR_COIN_1000.png"
 3192               E31D     		.code
 3193                        		.dbg	line,	"include\gfx_SPRITES.c", 49; #incspr(tiles_SPR_FRUIT,"res/sprites/tiles_SPR_FRUIT.png")
 3194               6F40     		.data
 3195    1A:6F40             	_tiles_SPR_FRUIT:	.incspr		"res/sprites/tiles_SPR_FRUIT.png"
 3196               E31D     		.code
 3197                        		.dbg	line,	"include\gfx_SPRITES.c", 50; #incspr(tiles_SPR_GRAY_KEY,"res/sprites/tiles_SPR_GRAY_KEY.png")
 3198               6FC0     		.data
 3199    1A:6FC0             	_tiles_SPR_GRAY_KEY:	.incspr		"res/sprites/tiles_SPR_GRAY_KEY.png"
 3200               E31D     		.code
 3201                        		.dbg	line,	"include\gfx_SPRITES.c", 51; #incspr(tiles_SPR_GOLD_KEY,"res/sprites/tiles_SPR_GOLD_KEY.png")
 3202               7040     		.data
 3203    1A:7040             	_tiles_SPR_GOLD_KEY:	.incspr		"res/sprites/tiles_SPR_GOLD_KEY.png"
 3204               E31D     		.code
 3205                        		.dbg	line,	"include\gfx_SPRITES.c", 52; #incspr(tiles_SPR_HOURGLASS,"res/sprites/tiles_SPR_HOURGLASS.png")
 3206               70C0     		.data
 3207    1A:70C0             	_tiles_SPR_HOURGLASS:	.incspr		"res/sprites/tiles_SPR_HOURGLASS.png"
 3208               E31D     		.code
 3209                        		.dbg	line,	"include\gfx_SPRITES.c", 53; #incspr(tiles_SPR_LIFE,"res/sprites/tiles_SPR_LIFE.png")
 3210               7140     		.data
 3211    1A:7140             	_tiles_SPR_LIFE:	.incspr		"res/sprites/tiles_SPR_LIFE.png"
 3212               E31D     		.code
 3213                        		.dbg	line,	"include\gfx_SPRITES.c", 54; #incspr(tiles_SPR_OCTOPUS,"res/sprites/tiles_SPR_OCTOPUS.png")
 3214               71C0     		.data
 3215    1A:71C0             	_tiles_SPR_OCTOPUS:	.incspr		"res/sprites/tiles_SPR_OCTOPUS.png"
 3216               E31D     		.code
 3217                        		.dbg	line,	"include\gfx_SPRITES.c", 55; #incspr(tiles_SPR_POT,"res/sprites/tiles_SPR_POT.png")
 3218               7240     		.data
 3219    1A:7240             	_tiles_SPR_POT:	.incspr		"res/sprites/tiles_SPR_POT.png"
 3220               E31D     		.code
 3221                        		.dbg	line,	"include\gfx_SPRITES.c", 56; #incspr(tiles_SPR_POW,"res/sprites/tiles_SPR_POW.png")
 3222               7640     		.data
 3223    1A:7640             	_tiles_SPR_POW:	.incspr		"res/sprites/tiles_SPR_POW.png"
 3224               E31D     		.code
 3225                        		.dbg	line,	"include\gfx_SPRITES.c", 57; #incspr(tiles_SPR_STAR,"res/sprites/tiles_SPR_STAR.png")
 3226               76C0     		.data
 3227    1A:76C0             	_tiles_SPR_STAR:	.incspr		"res/sprites/tiles_SPR_STAR.png"
 3228               E31D     		.code
 3229                        		.dbg	line,	"include\gfx_SPRITES.c", 58; #incspr(tiles_SPR_BAMBOO,"res/sprites/tiles_SPR_BAMBOO.png")
 3230               7740     		.data
 3231    1A:7740             	_tiles_SPR_BAMBOO:	.incspr		"res/sprites/tiles_SPR_BAMBOO.png"
 3232               E31D     		.code
 3233                        		.dbg	line,	"include\gfx_SPRITES.c", 59; #incspr(tiles_SPR_YASHICHI,"res/sprites/tiles_SPR_YASHICHI.png")
 3234               77C0     		.data
 3235    1A:77C0             	_tiles_SPR_YASHICHI:	.incspr		"res/sprites/tiles_SPR_YASHICHI.png"
 3236               E31D     		.code
 3237                        		.dbg	line,	"include\gfx_SPRITES.c", 60; #incspr(tiles_SPR_ELEPHANT,"res/sprites/tiles_SPR_ELEPHANT.png")
 3238               7840     		.data
 3239    1A:7840             	_tiles_SPR_ELEPHANT:	.incspr		"res/sprites/tiles_SPR_ELEPHANT.png"
 3240               E31D     		.code
 3241                        		.dbg	line,	"include\gfx_SPRITES.c", 61; #incspr(tiles_SPR_DRAGONFLY,"res/sprites/tiles_SPR_DRAGONFLY.png")
 3242               78C0     		.data
 3243    1A:78C0             	_tiles_SPR_DRAGONFLY:	.incspr		"res/sprites/tiles_SPR_DRAGONFLY.png"
 3244               E31D     		.code
 3245                        		.dbg	line,	"include\gfx_SPRITES.c", 62; #incspr(tiles_SPR_COW,"res/sprites/tiles_SPR_COW.png")
 3246               7940     		.data
 3247    1A:7940             	_tiles_SPR_COW:	.incspr		"res/sprites/tiles_SPR_COW.png"
 3248               E31D     		.code
 3249                        		.dbg	line,	"include\gfx_SPRITES.c", 63; #incspr(tiles_SPR_MOBICHAN,"res/sprites/tiles_SPR_MOBICHAN.png")
 3250               79C0     		.data
 3251    1A:79C0             	_tiles_SPR_MOBICHAN:	.incspr		"res/sprites/tiles_SPR_MOBICHAN.png"
 3252               E31D     		.code
 3253                        		.dbg	line,	"include\gfx_SPRITES.c", 65; // EXTRACT OBJECTS PALETTE //
 3254                        		.dbg	line,	"include\gfx_SPRITES.c", 66; #incpal(palette_objects_1,"res/palettes/palette_objects_1.png");
 3255               7A40     		.data
 3256    1A:7A40             	_palette_objects_1:	.incpal		"res/palettes/palette_objects_1.png"
 3257               E31D     		.code
 3258                        		.dbg	line,	"include\gfx_SPRITES.c", 67; #incpal(palette_objects_2,"res/palettes/palette_objects_2.png");
 3259               7C40     		.data
 3260    1A:7C40             	_palette_objects_2:	.incpal		"res/palettes/palette_objects_2.png"
 3261               E31D     		.code
 3262                        		.dbg	line,	"include\gfx_SPRITES.c", 70; // EXTRACT NPCS TILES //
 3263                        		.dbg	line,	"include\gfx_SPRITES.c", 71; #incspr(tiles_SPR_NPC,"res/sprites/tiles_SPR_NPC.png")
 3264               7E40     		.data
 3265    1A:7E40             	_tiles_SPR_NPC:	.incspr		"res/sprites/tiles_SPR_NPC.png"
 3266               E31D     		.code
 3267                        		.dbg	line,	"include\gfx_SPRITES.c", 75; // EXTRACT CURSOR TILES //
 3268                        		.dbg	line,	"include\gfx_SPRITES.c", 76; #incspr(tiles_SPR_CURSOR,"res/sprites/tiles_SPR_CURSOR.png")
 3269               6A40     		.data
 3270    1B:6A40             	_tiles_SPR_CURSOR:	.incspr		"res/sprites/tiles_SPR_CURSOR.png"
 3271               E31D     		.code
 3272                        		.dbg	line,	"include\gfx_SPRITES.c", 81; // EXTRACT ENEMIES TILES //
 3273                        		.dbg	line,	"include\gfx_SPRITES.c", 82; #incspr(tiles_SPR_ORC,"res/sprites/tiles_SPR_ORC.png")
 3274               6C40     		.data
 3275    1B:6C40             	_tiles_SPR_ORC:	.incspr		"res/sprites/tiles_SPR_ORC.png"
 3276               E31D     		.code
 3277                        		.dbg	line,	"include\gfx_SPRITES.c", 83; #incspr(tiles_SPR_SERPENT,"res/sprites/tiles_SPR_SERPENT.png")
 3278               6940     		.data
 3279    1C:6940             	_tiles_SPR_SERPENT:	.incspr		"res/sprites/tiles_SPR_SERPENT.png"
 3280               E31D     		.code
 3281                        		.dbg	line,	"include\gfx_SPRITES.c", 84; #incspr(tiles_SPR_PLANT,"res/sprites/tiles_SPR_PLANT.png")
 3282               7540     		.data
 3283    1C:7540             	_tiles_SPR_PLANT:	.incspr		"res/sprites/tiles_SPR_PLANT.png"
 3284               E31D     		.code
 3285                        		.dbg	line,	"include\gfx_SPRITES.c", 86; // EXTRACT ENEMIES PALETTES //
 3286                        		.dbg	line,	"include\gfx_SPRITES.c", 87; #incpal(palette_SPR_ORC,"res/sprites/tiles_SPR_ORC.png")
 3287               6F40     		.data
 3288    1D:6F40             	_palette_SPR_ORC:	.incpal		"res/sprites/tiles_SPR_ORC.png"
 3289               E31D     		.code
 3290                        		.dbg	line,	"include\gfx_SPRITES.c", 88; #incpal(palette_SPR_PLANT,"res/sprites/tiles_SPR_PLANT.png")
 3291               7140     		.data
 3292    1D:7140             	_palette_SPR_PLANT:	.incpal		"res/sprites/tiles_SPR_PLANT.png"
 3293               E31D     		.code
 3294                        		.dbg	line,	"Black_Tiger.c", 17; #include "include/tables_INTRO.c"
 3295                        		.dbg	line,	"include\tables_INTRO.c", 1; //-----------------------------------------------------------------------------//
 3296                        		.dbg	line,	"include\tables_INTRO.c", 2; //                                                                             //
 3297                        		.dbg	line,	"include\tables_INTRO.c", 3; //                                   LEVEL 1                                   //
 3298                        		.dbg	line,	"include\tables_INTRO.c", 4; //                                                                             //
 3299                        		.dbg	line,	"include\tables_INTRO.c", 5; //-----------------------------------------------------------------------------//
 3300                        		.dbg	line,	"include\tables_INTRO.c", 7; // 28 CHAR BY LINE //
 3301                        		.dbg	line,	"include\tables_INTRO.c", 8; // 224 CHAR IN TOTAL //
 3302                        		.dbg	line,	"include\tables_INTRO.c", 9; const char              TABLE_INTRO_TEXT[]  =   {
 3303                        		.dbg	line,	"include\tables_INTRO.c", 10; "Long Long ago, three dragonsdescended from skies above  with a rolling thunder and  destroyed a kingdom into    darkness.                   From lengthy suffering and  darkness of the kingdom     came one brave fighter.    "
 3304                        		.dbg	line,	"include\tables_INTRO.c", 11; };
 3305                        		.dbg	line,	"Black_Tiger.c", 18; #include "include/tables_NPC.c"
 3306                        		.dbg	line,	"include\tables_NPC.c", 1; //-----------------------------------------------------------------------------//
 3307                        		.dbg	line,	"include\tables_NPC.c", 2; //                                                                             //
 3308                        		.dbg	line,	"include\tables_NPC.c", 3; //                                   LEVEL 1                                   //
 3309                        		.dbg	line,	"include\tables_NPC.c", 4; //                                                                             //
 3310                        		.dbg	line,	"include\tables_NPC.c", 5; //-----------------------------------------------------------------------------//
 3311                        		.dbg	line,	"include\tables_NPC.c", 7; const char              TABLE_NPC_TYPE_LV1[NPC_NUMBER_LV1]              =   {
 3312                        		.dbg	line,	"include\tables_NPC.c", 8; TYPE_NPC_ZENNY,
 3313                        		.dbg	line,	"include\tables_NPC.c", 9; TYPE_NPC_SHOP
 3314                        		.dbg	line,	"include\tables_NPC.c", 10; };
 3315                        		.dbg	line,	"include\tables_NPC.c", 13; const signed int        TABLE_NPC_X_POS_REF_LV1[NPC_NUMBER_LV1]         =   {
 3316                        		.dbg	line,	"include\tables_NPC.c", 14; 912,
 3317                        		.dbg	line,	"include\tables_NPC.c", 15; 1232
 3318                        		.dbg	line,	"include\tables_NPC.c", 16; };
 3319                        		.dbg	line,	"include\tables_NPC.c", 19; const signed int        TABLE_NPC_Y_POS_REF_LV1[NPC_NUMBER_LV1]         =   {
 3320                        		.dbg	line,	"include\tables_NPC.c", 20; 576,
 3321                        		.dbg	line,	"include\tables_NPC.c", 21; 400
 3322                        		.dbg	line,	"include\tables_NPC.c", 22; };
 3323                        		.dbg	line,	"include\tables_NPC.c", 24; const int               TABLE_NPC_REWARD_LV1[NPC_NUMBER_LV1]            =   {
 3324                        		.dbg	line,	"include\tables_NPC.c", 25; 100,//ZENNY
 3325                        		.dbg	line,	"include\tables_NPC.c", 26; 0//SHOP
 3326                        		.dbg	line,	"include\tables_NPC.c", 27; };
 3327                        		.dbg	line,	"Black_Tiger.c", 19; #include "include/tables_OBJECT.c"
 3328                        		.dbg	line,	"include\tables_OBJECT.c", 1; //-----------------------------------------------------------------------------//
 3329                        		.dbg	line,	"include\tables_OBJECT.c", 2; //                                                                             //
 3330                        		.dbg	line,	"include\tables_OBJECT.c", 3; //                                   LEVEL 1                                   //
 3331                        		.dbg	line,	"include\tables_OBJECT.c", 4; //                                                                             //
 3332                        		.dbg	line,	"include\tables_OBJECT.c", 5; //-----------------------------------------------------------------------------//
 3333                        		.dbg	line,	"include\tables_OBJECT.c", 7; // DOES NOT INCLUDE HIDDEN OBJECTS //
 3334                        		.dbg	line,	"include\tables_OBJECT.c", 8; const char              TABLE_OBJECT_TYPE_LV1[OBJECT_NUMBER_LV1]      =   {
 3335                        		.dbg	line,	"include\tables_OBJECT.c", 9; TYPE_HOURGLASS,
 3336                        		.dbg	line,	"include\tables_OBJECT.c", 10; TYPE_POT,
 3337                        		.dbg	line,	"include\tables_OBJECT.c", 11; TYPE_POT,
 3338                        		.dbg	line,	"include\tables_OBJECT.c", 12; TYPE_POT,
 3339                        		.dbg	line,	"include\tables_OBJECT.c", 13; TYPE_POT,
 3340                        		.dbg	line,	"include\tables_OBJECT.c", 14; TYPE_POT,
 3341                        		.dbg	line,	"include\tables_OBJECT.c", 15; TYPE_POT,
 3342                        		.dbg	line,	"include\tables_OBJECT.c", 16; TYPE_POW,
 3343                        		.dbg	line,	"include\tables_OBJECT.c", 17; TYPE_POT,
 3344                        		.dbg	line,	"include\tables_OBJECT.c", 18; TYPE_POT,
 3345                        		.dbg	line,	"include\tables_OBJECT.c", 20; //
 3346                        		.dbg	line,	"include\tables_OBJECT.c", 21; TYPE_POT,
 3347                        		.dbg	line,	"include\tables_OBJECT.c", 22; TYPE_POT,
 3348                        		.dbg	line,	"include\tables_OBJECT.c", 23; TYPE_POT,
 3349                        		.dbg	line,	"include\tables_OBJECT.c", 24; TYPE_POT,
 3350                        		.dbg	line,	"include\tables_OBJECT.c", 25; TYPE_POT,
 3351                        		.dbg	line,	"include\tables_OBJECT.c", 26; TYPE_POT,
 3352                        		.dbg	line,	"include\tables_OBJECT.c", 27; TYPE_POT,
 3353                        		.dbg	line,	"include\tables_OBJECT.c", 28; TYPE_POT,
 3354                        		.dbg	line,	"include\tables_OBJECT.c", 29; TYPE_POT,
 3355                        		.dbg	line,	"include\tables_OBJECT.c", 30; TYPE_POT,
 3356                        		.dbg	line,	"include\tables_OBJECT.c", 32; //
 3357                        		.dbg	line,	"include\tables_OBJECT.c", 33; TYPE_POT,
 3358                        		.dbg	line,	"include\tables_OBJECT.c", 34; TYPE_POT,
 3359                        		.dbg	line,	"include\tables_OBJECT.c", 35; TYPE_POT
 3360                        		.dbg	line,	"include\tables_OBJECT.c", 36; };
 3361                        		.dbg	line,	"include\tables_OBJECT.c", 38; // DOES NOT INCLUDE HIDDEN OBJECTS //
 3362                        		.dbg	line,	"include\tables_OBJECT.c", 39; const signed int        TABLE_OBJECT_X_POS_REF_LV1[OBJECT_NUMBER_LV1] =   {
 3363                        		.dbg	line,	"include\tables_OBJECT.c", 40; 1680,
 3364                        		.dbg	line,	"include\tables_OBJECT.c", 41; 1280,
 3365                        		.dbg	line,	"include\tables_OBJECT.c", 42; 1472,
 3366                        		.dbg	line,	"include\tables_OBJECT.c", 43; 1440,
 3367                        		.dbg	line,	"include\tables_OBJECT.c", 44; 1168,
 3368                        		.dbg	line,	"include\tables_OBJECT.c", 45; 1200,
 3369                        		.dbg	line,	"include\tables_OBJECT.c", 46; 960,
 3370                        		.dbg	line,	"include\tables_OBJECT.c", 47; 984,
 3371                        		.dbg	line,	"include\tables_OBJECT.c", 48; 1360,
 3372                        		.dbg	line,	"include\tables_OBJECT.c", 49; 1392,
 3373                        		.dbg	line,	"include\tables_OBJECT.c", 51; //
 3374                        		.dbg	line,	"include\tables_OBJECT.c", 52; 1552,
 3375                        		.dbg	line,	"include\tables_OBJECT.c", 53; 1680,
 3376                        		.dbg	line,	"include\tables_OBJECT.c", 54; 1712,
 3377                        		.dbg	line,	"include\tables_OBJECT.c", 55; 1744,
 3378                        		.dbg	line,	"include\tables_OBJECT.c", 56; 1248,
 3379                        		.dbg	line,	"include\tables_OBJECT.c", 57; 1280,
 3380                        		.dbg	line,	"include\tables_OBJECT.c", 58; 1168,
 3381                        		.dbg	line,	"include\tables_OBJECT.c", 59; 1040,
 3382                        		.dbg	line,	"include\tables_OBJECT.c", 60; 640,
 3383                        		.dbg	line,	"include\tables_OBJECT.c", 61; 672,
 3384                        		.dbg	line,	"include\tables_OBJECT.c", 63; //
 3385                        		.dbg	line,	"include\tables_OBJECT.c", 64; 336,
 3386                        		.dbg	line,	"include\tables_OBJECT.c", 65; 368,
 3387                        		.dbg	line,	"include\tables_OBJECT.c", 66; 416
 3388                        		.dbg	line,	"include\tables_OBJECT.c", 67; };
 3389                        		.dbg	line,	"include\tables_OBJECT.c", 69; // DOES NOT INCLUDE HIDDEN OBJECTS //
 3390                        		.dbg	line,	"include\tables_OBJECT.c", 70; const signed int        TABLE_OBJECT_Y_POS_REF_LV1[OBJECT_NUMBER_LV1] =     {
 3391                        		.dbg	line,	"include\tables_OBJECT.c", 71; 384,
 3392                        		.dbg	line,	"include\tables_OBJECT.c", 72; 416,
 3393                        		.dbg	line,	"include\tables_OBJECT.c", 73; 480,
 3394                        		.dbg	line,	"include\tables_OBJECT.c", 74; 496,
 3395                        		.dbg	line,	"include\tables_OBJECT.c", 75; 560,
 3396                        		.dbg	line,	"include\tables_OBJECT.c", 76; 560,
 3397                        		.dbg	line,	"include\tables_OBJECT.c", 77; 592,
 3398                        		.dbg	line,	"include\tables_OBJECT.c", 78; 592,
 3399                        		.dbg	line,	"include\tables_OBJECT.c", 79; 592,
 3400                        		.dbg	line,	"include\tables_OBJECT.c", 80; 592,
 3401                        		.dbg	line,	"include\tables_OBJECT.c", 82; //
 3402                        		.dbg	line,	"include\tables_OBJECT.c", 83; 704,
 3403                        		.dbg	line,	"include\tables_OBJECT.c", 84; 720,
 3404                        		.dbg	line,	"include\tables_OBJECT.c", 85; 720,
 3405                        		.dbg	line,	"include\tables_OBJECT.c", 86; 720,
 3406                        		.dbg	line,	"include\tables_OBJECT.c", 87; 736,
 3407                        		.dbg	line,	"include\tables_OBJECT.c", 88; 736,
 3408                        		.dbg	line,	"include\tables_OBJECT.c", 89; 752,
 3409                        		.dbg	line,	"include\tables_OBJECT.c", 90; 848,
 3410                        		.dbg	line,	"include\tables_OBJECT.c", 91; 880,
 3411                        		.dbg	line,	"include\tables_OBJECT.c", 92; 880,
 3412                        		.dbg	line,	"include\tables_OBJECT.c", 94; //
 3413                        		.dbg	line,	"include\tables_OBJECT.c", 95; 896,
 3414                        		.dbg	line,	"include\tables_OBJECT.c", 96; 896,
 3415                        		.dbg	line,	"include\tables_OBJECT.c", 97; 896
 3416                        		.dbg	line,	"include\tables_OBJECT.c", 98; };
 3417                        		.dbg	line,	"include\tables_OBJECT.c", 100; // DOES NOT INCLUDE HIDDEN OBJECTS //
 3418                        		.dbg	line,	"include\tables_OBJECT.c", 101; const char              TABLE_REWARD_TYPE_LV1[OBJECT_NUMBER_LV1]       =    {
 3419                        		.dbg	line,	"include\tables_OBJECT.c", 102; TYPE_NULL,//HOURGLASS
 3420                        		.dbg	line,	"include\tables_OBJECT.c", 104; //
 3421                        		.dbg	line,	"include\tables_OBJECT.c", 105; TYPE_GRAY_KEY,
 3422                        		.dbg	line,	"include\tables_OBJECT.c", 107; //
 3423                        		.dbg	line,	"include\tables_OBJECT.c", 108; TYPE_COIN_5,
 3424                        		.dbg	line,	"include\tables_OBJECT.c", 109; TYPE_COIN_5,
 3425                        		.dbg	line,	"include\tables_OBJECT.c", 111; //
 3426                        		.dbg	line,	"include\tables_OBJECT.c", 112; TYPE_GRAY_KEY,
 3427                        		.dbg	line,	"include\tables_OBJECT.c", 113; TYPE_COIN_10,
 3428                        		.dbg	line,	"include\tables_OBJECT.c", 115; //
 3429                        		.dbg	line,	"include\tables_OBJECT.c", 116; TYPE_COIN_10,
 3430                        		.dbg	line,	"include\tables_OBJECT.c", 117; TYPE_NULL,//POW
 3431                        		.dbg	line,	"include\tables_OBJECT.c", 119; //
 3432                        		.dbg	line,	"include\tables_OBJECT.c", 120; TYPE_GRAY_KEY,
 3433                        		.dbg	line,	"include\tables_OBJECT.c", 121; TYPE_HOURGLASS,
 3434                        		.dbg	line,	"include\tables_OBJECT.c", 123; //
 3435                        		.dbg	line,	"include\tables_OBJECT.c", 124; TYPE_COIN_10,
 3436                        		.dbg	line,	"include\tables_OBJECT.c", 126; //
 3437                        		.dbg	line,	"include\tables_OBJECT.c", 127; TYPE_HOURGLASS,
 3438                        		.dbg	line,	"include\tables_OBJECT.c", 128; TYPE_GRAY_KEY,
 3439                        		.dbg	line,	"include\tables_OBJECT.c", 129; TYPE_COIN_10,
 3440                        		.dbg	line,	"include\tables_OBJECT.c", 131; //
 3441                        		.dbg	line,	"include\tables_OBJECT.c", 132; TYPE_GRAY_KEY,
 3442                        		.dbg	line,	"include\tables_OBJECT.c", 133; TYPE_COIN_10,
 3443                        		.dbg	line,	"include\tables_OBJECT.c", 135; //
 3444                        		.dbg	line,	"include\tables_OBJECT.c", 136; TYPE_COIN_5,
 3445                        		.dbg	line,	"include\tables_OBJECT.c", 138; //
 3446                        		.dbg	line,	"include\tables_OBJECT.c", 139; TYPE_COIN_10,
 3447                        		.dbg	line,	"include\tables_OBJECT.c", 141; //
 3448                        		.dbg	line,	"include\tables_OBJECT.c", 142; TYPE_COIN_5,
 3449                        		.dbg	line,	"include\tables_OBJECT.c", 143; TYPE_COIN_10,
 3450                        		.dbg	line,	"include\tables_OBJECT.c", 145; //
 3451                        		.dbg	line,	"include\tables_OBJECT.c", 146; TYPE_GRAY_KEY,
 3452                        		.dbg	line,	"include\tables_OBJECT.c", 147; TYPE_COIN_5,
 3453                        		.dbg	line,	"include\tables_OBJECT.c", 148; TYPE_GRAY_KEY
 3454                        		.dbg	line,	"include\tables_OBJECT.c", 149; };
 3455                        		.dbg	line,	"include\tables_OBJECT.c", 151; // DOES NOT INCLUDE HIDDEN OBJECTS //
 3456                        		.dbg	line,	"include\tables_OBJECT.c", 152; const int              TABLE_REWARD_VRAM_ADR_LV1[OBJECT_NUMBER_LV1]  =     {
 3457                        		.dbg	line,	"include\tables_OBJECT.c", 153; TYPE_NULL,//HOURGLASS
 3458                        		.dbg	line,	"include\tables_OBJECT.c", 155; //
 3459                        		.dbg	line,	"include\tables_OBJECT.c", 156; GRAY_KEY_VRAM_ADR,
 3460                        		.dbg	line,	"include\tables_OBJECT.c", 158; //
 3461                        		.dbg	line,	"include\tables_OBJECT.c", 159; COIN_5_VRAM_ADR,
 3462                        		.dbg	line,	"include\tables_OBJECT.c", 160; COIN_5_VRAM_ADR,
 3463                        		.dbg	line,	"include\tables_OBJECT.c", 162; //
 3464                        		.dbg	line,	"include\tables_OBJECT.c", 163; GRAY_KEY_VRAM_ADR,
 3465                        		.dbg	line,	"include\tables_OBJECT.c", 164; COIN_10_VRAM_ADR,
 3466                        		.dbg	line,	"include\tables_OBJECT.c", 166; //
 3467                        		.dbg	line,	"include\tables_OBJECT.c", 167; COIN_10_VRAM_ADR,
 3468                        		.dbg	line,	"include\tables_OBJECT.c", 168; TYPE_NULL,//POW
 3469                        		.dbg	line,	"include\tables_OBJECT.c", 170; //
 3470                        		.dbg	line,	"include\tables_OBJECT.c", 171; GRAY_KEY_VRAM_ADR,
 3471                        		.dbg	line,	"include\tables_OBJECT.c", 172; HOURGLASS_VRAM_ADR,
 3472                        		.dbg	line,	"include\tables_OBJECT.c", 174; //
 3473                        		.dbg	line,	"include\tables_OBJECT.c", 175; COIN_10_VRAM_ADR,
 3474                        		.dbg	line,	"include\tables_OBJECT.c", 177; //
 3475                        		.dbg	line,	"include\tables_OBJECT.c", 178; HOURGLASS_VRAM_ADR,
 3476                        		.dbg	line,	"include\tables_OBJECT.c", 179; GRAY_KEY_VRAM_ADR,
 3477                        		.dbg	line,	"include\tables_OBJECT.c", 180; COIN_10_VRAM_ADR,
 3478                        		.dbg	line,	"include\tables_OBJECT.c", 182; //
 3479                        		.dbg	line,	"include\tables_OBJECT.c", 183; GRAY_KEY_VRAM_ADR,
 3480                        		.dbg	line,	"include\tables_OBJECT.c", 184; COIN_10_VRAM_ADR,
 3481                        		.dbg	line,	"include\tables_OBJECT.c", 186; //
 3482                        		.dbg	line,	"include\tables_OBJECT.c", 187; COIN_5_VRAM_ADR,
 3483                        		.dbg	line,	"include\tables_OBJECT.c", 189; //
 3484                        		.dbg	line,	"include\tables_OBJECT.c", 190; COIN_10_VRAM_ADR,
 3485                        		.dbg	line,	"include\tables_OBJECT.c", 192; //
 3486                        		.dbg	line,	"include\tables_OBJECT.c", 193; COIN_5_VRAM_ADR,
 3487                        		.dbg	line,	"include\tables_OBJECT.c", 194; COIN_10_VRAM_ADR,
 3488                        		.dbg	line,	"include\tables_OBJECT.c", 196; //
 3489                        		.dbg	line,	"include\tables_OBJECT.c", 197; GRAY_KEY_VRAM_ADR,
 3490                        		.dbg	line,	"include\tables_OBJECT.c", 198; COIN_5_VRAM_ADR,
 3491                        		.dbg	line,	"include\tables_OBJECT.c", 199; GRAY_KEY_VRAM_ADR
 3492                        		.dbg	line,	"include\tables_OBJECT.c", 200; };
 3493                        		.dbg	line,	"include\tables_OBJECT.c", 205; const signed int        TABLE_CHEST_X_POS_REF_LV1[CHEST_NUMBER_LV1]   =     {
 3494                        		.dbg	line,	"include\tables_OBJECT.c", 206; 1072,
 3495                        		.dbg	line,	"include\tables_OBJECT.c", 207; 816
 3496                        		.dbg	line,	"include\tables_OBJECT.c", 208; };
 3497                        		.dbg	line,	"include\tables_OBJECT.c", 211; const signed int        TABLE_CHEST_Y_POS_REF_LV1[CHEST_NUMBER_LV1]   =     {
 3498                        		.dbg	line,	"include\tables_OBJECT.c", 212; 832,
 3499                        		.dbg	line,	"include\tables_OBJECT.c", 213; 848
 3500                        		.dbg	line,	"Black_Tiger.c", 19; };
 3501                        		.dbg	line,	"Black_Tiger.c", 20; #include "include/tables_PLAYER.c"
 3502                        		.dbg	line,	"include\tables_PLAYER.c", 3; const unsigned char     *TABLE_PLAYER_TILES_ADR[2]     =   {
 3503                        		.dbg	line,	"include\tables_PLAYER.c", 4; &tiles_SPR_PLAYER_ARMOR,
 3504                        		.dbg	line,	"include\tables_PLAYER.c", 5; &tiles_SPR_PLAYER_NAKED
 3505                        		.dbg	line,	"include\tables_PLAYER.c", 6; };
 3506                        		.dbg	line,	"include\tables_PLAYER.c", 9; const unsigned char     TABLE_PLAYER_TILES_BANK[2]     =   {
 3507                        		.dbg	line,	"include\tables_PLAYER.c", 10; ^tiles_SPR_PLAYER_ARMOR,
 3508                        		.dbg	line,	"include\tables_PLAYER.c", 11; ^tiles_SPR_PLAYER_NAKED
 3509                        		.dbg	line,	"include\tables_PLAYER.c", 12; };
 3510                        		.dbg	line,	"include\tables_PLAYER.c", 15; const signed char       TABLE_PLAYER_JUMP_V[35]     =   {
 3511                        		.dbg	line,	"include\tables_PLAYER.c", 16; // UPWARD
 3512                        		.dbg	line,	"include\tables_PLAYER.c", 17; -4,
 3513                        		.dbg	line,	"include\tables_PLAYER.c", 18; -5,
 3514                        		.dbg	line,	"include\tables_PLAYER.c", 19; -10,
 3515                        		.dbg	line,	"include\tables_PLAYER.c", 20; -4,
 3516                        		.dbg	line,	"include\tables_PLAYER.c", 21; -4,
 3517                        		.dbg	line,	"include\tables_PLAYER.c", 22; -7,
 3518                        		.dbg	line,	"include\tables_PLAYER.c", 23; -6,
 3519                        		.dbg	line,	"include\tables_PLAYER.c", 24; -3,
 3520                        		.dbg	line,	"include\tables_PLAYER.c", 25; -5,
 3521                        		.dbg	line,	"include\tables_PLAYER.c", 26; -2,
 3522                        		.dbg	line,	"include\tables_PLAYER.c", 27; -4,
 3523                        		.dbg	line,	"include\tables_PLAYER.c", 28; -1,
 3524                        		.dbg	line,	"include\tables_PLAYER.c", 29; -1,
 3525                        		.dbg	line,	"include\tables_PLAYER.c", 30; -1,
 3526                        		.dbg	line,	"include\tables_PLAYER.c", 31; -1,
 3527                        		.dbg	line,	"include\tables_PLAYER.c", 32; 0,
 3528                        		.dbg	line,	"include\tables_PLAYER.c", 33; 0,
 3529                        		.dbg	line,	"include\tables_PLAYER.c", 34; 0,
 3530                        		.dbg	line,	"include\tables_PLAYER.c", 35; 0,
 3531                        		.dbg	line,	"include\tables_PLAYER.c", 36; // DOWNWARD
 3532                        		.dbg	line,	"include\tables_PLAYER.c", 37; 1,
 3533                        		.dbg	line,	"include\tables_PLAYER.c", 38; 1,
 3534                        		.dbg	line,	"include\tables_PLAYER.c", 39; 1,
 3535                        		.dbg	line,	"include\tables_PLAYER.c", 40; 1,
 3536                        		.dbg	line,	"include\tables_PLAYER.c", 41; 4,
 3537                        		.dbg	line,	"include\tables_PLAYER.c", 42; 2,
 3538                        		.dbg	line,	"include\tables_PLAYER.c", 43; 5,
 3539                        		.dbg	line,	"include\tables_PLAYER.c", 44; 3,
 3540                        		.dbg	line,	"include\tables_PLAYER.c", 45; 6,
 3541                        		.dbg	line,	"include\tables_PLAYER.c", 46; 7,
 3542                        		.dbg	line,	"include\tables_PLAYER.c", 47; 4,
 3543                        		.dbg	line,	"include\tables_PLAYER.c", 48; 4,
 3544                        		.dbg	line,	"include\tables_PLAYER.c", 49; 10,
 3545                        		.dbg	line,	"include\tables_PLAYER.c", 50; 4,
 3546                        		.dbg	line,	"include\tables_PLAYER.c", 51; 4,
 3547                        		.dbg	line,	"include\tables_PLAYER.c", 52; 5
 3548                        		.dbg	line,	"include\tables_PLAYER.c", 53; };
 3549                        		.dbg	line,	"include\tables_PLAYER.c", 56; const signed char       TABLE_PLAYER_FALL[21]       =   {
 3550                        		.dbg	line,	"include\tables_PLAYER.c", 57; 0,
 3551                        		.dbg	line,	"include\tables_PLAYER.c", 58; 0,
 3552                        		.dbg	line,	"include\tables_PLAYER.c", 59; 0,
 3553                        		.dbg	line,	"include\tables_PLAYER.c", 60; 0,
 3554                        		.dbg	line,	"include\tables_PLAYER.c", 61; 1,
 3555                        		.dbg	line,	"include\tables_PLAYER.c", 62; 1,
 3556                        		.dbg	line,	"include\tables_PLAYER.c", 63; 1,
 3557                        		.dbg	line,	"include\tables_PLAYER.c", 64; 1,
 3558                        		.dbg	line,	"include\tables_PLAYER.c", 65; 2,
 3559                        		.dbg	line,	"include\tables_PLAYER.c", 66; 2,
 3560                        		.dbg	line,	"include\tables_PLAYER.c", 67; 2,
 3561                        		.dbg	line,	"include\tables_PLAYER.c", 68; 2,
 3562                        		.dbg	line,	"include\tables_PLAYER.c", 69; 3,
 3563                        		.dbg	line,	"include\tables_PLAYER.c", 70; 3,
 3564                        		.dbg	line,	"include\tables_PLAYER.c", 71; 3,
 3565                        		.dbg	line,	"include\tables_PLAYER.c", 72; 4,
 3566                        		.dbg	line,	"include\tables_PLAYER.c", 73; 4,
 3567                        		.dbg	line,	"include\tables_PLAYER.c", 74; 4,
 3568                        		.dbg	line,	"include\tables_PLAYER.c", 75; 4,
 3569                        		.dbg	line,	"include\tables_PLAYER.c", 76; 4,
 3570                        		.dbg	line,	"include\tables_PLAYER.c", 77; 5
 3571                        		.dbg	line,	"include\tables_PLAYER.c", 78; };
 3572                        		.dbg	line,	"include\tables_PLAYER.c", 81; const signed char       TABLE_PLAYER_JUMP_LADDER[30]    =   {
 3573                        		.dbg	line,	"include\tables_PLAYER.c", 82; // UPWARD
 3574                        		.dbg	line,	"include\tables_PLAYER.c", 83; -4,
 3575                        		.dbg	line,	"include\tables_PLAYER.c", 84; -4,
 3576                        		.dbg	line,	"include\tables_PLAYER.c", 85; -3,
 3577                        		.dbg	line,	"include\tables_PLAYER.c", 86; -3,
 3578                        		.dbg	line,	"include\tables_PLAYER.c", 87; -3,
 3579                        		.dbg	line,	"include\tables_PLAYER.c", 88; -2,
 3580                        		.dbg	line,	"include\tables_PLAYER.c", 89; -2,
 3581                        		.dbg	line,	"include\tables_PLAYER.c", 90; -2,
 3582                        		.dbg	line,	"include\tables_PLAYER.c", 91; -1,
 3583                        		.dbg	line,	"include\tables_PLAYER.c", 92; -1,
 3584                        		.dbg	line,	"include\tables_PLAYER.c", 93; -1,
 3585                        		.dbg	line,	"include\tables_PLAYER.c", 94; -1,
 3586                        		.dbg	line,	"include\tables_PLAYER.c", 95; -1,
 3587                        		.dbg	line,	"include\tables_PLAYER.c", 96; 0,
 3588                        		.dbg	line,	"include\tables_PLAYER.c", 97; 0,
 3589                        		.dbg	line,	"include\tables_PLAYER.c", 98; 0,
 3590                        		.dbg	line,	"include\tables_PLAYER.c", 99; 0,
 3591                        		.dbg	line,	"include\tables_PLAYER.c", 100; // DOWNWARD
 3592                        		.dbg	line,	"include\tables_PLAYER.c", 101; 1,
 3593                        		.dbg	line,	"include\tables_PLAYER.c", 102; 1,
 3594                        		.dbg	line,	"include\tables_PLAYER.c", 103; 1,
 3595                        		.dbg	line,	"include\tables_PLAYER.c", 104; 1,
 3596                        		.dbg	line,	"include\tables_PLAYER.c", 105; 1,
 3597                        		.dbg	line,	"include\tables_PLAYER.c", 106; 2,
 3598                        		.dbg	line,	"include\tables_PLAYER.c", 107; 2,
 3599                        		.dbg	line,	"include\tables_PLAYER.c", 108; 2,
 3600                        		.dbg	line,	"include\tables_PLAYER.c", 109; 3,
 3601                        		.dbg	line,	"include\tables_PLAYER.c", 110; 3,
 3602                        		.dbg	line,	"include\tables_PLAYER.c", 111; 3,
 3603                        		.dbg	line,	"include\tables_PLAYER.c", 112; 4,
 3604                        		.dbg	line,	"include\tables_PLAYER.c", 113; 4
 3605                        		.dbg	line,	"include\tables_PLAYER.c", 114; };
 3606                        		.dbg	line,	"include\tables_PLAYER.c", 123; const unsigned char     *TABLE_WEAPON_TILES_ADR[5]     =   {
 3607                        		.dbg	line,	"include\tables_PLAYER.c", 124; &tiles_SPR_WEAPON_0,
 3608                        		.dbg	line,	"include\tables_PLAYER.c", 125; &tiles_SPR_WEAPON_1,
 3609                        		.dbg	line,	"include\tables_PLAYER.c", 126; &tiles_SPR_WEAPON_2,
 3610                        		.dbg	line,	"include\tables_PLAYER.c", 127; &tiles_SPR_WEAPON_3,
 3611                        		.dbg	line,	"include\tables_PLAYER.c", 128; &tiles_SPR_WEAPON_4
 3612                        		.dbg	line,	"include\tables_PLAYER.c", 129; };
 3613                        		.dbg	line,	"include\tables_PLAYER.c", 132; const unsigned char     TABLE_WEAPON_TILES_BANK[5]     =   {
 3614                        		.dbg	line,	"include\tables_PLAYER.c", 133; ^tiles_SPR_WEAPON_0,
 3615                        		.dbg	line,	"include\tables_PLAYER.c", 134; ^tiles_SPR_WEAPON_1,
 3616                        		.dbg	line,	"include\tables_PLAYER.c", 135; ^tiles_SPR_WEAPON_2,
 3617                        		.dbg	line,	"include\tables_PLAYER.c", 136; ^tiles_SPR_WEAPON_3,
 3618                        		.dbg	line,	"include\tables_PLAYER.c", 137; ^tiles_SPR_WEAPON_4
 3619                        		.dbg	line,	"Black_Tiger.c", 20; };
 3620                        		.dbg	line,	"Black_Tiger.c", 21; #include "include/tables_SHOP.c"
 3621                        		.dbg	line,	"include\tables_SHOP.c", 1; //-----------------------------------------------------------------------------//
 3622                        		.dbg	line,	"include\tables_SHOP.c", 2; //                                                                             //
 3623                        		.dbg	line,	"include\tables_SHOP.c", 3; //                                   LEVEL 1                                   //
 3624                        		.dbg	line,	"include\tables_SHOP.c", 4; //                                                                             //
 3625                        		.dbg	line,	"include\tables_SHOP.c", 5; //-----------------------------------------------------------------------------//
 3626                        		.dbg	line,	"include\tables_SHOP.c", 7; const char              TABLE_SHOP_ITEMS_LV1[10]        =   {
 3627                        		.dbg	line,	"include\tables_SHOP.c", 8; TYPE_ITEM_WEAPON_2,
 3628                        		.dbg	line,	"include\tables_SHOP.c", 9; TYPE_ITEM_WEAPON_3,
 3629                        		.dbg	line,	"include\tables_SHOP.c", 10; TYPE_ITEM_WEAPON_4,
 3630                        		.dbg	line,	"include\tables_SHOP.c", 11; TYPE_ITEM_WEAPON_5,
 3631                        		.dbg	line,	"include\tables_SHOP.c", 12; TYPE_ITEM_KEY,
 3632                        		.dbg	line,	"include\tables_SHOP.c", 14; TYPE_ITEM_ARMOR_2,
 3633                        		.dbg	line,	"include\tables_SHOP.c", 15; TYPE_ITEM_ARMOR_3,
 3634                        		.dbg	line,	"include\tables_SHOP.c", 16; TYPE_ITEM_ARMOR_4,
 3635                        		.dbg	line,	"include\tables_SHOP.c", 17; TYPE_ITEM_ARMOR_5,
 3636                        		.dbg	line,	"include\tables_SHOP.c", 18; TYPE_ITEM_POTION
 3637                        		.dbg	line,	"include\tables_SHOP.c", 19; };
 3638                        		.dbg	line,	"include\tables_SHOP.c", 22; const int               TABLE_SHOP_PRICES_LV1[10]       =   {
 3639                        		.dbg	line,	"include\tables_SHOP.c", 23; 100,
 3640                        		.dbg	line,	"include\tables_SHOP.c", 24; 1000,
 3641                        		.dbg	line,	"include\tables_SHOP.c", 25; 2400,
 3642                        		.dbg	line,	"include\tables_SHOP.c", 26; 9600,
 3643                        		.dbg	line,	"include\tables_SHOP.c", 27; 30,
 3644                        		.dbg	line,	"include\tables_SHOP.c", 28; 80,
 3645                        		.dbg	line,	"include\tables_SHOP.c", 29; 300,
 3646                        		.dbg	line,	"include\tables_SHOP.c", 30; 800,
 3647                        		.dbg	line,	"include\tables_SHOP.c", 31; 1600,
 3648                        		.dbg	line,	"include\tables_SHOP.c", 32; 150
 3649                        		.dbg	line,	"include\tables_SHOP.c", 33; };
 3650                        		.dbg	line,	"include\tables_SHOP.c", 36; const unsigned char     *TABLE_SHOP_ITEMS_TILES_ADR[10]     =   {
 3651                        		.dbg	line,	"include\tables_SHOP.c", 37; &tiles_ITEM_WEAPON_2,
 3652                        		.dbg	line,	"include\tables_SHOP.c", 38; &tiles_ITEM_WEAPON_3,
 3653                        		.dbg	line,	"include\tables_SHOP.c", 39; &tiles_ITEM_WEAPON_4,
 3654                        		.dbg	line,	"include\tables_SHOP.c", 40; &tiles_ITEM_WEAPON_5,
 3655                        		.dbg	line,	"include\tables_SHOP.c", 41; &tiles_ITEM_KEY,
 3656                        		.dbg	line,	"include\tables_SHOP.c", 42; &tiles_ITEM_ARMOR_2,
 3657                        		.dbg	line,	"include\tables_SHOP.c", 43; &tiles_ITEM_ARMOR_3,
 3658                        		.dbg	line,	"include\tables_SHOP.c", 44; &tiles_ITEM_ARMOR_4,
 3659                        		.dbg	line,	"include\tables_SHOP.c", 45; &tiles_ITEM_ARMOR_5,
 3660                        		.dbg	line,	"include\tables_SHOP.c", 46; &tiles_ITEM_POTION
 3661                        		.dbg	line,	"include\tables_SHOP.c", 47; };
 3662                        		.dbg	line,	"include\tables_SHOP.c", 50; const unsigned char     TABLE_SHOP_ITEMS_TILES_BANK[10]     =   {
 3663                        		.dbg	line,	"include\tables_SHOP.c", 51; ^tiles_ITEM_WEAPON_2,
 3664                        		.dbg	line,	"include\tables_SHOP.c", 52; ^tiles_ITEM_WEAPON_3,
 3665                        		.dbg	line,	"include\tables_SHOP.c", 53; ^tiles_ITEM_WEAPON_4,
 3666                        		.dbg	line,	"include\tables_SHOP.c", 54; ^tiles_ITEM_WEAPON_5,
 3667                        		.dbg	line,	"include\tables_SHOP.c", 55; ^tiles_ITEM_KEY,
 3668                        		.dbg	line,	"include\tables_SHOP.c", 56; ^tiles_ITEM_ARMOR_2,
 3669                        		.dbg	line,	"include\tables_SHOP.c", 57; ^tiles_ITEM_ARMOR_3,
 3670                        		.dbg	line,	"include\tables_SHOP.c", 58; ^tiles_ITEM_ARMOR_4,
 3671                        		.dbg	line,	"include\tables_SHOP.c", 59; ^tiles_ITEM_ARMOR_5,
 3672                        		.dbg	line,	"include\tables_SHOP.c", 60; ^tiles_ITEM_POTION
 3673                        		.dbg	line,	"include\tables_SHOP.c", 61; };
 3674                        		.dbg	line,	"include\tables_SHOP.c", 64; const char              TABLE_CURSOR_POS_X[11]              =   {
 3675                        		.dbg	line,	"include\tables_SHOP.c", 65; 24,
 3676                        		.dbg	line,	"include\tables_SHOP.c", 66; 56,
 3677                        		.dbg	line,	"include\tables_SHOP.c", 67; 96,
 3678                        		.dbg	line,	"include\tables_SHOP.c", 68; 136,
 3679                        		.dbg	line,	"include\tables_SHOP.c", 69; 176,
 3680                        		.dbg	line,	"include\tables_SHOP.c", 70; 24,
 3681                        		.dbg	line,	"include\tables_SHOP.c", 71; 56,
 3682                        		.dbg	line,	"include\tables_SHOP.c", 72; 96,
 3683                        		.dbg	line,	"include\tables_SHOP.c", 73; 136,
 3684                        		.dbg	line,	"include\tables_SHOP.c", 74; 176,
 3685                        		.dbg	line,	"include\tables_SHOP.c", 75; 212
 3686                        		.dbg	line,	"include\tables_SHOP.c", 76; };
 3687                        		.dbg	line,	"Black_Tiger.c", 24; #include "include/routines_INTRO.c"
 3688                        		.dbg	line,	"include\routines_INTRO.c", 1; #include "huc.h"
 3689                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 1; #ifndef _hucc_legacy_h
 3690                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 2; #define _hucc_legacy_h
 3691                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 4; /****************************************************************************
 3692                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 5; ; ***************************************************************************
 3693                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 6; ;
 3694                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 7; ; huc.h
 3695                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 8; ;
 3696                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 9; ; HuCC wrapper file to include a default set of HuC-compatible functions.
 3697                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 10; ;
 3698                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 11; ; Copyright John Brandwood 2024.
 3699                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 12; ;
 3700                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 3701                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 3702                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 3703                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 16; ;
 3704                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 17; ; ***************************************************************************
 3705                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 18; ; ***************************************************************************
 3706                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 19; ;
 3707                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 20; ; When the HuCC compiler is invoked with the "--legacy" option to compile old
 3708                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 21; ; projects, then this "huc.h" file is automatically included.
 3709                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 22; ;
 3710                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 23; ; This file includes a set of the individual HuCC headers which correspond to
 3711                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 24; ; HuC's built-in functions and MagicKit library.
 3712                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 25; ;
 3713                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 26; ; New HuCC projects should, preferably, include the specific headers that are
 3714                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 27; ; needed, which will then allow them to replace parts of the standard library
 3715                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 28; ; with newer functions, or they can just manually include this "huc.h" file.
 3716                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 29; ;
 3717                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 30; ; ***************************************************************************
 3718                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 31; ; **************************************************************************/
 3719                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 33; #include "hucc-systemcard.h"
 3720                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 34; #include "hucc-baselib.h"
 3721                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 35; #include "hucc-gfx.h"
 3722                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 36; #include "hucc-old-scroll.h"
 3723                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 37; #include "hucc-old-spr.h"
 3724                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 38; #include "hucc-old-map.h"
 3725                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 39; #include "hucc-old-line.h"
 3726                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 41; #include <stdlib.h>
 3727                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 42; #include <string.h>
 3728                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 44; #endif // _hucc_legacy_h
 3729                        		.dbg	line,	"include\routines_INTRO.c", 2; #include "hucc-scroll.h"
 3730                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 1; #ifndef _hucc_scroll_h
 3731                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 2; #define _hucc_scroll_h
 3732                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 4; /****************************************************************************
 3733                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 5; ; ***************************************************************************
 3734                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 6; ;
 3735                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 7; ; hucc-scroll.h
 3736                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 8; ;
 3737                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 9; ; Routines for a fast split-screen scrolling system.
 3738                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 10; ;
 3739                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 11; ; Copyright John Brandwood 2024.
 3740                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 12; ;
 3741                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 3742                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 3743                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 3744                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 16; ;
 3745                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 17; ; ***************************************************************************
 3746                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 18; ; ***************************************************************************
 3747                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 19; ;
 3748                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 20; ; The maximum number of splits for each screen layer is set in your project's
 3749                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 21; ; "hucc-config.inc" file, with the library having a limit of 128-per-layer.
 3750                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 22; ;
 3751                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 23; ; Your first active split must be defined to start at screen line 0, and then
 3752                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 24; ; the rest of the active splits must be in increasing line order to match the
 3753                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 25; ; way that the PC Engine displays the output image.
 3754                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 26; ;
 3755                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 27; ; You can have disabled splits interleaved with your active splits.
 3756                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 28; ;
 3757                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 29; ; Splits that are normally disabled can be used to create full screen effects
 3758                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 30; ; such as bouncing the screen up and down by adding blank areas at the top or
 3759                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 31; ; bottom of the screen, and then rapidly changing the height of those areas.
 3760                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 32; ;
 3761                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 33; ; ***************************************************************************
 3762                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 34; ; **************************************************************************/
 3763                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 36; // *************
 3764                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 37; // VDC bits for display_flags ...
 3765                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 38; // *************
 3766                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 40; #ifndef BKG_OFF
 3767                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 41; #define BKG_OFF 0x00
 3768                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 42; #endif
 3769                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 44; #ifndef SPR_OFF
 3770                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 45; #define SPR_OFF 0x00
 3771                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 46; #endif
 3772                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 48; #ifndef BKG_ON
 3773                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 49; #define BKG_ON 0x80
 3774                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 50; #endif
 3775                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 52; #ifndef SPR_ON
 3776                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 53; #define SPR_ON 0x40
 3777                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 54; #endif
 3778                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 56; // *************
 3779                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 57; // Functions in hucc-scroll.asm ...
 3780                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 58; // *************
 3781                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 60; #ifdef __HUCC__
 3782                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 62; #asmdef	HUCC_USES_NEW_SCROLL 1
 3783                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 64; extern void __fastcall scroll_split( unsigned char index<_al>, unsigned char screen_line<_ah>, unsigned int bat_x<_bx>, unsigned int bat_y<_cx>, unsigned char display_flags<_dl> );
 3784                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 65; extern void __fastcall sgx_scroll_split( unsigned char index<_al>, unsigned char screen_line<_ah>, unsigned int bat_x<_bx>, unsigned int bat_y<_cx>, unsigned char display_flags<_dl> );
 3785                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 67; extern void __fastcall disable_split( unsigned char index<acc> );
 3786                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 68; extern void __fastcall sgx_disable_split( unsigned char index<acc> );
 3787                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 70; extern void __fastcall __macro disable_all_splits( void );
 3788                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 71; extern void __fastcall __macro sgx_disable_all_splits( void );
 3789                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 73; #asm
 3790                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 74; .macro	_disable_all_splits
 3791                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 75; ldy	#HUCC_PCE_SPLITS - 1
 3792                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 76; !loop:		tya
 3793                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 77; call	_disable_split.1
 3794                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 78; dey
 3795                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 79; bpl	!loop-
 3796                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 80; .endm
 3797                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 82; .macro	_sgx_disable_all_splits
 3798                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 83; ldy	#HUCC_SGX_SPLITS - 1
 3799                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 84; !loop:		tya
 3800                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 85; call	_sgx_disable_split.1
 3801                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 86; dey
 3802                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 87; bpl	!loop-
 3803                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 88; .endm
 3804                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 89; #endasm
 3805                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 91; #endif // __HUCC__
 3806                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 93; #endif // _hucc_scroll_h
 3807                        		.dbg	line,	"include\routines_INTRO.c", 3; #include "hucc-chrmap.h"
 3808                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 1; #ifndef _hucc_chrmap_h
 3809                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 2; #define _hucc_chrmap_h
 3810                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 4; /****************************************************************************
 3811                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 5; ; ***************************************************************************
 3812                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 6; ;
 3813                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 7; ; hucc-chrmap.h
 3814                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 8; ;
 3815                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 9; ; A simple map system based on 8x8 characters (aka "tiles") in BAT format.
 3816                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 10; ;
 3817                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 11; ; Copyright John Brandwood 2025.
 3818                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 12; ;
 3819                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 3820                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 3821                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 3822                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 16; ;
 3823                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 17; ; ***************************************************************************
 3824                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 18; ; ***************************************************************************
 3825                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 19; ;
 3826                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 20; ; The maximum X and Y size for chrmaps is 256 characters (2048 pixels).
 3827                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 21; ;
 3828                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 22; ; The maximum total size for a chrmap is 16KBytes, which allows for maps up
 3829                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 23; ; to 256x32 tiles (2048x256 pixels).
 3830                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 24; ;
 3831                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 25; ; ***************************************************************************
 3832                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 26; ; **************************************************************************/
 3833                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 28; // *************
 3834                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 29; // This code extends the blkmap library ...
 3835                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 30; // *************
 3836                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 32; #include "hucc-blkmap.h"
 3837                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 34; // *************
 3838                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 35; // Functions in chrmap.asm ...
 3839                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 36; // *************
 3840                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 38; #ifdef __HUCC__
 3841                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 40; #asmdef	HUCC_USES_CHRMAP 1
 3842                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 42; extern void __fastcall __nop set_chrmap( unsigned char __far *chrmap<vdc_map_bank:vdc_map_addr>, unsigned char tiles_w<vdc_map_line_w> );
 3843                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 44; extern void __fastcall draw_bat( void );
 3844                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 45; extern void __fastcall scroll_bat( void );
 3845                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 47; extern void __fastcall blit_bat( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 3846                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 49; #ifdef _SGX
 3847                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 51; extern void __fastcall __nop sgx_set_chrmap( unsigned char __far *chrmap<sgx_map_bank:sgx_map_addr>, unsigned char tiles_w<sgx_map_line_w> );
 3848                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 53; extern void __fastcall sgx_draw_bat( void );
 3849                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 54; extern void __fastcall sgx_scroll_bat( void );
 3850                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 56; extern void __fastcall sgx_blit_bat( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 3851                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 58; #endif
 3852                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 60; #endif // __HUCC__
 3853                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 62; #endif // _hucc_chrmap_h
 3854                        		.dbg	line,	"include\routines_INTRO.c", 4; #include "hucc-blkmap.h"
 3855                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 1; #ifndef _hucc_blkmap_h
 3856                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 2; #define _hucc_blkmap_h
 3857                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 4; /****************************************************************************
 3858                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 5; ; ***************************************************************************
 3859                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 6; ;
 3860                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 7; ; hucc-blkmap.h
 3861                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 8; ;
 3862                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 9; ; A map system based on 16x16 meta-tiles (aka "blocks", aka CHR/BLK/MAP).
 3863                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 10; ;
 3864                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 11; ; Copyright John Brandwood 2025.
 3865                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 12; ;
 3866                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 3867                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 3868                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 3869                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 16; ;
 3870                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 17; ; ***************************************************************************
 3871                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 18; ; ***************************************************************************
 3872                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 19; ;
 3873                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 20; ; The maximum X and Y size for blkmaps is 128 blocks (2048 pixels).
 3874                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 21; ;
 3875                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 22; ; The maximum total size for a blkmap is 16KBytes, which allows for maps up
 3876                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 23; ; to 128x128 blocks (2048x2048 pixels).
 3877                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 24; ;
 3878                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 25; ; Huge multi-screen blkmaps are also supported (optionally).
 3879                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 26; ;
 3880                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 27; ; The maximum X and Y for multi-screen maps is 128 screens (32768 pixels).
 3881                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 28; ;
 3882                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 29; ; The maximum total size for a multi-screen map is 8KBytes, which allows for
 3883                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 30; ; a total of 1024 screens.
 3884                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 31; ;
 3885                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 32; ; ***************************************************************************
 3886                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 33; ; **************************************************************************/
 3887                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 35; // *************
 3888                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 36; // Functions in blkmap.asm ...
 3889                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 37; // *************
 3890                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 39; #ifdef __HUCC__
 3891                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 41; #asmdef	HUCC_USES_BLKMAP 1
 3892                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 43; // Current top-left of drawn map in pixels.
 3893                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 44; extern unsigned int   vdc_map_pxl_x;
 3894                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 45; extern unsigned int   vdc_map_pxl_y;
 3895                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 47; // Width and height to draw/scroll in characters (not tiles).
 3896                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 48; extern unsigned char  vdc_map_draw_w;
 3897                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 49; extern unsigned char  vdc_map_draw_h;
 3898                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 51; // Width of map (or multi-screen BAT) in tiles.
 3899                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 52; extern unsigned char  vdc_map_line_w;
 3900                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 54; // Width of map in screens (if multi-screen map).
 3901                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 55; extern unsigned char  vdc_map_scrn_w;
 3902                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 57; // Extra information returned by get_map_block() and sgx_get_map_block(),
 3903                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 58; // which are the collision flags and the mask/overlay sprite for the BLK.
 3904                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 59; extern unsigned char  map_blk_flag;
 3905                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 60; extern unsigned char  map_blk_mask;
 3906                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 62; extern unsigned char  vdc_scr_bank;
 3907                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 63; extern unsigned char *vdc_scr_addr;
 3908                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 65; extern unsigned char  vdc_map_bank;
 3909                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 66; extern unsigned char *vdc_map_addr;
 3910                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 68; extern unsigned char  vdc_blk_bank;
 3911                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 69; extern unsigned char *vdc_blk_addr;
 3912                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 71; extern unsigned char  vdc_tbl_bank;
 3913                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 72; extern unsigned char *vdc_tbl_addr;
 3914                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 74; extern void __fastcall set_blocks( unsigned char __far *blk_def<vdc_blk_bank:vdc_blk_addr>, unsigned char __far *flg_def<vdc_tbl_bank:vdc_tbl_addr>, unsigned char number_of_blocks<_al> );
 3915                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 75; extern void __fastcall __macro set_blkmap( unsigned char __far *blk_map<vdc_map_bank:vdc_map_addr>, unsigned char blocks_w<vdc_map_line_w> );
 3916                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 76; extern void __fastcall __macro set_multimap( unsigned char __far *multi_map<vdc_scr_bank:vdc_scr_addr>, unsigned char screens_w<vdc_map_scrn_w> );
 3917                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 78; extern void __fastcall draw_map( void );
 3918                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 79; extern void __fastcall scroll_map( void );
 3919                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 81; extern void __fastcall blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 3920                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 83; extern unsigned char __fastcall get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
 3921                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 85; #asm
 3922                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 86; .macro	_set_blkmap.2
 3923                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 87; stz	vdc_scr_bank
 3924                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 88; .endm
 3925                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 90; .macro	_set_multimap.2
 3926                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 91; lda	vdc_bat_width
 3927                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 92; lsr	a
 3928                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 93; sta	vdc_map_line_w
 3929                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 94; .endm
 3930                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 96; .macro	SCREEN
 3931                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 97; db	(((\1) & $1FFF) | $6000) >> 8, bank(\1)
 3932                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 98; db	(((\2) & $1FFF) | $4000) >> 8, bank(\2)
 3933                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 99; db	(((\3) & $1FFF) | $6000) >> 8, bank(\3)
 3934                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 100; dw	(\4)
 3935                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 101; .endm
 3936                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 102; #endasm
 3937                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 104; #ifdef _SGX
 3938                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 106; // Current top-left of drawn map in pixels.
 3939                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 107; extern unsigned int   sgx_map_pxl_x;
 3940                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 108; extern unsigned int   sgx_map_pxl_y;
 3941                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 110; // Width and height to draw/scroll in characters (not tiles).
 3942                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 111; extern unsigned char  sgx_map_draw_w;
 3943                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 112; extern unsigned char  sgx_map_draw_h;
 3944                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 114; // Width of map (or multi-screen BAT) in tiles.
 3945                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 115; extern unsigned char  sgx_map_line_w;
 3946                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 117; // Width of map in screens (if multi-screen map).
 3947                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 118; extern unsigned char  sgx_map_scrn_w;
 3948                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 120; extern unsigned char  sgx_scr_bank;
 3949                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 121; extern unsigned char *sgx_scr_addr;
 3950                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 123; extern unsigned char  sgx_map_bank;
 3951                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 124; extern unsigned char *sgx_map_addr;
 3952                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 126; extern unsigned char  sgx_blk_bank;
 3953                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 127; extern unsigned char *sgx_blk_addr;
 3954                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 129; extern unsigned char  sgx_tbl_bank;
 3955                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 130; extern unsigned char *sgx_tbl_addr;
 3956                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 132; extern void __fastcall sgx_set_blocks( unsigned char __far *blk_def<sgx_blk_bank:sgx_blk_addr>, unsigned char __far *flg_def<sgx_tbl_bank:sgx_tbl_addr>, unsigned char number_of_blocks<_al> );
 3957                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 133; extern void __fastcall __macro sgx_set_blkmap( unsigned char __far *blk_map<sgx_map_bank:sgx_map_addr>, unsigned char blocks_w<sgx_map_line_w> );
 3958                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 134; extern void __fastcall __macro sgx_set_multimap( unsigned char __far *multi_map<sgx_scr_bank:sgx_scr_addr>, unsigned char screens_w<sgx_map_scrn_w> );
 3959                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 136; extern void __fastcall sgx_draw_map( void );
 3960                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 137; extern void __fastcall sgx_scroll_map( void );
 3961                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 139; extern void __fastcall sgx_blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 3962                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 141; extern unsigned char __fastcall sgx_get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
 3963                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 143; #asm
 3964                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 144; .macro	_sgx_set_blkmap.2
 3965                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 145; stz	sgx_scr_bank
 3966                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 146; .endm
 3967                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 148; .macro	_sgx_set_multimap.2
 3968                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 149; lda	sgx_bat_width
 3969                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 150; lsr	a
 3970                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 151; sta	sgx_map_line_w
 3971                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 152; .endm
 3972                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 153; #endasm
 3973                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 155; #endif
 3974                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 157; #endif // __HUCC__
 3975                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 159; #endif // _hucc_blkmap_h
 3976                        		.dbg	line,	"include\routines_INTRO.c", 13; void joypad_BUTTONS_INTRO()
 3977                        		.dbg	line,	"include\routines_INTRO.c", 14; {
 3978                        	;***********************
 3979                        	;***********************
 3980                        	
 3981                        		.hucc
 3982    20:C0B8             		.proc		_joypad_BUTTONS_INTRO
 3983                        		__enter		_joypad_BUTTONS_INTRO
 3984                        	
 3985                        		.dbg	line,	"include\routines_INTRO.c", 15; if(joytrg(JOYPAD_1) & JOY_I || joytrg(JOYPAD_1) & JOY_II || joytrg(JOYPAD_1) & JOY_RUN)
 3986                        		__ld.uiq	0
         20:C0B8  62         			cla
 3987                        		 _joytrg.1
         20:C0B9  AA         			tax
         20:C0BA  BD 2D 22   			lda	joytrg, x
         20:C0BD  BC DD 22   			ldy	joy6trg, x
 3988                        		__tand.wi	1
         20:C0C0  29 01      			and	#1
         20:C0C2  C9 01      	!:		cmp	#1
 3989                        		__btrue		.LL4
         20:C0C4  B0 0C      			bcs	.LL4
 3990                        		__ld.uiq	0
         20:C0C6  62         			cla
 3991                        		 _joytrg.1
         20:C0C7  AA         			tax
         20:C0C8  BD 2D 22   			lda	joytrg, x
         20:C0CB  BC DD 22   			ldy	joy6trg, x
 3992                        		__tand.wi	2
         20:C0CE  29 02      			and	#2
         20:C0D0  C9 01      	!:		cmp	#1
 3993    20:C0D2             	.LL4:
 3994                        		__btrue		.LL5
         20:C0D2  B0 0C      			bcs	.LL5
 3995                        		__ld.uiq	0
         20:C0D4  62         			cla
 3996                        		 _joytrg.1
         20:C0D5  AA         			tax
         20:C0D6  BD 2D 22   			lda	joytrg, x
         20:C0D9  BC DD 22   			ldy	joy6trg, x
 3997                        		__tand.wi	8
         20:C0DC  29 08      			and	#8
         20:C0DE  C9 01      	!:		cmp	#1
 3998    20:C0E0             	.LL5:
 3999                        		__bfalse	.LL3
         20:C0E0  90 0B      			bcc	.LL3
 4000                        	
 4001                        		.dbg	line,	"include\routines_INTRO.c", 16; {
 4002                        	
 4003                        		.dbg	line,	"include\routines_INTRO.c", 17; // DISABLE DISPLAY //
 4004                        	
 4005                        		.dbg	line,	"include\routines_INTRO.c", 18; disp_off();
 4006                        		__call		_disp_off
         20:C0E2  20 3D E4   			call	_disp_off
 4007                        	
 4008                        		.dbg	line,	"include\routines_INTRO.c", 20; sequence_loaded = FALSE;
 4009                        		__st.umiq	0, _sequence_loaded
         20:C0E5  9C 15 23   			stz	_sequence_loaded
 4010                        	
 4011                        		.dbg	line,	"include\routines_INTRO.c", 22; sequence_id = SEQUENCE_LEVEL;
 4012                        		__st.umiq	2, _sequence_id
         20:C0E8  A9 02      			lda.l	#2
         20:C0EA  8D 14 23   			sta	_sequence_id
 4013                        	
 4014                        		.dbg	line,	"include\routines_INTRO.c", 23; }
 4015                        	
 4016                        		.dbg	line,	"include\routines_INTRO.c", 24; }
 4017    20:C0ED             	.LL3:
 4018    20:C0ED             	.LL2:
 4019                        		__return	0
         20:C0ED  4C EF FF   			jmp	leave_proc
 4020                        		.dbg	clear
 4021                        		.endp
 4022                        		.pceas
 4023                        	
 4024                        		.dbg	line,	"include\routines_INTRO.c", 29; void sequence_INTRO()
 4025                        		.dbg	line,	"include\routines_INTRO.c", 30; {
 4026                        	;***********************
 4027                        	;***********************
 4028                        	
 4029                        		.hucc
 4030    02:C000             		.proc		_sequence_INTRO
 4031                        		__enter		_sequence_INTRO
 4032                        	
 4033                        		.dbg	line,	"include\routines_INTRO.c", 31; //--------------------------------------------------------------------------------------//
 4034                        	
 4035                        		.dbg	line,	"include\routines_INTRO.c", 32; //                                    PALETTE FADING                                    //
 4036                        	
 4037                        		.dbg	line,	"include\routines_INTRO.c", 33; //--------------------------------------------------------------------------------------//
 4038                        	
 4039                        		.dbg	line,	"include\routines_INTRO.c", 35; char i;
 4040                        	
 4041                        		.dbg	line,	"include\routines_INTRO.c", 38; if(global_counter > 0 && global_counter < 43)
 4042                        		__ld.wm		_global_counter
         02:C000  AD 5B 26   			lda.l	_global_counter
         02:C003  AC 5C 26   			ldy.h	_global_counter
 4043                        		__sgt_w.wi	0
         02:C006  18         			clc			; Subtract integer+1 from Y:A.
         02:C007  E9 00      			sbc.l	#0
         02:C009  98         			tya
         02:C00A  E9 00      			sbc.h	#0
         02:C00C  50 02      			bvc	!+
         02:C00E  49 80      			eor	#$80		; +ve if Y:A > integer (signed).
         02:C010  49 80      	!:		eor	#$80
         02:C012  0A         			asl	a
 4044                        		__bfalse	.LL8
         02:C013  90 10      			bcc	.LL8
 4045                        		__ld.wm		_global_counter
         02:C015  AD 5B 26   			lda.l	_global_counter
         02:C018  AC 5C 26   			ldy.h	_global_counter
 4046                        		__slt_w.wi	43
         02:C01B  C9 2B      			cmp.l	#43		; Subtract integer from Y:A.
         02:C01D  98         			tya
         02:C01E  E9 00      			sbc.h	#43
         02:C020  50 02      			bvc	!+
         02:C022  49 80      			eor	#$80		; -ve if Y:A < integer (signed).
         02:C024  0A         	!:		asl	a
 4047    02:C025             	.LL8:
 4048                        		__bfalse	.LL7
         02:C025  B0 03 4C BE			bcc	.LL7
         02:C029  C0          
 4049                        	
 4050                        		.dbg	line,	"include\routines_INTRO.c", 39; {
 4051                        	
 4052                        		.dbg	line,	"include\routines_INTRO.c", 40; if(global_counter%6 == FALSE)
 4053                        		__ld.wm		_global_counter
         02:C02A  AD 5B 26   			lda.l	_global_counter
         02:C02D  AC 5C 26   			ldy.h	_global_counter
 4054                        		__smod.wi	6
         02:C030  A2 06      			ldx.l	#6
         02:C032  86 00      			stx.l	<divisor
         02:C034  A2 00      			ldx.h	#6
         02:C036  86 01      			stx.h	<divisor
         02:C038  20 CB E4   			jsr	__modsint
 4055                        		__not.wr
         02:C03B  84 00      			sty	__temp
         02:C03D  05 00      			ora	__temp
         02:C03F  18         			clc
         02:C040  D0 01      			bne	!+
         02:C042  38         			sec
         02:C043             	!:
 4056                        		__bfalse	.LL9
         02:C043  90 79      			bcc	.LL9
 4057                        	
 4058                        		.dbg	line,	"include\routines_INTRO.c", 41; {
 4059                        	
 4060                        		.dbg	line,	"include\routines_INTRO.c", 42; read_palette( 0, 1, palette_buffer );
 4061                        		__st.umiq	0, _al
         02:C045  64 F8      			stz	_al
 4062                        		__st.umiq	1, _ah
         02:C047  A9 01      			lda.l	#1
         02:C049  85 F9      			sta	_ah
 4063                        		__ld.wi		_palette_buffer
         02:C04B  A9 79      			lda.l	#_palette_buffer
         02:C04D  A0 26      			ldy.h	#_palette_buffer
 4064                        		__st.wmq	_di
         02:C04F  85 F0      			sta.l	_di
         02:C051  84 F1      			sty.h	_di
 4065                        		__call		_read_palette.3
         02:C053  20 9F FF   			call	_read_palette.3
 4066                        	
 4067                        		.dbg	line,	"include\routines_INTRO.c", 44; cross_fade_to(palette_INTRO_2 , palette_buffer , 16 , palette_step);
 4068                        		__farptr	_palette_INTRO_2, _bp_bank, _bp
         02:C056  A9 E0      			lda.l	#$6000 + ($1FFF & (_palette_INTRO_2))
         02:C058  85 EC      			sta.l	_bp
         02:C05A  A9 78      			lda.h	#$6000 + ($1FFF & (_palette_INTRO_2))
         02:C05C  85 ED      			sta.h	_bp
         02:C05E  A9 06      			lda	#bank(_palette_INTRO_2)
         02:C060  85 02      			sta	_bp_bank
 4069                        		__ld.wi		_palette_buffer
         02:C062  A9 79      			lda.l	#_palette_buffer
         02:C064  A0 26      			ldy.h	#_palette_buffer
 4070                        		__st.wmq	_di
         02:C066  85 F0      			sta.l	_di
         02:C068  84 F1      			sty.h	_di
 4071                        		__st.umiq	16, _al
         02:C06A  A9 10      			lda.l	#16
         02:C06C  85 F8      			sta	_al
 4072                        		__ld.um		_palette_step
         02:C06E  AD 00 24   			lda	_palette_step
         02:C071  C2         			cly
 4073                        		__st.umq	_ah
         02:C072  85 F9      			sta	_ah
 4074                        		 _cross_fade_to.4
         02:C074  A4 02      			ldy	<_bp_bank
         02:C076  20 95 FF   			call	cross_fade_to
 4075                        	
 4076                        		.dbg	line,	"include\routines_INTRO.c", 45; cross_fade_to(palette_INTRO_2 , palette_buffer , 16 , palette_step+1);
 4077                        		__farptr	_palette_INTRO_2, _bp_bank, _bp
         02:C079  A9 E0      			lda.l	#$6000 + ($1FFF & (_palette_INTRO_2))
         02:C07B  85 EC      			sta.l	_bp
         02:C07D  A9 78      			lda.h	#$6000 + ($1FFF & (_palette_INTRO_2))
         02:C07F  85 ED      			sta.h	_bp
         02:C081  A9 06      			lda	#bank(_palette_INTRO_2)
         02:C083  85 02      			sta	_bp_bank
 4078                        		__ld.wi		_palette_buffer
         02:C085  A9 79      			lda.l	#_palette_buffer
         02:C087  A0 26      			ldy.h	#_palette_buffer
 4079                        		__st.wmq	_di
         02:C089  85 F0      			sta.l	_di
         02:C08B  84 F1      			sty.h	_di
 4080                        		__st.umiq	16, _al
         02:C08D  A9 10      			lda.l	#16
         02:C08F  85 F8      			sta	_al
 4081                        		__ld.um		_palette_step
         02:C091  AD 00 24   			lda	_palette_step
         02:C094  C2         			cly
 4082                        		__add.wi	1
         02:C095  1A         			inc	a
         02:C096  D0 01      			bne	!+
         02:C098  C8         			iny
         02:C099             	!:
 4083                        		__st.umq	_ah
         02:C099  85 F9      			sta	_ah
 4084                        		 _cross_fade_to.4
         02:C09B  A4 02      			ldy	<_bp_bank
         02:C09D  20 95 FF   			call	cross_fade_to
 4085                        	
 4086                        		.dbg	line,	"include\routines_INTRO.c", 47; load_palette( 0, palette_buffer, 1 );
 4087                        		__st.umiq	0, _al
         02:C0A0  64 F8      			stz	_al
 4088                        		__farptr	_palette_buffer, _bp_bank, _bp
         02:C0A2  A9 79      			lda.l	#$6000 + ($1FFF & (_palette_buffer))
         02:C0A4  85 EC      			sta.l	_bp
         02:C0A6  A9 66      			lda.h	#$6000 + ($1FFF & (_palette_buffer))
         02:C0A8  85 ED      			sta.h	_bp
         02:C0AA  A9 F8      			lda	#bank(_palette_buffer)
         02:C0AC  85 02      			sta	_bp_bank
 4089                        		__st.umiq	1, _ah
         02:C0AE  A9 01      			lda.l	#1
         02:C0B0  85 F9      			sta	_ah
 4090                        		__call		_load_palette.3
         02:C0B2  20 8B FF   			call	_load_palette.3
 4091                        	
 4092                        		.dbg	line,	"include\routines_INTRO.c", 49; palette_step += 2;
 4093                        		__add_st.umiq	2, _palette_step
         02:C0B5  18         			clc
         02:C0B6  AD 00 24   			lda	_palette_step
         02:C0B9  69 02      			adc	#2
         02:C0BB  8D 00 24   			sta	_palette_step
 4094                        	
 4095                        		.dbg	line,	"include\routines_INTRO.c", 50; }
 4096                        	
 4097                        		.dbg	line,	"include\routines_INTRO.c", 51; }
 4098    02:C0BE             	.LL9:
 4099                        	
 4100                        		.dbg	line,	"include\routines_INTRO.c", 52; 
 4101                        	
 4102                        		.dbg	line,	"include\routines_INTRO.c", 53; 
 4103                        	
 4104                        		.dbg	line,	"include\routines_INTRO.c", 55; //--------------------------------------------------------------------------------------//
 4105                        	
 4106                        		.dbg	line,	"include\routines_INTRO.c", 56; //                                     MOVE DRAGON                                      //
 4107                        	
 4108                        		.dbg	line,	"include\routines_INTRO.c", 57; //--------------------------------------------------------------------------------------//
 4109                        	
 4110                        		.dbg	line,	"include\routines_INTRO.c", 59; if(global_counter < 50)
 4111    02:C0BE             	.LL7:
 4112                        		__ld.wm		_global_counter
         02:C0BE  AD 5B 26   			lda.l	_global_counter
         02:C0C1  AC 5C 26   			ldy.h	_global_counter
 4113                        		__slt_w.wi	50
         02:C0C4  C9 32      			cmp.l	#50		; Subtract integer from Y:A.
         02:C0C6  98         			tya
         02:C0C7  E9 00      			sbc.h	#50
         02:C0C9  50 02      			bvc	!+
         02:C0CB  49 80      			eor	#$80		; -ve if Y:A < integer (signed).
         02:C0CD  0A         	!:		asl	a
 4114                        		__bfalse	.LL10
         02:C0CE  B0 03 4C E0			bcc	.LL10
         02:C0D2  C2          
 4115                        	
 4116                        		.dbg	line,	"include\routines_INTRO.c", 60; {
 4117                        	
 4118                        		.dbg	line,	"include\routines_INTRO.c", 61; player_pos_x -= 1;
 4119                        		__sub_st.wmiq	1, _player_pos_x
         02:C0D3  AD 01 25   			lda.l	_player_pos_x
         02:C0D6  D0 03      			bne	!+
         02:C0D8  CE 02 25   			dec.h	_player_pos_x
         02:C0DB  CE 01 25   	!:		dec.l	_player_pos_x
 4120                        	
 4121                        		.dbg	line,	"include\routines_INTRO.c", 62; player_pos_y -= 1;
 4122                        		__sub_st.wmiq	1, _player_pos_y
         02:C0DE  AD 03 25   			lda.l	_player_pos_y
         02:C0E1  D0 03      			bne	!+
         02:C0E3  CE 04 25   			dec.h	_player_pos_y
         02:C0E6  CE 03 25   	!:		dec.l	_player_pos_y
 4123                        	
 4124                        		.dbg	line,	"include\routines_INTRO.c", 63; 
 4125                        	
 4126                        		.dbg	line,	"include\routines_INTRO.c", 64; for(i=0 ; i<8 ; i++)
 4127                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         02:C0E9  9C 2D 2C   			stz	__sequence_INTRO_end - 1
 4128    02:C0EC             	.LL11:
 4129                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:C0EC  AD 2D 2C   			lda	__sequence_INTRO_end - 1
 4130                        		__ult_b.uiq	8
         02:C0EF  C9 08      			cmp	#8		; Subtract integer from A.
         02:C0F1  6A         			ror	a		; CC if A < integer.
         02:C0F2  49 80      			eor	#$80
         02:C0F4  2A         			rol	a
 4131                        		__btrue		.LL13
         02:C0F5  B0 07      			bcs	.LL13
 4132                        		__bra		.LL14
         02:C0F7  80 62      			bra	.LL14
 4133    02:C0F9             	.LL12:
 4134                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         02:C0F9  EE 2D 2C   			inc	__sequence_INTRO_end - 1
 4135                        		__bra		.LL11
         02:C0FC  80 EE      			bra	.LL11
 4136    02:C0FE             	.LL13:
 4137                        	
 4138                        		.dbg	line,	"include\routines_INTRO.c", 65; {
 4139                        	
 4140                        		.dbg	line,	"include\routines_INTRO.c", 66; sgx_spr_set(i);
 4141                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:C0FE  AD 2D 2C   			lda	__sequence_INTRO_end - 1
 4142                        		__call		_sgx_spr_set.1
         02:C101  20 9E E8   			call	_sgx_spr_set.1
 4143                        	
 4144                        		.dbg	line,	"include\routines_INTRO.c", 67; sgx_spr_x(player_pos_x + (i<<5) - ((i>>2)<<7));
 4145                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         02:C104  AD 2D 2C   			lda	__sequence_INTRO_end - 1
         02:C107  C2         			cly
 4146                        		__asl.wi	5
         02:C108  85 00      			sta	__temp
         02:C10A  98         			tya
         02:C10B  4A         			lsr	a
         02:C10C  20 C8 E1   			jsr	aslw5
         02:C10F  29 E0      			and.l	#$FF << 5
 4147                        		__add.wm	_player_pos_x
         02:C111  18         			clc
         02:C112  6D 01 25   			adc.l	_player_pos_x
         02:C115  42         			say
         02:C116  6D 02 25   			adc.h	_player_pos_x
         02:C119  42         			say
 4148                        		__push.wr
         02:C11A  5A         			phy
         02:C11B  48         			pha
 4149                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         02:C11C  AD 2D 2C   			lda	__sequence_INTRO_end - 1
         02:C11F  C2         			cly
 4150                        		__lsr.uiq	2
         02:C120  4A         			lsr	a
         02:C121  4A         			lsr	a
 4151                        		__asl.wi	7
         02:C122  42         			say
         02:C123  4A         			lsr	a
         02:C124  42         			say
         02:C125  6A         			ror	a
         02:C126  42         			say
         02:C127  6A         			ror	a
         02:C128  29 80      			and	#$80
 4152                        		__sub.wt
         02:C12A  BA         			tsx
         02:C12B  38         			sec
         02:C12C  49 FF      			eor	#$FF
         02:C12E  7D 01 21   			adc.l	__tos, x
         02:C131  42         			say
         02:C132  49 FF      			eor	#$FF
         02:C134  7D 02 21   			adc.h	__tos, x
         02:C137  42         			say
         02:C138  E8         			inx
         02:C139  E8         			inx
         02:C13A  9A         			txs
 4153                        		__call		_sgx_spr_x.1
         02:C13B  20 CB E8   			call	_sgx_spr_x.1
 4154                        	
 4155                        		.dbg	line,	"include\routines_INTRO.c", 68; sgx_spr_y(player_pos_y + ((i>>2)<<5));
 4156                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         02:C13E  AD 2D 2C   			lda	__sequence_INTRO_end - 1
         02:C141  C2         			cly
 4157                        		__lsr.uiq	2
         02:C142  4A         			lsr	a
         02:C143  4A         			lsr	a
 4158                        		__asl.wi	5
         02:C144  85 00      			sta	__temp
         02:C146  98         			tya
         02:C147  4A         			lsr	a
         02:C148  20 C8 E1   			jsr	aslw5
         02:C14B  29 E0      			and.l	#$FF << 5
 4159                        		__add.wm	_player_pos_y
         02:C14D  18         			clc
         02:C14E  6D 03 25   			adc.l	_player_pos_y
         02:C151  42         			say
         02:C152  6D 04 25   			adc.h	_player_pos_y
         02:C155  42         			say
 4160                        		__call		_sgx_spr_y.1
         02:C156  20 DA E8   			call	_sgx_spr_y.1
 4161                        	
 4162                        		.dbg	line,	"include\routines_INTRO.c", 69; }
 4163                        		__bra		.LL12
         02:C159  80 9E      			bra	.LL12
 4164    02:C15B             	.LL14:
 4165                        	
 4166                        		.dbg	line,	"include\routines_INTRO.c", 71; //--------------------------------------------------------------------------------------//
 4167                        	
 4168                        		.dbg	line,	"include\routines_INTRO.c", 72; //                                    DRAGON PATTERN                                    //
 4169                        	
 4170                        		.dbg	line,	"include\routines_INTRO.c", 73; //--------------------------------------------------------------------------------------//
 4171                        	
 4172                        		.dbg	line,	"include\routines_INTRO.c", 75; if(global_counter == 8)
 4173                        		__ld.wm		_global_counter
         02:C15B  AD 5B 26   			lda.l	_global_counter
         02:C15E  AC 5C 26   			ldy.h	_global_counter
 4174                        		__equ_w.wi	8
         02:C161  C9 08      			cmp.l	#8
         02:C163  D0 04      			bne	!false+
         02:C165  C0 00      			cpy.h	#8
         02:C167  F0 01      			beq	!+
         02:C169  18         	!false:		clc
         02:C16A             	!:
 4175                        		__bfalse	.LL15
         02:C16A  90 31      			bcc	.LL15
 4176                        	
 4177                        		.dbg	line,	"include\routines_INTRO.c", 76; {
 4178                        	
 4179                        		.dbg	line,	"include\routines_INTRO.c", 77; for(i=0 ; i<8 ; i++)
 4180                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         02:C16C  9C 2D 2C   			stz	__sequence_INTRO_end - 1
 4181    02:C16F             	.LL16:
 4182                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:C16F  AD 2D 2C   			lda	__sequence_INTRO_end - 1
 4183                        		__ult_b.uiq	8
         02:C172  C9 08      			cmp	#8		; Subtract integer from A.
         02:C174  6A         			ror	a		; CC if A < integer.
         02:C175  49 80      			eor	#$80
         02:C177  2A         			rol	a
 4184                        		__btrue		.LL18
         02:C178  B0 08      			bcs	.LL18
 4185                        		__bra		.LL19
         02:C17A  4C E0 C2   			bra	.LL19
 4186    02:C17D             	.LL17:
 4187                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         02:C17D  EE 2D 2C   			inc	__sequence_INTRO_end - 1
 4188                        		__bra		.LL16
         02:C180  80 ED      			bra	.LL16
 4189    02:C182             	.LL18:
 4190                        	
 4191                        		.dbg	line,	"include\routines_INTRO.c", 78; {
 4192                        	
 4193                        		.dbg	line,	"include\routines_INTRO.c", 79; sgx_spr_set(i);
 4194                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:C182  AD 2D 2C   			lda	__sequence_INTRO_end - 1
 4195                        		__call		_sgx_spr_set.1
         02:C185  20 9E E8   			call	_sgx_spr_set.1
 4196                        	
 4197                        		.dbg	line,	"include\routines_INTRO.c", 80; sgx_spr_pattern(DRAGON_INTRO_VRAM_ADR + (i*TILES_16) + TILES_128);
 4198                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         02:C188  AD 2D 2C   			lda	__sequence_INTRO_end - 1
         02:C18B  C2         			cly
 4199                        		__asl.wi	8
         02:C18C  A8         			tay
         02:C18D  62         			cla
 4200                        		__add.wi	13312
         02:C18E  18         			clc
         02:C18F  69 00      			adc.l	#13312
         02:C191  42         			say
         02:C192  69 34      			adc.h	#13312
         02:C194  42         			say
 4201                        		__call		_sgx_spr_pattern.1
         02:C195  20 E7 E8   			call	_sgx_spr_pattern.1
 4202                        	
 4203                        		.dbg	line,	"include\routines_INTRO.c", 81; }
 4204                        		__bra		.LL17
         02:C198  80 E3      			bra	.LL17
 4205    02:C19A             	.LL19	.alias		.LL20
 4206                        	
 4207                        		.dbg	line,	"include\routines_INTRO.c", 82; }
 4208                        	
 4209                        		.dbg	line,	"include\routines_INTRO.c", 84; else if(global_counter == 16)
 4210                        		__bra		.LL20
         02:C19A  4C E0 C2   			bra	.LL20
 4211    02:C19D             	.LL15:
 4212                        		__ld.wm		_global_counter
         02:C19D  AD 5B 26   			lda.l	_global_counter
         02:C1A0  AC 5C 26   			ldy.h	_global_counter
 4213                        		__equ_w.wi	16
         02:C1A3  C9 10      			cmp.l	#16
         02:C1A5  D0 04      			bne	!false+
         02:C1A7  C0 00      			cpy.h	#16
         02:C1A9  F0 01      			beq	!+
         02:C1AB  18         	!false:		clc
         02:C1AC             	!:
 4214                        		__bfalse	.LL21
         02:C1AC  90 31      			bcc	.LL21
 4215                        	
 4216                        		.dbg	line,	"include\routines_INTRO.c", 85; {
 4217                        	
 4218                        		.dbg	line,	"include\routines_INTRO.c", 86; for(i=0 ; i<8 ; i++)
 4219                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         02:C1AE  9C 2D 2C   			stz	__sequence_INTRO_end - 1
 4220    02:C1B1             	.LL22:
 4221                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:C1B1  AD 2D 2C   			lda	__sequence_INTRO_end - 1
 4222                        		__ult_b.uiq	8
         02:C1B4  C9 08      			cmp	#8		; Subtract integer from A.
         02:C1B6  6A         			ror	a		; CC if A < integer.
         02:C1B7  49 80      			eor	#$80
         02:C1B9  2A         			rol	a
 4223                        		__btrue		.LL24
         02:C1BA  B0 08      			bcs	.LL24
 4224                        		__bra		.LL25
         02:C1BC  4C E0 C2   			bra	.LL25
 4225    02:C1BF             	.LL23:
 4226                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         02:C1BF  EE 2D 2C   			inc	__sequence_INTRO_end - 1
 4227                        		__bra		.LL22
         02:C1C2  80 ED      			bra	.LL22
 4228    02:C1C4             	.LL24:
 4229                        	
 4230                        		.dbg	line,	"include\routines_INTRO.c", 87; {
 4231                        	
 4232                        		.dbg	line,	"include\routines_INTRO.c", 88; sgx_spr_set(i);
 4233                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:C1C4  AD 2D 2C   			lda	__sequence_INTRO_end - 1
 4234                        		__call		_sgx_spr_set.1
         02:C1C7  20 9E E8   			call	_sgx_spr_set.1
 4235                        	
 4236                        		.dbg	line,	"include\routines_INTRO.c", 89; sgx_spr_pattern(DRAGON_INTRO_VRAM_ADR + (i*TILES_16) + TILES_256);
 4237                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         02:C1CA  AD 2D 2C   			lda	__sequence_INTRO_end - 1
         02:C1CD  C2         			cly
 4238                        		__asl.wi	8
         02:C1CE  A8         			tay
         02:C1CF  62         			cla
 4239                        		__add.wi	15360
         02:C1D0  18         			clc
         02:C1D1  69 00      			adc.l	#15360
         02:C1D3  42         			say
         02:C1D4  69 3C      			adc.h	#15360
         02:C1D6  42         			say
 4240                        		__call		_sgx_spr_pattern.1
         02:C1D7  20 E7 E8   			call	_sgx_spr_pattern.1
 4241                        	
 4242                        		.dbg	line,	"include\routines_INTRO.c", 90; }
 4243                        		__bra		.LL23
         02:C1DA  80 E3      			bra	.LL23
 4244    02:C1DC             	.LL25	.alias		.LL26
 4245                        	
 4246                        		.dbg	line,	"include\routines_INTRO.c", 91; }
 4247                        	
 4248                        		.dbg	line,	"include\routines_INTRO.c", 93; else if(global_counter == 24)
 4249                        		__bra		.LL26
         02:C1DC  4C E0 C2   			bra	.LL26
 4250    02:C1DF             	.LL21:
 4251                        		__ld.wm		_global_counter
         02:C1DF  AD 5B 26   			lda.l	_global_counter
         02:C1E2  AC 5C 26   			ldy.h	_global_counter
 4252                        		__equ_w.wi	24
         02:C1E5  C9 18      			cmp.l	#24
         02:C1E7  D0 04      			bne	!false+
         02:C1E9  C0 00      			cpy.h	#24
         02:C1EB  F0 01      			beq	!+
         02:C1ED  18         	!false:		clc
         02:C1EE             	!:
 4253                        		__bfalse	.LL27
         02:C1EE  90 31      			bcc	.LL27
 4254                        	
 4255                        		.dbg	line,	"include\routines_INTRO.c", 94; {
 4256                        	
 4257                        		.dbg	line,	"include\routines_INTRO.c", 95; for(i=0 ; i<8 ; i++)
 4258                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         02:C1F0  9C 2D 2C   			stz	__sequence_INTRO_end - 1
 4259    02:C1F3             	.LL28:
 4260                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:C1F3  AD 2D 2C   			lda	__sequence_INTRO_end - 1
 4261                        		__ult_b.uiq	8
         02:C1F6  C9 08      			cmp	#8		; Subtract integer from A.
         02:C1F8  6A         			ror	a		; CC if A < integer.
         02:C1F9  49 80      			eor	#$80
         02:C1FB  2A         			rol	a
 4262                        		__btrue		.LL30
         02:C1FC  B0 08      			bcs	.LL30
 4263                        		__bra		.LL31
         02:C1FE  4C E0 C2   			bra	.LL31
 4264    02:C201             	.LL29:
 4265                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         02:C201  EE 2D 2C   			inc	__sequence_INTRO_end - 1
 4266                        		__bra		.LL28
         02:C204  80 ED      			bra	.LL28
 4267    02:C206             	.LL30:
 4268                        	
 4269                        		.dbg	line,	"include\routines_INTRO.c", 96; {
 4270                        	
 4271                        		.dbg	line,	"include\routines_INTRO.c", 97; sgx_spr_set(i);
 4272                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:C206  AD 2D 2C   			lda	__sequence_INTRO_end - 1
 4273                        		__call		_sgx_spr_set.1
         02:C209  20 9E E8   			call	_sgx_spr_set.1
 4274                        	
 4275                        		.dbg	line,	"include\routines_INTRO.c", 98; sgx_spr_pattern(DRAGON_INTRO_VRAM_ADR + (i*TILES_16));
 4276                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         02:C20C  AD 2D 2C   			lda	__sequence_INTRO_end - 1
         02:C20F  C2         			cly
 4277                        		__asl.wi	8
         02:C210  A8         			tay
         02:C211  62         			cla
 4278                        		__add.wi	11264
         02:C212  18         			clc
         02:C213  69 00      			adc.l	#11264
         02:C215  42         			say
         02:C216  69 2C      			adc.h	#11264
         02:C218  42         			say
 4279                        		__call		_sgx_spr_pattern.1
         02:C219  20 E7 E8   			call	_sgx_spr_pattern.1
 4280                        	
 4281                        		.dbg	line,	"include\routines_INTRO.c", 99; }
 4282                        		__bra		.LL29
         02:C21C  80 E3      			bra	.LL29
 4283    02:C21E             	.LL31	.alias		.LL32
 4284                        	
 4285                        		.dbg	line,	"include\routines_INTRO.c", 100; }
 4286                        	
 4287                        		.dbg	line,	"include\routines_INTRO.c", 102; else if(global_counter == 32)
 4288                        		__bra		.LL32
         02:C21E  4C E0 C2   			bra	.LL32
 4289    02:C221             	.LL27:
 4290                        		__ld.wm		_global_counter
         02:C221  AD 5B 26   			lda.l	_global_counter
         02:C224  AC 5C 26   			ldy.h	_global_counter
 4291                        		__equ_w.wi	32
         02:C227  C9 20      			cmp.l	#32
         02:C229  D0 04      			bne	!false+
         02:C22B  C0 00      			cpy.h	#32
         02:C22D  F0 01      			beq	!+
         02:C22F  18         	!false:		clc
         02:C230             	!:
 4292                        		__bfalse	.LL33
         02:C230  90 30      			bcc	.LL33
 4293                        	
 4294                        		.dbg	line,	"include\routines_INTRO.c", 103; {
 4295                        	
 4296                        		.dbg	line,	"include\routines_INTRO.c", 104; for(i=0 ; i<8 ; i++)
 4297                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         02:C232  9C 2D 2C   			stz	__sequence_INTRO_end - 1
 4298    02:C235             	.LL34:
 4299                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:C235  AD 2D 2C   			lda	__sequence_INTRO_end - 1
 4300                        		__ult_b.uiq	8
         02:C238  C9 08      			cmp	#8		; Subtract integer from A.
         02:C23A  6A         			ror	a		; CC if A < integer.
         02:C23B  49 80      			eor	#$80
         02:C23D  2A         			rol	a
 4301                        		__btrue		.LL36
         02:C23E  B0 08      			bcs	.LL36
 4302                        		__bra		.LL37
         02:C240  4C E0 C2   			bra	.LL37
 4303    02:C243             	.LL35:
 4304                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         02:C243  EE 2D 2C   			inc	__sequence_INTRO_end - 1
 4305                        		__bra		.LL34
         02:C246  80 ED      			bra	.LL34
 4306    02:C248             	.LL36:
 4307                        	
 4308                        		.dbg	line,	"include\routines_INTRO.c", 105; {
 4309                        	
 4310                        		.dbg	line,	"include\routines_INTRO.c", 106; sgx_spr_set(i);
 4311                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:C248  AD 2D 2C   			lda	__sequence_INTRO_end - 1
 4312                        		__call		_sgx_spr_set.1
         02:C24B  20 9E E8   			call	_sgx_spr_set.1
 4313                        	
 4314                        		.dbg	line,	"include\routines_INTRO.c", 107; sgx_spr_pattern(DRAGON_INTRO_VRAM_ADR + (i*TILES_16) + TILES_128);
 4315                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         02:C24E  AD 2D 2C   			lda	__sequence_INTRO_end - 1
         02:C251  C2         			cly
 4316                        		__asl.wi	8
         02:C252  A8         			tay
         02:C253  62         			cla
 4317                        		__add.wi	13312
         02:C254  18         			clc
         02:C255  69 00      			adc.l	#13312
         02:C257  42         			say
         02:C258  69 34      			adc.h	#13312
         02:C25A  42         			say
 4318                        		__call		_sgx_spr_pattern.1
         02:C25B  20 E7 E8   			call	_sgx_spr_pattern.1
 4319                        	
 4320                        		.dbg	line,	"include\routines_INTRO.c", 108; }
 4321                        		__bra		.LL35
         02:C25E  80 E3      			bra	.LL35
 4322    02:C260             	.LL37	.alias		.LL38
 4323                        	
 4324                        		.dbg	line,	"include\routines_INTRO.c", 109; }
 4325                        	
 4326                        		.dbg	line,	"include\routines_INTRO.c", 111; else if(global_counter == 40)
 4327                        		__bra		.LL38
         02:C260  80 7E      			bra	.LL38
 4328    02:C262             	.LL33:
 4329                        		__ld.wm		_global_counter
         02:C262  AD 5B 26   			lda.l	_global_counter
         02:C265  AC 5C 26   			ldy.h	_global_counter
 4330                        		__equ_w.wi	40
         02:C268  C9 28      			cmp.l	#40
         02:C26A  D0 04      			bne	!false+
         02:C26C  C0 00      			cpy.h	#40
         02:C26E  F0 01      			beq	!+
         02:C270  18         	!false:		clc
         02:C271             	!:
 4331                        		__bfalse	.LL39
         02:C271  90 2F      			bcc	.LL39
 4332                        	
 4333                        		.dbg	line,	"include\routines_INTRO.c", 112; {
 4334                        	
 4335                        		.dbg	line,	"include\routines_INTRO.c", 113; for(i=0 ; i<8 ; i++)
 4336                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         02:C273  9C 2D 2C   			stz	__sequence_INTRO_end - 1
 4337    02:C276             	.LL40:
 4338                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:C276  AD 2D 2C   			lda	__sequence_INTRO_end - 1
 4339                        		__ult_b.uiq	8
         02:C279  C9 08      			cmp	#8		; Subtract integer from A.
         02:C27B  6A         			ror	a		; CC if A < integer.
         02:C27C  49 80      			eor	#$80
         02:C27E  2A         			rol	a
 4340                        		__btrue		.LL42
         02:C27F  B0 07      			bcs	.LL42
 4341                        		__bra		.LL43
         02:C281  80 5D      			bra	.LL43
 4342    02:C283             	.LL41:
 4343                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         02:C283  EE 2D 2C   			inc	__sequence_INTRO_end - 1
 4344                        		__bra		.LL40
         02:C286  80 EE      			bra	.LL40
 4345    02:C288             	.LL42:
 4346                        	
 4347                        		.dbg	line,	"include\routines_INTRO.c", 114; {
 4348                        	
 4349                        		.dbg	line,	"include\routines_INTRO.c", 115; sgx_spr_set(i);
 4350                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:C288  AD 2D 2C   			lda	__sequence_INTRO_end - 1
 4351                        		__call		_sgx_spr_set.1
         02:C28B  20 9E E8   			call	_sgx_spr_set.1
 4352                        	
 4353                        		.dbg	line,	"include\routines_INTRO.c", 116; sgx_spr_pattern(DRAGON_INTRO_VRAM_ADR + (i*TILES_16) + TILES_256);
 4354                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         02:C28E  AD 2D 2C   			lda	__sequence_INTRO_end - 1
         02:C291  C2         			cly
 4355                        		__asl.wi	8
         02:C292  A8         			tay
         02:C293  62         			cla
 4356                        		__add.wi	15360
         02:C294  18         			clc
         02:C295  69 00      			adc.l	#15360
         02:C297  42         			say
         02:C298  69 3C      			adc.h	#15360
         02:C29A  42         			say
 4357                        		__call		_sgx_spr_pattern.1
         02:C29B  20 E7 E8   			call	_sgx_spr_pattern.1
 4358                        	
 4359                        		.dbg	line,	"include\routines_INTRO.c", 117; }
 4360                        		__bra		.LL41
         02:C29E  80 E3      			bra	.LL41
 4361    02:C2A0             	.LL43	.alias		.LL44
 4362                        	
 4363                        		.dbg	line,	"include\routines_INTRO.c", 118; }
 4364                        	
 4365                        		.dbg	line,	"include\routines_INTRO.c", 120; else if(global_counter == 48)
 4366                        		__bra		.LL44
         02:C2A0  80 3E      			bra	.LL44
 4367    02:C2A2             	.LL39:
 4368                        		__ld.wm		_global_counter
         02:C2A2  AD 5B 26   			lda.l	_global_counter
         02:C2A5  AC 5C 26   			ldy.h	_global_counter
 4369                        		__equ_w.wi	48
         02:C2A8  C9 30      			cmp.l	#48
         02:C2AA  D0 04      			bne	!false+
         02:C2AC  C0 00      			cpy.h	#48
         02:C2AE  F0 01      			beq	!+
         02:C2B0  18         	!false:		clc
         02:C2B1             	!:
 4370                        		__bfalse	.LL45
         02:C2B1  90 2D      			bcc	.LL45
 4371                        	
 4372                        		.dbg	line,	"include\routines_INTRO.c", 121; {
 4373                        	
 4374                        		.dbg	line,	"include\routines_INTRO.c", 122; for(i=0 ; i<8 ; i++)
 4375                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         02:C2B3  9C 2D 2C   			stz	__sequence_INTRO_end - 1
 4376    02:C2B6             	.LL46:
 4377                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:C2B6  AD 2D 2C   			lda	__sequence_INTRO_end - 1
 4378                        		__ult_b.uiq	8
         02:C2B9  C9 08      			cmp	#8		; Subtract integer from A.
         02:C2BB  6A         			ror	a		; CC if A < integer.
         02:C2BC  49 80      			eor	#$80
         02:C2BE  2A         			rol	a
 4379                        		__btrue		.LL48
         02:C2BF  B0 07      			bcs	.LL48
 4380                        		__bra		.LL49
         02:C2C1  80 1D      			bra	.LL49
 4381    02:C2C3             	.LL47:
 4382                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         02:C2C3  EE 2D 2C   			inc	__sequence_INTRO_end - 1
 4383                        		__bra		.LL46
         02:C2C6  80 EE      			bra	.LL46
 4384    02:C2C8             	.LL48:
 4385                        	
 4386                        		.dbg	line,	"include\routines_INTRO.c", 123; {
 4387                        	
 4388                        		.dbg	line,	"include\routines_INTRO.c", 124; sgx_spr_set(i);
 4389                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:C2C8  AD 2D 2C   			lda	__sequence_INTRO_end - 1
 4390                        		__call		_sgx_spr_set.1
         02:C2CB  20 9E E8   			call	_sgx_spr_set.1
 4391                        	
 4392                        		.dbg	line,	"include\routines_INTRO.c", 125; sgx_spr_pattern(DRAGON_INTRO_VRAM_ADR + (i*TILES_16) + TILES_384);
 4393                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         02:C2CE  AD 2D 2C   			lda	__sequence_INTRO_end - 1
         02:C2D1  C2         			cly
 4394                        		__asl.wi	8
         02:C2D2  A8         			tay
         02:C2D3  62         			cla
 4395                        		__add.wi	17408
         02:C2D4  18         			clc
         02:C2D5  69 00      			adc.l	#17408
         02:C2D7  42         			say
         02:C2D8  69 44      			adc.h	#17408
         02:C2DA  42         			say
 4396                        		__call		_sgx_spr_pattern.1
         02:C2DB  20 E7 E8   			call	_sgx_spr_pattern.1
 4397                        	
 4398                        		.dbg	line,	"include\routines_INTRO.c", 126; }
 4399                        		__bra		.LL47
         02:C2DE  80 E3      			bra	.LL47
 4400    02:C2E0             	.LL49:
 4401                        	
 4402                        		.dbg	line,	"include\routines_INTRO.c", 127; }
 4403                        	
 4404                        		.dbg	line,	"include\routines_INTRO.c", 128; }
 4405    02:C2E0             	.LL45:
 4406    02:C2E0             	.LL44:
 4407    02:C2E0             	.LL38:
 4408    02:C2E0             	.LL32:
 4409    02:C2E0             	.LL26:
 4410    02:C2E0             	.LL20:
 4411                        	
 4412                        		.dbg	line,	"include\routines_INTRO.c", 133; //--------------------------------------------------------------------------------------//
 4413                        	
 4414                        		.dbg	line,	"include\routines_INTRO.c", 134; //                                        BOLTS                                         //
 4415                        	
 4416                        		.dbg	line,	"include\routines_INTRO.c", 135; //--------------------------------------------------------------------------------------//
 4417                        	
 4418                        		.dbg	line,	"include\routines_INTRO.c", 137; if(global_counter == 71)
 4419    02:C2E0             	.LL10:
 4420                        		__ld.wm		_global_counter
         02:C2E0  AD 5B 26   			lda.l	_global_counter
         02:C2E3  AC 5C 26   			ldy.h	_global_counter
 4421                        		__equ_w.wi	71
         02:C2E6  C9 47      			cmp.l	#71
         02:C2E8  D0 04      			bne	!false+
         02:C2EA  C0 00      			cpy.h	#71
         02:C2EC  F0 01      			beq	!+
         02:C2EE  18         	!false:		clc
         02:C2EF             	!:
 4422                        		__bfalse	.LL50
         02:C2EF  90 4B      			bcc	.LL50
 4423                        	
 4424                        		.dbg	line,	"include\routines_INTRO.c", 138; {
 4425                        	
 4426                        		.dbg	line,	"include\routines_INTRO.c", 139; load_palette( 0, palette_INTRO_3, 1 );
 4427                        		__st.umiq	0, _al
         02:C2F1  64 F8      			stz	_al
 4428                        		__farptr	_palette_INTRO_3, _bp_bank, _bp
         02:C2F3  A9 E0      			lda.l	#$6000 + ($1FFF & (_palette_INTRO_3))
         02:C2F5  85 EC      			sta.l	_bp
         02:C2F7  A9 7A      			lda.h	#$6000 + ($1FFF & (_palette_INTRO_3))
         02:C2F9  85 ED      			sta.h	_bp
         02:C2FB  A9 06      			lda	#bank(_palette_INTRO_3)
         02:C2FD  85 02      			sta	_bp_bank
 4429                        		__st.umiq	1, _ah
         02:C2FF  A9 01      			lda.l	#1
         02:C301  85 F9      			sta	_ah
 4430                        		__call		_load_palette.3
         02:C303  20 8B FF   			call	_load_palette.3
 4431                        	
 4432                        		.dbg	line,	"include\routines_INTRO.c", 141; vdc_map_pxl_x = 256;
 4433                        		__st.wmiq	256, _vdc_map_pxl_x
         02:C306  9C D4 26   			stz.l	_vdc_map_pxl_x
         02:C309  A9 01      			lda.h	#256
         02:C30B  8D D5 26   			sta.h	_vdc_map_pxl_x
 4434                        	
 4435                        		.dbg	line,	"include\routines_INTRO.c", 142; scroll_split(0,   0, vdc_map_pxl_x & (511), vdc_map_pxl_y & (511), BKG_ON | SPR_ON);
 4436                        		__st.umiq	0, _al
         02:C30E  64 F8      			stz	_al
 4437                        		__st.umiq	0, _ah
         02:C310  64 F9      			stz	_ah
 4438                        		__ld.wm		_vdc_map_pxl_x
         02:C312  AD D4 26   			lda.l	_vdc_map_pxl_x
         02:C315  AC D5 26   			ldy.h	_vdc_map_pxl_x
 4439                        		__and.wi	511
         02:C318  29 FF      			and.l	#511
         02:C31A  42         			say
         02:C31B  29 01      			and.h	#511
         02:C31D  42         			say
 4440                        		__st.wmq	_bx
         02:C31E  85 FA      			sta.l	_bx
         02:C320  84 FB      			sty.h	_bx
 4441                        		__ld.wm		_vdc_map_pxl_y
         02:C322  AD D6 26   			lda.l	_vdc_map_pxl_y
         02:C325  AC D7 26   			ldy.h	_vdc_map_pxl_y
 4442                        		__and.wi	511
         02:C328  29 FF      			and.l	#511
         02:C32A  42         			say
         02:C32B  29 01      			and.h	#511
         02:C32D  42         			say
 4443                        		__st.wmq	_cx
         02:C32E  85 FC      			sta.l	_cx
         02:C330  84 FD      			sty.h	_cx
 4444                        		__st.umiq	192, _dl
         02:C332  A9 C0      			lda.l	#192
         02:C334  85 FE      			sta	_dl
 4445                        		__call		_scroll_split.5
         02:C336  20 81 FF   			call	_scroll_split.5
 4446                        	
 4447                        		.dbg	line,	"include\routines_INTRO.c", 143; }
 4448                        	
 4449                        		.dbg	line,	"include\routines_INTRO.c", 145; else if(global_counter == 76)
 4450                        		__bra		.LL51
         02:C339  4C 24 CF   			bra	.LL51
 4451    02:C33C             	.LL50:
 4452                        		__ld.wm		_global_counter
         02:C33C  AD 5B 26   			lda.l	_global_counter
         02:C33F  AC 5C 26   			ldy.h	_global_counter
 4453                        		__equ_w.wi	76
         02:C342  C9 4C      			cmp.l	#76
         02:C344  D0 04      			bne	!false+
         02:C346  C0 00      			cpy.h	#76
         02:C348  F0 01      			beq	!+
         02:C34A  18         	!false:		clc
         02:C34B             	!:
 4454                        		__bfalse	.LL52
         02:C34B  90 49      			bcc	.LL52
 4455                        	
 4456                        		.dbg	line,	"include\routines_INTRO.c", 146; {
 4457                        	
 4458                        		.dbg	line,	"include\routines_INTRO.c", 147; vdc_map_pxl_x = 0;
 4459                        		__st.wmiq	0, _vdc_map_pxl_x
         02:C34D  9C D4 26   			stz.l	_vdc_map_pxl_x
         02:C350  9C D5 26   			stz.h	_vdc_map_pxl_x
 4460                        	
 4461                        		.dbg	line,	"include\routines_INTRO.c", 148; scroll_split(0,   0, vdc_map_pxl_x & (511), vdc_map_pxl_y & (511), BKG_ON | SPR_ON);
 4462                        		__st.umiq	0, _al
         02:C353  64 F8      			stz	_al
 4463                        		__st.umiq	0, _ah
         02:C355  64 F9      			stz	_ah
 4464                        		__ld.wm		_vdc_map_pxl_x
         02:C357  AD D4 26   			lda.l	_vdc_map_pxl_x
         02:C35A  AC D5 26   			ldy.h	_vdc_map_pxl_x
 4465                        		__and.wi	511
         02:C35D  29 FF      			and.l	#511
         02:C35F  42         			say
         02:C360  29 01      			and.h	#511
         02:C362  42         			say
 4466                        		__st.wmq	_bx
         02:C363  85 FA      			sta.l	_bx
         02:C365  84 FB      			sty.h	_bx
 4467                        		__ld.wm		_vdc_map_pxl_y
         02:C367  AD D6 26   			lda.l	_vdc_map_pxl_y
         02:C36A  AC D7 26   			ldy.h	_vdc_map_pxl_y
 4468                        		__and.wi	511
         02:C36D  29 FF      			and.l	#511
         02:C36F  42         			say
         02:C370  29 01      			and.h	#511
         02:C372  42         			say
 4469                        		__st.wmq	_cx
         02:C373  85 FC      			sta.l	_cx
         02:C375  84 FD      			sty.h	_cx
 4470                        		__st.umiq	192, _dl
         02:C377  A9 C0      			lda.l	#192
         02:C379  85 FE      			sta	_dl
 4471                        		__call		_scroll_split.5
         02:C37B  20 81 FF   			call	_scroll_split.5
 4472                        	
 4473                        		.dbg	line,	"include\routines_INTRO.c", 150; load_palette( 0, palette_INTRO_2, 1 );
 4474                        		__st.umiq	0, _al
         02:C37E  64 F8      			stz	_al
 4475                        		__farptr	_palette_INTRO_2, _bp_bank, _bp
         02:C380  A9 E0      			lda.l	#$6000 + ($1FFF & (_palette_INTRO_2))
         02:C382  85 EC      			sta.l	_bp
         02:C384  A9 78      			lda.h	#$6000 + ($1FFF & (_palette_INTRO_2))
         02:C386  85 ED      			sta.h	_bp
         02:C388  A9 06      			lda	#bank(_palette_INTRO_2)
         02:C38A  85 02      			sta	_bp_bank
 4476                        		__st.umiq	1, _ah
         02:C38C  A9 01      			lda.l	#1
         02:C38E  85 F9      			sta	_ah
 4477                        		__call		_load_palette.3
         02:C390  20 8B FF   			call	_load_palette.3
 4478                        	
 4479                        		.dbg	line,	"include\routines_INTRO.c", 151; }
 4480                        	
 4481                        		.dbg	line,	"include\routines_INTRO.c", 153; else if(global_counter == 136)
 4482                        		__bra		.LL53
         02:C393  4C 24 CF   			bra	.LL53
 4483    02:C396             	.LL52:
 4484                        		__ld.wm		_global_counter
         02:C396  AD 5B 26   			lda.l	_global_counter
         02:C399  AC 5C 26   			ldy.h	_global_counter
 4485                        		__equ_w.wi	136
         02:C39C  C9 88      			cmp.l	#136
         02:C39E  D0 04      			bne	!false+
         02:C3A0  C0 00      			cpy.h	#136
         02:C3A2  F0 01      			beq	!+
         02:C3A4  18         	!false:		clc
         02:C3A5             	!:
 4486                        		__bfalse	.LL54
         02:C3A5  90 4B      			bcc	.LL54
 4487                        	
 4488                        		.dbg	line,	"include\routines_INTRO.c", 154; {
 4489                        	
 4490                        		.dbg	line,	"include\routines_INTRO.c", 155; load_palette( 0, palette_INTRO_3, 1 );
 4491                        		__st.umiq	0, _al
         02:C3A7  64 F8      			stz	_al
 4492                        		__farptr	_palette_INTRO_3, _bp_bank, _bp
         02:C3A9  A9 E0      			lda.l	#$6000 + ($1FFF & (_palette_INTRO_3))
         02:C3AB  85 EC      			sta.l	_bp
         02:C3AD  A9 7A      			lda.h	#$6000 + ($1FFF & (_palette_INTRO_3))
         02:C3AF  85 ED      			sta.h	_bp
         02:C3B1  A9 06      			lda	#bank(_palette_INTRO_3)
         02:C3B3  85 02      			sta	_bp_bank
 4493                        		__st.umiq	1, _ah
         02:C3B5  A9 01      			lda.l	#1
         02:C3B7  85 F9      			sta	_ah
 4494                        		__call		_load_palette.3
         02:C3B9  20 8B FF   			call	_load_palette.3
 4495                        	
 4496                        		.dbg	line,	"include\routines_INTRO.c", 157; vdc_map_pxl_x = 256;
 4497                        		__st.wmiq	256, _vdc_map_pxl_x
         02:C3BC  9C D4 26   			stz.l	_vdc_map_pxl_x
         02:C3BF  A9 01      			lda.h	#256
         02:C3C1  8D D5 26   			sta.h	_vdc_map_pxl_x
 4498                        	
 4499                        		.dbg	line,	"include\routines_INTRO.c", 158; scroll_split(0,   0, vdc_map_pxl_x & (511), vdc_map_pxl_y & (511), BKG_ON | SPR_ON);
 4500                        		__st.umiq	0, _al
         02:C3C4  64 F8      			stz	_al
 4501                        		__st.umiq	0, _ah
         02:C3C6  64 F9      			stz	_ah
 4502                        		__ld.wm		_vdc_map_pxl_x
         02:C3C8  AD D4 26   			lda.l	_vdc_map_pxl_x
         02:C3CB  AC D5 26   			ldy.h	_vdc_map_pxl_x
 4503                        		__and.wi	511
         02:C3CE  29 FF      			and.l	#511
         02:C3D0  42         			say
         02:C3D1  29 01      			and.h	#511
         02:C3D3  42         			say
 4504                        		__st.wmq	_bx
         02:C3D4  85 FA      			sta.l	_bx
         02:C3D6  84 FB      			sty.h	_bx
 4505                        		__ld.wm		_vdc_map_pxl_y
         02:C3D8  AD D6 26   			lda.l	_vdc_map_pxl_y
         02:C3DB  AC D7 26   			ldy.h	_vdc_map_pxl_y
 4506                        		__and.wi	511
         02:C3DE  29 FF      			and.l	#511
         02:C3E0  42         			say
         02:C3E1  29 01      			and.h	#511
         02:C3E3  42         			say
 4507                        		__st.wmq	_cx
         02:C3E4  85 FC      			sta.l	_cx
         02:C3E6  84 FD      			sty.h	_cx
 4508                        		__st.umiq	192, _dl
         02:C3E8  A9 C0      			lda.l	#192
         02:C3EA  85 FE      			sta	_dl
 4509                        		__call		_scroll_split.5
         02:C3EC  20 81 FF   			call	_scroll_split.5
 4510                        	
 4511                        		.dbg	line,	"include\routines_INTRO.c", 159; }
 4512                        	
 4513                        		.dbg	line,	"include\routines_INTRO.c", 161; else if(global_counter == 140)
 4514                        		__bra		.LL55
         02:C3EF  4C 24 CF   			bra	.LL55
 4515    02:C3F2             	.LL54:
 4516                        		__ld.wm		_global_counter
         02:C3F2  AD 5B 26   			lda.l	_global_counter
         02:C3F5  AC 5C 26   			ldy.h	_global_counter
 4517                        		__equ_w.wi	140
         02:C3F8  C9 8C      			cmp.l	#140
         02:C3FA  D0 04      			bne	!false+
         02:C3FC  C0 00      			cpy.h	#140
         02:C3FE  F0 01      			beq	!+
         02:C400  18         	!false:		clc
         02:C401             	!:
 4518                        		__bfalse	.LL56
         02:C401  90 34      			bcc	.LL56
 4519                        	
 4520                        		.dbg	line,	"include\routines_INTRO.c", 162; {
 4521                        	
 4522                        		.dbg	line,	"include\routines_INTRO.c", 163; vdc_map_pxl_x = 0;
 4523                        		__st.wmiq	0, _vdc_map_pxl_x
         02:C403  9C D4 26   			stz.l	_vdc_map_pxl_x
         02:C406  9C D5 26   			stz.h	_vdc_map_pxl_x
 4524                        	
 4525                        		.dbg	line,	"include\routines_INTRO.c", 164; scroll_split(0,   0, vdc_map_pxl_x & (511), vdc_map_pxl_y & (511), BKG_ON | SPR_ON);
 4526                        		__st.umiq	0, _al
         02:C409  64 F8      			stz	_al
 4527                        		__st.umiq	0, _ah
         02:C40B  64 F9      			stz	_ah
 4528                        		__ld.wm		_vdc_map_pxl_x
         02:C40D  AD D4 26   			lda.l	_vdc_map_pxl_x
         02:C410  AC D5 26   			ldy.h	_vdc_map_pxl_x
 4529                        		__and.wi	511
         02:C413  29 FF      			and.l	#511
         02:C415  42         			say
         02:C416  29 01      			and.h	#511
         02:C418  42         			say
 4530                        		__st.wmq	_bx
         02:C419  85 FA      			sta.l	_bx
         02:C41B  84 FB      			sty.h	_bx
 4531                        		__ld.wm		_vdc_map_pxl_y
         02:C41D  AD D6 26   			lda.l	_vdc_map_pxl_y
         02:C420  AC D7 26   			ldy.h	_vdc_map_pxl_y
 4532                        		__and.wi	511
         02:C423  29 FF      			and.l	#511
         02:C425  42         			say
         02:C426  29 01      			and.h	#511
         02:C428  42         			say
 4533                        		__st.wmq	_cx
         02:C429  85 FC      			sta.l	_cx
         02:C42B  84 FD      			sty.h	_cx
 4534                        		__st.umiq	192, _dl
         02:C42D  A9 C0      			lda.l	#192
         02:C42F  85 FE      			sta	_dl
 4535                        		__call		_scroll_split.5
         02:C431  20 81 FF   			call	_scroll_split.5
 4536                        	
 4537                        		.dbg	line,	"include\routines_INTRO.c", 165; }
 4538                        	
 4539                        		.dbg	line,	"include\routines_INTRO.c", 167; else if(global_counter == 141)
 4540                        		__bra		.LL57
         02:C434  4C 24 CF   			bra	.LL57
 4541    02:C437             	.LL56:
 4542                        		__ld.wm		_global_counter
         02:C437  AD 5B 26   			lda.l	_global_counter
         02:C43A  AC 5C 26   			ldy.h	_global_counter
 4543                        		__equ_w.wi	141
         02:C43D  C9 8D      			cmp.l	#141
         02:C43F  D0 04      			bne	!false+
         02:C441  C0 00      			cpy.h	#141
         02:C443  F0 01      			beq	!+
         02:C445  18         	!false:		clc
         02:C446             	!:
 4544                        		__bfalse	.LL58
         02:C446  90 18      			bcc	.LL58
 4545                        	
 4546                        		.dbg	line,	"include\routines_INTRO.c", 168; {
 4547                        	
 4548                        		.dbg	line,	"include\routines_INTRO.c", 169; load_palette( 0, palette_INTRO_2, 1 );
 4549                        		__st.umiq	0, _al
         02:C448  64 F8      			stz	_al
 4550                        		__farptr	_palette_INTRO_2, _bp_bank, _bp
         02:C44A  A9 E0      			lda.l	#$6000 + ($1FFF & (_palette_INTRO_2))
         02:C44C  85 EC      			sta.l	_bp
         02:C44E  A9 78      			lda.h	#$6000 + ($1FFF & (_palette_INTRO_2))
         02:C450  85 ED      			sta.h	_bp
         02:C452  A9 06      			lda	#bank(_palette_INTRO_2)
         02:C454  85 02      			sta	_bp_bank
 4551                        		__st.umiq	1, _ah
         02:C456  A9 01      			lda.l	#1
         02:C458  85 F9      			sta	_ah
 4552                        		__call		_load_palette.3
         02:C45A  20 8B FF   			call	_load_palette.3
 4553                        	
 4554                        		.dbg	line,	"include\routines_INTRO.c", 170; }
 4555                        	
 4556                        		.dbg	line,	"include\routines_INTRO.c", 172; else if(global_counter == 145)
 4557                        		__bra		.LL59
         02:C45D  4C 24 CF   			bra	.LL59
 4558    02:C460             	.LL58:
 4559                        		__ld.wm		_global_counter
         02:C460  AD 5B 26   			lda.l	_global_counter
         02:C463  AC 5C 26   			ldy.h	_global_counter
 4560                        		__equ_w.wi	145
         02:C466  C9 91      			cmp.l	#145
         02:C468  D0 04      			bne	!false+
         02:C46A  C0 00      			cpy.h	#145
         02:C46C  F0 01      			beq	!+
         02:C46E  18         	!false:		clc
         02:C46F             	!:
 4561                        		__bfalse	.LL60
         02:C46F  90 4B      			bcc	.LL60
 4562                        	
 4563                        		.dbg	line,	"include\routines_INTRO.c", 173; {
 4564                        	
 4565                        		.dbg	line,	"include\routines_INTRO.c", 174; vdc_map_pxl_y = 256;
 4566                        		__st.wmiq	256, _vdc_map_pxl_y
         02:C471  9C D6 26   			stz.l	_vdc_map_pxl_y
         02:C474  A9 01      			lda.h	#256
         02:C476  8D D7 26   			sta.h	_vdc_map_pxl_y
 4567                        	
 4568                        		.dbg	line,	"include\routines_INTRO.c", 175; scroll_split(0,   0, vdc_map_pxl_x & (511), vdc_map_pxl_y & (511), BKG_ON | SPR_ON);
 4569                        		__st.umiq	0, _al
         02:C479  64 F8      			stz	_al
 4570                        		__st.umiq	0, _ah
         02:C47B  64 F9      			stz	_ah
 4571                        		__ld.wm		_vdc_map_pxl_x
         02:C47D  AD D4 26   			lda.l	_vdc_map_pxl_x
         02:C480  AC D5 26   			ldy.h	_vdc_map_pxl_x
 4572                        		__and.wi	511
         02:C483  29 FF      			and.l	#511
         02:C485  42         			say
         02:C486  29 01      			and.h	#511
         02:C488  42         			say
 4573                        		__st.wmq	_bx
         02:C489  85 FA      			sta.l	_bx
         02:C48B  84 FB      			sty.h	_bx
 4574                        		__ld.wm		_vdc_map_pxl_y
         02:C48D  AD D6 26   			lda.l	_vdc_map_pxl_y
         02:C490  AC D7 26   			ldy.h	_vdc_map_pxl_y
 4575                        		__and.wi	511
         02:C493  29 FF      			and.l	#511
         02:C495  42         			say
         02:C496  29 01      			and.h	#511
         02:C498  42         			say
 4576                        		__st.wmq	_cx
         02:C499  85 FC      			sta.l	_cx
         02:C49B  84 FD      			sty.h	_cx
 4577                        		__st.umiq	192, _dl
         02:C49D  A9 C0      			lda.l	#192
         02:C49F  85 FE      			sta	_dl
 4578                        		__call		_scroll_split.5
         02:C4A1  20 81 FF   			call	_scroll_split.5
 4579                        	
 4580                        		.dbg	line,	"include\routines_INTRO.c", 177; load_palette( 0, palette_INTRO_3, 1 );
 4581                        		__st.umiq	0, _al
         02:C4A4  64 F8      			stz	_al
 4582                        		__farptr	_palette_INTRO_3, _bp_bank, _bp
         02:C4A6  A9 E0      			lda.l	#$6000 + ($1FFF & (_palette_INTRO_3))
         02:C4A8  85 EC      			sta.l	_bp
         02:C4AA  A9 7A      			lda.h	#$6000 + ($1FFF & (_palette_INTRO_3))
         02:C4AC  85 ED      			sta.h	_bp
         02:C4AE  A9 06      			lda	#bank(_palette_INTRO_3)
         02:C4B0  85 02      			sta	_bp_bank
 4583                        		__st.umiq	1, _ah
         02:C4B2  A9 01      			lda.l	#1
         02:C4B4  85 F9      			sta	_ah
 4584                        		__call		_load_palette.3
         02:C4B6  20 8B FF   			call	_load_palette.3
 4585                        	
 4586                        		.dbg	line,	"include\routines_INTRO.c", 178; }
 4587                        	
 4588                        		.dbg	line,	"include\routines_INTRO.c", 180; else if(global_counter == 149)
 4589                        		__bra		.LL61
         02:C4B9  4C 24 CF   			bra	.LL61
 4590    02:C4BC             	.LL60:
 4591                        		__ld.wm		_global_counter
         02:C4BC  AD 5B 26   			lda.l	_global_counter
         02:C4BF  AC 5C 26   			ldy.h	_global_counter
 4592                        		__equ_w.wi	149
         02:C4C2  C9 95      			cmp.l	#149
         02:C4C4  D0 04      			bne	!false+
         02:C4C6  C0 00      			cpy.h	#149
         02:C4C8  F0 01      			beq	!+
         02:C4CA  18         	!false:		clc
         02:C4CB             	!:
 4593                        		__bfalse	.LL62
         02:C4CB  90 34      			bcc	.LL62
 4594                        	
 4595                        		.dbg	line,	"include\routines_INTRO.c", 181; {
 4596                        	
 4597                        		.dbg	line,	"include\routines_INTRO.c", 182; vdc_map_pxl_y = 0;
 4598                        		__st.wmiq	0, _vdc_map_pxl_y
         02:C4CD  9C D6 26   			stz.l	_vdc_map_pxl_y
         02:C4D0  9C D7 26   			stz.h	_vdc_map_pxl_y
 4599                        	
 4600                        		.dbg	line,	"include\routines_INTRO.c", 183; scroll_split(0,   0, vdc_map_pxl_x & (511), vdc_map_pxl_y & (511), BKG_ON | SPR_ON);
 4601                        		__st.umiq	0, _al
         02:C4D3  64 F8      			stz	_al
 4602                        		__st.umiq	0, _ah
         02:C4D5  64 F9      			stz	_ah
 4603                        		__ld.wm		_vdc_map_pxl_x
         02:C4D7  AD D4 26   			lda.l	_vdc_map_pxl_x
         02:C4DA  AC D5 26   			ldy.h	_vdc_map_pxl_x
 4604                        		__and.wi	511
         02:C4DD  29 FF      			and.l	#511
         02:C4DF  42         			say
         02:C4E0  29 01      			and.h	#511
         02:C4E2  42         			say
 4605                        		__st.wmq	_bx
         02:C4E3  85 FA      			sta.l	_bx
         02:C4E5  84 FB      			sty.h	_bx
 4606                        		__ld.wm		_vdc_map_pxl_y
         02:C4E7  AD D6 26   			lda.l	_vdc_map_pxl_y
         02:C4EA  AC D7 26   			ldy.h	_vdc_map_pxl_y
 4607                        		__and.wi	511
         02:C4ED  29 FF      			and.l	#511
         02:C4EF  42         			say
         02:C4F0  29 01      			and.h	#511
         02:C4F2  42         			say
 4608                        		__st.wmq	_cx
         02:C4F3  85 FC      			sta.l	_cx
         02:C4F5  84 FD      			sty.h	_cx
 4609                        		__st.umiq	192, _dl
         02:C4F7  A9 C0      			lda.l	#192
         02:C4F9  85 FE      			sta	_dl
 4610                        		__call		_scroll_split.5
         02:C4FB  20 81 FF   			call	_scroll_split.5
 4611                        	
 4612                        		.dbg	line,	"include\routines_INTRO.c", 184; }
 4613                        	
 4614                        		.dbg	line,	"include\routines_INTRO.c", 186; else if(global_counter == 150)
 4615                        		__bra		.LL63
         02:C4FE  4C 24 CF   			bra	.LL63
 4616    02:C501             	.LL62:
 4617                        		__ld.wm		_global_counter
         02:C501  AD 5B 26   			lda.l	_global_counter
         02:C504  AC 5C 26   			ldy.h	_global_counter
 4618                        		__equ_w.wi	150
         02:C507  C9 96      			cmp.l	#150
         02:C509  D0 04      			bne	!false+
         02:C50B  C0 00      			cpy.h	#150
         02:C50D  F0 01      			beq	!+
         02:C50F  18         	!false:		clc
         02:C510             	!:
 4619                        		__bfalse	.LL64
         02:C510  90 38      			bcc	.LL64
 4620                        	
 4621                        		.dbg	line,	"include\routines_INTRO.c", 187; {
 4622                        	
 4623                        		.dbg	line,	"include\routines_INTRO.c", 188; for(i=0 ; i<8 ; i++)
 4624                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         02:C512  9C 2D 2C   			stz	__sequence_INTRO_end - 1
 4625    02:C515             	.LL65:
 4626                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:C515  AD 2D 2C   			lda	__sequence_INTRO_end - 1
 4627                        		__ult_b.uiq	8
         02:C518  C9 08      			cmp	#8		; Subtract integer from A.
         02:C51A  6A         			ror	a		; CC if A < integer.
         02:C51B  49 80      			eor	#$80
         02:C51D  2A         			rol	a
 4628                        		__btrue		.LL67
         02:C51E  B0 07      			bcs	.LL67
 4629                        		__bra		.LL68
         02:C520  80 10      			bra	.LL68
 4630    02:C522             	.LL66:
 4631                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         02:C522  EE 2D 2C   			inc	__sequence_INTRO_end - 1
 4632                        		__bra		.LL65
         02:C525  80 EE      			bra	.LL65
 4633    02:C527             	.LL67:
 4634                        	
 4635                        		.dbg	line,	"include\routines_INTRO.c", 189; {
 4636                        	
 4637                        		.dbg	line,	"include\routines_INTRO.c", 190; sgx_spr_set(i);
 4638                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:C527  AD 2D 2C   			lda	__sequence_INTRO_end - 1
 4639                        		__call		_sgx_spr_set.1
         02:C52A  20 9E E8   			call	_sgx_spr_set.1
 4640                        	
 4641                        		.dbg	line,	"include\routines_INTRO.c", 191; sgx_spr_hide();
 4642                        		__call		_sgx_spr_hide
         02:C52D  20 B9 E8   			call	_sgx_spr_hide
 4643                        	
 4644                        		.dbg	line,	"include\routines_INTRO.c", 192; }
 4645                        		__bra		.LL66
         02:C530  80 F0      			bra	.LL66
 4646    02:C532             	.LL68:
 4647                        	
 4648                        		.dbg	line,	"include\routines_INTRO.c", 193; 
 4649                        	
 4650                        		.dbg	line,	"include\routines_INTRO.c", 194; load_palette( 0, palette_INTRO_2, 1 );
 4651                        		__st.umiq	0, _al
         02:C532  64 F8      			stz	_al
 4652                        		__farptr	_palette_INTRO_2, _bp_bank, _bp
         02:C534  A9 E0      			lda.l	#$6000 + ($1FFF & (_palette_INTRO_2))
         02:C536  85 EC      			sta.l	_bp
         02:C538  A9 78      			lda.h	#$6000 + ($1FFF & (_palette_INTRO_2))
         02:C53A  85 ED      			sta.h	_bp
         02:C53C  A9 06      			lda	#bank(_palette_INTRO_2)
         02:C53E  85 02      			sta	_bp_bank
 4653                        		__st.umiq	1, _ah
         02:C540  A9 01      			lda.l	#1
         02:C542  85 F9      			sta	_ah
 4654                        		__call		_load_palette.3
         02:C544  20 8B FF   			call	_load_palette.3
 4655                        	
 4656                        		.dbg	line,	"include\routines_INTRO.c", 195; }
 4657                        	
 4658                        		.dbg	line,	"include\routines_INTRO.c", 197; else if(global_counter == 152)
 4659                        		__bra		.LL69
         02:C547  4C 24 CF   			bra	.LL69
 4660    02:C54A             	.LL64:
 4661                        		__ld.wm		_global_counter
         02:C54A  AD 5B 26   			lda.l	_global_counter
         02:C54D  AC 5C 26   			ldy.h	_global_counter
 4662                        		__equ_w.wi	152
         02:C550  C9 98      			cmp.l	#152
         02:C552  D0 04      			bne	!false+
         02:C554  C0 00      			cpy.h	#152
         02:C556  F0 01      			beq	!+
         02:C558  18         	!false:		clc
         02:C559             	!:
 4663                        		__bfalse	.LL70
         02:C559  90 76      			bcc	.LL70
 4664                        	
 4665                        		.dbg	line,	"include\routines_INTRO.c", 198; {
 4666                        	
 4667                        		.dbg	line,	"include\routines_INTRO.c", 199; for(i=0 ; i<8 ; i++)
 4668                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         02:C55B  9C 2D 2C   			stz	__sequence_INTRO_end - 1
 4669    02:C55E             	.LL71:
 4670                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:C55E  AD 2D 2C   			lda	__sequence_INTRO_end - 1
 4671                        		__ult_b.uiq	8
         02:C561  C9 08      			cmp	#8		; Subtract integer from A.
         02:C563  6A         			ror	a		; CC if A < integer.
         02:C564  49 80      			eor	#$80
         02:C566  2A         			rol	a
 4672                        		__btrue		.LL73
         02:C567  B0 08      			bcs	.LL73
 4673                        		__bra		.LL74
         02:C569  4C 24 CF   			bra	.LL74
 4674    02:C56C             	.LL72:
 4675                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         02:C56C  EE 2D 2C   			inc	__sequence_INTRO_end - 1
 4676                        		__bra		.LL71
         02:C56F  80 ED      			bra	.LL71
 4677    02:C571             	.LL73:
 4678                        	
 4679                        		.dbg	line,	"include\routines_INTRO.c", 200; {
 4680                        	
 4681                        		.dbg	line,	"include\routines_INTRO.c", 201; sgx_spr_set(i);
 4682                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:C571  AD 2D 2C   			lda	__sequence_INTRO_end - 1
 4683                        		__call		_sgx_spr_set.1
         02:C574  20 9E E8   			call	_sgx_spr_set.1
 4684                        	
 4685                        		.dbg	line,	"include\routines_INTRO.c", 202; sgx_spr_x(player_pos_x + (i<<5) - ((i>>2)<<7));
 4686                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         02:C577  AD 2D 2C   			lda	__sequence_INTRO_end - 1
         02:C57A  C2         			cly
 4687                        		__asl.wi	5
         02:C57B  85 00      			sta	__temp
         02:C57D  98         			tya
         02:C57E  4A         			lsr	a
         02:C57F  20 C8 E1   			jsr	aslw5
         02:C582  29 E0      			and.l	#$FF << 5
 4688                        		__add.wm	_player_pos_x
         02:C584  18         			clc
         02:C585  6D 01 25   			adc.l	_player_pos_x
         02:C588  42         			say
         02:C589  6D 02 25   			adc.h	_player_pos_x
         02:C58C  42         			say
 4689                        		__push.wr
         02:C58D  5A         			phy
         02:C58E  48         			pha
 4690                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         02:C58F  AD 2D 2C   			lda	__sequence_INTRO_end - 1
         02:C592  C2         			cly
 4691                        		__lsr.uiq	2
         02:C593  4A         			lsr	a
         02:C594  4A         			lsr	a
 4692                        		__asl.wi	7
         02:C595  42         			say
         02:C596  4A         			lsr	a
         02:C597  42         			say
         02:C598  6A         			ror	a
         02:C599  42         			say
         02:C59A  6A         			ror	a
         02:C59B  29 80      			and	#$80
 4693                        		__sub.wt
         02:C59D  BA         			tsx
         02:C59E  38         			sec
         02:C59F  49 FF      			eor	#$FF
         02:C5A1  7D 01 21   			adc.l	__tos, x
         02:C5A4  42         			say
         02:C5A5  49 FF      			eor	#$FF
         02:C5A7  7D 02 21   			adc.h	__tos, x
         02:C5AA  42         			say
         02:C5AB  E8         			inx
         02:C5AC  E8         			inx
         02:C5AD  9A         			txs
 4694                        		__call		_sgx_spr_x.1
         02:C5AE  20 CB E8   			call	_sgx_spr_x.1
 4695                        	
 4696                        		.dbg	line,	"include\routines_INTRO.c", 203; sgx_spr_y(player_pos_y + ((i>>2)<<5));
 4697                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         02:C5B1  AD 2D 2C   			lda	__sequence_INTRO_end - 1
         02:C5B4  C2         			cly
 4698                        		__lsr.uiq	2
         02:C5B5  4A         			lsr	a
         02:C5B6  4A         			lsr	a
 4699                        		__asl.wi	5
         02:C5B7  85 00      			sta	__temp
         02:C5B9  98         			tya
         02:C5BA  4A         			lsr	a
         02:C5BB  20 C8 E1   			jsr	aslw5
         02:C5BE  29 E0      			and.l	#$FF << 5
 4700                        		__add.wm	_player_pos_y
         02:C5C0  18         			clc
         02:C5C1  6D 03 25   			adc.l	_player_pos_y
         02:C5C4  42         			say
         02:C5C5  6D 04 25   			adc.h	_player_pos_y
         02:C5C8  42         			say
 4701                        		__call		_sgx_spr_y.1
         02:C5C9  20 DA E8   			call	_sgx_spr_y.1
 4702                        	
 4703                        		.dbg	line,	"include\routines_INTRO.c", 204; }
 4704                        		__bra		.LL72
         02:C5CC  80 9E      			bra	.LL72
 4705    02:C5CE             	.LL74	.alias		.LL75
 4706                        	
 4707                        		.dbg	line,	"include\routines_INTRO.c", 205; }
 4708                        	
 4709                        		.dbg	line,	"include\routines_INTRO.c", 207; else if(global_counter == 154)
 4710                        		__bra		.LL75
         02:C5CE  4C 24 CF   			bra	.LL75
 4711    02:C5D1             	.LL70:
 4712                        		__ld.wm		_global_counter
         02:C5D1  AD 5B 26   			lda.l	_global_counter
         02:C5D4  AC 5C 26   			ldy.h	_global_counter
 4713                        		__equ_w.wi	154
         02:C5D7  C9 9A      			cmp.l	#154
         02:C5D9  D0 04      			bne	!false+
         02:C5DB  C0 00      			cpy.h	#154
         02:C5DD  F0 01      			beq	!+
         02:C5DF  18         	!false:		clc
         02:C5E0             	!:
 4714                        		__bfalse	.LL76
         02:C5E0  90 73      			bcc	.LL76
 4715                        	
 4716                        		.dbg	line,	"include\routines_INTRO.c", 208; {
 4717                        	
 4718                        		.dbg	line,	"include\routines_INTRO.c", 209; for(i=0 ; i<8 ; i++)
 4719                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         02:C5E2  9C 2D 2C   			stz	__sequence_INTRO_end - 1
 4720    02:C5E5             	.LL77:
 4721                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:C5E5  AD 2D 2C   			lda	__sequence_INTRO_end - 1
 4722                        		__ult_b.uiq	8
         02:C5E8  C9 08      			cmp	#8		; Subtract integer from A.
         02:C5EA  6A         			ror	a		; CC if A < integer.
         02:C5EB  49 80      			eor	#$80
         02:C5ED  2A         			rol	a
 4723                        		__btrue		.LL79
         02:C5EE  B0 07      			bcs	.LL79
 4724                        		__bra		.LL80
         02:C5F0  80 10      			bra	.LL80
 4725    02:C5F2             	.LL78:
 4726                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         02:C5F2  EE 2D 2C   			inc	__sequence_INTRO_end - 1
 4727                        		__bra		.LL77
         02:C5F5  80 EE      			bra	.LL77
 4728    02:C5F7             	.LL79:
 4729                        	
 4730                        		.dbg	line,	"include\routines_INTRO.c", 210; {
 4731                        	
 4732                        		.dbg	line,	"include\routines_INTRO.c", 211; sgx_spr_set(i);
 4733                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:C5F7  AD 2D 2C   			lda	__sequence_INTRO_end - 1
 4734                        		__call		_sgx_spr_set.1
         02:C5FA  20 9E E8   			call	_sgx_spr_set.1
 4735                        	
 4736                        		.dbg	line,	"include\routines_INTRO.c", 212; sgx_spr_hide();
 4737                        		__call		_sgx_spr_hide
         02:C5FD  20 B9 E8   			call	_sgx_spr_hide
 4738                        	
 4739                        		.dbg	line,	"include\routines_INTRO.c", 213; }
 4740                        		__bra		.LL78
         02:C600  80 F0      			bra	.LL78
 4741    02:C602             	.LL80:
 4742                        	
 4743                        		.dbg	line,	"include\routines_INTRO.c", 215; vdc_map_pxl_x = 256;
 4744                        		__st.wmiq	256, _vdc_map_pxl_x
         02:C602  9C D4 26   			stz.l	_vdc_map_pxl_x
         02:C605  A9 01      			lda.h	#256
         02:C607  8D D5 26   			sta.h	_vdc_map_pxl_x
 4745                        	
 4746                        		.dbg	line,	"include\routines_INTRO.c", 216; vdc_map_pxl_y = 256;
 4747                        		__st.wmiq	256, _vdc_map_pxl_y
         02:C60A  9C D6 26   			stz.l	_vdc_map_pxl_y
         02:C60D  A9 01      			lda.h	#256
         02:C60F  8D D7 26   			sta.h	_vdc_map_pxl_y
 4748                        	
 4749                        		.dbg	line,	"include\routines_INTRO.c", 217; scroll_split(0,   0, vdc_map_pxl_x & (511), vdc_map_pxl_y & (511), BKG_ON | SPR_ON);
 4750                        		__st.umiq	0, _al
         02:C612  64 F8      			stz	_al
 4751                        		__st.umiq	0, _ah
         02:C614  64 F9      			stz	_ah
 4752                        		__ld.wm		_vdc_map_pxl_x
         02:C616  AD D4 26   			lda.l	_vdc_map_pxl_x
         02:C619  AC D5 26   			ldy.h	_vdc_map_pxl_x
 4753                        		__and.wi	511
         02:C61C  29 FF      			and.l	#511
         02:C61E  42         			say
         02:C61F  29 01      			and.h	#511
         02:C621  42         			say
 4754                        		__st.wmq	_bx
         02:C622  85 FA      			sta.l	_bx
         02:C624  84 FB      			sty.h	_bx
 4755                        		__ld.wm		_vdc_map_pxl_y
         02:C626  AD D6 26   			lda.l	_vdc_map_pxl_y
         02:C629  AC D7 26   			ldy.h	_vdc_map_pxl_y
 4756                        		__and.wi	511
         02:C62C  29 FF      			and.l	#511
         02:C62E  42         			say
         02:C62F  29 01      			and.h	#511
         02:C631  42         			say
 4757                        		__st.wmq	_cx
         02:C632  85 FC      			sta.l	_cx
         02:C634  84 FD      			sty.h	_cx
 4758                        		__st.umiq	192, _dl
         02:C636  A9 C0      			lda.l	#192
         02:C638  85 FE      			sta	_dl
 4759                        		__call		_scroll_split.5
         02:C63A  20 81 FF   			call	_scroll_split.5
 4760                        	
 4761                        		.dbg	line,	"include\routines_INTRO.c", 219; load_palette( 0, palette_INTRO_3, 1 );
 4762                        		__st.umiq	0, _al
         02:C63D  64 F8      			stz	_al
 4763                        		__farptr	_palette_INTRO_3, _bp_bank, _bp
         02:C63F  A9 E0      			lda.l	#$6000 + ($1FFF & (_palette_INTRO_3))
         02:C641  85 EC      			sta.l	_bp
         02:C643  A9 7A      			lda.h	#$6000 + ($1FFF & (_palette_INTRO_3))
         02:C645  85 ED      			sta.h	_bp
         02:C647  A9 06      			lda	#bank(_palette_INTRO_3)
         02:C649  85 02      			sta	_bp_bank
 4764                        		__st.umiq	1, _ah
         02:C64B  A9 01      			lda.l	#1
         02:C64D  85 F9      			sta	_ah
 4765                        		__call		_load_palette.3
         02:C64F  20 8B FF   			call	_load_palette.3
 4766                        	
 4767                        		.dbg	line,	"include\routines_INTRO.c", 220; }
 4768                        	
 4769                        		.dbg	line,	"include\routines_INTRO.c", 222; else if(global_counter == 156)
 4770                        		__bra		.LL81
         02:C652  4C 24 CF   			bra	.LL81
 4771    02:C655             	.LL76:
 4772                        		__ld.wm		_global_counter
         02:C655  AD 5B 26   			lda.l	_global_counter
         02:C658  AC 5C 26   			ldy.h	_global_counter
 4773                        		__equ_w.wi	156
         02:C65B  C9 9C      			cmp.l	#156
         02:C65D  D0 04      			bne	!false+
         02:C65F  C0 00      			cpy.h	#156
         02:C661  F0 01      			beq	!+
         02:C663  18         	!false:		clc
         02:C664             	!:
 4774                        		__bfalse	.LL82
         02:C664  90 76      			bcc	.LL82
 4775                        	
 4776                        		.dbg	line,	"include\routines_INTRO.c", 223; {
 4777                        	
 4778                        		.dbg	line,	"include\routines_INTRO.c", 224; for(i=0 ; i<8 ; i++)
 4779                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         02:C666  9C 2D 2C   			stz	__sequence_INTRO_end - 1
 4780    02:C669             	.LL83:
 4781                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:C669  AD 2D 2C   			lda	__sequence_INTRO_end - 1
 4782                        		__ult_b.uiq	8
         02:C66C  C9 08      			cmp	#8		; Subtract integer from A.
         02:C66E  6A         			ror	a		; CC if A < integer.
         02:C66F  49 80      			eor	#$80
         02:C671  2A         			rol	a
 4783                        		__btrue		.LL85
         02:C672  B0 08      			bcs	.LL85
 4784                        		__bra		.LL86
         02:C674  4C 24 CF   			bra	.LL86
 4785    02:C677             	.LL84:
 4786                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         02:C677  EE 2D 2C   			inc	__sequence_INTRO_end - 1
 4787                        		__bra		.LL83
         02:C67A  80 ED      			bra	.LL83
 4788    02:C67C             	.LL85:
 4789                        	
 4790                        		.dbg	line,	"include\routines_INTRO.c", 225; {
 4791                        	
 4792                        		.dbg	line,	"include\routines_INTRO.c", 226; sgx_spr_set(i);
 4793                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:C67C  AD 2D 2C   			lda	__sequence_INTRO_end - 1
 4794                        		__call		_sgx_spr_set.1
         02:C67F  20 9E E8   			call	_sgx_spr_set.1
 4795                        	
 4796                        		.dbg	line,	"include\routines_INTRO.c", 227; sgx_spr_x(player_pos_x + (i<<5) - ((i>>2)<<7));
 4797                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         02:C682  AD 2D 2C   			lda	__sequence_INTRO_end - 1
         02:C685  C2         			cly
 4798                        		__asl.wi	5
         02:C686  85 00      			sta	__temp
         02:C688  98         			tya
         02:C689  4A         			lsr	a
         02:C68A  20 C8 E1   			jsr	aslw5
         02:C68D  29 E0      			and.l	#$FF << 5
 4799                        		__add.wm	_player_pos_x
         02:C68F  18         			clc
         02:C690  6D 01 25   			adc.l	_player_pos_x
         02:C693  42         			say
         02:C694  6D 02 25   			adc.h	_player_pos_x
         02:C697  42         			say
 4800                        		__push.wr
         02:C698  5A         			phy
         02:C699  48         			pha
 4801                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         02:C69A  AD 2D 2C   			lda	__sequence_INTRO_end - 1
         02:C69D  C2         			cly
 4802                        		__lsr.uiq	2
         02:C69E  4A         			lsr	a
         02:C69F  4A         			lsr	a
 4803                        		__asl.wi	7
         02:C6A0  42         			say
         02:C6A1  4A         			lsr	a
         02:C6A2  42         			say
         02:C6A3  6A         			ror	a
         02:C6A4  42         			say
         02:C6A5  6A         			ror	a
         02:C6A6  29 80      			and	#$80
 4804                        		__sub.wt
         02:C6A8  BA         			tsx
         02:C6A9  38         			sec
         02:C6AA  49 FF      			eor	#$FF
         02:C6AC  7D 01 21   			adc.l	__tos, x
         02:C6AF  42         			say
         02:C6B0  49 FF      			eor	#$FF
         02:C6B2  7D 02 21   			adc.h	__tos, x
         02:C6B5  42         			say
         02:C6B6  E8         			inx
         02:C6B7  E8         			inx
         02:C6B8  9A         			txs
 4805                        		__call		_sgx_spr_x.1
         02:C6B9  20 CB E8   			call	_sgx_spr_x.1
 4806                        	
 4807                        		.dbg	line,	"include\routines_INTRO.c", 228; sgx_spr_y(player_pos_y + ((i>>2)<<5));
 4808                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         02:C6BC  AD 2D 2C   			lda	__sequence_INTRO_end - 1
         02:C6BF  C2         			cly
 4809                        		__lsr.uiq	2
         02:C6C0  4A         			lsr	a
         02:C6C1  4A         			lsr	a
 4810                        		__asl.wi	5
         02:C6C2  85 00      			sta	__temp
         02:C6C4  98         			tya
         02:C6C5  4A         			lsr	a
         02:C6C6  20 C8 E1   			jsr	aslw5
         02:C6C9  29 E0      			and.l	#$FF << 5
 4811                        		__add.wm	_player_pos_y
         02:C6CB  18         			clc
         02:C6CC  6D 03 25   			adc.l	_player_pos_y
         02:C6CF  42         			say
         02:C6D0  6D 04 25   			adc.h	_player_pos_y
         02:C6D3  42         			say
 4812                        		__call		_sgx_spr_y.1
         02:C6D4  20 DA E8   			call	_sgx_spr_y.1
 4813                        	
 4814                        		.dbg	line,	"include\routines_INTRO.c", 229; }
 4815                        		__bra		.LL84
         02:C6D7  80 9E      			bra	.LL84
 4816    02:C6D9             	.LL86	.alias		.LL87
 4817                        	
 4818                        		.dbg	line,	"include\routines_INTRO.c", 230; }
 4819                        	
 4820                        		.dbg	line,	"include\routines_INTRO.c", 232; else if(global_counter == 158)
 4821                        		__bra		.LL87
         02:C6D9  4C 24 CF   			bra	.LL87
 4822    02:C6DC             	.LL82:
 4823                        		__ld.wm		_global_counter
         02:C6DC  AD 5B 26   			lda.l	_global_counter
         02:C6DF  AC 5C 26   			ldy.h	_global_counter
 4824                        		__equ_w.wi	158
         02:C6E2  C9 9E      			cmp.l	#158
         02:C6E4  D0 04      			bne	!false+
         02:C6E6  C0 00      			cpy.h	#158
         02:C6E8  F0 01      			beq	!+
         02:C6EA  18         	!false:		clc
         02:C6EB             	!:
 4825                        		__bfalse	.LL88
         02:C6EB  90 5A      			bcc	.LL88
 4826                        	
 4827                        		.dbg	line,	"include\routines_INTRO.c", 233; {
 4828                        	
 4829                        		.dbg	line,	"include\routines_INTRO.c", 234; for(i=0 ; i<8 ; i++)
 4830                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         02:C6ED  9C 2D 2C   			stz	__sequence_INTRO_end - 1
 4831    02:C6F0             	.LL89:
 4832                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:C6F0  AD 2D 2C   			lda	__sequence_INTRO_end - 1
 4833                        		__ult_b.uiq	8
         02:C6F3  C9 08      			cmp	#8		; Subtract integer from A.
         02:C6F5  6A         			ror	a		; CC if A < integer.
         02:C6F6  49 80      			eor	#$80
         02:C6F8  2A         			rol	a
 4834                        		__btrue		.LL91
         02:C6F9  B0 07      			bcs	.LL91
 4835                        		__bra		.LL92
         02:C6FB  80 10      			bra	.LL92
 4836    02:C6FD             	.LL90:
 4837                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         02:C6FD  EE 2D 2C   			inc	__sequence_INTRO_end - 1
 4838                        		__bra		.LL89
         02:C700  80 EE      			bra	.LL89
 4839    02:C702             	.LL91:
 4840                        	
 4841                        		.dbg	line,	"include\routines_INTRO.c", 235; {
 4842                        	
 4843                        		.dbg	line,	"include\routines_INTRO.c", 236; sgx_spr_set(i);
 4844                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:C702  AD 2D 2C   			lda	__sequence_INTRO_end - 1
 4845                        		__call		_sgx_spr_set.1
         02:C705  20 9E E8   			call	_sgx_spr_set.1
 4846                        	
 4847                        		.dbg	line,	"include\routines_INTRO.c", 237; sgx_spr_hide();
 4848                        		__call		_sgx_spr_hide
         02:C708  20 B9 E8   			call	_sgx_spr_hide
 4849                        	
 4850                        		.dbg	line,	"include\routines_INTRO.c", 238; }
 4851                        		__bra		.LL90
         02:C70B  80 F0      			bra	.LL90
 4852    02:C70D             	.LL92:
 4853                        	
 4854                        		.dbg	line,	"include\routines_INTRO.c", 240; vdc_map_pxl_x = 0;
 4855                        		__st.wmiq	0, _vdc_map_pxl_x
         02:C70D  9C D4 26   			stz.l	_vdc_map_pxl_x
         02:C710  9C D5 26   			stz.h	_vdc_map_pxl_x
 4856                        	
 4857                        		.dbg	line,	"include\routines_INTRO.c", 241; vdc_map_pxl_y = 0;
 4858                        		__st.wmiq	0, _vdc_map_pxl_y
         02:C713  9C D6 26   			stz.l	_vdc_map_pxl_y
         02:C716  9C D7 26   			stz.h	_vdc_map_pxl_y
 4859                        	
 4860                        		.dbg	line,	"include\routines_INTRO.c", 242; scroll_split(0,   0, vdc_map_pxl_x & (511), vdc_map_pxl_y & (511), BKG_ON | SPR_ON);
 4861                        		__st.umiq	0, _al
         02:C719  64 F8      			stz	_al
 4862                        		__st.umiq	0, _ah
         02:C71B  64 F9      			stz	_ah
 4863                        		__ld.wm		_vdc_map_pxl_x
         02:C71D  AD D4 26   			lda.l	_vdc_map_pxl_x
         02:C720  AC D5 26   			ldy.h	_vdc_map_pxl_x
 4864                        		__and.wi	511
         02:C723  29 FF      			and.l	#511
         02:C725  42         			say
         02:C726  29 01      			and.h	#511
         02:C728  42         			say
 4865                        		__st.wmq	_bx
         02:C729  85 FA      			sta.l	_bx
         02:C72B  84 FB      			sty.h	_bx
 4866                        		__ld.wm		_vdc_map_pxl_y
         02:C72D  AD D6 26   			lda.l	_vdc_map_pxl_y
         02:C730  AC D7 26   			ldy.h	_vdc_map_pxl_y
 4867                        		__and.wi	511
         02:C733  29 FF      			and.l	#511
         02:C735  42         			say
         02:C736  29 01      			and.h	#511
         02:C738  42         			say
 4868                        		__st.wmq	_cx
         02:C739  85 FC      			sta.l	_cx
         02:C73B  84 FD      			sty.h	_cx
 4869                        		__st.umiq	192, _dl
         02:C73D  A9 C0      			lda.l	#192
         02:C73F  85 FE      			sta	_dl
 4870                        		__call		_scroll_split.5
         02:C741  20 81 FF   			call	_scroll_split.5
 4871                        	
 4872                        		.dbg	line,	"include\routines_INTRO.c", 243; }
 4873                        	
 4874                        		.dbg	line,	"include\routines_INTRO.c", 245; else if(global_counter == 159)
 4875                        		__bra		.LL93
         02:C744  4C 24 CF   			bra	.LL93
 4876    02:C747             	.LL88:
 4877                        		__ld.wm		_global_counter
         02:C747  AD 5B 26   			lda.l	_global_counter
         02:C74A  AC 5C 26   			ldy.h	_global_counter
 4878                        		__equ_w.wi	159
         02:C74D  C9 9F      			cmp.l	#159
         02:C74F  D0 04      			bne	!false+
         02:C751  C0 00      			cpy.h	#159
         02:C753  F0 01      			beq	!+
         02:C755  18         	!false:		clc
         02:C756             	!:
 4879                        		__bfalse	.LL94
         02:C756  90 36      			bcc	.LL94
 4880                        	
 4881                        		.dbg	line,	"include\routines_INTRO.c", 246; {
 4882                        	
 4883                        		.dbg	line,	"include\routines_INTRO.c", 247; vdc_map_pxl_y = 256;
 4884                        		__st.wmiq	256, _vdc_map_pxl_y
         02:C758  9C D6 26   			stz.l	_vdc_map_pxl_y
         02:C75B  A9 01      			lda.h	#256
         02:C75D  8D D7 26   			sta.h	_vdc_map_pxl_y
 4885                        	
 4886                        		.dbg	line,	"include\routines_INTRO.c", 248; scroll_split(0,   0, vdc_map_pxl_x & (511), vdc_map_pxl_y & (511), BKG_ON | SPR_ON);
 4887                        		__st.umiq	0, _al
         02:C760  64 F8      			stz	_al
 4888                        		__st.umiq	0, _ah
         02:C762  64 F9      			stz	_ah
 4889                        		__ld.wm		_vdc_map_pxl_x
         02:C764  AD D4 26   			lda.l	_vdc_map_pxl_x
         02:C767  AC D5 26   			ldy.h	_vdc_map_pxl_x
 4890                        		__and.wi	511
         02:C76A  29 FF      			and.l	#511
         02:C76C  42         			say
         02:C76D  29 01      			and.h	#511
         02:C76F  42         			say
 4891                        		__st.wmq	_bx
         02:C770  85 FA      			sta.l	_bx
         02:C772  84 FB      			sty.h	_bx
 4892                        		__ld.wm		_vdc_map_pxl_y
         02:C774  AD D6 26   			lda.l	_vdc_map_pxl_y
         02:C777  AC D7 26   			ldy.h	_vdc_map_pxl_y
 4893                        		__and.wi	511
         02:C77A  29 FF      			and.l	#511
         02:C77C  42         			say
         02:C77D  29 01      			and.h	#511
         02:C77F  42         			say
 4894                        		__st.wmq	_cx
         02:C780  85 FC      			sta.l	_cx
         02:C782  84 FD      			sty.h	_cx
 4895                        		__st.umiq	192, _dl
         02:C784  A9 C0      			lda.l	#192
         02:C786  85 FE      			sta	_dl
 4896                        		__call		_scroll_split.5
         02:C788  20 81 FF   			call	_scroll_split.5
 4897                        	
 4898                        		.dbg	line,	"include\routines_INTRO.c", 249; }
 4899                        	
 4900                        		.dbg	line,	"include\routines_INTRO.c", 251; else if(global_counter == 160)
 4901                        		__bra		.LL95
         02:C78B  4C 24 CF   			bra	.LL95
 4902    02:C78E             	.LL94:
 4903                        		__ld.wm		_global_counter
         02:C78E  AD 5B 26   			lda.l	_global_counter
         02:C791  AC 5C 26   			ldy.h	_global_counter
 4904                        		__equ_w.wi	160
         02:C794  C9 A0      			cmp.l	#160
         02:C796  D0 04      			bne	!false+
         02:C798  C0 00      			cpy.h	#160
         02:C79A  F0 01      			beq	!+
         02:C79C  18         	!false:		clc
         02:C79D             	!:
 4905                        		__bfalse	.LL96
         02:C79D  B0 03 4C 50			bcc	.LL96
         02:C7A1  C8          
 4906                        	
 4907                        		.dbg	line,	"include\routines_INTRO.c", 252; {
 4908                        	
 4909                        		.dbg	line,	"include\routines_INTRO.c", 253; for(i=0 ; i<8 ; i++)
 4910                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         02:C7A2  9C 2D 2C   			stz	__sequence_INTRO_end - 1
 4911    02:C7A5             	.LL97:
 4912                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:C7A5  AD 2D 2C   			lda	__sequence_INTRO_end - 1
 4913                        		__ult_b.uiq	8
         02:C7A8  C9 08      			cmp	#8		; Subtract integer from A.
         02:C7AA  6A         			ror	a		; CC if A < integer.
         02:C7AB  49 80      			eor	#$80
         02:C7AD  2A         			rol	a
 4914                        		__btrue		.LL99
         02:C7AE  B0 07      			bcs	.LL99
 4915                        		__bra		.LL100
         02:C7B0  80 62      			bra	.LL100
 4916    02:C7B2             	.LL98:
 4917                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         02:C7B2  EE 2D 2C   			inc	__sequence_INTRO_end - 1
 4918                        		__bra		.LL97
         02:C7B5  80 EE      			bra	.LL97
 4919    02:C7B7             	.LL99:
 4920                        	
 4921                        		.dbg	line,	"include\routines_INTRO.c", 254; {
 4922                        	
 4923                        		.dbg	line,	"include\routines_INTRO.c", 255; sgx_spr_set(i);
 4924                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:C7B7  AD 2D 2C   			lda	__sequence_INTRO_end - 1
 4925                        		__call		_sgx_spr_set.1
         02:C7BA  20 9E E8   			call	_sgx_spr_set.1
 4926                        	
 4927                        		.dbg	line,	"include\routines_INTRO.c", 256; sgx_spr_x(player_pos_x + (i<<5) - ((i>>2)<<7));
 4928                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         02:C7BD  AD 2D 2C   			lda	__sequence_INTRO_end - 1
         02:C7C0  C2         			cly
 4929                        		__asl.wi	5
         02:C7C1  85 00      			sta	__temp
         02:C7C3  98         			tya
         02:C7C4  4A         			lsr	a
         02:C7C5  20 C8 E1   			jsr	aslw5
         02:C7C8  29 E0      			and.l	#$FF << 5
 4930                        		__add.wm	_player_pos_x
         02:C7CA  18         			clc
         02:C7CB  6D 01 25   			adc.l	_player_pos_x
         02:C7CE  42         			say
         02:C7CF  6D 02 25   			adc.h	_player_pos_x
         02:C7D2  42         			say
 4931                        		__push.wr
         02:C7D3  5A         			phy
         02:C7D4  48         			pha
 4932                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         02:C7D5  AD 2D 2C   			lda	__sequence_INTRO_end - 1
         02:C7D8  C2         			cly
 4933                        		__lsr.uiq	2
         02:C7D9  4A         			lsr	a
         02:C7DA  4A         			lsr	a
 4934                        		__asl.wi	7
         02:C7DB  42         			say
         02:C7DC  4A         			lsr	a
         02:C7DD  42         			say
         02:C7DE  6A         			ror	a
         02:C7DF  42         			say
         02:C7E0  6A         			ror	a
         02:C7E1  29 80      			and	#$80
 4935                        		__sub.wt
         02:C7E3  BA         			tsx
         02:C7E4  38         			sec
         02:C7E5  49 FF      			eor	#$FF
         02:C7E7  7D 01 21   			adc.l	__tos, x
         02:C7EA  42         			say
         02:C7EB  49 FF      			eor	#$FF
         02:C7ED  7D 02 21   			adc.h	__tos, x
         02:C7F0  42         			say
         02:C7F1  E8         			inx
         02:C7F2  E8         			inx
         02:C7F3  9A         			txs
 4936                        		__call		_sgx_spr_x.1
         02:C7F4  20 CB E8   			call	_sgx_spr_x.1
 4937                        	
 4938                        		.dbg	line,	"include\routines_INTRO.c", 257; sgx_spr_y(player_pos_y + ((i>>2)<<5));
 4939                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         02:C7F7  AD 2D 2C   			lda	__sequence_INTRO_end - 1
         02:C7FA  C2         			cly
 4940                        		__lsr.uiq	2
         02:C7FB  4A         			lsr	a
         02:C7FC  4A         			lsr	a
 4941                        		__asl.wi	5
         02:C7FD  85 00      			sta	__temp
         02:C7FF  98         			tya
         02:C800  4A         			lsr	a
         02:C801  20 C8 E1   			jsr	aslw5
         02:C804  29 E0      			and.l	#$FF << 5
 4942                        		__add.wm	_player_pos_y
         02:C806  18         			clc
         02:C807  6D 03 25   			adc.l	_player_pos_y
         02:C80A  42         			say
         02:C80B  6D 04 25   			adc.h	_player_pos_y
         02:C80E  42         			say
 4943                        		__call		_sgx_spr_y.1
         02:C80F  20 DA E8   			call	_sgx_spr_y.1
 4944                        	
 4945                        		.dbg	line,	"include\routines_INTRO.c", 258; }
 4946                        		__bra		.LL98
         02:C812  80 9E      			bra	.LL98
 4947    02:C814             	.LL100:
 4948                        	
 4949                        		.dbg	line,	"include\routines_INTRO.c", 260; vdc_map_pxl_x = 256;
 4950                        		__st.wmiq	256, _vdc_map_pxl_x
         02:C814  9C D4 26   			stz.l	_vdc_map_pxl_x
         02:C817  A9 01      			lda.h	#256
         02:C819  8D D5 26   			sta.h	_vdc_map_pxl_x
 4951                        	
 4952                        		.dbg	line,	"include\routines_INTRO.c", 261; vdc_map_pxl_y = 0;
 4953                        		__st.wmiq	0, _vdc_map_pxl_y
         02:C81C  9C D6 26   			stz.l	_vdc_map_pxl_y
         02:C81F  9C D7 26   			stz.h	_vdc_map_pxl_y
 4954                        	
 4955                        		.dbg	line,	"include\routines_INTRO.c", 262; scroll_split(0,   0, vdc_map_pxl_x & (511), vdc_map_pxl_y & (511), BKG_ON | SPR_ON);
 4956                        		__st.umiq	0, _al
         02:C822  64 F8      			stz	_al
 4957                        		__st.umiq	0, _ah
         02:C824  64 F9      			stz	_ah
 4958                        		__ld.wm		_vdc_map_pxl_x
         02:C826  AD D4 26   			lda.l	_vdc_map_pxl_x
         02:C829  AC D5 26   			ldy.h	_vdc_map_pxl_x
 4959                        		__and.wi	511
         02:C82C  29 FF      			and.l	#511
         02:C82E  42         			say
         02:C82F  29 01      			and.h	#511
         02:C831  42         			say
 4960                        		__st.wmq	_bx
         02:C832  85 FA      			sta.l	_bx
         02:C834  84 FB      			sty.h	_bx
 4961                        		__ld.wm		_vdc_map_pxl_y
         02:C836  AD D6 26   			lda.l	_vdc_map_pxl_y
         02:C839  AC D7 26   			ldy.h	_vdc_map_pxl_y
 4962                        		__and.wi	511
         02:C83C  29 FF      			and.l	#511
         02:C83E  42         			say
         02:C83F  29 01      			and.h	#511
         02:C841  42         			say
 4963                        		__st.wmq	_cx
         02:C842  85 FC      			sta.l	_cx
         02:C844  84 FD      			sty.h	_cx
 4964                        		__st.umiq	192, _dl
         02:C846  A9 C0      			lda.l	#192
         02:C848  85 FE      			sta	_dl
 4965                        		__call		_scroll_split.5
         02:C84A  20 81 FF   			call	_scroll_split.5
 4966                        	
 4967                        		.dbg	line,	"include\routines_INTRO.c", 263; }
 4968                        	
 4969                        		.dbg	line,	"include\routines_INTRO.c", 265; else if(global_counter == 162)
 4970                        		__bra		.LL101
         02:C84D  4C 24 CF   			bra	.LL101
 4971    02:C850             	.LL96:
 4972                        		__ld.wm		_global_counter
         02:C850  AD 5B 26   			lda.l	_global_counter
         02:C853  AC 5C 26   			ldy.h	_global_counter
 4973                        		__equ_w.wi	162
         02:C856  C9 A2      			cmp.l	#162
         02:C858  D0 04      			bne	!false+
         02:C85A  C0 00      			cpy.h	#162
         02:C85C  F0 01      			beq	!+
         02:C85E  18         	!false:		clc
         02:C85F             	!:
 4974                        		__bfalse	.LL102
         02:C85F  90 24      			bcc	.LL102
 4975                        	
 4976                        		.dbg	line,	"include\routines_INTRO.c", 266; {
 4977                        	
 4978                        		.dbg	line,	"include\routines_INTRO.c", 267; for(i=0 ; i<8 ; i++)
 4979                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         02:C861  9C 2D 2C   			stz	__sequence_INTRO_end - 1
 4980    02:C864             	.LL103:
 4981                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:C864  AD 2D 2C   			lda	__sequence_INTRO_end - 1
 4982                        		__ult_b.uiq	8
         02:C867  C9 08      			cmp	#8		; Subtract integer from A.
         02:C869  6A         			ror	a		; CC if A < integer.
         02:C86A  49 80      			eor	#$80
         02:C86C  2A         			rol	a
 4983                        		__btrue		.LL105
         02:C86D  B0 08      			bcs	.LL105
 4984                        		__bra		.LL106
         02:C86F  4C 24 CF   			bra	.LL106
 4985    02:C872             	.LL104:
 4986                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         02:C872  EE 2D 2C   			inc	__sequence_INTRO_end - 1
 4987                        		__bra		.LL103
         02:C875  80 ED      			bra	.LL103
 4988    02:C877             	.LL105:
 4989                        	
 4990                        		.dbg	line,	"include\routines_INTRO.c", 268; {
 4991                        	
 4992                        		.dbg	line,	"include\routines_INTRO.c", 269; sgx_spr_set(i);
 4993                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:C877  AD 2D 2C   			lda	__sequence_INTRO_end - 1
 4994                        		__call		_sgx_spr_set.1
         02:C87A  20 9E E8   			call	_sgx_spr_set.1
 4995                        	
 4996                        		.dbg	line,	"include\routines_INTRO.c", 270; sgx_spr_hide();
 4997                        		__call		_sgx_spr_hide
         02:C87D  20 B9 E8   			call	_sgx_spr_hide
 4998                        	
 4999                        		.dbg	line,	"include\routines_INTRO.c", 271; }
 5000                        		__bra		.LL104
         02:C880  80 F0      			bra	.LL104
 5001    02:C882             	.LL106	.alias		.LL107
 5002                        	
 5003                        		.dbg	line,	"include\routines_INTRO.c", 272; }
 5004                        	
 5005                        		.dbg	line,	"include\routines_INTRO.c", 274; else if(global_counter == 163)
 5006                        		__bra		.LL107
         02:C882  4C 24 CF   			bra	.LL107
 5007    02:C885             	.LL102:
 5008                        		__ld.wm		_global_counter
         02:C885  AD 5B 26   			lda.l	_global_counter
         02:C888  AC 5C 26   			ldy.h	_global_counter
 5009                        		__equ_w.wi	163
         02:C88B  C9 A3      			cmp.l	#163
         02:C88D  D0 04      			bne	!false+
         02:C88F  C0 00      			cpy.h	#163
         02:C891  F0 01      			beq	!+
         02:C893  18         	!false:		clc
         02:C894             	!:
 5010                        		__bfalse	.LL108
         02:C894  90 3A      			bcc	.LL108
 5011                        	
 5012                        		.dbg	line,	"include\routines_INTRO.c", 275; {
 5013                        	
 5014                        		.dbg	line,	"include\routines_INTRO.c", 276; vdc_map_pxl_x = 0;
 5015                        		__st.wmiq	0, _vdc_map_pxl_x
         02:C896  9C D4 26   			stz.l	_vdc_map_pxl_x
         02:C899  9C D5 26   			stz.h	_vdc_map_pxl_x
 5016                        	
 5017                        		.dbg	line,	"include\routines_INTRO.c", 277; vdc_map_pxl_y = 0;
 5018                        		__st.wmiq	0, _vdc_map_pxl_y
         02:C89C  9C D6 26   			stz.l	_vdc_map_pxl_y
         02:C89F  9C D7 26   			stz.h	_vdc_map_pxl_y
 5019                        	
 5020                        		.dbg	line,	"include\routines_INTRO.c", 278; scroll_split(0,   0, vdc_map_pxl_x & (511), vdc_map_pxl_y & (511), BKG_ON | SPR_ON);
 5021                        		__st.umiq	0, _al
         02:C8A2  64 F8      			stz	_al
 5022                        		__st.umiq	0, _ah
         02:C8A4  64 F9      			stz	_ah
 5023                        		__ld.wm		_vdc_map_pxl_x
         02:C8A6  AD D4 26   			lda.l	_vdc_map_pxl_x
         02:C8A9  AC D5 26   			ldy.h	_vdc_map_pxl_x
 5024                        		__and.wi	511
         02:C8AC  29 FF      			and.l	#511
         02:C8AE  42         			say
         02:C8AF  29 01      			and.h	#511
         02:C8B1  42         			say
 5025                        		__st.wmq	_bx
         02:C8B2  85 FA      			sta.l	_bx
         02:C8B4  84 FB      			sty.h	_bx
 5026                        		__ld.wm		_vdc_map_pxl_y
         02:C8B6  AD D6 26   			lda.l	_vdc_map_pxl_y
         02:C8B9  AC D7 26   			ldy.h	_vdc_map_pxl_y
 5027                        		__and.wi	511
         02:C8BC  29 FF      			and.l	#511
         02:C8BE  42         			say
         02:C8BF  29 01      			and.h	#511
         02:C8C1  42         			say
 5028                        		__st.wmq	_cx
         02:C8C2  85 FC      			sta.l	_cx
         02:C8C4  84 FD      			sty.h	_cx
 5029                        		__st.umiq	192, _dl
         02:C8C6  A9 C0      			lda.l	#192
         02:C8C8  85 FE      			sta	_dl
 5030                        		__call		_scroll_split.5
         02:C8CA  20 81 FF   			call	_scroll_split.5
 5031                        	
 5032                        		.dbg	line,	"include\routines_INTRO.c", 279; }
 5033                        	
 5034                        		.dbg	line,	"include\routines_INTRO.c", 281; else if(global_counter == 164)
 5035                        		__bra		.LL109
         02:C8CD  4C 24 CF   			bra	.LL109
 5036    02:C8D0             	.LL108:
 5037                        		__ld.wm		_global_counter
         02:C8D0  AD 5B 26   			lda.l	_global_counter
         02:C8D3  AC 5C 26   			ldy.h	_global_counter
 5038                        		__equ_w.wi	164
         02:C8D6  C9 A4      			cmp.l	#164
         02:C8D8  D0 04      			bne	!false+
         02:C8DA  C0 00      			cpy.h	#164
         02:C8DC  F0 01      			beq	!+
         02:C8DE  18         	!false:		clc
         02:C8DF             	!:
 5039                        		__bfalse	.LL110
         02:C8DF  B0 03 4C 6E			bcc	.LL110
         02:C8E3  C9          
 5040                        	
 5041                        		.dbg	line,	"include\routines_INTRO.c", 282; {
 5042                        	
 5043                        		.dbg	line,	"include\routines_INTRO.c", 283; for(i=0 ; i<8 ; i++)
 5044                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         02:C8E4  9C 2D 2C   			stz	__sequence_INTRO_end - 1
 5045    02:C8E7             	.LL111:
 5046                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:C8E7  AD 2D 2C   			lda	__sequence_INTRO_end - 1
 5047                        		__ult_b.uiq	8
         02:C8EA  C9 08      			cmp	#8		; Subtract integer from A.
         02:C8EC  6A         			ror	a		; CC if A < integer.
         02:C8ED  49 80      			eor	#$80
         02:C8EF  2A         			rol	a
 5048                        		__btrue		.LL113
         02:C8F0  B0 07      			bcs	.LL113
 5049                        		__bra		.LL114
         02:C8F2  80 62      			bra	.LL114
 5050    02:C8F4             	.LL112:
 5051                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         02:C8F4  EE 2D 2C   			inc	__sequence_INTRO_end - 1
 5052                        		__bra		.LL111
         02:C8F7  80 EE      			bra	.LL111
 5053    02:C8F9             	.LL113:
 5054                        	
 5055                        		.dbg	line,	"include\routines_INTRO.c", 284; {
 5056                        	
 5057                        		.dbg	line,	"include\routines_INTRO.c", 285; sgx_spr_set(i);
 5058                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:C8F9  AD 2D 2C   			lda	__sequence_INTRO_end - 1
 5059                        		__call		_sgx_spr_set.1
         02:C8FC  20 9E E8   			call	_sgx_spr_set.1
 5060                        	
 5061                        		.dbg	line,	"include\routines_INTRO.c", 286; sgx_spr_x(player_pos_x + (i<<5) - ((i>>2)<<7));
 5062                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         02:C8FF  AD 2D 2C   			lda	__sequence_INTRO_end - 1
         02:C902  C2         			cly
 5063                        		__asl.wi	5
         02:C903  85 00      			sta	__temp
         02:C905  98         			tya
         02:C906  4A         			lsr	a
         02:C907  20 C8 E1   			jsr	aslw5
         02:C90A  29 E0      			and.l	#$FF << 5
 5064                        		__add.wm	_player_pos_x
         02:C90C  18         			clc
         02:C90D  6D 01 25   			adc.l	_player_pos_x
         02:C910  42         			say
         02:C911  6D 02 25   			adc.h	_player_pos_x
         02:C914  42         			say
 5065                        		__push.wr
         02:C915  5A         			phy
         02:C916  48         			pha
 5066                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         02:C917  AD 2D 2C   			lda	__sequence_INTRO_end - 1
         02:C91A  C2         			cly
 5067                        		__lsr.uiq	2
         02:C91B  4A         			lsr	a
         02:C91C  4A         			lsr	a
 5068                        		__asl.wi	7
         02:C91D  42         			say
         02:C91E  4A         			lsr	a
         02:C91F  42         			say
         02:C920  6A         			ror	a
         02:C921  42         			say
         02:C922  6A         			ror	a
         02:C923  29 80      			and	#$80
 5069                        		__sub.wt
         02:C925  BA         			tsx
         02:C926  38         			sec
         02:C927  49 FF      			eor	#$FF
         02:C929  7D 01 21   			adc.l	__tos, x
         02:C92C  42         			say
         02:C92D  49 FF      			eor	#$FF
         02:C92F  7D 02 21   			adc.h	__tos, x
         02:C932  42         			say
         02:C933  E8         			inx
         02:C934  E8         			inx
         02:C935  9A         			txs
 5070                        		__call		_sgx_spr_x.1
         02:C936  20 CB E8   			call	_sgx_spr_x.1
 5071                        	
 5072                        		.dbg	line,	"include\routines_INTRO.c", 287; sgx_spr_y(player_pos_y + ((i>>2)<<5));
 5073                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         02:C939  AD 2D 2C   			lda	__sequence_INTRO_end - 1
         02:C93C  C2         			cly
 5074                        		__lsr.uiq	2
         02:C93D  4A         			lsr	a
         02:C93E  4A         			lsr	a
 5075                        		__asl.wi	5
         02:C93F  85 00      			sta	__temp
         02:C941  98         			tya
         02:C942  4A         			lsr	a
         02:C943  20 C8 E1   			jsr	aslw5
         02:C946  29 E0      			and.l	#$FF << 5
 5076                        		__add.wm	_player_pos_y
         02:C948  18         			clc
         02:C949  6D 03 25   			adc.l	_player_pos_y
         02:C94C  42         			say
         02:C94D  6D 04 25   			adc.h	_player_pos_y
         02:C950  42         			say
 5077                        		__call		_sgx_spr_y.1
         02:C951  20 DA E8   			call	_sgx_spr_y.1
 5078                        	
 5079                        		.dbg	line,	"include\routines_INTRO.c", 288; }
 5080                        		__bra		.LL112
         02:C954  80 9E      			bra	.LL112
 5081    02:C956             	.LL114:
 5082                        	
 5083                        		.dbg	line,	"include\routines_INTRO.c", 290; load_palette( 0, palette_INTRO_2, 1 );
 5084                        		__st.umiq	0, _al
         02:C956  64 F8      			stz	_al
 5085                        		__farptr	_palette_INTRO_2, _bp_bank, _bp
         02:C958  A9 E0      			lda.l	#$6000 + ($1FFF & (_palette_INTRO_2))
         02:C95A  85 EC      			sta.l	_bp
         02:C95C  A9 78      			lda.h	#$6000 + ($1FFF & (_palette_INTRO_2))
         02:C95E  85 ED      			sta.h	_bp
         02:C960  A9 06      			lda	#bank(_palette_INTRO_2)
         02:C962  85 02      			sta	_bp_bank
 5086                        		__st.umiq	1, _ah
         02:C964  A9 01      			lda.l	#1
         02:C966  85 F9      			sta	_ah
 5087                        		__call		_load_palette.3
         02:C968  20 8B FF   			call	_load_palette.3
 5088                        	
 5089                        		.dbg	line,	"include\routines_INTRO.c", 291; }
 5090                        	
 5091                        		.dbg	line,	"include\routines_INTRO.c", 293; else if(global_counter == 166)
 5092                        		__bra		.LL115
         02:C96B  4C 24 CF   			bra	.LL115
 5093    02:C96E             	.LL110:
 5094                        		__ld.wm		_global_counter
         02:C96E  AD 5B 26   			lda.l	_global_counter
         02:C971  AC 5C 26   			ldy.h	_global_counter
 5095                        		__equ_w.wi	166
         02:C974  C9 A6      			cmp.l	#166
         02:C976  D0 04      			bne	!false+
         02:C978  C0 00      			cpy.h	#166
         02:C97A  F0 01      			beq	!+
         02:C97C  18         	!false:		clc
         02:C97D             	!:
 5096                        		__bfalse	.LL116
         02:C97D  90 24      			bcc	.LL116
 5097                        	
 5098                        		.dbg	line,	"include\routines_INTRO.c", 294; {
 5099                        	
 5100                        		.dbg	line,	"include\routines_INTRO.c", 295; for(i=0 ; i<8 ; i++)
 5101                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         02:C97F  9C 2D 2C   			stz	__sequence_INTRO_end - 1
 5102    02:C982             	.LL117:
 5103                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:C982  AD 2D 2C   			lda	__sequence_INTRO_end - 1
 5104                        		__ult_b.uiq	8
         02:C985  C9 08      			cmp	#8		; Subtract integer from A.
         02:C987  6A         			ror	a		; CC if A < integer.
         02:C988  49 80      			eor	#$80
         02:C98A  2A         			rol	a
 5105                        		__btrue		.LL119
         02:C98B  B0 08      			bcs	.LL119
 5106                        		__bra		.LL120
         02:C98D  4C 24 CF   			bra	.LL120
 5107    02:C990             	.LL118:
 5108                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         02:C990  EE 2D 2C   			inc	__sequence_INTRO_end - 1
 5109                        		__bra		.LL117
         02:C993  80 ED      			bra	.LL117
 5110    02:C995             	.LL119:
 5111                        	
 5112                        		.dbg	line,	"include\routines_INTRO.c", 296; {
 5113                        	
 5114                        		.dbg	line,	"include\routines_INTRO.c", 297; sgx_spr_set(i);
 5115                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:C995  AD 2D 2C   			lda	__sequence_INTRO_end - 1
 5116                        		__call		_sgx_spr_set.1
         02:C998  20 9E E8   			call	_sgx_spr_set.1
 5117                        	
 5118                        		.dbg	line,	"include\routines_INTRO.c", 298; sgx_spr_hide();
 5119                        		__call		_sgx_spr_hide
         02:C99B  20 B9 E8   			call	_sgx_spr_hide
 5120                        	
 5121                        		.dbg	line,	"include\routines_INTRO.c", 299; }
 5122                        		__bra		.LL118
         02:C99E  80 F0      			bra	.LL118
 5123    02:C9A0             	.LL120	.alias		.LL121
 5124                        	
 5125                        		.dbg	line,	"include\routines_INTRO.c", 300; }
 5126                        	
 5127                        		.dbg	line,	"include\routines_INTRO.c", 302; else if(global_counter == 168)
 5128                        		__bra		.LL121
         02:C9A0  4C 24 CF   			bra	.LL121
 5129    02:C9A3             	.LL116:
 5130                        		__ld.wm		_global_counter
         02:C9A3  AD 5B 26   			lda.l	_global_counter
         02:C9A6  AC 5C 26   			ldy.h	_global_counter
 5131                        		__equ_w.wi	168
         02:C9A9  C9 A8      			cmp.l	#168
         02:C9AB  D0 04      			bne	!false+
         02:C9AD  C0 00      			cpy.h	#168
         02:C9AF  F0 01      			beq	!+
         02:C9B1  18         	!false:		clc
         02:C9B2             	!:
 5132                        		__bfalse	.LL122
         02:C9B2  B0 03 4C 74			bcc	.LL122
         02:C9B6  CA          
 5133                        	
 5134                        		.dbg	line,	"include\routines_INTRO.c", 303; {
 5135                        	
 5136                        		.dbg	line,	"include\routines_INTRO.c", 304; for(i=0 ; i<8 ; i++)
 5137                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         02:C9B7  9C 2D 2C   			stz	__sequence_INTRO_end - 1
 5138    02:C9BA             	.LL123:
 5139                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:C9BA  AD 2D 2C   			lda	__sequence_INTRO_end - 1
 5140                        		__ult_b.uiq	8
         02:C9BD  C9 08      			cmp	#8		; Subtract integer from A.
         02:C9BF  6A         			ror	a		; CC if A < integer.
         02:C9C0  49 80      			eor	#$80
         02:C9C2  2A         			rol	a
 5141                        		__btrue		.LL125
         02:C9C3  B0 07      			bcs	.LL125
 5142                        		__bra		.LL126
         02:C9C5  80 62      			bra	.LL126
 5143    02:C9C7             	.LL124:
 5144                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         02:C9C7  EE 2D 2C   			inc	__sequence_INTRO_end - 1
 5145                        		__bra		.LL123
         02:C9CA  80 EE      			bra	.LL123
 5146    02:C9CC             	.LL125:
 5147                        	
 5148                        		.dbg	line,	"include\routines_INTRO.c", 305; {
 5149                        	
 5150                        		.dbg	line,	"include\routines_INTRO.c", 306; sgx_spr_set(i);
 5151                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:C9CC  AD 2D 2C   			lda	__sequence_INTRO_end - 1
 5152                        		__call		_sgx_spr_set.1
         02:C9CF  20 9E E8   			call	_sgx_spr_set.1
 5153                        	
 5154                        		.dbg	line,	"include\routines_INTRO.c", 307; sgx_spr_x(player_pos_x + (i<<5) - ((i>>2)<<7));
 5155                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         02:C9D2  AD 2D 2C   			lda	__sequence_INTRO_end - 1
         02:C9D5  C2         			cly
 5156                        		__asl.wi	5
         02:C9D6  85 00      			sta	__temp
         02:C9D8  98         			tya
         02:C9D9  4A         			lsr	a
         02:C9DA  20 C8 E1   			jsr	aslw5
         02:C9DD  29 E0      			and.l	#$FF << 5
 5157                        		__add.wm	_player_pos_x
         02:C9DF  18         			clc
         02:C9E0  6D 01 25   			adc.l	_player_pos_x
         02:C9E3  42         			say
         02:C9E4  6D 02 25   			adc.h	_player_pos_x
         02:C9E7  42         			say
 5158                        		__push.wr
         02:C9E8  5A         			phy
         02:C9E9  48         			pha
 5159                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         02:C9EA  AD 2D 2C   			lda	__sequence_INTRO_end - 1
         02:C9ED  C2         			cly
 5160                        		__lsr.uiq	2
         02:C9EE  4A         			lsr	a
         02:C9EF  4A         			lsr	a
 5161                        		__asl.wi	7
         02:C9F0  42         			say
         02:C9F1  4A         			lsr	a
         02:C9F2  42         			say
         02:C9F3  6A         			ror	a
         02:C9F4  42         			say
         02:C9F5  6A         			ror	a
         02:C9F6  29 80      			and	#$80
 5162                        		__sub.wt
         02:C9F8  BA         			tsx
         02:C9F9  38         			sec
         02:C9FA  49 FF      			eor	#$FF
         02:C9FC  7D 01 21   			adc.l	__tos, x
         02:C9FF  42         			say
         02:CA00  49 FF      			eor	#$FF
         02:CA02  7D 02 21   			adc.h	__tos, x
         02:CA05  42         			say
         02:CA06  E8         			inx
         02:CA07  E8         			inx
         02:CA08  9A         			txs
 5163                        		__call		_sgx_spr_x.1
         02:CA09  20 CB E8   			call	_sgx_spr_x.1
 5164                        	
 5165                        		.dbg	line,	"include\routines_INTRO.c", 308; sgx_spr_y(player_pos_y + ((i>>2)<<5));
 5166                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         02:CA0C  AD 2D 2C   			lda	__sequence_INTRO_end - 1
         02:CA0F  C2         			cly
 5167                        		__lsr.uiq	2
         02:CA10  4A         			lsr	a
         02:CA11  4A         			lsr	a
 5168                        		__asl.wi	5
         02:CA12  85 00      			sta	__temp
         02:CA14  98         			tya
         02:CA15  4A         			lsr	a
         02:CA16  20 C8 E1   			jsr	aslw5
         02:CA19  29 E0      			and.l	#$FF << 5
 5169                        		__add.wm	_player_pos_y
         02:CA1B  18         			clc
         02:CA1C  6D 03 25   			adc.l	_player_pos_y
         02:CA1F  42         			say
         02:CA20  6D 04 25   			adc.h	_player_pos_y
         02:CA23  42         			say
 5170                        		__call		_sgx_spr_y.1
         02:CA24  20 DA E8   			call	_sgx_spr_y.1
 5171                        	
 5172                        		.dbg	line,	"include\routines_INTRO.c", 309; }
 5173                        		__bra		.LL124
         02:CA27  80 9E      			bra	.LL124
 5174    02:CA29             	.LL126:
 5175                        	
 5176                        		.dbg	line,	"include\routines_INTRO.c", 311; vdc_map_pxl_y = 256;
 5177                        		__st.wmiq	256, _vdc_map_pxl_y
         02:CA29  9C D6 26   			stz.l	_vdc_map_pxl_y
         02:CA2C  A9 01      			lda.h	#256
         02:CA2E  8D D7 26   			sta.h	_vdc_map_pxl_y
 5178                        	
 5179                        		.dbg	line,	"include\routines_INTRO.c", 312; scroll_split(0,   0, vdc_map_pxl_x & (511), vdc_map_pxl_y & (511), BKG_ON | SPR_ON);
 5180                        		__st.umiq	0, _al
         02:CA31  64 F8      			stz	_al
 5181                        		__st.umiq	0, _ah
         02:CA33  64 F9      			stz	_ah
 5182                        		__ld.wm		_vdc_map_pxl_x
         02:CA35  AD D4 26   			lda.l	_vdc_map_pxl_x
         02:CA38  AC D5 26   			ldy.h	_vdc_map_pxl_x
 5183                        		__and.wi	511
         02:CA3B  29 FF      			and.l	#511
         02:CA3D  42         			say
         02:CA3E  29 01      			and.h	#511
         02:CA40  42         			say
 5184                        		__st.wmq	_bx
         02:CA41  85 FA      			sta.l	_bx
         02:CA43  84 FB      			sty.h	_bx
 5185                        		__ld.wm		_vdc_map_pxl_y
         02:CA45  AD D6 26   			lda.l	_vdc_map_pxl_y
         02:CA48  AC D7 26   			ldy.h	_vdc_map_pxl_y
 5186                        		__and.wi	511
         02:CA4B  29 FF      			and.l	#511
         02:CA4D  42         			say
         02:CA4E  29 01      			and.h	#511
         02:CA50  42         			say
 5187                        		__st.wmq	_cx
         02:CA51  85 FC      			sta.l	_cx
         02:CA53  84 FD      			sty.h	_cx
 5188                        		__st.umiq	192, _dl
         02:CA55  A9 C0      			lda.l	#192
         02:CA57  85 FE      			sta	_dl
 5189                        		__call		_scroll_split.5
         02:CA59  20 81 FF   			call	_scroll_split.5
 5190                        	
 5191                        		.dbg	line,	"include\routines_INTRO.c", 313; 
 5192                        	
 5193                        		.dbg	line,	"include\routines_INTRO.c", 314; load_palette( 0, palette_INTRO_3, 1 );
 5194                        		__st.umiq	0, _al
         02:CA5C  64 F8      			stz	_al
 5195                        		__farptr	_palette_INTRO_3, _bp_bank, _bp
         02:CA5E  A9 E0      			lda.l	#$6000 + ($1FFF & (_palette_INTRO_3))
         02:CA60  85 EC      			sta.l	_bp
         02:CA62  A9 7A      			lda.h	#$6000 + ($1FFF & (_palette_INTRO_3))
         02:CA64  85 ED      			sta.h	_bp
         02:CA66  A9 06      			lda	#bank(_palette_INTRO_3)
         02:CA68  85 02      			sta	_bp_bank
 5196                        		__st.umiq	1, _ah
         02:CA6A  A9 01      			lda.l	#1
         02:CA6C  85 F9      			sta	_ah
 5197                        		__call		_load_palette.3
         02:CA6E  20 8B FF   			call	_load_palette.3
 5198                        	
 5199                        		.dbg	line,	"include\routines_INTRO.c", 315; }
 5200                        	
 5201                        		.dbg	line,	"include\routines_INTRO.c", 317; else if(global_counter == 170)
 5202                        		__bra		.LL127
         02:CA71  4C 24 CF   			bra	.LL127
 5203    02:CA74             	.LL122:
 5204                        		__ld.wm		_global_counter
         02:CA74  AD 5B 26   			lda.l	_global_counter
         02:CA77  AC 5C 26   			ldy.h	_global_counter
 5205                        		__equ_w.wi	170
         02:CA7A  C9 AA      			cmp.l	#170
         02:CA7C  D0 04      			bne	!false+
         02:CA7E  C0 00      			cpy.h	#170
         02:CA80  F0 01      			beq	!+
         02:CA82  18         	!false:		clc
         02:CA83             	!:
 5206                        		__bfalse	.LL128
         02:CA83  90 24      			bcc	.LL128
 5207                        	
 5208                        		.dbg	line,	"include\routines_INTRO.c", 318; {
 5209                        	
 5210                        		.dbg	line,	"include\routines_INTRO.c", 319; for(i=0 ; i<8 ; i++)
 5211                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         02:CA85  9C 2D 2C   			stz	__sequence_INTRO_end - 1
 5212    02:CA88             	.LL129:
 5213                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:CA88  AD 2D 2C   			lda	__sequence_INTRO_end - 1
 5214                        		__ult_b.uiq	8
         02:CA8B  C9 08      			cmp	#8		; Subtract integer from A.
         02:CA8D  6A         			ror	a		; CC if A < integer.
         02:CA8E  49 80      			eor	#$80
         02:CA90  2A         			rol	a
 5215                        		__btrue		.LL131
         02:CA91  B0 08      			bcs	.LL131
 5216                        		__bra		.LL132
         02:CA93  4C 24 CF   			bra	.LL132
 5217    02:CA96             	.LL130:
 5218                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         02:CA96  EE 2D 2C   			inc	__sequence_INTRO_end - 1
 5219                        		__bra		.LL129
         02:CA99  80 ED      			bra	.LL129
 5220    02:CA9B             	.LL131:
 5221                        	
 5222                        		.dbg	line,	"include\routines_INTRO.c", 320; {
 5223                        	
 5224                        		.dbg	line,	"include\routines_INTRO.c", 321; sgx_spr_set(i);
 5225                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:CA9B  AD 2D 2C   			lda	__sequence_INTRO_end - 1
 5226                        		__call		_sgx_spr_set.1
         02:CA9E  20 9E E8   			call	_sgx_spr_set.1
 5227                        	
 5228                        		.dbg	line,	"include\routines_INTRO.c", 322; sgx_spr_hide();
 5229                        		__call		_sgx_spr_hide
         02:CAA1  20 B9 E8   			call	_sgx_spr_hide
 5230                        	
 5231                        		.dbg	line,	"include\routines_INTRO.c", 323; }
 5232                        		__bra		.LL130
         02:CAA4  80 F0      			bra	.LL130
 5233    02:CAA6             	.LL132	.alias		.LL133
 5234                        	
 5235                        		.dbg	line,	"include\routines_INTRO.c", 324; }
 5236                        	
 5237                        		.dbg	line,	"include\routines_INTRO.c", 326; else if(global_counter == 172)
 5238                        		__bra		.LL133
         02:CAA6  4C 24 CF   			bra	.LL133
 5239    02:CAA9             	.LL128:
 5240                        		__ld.wm		_global_counter
         02:CAA9  AD 5B 26   			lda.l	_global_counter
         02:CAAC  AC 5C 26   			ldy.h	_global_counter
 5241                        		__equ_w.wi	172
         02:CAAF  C9 AC      			cmp.l	#172
         02:CAB1  D0 04      			bne	!false+
         02:CAB3  C0 00      			cpy.h	#172
         02:CAB5  F0 01      			beq	!+
         02:CAB7  18         	!false:		clc
         02:CAB8             	!:
 5242                        		__bfalse	.LL134
         02:CAB8  B0 03 4C 63			bcc	.LL134
         02:CABC  CB          
 5243                        	
 5244                        		.dbg	line,	"include\routines_INTRO.c", 327; {
 5245                        	
 5246                        		.dbg	line,	"include\routines_INTRO.c", 328; for(i=0 ; i<8 ; i++)
 5247                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         02:CABD  9C 2D 2C   			stz	__sequence_INTRO_end - 1
 5248    02:CAC0             	.LL135:
 5249                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:CAC0  AD 2D 2C   			lda	__sequence_INTRO_end - 1
 5250                        		__ult_b.uiq	8
         02:CAC3  C9 08      			cmp	#8		; Subtract integer from A.
         02:CAC5  6A         			ror	a		; CC if A < integer.
         02:CAC6  49 80      			eor	#$80
         02:CAC8  2A         			rol	a
 5251                        		__btrue		.LL137
         02:CAC9  B0 07      			bcs	.LL137
 5252                        		__bra		.LL138
         02:CACB  80 62      			bra	.LL138
 5253    02:CACD             	.LL136:
 5254                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         02:CACD  EE 2D 2C   			inc	__sequence_INTRO_end - 1
 5255                        		__bra		.LL135
         02:CAD0  80 EE      			bra	.LL135
 5256    02:CAD2             	.LL137:
 5257                        	
 5258                        		.dbg	line,	"include\routines_INTRO.c", 329; {
 5259                        	
 5260                        		.dbg	line,	"include\routines_INTRO.c", 330; sgx_spr_set(i);
 5261                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:CAD2  AD 2D 2C   			lda	__sequence_INTRO_end - 1
 5262                        		__call		_sgx_spr_set.1
         02:CAD5  20 9E E8   			call	_sgx_spr_set.1
 5263                        	
 5264                        		.dbg	line,	"include\routines_INTRO.c", 331; sgx_spr_x(player_pos_x + (i<<5) - ((i>>2)<<7));
 5265                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         02:CAD8  AD 2D 2C   			lda	__sequence_INTRO_end - 1
         02:CADB  C2         			cly
 5266                        		__asl.wi	5
         02:CADC  85 00      			sta	__temp
         02:CADE  98         			tya
         02:CADF  4A         			lsr	a
         02:CAE0  20 C8 E1   			jsr	aslw5
         02:CAE3  29 E0      			and.l	#$FF << 5
 5267                        		__add.wm	_player_pos_x
         02:CAE5  18         			clc
         02:CAE6  6D 01 25   			adc.l	_player_pos_x
         02:CAE9  42         			say
         02:CAEA  6D 02 25   			adc.h	_player_pos_x
         02:CAED  42         			say
 5268                        		__push.wr
         02:CAEE  5A         			phy
         02:CAEF  48         			pha
 5269                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         02:CAF0  AD 2D 2C   			lda	__sequence_INTRO_end - 1
         02:CAF3  C2         			cly
 5270                        		__lsr.uiq	2
         02:CAF4  4A         			lsr	a
         02:CAF5  4A         			lsr	a
 5271                        		__asl.wi	7
         02:CAF6  42         			say
         02:CAF7  4A         			lsr	a
         02:CAF8  42         			say
         02:CAF9  6A         			ror	a
         02:CAFA  42         			say
         02:CAFB  6A         			ror	a
         02:CAFC  29 80      			and	#$80
 5272                        		__sub.wt
         02:CAFE  BA         			tsx
         02:CAFF  38         			sec
         02:CB00  49 FF      			eor	#$FF
         02:CB02  7D 01 21   			adc.l	__tos, x
         02:CB05  42         			say
         02:CB06  49 FF      			eor	#$FF
         02:CB08  7D 02 21   			adc.h	__tos, x
         02:CB0B  42         			say
         02:CB0C  E8         			inx
         02:CB0D  E8         			inx
         02:CB0E  9A         			txs
 5273                        		__call		_sgx_spr_x.1
         02:CB0F  20 CB E8   			call	_sgx_spr_x.1
 5274                        	
 5275                        		.dbg	line,	"include\routines_INTRO.c", 332; sgx_spr_y(player_pos_y + ((i>>2)<<5));
 5276                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         02:CB12  AD 2D 2C   			lda	__sequence_INTRO_end - 1
         02:CB15  C2         			cly
 5277                        		__lsr.uiq	2
         02:CB16  4A         			lsr	a
         02:CB17  4A         			lsr	a
 5278                        		__asl.wi	5
         02:CB18  85 00      			sta	__temp
         02:CB1A  98         			tya
         02:CB1B  4A         			lsr	a
         02:CB1C  20 C8 E1   			jsr	aslw5
         02:CB1F  29 E0      			and.l	#$FF << 5
 5279                        		__add.wm	_player_pos_y
         02:CB21  18         			clc
         02:CB22  6D 03 25   			adc.l	_player_pos_y
         02:CB25  42         			say
         02:CB26  6D 04 25   			adc.h	_player_pos_y
         02:CB29  42         			say
 5280                        		__call		_sgx_spr_y.1
         02:CB2A  20 DA E8   			call	_sgx_spr_y.1
 5281                        	
 5282                        		.dbg	line,	"include\routines_INTRO.c", 333; }
 5283                        		__bra		.LL136
         02:CB2D  80 9E      			bra	.LL136
 5284    02:CB2F             	.LL138:
 5285                        	
 5286                        		.dbg	line,	"include\routines_INTRO.c", 335; vdc_map_pxl_y = 0;
 5287                        		__st.wmiq	0, _vdc_map_pxl_y
         02:CB2F  9C D6 26   			stz.l	_vdc_map_pxl_y
         02:CB32  9C D7 26   			stz.h	_vdc_map_pxl_y
 5288                        	
 5289                        		.dbg	line,	"include\routines_INTRO.c", 336; scroll_split(0,   0, vdc_map_pxl_x & (511), vdc_map_pxl_y & (511), BKG_ON | SPR_ON);
 5290                        		__st.umiq	0, _al
         02:CB35  64 F8      			stz	_al
 5291                        		__st.umiq	0, _ah
         02:CB37  64 F9      			stz	_ah
 5292                        		__ld.wm		_vdc_map_pxl_x
         02:CB39  AD D4 26   			lda.l	_vdc_map_pxl_x
         02:CB3C  AC D5 26   			ldy.h	_vdc_map_pxl_x
 5293                        		__and.wi	511
         02:CB3F  29 FF      			and.l	#511
         02:CB41  42         			say
         02:CB42  29 01      			and.h	#511
         02:CB44  42         			say
 5294                        		__st.wmq	_bx
         02:CB45  85 FA      			sta.l	_bx
         02:CB47  84 FB      			sty.h	_bx
 5295                        		__ld.wm		_vdc_map_pxl_y
         02:CB49  AD D6 26   			lda.l	_vdc_map_pxl_y
         02:CB4C  AC D7 26   			ldy.h	_vdc_map_pxl_y
 5296                        		__and.wi	511
         02:CB4F  29 FF      			and.l	#511
         02:CB51  42         			say
         02:CB52  29 01      			and.h	#511
         02:CB54  42         			say
 5297                        		__st.wmq	_cx
         02:CB55  85 FC      			sta.l	_cx
         02:CB57  84 FD      			sty.h	_cx
 5298                        		__st.umiq	192, _dl
         02:CB59  A9 C0      			lda.l	#192
         02:CB5B  85 FE      			sta	_dl
 5299                        		__call		_scroll_split.5
         02:CB5D  20 81 FF   			call	_scroll_split.5
 5300                        	
 5301                        		.dbg	line,	"include\routines_INTRO.c", 337; }
 5302                        	
 5303                        		.dbg	line,	"include\routines_INTRO.c", 339; else if(global_counter == 173)
 5304                        		__bra		.LL139
         02:CB60  4C 24 CF   			bra	.LL139
 5305    02:CB63             	.LL134:
 5306                        		__ld.wm		_global_counter
         02:CB63  AD 5B 26   			lda.l	_global_counter
         02:CB66  AC 5C 26   			ldy.h	_global_counter
 5307                        		__equ_w.wi	173
         02:CB69  C9 AD      			cmp.l	#173
         02:CB6B  D0 04      			bne	!false+
         02:CB6D  C0 00      			cpy.h	#173
         02:CB6F  F0 01      			beq	!+
         02:CB71  18         	!false:		clc
         02:CB72             	!:
 5308                        		__bfalse	.LL140
         02:CB72  90 18      			bcc	.LL140
 5309                        	
 5310                        		.dbg	line,	"include\routines_INTRO.c", 340; {
 5311                        	
 5312                        		.dbg	line,	"include\routines_INTRO.c", 341; load_palette( 0, palette_INTRO_2, 1 );
 5313                        		__st.umiq	0, _al
         02:CB74  64 F8      			stz	_al
 5314                        		__farptr	_palette_INTRO_2, _bp_bank, _bp
         02:CB76  A9 E0      			lda.l	#$6000 + ($1FFF & (_palette_INTRO_2))
         02:CB78  85 EC      			sta.l	_bp
         02:CB7A  A9 78      			lda.h	#$6000 + ($1FFF & (_palette_INTRO_2))
         02:CB7C  85 ED      			sta.h	_bp
         02:CB7E  A9 06      			lda	#bank(_palette_INTRO_2)
         02:CB80  85 02      			sta	_bp_bank
 5315                        		__st.umiq	1, _ah
         02:CB82  A9 01      			lda.l	#1
         02:CB84  85 F9      			sta	_ah
 5316                        		__call		_load_palette.3
         02:CB86  20 8B FF   			call	_load_palette.3
 5317                        	
 5318                        		.dbg	line,	"include\routines_INTRO.c", 342; }
 5319                        	
 5320                        		.dbg	line,	"include\routines_INTRO.c", 344; else if(global_counter == 174)
 5321                        		__bra		.LL141
         02:CB89  4C 24 CF   			bra	.LL141
 5322    02:CB8C             	.LL140:
 5323                        		__ld.wm		_global_counter
         02:CB8C  AD 5B 26   			lda.l	_global_counter
         02:CB8F  AC 5C 26   			ldy.h	_global_counter
 5324                        		__equ_w.wi	174
         02:CB92  C9 AE      			cmp.l	#174
         02:CB94  D0 04      			bne	!false+
         02:CB96  C0 00      			cpy.h	#174
         02:CB98  F0 01      			beq	!+
         02:CB9A  18         	!false:		clc
         02:CB9B             	!:
 5325                        		__bfalse	.LL142
         02:CB9B  90 24      			bcc	.LL142
 5326                        	
 5327                        		.dbg	line,	"include\routines_INTRO.c", 345; {
 5328                        	
 5329                        		.dbg	line,	"include\routines_INTRO.c", 346; for(i=0 ; i<8 ; i++)
 5330                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         02:CB9D  9C 2D 2C   			stz	__sequence_INTRO_end - 1
 5331    02:CBA0             	.LL143:
 5332                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:CBA0  AD 2D 2C   			lda	__sequence_INTRO_end - 1
 5333                        		__ult_b.uiq	8
         02:CBA3  C9 08      			cmp	#8		; Subtract integer from A.
         02:CBA5  6A         			ror	a		; CC if A < integer.
         02:CBA6  49 80      			eor	#$80
         02:CBA8  2A         			rol	a
 5334                        		__btrue		.LL145
         02:CBA9  B0 08      			bcs	.LL145
 5335                        		__bra		.LL146
         02:CBAB  4C 24 CF   			bra	.LL146
 5336    02:CBAE             	.LL144:
 5337                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         02:CBAE  EE 2D 2C   			inc	__sequence_INTRO_end - 1
 5338                        		__bra		.LL143
         02:CBB1  80 ED      			bra	.LL143
 5339    02:CBB3             	.LL145:
 5340                        	
 5341                        		.dbg	line,	"include\routines_INTRO.c", 347; {
 5342                        	
 5343                        		.dbg	line,	"include\routines_INTRO.c", 348; sgx_spr_set(i);
 5344                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:CBB3  AD 2D 2C   			lda	__sequence_INTRO_end - 1
 5345                        		__call		_sgx_spr_set.1
         02:CBB6  20 9E E8   			call	_sgx_spr_set.1
 5346                        	
 5347                        		.dbg	line,	"include\routines_INTRO.c", 349; sgx_spr_hide();
 5348                        		__call		_sgx_spr_hide
         02:CBB9  20 B9 E8   			call	_sgx_spr_hide
 5349                        	
 5350                        		.dbg	line,	"include\routines_INTRO.c", 350; }
 5351                        		__bra		.LL144
         02:CBBC  80 F0      			bra	.LL144
 5352    02:CBBE             	.LL146	.alias		.LL147
 5353                        	
 5354                        		.dbg	line,	"include\routines_INTRO.c", 351; }
 5355                        	
 5356                        		.dbg	line,	"include\routines_INTRO.c", 353; else if(global_counter == 176)
 5357                        		__bra		.LL147
         02:CBBE  4C 24 CF   			bra	.LL147
 5358    02:CBC1             	.LL142:
 5359                        		__ld.wm		_global_counter
         02:CBC1  AD 5B 26   			lda.l	_global_counter
         02:CBC4  AC 5C 26   			ldy.h	_global_counter
 5360                        		__equ_w.wi	176
         02:CBC7  C9 B0      			cmp.l	#176
         02:CBC9  D0 04      			bne	!false+
         02:CBCB  C0 00      			cpy.h	#176
         02:CBCD  F0 01      			beq	!+
         02:CBCF  18         	!false:		clc
         02:CBD0             	!:
 5361                        		__bfalse	.LL148
         02:CBD0  90 76      			bcc	.LL148
 5362                        	
 5363                        		.dbg	line,	"include\routines_INTRO.c", 354; {
 5364                        	
 5365                        		.dbg	line,	"include\routines_INTRO.c", 355; for(i=0 ; i<8 ; i++)
 5366                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         02:CBD2  9C 2D 2C   			stz	__sequence_INTRO_end - 1
 5367    02:CBD5             	.LL149:
 5368                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:CBD5  AD 2D 2C   			lda	__sequence_INTRO_end - 1
 5369                        		__ult_b.uiq	8
         02:CBD8  C9 08      			cmp	#8		; Subtract integer from A.
         02:CBDA  6A         			ror	a		; CC if A < integer.
         02:CBDB  49 80      			eor	#$80
         02:CBDD  2A         			rol	a
 5370                        		__btrue		.LL151
         02:CBDE  B0 08      			bcs	.LL151
 5371                        		__bra		.LL152
         02:CBE0  4C 24 CF   			bra	.LL152
 5372    02:CBE3             	.LL150:
 5373                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         02:CBE3  EE 2D 2C   			inc	__sequence_INTRO_end - 1
 5374                        		__bra		.LL149
         02:CBE6  80 ED      			bra	.LL149
 5375    02:CBE8             	.LL151:
 5376                        	
 5377                        		.dbg	line,	"include\routines_INTRO.c", 356; {
 5378                        	
 5379                        		.dbg	line,	"include\routines_INTRO.c", 357; sgx_spr_set(i);
 5380                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:CBE8  AD 2D 2C   			lda	__sequence_INTRO_end - 1
 5381                        		__call		_sgx_spr_set.1
         02:CBEB  20 9E E8   			call	_sgx_spr_set.1
 5382                        	
 5383                        		.dbg	line,	"include\routines_INTRO.c", 358; sgx_spr_x(player_pos_x + (i<<5) - ((i>>2)<<7));
 5384                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         02:CBEE  AD 2D 2C   			lda	__sequence_INTRO_end - 1
         02:CBF1  C2         			cly
 5385                        		__asl.wi	5
         02:CBF2  85 00      			sta	__temp
         02:CBF4  98         			tya
         02:CBF5  4A         			lsr	a
         02:CBF6  20 C8 E1   			jsr	aslw5
         02:CBF9  29 E0      			and.l	#$FF << 5
 5386                        		__add.wm	_player_pos_x
         02:CBFB  18         			clc
         02:CBFC  6D 01 25   			adc.l	_player_pos_x
         02:CBFF  42         			say
         02:CC00  6D 02 25   			adc.h	_player_pos_x
         02:CC03  42         			say
 5387                        		__push.wr
         02:CC04  5A         			phy
         02:CC05  48         			pha
 5388                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         02:CC06  AD 2D 2C   			lda	__sequence_INTRO_end - 1
         02:CC09  C2         			cly
 5389                        		__lsr.uiq	2
         02:CC0A  4A         			lsr	a
         02:CC0B  4A         			lsr	a
 5390                        		__asl.wi	7
         02:CC0C  42         			say
         02:CC0D  4A         			lsr	a
         02:CC0E  42         			say
         02:CC0F  6A         			ror	a
         02:CC10  42         			say
         02:CC11  6A         			ror	a
         02:CC12  29 80      			and	#$80
 5391                        		__sub.wt
         02:CC14  BA         			tsx
         02:CC15  38         			sec
         02:CC16  49 FF      			eor	#$FF
         02:CC18  7D 01 21   			adc.l	__tos, x
         02:CC1B  42         			say
         02:CC1C  49 FF      			eor	#$FF
         02:CC1E  7D 02 21   			adc.h	__tos, x
         02:CC21  42         			say
         02:CC22  E8         			inx
         02:CC23  E8         			inx
         02:CC24  9A         			txs
 5392                        		__call		_sgx_spr_x.1
         02:CC25  20 CB E8   			call	_sgx_spr_x.1
 5393                        	
 5394                        		.dbg	line,	"include\routines_INTRO.c", 359; sgx_spr_y(player_pos_y + ((i>>2)<<5));
 5395                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         02:CC28  AD 2D 2C   			lda	__sequence_INTRO_end - 1
         02:CC2B  C2         			cly
 5396                        		__lsr.uiq	2
         02:CC2C  4A         			lsr	a
         02:CC2D  4A         			lsr	a
 5397                        		__asl.wi	5
         02:CC2E  85 00      			sta	__temp
         02:CC30  98         			tya
         02:CC31  4A         			lsr	a
         02:CC32  20 C8 E1   			jsr	aslw5
         02:CC35  29 E0      			and.l	#$FF << 5
 5398                        		__add.wm	_player_pos_y
         02:CC37  18         			clc
         02:CC38  6D 03 25   			adc.l	_player_pos_y
         02:CC3B  42         			say
         02:CC3C  6D 04 25   			adc.h	_player_pos_y
         02:CC3F  42         			say
 5399                        		__call		_sgx_spr_y.1
         02:CC40  20 DA E8   			call	_sgx_spr_y.1
 5400                        	
 5401                        		.dbg	line,	"include\routines_INTRO.c", 360; }
 5402                        		__bra		.LL150
         02:CC43  80 9E      			bra	.LL150
 5403    02:CC45             	.LL152	.alias		.LL153
 5404                        	
 5405                        		.dbg	line,	"include\routines_INTRO.c", 361; }
 5406                        	
 5407                        		.dbg	line,	"include\routines_INTRO.c", 363; else if(global_counter == 177)
 5408                        		__bra		.LL153
         02:CC45  4C 24 CF   			bra	.LL153
 5409    02:CC48             	.LL148:
 5410                        		__ld.wm		_global_counter
         02:CC48  AD 5B 26   			lda.l	_global_counter
         02:CC4B  AC 5C 26   			ldy.h	_global_counter
 5411                        		__equ_w.wi	177
         02:CC4E  C9 B1      			cmp.l	#177
         02:CC50  D0 04      			bne	!false+
         02:CC52  C0 00      			cpy.h	#177
         02:CC54  F0 01      			beq	!+
         02:CC56  18         	!false:		clc
         02:CC57             	!:
 5412                        		__bfalse	.LL154
         02:CC57  90 53      			bcc	.LL154
 5413                        	
 5414                        		.dbg	line,	"include\routines_INTRO.c", 364; {
 5415                        	
 5416                        		.dbg	line,	"include\routines_INTRO.c", 365; vdc_map_pxl_x = 256;
 5417                        		__st.wmiq	256, _vdc_map_pxl_x
         02:CC59  9C D4 26   			stz.l	_vdc_map_pxl_x
         02:CC5C  A9 01      			lda.h	#256
         02:CC5E  8D D5 26   			sta.h	_vdc_map_pxl_x
 5418                        	
 5419                        		.dbg	line,	"include\routines_INTRO.c", 366; vdc_map_pxl_y = 256;
 5420                        		__st.wmiq	256, _vdc_map_pxl_y
         02:CC61  9C D6 26   			stz.l	_vdc_map_pxl_y
         02:CC64  A9 01      			lda.h	#256
         02:CC66  8D D7 26   			sta.h	_vdc_map_pxl_y
 5421                        	
 5422                        		.dbg	line,	"include\routines_INTRO.c", 367; scroll_split(0,   0, vdc_map_pxl_x & (511), vdc_map_pxl_y & (511), BKG_ON | SPR_ON);
 5423                        		__st.umiq	0, _al
         02:CC69  64 F8      			stz	_al
 5424                        		__st.umiq	0, _ah
         02:CC6B  64 F9      			stz	_ah
 5425                        		__ld.wm		_vdc_map_pxl_x
         02:CC6D  AD D4 26   			lda.l	_vdc_map_pxl_x
         02:CC70  AC D5 26   			ldy.h	_vdc_map_pxl_x
 5426                        		__and.wi	511
         02:CC73  29 FF      			and.l	#511
         02:CC75  42         			say
         02:CC76  29 01      			and.h	#511
         02:CC78  42         			say
 5427                        		__st.wmq	_bx
         02:CC79  85 FA      			sta.l	_bx
         02:CC7B  84 FB      			sty.h	_bx
 5428                        		__ld.wm		_vdc_map_pxl_y
         02:CC7D  AD D6 26   			lda.l	_vdc_map_pxl_y
         02:CC80  AC D7 26   			ldy.h	_vdc_map_pxl_y
 5429                        		__and.wi	511
         02:CC83  29 FF      			and.l	#511
         02:CC85  42         			say
         02:CC86  29 01      			and.h	#511
         02:CC88  42         			say
 5430                        		__st.wmq	_cx
         02:CC89  85 FC      			sta.l	_cx
         02:CC8B  84 FD      			sty.h	_cx
 5431                        		__st.umiq	192, _dl
         02:CC8D  A9 C0      			lda.l	#192
         02:CC8F  85 FE      			sta	_dl
 5432                        		__call		_scroll_split.5
         02:CC91  20 81 FF   			call	_scroll_split.5
 5433                        	
 5434                        		.dbg	line,	"include\routines_INTRO.c", 369; load_palette( 0, palette_INTRO_3, 1 );
 5435                        		__st.umiq	0, _al
         02:CC94  64 F8      			stz	_al
 5436                        		__farptr	_palette_INTRO_3, _bp_bank, _bp
         02:CC96  A9 E0      			lda.l	#$6000 + ($1FFF & (_palette_INTRO_3))
         02:CC98  85 EC      			sta.l	_bp
         02:CC9A  A9 7A      			lda.h	#$6000 + ($1FFF & (_palette_INTRO_3))
         02:CC9C  85 ED      			sta.h	_bp
         02:CC9E  A9 06      			lda	#bank(_palette_INTRO_3)
         02:CCA0  85 02      			sta	_bp_bank
 5437                        		__st.umiq	1, _ah
         02:CCA2  A9 01      			lda.l	#1
         02:CCA4  85 F9      			sta	_ah
 5438                        		__call		_load_palette.3
         02:CCA6  20 8B FF   			call	_load_palette.3
 5439                        	
 5440                        		.dbg	line,	"include\routines_INTRO.c", 370; }
 5441                        	
 5442                        		.dbg	line,	"include\routines_INTRO.c", 372; else if(global_counter == 178)
 5443                        		__bra		.LL155
         02:CCA9  4C 24 CF   			bra	.LL155
 5444    02:CCAC             	.LL154:
 5445                        		__ld.wm		_global_counter
         02:CCAC  AD 5B 26   			lda.l	_global_counter
         02:CCAF  AC 5C 26   			ldy.h	_global_counter
 5446                        		__equ_w.wi	178
         02:CCB2  C9 B2      			cmp.l	#178
         02:CCB4  D0 04      			bne	!false+
         02:CCB6  C0 00      			cpy.h	#178
         02:CCB8  F0 01      			beq	!+
         02:CCBA  18         	!false:		clc
         02:CCBB             	!:
 5447                        		__bfalse	.LL156
         02:CCBB  90 24      			bcc	.LL156
 5448                        	
 5449                        		.dbg	line,	"include\routines_INTRO.c", 373; {
 5450                        	
 5451                        		.dbg	line,	"include\routines_INTRO.c", 374; for(i=0 ; i<8 ; i++)
 5452                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         02:CCBD  9C 2D 2C   			stz	__sequence_INTRO_end - 1
 5453    02:CCC0             	.LL157:
 5454                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:CCC0  AD 2D 2C   			lda	__sequence_INTRO_end - 1
 5455                        		__ult_b.uiq	8
         02:CCC3  C9 08      			cmp	#8		; Subtract integer from A.
         02:CCC5  6A         			ror	a		; CC if A < integer.
         02:CCC6  49 80      			eor	#$80
         02:CCC8  2A         			rol	a
 5456                        		__btrue		.LL159
         02:CCC9  B0 08      			bcs	.LL159
 5457                        		__bra		.LL160
         02:CCCB  4C 24 CF   			bra	.LL160
 5458    02:CCCE             	.LL158:
 5459                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         02:CCCE  EE 2D 2C   			inc	__sequence_INTRO_end - 1
 5460                        		__bra		.LL157
         02:CCD1  80 ED      			bra	.LL157
 5461    02:CCD3             	.LL159:
 5462                        	
 5463                        		.dbg	line,	"include\routines_INTRO.c", 375; {
 5464                        	
 5465                        		.dbg	line,	"include\routines_INTRO.c", 376; sgx_spr_set(i);
 5466                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:CCD3  AD 2D 2C   			lda	__sequence_INTRO_end - 1
 5467                        		__call		_sgx_spr_set.1
         02:CCD6  20 9E E8   			call	_sgx_spr_set.1
 5468                        	
 5469                        		.dbg	line,	"include\routines_INTRO.c", 377; sgx_spr_hide();
 5470                        		__call		_sgx_spr_hide
         02:CCD9  20 B9 E8   			call	_sgx_spr_hide
 5471                        	
 5472                        		.dbg	line,	"include\routines_INTRO.c", 378; }
 5473                        		__bra		.LL158
         02:CCDC  80 F0      			bra	.LL158
 5474    02:CCDE             	.LL160	.alias		.LL161
 5475                        	
 5476                        		.dbg	line,	"include\routines_INTRO.c", 379; }
 5477                        	
 5478                        		.dbg	line,	"include\routines_INTRO.c", 381; else if(global_counter == 180)
 5479                        		__bra		.LL161
         02:CCDE  4C 24 CF   			bra	.LL161
 5480    02:CCE1             	.LL156:
 5481                        		__ld.wm		_global_counter
         02:CCE1  AD 5B 26   			lda.l	_global_counter
         02:CCE4  AC 5C 26   			ldy.h	_global_counter
 5482                        		__equ_w.wi	180
         02:CCE7  C9 B4      			cmp.l	#180
         02:CCE9  D0 04      			bne	!false+
         02:CCEB  C0 00      			cpy.h	#180
         02:CCED  F0 01      			beq	!+
         02:CCEF  18         	!false:		clc
         02:CCF0             	!:
 5483                        		__bfalse	.LL162
         02:CCF0  90 76      			bcc	.LL162
 5484                        	
 5485                        		.dbg	line,	"include\routines_INTRO.c", 382; {
 5486                        	
 5487                        		.dbg	line,	"include\routines_INTRO.c", 383; for(i=0 ; i<8 ; i++)
 5488                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         02:CCF2  9C 2D 2C   			stz	__sequence_INTRO_end - 1
 5489    02:CCF5             	.LL163:
 5490                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:CCF5  AD 2D 2C   			lda	__sequence_INTRO_end - 1
 5491                        		__ult_b.uiq	8
         02:CCF8  C9 08      			cmp	#8		; Subtract integer from A.
         02:CCFA  6A         			ror	a		; CC if A < integer.
         02:CCFB  49 80      			eor	#$80
         02:CCFD  2A         			rol	a
 5492                        		__btrue		.LL165
         02:CCFE  B0 08      			bcs	.LL165
 5493                        		__bra		.LL166
         02:CD00  4C 24 CF   			bra	.LL166
 5494    02:CD03             	.LL164:
 5495                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         02:CD03  EE 2D 2C   			inc	__sequence_INTRO_end - 1
 5496                        		__bra		.LL163
         02:CD06  80 ED      			bra	.LL163
 5497    02:CD08             	.LL165:
 5498                        	
 5499                        		.dbg	line,	"include\routines_INTRO.c", 384; {
 5500                        	
 5501                        		.dbg	line,	"include\routines_INTRO.c", 385; sgx_spr_set(i);
 5502                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:CD08  AD 2D 2C   			lda	__sequence_INTRO_end - 1
 5503                        		__call		_sgx_spr_set.1
         02:CD0B  20 9E E8   			call	_sgx_spr_set.1
 5504                        	
 5505                        		.dbg	line,	"include\routines_INTRO.c", 386; sgx_spr_x(player_pos_x + (i<<5) - ((i>>2)<<7));
 5506                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         02:CD0E  AD 2D 2C   			lda	__sequence_INTRO_end - 1
         02:CD11  C2         			cly
 5507                        		__asl.wi	5
         02:CD12  85 00      			sta	__temp
         02:CD14  98         			tya
         02:CD15  4A         			lsr	a
         02:CD16  20 C8 E1   			jsr	aslw5
         02:CD19  29 E0      			and.l	#$FF << 5
 5508                        		__add.wm	_player_pos_x
         02:CD1B  18         			clc
         02:CD1C  6D 01 25   			adc.l	_player_pos_x
         02:CD1F  42         			say
         02:CD20  6D 02 25   			adc.h	_player_pos_x
         02:CD23  42         			say
 5509                        		__push.wr
         02:CD24  5A         			phy
         02:CD25  48         			pha
 5510                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         02:CD26  AD 2D 2C   			lda	__sequence_INTRO_end - 1
         02:CD29  C2         			cly
 5511                        		__lsr.uiq	2
         02:CD2A  4A         			lsr	a
         02:CD2B  4A         			lsr	a
 5512                        		__asl.wi	7
         02:CD2C  42         			say
         02:CD2D  4A         			lsr	a
         02:CD2E  42         			say
         02:CD2F  6A         			ror	a
         02:CD30  42         			say
         02:CD31  6A         			ror	a
         02:CD32  29 80      			and	#$80
 5513                        		__sub.wt
         02:CD34  BA         			tsx
         02:CD35  38         			sec
         02:CD36  49 FF      			eor	#$FF
         02:CD38  7D 01 21   			adc.l	__tos, x
         02:CD3B  42         			say
         02:CD3C  49 FF      			eor	#$FF
         02:CD3E  7D 02 21   			adc.h	__tos, x
         02:CD41  42         			say
         02:CD42  E8         			inx
         02:CD43  E8         			inx
         02:CD44  9A         			txs
 5514                        		__call		_sgx_spr_x.1
         02:CD45  20 CB E8   			call	_sgx_spr_x.1
 5515                        	
 5516                        		.dbg	line,	"include\routines_INTRO.c", 387; sgx_spr_y(player_pos_y + ((i>>2)<<5));
 5517                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         02:CD48  AD 2D 2C   			lda	__sequence_INTRO_end - 1
         02:CD4B  C2         			cly
 5518                        		__lsr.uiq	2
         02:CD4C  4A         			lsr	a
         02:CD4D  4A         			lsr	a
 5519                        		__asl.wi	5
         02:CD4E  85 00      			sta	__temp
         02:CD50  98         			tya
         02:CD51  4A         			lsr	a
         02:CD52  20 C8 E1   			jsr	aslw5
         02:CD55  29 E0      			and.l	#$FF << 5
 5520                        		__add.wm	_player_pos_y
         02:CD57  18         			clc
         02:CD58  6D 03 25   			adc.l	_player_pos_y
         02:CD5B  42         			say
         02:CD5C  6D 04 25   			adc.h	_player_pos_y
         02:CD5F  42         			say
 5521                        		__call		_sgx_spr_y.1
         02:CD60  20 DA E8   			call	_sgx_spr_y.1
 5522                        	
 5523                        		.dbg	line,	"include\routines_INTRO.c", 388; }
 5524                        		__bra		.LL164
         02:CD63  80 9E      			bra	.LL164
 5525    02:CD65             	.LL166	.alias		.LL167
 5526                        	
 5527                        		.dbg	line,	"include\routines_INTRO.c", 389; }
 5528                        	
 5529                        		.dbg	line,	"include\routines_INTRO.c", 391; else if(global_counter == 181)
 5530                        		__bra		.LL167
         02:CD65  4C 24 CF   			bra	.LL167
 5531    02:CD68             	.LL162:
 5532                        		__ld.wm		_global_counter
         02:CD68  AD 5B 26   			lda.l	_global_counter
         02:CD6B  AC 5C 26   			ldy.h	_global_counter
 5533                        		__equ_w.wi	181
         02:CD6E  C9 B5      			cmp.l	#181
         02:CD70  D0 04      			bne	!false+
         02:CD72  C0 00      			cpy.h	#181
         02:CD74  F0 01      			beq	!+
         02:CD76  18         	!false:		clc
         02:CD77             	!:
 5534                        		__bfalse	.LL168
         02:CD77  90 4F      			bcc	.LL168
 5535                        	
 5536                        		.dbg	line,	"include\routines_INTRO.c", 392; {
 5537                        	
 5538                        		.dbg	line,	"include\routines_INTRO.c", 393; vdc_map_pxl_x = 0;
 5539                        		__st.wmiq	0, _vdc_map_pxl_x
         02:CD79  9C D4 26   			stz.l	_vdc_map_pxl_x
         02:CD7C  9C D5 26   			stz.h	_vdc_map_pxl_x
 5540                        	
 5541                        		.dbg	line,	"include\routines_INTRO.c", 394; vdc_map_pxl_y = 0;
 5542                        		__st.wmiq	0, _vdc_map_pxl_y
         02:CD7F  9C D6 26   			stz.l	_vdc_map_pxl_y
         02:CD82  9C D7 26   			stz.h	_vdc_map_pxl_y
 5543                        	
 5544                        		.dbg	line,	"include\routines_INTRO.c", 395; scroll_split(0,   0, vdc_map_pxl_x & (511), vdc_map_pxl_y & (511), BKG_ON | SPR_ON);
 5545                        		__st.umiq	0, _al
         02:CD85  64 F8      			stz	_al
 5546                        		__st.umiq	0, _ah
         02:CD87  64 F9      			stz	_ah
 5547                        		__ld.wm		_vdc_map_pxl_x
         02:CD89  AD D4 26   			lda.l	_vdc_map_pxl_x
         02:CD8C  AC D5 26   			ldy.h	_vdc_map_pxl_x
 5548                        		__and.wi	511
         02:CD8F  29 FF      			and.l	#511
         02:CD91  42         			say
         02:CD92  29 01      			and.h	#511
         02:CD94  42         			say
 5549                        		__st.wmq	_bx
         02:CD95  85 FA      			sta.l	_bx
         02:CD97  84 FB      			sty.h	_bx
 5550                        		__ld.wm		_vdc_map_pxl_y
         02:CD99  AD D6 26   			lda.l	_vdc_map_pxl_y
         02:CD9C  AC D7 26   			ldy.h	_vdc_map_pxl_y
 5551                        		__and.wi	511
         02:CD9F  29 FF      			and.l	#511
         02:CDA1  42         			say
         02:CDA2  29 01      			and.h	#511
         02:CDA4  42         			say
 5552                        		__st.wmq	_cx
         02:CDA5  85 FC      			sta.l	_cx
         02:CDA7  84 FD      			sty.h	_cx
 5553                        		__st.umiq	192, _dl
         02:CDA9  A9 C0      			lda.l	#192
         02:CDAB  85 FE      			sta	_dl
 5554                        		__call		_scroll_split.5
         02:CDAD  20 81 FF   			call	_scroll_split.5
 5555                        	
 5556                        		.dbg	line,	"include\routines_INTRO.c", 397; load_palette( 0, palette_INTRO_3, 1 );
 5557                        		__st.umiq	0, _al
         02:CDB0  64 F8      			stz	_al
 5558                        		__farptr	_palette_INTRO_3, _bp_bank, _bp
         02:CDB2  A9 E0      			lda.l	#$6000 + ($1FFF & (_palette_INTRO_3))
         02:CDB4  85 EC      			sta.l	_bp
         02:CDB6  A9 7A      			lda.h	#$6000 + ($1FFF & (_palette_INTRO_3))
         02:CDB8  85 ED      			sta.h	_bp
         02:CDBA  A9 06      			lda	#bank(_palette_INTRO_3)
         02:CDBC  85 02      			sta	_bp_bank
 5559                        		__st.umiq	1, _ah
         02:CDBE  A9 01      			lda.l	#1
         02:CDC0  85 F9      			sta	_ah
 5560                        		__call		_load_palette.3
         02:CDC2  20 8B FF   			call	_load_palette.3
 5561                        	
 5562                        		.dbg	line,	"include\routines_INTRO.c", 398; }
 5563                        	
 5564                        		.dbg	line,	"include\routines_INTRO.c", 400; else if(global_counter == 182)
 5565                        		__bra		.LL169
         02:CDC5  4C 24 CF   			bra	.LL169
 5566    02:CDC8             	.LL168:
 5567                        		__ld.wm		_global_counter
         02:CDC8  AD 5B 26   			lda.l	_global_counter
         02:CDCB  AC 5C 26   			ldy.h	_global_counter
 5568                        		__equ_w.wi	182
         02:CDCE  C9 B6      			cmp.l	#182
         02:CDD0  D0 04      			bne	!false+
         02:CDD2  C0 00      			cpy.h	#182
         02:CDD4  F0 01      			beq	!+
         02:CDD6  18         	!false:		clc
         02:CDD7             	!:
 5569                        		__bfalse	.LL170
         02:CDD7  90 38      			bcc	.LL170
 5570                        	
 5571                        		.dbg	line,	"include\routines_INTRO.c", 401; {
 5572                        	
 5573                        		.dbg	line,	"include\routines_INTRO.c", 402; for(i=0 ; i<8 ; i++)
 5574                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         02:CDD9  9C 2D 2C   			stz	__sequence_INTRO_end - 1
 5575    02:CDDC             	.LL171:
 5576                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:CDDC  AD 2D 2C   			lda	__sequence_INTRO_end - 1
 5577                        		__ult_b.uiq	8
         02:CDDF  C9 08      			cmp	#8		; Subtract integer from A.
         02:CDE1  6A         			ror	a		; CC if A < integer.
         02:CDE2  49 80      			eor	#$80
         02:CDE4  2A         			rol	a
 5578                        		__btrue		.LL173
         02:CDE5  B0 07      			bcs	.LL173
 5579                        		__bra		.LL174
         02:CDE7  80 10      			bra	.LL174
 5580    02:CDE9             	.LL172:
 5581                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         02:CDE9  EE 2D 2C   			inc	__sequence_INTRO_end - 1
 5582                        		__bra		.LL171
         02:CDEC  80 EE      			bra	.LL171
 5583    02:CDEE             	.LL173:
 5584                        	
 5585                        		.dbg	line,	"include\routines_INTRO.c", 403; {
 5586                        	
 5587                        		.dbg	line,	"include\routines_INTRO.c", 404; sgx_spr_set(i);
 5588                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:CDEE  AD 2D 2C   			lda	__sequence_INTRO_end - 1
 5589                        		__call		_sgx_spr_set.1
         02:CDF1  20 9E E8   			call	_sgx_spr_set.1
 5590                        	
 5591                        		.dbg	line,	"include\routines_INTRO.c", 405; sgx_spr_hide();
 5592                        		__call		_sgx_spr_hide
         02:CDF4  20 B9 E8   			call	_sgx_spr_hide
 5593                        	
 5594                        		.dbg	line,	"include\routines_INTRO.c", 406; }
 5595                        		__bra		.LL172
         02:CDF7  80 F0      			bra	.LL172
 5596    02:CDF9             	.LL174:
 5597                        	
 5598                        		.dbg	line,	"include\routines_INTRO.c", 408; load_palette( 0, palette_INTRO_2, 1 );
 5599                        		__st.umiq	0, _al
         02:CDF9  64 F8      			stz	_al
 5600                        		__farptr	_palette_INTRO_2, _bp_bank, _bp
         02:CDFB  A9 E0      			lda.l	#$6000 + ($1FFF & (_palette_INTRO_2))
         02:CDFD  85 EC      			sta.l	_bp
         02:CDFF  A9 78      			lda.h	#$6000 + ($1FFF & (_palette_INTRO_2))
         02:CE01  85 ED      			sta.h	_bp
         02:CE03  A9 06      			lda	#bank(_palette_INTRO_2)
         02:CE05  85 02      			sta	_bp_bank
 5601                        		__st.umiq	1, _ah
         02:CE07  A9 01      			lda.l	#1
         02:CE09  85 F9      			sta	_ah
 5602                        		__call		_load_palette.3
         02:CE0B  20 8B FF   			call	_load_palette.3
 5603                        	
 5604                        		.dbg	line,	"include\routines_INTRO.c", 409; }
 5605                        	
 5606                        		.dbg	line,	"include\routines_INTRO.c", 411; else if(global_counter == 184)
 5607                        		__bra		.LL175
         02:CE0E  4C 24 CF   			bra	.LL175
 5608    02:CE11             	.LL170:
 5609                        		__ld.wm		_global_counter
         02:CE11  AD 5B 26   			lda.l	_global_counter
         02:CE14  AC 5C 26   			ldy.h	_global_counter
 5610                        		__equ_w.wi	184
         02:CE17  C9 B8      			cmp.l	#184
         02:CE19  D0 04      			bne	!false+
         02:CE1B  C0 00      			cpy.h	#184
         02:CE1D  F0 01      			beq	!+
         02:CE1F  18         	!false:		clc
         02:CE20             	!:
 5611                        		__bfalse	.LL176
         02:CE20  90 76      			bcc	.LL176
 5612                        	
 5613                        		.dbg	line,	"include\routines_INTRO.c", 412; {
 5614                        	
 5615                        		.dbg	line,	"include\routines_INTRO.c", 413; for(i=0 ; i<8 ; i++)
 5616                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         02:CE22  9C 2D 2C   			stz	__sequence_INTRO_end - 1
 5617    02:CE25             	.LL177:
 5618                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:CE25  AD 2D 2C   			lda	__sequence_INTRO_end - 1
 5619                        		__ult_b.uiq	8
         02:CE28  C9 08      			cmp	#8		; Subtract integer from A.
         02:CE2A  6A         			ror	a		; CC if A < integer.
         02:CE2B  49 80      			eor	#$80
         02:CE2D  2A         			rol	a
 5620                        		__btrue		.LL179
         02:CE2E  B0 08      			bcs	.LL179
 5621                        		__bra		.LL180
         02:CE30  4C 24 CF   			bra	.LL180
 5622    02:CE33             	.LL178:
 5623                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         02:CE33  EE 2D 2C   			inc	__sequence_INTRO_end - 1
 5624                        		__bra		.LL177
         02:CE36  80 ED      			bra	.LL177
 5625    02:CE38             	.LL179:
 5626                        	
 5627                        		.dbg	line,	"include\routines_INTRO.c", 414; {
 5628                        	
 5629                        		.dbg	line,	"include\routines_INTRO.c", 415; sgx_spr_set(i);
 5630                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:CE38  AD 2D 2C   			lda	__sequence_INTRO_end - 1
 5631                        		__call		_sgx_spr_set.1
         02:CE3B  20 9E E8   			call	_sgx_spr_set.1
 5632                        	
 5633                        		.dbg	line,	"include\routines_INTRO.c", 416; sgx_spr_x(player_pos_x + (i<<5) - ((i>>2)<<7));
 5634                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         02:CE3E  AD 2D 2C   			lda	__sequence_INTRO_end - 1
         02:CE41  C2         			cly
 5635                        		__asl.wi	5
         02:CE42  85 00      			sta	__temp
         02:CE44  98         			tya
         02:CE45  4A         			lsr	a
         02:CE46  20 C8 E1   			jsr	aslw5
         02:CE49  29 E0      			and.l	#$FF << 5
 5636                        		__add.wm	_player_pos_x
         02:CE4B  18         			clc
         02:CE4C  6D 01 25   			adc.l	_player_pos_x
         02:CE4F  42         			say
         02:CE50  6D 02 25   			adc.h	_player_pos_x
         02:CE53  42         			say
 5637                        		__push.wr
         02:CE54  5A         			phy
         02:CE55  48         			pha
 5638                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         02:CE56  AD 2D 2C   			lda	__sequence_INTRO_end - 1
         02:CE59  C2         			cly
 5639                        		__lsr.uiq	2
         02:CE5A  4A         			lsr	a
         02:CE5B  4A         			lsr	a
 5640                        		__asl.wi	7
         02:CE5C  42         			say
         02:CE5D  4A         			lsr	a
         02:CE5E  42         			say
         02:CE5F  6A         			ror	a
         02:CE60  42         			say
         02:CE61  6A         			ror	a
         02:CE62  29 80      			and	#$80
 5641                        		__sub.wt
         02:CE64  BA         			tsx
         02:CE65  38         			sec
         02:CE66  49 FF      			eor	#$FF
         02:CE68  7D 01 21   			adc.l	__tos, x
         02:CE6B  42         			say
         02:CE6C  49 FF      			eor	#$FF
         02:CE6E  7D 02 21   			adc.h	__tos, x
         02:CE71  42         			say
         02:CE72  E8         			inx
         02:CE73  E8         			inx
         02:CE74  9A         			txs
 5642                        		__call		_sgx_spr_x.1
         02:CE75  20 CB E8   			call	_sgx_spr_x.1
 5643                        	
 5644                        		.dbg	line,	"include\routines_INTRO.c", 417; sgx_spr_y(player_pos_y + ((i>>2)<<5));
 5645                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         02:CE78  AD 2D 2C   			lda	__sequence_INTRO_end - 1
         02:CE7B  C2         			cly
 5646                        		__lsr.uiq	2
         02:CE7C  4A         			lsr	a
         02:CE7D  4A         			lsr	a
 5647                        		__asl.wi	5
         02:CE7E  85 00      			sta	__temp
         02:CE80  98         			tya
         02:CE81  4A         			lsr	a
         02:CE82  20 C8 E1   			jsr	aslw5
         02:CE85  29 E0      			and.l	#$FF << 5
 5648                        		__add.wm	_player_pos_y
         02:CE87  18         			clc
         02:CE88  6D 03 25   			adc.l	_player_pos_y
         02:CE8B  42         			say
         02:CE8C  6D 04 25   			adc.h	_player_pos_y
         02:CE8F  42         			say
 5649                        		__call		_sgx_spr_y.1
         02:CE90  20 DA E8   			call	_sgx_spr_y.1
 5650                        	
 5651                        		.dbg	line,	"include\routines_INTRO.c", 418; }
 5652                        		__bra		.LL178
         02:CE93  80 9E      			bra	.LL178
 5653    02:CE95             	.LL180	.alias		.LL181
 5654                        	
 5655                        		.dbg	line,	"include\routines_INTRO.c", 419; }
 5656                        	
 5657                        		.dbg	line,	"include\routines_INTRO.c", 421; else if(global_counter == 186)
 5658                        		__bra		.LL181
         02:CE95  4C 24 CF   			bra	.LL181
 5659    02:CE98             	.LL176:
 5660                        		__ld.wm		_global_counter
         02:CE98  AD 5B 26   			lda.l	_global_counter
         02:CE9B  AC 5C 26   			ldy.h	_global_counter
 5661                        		__equ_w.wi	186
         02:CE9E  C9 BA      			cmp.l	#186
         02:CEA0  D0 04      			bne	!false+
         02:CEA2  C0 00      			cpy.h	#186
         02:CEA4  F0 01      			beq	!+
         02:CEA6  18         	!false:		clc
         02:CEA7             	!:
 5662                        		__bfalse	.LL182
         02:CEA7  90 37      			bcc	.LL182
 5663                        	
 5664                        		.dbg	line,	"include\routines_INTRO.c", 422; {
 5665                        	
 5666                        		.dbg	line,	"include\routines_INTRO.c", 423; for(i=0 ; i<8 ; i++)
 5667                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         02:CEA9  9C 2D 2C   			stz	__sequence_INTRO_end - 1
 5668    02:CEAC             	.LL183:
 5669                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:CEAC  AD 2D 2C   			lda	__sequence_INTRO_end - 1
 5670                        		__ult_b.uiq	8
         02:CEAF  C9 08      			cmp	#8		; Subtract integer from A.
         02:CEB1  6A         			ror	a		; CC if A < integer.
         02:CEB2  49 80      			eor	#$80
         02:CEB4  2A         			rol	a
 5671                        		__btrue		.LL185
         02:CEB5  B0 07      			bcs	.LL185
 5672                        		__bra		.LL186
         02:CEB7  80 10      			bra	.LL186
 5673    02:CEB9             	.LL184:
 5674                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         02:CEB9  EE 2D 2C   			inc	__sequence_INTRO_end - 1
 5675                        		__bra		.LL183
         02:CEBC  80 EE      			bra	.LL183
 5676    02:CEBE             	.LL185:
 5677                        	
 5678                        		.dbg	line,	"include\routines_INTRO.c", 424; {
 5679                        	
 5680                        		.dbg	line,	"include\routines_INTRO.c", 425; sgx_spr_set(i);
 5681                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:CEBE  AD 2D 2C   			lda	__sequence_INTRO_end - 1
 5682                        		__call		_sgx_spr_set.1
         02:CEC1  20 9E E8   			call	_sgx_spr_set.1
 5683                        	
 5684                        		.dbg	line,	"include\routines_INTRO.c", 426; sgx_spr_hide();
 5685                        		__call		_sgx_spr_hide
         02:CEC4  20 B9 E8   			call	_sgx_spr_hide
 5686                        	
 5687                        		.dbg	line,	"include\routines_INTRO.c", 427; }
 5688                        		__bra		.LL184
         02:CEC7  80 F0      			bra	.LL184
 5689    02:CEC9             	.LL186:
 5690                        	
 5691                        		.dbg	line,	"include\routines_INTRO.c", 429; load_palette( 0, palette_INTRO_2, 1 );
 5692                        		__st.umiq	0, _al
         02:CEC9  64 F8      			stz	_al
 5693                        		__farptr	_palette_INTRO_2, _bp_bank, _bp
         02:CECB  A9 E0      			lda.l	#$6000 + ($1FFF & (_palette_INTRO_2))
         02:CECD  85 EC      			sta.l	_bp
         02:CECF  A9 78      			lda.h	#$6000 + ($1FFF & (_palette_INTRO_2))
         02:CED1  85 ED      			sta.h	_bp
         02:CED3  A9 06      			lda	#bank(_palette_INTRO_2)
         02:CED5  85 02      			sta	_bp_bank
 5694                        		__st.umiq	1, _ah
         02:CED7  A9 01      			lda.l	#1
         02:CED9  85 F9      			sta	_ah
 5695                        		__call		_load_palette.3
         02:CEDB  20 8B FF   			call	_load_palette.3
 5696                        	
 5697                        		.dbg	line,	"include\routines_INTRO.c", 430; }
 5698                        	
 5699                        		.dbg	line,	"include\routines_INTRO.c", 432; else if(global_counter == 731)
 5700                        		__bra		.LL187
         02:CEDE  80 44      			bra	.LL187
 5701    02:CEE0             	.LL182:
 5702                        		__ld.wm		_global_counter
         02:CEE0  AD 5B 26   			lda.l	_global_counter
         02:CEE3  AC 5C 26   			ldy.h	_global_counter
 5703                        		__equ_w.wi	731
         02:CEE6  C9 DB      			cmp.l	#731
         02:CEE8  D0 04      			bne	!false+
         02:CEEA  C0 02      			cpy.h	#731
         02:CEEC  F0 01      			beq	!+
         02:CEEE  18         	!false:		clc
         02:CEEF             	!:
 5704                        		__bfalse	.LL188
         02:CEEF  90 17      			bcc	.LL188
 5705                        	
 5706                        		.dbg	line,	"include\routines_INTRO.c", 433; {
 5707                        	
 5708                        		.dbg	line,	"include\routines_INTRO.c", 434; load_palette( 0, palette_BLACK, 1 );
 5709                        		__st.umiq	0, _al
         02:CEF1  64 F8      			stz	_al
 5710                        		__farptr	_palette_BLACK, _bp_bank, _bp
         02:CEF3  A9 00      			lda.l	#$6000 + ($1FFF & (_palette_BLACK))
         02:CEF5  85 EC      			sta.l	_bp
         02:CEF7  A9 6E      			lda.h	#$6000 + ($1FFF & (_palette_BLACK))
         02:CEF9  85 ED      			sta.h	_bp
         02:CEFB  A9 03      			lda	#bank(_palette_BLACK)
         02:CEFD  85 02      			sta	_bp_bank
 5711                        		__st.umiq	1, _ah
         02:CEFF  A9 01      			lda.l	#1
         02:CF01  85 F9      			sta	_ah
 5712                        		__call		_load_palette.3
         02:CF03  20 8B FF   			call	_load_palette.3
 5713                        	
 5714                        		.dbg	line,	"include\routines_INTRO.c", 435; }
 5715                        	
 5716                        		.dbg	line,	"include\routines_INTRO.c", 437; else if(global_counter == 851)
 5717                        		__bra		.LL189
         02:CF06  80 1C      			bra	.LL189
 5718    02:CF08             	.LL188:
 5719                        		__ld.wm		_global_counter
         02:CF08  AD 5B 26   			lda.l	_global_counter
         02:CF0B  AC 5C 26   			ldy.h	_global_counter
 5720                        		__equ_w.wi	851
         02:CF0E  C9 53      			cmp.l	#851
         02:CF10  D0 04      			bne	!false+
         02:CF12  C0 03      			cpy.h	#851
         02:CF14  F0 01      			beq	!+
         02:CF16  18         	!false:		clc
         02:CF17             	!:
 5721                        		__bfalse	.LL190
         02:CF17  90 0B      			bcc	.LL190
 5722                        	
 5723                        		.dbg	line,	"include\routines_INTRO.c", 438; {
 5724                        	
 5725                        		.dbg	line,	"include\routines_INTRO.c", 439; // DISABLE DISPLAY //
 5726                        	
 5727                        		.dbg	line,	"include\routines_INTRO.c", 440; disp_off();
 5728                        		__call		_disp_off
         02:CF19  20 3D E4   			call	_disp_off
 5729                        	
 5730                        		.dbg	line,	"include\routines_INTRO.c", 442; sequence_loaded = FALSE;
 5731                        		__st.umiq	0, _sequence_loaded
         02:CF1C  9C 15 23   			stz	_sequence_loaded
 5732                        	
 5733                        		.dbg	line,	"include\routines_INTRO.c", 444; sequence_id = SEQUENCE_LEVEL;
 5734                        		__st.umiq	2, _sequence_id
         02:CF1F  A9 02      			lda.l	#2
         02:CF21  8D 14 23   			sta	_sequence_id
 5735                        	
 5736                        		.dbg	line,	"include\routines_INTRO.c", 445; }
 5737                        	
 5738                        		.dbg	line,	"include\routines_INTRO.c", 450; //--------------------------------------------------------------------------------------//
 5739                        	
 5740                        		.dbg	line,	"include\routines_INTRO.c", 451; //                                     TEXT DISPLAY                                     //
 5741                        	
 5742                        		.dbg	line,	"include\routines_INTRO.c", 452; //--------------------------------------------------------------------------------------//
 5743                        	
 5744                        		.dbg	line,	"include\routines_INTRO.c", 453; 
 5745                        	
 5746                        		.dbg	line,	"include\routines_INTRO.c", 454; if(global_counter > 241)
 5747    02:CF24             	.LL190:
 5748    02:CF24             	.LL189:
 5749    02:CF24             	.LL187:
 5750    02:CF24             	.LL181:
 5751    02:CF24             	.LL175:
 5752    02:CF24             	.LL169:
 5753    02:CF24             	.LL167:
 5754    02:CF24             	.LL161:
 5755    02:CF24             	.LL155:
 5756    02:CF24             	.LL153:
 5757    02:CF24             	.LL147:
 5758    02:CF24             	.LL141:
 5759    02:CF24             	.LL139:
 5760    02:CF24             	.LL133:
 5761    02:CF24             	.LL127:
 5762    02:CF24             	.LL121:
 5763    02:CF24             	.LL115:
 5764    02:CF24             	.LL109:
 5765    02:CF24             	.LL107:
 5766    02:CF24             	.LL101:
 5767    02:CF24             	.LL95:
 5768    02:CF24             	.LL93:
 5769    02:CF24             	.LL87:
 5770    02:CF24             	.LL81:
 5771    02:CF24             	.LL75:
 5772    02:CF24             	.LL69:
 5773    02:CF24             	.LL63:
 5774    02:CF24             	.LL61:
 5775    02:CF24             	.LL59:
 5776    02:CF24             	.LL57:
 5777    02:CF24             	.LL55:
 5778    02:CF24             	.LL53:
 5779    02:CF24             	.LL51:
 5780                        		__ld.wm		_global_counter
         02:CF24  AD 5B 26   			lda.l	_global_counter
         02:CF27  AC 5C 26   			ldy.h	_global_counter
 5781                        		__sgt_w.wi	241
         02:CF2A  18         			clc			; Subtract integer+1 from Y:A.
         02:CF2B  E9 F1      			sbc.l	#241
         02:CF2D  98         			tya
         02:CF2E  E9 00      			sbc.h	#241
         02:CF30  50 02      			bvc	!+
         02:CF32  49 80      			eor	#$80		; +ve if Y:A > integer (signed).
         02:CF34  49 80      	!:		eor	#$80
         02:CF36  0A         			asl	a
 5782                        		__bfalse	.LL191
         02:CF37  B0 03 4C BE			bcc	.LL191
         02:CF3B  CF          
 5783                        	
 5784                        		.dbg	line,	"include\routines_INTRO.c", 455; {       
 5785                        	
 5786                        		.dbg	line,	"include\routines_INTRO.c", 456; if(letter_counter < 446)
 5787                        		__ld.wm		_letter_counter
         02:CF3C  AD 5F 26   			lda.l	_letter_counter
         02:CF3F  AC 60 26   			ldy.h	_letter_counter
 5788                        		__slt_w.wi	446
         02:CF42  C9 BE      			cmp.l	#446		; Subtract integer from Y:A.
         02:CF44  98         			tya
         02:CF45  E9 01      			sbc.h	#446
         02:CF47  50 02      			bvc	!+
         02:CF49  49 80      			eor	#$80		; -ve if Y:A < integer (signed).
         02:CF4B  0A         	!:		asl	a
 5789                        		__bfalse	.LL192
         02:CF4C  90 68      			bcc	.LL192
 5790                        	
 5791                        		.dbg	line,	"include\routines_INTRO.c", 457; {
 5792                        	
 5793                        		.dbg	line,	"include\routines_INTRO.c", 458; // EVERY 2 FRAMES //
 5794                        	
 5795                        		.dbg	line,	"include\routines_INTRO.c", 459; if(letter_counter%2 == FALSE)
 5796                        		__ld.wm		_letter_counter
         02:CF4E  AD 5F 26   			lda.l	_letter_counter
         02:CF51  AC 60 26   			ldy.h	_letter_counter
 5797                        		__smod.wi	2
         02:CF54  A2 02      			ldx.l	#2
         02:CF56  86 00      			stx.l	<divisor
         02:CF58  A2 00      			ldx.h	#2
         02:CF5A  86 01      			stx.h	<divisor
         02:CF5C  20 CB E4   			jsr	__modsint
 5798                        		__not.wr
         02:CF5F  84 00      			sty	__temp
         02:CF61  05 00      			ora	__temp
         02:CF63  18         			clc
         02:CF64  D0 01      			bne	!+
         02:CF66  38         			sec
         02:CF67             	!:
 5799                        		__bfalse	.LL193
         02:CF67  90 4D      			bcc	.LL193
 5800                        	
 5801                        		.dbg	line,	"include\routines_INTRO.c", 460; {            
 5802                        	
 5803                        		.dbg	line,	"include\routines_INTRO.c", 461; put_char(TABLE_INTRO_TEXT[letter_index] , 2 + index_x , 4 + ((letter_index / 28) << 1));
 5804                        		__ldx.wmq	_letter_index
         02:CF69  AE 5D 26   			ldx.l	_letter_index
 5805                        		__ld.uax	_TABLE_INTRO_TEXT
         02:CF6C  BD D8 60   			lda	_TABLE_INTRO_TEXT, x
         02:CF6F  C2         			cly
 5806                        		__st.umq	_bl
         02:CF70  85 FA      			sta	_bl
 5807                        		__ld.wi		2
         02:CF72  A9 02      			lda.l	#2
         02:CF74  C2         			cly
 5808                        		__add.um	_index_x
         02:CF75  18         			clc
         02:CF76  6D FB 23   			adc	_index_x
         02:CF79  90 01      			bcc	!+
         02:CF7B  C8         			iny
         02:CF7C             	!:
 5809                        		__st.umq	_dil
         02:CF7C  85 F0      			sta	_dil
 5810                        		__ld.wm		_letter_index
         02:CF7E  AD 5D 26   			lda.l	_letter_index
         02:CF81  AC 5E 26   			ldy.h	_letter_index
 5811                        		__sdiv.wi	28
         02:CF84  A2 1C      			ldx.l	#28
         02:CF86  86 00      			stx.l	<divisor
         02:CF88  A2 00      			ldx.h	#28
         02:CF8A  86 01      			stx.h	<divisor
         02:CF8C  20 C3 E4   			jsr	__divsint
 5812                        		__asl.wi	1
         02:CF8F  0A         			asl	a
         02:CF90  42         			say
         02:CF91  2A         			rol	a
         02:CF92  42         			say
 5813                        		__add.wi	4
         02:CF93  18         			clc
         02:CF94  69 04      			adc.l	#4
         02:CF96  90 01      			bcc	!+
         02:CF98  C8         			iny
         02:CF99             	!:
 5814                        		__st.umq	_dih
         02:CF99  85 F1      			sta	_dih
 5815                        		__call		_put_char.3
         02:CF9B  20 77 FF   			call	_put_char.3
 5816                        	
 5817                        		.dbg	line,	"include\routines_INTRO.c", 463; letter_index += 1;
 5818                        		__add_st.wmiq	1, _letter_index
         02:CF9E  EE 5D 26   			inc.l	_letter_index
         02:CFA1  D0 03      			bne	!+
         02:CFA3  EE 5E 26   			inc.h	_letter_index
         02:CFA6             	!:
 5819                        	
 5820                        		.dbg	line,	"include\routines_INTRO.c", 464; index_x += 1;
 5821                        		__add_st.umiq	1, _index_x
         02:CFA6  EE FB 23   			inc	_index_x
 5822                        	
 5823                        		.dbg	line,	"include\routines_INTRO.c", 466; if(index_x == 28)
 5824                        		__ld.umq	_index_x
         02:CFA9  AD FB 23   			lda	_index_x
 5825                        		__equ_b.uiq	28
         02:CFAC  C9 1C      			cmp	#28
         02:CFAE  F0 01      			beq	!+
         02:CFB0  18         			clc
         02:CFB1             	!:
 5826                        		__bfalse	.LL194
         02:CFB1  90 03      			bcc	.LL194
 5827                        	
 5828                        		.dbg	line,	"include\routines_INTRO.c", 467; {
 5829                        	
 5830                        		.dbg	line,	"include\routines_INTRO.c", 468; index_x = 0;
 5831                        		__st.umiq	0, _index_x
         02:CFB3  9C FB 23   			stz	_index_x
 5832                        	
 5833                        		.dbg	line,	"include\routines_INTRO.c", 469; }
 5834                        	
 5835                        		.dbg	line,	"include\routines_INTRO.c", 470; }
 5836    02:CFB6             	.LL194:
 5837                        	
 5838                        		.dbg	line,	"include\routines_INTRO.c", 471; }
 5839    02:CFB6             	.LL193:
 5840                        	
 5841                        		.dbg	line,	"include\routines_INTRO.c", 473; letter_counter += 1;
 5842    02:CFB6             	.LL192:
 5843                        		__add_st.wmiq	1, _letter_counter
         02:CFB6  EE 5F 26   			inc.l	_letter_counter
         02:CFB9  D0 03      			bne	!+
         02:CFBB  EE 60 26   			inc.h	_letter_counter
         02:CFBE             	!:
 5844                        	
 5845                        		.dbg	line,	"include\routines_INTRO.c", 474; }
 5846                        	
 5847                        		.dbg	line,	"include\routines_INTRO.c", 477; global_counter += 1;
 5848    02:CFBE             	.LL191:
 5849                        		__add_st.wmiq	1, _global_counter
         02:CFBE  EE 5B 26   			inc.l	_global_counter
         02:CFC1  D0 03      			bne	!+
         02:CFC3  EE 5C 26   			inc.h	_global_counter
         02:CFC6             	!:
 5850                        	
 5851                        		.dbg	line,	"include\routines_INTRO.c", 478; }
 5852    02:CFC6             	.LL6:
 5853                        		__return	0
         02:CFC6  4C EF FF   			jmp	leave_proc
 5854                        		.dbg	clear
 5855                        		.endp
 5856               2300     		.bss
 5857    F8:2300             	__sequence_INTRO_end	.alias	leaf_stack
 5858               E31D     		.code
 5859                        		.pceas
 5860                        	
 5861                        		.dbg	line,	"Black_Tiger.c", 25; #include "include/routines_LEVELS.c"
 5862                        		.dbg	line,	"include\routines_LEVELS.c", 1; #include "huc.h"
 5863                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 1; #ifndef _hucc_legacy_h
 5864                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 2; #define _hucc_legacy_h
 5865                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 4; /****************************************************************************
 5866                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 5; ; ***************************************************************************
 5867                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 6; ;
 5868                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 7; ; huc.h
 5869                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 8; ;
 5870                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 9; ; HuCC wrapper file to include a default set of HuC-compatible functions.
 5871                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 10; ;
 5872                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 11; ; Copyright John Brandwood 2024.
 5873                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 12; ;
 5874                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 5875                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 5876                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 5877                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 16; ;
 5878                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 17; ; ***************************************************************************
 5879                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 18; ; ***************************************************************************
 5880                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 19; ;
 5881                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 20; ; When the HuCC compiler is invoked with the "--legacy" option to compile old
 5882                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 21; ; projects, then this "huc.h" file is automatically included.
 5883                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 22; ;
 5884                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 23; ; This file includes a set of the individual HuCC headers which correspond to
 5885                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 24; ; HuC's built-in functions and MagicKit library.
 5886                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 25; ;
 5887                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 26; ; New HuCC projects should, preferably, include the specific headers that are
 5888                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 27; ; needed, which will then allow them to replace parts of the standard library
 5889                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 28; ; with newer functions, or they can just manually include this "huc.h" file.
 5890                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 29; ;
 5891                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 30; ; ***************************************************************************
 5892                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 31; ; **************************************************************************/
 5893                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 33; #include "hucc-systemcard.h"
 5894                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 34; #include "hucc-baselib.h"
 5895                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 35; #include "hucc-gfx.h"
 5896                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 36; #include "hucc-old-scroll.h"
 5897                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 37; #include "hucc-old-spr.h"
 5898                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 38; #include "hucc-old-map.h"
 5899                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 39; #include "hucc-old-line.h"
 5900                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 41; #include <stdlib.h>
 5901                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 42; #include <string.h>
 5902                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 44; #endif // _hucc_legacy_h
 5903                        		.dbg	line,	"include\routines_LEVELS.c", 2; #include "hucc-scroll.h"
 5904                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 1; #ifndef _hucc_scroll_h
 5905                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 2; #define _hucc_scroll_h
 5906                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 4; /****************************************************************************
 5907                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 5; ; ***************************************************************************
 5908                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 6; ;
 5909                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 7; ; hucc-scroll.h
 5910                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 8; ;
 5911                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 9; ; Routines for a fast split-screen scrolling system.
 5912                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 10; ;
 5913                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 11; ; Copyright John Brandwood 2024.
 5914                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 12; ;
 5915                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 5916                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 5917                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 5918                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 16; ;
 5919                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 17; ; ***************************************************************************
 5920                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 18; ; ***************************************************************************
 5921                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 19; ;
 5922                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 20; ; The maximum number of splits for each screen layer is set in your project's
 5923                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 21; ; "hucc-config.inc" file, with the library having a limit of 128-per-layer.
 5924                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 22; ;
 5925                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 23; ; Your first active split must be defined to start at screen line 0, and then
 5926                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 24; ; the rest of the active splits must be in increasing line order to match the
 5927                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 25; ; way that the PC Engine displays the output image.
 5928                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 26; ;
 5929                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 27; ; You can have disabled splits interleaved with your active splits.
 5930                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 28; ;
 5931                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 29; ; Splits that are normally disabled can be used to create full screen effects
 5932                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 30; ; such as bouncing the screen up and down by adding blank areas at the top or
 5933                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 31; ; bottom of the screen, and then rapidly changing the height of those areas.
 5934                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 32; ;
 5935                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 33; ; ***************************************************************************
 5936                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 34; ; **************************************************************************/
 5937                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 36; // *************
 5938                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 37; // VDC bits for display_flags ...
 5939                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 38; // *************
 5940                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 40; #ifndef BKG_OFF
 5941                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 41; #define BKG_OFF 0x00
 5942                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 42; #endif
 5943                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 44; #ifndef SPR_OFF
 5944                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 45; #define SPR_OFF 0x00
 5945                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 46; #endif
 5946                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 48; #ifndef BKG_ON
 5947                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 49; #define BKG_ON 0x80
 5948                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 50; #endif
 5949                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 52; #ifndef SPR_ON
 5950                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 53; #define SPR_ON 0x40
 5951                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 54; #endif
 5952                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 56; // *************
 5953                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 57; // Functions in hucc-scroll.asm ...
 5954                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 58; // *************
 5955                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 60; #ifdef __HUCC__
 5956                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 62; #asmdef	HUCC_USES_NEW_SCROLL 1
 5957                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 64; extern void __fastcall scroll_split( unsigned char index<_al>, unsigned char screen_line<_ah>, unsigned int bat_x<_bx>, unsigned int bat_y<_cx>, unsigned char display_flags<_dl> );
 5958                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 65; extern void __fastcall sgx_scroll_split( unsigned char index<_al>, unsigned char screen_line<_ah>, unsigned int bat_x<_bx>, unsigned int bat_y<_cx>, unsigned char display_flags<_dl> );
 5959                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 67; extern void __fastcall disable_split( unsigned char index<acc> );
 5960                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 68; extern void __fastcall sgx_disable_split( unsigned char index<acc> );
 5961                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 70; extern void __fastcall __macro disable_all_splits( void );
 5962                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 71; extern void __fastcall __macro sgx_disable_all_splits( void );
 5963                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 73; #asm
 5964                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 74; .macro	_disable_all_splits
 5965                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 75; ldy	#HUCC_PCE_SPLITS - 1
 5966                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 76; !loop:		tya
 5967                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 77; call	_disable_split.1
 5968                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 78; dey
 5969                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 79; bpl	!loop-
 5970                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 80; .endm
 5971                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 82; .macro	_sgx_disable_all_splits
 5972                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 83; ldy	#HUCC_SGX_SPLITS - 1
 5973                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 84; !loop:		tya
 5974                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 85; call	_sgx_disable_split.1
 5975                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 86; dey
 5976                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 87; bpl	!loop-
 5977                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 88; .endm
 5978                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 89; #endasm
 5979                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 91; #endif // __HUCC__
 5980                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 93; #endif // _hucc_scroll_h
 5981                        		.dbg	line,	"include\routines_LEVELS.c", 3; #include "hucc-chrmap.h"
 5982                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 1; #ifndef _hucc_chrmap_h
 5983                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 2; #define _hucc_chrmap_h
 5984                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 4; /****************************************************************************
 5985                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 5; ; ***************************************************************************
 5986                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 6; ;
 5987                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 7; ; hucc-chrmap.h
 5988                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 8; ;
 5989                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 9; ; A simple map system based on 8x8 characters (aka "tiles") in BAT format.
 5990                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 10; ;
 5991                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 11; ; Copyright John Brandwood 2025.
 5992                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 12; ;
 5993                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 5994                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 5995                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 5996                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 16; ;
 5997                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 17; ; ***************************************************************************
 5998                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 18; ; ***************************************************************************
 5999                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 19; ;
 6000                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 20; ; The maximum X and Y size for chrmaps is 256 characters (2048 pixels).
 6001                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 21; ;
 6002                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 22; ; The maximum total size for a chrmap is 16KBytes, which allows for maps up
 6003                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 23; ; to 256x32 tiles (2048x256 pixels).
 6004                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 24; ;
 6005                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 25; ; ***************************************************************************
 6006                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 26; ; **************************************************************************/
 6007                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 28; // *************
 6008                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 29; // This code extends the blkmap library ...
 6009                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 30; // *************
 6010                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 32; #include "hucc-blkmap.h"
 6011                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 34; // *************
 6012                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 35; // Functions in chrmap.asm ...
 6013                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 36; // *************
 6014                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 38; #ifdef __HUCC__
 6015                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 40; #asmdef	HUCC_USES_CHRMAP 1
 6016                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 42; extern void __fastcall __nop set_chrmap( unsigned char __far *chrmap<vdc_map_bank:vdc_map_addr>, unsigned char tiles_w<vdc_map_line_w> );
 6017                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 44; extern void __fastcall draw_bat( void );
 6018                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 45; extern void __fastcall scroll_bat( void );
 6019                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 47; extern void __fastcall blit_bat( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 6020                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 49; #ifdef _SGX
 6021                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 51; extern void __fastcall __nop sgx_set_chrmap( unsigned char __far *chrmap<sgx_map_bank:sgx_map_addr>, unsigned char tiles_w<sgx_map_line_w> );
 6022                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 53; extern void __fastcall sgx_draw_bat( void );
 6023                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 54; extern void __fastcall sgx_scroll_bat( void );
 6024                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 56; extern void __fastcall sgx_blit_bat( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 6025                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 58; #endif
 6026                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 60; #endif // __HUCC__
 6027                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 62; #endif // _hucc_chrmap_h
 6028                        		.dbg	line,	"include\routines_LEVELS.c", 4; #include "hucc-blkmap.h"
 6029                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 1; #ifndef _hucc_blkmap_h
 6030                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 2; #define _hucc_blkmap_h
 6031                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 4; /****************************************************************************
 6032                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 5; ; ***************************************************************************
 6033                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 6; ;
 6034                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 7; ; hucc-blkmap.h
 6035                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 8; ;
 6036                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 9; ; A map system based on 16x16 meta-tiles (aka "blocks", aka CHR/BLK/MAP).
 6037                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 10; ;
 6038                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 11; ; Copyright John Brandwood 2025.
 6039                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 12; ;
 6040                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 6041                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 6042                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 6043                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 16; ;
 6044                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 17; ; ***************************************************************************
 6045                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 18; ; ***************************************************************************
 6046                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 19; ;
 6047                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 20; ; The maximum X and Y size for blkmaps is 128 blocks (2048 pixels).
 6048                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 21; ;
 6049                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 22; ; The maximum total size for a blkmap is 16KBytes, which allows for maps up
 6050                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 23; ; to 128x128 blocks (2048x2048 pixels).
 6051                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 24; ;
 6052                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 25; ; Huge multi-screen blkmaps are also supported (optionally).
 6053                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 26; ;
 6054                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 27; ; The maximum X and Y for multi-screen maps is 128 screens (32768 pixels).
 6055                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 28; ;
 6056                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 29; ; The maximum total size for a multi-screen map is 8KBytes, which allows for
 6057                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 30; ; a total of 1024 screens.
 6058                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 31; ;
 6059                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 32; ; ***************************************************************************
 6060                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 33; ; **************************************************************************/
 6061                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 35; // *************
 6062                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 36; // Functions in blkmap.asm ...
 6063                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 37; // *************
 6064                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 39; #ifdef __HUCC__
 6065                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 41; #asmdef	HUCC_USES_BLKMAP 1
 6066                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 43; // Current top-left of drawn map in pixels.
 6067                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 44; extern unsigned int   vdc_map_pxl_x;
 6068                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 45; extern unsigned int   vdc_map_pxl_y;
 6069                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 47; // Width and height to draw/scroll in characters (not tiles).
 6070                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 48; extern unsigned char  vdc_map_draw_w;
 6071                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 49; extern unsigned char  vdc_map_draw_h;
 6072                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 51; // Width of map (or multi-screen BAT) in tiles.
 6073                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 52; extern unsigned char  vdc_map_line_w;
 6074                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 54; // Width of map in screens (if multi-screen map).
 6075                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 55; extern unsigned char  vdc_map_scrn_w;
 6076                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 57; // Extra information returned by get_map_block() and sgx_get_map_block(),
 6077                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 58; // which are the collision flags and the mask/overlay sprite for the BLK.
 6078                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 59; extern unsigned char  map_blk_flag;
 6079                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 60; extern unsigned char  map_blk_mask;
 6080                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 62; extern unsigned char  vdc_scr_bank;
 6081                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 63; extern unsigned char *vdc_scr_addr;
 6082                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 65; extern unsigned char  vdc_map_bank;
 6083                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 66; extern unsigned char *vdc_map_addr;
 6084                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 68; extern unsigned char  vdc_blk_bank;
 6085                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 69; extern unsigned char *vdc_blk_addr;
 6086                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 71; extern unsigned char  vdc_tbl_bank;
 6087                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 72; extern unsigned char *vdc_tbl_addr;
 6088                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 74; extern void __fastcall set_blocks( unsigned char __far *blk_def<vdc_blk_bank:vdc_blk_addr>, unsigned char __far *flg_def<vdc_tbl_bank:vdc_tbl_addr>, unsigned char number_of_blocks<_al> );
 6089                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 75; extern void __fastcall __macro set_blkmap( unsigned char __far *blk_map<vdc_map_bank:vdc_map_addr>, unsigned char blocks_w<vdc_map_line_w> );
 6090                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 76; extern void __fastcall __macro set_multimap( unsigned char __far *multi_map<vdc_scr_bank:vdc_scr_addr>, unsigned char screens_w<vdc_map_scrn_w> );
 6091                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 78; extern void __fastcall draw_map( void );
 6092                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 79; extern void __fastcall scroll_map( void );
 6093                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 81; extern void __fastcall blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 6094                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 83; extern unsigned char __fastcall get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
 6095                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 85; #asm
 6096                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 86; .macro	_set_blkmap.2
 6097                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 87; stz	vdc_scr_bank
 6098                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 88; .endm
 6099                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 90; .macro	_set_multimap.2
 6100                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 91; lda	vdc_bat_width
 6101                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 92; lsr	a
 6102                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 93; sta	vdc_map_line_w
 6103                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 94; .endm
 6104                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 96; .macro	SCREEN
 6105                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 97; db	(((\1) & $1FFF) | $6000) >> 8, bank(\1)
 6106                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 98; db	(((\2) & $1FFF) | $4000) >> 8, bank(\2)
 6107                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 99; db	(((\3) & $1FFF) | $6000) >> 8, bank(\3)
 6108                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 100; dw	(\4)
 6109                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 101; .endm
 6110                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 102; #endasm
 6111                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 104; #ifdef _SGX
 6112                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 106; // Current top-left of drawn map in pixels.
 6113                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 107; extern unsigned int   sgx_map_pxl_x;
 6114                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 108; extern unsigned int   sgx_map_pxl_y;
 6115                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 110; // Width and height to draw/scroll in characters (not tiles).
 6116                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 111; extern unsigned char  sgx_map_draw_w;
 6117                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 112; extern unsigned char  sgx_map_draw_h;
 6118                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 114; // Width of map (or multi-screen BAT) in tiles.
 6119                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 115; extern unsigned char  sgx_map_line_w;
 6120                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 117; // Width of map in screens (if multi-screen map).
 6121                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 118; extern unsigned char  sgx_map_scrn_w;
 6122                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 120; extern unsigned char  sgx_scr_bank;
 6123                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 121; extern unsigned char *sgx_scr_addr;
 6124                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 123; extern unsigned char  sgx_map_bank;
 6125                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 124; extern unsigned char *sgx_map_addr;
 6126                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 126; extern unsigned char  sgx_blk_bank;
 6127                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 127; extern unsigned char *sgx_blk_addr;
 6128                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 129; extern unsigned char  sgx_tbl_bank;
 6129                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 130; extern unsigned char *sgx_tbl_addr;
 6130                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 132; extern void __fastcall sgx_set_blocks( unsigned char __far *blk_def<sgx_blk_bank:sgx_blk_addr>, unsigned char __far *flg_def<sgx_tbl_bank:sgx_tbl_addr>, unsigned char number_of_blocks<_al> );
 6131                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 133; extern void __fastcall __macro sgx_set_blkmap( unsigned char __far *blk_map<sgx_map_bank:sgx_map_addr>, unsigned char blocks_w<sgx_map_line_w> );
 6132                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 134; extern void __fastcall __macro sgx_set_multimap( unsigned char __far *multi_map<sgx_scr_bank:sgx_scr_addr>, unsigned char screens_w<sgx_map_scrn_w> );
 6133                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 136; extern void __fastcall sgx_draw_map( void );
 6134                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 137; extern void __fastcall sgx_scroll_map( void );
 6135                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 139; extern void __fastcall sgx_blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 6136                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 141; extern unsigned char __fastcall sgx_get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
 6137                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 143; #asm
 6138                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 144; .macro	_sgx_set_blkmap.2
 6139                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 145; stz	sgx_scr_bank
 6140                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 146; .endm
 6141                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 148; .macro	_sgx_set_multimap.2
 6142                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 149; lda	sgx_bat_width
 6143                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 150; lsr	a
 6144                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 151; sta	sgx_map_line_w
 6145                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 152; .endm
 6146                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 153; #endasm
 6147                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 155; #endif
 6148                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 157; #endif // __HUCC__
 6149                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 159; #endif // _hucc_blkmap_h
 6150                        		.dbg	line,	"include\routines_LEVELS.c", 13; void hide_LEVEL_SPRITES()
 6151                        		.dbg	line,	"include\routines_LEVELS.c", 14; {
 6152                        	;***********************
 6153                        	;***********************
 6154                        	
 6155                        		.hucc
 6156    20:C141             		.proc		_hide_LEVEL_SPRITES
 6157                        		__enter		_hide_LEVEL_SPRITES
 6158                        	
 6159                        		.dbg	line,	"include\routines_LEVELS.c", 15; char i;
 6160                        	
 6161                        		.dbg	line,	"include\routines_LEVELS.c", 17; for(i=0 ; i<64 ; i++)
 6162                        		__st.umiq	0, __hide_LEVEL_SPRITES_end - 1  /* i */
         20:C141  9C 2D 2C   			stz	__hide_LEVEL_SPRITES_end - 1
 6163    20:C144             	.LL196:
 6164                        		__ld.umq	__hide_LEVEL_SPRITES_end - 1  /* i */
         20:C144  AD 2D 2C   			lda	__hide_LEVEL_SPRITES_end - 1
 6165                        		__ult_b.uiq	64
         20:C147  C9 40      			cmp	#64		; Subtract integer from A.
         20:C149  6A         			ror	a		; CC if A < integer.
         20:C14A  49 80      			eor	#$80
         20:C14C  2A         			rol	a
 6166                        		__btrue		.LL198
         20:C14D  B0 07      			bcs	.LL198
 6167                        		__bra		.LL199
         20:C14F  80 10      			bra	.LL199
 6168    20:C151             	.LL197:
 6169                        		__inc.umq	__hide_LEVEL_SPRITES_end - 1  /* i */
         20:C151  EE 2D 2C   			inc	__hide_LEVEL_SPRITES_end - 1
 6170                        		__bra		.LL196
         20:C154  80 EE      			bra	.LL196
 6171    20:C156             	.LL198:
 6172                        	
 6173                        		.dbg	line,	"include\routines_LEVELS.c", 18; {
 6174                        	
 6175                        		.dbg	line,	"include\routines_LEVELS.c", 19; spr_set(i);
 6176                        		__ld.umq	__hide_LEVEL_SPRITES_end - 1  /* i */
         20:C156  AD 2D 2C   			lda	__hide_LEVEL_SPRITES_end - 1
 6177                        		__call		_spr_set.1
         20:C159  20 F1 E7   			call	_spr_set.1
 6178                        	
 6179                        		.dbg	line,	"include\routines_LEVELS.c", 20; spr_hide();
 6180                        		__call		_spr_hide
         20:C15C  20 0C E8   			call	_spr_hide
 6181                        	
 6182                        		.dbg	line,	"include\routines_LEVELS.c", 21; }
 6183                        		__bra		.LL197
         20:C15F  80 F0      			bra	.LL197
 6184    20:C161             	.LL199:
 6185                        	
 6186                        		.dbg	line,	"include\routines_LEVELS.c", 22; }
 6187    20:C161             	.LL195:
 6188                        		__return	0
         20:C161  4C EF FF   			jmp	leave_proc
 6189                        		.dbg	clear
 6190                        		.endp
 6191               2300     		.bss
 6192    F8:2300             	__hide_LEVEL_SPRITES_end	.alias	leaf_stack
 6193               E31D     		.code
 6194                        		.pceas
 6195                        	
 6196                        		.dbg	line,	"include\routines_LEVELS.c", 27; //-----------------------------------------------------------------------------//
 6197                        		.dbg	line,	"include\routines_LEVELS.c", 28; //                                     HUD                                     //
 6198                        		.dbg	line,	"include\routines_LEVELS.c", 29; //-----------------------------------------------------------------------------//
 6199                        		.dbg	line,	"include\routines_LEVELS.c", 31; void display_LIFE()
 6200                        		.dbg	line,	"include\routines_LEVELS.c", 32; {
 6201                        	;***********************
 6202                        	;***********************
 6203                        	
 6204                        		.hucc
 6205    20:C1D0             		.proc		_display_LIFE
 6206                        		__enter		_display_LIFE
 6207                        	
 6208                        		.dbg	line,	"include\routines_LEVELS.c", 33; put_number(life_amount,1,1,0);
 6209                        		__ld.um		_life_amount
         20:C1D0  AD 2F 23   			lda	_life_amount
         20:C1D3  C2         			cly
 6210                        		__st.wmq	_bx
         20:C1D4  85 FA      			sta.l	_bx
         20:C1D6  84 FB      			sty.h	_bx
 6211                        		__st.umiq	1, _cl
         20:C1D8  A9 01      			lda.l	#1
         20:C1DA  85 FC      			sta	_cl
 6212                        		__st.umiq	1, _dil
         20:C1DC  A9 01      			lda.l	#1
         20:C1DE  85 F0      			sta	_dil
 6213                        		__st.umiq	0, _dih
         20:C1E0  64 F1      			stz	_dih
 6214                        		__call		_put_number.4
         20:C1E2  20 6D FF   			call	_put_number.4
 6215                        	
 6216                        		.dbg	line,	"include\routines_LEVELS.c", 34; }
 6217    20:C1E5             	.LL200:
 6218                        		__return	0
         20:C1E5  4C EF FF   			jmp	leave_proc
 6219                        		.dbg	clear
 6220                        		.endp
 6221                        		.pceas
 6222                        	
 6223                        		.dbg	line,	"include\routines_LEVELS.c", 37; void display_SCORE()
 6224                        		.dbg	line,	"include\routines_LEVELS.c", 38; {
 6225                        	;***********************
 6226                        	;***********************
 6227                        	
 6228                        		.hucc
 6229    1D:DFDF             		.proc		_display_SCORE
 6230                        		__enter		_display_SCORE
 6231                        	
 6232                        		.dbg	line,	"include\routines_LEVELS.c", 39; put_number(score,6,14,1);
 6233                        		__ld.wm		_score
         1D:DFDF  AD 63 26   			lda.l	_score
         1D:DFE2  AC 64 26   			ldy.h	_score
 6234                        		__st.wmq	_bx
         1D:DFE5  85 FA      			sta.l	_bx
         1D:DFE7  84 FB      			sty.h	_bx
 6235                        		__st.umiq	6, _cl
         1D:DFE9  A9 06      			lda.l	#6
         1D:DFEB  85 FC      			sta	_cl
 6236                        		__st.umiq	14, _dil
         1D:DFED  A9 0E      			lda.l	#14
         1D:DFEF  85 F0      			sta	_dil
 6237                        		__st.umiq	1, _dih
         1D:DFF1  A9 01      			lda.l	#1
         1D:DFF3  85 F1      			sta	_dih
 6238                        		__call		_put_number.4
         1D:DFF5  20 6D FF   			call	_put_number.4
 6239                        	
 6240                        		.dbg	line,	"include\routines_LEVELS.c", 40; }
 6241    1D:DFF8             	.LL201:
 6242                        		__return	0
         1D:DFF8  4C EF FF   			jmp	leave_proc
 6243                        		.dbg	clear
 6244                        		.endp
 6245                        		.pceas
 6246                        	
 6247                        		.dbg	line,	"include\routines_LEVELS.c", 43; void display_TIME_LEVEL()
 6248                        		.dbg	line,	"include\routines_LEVELS.c", 44; {
 6249                        	;***********************
 6250                        	;***********************
 6251                        	
 6252                        		.hucc
 6253    1F:D95E             		.proc		_display_TIME_LEVEL
 6254                        		__enter		_display_TIME_LEVEL
 6255                        	
 6256                        		.dbg	line,	"include\routines_LEVELS.c", 45; put_number(minutes,1,1,3);
 6257                        		__ld.um		_minutes
         1F:D95E  AD 33 23   			lda	_minutes
         1F:D961  C2         			cly
 6258                        		__st.wmq	_bx
         1F:D962  85 FA      			sta.l	_bx
         1F:D964  84 FB      			sty.h	_bx
 6259                        		__st.umiq	1, _cl
         1F:D966  A9 01      			lda.l	#1
         1F:D968  85 FC      			sta	_cl
 6260                        		__st.umiq	1, _dil
         1F:D96A  A9 01      			lda.l	#1
         1F:D96C  85 F0      			sta	_dil
 6261                        		__st.umiq	3, _dih
         1F:D96E  A9 03      			lda.l	#3
         1F:D970  85 F1      			sta	_dih
 6262                        		__call		_put_number.4
         1F:D972  20 6D FF   			call	_put_number.4
 6263                        	
 6264                        		.dbg	line,	"include\routines_LEVELS.c", 47; if(seconds < 10)
 6265                        		__ld.umq	_seconds
         1F:D975  AD 34 23   			lda	_seconds
 6266                        		__ult_b.uiq	10
         1F:D978  C9 0A      			cmp	#10		; Subtract integer from A.
         1F:D97A  6A         			ror	a		; CC if A < integer.
         1F:D97B  49 80      			eor	#$80
         1F:D97D  2A         			rol	a
 6267                        		__bfalse	.LL203
         1F:D97E  90 2C      			bcc	.LL203
 6268                        	
 6269                        		.dbg	line,	"include\routines_LEVELS.c", 48; {
 6270                        	
 6271                        		.dbg	line,	"include\routines_LEVELS.c", 49; put_number(0,1,3,3);
 6272                        		__st.wmiq	0, _bx
         1F:D980  64 FA      			stz.l	_bx
         1F:D982  64 FB      			stz.h	_bx
 6273                        		__st.umiq	1, _cl
         1F:D984  A9 01      			lda.l	#1
         1F:D986  85 FC      			sta	_cl
 6274                        		__st.umiq	3, _dil
         1F:D988  A9 03      			lda.l	#3
         1F:D98A  85 F0      			sta	_dil
 6275                        		__st.umiq	3, _dih
         1F:D98C  A9 03      			lda.l	#3
         1F:D98E  85 F1      			sta	_dih
 6276                        		__call		_put_number.4
         1F:D990  20 6D FF   			call	_put_number.4
 6277                        	
 6278                        		.dbg	line,	"include\routines_LEVELS.c", 50; put_number(seconds,1,4,3);
 6279                        		__ld.um		_seconds
         1F:D993  AD 34 23   			lda	_seconds
         1F:D996  C2         			cly
 6280                        		__st.wmq	_bx
         1F:D997  85 FA      			sta.l	_bx
         1F:D999  84 FB      			sty.h	_bx
 6281                        		__st.umiq	1, _cl
         1F:D99B  A9 01      			lda.l	#1
         1F:D99D  85 FC      			sta	_cl
 6282                        		__st.umiq	4, _dil
         1F:D99F  A9 04      			lda.l	#4
         1F:D9A1  85 F0      			sta	_dil
 6283                        		__st.umiq	3, _dih
         1F:D9A3  A9 03      			lda.l	#3
         1F:D9A5  85 F1      			sta	_dih
 6284                        		__call		_put_number.4
         1F:D9A7  20 6D FF   			call	_put_number.4
 6285                        	
 6286                        		.dbg	line,	"include\routines_LEVELS.c", 51; }
 6287                        	
 6288                        		.dbg	line,	"include\routines_LEVELS.c", 53; else
 6289                        		__bra		.LL204
         1F:D9AA  80 17      			bra	.LL204
 6290    1F:D9AC             	.LL203:
 6291                        	
 6292                        		.dbg	line,	"include\routines_LEVELS.c", 54; {
 6293                        	
 6294                        		.dbg	line,	"include\routines_LEVELS.c", 55; put_number(seconds,2,3,3);
 6295                        		__ld.um		_seconds
         1F:D9AC  AD 34 23   			lda	_seconds
         1F:D9AF  C2         			cly
 6296                        		__st.wmq	_bx
         1F:D9B0  85 FA      			sta.l	_bx
         1F:D9B2  84 FB      			sty.h	_bx
 6297                        		__st.umiq	2, _cl
         1F:D9B4  A9 02      			lda.l	#2
         1F:D9B6  85 FC      			sta	_cl
 6298                        		__st.umiq	3, _dil
         1F:D9B8  A9 03      			lda.l	#3
         1F:D9BA  85 F0      			sta	_dil
 6299                        		__st.umiq	3, _dih
         1F:D9BC  A9 03      			lda.l	#3
         1F:D9BE  85 F1      			sta	_dih
 6300                        		__call		_put_number.4
         1F:D9C0  20 6D FF   			call	_put_number.4
 6301                        	
 6302                        		.dbg	line,	"include\routines_LEVELS.c", 56; }
 6303    1F:D9C3             	.LL204:
 6304                        	
 6305                        		.dbg	line,	"include\routines_LEVELS.c", 58; time_counter += 1;
 6306                        		__add_st.umiq	1, _time_counter
         1F:D9C3  EE 35 23   			inc	_time_counter
 6307                        	
 6308                        		.dbg	line,	"include\routines_LEVELS.c", 60; if(time_counter == 60)
 6309                        		__ld.umq	_time_counter
         1F:D9C6  AD 35 23   			lda	_time_counter
 6310                        		__equ_b.uiq	60
         1F:D9C9  C9 3C      			cmp	#60
         1F:D9CB  F0 01      			beq	!+
         1F:D9CD  18         			clc
         1F:D9CE             	!:
 6311                        		__bfalse	.LL205
         1F:D9CE  90 28      			bcc	.LL205
 6312                        	
 6313                        		.dbg	line,	"include\routines_LEVELS.c", 61; {
 6314                        	
 6315                        		.dbg	line,	"include\routines_LEVELS.c", 62; time_counter = 0;
 6316                        		__st.umiq	0, _time_counter
         1F:D9D0  9C 35 23   			stz	_time_counter
 6317                        	
 6318                        		.dbg	line,	"include\routines_LEVELS.c", 64; if(seconds > 0)
 6319                        		__ld.umq	_seconds
         1F:D9D3  AD 34 23   			lda	_seconds
 6320                        		__ugt_b.uiq	0
         1F:D9D6  18         			clc			; Subtract integer+1 from A.
         1F:D9D7  E9 00      			sbc	#0		; CS if A > integer.
 6321                        		__bfalse	.LL206
         1F:D9D9  90 05      			bcc	.LL206
 6322                        	
 6323                        		.dbg	line,	"include\routines_LEVELS.c", 65; {
 6324                        	
 6325                        		.dbg	line,	"include\routines_LEVELS.c", 66; seconds -= 1;
 6326                        		__sub_st.umiq	1, _seconds
         1F:D9DB  CE 34 23   			dec	_seconds
 6327                        	
 6328                        		.dbg	line,	"include\routines_LEVELS.c", 67; }
 6329                        	
 6330                        		.dbg	line,	"include\routines_LEVELS.c", 69; else
 6331                        		__bra		.LL207
         1F:D9DE  80 18      			bra	.LL207
 6332    1F:D9E0             	.LL206:
 6333                        	
 6334                        		.dbg	line,	"include\routines_LEVELS.c", 70; {
 6335                        	
 6336                        		.dbg	line,	"include\routines_LEVELS.c", 71; if(minutes > 0)
 6337                        		__ld.umq	_minutes
         1F:D9E0  AD 33 23   			lda	_minutes
 6338                        		__ugt_b.uiq	0
         1F:D9E3  18         			clc			; Subtract integer+1 from A.
         1F:D9E4  E9 00      			sbc	#0		; CS if A > integer.
 6339                        		__bfalse	.LL208
         1F:D9E6  90 0A      			bcc	.LL208
 6340                        	
 6341                        		.dbg	line,	"include\routines_LEVELS.c", 72; {
 6342                        	
 6343                        		.dbg	line,	"include\routines_LEVELS.c", 73; seconds = 59;
 6344                        		__st.umiq	59, _seconds
         1F:D9E8  A9 3B      			lda.l	#59
         1F:D9EA  8D 34 23   			sta	_seconds
 6345                        	
 6346                        		.dbg	line,	"include\routines_LEVELS.c", 74; minutes -= 1;
 6347                        		__sub_st.umiq	1, _minutes
         1F:D9ED  CE 33 23   			dec	_minutes
 6348                        	
 6349                        		.dbg	line,	"include\routines_LEVELS.c", 75; }
 6350                        	
 6351                        		.dbg	line,	"include\routines_LEVELS.c", 77; else
 6352                        		__bra		.LL209
         1F:D9F0  80 06      			bra	.LL209
 6353    1F:D9F2             	.LL208:
 6354                        	
 6355                        		.dbg	line,	"include\routines_LEVELS.c", 78; {
 6356                        	
 6357                        		.dbg	line,	"include\routines_LEVELS.c", 79; seconds = 0;
 6358                        		__st.umiq	0, _seconds
         1F:D9F2  9C 34 23   			stz	_seconds
 6359                        	
 6360                        		.dbg	line,	"include\routines_LEVELS.c", 80; minutes = 0;
 6361                        		__st.umiq	0, _minutes
         1F:D9F5  9C 33 23   			stz	_minutes
 6362                        	
 6363                        		.dbg	line,	"include\routines_LEVELS.c", 81; // TIME OUT //
 6364                        	
 6365                        		.dbg	line,	"include\routines_LEVELS.c", 82; }
 6366    1F:D9F8             	.LL209:
 6367                        	
 6368                        		.dbg	line,	"include\routines_LEVELS.c", 83; }
 6369    1F:D9F8             	.LL207:
 6370                        	
 6371                        		.dbg	line,	"include\routines_LEVELS.c", 84; } 
 6372                        	
 6373                        		.dbg	line,	"include\routines_LEVELS.c", 85; }
 6374    1F:D9F8             	.LL205:
 6375    1F:D9F8             	.LL202:
 6376                        		__return	0
         1F:D9F8  4C EF FF   			jmp	leave_proc
 6377                        		.dbg	clear
 6378                        		.endp
 6379                        		.pceas
 6380                        	
 6381                        		.dbg	line,	"include\routines_LEVELS.c", 88; void display_KEY()
 6382                        		.dbg	line,	"include\routines_LEVELS.c", 89; {
 6383                        	;***********************
 6384                        	;***********************
 6385                        	
 6386                        		.hucc
 6387    20:C19C             		.proc		_display_KEY
 6388                        		__enter		_display_KEY
 6389                        	
 6390                        		.dbg	line,	"include\routines_LEVELS.c", 90; put_number(key_amount,2,7,27);
 6391                        		__ld.um		_key_amount
         20:C19C  AD 31 23   			lda	_key_amount
         20:C19F  C2         			cly
 6392                        		__st.wmq	_bx
         20:C1A0  85 FA      			sta.l	_bx
         20:C1A2  84 FB      			sty.h	_bx
 6393                        		__st.umiq	2, _cl
         20:C1A4  A9 02      			lda.l	#2
         20:C1A6  85 FC      			sta	_cl
 6394                        		__st.umiq	7, _dil
         20:C1A8  A9 07      			lda.l	#7
         20:C1AA  85 F0      			sta	_dil
 6395                        		__st.umiq	27, _dih
         20:C1AC  A9 1B      			lda.l	#27
         20:C1AE  85 F1      			sta	_dih
 6396                        		__call		_put_number.4
         20:C1B0  20 6D FF   			call	_put_number.4
 6397                        	
 6398                        		.dbg	line,	"include\routines_LEVELS.c", 91; }
 6399    20:C1B3             	.LL210:
 6400                        		__return	0
         20:C1B3  4C EF FF   			jmp	leave_proc
 6401                        		.dbg	clear
 6402                        		.endp
 6403                        		.pceas
 6404                        	
 6405                        		.dbg	line,	"include\routines_LEVELS.c", 94; void display_POTION()
 6406                        		.dbg	line,	"include\routines_LEVELS.c", 95; {
 6407                        	;***********************
 6408                        	;***********************
 6409                        	
 6410                        		.hucc
 6411    20:C1B6             		.proc		_display_POTION
 6412                        		__enter		_display_POTION
 6413                        	
 6414                        		.dbg	line,	"include\routines_LEVELS.c", 96; put_number(potion_amount,2,19,27);
 6415                        		__ld.um		_potion_amount
         20:C1B6  AD 32 23   			lda	_potion_amount
         20:C1B9  C2         			cly
 6416                        		__st.wmq	_bx
         20:C1BA  85 FA      			sta.l	_bx
         20:C1BC  84 FB      			sty.h	_bx
 6417                        		__st.umiq	2, _cl
         20:C1BE  A9 02      			lda.l	#2
         20:C1C0  85 FC      			sta	_cl
 6418                        		__st.umiq	19, _dil
         20:C1C2  A9 13      			lda.l	#19
         20:C1C4  85 F0      			sta	_dil
 6419                        		__st.umiq	27, _dih
         20:C1C6  A9 1B      			lda.l	#27
         20:C1C8  85 F1      			sta	_dih
 6420                        		__call		_put_number.4
         20:C1CA  20 6D FF   			call	_put_number.4
 6421                        	
 6422                        		.dbg	line,	"include\routines_LEVELS.c", 97; }
 6423    20:C1CD             	.LL211:
 6424                        		__return	0
         20:C1CD  4C EF FF   			jmp	leave_proc
 6425                        		.dbg	clear
 6426                        		.endp
 6427                        		.pceas
 6428                        	
 6429                        		.dbg	line,	"include\routines_LEVELS.c", 100; void display_ZENNY()
 6430                        		.dbg	line,	"include\routines_LEVELS.c", 101; {
 6431                        	;***********************
 6432                        	;***********************
 6433                        	
 6434                        		.hucc
 6435    20:C164             		.proc		_display_ZENNY
 6436                        		__enter		_display_ZENNY
 6437                        	
 6438                        		.dbg	line,	"include\routines_LEVELS.c", 102; put_number(zenny_amount,5,26,4);
 6439                        		__ld.wm		_zenny_amount
         20:C164  AD 61 26   			lda.l	_zenny_amount
         20:C167  AC 62 26   			ldy.h	_zenny_amount
 6440                        		__st.wmq	_bx
         20:C16A  85 FA      			sta.l	_bx
         20:C16C  84 FB      			sty.h	_bx
 6441                        		__st.umiq	5, _cl
         20:C16E  A9 05      			lda.l	#5
         20:C170  85 FC      			sta	_cl
 6442                        		__st.umiq	26, _dil
         20:C172  A9 1A      			lda.l	#26
         20:C174  85 F0      			sta	_dil
 6443                        		__st.umiq	4, _dih
         20:C176  A9 04      			lda.l	#4
         20:C178  85 F1      			sta	_dih
 6444                        		__call		_put_number.4
         20:C17A  20 6D FF   			call	_put_number.4
 6445                        	
 6446                        		.dbg	line,	"include\routines_LEVELS.c", 103; }
 6447    20:C17D             	.LL212:
 6448                        		__return	0
         20:C17D  4C EF FF   			jmp	leave_proc
 6449                        		.dbg	clear
 6450                        		.endp
 6451                        		.pceas
 6452                        	
 6453                        		.dbg	line,	"include\routines_LEVELS.c", 108; //-----------------------------------------------------------------------------//
 6454                        		.dbg	line,	"include\routines_LEVELS.c", 109; //                                  SCROLLING                                  //
 6455                        		.dbg	line,	"include\routines_LEVELS.c", 110; //-----------------------------------------------------------------------------//
 6456                        		.dbg	line,	"include\routines_LEVELS.c", 112; void scroll_object()
 6457                        		.dbg	line,	"include\routines_LEVELS.c", 113; {
 6458                        	;***********************
 6459                        	;***********************
 6460                        	
 6461                        		.hucc
 6462    1F:CD16             		.proc		_scroll_object
 6463                        		__enter		_scroll_object
 6464                        	
 6465                        		.dbg	line,	"include\routines_LEVELS.c", 114; char i;
 6466                        	
 6467                        		.dbg	line,	"include\routines_LEVELS.c", 115; onscreen_object_number = 0;
 6468                        		__st.umiq	0, _onscreen_object_number
         1F:CD16  9C 3A 23   			stz	_onscreen_object_number
 6469                        	
 6470                        		.dbg	line,	"include\routines_LEVELS.c", 117; for(i=0 ; i<level_object_number ; i++)
 6471                        		__st.umiq	0, __scroll_object_end - 1  /* i */
         1F:CD19  9C 2D 2C   			stz	__scroll_object_end - 1
 6472    1F:CD1C             	.LL214:
 6473                        		__ld.umq	__scroll_object_end - 1  /* i */
         1F:CD1C  AD 2D 2C   			lda	__scroll_object_end - 1
 6474                        		__ult_b.umq	_level_object_number
         1F:CD1F  CD 39 23   			cmp	_level_object_number		; Subtract memory from A.
         1F:CD22  6A         			ror	a		; CC if A < memory.
         1F:CD23  49 80      			eor	#$80
         1F:CD25  2A         			rol	a
 6475                        		__btrue		.LL216
         1F:CD26  B0 08      			bcs	.LL216
 6476                        		__bra		.LL217
         1F:CD28  4C 76 CE   			bra	.LL217
 6477    1F:CD2B             	.LL215:
 6478                        		__inc.umq	__scroll_object_end - 1  /* i */
         1F:CD2B  EE 2D 2C   			inc	__scroll_object_end - 1
 6479                        		__bra		.LL214
         1F:CD2E  80 EC      			bra	.LL214
 6480    1F:CD30             	.LL216:
 6481                        	
 6482                        		.dbg	line,	"include\routines_LEVELS.c", 118; {
 6483                        	
 6484                        		.dbg	line,	"include\routines_LEVELS.c", 119; if(list_object_state[i] != STATE_FREE)
 6485                        		__ldx.umq	__scroll_object_end - 1  /* i */
         1F:CD30  AE 2D 2C   			ldx	__scroll_object_end - 1
 6486                        		__tst.uax	_list_object_state
         1F:CD33  BD 54 23   			lda	_list_object_state, x
         1F:CD36  C9 01      			cmp	#1
 6487                        		__bfalse	.LL218
         1F:CD38  90 F1      			bcc	.LL218
 6488                        	
 6489                        		.dbg	line,	"include\routines_LEVELS.c", 120; {
 6490                        	
 6491                        		.dbg	line,	"include\routines_LEVELS.c", 121; char scroll_allowed = FALSE;
 6492                        		__st.umiq	0, __scroll_object_end - 2  /* scroll_allowed */
         1F:CD3A  9C 2C 2C   			stz	__scroll_object_end - 2
 6493                        	
 6494                        		.dbg	line,	"include\routines_LEVELS.c", 122; 
 6495                        	
 6496                        		.dbg	line,	"include\routines_LEVELS.c", 123; // IF OBJECT X POSITION IS INFERIOR TO SCREEN RIGHT SIDE //
 6497                        	
 6498                        		.dbg	line,	"include\routines_LEVELS.c", 124; if(list_object_x_pos_ref[i] < sgx_map_pxl_x + 256)
 6499                        		__ld.wm		_sgx_map_pxl_x
         1F:CD3D  AD E4 26   			lda.l	_sgx_map_pxl_x
         1F:CD40  AC E5 26   			ldy.h	_sgx_map_pxl_x
 6500                        		__add.wi	256
         1F:CD43  18         			clc
         1F:CD44  69 00      			adc.l	#256
         1F:CD46  42         			say
         1F:CD47  69 01      			adc.h	#256
         1F:CD49  42         			say
 6501                        		__ld2x.um	__scroll_object_end - 1  /* i */
         1F:CD4A  AA         			tax
         1F:CD4B  AD 2D 2C   			lda	__scroll_object_end - 1
         1F:CD4E  0A         			asl	a
         1F:CD4F  22         			sax
 6502                        		__ugt_w.wax	_list_object_x_pos_ref
         1F:CD50  18         			clc			; Subtract memory+1 from Y:A.
         1F:CD51  FD 6F 25   			sbc.l	_list_object_x_pos_ref, x
         1F:CD54  98         			tya
         1F:CD55  FD 70 25   			sbc.h	_list_object_x_pos_ref, x		; CS if Y:A > memory.
 6503                        		__bfalse	.LL219
         1F:CD58  B0 03 4C DD			bcc	.LL219
         1F:CD5C  CD          
 6504                        	
 6505                        		.dbg	line,	"include\routines_LEVELS.c", 125; {
 6506                        	
 6507                        		.dbg	line,	"include\routines_LEVELS.c", 126; // IF OBJECT X POSITION IS SUPERIOR TO SCREEN LEFT SIDE PLUS 16 PX //
 6508                        	
 6509                        		.dbg	line,	"include\routines_LEVELS.c", 127; if(list_object_x_pos_ref[i] - sgx_map_pxl_x + 16 > 0)
 6510                        		__ld2x.umq	__scroll_object_end - 1  /* i */
         1F:CD5D  AD 2D 2C   			lda	__scroll_object_end - 1
         1F:CD60  0A         			asl	a
         1F:CD61  AA         			tax
 6511                        		__ld.wax	_list_object_x_pos_ref
         1F:CD62  BD 6F 25   			lda.l	_list_object_x_pos_ref, x
         1F:CD65  BC 70 25   			ldy.h	_list_object_x_pos_ref, x
 6512                        		__sub.wm	_sgx_map_pxl_x
         1F:CD68  38         			sec
         1F:CD69  ED E4 26   			sbc.l	_sgx_map_pxl_x
         1F:CD6C  42         			say
         1F:CD6D  ED E5 26   			sbc.h	_sgx_map_pxl_x
         1F:CD70  42         			say
 6513                        		__add.wi	16
         1F:CD71  18         			clc
         1F:CD72  69 10      			adc.l	#16
         1F:CD74  90 01      			bcc	!+
         1F:CD76  C8         			iny
         1F:CD77             	!:
 6514                        		__sgt_w.wi	0
         1F:CD77  18         			clc			; Subtract integer+1 from Y:A.
         1F:CD78  E9 00      			sbc.l	#0
         1F:CD7A  98         			tya
         1F:CD7B  E9 00      			sbc.h	#0
         1F:CD7D  50 02      			bvc	!+
         1F:CD7F  49 80      			eor	#$80		; +ve if Y:A > integer (signed).
         1F:CD81  49 80      	!:		eor	#$80
         1F:CD83  0A         			asl	a
 6515                        		__bfalse	.LL220
         1F:CD84  90 57      			bcc	.LL220
 6516                        	
 6517                        		.dbg	line,	"include\routines_LEVELS.c", 128; {
 6518                        	
 6519                        		.dbg	line,	"include\routines_LEVELS.c", 129; // IF OBJECT Y POSITION IS INFERIOR TO SCREEN BOTTOM //
 6520                        	
 6521                        		.dbg	line,	"include\routines_LEVELS.c", 130; if(list_object_y_pos_ref[i] < sgx_map_pxl_y + 224)
 6522                        		__ld.wm		_sgx_map_pxl_y
         1F:CD86  AD E6 26   			lda.l	_sgx_map_pxl_y
         1F:CD89  AC E7 26   			ldy.h	_sgx_map_pxl_y
 6523                        		__add.wi	224
         1F:CD8C  18         			clc
         1F:CD8D  69 E0      			adc.l	#224
         1F:CD8F  90 01      			bcc	!+
         1F:CD91  C8         			iny
         1F:CD92             	!:
 6524                        		__ld2x.um	__scroll_object_end - 1  /* i */
         1F:CD92  AA         			tax
         1F:CD93  AD 2D 2C   			lda	__scroll_object_end - 1
         1F:CD96  0A         			asl	a
         1F:CD97  22         			sax
 6525                        		__ugt_w.wax	_list_object_y_pos_ref
         1F:CD98  18         			clc			; Subtract memory+1 from Y:A.
         1F:CD99  FD A1 25   			sbc.l	_list_object_y_pos_ref, x
         1F:CD9C  98         			tya
         1F:CD9D  FD A2 25   			sbc.h	_list_object_y_pos_ref, x		; CS if Y:A > memory.
 6526                        		__bfalse	.LL221
         1F:CDA0  90 3B      			bcc	.LL221
 6527                        	
 6528                        		.dbg	line,	"include\routines_LEVELS.c", 131; {
 6529                        	
 6530                        		.dbg	line,	"include\routines_LEVELS.c", 132; // IF OBJECT Y POSITION IS SUPERIOR TO SCREEN TOP PLUS 16 PX //
 6531                        	
 6532                        		.dbg	line,	"include\routines_LEVELS.c", 133; if(list_object_y_pos_ref[i] - sgx_map_pxl_y + 16 > 0)
 6533                        		__ld2x.umq	__scroll_object_end - 1  /* i */
         1F:CDA2  AD 2D 2C   			lda	__scroll_object_end - 1
         1F:CDA5  0A         			asl	a
         1F:CDA6  AA         			tax
 6534                        		__ld.wax	_list_object_y_pos_ref
         1F:CDA7  BD A1 25   			lda.l	_list_object_y_pos_ref, x
         1F:CDAA  BC A2 25   			ldy.h	_list_object_y_pos_ref, x
 6535                        		__sub.wm	_sgx_map_pxl_y
         1F:CDAD  38         			sec
         1F:CDAE  ED E6 26   			sbc.l	_sgx_map_pxl_y
         1F:CDB1  42         			say
         1F:CDB2  ED E7 26   			sbc.h	_sgx_map_pxl_y
         1F:CDB5  42         			say
 6536                        		__add.wi	16
         1F:CDB6  18         			clc
         1F:CDB7  69 10      			adc.l	#16
         1F:CDB9  90 01      			bcc	!+
         1F:CDBB  C8         			iny
         1F:CDBC             	!:
 6537                        		__sgt_w.wi	0
         1F:CDBC  18         			clc			; Subtract integer+1 from Y:A.
         1F:CDBD  E9 00      			sbc.l	#0
         1F:CDBF  98         			tya
         1F:CDC0  E9 00      			sbc.h	#0
         1F:CDC2  50 02      			bvc	!+
         1F:CDC4  49 80      			eor	#$80		; +ve if Y:A > integer (signed).
         1F:CDC6  49 80      	!:		eor	#$80
         1F:CDC8  0A         			asl	a
 6538                        		__bfalse	.LL222
         1F:CDC9  90 12      			bcc	.LL222
 6539                        	
 6540                        		.dbg	line,	"include\routines_LEVELS.c", 134; {
 6541                        	
 6542                        		.dbg	line,	"include\routines_LEVELS.c", 135; // WE STORE THE OBJECT ID //
 6543                        	
 6544                        		.dbg	line,	"include\routines_LEVELS.c", 136; list_onscreen_object[onscreen_object_number] = i;
 6545                        		__ldx.umq	_onscreen_object_number
         1F:CDCB  AE 3A 23   			ldx	_onscreen_object_number
 6546                        		__ld.um		__scroll_object_end - 1  /* i */
         1F:CDCE  AD 2D 2C   			lda	__scroll_object_end - 1
         1F:CDD1  C2         			cly
 6547                        		__st.uaxq	_list_onscreen_object
         1F:CDD2  9D B8 23   			sta	_list_onscreen_object, x
 6548                        	
 6549                        		.dbg	line,	"include\routines_LEVELS.c", 137; onscreen_object_number += 1;
 6550                        		__add_st.umiq	1, _onscreen_object_number
         1F:CDD5  EE 3A 23   			inc	_onscreen_object_number
 6551                        	
 6552                        		.dbg	line,	"include\routines_LEVELS.c", 138; scroll_allowed = TRUE;
 6553                        		__st.umiq	1, __scroll_object_end - 2  /* scroll_allowed */
         1F:CDD8  A9 01      			lda.l	#1
         1F:CDDA  8D 2C 2C   			sta	__scroll_object_end - 2
 6554                        	
 6555                        		.dbg	line,	"include\routines_LEVELS.c", 139; }
 6556                        	
 6557                        		.dbg	line,	"include\routines_LEVELS.c", 140; }
 6558    1F:CDDD             	.LL222:
 6559                        	
 6560                        		.dbg	line,	"include\routines_LEVELS.c", 141; }
 6561    1F:CDDD             	.LL221:
 6562                        	
 6563                        		.dbg	line,	"include\routines_LEVELS.c", 142; }
 6564    1F:CDDD             	.LL220:
 6565                        	
 6566                        		.dbg	line,	"include\routines_LEVELS.c", 144; // IF OBJECTS IS WITHIN THE SCREEN LIMITS //
 6567                        	
 6568                        		.dbg	line,	"include\routines_LEVELS.c", 145; if(scroll_allowed == TRUE)
 6569    1F:CDDD             	.LL219:
 6570                        		__ld.umq	__scroll_object_end - 2  /* scroll_allowed */
         1F:CDDD  AD 2C 2C   			lda	__scroll_object_end - 2
 6571                        		__equ_b.uiq	1
         1F:CDE0  C9 01      			cmp	#1
         1F:CDE2  F0 01      			beq	!+
         1F:CDE4  18         			clc
         1F:CDE5             	!:
 6572                        		__bfalse	.LL223
         1F:CDE5  90 44      			bcc	.LL223
 6573                        	
 6574                        		.dbg	line,	"include\routines_LEVELS.c", 146; {
 6575                        	
 6576                        		.dbg	line,	"include\routines_LEVELS.c", 147; list_object_x_pos[i] = list_object_x_pos_ref[i] - sgx_map_pxl_x;
 6577                        		__ld2x.umq	__scroll_object_end - 1  /* i */
         1F:CDE7  AD 2D 2C   			lda	__scroll_object_end - 1
         1F:CDEA  0A         			asl	a
         1F:CDEB  AA         			tax
 6578                        		__ld.wax	_list_object_x_pos_ref
         1F:CDEC  BD 6F 25   			lda.l	_list_object_x_pos_ref, x
         1F:CDEF  BC 70 25   			ldy.h	_list_object_x_pos_ref, x
 6579                        		__sub.wm	_sgx_map_pxl_x
         1F:CDF2  38         			sec
         1F:CDF3  ED E4 26   			sbc.l	_sgx_map_pxl_x
         1F:CDF6  42         			say
         1F:CDF7  ED E5 26   			sbc.h	_sgx_map_pxl_x
         1F:CDFA  42         			say
 6580                        		__ld2x.um	__scroll_object_end - 1  /* i */
         1F:CDFB  AA         			tax
         1F:CDFC  AD 2D 2C   			lda	__scroll_object_end - 1
         1F:CDFF  0A         			asl	a
         1F:CE00  22         			sax
 6581                        		__st.waxq	_list_object_x_pos
         1F:CE01  9D 0B 25   			sta.l	_list_object_x_pos, x
         1F:CE04  98         			tya
         1F:CE05  9D 0C 25   			sta.h	_list_object_x_pos, x
 6582                        	
 6583                        		.dbg	line,	"include\routines_LEVELS.c", 148; list_object_y_pos[i] = list_object_y_pos_ref[i] - sgx_map_pxl_y;
 6584                        		__ld2x.umq	__scroll_object_end - 1  /* i */
         1F:CE08  AD 2D 2C   			lda	__scroll_object_end - 1
         1F:CE0B  0A         			asl	a
         1F:CE0C  AA         			tax
 6585                        		__ld.wax	_list_object_y_pos_ref
         1F:CE0D  BD A1 25   			lda.l	_list_object_y_pos_ref, x
         1F:CE10  BC A2 25   			ldy.h	_list_object_y_pos_ref, x
 6586                        		__sub.wm	_sgx_map_pxl_y
         1F:CE13  38         			sec
         1F:CE14  ED E6 26   			sbc.l	_sgx_map_pxl_y
         1F:CE17  42         			say
         1F:CE18  ED E7 26   			sbc.h	_sgx_map_pxl_y
         1F:CE1B  42         			say
 6587                        		__ld2x.um	__scroll_object_end - 1  /* i */
         1F:CE1C  AA         			tax
         1F:CE1D  AD 2D 2C   			lda	__scroll_object_end - 1
         1F:CE20  0A         			asl	a
         1F:CE21  22         			sax
 6588                        		__st.waxq	_list_object_y_pos
         1F:CE22  9D 3D 25   			sta.l	_list_object_y_pos, x
         1F:CE25  98         			tya
         1F:CE26  9D 3E 25   			sta.h	_list_object_y_pos, x
 6589                        	
 6590                        		.dbg	line,	"include\routines_LEVELS.c", 149; }
 6591                        	
 6592                        		.dbg	line,	"include\routines_LEVELS.c", 151; else
 6593                        		__bra		.LL224
         1F:CE29  80 1E      			bra	.LL224
 6594    1F:CE2B             	.LL223:
 6595                        	
 6596                        		.dbg	line,	"include\routines_LEVELS.c", 152; {
 6597                        	
 6598                        		.dbg	line,	"include\routines_LEVELS.c", 153; list_object_x_pos[i] = -16;
 6599                        		__ld2x.umq	__scroll_object_end - 1  /* i */
         1F:CE2B  AD 2D 2C   			lda	__scroll_object_end - 1
         1F:CE2E  0A         			asl	a
         1F:CE2F  AA         			tax
 6600                        		__st.waxiq	-16, _list_object_x_pos
         1F:CE30  A9 F0      			lda.l	#-16
         1F:CE32  9D 0B 25   			sta.l	_list_object_x_pos, x
         1F:CE35  A9 FF      			lda.h	#-16
         1F:CE37  9D 0C 25   			sta.h	_list_object_x_pos, x
 6601                        	
 6602                        		.dbg	line,	"include\routines_LEVELS.c", 154; list_object_y_pos[i] = -16;
 6603                        		__ld2x.umq	__scroll_object_end - 1  /* i */
         1F:CE3A  AD 2D 2C   			lda	__scroll_object_end - 1
         1F:CE3D  0A         			asl	a
         1F:CE3E  AA         			tax
 6604                        		__st.waxiq	-16, _list_object_y_pos
         1F:CE3F  A9 F0      			lda.l	#-16
         1F:CE41  9D 3D 25   			sta.l	_list_object_y_pos, x
         1F:CE44  A9 FF      			lda.h	#-16
         1F:CE46  9D 3E 25   			sta.h	_list_object_y_pos, x
 6605                        	
 6606                        		.dbg	line,	"include\routines_LEVELS.c", 155; }
 6607    1F:CE49             	.LL224:
 6608                        	
 6609                        		.dbg	line,	"include\routines_LEVELS.c", 157; sgx_spr_set(i + object_start_index);
 6610                        		__ld.um		__scroll_object_end - 1  /* i */
         1F:CE49  AD 2D 2C   			lda	__scroll_object_end - 1
         1F:CE4C  C2         			cly
 6611                        		__add.um	_object_start_index
         1F:CE4D  18         			clc
         1F:CE4E  6D 38 23   			adc	_object_start_index
         1F:CE51  90 01      			bcc	!+
         1F:CE53  C8         			iny
         1F:CE54             	!:
 6612                        		__call		_sgx_spr_set.1
         1F:CE54  20 9E E8   			call	_sgx_spr_set.1
 6613                        	
 6614                        		.dbg	line,	"include\routines_LEVELS.c", 159; sgx_spr_x(list_object_x_pos[i]);
 6615                        		__ld2x.umq	__scroll_object_end - 1  /* i */
         1F:CE57  AD 2D 2C   			lda	__scroll_object_end - 1
         1F:CE5A  0A         			asl	a
         1F:CE5B  AA         			tax
 6616                        		__ld.wax	_list_object_x_pos
         1F:CE5C  BD 0B 25   			lda.l	_list_object_x_pos, x
         1F:CE5F  BC 0C 25   			ldy.h	_list_object_x_pos, x
 6617                        		__call		_sgx_spr_x.1
         1F:CE62  20 CB E8   			call	_sgx_spr_x.1
 6618                        	
 6619                        		.dbg	line,	"include\routines_LEVELS.c", 160; sgx_spr_y(list_object_y_pos[i]);
 6620                        		__ld2x.umq	__scroll_object_end - 1  /* i */
         1F:CE65  AD 2D 2C   			lda	__scroll_object_end - 1
         1F:CE68  0A         			asl	a
         1F:CE69  AA         			tax
 6621                        		__ld.wax	_list_object_y_pos
         1F:CE6A  BD 3D 25   			lda.l	_list_object_y_pos, x
         1F:CE6D  BC 3E 25   			ldy.h	_list_object_y_pos, x
 6622                        		__call		_sgx_spr_y.1
         1F:CE70  20 DA E8   			call	_sgx_spr_y.1
 6623                        	
 6624                        		.dbg	line,	"include\routines_LEVELS.c", 161; }
 6625                        	
 6626                        		.dbg	line,	"include\routines_LEVELS.c", 162; }
 6627    1F:CE73             	.LL218	.alias		.LL215
 6628                        		__bra		.LL215
         1F:CE73  4C 2B CD   			bra	.LL215
 6629    1F:CE76             	.LL217:
 6630                        	
 6631                        		.dbg	line,	"include\routines_LEVELS.c", 163; }
 6632    1F:CE76             	.LL213:
 6633                        		__return	0
         1F:CE76  4C EF FF   			jmp	leave_proc
 6634                        		.dbg	clear
 6635                        		.endp
 6636               2300     		.bss
 6637    F8:2300             	__scroll_object_end	.alias	leaf_stack
 6638               E31D     		.code
 6639                        		.pceas
 6640                        	
 6641                        		.dbg	line,	"include\routines_LEVELS.c", 166; void scroll_chest()
 6642                        		.dbg	line,	"include\routines_LEVELS.c", 167; {
 6643                        	;***********************
 6644                        	;***********************
 6645                        	
 6646                        		.hucc
 6647    1F:CE79             		.proc		_scroll_chest
 6648                        		__enter		_scroll_chest
 6649                        	
 6650                        		.dbg	line,	"include\routines_LEVELS.c", 168; char i;
 6651                        	
 6652                        		.dbg	line,	"include\routines_LEVELS.c", 169; onscreen_chest_number = 0;
 6653                        		__st.umiq	0, _onscreen_chest_number
         1F:CE79  9C C2 23   			stz	_onscreen_chest_number
 6654                        	
 6655                        		.dbg	line,	"include\routines_LEVELS.c", 171; for(i=0 ; i<level_chest_number ; i++)
 6656                        		__st.umiq	0, __scroll_chest_end - 1  /* i */
         1F:CE7C  9C 2D 2C   			stz	__scroll_chest_end - 1
 6657    1F:CE7F             	.LL226:
 6658                        		__ld.umq	__scroll_chest_end - 1  /* i */
         1F:CE7F  AD 2D 2C   			lda	__scroll_chest_end - 1
 6659                        		__ult_b.umq	_level_chest_number
         1F:CE82  CD C1 23   			cmp	_level_chest_number		; Subtract memory from A.
         1F:CE85  6A         			ror	a		; CC if A < memory.
         1F:CE86  49 80      			eor	#$80
         1F:CE88  2A         			rol	a
 6660                        		__btrue		.LL228
         1F:CE89  B0 08      			bcs	.LL228
 6661                        		__bra		.LL229
         1F:CE8B  4C D9 CF   			bra	.LL229
 6662    1F:CE8E             	.LL227:
 6663                        		__inc.umq	__scroll_chest_end - 1  /* i */
         1F:CE8E  EE 2D 2C   			inc	__scroll_chest_end - 1
 6664                        		__bra		.LL226
         1F:CE91  80 EC      			bra	.LL226
 6665    1F:CE93             	.LL228:
 6666                        	
 6667                        		.dbg	line,	"include\routines_LEVELS.c", 172; {
 6668                        	
 6669                        		.dbg	line,	"include\routines_LEVELS.c", 173; if(list_chest_state[i] != STATE_FREE)
 6670                        		__ldx.umq	__scroll_chest_end - 1  /* i */
         1F:CE93  AE 2D 2C   			ldx	__scroll_chest_end - 1
 6671                        		__tst.uax	_list_chest_state
         1F:CE96  BD C3 23   			lda	_list_chest_state, x
         1F:CE99  C9 01      			cmp	#1
 6672                        		__bfalse	.LL230
         1F:CE9B  90 F1      			bcc	.LL230
 6673                        	
 6674                        		.dbg	line,	"include\routines_LEVELS.c", 174; {
 6675                        	
 6676                        		.dbg	line,	"include\routines_LEVELS.c", 175; char scroll_allowed = FALSE;
 6677                        		__st.umiq	0, __scroll_chest_end - 2  /* scroll_allowed */
         1F:CE9D  9C 2C 2C   			stz	__scroll_chest_end - 2
 6678                        	
 6679                        		.dbg	line,	"include\routines_LEVELS.c", 176; 
 6680                        	
 6681                        		.dbg	line,	"include\routines_LEVELS.c", 177; // IF CHEST X POSITION IS INFERIOR TO SCREEN RIGHT SIDE //
 6682                        	
 6683                        		.dbg	line,	"include\routines_LEVELS.c", 178; if(list_chest_x_pos_ref[i] < sgx_map_pxl_x + 256)
 6684                        		__ld.wm		_sgx_map_pxl_x
         1F:CEA0  AD E4 26   			lda.l	_sgx_map_pxl_x
         1F:CEA3  AC E5 26   			ldy.h	_sgx_map_pxl_x
 6685                        		__add.wi	256
         1F:CEA6  18         			clc
         1F:CEA7  69 00      			adc.l	#256
         1F:CEA9  42         			say
         1F:CEAA  69 01      			adc.h	#256
         1F:CEAC  42         			say
 6686                        		__ld2x.um	__scroll_chest_end - 1  /* i */
         1F:CEAD  AA         			tax
         1F:CEAE  AD 2D 2C   			lda	__scroll_chest_end - 1
         1F:CEB1  0A         			asl	a
         1F:CEB2  22         			sax
 6687                        		__ugt_w.wax	_list_chest_x_pos_ref
         1F:CEB3  18         			clc			; Subtract memory+1 from Y:A.
         1F:CEB4  FD F3 25   			sbc.l	_list_chest_x_pos_ref, x
         1F:CEB7  98         			tya
         1F:CEB8  FD F4 25   			sbc.h	_list_chest_x_pos_ref, x		; CS if Y:A > memory.
 6688                        		__bfalse	.LL231
         1F:CEBB  B0 03 4C 40			bcc	.LL231
         1F:CEBF  CF          
 6689                        	
 6690                        		.dbg	line,	"include\routines_LEVELS.c", 179; {
 6691                        	
 6692                        		.dbg	line,	"include\routines_LEVELS.c", 180; // IF CHEST X POSITION IS SUPERIOR TO SCREEN LEFT SIDE PLUS 32 PX //
 6693                        	
 6694                        		.dbg	line,	"include\routines_LEVELS.c", 181; if(list_chest_x_pos_ref[i] - sgx_map_pxl_x + 32 > 0)
 6695                        		__ld2x.umq	__scroll_chest_end - 1  /* i */
         1F:CEC0  AD 2D 2C   			lda	__scroll_chest_end - 1
         1F:CEC3  0A         			asl	a
         1F:CEC4  AA         			tax
 6696                        		__ld.wax	_list_chest_x_pos_ref
         1F:CEC5  BD F3 25   			lda.l	_list_chest_x_pos_ref, x
         1F:CEC8  BC F4 25   			ldy.h	_list_chest_x_pos_ref, x
 6697                        		__sub.wm	_sgx_map_pxl_x
         1F:CECB  38         			sec
         1F:CECC  ED E4 26   			sbc.l	_sgx_map_pxl_x
         1F:CECF  42         			say
         1F:CED0  ED E5 26   			sbc.h	_sgx_map_pxl_x
         1F:CED3  42         			say
 6698                        		__add.wi	32
         1F:CED4  18         			clc
         1F:CED5  69 20      			adc.l	#32
         1F:CED7  90 01      			bcc	!+
         1F:CED9  C8         			iny
         1F:CEDA             	!:
 6699                        		__sgt_w.wi	0
         1F:CEDA  18         			clc			; Subtract integer+1 from Y:A.
         1F:CEDB  E9 00      			sbc.l	#0
         1F:CEDD  98         			tya
         1F:CEDE  E9 00      			sbc.h	#0
         1F:CEE0  50 02      			bvc	!+
         1F:CEE2  49 80      			eor	#$80		; +ve if Y:A > integer (signed).
         1F:CEE4  49 80      	!:		eor	#$80
         1F:CEE6  0A         			asl	a
 6700                        		__bfalse	.LL232
         1F:CEE7  90 57      			bcc	.LL232
 6701                        	
 6702                        		.dbg	line,	"include\routines_LEVELS.c", 182; {
 6703                        	
 6704                        		.dbg	line,	"include\routines_LEVELS.c", 183; // IF CHEST Y POSITION IS INFERIOR TO SCREEN BOTTOM //
 6705                        	
 6706                        		.dbg	line,	"include\routines_LEVELS.c", 184; if(list_chest_y_pos_ref[i] < sgx_map_pxl_y + 224)
 6707                        		__ld.wm		_sgx_map_pxl_y
         1F:CEE9  AD E6 26   			lda.l	_sgx_map_pxl_y
         1F:CEEC  AC E7 26   			ldy.h	_sgx_map_pxl_y
 6708                        		__add.wi	224
         1F:CEEF  18         			clc
         1F:CEF0  69 E0      			adc.l	#224
         1F:CEF2  90 01      			bcc	!+
         1F:CEF4  C8         			iny
         1F:CEF5             	!:
 6709                        		__ld2x.um	__scroll_chest_end - 1  /* i */
         1F:CEF5  AA         			tax
         1F:CEF6  AD 2D 2C   			lda	__scroll_chest_end - 1
         1F:CEF9  0A         			asl	a
         1F:CEFA  22         			sax
 6710                        		__ugt_w.wax	_list_chest_y_pos_ref
         1F:CEFB  18         			clc			; Subtract memory+1 from Y:A.
         1F:CEFC  FD 03 26   			sbc.l	_list_chest_y_pos_ref, x
         1F:CEFF  98         			tya
         1F:CF00  FD 04 26   			sbc.h	_list_chest_y_pos_ref, x		; CS if Y:A > memory.
 6711                        		__bfalse	.LL233
         1F:CF03  90 3B      			bcc	.LL233
 6712                        	
 6713                        		.dbg	line,	"include\routines_LEVELS.c", 185; {
 6714                        	
 6715                        		.dbg	line,	"include\routines_LEVELS.c", 186; // IF CHEST Y POSITION IS SUPERIOR TO SCREEN TOP PLUS 32 PX //
 6716                        	
 6717                        		.dbg	line,	"include\routines_LEVELS.c", 187; if(list_chest_y_pos_ref[i] - sgx_map_pxl_y + 32 > 0)
 6718                        		__ld2x.umq	__scroll_chest_end - 1  /* i */
         1F:CF05  AD 2D 2C   			lda	__scroll_chest_end - 1
         1F:CF08  0A         			asl	a
         1F:CF09  AA         			tax
 6719                        		__ld.wax	_list_chest_y_pos_ref
         1F:CF0A  BD 03 26   			lda.l	_list_chest_y_pos_ref, x
         1F:CF0D  BC 04 26   			ldy.h	_list_chest_y_pos_ref, x
 6720                        		__sub.wm	_sgx_map_pxl_y
         1F:CF10  38         			sec
         1F:CF11  ED E6 26   			sbc.l	_sgx_map_pxl_y
         1F:CF14  42         			say
         1F:CF15  ED E7 26   			sbc.h	_sgx_map_pxl_y
         1F:CF18  42         			say
 6721                        		__add.wi	32
         1F:CF19  18         			clc
         1F:CF1A  69 20      			adc.l	#32
         1F:CF1C  90 01      			bcc	!+
         1F:CF1E  C8         			iny
         1F:CF1F             	!:
 6722                        		__sgt_w.wi	0
         1F:CF1F  18         			clc			; Subtract integer+1 from Y:A.
         1F:CF20  E9 00      			sbc.l	#0
         1F:CF22  98         			tya
         1F:CF23  E9 00      			sbc.h	#0
         1F:CF25  50 02      			bvc	!+
         1F:CF27  49 80      			eor	#$80		; +ve if Y:A > integer (signed).
         1F:CF29  49 80      	!:		eor	#$80
         1F:CF2B  0A         			asl	a
 6723                        		__bfalse	.LL234
         1F:CF2C  90 12      			bcc	.LL234
 6724                        	
 6725                        		.dbg	line,	"include\routines_LEVELS.c", 188; {
 6726                        	
 6727                        		.dbg	line,	"include\routines_LEVELS.c", 189; // WE STORE THE CHEST ID //
 6728                        	
 6729                        		.dbg	line,	"include\routines_LEVELS.c", 190; list_onscreen_chest[onscreen_chest_number] = i;
 6730                        		__ldx.umq	_onscreen_chest_number
         1F:CF2E  AE C2 23   			ldx	_onscreen_chest_number
 6731                        		__ld.um		__scroll_chest_end - 1  /* i */
         1F:CF31  AD 2D 2C   			lda	__scroll_chest_end - 1
         1F:CF34  C2         			cly
 6732                        		__st.uaxq	_list_onscreen_chest
         1F:CF35  9D CB 23   			sta	_list_onscreen_chest, x
 6733                        	
 6734                        		.dbg	line,	"include\routines_LEVELS.c", 191; onscreen_chest_number += 1;
 6735                        		__add_st.umiq	1, _onscreen_chest_number
         1F:CF38  EE C2 23   			inc	_onscreen_chest_number
 6736                        	
 6737                        		.dbg	line,	"include\routines_LEVELS.c", 192; 
 6738                        	
 6739                        		.dbg	line,	"include\routines_LEVELS.c", 193; scroll_allowed = TRUE;
 6740                        		__st.umiq	1, __scroll_chest_end - 2  /* scroll_allowed */
         1F:CF3B  A9 01      			lda.l	#1
         1F:CF3D  8D 2C 2C   			sta	__scroll_chest_end - 2
 6741                        	
 6742                        		.dbg	line,	"include\routines_LEVELS.c", 194; }
 6743                        	
 6744                        		.dbg	line,	"include\routines_LEVELS.c", 195; }
 6745    1F:CF40             	.LL234:
 6746                        	
 6747                        		.dbg	line,	"include\routines_LEVELS.c", 196; }
 6748    1F:CF40             	.LL233:
 6749                        	
 6750                        		.dbg	line,	"include\routines_LEVELS.c", 197; }
 6751    1F:CF40             	.LL232:
 6752                        	
 6753                        		.dbg	line,	"include\routines_LEVELS.c", 199; // IF CHEST IS WITHIN THE SCREEN LIMITS //
 6754                        	
 6755                        		.dbg	line,	"include\routines_LEVELS.c", 200; if(scroll_allowed == TRUE)
 6756    1F:CF40             	.LL231:
 6757                        		__ld.umq	__scroll_chest_end - 2  /* scroll_allowed */
         1F:CF40  AD 2C 2C   			lda	__scroll_chest_end - 2
 6758                        		__equ_b.uiq	1
         1F:CF43  C9 01      			cmp	#1
         1F:CF45  F0 01      			beq	!+
         1F:CF47  18         			clc
         1F:CF48             	!:
 6759                        		__bfalse	.LL235
         1F:CF48  90 44      			bcc	.LL235
 6760                        	
 6761                        		.dbg	line,	"include\routines_LEVELS.c", 201; {
 6762                        	
 6763                        		.dbg	line,	"include\routines_LEVELS.c", 202; list_chest_x_pos[i] = list_chest_x_pos_ref[i] - sgx_map_pxl_x;
 6764                        		__ld2x.umq	__scroll_chest_end - 1  /* i */
         1F:CF4A  AD 2D 2C   			lda	__scroll_chest_end - 1
         1F:CF4D  0A         			asl	a
         1F:CF4E  AA         			tax
 6765                        		__ld.wax	_list_chest_x_pos_ref
         1F:CF4F  BD F3 25   			lda.l	_list_chest_x_pos_ref, x
         1F:CF52  BC F4 25   			ldy.h	_list_chest_x_pos_ref, x
 6766                        		__sub.wm	_sgx_map_pxl_x
         1F:CF55  38         			sec
         1F:CF56  ED E4 26   			sbc.l	_sgx_map_pxl_x
         1F:CF59  42         			say
         1F:CF5A  ED E5 26   			sbc.h	_sgx_map_pxl_x
         1F:CF5D  42         			say
 6767                        		__ld2x.um	__scroll_chest_end - 1  /* i */
         1F:CF5E  AA         			tax
         1F:CF5F  AD 2D 2C   			lda	__scroll_chest_end - 1
         1F:CF62  0A         			asl	a
         1F:CF63  22         			sax
 6768                        		__st.waxq	_list_chest_x_pos
         1F:CF64  9D D3 25   			sta.l	_list_chest_x_pos, x
         1F:CF67  98         			tya
         1F:CF68  9D D4 25   			sta.h	_list_chest_x_pos, x
 6769                        	
 6770                        		.dbg	line,	"include\routines_LEVELS.c", 203; list_chest_y_pos[i] = list_chest_y_pos_ref[i] - sgx_map_pxl_y;
 6771                        		__ld2x.umq	__scroll_chest_end - 1  /* i */
         1F:CF6B  AD 2D 2C   			lda	__scroll_chest_end - 1
         1F:CF6E  0A         			asl	a
         1F:CF6F  AA         			tax
 6772                        		__ld.wax	_list_chest_y_pos_ref
         1F:CF70  BD 03 26   			lda.l	_list_chest_y_pos_ref, x
         1F:CF73  BC 04 26   			ldy.h	_list_chest_y_pos_ref, x
 6773                        		__sub.wm	_sgx_map_pxl_y
         1F:CF76  38         			sec
         1F:CF77  ED E6 26   			sbc.l	_sgx_map_pxl_y
         1F:CF7A  42         			say
         1F:CF7B  ED E7 26   			sbc.h	_sgx_map_pxl_y
         1F:CF7E  42         			say
 6774                        		__ld2x.um	__scroll_chest_end - 1  /* i */
         1F:CF7F  AA         			tax
         1F:CF80  AD 2D 2C   			lda	__scroll_chest_end - 1
         1F:CF83  0A         			asl	a
         1F:CF84  22         			sax
 6775                        		__st.waxq	_list_chest_y_pos
         1F:CF85  9D E3 25   			sta.l	_list_chest_y_pos, x
         1F:CF88  98         			tya
         1F:CF89  9D E4 25   			sta.h	_list_chest_y_pos, x
 6776                        	
 6777                        		.dbg	line,	"include\routines_LEVELS.c", 204; }
 6778                        	
 6779                        		.dbg	line,	"include\routines_LEVELS.c", 206; else
 6780                        		__bra		.LL236
         1F:CF8C  80 1E      			bra	.LL236
 6781    1F:CF8E             	.LL235:
 6782                        	
 6783                        		.dbg	line,	"include\routines_LEVELS.c", 207; {
 6784                        	
 6785                        		.dbg	line,	"include\routines_LEVELS.c", 208; list_chest_x_pos[i] = -32;
 6786                        		__ld2x.umq	__scroll_chest_end - 1  /* i */
         1F:CF8E  AD 2D 2C   			lda	__scroll_chest_end - 1
         1F:CF91  0A         			asl	a
         1F:CF92  AA         			tax
 6787                        		__st.waxiq	-32, _list_chest_x_pos
         1F:CF93  A9 E0      			lda.l	#-32
         1F:CF95  9D D3 25   			sta.l	_list_chest_x_pos, x
         1F:CF98  A9 FF      			lda.h	#-32
         1F:CF9A  9D D4 25   			sta.h	_list_chest_x_pos, x
 6788                        	
 6789                        		.dbg	line,	"include\routines_LEVELS.c", 209; list_chest_y_pos[i] = -32;
 6790                        		__ld2x.umq	__scroll_chest_end - 1  /* i */
         1F:CF9D  AD 2D 2C   			lda	__scroll_chest_end - 1
         1F:CFA0  0A         			asl	a
         1F:CFA1  AA         			tax
 6791                        		__st.waxiq	-32, _list_chest_y_pos
         1F:CFA2  A9 E0      			lda.l	#-32
         1F:CFA4  9D E3 25   			sta.l	_list_chest_y_pos, x
         1F:CFA7  A9 FF      			lda.h	#-32
         1F:CFA9  9D E4 25   			sta.h	_list_chest_y_pos, x
 6792                        	
 6793                        		.dbg	line,	"include\routines_LEVELS.c", 210; }
 6794    1F:CFAC             	.LL236:
 6795                        	
 6796                        		.dbg	line,	"include\routines_LEVELS.c", 212; sgx_spr_set(i + chest_start_index);
 6797                        		__ld.um		__scroll_chest_end - 1  /* i */
         1F:CFAC  AD 2D 2C   			lda	__scroll_chest_end - 1
         1F:CFAF  C2         			cly
 6798                        		__add.um	_chest_start_index
         1F:CFB0  18         			clc
         1F:CFB1  6D C0 23   			adc	_chest_start_index
         1F:CFB4  90 01      			bcc	!+
         1F:CFB6  C8         			iny
         1F:CFB7             	!:
 6799                        		__call		_sgx_spr_set.1
         1F:CFB7  20 9E E8   			call	_sgx_spr_set.1
 6800                        	
 6801                        		.dbg	line,	"include\routines_LEVELS.c", 214; sgx_spr_x(list_chest_x_pos[i]);
 6802                        		__ld2x.umq	__scroll_chest_end - 1  /* i */
         1F:CFBA  AD 2D 2C   			lda	__scroll_chest_end - 1
         1F:CFBD  0A         			asl	a
         1F:CFBE  AA         			tax
 6803                        		__ld.wax	_list_chest_x_pos
         1F:CFBF  BD D3 25   			lda.l	_list_chest_x_pos, x
         1F:CFC2  BC D4 25   			ldy.h	_list_chest_x_pos, x
 6804                        		__call		_sgx_spr_x.1
         1F:CFC5  20 CB E8   			call	_sgx_spr_x.1
 6805                        	
 6806                        		.dbg	line,	"include\routines_LEVELS.c", 215; sgx_spr_y(list_chest_y_pos[i]);
 6807                        		__ld2x.umq	__scroll_chest_end - 1  /* i */
         1F:CFC8  AD 2D 2C   			lda	__scroll_chest_end - 1
         1F:CFCB  0A         			asl	a
         1F:CFCC  AA         			tax
 6808                        		__ld.wax	_list_chest_y_pos
         1F:CFCD  BD E3 25   			lda.l	_list_chest_y_pos, x
         1F:CFD0  BC E4 25   			ldy.h	_list_chest_y_pos, x
 6809                        		__call		_sgx_spr_y.1
         1F:CFD3  20 DA E8   			call	_sgx_spr_y.1
 6810                        	
 6811                        		.dbg	line,	"include\routines_LEVELS.c", 216; }
 6812                        	
 6813                        		.dbg	line,	"include\routines_LEVELS.c", 217; }
 6814    1F:CFD6             	.LL230	.alias		.LL227
 6815                        		__bra		.LL227
         1F:CFD6  4C 8E CE   			bra	.LL227
 6816    1F:CFD9             	.LL229:
 6817                        	
 6818                        		.dbg	line,	"include\routines_LEVELS.c", 218; }
 6819    1F:CFD9             	.LL225:
 6820                        		__return	0
         1F:CFD9  4C EF FF   			jmp	leave_proc
 6821                        		.dbg	clear
 6822                        		.endp
 6823               2300     		.bss
 6824    F8:2300             	__scroll_chest_end	.alias	leaf_stack
 6825               E31D     		.code
 6826                        		.pceas
 6827                        	
 6828                        		.dbg	line,	"include\routines_LEVELS.c", 221; void scroll_npc()
 6829                        		.dbg	line,	"include\routines_LEVELS.c", 222; {
 6830                        	;***********************
 6831                        	;***********************
 6832                        	
 6833                        		.hucc
 6834    1F:CFDC             		.proc		_scroll_npc
 6835                        		__enter		_scroll_npc
 6836                        	
 6837                        		.dbg	line,	"include\routines_LEVELS.c", 223; char i;
 6838                        	
 6839                        		.dbg	line,	"include\routines_LEVELS.c", 224; onscreen_npc_number = 0;
 6840                        		__st.umiq	0, _onscreen_npc_number
         1F:CFDC  9C D5 23   			stz	_onscreen_npc_number
 6841                        	
 6842                        		.dbg	line,	"include\routines_LEVELS.c", 226; for(i=0 ; i<level_npc_number ; i++)
 6843                        		__st.umiq	0, __scroll_npc_end - 1  /* i */
         1F:CFDF  9C 2D 2C   			stz	__scroll_npc_end - 1
 6844    1F:CFE2             	.LL238:
 6845                        		__ld.umq	__scroll_npc_end - 1  /* i */
         1F:CFE2  AD 2D 2C   			lda	__scroll_npc_end - 1
 6846                        		__ult_b.umq	_level_npc_number
         1F:CFE5  CD D4 23   			cmp	_level_npc_number		; Subtract memory from A.
         1F:CFE8  6A         			ror	a		; CC if A < memory.
         1F:CFE9  49 80      			eor	#$80
         1F:CFEB  2A         			rol	a
 6847                        		__btrue		.LL240
         1F:CFEC  B0 08      			bcs	.LL240
 6848                        		__bra		.LL241
         1F:CFEE  4C 3C D1   			bra	.LL241
 6849    1F:CFF1             	.LL239:
 6850                        		__inc.umq	__scroll_npc_end - 1  /* i */
         1F:CFF1  EE 2D 2C   			inc	__scroll_npc_end - 1
 6851                        		__bra		.LL238
         1F:CFF4  80 EC      			bra	.LL238
 6852    1F:CFF6             	.LL240:
 6853                        	
 6854                        		.dbg	line,	"include\routines_LEVELS.c", 227; {
 6855                        	
 6856                        		.dbg	line,	"include\routines_LEVELS.c", 228; if(list_npc_state[i] != STATE_FREE)
 6857                        		__ldx.umq	__scroll_npc_end - 1  /* i */
         1F:CFF6  AE 2D 2C   			ldx	__scroll_npc_end - 1
 6858                        		__tst.uax	_list_npc_state
         1F:CFF9  BD E0 23   			lda	_list_npc_state, x
         1F:CFFC  C9 01      			cmp	#1
 6859                        		__bfalse	.LL242
         1F:CFFE  90 F1      			bcc	.LL242
 6860                        	
 6861                        		.dbg	line,	"include\routines_LEVELS.c", 229; {
 6862                        	
 6863                        		.dbg	line,	"include\routines_LEVELS.c", 230; char scroll_allowed = FALSE;
 6864                        		__st.umiq	0, __scroll_npc_end - 2  /* scroll_allowed */
         1F:D000  9C 2C 2C   			stz	__scroll_npc_end - 2
 6865                        	
 6866                        		.dbg	line,	"include\routines_LEVELS.c", 231; 
 6867                        	
 6868                        		.dbg	line,	"include\routines_LEVELS.c", 232; // IF NPC X POSITION IS INFERIOR TO SCREEN RIGHT SIDE //
 6869                        	
 6870                        		.dbg	line,	"include\routines_LEVELS.c", 233; if(list_npc_x_pos_ref[i] < sgx_map_pxl_x + 256)
 6871                        		__ld.wm		_sgx_map_pxl_x
         1F:D003  AD E4 26   			lda.l	_sgx_map_pxl_x
         1F:D006  AC E5 26   			ldy.h	_sgx_map_pxl_x
 6872                        		__add.wi	256
         1F:D009  18         			clc
         1F:D00A  69 00      			adc.l	#256
         1F:D00C  42         			say
         1F:D00D  69 01      			adc.h	#256
         1F:D00F  42         			say
 6873                        		__ld2x.um	__scroll_npc_end - 1  /* i */
         1F:D010  AA         			tax
         1F:D011  AD 2D 2C   			lda	__scroll_npc_end - 1
         1F:D014  0A         			asl	a
         1F:D015  22         			sax
 6874                        		__ugt_w.wax	_list_npc_x_pos_ref
         1F:D016  18         			clc			; Subtract memory+1 from Y:A.
         1F:D017  FD 37 26   			sbc.l	_list_npc_x_pos_ref, x
         1F:D01A  98         			tya
         1F:D01B  FD 38 26   			sbc.h	_list_npc_x_pos_ref, x		; CS if Y:A > memory.
 6875                        		__bfalse	.LL243
         1F:D01E  B0 03 4C A3			bcc	.LL243
         1F:D022  D0          
 6876                        	
 6877                        		.dbg	line,	"include\routines_LEVELS.c", 234; {
 6878                        	
 6879                        		.dbg	line,	"include\routines_LEVELS.c", 235; // IF NPC X POSITION IS SUPERIOR TO SCREEN LEFT SIDE PLUS 32 PX //
 6880                        	
 6881                        		.dbg	line,	"include\routines_LEVELS.c", 236; if(list_npc_x_pos_ref[i] - sgx_map_pxl_x + 32 > 0)
 6882                        		__ld2x.umq	__scroll_npc_end - 1  /* i */
         1F:D023  AD 2D 2C   			lda	__scroll_npc_end - 1
         1F:D026  0A         			asl	a
         1F:D027  AA         			tax
 6883                        		__ld.wax	_list_npc_x_pos_ref
         1F:D028  BD 37 26   			lda.l	_list_npc_x_pos_ref, x
         1F:D02B  BC 38 26   			ldy.h	_list_npc_x_pos_ref, x
 6884                        		__sub.wm	_sgx_map_pxl_x
         1F:D02E  38         			sec
         1F:D02F  ED E4 26   			sbc.l	_sgx_map_pxl_x
         1F:D032  42         			say
         1F:D033  ED E5 26   			sbc.h	_sgx_map_pxl_x
         1F:D036  42         			say
 6885                        		__add.wi	32
         1F:D037  18         			clc
         1F:D038  69 20      			adc.l	#32
         1F:D03A  90 01      			bcc	!+
         1F:D03C  C8         			iny
         1F:D03D             	!:
 6886                        		__sgt_w.wi	0
         1F:D03D  18         			clc			; Subtract integer+1 from Y:A.
         1F:D03E  E9 00      			sbc.l	#0
         1F:D040  98         			tya
         1F:D041  E9 00      			sbc.h	#0
         1F:D043  50 02      			bvc	!+
         1F:D045  49 80      			eor	#$80		; +ve if Y:A > integer (signed).
         1F:D047  49 80      	!:		eor	#$80
         1F:D049  0A         			asl	a
 6887                        		__bfalse	.LL244
         1F:D04A  90 57      			bcc	.LL244
 6888                        	
 6889                        		.dbg	line,	"include\routines_LEVELS.c", 237; {
 6890                        	
 6891                        		.dbg	line,	"include\routines_LEVELS.c", 238; // IF NPC Y POSITION IS INFERIOR TO SCREEN BOTTOM //
 6892                        	
 6893                        		.dbg	line,	"include\routines_LEVELS.c", 239; if(list_npc_y_pos_ref[i] < sgx_map_pxl_y + 224)
 6894                        		__ld.wm		_sgx_map_pxl_y
         1F:D04C  AD E6 26   			lda.l	_sgx_map_pxl_y
         1F:D04F  AC E7 26   			ldy.h	_sgx_map_pxl_y
 6895                        		__add.wi	224
         1F:D052  18         			clc
         1F:D053  69 E0      			adc.l	#224
         1F:D055  90 01      			bcc	!+
         1F:D057  C8         			iny
         1F:D058             	!:
 6896                        		__ld2x.um	__scroll_npc_end - 1  /* i */
         1F:D058  AA         			tax
         1F:D059  AD 2D 2C   			lda	__scroll_npc_end - 1
         1F:D05C  0A         			asl	a
         1F:D05D  22         			sax
 6897                        		__ugt_w.wax	_list_npc_y_pos_ref
         1F:D05E  18         			clc			; Subtract memory+1 from Y:A.
         1F:D05F  FD 49 26   			sbc.l	_list_npc_y_pos_ref, x
         1F:D062  98         			tya
         1F:D063  FD 4A 26   			sbc.h	_list_npc_y_pos_ref, x		; CS if Y:A > memory.
 6898                        		__bfalse	.LL245
         1F:D066  90 3B      			bcc	.LL245
 6899                        	
 6900                        		.dbg	line,	"include\routines_LEVELS.c", 240; {
 6901                        	
 6902                        		.dbg	line,	"include\routines_LEVELS.c", 241; // IF NPC Y POSITION IS SUPERIOR TO SCREEN TOP PLUS 32 PX //
 6903                        	
 6904                        		.dbg	line,	"include\routines_LEVELS.c", 242; if(list_npc_y_pos_ref[i] - sgx_map_pxl_y + 32 > 0)
 6905                        		__ld2x.umq	__scroll_npc_end - 1  /* i */
         1F:D068  AD 2D 2C   			lda	__scroll_npc_end - 1
         1F:D06B  0A         			asl	a
         1F:D06C  AA         			tax
 6906                        		__ld.wax	_list_npc_y_pos_ref
         1F:D06D  BD 49 26   			lda.l	_list_npc_y_pos_ref, x
         1F:D070  BC 4A 26   			ldy.h	_list_npc_y_pos_ref, x
 6907                        		__sub.wm	_sgx_map_pxl_y
         1F:D073  38         			sec
         1F:D074  ED E6 26   			sbc.l	_sgx_map_pxl_y
         1F:D077  42         			say
         1F:D078  ED E7 26   			sbc.h	_sgx_map_pxl_y
         1F:D07B  42         			say
 6908                        		__add.wi	32
         1F:D07C  18         			clc
         1F:D07D  69 20      			adc.l	#32
         1F:D07F  90 01      			bcc	!+
         1F:D081  C8         			iny
         1F:D082             	!:
 6909                        		__sgt_w.wi	0
         1F:D082  18         			clc			; Subtract integer+1 from Y:A.
         1F:D083  E9 00      			sbc.l	#0
         1F:D085  98         			tya
         1F:D086  E9 00      			sbc.h	#0
         1F:D088  50 02      			bvc	!+
         1F:D08A  49 80      			eor	#$80		; +ve if Y:A > integer (signed).
         1F:D08C  49 80      	!:		eor	#$80
         1F:D08E  0A         			asl	a
 6910                        		__bfalse	.LL246
         1F:D08F  90 12      			bcc	.LL246
 6911                        	
 6912                        		.dbg	line,	"include\routines_LEVELS.c", 243; {
 6913                        	
 6914                        		.dbg	line,	"include\routines_LEVELS.c", 244; // WE STORE THE NPC ID //
 6915                        	
 6916                        		.dbg	line,	"include\routines_LEVELS.c", 245; list_onscreen_npc[onscreen_npc_number] = i;
 6917                        		__ldx.umq	_onscreen_npc_number
         1F:D091  AE D5 23   			ldx	_onscreen_npc_number
 6918                        		__ld.um		__scroll_npc_end - 1  /* i */
         1F:D094  AD 2D 2C   			lda	__scroll_npc_end - 1
         1F:D097  C2         			cly
 6919                        		__st.uaxq	_list_onscreen_npc
         1F:D098  9D F2 23   			sta	_list_onscreen_npc, x
 6920                        	
 6921                        		.dbg	line,	"include\routines_LEVELS.c", 246; onscreen_npc_number += 1;
 6922                        		__add_st.umiq	1, _onscreen_npc_number
         1F:D09B  EE D5 23   			inc	_onscreen_npc_number
 6923                        	
 6924                        		.dbg	line,	"include\routines_LEVELS.c", 247; 
 6925                        	
 6926                        		.dbg	line,	"include\routines_LEVELS.c", 248; scroll_allowed = TRUE;
 6927                        		__st.umiq	1, __scroll_npc_end - 2  /* scroll_allowed */
         1F:D09E  A9 01      			lda.l	#1
         1F:D0A0  8D 2C 2C   			sta	__scroll_npc_end - 2
 6928                        	
 6929                        		.dbg	line,	"include\routines_LEVELS.c", 249; }
 6930                        	
 6931                        		.dbg	line,	"include\routines_LEVELS.c", 250; }
 6932    1F:D0A3             	.LL246:
 6933                        	
 6934                        		.dbg	line,	"include\routines_LEVELS.c", 251; }
 6935    1F:D0A3             	.LL245:
 6936                        	
 6937                        		.dbg	line,	"include\routines_LEVELS.c", 252; }
 6938    1F:D0A3             	.LL244:
 6939                        	
 6940                        		.dbg	line,	"include\routines_LEVELS.c", 254; // IF NPC IS WITHIN THE SCREEN LIMITS //
 6941                        	
 6942                        		.dbg	line,	"include\routines_LEVELS.c", 255; if(scroll_allowed == TRUE)
 6943    1F:D0A3             	.LL243:
 6944                        		__ld.umq	__scroll_npc_end - 2  /* scroll_allowed */
         1F:D0A3  AD 2C 2C   			lda	__scroll_npc_end - 2
 6945                        		__equ_b.uiq	1
         1F:D0A6  C9 01      			cmp	#1
         1F:D0A8  F0 01      			beq	!+
         1F:D0AA  18         			clc
         1F:D0AB             	!:
 6946                        		__bfalse	.LL247
         1F:D0AB  90 44      			bcc	.LL247
 6947                        	
 6948                        		.dbg	line,	"include\routines_LEVELS.c", 256; {
 6949                        	
 6950                        		.dbg	line,	"include\routines_LEVELS.c", 257; list_npc_x_pos[i] = list_npc_x_pos_ref[i] - sgx_map_pxl_x;
 6951                        		__ld2x.umq	__scroll_npc_end - 1  /* i */
         1F:D0AD  AD 2D 2C   			lda	__scroll_npc_end - 1
         1F:D0B0  0A         			asl	a
         1F:D0B1  AA         			tax
 6952                        		__ld.wax	_list_npc_x_pos_ref
         1F:D0B2  BD 37 26   			lda.l	_list_npc_x_pos_ref, x
         1F:D0B5  BC 38 26   			ldy.h	_list_npc_x_pos_ref, x
 6953                        		__sub.wm	_sgx_map_pxl_x
         1F:D0B8  38         			sec
         1F:D0B9  ED E4 26   			sbc.l	_sgx_map_pxl_x
         1F:D0BC  42         			say
         1F:D0BD  ED E5 26   			sbc.h	_sgx_map_pxl_x
         1F:D0C0  42         			say
 6954                        		__ld2x.um	__scroll_npc_end - 1  /* i */
         1F:D0C1  AA         			tax
         1F:D0C2  AD 2D 2C   			lda	__scroll_npc_end - 1
         1F:D0C5  0A         			asl	a
         1F:D0C6  22         			sax
 6955                        		__st.waxq	_list_npc_x_pos
         1F:D0C7  9D 13 26   			sta.l	_list_npc_x_pos, x
         1F:D0CA  98         			tya
         1F:D0CB  9D 14 26   			sta.h	_list_npc_x_pos, x
 6956                        	
 6957                        		.dbg	line,	"include\routines_LEVELS.c", 258; list_npc_y_pos[i] = list_npc_y_pos_ref[i] - sgx_map_pxl_y;
 6958                        		__ld2x.umq	__scroll_npc_end - 1  /* i */
         1F:D0CE  AD 2D 2C   			lda	__scroll_npc_end - 1
         1F:D0D1  0A         			asl	a
         1F:D0D2  AA         			tax
 6959                        		__ld.wax	_list_npc_y_pos_ref
         1F:D0D3  BD 49 26   			lda.l	_list_npc_y_pos_ref, x
         1F:D0D6  BC 4A 26   			ldy.h	_list_npc_y_pos_ref, x
 6960                        		__sub.wm	_sgx_map_pxl_y
         1F:D0D9  38         			sec
         1F:D0DA  ED E6 26   			sbc.l	_sgx_map_pxl_y
         1F:D0DD  42         			say
         1F:D0DE  ED E7 26   			sbc.h	_sgx_map_pxl_y
         1F:D0E1  42         			say
 6961                        		__ld2x.um	__scroll_npc_end - 1  /* i */
         1F:D0E2  AA         			tax
         1F:D0E3  AD 2D 2C   			lda	__scroll_npc_end - 1
         1F:D0E6  0A         			asl	a
         1F:D0E7  22         			sax
 6962                        		__st.waxq	_list_npc_y_pos
         1F:D0E8  9D 25 26   			sta.l	_list_npc_y_pos, x
         1F:D0EB  98         			tya
         1F:D0EC  9D 26 26   			sta.h	_list_npc_y_pos, x
 6963                        	
 6964                        		.dbg	line,	"include\routines_LEVELS.c", 259; }
 6965                        	
 6966                        		.dbg	line,	"include\routines_LEVELS.c", 261; else
 6967                        		__bra		.LL248
         1F:D0EF  80 1E      			bra	.LL248
 6968    1F:D0F1             	.LL247:
 6969                        	
 6970                        		.dbg	line,	"include\routines_LEVELS.c", 262; {
 6971                        	
 6972                        		.dbg	line,	"include\routines_LEVELS.c", 263; list_npc_x_pos[i] = -32;
 6973                        		__ld2x.umq	__scroll_npc_end - 1  /* i */
         1F:D0F1  AD 2D 2C   			lda	__scroll_npc_end - 1
         1F:D0F4  0A         			asl	a
         1F:D0F5  AA         			tax
 6974                        		__st.waxiq	-32, _list_npc_x_pos
         1F:D0F6  A9 E0      			lda.l	#-32
         1F:D0F8  9D 13 26   			sta.l	_list_npc_x_pos, x
         1F:D0FB  A9 FF      			lda.h	#-32
         1F:D0FD  9D 14 26   			sta.h	_list_npc_x_pos, x
 6975                        	
 6976                        		.dbg	line,	"include\routines_LEVELS.c", 264; list_npc_y_pos[i] = -32;
 6977                        		__ld2x.umq	__scroll_npc_end - 1  /* i */
         1F:D100  AD 2D 2C   			lda	__scroll_npc_end - 1
         1F:D103  0A         			asl	a
         1F:D104  AA         			tax
 6978                        		__st.waxiq	-32, _list_npc_y_pos
         1F:D105  A9 E0      			lda.l	#-32
         1F:D107  9D 25 26   			sta.l	_list_npc_y_pos, x
         1F:D10A  A9 FF      			lda.h	#-32
         1F:D10C  9D 26 26   			sta.h	_list_npc_y_pos, x
 6979                        	
 6980                        		.dbg	line,	"include\routines_LEVELS.c", 265; }
 6981    1F:D10F             	.LL248:
 6982                        	
 6983                        		.dbg	line,	"include\routines_LEVELS.c", 267; sgx_spr_set(i + npc_start_index);
 6984                        		__ld.um		__scroll_npc_end - 1  /* i */
         1F:D10F  AD 2D 2C   			lda	__scroll_npc_end - 1
         1F:D112  C2         			cly
 6985                        		__add.um	_npc_start_index
         1F:D113  18         			clc
         1F:D114  6D D3 23   			adc	_npc_start_index
         1F:D117  90 01      			bcc	!+
         1F:D119  C8         			iny
         1F:D11A             	!:
 6986                        		__call		_sgx_spr_set.1
         1F:D11A  20 9E E8   			call	_sgx_spr_set.1
 6987                        	
 6988                        		.dbg	line,	"include\routines_LEVELS.c", 269; sgx_spr_x(list_npc_x_pos[i]);
 6989                        		__ld2x.umq	__scroll_npc_end - 1  /* i */
         1F:D11D  AD 2D 2C   			lda	__scroll_npc_end - 1
         1F:D120  0A         			asl	a
         1F:D121  AA         			tax
 6990                        		__ld.wax	_list_npc_x_pos
         1F:D122  BD 13 26   			lda.l	_list_npc_x_pos, x
         1F:D125  BC 14 26   			ldy.h	_list_npc_x_pos, x
 6991                        		__call		_sgx_spr_x.1
         1F:D128  20 CB E8   			call	_sgx_spr_x.1
 6992                        	
 6993                        		.dbg	line,	"include\routines_LEVELS.c", 270; sgx_spr_y(list_npc_y_pos[i]);
 6994                        		__ld2x.umq	__scroll_npc_end - 1  /* i */
         1F:D12B  AD 2D 2C   			lda	__scroll_npc_end - 1
         1F:D12E  0A         			asl	a
         1F:D12F  AA         			tax
 6995                        		__ld.wax	_list_npc_y_pos
         1F:D130  BD 25 26   			lda.l	_list_npc_y_pos, x
         1F:D133  BC 26 26   			ldy.h	_list_npc_y_pos, x
 6996                        		__call		_sgx_spr_y.1
         1F:D136  20 DA E8   			call	_sgx_spr_y.1
 6997                        	
 6998                        		.dbg	line,	"include\routines_LEVELS.c", 271; }
 6999                        	
 7000                        		.dbg	line,	"include\routines_LEVELS.c", 272; }
 7001    1F:D139             	.LL242	.alias		.LL239
 7002                        		__bra		.LL239
         1F:D139  4C F1 CF   			bra	.LL239
 7003    1F:D13C             	.LL241:
 7004                        	
 7005                        		.dbg	line,	"include\routines_LEVELS.c", 273; }
 7006    1F:D13C             	.LL237:
 7007                        		__return	0
         1F:D13C  4C EF FF   			jmp	leave_proc
 7008                        		.dbg	clear
 7009                        		.endp
 7010               2300     		.bss
 7011    F8:2300             	__scroll_npc_end	.alias	leaf_stack
 7012               E31D     		.code
 7013                        		.pceas
 7014                        	
 7015                        		.dbg	line,	"include\routines_LEVELS.c", 276; void scroll_BG()
 7016                        		.dbg	line,	"include\routines_LEVELS.c", 277; {
 7017                        	;***********************
 7018                        	;***********************
 7019                        	
 7020                        		.hucc
 7021    02:DFCA             		.proc		_scroll_BG
 7022                        		__enter		_scroll_BG
 7023                        	
 7024                        		.dbg	line,	"include\routines_LEVELS.c", 278; // UPDATE VDC2 BG //
 7025                        	
 7026                        		.dbg	line,	"include\routines_LEVELS.c", 279; sgx_scroll_map();
 7027                        		__call		_sgx_scroll_map
         02:DFCA  20 63 FF   			call	_sgx_scroll_map
 7028                        	
 7029                        		.dbg	line,	"include\routines_LEVELS.c", 281; //--------------------------------------------------------------------------------------//
 7030                        	
 7031                        		.dbg	line,	"include\routines_LEVELS.c", 282; //                                        VDC 2                                         //
 7032                        	
 7033                        		.dbg	line,	"include\routines_LEVELS.c", 283; //--------------------------------------------------------------------------------------//
 7034                        	
 7035                        		.dbg	line,	"include\routines_LEVELS.c", 285; sgx_scroll_split(0,   0, sgx_map_pxl_x & (BAT_SIZE_W - 1), sgx_map_pxl_y & (BAT_SIZE_H - 1), BKG_ON | SPR_ON);
 7036                        		__st.umiq	0, _al
         02:DFCD  64 F8      			stz	_al
 7037                        		__st.umiq	0, _ah
         02:DFCF  64 F9      			stz	_ah
 7038                        		__ld.wm		_sgx_map_pxl_x
         02:DFD1  AD E4 26   			lda.l	_sgx_map_pxl_x
         02:DFD4  AC E5 26   			ldy.h	_sgx_map_pxl_x
 7039                        		__and.wi	2047
         02:DFD7  29 FF      			and.l	#2047
         02:DFD9  42         			say
         02:DFDA  29 07      			and.h	#2047
         02:DFDC  42         			say
 7040                        		__st.wmq	_bx
         02:DFDD  85 FA      			sta.l	_bx
         02:DFDF  84 FB      			sty.h	_bx
 7041                        		__ld.wm		_sgx_map_pxl_y
         02:DFE1  AD E6 26   			lda.l	_sgx_map_pxl_y
         02:DFE4  AC E7 26   			ldy.h	_sgx_map_pxl_y
 7042                        		__and.wi	255
         02:DFE7  29 FF      			and	#255
         02:DFE9  C2         			cly
 7043                        		__st.wmq	_cx
         02:DFEA  85 FC      			sta.l	_cx
         02:DFEC  84 FD      			sty.h	_cx
 7044                        		__st.umiq	192, _dl
         02:DFEE  A9 C0      			lda.l	#192
         02:DFF0  85 FE      			sta	_dl
 7045                        		__call		_sgx_scroll_split.5
         02:DFF2  20 59 FF   			call	_sgx_scroll_split.5
 7046                        	
 7047                        		.dbg	line,	"include\routines_LEVELS.c", 286; }
 7048    02:DFF5             	.LL249:
 7049                        		__return	0
         02:DFF5  4C EF FF   			jmp	leave_proc
 7050                        		.dbg	clear
 7051                        		.endp
 7052                        		.pceas
 7053                        	
 7054                        		.dbg	line,	"include\routines_LEVELS.c", 289; void recenter_CAMERA()
 7055                        		.dbg	line,	"include\routines_LEVELS.c", 290; {
 7056                        	;***********************
 7057                        	;***********************
 7058                        	
 7059                        		.hucc
 7060    1F:D4F6             		.proc		_recenter_CAMERA
 7061                        		__enter		_recenter_CAMERA
 7062                        	
 7063                        		.dbg	line,	"include\routines_LEVELS.c", 291; signed char camera_y_move;
 7064                        	
 7065                        		.dbg	line,	"include\routines_LEVELS.c", 293; spr_set(player_id);
 7066                        		__ld.umq	_player_id
         1F:D4F6  AD 19 23   			lda	_player_id
 7067                        		__call		_spr_set.1
         1F:D4F9  20 F1 E7   			call	_spr_set.1
 7068                        	
 7069                        		.dbg	line,	"include\routines_LEVELS.c", 296; if(player_pos_y < 128)
 7070                        		__ld.wm		_player_pos_y
         1F:D4FC  AD 03 25   			lda.l	_player_pos_y
         1F:D4FF  AC 04 25   			ldy.h	_player_pos_y
 7071                        		__slt_w.wi	128
         1F:D502  C9 80      			cmp.l	#128		; Subtract integer from Y:A.
         1F:D504  98         			tya
         1F:D505  E9 00      			sbc.h	#128
         1F:D507  50 02      			bvc	!+
         1F:D509  49 80      			eor	#$80		; -ve if Y:A < integer (signed).
         1F:D50B  0A         	!:		asl	a
 7072                        		__bfalse	.LL251
         1F:D50C  90 70      			bcc	.LL251
 7073                        	
 7074                        		.dbg	line,	"include\routines_LEVELS.c", 297; {
 7075                        	
 7076                        		.dbg	line,	"include\routines_LEVELS.c", 298; player_pos_y += CAMERA_RECENTER_VELOCITY;
 7077                        		__add_st.wmiq	6, _player_pos_y
         1F:D50E  18         			clc
         1F:D50F  AD 03 25   			lda.l	_player_pos_y
         1F:D512  69 06      			adc.l	#6
         1F:D514  8D 03 25   			sta.l	_player_pos_y
         1F:D517  90 03      			bcc	!+
         1F:D519  EE 04 25   			inc.h	_player_pos_y
         1F:D51C             	!:
 7078                        	
 7079                        		.dbg	line,	"include\routines_LEVELS.c", 300; if(player_pos_y > 128)
 7080                        		__ld.wm		_player_pos_y
         1F:D51C  AD 03 25   			lda.l	_player_pos_y
         1F:D51F  AC 04 25   			ldy.h	_player_pos_y
 7081                        		__sgt_w.wi	128
         1F:D522  18         			clc			; Subtract integer+1 from Y:A.
         1F:D523  E9 80      			sbc.l	#128
         1F:D525  98         			tya
         1F:D526  E9 00      			sbc.h	#128
         1F:D528  50 02      			bvc	!+
         1F:D52A  49 80      			eor	#$80		; +ve if Y:A > integer (signed).
         1F:D52C  49 80      	!:		eor	#$80
         1F:D52E  0A         			asl	a
 7082                        		__bfalse	.LL252
         1F:D52F  90 24      			bcc	.LL252
 7083                        	
 7084                        		.dbg	line,	"include\routines_LEVELS.c", 301; {
 7085                        	
 7086                        		.dbg	line,	"include\routines_LEVELS.c", 302; camera_y_move = CAMERA_RECENTER_VELOCITY - (player_pos_y - 128);
 7087                        		__ld.wm		_player_pos_y
         1F:D531  AD 03 25   			lda.l	_player_pos_y
         1F:D534  AC 04 25   			ldy.h	_player_pos_y
 7088                        		__sub.wi	128
         1F:D537  38         			sec
         1F:D538  E9 80      			sbc.l	#128
         1F:D53A  B0 01      			bcs	!+
         1F:D53C  88         			dey
         1F:D53D             	!:
 7089                        		__isub.wi	6
         1F:D53D  38         			sec
         1F:D53E  49 FF      			eor	#$FF
         1F:D540  69 06      			adc.l	#6
         1F:D542  42         			say
         1F:D543  49 FF      			eor	#$FF
         1F:D545  69 00      			adc.h	#6
         1F:D547  42         			say
 7090                        		__st.umq	__recenter_CAMERA_end - 1  /* camera_y_move */
         1F:D548  8D 2D 2C   			sta	__recenter_CAMERA_end - 1
 7091                        	
 7092                        		.dbg	line,	"include\routines_LEVELS.c", 304; player_pos_y = 128;
 7093                        		__st.wmiq	128, _player_pos_y
         1F:D54B  A9 80      			lda.l	#128
         1F:D54D  8D 03 25   			sta.l	_player_pos_y
         1F:D550  9C 04 25   			stz.h	_player_pos_y
 7094                        	
 7095                        		.dbg	line,	"include\routines_LEVELS.c", 305; }
 7096                        	
 7097                        		.dbg	line,	"include\routines_LEVELS.c", 307; else
 7098                        		__bra		.LL253
         1F:D553  80 05      			bra	.LL253
 7099    1F:D555             	.LL252:
 7100                        	
 7101                        		.dbg	line,	"include\routines_LEVELS.c", 308; {
 7102                        	
 7103                        		.dbg	line,	"include\routines_LEVELS.c", 309; camera_y_move = CAMERA_RECENTER_VELOCITY;
 7104                        		__st.umiq	6, __recenter_CAMERA_end - 1  /* camera_y_move */
         1F:D555  A9 06      			lda.l	#6
         1F:D557  8D 2D 2C   			sta	__recenter_CAMERA_end - 1
 7105                        	
 7106                        		.dbg	line,	"include\routines_LEVELS.c", 310; }
 7107    1F:D55A             	.LL253:
 7108                        	
 7109                        		.dbg	line,	"include\routines_LEVELS.c", 312; spr_y(player_pos_y);
 7110                        		__ld.wm		_player_pos_y
         1F:D55A  AD 03 25   			lda.l	_player_pos_y
         1F:D55D  AC 04 25   			ldy.h	_player_pos_y
 7111                        		__call		_spr_y.1
         1F:D560  20 2D E8   			call	_spr_y.1
 7112                        	
 7113                        		.dbg	line,	"include\routines_LEVELS.c", 314; sgx_map_pxl_y -= camera_y_move;
 7114                        		__ld.bm		__recenter_CAMERA_end - 1  /* camera_y_move */
         1F:D563  AD 2D 2C   			lda	__recenter_CAMERA_end - 1
         1F:D566  C2         			cly
         1F:D567  10 01      			bpl	!+
         1F:D569  88         			dey
         1F:D56A             	!:
 7115                        		__isub_st.wmq	_sgx_map_pxl_y
         1F:D56A  38         			sec
         1F:D56B  49 FF      			eor	#$FF
         1F:D56D  6D E6 26   			adc.l	_sgx_map_pxl_y
         1F:D570  8D E6 26   			sta.l	_sgx_map_pxl_y
         1F:D573  98         			tya
         1F:D574  49 FF      			eor	#$FF
         1F:D576  6D E7 26   			adc.h	_sgx_map_pxl_y
         1F:D579  8D E7 26   			sta.h	_sgx_map_pxl_y
 7116                        	
 7117                        		.dbg	line,	"include\routines_LEVELS.c", 315; }
 7118                        	
 7119                        		.dbg	line,	"include\routines_LEVELS.c", 318; else if(player_pos_y > 128)
 7120                        		__bra		.LL254
         1F:D57C  80 7C      			bra	.LL254
 7121    1F:D57E             	.LL251:
 7122                        		__ld.wm		_player_pos_y
         1F:D57E  AD 03 25   			lda.l	_player_pos_y
         1F:D581  AC 04 25   			ldy.h	_player_pos_y
 7123                        		__sgt_w.wi	128
         1F:D584  18         			clc			; Subtract integer+1 from Y:A.
         1F:D585  E9 80      			sbc.l	#128
         1F:D587  98         			tya
         1F:D588  E9 00      			sbc.h	#128
         1F:D58A  50 02      			bvc	!+
         1F:D58C  49 80      			eor	#$80		; +ve if Y:A > integer (signed).
         1F:D58E  49 80      	!:		eor	#$80
         1F:D590  0A         			asl	a
 7124                        		__bfalse	.LL255
         1F:D591  90 67      			bcc	.LL255
 7125                        	
 7126                        		.dbg	line,	"include\routines_LEVELS.c", 319; {
 7127                        	
 7128                        		.dbg	line,	"include\routines_LEVELS.c", 320; player_pos_y -= CAMERA_RECENTER_VELOCITY;
 7129                        		__sub_st.wmiq	6, _player_pos_y
         1F:D593  38         			sec
         1F:D594  AD 03 25   			lda.l	_player_pos_y
         1F:D597  E9 06      			sbc.l	#6
         1F:D599  8D 03 25   			sta.l	_player_pos_y
         1F:D59C  B0 03      			bcs	!+
         1F:D59E  CE 04 25   			dec.h	_player_pos_y
         1F:D5A1             	!:
 7130                        	
 7131                        		.dbg	line,	"include\routines_LEVELS.c", 322; if(player_pos_y < 128)
 7132                        		__ld.wm		_player_pos_y
         1F:D5A1  AD 03 25   			lda.l	_player_pos_y
         1F:D5A4  AC 04 25   			ldy.h	_player_pos_y
 7133                        		__slt_w.wi	128
         1F:D5A7  C9 80      			cmp.l	#128		; Subtract integer from Y:A.
         1F:D5A9  98         			tya
         1F:D5AA  E9 00      			sbc.h	#128
         1F:D5AC  50 02      			bvc	!+
         1F:D5AE  49 80      			eor	#$80		; -ve if Y:A < integer (signed).
         1F:D5B0  0A         	!:		asl	a
 7134                        		__bfalse	.LL256
         1F:D5B1  90 24      			bcc	.LL256
 7135                        	
 7136                        		.dbg	line,	"include\routines_LEVELS.c", 323; {
 7137                        	
 7138                        		.dbg	line,	"include\routines_LEVELS.c", 324; camera_y_move = CAMERA_RECENTER_VELOCITY - (128 - player_pos_y);
 7139                        		__ld.wi		128
         1F:D5B3  A9 80      			lda.l	#128
         1F:D5B5  C2         			cly
 7140                        		__sub.wm	_player_pos_y
         1F:D5B6  38         			sec
         1F:D5B7  ED 03 25   			sbc.l	_player_pos_y
         1F:D5BA  42         			say
         1F:D5BB  ED 04 25   			sbc.h	_player_pos_y
         1F:D5BE  42         			say
 7141                        		__isub.wi	6
         1F:D5BF  38         			sec
         1F:D5C0  49 FF      			eor	#$FF
         1F:D5C2  69 06      			adc.l	#6
         1F:D5C4  42         			say
         1F:D5C5  49 FF      			eor	#$FF
         1F:D5C7  69 00      			adc.h	#6
         1F:D5C9  42         			say
 7142                        		__st.umq	__recenter_CAMERA_end - 1  /* camera_y_move */
         1F:D5CA  8D 2D 2C   			sta	__recenter_CAMERA_end - 1
 7143                        	
 7144                        		.dbg	line,	"include\routines_LEVELS.c", 326; player_pos_y = 128;
 7145                        		__st.wmiq	128, _player_pos_y
         1F:D5CD  A9 80      			lda.l	#128
         1F:D5CF  8D 03 25   			sta.l	_player_pos_y
         1F:D5D2  9C 04 25   			stz.h	_player_pos_y
 7146                        	
 7147                        		.dbg	line,	"include\routines_LEVELS.c", 327; }
 7148                        	
 7149                        		.dbg	line,	"include\routines_LEVELS.c", 329; else
 7150                        		__bra		.LL257
         1F:D5D5  80 05      			bra	.LL257
 7151    1F:D5D7             	.LL256:
 7152                        	
 7153                        		.dbg	line,	"include\routines_LEVELS.c", 330; {
 7154                        	
 7155                        		.dbg	line,	"include\routines_LEVELS.c", 331; camera_y_move = CAMERA_RECENTER_VELOCITY;
 7156                        		__st.umiq	6, __recenter_CAMERA_end - 1  /* camera_y_move */
         1F:D5D7  A9 06      			lda.l	#6
         1F:D5D9  8D 2D 2C   			sta	__recenter_CAMERA_end - 1
 7157                        	
 7158                        		.dbg	line,	"include\routines_LEVELS.c", 332; }
 7159    1F:D5DC             	.LL257:
 7160                        	
 7161                        		.dbg	line,	"include\routines_LEVELS.c", 334; spr_y(player_pos_y);
 7162                        		__ld.wm		_player_pos_y
         1F:D5DC  AD 03 25   			lda.l	_player_pos_y
         1F:D5DF  AC 04 25   			ldy.h	_player_pos_y
 7163                        		__call		_spr_y.1
         1F:D5E2  20 2D E8   			call	_spr_y.1
 7164                        	
 7165                        		.dbg	line,	"include\routines_LEVELS.c", 336; sgx_map_pxl_y += camera_y_move;
 7166                        		__ld.bm		__recenter_CAMERA_end - 1  /* camera_y_move */
         1F:D5E5  AD 2D 2C   			lda	__recenter_CAMERA_end - 1
         1F:D5E8  C2         			cly
         1F:D5E9  10 01      			bpl	!+
         1F:D5EB  88         			dey
         1F:D5EC             	!:
 7167                        		__add_st.wmq	_sgx_map_pxl_y
         1F:D5EC  18         			clc
         1F:D5ED  6D E6 26   			adc.l	_sgx_map_pxl_y
         1F:D5F0  8D E6 26   			sta.l	_sgx_map_pxl_y
         1F:D5F3  98         			tya
         1F:D5F4  6D E7 26   			adc.h	_sgx_map_pxl_y
         1F:D5F7  8D E7 26   			sta.h	_sgx_map_pxl_y
 7168                        	
 7169                        		.dbg	line,	"include\routines_LEVELS.c", 337; }
 7170                        	
 7171                        		.dbg	line,	"include\routines_LEVELS.c", 338; }
 7172    1F:D5FA             	.LL255:
 7173    1F:D5FA             	.LL254:
 7174    1F:D5FA             	.LL250:
 7175                        		__return	0
         1F:D5FA  4C EF FF   			jmp	leave_proc
 7176                        		.dbg	clear
 7177                        		.endp
 7178               2300     		.bss
 7179    F8:2300             	__recenter_CAMERA_end	.alias	leaf_stack
 7180               E31D     		.code
 7181                        		.pceas
 7182                        	
 7183                        		.dbg	line,	"include\routines_LEVELS.c", 343; //-----------------------------------------------------------------------------//
 7184                        		.dbg	line,	"include\routines_LEVELS.c", 344; //                                 COLLISIONS                                  //
 7185                        		.dbg	line,	"include\routines_LEVELS.c", 345; //-----------------------------------------------------------------------------//
 7186                        		.dbg	line,	"include\routines_LEVELS.c", 347; int check_TILE_DEPTH(signed char x_offset , signed char y_offset)
 7187                        		.dbg	line,	"include\routines_LEVELS.c", 348; {
 7188                        	;***********************
 7189                        	;***********************
 7190                        	
 7191                        		.hucc
 7192    1F:DC23             		.proc		_check_TILE_DEPTH
 7193                        		__enter		_check_TILE_DEPTH
 7194                        	
 7195                        		.dbg	line,	"include\routines_LEVELS.c", 349; int player_COLL_X;
 7196                        	
 7197                        		.dbg	line,	"include\routines_LEVELS.c", 350; int player_COLL_Y;
 7198                        	
 7199                        		.dbg	line,	"include\routines_LEVELS.c", 353; player_COLL_X = player_pos_x + x_offset;
 7200                        		__ld.bs		2  /* x_offset */
         1F:DC23  A6 8D      			ldx	<__sp
         1F:DC25  B5 0A      			lda	<__stack + 2, x
         1F:DC27  C2         			cly
         1F:DC28  10 01      			bpl	!+	; signed
         1F:DC2A  88         			dey
         1F:DC2B             	!:
 7201                        		__add.wm	_player_pos_x
         1F:DC2B  18         			clc
         1F:DC2C  6D 01 25   			adc.l	_player_pos_x
         1F:DC2F  42         			say
         1F:DC30  6D 02 25   			adc.h	_player_pos_x
         1F:DC33  42         			say
 7202                        		__st.wmq	__check_TILE_DEPTH_end - 2  /* player_COLL_X */
         1F:DC34  8D 2C 2C   			sta.l	__check_TILE_DEPTH_end - 2
         1F:DC37  8C 2D 2C   			sty.h	__check_TILE_DEPTH_end - 2
 7203                        	
 7204                        		.dbg	line,	"include\routines_LEVELS.c", 354; player_COLL_Y = player_pos_y + 32 - y_offset;//32
 7205                        		__ld.wm		_player_pos_y
         1F:DC3A  AD 03 25   			lda.l	_player_pos_y
         1F:DC3D  AC 04 25   			ldy.h	_player_pos_y
 7206                        		__add.wi	32
         1F:DC40  18         			clc
         1F:DC41  69 20      			adc.l	#32
         1F:DC43  90 01      			bcc	!+
         1F:DC45  C8         			iny
         1F:DC46             	!:
 7207                        		__push.wr
         1F:DC46  5A         			phy
         1F:DC47  48         			pha
 7208                        		__ld.bs		0  /* y_offset */
         1F:DC48  A6 8D      			ldx	<__sp
         1F:DC4A  B5 08      			lda	<__stack + 0, x
         1F:DC4C  C2         			cly
         1F:DC4D  10 01      			bpl	!+	; signed
         1F:DC4F  88         			dey
         1F:DC50             	!:
 7209                        		__sub.wt
         1F:DC50  BA         			tsx
         1F:DC51  38         			sec
         1F:DC52  49 FF      			eor	#$FF
         1F:DC54  7D 01 21   			adc.l	__tos, x
         1F:DC57  42         			say
         1F:DC58  49 FF      			eor	#$FF
         1F:DC5A  7D 02 21   			adc.h	__tos, x
         1F:DC5D  42         			say
         1F:DC5E  E8         			inx
         1F:DC5F  E8         			inx
         1F:DC60  9A         			txs
 7210                        		__st.wmq	__check_TILE_DEPTH_end - 4  /* player_COLL_Y */
         1F:DC61  8D 2A 2C   			sta.l	__check_TILE_DEPTH_end - 4
         1F:DC64  8C 2B 2C   			sty.h	__check_TILE_DEPTH_end - 4
 7211                        	
 7212                        		.dbg	line,	"include\routines_LEVELS.c", 356; get_map_block(player_COLL_X + sgx_map_pxl_x, player_COLL_Y + sgx_map_pxl_y);
 7213                        		__ld.wm		__check_TILE_DEPTH_end - 2  /* player_COLL_X */
         1F:DC67  AD 2C 2C   			lda.l	__check_TILE_DEPTH_end - 2
         1F:DC6A  AC 2D 2C   			ldy.h	__check_TILE_DEPTH_end - 2
 7214                        		__add.wm	_sgx_map_pxl_x
         1F:DC6D  18         			clc
         1F:DC6E  6D E4 26   			adc.l	_sgx_map_pxl_x
         1F:DC71  42         			say
         1F:DC72  6D E5 26   			adc.h	_sgx_map_pxl_x
         1F:DC75  42         			say
 7215                        		__st.wmq	map_pxl_x
         1F:DC76  85 FC      			sta.l	map_pxl_x
         1F:DC78  84 FD      			sty.h	map_pxl_x
 7216                        		__ld.wm		__check_TILE_DEPTH_end - 4  /* player_COLL_Y */
         1F:DC7A  AD 2A 2C   			lda.l	__check_TILE_DEPTH_end - 4
         1F:DC7D  AC 2B 2C   			ldy.h	__check_TILE_DEPTH_end - 4
 7217                        		__add.wm	_sgx_map_pxl_y
         1F:DC80  18         			clc
         1F:DC81  6D E6 26   			adc.l	_sgx_map_pxl_y
         1F:DC84  42         			say
         1F:DC85  6D E7 26   			adc.h	_sgx_map_pxl_y
         1F:DC88  42         			say
 7218                        		__st.wmq	map_pxl_y
         1F:DC89  85 FE      			sta.l	map_pxl_y
         1F:DC8B  84 FF      			sty.h	map_pxl_y
 7219                        		__call		_get_map_block.2
         1F:DC8D  20 4F FF   			call	_get_map_block.2
 7220                        	
 7221                        		.dbg	line,	"include\routines_LEVELS.c", 357; }
 7222    1F:DC90             	.LL258:
 7223                        		__modsp		4
         1F:DC90  AA         			tax
         1F:DC91  A5 8D      			lda	<__sp
         1F:DC93  18         			clc
         1F:DC94  69 04      			adc	#4
         1F:DC96  85 8D      			sta	<__sp
         1F:DC98  8A         			txa
 7224                        		__return	1
         1F:DC99  AA         			tax
         1F:DC9A  4C EF FF   			jmp	leave_proc
 7225                        		.dbg	clear
 7226                        		.endp
 7227               2300     		.bss
 7228    F8:2300             	__check_TILE_DEPTH_end	.alias	leaf_stack
 7229               E31D     		.code
 7230                        		.pceas
 7231                        	
 7232                        		.dbg	line,	"include\routines_LEVELS.c", 359; // CHECK COLLISION PLAYER -> BG //
 7233                        		.dbg	line,	"include\routines_LEVELS.c", 360; int collision_PLAYER_BG(signed char x_offset , signed char y_offset)
 7234                        		.dbg	line,	"include\routines_LEVELS.c", 361; {
 7235                        	;***********************
 7236                        	;***********************
 7237                        	
 7238                        		.hucc
 7239    1F:DD7E             		.proc		_collision_PLAYER_BG
 7240                        		__enter		_collision_PLAYER_BG
 7241                        	
 7242                        		.dbg	line,	"include\routines_LEVELS.c", 362; int player_COLL_X;
 7243                        	
 7244                        		.dbg	line,	"include\routines_LEVELS.c", 363; int player_COLL_Y;
 7245                        	
 7246                        		.dbg	line,	"include\routines_LEVELS.c", 366; player_COLL_X = player_pos_x + x_offset;
 7247                        		__ld.bs		2  /* x_offset */
         1F:DD7E  A6 8D      			ldx	<__sp
         1F:DD80  B5 0A      			lda	<__stack + 2, x
         1F:DD82  C2         			cly
         1F:DD83  10 01      			bpl	!+	; signed
         1F:DD85  88         			dey
         1F:DD86             	!:
 7248                        		__add.wm	_player_pos_x
         1F:DD86  18         			clc
         1F:DD87  6D 01 25   			adc.l	_player_pos_x
         1F:DD8A  42         			say
         1F:DD8B  6D 02 25   			adc.h	_player_pos_x
         1F:DD8E  42         			say
 7249                        		__st.wmq	__collision_PLAYER_BG_end - 2  /* player_COLL_X */
         1F:DD8F  8D 2C 2C   			sta.l	__collision_PLAYER_BG_end - 2
         1F:DD92  8C 2D 2C   			sty.h	__collision_PLAYER_BG_end - 2
 7250                        	
 7251                        		.dbg	line,	"include\routines_LEVELS.c", 367; player_COLL_Y = player_pos_y + y_offset;
 7252                        		__ld.bs		0  /* y_offset */
         1F:DD95  A6 8D      			ldx	<__sp
         1F:DD97  B5 08      			lda	<__stack + 0, x
         1F:DD99  C2         			cly
         1F:DD9A  10 01      			bpl	!+	; signed
         1F:DD9C  88         			dey
         1F:DD9D             	!:
 7253                        		__add.wm	_player_pos_y
         1F:DD9D  18         			clc
         1F:DD9E  6D 03 25   			adc.l	_player_pos_y
         1F:DDA1  42         			say
         1F:DDA2  6D 04 25   			adc.h	_player_pos_y
         1F:DDA5  42         			say
 7254                        		__st.wmq	__collision_PLAYER_BG_end - 4  /* player_COLL_Y */
         1F:DDA6  8D 2A 2C   			sta.l	__collision_PLAYER_BG_end - 4
         1F:DDA9  8C 2B 2C   			sty.h	__collision_PLAYER_BG_end - 4
 7255                        	
 7256                        		.dbg	line,	"include\routines_LEVELS.c", 369; get_map_block(player_COLL_X + sgx_map_pxl_x, player_COLL_Y + sgx_map_pxl_y);
 7257                        		__ld.wm		__collision_PLAYER_BG_end - 2  /* player_COLL_X */
         1F:DDAC  AD 2C 2C   			lda.l	__collision_PLAYER_BG_end - 2
         1F:DDAF  AC 2D 2C   			ldy.h	__collision_PLAYER_BG_end - 2
 7258                        		__add.wm	_sgx_map_pxl_x
         1F:DDB2  18         			clc
         1F:DDB3  6D E4 26   			adc.l	_sgx_map_pxl_x
         1F:DDB6  42         			say
         1F:DDB7  6D E5 26   			adc.h	_sgx_map_pxl_x
         1F:DDBA  42         			say
 7259                        		__st.wmq	map_pxl_x
         1F:DDBB  85 FC      			sta.l	map_pxl_x
         1F:DDBD  84 FD      			sty.h	map_pxl_x
 7260                        		__ld.wm		__collision_PLAYER_BG_end - 4  /* player_COLL_Y */
         1F:DDBF  AD 2A 2C   			lda.l	__collision_PLAYER_BG_end - 4
         1F:DDC2  AC 2B 2C   			ldy.h	__collision_PLAYER_BG_end - 4
 7261                        		__add.wm	_sgx_map_pxl_y
         1F:DDC5  18         			clc
         1F:DDC6  6D E6 26   			adc.l	_sgx_map_pxl_y
         1F:DDC9  42         			say
         1F:DDCA  6D E7 26   			adc.h	_sgx_map_pxl_y
         1F:DDCD  42         			say
 7262                        		__st.wmq	map_pxl_y
         1F:DDCE  85 FE      			sta.l	map_pxl_y
         1F:DDD0  84 FF      			sty.h	map_pxl_y
 7263                        		__call		_get_map_block.2
         1F:DDD2  20 4F FF   			call	_get_map_block.2
 7264                        	
 7265                        		.dbg	line,	"include\routines_LEVELS.c", 370; }
 7266    1F:DDD5             	.LL259:
 7267                        		__modsp		4
         1F:DDD5  AA         			tax
         1F:DDD6  A5 8D      			lda	<__sp
         1F:DDD8  18         			clc
         1F:DDD9  69 04      			adc	#4
         1F:DDDB  85 8D      			sta	<__sp
         1F:DDDD  8A         			txa
 7268                        		__return	1
         1F:DDDE  AA         			tax
         1F:DDDF  4C EF FF   			jmp	leave_proc
 7269                        		.dbg	clear
 7270                        		.endp
 7271               2300     		.bss
 7272    F8:2300             	__collision_PLAYER_BG_end	.alias	leaf_stack
 7273               E31D     		.code
 7274                        		.pceas
 7275                        	
 7276                        		.dbg	line,	"include\routines_LEVELS.c", 372; // CHECK COLLISION PLAYER -> OBJECTS //
 7277                        		.dbg	line,	"include\routines_LEVELS.c", 373; void collision_PLAYER_OBJECT()
 7278                        		.dbg	line,	"include\routines_LEVELS.c", 374; {
 7279                        	;***********************
 7280                        	;***********************
 7281                        	
 7282                        		.hucc
 7283    1F:C98A             		.proc		_collision_PLAYER_OBJECT
 7284                        		__enter		_collision_PLAYER_OBJECT
 7285                        	
 7286                        		.dbg	line,	"include\routines_LEVELS.c", 375; if(onscreen_object_number != 0)
 7287                        		__tst.um	_onscreen_object_number
         1F:C98A  AD 3A 23   			lda	_onscreen_object_number
         1F:C98D  C9 01      			cmp	#1
 7288                        		__bfalse	.LL261
         1F:C98F  B0 03 4C A3			bcc	.LL261
         1F:C993  CB          
 7289                        	
 7290                        		.dbg	line,	"include\routines_LEVELS.c", 376; {
 7291                        	
 7292                        		.dbg	line,	"include\routines_LEVELS.c", 377; char i;
 7293                        	
 7294                        		.dbg	line,	"include\routines_LEVELS.c", 378; char current_object_id;
 7295                        	
 7296                        		.dbg	line,	"include\routines_LEVELS.c", 379; char current_object_type;
 7297                        	
 7298                        		.dbg	line,	"include\routines_LEVELS.c", 381; for(i=0 ; i<onscreen_object_number ; i++)
 7299                        		__st.umiq	0, __collision_PLAYER_OBJECT_end - 1  /* i */
         1F:C994  9C 02 23   			stz	__collision_PLAYER_OBJECT_end - 1
 7300    1F:C997             	.LL262:
 7301                        		__ld.umq	__collision_PLAYER_OBJECT_end - 1  /* i */
         1F:C997  AD 02 23   			lda	__collision_PLAYER_OBJECT_end - 1
 7302                        		__ult_b.umq	_onscreen_object_number
         1F:C99A  CD 3A 23   			cmp	_onscreen_object_number		; Subtract memory from A.
         1F:C99D  6A         			ror	a		; CC if A < memory.
         1F:C99E  49 80      			eor	#$80
         1F:C9A0  2A         			rol	a
 7303                        		__btrue		.LL264
         1F:C9A1  B0 08      			bcs	.LL264
 7304                        		__bra		.LL265
         1F:C9A3  4C A3 CB   			bra	.LL265
 7305    1F:C9A6             	.LL263:
 7306                        		__inc.umq	__collision_PLAYER_OBJECT_end - 1  /* i */
         1F:C9A6  EE 02 23   			inc	__collision_PLAYER_OBJECT_end - 1
 7307                        		__bra		.LL262
         1F:C9A9  80 EC      			bra	.LL262
 7308    1F:C9AB             	.LL264:
 7309                        	
 7310                        		.dbg	line,	"include\routines_LEVELS.c", 382; {
 7311                        	
 7312                        		.dbg	line,	"include\routines_LEVELS.c", 383; // RETRIEVE OBJECT INDEX IN THE LIST //
 7313                        	
 7314                        		.dbg	line,	"include\routines_LEVELS.c", 384; current_object_id = list_onscreen_object[i];
 7315                        		__ldx.umq	__collision_PLAYER_OBJECT_end - 1  /* i */
         1F:C9AB  AE 02 23   			ldx	__collision_PLAYER_OBJECT_end - 1
 7316                        		__ld.uax	_list_onscreen_object
         1F:C9AE  BD B8 23   			lda	_list_onscreen_object, x
         1F:C9B1  C2         			cly
 7317                        		__st.umq	__collision_PLAYER_OBJECT_end - 2  /* current_object_id */
         1F:C9B2  8D 01 23   			sta	__collision_PLAYER_OBJECT_end - 2
 7318                        	
 7319                        		.dbg	line,	"include\routines_LEVELS.c", 385; // RETRIEVE OBJECT TYPE //
 7320                        	
 7321                        		.dbg	line,	"include\routines_LEVELS.c", 386; current_object_type = list_object_type[current_object_id];
 7322                        		__ldx.umq	__collision_PLAYER_OBJECT_end - 2  /* current_object_id */
         1F:C9B5  AE 01 23   			ldx	__collision_PLAYER_OBJECT_end - 2
 7323                        		__ld.uax	_list_object_type
         1F:C9B8  BD 3B 23   			lda	_list_object_type, x
         1F:C9BB  C2         			cly
 7324                        		__st.umq	__collision_PLAYER_OBJECT_end - 3  /* current_object_type */
         1F:C9BC  8D 00 23   			sta	__collision_PLAYER_OBJECT_end - 3
 7325                        	
 7326                        		.dbg	line,	"include\routines_LEVELS.c", 388; if(current_object_type != TYPE_POT)
 7327                        		__ld.umq	__collision_PLAYER_OBJECT_end - 3  /* current_object_type */
         1F:C9BF  AD 00 23   			lda	__collision_PLAYER_OBJECT_end - 3
 7328                        		__neq_b.uiq	1
         1F:C9C2  38         			sec
         1F:C9C3  49 01      			eor	#1
         1F:C9C5  D0 01      			bne	!+
         1F:C9C7  18         			clc
         1F:C9C8             	!:
 7329                        		__bfalse	.LL266
         1F:C9C8  90 DC      			bcc	.LL266
 7330                        	
 7331                        		.dbg	line,	"include\routines_LEVELS.c", 389; {
 7332                        	
 7333                        		.dbg	line,	"include\routines_LEVELS.c", 390; if(abs( (player_pos_x + 16) - (list_object_x_pos[current_object_id] + 8) ) < OBJECT_MARGIN)
 7334                        		__ld.wm		_player_pos_x
         1F:C9CA  AD 01 25   			lda.l	_player_pos_x
         1F:C9CD  AC 02 25   			ldy.h	_player_pos_x
 7335                        		__add.wi	16
         1F:C9D0  18         			clc
         1F:C9D1  69 10      			adc.l	#16
         1F:C9D3  90 01      			bcc	!+
         1F:C9D5  C8         			iny
         1F:C9D6             	!:
 7336                        		__push.wr
         1F:C9D6  5A         			phy
         1F:C9D7  48         			pha
 7337                        		__ld2x.umq	__collision_PLAYER_OBJECT_end - 2  /* current_object_id */
         1F:C9D8  AD 01 23   			lda	__collision_PLAYER_OBJECT_end - 2
         1F:C9DB  0A         			asl	a
         1F:C9DC  AA         			tax
 7338                        		__ld.wax	_list_object_x_pos
         1F:C9DD  BD 0B 25   			lda.l	_list_object_x_pos, x
         1F:C9E0  BC 0C 25   			ldy.h	_list_object_x_pos, x
 7339                        		__add.wi	8
         1F:C9E3  18         			clc
         1F:C9E4  69 08      			adc.l	#8
         1F:C9E6  90 01      			bcc	!+
         1F:C9E8  C8         			iny
         1F:C9E9             	!:
 7340                        		__sub.wt
         1F:C9E9  BA         			tsx
         1F:C9EA  38         			sec
         1F:C9EB  49 FF      			eor	#$FF
         1F:C9ED  7D 01 21   			adc.l	__tos, x
         1F:C9F0  42         			say
         1F:C9F1  49 FF      			eor	#$FF
         1F:C9F3  7D 02 21   			adc.h	__tos, x
         1F:C9F6  42         			say
         1F:C9F7  E8         			inx
         1F:C9F8  E8         			inx
         1F:C9F9  9A         			txs
 7341                        		__call		_abs.1
         1F:C9FA  20 1D E5   			call	_abs.1
 7342                        		__slt_w.wi	10
         1F:C9FD  C9 0A      			cmp.l	#10		; Subtract integer from Y:A.
         1F:C9FF  98         			tya
         1F:CA00  E9 00      			sbc.h	#10
         1F:CA02  50 02      			bvc	!+
         1F:CA04  49 80      			eor	#$80		; -ve if Y:A < integer (signed).
         1F:CA06  0A         	!:		asl	a
 7343                        		__bfalse	.LL267
         1F:CA07  90 9D      			bcc	.LL267
 7344                        	
 7345                        		.dbg	line,	"include\routines_LEVELS.c", 391; {
 7346                        	
 7347                        		.dbg	line,	"include\routines_LEVELS.c", 392; if(abs( (player_pos_y + 16) - (list_object_y_pos[current_object_id] + 8) ) < OBJECT_MARGIN)
 7348                        		__ld.wm		_player_pos_y
         1F:CA09  AD 03 25   			lda.l	_player_pos_y
         1F:CA0C  AC 04 25   			ldy.h	_player_pos_y
 7349                        		__add.wi	16
         1F:CA0F  18         			clc
         1F:CA10  69 10      			adc.l	#16
         1F:CA12  90 01      			bcc	!+
         1F:CA14  C8         			iny
         1F:CA15             	!:
 7350                        		__push.wr
         1F:CA15  5A         			phy
         1F:CA16  48         			pha
 7351                        		__ld2x.umq	__collision_PLAYER_OBJECT_end - 2  /* current_object_id */
         1F:CA17  AD 01 23   			lda	__collision_PLAYER_OBJECT_end - 2
         1F:CA1A  0A         			asl	a
         1F:CA1B  AA         			tax
 7352                        		__ld.wax	_list_object_y_pos
         1F:CA1C  BD 3D 25   			lda.l	_list_object_y_pos, x
         1F:CA1F  BC 3E 25   			ldy.h	_list_object_y_pos, x
 7353                        		__add.wi	8
         1F:CA22  18         			clc
         1F:CA23  69 08      			adc.l	#8
         1F:CA25  90 01      			bcc	!+
         1F:CA27  C8         			iny
         1F:CA28             	!:
 7354                        		__sub.wt
         1F:CA28  BA         			tsx
         1F:CA29  38         			sec
         1F:CA2A  49 FF      			eor	#$FF
         1F:CA2C  7D 01 21   			adc.l	__tos, x
         1F:CA2F  42         			say
         1F:CA30  49 FF      			eor	#$FF
         1F:CA32  7D 02 21   			adc.h	__tos, x
         1F:CA35  42         			say
         1F:CA36  E8         			inx
         1F:CA37  E8         			inx
         1F:CA38  9A         			txs
 7355                        		__call		_abs.1
         1F:CA39  20 1D E5   			call	_abs.1
 7356                        		__slt_w.wi	10
         1F:CA3C  C9 0A      			cmp.l	#10		; Subtract integer from Y:A.
         1F:CA3E  98         			tya
         1F:CA3F  E9 00      			sbc.h	#10
         1F:CA41  50 02      			bvc	!+
         1F:CA43  49 80      			eor	#$80		; -ve if Y:A < integer (signed).
         1F:CA45  0A         	!:		asl	a
 7357                        		__bfalse	.LL268
         1F:CA46  B0 03 4C A6			bcc	.LL268
         1F:CA4A  C9          
 7358                        	
 7359                        		.dbg	line,	"include\routines_LEVELS.c", 393; {
 7360                        	
 7361                        		.dbg	line,	"include\routines_LEVELS.c", 394; // THE OBJECT DISAPPEARS //
 7362                        	
 7363                        		.dbg	line,	"include\routines_LEVELS.c", 395; list_object_x_pos[current_object_id] = -16;
 7364                        		__ld2x.umq	__collision_PLAYER_OBJECT_end - 2  /* current_object_id */
         1F:CA4B  AD 01 23   			lda	__collision_PLAYER_OBJECT_end - 2
         1F:CA4E  0A         			asl	a
         1F:CA4F  AA         			tax
 7365                        		__st.waxiq	-16, _list_object_x_pos
         1F:CA50  A9 F0      			lda.l	#-16
         1F:CA52  9D 0B 25   			sta.l	_list_object_x_pos, x
         1F:CA55  A9 FF      			lda.h	#-16
         1F:CA57  9D 0C 25   			sta.h	_list_object_x_pos, x
 7366                        	
 7367                        		.dbg	line,	"include\routines_LEVELS.c", 396; list_object_y_pos[current_object_id] = -16;
 7368                        		__ld2x.umq	__collision_PLAYER_OBJECT_end - 2  /* current_object_id */
         1F:CA5A  AD 01 23   			lda	__collision_PLAYER_OBJECT_end - 2
         1F:CA5D  0A         			asl	a
         1F:CA5E  AA         			tax
 7369                        		__st.waxiq	-16, _list_object_y_pos
         1F:CA5F  A9 F0      			lda.l	#-16
         1F:CA61  9D 3D 25   			sta.l	_list_object_y_pos, x
         1F:CA64  A9 FF      			lda.h	#-16
         1F:CA66  9D 3E 25   			sta.h	_list_object_y_pos, x
 7370                        	
 7371                        		.dbg	line,	"include\routines_LEVELS.c", 397; list_object_state[current_object_id] = STATE_FREE;
 7372                        		__ldx.umq	__collision_PLAYER_OBJECT_end - 2  /* current_object_id */
         1F:CA69  AE 01 23   			ldx	__collision_PLAYER_OBJECT_end - 2
 7373                        		__st.uaxiq	0, _list_object_state
         1F:CA6C  9E 54 23   			stz	_list_object_state, x
 7374                        	
 7375                        		.dbg	line,	"include\routines_LEVELS.c", 399; sgx_spr_set(current_object_id + object_start_index);
 7376                        		__ld.um		__collision_PLAYER_OBJECT_end - 2  /* current_object_id */
         1F:CA6F  AD 01 23   			lda	__collision_PLAYER_OBJECT_end - 2
         1F:CA72  C2         			cly
 7377                        		__add.um	_object_start_index
         1F:CA73  18         			clc
         1F:CA74  6D 38 23   			adc	_object_start_index
         1F:CA77  90 01      			bcc	!+
         1F:CA79  C8         			iny
         1F:CA7A             	!:
 7378                        		__call		_sgx_spr_set.1
         1F:CA7A  20 9E E8   			call	_sgx_spr_set.1
 7379                        	
 7380                        		.dbg	line,	"include\routines_LEVELS.c", 400; sgx_spr_x(list_object_x_pos[current_object_id]);
 7381                        		__ld2x.umq	__collision_PLAYER_OBJECT_end - 2  /* current_object_id */
         1F:CA7D  AD 01 23   			lda	__collision_PLAYER_OBJECT_end - 2
         1F:CA80  0A         			asl	a
         1F:CA81  AA         			tax
 7382                        		__ld.wax	_list_object_x_pos
         1F:CA82  BD 0B 25   			lda.l	_list_object_x_pos, x
         1F:CA85  BC 0C 25   			ldy.h	_list_object_x_pos, x
 7383                        		__call		_sgx_spr_x.1
         1F:CA88  20 CB E8   			call	_sgx_spr_x.1
 7384                        	
 7385                        		.dbg	line,	"include\routines_LEVELS.c", 401; sgx_spr_y(list_object_y_pos[current_object_id]);
 7386                        		__ld2x.umq	__collision_PLAYER_OBJECT_end - 2  /* current_object_id */
         1F:CA8B  AD 01 23   			lda	__collision_PLAYER_OBJECT_end - 2
         1F:CA8E  0A         			asl	a
         1F:CA8F  AA         			tax
 7387                        		__ld.wax	_list_object_y_pos
         1F:CA90  BD 3D 25   			lda.l	_list_object_y_pos, x
         1F:CA93  BC 3E 25   			ldy.h	_list_object_y_pos, x
 7388                        		__call		_sgx_spr_y.1
         1F:CA96  20 DA E8   			call	_sgx_spr_y.1
 7389                        	
 7390                        		.dbg	line,	"include\routines_LEVELS.c", 402; 
 7391                        	
 7392                        		.dbg	line,	"include\routines_LEVELS.c", 404; switch(current_object_type)
 7393                        		__ld.umq	__collision_PLAYER_OBJECT_end - 3  /* current_object_type */
         1F:CA99  AD 00 23   			lda	__collision_PLAYER_OBJECT_end - 3
 7394                        		__bra		.LL269
         1F:CA9C  4C 75 CB   			bra	.LL269
 7395                        	
 7396                        		.dbg	line,	"include\routines_LEVELS.c", 405; {
 7397                        	
 7398                        		.dbg	line,	"include\routines_LEVELS.c", 406; case TYPE_HOURGLASS:
 7399    1F:CA9F             	.LL271:
 7400                        		__case		0
 7401                        	
 7402                        		.dbg	line,	"include\routines_LEVELS.c", 407; if(seconds + 30 > 59)
 7403                        		__ld.um		_seconds
         1F:CA9F  AD 34 23   			lda	_seconds
         1F:CAA2  C2         			cly
 7404                        		__add.wi	30
         1F:CAA3  18         			clc
         1F:CAA4  69 1E      			adc.l	#30
         1F:CAA6  90 01      			bcc	!+
         1F:CAA8  C8         			iny
         1F:CAA9             	!:
 7405                        		__sgt_w.wi	59
         1F:CAA9  18         			clc			; Subtract integer+1 from Y:A.
         1F:CAAA  E9 3B      			sbc.l	#59
         1F:CAAC  98         			tya
         1F:CAAD  E9 00      			sbc.h	#59
         1F:CAAF  50 02      			bvc	!+
         1F:CAB1  49 80      			eor	#$80		; +ve if Y:A > integer (signed).
         1F:CAB3  49 80      	!:		eor	#$80
         1F:CAB5  0A         			asl	a
 7406                        		__bfalse	.LL272
         1F:CAB6  90 13      			bcc	.LL272
 7407                        	
 7408                        		.dbg	line,	"include\routines_LEVELS.c", 408; {
 7409                        	
 7410                        		.dbg	line,	"include\routines_LEVELS.c", 409; seconds = seconds + 30 - 60;
 7411                        		__ld.um		_seconds
         1F:CAB8  AD 34 23   			lda	_seconds
         1F:CABB  C2         			cly
 7412                        		__sub.wi	30
         1F:CABC  38         			sec
         1F:CABD  E9 1E      			sbc.l	#30
         1F:CABF  B0 01      			bcs	!+
         1F:CAC1  88         			dey
         1F:CAC2             	!:
 7413                        		__st.umq	_seconds
         1F:CAC2  8D 34 23   			sta	_seconds
 7414                        	
 7415                        		.dbg	line,	"include\routines_LEVELS.c", 410; minutes += 1;
 7416                        		__add_st.umiq	1, _minutes
         1F:CAC5  EE 33 23   			inc	_minutes
 7417                        	
 7418                        		.dbg	line,	"include\routines_LEVELS.c", 411; }
 7419                        	
 7420                        		.dbg	line,	"include\routines_LEVELS.c", 413; else
 7421                        		__bra		.LL273
         1F:CAC8  4C A6 C9   			bra	.LL273
 7422    1F:CACB             	.LL272:
 7423                        	
 7424                        		.dbg	line,	"include\routines_LEVELS.c", 414; {
 7425                        	
 7426                        		.dbg	line,	"include\routines_LEVELS.c", 415; seconds += 30;
 7427                        		__add_st.umiq	30, _seconds
         1F:CACB  18         			clc
         1F:CACC  AD 34 23   			lda	_seconds
         1F:CACF  69 1E      			adc	#30
         1F:CAD1  8D 34 23   			sta	_seconds
 7428                        	
 7429                        		.dbg	line,	"include\routines_LEVELS.c", 416; }
 7430    1F:CAD4             	.LL273	.alias		.LL270
 7431                        	
 7432                        		.dbg	line,	"include\routines_LEVELS.c", 418; break;
 7433                        		__bra		.LL270
         1F:CAD4  4C A6 C9   			bra	.LL270
 7434                        	
 7435                        		.dbg	line,	"include\routines_LEVELS.c", 420; case TYPE_POW:
 7436    1F:CAD7             	.LL274:
 7437                        		__case		2
 7438                        	
 7439                        		.dbg	line,	"include\routines_LEVELS.c", 421; //
 7440                        	
 7441                        		.dbg	line,	"include\routines_LEVELS.c", 422; break;
 7442                        		__bra		.LL270
         1F:CAD7  4C A6 C9   			bra	.LL270
 7443                        	
 7444                        		.dbg	line,	"include\routines_LEVELS.c", 424; case TYPE_GRAY_KEY:
 7445    1F:CADA             	.LL275:
 7446                        		__case		4
 7447                        	
 7448                        		.dbg	line,	"include\routines_LEVELS.c", 425; key_amount += 1;
 7449                        		__add_st.umiq	1, _key_amount
         1F:CADA  EE 31 23   			inc	_key_amount
 7450                        	
 7451                        		.dbg	line,	"include\routines_LEVELS.c", 426; display_KEY();
 7452                        		__call		_display_KEY
         1F:CADD  20 45 FF   			call	_display_KEY
 7453                        	
 7454                        		.dbg	line,	"include\routines_LEVELS.c", 427; break;
 7455                        		__bra		.LL270
         1F:CAE0  4C A6 C9   			bra	.LL270
 7456                        	
 7457                        		.dbg	line,	"include\routines_LEVELS.c", 429; case TYPE_COIN_1:
 7458    1F:CAE3             	.LL276:
 7459                        		__case		7
 7460                        	
 7461                        		.dbg	line,	"include\routines_LEVELS.c", 430; zenny_amount += 1;
 7462                        		__add_st.wmiq	1, _zenny_amount
         1F:CAE3  EE 61 26   			inc.l	_zenny_amount
         1F:CAE6  D0 03      			bne	!+
         1F:CAE8  EE 62 26   			inc.h	_zenny_amount
         1F:CAEB             	!:
 7463                        	
 7464                        		.dbg	line,	"include\routines_LEVELS.c", 431; display_ZENNY();
 7465                        		__call		_display_ZENNY
         1F:CAEB  20 3B FF   			call	_display_ZENNY
 7466                        	
 7467                        		.dbg	line,	"include\routines_LEVELS.c", 432; break;
 7468                        		__bra		.LL270
         1F:CAEE  4C A6 C9   			bra	.LL270
 7469                        	
 7470                        		.dbg	line,	"include\routines_LEVELS.c", 434; case TYPE_COIN_5:
 7471    1F:CAF1             	.LL277:
 7472                        		__case		8
 7473                        	
 7474                        		.dbg	line,	"include\routines_LEVELS.c", 435; zenny_amount += 5;
 7475                        		__add_st.wmiq	5, _zenny_amount
         1F:CAF1  18         			clc
         1F:CAF2  AD 61 26   			lda.l	_zenny_amount
         1F:CAF5  69 05      			adc.l	#5
         1F:CAF7  8D 61 26   			sta.l	_zenny_amount
         1F:CAFA  90 03      			bcc	!+
         1F:CAFC  EE 62 26   			inc.h	_zenny_amount
         1F:CAFF             	!:
 7476                        	
 7477                        		.dbg	line,	"include\routines_LEVELS.c", 436; display_ZENNY();
 7478                        		__call		_display_ZENNY
         1F:CAFF  20 3B FF   			call	_display_ZENNY
 7479                        	
 7480                        		.dbg	line,	"include\routines_LEVELS.c", 437; break;
 7481                        		__bra		.LL270
         1F:CB02  4C A6 C9   			bra	.LL270
 7482                        	
 7483                        		.dbg	line,	"include\routines_LEVELS.c", 439; case TYPE_COIN_10:
 7484    1F:CB05             	.LL278:
 7485                        		__case		9
 7486                        	
 7487                        		.dbg	line,	"include\routines_LEVELS.c", 440; zenny_amount += 10;
 7488                        		__add_st.wmiq	10, _zenny_amount
         1F:CB05  18         			clc
         1F:CB06  AD 61 26   			lda.l	_zenny_amount
         1F:CB09  69 0A      			adc.l	#10
         1F:CB0B  8D 61 26   			sta.l	_zenny_amount
         1F:CB0E  90 03      			bcc	!+
         1F:CB10  EE 62 26   			inc.h	_zenny_amount
         1F:CB13             	!:
 7489                        	
 7490                        		.dbg	line,	"include\routines_LEVELS.c", 441; display_ZENNY();
 7491                        		__call		_display_ZENNY
         1F:CB13  20 3B FF   			call	_display_ZENNY
 7492                        	
 7493                        		.dbg	line,	"include\routines_LEVELS.c", 442; break;
 7494                        		__bra		.LL270
         1F:CB16  4C A6 C9   			bra	.LL270
 7495                        	
 7496                        		.dbg	line,	"include\routines_LEVELS.c", 444; case TYPE_COIN_50:
 7497    1F:CB19             	.LL279:
 7498                        		__case		10
 7499                        	
 7500                        		.dbg	line,	"include\routines_LEVELS.c", 445; zenny_amount += 50;
 7501                        		__add_st.wmiq	50, _zenny_amount
         1F:CB19  18         			clc
         1F:CB1A  AD 61 26   			lda.l	_zenny_amount
         1F:CB1D  69 32      			adc.l	#50
         1F:CB1F  8D 61 26   			sta.l	_zenny_amount
         1F:CB22  90 03      			bcc	!+
         1F:CB24  EE 62 26   			inc.h	_zenny_amount
         1F:CB27             	!:
 7502                        	
 7503                        		.dbg	line,	"include\routines_LEVELS.c", 446; display_ZENNY();
 7504                        		__call		_display_ZENNY
         1F:CB27  20 3B FF   			call	_display_ZENNY
 7505                        	
 7506                        		.dbg	line,	"include\routines_LEVELS.c", 447; break;
 7507                        		__bra		.LL270
         1F:CB2A  4C A6 C9   			bra	.LL270
 7508                        	
 7509                        		.dbg	line,	"include\routines_LEVELS.c", 449; case TYPE_COIN_100:
 7510    1F:CB2D             	.LL280:
 7511                        		__case		11
 7512                        	
 7513                        		.dbg	line,	"include\routines_LEVELS.c", 450; zenny_amount += 100;
 7514                        		__add_st.wmiq	100, _zenny_amount
         1F:CB2D  18         			clc
         1F:CB2E  AD 61 26   			lda.l	_zenny_amount
         1F:CB31  69 64      			adc.l	#100
         1F:CB33  8D 61 26   			sta.l	_zenny_amount
         1F:CB36  90 03      			bcc	!+
         1F:CB38  EE 62 26   			inc.h	_zenny_amount
         1F:CB3B             	!:
 7515                        	
 7516                        		.dbg	line,	"include\routines_LEVELS.c", 451; display_ZENNY();
 7517                        		__call		_display_ZENNY
         1F:CB3B  20 3B FF   			call	_display_ZENNY
 7518                        	
 7519                        		.dbg	line,	"include\routines_LEVELS.c", 452; break;
 7520                        		__bra		.LL270
         1F:CB3E  4C A6 C9   			bra	.LL270
 7521                        	
 7522                        		.dbg	line,	"include\routines_LEVELS.c", 454; case TYPE_COIN_500:
 7523    1F:CB41             	.LL281:
 7524                        		__case		12
 7525                        	
 7526                        		.dbg	line,	"include\routines_LEVELS.c", 455; zenny_amount += 500;
 7527                        		__add_st.wmiq	500, _zenny_amount
         1F:CB41  18         			clc
         1F:CB42  AD 61 26   			lda.l	_zenny_amount
         1F:CB45  69 F4      			adc.l	#500
         1F:CB47  8D 61 26   			sta.l	_zenny_amount
         1F:CB4A  AD 62 26   			lda.h	_zenny_amount
         1F:CB4D  69 01      			adc.h	#500
         1F:CB4F  8D 62 26   			sta.h	_zenny_amount
 7528                        	
 7529                        		.dbg	line,	"include\routines_LEVELS.c", 456; display_ZENNY();
 7530                        		__call		_display_ZENNY
         1F:CB52  20 3B FF   			call	_display_ZENNY
 7531                        	
 7532                        		.dbg	line,	"include\routines_LEVELS.c", 457; break;
 7533                        		__bra		.LL270
         1F:CB55  4C A6 C9   			bra	.LL270
 7534                        	
 7535                        		.dbg	line,	"include\routines_LEVELS.c", 459; case TYPE_COIN_1000:
 7536    1F:CB58             	.LL282:
 7537                        		__case		13
 7538                        	
 7539                        		.dbg	line,	"include\routines_LEVELS.c", 460; zenny_amount += 1000;
 7540                        		__add_st.wmiq	1000, _zenny_amount
         1F:CB58  18         			clc
         1F:CB59  AD 61 26   			lda.l	_zenny_amount
         1F:CB5C  69 E8      			adc.l	#1000
         1F:CB5E  8D 61 26   			sta.l	_zenny_amount
         1F:CB61  AD 62 26   			lda.h	_zenny_amount
         1F:CB64  69 03      			adc.h	#1000
         1F:CB66  8D 62 26   			sta.h	_zenny_amount
 7541                        	
 7542                        		.dbg	line,	"include\routines_LEVELS.c", 461; display_ZENNY();
 7543                        		__call		_display_ZENNY
         1F:CB69  20 3B FF   			call	_display_ZENNY
 7544                        	
 7545                        		.dbg	line,	"include\routines_LEVELS.c", 462; break;
 7546                        		__bra		.LL270
         1F:CB6C  4C A6 C9   			bra	.LL270
 7547                        	
 7548                        		.dbg	line,	"include\routines_LEVELS.c", 464; case TYPE_YASHICHI:
 7549    1F:CB6F             	.LL283:
 7550                        		__case		14
 7551                        	
 7552                        		.dbg	line,	"include\routines_LEVELS.c", 465; life_amount += 1;
 7553                        		__add_st.umiq	1, _life_amount
         1F:CB6F  EE 2F 23   			inc	_life_amount
 7554                        	
 7555                        		.dbg	line,	"include\routines_LEVELS.c", 466; break;
 7556                        		__bra		.LL270
         1F:CB72  4C A6 C9   			bra	.LL270
 7557                        	
 7558                        		.dbg	line,	"include\routines_LEVELS.c", 467; }
 7559    1F:CB75             	.LL269:
 7560                        		__switch_r.ur	0, 14
         1F:CB75  C9 0F      			cmp	#(14 - 0) + 1
         1F:CB77  90 02      			bcc	!found+
         1F:CB79  A9 0F      	!default:	lda	#(14 - 0) + 1
         1F:CB7B  0A         	!found:		asl	a
         1F:CB7C  AA         			tax
         1F:CB7D  7C 80 CB   			jmp	[!table+, x]
 7561                        	
 7562    1F:CB80  9F CA      	!table:		dw	.LL271, .LL270, .LL274, .LL270, .LL275, .LL270, .LL270, .LL276
         1F:CB82  A6 C9       
         1F:CB84  D7 CA       
         1F:CB86  A6 C9       
         1F:CB88  DA CA       
         1F:CB8A  A6 C9       
         1F:CB8C  A6 C9       
         1F:CB8E  E3 CA       
 7563    1F:CB90  F1 CA      			dw	.LL277, .LL278, .LL279, .LL280, .LL281, .LL282, .LL283
         1F:CB92  05 CB       
         1F:CB94  19 CB       
         1F:CB96  2D CB       
         1F:CB98  41 CB       
         1F:CB9A  58 CB       
         1F:CB9C  6F CB       
 7564    1F:CB9E  A6 C9      			dw	.LL270
 7565    1F:CBA0             	.LL270	.alias		.LL263
 7566                        	
 7567                        		.dbg	line,	"include\routines_LEVELS.c", 468; }
 7568                        	
 7569                        		.dbg	line,	"include\routines_LEVELS.c", 469; }
 7570    1F:CBA0             	.LL268	.alias		.LL263
 7571                        	
 7572                        		.dbg	line,	"include\routines_LEVELS.c", 470; }
 7573    1F:CBA0             	.LL267	.alias		.LL263
 7574                        	
 7575                        		.dbg	line,	"include\routines_LEVELS.c", 471; }
 7576    1F:CBA0             	.LL266	.alias		.LL263
 7577                        		__bra		.LL263
         1F:CBA0  4C A6 C9   			bra	.LL263
 7578    1F:CBA3             	.LL265:
 7579                        	
 7580                        		.dbg	line,	"include\routines_LEVELS.c", 472; }
 7581                        	
 7582                        		.dbg	line,	"include\routines_LEVELS.c", 473; }
 7583    1F:CBA3             	.LL261:
 7584    1F:CBA3             	.LL260:
 7585                        		__return	0
         1F:CBA3  4C EF FF   			jmp	leave_proc
 7586                        		.dbg	clear
 7587                        		.endp
 7588               2300     		.bss
 7589    F8:2300             			ds	3
 7590    F8:2303             	__collision_PLAYER_OBJECT_end:
 7591               E31D     		.code
 7592                        		.pceas
 7593                        	
 7594                        		.dbg	line,	"include\routines_LEVELS.c", 475; // CHECK COLLISION PLAYER -> NPCS //
 7595                        		.dbg	line,	"include\routines_LEVELS.c", 476; void collision_PLAYER_NPC()
 7596                        		.dbg	line,	"include\routines_LEVELS.c", 477; {
 7597                        	;***********************
 7598                        	;***********************
 7599                        	
 7600                        		.hucc
 7601    1F:D27F             		.proc		_collision_PLAYER_NPC
 7602                        		__enter		_collision_PLAYER_NPC
 7603                        	
 7604                        		.dbg	line,	"include\routines_LEVELS.c", 478; if(onscreen_npc_number != 0)
 7605                        		__tst.um	_onscreen_npc_number
         1F:D27F  AD D5 23   			lda	_onscreen_npc_number
         1F:D282  C9 01      			cmp	#1
 7606                        		__bfalse	.LL285
         1F:D284  B0 03 4C B8			bcc	.LL285
         1F:D288  D3          
 7607                        	
 7608                        		.dbg	line,	"include\routines_LEVELS.c", 479; {
 7609                        	
 7610                        		.dbg	line,	"include\routines_LEVELS.c", 480; if(player_state == STATE_IDLE || player_state == STATE_WALK)
 7611                        		__not.um	_player_state
         1F:D289  AD 1A 23   			lda	_player_state
         1F:D28C  18         			clc
         1F:D28D  D0 01      			bne	!+
         1F:D28F  38         			sec
         1F:D290             	!:
 7612                        		__btrue		.LL287
         1F:D290  B0 08      			bcs	.LL287
 7613                        		__ld.umq	_player_state
         1F:D292  AD 1A 23   			lda	_player_state
 7614                        		__equ_b.uiq	1
         1F:D295  C9 01      			cmp	#1
         1F:D297  F0 01      			beq	!+
         1F:D299  18         			clc
         1F:D29A             	!:
 7615    1F:D29A             	.LL287:
 7616                        		__bfalse	.LL286
         1F:D29A  B0 03 4C B8			bcc	.LL286
         1F:D29E  D3          
 7617                        	
 7618                        		.dbg	line,	"include\routines_LEVELS.c", 481; {
 7619                        	
 7620                        		.dbg	line,	"include\routines_LEVELS.c", 482; char i,j;
 7621                        	
 7622                        		.dbg	line,	"include\routines_LEVELS.c", 483; char current_npc_id;
 7623                        	
 7624                        		.dbg	line,	"include\routines_LEVELS.c", 484; char current_npc_type;
 7625                        	
 7626                        		.dbg	line,	"include\routines_LEVELS.c", 486; for(i=0 ; i<onscreen_npc_number ; i++)
 7627                        		__st.umiq	0, __collision_PLAYER_NPC_end - 1  /* i */
         1F:D29F  9C 2D 2C   			stz	__collision_PLAYER_NPC_end - 1
 7628    1F:D2A2             	.LL288:
 7629                        		__ld.umq	__collision_PLAYER_NPC_end - 1  /* i */
         1F:D2A2  AD 2D 2C   			lda	__collision_PLAYER_NPC_end - 1
 7630                        		__ult_b.umq	_onscreen_npc_number
         1F:D2A5  CD D5 23   			cmp	_onscreen_npc_number		; Subtract memory from A.
         1F:D2A8  6A         			ror	a		; CC if A < memory.
         1F:D2A9  49 80      			eor	#$80
         1F:D2AB  2A         			rol	a
 7631                        		__btrue		.LL290
         1F:D2AC  B0 08      			bcs	.LL290
 7632                        		__bra		.LL291
         1F:D2AE  4C B8 D3   			bra	.LL291
 7633    1F:D2B1             	.LL289:
 7634                        		__inc.umq	__collision_PLAYER_NPC_end - 1  /* i */
         1F:D2B1  EE 2D 2C   			inc	__collision_PLAYER_NPC_end - 1
 7635                        		__bra		.LL288
         1F:D2B4  80 EC      			bra	.LL288
 7636    1F:D2B6             	.LL290:
 7637                        	
 7638                        		.dbg	line,	"include\routines_LEVELS.c", 487; {
 7639                        	
 7640                        		.dbg	line,	"include\routines_LEVELS.c", 488; // RETRIEVE NPC INDEX IN THE LIST //
 7641                        	
 7642                        		.dbg	line,	"include\routines_LEVELS.c", 489; current_npc_id = list_onscreen_npc[i];
 7643                        		__ldx.umq	__collision_PLAYER_NPC_end - 1  /* i */
         1F:D2B6  AE 2D 2C   			ldx	__collision_PLAYER_NPC_end - 1
 7644                        		__ld.uax	_list_onscreen_npc
         1F:D2B9  BD F2 23   			lda	_list_onscreen_npc, x
         1F:D2BC  C2         			cly
 7645                        		__st.umq	__collision_PLAYER_NPC_end - 3  /* current_npc_id */
         1F:D2BD  8D 2B 2C   			sta	__collision_PLAYER_NPC_end - 3
 7646                        	
 7647                        		.dbg	line,	"include\routines_LEVELS.c", 491; if(list_npc_state[current_npc_id] == STATE_ACTIVE)
 7648                        		__ldx.umq	__collision_PLAYER_NPC_end - 3  /* current_npc_id */
         1F:D2C0  AE 2B 2C   			ldx	__collision_PLAYER_NPC_end - 3
 7649                        		__ld.uaxq	_list_npc_state
         1F:D2C3  BD E0 23   			lda	_list_npc_state, x
 7650                        		__equ_b.uiq	1
         1F:D2C6  C9 01      			cmp	#1
         1F:D2C8  F0 01      			beq	!+
         1F:D2CA  18         			clc
         1F:D2CB             	!:
 7651                        		__bfalse	.LL292
         1F:D2CB  90 E4      			bcc	.LL292
 7652                        	
 7653                        		.dbg	line,	"include\routines_LEVELS.c", 492; {
 7654                        	
 7655                        		.dbg	line,	"include\routines_LEVELS.c", 493; // RETRIEVE NPC TYPE //
 7656                        	
 7657                        		.dbg	line,	"include\routines_LEVELS.c", 494; current_npc_type = list_npc_type[current_npc_id];
 7658                        		__ldx.umq	__collision_PLAYER_NPC_end - 3  /* current_npc_id */
         1F:D2CD  AE 2B 2C   			ldx	__collision_PLAYER_NPC_end - 3
 7659                        		__ld.uax	_list_npc_type
         1F:D2D0  BD D7 23   			lda	_list_npc_type, x
         1F:D2D3  C2         			cly
 7660                        		__st.umq	__collision_PLAYER_NPC_end - 4  /* current_npc_type */
         1F:D2D4  8D 2A 2C   			sta	__collision_PLAYER_NPC_end - 4
 7661                        	
 7662                        		.dbg	line,	"include\routines_LEVELS.c", 496; if(abs( (player_pos_x + 16) - (list_npc_x_pos[current_npc_id] + 16) ) < OBJECT_MARGIN)
 7663                        		__ld.wm		_player_pos_x
         1F:D2D7  AD 01 25   			lda.l	_player_pos_x
         1F:D2DA  AC 02 25   			ldy.h	_player_pos_x
 7664                        		__add.wi	16
         1F:D2DD  18         			clc
         1F:D2DE  69 10      			adc.l	#16
         1F:D2E0  90 01      			bcc	!+
         1F:D2E2  C8         			iny
         1F:D2E3             	!:
 7665                        		__push.wr
         1F:D2E3  5A         			phy
         1F:D2E4  48         			pha
 7666                        		__ld2x.umq	__collision_PLAYER_NPC_end - 3  /* current_npc_id */
         1F:D2E5  AD 2B 2C   			lda	__collision_PLAYER_NPC_end - 3
         1F:D2E8  0A         			asl	a
         1F:D2E9  AA         			tax
 7667                        		__ld.wax	_list_npc_x_pos
         1F:D2EA  BD 13 26   			lda.l	_list_npc_x_pos, x
         1F:D2ED  BC 14 26   			ldy.h	_list_npc_x_pos, x
 7668                        		__add.wi	16
         1F:D2F0  18         			clc
         1F:D2F1  69 10      			adc.l	#16
         1F:D2F3  90 01      			bcc	!+
         1F:D2F5  C8         			iny
         1F:D2F6             	!:
 7669                        		__sub.wt
         1F:D2F6  BA         			tsx
         1F:D2F7  38         			sec
         1F:D2F8  49 FF      			eor	#$FF
         1F:D2FA  7D 01 21   			adc.l	__tos, x
         1F:D2FD  42         			say
         1F:D2FE  49 FF      			eor	#$FF
         1F:D300  7D 02 21   			adc.h	__tos, x
         1F:D303  42         			say
         1F:D304  E8         			inx
         1F:D305  E8         			inx
         1F:D306  9A         			txs
 7670                        		__call		_abs.1
         1F:D307  20 1D E5   			call	_abs.1
 7671                        		__slt_w.wi	10
         1F:D30A  C9 0A      			cmp.l	#10		; Subtract integer from Y:A.
         1F:D30C  98         			tya
         1F:D30D  E9 00      			sbc.h	#10
         1F:D30F  50 02      			bvc	!+
         1F:D311  49 80      			eor	#$80		; -ve if Y:A < integer (signed).
         1F:D313  0A         	!:		asl	a
 7672                        		__bfalse	.LL293
         1F:D314  90 9B      			bcc	.LL293
 7673                        	
 7674                        		.dbg	line,	"include\routines_LEVELS.c", 497; {
 7675                        	
 7676                        		.dbg	line,	"include\routines_LEVELS.c", 498; if(abs( (player_pos_y + 16) - (list_npc_y_pos[current_npc_id] + 16) ) < OBJECT_MARGIN)
 7677                        		__ld.wm		_player_pos_y
         1F:D316  AD 03 25   			lda.l	_player_pos_y
         1F:D319  AC 04 25   			ldy.h	_player_pos_y
 7678                        		__add.wi	16
         1F:D31C  18         			clc
         1F:D31D  69 10      			adc.l	#16
         1F:D31F  90 01      			bcc	!+
         1F:D321  C8         			iny
         1F:D322             	!:
 7679                        		__push.wr
         1F:D322  5A         			phy
         1F:D323  48         			pha
 7680                        		__ld2x.umq	__collision_PLAYER_NPC_end - 3  /* current_npc_id */
         1F:D324  AD 2B 2C   			lda	__collision_PLAYER_NPC_end - 3
         1F:D327  0A         			asl	a
         1F:D328  AA         			tax
 7681                        		__ld.wax	_list_npc_y_pos
         1F:D329  BD 25 26   			lda.l	_list_npc_y_pos, x
         1F:D32C  BC 26 26   			ldy.h	_list_npc_y_pos, x
 7682                        		__add.wi	16
         1F:D32F  18         			clc
         1F:D330  69 10      			adc.l	#16
         1F:D332  90 01      			bcc	!+
         1F:D334  C8         			iny
         1F:D335             	!:
 7683                        		__sub.wt
         1F:D335  BA         			tsx
         1F:D336  38         			sec
         1F:D337  49 FF      			eor	#$FF
         1F:D339  7D 01 21   			adc.l	__tos, x
         1F:D33C  42         			say
         1F:D33D  49 FF      			eor	#$FF
         1F:D33F  7D 02 21   			adc.h	__tos, x
         1F:D342  42         			say
         1F:D343  E8         			inx
         1F:D344  E8         			inx
         1F:D345  9A         			txs
 7684                        		__call		_abs.1
         1F:D346  20 1D E5   			call	_abs.1
 7685                        		__slt_w.wi	10
         1F:D349  C9 0A      			cmp.l	#10		; Subtract integer from Y:A.
         1F:D34B  98         			tya
         1F:D34C  E9 00      			sbc.h	#10
         1F:D34E  50 02      			bvc	!+
         1F:D350  49 80      			eor	#$80		; -ve if Y:A < integer (signed).
         1F:D352  0A         	!:		asl	a
 7686                        		__bfalse	.LL294
         1F:D353  B0 03 4C B1			bcc	.LL294
         1F:D357  D2          
 7687                        	
 7688                        		.dbg	line,	"include\routines_LEVELS.c", 499; {               
 7689                        	
 7690                        		.dbg	line,	"include\routines_LEVELS.c", 500; global_counter = 0;
 7691                        		__st.wmiq	0, _global_counter
         1F:D358  9C 5B 26   			stz.l	_global_counter
         1F:D35B  9C 5C 26   			stz.h	_global_counter
 7692                        	
 7693                        		.dbg	line,	"include\routines_LEVELS.c", 501; selected_npc = current_npc_id + npc_start_index;
 7694                        		__ld.um		__collision_PLAYER_NPC_end - 3  /* current_npc_id */
         1F:D35E  AD 2B 2C   			lda	__collision_PLAYER_NPC_end - 3
         1F:D361  C2         			cly
 7695                        		__add.um	_npc_start_index
         1F:D362  18         			clc
         1F:D363  6D D3 23   			adc	_npc_start_index
         1F:D366  90 01      			bcc	!+
         1F:D368  C8         			iny
         1F:D369             	!:
 7696                        		__st.umq	_selected_npc
         1F:D369  8D D6 23   			sta	_selected_npc
 7697                        	
 7698                        		.dbg	line,	"include\routines_LEVELS.c", 502; list_npc_state[current_npc_id] = STATE_FREE;
 7699                        		__ldx.umq	__collision_PLAYER_NPC_end - 3  /* current_npc_id */
         1F:D36C  AE 2B 2C   			ldx	__collision_PLAYER_NPC_end - 3
 7700                        		__st.uaxiq	0, _list_npc_state
         1F:D36F  9E E0 23   			stz	_list_npc_state, x
 7701                        	
 7702                        		.dbg	line,	"include\routines_LEVELS.c", 503; sequence_id = SEQUENCE_NPC;
 7703                        		__st.umiq	3, _sequence_id
         1F:D372  A9 03      			lda.l	#3
         1F:D374  8D 14 23   			sta	_sequence_id
 7704                        	
 7705                        		.dbg	line,	"include\routines_LEVELS.c", 505; if(current_npc_type == TYPE_NPC_SHOP)
 7706                        		__ld.umq	__collision_PLAYER_NPC_end - 4  /* current_npc_type */
         1F:D377  AD 2A 2C   			lda	__collision_PLAYER_NPC_end - 4
 7707                        		__equ_b.uiq	2
         1F:D37A  C9 02      			cmp	#2
         1F:D37C  F0 01      			beq	!+
         1F:D37E  18         			clc
         1F:D37F             	!:
 7708                        		__bfalse	.LL295
         1F:D37F  B0 03 4C B1			bcc	.LL295
         1F:D383  D2          
 7709                        	
 7710                        		.dbg	line,	"include\routines_LEVELS.c", 506; {                              
 7711                        	
 7712                        		.dbg	line,	"include\routines_LEVELS.c", 507; minutes_backup = minutes;
 7713                        		__ld.um		_minutes
         1F:D384  AD 33 23   			lda	_minutes
         1F:D387  C2         			cly
 7714                        		__st.umq	_minutes_backup
         1F:D388  8D 36 23   			sta	_minutes_backup
 7715                        	
 7716                        		.dbg	line,	"include\routines_LEVELS.c", 508; seconds_backup = seconds;
 7717                        		__ld.um		_seconds
         1F:D38B  AD 34 23   			lda	_seconds
         1F:D38E  C2         			cly
 7718                        		__st.umq	_seconds_backup
         1F:D38F  8D 37 23   			sta	_seconds_backup
 7719                        	
 7720                        		.dbg	line,	"include\routines_LEVELS.c", 509; camera_pos_x_backup = sgx_map_pxl_x;
 7721                        		__ld.wm		_sgx_map_pxl_x
         1F:D392  AD E4 26   			lda.l	_sgx_map_pxl_x
         1F:D395  AC E5 26   			ldy.h	_sgx_map_pxl_x
 7722                        		__st.wmq	_camera_pos_x_backup
         1F:D398  8D 07 25   			sta.l	_camera_pos_x_backup
         1F:D39B  8C 08 25   			sty.h	_camera_pos_x_backup
 7723                        	
 7724                        		.dbg	line,	"include\routines_LEVELS.c", 510; camera_pos_y_backup = list_npc_y_pos_ref[current_npc_id] - 128;
 7725                        		__ld2x.umq	__collision_PLAYER_NPC_end - 3  /* current_npc_id */
         1F:D39E  AD 2B 2C   			lda	__collision_PLAYER_NPC_end - 3
         1F:D3A1  0A         			asl	a
         1F:D3A2  AA         			tax
 7726                        		__ld.wax	_list_npc_y_pos_ref
         1F:D3A3  BD 49 26   			lda.l	_list_npc_y_pos_ref, x
         1F:D3A6  BC 4A 26   			ldy.h	_list_npc_y_pos_ref, x
 7727                        		__sub.wi	128
         1F:D3A9  38         			sec
         1F:D3AA  E9 80      			sbc.l	#128
         1F:D3AC  B0 01      			bcs	!+
         1F:D3AE  88         			dey
         1F:D3AF             	!:
 7728                        		__st.wmq	_camera_pos_y_backup
         1F:D3AF  8D 09 25   			sta.l	_camera_pos_y_backup
         1F:D3B2  8C 0A 25   			sty.h	_camera_pos_y_backup
 7729                        	
 7730                        		.dbg	line,	"include\routines_LEVELS.c", 511; }
 7731                        	
 7732                        		.dbg	line,	"include\routines_LEVELS.c", 512; }
 7733    1F:D3B5             	.LL295	.alias		.LL289
 7734                        	
 7735                        		.dbg	line,	"include\routines_LEVELS.c", 513; }
 7736    1F:D3B5             	.LL294	.alias		.LL289
 7737                        	
 7738                        		.dbg	line,	"include\routines_LEVELS.c", 514; }
 7739    1F:D3B5             	.LL293	.alias		.LL289
 7740                        	
 7741                        		.dbg	line,	"include\routines_LEVELS.c", 515; }
 7742    1F:D3B5             	.LL292	.alias		.LL289
 7743                        		__bra		.LL289
         1F:D3B5  4C B1 D2   			bra	.LL289
 7744    1F:D3B8             	.LL291:
 7745                        	
 7746                        		.dbg	line,	"include\routines_LEVELS.c", 516; }
 7747                        	
 7748                        		.dbg	line,	"include\routines_LEVELS.c", 517; }
 7749    1F:D3B8             	.LL286:
 7750                        	
 7751                        		.dbg	line,	"include\routines_LEVELS.c", 518; }
 7752    1F:D3B8             	.LL285:
 7753    1F:D3B8             	.LL284:
 7754                        		__return	0
         1F:D3B8  4C EF FF   			jmp	leave_proc
 7755                        		.dbg	clear
 7756                        		.endp
 7757               2303     		.bss
 7758    F8:2303             	__collision_PLAYER_NPC_end	.alias	leaf_stack
 7759               E31D     		.code
 7760                        		.pceas
 7761                        	
 7762                        		.dbg	line,	"include\routines_LEVELS.c", 520; // CHECK COLLISION WEAPON -> OBJECTS //
 7763                        		.dbg	line,	"include\routines_LEVELS.c", 521; void collision_WEAPON_OBJECTS()
 7764                        		.dbg	line,	"include\routines_LEVELS.c", 522; {
 7765                        	;***********************
 7766                        	;***********************
 7767                        	
 7768                        		.hucc
 7769    1F:D3BB             		.proc		_collision_WEAPON_OBJECTS
 7770                        		__enter		_collision_WEAPON_OBJECTS
 7771                        	
 7772                        		.dbg	line,	"include\routines_LEVELS.c", 523; if(onscreen_object_number != 0)
 7773                        		__tst.um	_onscreen_object_number
         1F:D3BB  AD 3A 23   			lda	_onscreen_object_number
         1F:D3BE  C9 01      			cmp	#1
 7774                        		__bfalse	.LL297
         1F:D3C0  B0 03 4C F3			bcc	.LL297
         1F:D3C4  D4          
 7775                        	
 7776                        		.dbg	line,	"include\routines_LEVELS.c", 524; {
 7777                        	
 7778                        		.dbg	line,	"include\routines_LEVELS.c", 525; char i;
 7779                        	
 7780                        		.dbg	line,	"include\routines_LEVELS.c", 526; char current_object_id;
 7781                        	
 7782                        		.dbg	line,	"include\routines_LEVELS.c", 527; char current_object_type;
 7783                        	
 7784                        		.dbg	line,	"include\routines_LEVELS.c", 528; int weapon_pos_x;
 7785                        	
 7786                        		.dbg	line,	"include\routines_LEVELS.c", 529; int weapon_pos_y;
 7787                        	
 7788                        		.dbg	line,	"include\routines_LEVELS.c", 531; for(i=0 ; i<onscreen_object_number ; i++)
 7789                        		__st.umiq	0, __collision_WEAPON_OBJECTS_end - 1  /* i */
         1F:D3C5  9C 2D 2C   			stz	__collision_WEAPON_OBJECTS_end - 1
 7790    1F:D3C8             	.LL298:
 7791                        		__ld.umq	__collision_WEAPON_OBJECTS_end - 1  /* i */
         1F:D3C8  AD 2D 2C   			lda	__collision_WEAPON_OBJECTS_end - 1
 7792                        		__ult_b.umq	_onscreen_object_number
         1F:D3CB  CD 3A 23   			cmp	_onscreen_object_number		; Subtract memory from A.
         1F:D3CE  6A         			ror	a		; CC if A < memory.
         1F:D3CF  49 80      			eor	#$80
         1F:D3D1  2A         			rol	a
 7793                        		__btrue		.LL300
         1F:D3D2  B0 08      			bcs	.LL300
 7794                        		__bra		.LL301
         1F:D3D4  4C F3 D4   			bra	.LL301
 7795    1F:D3D7             	.LL299:
 7796                        		__inc.umq	__collision_WEAPON_OBJECTS_end - 1  /* i */
         1F:D3D7  EE 2D 2C   			inc	__collision_WEAPON_OBJECTS_end - 1
 7797                        		__bra		.LL298
         1F:D3DA  80 EC      			bra	.LL298
 7798    1F:D3DC             	.LL300:
 7799                        	
 7800                        		.dbg	line,	"include\routines_LEVELS.c", 532; {
 7801                        	
 7802                        		.dbg	line,	"include\routines_LEVELS.c", 533; // RETRIEVE OBJECT INDEX IN THE LIST //
 7803                        	
 7804                        		.dbg	line,	"include\routines_LEVELS.c", 534; current_object_id = list_onscreen_object[i];
 7805                        		__ldx.umq	__collision_WEAPON_OBJECTS_end - 1  /* i */
         1F:D3DC  AE 2D 2C   			ldx	__collision_WEAPON_OBJECTS_end - 1
 7806                        		__ld.uax	_list_onscreen_object
         1F:D3DF  BD B8 23   			lda	_list_onscreen_object, x
         1F:D3E2  C2         			cly
 7807                        		__st.umq	__collision_WEAPON_OBJECTS_end - 2  /* current_object_id */
         1F:D3E3  8D 2C 2C   			sta	__collision_WEAPON_OBJECTS_end - 2
 7808                        	
 7809                        		.dbg	line,	"include\routines_LEVELS.c", 535; // RETRIEVE OBJECT TYPE //
 7810                        	
 7811                        		.dbg	line,	"include\routines_LEVELS.c", 536; current_object_type = list_object_type[current_object_id];
 7812                        		__ldx.umq	__collision_WEAPON_OBJECTS_end - 2  /* current_object_id */
         1F:D3E6  AE 2C 2C   			ldx	__collision_WEAPON_OBJECTS_end - 2
 7813                        		__ld.uax	_list_object_type
         1F:D3E9  BD 3B 23   			lda	_list_object_type, x
         1F:D3EC  C2         			cly
 7814                        		__st.umq	__collision_WEAPON_OBJECTS_end - 3  /* current_object_type */
         1F:D3ED  8D 2B 2C   			sta	__collision_WEAPON_OBJECTS_end - 3
 7815                        	
 7816                        		.dbg	line,	"include\routines_LEVELS.c", 538; if(current_object_type == TYPE_POT)
 7817                        		__ld.umq	__collision_WEAPON_OBJECTS_end - 3  /* current_object_type */
         1F:D3F0  AD 2B 2C   			lda	__collision_WEAPON_OBJECTS_end - 3
 7818                        		__equ_b.uiq	1
         1F:D3F3  C9 01      			cmp	#1
         1F:D3F5  F0 01      			beq	!+
         1F:D3F7  18         			clc
         1F:D3F8             	!:
 7819                        		__bfalse	.LL302
         1F:D3F8  90 DD      			bcc	.LL302
 7820                        	
 7821                        		.dbg	line,	"include\routines_LEVELS.c", 539; {
 7822                        	
 7823                        		.dbg	line,	"include\routines_LEVELS.c", 540; if(list_object_state[current_object_id] == STATE_ACTIVE)
 7824                        		__ldx.umq	__collision_WEAPON_OBJECTS_end - 2  /* current_object_id */
         1F:D3FA  AE 2C 2C   			ldx	__collision_WEAPON_OBJECTS_end - 2
 7825                        		__ld.uaxq	_list_object_state
         1F:D3FD  BD 54 23   			lda	_list_object_state, x
 7826                        		__equ_b.uiq	1
         1F:D400  C9 01      			cmp	#1
         1F:D402  F0 01      			beq	!+
         1F:D404  18         			clc
         1F:D405             	!:
 7827                        		__bfalse	.LL303
         1F:D405  90 D0      			bcc	.LL303
 7828                        	
 7829                        		.dbg	line,	"include\routines_LEVELS.c", 541; {
 7830                        	
 7831                        		.dbg	line,	"include\routines_LEVELS.c", 542; // GET WEAPON POSITION //
 7832                        	
 7833                        		.dbg	line,	"include\routines_LEVELS.c", 543; spr_set(weapon_id);
 7834                        		__ld.umq	_weapon_id
         1F:D407  AD 28 23   			lda	_weapon_id
 7835                        		__call		_spr_set.1
         1F:D40A  20 F1 E7   			call	_spr_set.1
 7836                        	
 7837                        		.dbg	line,	"include\routines_LEVELS.c", 544; weapon_pos_x = spr_get_x();
 7838                        		__call		_spr_get_x
         1F:D40D  20 7F E8   			call	_spr_get_x
 7839                        		__st.wmq	__collision_WEAPON_OBJECTS_end - 5  /* weapon_pos_x */
         1F:D410  8D 29 2C   			sta.l	__collision_WEAPON_OBJECTS_end - 5
         1F:D413  8C 2A 2C   			sty.h	__collision_WEAPON_OBJECTS_end - 5
 7840                        	
 7841                        		.dbg	line,	"include\routines_LEVELS.c", 545; weapon_pos_y = spr_get_y();
 7842                        		__call		_spr_get_y
         1F:D416  20 8F E8   			call	_spr_get_y
 7843                        		__st.wmq	__collision_WEAPON_OBJECTS_end - 7  /* weapon_pos_y */
         1F:D419  8D 27 2C   			sta.l	__collision_WEAPON_OBJECTS_end - 7
         1F:D41C  8C 28 2C   			sty.h	__collision_WEAPON_OBJECTS_end - 7
 7844                        	
 7845                        		.dbg	line,	"include\routines_LEVELS.c", 547; if( abs( (weapon_pos_x + 8) - (list_object_x_pos[current_object_id] + 8) ) < 16 )
 7846                        		__ld.wm		__collision_WEAPON_OBJECTS_end - 5  /* weapon_pos_x */
         1F:D41F  AD 29 2C   			lda.l	__collision_WEAPON_OBJECTS_end - 5
         1F:D422  AC 2A 2C   			ldy.h	__collision_WEAPON_OBJECTS_end - 5
 7847                        		__add.wi	8
         1F:D425  18         			clc
         1F:D426  69 08      			adc.l	#8
         1F:D428  90 01      			bcc	!+
         1F:D42A  C8         			iny
         1F:D42B             	!:
 7848                        		__push.wr
         1F:D42B  5A         			phy
         1F:D42C  48         			pha
 7849                        		__ld2x.umq	__collision_WEAPON_OBJECTS_end - 2  /* current_object_id */
         1F:D42D  AD 2C 2C   			lda	__collision_WEAPON_OBJECTS_end - 2
         1F:D430  0A         			asl	a
         1F:D431  AA         			tax
 7850                        		__ld.wax	_list_object_x_pos
         1F:D432  BD 0B 25   			lda.l	_list_object_x_pos, x
         1F:D435  BC 0C 25   			ldy.h	_list_object_x_pos, x
 7851                        		__add.wi	8
         1F:D438  18         			clc
         1F:D439  69 08      			adc.l	#8
         1F:D43B  90 01      			bcc	!+
         1F:D43D  C8         			iny
         1F:D43E             	!:
 7852                        		__sub.wt
         1F:D43E  BA         			tsx
         1F:D43F  38         			sec
         1F:D440  49 FF      			eor	#$FF
         1F:D442  7D 01 21   			adc.l	__tos, x
         1F:D445  42         			say
         1F:D446  49 FF      			eor	#$FF
         1F:D448  7D 02 21   			adc.h	__tos, x
         1F:D44B  42         			say
         1F:D44C  E8         			inx
         1F:D44D  E8         			inx
         1F:D44E  9A         			txs
 7853                        		__call		_abs.1
         1F:D44F  20 1D E5   			call	_abs.1
 7854                        		__slt_w.wi	16
         1F:D452  C9 10      			cmp.l	#16		; Subtract integer from Y:A.
         1F:D454  98         			tya
         1F:D455  E9 00      			sbc.h	#16
         1F:D457  50 02      			bvc	!+
         1F:D459  49 80      			eor	#$80		; -ve if Y:A < integer (signed).
         1F:D45B  0A         	!:		asl	a
 7855                        		__bfalse	.LL304
         1F:D45C  B0 03 4C D7			bcc	.LL304
         1F:D460  D3          
 7856                        	
 7857                        		.dbg	line,	"include\routines_LEVELS.c", 548; {
 7858                        	
 7859                        		.dbg	line,	"include\routines_LEVELS.c", 549; if( abs( (weapon_pos_y + 8) - (list_object_y_pos[current_object_id] + 8) ) < 8 )
 7860                        		__ld.wm		__collision_WEAPON_OBJECTS_end - 7  /* weapon_pos_y */
         1F:D461  AD 27 2C   			lda.l	__collision_WEAPON_OBJECTS_end - 7
         1F:D464  AC 28 2C   			ldy.h	__collision_WEAPON_OBJECTS_end - 7
 7861                        		__add.wi	8
         1F:D467  18         			clc
         1F:D468  69 08      			adc.l	#8
         1F:D46A  90 01      			bcc	!+
         1F:D46C  C8         			iny
         1F:D46D             	!:
 7862                        		__push.wr
         1F:D46D  5A         			phy
         1F:D46E  48         			pha
 7863                        		__ld2x.umq	__collision_WEAPON_OBJECTS_end - 2  /* current_object_id */
         1F:D46F  AD 2C 2C   			lda	__collision_WEAPON_OBJECTS_end - 2
         1F:D472  0A         			asl	a
         1F:D473  AA         			tax
 7864                        		__ld.wax	_list_object_y_pos
         1F:D474  BD 3D 25   			lda.l	_list_object_y_pos, x
         1F:D477  BC 3E 25   			ldy.h	_list_object_y_pos, x
 7865                        		__add.wi	8
         1F:D47A  18         			clc
         1F:D47B  69 08      			adc.l	#8
         1F:D47D  90 01      			bcc	!+
         1F:D47F  C8         			iny
         1F:D480             	!:
 7866                        		__sub.wt
         1F:D480  BA         			tsx
         1F:D481  38         			sec
         1F:D482  49 FF      			eor	#$FF
         1F:D484  7D 01 21   			adc.l	__tos, x
         1F:D487  42         			say
         1F:D488  49 FF      			eor	#$FF
         1F:D48A  7D 02 21   			adc.h	__tos, x
         1F:D48D  42         			say
         1F:D48E  E8         			inx
         1F:D48F  E8         			inx
         1F:D490  9A         			txs
 7867                        		__call		_abs.1
         1F:D491  20 1D E5   			call	_abs.1
 7868                        		__slt_w.wi	8
         1F:D494  C9 08      			cmp.l	#8		; Subtract integer from Y:A.
         1F:D496  98         			tya
         1F:D497  E9 00      			sbc.h	#8
         1F:D499  50 02      			bvc	!+
         1F:D49B  49 80      			eor	#$80		; -ve if Y:A < integer (signed).
         1F:D49D  0A         	!:		asl	a
 7869                        		__bfalse	.LL305
         1F:D49E  B0 03 4C D7			bcc	.LL305
         1F:D4A2  D3          
 7870                        	
 7871                        		.dbg	line,	"include\routines_LEVELS.c", 550; {
 7872                        	
 7873                        		.dbg	line,	"include\routines_LEVELS.c", 551; // WEAPON STOPS UNDOLDING //
 7874                        	
 7875                        		.dbg	line,	"include\routines_LEVELS.c", 552; chain_unfold = FALSE;
 7876                        		__st.umiq	0, _chain_unfold
         1F:D4A3  9C 2B 23   			stz	_chain_unfold
 7877                        	
 7878                        		.dbg	line,	"include\routines_LEVELS.c", 554; // WE SHORTEN WEAPON ANIMATION DURATION //
 7879                        	
 7880                        		.dbg	line,	"include\routines_LEVELS.c", 555; player_counter_attack = 19;
 7881                        		__st.umiq	19, _player_counter_attack
         1F:D4A6  A9 13      			lda.l	#19
         1F:D4A8  8D 20 23   			sta	_player_counter_attack
 7882                        	
 7883                        		.dbg	line,	"include\routines_LEVELS.c", 557; // DECREASE POT ENERGY //
 7884                        	
 7885                        		.dbg	line,	"include\routines_LEVELS.c", 558; list_object_energy[current_object_id] -= 1;
 7886                        		__ldx.umq	__collision_WEAPON_OBJECTS_end - 2  /* current_object_id */
         1F:D4AB  AE 2C 2C   			ldx	__collision_WEAPON_OBJECTS_end - 2
 7887                        		__sub_st.uaxiq	1, _list_object_energy
         1F:D4AE  DE 6D 23   			dec	_list_object_energy, x
 7888                        	
 7889                        		.dbg	line,	"include\routines_LEVELS.c", 560; // INIT POT COUNTER //
 7890                        	
 7891                        		.dbg	line,	"include\routines_LEVELS.c", 561; list_object_counter[current_object_id] = 0;
 7892                        		__ldx.umq	__collision_WEAPON_OBJECTS_end - 2  /* current_object_id */
         1F:D4B1  AE 2C 2C   			ldx	__collision_WEAPON_OBJECTS_end - 2
 7893                        		__st.uaxiq	0, _list_object_counter
         1F:D4B4  9E 9F 23   			stz	_list_object_counter, x
 7894                        	
 7895                        		.dbg	line,	"include\routines_LEVELS.c", 563; // POT GETS HIT //
 7896                        	
 7897                        		.dbg	line,	"include\routines_LEVELS.c", 564; list_object_state[current_object_id] = STATE_HIT;
 7898                        		__ldx.umq	__collision_WEAPON_OBJECTS_end - 2  /* current_object_id */
         1F:D4B7  AE 2C 2C   			ldx	__collision_WEAPON_OBJECTS_end - 2
 7899                        		__st.uaxiq	2, _list_object_state
         1F:D4BA  A9 02      			lda.l	#2
         1F:D4BC  9D 54 23   			sta	_list_object_state, x
 7900                        	
 7901                        		.dbg	line,	"include\routines_LEVELS.c", 566; // SELECT POT SPRITE //
 7902                        	
 7903                        		.dbg	line,	"include\routines_LEVELS.c", 567; sgx_spr_set(current_object_id + object_start_index);
 7904                        		__ld.um		__collision_WEAPON_OBJECTS_end - 2  /* current_object_id */
         1F:D4BF  AD 2C 2C   			lda	__collision_WEAPON_OBJECTS_end - 2
         1F:D4C2  C2         			cly
 7905                        		__add.um	_object_start_index
         1F:D4C3  18         			clc
         1F:D4C4  6D 38 23   			adc	_object_start_index
         1F:D4C7  90 01      			bcc	!+
         1F:D4C9  C8         			iny
         1F:D4CA             	!:
 7906                        		__call		_sgx_spr_set.1
         1F:D4CA  20 9E E8   			call	_sgx_spr_set.1
 7907                        	
 7908                        		.dbg	line,	"include\routines_LEVELS.c", 568; 
 7909                        	
 7910                        		.dbg	line,	"include\routines_LEVELS.c", 569; // CHECK OBJECT ENERGY //
 7911                        	
 7912                        		.dbg	line,	"include\routines_LEVELS.c", 570; switch(list_object_energy[current_object_id])
 7913                        		__ldx.umq	__collision_WEAPON_OBJECTS_end - 2  /* current_object_id */
         1F:D4CD  AE 2C 2C   			ldx	__collision_WEAPON_OBJECTS_end - 2
 7914                        		__ld.uaxq	_list_object_energy
         1F:D4D0  BD 6D 23   			lda	_list_object_energy, x
 7915                        		__bra		.LL306
         1F:D4D3  80 0A      			bra	.LL306
 7916                        	
 7917                        		.dbg	line,	"include\routines_LEVELS.c", 571; {
 7918                        	
 7919                        		.dbg	line,	"include\routines_LEVELS.c", 572; case 0:
 7920    1F:D4D5             	.LL308:
 7921    1F:D4D5             	.LL309:
 7922                        	
 7923                        		.dbg	line,	"include\routines_LEVELS.c", 573; //sgx_spr_pattern(POT3_VRAM_ADR);
 7924                        	
 7925                        		.dbg	line,	"include\routines_LEVELS.c", 576; case 1:
 7926                        		__case		1
 7927                        	
 7928                        		.dbg	line,	"include\routines_LEVELS.c", 577; sgx_spr_pattern(POT2_VRAM_ADR);
 7929                        		__ld.wi		26688
         1F:D4D5  A9 40      			lda.l	#26688
         1F:D4D7  A0 68      			ldy.h	#26688
 7930                        		__call		_sgx_spr_pattern.1
         1F:D4D9  20 E7 E8   			call	_sgx_spr_pattern.1
 7931                        	
 7932                        		.dbg	line,	"include\routines_LEVELS.c", 578; }
 7933                        		__bra		.LL307
         1F:D4DC  4C D7 D3   			bra	.LL307
 7934    1F:D4DF             	.LL306:
 7935                        		__switch_r.ur	0, 1
         1F:D4DF  C9 02      			cmp	#(1 - 0) + 1
         1F:D4E1  90 02      			bcc	!found+
         1F:D4E3  A9 02      	!default:	lda	#(1 - 0) + 1
         1F:D4E5  0A         	!found:		asl	a
         1F:D4E6  AA         			tax
         1F:D4E7  7C EA D4   			jmp	[!table+, x]
 7936                        	
 7937    1F:D4EA  D5 D4      	!table:		dw	.LL308, .LL309
         1F:D4EC  D5 D4       
 7938    1F:D4EE  D7 D3      			dw	.LL307
 7939    1F:D4F0             	.LL307	.alias		.LL299
 7940                        	
 7941                        		.dbg	line,	"include\routines_LEVELS.c", 579; }
 7942                        	
 7943                        		.dbg	line,	"include\routines_LEVELS.c", 580; }
 7944    1F:D4F0             	.LL305	.alias		.LL299
 7945                        	
 7946                        		.dbg	line,	"include\routines_LEVELS.c", 581; }
 7947    1F:D4F0             	.LL304	.alias		.LL299
 7948                        	
 7949                        		.dbg	line,	"include\routines_LEVELS.c", 582; }
 7950    1F:D4F0             	.LL303	.alias		.LL299
 7951                        	
 7952                        		.dbg	line,	"include\routines_LEVELS.c", 583; }
 7953    1F:D4F0             	.LL302	.alias		.LL299
 7954                        		__bra		.LL299
         1F:D4F0  4C D7 D3   			bra	.LL299
 7955    1F:D4F3             	.LL301:
 7956                        	
 7957                        		.dbg	line,	"include\routines_LEVELS.c", 584; }
 7958                        	
 7959                        		.dbg	line,	"include\routines_LEVELS.c", 585; }
 7960    1F:D4F3             	.LL297:
 7961    1F:D4F3             	.LL296:
 7962                        		__return	0
         1F:D4F3  4C EF FF   			jmp	leave_proc
 7963                        		.dbg	clear
 7964                        		.endp
 7965               2303     		.bss
 7966    F8:2303             	__collision_WEAPON_OBJECTS_end	.alias	leaf_stack
 7967               E31D     		.code
 7968                        		.pceas
 7969                        	
 7970                        		.dbg	line,	"include\routines_LEVELS.c", 591; //-----------------------------------------------------------------------------//
 7971                        		.dbg	line,	"include\routines_LEVELS.c", 592; //                                   OBJECTS                                   //
 7972                        		.dbg	line,	"include\routines_LEVELS.c", 593; //-----------------------------------------------------------------------------//
 7973                        		.dbg	line,	"include\routines_LEVELS.c", 595; void anim_OBJECTS()
 7974                        		.dbg	line,	"include\routines_LEVELS.c", 596; {
 7975                        	;***********************
 7976                        	;***********************
 7977                        	
 7978                        		.hucc
 7979    11:DC00             		.proc		_anim_OBJECTS
 7980                        		__enter		_anim_OBJECTS
 7981                        	
 7982                        		.dbg	line,	"include\routines_LEVELS.c", 597; if(onscreen_object_number != 0)
 7983                        		__tst.um	_onscreen_object_number
         11:DC00  AD 3A 23   			lda	_onscreen_object_number
         11:DC03  C9 01      			cmp	#1
 7984                        		__bfalse	.LL311
         11:DC05  B0 03 4C A7			bcc	.LL311
         11:DC09  DF          
 7985                        	
 7986                        		.dbg	line,	"include\routines_LEVELS.c", 598; {
 7987                        	
 7988                        		.dbg	line,	"include\routines_LEVELS.c", 599; char i;
 7989                        	
 7990                        		.dbg	line,	"include\routines_LEVELS.c", 600; char current_object_id;
 7991                        	
 7992                        		.dbg	line,	"include\routines_LEVELS.c", 601; signed int object_pos_y;
 7993                        	
 7994                        		.dbg	line,	"include\routines_LEVELS.c", 604; for(i=0 ; i<onscreen_object_number ; i++)
 7995                        		__st.umiq	0, __anim_OBJECTS_end - 1  /* i */
         11:DC0A  9C 2D 2C   			stz	__anim_OBJECTS_end - 1
 7996    11:DC0D             	.LL312:
 7997                        		__ld.umq	__anim_OBJECTS_end - 1  /* i */
         11:DC0D  AD 2D 2C   			lda	__anim_OBJECTS_end - 1
 7998                        		__ult_b.umq	_onscreen_object_number
         11:DC10  CD 3A 23   			cmp	_onscreen_object_number		; Subtract memory from A.
         11:DC13  6A         			ror	a		; CC if A < memory.
         11:DC14  49 80      			eor	#$80
         11:DC16  2A         			rol	a
 7999                        		__btrue		.LL314
         11:DC17  B0 08      			bcs	.LL314
 8000                        		__bra		.LL315
         11:DC19  4C A7 DF   			bra	.LL315
 8001    11:DC1C             	.LL313:
 8002                        		__inc.umq	__anim_OBJECTS_end - 1  /* i */
         11:DC1C  EE 2D 2C   			inc	__anim_OBJECTS_end - 1
 8003                        		__bra		.LL312
         11:DC1F  80 EC      			bra	.LL312
 8004    11:DC21             	.LL314:
 8005                        	
 8006                        		.dbg	line,	"include\routines_LEVELS.c", 605; {
 8007                        	
 8008                        		.dbg	line,	"include\routines_LEVELS.c", 606; // RETRIEVE OBJECT INDEX IN THE LIST //
 8009                        	
 8010                        		.dbg	line,	"include\routines_LEVELS.c", 607; current_object_id = list_onscreen_object[i];
 8011                        		__ldx.umq	__anim_OBJECTS_end - 1  /* i */
         11:DC21  AE 2D 2C   			ldx	__anim_OBJECTS_end - 1
 8012                        		__ld.uax	_list_onscreen_object
         11:DC24  BD B8 23   			lda	_list_onscreen_object, x
         11:DC27  C2         			cly
 8013                        		__st.umq	__anim_OBJECTS_end - 2  /* current_object_id */
         11:DC28  8D 2C 2C   			sta	__anim_OBJECTS_end - 2
 8014                        	
 8015                        		.dbg	line,	"include\routines_LEVELS.c", 609; // IF POT HAS BEEN HIT BY THE WEAPON //
 8016                        	
 8017                        		.dbg	line,	"include\routines_LEVELS.c", 610; if(list_object_state[current_object_id] == STATE_HIT)
 8018                        		__ldx.umq	__anim_OBJECTS_end - 2  /* current_object_id */
         11:DC2B  AE 2C 2C   			ldx	__anim_OBJECTS_end - 2
 8019                        		__ld.uaxq	_list_object_state
         11:DC2E  BD 54 23   			lda	_list_object_state, x
 8020                        		__equ_b.uiq	2
         11:DC31  C9 02      			cmp	#2
         11:DC33  F0 01      			beq	!+
         11:DC35  18         			clc
         11:DC36             	!:
 8021                        		__bfalse	.LL316
         11:DC36  90 E4      			bcc	.LL316
 8022                        	
 8023                        		.dbg	line,	"include\routines_LEVELS.c", 611; {
 8024                        	
 8025                        		.dbg	line,	"include\routines_LEVELS.c", 612; // SELECT POT SPRITE //
 8026                        	
 8027                        		.dbg	line,	"include\routines_LEVELS.c", 613; sgx_spr_set(current_object_id + object_start_index);
 8028                        		__ld.um		__anim_OBJECTS_end - 2  /* current_object_id */
         11:DC38  AD 2C 2C   			lda	__anim_OBJECTS_end - 2
         11:DC3B  C2         			cly
 8029                        		__add.um	_object_start_index
         11:DC3C  18         			clc
         11:DC3D  6D 38 23   			adc	_object_start_index
         11:DC40  90 01      			bcc	!+
         11:DC42  C8         			iny
         11:DC43             	!:
 8030                        		__call		_sgx_spr_set.1
         11:DC43  20 9E E8   			call	_sgx_spr_set.1
 8031                        	
 8032                        		.dbg	line,	"include\routines_LEVELS.c", 614; 
 8033                        	
 8034                        		.dbg	line,	"include\routines_LEVELS.c", 615; // CHECK OBJECT ENERGY //
 8035                        	
 8036                        		.dbg	line,	"include\routines_LEVELS.c", 616; if(list_object_energy[current_object_id] == 0)
 8037                        		__ldx.umq	__anim_OBJECTS_end - 2  /* current_object_id */
         11:DC46  AE 2C 2C   			ldx	__anim_OBJECTS_end - 2
 8038                        		__not.uax	_list_object_energy
         11:DC49  BD 6D 23   			lda	_list_object_energy, x
         11:DC4C  18         			clc
         11:DC4D  D0 01      			bne	!+
         11:DC4F  38         			sec
         11:DC50             	!:
 8039                        		__bfalse	.LL317
         11:DC50  B0 03 4C 05			bcc	.LL317
         11:DC54  DF          
 8040                        	
 8041                        		.dbg	line,	"include\routines_LEVELS.c", 617; {
 8042                        	
 8043                        		.dbg	line,	"include\routines_LEVELS.c", 618; if(list_object_counter[current_object_id] == 0)
 8044                        		__ldx.umq	__anim_OBJECTS_end - 2  /* current_object_id */
         11:DC55  AE 2C 2C   			ldx	__anim_OBJECTS_end - 2
 8045                        		__not.uax	_list_object_counter
         11:DC58  BD 9F 23   			lda	_list_object_counter, x
         11:DC5B  18         			clc
         11:DC5C  D0 01      			bne	!+
         11:DC5E  38         			sec
         11:DC5F             	!:
 8046                        		__bfalse	.LL318
         11:DC5F  90 1B      			bcc	.LL318
 8047                        	
 8048                        		.dbg	line,	"include\routines_LEVELS.c", 619; {
 8049                        	
 8050                        		.dbg	line,	"include\routines_LEVELS.c", 620; object_pos_y = sgx_spr_get_y();
 8051                        		__call		_sgx_spr_get_y
         11:DC61  20 3C E9   			call	_sgx_spr_get_y
 8052                        		__st.wmq	__anim_OBJECTS_end - 4  /* object_pos_y */
         11:DC64  8D 2A 2C   			sta.l	__anim_OBJECTS_end - 4
         11:DC67  8C 2B 2C   			sty.h	__anim_OBJECTS_end - 4
 8053                        	
 8054                        		.dbg	line,	"include\routines_LEVELS.c", 621; sgx_spr_y(object_pos_y - 1);
 8055                        		__ld.wm		__anim_OBJECTS_end - 4  /* object_pos_y */
         11:DC6A  AD 2A 2C   			lda.l	__anim_OBJECTS_end - 4
         11:DC6D  AC 2B 2C   			ldy.h	__anim_OBJECTS_end - 4
 8056                        		__sub.wi	1
         11:DC70  38         			sec
         11:DC71  E9 01      			sbc.l	#1
         11:DC73  B0 01      			bcs	!+
         11:DC75  88         			dey
         11:DC76             	!:
 8057                        		__call		_sgx_spr_y.1
         11:DC76  20 DA E8   			call	_sgx_spr_y.1
 8058                        	
 8059                        		.dbg	line,	"include\routines_LEVELS.c", 622; }
 8060                        	
 8061                        		.dbg	line,	"include\routines_LEVELS.c", 624; else if(list_object_counter[current_object_id] == 1)
 8062                        		__bra		.LL319
         11:DC79  4C FC DE   			bra	.LL319
 8063    11:DC7C             	.LL318:
 8064                        		__ldx.umq	__anim_OBJECTS_end - 2  /* current_object_id */
         11:DC7C  AE 2C 2C   			ldx	__anim_OBJECTS_end - 2
 8065                        		__ld.uaxq	_list_object_counter
         11:DC7F  BD 9F 23   			lda	_list_object_counter, x
 8066                        		__equ_b.uiq	1
         11:DC82  C9 01      			cmp	#1
         11:DC84  F0 01      			beq	!+
         11:DC86  18         			clc
         11:DC87             	!:
 8067                        		__bfalse	.LL320
         11:DC87  90 1B      			bcc	.LL320
 8068                        	
 8069                        		.dbg	line,	"include\routines_LEVELS.c", 625; {
 8070                        	
 8071                        		.dbg	line,	"include\routines_LEVELS.c", 626; object_pos_y = sgx_spr_get_y();
 8072                        		__call		_sgx_spr_get_y
         11:DC89  20 3C E9   			call	_sgx_spr_get_y
 8073                        		__st.wmq	__anim_OBJECTS_end - 4  /* object_pos_y */
         11:DC8C  8D 2A 2C   			sta.l	__anim_OBJECTS_end - 4
         11:DC8F  8C 2B 2C   			sty.h	__anim_OBJECTS_end - 4
 8074                        	
 8075                        		.dbg	line,	"include\routines_LEVELS.c", 627; sgx_spr_y(object_pos_y - 2);
 8076                        		__ld.wm		__anim_OBJECTS_end - 4  /* object_pos_y */
         11:DC92  AD 2A 2C   			lda.l	__anim_OBJECTS_end - 4
         11:DC95  AC 2B 2C   			ldy.h	__anim_OBJECTS_end - 4
 8077                        		__sub.wi	2
         11:DC98  38         			sec
         11:DC99  E9 02      			sbc.l	#2
         11:DC9B  B0 01      			bcs	!+
         11:DC9D  88         			dey
         11:DC9E             	!:
 8078                        		__call		_sgx_spr_y.1
         11:DC9E  20 DA E8   			call	_sgx_spr_y.1
 8079                        	
 8080                        		.dbg	line,	"include\routines_LEVELS.c", 628; }
 8081                        	
 8082                        		.dbg	line,	"include\routines_LEVELS.c", 630; else if(list_object_counter[current_object_id] == 2)
 8083                        		__bra		.LL321
         11:DCA1  4C FC DE   			bra	.LL321
 8084    11:DCA4             	.LL320:
 8085                        		__ldx.umq	__anim_OBJECTS_end - 2  /* current_object_id */
         11:DCA4  AE 2C 2C   			ldx	__anim_OBJECTS_end - 2
 8086                        		__ld.uaxq	_list_object_counter
         11:DCA7  BD 9F 23   			lda	_list_object_counter, x
 8087                        		__equ_b.uiq	2
         11:DCAA  C9 02      			cmp	#2
         11:DCAC  F0 01      			beq	!+
         11:DCAE  18         			clc
         11:DCAF             	!:
 8088                        		__bfalse	.LL322
         11:DCAF  90 1B      			bcc	.LL322
 8089                        	
 8090                        		.dbg	line,	"include\routines_LEVELS.c", 631; {
 8091                        	
 8092                        		.dbg	line,	"include\routines_LEVELS.c", 632; object_pos_y = sgx_spr_get_y();
 8093                        		__call		_sgx_spr_get_y
         11:DCB1  20 3C E9   			call	_sgx_spr_get_y
 8094                        		__st.wmq	__anim_OBJECTS_end - 4  /* object_pos_y */
         11:DCB4  8D 2A 2C   			sta.l	__anim_OBJECTS_end - 4
         11:DCB7  8C 2B 2C   			sty.h	__anim_OBJECTS_end - 4
 8095                        	
 8096                        		.dbg	line,	"include\routines_LEVELS.c", 633; sgx_spr_y(object_pos_y - 1);
 8097                        		__ld.wm		__anim_OBJECTS_end - 4  /* object_pos_y */
         11:DCBA  AD 2A 2C   			lda.l	__anim_OBJECTS_end - 4
         11:DCBD  AC 2B 2C   			ldy.h	__anim_OBJECTS_end - 4
 8098                        		__sub.wi	1
         11:DCC0  38         			sec
         11:DCC1  E9 01      			sbc.l	#1
         11:DCC3  B0 01      			bcs	!+
         11:DCC5  88         			dey
         11:DCC6             	!:
 8099                        		__call		_sgx_spr_y.1
         11:DCC6  20 DA E8   			call	_sgx_spr_y.1
 8100                        	
 8101                        		.dbg	line,	"include\routines_LEVELS.c", 634; }
 8102                        	
 8103                        		.dbg	line,	"include\routines_LEVELS.c", 636; else if(list_object_counter[current_object_id] == 8)
 8104                        		__bra		.LL323
         11:DCC9  4C FC DE   			bra	.LL323
 8105    11:DCCC             	.LL322:
 8106                        		__ldx.umq	__anim_OBJECTS_end - 2  /* current_object_id */
         11:DCCC  AE 2C 2C   			ldx	__anim_OBJECTS_end - 2
 8107                        		__ld.uaxq	_list_object_counter
         11:DCCF  BD 9F 23   			lda	_list_object_counter, x
 8108                        		__equ_b.uiq	8
         11:DCD2  C9 08      			cmp	#8
         11:DCD4  F0 01      			beq	!+
         11:DCD6  18         			clc
         11:DCD7             	!:
 8109                        		__bfalse	.LL324
         11:DCD7  90 27      			bcc	.LL324
 8110                        	
 8111                        		.dbg	line,	"include\routines_LEVELS.c", 637; {
 8112                        	
 8113                        		.dbg	line,	"include\routines_LEVELS.c", 638; sgx_spr_pal(18);
 8114                        		__ld.uiq	18
         11:DCD9  A9 12      			lda	#18
 8115                        		__call		_sgx_spr_pal.1
         11:DCDB  20 0E E9   			call	_sgx_spr_pal.1
 8116                        	
 8117                        		.dbg	line,	"include\routines_LEVELS.c", 639; sgx_spr_pattern(*(ptr_REWARD_VRAM_ADR+current_object_id));
 8118                        		__ld.um		__anim_OBJECTS_end - 2  /* current_object_id */
         11:DCDE  AD 2C 2C   			lda	__anim_OBJECTS_end - 2
         11:DCE1  C2         			cly
 8119                        		__asl.wr
         11:DCE2  0A         			asl	a
         11:DCE3  42         			say
         11:DCE4  2A         			rol	a
         11:DCE5  42         			say
 8120                        		__add.wm	_ptr_REWARD_VRAM_ADR
         11:DCE6  18         			clc
         11:DCE7  6D 9C 26   			adc.l	_ptr_REWARD_VRAM_ADR
         11:DCEA  42         			say
         11:DCEB  6D 9D 26   			adc.h	_ptr_REWARD_VRAM_ADR
         11:DCEE  42         			say
 8121                        		__st.wm		__ptr
         11:DCEF  85 88      			sta.l	__ptr
         11:DCF1  84 89      			sty.h	__ptr
 8122                        		__ld.wp		__ptr
         11:DCF3  A0 01      			ldy	#1
         11:DCF5  B1 88      			lda	[__ptr], y
         11:DCF7  A8         			tay
         11:DCF8  B2 88      			lda	[__ptr]
 8123                        		__call		_sgx_spr_pattern.1
         11:DCFA  20 E7 E8   			call	_sgx_spr_pattern.1
 8124                        	
 8125                        		.dbg	line,	"include\routines_LEVELS.c", 640; }
 8126                        	
 8127                        		.dbg	line,	"include\routines_LEVELS.c", 642; else if(list_object_counter[current_object_id] == 9)
 8128                        		__bra		.LL325
         11:DCFD  4C FC DE   			bra	.LL325
 8129    11:DD00             	.LL324:
 8130                        		__ldx.umq	__anim_OBJECTS_end - 2  /* current_object_id */
         11:DD00  AE 2C 2C   			ldx	__anim_OBJECTS_end - 2
 8131                        		__ld.uaxq	_list_object_counter
         11:DD03  BD 9F 23   			lda	_list_object_counter, x
 8132                        		__equ_b.uiq	9
         11:DD06  C9 09      			cmp	#9
         11:DD08  F0 01      			beq	!+
         11:DD0A  18         			clc
         11:DD0B             	!:
 8133                        		__bfalse	.LL326
         11:DD0B  90 0F      			bcc	.LL326
 8134                        	
 8135                        		.dbg	line,	"include\routines_LEVELS.c", 643; {
 8136                        	
 8137                        		.dbg	line,	"include\routines_LEVELS.c", 644; sgx_spr_pal(17);
 8138                        		__ld.uiq	17
         11:DD0D  A9 11      			lda	#17
 8139                        		__call		_sgx_spr_pal.1
         11:DD0F  20 0E E9   			call	_sgx_spr_pal.1
 8140                        	
 8141                        		.dbg	line,	"include\routines_LEVELS.c", 645; sgx_spr_pattern(POT3_VRAM_ADR);
 8142                        		__ld.wi		26752
         11:DD12  A9 80      			lda.l	#26752
         11:DD14  A0 68      			ldy.h	#26752
 8143                        		__call		_sgx_spr_pattern.1
         11:DD16  20 E7 E8   			call	_sgx_spr_pattern.1
 8144                        	
 8145                        		.dbg	line,	"include\routines_LEVELS.c", 646; }
 8146                        	
 8147                        		.dbg	line,	"include\routines_LEVELS.c", 648; else if(list_object_counter[current_object_id] == 13)
 8148                        		__bra		.LL327
         11:DD19  4C FC DE   			bra	.LL327
 8149    11:DD1C             	.LL326:
 8150                        		__ldx.umq	__anim_OBJECTS_end - 2  /* current_object_id */
         11:DD1C  AE 2C 2C   			ldx	__anim_OBJECTS_end - 2
 8151                        		__ld.uaxq	_list_object_counter
         11:DD1F  BD 9F 23   			lda	_list_object_counter, x
 8152                        		__equ_b.uiq	13
         11:DD22  C9 0D      			cmp	#13
         11:DD24  F0 01      			beq	!+
         11:DD26  18         			clc
         11:DD27             	!:
 8153                        		__bfalse	.LL328
         11:DD27  90 27      			bcc	.LL328
 8154                        	
 8155                        		.dbg	line,	"include\routines_LEVELS.c", 649; {
 8156                        	
 8157                        		.dbg	line,	"include\routines_LEVELS.c", 650; sgx_spr_pal(18);
 8158                        		__ld.uiq	18
         11:DD29  A9 12      			lda	#18
 8159                        		__call		_sgx_spr_pal.1
         11:DD2B  20 0E E9   			call	_sgx_spr_pal.1
 8160                        	
 8161                        		.dbg	line,	"include\routines_LEVELS.c", 651; sgx_spr_pattern(*(ptr_REWARD_VRAM_ADR+current_object_id));
 8162                        		__ld.um		__anim_OBJECTS_end - 2  /* current_object_id */
         11:DD2E  AD 2C 2C   			lda	__anim_OBJECTS_end - 2
         11:DD31  C2         			cly
 8163                        		__asl.wr
         11:DD32  0A         			asl	a
         11:DD33  42         			say
         11:DD34  2A         			rol	a
         11:DD35  42         			say
 8164                        		__add.wm	_ptr_REWARD_VRAM_ADR
         11:DD36  18         			clc
         11:DD37  6D 9C 26   			adc.l	_ptr_REWARD_VRAM_ADR
         11:DD3A  42         			say
         11:DD3B  6D 9D 26   			adc.h	_ptr_REWARD_VRAM_ADR
         11:DD3E  42         			say
 8165                        		__st.wm		__ptr
         11:DD3F  85 88      			sta.l	__ptr
         11:DD41  84 89      			sty.h	__ptr
 8166                        		__ld.wp		__ptr
         11:DD43  A0 01      			ldy	#1
         11:DD45  B1 88      			lda	[__ptr], y
         11:DD47  A8         			tay
         11:DD48  B2 88      			lda	[__ptr]
 8167                        		__call		_sgx_spr_pattern.1
         11:DD4A  20 E7 E8   			call	_sgx_spr_pattern.1
 8168                        	
 8169                        		.dbg	line,	"include\routines_LEVELS.c", 652; }
 8170                        	
 8171                        		.dbg	line,	"include\routines_LEVELS.c", 654; else if(list_object_counter[current_object_id] == 14)
 8172                        		__bra		.LL329
         11:DD4D  4C FC DE   			bra	.LL329
 8173    11:DD50             	.LL328:
 8174                        		__ldx.umq	__anim_OBJECTS_end - 2  /* current_object_id */
         11:DD50  AE 2C 2C   			ldx	__anim_OBJECTS_end - 2
 8175                        		__ld.uaxq	_list_object_counter
         11:DD53  BD 9F 23   			lda	_list_object_counter, x
 8176                        		__equ_b.uiq	14
         11:DD56  C9 0E      			cmp	#14
         11:DD58  F0 01      			beq	!+
         11:DD5A  18         			clc
         11:DD5B             	!:
 8177                        		__bfalse	.LL330
         11:DD5B  90 0F      			bcc	.LL330
 8178                        	
 8179                        		.dbg	line,	"include\routines_LEVELS.c", 655; {
 8180                        	
 8181                        		.dbg	line,	"include\routines_LEVELS.c", 656; sgx_spr_pal(17);
 8182                        		__ld.uiq	17
         11:DD5D  A9 11      			lda	#17
 8183                        		__call		_sgx_spr_pal.1
         11:DD5F  20 0E E9   			call	_sgx_spr_pal.1
 8184                        	
 8185                        		.dbg	line,	"include\routines_LEVELS.c", 657; sgx_spr_pattern(POT4_VRAM_ADR);
 8186                        		__ld.wi		26816
         11:DD62  A9 C0      			lda.l	#26816
         11:DD64  A0 68      			ldy.h	#26816
 8187                        		__call		_sgx_spr_pattern.1
         11:DD66  20 E7 E8   			call	_sgx_spr_pattern.1
 8188                        	
 8189                        		.dbg	line,	"include\routines_LEVELS.c", 658; }
 8190                        	
 8191                        		.dbg	line,	"include\routines_LEVELS.c", 660; else if(list_object_counter[current_object_id] == 18)
 8192                        		__bra		.LL331
         11:DD69  4C FC DE   			bra	.LL331
 8193    11:DD6C             	.LL330:
 8194                        		__ldx.umq	__anim_OBJECTS_end - 2  /* current_object_id */
         11:DD6C  AE 2C 2C   			ldx	__anim_OBJECTS_end - 2
 8195                        		__ld.uaxq	_list_object_counter
         11:DD6F  BD 9F 23   			lda	_list_object_counter, x
 8196                        		__equ_b.uiq	18
         11:DD72  C9 12      			cmp	#18
         11:DD74  F0 01      			beq	!+
         11:DD76  18         			clc
         11:DD77             	!:
 8197                        		__bfalse	.LL332
         11:DD77  90 27      			bcc	.LL332
 8198                        	
 8199                        		.dbg	line,	"include\routines_LEVELS.c", 661; {
 8200                        	
 8201                        		.dbg	line,	"include\routines_LEVELS.c", 662; sgx_spr_pal(18);
 8202                        		__ld.uiq	18
         11:DD79  A9 12      			lda	#18
 8203                        		__call		_sgx_spr_pal.1
         11:DD7B  20 0E E9   			call	_sgx_spr_pal.1
 8204                        	
 8205                        		.dbg	line,	"include\routines_LEVELS.c", 663; sgx_spr_pattern(*(ptr_REWARD_VRAM_ADR+current_object_id));
 8206                        		__ld.um		__anim_OBJECTS_end - 2  /* current_object_id */
         11:DD7E  AD 2C 2C   			lda	__anim_OBJECTS_end - 2
         11:DD81  C2         			cly
 8207                        		__asl.wr
         11:DD82  0A         			asl	a
         11:DD83  42         			say
         11:DD84  2A         			rol	a
         11:DD85  42         			say
 8208                        		__add.wm	_ptr_REWARD_VRAM_ADR
         11:DD86  18         			clc
         11:DD87  6D 9C 26   			adc.l	_ptr_REWARD_VRAM_ADR
         11:DD8A  42         			say
         11:DD8B  6D 9D 26   			adc.h	_ptr_REWARD_VRAM_ADR
         11:DD8E  42         			say
 8209                        		__st.wm		__ptr
         11:DD8F  85 88      			sta.l	__ptr
         11:DD91  84 89      			sty.h	__ptr
 8210                        		__ld.wp		__ptr
         11:DD93  A0 01      			ldy	#1
         11:DD95  B1 88      			lda	[__ptr], y
         11:DD97  A8         			tay
         11:DD98  B2 88      			lda	[__ptr]
 8211                        		__call		_sgx_spr_pattern.1
         11:DD9A  20 E7 E8   			call	_sgx_spr_pattern.1
 8212                        	
 8213                        		.dbg	line,	"include\routines_LEVELS.c", 664; }
 8214                        	
 8215                        		.dbg	line,	"include\routines_LEVELS.c", 666; else if(list_object_counter[current_object_id] == 19)
 8216                        		__bra		.LL333
         11:DD9D  4C FC DE   			bra	.LL333
 8217    11:DDA0             	.LL332:
 8218                        		__ldx.umq	__anim_OBJECTS_end - 2  /* current_object_id */
         11:DDA0  AE 2C 2C   			ldx	__anim_OBJECTS_end - 2
 8219                        		__ld.uaxq	_list_object_counter
         11:DDA3  BD 9F 23   			lda	_list_object_counter, x
 8220                        		__equ_b.uiq	19
         11:DDA6  C9 13      			cmp	#19
         11:DDA8  F0 01      			beq	!+
         11:DDAA  18         			clc
         11:DDAB             	!:
 8221                        		__bfalse	.LL334
         11:DDAB  90 0E      			bcc	.LL334
 8222                        	
 8223                        		.dbg	line,	"include\routines_LEVELS.c", 667; {
 8224                        	
 8225                        		.dbg	line,	"include\routines_LEVELS.c", 668; sgx_spr_pal(17);
 8226                        		__ld.uiq	17
         11:DDAD  A9 11      			lda	#17
 8227                        		__call		_sgx_spr_pal.1
         11:DDAF  20 0E E9   			call	_sgx_spr_pal.1
 8228                        	
 8229                        		.dbg	line,	"include\routines_LEVELS.c", 669; sgx_spr_pattern(POT5_VRAM_ADR);
 8230                        		__ld.wi		26880
         11:DDB2  62         			cla
         11:DDB3  A0 69      			ldy.h	#26880
 8231                        		__call		_sgx_spr_pattern.1
         11:DDB5  20 E7 E8   			call	_sgx_spr_pattern.1
 8232                        	
 8233                        		.dbg	line,	"include\routines_LEVELS.c", 670; }
 8234                        	
 8235                        		.dbg	line,	"include\routines_LEVELS.c", 672; else if(list_object_counter[current_object_id] == 23)
 8236                        		__bra		.LL335
         11:DDB8  4C FC DE   			bra	.LL335
 8237    11:DDBB             	.LL334:
 8238                        		__ldx.umq	__anim_OBJECTS_end - 2  /* current_object_id */
         11:DDBB  AE 2C 2C   			ldx	__anim_OBJECTS_end - 2
 8239                        		__ld.uaxq	_list_object_counter
         11:DDBE  BD 9F 23   			lda	_list_object_counter, x
 8240                        		__equ_b.uiq	23
         11:DDC1  C9 17      			cmp	#23
         11:DDC3  F0 01      			beq	!+
         11:DDC5  18         			clc
         11:DDC6             	!:
 8241                        		__bfalse	.LL336
         11:DDC6  90 27      			bcc	.LL336
 8242                        	
 8243                        		.dbg	line,	"include\routines_LEVELS.c", 673; {
 8244                        	
 8245                        		.dbg	line,	"include\routines_LEVELS.c", 674; sgx_spr_pal(18);
 8246                        		__ld.uiq	18
         11:DDC8  A9 12      			lda	#18
 8247                        		__call		_sgx_spr_pal.1
         11:DDCA  20 0E E9   			call	_sgx_spr_pal.1
 8248                        	
 8249                        		.dbg	line,	"include\routines_LEVELS.c", 675; sgx_spr_pattern(*(ptr_REWARD_VRAM_ADR+current_object_id));
 8250                        		__ld.um		__anim_OBJECTS_end - 2  /* current_object_id */
         11:DDCD  AD 2C 2C   			lda	__anim_OBJECTS_end - 2
         11:DDD0  C2         			cly
 8251                        		__asl.wr
         11:DDD1  0A         			asl	a
         11:DDD2  42         			say
         11:DDD3  2A         			rol	a
         11:DDD4  42         			say
 8252                        		__add.wm	_ptr_REWARD_VRAM_ADR
         11:DDD5  18         			clc
         11:DDD6  6D 9C 26   			adc.l	_ptr_REWARD_VRAM_ADR
         11:DDD9  42         			say
         11:DDDA  6D 9D 26   			adc.h	_ptr_REWARD_VRAM_ADR
         11:DDDD  42         			say
 8253                        		__st.wm		__ptr
         11:DDDE  85 88      			sta.l	__ptr
         11:DDE0  84 89      			sty.h	__ptr
 8254                        		__ld.wp		__ptr
         11:DDE2  A0 01      			ldy	#1
         11:DDE4  B1 88      			lda	[__ptr], y
         11:DDE6  A8         			tay
         11:DDE7  B2 88      			lda	[__ptr]
 8255                        		__call		_sgx_spr_pattern.1
         11:DDE9  20 E7 E8   			call	_sgx_spr_pattern.1
 8256                        	
 8257                        		.dbg	line,	"include\routines_LEVELS.c", 676; }
 8258                        	
 8259                        		.dbg	line,	"include\routines_LEVELS.c", 678; else if(list_object_counter[current_object_id] == 24)
 8260                        		__bra		.LL337
         11:DDEC  4C FC DE   			bra	.LL337
 8261    11:DDEF             	.LL336:
 8262                        		__ldx.umq	__anim_OBJECTS_end - 2  /* current_object_id */
         11:DDEF  AE 2C 2C   			ldx	__anim_OBJECTS_end - 2
 8263                        		__ld.uaxq	_list_object_counter
         11:DDF2  BD 9F 23   			lda	_list_object_counter, x
 8264                        		__equ_b.uiq	24
         11:DDF5  C9 18      			cmp	#24
         11:DDF7  F0 01      			beq	!+
         11:DDF9  18         			clc
         11:DDFA             	!:
 8265                        		__bfalse	.LL338
         11:DDFA  90 0F      			bcc	.LL338
 8266                        	
 8267                        		.dbg	line,	"include\routines_LEVELS.c", 679; {
 8268                        	
 8269                        		.dbg	line,	"include\routines_LEVELS.c", 680; sgx_spr_pal(17);
 8270                        		__ld.uiq	17
         11:DDFC  A9 11      			lda	#17
 8271                        		__call		_sgx_spr_pal.1
         11:DDFE  20 0E E9   			call	_sgx_spr_pal.1
 8272                        	
 8273                        		.dbg	line,	"include\routines_LEVELS.c", 681; sgx_spr_pattern(POT6_VRAM_ADR);
 8274                        		__ld.wi		26944
         11:DE01  A9 40      			lda.l	#26944
         11:DE03  A0 69      			ldy.h	#26944
 8275                        		__call		_sgx_spr_pattern.1
         11:DE05  20 E7 E8   			call	_sgx_spr_pattern.1
 8276                        	
 8277                        		.dbg	line,	"include\routines_LEVELS.c", 682; }
 8278                        	
 8279                        		.dbg	line,	"include\routines_LEVELS.c", 684; else if(list_object_counter[current_object_id] == 28)
 8280                        		__bra		.LL339
         11:DE08  4C FC DE   			bra	.LL339
 8281    11:DE0B             	.LL338:
 8282                        		__ldx.umq	__anim_OBJECTS_end - 2  /* current_object_id */
         11:DE0B  AE 2C 2C   			ldx	__anim_OBJECTS_end - 2
 8283                        		__ld.uaxq	_list_object_counter
         11:DE0E  BD 9F 23   			lda	_list_object_counter, x
 8284                        		__equ_b.uiq	28
         11:DE11  C9 1C      			cmp	#28
         11:DE13  F0 01      			beq	!+
         11:DE15  18         			clc
         11:DE16             	!:
 8285                        		__bfalse	.LL340
         11:DE16  90 27      			bcc	.LL340
 8286                        	
 8287                        		.dbg	line,	"include\routines_LEVELS.c", 685; {
 8288                        	
 8289                        		.dbg	line,	"include\routines_LEVELS.c", 686; sgx_spr_pal(18);
 8290                        		__ld.uiq	18
         11:DE18  A9 12      			lda	#18
 8291                        		__call		_sgx_spr_pal.1
         11:DE1A  20 0E E9   			call	_sgx_spr_pal.1
 8292                        	
 8293                        		.dbg	line,	"include\routines_LEVELS.c", 687; sgx_spr_pattern(*(ptr_REWARD_VRAM_ADR+current_object_id));
 8294                        		__ld.um		__anim_OBJECTS_end - 2  /* current_object_id */
         11:DE1D  AD 2C 2C   			lda	__anim_OBJECTS_end - 2
         11:DE20  C2         			cly
 8295                        		__asl.wr
         11:DE21  0A         			asl	a
         11:DE22  42         			say
         11:DE23  2A         			rol	a
         11:DE24  42         			say
 8296                        		__add.wm	_ptr_REWARD_VRAM_ADR
         11:DE25  18         			clc
         11:DE26  6D 9C 26   			adc.l	_ptr_REWARD_VRAM_ADR
         11:DE29  42         			say
         11:DE2A  6D 9D 26   			adc.h	_ptr_REWARD_VRAM_ADR
         11:DE2D  42         			say
 8297                        		__st.wm		__ptr
         11:DE2E  85 88      			sta.l	__ptr
         11:DE30  84 89      			sty.h	__ptr
 8298                        		__ld.wp		__ptr
         11:DE32  A0 01      			ldy	#1
         11:DE34  B1 88      			lda	[__ptr], y
         11:DE36  A8         			tay
         11:DE37  B2 88      			lda	[__ptr]
 8299                        		__call		_sgx_spr_pattern.1
         11:DE39  20 E7 E8   			call	_sgx_spr_pattern.1
 8300                        	
 8301                        		.dbg	line,	"include\routines_LEVELS.c", 688; }
 8302                        	
 8303                        		.dbg	line,	"include\routines_LEVELS.c", 690; else if(list_object_counter[current_object_id] == 29)
 8304                        		__bra		.LL341
         11:DE3C  4C FC DE   			bra	.LL341
 8305    11:DE3F             	.LL340:
 8306                        		__ldx.umq	__anim_OBJECTS_end - 2  /* current_object_id */
         11:DE3F  AE 2C 2C   			ldx	__anim_OBJECTS_end - 2
 8307                        		__ld.uaxq	_list_object_counter
         11:DE42  BD 9F 23   			lda	_list_object_counter, x
 8308                        		__equ_b.uiq	29
         11:DE45  C9 1D      			cmp	#29
         11:DE47  F0 01      			beq	!+
         11:DE49  18         			clc
         11:DE4A             	!:
 8309                        		__bfalse	.LL342
         11:DE4A  90 0F      			bcc	.LL342
 8310                        	
 8311                        		.dbg	line,	"include\routines_LEVELS.c", 691; {
 8312                        	
 8313                        		.dbg	line,	"include\routines_LEVELS.c", 692; sgx_spr_pal(17);
 8314                        		__ld.uiq	17
         11:DE4C  A9 11      			lda	#17
 8315                        		__call		_sgx_spr_pal.1
         11:DE4E  20 0E E9   			call	_sgx_spr_pal.1
 8316                        	
 8317                        		.dbg	line,	"include\routines_LEVELS.c", 693; sgx_spr_pattern(POT7_VRAM_ADR);
 8318                        		__ld.wi		27008
         11:DE51  A9 80      			lda.l	#27008
         11:DE53  A0 69      			ldy.h	#27008
 8319                        		__call		_sgx_spr_pattern.1
         11:DE55  20 E7 E8   			call	_sgx_spr_pattern.1
 8320                        	
 8321                        		.dbg	line,	"include\routines_LEVELS.c", 694; }
 8322                        	
 8323                        		.dbg	line,	"include\routines_LEVELS.c", 696; else if(list_object_counter[current_object_id] == 33)
 8324                        		__bra		.LL343
         11:DE58  4C FC DE   			bra	.LL343
 8325    11:DE5B             	.LL342:
 8326                        		__ldx.umq	__anim_OBJECTS_end - 2  /* current_object_id */
         11:DE5B  AE 2C 2C   			ldx	__anim_OBJECTS_end - 2
 8327                        		__ld.uaxq	_list_object_counter
         11:DE5E  BD 9F 23   			lda	_list_object_counter, x
 8328                        		__equ_b.uiq	33
         11:DE61  C9 21      			cmp	#33
         11:DE63  F0 01      			beq	!+
         11:DE65  18         			clc
         11:DE66             	!:
 8329                        		__bfalse	.LL344
         11:DE66  90 26      			bcc	.LL344
 8330                        	
 8331                        		.dbg	line,	"include\routines_LEVELS.c", 697; {
 8332                        	
 8333                        		.dbg	line,	"include\routines_LEVELS.c", 698; sgx_spr_pal(18);
 8334                        		__ld.uiq	18
         11:DE68  A9 12      			lda	#18
 8335                        		__call		_sgx_spr_pal.1
         11:DE6A  20 0E E9   			call	_sgx_spr_pal.1
 8336                        	
 8337                        		.dbg	line,	"include\routines_LEVELS.c", 699; sgx_spr_pattern(*(ptr_REWARD_VRAM_ADR+current_object_id));
 8338                        		__ld.um		__anim_OBJECTS_end - 2  /* current_object_id */
         11:DE6D  AD 2C 2C   			lda	__anim_OBJECTS_end - 2
         11:DE70  C2         			cly
 8339                        		__asl.wr
         11:DE71  0A         			asl	a
         11:DE72  42         			say
         11:DE73  2A         			rol	a
         11:DE74  42         			say
 8340                        		__add.wm	_ptr_REWARD_VRAM_ADR
         11:DE75  18         			clc
         11:DE76  6D 9C 26   			adc.l	_ptr_REWARD_VRAM_ADR
         11:DE79  42         			say
         11:DE7A  6D 9D 26   			adc.h	_ptr_REWARD_VRAM_ADR
         11:DE7D  42         			say
 8341                        		__st.wm		__ptr
         11:DE7E  85 88      			sta.l	__ptr
         11:DE80  84 89      			sty.h	__ptr
 8342                        		__ld.wp		__ptr
         11:DE82  A0 01      			ldy	#1
         11:DE84  B1 88      			lda	[__ptr], y
         11:DE86  A8         			tay
         11:DE87  B2 88      			lda	[__ptr]
 8343                        		__call		_sgx_spr_pattern.1
         11:DE89  20 E7 E8   			call	_sgx_spr_pattern.1
 8344                        	
 8345                        		.dbg	line,	"include\routines_LEVELS.c", 700; }
 8346                        	
 8347                        		.dbg	line,	"include\routines_LEVELS.c", 702; else if(list_object_counter[current_object_id] == 34)
 8348                        		__bra		.LL345
         11:DE8C  80 6E      			bra	.LL345
 8349    11:DE8E             	.LL344:
 8350                        		__ldx.umq	__anim_OBJECTS_end - 2  /* current_object_id */
         11:DE8E  AE 2C 2C   			ldx	__anim_OBJECTS_end - 2
 8351                        		__ld.uaxq	_list_object_counter
         11:DE91  BD 9F 23   			lda	_list_object_counter, x
 8352                        		__equ_b.uiq	34
         11:DE94  C9 22      			cmp	#34
         11:DE96  F0 01      			beq	!+
         11:DE98  18         			clc
         11:DE99             	!:
 8353                        		__bfalse	.LL346
         11:DE99  90 0E      			bcc	.LL346
 8354                        	
 8355                        		.dbg	line,	"include\routines_LEVELS.c", 703; {
 8356                        	
 8357                        		.dbg	line,	"include\routines_LEVELS.c", 704; sgx_spr_pal(17);
 8358                        		__ld.uiq	17
         11:DE9B  A9 11      			lda	#17
 8359                        		__call		_sgx_spr_pal.1
         11:DE9D  20 0E E9   			call	_sgx_spr_pal.1
 8360                        	
 8361                        		.dbg	line,	"include\routines_LEVELS.c", 705; sgx_spr_pattern(POT8_VRAM_ADR);
 8362                        		__ld.wi		27072
         11:DEA0  A9 C0      			lda.l	#27072
         11:DEA2  A0 69      			ldy.h	#27072
 8363                        		__call		_sgx_spr_pattern.1
         11:DEA4  20 E7 E8   			call	_sgx_spr_pattern.1
 8364                        	
 8365                        		.dbg	line,	"include\routines_LEVELS.c", 706; }
 8366                        	
 8367                        		.dbg	line,	"include\routines_LEVELS.c", 708; else if(list_object_counter[current_object_id] == 38)
 8368                        		__bra		.LL347
         11:DEA7  80 53      			bra	.LL347
 8369    11:DEA9             	.LL346:
 8370                        		__ldx.umq	__anim_OBJECTS_end - 2  /* current_object_id */
         11:DEA9  AE 2C 2C   			ldx	__anim_OBJECTS_end - 2
 8371                        		__ld.uaxq	_list_object_counter
         11:DEAC  BD 9F 23   			lda	_list_object_counter, x
 8372                        		__equ_b.uiq	38
         11:DEAF  C9 26      			cmp	#38
         11:DEB1  F0 01      			beq	!+
         11:DEB3  18         			clc
         11:DEB4             	!:
 8373                        		__bfalse	.LL348
         11:DEB4  90 46      			bcc	.LL348
 8374                        	
 8375                        		.dbg	line,	"include\routines_LEVELS.c", 709; {
 8376                        	
 8377                        		.dbg	line,	"include\routines_LEVELS.c", 710; sgx_spr_pal(18);
 8378                        		__ld.uiq	18
         11:DEB6  A9 12      			lda	#18
 8379                        		__call		_sgx_spr_pal.1
         11:DEB8  20 0E E9   			call	_sgx_spr_pal.1
 8380                        	
 8381                        		.dbg	line,	"include\routines_LEVELS.c", 711; sgx_spr_pattern(*(ptr_REWARD_VRAM_ADR+current_object_id));
 8382                        		__ld.um		__anim_OBJECTS_end - 2  /* current_object_id */
         11:DEBB  AD 2C 2C   			lda	__anim_OBJECTS_end - 2
         11:DEBE  C2         			cly
 8383                        		__asl.wr
         11:DEBF  0A         			asl	a
         11:DEC0  42         			say
         11:DEC1  2A         			rol	a
         11:DEC2  42         			say
 8384                        		__add.wm	_ptr_REWARD_VRAM_ADR
         11:DEC3  18         			clc
         11:DEC4  6D 9C 26   			adc.l	_ptr_REWARD_VRAM_ADR
         11:DEC7  42         			say
         11:DEC8  6D 9D 26   			adc.h	_ptr_REWARD_VRAM_ADR
         11:DECB  42         			say
 8385                        		__st.wm		__ptr
         11:DECC  85 88      			sta.l	__ptr
         11:DECE  84 89      			sty.h	__ptr
 8386                        		__ld.wp		__ptr
         11:DED0  A0 01      			ldy	#1
         11:DED2  B1 88      			lda	[__ptr], y
         11:DED4  A8         			tay
         11:DED5  B2 88      			lda	[__ptr]
 8387                        		__call		_sgx_spr_pattern.1
         11:DED7  20 E7 E8   			call	_sgx_spr_pattern.1
 8388                        	
 8389                        		.dbg	line,	"include\routines_LEVELS.c", 712; list_object_type[current_object_id] = *(ptr_REWARD_TYPE+current_object_id);
 8390                        		__ld.wm		_ptr_REWARD_TYPE
         11:DEDA  AD 9A 26   			lda.l	_ptr_REWARD_TYPE
         11:DEDD  AC 9B 26   			ldy.h	_ptr_REWARD_TYPE
 8391                        		__add.um	__anim_OBJECTS_end - 2  /* current_object_id */
         11:DEE0  18         			clc
         11:DEE1  6D 2C 2C   			adc	__anim_OBJECTS_end - 2
         11:DEE4  90 01      			bcc	!+
         11:DEE6  C8         			iny
         11:DEE7             	!:
 8392                        		__st.wm		__ptr
         11:DEE7  85 88      			sta.l	__ptr
         11:DEE9  84 89      			sty.h	__ptr
 8393                        		__ld.up		__ptr
         11:DEEB  B2 88      			lda	[__ptr]
         11:DEED  C2         			cly
 8394                        		__ldx.umq	__anim_OBJECTS_end - 2  /* current_object_id */
         11:DEEE  AE 2C 2C   			ldx	__anim_OBJECTS_end - 2
 8395                        		__st.uaxq	_list_object_type
         11:DEF1  9D 3B 23   			sta	_list_object_type, x
 8396                        	
 8397                        		.dbg	line,	"include\routines_LEVELS.c", 713; list_object_state[current_object_id] = STATE_DROPPED;
 8398                        		__ldx.umq	__anim_OBJECTS_end - 2  /* current_object_id */
         11:DEF4  AE 2C 2C   			ldx	__anim_OBJECTS_end - 2
 8399                        		__st.uaxiq	3, _list_object_state
         11:DEF7  A9 03      			lda.l	#3
         11:DEF9  9D 54 23   			sta	_list_object_state, x
 8400                        	
 8401                        		.dbg	line,	"include\routines_LEVELS.c", 714; }
 8402                        	
 8403                        		.dbg	line,	"include\routines_LEVELS.c", 716; list_object_counter[current_object_id] += 1;
 8404    11:DEFC             	.LL348:
 8405    11:DEFC             	.LL347:
 8406    11:DEFC             	.LL345:
 8407    11:DEFC             	.LL343:
 8408    11:DEFC             	.LL341:
 8409    11:DEFC             	.LL339:
 8410    11:DEFC             	.LL337:
 8411    11:DEFC             	.LL335:
 8412    11:DEFC             	.LL333:
 8413    11:DEFC             	.LL331:
 8414    11:DEFC             	.LL329:
 8415    11:DEFC             	.LL327:
 8416    11:DEFC             	.LL325:
 8417    11:DEFC             	.LL323:
 8418    11:DEFC             	.LL321:
 8419    11:DEFC             	.LL319:
 8420                        		__ldx.umq	__anim_OBJECTS_end - 2  /* current_object_id */
         11:DEFC  AE 2C 2C   			ldx	__anim_OBJECTS_end - 2
 8421                        		__add_st.uaxiq	1, _list_object_counter
         11:DEFF  FE 9F 23   			inc	_list_object_counter, x
 8422                        	
 8423                        		.dbg	line,	"include\routines_LEVELS.c", 717; }
 8424                        	
 8425                        		.dbg	line,	"include\routines_LEVELS.c", 718; 
 8426                        	
 8427                        		.dbg	line,	"include\routines_LEVELS.c", 720; else if(list_object_energy[current_object_id] == 1)
 8428                        		__bra		.LL349
         11:DF02  4C 1C DC   			bra	.LL349
 8429    11:DF05             	.LL317:
 8430                        		__ldx.umq	__anim_OBJECTS_end - 2  /* current_object_id */
         11:DF05  AE 2C 2C   			ldx	__anim_OBJECTS_end - 2
 8431                        		__ld.uaxq	_list_object_energy
         11:DF08  BD 6D 23   			lda	_list_object_energy, x
 8432                        		__equ_b.uiq	1
         11:DF0B  C9 01      			cmp	#1
         11:DF0D  F0 01      			beq	!+
         11:DF0F  18         			clc
         11:DF10             	!:
 8433                        		__bfalse	.LL350
         11:DF10  B0 03 4C 1C			bcc	.LL350
         11:DF14  DC          
 8434                        	
 8435                        		.dbg	line,	"include\routines_LEVELS.c", 721; {
 8436                        	
 8437                        		.dbg	line,	"include\routines_LEVELS.c", 722; if(list_object_counter[current_object_id] == 0)
 8438                        		__ldx.umq	__anim_OBJECTS_end - 2  /* current_object_id */
         11:DF15  AE 2C 2C   			ldx	__anim_OBJECTS_end - 2
 8439                        		__not.uax	_list_object_counter
         11:DF18  BD 9F 23   			lda	_list_object_counter, x
         11:DF1B  18         			clc
         11:DF1C  D0 01      			bne	!+
         11:DF1E  38         			sec
         11:DF1F             	!:
 8440                        		__bfalse	.LL351
         11:DF1F  90 1A      			bcc	.LL351
 8441                        	
 8442                        		.dbg	line,	"include\routines_LEVELS.c", 723; {
 8443                        	
 8444                        		.dbg	line,	"include\routines_LEVELS.c", 724; object_pos_y = sgx_spr_get_y();
 8445                        		__call		_sgx_spr_get_y
         11:DF21  20 3C E9   			call	_sgx_spr_get_y
 8446                        		__st.wmq	__anim_OBJECTS_end - 4  /* object_pos_y */
         11:DF24  8D 2A 2C   			sta.l	__anim_OBJECTS_end - 4
         11:DF27  8C 2B 2C   			sty.h	__anim_OBJECTS_end - 4
 8447                        	
 8448                        		.dbg	line,	"include\routines_LEVELS.c", 725; sgx_spr_y(object_pos_y - 1);
 8449                        		__ld.wm		__anim_OBJECTS_end - 4  /* object_pos_y */
         11:DF2A  AD 2A 2C   			lda.l	__anim_OBJECTS_end - 4
         11:DF2D  AC 2B 2C   			ldy.h	__anim_OBJECTS_end - 4
 8450                        		__sub.wi	1
         11:DF30  38         			sec
         11:DF31  E9 01      			sbc.l	#1
         11:DF33  B0 01      			bcs	!+
         11:DF35  88         			dey
         11:DF36             	!:
 8451                        		__call		_sgx_spr_y.1
         11:DF36  20 DA E8   			call	_sgx_spr_y.1
 8452                        	
 8453                        		.dbg	line,	"include\routines_LEVELS.c", 726; }
 8454                        	
 8455                        		.dbg	line,	"include\routines_LEVELS.c", 728; else if(list_object_counter[current_object_id] == 1)
 8456                        		__bra		.LL352
         11:DF39  80 63      			bra	.LL352
 8457    11:DF3B             	.LL351:
 8458                        		__ldx.umq	__anim_OBJECTS_end - 2  /* current_object_id */
         11:DF3B  AE 2C 2C   			ldx	__anim_OBJECTS_end - 2
 8459                        		__ld.uaxq	_list_object_counter
         11:DF3E  BD 9F 23   			lda	_list_object_counter, x
 8460                        		__equ_b.uiq	1
         11:DF41  C9 01      			cmp	#1
         11:DF43  F0 01      			beq	!+
         11:DF45  18         			clc
         11:DF46             	!:
 8461                        		__bfalse	.LL353
         11:DF46  90 1A      			bcc	.LL353
 8462                        	
 8463                        		.dbg	line,	"include\routines_LEVELS.c", 729; {
 8464                        	
 8465                        		.dbg	line,	"include\routines_LEVELS.c", 730; object_pos_y = sgx_spr_get_y();
 8466                        		__call		_sgx_spr_get_y
         11:DF48  20 3C E9   			call	_sgx_spr_get_y
 8467                        		__st.wmq	__anim_OBJECTS_end - 4  /* object_pos_y */
         11:DF4B  8D 2A 2C   			sta.l	__anim_OBJECTS_end - 4
         11:DF4E  8C 2B 2C   			sty.h	__anim_OBJECTS_end - 4
 8468                        	
 8469                        		.dbg	line,	"include\routines_LEVELS.c", 731; sgx_spr_y(object_pos_y - 2);
 8470                        		__ld.wm		__anim_OBJECTS_end - 4  /* object_pos_y */
         11:DF51  AD 2A 2C   			lda.l	__anim_OBJECTS_end - 4
         11:DF54  AC 2B 2C   			ldy.h	__anim_OBJECTS_end - 4
 8471                        		__sub.wi	2
         11:DF57  38         			sec
         11:DF58  E9 02      			sbc.l	#2
         11:DF5A  B0 01      			bcs	!+
         11:DF5C  88         			dey
         11:DF5D             	!:
 8472                        		__call		_sgx_spr_y.1
         11:DF5D  20 DA E8   			call	_sgx_spr_y.1
 8473                        	
 8474                        		.dbg	line,	"include\routines_LEVELS.c", 732; }
 8475                        	
 8476                        		.dbg	line,	"include\routines_LEVELS.c", 734; else if(list_object_counter[current_object_id] == 2)
 8477                        		__bra		.LL354
         11:DF60  80 3C      			bra	.LL354
 8478    11:DF62             	.LL353:
 8479                        		__ldx.umq	__anim_OBJECTS_end - 2  /* current_object_id */
         11:DF62  AE 2C 2C   			ldx	__anim_OBJECTS_end - 2
 8480                        		__ld.uaxq	_list_object_counter
         11:DF65  BD 9F 23   			lda	_list_object_counter, x
 8481                        		__equ_b.uiq	2
         11:DF68  C9 02      			cmp	#2
         11:DF6A  F0 01      			beq	!+
         11:DF6C  18         			clc
         11:DF6D             	!:
 8482                        		__bfalse	.LL355
         11:DF6D  90 1A      			bcc	.LL355
 8483                        	
 8484                        		.dbg	line,	"include\routines_LEVELS.c", 735; {
 8485                        	
 8486                        		.dbg	line,	"include\routines_LEVELS.c", 736; object_pos_y = sgx_spr_get_y();
 8487                        		__call		_sgx_spr_get_y
         11:DF6F  20 3C E9   			call	_sgx_spr_get_y
 8488                        		__st.wmq	__anim_OBJECTS_end - 4  /* object_pos_y */
         11:DF72  8D 2A 2C   			sta.l	__anim_OBJECTS_end - 4
         11:DF75  8C 2B 2C   			sty.h	__anim_OBJECTS_end - 4
 8489                        	
 8490                        		.dbg	line,	"include\routines_LEVELS.c", 737; sgx_spr_y(object_pos_y - 1);
 8491                        		__ld.wm		__anim_OBJECTS_end - 4  /* object_pos_y */
         11:DF78  AD 2A 2C   			lda.l	__anim_OBJECTS_end - 4
         11:DF7B  AC 2B 2C   			ldy.h	__anim_OBJECTS_end - 4
 8492                        		__sub.wi	1
         11:DF7E  38         			sec
         11:DF7F  E9 01      			sbc.l	#1
         11:DF81  B0 01      			bcs	!+
         11:DF83  88         			dey
         11:DF84             	!:
 8493                        		__call		_sgx_spr_y.1
         11:DF84  20 DA E8   			call	_sgx_spr_y.1
 8494                        	
 8495                        		.dbg	line,	"include\routines_LEVELS.c", 738; }
 8496                        	
 8497                        		.dbg	line,	"include\routines_LEVELS.c", 740; else if(list_object_counter[current_object_id] == 4)
 8498                        		__bra		.LL356
         11:DF87  80 15      			bra	.LL356
 8499    11:DF89             	.LL355:
 8500                        		__ldx.umq	__anim_OBJECTS_end - 2  /* current_object_id */
         11:DF89  AE 2C 2C   			ldx	__anim_OBJECTS_end - 2
 8501                        		__ld.uaxq	_list_object_counter
         11:DF8C  BD 9F 23   			lda	_list_object_counter, x
 8502                        		__equ_b.uiq	4
         11:DF8F  C9 04      			cmp	#4
         11:DF91  F0 01      			beq	!+
         11:DF93  18         			clc
         11:DF94             	!:
 8503                        		__bfalse	.LL357
         11:DF94  90 08      			bcc	.LL357
 8504                        	
 8505                        		.dbg	line,	"include\routines_LEVELS.c", 741; {
 8506                        	
 8507                        		.dbg	line,	"include\routines_LEVELS.c", 742; list_object_state[current_object_id] = STATE_ACTIVE;
 8508                        		__ldx.umq	__anim_OBJECTS_end - 2  /* current_object_id */
         11:DF96  AE 2C 2C   			ldx	__anim_OBJECTS_end - 2
 8509                        		__st.uaxiq	1, _list_object_state
         11:DF99  A9 01      			lda.l	#1
         11:DF9B  9D 54 23   			sta	_list_object_state, x
 8510                        	
 8511                        		.dbg	line,	"include\routines_LEVELS.c", 743; }
 8512                        	
 8513                        		.dbg	line,	"include\routines_LEVELS.c", 745; list_object_counter[current_object_id] += 1;
 8514    11:DF9E             	.LL357:
 8515    11:DF9E             	.LL356:
 8516    11:DF9E             	.LL354:
 8517    11:DF9E             	.LL352:
 8518                        		__ldx.umq	__anim_OBJECTS_end - 2  /* current_object_id */
         11:DF9E  AE 2C 2C   			ldx	__anim_OBJECTS_end - 2
 8519                        		__add_st.uaxiq	1, _list_object_counter
         11:DFA1  FE 9F 23   			inc	_list_object_counter, x
 8520                        	
 8521                        		.dbg	line,	"include\routines_LEVELS.c", 746; }
 8522                        	
 8523                        		.dbg	line,	"include\routines_LEVELS.c", 747; }
 8524    11:DFA4             	.LL350	.alias		.LL313
 8525    11:DFA4             	.LL349	.alias		.LL313
 8526                        	
 8527                        		.dbg	line,	"include\routines_LEVELS.c", 748; }
 8528    11:DFA4             	.LL316	.alias		.LL313
 8529                        		__bra		.LL313
         11:DFA4  4C 1C DC   			bra	.LL313
 8530    11:DFA7             	.LL315:
 8531                        	
 8532                        		.dbg	line,	"include\routines_LEVELS.c", 749; }
 8533                        	
 8534                        		.dbg	line,	"include\routines_LEVELS.c", 750; }
 8535    11:DFA7             	.LL311:
 8536    11:DFA7             	.LL310:
 8537                        		__return	0
         11:DFA7  4C EF FF   			jmp	leave_proc
 8538                        		.dbg	clear
 8539                        		.endp
 8540               2303     		.bss
 8541    F8:2303             	__anim_OBJECTS_end	.alias	leaf_stack
 8542               E31D     		.code
 8543                        		.pceas
 8544                        	
 8545                        		.dbg	line,	"include\routines_LEVELS.c", 758; void joypad_BUTTONS()
 8546                        		.dbg	line,	"include\routines_LEVELS.c", 759; {
 8547                        	;***********************
 8548                        	;***********************
 8549                        	
 8550                        		.hucc
 8551    1E:DA14             		.proc		_joypad_BUTTONS
 8552                        		__enter		_joypad_BUTTONS
 8553                        	
 8554                        		.dbg	line,	"include\routines_LEVELS.c", 760; // JUMP //
 8555                        	
 8556                        		.dbg	line,	"include\routines_LEVELS.c", 761; if(joytrg(JOYPAD_1) == JOY_I)
 8557                        		__ld.uiq	0
         1E:DA14  62         			cla
 8558                        		 _joytrg.1
         1E:DA15  AA         			tax
         1E:DA16  BD 2D 22   			lda	joytrg, x
         1E:DA19  BC DD 22   			ldy	joy6trg, x
 8559                        		__equ_w.wi	1
         1E:DA1C  C9 01      			cmp.l	#1
         1E:DA1E  D0 04      			bne	!false+
         1E:DA20  C0 00      			cpy.h	#1
         1E:DA22  F0 01      			beq	!+
         1E:DA24  18         	!false:		clc
         1E:DA25             	!:
 8560                        		__bfalse	.LL359
         1E:DA25  B0 03 4C D7			bcc	.LL359
         1E:DA29  DB          
 8561                        	
 8562                        		.dbg	line,	"include\routines_LEVELS.c", 762; {
 8563                        	
 8564                        		.dbg	line,	"include\routines_LEVELS.c", 763; if(player_state == STATE_IDLE)
 8565                        		__not.um	_player_state
         1E:DA2A  AD 1A 23   			lda	_player_state
         1E:DA2D  18         			clc
         1E:DA2E  D0 01      			bne	!+
         1E:DA30  38         			sec
         1E:DA31             	!:
 8566                        		__bfalse	.LL360
         1E:DA31  90 3E      			bcc	.LL360
 8567                        	
 8568                        		.dbg	line,	"include\routines_LEVELS.c", 764; {
 8569                        	
 8570                        		.dbg	line,	"include\routines_LEVELS.c", 765; hit_wall = FALSE;
 8571                        		__st.umiq	0, _hit_wall
         1E:DA33  9C 26 23   			stz	_hit_wall
 8572                        	
 8573                        		.dbg	line,	"include\routines_LEVELS.c", 766; 
 8574                        	
 8575                        		.dbg	line,	"include\routines_LEVELS.c", 767; player_counter_anim = 0;
 8576                        		__st.umiq	0, _player_counter_anim
         1E:DA36  9C 1D 23   			stz	_player_counter_anim
 8577                        	
 8578                        		.dbg	line,	"include\routines_LEVELS.c", 769; player_state = STATE_JUMP;
 8579                        		__st.umiq	4, _player_state
         1E:DA39  A9 04      			lda.l	#4
         1E:DA3B  8D 1A 23   			sta	_player_state
 8580                        	
 8581                        		.dbg	line,	"include\routines_LEVELS.c", 771; spr_set(weapon_id);
 8582                        		__ld.umq	_weapon_id
         1E:DA3E  AD 28 23   			lda	_weapon_id
 8583                        		__call		_spr_set.1
         1E:DA41  20 F1 E7   			call	_spr_set.1
 8584                        	
 8585                        		.dbg	line,	"include\routines_LEVELS.c", 772; 
 8586                        	
 8587                        		.dbg	line,	"include\routines_LEVELS.c", 773; if(player_axis == AXIS_RIGHT)
 8588                        		__not.um	_player_axis
         1E:DA44  AD 1B 23   			lda	_player_axis
         1E:DA47  18         			clc
         1E:DA48  D0 01      			bne	!+
         1E:DA4A  38         			sec
         1E:DA4B             	!:
 8589                        		__bfalse	.LL361
         1E:DA4B  90 12      			bcc	.LL361
 8590                        	
 8591                        		.dbg	line,	"include\routines_LEVELS.c", 774; {
 8592                        	
 8593                        		.dbg	line,	"include\routines_LEVELS.c", 775; spr_x(player_pos_x-5);
 8594                        		__ld.wm		_player_pos_x
         1E:DA4D  AD 01 25   			lda.l	_player_pos_x
         1E:DA50  AC 02 25   			ldy.h	_player_pos_x
 8595                        		__sub.wi	5
         1E:DA53  38         			sec
         1E:DA54  E9 05      			sbc.l	#5
         1E:DA56  B0 01      			bcs	!+
         1E:DA58  88         			dey
         1E:DA59             	!:
 8596                        		__call		_spr_x.1
         1E:DA59  20 1E E8   			call	_spr_x.1
 8597                        	
 8598                        		.dbg	line,	"include\routines_LEVELS.c", 776; }
 8599                        	
 8600                        		.dbg	line,	"include\routines_LEVELS.c", 778; else
 8601                        		__bra		.LL362
         1E:DA5C  4C A8 DC   			bra	.LL362
 8602    1E:DA5F             	.LL361:
 8603                        	
 8604                        		.dbg	line,	"include\routines_LEVELS.c", 779; {
 8605                        	
 8606                        		.dbg	line,	"include\routines_LEVELS.c", 780; spr_x(player_pos_x+21);
 8607                        		__ld.wm		_player_pos_x
         1E:DA5F  AD 01 25   			lda.l	_player_pos_x
         1E:DA62  AC 02 25   			ldy.h	_player_pos_x
 8608                        		__add.wi	21
         1E:DA65  18         			clc
         1E:DA66  69 15      			adc.l	#21
         1E:DA68  90 01      			bcc	!+
         1E:DA6A  C8         			iny
         1E:DA6B             	!:
 8609                        		__call		_spr_x.1
         1E:DA6B  20 1E E8   			call	_spr_x.1
 8610                        	
 8611                        		.dbg	line,	"include\routines_LEVELS.c", 781; }
 8612    1E:DA6E             	.LL362	.alias		.LL363
 8613                        	
 8614                        		.dbg	line,	"include\routines_LEVELS.c", 782; }
 8615                        	
 8616                        		.dbg	line,	"include\routines_LEVELS.c", 785; else if(player_state == STATE_WALK)
 8617                        		__bra		.LL363
         1E:DA6E  4C A8 DC   			bra	.LL363
 8618    1E:DA71             	.LL360:
 8619                        		__ld.umq	_player_state
         1E:DA71  AD 1A 23   			lda	_player_state
 8620                        		__equ_b.uiq	1
         1E:DA74  C9 01      			cmp	#1
         1E:DA76  F0 01      			beq	!+
         1E:DA78  18         			clc
         1E:DA79             	!:
 8621                        		__bfalse	.LL364
         1E:DA79  90 46      			bcc	.LL364
 8622                        	
 8623                        		.dbg	line,	"include\routines_LEVELS.c", 786; {
 8624                        	
 8625                        		.dbg	line,	"include\routines_LEVELS.c", 787; hit_wall = FALSE;
 8626                        		__st.umiq	0, _hit_wall
         1E:DA7B  9C 26 23   			stz	_hit_wall
 8627                        	
 8628                        		.dbg	line,	"include\routines_LEVELS.c", 788; 
 8629                        	
 8630                        		.dbg	line,	"include\routines_LEVELS.c", 789; player_counter_anim = 0;
 8631                        		__st.umiq	0, _player_counter_anim
         1E:DA7E  9C 1D 23   			stz	_player_counter_anim
 8632                        	
 8633                        		.dbg	line,	"include\routines_LEVELS.c", 791; player_state = STATE_JUMP_RIGHT + player_axis;
 8634                        		__ld.wi		5
         1E:DA81  A9 05      			lda.l	#5
         1E:DA83  C2         			cly
 8635                        		__add.um	_player_axis
         1E:DA84  18         			clc
         1E:DA85  6D 1B 23   			adc	_player_axis
         1E:DA88  90 01      			bcc	!+
         1E:DA8A  C8         			iny
         1E:DA8B             	!:
 8636                        		__st.umq	_player_state
         1E:DA8B  8D 1A 23   			sta	_player_state
 8637                        	
 8638                        		.dbg	line,	"include\routines_LEVELS.c", 793; spr_set(weapon_id);
 8639                        		__ld.umq	_weapon_id
         1E:DA8E  AD 28 23   			lda	_weapon_id
 8640                        		__call		_spr_set.1
         1E:DA91  20 F1 E7   			call	_spr_set.1
 8641                        	
 8642                        		.dbg	line,	"include\routines_LEVELS.c", 794; 
 8643                        	
 8644                        		.dbg	line,	"include\routines_LEVELS.c", 795; if(player_axis == AXIS_RIGHT)
 8645                        		__not.um	_player_axis
         1E:DA94  AD 1B 23   			lda	_player_axis
         1E:DA97  18         			clc
         1E:DA98  D0 01      			bne	!+
         1E:DA9A  38         			sec
         1E:DA9B             	!:
 8646                        		__bfalse	.LL365
         1E:DA9B  90 12      			bcc	.LL365
 8647                        	
 8648                        		.dbg	line,	"include\routines_LEVELS.c", 796; {
 8649                        	
 8650                        		.dbg	line,	"include\routines_LEVELS.c", 797; spr_x(player_pos_x-5);
 8651                        		__ld.wm		_player_pos_x
         1E:DA9D  AD 01 25   			lda.l	_player_pos_x
         1E:DAA0  AC 02 25   			ldy.h	_player_pos_x
 8652                        		__sub.wi	5
         1E:DAA3  38         			sec
         1E:DAA4  E9 05      			sbc.l	#5
         1E:DAA6  B0 01      			bcs	!+
         1E:DAA8  88         			dey
         1E:DAA9             	!:
 8653                        		__call		_spr_x.1
         1E:DAA9  20 1E E8   			call	_spr_x.1
 8654                        	
 8655                        		.dbg	line,	"include\routines_LEVELS.c", 798; }
 8656                        	
 8657                        		.dbg	line,	"include\routines_LEVELS.c", 800; else
 8658                        		__bra		.LL366
         1E:DAAC  4C A8 DC   			bra	.LL366
 8659    1E:DAAF             	.LL365:
 8660                        	
 8661                        		.dbg	line,	"include\routines_LEVELS.c", 801; {
 8662                        	
 8663                        		.dbg	line,	"include\routines_LEVELS.c", 802; spr_x(player_pos_x+21);
 8664                        		__ld.wm		_player_pos_x
         1E:DAAF  AD 01 25   			lda.l	_player_pos_x
         1E:DAB2  AC 02 25   			ldy.h	_player_pos_x
 8665                        		__add.wi	21
         1E:DAB5  18         			clc
         1E:DAB6  69 15      			adc.l	#21
         1E:DAB8  90 01      			bcc	!+
         1E:DABA  C8         			iny
         1E:DABB             	!:
 8666                        		__call		_spr_x.1
         1E:DABB  20 1E E8   			call	_spr_x.1
 8667                        	
 8668                        		.dbg	line,	"include\routines_LEVELS.c", 803; }
 8669    1E:DABE             	.LL366	.alias		.LL367
 8670                        	
 8671                        		.dbg	line,	"include\routines_LEVELS.c", 804; }
 8672                        	
 8673                        		.dbg	line,	"include\routines_LEVELS.c", 807; else if(player_state == STATE_HANG || player_state == STATE_CLIMB_UP || player_state == STATE_CLIMB_DOWN)
 8674                        		__bra		.LL367
         1E:DABE  4C A8 DC   			bra	.LL367
 8675    1E:DAC1             	.LL364:
 8676                        		__ld.umq	_player_state
         1E:DAC1  AD 1A 23   			lda	_player_state
 8677                        		__equ_b.uiq	10
         1E:DAC4  C9 0A      			cmp	#10
         1E:DAC6  F0 01      			beq	!+
         1E:DAC8  18         			clc
         1E:DAC9             	!:
 8678                        		__btrue		.LL369
         1E:DAC9  B0 08      			bcs	.LL369
 8679                        		__ld.umq	_player_state
         1E:DACB  AD 1A 23   			lda	_player_state
 8680                        		__equ_b.uiq	11
         1E:DACE  C9 0B      			cmp	#11
         1E:DAD0  F0 01      			beq	!+
         1E:DAD2  18         			clc
         1E:DAD3             	!:
 8681    1E:DAD3             	.LL369:
 8682                        		__btrue		.LL370
         1E:DAD3  B0 08      			bcs	.LL370
 8683                        		__ld.umq	_player_state
         1E:DAD5  AD 1A 23   			lda	_player_state
 8684                        		__equ_b.uiq	12
         1E:DAD8  C9 0C      			cmp	#12
         1E:DADA  F0 01      			beq	!+
         1E:DADC  18         			clc
         1E:DADD             	!:
 8685    1E:DADD             	.LL370:
 8686                        		__bfalse	.LL368
         1E:DADD  B0 03 4C A8			bcc	.LL368
         1E:DAE1  DC          
 8687                        	
 8688                        		.dbg	line,	"include\routines_LEVELS.c", 808; {
 8689                        	
 8690                        		.dbg	line,	"include\routines_LEVELS.c", 809; if(player_attack == FALSE)
 8691                        		__not.um	_player_attack
         1E:DAE2  AD 22 23   			lda	_player_attack
         1E:DAE5  18         			clc
         1E:DAE6  D0 01      			bne	!+
         1E:DAE8  38         			sec
         1E:DAE9             	!:
 8692                        		__bfalse	.LL371
         1E:DAE9  B0 03 4C A8			bcc	.LL371
         1E:DAED  DC          
 8693                        	
 8694                        		.dbg	line,	"include\routines_LEVELS.c", 810; {
 8695                        	
 8696                        		.dbg	line,	"include\routines_LEVELS.c", 811; if(joy(JOYPAD_1) & JOY_RIGHT)
 8697                        		__ld.uiq	0
         1E:DAEE  62         			cla
 8698                        		 _joy.1
         1E:DAEF  AA         			tax
         1E:DAF0  BD 28 22   			lda	joynow, x
         1E:DAF3  BC D3 22   			ldy	joy6now, x
 8699                        		__tand.wi	32
         1E:DAF6  29 20      			and	#32
         1E:DAF8  C9 01      	!:		cmp	#1
 8700                        		__bfalse	.LL372
         1E:DAFA  90 23      			bcc	.LL372
 8701                        	
 8702                        		.dbg	line,	"include\routines_LEVELS.c", 812; {
 8703                        	
 8704                        		.dbg	line,	"include\routines_LEVELS.c", 813; hit_wall = FALSE;
 8705                        		__st.umiq	0, _hit_wall
         1E:DAFC  9C 26 23   			stz	_hit_wall
 8706                        	
 8707                        		.dbg	line,	"include\routines_LEVELS.c", 814; 
 8708                        	
 8709                        		.dbg	line,	"include\routines_LEVELS.c", 815; player_counter_anim = 0;
 8710                        		__st.umiq	0, _player_counter_anim
         1E:DAFF  9C 1D 23   			stz	_player_counter_anim
 8711                        	
 8712                        		.dbg	line,	"include\routines_LEVELS.c", 817; player_state = STATE_JUMP_RIGHT;
 8713                        		__st.umiq	5, _player_state
         1E:DB02  A9 05      			lda.l	#5
         1E:DB04  8D 1A 23   			sta	_player_state
 8714                        	
 8715                        		.dbg	line,	"include\routines_LEVELS.c", 819; spr_set(weapon_id);
 8716                        		__ld.umq	_weapon_id
         1E:DB07  AD 28 23   			lda	_weapon_id
 8717                        		__call		_spr_set.1
         1E:DB0A  20 F1 E7   			call	_spr_set.1
 8718                        	
 8719                        		.dbg	line,	"include\routines_LEVELS.c", 820; spr_x(player_pos_x-5);
 8720                        		__ld.wm		_player_pos_x
         1E:DB0D  AD 01 25   			lda.l	_player_pos_x
         1E:DB10  AC 02 25   			ldy.h	_player_pos_x
 8721                        		__sub.wi	5
         1E:DB13  38         			sec
         1E:DB14  E9 05      			sbc.l	#5
         1E:DB16  B0 01      			bcs	!+
         1E:DB18  88         			dey
         1E:DB19             	!:
 8722                        		__call		_spr_x.1
         1E:DB19  20 1E E8   			call	_spr_x.1
 8723                        	
 8724                        		.dbg	line,	"include\routines_LEVELS.c", 821; }
 8725                        	
 8726                        		.dbg	line,	"include\routines_LEVELS.c", 823; else if(joy(JOYPAD_1) & JOY_LEFT)
 8727                        		__bra		.LL373
         1E:DB1C  4C A8 DC   			bra	.LL373
 8728    1E:DB1F             	.LL372:
 8729                        		__ld.uiq	0
         1E:DB1F  62         			cla
 8730                        		 _joy.1
         1E:DB20  AA         			tax
         1E:DB21  BD 28 22   			lda	joynow, x
         1E:DB24  BC D3 22   			ldy	joy6now, x
 8731                        		__tand.wi	128
         1E:DB27  29 80      			and	#128
         1E:DB29  C9 01      	!:		cmp	#1
 8732                        		__bfalse	.LL374
         1E:DB2B  90 23      			bcc	.LL374
 8733                        	
 8734                        		.dbg	line,	"include\routines_LEVELS.c", 824; {
 8735                        	
 8736                        		.dbg	line,	"include\routines_LEVELS.c", 825; hit_wall = FALSE;
 8737                        		__st.umiq	0, _hit_wall
         1E:DB2D  9C 26 23   			stz	_hit_wall
 8738                        	
 8739                        		.dbg	line,	"include\routines_LEVELS.c", 826; 
 8740                        	
 8741                        		.dbg	line,	"include\routines_LEVELS.c", 827; player_counter_anim = 0;
 8742                        		__st.umiq	0, _player_counter_anim
         1E:DB30  9C 1D 23   			stz	_player_counter_anim
 8743                        	
 8744                        		.dbg	line,	"include\routines_LEVELS.c", 829; player_state = STATE_JUMP_LEFT;
 8745                        		__st.umiq	6, _player_state
         1E:DB33  A9 06      			lda.l	#6
         1E:DB35  8D 1A 23   			sta	_player_state
 8746                        	
 8747                        		.dbg	line,	"include\routines_LEVELS.c", 831; spr_set(weapon_id);
 8748                        		__ld.umq	_weapon_id
         1E:DB38  AD 28 23   			lda	_weapon_id
 8749                        		__call		_spr_set.1
         1E:DB3B  20 F1 E7   			call	_spr_set.1
 8750                        	
 8751                        		.dbg	line,	"include\routines_LEVELS.c", 832; spr_x(player_pos_x+21);
 8752                        		__ld.wm		_player_pos_x
         1E:DB3E  AD 01 25   			lda.l	_player_pos_x
         1E:DB41  AC 02 25   			ldy.h	_player_pos_x
 8753                        		__add.wi	21
         1E:DB44  18         			clc
         1E:DB45  69 15      			adc.l	#21
         1E:DB47  90 01      			bcc	!+
         1E:DB49  C8         			iny
         1E:DB4A             	!:
 8754                        		__call		_spr_x.1
         1E:DB4A  20 1E E8   			call	_spr_x.1
 8755                        	
 8756                        		.dbg	line,	"include\routines_LEVELS.c", 833; }
 8757                        	
 8758                        		.dbg	line,	"include\routines_LEVELS.c", 835; else if(joy(JOYPAD_1) & JOY_UP)
 8759                        		__bra		.LL375
         1E:DB4D  4C A8 DC   			bra	.LL375
 8760    1E:DB50             	.LL374:
 8761                        		__ld.uiq	0
         1E:DB50  62         			cla
 8762                        		 _joy.1
         1E:DB51  AA         			tax
         1E:DB52  BD 28 22   			lda	joynow, x
         1E:DB55  BC D3 22   			ldy	joy6now, x
 8763                        		__tand.wi	16
         1E:DB58  29 10      			and	#16
         1E:DB5A  C9 01      	!:		cmp	#1
 8764                        		__bfalse	.LL376
         1E:DB5C  B0 03 4C A8			bcc	.LL376
         1E:DB60  DC          
 8765                        	
 8766                        		.dbg	line,	"include\routines_LEVELS.c", 836; {
 8767                        	
 8768                        		.dbg	line,	"include\routines_LEVELS.c", 837; hit_wall = FALSE;
 8769                        		__st.umiq	0, _hit_wall
         1E:DB61  9C 26 23   			stz	_hit_wall
 8770                        	
 8771                        		.dbg	line,	"include\routines_LEVELS.c", 838; 
 8772                        	
 8773                        		.dbg	line,	"include\routines_LEVELS.c", 839; player_counter_anim = 0;
 8774                        		__st.umiq	0, _player_counter_anim
         1E:DB64  9C 1D 23   			stz	_player_counter_anim
 8775                        	
 8776                        		.dbg	line,	"include\routines_LEVELS.c", 841; collision_PLAYER_BG( 15 , 8 );
 8777                        		__ld.wi		15
         1E:DB67  A9 0F      			lda.l	#15
         1E:DB69  C2         			cly
 8778                        		__pusharg.wr
         1E:DB6A  A6 8D      			ldx	<__sp
         1E:DB6C  CA         			dex
         1E:DB6D  CA         			dex
         1E:DB6E  95 08      			sta.l	<__stack, x
         1E:DB70  94 09      			sty.h	<__stack, x
         1E:DB72  86 8D      			stx	<__sp
 8779                        		__ld.wi		8
         1E:DB74  A9 08      			lda.l	#8
         1E:DB76  C2         			cly
 8780                        		__pusharg.wr
         1E:DB77  A6 8D      			ldx	<__sp
         1E:DB79  CA         			dex
         1E:DB7A  CA         			dex
         1E:DB7B  95 08      			sta.l	<__stack, x
         1E:DB7D  94 09      			sty.h	<__stack, x
         1E:DB7F  86 8D      			stx	<__sp
 8781                        		__call		_collision_PLAYER_BG
         1E:DB81  20 31 FF   			call	_collision_PLAYER_BG
 8782                        	
 8783                        		.dbg	line,	"include\routines_LEVELS.c", 843; if(map_blk_flag == TILE_EMPTY)
 8784                        		__not.um	_map_blk_flag
         1E:DB84  AD 05 2C   			lda	_map_blk_flag
         1E:DB87  18         			clc
         1E:DB88  D0 01      			bne	!+
         1E:DB8A  38         			sec
         1E:DB8B             	!:
 8785                        		__bfalse	.LL377
         1E:DB8B  B0 03 4C A8			bcc	.LL377
         1E:DB8F  DC          
 8786                        	
 8787                        		.dbg	line,	"include\routines_LEVELS.c", 844; {
 8788                        	
 8789                        		.dbg	line,	"include\routines_LEVELS.c", 845; player_state = STATE_JUMP_LADDER;
 8790                        		__st.umiq	13, _player_state
         1E:DB90  A9 0D      			lda.l	#13
         1E:DB92  8D 1A 23   			sta	_player_state
 8791                        	
 8792                        		.dbg	line,	"include\routines_LEVELS.c", 847; spr_set(weapon_id);
 8793                        		__ld.umq	_weapon_id
         1E:DB95  AD 28 23   			lda	_weapon_id
 8794                        		__call		_spr_set.1
         1E:DB98  20 F1 E7   			call	_spr_set.1
 8795                        	
 8796                        		.dbg	line,	"include\routines_LEVELS.c", 848; spr_y(player_pos_y+8);
 8797                        		__ld.wm		_player_pos_y
         1E:DB9B  AD 03 25   			lda.l	_player_pos_y
         1E:DB9E  AC 04 25   			ldy.h	_player_pos_y
 8798                        		__add.wi	8
         1E:DBA1  18         			clc
         1E:DBA2  69 08      			adc.l	#8
         1E:DBA4  90 01      			bcc	!+
         1E:DBA6  C8         			iny
         1E:DBA7             	!:
 8799                        		__call		_spr_y.1
         1E:DBA7  20 2D E8   			call	_spr_y.1
 8800                        	
 8801                        		.dbg	line,	"include\routines_LEVELS.c", 849; 
 8802                        	
 8803                        		.dbg	line,	"include\routines_LEVELS.c", 850; if(player_axis == AXIS_RIGHT)
 8804                        		__not.um	_player_axis
         1E:DBAA  AD 1B 23   			lda	_player_axis
         1E:DBAD  18         			clc
         1E:DBAE  D0 01      			bne	!+
         1E:DBB0  38         			sec
         1E:DBB1             	!:
 8805                        		__bfalse	.LL378
         1E:DBB1  90 12      			bcc	.LL378
 8806                        	
 8807                        		.dbg	line,	"include\routines_LEVELS.c", 851; {
 8808                        	
 8809                        		.dbg	line,	"include\routines_LEVELS.c", 852; spr_x(player_pos_x-5);
 8810                        		__ld.wm		_player_pos_x
         1E:DBB3  AD 01 25   			lda.l	_player_pos_x
         1E:DBB6  AC 02 25   			ldy.h	_player_pos_x
 8811                        		__sub.wi	5
         1E:DBB9  38         			sec
         1E:DBBA  E9 05      			sbc.l	#5
         1E:DBBC  B0 01      			bcs	!+
         1E:DBBE  88         			dey
         1E:DBBF             	!:
 8812                        		__call		_spr_x.1
         1E:DBBF  20 1E E8   			call	_spr_x.1
 8813                        	
 8814                        		.dbg	line,	"include\routines_LEVELS.c", 853; }
 8815                        	
 8816                        		.dbg	line,	"include\routines_LEVELS.c", 855; else
 8817                        		__bra		.LL379
         1E:DBC2  4C A8 DC   			bra	.LL379
 8818    1E:DBC5             	.LL378:
 8819                        	
 8820                        		.dbg	line,	"include\routines_LEVELS.c", 856; {
 8821                        	
 8822                        		.dbg	line,	"include\routines_LEVELS.c", 857; spr_x(player_pos_x+21);
 8823                        		__ld.wm		_player_pos_x
         1E:DBC5  AD 01 25   			lda.l	_player_pos_x
         1E:DBC8  AC 02 25   			ldy.h	_player_pos_x
 8824                        		__add.wi	21
         1E:DBCB  18         			clc
         1E:DBCC  69 15      			adc.l	#21
         1E:DBCE  90 01      			bcc	!+
         1E:DBD0  C8         			iny
         1E:DBD1             	!:
 8825                        		__call		_spr_x.1
         1E:DBD1  20 1E E8   			call	_spr_x.1
 8826                        	
 8827                        		.dbg	line,	"include\routines_LEVELS.c", 858; }
 8828    1E:DBD4             	.LL379	.alias		.LL380
 8829                        	
 8830                        		.dbg	line,	"include\routines_LEVELS.c", 859; }
 8831                        	
 8832                        		.dbg	line,	"include\routines_LEVELS.c", 860; }
 8833    1E:DBD4             	.LL377	.alias		.LL380
 8834                        	
 8835                        		.dbg	line,	"include\routines_LEVELS.c", 861; }
 8836    1E:DBD4             	.LL376	.alias		.LL380
 8837    1E:DBD4             	.LL375	.alias		.LL380
 8838    1E:DBD4             	.LL373	.alias		.LL380
 8839                        	
 8840                        		.dbg	line,	"include\routines_LEVELS.c", 862; }
 8841    1E:DBD4             	.LL371	.alias		.LL380
 8842                        	
 8843                        		.dbg	line,	"include\routines_LEVELS.c", 863; }
 8844    1E:DBD4             	.LL368	.alias		.LL380
 8845    1E:DBD4             	.LL367	.alias		.LL380
 8846    1E:DBD4             	.LL363	.alias		.LL380
 8847                        	
 8848                        		.dbg	line,	"include\routines_LEVELS.c", 865; // ATTACK //
 8849                        	
 8850                        		.dbg	line,	"include\routines_LEVELS.c", 866; else if(joytrg(JOYPAD_1) == JOY_II)
 8851                        		__bra		.LL380
         1E:DBD4  4C A8 DC   			bra	.LL380
 8852    1E:DBD7             	.LL359:
 8853                        		__ld.uiq	0
         1E:DBD7  62         			cla
 8854                        		 _joytrg.1
         1E:DBD8  AA         			tax
         1E:DBD9  BD 2D 22   			lda	joytrg, x
         1E:DBDC  BC DD 22   			ldy	joy6trg, x
 8855                        		__equ_w.wi	2
         1E:DBDF  C9 02      			cmp.l	#2
         1E:DBE1  D0 04      			bne	!false+
         1E:DBE3  C0 00      			cpy.h	#2
         1E:DBE5  F0 01      			beq	!+
         1E:DBE7  18         	!false:		clc
         1E:DBE8             	!:
 8856                        		__bfalse	.LL381
         1E:DBE8  B0 03 4C A8			bcc	.LL381
         1E:DBEC  DC          
 8857                        	
 8858                        		.dbg	line,	"include\routines_LEVELS.c", 867; {
 8859                        	
 8860                        		.dbg	line,	"include\routines_LEVELS.c", 868; if(player_state == STATE_IDLE || player_state == STATE_WALK)
 8861                        		__not.um	_player_state
         1E:DBED  AD 1A 23   			lda	_player_state
         1E:DBF0  18         			clc
         1E:DBF1  D0 01      			bne	!+
         1E:DBF3  38         			sec
         1E:DBF4             	!:
 8862                        		__btrue		.LL383
         1E:DBF4  B0 08      			bcs	.LL383
 8863                        		__ld.umq	_player_state
         1E:DBF6  AD 1A 23   			lda	_player_state
 8864                        		__equ_b.uiq	1
         1E:DBF9  C9 01      			cmp	#1
         1E:DBFB  F0 01      			beq	!+
         1E:DBFD  18         			clc
         1E:DBFE             	!:
 8865    1E:DBFE             	.LL383:
 8866                        		__bfalse	.LL382
         1E:DBFE  90 19      			bcc	.LL382
 8867                        	
 8868                        		.dbg	line,	"include\routines_LEVELS.c", 869; {
 8869                        	
 8870                        		.dbg	line,	"include\routines_LEVELS.c", 870; list_chain_active[0] = FALSE;
 8871                        		__st.umiq	0, _list_chain_active
         1E:DC00  9C 2C 23   			stz	_list_chain_active
 8872                        	
 8873                        		.dbg	line,	"include\routines_LEVELS.c", 871; list_chain_active[1] = FALSE;
 8874                        		__st.umiq	0, _list_chain_active + 1
         1E:DC03  9C 2D 23   			stz	_list_chain_active + 1
 8875                        	
 8876                        		.dbg	line,	"include\routines_LEVELS.c", 872; list_chain_active[2] = FALSE;
 8877                        		__st.umiq	0, _list_chain_active + 2
         1E:DC06  9C 2E 23   			stz	_list_chain_active + 2
 8878                        	
 8879                        		.dbg	line,	"include\routines_LEVELS.c", 874; chain_unfold = TRUE;
 8880                        		__st.umiq	1, _chain_unfold
         1E:DC09  A9 01      			lda.l	#1
         1E:DC0B  8D 2B 23   			sta	_chain_unfold
 8881                        	
 8882                        		.dbg	line,	"include\routines_LEVELS.c", 875; player_counter_attack = 0;
 8883                        		__st.umiq	0, _player_counter_attack
         1E:DC0E  9C 20 23   			stz	_player_counter_attack
 8884                        	
 8885                        		.dbg	line,	"include\routines_LEVELS.c", 876; player_state = STATE_ATTACK;
 8886                        		__st.umiq	2, _player_state
         1E:DC11  A9 02      			lda.l	#2
         1E:DC13  8D 1A 23   			sta	_player_state
 8887                        	
 8888                        		.dbg	line,	"include\routines_LEVELS.c", 877; }
 8889                        	
 8890                        		.dbg	line,	"include\routines_LEVELS.c", 879; else if(player_state == STATE_JUMP)
 8891                        		__bra		.LL384
         1E:DC16  4C A8 DC   			bra	.LL384
 8892    1E:DC19             	.LL382:
 8893                        		__ld.umq	_player_state
         1E:DC19  AD 1A 23   			lda	_player_state
 8894                        		__equ_b.uiq	4
         1E:DC1C  C9 04      			cmp	#4
         1E:DC1E  F0 01      			beq	!+
         1E:DC20  18         			clc
         1E:DC21             	!:
 8895                        		__bfalse	.LL385
         1E:DC21  90 21      			bcc	.LL385
 8896                        	
 8897                        		.dbg	line,	"include\routines_LEVELS.c", 880; {
 8898                        	
 8899                        		.dbg	line,	"include\routines_LEVELS.c", 881; if(player_attack == FALSE)
 8900                        		__not.um	_player_attack
         1E:DC23  AD 22 23   			lda	_player_attack
         1E:DC26  18         			clc
         1E:DC27  D0 01      			bne	!+
         1E:DC29  38         			sec
         1E:DC2A             	!:
 8901                        		__bfalse	.LL386
         1E:DC2A  90 7C      			bcc	.LL386
 8902                        	
 8903                        		.dbg	line,	"include\routines_LEVELS.c", 882; {
 8904                        	
 8905                        		.dbg	line,	"include\routines_LEVELS.c", 883; list_chain_active[0] = FALSE;
 8906                        		__st.umiq	0, _list_chain_active
         1E:DC2C  9C 2C 23   			stz	_list_chain_active
 8907                        	
 8908                        		.dbg	line,	"include\routines_LEVELS.c", 884; list_chain_active[1] = FALSE;
 8909                        		__st.umiq	0, _list_chain_active + 1
         1E:DC2F  9C 2D 23   			stz	_list_chain_active + 1
 8910                        	
 8911                        		.dbg	line,	"include\routines_LEVELS.c", 885; list_chain_active[2] = FALSE;
 8912                        		__st.umiq	0, _list_chain_active + 2
         1E:DC32  9C 2E 23   			stz	_list_chain_active + 2
 8913                        	
 8914                        		.dbg	line,	"include\routines_LEVELS.c", 887; player_counter_attack = 0;
 8915                        		__st.umiq	0, _player_counter_attack
         1E:DC35  9C 20 23   			stz	_player_counter_attack
 8916                        	
 8917                        		.dbg	line,	"include\routines_LEVELS.c", 888; chain_unfold = TRUE;
 8918                        		__st.umiq	1, _chain_unfold
         1E:DC38  A9 01      			lda.l	#1
         1E:DC3A  8D 2B 23   			sta	_chain_unfold
 8919                        	
 8920                        		.dbg	line,	"include\routines_LEVELS.c", 889; player_attack = TRUE;
 8921                        		__st.umiq	1, _player_attack
         1E:DC3D  A9 01      			lda.l	#1
         1E:DC3F  8D 22 23   			sta	_player_attack
 8922                        	
 8923                        		.dbg	line,	"include\routines_LEVELS.c", 890; }
 8924                        	
 8925                        		.dbg	line,	"include\routines_LEVELS.c", 891; }
 8926    1E:DC42             	.LL386	.alias		.LL387
 8927                        	
 8928                        		.dbg	line,	"include\routines_LEVELS.c", 893; else if(player_state == STATE_CROUCH)
 8929                        		__bra		.LL387
         1E:DC42  80 64      			bra	.LL387
 8930    1E:DC44             	.LL385:
 8931                        		__ld.umq	_player_state
         1E:DC44  AD 1A 23   			lda	_player_state
 8932                        		__equ_b.uiq	7
         1E:DC47  C9 07      			cmp	#7
         1E:DC49  F0 01      			beq	!+
         1E:DC4B  18         			clc
         1E:DC4C             	!:
 8933                        		__bfalse	.LL388
         1E:DC4C  90 18      			bcc	.LL388
 8934                        	
 8935                        		.dbg	line,	"include\routines_LEVELS.c", 894; {
 8936                        	
 8937                        		.dbg	line,	"include\routines_LEVELS.c", 895; list_chain_active[0] = FALSE;
 8938                        		__st.umiq	0, _list_chain_active
         1E:DC4E  9C 2C 23   			stz	_list_chain_active
 8939                        	
 8940                        		.dbg	line,	"include\routines_LEVELS.c", 896; list_chain_active[1] = FALSE;
 8941                        		__st.umiq	0, _list_chain_active + 1
         1E:DC51  9C 2D 23   			stz	_list_chain_active + 1
 8942                        	
 8943                        		.dbg	line,	"include\routines_LEVELS.c", 897; list_chain_active[2] = FALSE;
 8944                        		__st.umiq	0, _list_chain_active + 2
         1E:DC54  9C 2E 23   			stz	_list_chain_active + 2
 8945                        	
 8946                        		.dbg	line,	"include\routines_LEVELS.c", 899; chain_unfold = TRUE;
 8947                        		__st.umiq	1, _chain_unfold
         1E:DC57  A9 01      			lda.l	#1
         1E:DC59  8D 2B 23   			sta	_chain_unfold
 8948                        	
 8949                        		.dbg	line,	"include\routines_LEVELS.c", 900; player_counter_attack = 0;
 8950                        		__st.umiq	0, _player_counter_attack
         1E:DC5C  9C 20 23   			stz	_player_counter_attack
 8951                        	
 8952                        		.dbg	line,	"include\routines_LEVELS.c", 901; player_state = STATE_CROUCH_ATTACK;
 8953                        		__st.umiq	8, _player_state
         1E:DC5F  A9 08      			lda.l	#8
         1E:DC61  8D 1A 23   			sta	_player_state
 8954                        	
 8955                        		.dbg	line,	"include\routines_LEVELS.c", 902; }
 8956                        	
 8957                        		.dbg	line,	"include\routines_LEVELS.c", 904; else if(player_state == STATE_HANG || player_state == STATE_CLIMB_UP || player_state == STATE_CLIMB_DOWN)
 8958                        		__bra		.LL389
         1E:DC64  80 42      			bra	.LL389
 8959    1E:DC66             	.LL388:
 8960                        		__ld.umq	_player_state
         1E:DC66  AD 1A 23   			lda	_player_state
 8961                        		__equ_b.uiq	10
         1E:DC69  C9 0A      			cmp	#10
         1E:DC6B  F0 01      			beq	!+
         1E:DC6D  18         			clc
         1E:DC6E             	!:
 8962                        		__btrue		.LL391
         1E:DC6E  B0 08      			bcs	.LL391
 8963                        		__ld.umq	_player_state
         1E:DC70  AD 1A 23   			lda	_player_state
 8964                        		__equ_b.uiq	11
         1E:DC73  C9 0B      			cmp	#11
         1E:DC75  F0 01      			beq	!+
         1E:DC77  18         			clc
         1E:DC78             	!:
 8965    1E:DC78             	.LL391:
 8966                        		__btrue		.LL392
         1E:DC78  B0 08      			bcs	.LL392
 8967                        		__ld.umq	_player_state
         1E:DC7A  AD 1A 23   			lda	_player_state
 8968                        		__equ_b.uiq	12
         1E:DC7D  C9 0C      			cmp	#12
         1E:DC7F  F0 01      			beq	!+
         1E:DC81  18         			clc
         1E:DC82             	!:
 8969    1E:DC82             	.LL392:
 8970                        		__bfalse	.LL390
         1E:DC82  90 24      			bcc	.LL390
 8971                        	
 8972                        		.dbg	line,	"include\routines_LEVELS.c", 905; {
 8973                        	
 8974                        		.dbg	line,	"include\routines_LEVELS.c", 906; if(player_attack == FALSE)
 8975                        		__not.um	_player_attack
         1E:DC84  AD 22 23   			lda	_player_attack
         1E:DC87  18         			clc
         1E:DC88  D0 01      			bne	!+
         1E:DC8A  38         			sec
         1E:DC8B             	!:
 8976                        		__bfalse	.LL393
         1E:DC8B  90 1B      			bcc	.LL393
 8977                        	
 8978                        		.dbg	line,	"include\routines_LEVELS.c", 907; {
 8979                        	
 8980                        		.dbg	line,	"include\routines_LEVELS.c", 908; list_chain_active[0] = FALSE;
 8981                        		__st.umiq	0, _list_chain_active
         1E:DC8D  9C 2C 23   			stz	_list_chain_active
 8982                        	
 8983                        		.dbg	line,	"include\routines_LEVELS.c", 909; list_chain_active[1] = FALSE;
 8984                        		__st.umiq	0, _list_chain_active + 1
         1E:DC90  9C 2D 23   			stz	_list_chain_active + 1
 8985                        	
 8986                        		.dbg	line,	"include\routines_LEVELS.c", 910; list_chain_active[2] = FALSE;
 8987                        		__st.umiq	0, _list_chain_active + 2
         1E:DC93  9C 2E 23   			stz	_list_chain_active + 2
 8988                        	
 8989                        		.dbg	line,	"include\routines_LEVELS.c", 911; 
 8990                        	
 8991                        		.dbg	line,	"include\routines_LEVELS.c", 912; player_counter_attack = 0;
 8992                        		__st.umiq	0, _player_counter_attack
         1E:DC96  9C 20 23   			stz	_player_counter_attack
 8993                        	
 8994                        		.dbg	line,	"include\routines_LEVELS.c", 913; chain_unfold = TRUE;
 8995                        		__st.umiq	1, _chain_unfold
         1E:DC99  A9 01      			lda.l	#1
         1E:DC9B  8D 2B 23   			sta	_chain_unfold
 8996                        	
 8997                        		.dbg	line,	"include\routines_LEVELS.c", 914; player_attack = TRUE;
 8998                        		__st.umiq	1, _player_attack
         1E:DC9E  A9 01      			lda.l	#1
         1E:DCA0  8D 22 23   			sta	_player_attack
 8999                        	
 9000                        		.dbg	line,	"include\routines_LEVELS.c", 915; player_state = STATE_HANG;
 9001                        		__st.umiq	10, _player_state
         1E:DCA3  A9 0A      			lda.l	#10
         1E:DCA5  8D 1A 23   			sta	_player_state
 9002                        	
 9003                        		.dbg	line,	"include\routines_LEVELS.c", 916; }
 9004                        	
 9005                        		.dbg	line,	"include\routines_LEVELS.c", 917; }
 9006    1E:DCA8             	.LL393:
 9007                        	
 9008                        		.dbg	line,	"include\routines_LEVELS.c", 918; }
 9009    1E:DCA8             	.LL390:
 9010    1E:DCA8             	.LL389:
 9011    1E:DCA8             	.LL387:
 9012    1E:DCA8             	.LL384:
 9013                        	
 9014                        		.dbg	line,	"include\routines_LEVELS.c", 919; }
 9015    1E:DCA8             	.LL381:
 9016    1E:DCA8             	.LL380:
 9017    1E:DCA8             	.LL358:
 9018                        		__return	0
         1E:DCA8  4C EF FF   			jmp	leave_proc
 9019                        		.dbg	clear
 9020                        		.endp
 9021                        		.pceas
 9022                        	
 9023                        		.dbg	line,	"include\routines_LEVELS.c", 922; void joypad_DIR()
 9024                        		.dbg	line,	"include\routines_LEVELS.c", 923; {
 9025                        	;***********************
 9026                        	;***********************
 9027                        	
 9028                        		.hucc
 9029    1D:D340             		.proc		_joypad_DIR
 9030                        		__enter		_joypad_DIR
 9031                        	
 9032                        		.dbg	line,	"include\routines_LEVELS.c", 924; //--------------------------------------------------------------------------------------//
 9033                        	
 9034                        		.dbg	line,	"include\routines_LEVELS.c", 925; //                                        NO DIR                                        //
 9035                        	
 9036                        		.dbg	line,	"include\routines_LEVELS.c", 926; //--------------------------------------------------------------------------------------//
 9037                        	
 9038                        		.dbg	line,	"include\routines_LEVELS.c", 928; if(! (joy(JOYPAD_1) & JOY_DIR_PRESSED) )
 9039                        		__ld.uiq	0
         1D:D340  62         			cla
 9040                        		 _joy.1
         1D:D341  AA         			tax
         1D:D342  BD 28 22   			lda	joynow, x
         1D:D345  BC D3 22   			ldy	joy6now, x
 9041                        		__nand.wi	240
         1D:D348  18         			clc
         1D:D349  29 F0      			and	#240
         1D:D34B  D0 01      			bne	!+
         1D:D34D  38         			sec
         1D:D34E             	!:
 9042                        		__bfalse	.LL395
         1D:D34E  90 58      			bcc	.LL395
 9043                        	
 9044                        		.dbg	line,	"include\routines_LEVELS.c", 929; {
 9045                        	
 9046                        		.dbg	line,	"include\routines_LEVELS.c", 930; if(player_state == STATE_WALK || player_state == STATE_CROUCH)
 9047                        		__ld.umq	_player_state
         1D:D350  AD 1A 23   			lda	_player_state
 9048                        		__equ_b.uiq	1
         1D:D353  C9 01      			cmp	#1
         1D:D355  F0 01      			beq	!+
         1D:D357  18         			clc
         1D:D358             	!:
 9049                        		__btrue		.LL397
         1D:D358  B0 08      			bcs	.LL397
 9050                        		__ld.umq	_player_state
         1D:D35A  AD 1A 23   			lda	_player_state
 9051                        		__equ_b.uiq	7
         1D:D35D  C9 07      			cmp	#7
         1D:D35F  F0 01      			beq	!+
         1D:D361  18         			clc
         1D:D362             	!:
 9052    1D:D362             	.LL397:
 9053                        		__bfalse	.LL396
         1D:D362  90 13      			bcc	.LL396
 9054                        	
 9055                        		.dbg	line,	"include\routines_LEVELS.c", 931; {
 9056                        	
 9057                        		.dbg	line,	"include\routines_LEVELS.c", 932; if(player_attack == FALSE)
 9058                        		__not.um	_player_attack
         1D:D364  AD 22 23   			lda	_player_attack
         1D:D367  18         			clc
         1D:D368  D0 01      			bne	!+
         1D:D36A  38         			sec
         1D:D36B             	!:
 9059                        		__bfalse	.LL398
         1D:D36B  90 3B      			bcc	.LL398
 9060                        	
 9061                        		.dbg	line,	"include\routines_LEVELS.c", 933; {
 9062                        	
 9063                        		.dbg	line,	"include\routines_LEVELS.c", 934; player_counter_anim = 1;
 9064                        		__st.umiq	1, _player_counter_anim
         1D:D36D  A9 01      			lda.l	#1
         1D:D36F  8D 1D 23   			sta	_player_counter_anim
 9065                        	
 9066                        		.dbg	line,	"include\routines_LEVELS.c", 935; player_state = STATE_IDLE;
 9067                        		__st.umiq	0, _player_state
         1D:D372  9C 1A 23   			stz	_player_state
 9068                        	
 9069                        		.dbg	line,	"include\routines_LEVELS.c", 936; }
 9070                        	
 9071                        		.dbg	line,	"include\routines_LEVELS.c", 937; }
 9072    1D:D375             	.LL398	.alias		.LL399
 9073                        	
 9074                        		.dbg	line,	"include\routines_LEVELS.c", 940; else if(player_state == STATE_CLIMB_UP || player_state == STATE_CLIMB_DOWN)
 9075                        		__bra		.LL399
         1D:D375  80 31      			bra	.LL399
 9076    1D:D377             	.LL396:
 9077                        		__ld.umq	_player_state
         1D:D377  AD 1A 23   			lda	_player_state
 9078                        		__equ_b.uiq	11
         1D:D37A  C9 0B      			cmp	#11
         1D:D37C  F0 01      			beq	!+
         1D:D37E  18         			clc
         1D:D37F             	!:
 9079                        		__btrue		.LL401
         1D:D37F  B0 08      			bcs	.LL401
 9080                        		__ld.umq	_player_state
         1D:D381  AD 1A 23   			lda	_player_state
 9081                        		__equ_b.uiq	12
         1D:D384  C9 0C      			cmp	#12
         1D:D386  F0 01      			beq	!+
         1D:D388  18         			clc
         1D:D389             	!:
 9082    1D:D389             	.LL401:
 9083                        		__bfalse	.LL400
         1D:D389  90 1D      			bcc	.LL400
 9084                        	
 9085                        		.dbg	line,	"include\routines_LEVELS.c", 941; {
 9086                        	
 9087                        		.dbg	line,	"include\routines_LEVELS.c", 942; if(player_attack == FALSE)
 9088                        		__not.um	_player_attack
         1D:D38B  AD 22 23   			lda	_player_attack
         1D:D38E  18         			clc
         1D:D38F  D0 01      			bne	!+
         1D:D391  38         			sec
         1D:D392             	!:
 9089                        		__bfalse	.LL402
         1D:D392  90 14      			bcc	.LL402
 9090                        	
 9091                        		.dbg	line,	"include\routines_LEVELS.c", 943; {
 9092                        	
 9093                        		.dbg	line,	"include\routines_LEVELS.c", 944; spr_set(player_id);
 9094                        		__ld.umq	_player_id
         1D:D394  AD 19 23   			lda	_player_id
 9095                        		__call		_spr_set.1
         1D:D397  20 F1 E7   			call	_spr_set.1
 9096                        	
 9097                        		.dbg	line,	"include\routines_LEVELS.c", 945; spr_pattern(PLAYER_HANG_VRAM_ADR);
 9098                        		__ld.wi		8448
         1D:D39A  62         			cla
         1D:D39B  A0 21      			ldy.h	#8448
 9099                        		__call		_spr_pattern.1
         1D:D39D  20 3A E8   			call	_spr_pattern.1
 9100                        	
 9101                        		.dbg	line,	"include\routines_LEVELS.c", 946; player_counter_anim = 0;
 9102                        		__st.umiq	0, _player_counter_anim
         1D:D3A0  9C 1D 23   			stz	_player_counter_anim
 9103                        	
 9104                        		.dbg	line,	"include\routines_LEVELS.c", 947; player_state = STATE_HANG;
 9105                        		__st.umiq	10, _player_state
         1D:D3A3  A9 0A      			lda.l	#10
         1D:D3A5  8D 1A 23   			sta	_player_state
 9106                        	
 9107                        		.dbg	line,	"include\routines_LEVELS.c", 948; }
 9108                        	
 9109                        		.dbg	line,	"include\routines_LEVELS.c", 949; }
 9110    1D:D3A8             	.LL402:
 9111                        	
 9112                        		.dbg	line,	"include\routines_LEVELS.c", 950; }
 9113    1D:D3A8             	.LL400:
 9114    1D:D3A8             	.LL399:
 9115                        	
 9116                        		.dbg	line,	"include\routines_LEVELS.c", 953; //--------------------------------------------------------------------------------------//
 9117                        	
 9118                        		.dbg	line,	"include\routines_LEVELS.c", 954; //                                     RIGHT BUTTON                                     //
 9119                        	
 9120                        		.dbg	line,	"include\routines_LEVELS.c", 955; //--------------------------------------------------------------------------------------//
 9121                        	
 9122                        		.dbg	line,	"include\routines_LEVELS.c", 957; if(joy(JOYPAD_1) & JOY_RIGHT)
 9123    1D:D3A8             	.LL395:
 9124                        		__ld.uiq	0
         1D:D3A8  62         			cla
 9125                        		 _joy.1
         1D:D3A9  AA         			tax
         1D:D3AA  BD 28 22   			lda	joynow, x
         1D:D3AD  BC D3 22   			ldy	joy6now, x
 9126                        		__tand.wi	32
         1D:D3B0  29 20      			and	#32
         1D:D3B2  C9 01      	!:		cmp	#1
 9127                        		__bfalse	.LL403
         1D:D3B4  B0 03 4C 01			bcc	.LL403
         1D:D3B8  D8          
 9128                        	
 9129                        		.dbg	line,	"include\routines_LEVELS.c", 958; {
 9130                        	
 9131                        		.dbg	line,	"include\routines_LEVELS.c", 959; if(player_state == STATE_IDLE || player_state == STATE_WALK)
 9132                        		__not.um	_player_state
         1D:D3B9  AD 1A 23   			lda	_player_state
         1D:D3BC  18         			clc
         1D:D3BD  D0 01      			bne	!+
         1D:D3BF  38         			sec
         1D:D3C0             	!:
 9133                        		__btrue		.LL405
         1D:D3C0  B0 08      			bcs	.LL405
 9134                        		__ld.umq	_player_state
         1D:D3C2  AD 1A 23   			lda	_player_state
 9135                        		__equ_b.uiq	1
         1D:D3C5  C9 01      			cmp	#1
         1D:D3C7  F0 01      			beq	!+
         1D:D3C9  18         			clc
         1D:D3CA             	!:
 9136    1D:D3CA             	.LL405:
 9137                        		__bfalse	.LL404
         1D:D3CA  B0 03 4C 67			bcc	.LL404
         1D:D3CE  D4          
 9138                        	
 9139                        		.dbg	line,	"include\routines_LEVELS.c", 960; {
 9140                        	
 9141                        		.dbg	line,	"include\routines_LEVELS.c", 961; player_axis = AXIS_RIGHT;
 9142                        		__st.umiq	0, _player_axis
         1D:D3CF  9C 1B 23   			stz	_player_axis
 9143                        	
 9144                        		.dbg	line,	"include\routines_LEVELS.c", 963; if(player_previous_axis != player_axis)
 9145                        		__ld.umq	_player_previous_axis
         1D:D3D2  AD 1C 23   			lda	_player_previous_axis
 9146                        		__neq_b.umq	_player_axis
         1D:D3D5  38         			sec
         1D:D3D6  4D 1B 23   			eor	_player_axis
         1D:D3D9  D0 01      			bne	!+
         1D:D3DB  18         			clc
         1D:D3DC             	!:
 9147                        		__bfalse	.LL406
         1D:D3DC  90 66      			bcc	.LL406
 9148                        	
 9149                        		.dbg	line,	"include\routines_LEVELS.c", 964; {
 9150                        	
 9151                        		.dbg	line,	"include\routines_LEVELS.c", 965; player_previous_axis = player_axis;
 9152                        		__ld.um		_player_axis
         1D:D3DE  AD 1B 23   			lda	_player_axis
         1D:D3E1  C2         			cly
 9153                        		__st.umq	_player_previous_axis
         1D:D3E2  8D 1C 23   			sta	_player_previous_axis
 9154                        	
 9155                        		.dbg	line,	"include\routines_LEVELS.c", 967; spr_set(player_id);
 9156                        		__ld.umq	_player_id
         1D:D3E5  AD 19 23   			lda	_player_id
 9157                        		__call		_spr_set.1
         1D:D3E8  20 F1 E7   			call	_spr_set.1
 9158                        	
 9159                        		.dbg	line,	"include\routines_LEVELS.c", 968; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 9160                        		__st.umiq	136, _al
         1D:D3EB  A9 88      			lda.l	#136
         1D:D3ED  85 F8      			sta	_al
 9161                        		__ld.uiq	0
         1D:D3EF  62         			cla
 9162                        		__call		_spr_ctrl.2
         1D:D3F0  20 50 E8   			call	_spr_ctrl.2
 9163                        	
 9164                        		.dbg	line,	"include\routines_LEVELS.c", 970; spr_set(chain_id);
 9165                        		__ld.umq	_chain_id
         1D:D3F3  AD 27 23   			lda	_chain_id
 9166                        		__call		_spr_set.1
         1D:D3F6  20 F1 E7   			call	_spr_set.1
 9167                        	
 9168                        		.dbg	line,	"include\routines_LEVELS.c", 971; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 9169                        		__st.umiq	136, _al
         1D:D3F9  A9 88      			lda.l	#136
         1D:D3FB  85 F8      			sta	_al
 9170                        		__ld.uiq	0
         1D:D3FD  62         			cla
 9171                        		__call		_spr_ctrl.2
         1D:D3FE  20 50 E8   			call	_spr_ctrl.2
 9172                        	
 9173                        		.dbg	line,	"include\routines_LEVELS.c", 973; spr_set(chain_id+1);
 9174                        		__ld.um		_chain_id
         1D:D401  AD 27 23   			lda	_chain_id
         1D:D404  C2         			cly
 9175                        		__add.wi	1
         1D:D405  1A         			inc	a
         1D:D406  D0 01      			bne	!+
         1D:D408  C8         			iny
         1D:D409             	!:
 9176                        		__call		_spr_set.1
         1D:D409  20 F1 E7   			call	_spr_set.1
 9177                        	
 9178                        		.dbg	line,	"include\routines_LEVELS.c", 974; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 9179                        		__st.umiq	136, _al
         1D:D40C  A9 88      			lda.l	#136
         1D:D40E  85 F8      			sta	_al
 9180                        		__ld.uiq	0
         1D:D410  62         			cla
 9181                        		__call		_spr_ctrl.2
         1D:D411  20 50 E8   			call	_spr_ctrl.2
 9182                        	
 9183                        		.dbg	line,	"include\routines_LEVELS.c", 976; spr_set(chain_id+2);
 9184                        		__ld.um		_chain_id
         1D:D414  AD 27 23   			lda	_chain_id
         1D:D417  C2         			cly
 9185                        		__add.wi	2
         1D:D418  18         			clc
         1D:D419  69 02      			adc.l	#2
         1D:D41B  90 01      			bcc	!+
         1D:D41D  C8         			iny
         1D:D41E             	!:
 9186                        		__call		_spr_set.1
         1D:D41E  20 F1 E7   			call	_spr_set.1
 9187                        	
 9188                        		.dbg	line,	"include\routines_LEVELS.c", 977; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 9189                        		__st.umiq	136, _al
         1D:D421  A9 88      			lda.l	#136
         1D:D423  85 F8      			sta	_al
 9190                        		__ld.uiq	0
         1D:D425  62         			cla
 9191                        		__call		_spr_ctrl.2
         1D:D426  20 50 E8   			call	_spr_ctrl.2
 9192                        	
 9193                        		.dbg	line,	"include\routines_LEVELS.c", 979; spr_set(weapon_id);
 9194                        		__ld.umq	_weapon_id
         1D:D429  AD 28 23   			lda	_weapon_id
 9195                        		__call		_spr_set.1
         1D:D42C  20 F1 E7   			call	_spr_set.1
 9196                        	
 9197                        		.dbg	line,	"include\routines_LEVELS.c", 980; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 9198                        		__st.umiq	136, _al
         1D:D42F  A9 88      			lda.l	#136
         1D:D431  85 F8      			sta	_al
 9199                        		__ld.uiq	0
         1D:D433  62         			cla
 9200                        		__call		_spr_ctrl.2
         1D:D434  20 50 E8   			call	_spr_ctrl.2
 9201                        	
 9202                        		.dbg	line,	"include\routines_LEVELS.c", 981; spr_x(player_pos_x+1);
 9203                        		__ld.wm		_player_pos_x
         1D:D437  AD 01 25   			lda.l	_player_pos_x
         1D:D43A  AC 02 25   			ldy.h	_player_pos_x
 9204                        		__add.wi	1
         1D:D43D  1A         			inc	a
         1D:D43E  D0 01      			bne	!+
         1D:D440  C8         			iny
         1D:D441             	!:
 9205                        		__call		_spr_x.1
         1D:D441  20 1E E8   			call	_spr_x.1
 9206                        	
 9207                        		.dbg	line,	"include\routines_LEVELS.c", 982; }
 9208                        	
 9209                        		.dbg	line,	"include\routines_LEVELS.c", 984; if(joy(JOYPAD_1) & JOY_DOWN)
 9210    1D:D444             	.LL406:
 9211                        		__ld.uiq	0
         1D:D444  62         			cla
 9212                        		 _joy.1
         1D:D445  AA         			tax
         1D:D446  BD 28 22   			lda	joynow, x
         1D:D449  BC D3 22   			ldy	joy6now, x
 9213                        		__tand.wi	64
         1D:D44C  29 40      			and	#64
         1D:D44E  C9 01      	!:		cmp	#1
 9214                        		__bfalse	.LL407
         1D:D450  90 0D      			bcc	.LL407
 9215                        	
 9216                        		.dbg	line,	"include\routines_LEVELS.c", 985; {
 9217                        	
 9218                        		.dbg	line,	"include\routines_LEVELS.c", 986; player_counter_anim = 1;
 9219                        		__st.umiq	1, _player_counter_anim
         1D:D452  A9 01      			lda.l	#1
         1D:D454  8D 1D 23   			sta	_player_counter_anim
 9220                        	
 9221                        		.dbg	line,	"include\routines_LEVELS.c", 987; player_state = STATE_CROUCH;
 9222                        		__st.umiq	7, _player_state
         1D:D457  A9 07      			lda.l	#7
         1D:D459  8D 1A 23   			sta	_player_state
 9223                        	
 9224                        		.dbg	line,	"include\routines_LEVELS.c", 988; return;
 9225                        		__bra		.LL394
         1D:D45C  4C D4 DE   			bra	.LL394
 9226                        	
 9227                        		.dbg	line,	"include\routines_LEVELS.c", 989; }
 9228                        	
 9229                        		.dbg	line,	"include\routines_LEVELS.c", 991; player_state = STATE_WALK;
 9230    1D:D45F             	.LL407:
 9231                        		__st.umiq	1, _player_state
         1D:D45F  A9 01      			lda.l	#1
         1D:D461  8D 1A 23   			sta	_player_state
 9232                        	
 9233                        		.dbg	line,	"include\routines_LEVELS.c", 992; }
 9234                        	
 9235                        		.dbg	line,	"include\routines_LEVELS.c", 995; else if(player_state == STATE_JUMP)
 9236                        		__bra		.LL408
         1D:D464  4C D4 DE   			bra	.LL408
 9237    1D:D467             	.LL404:
 9238                        		__ld.umq	_player_state
         1D:D467  AD 1A 23   			lda	_player_state
 9239                        		__equ_b.uiq	4
         1D:D46A  C9 04      			cmp	#4
         1D:D46C  F0 01      			beq	!+
         1D:D46E  18         			clc
         1D:D46F             	!:
 9240                        		__bfalse	.LL409
         1D:D46F  B0 03 4C 13			bcc	.LL409
         1D:D473  D5          
 9241                        	
 9242                        		.dbg	line,	"include\routines_LEVELS.c", 996; {
 9243                        	
 9244                        		.dbg	line,	"include\routines_LEVELS.c", 997; if(player_attack == FALSE)
 9245                        		__not.um	_player_attack
         1D:D474  AD 22 23   			lda	_player_attack
         1D:D477  18         			clc
         1D:D478  D0 01      			bne	!+
         1D:D47A  38         			sec
         1D:D47B             	!:
 9246                        		__bfalse	.LL410
         1D:D47B  B0 03 4C D4			bcc	.LL410
         1D:D47F  DE          
 9247                        	
 9248                        		.dbg	line,	"include\routines_LEVELS.c", 998; {
 9249                        	
 9250                        		.dbg	line,	"include\routines_LEVELS.c", 999; if(player_axis == AXIS_LEFT)
 9251                        		__ld.umq	_player_axis
         1D:D480  AD 1B 23   			lda	_player_axis
 9252                        		__equ_b.uiq	1
         1D:D483  C9 01      			cmp	#1
         1D:D485  F0 01      			beq	!+
         1D:D487  18         			clc
         1D:D488             	!:
 9253                        		__bfalse	.LL411
         1D:D488  90 6B      			bcc	.LL411
 9254                        	
 9255                        		.dbg	line,	"include\routines_LEVELS.c", 1000; {
 9256                        	
 9257                        		.dbg	line,	"include\routines_LEVELS.c", 1001; player_axis = AXIS_RIGHT;
 9258                        		__st.umiq	0, _player_axis
         1D:D48A  9C 1B 23   			stz	_player_axis
 9259                        	
 9260                        		.dbg	line,	"include\routines_LEVELS.c", 1002; player_previous_axis = player_axis;
 9261                        		__ld.um		_player_axis
         1D:D48D  AD 1B 23   			lda	_player_axis
         1D:D490  C2         			cly
 9262                        		__st.umq	_player_previous_axis
         1D:D491  8D 1C 23   			sta	_player_previous_axis
 9263                        	
 9264                        		.dbg	line,	"include\routines_LEVELS.c", 1004; spr_set(player_id);
 9265                        		__ld.umq	_player_id
         1D:D494  AD 19 23   			lda	_player_id
 9266                        		__call		_spr_set.1
         1D:D497  20 F1 E7   			call	_spr_set.1
 9267                        	
 9268                        		.dbg	line,	"include\routines_LEVELS.c", 1005; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 9269                        		__st.umiq	136, _al
         1D:D49A  A9 88      			lda.l	#136
         1D:D49C  85 F8      			sta	_al
 9270                        		__ld.uiq	0
         1D:D49E  62         			cla
 9271                        		__call		_spr_ctrl.2
         1D:D49F  20 50 E8   			call	_spr_ctrl.2
 9272                        	
 9273                        		.dbg	line,	"include\routines_LEVELS.c", 1007; spr_set(chain_id);
 9274                        		__ld.umq	_chain_id
         1D:D4A2  AD 27 23   			lda	_chain_id
 9275                        		__call		_spr_set.1
         1D:D4A5  20 F1 E7   			call	_spr_set.1
 9276                        	
 9277                        		.dbg	line,	"include\routines_LEVELS.c", 1008; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 9278                        		__st.umiq	136, _al
         1D:D4A8  A9 88      			lda.l	#136
         1D:D4AA  85 F8      			sta	_al
 9279                        		__ld.uiq	0
         1D:D4AC  62         			cla
 9280                        		__call		_spr_ctrl.2
         1D:D4AD  20 50 E8   			call	_spr_ctrl.2
 9281                        	
 9282                        		.dbg	line,	"include\routines_LEVELS.c", 1010; spr_set(chain_id+1);
 9283                        		__ld.um		_chain_id
         1D:D4B0  AD 27 23   			lda	_chain_id
         1D:D4B3  C2         			cly
 9284                        		__add.wi	1
         1D:D4B4  1A         			inc	a
         1D:D4B5  D0 01      			bne	!+
         1D:D4B7  C8         			iny
         1D:D4B8             	!:
 9285                        		__call		_spr_set.1
         1D:D4B8  20 F1 E7   			call	_spr_set.1
 9286                        	
 9287                        		.dbg	line,	"include\routines_LEVELS.c", 1011; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 9288                        		__st.umiq	136, _al
         1D:D4BB  A9 88      			lda.l	#136
         1D:D4BD  85 F8      			sta	_al
 9289                        		__ld.uiq	0
         1D:D4BF  62         			cla
 9290                        		__call		_spr_ctrl.2
         1D:D4C0  20 50 E8   			call	_spr_ctrl.2
 9291                        	
 9292                        		.dbg	line,	"include\routines_LEVELS.c", 1013; spr_set(chain_id+2);
 9293                        		__ld.um		_chain_id
         1D:D4C3  AD 27 23   			lda	_chain_id
         1D:D4C6  C2         			cly
 9294                        		__add.wi	2
         1D:D4C7  18         			clc
         1D:D4C8  69 02      			adc.l	#2
         1D:D4CA  90 01      			bcc	!+
         1D:D4CC  C8         			iny
         1D:D4CD             	!:
 9295                        		__call		_spr_set.1
         1D:D4CD  20 F1 E7   			call	_spr_set.1
 9296                        	
 9297                        		.dbg	line,	"include\routines_LEVELS.c", 1014; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 9298                        		__st.umiq	136, _al
         1D:D4D0  A9 88      			lda.l	#136
         1D:D4D2  85 F8      			sta	_al
 9299                        		__ld.uiq	0
         1D:D4D4  62         			cla
 9300                        		__call		_spr_ctrl.2
         1D:D4D5  20 50 E8   			call	_spr_ctrl.2
 9301                        	
 9302                        		.dbg	line,	"include\routines_LEVELS.c", 1016; spr_set(weapon_id);
 9303                        		__ld.umq	_weapon_id
         1D:D4D8  AD 28 23   			lda	_weapon_id
 9304                        		__call		_spr_set.1
         1D:D4DB  20 F1 E7   			call	_spr_set.1
 9305                        	
 9306                        		.dbg	line,	"include\routines_LEVELS.c", 1017; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 9307                        		__st.umiq	136, _al
         1D:D4DE  A9 88      			lda.l	#136
         1D:D4E0  85 F8      			sta	_al
 9308                        		__ld.uiq	0
         1D:D4E2  62         			cla
 9309                        		__call		_spr_ctrl.2
         1D:D4E3  20 50 E8   			call	_spr_ctrl.2
 9310                        	
 9311                        		.dbg	line,	"include\routines_LEVELS.c", 1018; spr_x(player_pos_x-5);
 9312                        		__ld.wm		_player_pos_x
         1D:D4E6  AD 01 25   			lda.l	_player_pos_x
         1D:D4E9  AC 02 25   			ldy.h	_player_pos_x
 9313                        		__sub.wi	5
         1D:D4EC  38         			sec
         1D:D4ED  E9 05      			sbc.l	#5
         1D:D4EF  B0 01      			bcs	!+
         1D:D4F1  88         			dey
         1D:D4F2             	!:
 9314                        		__call		_spr_x.1
         1D:D4F2  20 1E E8   			call	_spr_x.1
 9315                        	
 9316                        		.dbg	line,	"include\routines_LEVELS.c", 1019; }
 9317                        	
 9318                        		.dbg	line,	"include\routines_LEVELS.c", 1021; if(player_index_jump > 11 && player_index_jump < 15)
 9319    1D:D4F5             	.LL411:
 9320                        		__ld.umq	_player_index_jump
         1D:D4F5  AD 1E 23   			lda	_player_index_jump
 9321                        		__ugt_b.uiq	11
         1D:D4F8  18         			clc			; Subtract integer+1 from A.
         1D:D4F9  E9 0B      			sbc	#11		; CS if A > integer.
 9322                        		__bfalse	.LL413
         1D:D4FB  90 09      			bcc	.LL413
 9323                        		__ld.umq	_player_index_jump
         1D:D4FD  AD 1E 23   			lda	_player_index_jump
 9324                        		__ult_b.uiq	15
         1D:D500  C9 0F      			cmp	#15		; Subtract integer from A.
         1D:D502  6A         			ror	a		; CC if A < integer.
         1D:D503  49 80      			eor	#$80
         1D:D505  2A         			rol	a
 9325    1D:D506             	.LL413:
 9326                        		__bfalse	.LL412
         1D:D506  B0 03 4C D4			bcc	.LL412
         1D:D50A  DE          
 9327                        	
 9328                        		.dbg	line,	"include\routines_LEVELS.c", 1022; {
 9329                        	
 9330                        		.dbg	line,	"include\routines_LEVELS.c", 1023; player_state = STATE_JUMP_RIGHT;                        
 9331                        		__st.umiq	5, _player_state
         1D:D50B  A9 05      			lda.l	#5
         1D:D50D  8D 1A 23   			sta	_player_state
 9332                        	
 9333                        		.dbg	line,	"include\routines_LEVELS.c", 1024; }
 9334                        	
 9335                        		.dbg	line,	"include\routines_LEVELS.c", 1025; }
 9336    1D:D510             	.LL412	.alias		.LL414
 9337                        	
 9338                        		.dbg	line,	"include\routines_LEVELS.c", 1026; }
 9339    1D:D510             	.LL410	.alias		.LL414
 9340                        	
 9341                        		.dbg	line,	"include\routines_LEVELS.c", 1029; else if(player_state == STATE_JUMP_LEFT)
 9342                        		__bra		.LL414
         1D:D510  4C D4 DE   			bra	.LL414
 9343    1D:D513             	.LL409:
 9344                        		__ld.umq	_player_state
         1D:D513  AD 1A 23   			lda	_player_state
 9345                        		__equ_b.uiq	6
         1D:D516  C9 06      			cmp	#6
         1D:D518  F0 01      			beq	!+
         1D:D51A  18         			clc
         1D:D51B             	!:
 9346                        		__bfalse	.LL415
         1D:D51B  90 7B      			bcc	.LL415
 9347                        	
 9348                        		.dbg	line,	"include\routines_LEVELS.c", 1030; {
 9349                        	
 9350                        		.dbg	line,	"include\routines_LEVELS.c", 1031; if(player_axis == AXIS_LEFT)
 9351                        		__ld.umq	_player_axis
         1D:D51D  AD 1B 23   			lda	_player_axis
 9352                        		__equ_b.uiq	1
         1D:D520  C9 01      			cmp	#1
         1D:D522  F0 01      			beq	!+
         1D:D524  18         			clc
         1D:D525             	!:
 9353                        		__bfalse	.LL416
         1D:D525  B0 03 4C D4			bcc	.LL416
         1D:D529  DE          
 9354                        	
 9355                        		.dbg	line,	"include\routines_LEVELS.c", 1032; {
 9356                        	
 9357                        		.dbg	line,	"include\routines_LEVELS.c", 1033; player_axis = AXIS_RIGHT;
 9358                        		__st.umiq	0, _player_axis
         1D:D52A  9C 1B 23   			stz	_player_axis
 9359                        	
 9360                        		.dbg	line,	"include\routines_LEVELS.c", 1034; player_previous_axis = player_axis;
 9361                        		__ld.um		_player_axis
         1D:D52D  AD 1B 23   			lda	_player_axis
         1D:D530  C2         			cly
 9362                        		__st.umq	_player_previous_axis
         1D:D531  8D 1C 23   			sta	_player_previous_axis
 9363                        	
 9364                        		.dbg	line,	"include\routines_LEVELS.c", 1036; spr_set(player_id);
 9365                        		__ld.umq	_player_id
         1D:D534  AD 19 23   			lda	_player_id
 9366                        		__call		_spr_set.1
         1D:D537  20 F1 E7   			call	_spr_set.1
 9367                        	
 9368                        		.dbg	line,	"include\routines_LEVELS.c", 1037; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 9369                        		__st.umiq	136, _al
         1D:D53A  A9 88      			lda.l	#136
         1D:D53C  85 F8      			sta	_al
 9370                        		__ld.uiq	0
         1D:D53E  62         			cla
 9371                        		__call		_spr_ctrl.2
         1D:D53F  20 50 E8   			call	_spr_ctrl.2
 9372                        	
 9373                        		.dbg	line,	"include\routines_LEVELS.c", 1039; spr_set(chain_id);
 9374                        		__ld.umq	_chain_id
         1D:D542  AD 27 23   			lda	_chain_id
 9375                        		__call		_spr_set.1
         1D:D545  20 F1 E7   			call	_spr_set.1
 9376                        	
 9377                        		.dbg	line,	"include\routines_LEVELS.c", 1040; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 9378                        		__st.umiq	136, _al
         1D:D548  A9 88      			lda.l	#136
         1D:D54A  85 F8      			sta	_al
 9379                        		__ld.uiq	0
         1D:D54C  62         			cla
 9380                        		__call		_spr_ctrl.2
         1D:D54D  20 50 E8   			call	_spr_ctrl.2
 9381                        	
 9382                        		.dbg	line,	"include\routines_LEVELS.c", 1042; spr_set(chain_id+1);
 9383                        		__ld.um		_chain_id
         1D:D550  AD 27 23   			lda	_chain_id
         1D:D553  C2         			cly
 9384                        		__add.wi	1
         1D:D554  1A         			inc	a
         1D:D555  D0 01      			bne	!+
         1D:D557  C8         			iny
         1D:D558             	!:
 9385                        		__call		_spr_set.1
         1D:D558  20 F1 E7   			call	_spr_set.1
 9386                        	
 9387                        		.dbg	line,	"include\routines_LEVELS.c", 1043; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 9388                        		__st.umiq	136, _al
         1D:D55B  A9 88      			lda.l	#136
         1D:D55D  85 F8      			sta	_al
 9389                        		__ld.uiq	0
         1D:D55F  62         			cla
 9390                        		__call		_spr_ctrl.2
         1D:D560  20 50 E8   			call	_spr_ctrl.2
 9391                        	
 9392                        		.dbg	line,	"include\routines_LEVELS.c", 1045; spr_set(chain_id+2);
 9393                        		__ld.um		_chain_id
         1D:D563  AD 27 23   			lda	_chain_id
         1D:D566  C2         			cly
 9394                        		__add.wi	2
         1D:D567  18         			clc
         1D:D568  69 02      			adc.l	#2
         1D:D56A  90 01      			bcc	!+
         1D:D56C  C8         			iny
         1D:D56D             	!:
 9395                        		__call		_spr_set.1
         1D:D56D  20 F1 E7   			call	_spr_set.1
 9396                        	
 9397                        		.dbg	line,	"include\routines_LEVELS.c", 1046; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 9398                        		__st.umiq	136, _al
         1D:D570  A9 88      			lda.l	#136
         1D:D572  85 F8      			sta	_al
 9399                        		__ld.uiq	0
         1D:D574  62         			cla
 9400                        		__call		_spr_ctrl.2
         1D:D575  20 50 E8   			call	_spr_ctrl.2
 9401                        	
 9402                        		.dbg	line,	"include\routines_LEVELS.c", 1048; spr_set(weapon_id);
 9403                        		__ld.umq	_weapon_id
         1D:D578  AD 28 23   			lda	_weapon_id
 9404                        		__call		_spr_set.1
         1D:D57B  20 F1 E7   			call	_spr_set.1
 9405                        	
 9406                        		.dbg	line,	"include\routines_LEVELS.c", 1049; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 9407                        		__st.umiq	136, _al
         1D:D57E  A9 88      			lda.l	#136
         1D:D580  85 F8      			sta	_al
 9408                        		__ld.uiq	0
         1D:D582  62         			cla
 9409                        		__call		_spr_ctrl.2
         1D:D583  20 50 E8   			call	_spr_ctrl.2
 9410                        	
 9411                        		.dbg	line,	"include\routines_LEVELS.c", 1050; spr_x(player_pos_x-5);
 9412                        		__ld.wm		_player_pos_x
         1D:D586  AD 01 25   			lda.l	_player_pos_x
         1D:D589  AC 02 25   			ldy.h	_player_pos_x
 9413                        		__sub.wi	5
         1D:D58C  38         			sec
         1D:D58D  E9 05      			sbc.l	#5
         1D:D58F  B0 01      			bcs	!+
         1D:D591  88         			dey
         1D:D592             	!:
 9414                        		__call		_spr_x.1
         1D:D592  20 1E E8   			call	_spr_x.1
 9415                        	
 9416                        		.dbg	line,	"include\routines_LEVELS.c", 1051; }
 9417                        	
 9418                        		.dbg	line,	"include\routines_LEVELS.c", 1052; }
 9419    1D:D595             	.LL416	.alias		.LL417
 9420                        	
 9421                        		.dbg	line,	"include\routines_LEVELS.c", 1055; else if(player_state == STATE_CROUCH)
 9422                        		__bra		.LL417
         1D:D595  4C D4 DE   			bra	.LL417
 9423    1D:D598             	.LL415:
 9424                        		__ld.umq	_player_state
         1D:D598  AD 1A 23   			lda	_player_state
 9425                        		__equ_b.uiq	7
         1D:D59B  C9 07      			cmp	#7
         1D:D59D  F0 01      			beq	!+
         1D:D59F  18         			clc
         1D:D5A0             	!:
 9426                        		__bfalse	.LL418
         1D:D5A0  B0 03 4C AB			bcc	.LL418
         1D:D5A4  D6          
 9427                        	
 9428                        		.dbg	line,	"include\routines_LEVELS.c", 1056; {
 9429                        	
 9430                        		.dbg	line,	"include\routines_LEVELS.c", 1057; if(joy(JOYPAD_1) & JOY_DOWN)
 9431                        		__ld.uiq	0
         1D:D5A5  62         			cla
 9432                        		 _joy.1
         1D:D5A6  AA         			tax
         1D:D5A7  BD 28 22   			lda	joynow, x
         1D:D5AA  BC D3 22   			ldy	joy6now, x
 9433                        		__tand.wi	64
         1D:D5AD  29 40      			and	#64
         1D:D5AF  C9 01      	!:		cmp	#1
 9434                        		__bfalse	.LL419
         1D:D5B1  90 7B      			bcc	.LL419
 9435                        	
 9436                        		.dbg	line,	"include\routines_LEVELS.c", 1058; {
 9437                        	
 9438                        		.dbg	line,	"include\routines_LEVELS.c", 1059; if(player_axis == AXIS_LEFT)
 9439                        		__ld.umq	_player_axis
         1D:D5B3  AD 1B 23   			lda	_player_axis
 9440                        		__equ_b.uiq	1
         1D:D5B6  C9 01      			cmp	#1
         1D:D5B8  F0 01      			beq	!+
         1D:D5BA  18         			clc
         1D:D5BB             	!:
 9441                        		__bfalse	.LL420
         1D:D5BB  B0 03 4C D4			bcc	.LL420
         1D:D5BF  DE          
 9442                        	
 9443                        		.dbg	line,	"include\routines_LEVELS.c", 1060; {
 9444                        	
 9445                        		.dbg	line,	"include\routines_LEVELS.c", 1061; player_axis = AXIS_RIGHT;
 9446                        		__st.umiq	0, _player_axis
         1D:D5C0  9C 1B 23   			stz	_player_axis
 9447                        	
 9448                        		.dbg	line,	"include\routines_LEVELS.c", 1062; player_previous_axis = player_axis;
 9449                        		__ld.um		_player_axis
         1D:D5C3  AD 1B 23   			lda	_player_axis
         1D:D5C6  C2         			cly
 9450                        		__st.umq	_player_previous_axis
         1D:D5C7  8D 1C 23   			sta	_player_previous_axis
 9451                        	
 9452                        		.dbg	line,	"include\routines_LEVELS.c", 1064; spr_set(player_id);
 9453                        		__ld.umq	_player_id
         1D:D5CA  AD 19 23   			lda	_player_id
 9454                        		__call		_spr_set.1
         1D:D5CD  20 F1 E7   			call	_spr_set.1
 9455                        	
 9456                        		.dbg	line,	"include\routines_LEVELS.c", 1065; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 9457                        		__st.umiq	136, _al
         1D:D5D0  A9 88      			lda.l	#136
         1D:D5D2  85 F8      			sta	_al
 9458                        		__ld.uiq	0
         1D:D5D4  62         			cla
 9459                        		__call		_spr_ctrl.2
         1D:D5D5  20 50 E8   			call	_spr_ctrl.2
 9460                        	
 9461                        		.dbg	line,	"include\routines_LEVELS.c", 1067; spr_set(chain_id);
 9462                        		__ld.umq	_chain_id
         1D:D5D8  AD 27 23   			lda	_chain_id
 9463                        		__call		_spr_set.1
         1D:D5DB  20 F1 E7   			call	_spr_set.1
 9464                        	
 9465                        		.dbg	line,	"include\routines_LEVELS.c", 1068; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 9466                        		__st.umiq	136, _al
         1D:D5DE  A9 88      			lda.l	#136
         1D:D5E0  85 F8      			sta	_al
 9467                        		__ld.uiq	0
         1D:D5E2  62         			cla
 9468                        		__call		_spr_ctrl.2
         1D:D5E3  20 50 E8   			call	_spr_ctrl.2
 9469                        	
 9470                        		.dbg	line,	"include\routines_LEVELS.c", 1070; spr_set(chain_id+1);
 9471                        		__ld.um		_chain_id
         1D:D5E6  AD 27 23   			lda	_chain_id
         1D:D5E9  C2         			cly
 9472                        		__add.wi	1
         1D:D5EA  1A         			inc	a
         1D:D5EB  D0 01      			bne	!+
         1D:D5ED  C8         			iny
         1D:D5EE             	!:
 9473                        		__call		_spr_set.1
         1D:D5EE  20 F1 E7   			call	_spr_set.1
 9474                        	
 9475                        		.dbg	line,	"include\routines_LEVELS.c", 1071; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 9476                        		__st.umiq	136, _al
         1D:D5F1  A9 88      			lda.l	#136
         1D:D5F3  85 F8      			sta	_al
 9477                        		__ld.uiq	0
         1D:D5F5  62         			cla
 9478                        		__call		_spr_ctrl.2
         1D:D5F6  20 50 E8   			call	_spr_ctrl.2
 9479                        	
 9480                        		.dbg	line,	"include\routines_LEVELS.c", 1073; spr_set(chain_id+2);
 9481                        		__ld.um		_chain_id
         1D:D5F9  AD 27 23   			lda	_chain_id
         1D:D5FC  C2         			cly
 9482                        		__add.wi	2
         1D:D5FD  18         			clc
         1D:D5FE  69 02      			adc.l	#2
         1D:D600  90 01      			bcc	!+
         1D:D602  C8         			iny
         1D:D603             	!:
 9483                        		__call		_spr_set.1
         1D:D603  20 F1 E7   			call	_spr_set.1
 9484                        	
 9485                        		.dbg	line,	"include\routines_LEVELS.c", 1074; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 9486                        		__st.umiq	136, _al
         1D:D606  A9 88      			lda.l	#136
         1D:D608  85 F8      			sta	_al
 9487                        		__ld.uiq	0
         1D:D60A  62         			cla
 9488                        		__call		_spr_ctrl.2
         1D:D60B  20 50 E8   			call	_spr_ctrl.2
 9489                        	
 9490                        		.dbg	line,	"include\routines_LEVELS.c", 1076; spr_set(weapon_id);
 9491                        		__ld.umq	_weapon_id
         1D:D60E  AD 28 23   			lda	_weapon_id
 9492                        		__call		_spr_set.1
         1D:D611  20 F1 E7   			call	_spr_set.1
 9493                        	
 9494                        		.dbg	line,	"include\routines_LEVELS.c", 1077; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 9495                        		__st.umiq	136, _al
         1D:D614  A9 88      			lda.l	#136
         1D:D616  85 F8      			sta	_al
 9496                        		__ld.uiq	0
         1D:D618  62         			cla
 9497                        		__call		_spr_ctrl.2
         1D:D619  20 50 E8   			call	_spr_ctrl.2
 9498                        	
 9499                        		.dbg	line,	"include\routines_LEVELS.c", 1078; spr_x(player_pos_x-1);
 9500                        		__ld.wm		_player_pos_x
         1D:D61C  AD 01 25   			lda.l	_player_pos_x
         1D:D61F  AC 02 25   			ldy.h	_player_pos_x
 9501                        		__sub.wi	1
         1D:D622  38         			sec
         1D:D623  E9 01      			sbc.l	#1
         1D:D625  B0 01      			bcs	!+
         1D:D627  88         			dey
         1D:D628             	!:
 9502                        		__call		_spr_x.1
         1D:D628  20 1E E8   			call	_spr_x.1
 9503                        	
 9504                        		.dbg	line,	"include\routines_LEVELS.c", 1079; }
 9505                        	
 9506                        		.dbg	line,	"include\routines_LEVELS.c", 1080; }
 9507    1D:D62B             	.LL420	.alias		.LL421
 9508                        	
 9509                        		.dbg	line,	"include\routines_LEVELS.c", 1082; else
 9510                        		__bra		.LL421
         1D:D62B  4C D4 DE   			bra	.LL421
 9511    1D:D62E             	.LL419:
 9512                        	
 9513                        		.dbg	line,	"include\routines_LEVELS.c", 1083; {
 9514                        	
 9515                        		.dbg	line,	"include\routines_LEVELS.c", 1084; player_axis = AXIS_RIGHT;
 9516                        		__st.umiq	0, _player_axis
         1D:D62E  9C 1B 23   			stz	_player_axis
 9517                        	
 9518                        		.dbg	line,	"include\routines_LEVELS.c", 1085; 
 9519                        	
 9520                        		.dbg	line,	"include\routines_LEVELS.c", 1086; if(player_previous_axis != player_axis)
 9521                        		__ld.umq	_player_previous_axis
         1D:D631  AD 1C 23   			lda	_player_previous_axis
 9522                        		__neq_b.umq	_player_axis
         1D:D634  38         			sec
         1D:D635  4D 1B 23   			eor	_player_axis
         1D:D638  D0 01      			bne	!+
         1D:D63A  18         			clc
         1D:D63B             	!:
 9523                        		__bfalse	.LL422
         1D:D63B  90 66      			bcc	.LL422
 9524                        	
 9525                        		.dbg	line,	"include\routines_LEVELS.c", 1087; {
 9526                        	
 9527                        		.dbg	line,	"include\routines_LEVELS.c", 1088; player_previous_axis = player_axis;
 9528                        		__ld.um		_player_axis
         1D:D63D  AD 1B 23   			lda	_player_axis
         1D:D640  C2         			cly
 9529                        		__st.umq	_player_previous_axis
         1D:D641  8D 1C 23   			sta	_player_previous_axis
 9530                        	
 9531                        		.dbg	line,	"include\routines_LEVELS.c", 1090; spr_set(player_id);
 9532                        		__ld.umq	_player_id
         1D:D644  AD 19 23   			lda	_player_id
 9533                        		__call		_spr_set.1
         1D:D647  20 F1 E7   			call	_spr_set.1
 9534                        	
 9535                        		.dbg	line,	"include\routines_LEVELS.c", 1091; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 9536                        		__st.umiq	136, _al
         1D:D64A  A9 88      			lda.l	#136
         1D:D64C  85 F8      			sta	_al
 9537                        		__ld.uiq	0
         1D:D64E  62         			cla
 9538                        		__call		_spr_ctrl.2
         1D:D64F  20 50 E8   			call	_spr_ctrl.2
 9539                        	
 9540                        		.dbg	line,	"include\routines_LEVELS.c", 1093; spr_set(chain_id);
 9541                        		__ld.umq	_chain_id
         1D:D652  AD 27 23   			lda	_chain_id
 9542                        		__call		_spr_set.1
         1D:D655  20 F1 E7   			call	_spr_set.1
 9543                        	
 9544                        		.dbg	line,	"include\routines_LEVELS.c", 1094; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 9545                        		__st.umiq	136, _al
         1D:D658  A9 88      			lda.l	#136
         1D:D65A  85 F8      			sta	_al
 9546                        		__ld.uiq	0
         1D:D65C  62         			cla
 9547                        		__call		_spr_ctrl.2
         1D:D65D  20 50 E8   			call	_spr_ctrl.2
 9548                        	
 9549                        		.dbg	line,	"include\routines_LEVELS.c", 1096; spr_set(chain_id+1);
 9550                        		__ld.um		_chain_id
         1D:D660  AD 27 23   			lda	_chain_id
         1D:D663  C2         			cly
 9551                        		__add.wi	1
         1D:D664  1A         			inc	a
         1D:D665  D0 01      			bne	!+
         1D:D667  C8         			iny
         1D:D668             	!:
 9552                        		__call		_spr_set.1
         1D:D668  20 F1 E7   			call	_spr_set.1
 9553                        	
 9554                        		.dbg	line,	"include\routines_LEVELS.c", 1097; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 9555                        		__st.umiq	136, _al
         1D:D66B  A9 88      			lda.l	#136
         1D:D66D  85 F8      			sta	_al
 9556                        		__ld.uiq	0
         1D:D66F  62         			cla
 9557                        		__call		_spr_ctrl.2
         1D:D670  20 50 E8   			call	_spr_ctrl.2
 9558                        	
 9559                        		.dbg	line,	"include\routines_LEVELS.c", 1099; spr_set(chain_id+2);
 9560                        		__ld.um		_chain_id
         1D:D673  AD 27 23   			lda	_chain_id
         1D:D676  C2         			cly
 9561                        		__add.wi	2
         1D:D677  18         			clc
         1D:D678  69 02      			adc.l	#2
         1D:D67A  90 01      			bcc	!+
         1D:D67C  C8         			iny
         1D:D67D             	!:
 9562                        		__call		_spr_set.1
         1D:D67D  20 F1 E7   			call	_spr_set.1
 9563                        	
 9564                        		.dbg	line,	"include\routines_LEVELS.c", 1100; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 9565                        		__st.umiq	136, _al
         1D:D680  A9 88      			lda.l	#136
         1D:D682  85 F8      			sta	_al
 9566                        		__ld.uiq	0
         1D:D684  62         			cla
 9567                        		__call		_spr_ctrl.2
         1D:D685  20 50 E8   			call	_spr_ctrl.2
 9568                        	
 9569                        		.dbg	line,	"include\routines_LEVELS.c", 1102; spr_set(weapon_id);
 9570                        		__ld.umq	_weapon_id
         1D:D688  AD 28 23   			lda	_weapon_id
 9571                        		__call		_spr_set.1
         1D:D68B  20 F1 E7   			call	_spr_set.1
 9572                        	
 9573                        		.dbg	line,	"include\routines_LEVELS.c", 1103; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 9574                        		__st.umiq	136, _al
         1D:D68E  A9 88      			lda.l	#136
         1D:D690  85 F8      			sta	_al
 9575                        		__ld.uiq	0
         1D:D692  62         			cla
 9576                        		__call		_spr_ctrl.2
         1D:D693  20 50 E8   			call	_spr_ctrl.2
 9577                        	
 9578                        		.dbg	line,	"include\routines_LEVELS.c", 1104; spr_x(player_pos_x+1);
 9579                        		__ld.wm		_player_pos_x
         1D:D696  AD 01 25   			lda.l	_player_pos_x
         1D:D699  AC 02 25   			ldy.h	_player_pos_x
 9580                        		__add.wi	1
         1D:D69C  1A         			inc	a
         1D:D69D  D0 01      			bne	!+
         1D:D69F  C8         			iny
         1D:D6A0             	!:
 9581                        		__call		_spr_x.1
         1D:D6A0  20 1E E8   			call	_spr_x.1
 9582                        	
 9583                        		.dbg	line,	"include\routines_LEVELS.c", 1105; }
 9584                        	
 9585                        		.dbg	line,	"include\routines_LEVELS.c", 1107; player_state = STATE_WALK;
 9586    1D:D6A3             	.LL422:
 9587                        		__st.umiq	1, _player_state
         1D:D6A3  A9 01      			lda.l	#1
         1D:D6A5  8D 1A 23   			sta	_player_state
 9588                        	
 9589                        		.dbg	line,	"include\routines_LEVELS.c", 1108; }
 9590    1D:D6A8             	.LL421	.alias		.LL423
 9591                        	
 9592                        		.dbg	line,	"include\routines_LEVELS.c", 1109; }
 9593                        	
 9594                        		.dbg	line,	"include\routines_LEVELS.c", 1112; else if(player_state == STATE_FALL)
 9595                        		__bra		.LL423
         1D:D6A8  4C D4 DE   			bra	.LL423
 9596    1D:D6AB             	.LL418:
 9597                        		__ld.umq	_player_state
         1D:D6AB  AD 1A 23   			lda	_player_state
 9598                        		__equ_b.uiq	9
         1D:D6AE  C9 09      			cmp	#9
         1D:D6B0  F0 01      			beq	!+
         1D:D6B2  18         			clc
         1D:D6B3             	!:
 9599                        		__bfalse	.LL424
         1D:D6B3  B0 03 4C 3F			bcc	.LL424
         1D:D6B7  D7          
 9600                        	
 9601                        		.dbg	line,	"include\routines_LEVELS.c", 1113; {
 9602                        	
 9603                        		.dbg	line,	"include\routines_LEVELS.c", 1114; if(player_attack == FALSE)
 9604                        		__not.um	_player_attack
         1D:D6B8  AD 22 23   			lda	_player_attack
         1D:D6BB  18         			clc
         1D:D6BC  D0 01      			bne	!+
         1D:D6BE  38         			sec
         1D:D6BF             	!:
 9605                        		__bfalse	.LL425
         1D:D6BF  B0 03 4C D4			bcc	.LL425
         1D:D6C3  DE          
 9606                        	
 9607                        		.dbg	line,	"include\routines_LEVELS.c", 1115; {
 9608                        	
 9609                        		.dbg	line,	"include\routines_LEVELS.c", 1116; if(player_axis == AXIS_LEFT)
 9610                        		__ld.umq	_player_axis
         1D:D6C4  AD 1B 23   			lda	_player_axis
 9611                        		__equ_b.uiq	1
         1D:D6C7  C9 01      			cmp	#1
         1D:D6C9  F0 01      			beq	!+
         1D:D6CB  18         			clc
         1D:D6CC             	!:
 9612                        		__bfalse	.LL426
         1D:D6CC  B0 03 4C D4			bcc	.LL426
         1D:D6D0  DE          
 9613                        	
 9614                        		.dbg	line,	"include\routines_LEVELS.c", 1117; {
 9615                        	
 9616                        		.dbg	line,	"include\routines_LEVELS.c", 1118; player_axis = AXIS_RIGHT;
 9617                        		__st.umiq	0, _player_axis
         1D:D6D1  9C 1B 23   			stz	_player_axis
 9618                        	
 9619                        		.dbg	line,	"include\routines_LEVELS.c", 1119; player_previous_axis = player_axis;
 9620                        		__ld.um		_player_axis
         1D:D6D4  AD 1B 23   			lda	_player_axis
         1D:D6D7  C2         			cly
 9621                        		__st.umq	_player_previous_axis
         1D:D6D8  8D 1C 23   			sta	_player_previous_axis
 9622                        	
 9623                        		.dbg	line,	"include\routines_LEVELS.c", 1121; spr_set(player_id);
 9624                        		__ld.umq	_player_id
         1D:D6DB  AD 19 23   			lda	_player_id
 9625                        		__call		_spr_set.1
         1D:D6DE  20 F1 E7   			call	_spr_set.1
 9626                        	
 9627                        		.dbg	line,	"include\routines_LEVELS.c", 1122; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 9628                        		__st.umiq	136, _al
         1D:D6E1  A9 88      			lda.l	#136
         1D:D6E3  85 F8      			sta	_al
 9629                        		__ld.uiq	0
         1D:D6E5  62         			cla
 9630                        		__call		_spr_ctrl.2
         1D:D6E6  20 50 E8   			call	_spr_ctrl.2
 9631                        	
 9632                        		.dbg	line,	"include\routines_LEVELS.c", 1124; spr_set(chain_id);
 9633                        		__ld.umq	_chain_id
         1D:D6E9  AD 27 23   			lda	_chain_id
 9634                        		__call		_spr_set.1
         1D:D6EC  20 F1 E7   			call	_spr_set.1
 9635                        	
 9636                        		.dbg	line,	"include\routines_LEVELS.c", 1125; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 9637                        		__st.umiq	136, _al
         1D:D6EF  A9 88      			lda.l	#136
         1D:D6F1  85 F8      			sta	_al
 9638                        		__ld.uiq	0
         1D:D6F3  62         			cla
 9639                        		__call		_spr_ctrl.2
         1D:D6F4  20 50 E8   			call	_spr_ctrl.2
 9640                        	
 9641                        		.dbg	line,	"include\routines_LEVELS.c", 1127; spr_set(chain_id+1);
 9642                        		__ld.um		_chain_id
         1D:D6F7  AD 27 23   			lda	_chain_id
         1D:D6FA  C2         			cly
 9643                        		__add.wi	1
         1D:D6FB  1A         			inc	a
         1D:D6FC  D0 01      			bne	!+
         1D:D6FE  C8         			iny
         1D:D6FF             	!:
 9644                        		__call		_spr_set.1
         1D:D6FF  20 F1 E7   			call	_spr_set.1
 9645                        	
 9646                        		.dbg	line,	"include\routines_LEVELS.c", 1128; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 9647                        		__st.umiq	136, _al
         1D:D702  A9 88      			lda.l	#136
         1D:D704  85 F8      			sta	_al
 9648                        		__ld.uiq	0
         1D:D706  62         			cla
 9649                        		__call		_spr_ctrl.2
         1D:D707  20 50 E8   			call	_spr_ctrl.2
 9650                        	
 9651                        		.dbg	line,	"include\routines_LEVELS.c", 1130; spr_set(chain_id+2);
 9652                        		__ld.um		_chain_id
         1D:D70A  AD 27 23   			lda	_chain_id
         1D:D70D  C2         			cly
 9653                        		__add.wi	2
         1D:D70E  18         			clc
         1D:D70F  69 02      			adc.l	#2
         1D:D711  90 01      			bcc	!+
         1D:D713  C8         			iny
         1D:D714             	!:
 9654                        		__call		_spr_set.1
         1D:D714  20 F1 E7   			call	_spr_set.1
 9655                        	
 9656                        		.dbg	line,	"include\routines_LEVELS.c", 1131; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 9657                        		__st.umiq	136, _al
         1D:D717  A9 88      			lda.l	#136
         1D:D719  85 F8      			sta	_al
 9658                        		__ld.uiq	0
         1D:D71B  62         			cla
 9659                        		__call		_spr_ctrl.2
         1D:D71C  20 50 E8   			call	_spr_ctrl.2
 9660                        	
 9661                        		.dbg	line,	"include\routines_LEVELS.c", 1133; spr_set(weapon_id);
 9662                        		__ld.umq	_weapon_id
         1D:D71F  AD 28 23   			lda	_weapon_id
 9663                        		__call		_spr_set.1
         1D:D722  20 F1 E7   			call	_spr_set.1
 9664                        	
 9665                        		.dbg	line,	"include\routines_LEVELS.c", 1134; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 9666                        		__st.umiq	136, _al
         1D:D725  A9 88      			lda.l	#136
         1D:D727  85 F8      			sta	_al
 9667                        		__ld.uiq	0
         1D:D729  62         			cla
 9668                        		__call		_spr_ctrl.2
         1D:D72A  20 50 E8   			call	_spr_ctrl.2
 9669                        	
 9670                        		.dbg	line,	"include\routines_LEVELS.c", 1135; spr_x(player_pos_x-4);
 9671                        		__ld.wm		_player_pos_x
         1D:D72D  AD 01 25   			lda.l	_player_pos_x
         1D:D730  AC 02 25   			ldy.h	_player_pos_x
 9672                        		__sub.wi	4
         1D:D733  38         			sec
         1D:D734  E9 04      			sbc.l	#4
         1D:D736  B0 01      			bcs	!+
         1D:D738  88         			dey
         1D:D739             	!:
 9673                        		__call		_spr_x.1
         1D:D739  20 1E E8   			call	_spr_x.1
 9674                        	
 9675                        		.dbg	line,	"include\routines_LEVELS.c", 1136; }
 9676                        	
 9677                        		.dbg	line,	"include\routines_LEVELS.c", 1137; }
 9678    1D:D73C             	.LL426	.alias		.LL427
 9679                        	
 9680                        		.dbg	line,	"include\routines_LEVELS.c", 1138; }
 9681    1D:D73C             	.LL425	.alias		.LL427
 9682                        	
 9683                        		.dbg	line,	"include\routines_LEVELS.c", 1141; else if(player_state == STATE_HANG)
 9684                        		__bra		.LL427
         1D:D73C  4C D4 DE   			bra	.LL427
 9685    1D:D73F             	.LL424:
 9686                        		__ld.umq	_player_state
         1D:D73F  AD 1A 23   			lda	_player_state
 9687                        		__equ_b.uiq	10
         1D:D742  C9 0A      			cmp	#10
         1D:D744  F0 01      			beq	!+
         1D:D746  18         			clc
         1D:D747             	!:
 9688                        		__bfalse	.LL428
         1D:D747  B0 03 4C D3			bcc	.LL428
         1D:D74B  D7          
 9689                        	
 9690                        		.dbg	line,	"include\routines_LEVELS.c", 1142; {
 9691                        	
 9692                        		.dbg	line,	"include\routines_LEVELS.c", 1143; if(player_attack == FALSE)
 9693                        		__not.um	_player_attack
         1D:D74C  AD 22 23   			lda	_player_attack
         1D:D74F  18         			clc
         1D:D750  D0 01      			bne	!+
         1D:D752  38         			sec
         1D:D753             	!:
 9694                        		__bfalse	.LL429
         1D:D753  B0 03 4C D4			bcc	.LL429
         1D:D757  DE          
 9695                        	
 9696                        		.dbg	line,	"include\routines_LEVELS.c", 1144; {
 9697                        	
 9698                        		.dbg	line,	"include\routines_LEVELS.c", 1145; if(player_axis == AXIS_LEFT)
 9699                        		__ld.umq	_player_axis
         1D:D758  AD 1B 23   			lda	_player_axis
 9700                        		__equ_b.uiq	1
         1D:D75B  C9 01      			cmp	#1
         1D:D75D  F0 01      			beq	!+
         1D:D75F  18         			clc
         1D:D760             	!:
 9701                        		__bfalse	.LL430
         1D:D760  B0 03 4C D4			bcc	.LL430
         1D:D764  DE          
 9702                        	
 9703                        		.dbg	line,	"include\routines_LEVELS.c", 1146; {
 9704                        	
 9705                        		.dbg	line,	"include\routines_LEVELS.c", 1147; player_axis = AXIS_RIGHT;
 9706                        		__st.umiq	0, _player_axis
         1D:D765  9C 1B 23   			stz	_player_axis
 9707                        	
 9708                        		.dbg	line,	"include\routines_LEVELS.c", 1148; player_previous_axis = player_axis;
 9709                        		__ld.um		_player_axis
         1D:D768  AD 1B 23   			lda	_player_axis
         1D:D76B  C2         			cly
 9710                        		__st.umq	_player_previous_axis
         1D:D76C  8D 1C 23   			sta	_player_previous_axis
 9711                        	
 9712                        		.dbg	line,	"include\routines_LEVELS.c", 1150; spr_set(player_id);
 9713                        		__ld.umq	_player_id
         1D:D76F  AD 19 23   			lda	_player_id
 9714                        		__call		_spr_set.1
         1D:D772  20 F1 E7   			call	_spr_set.1
 9715                        	
 9716                        		.dbg	line,	"include\routines_LEVELS.c", 1151; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 9717                        		__st.umiq	136, _al
         1D:D775  A9 88      			lda.l	#136
         1D:D777  85 F8      			sta	_al
 9718                        		__ld.uiq	0
         1D:D779  62         			cla
 9719                        		__call		_spr_ctrl.2
         1D:D77A  20 50 E8   			call	_spr_ctrl.2
 9720                        	
 9721                        		.dbg	line,	"include\routines_LEVELS.c", 1153; spr_set(chain_id);
 9722                        		__ld.umq	_chain_id
         1D:D77D  AD 27 23   			lda	_chain_id
 9723                        		__call		_spr_set.1
         1D:D780  20 F1 E7   			call	_spr_set.1
 9724                        	
 9725                        		.dbg	line,	"include\routines_LEVELS.c", 1154; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 9726                        		__st.umiq	136, _al
         1D:D783  A9 88      			lda.l	#136
         1D:D785  85 F8      			sta	_al
 9727                        		__ld.uiq	0
         1D:D787  62         			cla
 9728                        		__call		_spr_ctrl.2
         1D:D788  20 50 E8   			call	_spr_ctrl.2
 9729                        	
 9730                        		.dbg	line,	"include\routines_LEVELS.c", 1156; spr_set(chain_id+1);
 9731                        		__ld.um		_chain_id
         1D:D78B  AD 27 23   			lda	_chain_id
         1D:D78E  C2         			cly
 9732                        		__add.wi	1
         1D:D78F  1A         			inc	a
         1D:D790  D0 01      			bne	!+
         1D:D792  C8         			iny
         1D:D793             	!:
 9733                        		__call		_spr_set.1
         1D:D793  20 F1 E7   			call	_spr_set.1
 9734                        	
 9735                        		.dbg	line,	"include\routines_LEVELS.c", 1157; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 9736                        		__st.umiq	136, _al
         1D:D796  A9 88      			lda.l	#136
         1D:D798  85 F8      			sta	_al
 9737                        		__ld.uiq	0
         1D:D79A  62         			cla
 9738                        		__call		_spr_ctrl.2
         1D:D79B  20 50 E8   			call	_spr_ctrl.2
 9739                        	
 9740                        		.dbg	line,	"include\routines_LEVELS.c", 1159; spr_set(chain_id+2);
 9741                        		__ld.um		_chain_id
         1D:D79E  AD 27 23   			lda	_chain_id
         1D:D7A1  C2         			cly
 9742                        		__add.wi	2
         1D:D7A2  18         			clc
         1D:D7A3  69 02      			adc.l	#2
         1D:D7A5  90 01      			bcc	!+
         1D:D7A7  C8         			iny
         1D:D7A8             	!:
 9743                        		__call		_spr_set.1
         1D:D7A8  20 F1 E7   			call	_spr_set.1
 9744                        	
 9745                        		.dbg	line,	"include\routines_LEVELS.c", 1160; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 9746                        		__st.umiq	136, _al
         1D:D7AB  A9 88      			lda.l	#136
         1D:D7AD  85 F8      			sta	_al
 9747                        		__ld.uiq	0
         1D:D7AF  62         			cla
 9748                        		__call		_spr_ctrl.2
         1D:D7B0  20 50 E8   			call	_spr_ctrl.2
 9749                        	
 9750                        		.dbg	line,	"include\routines_LEVELS.c", 1162; spr_set(weapon_id);
 9751                        		__ld.umq	_weapon_id
         1D:D7B3  AD 28 23   			lda	_weapon_id
 9752                        		__call		_spr_set.1
         1D:D7B6  20 F1 E7   			call	_spr_set.1
 9753                        	
 9754                        		.dbg	line,	"include\routines_LEVELS.c", 1163; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 9755                        		__st.umiq	136, _al
         1D:D7B9  A9 88      			lda.l	#136
         1D:D7BB  85 F8      			sta	_al
 9756                        		__ld.uiq	0
         1D:D7BD  62         			cla
 9757                        		__call		_spr_ctrl.2
         1D:D7BE  20 50 E8   			call	_spr_ctrl.2
 9758                        	
 9759                        		.dbg	line,	"include\routines_LEVELS.c", 1164; spr_x(player_pos_x+17);
 9760                        		__ld.wm		_player_pos_x
         1D:D7C1  AD 01 25   			lda.l	_player_pos_x
         1D:D7C4  AC 02 25   			ldy.h	_player_pos_x
 9761                        		__add.wi	17
         1D:D7C7  18         			clc
         1D:D7C8  69 11      			adc.l	#17
         1D:D7CA  90 01      			bcc	!+
         1D:D7CC  C8         			iny
         1D:D7CD             	!:
 9762                        		__call		_spr_x.1
         1D:D7CD  20 1E E8   			call	_spr_x.1
 9763                        	
 9764                        		.dbg	line,	"include\routines_LEVELS.c", 1165; }
 9765                        	
 9766                        		.dbg	line,	"include\routines_LEVELS.c", 1166; }
 9767    1D:D7D0             	.LL430	.alias		.LL431
 9768                        	
 9769                        		.dbg	line,	"include\routines_LEVELS.c", 1167; }
 9770    1D:D7D0             	.LL429	.alias		.LL431
 9771                        	
 9772                        		.dbg	line,	"include\routines_LEVELS.c", 1170; else if(player_state == STATE_CLIMB_UP || player_state == STATE_CLIMB_DOWN)
 9773                        		__bra		.LL431
         1D:D7D0  4C D4 DE   			bra	.LL431
 9774    1D:D7D3             	.LL428:
 9775                        		__ld.umq	_player_state
         1D:D7D3  AD 1A 23   			lda	_player_state
 9776                        		__equ_b.uiq	11
         1D:D7D6  C9 0B      			cmp	#11
         1D:D7D8  F0 01      			beq	!+
         1D:D7DA  18         			clc
         1D:D7DB             	!:
 9777                        		__btrue		.LL433
         1D:D7DB  B0 08      			bcs	.LL433
 9778                        		__ld.umq	_player_state
         1D:D7DD  AD 1A 23   			lda	_player_state
 9779                        		__equ_b.uiq	12
         1D:D7E0  C9 0C      			cmp	#12
         1D:D7E2  F0 01      			beq	!+
         1D:D7E4  18         			clc
         1D:D7E5             	!:
 9780    1D:D7E5             	.LL433:
 9781                        		__bfalse	.LL432
         1D:D7E5  B0 03 4C D4			bcc	.LL432
         1D:D7E9  DE          
 9782                        	
 9783                        		.dbg	line,	"include\routines_LEVELS.c", 1171; {
 9784                        	
 9785                        		.dbg	line,	"include\routines_LEVELS.c", 1172; spr_set(player_id);
 9786                        		__ld.umq	_player_id
         1D:D7EA  AD 19 23   			lda	_player_id
 9787                        		__call		_spr_set.1
         1D:D7ED  20 F1 E7   			call	_spr_set.1
 9788                        	
 9789                        		.dbg	line,	"include\routines_LEVELS.c", 1173; spr_pattern(PLAYER_HANG_VRAM_ADR);
 9790                        		__ld.wi		8448
         1D:D7F0  62         			cla
         1D:D7F1  A0 21      			ldy.h	#8448
 9791                        		__call		_spr_pattern.1
         1D:D7F3  20 3A E8   			call	_spr_pattern.1
 9792                        	
 9793                        		.dbg	line,	"include\routines_LEVELS.c", 1174; player_counter_anim = 0;
 9794                        		__st.umiq	0, _player_counter_anim
         1D:D7F6  9C 1D 23   			stz	_player_counter_anim
 9795                        	
 9796                        		.dbg	line,	"include\routines_LEVELS.c", 1175; player_state = STATE_HANG;
 9797                        		__st.umiq	10, _player_state
         1D:D7F9  A9 0A      			lda.l	#10
         1D:D7FB  8D 1A 23   			sta	_player_state
 9798                        	
 9799                        		.dbg	line,	"include\routines_LEVELS.c", 1176; }
 9800                        	
 9801                        		.dbg	line,	"include\routines_LEVELS.c", 1177; }
 9802    1D:D7FE             	.LL432	.alias		.LL434
 9803    1D:D7FE             	.LL431	.alias		.LL434
 9804    1D:D7FE             	.LL427	.alias		.LL434
 9805    1D:D7FE             	.LL423	.alias		.LL434
 9806    1D:D7FE             	.LL417	.alias		.LL434
 9807    1D:D7FE             	.LL414	.alias		.LL434
 9808    1D:D7FE             	.LL408	.alias		.LL434
 9809                        	
 9810                        		.dbg	line,	"include\routines_LEVELS.c", 1180; //--------------------------------------------------------------------------------------//
 9811                        	
 9812                        		.dbg	line,	"include\routines_LEVELS.c", 1181; //                                     LEFT BUTTON                                      //
 9813                        	
 9814                        		.dbg	line,	"include\routines_LEVELS.c", 1182; //--------------------------------------------------------------------------------------//
 9815                        	
 9816                        		.dbg	line,	"include\routines_LEVELS.c", 1184; else if(joy(JOYPAD_1) & JOY_LEFT)
 9817                        		__bra		.LL434
         1D:D7FE  4C D4 DE   			bra	.LL434
 9818    1D:D801             	.LL403:
 9819                        		__ld.uiq	0
         1D:D801  62         			cla
 9820                        		 _joy.1
         1D:D802  AA         			tax
         1D:D803  BD 28 22   			lda	joynow, x
         1D:D806  BC D3 22   			ldy	joy6now, x
 9821                        		__tand.wi	128
         1D:D809  29 80      			and	#128
         1D:D80B  C9 01      	!:		cmp	#1
 9822                        		__bfalse	.LL435
         1D:D80D  B0 03 4C 7D			bcc	.LL435
         1D:D811  DC          
 9823                        	
 9824                        		.dbg	line,	"include\routines_LEVELS.c", 1185; {
 9825                        	
 9826                        		.dbg	line,	"include\routines_LEVELS.c", 1186; if(player_state == STATE_IDLE || player_state == STATE_WALK)
 9827                        		__not.um	_player_state
         1D:D812  AD 1A 23   			lda	_player_state
         1D:D815  18         			clc
         1D:D816  D0 01      			bne	!+
         1D:D818  38         			sec
         1D:D819             	!:
 9828                        		__btrue		.LL437
         1D:D819  B0 08      			bcs	.LL437
 9829                        		__ld.umq	_player_state
         1D:D81B  AD 1A 23   			lda	_player_state
 9830                        		__equ_b.uiq	1
         1D:D81E  C9 01      			cmp	#1
         1D:D820  F0 01      			beq	!+
         1D:D822  18         			clc
         1D:D823             	!:
 9831    1D:D823             	.LL437:
 9832                        		__bfalse	.LL436
         1D:D823  B0 03 4C C9			bcc	.LL436
         1D:D827  D8          
 9833                        	
 9834                        		.dbg	line,	"include\routines_LEVELS.c", 1187; {
 9835                        	
 9836                        		.dbg	line,	"include\routines_LEVELS.c", 1188; player_axis = AXIS_LEFT;
 9837                        		__st.umiq	1, _player_axis
         1D:D828  A9 01      			lda.l	#1
         1D:D82A  8D 1B 23   			sta	_player_axis
 9838                        	
 9839                        		.dbg	line,	"include\routines_LEVELS.c", 1190; if(player_previous_axis != player_axis)
 9840                        		__ld.umq	_player_previous_axis
         1D:D82D  AD 1C 23   			lda	_player_previous_axis
 9841                        		__neq_b.umq	_player_axis
         1D:D830  38         			sec
         1D:D831  4D 1B 23   			eor	_player_axis
         1D:D834  D0 01      			bne	!+
         1D:D836  18         			clc
         1D:D837             	!:
 9842                        		__bfalse	.LL438
         1D:D837  90 6D      			bcc	.LL438
 9843                        	
 9844                        		.dbg	line,	"include\routines_LEVELS.c", 1191; {
 9845                        	
 9846                        		.dbg	line,	"include\routines_LEVELS.c", 1192; player_previous_axis = player_axis;
 9847                        		__ld.um		_player_axis
         1D:D839  AD 1B 23   			lda	_player_axis
         1D:D83C  C2         			cly
 9848                        		__st.umq	_player_previous_axis
         1D:D83D  8D 1C 23   			sta	_player_previous_axis
 9849                        	
 9850                        		.dbg	line,	"include\routines_LEVELS.c", 1194; spr_set(player_id);
 9851                        		__ld.umq	_player_id
         1D:D840  AD 19 23   			lda	_player_id
 9852                        		__call		_spr_set.1
         1D:D843  20 F1 E7   			call	_spr_set.1
 9853                        	
 9854                        		.dbg	line,	"include\routines_LEVELS.c", 1195; spr_ctrl(FLIP_MAS, FLIP_X);
 9855                        		__st.umiq	136, _al
         1D:D846  A9 88      			lda.l	#136
         1D:D848  85 F8      			sta	_al
 9856                        		__ld.uiq	8
         1D:D84A  A9 08      			lda	#8
 9857                        		__call		_spr_ctrl.2
         1D:D84C  20 50 E8   			call	_spr_ctrl.2
 9858                        	
 9859                        		.dbg	line,	"include\routines_LEVELS.c", 1197; spr_set(chain_id);
 9860                        		__ld.umq	_chain_id
         1D:D84F  AD 27 23   			lda	_chain_id
 9861                        		__call		_spr_set.1
         1D:D852  20 F1 E7   			call	_spr_set.1
 9862                        	
 9863                        		.dbg	line,	"include\routines_LEVELS.c", 1198; spr_ctrl(FLIP_MAS, FLIP_X);
 9864                        		__st.umiq	136, _al
         1D:D855  A9 88      			lda.l	#136
         1D:D857  85 F8      			sta	_al
 9865                        		__ld.uiq	8
         1D:D859  A9 08      			lda	#8
 9866                        		__call		_spr_ctrl.2
         1D:D85B  20 50 E8   			call	_spr_ctrl.2
 9867                        	
 9868                        		.dbg	line,	"include\routines_LEVELS.c", 1200; spr_set(chain_id+1);
 9869                        		__ld.um		_chain_id
         1D:D85E  AD 27 23   			lda	_chain_id
         1D:D861  C2         			cly
 9870                        		__add.wi	1
         1D:D862  1A         			inc	a
         1D:D863  D0 01      			bne	!+
         1D:D865  C8         			iny
         1D:D866             	!:
 9871                        		__call		_spr_set.1
         1D:D866  20 F1 E7   			call	_spr_set.1
 9872                        	
 9873                        		.dbg	line,	"include\routines_LEVELS.c", 1201; spr_ctrl(FLIP_MAS, FLIP_X);
 9874                        		__st.umiq	136, _al
         1D:D869  A9 88      			lda.l	#136
         1D:D86B  85 F8      			sta	_al
 9875                        		__ld.uiq	8
         1D:D86D  A9 08      			lda	#8
 9876                        		__call		_spr_ctrl.2
         1D:D86F  20 50 E8   			call	_spr_ctrl.2
 9877                        	
 9878                        		.dbg	line,	"include\routines_LEVELS.c", 1203; spr_set(chain_id+2);
 9879                        		__ld.um		_chain_id
         1D:D872  AD 27 23   			lda	_chain_id
         1D:D875  C2         			cly
 9880                        		__add.wi	2
         1D:D876  18         			clc
         1D:D877  69 02      			adc.l	#2
         1D:D879  90 01      			bcc	!+
         1D:D87B  C8         			iny
         1D:D87C             	!:
 9881                        		__call		_spr_set.1
         1D:D87C  20 F1 E7   			call	_spr_set.1
 9882                        	
 9883                        		.dbg	line,	"include\routines_LEVELS.c", 1204; spr_ctrl(FLIP_MAS, FLIP_X);
 9884                        		__st.umiq	136, _al
         1D:D87F  A9 88      			lda.l	#136
         1D:D881  85 F8      			sta	_al
 9885                        		__ld.uiq	8
         1D:D883  A9 08      			lda	#8
 9886                        		__call		_spr_ctrl.2
         1D:D885  20 50 E8   			call	_spr_ctrl.2
 9887                        	
 9888                        		.dbg	line,	"include\routines_LEVELS.c", 1206; spr_set(weapon_id);
 9889                        		__ld.umq	_weapon_id
         1D:D888  AD 28 23   			lda	_weapon_id
 9890                        		__call		_spr_set.1
         1D:D88B  20 F1 E7   			call	_spr_set.1
 9891                        	
 9892                        		.dbg	line,	"include\routines_LEVELS.c", 1207; spr_ctrl(FLIP_MAS, FLIP_X);
 9893                        		__st.umiq	136, _al
         1D:D88E  A9 88      			lda.l	#136
         1D:D890  85 F8      			sta	_al
 9894                        		__ld.uiq	8
         1D:D892  A9 08      			lda	#8
 9895                        		__call		_spr_ctrl.2
         1D:D894  20 50 E8   			call	_spr_ctrl.2
 9896                        	
 9897                        		.dbg	line,	"include\routines_LEVELS.c", 1208; spr_x(player_pos_x+15);
 9898                        		__ld.wm		_player_pos_x
         1D:D897  AD 01 25   			lda.l	_player_pos_x
         1D:D89A  AC 02 25   			ldy.h	_player_pos_x
 9899                        		__add.wi	15
         1D:D89D  18         			clc
         1D:D89E  69 0F      			adc.l	#15
         1D:D8A0  90 01      			bcc	!+
         1D:D8A2  C8         			iny
         1D:D8A3             	!:
 9900                        		__call		_spr_x.1
         1D:D8A3  20 1E E8   			call	_spr_x.1
 9901                        	
 9902                        		.dbg	line,	"include\routines_LEVELS.c", 1209; }
 9903                        	
 9904                        		.dbg	line,	"include\routines_LEVELS.c", 1211; if(joy(JOYPAD_1) & JOY_DOWN)
 9905    1D:D8A6             	.LL438:
 9906                        		__ld.uiq	0
         1D:D8A6  62         			cla
 9907                        		 _joy.1
         1D:D8A7  AA         			tax
         1D:D8A8  BD 28 22   			lda	joynow, x
         1D:D8AB  BC D3 22   			ldy	joy6now, x
 9908                        		__tand.wi	64
         1D:D8AE  29 40      			and	#64
         1D:D8B0  C9 01      	!:		cmp	#1
 9909                        		__bfalse	.LL439
         1D:D8B2  90 0D      			bcc	.LL439
 9910                        	
 9911                        		.dbg	line,	"include\routines_LEVELS.c", 1212; {
 9912                        	
 9913                        		.dbg	line,	"include\routines_LEVELS.c", 1213; player_counter_anim = 1;
 9914                        		__st.umiq	1, _player_counter_anim
         1D:D8B4  A9 01      			lda.l	#1
         1D:D8B6  8D 1D 23   			sta	_player_counter_anim
 9915                        	
 9916                        		.dbg	line,	"include\routines_LEVELS.c", 1214; player_state = STATE_CROUCH;
 9917                        		__st.umiq	7, _player_state
         1D:D8B9  A9 07      			lda.l	#7
         1D:D8BB  8D 1A 23   			sta	_player_state
 9918                        	
 9919                        		.dbg	line,	"include\routines_LEVELS.c", 1215; return;
 9920                        		__bra		.LL394
         1D:D8BE  4C D4 DE   			bra	.LL394
 9921                        	
 9922                        		.dbg	line,	"include\routines_LEVELS.c", 1216; }
 9923                        	
 9924                        		.dbg	line,	"include\routines_LEVELS.c", 1218; player_state = STATE_WALK;
 9925    1D:D8C1             	.LL439:
 9926                        		__st.umiq	1, _player_state
         1D:D8C1  A9 01      			lda.l	#1
         1D:D8C3  8D 1A 23   			sta	_player_state
 9927                        	
 9928                        		.dbg	line,	"include\routines_LEVELS.c", 1219; }
 9929                        	
 9930                        		.dbg	line,	"include\routines_LEVELS.c", 1222; else if(player_state == STATE_JUMP)
 9931                        		__bra		.LL440
         1D:D8C6  4C D4 DE   			bra	.LL440
 9932    1D:D8C9             	.LL436:
 9933                        		__ld.umq	_player_state
         1D:D8C9  AD 1A 23   			lda	_player_state
 9934                        		__equ_b.uiq	4
         1D:D8CC  C9 04      			cmp	#4
         1D:D8CE  F0 01      			beq	!+
         1D:D8D0  18         			clc
         1D:D8D1             	!:
 9935                        		__bfalse	.LL441
         1D:D8D1  B0 03 4C 7B			bcc	.LL441
         1D:D8D5  D9          
 9936                        	
 9937                        		.dbg	line,	"include\routines_LEVELS.c", 1223; {
 9938                        	
 9939                        		.dbg	line,	"include\routines_LEVELS.c", 1224; if(player_attack == FALSE)
 9940                        		__not.um	_player_attack
         1D:D8D6  AD 22 23   			lda	_player_attack
         1D:D8D9  18         			clc
         1D:D8DA  D0 01      			bne	!+
         1D:D8DC  38         			sec
         1D:D8DD             	!:
 9941                        		__bfalse	.LL442
         1D:D8DD  B0 03 4C D4			bcc	.LL442
         1D:D8E1  DE          
 9942                        	
 9943                        		.dbg	line,	"include\routines_LEVELS.c", 1225; {
 9944                        	
 9945                        		.dbg	line,	"include\routines_LEVELS.c", 1226; if(player_axis == AXIS_RIGHT)
 9946                        		__not.um	_player_axis
         1D:D8E2  AD 1B 23   			lda	_player_axis
         1D:D8E5  18         			clc
         1D:D8E6  D0 01      			bne	!+
         1D:D8E8  38         			sec
         1D:D8E9             	!:
 9947                        		__bfalse	.LL443
         1D:D8E9  90 72      			bcc	.LL443
 9948                        	
 9949                        		.dbg	line,	"include\routines_LEVELS.c", 1227; {
 9950                        	
 9951                        		.dbg	line,	"include\routines_LEVELS.c", 1228; player_axis = AXIS_LEFT;
 9952                        		__st.umiq	1, _player_axis
         1D:D8EB  A9 01      			lda.l	#1
         1D:D8ED  8D 1B 23   			sta	_player_axis
 9953                        	
 9954                        		.dbg	line,	"include\routines_LEVELS.c", 1229; player_previous_axis = player_axis;
 9955                        		__ld.um		_player_axis
         1D:D8F0  AD 1B 23   			lda	_player_axis
         1D:D8F3  C2         			cly
 9956                        		__st.umq	_player_previous_axis
         1D:D8F4  8D 1C 23   			sta	_player_previous_axis
 9957                        	
 9958                        		.dbg	line,	"include\routines_LEVELS.c", 1231; spr_set(player_id);
 9959                        		__ld.umq	_player_id
         1D:D8F7  AD 19 23   			lda	_player_id
 9960                        		__call		_spr_set.1
         1D:D8FA  20 F1 E7   			call	_spr_set.1
 9961                        	
 9962                        		.dbg	line,	"include\routines_LEVELS.c", 1232; spr_ctrl(FLIP_MAS, FLIP_X);
 9963                        		__st.umiq	136, _al
         1D:D8FD  A9 88      			lda.l	#136
         1D:D8FF  85 F8      			sta	_al
 9964                        		__ld.uiq	8
         1D:D901  A9 08      			lda	#8
 9965                        		__call		_spr_ctrl.2
         1D:D903  20 50 E8   			call	_spr_ctrl.2
 9966                        	
 9967                        		.dbg	line,	"include\routines_LEVELS.c", 1234; spr_set(chain_id);
 9968                        		__ld.umq	_chain_id
         1D:D906  AD 27 23   			lda	_chain_id
 9969                        		__call		_spr_set.1
         1D:D909  20 F1 E7   			call	_spr_set.1
 9970                        	
 9971                        		.dbg	line,	"include\routines_LEVELS.c", 1235; spr_ctrl(FLIP_MAS, FLIP_X);
 9972                        		__st.umiq	136, _al
         1D:D90C  A9 88      			lda.l	#136
         1D:D90E  85 F8      			sta	_al
 9973                        		__ld.uiq	8
         1D:D910  A9 08      			lda	#8
 9974                        		__call		_spr_ctrl.2
         1D:D912  20 50 E8   			call	_spr_ctrl.2
 9975                        	
 9976                        		.dbg	line,	"include\routines_LEVELS.c", 1237; spr_set(chain_id+1);
 9977                        		__ld.um		_chain_id
         1D:D915  AD 27 23   			lda	_chain_id
         1D:D918  C2         			cly
 9978                        		__add.wi	1
         1D:D919  1A         			inc	a
         1D:D91A  D0 01      			bne	!+
         1D:D91C  C8         			iny
         1D:D91D             	!:
 9979                        		__call		_spr_set.1
         1D:D91D  20 F1 E7   			call	_spr_set.1
 9980                        	
 9981                        		.dbg	line,	"include\routines_LEVELS.c", 1238; spr_ctrl(FLIP_MAS, FLIP_X);
 9982                        		__st.umiq	136, _al
         1D:D920  A9 88      			lda.l	#136
         1D:D922  85 F8      			sta	_al
 9983                        		__ld.uiq	8
         1D:D924  A9 08      			lda	#8
 9984                        		__call		_spr_ctrl.2
         1D:D926  20 50 E8   			call	_spr_ctrl.2
 9985                        	
 9986                        		.dbg	line,	"include\routines_LEVELS.c", 1240; spr_set(chain_id+2);
 9987                        		__ld.um		_chain_id
         1D:D929  AD 27 23   			lda	_chain_id
         1D:D92C  C2         			cly
 9988                        		__add.wi	2
         1D:D92D  18         			clc
         1D:D92E  69 02      			adc.l	#2
         1D:D930  90 01      			bcc	!+
         1D:D932  C8         			iny
         1D:D933             	!:
 9989                        		__call		_spr_set.1
         1D:D933  20 F1 E7   			call	_spr_set.1
 9990                        	
 9991                        		.dbg	line,	"include\routines_LEVELS.c", 1241; spr_ctrl(FLIP_MAS, FLIP_X);
 9992                        		__st.umiq	136, _al
         1D:D936  A9 88      			lda.l	#136
         1D:D938  85 F8      			sta	_al
 9993                        		__ld.uiq	8
         1D:D93A  A9 08      			lda	#8
 9994                        		__call		_spr_ctrl.2
         1D:D93C  20 50 E8   			call	_spr_ctrl.2
 9995                        	
 9996                        		.dbg	line,	"include\routines_LEVELS.c", 1243; spr_set(weapon_id);
 9997                        		__ld.umq	_weapon_id
         1D:D93F  AD 28 23   			lda	_weapon_id
 9998                        		__call		_spr_set.1
         1D:D942  20 F1 E7   			call	_spr_set.1
 9999                        	
10000                        		.dbg	line,	"include\routines_LEVELS.c", 1244; spr_ctrl(FLIP_MAS, FLIP_X);
10001                        		__st.umiq	136, _al
         1D:D945  A9 88      			lda.l	#136
         1D:D947  85 F8      			sta	_al
10002                        		__ld.uiq	8
         1D:D949  A9 08      			lda	#8
10003                        		__call		_spr_ctrl.2
         1D:D94B  20 50 E8   			call	_spr_ctrl.2
10004                        	
10005                        		.dbg	line,	"include\routines_LEVELS.c", 1245; spr_x(player_pos_x+21);
10006                        		__ld.wm		_player_pos_x
         1D:D94E  AD 01 25   			lda.l	_player_pos_x
         1D:D951  AC 02 25   			ldy.h	_player_pos_x
10007                        		__add.wi	21
         1D:D954  18         			clc
         1D:D955  69 15      			adc.l	#21
         1D:D957  90 01      			bcc	!+
         1D:D959  C8         			iny
         1D:D95A             	!:
10008                        		__call		_spr_x.1
         1D:D95A  20 1E E8   			call	_spr_x.1
10009                        	
10010                        		.dbg	line,	"include\routines_LEVELS.c", 1246; }
10011                        	
10012                        		.dbg	line,	"include\routines_LEVELS.c", 1248; if(player_index_jump > 11 && player_index_jump < 15)
10013    1D:D95D             	.LL443:
10014                        		__ld.umq	_player_index_jump
         1D:D95D  AD 1E 23   			lda	_player_index_jump
10015                        		__ugt_b.uiq	11
         1D:D960  18         			clc			; Subtract integer+1 from A.
         1D:D961  E9 0B      			sbc	#11		; CS if A > integer.
10016                        		__bfalse	.LL445
         1D:D963  90 09      			bcc	.LL445
10017                        		__ld.umq	_player_index_jump
         1D:D965  AD 1E 23   			lda	_player_index_jump
10018                        		__ult_b.uiq	15
         1D:D968  C9 0F      			cmp	#15		; Subtract integer from A.
         1D:D96A  6A         			ror	a		; CC if A < integer.
         1D:D96B  49 80      			eor	#$80
         1D:D96D  2A         			rol	a
10019    1D:D96E             	.LL445:
10020                        		__bfalse	.LL444
         1D:D96E  B0 03 4C D4			bcc	.LL444
         1D:D972  DE          
10021                        	
10022                        		.dbg	line,	"include\routines_LEVELS.c", 1249; {
10023                        	
10024                        		.dbg	line,	"include\routines_LEVELS.c", 1250; player_state = STATE_JUMP_LEFT;                        
10025                        		__st.umiq	6, _player_state
         1D:D973  A9 06      			lda.l	#6
         1D:D975  8D 1A 23   			sta	_player_state
10026                        	
10027                        		.dbg	line,	"include\routines_LEVELS.c", 1251; }
10028                        	
10029                        		.dbg	line,	"include\routines_LEVELS.c", 1252; }
10030    1D:D978             	.LL444	.alias		.LL446
10031                        	
10032                        		.dbg	line,	"include\routines_LEVELS.c", 1253; }
10033    1D:D978             	.LL442	.alias		.LL446
10034                        	
10035                        		.dbg	line,	"include\routines_LEVELS.c", 1256; else if(player_state == STATE_JUMP_RIGHT)
10036                        		__bra		.LL446
         1D:D978  4C D4 DE   			bra	.LL446
10037    1D:D97B             	.LL441:
10038                        		__ld.umq	_player_state
         1D:D97B  AD 1A 23   			lda	_player_state
10039                        		__equ_b.uiq	5
         1D:D97E  C9 05      			cmp	#5
         1D:D980  F0 01      			beq	!+
         1D:D982  18         			clc
         1D:D983             	!:
10040                        		__bfalse	.LL447
         1D:D983  B0 03 4C 09			bcc	.LL447
         1D:D987  DA          
10041                        	
10042                        		.dbg	line,	"include\routines_LEVELS.c", 1257; {
10043                        	
10044                        		.dbg	line,	"include\routines_LEVELS.c", 1258; if(player_axis == AXIS_RIGHT)
10045                        		__not.um	_player_axis
         1D:D988  AD 1B 23   			lda	_player_axis
         1D:D98B  18         			clc
         1D:D98C  D0 01      			bne	!+
         1D:D98E  38         			sec
         1D:D98F             	!:
10046                        		__bfalse	.LL448
         1D:D98F  B0 03 4C D4			bcc	.LL448
         1D:D993  DE          
10047                        	
10048                        		.dbg	line,	"include\routines_LEVELS.c", 1259; {
10049                        	
10050                        		.dbg	line,	"include\routines_LEVELS.c", 1260; player_axis = AXIS_LEFT;
10051                        		__st.umiq	1, _player_axis
         1D:D994  A9 01      			lda.l	#1
         1D:D996  8D 1B 23   			sta	_player_axis
10052                        	
10053                        		.dbg	line,	"include\routines_LEVELS.c", 1261; player_previous_axis = player_axis;
10054                        		__ld.um		_player_axis
         1D:D999  AD 1B 23   			lda	_player_axis
         1D:D99C  C2         			cly
10055                        		__st.umq	_player_previous_axis
         1D:D99D  8D 1C 23   			sta	_player_previous_axis
10056                        	
10057                        		.dbg	line,	"include\routines_LEVELS.c", 1263; spr_set(player_id);
10058                        		__ld.umq	_player_id
         1D:D9A0  AD 19 23   			lda	_player_id
10059                        		__call		_spr_set.1
         1D:D9A3  20 F1 E7   			call	_spr_set.1
10060                        	
10061                        		.dbg	line,	"include\routines_LEVELS.c", 1264; spr_ctrl(FLIP_MAS, FLIP_X);
10062                        		__st.umiq	136, _al
         1D:D9A6  A9 88      			lda.l	#136
         1D:D9A8  85 F8      			sta	_al
10063                        		__ld.uiq	8
         1D:D9AA  A9 08      			lda	#8
10064                        		__call		_spr_ctrl.2
         1D:D9AC  20 50 E8   			call	_spr_ctrl.2
10065                        	
10066                        		.dbg	line,	"include\routines_LEVELS.c", 1266; spr_set(chain_id);
10067                        		__ld.umq	_chain_id
         1D:D9AF  AD 27 23   			lda	_chain_id
10068                        		__call		_spr_set.1
         1D:D9B2  20 F1 E7   			call	_spr_set.1
10069                        	
10070                        		.dbg	line,	"include\routines_LEVELS.c", 1267; spr_ctrl(FLIP_MAS, FLIP_X);
10071                        		__st.umiq	136, _al
         1D:D9B5  A9 88      			lda.l	#136
         1D:D9B7  85 F8      			sta	_al
10072                        		__ld.uiq	8
         1D:D9B9  A9 08      			lda	#8
10073                        		__call		_spr_ctrl.2
         1D:D9BB  20 50 E8   			call	_spr_ctrl.2
10074                        	
10075                        		.dbg	line,	"include\routines_LEVELS.c", 1269; spr_set(chain_id+1);
10076                        		__ld.um		_chain_id
         1D:D9BE  AD 27 23   			lda	_chain_id
         1D:D9C1  C2         			cly
10077                        		__add.wi	1
         1D:D9C2  1A         			inc	a
         1D:D9C3  D0 01      			bne	!+
         1D:D9C5  C8         			iny
         1D:D9C6             	!:
10078                        		__call		_spr_set.1
         1D:D9C6  20 F1 E7   			call	_spr_set.1
10079                        	
10080                        		.dbg	line,	"include\routines_LEVELS.c", 1270; spr_ctrl(FLIP_MAS, FLIP_X);
10081                        		__st.umiq	136, _al
         1D:D9C9  A9 88      			lda.l	#136
         1D:D9CB  85 F8      			sta	_al
10082                        		__ld.uiq	8
         1D:D9CD  A9 08      			lda	#8
10083                        		__call		_spr_ctrl.2
         1D:D9CF  20 50 E8   			call	_spr_ctrl.2
10084                        	
10085                        		.dbg	line,	"include\routines_LEVELS.c", 1272; spr_set(chain_id+2);
10086                        		__ld.um		_chain_id
         1D:D9D2  AD 27 23   			lda	_chain_id
         1D:D9D5  C2         			cly
10087                        		__add.wi	2
         1D:D9D6  18         			clc
         1D:D9D7  69 02      			adc.l	#2
         1D:D9D9  90 01      			bcc	!+
         1D:D9DB  C8         			iny
         1D:D9DC             	!:
10088                        		__call		_spr_set.1
         1D:D9DC  20 F1 E7   			call	_spr_set.1
10089                        	
10090                        		.dbg	line,	"include\routines_LEVELS.c", 1273; spr_ctrl(FLIP_MAS, FLIP_X);
10091                        		__st.umiq	136, _al
         1D:D9DF  A9 88      			lda.l	#136
         1D:D9E1  85 F8      			sta	_al
10092                        		__ld.uiq	8
         1D:D9E3  A9 08      			lda	#8
10093                        		__call		_spr_ctrl.2
         1D:D9E5  20 50 E8   			call	_spr_ctrl.2
10094                        	
10095                        		.dbg	line,	"include\routines_LEVELS.c", 1275; spr_set(weapon_id);
10096                        		__ld.umq	_weapon_id
         1D:D9E8  AD 28 23   			lda	_weapon_id
10097                        		__call		_spr_set.1
         1D:D9EB  20 F1 E7   			call	_spr_set.1
10098                        	
10099                        		.dbg	line,	"include\routines_LEVELS.c", 1276; spr_ctrl(FLIP_MAS, FLIP_X);
10100                        		__st.umiq	136, _al
         1D:D9EE  A9 88      			lda.l	#136
         1D:D9F0  85 F8      			sta	_al
10101                        		__ld.uiq	8
         1D:D9F2  A9 08      			lda	#8
10102                        		__call		_spr_ctrl.2
         1D:D9F4  20 50 E8   			call	_spr_ctrl.2
10103                        	
10104                        		.dbg	line,	"include\routines_LEVELS.c", 1277; spr_x(player_pos_x+21);
10105                        		__ld.wm		_player_pos_x
         1D:D9F7  AD 01 25   			lda.l	_player_pos_x
         1D:D9FA  AC 02 25   			ldy.h	_player_pos_x
10106                        		__add.wi	21
         1D:D9FD  18         			clc
         1D:D9FE  69 15      			adc.l	#21
         1D:DA00  90 01      			bcc	!+
         1D:DA02  C8         			iny
         1D:DA03             	!:
10107                        		__call		_spr_x.1
         1D:DA03  20 1E E8   			call	_spr_x.1
10108                        	
10109                        		.dbg	line,	"include\routines_LEVELS.c", 1278; }
10110                        	
10111                        		.dbg	line,	"include\routines_LEVELS.c", 1279; }
10112    1D:DA06             	.LL448	.alias		.LL449
10113                        	
10114                        		.dbg	line,	"include\routines_LEVELS.c", 1282; else if(player_state == STATE_CROUCH)
10115                        		__bra		.LL449
         1D:DA06  4C D4 DE   			bra	.LL449
10116    1D:DA09             	.LL447:
10117                        		__ld.umq	_player_state
         1D:DA09  AD 1A 23   			lda	_player_state
10118                        		__equ_b.uiq	7
         1D:DA0C  C9 07      			cmp	#7
         1D:DA0E  F0 01      			beq	!+
         1D:DA10  18         			clc
         1D:DA11             	!:
10119                        		__bfalse	.LL450
         1D:DA11  B0 03 4C 33			bcc	.LL450
         1D:DA15  DB          
10120                        	
10121                        		.dbg	line,	"include\routines_LEVELS.c", 1283; {
10122                        	
10123                        		.dbg	line,	"include\routines_LEVELS.c", 1284; if(joy(JOYPAD_1) & JOY_DOWN)
10124                        		__ld.uiq	0
         1D:DA16  62         			cla
10125                        		 _joy.1
         1D:DA17  AA         			tax
         1D:DA18  BD 28 22   			lda	joynow, x
         1D:DA1B  BC D3 22   			ldy	joy6now, x
10126                        		__tand.wi	64
         1D:DA1E  29 40      			and	#64
         1D:DA20  C9 01      	!:		cmp	#1
10127                        		__bfalse	.LL451
         1D:DA22  B0 03 4C AD			bcc	.LL451
         1D:DA26  DA          
10128                        	
10129                        		.dbg	line,	"include\routines_LEVELS.c", 1285; {
10130                        	
10131                        		.dbg	line,	"include\routines_LEVELS.c", 1286; if(joy(JOYPAD_1) & JOY_DOWN)
10132                        		__ld.uiq	0
         1D:DA27  62         			cla
10133                        		 _joy.1
         1D:DA28  AA         			tax
         1D:DA29  BD 28 22   			lda	joynow, x
         1D:DA2C  BC D3 22   			ldy	joy6now, x
10134                        		__tand.wi	64
         1D:DA2F  29 40      			and	#64
         1D:DA31  C9 01      	!:		cmp	#1
10135                        		__bfalse	.LL452
         1D:DA33  B0 03 4C D4			bcc	.LL452
         1D:DA37  DE          
10136                        	
10137                        		.dbg	line,	"include\routines_LEVELS.c", 1287; {
10138                        	
10139                        		.dbg	line,	"include\routines_LEVELS.c", 1288; player_axis = AXIS_LEFT;
10140                        		__st.umiq	1, _player_axis
         1D:DA38  A9 01      			lda.l	#1
         1D:DA3A  8D 1B 23   			sta	_player_axis
10141                        	
10142                        		.dbg	line,	"include\routines_LEVELS.c", 1289; player_previous_axis = player_axis;
10143                        		__ld.um		_player_axis
         1D:DA3D  AD 1B 23   			lda	_player_axis
         1D:DA40  C2         			cly
10144                        		__st.umq	_player_previous_axis
         1D:DA41  8D 1C 23   			sta	_player_previous_axis
10145                        	
10146                        		.dbg	line,	"include\routines_LEVELS.c", 1291; spr_set(player_id);
10147                        		__ld.umq	_player_id
         1D:DA44  AD 19 23   			lda	_player_id
10148                        		__call		_spr_set.1
         1D:DA47  20 F1 E7   			call	_spr_set.1
10149                        	
10150                        		.dbg	line,	"include\routines_LEVELS.c", 1292; spr_ctrl(FLIP_MAS, FLIP_X);
10151                        		__st.umiq	136, _al
         1D:DA4A  A9 88      			lda.l	#136
         1D:DA4C  85 F8      			sta	_al
10152                        		__ld.uiq	8
         1D:DA4E  A9 08      			lda	#8
10153                        		__call		_spr_ctrl.2
         1D:DA50  20 50 E8   			call	_spr_ctrl.2
10154                        	
10155                        		.dbg	line,	"include\routines_LEVELS.c", 1294; spr_set(chain_id);
10156                        		__ld.umq	_chain_id
         1D:DA53  AD 27 23   			lda	_chain_id
10157                        		__call		_spr_set.1
         1D:DA56  20 F1 E7   			call	_spr_set.1
10158                        	
10159                        		.dbg	line,	"include\routines_LEVELS.c", 1295; spr_ctrl(FLIP_MAS, FLIP_X);
10160                        		__st.umiq	136, _al
         1D:DA59  A9 88      			lda.l	#136
         1D:DA5B  85 F8      			sta	_al
10161                        		__ld.uiq	8
         1D:DA5D  A9 08      			lda	#8
10162                        		__call		_spr_ctrl.2
         1D:DA5F  20 50 E8   			call	_spr_ctrl.2
10163                        	
10164                        		.dbg	line,	"include\routines_LEVELS.c", 1297; spr_set(chain_id+1);
10165                        		__ld.um		_chain_id
         1D:DA62  AD 27 23   			lda	_chain_id
         1D:DA65  C2         			cly
10166                        		__add.wi	1
         1D:DA66  1A         			inc	a
         1D:DA67  D0 01      			bne	!+
         1D:DA69  C8         			iny
         1D:DA6A             	!:
10167                        		__call		_spr_set.1
         1D:DA6A  20 F1 E7   			call	_spr_set.1
10168                        	
10169                        		.dbg	line,	"include\routines_LEVELS.c", 1298; spr_ctrl(FLIP_MAS, FLIP_X);
10170                        		__st.umiq	136, _al
         1D:DA6D  A9 88      			lda.l	#136
         1D:DA6F  85 F8      			sta	_al
10171                        		__ld.uiq	8
         1D:DA71  A9 08      			lda	#8
10172                        		__call		_spr_ctrl.2
         1D:DA73  20 50 E8   			call	_spr_ctrl.2
10173                        	
10174                        		.dbg	line,	"include\routines_LEVELS.c", 1300; spr_set(chain_id+2);
10175                        		__ld.um		_chain_id
         1D:DA76  AD 27 23   			lda	_chain_id
         1D:DA79  C2         			cly
10176                        		__add.wi	2
         1D:DA7A  18         			clc
         1D:DA7B  69 02      			adc.l	#2
         1D:DA7D  90 01      			bcc	!+
         1D:DA7F  C8         			iny
         1D:DA80             	!:
10177                        		__call		_spr_set.1
         1D:DA80  20 F1 E7   			call	_spr_set.1
10178                        	
10179                        		.dbg	line,	"include\routines_LEVELS.c", 1301; spr_ctrl(FLIP_MAS, FLIP_X);
10180                        		__st.umiq	136, _al
         1D:DA83  A9 88      			lda.l	#136
         1D:DA85  85 F8      			sta	_al
10181                        		__ld.uiq	8
         1D:DA87  A9 08      			lda	#8
10182                        		__call		_spr_ctrl.2
         1D:DA89  20 50 E8   			call	_spr_ctrl.2
10183                        	
10184                        		.dbg	line,	"include\routines_LEVELS.c", 1303; spr_set(weapon_id);
10185                        		__ld.umq	_weapon_id
         1D:DA8C  AD 28 23   			lda	_weapon_id
10186                        		__call		_spr_set.1
         1D:DA8F  20 F1 E7   			call	_spr_set.1
10187                        	
10188                        		.dbg	line,	"include\routines_LEVELS.c", 1304; spr_ctrl(FLIP_MAS, FLIP_X);
10189                        		__st.umiq	136, _al
         1D:DA92  A9 88      			lda.l	#136
         1D:DA94  85 F8      			sta	_al
10190                        		__ld.uiq	8
         1D:DA96  A9 08      			lda	#8
10191                        		__call		_spr_ctrl.2
         1D:DA98  20 50 E8   			call	_spr_ctrl.2
10192                        	
10193                        		.dbg	line,	"include\routines_LEVELS.c", 1305; spr_x(player_pos_x+17);
10194                        		__ld.wm		_player_pos_x
         1D:DA9B  AD 01 25   			lda.l	_player_pos_x
         1D:DA9E  AC 02 25   			ldy.h	_player_pos_x
10195                        		__add.wi	17
         1D:DAA1  18         			clc
         1D:DAA2  69 11      			adc.l	#17
         1D:DAA4  90 01      			bcc	!+
         1D:DAA6  C8         			iny
         1D:DAA7             	!:
10196                        		__call		_spr_x.1
         1D:DAA7  20 1E E8   			call	_spr_x.1
10197                        	
10198                        		.dbg	line,	"include\routines_LEVELS.c", 1306; }
10199                        	
10200                        		.dbg	line,	"include\routines_LEVELS.c", 1307; }
10201    1D:DAAA             	.LL452	.alias		.LL453
10202                        	
10203                        		.dbg	line,	"include\routines_LEVELS.c", 1309; else
10204                        		__bra		.LL453
         1D:DAAA  4C D4 DE   			bra	.LL453
10205    1D:DAAD             	.LL451:
10206                        	
10207                        		.dbg	line,	"include\routines_LEVELS.c", 1310; {
10208                        	
10209                        		.dbg	line,	"include\routines_LEVELS.c", 1311; player_axis = AXIS_LEFT;
10210                        		__st.umiq	1, _player_axis
         1D:DAAD  A9 01      			lda.l	#1
         1D:DAAF  8D 1B 23   			sta	_player_axis
10211                        	
10212                        		.dbg	line,	"include\routines_LEVELS.c", 1313; if(player_previous_axis != player_axis)
10213                        		__ld.umq	_player_previous_axis
         1D:DAB2  AD 1C 23   			lda	_player_previous_axis
10214                        		__neq_b.umq	_player_axis
         1D:DAB5  38         			sec
         1D:DAB6  4D 1B 23   			eor	_player_axis
         1D:DAB9  D0 01      			bne	!+
         1D:DABB  18         			clc
         1D:DABC             	!:
10215                        		__bfalse	.LL454
         1D:DABC  90 6D      			bcc	.LL454
10216                        	
10217                        		.dbg	line,	"include\routines_LEVELS.c", 1314; {
10218                        	
10219                        		.dbg	line,	"include\routines_LEVELS.c", 1315; player_previous_axis = player_axis;
10220                        		__ld.um		_player_axis
         1D:DABE  AD 1B 23   			lda	_player_axis
         1D:DAC1  C2         			cly
10221                        		__st.umq	_player_previous_axis
         1D:DAC2  8D 1C 23   			sta	_player_previous_axis
10222                        	
10223                        		.dbg	line,	"include\routines_LEVELS.c", 1317; spr_set(player_id);
10224                        		__ld.umq	_player_id
         1D:DAC5  AD 19 23   			lda	_player_id
10225                        		__call		_spr_set.1
         1D:DAC8  20 F1 E7   			call	_spr_set.1
10226                        	
10227                        		.dbg	line,	"include\routines_LEVELS.c", 1318; spr_ctrl(FLIP_MAS, FLIP_X);
10228                        		__st.umiq	136, _al
         1D:DACB  A9 88      			lda.l	#136
         1D:DACD  85 F8      			sta	_al
10229                        		__ld.uiq	8
         1D:DACF  A9 08      			lda	#8
10230                        		__call		_spr_ctrl.2
         1D:DAD1  20 50 E8   			call	_spr_ctrl.2
10231                        	
10232                        		.dbg	line,	"include\routines_LEVELS.c", 1320; spr_set(chain_id);
10233                        		__ld.umq	_chain_id
         1D:DAD4  AD 27 23   			lda	_chain_id
10234                        		__call		_spr_set.1
         1D:DAD7  20 F1 E7   			call	_spr_set.1
10235                        	
10236                        		.dbg	line,	"include\routines_LEVELS.c", 1321; spr_ctrl(FLIP_MAS, FLIP_X);
10237                        		__st.umiq	136, _al
         1D:DADA  A9 88      			lda.l	#136
         1D:DADC  85 F8      			sta	_al
10238                        		__ld.uiq	8
         1D:DADE  A9 08      			lda	#8
10239                        		__call		_spr_ctrl.2
         1D:DAE0  20 50 E8   			call	_spr_ctrl.2
10240                        	
10241                        		.dbg	line,	"include\routines_LEVELS.c", 1323; spr_set(chain_id+1);
10242                        		__ld.um		_chain_id
         1D:DAE3  AD 27 23   			lda	_chain_id
         1D:DAE6  C2         			cly
10243                        		__add.wi	1
         1D:DAE7  1A         			inc	a
         1D:DAE8  D0 01      			bne	!+
         1D:DAEA  C8         			iny
         1D:DAEB             	!:
10244                        		__call		_spr_set.1
         1D:DAEB  20 F1 E7   			call	_spr_set.1
10245                        	
10246                        		.dbg	line,	"include\routines_LEVELS.c", 1324; spr_ctrl(FLIP_MAS, FLIP_X);
10247                        		__st.umiq	136, _al
         1D:DAEE  A9 88      			lda.l	#136
         1D:DAF0  85 F8      			sta	_al
10248                        		__ld.uiq	8
         1D:DAF2  A9 08      			lda	#8
10249                        		__call		_spr_ctrl.2
         1D:DAF4  20 50 E8   			call	_spr_ctrl.2
10250                        	
10251                        		.dbg	line,	"include\routines_LEVELS.c", 1326; spr_set(chain_id+2);
10252                        		__ld.um		_chain_id
         1D:DAF7  AD 27 23   			lda	_chain_id
         1D:DAFA  C2         			cly
10253                        		__add.wi	2
         1D:DAFB  18         			clc
         1D:DAFC  69 02      			adc.l	#2
         1D:DAFE  90 01      			bcc	!+
         1D:DB00  C8         			iny
         1D:DB01             	!:
10254                        		__call		_spr_set.1
         1D:DB01  20 F1 E7   			call	_spr_set.1
10255                        	
10256                        		.dbg	line,	"include\routines_LEVELS.c", 1327; spr_ctrl(FLIP_MAS, FLIP_X);
10257                        		__st.umiq	136, _al
         1D:DB04  A9 88      			lda.l	#136
         1D:DB06  85 F8      			sta	_al
10258                        		__ld.uiq	8
         1D:DB08  A9 08      			lda	#8
10259                        		__call		_spr_ctrl.2
         1D:DB0A  20 50 E8   			call	_spr_ctrl.2
10260                        	
10261                        		.dbg	line,	"include\routines_LEVELS.c", 1329; spr_set(weapon_id);
10262                        		__ld.umq	_weapon_id
         1D:DB0D  AD 28 23   			lda	_weapon_id
10263                        		__call		_spr_set.1
         1D:DB10  20 F1 E7   			call	_spr_set.1
10264                        	
10265                        		.dbg	line,	"include\routines_LEVELS.c", 1330; spr_ctrl(FLIP_MAS, FLIP_X);
10266                        		__st.umiq	136, _al
         1D:DB13  A9 88      			lda.l	#136
         1D:DB15  85 F8      			sta	_al
10267                        		__ld.uiq	8
         1D:DB17  A9 08      			lda	#8
10268                        		__call		_spr_ctrl.2
         1D:DB19  20 50 E8   			call	_spr_ctrl.2
10269                        	
10270                        		.dbg	line,	"include\routines_LEVELS.c", 1331; spr_x(player_pos_x+15);
10271                        		__ld.wm		_player_pos_x
         1D:DB1C  AD 01 25   			lda.l	_player_pos_x
         1D:DB1F  AC 02 25   			ldy.h	_player_pos_x
10272                        		__add.wi	15
         1D:DB22  18         			clc
         1D:DB23  69 0F      			adc.l	#15
         1D:DB25  90 01      			bcc	!+
         1D:DB27  C8         			iny
         1D:DB28             	!:
10273                        		__call		_spr_x.1
         1D:DB28  20 1E E8   			call	_spr_x.1
10274                        	
10275                        		.dbg	line,	"include\routines_LEVELS.c", 1332; }
10276                        	
10277                        		.dbg	line,	"include\routines_LEVELS.c", 1334; player_state = STATE_WALK;
10278    1D:DB2B             	.LL454:
10279                        		__st.umiq	1, _player_state
         1D:DB2B  A9 01      			lda.l	#1
         1D:DB2D  8D 1A 23   			sta	_player_state
10280                        	
10281                        		.dbg	line,	"include\routines_LEVELS.c", 1335; }
10282    1D:DB30             	.LL453	.alias		.LL455
10283                        	
10284                        		.dbg	line,	"include\routines_LEVELS.c", 1336; }
10285                        	
10286                        		.dbg	line,	"include\routines_LEVELS.c", 1339; else if(player_state == STATE_FALL)
10287                        		__bra		.LL455
         1D:DB30  4C D4 DE   			bra	.LL455
10288    1D:DB33             	.LL450:
10289                        		__ld.umq	_player_state
         1D:DB33  AD 1A 23   			lda	_player_state
10290                        		__equ_b.uiq	9
         1D:DB36  C9 09      			cmp	#9
         1D:DB38  F0 01      			beq	!+
         1D:DB3A  18         			clc
         1D:DB3B             	!:
10291                        		__bfalse	.LL456
         1D:DB3B  B0 03 4C C1			bcc	.LL456
         1D:DB3F  DB          
10292                        	
10293                        		.dbg	line,	"include\routines_LEVELS.c", 1340; {
10294                        	
10295                        		.dbg	line,	"include\routines_LEVELS.c", 1341; if(player_axis == AXIS_RIGHT)
10296                        		__not.um	_player_axis
         1D:DB40  AD 1B 23   			lda	_player_axis
         1D:DB43  18         			clc
         1D:DB44  D0 01      			bne	!+
         1D:DB46  38         			sec
         1D:DB47             	!:
10297                        		__bfalse	.LL457
         1D:DB47  B0 03 4C D4			bcc	.LL457
         1D:DB4B  DE          
10298                        	
10299                        		.dbg	line,	"include\routines_LEVELS.c", 1342; {
10300                        	
10301                        		.dbg	line,	"include\routines_LEVELS.c", 1343; player_axis = AXIS_LEFT;
10302                        		__st.umiq	1, _player_axis
         1D:DB4C  A9 01      			lda.l	#1
         1D:DB4E  8D 1B 23   			sta	_player_axis
10303                        	
10304                        		.dbg	line,	"include\routines_LEVELS.c", 1344; player_previous_axis = player_axis;
10305                        		__ld.um		_player_axis
         1D:DB51  AD 1B 23   			lda	_player_axis
         1D:DB54  C2         			cly
10306                        		__st.umq	_player_previous_axis
         1D:DB55  8D 1C 23   			sta	_player_previous_axis
10307                        	
10308                        		.dbg	line,	"include\routines_LEVELS.c", 1346; spr_set(player_id);
10309                        		__ld.umq	_player_id
         1D:DB58  AD 19 23   			lda	_player_id
10310                        		__call		_spr_set.1
         1D:DB5B  20 F1 E7   			call	_spr_set.1
10311                        	
10312                        		.dbg	line,	"include\routines_LEVELS.c", 1347; spr_ctrl(FLIP_MAS, FLIP_X);
10313                        		__st.umiq	136, _al
         1D:DB5E  A9 88      			lda.l	#136
         1D:DB60  85 F8      			sta	_al
10314                        		__ld.uiq	8
         1D:DB62  A9 08      			lda	#8
10315                        		__call		_spr_ctrl.2
         1D:DB64  20 50 E8   			call	_spr_ctrl.2
10316                        	
10317                        		.dbg	line,	"include\routines_LEVELS.c", 1349; spr_set(chain_id);
10318                        		__ld.umq	_chain_id
         1D:DB67  AD 27 23   			lda	_chain_id
10319                        		__call		_spr_set.1
         1D:DB6A  20 F1 E7   			call	_spr_set.1
10320                        	
10321                        		.dbg	line,	"include\routines_LEVELS.c", 1350; spr_ctrl(FLIP_MAS, FLIP_X);
10322                        		__st.umiq	136, _al
         1D:DB6D  A9 88      			lda.l	#136
         1D:DB6F  85 F8      			sta	_al
10323                        		__ld.uiq	8
         1D:DB71  A9 08      			lda	#8
10324                        		__call		_spr_ctrl.2
         1D:DB73  20 50 E8   			call	_spr_ctrl.2
10325                        	
10326                        		.dbg	line,	"include\routines_LEVELS.c", 1352; spr_set(chain_id+1);
10327                        		__ld.um		_chain_id
         1D:DB76  AD 27 23   			lda	_chain_id
         1D:DB79  C2         			cly
10328                        		__add.wi	1
         1D:DB7A  1A         			inc	a
         1D:DB7B  D0 01      			bne	!+
         1D:DB7D  C8         			iny
         1D:DB7E             	!:
10329                        		__call		_spr_set.1
         1D:DB7E  20 F1 E7   			call	_spr_set.1
10330                        	
10331                        		.dbg	line,	"include\routines_LEVELS.c", 1353; spr_ctrl(FLIP_MAS, FLIP_X);
10332                        		__st.umiq	136, _al
         1D:DB81  A9 88      			lda.l	#136
         1D:DB83  85 F8      			sta	_al
10333                        		__ld.uiq	8
         1D:DB85  A9 08      			lda	#8
10334                        		__call		_spr_ctrl.2
         1D:DB87  20 50 E8   			call	_spr_ctrl.2
10335                        	
10336                        		.dbg	line,	"include\routines_LEVELS.c", 1355; spr_set(chain_id+2);
10337                        		__ld.um		_chain_id
         1D:DB8A  AD 27 23   			lda	_chain_id
         1D:DB8D  C2         			cly
10338                        		__add.wi	2
         1D:DB8E  18         			clc
         1D:DB8F  69 02      			adc.l	#2
         1D:DB91  90 01      			bcc	!+
         1D:DB93  C8         			iny
         1D:DB94             	!:
10339                        		__call		_spr_set.1
         1D:DB94  20 F1 E7   			call	_spr_set.1
10340                        	
10341                        		.dbg	line,	"include\routines_LEVELS.c", 1356; spr_ctrl(FLIP_MAS, FLIP_X);
10342                        		__st.umiq	136, _al
         1D:DB97  A9 88      			lda.l	#136
         1D:DB99  85 F8      			sta	_al
10343                        		__ld.uiq	8
         1D:DB9B  A9 08      			lda	#8
10344                        		__call		_spr_ctrl.2
         1D:DB9D  20 50 E8   			call	_spr_ctrl.2
10345                        	
10346                        		.dbg	line,	"include\routines_LEVELS.c", 1358; spr_set(weapon_id);
10347                        		__ld.umq	_weapon_id
         1D:DBA0  AD 28 23   			lda	_weapon_id
10348                        		__call		_spr_set.1
         1D:DBA3  20 F1 E7   			call	_spr_set.1
10349                        	
10350                        		.dbg	line,	"include\routines_LEVELS.c", 1359; spr_ctrl(FLIP_MAS, FLIP_X);
10351                        		__st.umiq	136, _al
         1D:DBA6  A9 88      			lda.l	#136
         1D:DBA8  85 F8      			sta	_al
10352                        		__ld.uiq	8
         1D:DBAA  A9 08      			lda	#8
10353                        		__call		_spr_ctrl.2
         1D:DBAC  20 50 E8   			call	_spr_ctrl.2
10354                        	
10355                        		.dbg	line,	"include\routines_LEVELS.c", 1360; spr_x(player_pos_x+20);
10356                        		__ld.wm		_player_pos_x
         1D:DBAF  AD 01 25   			lda.l	_player_pos_x
         1D:DBB2  AC 02 25   			ldy.h	_player_pos_x
10357                        		__add.wi	20
         1D:DBB5  18         			clc
         1D:DBB6  69 14      			adc.l	#20
         1D:DBB8  90 01      			bcc	!+
         1D:DBBA  C8         			iny
         1D:DBBB             	!:
10358                        		__call		_spr_x.1
         1D:DBBB  20 1E E8   			call	_spr_x.1
10359                        	
10360                        		.dbg	line,	"include\routines_LEVELS.c", 1361; }
10361                        	
10362                        		.dbg	line,	"include\routines_LEVELS.c", 1362; }
10363    1D:DBBE             	.LL457	.alias		.LL458
10364                        	
10365                        		.dbg	line,	"include\routines_LEVELS.c", 1364; 
10366                        	
10367                        		.dbg	line,	"include\routines_LEVELS.c", 1365; else if(player_state == STATE_HANG)
10368                        		__bra		.LL458
         1D:DBBE  4C D4 DE   			bra	.LL458
10369    1D:DBC1             	.LL456:
10370                        		__ld.umq	_player_state
         1D:DBC1  AD 1A 23   			lda	_player_state
10371                        		__equ_b.uiq	10
         1D:DBC4  C9 0A      			cmp	#10
         1D:DBC6  F0 01      			beq	!+
         1D:DBC8  18         			clc
         1D:DBC9             	!:
10372                        		__bfalse	.LL459
         1D:DBC9  B0 03 4C 4F			bcc	.LL459
         1D:DBCD  DC          
10373                        	
10374                        		.dbg	line,	"include\routines_LEVELS.c", 1366; {
10375                        	
10376                        		.dbg	line,	"include\routines_LEVELS.c", 1367; if(player_axis == AXIS_RIGHT)
10377                        		__not.um	_player_axis
         1D:DBCE  AD 1B 23   			lda	_player_axis
         1D:DBD1  18         			clc
         1D:DBD2  D0 01      			bne	!+
         1D:DBD4  38         			sec
         1D:DBD5             	!:
10378                        		__bfalse	.LL460
         1D:DBD5  B0 03 4C D4			bcc	.LL460
         1D:DBD9  DE          
10379                        	
10380                        		.dbg	line,	"include\routines_LEVELS.c", 1368; {
10381                        	
10382                        		.dbg	line,	"include\routines_LEVELS.c", 1369; player_axis = AXIS_LEFT;
10383                        		__st.umiq	1, _player_axis
         1D:DBDA  A9 01      			lda.l	#1
         1D:DBDC  8D 1B 23   			sta	_player_axis
10384                        	
10385                        		.dbg	line,	"include\routines_LEVELS.c", 1370; player_previous_axis = player_axis;
10386                        		__ld.um		_player_axis
         1D:DBDF  AD 1B 23   			lda	_player_axis
         1D:DBE2  C2         			cly
10387                        		__st.umq	_player_previous_axis
         1D:DBE3  8D 1C 23   			sta	_player_previous_axis
10388                        	
10389                        		.dbg	line,	"include\routines_LEVELS.c", 1372; spr_set(player_id);
10390                        		__ld.umq	_player_id
         1D:DBE6  AD 19 23   			lda	_player_id
10391                        		__call		_spr_set.1
         1D:DBE9  20 F1 E7   			call	_spr_set.1
10392                        	
10393                        		.dbg	line,	"include\routines_LEVELS.c", 1373; spr_ctrl(FLIP_MAS, FLIP_X);
10394                        		__st.umiq	136, _al
         1D:DBEC  A9 88      			lda.l	#136
         1D:DBEE  85 F8      			sta	_al
10395                        		__ld.uiq	8
         1D:DBF0  A9 08      			lda	#8
10396                        		__call		_spr_ctrl.2
         1D:DBF2  20 50 E8   			call	_spr_ctrl.2
10397                        	
10398                        		.dbg	line,	"include\routines_LEVELS.c", 1375; spr_set(chain_id);
10399                        		__ld.umq	_chain_id
         1D:DBF5  AD 27 23   			lda	_chain_id
10400                        		__call		_spr_set.1
         1D:DBF8  20 F1 E7   			call	_spr_set.1
10401                        	
10402                        		.dbg	line,	"include\routines_LEVELS.c", 1376; spr_ctrl(FLIP_MAS, FLIP_X);
10403                        		__st.umiq	136, _al
         1D:DBFB  A9 88      			lda.l	#136
         1D:DBFD  85 F8      			sta	_al
10404                        		__ld.uiq	8
         1D:DBFF  A9 08      			lda	#8
10405                        		__call		_spr_ctrl.2
         1D:DC01  20 50 E8   			call	_spr_ctrl.2
10406                        	
10407                        		.dbg	line,	"include\routines_LEVELS.c", 1378; spr_set(chain_id+1);
10408                        		__ld.um		_chain_id
         1D:DC04  AD 27 23   			lda	_chain_id
         1D:DC07  C2         			cly
10409                        		__add.wi	1
         1D:DC08  1A         			inc	a
         1D:DC09  D0 01      			bne	!+
         1D:DC0B  C8         			iny
         1D:DC0C             	!:
10410                        		__call		_spr_set.1
         1D:DC0C  20 F1 E7   			call	_spr_set.1
10411                        	
10412                        		.dbg	line,	"include\routines_LEVELS.c", 1379; spr_ctrl(FLIP_MAS, FLIP_X);
10413                        		__st.umiq	136, _al
         1D:DC0F  A9 88      			lda.l	#136
         1D:DC11  85 F8      			sta	_al
10414                        		__ld.uiq	8
         1D:DC13  A9 08      			lda	#8
10415                        		__call		_spr_ctrl.2
         1D:DC15  20 50 E8   			call	_spr_ctrl.2
10416                        	
10417                        		.dbg	line,	"include\routines_LEVELS.c", 1381; spr_set(chain_id+2);
10418                        		__ld.um		_chain_id
         1D:DC18  AD 27 23   			lda	_chain_id
         1D:DC1B  C2         			cly
10419                        		__add.wi	2
         1D:DC1C  18         			clc
         1D:DC1D  69 02      			adc.l	#2
         1D:DC1F  90 01      			bcc	!+
         1D:DC21  C8         			iny
         1D:DC22             	!:
10420                        		__call		_spr_set.1
         1D:DC22  20 F1 E7   			call	_spr_set.1
10421                        	
10422                        		.dbg	line,	"include\routines_LEVELS.c", 1382; spr_ctrl(FLIP_MAS, FLIP_X);
10423                        		__st.umiq	136, _al
         1D:DC25  A9 88      			lda.l	#136
         1D:DC27  85 F8      			sta	_al
10424                        		__ld.uiq	8
         1D:DC29  A9 08      			lda	#8
10425                        		__call		_spr_ctrl.2
         1D:DC2B  20 50 E8   			call	_spr_ctrl.2
10426                        	
10427                        		.dbg	line,	"include\routines_LEVELS.c", 1384; spr_set(weapon_id);
10428                        		__ld.umq	_weapon_id
         1D:DC2E  AD 28 23   			lda	_weapon_id
10429                        		__call		_spr_set.1
         1D:DC31  20 F1 E7   			call	_spr_set.1
10430                        	
10431                        		.dbg	line,	"include\routines_LEVELS.c", 1385; spr_ctrl(FLIP_MAS, FLIP_X);
10432                        		__st.umiq	136, _al
         1D:DC34  A9 88      			lda.l	#136
         1D:DC36  85 F8      			sta	_al
10433                        		__ld.uiq	8
         1D:DC38  A9 08      			lda	#8
10434                        		__call		_spr_ctrl.2
         1D:DC3A  20 50 E8   			call	_spr_ctrl.2
10435                        	
10436                        		.dbg	line,	"include\routines_LEVELS.c", 1386; spr_x(player_pos_x-2);
10437                        		__ld.wm		_player_pos_x
         1D:DC3D  AD 01 25   			lda.l	_player_pos_x
         1D:DC40  AC 02 25   			ldy.h	_player_pos_x
10438                        		__sub.wi	2
         1D:DC43  38         			sec
         1D:DC44  E9 02      			sbc.l	#2
         1D:DC46  B0 01      			bcs	!+
         1D:DC48  88         			dey
         1D:DC49             	!:
10439                        		__call		_spr_x.1
         1D:DC49  20 1E E8   			call	_spr_x.1
10440                        	
10441                        		.dbg	line,	"include\routines_LEVELS.c", 1387; }
10442                        	
10443                        		.dbg	line,	"include\routines_LEVELS.c", 1388; }
10444    1D:DC4C             	.LL460	.alias		.LL461
10445                        	
10446                        		.dbg	line,	"include\routines_LEVELS.c", 1391; else if(player_state == STATE_CLIMB_UP || player_state == STATE_CLIMB_DOWN)
10447                        		__bra		.LL461
         1D:DC4C  4C D4 DE   			bra	.LL461
10448    1D:DC4F             	.LL459:
10449                        		__ld.umq	_player_state
         1D:DC4F  AD 1A 23   			lda	_player_state
10450                        		__equ_b.uiq	11
         1D:DC52  C9 0B      			cmp	#11
         1D:DC54  F0 01      			beq	!+
         1D:DC56  18         			clc
         1D:DC57             	!:
10451                        		__btrue		.LL463
         1D:DC57  B0 08      			bcs	.LL463
10452                        		__ld.umq	_player_state
         1D:DC59  AD 1A 23   			lda	_player_state
10453                        		__equ_b.uiq	12
         1D:DC5C  C9 0C      			cmp	#12
         1D:DC5E  F0 01      			beq	!+
         1D:DC60  18         			clc
         1D:DC61             	!:
10454    1D:DC61             	.LL463:
10455                        		__bfalse	.LL462
         1D:DC61  B0 03 4C D4			bcc	.LL462
         1D:DC65  DE          
10456                        	
10457                        		.dbg	line,	"include\routines_LEVELS.c", 1392; {
10458                        	
10459                        		.dbg	line,	"include\routines_LEVELS.c", 1393; spr_set(player_id);
10460                        		__ld.umq	_player_id
         1D:DC66  AD 19 23   			lda	_player_id
10461                        		__call		_spr_set.1
         1D:DC69  20 F1 E7   			call	_spr_set.1
10462                        	
10463                        		.dbg	line,	"include\routines_LEVELS.c", 1394; spr_pattern(PLAYER_HANG_VRAM_ADR);
10464                        		__ld.wi		8448
         1D:DC6C  62         			cla
         1D:DC6D  A0 21      			ldy.h	#8448
10465                        		__call		_spr_pattern.1
         1D:DC6F  20 3A E8   			call	_spr_pattern.1
10466                        	
10467                        		.dbg	line,	"include\routines_LEVELS.c", 1395; player_counter_anim = 0;
10468                        		__st.umiq	0, _player_counter_anim
         1D:DC72  9C 1D 23   			stz	_player_counter_anim
10469                        	
10470                        		.dbg	line,	"include\routines_LEVELS.c", 1396; player_state = STATE_HANG;
10471                        		__st.umiq	10, _player_state
         1D:DC75  A9 0A      			lda.l	#10
         1D:DC77  8D 1A 23   			sta	_player_state
10472                        	
10473                        		.dbg	line,	"include\routines_LEVELS.c", 1397; }
10474                        	
10475                        		.dbg	line,	"include\routines_LEVELS.c", 1398; }
10476    1D:DC7A             	.LL462	.alias		.LL464
10477    1D:DC7A             	.LL461	.alias		.LL464
10478    1D:DC7A             	.LL458	.alias		.LL464
10479    1D:DC7A             	.LL455	.alias		.LL464
10480    1D:DC7A             	.LL449	.alias		.LL464
10481    1D:DC7A             	.LL446	.alias		.LL464
10482    1D:DC7A             	.LL440	.alias		.LL464
10483                        	
10484                        		.dbg	line,	"include\routines_LEVELS.c", 1401; //--------------------------------------------------------------------------------------//
10485                        	
10486                        		.dbg	line,	"include\routines_LEVELS.c", 1402; //                                      UP BUTTON                                       //
10487                        	
10488                        		.dbg	line,	"include\routines_LEVELS.c", 1403; //--------------------------------------------------------------------------------------//
10489                        	
10490                        		.dbg	line,	"include\routines_LEVELS.c", 1405; else if(joy(JOYPAD_1) & JOY_UP)
10491                        		__bra		.LL464
         1D:DC7A  4C D4 DE   			bra	.LL464
10492    1D:DC7D             	.LL435:
10493                        		__ld.uiq	0
         1D:DC7D  62         			cla
10494                        		 _joy.1
         1D:DC7E  AA         			tax
         1D:DC7F  BD 28 22   			lda	joynow, x
         1D:DC82  BC D3 22   			ldy	joy6now, x
10495                        		__tand.wi	16
         1D:DC85  29 10      			and	#16
         1D:DC87  C9 01      	!:		cmp	#1
10496                        		__bfalse	.LL465
         1D:DC89  B0 03 4C 67			bcc	.LL465
         1D:DC8D  DD          
10497                        	
10498                        		.dbg	line,	"include\routines_LEVELS.c", 1406; {
10499                        	
10500                        		.dbg	line,	"include\routines_LEVELS.c", 1407; if(player_state == STATE_HANG || player_state == STATE_CLIMB_UP || player_state == STATE_CLIMB_DOWN)
10501                        		__ld.umq	_player_state
         1D:DC8E  AD 1A 23   			lda	_player_state
10502                        		__equ_b.uiq	10
         1D:DC91  C9 0A      			cmp	#10
         1D:DC93  F0 01      			beq	!+
         1D:DC95  18         			clc
         1D:DC96             	!:
10503                        		__btrue		.LL467
         1D:DC96  B0 08      			bcs	.LL467
10504                        		__ld.umq	_player_state
         1D:DC98  AD 1A 23   			lda	_player_state
10505                        		__equ_b.uiq	11
         1D:DC9B  C9 0B      			cmp	#11
         1D:DC9D  F0 01      			beq	!+
         1D:DC9F  18         			clc
         1D:DCA0             	!:
10506    1D:DCA0             	.LL467:
10507                        		__btrue		.LL468
         1D:DCA0  B0 08      			bcs	.LL468
10508                        		__ld.umq	_player_state
         1D:DCA2  AD 1A 23   			lda	_player_state
10509                        		__equ_b.uiq	12
         1D:DCA5  C9 0C      			cmp	#12
         1D:DCA7  F0 01      			beq	!+
         1D:DCA9  18         			clc
         1D:DCAA             	!:
10510    1D:DCAA             	.LL468:
10511                        		__bfalse	.LL466
         1D:DCAA  B0 03 4C D4			bcc	.LL466
         1D:DCAE  DE          
10512                        	
10513                        		.dbg	line,	"include\routines_LEVELS.c", 1408; {
10514                        	
10515                        		.dbg	line,	"include\routines_LEVELS.c", 1409; if(player_attack == FALSE)
10516                        		__not.um	_player_attack
         1D:DCAF  AD 22 23   			lda	_player_attack
         1D:DCB2  18         			clc
         1D:DCB3  D0 01      			bne	!+
         1D:DCB5  38         			sec
         1D:DCB6             	!:
10517                        		__bfalse	.LL469
         1D:DCB6  B0 03 4C D4			bcc	.LL469
         1D:DCBA  DE          
10518                        	
10519                        		.dbg	line,	"include\routines_LEVELS.c", 1410; {
10520                        	
10521                        		.dbg	line,	"include\routines_LEVELS.c", 1411; unsigned char i;
10522                        	
10523                        		.dbg	line,	"include\routines_LEVELS.c", 1413; collision_PLAYER_BG( 15 , 8 );
10524                        		__ld.wi		15
         1D:DCBB  A9 0F      			lda.l	#15
         1D:DCBD  C2         			cly
10525                        		__pusharg.wr
         1D:DCBE  A6 8D      			ldx	<__sp
         1D:DCC0  CA         			dex
         1D:DCC1  CA         			dex
         1D:DCC2  95 08      			sta.l	<__stack, x
         1D:DCC4  94 09      			sty.h	<__stack, x
         1D:DCC6  86 8D      			stx	<__sp
10526                        		__ld.wi		8
         1D:DCC8  A9 08      			lda.l	#8
         1D:DCCA  C2         			cly
10527                        		__pusharg.wr
         1D:DCCB  A6 8D      			ldx	<__sp
         1D:DCCD  CA         			dex
         1D:DCCE  CA         			dex
         1D:DCCF  95 08      			sta.l	<__stack, x
         1D:DCD1  94 09      			sty.h	<__stack, x
         1D:DCD3  86 8D      			stx	<__sp
10528                        		__call		_collision_PLAYER_BG
         1D:DCD5  20 31 FF   			call	_collision_PLAYER_BG
10529                        	
10530                        		.dbg	line,	"include\routines_LEVELS.c", 1415; if(map_blk_flag == TILE_EMPTY)
10531                        		__not.um	_map_blk_flag
         1D:DCD8  AD 05 2C   			lda	_map_blk_flag
         1D:DCDB  18         			clc
         1D:DCDC  D0 01      			bne	!+
         1D:DCDE  38         			sec
         1D:DCDF             	!:
10532                        		__bfalse	.LL470
         1D:DCDF  90 67      			bcc	.LL470
10533                        	
10534                        		.dbg	line,	"include\routines_LEVELS.c", 1416; {
10535                        	
10536                        		.dbg	line,	"include\routines_LEVELS.c", 1417; for(i=1 ; i<3 ; i++)
10537                        		__st.umiq	1, __joypad_DIR_end - 1  /* i */
         1D:DCE1  A9 01      			lda.l	#1
         1D:DCE3  8D 04 23   			sta	__joypad_DIR_end - 1
10538    1D:DCE6             	.LL471:
10539                        		__ld.umq	__joypad_DIR_end - 1  /* i */
         1D:DCE6  AD 04 23   			lda	__joypad_DIR_end - 1
10540                        		__ult_b.uiq	3
         1D:DCE9  C9 03      			cmp	#3		; Subtract integer from A.
         1D:DCEB  6A         			ror	a		; CC if A < integer.
         1D:DCEC  49 80      			eor	#$80
         1D:DCEE  2A         			rol	a
10541                        		__btrue		.LL473
         1D:DCEF  B0 07      			bcs	.LL473
10542                        		__bra		.LL474
         1D:DCF1  80 63      			bra	.LL474
10543    1D:DCF3             	.LL472:
10544                        		__inc.umq	__joypad_DIR_end - 1  /* i */
         1D:DCF3  EE 04 23   			inc	__joypad_DIR_end - 1
10545                        		__bra		.LL471
         1D:DCF6  80 EE      			bra	.LL471
10546    1D:DCF8             	.LL473:
10547                        	
10548                        		.dbg	line,	"include\routines_LEVELS.c", 1418; {
10549                        	
10550                        		.dbg	line,	"include\routines_LEVELS.c", 1419; collision_PLAYER_BG( 15 , 8 + i );
10551                        		__ld.wi		15
         1D:DCF8  A9 0F      			lda.l	#15
         1D:DCFA  C2         			cly
10552                        		__pusharg.wr
         1D:DCFB  A6 8D      			ldx	<__sp
         1D:DCFD  CA         			dex
         1D:DCFE  CA         			dex
         1D:DCFF  95 08      			sta.l	<__stack, x
         1D:DD01  94 09      			sty.h	<__stack, x
         1D:DD03  86 8D      			stx	<__sp
10553                        		__ld.wi		8
         1D:DD05  A9 08      			lda.l	#8
         1D:DD07  C2         			cly
10554                        		__add.um	__joypad_DIR_end - 1  /* i */
         1D:DD08  18         			clc
         1D:DD09  6D 04 23   			adc	__joypad_DIR_end - 1
         1D:DD0C  90 01      			bcc	!+
         1D:DD0E  C8         			iny
         1D:DD0F             	!:
10555                        		__pusharg.wr
         1D:DD0F  A6 8D      			ldx	<__sp
         1D:DD11  CA         			dex
         1D:DD12  CA         			dex
         1D:DD13  95 08      			sta.l	<__stack, x
         1D:DD15  94 09      			sty.h	<__stack, x
         1D:DD17  86 8D      			stx	<__sp
10556                        		__call		_collision_PLAYER_BG
         1D:DD19  20 31 FF   			call	_collision_PLAYER_BG
10557                        	
10558                        		.dbg	line,	"include\routines_LEVELS.c", 1421; if(map_blk_flag == TILE_LADDER)
10559                        		__ld.umq	_map_blk_flag
         1D:DD1C  AD 05 2C   			lda	_map_blk_flag
10560                        		__equ_b.uiq	2
         1D:DD1F  C9 02      			cmp	#2
         1D:DD21  F0 01      			beq	!+
         1D:DD23  18         			clc
         1D:DD24             	!:
10561                        		__bfalse	.LL475
         1D:DD24  90 CD      			bcc	.LL475
10562                        	
10563                        		.dbg	line,	"include\routines_LEVELS.c", 1422; {
10564                        	
10565                        		.dbg	line,	"include\routines_LEVELS.c", 1423; sgx_map_pxl_y -= (2 - i);
10566                        		__ld.wi		2
         1D:DD26  A9 02      			lda.l	#2
         1D:DD28  C2         			cly
10567                        		__sub.um	__joypad_DIR_end - 1  /* i */
         1D:DD29  38         			sec
         1D:DD2A  ED 04 23   			sbc	__joypad_DIR_end - 1
         1D:DD2D  B0 01      			bcs	!+
         1D:DD2F  88         			dey
         1D:DD30             	!:
10568                        		__isub_st.wmq	_sgx_map_pxl_y
         1D:DD30  38         			sec
         1D:DD31  49 FF      			eor	#$FF
         1D:DD33  6D E6 26   			adc.l	_sgx_map_pxl_y
         1D:DD36  8D E6 26   			sta.l	_sgx_map_pxl_y
         1D:DD39  98         			tya
         1D:DD3A  49 FF      			eor	#$FF
         1D:DD3C  6D E7 26   			adc.h	_sgx_map_pxl_y
         1D:DD3F  8D E7 26   			sta.h	_sgx_map_pxl_y
10569                        	
10570                        		.dbg	line,	"include\routines_LEVELS.c", 1424; break;
10571                        		__bra		.LL474
         1D:DD42  80 12      			bra	.LL474
10572                        	
10573                        		.dbg	line,	"include\routines_LEVELS.c", 1425; }
10574                        	
10575                        		.dbg	line,	"include\routines_LEVELS.c", 1426; }
10576    1D:DD44             	.LL475	.alias		.LL472
10577                        		__bra		.LL472
         1D:DD44  80 AD      			bra	.LL472
10578    1D:DD46             	.LL474	.alias		.LL476
10579                        	
10580                        		.dbg	line,	"include\routines_LEVELS.c", 1427; }
10581                        	
10582                        		.dbg	line,	"include\routines_LEVELS.c", 1429; else
10583                        		__bra		.LL476
         1D:DD46  80 0E      			bra	.LL476
10584    1D:DD48             	.LL470:
10585                        	
10586                        		.dbg	line,	"include\routines_LEVELS.c", 1430; {
10587                        	
10588                        		.dbg	line,	"include\routines_LEVELS.c", 1431; sgx_map_pxl_y -= 2;
10589                        		__sub_st.wmiq	2, _sgx_map_pxl_y
         1D:DD48  38         			sec
         1D:DD49  AD E6 26   			lda.l	_sgx_map_pxl_y
         1D:DD4C  E9 02      			sbc.l	#2
         1D:DD4E  8D E6 26   			sta.l	_sgx_map_pxl_y
         1D:DD51  B0 03      			bcs	!+
         1D:DD53  CE E7 26   			dec.h	_sgx_map_pxl_y
         1D:DD56             	!:
10590                        	
10591                        		.dbg	line,	"include\routines_LEVELS.c", 1432; }
10592    1D:DD56             	.LL476:
10593                        	
10594                        		.dbg	line,	"include\routines_LEVELS.c", 1434; spr_set(weapon_id);
10595                        		__ld.umq	_weapon_id
         1D:DD56  AD 28 23   			lda	_weapon_id
10596                        		__call		_spr_set.1
         1D:DD59  20 F1 E7   			call	_spr_set.1
10597                        	
10598                        		.dbg	line,	"include\routines_LEVELS.c", 1435; spr_hide();
10599                        		__call		_spr_hide
         1D:DD5C  20 0C E8   			call	_spr_hide
10600                        	
10601                        		.dbg	line,	"include\routines_LEVELS.c", 1437; player_state = STATE_CLIMB_UP;
10602                        		__st.umiq	11, _player_state
         1D:DD5F  A9 0B      			lda.l	#11
         1D:DD61  8D 1A 23   			sta	_player_state
10603                        	
10604                        		.dbg	line,	"include\routines_LEVELS.c", 1438; }
10605                        	
10606                        		.dbg	line,	"include\routines_LEVELS.c", 1439; }
10607    1D:DD64             	.LL469	.alias		.LL477
10608                        	
10609                        		.dbg	line,	"include\routines_LEVELS.c", 1440; }
10610    1D:DD64             	.LL466	.alias		.LL477
10611                        	
10612                        		.dbg	line,	"include\routines_LEVELS.c", 1443; //--------------------------------------------------------------------------------------//
10613                        	
10614                        		.dbg	line,	"include\routines_LEVELS.c", 1444; //                                     DOWN BUTTON                                      //
10615                        	
10616                        		.dbg	line,	"include\routines_LEVELS.c", 1445; //--------------------------------------------------------------------------------------//
10617                        	
10618                        		.dbg	line,	"include\routines_LEVELS.c", 1447; else if(joy(JOYPAD_1) & JOY_DOWN)
10619                        		__bra		.LL477
         1D:DD64  4C D4 DE   			bra	.LL477
10620    1D:DD67             	.LL465:
10621                        		__ld.uiq	0
         1D:DD67  62         			cla
10622                        		 _joy.1
         1D:DD68  AA         			tax
         1D:DD69  BD 28 22   			lda	joynow, x
         1D:DD6C  BC D3 22   			ldy	joy6now, x
10623                        		__tand.wi	64
         1D:DD6F  29 40      			and	#64
         1D:DD71  C9 01      	!:		cmp	#1
10624                        		__bfalse	.LL478
         1D:DD73  B0 03 4C D4			bcc	.LL478
         1D:DD77  DE          
10625                        	
10626                        		.dbg	line,	"include\routines_LEVELS.c", 1448; {
10627                        	
10628                        		.dbg	line,	"include\routines_LEVELS.c", 1449; if(player_state == STATE_IDLE || player_state == STATE_WALK)
10629                        		__not.um	_player_state
         1D:DD78  AD 1A 23   			lda	_player_state
         1D:DD7B  18         			clc
         1D:DD7C  D0 01      			bne	!+
         1D:DD7E  38         			sec
         1D:DD7F             	!:
10630                        		__btrue		.LL480
         1D:DD7F  B0 08      			bcs	.LL480
10631                        		__ld.umq	_player_state
         1D:DD81  AD 1A 23   			lda	_player_state
10632                        		__equ_b.uiq	1
         1D:DD84  C9 01      			cmp	#1
         1D:DD86  F0 01      			beq	!+
         1D:DD88  18         			clc
         1D:DD89             	!:
10633    1D:DD89             	.LL480:
10634                        		__bfalse	.LL479
         1D:DD89  90 0D      			bcc	.LL479
10635                        	
10636                        		.dbg	line,	"include\routines_LEVELS.c", 1450; {
10637                        	
10638                        		.dbg	line,	"include\routines_LEVELS.c", 1451; player_counter_anim = 1;
10639                        		__st.umiq	1, _player_counter_anim
         1D:DD8B  A9 01      			lda.l	#1
         1D:DD8D  8D 1D 23   			sta	_player_counter_anim
10640                        	
10641                        		.dbg	line,	"include\routines_LEVELS.c", 1452; player_state = STATE_CROUCH;
10642                        		__st.umiq	7, _player_state
         1D:DD90  A9 07      			lda.l	#7
         1D:DD92  8D 1A 23   			sta	_player_state
10643                        	
10644                        		.dbg	line,	"include\routines_LEVELS.c", 1453; }
10645                        	
10646                        		.dbg	line,	"include\routines_LEVELS.c", 1456; else if(player_state == STATE_HANG || player_state == STATE_CLIMB_UP || player_state == STATE_CLIMB_DOWN)
10647                        		__bra		.LL481
         1D:DD95  4C D4 DE   			bra	.LL481
10648    1D:DD98             	.LL479:
10649                        		__ld.umq	_player_state
         1D:DD98  AD 1A 23   			lda	_player_state
10650                        		__equ_b.uiq	10
         1D:DD9B  C9 0A      			cmp	#10
         1D:DD9D  F0 01      			beq	!+
         1D:DD9F  18         			clc
         1D:DDA0             	!:
10651                        		__btrue		.LL483
         1D:DDA0  B0 08      			bcs	.LL483
10652                        		__ld.umq	_player_state
         1D:DDA2  AD 1A 23   			lda	_player_state
10653                        		__equ_b.uiq	11
         1D:DDA5  C9 0B      			cmp	#11
         1D:DDA7  F0 01      			beq	!+
         1D:DDA9  18         			clc
         1D:DDAA             	!:
10654    1D:DDAA             	.LL483:
10655                        		__btrue		.LL484
         1D:DDAA  B0 08      			bcs	.LL484
10656                        		__ld.umq	_player_state
         1D:DDAC  AD 1A 23   			lda	_player_state
10657                        		__equ_b.uiq	12
         1D:DDAF  C9 0C      			cmp	#12
         1D:DDB1  F0 01      			beq	!+
         1D:DDB3  18         			clc
         1D:DDB4             	!:
10658    1D:DDB4             	.LL484:
10659                        		__bfalse	.LL482
         1D:DDB4  B0 03 4C D4			bcc	.LL482
         1D:DDB8  DE          
10660                        	
10661                        		.dbg	line,	"include\routines_LEVELS.c", 1457; {
10662                        	
10663                        		.dbg	line,	"include\routines_LEVELS.c", 1458; if(player_attack == FALSE)
10664                        		__not.um	_player_attack
         1D:DDB9  AD 22 23   			lda	_player_attack
         1D:DDBC  18         			clc
         1D:DDBD  D0 01      			bne	!+
         1D:DDBF  38         			sec
         1D:DDC0             	!:
10665                        		__bfalse	.LL485
         1D:DDC0  B0 03 4C D4			bcc	.LL485
         1D:DDC4  DE          
10666                        	
10667                        		.dbg	line,	"include\routines_LEVELS.c", 1459; {
10668                        	
10669                        		.dbg	line,	"include\routines_LEVELS.c", 1460; unsigned char i;
10670                        	
10671                        		.dbg	line,	"include\routines_LEVELS.c", 1462; collision_PLAYER_BG( 15 , 10 );
10672                        		__ld.wi		15
         1D:DDC5  A9 0F      			lda.l	#15
         1D:DDC7  C2         			cly
10673                        		__pusharg.wr
         1D:DDC8  A6 8D      			ldx	<__sp
         1D:DDCA  CA         			dex
         1D:DDCB  CA         			dex
         1D:DDCC  95 08      			sta.l	<__stack, x
         1D:DDCE  94 09      			sty.h	<__stack, x
         1D:DDD0  86 8D      			stx	<__sp
10674                        		__ld.wi		10
         1D:DDD2  A9 0A      			lda.l	#10
         1D:DDD4  C2         			cly
10675                        		__pusharg.wr
         1D:DDD5  A6 8D      			ldx	<__sp
         1D:DDD7  CA         			dex
         1D:DDD8  CA         			dex
         1D:DDD9  95 08      			sta.l	<__stack, x
         1D:DDDB  94 09      			sty.h	<__stack, x
         1D:DDDD  86 8D      			stx	<__sp
10676                        		__call		_collision_PLAYER_BG
         1D:DDDF  20 31 FF   			call	_collision_PLAYER_BG
10677                        	
10678                        		.dbg	line,	"include\routines_LEVELS.c", 1464; if(map_blk_flag == TILE_EMPTY)
10679                        		__not.um	_map_blk_flag
         1D:DDE2  AD 05 2C   			lda	_map_blk_flag
         1D:DDE5  18         			clc
         1D:DDE6  D0 01      			bne	!+
         1D:DDE8  38         			sec
         1D:DDE9             	!:
10680                        		__bfalse	.LL486
         1D:DDE9  B0 03 4C B8			bcc	.LL486
         1D:DDED  DE          
10681                        	
10682                        		.dbg	line,	"include\routines_LEVELS.c", 1465; {
10683                        	
10684                        		.dbg	line,	"include\routines_LEVELS.c", 1466; for(i=1 ; i<3 ; i++)
10685                        		__st.umiq	1, __joypad_DIR_end - 2  /* i */
         1D:DDEE  A9 01      			lda.l	#1
         1D:DDF0  8D 03 23   			sta	__joypad_DIR_end - 2
10686    1D:DDF3             	.LL487:
10687                        		__ld.umq	__joypad_DIR_end - 2  /* i */
         1D:DDF3  AD 03 23   			lda	__joypad_DIR_end - 2
10688                        		__ult_b.uiq	3
         1D:DDF6  C9 03      			cmp	#3		; Subtract integer from A.
         1D:DDF8  6A         			ror	a		; CC if A < integer.
         1D:DDF9  49 80      			eor	#$80
         1D:DDFB  2A         			rol	a
10689                        		__btrue		.LL489
         1D:DDFC  B0 08      			bcs	.LL489
10690                        		__bra		.LL490
         1D:DDFE  4C D4 DE   			bra	.LL490
10691    1D:DE01             	.LL488:
10692                        		__inc.umq	__joypad_DIR_end - 2  /* i */
         1D:DE01  EE 03 23   			inc	__joypad_DIR_end - 2
10693                        		__bra		.LL487
         1D:DE04  80 ED      			bra	.LL487
10694    1D:DE06             	.LL489:
10695                        	
10696                        		.dbg	line,	"include\routines_LEVELS.c", 1467; {
10697                        	
10698                        		.dbg	line,	"include\routines_LEVELS.c", 1468; collision_PLAYER_BG( 15 , 22 + i );
10699                        		__ld.wi		15
         1D:DE06  A9 0F      			lda.l	#15
         1D:DE08  C2         			cly
10700                        		__pusharg.wr
         1D:DE09  A6 8D      			ldx	<__sp
         1D:DE0B  CA         			dex
         1D:DE0C  CA         			dex
         1D:DE0D  95 08      			sta.l	<__stack, x
         1D:DE0F  94 09      			sty.h	<__stack, x
         1D:DE11  86 8D      			stx	<__sp
10701                        		__ld.wi		22
         1D:DE13  A9 16      			lda.l	#22
         1D:DE15  C2         			cly
10702                        		__add.um	__joypad_DIR_end - 2  /* i */
         1D:DE16  18         			clc
         1D:DE17  6D 03 23   			adc	__joypad_DIR_end - 2
         1D:DE1A  90 01      			bcc	!+
         1D:DE1C  C8         			iny
         1D:DE1D             	!:
10703                        		__pusharg.wr
         1D:DE1D  A6 8D      			ldx	<__sp
         1D:DE1F  CA         			dex
         1D:DE20  CA         			dex
         1D:DE21  95 08      			sta.l	<__stack, x
         1D:DE23  94 09      			sty.h	<__stack, x
         1D:DE25  86 8D      			stx	<__sp
10704                        		__call		_collision_PLAYER_BG
         1D:DE27  20 31 FF   			call	_collision_PLAYER_BG
10705                        	
10706                        		.dbg	line,	"include\routines_LEVELS.c", 1470; if(map_blk_flag == TILE_LADDER)
10707                        		__ld.umq	_map_blk_flag
         1D:DE2A  AD 05 2C   			lda	_map_blk_flag
10708                        		__equ_b.uiq	2
         1D:DE2D  C9 02      			cmp	#2
         1D:DE2F  F0 01      			beq	!+
         1D:DE31  18         			clc
         1D:DE32             	!:
10709                        		__bfalse	.LL491
         1D:DE32  90 1B      			bcc	.LL491
10710                        	
10711                        		.dbg	line,	"include\routines_LEVELS.c", 1471; {
10712                        	
10713                        		.dbg	line,	"include\routines_LEVELS.c", 1472; sgx_map_pxl_y += (2 - i);
10714                        		__ld.wi		2
         1D:DE34  A9 02      			lda.l	#2
         1D:DE36  C2         			cly
10715                        		__sub.um	__joypad_DIR_end - 2  /* i */
         1D:DE37  38         			sec
         1D:DE38  ED 03 23   			sbc	__joypad_DIR_end - 2
         1D:DE3B  B0 01      			bcs	!+
         1D:DE3D  88         			dey
         1D:DE3E             	!:
10716                        		__add_st.wmq	_sgx_map_pxl_y
         1D:DE3E  18         			clc
         1D:DE3F  6D E6 26   			adc.l	_sgx_map_pxl_y
         1D:DE42  8D E6 26   			sta.l	_sgx_map_pxl_y
         1D:DE45  98         			tya
         1D:DE46  6D E7 26   			adc.h	_sgx_map_pxl_y
         1D:DE49  8D E7 26   			sta.h	_sgx_map_pxl_y
10717                        	
10718                        		.dbg	line,	"include\routines_LEVELS.c", 1473; break;
10719                        		__bra		.LL490
         1D:DE4C  4C D4 DE   			bra	.LL490
10720                        	
10721                        		.dbg	line,	"include\routines_LEVELS.c", 1474; }
10722                        	
10723                        		.dbg	line,	"include\routines_LEVELS.c", 1476; else
10724    1D:DE4F             	.LL491:
10725                        	
10726                        		.dbg	line,	"include\routines_LEVELS.c", 1477; {
10727                        	
10728                        		.dbg	line,	"include\routines_LEVELS.c", 1478; spr_set(player_id);
10729                        		__ld.umq	_player_id
         1D:DE4F  AD 19 23   			lda	_player_id
10730                        		__call		_spr_set.1
         1D:DE52  20 F1 E7   			call	_spr_set.1
10731                        	
10732                        		.dbg	line,	"include\routines_LEVELS.c", 1479; spr_pattern(PLAYER_FALL_VRAM_ADR);
10733                        		__ld.wi		10240
         1D:DE55  62         			cla
         1D:DE56  A0 28      			ldy.h	#10240
10734                        		__call		_spr_pattern.1
         1D:DE58  20 3A E8   			call	_spr_pattern.1
10735                        	
10736                        		.dbg	line,	"include\routines_LEVELS.c", 1481; spr_set(weapon_id);
10737                        		__ld.umq	_weapon_id
         1D:DE5B  AD 28 23   			lda	_weapon_id
10738                        		__call		_spr_set.1
         1D:DE5E  20 F1 E7   			call	_spr_set.1
10739                        	
10740                        		.dbg	line,	"include\routines_LEVELS.c", 1482; spr_pattern(WEAPON_IDLE_VRAM_ADRESS);
10741                        		__ld.wi		31808
         1D:DE61  A9 40      			lda.l	#31808
         1D:DE63  A0 7C      			ldy.h	#31808
10742                        		__call		_spr_pattern.1
         1D:DE65  20 3A E8   			call	_spr_pattern.1
10743                        	
10744                        		.dbg	line,	"include\routines_LEVELS.c", 1483; spr_y(player_pos_y+4);
10745                        		__ld.wm		_player_pos_y
         1D:DE68  AD 03 25   			lda.l	_player_pos_y
         1D:DE6B  AC 04 25   			ldy.h	_player_pos_y
10746                        		__add.wi	4
         1D:DE6E  18         			clc
         1D:DE6F  69 04      			adc.l	#4
         1D:DE71  90 01      			bcc	!+
         1D:DE73  C8         			iny
         1D:DE74             	!:
10747                        		__call		_spr_y.1
         1D:DE74  20 2D E8   			call	_spr_y.1
10748                        	
10749                        		.dbg	line,	"include\routines_LEVELS.c", 1485; if(player_axis == AXIS_RIGHT)
10750                        		__not.um	_player_axis
         1D:DE77  AD 1B 23   			lda	_player_axis
         1D:DE7A  18         			clc
         1D:DE7B  D0 01      			bne	!+
         1D:DE7D  38         			sec
         1D:DE7E             	!:
10751                        		__bfalse	.LL493
         1D:DE7E  90 11      			bcc	.LL493
10752                        	
10753                        		.dbg	line,	"include\routines_LEVELS.c", 1486; {
10754                        	
10755                        		.dbg	line,	"include\routines_LEVELS.c", 1487; spr_x(player_pos_x-4);
10756                        		__ld.wm		_player_pos_x
         1D:DE80  AD 01 25   			lda.l	_player_pos_x
         1D:DE83  AC 02 25   			ldy.h	_player_pos_x
10757                        		__sub.wi	4
         1D:DE86  38         			sec
         1D:DE87  E9 04      			sbc.l	#4
         1D:DE89  B0 01      			bcs	!+
         1D:DE8B  88         			dey
         1D:DE8C             	!:
10758                        		__call		_spr_x.1
         1D:DE8C  20 1E E8   			call	_spr_x.1
10759                        	
10760                        		.dbg	line,	"include\routines_LEVELS.c", 1488; }
10761                        	
10762                        		.dbg	line,	"include\routines_LEVELS.c", 1489; 
10763                        	
10764                        		.dbg	line,	"include\routines_LEVELS.c", 1490; else
10765                        		__bra		.LL494
         1D:DE8F  80 0F      			bra	.LL494
10766    1D:DE91             	.LL493:
10767                        	
10768                        		.dbg	line,	"include\routines_LEVELS.c", 1491; {
10769                        	
10770                        		.dbg	line,	"include\routines_LEVELS.c", 1492; spr_x(player_pos_x+20);
10771                        		__ld.wm		_player_pos_x
         1D:DE91  AD 01 25   			lda.l	_player_pos_x
         1D:DE94  AC 02 25   			ldy.h	_player_pos_x
10772                        		__add.wi	20
         1D:DE97  18         			clc
         1D:DE98  69 14      			adc.l	#20
         1D:DE9A  90 01      			bcc	!+
         1D:DE9C  C8         			iny
         1D:DE9D             	!:
10773                        		__call		_spr_x.1
         1D:DE9D  20 1E E8   			call	_spr_x.1
10774                        	
10775                        		.dbg	line,	"include\routines_LEVELS.c", 1493; }
10776    1D:DEA0             	.LL494:
10777                        	
10778                        		.dbg	line,	"include\routines_LEVELS.c", 1494; 
10779                        	
10780                        		.dbg	line,	"include\routines_LEVELS.c", 1496; jump_ladder = FALSE;
10781                        		__st.umiq	0, _jump_ladder
         1D:DEA0  9C 23 23   			stz	_jump_ladder
10782                        	
10783                        		.dbg	line,	"include\routines_LEVELS.c", 1497; player_index_jump = 0;
10784                        		__st.umiq	0, _player_index_jump
         1D:DEA3  9C 1E 23   			stz	_player_index_jump
10785                        	
10786                        		.dbg	line,	"include\routines_LEVELS.c", 1498; player_index_fall = 0;
10787                        		__st.umiq	0, _player_index_fall
         1D:DEA6  9C 1F 23   			stz	_player_index_fall
10788                        	
10789                        		.dbg	line,	"include\routines_LEVELS.c", 1499; fall_ladder = TRUE;
10790                        		__st.umiq	1, _fall_ladder
         1D:DEA9  A9 01      			lda.l	#1
         1D:DEAB  8D 25 23   			sta	_fall_ladder
10791                        	
10792                        		.dbg	line,	"include\routines_LEVELS.c", 1500; player_state = STATE_FALL;
10793                        		__st.umiq	9, _player_state
         1D:DEAE  A9 09      			lda.l	#9
         1D:DEB0  8D 1A 23   			sta	_player_state
10794                        	
10795                        		.dbg	line,	"include\routines_LEVELS.c", 1501; }
10796    1D:DEB3             	.LL492	.alias		.LL488
10797                        	
10798                        		.dbg	line,	"include\routines_LEVELS.c", 1502; }
10799                        		__bra		.LL488
         1D:DEB3  4C 01 DE   			bra	.LL488
10800    1D:DEB6             	.LL490	.alias		.LL495
10801                        	
10802                        		.dbg	line,	"include\routines_LEVELS.c", 1503; }
10803                        	
10804                        		.dbg	line,	"include\routines_LEVELS.c", 1505; else
10805                        		__bra		.LL495
         1D:DEB6  80 1C      			bra	.LL495
10806    1D:DEB8             	.LL486:
10807                        	
10808                        		.dbg	line,	"include\routines_LEVELS.c", 1506; {
10809                        	
10810                        		.dbg	line,	"include\routines_LEVELS.c", 1507; spr_set(weapon_id);
10811                        		__ld.umq	_weapon_id
         1D:DEB8  AD 28 23   			lda	_weapon_id
10812                        		__call		_spr_set.1
         1D:DEBB  20 F1 E7   			call	_spr_set.1
10813                        	
10814                        		.dbg	line,	"include\routines_LEVELS.c", 1508; spr_hide();
10815                        		__call		_spr_hide
         1D:DEBE  20 0C E8   			call	_spr_hide
10816                        	
10817                        		.dbg	line,	"include\routines_LEVELS.c", 1509; 
10818                        	
10819                        		.dbg	line,	"include\routines_LEVELS.c", 1510; sgx_map_pxl_y += 2;
10820                        		__add_st.wmiq	2, _sgx_map_pxl_y
         1D:DEC1  18         			clc
         1D:DEC2  AD E6 26   			lda.l	_sgx_map_pxl_y
         1D:DEC5  69 02      			adc.l	#2
         1D:DEC7  8D E6 26   			sta.l	_sgx_map_pxl_y
         1D:DECA  90 03      			bcc	!+
         1D:DECC  EE E7 26   			inc.h	_sgx_map_pxl_y
         1D:DECF             	!:
10821                        	
10822                        		.dbg	line,	"include\routines_LEVELS.c", 1511; player_state = STATE_CLIMB_DOWN;
10823                        		__st.umiq	12, _player_state
         1D:DECF  A9 0C      			lda.l	#12
         1D:DED1  8D 1A 23   			sta	_player_state
10824                        	
10825                        		.dbg	line,	"include\routines_LEVELS.c", 1512; }
10826    1D:DED4             	.LL495:
10827                        	
10828                        		.dbg	line,	"include\routines_LEVELS.c", 1513; }
10829                        	
10830                        		.dbg	line,	"include\routines_LEVELS.c", 1514; }
10831    1D:DED4             	.LL485:
10832                        	
10833                        		.dbg	line,	"include\routines_LEVELS.c", 1515; }
10834    1D:DED4             	.LL482:
10835    1D:DED4             	.LL481:
10836                        	
10837                        		.dbg	line,	"include\routines_LEVELS.c", 1516; }
10838    1D:DED4             	.LL478:
10839    1D:DED4             	.LL477:
10840    1D:DED4             	.LL464:
10841    1D:DED4             	.LL434:
10842    1D:DED4             	.LL394:
10843                        		__return	0
         1D:DED4  4C EF FF   			jmp	leave_proc
10844                        		.dbg	clear
10845                        		.endp
10846               2303     		.bss
10847    F8:2303             			ds	2
10848    F8:2305             	__joypad_DIR_end:
10849               E31D     		.code
10850                        		.pceas
10851                        	
10852                        		.dbg	line,	"include\routines_LEVELS.c", 1525; void update_PLAYER()
10853                        		.dbg	line,	"include\routines_LEVELS.c", 1526; {
10854                        	;***********************
10855                        	;***********************
10856                        	
10857                        		.hucc
10858    01:C337             		.proc		_update_PLAYER
10859                        		__enter		_update_PLAYER
10860                        	
10861                        		.dbg	line,	"include\routines_LEVELS.c", 1527; if(player_state == STATE_IDLE)
10862                        		__not.um	_player_state
         01:C337  AD 1A 23   			lda	_player_state
         01:C33A  18         			clc
         01:C33B  D0 01      			bne	!+
         01:C33D  38         			sec
         01:C33E             	!:
10863                        		__bfalse	.LL497
         01:C33E  B0 03 4C E7			bcc	.LL497
         01:C342  C3          
10864                        	
10865                        		.dbg	line,	"include\routines_LEVELS.c", 1528; {
10866                        	
10867                        		.dbg	line,	"include\routines_LEVELS.c", 1529; if(player_counter_anim == 1)
10868                        		__ld.umq	_player_counter_anim
         01:C343  AD 1D 23   			lda	_player_counter_anim
10869                        		__equ_b.uiq	1
         01:C346  C9 01      			cmp	#1
         01:C348  F0 01      			beq	!+
         01:C34A  18         			clc
         01:C34B             	!:
10870                        		__bfalse	.LL498
         01:C34B  90 0F      			bcc	.LL498
10871                        	
10872                        		.dbg	line,	"include\routines_LEVELS.c", 1530; {
10873                        	
10874                        		.dbg	line,	"include\routines_LEVELS.c", 1531; spr_set(player_id);
10875                        		__ld.umq	_player_id
         01:C34D  AD 19 23   			lda	_player_id
10876                        		__call		_spr_set.1
         01:C350  20 F1 E7   			call	_spr_set.1
10877                        	
10878                        		.dbg	line,	"include\routines_LEVELS.c", 1532; spr_pattern(PLAYER_IDLE_VRAM_ADR);
10879                        		__ld.wi		6144
         01:C353  62         			cla
         01:C354  A0 18      			ldy.h	#6144
10880                        		__call		_spr_pattern.1
         01:C356  20 3A E8   			call	_spr_pattern.1
10881                        	
10882                        		.dbg	line,	"include\routines_LEVELS.c", 1534; player_counter_anim = 0;
10883                        		__st.umiq	0, _player_counter_anim
         01:C359  9C 1D 23   			stz	_player_counter_anim
10884                        	
10885                        		.dbg	line,	"include\routines_LEVELS.c", 1535; }
10886                        	
10887                        		.dbg	line,	"include\routines_LEVELS.c", 1537; recenter_CAMERA();
10888    01:C35C             	.LL498:
10889                        		__call		_recenter_CAMERA
         01:C35C  20 27 FF   			call	_recenter_CAMERA
10890                        	
10891                        		.dbg	line,	"include\routines_LEVELS.c", 1540; // CHECK COLLISION WITH LEFT FLOOR //
10892                        	
10893                        		.dbg	line,	"include\routines_LEVELS.c", 1541; collision_PLAYER_BG( 10 , 32 );//8
10894                        		__ld.wi		10
         01:C35F  A9 0A      			lda.l	#10
         01:C361  C2         			cly
10895                        		__pusharg.wr
         01:C362  A6 8D      			ldx	<__sp
         01:C364  CA         			dex
         01:C365  CA         			dex
         01:C366  95 08      			sta.l	<__stack, x
         01:C368  94 09      			sty.h	<__stack, x
         01:C36A  86 8D      			stx	<__sp
10896                        		__ld.wi		32
         01:C36C  A9 20      			lda.l	#32
         01:C36E  C2         			cly
10897                        		__pusharg.wr
         01:C36F  A6 8D      			ldx	<__sp
         01:C371  CA         			dex
         01:C372  CA         			dex
         01:C373  95 08      			sta.l	<__stack, x
         01:C375  94 09      			sty.h	<__stack, x
         01:C377  86 8D      			stx	<__sp
10898                        		__call		_collision_PLAYER_BG
         01:C379  20 31 FF   			call	_collision_PLAYER_BG
10899                        	
10900                        		.dbg	line,	"include\routines_LEVELS.c", 1543; if(map_blk_flag == TILE_EMPTY)
10901                        		__not.um	_map_blk_flag
         01:C37C  AD 05 2C   			lda	_map_blk_flag
         01:C37F  18         			clc
         01:C380  D0 01      			bne	!+
         01:C382  38         			sec
         01:C383             	!:
10902                        		__bfalse	.LL499
         01:C383  90 34      			bcc	.LL499
10903                        	
10904                        		.dbg	line,	"include\routines_LEVELS.c", 1544; {
10905                        	
10906                        		.dbg	line,	"include\routines_LEVELS.c", 1545; // CHECK COLLISION WITH RIGHT FLOOR //
10907                        	
10908                        		.dbg	line,	"include\routines_LEVELS.c", 1546; collision_PLAYER_BG( 22 , 32 );//24
10909                        		__ld.wi		22
         01:C385  A9 16      			lda.l	#22
         01:C387  C2         			cly
10910                        		__pusharg.wr
         01:C388  A6 8D      			ldx	<__sp
         01:C38A  CA         			dex
         01:C38B  CA         			dex
         01:C38C  95 08      			sta.l	<__stack, x
         01:C38E  94 09      			sty.h	<__stack, x
         01:C390  86 8D      			stx	<__sp
10911                        		__ld.wi		32
         01:C392  A9 20      			lda.l	#32
         01:C394  C2         			cly
10912                        		__pusharg.wr
         01:C395  A6 8D      			ldx	<__sp
         01:C397  CA         			dex
         01:C398  CA         			dex
         01:C399  95 08      			sta.l	<__stack, x
         01:C39B  94 09      			sty.h	<__stack, x
         01:C39D  86 8D      			stx	<__sp
10913                        		__call		_collision_PLAYER_BG
         01:C39F  20 31 FF   			call	_collision_PLAYER_BG
10914                        	
10915                        		.dbg	line,	"include\routines_LEVELS.c", 1548; if(map_blk_flag == TILE_EMPTY)
10916                        		__not.um	_map_blk_flag
         01:C3A2  AD 05 2C   			lda	_map_blk_flag
         01:C3A5  18         			clc
         01:C3A6  D0 01      			bne	!+
         01:C3A8  38         			sec
         01:C3A9             	!:
10917                        		__bfalse	.LL500
         01:C3A9  90 0E      			bcc	.LL500
10918                        	
10919                        		.dbg	line,	"include\routines_LEVELS.c", 1549; {
10920                        	
10921                        		.dbg	line,	"include\routines_LEVELS.c", 1550; //set_far_base(TABLE_PLAYER_TILES_BANK[player_naked],TABLE_PLAYER_TILES_ADR[player_naked]);
10922                        	
10923                        		.dbg	line,	"include\routines_LEVELS.c", 1551; //far_load_vram(PLAYER_VRAM_ADR,TILES_16);
10924                        	
10925                        		.dbg	line,	"include\routines_LEVELS.c", 1553; jump_ladder = FALSE;
10926                        		__st.umiq	0, _jump_ladder
         01:C3AB  9C 23 23   			stz	_jump_ladder
10927                        	
10928                        		.dbg	line,	"include\routines_LEVELS.c", 1554; player_index_jump = 0;
10929                        		__st.umiq	0, _player_index_jump
         01:C3AE  9C 1E 23   			stz	_player_index_jump
10930                        	
10931                        		.dbg	line,	"include\routines_LEVELS.c", 1555; player_index_fall = 0;
10932                        		__st.umiq	0, _player_index_fall
         01:C3B1  9C 1F 23   			stz	_player_index_fall
10933                        	
10934                        		.dbg	line,	"include\routines_LEVELS.c", 1556; player_state = STATE_FALL;
10935                        		__st.umiq	9, _player_state
         01:C3B4  A9 09      			lda.l	#9
         01:C3B6  8D 1A 23   			sta	_player_state
10936                        	
10937                        		.dbg	line,	"include\routines_LEVELS.c", 1557; }
10938                        	
10939                        		.dbg	line,	"include\routines_LEVELS.c", 1558; }
10940    01:C3B9             	.LL500:
10941                        	
10942                        		.dbg	line,	"include\routines_LEVELS.c", 1560; spr_set(weapon_id);
10943    01:C3B9             	.LL499:
10944                        		__ld.umq	_weapon_id
         01:C3B9  AD 28 23   			lda	_weapon_id
10945                        		__call		_spr_set.1
         01:C3BC  20 F1 E7   			call	_spr_set.1
10946                        	
10947                        		.dbg	line,	"include\routines_LEVELS.c", 1561; spr_pattern(WEAPON_IDLE_VRAM_ADRESS);
10948                        		__ld.wi		31808
         01:C3BF  A9 40      			lda.l	#31808
         01:C3C1  A0 7C      			ldy.h	#31808
10949                        		__call		_spr_pattern.1
         01:C3C3  20 3A E8   			call	_spr_pattern.1
10950                        	
10951                        		.dbg	line,	"include\routines_LEVELS.c", 1562; spr_x(player_pos_x+8);
10952                        		__ld.wm		_player_pos_x
         01:C3C6  AD 01 25   			lda.l	_player_pos_x
         01:C3C9  AC 02 25   			ldy.h	_player_pos_x
10953                        		__add.wi	8
         01:C3CC  18         			clc
         01:C3CD  69 08      			adc.l	#8
         01:C3CF  90 01      			bcc	!+
         01:C3D1  C8         			iny
         01:C3D2             	!:
10954                        		__call		_spr_x.1
         01:C3D2  20 1E E8   			call	_spr_x.1
10955                        	
10956                        		.dbg	line,	"include\routines_LEVELS.c", 1563; spr_y(player_pos_y+16);
10957                        		__ld.wm		_player_pos_y
         01:C3D5  AD 03 25   			lda.l	_player_pos_y
         01:C3D8  AC 04 25   			ldy.h	_player_pos_y
10958                        		__add.wi	16
         01:C3DB  18         			clc
         01:C3DC  69 10      			adc.l	#16
         01:C3DE  90 01      			bcc	!+
         01:C3E0  C8         			iny
         01:C3E1             	!:
10959                        		__call		_spr_y.1
         01:C3E1  20 2D E8   			call	_spr_y.1
10960                        	
10961                        		.dbg	line,	"include\routines_LEVELS.c", 1564; }
10962                        	
10963                        		.dbg	line,	"include\routines_LEVELS.c", 1567; else if(player_state == STATE_WALK)
10964                        		__bra		.LL501
         01:C3E4  4C 30 DA   			bra	.LL501
10965    01:C3E7             	.LL497:
10966                        		__ld.umq	_player_state
         01:C3E7  AD 1A 23   			lda	_player_state
10967                        		__equ_b.uiq	1
         01:C3EA  C9 01      			cmp	#1
         01:C3EC  F0 01      			beq	!+
         01:C3EE  18         			clc
         01:C3EF             	!:
10968                        		__bfalse	.LL502
         01:C3EF  B0 03 4C 95			bcc	.LL502
         01:C3F3  C7          
10969                        	
10970                        		.dbg	line,	"include\routines_LEVELS.c", 1568; {
10971                        	
10972                        		.dbg	line,	"include\routines_LEVELS.c", 1569; recenter_CAMERA();
10973                        		__call		_recenter_CAMERA
         01:C3F4  20 27 FF   			call	_recenter_CAMERA
10974                        	
10975                        		.dbg	line,	"include\routines_LEVELS.c", 1572; //--------------------------------------------------------------------------------------//
10976                        	
10977                        		.dbg	line,	"include\routines_LEVELS.c", 1573; //                                   FLOOR COLLISION                                    //
10978                        	
10979                        		.dbg	line,	"include\routines_LEVELS.c", 1574; //--------------------------------------------------------------------------------------//
10980                        	
10981                        		.dbg	line,	"include\routines_LEVELS.c", 1576; // CHECK COLLISION WITH LEFT FLOOR //
10982                        	
10983                        		.dbg	line,	"include\routines_LEVELS.c", 1577; collision_PLAYER_BG( 10 , 32 );//8
10984                        		__ld.wi		10
         01:C3F7  A9 0A      			lda.l	#10
         01:C3F9  C2         			cly
10985                        		__pusharg.wr
         01:C3FA  A6 8D      			ldx	<__sp
         01:C3FC  CA         			dex
         01:C3FD  CA         			dex
         01:C3FE  95 08      			sta.l	<__stack, x
         01:C400  94 09      			sty.h	<__stack, x
         01:C402  86 8D      			stx	<__sp
10986                        		__ld.wi		32
         01:C404  A9 20      			lda.l	#32
         01:C406  C2         			cly
10987                        		__pusharg.wr
         01:C407  A6 8D      			ldx	<__sp
         01:C409  CA         			dex
         01:C40A  CA         			dex
         01:C40B  95 08      			sta.l	<__stack, x
         01:C40D  94 09      			sty.h	<__stack, x
         01:C40F  86 8D      			stx	<__sp
10988                        		__call		_collision_PLAYER_BG
         01:C411  20 31 FF   			call	_collision_PLAYER_BG
10989                        	
10990                        		.dbg	line,	"include\routines_LEVELS.c", 1579; if(map_blk_flag == TILE_EMPTY)
10991                        		__not.um	_map_blk_flag
         01:C414  AD 05 2C   			lda	_map_blk_flag
         01:C417  18         			clc
         01:C418  D0 01      			bne	!+
         01:C41A  38         			sec
         01:C41B             	!:
10992                        		__bfalse	.LL503
         01:C41B  B0 03 4C D3			bcc	.LL503
         01:C41F  C4          
10993                        	
10994                        		.dbg	line,	"include\routines_LEVELS.c", 1580; {
10995                        	
10996                        		.dbg	line,	"include\routines_LEVELS.c", 1581; // CHECK COLLISION WITH RIGHT FLOOR //
10997                        	
10998                        		.dbg	line,	"include\routines_LEVELS.c", 1582; collision_PLAYER_BG( 22 , 32 );//24
10999                        		__ld.wi		22
         01:C420  A9 16      			lda.l	#22
         01:C422  C2         			cly
11000                        		__pusharg.wr
         01:C423  A6 8D      			ldx	<__sp
         01:C425  CA         			dex
         01:C426  CA         			dex
         01:C427  95 08      			sta.l	<__stack, x
         01:C429  94 09      			sty.h	<__stack, x
         01:C42B  86 8D      			stx	<__sp
11001                        		__ld.wi		32
         01:C42D  A9 20      			lda.l	#32
         01:C42F  C2         			cly
11002                        		__pusharg.wr
         01:C430  A6 8D      			ldx	<__sp
         01:C432  CA         			dex
         01:C433  CA         			dex
         01:C434  95 08      			sta.l	<__stack, x
         01:C436  94 09      			sty.h	<__stack, x
         01:C438  86 8D      			stx	<__sp
11003                        		__call		_collision_PLAYER_BG
         01:C43A  20 31 FF   			call	_collision_PLAYER_BG
11004                        	
11005                        		.dbg	line,	"include\routines_LEVELS.c", 1584; if(map_blk_flag == TILE_EMPTY)
11006                        		__not.um	_map_blk_flag
         01:C43D  AD 05 2C   			lda	_map_blk_flag
         01:C440  18         			clc
         01:C441  D0 01      			bne	!+
         01:C443  38         			sec
         01:C444             	!:
11007                        		__bfalse	.LL504
         01:C444  90 11      			bcc	.LL504
11008                        	
11009                        		.dbg	line,	"include\routines_LEVELS.c", 1585; {
11010                        	
11011                        		.dbg	line,	"include\routines_LEVELS.c", 1586; /*spr_set(player_id);
11012                        	
11013                        		.dbg	line,	"include\routines_LEVELS.c", 1587; spr_pattern(PLAYER_IDLE_VRAM_ADR);
11014                        	
11015                        		.dbg	line,	"include\routines_LEVELS.c", 1589; spr_set(weapon_id);
11016                        	
11017                        		.dbg	line,	"include\routines_LEVELS.c", 1590; spr_pattern(WEAPON_IDLE_VRAM_ADRESS);
11018                        	
11019                        		.dbg	line,	"include\routines_LEVELS.c", 1591; spr_x(player_pos_x+8);
11020                        	
11021                        		.dbg	line,	"include\routines_LEVELS.c", 1592; spr_y(player_pos_y+16);*/
11022                        	
11023                        		.dbg	line,	"include\routines_LEVELS.c", 1594; jump_ladder = FALSE;
11024                        		__st.umiq	0, _jump_ladder
         01:C446  9C 23 23   			stz	_jump_ladder
11025                        	
11026                        		.dbg	line,	"include\routines_LEVELS.c", 1595; player_index_jump = 0;
11027                        		__st.umiq	0, _player_index_jump
         01:C449  9C 1E 23   			stz	_player_index_jump
11028                        	
11029                        		.dbg	line,	"include\routines_LEVELS.c", 1596; player_index_fall = 0;
11030                        		__st.umiq	0, _player_index_fall
         01:C44C  9C 1F 23   			stz	_player_index_fall
11031                        	
11032                        		.dbg	line,	"include\routines_LEVELS.c", 1597; player_state = STATE_FALL;
11033                        		__st.umiq	9, _player_state
         01:C44F  A9 09      			lda.l	#9
         01:C451  8D 1A 23   			sta	_player_state
11034                        	
11035                        		.dbg	line,	"include\routines_LEVELS.c", 1598; }
11036                        	
11037                        		.dbg	line,	"include\routines_LEVELS.c", 1601; else
11038                        		__bra		.LL505
         01:C454  4C 46 C5   			bra	.LL505
11039    01:C457             	.LL504:
11040                        	
11041                        		.dbg	line,	"include\routines_LEVELS.c", 1602; {
11042                        	
11043                        		.dbg	line,	"include\routines_LEVELS.c", 1603; if(player_axis == AXIS_RIGHT)
11044                        		__not.um	_player_axis
         01:C457  AD 1B 23   			lda	_player_axis
         01:C45A  18         			clc
         01:C45B  D0 01      			bne	!+
         01:C45D  38         			sec
         01:C45E             	!:
11045                        		__bfalse	.LL506
         01:C45E  90 3A      			bcc	.LL506
11046                        	
11047                        		.dbg	line,	"include\routines_LEVELS.c", 1604; {
11048                        	
11049                        		.dbg	line,	"include\routines_LEVELS.c", 1605; // CHECK COLLISION WITH RIGHT WALL //
11050                        	
11051                        		.dbg	line,	"include\routines_LEVELS.c", 1606; collision_PLAYER_BG( 24 , 31 ); // 24+2
11052                        		__ld.wi		24
         01:C460  A9 18      			lda.l	#24
         01:C462  C2         			cly
11053                        		__pusharg.wr
         01:C463  A6 8D      			ldx	<__sp
         01:C465  CA         			dex
         01:C466  CA         			dex
         01:C467  95 08      			sta.l	<__stack, x
         01:C469  94 09      			sty.h	<__stack, x
         01:C46B  86 8D      			stx	<__sp
11054                        		__ld.wi		31
         01:C46D  A9 1F      			lda.l	#31
         01:C46F  C2         			cly
11055                        		__pusharg.wr
         01:C470  A6 8D      			ldx	<__sp
         01:C472  CA         			dex
         01:C473  CA         			dex
         01:C474  95 08      			sta.l	<__stack, x
         01:C476  94 09      			sty.h	<__stack, x
         01:C478  86 8D      			stx	<__sp
11056                        		__call		_collision_PLAYER_BG
         01:C47A  20 31 FF   			call	_collision_PLAYER_BG
11057                        	
11058                        		.dbg	line,	"include\routines_LEVELS.c", 1608; if(map_blk_flag == TILE_EMPTY)
11059                        		__not.um	_map_blk_flag
         01:C47D  AD 05 2C   			lda	_map_blk_flag
         01:C480  18         			clc
         01:C481  D0 01      			bne	!+
         01:C483  38         			sec
         01:C484             	!:
11060                        		__bfalse	.LL507
         01:C484  B0 03 4C 46			bcc	.LL507
         01:C488  C5          
11061                        	
11062                        		.dbg	line,	"include\routines_LEVELS.c", 1609; {
11063                        	
11064                        		.dbg	line,	"include\routines_LEVELS.c", 1610; sgx_map_pxl_x += 2;
11065                        		__add_st.wmiq	2, _sgx_map_pxl_x
         01:C489  18         			clc
         01:C48A  AD E4 26   			lda.l	_sgx_map_pxl_x
         01:C48D  69 02      			adc.l	#2
         01:C48F  8D E4 26   			sta.l	_sgx_map_pxl_x
         01:C492  90 03      			bcc	!+
         01:C494  EE E5 26   			inc.h	_sgx_map_pxl_x
         01:C497             	!:
11066                        	
11067                        		.dbg	line,	"include\routines_LEVELS.c", 1611; }
11068                        	
11069                        		.dbg	line,	"include\routines_LEVELS.c", 1612; }
11070    01:C497             	.LL507	.alias		.LL508
11071                        	
11072                        		.dbg	line,	"include\routines_LEVELS.c", 1614; else
11073                        		__bra		.LL508
         01:C497  4C 46 C5   			bra	.LL508
11074    01:C49A             	.LL506:
11075                        	
11076                        		.dbg	line,	"include\routines_LEVELS.c", 1615; {
11077                        	
11078                        		.dbg	line,	"include\routines_LEVELS.c", 1616; // CHECK COLLISION WITH LEFT WALL //
11079                        	
11080                        		.dbg	line,	"include\routines_LEVELS.c", 1617; collision_PLAYER_BG( 8 , 31 ); // 8-2
11081                        		__ld.wi		8
         01:C49A  A9 08      			lda.l	#8
         01:C49C  C2         			cly
11082                        		__pusharg.wr
         01:C49D  A6 8D      			ldx	<__sp
         01:C49F  CA         			dex
         01:C4A0  CA         			dex
         01:C4A1  95 08      			sta.l	<__stack, x
         01:C4A3  94 09      			sty.h	<__stack, x
         01:C4A5  86 8D      			stx	<__sp
11083                        		__ld.wi		31
         01:C4A7  A9 1F      			lda.l	#31
         01:C4A9  C2         			cly
11084                        		__pusharg.wr
         01:C4AA  A6 8D      			ldx	<__sp
         01:C4AC  CA         			dex
         01:C4AD  CA         			dex
         01:C4AE  95 08      			sta.l	<__stack, x
         01:C4B0  94 09      			sty.h	<__stack, x
         01:C4B2  86 8D      			stx	<__sp
11085                        		__call		_collision_PLAYER_BG
         01:C4B4  20 31 FF   			call	_collision_PLAYER_BG
11086                        	
11087                        		.dbg	line,	"include\routines_LEVELS.c", 1619; if(map_blk_flag == TILE_EMPTY)
11088                        		__not.um	_map_blk_flag
         01:C4B7  AD 05 2C   			lda	_map_blk_flag
         01:C4BA  18         			clc
         01:C4BB  D0 01      			bne	!+
         01:C4BD  38         			sec
         01:C4BE             	!:
11089                        		__bfalse	.LL509
         01:C4BE  B0 03 4C 46			bcc	.LL509
         01:C4C2  C5          
11090                        	
11091                        		.dbg	line,	"include\routines_LEVELS.c", 1620; {
11092                        	
11093                        		.dbg	line,	"include\routines_LEVELS.c", 1621; sgx_map_pxl_x -= 2;
11094                        		__sub_st.wmiq	2, _sgx_map_pxl_x
         01:C4C3  38         			sec
         01:C4C4  AD E4 26   			lda.l	_sgx_map_pxl_x
         01:C4C7  E9 02      			sbc.l	#2
         01:C4C9  8D E4 26   			sta.l	_sgx_map_pxl_x
         01:C4CC  B0 03      			bcs	!+
         01:C4CE  CE E5 26   			dec.h	_sgx_map_pxl_x
         01:C4D1             	!:
11095                        	
11096                        		.dbg	line,	"include\routines_LEVELS.c", 1622; }
11097                        	
11098                        		.dbg	line,	"include\routines_LEVELS.c", 1623; }
11099    01:C4D1             	.LL509	.alias		.LL510
11100    01:C4D1             	.LL508	.alias		.LL510
11101                        	
11102                        		.dbg	line,	"include\routines_LEVELS.c", 1624; }
11103    01:C4D1             	.LL505	.alias		.LL510
11104                        	
11105                        		.dbg	line,	"include\routines_LEVELS.c", 1625; }
11106                        	
11107                        		.dbg	line,	"include\routines_LEVELS.c", 1628; else
11108                        		__bra		.LL510
         01:C4D1  80 73      			bra	.LL510
11109    01:C4D3             	.LL503:
11110                        	
11111                        		.dbg	line,	"include\routines_LEVELS.c", 1629; {
11112                        	
11113                        		.dbg	line,	"include\routines_LEVELS.c", 1630; if(player_axis == AXIS_RIGHT)
11114                        		__not.um	_player_axis
         01:C4D3  AD 1B 23   			lda	_player_axis
         01:C4D6  18         			clc
         01:C4D7  D0 01      			bne	!+
         01:C4D9  38         			sec
         01:C4DA             	!:
11115                        		__bfalse	.LL511
         01:C4DA  90 36      			bcc	.LL511
11116                        	
11117                        		.dbg	line,	"include\routines_LEVELS.c", 1631; {
11118                        	
11119                        		.dbg	line,	"include\routines_LEVELS.c", 1632; // CHECK COLLISION WITH RIGHT WALL //
11120                        	
11121                        		.dbg	line,	"include\routines_LEVELS.c", 1633; collision_PLAYER_BG( 24 , 31 ); // 24+2
11122                        		__ld.wi		24
         01:C4DC  A9 18      			lda.l	#24
         01:C4DE  C2         			cly
11123                        		__pusharg.wr
         01:C4DF  A6 8D      			ldx	<__sp
         01:C4E1  CA         			dex
         01:C4E2  CA         			dex
         01:C4E3  95 08      			sta.l	<__stack, x
         01:C4E5  94 09      			sty.h	<__stack, x
         01:C4E7  86 8D      			stx	<__sp
11124                        		__ld.wi		31
         01:C4E9  A9 1F      			lda.l	#31
         01:C4EB  C2         			cly
11125                        		__pusharg.wr
         01:C4EC  A6 8D      			ldx	<__sp
         01:C4EE  CA         			dex
         01:C4EF  CA         			dex
         01:C4F0  95 08      			sta.l	<__stack, x
         01:C4F2  94 09      			sty.h	<__stack, x
         01:C4F4  86 8D      			stx	<__sp
11126                        		__call		_collision_PLAYER_BG
         01:C4F6  20 31 FF   			call	_collision_PLAYER_BG
11127                        	
11128                        		.dbg	line,	"include\routines_LEVELS.c", 1635; if(map_blk_flag == TILE_EMPTY)
11129                        		__not.um	_map_blk_flag
         01:C4F9  AD 05 2C   			lda	_map_blk_flag
         01:C4FC  18         			clc
         01:C4FD  D0 01      			bne	!+
         01:C4FF  38         			sec
         01:C500             	!:
11130                        		__bfalse	.LL512
         01:C500  90 44      			bcc	.LL512
11131                        	
11132                        		.dbg	line,	"include\routines_LEVELS.c", 1636; {
11133                        	
11134                        		.dbg	line,	"include\routines_LEVELS.c", 1637; sgx_map_pxl_x += 2;
11135                        		__add_st.wmiq	2, _sgx_map_pxl_x
         01:C502  18         			clc
         01:C503  AD E4 26   			lda.l	_sgx_map_pxl_x
         01:C506  69 02      			adc.l	#2
         01:C508  8D E4 26   			sta.l	_sgx_map_pxl_x
         01:C50B  90 03      			bcc	!+
         01:C50D  EE E5 26   			inc.h	_sgx_map_pxl_x
         01:C510             	!:
11136                        	
11137                        		.dbg	line,	"include\routines_LEVELS.c", 1638; }
11138                        	
11139                        		.dbg	line,	"include\routines_LEVELS.c", 1639; }
11140    01:C510             	.LL512	.alias		.LL513
11141                        	
11142                        		.dbg	line,	"include\routines_LEVELS.c", 1641; else
11143                        		__bra		.LL513
         01:C510  80 34      			bra	.LL513
11144    01:C512             	.LL511:
11145                        	
11146                        		.dbg	line,	"include\routines_LEVELS.c", 1642; {
11147                        	
11148                        		.dbg	line,	"include\routines_LEVELS.c", 1643; // CHECK COLLISION WITH LEFT WALL //
11149                        	
11150                        		.dbg	line,	"include\routines_LEVELS.c", 1644; collision_PLAYER_BG( 8 , 31 ); // 8-2
11151                        		__ld.wi		8
         01:C512  A9 08      			lda.l	#8
         01:C514  C2         			cly
11152                        		__pusharg.wr
         01:C515  A6 8D      			ldx	<__sp
         01:C517  CA         			dex
         01:C518  CA         			dex
         01:C519  95 08      			sta.l	<__stack, x
         01:C51B  94 09      			sty.h	<__stack, x
         01:C51D  86 8D      			stx	<__sp
11153                        		__ld.wi		31
         01:C51F  A9 1F      			lda.l	#31
         01:C521  C2         			cly
11154                        		__pusharg.wr
         01:C522  A6 8D      			ldx	<__sp
         01:C524  CA         			dex
         01:C525  CA         			dex
         01:C526  95 08      			sta.l	<__stack, x
         01:C528  94 09      			sty.h	<__stack, x
         01:C52A  86 8D      			stx	<__sp
11155                        		__call		_collision_PLAYER_BG
         01:C52C  20 31 FF   			call	_collision_PLAYER_BG
11156                        	
11157                        		.dbg	line,	"include\routines_LEVELS.c", 1646; if(map_blk_flag == TILE_EMPTY)
11158                        		__not.um	_map_blk_flag
         01:C52F  AD 05 2C   			lda	_map_blk_flag
         01:C532  18         			clc
         01:C533  D0 01      			bne	!+
         01:C535  38         			sec
         01:C536             	!:
11159                        		__bfalse	.LL514
         01:C536  90 0E      			bcc	.LL514
11160                        	
11161                        		.dbg	line,	"include\routines_LEVELS.c", 1647; {
11162                        	
11163                        		.dbg	line,	"include\routines_LEVELS.c", 1648; sgx_map_pxl_x -= 2;
11164                        		__sub_st.wmiq	2, _sgx_map_pxl_x
         01:C538  38         			sec
         01:C539  AD E4 26   			lda.l	_sgx_map_pxl_x
         01:C53C  E9 02      			sbc.l	#2
         01:C53E  8D E4 26   			sta.l	_sgx_map_pxl_x
         01:C541  B0 03      			bcs	!+
         01:C543  CE E5 26   			dec.h	_sgx_map_pxl_x
         01:C546             	!:
11165                        	
11166                        		.dbg	line,	"include\routines_LEVELS.c", 1649; }
11167                        	
11168                        		.dbg	line,	"include\routines_LEVELS.c", 1650; }
11169    01:C546             	.LL514:
11170    01:C546             	.LL513:
11171                        	
11172                        		.dbg	line,	"include\routines_LEVELS.c", 1651; }
11173    01:C546             	.LL510:
11174                        	
11175                        		.dbg	line,	"include\routines_LEVELS.c", 1656; spr_set(player_id);
11176                        		__ld.umq	_player_id
         01:C546  AD 19 23   			lda	_player_id
11177                        		__call		_spr_set.1
         01:C549  20 F1 E7   			call	_spr_set.1
11178                        	
11179                        		.dbg	line,	"include\routines_LEVELS.c", 1659; player_counter_anim += 1;
11180                        		__add_st.umiq	1, _player_counter_anim
         01:C54C  EE 1D 23   			inc	_player_counter_anim
11181                        	
11182                        		.dbg	line,	"include\routines_LEVELS.c", 1662; // UPDATE PLAYER TILES //
11183                        	
11184                        		.dbg	line,	"include\routines_LEVELS.c", 1663; if(player_counter_anim == 1)
11185                        		__ld.umq	_player_counter_anim
         01:C54F  AD 1D 23   			lda	_player_counter_anim
11186                        		__equ_b.uiq	1
         01:C552  C9 01      			cmp	#1
         01:C554  F0 01      			beq	!+
         01:C556  18         			clc
         01:C557             	!:
11187                        		__bfalse	.LL515
         01:C557  90 2A      			bcc	.LL515
11188                        	
11189                        		.dbg	line,	"include\routines_LEVELS.c", 1664; {
11190                        	
11191                        		.dbg	line,	"include\routines_LEVELS.c", 1665; spr_pattern(PLAYER_IDLE_VRAM_ADR);
11192                        		__ld.wi		6144
         01:C559  62         			cla
         01:C55A  A0 18      			ldy.h	#6144
11193                        		__call		_spr_pattern.1
         01:C55C  20 3A E8   			call	_spr_pattern.1
11194                        	
11195                        		.dbg	line,	"include\routines_LEVELS.c", 1667; spr_set(weapon_id);
11196                        		__ld.umq	_weapon_id
         01:C55F  AD 28 23   			lda	_weapon_id
11197                        		__call		_spr_set.1
         01:C562  20 F1 E7   			call	_spr_set.1
11198                        	
11199                        		.dbg	line,	"include\routines_LEVELS.c", 1668; spr_pattern(WEAPON_IDLE_VRAM_ADRESS);
11200                        		__ld.wi		31808
         01:C565  A9 40      			lda.l	#31808
         01:C567  A0 7C      			ldy.h	#31808
11201                        		__call		_spr_pattern.1
         01:C569  20 3A E8   			call	_spr_pattern.1
11202                        	
11203                        		.dbg	line,	"include\routines_LEVELS.c", 1669; spr_x(player_pos_x+8);
11204                        		__ld.wm		_player_pos_x
         01:C56C  AD 01 25   			lda.l	_player_pos_x
         01:C56F  AC 02 25   			ldy.h	_player_pos_x
11205                        		__add.wi	8
         01:C572  18         			clc
         01:C573  69 08      			adc.l	#8
         01:C575  90 01      			bcc	!+
         01:C577  C8         			iny
         01:C578             	!:
11206                        		__call		_spr_x.1
         01:C578  20 1E E8   			call	_spr_x.1
11207                        	
11208                        		.dbg	line,	"include\routines_LEVELS.c", 1670; weapon_y_offset = 16;
11209                        		__st.umiq	16, _weapon_y_offset
         01:C57B  A9 10      			lda.l	#16
         01:C57D  8D 99 26   			sta	_weapon_y_offset
11210                        	
11211                        		.dbg	line,	"include\routines_LEVELS.c", 1671; //spr_y(player_pos_y+16);
11212                        	
11213                        		.dbg	line,	"include\routines_LEVELS.c", 1672; }
11214                        	
11215                        		.dbg	line,	"include\routines_LEVELS.c", 1675; else if(player_counter_anim == 2)
11216                        		__bra		.LL516
         01:C580  4C 79 C7   			bra	.LL516
11217    01:C583             	.LL515:
11218                        		__ld.umq	_player_counter_anim
         01:C583  AD 1D 23   			lda	_player_counter_anim
11219                        		__equ_b.uiq	2
         01:C586  C9 02      			cmp	#2
         01:C588  F0 01      			beq	!+
         01:C58A  18         			clc
         01:C58B             	!:
11220                        		__bfalse	.LL517
         01:C58B  90 45      			bcc	.LL517
11221                        	
11222                        		.dbg	line,	"include\routines_LEVELS.c", 1676; {
11223                        	
11224                        		.dbg	line,	"include\routines_LEVELS.c", 1677; spr_pattern(PLAYER_WALK_1_VRAM_ADR);
11225                        		__ld.wi		6400
         01:C58D  62         			cla
         01:C58E  A0 19      			ldy.h	#6400
11226                        		__call		_spr_pattern.1
         01:C590  20 3A E8   			call	_spr_pattern.1
11227                        	
11228                        		.dbg	line,	"include\routines_LEVELS.c", 1679; spr_set(weapon_id);
11229                        		__ld.umq	_weapon_id
         01:C593  AD 28 23   			lda	_weapon_id
11230                        		__call		_spr_set.1
         01:C596  20 F1 E7   			call	_spr_set.1
11231                        	
11232                        		.dbg	line,	"include\routines_LEVELS.c", 1680; spr_pattern(WEAPON_WALK_1_VRAM_ADRESS);
11233                        		__ld.wi		31872
         01:C599  A9 80      			lda.l	#31872
         01:C59B  A0 7C      			ldy.h	#31872
11234                        		__call		_spr_pattern.1
         01:C59D  20 3A E8   			call	_spr_pattern.1
11235                        	
11236                        		.dbg	line,	"include\routines_LEVELS.c", 1681; weapon_y_offset = 17;
11237                        		__st.umiq	17, _weapon_y_offset
         01:C5A0  A9 11      			lda.l	#17
         01:C5A2  8D 99 26   			sta	_weapon_y_offset
11238                        	
11239                        		.dbg	line,	"include\routines_LEVELS.c", 1682; //spr_y(player_pos_y+17);
11240                        	
11241                        		.dbg	line,	"include\routines_LEVELS.c", 1684; if(player_axis == AXIS_RIGHT)
11242                        		__not.um	_player_axis
         01:C5A5  AD 1B 23   			lda	_player_axis
         01:C5A8  18         			clc
         01:C5A9  D0 01      			bne	!+
         01:C5AB  38         			sec
         01:C5AC             	!:
11243                        		__bfalse	.LL518
         01:C5AC  90 12      			bcc	.LL518
11244                        	
11245                        		.dbg	line,	"include\routines_LEVELS.c", 1685; {
11246                        	
11247                        		.dbg	line,	"include\routines_LEVELS.c", 1686; spr_x(player_pos_x+5);
11248                        		__ld.wm		_player_pos_x
         01:C5AE  AD 01 25   			lda.l	_player_pos_x
         01:C5B1  AC 02 25   			ldy.h	_player_pos_x
11249                        		__add.wi	5
         01:C5B4  18         			clc
         01:C5B5  69 05      			adc.l	#5
         01:C5B7  90 01      			bcc	!+
         01:C5B9  C8         			iny
         01:C5BA             	!:
11250                        		__call		_spr_x.1
         01:C5BA  20 1E E8   			call	_spr_x.1
11251                        	
11252                        		.dbg	line,	"include\routines_LEVELS.c", 1687; }
11253                        	
11254                        		.dbg	line,	"include\routines_LEVELS.c", 1689; else
11255                        		__bra		.LL519
         01:C5BD  4C 79 C7   			bra	.LL519
11256    01:C5C0             	.LL518:
11257                        	
11258                        		.dbg	line,	"include\routines_LEVELS.c", 1690; {
11259                        	
11260                        		.dbg	line,	"include\routines_LEVELS.c", 1691; spr_x(player_pos_x+11);
11261                        		__ld.wm		_player_pos_x
         01:C5C0  AD 01 25   			lda.l	_player_pos_x
         01:C5C3  AC 02 25   			ldy.h	_player_pos_x
11262                        		__add.wi	11
         01:C5C6  18         			clc
         01:C5C7  69 0B      			adc.l	#11
         01:C5C9  90 01      			bcc	!+
         01:C5CB  C8         			iny
         01:C5CC             	!:
11263                        		__call		_spr_x.1
         01:C5CC  20 1E E8   			call	_spr_x.1
11264                        	
11265                        		.dbg	line,	"include\routines_LEVELS.c", 1692; }
11266    01:C5CF             	.LL519	.alias		.LL520
11267                        	
11268                        		.dbg	line,	"include\routines_LEVELS.c", 1693; }
11269                        	
11270                        		.dbg	line,	"include\routines_LEVELS.c", 1696; else if(player_counter_anim == 4)
11271                        		__bra		.LL520
         01:C5CF  4C 79 C7   			bra	.LL520
11272    01:C5D2             	.LL517:
11273                        		__ld.umq	_player_counter_anim
         01:C5D2  AD 1D 23   			lda	_player_counter_anim
11274                        		__equ_b.uiq	4
         01:C5D5  C9 04      			cmp	#4
         01:C5D7  F0 01      			beq	!+
         01:C5D9  18         			clc
         01:C5DA             	!:
11275                        		__bfalse	.LL521
         01:C5DA  90 40      			bcc	.LL521
11276                        	
11277                        		.dbg	line,	"include\routines_LEVELS.c", 1697; {
11278                        	
11279                        		.dbg	line,	"include\routines_LEVELS.c", 1698; spr_pattern(PLAYER_WALK_2_VRAM_ADR);
11280                        		__ld.wi		6656
         01:C5DC  62         			cla
         01:C5DD  A0 1A      			ldy.h	#6656
11281                        		__call		_spr_pattern.1
         01:C5DF  20 3A E8   			call	_spr_pattern.1
11282                        	
11283                        		.dbg	line,	"include\routines_LEVELS.c", 1699; 
11284                        	
11285                        		.dbg	line,	"include\routines_LEVELS.c", 1700; spr_set(weapon_id);
11286                        		__ld.umq	_weapon_id
         01:C5E2  AD 28 23   			lda	_weapon_id
11287                        		__call		_spr_set.1
         01:C5E5  20 F1 E7   			call	_spr_set.1
11288                        	
11289                        		.dbg	line,	"include\routines_LEVELS.c", 1701; spr_pattern(WEAPON_WALK_2_VRAM_ADRESS);
11290                        		__ld.wi		31936
         01:C5E8  A9 C0      			lda.l	#31936
         01:C5EA  A0 7C      			ldy.h	#31936
11291                        		__call		_spr_pattern.1
         01:C5EC  20 3A E8   			call	_spr_pattern.1
11292                        	
11293                        		.dbg	line,	"include\routines_LEVELS.c", 1703; if(player_axis == AXIS_RIGHT)
11294                        		__not.um	_player_axis
         01:C5EF  AD 1B 23   			lda	_player_axis
         01:C5F2  18         			clc
         01:C5F3  D0 01      			bne	!+
         01:C5F5  38         			sec
         01:C5F6             	!:
11295                        		__bfalse	.LL522
         01:C5F6  90 12      			bcc	.LL522
11296                        	
11297                        		.dbg	line,	"include\routines_LEVELS.c", 1704; {
11298                        	
11299                        		.dbg	line,	"include\routines_LEVELS.c", 1705; spr_x(player_pos_x+3);
11300                        		__ld.wm		_player_pos_x
         01:C5F8  AD 01 25   			lda.l	_player_pos_x
         01:C5FB  AC 02 25   			ldy.h	_player_pos_x
11301                        		__add.wi	3
         01:C5FE  18         			clc
         01:C5FF  69 03      			adc.l	#3
         01:C601  90 01      			bcc	!+
         01:C603  C8         			iny
         01:C604             	!:
11302                        		__call		_spr_x.1
         01:C604  20 1E E8   			call	_spr_x.1
11303                        	
11304                        		.dbg	line,	"include\routines_LEVELS.c", 1706; }
11305                        	
11306                        		.dbg	line,	"include\routines_LEVELS.c", 1708; else
11307                        		__bra		.LL523
         01:C607  4C 79 C7   			bra	.LL523
11308    01:C60A             	.LL522:
11309                        	
11310                        		.dbg	line,	"include\routines_LEVELS.c", 1709; {
11311                        	
11312                        		.dbg	line,	"include\routines_LEVELS.c", 1710; spr_x(player_pos_x+13);
11313                        		__ld.wm		_player_pos_x
         01:C60A  AD 01 25   			lda.l	_player_pos_x
         01:C60D  AC 02 25   			ldy.h	_player_pos_x
11314                        		__add.wi	13
         01:C610  18         			clc
         01:C611  69 0D      			adc.l	#13
         01:C613  90 01      			bcc	!+
         01:C615  C8         			iny
         01:C616             	!:
11315                        		__call		_spr_x.1
         01:C616  20 1E E8   			call	_spr_x.1
11316                        	
11317                        		.dbg	line,	"include\routines_LEVELS.c", 1711; }
11318    01:C619             	.LL523	.alias		.LL524
11319                        	
11320                        		.dbg	line,	"include\routines_LEVELS.c", 1712; }
11321                        	
11322                        		.dbg	line,	"include\routines_LEVELS.c", 1715; else if(player_counter_anim == 7)
11323                        		__bra		.LL524
         01:C619  4C 79 C7   			bra	.LL524
11324    01:C61C             	.LL521:
11325                        		__ld.umq	_player_counter_anim
         01:C61C  AD 1D 23   			lda	_player_counter_anim
11326                        		__equ_b.uiq	7
         01:C61F  C9 07      			cmp	#7
         01:C621  F0 01      			beq	!+
         01:C623  18         			clc
         01:C624             	!:
11327                        		__bfalse	.LL525
         01:C624  90 40      			bcc	.LL525
11328                        	
11329                        		.dbg	line,	"include\routines_LEVELS.c", 1716; {
11330                        	
11331                        		.dbg	line,	"include\routines_LEVELS.c", 1717; //spr_set(player_id);
11332                        	
11333                        		.dbg	line,	"include\routines_LEVELS.c", 1718; spr_pattern(PLAYER_WALK_3_VRAM_ADR);
11334                        		__ld.wi		6912
         01:C626  62         			cla
         01:C627  A0 1B      			ldy.h	#6912
11335                        		__call		_spr_pattern.1
         01:C629  20 3A E8   			call	_spr_pattern.1
11336                        	
11337                        		.dbg	line,	"include\routines_LEVELS.c", 1720; spr_set(weapon_id);
11338                        		__ld.umq	_weapon_id
         01:C62C  AD 28 23   			lda	_weapon_id
11339                        		__call		_spr_set.1
         01:C62F  20 F1 E7   			call	_spr_set.1
11340                        	
11341                        		.dbg	line,	"include\routines_LEVELS.c", 1721; spr_pattern(WEAPON_WALK_1_VRAM_ADRESS);
11342                        		__ld.wi		31872
         01:C632  A9 80      			lda.l	#31872
         01:C634  A0 7C      			ldy.h	#31872
11343                        		__call		_spr_pattern.1
         01:C636  20 3A E8   			call	_spr_pattern.1
11344                        	
11345                        		.dbg	line,	"include\routines_LEVELS.c", 1723; if(player_axis == AXIS_RIGHT)
11346                        		__not.um	_player_axis
         01:C639  AD 1B 23   			lda	_player_axis
         01:C63C  18         			clc
         01:C63D  D0 01      			bne	!+
         01:C63F  38         			sec
         01:C640             	!:
11347                        		__bfalse	.LL526
         01:C640  90 12      			bcc	.LL526
11348                        	
11349                        		.dbg	line,	"include\routines_LEVELS.c", 1724; {
11350                        	
11351                        		.dbg	line,	"include\routines_LEVELS.c", 1725; spr_x(player_pos_x+5);
11352                        		__ld.wm		_player_pos_x
         01:C642  AD 01 25   			lda.l	_player_pos_x
         01:C645  AC 02 25   			ldy.h	_player_pos_x
11353                        		__add.wi	5
         01:C648  18         			clc
         01:C649  69 05      			adc.l	#5
         01:C64B  90 01      			bcc	!+
         01:C64D  C8         			iny
         01:C64E             	!:
11354                        		__call		_spr_x.1
         01:C64E  20 1E E8   			call	_spr_x.1
11355                        	
11356                        		.dbg	line,	"include\routines_LEVELS.c", 1726; }
11357                        	
11358                        		.dbg	line,	"include\routines_LEVELS.c", 1728; else
11359                        		__bra		.LL527
         01:C651  4C 79 C7   			bra	.LL527
11360    01:C654             	.LL526:
11361                        	
11362                        		.dbg	line,	"include\routines_LEVELS.c", 1729; {
11363                        	
11364                        		.dbg	line,	"include\routines_LEVELS.c", 1730; spr_x(player_pos_x+11);
11365                        		__ld.wm		_player_pos_x
         01:C654  AD 01 25   			lda.l	_player_pos_x
         01:C657  AC 02 25   			ldy.h	_player_pos_x
11366                        		__add.wi	11
         01:C65A  18         			clc
         01:C65B  69 0B      			adc.l	#11
         01:C65D  90 01      			bcc	!+
         01:C65F  C8         			iny
         01:C660             	!:
11367                        		__call		_spr_x.1
         01:C660  20 1E E8   			call	_spr_x.1
11368                        	
11369                        		.dbg	line,	"include\routines_LEVELS.c", 1731; }
11370    01:C663             	.LL527	.alias		.LL528
11371                        	
11372                        		.dbg	line,	"include\routines_LEVELS.c", 1732; }
11373                        	
11374                        		.dbg	line,	"include\routines_LEVELS.c", 1735; else if(player_counter_anim == 9)
11375                        		__bra		.LL528
         01:C663  4C 79 C7   			bra	.LL528
11376    01:C666             	.LL525:
11377                        		__ld.umq	_player_counter_anim
         01:C666  AD 1D 23   			lda	_player_counter_anim
11378                        		__equ_b.uiq	9
         01:C669  C9 09      			cmp	#9
         01:C66B  F0 01      			beq	!+
         01:C66D  18         			clc
         01:C66E             	!:
11379                        		__bfalse	.LL529
         01:C66E  90 2A      			bcc	.LL529
11380                        	
11381                        		.dbg	line,	"include\routines_LEVELS.c", 1736; {
11382                        	
11383                        		.dbg	line,	"include\routines_LEVELS.c", 1737; //spr_set(player_id);
11384                        	
11385                        		.dbg	line,	"include\routines_LEVELS.c", 1738; spr_pattern(PLAYER_IDLE_VRAM_ADR);
11386                        		__ld.wi		6144
         01:C670  62         			cla
         01:C671  A0 18      			ldy.h	#6144
11387                        		__call		_spr_pattern.1
         01:C673  20 3A E8   			call	_spr_pattern.1
11388                        	
11389                        		.dbg	line,	"include\routines_LEVELS.c", 1740; spr_set(weapon_id);
11390                        		__ld.umq	_weapon_id
         01:C676  AD 28 23   			lda	_weapon_id
11391                        		__call		_spr_set.1
         01:C679  20 F1 E7   			call	_spr_set.1
11392                        	
11393                        		.dbg	line,	"include\routines_LEVELS.c", 1741; spr_pattern(WEAPON_IDLE_VRAM_ADRESS);
11394                        		__ld.wi		31808
         01:C67C  A9 40      			lda.l	#31808
         01:C67E  A0 7C      			ldy.h	#31808
11395                        		__call		_spr_pattern.1
         01:C680  20 3A E8   			call	_spr_pattern.1
11396                        	
11397                        		.dbg	line,	"include\routines_LEVELS.c", 1742; spr_x(player_pos_x+8);
11398                        		__ld.wm		_player_pos_x
         01:C683  AD 01 25   			lda.l	_player_pos_x
         01:C686  AC 02 25   			ldy.h	_player_pos_x
11399                        		__add.wi	8
         01:C689  18         			clc
         01:C68A  69 08      			adc.l	#8
         01:C68C  90 01      			bcc	!+
         01:C68E  C8         			iny
         01:C68F             	!:
11400                        		__call		_spr_x.1
         01:C68F  20 1E E8   			call	_spr_x.1
11401                        	
11402                        		.dbg	line,	"include\routines_LEVELS.c", 1743; weapon_y_offset = 16;
11403                        		__st.umiq	16, _weapon_y_offset
         01:C692  A9 10      			lda.l	#16
         01:C694  8D 99 26   			sta	_weapon_y_offset
11404                        	
11405                        		.dbg	line,	"include\routines_LEVELS.c", 1744; //pr_y(player_pos_y+16);
11406                        	
11407                        		.dbg	line,	"include\routines_LEVELS.c", 1745; }
11408                        	
11409                        		.dbg	line,	"include\routines_LEVELS.c", 1748; else if(player_counter_anim == 12)
11410                        		__bra		.LL530
         01:C697  4C 79 C7   			bra	.LL530
11411    01:C69A             	.LL529:
11412                        		__ld.umq	_player_counter_anim
         01:C69A  AD 1D 23   			lda	_player_counter_anim
11413                        		__equ_b.uiq	12
         01:C69D  C9 0C      			cmp	#12
         01:C69F  F0 01      			beq	!+
         01:C6A1  18         			clc
         01:C6A2             	!:
11414                        		__bfalse	.LL531
         01:C6A2  90 3E      			bcc	.LL531
11415                        	
11416                        		.dbg	line,	"include\routines_LEVELS.c", 1749; {
11417                        	
11418                        		.dbg	line,	"include\routines_LEVELS.c", 1750; spr_pattern(PLAYER_WALK_4_VRAM_ADR);
11419                        		__ld.wi		7168
         01:C6A4  62         			cla
         01:C6A5  A0 1C      			ldy.h	#7168
11420                        		__call		_spr_pattern.1
         01:C6A7  20 3A E8   			call	_spr_pattern.1
11421                        	
11422                        		.dbg	line,	"include\routines_LEVELS.c", 1752; spr_set(weapon_id);
11423                        		__ld.umq	_weapon_id
         01:C6AA  AD 28 23   			lda	_weapon_id
11424                        		__call		_spr_set.1
         01:C6AD  20 F1 E7   			call	_spr_set.1
11425                        	
11426                        		.dbg	line,	"include\routines_LEVELS.c", 1753; weapon_y_offset = 14;
11427                        		__st.umiq	14, _weapon_y_offset
         01:C6B0  A9 0E      			lda.l	#14
         01:C6B2  8D 99 26   			sta	_weapon_y_offset
11428                        	
11429                        		.dbg	line,	"include\routines_LEVELS.c", 1754; //spr_y(player_pos_y+14);
11430                        	
11431                        		.dbg	line,	"include\routines_LEVELS.c", 1756; if(player_axis == AXIS_RIGHT)
11432                        		__not.um	_player_axis
         01:C6B5  AD 1B 23   			lda	_player_axis
         01:C6B8  18         			clc
         01:C6B9  D0 01      			bne	!+
         01:C6BB  38         			sec
         01:C6BC             	!:
11433                        		__bfalse	.LL532
         01:C6BC  90 12      			bcc	.LL532
11434                        	
11435                        		.dbg	line,	"include\routines_LEVELS.c", 1757; {
11436                        	
11437                        		.dbg	line,	"include\routines_LEVELS.c", 1758; spr_x(player_pos_x+12);
11438                        		__ld.wm		_player_pos_x
         01:C6BE  AD 01 25   			lda.l	_player_pos_x
         01:C6C1  AC 02 25   			ldy.h	_player_pos_x
11439                        		__add.wi	12
         01:C6C4  18         			clc
         01:C6C5  69 0C      			adc.l	#12
         01:C6C7  90 01      			bcc	!+
         01:C6C9  C8         			iny
         01:C6CA             	!:
11440                        		__call		_spr_x.1
         01:C6CA  20 1E E8   			call	_spr_x.1
11441                        	
11442                        		.dbg	line,	"include\routines_LEVELS.c", 1759; }
11443                        	
11444                        		.dbg	line,	"include\routines_LEVELS.c", 1761; else
11445                        		__bra		.LL533
         01:C6CD  4C 79 C7   			bra	.LL533
11446    01:C6D0             	.LL532:
11447                        	
11448                        		.dbg	line,	"include\routines_LEVELS.c", 1762; {
11449                        	
11450                        		.dbg	line,	"include\routines_LEVELS.c", 1763; spr_x(player_pos_x+4);
11451                        		__ld.wm		_player_pos_x
         01:C6D0  AD 01 25   			lda.l	_player_pos_x
         01:C6D3  AC 02 25   			ldy.h	_player_pos_x
11452                        		__add.wi	4
         01:C6D6  18         			clc
         01:C6D7  69 04      			adc.l	#4
         01:C6D9  90 01      			bcc	!+
         01:C6DB  C8         			iny
         01:C6DC             	!:
11453                        		__call		_spr_x.1
         01:C6DC  20 1E E8   			call	_spr_x.1
11454                        	
11455                        		.dbg	line,	"include\routines_LEVELS.c", 1764; }
11456    01:C6DF             	.LL533	.alias		.LL534
11457                        	
11458                        		.dbg	line,	"include\routines_LEVELS.c", 1765; }
11459                        	
11460                        		.dbg	line,	"include\routines_LEVELS.c", 1768; else if(player_counter_anim == 15)
11461                        		__bra		.LL534
         01:C6DF  4C 79 C7   			bra	.LL534
11462    01:C6E2             	.LL531:
11463                        		__ld.umq	_player_counter_anim
         01:C6E2  AD 1D 23   			lda	_player_counter_anim
11464                        		__equ_b.uiq	15
         01:C6E5  C9 0F      			cmp	#15
         01:C6E7  F0 01      			beq	!+
         01:C6E9  18         			clc
         01:C6EA             	!:
11465                        		__bfalse	.LL535
         01:C6EA  90 3A      			bcc	.LL535
11466                        	
11467                        		.dbg	line,	"include\routines_LEVELS.c", 1769; {
11468                        	
11469                        		.dbg	line,	"include\routines_LEVELS.c", 1770; spr_pattern(PLAYER_WALK_5_VRAM_ADR);
11470                        		__ld.wi		7424
         01:C6EC  62         			cla
         01:C6ED  A0 1D      			ldy.h	#7424
11471                        		__call		_spr_pattern.1
         01:C6EF  20 3A E8   			call	_spr_pattern.1
11472                        	
11473                        		.dbg	line,	"include\routines_LEVELS.c", 1772; spr_set(weapon_id);
11474                        		__ld.umq	_weapon_id
         01:C6F2  AD 28 23   			lda	_weapon_id
11475                        		__call		_spr_set.1
         01:C6F5  20 F1 E7   			call	_spr_set.1
11476                        	
11477                        		.dbg	line,	"include\routines_LEVELS.c", 1773; weapon_y_offset = 12;
11478                        		__st.umiq	12, _weapon_y_offset
         01:C6F8  A9 0C      			lda.l	#12
         01:C6FA  8D 99 26   			sta	_weapon_y_offset
11479                        	
11480                        		.dbg	line,	"include\routines_LEVELS.c", 1774; //spr_y(player_pos_y+12);
11481                        	
11482                        		.dbg	line,	"include\routines_LEVELS.c", 1776; if(player_axis == AXIS_RIGHT)
11483                        		__not.um	_player_axis
         01:C6FD  AD 1B 23   			lda	_player_axis
         01:C700  18         			clc
         01:C701  D0 01      			bne	!+
         01:C703  38         			sec
         01:C704             	!:
11484                        		__bfalse	.LL536
         01:C704  90 11      			bcc	.LL536
11485                        	
11486                        		.dbg	line,	"include\routines_LEVELS.c", 1777; {
11487                        	
11488                        		.dbg	line,	"include\routines_LEVELS.c", 1778; spr_x(player_pos_x+15);
11489                        		__ld.wm		_player_pos_x
         01:C706  AD 01 25   			lda.l	_player_pos_x
         01:C709  AC 02 25   			ldy.h	_player_pos_x
11490                        		__add.wi	15
         01:C70C  18         			clc
         01:C70D  69 0F      			adc.l	#15
         01:C70F  90 01      			bcc	!+
         01:C711  C8         			iny
         01:C712             	!:
11491                        		__call		_spr_x.1
         01:C712  20 1E E8   			call	_spr_x.1
11492                        	
11493                        		.dbg	line,	"include\routines_LEVELS.c", 1779; }
11494                        	
11495                        		.dbg	line,	"include\routines_LEVELS.c", 1781; else
11496                        		__bra		.LL537
         01:C715  80 62      			bra	.LL537
11497    01:C717             	.LL536:
11498                        	
11499                        		.dbg	line,	"include\routines_LEVELS.c", 1782; {
11500                        	
11501                        		.dbg	line,	"include\routines_LEVELS.c", 1783; spr_x(player_pos_x+1);
11502                        		__ld.wm		_player_pos_x
         01:C717  AD 01 25   			lda.l	_player_pos_x
         01:C71A  AC 02 25   			ldy.h	_player_pos_x
11503                        		__add.wi	1
         01:C71D  1A         			inc	a
         01:C71E  D0 01      			bne	!+
         01:C720  C8         			iny
         01:C721             	!:
11504                        		__call		_spr_x.1
         01:C721  20 1E E8   			call	_spr_x.1
11505                        	
11506                        		.dbg	line,	"include\routines_LEVELS.c", 1784; }
11507    01:C724             	.LL537	.alias		.LL538
11508                        	
11509                        		.dbg	line,	"include\routines_LEVELS.c", 1785; }
11510                        	
11511                        		.dbg	line,	"include\routines_LEVELS.c", 1788; else if(player_counter_anim == 18)
11512                        		__bra		.LL538
         01:C724  80 53      			bra	.LL538
11513    01:C726             	.LL535:
11514                        		__ld.umq	_player_counter_anim
         01:C726  AD 1D 23   			lda	_player_counter_anim
11515                        		__equ_b.uiq	18
         01:C729  C9 12      			cmp	#18
         01:C72B  F0 01      			beq	!+
         01:C72D  18         			clc
         01:C72E             	!:
11516                        		__bfalse	.LL539
         01:C72E  90 3C      			bcc	.LL539
11517                        	
11518                        		.dbg	line,	"include\routines_LEVELS.c", 1789; {
11519                        	
11520                        		.dbg	line,	"include\routines_LEVELS.c", 1790; spr_pattern(PLAYER_WALK_6_VRAM_ADR);
11521                        		__ld.wi		7680
         01:C730  62         			cla
         01:C731  A0 1E      			ldy.h	#7680
11522                        		__call		_spr_pattern.1
         01:C733  20 3A E8   			call	_spr_pattern.1
11523                        	
11524                        		.dbg	line,	"include\routines_LEVELS.c", 1792; spr_set(weapon_id);
11525                        		__ld.umq	_weapon_id
         01:C736  AD 28 23   			lda	_weapon_id
11526                        		__call		_spr_set.1
         01:C739  20 F1 E7   			call	_spr_set.1
11527                        	
11528                        		.dbg	line,	"include\routines_LEVELS.c", 1793; weapon_y_offset = 14;
11529                        		__st.umiq	14, _weapon_y_offset
         01:C73C  A9 0E      			lda.l	#14
         01:C73E  8D 99 26   			sta	_weapon_y_offset
11530                        	
11531                        		.dbg	line,	"include\routines_LEVELS.c", 1794; //spr_y(player_pos_y+14);
11532                        	
11533                        		.dbg	line,	"include\routines_LEVELS.c", 1796; if(player_axis == AXIS_RIGHT)
11534                        		__not.um	_player_axis
         01:C741  AD 1B 23   			lda	_player_axis
         01:C744  18         			clc
         01:C745  D0 01      			bne	!+
         01:C747  38         			sec
         01:C748             	!:
11535                        		__bfalse	.LL540
         01:C748  90 11      			bcc	.LL540
11536                        	
11537                        		.dbg	line,	"include\routines_LEVELS.c", 1797; {
11538                        	
11539                        		.dbg	line,	"include\routines_LEVELS.c", 1798; spr_x(player_pos_x+12);
11540                        		__ld.wm		_player_pos_x
         01:C74A  AD 01 25   			lda.l	_player_pos_x
         01:C74D  AC 02 25   			ldy.h	_player_pos_x
11541                        		__add.wi	12
         01:C750  18         			clc
         01:C751  69 0C      			adc.l	#12
         01:C753  90 01      			bcc	!+
         01:C755  C8         			iny
         01:C756             	!:
11542                        		__call		_spr_x.1
         01:C756  20 1E E8   			call	_spr_x.1
11543                        	
11544                        		.dbg	line,	"include\routines_LEVELS.c", 1799; }
11545                        	
11546                        		.dbg	line,	"include\routines_LEVELS.c", 1801; else
11547                        		__bra		.LL541
         01:C759  80 1E      			bra	.LL541
11548    01:C75B             	.LL540:
11549                        	
11550                        		.dbg	line,	"include\routines_LEVELS.c", 1802; {
11551                        	
11552                        		.dbg	line,	"include\routines_LEVELS.c", 1803; spr_x(player_pos_x+4);
11553                        		__ld.wm		_player_pos_x
         01:C75B  AD 01 25   			lda.l	_player_pos_x
         01:C75E  AC 02 25   			ldy.h	_player_pos_x
11554                        		__add.wi	4
         01:C761  18         			clc
         01:C762  69 04      			adc.l	#4
         01:C764  90 01      			bcc	!+
         01:C766  C8         			iny
         01:C767             	!:
11555                        		__call		_spr_x.1
         01:C767  20 1E E8   			call	_spr_x.1
11556                        	
11557                        		.dbg	line,	"include\routines_LEVELS.c", 1804; } 
11558    01:C76A             	.LL541	.alias		.LL542
11559                        	
11560                        		.dbg	line,	"include\routines_LEVELS.c", 1805; }
11561                        	
11562                        		.dbg	line,	"include\routines_LEVELS.c", 1808; else if(player_counter_anim == 19)
11563                        		__bra		.LL542
         01:C76A  80 0D      			bra	.LL542
11564    01:C76C             	.LL539:
11565                        		__ld.umq	_player_counter_anim
         01:C76C  AD 1D 23   			lda	_player_counter_anim
11566                        		__equ_b.uiq	19
         01:C76F  C9 13      			cmp	#19
         01:C771  F0 01      			beq	!+
         01:C773  18         			clc
         01:C774             	!:
11567                        		__bfalse	.LL543
         01:C774  90 03      			bcc	.LL543
11568                        	
11569                        		.dbg	line,	"include\routines_LEVELS.c", 1809; {
11570                        	
11571                        		.dbg	line,	"include\routines_LEVELS.c", 1810; player_counter_anim = 0;
11572                        		__st.umiq	0, _player_counter_anim
         01:C776  9C 1D 23   			stz	_player_counter_anim
11573                        	
11574                        		.dbg	line,	"include\routines_LEVELS.c", 1811; }
11575                        	
11576                        		.dbg	line,	"include\routines_LEVELS.c", 1814; spr_set(weapon_id);
11577    01:C779             	.LL543:
11578    01:C779             	.LL542:
11579    01:C779             	.LL538:
11580    01:C779             	.LL534:
11581    01:C779             	.LL530:
11582    01:C779             	.LL528:
11583    01:C779             	.LL524:
11584    01:C779             	.LL520:
11585    01:C779             	.LL516:
11586                        		__ld.umq	_weapon_id
         01:C779  AD 28 23   			lda	_weapon_id
11587                        		__call		_spr_set.1
         01:C77C  20 F1 E7   			call	_spr_set.1
11588                        	
11589                        		.dbg	line,	"include\routines_LEVELS.c", 1815; spr_y(player_pos_y + weapon_y_offset);
11590                        		__ld.bm		_weapon_y_offset
         01:C77F  AD 99 26   			lda	_weapon_y_offset
         01:C782  C2         			cly
         01:C783  10 01      			bpl	!+
         01:C785  88         			dey
         01:C786             	!:
11591                        		__add.wm	_player_pos_y
         01:C786  18         			clc
         01:C787  6D 03 25   			adc.l	_player_pos_y
         01:C78A  42         			say
         01:C78B  6D 04 25   			adc.h	_player_pos_y
         01:C78E  42         			say
11592                        		__call		_spr_y.1
         01:C78F  20 2D E8   			call	_spr_y.1
11593                        	
11594                        		.dbg	line,	"include\routines_LEVELS.c", 1816; //player_counter_anim += 1;
11595                        	
11596                        		.dbg	line,	"include\routines_LEVELS.c", 1818; }
11597                        	
11598                        		.dbg	line,	"include\routines_LEVELS.c", 1821; else if(player_state == STATE_JUMP)
11599                        		__bra		.LL544
         01:C792  4C 30 DA   			bra	.LL544
11600    01:C795             	.LL502:
11601                        		__ld.umq	_player_state
         01:C795  AD 1A 23   			lda	_player_state
11602                        		__equ_b.uiq	4
         01:C798  C9 04      			cmp	#4
         01:C79A  F0 01      			beq	!+
         01:C79C  18         			clc
         01:C79D             	!:
11603                        		__bfalse	.LL545
         01:C79D  B0 03 4C EB			bcc	.LL545
         01:C7A1  CA          
11604                        	
11605                        		.dbg	line,	"include\routines_LEVELS.c", 1822; {
11606                        	
11607                        		.dbg	line,	"include\routines_LEVELS.c", 1823; unsigned char i;
11608                        	
11609                        		.dbg	line,	"include\routines_LEVELS.c", 1824; i = 1;
11610                        		__st.umiq	1, __update_PLAYER_end - 1  /* i */
         01:C7A2  A9 01      			lda.l	#1
         01:C7A4  8D 0C 23   			sta	__update_PLAYER_end - 1
11611                        	
11612                        		.dbg	line,	"include\routines_LEVELS.c", 1826; // SELECT PLAYER SPRITE //
11613                        	
11614                        		.dbg	line,	"include\routines_LEVELS.c", 1827; spr_set(player_id);
11615                        		__ld.umq	_player_id
         01:C7A7  AD 19 23   			lda	_player_id
11616                        		__call		_spr_set.1
         01:C7AA  20 F1 E7   			call	_spr_set.1
11617                        	
11618                        		.dbg	line,	"include\routines_LEVELS.c", 1830; if(player_counter_anim == 0)
11619                        		__not.um	_player_counter_anim
         01:C7AD  AD 1D 23   			lda	_player_counter_anim
         01:C7B0  18         			clc
         01:C7B1  D0 01      			bne	!+
         01:C7B3  38         			sec
         01:C7B4             	!:
11620                        		__bfalse	.LL546
         01:C7B4  90 0B      			bcc	.LL546
11621                        	
11622                        		.dbg	line,	"include\routines_LEVELS.c", 1831; {
11623                        	
11624                        		.dbg	line,	"include\routines_LEVELS.c", 1832; spr_pattern(PLAYER_JUMP_VRAM_ADR);
11625                        		__ld.wi		7936
         01:C7B6  62         			cla
         01:C7B7  A0 1F      			ldy.h	#7936
11626                        		__call		_spr_pattern.1
         01:C7B9  20 3A E8   			call	_spr_pattern.1
11627                        	
11628                        		.dbg	line,	"include\routines_LEVELS.c", 1834; player_counter_anim = 1;
11629                        		__st.umiq	1, _player_counter_anim
         01:C7BC  A9 01      			lda.l	#1
         01:C7BE  8D 1D 23   			sta	_player_counter_anim
11630                        	
11631                        		.dbg	line,	"include\routines_LEVELS.c", 1835; }
11632                        	
11633                        		.dbg	line,	"include\routines_LEVELS.c", 1838; player_pos_y += TABLE_PLAYER_JUMP_V[player_index_jump];
11634    01:C7C1             	.LL546:
11635                        		__ldx.umq	_player_index_jump
         01:C7C1  AE 1E 23   			ldx	_player_index_jump
11636                        		__ld.bax	_TABLE_PLAYER_JUMP_V
         01:C7C4  BD 8B 62   			lda	_TABLE_PLAYER_JUMP_V, x
         01:C7C7  C2         			cly
         01:C7C8  10 01      			bpl	!+
         01:C7CA  88         			dey
         01:C7CB             	!:
11637                        		__add_st.wmq	_player_pos_y
         01:C7CB  18         			clc
         01:C7CC  6D 03 25   			adc.l	_player_pos_y
         01:C7CF  8D 03 25   			sta.l	_player_pos_y
         01:C7D2  98         			tya
         01:C7D3  6D 04 25   			adc.h	_player_pos_y
         01:C7D6  8D 04 25   			sta.h	_player_pos_y
11638                        	
11639                        		.dbg	line,	"include\routines_LEVELS.c", 1840; // CHECK COLLISION WITH CEILING //
11640                        	
11641                        		.dbg	line,	"include\routines_LEVELS.c", 1841; collision_PLAYER_BG( 15 , 8 );
11642                        		__ld.wi		15
         01:C7D9  A9 0F      			lda.l	#15
         01:C7DB  C2         			cly
11643                        		__pusharg.wr
         01:C7DC  A6 8D      			ldx	<__sp
         01:C7DE  CA         			dex
         01:C7DF  CA         			dex
         01:C7E0  95 08      			sta.l	<__stack, x
         01:C7E2  94 09      			sty.h	<__stack, x
         01:C7E4  86 8D      			stx	<__sp
11644                        		__ld.wi		8
         01:C7E6  A9 08      			lda.l	#8
         01:C7E8  C2         			cly
11645                        		__pusharg.wr
         01:C7E9  A6 8D      			ldx	<__sp
         01:C7EB  CA         			dex
         01:C7EC  CA         			dex
         01:C7ED  95 08      			sta.l	<__stack, x
         01:C7EF  94 09      			sty.h	<__stack, x
         01:C7F1  86 8D      			stx	<__sp
11646                        		__call		_collision_PLAYER_BG
         01:C7F3  20 31 FF   			call	_collision_PLAYER_BG
11647                        	
11648                        		.dbg	line,	"include\routines_LEVELS.c", 1843; if(map_blk_flag == TILE_BG)
11649                        		__ld.umq	_map_blk_flag
         01:C7F6  AD 05 2C   			lda	_map_blk_flag
11650                        		__equ_b.uiq	1
         01:C7F9  C9 01      			cmp	#1
         01:C7FB  F0 01      			beq	!+
         01:C7FD  18         			clc
         01:C7FE             	!:
11651                        		__bfalse	.LL547
         01:C7FE  90 5A      			bcc	.LL547
11652                        	
11653                        		.dbg	line,	"include\routines_LEVELS.c", 1844; {
11654                        	
11655                        		.dbg	line,	"include\routines_LEVELS.c", 1845; for(i=1 ; i<8 ; i++)
11656                        		__st.umiq	1, __update_PLAYER_end - 1  /* i */
         01:C800  A9 01      			lda.l	#1
         01:C802  8D 0C 23   			sta	__update_PLAYER_end - 1
11657    01:C805             	.LL548:
11658                        		__ld.umq	__update_PLAYER_end - 1  /* i */
         01:C805  AD 0C 23   			lda	__update_PLAYER_end - 1
11659                        		__ult_b.uiq	8
         01:C808  C9 08      			cmp	#8		; Subtract integer from A.
         01:C80A  6A         			ror	a		; CC if A < integer.
         01:C80B  49 80      			eor	#$80
         01:C80D  2A         			rol	a
11660                        		__btrue		.LL550
         01:C80E  B0 07      			bcs	.LL550
11661                        		__bra		.LL551
         01:C810  80 48      			bra	.LL551
11662    01:C812             	.LL549:
11663                        		__inc.umq	__update_PLAYER_end - 1  /* i */
         01:C812  EE 0C 23   			inc	__update_PLAYER_end - 1
11664                        		__bra		.LL548
         01:C815  80 EE      			bra	.LL548
11665    01:C817             	.LL550:
11666                        	
11667                        		.dbg	line,	"include\routines_LEVELS.c", 1846; {
11668                        	
11669                        		.dbg	line,	"include\routines_LEVELS.c", 1847; collision_PLAYER_BG( 15 , 8 + i );
11670                        		__ld.wi		15
         01:C817  A9 0F      			lda.l	#15
         01:C819  C2         			cly
11671                        		__pusharg.wr
         01:C81A  A6 8D      			ldx	<__sp
         01:C81C  CA         			dex
         01:C81D  CA         			dex
         01:C81E  95 08      			sta.l	<__stack, x
         01:C820  94 09      			sty.h	<__stack, x
         01:C822  86 8D      			stx	<__sp
11672                        		__ld.wi		8
         01:C824  A9 08      			lda.l	#8
         01:C826  C2         			cly
11673                        		__add.um	__update_PLAYER_end - 1  /* i */
         01:C827  18         			clc
         01:C828  6D 0C 23   			adc	__update_PLAYER_end - 1
         01:C82B  90 01      			bcc	!+
         01:C82D  C8         			iny
         01:C82E             	!:
11674                        		__pusharg.wr
         01:C82E  A6 8D      			ldx	<__sp
         01:C830  CA         			dex
         01:C831  CA         			dex
         01:C832  95 08      			sta.l	<__stack, x
         01:C834  94 09      			sty.h	<__stack, x
         01:C836  86 8D      			stx	<__sp
11675                        		__call		_collision_PLAYER_BG
         01:C838  20 31 FF   			call	_collision_PLAYER_BG
11676                        	
11677                        		.dbg	line,	"include\routines_LEVELS.c", 1848; {
11678                        	
11679                        		.dbg	line,	"include\routines_LEVELS.c", 1849; if(map_blk_flag == TILE_EMPTY)
11680                        		__not.um	_map_blk_flag
         01:C83B  AD 05 2C   			lda	_map_blk_flag
         01:C83E  18         			clc
         01:C83F  D0 01      			bne	!+
         01:C841  38         			sec
         01:C842             	!:
11681                        		__bfalse	.LL552
         01:C842  90 CE      			bcc	.LL552
11682                        	
11683                        		.dbg	line,	"include\routines_LEVELS.c", 1850; {
11684                        	
11685                        		.dbg	line,	"include\routines_LEVELS.c", 1851; player_pos_y += i;
11686                        		__ld.um		__update_PLAYER_end - 1  /* i */
         01:C844  AD 0C 23   			lda	__update_PLAYER_end - 1
         01:C847  C2         			cly
11687                        		__add_st.wmq	_player_pos_y
         01:C848  18         			clc
         01:C849  6D 03 25   			adc.l	_player_pos_y
         01:C84C  8D 03 25   			sta.l	_player_pos_y
         01:C84F  98         			tya
         01:C850  6D 04 25   			adc.h	_player_pos_y
         01:C853  8D 04 25   			sta.h	_player_pos_y
11688                        	
11689                        		.dbg	line,	"include\routines_LEVELS.c", 1852; break;
11690                        		__bra		.LL551
         01:C856  80 02      			bra	.LL551
11691                        	
11692                        		.dbg	line,	"include\routines_LEVELS.c", 1853; }
11693                        	
11694                        		.dbg	line,	"include\routines_LEVELS.c", 1854; }
11695    01:C858             	.LL552	.alias		.LL549
11696                        	
11697                        		.dbg	line,	"include\routines_LEVELS.c", 1855; }
11698                        		__bra		.LL549
         01:C858  80 B8      			bra	.LL549
11699    01:C85A             	.LL551:
11700                        	
11701                        		.dbg	line,	"include\routines_LEVELS.c", 1856; }
11702                        	
11703                        		.dbg	line,	"include\routines_LEVELS.c", 1859; spr_y(player_pos_y);
11704    01:C85A             	.LL547:
11705                        		__ld.wm		_player_pos_y
         01:C85A  AD 03 25   			lda.l	_player_pos_y
         01:C85D  AC 04 25   			ldy.h	_player_pos_y
11706                        		__call		_spr_y.1
         01:C860  20 2D E8   			call	_spr_y.1
11707                        	
11708                        		.dbg	line,	"include\routines_LEVELS.c", 1864; if(player_attack == FALSE)
11709                        		__not.um	_player_attack
         01:C863  AD 22 23   			lda	_player_attack
         01:C866  18         			clc
         01:C867  D0 01      			bne	!+
         01:C869  38         			sec
         01:C86A             	!:
11710                        		__bfalse	.LL553
         01:C86A  90 15      			bcc	.LL553
11711                        	
11712                        		.dbg	line,	"include\routines_LEVELS.c", 1865; {
11713                        	
11714                        		.dbg	line,	"include\routines_LEVELS.c", 1866; spr_set(weapon_id);
11715                        		__ld.umq	_weapon_id
         01:C86C  AD 28 23   			lda	_weapon_id
11716                        		__call		_spr_set.1
         01:C86F  20 F1 E7   			call	_spr_set.1
11717                        	
11718                        		.dbg	line,	"include\routines_LEVELS.c", 1867; spr_y(player_pos_y+8);
11719                        		__ld.wm		_player_pos_y
         01:C872  AD 03 25   			lda.l	_player_pos_y
         01:C875  AC 04 25   			ldy.h	_player_pos_y
11720                        		__add.wi	8
         01:C878  18         			clc
         01:C879  69 08      			adc.l	#8
         01:C87B  90 01      			bcc	!+
         01:C87D  C8         			iny
         01:C87E             	!:
11721                        		__call		_spr_y.1
         01:C87E  20 2D E8   			call	_spr_y.1
11722                        	
11723                        		.dbg	line,	"include\routines_LEVELS.c", 1868; }
11724                        	
11725                        		.dbg	line,	"include\routines_LEVELS.c", 1873; if(player_index_jump < 34)
11726    01:C881             	.LL553:
11727                        		__ld.umq	_player_index_jump
         01:C881  AD 1E 23   			lda	_player_index_jump
11728                        		__ult_b.uiq	34
         01:C884  C9 22      			cmp	#34		; Subtract integer from A.
         01:C886  6A         			ror	a		; CC if A < integer.
         01:C887  49 80      			eor	#$80
         01:C889  2A         			rol	a
11729                        		__bfalse	.LL554
         01:C88A  90 03      			bcc	.LL554
11730                        	
11731                        		.dbg	line,	"include\routines_LEVELS.c", 1874; {
11732                        	
11733                        		.dbg	line,	"include\routines_LEVELS.c", 1875; player_index_jump += 1;
11734                        		__add_st.umiq	1, _player_index_jump
         01:C88C  EE 1E 23   			inc	_player_index_jump
11735                        	
11736                        		.dbg	line,	"include\routines_LEVELS.c", 1876; }
11737                        	
11738                        		.dbg	line,	"include\routines_LEVELS.c", 1881; //--------------------------------------------------------------------------------------//
11739                        	
11740                        		.dbg	line,	"include\routines_LEVELS.c", 1882; //                                   FLOOR COLLISION                                    //
11741                        	
11742                        		.dbg	line,	"include\routines_LEVELS.c", 1883; //--------------------------------------------------------------------------------------//
11743                        	
11744                        		.dbg	line,	"include\routines_LEVELS.c", 1885; if(player_index_jump > 14)
11745    01:C88F             	.LL554:
11746                        		__ld.umq	_player_index_jump
         01:C88F  AD 1E 23   			lda	_player_index_jump
11747                        		__ugt_b.uiq	14
         01:C892  18         			clc			; Subtract integer+1 from A.
         01:C893  E9 0E      			sbc	#14		; CS if A > integer.
11748                        		__bfalse	.LL555
         01:C895  B0 03 4C 54			bcc	.LL555
         01:C899  CA          
11749                        	
11750                        		.dbg	line,	"include\routines_LEVELS.c", 1886; {
11751                        	
11752                        		.dbg	line,	"include\routines_LEVELS.c", 1887; // CHECK COLLISION WITH LEFT FLOOR //
11753                        	
11754                        		.dbg	line,	"include\routines_LEVELS.c", 1888; collision_PLAYER_BG( 10 , 32 );
11755                        		__ld.wi		10
         01:C89A  A9 0A      			lda.l	#10
         01:C89C  C2         			cly
11756                        		__pusharg.wr
         01:C89D  A6 8D      			ldx	<__sp
         01:C89F  CA         			dex
         01:C8A0  CA         			dex
         01:C8A1  95 08      			sta.l	<__stack, x
         01:C8A3  94 09      			sty.h	<__stack, x
         01:C8A5  86 8D      			stx	<__sp
11757                        		__ld.wi		32
         01:C8A7  A9 20      			lda.l	#32
         01:C8A9  C2         			cly
11758                        		__pusharg.wr
         01:C8AA  A6 8D      			ldx	<__sp
         01:C8AC  CA         			dex
         01:C8AD  CA         			dex
         01:C8AE  95 08      			sta.l	<__stack, x
         01:C8B0  94 09      			sty.h	<__stack, x
         01:C8B2  86 8D      			stx	<__sp
11759                        		__call		_collision_PLAYER_BG
         01:C8B4  20 31 FF   			call	_collision_PLAYER_BG
11760                        	
11761                        		.dbg	line,	"include\routines_LEVELS.c", 1890; // IF PLAYER TOUCHES THE GROUND TO THE LEFT //
11762                        	
11763                        		.dbg	line,	"include\routines_LEVELS.c", 1891; if(map_blk_flag == TILE_BG)
11764                        		__ld.umq	_map_blk_flag
         01:C8B7  AD 05 2C   			lda	_map_blk_flag
11765                        		__equ_b.uiq	1
         01:C8BA  C9 01      			cmp	#1
         01:C8BC  F0 01      			beq	!+
         01:C8BE  18         			clc
         01:C8BF             	!:
11766                        		__bfalse	.LL556
         01:C8BF  B0 03 4C 77			bcc	.LL556
         01:C8C3  C9          
11767                        	
11768                        		.dbg	line,	"include\routines_LEVELS.c", 1892; {
11769                        	
11770                        		.dbg	line,	"include\routines_LEVELS.c", 1893; // CALCULATE HOW MANY PIXELS THE PLAYER MOVED INTO THE GROUND //
11771                        	
11772                        		.dbg	line,	"include\routines_LEVELS.c", 1894; for(i=1; i<11 ; i++ )
11773                        		__st.umiq	1, __update_PLAYER_end - 1  /* i */
         01:C8C4  A9 01      			lda.l	#1
         01:C8C6  8D 0C 23   			sta	__update_PLAYER_end - 1
11774    01:C8C9             	.LL557:
11775                        		__ld.umq	__update_PLAYER_end - 1  /* i */
         01:C8C9  AD 0C 23   			lda	__update_PLAYER_end - 1
11776                        		__ult_b.uiq	11
         01:C8CC  C9 0B      			cmp	#11		; Subtract integer from A.
         01:C8CE  6A         			ror	a		; CC if A < integer.
         01:C8CF  49 80      			eor	#$80
         01:C8D1  2A         			rol	a
11777                        		__btrue		.LL559
         01:C8D2  B0 07      			bcs	.LL559
11778                        		__bra		.LL560
         01:C8D4  80 5B      			bra	.LL560
11779    01:C8D6             	.LL558:
11780                        		__inc.umq	__update_PLAYER_end - 1  /* i */
         01:C8D6  EE 0C 23   			inc	__update_PLAYER_end - 1
11781                        		__bra		.LL557
         01:C8D9  80 EE      			bra	.LL557
11782    01:C8DB             	.LL559:
11783                        	
11784                        		.dbg	line,	"include\routines_LEVELS.c", 1895; {
11785                        	
11786                        		.dbg	line,	"include\routines_LEVELS.c", 1896; check_TILE_DEPTH( 10 , i);
11787                        		__ld.wi		10
         01:C8DB  A9 0A      			lda.l	#10
         01:C8DD  C2         			cly
11788                        		__pusharg.wr
         01:C8DE  A6 8D      			ldx	<__sp
         01:C8E0  CA         			dex
         01:C8E1  CA         			dex
         01:C8E2  95 08      			sta.l	<__stack, x
         01:C8E4  94 09      			sty.h	<__stack, x
         01:C8E6  86 8D      			stx	<__sp
11789                        		__ld.um		__update_PLAYER_end - 1  /* i */
         01:C8E8  AD 0C 23   			lda	__update_PLAYER_end - 1
         01:C8EB  C2         			cly
11790                        		__pusharg.wr
         01:C8EC  A6 8D      			ldx	<__sp
         01:C8EE  CA         			dex
         01:C8EF  CA         			dex
         01:C8F0  95 08      			sta.l	<__stack, x
         01:C8F2  94 09      			sty.h	<__stack, x
         01:C8F4  86 8D      			stx	<__sp
11791                        		__call		_check_TILE_DEPTH
         01:C8F6  20 1D FF   			call	_check_TILE_DEPTH
11792                        	
11793                        		.dbg	line,	"include\routines_LEVELS.c", 1898; if(map_blk_flag == TILE_EMPTY)
11794                        		__not.um	_map_blk_flag
         01:C8F9  AD 05 2C   			lda	_map_blk_flag
         01:C8FC  18         			clc
         01:C8FD  D0 01      			bne	!+
         01:C8FF  38         			sec
         01:C900             	!:
11795                        		__bfalse	.LL561
         01:C900  90 D4      			bcc	.LL561
11796                        	
11797                        		.dbg	line,	"include\routines_LEVELS.c", 1899; {
11798                        	
11799                        		.dbg	line,	"include\routines_LEVELS.c", 1900; player_pos_y -= (i - 1);
11800                        		__ld.um		__update_PLAYER_end - 1  /* i */
         01:C902  AD 0C 23   			lda	__update_PLAYER_end - 1
         01:C905  C2         			cly
11801                        		__sub.wi	1
         01:C906  38         			sec
         01:C907  E9 01      			sbc.l	#1
         01:C909  B0 01      			bcs	!+
         01:C90B  88         			dey
         01:C90C             	!:
11802                        		__isub_st.wmq	_player_pos_y
         01:C90C  38         			sec
         01:C90D  49 FF      			eor	#$FF
         01:C90F  6D 03 25   			adc.l	_player_pos_y
         01:C912  8D 03 25   			sta.l	_player_pos_y
         01:C915  98         			tya
         01:C916  49 FF      			eor	#$FF
         01:C918  6D 04 25   			adc.h	_player_pos_y
         01:C91B  8D 04 25   			sta.h	_player_pos_y
11803                        	
11804                        		.dbg	line,	"include\routines_LEVELS.c", 1901; spr_set(player_id);
11805                        		__ld.umq	_player_id
         01:C91E  AD 19 23   			lda	_player_id
11806                        		__call		_spr_set.1
         01:C921  20 F1 E7   			call	_spr_set.1
11807                        	
11808                        		.dbg	line,	"include\routines_LEVELS.c", 1902; spr_y(player_pos_y);
11809                        		__ld.wm		_player_pos_y
         01:C924  AD 03 25   			lda.l	_player_pos_y
         01:C927  AC 04 25   			ldy.h	_player_pos_y
11810                        		__call		_spr_y.1
         01:C92A  20 2D E8   			call	_spr_y.1
11811                        	
11812                        		.dbg	line,	"include\routines_LEVELS.c", 1903; break;
11813                        		__bra		.LL560
         01:C92D  80 02      			bra	.LL560
11814                        	
11815                        		.dbg	line,	"include\routines_LEVELS.c", 1904; }
11816                        	
11817                        		.dbg	line,	"include\routines_LEVELS.c", 1906; }
11818    01:C92F             	.LL561	.alias		.LL558
11819                        		__bra		.LL558
         01:C92F  80 A5      			bra	.LL558
11820    01:C931             	.LL560:
11821                        	
11822                        		.dbg	line,	"include\routines_LEVELS.c", 1908; if(player_attack == FALSE)
11823                        		__not.um	_player_attack
         01:C931  AD 22 23   			lda	_player_attack
         01:C934  18         			clc
         01:C935  D0 01      			bne	!+
         01:C937  38         			sec
         01:C938             	!:
11824                        		__bfalse	.LL562
         01:C938  90 32      			bcc	.LL562
11825                        	
11826                        		.dbg	line,	"include\routines_LEVELS.c", 1909; {
11827                        	
11828                        		.dbg	line,	"include\routines_LEVELS.c", 1910; spr_set(weapon_id);
11829                        		__ld.umq	_weapon_id
         01:C93A  AD 28 23   			lda	_weapon_id
11830                        		__call		_spr_set.1
         01:C93D  20 F1 E7   			call	_spr_set.1
11831                        	
11832                        		.dbg	line,	"include\routines_LEVELS.c", 1911; spr_x(player_pos_x+8);
11833                        		__ld.wm		_player_pos_x
         01:C940  AD 01 25   			lda.l	_player_pos_x
         01:C943  AC 02 25   			ldy.h	_player_pos_x
11834                        		__add.wi	8
         01:C946  18         			clc
         01:C947  69 08      			adc.l	#8
         01:C949  90 01      			bcc	!+
         01:C94B  C8         			iny
         01:C94C             	!:
11835                        		__call		_spr_x.1
         01:C94C  20 1E E8   			call	_spr_x.1
11836                        	
11837                        		.dbg	line,	"include\routines_LEVELS.c", 1912; spr_y(player_pos_y+16);
11838                        		__ld.wm		_player_pos_y
         01:C94F  AD 03 25   			lda.l	_player_pos_y
         01:C952  AC 04 25   			ldy.h	_player_pos_y
11839                        		__add.wi	16
         01:C955  18         			clc
         01:C956  69 10      			adc.l	#16
         01:C958  90 01      			bcc	!+
         01:C95A  C8         			iny
         01:C95B             	!:
11840                        		__call		_spr_y.1
         01:C95B  20 2D E8   			call	_spr_y.1
11841                        	
11842                        		.dbg	line,	"include\routines_LEVELS.c", 1913; 
11843                        	
11844                        		.dbg	line,	"include\routines_LEVELS.c", 1914; player_counter_anim = 1;
11845                        		__st.umiq	1, _player_counter_anim
         01:C95E  A9 01      			lda.l	#1
         01:C960  8D 1D 23   			sta	_player_counter_anim
11846                        	
11847                        		.dbg	line,	"include\routines_LEVELS.c", 1915; player_index_jump = 0;
11848                        		__st.umiq	0, _player_index_jump
         01:C963  9C 1E 23   			stz	_player_index_jump
11849                        	
11850                        		.dbg	line,	"include\routines_LEVELS.c", 1917; player_state = STATE_IDLE;
11851                        		__st.umiq	0, _player_state
         01:C966  9C 1A 23   			stz	_player_state
11852                        	
11853                        		.dbg	line,	"include\routines_LEVELS.c", 1918; }
11854                        	
11855                        		.dbg	line,	"include\routines_LEVELS.c", 1920; else
11856                        		__bra		.LL563
         01:C969  4C 30 DA   			bra	.LL563
11857    01:C96C             	.LL562:
11858                        	
11859                        		.dbg	line,	"include\routines_LEVELS.c", 1921; {
11860                        	
11861                        		.dbg	line,	"include\routines_LEVELS.c", 1922; player_index_jump = 0;
11862                        		__st.umiq	0, _player_index_jump
         01:C96C  9C 1E 23   			stz	_player_index_jump
11863                        	
11864                        		.dbg	line,	"include\routines_LEVELS.c", 1923; player_state = STATE_ATTACK;
11865                        		__st.umiq	2, _player_state
         01:C96F  A9 02      			lda.l	#2
         01:C971  8D 1A 23   			sta	_player_state
11866                        	
11867                        		.dbg	line,	"include\routines_LEVELS.c", 1924; }
11868    01:C974             	.LL563	.alias		.LL496
11869                        	
11870                        		.dbg	line,	"include\routines_LEVELS.c", 1926; return;
11871                        		__bra		.LL496
         01:C974  4C 30 DA   			bra	.LL496
11872                        	
11873                        		.dbg	line,	"include\routines_LEVELS.c", 1927; }
11874                        	
11875                        		.dbg	line,	"include\routines_LEVELS.c", 1929; // IF PLAYER TOUCHES THE GROUND TO THE RIGHT //
11876                        	
11877                        		.dbg	line,	"include\routines_LEVELS.c", 1930; else
11878    01:C977             	.LL556:
11879                        	
11880                        		.dbg	line,	"include\routines_LEVELS.c", 1931; {
11881                        	
11882                        		.dbg	line,	"include\routines_LEVELS.c", 1932; // CHECK COLLISION WITH RIGHT FLOOR //
11883                        	
11884                        		.dbg	line,	"include\routines_LEVELS.c", 1933; collision_PLAYER_BG( 22 , 32 );
11885                        		__ld.wi		22
         01:C977  A9 16      			lda.l	#22
         01:C979  C2         			cly
11886                        		__pusharg.wr
         01:C97A  A6 8D      			ldx	<__sp
         01:C97C  CA         			dex
         01:C97D  CA         			dex
         01:C97E  95 08      			sta.l	<__stack, x
         01:C980  94 09      			sty.h	<__stack, x
         01:C982  86 8D      			stx	<__sp
11887                        		__ld.wi		32
         01:C984  A9 20      			lda.l	#32
         01:C986  C2         			cly
11888                        		__pusharg.wr
         01:C987  A6 8D      			ldx	<__sp
         01:C989  CA         			dex
         01:C98A  CA         			dex
         01:C98B  95 08      			sta.l	<__stack, x
         01:C98D  94 09      			sty.h	<__stack, x
         01:C98F  86 8D      			stx	<__sp
11889                        		__call		_collision_PLAYER_BG
         01:C991  20 31 FF   			call	_collision_PLAYER_BG
11890                        	
11891                        		.dbg	line,	"include\routines_LEVELS.c", 1935; if(map_blk_flag == TILE_BG)
11892                        		__ld.umq	_map_blk_flag
         01:C994  AD 05 2C   			lda	_map_blk_flag
11893                        		__equ_b.uiq	1
         01:C997  C9 01      			cmp	#1
         01:C999  F0 01      			beq	!+
         01:C99B  18         			clc
         01:C99C             	!:
11894                        		__bfalse	.LL565
         01:C99C  B0 03 4C 54			bcc	.LL565
         01:C9A0  CA          
11895                        	
11896                        		.dbg	line,	"include\routines_LEVELS.c", 1936; {
11897                        	
11898                        		.dbg	line,	"include\routines_LEVELS.c", 1937; // CALCULATE HOW MANY PIXELS THE PLAYER MOVED INTO THE GROUND //
11899                        	
11900                        		.dbg	line,	"include\routines_LEVELS.c", 1938; for(i=1; i<11 ; i++ )
11901                        		__st.umiq	1, __update_PLAYER_end - 1  /* i */
         01:C9A1  A9 01      			lda.l	#1
         01:C9A3  8D 0C 23   			sta	__update_PLAYER_end - 1
11902    01:C9A6             	.LL566:
11903                        		__ld.umq	__update_PLAYER_end - 1  /* i */
         01:C9A6  AD 0C 23   			lda	__update_PLAYER_end - 1
11904                        		__ult_b.uiq	11
         01:C9A9  C9 0B      			cmp	#11		; Subtract integer from A.
         01:C9AB  6A         			ror	a		; CC if A < integer.
         01:C9AC  49 80      			eor	#$80
         01:C9AE  2A         			rol	a
11905                        		__btrue		.LL568
         01:C9AF  B0 07      			bcs	.LL568
11906                        		__bra		.LL569
         01:C9B1  80 5B      			bra	.LL569
11907    01:C9B3             	.LL567:
11908                        		__inc.umq	__update_PLAYER_end - 1  /* i */
         01:C9B3  EE 0C 23   			inc	__update_PLAYER_end - 1
11909                        		__bra		.LL566
         01:C9B6  80 EE      			bra	.LL566
11910    01:C9B8             	.LL568:
11911                        	
11912                        		.dbg	line,	"include\routines_LEVELS.c", 1939; {
11913                        	
11914                        		.dbg	line,	"include\routines_LEVELS.c", 1940; check_TILE_DEPTH( 22 , i);
11915                        		__ld.wi		22
         01:C9B8  A9 16      			lda.l	#22
         01:C9BA  C2         			cly
11916                        		__pusharg.wr
         01:C9BB  A6 8D      			ldx	<__sp
         01:C9BD  CA         			dex
         01:C9BE  CA         			dex
         01:C9BF  95 08      			sta.l	<__stack, x
         01:C9C1  94 09      			sty.h	<__stack, x
         01:C9C3  86 8D      			stx	<__sp
11917                        		__ld.um		__update_PLAYER_end - 1  /* i */
         01:C9C5  AD 0C 23   			lda	__update_PLAYER_end - 1
         01:C9C8  C2         			cly
11918                        		__pusharg.wr
         01:C9C9  A6 8D      			ldx	<__sp
         01:C9CB  CA         			dex
         01:C9CC  CA         			dex
         01:C9CD  95 08      			sta.l	<__stack, x
         01:C9CF  94 09      			sty.h	<__stack, x
         01:C9D1  86 8D      			stx	<__sp
11919                        		__call		_check_TILE_DEPTH
         01:C9D3  20 1D FF   			call	_check_TILE_DEPTH
11920                        	
11921                        		.dbg	line,	"include\routines_LEVELS.c", 1942; if(map_blk_flag == TILE_EMPTY)
11922                        		__not.um	_map_blk_flag
         01:C9D6  AD 05 2C   			lda	_map_blk_flag
         01:C9D9  18         			clc
         01:C9DA  D0 01      			bne	!+
         01:C9DC  38         			sec
         01:C9DD             	!:
11923                        		__bfalse	.LL570
         01:C9DD  90 D4      			bcc	.LL570
11924                        	
11925                        		.dbg	line,	"include\routines_LEVELS.c", 1943; {
11926                        	
11927                        		.dbg	line,	"include\routines_LEVELS.c", 1944; //spr_set(player_id);
11928                        	
11929                        		.dbg	line,	"include\routines_LEVELS.c", 1945; spr_pattern(PLAYER_IDLE_VRAM_ADR);
11930                        		__ld.wi		6144
         01:C9DF  62         			cla
         01:C9E0  A0 18      			ldy.h	#6144
11931                        		__call		_spr_pattern.1
         01:C9E2  20 3A E8   			call	_spr_pattern.1
11932                        	
11933                        		.dbg	line,	"include\routines_LEVELS.c", 1946; player_pos_y -= (i - 1);
11934                        		__ld.um		__update_PLAYER_end - 1  /* i */
         01:C9E5  AD 0C 23   			lda	__update_PLAYER_end - 1
         01:C9E8  C2         			cly
11935                        		__sub.wi	1
         01:C9E9  38         			sec
         01:C9EA  E9 01      			sbc.l	#1
         01:C9EC  B0 01      			bcs	!+
         01:C9EE  88         			dey
         01:C9EF             	!:
11936                        		__isub_st.wmq	_player_pos_y
         01:C9EF  38         			sec
         01:C9F0  49 FF      			eor	#$FF
         01:C9F2  6D 03 25   			adc.l	_player_pos_y
         01:C9F5  8D 03 25   			sta.l	_player_pos_y
         01:C9F8  98         			tya
         01:C9F9  49 FF      			eor	#$FF
         01:C9FB  6D 04 25   			adc.h	_player_pos_y
         01:C9FE  8D 04 25   			sta.h	_player_pos_y
11937                        	
11938                        		.dbg	line,	"include\routines_LEVELS.c", 1947; spr_y(player_pos_y);
11939                        		__ld.wm		_player_pos_y
         01:CA01  AD 03 25   			lda.l	_player_pos_y
         01:CA04  AC 04 25   			ldy.h	_player_pos_y
11940                        		__call		_spr_y.1
         01:CA07  20 2D E8   			call	_spr_y.1
11941                        	
11942                        		.dbg	line,	"include\routines_LEVELS.c", 1948; break;
11943                        		__bra		.LL569
         01:CA0A  80 02      			bra	.LL569
11944                        	
11945                        		.dbg	line,	"include\routines_LEVELS.c", 1949; }
11946                        	
11947                        		.dbg	line,	"include\routines_LEVELS.c", 1951; }
11948    01:CA0C             	.LL570	.alias		.LL567
11949                        		__bra		.LL567
         01:CA0C  80 A5      			bra	.LL567
11950    01:CA0E             	.LL569:
11951                        	
11952                        		.dbg	line,	"include\routines_LEVELS.c", 1953; if(player_attack == FALSE)
11953                        		__not.um	_player_attack
         01:CA0E  AD 22 23   			lda	_player_attack
         01:CA11  18         			clc
         01:CA12  D0 01      			bne	!+
         01:CA14  38         			sec
         01:CA15             	!:
11954                        		__bfalse	.LL571
         01:CA15  90 32      			bcc	.LL571
11955                        	
11956                        		.dbg	line,	"include\routines_LEVELS.c", 1954; {
11957                        	
11958                        		.dbg	line,	"include\routines_LEVELS.c", 1955; spr_set(weapon_id);
11959                        		__ld.umq	_weapon_id
         01:CA17  AD 28 23   			lda	_weapon_id
11960                        		__call		_spr_set.1
         01:CA1A  20 F1 E7   			call	_spr_set.1
11961                        	
11962                        		.dbg	line,	"include\routines_LEVELS.c", 1956; spr_x(player_pos_x+8);
11963                        		__ld.wm		_player_pos_x
         01:CA1D  AD 01 25   			lda.l	_player_pos_x
         01:CA20  AC 02 25   			ldy.h	_player_pos_x
11964                        		__add.wi	8
         01:CA23  18         			clc
         01:CA24  69 08      			adc.l	#8
         01:CA26  90 01      			bcc	!+
         01:CA28  C8         			iny
         01:CA29             	!:
11965                        		__call		_spr_x.1
         01:CA29  20 1E E8   			call	_spr_x.1
11966                        	
11967                        		.dbg	line,	"include\routines_LEVELS.c", 1957; spr_y(player_pos_y+16);
11968                        		__ld.wm		_player_pos_y
         01:CA2C  AD 03 25   			lda.l	_player_pos_y
         01:CA2F  AC 04 25   			ldy.h	_player_pos_y
11969                        		__add.wi	16
         01:CA32  18         			clc
         01:CA33  69 10      			adc.l	#16
         01:CA35  90 01      			bcc	!+
         01:CA37  C8         			iny
         01:CA38             	!:
11970                        		__call		_spr_y.1
         01:CA38  20 2D E8   			call	_spr_y.1
11971                        	
11972                        		.dbg	line,	"include\routines_LEVELS.c", 1958; 
11973                        	
11974                        		.dbg	line,	"include\routines_LEVELS.c", 1959; player_counter_anim = 1;
11975                        		__st.umiq	1, _player_counter_anim
         01:CA3B  A9 01      			lda.l	#1
         01:CA3D  8D 1D 23   			sta	_player_counter_anim
11976                        	
11977                        		.dbg	line,	"include\routines_LEVELS.c", 1960; player_index_jump = 0;
11978                        		__st.umiq	0, _player_index_jump
         01:CA40  9C 1E 23   			stz	_player_index_jump
11979                        	
11980                        		.dbg	line,	"include\routines_LEVELS.c", 1962; player_state = STATE_IDLE;
11981                        		__st.umiq	0, _player_state
         01:CA43  9C 1A 23   			stz	_player_state
11982                        	
11983                        		.dbg	line,	"include\routines_LEVELS.c", 1963; }
11984                        	
11985                        		.dbg	line,	"include\routines_LEVELS.c", 1965; else
11986                        		__bra		.LL572
         01:CA46  4C 30 DA   			bra	.LL572
11987    01:CA49             	.LL571:
11988                        	
11989                        		.dbg	line,	"include\routines_LEVELS.c", 1966; {
11990                        	
11991                        		.dbg	line,	"include\routines_LEVELS.c", 1967; player_index_jump = 0;
11992                        		__st.umiq	0, _player_index_jump
         01:CA49  9C 1E 23   			stz	_player_index_jump
11993                        	
11994                        		.dbg	line,	"include\routines_LEVELS.c", 1968; player_state = STATE_ATTACK;
11995                        		__st.umiq	2, _player_state
         01:CA4C  A9 02      			lda.l	#2
         01:CA4E  8D 1A 23   			sta	_player_state
11996                        	
11997                        		.dbg	line,	"include\routines_LEVELS.c", 1969; }
11998    01:CA51             	.LL572	.alias		.LL496
11999                        	
12000                        		.dbg	line,	"include\routines_LEVELS.c", 1971; return;
12001                        		__bra		.LL496
         01:CA51  4C 30 DA   			bra	.LL496
12002                        	
12003                        		.dbg	line,	"include\routines_LEVELS.c", 1972; }
12004                        	
12005                        		.dbg	line,	"include\routines_LEVELS.c", 1973; }
12006    01:CA54             	.LL565:
12007    01:CA54             	.LL564:
12008                        	
12009                        		.dbg	line,	"include\routines_LEVELS.c", 1974; }
12010                        	
12011                        		.dbg	line,	"include\routines_LEVELS.c", 1979; //--------------------------------------------------------------------------------------//
12012                        	
12013                        		.dbg	line,	"include\routines_LEVELS.c", 1980; //                                   LADDER COLLISION                                   //
12014                        	
12015                        		.dbg	line,	"include\routines_LEVELS.c", 1981; //--------------------------------------------------------------------------------------//
12016                        	
12017                        		.dbg	line,	"include\routines_LEVELS.c", 1983; collision_PLAYER_BG( 16 , 16 );
12018    01:CA54             	.LL555:
12019                        		__ld.wi		16
         01:CA54  A9 10      			lda.l	#16
         01:CA56  C2         			cly
12020                        		__pusharg.wr
         01:CA57  A6 8D      			ldx	<__sp
         01:CA59  CA         			dex
         01:CA5A  CA         			dex
         01:CA5B  95 08      			sta.l	<__stack, x
         01:CA5D  94 09      			sty.h	<__stack, x
         01:CA5F  86 8D      			stx	<__sp
12021                        		__ld.wi		16
         01:CA61  A9 10      			lda.l	#16
         01:CA63  C2         			cly
12022                        		__pusharg.wr
         01:CA64  A6 8D      			ldx	<__sp
         01:CA66  CA         			dex
         01:CA67  CA         			dex
         01:CA68  95 08      			sta.l	<__stack, x
         01:CA6A  94 09      			sty.h	<__stack, x
         01:CA6C  86 8D      			stx	<__sp
12023                        		__call		_collision_PLAYER_BG
         01:CA6E  20 31 FF   			call	_collision_PLAYER_BG
12024                        	
12025                        		.dbg	line,	"include\routines_LEVELS.c", 1985; // IF PLAYER HITS THE LADDER //
12026                        	
12027                        		.dbg	line,	"include\routines_LEVELS.c", 1986; if(map_blk_flag == TILE_LADDER)
12028                        		__ld.umq	_map_blk_flag
         01:CA71  AD 05 2C   			lda	_map_blk_flag
12029                        		__equ_b.uiq	2
         01:CA74  C9 02      			cmp	#2
         01:CA76  F0 01      			beq	!+
         01:CA78  18         			clc
         01:CA79             	!:
12030                        		__bfalse	.LL573
         01:CA79  B0 03 4C 30			bcc	.LL573
         01:CA7D  DA          
12031                        	
12032                        		.dbg	line,	"include\routines_LEVELS.c", 1987; {
12033                        	
12034                        		.dbg	line,	"include\routines_LEVELS.c", 1988; // CAMERA GOES 8 PX BACKWARD //
12035                        	
12036                        		.dbg	line,	"include\routines_LEVELS.c", 1989; sgx_map_pxl_x = ( (sgx_map_pxl_x >> 3) << 3 );
12037                        		__ld.wm		_sgx_map_pxl_x
         01:CA7E  AD E4 26   			lda.l	_sgx_map_pxl_x
         01:CA81  AC E5 26   			ldy.h	_sgx_map_pxl_x
12038                        		__lsr.wi	3
         01:CA84  84 00      			sty	__temp
         01:CA86  20 3A E2   			jsr	lsrw3
12039                        		__asl.wi	3
         01:CA89  84 00      			sty	__temp
         01:CA8B  20 D7 E1   			jsr	aslw3
12040                        		__st.wmq	_sgx_map_pxl_x
         01:CA8E  8D E4 26   			sta.l	_sgx_map_pxl_x
         01:CA91  8C E5 26   			sty.h	_sgx_map_pxl_x
12041                        	
12042                        		.dbg	line,	"include\routines_LEVELS.c", 1991; // SO WE UPDATE THE MAP //
12043                        	
12044                        		.dbg	line,	"include\routines_LEVELS.c", 1992; sgx_scroll_map();
12045                        		__call		_sgx_scroll_map
         01:CA94  20 63 FF   			call	_sgx_scroll_map
12046                        	
12047                        		.dbg	line,	"include\routines_LEVELS.c", 1994; // CHECK IF THE PLAYER STANDS RIGHT TO THE LADDER //
12048                        	
12049                        		.dbg	line,	"include\routines_LEVELS.c", 1995; collision_PLAYER_BG( 31 , 16 );
12050                        		__ld.wi		31
         01:CA97  A9 1F      			lda.l	#31
         01:CA99  C2         			cly
12051                        		__pusharg.wr
         01:CA9A  A6 8D      			ldx	<__sp
         01:CA9C  CA         			dex
         01:CA9D  CA         			dex
         01:CA9E  95 08      			sta.l	<__stack, x
         01:CAA0  94 09      			sty.h	<__stack, x
         01:CAA2  86 8D      			stx	<__sp
12052                        		__ld.wi		16
         01:CAA4  A9 10      			lda.l	#16
         01:CAA6  C2         			cly
12053                        		__pusharg.wr
         01:CAA7  A6 8D      			ldx	<__sp
         01:CAA9  CA         			dex
         01:CAAA  CA         			dex
         01:CAAB  95 08      			sta.l	<__stack, x
         01:CAAD  94 09      			sty.h	<__stack, x
         01:CAAF  86 8D      			stx	<__sp
12054                        		__call		_collision_PLAYER_BG
         01:CAB1  20 31 FF   			call	_collision_PLAYER_BG
12055                        	
12056                        		.dbg	line,	"include\routines_LEVELS.c", 1997; if(map_blk_flag == TILE_LADDER)
12057                        		__ld.umq	_map_blk_flag
         01:CAB4  AD 05 2C   			lda	_map_blk_flag
12058                        		__equ_b.uiq	2
         01:CAB7  C9 02      			cmp	#2
         01:CAB9  F0 01      			beq	!+
         01:CABB  18         			clc
         01:CABC             	!:
12059                        		__bfalse	.LL574
         01:CABC  90 0E      			bcc	.LL574
12060                        	
12061                        		.dbg	line,	"include\routines_LEVELS.c", 1998; {
12062                        	
12063                        		.dbg	line,	"include\routines_LEVELS.c", 1999; sgx_map_pxl_x += 8;
12064                        		__add_st.wmiq	8, _sgx_map_pxl_x
         01:CABE  18         			clc
         01:CABF  AD E4 26   			lda.l	_sgx_map_pxl_x
         01:CAC2  69 08      			adc.l	#8
         01:CAC4  8D E4 26   			sta.l	_sgx_map_pxl_x
         01:CAC7  90 03      			bcc	!+
         01:CAC9  EE E5 26   			inc.h	_sgx_map_pxl_x
         01:CACC             	!:
12065                        	
12066                        		.dbg	line,	"include\routines_LEVELS.c", 2000; }
12067                        	
12068                        		.dbg	line,	"include\routines_LEVELS.c", 2002; spr_set(player_id);
12069    01:CACC             	.LL574:
12070                        		__ld.umq	_player_id
         01:CACC  AD 19 23   			lda	_player_id
12071                        		__call		_spr_set.1
         01:CACF  20 F1 E7   			call	_spr_set.1
12072                        	
12073                        		.dbg	line,	"include\routines_LEVELS.c", 2003; spr_pattern(PLAYER_HANG_VRAM_ADR);
12074                        		__ld.wi		8448
         01:CAD2  62         			cla
         01:CAD3  A0 21      			ldy.h	#8448
12075                        		__call		_spr_pattern.1
         01:CAD5  20 3A E8   			call	_spr_pattern.1
12076                        	
12077                        		.dbg	line,	"include\routines_LEVELS.c", 2004; player_counter_anim = 0;
12078                        		__st.umiq	0, _player_counter_anim
         01:CAD8  9C 1D 23   			stz	_player_counter_anim
12079                        	
12080                        		.dbg	line,	"include\routines_LEVELS.c", 2005; player_index_jump = 0;
12081                        		__st.umiq	0, _player_index_jump
         01:CADB  9C 1E 23   			stz	_player_index_jump
12082                        	
12083                        		.dbg	line,	"include\routines_LEVELS.c", 2006; jump_ladder = TRUE;
12084                        		__st.umiq	1, _jump_ladder
         01:CADE  A9 01      			lda.l	#1
         01:CAE0  8D 23 23   			sta	_jump_ladder
12085                        	
12086                        		.dbg	line,	"include\routines_LEVELS.c", 2007; player_state = STATE_HANG;
12087                        		__st.umiq	10, _player_state
         01:CAE3  A9 0A      			lda.l	#10
         01:CAE5  8D 1A 23   			sta	_player_state
12088                        	
12089                        		.dbg	line,	"include\routines_LEVELS.c", 2008; }
12090                        	
12091                        		.dbg	line,	"include\routines_LEVELS.c", 2009; }
12092    01:CAE8             	.LL573	.alias		.LL575
12093                        	
12094                        		.dbg	line,	"include\routines_LEVELS.c", 2012; else if(player_state == STATE_JUMP_RIGHT)
12095                        		__bra		.LL575
         01:CAE8  4C 30 DA   			bra	.LL575
12096    01:CAEB             	.LL545:
12097                        		__ld.umq	_player_state
         01:CAEB  AD 1A 23   			lda	_player_state
12098                        		__equ_b.uiq	5
         01:CAEE  C9 05      			cmp	#5
         01:CAF0  F0 01      			beq	!+
         01:CAF2  18         			clc
         01:CAF3             	!:
12099                        		__bfalse	.LL576
         01:CAF3  B0 03 4C 54			bcc	.LL576
         01:CAF7  CF          
12100                        	
12101                        		.dbg	line,	"include\routines_LEVELS.c", 2013; {
12102                        	
12103                        		.dbg	line,	"include\routines_LEVELS.c", 2014; unsigned char i, camera_y_move;
12104                        	
12105                        		.dbg	line,	"include\routines_LEVELS.c", 2015; i = 1;
12106                        		__st.umiq	1, __update_PLAYER_end - 2  /* i */
         01:CAF8  A9 01      			lda.l	#1
         01:CAFA  8D 0B 23   			sta	__update_PLAYER_end - 2
12107                        	
12108                        		.dbg	line,	"include\routines_LEVELS.c", 2017; // UPDATE PLAYER TILES //
12109                        	
12110                        		.dbg	line,	"include\routines_LEVELS.c", 2018; if(player_counter_anim == 0)
12111                        		__not.um	_player_counter_anim
         01:CAFD  AD 1D 23   			lda	_player_counter_anim
         01:CB00  18         			clc
         01:CB01  D0 01      			bne	!+
         01:CB03  38         			sec
         01:CB04             	!:
12112                        		__bfalse	.LL577
         01:CB04  90 11      			bcc	.LL577
12113                        	
12114                        		.dbg	line,	"include\routines_LEVELS.c", 2019; {
12115                        	
12116                        		.dbg	line,	"include\routines_LEVELS.c", 2020; spr_set(player_id);
12117                        		__ld.umq	_player_id
         01:CB06  AD 19 23   			lda	_player_id
12118                        		__call		_spr_set.1
         01:CB09  20 F1 E7   			call	_spr_set.1
12119                        	
12120                        		.dbg	line,	"include\routines_LEVELS.c", 2021; spr_pattern(PLAYER_JUMP_VRAM_ADR);
12121                        		__ld.wi		7936
         01:CB0C  62         			cla
         01:CB0D  A0 1F      			ldy.h	#7936
12122                        		__call		_spr_pattern.1
         01:CB0F  20 3A E8   			call	_spr_pattern.1
12123                        	
12124                        		.dbg	line,	"include\routines_LEVELS.c", 2023; player_counter_anim = 1;
12125                        		__st.umiq	1, _player_counter_anim
         01:CB12  A9 01      			lda.l	#1
         01:CB14  8D 1D 23   			sta	_player_counter_anim
12126                        	
12127                        		.dbg	line,	"include\routines_LEVELS.c", 2024; }
12128                        	
12129                        		.dbg	line,	"include\routines_LEVELS.c", 2027; // SELECT PLAYER SPRITE //
12130                        	
12131                        		.dbg	line,	"include\routines_LEVELS.c", 2028; spr_set(player_id);
12132    01:CB17             	.LL577:
12133                        		__ld.umq	_player_id
         01:CB17  AD 19 23   			lda	_player_id
12134                        		__call		_spr_set.1
         01:CB1A  20 F1 E7   			call	_spr_set.1
12135                        	
12136                        		.dbg	line,	"include\routines_LEVELS.c", 2031; //**************************************************************************************//
12137                        	
12138                        		.dbg	line,	"include\routines_LEVELS.c", 2032; //                                        H MOVE                                        //
12139                        	
12140                        		.dbg	line,	"include\routines_LEVELS.c", 2033; //**************************************************************************************//
12141                        	
12142                        		.dbg	line,	"include\routines_LEVELS.c", 2035; //--------------------------------------------------------------------------------------//
12143                        	
12144                        		.dbg	line,	"include\routines_LEVELS.c", 2036; //                                    WALL COLLISION                                    //
12145                        	
12146                        		.dbg	line,	"include\routines_LEVELS.c", 2037; //--------------------------------------------------------------------------------------//
12147                        	
12148                        		.dbg	line,	"include\routines_LEVELS.c", 2039; // CHECK COLLISION WITH BOTTOM RIGHT WALL //
12149                        	
12150                        		.dbg	line,	"include\routines_LEVELS.c", 2040; collision_PLAYER_BG( 24 , 31 );
12151                        		__ld.wi		24
         01:CB1D  A9 18      			lda.l	#24
         01:CB1F  C2         			cly
12152                        		__pusharg.wr
         01:CB20  A6 8D      			ldx	<__sp
         01:CB22  CA         			dex
         01:CB23  CA         			dex
         01:CB24  95 08      			sta.l	<__stack, x
         01:CB26  94 09      			sty.h	<__stack, x
         01:CB28  86 8D      			stx	<__sp
12153                        		__ld.wi		31
         01:CB2A  A9 1F      			lda.l	#31
         01:CB2C  C2         			cly
12154                        		__pusharg.wr
         01:CB2D  A6 8D      			ldx	<__sp
         01:CB2F  CA         			dex
         01:CB30  CA         			dex
         01:CB31  95 08      			sta.l	<__stack, x
         01:CB33  94 09      			sty.h	<__stack, x
         01:CB35  86 8D      			stx	<__sp
12155                        		__call		_collision_PLAYER_BG
         01:CB37  20 31 FF   			call	_collision_PLAYER_BG
12156                        	
12157                        		.dbg	line,	"include\routines_LEVELS.c", 2042; if(map_blk_flag != TILE_BG)
12158                        		__ld.umq	_map_blk_flag
         01:CB3A  AD 05 2C   			lda	_map_blk_flag
12159                        		__neq_b.uiq	1
         01:CB3D  38         			sec
         01:CB3E  49 01      			eor	#1
         01:CB40  D0 01      			bne	!+
         01:CB42  18         			clc
         01:CB43             	!:
12160                        		__bfalse	.LL578
         01:CB43  90 78      			bcc	.LL578
12161                        	
12162                        		.dbg	line,	"include\routines_LEVELS.c", 2043; {
12163                        	
12164                        		.dbg	line,	"include\routines_LEVELS.c", 2044; // CHECK COLLISION WITH TOP RIGHT WALL //
12165                        	
12166                        		.dbg	line,	"include\routines_LEVELS.c", 2045; collision_PLAYER_BG( 24 , 15 );
12167                        		__ld.wi		24
         01:CB45  A9 18      			lda.l	#24
         01:CB47  C2         			cly
12168                        		__pusharg.wr
         01:CB48  A6 8D      			ldx	<__sp
         01:CB4A  CA         			dex
         01:CB4B  CA         			dex
         01:CB4C  95 08      			sta.l	<__stack, x
         01:CB4E  94 09      			sty.h	<__stack, x
         01:CB50  86 8D      			stx	<__sp
12169                        		__ld.wi		15
         01:CB52  A9 0F      			lda.l	#15
         01:CB54  C2         			cly
12170                        		__pusharg.wr
         01:CB55  A6 8D      			ldx	<__sp
         01:CB57  CA         			dex
         01:CB58  CA         			dex
         01:CB59  95 08      			sta.l	<__stack, x
         01:CB5B  94 09      			sty.h	<__stack, x
         01:CB5D  86 8D      			stx	<__sp
12171                        		__call		_collision_PLAYER_BG
         01:CB5F  20 31 FF   			call	_collision_PLAYER_BG
12172                        	
12173                        		.dbg	line,	"include\routines_LEVELS.c", 2047; if(map_blk_flag == TILE_BG)
12174                        		__ld.umq	_map_blk_flag
         01:CB62  AD 05 2C   			lda	_map_blk_flag
12175                        		__equ_b.uiq	1
         01:CB65  C9 01      			cmp	#1
         01:CB67  F0 01      			beq	!+
         01:CB69  18         			clc
         01:CB6A             	!:
12176                        		__bfalse	.LL579
         01:CB6A  90 41      			bcc	.LL579
12177                        	
12178                        		.dbg	line,	"include\routines_LEVELS.c", 2048; {
12179                        	
12180                        		.dbg	line,	"include\routines_LEVELS.c", 2049; check_TILE_DEPTH( 15 , -16 );
12181                        		__ld.wi		15
         01:CB6C  A9 0F      			lda.l	#15
         01:CB6E  C2         			cly
12182                        		__pusharg.wr
         01:CB6F  A6 8D      			ldx	<__sp
         01:CB71  CA         			dex
         01:CB72  CA         			dex
         01:CB73  95 08      			sta.l	<__stack, x
         01:CB75  94 09      			sty.h	<__stack, x
         01:CB77  86 8D      			stx	<__sp
12183                        		__ld.wi		-16
         01:CB79  A9 F0      			lda.l	#-16
         01:CB7B  A0 FF      			ldy.h	#-16
12184                        		__pusharg.wr
         01:CB7D  A6 8D      			ldx	<__sp
         01:CB7F  CA         			dex
         01:CB80  CA         			dex
         01:CB81  95 08      			sta.l	<__stack, x
         01:CB83  94 09      			sty.h	<__stack, x
         01:CB85  86 8D      			stx	<__sp
12185                        		__call		_check_TILE_DEPTH
         01:CB87  20 1D FF   			call	_check_TILE_DEPTH
12186                        	
12187                        		.dbg	line,	"include\routines_LEVELS.c", 2051; if(map_blk_flag == TILE_EMPTY && jump_ladder == TRUE)
12188                        		__not.um	_map_blk_flag
         01:CB8A  AD 05 2C   			lda	_map_blk_flag
         01:CB8D  18         			clc
         01:CB8E  D0 01      			bne	!+
         01:CB90  38         			sec
         01:CB91             	!:
12189                        		__bfalse	.LL581
         01:CB91  90 08      			bcc	.LL581
12190                        		__ld.umq	_jump_ladder
         01:CB93  AD 23 23   			lda	_jump_ladder
12191                        		__equ_b.uiq	1
         01:CB96  C9 01      			cmp	#1
         01:CB98  F0 01      			beq	!+
         01:CB9A  18         			clc
         01:CB9B             	!:
12192    01:CB9B             	.LL581:
12193                        		__bfalse	.LL580
         01:CB9B  90 64      			bcc	.LL580
12194                        	
12195                        		.dbg	line,	"include\routines_LEVELS.c", 2052; {
12196                        	
12197                        		.dbg	line,	"include\routines_LEVELS.c", 2053; jump_ladder = FALSE;
12198                        		__st.umiq	0, _jump_ladder
         01:CB9D  9C 23 23   			stz	_jump_ladder
12199                        	
12200                        		.dbg	line,	"include\routines_LEVELS.c", 2054; player_index_fall = 0;
12201                        		__st.umiq	0, _player_index_fall
         01:CBA0  9C 1F 23   			stz	_player_index_fall
12202                        	
12203                        		.dbg	line,	"include\routines_LEVELS.c", 2055; player_state = STATE_FALL;
12204                        		__st.umiq	9, _player_state
         01:CBA3  A9 09      			lda.l	#9
         01:CBA5  8D 1A 23   			sta	_player_state
12205                        	
12206                        		.dbg	line,	"include\routines_LEVELS.c", 2056; return;
12207                        		__bra		.LL496
         01:CBA8  4C 30 DA   			bra	.LL496
12208                        	
12209                        		.dbg	line,	"include\routines_LEVELS.c", 2057; }
12210                        	
12211                        		.dbg	line,	"include\routines_LEVELS.c", 2058; }
12212    01:CBAB             	.LL580	.alias		.LL582
12213                        	
12214                        		.dbg	line,	"include\routines_LEVELS.c", 2060; else
12215                        		__bra		.LL582
         01:CBAB  80 54      			bra	.LL582
12216    01:CBAD             	.LL579:
12217                        	
12218                        		.dbg	line,	"include\routines_LEVELS.c", 2061; {
12219                        	
12220                        		.dbg	line,	"include\routines_LEVELS.c", 2062; sgx_map_pxl_x += 2;
12221                        		__add_st.wmiq	2, _sgx_map_pxl_x
         01:CBAD  18         			clc
         01:CBAE  AD E4 26   			lda.l	_sgx_map_pxl_x
         01:CBB1  69 02      			adc.l	#2
         01:CBB3  8D E4 26   			sta.l	_sgx_map_pxl_x
         01:CBB6  90 03      			bcc	!+
         01:CBB8  EE E5 26   			inc.h	_sgx_map_pxl_x
         01:CBBB             	!:
12222                        	
12223                        		.dbg	line,	"include\routines_LEVELS.c", 2063; }
12224    01:CBBB             	.LL582	.alias		.LL583
12225                        	
12226                        		.dbg	line,	"include\routines_LEVELS.c", 2064; }
12227                        	
12228                        		.dbg	line,	"include\routines_LEVELS.c", 2066; else
12229                        		__bra		.LL583
         01:CBBB  80 44      			bra	.LL583
12230    01:CBBD             	.LL578:
12231                        	
12232                        		.dbg	line,	"include\routines_LEVELS.c", 2067; {
12233                        	
12234                        		.dbg	line,	"include\routines_LEVELS.c", 2068; check_TILE_DEPTH( 15 , -16 );
12235                        		__ld.wi		15
         01:CBBD  A9 0F      			lda.l	#15
         01:CBBF  C2         			cly
12236                        		__pusharg.wr
         01:CBC0  A6 8D      			ldx	<__sp
         01:CBC2  CA         			dex
         01:CBC3  CA         			dex
         01:CBC4  95 08      			sta.l	<__stack, x
         01:CBC6  94 09      			sty.h	<__stack, x
         01:CBC8  86 8D      			stx	<__sp
12237                        		__ld.wi		-16
         01:CBCA  A9 F0      			lda.l	#-16
         01:CBCC  A0 FF      			ldy.h	#-16
12238                        		__pusharg.wr
         01:CBCE  A6 8D      			ldx	<__sp
         01:CBD0  CA         			dex
         01:CBD1  CA         			dex
         01:CBD2  95 08      			sta.l	<__stack, x
         01:CBD4  94 09      			sty.h	<__stack, x
         01:CBD6  86 8D      			stx	<__sp
12239                        		__call		_check_TILE_DEPTH
         01:CBD8  20 1D FF   			call	_check_TILE_DEPTH
12240                        	
12241                        		.dbg	line,	"include\routines_LEVELS.c", 2070; if(map_blk_flag == TILE_EMPTY && jump_ladder == TRUE)
12242                        		__not.um	_map_blk_flag
         01:CBDB  AD 05 2C   			lda	_map_blk_flag
         01:CBDE  18         			clc
         01:CBDF  D0 01      			bne	!+
         01:CBE1  38         			sec
         01:CBE2             	!:
12243                        		__bfalse	.LL585
         01:CBE2  90 08      			bcc	.LL585
12244                        		__ld.umq	_jump_ladder
         01:CBE4  AD 23 23   			lda	_jump_ladder
12245                        		__equ_b.uiq	1
         01:CBE7  C9 01      			cmp	#1
         01:CBE9  F0 01      			beq	!+
         01:CBEB  18         			clc
         01:CBEC             	!:
12246    01:CBEC             	.LL585:
12247                        		__bfalse	.LL584
         01:CBEC  90 13      			bcc	.LL584
12248                        	
12249                        		.dbg	line,	"include\routines_LEVELS.c", 2071; {
12250                        	
12251                        		.dbg	line,	"include\routines_LEVELS.c", 2072; jump_ladder = FALSE;
12252                        		__st.umiq	0, _jump_ladder
         01:CBEE  9C 23 23   			stz	_jump_ladder
12253                        	
12254                        		.dbg	line,	"include\routines_LEVELS.c", 2073; hit_wall = TRUE;
12255                        		__st.umiq	1, _hit_wall
         01:CBF1  A9 01      			lda.l	#1
         01:CBF3  8D 26 23   			sta	_hit_wall
12256                        	
12257                        		.dbg	line,	"include\routines_LEVELS.c", 2074; player_index_fall = 0;
12258                        		__st.umiq	0, _player_index_fall
         01:CBF6  9C 1F 23   			stz	_player_index_fall
12259                        	
12260                        		.dbg	line,	"include\routines_LEVELS.c", 2075; player_state = STATE_FALL;
12261                        		__st.umiq	9, _player_state
         01:CBF9  A9 09      			lda.l	#9
         01:CBFB  8D 1A 23   			sta	_player_state
12262                        	
12263                        		.dbg	line,	"include\routines_LEVELS.c", 2076; return;
12264                        		__bra		.LL496
         01:CBFE  4C 30 DA   			bra	.LL496
12265                        	
12266                        		.dbg	line,	"include\routines_LEVELS.c", 2077; }
12267                        	
12268                        		.dbg	line,	"include\routines_LEVELS.c", 2078; }
12269    01:CC01             	.LL584:
12270    01:CC01             	.LL583:
12271                        	
12272                        		.dbg	line,	"include\routines_LEVELS.c", 2083; //**************************************************************************************//
12273                        	
12274                        		.dbg	line,	"include\routines_LEVELS.c", 2084; //                                        V MOVE                                        //
12275                        	
12276                        		.dbg	line,	"include\routines_LEVELS.c", 2085; //**************************************************************************************//
12277                        	
12278                        		.dbg	line,	"include\routines_LEVELS.c", 2087; // UPDATE PLAYER Y POSITION //
12279                        	
12280                        		.dbg	line,	"include\routines_LEVELS.c", 2088; if(jump_ladder == FALSE)
12281                        		__not.um	_jump_ladder
         01:CC01  AD 23 23   			lda	_jump_ladder
         01:CC04  18         			clc
         01:CC05  D0 01      			bne	!+
         01:CC07  38         			sec
         01:CC08             	!:
12282                        		__bfalse	.LL586
         01:CC08  90 1A      			bcc	.LL586
12283                        	
12284                        		.dbg	line,	"include\routines_LEVELS.c", 2089; {
12285                        	
12286                        		.dbg	line,	"include\routines_LEVELS.c", 2090; player_pos_y += TABLE_PLAYER_JUMP_V[player_index_jump];
12287                        		__ldx.umq	_player_index_jump
         01:CC0A  AE 1E 23   			ldx	_player_index_jump
12288                        		__ld.bax	_TABLE_PLAYER_JUMP_V
         01:CC0D  BD 8B 62   			lda	_TABLE_PLAYER_JUMP_V, x
         01:CC10  C2         			cly
         01:CC11  10 01      			bpl	!+
         01:CC13  88         			dey
         01:CC14             	!:
12289                        		__add_st.wmq	_player_pos_y
         01:CC14  18         			clc
         01:CC15  6D 03 25   			adc.l	_player_pos_y
         01:CC18  8D 03 25   			sta.l	_player_pos_y
         01:CC1B  98         			tya
         01:CC1C  6D 04 25   			adc.h	_player_pos_y
         01:CC1F  8D 04 25   			sta.h	_player_pos_y
12290                        	
12291                        		.dbg	line,	"include\routines_LEVELS.c", 2091; }
12292                        	
12293                        		.dbg	line,	"include\routines_LEVELS.c", 2093; else
12294                        		__bra		.LL587
         01:CC22  80 18      			bra	.LL587
12295    01:CC24             	.LL586:
12296                        	
12297                        		.dbg	line,	"include\routines_LEVELS.c", 2094; {
12298                        	
12299                        		.dbg	line,	"include\routines_LEVELS.c", 2095; player_pos_y += TABLE_PLAYER_JUMP_LADDER[player_index_jump];
12300                        		__ldx.umq	_player_index_jump
         01:CC24  AE 1E 23   			ldx	_player_index_jump
12301                        		__ld.bax	_TABLE_PLAYER_JUMP_LADDER
         01:CC27  BD C3 62   			lda	_TABLE_PLAYER_JUMP_LADDER, x
         01:CC2A  C2         			cly
         01:CC2B  10 01      			bpl	!+
         01:CC2D  88         			dey
         01:CC2E             	!:
12302                        		__add_st.wmq	_player_pos_y
         01:CC2E  18         			clc
         01:CC2F  6D 03 25   			adc.l	_player_pos_y
         01:CC32  8D 03 25   			sta.l	_player_pos_y
         01:CC35  98         			tya
         01:CC36  6D 04 25   			adc.h	_player_pos_y
         01:CC39  8D 04 25   			sta.h	_player_pos_y
12303                        	
12304                        		.dbg	line,	"include\routines_LEVELS.c", 2096; }
12305    01:CC3C             	.LL587:
12306                        	
12307                        		.dbg	line,	"include\routines_LEVELS.c", 2100; // IF PLAYER GOES BELOW ITS BASE Y POSITION //
12308                        	
12309                        		.dbg	line,	"include\routines_LEVELS.c", 2101; if(player_pos_y >= PLAYER_BASE_Y_POS)
12310                        		__ld.wm		_player_pos_y
         01:CC3C  AD 03 25   			lda.l	_player_pos_y
         01:CC3F  AC 04 25   			ldy.h	_player_pos_y
12311                        		__sge_w.wi	128
         01:CC42  C9 80      			cmp.l	#128		; Subtract integer from Y:A.
         01:CC44  98         			tya
         01:CC45  E9 00      			sbc.h	#128
         01:CC47  50 02      			bvc	!+
         01:CC49  49 80      			eor	#$80		; +ve if Y:A >= integer (signed).
         01:CC4B  49 80      	!:		eor	#$80
         01:CC4D  0A         			asl	a
12312                        		__bfalse	.LL588
         01:CC4E  90 4E      			bcc	.LL588
12313                        	
12314                        		.dbg	line,	"include\routines_LEVELS.c", 2102; {
12315                        	
12316                        		.dbg	line,	"include\routines_LEVELS.c", 2103; // THE CAMERA MOVES //
12317                        	
12318                        		.dbg	line,	"include\routines_LEVELS.c", 2104; // CALCULATE HOW MANY PIXELS THE CAMERA HAS TO MOVE DOWN //
12319                        	
12320                        		.dbg	line,	"include\routines_LEVELS.c", 2105; camera_y_move = player_pos_y - PLAYER_BASE_Y_POS;
12321                        		__ld.wm		_player_pos_y
         01:CC50  AD 03 25   			lda.l	_player_pos_y
         01:CC53  AC 04 25   			ldy.h	_player_pos_y
12322                        		__sub.wi	128
         01:CC56  38         			sec
         01:CC57  E9 80      			sbc.l	#128
         01:CC59  B0 01      			bcs	!+
         01:CC5B  88         			dey
         01:CC5C             	!:
12323                        		__st.umq	__update_PLAYER_end - 3  /* camera_y_move */
         01:CC5C  8D 0A 23   			sta	__update_PLAYER_end - 3
12324                        	
12325                        		.dbg	line,	"include\routines_LEVELS.c", 2106; sgx_map_pxl_y += camera_y_move;
12326                        		__ld.um		__update_PLAYER_end - 3  /* camera_y_move */
         01:CC5F  AD 0A 23   			lda	__update_PLAYER_end - 3
         01:CC62  C2         			cly
12327                        		__add_st.wmq	_sgx_map_pxl_y
         01:CC63  18         			clc
         01:CC64  6D E6 26   			adc.l	_sgx_map_pxl_y
         01:CC67  8D E6 26   			sta.l	_sgx_map_pxl_y
         01:CC6A  98         			tya
         01:CC6B  6D E7 26   			adc.h	_sgx_map_pxl_y
         01:CC6E  8D E7 26   			sta.h	_sgx_map_pxl_y
12328                        	
12329                        		.dbg	line,	"include\routines_LEVELS.c", 2108; // IF THE CAMERA HAS REACHED ITS MAX (LOWEST) POSITION //
12330                        	
12331                        		.dbg	line,	"include\routines_LEVELS.c", 2109; if(sgx_map_pxl_y > camera_max_y_position)
12332                        		__ld.wm		_sgx_map_pxl_y
         01:CC71  AD E6 26   			lda.l	_sgx_map_pxl_y
         01:CC74  AC E7 26   			ldy.h	_sgx_map_pxl_y
12333                        		__ugt_w.wm	_camera_max_y_position
         01:CC77  18         			clc			; Subtract memory+1 from Y:A.
         01:CC78  ED 05 25   			sbc.l	_camera_max_y_position
         01:CC7B  98         			tya
         01:CC7C  ED 06 25   			sbc.h	_camera_max_y_position		; CS if Y:A > memory.
12334                        		__bfalse	.LL589
         01:CC7F  90 0C      			bcc	.LL589
12335                        	
12336                        		.dbg	line,	"include\routines_LEVELS.c", 2110; {
12337                        	
12338                        		.dbg	line,	"include\routines_LEVELS.c", 2111; // THE CAMERA CAN NOT MOVE LOWER //
12339                        	
12340                        		.dbg	line,	"include\routines_LEVELS.c", 2112; sgx_map_pxl_y = camera_max_y_position;
12341                        		__ld.wm		_camera_max_y_position
         01:CC81  AD 05 25   			lda.l	_camera_max_y_position
         01:CC84  AC 06 25   			ldy.h	_camera_max_y_position
12342                        		__st.wmq	_sgx_map_pxl_y
         01:CC87  8D E6 26   			sta.l	_sgx_map_pxl_y
         01:CC8A  8C E7 26   			sty.h	_sgx_map_pxl_y
12343                        	
12344                        		.dbg	line,	"include\routines_LEVELS.c", 2113; }
12345                        	
12346                        		.dbg	line,	"include\routines_LEVELS.c", 2115; // THE PLAYER STAYS AT ITS BASE Y POSITION //
12347                        	
12348                        		.dbg	line,	"include\routines_LEVELS.c", 2116; player_pos_y = PLAYER_BASE_Y_POS;
12349    01:CC8D             	.LL589:
12350                        		__st.wmiq	128, _player_pos_y
         01:CC8D  A9 80      			lda.l	#128
         01:CC8F  8D 03 25   			sta.l	_player_pos_y
         01:CC92  9C 04 25   			stz.h	_player_pos_y
12351                        	
12352                        		.dbg	line,	"include\routines_LEVELS.c", 2118; spr_y(player_pos_y);
12353                        		__ld.wm		_player_pos_y
         01:CC95  AD 03 25   			lda.l	_player_pos_y
         01:CC98  AC 04 25   			ldy.h	_player_pos_y
12354                        		__call		_spr_y.1
         01:CC9B  20 2D E8   			call	_spr_y.1
12355                        	
12356                        		.dbg	line,	"include\routines_LEVELS.c", 2119; }
12357                        	
12358                        		.dbg	line,	"include\routines_LEVELS.c", 2122; // UPDATE JUMP INDEX IN THE ARRAY //
12359                        	
12360                        		.dbg	line,	"include\routines_LEVELS.c", 2123; if(player_index_jump < jump_max_index)
12361    01:CC9E             	.LL588:
12362                        		__ld.umq	_player_index_jump
         01:CC9E  AD 1E 23   			lda	_player_index_jump
12363                        		__ult_b.umq	_jump_max_index
         01:CCA1  CD 24 23   			cmp	_jump_max_index		; Subtract memory from A.
         01:CCA4  6A         			ror	a		; CC if A < memory.
         01:CCA5  49 80      			eor	#$80
         01:CCA7  2A         			rol	a
12364                        		__bfalse	.LL590
         01:CCA8  90 03      			bcc	.LL590
12365                        	
12366                        		.dbg	line,	"include\routines_LEVELS.c", 2124; {
12367                        	
12368                        		.dbg	line,	"include\routines_LEVELS.c", 2125; player_index_jump += 1;
12369                        		__add_st.umiq	1, _player_index_jump
         01:CCAA  EE 1E 23   			inc	_player_index_jump
12370                        	
12371                        		.dbg	line,	"include\routines_LEVELS.c", 2126; }
12372                        	
12373                        		.dbg	line,	"include\routines_LEVELS.c", 2131; //--------------------------------------------------------------------------------------//
12374                        	
12375                        		.dbg	line,	"include\routines_LEVELS.c", 2132; //                                   FLOOR COLLISION                                    //
12376                        	
12377                        		.dbg	line,	"include\routines_LEVELS.c", 2133; //--------------------------------------------------------------------------------------//
12378                        	
12379                        		.dbg	line,	"include\routines_LEVELS.c", 2135; if(player_index_jump > 14)
12380    01:CCAD             	.LL590:
12381                        		__ld.umq	_player_index_jump
         01:CCAD  AD 1E 23   			lda	_player_index_jump
12382                        		__ugt_b.uiq	14
         01:CCB0  18         			clc			; Subtract integer+1 from A.
         01:CCB1  E9 0E      			sbc	#14		; CS if A > integer.
12383                        		__bfalse	.LL591
         01:CCB3  B0 03 4C 98			bcc	.LL591
         01:CCB7  CE          
12384                        	
12385                        		.dbg	line,	"include\routines_LEVELS.c", 2136; {
12386                        	
12387                        		.dbg	line,	"include\routines_LEVELS.c", 2137; // CHECK COLLISION WITH LEFT FLOOR //
12388                        	
12389                        		.dbg	line,	"include\routines_LEVELS.c", 2138; collision_PLAYER_BG( 10 , 32 );
12390                        		__ld.wi		10
         01:CCB8  A9 0A      			lda.l	#10
         01:CCBA  C2         			cly
12391                        		__pusharg.wr
         01:CCBB  A6 8D      			ldx	<__sp
         01:CCBD  CA         			dex
         01:CCBE  CA         			dex
         01:CCBF  95 08      			sta.l	<__stack, x
         01:CCC1  94 09      			sty.h	<__stack, x
         01:CCC3  86 8D      			stx	<__sp
12392                        		__ld.wi		32
         01:CCC5  A9 20      			lda.l	#32
         01:CCC7  C2         			cly
12393                        		__pusharg.wr
         01:CCC8  A6 8D      			ldx	<__sp
         01:CCCA  CA         			dex
         01:CCCB  CA         			dex
         01:CCCC  95 08      			sta.l	<__stack, x
         01:CCCE  94 09      			sty.h	<__stack, x
         01:CCD0  86 8D      			stx	<__sp
12394                        		__call		_collision_PLAYER_BG
         01:CCD2  20 31 FF   			call	_collision_PLAYER_BG
12395                        	
12396                        		.dbg	line,	"include\routines_LEVELS.c", 2140; // IF PLAYER TOUCHES THE GROUND TO THE LEFT //
12397                        	
12398                        		.dbg	line,	"include\routines_LEVELS.c", 2141; if(map_blk_flag == TILE_BG)
12399                        		__ld.umq	_map_blk_flag
         01:CCD5  AD 05 2C   			lda	_map_blk_flag
12400                        		__equ_b.uiq	1
         01:CCD8  C9 01      			cmp	#1
         01:CCDA  F0 01      			beq	!+
         01:CCDC  18         			clc
         01:CCDD             	!:
12401                        		__bfalse	.LL592
         01:CCDD  B0 03 4C A8			bcc	.LL592
         01:CCE1  CD          
12402                        	
12403                        		.dbg	line,	"include\routines_LEVELS.c", 2142; {
12404                        	
12405                        		.dbg	line,	"include\routines_LEVELS.c", 2143; // CALCULATE HOW MANY PIXELS THE PLAYER MOVED INTO THE GROUND //
12406                        	
12407                        		.dbg	line,	"include\routines_LEVELS.c", 2144; for(i=1; i<11 ; i++)
12408                        		__st.umiq	1, __update_PLAYER_end - 2  /* i */
         01:CCE2  A9 01      			lda.l	#1
         01:CCE4  8D 0B 23   			sta	__update_PLAYER_end - 2
12409    01:CCE7             	.LL593:
12410                        		__ld.umq	__update_PLAYER_end - 2  /* i */
         01:CCE7  AD 0B 23   			lda	__update_PLAYER_end - 2
12411                        		__ult_b.uiq	11
         01:CCEA  C9 0B      			cmp	#11		; Subtract integer from A.
         01:CCEC  6A         			ror	a		; CC if A < integer.
         01:CCED  49 80      			eor	#$80
         01:CCEF  2A         			rol	a
12412                        		__btrue		.LL595
         01:CCF0  B0 07      			bcs	.LL595
12413                        		__bra		.LL596
         01:CCF2  80 7D      			bra	.LL596
12414    01:CCF4             	.LL594:
12415                        		__inc.umq	__update_PLAYER_end - 2  /* i */
         01:CCF4  EE 0B 23   			inc	__update_PLAYER_end - 2
12416                        		__bra		.LL593
         01:CCF7  80 EE      			bra	.LL593
12417    01:CCF9             	.LL595:
12418                        	
12419                        		.dbg	line,	"include\routines_LEVELS.c", 2145; {
12420                        	
12421                        		.dbg	line,	"include\routines_LEVELS.c", 2146; check_TILE_DEPTH( 10 , i);
12422                        		__ld.wi		10
         01:CCF9  A9 0A      			lda.l	#10
         01:CCFB  C2         			cly
12423                        		__pusharg.wr
         01:CCFC  A6 8D      			ldx	<__sp
         01:CCFE  CA         			dex
         01:CCFF  CA         			dex
         01:CD00  95 08      			sta.l	<__stack, x
         01:CD02  94 09      			sty.h	<__stack, x
         01:CD04  86 8D      			stx	<__sp
12424                        		__ld.um		__update_PLAYER_end - 2  /* i */
         01:CD06  AD 0B 23   			lda	__update_PLAYER_end - 2
         01:CD09  C2         			cly
12425                        		__pusharg.wr
         01:CD0A  A6 8D      			ldx	<__sp
         01:CD0C  CA         			dex
         01:CD0D  CA         			dex
         01:CD0E  95 08      			sta.l	<__stack, x
         01:CD10  94 09      			sty.h	<__stack, x
         01:CD12  86 8D      			stx	<__sp
12426                        		__call		_check_TILE_DEPTH
         01:CD14  20 1D FF   			call	_check_TILE_DEPTH
12427                        	
12428                        		.dbg	line,	"include\routines_LEVELS.c", 2148; if(map_blk_flag == TILE_EMPTY)
12429                        		__not.um	_map_blk_flag
         01:CD17  AD 05 2C   			lda	_map_blk_flag
         01:CD1A  18         			clc
         01:CD1B  D0 01      			bne	!+
         01:CD1D  38         			sec
         01:CD1E             	!:
12430                        		__bfalse	.LL597
         01:CD1E  90 D4      			bcc	.LL597
12431                        	
12432                        		.dbg	line,	"include\routines_LEVELS.c", 2149; {
12433                        	
12434                        		.dbg	line,	"include\routines_LEVELS.c", 2150; if(player_pos_y != PLAYER_BASE_Y_POS)
12435                        		__ld.wm		_player_pos_y
         01:CD20  AD 03 25   			lda.l	_player_pos_y
         01:CD23  AC 04 25   			ldy.h	_player_pos_y
12436                        		__neq_w.wi	128
         01:CD26  38         			sec
         01:CD27  49 80      			eor.l	#128
         01:CD29  D0 06      			bne	!+
         01:CD2B  98         			tya
         01:CD2C  49 00      			eor.h	#128
         01:CD2E  D0 01      			bne	!+
         01:CD30  18         			clc
         01:CD31             	!:
12437                        		__bfalse	.LL598
         01:CD31  90 1E      			bcc	.LL598
12438                        	
12439                        		.dbg	line,	"include\routines_LEVELS.c", 2151; {
12440                        	
12441                        		.dbg	line,	"include\routines_LEVELS.c", 2152; player_pos_y -= (i - 1);
12442                        		__ld.um		__update_PLAYER_end - 2  /* i */
         01:CD33  AD 0B 23   			lda	__update_PLAYER_end - 2
         01:CD36  C2         			cly
12443                        		__sub.wi	1
         01:CD37  38         			sec
         01:CD38  E9 01      			sbc.l	#1
         01:CD3A  B0 01      			bcs	!+
         01:CD3C  88         			dey
         01:CD3D             	!:
12444                        		__isub_st.wmq	_player_pos_y
         01:CD3D  38         			sec
         01:CD3E  49 FF      			eor	#$FF
         01:CD40  6D 03 25   			adc.l	_player_pos_y
         01:CD43  8D 03 25   			sta.l	_player_pos_y
         01:CD46  98         			tya
         01:CD47  49 FF      			eor	#$FF
         01:CD49  6D 04 25   			adc.h	_player_pos_y
         01:CD4C  8D 04 25   			sta.h	_player_pos_y
12445                        	
12446                        		.dbg	line,	"include\routines_LEVELS.c", 2153; }
12447                        	
12448                        		.dbg	line,	"include\routines_LEVELS.c", 2155; else
12449                        		__bra		.LL599
         01:CD4F  80 20      			bra	.LL599
12450    01:CD51             	.LL598:
12451                        	
12452                        		.dbg	line,	"include\routines_LEVELS.c", 2156; {
12453                        	
12454                        		.dbg	line,	"include\routines_LEVELS.c", 2157; sgx_map_pxl_y -= (i - 1);
12455                        		__ld.um		__update_PLAYER_end - 2  /* i */
         01:CD51  AD 0B 23   			lda	__update_PLAYER_end - 2
         01:CD54  C2         			cly
12456                        		__sub.wi	1
         01:CD55  38         			sec
         01:CD56  E9 01      			sbc.l	#1
         01:CD58  B0 01      			bcs	!+
         01:CD5A  88         			dey
         01:CD5B             	!:
12457                        		__isub_st.wmq	_sgx_map_pxl_y
         01:CD5B  38         			sec
         01:CD5C  49 FF      			eor	#$FF
         01:CD5E  6D E6 26   			adc.l	_sgx_map_pxl_y
         01:CD61  8D E6 26   			sta.l	_sgx_map_pxl_y
         01:CD64  98         			tya
         01:CD65  49 FF      			eor	#$FF
         01:CD67  6D E7 26   			adc.h	_sgx_map_pxl_y
         01:CD6A  8D E7 26   			sta.h	_sgx_map_pxl_y
12458                        	
12459                        		.dbg	line,	"include\routines_LEVELS.c", 2158; }
12460    01:CD6D             	.LL599	.alias		.LL596
12461                        	
12462                        		.dbg	line,	"include\routines_LEVELS.c", 2160; break;
12463                        		__bra		.LL596
         01:CD6D  80 02      			bra	.LL596
12464                        	
12465                        		.dbg	line,	"include\routines_LEVELS.c", 2161; }
12466                        	
12467                        		.dbg	line,	"include\routines_LEVELS.c", 2162; }
12468    01:CD6F             	.LL597	.alias		.LL594
12469                        		__bra		.LL594
         01:CD6F  80 83      			bra	.LL594
12470    01:CD71             	.LL596:
12471                        	
12472                        		.dbg	line,	"include\routines_LEVELS.c", 2164; // SET PLAYER SPRITE NEW POSITION //
12473                        	
12474                        		.dbg	line,	"include\routines_LEVELS.c", 2165; spr_y(player_pos_y);
12475                        		__ld.wm		_player_pos_y
         01:CD71  AD 03 25   			lda.l	_player_pos_y
         01:CD74  AC 04 25   			ldy.h	_player_pos_y
12476                        		__call		_spr_y.1
         01:CD77  20 2D E8   			call	_spr_y.1
12477                        	
12478                        		.dbg	line,	"include\routines_LEVELS.c", 2167; spr_set(weapon_id);
12479                        		__ld.umq	_weapon_id
         01:CD7A  AD 28 23   			lda	_weapon_id
12480                        		__call		_spr_set.1
         01:CD7D  20 F1 E7   			call	_spr_set.1
12481                        	
12482                        		.dbg	line,	"include\routines_LEVELS.c", 2168; spr_y(player_pos_y+8);
12483                        		__ld.wm		_player_pos_y
         01:CD80  AD 03 25   			lda.l	_player_pos_y
         01:CD83  AC 04 25   			ldy.h	_player_pos_y
12484                        		__add.wi	8
         01:CD86  18         			clc
         01:CD87  69 08      			adc.l	#8
         01:CD89  90 01      			bcc	!+
         01:CD8B  C8         			iny
         01:CD8C             	!:
12485                        		__call		_spr_y.1
         01:CD8C  20 2D E8   			call	_spr_y.1
12486                        	
12487                        		.dbg	line,	"include\routines_LEVELS.c", 2170; player_counter_anim = 1;
12488                        		__st.umiq	1, _player_counter_anim
         01:CD8F  A9 01      			lda.l	#1
         01:CD91  8D 1D 23   			sta	_player_counter_anim
12489                        	
12490                        		.dbg	line,	"include\routines_LEVELS.c", 2171; player_index_jump = 0;
12491                        		__st.umiq	0, _player_index_jump
         01:CD94  9C 1E 23   			stz	_player_index_jump
12492                        	
12493                        		.dbg	line,	"include\routines_LEVELS.c", 2172; jump_ladder = FALSE;
12494                        		__st.umiq	0, _jump_ladder
         01:CD97  9C 23 23   			stz	_jump_ladder
12495                        	
12496                        		.dbg	line,	"include\routines_LEVELS.c", 2173; hit_wall = FALSE;
12497                        		__st.umiq	0, _hit_wall
         01:CD9A  9C 26 23   			stz	_hit_wall
12498                        	
12499                        		.dbg	line,	"include\routines_LEVELS.c", 2174; jump_max_index = 34;
12500                        		__st.umiq	34, _jump_max_index
         01:CD9D  A9 22      			lda.l	#34
         01:CD9F  8D 24 23   			sta	_jump_max_index
12501                        	
12502                        		.dbg	line,	"include\routines_LEVELS.c", 2175; player_state = STATE_IDLE;
12503                        		__st.umiq	0, _player_state
         01:CDA2  9C 1A 23   			stz	_player_state
12504                        	
12505                        		.dbg	line,	"include\routines_LEVELS.c", 2176; return;
12506                        		__bra		.LL496
         01:CDA5  4C 30 DA   			bra	.LL496
12507                        	
12508                        		.dbg	line,	"include\routines_LEVELS.c", 2177; }
12509                        	
12510                        		.dbg	line,	"include\routines_LEVELS.c", 2179; // IF PLAYER TOUCHES THE GROUND TO THE RIGHT //
12511                        	
12512                        		.dbg	line,	"include\routines_LEVELS.c", 2180; else
12513    01:CDA8             	.LL592:
12514                        	
12515                        		.dbg	line,	"include\routines_LEVELS.c", 2181; {
12516                        	
12517                        		.dbg	line,	"include\routines_LEVELS.c", 2182; // CHECK COLLISION WITH RIGHT FLOOR //
12518                        	
12519                        		.dbg	line,	"include\routines_LEVELS.c", 2183; collision_PLAYER_BG( 22 , 32 );
12520                        		__ld.wi		22
         01:CDA8  A9 16      			lda.l	#22
         01:CDAA  C2         			cly
12521                        		__pusharg.wr
         01:CDAB  A6 8D      			ldx	<__sp
         01:CDAD  CA         			dex
         01:CDAE  CA         			dex
         01:CDAF  95 08      			sta.l	<__stack, x
         01:CDB1  94 09      			sty.h	<__stack, x
         01:CDB3  86 8D      			stx	<__sp
12522                        		__ld.wi		32
         01:CDB5  A9 20      			lda.l	#32
         01:CDB7  C2         			cly
12523                        		__pusharg.wr
         01:CDB8  A6 8D      			ldx	<__sp
         01:CDBA  CA         			dex
         01:CDBB  CA         			dex
         01:CDBC  95 08      			sta.l	<__stack, x
         01:CDBE  94 09      			sty.h	<__stack, x
         01:CDC0  86 8D      			stx	<__sp
12524                        		__call		_collision_PLAYER_BG
         01:CDC2  20 31 FF   			call	_collision_PLAYER_BG
12525                        	
12526                        		.dbg	line,	"include\routines_LEVELS.c", 2185; if(map_blk_flag == TILE_BG)
12527                        		__ld.umq	_map_blk_flag
         01:CDC5  AD 05 2C   			lda	_map_blk_flag
12528                        		__equ_b.uiq	1
         01:CDC8  C9 01      			cmp	#1
         01:CDCA  F0 01      			beq	!+
         01:CDCC  18         			clc
         01:CDCD             	!:
12529                        		__bfalse	.LL601
         01:CDCD  B0 03 4C 98			bcc	.LL601
         01:CDD1  CE          
12530                        	
12531                        		.dbg	line,	"include\routines_LEVELS.c", 2186; {
12532                        	
12533                        		.dbg	line,	"include\routines_LEVELS.c", 2187; // CALCULATE HOW MANY PIXELS THE PLAYER MOVED INTO THE GROUND //
12534                        	
12535                        		.dbg	line,	"include\routines_LEVELS.c", 2188; for(i=1; i<11 ; i++)
12536                        		__st.umiq	1, __update_PLAYER_end - 2  /* i */
         01:CDD2  A9 01      			lda.l	#1
         01:CDD4  8D 0B 23   			sta	__update_PLAYER_end - 2
12537    01:CDD7             	.LL602:
12538                        		__ld.umq	__update_PLAYER_end - 2  /* i */
         01:CDD7  AD 0B 23   			lda	__update_PLAYER_end - 2
12539                        		__ult_b.uiq	11
         01:CDDA  C9 0B      			cmp	#11		; Subtract integer from A.
         01:CDDC  6A         			ror	a		; CC if A < integer.
         01:CDDD  49 80      			eor	#$80
         01:CDDF  2A         			rol	a
12540                        		__btrue		.LL604
         01:CDE0  B0 07      			bcs	.LL604
12541                        		__bra		.LL605
         01:CDE2  80 7D      			bra	.LL605
12542    01:CDE4             	.LL603:
12543                        		__inc.umq	__update_PLAYER_end - 2  /* i */
         01:CDE4  EE 0B 23   			inc	__update_PLAYER_end - 2
12544                        		__bra		.LL602
         01:CDE7  80 EE      			bra	.LL602
12545    01:CDE9             	.LL604:
12546                        	
12547                        		.dbg	line,	"include\routines_LEVELS.c", 2189; {
12548                        	
12549                        		.dbg	line,	"include\routines_LEVELS.c", 2190; check_TILE_DEPTH( 22 , i);
12550                        		__ld.wi		22
         01:CDE9  A9 16      			lda.l	#22
         01:CDEB  C2         			cly
12551                        		__pusharg.wr
         01:CDEC  A6 8D      			ldx	<__sp
         01:CDEE  CA         			dex
         01:CDEF  CA         			dex
         01:CDF0  95 08      			sta.l	<__stack, x
         01:CDF2  94 09      			sty.h	<__stack, x
         01:CDF4  86 8D      			stx	<__sp
12552                        		__ld.um		__update_PLAYER_end - 2  /* i */
         01:CDF6  AD 0B 23   			lda	__update_PLAYER_end - 2
         01:CDF9  C2         			cly
12553                        		__pusharg.wr
         01:CDFA  A6 8D      			ldx	<__sp
         01:CDFC  CA         			dex
         01:CDFD  CA         			dex
         01:CDFE  95 08      			sta.l	<__stack, x
         01:CE00  94 09      			sty.h	<__stack, x
         01:CE02  86 8D      			stx	<__sp
12554                        		__call		_check_TILE_DEPTH
         01:CE04  20 1D FF   			call	_check_TILE_DEPTH
12555                        	
12556                        		.dbg	line,	"include\routines_LEVELS.c", 2192; if(map_blk_flag == TILE_EMPTY)
12557                        		__not.um	_map_blk_flag
         01:CE07  AD 05 2C   			lda	_map_blk_flag
         01:CE0A  18         			clc
         01:CE0B  D0 01      			bne	!+
         01:CE0D  38         			sec
         01:CE0E             	!:
12558                        		__bfalse	.LL606
         01:CE0E  90 D4      			bcc	.LL606
12559                        	
12560                        		.dbg	line,	"include\routines_LEVELS.c", 2193; {
12561                        	
12562                        		.dbg	line,	"include\routines_LEVELS.c", 2194; if(player_pos_y != PLAYER_BASE_Y_POS)
12563                        		__ld.wm		_player_pos_y
         01:CE10  AD 03 25   			lda.l	_player_pos_y
         01:CE13  AC 04 25   			ldy.h	_player_pos_y
12564                        		__neq_w.wi	128
         01:CE16  38         			sec
         01:CE17  49 80      			eor.l	#128
         01:CE19  D0 06      			bne	!+
         01:CE1B  98         			tya
         01:CE1C  49 00      			eor.h	#128
         01:CE1E  D0 01      			bne	!+
         01:CE20  18         			clc
         01:CE21             	!:
12565                        		__bfalse	.LL607
         01:CE21  90 1E      			bcc	.LL607
12566                        	
12567                        		.dbg	line,	"include\routines_LEVELS.c", 2195; {
12568                        	
12569                        		.dbg	line,	"include\routines_LEVELS.c", 2196; player_pos_y -= (i - 1);
12570                        		__ld.um		__update_PLAYER_end - 2  /* i */
         01:CE23  AD 0B 23   			lda	__update_PLAYER_end - 2
         01:CE26  C2         			cly
12571                        		__sub.wi	1
         01:CE27  38         			sec
         01:CE28  E9 01      			sbc.l	#1
         01:CE2A  B0 01      			bcs	!+
         01:CE2C  88         			dey
         01:CE2D             	!:
12572                        		__isub_st.wmq	_player_pos_y
         01:CE2D  38         			sec
         01:CE2E  49 FF      			eor	#$FF
         01:CE30  6D 03 25   			adc.l	_player_pos_y
         01:CE33  8D 03 25   			sta.l	_player_pos_y
         01:CE36  98         			tya
         01:CE37  49 FF      			eor	#$FF
         01:CE39  6D 04 25   			adc.h	_player_pos_y
         01:CE3C  8D 04 25   			sta.h	_player_pos_y
12573                        	
12574                        		.dbg	line,	"include\routines_LEVELS.c", 2197; }
12575                        	
12576                        		.dbg	line,	"include\routines_LEVELS.c", 2199; else
12577                        		__bra		.LL608
         01:CE3F  80 20      			bra	.LL608
12578    01:CE41             	.LL607:
12579                        	
12580                        		.dbg	line,	"include\routines_LEVELS.c", 2200; {
12581                        	
12582                        		.dbg	line,	"include\routines_LEVELS.c", 2201; sgx_map_pxl_y -= (i - 1);
12583                        		__ld.um		__update_PLAYER_end - 2  /* i */
         01:CE41  AD 0B 23   			lda	__update_PLAYER_end - 2
         01:CE44  C2         			cly
12584                        		__sub.wi	1
         01:CE45  38         			sec
         01:CE46  E9 01      			sbc.l	#1
         01:CE48  B0 01      			bcs	!+
         01:CE4A  88         			dey
         01:CE4B             	!:
12585                        		__isub_st.wmq	_sgx_map_pxl_y
         01:CE4B  38         			sec
         01:CE4C  49 FF      			eor	#$FF
         01:CE4E  6D E6 26   			adc.l	_sgx_map_pxl_y
         01:CE51  8D E6 26   			sta.l	_sgx_map_pxl_y
         01:CE54  98         			tya
         01:CE55  49 FF      			eor	#$FF
         01:CE57  6D E7 26   			adc.h	_sgx_map_pxl_y
         01:CE5A  8D E7 26   			sta.h	_sgx_map_pxl_y
12586                        	
12587                        		.dbg	line,	"include\routines_LEVELS.c", 2202; }
12588    01:CE5D             	.LL608	.alias		.LL605
12589                        	
12590                        		.dbg	line,	"include\routines_LEVELS.c", 2204; break;
12591                        		__bra		.LL605
         01:CE5D  80 02      			bra	.LL605
12592                        	
12593                        		.dbg	line,	"include\routines_LEVELS.c", 2205; }
12594                        	
12595                        		.dbg	line,	"include\routines_LEVELS.c", 2206; }
12596    01:CE5F             	.LL606	.alias		.LL603
12597                        		__bra		.LL603
         01:CE5F  80 83      			bra	.LL603
12598    01:CE61             	.LL605:
12599                        	
12600                        		.dbg	line,	"include\routines_LEVELS.c", 2208; // SET PLAYER SPRITE NEW POSITION //
12601                        	
12602                        		.dbg	line,	"include\routines_LEVELS.c", 2209; spr_y(player_pos_y);
12603                        		__ld.wm		_player_pos_y
         01:CE61  AD 03 25   			lda.l	_player_pos_y
         01:CE64  AC 04 25   			ldy.h	_player_pos_y
12604                        		__call		_spr_y.1
         01:CE67  20 2D E8   			call	_spr_y.1
12605                        	
12606                        		.dbg	line,	"include\routines_LEVELS.c", 2211; spr_set(weapon_id);
12607                        		__ld.umq	_weapon_id
         01:CE6A  AD 28 23   			lda	_weapon_id
12608                        		__call		_spr_set.1
         01:CE6D  20 F1 E7   			call	_spr_set.1
12609                        	
12610                        		.dbg	line,	"include\routines_LEVELS.c", 2212; spr_y(player_pos_y+8);
12611                        		__ld.wm		_player_pos_y
         01:CE70  AD 03 25   			lda.l	_player_pos_y
         01:CE73  AC 04 25   			ldy.h	_player_pos_y
12612                        		__add.wi	8
         01:CE76  18         			clc
         01:CE77  69 08      			adc.l	#8
         01:CE79  90 01      			bcc	!+
         01:CE7B  C8         			iny
         01:CE7C             	!:
12613                        		__call		_spr_y.1
         01:CE7C  20 2D E8   			call	_spr_y.1
12614                        	
12615                        		.dbg	line,	"include\routines_LEVELS.c", 2214; player_counter_anim = 1;
12616                        		__st.umiq	1, _player_counter_anim
         01:CE7F  A9 01      			lda.l	#1
         01:CE81  8D 1D 23   			sta	_player_counter_anim
12617                        	
12618                        		.dbg	line,	"include\routines_LEVELS.c", 2215; player_index_jump = 0;
12619                        		__st.umiq	0, _player_index_jump
         01:CE84  9C 1E 23   			stz	_player_index_jump
12620                        	
12621                        		.dbg	line,	"include\routines_LEVELS.c", 2216; jump_ladder = FALSE;
12622                        		__st.umiq	0, _jump_ladder
         01:CE87  9C 23 23   			stz	_jump_ladder
12623                        	
12624                        		.dbg	line,	"include\routines_LEVELS.c", 2217; hit_wall = FALSE;
12625                        		__st.umiq	0, _hit_wall
         01:CE8A  9C 26 23   			stz	_hit_wall
12626                        	
12627                        		.dbg	line,	"include\routines_LEVELS.c", 2218; jump_max_index = 34;
12628                        		__st.umiq	34, _jump_max_index
         01:CE8D  A9 22      			lda.l	#34
         01:CE8F  8D 24 23   			sta	_jump_max_index
12629                        	
12630                        		.dbg	line,	"include\routines_LEVELS.c", 2219; player_state = STATE_IDLE;
12631                        		__st.umiq	0, _player_state
         01:CE92  9C 1A 23   			stz	_player_state
12632                        	
12633                        		.dbg	line,	"include\routines_LEVELS.c", 2220; return;
12634                        		__bra		.LL496
         01:CE95  4C 30 DA   			bra	.LL496
12635                        	
12636                        		.dbg	line,	"include\routines_LEVELS.c", 2221; }
12637                        	
12638                        		.dbg	line,	"include\routines_LEVELS.c", 2222; }
12639    01:CE98             	.LL601:
12640    01:CE98             	.LL600:
12641                        	
12642                        		.dbg	line,	"include\routines_LEVELS.c", 2223; }
12643                        	
12644                        		.dbg	line,	"include\routines_LEVELS.c", 2228; //--------------------------------------------------------------------------------------//
12645                        	
12646                        		.dbg	line,	"include\routines_LEVELS.c", 2229; //                                   LADDER COLLISION                                   //
12647                        	
12648                        		.dbg	line,	"include\routines_LEVELS.c", 2230; //--------------------------------------------------------------------------------------//
12649                        	
12650                        		.dbg	line,	"include\routines_LEVELS.c", 2232; if(player_index_jump > 4)
12651    01:CE98             	.LL591:
12652                        		__ld.umq	_player_index_jump
         01:CE98  AD 1E 23   			lda	_player_index_jump
12653                        		__ugt_b.uiq	4
         01:CE9B  18         			clc			; Subtract integer+1 from A.
         01:CE9C  E9 04      			sbc	#4		; CS if A > integer.
12654                        		__bfalse	.LL609
         01:CE9E  B0 03 4C 33			bcc	.LL609
         01:CEA2  CF          
12655                        	
12656                        		.dbg	line,	"include\routines_LEVELS.c", 2233; {
12657                        	
12658                        		.dbg	line,	"include\routines_LEVELS.c", 2234; collision_PLAYER_BG( 16 , 16 );
12659                        		__ld.wi		16
         01:CEA3  A9 10      			lda.l	#16
         01:CEA5  C2         			cly
12660                        		__pusharg.wr
         01:CEA6  A6 8D      			ldx	<__sp
         01:CEA8  CA         			dex
         01:CEA9  CA         			dex
         01:CEAA  95 08      			sta.l	<__stack, x
         01:CEAC  94 09      			sty.h	<__stack, x
         01:CEAE  86 8D      			stx	<__sp
12661                        		__ld.wi		16
         01:CEB0  A9 10      			lda.l	#16
         01:CEB2  C2         			cly
12662                        		__pusharg.wr
         01:CEB3  A6 8D      			ldx	<__sp
         01:CEB5  CA         			dex
         01:CEB6  CA         			dex
         01:CEB7  95 08      			sta.l	<__stack, x
         01:CEB9  94 09      			sty.h	<__stack, x
         01:CEBB  86 8D      			stx	<__sp
12663                        		__call		_collision_PLAYER_BG
         01:CEBD  20 31 FF   			call	_collision_PLAYER_BG
12664                        	
12665                        		.dbg	line,	"include\routines_LEVELS.c", 2236; // IF PLAYER HITS THE LADDER //
12666                        	
12667                        		.dbg	line,	"include\routines_LEVELS.c", 2237; if(map_blk_flag == TILE_LADDER)
12668                        		__ld.umq	_map_blk_flag
         01:CEC0  AD 05 2C   			lda	_map_blk_flag
12669                        		__equ_b.uiq	2
         01:CEC3  C9 02      			cmp	#2
         01:CEC5  F0 01      			beq	!+
         01:CEC7  18         			clc
         01:CEC8             	!:
12670                        		__bfalse	.LL610
         01:CEC8  90 69      			bcc	.LL610
12671                        	
12672                        		.dbg	line,	"include\routines_LEVELS.c", 2238; {
12673                        	
12674                        		.dbg	line,	"include\routines_LEVELS.c", 2239; // CAMERA GOES 8 PX BACKWARD //
12675                        	
12676                        		.dbg	line,	"include\routines_LEVELS.c", 2240; sgx_map_pxl_x = ( (sgx_map_pxl_x >> 3) << 3 );
12677                        		__ld.wm		_sgx_map_pxl_x
         01:CECA  AD E4 26   			lda.l	_sgx_map_pxl_x
         01:CECD  AC E5 26   			ldy.h	_sgx_map_pxl_x
12678                        		__lsr.wi	3
         01:CED0  84 00      			sty	__temp
         01:CED2  20 3A E2   			jsr	lsrw3
12679                        		__asl.wi	3
         01:CED5  84 00      			sty	__temp
         01:CED7  20 D7 E1   			jsr	aslw3
12680                        		__st.wmq	_sgx_map_pxl_x
         01:CEDA  8D E4 26   			sta.l	_sgx_map_pxl_x
         01:CEDD  8C E5 26   			sty.h	_sgx_map_pxl_x
12681                        	
12682                        		.dbg	line,	"include\routines_LEVELS.c", 2242; // SO WE UPDATE THE MAP //
12683                        	
12684                        		.dbg	line,	"include\routines_LEVELS.c", 2243; sgx_scroll_map();
12685                        		__call		_sgx_scroll_map
         01:CEE0  20 63 FF   			call	_sgx_scroll_map
12686                        	
12687                        		.dbg	line,	"include\routines_LEVELS.c", 2245; // CHECK IF THE PLAYER STANDS RIGHT TO THE LADDER //
12688                        	
12689                        		.dbg	line,	"include\routines_LEVELS.c", 2246; collision_PLAYER_BG( 31 , 16 );
12690                        		__ld.wi		31
         01:CEE3  A9 1F      			lda.l	#31
         01:CEE5  C2         			cly
12691                        		__pusharg.wr
         01:CEE6  A6 8D      			ldx	<__sp
         01:CEE8  CA         			dex
         01:CEE9  CA         			dex
         01:CEEA  95 08      			sta.l	<__stack, x
         01:CEEC  94 09      			sty.h	<__stack, x
         01:CEEE  86 8D      			stx	<__sp
12692                        		__ld.wi		16
         01:CEF0  A9 10      			lda.l	#16
         01:CEF2  C2         			cly
12693                        		__pusharg.wr
         01:CEF3  A6 8D      			ldx	<__sp
         01:CEF5  CA         			dex
         01:CEF6  CA         			dex
         01:CEF7  95 08      			sta.l	<__stack, x
         01:CEF9  94 09      			sty.h	<__stack, x
         01:CEFB  86 8D      			stx	<__sp
12694                        		__call		_collision_PLAYER_BG
         01:CEFD  20 31 FF   			call	_collision_PLAYER_BG
12695                        	
12696                        		.dbg	line,	"include\routines_LEVELS.c", 2248; if(map_blk_flag == TILE_LADDER)
12697                        		__ld.umq	_map_blk_flag
         01:CF00  AD 05 2C   			lda	_map_blk_flag
12698                        		__equ_b.uiq	2
         01:CF03  C9 02      			cmp	#2
         01:CF05  F0 01      			beq	!+
         01:CF07  18         			clc
         01:CF08             	!:
12699                        		__bfalse	.LL611
         01:CF08  90 0E      			bcc	.LL611
12700                        	
12701                        		.dbg	line,	"include\routines_LEVELS.c", 2249; {
12702                        	
12703                        		.dbg	line,	"include\routines_LEVELS.c", 2250; sgx_map_pxl_x += 8;
12704                        		__add_st.wmiq	8, _sgx_map_pxl_x
         01:CF0A  18         			clc
         01:CF0B  AD E4 26   			lda.l	_sgx_map_pxl_x
         01:CF0E  69 08      			adc.l	#8
         01:CF10  8D E4 26   			sta.l	_sgx_map_pxl_x
         01:CF13  90 03      			bcc	!+
         01:CF15  EE E5 26   			inc.h	_sgx_map_pxl_x
         01:CF18             	!:
12705                        	
12706                        		.dbg	line,	"include\routines_LEVELS.c", 2251; }
12707                        	
12708                        		.dbg	line,	"include\routines_LEVELS.c", 2253; spr_pattern(PLAYER_HANG_VRAM_ADR);
12709    01:CF18             	.LL611:
12710                        		__ld.wi		8448
         01:CF18  62         			cla
         01:CF19  A0 21      			ldy.h	#8448
12711                        		__call		_spr_pattern.1
         01:CF1B  20 3A E8   			call	_spr_pattern.1
12712                        	
12713                        		.dbg	line,	"include\routines_LEVELS.c", 2254; player_counter_anim = 0;
12714                        		__st.umiq	0, _player_counter_anim
         01:CF1E  9C 1D 23   			stz	_player_counter_anim
12715                        	
12716                        		.dbg	line,	"include\routines_LEVELS.c", 2255; player_index_jump = 0;
12717                        		__st.umiq	0, _player_index_jump
         01:CF21  9C 1E 23   			stz	_player_index_jump
12718                        	
12719                        		.dbg	line,	"include\routines_LEVELS.c", 2256; jump_ladder = TRUE;
12720                        		__st.umiq	1, _jump_ladder
         01:CF24  A9 01      			lda.l	#1
         01:CF26  8D 23 23   			sta	_jump_ladder
12721                        	
12722                        		.dbg	line,	"include\routines_LEVELS.c", 2257; jump_max_index = 29;
12723                        		__st.umiq	29, _jump_max_index
         01:CF29  A9 1D      			lda.l	#29
         01:CF2B  8D 24 23   			sta	_jump_max_index
12724                        	
12725                        		.dbg	line,	"include\routines_LEVELS.c", 2258; player_state = STATE_HANG;
12726                        		__st.umiq	10, _player_state
         01:CF2E  A9 0A      			lda.l	#10
         01:CF30  8D 1A 23   			sta	_player_state
12727                        	
12728                        		.dbg	line,	"include\routines_LEVELS.c", 2259; }
12729                        	
12730                        		.dbg	line,	"include\routines_LEVELS.c", 2260; }
12731    01:CF33             	.LL610:
12732                        	
12733                        		.dbg	line,	"include\routines_LEVELS.c", 2263; // SET PLAYER SPRITE NEW POSITION //
12734                        	
12735                        		.dbg	line,	"include\routines_LEVELS.c", 2264; spr_y(player_pos_y);
12736    01:CF33             	.LL609:
12737                        		__ld.wm		_player_pos_y
         01:CF33  AD 03 25   			lda.l	_player_pos_y
         01:CF36  AC 04 25   			ldy.h	_player_pos_y
12738                        		__call		_spr_y.1
         01:CF39  20 2D E8   			call	_spr_y.1
12739                        	
12740                        		.dbg	line,	"include\routines_LEVELS.c", 2265; spr_set(weapon_id);
12741                        		__ld.umq	_weapon_id
         01:CF3C  AD 28 23   			lda	_weapon_id
12742                        		__call		_spr_set.1
         01:CF3F  20 F1 E7   			call	_spr_set.1
12743                        	
12744                        		.dbg	line,	"include\routines_LEVELS.c", 2266; spr_y(player_pos_y+8);
12745                        		__ld.wm		_player_pos_y
         01:CF42  AD 03 25   			lda.l	_player_pos_y
         01:CF45  AC 04 25   			ldy.h	_player_pos_y
12746                        		__add.wi	8
         01:CF48  18         			clc
         01:CF49  69 08      			adc.l	#8
         01:CF4B  90 01      			bcc	!+
         01:CF4D  C8         			iny
         01:CF4E             	!:
12747                        		__call		_spr_y.1
         01:CF4E  20 2D E8   			call	_spr_y.1
12748                        	
12749                        		.dbg	line,	"include\routines_LEVELS.c", 2267; }
12750                        	
12751                        		.dbg	line,	"include\routines_LEVELS.c", 2270; else if(player_state == STATE_JUMP_LEFT)
12752                        		__bra		.LL612
         01:CF51  4C 30 DA   			bra	.LL612
12753    01:CF54             	.LL576:
12754                        		__ld.umq	_player_state
         01:CF54  AD 1A 23   			lda	_player_state
12755                        		__equ_b.uiq	6
         01:CF57  C9 06      			cmp	#6
         01:CF59  F0 01      			beq	!+
         01:CF5B  18         			clc
         01:CF5C             	!:
12756                        		__bfalse	.LL613
         01:CF5C  B0 03 4C BD			bcc	.LL613
         01:CF60  D3          
12757                        	
12758                        		.dbg	line,	"include\routines_LEVELS.c", 2271; {
12759                        	
12760                        		.dbg	line,	"include\routines_LEVELS.c", 2272; unsigned char i, camera_y_move;
12761                        	
12762                        		.dbg	line,	"include\routines_LEVELS.c", 2273; i = 1;
12763                        		__st.umiq	1, __update_PLAYER_end - 4  /* i */
         01:CF61  A9 01      			lda.l	#1
         01:CF63  8D 09 23   			sta	__update_PLAYER_end - 4
12764                        	
12765                        		.dbg	line,	"include\routines_LEVELS.c", 2276; // UPDATE PLAYER TILES //
12766                        	
12767                        		.dbg	line,	"include\routines_LEVELS.c", 2277; if(player_counter_anim == 0)
12768                        		__not.um	_player_counter_anim
         01:CF66  AD 1D 23   			lda	_player_counter_anim
         01:CF69  18         			clc
         01:CF6A  D0 01      			bne	!+
         01:CF6C  38         			sec
         01:CF6D             	!:
12769                        		__bfalse	.LL614
         01:CF6D  90 11      			bcc	.LL614
12770                        	
12771                        		.dbg	line,	"include\routines_LEVELS.c", 2278; {
12772                        	
12773                        		.dbg	line,	"include\routines_LEVELS.c", 2279; spr_set(player_id);
12774                        		__ld.umq	_player_id
         01:CF6F  AD 19 23   			lda	_player_id
12775                        		__call		_spr_set.1
         01:CF72  20 F1 E7   			call	_spr_set.1
12776                        	
12777                        		.dbg	line,	"include\routines_LEVELS.c", 2280; spr_pattern(PLAYER_JUMP_VRAM_ADR);
12778                        		__ld.wi		7936
         01:CF75  62         			cla
         01:CF76  A0 1F      			ldy.h	#7936
12779                        		__call		_spr_pattern.1
         01:CF78  20 3A E8   			call	_spr_pattern.1
12780                        	
12781                        		.dbg	line,	"include\routines_LEVELS.c", 2282; player_counter_anim = 1;
12782                        		__st.umiq	1, _player_counter_anim
         01:CF7B  A9 01      			lda.l	#1
         01:CF7D  8D 1D 23   			sta	_player_counter_anim
12783                        	
12784                        		.dbg	line,	"include\routines_LEVELS.c", 2283; }
12785                        	
12786                        		.dbg	line,	"include\routines_LEVELS.c", 2286; // SELECT PLAYER SPRITE //
12787                        	
12788                        		.dbg	line,	"include\routines_LEVELS.c", 2287; spr_set(player_id);
12789    01:CF80             	.LL614:
12790                        		__ld.umq	_player_id
         01:CF80  AD 19 23   			lda	_player_id
12791                        		__call		_spr_set.1
         01:CF83  20 F1 E7   			call	_spr_set.1
12792                        	
12793                        		.dbg	line,	"include\routines_LEVELS.c", 2290; //**************************************************************************************//
12794                        	
12795                        		.dbg	line,	"include\routines_LEVELS.c", 2291; //                                        H MOVE                                        //
12796                        	
12797                        		.dbg	line,	"include\routines_LEVELS.c", 2292; //**************************************************************************************//
12798                        	
12799                        		.dbg	line,	"include\routines_LEVELS.c", 2294; //--------------------------------------------------------------------------------------//
12800                        	
12801                        		.dbg	line,	"include\routines_LEVELS.c", 2295; //                                    WALL COLLISION                                    //
12802                        	
12803                        		.dbg	line,	"include\routines_LEVELS.c", 2296; //--------------------------------------------------------------------------------------//
12804                        	
12805                        		.dbg	line,	"include\routines_LEVELS.c", 2298; // CHECK COLLISION WITH BOTTOM LEFT WALL //
12806                        	
12807                        		.dbg	line,	"include\routines_LEVELS.c", 2299; collision_PLAYER_BG( 8 , 31 );
12808                        		__ld.wi		8
         01:CF86  A9 08      			lda.l	#8
         01:CF88  C2         			cly
12809                        		__pusharg.wr
         01:CF89  A6 8D      			ldx	<__sp
         01:CF8B  CA         			dex
         01:CF8C  CA         			dex
         01:CF8D  95 08      			sta.l	<__stack, x
         01:CF8F  94 09      			sty.h	<__stack, x
         01:CF91  86 8D      			stx	<__sp
12810                        		__ld.wi		31
         01:CF93  A9 1F      			lda.l	#31
         01:CF95  C2         			cly
12811                        		__pusharg.wr
         01:CF96  A6 8D      			ldx	<__sp
         01:CF98  CA         			dex
         01:CF99  CA         			dex
         01:CF9A  95 08      			sta.l	<__stack, x
         01:CF9C  94 09      			sty.h	<__stack, x
         01:CF9E  86 8D      			stx	<__sp
12812                        		__call		_collision_PLAYER_BG
         01:CFA0  20 31 FF   			call	_collision_PLAYER_BG
12813                        	
12814                        		.dbg	line,	"include\routines_LEVELS.c", 2301; if(map_blk_flag != TILE_BG)
12815                        		__ld.umq	_map_blk_flag
         01:CFA3  AD 05 2C   			lda	_map_blk_flag
12816                        		__neq_b.uiq	1
         01:CFA6  38         			sec
         01:CFA7  49 01      			eor	#1
         01:CFA9  D0 01      			bne	!+
         01:CFAB  18         			clc
         01:CFAC             	!:
12817                        		__bfalse	.LL615
         01:CFAC  90 78      			bcc	.LL615
12818                        	
12819                        		.dbg	line,	"include\routines_LEVELS.c", 2302; {
12820                        	
12821                        		.dbg	line,	"include\routines_LEVELS.c", 2303; // CHECK COLLISION WITH TOP RIGHT WALL //
12822                        	
12823                        		.dbg	line,	"include\routines_LEVELS.c", 2304; collision_PLAYER_BG( 8 , 15 );
12824                        		__ld.wi		8
         01:CFAE  A9 08      			lda.l	#8
         01:CFB0  C2         			cly
12825                        		__pusharg.wr
         01:CFB1  A6 8D      			ldx	<__sp
         01:CFB3  CA         			dex
         01:CFB4  CA         			dex
         01:CFB5  95 08      			sta.l	<__stack, x
         01:CFB7  94 09      			sty.h	<__stack, x
         01:CFB9  86 8D      			stx	<__sp
12826                        		__ld.wi		15
         01:CFBB  A9 0F      			lda.l	#15
         01:CFBD  C2         			cly
12827                        		__pusharg.wr
         01:CFBE  A6 8D      			ldx	<__sp
         01:CFC0  CA         			dex
         01:CFC1  CA         			dex
         01:CFC2  95 08      			sta.l	<__stack, x
         01:CFC4  94 09      			sty.h	<__stack, x
         01:CFC6  86 8D      			stx	<__sp
12828                        		__call		_collision_PLAYER_BG
         01:CFC8  20 31 FF   			call	_collision_PLAYER_BG
12829                        	
12830                        		.dbg	line,	"include\routines_LEVELS.c", 2306; if(map_blk_flag == TILE_BG)
12831                        		__ld.umq	_map_blk_flag
         01:CFCB  AD 05 2C   			lda	_map_blk_flag
12832                        		__equ_b.uiq	1
         01:CFCE  C9 01      			cmp	#1
         01:CFD0  F0 01      			beq	!+
         01:CFD2  18         			clc
         01:CFD3             	!:
12833                        		__bfalse	.LL616
         01:CFD3  90 41      			bcc	.LL616
12834                        	
12835                        		.dbg	line,	"include\routines_LEVELS.c", 2307; {
12836                        	
12837                        		.dbg	line,	"include\routines_LEVELS.c", 2308; check_TILE_DEPTH( 15 , -16 );
12838                        		__ld.wi		15
         01:CFD5  A9 0F      			lda.l	#15
         01:CFD7  C2         			cly
12839                        		__pusharg.wr
         01:CFD8  A6 8D      			ldx	<__sp
         01:CFDA  CA         			dex
         01:CFDB  CA         			dex
         01:CFDC  95 08      			sta.l	<__stack, x
         01:CFDE  94 09      			sty.h	<__stack, x
         01:CFE0  86 8D      			stx	<__sp
12840                        		__ld.wi		-16
         01:CFE2  A9 F0      			lda.l	#-16
         01:CFE4  A0 FF      			ldy.h	#-16
12841                        		__pusharg.wr
         01:CFE6  A6 8D      			ldx	<__sp
         01:CFE8  CA         			dex
         01:CFE9  CA         			dex
         01:CFEA  95 08      			sta.l	<__stack, x
         01:CFEC  94 09      			sty.h	<__stack, x
         01:CFEE  86 8D      			stx	<__sp
12842                        		__call		_check_TILE_DEPTH
         01:CFF0  20 1D FF   			call	_check_TILE_DEPTH
12843                        	
12844                        		.dbg	line,	"include\routines_LEVELS.c", 2310; if(map_blk_flag == TILE_EMPTY && jump_ladder == TRUE)
12845                        		__not.um	_map_blk_flag
         01:CFF3  AD 05 2C   			lda	_map_blk_flag
         01:CFF6  18         			clc
         01:CFF7  D0 01      			bne	!+
         01:CFF9  38         			sec
         01:CFFA             	!:
12846                        		__bfalse	.LL618
         01:CFFA  90 08      			bcc	.LL618
12847                        		__ld.umq	_jump_ladder
         01:CFFC  AD 23 23   			lda	_jump_ladder
12848                        		__equ_b.uiq	1
         01:CFFF  C9 01      			cmp	#1
         01:D001  F0 01      			beq	!+
         01:D003  18         			clc
         01:D004             	!:
12849    01:D004             	.LL618:
12850                        		__bfalse	.LL617
         01:D004  90 64      			bcc	.LL617
12851                        	
12852                        		.dbg	line,	"include\routines_LEVELS.c", 2311; {
12853                        	
12854                        		.dbg	line,	"include\routines_LEVELS.c", 2312; jump_ladder = FALSE;
12855                        		__st.umiq	0, _jump_ladder
         01:D006  9C 23 23   			stz	_jump_ladder
12856                        	
12857                        		.dbg	line,	"include\routines_LEVELS.c", 2313; player_index_fall = 0;
12858                        		__st.umiq	0, _player_index_fall
         01:D009  9C 1F 23   			stz	_player_index_fall
12859                        	
12860                        		.dbg	line,	"include\routines_LEVELS.c", 2314; player_state = STATE_FALL;
12861                        		__st.umiq	9, _player_state
         01:D00C  A9 09      			lda.l	#9
         01:D00E  8D 1A 23   			sta	_player_state
12862                        	
12863                        		.dbg	line,	"include\routines_LEVELS.c", 2315; return;
12864                        		__bra		.LL496
         01:D011  4C 30 DA   			bra	.LL496
12865                        	
12866                        		.dbg	line,	"include\routines_LEVELS.c", 2316; }
12867                        	
12868                        		.dbg	line,	"include\routines_LEVELS.c", 2317; }
12869    01:D014             	.LL617	.alias		.LL619
12870                        	
12871                        		.dbg	line,	"include\routines_LEVELS.c", 2319; else
12872                        		__bra		.LL619
         01:D014  80 54      			bra	.LL619
12873    01:D016             	.LL616:
12874                        	
12875                        		.dbg	line,	"include\routines_LEVELS.c", 2320; {
12876                        	
12877                        		.dbg	line,	"include\routines_LEVELS.c", 2321; sgx_map_pxl_x -= 2;
12878                        		__sub_st.wmiq	2, _sgx_map_pxl_x
         01:D016  38         			sec
         01:D017  AD E4 26   			lda.l	_sgx_map_pxl_x
         01:D01A  E9 02      			sbc.l	#2
         01:D01C  8D E4 26   			sta.l	_sgx_map_pxl_x
         01:D01F  B0 03      			bcs	!+
         01:D021  CE E5 26   			dec.h	_sgx_map_pxl_x
         01:D024             	!:
12879                        	
12880                        		.dbg	line,	"include\routines_LEVELS.c", 2322; }
12881    01:D024             	.LL619	.alias		.LL620
12882                        	
12883                        		.dbg	line,	"include\routines_LEVELS.c", 2323; }
12884                        	
12885                        		.dbg	line,	"include\routines_LEVELS.c", 2325; else
12886                        		__bra		.LL620
         01:D024  80 44      			bra	.LL620
12887    01:D026             	.LL615:
12888                        	
12889                        		.dbg	line,	"include\routines_LEVELS.c", 2326; {
12890                        	
12891                        		.dbg	line,	"include\routines_LEVELS.c", 2327; check_TILE_DEPTH( 15 , -16 );
12892                        		__ld.wi		15
         01:D026  A9 0F      			lda.l	#15
         01:D028  C2         			cly
12893                        		__pusharg.wr
         01:D029  A6 8D      			ldx	<__sp
         01:D02B  CA         			dex
         01:D02C  CA         			dex
         01:D02D  95 08      			sta.l	<__stack, x
         01:D02F  94 09      			sty.h	<__stack, x
         01:D031  86 8D      			stx	<__sp
12894                        		__ld.wi		-16
         01:D033  A9 F0      			lda.l	#-16
         01:D035  A0 FF      			ldy.h	#-16
12895                        		__pusharg.wr
         01:D037  A6 8D      			ldx	<__sp
         01:D039  CA         			dex
         01:D03A  CA         			dex
         01:D03B  95 08      			sta.l	<__stack, x
         01:D03D  94 09      			sty.h	<__stack, x
         01:D03F  86 8D      			stx	<__sp
12896                        		__call		_check_TILE_DEPTH
         01:D041  20 1D FF   			call	_check_TILE_DEPTH
12897                        	
12898                        		.dbg	line,	"include\routines_LEVELS.c", 2329; if(map_blk_flag == TILE_EMPTY && jump_ladder == TRUE)
12899                        		__not.um	_map_blk_flag
         01:D044  AD 05 2C   			lda	_map_blk_flag
         01:D047  18         			clc
         01:D048  D0 01      			bne	!+
         01:D04A  38         			sec
         01:D04B             	!:
12900                        		__bfalse	.LL622
         01:D04B  90 08      			bcc	.LL622
12901                        		__ld.umq	_jump_ladder
         01:D04D  AD 23 23   			lda	_jump_ladder
12902                        		__equ_b.uiq	1
         01:D050  C9 01      			cmp	#1
         01:D052  F0 01      			beq	!+
         01:D054  18         			clc
         01:D055             	!:
12903    01:D055             	.LL622:
12904                        		__bfalse	.LL621
         01:D055  90 13      			bcc	.LL621
12905                        	
12906                        		.dbg	line,	"include\routines_LEVELS.c", 2330; {
12907                        	
12908                        		.dbg	line,	"include\routines_LEVELS.c", 2331; jump_ladder = FALSE;
12909                        		__st.umiq	0, _jump_ladder
         01:D057  9C 23 23   			stz	_jump_ladder
12910                        	
12911                        		.dbg	line,	"include\routines_LEVELS.c", 2332; hit_wall = TRUE;
12912                        		__st.umiq	1, _hit_wall
         01:D05A  A9 01      			lda.l	#1
         01:D05C  8D 26 23   			sta	_hit_wall
12913                        	
12914                        		.dbg	line,	"include\routines_LEVELS.c", 2333; player_index_fall = 0;
12915                        		__st.umiq	0, _player_index_fall
         01:D05F  9C 1F 23   			stz	_player_index_fall
12916                        	
12917                        		.dbg	line,	"include\routines_LEVELS.c", 2334; player_state = STATE_FALL;
12918                        		__st.umiq	9, _player_state
         01:D062  A9 09      			lda.l	#9
         01:D064  8D 1A 23   			sta	_player_state
12919                        	
12920                        		.dbg	line,	"include\routines_LEVELS.c", 2335; return;
12921                        		__bra		.LL496
         01:D067  4C 30 DA   			bra	.LL496
12922                        	
12923                        		.dbg	line,	"include\routines_LEVELS.c", 2336; }
12924                        	
12925                        		.dbg	line,	"include\routines_LEVELS.c", 2337; }
12926    01:D06A             	.LL621:
12927    01:D06A             	.LL620:
12928                        	
12929                        		.dbg	line,	"include\routines_LEVELS.c", 2342; //**************************************************************************************//
12930                        	
12931                        		.dbg	line,	"include\routines_LEVELS.c", 2343; //                                        V MOVE                                        //
12932                        	
12933                        		.dbg	line,	"include\routines_LEVELS.c", 2344; //**************************************************************************************//
12934                        	
12935                        		.dbg	line,	"include\routines_LEVELS.c", 2346; // UPDATE PLAYER Y POSITION //
12936                        	
12937                        		.dbg	line,	"include\routines_LEVELS.c", 2347; if(jump_ladder == FALSE)
12938                        		__not.um	_jump_ladder
         01:D06A  AD 23 23   			lda	_jump_ladder
         01:D06D  18         			clc
         01:D06E  D0 01      			bne	!+
         01:D070  38         			sec
         01:D071             	!:
12939                        		__bfalse	.LL623
         01:D071  90 1A      			bcc	.LL623
12940                        	
12941                        		.dbg	line,	"include\routines_LEVELS.c", 2348; {
12942                        	
12943                        		.dbg	line,	"include\routines_LEVELS.c", 2349; player_pos_y += TABLE_PLAYER_JUMP_V[player_index_jump];
12944                        		__ldx.umq	_player_index_jump
         01:D073  AE 1E 23   			ldx	_player_index_jump
12945                        		__ld.bax	_TABLE_PLAYER_JUMP_V
         01:D076  BD 8B 62   			lda	_TABLE_PLAYER_JUMP_V, x
         01:D079  C2         			cly
         01:D07A  10 01      			bpl	!+
         01:D07C  88         			dey
         01:D07D             	!:
12946                        		__add_st.wmq	_player_pos_y
         01:D07D  18         			clc
         01:D07E  6D 03 25   			adc.l	_player_pos_y
         01:D081  8D 03 25   			sta.l	_player_pos_y
         01:D084  98         			tya
         01:D085  6D 04 25   			adc.h	_player_pos_y
         01:D088  8D 04 25   			sta.h	_player_pos_y
12947                        	
12948                        		.dbg	line,	"include\routines_LEVELS.c", 2350; }
12949                        	
12950                        		.dbg	line,	"include\routines_LEVELS.c", 2352; else
12951                        		__bra		.LL624
         01:D08B  80 18      			bra	.LL624
12952    01:D08D             	.LL623:
12953                        	
12954                        		.dbg	line,	"include\routines_LEVELS.c", 2353; {
12955                        	
12956                        		.dbg	line,	"include\routines_LEVELS.c", 2354; player_pos_y += TABLE_PLAYER_JUMP_LADDER[player_index_jump];
12957                        		__ldx.umq	_player_index_jump
         01:D08D  AE 1E 23   			ldx	_player_index_jump
12958                        		__ld.bax	_TABLE_PLAYER_JUMP_LADDER
         01:D090  BD C3 62   			lda	_TABLE_PLAYER_JUMP_LADDER, x
         01:D093  C2         			cly
         01:D094  10 01      			bpl	!+
         01:D096  88         			dey
         01:D097             	!:
12959                        		__add_st.wmq	_player_pos_y
         01:D097  18         			clc
         01:D098  6D 03 25   			adc.l	_player_pos_y
         01:D09B  8D 03 25   			sta.l	_player_pos_y
         01:D09E  98         			tya
         01:D09F  6D 04 25   			adc.h	_player_pos_y
         01:D0A2  8D 04 25   			sta.h	_player_pos_y
12960                        	
12961                        		.dbg	line,	"include\routines_LEVELS.c", 2355; }
12962    01:D0A5             	.LL624:
12963                        	
12964                        		.dbg	line,	"include\routines_LEVELS.c", 2358; // IF PLAYER GOES BELOW ITS BASE Y POSITION //
12965                        	
12966                        		.dbg	line,	"include\routines_LEVELS.c", 2359; if(player_pos_y >= PLAYER_BASE_Y_POS)
12967                        		__ld.wm		_player_pos_y
         01:D0A5  AD 03 25   			lda.l	_player_pos_y
         01:D0A8  AC 04 25   			ldy.h	_player_pos_y
12968                        		__sge_w.wi	128
         01:D0AB  C9 80      			cmp.l	#128		; Subtract integer from Y:A.
         01:D0AD  98         			tya
         01:D0AE  E9 00      			sbc.h	#128
         01:D0B0  50 02      			bvc	!+
         01:D0B2  49 80      			eor	#$80		; +ve if Y:A >= integer (signed).
         01:D0B4  49 80      	!:		eor	#$80
         01:D0B6  0A         			asl	a
12969                        		__bfalse	.LL625
         01:D0B7  90 4E      			bcc	.LL625
12970                        	
12971                        		.dbg	line,	"include\routines_LEVELS.c", 2360; {
12972                        	
12973                        		.dbg	line,	"include\routines_LEVELS.c", 2361; // THE CAMERA MOVES //
12974                        	
12975                        		.dbg	line,	"include\routines_LEVELS.c", 2362; // CALCULATE HOW MANY PIXELS THE CAMERA HAS TO MOVE DOWN //
12976                        	
12977                        		.dbg	line,	"include\routines_LEVELS.c", 2363; camera_y_move = player_pos_y - PLAYER_BASE_Y_POS;
12978                        		__ld.wm		_player_pos_y
         01:D0B9  AD 03 25   			lda.l	_player_pos_y
         01:D0BC  AC 04 25   			ldy.h	_player_pos_y
12979                        		__sub.wi	128
         01:D0BF  38         			sec
         01:D0C0  E9 80      			sbc.l	#128
         01:D0C2  B0 01      			bcs	!+
         01:D0C4  88         			dey
         01:D0C5             	!:
12980                        		__st.umq	__update_PLAYER_end - 5  /* camera_y_move */
         01:D0C5  8D 08 23   			sta	__update_PLAYER_end - 5
12981                        	
12982                        		.dbg	line,	"include\routines_LEVELS.c", 2364; sgx_map_pxl_y += camera_y_move;
12983                        		__ld.um		__update_PLAYER_end - 5  /* camera_y_move */
         01:D0C8  AD 08 23   			lda	__update_PLAYER_end - 5
         01:D0CB  C2         			cly
12984                        		__add_st.wmq	_sgx_map_pxl_y
         01:D0CC  18         			clc
         01:D0CD  6D E6 26   			adc.l	_sgx_map_pxl_y
         01:D0D0  8D E6 26   			sta.l	_sgx_map_pxl_y
         01:D0D3  98         			tya
         01:D0D4  6D E7 26   			adc.h	_sgx_map_pxl_y
         01:D0D7  8D E7 26   			sta.h	_sgx_map_pxl_y
12985                        	
12986                        		.dbg	line,	"include\routines_LEVELS.c", 2366; // IF THE CAMERA HAS REACHED ITS MAX (LOWEST) POSITION //
12987                        	
12988                        		.dbg	line,	"include\routines_LEVELS.c", 2367; if(sgx_map_pxl_y > camera_max_y_position)
12989                        		__ld.wm		_sgx_map_pxl_y
         01:D0DA  AD E6 26   			lda.l	_sgx_map_pxl_y
         01:D0DD  AC E7 26   			ldy.h	_sgx_map_pxl_y
12990                        		__ugt_w.wm	_camera_max_y_position
         01:D0E0  18         			clc			; Subtract memory+1 from Y:A.
         01:D0E1  ED 05 25   			sbc.l	_camera_max_y_position
         01:D0E4  98         			tya
         01:D0E5  ED 06 25   			sbc.h	_camera_max_y_position		; CS if Y:A > memory.
12991                        		__bfalse	.LL626
         01:D0E8  90 0C      			bcc	.LL626
12992                        	
12993                        		.dbg	line,	"include\routines_LEVELS.c", 2368; {
12994                        	
12995                        		.dbg	line,	"include\routines_LEVELS.c", 2369; // THE CAMERA CAN NOT MOVE LOWER //
12996                        	
12997                        		.dbg	line,	"include\routines_LEVELS.c", 2370; sgx_map_pxl_y = camera_max_y_position;
12998                        		__ld.wm		_camera_max_y_position
         01:D0EA  AD 05 25   			lda.l	_camera_max_y_position
         01:D0ED  AC 06 25   			ldy.h	_camera_max_y_position
12999                        		__st.wmq	_sgx_map_pxl_y
         01:D0F0  8D E6 26   			sta.l	_sgx_map_pxl_y
         01:D0F3  8C E7 26   			sty.h	_sgx_map_pxl_y
13000                        	
13001                        		.dbg	line,	"include\routines_LEVELS.c", 2371; }
13002                        	
13003                        		.dbg	line,	"include\routines_LEVELS.c", 2373; // THE PLAYER STAYS AT ITS BASE Y POSITION //
13004                        	
13005                        		.dbg	line,	"include\routines_LEVELS.c", 2374; player_pos_y = PLAYER_BASE_Y_POS;
13006    01:D0F6             	.LL626:
13007                        		__st.wmiq	128, _player_pos_y
         01:D0F6  A9 80      			lda.l	#128
         01:D0F8  8D 03 25   			sta.l	_player_pos_y
         01:D0FB  9C 04 25   			stz.h	_player_pos_y
13008                        	
13009                        		.dbg	line,	"include\routines_LEVELS.c", 2376; spr_y(player_pos_y);
13010                        		__ld.wm		_player_pos_y
         01:D0FE  AD 03 25   			lda.l	_player_pos_y
         01:D101  AC 04 25   			ldy.h	_player_pos_y
13011                        		__call		_spr_y.1
         01:D104  20 2D E8   			call	_spr_y.1
13012                        	
13013                        		.dbg	line,	"include\routines_LEVELS.c", 2377; }
13014                        	
13015                        		.dbg	line,	"include\routines_LEVELS.c", 2380; // UPDATE JUMP INDEX IN THE ARRAY //
13016                        	
13017                        		.dbg	line,	"include\routines_LEVELS.c", 2381; if(player_index_jump < jump_max_index)
13018    01:D107             	.LL625:
13019                        		__ld.umq	_player_index_jump
         01:D107  AD 1E 23   			lda	_player_index_jump
13020                        		__ult_b.umq	_jump_max_index
         01:D10A  CD 24 23   			cmp	_jump_max_index		; Subtract memory from A.
         01:D10D  6A         			ror	a		; CC if A < memory.
         01:D10E  49 80      			eor	#$80
         01:D110  2A         			rol	a
13021                        		__bfalse	.LL627
         01:D111  90 03      			bcc	.LL627
13022                        	
13023                        		.dbg	line,	"include\routines_LEVELS.c", 2382; {
13024                        	
13025                        		.dbg	line,	"include\routines_LEVELS.c", 2383; player_index_jump += 1;
13026                        		__add_st.umiq	1, _player_index_jump
         01:D113  EE 1E 23   			inc	_player_index_jump
13027                        	
13028                        		.dbg	line,	"include\routines_LEVELS.c", 2384; }
13029                        	
13030                        		.dbg	line,	"include\routines_LEVELS.c", 2389; //--------------------------------------------------------------------------------------//
13031                        	
13032                        		.dbg	line,	"include\routines_LEVELS.c", 2390; //                                   FLOOR COLLISION                                    //
13033                        	
13034                        		.dbg	line,	"include\routines_LEVELS.c", 2391; //--------------------------------------------------------------------------------------//
13035                        	
13036                        		.dbg	line,	"include\routines_LEVELS.c", 2393; if(player_index_jump > 14)
13037    01:D116             	.LL627:
13038                        		__ld.umq	_player_index_jump
         01:D116  AD 1E 23   			lda	_player_index_jump
13039                        		__ugt_b.uiq	14
         01:D119  18         			clc			; Subtract integer+1 from A.
         01:D11A  E9 0E      			sbc	#14		; CS if A > integer.
13040                        		__bfalse	.LL628
         01:D11C  B0 03 4C 01			bcc	.LL628
         01:D120  D3          
13041                        	
13042                        		.dbg	line,	"include\routines_LEVELS.c", 2394; {
13043                        	
13044                        		.dbg	line,	"include\routines_LEVELS.c", 2395; // CHECK COLLISION WITH LEFT FLOOR //
13045                        	
13046                        		.dbg	line,	"include\routines_LEVELS.c", 2396; collision_PLAYER_BG( 10 , 32 );
13047                        		__ld.wi		10
         01:D121  A9 0A      			lda.l	#10
         01:D123  C2         			cly
13048                        		__pusharg.wr
         01:D124  A6 8D      			ldx	<__sp
         01:D126  CA         			dex
         01:D127  CA         			dex
         01:D128  95 08      			sta.l	<__stack, x
         01:D12A  94 09      			sty.h	<__stack, x
         01:D12C  86 8D      			stx	<__sp
13049                        		__ld.wi		32
         01:D12E  A9 20      			lda.l	#32
         01:D130  C2         			cly
13050                        		__pusharg.wr
         01:D131  A6 8D      			ldx	<__sp
         01:D133  CA         			dex
         01:D134  CA         			dex
         01:D135  95 08      			sta.l	<__stack, x
         01:D137  94 09      			sty.h	<__stack, x
         01:D139  86 8D      			stx	<__sp
13051                        		__call		_collision_PLAYER_BG
         01:D13B  20 31 FF   			call	_collision_PLAYER_BG
13052                        	
13053                        		.dbg	line,	"include\routines_LEVELS.c", 2398; if(map_blk_flag == TILE_BG)
13054                        		__ld.umq	_map_blk_flag
         01:D13E  AD 05 2C   			lda	_map_blk_flag
13055                        		__equ_b.uiq	1
         01:D141  C9 01      			cmp	#1
         01:D143  F0 01      			beq	!+
         01:D145  18         			clc
         01:D146             	!:
13056                        		__bfalse	.LL629
         01:D146  B0 03 4C 11			bcc	.LL629
         01:D14A  D2          
13057                        	
13058                        		.dbg	line,	"include\routines_LEVELS.c", 2399; {
13059                        	
13060                        		.dbg	line,	"include\routines_LEVELS.c", 2400; // CALCULATE HOW MANY PIXELS THE PLAYER MOVED INTO THE GROUND //
13061                        	
13062                        		.dbg	line,	"include\routines_LEVELS.c", 2401; for(i=1; i<11 ; i++)
13063                        		__st.umiq	1, __update_PLAYER_end - 4  /* i */
         01:D14B  A9 01      			lda.l	#1
         01:D14D  8D 09 23   			sta	__update_PLAYER_end - 4
13064    01:D150             	.LL630:
13065                        		__ld.umq	__update_PLAYER_end - 4  /* i */
         01:D150  AD 09 23   			lda	__update_PLAYER_end - 4
13066                        		__ult_b.uiq	11
         01:D153  C9 0B      			cmp	#11		; Subtract integer from A.
         01:D155  6A         			ror	a		; CC if A < integer.
         01:D156  49 80      			eor	#$80
         01:D158  2A         			rol	a
13067                        		__btrue		.LL632
         01:D159  B0 07      			bcs	.LL632
13068                        		__bra		.LL633
         01:D15B  80 7D      			bra	.LL633
13069    01:D15D             	.LL631:
13070                        		__inc.umq	__update_PLAYER_end - 4  /* i */
         01:D15D  EE 09 23   			inc	__update_PLAYER_end - 4
13071                        		__bra		.LL630
         01:D160  80 EE      			bra	.LL630
13072    01:D162             	.LL632:
13073                        	
13074                        		.dbg	line,	"include\routines_LEVELS.c", 2402; {
13075                        	
13076                        		.dbg	line,	"include\routines_LEVELS.c", 2403; check_TILE_DEPTH( 10 , i);
13077                        		__ld.wi		10
         01:D162  A9 0A      			lda.l	#10
         01:D164  C2         			cly
13078                        		__pusharg.wr
         01:D165  A6 8D      			ldx	<__sp
         01:D167  CA         			dex
         01:D168  CA         			dex
         01:D169  95 08      			sta.l	<__stack, x
         01:D16B  94 09      			sty.h	<__stack, x
         01:D16D  86 8D      			stx	<__sp
13079                        		__ld.um		__update_PLAYER_end - 4  /* i */
         01:D16F  AD 09 23   			lda	__update_PLAYER_end - 4
         01:D172  C2         			cly
13080                        		__pusharg.wr
         01:D173  A6 8D      			ldx	<__sp
         01:D175  CA         			dex
         01:D176  CA         			dex
         01:D177  95 08      			sta.l	<__stack, x
         01:D179  94 09      			sty.h	<__stack, x
         01:D17B  86 8D      			stx	<__sp
13081                        		__call		_check_TILE_DEPTH
         01:D17D  20 1D FF   			call	_check_TILE_DEPTH
13082                        	
13083                        		.dbg	line,	"include\routines_LEVELS.c", 2405; if(map_blk_flag == TILE_EMPTY)
13084                        		__not.um	_map_blk_flag
         01:D180  AD 05 2C   			lda	_map_blk_flag
         01:D183  18         			clc
         01:D184  D0 01      			bne	!+
         01:D186  38         			sec
         01:D187             	!:
13085                        		__bfalse	.LL634
         01:D187  90 D4      			bcc	.LL634
13086                        	
13087                        		.dbg	line,	"include\routines_LEVELS.c", 2406; {
13088                        	
13089                        		.dbg	line,	"include\routines_LEVELS.c", 2407; if(player_pos_y != PLAYER_BASE_Y_POS)
13090                        		__ld.wm		_player_pos_y
         01:D189  AD 03 25   			lda.l	_player_pos_y
         01:D18C  AC 04 25   			ldy.h	_player_pos_y
13091                        		__neq_w.wi	128
         01:D18F  38         			sec
         01:D190  49 80      			eor.l	#128
         01:D192  D0 06      			bne	!+
         01:D194  98         			tya
         01:D195  49 00      			eor.h	#128
         01:D197  D0 01      			bne	!+
         01:D199  18         			clc
         01:D19A             	!:
13092                        		__bfalse	.LL635
         01:D19A  90 1E      			bcc	.LL635
13093                        	
13094                        		.dbg	line,	"include\routines_LEVELS.c", 2408; {
13095                        	
13096                        		.dbg	line,	"include\routines_LEVELS.c", 2409; player_pos_y -= (i - 1);
13097                        		__ld.um		__update_PLAYER_end - 4  /* i */
         01:D19C  AD 09 23   			lda	__update_PLAYER_end - 4
         01:D19F  C2         			cly
13098                        		__sub.wi	1
         01:D1A0  38         			sec
         01:D1A1  E9 01      			sbc.l	#1
         01:D1A3  B0 01      			bcs	!+
         01:D1A5  88         			dey
         01:D1A6             	!:
13099                        		__isub_st.wmq	_player_pos_y
         01:D1A6  38         			sec
         01:D1A7  49 FF      			eor	#$FF
         01:D1A9  6D 03 25   			adc.l	_player_pos_y
         01:D1AC  8D 03 25   			sta.l	_player_pos_y
         01:D1AF  98         			tya
         01:D1B0  49 FF      			eor	#$FF
         01:D1B2  6D 04 25   			adc.h	_player_pos_y
         01:D1B5  8D 04 25   			sta.h	_player_pos_y
13100                        	
13101                        		.dbg	line,	"include\routines_LEVELS.c", 2410; }
13102                        	
13103                        		.dbg	line,	"include\routines_LEVELS.c", 2412; else
13104                        		__bra		.LL636
         01:D1B8  80 20      			bra	.LL636
13105    01:D1BA             	.LL635:
13106                        	
13107                        		.dbg	line,	"include\routines_LEVELS.c", 2413; {
13108                        	
13109                        		.dbg	line,	"include\routines_LEVELS.c", 2414; sgx_map_pxl_y -= (i - 1);
13110                        		__ld.um		__update_PLAYER_end - 4  /* i */
         01:D1BA  AD 09 23   			lda	__update_PLAYER_end - 4
         01:D1BD  C2         			cly
13111                        		__sub.wi	1
         01:D1BE  38         			sec
         01:D1BF  E9 01      			sbc.l	#1
         01:D1C1  B0 01      			bcs	!+
         01:D1C3  88         			dey
         01:D1C4             	!:
13112                        		__isub_st.wmq	_sgx_map_pxl_y
         01:D1C4  38         			sec
         01:D1C5  49 FF      			eor	#$FF
         01:D1C7  6D E6 26   			adc.l	_sgx_map_pxl_y
         01:D1CA  8D E6 26   			sta.l	_sgx_map_pxl_y
         01:D1CD  98         			tya
         01:D1CE  49 FF      			eor	#$FF
         01:D1D0  6D E7 26   			adc.h	_sgx_map_pxl_y
         01:D1D3  8D E7 26   			sta.h	_sgx_map_pxl_y
13113                        	
13114                        		.dbg	line,	"include\routines_LEVELS.c", 2415; }
13115    01:D1D6             	.LL636	.alias		.LL633
13116                        	
13117                        		.dbg	line,	"include\routines_LEVELS.c", 2417; break;
13118                        		__bra		.LL633
         01:D1D6  80 02      			bra	.LL633
13119                        	
13120                        		.dbg	line,	"include\routines_LEVELS.c", 2418; }
13121                        	
13122                        		.dbg	line,	"include\routines_LEVELS.c", 2419; }
13123    01:D1D8             	.LL634	.alias		.LL631
13124                        		__bra		.LL631
         01:D1D8  80 83      			bra	.LL631
13125    01:D1DA             	.LL633:
13126                        	
13127                        		.dbg	line,	"include\routines_LEVELS.c", 2421; // SET PLAYER SPRITE NEW POSITION //
13128                        	
13129                        		.dbg	line,	"include\routines_LEVELS.c", 2422; spr_y(player_pos_y);
13130                        		__ld.wm		_player_pos_y
         01:D1DA  AD 03 25   			lda.l	_player_pos_y
         01:D1DD  AC 04 25   			ldy.h	_player_pos_y
13131                        		__call		_spr_y.1
         01:D1E0  20 2D E8   			call	_spr_y.1
13132                        	
13133                        		.dbg	line,	"include\routines_LEVELS.c", 2424; spr_set(weapon_id);
13134                        		__ld.umq	_weapon_id
         01:D1E3  AD 28 23   			lda	_weapon_id
13135                        		__call		_spr_set.1
         01:D1E6  20 F1 E7   			call	_spr_set.1
13136                        	
13137                        		.dbg	line,	"include\routines_LEVELS.c", 2425; spr_y(player_pos_y+8);
13138                        		__ld.wm		_player_pos_y
         01:D1E9  AD 03 25   			lda.l	_player_pos_y
         01:D1EC  AC 04 25   			ldy.h	_player_pos_y
13139                        		__add.wi	8
         01:D1EF  18         			clc
         01:D1F0  69 08      			adc.l	#8
         01:D1F2  90 01      			bcc	!+
         01:D1F4  C8         			iny
         01:D1F5             	!:
13140                        		__call		_spr_y.1
         01:D1F5  20 2D E8   			call	_spr_y.1
13141                        	
13142                        		.dbg	line,	"include\routines_LEVELS.c", 2427; player_counter_anim = 1;
13143                        		__st.umiq	1, _player_counter_anim
         01:D1F8  A9 01      			lda.l	#1
         01:D1FA  8D 1D 23   			sta	_player_counter_anim
13144                        	
13145                        		.dbg	line,	"include\routines_LEVELS.c", 2428; player_index_jump = 0;
13146                        		__st.umiq	0, _player_index_jump
         01:D1FD  9C 1E 23   			stz	_player_index_jump
13147                        	
13148                        		.dbg	line,	"include\routines_LEVELS.c", 2429; jump_ladder = FALSE;
13149                        		__st.umiq	0, _jump_ladder
         01:D200  9C 23 23   			stz	_jump_ladder
13150                        	
13151                        		.dbg	line,	"include\routines_LEVELS.c", 2430; hit_wall = FALSE;
13152                        		__st.umiq	0, _hit_wall
         01:D203  9C 26 23   			stz	_hit_wall
13153                        	
13154                        		.dbg	line,	"include\routines_LEVELS.c", 2431; jump_max_index = 34;
13155                        		__st.umiq	34, _jump_max_index
         01:D206  A9 22      			lda.l	#34
         01:D208  8D 24 23   			sta	_jump_max_index
13156                        	
13157                        		.dbg	line,	"include\routines_LEVELS.c", 2432; player_state = STATE_IDLE;
13158                        		__st.umiq	0, _player_state
         01:D20B  9C 1A 23   			stz	_player_state
13159                        	
13160                        		.dbg	line,	"include\routines_LEVELS.c", 2433; return;
13161                        		__bra		.LL496
         01:D20E  4C 30 DA   			bra	.LL496
13162                        	
13163                        		.dbg	line,	"include\routines_LEVELS.c", 2434; }
13164                        	
13165                        		.dbg	line,	"include\routines_LEVELS.c", 2436; else
13166    01:D211             	.LL629:
13167                        	
13168                        		.dbg	line,	"include\routines_LEVELS.c", 2437; {
13169                        	
13170                        		.dbg	line,	"include\routines_LEVELS.c", 2438; // CHECK COLLISION WITH RIGHT FLOOR //
13171                        	
13172                        		.dbg	line,	"include\routines_LEVELS.c", 2439; collision_PLAYER_BG( 22 , 32 );
13173                        		__ld.wi		22
         01:D211  A9 16      			lda.l	#22
         01:D213  C2         			cly
13174                        		__pusharg.wr
         01:D214  A6 8D      			ldx	<__sp
         01:D216  CA         			dex
         01:D217  CA         			dex
         01:D218  95 08      			sta.l	<__stack, x
         01:D21A  94 09      			sty.h	<__stack, x
         01:D21C  86 8D      			stx	<__sp
13175                        		__ld.wi		32
         01:D21E  A9 20      			lda.l	#32
         01:D220  C2         			cly
13176                        		__pusharg.wr
         01:D221  A6 8D      			ldx	<__sp
         01:D223  CA         			dex
         01:D224  CA         			dex
         01:D225  95 08      			sta.l	<__stack, x
         01:D227  94 09      			sty.h	<__stack, x
         01:D229  86 8D      			stx	<__sp
13177                        		__call		_collision_PLAYER_BG
         01:D22B  20 31 FF   			call	_collision_PLAYER_BG
13178                        	
13179                        		.dbg	line,	"include\routines_LEVELS.c", 2441; if(map_blk_flag == TILE_BG)
13180                        		__ld.umq	_map_blk_flag
         01:D22E  AD 05 2C   			lda	_map_blk_flag
13181                        		__equ_b.uiq	1
         01:D231  C9 01      			cmp	#1
         01:D233  F0 01      			beq	!+
         01:D235  18         			clc
         01:D236             	!:
13182                        		__bfalse	.LL638
         01:D236  B0 03 4C 01			bcc	.LL638
         01:D23A  D3          
13183                        	
13184                        		.dbg	line,	"include\routines_LEVELS.c", 2442; {
13185                        	
13186                        		.dbg	line,	"include\routines_LEVELS.c", 2443; // CALCULATE HOW MANY PIXELS THE PLAYER MOVED INTO THE GROUND //
13187                        	
13188                        		.dbg	line,	"include\routines_LEVELS.c", 2444; for(i=1; i<11 ; i++)
13189                        		__st.umiq	1, __update_PLAYER_end - 4  /* i */
         01:D23B  A9 01      			lda.l	#1
         01:D23D  8D 09 23   			sta	__update_PLAYER_end - 4
13190    01:D240             	.LL639:
13191                        		__ld.umq	__update_PLAYER_end - 4  /* i */
         01:D240  AD 09 23   			lda	__update_PLAYER_end - 4
13192                        		__ult_b.uiq	11
         01:D243  C9 0B      			cmp	#11		; Subtract integer from A.
         01:D245  6A         			ror	a		; CC if A < integer.
         01:D246  49 80      			eor	#$80
         01:D248  2A         			rol	a
13193                        		__btrue		.LL641
         01:D249  B0 07      			bcs	.LL641
13194                        		__bra		.LL642
         01:D24B  80 7D      			bra	.LL642
13195    01:D24D             	.LL640:
13196                        		__inc.umq	__update_PLAYER_end - 4  /* i */
         01:D24D  EE 09 23   			inc	__update_PLAYER_end - 4
13197                        		__bra		.LL639
         01:D250  80 EE      			bra	.LL639
13198    01:D252             	.LL641:
13199                        	
13200                        		.dbg	line,	"include\routines_LEVELS.c", 2445; {
13201                        	
13202                        		.dbg	line,	"include\routines_LEVELS.c", 2446; check_TILE_DEPTH( 22 , i);
13203                        		__ld.wi		22
         01:D252  A9 16      			lda.l	#22
         01:D254  C2         			cly
13204                        		__pusharg.wr
         01:D255  A6 8D      			ldx	<__sp
         01:D257  CA         			dex
         01:D258  CA         			dex
         01:D259  95 08      			sta.l	<__stack, x
         01:D25B  94 09      			sty.h	<__stack, x
         01:D25D  86 8D      			stx	<__sp
13205                        		__ld.um		__update_PLAYER_end - 4  /* i */
         01:D25F  AD 09 23   			lda	__update_PLAYER_end - 4
         01:D262  C2         			cly
13206                        		__pusharg.wr
         01:D263  A6 8D      			ldx	<__sp
         01:D265  CA         			dex
         01:D266  CA         			dex
         01:D267  95 08      			sta.l	<__stack, x
         01:D269  94 09      			sty.h	<__stack, x
         01:D26B  86 8D      			stx	<__sp
13207                        		__call		_check_TILE_DEPTH
         01:D26D  20 1D FF   			call	_check_TILE_DEPTH
13208                        	
13209                        		.dbg	line,	"include\routines_LEVELS.c", 2448; if(map_blk_flag == TILE_EMPTY)
13210                        		__not.um	_map_blk_flag
         01:D270  AD 05 2C   			lda	_map_blk_flag
         01:D273  18         			clc
         01:D274  D0 01      			bne	!+
         01:D276  38         			sec
         01:D277             	!:
13211                        		__bfalse	.LL643
         01:D277  90 D4      			bcc	.LL643
13212                        	
13213                        		.dbg	line,	"include\routines_LEVELS.c", 2449; {
13214                        	
13215                        		.dbg	line,	"include\routines_LEVELS.c", 2450; if(player_pos_y != PLAYER_BASE_Y_POS)
13216                        		__ld.wm		_player_pos_y
         01:D279  AD 03 25   			lda.l	_player_pos_y
         01:D27C  AC 04 25   			ldy.h	_player_pos_y
13217                        		__neq_w.wi	128
         01:D27F  38         			sec
         01:D280  49 80      			eor.l	#128
         01:D282  D0 06      			bne	!+
         01:D284  98         			tya
         01:D285  49 00      			eor.h	#128
         01:D287  D0 01      			bne	!+
         01:D289  18         			clc
         01:D28A             	!:
13218                        		__bfalse	.LL644
         01:D28A  90 1E      			bcc	.LL644
13219                        	
13220                        		.dbg	line,	"include\routines_LEVELS.c", 2451; {
13221                        	
13222                        		.dbg	line,	"include\routines_LEVELS.c", 2452; player_pos_y -= (i - 1);
13223                        		__ld.um		__update_PLAYER_end - 4  /* i */
         01:D28C  AD 09 23   			lda	__update_PLAYER_end - 4
         01:D28F  C2         			cly
13224                        		__sub.wi	1
         01:D290  38         			sec
         01:D291  E9 01      			sbc.l	#1
         01:D293  B0 01      			bcs	!+
         01:D295  88         			dey
         01:D296             	!:
13225                        		__isub_st.wmq	_player_pos_y
         01:D296  38         			sec
         01:D297  49 FF      			eor	#$FF
         01:D299  6D 03 25   			adc.l	_player_pos_y
         01:D29C  8D 03 25   			sta.l	_player_pos_y
         01:D29F  98         			tya
         01:D2A0  49 FF      			eor	#$FF
         01:D2A2  6D 04 25   			adc.h	_player_pos_y
         01:D2A5  8D 04 25   			sta.h	_player_pos_y
13226                        	
13227                        		.dbg	line,	"include\routines_LEVELS.c", 2453; }
13228                        	
13229                        		.dbg	line,	"include\routines_LEVELS.c", 2455; else
13230                        		__bra		.LL645
         01:D2A8  80 20      			bra	.LL645
13231    01:D2AA             	.LL644:
13232                        	
13233                        		.dbg	line,	"include\routines_LEVELS.c", 2456; {
13234                        	
13235                        		.dbg	line,	"include\routines_LEVELS.c", 2457; sgx_map_pxl_y -= (i - 1);
13236                        		__ld.um		__update_PLAYER_end - 4  /* i */
         01:D2AA  AD 09 23   			lda	__update_PLAYER_end - 4
         01:D2AD  C2         			cly
13237                        		__sub.wi	1
         01:D2AE  38         			sec
         01:D2AF  E9 01      			sbc.l	#1
         01:D2B1  B0 01      			bcs	!+
         01:D2B3  88         			dey
         01:D2B4             	!:
13238                        		__isub_st.wmq	_sgx_map_pxl_y
         01:D2B4  38         			sec
         01:D2B5  49 FF      			eor	#$FF
         01:D2B7  6D E6 26   			adc.l	_sgx_map_pxl_y
         01:D2BA  8D E6 26   			sta.l	_sgx_map_pxl_y
         01:D2BD  98         			tya
         01:D2BE  49 FF      			eor	#$FF
         01:D2C0  6D E7 26   			adc.h	_sgx_map_pxl_y
         01:D2C3  8D E7 26   			sta.h	_sgx_map_pxl_y
13239                        	
13240                        		.dbg	line,	"include\routines_LEVELS.c", 2458; }
13241    01:D2C6             	.LL645	.alias		.LL642
13242                        	
13243                        		.dbg	line,	"include\routines_LEVELS.c", 2460; break;
13244                        		__bra		.LL642
         01:D2C6  80 02      			bra	.LL642
13245                        	
13246                        		.dbg	line,	"include\routines_LEVELS.c", 2461; }
13247                        	
13248                        		.dbg	line,	"include\routines_LEVELS.c", 2462; }
13249    01:D2C8             	.LL643	.alias		.LL640
13250                        		__bra		.LL640
         01:D2C8  80 83      			bra	.LL640
13251    01:D2CA             	.LL642:
13252                        	
13253                        		.dbg	line,	"include\routines_LEVELS.c", 2464; // SET PLAYER SPRITE NEW POSITION //
13254                        	
13255                        		.dbg	line,	"include\routines_LEVELS.c", 2465; spr_y(player_pos_y);
13256                        		__ld.wm		_player_pos_y
         01:D2CA  AD 03 25   			lda.l	_player_pos_y
         01:D2CD  AC 04 25   			ldy.h	_player_pos_y
13257                        		__call		_spr_y.1
         01:D2D0  20 2D E8   			call	_spr_y.1
13258                        	
13259                        		.dbg	line,	"include\routines_LEVELS.c", 2467; spr_set(weapon_id);
13260                        		__ld.umq	_weapon_id
         01:D2D3  AD 28 23   			lda	_weapon_id
13261                        		__call		_spr_set.1
         01:D2D6  20 F1 E7   			call	_spr_set.1
13262                        	
13263                        		.dbg	line,	"include\routines_LEVELS.c", 2468; spr_y(player_pos_y+8);
13264                        		__ld.wm		_player_pos_y
         01:D2D9  AD 03 25   			lda.l	_player_pos_y
         01:D2DC  AC 04 25   			ldy.h	_player_pos_y
13265                        		__add.wi	8
         01:D2DF  18         			clc
         01:D2E0  69 08      			adc.l	#8
         01:D2E2  90 01      			bcc	!+
         01:D2E4  C8         			iny
         01:D2E5             	!:
13266                        		__call		_spr_y.1
         01:D2E5  20 2D E8   			call	_spr_y.1
13267                        	
13268                        		.dbg	line,	"include\routines_LEVELS.c", 2470; player_counter_anim = 1;
13269                        		__st.umiq	1, _player_counter_anim
         01:D2E8  A9 01      			lda.l	#1
         01:D2EA  8D 1D 23   			sta	_player_counter_anim
13270                        	
13271                        		.dbg	line,	"include\routines_LEVELS.c", 2471; player_index_jump = 0;
13272                        		__st.umiq	0, _player_index_jump
         01:D2ED  9C 1E 23   			stz	_player_index_jump
13273                        	
13274                        		.dbg	line,	"include\routines_LEVELS.c", 2472; jump_ladder = FALSE;
13275                        		__st.umiq	0, _jump_ladder
         01:D2F0  9C 23 23   			stz	_jump_ladder
13276                        	
13277                        		.dbg	line,	"include\routines_LEVELS.c", 2473; hit_wall = FALSE;
13278                        		__st.umiq	0, _hit_wall
         01:D2F3  9C 26 23   			stz	_hit_wall
13279                        	
13280                        		.dbg	line,	"include\routines_LEVELS.c", 2474; jump_max_index = 34;
13281                        		__st.umiq	34, _jump_max_index
         01:D2F6  A9 22      			lda.l	#34
         01:D2F8  8D 24 23   			sta	_jump_max_index
13282                        	
13283                        		.dbg	line,	"include\routines_LEVELS.c", 2475; player_state = STATE_IDLE;
13284                        		__st.umiq	0, _player_state
         01:D2FB  9C 1A 23   			stz	_player_state
13285                        	
13286                        		.dbg	line,	"include\routines_LEVELS.c", 2476; return;
13287                        		__bra		.LL496
         01:D2FE  4C 30 DA   			bra	.LL496
13288                        	
13289                        		.dbg	line,	"include\routines_LEVELS.c", 2477; }
13290                        	
13291                        		.dbg	line,	"include\routines_LEVELS.c", 2478; }
13292    01:D301             	.LL638:
13293    01:D301             	.LL637:
13294                        	
13295                        		.dbg	line,	"include\routines_LEVELS.c", 2479; }
13296                        	
13297                        		.dbg	line,	"include\routines_LEVELS.c", 2484; //--------------------------------------------------------------------------------------//
13298                        	
13299                        		.dbg	line,	"include\routines_LEVELS.c", 2485; //                                   LADDER COLLISION                                   //
13300                        	
13301                        		.dbg	line,	"include\routines_LEVELS.c", 2486; //--------------------------------------------------------------------------------------//
13302                        	
13303                        		.dbg	line,	"include\routines_LEVELS.c", 2488; if(player_index_jump > 4)
13304    01:D301             	.LL628:
13305                        		__ld.umq	_player_index_jump
         01:D301  AD 1E 23   			lda	_player_index_jump
13306                        		__ugt_b.uiq	4
         01:D304  18         			clc			; Subtract integer+1 from A.
         01:D305  E9 04      			sbc	#4		; CS if A > integer.
13307                        		__bfalse	.LL646
         01:D307  B0 03 4C 9C			bcc	.LL646
         01:D30B  D3          
13308                        	
13309                        		.dbg	line,	"include\routines_LEVELS.c", 2489; {
13310                        	
13311                        		.dbg	line,	"include\routines_LEVELS.c", 2490; collision_PLAYER_BG( 16 , 16 );
13312                        		__ld.wi		16
         01:D30C  A9 10      			lda.l	#16
         01:D30E  C2         			cly
13313                        		__pusharg.wr
         01:D30F  A6 8D      			ldx	<__sp
         01:D311  CA         			dex
         01:D312  CA         			dex
         01:D313  95 08      			sta.l	<__stack, x
         01:D315  94 09      			sty.h	<__stack, x
         01:D317  86 8D      			stx	<__sp
13314                        		__ld.wi		16
         01:D319  A9 10      			lda.l	#16
         01:D31B  C2         			cly
13315                        		__pusharg.wr
         01:D31C  A6 8D      			ldx	<__sp
         01:D31E  CA         			dex
         01:D31F  CA         			dex
         01:D320  95 08      			sta.l	<__stack, x
         01:D322  94 09      			sty.h	<__stack, x
         01:D324  86 8D      			stx	<__sp
13316                        		__call		_collision_PLAYER_BG
         01:D326  20 31 FF   			call	_collision_PLAYER_BG
13317                        	
13318                        		.dbg	line,	"include\routines_LEVELS.c", 2492; if(map_blk_flag == TILE_LADDER)
13319                        		__ld.umq	_map_blk_flag
         01:D329  AD 05 2C   			lda	_map_blk_flag
13320                        		__equ_b.uiq	2
         01:D32C  C9 02      			cmp	#2
         01:D32E  F0 01      			beq	!+
         01:D330  18         			clc
         01:D331             	!:
13321                        		__bfalse	.LL647
         01:D331  90 69      			bcc	.LL647
13322                        	
13323                        		.dbg	line,	"include\routines_LEVELS.c", 2493; {
13324                        	
13325                        		.dbg	line,	"include\routines_LEVELS.c", 2494; // CAMERA GOES 8 PX BACKWARD //
13326                        	
13327                        		.dbg	line,	"include\routines_LEVELS.c", 2495; sgx_map_pxl_x = ( (sgx_map_pxl_x >> 3) << 3 );
13328                        		__ld.wm		_sgx_map_pxl_x
         01:D333  AD E4 26   			lda.l	_sgx_map_pxl_x
         01:D336  AC E5 26   			ldy.h	_sgx_map_pxl_x
13329                        		__lsr.wi	3
         01:D339  84 00      			sty	__temp
         01:D33B  20 3A E2   			jsr	lsrw3
13330                        		__asl.wi	3
         01:D33E  84 00      			sty	__temp
         01:D340  20 D7 E1   			jsr	aslw3
13331                        		__st.wmq	_sgx_map_pxl_x
         01:D343  8D E4 26   			sta.l	_sgx_map_pxl_x
         01:D346  8C E5 26   			sty.h	_sgx_map_pxl_x
13332                        	
13333                        		.dbg	line,	"include\routines_LEVELS.c", 2497; // SO WE UPDATE THE MAP //
13334                        	
13335                        		.dbg	line,	"include\routines_LEVELS.c", 2498; sgx_scroll_map();
13336                        		__call		_sgx_scroll_map
         01:D349  20 63 FF   			call	_sgx_scroll_map
13337                        	
13338                        		.dbg	line,	"include\routines_LEVELS.c", 2500; // CHECK IF THE PLAYER STANDS RIGHT TO THE LADDER //
13339                        	
13340                        		.dbg	line,	"include\routines_LEVELS.c", 2501; collision_PLAYER_BG( 31 , 16 );
13341                        		__ld.wi		31
         01:D34C  A9 1F      			lda.l	#31
         01:D34E  C2         			cly
13342                        		__pusharg.wr
         01:D34F  A6 8D      			ldx	<__sp
         01:D351  CA         			dex
         01:D352  CA         			dex
         01:D353  95 08      			sta.l	<__stack, x
         01:D355  94 09      			sty.h	<__stack, x
         01:D357  86 8D      			stx	<__sp
13343                        		__ld.wi		16
         01:D359  A9 10      			lda.l	#16
         01:D35B  C2         			cly
13344                        		__pusharg.wr
         01:D35C  A6 8D      			ldx	<__sp
         01:D35E  CA         			dex
         01:D35F  CA         			dex
         01:D360  95 08      			sta.l	<__stack, x
         01:D362  94 09      			sty.h	<__stack, x
         01:D364  86 8D      			stx	<__sp
13345                        		__call		_collision_PLAYER_BG
         01:D366  20 31 FF   			call	_collision_PLAYER_BG
13346                        	
13347                        		.dbg	line,	"include\routines_LEVELS.c", 2503; if(map_blk_flag == TILE_LADDER)
13348                        		__ld.umq	_map_blk_flag
         01:D369  AD 05 2C   			lda	_map_blk_flag
13349                        		__equ_b.uiq	2
         01:D36C  C9 02      			cmp	#2
         01:D36E  F0 01      			beq	!+
         01:D370  18         			clc
         01:D371             	!:
13350                        		__bfalse	.LL648
         01:D371  90 0E      			bcc	.LL648
13351                        	
13352                        		.dbg	line,	"include\routines_LEVELS.c", 2504; {
13353                        	
13354                        		.dbg	line,	"include\routines_LEVELS.c", 2505; sgx_map_pxl_x += 8;
13355                        		__add_st.wmiq	8, _sgx_map_pxl_x
         01:D373  18         			clc
         01:D374  AD E4 26   			lda.l	_sgx_map_pxl_x
         01:D377  69 08      			adc.l	#8
         01:D379  8D E4 26   			sta.l	_sgx_map_pxl_x
         01:D37C  90 03      			bcc	!+
         01:D37E  EE E5 26   			inc.h	_sgx_map_pxl_x
         01:D381             	!:
13356                        	
13357                        		.dbg	line,	"include\routines_LEVELS.c", 2506; }
13358                        	
13359                        		.dbg	line,	"include\routines_LEVELS.c", 2508; spr_pattern(PLAYER_HANG_VRAM_ADR);
13360    01:D381             	.LL648:
13361                        		__ld.wi		8448
         01:D381  62         			cla
         01:D382  A0 21      			ldy.h	#8448
13362                        		__call		_spr_pattern.1
         01:D384  20 3A E8   			call	_spr_pattern.1
13363                        	
13364                        		.dbg	line,	"include\routines_LEVELS.c", 2509; player_counter_anim = 0;
13365                        		__st.umiq	0, _player_counter_anim
         01:D387  9C 1D 23   			stz	_player_counter_anim
13366                        	
13367                        		.dbg	line,	"include\routines_LEVELS.c", 2510; player_index_jump = 0;
13368                        		__st.umiq	0, _player_index_jump
         01:D38A  9C 1E 23   			stz	_player_index_jump
13369                        	
13370                        		.dbg	line,	"include\routines_LEVELS.c", 2511; jump_ladder = TRUE;
13371                        		__st.umiq	1, _jump_ladder
         01:D38D  A9 01      			lda.l	#1
         01:D38F  8D 23 23   			sta	_jump_ladder
13372                        	
13373                        		.dbg	line,	"include\routines_LEVELS.c", 2512; jump_max_index = 29;
13374                        		__st.umiq	29, _jump_max_index
         01:D392  A9 1D      			lda.l	#29
         01:D394  8D 24 23   			sta	_jump_max_index
13375                        	
13376                        		.dbg	line,	"include\routines_LEVELS.c", 2513; player_state = STATE_HANG;
13377                        		__st.umiq	10, _player_state
         01:D397  A9 0A      			lda.l	#10
         01:D399  8D 1A 23   			sta	_player_state
13378                        	
13379                        		.dbg	line,	"include\routines_LEVELS.c", 2514; }
13380                        	
13381                        		.dbg	line,	"include\routines_LEVELS.c", 2515; }
13382    01:D39C             	.LL647:
13383                        	
13384                        		.dbg	line,	"include\routines_LEVELS.c", 2518; // SET PLAYER SPRITE NEW POSITION //
13385                        	
13386                        		.dbg	line,	"include\routines_LEVELS.c", 2519; spr_y(player_pos_y);
13387    01:D39C             	.LL646:
13388                        		__ld.wm		_player_pos_y
         01:D39C  AD 03 25   			lda.l	_player_pos_y
         01:D39F  AC 04 25   			ldy.h	_player_pos_y
13389                        		__call		_spr_y.1
         01:D3A2  20 2D E8   			call	_spr_y.1
13390                        	
13391                        		.dbg	line,	"include\routines_LEVELS.c", 2521; spr_set(weapon_id);
13392                        		__ld.umq	_weapon_id
         01:D3A5  AD 28 23   			lda	_weapon_id
13393                        		__call		_spr_set.1
         01:D3A8  20 F1 E7   			call	_spr_set.1
13394                        	
13395                        		.dbg	line,	"include\routines_LEVELS.c", 2522; spr_y(player_pos_y+8);
13396                        		__ld.wm		_player_pos_y
         01:D3AB  AD 03 25   			lda.l	_player_pos_y
         01:D3AE  AC 04 25   			ldy.h	_player_pos_y
13397                        		__add.wi	8
         01:D3B1  18         			clc
         01:D3B2  69 08      			adc.l	#8
         01:D3B4  90 01      			bcc	!+
         01:D3B6  C8         			iny
         01:D3B7             	!:
13398                        		__call		_spr_y.1
         01:D3B7  20 2D E8   			call	_spr_y.1
13399                        	
13400                        		.dbg	line,	"include\routines_LEVELS.c", 2523; }
13401                        	
13402                        		.dbg	line,	"include\routines_LEVELS.c", 2526; else if(player_state == STATE_CROUCH)
13403                        		__bra		.LL649
         01:D3BA  4C 30 DA   			bra	.LL649
13404    01:D3BD             	.LL613:
13405                        		__ld.umq	_player_state
         01:D3BD  AD 1A 23   			lda	_player_state
13406                        		__equ_b.uiq	7
         01:D3C0  C9 07      			cmp	#7
         01:D3C2  F0 01      			beq	!+
         01:D3C4  18         			clc
         01:D3C5             	!:
13407                        		__bfalse	.LL650
         01:D3C5  90 6A      			bcc	.LL650
13408                        	
13409                        		.dbg	line,	"include\routines_LEVELS.c", 2527; {
13410                        	
13411                        		.dbg	line,	"include\routines_LEVELS.c", 2528; recenter_CAMERA();
13412                        		__call		_recenter_CAMERA
         01:D3C7  20 27 FF   			call	_recenter_CAMERA
13413                        	
13414                        		.dbg	line,	"include\routines_LEVELS.c", 2529; 
13415                        	
13416                        		.dbg	line,	"include\routines_LEVELS.c", 2530; if(player_counter_anim == 1)
13417                        		__ld.umq	_player_counter_anim
         01:D3CA  AD 1D 23   			lda	_player_counter_anim
13418                        		__equ_b.uiq	1
         01:D3CD  C9 01      			cmp	#1
         01:D3CF  F0 01      			beq	!+
         01:D3D1  18         			clc
         01:D3D2             	!:
13419                        		__bfalse	.LL651
         01:D3D2  90 45      			bcc	.LL651
13420                        	
13421                        		.dbg	line,	"include\routines_LEVELS.c", 2531; {
13422                        	
13423                        		.dbg	line,	"include\routines_LEVELS.c", 2532; spr_set(player_id);
13424                        		__ld.umq	_player_id
         01:D3D4  AD 19 23   			lda	_player_id
13425                        		__call		_spr_set.1
         01:D3D7  20 F1 E7   			call	_spr_set.1
13426                        	
13427                        		.dbg	line,	"include\routines_LEVELS.c", 2533; spr_pattern(PLAYER_CROUCH_VRAM_ADR);
13428                        		__ld.wi		8192
         01:D3DA  62         			cla
         01:D3DB  A0 20      			ldy.h	#8192
13429                        		__call		_spr_pattern.1
         01:D3DD  20 3A E8   			call	_spr_pattern.1
13430                        	
13431                        		.dbg	line,	"include\routines_LEVELS.c", 2535; spr_set(weapon_id);
13432                        		__ld.umq	_weapon_id
         01:D3E0  AD 28 23   			lda	_weapon_id
13433                        		__call		_spr_set.1
         01:D3E3  20 F1 E7   			call	_spr_set.1
13434                        	
13435                        		.dbg	line,	"include\routines_LEVELS.c", 2536; spr_pattern(WEAPON_IDLE_VRAM_ADRESS);
13436                        		__ld.wi		31808
         01:D3E6  A9 40      			lda.l	#31808
         01:D3E8  A0 7C      			ldy.h	#31808
13437                        		__call		_spr_pattern.1
         01:D3EA  20 3A E8   			call	_spr_pattern.1
13438                        	
13439                        		.dbg	line,	"include\routines_LEVELS.c", 2537; 
13440                        	
13441                        		.dbg	line,	"include\routines_LEVELS.c", 2538; if(player_axis == AXIS_RIGHT)
13442                        		__not.um	_player_axis
         01:D3ED  AD 1B 23   			lda	_player_axis
         01:D3F0  18         			clc
         01:D3F1  D0 01      			bne	!+
         01:D3F3  38         			sec
         01:D3F4             	!:
13443                        		__bfalse	.LL652
         01:D3F4  90 11      			bcc	.LL652
13444                        	
13445                        		.dbg	line,	"include\routines_LEVELS.c", 2539; {
13446                        	
13447                        		.dbg	line,	"include\routines_LEVELS.c", 2540; spr_x(player_pos_x-1);
13448                        		__ld.wm		_player_pos_x
         01:D3F6  AD 01 25   			lda.l	_player_pos_x
         01:D3F9  AC 02 25   			ldy.h	_player_pos_x
13449                        		__sub.wi	1
         01:D3FC  38         			sec
         01:D3FD  E9 01      			sbc.l	#1
         01:D3FF  B0 01      			bcs	!+
         01:D401  88         			dey
         01:D402             	!:
13450                        		__call		_spr_x.1
         01:D402  20 1E E8   			call	_spr_x.1
13451                        	
13452                        		.dbg	line,	"include\routines_LEVELS.c", 2541; }
13453                        	
13454                        		.dbg	line,	"include\routines_LEVELS.c", 2543; else
13455                        		__bra		.LL653
         01:D405  80 0F      			bra	.LL653
13456    01:D407             	.LL652:
13457                        	
13458                        		.dbg	line,	"include\routines_LEVELS.c", 2544; {
13459                        	
13460                        		.dbg	line,	"include\routines_LEVELS.c", 2545; spr_x(player_pos_x+17);
13461                        		__ld.wm		_player_pos_x
         01:D407  AD 01 25   			lda.l	_player_pos_x
         01:D40A  AC 02 25   			ldy.h	_player_pos_x
13462                        		__add.wi	17
         01:D40D  18         			clc
         01:D40E  69 11      			adc.l	#17
         01:D410  90 01      			bcc	!+
         01:D412  C8         			iny
         01:D413             	!:
13463                        		__call		_spr_x.1
         01:D413  20 1E E8   			call	_spr_x.1
13464                        	
13465                        		.dbg	line,	"include\routines_LEVELS.c", 2546; }
13466    01:D416             	.LL653:
13467                        	
13468                        		.dbg	line,	"include\routines_LEVELS.c", 2548; //spr_y(player_pos_y+18);
13469                        	
13470                        		.dbg	line,	"include\routines_LEVELS.c", 2549; 
13471                        	
13472                        		.dbg	line,	"include\routines_LEVELS.c", 2550; player_counter_anim = 0;
13473                        		__st.umiq	0, _player_counter_anim
         01:D416  9C 1D 23   			stz	_player_counter_anim
13474                        	
13475                        		.dbg	line,	"include\routines_LEVELS.c", 2551; }
13476                        	
13477                        		.dbg	line,	"include\routines_LEVELS.c", 2553; spr_set(weapon_id);
13478    01:D419             	.LL651:
13479                        		__ld.umq	_weapon_id
         01:D419  AD 28 23   			lda	_weapon_id
13480                        		__call		_spr_set.1
         01:D41C  20 F1 E7   			call	_spr_set.1
13481                        	
13482                        		.dbg	line,	"include\routines_LEVELS.c", 2554; spr_y(player_pos_y+18);
13483                        		__ld.wm		_player_pos_y
         01:D41F  AD 03 25   			lda.l	_player_pos_y
         01:D422  AC 04 25   			ldy.h	_player_pos_y
13484                        		__add.wi	18
         01:D425  18         			clc
         01:D426  69 12      			adc.l	#18
         01:D428  90 01      			bcc	!+
         01:D42A  C8         			iny
         01:D42B             	!:
13485                        		__call		_spr_y.1
         01:D42B  20 2D E8   			call	_spr_y.1
13486                        	
13487                        		.dbg	line,	"include\routines_LEVELS.c", 2555; //recenter_CAMERA();
13488                        	
13489                        		.dbg	line,	"include\routines_LEVELS.c", 2556; }
13490                        	
13491                        		.dbg	line,	"include\routines_LEVELS.c", 2559; else if(player_state == STATE_FALL)
13492                        		__bra		.LL654
         01:D42E  4C 30 DA   			bra	.LL654
13493    01:D431             	.LL650:
13494                        		__ld.umq	_player_state
         01:D431  AD 1A 23   			lda	_player_state
13495                        		__equ_b.uiq	9
         01:D434  C9 09      			cmp	#9
         01:D436  F0 01      			beq	!+
         01:D438  18         			clc
         01:D439             	!:
13496                        		__bfalse	.LL655
         01:D439  B0 03 4C 76			bcc	.LL655
         01:D43D  D6          
13497                        	
13498                        		.dbg	line,	"include\routines_LEVELS.c", 2560; {
13499                        	
13500                        		.dbg	line,	"include\routines_LEVELS.c", 2561; unsigned char i, camera_y_move;
13501                        	
13502                        		.dbg	line,	"include\routines_LEVELS.c", 2562; i = 1;
13503                        		__st.umiq	1, __update_PLAYER_end - 6  /* i */
         01:D43E  A9 01      			lda.l	#1
         01:D440  8D 07 23   			sta	__update_PLAYER_end - 6
13504                        	
13505                        		.dbg	line,	"include\routines_LEVELS.c", 2565; spr_set(player_id);
13506                        		__ld.umq	_player_id
         01:D443  AD 19 23   			lda	_player_id
13507                        		__call		_spr_set.1
         01:D446  20 F1 E7   			call	_spr_set.1
13508                        	
13509                        		.dbg	line,	"include\routines_LEVELS.c", 2568; //--------------------------------------------------------------------------------------//
13510                        	
13511                        		.dbg	line,	"include\routines_LEVELS.c", 2569; //                                        V MOVE                                        //
13512                        	
13513                        		.dbg	line,	"include\routines_LEVELS.c", 2570; //--------------------------------------------------------------------------------------//
13514                        	
13515                        		.dbg	line,	"include\routines_LEVELS.c", 2572; // UPDATE PLAYER Y POSITION //
13516                        	
13517                        		.dbg	line,	"include\routines_LEVELS.c", 2573; player_pos_y += TABLE_PLAYER_FALL[player_index_fall];
13518                        		__ldx.umq	_player_index_fall
         01:D449  AE 1F 23   			ldx	_player_index_fall
13519                        		__ld.bax	_TABLE_PLAYER_FALL
         01:D44C  BD AE 62   			lda	_TABLE_PLAYER_FALL, x
         01:D44F  C2         			cly
         01:D450  10 01      			bpl	!+
         01:D452  88         			dey
         01:D453             	!:
13520                        		__add_st.wmq	_player_pos_y
         01:D453  18         			clc
         01:D454  6D 03 25   			adc.l	_player_pos_y
         01:D457  8D 03 25   			sta.l	_player_pos_y
         01:D45A  98         			tya
         01:D45B  6D 04 25   			adc.h	_player_pos_y
         01:D45E  8D 04 25   			sta.h	_player_pos_y
13521                        	
13522                        		.dbg	line,	"include\routines_LEVELS.c", 2576; // IF PLAYER GOES BELOW ITS BASE Y POSITION //
13523                        	
13524                        		.dbg	line,	"include\routines_LEVELS.c", 2577; if(player_pos_y >= PLAYER_BASE_Y_POS)
13525                        		__ld.wm		_player_pos_y
         01:D461  AD 03 25   			lda.l	_player_pos_y
         01:D464  AC 04 25   			ldy.h	_player_pos_y
13526                        		__sge_w.wi	128
         01:D467  C9 80      			cmp.l	#128		; Subtract integer from Y:A.
         01:D469  98         			tya
         01:D46A  E9 00      			sbc.h	#128
         01:D46C  50 02      			bvc	!+
         01:D46E  49 80      			eor	#$80		; +ve if Y:A >= integer (signed).
         01:D470  49 80      	!:		eor	#$80
         01:D472  0A         			asl	a
13527                        		__bfalse	.LL656
         01:D473  90 45      			bcc	.LL656
13528                        	
13529                        		.dbg	line,	"include\routines_LEVELS.c", 2578; {
13530                        	
13531                        		.dbg	line,	"include\routines_LEVELS.c", 2579; // THE CAMERA MOVES //
13532                        	
13533                        		.dbg	line,	"include\routines_LEVELS.c", 2580; // CALCULATE HOW MANY PIXELS THE CAMERA HAS TO MOVE DOWN //
13534                        	
13535                        		.dbg	line,	"include\routines_LEVELS.c", 2581; camera_y_move = player_pos_y - PLAYER_BASE_Y_POS;
13536                        		__ld.wm		_player_pos_y
         01:D475  AD 03 25   			lda.l	_player_pos_y
         01:D478  AC 04 25   			ldy.h	_player_pos_y
13537                        		__sub.wi	128
         01:D47B  38         			sec
         01:D47C  E9 80      			sbc.l	#128
         01:D47E  B0 01      			bcs	!+
         01:D480  88         			dey
         01:D481             	!:
13538                        		__st.umq	__update_PLAYER_end - 7  /* camera_y_move */
         01:D481  8D 06 23   			sta	__update_PLAYER_end - 7
13539                        	
13540                        		.dbg	line,	"include\routines_LEVELS.c", 2582; sgx_map_pxl_y += camera_y_move;
13541                        		__ld.um		__update_PLAYER_end - 7  /* camera_y_move */
         01:D484  AD 06 23   			lda	__update_PLAYER_end - 7
         01:D487  C2         			cly
13542                        		__add_st.wmq	_sgx_map_pxl_y
         01:D488  18         			clc
         01:D489  6D E6 26   			adc.l	_sgx_map_pxl_y
         01:D48C  8D E6 26   			sta.l	_sgx_map_pxl_y
         01:D48F  98         			tya
         01:D490  6D E7 26   			adc.h	_sgx_map_pxl_y
         01:D493  8D E7 26   			sta.h	_sgx_map_pxl_y
13543                        	
13544                        		.dbg	line,	"include\routines_LEVELS.c", 2584; // IF THE CAMERA HAS REACHED ITS MAX (LOWEST) POSITION //
13545                        	
13546                        		.dbg	line,	"include\routines_LEVELS.c", 2585; if(sgx_map_pxl_y > camera_max_y_position)
13547                        		__ld.wm		_sgx_map_pxl_y
         01:D496  AD E6 26   			lda.l	_sgx_map_pxl_y
         01:D499  AC E7 26   			ldy.h	_sgx_map_pxl_y
13548                        		__ugt_w.wm	_camera_max_y_position
         01:D49C  18         			clc			; Subtract memory+1 from Y:A.
         01:D49D  ED 05 25   			sbc.l	_camera_max_y_position
         01:D4A0  98         			tya
         01:D4A1  ED 06 25   			sbc.h	_camera_max_y_position		; CS if Y:A > memory.
13549                        		__bfalse	.LL657
         01:D4A4  90 0C      			bcc	.LL657
13550                        	
13551                        		.dbg	line,	"include\routines_LEVELS.c", 2586; {
13552                        	
13553                        		.dbg	line,	"include\routines_LEVELS.c", 2587; // THE CAMERA CAN NOT MOVE LOWER //
13554                        	
13555                        		.dbg	line,	"include\routines_LEVELS.c", 2588; sgx_map_pxl_y = camera_max_y_position;
13556                        		__ld.wm		_camera_max_y_position
         01:D4A6  AD 05 25   			lda.l	_camera_max_y_position
         01:D4A9  AC 06 25   			ldy.h	_camera_max_y_position
13557                        		__st.wmq	_sgx_map_pxl_y
         01:D4AC  8D E6 26   			sta.l	_sgx_map_pxl_y
         01:D4AF  8C E7 26   			sty.h	_sgx_map_pxl_y
13558                        	
13559                        		.dbg	line,	"include\routines_LEVELS.c", 2589; }
13560                        	
13561                        		.dbg	line,	"include\routines_LEVELS.c", 2591; // THE PLAYER STAYS AT ITS BASE Y POSITION //
13562                        	
13563                        		.dbg	line,	"include\routines_LEVELS.c", 2592; player_pos_y = PLAYER_BASE_Y_POS;
13564    01:D4B2             	.LL657:
13565                        		__st.wmiq	128, _player_pos_y
         01:D4B2  A9 80      			lda.l	#128
         01:D4B4  8D 03 25   			sta.l	_player_pos_y
         01:D4B7  9C 04 25   			stz.h	_player_pos_y
13566                        	
13567                        		.dbg	line,	"include\routines_LEVELS.c", 2593; }
13568                        	
13569                        		.dbg	line,	"include\routines_LEVELS.c", 2596; // UPDATE JUMP INDEX IN THE ARRAY //
13570                        	
13571                        		.dbg	line,	"include\routines_LEVELS.c", 2597; // ARRAY MAX ENTRY : 20//
13572                        	
13573                        		.dbg	line,	"include\routines_LEVELS.c", 2598; if(player_index_fall < 20)
13574    01:D4BA             	.LL656:
13575                        		__ld.umq	_player_index_fall
         01:D4BA  AD 1F 23   			lda	_player_index_fall
13576                        		__ult_b.uiq	20
         01:D4BD  C9 14      			cmp	#20		; Subtract integer from A.
         01:D4BF  6A         			ror	a		; CC if A < integer.
         01:D4C0  49 80      			eor	#$80
         01:D4C2  2A         			rol	a
13577                        		__bfalse	.LL658
         01:D4C3  90 03      			bcc	.LL658
13578                        	
13579                        		.dbg	line,	"include\routines_LEVELS.c", 2599; {
13580                        	
13581                        		.dbg	line,	"include\routines_LEVELS.c", 2600; player_index_fall += 1;
13582                        		__add_st.umiq	1, _player_index_fall
         01:D4C5  EE 1F 23   			inc	_player_index_fall
13583                        	
13584                        		.dbg	line,	"include\routines_LEVELS.c", 2601; }
13585                        	
13586                        		.dbg	line,	"include\routines_LEVELS.c", 2604; check_TILE_DEPTH( 15 , 0);
13587    01:D4C8             	.LL658:
13588                        		__ld.wi		15
         01:D4C8  A9 0F      			lda.l	#15
         01:D4CA  C2         			cly
13589                        		__pusharg.wr
         01:D4CB  A6 8D      			ldx	<__sp
         01:D4CD  CA         			dex
         01:D4CE  CA         			dex
         01:D4CF  95 08      			sta.l	<__stack, x
         01:D4D1  94 09      			sty.h	<__stack, x
         01:D4D3  86 8D      			stx	<__sp
13590                        		__ld.wi		0
         01:D4D5  62         			cla
         01:D4D6  C2         			cly
13591                        		__pusharg.wr
         01:D4D7  A6 8D      			ldx	<__sp
         01:D4D9  CA         			dex
         01:D4DA  CA         			dex
         01:D4DB  95 08      			sta.l	<__stack, x
         01:D4DD  94 09      			sty.h	<__stack, x
         01:D4DF  86 8D      			stx	<__sp
13592                        		__call		_check_TILE_DEPTH
         01:D4E1  20 1D FF   			call	_check_TILE_DEPTH
13593                        	
13594                        		.dbg	line,	"include\routines_LEVELS.c", 2607; if(map_blk_flag == TILE_BG)
13595                        		__ld.umq	_map_blk_flag
         01:D4E4  AD 05 2C   			lda	_map_blk_flag
13596                        		__equ_b.uiq	1
         01:D4E7  C9 01      			cmp	#1
         01:D4E9  F0 01      			beq	!+
         01:D4EB  18         			clc
         01:D4EC             	!:
13597                        		__bfalse	.LL659
         01:D4EC  B0 03 4C A8			bcc	.LL659
         01:D4F0  D5          
13598                        	
13599                        		.dbg	line,	"include\routines_LEVELS.c", 2608; {
13600                        	
13601                        		.dbg	line,	"include\routines_LEVELS.c", 2609; // CALCULATE HOW MANY PIXELS THE PLAYER MOVED INTO THE GROUND //
13602                        	
13603                        		.dbg	line,	"include\routines_LEVELS.c", 2610; for(i=1; i<11 ; i++ )
13604                        		__st.umiq	1, __update_PLAYER_end - 6  /* i */
         01:D4F1  A9 01      			lda.l	#1
         01:D4F3  8D 07 23   			sta	__update_PLAYER_end - 6
13605    01:D4F6             	.LL660:
13606                        		__ld.umq	__update_PLAYER_end - 6  /* i */
         01:D4F6  AD 07 23   			lda	__update_PLAYER_end - 6
13607                        		__ult_b.uiq	11
         01:D4F9  C9 0B      			cmp	#11		; Subtract integer from A.
         01:D4FB  6A         			ror	a		; CC if A < integer.
         01:D4FC  49 80      			eor	#$80
         01:D4FE  2A         			rol	a
13608                        		__btrue		.LL662
         01:D4FF  B0 07      			bcs	.LL662
13609                        		__bra		.LL663
         01:D501  80 7D      			bra	.LL663
13610    01:D503             	.LL661:
13611                        		__inc.umq	__update_PLAYER_end - 6  /* i */
         01:D503  EE 07 23   			inc	__update_PLAYER_end - 6
13612                        		__bra		.LL660
         01:D506  80 EE      			bra	.LL660
13613    01:D508             	.LL662:
13614                        	
13615                        		.dbg	line,	"include\routines_LEVELS.c", 2611; {
13616                        	
13617                        		.dbg	line,	"include\routines_LEVELS.c", 2612; check_TILE_DEPTH( 15 , i);//20
13618                        		__ld.wi		15
         01:D508  A9 0F      			lda.l	#15
         01:D50A  C2         			cly
13619                        		__pusharg.wr
         01:D50B  A6 8D      			ldx	<__sp
         01:D50D  CA         			dex
         01:D50E  CA         			dex
         01:D50F  95 08      			sta.l	<__stack, x
         01:D511  94 09      			sty.h	<__stack, x
         01:D513  86 8D      			stx	<__sp
13620                        		__ld.um		__update_PLAYER_end - 6  /* i */
         01:D515  AD 07 23   			lda	__update_PLAYER_end - 6
         01:D518  C2         			cly
13621                        		__pusharg.wr
         01:D519  A6 8D      			ldx	<__sp
         01:D51B  CA         			dex
         01:D51C  CA         			dex
         01:D51D  95 08      			sta.l	<__stack, x
         01:D51F  94 09      			sty.h	<__stack, x
         01:D521  86 8D      			stx	<__sp
13622                        		__call		_check_TILE_DEPTH
         01:D523  20 1D FF   			call	_check_TILE_DEPTH
13623                        	
13624                        		.dbg	line,	"include\routines_LEVELS.c", 2615; if(map_blk_flag == TILE_EMPTY)
13625                        		__not.um	_map_blk_flag
         01:D526  AD 05 2C   			lda	_map_blk_flag
         01:D529  18         			clc
         01:D52A  D0 01      			bne	!+
         01:D52C  38         			sec
         01:D52D             	!:
13626                        		__bfalse	.LL664
         01:D52D  90 D4      			bcc	.LL664
13627                        	
13628                        		.dbg	line,	"include\routines_LEVELS.c", 2616; {
13629                        	
13630                        		.dbg	line,	"include\routines_LEVELS.c", 2617; if(player_pos_y != PLAYER_BASE_Y_POS)
13631                        		__ld.wm		_player_pos_y
         01:D52F  AD 03 25   			lda.l	_player_pos_y
         01:D532  AC 04 25   			ldy.h	_player_pos_y
13632                        		__neq_w.wi	128
         01:D535  38         			sec
         01:D536  49 80      			eor.l	#128
         01:D538  D0 06      			bne	!+
         01:D53A  98         			tya
         01:D53B  49 00      			eor.h	#128
         01:D53D  D0 01      			bne	!+
         01:D53F  18         			clc
         01:D540             	!:
13633                        		__bfalse	.LL665
         01:D540  90 1E      			bcc	.LL665
13634                        	
13635                        		.dbg	line,	"include\routines_LEVELS.c", 2618; {
13636                        	
13637                        		.dbg	line,	"include\routines_LEVELS.c", 2619; player_pos_y -= (i - 1);
13638                        		__ld.um		__update_PLAYER_end - 6  /* i */
         01:D542  AD 07 23   			lda	__update_PLAYER_end - 6
         01:D545  C2         			cly
13639                        		__sub.wi	1
         01:D546  38         			sec
         01:D547  E9 01      			sbc.l	#1
         01:D549  B0 01      			bcs	!+
         01:D54B  88         			dey
         01:D54C             	!:
13640                        		__isub_st.wmq	_player_pos_y
         01:D54C  38         			sec
         01:D54D  49 FF      			eor	#$FF
         01:D54F  6D 03 25   			adc.l	_player_pos_y
         01:D552  8D 03 25   			sta.l	_player_pos_y
         01:D555  98         			tya
         01:D556  49 FF      			eor	#$FF
         01:D558  6D 04 25   			adc.h	_player_pos_y
         01:D55B  8D 04 25   			sta.h	_player_pos_y
13641                        	
13642                        		.dbg	line,	"include\routines_LEVELS.c", 2620; }
13643                        	
13644                        		.dbg	line,	"include\routines_LEVELS.c", 2622; else
13645                        		__bra		.LL666
         01:D55E  80 20      			bra	.LL666
13646    01:D560             	.LL665:
13647                        	
13648                        		.dbg	line,	"include\routines_LEVELS.c", 2623; {
13649                        	
13650                        		.dbg	line,	"include\routines_LEVELS.c", 2624; sgx_map_pxl_y -= (i - 1);
13651                        		__ld.um		__update_PLAYER_end - 6  /* i */
         01:D560  AD 07 23   			lda	__update_PLAYER_end - 6
         01:D563  C2         			cly
13652                        		__sub.wi	1
         01:D564  38         			sec
         01:D565  E9 01      			sbc.l	#1
         01:D567  B0 01      			bcs	!+
         01:D569  88         			dey
         01:D56A             	!:
13653                        		__isub_st.wmq	_sgx_map_pxl_y
         01:D56A  38         			sec
         01:D56B  49 FF      			eor	#$FF
         01:D56D  6D E6 26   			adc.l	_sgx_map_pxl_y
         01:D570  8D E6 26   			sta.l	_sgx_map_pxl_y
         01:D573  98         			tya
         01:D574  49 FF      			eor	#$FF
         01:D576  6D E7 26   			adc.h	_sgx_map_pxl_y
         01:D579  8D E7 26   			sta.h	_sgx_map_pxl_y
13654                        	
13655                        		.dbg	line,	"include\routines_LEVELS.c", 2625; }
13656    01:D57C             	.LL666	.alias		.LL663
13657                        	
13658                        		.dbg	line,	"include\routines_LEVELS.c", 2628; break;
13659                        		__bra		.LL663
         01:D57C  80 02      			bra	.LL663
13660                        	
13661                        		.dbg	line,	"include\routines_LEVELS.c", 2629; }
13662                        	
13663                        		.dbg	line,	"include\routines_LEVELS.c", 2631; }
13664    01:D57E             	.LL664	.alias		.LL661
13665                        		__bra		.LL661
         01:D57E  80 83      			bra	.LL661
13666    01:D580             	.LL663:
13667                        	
13668                        		.dbg	line,	"include\routines_LEVELS.c", 2633; spr_y(player_pos_y);
13669                        		__ld.wm		_player_pos_y
         01:D580  AD 03 25   			lda.l	_player_pos_y
         01:D583  AC 04 25   			ldy.h	_player_pos_y
13670                        		__call		_spr_y.1
         01:D586  20 2D E8   			call	_spr_y.1
13671                        	
13672                        		.dbg	line,	"include\routines_LEVELS.c", 2635; player_counter_anim = 1;
13673                        		__st.umiq	1, _player_counter_anim
         01:D589  A9 01      			lda.l	#1
         01:D58B  8D 1D 23   			sta	_player_counter_anim
13674                        	
13675                        		.dbg	line,	"include\routines_LEVELS.c", 2636; player_index_jump = 0;
13676                        		__st.umiq	0, _player_index_jump
         01:D58E  9C 1E 23   			stz	_player_index_jump
13677                        	
13678                        		.dbg	line,	"include\routines_LEVELS.c", 2637; player_index_fall = 0;
13679                        		__st.umiq	0, _player_index_fall
         01:D591  9C 1F 23   			stz	_player_index_fall
13680                        	
13681                        		.dbg	line,	"include\routines_LEVELS.c", 2638; jump_ladder = FALSE;
13682                        		__st.umiq	0, _jump_ladder
         01:D594  9C 23 23   			stz	_jump_ladder
13683                        	
13684                        		.dbg	line,	"include\routines_LEVELS.c", 2639; fall_ladder = FALSE;
13685                        		__st.umiq	0, _fall_ladder
         01:D597  9C 25 23   			stz	_fall_ladder
13686                        	
13687                        		.dbg	line,	"include\routines_LEVELS.c", 2640; hit_wall = FALSE;
13688                        		__st.umiq	0, _hit_wall
         01:D59A  9C 26 23   			stz	_hit_wall
13689                        	
13690                        		.dbg	line,	"include\routines_LEVELS.c", 2641; jump_max_index = 34;
13691                        		__st.umiq	34, _jump_max_index
         01:D59D  A9 22      			lda.l	#34
         01:D59F  8D 24 23   			sta	_jump_max_index
13692                        	
13693                        		.dbg	line,	"include\routines_LEVELS.c", 2642; player_state = STATE_IDLE;
13694                        		__st.umiq	0, _player_state
         01:D5A2  9C 1A 23   			stz	_player_state
13695                        	
13696                        		.dbg	line,	"include\routines_LEVELS.c", 2643; return;
13697                        		__bra		.LL496
         01:D5A5  4C 30 DA   			bra	.LL496
13698                        	
13699                        		.dbg	line,	"include\routines_LEVELS.c", 2644; }
13700                        	
13701                        		.dbg	line,	"include\routines_LEVELS.c", 2647; collision_PLAYER_BG( 16 , 16 );
13702    01:D5A8             	.LL659:
13703                        		__ld.wi		16
         01:D5A8  A9 10      			lda.l	#16
         01:D5AA  C2         			cly
13704                        		__pusharg.wr
         01:D5AB  A6 8D      			ldx	<__sp
         01:D5AD  CA         			dex
         01:D5AE  CA         			dex
         01:D5AF  95 08      			sta.l	<__stack, x
         01:D5B1  94 09      			sty.h	<__stack, x
         01:D5B3  86 8D      			stx	<__sp
13705                        		__ld.wi		16
         01:D5B5  A9 10      			lda.l	#16
         01:D5B7  C2         			cly
13706                        		__pusharg.wr
         01:D5B8  A6 8D      			ldx	<__sp
         01:D5BA  CA         			dex
         01:D5BB  CA         			dex
         01:D5BC  95 08      			sta.l	<__stack, x
         01:D5BE  94 09      			sty.h	<__stack, x
         01:D5C0  86 8D      			stx	<__sp
13707                        		__call		_collision_PLAYER_BG
         01:D5C2  20 31 FF   			call	_collision_PLAYER_BG
13708                        	
13709                        		.dbg	line,	"include\routines_LEVELS.c", 2649; // IF PLAYER HITS THE LADDER //
13710                        	
13711                        		.dbg	line,	"include\routines_LEVELS.c", 2650; if(map_blk_flag == TILE_LADDER)
13712                        		__ld.umq	_map_blk_flag
         01:D5C5  AD 05 2C   			lda	_map_blk_flag
13713                        		__equ_b.uiq	2
         01:D5C8  C9 02      			cmp	#2
         01:D5CA  F0 01      			beq	!+
         01:D5CC  18         			clc
         01:D5CD             	!:
13714                        		__bfalse	.LL667
         01:D5CD  90 6F      			bcc	.LL667
13715                        	
13716                        		.dbg	line,	"include\routines_LEVELS.c", 2651; {
13717                        	
13718                        		.dbg	line,	"include\routines_LEVELS.c", 2652; // CAMERA GOES 8 PX BACKWARD //
13719                        	
13720                        		.dbg	line,	"include\routines_LEVELS.c", 2653; sgx_map_pxl_x = ( (sgx_map_pxl_x >> 3) << 3 );
13721                        		__ld.wm		_sgx_map_pxl_x
         01:D5CF  AD E4 26   			lda.l	_sgx_map_pxl_x
         01:D5D2  AC E5 26   			ldy.h	_sgx_map_pxl_x
13722                        		__lsr.wi	3
         01:D5D5  84 00      			sty	__temp
         01:D5D7  20 3A E2   			jsr	lsrw3
13723                        		__asl.wi	3
         01:D5DA  84 00      			sty	__temp
         01:D5DC  20 D7 E1   			jsr	aslw3
13724                        		__st.wmq	_sgx_map_pxl_x
         01:D5DF  8D E4 26   			sta.l	_sgx_map_pxl_x
         01:D5E2  8C E5 26   			sty.h	_sgx_map_pxl_x
13725                        	
13726                        		.dbg	line,	"include\routines_LEVELS.c", 2655; // SO WE UPDATE THE MAP //
13727                        	
13728                        		.dbg	line,	"include\routines_LEVELS.c", 2656; sgx_scroll_map();
13729                        		__call		_sgx_scroll_map
         01:D5E5  20 63 FF   			call	_sgx_scroll_map
13730                        	
13731                        		.dbg	line,	"include\routines_LEVELS.c", 2658; // CHECK IF THE PLAYER STANDS RIGHT TO THE LADDER //
13732                        	
13733                        		.dbg	line,	"include\routines_LEVELS.c", 2659; collision_PLAYER_BG( 31 , 16 );
13734                        		__ld.wi		31
         01:D5E8  A9 1F      			lda.l	#31
         01:D5EA  C2         			cly
13735                        		__pusharg.wr
         01:D5EB  A6 8D      			ldx	<__sp
         01:D5ED  CA         			dex
         01:D5EE  CA         			dex
         01:D5EF  95 08      			sta.l	<__stack, x
         01:D5F1  94 09      			sty.h	<__stack, x
         01:D5F3  86 8D      			stx	<__sp
13736                        		__ld.wi		16
         01:D5F5  A9 10      			lda.l	#16
         01:D5F7  C2         			cly
13737                        		__pusharg.wr
         01:D5F8  A6 8D      			ldx	<__sp
         01:D5FA  CA         			dex
         01:D5FB  CA         			dex
         01:D5FC  95 08      			sta.l	<__stack, x
         01:D5FE  94 09      			sty.h	<__stack, x
         01:D600  86 8D      			stx	<__sp
13738                        		__call		_collision_PLAYER_BG
         01:D602  20 31 FF   			call	_collision_PLAYER_BG
13739                        	
13740                        		.dbg	line,	"include\routines_LEVELS.c", 2661; if(map_blk_flag == TILE_LADDER)
13741                        		__ld.umq	_map_blk_flag
         01:D605  AD 05 2C   			lda	_map_blk_flag
13742                        		__equ_b.uiq	2
         01:D608  C9 02      			cmp	#2
         01:D60A  F0 01      			beq	!+
         01:D60C  18         			clc
         01:D60D             	!:
13743                        		__bfalse	.LL668
         01:D60D  90 0E      			bcc	.LL668
13744                        	
13745                        		.dbg	line,	"include\routines_LEVELS.c", 2662; {
13746                        	
13747                        		.dbg	line,	"include\routines_LEVELS.c", 2663; sgx_map_pxl_x += 8;
13748                        		__add_st.wmiq	8, _sgx_map_pxl_x
         01:D60F  18         			clc
         01:D610  AD E4 26   			lda.l	_sgx_map_pxl_x
         01:D613  69 08      			adc.l	#8
         01:D615  8D E4 26   			sta.l	_sgx_map_pxl_x
         01:D618  90 03      			bcc	!+
         01:D61A  EE E5 26   			inc.h	_sgx_map_pxl_x
         01:D61D             	!:
13749                        	
13750                        		.dbg	line,	"include\routines_LEVELS.c", 2664; }
13751                        	
13752                        		.dbg	line,	"include\routines_LEVELS.c", 2666; spr_pattern(PLAYER_HANG_VRAM_ADR);
13753    01:D61D             	.LL668:
13754                        		__ld.wi		8448
         01:D61D  62         			cla
         01:D61E  A0 21      			ldy.h	#8448
13755                        		__call		_spr_pattern.1
         01:D620  20 3A E8   			call	_spr_pattern.1
13756                        	
13757                        		.dbg	line,	"include\routines_LEVELS.c", 2667; player_counter_anim = 0;//1
13758                        		__st.umiq	0, _player_counter_anim
         01:D623  9C 1D 23   			stz	_player_counter_anim
13759                        	
13760                        		.dbg	line,	"include\routines_LEVELS.c", 2668; player_index_jump = 0;
13761                        		__st.umiq	0, _player_index_jump
         01:D626  9C 1E 23   			stz	_player_index_jump
13762                        	
13763                        		.dbg	line,	"include\routines_LEVELS.c", 2669; player_index_fall = 0;
13764                        		__st.umiq	0, _player_index_fall
         01:D629  9C 1F 23   			stz	_player_index_fall
13765                        	
13766                        		.dbg	line,	"include\routines_LEVELS.c", 2670; jump_ladder = TRUE;
13767                        		__st.umiq	1, _jump_ladder
         01:D62C  A9 01      			lda.l	#1
         01:D62E  8D 23 23   			sta	_jump_ladder
13768                        	
13769                        		.dbg	line,	"include\routines_LEVELS.c", 2671; jump_max_index = 29;
13770                        		__st.umiq	29, _jump_max_index
         01:D631  A9 1D      			lda.l	#29
         01:D633  8D 24 23   			sta	_jump_max_index
13771                        	
13772                        		.dbg	line,	"include\routines_LEVELS.c", 2672; player_state = STATE_HANG;
13773                        		__st.umiq	10, _player_state
         01:D636  A9 0A      			lda.l	#10
         01:D638  8D 1A 23   			sta	_player_state
13774                        	
13775                        		.dbg	line,	"include\routines_LEVELS.c", 2673; return;
13776                        		__bra		.LL496
         01:D63B  4C 30 DA   			bra	.LL496
13777                        	
13778                        		.dbg	line,	"include\routines_LEVELS.c", 2674; }
13779                        	
13780                        		.dbg	line,	"include\routines_LEVELS.c", 2676; spr_y(player_pos_y);
13781    01:D63E             	.LL667:
13782                        		__ld.wm		_player_pos_y
         01:D63E  AD 03 25   			lda.l	_player_pos_y
         01:D641  AC 04 25   			ldy.h	_player_pos_y
13783                        		__call		_spr_y.1
         01:D644  20 2D E8   			call	_spr_y.1
13784                        	
13785                        		.dbg	line,	"include\routines_LEVELS.c", 2678; spr_set(weapon_id);
13786                        		__ld.umq	_weapon_id
         01:D647  AD 28 23   			lda	_weapon_id
13787                        		__call		_spr_set.1
         01:D64A  20 F1 E7   			call	_spr_set.1
13788                        	
13789                        		.dbg	line,	"include\routines_LEVELS.c", 2680; if(fall_ladder == TRUE || hit_wall == TRUE)
13790                        		__ld.umq	_fall_ladder
         01:D64D  AD 25 23   			lda	_fall_ladder
13791                        		__equ_b.uiq	1
         01:D650  C9 01      			cmp	#1
         01:D652  F0 01      			beq	!+
         01:D654  18         			clc
         01:D655             	!:
13792                        		__btrue		.LL670
         01:D655  B0 08      			bcs	.LL670
13793                        		__ld.umq	_hit_wall
         01:D657  AD 26 23   			lda	_hit_wall
13794                        		__equ_b.uiq	1
         01:D65A  C9 01      			cmp	#1
         01:D65C  F0 01      			beq	!+
         01:D65E  18         			clc
         01:D65F             	!:
13795    01:D65F             	.LL670:
13796                        		__bfalse	.LL669
         01:D65F  B0 03 4C 30			bcc	.LL669
         01:D663  DA          
13797                        	
13798                        		.dbg	line,	"include\routines_LEVELS.c", 2681; {
13799                        	
13800                        		.dbg	line,	"include\routines_LEVELS.c", 2682; spr_y(player_pos_y+8);
13801                        		__ld.wm		_player_pos_y
         01:D664  AD 03 25   			lda.l	_player_pos_y
         01:D667  AC 04 25   			ldy.h	_player_pos_y
13802                        		__add.wi	8
         01:D66A  18         			clc
         01:D66B  69 08      			adc.l	#8
         01:D66D  90 01      			bcc	!+
         01:D66F  C8         			iny
         01:D670             	!:
13803                        		__call		_spr_y.1
         01:D670  20 2D E8   			call	_spr_y.1
13804                        	
13805                        		.dbg	line,	"include\routines_LEVELS.c", 2683; }
13806                        	
13807                        		.dbg	line,	"include\routines_LEVELS.c", 2684; }
13808    01:D673             	.LL669	.alias		.LL671
13809                        	
13810                        		.dbg	line,	"include\routines_LEVELS.c", 2687; else if(player_state == STATE_HANG)
13811                        		__bra		.LL671
         01:D673  4C 30 DA   			bra	.LL671
13812    01:D676             	.LL655:
13813                        		__ld.umq	_player_state
         01:D676  AD 1A 23   			lda	_player_state
13814                        		__equ_b.uiq	10
         01:D679  C9 0A      			cmp	#10
         01:D67B  F0 01      			beq	!+
         01:D67D  18         			clc
         01:D67E             	!:
13815                        		__bfalse	.LL672
         01:D67E  90 5A      			bcc	.LL672
13816                        	
13817                        		.dbg	line,	"include\routines_LEVELS.c", 2688; {
13818                        	
13819                        		.dbg	line,	"include\routines_LEVELS.c", 2689; recenter_CAMERA();
13820                        		__call		_recenter_CAMERA
         01:D680  20 27 FF   			call	_recenter_CAMERA
13821                        	
13822                        		.dbg	line,	"include\routines_LEVELS.c", 2691; if(player_attack == FALSE)
13823                        		__not.um	_player_attack
         01:D683  AD 22 23   			lda	_player_attack
         01:D686  18         			clc
         01:D687  D0 01      			bne	!+
         01:D689  38         			sec
         01:D68A             	!:
13824                        		__bfalse	.LL673
         01:D68A  B0 03 4C 30			bcc	.LL673
         01:D68E  DA          
13825                        	
13826                        		.dbg	line,	"include\routines_LEVELS.c", 2692; {
13827                        	
13828                        		.dbg	line,	"include\routines_LEVELS.c", 2693; spr_set(weapon_id);
13829                        		__ld.umq	_weapon_id
         01:D68F  AD 28 23   			lda	_weapon_id
13830                        		__call		_spr_set.1
         01:D692  20 F1 E7   			call	_spr_set.1
13831                        	
13832                        		.dbg	line,	"include\routines_LEVELS.c", 2694; spr_pattern(WEAPON_IDLE_VRAM_ADRESS);
13833                        		__ld.wi		31808
         01:D695  A9 40      			lda.l	#31808
         01:D697  A0 7C      			ldy.h	#31808
13834                        		__call		_spr_pattern.1
         01:D699  20 3A E8   			call	_spr_pattern.1
13835                        	
13836                        		.dbg	line,	"include\routines_LEVELS.c", 2695; spr_y(player_pos_y+5);
13837                        		__ld.wm		_player_pos_y
         01:D69C  AD 03 25   			lda.l	_player_pos_y
         01:D69F  AC 04 25   			ldy.h	_player_pos_y
13838                        		__add.wi	5
         01:D6A2  18         			clc
         01:D6A3  69 05      			adc.l	#5
         01:D6A5  90 01      			bcc	!+
         01:D6A7  C8         			iny
         01:D6A8             	!:
13839                        		__call		_spr_y.1
         01:D6A8  20 2D E8   			call	_spr_y.1
13840                        	
13841                        		.dbg	line,	"include\routines_LEVELS.c", 2697; if(player_axis == AXIS_RIGHT)
13842                        		__not.um	_player_axis
         01:D6AB  AD 1B 23   			lda	_player_axis
         01:D6AE  18         			clc
         01:D6AF  D0 01      			bne	!+
         01:D6B1  38         			sec
         01:D6B2             	!:
13843                        		__bfalse	.LL674
         01:D6B2  90 11      			bcc	.LL674
13844                        	
13845                        		.dbg	line,	"include\routines_LEVELS.c", 2698; {
13846                        	
13847                        		.dbg	line,	"include\routines_LEVELS.c", 2699; spr_x(player_pos_x+17);
13848                        		__ld.wm		_player_pos_x
         01:D6B4  AD 01 25   			lda.l	_player_pos_x
         01:D6B7  AC 02 25   			ldy.h	_player_pos_x
13849                        		__add.wi	17
         01:D6BA  18         			clc
         01:D6BB  69 11      			adc.l	#17
         01:D6BD  90 01      			bcc	!+
         01:D6BF  C8         			iny
         01:D6C0             	!:
13850                        		__call		_spr_x.1
         01:D6C0  20 1E E8   			call	_spr_x.1
13851                        	
13852                        		.dbg	line,	"include\routines_LEVELS.c", 2700; }
13853                        	
13854                        		.dbg	line,	"include\routines_LEVELS.c", 2702; else
13855                        		__bra		.LL675
         01:D6C3  80 0F      			bra	.LL675
13856    01:D6C5             	.LL674:
13857                        	
13858                        		.dbg	line,	"include\routines_LEVELS.c", 2703; {
13859                        	
13860                        		.dbg	line,	"include\routines_LEVELS.c", 2704; spr_x(player_pos_x-2);
13861                        		__ld.wm		_player_pos_x
         01:D6C5  AD 01 25   			lda.l	_player_pos_x
         01:D6C8  AC 02 25   			ldy.h	_player_pos_x
13862                        		__sub.wi	2
         01:D6CB  38         			sec
         01:D6CC  E9 02      			sbc.l	#2
         01:D6CE  B0 01      			bcs	!+
         01:D6D0  88         			dey
         01:D6D1             	!:
13863                        		__call		_spr_x.1
         01:D6D1  20 1E E8   			call	_spr_x.1
13864                        	
13865                        		.dbg	line,	"include\routines_LEVELS.c", 2705; }
13866    01:D6D4             	.LL675:
13867                        	
13868                        		.dbg	line,	"include\routines_LEVELS.c", 2706; 
13869                        	
13870                        		.dbg	line,	"include\routines_LEVELS.c", 2707; player_counter_anim = 0;
13871                        		__st.umiq	0, _player_counter_anim
         01:D6D4  9C 1D 23   			stz	_player_counter_anim
13872                        	
13873                        		.dbg	line,	"include\routines_LEVELS.c", 2708; }
13874                        	
13875                        		.dbg	line,	"include\routines_LEVELS.c", 2709; }
13876    01:D6D7             	.LL673	.alias		.LL676
13877                        	
13878                        		.dbg	line,	"include\routines_LEVELS.c", 2712; else if(player_state == STATE_CLIMB_UP)
13879                        		__bra		.LL676
         01:D6D7  4C 30 DA   			bra	.LL676
13880    01:D6DA             	.LL672:
13881                        		__ld.umq	_player_state
         01:D6DA  AD 1A 23   			lda	_player_state
13882                        		__equ_b.uiq	11
         01:D6DD  C9 0B      			cmp	#11
         01:D6DF  F0 01      			beq	!+
         01:D6E1  18         			clc
         01:D6E2             	!:
13883                        		__bfalse	.LL677
         01:D6E2  B0 03 4C BC			bcc	.LL677
         01:D6E6  D7          
13884                        	
13885                        		.dbg	line,	"include\routines_LEVELS.c", 2713; {
13886                        	
13887                        		.dbg	line,	"include\routines_LEVELS.c", 2714; if(player_counter_anim == 0)
13888                        		__not.um	_player_counter_anim
         01:D6E7  AD 1D 23   			lda	_player_counter_anim
         01:D6EA  18         			clc
         01:D6EB  D0 01      			bne	!+
         01:D6ED  38         			sec
         01:D6EE             	!:
13889                        		__bfalse	.LL678
         01:D6EE  90 0F      			bcc	.LL678
13890                        	
13891                        		.dbg	line,	"include\routines_LEVELS.c", 2715; {
13892                        	
13893                        		.dbg	line,	"include\routines_LEVELS.c", 2716; spr_set(player_id);
13894                        		__ld.umq	_player_id
         01:D6F0  AD 19 23   			lda	_player_id
13895                        		__call		_spr_set.1
         01:D6F3  20 F1 E7   			call	_spr_set.1
13896                        	
13897                        		.dbg	line,	"include\routines_LEVELS.c", 2717; spr_pattern(PLAYER_CLIMB_1_VRAM_ADR); 
13898                        		__ld.wi		8704
         01:D6F6  62         			cla
         01:D6F7  A0 22      			ldy.h	#8704
13899                        		__call		_spr_pattern.1
         01:D6F9  20 3A E8   			call	_spr_pattern.1
13900                        	
13901                        		.dbg	line,	"include\routines_LEVELS.c", 2718; }
13902                        	
13903                        		.dbg	line,	"include\routines_LEVELS.c", 2720; else if(player_counter_anim == 2)
13904                        		__bra		.LL679
         01:D6FC  4C A6 D7   			bra	.LL679
13905    01:D6FF             	.LL678:
13906                        		__ld.umq	_player_counter_anim
         01:D6FF  AD 1D 23   			lda	_player_counter_anim
13907                        		__equ_b.uiq	2
         01:D702  C9 02      			cmp	#2
         01:D704  F0 01      			beq	!+
         01:D706  18         			clc
         01:D707             	!:
13908                        		__bfalse	.LL680
         01:D707  90 0F      			bcc	.LL680
13909                        	
13910                        		.dbg	line,	"include\routines_LEVELS.c", 2721; {
13911                        	
13912                        		.dbg	line,	"include\routines_LEVELS.c", 2722; spr_set(player_id);
13913                        		__ld.umq	_player_id
         01:D709  AD 19 23   			lda	_player_id
13914                        		__call		_spr_set.1
         01:D70C  20 F1 E7   			call	_spr_set.1
13915                        	
13916                        		.dbg	line,	"include\routines_LEVELS.c", 2723; spr_pattern(PLAYER_CLIMB_2_VRAM_ADR); 
13917                        		__ld.wi		8960
         01:D70F  62         			cla
         01:D710  A0 23      			ldy.h	#8960
13918                        		__call		_spr_pattern.1
         01:D712  20 3A E8   			call	_spr_pattern.1
13919                        	
13920                        		.dbg	line,	"include\routines_LEVELS.c", 2724; }
13921                        	
13922                        		.dbg	line,	"include\routines_LEVELS.c", 2726; else if(player_counter_anim == 5)
13923                        		__bra		.LL681
         01:D715  4C A6 D7   			bra	.LL681
13924    01:D718             	.LL680:
13925                        		__ld.umq	_player_counter_anim
         01:D718  AD 1D 23   			lda	_player_counter_anim
13926                        		__equ_b.uiq	5
         01:D71B  C9 05      			cmp	#5
         01:D71D  F0 01      			beq	!+
         01:D71F  18         			clc
         01:D720             	!:
13927                        		__bfalse	.LL682
         01:D720  90 0E      			bcc	.LL682
13928                        	
13929                        		.dbg	line,	"include\routines_LEVELS.c", 2727; {
13930                        	
13931                        		.dbg	line,	"include\routines_LEVELS.c", 2728; spr_set(player_id);
13932                        		__ld.umq	_player_id
         01:D722  AD 19 23   			lda	_player_id
13933                        		__call		_spr_set.1
         01:D725  20 F1 E7   			call	_spr_set.1
13934                        	
13935                        		.dbg	line,	"include\routines_LEVELS.c", 2729; spr_pattern(PLAYER_CLIMB_3_VRAM_ADR); 
13936                        		__ld.wi		9216
         01:D728  62         			cla
         01:D729  A0 24      			ldy.h	#9216
13937                        		__call		_spr_pattern.1
         01:D72B  20 3A E8   			call	_spr_pattern.1
13938                        	
13939                        		.dbg	line,	"include\routines_LEVELS.c", 2730; }
13940                        	
13941                        		.dbg	line,	"include\routines_LEVELS.c", 2732; else if(player_counter_anim == 8)
13942                        		__bra		.LL683
         01:D72E  80 76      			bra	.LL683
13943    01:D730             	.LL682:
13944                        		__ld.umq	_player_counter_anim
         01:D730  AD 1D 23   			lda	_player_counter_anim
13945                        		__equ_b.uiq	8
         01:D733  C9 08      			cmp	#8
         01:D735  F0 01      			beq	!+
         01:D737  18         			clc
         01:D738             	!:
13946                        		__bfalse	.LL684
         01:D738  90 0E      			bcc	.LL684
13947                        	
13948                        		.dbg	line,	"include\routines_LEVELS.c", 2733; {
13949                        	
13950                        		.dbg	line,	"include\routines_LEVELS.c", 2734; spr_set(player_id);
13951                        		__ld.umq	_player_id
         01:D73A  AD 19 23   			lda	_player_id
13952                        		__call		_spr_set.1
         01:D73D  20 F1 E7   			call	_spr_set.1
13953                        	
13954                        		.dbg	line,	"include\routines_LEVELS.c", 2735; spr_pattern(PLAYER_CLIMB_4_VRAM_ADR); 
13955                        		__ld.wi		9472
         01:D740  62         			cla
         01:D741  A0 25      			ldy.h	#9472
13956                        		__call		_spr_pattern.1
         01:D743  20 3A E8   			call	_spr_pattern.1
13957                        	
13958                        		.dbg	line,	"include\routines_LEVELS.c", 2736; }
13959                        	
13960                        		.dbg	line,	"include\routines_LEVELS.c", 2738; else if(player_counter_anim == 11)
13961                        		__bra		.LL685
         01:D746  80 5E      			bra	.LL685
13962    01:D748             	.LL684:
13963                        		__ld.umq	_player_counter_anim
         01:D748  AD 1D 23   			lda	_player_counter_anim
13964                        		__equ_b.uiq	11
         01:D74B  C9 0B      			cmp	#11
         01:D74D  F0 01      			beq	!+
         01:D74F  18         			clc
         01:D750             	!:
13965                        		__bfalse	.LL686
         01:D750  90 0E      			bcc	.LL686
13966                        	
13967                        		.dbg	line,	"include\routines_LEVELS.c", 2739; {
13968                        	
13969                        		.dbg	line,	"include\routines_LEVELS.c", 2740; spr_set(player_id);
13970                        		__ld.umq	_player_id
         01:D752  AD 19 23   			lda	_player_id
13971                        		__call		_spr_set.1
         01:D755  20 F1 E7   			call	_spr_set.1
13972                        	
13973                        		.dbg	line,	"include\routines_LEVELS.c", 2741; spr_pattern(PLAYER_CLIMB_5_VRAM_ADR); 
13974                        		__ld.wi		9728
         01:D758  62         			cla
         01:D759  A0 26      			ldy.h	#9728
13975                        		__call		_spr_pattern.1
         01:D75B  20 3A E8   			call	_spr_pattern.1
13976                        	
13977                        		.dbg	line,	"include\routines_LEVELS.c", 2742; }
13978                        	
13979                        		.dbg	line,	"include\routines_LEVELS.c", 2744; else if(player_counter_anim == 14)
13980                        		__bra		.LL687
         01:D75E  80 46      			bra	.LL687
13981    01:D760             	.LL686:
13982                        		__ld.umq	_player_counter_anim
         01:D760  AD 1D 23   			lda	_player_counter_anim
13983                        		__equ_b.uiq	14
         01:D763  C9 0E      			cmp	#14
         01:D765  F0 01      			beq	!+
         01:D767  18         			clc
         01:D768             	!:
13984                        		__bfalse	.LL688
         01:D768  90 0E      			bcc	.LL688
13985                        	
13986                        		.dbg	line,	"include\routines_LEVELS.c", 2745; {
13987                        	
13988                        		.dbg	line,	"include\routines_LEVELS.c", 2746; spr_set(player_id);
13989                        		__ld.umq	_player_id
         01:D76A  AD 19 23   			lda	_player_id
13990                        		__call		_spr_set.1
         01:D76D  20 F1 E7   			call	_spr_set.1
13991                        	
13992                        		.dbg	line,	"include\routines_LEVELS.c", 2747; spr_pattern(PLAYER_CLIMB_6_VRAM_ADR); 
13993                        		__ld.wi		9984
         01:D770  62         			cla
         01:D771  A0 27      			ldy.h	#9984
13994                        		__call		_spr_pattern.1
         01:D773  20 3A E8   			call	_spr_pattern.1
13995                        	
13996                        		.dbg	line,	"include\routines_LEVELS.c", 2748; }
13997                        	
13998                        		.dbg	line,	"include\routines_LEVELS.c", 2750; else if(player_counter_anim == 17)
13999                        		__bra		.LL689
         01:D776  80 2E      			bra	.LL689
14000    01:D778             	.LL688:
14001                        		__ld.umq	_player_counter_anim
         01:D778  AD 1D 23   			lda	_player_counter_anim
14002                        		__equ_b.uiq	17
         01:D77B  C9 11      			cmp	#17
         01:D77D  F0 01      			beq	!+
         01:D77F  18         			clc
         01:D780             	!:
14003                        		__bfalse	.LL690
         01:D780  90 0E      			bcc	.LL690
14004                        	
14005                        		.dbg	line,	"include\routines_LEVELS.c", 2751; {
14006                        	
14007                        		.dbg	line,	"include\routines_LEVELS.c", 2752; spr_set(player_id);
14008                        		__ld.umq	_player_id
         01:D782  AD 19 23   			lda	_player_id
14009                        		__call		_spr_set.1
         01:D785  20 F1 E7   			call	_spr_set.1
14010                        	
14011                        		.dbg	line,	"include\routines_LEVELS.c", 2753; spr_pattern(PLAYER_CLIMB_3_VRAM_ADR); 
14012                        		__ld.wi		9216
         01:D788  62         			cla
         01:D789  A0 24      			ldy.h	#9216
14013                        		__call		_spr_pattern.1
         01:D78B  20 3A E8   			call	_spr_pattern.1
14014                        	
14015                        		.dbg	line,	"include\routines_LEVELS.c", 2754; }
14016                        	
14017                        		.dbg	line,	"include\routines_LEVELS.c", 2756; else if(player_counter_anim == 20)
14018                        		__bra		.LL691
         01:D78E  80 16      			bra	.LL691
14019    01:D790             	.LL690:
14020                        		__ld.umq	_player_counter_anim
         01:D790  AD 1D 23   			lda	_player_counter_anim
14021                        		__equ_b.uiq	20
         01:D793  C9 14      			cmp	#20
         01:D795  F0 01      			beq	!+
         01:D797  18         			clc
         01:D798             	!:
14022                        		__bfalse	.LL692
         01:D798  90 0C      			bcc	.LL692
14023                        	
14024                        		.dbg	line,	"include\routines_LEVELS.c", 2757; {
14025                        	
14026                        		.dbg	line,	"include\routines_LEVELS.c", 2758; spr_set(player_id);
14027                        		__ld.umq	_player_id
         01:D79A  AD 19 23   			lda	_player_id
14028                        		__call		_spr_set.1
         01:D79D  20 F1 E7   			call	_spr_set.1
14029                        	
14030                        		.dbg	line,	"include\routines_LEVELS.c", 2759; spr_pattern(PLAYER_CLIMB_2_VRAM_ADR); 
14031                        		__ld.wi		8960
         01:D7A0  62         			cla
         01:D7A1  A0 23      			ldy.h	#8960
14032                        		__call		_spr_pattern.1
         01:D7A3  20 3A E8   			call	_spr_pattern.1
14033                        	
14034                        		.dbg	line,	"include\routines_LEVELS.c", 2760; }
14035                        	
14036                        		.dbg	line,	"include\routines_LEVELS.c", 2763; player_counter_anim += 1;
14037    01:D7A6             	.LL692:
14038    01:D7A6             	.LL691:
14039    01:D7A6             	.LL689:
14040    01:D7A6             	.LL687:
14041    01:D7A6             	.LL685:
14042    01:D7A6             	.LL683:
14043    01:D7A6             	.LL681:
14044    01:D7A6             	.LL679:
14045                        		__add_st.umiq	1, _player_counter_anim
         01:D7A6  EE 1D 23   			inc	_player_counter_anim
14046                        	
14047                        		.dbg	line,	"include\routines_LEVELS.c", 2765; if(player_counter_anim == 22)
14048                        		__ld.umq	_player_counter_anim
         01:D7A9  AD 1D 23   			lda	_player_counter_anim
14049                        		__equ_b.uiq	22
         01:D7AC  C9 16      			cmp	#22
         01:D7AE  F0 01      			beq	!+
         01:D7B0  18         			clc
         01:D7B1             	!:
14050                        		__bfalse	.LL693
         01:D7B1  90 03      			bcc	.LL693
14051                        	
14052                        		.dbg	line,	"include\routines_LEVELS.c", 2766; {
14053                        	
14054                        		.dbg	line,	"include\routines_LEVELS.c", 2767; player_counter_anim = 0;
14055                        		__st.umiq	0, _player_counter_anim
         01:D7B3  9C 1D 23   			stz	_player_counter_anim
14056                        	
14057                        		.dbg	line,	"include\routines_LEVELS.c", 2768; }
14058                        	
14059                        		.dbg	line,	"include\routines_LEVELS.c", 2770; recenter_CAMERA();
14060    01:D7B6             	.LL693:
14061                        		__call		_recenter_CAMERA
         01:D7B6  20 27 FF   			call	_recenter_CAMERA
14062                        	
14063                        		.dbg	line,	"include\routines_LEVELS.c", 2771; }
14064                        	
14065                        		.dbg	line,	"include\routines_LEVELS.c", 2774; else if(player_state == STATE_CLIMB_DOWN)
14066                        		__bra		.LL694
         01:D7B9  4C 30 DA   			bra	.LL694
14067    01:D7BC             	.LL677:
14068                        		__ld.umq	_player_state
         01:D7BC  AD 1A 23   			lda	_player_state
14069                        		__equ_b.uiq	12
         01:D7BF  C9 0C      			cmp	#12
         01:D7C1  F0 01      			beq	!+
         01:D7C3  18         			clc
         01:D7C4             	!:
14070                        		__bfalse	.LL695
         01:D7C4  B0 03 4C 9E			bcc	.LL695
         01:D7C8  D8          
14071                        	
14072                        		.dbg	line,	"include\routines_LEVELS.c", 2775; {
14073                        	
14074                        		.dbg	line,	"include\routines_LEVELS.c", 2776; if(player_counter_anim == 0)
14075                        		__not.um	_player_counter_anim
         01:D7C9  AD 1D 23   			lda	_player_counter_anim
         01:D7CC  18         			clc
         01:D7CD  D0 01      			bne	!+
         01:D7CF  38         			sec
         01:D7D0             	!:
14076                        		__bfalse	.LL696
         01:D7D0  90 0F      			bcc	.LL696
14077                        	
14078                        		.dbg	line,	"include\routines_LEVELS.c", 2777; {
14079                        	
14080                        		.dbg	line,	"include\routines_LEVELS.c", 2778; spr_set(player_id);
14081                        		__ld.umq	_player_id
         01:D7D2  AD 19 23   			lda	_player_id
14082                        		__call		_spr_set.1
         01:D7D5  20 F1 E7   			call	_spr_set.1
14083                        	
14084                        		.dbg	line,	"include\routines_LEVELS.c", 2779; spr_pattern(PLAYER_CLIMB_1_VRAM_ADR); 
14085                        		__ld.wi		8704
         01:D7D8  62         			cla
         01:D7D9  A0 22      			ldy.h	#8704
14086                        		__call		_spr_pattern.1
         01:D7DB  20 3A E8   			call	_spr_pattern.1
14087                        	
14088                        		.dbg	line,	"include\routines_LEVELS.c", 2780; }
14089                        	
14090                        		.dbg	line,	"include\routines_LEVELS.c", 2782; else if(player_counter_anim == 2)
14091                        		__bra		.LL697
         01:D7DE  4C 88 D8   			bra	.LL697
14092    01:D7E1             	.LL696:
14093                        		__ld.umq	_player_counter_anim
         01:D7E1  AD 1D 23   			lda	_player_counter_anim
14094                        		__equ_b.uiq	2
         01:D7E4  C9 02      			cmp	#2
         01:D7E6  F0 01      			beq	!+
         01:D7E8  18         			clc
         01:D7E9             	!:
14095                        		__bfalse	.LL698
         01:D7E9  90 0F      			bcc	.LL698
14096                        	
14097                        		.dbg	line,	"include\routines_LEVELS.c", 2783; {
14098                        	
14099                        		.dbg	line,	"include\routines_LEVELS.c", 2784; spr_set(player_id);
14100                        		__ld.umq	_player_id
         01:D7EB  AD 19 23   			lda	_player_id
14101                        		__call		_spr_set.1
         01:D7EE  20 F1 E7   			call	_spr_set.1
14102                        	
14103                        		.dbg	line,	"include\routines_LEVELS.c", 2785; spr_pattern(PLAYER_CLIMB_2_VRAM_ADR); 
14104                        		__ld.wi		8960
         01:D7F1  62         			cla
         01:D7F2  A0 23      			ldy.h	#8960
14105                        		__call		_spr_pattern.1
         01:D7F4  20 3A E8   			call	_spr_pattern.1
14106                        	
14107                        		.dbg	line,	"include\routines_LEVELS.c", 2786; }
14108                        	
14109                        		.dbg	line,	"include\routines_LEVELS.c", 2788; else if(player_counter_anim == 5)
14110                        		__bra		.LL699
         01:D7F7  4C 88 D8   			bra	.LL699
14111    01:D7FA             	.LL698:
14112                        		__ld.umq	_player_counter_anim
         01:D7FA  AD 1D 23   			lda	_player_counter_anim
14113                        		__equ_b.uiq	5
         01:D7FD  C9 05      			cmp	#5
         01:D7FF  F0 01      			beq	!+
         01:D801  18         			clc
         01:D802             	!:
14114                        		__bfalse	.LL700
         01:D802  90 0E      			bcc	.LL700
14115                        	
14116                        		.dbg	line,	"include\routines_LEVELS.c", 2789; {
14117                        	
14118                        		.dbg	line,	"include\routines_LEVELS.c", 2790; spr_set(player_id);
14119                        		__ld.umq	_player_id
         01:D804  AD 19 23   			lda	_player_id
14120                        		__call		_spr_set.1
         01:D807  20 F1 E7   			call	_spr_set.1
14121                        	
14122                        		.dbg	line,	"include\routines_LEVELS.c", 2791; spr_pattern(PLAYER_CLIMB_3_VRAM_ADR); 
14123                        		__ld.wi		9216
         01:D80A  62         			cla
         01:D80B  A0 24      			ldy.h	#9216
14124                        		__call		_spr_pattern.1
         01:D80D  20 3A E8   			call	_spr_pattern.1
14125                        	
14126                        		.dbg	line,	"include\routines_LEVELS.c", 2792; }
14127                        	
14128                        		.dbg	line,	"include\routines_LEVELS.c", 2794; else if(player_counter_anim == 8)
14129                        		__bra		.LL701
         01:D810  80 76      			bra	.LL701
14130    01:D812             	.LL700:
14131                        		__ld.umq	_player_counter_anim
         01:D812  AD 1D 23   			lda	_player_counter_anim
14132                        		__equ_b.uiq	8
         01:D815  C9 08      			cmp	#8
         01:D817  F0 01      			beq	!+
         01:D819  18         			clc
         01:D81A             	!:
14133                        		__bfalse	.LL702
         01:D81A  90 0E      			bcc	.LL702
14134                        	
14135                        		.dbg	line,	"include\routines_LEVELS.c", 2795; {
14136                        	
14137                        		.dbg	line,	"include\routines_LEVELS.c", 2796; spr_set(player_id);
14138                        		__ld.umq	_player_id
         01:D81C  AD 19 23   			lda	_player_id
14139                        		__call		_spr_set.1
         01:D81F  20 F1 E7   			call	_spr_set.1
14140                        	
14141                        		.dbg	line,	"include\routines_LEVELS.c", 2797; spr_pattern(PLAYER_CLIMB_4_VRAM_ADR); 
14142                        		__ld.wi		9472
         01:D822  62         			cla
         01:D823  A0 25      			ldy.h	#9472
14143                        		__call		_spr_pattern.1
         01:D825  20 3A E8   			call	_spr_pattern.1
14144                        	
14145                        		.dbg	line,	"include\routines_LEVELS.c", 2798; }
14146                        	
14147                        		.dbg	line,	"include\routines_LEVELS.c", 2800; else if(player_counter_anim == 11)
14148                        		__bra		.LL703
         01:D828  80 5E      			bra	.LL703
14149    01:D82A             	.LL702:
14150                        		__ld.umq	_player_counter_anim
         01:D82A  AD 1D 23   			lda	_player_counter_anim
14151                        		__equ_b.uiq	11
         01:D82D  C9 0B      			cmp	#11
         01:D82F  F0 01      			beq	!+
         01:D831  18         			clc
         01:D832             	!:
14152                        		__bfalse	.LL704
         01:D832  90 0E      			bcc	.LL704
14153                        	
14154                        		.dbg	line,	"include\routines_LEVELS.c", 2801; {
14155                        	
14156                        		.dbg	line,	"include\routines_LEVELS.c", 2802; spr_set(player_id);
14157                        		__ld.umq	_player_id
         01:D834  AD 19 23   			lda	_player_id
14158                        		__call		_spr_set.1
         01:D837  20 F1 E7   			call	_spr_set.1
14159                        	
14160                        		.dbg	line,	"include\routines_LEVELS.c", 2803; spr_pattern(PLAYER_CLIMB_5_VRAM_ADR); 
14161                        		__ld.wi		9728
         01:D83A  62         			cla
         01:D83B  A0 26      			ldy.h	#9728
14162                        		__call		_spr_pattern.1
         01:D83D  20 3A E8   			call	_spr_pattern.1
14163                        	
14164                        		.dbg	line,	"include\routines_LEVELS.c", 2804; }
14165                        	
14166                        		.dbg	line,	"include\routines_LEVELS.c", 2806; else if(player_counter_anim == 14)
14167                        		__bra		.LL705
         01:D840  80 46      			bra	.LL705
14168    01:D842             	.LL704:
14169                        		__ld.umq	_player_counter_anim
         01:D842  AD 1D 23   			lda	_player_counter_anim
14170                        		__equ_b.uiq	14
         01:D845  C9 0E      			cmp	#14
         01:D847  F0 01      			beq	!+
         01:D849  18         			clc
         01:D84A             	!:
14171                        		__bfalse	.LL706
         01:D84A  90 0E      			bcc	.LL706
14172                        	
14173                        		.dbg	line,	"include\routines_LEVELS.c", 2807; {
14174                        	
14175                        		.dbg	line,	"include\routines_LEVELS.c", 2808; spr_set(player_id);
14176                        		__ld.umq	_player_id
         01:D84C  AD 19 23   			lda	_player_id
14177                        		__call		_spr_set.1
         01:D84F  20 F1 E7   			call	_spr_set.1
14178                        	
14179                        		.dbg	line,	"include\routines_LEVELS.c", 2809; spr_pattern(PLAYER_CLIMB_4_VRAM_ADR); 
14180                        		__ld.wi		9472
         01:D852  62         			cla
         01:D853  A0 25      			ldy.h	#9472
14181                        		__call		_spr_pattern.1
         01:D855  20 3A E8   			call	_spr_pattern.1
14182                        	
14183                        		.dbg	line,	"include\routines_LEVELS.c", 2810; }
14184                        	
14185                        		.dbg	line,	"include\routines_LEVELS.c", 2812; else if(player_counter_anim == 17)
14186                        		__bra		.LL707
         01:D858  80 2E      			bra	.LL707
14187    01:D85A             	.LL706:
14188                        		__ld.umq	_player_counter_anim
         01:D85A  AD 1D 23   			lda	_player_counter_anim
14189                        		__equ_b.uiq	17
         01:D85D  C9 11      			cmp	#17
         01:D85F  F0 01      			beq	!+
         01:D861  18         			clc
         01:D862             	!:
14190                        		__bfalse	.LL708
         01:D862  90 0E      			bcc	.LL708
14191                        	
14192                        		.dbg	line,	"include\routines_LEVELS.c", 2813; {
14193                        	
14194                        		.dbg	line,	"include\routines_LEVELS.c", 2814; spr_set(player_id);
14195                        		__ld.umq	_player_id
         01:D864  AD 19 23   			lda	_player_id
14196                        		__call		_spr_set.1
         01:D867  20 F1 E7   			call	_spr_set.1
14197                        	
14198                        		.dbg	line,	"include\routines_LEVELS.c", 2815; spr_pattern(PLAYER_CLIMB_3_VRAM_ADR); 
14199                        		__ld.wi		9216
         01:D86A  62         			cla
         01:D86B  A0 24      			ldy.h	#9216
14200                        		__call		_spr_pattern.1
         01:D86D  20 3A E8   			call	_spr_pattern.1
14201                        	
14202                        		.dbg	line,	"include\routines_LEVELS.c", 2816; }
14203                        	
14204                        		.dbg	line,	"include\routines_LEVELS.c", 2818; else if(player_counter_anim == 20)
14205                        		__bra		.LL709
         01:D870  80 16      			bra	.LL709
14206    01:D872             	.LL708:
14207                        		__ld.umq	_player_counter_anim
         01:D872  AD 1D 23   			lda	_player_counter_anim
14208                        		__equ_b.uiq	20
         01:D875  C9 14      			cmp	#20
         01:D877  F0 01      			beq	!+
         01:D879  18         			clc
         01:D87A             	!:
14209                        		__bfalse	.LL710
         01:D87A  90 0C      			bcc	.LL710
14210                        	
14211                        		.dbg	line,	"include\routines_LEVELS.c", 2819; {
14212                        	
14213                        		.dbg	line,	"include\routines_LEVELS.c", 2820; spr_set(player_id);
14214                        		__ld.umq	_player_id
         01:D87C  AD 19 23   			lda	_player_id
14215                        		__call		_spr_set.1
         01:D87F  20 F1 E7   			call	_spr_set.1
14216                        	
14217                        		.dbg	line,	"include\routines_LEVELS.c", 2821; spr_pattern(PLAYER_CLIMB_2_VRAM_ADR); 
14218                        		__ld.wi		8960
         01:D882  62         			cla
         01:D883  A0 23      			ldy.h	#8960
14219                        		__call		_spr_pattern.1
         01:D885  20 3A E8   			call	_spr_pattern.1
14220                        	
14221                        		.dbg	line,	"include\routines_LEVELS.c", 2822; }
14222                        	
14223                        		.dbg	line,	"include\routines_LEVELS.c", 2825; player_counter_anim += 1;
14224    01:D888             	.LL710:
14225    01:D888             	.LL709:
14226    01:D888             	.LL707:
14227    01:D888             	.LL705:
14228    01:D888             	.LL703:
14229    01:D888             	.LL701:
14230    01:D888             	.LL699:
14231    01:D888             	.LL697:
14232                        		__add_st.umiq	1, _player_counter_anim
         01:D888  EE 1D 23   			inc	_player_counter_anim
14233                        	
14234                        		.dbg	line,	"include\routines_LEVELS.c", 2827; if(player_counter_anim == 22)
14235                        		__ld.umq	_player_counter_anim
         01:D88B  AD 1D 23   			lda	_player_counter_anim
14236                        		__equ_b.uiq	22
         01:D88E  C9 16      			cmp	#22
         01:D890  F0 01      			beq	!+
         01:D892  18         			clc
         01:D893             	!:
14237                        		__bfalse	.LL711
         01:D893  90 03      			bcc	.LL711
14238                        	
14239                        		.dbg	line,	"include\routines_LEVELS.c", 2828; {
14240                        	
14241                        		.dbg	line,	"include\routines_LEVELS.c", 2829; player_counter_anim = 0;
14242                        		__st.umiq	0, _player_counter_anim
         01:D895  9C 1D 23   			stz	_player_counter_anim
14243                        	
14244                        		.dbg	line,	"include\routines_LEVELS.c", 2830; }
14245                        	
14246                        		.dbg	line,	"include\routines_LEVELS.c", 2832; recenter_CAMERA();
14247    01:D898             	.LL711:
14248                        		__call		_recenter_CAMERA
         01:D898  20 27 FF   			call	_recenter_CAMERA
14249                        	
14250                        		.dbg	line,	"include\routines_LEVELS.c", 2833; }
14251                        	
14252                        		.dbg	line,	"include\routines_LEVELS.c", 2836; else if(player_state == STATE_JUMP_LADDER)
14253                        		__bra		.LL712
         01:D89B  4C 30 DA   			bra	.LL712
14254    01:D89E             	.LL695:
14255                        		__ld.umq	_player_state
         01:D89E  AD 1A 23   			lda	_player_state
14256                        		__equ_b.uiq	13
         01:D8A1  C9 0D      			cmp	#13
         01:D8A3  F0 01      			beq	!+
         01:D8A5  18         			clc
         01:D8A6             	!:
14257                        		__bfalse	.LL713
         01:D8A6  B0 03 4C 30			bcc	.LL713
         01:D8AA  DA          
14258                        	
14259                        		.dbg	line,	"include\routines_LEVELS.c", 2837; {
14260                        	
14261                        		.dbg	line,	"include\routines_LEVELS.c", 2838; unsigned char i;
14262                        	
14263                        		.dbg	line,	"include\routines_LEVELS.c", 2839; i = 1;
14264                        		__st.umiq	1, __update_PLAYER_end - 8  /* i */
         01:D8AB  A9 01      			lda.l	#1
         01:D8AD  8D 05 23   			sta	__update_PLAYER_end - 8
14265                        	
14266                        		.dbg	line,	"include\routines_LEVELS.c", 2842; if(player_counter_anim == 0)
14267                        		__not.um	_player_counter_anim
         01:D8B0  AD 1D 23   			lda	_player_counter_anim
         01:D8B3  18         			clc
         01:D8B4  D0 01      			bne	!+
         01:D8B6  38         			sec
         01:D8B7             	!:
14268                        		__bfalse	.LL714
         01:D8B7  90 11      			bcc	.LL714
14269                        	
14270                        		.dbg	line,	"include\routines_LEVELS.c", 2843; {
14271                        	
14272                        		.dbg	line,	"include\routines_LEVELS.c", 2844; spr_set(player_id);
14273                        		__ld.umq	_player_id
         01:D8B9  AD 19 23   			lda	_player_id
14274                        		__call		_spr_set.1
         01:D8BC  20 F1 E7   			call	_spr_set.1
14275                        	
14276                        		.dbg	line,	"include\routines_LEVELS.c", 2845; spr_pattern(PLAYER_JUMP_VRAM_ADR); 
14277                        		__ld.wi		7936
         01:D8BF  62         			cla
         01:D8C0  A0 1F      			ldy.h	#7936
14278                        		__call		_spr_pattern.1
         01:D8C2  20 3A E8   			call	_spr_pattern.1
14279                        	
14280                        		.dbg	line,	"include\routines_LEVELS.c", 2847; player_counter_anim = 1;
14281                        		__st.umiq	1, _player_counter_anim
         01:D8C5  A9 01      			lda.l	#1
         01:D8C7  8D 1D 23   			sta	_player_counter_anim
14282                        	
14283                        		.dbg	line,	"include\routines_LEVELS.c", 2848; }
14284                        	
14285                        		.dbg	line,	"include\routines_LEVELS.c", 2851; player_pos_y += TABLE_PLAYER_JUMP_V[player_index_jump];
14286    01:D8CA             	.LL714:
14287                        		__ldx.umq	_player_index_jump
         01:D8CA  AE 1E 23   			ldx	_player_index_jump
14288                        		__ld.bax	_TABLE_PLAYER_JUMP_V
         01:D8CD  BD 8B 62   			lda	_TABLE_PLAYER_JUMP_V, x
         01:D8D0  C2         			cly
         01:D8D1  10 01      			bpl	!+
         01:D8D3  88         			dey
         01:D8D4             	!:
14289                        		__add_st.wmq	_player_pos_y
         01:D8D4  18         			clc
         01:D8D5  6D 03 25   			adc.l	_player_pos_y
         01:D8D8  8D 03 25   			sta.l	_player_pos_y
         01:D8DB  98         			tya
         01:D8DC  6D 04 25   			adc.h	_player_pos_y
         01:D8DF  8D 04 25   			sta.h	_player_pos_y
14290                        	
14291                        		.dbg	line,	"include\routines_LEVELS.c", 2853; // CHECK COLLISION WITH CEILING //
14292                        	
14293                        		.dbg	line,	"include\routines_LEVELS.c", 2854; collision_PLAYER_BG( 15 , 8 );
14294                        		__ld.wi		15
         01:D8E2  A9 0F      			lda.l	#15
         01:D8E4  C2         			cly
14295                        		__pusharg.wr
         01:D8E5  A6 8D      			ldx	<__sp
         01:D8E7  CA         			dex
         01:D8E8  CA         			dex
         01:D8E9  95 08      			sta.l	<__stack, x
         01:D8EB  94 09      			sty.h	<__stack, x
         01:D8ED  86 8D      			stx	<__sp
14296                        		__ld.wi		8
         01:D8EF  A9 08      			lda.l	#8
         01:D8F1  C2         			cly
14297                        		__pusharg.wr
         01:D8F2  A6 8D      			ldx	<__sp
         01:D8F4  CA         			dex
         01:D8F5  CA         			dex
         01:D8F6  95 08      			sta.l	<__stack, x
         01:D8F8  94 09      			sty.h	<__stack, x
         01:D8FA  86 8D      			stx	<__sp
14298                        		__call		_collision_PLAYER_BG
         01:D8FC  20 31 FF   			call	_collision_PLAYER_BG
14299                        	
14300                        		.dbg	line,	"include\routines_LEVELS.c", 2856; if(map_blk_flag == TILE_BG)
14301                        		__ld.umq	_map_blk_flag
         01:D8FF  AD 05 2C   			lda	_map_blk_flag
14302                        		__equ_b.uiq	1
         01:D902  C9 01      			cmp	#1
         01:D904  F0 01      			beq	!+
         01:D906  18         			clc
         01:D907             	!:
14303                        		__bfalse	.LL715
         01:D907  90 5A      			bcc	.LL715
14304                        	
14305                        		.dbg	line,	"include\routines_LEVELS.c", 2857; {
14306                        	
14307                        		.dbg	line,	"include\routines_LEVELS.c", 2858; for(i=1 ; i<8 ; i++)
14308                        		__st.umiq	1, __update_PLAYER_end - 8  /* i */
         01:D909  A9 01      			lda.l	#1
         01:D90B  8D 05 23   			sta	__update_PLAYER_end - 8
14309    01:D90E             	.LL716:
14310                        		__ld.umq	__update_PLAYER_end - 8  /* i */
         01:D90E  AD 05 23   			lda	__update_PLAYER_end - 8
14311                        		__ult_b.uiq	8
         01:D911  C9 08      			cmp	#8		; Subtract integer from A.
         01:D913  6A         			ror	a		; CC if A < integer.
         01:D914  49 80      			eor	#$80
         01:D916  2A         			rol	a
14312                        		__btrue		.LL718
         01:D917  B0 07      			bcs	.LL718
14313                        		__bra		.LL719
         01:D919  80 48      			bra	.LL719
14314    01:D91B             	.LL717:
14315                        		__inc.umq	__update_PLAYER_end - 8  /* i */
         01:D91B  EE 05 23   			inc	__update_PLAYER_end - 8
14316                        		__bra		.LL716
         01:D91E  80 EE      			bra	.LL716
14317    01:D920             	.LL718:
14318                        	
14319                        		.dbg	line,	"include\routines_LEVELS.c", 2859; {
14320                        	
14321                        		.dbg	line,	"include\routines_LEVELS.c", 2860; collision_PLAYER_BG( 15 , 8 + i );
14322                        		__ld.wi		15
         01:D920  A9 0F      			lda.l	#15
         01:D922  C2         			cly
14323                        		__pusharg.wr
         01:D923  A6 8D      			ldx	<__sp
         01:D925  CA         			dex
         01:D926  CA         			dex
         01:D927  95 08      			sta.l	<__stack, x
         01:D929  94 09      			sty.h	<__stack, x
         01:D92B  86 8D      			stx	<__sp
14324                        		__ld.wi		8
         01:D92D  A9 08      			lda.l	#8
         01:D92F  C2         			cly
14325                        		__add.um	__update_PLAYER_end - 8  /* i */
         01:D930  18         			clc
         01:D931  6D 05 23   			adc	__update_PLAYER_end - 8
         01:D934  90 01      			bcc	!+
         01:D936  C8         			iny
         01:D937             	!:
14326                        		__pusharg.wr
         01:D937  A6 8D      			ldx	<__sp
         01:D939  CA         			dex
         01:D93A  CA         			dex
         01:D93B  95 08      			sta.l	<__stack, x
         01:D93D  94 09      			sty.h	<__stack, x
         01:D93F  86 8D      			stx	<__sp
14327                        		__call		_collision_PLAYER_BG
         01:D941  20 31 FF   			call	_collision_PLAYER_BG
14328                        	
14329                        		.dbg	line,	"include\routines_LEVELS.c", 2861; {
14330                        	
14331                        		.dbg	line,	"include\routines_LEVELS.c", 2862; if(map_blk_flag == TILE_EMPTY)
14332                        		__not.um	_map_blk_flag
         01:D944  AD 05 2C   			lda	_map_blk_flag
         01:D947  18         			clc
         01:D948  D0 01      			bne	!+
         01:D94A  38         			sec
         01:D94B             	!:
14333                        		__bfalse	.LL720
         01:D94B  90 CE      			bcc	.LL720
14334                        	
14335                        		.dbg	line,	"include\routines_LEVELS.c", 2863; {
14336                        	
14337                        		.dbg	line,	"include\routines_LEVELS.c", 2864; player_pos_y += i;
14338                        		__ld.um		__update_PLAYER_end - 8  /* i */
         01:D94D  AD 05 23   			lda	__update_PLAYER_end - 8
         01:D950  C2         			cly
14339                        		__add_st.wmq	_player_pos_y
         01:D951  18         			clc
         01:D952  6D 03 25   			adc.l	_player_pos_y
         01:D955  8D 03 25   			sta.l	_player_pos_y
         01:D958  98         			tya
         01:D959  6D 04 25   			adc.h	_player_pos_y
         01:D95C  8D 04 25   			sta.h	_player_pos_y
14340                        	
14341                        		.dbg	line,	"include\routines_LEVELS.c", 2865; break;
14342                        		__bra		.LL719
         01:D95F  80 02      			bra	.LL719
14343                        	
14344                        		.dbg	line,	"include\routines_LEVELS.c", 2866; }
14345                        	
14346                        		.dbg	line,	"include\routines_LEVELS.c", 2867; }
14347    01:D961             	.LL720	.alias		.LL717
14348                        	
14349                        		.dbg	line,	"include\routines_LEVELS.c", 2868; }
14350                        		__bra		.LL717
         01:D961  80 B8      			bra	.LL717
14351    01:D963             	.LL719:
14352                        	
14353                        		.dbg	line,	"include\routines_LEVELS.c", 2869; }
14354                        	
14355                        		.dbg	line,	"include\routines_LEVELS.c", 2871; spr_set(player_id);
14356    01:D963             	.LL715:
14357                        		__ld.umq	_player_id
         01:D963  AD 19 23   			lda	_player_id
14358                        		__call		_spr_set.1
         01:D966  20 F1 E7   			call	_spr_set.1
14359                        	
14360                        		.dbg	line,	"include\routines_LEVELS.c", 2872; spr_y(player_pos_y);
14361                        		__ld.wm		_player_pos_y
         01:D969  AD 03 25   			lda.l	_player_pos_y
         01:D96C  AC 04 25   			ldy.h	_player_pos_y
14362                        		__call		_spr_y.1
         01:D96F  20 2D E8   			call	_spr_y.1
14363                        	
14364                        		.dbg	line,	"include\routines_LEVELS.c", 2876; if(player_index_jump < 34)
14365                        		__ld.umq	_player_index_jump
         01:D972  AD 1E 23   			lda	_player_index_jump
14366                        		__ult_b.uiq	34
         01:D975  C9 22      			cmp	#34		; Subtract integer from A.
         01:D977  6A         			ror	a		; CC if A < integer.
         01:D978  49 80      			eor	#$80
         01:D97A  2A         			rol	a
14367                        		__bfalse	.LL721
         01:D97B  90 03      			bcc	.LL721
14368                        	
14369                        		.dbg	line,	"include\routines_LEVELS.c", 2877; {
14370                        	
14371                        		.dbg	line,	"include\routines_LEVELS.c", 2878; player_index_jump += 1;
14372                        		__add_st.umiq	1, _player_index_jump
         01:D97D  EE 1E 23   			inc	_player_index_jump
14373                        	
14374                        		.dbg	line,	"include\routines_LEVELS.c", 2879; }
14375                        	
14376                        		.dbg	line,	"include\routines_LEVELS.c", 2884; //--------------------------------------------------------------------------------------//
14377                        	
14378                        		.dbg	line,	"include\routines_LEVELS.c", 2885; //                                   LADDER COLLISION                                   //
14379                        	
14380                        		.dbg	line,	"include\routines_LEVELS.c", 2886; //--------------------------------------------------------------------------------------//
14381                        	
14382                        		.dbg	line,	"include\routines_LEVELS.c", 2888; if(player_index_jump > 18)
14383    01:D980             	.LL721:
14384                        		__ld.umq	_player_index_jump
         01:D980  AD 1E 23   			lda	_player_index_jump
14385                        		__ugt_b.uiq	18
         01:D983  18         			clc			; Subtract integer+1 from A.
         01:D984  E9 12      			sbc	#18		; CS if A > integer.
14386                        		__bfalse	.LL722
         01:D986  B0 03 4C 1B			bcc	.LL722
         01:D98A  DA          
14387                        	
14388                        		.dbg	line,	"include\routines_LEVELS.c", 2889; {
14389                        	
14390                        		.dbg	line,	"include\routines_LEVELS.c", 2890; // CHECK COLLISION WITH LADDERS //
14391                        	
14392                        		.dbg	line,	"include\routines_LEVELS.c", 2891; collision_PLAYER_BG( 16 , 8 );
14393                        		__ld.wi		16
         01:D98B  A9 10      			lda.l	#16
         01:D98D  C2         			cly
14394                        		__pusharg.wr
         01:D98E  A6 8D      			ldx	<__sp
         01:D990  CA         			dex
         01:D991  CA         			dex
         01:D992  95 08      			sta.l	<__stack, x
         01:D994  94 09      			sty.h	<__stack, x
         01:D996  86 8D      			stx	<__sp
14395                        		__ld.wi		8
         01:D998  A9 08      			lda.l	#8
         01:D99A  C2         			cly
14396                        		__pusharg.wr
         01:D99B  A6 8D      			ldx	<__sp
         01:D99D  CA         			dex
         01:D99E  CA         			dex
         01:D99F  95 08      			sta.l	<__stack, x
         01:D9A1  94 09      			sty.h	<__stack, x
         01:D9A3  86 8D      			stx	<__sp
14397                        		__call		_collision_PLAYER_BG
         01:D9A5  20 31 FF   			call	_collision_PLAYER_BG
14398                        	
14399                        		.dbg	line,	"include\routines_LEVELS.c", 2893; // IF PLAYER HITS THE LADDER //
14400                        	
14401                        		.dbg	line,	"include\routines_LEVELS.c", 2894; if(map_blk_flag == TILE_LADDER)
14402                        		__ld.umq	_map_blk_flag
         01:D9A8  AD 05 2C   			lda	_map_blk_flag
14403                        		__equ_b.uiq	2
         01:D9AB  C9 02      			cmp	#2
         01:D9AD  F0 01      			beq	!+
         01:D9AF  18         			clc
         01:D9B0             	!:
14404                        		__bfalse	.LL723
         01:D9B0  90 69      			bcc	.LL723
14405                        	
14406                        		.dbg	line,	"include\routines_LEVELS.c", 2895; {
14407                        	
14408                        		.dbg	line,	"include\routines_LEVELS.c", 2896; // CAMERA GOES 8 PX BACKWARD //
14409                        	
14410                        		.dbg	line,	"include\routines_LEVELS.c", 2897; sgx_map_pxl_x = ( (sgx_map_pxl_x >> 3) << 3 );
14411                        		__ld.wm		_sgx_map_pxl_x
         01:D9B2  AD E4 26   			lda.l	_sgx_map_pxl_x
         01:D9B5  AC E5 26   			ldy.h	_sgx_map_pxl_x
14412                        		__lsr.wi	3
         01:D9B8  84 00      			sty	__temp
         01:D9BA  20 3A E2   			jsr	lsrw3
14413                        		__asl.wi	3
         01:D9BD  84 00      			sty	__temp
         01:D9BF  20 D7 E1   			jsr	aslw3
14414                        		__st.wmq	_sgx_map_pxl_x
         01:D9C2  8D E4 26   			sta.l	_sgx_map_pxl_x
         01:D9C5  8C E5 26   			sty.h	_sgx_map_pxl_x
14415                        	
14416                        		.dbg	line,	"include\routines_LEVELS.c", 2899; // SO WE UPDATE THE MAP //
14417                        	
14418                        		.dbg	line,	"include\routines_LEVELS.c", 2900; sgx_scroll_map();
14419                        		__call		_sgx_scroll_map
         01:D9C8  20 63 FF   			call	_sgx_scroll_map
14420                        	
14421                        		.dbg	line,	"include\routines_LEVELS.c", 2902; // CHECK IF THE PLAYER STANDS RIGHT TO THE LADDER //
14422                        	
14423                        		.dbg	line,	"include\routines_LEVELS.c", 2903; collision_PLAYER_BG( 31 , 8 );
14424                        		__ld.wi		31
         01:D9CB  A9 1F      			lda.l	#31
         01:D9CD  C2         			cly
14425                        		__pusharg.wr
         01:D9CE  A6 8D      			ldx	<__sp
         01:D9D0  CA         			dex
         01:D9D1  CA         			dex
         01:D9D2  95 08      			sta.l	<__stack, x
         01:D9D4  94 09      			sty.h	<__stack, x
         01:D9D6  86 8D      			stx	<__sp
14426                        		__ld.wi		8
         01:D9D8  A9 08      			lda.l	#8
         01:D9DA  C2         			cly
14427                        		__pusharg.wr
         01:D9DB  A6 8D      			ldx	<__sp
         01:D9DD  CA         			dex
         01:D9DE  CA         			dex
         01:D9DF  95 08      			sta.l	<__stack, x
         01:D9E1  94 09      			sty.h	<__stack, x
         01:D9E3  86 8D      			stx	<__sp
14428                        		__call		_collision_PLAYER_BG
         01:D9E5  20 31 FF   			call	_collision_PLAYER_BG
14429                        	
14430                        		.dbg	line,	"include\routines_LEVELS.c", 2905; if(map_blk_flag == TILE_LADDER)
14431                        		__ld.umq	_map_blk_flag
         01:D9E8  AD 05 2C   			lda	_map_blk_flag
14432                        		__equ_b.uiq	2
         01:D9EB  C9 02      			cmp	#2
         01:D9ED  F0 01      			beq	!+
         01:D9EF  18         			clc
         01:D9F0             	!:
14433                        		__bfalse	.LL724
         01:D9F0  90 0E      			bcc	.LL724
14434                        	
14435                        		.dbg	line,	"include\routines_LEVELS.c", 2906; {
14436                        	
14437                        		.dbg	line,	"include\routines_LEVELS.c", 2907; sgx_map_pxl_x += 8;
14438                        		__add_st.wmiq	8, _sgx_map_pxl_x
         01:D9F2  18         			clc
         01:D9F3  AD E4 26   			lda.l	_sgx_map_pxl_x
         01:D9F6  69 08      			adc.l	#8
         01:D9F8  8D E4 26   			sta.l	_sgx_map_pxl_x
         01:D9FB  90 03      			bcc	!+
         01:D9FD  EE E5 26   			inc.h	_sgx_map_pxl_x
         01:DA00             	!:
14439                        	
14440                        		.dbg	line,	"include\routines_LEVELS.c", 2908; }
14441                        	
14442                        		.dbg	line,	"include\routines_LEVELS.c", 2910; //spr_set(player_id);
14443                        	
14444                        		.dbg	line,	"include\routines_LEVELS.c", 2911; spr_pattern(PLAYER_HANG_VRAM_ADR);
14445    01:DA00             	.LL724:
14446                        		__ld.wi		8448
         01:DA00  62         			cla
         01:DA01  A0 21      			ldy.h	#8448
14447                        		__call		_spr_pattern.1
         01:DA03  20 3A E8   			call	_spr_pattern.1
14448                        	
14449                        		.dbg	line,	"include\routines_LEVELS.c", 2913; player_counter_anim = 0;//
14450                        		__st.umiq	0, _player_counter_anim
         01:DA06  9C 1D 23   			stz	_player_counter_anim
14451                        	
14452                        		.dbg	line,	"include\routines_LEVELS.c", 2914; player_index_jump = 0;
14453                        		__st.umiq	0, _player_index_jump
         01:DA09  9C 1E 23   			stz	_player_index_jump
14454                        	
14455                        		.dbg	line,	"include\routines_LEVELS.c", 2915; jump_ladder = TRUE;
14456                        		__st.umiq	1, _jump_ladder
         01:DA0C  A9 01      			lda.l	#1
         01:DA0E  8D 23 23   			sta	_jump_ladder
14457                        	
14458                        		.dbg	line,	"include\routines_LEVELS.c", 2916; jump_max_index = 29;
14459                        		__st.umiq	29, _jump_max_index
         01:DA11  A9 1D      			lda.l	#29
         01:DA13  8D 24 23   			sta	_jump_max_index
14460                        	
14461                        		.dbg	line,	"include\routines_LEVELS.c", 2917; player_state = STATE_HANG;
14462                        		__st.umiq	10, _player_state
         01:DA16  A9 0A      			lda.l	#10
         01:DA18  8D 1A 23   			sta	_player_state
14463                        	
14464                        		.dbg	line,	"include\routines_LEVELS.c", 2918; }
14465                        	
14466                        		.dbg	line,	"include\routines_LEVELS.c", 2919; }
14467    01:DA1B             	.LL723:
14468                        	
14469                        		.dbg	line,	"include\routines_LEVELS.c", 2921; spr_set(weapon_id);
14470    01:DA1B             	.LL722:
14471                        		__ld.umq	_weapon_id
         01:DA1B  AD 28 23   			lda	_weapon_id
14472                        		__call		_spr_set.1
         01:DA1E  20 F1 E7   			call	_spr_set.1
14473                        	
14474                        		.dbg	line,	"include\routines_LEVELS.c", 2922; spr_y(player_pos_y+8);
14475                        		__ld.wm		_player_pos_y
         01:DA21  AD 03 25   			lda.l	_player_pos_y
         01:DA24  AC 04 25   			ldy.h	_player_pos_y
14476                        		__add.wi	8
         01:DA27  18         			clc
         01:DA28  69 08      			adc.l	#8
         01:DA2A  90 01      			bcc	!+
         01:DA2C  C8         			iny
         01:DA2D             	!:
14477                        		__call		_spr_y.1
         01:DA2D  20 2D E8   			call	_spr_y.1
14478                        	
14479                        		.dbg	line,	"include\routines_LEVELS.c", 2923; }
14480                        	
14481                        		.dbg	line,	"include\routines_LEVELS.c", 2925; }
14482    01:DA30             	.LL713:
14483    01:DA30             	.LL712:
14484    01:DA30             	.LL694:
14485    01:DA30             	.LL676:
14486    01:DA30             	.LL671:
14487    01:DA30             	.LL654:
14488    01:DA30             	.LL649:
14489    01:DA30             	.LL612:
14490    01:DA30             	.LL575:
14491    01:DA30             	.LL544:
14492    01:DA30             	.LL501:
14493    01:DA30             	.LL496:
14494                        		__return	0
         01:DA30  4C EF FF   			jmp	leave_proc
14495                        		.dbg	clear
14496                        		.endp
14497               2305     		.bss
14498    F8:2305             			ds	8
14499    F8:230D             	__update_PLAYER_end:
14500               E31D     		.code
14501                        		.pceas
14502                        	
14503                        		.dbg	line,	"include\routines_LEVELS.c", 2928; void update_WEAPON()
14504                        		.dbg	line,	"include\routines_LEVELS.c", 2929; {
14505                        	;***********************
14506                        	;***********************
14507                        	
14508                        		.hucc
14509    02:CFC9             		.proc		_update_WEAPON
14510                        		__enter		_update_WEAPON
14511                        	
14512                        		.dbg	line,	"include\routines_LEVELS.c", 2930; if(player_state == STATE_ATTACK)
14513                        		__ld.umq	_player_state
         02:CFC9  AD 1A 23   			lda	_player_state
14514                        		__equ_b.uiq	2
         02:CFCC  C9 02      			cmp	#2
         02:CFCE  F0 01      			beq	!+
         02:CFD0  18         			clc
         02:CFD1             	!:
14515                        		__bfalse	.LL726
         02:CFD1  B0 03 4C 0B			bcc	.LL726
         02:CFD5  D3          
14516                        	
14517                        		.dbg	line,	"include\routines_LEVELS.c", 2931; {
14518                        	
14519                        		.dbg	line,	"include\routines_LEVELS.c", 2932; char i;
14520                        	
14521                        		.dbg	line,	"include\routines_LEVELS.c", 2933; 
14522                        	
14523                        		.dbg	line,	"include\routines_LEVELS.c", 2934; recenter_CAMERA();
14524                        		__call		_recenter_CAMERA
         02:CFD6  20 27 FF   			call	_recenter_CAMERA
14525                        	
14526                        		.dbg	line,	"include\routines_LEVELS.c", 2936; if(player_counter_attack < 7)
14527                        		__ld.umq	_player_counter_attack
         02:CFD9  AD 20 23   			lda	_player_counter_attack
14528                        		__ult_b.uiq	7
         02:CFDC  C9 07      			cmp	#7		; Subtract integer from A.
         02:CFDE  6A         			ror	a		; CC if A < integer.
         02:CFDF  49 80      			eor	#$80
         02:CFE1  2A         			rol	a
14529                        		__bfalse	.LL727
         02:CFE2  90 5B      			bcc	.LL727
14530                        	
14531                        		.dbg	line,	"include\routines_LEVELS.c", 2937; {
14532                        	
14533                        		.dbg	line,	"include\routines_LEVELS.c", 2938; spr_set(player_id);
14534                        		__ld.umq	_player_id
         02:CFE4  AD 19 23   			lda	_player_id
14535                        		__call		_spr_set.1
         02:CFE7  20 F1 E7   			call	_spr_set.1
14536                        	
14537                        		.dbg	line,	"include\routines_LEVELS.c", 2939; spr_pattern(PLAYER_ATTACK_1_VRAM_ADR);
14538                        		__ld.wi		10496
         02:CFEA  62         			cla
         02:CFEB  A0 29      			ldy.h	#10496
14539                        		__call		_spr_pattern.1
         02:CFED  20 3A E8   			call	_spr_pattern.1
14540                        	
14541                        		.dbg	line,	"include\routines_LEVELS.c", 2941; spr_set(weapon_id);
14542                        		__ld.umq	_weapon_id
         02:CFF0  AD 28 23   			lda	_weapon_id
14543                        		__call		_spr_set.1
         02:CFF3  20 F1 E7   			call	_spr_set.1
14544                        	
14545                        		.dbg	line,	"include\routines_LEVELS.c", 2942; spr_pattern(WEAPON_ATTACK_1_VRAM_ADRESS);
14546                        		__ld.wi		32000
         02:CFF6  62         			cla
         02:CFF7  A0 7D      			ldy.h	#32000
14547                        		__call		_spr_pattern.1
         02:CFF9  20 3A E8   			call	_spr_pattern.1
14548                        	
14549                        		.dbg	line,	"include\routines_LEVELS.c", 2944; if(player_axis == AXIS_RIGHT)
14550                        		__not.um	_player_axis
         02:CFFC  AD 1B 23   			lda	_player_axis
         02:CFFF  18         			clc
         02:D000  D0 01      			bne	!+
         02:D002  38         			sec
         02:D003             	!:
14551                        		__bfalse	.LL728
         02:D003  90 11      			bcc	.LL728
14552                        	
14553                        		.dbg	line,	"include\routines_LEVELS.c", 2945; {
14554                        	
14555                        		.dbg	line,	"include\routines_LEVELS.c", 2946; spr_x(player_pos_x-13);
14556                        		__ld.wm		_player_pos_x
         02:D005  AD 01 25   			lda.l	_player_pos_x
         02:D008  AC 02 25   			ldy.h	_player_pos_x
14557                        		__sub.wi	13
         02:D00B  38         			sec
         02:D00C  E9 0D      			sbc.l	#13
         02:D00E  B0 01      			bcs	!+
         02:D010  88         			dey
         02:D011             	!:
14558                        		__call		_spr_x.1
         02:D011  20 1E E8   			call	_spr_x.1
14559                        	
14560                        		.dbg	line,	"include\routines_LEVELS.c", 2947; }
14561                        	
14562                        		.dbg	line,	"include\routines_LEVELS.c", 2949; else
14563                        		__bra		.LL729
         02:D014  80 0F      			bra	.LL729
14564    02:D016             	.LL728:
14565                        	
14566                        		.dbg	line,	"include\routines_LEVELS.c", 2950; {
14567                        	
14568                        		.dbg	line,	"include\routines_LEVELS.c", 2951; spr_x(player_pos_x+29);
14569                        		__ld.wm		_player_pos_x
         02:D016  AD 01 25   			lda.l	_player_pos_x
         02:D019  AC 02 25   			ldy.h	_player_pos_x
14570                        		__add.wi	29
         02:D01C  18         			clc
         02:D01D  69 1D      			adc.l	#29
         02:D01F  90 01      			bcc	!+
         02:D021  C8         			iny
         02:D022             	!:
14571                        		__call		_spr_x.1
         02:D022  20 1E E8   			call	_spr_x.1
14572                        	
14573                        		.dbg	line,	"include\routines_LEVELS.c", 2952; }
14574    02:D025             	.LL729:
14575                        	
14576                        		.dbg	line,	"include\routines_LEVELS.c", 2954; weapon_y_offset = -8;
14577                        		__st.umiq	-8, _weapon_y_offset
         02:D025  A9 F8      			lda.l	#-8
         02:D027  8D 99 26   			sta	_weapon_y_offset
14578                        	
14579                        		.dbg	line,	"include\routines_LEVELS.c", 2955; spr_y(player_pos_y + weapon_y_offset);
14580                        		__ld.bm		_weapon_y_offset
         02:D02A  AD 99 26   			lda	_weapon_y_offset
         02:D02D  C2         			cly
         02:D02E  10 01      			bpl	!+
         02:D030  88         			dey
         02:D031             	!:
14581                        		__add.wm	_player_pos_y
         02:D031  18         			clc
         02:D032  6D 03 25   			adc.l	_player_pos_y
         02:D035  42         			say
         02:D036  6D 04 25   			adc.h	_player_pos_y
         02:D039  42         			say
14582                        		__call		_spr_y.1
         02:D03A  20 2D E8   			call	_spr_y.1
14583                        	
14584                        		.dbg	line,	"include\routines_LEVELS.c", 2956; }
14585                        	
14586                        		.dbg	line,	"include\routines_LEVELS.c", 2958; else if(player_counter_attack == 23)
14587                        		__bra		.LL730
         02:D03D  80 76      			bra	.LL730
14588    02:D03F             	.LL727:
14589                        		__ld.umq	_player_counter_attack
         02:D03F  AD 20 23   			lda	_player_counter_attack
14590                        		__equ_b.uiq	23
         02:D042  C9 17      			cmp	#23
         02:D044  F0 01      			beq	!+
         02:D046  18         			clc
         02:D047             	!:
14591                        		__bfalse	.LL731
         02:D047  90 6C      			bcc	.LL731
14592                        	
14593                        		.dbg	line,	"include\routines_LEVELS.c", 2959; {
14594                        	
14595                        		.dbg	line,	"include\routines_LEVELS.c", 2960; spr_set(chain_id);
14596                        		__ld.umq	_chain_id
         02:D049  AD 27 23   			lda	_chain_id
14597                        		__call		_spr_set.1
         02:D04C  20 F1 E7   			call	_spr_set.1
14598                        	
14599                        		.dbg	line,	"include\routines_LEVELS.c", 2961; spr_hide();
14600                        		__call		_spr_hide
         02:D04F  20 0C E8   			call	_spr_hide
14601                        	
14602                        		.dbg	line,	"include\routines_LEVELS.c", 2963; spr_set(chain_id+1);
14603                        		__ld.um		_chain_id
         02:D052  AD 27 23   			lda	_chain_id
         02:D055  C2         			cly
14604                        		__add.wi	1
         02:D056  1A         			inc	a
         02:D057  D0 01      			bne	!+
         02:D059  C8         			iny
         02:D05A             	!:
14605                        		__call		_spr_set.1
         02:D05A  20 F1 E7   			call	_spr_set.1
14606                        	
14607                        		.dbg	line,	"include\routines_LEVELS.c", 2964; spr_hide();
14608                        		__call		_spr_hide
         02:D05D  20 0C E8   			call	_spr_hide
14609                        	
14610                        		.dbg	line,	"include\routines_LEVELS.c", 2966; spr_set(chain_id+2);
14611                        		__ld.um		_chain_id
         02:D060  AD 27 23   			lda	_chain_id
         02:D063  C2         			cly
14612                        		__add.wi	2
         02:D064  18         			clc
         02:D065  69 02      			adc.l	#2
         02:D067  90 01      			bcc	!+
         02:D069  C8         			iny
         02:D06A             	!:
14613                        		__call		_spr_set.1
         02:D06A  20 F1 E7   			call	_spr_set.1
14614                        	
14615                        		.dbg	line,	"include\routines_LEVELS.c", 2967; spr_hide();
14616                        		__call		_spr_hide
         02:D06D  20 0C E8   			call	_spr_hide
14617                        	
14618                        		.dbg	line,	"include\routines_LEVELS.c", 2969; spr_set(player_id);
14619                        		__ld.umq	_player_id
         02:D070  AD 19 23   			lda	_player_id
14620                        		__call		_spr_set.1
         02:D073  20 F1 E7   			call	_spr_set.1
14621                        	
14622                        		.dbg	line,	"include\routines_LEVELS.c", 2970; spr_pattern(PLAYER_IDLE_VRAM_ADR);
14623                        		__ld.wi		6144
         02:D076  62         			cla
         02:D077  A0 18      			ldy.h	#6144
14624                        		__call		_spr_pattern.1
         02:D079  20 3A E8   			call	_spr_pattern.1
14625                        	
14626                        		.dbg	line,	"include\routines_LEVELS.c", 2972; spr_set(weapon_id);
14627                        		__ld.umq	_weapon_id
         02:D07C  AD 28 23   			lda	_weapon_id
14628                        		__call		_spr_set.1
         02:D07F  20 F1 E7   			call	_spr_set.1
14629                        	
14630                        		.dbg	line,	"include\routines_LEVELS.c", 2973; spr_pattern(WEAPON_IDLE_VRAM_ADRESS);
14631                        		__ld.wi		31808
         02:D082  A9 40      			lda.l	#31808
         02:D084  A0 7C      			ldy.h	#31808
14632                        		__call		_spr_pattern.1
         02:D086  20 3A E8   			call	_spr_pattern.1
14633                        	
14634                        		.dbg	line,	"include\routines_LEVELS.c", 2974; spr_x(player_pos_x+8);
14635                        		__ld.wm		_player_pos_x
         02:D089  AD 01 25   			lda.l	_player_pos_x
         02:D08C  AC 02 25   			ldy.h	_player_pos_x
14636                        		__add.wi	8
         02:D08F  18         			clc
         02:D090  69 08      			adc.l	#8
         02:D092  90 01      			bcc	!+
         02:D094  C8         			iny
         02:D095             	!:
14637                        		__call		_spr_x.1
         02:D095  20 1E E8   			call	_spr_x.1
14638                        	
14639                        		.dbg	line,	"include\routines_LEVELS.c", 2975; spr_y(player_pos_y+16);
14640                        		__ld.wm		_player_pos_y
         02:D098  AD 03 25   			lda.l	_player_pos_y
         02:D09B  AC 04 25   			ldy.h	_player_pos_y
14641                        		__add.wi	16
         02:D09E  18         			clc
         02:D09F  69 10      			adc.l	#16
         02:D0A1  90 01      			bcc	!+
         02:D0A3  C8         			iny
         02:D0A4             	!:
14642                        		__call		_spr_y.1
         02:D0A4  20 2D E8   			call	_spr_y.1
14643                        	
14644                        		.dbg	line,	"include\routines_LEVELS.c", 2977; player_attack = FALSE;
14645                        		__st.umiq	0, _player_attack
         02:D0A7  9C 22 23   			stz	_player_attack
14646                        	
14647                        		.dbg	line,	"include\routines_LEVELS.c", 2978; player_counter_anim = 1;
14648                        		__st.umiq	1, _player_counter_anim
         02:D0AA  A9 01      			lda.l	#1
         02:D0AC  8D 1D 23   			sta	_player_counter_anim
14649                        	
14650                        		.dbg	line,	"include\routines_LEVELS.c", 2979; player_state = STATE_IDLE;
14651                        		__st.umiq	0, _player_state
         02:D0AF  9C 1A 23   			stz	_player_state
14652                        	
14653                        		.dbg	line,	"include\routines_LEVELS.c", 2980; return;
14654                        		__bra		.LL725
         02:D0B2  4C 89 DC   			bra	.LL725
14655                        	
14656                        		.dbg	line,	"include\routines_LEVELS.c", 2981; }
14657                        	
14658                        		.dbg	line,	"include\routines_LEVELS.c", 2983; // CHAIN ANIMATION //
14659                        	
14660                        		.dbg	line,	"include\routines_LEVELS.c", 2984; if(chain_unfold == TRUE)
14661    02:D0B5             	.LL731:
14662    02:D0B5             	.LL730:
14663                        		__ld.umq	_chain_unfold
         02:D0B5  AD 2B 23   			lda	_chain_unfold
14664                        		__equ_b.uiq	1
         02:D0B8  C9 01      			cmp	#1
         02:D0BA  F0 01      			beq	!+
         02:D0BC  18         			clc
         02:D0BD             	!:
14665                        		__bfalse	.LL732
         02:D0BD  B0 03 4C B8			bcc	.LL732
         02:D0C1  D2          
14666                        	
14667                        		.dbg	line,	"include\routines_LEVELS.c", 2985; {
14668                        	
14669                        		.dbg	line,	"include\routines_LEVELS.c", 2986; if(player_counter_attack == 6)
14670                        		__ld.umq	_player_counter_attack
         02:D0C2  AD 20 23   			lda	_player_counter_attack
14671                        		__equ_b.uiq	6
         02:D0C5  C9 06      			cmp	#6
         02:D0C7  F0 01      			beq	!+
         02:D0C9  18         			clc
         02:D0CA             	!:
14672                        		__bfalse	.LL733
         02:D0CA  90 60      			bcc	.LL733
14673                        	
14674                        		.dbg	line,	"include\routines_LEVELS.c", 2987; {
14675                        	
14676                        		.dbg	line,	"include\routines_LEVELS.c", 2988; spr_set(player_id);
14677                        		__ld.umq	_player_id
         02:D0CC  AD 19 23   			lda	_player_id
14678                        		__call		_spr_set.1
         02:D0CF  20 F1 E7   			call	_spr_set.1
14679                        	
14680                        		.dbg	line,	"include\routines_LEVELS.c", 2989; spr_pattern(PLAYER_ATTACK_2_VRAM_ADR);
14681                        		__ld.wi		10752
         02:D0D2  62         			cla
         02:D0D3  A0 2A      			ldy.h	#10752
14682                        		__call		_spr_pattern.1
         02:D0D5  20 3A E8   			call	_spr_pattern.1
14683                        	
14684                        		.dbg	line,	"include\routines_LEVELS.c", 2991; spr_set(weapon_id);
14685                        		__ld.umq	_weapon_id
         02:D0D8  AD 28 23   			lda	_weapon_id
14686                        		__call		_spr_set.1
         02:D0DB  20 F1 E7   			call	_spr_set.1
14687                        	
14688                        		.dbg	line,	"include\routines_LEVELS.c", 2992; spr_pattern(WEAPON_ATTACK_2_VRAM_ADRESS);
14689                        		__ld.wi		32064
         02:D0DE  A9 40      			lda.l	#32064
         02:D0E0  A0 7D      			ldy.h	#32064
14690                        		__call		_spr_pattern.1
         02:D0E2  20 3A E8   			call	_spr_pattern.1
14691                        	
14692                        		.dbg	line,	"include\routines_LEVELS.c", 2994; if(player_axis == AXIS_RIGHT)
14693                        		__not.um	_player_axis
         02:D0E5  AD 1B 23   			lda	_player_axis
         02:D0E8  18         			clc
         02:D0E9  D0 01      			bne	!+
         02:D0EB  38         			sec
         02:D0EC             	!:
14694                        		__bfalse	.LL734
         02:D0EC  90 11      			bcc	.LL734
14695                        	
14696                        		.dbg	line,	"include\routines_LEVELS.c", 2995; {
14697                        	
14698                        		.dbg	line,	"include\routines_LEVELS.c", 2996; spr_x(player_pos_x+32);
14699                        		__ld.wm		_player_pos_x
         02:D0EE  AD 01 25   			lda.l	_player_pos_x
         02:D0F1  AC 02 25   			ldy.h	_player_pos_x
14700                        		__add.wi	32
         02:D0F4  18         			clc
         02:D0F5  69 20      			adc.l	#32
         02:D0F7  90 01      			bcc	!+
         02:D0F9  C8         			iny
         02:D0FA             	!:
14701                        		__call		_spr_x.1
         02:D0FA  20 1E E8   			call	_spr_x.1
14702                        	
14703                        		.dbg	line,	"include\routines_LEVELS.c", 2997; 
14704                        	
14705                        		.dbg	line,	"include\routines_LEVELS.c", 2998; }
14706                        	
14707                        		.dbg	line,	"include\routines_LEVELS.c", 2999; 
14708                        	
14709                        		.dbg	line,	"include\routines_LEVELS.c", 3000; else
14710                        		__bra		.LL735
         02:D0FD  80 0F      			bra	.LL735
14711    02:D0FF             	.LL734:
14712                        	
14713                        		.dbg	line,	"include\routines_LEVELS.c", 3001; {
14714                        	
14715                        		.dbg	line,	"include\routines_LEVELS.c", 3002; spr_x(player_pos_x-16);
14716                        		__ld.wm		_player_pos_x
         02:D0FF  AD 01 25   			lda.l	_player_pos_x
         02:D102  AC 02 25   			ldy.h	_player_pos_x
14717                        		__sub.wi	16
         02:D105  38         			sec
         02:D106  E9 10      			sbc.l	#16
         02:D108  B0 01      			bcs	!+
         02:D10A  88         			dey
         02:D10B             	!:
14718                        		__call		_spr_x.1
         02:D10B  20 1E E8   			call	_spr_x.1
14719                        	
14720                        		.dbg	line,	"include\routines_LEVELS.c", 3003; }
14721    02:D10E             	.LL735:
14722                        	
14723                        		.dbg	line,	"include\routines_LEVELS.c", 3005; weapon_y_offset = 6;
14724                        		__st.umiq	6, _weapon_y_offset
         02:D10E  A9 06      			lda.l	#6
         02:D110  8D 99 26   			sta	_weapon_y_offset
14725                        	
14726                        		.dbg	line,	"include\routines_LEVELS.c", 3006; spr_y(player_pos_y + weapon_y_offset);
14727                        		__ld.bm		_weapon_y_offset
         02:D113  AD 99 26   			lda	_weapon_y_offset
         02:D116  C2         			cly
         02:D117  10 01      			bpl	!+
         02:D119  88         			dey
         02:D11A             	!:
14728                        		__add.wm	_player_pos_y
         02:D11A  18         			clc
         02:D11B  6D 03 25   			adc.l	_player_pos_y
         02:D11E  42         			say
         02:D11F  6D 04 25   			adc.h	_player_pos_y
         02:D122  42         			say
14729                        		__call		_spr_y.1
         02:D123  20 2D E8   			call	_spr_y.1
14730                        	
14731                        		.dbg	line,	"include\routines_LEVELS.c", 3008; collision_WEAPON_OBJECTS();
14732                        		__call		_collision_WEAPON_OBJECTS
         02:D126  20 13 FF   			call	_collision_WEAPON_OBJECTS
14733                        	
14734                        		.dbg	line,	"include\routines_LEVELS.c", 3009; }
14735                        	
14736                        		.dbg	line,	"include\routines_LEVELS.c", 3011; else if(player_counter_attack == 7)
14737                        		__bra		.LL736
         02:D129  4C B8 D2   			bra	.LL736
14738    02:D12C             	.LL733:
14739                        		__ld.umq	_player_counter_attack
         02:D12C  AD 20 23   			lda	_player_counter_attack
14740                        		__equ_b.uiq	7
         02:D12F  C9 07      			cmp	#7
         02:D131  F0 01      			beq	!+
         02:D133  18         			clc
         02:D134             	!:
14741                        		__bfalse	.LL737
         02:D134  90 77      			bcc	.LL737
14742                        	
14743                        		.dbg	line,	"include\routines_LEVELS.c", 3012; {
14744                        	
14745                        		.dbg	line,	"include\routines_LEVELS.c", 3013; list_chain_active[0] = TRUE;
14746                        		__st.umiq	1, _list_chain_active
         02:D136  A9 01      			lda.l	#1
         02:D138  8D 2C 23   			sta	_list_chain_active
14747                        	
14748                        		.dbg	line,	"include\routines_LEVELS.c", 3014; spr_set(chain_id);
14749                        		__ld.umq	_chain_id
         02:D13B  AD 27 23   			lda	_chain_id
14750                        		__call		_spr_set.1
         02:D13E  20 F1 E7   			call	_spr_set.1
14751                        	
14752                        		.dbg	line,	"include\routines_LEVELS.c", 3016; if(player_axis == AXIS_RIGHT)
14753                        		__not.um	_player_axis
         02:D141  AD 1B 23   			lda	_player_axis
         02:D144  18         			clc
         02:D145  D0 01      			bne	!+
         02:D147  38         			sec
         02:D148             	!:
14754                        		__bfalse	.LL738
         02:D148  90 26      			bcc	.LL738
14755                        	
14756                        		.dbg	line,	"include\routines_LEVELS.c", 3017; {
14757                        	
14758                        		.dbg	line,	"include\routines_LEVELS.c", 3018; spr_x(player_pos_x+32);
14759                        		__ld.wm		_player_pos_x
         02:D14A  AD 01 25   			lda.l	_player_pos_x
         02:D14D  AC 02 25   			ldy.h	_player_pos_x
14760                        		__add.wi	32
         02:D150  18         			clc
         02:D151  69 20      			adc.l	#32
         02:D153  90 01      			bcc	!+
         02:D155  C8         			iny
         02:D156             	!:
14761                        		__call		_spr_x.1
         02:D156  20 1E E8   			call	_spr_x.1
14762                        	
14763                        		.dbg	line,	"include\routines_LEVELS.c", 3020; spr_set(weapon_id);
14764                        		__ld.umq	_weapon_id
         02:D159  AD 28 23   			lda	_weapon_id
14765                        		__call		_spr_set.1
         02:D15C  20 F1 E7   			call	_spr_set.1
14766                        	
14767                        		.dbg	line,	"include\routines_LEVELS.c", 3021; spr_x(player_pos_x+48);
14768                        		__ld.wm		_player_pos_x
         02:D15F  AD 01 25   			lda.l	_player_pos_x
         02:D162  AC 02 25   			ldy.h	_player_pos_x
14769                        		__add.wi	48
         02:D165  18         			clc
         02:D166  69 30      			adc.l	#48
         02:D168  90 01      			bcc	!+
         02:D16A  C8         			iny
         02:D16B             	!:
14770                        		__call		_spr_x.1
         02:D16B  20 1E E8   			call	_spr_x.1
14771                        	
14772                        		.dbg	line,	"include\routines_LEVELS.c", 3022; }
14773                        	
14774                        		.dbg	line,	"include\routines_LEVELS.c", 3023; 
14775                        	
14776                        		.dbg	line,	"include\routines_LEVELS.c", 3024; else
14777                        		__bra		.LL739
         02:D16E  80 24      			bra	.LL739
14778    02:D170             	.LL738:
14779                        	
14780                        		.dbg	line,	"include\routines_LEVELS.c", 3025; {
14781                        	
14782                        		.dbg	line,	"include\routines_LEVELS.c", 3026; spr_x(player_pos_x-16);
14783                        		__ld.wm		_player_pos_x
         02:D170  AD 01 25   			lda.l	_player_pos_x
         02:D173  AC 02 25   			ldy.h	_player_pos_x
14784                        		__sub.wi	16
         02:D176  38         			sec
         02:D177  E9 10      			sbc.l	#16
         02:D179  B0 01      			bcs	!+
         02:D17B  88         			dey
         02:D17C             	!:
14785                        		__call		_spr_x.1
         02:D17C  20 1E E8   			call	_spr_x.1
14786                        	
14787                        		.dbg	line,	"include\routines_LEVELS.c", 3028; spr_set(weapon_id);
14788                        		__ld.umq	_weapon_id
         02:D17F  AD 28 23   			lda	_weapon_id
14789                        		__call		_spr_set.1
         02:D182  20 F1 E7   			call	_spr_set.1
14790                        	
14791                        		.dbg	line,	"include\routines_LEVELS.c", 3029; spr_x(player_pos_x-32);
14792                        		__ld.wm		_player_pos_x
         02:D185  AD 01 25   			lda.l	_player_pos_x
         02:D188  AC 02 25   			ldy.h	_player_pos_x
14793                        		__sub.wi	32
         02:D18B  38         			sec
         02:D18C  E9 20      			sbc.l	#32
         02:D18E  B0 01      			bcs	!+
         02:D190  88         			dey
         02:D191             	!:
14794                        		__call		_spr_x.1
         02:D191  20 1E E8   			call	_spr_x.1
14795                        	
14796                        		.dbg	line,	"include\routines_LEVELS.c", 3030; }
14797    02:D194             	.LL739:
14798                        	
14799                        		.dbg	line,	"include\routines_LEVELS.c", 3032; spr_y(player_pos_y + weapon_y_offset);
14800                        		__ld.bm		_weapon_y_offset
         02:D194  AD 99 26   			lda	_weapon_y_offset
         02:D197  C2         			cly
         02:D198  10 01      			bpl	!+
         02:D19A  88         			dey
         02:D19B             	!:
14801                        		__add.wm	_player_pos_y
         02:D19B  18         			clc
         02:D19C  6D 03 25   			adc.l	_player_pos_y
         02:D19F  42         			say
         02:D1A0  6D 04 25   			adc.h	_player_pos_y
         02:D1A3  42         			say
14802                        		__call		_spr_y.1
         02:D1A4  20 2D E8   			call	_spr_y.1
14803                        	
14804                        		.dbg	line,	"include\routines_LEVELS.c", 3034; collision_WEAPON_OBJECTS();
14805                        		__call		_collision_WEAPON_OBJECTS
         02:D1A7  20 13 FF   			call	_collision_WEAPON_OBJECTS
14806                        	
14807                        		.dbg	line,	"include\routines_LEVELS.c", 3035; }
14808                        	
14809                        		.dbg	line,	"include\routines_LEVELS.c", 3037; else if(player_counter_attack == 8)
14810                        		__bra		.LL740
         02:D1AA  4C B8 D2   			bra	.LL740
14811    02:D1AD             	.LL737:
14812                        		__ld.umq	_player_counter_attack
         02:D1AD  AD 20 23   			lda	_player_counter_attack
14813                        		__equ_b.uiq	8
         02:D1B0  C9 08      			cmp	#8
         02:D1B2  F0 01      			beq	!+
         02:D1B4  18         			clc
         02:D1B5             	!:
14814                        		__bfalse	.LL741
         02:D1B5  90 7C      			bcc	.LL741
14815                        	
14816                        		.dbg	line,	"include\routines_LEVELS.c", 3038; {
14817                        	
14818                        		.dbg	line,	"include\routines_LEVELS.c", 3039; list_chain_active[1] = TRUE;
14819                        		__st.umiq	1, _list_chain_active + 1
         02:D1B7  A9 01      			lda.l	#1
         02:D1B9  8D 2D 23   			sta	_list_chain_active + 1
14820                        	
14821                        		.dbg	line,	"include\routines_LEVELS.c", 3040; spr_set(chain_id+1);
14822                        		__ld.um		_chain_id
         02:D1BC  AD 27 23   			lda	_chain_id
         02:D1BF  C2         			cly
14823                        		__add.wi	1
         02:D1C0  1A         			inc	a
         02:D1C1  D0 01      			bne	!+
         02:D1C3  C8         			iny
         02:D1C4             	!:
14824                        		__call		_spr_set.1
         02:D1C4  20 F1 E7   			call	_spr_set.1
14825                        	
14826                        		.dbg	line,	"include\routines_LEVELS.c", 3042; if(player_axis == AXIS_RIGHT)
14827                        		__not.um	_player_axis
         02:D1C7  AD 1B 23   			lda	_player_axis
         02:D1CA  18         			clc
         02:D1CB  D0 01      			bne	!+
         02:D1CD  38         			sec
         02:D1CE             	!:
14828                        		__bfalse	.LL742
         02:D1CE  90 26      			bcc	.LL742
14829                        	
14830                        		.dbg	line,	"include\routines_LEVELS.c", 3043; {
14831                        	
14832                        		.dbg	line,	"include\routines_LEVELS.c", 3044; spr_x(player_pos_x+48);
14833                        		__ld.wm		_player_pos_x
         02:D1D0  AD 01 25   			lda.l	_player_pos_x
         02:D1D3  AC 02 25   			ldy.h	_player_pos_x
14834                        		__add.wi	48
         02:D1D6  18         			clc
         02:D1D7  69 30      			adc.l	#48
         02:D1D9  90 01      			bcc	!+
         02:D1DB  C8         			iny
         02:D1DC             	!:
14835                        		__call		_spr_x.1
         02:D1DC  20 1E E8   			call	_spr_x.1
14836                        	
14837                        		.dbg	line,	"include\routines_LEVELS.c", 3046; spr_set(weapon_id);
14838                        		__ld.umq	_weapon_id
         02:D1DF  AD 28 23   			lda	_weapon_id
14839                        		__call		_spr_set.1
         02:D1E2  20 F1 E7   			call	_spr_set.1
14840                        	
14841                        		.dbg	line,	"include\routines_LEVELS.c", 3047; spr_x(player_pos_x+64);
14842                        		__ld.wm		_player_pos_x
         02:D1E5  AD 01 25   			lda.l	_player_pos_x
         02:D1E8  AC 02 25   			ldy.h	_player_pos_x
14843                        		__add.wi	64
         02:D1EB  18         			clc
         02:D1EC  69 40      			adc.l	#64
         02:D1EE  90 01      			bcc	!+
         02:D1F0  C8         			iny
         02:D1F1             	!:
14844                        		__call		_spr_x.1
         02:D1F1  20 1E E8   			call	_spr_x.1
14845                        	
14846                        		.dbg	line,	"include\routines_LEVELS.c", 3048; }
14847                        	
14848                        		.dbg	line,	"include\routines_LEVELS.c", 3049; 
14849                        	
14850                        		.dbg	line,	"include\routines_LEVELS.c", 3050; else
14851                        		__bra		.LL743
         02:D1F4  80 24      			bra	.LL743
14852    02:D1F6             	.LL742:
14853                        	
14854                        		.dbg	line,	"include\routines_LEVELS.c", 3051; {
14855                        	
14856                        		.dbg	line,	"include\routines_LEVELS.c", 3052; spr_x(player_pos_x-32);
14857                        		__ld.wm		_player_pos_x
         02:D1F6  AD 01 25   			lda.l	_player_pos_x
         02:D1F9  AC 02 25   			ldy.h	_player_pos_x
14858                        		__sub.wi	32
         02:D1FC  38         			sec
         02:D1FD  E9 20      			sbc.l	#32
         02:D1FF  B0 01      			bcs	!+
         02:D201  88         			dey
         02:D202             	!:
14859                        		__call		_spr_x.1
         02:D202  20 1E E8   			call	_spr_x.1
14860                        	
14861                        		.dbg	line,	"include\routines_LEVELS.c", 3054; spr_set(weapon_id);
14862                        		__ld.umq	_weapon_id
         02:D205  AD 28 23   			lda	_weapon_id
14863                        		__call		_spr_set.1
         02:D208  20 F1 E7   			call	_spr_set.1
14864                        	
14865                        		.dbg	line,	"include\routines_LEVELS.c", 3055; spr_x(player_pos_x-48);
14866                        		__ld.wm		_player_pos_x
         02:D20B  AD 01 25   			lda.l	_player_pos_x
         02:D20E  AC 02 25   			ldy.h	_player_pos_x
14867                        		__sub.wi	48
         02:D211  38         			sec
         02:D212  E9 30      			sbc.l	#48
         02:D214  B0 01      			bcs	!+
         02:D216  88         			dey
         02:D217             	!:
14868                        		__call		_spr_x.1
         02:D217  20 1E E8   			call	_spr_x.1
14869                        	
14870                        		.dbg	line,	"include\routines_LEVELS.c", 3056; }
14871    02:D21A             	.LL743:
14872                        	
14873                        		.dbg	line,	"include\routines_LEVELS.c", 3058; spr_y(player_pos_y + weapon_y_offset);
14874                        		__ld.bm		_weapon_y_offset
         02:D21A  AD 99 26   			lda	_weapon_y_offset
         02:D21D  C2         			cly
         02:D21E  10 01      			bpl	!+
         02:D220  88         			dey
         02:D221             	!:
14875                        		__add.wm	_player_pos_y
         02:D221  18         			clc
         02:D222  6D 03 25   			adc.l	_player_pos_y
         02:D225  42         			say
         02:D226  6D 04 25   			adc.h	_player_pos_y
         02:D229  42         			say
14876                        		__call		_spr_y.1
         02:D22A  20 2D E8   			call	_spr_y.1
14877                        	
14878                        		.dbg	line,	"include\routines_LEVELS.c", 3060; collision_WEAPON_OBJECTS();
14879                        		__call		_collision_WEAPON_OBJECTS
         02:D22D  20 13 FF   			call	_collision_WEAPON_OBJECTS
14880                        	
14881                        		.dbg	line,	"include\routines_LEVELS.c", 3061; }
14882                        	
14883                        		.dbg	line,	"include\routines_LEVELS.c", 3063; else if(player_counter_attack == 9)
14884                        		__bra		.LL744
         02:D230  4C B8 D2   			bra	.LL744
14885    02:D233             	.LL741:
14886                        		__ld.umq	_player_counter_attack
         02:D233  AD 20 23   			lda	_player_counter_attack
14887                        		__equ_b.uiq	9
         02:D236  C9 09      			cmp	#9
         02:D238  F0 01      			beq	!+
         02:D23A  18         			clc
         02:D23B             	!:
14888                        		__bfalse	.LL745
         02:D23B  90 7B      			bcc	.LL745
14889                        	
14890                        		.dbg	line,	"include\routines_LEVELS.c", 3064; {
14891                        	
14892                        		.dbg	line,	"include\routines_LEVELS.c", 3065; list_chain_active[2] = TRUE;
14893                        		__st.umiq	1, _list_chain_active + 2
         02:D23D  A9 01      			lda.l	#1
         02:D23F  8D 2E 23   			sta	_list_chain_active + 2
14894                        	
14895                        		.dbg	line,	"include\routines_LEVELS.c", 3066; spr_set(chain_id+2);
14896                        		__ld.um		_chain_id
         02:D242  AD 27 23   			lda	_chain_id
         02:D245  C2         			cly
14897                        		__add.wi	2
         02:D246  18         			clc
         02:D247  69 02      			adc.l	#2
         02:D249  90 01      			bcc	!+
         02:D24B  C8         			iny
         02:D24C             	!:
14898                        		__call		_spr_set.1
         02:D24C  20 F1 E7   			call	_spr_set.1
14899                        	
14900                        		.dbg	line,	"include\routines_LEVELS.c", 3068; if(player_axis == AXIS_RIGHT)
14901                        		__not.um	_player_axis
         02:D24F  AD 1B 23   			lda	_player_axis
         02:D252  18         			clc
         02:D253  D0 01      			bne	!+
         02:D255  38         			sec
         02:D256             	!:
14902                        		__bfalse	.LL746
         02:D256  90 26      			bcc	.LL746
14903                        	
14904                        		.dbg	line,	"include\routines_LEVELS.c", 3069; {
14905                        	
14906                        		.dbg	line,	"include\routines_LEVELS.c", 3070; spr_x(player_pos_x+64);
14907                        		__ld.wm		_player_pos_x
         02:D258  AD 01 25   			lda.l	_player_pos_x
         02:D25B  AC 02 25   			ldy.h	_player_pos_x
14908                        		__add.wi	64
         02:D25E  18         			clc
         02:D25F  69 40      			adc.l	#64
         02:D261  90 01      			bcc	!+
         02:D263  C8         			iny
         02:D264             	!:
14909                        		__call		_spr_x.1
         02:D264  20 1E E8   			call	_spr_x.1
14910                        	
14911                        		.dbg	line,	"include\routines_LEVELS.c", 3072; spr_set(weapon_id);
14912                        		__ld.umq	_weapon_id
         02:D267  AD 28 23   			lda	_weapon_id
14913                        		__call		_spr_set.1
         02:D26A  20 F1 E7   			call	_spr_set.1
14914                        	
14915                        		.dbg	line,	"include\routines_LEVELS.c", 3073; spr_x(player_pos_x+80);
14916                        		__ld.wm		_player_pos_x
         02:D26D  AD 01 25   			lda.l	_player_pos_x
         02:D270  AC 02 25   			ldy.h	_player_pos_x
14917                        		__add.wi	80
         02:D273  18         			clc
         02:D274  69 50      			adc.l	#80
         02:D276  90 01      			bcc	!+
         02:D278  C8         			iny
         02:D279             	!:
14918                        		__call		_spr_x.1
         02:D279  20 1E E8   			call	_spr_x.1
14919                        	
14920                        		.dbg	line,	"include\routines_LEVELS.c", 3074; }
14921                        	
14922                        		.dbg	line,	"include\routines_LEVELS.c", 3075; 
14923                        	
14924                        		.dbg	line,	"include\routines_LEVELS.c", 3076; else
14925                        		__bra		.LL747
         02:D27C  80 24      			bra	.LL747
14926    02:D27E             	.LL746:
14927                        	
14928                        		.dbg	line,	"include\routines_LEVELS.c", 3077; {
14929                        	
14930                        		.dbg	line,	"include\routines_LEVELS.c", 3078; spr_x(player_pos_x-48);
14931                        		__ld.wm		_player_pos_x
         02:D27E  AD 01 25   			lda.l	_player_pos_x
         02:D281  AC 02 25   			ldy.h	_player_pos_x
14932                        		__sub.wi	48
         02:D284  38         			sec
         02:D285  E9 30      			sbc.l	#48
         02:D287  B0 01      			bcs	!+
         02:D289  88         			dey
         02:D28A             	!:
14933                        		__call		_spr_x.1
         02:D28A  20 1E E8   			call	_spr_x.1
14934                        	
14935                        		.dbg	line,	"include\routines_LEVELS.c", 3080; spr_set(weapon_id);
14936                        		__ld.umq	_weapon_id
         02:D28D  AD 28 23   			lda	_weapon_id
14937                        		__call		_spr_set.1
         02:D290  20 F1 E7   			call	_spr_set.1
14938                        	
14939                        		.dbg	line,	"include\routines_LEVELS.c", 3081; spr_x(player_pos_x-64);
14940                        		__ld.wm		_player_pos_x
         02:D293  AD 01 25   			lda.l	_player_pos_x
         02:D296  AC 02 25   			ldy.h	_player_pos_x
14941                        		__sub.wi	64
         02:D299  38         			sec
         02:D29A  E9 40      			sbc.l	#64
         02:D29C  B0 01      			bcs	!+
         02:D29E  88         			dey
         02:D29F             	!:
14942                        		__call		_spr_x.1
         02:D29F  20 1E E8   			call	_spr_x.1
14943                        	
14944                        		.dbg	line,	"include\routines_LEVELS.c", 3082; }
14945    02:D2A2             	.LL747:
14946                        	
14947                        		.dbg	line,	"include\routines_LEVELS.c", 3084; spr_y(player_pos_y + weapon_y_offset);
14948                        		__ld.bm		_weapon_y_offset
         02:D2A2  AD 99 26   			lda	_weapon_y_offset
         02:D2A5  C2         			cly
         02:D2A6  10 01      			bpl	!+
         02:D2A8  88         			dey
         02:D2A9             	!:
14949                        		__add.wm	_player_pos_y
         02:D2A9  18         			clc
         02:D2AA  6D 03 25   			adc.l	_player_pos_y
         02:D2AD  42         			say
         02:D2AE  6D 04 25   			adc.h	_player_pos_y
         02:D2B1  42         			say
14950                        		__call		_spr_y.1
         02:D2B2  20 2D E8   			call	_spr_y.1
14951                        	
14952                        		.dbg	line,	"include\routines_LEVELS.c", 3086; collision_WEAPON_OBJECTS();
14953                        		__call		_collision_WEAPON_OBJECTS
         02:D2B5  20 13 FF   			call	_collision_WEAPON_OBJECTS
14954                        	
14955                        		.dbg	line,	"include\routines_LEVELS.c", 3087; }
14956                        	
14957                        		.dbg	line,	"include\routines_LEVELS.c", 3088; }
14958    02:D2B8             	.LL745:
14959    02:D2B8             	.LL744:
14960    02:D2B8             	.LL740:
14961    02:D2B8             	.LL736:
14962                        	
14963                        		.dbg	line,	"include\routines_LEVELS.c", 3091; player_counter_attack += 1;
14964    02:D2B8             	.LL732:
14965                        		__add_st.umiq	1, _player_counter_attack
         02:D2B8  EE 20 23   			inc	_player_counter_attack
14966                        	
14967                        		.dbg	line,	"include\routines_LEVELS.c", 3094; // SET CHAIN Y POSITION //
14968                        	
14969                        		.dbg	line,	"include\routines_LEVELS.c", 3095; for(i=0 ; i<3 ; i++)
14970                        		__st.umiq	0, __update_WEAPON_end - 1  /* i */
         02:D2BB  9C 0F 23   			stz	__update_WEAPON_end - 1
14971    02:D2BE             	.LL748:
14972                        		__ld.umq	__update_WEAPON_end - 1  /* i */
         02:D2BE  AD 0F 23   			lda	__update_WEAPON_end - 1
14973                        		__ult_b.uiq	3
         02:D2C1  C9 03      			cmp	#3		; Subtract integer from A.
         02:D2C3  6A         			ror	a		; CC if A < integer.
         02:D2C4  49 80      			eor	#$80
         02:D2C6  2A         			rol	a
14974                        		__btrue		.LL750
         02:D2C7  B0 08      			bcs	.LL750
14975                        		__bra		.LL751
         02:D2C9  4C 89 DC   			bra	.LL751
14976    02:D2CC             	.LL749:
14977                        		__inc.umq	__update_WEAPON_end - 1  /* i */
         02:D2CC  EE 0F 23   			inc	__update_WEAPON_end - 1
14978                        		__bra		.LL748
         02:D2CF  80 ED      			bra	.LL748
14979    02:D2D1             	.LL750:
14980                        	
14981                        		.dbg	line,	"include\routines_LEVELS.c", 3096; {
14982                        	
14983                        		.dbg	line,	"include\routines_LEVELS.c", 3097; spr_set(chain_id+i);
14984                        		__ld.um		_chain_id
         02:D2D1  AD 27 23   			lda	_chain_id
         02:D2D4  C2         			cly
14985                        		__add.um	__update_WEAPON_end - 1  /* i */
         02:D2D5  18         			clc
         02:D2D6  6D 0F 23   			adc	__update_WEAPON_end - 1
         02:D2D9  90 01      			bcc	!+
         02:D2DB  C8         			iny
         02:D2DC             	!:
14986                        		__call		_spr_set.1
         02:D2DC  20 F1 E7   			call	_spr_set.1
14987                        	
14988                        		.dbg	line,	"include\routines_LEVELS.c", 3099; spr_y( ((player_pos_y + 16) * list_chain_active[i]) - 16); //list_chain_active[0] = TRUE;
14989                        		__ld.wm		_player_pos_y
         02:D2DF  AD 03 25   			lda.l	_player_pos_y
         02:D2E2  AC 04 25   			ldy.h	_player_pos_y
14990                        		__add.wi	16
         02:D2E5  18         			clc
         02:D2E6  69 10      			adc.l	#16
         02:D2E8  90 01      			bcc	!+
         02:D2EA  C8         			iny
         02:D2EB             	!:
14991                        		__push.wr
         02:D2EB  5A         			phy
         02:D2EC  48         			pha
14992                        		__ldx.umq	__update_WEAPON_end - 1  /* i */
         02:D2ED  AE 0F 23   			ldx	__update_WEAPON_end - 1
14993                        		__ld.uax	_list_chain_active
         02:D2F0  BD 2C 23   			lda	_list_chain_active, x
         02:D2F3  C2         			cly
14994                        		__mul.wt
         02:D2F4  85 00      			sta.l	<multiplier
         02:D2F6  84 01      			sty.h	<multiplier
         02:D2F8  68         			pla
         02:D2F9  7A         			ply
         02:D2FA  20 60 E4   			jsr	__mulint
14995                        		__sub.wi	16
         02:D2FD  38         			sec
         02:D2FE  E9 10      			sbc.l	#16
         02:D300  B0 01      			bcs	!+
         02:D302  88         			dey
         02:D303             	!:
14996                        		__call		_spr_y.1
         02:D303  20 2D E8   			call	_spr_y.1
14997                        	
14998                        		.dbg	line,	"include\routines_LEVELS.c", 3100; }
14999                        		__bra		.LL749
         02:D306  80 C4      			bra	.LL749
15000    02:D308             	.LL751	.alias		.LL752
15001                        	
15002                        		.dbg	line,	"include\routines_LEVELS.c", 3101; }
15003                        	
15004                        		.dbg	line,	"include\routines_LEVELS.c", 3104; else if(player_state == STATE_JUMP)
15005                        		__bra		.LL752
         02:D308  4C 89 DC   			bra	.LL752
15006    02:D30B             	.LL726:
15007                        		__ld.umq	_player_state
         02:D30B  AD 1A 23   			lda	_player_state
15008                        		__equ_b.uiq	4
         02:D30E  C9 04      			cmp	#4
         02:D310  F0 01      			beq	!+
         02:D312  18         			clc
         02:D313             	!:
15009                        		__bfalse	.LL753
         02:D313  B0 03 4C 52			bcc	.LL753
         02:D317  D6          
15010                        	
15011                        		.dbg	line,	"include\routines_LEVELS.c", 3105; {
15012                        	
15013                        		.dbg	line,	"include\routines_LEVELS.c", 3106; char i;
15014                        	
15015                        		.dbg	line,	"include\routines_LEVELS.c", 3107; 
15016                        	
15017                        		.dbg	line,	"include\routines_LEVELS.c", 3108; if(player_attack == TRUE)
15018                        		__ld.umq	_player_attack
         02:D318  AD 22 23   			lda	_player_attack
15019                        		__equ_b.uiq	1
         02:D31B  C9 01      			cmp	#1
         02:D31D  F0 01      			beq	!+
         02:D31F  18         			clc
         02:D320             	!:
15020                        		__bfalse	.LL754
         02:D320  B0 03 4C 89			bcc	.LL754
         02:D324  DC          
15021                        	
15022                        		.dbg	line,	"include\routines_LEVELS.c", 3109; {
15023                        	
15024                        		.dbg	line,	"include\routines_LEVELS.c", 3110; if(player_counter_attack < 6)
15025                        		__ld.umq	_player_counter_attack
         02:D325  AD 20 23   			lda	_player_counter_attack
15026                        		__ult_b.uiq	6
         02:D328  C9 06      			cmp	#6		; Subtract integer from A.
         02:D32A  6A         			ror	a		; CC if A < integer.
         02:D32B  49 80      			eor	#$80
         02:D32D  2A         			rol	a
15027                        		__bfalse	.LL755
         02:D32E  90 5C      			bcc	.LL755
15028                        	
15029                        		.dbg	line,	"include\routines_LEVELS.c", 3111; {
15030                        	
15031                        		.dbg	line,	"include\routines_LEVELS.c", 3112; spr_set(player_id);
15032                        		__ld.umq	_player_id
         02:D330  AD 19 23   			lda	_player_id
15033                        		__call		_spr_set.1
         02:D333  20 F1 E7   			call	_spr_set.1
15034                        	
15035                        		.dbg	line,	"include\routines_LEVELS.c", 3113; spr_pattern(PLAYER_JUMP_ATTACK_1_VRAM_ADR);
15036                        		__ld.wi		11520
         02:D336  62         			cla
         02:D337  A0 2D      			ldy.h	#11520
15037                        		__call		_spr_pattern.1
         02:D339  20 3A E8   			call	_spr_pattern.1
15038                        	
15039                        		.dbg	line,	"include\routines_LEVELS.c", 3115; spr_set(weapon_id);
15040                        		__ld.umq	_weapon_id
         02:D33C  AD 28 23   			lda	_weapon_id
15041                        		__call		_spr_set.1
         02:D33F  20 F1 E7   			call	_spr_set.1
15042                        	
15043                        		.dbg	line,	"include\routines_LEVELS.c", 3116; spr_pattern(WEAPON_ATTACK_1_VRAM_ADRESS);
15044                        		__ld.wi		32000
         02:D342  62         			cla
         02:D343  A0 7D      			ldy.h	#32000
15045                        		__call		_spr_pattern.1
         02:D345  20 3A E8   			call	_spr_pattern.1
15046                        	
15047                        		.dbg	line,	"include\routines_LEVELS.c", 3118; if(player_axis == AXIS_RIGHT)
15048                        		__not.um	_player_axis
         02:D348  AD 1B 23   			lda	_player_axis
         02:D34B  18         			clc
         02:D34C  D0 01      			bne	!+
         02:D34E  38         			sec
         02:D34F             	!:
15049                        		__bfalse	.LL756
         02:D34F  90 11      			bcc	.LL756
15050                        	
15051                        		.dbg	line,	"include\routines_LEVELS.c", 3119; {
15052                        	
15053                        		.dbg	line,	"include\routines_LEVELS.c", 3120; spr_x(player_pos_x-14);
15054                        		__ld.wm		_player_pos_x
         02:D351  AD 01 25   			lda.l	_player_pos_x
         02:D354  AC 02 25   			ldy.h	_player_pos_x
15055                        		__sub.wi	14
         02:D357  38         			sec
         02:D358  E9 0E      			sbc.l	#14
         02:D35A  B0 01      			bcs	!+
         02:D35C  88         			dey
         02:D35D             	!:
15056                        		__call		_spr_x.1
         02:D35D  20 1E E8   			call	_spr_x.1
15057                        	
15058                        		.dbg	line,	"include\routines_LEVELS.c", 3121; }
15059                        	
15060                        		.dbg	line,	"include\routines_LEVELS.c", 3123; else
15061                        		__bra		.LL757
         02:D360  80 0F      			bra	.LL757
15062    02:D362             	.LL756:
15063                        	
15064                        		.dbg	line,	"include\routines_LEVELS.c", 3124; {
15065                        	
15066                        		.dbg	line,	"include\routines_LEVELS.c", 3125; spr_x(player_pos_x+29);
15067                        		__ld.wm		_player_pos_x
         02:D362  AD 01 25   			lda.l	_player_pos_x
         02:D365  AC 02 25   			ldy.h	_player_pos_x
15068                        		__add.wi	29
         02:D368  18         			clc
         02:D369  69 1D      			adc.l	#29
         02:D36B  90 01      			bcc	!+
         02:D36D  C8         			iny
         02:D36E             	!:
15069                        		__call		_spr_x.1
         02:D36E  20 1E E8   			call	_spr_x.1
15070                        	
15071                        		.dbg	line,	"include\routines_LEVELS.c", 3126; }
15072    02:D371             	.LL757:
15073                        	
15074                        		.dbg	line,	"include\routines_LEVELS.c", 3128; weapon_y_offset = -8;
15075                        		__st.umiq	-8, _weapon_y_offset
         02:D371  A9 F8      			lda.l	#-8
         02:D373  8D 99 26   			sta	_weapon_y_offset
15076                        	
15077                        		.dbg	line,	"include\routines_LEVELS.c", 3129; spr_y(player_pos_y + weapon_y_offset);
15078                        		__ld.bm		_weapon_y_offset
         02:D376  AD 99 26   			lda	_weapon_y_offset
         02:D379  C2         			cly
         02:D37A  10 01      			bpl	!+
         02:D37C  88         			dey
         02:D37D             	!:
15079                        		__add.wm	_player_pos_y
         02:D37D  18         			clc
         02:D37E  6D 03 25   			adc.l	_player_pos_y
         02:D381  42         			say
         02:D382  6D 04 25   			adc.h	_player_pos_y
         02:D385  42         			say
15080                        		__call		_spr_y.1
         02:D386  20 2D E8   			call	_spr_y.1
15081                        	
15082                        		.dbg	line,	"include\routines_LEVELS.c", 3130; }
15083                        	
15084                        		.dbg	line,	"include\routines_LEVELS.c", 3132; else if(player_counter_attack == 23)
15085                        		__bra		.LL758
         02:D389  4C 1F D4   			bra	.LL758
15086    02:D38C             	.LL755:
15087                        		__ld.umq	_player_counter_attack
         02:D38C  AD 20 23   			lda	_player_counter_attack
15088                        		__equ_b.uiq	23
         02:D38F  C9 17      			cmp	#23
         02:D391  F0 01      			beq	!+
         02:D393  18         			clc
         02:D394             	!:
15089                        		__bfalse	.LL759
         02:D394  B0 03 4C 1F			bcc	.LL759
         02:D398  D4          
15090                        	
15091                        		.dbg	line,	"include\routines_LEVELS.c", 3133; {
15092                        	
15093                        		.dbg	line,	"include\routines_LEVELS.c", 3134; spr_set(chain_id);
15094                        		__ld.umq	_chain_id
         02:D399  AD 27 23   			lda	_chain_id
15095                        		__call		_spr_set.1
         02:D39C  20 F1 E7   			call	_spr_set.1
15096                        	
15097                        		.dbg	line,	"include\routines_LEVELS.c", 3135; spr_hide();
15098                        		__call		_spr_hide
         02:D39F  20 0C E8   			call	_spr_hide
15099                        	
15100                        		.dbg	line,	"include\routines_LEVELS.c", 3137; spr_set(chain_id+1);
15101                        		__ld.um		_chain_id
         02:D3A2  AD 27 23   			lda	_chain_id
         02:D3A5  C2         			cly
15102                        		__add.wi	1
         02:D3A6  1A         			inc	a
         02:D3A7  D0 01      			bne	!+
         02:D3A9  C8         			iny
         02:D3AA             	!:
15103                        		__call		_spr_set.1
         02:D3AA  20 F1 E7   			call	_spr_set.1
15104                        	
15105                        		.dbg	line,	"include\routines_LEVELS.c", 3138; spr_hide();
15106                        		__call		_spr_hide
         02:D3AD  20 0C E8   			call	_spr_hide
15107                        	
15108                        		.dbg	line,	"include\routines_LEVELS.c", 3140; spr_set(chain_id+2);
15109                        		__ld.um		_chain_id
         02:D3B0  AD 27 23   			lda	_chain_id
         02:D3B3  C2         			cly
15110                        		__add.wi	2
         02:D3B4  18         			clc
         02:D3B5  69 02      			adc.l	#2
         02:D3B7  90 01      			bcc	!+
         02:D3B9  C8         			iny
         02:D3BA             	!:
15111                        		__call		_spr_set.1
         02:D3BA  20 F1 E7   			call	_spr_set.1
15112                        	
15113                        		.dbg	line,	"include\routines_LEVELS.c", 3141; spr_hide();
15114                        		__call		_spr_hide
         02:D3BD  20 0C E8   			call	_spr_hide
15115                        	
15116                        		.dbg	line,	"include\routines_LEVELS.c", 3143; spr_set(player_id);
15117                        		__ld.umq	_player_id
         02:D3C0  AD 19 23   			lda	_player_id
15118                        		__call		_spr_set.1
         02:D3C3  20 F1 E7   			call	_spr_set.1
15119                        	
15120                        		.dbg	line,	"include\routines_LEVELS.c", 3144; spr_pattern(PLAYER_JUMP_VRAM_ADR);
15121                        		__ld.wi		7936
         02:D3C6  62         			cla
         02:D3C7  A0 1F      			ldy.h	#7936
15122                        		__call		_spr_pattern.1
         02:D3C9  20 3A E8   			call	_spr_pattern.1
15123                        	
15124                        		.dbg	line,	"include\routines_LEVELS.c", 3146; spr_set(weapon_id);
15125                        		__ld.umq	_weapon_id
         02:D3CC  AD 28 23   			lda	_weapon_id
15126                        		__call		_spr_set.1
         02:D3CF  20 F1 E7   			call	_spr_set.1
15127                        	
15128                        		.dbg	line,	"include\routines_LEVELS.c", 3147; spr_pattern(WEAPON_IDLE_VRAM_ADRESS);
15129                        		__ld.wi		31808
         02:D3D2  A9 40      			lda.l	#31808
         02:D3D4  A0 7C      			ldy.h	#31808
15130                        		__call		_spr_pattern.1
         02:D3D6  20 3A E8   			call	_spr_pattern.1
15131                        	
15132                        		.dbg	line,	"include\routines_LEVELS.c", 3148; spr_y(player_pos_y+5);
15133                        		__ld.wm		_player_pos_y
         02:D3D9  AD 03 25   			lda.l	_player_pos_y
         02:D3DC  AC 04 25   			ldy.h	_player_pos_y
15134                        		__add.wi	5
         02:D3DF  18         			clc
         02:D3E0  69 05      			adc.l	#5
         02:D3E2  90 01      			bcc	!+
         02:D3E4  C8         			iny
         02:D3E5             	!:
15135                        		__call		_spr_y.1
         02:D3E5  20 2D E8   			call	_spr_y.1
15136                        	
15137                        		.dbg	line,	"include\routines_LEVELS.c", 3150; if(player_axis == AXIS_RIGHT)
15138                        		__not.um	_player_axis
         02:D3E8  AD 1B 23   			lda	_player_axis
         02:D3EB  18         			clc
         02:D3EC  D0 01      			bne	!+
         02:D3EE  38         			sec
         02:D3EF             	!:
15139                        		__bfalse	.LL760
         02:D3EF  90 11      			bcc	.LL760
15140                        	
15141                        		.dbg	line,	"include\routines_LEVELS.c", 3151; {
15142                        	
15143                        		.dbg	line,	"include\routines_LEVELS.c", 3152; spr_x(player_pos_x+17);
15144                        		__ld.wm		_player_pos_x
         02:D3F1  AD 01 25   			lda.l	_player_pos_x
         02:D3F4  AC 02 25   			ldy.h	_player_pos_x
15145                        		__add.wi	17
         02:D3F7  18         			clc
         02:D3F8  69 11      			adc.l	#17
         02:D3FA  90 01      			bcc	!+
         02:D3FC  C8         			iny
         02:D3FD             	!:
15146                        		__call		_spr_x.1
         02:D3FD  20 1E E8   			call	_spr_x.1
15147                        	
15148                        		.dbg	line,	"include\routines_LEVELS.c", 3153; }
15149                        	
15150                        		.dbg	line,	"include\routines_LEVELS.c", 3155; else
15151                        		__bra		.LL761
         02:D400  80 0F      			bra	.LL761
15152    02:D402             	.LL760:
15153                        	
15154                        		.dbg	line,	"include\routines_LEVELS.c", 3156; {
15155                        	
15156                        		.dbg	line,	"include\routines_LEVELS.c", 3157; spr_x(player_pos_x-2);
15157                        		__ld.wm		_player_pos_x
         02:D402  AD 01 25   			lda.l	_player_pos_x
         02:D405  AC 02 25   			ldy.h	_player_pos_x
15158                        		__sub.wi	2
         02:D408  38         			sec
         02:D409  E9 02      			sbc.l	#2
         02:D40B  B0 01      			bcs	!+
         02:D40D  88         			dey
         02:D40E             	!:
15159                        		__call		_spr_x.1
         02:D40E  20 1E E8   			call	_spr_x.1
15160                        	
15161                        		.dbg	line,	"include\routines_LEVELS.c", 3158; }
15162    02:D411             	.LL761:
15163                        	
15164                        		.dbg	line,	"include\routines_LEVELS.c", 3160; player_attack = FALSE;
15165                        		__st.umiq	0, _player_attack
         02:D411  9C 22 23   			stz	_player_attack
15166                        	
15167                        		.dbg	line,	"include\routines_LEVELS.c", 3161; player_counter_attack = 0;
15168                        		__st.umiq	0, _player_counter_attack
         02:D414  9C 20 23   			stz	_player_counter_attack
15169                        	
15170                        		.dbg	line,	"include\routines_LEVELS.c", 3162; player_state = STATE_JUMP;
15171                        		__st.umiq	4, _player_state
         02:D417  A9 04      			lda.l	#4
         02:D419  8D 1A 23   			sta	_player_state
15172                        	
15173                        		.dbg	line,	"include\routines_LEVELS.c", 3163; return;
15174                        		__bra		.LL725
         02:D41C  4C 89 DC   			bra	.LL725
15175                        	
15176                        		.dbg	line,	"include\routines_LEVELS.c", 3164; }
15177                        	
15178                        		.dbg	line,	"include\routines_LEVELS.c", 3166; // CHAIN ANIMATION //
15179                        	
15180                        		.dbg	line,	"include\routines_LEVELS.c", 3167; //if(chain_unfold == TRUE)
15181                        	
15182                        		.dbg	line,	"include\routines_LEVELS.c", 3168; if(player_counter_attack > 5)
15183    02:D41F             	.LL759:
15184    02:D41F             	.LL758:
15185                        		__ld.umq	_player_counter_attack
         02:D41F  AD 20 23   			lda	_player_counter_attack
15186                        		__ugt_b.uiq	5
         02:D422  18         			clc			; Subtract integer+1 from A.
         02:D423  E9 05      			sbc	#5		; CS if A > integer.
15187                        		__bfalse	.LL762
         02:D425  B0 03 4C 4C			bcc	.LL762
         02:D429  D6          
15188                        	
15189                        		.dbg	line,	"include\routines_LEVELS.c", 3169; {
15190                        	
15191                        		.dbg	line,	"include\routines_LEVELS.c", 3170; if(player_counter_attack == 6)
15192                        		__ld.umq	_player_counter_attack
         02:D42A  AD 20 23   			lda	_player_counter_attack
15193                        		__equ_b.uiq	6
         02:D42D  C9 06      			cmp	#6
         02:D42F  F0 01      			beq	!+
         02:D431  18         			clc
         02:D432             	!:
15194                        		__bfalse	.LL763
         02:D432  90 4A      			bcc	.LL763
15195                        	
15196                        		.dbg	line,	"include\routines_LEVELS.c", 3171; {
15197                        	
15198                        		.dbg	line,	"include\routines_LEVELS.c", 3172; spr_set(player_id);
15199                        		__ld.umq	_player_id
         02:D434  AD 19 23   			lda	_player_id
15200                        		__call		_spr_set.1
         02:D437  20 F1 E7   			call	_spr_set.1
15201                        	
15202                        		.dbg	line,	"include\routines_LEVELS.c", 3173; spr_pattern(PLAYER_JUMP_ATTACK_2_VRAM_ADR);
15203                        		__ld.wi		11776
         02:D43A  62         			cla
         02:D43B  A0 2E      			ldy.h	#11776
15204                        		__call		_spr_pattern.1
         02:D43D  20 3A E8   			call	_spr_pattern.1
15205                        	
15206                        		.dbg	line,	"include\routines_LEVELS.c", 3175; spr_set(weapon_id);
15207                        		__ld.umq	_weapon_id
         02:D440  AD 28 23   			lda	_weapon_id
15208                        		__call		_spr_set.1
         02:D443  20 F1 E7   			call	_spr_set.1
15209                        	
15210                        		.dbg	line,	"include\routines_LEVELS.c", 3176; spr_pattern(WEAPON_ATTACK_2_VRAM_ADRESS);
15211                        		__ld.wi		32064
         02:D446  A9 40      			lda.l	#32064
         02:D448  A0 7D      			ldy.h	#32064
15212                        		__call		_spr_pattern.1
         02:D44A  20 3A E8   			call	_spr_pattern.1
15213                        	
15214                        		.dbg	line,	"include\routines_LEVELS.c", 3178; if(player_axis == AXIS_RIGHT)
15215                        		__not.um	_player_axis
         02:D44D  AD 1B 23   			lda	_player_axis
         02:D450  18         			clc
         02:D451  D0 01      			bne	!+
         02:D453  38         			sec
         02:D454             	!:
15216                        		__bfalse	.LL764
         02:D454  90 11      			bcc	.LL764
15217                        	
15218                        		.dbg	line,	"include\routines_LEVELS.c", 3179; {
15219                        	
15220                        		.dbg	line,	"include\routines_LEVELS.c", 3180; spr_x(player_pos_x+32);
15221                        		__ld.wm		_player_pos_x
         02:D456  AD 01 25   			lda.l	_player_pos_x
         02:D459  AC 02 25   			ldy.h	_player_pos_x
15222                        		__add.wi	32
         02:D45C  18         			clc
         02:D45D  69 20      			adc.l	#32
         02:D45F  90 01      			bcc	!+
         02:D461  C8         			iny
         02:D462             	!:
15223                        		__call		_spr_x.1
         02:D462  20 1E E8   			call	_spr_x.1
15224                        	
15225                        		.dbg	line,	"include\routines_LEVELS.c", 3181; 
15226                        	
15227                        		.dbg	line,	"include\routines_LEVELS.c", 3182; }
15228                        	
15229                        		.dbg	line,	"include\routines_LEVELS.c", 3183; 
15230                        	
15231                        		.dbg	line,	"include\routines_LEVELS.c", 3184; else
15232                        		__bra		.LL765
         02:D465  80 0F      			bra	.LL765
15233    02:D467             	.LL764:
15234                        	
15235                        		.dbg	line,	"include\routines_LEVELS.c", 3185; {
15236                        	
15237                        		.dbg	line,	"include\routines_LEVELS.c", 3186; spr_x(player_pos_x-16);
15238                        		__ld.wm		_player_pos_x
         02:D467  AD 01 25   			lda.l	_player_pos_x
         02:D46A  AC 02 25   			ldy.h	_player_pos_x
15239                        		__sub.wi	16
         02:D46D  38         			sec
         02:D46E  E9 10      			sbc.l	#16
         02:D470  B0 01      			bcs	!+
         02:D472  88         			dey
         02:D473             	!:
15240                        		__call		_spr_x.1
         02:D473  20 1E E8   			call	_spr_x.1
15241                        	
15242                        		.dbg	line,	"include\routines_LEVELS.c", 3187; }
15243    02:D476             	.LL765:
15244                        	
15245                        		.dbg	line,	"include\routines_LEVELS.c", 3189; weapon_y_offset = 6;
15246                        		__st.umiq	6, _weapon_y_offset
         02:D476  A9 06      			lda.l	#6
         02:D478  8D 99 26   			sta	_weapon_y_offset
15247                        	
15248                        		.dbg	line,	"include\routines_LEVELS.c", 3190; //spr_y(player_pos_y + weapon_y_offset);
15249                        	
15250                        		.dbg	line,	"include\routines_LEVELS.c", 3192; //collision_WEAPON_OBJECTS();
15251                        	
15252                        		.dbg	line,	"include\routines_LEVELS.c", 3193; }
15253                        	
15254                        		.dbg	line,	"include\routines_LEVELS.c", 3195; else if(player_counter_attack == 7)
15255                        		__bra		.LL766
         02:D47B  4C E4 D5   			bra	.LL766
15256    02:D47E             	.LL763:
15257                        		__ld.umq	_player_counter_attack
         02:D47E  AD 20 23   			lda	_player_counter_attack
15258                        		__equ_b.uiq	7
         02:D481  C9 07      			cmp	#7
         02:D483  F0 01      			beq	!+
         02:D485  18         			clc
         02:D486             	!:
15259                        		__bfalse	.LL767
         02:D486  90 6B      			bcc	.LL767
15260                        	
15261                        		.dbg	line,	"include\routines_LEVELS.c", 3196; {
15262                        	
15263                        		.dbg	line,	"include\routines_LEVELS.c", 3197; list_chain_active[0] = TRUE;
15264                        		__st.umiq	1, _list_chain_active
         02:D488  A9 01      			lda.l	#1
         02:D48A  8D 2C 23   			sta	_list_chain_active
15265                        	
15266                        		.dbg	line,	"include\routines_LEVELS.c", 3198; 
15267                        	
15268                        		.dbg	line,	"include\routines_LEVELS.c", 3199; spr_set(chain_id);
15269                        		__ld.umq	_chain_id
         02:D48D  AD 27 23   			lda	_chain_id
15270                        		__call		_spr_set.1
         02:D490  20 F1 E7   			call	_spr_set.1
15271                        	
15272                        		.dbg	line,	"include\routines_LEVELS.c", 3200; spr_y(player_pos_y);
15273                        		__ld.wm		_player_pos_y
         02:D493  AD 03 25   			lda.l	_player_pos_y
         02:D496  AC 04 25   			ldy.h	_player_pos_y
15274                        		__call		_spr_y.1
         02:D499  20 2D E8   			call	_spr_y.1
15275                        	
15276                        		.dbg	line,	"include\routines_LEVELS.c", 3202; if(player_axis == AXIS_RIGHT)
15277                        		__not.um	_player_axis
         02:D49C  AD 1B 23   			lda	_player_axis
         02:D49F  18         			clc
         02:D4A0  D0 01      			bne	!+
         02:D4A2  38         			sec
         02:D4A3             	!:
15278                        		__bfalse	.LL768
         02:D4A3  90 27      			bcc	.LL768
15279                        	
15280                        		.dbg	line,	"include\routines_LEVELS.c", 3203; {
15281                        	
15282                        		.dbg	line,	"include\routines_LEVELS.c", 3204; spr_x(player_pos_x+32);
15283                        		__ld.wm		_player_pos_x
         02:D4A5  AD 01 25   			lda.l	_player_pos_x
         02:D4A8  AC 02 25   			ldy.h	_player_pos_x
15284                        		__add.wi	32
         02:D4AB  18         			clc
         02:D4AC  69 20      			adc.l	#32
         02:D4AE  90 01      			bcc	!+
         02:D4B0  C8         			iny
         02:D4B1             	!:
15285                        		__call		_spr_x.1
         02:D4B1  20 1E E8   			call	_spr_x.1
15286                        	
15287                        		.dbg	line,	"include\routines_LEVELS.c", 3206; spr_set(weapon_id);
15288                        		__ld.umq	_weapon_id
         02:D4B4  AD 28 23   			lda	_weapon_id
15289                        		__call		_spr_set.1
         02:D4B7  20 F1 E7   			call	_spr_set.1
15290                        	
15291                        		.dbg	line,	"include\routines_LEVELS.c", 3207; spr_x(player_pos_x+48);
15292                        		__ld.wm		_player_pos_x
         02:D4BA  AD 01 25   			lda.l	_player_pos_x
         02:D4BD  AC 02 25   			ldy.h	_player_pos_x
15293                        		__add.wi	48
         02:D4C0  18         			clc
         02:D4C1  69 30      			adc.l	#48
         02:D4C3  90 01      			bcc	!+
         02:D4C5  C8         			iny
         02:D4C6             	!:
15294                        		__call		_spr_x.1
         02:D4C6  20 1E E8   			call	_spr_x.1
15295                        	
15296                        		.dbg	line,	"include\routines_LEVELS.c", 3208; }
15297                        	
15298                        		.dbg	line,	"include\routines_LEVELS.c", 3209; 
15299                        	
15300                        		.dbg	line,	"include\routines_LEVELS.c", 3210; else
15301                        		__bra		.LL769
         02:D4C9  4C E4 D5   			bra	.LL769
15302    02:D4CC             	.LL768:
15303                        	
15304                        		.dbg	line,	"include\routines_LEVELS.c", 3211; {
15305                        	
15306                        		.dbg	line,	"include\routines_LEVELS.c", 3212; spr_x(player_pos_x-16);
15307                        		__ld.wm		_player_pos_x
         02:D4CC  AD 01 25   			lda.l	_player_pos_x
         02:D4CF  AC 02 25   			ldy.h	_player_pos_x
15308                        		__sub.wi	16
         02:D4D2  38         			sec
         02:D4D3  E9 10      			sbc.l	#16
         02:D4D5  B0 01      			bcs	!+
         02:D4D7  88         			dey
         02:D4D8             	!:
15309                        		__call		_spr_x.1
         02:D4D8  20 1E E8   			call	_spr_x.1
15310                        	
15311                        		.dbg	line,	"include\routines_LEVELS.c", 3214; spr_set(weapon_id);
15312                        		__ld.umq	_weapon_id
         02:D4DB  AD 28 23   			lda	_weapon_id
15313                        		__call		_spr_set.1
         02:D4DE  20 F1 E7   			call	_spr_set.1
15314                        	
15315                        		.dbg	line,	"include\routines_LEVELS.c", 3215; spr_x(player_pos_x-32);
15316                        		__ld.wm		_player_pos_x
         02:D4E1  AD 01 25   			lda.l	_player_pos_x
         02:D4E4  AC 02 25   			ldy.h	_player_pos_x
15317                        		__sub.wi	32
         02:D4E7  38         			sec
         02:D4E8  E9 20      			sbc.l	#32
         02:D4EA  B0 01      			bcs	!+
         02:D4EC  88         			dey
         02:D4ED             	!:
15318                        		__call		_spr_x.1
         02:D4ED  20 1E E8   			call	_spr_x.1
15319                        	
15320                        		.dbg	line,	"include\routines_LEVELS.c", 3216; }
15321    02:D4F0             	.LL769	.alias		.LL770
15322                        	
15323                        		.dbg	line,	"include\routines_LEVELS.c", 3218; //spr_y(player_pos_y + weapon_y_offset);
15324                        	
15325                        		.dbg	line,	"include\routines_LEVELS.c", 3220; //collision_WEAPON_OBJECTS();
15326                        	
15327                        		.dbg	line,	"include\routines_LEVELS.c", 3221; }
15328                        	
15329                        		.dbg	line,	"include\routines_LEVELS.c", 3223; else if(player_counter_attack == 8)
15330                        		__bra		.LL770
         02:D4F0  4C E4 D5   			bra	.LL770
15331    02:D4F3             	.LL767:
15332                        		__ld.umq	_player_counter_attack
         02:D4F3  AD 20 23   			lda	_player_counter_attack
15333                        		__equ_b.uiq	8
         02:D4F6  C9 08      			cmp	#8
         02:D4F8  F0 01      			beq	!+
         02:D4FA  18         			clc
         02:D4FB             	!:
15334                        		__bfalse	.LL771
         02:D4FB  90 6F      			bcc	.LL771
15335                        	
15336                        		.dbg	line,	"include\routines_LEVELS.c", 3224; {
15337                        	
15338                        		.dbg	line,	"include\routines_LEVELS.c", 3225; list_chain_active[1] = TRUE;
15339                        		__st.umiq	1, _list_chain_active + 1
         02:D4FD  A9 01      			lda.l	#1
         02:D4FF  8D 2D 23   			sta	_list_chain_active + 1
15340                        	
15341                        		.dbg	line,	"include\routines_LEVELS.c", 3226; 
15342                        	
15343                        		.dbg	line,	"include\routines_LEVELS.c", 3227; spr_set(chain_id+1);
15344                        		__ld.um		_chain_id
         02:D502  AD 27 23   			lda	_chain_id
         02:D505  C2         			cly
15345                        		__add.wi	1
         02:D506  1A         			inc	a
         02:D507  D0 01      			bne	!+
         02:D509  C8         			iny
         02:D50A             	!:
15346                        		__call		_spr_set.1
         02:D50A  20 F1 E7   			call	_spr_set.1
15347                        	
15348                        		.dbg	line,	"include\routines_LEVELS.c", 3228; spr_y(player_pos_y);
15349                        		__ld.wm		_player_pos_y
         02:D50D  AD 03 25   			lda.l	_player_pos_y
         02:D510  AC 04 25   			ldy.h	_player_pos_y
15350                        		__call		_spr_y.1
         02:D513  20 2D E8   			call	_spr_y.1
15351                        	
15352                        		.dbg	line,	"include\routines_LEVELS.c", 3230; if(player_axis == AXIS_RIGHT)
15353                        		__not.um	_player_axis
         02:D516  AD 1B 23   			lda	_player_axis
         02:D519  18         			clc
         02:D51A  D0 01      			bne	!+
         02:D51C  38         			sec
         02:D51D             	!:
15354                        		__bfalse	.LL772
         02:D51D  90 27      			bcc	.LL772
15355                        	
15356                        		.dbg	line,	"include\routines_LEVELS.c", 3231; {
15357                        	
15358                        		.dbg	line,	"include\routines_LEVELS.c", 3232; spr_x(player_pos_x+48);
15359                        		__ld.wm		_player_pos_x
         02:D51F  AD 01 25   			lda.l	_player_pos_x
         02:D522  AC 02 25   			ldy.h	_player_pos_x
15360                        		__add.wi	48
         02:D525  18         			clc
         02:D526  69 30      			adc.l	#48
         02:D528  90 01      			bcc	!+
         02:D52A  C8         			iny
         02:D52B             	!:
15361                        		__call		_spr_x.1
         02:D52B  20 1E E8   			call	_spr_x.1
15362                        	
15363                        		.dbg	line,	"include\routines_LEVELS.c", 3234; spr_set(weapon_id);
15364                        		__ld.umq	_weapon_id
         02:D52E  AD 28 23   			lda	_weapon_id
15365                        		__call		_spr_set.1
         02:D531  20 F1 E7   			call	_spr_set.1
15366                        	
15367                        		.dbg	line,	"include\routines_LEVELS.c", 3235; spr_x(player_pos_x+64);
15368                        		__ld.wm		_player_pos_x
         02:D534  AD 01 25   			lda.l	_player_pos_x
         02:D537  AC 02 25   			ldy.h	_player_pos_x
15369                        		__add.wi	64
         02:D53A  18         			clc
         02:D53B  69 40      			adc.l	#64
         02:D53D  90 01      			bcc	!+
         02:D53F  C8         			iny
         02:D540             	!:
15370                        		__call		_spr_x.1
         02:D540  20 1E E8   			call	_spr_x.1
15371                        	
15372                        		.dbg	line,	"include\routines_LEVELS.c", 3236; }
15373                        	
15374                        		.dbg	line,	"include\routines_LEVELS.c", 3237; 
15375                        	
15376                        		.dbg	line,	"include\routines_LEVELS.c", 3238; else
15377                        		__bra		.LL773
         02:D543  4C E4 D5   			bra	.LL773
15378    02:D546             	.LL772:
15379                        	
15380                        		.dbg	line,	"include\routines_LEVELS.c", 3239; {
15381                        	
15382                        		.dbg	line,	"include\routines_LEVELS.c", 3240; spr_x(player_pos_x-32);
15383                        		__ld.wm		_player_pos_x
         02:D546  AD 01 25   			lda.l	_player_pos_x
         02:D549  AC 02 25   			ldy.h	_player_pos_x
15384                        		__sub.wi	32
         02:D54C  38         			sec
         02:D54D  E9 20      			sbc.l	#32
         02:D54F  B0 01      			bcs	!+
         02:D551  88         			dey
         02:D552             	!:
15385                        		__call		_spr_x.1
         02:D552  20 1E E8   			call	_spr_x.1
15386                        	
15387                        		.dbg	line,	"include\routines_LEVELS.c", 3242; spr_set(weapon_id);
15388                        		__ld.umq	_weapon_id
         02:D555  AD 28 23   			lda	_weapon_id
15389                        		__call		_spr_set.1
         02:D558  20 F1 E7   			call	_spr_set.1
15390                        	
15391                        		.dbg	line,	"include\routines_LEVELS.c", 3243; spr_x(player_pos_x-48);
15392                        		__ld.wm		_player_pos_x
         02:D55B  AD 01 25   			lda.l	_player_pos_x
         02:D55E  AC 02 25   			ldy.h	_player_pos_x
15393                        		__sub.wi	48
         02:D561  38         			sec
         02:D562  E9 30      			sbc.l	#48
         02:D564  B0 01      			bcs	!+
         02:D566  88         			dey
         02:D567             	!:
15394                        		__call		_spr_x.1
         02:D567  20 1E E8   			call	_spr_x.1
15395                        	
15396                        		.dbg	line,	"include\routines_LEVELS.c", 3244; }
15397    02:D56A             	.LL773	.alias		.LL774
15398                        	
15399                        		.dbg	line,	"include\routines_LEVELS.c", 3246; //spr_y(player_pos_y + weapon_y_offset);
15400                        	
15401                        		.dbg	line,	"include\routines_LEVELS.c", 3248; //collision_WEAPON_OBJECTS();
15402                        	
15403                        		.dbg	line,	"include\routines_LEVELS.c", 3249; }
15404                        	
15405                        		.dbg	line,	"include\routines_LEVELS.c", 3251; else if(player_counter_attack == 9)
15406                        		__bra		.LL774
         02:D56A  80 78      			bra	.LL774
15407    02:D56C             	.LL771:
15408                        		__ld.umq	_player_counter_attack
         02:D56C  AD 20 23   			lda	_player_counter_attack
15409                        		__equ_b.uiq	9
         02:D56F  C9 09      			cmp	#9
         02:D571  F0 01      			beq	!+
         02:D573  18         			clc
         02:D574             	!:
15410                        		__bfalse	.LL775
         02:D574  90 6E      			bcc	.LL775
15411                        	
15412                        		.dbg	line,	"include\routines_LEVELS.c", 3252; {
15413                        	
15414                        		.dbg	line,	"include\routines_LEVELS.c", 3253; list_chain_active[2] = TRUE;
15415                        		__st.umiq	1, _list_chain_active + 2
         02:D576  A9 01      			lda.l	#1
         02:D578  8D 2E 23   			sta	_list_chain_active + 2
15416                        	
15417                        		.dbg	line,	"include\routines_LEVELS.c", 3254; 
15418                        	
15419                        		.dbg	line,	"include\routines_LEVELS.c", 3255; spr_set(chain_id+2);
15420                        		__ld.um		_chain_id
         02:D57B  AD 27 23   			lda	_chain_id
         02:D57E  C2         			cly
15421                        		__add.wi	2
         02:D57F  18         			clc
         02:D580  69 02      			adc.l	#2
         02:D582  90 01      			bcc	!+
         02:D584  C8         			iny
         02:D585             	!:
15422                        		__call		_spr_set.1
         02:D585  20 F1 E7   			call	_spr_set.1
15423                        	
15424                        		.dbg	line,	"include\routines_LEVELS.c", 3256; spr_y(player_pos_y);
15425                        		__ld.wm		_player_pos_y
         02:D588  AD 03 25   			lda.l	_player_pos_y
         02:D58B  AC 04 25   			ldy.h	_player_pos_y
15426                        		__call		_spr_y.1
         02:D58E  20 2D E8   			call	_spr_y.1
15427                        	
15428                        		.dbg	line,	"include\routines_LEVELS.c", 3258; if(player_axis == AXIS_RIGHT)
15429                        		__not.um	_player_axis
         02:D591  AD 1B 23   			lda	_player_axis
         02:D594  18         			clc
         02:D595  D0 01      			bne	!+
         02:D597  38         			sec
         02:D598             	!:
15430                        		__bfalse	.LL776
         02:D598  90 26      			bcc	.LL776
15431                        	
15432                        		.dbg	line,	"include\routines_LEVELS.c", 3259; {
15433                        	
15434                        		.dbg	line,	"include\routines_LEVELS.c", 3260; spr_x(player_pos_x+64);
15435                        		__ld.wm		_player_pos_x
         02:D59A  AD 01 25   			lda.l	_player_pos_x
         02:D59D  AC 02 25   			ldy.h	_player_pos_x
15436                        		__add.wi	64
         02:D5A0  18         			clc
         02:D5A1  69 40      			adc.l	#64
         02:D5A3  90 01      			bcc	!+
         02:D5A5  C8         			iny
         02:D5A6             	!:
15437                        		__call		_spr_x.1
         02:D5A6  20 1E E8   			call	_spr_x.1
15438                        	
15439                        		.dbg	line,	"include\routines_LEVELS.c", 3262; spr_set(weapon_id);
15440                        		__ld.umq	_weapon_id
         02:D5A9  AD 28 23   			lda	_weapon_id
15441                        		__call		_spr_set.1
         02:D5AC  20 F1 E7   			call	_spr_set.1
15442                        	
15443                        		.dbg	line,	"include\routines_LEVELS.c", 3263; spr_x(player_pos_x+80);
15444                        		__ld.wm		_player_pos_x
         02:D5AF  AD 01 25   			lda.l	_player_pos_x
         02:D5B2  AC 02 25   			ldy.h	_player_pos_x
15445                        		__add.wi	80
         02:D5B5  18         			clc
         02:D5B6  69 50      			adc.l	#80
         02:D5B8  90 01      			bcc	!+
         02:D5BA  C8         			iny
         02:D5BB             	!:
15446                        		__call		_spr_x.1
         02:D5BB  20 1E E8   			call	_spr_x.1
15447                        	
15448                        		.dbg	line,	"include\routines_LEVELS.c", 3264; }
15449                        	
15450                        		.dbg	line,	"include\routines_LEVELS.c", 3265; 
15451                        	
15452                        		.dbg	line,	"include\routines_LEVELS.c", 3266; else
15453                        		__bra		.LL777
         02:D5BE  80 24      			bra	.LL777
15454    02:D5C0             	.LL776:
15455                        	
15456                        		.dbg	line,	"include\routines_LEVELS.c", 3267; {
15457                        	
15458                        		.dbg	line,	"include\routines_LEVELS.c", 3268; spr_x(player_pos_x-48);
15459                        		__ld.wm		_player_pos_x
         02:D5C0  AD 01 25   			lda.l	_player_pos_x
         02:D5C3  AC 02 25   			ldy.h	_player_pos_x
15460                        		__sub.wi	48
         02:D5C6  38         			sec
         02:D5C7  E9 30      			sbc.l	#48
         02:D5C9  B0 01      			bcs	!+
         02:D5CB  88         			dey
         02:D5CC             	!:
15461                        		__call		_spr_x.1
         02:D5CC  20 1E E8   			call	_spr_x.1
15462                        	
15463                        		.dbg	line,	"include\routines_LEVELS.c", 3270; spr_set(weapon_id);
15464                        		__ld.umq	_weapon_id
         02:D5CF  AD 28 23   			lda	_weapon_id
15465                        		__call		_spr_set.1
         02:D5D2  20 F1 E7   			call	_spr_set.1
15466                        	
15467                        		.dbg	line,	"include\routines_LEVELS.c", 3271; spr_x(player_pos_x-64);
15468                        		__ld.wm		_player_pos_x
         02:D5D5  AD 01 25   			lda.l	_player_pos_x
         02:D5D8  AC 02 25   			ldy.h	_player_pos_x
15469                        		__sub.wi	64
         02:D5DB  38         			sec
         02:D5DC  E9 40      			sbc.l	#64
         02:D5DE  B0 01      			bcs	!+
         02:D5E0  88         			dey
         02:D5E1             	!:
15470                        		__call		_spr_x.1
         02:D5E1  20 1E E8   			call	_spr_x.1
15471                        	
15472                        		.dbg	line,	"include\routines_LEVELS.c", 3272; }
15473    02:D5E4             	.LL777:
15474                        	
15475                        		.dbg	line,	"include\routines_LEVELS.c", 3274; //spr_y(player_pos_y + weapon_y_offset);
15476                        	
15477                        		.dbg	line,	"include\routines_LEVELS.c", 3276; //collision_WEAPON_OBJECTS();
15478                        	
15479                        		.dbg	line,	"include\routines_LEVELS.c", 3277; }
15480                        	
15481                        		.dbg	line,	"include\routines_LEVELS.c", 3278; spr_set(weapon_id);
15482    02:D5E4             	.LL775:
15483    02:D5E4             	.LL774:
15484    02:D5E4             	.LL770:
15485    02:D5E4             	.LL766:
15486                        		__ld.umq	_weapon_id
         02:D5E4  AD 28 23   			lda	_weapon_id
15487                        		__call		_spr_set.1
         02:D5E7  20 F1 E7   			call	_spr_set.1
15488                        	
15489                        		.dbg	line,	"include\routines_LEVELS.c", 3279; spr_y(player_pos_y + weapon_y_offset);
15490                        		__ld.bm		_weapon_y_offset
         02:D5EA  AD 99 26   			lda	_weapon_y_offset
         02:D5ED  C2         			cly
         02:D5EE  10 01      			bpl	!+
         02:D5F0  88         			dey
         02:D5F1             	!:
15491                        		__add.wm	_player_pos_y
         02:D5F1  18         			clc
         02:D5F2  6D 03 25   			adc.l	_player_pos_y
         02:D5F5  42         			say
         02:D5F6  6D 04 25   			adc.h	_player_pos_y
         02:D5F9  42         			say
15492                        		__call		_spr_y.1
         02:D5FA  20 2D E8   			call	_spr_y.1
15493                        	
15494                        		.dbg	line,	"include\routines_LEVELS.c", 3280; 
15495                        	
15496                        		.dbg	line,	"include\routines_LEVELS.c", 3281; collision_WEAPON_OBJECTS();
15497                        		__call		_collision_WEAPON_OBJECTS
         02:D5FD  20 13 FF   			call	_collision_WEAPON_OBJECTS
15498                        	
15499                        		.dbg	line,	"include\routines_LEVELS.c", 3283; // SET CHAIN Y POSITION //
15500                        	
15501                        		.dbg	line,	"include\routines_LEVELS.c", 3284; for(i=0 ; i<3 ; i++)
15502                        		__st.umiq	0, __update_WEAPON_end - 2  /* i */
         02:D600  9C 0E 23   			stz	__update_WEAPON_end - 2
15503    02:D603             	.LL778:
15504                        		__ld.umq	__update_WEAPON_end - 2  /* i */
         02:D603  AD 0E 23   			lda	__update_WEAPON_end - 2
15505                        		__ult_b.uiq	3
         02:D606  C9 03      			cmp	#3		; Subtract integer from A.
         02:D608  6A         			ror	a		; CC if A < integer.
         02:D609  49 80      			eor	#$80
         02:D60B  2A         			rol	a
15506                        		__btrue		.LL780
         02:D60C  B0 07      			bcs	.LL780
15507                        		__bra		.LL781
         02:D60E  80 3C      			bra	.LL781
15508    02:D610             	.LL779:
15509                        		__inc.umq	__update_WEAPON_end - 2  /* i */
         02:D610  EE 0E 23   			inc	__update_WEAPON_end - 2
15510                        		__bra		.LL778
         02:D613  80 EE      			bra	.LL778
15511    02:D615             	.LL780:
15512                        	
15513                        		.dbg	line,	"include\routines_LEVELS.c", 3285; {
15514                        	
15515                        		.dbg	line,	"include\routines_LEVELS.c", 3286; spr_set(chain_id+i);
15516                        		__ld.um		_chain_id
         02:D615  AD 27 23   			lda	_chain_id
         02:D618  C2         			cly
15517                        		__add.um	__update_WEAPON_end - 2  /* i */
         02:D619  18         			clc
         02:D61A  6D 0E 23   			adc	__update_WEAPON_end - 2
         02:D61D  90 01      			bcc	!+
         02:D61F  C8         			iny
         02:D620             	!:
15518                        		__call		_spr_set.1
         02:D620  20 F1 E7   			call	_spr_set.1
15519                        	
15520                        		.dbg	line,	"include\routines_LEVELS.c", 3288; spr_y( ((player_pos_y + 16) * list_chain_active[i]) - 16); //list_chain_active[0] = TRUE;
15521                        		__ld.wm		_player_pos_y
         02:D623  AD 03 25   			lda.l	_player_pos_y
         02:D626  AC 04 25   			ldy.h	_player_pos_y
15522                        		__add.wi	16
         02:D629  18         			clc
         02:D62A  69 10      			adc.l	#16
         02:D62C  90 01      			bcc	!+
         02:D62E  C8         			iny
         02:D62F             	!:
15523                        		__push.wr
         02:D62F  5A         			phy
         02:D630  48         			pha
15524                        		__ldx.umq	__update_WEAPON_end - 2  /* i */
         02:D631  AE 0E 23   			ldx	__update_WEAPON_end - 2
15525                        		__ld.uax	_list_chain_active
         02:D634  BD 2C 23   			lda	_list_chain_active, x
         02:D637  C2         			cly
15526                        		__mul.wt
         02:D638  85 00      			sta.l	<multiplier
         02:D63A  84 01      			sty.h	<multiplier
         02:D63C  68         			pla
         02:D63D  7A         			ply
         02:D63E  20 60 E4   			jsr	__mulint
15527                        		__sub.wi	16
         02:D641  38         			sec
         02:D642  E9 10      			sbc.l	#16
         02:D644  B0 01      			bcs	!+
         02:D646  88         			dey
         02:D647             	!:
15528                        		__call		_spr_y.1
         02:D647  20 2D E8   			call	_spr_y.1
15529                        	
15530                        		.dbg	line,	"include\routines_LEVELS.c", 3289; }
15531                        		__bra		.LL779
         02:D64A  80 C4      			bra	.LL779
15532    02:D64C             	.LL781:
15533                        	
15534                        		.dbg	line,	"include\routines_LEVELS.c", 3290; }
15535                        	
15536                        		.dbg	line,	"include\routines_LEVELS.c", 3292; 
15537                        	
15538                        		.dbg	line,	"include\routines_LEVELS.c", 3293; player_counter_attack += 1;
15539    02:D64C             	.LL762:
15540                        		__add_st.umiq	1, _player_counter_attack
         02:D64C  EE 20 23   			inc	_player_counter_attack
15541                        	
15542                        		.dbg	line,	"include\routines_LEVELS.c", 3294; }
15543                        	
15544                        		.dbg	line,	"include\routines_LEVELS.c", 3295; }
15545    02:D64F             	.LL754	.alias		.LL782
15546                        	
15547                        		.dbg	line,	"include\routines_LEVELS.c", 3298; else if(player_state == STATE_CROUCH_ATTACK)
15548                        		__bra		.LL782
         02:D64F  4C 89 DC   			bra	.LL782
15549    02:D652             	.LL753:
15550                        		__ld.umq	_player_state
         02:D652  AD 1A 23   			lda	_player_state
15551                        		__equ_b.uiq	8
         02:D655  C9 08      			cmp	#8
         02:D657  F0 01      			beq	!+
         02:D659  18         			clc
         02:D65A             	!:
15552                        		__bfalse	.LL783
         02:D65A  B0 03 4C B2			bcc	.LL783
         02:D65E  D9          
15553                        	
15554                        		.dbg	line,	"include\routines_LEVELS.c", 3299; {
15555                        	
15556                        		.dbg	line,	"include\routines_LEVELS.c", 3300; char i;
15557                        	
15558                        		.dbg	line,	"include\routines_LEVELS.c", 3301; 
15559                        	
15560                        		.dbg	line,	"include\routines_LEVELS.c", 3302; recenter_CAMERA();
15561                        		__call		_recenter_CAMERA
         02:D65F  20 27 FF   			call	_recenter_CAMERA
15562                        	
15563                        		.dbg	line,	"include\routines_LEVELS.c", 3304; if(player_counter_attack < 7)
15564                        		__ld.umq	_player_counter_attack
         02:D662  AD 20 23   			lda	_player_counter_attack
15565                        		__ult_b.uiq	7
         02:D665  C9 07      			cmp	#7		; Subtract integer from A.
         02:D667  6A         			ror	a		; CC if A < integer.
         02:D668  49 80      			eor	#$80
         02:D66A  2A         			rol	a
15566                        		__bfalse	.LL784
         02:D66B  90 5A      			bcc	.LL784
15567                        	
15568                        		.dbg	line,	"include\routines_LEVELS.c", 3305; {
15569                        	
15570                        		.dbg	line,	"include\routines_LEVELS.c", 3306; spr_set(player_id);
15571                        		__ld.umq	_player_id
         02:D66D  AD 19 23   			lda	_player_id
15572                        		__call		_spr_set.1
         02:D670  20 F1 E7   			call	_spr_set.1
15573                        	
15574                        		.dbg	line,	"include\routines_LEVELS.c", 3307; spr_pattern(PLAYER_CROUCH_ATTACK_1_VRAM_ADR);
15575                        		__ld.wi		11008
         02:D673  62         			cla
         02:D674  A0 2B      			ldy.h	#11008
15576                        		__call		_spr_pattern.1
         02:D676  20 3A E8   			call	_spr_pattern.1
15577                        	
15578                        		.dbg	line,	"include\routines_LEVELS.c", 3309; spr_set(weapon_id);
15579                        		__ld.umq	_weapon_id
         02:D679  AD 28 23   			lda	_weapon_id
15580                        		__call		_spr_set.1
         02:D67C  20 F1 E7   			call	_spr_set.1
15581                        	
15582                        		.dbg	line,	"include\routines_LEVELS.c", 3310; spr_pattern(WEAPON_ATTACK_1_VRAM_ADRESS);
15583                        		__ld.wi		32000
         02:D67F  62         			cla
         02:D680  A0 7D      			ldy.h	#32000
15584                        		__call		_spr_pattern.1
         02:D682  20 3A E8   			call	_spr_pattern.1
15585                        	
15586                        		.dbg	line,	"include\routines_LEVELS.c", 3312; if(player_axis == AXIS_RIGHT)
15587                        		__not.um	_player_axis
         02:D685  AD 1B 23   			lda	_player_axis
         02:D688  18         			clc
         02:D689  D0 01      			bne	!+
         02:D68B  38         			sec
         02:D68C             	!:
15588                        		__bfalse	.LL785
         02:D68C  90 11      			bcc	.LL785
15589                        	
15590                        		.dbg	line,	"include\routines_LEVELS.c", 3313; {
15591                        	
15592                        		.dbg	line,	"include\routines_LEVELS.c", 3314; spr_x(player_pos_x-16);
15593                        		__ld.wm		_player_pos_x
         02:D68E  AD 01 25   			lda.l	_player_pos_x
         02:D691  AC 02 25   			ldy.h	_player_pos_x
15594                        		__sub.wi	16
         02:D694  38         			sec
         02:D695  E9 10      			sbc.l	#16
         02:D697  B0 01      			bcs	!+
         02:D699  88         			dey
         02:D69A             	!:
15595                        		__call		_spr_x.1
         02:D69A  20 1E E8   			call	_spr_x.1
15596                        	
15597                        		.dbg	line,	"include\routines_LEVELS.c", 3315; }
15598                        	
15599                        		.dbg	line,	"include\routines_LEVELS.c", 3317; else
15600                        		__bra		.LL786
         02:D69D  80 0F      			bra	.LL786
15601    02:D69F             	.LL785:
15602                        	
15603                        		.dbg	line,	"include\routines_LEVELS.c", 3318; {
15604                        	
15605                        		.dbg	line,	"include\routines_LEVELS.c", 3319; spr_x(player_pos_x+32);
15606                        		__ld.wm		_player_pos_x
         02:D69F  AD 01 25   			lda.l	_player_pos_x
         02:D6A2  AC 02 25   			ldy.h	_player_pos_x
15607                        		__add.wi	32
         02:D6A5  18         			clc
         02:D6A6  69 20      			adc.l	#32
         02:D6A8  90 01      			bcc	!+
         02:D6AA  C8         			iny
         02:D6AB             	!:
15608                        		__call		_spr_x.1
         02:D6AB  20 1E E8   			call	_spr_x.1
15609                        	
15610                        		.dbg	line,	"include\routines_LEVELS.c", 3320; }
15611    02:D6AE             	.LL786:
15612                        	
15613                        		.dbg	line,	"include\routines_LEVELS.c", 3322; weapon_y_offset = 0;
15614                        		__st.umiq	0, _weapon_y_offset
         02:D6AE  9C 99 26   			stz	_weapon_y_offset
15615                        	
15616                        		.dbg	line,	"include\routines_LEVELS.c", 3323; spr_y(player_pos_y + weapon_y_offset);
15617                        		__ld.bm		_weapon_y_offset
         02:D6B1  AD 99 26   			lda	_weapon_y_offset
         02:D6B4  C2         			cly
         02:D6B5  10 01      			bpl	!+
         02:D6B7  88         			dey
         02:D6B8             	!:
15618                        		__add.wm	_player_pos_y
         02:D6B8  18         			clc
         02:D6B9  6D 03 25   			adc.l	_player_pos_y
         02:D6BC  42         			say
         02:D6BD  6D 04 25   			adc.h	_player_pos_y
         02:D6C0  42         			say
15619                        		__call		_spr_y.1
         02:D6C1  20 2D E8   			call	_spr_y.1
15620                        	
15621                        		.dbg	line,	"include\routines_LEVELS.c", 3324; }
15622                        	
15623                        		.dbg	line,	"include\routines_LEVELS.c", 3326; else if(player_counter_attack == 23)
15624                        		__bra		.LL787
         02:D6C4  4C 5C D7   			bra	.LL787
15625    02:D6C7             	.LL784:
15626                        		__ld.umq	_player_counter_attack
         02:D6C7  AD 20 23   			lda	_player_counter_attack
15627                        		__equ_b.uiq	23
         02:D6CA  C9 17      			cmp	#23
         02:D6CC  F0 01      			beq	!+
         02:D6CE  18         			clc
         02:D6CF             	!:
15628                        		__bfalse	.LL788
         02:D6CF  B0 03 4C 5C			bcc	.LL788
         02:D6D3  D7          
15629                        	
15630                        		.dbg	line,	"include\routines_LEVELS.c", 3327; {
15631                        	
15632                        		.dbg	line,	"include\routines_LEVELS.c", 3328; spr_set(chain_id);
15633                        		__ld.umq	_chain_id
         02:D6D4  AD 27 23   			lda	_chain_id
15634                        		__call		_spr_set.1
         02:D6D7  20 F1 E7   			call	_spr_set.1
15635                        	
15636                        		.dbg	line,	"include\routines_LEVELS.c", 3329; spr_hide();
15637                        		__call		_spr_hide
         02:D6DA  20 0C E8   			call	_spr_hide
15638                        	
15639                        		.dbg	line,	"include\routines_LEVELS.c", 3331; spr_set(chain_id+1);
15640                        		__ld.um		_chain_id
         02:D6DD  AD 27 23   			lda	_chain_id
         02:D6E0  C2         			cly
15641                        		__add.wi	1
         02:D6E1  1A         			inc	a
         02:D6E2  D0 01      			bne	!+
         02:D6E4  C8         			iny
         02:D6E5             	!:
15642                        		__call		_spr_set.1
         02:D6E5  20 F1 E7   			call	_spr_set.1
15643                        	
15644                        		.dbg	line,	"include\routines_LEVELS.c", 3332; spr_hide();
15645                        		__call		_spr_hide
         02:D6E8  20 0C E8   			call	_spr_hide
15646                        	
15647                        		.dbg	line,	"include\routines_LEVELS.c", 3334; spr_set(chain_id+2);
15648                        		__ld.um		_chain_id
         02:D6EB  AD 27 23   			lda	_chain_id
         02:D6EE  C2         			cly
15649                        		__add.wi	2
         02:D6EF  18         			clc
         02:D6F0  69 02      			adc.l	#2
         02:D6F2  90 01      			bcc	!+
         02:D6F4  C8         			iny
         02:D6F5             	!:
15650                        		__call		_spr_set.1
         02:D6F5  20 F1 E7   			call	_spr_set.1
15651                        	
15652                        		.dbg	line,	"include\routines_LEVELS.c", 3335; spr_hide();
15653                        		__call		_spr_hide
         02:D6F8  20 0C E8   			call	_spr_hide
15654                        	
15655                        		.dbg	line,	"include\routines_LEVELS.c", 3337; spr_set(player_id);
15656                        		__ld.umq	_player_id
         02:D6FB  AD 19 23   			lda	_player_id
15657                        		__call		_spr_set.1
         02:D6FE  20 F1 E7   			call	_spr_set.1
15658                        	
15659                        		.dbg	line,	"include\routines_LEVELS.c", 3338; spr_pattern(PLAYER_CROUCH_VRAM_ADR);
15660                        		__ld.wi		8192
         02:D701  62         			cla
         02:D702  A0 20      			ldy.h	#8192
15661                        		__call		_spr_pattern.1
         02:D704  20 3A E8   			call	_spr_pattern.1
15662                        	
15663                        		.dbg	line,	"include\routines_LEVELS.c", 3340; spr_set(weapon_id);
15664                        		__ld.umq	_weapon_id
         02:D707  AD 28 23   			lda	_weapon_id
15665                        		__call		_spr_set.1
         02:D70A  20 F1 E7   			call	_spr_set.1
15666                        	
15667                        		.dbg	line,	"include\routines_LEVELS.c", 3341; spr_pattern(WEAPON_IDLE_VRAM_ADRESS);
15668                        		__ld.wi		31808
         02:D70D  A9 40      			lda.l	#31808
         02:D70F  A0 7C      			ldy.h	#31808
15669                        		__call		_spr_pattern.1
         02:D711  20 3A E8   			call	_spr_pattern.1
15670                        	
15671                        		.dbg	line,	"include\routines_LEVELS.c", 3342; 
15672                        	
15673                        		.dbg	line,	"include\routines_LEVELS.c", 3343; if(player_axis == AXIS_RIGHT)
15674                        		__not.um	_player_axis
         02:D714  AD 1B 23   			lda	_player_axis
         02:D717  18         			clc
         02:D718  D0 01      			bne	!+
         02:D71A  38         			sec
         02:D71B             	!:
15675                        		__bfalse	.LL789
         02:D71B  90 11      			bcc	.LL789
15676                        	
15677                        		.dbg	line,	"include\routines_LEVELS.c", 3344; {
15678                        	
15679                        		.dbg	line,	"include\routines_LEVELS.c", 3345; spr_x(player_pos_x-1);
15680                        		__ld.wm		_player_pos_x
         02:D71D  AD 01 25   			lda.l	_player_pos_x
         02:D720  AC 02 25   			ldy.h	_player_pos_x
15681                        		__sub.wi	1
         02:D723  38         			sec
         02:D724  E9 01      			sbc.l	#1
         02:D726  B0 01      			bcs	!+
         02:D728  88         			dey
         02:D729             	!:
15682                        		__call		_spr_x.1
         02:D729  20 1E E8   			call	_spr_x.1
15683                        	
15684                        		.dbg	line,	"include\routines_LEVELS.c", 3346; }
15685                        	
15686                        		.dbg	line,	"include\routines_LEVELS.c", 3348; else
15687                        		__bra		.LL790
         02:D72C  80 0F      			bra	.LL790
15688    02:D72E             	.LL789:
15689                        	
15690                        		.dbg	line,	"include\routines_LEVELS.c", 3349; {
15691                        	
15692                        		.dbg	line,	"include\routines_LEVELS.c", 3350; spr_x(player_pos_x+17);
15693                        		__ld.wm		_player_pos_x
         02:D72E  AD 01 25   			lda.l	_player_pos_x
         02:D731  AC 02 25   			ldy.h	_player_pos_x
15694                        		__add.wi	17
         02:D734  18         			clc
         02:D735  69 11      			adc.l	#17
         02:D737  90 01      			bcc	!+
         02:D739  C8         			iny
         02:D73A             	!:
15695                        		__call		_spr_x.1
         02:D73A  20 1E E8   			call	_spr_x.1
15696                        	
15697                        		.dbg	line,	"include\routines_LEVELS.c", 3351; }
15698    02:D73D             	.LL790:
15699                        	
15700                        		.dbg	line,	"include\routines_LEVELS.c", 3353; spr_y(player_pos_y+18);
15701                        		__ld.wm		_player_pos_y
         02:D73D  AD 03 25   			lda.l	_player_pos_y
         02:D740  AC 04 25   			ldy.h	_player_pos_y
15702                        		__add.wi	18
         02:D743  18         			clc
         02:D744  69 12      			adc.l	#18
         02:D746  90 01      			bcc	!+
         02:D748  C8         			iny
         02:D749             	!:
15703                        		__call		_spr_y.1
         02:D749  20 2D E8   			call	_spr_y.1
15704                        	
15705                        		.dbg	line,	"include\routines_LEVELS.c", 3355; player_attack = FALSE;
15706                        		__st.umiq	0, _player_attack
         02:D74C  9C 22 23   			stz	_player_attack
15707                        	
15708                        		.dbg	line,	"include\routines_LEVELS.c", 3356; player_counter_attack = 1;
15709                        		__st.umiq	1, _player_counter_attack
         02:D74F  A9 01      			lda.l	#1
         02:D751  8D 20 23   			sta	_player_counter_attack
15710                        	
15711                        		.dbg	line,	"include\routines_LEVELS.c", 3357; player_state = STATE_CROUCH;
15712                        		__st.umiq	7, _player_state
         02:D754  A9 07      			lda.l	#7
         02:D756  8D 1A 23   			sta	_player_state
15713                        	
15714                        		.dbg	line,	"include\routines_LEVELS.c", 3358; return;
15715                        		__bra		.LL725
         02:D759  4C 89 DC   			bra	.LL725
15716                        	
15717                        		.dbg	line,	"include\routines_LEVELS.c", 3359; }
15718                        	
15719                        		.dbg	line,	"include\routines_LEVELS.c", 3361; // CHAIN ANIMATION //
15720                        	
15721                        		.dbg	line,	"include\routines_LEVELS.c", 3362; if(chain_unfold == TRUE)
15722    02:D75C             	.LL788:
15723    02:D75C             	.LL787:
15724                        		__ld.umq	_chain_unfold
         02:D75C  AD 2B 23   			lda	_chain_unfold
15725                        		__equ_b.uiq	1
         02:D75F  C9 01      			cmp	#1
         02:D761  F0 01      			beq	!+
         02:D763  18         			clc
         02:D764             	!:
15726                        		__bfalse	.LL791
         02:D764  B0 03 4C 5F			bcc	.LL791
         02:D768  D9          
15727                        	
15728                        		.dbg	line,	"include\routines_LEVELS.c", 3363; {
15729                        	
15730                        		.dbg	line,	"include\routines_LEVELS.c", 3364; if(player_counter_attack == 6)
15731                        		__ld.umq	_player_counter_attack
         02:D769  AD 20 23   			lda	_player_counter_attack
15732                        		__equ_b.uiq	6
         02:D76C  C9 06      			cmp	#6
         02:D76E  F0 01      			beq	!+
         02:D770  18         			clc
         02:D771             	!:
15733                        		__bfalse	.LL792
         02:D771  90 60      			bcc	.LL792
15734                        	
15735                        		.dbg	line,	"include\routines_LEVELS.c", 3365; {
15736                        	
15737                        		.dbg	line,	"include\routines_LEVELS.c", 3366; spr_set(player_id);
15738                        		__ld.umq	_player_id
         02:D773  AD 19 23   			lda	_player_id
15739                        		__call		_spr_set.1
         02:D776  20 F1 E7   			call	_spr_set.1
15740                        	
15741                        		.dbg	line,	"include\routines_LEVELS.c", 3367; spr_pattern(PLAYER_CROUCH_ATTACK_2_VRAM_ADR);
15742                        		__ld.wi		11264
         02:D779  62         			cla
         02:D77A  A0 2C      			ldy.h	#11264
15743                        		__call		_spr_pattern.1
         02:D77C  20 3A E8   			call	_spr_pattern.1
15744                        	
15745                        		.dbg	line,	"include\routines_LEVELS.c", 3369; spr_set(weapon_id);
15746                        		__ld.umq	_weapon_id
         02:D77F  AD 28 23   			lda	_weapon_id
15747                        		__call		_spr_set.1
         02:D782  20 F1 E7   			call	_spr_set.1
15748                        	
15749                        		.dbg	line,	"include\routines_LEVELS.c", 3370; spr_pattern(WEAPON_ATTACK_2_VRAM_ADRESS);
15750                        		__ld.wi		32064
         02:D785  A9 40      			lda.l	#32064
         02:D787  A0 7D      			ldy.h	#32064
15751                        		__call		_spr_pattern.1
         02:D789  20 3A E8   			call	_spr_pattern.1
15752                        	
15753                        		.dbg	line,	"include\routines_LEVELS.c", 3372; if(player_axis == AXIS_RIGHT)
15754                        		__not.um	_player_axis
         02:D78C  AD 1B 23   			lda	_player_axis
         02:D78F  18         			clc
         02:D790  D0 01      			bne	!+
         02:D792  38         			sec
         02:D793             	!:
15755                        		__bfalse	.LL793
         02:D793  90 11      			bcc	.LL793
15756                        	
15757                        		.dbg	line,	"include\routines_LEVELS.c", 3373; {
15758                        	
15759                        		.dbg	line,	"include\routines_LEVELS.c", 3374; spr_x(player_pos_x+32);
15760                        		__ld.wm		_player_pos_x
         02:D795  AD 01 25   			lda.l	_player_pos_x
         02:D798  AC 02 25   			ldy.h	_player_pos_x
15761                        		__add.wi	32
         02:D79B  18         			clc
         02:D79C  69 20      			adc.l	#32
         02:D79E  90 01      			bcc	!+
         02:D7A0  C8         			iny
         02:D7A1             	!:
15762                        		__call		_spr_x.1
         02:D7A1  20 1E E8   			call	_spr_x.1
15763                        	
15764                        		.dbg	line,	"include\routines_LEVELS.c", 3375; 
15765                        	
15766                        		.dbg	line,	"include\routines_LEVELS.c", 3376; }
15767                        	
15768                        		.dbg	line,	"include\routines_LEVELS.c", 3377; 
15769                        	
15770                        		.dbg	line,	"include\routines_LEVELS.c", 3378; else
15771                        		__bra		.LL794
         02:D7A4  80 0F      			bra	.LL794
15772    02:D7A6             	.LL793:
15773                        	
15774                        		.dbg	line,	"include\routines_LEVELS.c", 3379; {
15775                        	
15776                        		.dbg	line,	"include\routines_LEVELS.c", 3380; spr_x(player_pos_x-16);
15777                        		__ld.wm		_player_pos_x
         02:D7A6  AD 01 25   			lda.l	_player_pos_x
         02:D7A9  AC 02 25   			ldy.h	_player_pos_x
15778                        		__sub.wi	16
         02:D7AC  38         			sec
         02:D7AD  E9 10      			sbc.l	#16
         02:D7AF  B0 01      			bcs	!+
         02:D7B1  88         			dey
         02:D7B2             	!:
15779                        		__call		_spr_x.1
         02:D7B2  20 1E E8   			call	_spr_x.1
15780                        	
15781                        		.dbg	line,	"include\routines_LEVELS.c", 3381; }
15782    02:D7B5             	.LL794:
15783                        	
15784                        		.dbg	line,	"include\routines_LEVELS.c", 3383; weapon_y_offset = 14;
15785                        		__st.umiq	14, _weapon_y_offset
         02:D7B5  A9 0E      			lda.l	#14
         02:D7B7  8D 99 26   			sta	_weapon_y_offset
15786                        	
15787                        		.dbg	line,	"include\routines_LEVELS.c", 3384; spr_y(player_pos_y + weapon_y_offset);
15788                        		__ld.bm		_weapon_y_offset
         02:D7BA  AD 99 26   			lda	_weapon_y_offset
         02:D7BD  C2         			cly
         02:D7BE  10 01      			bpl	!+
         02:D7C0  88         			dey
         02:D7C1             	!:
15789                        		__add.wm	_player_pos_y
         02:D7C1  18         			clc
         02:D7C2  6D 03 25   			adc.l	_player_pos_y
         02:D7C5  42         			say
         02:D7C6  6D 04 25   			adc.h	_player_pos_y
         02:D7C9  42         			say
15790                        		__call		_spr_y.1
         02:D7CA  20 2D E8   			call	_spr_y.1
15791                        	
15792                        		.dbg	line,	"include\routines_LEVELS.c", 3386; collision_WEAPON_OBJECTS();
15793                        		__call		_collision_WEAPON_OBJECTS
         02:D7CD  20 13 FF   			call	_collision_WEAPON_OBJECTS
15794                        	
15795                        		.dbg	line,	"include\routines_LEVELS.c", 3387; }
15796                        	
15797                        		.dbg	line,	"include\routines_LEVELS.c", 3389; else if(player_counter_attack == 7)
15798                        		__bra		.LL795
         02:D7D0  4C 5F D9   			bra	.LL795
15799    02:D7D3             	.LL792:
15800                        		__ld.umq	_player_counter_attack
         02:D7D3  AD 20 23   			lda	_player_counter_attack
15801                        		__equ_b.uiq	7
         02:D7D6  C9 07      			cmp	#7
         02:D7D8  F0 01      			beq	!+
         02:D7DA  18         			clc
         02:D7DB             	!:
15802                        		__bfalse	.LL796
         02:D7DB  90 77      			bcc	.LL796
15803                        	
15804                        		.dbg	line,	"include\routines_LEVELS.c", 3390; {
15805                        	
15806                        		.dbg	line,	"include\routines_LEVELS.c", 3391; list_chain_active[0] = TRUE;
15807                        		__st.umiq	1, _list_chain_active
         02:D7DD  A9 01      			lda.l	#1
         02:D7DF  8D 2C 23   			sta	_list_chain_active
15808                        	
15809                        		.dbg	line,	"include\routines_LEVELS.c", 3392; spr_set(chain_id);
15810                        		__ld.umq	_chain_id
         02:D7E2  AD 27 23   			lda	_chain_id
15811                        		__call		_spr_set.1
         02:D7E5  20 F1 E7   			call	_spr_set.1
15812                        	
15813                        		.dbg	line,	"include\routines_LEVELS.c", 3394; if(player_axis == AXIS_RIGHT)
15814                        		__not.um	_player_axis
         02:D7E8  AD 1B 23   			lda	_player_axis
         02:D7EB  18         			clc
         02:D7EC  D0 01      			bne	!+
         02:D7EE  38         			sec
         02:D7EF             	!:
15815                        		__bfalse	.LL797
         02:D7EF  90 26      			bcc	.LL797
15816                        	
15817                        		.dbg	line,	"include\routines_LEVELS.c", 3395; {
15818                        	
15819                        		.dbg	line,	"include\routines_LEVELS.c", 3396; spr_x(player_pos_x+32);
15820                        		__ld.wm		_player_pos_x
         02:D7F1  AD 01 25   			lda.l	_player_pos_x
         02:D7F4  AC 02 25   			ldy.h	_player_pos_x
15821                        		__add.wi	32
         02:D7F7  18         			clc
         02:D7F8  69 20      			adc.l	#32
         02:D7FA  90 01      			bcc	!+
         02:D7FC  C8         			iny
         02:D7FD             	!:
15822                        		__call		_spr_x.1
         02:D7FD  20 1E E8   			call	_spr_x.1
15823                        	
15824                        		.dbg	line,	"include\routines_LEVELS.c", 3398; spr_set(weapon_id);
15825                        		__ld.umq	_weapon_id
         02:D800  AD 28 23   			lda	_weapon_id
15826                        		__call		_spr_set.1
         02:D803  20 F1 E7   			call	_spr_set.1
15827                        	
15828                        		.dbg	line,	"include\routines_LEVELS.c", 3399; spr_x(player_pos_x+48);
15829                        		__ld.wm		_player_pos_x
         02:D806  AD 01 25   			lda.l	_player_pos_x
         02:D809  AC 02 25   			ldy.h	_player_pos_x
15830                        		__add.wi	48
         02:D80C  18         			clc
         02:D80D  69 30      			adc.l	#48
         02:D80F  90 01      			bcc	!+
         02:D811  C8         			iny
         02:D812             	!:
15831                        		__call		_spr_x.1
         02:D812  20 1E E8   			call	_spr_x.1
15832                        	
15833                        		.dbg	line,	"include\routines_LEVELS.c", 3400; }
15834                        	
15835                        		.dbg	line,	"include\routines_LEVELS.c", 3401; 
15836                        	
15837                        		.dbg	line,	"include\routines_LEVELS.c", 3402; else
15838                        		__bra		.LL798
         02:D815  80 24      			bra	.LL798
15839    02:D817             	.LL797:
15840                        	
15841                        		.dbg	line,	"include\routines_LEVELS.c", 3403; {
15842                        	
15843                        		.dbg	line,	"include\routines_LEVELS.c", 3404; spr_x(player_pos_x-16);
15844                        		__ld.wm		_player_pos_x
         02:D817  AD 01 25   			lda.l	_player_pos_x
         02:D81A  AC 02 25   			ldy.h	_player_pos_x
15845                        		__sub.wi	16
         02:D81D  38         			sec
         02:D81E  E9 10      			sbc.l	#16
         02:D820  B0 01      			bcs	!+
         02:D822  88         			dey
         02:D823             	!:
15846                        		__call		_spr_x.1
         02:D823  20 1E E8   			call	_spr_x.1
15847                        	
15848                        		.dbg	line,	"include\routines_LEVELS.c", 3406; spr_set(weapon_id);
15849                        		__ld.umq	_weapon_id
         02:D826  AD 28 23   			lda	_weapon_id
15850                        		__call		_spr_set.1
         02:D829  20 F1 E7   			call	_spr_set.1
15851                        	
15852                        		.dbg	line,	"include\routines_LEVELS.c", 3407; spr_x(player_pos_x-32);
15853                        		__ld.wm		_player_pos_x
         02:D82C  AD 01 25   			lda.l	_player_pos_x
         02:D82F  AC 02 25   			ldy.h	_player_pos_x
15854                        		__sub.wi	32
         02:D832  38         			sec
         02:D833  E9 20      			sbc.l	#32
         02:D835  B0 01      			bcs	!+
         02:D837  88         			dey
         02:D838             	!:
15855                        		__call		_spr_x.1
         02:D838  20 1E E8   			call	_spr_x.1
15856                        	
15857                        		.dbg	line,	"include\routines_LEVELS.c", 3408; }
15858    02:D83B             	.LL798:
15859                        	
15860                        		.dbg	line,	"include\routines_LEVELS.c", 3410; spr_y(player_pos_y + weapon_y_offset);
15861                        		__ld.bm		_weapon_y_offset
         02:D83B  AD 99 26   			lda	_weapon_y_offset
         02:D83E  C2         			cly
         02:D83F  10 01      			bpl	!+
         02:D841  88         			dey
         02:D842             	!:
15862                        		__add.wm	_player_pos_y
         02:D842  18         			clc
         02:D843  6D 03 25   			adc.l	_player_pos_y
         02:D846  42         			say
         02:D847  6D 04 25   			adc.h	_player_pos_y
         02:D84A  42         			say
15863                        		__call		_spr_y.1
         02:D84B  20 2D E8   			call	_spr_y.1
15864                        	
15865                        		.dbg	line,	"include\routines_LEVELS.c", 3412; collision_WEAPON_OBJECTS();
15866                        		__call		_collision_WEAPON_OBJECTS
         02:D84E  20 13 FF   			call	_collision_WEAPON_OBJECTS
15867                        	
15868                        		.dbg	line,	"include\routines_LEVELS.c", 3413; }
15869                        	
15870                        		.dbg	line,	"include\routines_LEVELS.c", 3415; else if(player_counter_attack == 8)
15871                        		__bra		.LL799
         02:D851  4C 5F D9   			bra	.LL799
15872    02:D854             	.LL796:
15873                        		__ld.umq	_player_counter_attack
         02:D854  AD 20 23   			lda	_player_counter_attack
15874                        		__equ_b.uiq	8
         02:D857  C9 08      			cmp	#8
         02:D859  F0 01      			beq	!+
         02:D85B  18         			clc
         02:D85C             	!:
15875                        		__bfalse	.LL800
         02:D85C  90 7C      			bcc	.LL800
15876                        	
15877                        		.dbg	line,	"include\routines_LEVELS.c", 3416; {
15878                        	
15879                        		.dbg	line,	"include\routines_LEVELS.c", 3417; list_chain_active[1] = TRUE;
15880                        		__st.umiq	1, _list_chain_active + 1
         02:D85E  A9 01      			lda.l	#1
         02:D860  8D 2D 23   			sta	_list_chain_active + 1
15881                        	
15882                        		.dbg	line,	"include\routines_LEVELS.c", 3418; spr_set(chain_id+1);
15883                        		__ld.um		_chain_id
         02:D863  AD 27 23   			lda	_chain_id
         02:D866  C2         			cly
15884                        		__add.wi	1
         02:D867  1A         			inc	a
         02:D868  D0 01      			bne	!+
         02:D86A  C8         			iny
         02:D86B             	!:
15885                        		__call		_spr_set.1
         02:D86B  20 F1 E7   			call	_spr_set.1
15886                        	
15887                        		.dbg	line,	"include\routines_LEVELS.c", 3420; if(player_axis == AXIS_RIGHT)
15888                        		__not.um	_player_axis
         02:D86E  AD 1B 23   			lda	_player_axis
         02:D871  18         			clc
         02:D872  D0 01      			bne	!+
         02:D874  38         			sec
         02:D875             	!:
15889                        		__bfalse	.LL801
         02:D875  90 26      			bcc	.LL801
15890                        	
15891                        		.dbg	line,	"include\routines_LEVELS.c", 3421; {
15892                        	
15893                        		.dbg	line,	"include\routines_LEVELS.c", 3422; spr_x(player_pos_x+48);
15894                        		__ld.wm		_player_pos_x
         02:D877  AD 01 25   			lda.l	_player_pos_x
         02:D87A  AC 02 25   			ldy.h	_player_pos_x
15895                        		__add.wi	48
         02:D87D  18         			clc
         02:D87E  69 30      			adc.l	#48
         02:D880  90 01      			bcc	!+
         02:D882  C8         			iny
         02:D883             	!:
15896                        		__call		_spr_x.1
         02:D883  20 1E E8   			call	_spr_x.1
15897                        	
15898                        		.dbg	line,	"include\routines_LEVELS.c", 3424; spr_set(weapon_id);
15899                        		__ld.umq	_weapon_id
         02:D886  AD 28 23   			lda	_weapon_id
15900                        		__call		_spr_set.1
         02:D889  20 F1 E7   			call	_spr_set.1
15901                        	
15902                        		.dbg	line,	"include\routines_LEVELS.c", 3425; spr_x(player_pos_x+64);
15903                        		__ld.wm		_player_pos_x
         02:D88C  AD 01 25   			lda.l	_player_pos_x
         02:D88F  AC 02 25   			ldy.h	_player_pos_x
15904                        		__add.wi	64
         02:D892  18         			clc
         02:D893  69 40      			adc.l	#64
         02:D895  90 01      			bcc	!+
         02:D897  C8         			iny
         02:D898             	!:
15905                        		__call		_spr_x.1
         02:D898  20 1E E8   			call	_spr_x.1
15906                        	
15907                        		.dbg	line,	"include\routines_LEVELS.c", 3426; }
15908                        	
15909                        		.dbg	line,	"include\routines_LEVELS.c", 3427; 
15910                        	
15911                        		.dbg	line,	"include\routines_LEVELS.c", 3428; else
15912                        		__bra		.LL802
         02:D89B  80 24      			bra	.LL802
15913    02:D89D             	.LL801:
15914                        	
15915                        		.dbg	line,	"include\routines_LEVELS.c", 3429; {
15916                        	
15917                        		.dbg	line,	"include\routines_LEVELS.c", 3430; spr_x(player_pos_x-32);
15918                        		__ld.wm		_player_pos_x
         02:D89D  AD 01 25   			lda.l	_player_pos_x
         02:D8A0  AC 02 25   			ldy.h	_player_pos_x
15919                        		__sub.wi	32
         02:D8A3  38         			sec
         02:D8A4  E9 20      			sbc.l	#32
         02:D8A6  B0 01      			bcs	!+
         02:D8A8  88         			dey
         02:D8A9             	!:
15920                        		__call		_spr_x.1
         02:D8A9  20 1E E8   			call	_spr_x.1
15921                        	
15922                        		.dbg	line,	"include\routines_LEVELS.c", 3432; spr_set(weapon_id);
15923                        		__ld.umq	_weapon_id
         02:D8AC  AD 28 23   			lda	_weapon_id
15924                        		__call		_spr_set.1
         02:D8AF  20 F1 E7   			call	_spr_set.1
15925                        	
15926                        		.dbg	line,	"include\routines_LEVELS.c", 3433; spr_x(player_pos_x-48);
15927                        		__ld.wm		_player_pos_x
         02:D8B2  AD 01 25   			lda.l	_player_pos_x
         02:D8B5  AC 02 25   			ldy.h	_player_pos_x
15928                        		__sub.wi	48
         02:D8B8  38         			sec
         02:D8B9  E9 30      			sbc.l	#48
         02:D8BB  B0 01      			bcs	!+
         02:D8BD  88         			dey
         02:D8BE             	!:
15929                        		__call		_spr_x.1
         02:D8BE  20 1E E8   			call	_spr_x.1
15930                        	
15931                        		.dbg	line,	"include\routines_LEVELS.c", 3434; }
15932    02:D8C1             	.LL802:
15933                        	
15934                        		.dbg	line,	"include\routines_LEVELS.c", 3436; spr_y(player_pos_y + weapon_y_offset);
15935                        		__ld.bm		_weapon_y_offset
         02:D8C1  AD 99 26   			lda	_weapon_y_offset
         02:D8C4  C2         			cly
         02:D8C5  10 01      			bpl	!+
         02:D8C7  88         			dey
         02:D8C8             	!:
15936                        		__add.wm	_player_pos_y
         02:D8C8  18         			clc
         02:D8C9  6D 03 25   			adc.l	_player_pos_y
         02:D8CC  42         			say
         02:D8CD  6D 04 25   			adc.h	_player_pos_y
         02:D8D0  42         			say
15937                        		__call		_spr_y.1
         02:D8D1  20 2D E8   			call	_spr_y.1
15938                        	
15939                        		.dbg	line,	"include\routines_LEVELS.c", 3438; collision_WEAPON_OBJECTS();
15940                        		__call		_collision_WEAPON_OBJECTS
         02:D8D4  20 13 FF   			call	_collision_WEAPON_OBJECTS
15941                        	
15942                        		.dbg	line,	"include\routines_LEVELS.c", 3439; }
15943                        	
15944                        		.dbg	line,	"include\routines_LEVELS.c", 3441; else if(player_counter_attack == 9)
15945                        		__bra		.LL803
         02:D8D7  4C 5F D9   			bra	.LL803
15946    02:D8DA             	.LL800:
15947                        		__ld.umq	_player_counter_attack
         02:D8DA  AD 20 23   			lda	_player_counter_attack
15948                        		__equ_b.uiq	9
         02:D8DD  C9 09      			cmp	#9
         02:D8DF  F0 01      			beq	!+
         02:D8E1  18         			clc
         02:D8E2             	!:
15949                        		__bfalse	.LL804
         02:D8E2  90 7B      			bcc	.LL804
15950                        	
15951                        		.dbg	line,	"include\routines_LEVELS.c", 3442; {
15952                        	
15953                        		.dbg	line,	"include\routines_LEVELS.c", 3443; list_chain_active[2] = TRUE;
15954                        		__st.umiq	1, _list_chain_active + 2
         02:D8E4  A9 01      			lda.l	#1
         02:D8E6  8D 2E 23   			sta	_list_chain_active + 2
15955                        	
15956                        		.dbg	line,	"include\routines_LEVELS.c", 3444; spr_set(chain_id+2);
15957                        		__ld.um		_chain_id
         02:D8E9  AD 27 23   			lda	_chain_id
         02:D8EC  C2         			cly
15958                        		__add.wi	2
         02:D8ED  18         			clc
         02:D8EE  69 02      			adc.l	#2
         02:D8F0  90 01      			bcc	!+
         02:D8F2  C8         			iny
         02:D8F3             	!:
15959                        		__call		_spr_set.1
         02:D8F3  20 F1 E7   			call	_spr_set.1
15960                        	
15961                        		.dbg	line,	"include\routines_LEVELS.c", 3446; if(player_axis == AXIS_RIGHT)
15962                        		__not.um	_player_axis
         02:D8F6  AD 1B 23   			lda	_player_axis
         02:D8F9  18         			clc
         02:D8FA  D0 01      			bne	!+
         02:D8FC  38         			sec
         02:D8FD             	!:
15963                        		__bfalse	.LL805
         02:D8FD  90 26      			bcc	.LL805
15964                        	
15965                        		.dbg	line,	"include\routines_LEVELS.c", 3447; {
15966                        	
15967                        		.dbg	line,	"include\routines_LEVELS.c", 3448; spr_x(player_pos_x+64);
15968                        		__ld.wm		_player_pos_x
         02:D8FF  AD 01 25   			lda.l	_player_pos_x
         02:D902  AC 02 25   			ldy.h	_player_pos_x
15969                        		__add.wi	64
         02:D905  18         			clc
         02:D906  69 40      			adc.l	#64
         02:D908  90 01      			bcc	!+
         02:D90A  C8         			iny
         02:D90B             	!:
15970                        		__call		_spr_x.1
         02:D90B  20 1E E8   			call	_spr_x.1
15971                        	
15972                        		.dbg	line,	"include\routines_LEVELS.c", 3450; spr_set(weapon_id);
15973                        		__ld.umq	_weapon_id
         02:D90E  AD 28 23   			lda	_weapon_id
15974                        		__call		_spr_set.1
         02:D911  20 F1 E7   			call	_spr_set.1
15975                        	
15976                        		.dbg	line,	"include\routines_LEVELS.c", 3451; spr_x(player_pos_x+80);
15977                        		__ld.wm		_player_pos_x
         02:D914  AD 01 25   			lda.l	_player_pos_x
         02:D917  AC 02 25   			ldy.h	_player_pos_x
15978                        		__add.wi	80
         02:D91A  18         			clc
         02:D91B  69 50      			adc.l	#80
         02:D91D  90 01      			bcc	!+
         02:D91F  C8         			iny
         02:D920             	!:
15979                        		__call		_spr_x.1
         02:D920  20 1E E8   			call	_spr_x.1
15980                        	
15981                        		.dbg	line,	"include\routines_LEVELS.c", 3452; }
15982                        	
15983                        		.dbg	line,	"include\routines_LEVELS.c", 3453; 
15984                        	
15985                        		.dbg	line,	"include\routines_LEVELS.c", 3454; else
15986                        		__bra		.LL806
         02:D923  80 24      			bra	.LL806
15987    02:D925             	.LL805:
15988                        	
15989                        		.dbg	line,	"include\routines_LEVELS.c", 3455; {
15990                        	
15991                        		.dbg	line,	"include\routines_LEVELS.c", 3456; spr_x(player_pos_x-48);
15992                        		__ld.wm		_player_pos_x
         02:D925  AD 01 25   			lda.l	_player_pos_x
         02:D928  AC 02 25   			ldy.h	_player_pos_x
15993                        		__sub.wi	48
         02:D92B  38         			sec
         02:D92C  E9 30      			sbc.l	#48
         02:D92E  B0 01      			bcs	!+
         02:D930  88         			dey
         02:D931             	!:
15994                        		__call		_spr_x.1
         02:D931  20 1E E8   			call	_spr_x.1
15995                        	
15996                        		.dbg	line,	"include\routines_LEVELS.c", 3458; spr_set(weapon_id);
15997                        		__ld.umq	_weapon_id
         02:D934  AD 28 23   			lda	_weapon_id
15998                        		__call		_spr_set.1
         02:D937  20 F1 E7   			call	_spr_set.1
15999                        	
16000                        		.dbg	line,	"include\routines_LEVELS.c", 3459; spr_x(player_pos_x-64);
16001                        		__ld.wm		_player_pos_x
         02:D93A  AD 01 25   			lda.l	_player_pos_x
         02:D93D  AC 02 25   			ldy.h	_player_pos_x
16002                        		__sub.wi	64
         02:D940  38         			sec
         02:D941  E9 40      			sbc.l	#64
         02:D943  B0 01      			bcs	!+
         02:D945  88         			dey
         02:D946             	!:
16003                        		__call		_spr_x.1
         02:D946  20 1E E8   			call	_spr_x.1
16004                        	
16005                        		.dbg	line,	"include\routines_LEVELS.c", 3460; }
16006    02:D949             	.LL806:
16007                        	
16008                        		.dbg	line,	"include\routines_LEVELS.c", 3462; spr_y(player_pos_y + weapon_y_offset);
16009                        		__ld.bm		_weapon_y_offset
         02:D949  AD 99 26   			lda	_weapon_y_offset
         02:D94C  C2         			cly
         02:D94D  10 01      			bpl	!+
         02:D94F  88         			dey
         02:D950             	!:
16010                        		__add.wm	_player_pos_y
         02:D950  18         			clc
         02:D951  6D 03 25   			adc.l	_player_pos_y
         02:D954  42         			say
         02:D955  6D 04 25   			adc.h	_player_pos_y
         02:D958  42         			say
16011                        		__call		_spr_y.1
         02:D959  20 2D E8   			call	_spr_y.1
16012                        	
16013                        		.dbg	line,	"include\routines_LEVELS.c", 3464; collision_WEAPON_OBJECTS();
16014                        		__call		_collision_WEAPON_OBJECTS
         02:D95C  20 13 FF   			call	_collision_WEAPON_OBJECTS
16015                        	
16016                        		.dbg	line,	"include\routines_LEVELS.c", 3465; }
16017                        	
16018                        		.dbg	line,	"include\routines_LEVELS.c", 3466; }
16019    02:D95F             	.LL804:
16020    02:D95F             	.LL803:
16021    02:D95F             	.LL799:
16022    02:D95F             	.LL795:
16023                        	
16024                        		.dbg	line,	"include\routines_LEVELS.c", 3469; player_counter_attack += 1;
16025    02:D95F             	.LL791:
16026                        		__add_st.umiq	1, _player_counter_attack
         02:D95F  EE 20 23   			inc	_player_counter_attack
16027                        	
16028                        		.dbg	line,	"include\routines_LEVELS.c", 3472; // SET CHAIN Y POSITION //
16029                        	
16030                        		.dbg	line,	"include\routines_LEVELS.c", 3473; for(i=0 ; i<3 ; i++)
16031                        		__st.umiq	0, __update_WEAPON_end - 3  /* i */
         02:D962  9C 0D 23   			stz	__update_WEAPON_end - 3
16032    02:D965             	.LL807:
16033                        		__ld.umq	__update_WEAPON_end - 3  /* i */
         02:D965  AD 0D 23   			lda	__update_WEAPON_end - 3
16034                        		__ult_b.uiq	3
         02:D968  C9 03      			cmp	#3		; Subtract integer from A.
         02:D96A  6A         			ror	a		; CC if A < integer.
         02:D96B  49 80      			eor	#$80
         02:D96D  2A         			rol	a
16035                        		__btrue		.LL809
         02:D96E  B0 08      			bcs	.LL809
16036                        		__bra		.LL810
         02:D970  4C 89 DC   			bra	.LL810
16037    02:D973             	.LL808:
16038                        		__inc.umq	__update_WEAPON_end - 3  /* i */
         02:D973  EE 0D 23   			inc	__update_WEAPON_end - 3
16039                        		__bra		.LL807
         02:D976  80 ED      			bra	.LL807
16040    02:D978             	.LL809:
16041                        	
16042                        		.dbg	line,	"include\routines_LEVELS.c", 3474; {
16043                        	
16044                        		.dbg	line,	"include\routines_LEVELS.c", 3475; spr_set(chain_id+i);
16045                        		__ld.um		_chain_id
         02:D978  AD 27 23   			lda	_chain_id
         02:D97B  C2         			cly
16046                        		__add.um	__update_WEAPON_end - 3  /* i */
         02:D97C  18         			clc
         02:D97D  6D 0D 23   			adc	__update_WEAPON_end - 3
         02:D980  90 01      			bcc	!+
         02:D982  C8         			iny
         02:D983             	!:
16047                        		__call		_spr_set.1
         02:D983  20 F1 E7   			call	_spr_set.1
16048                        	
16049                        		.dbg	line,	"include\routines_LEVELS.c", 3477; spr_y( ((player_pos_y + 24) * list_chain_active[i]) - 16); //list_chain_active[0] = TRUE;
16050                        		__ld.wm		_player_pos_y
         02:D986  AD 03 25   			lda.l	_player_pos_y
         02:D989  AC 04 25   			ldy.h	_player_pos_y
16051                        		__add.wi	24
         02:D98C  18         			clc
         02:D98D  69 18      			adc.l	#24
         02:D98F  90 01      			bcc	!+
         02:D991  C8         			iny
         02:D992             	!:
16052                        		__push.wr
         02:D992  5A         			phy
         02:D993  48         			pha
16053                        		__ldx.umq	__update_WEAPON_end - 3  /* i */
         02:D994  AE 0D 23   			ldx	__update_WEAPON_end - 3
16054                        		__ld.uax	_list_chain_active
         02:D997  BD 2C 23   			lda	_list_chain_active, x
         02:D99A  C2         			cly
16055                        		__mul.wt
         02:D99B  85 00      			sta.l	<multiplier
         02:D99D  84 01      			sty.h	<multiplier
         02:D99F  68         			pla
         02:D9A0  7A         			ply
         02:D9A1  20 60 E4   			jsr	__mulint
16056                        		__sub.wi	16
         02:D9A4  38         			sec
         02:D9A5  E9 10      			sbc.l	#16
         02:D9A7  B0 01      			bcs	!+
         02:D9A9  88         			dey
         02:D9AA             	!:
16057                        		__call		_spr_y.1
         02:D9AA  20 2D E8   			call	_spr_y.1
16058                        	
16059                        		.dbg	line,	"include\routines_LEVELS.c", 3478; }
16060                        		__bra		.LL808
         02:D9AD  80 C4      			bra	.LL808
16061    02:D9AF             	.LL810	.alias		.LL811
16062                        	
16063                        		.dbg	line,	"include\routines_LEVELS.c", 3479; }
16064                        	
16065                        		.dbg	line,	"include\routines_LEVELS.c", 3482; else if(player_state == STATE_HANG)
16066                        		__bra		.LL811
         02:D9AF  4C 89 DC   			bra	.LL811
16067    02:D9B2             	.LL783:
16068                        		__ld.umq	_player_state
         02:D9B2  AD 1A 23   			lda	_player_state
16069                        		__equ_b.uiq	10
         02:D9B5  C9 0A      			cmp	#10
         02:D9B7  F0 01      			beq	!+
         02:D9B9  18         			clc
         02:D9BA             	!:
16070                        		__bfalse	.LL812
         02:D9BA  B0 03 4C 89			bcc	.LL812
         02:D9BE  DC          
16071                        	
16072                        		.dbg	line,	"include\routines_LEVELS.c", 3483; {
16073                        	
16074                        		.dbg	line,	"include\routines_LEVELS.c", 3484; if(player_attack == TRUE)
16075                        		__ld.umq	_player_attack
         02:D9BF  AD 22 23   			lda	_player_attack
16076                        		__equ_b.uiq	1
         02:D9C2  C9 01      			cmp	#1
         02:D9C4  F0 01      			beq	!+
         02:D9C6  18         			clc
         02:D9C7             	!:
16077                        		__bfalse	.LL813
         02:D9C7  B0 03 4C 89			bcc	.LL813
         02:D9CB  DC          
16078                        	
16079                        		.dbg	line,	"include\routines_LEVELS.c", 3485; {
16080                        	
16081                        		.dbg	line,	"include\routines_LEVELS.c", 3486; if(player_counter_attack < 7)
16082                        		__ld.umq	_player_counter_attack
         02:D9CC  AD 20 23   			lda	_player_counter_attack
16083                        		__ult_b.uiq	7
         02:D9CF  C9 07      			cmp	#7		; Subtract integer from A.
         02:D9D1  6A         			ror	a		; CC if A < integer.
         02:D9D2  49 80      			eor	#$80
         02:D9D4  2A         			rol	a
16084                        		__bfalse	.LL814
         02:D9D5  90 53      			bcc	.LL814
16085                        	
16086                        		.dbg	line,	"include\routines_LEVELS.c", 3487; {
16087                        	
16088                        		.dbg	line,	"include\routines_LEVELS.c", 3488; spr_set(player_id);
16089                        		__ld.umq	_player_id
         02:D9D7  AD 19 23   			lda	_player_id
16090                        		__call		_spr_set.1
         02:D9DA  20 F1 E7   			call	_spr_set.1
16091                        	
16092                        		.dbg	line,	"include\routines_LEVELS.c", 3489; spr_pattern(PLAYER_HANG_ATTACK_1_VRAM_ADR);
16093                        		__ld.wi		12032
         02:D9DD  62         			cla
         02:D9DE  A0 2F      			ldy.h	#12032
16094                        		__call		_spr_pattern.1
         02:D9E0  20 3A E8   			call	_spr_pattern.1
16095                        	
16096                        		.dbg	line,	"include\routines_LEVELS.c", 3491; spr_set(weapon_id);
16097                        		__ld.umq	_weapon_id
         02:D9E3  AD 28 23   			lda	_weapon_id
16098                        		__call		_spr_set.1
         02:D9E6  20 F1 E7   			call	_spr_set.1
16099                        	
16100                        		.dbg	line,	"include\routines_LEVELS.c", 3492; spr_pattern(WEAPON_ATTACK_1_VRAM_ADRESS);
16101                        		__ld.wi		32000
         02:D9E9  62         			cla
         02:D9EA  A0 7D      			ldy.h	#32000
16102                        		__call		_spr_pattern.1
         02:D9EC  20 3A E8   			call	_spr_pattern.1
16103                        	
16104                        		.dbg	line,	"include\routines_LEVELS.c", 3494; if(player_axis == AXIS_RIGHT)
16105                        		__not.um	_player_axis
         02:D9EF  AD 1B 23   			lda	_player_axis
         02:D9F2  18         			clc
         02:D9F3  D0 01      			bne	!+
         02:D9F5  38         			sec
         02:D9F6             	!:
16106                        		__bfalse	.LL815
         02:D9F6  90 11      			bcc	.LL815
16107                        	
16108                        		.dbg	line,	"include\routines_LEVELS.c", 3495; {
16109                        	
16110                        		.dbg	line,	"include\routines_LEVELS.c", 3496; spr_x(player_pos_x-14);
16111                        		__ld.wm		_player_pos_x
         02:D9F8  AD 01 25   			lda.l	_player_pos_x
         02:D9FB  AC 02 25   			ldy.h	_player_pos_x
16112                        		__sub.wi	14
         02:D9FE  38         			sec
         02:D9FF  E9 0E      			sbc.l	#14
         02:DA01  B0 01      			bcs	!+
         02:DA03  88         			dey
         02:DA04             	!:
16113                        		__call		_spr_x.1
         02:DA04  20 1E E8   			call	_spr_x.1
16114                        	
16115                        		.dbg	line,	"include\routines_LEVELS.c", 3497; }
16116                        	
16117                        		.dbg	line,	"include\routines_LEVELS.c", 3499; else
16118                        		__bra		.LL816
         02:DA07  80 0F      			bra	.LL816
16119    02:DA09             	.LL815:
16120                        	
16121                        		.dbg	line,	"include\routines_LEVELS.c", 3500; {
16122                        	
16123                        		.dbg	line,	"include\routines_LEVELS.c", 3501; spr_x(player_pos_x+29);
16124                        		__ld.wm		_player_pos_x
         02:DA09  AD 01 25   			lda.l	_player_pos_x
         02:DA0C  AC 02 25   			ldy.h	_player_pos_x
16125                        		__add.wi	29
         02:DA0F  18         			clc
         02:DA10  69 1D      			adc.l	#29
         02:DA12  90 01      			bcc	!+
         02:DA14  C8         			iny
         02:DA15             	!:
16126                        		__call		_spr_x.1
         02:DA15  20 1E E8   			call	_spr_x.1
16127                        	
16128                        		.dbg	line,	"include\routines_LEVELS.c", 3502; }
16129    02:DA18             	.LL816:
16130                        	
16131                        		.dbg	line,	"include\routines_LEVELS.c", 3504; spr_y(player_pos_y-8);
16132                        		__ld.wm		_player_pos_y
         02:DA18  AD 03 25   			lda.l	_player_pos_y
         02:DA1B  AC 04 25   			ldy.h	_player_pos_y
16133                        		__sub.wi	8
         02:DA1E  38         			sec
         02:DA1F  E9 08      			sbc.l	#8
         02:DA21  B0 01      			bcs	!+
         02:DA23  88         			dey
         02:DA24             	!:
16134                        		__call		_spr_y.1
         02:DA24  20 2D E8   			call	_spr_y.1
16135                        	
16136                        		.dbg	line,	"include\routines_LEVELS.c", 3505; }
16137                        	
16138                        		.dbg	line,	"include\routines_LEVELS.c", 3507; else if(player_counter_attack == 23)
16139                        		__bra		.LL817
         02:DA27  4C BA DA   			bra	.LL817
16140    02:DA2A             	.LL814:
16141                        		__ld.umq	_player_counter_attack
         02:DA2A  AD 20 23   			lda	_player_counter_attack
16142                        		__equ_b.uiq	23
         02:DA2D  C9 17      			cmp	#23
         02:DA2F  F0 01      			beq	!+
         02:DA31  18         			clc
         02:DA32             	!:
16143                        		__bfalse	.LL818
         02:DA32  B0 03 4C BA			bcc	.LL818
         02:DA36  DA          
16144                        	
16145                        		.dbg	line,	"include\routines_LEVELS.c", 3508; {
16146                        	
16147                        		.dbg	line,	"include\routines_LEVELS.c", 3509; spr_set(chain_id);
16148                        		__ld.umq	_chain_id
         02:DA37  AD 27 23   			lda	_chain_id
16149                        		__call		_spr_set.1
         02:DA3A  20 F1 E7   			call	_spr_set.1
16150                        	
16151                        		.dbg	line,	"include\routines_LEVELS.c", 3510; spr_hide();
16152                        		__call		_spr_hide
         02:DA3D  20 0C E8   			call	_spr_hide
16153                        	
16154                        		.dbg	line,	"include\routines_LEVELS.c", 3512; spr_set(chain_id+1);
16155                        		__ld.um		_chain_id
         02:DA40  AD 27 23   			lda	_chain_id
         02:DA43  C2         			cly
16156                        		__add.wi	1
         02:DA44  1A         			inc	a
         02:DA45  D0 01      			bne	!+
         02:DA47  C8         			iny
         02:DA48             	!:
16157                        		__call		_spr_set.1
         02:DA48  20 F1 E7   			call	_spr_set.1
16158                        	
16159                        		.dbg	line,	"include\routines_LEVELS.c", 3513; spr_hide();
16160                        		__call		_spr_hide
         02:DA4B  20 0C E8   			call	_spr_hide
16161                        	
16162                        		.dbg	line,	"include\routines_LEVELS.c", 3515; spr_set(chain_id+2);
16163                        		__ld.um		_chain_id
         02:DA4E  AD 27 23   			lda	_chain_id
         02:DA51  C2         			cly
16164                        		__add.wi	2
         02:DA52  18         			clc
         02:DA53  69 02      			adc.l	#2
         02:DA55  90 01      			bcc	!+
         02:DA57  C8         			iny
         02:DA58             	!:
16165                        		__call		_spr_set.1
         02:DA58  20 F1 E7   			call	_spr_set.1
16166                        	
16167                        		.dbg	line,	"include\routines_LEVELS.c", 3516; spr_hide();
16168                        		__call		_spr_hide
         02:DA5B  20 0C E8   			call	_spr_hide
16169                        	
16170                        		.dbg	line,	"include\routines_LEVELS.c", 3518; spr_set(player_id);
16171                        		__ld.umq	_player_id
         02:DA5E  AD 19 23   			lda	_player_id
16172                        		__call		_spr_set.1
         02:DA61  20 F1 E7   			call	_spr_set.1
16173                        	
16174                        		.dbg	line,	"include\routines_LEVELS.c", 3519; spr_pattern(PLAYER_HANG_VRAM_ADR);
16175                        		__ld.wi		8448
         02:DA64  62         			cla
         02:DA65  A0 21      			ldy.h	#8448
16176                        		__call		_spr_pattern.1
         02:DA67  20 3A E8   			call	_spr_pattern.1
16177                        	
16178                        		.dbg	line,	"include\routines_LEVELS.c", 3521; spr_set(weapon_id);
16179                        		__ld.umq	_weapon_id
         02:DA6A  AD 28 23   			lda	_weapon_id
16180                        		__call		_spr_set.1
         02:DA6D  20 F1 E7   			call	_spr_set.1
16181                        	
16182                        		.dbg	line,	"include\routines_LEVELS.c", 3522; spr_pattern(WEAPON_IDLE_VRAM_ADRESS);
16183                        		__ld.wi		31808
         02:DA70  A9 40      			lda.l	#31808
         02:DA72  A0 7C      			ldy.h	#31808
16184                        		__call		_spr_pattern.1
         02:DA74  20 3A E8   			call	_spr_pattern.1
16185                        	
16186                        		.dbg	line,	"include\routines_LEVELS.c", 3523; spr_y(player_pos_y+5);
16187                        		__ld.wm		_player_pos_y
         02:DA77  AD 03 25   			lda.l	_player_pos_y
         02:DA7A  AC 04 25   			ldy.h	_player_pos_y
16188                        		__add.wi	5
         02:DA7D  18         			clc
         02:DA7E  69 05      			adc.l	#5
         02:DA80  90 01      			bcc	!+
         02:DA82  C8         			iny
         02:DA83             	!:
16189                        		__call		_spr_y.1
         02:DA83  20 2D E8   			call	_spr_y.1
16190                        	
16191                        		.dbg	line,	"include\routines_LEVELS.c", 3525; if(player_axis == AXIS_RIGHT)
16192                        		__not.um	_player_axis
         02:DA86  AD 1B 23   			lda	_player_axis
         02:DA89  18         			clc
         02:DA8A  D0 01      			bne	!+
         02:DA8C  38         			sec
         02:DA8D             	!:
16193                        		__bfalse	.LL819
         02:DA8D  90 11      			bcc	.LL819
16194                        	
16195                        		.dbg	line,	"include\routines_LEVELS.c", 3526; {
16196                        	
16197                        		.dbg	line,	"include\routines_LEVELS.c", 3527; spr_x(player_pos_x+17);
16198                        		__ld.wm		_player_pos_x
         02:DA8F  AD 01 25   			lda.l	_player_pos_x
         02:DA92  AC 02 25   			ldy.h	_player_pos_x
16199                        		__add.wi	17
         02:DA95  18         			clc
         02:DA96  69 11      			adc.l	#17
         02:DA98  90 01      			bcc	!+
         02:DA9A  C8         			iny
         02:DA9B             	!:
16200                        		__call		_spr_x.1
         02:DA9B  20 1E E8   			call	_spr_x.1
16201                        	
16202                        		.dbg	line,	"include\routines_LEVELS.c", 3528; }
16203                        	
16204                        		.dbg	line,	"include\routines_LEVELS.c", 3530; else
16205                        		__bra		.LL820
         02:DA9E  80 0F      			bra	.LL820
16206    02:DAA0             	.LL819:
16207                        	
16208                        		.dbg	line,	"include\routines_LEVELS.c", 3531; {
16209                        	
16210                        		.dbg	line,	"include\routines_LEVELS.c", 3532; spr_x(player_pos_x-2);
16211                        		__ld.wm		_player_pos_x
         02:DAA0  AD 01 25   			lda.l	_player_pos_x
         02:DAA3  AC 02 25   			ldy.h	_player_pos_x
16212                        		__sub.wi	2
         02:DAA6  38         			sec
         02:DAA7  E9 02      			sbc.l	#2
         02:DAA9  B0 01      			bcs	!+
         02:DAAB  88         			dey
         02:DAAC             	!:
16213                        		__call		_spr_x.1
         02:DAAC  20 1E E8   			call	_spr_x.1
16214                        	
16215                        		.dbg	line,	"include\routines_LEVELS.c", 3533; }
16216    02:DAAF             	.LL820:
16217                        	
16218                        		.dbg	line,	"include\routines_LEVELS.c", 3535; player_attack = FALSE;
16219                        		__st.umiq	0, _player_attack
         02:DAAF  9C 22 23   			stz	_player_attack
16220                        	
16221                        		.dbg	line,	"include\routines_LEVELS.c", 3536; player_counter_attack = 0;
16222                        		__st.umiq	0, _player_counter_attack
         02:DAB2  9C 20 23   			stz	_player_counter_attack
16223                        	
16224                        		.dbg	line,	"include\routines_LEVELS.c", 3537; player_state = STATE_HANG;
16225                        		__st.umiq	10, _player_state
         02:DAB5  A9 0A      			lda.l	#10
         02:DAB7  8D 1A 23   			sta	_player_state
16226                        	
16227                        		.dbg	line,	"include\routines_LEVELS.c", 3538; }
16228                        	
16229                        		.dbg	line,	"include\routines_LEVELS.c", 3540; // CHAIN ANIMATION //
16230                        	
16231                        		.dbg	line,	"include\routines_LEVELS.c", 3541; if(chain_unfold == TRUE)
16232    02:DABA             	.LL818:
16233    02:DABA             	.LL817:
16234                        		__ld.umq	_chain_unfold
         02:DABA  AD 2B 23   			lda	_chain_unfold
16235                        		__equ_b.uiq	1
         02:DABD  C9 01      			cmp	#1
         02:DABF  F0 01      			beq	!+
         02:DAC1  18         			clc
         02:DAC2             	!:
16236                        		__bfalse	.LL821
         02:DAC2  B0 03 4C 86			bcc	.LL821
         02:DAC6  DC          
16237                        	
16238                        		.dbg	line,	"include\routines_LEVELS.c", 3542; {
16239                        	
16240                        		.dbg	line,	"include\routines_LEVELS.c", 3543; if(player_counter_attack == 6)
16241                        		__ld.umq	_player_counter_attack
         02:DAC7  AD 20 23   			lda	_player_counter_attack
16242                        		__equ_b.uiq	6
         02:DACA  C9 06      			cmp	#6
         02:DACC  F0 01      			beq	!+
         02:DACE  18         			clc
         02:DACF             	!:
16243                        		__bfalse	.LL822
         02:DACF  90 57      			bcc	.LL822
16244                        	
16245                        		.dbg	line,	"include\routines_LEVELS.c", 3544; {
16246                        	
16247                        		.dbg	line,	"include\routines_LEVELS.c", 3545; spr_set(player_id);
16248                        		__ld.umq	_player_id
         02:DAD1  AD 19 23   			lda	_player_id
16249                        		__call		_spr_set.1
         02:DAD4  20 F1 E7   			call	_spr_set.1
16250                        	
16251                        		.dbg	line,	"include\routines_LEVELS.c", 3546; spr_pattern(PLAYER_HANG_ATTACK_2_VRAM_ADR);
16252                        		__ld.wi		12288
         02:DAD7  62         			cla
         02:DAD8  A0 30      			ldy.h	#12288
16253                        		__call		_spr_pattern.1
         02:DADA  20 3A E8   			call	_spr_pattern.1
16254                        	
16255                        		.dbg	line,	"include\routines_LEVELS.c", 3548; spr_set(weapon_id);
16256                        		__ld.umq	_weapon_id
         02:DADD  AD 28 23   			lda	_weapon_id
16257                        		__call		_spr_set.1
         02:DAE0  20 F1 E7   			call	_spr_set.1
16258                        	
16259                        		.dbg	line,	"include\routines_LEVELS.c", 3549; spr_pattern(WEAPON_ATTACK_2_VRAM_ADRESS);
16260                        		__ld.wi		32064
         02:DAE3  A9 40      			lda.l	#32064
         02:DAE5  A0 7D      			ldy.h	#32064
16261                        		__call		_spr_pattern.1
         02:DAE7  20 3A E8   			call	_spr_pattern.1
16262                        	
16263                        		.dbg	line,	"include\routines_LEVELS.c", 3551; if(player_axis == AXIS_RIGHT)
16264                        		__not.um	_player_axis
         02:DAEA  AD 1B 23   			lda	_player_axis
         02:DAED  18         			clc
         02:DAEE  D0 01      			bne	!+
         02:DAF0  38         			sec
         02:DAF1             	!:
16265                        		__bfalse	.LL823
         02:DAF1  90 11      			bcc	.LL823
16266                        	
16267                        		.dbg	line,	"include\routines_LEVELS.c", 3552; {
16268                        	
16269                        		.dbg	line,	"include\routines_LEVELS.c", 3553; spr_x(player_pos_x+32);
16270                        		__ld.wm		_player_pos_x
         02:DAF3  AD 01 25   			lda.l	_player_pos_x
         02:DAF6  AC 02 25   			ldy.h	_player_pos_x
16271                        		__add.wi	32
         02:DAF9  18         			clc
         02:DAFA  69 20      			adc.l	#32
         02:DAFC  90 01      			bcc	!+
         02:DAFE  C8         			iny
         02:DAFF             	!:
16272                        		__call		_spr_x.1
         02:DAFF  20 1E E8   			call	_spr_x.1
16273                        	
16274                        		.dbg	line,	"include\routines_LEVELS.c", 3554; 
16275                        	
16276                        		.dbg	line,	"include\routines_LEVELS.c", 3555; }
16277                        	
16278                        		.dbg	line,	"include\routines_LEVELS.c", 3556; 
16279                        	
16280                        		.dbg	line,	"include\routines_LEVELS.c", 3557; else
16281                        		__bra		.LL824
         02:DB02  80 0F      			bra	.LL824
16282    02:DB04             	.LL823:
16283                        	
16284                        		.dbg	line,	"include\routines_LEVELS.c", 3558; {
16285                        	
16286                        		.dbg	line,	"include\routines_LEVELS.c", 3559; spr_x(player_pos_x-16);
16287                        		__ld.wm		_player_pos_x
         02:DB04  AD 01 25   			lda.l	_player_pos_x
         02:DB07  AC 02 25   			ldy.h	_player_pos_x
16288                        		__sub.wi	16
         02:DB0A  38         			sec
         02:DB0B  E9 10      			sbc.l	#16
         02:DB0D  B0 01      			bcs	!+
         02:DB0F  88         			dey
         02:DB10             	!:
16289                        		__call		_spr_x.1
         02:DB10  20 1E E8   			call	_spr_x.1
16290                        	
16291                        		.dbg	line,	"include\routines_LEVELS.c", 3560; }
16292    02:DB13             	.LL824:
16293                        	
16294                        		.dbg	line,	"include\routines_LEVELS.c", 3562; spr_y(player_pos_y+6);
16295                        		__ld.wm		_player_pos_y
         02:DB13  AD 03 25   			lda.l	_player_pos_y
         02:DB16  AC 04 25   			ldy.h	_player_pos_y
16296                        		__add.wi	6
         02:DB19  18         			clc
         02:DB1A  69 06      			adc.l	#6
         02:DB1C  90 01      			bcc	!+
         02:DB1E  C8         			iny
         02:DB1F             	!:
16297                        		__call		_spr_y.1
         02:DB1F  20 2D E8   			call	_spr_y.1
16298                        	
16299                        		.dbg	line,	"include\routines_LEVELS.c", 3564; collision_WEAPON_OBJECTS();
16300                        		__call		_collision_WEAPON_OBJECTS
         02:DB22  20 13 FF   			call	_collision_WEAPON_OBJECTS
16301                        	
16302                        		.dbg	line,	"include\routines_LEVELS.c", 3565; }
16303                        	
16304                        		.dbg	line,	"include\routines_LEVELS.c", 3567; else if(player_counter_attack == 7)
16305                        		__bra		.LL825
         02:DB25  4C 86 DC   			bra	.LL825
16306    02:DB28             	.LL822:
16307                        		__ld.umq	_player_counter_attack
         02:DB28  AD 20 23   			lda	_player_counter_attack
16308                        		__equ_b.uiq	7
         02:DB2B  C9 07      			cmp	#7
         02:DB2D  F0 01      			beq	!+
         02:DB2F  18         			clc
         02:DB30             	!:
16309                        		__bfalse	.LL826
         02:DB30  90 68      			bcc	.LL826
16310                        	
16311                        		.dbg	line,	"include\routines_LEVELS.c", 3568; {
16312                        	
16313                        		.dbg	line,	"include\routines_LEVELS.c", 3569; spr_set(chain_id);
16314                        		__ld.umq	_chain_id
         02:DB32  AD 27 23   			lda	_chain_id
16315                        		__call		_spr_set.1
         02:DB35  20 F1 E7   			call	_spr_set.1
16316                        	
16317                        		.dbg	line,	"include\routines_LEVELS.c", 3570; spr_y(player_pos_y);
16318                        		__ld.wm		_player_pos_y
         02:DB38  AD 03 25   			lda.l	_player_pos_y
         02:DB3B  AC 04 25   			ldy.h	_player_pos_y
16319                        		__call		_spr_y.1
         02:DB3E  20 2D E8   			call	_spr_y.1
16320                        	
16321                        		.dbg	line,	"include\routines_LEVELS.c", 3572; if(player_axis == AXIS_RIGHT)
16322                        		__not.um	_player_axis
         02:DB41  AD 1B 23   			lda	_player_axis
         02:DB44  18         			clc
         02:DB45  D0 01      			bne	!+
         02:DB47  38         			sec
         02:DB48             	!:
16323                        		__bfalse	.LL827
         02:DB48  90 26      			bcc	.LL827
16324                        	
16325                        		.dbg	line,	"include\routines_LEVELS.c", 3573; {
16326                        	
16327                        		.dbg	line,	"include\routines_LEVELS.c", 3574; spr_x(player_pos_x+32);
16328                        		__ld.wm		_player_pos_x
         02:DB4A  AD 01 25   			lda.l	_player_pos_x
         02:DB4D  AC 02 25   			ldy.h	_player_pos_x
16329                        		__add.wi	32
         02:DB50  18         			clc
         02:DB51  69 20      			adc.l	#32
         02:DB53  90 01      			bcc	!+
         02:DB55  C8         			iny
         02:DB56             	!:
16330                        		__call		_spr_x.1
         02:DB56  20 1E E8   			call	_spr_x.1
16331                        	
16332                        		.dbg	line,	"include\routines_LEVELS.c", 3576; spr_set(weapon_id);
16333                        		__ld.umq	_weapon_id
         02:DB59  AD 28 23   			lda	_weapon_id
16334                        		__call		_spr_set.1
         02:DB5C  20 F1 E7   			call	_spr_set.1
16335                        	
16336                        		.dbg	line,	"include\routines_LEVELS.c", 3577; spr_x(player_pos_x+48);
16337                        		__ld.wm		_player_pos_x
         02:DB5F  AD 01 25   			lda.l	_player_pos_x
         02:DB62  AC 02 25   			ldy.h	_player_pos_x
16338                        		__add.wi	48
         02:DB65  18         			clc
         02:DB66  69 30      			adc.l	#48
         02:DB68  90 01      			bcc	!+
         02:DB6A  C8         			iny
         02:DB6B             	!:
16339                        		__call		_spr_x.1
         02:DB6B  20 1E E8   			call	_spr_x.1
16340                        	
16341                        		.dbg	line,	"include\routines_LEVELS.c", 3578; }
16342                        	
16343                        		.dbg	line,	"include\routines_LEVELS.c", 3579; 
16344                        	
16345                        		.dbg	line,	"include\routines_LEVELS.c", 3580; else
16346                        		__bra		.LL828
         02:DB6E  80 24      			bra	.LL828
16347    02:DB70             	.LL827:
16348                        	
16349                        		.dbg	line,	"include\routines_LEVELS.c", 3581; {
16350                        	
16351                        		.dbg	line,	"include\routines_LEVELS.c", 3582; spr_x(player_pos_x-16);
16352                        		__ld.wm		_player_pos_x
         02:DB70  AD 01 25   			lda.l	_player_pos_x
         02:DB73  AC 02 25   			ldy.h	_player_pos_x
16353                        		__sub.wi	16
         02:DB76  38         			sec
         02:DB77  E9 10      			sbc.l	#16
         02:DB79  B0 01      			bcs	!+
         02:DB7B  88         			dey
         02:DB7C             	!:
16354                        		__call		_spr_x.1
         02:DB7C  20 1E E8   			call	_spr_x.1
16355                        	
16356                        		.dbg	line,	"include\routines_LEVELS.c", 3584; spr_set(weapon_id);
16357                        		__ld.umq	_weapon_id
         02:DB7F  AD 28 23   			lda	_weapon_id
16358                        		__call		_spr_set.1
         02:DB82  20 F1 E7   			call	_spr_set.1
16359                        	
16360                        		.dbg	line,	"include\routines_LEVELS.c", 3585; spr_x(player_pos_x-32);
16361                        		__ld.wm		_player_pos_x
         02:DB85  AD 01 25   			lda.l	_player_pos_x
         02:DB88  AC 02 25   			ldy.h	_player_pos_x
16362                        		__sub.wi	32
         02:DB8B  38         			sec
         02:DB8C  E9 20      			sbc.l	#32
         02:DB8E  B0 01      			bcs	!+
         02:DB90  88         			dey
         02:DB91             	!:
16363                        		__call		_spr_x.1
         02:DB91  20 1E E8   			call	_spr_x.1
16364                        	
16365                        		.dbg	line,	"include\routines_LEVELS.c", 3586; }
16366    02:DB94             	.LL828:
16367                        	
16368                        		.dbg	line,	"include\routines_LEVELS.c", 3588; collision_WEAPON_OBJECTS();
16369                        		__call		_collision_WEAPON_OBJECTS
         02:DB94  20 13 FF   			call	_collision_WEAPON_OBJECTS
16370                        	
16371                        		.dbg	line,	"include\routines_LEVELS.c", 3589; }
16372                        	
16373                        		.dbg	line,	"include\routines_LEVELS.c", 3591; else if(player_counter_attack == 8)
16374                        		__bra		.LL829
         02:DB97  4C 86 DC   			bra	.LL829
16375    02:DB9A             	.LL826:
16376                        		__ld.umq	_player_counter_attack
         02:DB9A  AD 20 23   			lda	_player_counter_attack
16377                        		__equ_b.uiq	8
         02:DB9D  C9 08      			cmp	#8
         02:DB9F  F0 01      			beq	!+
         02:DBA1  18         			clc
         02:DBA2             	!:
16378                        		__bfalse	.LL830
         02:DBA2  90 6C      			bcc	.LL830
16379                        	
16380                        		.dbg	line,	"include\routines_LEVELS.c", 3592; {
16381                        	
16382                        		.dbg	line,	"include\routines_LEVELS.c", 3593; spr_set(chain_id+1);
16383                        		__ld.um		_chain_id
         02:DBA4  AD 27 23   			lda	_chain_id
         02:DBA7  C2         			cly
16384                        		__add.wi	1
         02:DBA8  1A         			inc	a
         02:DBA9  D0 01      			bne	!+
         02:DBAB  C8         			iny
         02:DBAC             	!:
16385                        		__call		_spr_set.1
         02:DBAC  20 F1 E7   			call	_spr_set.1
16386                        	
16387                        		.dbg	line,	"include\routines_LEVELS.c", 3594; spr_y(player_pos_y);
16388                        		__ld.wm		_player_pos_y
         02:DBAF  AD 03 25   			lda.l	_player_pos_y
         02:DBB2  AC 04 25   			ldy.h	_player_pos_y
16389                        		__call		_spr_y.1
         02:DBB5  20 2D E8   			call	_spr_y.1
16390                        	
16391                        		.dbg	line,	"include\routines_LEVELS.c", 3596; if(player_axis == AXIS_RIGHT)
16392                        		__not.um	_player_axis
         02:DBB8  AD 1B 23   			lda	_player_axis
         02:DBBB  18         			clc
         02:DBBC  D0 01      			bne	!+
         02:DBBE  38         			sec
         02:DBBF             	!:
16393                        		__bfalse	.LL831
         02:DBBF  90 26      			bcc	.LL831
16394                        	
16395                        		.dbg	line,	"include\routines_LEVELS.c", 3597; {
16396                        	
16397                        		.dbg	line,	"include\routines_LEVELS.c", 3598; spr_x(player_pos_x+48);
16398                        		__ld.wm		_player_pos_x
         02:DBC1  AD 01 25   			lda.l	_player_pos_x
         02:DBC4  AC 02 25   			ldy.h	_player_pos_x
16399                        		__add.wi	48
         02:DBC7  18         			clc
         02:DBC8  69 30      			adc.l	#48
         02:DBCA  90 01      			bcc	!+
         02:DBCC  C8         			iny
         02:DBCD             	!:
16400                        		__call		_spr_x.1
         02:DBCD  20 1E E8   			call	_spr_x.1
16401                        	
16402                        		.dbg	line,	"include\routines_LEVELS.c", 3600; spr_set(weapon_id);
16403                        		__ld.umq	_weapon_id
         02:DBD0  AD 28 23   			lda	_weapon_id
16404                        		__call		_spr_set.1
         02:DBD3  20 F1 E7   			call	_spr_set.1
16405                        	
16406                        		.dbg	line,	"include\routines_LEVELS.c", 3601; spr_x(player_pos_x+64);
16407                        		__ld.wm		_player_pos_x
         02:DBD6  AD 01 25   			lda.l	_player_pos_x
         02:DBD9  AC 02 25   			ldy.h	_player_pos_x
16408                        		__add.wi	64
         02:DBDC  18         			clc
         02:DBDD  69 40      			adc.l	#64
         02:DBDF  90 01      			bcc	!+
         02:DBE1  C8         			iny
         02:DBE2             	!:
16409                        		__call		_spr_x.1
         02:DBE2  20 1E E8   			call	_spr_x.1
16410                        	
16411                        		.dbg	line,	"include\routines_LEVELS.c", 3602; }
16412                        	
16413                        		.dbg	line,	"include\routines_LEVELS.c", 3603; 
16414                        	
16415                        		.dbg	line,	"include\routines_LEVELS.c", 3604; else
16416                        		__bra		.LL832
         02:DBE5  80 24      			bra	.LL832
16417    02:DBE7             	.LL831:
16418                        	
16419                        		.dbg	line,	"include\routines_LEVELS.c", 3605; {
16420                        	
16421                        		.dbg	line,	"include\routines_LEVELS.c", 3606; spr_x(player_pos_x-32);
16422                        		__ld.wm		_player_pos_x
         02:DBE7  AD 01 25   			lda.l	_player_pos_x
         02:DBEA  AC 02 25   			ldy.h	_player_pos_x
16423                        		__sub.wi	32
         02:DBED  38         			sec
         02:DBEE  E9 20      			sbc.l	#32
         02:DBF0  B0 01      			bcs	!+
         02:DBF2  88         			dey
         02:DBF3             	!:
16424                        		__call		_spr_x.1
         02:DBF3  20 1E E8   			call	_spr_x.1
16425                        	
16426                        		.dbg	line,	"include\routines_LEVELS.c", 3608; spr_set(weapon_id);
16427                        		__ld.umq	_weapon_id
         02:DBF6  AD 28 23   			lda	_weapon_id
16428                        		__call		_spr_set.1
         02:DBF9  20 F1 E7   			call	_spr_set.1
16429                        	
16430                        		.dbg	line,	"include\routines_LEVELS.c", 3609; spr_x(player_pos_x-48);
16431                        		__ld.wm		_player_pos_x
         02:DBFC  AD 01 25   			lda.l	_player_pos_x
         02:DBFF  AC 02 25   			ldy.h	_player_pos_x
16432                        		__sub.wi	48
         02:DC02  38         			sec
         02:DC03  E9 30      			sbc.l	#48
         02:DC05  B0 01      			bcs	!+
         02:DC07  88         			dey
         02:DC08             	!:
16433                        		__call		_spr_x.1
         02:DC08  20 1E E8   			call	_spr_x.1
16434                        	
16435                        		.dbg	line,	"include\routines_LEVELS.c", 3610; }
16436    02:DC0B             	.LL832:
16437                        	
16438                        		.dbg	line,	"include\routines_LEVELS.c", 3612; collision_WEAPON_OBJECTS();
16439                        		__call		_collision_WEAPON_OBJECTS
         02:DC0B  20 13 FF   			call	_collision_WEAPON_OBJECTS
16440                        	
16441                        		.dbg	line,	"include\routines_LEVELS.c", 3613; }
16442                        	
16443                        		.dbg	line,	"include\routines_LEVELS.c", 3615; else if(player_counter_attack == 9)
16444                        		__bra		.LL833
         02:DC0E  80 76      			bra	.LL833
16445    02:DC10             	.LL830:
16446                        		__ld.umq	_player_counter_attack
         02:DC10  AD 20 23   			lda	_player_counter_attack
16447                        		__equ_b.uiq	9
         02:DC13  C9 09      			cmp	#9
         02:DC15  F0 01      			beq	!+
         02:DC17  18         			clc
         02:DC18             	!:
16448                        		__bfalse	.LL834
         02:DC18  90 6C      			bcc	.LL834
16449                        	
16450                        		.dbg	line,	"include\routines_LEVELS.c", 3616; {
16451                        	
16452                        		.dbg	line,	"include\routines_LEVELS.c", 3617; spr_set(chain_id+2);
16453                        		__ld.um		_chain_id
         02:DC1A  AD 27 23   			lda	_chain_id
         02:DC1D  C2         			cly
16454                        		__add.wi	2
         02:DC1E  18         			clc
         02:DC1F  69 02      			adc.l	#2
         02:DC21  90 01      			bcc	!+
         02:DC23  C8         			iny
         02:DC24             	!:
16455                        		__call		_spr_set.1
         02:DC24  20 F1 E7   			call	_spr_set.1
16456                        	
16457                        		.dbg	line,	"include\routines_LEVELS.c", 3618; spr_y(player_pos_y);
16458                        		__ld.wm		_player_pos_y
         02:DC27  AD 03 25   			lda.l	_player_pos_y
         02:DC2A  AC 04 25   			ldy.h	_player_pos_y
16459                        		__call		_spr_y.1
         02:DC2D  20 2D E8   			call	_spr_y.1
16460                        	
16461                        		.dbg	line,	"include\routines_LEVELS.c", 3620; if(player_axis == AXIS_RIGHT)
16462                        		__not.um	_player_axis
         02:DC30  AD 1B 23   			lda	_player_axis
         02:DC33  18         			clc
         02:DC34  D0 01      			bne	!+
         02:DC36  38         			sec
         02:DC37             	!:
16463                        		__bfalse	.LL835
         02:DC37  90 26      			bcc	.LL835
16464                        	
16465                        		.dbg	line,	"include\routines_LEVELS.c", 3621; {
16466                        	
16467                        		.dbg	line,	"include\routines_LEVELS.c", 3622; spr_x(player_pos_x+64);
16468                        		__ld.wm		_player_pos_x
         02:DC39  AD 01 25   			lda.l	_player_pos_x
         02:DC3C  AC 02 25   			ldy.h	_player_pos_x
16469                        		__add.wi	64
         02:DC3F  18         			clc
         02:DC40  69 40      			adc.l	#64
         02:DC42  90 01      			bcc	!+
         02:DC44  C8         			iny
         02:DC45             	!:
16470                        		__call		_spr_x.1
         02:DC45  20 1E E8   			call	_spr_x.1
16471                        	
16472                        		.dbg	line,	"include\routines_LEVELS.c", 3624; spr_set(weapon_id);
16473                        		__ld.umq	_weapon_id
         02:DC48  AD 28 23   			lda	_weapon_id
16474                        		__call		_spr_set.1
         02:DC4B  20 F1 E7   			call	_spr_set.1
16475                        	
16476                        		.dbg	line,	"include\routines_LEVELS.c", 3625; spr_x(player_pos_x+80);
16477                        		__ld.wm		_player_pos_x
         02:DC4E  AD 01 25   			lda.l	_player_pos_x
         02:DC51  AC 02 25   			ldy.h	_player_pos_x
16478                        		__add.wi	80
         02:DC54  18         			clc
         02:DC55  69 50      			adc.l	#80
         02:DC57  90 01      			bcc	!+
         02:DC59  C8         			iny
         02:DC5A             	!:
16479                        		__call		_spr_x.1
         02:DC5A  20 1E E8   			call	_spr_x.1
16480                        	
16481                        		.dbg	line,	"include\routines_LEVELS.c", 3626; }
16482                        	
16483                        		.dbg	line,	"include\routines_LEVELS.c", 3627; 
16484                        	
16485                        		.dbg	line,	"include\routines_LEVELS.c", 3628; else
16486                        		__bra		.LL836
         02:DC5D  80 24      			bra	.LL836
16487    02:DC5F             	.LL835:
16488                        	
16489                        		.dbg	line,	"include\routines_LEVELS.c", 3629; {
16490                        	
16491                        		.dbg	line,	"include\routines_LEVELS.c", 3630; spr_x(player_pos_x-48);
16492                        		__ld.wm		_player_pos_x
         02:DC5F  AD 01 25   			lda.l	_player_pos_x
         02:DC62  AC 02 25   			ldy.h	_player_pos_x
16493                        		__sub.wi	48
         02:DC65  38         			sec
         02:DC66  E9 30      			sbc.l	#48
         02:DC68  B0 01      			bcs	!+
         02:DC6A  88         			dey
         02:DC6B             	!:
16494                        		__call		_spr_x.1
         02:DC6B  20 1E E8   			call	_spr_x.1
16495                        	
16496                        		.dbg	line,	"include\routines_LEVELS.c", 3632; spr_set(weapon_id);
16497                        		__ld.umq	_weapon_id
         02:DC6E  AD 28 23   			lda	_weapon_id
16498                        		__call		_spr_set.1
         02:DC71  20 F1 E7   			call	_spr_set.1
16499                        	
16500                        		.dbg	line,	"include\routines_LEVELS.c", 3633; spr_x(player_pos_x-64);
16501                        		__ld.wm		_player_pos_x
         02:DC74  AD 01 25   			lda.l	_player_pos_x
         02:DC77  AC 02 25   			ldy.h	_player_pos_x
16502                        		__sub.wi	64
         02:DC7A  38         			sec
         02:DC7B  E9 40      			sbc.l	#64
         02:DC7D  B0 01      			bcs	!+
         02:DC7F  88         			dey
         02:DC80             	!:
16503                        		__call		_spr_x.1
         02:DC80  20 1E E8   			call	_spr_x.1
16504                        	
16505                        		.dbg	line,	"include\routines_LEVELS.c", 3634; }
16506    02:DC83             	.LL836:
16507                        	
16508                        		.dbg	line,	"include\routines_LEVELS.c", 3636; collision_WEAPON_OBJECTS();
16509                        		__call		_collision_WEAPON_OBJECTS
         02:DC83  20 13 FF   			call	_collision_WEAPON_OBJECTS
16510                        	
16511                        		.dbg	line,	"include\routines_LEVELS.c", 3637; }
16512                        	
16513                        		.dbg	line,	"include\routines_LEVELS.c", 3638; }
16514    02:DC86             	.LL834:
16515    02:DC86             	.LL833:
16516    02:DC86             	.LL829:
16517    02:DC86             	.LL825:
16518                        	
16519                        		.dbg	line,	"include\routines_LEVELS.c", 3640; player_counter_attack += 1;
16520    02:DC86             	.LL821:
16521                        		__add_st.umiq	1, _player_counter_attack
         02:DC86  EE 20 23   			inc	_player_counter_attack
16522                        	
16523                        		.dbg	line,	"include\routines_LEVELS.c", 3641; } 
16524                        	
16525                        		.dbg	line,	"include\routines_LEVELS.c", 3642; }
16526    02:DC89             	.LL813:
16527                        	
16528                        		.dbg	line,	"include\routines_LEVELS.c", 3643; }
16529    02:DC89             	.LL812:
16530    02:DC89             	.LL811:
16531    02:DC89             	.LL782:
16532    02:DC89             	.LL752:
16533    02:DC89             	.LL725:
16534                        		__return	0
         02:DC89  4C EF FF   			jmp	leave_proc
16535                        		.dbg	clear
16536                        		.endp
16537               230D     		.bss
16538    F8:230D             			ds	3
16539    F8:2310             	__update_WEAPON_end:
16540               E31D     		.code
16541                        		.pceas
16542                        	
16543                        		.dbg	line,	"Black_Tiger.c", 26; #include "include/routines_NPC.c"
16544                        		.dbg	line,	"include\routines_NPC.c", 1; #include "huc.h"
16545                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 1; #ifndef _hucc_legacy_h
16546                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 2; #define _hucc_legacy_h
16547                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 4; /****************************************************************************
16548                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 5; ; ***************************************************************************
16549                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 6; ;
16550                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 7; ; huc.h
16551                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 8; ;
16552                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 9; ; HuCC wrapper file to include a default set of HuC-compatible functions.
16553                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 10; ;
16554                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 11; ; Copyright John Brandwood 2024.
16555                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 12; ;
16556                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 13; ; Distributed under the Boost Software License, Version 1.0.
16557                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
16558                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
16559                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 16; ;
16560                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 17; ; ***************************************************************************
16561                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 18; ; ***************************************************************************
16562                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 19; ;
16563                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 20; ; When the HuCC compiler is invoked with the "--legacy" option to compile old
16564                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 21; ; projects, then this "huc.h" file is automatically included.
16565                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 22; ;
16566                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 23; ; This file includes a set of the individual HuCC headers which correspond to
16567                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 24; ; HuC's built-in functions and MagicKit library.
16568                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 25; ;
16569                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 26; ; New HuCC projects should, preferably, include the specific headers that are
16570                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 27; ; needed, which will then allow them to replace parts of the standard library
16571                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 28; ; with newer functions, or they can just manually include this "huc.h" file.
16572                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 29; ;
16573                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 30; ; ***************************************************************************
16574                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 31; ; **************************************************************************/
16575                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 33; #include "hucc-systemcard.h"
16576                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 34; #include "hucc-baselib.h"
16577                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 35; #include "hucc-gfx.h"
16578                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 36; #include "hucc-old-scroll.h"
16579                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 37; #include "hucc-old-spr.h"
16580                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 38; #include "hucc-old-map.h"
16581                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 39; #include "hucc-old-line.h"
16582                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 41; #include <stdlib.h>
16583                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 42; #include <string.h>
16584                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 44; #endif // _hucc_legacy_h
16585                        		.dbg	line,	"include\routines_NPC.c", 2; #include "hucc-scroll.h"
16586                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 1; #ifndef _hucc_scroll_h
16587                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 2; #define _hucc_scroll_h
16588                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 4; /****************************************************************************
16589                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 5; ; ***************************************************************************
16590                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 6; ;
16591                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 7; ; hucc-scroll.h
16592                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 8; ;
16593                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 9; ; Routines for a fast split-screen scrolling system.
16594                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 10; ;
16595                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 11; ; Copyright John Brandwood 2024.
16596                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 12; ;
16597                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 13; ; Distributed under the Boost Software License, Version 1.0.
16598                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
16599                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
16600                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 16; ;
16601                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 17; ; ***************************************************************************
16602                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 18; ; ***************************************************************************
16603                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 19; ;
16604                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 20; ; The maximum number of splits for each screen layer is set in your project's
16605                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 21; ; "hucc-config.inc" file, with the library having a limit of 128-per-layer.
16606                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 22; ;
16607                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 23; ; Your first active split must be defined to start at screen line 0, and then
16608                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 24; ; the rest of the active splits must be in increasing line order to match the
16609                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 25; ; way that the PC Engine displays the output image.
16610                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 26; ;
16611                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 27; ; You can have disabled splits interleaved with your active splits.
16612                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 28; ;
16613                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 29; ; Splits that are normally disabled can be used to create full screen effects
16614                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 30; ; such as bouncing the screen up and down by adding blank areas at the top or
16615                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 31; ; bottom of the screen, and then rapidly changing the height of those areas.
16616                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 32; ;
16617                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 33; ; ***************************************************************************
16618                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 34; ; **************************************************************************/
16619                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 36; // *************
16620                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 37; // VDC bits for display_flags ...
16621                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 38; // *************
16622                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 40; #ifndef BKG_OFF
16623                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 41; #define BKG_OFF 0x00
16624                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 42; #endif
16625                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 44; #ifndef SPR_OFF
16626                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 45; #define SPR_OFF 0x00
16627                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 46; #endif
16628                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 48; #ifndef BKG_ON
16629                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 49; #define BKG_ON 0x80
16630                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 50; #endif
16631                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 52; #ifndef SPR_ON
16632                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 53; #define SPR_ON 0x40
16633                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 54; #endif
16634                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 56; // *************
16635                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 57; // Functions in hucc-scroll.asm ...
16636                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 58; // *************
16637                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 60; #ifdef __HUCC__
16638                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 62; #asmdef	HUCC_USES_NEW_SCROLL 1
16639                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 64; extern void __fastcall scroll_split( unsigned char index<_al>, unsigned char screen_line<_ah>, unsigned int bat_x<_bx>, unsigned int bat_y<_cx>, unsigned char display_flags<_dl> );
16640                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 65; extern void __fastcall sgx_scroll_split( unsigned char index<_al>, unsigned char screen_line<_ah>, unsigned int bat_x<_bx>, unsigned int bat_y<_cx>, unsigned char display_flags<_dl> );
16641                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 67; extern void __fastcall disable_split( unsigned char index<acc> );
16642                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 68; extern void __fastcall sgx_disable_split( unsigned char index<acc> );
16643                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 70; extern void __fastcall __macro disable_all_splits( void );
16644                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 71; extern void __fastcall __macro sgx_disable_all_splits( void );
16645                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 73; #asm
16646                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 74; .macro	_disable_all_splits
16647                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 75; ldy	#HUCC_PCE_SPLITS - 1
16648                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 76; !loop:		tya
16649                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 77; call	_disable_split.1
16650                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 78; dey
16651                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 79; bpl	!loop-
16652                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 80; .endm
16653                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 82; .macro	_sgx_disable_all_splits
16654                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 83; ldy	#HUCC_SGX_SPLITS - 1
16655                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 84; !loop:		tya
16656                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 85; call	_sgx_disable_split.1
16657                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 86; dey
16658                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 87; bpl	!loop-
16659                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 88; .endm
16660                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 89; #endasm
16661                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 91; #endif // __HUCC__
16662                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 93; #endif // _hucc_scroll_h
16663                        		.dbg	line,	"include\routines_NPC.c", 3; #include "hucc-chrmap.h"
16664                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 1; #ifndef _hucc_chrmap_h
16665                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 2; #define _hucc_chrmap_h
16666                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 4; /****************************************************************************
16667                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 5; ; ***************************************************************************
16668                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 6; ;
16669                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 7; ; hucc-chrmap.h
16670                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 8; ;
16671                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 9; ; A simple map system based on 8x8 characters (aka "tiles") in BAT format.
16672                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 10; ;
16673                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 11; ; Copyright John Brandwood 2025.
16674                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 12; ;
16675                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 13; ; Distributed under the Boost Software License, Version 1.0.
16676                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
16677                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
16678                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 16; ;
16679                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 17; ; ***************************************************************************
16680                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 18; ; ***************************************************************************
16681                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 19; ;
16682                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 20; ; The maximum X and Y size for chrmaps is 256 characters (2048 pixels).
16683                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 21; ;
16684                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 22; ; The maximum total size for a chrmap is 16KBytes, which allows for maps up
16685                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 23; ; to 256x32 tiles (2048x256 pixels).
16686                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 24; ;
16687                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 25; ; ***************************************************************************
16688                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 26; ; **************************************************************************/
16689                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 28; // *************
16690                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 29; // This code extends the blkmap library ...
16691                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 30; // *************
16692                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 32; #include "hucc-blkmap.h"
16693                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 34; // *************
16694                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 35; // Functions in chrmap.asm ...
16695                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 36; // *************
16696                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 38; #ifdef __HUCC__
16697                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 40; #asmdef	HUCC_USES_CHRMAP 1
16698                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 42; extern void __fastcall __nop set_chrmap( unsigned char __far *chrmap<vdc_map_bank:vdc_map_addr>, unsigned char tiles_w<vdc_map_line_w> );
16699                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 44; extern void __fastcall draw_bat( void );
16700                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 45; extern void __fastcall scroll_bat( void );
16701                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 47; extern void __fastcall blit_bat( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
16702                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 49; #ifdef _SGX
16703                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 51; extern void __fastcall __nop sgx_set_chrmap( unsigned char __far *chrmap<sgx_map_bank:sgx_map_addr>, unsigned char tiles_w<sgx_map_line_w> );
16704                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 53; extern void __fastcall sgx_draw_bat( void );
16705                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 54; extern void __fastcall sgx_scroll_bat( void );
16706                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 56; extern void __fastcall sgx_blit_bat( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
16707                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 58; #endif
16708                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 60; #endif // __HUCC__
16709                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 62; #endif // _hucc_chrmap_h
16710                        		.dbg	line,	"include\routines_NPC.c", 4; #include "hucc-blkmap.h"
16711                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 1; #ifndef _hucc_blkmap_h
16712                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 2; #define _hucc_blkmap_h
16713                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 4; /****************************************************************************
16714                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 5; ; ***************************************************************************
16715                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 6; ;
16716                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 7; ; hucc-blkmap.h
16717                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 8; ;
16718                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 9; ; A map system based on 16x16 meta-tiles (aka "blocks", aka CHR/BLK/MAP).
16719                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 10; ;
16720                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 11; ; Copyright John Brandwood 2025.
16721                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 12; ;
16722                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 13; ; Distributed under the Boost Software License, Version 1.0.
16723                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
16724                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
16725                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 16; ;
16726                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 17; ; ***************************************************************************
16727                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 18; ; ***************************************************************************
16728                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 19; ;
16729                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 20; ; The maximum X and Y size for blkmaps is 128 blocks (2048 pixels).
16730                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 21; ;
16731                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 22; ; The maximum total size for a blkmap is 16KBytes, which allows for maps up
16732                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 23; ; to 128x128 blocks (2048x2048 pixels).
16733                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 24; ;
16734                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 25; ; Huge multi-screen blkmaps are also supported (optionally).
16735                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 26; ;
16736                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 27; ; The maximum X and Y for multi-screen maps is 128 screens (32768 pixels).
16737                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 28; ;
16738                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 29; ; The maximum total size for a multi-screen map is 8KBytes, which allows for
16739                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 30; ; a total of 1024 screens.
16740                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 31; ;
16741                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 32; ; ***************************************************************************
16742                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 33; ; **************************************************************************/
16743                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 35; // *************
16744                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 36; // Functions in blkmap.asm ...
16745                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 37; // *************
16746                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 39; #ifdef __HUCC__
16747                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 41; #asmdef	HUCC_USES_BLKMAP 1
16748                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 43; // Current top-left of drawn map in pixels.
16749                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 44; extern unsigned int   vdc_map_pxl_x;
16750                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 45; extern unsigned int   vdc_map_pxl_y;
16751                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 47; // Width and height to draw/scroll in characters (not tiles).
16752                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 48; extern unsigned char  vdc_map_draw_w;
16753                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 49; extern unsigned char  vdc_map_draw_h;
16754                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 51; // Width of map (or multi-screen BAT) in tiles.
16755                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 52; extern unsigned char  vdc_map_line_w;
16756                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 54; // Width of map in screens (if multi-screen map).
16757                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 55; extern unsigned char  vdc_map_scrn_w;
16758                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 57; // Extra information returned by get_map_block() and sgx_get_map_block(),
16759                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 58; // which are the collision flags and the mask/overlay sprite for the BLK.
16760                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 59; extern unsigned char  map_blk_flag;
16761                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 60; extern unsigned char  map_blk_mask;
16762                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 62; extern unsigned char  vdc_scr_bank;
16763                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 63; extern unsigned char *vdc_scr_addr;
16764                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 65; extern unsigned char  vdc_map_bank;
16765                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 66; extern unsigned char *vdc_map_addr;
16766                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 68; extern unsigned char  vdc_blk_bank;
16767                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 69; extern unsigned char *vdc_blk_addr;
16768                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 71; extern unsigned char  vdc_tbl_bank;
16769                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 72; extern unsigned char *vdc_tbl_addr;
16770                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 74; extern void __fastcall set_blocks( unsigned char __far *blk_def<vdc_blk_bank:vdc_blk_addr>, unsigned char __far *flg_def<vdc_tbl_bank:vdc_tbl_addr>, unsigned char number_of_blocks<_al> );
16771                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 75; extern void __fastcall __macro set_blkmap( unsigned char __far *blk_map<vdc_map_bank:vdc_map_addr>, unsigned char blocks_w<vdc_map_line_w> );
16772                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 76; extern void __fastcall __macro set_multimap( unsigned char __far *multi_map<vdc_scr_bank:vdc_scr_addr>, unsigned char screens_w<vdc_map_scrn_w> );
16773                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 78; extern void __fastcall draw_map( void );
16774                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 79; extern void __fastcall scroll_map( void );
16775                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 81; extern void __fastcall blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
16776                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 83; extern unsigned char __fastcall get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
16777                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 85; #asm
16778                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 86; .macro	_set_blkmap.2
16779                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 87; stz	vdc_scr_bank
16780                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 88; .endm
16781                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 90; .macro	_set_multimap.2
16782                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 91; lda	vdc_bat_width
16783                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 92; lsr	a
16784                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 93; sta	vdc_map_line_w
16785                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 94; .endm
16786                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 96; .macro	SCREEN
16787                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 97; db	(((\1) & $1FFF) | $6000) >> 8, bank(\1)
16788                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 98; db	(((\2) & $1FFF) | $4000) >> 8, bank(\2)
16789                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 99; db	(((\3) & $1FFF) | $6000) >> 8, bank(\3)
16790                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 100; dw	(\4)
16791                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 101; .endm
16792                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 102; #endasm
16793                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 104; #ifdef _SGX
16794                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 106; // Current top-left of drawn map in pixels.
16795                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 107; extern unsigned int   sgx_map_pxl_x;
16796                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 108; extern unsigned int   sgx_map_pxl_y;
16797                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 110; // Width and height to draw/scroll in characters (not tiles).
16798                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 111; extern unsigned char  sgx_map_draw_w;
16799                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 112; extern unsigned char  sgx_map_draw_h;
16800                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 114; // Width of map (or multi-screen BAT) in tiles.
16801                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 115; extern unsigned char  sgx_map_line_w;
16802                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 117; // Width of map in screens (if multi-screen map).
16803                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 118; extern unsigned char  sgx_map_scrn_w;
16804                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 120; extern unsigned char  sgx_scr_bank;
16805                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 121; extern unsigned char *sgx_scr_addr;
16806                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 123; extern unsigned char  sgx_map_bank;
16807                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 124; extern unsigned char *sgx_map_addr;
16808                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 126; extern unsigned char  sgx_blk_bank;
16809                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 127; extern unsigned char *sgx_blk_addr;
16810                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 129; extern unsigned char  sgx_tbl_bank;
16811                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 130; extern unsigned char *sgx_tbl_addr;
16812                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 132; extern void __fastcall sgx_set_blocks( unsigned char __far *blk_def<sgx_blk_bank:sgx_blk_addr>, unsigned char __far *flg_def<sgx_tbl_bank:sgx_tbl_addr>, unsigned char number_of_blocks<_al> );
16813                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 133; extern void __fastcall __macro sgx_set_blkmap( unsigned char __far *blk_map<sgx_map_bank:sgx_map_addr>, unsigned char blocks_w<sgx_map_line_w> );
16814                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 134; extern void __fastcall __macro sgx_set_multimap( unsigned char __far *multi_map<sgx_scr_bank:sgx_scr_addr>, unsigned char screens_w<sgx_map_scrn_w> );
16815                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 136; extern void __fastcall sgx_draw_map( void );
16816                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 137; extern void __fastcall sgx_scroll_map( void );
16817                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 139; extern void __fastcall sgx_blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
16818                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 141; extern unsigned char __fastcall sgx_get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
16819                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 143; #asm
16820                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 144; .macro	_sgx_set_blkmap.2
16821                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 145; stz	sgx_scr_bank
16822                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 146; .endm
16823                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 148; .macro	_sgx_set_multimap.2
16824                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 149; lda	sgx_bat_width
16825                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 150; lsr	a
16826                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 151; sta	sgx_map_line_w
16827                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 152; .endm
16828                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 153; #endasm
16829                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 155; #endif
16830                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 157; #endif // __HUCC__
16831                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 159; #endif // _hucc_blkmap_h
16832                        		.dbg	line,	"include\routines_NPC.c", 13; void sequence_NPC()
16833                        		.dbg	line,	"include\routines_NPC.c", 14; {
16834                        	;***********************
16835                        	;***********************
16836                        	
16837                        		.hucc
16838    1E:CDED             		.proc		_sequence_NPC
16839                        		__enter		_sequence_NPC
16840                        	
16841                        		.dbg	line,	"include\routines_NPC.c", 15; global_counter += 1;
16842                        		__add_st.wmiq	1, _global_counter
         1E:CDED  EE 5B 26   			inc.l	_global_counter
         1E:CDF0  D0 03      			bne	!+
         1E:CDF2  EE 5C 26   			inc.h	_global_counter
         1E:CDF5             	!:
16843                        	
16844                        		.dbg	line,	"include\routines_NPC.c", 17; if(global_counter == 4)
16845                        		__ld.wm		_global_counter
         1E:CDF5  AD 5B 26   			lda.l	_global_counter
         1E:CDF8  AC 5C 26   			ldy.h	_global_counter
16846                        		__equ_w.wi	4
         1E:CDFB  C9 04      			cmp.l	#4
         1E:CDFD  D0 04      			bne	!false+
         1E:CDFF  C0 00      			cpy.h	#4
         1E:CE01  F0 01      			beq	!+
         1E:CE03  18         	!false:		clc
         1E:CE04             	!:
16847                        		__bfalse	.LL838
         1E:CE04  90 0F      			bcc	.LL838
16848                        	
16849                        		.dbg	line,	"include\routines_NPC.c", 18; {
16850                        	
16851                        		.dbg	line,	"include\routines_NPC.c", 19; sgx_spr_set(selected_npc);
16852                        		__ld.umq	_selected_npc
         1E:CE06  AD D6 23   			lda	_selected_npc
16853                        		__call		_sgx_spr_set.1
         1E:CE09  20 9E E8   			call	_sgx_spr_set.1
16854                        	
16855                        		.dbg	line,	"include\routines_NPC.c", 20; sgx_spr_pattern(NPC_2_VRAM_ADR);
16856                        		__ld.wi		30208
         1E:CE0C  62         			cla
         1E:CE0D  A0 76      			ldy.h	#30208
16857                        		__call		_sgx_spr_pattern.1
         1E:CE0F  20 E7 E8   			call	_sgx_spr_pattern.1
16858                        	
16859                        		.dbg	line,	"include\routines_NPC.c", 21; }
16860                        	
16861                        		.dbg	line,	"include\routines_NPC.c", 23; else if(global_counter == 8)
16862                        		__bra		.LL839
         1E:CE12  4C 6A D2   			bra	.LL839
16863    1E:CE15             	.LL838:
16864                        		__ld.wm		_global_counter
         1E:CE15  AD 5B 26   			lda.l	_global_counter
         1E:CE18  AC 5C 26   			ldy.h	_global_counter
16865                        		__equ_w.wi	8
         1E:CE1B  C9 08      			cmp.l	#8
         1E:CE1D  D0 04      			bne	!false+
         1E:CE1F  C0 00      			cpy.h	#8
         1E:CE21  F0 01      			beq	!+
         1E:CE23  18         	!false:		clc
         1E:CE24             	!:
16866                        		__bfalse	.LL840
         1E:CE24  90 09      			bcc	.LL840
16867                        	
16868                        		.dbg	line,	"include\routines_NPC.c", 24; {
16869                        	
16870                        		.dbg	line,	"include\routines_NPC.c", 25; //sgx_spr_set(selected_npc);
16871                        	
16872                        		.dbg	line,	"include\routines_NPC.c", 26; sgx_spr_pattern(NPC_1_VRAM_ADR);
16873                        		__ld.wi		29952
         1E:CE26  62         			cla
         1E:CE27  A0 75      			ldy.h	#29952
16874                        		__call		_sgx_spr_pattern.1
         1E:CE29  20 E7 E8   			call	_sgx_spr_pattern.1
16875                        	
16876                        		.dbg	line,	"include\routines_NPC.c", 27; }
16877                        	
16878                        		.dbg	line,	"include\routines_NPC.c", 29; else if(global_counter == 12)
16879                        		__bra		.LL841
         1E:CE2C  4C 6A D2   			bra	.LL841
16880    1E:CE2F             	.LL840:
16881                        		__ld.wm		_global_counter
         1E:CE2F  AD 5B 26   			lda.l	_global_counter
         1E:CE32  AC 5C 26   			ldy.h	_global_counter
16882                        		__equ_w.wi	12
         1E:CE35  C9 0C      			cmp.l	#12
         1E:CE37  D0 04      			bne	!false+
         1E:CE39  C0 00      			cpy.h	#12
         1E:CE3B  F0 01      			beq	!+
         1E:CE3D  18         	!false:		clc
         1E:CE3E             	!:
16883                        		__bfalse	.LL842
         1E:CE3E  90 09      			bcc	.LL842
16884                        	
16885                        		.dbg	line,	"include\routines_NPC.c", 30; {
16886                        	
16887                        		.dbg	line,	"include\routines_NPC.c", 31; //sgx_spr_set(selected_npc);
16888                        	
16889                        		.dbg	line,	"include\routines_NPC.c", 32; sgx_spr_pattern(NPC_2_VRAM_ADR);
16890                        		__ld.wi		30208
         1E:CE40  62         			cla
         1E:CE41  A0 76      			ldy.h	#30208
16891                        		__call		_sgx_spr_pattern.1
         1E:CE43  20 E7 E8   			call	_sgx_spr_pattern.1
16892                        	
16893                        		.dbg	line,	"include\routines_NPC.c", 33; }
16894                        	
16895                        		.dbg	line,	"include\routines_NPC.c", 35; else if(global_counter == 16)
16896                        		__bra		.LL843
         1E:CE46  4C 6A D2   			bra	.LL843
16897    1E:CE49             	.LL842:
16898                        		__ld.wm		_global_counter
         1E:CE49  AD 5B 26   			lda.l	_global_counter
         1E:CE4C  AC 5C 26   			ldy.h	_global_counter
16899                        		__equ_w.wi	16
         1E:CE4F  C9 10      			cmp.l	#16
         1E:CE51  D0 04      			bne	!false+
         1E:CE53  C0 00      			cpy.h	#16
         1E:CE55  F0 01      			beq	!+
         1E:CE57  18         	!false:		clc
         1E:CE58             	!:
16900                        		__bfalse	.LL844
         1E:CE58  90 09      			bcc	.LL844
16901                        	
16902                        		.dbg	line,	"include\routines_NPC.c", 36; {
16903                        	
16904                        		.dbg	line,	"include\routines_NPC.c", 37; //sgx_spr_set(selected_npc);
16905                        	
16906                        		.dbg	line,	"include\routines_NPC.c", 38; sgx_spr_pattern(NPC_1_VRAM_ADR);
16907                        		__ld.wi		29952
         1E:CE5A  62         			cla
         1E:CE5B  A0 75      			ldy.h	#29952
16908                        		__call		_sgx_spr_pattern.1
         1E:CE5D  20 E7 E8   			call	_sgx_spr_pattern.1
16909                        	
16910                        		.dbg	line,	"include\routines_NPC.c", 39; }
16911                        	
16912                        		.dbg	line,	"include\routines_NPC.c", 41; else if(global_counter == 20)
16913                        		__bra		.LL845
         1E:CE60  4C 6A D2   			bra	.LL845
16914    1E:CE63             	.LL844:
16915                        		__ld.wm		_global_counter
         1E:CE63  AD 5B 26   			lda.l	_global_counter
         1E:CE66  AC 5C 26   			ldy.h	_global_counter
16916                        		__equ_w.wi	20
         1E:CE69  C9 14      			cmp.l	#20
         1E:CE6B  D0 04      			bne	!false+
         1E:CE6D  C0 00      			cpy.h	#20
         1E:CE6F  F0 01      			beq	!+
         1E:CE71  18         	!false:		clc
         1E:CE72             	!:
16917                        		__bfalse	.LL846
         1E:CE72  90 09      			bcc	.LL846
16918                        	
16919                        		.dbg	line,	"include\routines_NPC.c", 42; {
16920                        	
16921                        		.dbg	line,	"include\routines_NPC.c", 43; //sgx_spr_set(selected_npc);
16922                        	
16923                        		.dbg	line,	"include\routines_NPC.c", 44; sgx_spr_pattern(NPC_2_VRAM_ADR);
16924                        		__ld.wi		30208
         1E:CE74  62         			cla
         1E:CE75  A0 76      			ldy.h	#30208
16925                        		__call		_sgx_spr_pattern.1
         1E:CE77  20 E7 E8   			call	_sgx_spr_pattern.1
16926                        	
16927                        		.dbg	line,	"include\routines_NPC.c", 45; }
16928                        	
16929                        		.dbg	line,	"include\routines_NPC.c", 47; else if(global_counter == 24)
16930                        		__bra		.LL847
         1E:CE7A  4C 6A D2   			bra	.LL847
16931    1E:CE7D             	.LL846:
16932                        		__ld.wm		_global_counter
         1E:CE7D  AD 5B 26   			lda.l	_global_counter
         1E:CE80  AC 5C 26   			ldy.h	_global_counter
16933                        		__equ_w.wi	24
         1E:CE83  C9 18      			cmp.l	#24
         1E:CE85  D0 04      			bne	!false+
         1E:CE87  C0 00      			cpy.h	#24
         1E:CE89  F0 01      			beq	!+
         1E:CE8B  18         	!false:		clc
         1E:CE8C             	!:
16934                        		__bfalse	.LL848
         1E:CE8C  90 09      			bcc	.LL848
16935                        	
16936                        		.dbg	line,	"include\routines_NPC.c", 48; {
16937                        	
16938                        		.dbg	line,	"include\routines_NPC.c", 49; //sgx_spr_set(selected_npc);
16939                        	
16940                        		.dbg	line,	"include\routines_NPC.c", 50; sgx_spr_pattern(NPC_1_VRAM_ADR);
16941                        		__ld.wi		29952
         1E:CE8E  62         			cla
         1E:CE8F  A0 75      			ldy.h	#29952
16942                        		__call		_sgx_spr_pattern.1
         1E:CE91  20 E7 E8   			call	_sgx_spr_pattern.1
16943                        	
16944                        		.dbg	line,	"include\routines_NPC.c", 51; }
16945                        	
16946                        		.dbg	line,	"include\routines_NPC.c", 53; else if(global_counter == 28)
16947                        		__bra		.LL849
         1E:CE94  4C 6A D2   			bra	.LL849
16948    1E:CE97             	.LL848:
16949                        		__ld.wm		_global_counter
         1E:CE97  AD 5B 26   			lda.l	_global_counter
         1E:CE9A  AC 5C 26   			ldy.h	_global_counter
16950                        		__equ_w.wi	28
         1E:CE9D  C9 1C      			cmp.l	#28
         1E:CE9F  D0 04      			bne	!false+
         1E:CEA1  C0 00      			cpy.h	#28
         1E:CEA3  F0 01      			beq	!+
         1E:CEA5  18         	!false:		clc
         1E:CEA6             	!:
16951                        		__bfalse	.LL850
         1E:CEA6  90 09      			bcc	.LL850
16952                        	
16953                        		.dbg	line,	"include\routines_NPC.c", 54; {
16954                        	
16955                        		.dbg	line,	"include\routines_NPC.c", 55; //sgx_spr_set(selected_npc);
16956                        	
16957                        		.dbg	line,	"include\routines_NPC.c", 56; sgx_spr_pattern(NPC_2_VRAM_ADR);
16958                        		__ld.wi		30208
         1E:CEA8  62         			cla
         1E:CEA9  A0 76      			ldy.h	#30208
16959                        		__call		_sgx_spr_pattern.1
         1E:CEAB  20 E7 E8   			call	_sgx_spr_pattern.1
16960                        	
16961                        		.dbg	line,	"include\routines_NPC.c", 57; }
16962                        	
16963                        		.dbg	line,	"include\routines_NPC.c", 59; else if(global_counter == 32)
16964                        		__bra		.LL851
         1E:CEAE  4C 6A D2   			bra	.LL851
16965    1E:CEB1             	.LL850:
16966                        		__ld.wm		_global_counter
         1E:CEB1  AD 5B 26   			lda.l	_global_counter
         1E:CEB4  AC 5C 26   			ldy.h	_global_counter
16967                        		__equ_w.wi	32
         1E:CEB7  C9 20      			cmp.l	#32
         1E:CEB9  D0 04      			bne	!false+
         1E:CEBB  C0 00      			cpy.h	#32
         1E:CEBD  F0 01      			beq	!+
         1E:CEBF  18         	!false:		clc
         1E:CEC0             	!:
16968                        		__bfalse	.LL852
         1E:CEC0  90 09      			bcc	.LL852
16969                        	
16970                        		.dbg	line,	"include\routines_NPC.c", 60; {
16971                        	
16972                        		.dbg	line,	"include\routines_NPC.c", 61; //sgx_spr_set(selected_npc);
16973                        	
16974                        		.dbg	line,	"include\routines_NPC.c", 62; sgx_spr_pattern(NPC_1_VRAM_ADR);
16975                        		__ld.wi		29952
         1E:CEC2  62         			cla
         1E:CEC3  A0 75      			ldy.h	#29952
16976                        		__call		_sgx_spr_pattern.1
         1E:CEC5  20 E7 E8   			call	_sgx_spr_pattern.1
16977                        	
16978                        		.dbg	line,	"include\routines_NPC.c", 63; }
16979                        	
16980                        		.dbg	line,	"include\routines_NPC.c", 65; else if(global_counter == 36)
16981                        		__bra		.LL853
         1E:CEC8  4C 6A D2   			bra	.LL853
16982    1E:CECB             	.LL852:
16983                        		__ld.wm		_global_counter
         1E:CECB  AD 5B 26   			lda.l	_global_counter
         1E:CECE  AC 5C 26   			ldy.h	_global_counter
16984                        		__equ_w.wi	36
         1E:CED1  C9 24      			cmp.l	#36
         1E:CED3  D0 04      			bne	!false+
         1E:CED5  C0 00      			cpy.h	#36
         1E:CED7  F0 01      			beq	!+
         1E:CED9  18         	!false:		clc
         1E:CEDA             	!:
16985                        		__bfalse	.LL854
         1E:CEDA  90 09      			bcc	.LL854
16986                        	
16987                        		.dbg	line,	"include\routines_NPC.c", 66; {
16988                        	
16989                        		.dbg	line,	"include\routines_NPC.c", 67; //sgx_spr_set(selected_npc);
16990                        	
16991                        		.dbg	line,	"include\routines_NPC.c", 68; sgx_spr_pattern(NPC_2_VRAM_ADR);
16992                        		__ld.wi		30208
         1E:CEDC  62         			cla
         1E:CEDD  A0 76      			ldy.h	#30208
16993                        		__call		_sgx_spr_pattern.1
         1E:CEDF  20 E7 E8   			call	_sgx_spr_pattern.1
16994                        	
16995                        		.dbg	line,	"include\routines_NPC.c", 69; }
16996                        	
16997                        		.dbg	line,	"include\routines_NPC.c", 71; else if(global_counter == 40)
16998                        		__bra		.LL855
         1E:CEE2  4C 6A D2   			bra	.LL855
16999    1E:CEE5             	.LL854:
17000                        		__ld.wm		_global_counter
         1E:CEE5  AD 5B 26   			lda.l	_global_counter
         1E:CEE8  AC 5C 26   			ldy.h	_global_counter
17001                        		__equ_w.wi	40
         1E:CEEB  C9 28      			cmp.l	#40
         1E:CEED  D0 04      			bne	!false+
         1E:CEEF  C0 00      			cpy.h	#40
         1E:CEF1  F0 01      			beq	!+
         1E:CEF3  18         	!false:		clc
         1E:CEF4             	!:
17002                        		__bfalse	.LL856
         1E:CEF4  90 09      			bcc	.LL856
17003                        	
17004                        		.dbg	line,	"include\routines_NPC.c", 72; {
17005                        	
17006                        		.dbg	line,	"include\routines_NPC.c", 73; //sgx_spr_set(selected_npc);
17007                        	
17008                        		.dbg	line,	"include\routines_NPC.c", 74; sgx_spr_pattern(NPC_1_VRAM_ADR);
17009                        		__ld.wi		29952
         1E:CEF6  62         			cla
         1E:CEF7  A0 75      			ldy.h	#29952
17010                        		__call		_sgx_spr_pattern.1
         1E:CEF9  20 E7 E8   			call	_sgx_spr_pattern.1
17011                        	
17012                        		.dbg	line,	"include\routines_NPC.c", 75; }
17013                        	
17014                        		.dbg	line,	"include\routines_NPC.c", 77; else if(global_counter == 44)
17015                        		__bra		.LL857
         1E:CEFC  4C 6A D2   			bra	.LL857
17016    1E:CEFF             	.LL856:
17017                        		__ld.wm		_global_counter
         1E:CEFF  AD 5B 26   			lda.l	_global_counter
         1E:CF02  AC 5C 26   			ldy.h	_global_counter
17018                        		__equ_w.wi	44
         1E:CF05  C9 2C      			cmp.l	#44
         1E:CF07  D0 04      			bne	!false+
         1E:CF09  C0 00      			cpy.h	#44
         1E:CF0B  F0 01      			beq	!+
         1E:CF0D  18         	!false:		clc
         1E:CF0E             	!:
17019                        		__bfalse	.LL858
         1E:CF0E  90 09      			bcc	.LL858
17020                        	
17021                        		.dbg	line,	"include\routines_NPC.c", 78; {
17022                        	
17023                        		.dbg	line,	"include\routines_NPC.c", 79; //sgx_spr_set(selected_npc);
17024                        	
17025                        		.dbg	line,	"include\routines_NPC.c", 80; sgx_spr_pattern(NPC_2_VRAM_ADR);
17026                        		__ld.wi		30208
         1E:CF10  62         			cla
         1E:CF11  A0 76      			ldy.h	#30208
17027                        		__call		_sgx_spr_pattern.1
         1E:CF13  20 E7 E8   			call	_sgx_spr_pattern.1
17028                        	
17029                        		.dbg	line,	"include\routines_NPC.c", 81; }
17030                        	
17031                        		.dbg	line,	"include\routines_NPC.c", 83; else if(global_counter == 48)
17032                        		__bra		.LL859
         1E:CF16  4C 6A D2   			bra	.LL859
17033    1E:CF19             	.LL858:
17034                        		__ld.wm		_global_counter
         1E:CF19  AD 5B 26   			lda.l	_global_counter
         1E:CF1C  AC 5C 26   			ldy.h	_global_counter
17035                        		__equ_w.wi	48
         1E:CF1F  C9 30      			cmp.l	#48
         1E:CF21  D0 04      			bne	!false+
         1E:CF23  C0 00      			cpy.h	#48
         1E:CF25  F0 01      			beq	!+
         1E:CF27  18         	!false:		clc
         1E:CF28             	!:
17036                        		__bfalse	.LL860
         1E:CF28  90 09      			bcc	.LL860
17037                        	
17038                        		.dbg	line,	"include\routines_NPC.c", 84; {
17039                        	
17040                        		.dbg	line,	"include\routines_NPC.c", 85; //sgx_spr_set(selected_npc);
17041                        	
17042                        		.dbg	line,	"include\routines_NPC.c", 86; sgx_spr_pattern(NPC_1_VRAM_ADR);
17043                        		__ld.wi		29952
         1E:CF2A  62         			cla
         1E:CF2B  A0 75      			ldy.h	#29952
17044                        		__call		_sgx_spr_pattern.1
         1E:CF2D  20 E7 E8   			call	_sgx_spr_pattern.1
17045                        	
17046                        		.dbg	line,	"include\routines_NPC.c", 87; }
17047                        	
17048                        		.dbg	line,	"include\routines_NPC.c", 89; else if(global_counter == 52)
17049                        		__bra		.LL861
         1E:CF30  4C 6A D2   			bra	.LL861
17050    1E:CF33             	.LL860:
17051                        		__ld.wm		_global_counter
         1E:CF33  AD 5B 26   			lda.l	_global_counter
         1E:CF36  AC 5C 26   			ldy.h	_global_counter
17052                        		__equ_w.wi	52
         1E:CF39  C9 34      			cmp.l	#52
         1E:CF3B  D0 04      			bne	!false+
         1E:CF3D  C0 00      			cpy.h	#52
         1E:CF3F  F0 01      			beq	!+
         1E:CF41  18         	!false:		clc
         1E:CF42             	!:
17053                        		__bfalse	.LL862
         1E:CF42  90 09      			bcc	.LL862
17054                        	
17055                        		.dbg	line,	"include\routines_NPC.c", 90; {
17056                        	
17057                        		.dbg	line,	"include\routines_NPC.c", 91; //sgx_spr_set(selected_npc);
17058                        	
17059                        		.dbg	line,	"include\routines_NPC.c", 92; sgx_spr_pattern(NPC_2_VRAM_ADR);
17060                        		__ld.wi		30208
         1E:CF44  62         			cla
         1E:CF45  A0 76      			ldy.h	#30208
17061                        		__call		_sgx_spr_pattern.1
         1E:CF47  20 E7 E8   			call	_sgx_spr_pattern.1
17062                        	
17063                        		.dbg	line,	"include\routines_NPC.c", 93; }
17064                        	
17065                        		.dbg	line,	"include\routines_NPC.c", 95; else if(global_counter == 75)
17066                        		__bra		.LL863
         1E:CF4A  4C 6A D2   			bra	.LL863
17067    1E:CF4D             	.LL862:
17068                        		__ld.wm		_global_counter
         1E:CF4D  AD 5B 26   			lda.l	_global_counter
         1E:CF50  AC 5C 26   			ldy.h	_global_counter
17069                        		__equ_w.wi	75
         1E:CF53  C9 4B      			cmp.l	#75
         1E:CF55  D0 04      			bne	!false+
         1E:CF57  C0 00      			cpy.h	#75
         1E:CF59  F0 01      			beq	!+
         1E:CF5B  18         	!false:		clc
         1E:CF5C             	!:
17070                        		__bfalse	.LL864
         1E:CF5C  B0 03 4C 81			bcc	.LL864
         1E:CF60  D0          
17071                        	
17072                        		.dbg	line,	"include\routines_NPC.c", 96; {
17073                        	
17074                        		.dbg	line,	"include\routines_NPC.c", 97; // DISPLAY DIALOGUE BOX //
17075                        	
17076                        		.dbg	line,	"include\routines_NPC.c", 99; if(list_npc_type[selected_npc - npc_start_index] == TYPE_NPC_ZENNY)
17077                        		__ld.um		_selected_npc
         1E:CF61  AD D6 23   			lda	_selected_npc
         1E:CF64  C2         			cly
17078                        		__sub.um	_npc_start_index
         1E:CF65  38         			sec
         1E:CF66  ED D3 23   			sbc	_npc_start_index
         1E:CF69  B0 01      			bcs	!+
         1E:CF6B  88         			dey
         1E:CF6C             	!:
17079                        		__not.uar	_list_npc_type
         1E:CF6C  A8         			tay
         1E:CF6D  B9 D7 23   			lda	_list_npc_type, y
         1E:CF70  18         			clc
         1E:CF71  D0 01      			bne	!+
         1E:CF73  38         			sec
         1E:CF74             	!:
17080                        		__bfalse	.LL865
         1E:CF74  90 48      			bcc	.LL865
17081                        	
17082                        		.dbg	line,	"include\routines_NPC.c", 100; {
17083                        	
17084                        		.dbg	line,	"include\routines_NPC.c", 101; scroll_split(0,   0,   0,  0, BKG_ON | SPR_ON);
17085                        		__st.umiq	0, _al
         1E:CF76  64 F8      			stz	_al
17086                        		__st.umiq	0, _ah
         1E:CF78  64 F9      			stz	_ah
17087                        		__st.wmiq	0, _bx
         1E:CF7A  64 FA      			stz.l	_bx
         1E:CF7C  64 FB      			stz.h	_bx
17088                        		__st.wmiq	0, _cx
         1E:CF7E  64 FC      			stz.l	_cx
         1E:CF80  64 FD      			stz.h	_cx
17089                        		__st.umiq	192, _dl
         1E:CF82  A9 C0      			lda.l	#192
         1E:CF84  85 FE      			sta	_dl
17090                        		__call		_scroll_split.5
         1E:CF86  20 81 FF   			call	_scroll_split.5
17091                        	
17092                        		.dbg	line,	"include\routines_NPC.c", 102; scroll_split(1,  48, 256,  0, BKG_ON | SPR_ON);
17093                        		__st.umiq	1, _al
         1E:CF89  A9 01      			lda.l	#1
         1E:CF8B  85 F8      			sta	_al
17094                        		__st.umiq	48, _ah
         1E:CF8D  A9 30      			lda.l	#48
         1E:CF8F  85 F9      			sta	_ah
17095                        		__st.wmiq	256, _bx
         1E:CF91  64 FA      			stz.l	_bx
         1E:CF93  A9 01      			lda.h	#256
         1E:CF95  85 FB      			sta.h	_bx
17096                        		__st.wmiq	0, _cx
         1E:CF97  64 FC      			stz.l	_cx
         1E:CF99  64 FD      			stz.h	_cx
17097                        		__st.umiq	192, _dl
         1E:CF9B  A9 C0      			lda.l	#192
         1E:CF9D  85 FE      			sta	_dl
17098                        		__call		_scroll_split.5
         1E:CF9F  20 81 FF   			call	_scroll_split.5
17099                        	
17100                        		.dbg	line,	"include\routines_NPC.c", 103; scroll_split(2,  80,   0, 80, BKG_ON | SPR_ON);
17101                        		__st.umiq	2, _al
         1E:CFA2  A9 02      			lda.l	#2
         1E:CFA4  85 F8      			sta	_al
17102                        		__st.umiq	80, _ah
         1E:CFA6  A9 50      			lda.l	#80
         1E:CFA8  85 F9      			sta	_ah
17103                        		__st.wmiq	0, _bx
         1E:CFAA  64 FA      			stz.l	_bx
         1E:CFAC  64 FB      			stz.h	_bx
17104                        		__st.wmiq	80, _cx
         1E:CFAE  A9 50      			lda.l	#80
         1E:CFB0  85 FC      			sta.l	_cx
         1E:CFB2  64 FD      			stz.h	_cx
17105                        		__st.umiq	192, _dl
         1E:CFB4  A9 C0      			lda.l	#192
         1E:CFB6  85 FE      			sta	_dl
17106                        		__call		_scroll_split.5
         1E:CFB8  20 81 FF   			call	_scroll_split.5
17107                        	
17108                        		.dbg	line,	"include\routines_NPC.c", 104; }
17109                        	
17110                        		.dbg	line,	"include\routines_NPC.c", 106; else if(list_npc_type[selected_npc - npc_start_index] == TYPE_NPC_TIME)
17111                        		__bra		.LL866
         1E:CFBB  4C 6A D2   			bra	.LL866
17112    1E:CFBE             	.LL865:
17113                        		__ld.um		_selected_npc
         1E:CFBE  AD D6 23   			lda	_selected_npc
         1E:CFC1  C2         			cly
17114                        		__sub.um	_npc_start_index
         1E:CFC2  38         			sec
         1E:CFC3  ED D3 23   			sbc	_npc_start_index
         1E:CFC6  B0 01      			bcs	!+
         1E:CFC8  88         			dey
         1E:CFC9             	!:
17115                        		__ld.uarq	_list_npc_type
         1E:CFC9  A8         			tay
         1E:CFCA  B9 D7 23   			lda	_list_npc_type, y
17116                        		__equ_b.uiq	1
         1E:CFCD  C9 01      			cmp	#1
         1E:CFCF  F0 01      			beq	!+
         1E:CFD1  18         			clc
         1E:CFD2             	!:
17117                        		__bfalse	.LL867
         1E:CFD2  90 4A      			bcc	.LL867
17118                        	
17119                        		.dbg	line,	"include\routines_NPC.c", 107; {
17120                        	
17121                        		.dbg	line,	"include\routines_NPC.c", 108; scroll_split(0,   0,   0,  0, BKG_ON | SPR_ON);
17122                        		__st.umiq	0, _al
         1E:CFD4  64 F8      			stz	_al
17123                        		__st.umiq	0, _ah
         1E:CFD6  64 F9      			stz	_ah
17124                        		__st.wmiq	0, _bx
         1E:CFD8  64 FA      			stz.l	_bx
         1E:CFDA  64 FB      			stz.h	_bx
17125                        		__st.wmiq	0, _cx
         1E:CFDC  64 FC      			stz.l	_cx
         1E:CFDE  64 FD      			stz.h	_cx
17126                        		__st.umiq	192, _dl
         1E:CFE0  A9 C0      			lda.l	#192
         1E:CFE2  85 FE      			sta	_dl
17127                        		__call		_scroll_split.5
         1E:CFE4  20 81 FF   			call	_scroll_split.5
17128                        	
17129                        		.dbg	line,	"include\routines_NPC.c", 109; scroll_split(1,  48, 256, 32, BKG_ON | SPR_ON);
17130                        		__st.umiq	1, _al
         1E:CFE7  A9 01      			lda.l	#1
         1E:CFE9  85 F8      			sta	_al
17131                        		__st.umiq	48, _ah
         1E:CFEB  A9 30      			lda.l	#48
         1E:CFED  85 F9      			sta	_ah
17132                        		__st.wmiq	256, _bx
         1E:CFEF  64 FA      			stz.l	_bx
         1E:CFF1  A9 01      			lda.h	#256
         1E:CFF3  85 FB      			sta.h	_bx
17133                        		__st.wmiq	32, _cx
         1E:CFF5  A9 20      			lda.l	#32
         1E:CFF7  85 FC      			sta.l	_cx
         1E:CFF9  64 FD      			stz.h	_cx
17134                        		__st.umiq	192, _dl
         1E:CFFB  A9 C0      			lda.l	#192
         1E:CFFD  85 FE      			sta	_dl
17135                        		__call		_scroll_split.5
         1E:CFFF  20 81 FF   			call	_scroll_split.5
17136                        	
17137                        		.dbg	line,	"include\routines_NPC.c", 110; scroll_split(2,  80,   0, 80, BKG_ON | SPR_ON);
17138                        		__st.umiq	2, _al
         1E:D002  A9 02      			lda.l	#2
         1E:D004  85 F8      			sta	_al
17139                        		__st.umiq	80, _ah
         1E:D006  A9 50      			lda.l	#80
         1E:D008  85 F9      			sta	_ah
17140                        		__st.wmiq	0, _bx
         1E:D00A  64 FA      			stz.l	_bx
         1E:D00C  64 FB      			stz.h	_bx
17141                        		__st.wmiq	80, _cx
         1E:D00E  A9 50      			lda.l	#80
         1E:D010  85 FC      			sta.l	_cx
         1E:D012  64 FD      			stz.h	_cx
17142                        		__st.umiq	192, _dl
         1E:D014  A9 C0      			lda.l	#192
         1E:D016  85 FE      			sta	_dl
17143                        		__call		_scroll_split.5
         1E:D018  20 81 FF   			call	_scroll_split.5
17144                        	
17145                        		.dbg	line,	"include\routines_NPC.c", 111; }
17146                        	
17147                        		.dbg	line,	"include\routines_NPC.c", 113; else if(list_npc_type[selected_npc - npc_start_index] == TYPE_NPC_SHOP)
17148                        		__bra		.LL868
         1E:D01B  4C 6A D2   			bra	.LL868
17149    1E:D01E             	.LL867:
17150                        		__ld.um		_selected_npc
         1E:D01E  AD D6 23   			lda	_selected_npc
         1E:D021  C2         			cly
17151                        		__sub.um	_npc_start_index
         1E:D022  38         			sec
         1E:D023  ED D3 23   			sbc	_npc_start_index
         1E:D026  B0 01      			bcs	!+
         1E:D028  88         			dey
         1E:D029             	!:
17152                        		__ld.uarq	_list_npc_type
         1E:D029  A8         			tay
         1E:D02A  B9 D7 23   			lda	_list_npc_type, y
17153                        		__equ_b.uiq	2
         1E:D02D  C9 02      			cmp	#2
         1E:D02F  F0 01      			beq	!+
         1E:D031  18         			clc
         1E:D032             	!:
17154                        		__bfalse	.LL869
         1E:D032  B0 03 4C 6A			bcc	.LL869
         1E:D036  D2          
17155                        	
17156                        		.dbg	line,	"include\routines_NPC.c", 114; {
17157                        	
17158                        		.dbg	line,	"include\routines_NPC.c", 115; scroll_split(0,   0,   0,  0, BKG_ON | SPR_ON);
17159                        		__st.umiq	0, _al
         1E:D037  64 F8      			stz	_al
17160                        		__st.umiq	0, _ah
         1E:D039  64 F9      			stz	_ah
17161                        		__st.wmiq	0, _bx
         1E:D03B  64 FA      			stz.l	_bx
         1E:D03D  64 FB      			stz.h	_bx
17162                        		__st.wmiq	0, _cx
         1E:D03F  64 FC      			stz.l	_cx
         1E:D041  64 FD      			stz.h	_cx
17163                        		__st.umiq	192, _dl
         1E:D043  A9 C0      			lda.l	#192
         1E:D045  85 FE      			sta	_dl
17164                        		__call		_scroll_split.5
         1E:D047  20 81 FF   			call	_scroll_split.5
17165                        	
17166                        		.dbg	line,	"include\routines_NPC.c", 116; scroll_split(1,  48, 256, 64, BKG_ON | SPR_ON);
17167                        		__st.umiq	1, _al
         1E:D04A  A9 01      			lda.l	#1
         1E:D04C  85 F8      			sta	_al
17168                        		__st.umiq	48, _ah
         1E:D04E  A9 30      			lda.l	#48
         1E:D050  85 F9      			sta	_ah
17169                        		__st.wmiq	256, _bx
         1E:D052  64 FA      			stz.l	_bx
         1E:D054  A9 01      			lda.h	#256
         1E:D056  85 FB      			sta.h	_bx
17170                        		__st.wmiq	64, _cx
         1E:D058  A9 40      			lda.l	#64
         1E:D05A  85 FC      			sta.l	_cx
         1E:D05C  64 FD      			stz.h	_cx
17171                        		__st.umiq	192, _dl
         1E:D05E  A9 C0      			lda.l	#192
         1E:D060  85 FE      			sta	_dl
17172                        		__call		_scroll_split.5
         1E:D062  20 81 FF   			call	_scroll_split.5
17173                        	
17174                        		.dbg	line,	"include\routines_NPC.c", 117; scroll_split(2,  80,   0, 80, BKG_ON | SPR_ON);
17175                        		__st.umiq	2, _al
         1E:D065  A9 02      			lda.l	#2
         1E:D067  85 F8      			sta	_al
17176                        		__st.umiq	80, _ah
         1E:D069  A9 50      			lda.l	#80
         1E:D06B  85 F9      			sta	_ah
17177                        		__st.wmiq	0, _bx
         1E:D06D  64 FA      			stz.l	_bx
         1E:D06F  64 FB      			stz.h	_bx
17178                        		__st.wmiq	80, _cx
         1E:D071  A9 50      			lda.l	#80
         1E:D073  85 FC      			sta.l	_cx
         1E:D075  64 FD      			stz.h	_cx
17179                        		__st.umiq	192, _dl
         1E:D077  A9 C0      			lda.l	#192
         1E:D079  85 FE      			sta	_dl
17180                        		__call		_scroll_split.5
         1E:D07B  20 81 FF   			call	_scroll_split.5
17181                        	
17182                        		.dbg	line,	"include\routines_NPC.c", 118; }
17183                        	
17184                        		.dbg	line,	"include\routines_NPC.c", 120; }
17185    1E:D07E             	.LL869	.alias		.LL870
17186    1E:D07E             	.LL868	.alias		.LL870
17187    1E:D07E             	.LL866	.alias		.LL870
17188                        	
17189                        		.dbg	line,	"include\routines_NPC.c", 122; else if(global_counter == 76)
17190                        		__bra		.LL870
         1E:D07E  4C 6A D2   			bra	.LL870
17191    1E:D081             	.LL864:
17192                        		__ld.wm		_global_counter
         1E:D081  AD 5B 26   			lda.l	_global_counter
         1E:D084  AC 5C 26   			ldy.h	_global_counter
17193                        		__equ_w.wi	76
         1E:D087  C9 4C      			cmp.l	#76
         1E:D089  D0 04      			bne	!false+
         1E:D08B  C0 00      			cpy.h	#76
         1E:D08D  F0 01      			beq	!+
         1E:D08F  18         	!false:		clc
         1E:D090             	!:
17194                        		__bfalse	.LL871
         1E:D090  90 09      			bcc	.LL871
17195                        	
17196                        		.dbg	line,	"include\routines_NPC.c", 123; {
17197                        	
17198                        		.dbg	line,	"include\routines_NPC.c", 124; //sgx_spr_set(selected_npc);
17199                        	
17200                        		.dbg	line,	"include\routines_NPC.c", 125; sgx_spr_pattern(NPC_3_VRAM_ADR);
17201                        		__ld.wi		30464
         1E:D092  62         			cla
         1E:D093  A0 77      			ldy.h	#30464
17202                        		__call		_sgx_spr_pattern.1
         1E:D095  20 E7 E8   			call	_sgx_spr_pattern.1
17203                        	
17204                        		.dbg	line,	"include\routines_NPC.c", 126; }
17205                        	
17206                        		.dbg	line,	"include\routines_NPC.c", 128; else if(global_counter == 96)
17207                        		__bra		.LL872
         1E:D098  4C 6A D2   			bra	.LL872
17208    1E:D09B             	.LL871:
17209                        		__ld.wm		_global_counter
         1E:D09B  AD 5B 26   			lda.l	_global_counter
         1E:D09E  AC 5C 26   			ldy.h	_global_counter
17210                        		__equ_w.wi	96
         1E:D0A1  C9 60      			cmp.l	#96
         1E:D0A3  D0 04      			bne	!false+
         1E:D0A5  C0 00      			cpy.h	#96
         1E:D0A7  F0 01      			beq	!+
         1E:D0A9  18         	!false:		clc
         1E:D0AA             	!:
17211                        		__bfalse	.LL873
         1E:D0AA  90 09      			bcc	.LL873
17212                        	
17213                        		.dbg	line,	"include\routines_NPC.c", 129; {
17214                        	
17215                        		.dbg	line,	"include\routines_NPC.c", 130; //sgx_spr_set(selected_npc);
17216                        	
17217                        		.dbg	line,	"include\routines_NPC.c", 131; sgx_spr_pattern(NPC_5_VRAM_ADR);
17218                        		__ld.wi		30976
         1E:D0AC  62         			cla
         1E:D0AD  A0 79      			ldy.h	#30976
17219                        		__call		_sgx_spr_pattern.1
         1E:D0AF  20 E7 E8   			call	_sgx_spr_pattern.1
17220                        	
17221                        		.dbg	line,	"include\routines_NPC.c", 132; }
17222                        	
17223                        		.dbg	line,	"include\routines_NPC.c", 134; else if(global_counter == 104)
17224                        		__bra		.LL874
         1E:D0B2  4C 6A D2   			bra	.LL874
17225    1E:D0B5             	.LL873:
17226                        		__ld.wm		_global_counter
         1E:D0B5  AD 5B 26   			lda.l	_global_counter
         1E:D0B8  AC 5C 26   			ldy.h	_global_counter
17227                        		__equ_w.wi	104
         1E:D0BB  C9 68      			cmp.l	#104
         1E:D0BD  D0 04      			bne	!false+
         1E:D0BF  C0 00      			cpy.h	#104
         1E:D0C1  F0 01      			beq	!+
         1E:D0C3  18         	!false:		clc
         1E:D0C4             	!:
17228                        		__bfalse	.LL875
         1E:D0C4  90 09      			bcc	.LL875
17229                        	
17230                        		.dbg	line,	"include\routines_NPC.c", 135; {
17231                        	
17232                        		.dbg	line,	"include\routines_NPC.c", 136; //sgx_spr_set(selected_npc);
17233                        	
17234                        		.dbg	line,	"include\routines_NPC.c", 137; sgx_spr_pattern(NPC_6_VRAM_ADR);
17235                        		__ld.wi		31232
         1E:D0C6  62         			cla
         1E:D0C7  A0 7A      			ldy.h	#31232
17236                        		__call		_sgx_spr_pattern.1
         1E:D0C9  20 E7 E8   			call	_sgx_spr_pattern.1
17237                        	
17238                        		.dbg	line,	"include\routines_NPC.c", 138; }
17239                        	
17240                        		.dbg	line,	"include\routines_NPC.c", 140; else if(global_counter == 128)
17241                        		__bra		.LL876
         1E:D0CC  4C 6A D2   			bra	.LL876
17242    1E:D0CF             	.LL875:
17243                        		__ld.wm		_global_counter
         1E:D0CF  AD 5B 26   			lda.l	_global_counter
         1E:D0D2  AC 5C 26   			ldy.h	_global_counter
17244                        		__equ_w.wi	128
         1E:D0D5  C9 80      			cmp.l	#128
         1E:D0D7  D0 04      			bne	!false+
         1E:D0D9  C0 00      			cpy.h	#128
         1E:D0DB  F0 01      			beq	!+
         1E:D0DD  18         	!false:		clc
         1E:D0DE             	!:
17245                        		__bfalse	.LL877
         1E:D0DE  90 09      			bcc	.LL877
17246                        	
17247                        		.dbg	line,	"include\routines_NPC.c", 141; {
17248                        	
17249                        		.dbg	line,	"include\routines_NPC.c", 142; //sgx_spr_set(selected_npc);
17250                        	
17251                        		.dbg	line,	"include\routines_NPC.c", 143; sgx_spr_pattern(NPC_5_VRAM_ADR);
17252                        		__ld.wi		30976
         1E:D0E0  62         			cla
         1E:D0E1  A0 79      			ldy.h	#30976
17253                        		__call		_sgx_spr_pattern.1
         1E:D0E3  20 E7 E8   			call	_sgx_spr_pattern.1
17254                        	
17255                        		.dbg	line,	"include\routines_NPC.c", 144; }
17256                        	
17257                        		.dbg	line,	"include\routines_NPC.c", 146; else if(global_counter == 136)
17258                        		__bra		.LL878
         1E:D0E6  4C 6A D2   			bra	.LL878
17259    1E:D0E9             	.LL877:
17260                        		__ld.wm		_global_counter
         1E:D0E9  AD 5B 26   			lda.l	_global_counter
         1E:D0EC  AC 5C 26   			ldy.h	_global_counter
17261                        		__equ_w.wi	136
         1E:D0EF  C9 88      			cmp.l	#136
         1E:D0F1  D0 04      			bne	!false+
         1E:D0F3  C0 00      			cpy.h	#136
         1E:D0F5  F0 01      			beq	!+
         1E:D0F7  18         	!false:		clc
         1E:D0F8             	!:
17262                        		__bfalse	.LL879
         1E:D0F8  90 09      			bcc	.LL879
17263                        	
17264                        		.dbg	line,	"include\routines_NPC.c", 147; {
17265                        	
17266                        		.dbg	line,	"include\routines_NPC.c", 148; //sgx_spr_set(selected_npc);
17267                        	
17268                        		.dbg	line,	"include\routines_NPC.c", 149; sgx_spr_pattern(NPC_3_VRAM_ADR);
17269                        		__ld.wi		30464
         1E:D0FA  62         			cla
         1E:D0FB  A0 77      			ldy.h	#30464
17270                        		__call		_sgx_spr_pattern.1
         1E:D0FD  20 E7 E8   			call	_sgx_spr_pattern.1
17271                        	
17272                        		.dbg	line,	"include\routines_NPC.c", 150; }
17273                        	
17274                        		.dbg	line,	"include\routines_NPC.c", 152; else if(global_counter == 164)
17275                        		__bra		.LL880
         1E:D100  4C 6A D2   			bra	.LL880
17276    1E:D103             	.LL879:
17277                        		__ld.wm		_global_counter
         1E:D103  AD 5B 26   			lda.l	_global_counter
         1E:D106  AC 5C 26   			ldy.h	_global_counter
17278                        		__equ_w.wi	164
         1E:D109  C9 A4      			cmp.l	#164
         1E:D10B  D0 04      			bne	!false+
         1E:D10D  C0 00      			cpy.h	#164
         1E:D10F  F0 01      			beq	!+
         1E:D111  18         	!false:		clc
         1E:D112             	!:
17279                        		__bfalse	.LL881
         1E:D112  B0 03 4C 6A			bcc	.LL881
         1E:D116  D2          
17280                        	
17281                        		.dbg	line,	"include\routines_NPC.c", 153; {
17282                        	
17283                        		.dbg	line,	"include\routines_NPC.c", 154; global_counter = 0;
17284                        		__st.wmiq	0, _global_counter
         1E:D117  9C 5B 26   			stz.l	_global_counter
         1E:D11A  9C 5C 26   			stz.h	_global_counter
17285                        	
17286                        		.dbg	line,	"include\routines_NPC.c", 155; 
17287                        	
17288                        		.dbg	line,	"include\routines_NPC.c", 156; if(list_npc_type[selected_npc - npc_start_index] == TYPE_NPC_SHOP)
17289                        		__ld.um		_selected_npc
         1E:D11D  AD D6 23   			lda	_selected_npc
         1E:D120  C2         			cly
17290                        		__sub.um	_npc_start_index
         1E:D121  38         			sec
         1E:D122  ED D3 23   			sbc	_npc_start_index
         1E:D125  B0 01      			bcs	!+
         1E:D127  88         			dey
         1E:D128             	!:
17291                        		__ld.uarq	_list_npc_type
         1E:D128  A8         			tay
         1E:D129  B9 D7 23   			lda	_list_npc_type, y
17292                        		__equ_b.uiq	2
         1E:D12C  C9 02      			cmp	#2
         1E:D12E  F0 01      			beq	!+
         1E:D130  18         			clc
         1E:D131             	!:
17293                        		__bfalse	.LL882
         1E:D131  90 0E      			bcc	.LL882
17294                        	
17295                        		.dbg	line,	"include\routines_NPC.c", 157; {
17296                        	
17297                        		.dbg	line,	"include\routines_NPC.c", 158; disp_off();
17298                        		__call		_disp_off
         1E:D133  20 3D E4   			call	_disp_off
17299                        	
17300                        		.dbg	line,	"include\routines_NPC.c", 160; sequence_loaded = FALSE;
17301                        		__st.umiq	0, _sequence_loaded
         1E:D136  9C 15 23   			stz	_sequence_loaded
17302                        	
17303                        		.dbg	line,	"include\routines_NPC.c", 161; sequence_id = SEQUENCE_SHOP;
17304                        		__st.umiq	4, _sequence_id
         1E:D139  A9 04      			lda.l	#4
         1E:D13B  8D 14 23   			sta	_sequence_id
17305                        	
17306                        		.dbg	line,	"include\routines_NPC.c", 162; }
17307                        	
17308                        		.dbg	line,	"include\routines_NPC.c", 164; else if(list_npc_type[selected_npc - npc_start_index] == TYPE_NPC_ZENNY)
17309                        		__bra		.LL883
         1E:D13E  4C 25 D2   			bra	.LL883
17310    1E:D141             	.LL882:
17311                        		__ld.um		_selected_npc
         1E:D141  AD D6 23   			lda	_selected_npc
         1E:D144  C2         			cly
17312                        		__sub.um	_npc_start_index
         1E:D145  38         			sec
         1E:D146  ED D3 23   			sbc	_npc_start_index
         1E:D149  B0 01      			bcs	!+
         1E:D14B  88         			dey
         1E:D14C             	!:
17313                        		__not.uar	_list_npc_type
         1E:D14C  A8         			tay
         1E:D14D  B9 D7 23   			lda	_list_npc_type, y
         1E:D150  18         			clc
         1E:D151  D0 01      			bne	!+
         1E:D153  38         			sec
         1E:D154             	!:
17314                        		__bfalse	.LL884
         1E:D154  90 3C      			bcc	.LL884
17315                        	
17316                        		.dbg	line,	"include\routines_NPC.c", 165; {
17317                        	
17318                        		.dbg	line,	"include\routines_NPC.c", 166; zenny_amount += list_npc_reward[selected_npc - npc_start_index];
17319                        		__ld.um		_selected_npc
         1E:D156  AD D6 23   			lda	_selected_npc
         1E:D159  C2         			cly
17320                        		__sub.um	_npc_start_index
         1E:D15A  38         			sec
         1E:D15B  ED D3 23   			sbc	_npc_start_index
         1E:D15E  B0 01      			bcs	!+
         1E:D160  88         			dey
         1E:D161             	!:
17321                        		__ld.uar	_list_npc_reward
         1E:D161  A8         			tay
         1E:D162  B9 E9 23   			lda	_list_npc_reward, y
         1E:D165  C2         			cly
17322                        		__add_st.wmq	_zenny_amount
         1E:D166  18         			clc
         1E:D167  6D 61 26   			adc.l	_zenny_amount
         1E:D16A  8D 61 26   			sta.l	_zenny_amount
         1E:D16D  98         			tya
         1E:D16E  6D 62 26   			adc.h	_zenny_amount
         1E:D171  8D 62 26   			sta.h	_zenny_amount
17323                        	
17324                        		.dbg	line,	"include\routines_NPC.c", 167; display_ZENNY();
17325                        		__call		_display_ZENNY
         1E:D174  20 3B FF   			call	_display_ZENNY
17326                        	
17327                        		.dbg	line,	"include\routines_NPC.c", 169; sgx_spr_hide();
17328                        		__call		_sgx_spr_hide
         1E:D177  20 B9 E8   			call	_sgx_spr_hide
17329                        	
17330                        		.dbg	line,	"include\routines_NPC.c", 171; list_npc_state[selected_npc - npc_start_index] = STATE_FREE;
17331                        		__ld.um		_selected_npc
         1E:D17A  AD D6 23   			lda	_selected_npc
         1E:D17D  C2         			cly
17332                        		__sub.um	_npc_start_index
         1E:D17E  38         			sec
         1E:D17F  ED D3 23   			sbc	_npc_start_index
         1E:D182  B0 01      			bcs	!+
         1E:D184  88         			dey
         1E:D185             	!:
17333                        		__index.ur	_list_npc_state
         1E:D185  48         			pha
17334                        		__st.uatiq	0, _list_npc_state
         1E:D186  FA         			plx
         1E:D187  9E E0 23   			stz	_list_npc_state, x
17335                        	
17336                        		.dbg	line,	"include\routines_NPC.c", 172; sequence_id = SEQUENCE_LEVEL;
17337                        		__st.umiq	2, _sequence_id
         1E:D18A  A9 02      			lda.l	#2
         1E:D18C  8D 14 23   			sta	_sequence_id
17338                        	
17339                        		.dbg	line,	"include\routines_NPC.c", 173; }
17340                        	
17341                        		.dbg	line,	"include\routines_NPC.c", 175; else if(list_npc_type[selected_npc - npc_start_index] == TYPE_NPC_TIME)
17342                        		__bra		.LL885
         1E:D18F  4C 25 D2   			bra	.LL885
17343    1E:D192             	.LL884:
17344                        		__ld.um		_selected_npc
         1E:D192  AD D6 23   			lda	_selected_npc
         1E:D195  C2         			cly
17345                        		__sub.um	_npc_start_index
         1E:D196  38         			sec
         1E:D197  ED D3 23   			sbc	_npc_start_index
         1E:D19A  B0 01      			bcs	!+
         1E:D19C  88         			dey
         1E:D19D             	!:
17346                        		__ld.uarq	_list_npc_type
         1E:D19D  A8         			tay
         1E:D19E  B9 D7 23   			lda	_list_npc_type, y
17347                        		__equ_b.uiq	1
         1E:D1A1  C9 01      			cmp	#1
         1E:D1A3  F0 01      			beq	!+
         1E:D1A5  18         			clc
         1E:D1A6             	!:
17348                        		__bfalse	.LL886
         1E:D1A6  90 7D      			bcc	.LL886
17349                        	
17350                        		.dbg	line,	"include\routines_NPC.c", 176; {
17351                        	
17352                        		.dbg	line,	"include\routines_NPC.c", 177; if(seconds + list_npc_reward[selected_npc - npc_start_index] > 59)
17353                        		__ld.um		_selected_npc
         1E:D1A8  AD D6 23   			lda	_selected_npc
         1E:D1AB  C2         			cly
17354                        		__sub.um	_npc_start_index
         1E:D1AC  38         			sec
         1E:D1AD  ED D3 23   			sbc	_npc_start_index
         1E:D1B0  B0 01      			bcs	!+
         1E:D1B2  88         			dey
         1E:D1B3             	!:
17355                        		__ld.uar	_list_npc_reward
         1E:D1B3  A8         			tay
         1E:D1B4  B9 E9 23   			lda	_list_npc_reward, y
         1E:D1B7  C2         			cly
17356                        		__add.um	_seconds
         1E:D1B8  18         			clc
         1E:D1B9  6D 34 23   			adc	_seconds
         1E:D1BC  90 01      			bcc	!+
         1E:D1BE  C8         			iny
         1E:D1BF             	!:
17357                        		__sgt_w.wi	59
         1E:D1BF  18         			clc			; Subtract integer+1 from Y:A.
         1E:D1C0  E9 3B      			sbc.l	#59
         1E:D1C2  98         			tya
         1E:D1C3  E9 00      			sbc.h	#59
         1E:D1C5  50 02      			bvc	!+
         1E:D1C7  49 80      			eor	#$80		; +ve if Y:A > integer (signed).
         1E:D1C9  49 80      	!:		eor	#$80
         1E:D1CB  0A         			asl	a
17358                        		__bfalse	.LL887
         1E:D1CC  90 25      			bcc	.LL887
17359                        	
17360                        		.dbg	line,	"include\routines_NPC.c", 178; {
17361                        	
17362                        		.dbg	line,	"include\routines_NPC.c", 179; minutes += 1;
17363                        		__add_st.umiq	1, _minutes
         1E:D1CE  EE 33 23   			inc	_minutes
17364                        	
17365                        		.dbg	line,	"include\routines_NPC.c", 181; seconds = seconds + list_npc_reward[selected_npc - npc_start_index] - 60;
17366                        		__ld.um		_selected_npc
         1E:D1D1  AD D6 23   			lda	_selected_npc
         1E:D1D4  C2         			cly
17367                        		__sub.um	_npc_start_index
         1E:D1D5  38         			sec
         1E:D1D6  ED D3 23   			sbc	_npc_start_index
         1E:D1D9  B0 01      			bcs	!+
         1E:D1DB  88         			dey
         1E:D1DC             	!:
17368                        		__ld.uar	_list_npc_reward
         1E:D1DC  A8         			tay
         1E:D1DD  B9 E9 23   			lda	_list_npc_reward, y
         1E:D1E0  C2         			cly
17369                        		__add.um	_seconds
         1E:D1E1  18         			clc
         1E:D1E2  6D 34 23   			adc	_seconds
         1E:D1E5  90 01      			bcc	!+
         1E:D1E7  C8         			iny
         1E:D1E8             	!:
17370                        		__sub.wi	60
         1E:D1E8  38         			sec
         1E:D1E9  E9 3C      			sbc.l	#60
         1E:D1EB  B0 01      			bcs	!+
         1E:D1ED  88         			dey
         1E:D1EE             	!:
17371                        		__st.umq	_seconds
         1E:D1EE  8D 34 23   			sta	_seconds
17372                        	
17373                        		.dbg	line,	"include\routines_NPC.c", 182; }
17374                        	
17375                        		.dbg	line,	"include\routines_NPC.c", 184; else
17376                        		__bra		.LL888
         1E:D1F1  80 17      			bra	.LL888
17377    1E:D1F3             	.LL887:
17378                        	
17379                        		.dbg	line,	"include\routines_NPC.c", 185; {
17380                        	
17381                        		.dbg	line,	"include\routines_NPC.c", 186; seconds += list_npc_reward[selected_npc - npc_start_index];
17382                        		__ld.um		_selected_npc
         1E:D1F3  AD D6 23   			lda	_selected_npc
         1E:D1F6  C2         			cly
17383                        		__sub.um	_npc_start_index
         1E:D1F7  38         			sec
         1E:D1F8  ED D3 23   			sbc	_npc_start_index
         1E:D1FB  B0 01      			bcs	!+
         1E:D1FD  88         			dey
         1E:D1FE             	!:
17384                        		__ld.uar	_list_npc_reward
         1E:D1FE  A8         			tay
         1E:D1FF  B9 E9 23   			lda	_list_npc_reward, y
         1E:D202  C2         			cly
17385                        		__add_st.umq	_seconds
         1E:D203  18         			clc
         1E:D204  6D 34 23   			adc	_seconds
         1E:D207  8D 34 23   			sta	_seconds
17386                        	
17387                        		.dbg	line,	"include\routines_NPC.c", 187; }
17388    1E:D20A             	.LL888:
17389                        	
17390                        		.dbg	line,	"include\routines_NPC.c", 189; display_TIME_LEVEL();
17391                        		__call		_display_TIME_LEVEL
         1E:D20A  20 09 FF   			call	_display_TIME_LEVEL
17392                        	
17393                        		.dbg	line,	"include\routines_NPC.c", 191; sgx_spr_hide();
17394                        		__call		_sgx_spr_hide
         1E:D20D  20 B9 E8   			call	_sgx_spr_hide
17395                        	
17396                        		.dbg	line,	"include\routines_NPC.c", 193; list_npc_state[selected_npc - npc_start_index] = STATE_FREE;
17397                        		__ld.um		_selected_npc
         1E:D210  AD D6 23   			lda	_selected_npc
         1E:D213  C2         			cly
17398                        		__sub.um	_npc_start_index
         1E:D214  38         			sec
         1E:D215  ED D3 23   			sbc	_npc_start_index
         1E:D218  B0 01      			bcs	!+
         1E:D21A  88         			dey
         1E:D21B             	!:
17399                        		__index.ur	_list_npc_state
         1E:D21B  48         			pha
17400                        		__st.uatiq	0, _list_npc_state
         1E:D21C  FA         			plx
         1E:D21D  9E E0 23   			stz	_list_npc_state, x
17401                        	
17402                        		.dbg	line,	"include\routines_NPC.c", 194; sequence_id = SEQUENCE_LEVEL;
17403                        		__st.umiq	2, _sequence_id
         1E:D220  A9 02      			lda.l	#2
         1E:D222  8D 14 23   			sta	_sequence_id
17404                        	
17405                        		.dbg	line,	"include\routines_NPC.c", 195; }
17406                        	
17407                        		.dbg	line,	"include\routines_NPC.c", 197; scroll_split(0,   0, 0,  0, BKG_ON | SPR_ON);
17408    1E:D225             	.LL886:
17409    1E:D225             	.LL885:
17410    1E:D225             	.LL883:
17411                        		__st.umiq	0, _al
         1E:D225  64 F8      			stz	_al
17412                        		__st.umiq	0, _ah
         1E:D227  64 F9      			stz	_ah
17413                        		__st.wmiq	0, _bx
         1E:D229  64 FA      			stz.l	_bx
         1E:D22B  64 FB      			stz.h	_bx
17414                        		__st.wmiq	0, _cx
         1E:D22D  64 FC      			stz.l	_cx
         1E:D22F  64 FD      			stz.h	_cx
17415                        		__st.umiq	192, _dl
         1E:D231  A9 C0      			lda.l	#192
         1E:D233  85 FE      			sta	_dl
17416                        		__call		_scroll_split.5
         1E:D235  20 81 FF   			call	_scroll_split.5
17417                        	
17418                        		.dbg	line,	"include\routines_NPC.c", 198; scroll_split(1,  48, 0, 48, BKG_ON | SPR_ON);
17419                        		__st.umiq	1, _al
         1E:D238  A9 01      			lda.l	#1
         1E:D23A  85 F8      			sta	_al
17420                        		__st.umiq	48, _ah
         1E:D23C  A9 30      			lda.l	#48
         1E:D23E  85 F9      			sta	_ah
17421                        		__st.wmiq	0, _bx
         1E:D240  64 FA      			stz.l	_bx
         1E:D242  64 FB      			stz.h	_bx
17422                        		__st.wmiq	48, _cx
         1E:D244  A9 30      			lda.l	#48
         1E:D246  85 FC      			sta.l	_cx
         1E:D248  64 FD      			stz.h	_cx
17423                        		__st.umiq	192, _dl
         1E:D24A  A9 C0      			lda.l	#192
         1E:D24C  85 FE      			sta	_dl
17424                        		__call		_scroll_split.5
         1E:D24E  20 81 FF   			call	_scroll_split.5
17425                        	
17426                        		.dbg	line,	"include\routines_NPC.c", 199; scroll_split(2,  80, 0, 80, BKG_ON | SPR_ON);
17427                        		__st.umiq	2, _al
         1E:D251  A9 02      			lda.l	#2
         1E:D253  85 F8      			sta	_al
17428                        		__st.umiq	80, _ah
         1E:D255  A9 50      			lda.l	#80
         1E:D257  85 F9      			sta	_ah
17429                        		__st.wmiq	0, _bx
         1E:D259  64 FA      			stz.l	_bx
         1E:D25B  64 FB      			stz.h	_bx
17430                        		__st.wmiq	80, _cx
         1E:D25D  A9 50      			lda.l	#80
         1E:D25F  85 FC      			sta.l	_cx
         1E:D261  64 FD      			stz.h	_cx
17431                        		__st.umiq	192, _dl
         1E:D263  A9 C0      			lda.l	#192
         1E:D265  85 FE      			sta	_dl
17432                        		__call		_scroll_split.5
         1E:D267  20 81 FF   			call	_scroll_split.5
17433                        	
17434                        		.dbg	line,	"include\routines_NPC.c", 200; }
17435                        	
17436                        		.dbg	line,	"include\routines_NPC.c", 202; sgx_satb_update();
17437    1E:D26A             	.LL881:
17438    1E:D26A             	.LL880:
17439    1E:D26A             	.LL878:
17440    1E:D26A             	.LL876:
17441    1E:D26A             	.LL874:
17442    1E:D26A             	.LL872:
17443    1E:D26A             	.LL870:
17444    1E:D26A             	.LL863:
17445    1E:D26A             	.LL861:
17446    1E:D26A             	.LL859:
17447    1E:D26A             	.LL857:
17448    1E:D26A             	.LL855:
17449    1E:D26A             	.LL853:
17450    1E:D26A             	.LL851:
17451    1E:D26A             	.LL849:
17452    1E:D26A             	.LL847:
17453    1E:D26A             	.LL845:
17454    1E:D26A             	.LL843:
17455    1E:D26A             	.LL841:
17456    1E:D26A             	.LL839:
17457                        		__call		_sgx_satb_update
         1E:D26A  20 FF FE   			call	_sgx_satb_update
17458                        	
17459                        		.dbg	line,	"include\routines_NPC.c", 203; }
17460    1E:D26D             	.LL837:
17461                        		__return	0
         1E:D26D  4C EF FF   			jmp	leave_proc
17462                        		.dbg	clear
17463                        		.endp
17464                        		.pceas
17465                        	
17466                        		.dbg	line,	"Black_Tiger.c", 27; #include "include/routines_SHOP.c"
17467                        		.dbg	line,	"include\routines_SHOP.c", 1; #include "huc.h"
17468                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 1; #ifndef _hucc_legacy_h
17469                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 2; #define _hucc_legacy_h
17470                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 4; /****************************************************************************
17471                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 5; ; ***************************************************************************
17472                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 6; ;
17473                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 7; ; huc.h
17474                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 8; ;
17475                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 9; ; HuCC wrapper file to include a default set of HuC-compatible functions.
17476                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 10; ;
17477                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 11; ; Copyright John Brandwood 2024.
17478                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 12; ;
17479                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 13; ; Distributed under the Boost Software License, Version 1.0.
17480                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
17481                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
17482                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 16; ;
17483                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 17; ; ***************************************************************************
17484                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 18; ; ***************************************************************************
17485                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 19; ;
17486                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 20; ; When the HuCC compiler is invoked with the "--legacy" option to compile old
17487                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 21; ; projects, then this "huc.h" file is automatically included.
17488                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 22; ;
17489                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 23; ; This file includes a set of the individual HuCC headers which correspond to
17490                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 24; ; HuC's built-in functions and MagicKit library.
17491                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 25; ;
17492                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 26; ; New HuCC projects should, preferably, include the specific headers that are
17493                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 27; ; needed, which will then allow them to replace parts of the standard library
17494                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 28; ; with newer functions, or they can just manually include this "huc.h" file.
17495                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 29; ;
17496                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 30; ; ***************************************************************************
17497                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 31; ; **************************************************************************/
17498                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 33; #include "hucc-systemcard.h"
17499                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 34; #include "hucc-baselib.h"
17500                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 35; #include "hucc-gfx.h"
17501                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 36; #include "hucc-old-scroll.h"
17502                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 37; #include "hucc-old-spr.h"
17503                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 38; #include "hucc-old-map.h"
17504                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 39; #include "hucc-old-line.h"
17505                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 41; #include <stdlib.h>
17506                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 42; #include <string.h>
17507                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 44; #endif // _hucc_legacy_h
17508                        		.dbg	line,	"include\routines_SHOP.c", 2; #include "hucc-scroll.h"
17509                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 1; #ifndef _hucc_scroll_h
17510                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 2; #define _hucc_scroll_h
17511                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 4; /****************************************************************************
17512                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 5; ; ***************************************************************************
17513                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 6; ;
17514                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 7; ; hucc-scroll.h
17515                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 8; ;
17516                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 9; ; Routines for a fast split-screen scrolling system.
17517                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 10; ;
17518                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 11; ; Copyright John Brandwood 2024.
17519                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 12; ;
17520                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 13; ; Distributed under the Boost Software License, Version 1.0.
17521                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
17522                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
17523                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 16; ;
17524                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 17; ; ***************************************************************************
17525                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 18; ; ***************************************************************************
17526                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 19; ;
17527                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 20; ; The maximum number of splits for each screen layer is set in your project's
17528                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 21; ; "hucc-config.inc" file, with the library having a limit of 128-per-layer.
17529                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 22; ;
17530                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 23; ; Your first active split must be defined to start at screen line 0, and then
17531                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 24; ; the rest of the active splits must be in increasing line order to match the
17532                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 25; ; way that the PC Engine displays the output image.
17533                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 26; ;
17534                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 27; ; You can have disabled splits interleaved with your active splits.
17535                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 28; ;
17536                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 29; ; Splits that are normally disabled can be used to create full screen effects
17537                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 30; ; such as bouncing the screen up and down by adding blank areas at the top or
17538                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 31; ; bottom of the screen, and then rapidly changing the height of those areas.
17539                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 32; ;
17540                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 33; ; ***************************************************************************
17541                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 34; ; **************************************************************************/
17542                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 36; // *************
17543                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 37; // VDC bits for display_flags ...
17544                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 38; // *************
17545                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 40; #ifndef BKG_OFF
17546                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 41; #define BKG_OFF 0x00
17547                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 42; #endif
17548                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 44; #ifndef SPR_OFF
17549                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 45; #define SPR_OFF 0x00
17550                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 46; #endif
17551                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 48; #ifndef BKG_ON
17552                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 49; #define BKG_ON 0x80
17553                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 50; #endif
17554                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 52; #ifndef SPR_ON
17555                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 53; #define SPR_ON 0x40
17556                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 54; #endif
17557                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 56; // *************
17558                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 57; // Functions in hucc-scroll.asm ...
17559                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 58; // *************
17560                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 60; #ifdef __HUCC__
17561                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 62; #asmdef	HUCC_USES_NEW_SCROLL 1
17562                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 64; extern void __fastcall scroll_split( unsigned char index<_al>, unsigned char screen_line<_ah>, unsigned int bat_x<_bx>, unsigned int bat_y<_cx>, unsigned char display_flags<_dl> );
17563                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 65; extern void __fastcall sgx_scroll_split( unsigned char index<_al>, unsigned char screen_line<_ah>, unsigned int bat_x<_bx>, unsigned int bat_y<_cx>, unsigned char display_flags<_dl> );
17564                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 67; extern void __fastcall disable_split( unsigned char index<acc> );
17565                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 68; extern void __fastcall sgx_disable_split( unsigned char index<acc> );
17566                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 70; extern void __fastcall __macro disable_all_splits( void );
17567                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 71; extern void __fastcall __macro sgx_disable_all_splits( void );
17568                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 73; #asm
17569                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 74; .macro	_disable_all_splits
17570                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 75; ldy	#HUCC_PCE_SPLITS - 1
17571                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 76; !loop:		tya
17572                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 77; call	_disable_split.1
17573                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 78; dey
17574                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 79; bpl	!loop-
17575                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 80; .endm
17576                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 82; .macro	_sgx_disable_all_splits
17577                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 83; ldy	#HUCC_SGX_SPLITS - 1
17578                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 84; !loop:		tya
17579                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 85; call	_sgx_disable_split.1
17580                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 86; dey
17581                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 87; bpl	!loop-
17582                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 88; .endm
17583                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 89; #endasm
17584                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 91; #endif // __HUCC__
17585                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 93; #endif // _hucc_scroll_h
17586                        		.dbg	line,	"include\routines_SHOP.c", 3; #include "hucc-chrmap.h"
17587                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 1; #ifndef _hucc_chrmap_h
17588                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 2; #define _hucc_chrmap_h
17589                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 4; /****************************************************************************
17590                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 5; ; ***************************************************************************
17591                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 6; ;
17592                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 7; ; hucc-chrmap.h
17593                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 8; ;
17594                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 9; ; A simple map system based on 8x8 characters (aka "tiles") in BAT format.
17595                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 10; ;
17596                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 11; ; Copyright John Brandwood 2025.
17597                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 12; ;
17598                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 13; ; Distributed under the Boost Software License, Version 1.0.
17599                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
17600                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
17601                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 16; ;
17602                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 17; ; ***************************************************************************
17603                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 18; ; ***************************************************************************
17604                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 19; ;
17605                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 20; ; The maximum X and Y size for chrmaps is 256 characters (2048 pixels).
17606                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 21; ;
17607                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 22; ; The maximum total size for a chrmap is 16KBytes, which allows for maps up
17608                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 23; ; to 256x32 tiles (2048x256 pixels).
17609                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 24; ;
17610                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 25; ; ***************************************************************************
17611                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 26; ; **************************************************************************/
17612                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 28; // *************
17613                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 29; // This code extends the blkmap library ...
17614                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 30; // *************
17615                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 32; #include "hucc-blkmap.h"
17616                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 34; // *************
17617                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 35; // Functions in chrmap.asm ...
17618                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 36; // *************
17619                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 38; #ifdef __HUCC__
17620                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 40; #asmdef	HUCC_USES_CHRMAP 1
17621                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 42; extern void __fastcall __nop set_chrmap( unsigned char __far *chrmap<vdc_map_bank:vdc_map_addr>, unsigned char tiles_w<vdc_map_line_w> );
17622                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 44; extern void __fastcall draw_bat( void );
17623                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 45; extern void __fastcall scroll_bat( void );
17624                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 47; extern void __fastcall blit_bat( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
17625                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 49; #ifdef _SGX
17626                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 51; extern void __fastcall __nop sgx_set_chrmap( unsigned char __far *chrmap<sgx_map_bank:sgx_map_addr>, unsigned char tiles_w<sgx_map_line_w> );
17627                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 53; extern void __fastcall sgx_draw_bat( void );
17628                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 54; extern void __fastcall sgx_scroll_bat( void );
17629                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 56; extern void __fastcall sgx_blit_bat( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
17630                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 58; #endif
17631                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 60; #endif // __HUCC__
17632                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 62; #endif // _hucc_chrmap_h
17633                        		.dbg	line,	"include\routines_SHOP.c", 4; #include "hucc-blkmap.h"
17634                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 1; #ifndef _hucc_blkmap_h
17635                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 2; #define _hucc_blkmap_h
17636                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 4; /****************************************************************************
17637                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 5; ; ***************************************************************************
17638                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 6; ;
17639                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 7; ; hucc-blkmap.h
17640                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 8; ;
17641                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 9; ; A map system based on 16x16 meta-tiles (aka "blocks", aka CHR/BLK/MAP).
17642                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 10; ;
17643                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 11; ; Copyright John Brandwood 2025.
17644                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 12; ;
17645                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 13; ; Distributed under the Boost Software License, Version 1.0.
17646                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
17647                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
17648                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 16; ;
17649                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 17; ; ***************************************************************************
17650                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 18; ; ***************************************************************************
17651                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 19; ;
17652                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 20; ; The maximum X and Y size for blkmaps is 128 blocks (2048 pixels).
17653                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 21; ;
17654                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 22; ; The maximum total size for a blkmap is 16KBytes, which allows for maps up
17655                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 23; ; to 128x128 blocks (2048x2048 pixels).
17656                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 24; ;
17657                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 25; ; Huge multi-screen blkmaps are also supported (optionally).
17658                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 26; ;
17659                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 27; ; The maximum X and Y for multi-screen maps is 128 screens (32768 pixels).
17660                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 28; ;
17661                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 29; ; The maximum total size for a multi-screen map is 8KBytes, which allows for
17662                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 30; ; a total of 1024 screens.
17663                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 31; ;
17664                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 32; ; ***************************************************************************
17665                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 33; ; **************************************************************************/
17666                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 35; // *************
17667                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 36; // Functions in blkmap.asm ...
17668                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 37; // *************
17669                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 39; #ifdef __HUCC__
17670                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 41; #asmdef	HUCC_USES_BLKMAP 1
17671                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 43; // Current top-left of drawn map in pixels.
17672                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 44; extern unsigned int   vdc_map_pxl_x;
17673                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 45; extern unsigned int   vdc_map_pxl_y;
17674                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 47; // Width and height to draw/scroll in characters (not tiles).
17675                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 48; extern unsigned char  vdc_map_draw_w;
17676                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 49; extern unsigned char  vdc_map_draw_h;
17677                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 51; // Width of map (or multi-screen BAT) in tiles.
17678                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 52; extern unsigned char  vdc_map_line_w;
17679                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 54; // Width of map in screens (if multi-screen map).
17680                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 55; extern unsigned char  vdc_map_scrn_w;
17681                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 57; // Extra information returned by get_map_block() and sgx_get_map_block(),
17682                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 58; // which are the collision flags and the mask/overlay sprite for the BLK.
17683                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 59; extern unsigned char  map_blk_flag;
17684                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 60; extern unsigned char  map_blk_mask;
17685                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 62; extern unsigned char  vdc_scr_bank;
17686                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 63; extern unsigned char *vdc_scr_addr;
17687                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 65; extern unsigned char  vdc_map_bank;
17688                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 66; extern unsigned char *vdc_map_addr;
17689                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 68; extern unsigned char  vdc_blk_bank;
17690                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 69; extern unsigned char *vdc_blk_addr;
17691                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 71; extern unsigned char  vdc_tbl_bank;
17692                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 72; extern unsigned char *vdc_tbl_addr;
17693                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 74; extern void __fastcall set_blocks( unsigned char __far *blk_def<vdc_blk_bank:vdc_blk_addr>, unsigned char __far *flg_def<vdc_tbl_bank:vdc_tbl_addr>, unsigned char number_of_blocks<_al> );
17694                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 75; extern void __fastcall __macro set_blkmap( unsigned char __far *blk_map<vdc_map_bank:vdc_map_addr>, unsigned char blocks_w<vdc_map_line_w> );
17695                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 76; extern void __fastcall __macro set_multimap( unsigned char __far *multi_map<vdc_scr_bank:vdc_scr_addr>, unsigned char screens_w<vdc_map_scrn_w> );
17696                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 78; extern void __fastcall draw_map( void );
17697                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 79; extern void __fastcall scroll_map( void );
17698                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 81; extern void __fastcall blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
17699                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 83; extern unsigned char __fastcall get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
17700                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 85; #asm
17701                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 86; .macro	_set_blkmap.2
17702                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 87; stz	vdc_scr_bank
17703                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 88; .endm
17704                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 90; .macro	_set_multimap.2
17705                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 91; lda	vdc_bat_width
17706                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 92; lsr	a
17707                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 93; sta	vdc_map_line_w
17708                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 94; .endm
17709                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 96; .macro	SCREEN
17710                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 97; db	(((\1) & $1FFF) | $6000) >> 8, bank(\1)
17711                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 98; db	(((\2) & $1FFF) | $4000) >> 8, bank(\2)
17712                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 99; db	(((\3) & $1FFF) | $6000) >> 8, bank(\3)
17713                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 100; dw	(\4)
17714                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 101; .endm
17715                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 102; #endasm
17716                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 104; #ifdef _SGX
17717                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 106; // Current top-left of drawn map in pixels.
17718                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 107; extern unsigned int   sgx_map_pxl_x;
17719                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 108; extern unsigned int   sgx_map_pxl_y;
17720                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 110; // Width and height to draw/scroll in characters (not tiles).
17721                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 111; extern unsigned char  sgx_map_draw_w;
17722                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 112; extern unsigned char  sgx_map_draw_h;
17723                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 114; // Width of map (or multi-screen BAT) in tiles.
17724                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 115; extern unsigned char  sgx_map_line_w;
17725                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 117; // Width of map in screens (if multi-screen map).
17726                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 118; extern unsigned char  sgx_map_scrn_w;
17727                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 120; extern unsigned char  sgx_scr_bank;
17728                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 121; extern unsigned char *sgx_scr_addr;
17729                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 123; extern unsigned char  sgx_map_bank;
17730                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 124; extern unsigned char *sgx_map_addr;
17731                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 126; extern unsigned char  sgx_blk_bank;
17732                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 127; extern unsigned char *sgx_blk_addr;
17733                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 129; extern unsigned char  sgx_tbl_bank;
17734                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 130; extern unsigned char *sgx_tbl_addr;
17735                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 132; extern void __fastcall sgx_set_blocks( unsigned char __far *blk_def<sgx_blk_bank:sgx_blk_addr>, unsigned char __far *flg_def<sgx_tbl_bank:sgx_tbl_addr>, unsigned char number_of_blocks<_al> );
17736                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 133; extern void __fastcall __macro sgx_set_blkmap( unsigned char __far *blk_map<sgx_map_bank:sgx_map_addr>, unsigned char blocks_w<sgx_map_line_w> );
17737                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 134; extern void __fastcall __macro sgx_set_multimap( unsigned char __far *multi_map<sgx_scr_bank:sgx_scr_addr>, unsigned char screens_w<sgx_map_scrn_w> );
17738                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 136; extern void __fastcall sgx_draw_map( void );
17739                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 137; extern void __fastcall sgx_scroll_map( void );
17740                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 139; extern void __fastcall sgx_blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
17741                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 141; extern unsigned char __fastcall sgx_get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
17742                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 143; #asm
17743                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 144; .macro	_sgx_set_blkmap.2
17744                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 145; stz	sgx_scr_bank
17745                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 146; .endm
17746                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 148; .macro	_sgx_set_multimap.2
17747                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 149; lda	sgx_bat_width
17748                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 150; lsr	a
17749                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 151; sta	sgx_map_line_w
17750                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 152; .endm
17751                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 153; #endasm
17752                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 155; #endif
17753                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 157; #endif // __HUCC__
17754                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 159; #endif // _hucc_blkmap_h
17755                        		.dbg	line,	"include\routines_SHOP.c", 12; void display_TIME_SHOP()
17756                        		.dbg	line,	"include\routines_SHOP.c", 13; {
17757                        	;***********************
17758                        	;***********************
17759                        	
17760                        		.hucc
17761    1E:DF3D             		.proc		_display_TIME_SHOP
17762                        		__enter		_display_TIME_SHOP
17763                        	
17764                        		.dbg	line,	"include\routines_SHOP.c", 14; put_number(minutes,1,1,3);
17765                        		__ld.um		_minutes
         1E:DF3D  AD 33 23   			lda	_minutes
         1E:DF40  C2         			cly
17766                        		__st.wmq	_bx
         1E:DF41  85 FA      			sta.l	_bx
         1E:DF43  84 FB      			sty.h	_bx
17767                        		__st.umiq	1, _cl
         1E:DF45  A9 01      			lda.l	#1
         1E:DF47  85 FC      			sta	_cl
17768                        		__st.umiq	1, _dil
         1E:DF49  A9 01      			lda.l	#1
         1E:DF4B  85 F0      			sta	_dil
17769                        		__st.umiq	3, _dih
         1E:DF4D  A9 03      			lda.l	#3
         1E:DF4F  85 F1      			sta	_dih
17770                        		__call		_put_number.4
         1E:DF51  20 6D FF   			call	_put_number.4
17771                        	
17772                        		.dbg	line,	"include\routines_SHOP.c", 16; if(seconds < 10)
17773                        		__ld.umq	_seconds
         1E:DF54  AD 34 23   			lda	_seconds
17774                        		__ult_b.uiq	10
         1E:DF57  C9 0A      			cmp	#10		; Subtract integer from A.
         1E:DF59  6A         			ror	a		; CC if A < integer.
         1E:DF5A  49 80      			eor	#$80
         1E:DF5C  2A         			rol	a
17775                        		__bfalse	.LL890
         1E:DF5D  90 2C      			bcc	.LL890
17776                        	
17777                        		.dbg	line,	"include\routines_SHOP.c", 17; {
17778                        	
17779                        		.dbg	line,	"include\routines_SHOP.c", 18; put_number(0,1,3,3);
17780                        		__st.wmiq	0, _bx
         1E:DF5F  64 FA      			stz.l	_bx
         1E:DF61  64 FB      			stz.h	_bx
17781                        		__st.umiq	1, _cl
         1E:DF63  A9 01      			lda.l	#1
         1E:DF65  85 FC      			sta	_cl
17782                        		__st.umiq	3, _dil
         1E:DF67  A9 03      			lda.l	#3
         1E:DF69  85 F0      			sta	_dil
17783                        		__st.umiq	3, _dih
         1E:DF6B  A9 03      			lda.l	#3
         1E:DF6D  85 F1      			sta	_dih
17784                        		__call		_put_number.4
         1E:DF6F  20 6D FF   			call	_put_number.4
17785                        	
17786                        		.dbg	line,	"include\routines_SHOP.c", 19; put_number(seconds,1,4,3);
17787                        		__ld.um		_seconds
         1E:DF72  AD 34 23   			lda	_seconds
         1E:DF75  C2         			cly
17788                        		__st.wmq	_bx
         1E:DF76  85 FA      			sta.l	_bx
         1E:DF78  84 FB      			sty.h	_bx
17789                        		__st.umiq	1, _cl
         1E:DF7A  A9 01      			lda.l	#1
         1E:DF7C  85 FC      			sta	_cl
17790                        		__st.umiq	4, _dil
         1E:DF7E  A9 04      			lda.l	#4
         1E:DF80  85 F0      			sta	_dil
17791                        		__st.umiq	3, _dih
         1E:DF82  A9 03      			lda.l	#3
         1E:DF84  85 F1      			sta	_dih
17792                        		__call		_put_number.4
         1E:DF86  20 6D FF   			call	_put_number.4
17793                        	
17794                        		.dbg	line,	"include\routines_SHOP.c", 20; }
17795                        	
17796                        		.dbg	line,	"include\routines_SHOP.c", 22; else
17797                        		__bra		.LL891
         1E:DF89  80 17      			bra	.LL891
17798    1E:DF8B             	.LL890:
17799                        	
17800                        		.dbg	line,	"include\routines_SHOP.c", 23; {
17801                        	
17802                        		.dbg	line,	"include\routines_SHOP.c", 24; put_number(seconds,2,3,3);
17803                        		__ld.um		_seconds
         1E:DF8B  AD 34 23   			lda	_seconds
         1E:DF8E  C2         			cly
17804                        		__st.wmq	_bx
         1E:DF8F  85 FA      			sta.l	_bx
         1E:DF91  84 FB      			sty.h	_bx
17805                        		__st.umiq	2, _cl
         1E:DF93  A9 02      			lda.l	#2
         1E:DF95  85 FC      			sta	_cl
17806                        		__st.umiq	3, _dil
         1E:DF97  A9 03      			lda.l	#3
         1E:DF99  85 F0      			sta	_dil
17807                        		__st.umiq	3, _dih
         1E:DF9B  A9 03      			lda.l	#3
         1E:DF9D  85 F1      			sta	_dih
17808                        		__call		_put_number.4
         1E:DF9F  20 6D FF   			call	_put_number.4
17809                        	
17810                        		.dbg	line,	"include\routines_SHOP.c", 25; }
17811    1E:DFA2             	.LL891:
17812                        	
17813                        		.dbg	line,	"include\routines_SHOP.c", 27; time_counter += 1;
17814                        		__add_st.umiq	1, _time_counter
         1E:DFA2  EE 35 23   			inc	_time_counter
17815                        	
17816                        		.dbg	line,	"include\routines_SHOP.c", 29; if(time_counter == 60)
17817                        		__ld.umq	_time_counter
         1E:DFA5  AD 35 23   			lda	_time_counter
17818                        		__equ_b.uiq	60
         1E:DFA8  C9 3C      			cmp	#60
         1E:DFAA  F0 01      			beq	!+
         1E:DFAC  18         			clc
         1E:DFAD             	!:
17819                        		__bfalse	.LL892
         1E:DFAD  90 30      			bcc	.LL892
17820                        	
17821                        		.dbg	line,	"include\routines_SHOP.c", 30; {
17822                        	
17823                        		.dbg	line,	"include\routines_SHOP.c", 31; time_counter = 0;
17824                        		__st.umiq	0, _time_counter
         1E:DFAF  9C 35 23   			stz	_time_counter
17825                        	
17826                        		.dbg	line,	"include\routines_SHOP.c", 33; if(seconds > 0)
17827                        		__ld.umq	_seconds
         1E:DFB2  AD 34 23   			lda	_seconds
17828                        		__ugt_b.uiq	0
         1E:DFB5  18         			clc			; Subtract integer+1 from A.
         1E:DFB6  E9 00      			sbc	#0		; CS if A > integer.
17829                        		__bfalse	.LL893
         1E:DFB8  90 05      			bcc	.LL893
17830                        	
17831                        		.dbg	line,	"include\routines_SHOP.c", 34; {
17832                        	
17833                        		.dbg	line,	"include\routines_SHOP.c", 35; seconds -= 1;
17834                        		__sub_st.umiq	1, _seconds
         1E:DFBA  CE 34 23   			dec	_seconds
17835                        	
17836                        		.dbg	line,	"include\routines_SHOP.c", 36; }
17837                        	
17838                        		.dbg	line,	"include\routines_SHOP.c", 38; else
17839                        		__bra		.LL894
         1E:DFBD  80 20      			bra	.LL894
17840    1E:DFBF             	.LL893:
17841                        	
17842                        		.dbg	line,	"include\routines_SHOP.c", 39; {
17843                        	
17844                        		.dbg	line,	"include\routines_SHOP.c", 40; if(minutes > 0)
17845                        		__ld.umq	_minutes
         1E:DFBF  AD 33 23   			lda	_minutes
17846                        		__ugt_b.uiq	0
         1E:DFC2  18         			clc			; Subtract integer+1 from A.
         1E:DFC3  E9 00      			sbc	#0		; CS if A > integer.
17847                        		__bfalse	.LL895
         1E:DFC5  90 0A      			bcc	.LL895
17848                        	
17849                        		.dbg	line,	"include\routines_SHOP.c", 41; {
17850                        	
17851                        		.dbg	line,	"include\routines_SHOP.c", 42; seconds = 59;
17852                        		__st.umiq	59, _seconds
         1E:DFC7  A9 3B      			lda.l	#59
         1E:DFC9  8D 34 23   			sta	_seconds
17853                        	
17854                        		.dbg	line,	"include\routines_SHOP.c", 43; minutes -= 1;
17855                        		__sub_st.umiq	1, _minutes
         1E:DFCC  CE 33 23   			dec	_minutes
17856                        	
17857                        		.dbg	line,	"include\routines_SHOP.c", 44; }
17858                        	
17859                        		.dbg	line,	"include\routines_SHOP.c", 46; else
17860                        		__bra		.LL896
         1E:DFCF  80 0E      			bra	.LL896
17861    1E:DFD1             	.LL895:
17862                        	
17863                        		.dbg	line,	"include\routines_SHOP.c", 47; {
17864                        	
17865                        		.dbg	line,	"include\routines_SHOP.c", 48; seconds = 0;
17866                        		__st.umiq	0, _seconds
         1E:DFD1  9C 34 23   			stz	_seconds
17867                        	
17868                        		.dbg	line,	"include\routines_SHOP.c", 49; minutes = 0;
17869                        		__st.umiq	0, _minutes
         1E:DFD4  9C 33 23   			stz	_minutes
17870                        	
17871                        		.dbg	line,	"include\routines_SHOP.c", 50; shop_counter = 0;    
17872                        		__st.umiq	0, _shop_counter
         1E:DFD7  9C FF 23   			stz	_shop_counter
17873                        	
17874                        		.dbg	line,	"include\routines_SHOP.c", 51; shop_phase = SHOP_PHASE_EXIT;
17875                        		__st.umiq	2, _shop_phase
         1E:DFDA  A9 02      			lda.l	#2
         1E:DFDC  8D FE 23   			sta	_shop_phase
17876                        	
17877                        		.dbg	line,	"include\routines_SHOP.c", 52; }
17878    1E:DFDF             	.LL896:
17879                        	
17880                        		.dbg	line,	"include\routines_SHOP.c", 53; }
17881    1E:DFDF             	.LL894:
17882                        	
17883                        		.dbg	line,	"include\routines_SHOP.c", 54; } 
17884                        	
17885                        		.dbg	line,	"include\routines_SHOP.c", 55; }
17886    1E:DFDF             	.LL892:
17887    1E:DFDF             	.LL889:
17888                        		__return	0
         1E:DFDF  4C EF FF   			jmp	leave_proc
17889                        		.dbg	clear
17890                        		.endp
17891                        		.pceas
17892                        	
17893                        		.dbg	line,	"include\routines_SHOP.c", 59; void joypad_BUTTONS_SHOP()
17894                        		.dbg	line,	"include\routines_SHOP.c", 60; {
17895                        	;***********************
17896                        	;***********************
17897                        	
17898                        		.hucc
17899    1E:C86D             		.proc		_joypad_BUTTONS_SHOP
17900                        		__enter		_joypad_BUTTONS_SHOP
17901                        	
17902                        		.dbg	line,	"include\routines_SHOP.c", 61; if(joytrg(JOYPAD_1) & JOY_RIGHT)
17903                        		__ld.uiq	0
         1E:C86D  62         			cla
17904                        		 _joytrg.1
         1E:C86E  AA         			tax
         1E:C86F  BD 2D 22   			lda	joytrg, x
         1E:C872  BC DD 22   			ldy	joy6trg, x
17905                        		__tand.wi	32
         1E:C875  29 20      			and	#32
         1E:C877  C9 01      	!:		cmp	#1
17906                        		__bfalse	.LL898
         1E:C879  90 59      			bcc	.LL898
17907                        	
17908                        		.dbg	line,	"include\routines_SHOP.c", 62; {   
17909                        	
17910                        		.dbg	line,	"include\routines_SHOP.c", 63; char max_index;
17911                        	
17912                        		.dbg	line,	"include\routines_SHOP.c", 64; 
17913                        	
17914                        		.dbg	line,	"include\routines_SHOP.c", 65; if(index_y == 0)
17915                        		__not.um	_index_y
         1E:C87B  AD FC 23   			lda	_index_y
         1E:C87E  18         			clc
         1E:C87F  D0 01      			bne	!+
         1E:C881  38         			sec
         1E:C882             	!:
17916                        		__bfalse	.LL899
         1E:C882  90 07      			bcc	.LL899
17917                        	
17918                        		.dbg	line,	"include\routines_SHOP.c", 66; {
17919                        	
17920                        		.dbg	line,	"include\routines_SHOP.c", 67; max_index = 4;
17921                        		__st.umiq	4, __joypad_BUTTONS_SHOP_end - 1  /* max_index */
         1E:C884  A9 04      			lda.l	#4
         1E:C886  8D 10 23   			sta	__joypad_BUTTONS_SHOP_end - 1
17922                        	
17923                        		.dbg	line,	"include\routines_SHOP.c", 68; }
17924                        	
17925                        		.dbg	line,	"include\routines_SHOP.c", 70; else
17926                        		__bra		.LL900
         1E:C889  80 05      			bra	.LL900
17927    1E:C88B             	.LL899:
17928                        	
17929                        		.dbg	line,	"include\routines_SHOP.c", 71; {
17930                        	
17931                        		.dbg	line,	"include\routines_SHOP.c", 72; max_index = 5;
17932                        		__st.umiq	5, __joypad_BUTTONS_SHOP_end - 1  /* max_index */
         1E:C88B  A9 05      			lda.l	#5
         1E:C88D  8D 10 23   			sta	__joypad_BUTTONS_SHOP_end - 1
17933                        	
17934                        		.dbg	line,	"include\routines_SHOP.c", 73; }
17935    1E:C890             	.LL900:
17936                        	
17937                        		.dbg	line,	"include\routines_SHOP.c", 75; if(index_x < max_index)
17938                        		__ld.umq	_index_x
         1E:C890  AD FB 23   			lda	_index_x
17939                        		__ult_b.umq	__joypad_BUTTONS_SHOP_end - 1  /* max_index */
         1E:C893  CD 10 23   			cmp	__joypad_BUTTONS_SHOP_end - 1		; Subtract memory from A.
         1E:C896  6A         			ror	a		; CC if A < memory.
         1E:C897  49 80      			eor	#$80
         1E:C899  2A         			rol	a
17940                        		__bfalse	.LL901
         1E:C89A  B0 03 4C EA			bcc	.LL901
         1E:C89E  CD          
17941                        	
17942                        		.dbg	line,	"include\routines_SHOP.c", 76; {
17943                        	
17944                        		.dbg	line,	"include\routines_SHOP.c", 77; index_x += 1;
17945                        		__add_st.umiq	1, _index_x
         1E:C89F  EE FB 23   			inc	_index_x
17946                        	
17947                        		.dbg	line,	"include\routines_SHOP.c", 78; item_index = (index_x + (index_y * 5));
17948                        		__ld.um		_index_y
         1E:C8A2  AD FC 23   			lda	_index_y
         1E:C8A5  C2         			cly
17949                        		__mul.wi	5
         1E:C8A6  85 00      			sta.l	__temp
         1E:C8A8  84 01      			sty.h	__temp
                             		__asl.wr
         1E:C8AA  0A         			asl	a
         1E:C8AB  42         			say
         1E:C8AC  2A         			rol	a
         1E:C8AD  42         			say
                             		__asl.wr
         1E:C8AE  0A         			asl	a
         1E:C8AF  42         			say
         1E:C8B0  2A         			rol	a
         1E:C8B1  42         			say
                             		__add.wm	__temp
         1E:C8B2  18         			clc
         1E:C8B3  65 00      			adc.l	__temp
         1E:C8B5  42         			say
         1E:C8B6  65 01      			adc.h	__temp
         1E:C8B8  42         			say
17950                        		__add.um	_index_x
         1E:C8B9  18         			clc
         1E:C8BA  6D FB 23   			adc	_index_x
         1E:C8BD  90 01      			bcc	!+
         1E:C8BF  C8         			iny
         1E:C8C0             	!:
17951                        		__st.umq	_item_index
         1E:C8C0  8D FD 23   			sta	_item_index
17952                        	
17953                        		.dbg	line,	"include\routines_SHOP.c", 80; spr_set(0);
17954                        		__ld.uiq	0
         1E:C8C3  62         			cla
17955                        		__call		_spr_set.1
         1E:C8C4  20 F1 E7   			call	_spr_set.1
17956                        	
17957                        		.dbg	line,	"include\routines_SHOP.c", 81; spr_x(TABLE_CURSOR_POS_X[item_index]);
17958                        		__ldx.umq	_item_index
         1E:C8C7  AE FD 23   			ldx	_item_index
17959                        		__ld.uax	_TABLE_CURSOR_POS_X
         1E:C8CA  BD 2C 63   			lda	_TABLE_CURSOR_POS_X, x
         1E:C8CD  C2         			cly
17960                        		__call		_spr_x.1
         1E:C8CE  20 1E E8   			call	_spr_x.1
17961                        	
17962                        		.dbg	line,	"include\routines_SHOP.c", 82; }
17963                        	
17964                        		.dbg	line,	"include\routines_SHOP.c", 83; }
17965    1E:C8D1             	.LL901	.alias		.LL902
17966                        	
17967                        		.dbg	line,	"include\routines_SHOP.c", 85; 
17968                        	
17969                        		.dbg	line,	"include\routines_SHOP.c", 86; else if(joytrg(JOYPAD_1) & JOY_LEFT)
17970                        		__bra		.LL902
         1E:C8D1  4C EA CD   			bra	.LL902
17971    1E:C8D4             	.LL898:
17972                        		__ld.uiq	0
         1E:C8D4  62         			cla
17973                        		 _joytrg.1
         1E:C8D5  AA         			tax
         1E:C8D6  BD 2D 22   			lda	joytrg, x
         1E:C8D9  BC DD 22   			ldy	joy6trg, x
17974                        		__tand.wi	128
         1E:C8DC  29 80      			and	#128
         1E:C8DE  C9 01      	!:		cmp	#1
17975                        		__bfalse	.LL903
         1E:C8E0  90 40      			bcc	.LL903
17976                        	
17977                        		.dbg	line,	"include\routines_SHOP.c", 87; {
17978                        	
17979                        		.dbg	line,	"include\routines_SHOP.c", 88; if(index_x > 0)
17980                        		__ld.umq	_index_x
         1E:C8E2  AD FB 23   			lda	_index_x
17981                        		__ugt_b.uiq	0
         1E:C8E5  18         			clc			; Subtract integer+1 from A.
         1E:C8E6  E9 00      			sbc	#0		; CS if A > integer.
17982                        		__bfalse	.LL904
         1E:C8E8  B0 03 4C EA			bcc	.LL904
         1E:C8EC  CD          
17983                        	
17984                        		.dbg	line,	"include\routines_SHOP.c", 89; {
17985                        	
17986                        		.dbg	line,	"include\routines_SHOP.c", 90; index_x -= 1;
17987                        		__sub_st.umiq	1, _index_x
         1E:C8ED  CE FB 23   			dec	_index_x
17988                        	
17989                        		.dbg	line,	"include\routines_SHOP.c", 91; item_index = (index_x + (index_y * 5));
17990                        		__ld.um		_index_y
         1E:C8F0  AD FC 23   			lda	_index_y
         1E:C8F3  C2         			cly
17991                        		__mul.wi	5
         1E:C8F4  85 00      			sta.l	__temp
         1E:C8F6  84 01      			sty.h	__temp
                             		__asl.wr
         1E:C8F8  0A         			asl	a
         1E:C8F9  42         			say
         1E:C8FA  2A         			rol	a
         1E:C8FB  42         			say
                             		__asl.wr
         1E:C8FC  0A         			asl	a
         1E:C8FD  42         			say
         1E:C8FE  2A         			rol	a
         1E:C8FF  42         			say
                             		__add.wm	__temp
         1E:C900  18         			clc
         1E:C901  65 00      			adc.l	__temp
         1E:C903  42         			say
         1E:C904  65 01      			adc.h	__temp
         1E:C906  42         			say
17992                        		__add.um	_index_x
         1E:C907  18         			clc
         1E:C908  6D FB 23   			adc	_index_x
         1E:C90B  90 01      			bcc	!+
         1E:C90D  C8         			iny
         1E:C90E             	!:
17993                        		__st.umq	_item_index
         1E:C90E  8D FD 23   			sta	_item_index
17994                        	
17995                        		.dbg	line,	"include\routines_SHOP.c", 93; spr_set(0);
17996                        		__ld.uiq	0
         1E:C911  62         			cla
17997                        		__call		_spr_set.1
         1E:C912  20 F1 E7   			call	_spr_set.1
17998                        	
17999                        		.dbg	line,	"include\routines_SHOP.c", 94; spr_x(TABLE_CURSOR_POS_X[item_index]);
18000                        		__ldx.umq	_item_index
         1E:C915  AE FD 23   			ldx	_item_index
18001                        		__ld.uax	_TABLE_CURSOR_POS_X
         1E:C918  BD 2C 63   			lda	_TABLE_CURSOR_POS_X, x
         1E:C91B  C2         			cly
18002                        		__call		_spr_x.1
         1E:C91C  20 1E E8   			call	_spr_x.1
18003                        	
18004                        		.dbg	line,	"include\routines_SHOP.c", 95; }
18005                        	
18006                        		.dbg	line,	"include\routines_SHOP.c", 96; }
18007    1E:C91F             	.LL904	.alias		.LL905
18008                        	
18009                        		.dbg	line,	"include\routines_SHOP.c", 99; else if(joytrg(JOYPAD_1) & JOY_UP)
18010                        		__bra		.LL905
         1E:C91F  4C EA CD   			bra	.LL905
18011    1E:C922             	.LL903:
18012                        		__ld.uiq	0
         1E:C922  62         			cla
18013                        		 _joytrg.1
         1E:C923  AA         			tax
         1E:C924  BD 2D 22   			lda	joytrg, x
         1E:C927  BC DD 22   			ldy	joy6trg, x
18014                        		__tand.wi	16
         1E:C92A  29 10      			and	#16
         1E:C92C  C9 01      	!:		cmp	#1
18015                        		__bfalse	.LL906
         1E:C92E  90 4A      			bcc	.LL906
18016                        	
18017                        		.dbg	line,	"include\routines_SHOP.c", 100; {
18018                        	
18019                        		.dbg	line,	"include\routines_SHOP.c", 101; if(index_y > 0)
18020                        		__ld.umq	_index_y
         1E:C930  AD FC 23   			lda	_index_y
18021                        		__ugt_b.uiq	0
         1E:C933  18         			clc			; Subtract integer+1 from A.
         1E:C934  E9 00      			sbc	#0		; CS if A > integer.
18022                        		__bfalse	.LL907
         1E:C936  B0 03 4C EA			bcc	.LL907
         1E:C93A  CD          
18023                        	
18024                        		.dbg	line,	"include\routines_SHOP.c", 102; {
18025                        	
18026                        		.dbg	line,	"include\routines_SHOP.c", 103; if(item_index != 10)
18027                        		__ld.umq	_item_index
         1E:C93B  AD FD 23   			lda	_item_index
18028                        		__neq_b.uiq	10
         1E:C93E  38         			sec
         1E:C93F  49 0A      			eor	#10
         1E:C941  D0 01      			bne	!+
         1E:C943  18         			clc
         1E:C944             	!:
18029                        		__bfalse	.LL908
         1E:C944  B0 03 4C EA			bcc	.LL908
         1E:C948  CD          
18030                        	
18031                        		.dbg	line,	"include\routines_SHOP.c", 104; {
18032                        	
18033                        		.dbg	line,	"include\routines_SHOP.c", 105; index_y -= 1;
18034                        		__sub_st.umiq	1, _index_y
         1E:C949  CE FC 23   			dec	_index_y
18035                        	
18036                        		.dbg	line,	"include\routines_SHOP.c", 106; item_index = (index_x + (index_y * 5));
18037                        		__ld.um		_index_y
         1E:C94C  AD FC 23   			lda	_index_y
         1E:C94F  C2         			cly
18038                        		__mul.wi	5
         1E:C950  85 00      			sta.l	__temp
         1E:C952  84 01      			sty.h	__temp
                             		__asl.wr
         1E:C954  0A         			asl	a
         1E:C955  42         			say
         1E:C956  2A         			rol	a
         1E:C957  42         			say
                             		__asl.wr
         1E:C958  0A         			asl	a
         1E:C959  42         			say
         1E:C95A  2A         			rol	a
         1E:C95B  42         			say
                             		__add.wm	__temp
         1E:C95C  18         			clc
         1E:C95D  65 00      			adc.l	__temp
         1E:C95F  42         			say
         1E:C960  65 01      			adc.h	__temp
         1E:C962  42         			say
18039                        		__add.um	_index_x
         1E:C963  18         			clc
         1E:C964  6D FB 23   			adc	_index_x
         1E:C967  90 01      			bcc	!+
         1E:C969  C8         			iny
         1E:C96A             	!:
18040                        		__st.umq	_item_index
         1E:C96A  8D FD 23   			sta	_item_index
18041                        	
18042                        		.dbg	line,	"include\routines_SHOP.c", 108; spr_set(0);
18043                        		__ld.uiq	0
         1E:C96D  62         			cla
18044                        		__call		_spr_set.1
         1E:C96E  20 F1 E7   			call	_spr_set.1
18045                        	
18046                        		.dbg	line,	"include\routines_SHOP.c", 109; spr_y(144);
18047                        		__ld.wi		144
         1E:C971  A9 90      			lda.l	#144
         1E:C973  C2         			cly
18048                        		__call		_spr_y.1
         1E:C974  20 2D E8   			call	_spr_y.1
18049                        	
18050                        		.dbg	line,	"include\routines_SHOP.c", 110; }
18051                        	
18052                        		.dbg	line,	"include\routines_SHOP.c", 111; }
18053    1E:C977             	.LL908	.alias		.LL909
18054                        	
18055                        		.dbg	line,	"include\routines_SHOP.c", 112; }
18056    1E:C977             	.LL907	.alias		.LL909
18057                        	
18058                        		.dbg	line,	"include\routines_SHOP.c", 115; else if(joytrg(JOYPAD_1) & JOY_DOWN)
18059                        		__bra		.LL909
         1E:C977  4C EA CD   			bra	.LL909
18060    1E:C97A             	.LL906:
18061                        		__ld.uiq	0
         1E:C97A  62         			cla
18062                        		 _joytrg.1
         1E:C97B  AA         			tax
         1E:C97C  BD 2D 22   			lda	joytrg, x
         1E:C97F  BC DD 22   			ldy	joy6trg, x
18063                        		__tand.wi	64
         1E:C982  29 40      			and	#64
         1E:C984  C9 01      	!:		cmp	#1
18064                        		__bfalse	.LL910
         1E:C986  90 3F      			bcc	.LL910
18065                        	
18066                        		.dbg	line,	"include\routines_SHOP.c", 116; {
18067                        	
18068                        		.dbg	line,	"include\routines_SHOP.c", 117; if(index_y < 1)
18069                        		__ld.umq	_index_y
         1E:C988  AD FC 23   			lda	_index_y
18070                        		__ult_b.uiq	1
         1E:C98B  C9 01      			cmp	#1		; Subtract integer from A.
         1E:C98D  6A         			ror	a		; CC if A < integer.
         1E:C98E  49 80      			eor	#$80
         1E:C990  2A         			rol	a
18071                        		__bfalse	.LL911
         1E:C991  B0 03 4C EA			bcc	.LL911
         1E:C995  CD          
18072                        	
18073                        		.dbg	line,	"include\routines_SHOP.c", 118; {
18074                        	
18075                        		.dbg	line,	"include\routines_SHOP.c", 119; index_y += 1;
18076                        		__add_st.umiq	1, _index_y
         1E:C996  EE FC 23   			inc	_index_y
18077                        	
18078                        		.dbg	line,	"include\routines_SHOP.c", 120; item_index = (index_x + (index_y * 5));
18079                        		__ld.um		_index_y
         1E:C999  AD FC 23   			lda	_index_y
         1E:C99C  C2         			cly
18080                        		__mul.wi	5
         1E:C99D  85 00      			sta.l	__temp
         1E:C99F  84 01      			sty.h	__temp
                             		__asl.wr
         1E:C9A1  0A         			asl	a
         1E:C9A2  42         			say
         1E:C9A3  2A         			rol	a
         1E:C9A4  42         			say
                             		__asl.wr
         1E:C9A5  0A         			asl	a
         1E:C9A6  42         			say
         1E:C9A7  2A         			rol	a
         1E:C9A8  42         			say
                             		__add.wm	__temp
         1E:C9A9  18         			clc
         1E:C9AA  65 00      			adc.l	__temp
         1E:C9AC  42         			say
         1E:C9AD  65 01      			adc.h	__temp
         1E:C9AF  42         			say
18081                        		__add.um	_index_x
         1E:C9B0  18         			clc
         1E:C9B1  6D FB 23   			adc	_index_x
         1E:C9B4  90 01      			bcc	!+
         1E:C9B6  C8         			iny
         1E:C9B7             	!:
18082                        		__st.umq	_item_index
         1E:C9B7  8D FD 23   			sta	_item_index
18083                        	
18084                        		.dbg	line,	"include\routines_SHOP.c", 122; spr_set(0);
18085                        		__ld.uiq	0
         1E:C9BA  62         			cla
18086                        		__call		_spr_set.1
         1E:C9BB  20 F1 E7   			call	_spr_set.1
18087                        	
18088                        		.dbg	line,	"include\routines_SHOP.c", 123; spr_y(168);
18089                        		__ld.wi		168
         1E:C9BE  A9 A8      			lda.l	#168
         1E:C9C0  C2         			cly
18090                        		__call		_spr_y.1
         1E:C9C1  20 2D E8   			call	_spr_y.1
18091                        	
18092                        		.dbg	line,	"include\routines_SHOP.c", 124; }
18093                        	
18094                        		.dbg	line,	"include\routines_SHOP.c", 125; }
18095    1E:C9C4             	.LL911	.alias		.LL912
18096                        	
18097                        		.dbg	line,	"include\routines_SHOP.c", 128; else if(joytrg(JOYPAD_1) & JOY_I)
18098                        		__bra		.LL912
         1E:C9C4  4C EA CD   			bra	.LL912
18099    1E:C9C7             	.LL910:
18100                        		__ld.uiq	0
         1E:C9C7  62         			cla
18101                        		 _joytrg.1
         1E:C9C8  AA         			tax
         1E:C9C9  BD 2D 22   			lda	joytrg, x
         1E:C9CC  BC DD 22   			ldy	joy6trg, x
18102                        		__tand.wi	1
         1E:C9CF  29 01      			and	#1
         1E:C9D1  C9 01      	!:		cmp	#1
18103                        		__bfalse	.LL913
         1E:C9D3  B0 03 4C EA			bcc	.LL913
         1E:C9D7  CD          
18104                        	
18105                        		.dbg	line,	"include\routines_SHOP.c", 129; {
18106                        	
18107                        		.dbg	line,	"include\routines_SHOP.c", 130; switch(item_index)
18108                        		__ld.umq	_item_index
         1E:C9D8  AD FD 23   			lda	_item_index
18109                        		__bra		.LL914
         1E:C9DB  4C C7 CD   			bra	.LL914
18110                        	
18111                        		.dbg	line,	"include\routines_SHOP.c", 131; {
18112                        	
18113                        		.dbg	line,	"include\routines_SHOP.c", 132; // WEAPON 2 //
18114                        	
18115                        		.dbg	line,	"include\routines_SHOP.c", 133; case 0:
18116    1E:C9DE             	.LL916:
18117                        		__case		0
18118                        	
18119                        		.dbg	line,	"include\routines_SHOP.c", 134; if(zenny_amount >= shop_prices[0])
18120                        		__ld.wm		_zenny_amount
         1E:C9DE  AD 61 26   			lda.l	_zenny_amount
         1E:C9E1  AC 62 26   			ldy.h	_zenny_amount
18121                        		__sge_w.wm	_shop_prices
         1E:C9E4  CD 65 26   			cmp.l	_shop_prices		; Subtract memory from Y:A.
         1E:C9E7  98         			tya
         1E:C9E8  ED 66 26   			sbc.h	_shop_prices
         1E:C9EB  50 02      			bvc	!+
         1E:C9ED  49 80      			eor	#$80		; +ve if Y:A >= memory (signed).
         1E:C9EF  49 80      	!:		eor	#$80
         1E:C9F1  0A         			asl	a
18122                        		__bfalse	.LL917
         1E:C9F2  B0 03 4C EA			bcc	.LL917
         1E:C9F6  CD          
18123                        	
18124                        		.dbg	line,	"include\routines_SHOP.c", 135; {
18125                        	
18126                        		.dbg	line,	"include\routines_SHOP.c", 136; if(weapon_level < 1)
18127                        		__ld.umq	_weapon_level
         1E:C9F7  AD 2A 23   			lda	_weapon_level
18128                        		__ult_b.uiq	1
         1E:C9FA  C9 01      			cmp	#1		; Subtract integer from A.
         1E:C9FC  6A         			ror	a		; CC if A < integer.
         1E:C9FD  49 80      			eor	#$80
         1E:C9FF  2A         			rol	a
18129                        		__bfalse	.LL918
         1E:CA00  B0 03 4C EA			bcc	.LL918
         1E:CA04  CD          
18130                        	
18131                        		.dbg	line,	"include\routines_SHOP.c", 137; {
18132                        	
18133                        		.dbg	line,	"include\routines_SHOP.c", 138; weapon_level = 1;
18134                        		__st.umiq	1, _weapon_level
         1E:CA05  A9 01      			lda.l	#1
         1E:CA07  8D 2A 23   			sta	_weapon_level
18135                        	
18136                        		.dbg	line,	"include\routines_SHOP.c", 139; load_vram( WEAPON_ICON_VRAM_ADR, tileset_WEAPON_2, SIZEOF(tileset_WEAPON_2) >> 1 );
18137                        		__st.wmiq	4256, _di
         1E:CA0A  A9 A0      			lda.l	#4256
         1E:CA0C  85 F0      			sta.l	_di
         1E:CA0E  A9 10      			lda.h	#4256
         1E:CA10  85 F1      			sta.h	_di
18138                        		__farptr	_tileset_WEAPON_2, _bp_bank, _bp
         1E:CA12  A9 60      			lda.l	#$6000 + ($1FFF & (_tileset_WEAPON_2))
         1E:CA14  85 EC      			sta.l	_bp
         1E:CA16  A9 74      			lda.h	#$6000 + ($1FFF & (_tileset_WEAPON_2))
         1E:CA18  85 ED      			sta.h	_bp
         1E:CA1A  A9 07      			lda	#bank(_tileset_WEAPON_2)
         1E:CA1C  85 02      			sta	_bp_bank
18139                        		__ld.wi		___sizeof__tileset_WEAPON_2
         1E:CA1E  A9 80      			lda.l	#___sizeof__tileset_WEAPON_2
         1E:CA20  A0 00      			ldy.h	#___sizeof__tileset_WEAPON_2
18140                        		__lsr.wi	1
         1E:CA22  42         			say
         1E:CA23  4A         			lsr	a
         1E:CA24  42         			say
         1E:CA25  6A         			ror	a
18141                        		__st.wmq	_ax
         1E:CA26  85 F8      			sta.l	_ax
         1E:CA28  84 F9      			sty.h	_ax
18142                        		 _load_vram.3
         1E:CA2A  82         			clx				; Offset to PCE VDC.
         1E:CA2B  20 F5 FE   			call	load_vram_x
18143                        	
18144                        		.dbg	line,	"include\routines_SHOP.c", 141; zenny_amount -= shop_prices[0];
18145                        		__ld.wm		_shop_prices
         1E:CA2E  AD 65 26   			lda.l	_shop_prices
         1E:CA31  AC 66 26   			ldy.h	_shop_prices
18146                        		__isub_st.wmq	_zenny_amount
         1E:CA34  38         			sec
         1E:CA35  49 FF      			eor	#$FF
         1E:CA37  6D 61 26   			adc.l	_zenny_amount
         1E:CA3A  8D 61 26   			sta.l	_zenny_amount
         1E:CA3D  98         			tya
         1E:CA3E  49 FF      			eor	#$FF
         1E:CA40  6D 62 26   			adc.h	_zenny_amount
         1E:CA43  8D 62 26   			sta.h	_zenny_amount
18147                        	
18148                        		.dbg	line,	"include\routines_SHOP.c", 142; display_ZENNY();
18149                        		__call		_display_ZENNY
         1E:CA46  20 3B FF   			call	_display_ZENNY
18150                        	
18151                        		.dbg	line,	"include\routines_SHOP.c", 143; }
18152                        	
18153                        		.dbg	line,	"include\routines_SHOP.c", 144; }
18154    1E:CA49             	.LL918	.alias		.LL915
18155                        	
18156                        		.dbg	line,	"include\routines_SHOP.c", 146; break;   
18157    1E:CA49             	.LL917	.alias		.LL915
18158                        		__bra		.LL915
         1E:CA49  4C EA CD   			bra	.LL915
18159                        	
18160                        		.dbg	line,	"include\routines_SHOP.c", 149; // WEAPON 4 //
18161                        	
18162                        		.dbg	line,	"include\routines_SHOP.c", 150; case 1:
18163    1E:CA4C             	.LL919:
18164                        		__case		1
18165                        	
18166                        		.dbg	line,	"include\routines_SHOP.c", 151; if(zenny_amount >= shop_prices[1])
18167                        		__ld.wm		_zenny_amount
         1E:CA4C  AD 61 26   			lda.l	_zenny_amount
         1E:CA4F  AC 62 26   			ldy.h	_zenny_amount
18168                        		__sge_w.wm	_shop_prices + 2
         1E:CA52  CD 67 26   			cmp.l	_shop_prices + 2		; Subtract memory from Y:A.
         1E:CA55  98         			tya
         1E:CA56  ED 68 26   			sbc.h	_shop_prices + 2
         1E:CA59  50 02      			bvc	!+
         1E:CA5B  49 80      			eor	#$80		; +ve if Y:A >= memory (signed).
         1E:CA5D  49 80      	!:		eor	#$80
         1E:CA5F  0A         			asl	a
18169                        		__bfalse	.LL920
         1E:CA60  B0 03 4C EA			bcc	.LL920
         1E:CA64  CD          
18170                        	
18171                        		.dbg	line,	"include\routines_SHOP.c", 152; {
18172                        	
18173                        		.dbg	line,	"include\routines_SHOP.c", 153; if(weapon_level < 2)
18174                        		__ld.umq	_weapon_level
         1E:CA65  AD 2A 23   			lda	_weapon_level
18175                        		__ult_b.uiq	2
         1E:CA68  C9 02      			cmp	#2		; Subtract integer from A.
         1E:CA6A  6A         			ror	a		; CC if A < integer.
         1E:CA6B  49 80      			eor	#$80
         1E:CA6D  2A         			rol	a
18176                        		__bfalse	.LL921
         1E:CA6E  B0 03 4C EA			bcc	.LL921
         1E:CA72  CD          
18177                        	
18178                        		.dbg	line,	"include\routines_SHOP.c", 154; {
18179                        	
18180                        		.dbg	line,	"include\routines_SHOP.c", 155; weapon_level = 2;
18181                        		__st.umiq	2, _weapon_level
         1E:CA73  A9 02      			lda.l	#2
         1E:CA75  8D 2A 23   			sta	_weapon_level
18182                        	
18183                        		.dbg	line,	"include\routines_SHOP.c", 156; load_vram( WEAPON_ICON_VRAM_ADR, tileset_WEAPON_4, SIZEOF(tileset_WEAPON_4) >> 1 );
18184                        		__st.wmiq	4256, _di
         1E:CA78  A9 A0      			lda.l	#4256
         1E:CA7A  85 F0      			sta.l	_di
         1E:CA7C  A9 10      			lda.h	#4256
         1E:CA7E  85 F1      			sta.h	_di
18185                        		__farptr	_tileset_WEAPON_4, _bp_bank, _bp
         1E:CA80  A9 E0      			lda.l	#$6000 + ($1FFF & (_tileset_WEAPON_4))
         1E:CA82  85 EC      			sta.l	_bp
         1E:CA84  A9 74      			lda.h	#$6000 + ($1FFF & (_tileset_WEAPON_4))
         1E:CA86  85 ED      			sta.h	_bp
         1E:CA88  A9 07      			lda	#bank(_tileset_WEAPON_4)
         1E:CA8A  85 02      			sta	_bp_bank
18186                        		__ld.wi		___sizeof__tileset_WEAPON_4
         1E:CA8C  A9 80      			lda.l	#___sizeof__tileset_WEAPON_4
         1E:CA8E  A0 00      			ldy.h	#___sizeof__tileset_WEAPON_4
18187                        		__lsr.wi	1
         1E:CA90  42         			say
         1E:CA91  4A         			lsr	a
         1E:CA92  42         			say
         1E:CA93  6A         			ror	a
18188                        		__st.wmq	_ax
         1E:CA94  85 F8      			sta.l	_ax
         1E:CA96  84 F9      			sty.h	_ax
18189                        		 _load_vram.3
         1E:CA98  82         			clx				; Offset to PCE VDC.
         1E:CA99  20 F5 FE   			call	load_vram_x
18190                        	
18191                        		.dbg	line,	"include\routines_SHOP.c", 158; zenny_amount -= shop_prices[1];
18192                        		__ld.wm		_shop_prices + 2
         1E:CA9C  AD 67 26   			lda.l	_shop_prices + 2
         1E:CA9F  AC 68 26   			ldy.h	_shop_prices + 2
18193                        		__isub_st.wmq	_zenny_amount
         1E:CAA2  38         			sec
         1E:CAA3  49 FF      			eor	#$FF
         1E:CAA5  6D 61 26   			adc.l	_zenny_amount
         1E:CAA8  8D 61 26   			sta.l	_zenny_amount
         1E:CAAB  98         			tya
         1E:CAAC  49 FF      			eor	#$FF
         1E:CAAE  6D 62 26   			adc.h	_zenny_amount
         1E:CAB1  8D 62 26   			sta.h	_zenny_amount
18194                        	
18195                        		.dbg	line,	"include\routines_SHOP.c", 159; display_ZENNY();
18196                        		__call		_display_ZENNY
         1E:CAB4  20 3B FF   			call	_display_ZENNY
18197                        	
18198                        		.dbg	line,	"include\routines_SHOP.c", 160; }
18199                        	
18200                        		.dbg	line,	"include\routines_SHOP.c", 161; }
18201    1E:CAB7             	.LL921	.alias		.LL915
18202                        	
18203                        		.dbg	line,	"include\routines_SHOP.c", 163; break; 
18204    1E:CAB7             	.LL920	.alias		.LL915
18205                        		__bra		.LL915
         1E:CAB7  4C EA CD   			bra	.LL915
18206                        	
18207                        		.dbg	line,	"include\routines_SHOP.c", 166; // WEAPON 5 //
18208                        	
18209                        		.dbg	line,	"include\routines_SHOP.c", 167; case 2:
18210    1E:CABA             	.LL922:
18211                        		__case		2
18212                        	
18213                        		.dbg	line,	"include\routines_SHOP.c", 168; if(zenny_amount >= shop_prices[2])
18214                        		__ld.wm		_zenny_amount
         1E:CABA  AD 61 26   			lda.l	_zenny_amount
         1E:CABD  AC 62 26   			ldy.h	_zenny_amount
18215                        		__sge_w.wm	_shop_prices + 4
         1E:CAC0  CD 69 26   			cmp.l	_shop_prices + 4		; Subtract memory from Y:A.
         1E:CAC3  98         			tya
         1E:CAC4  ED 6A 26   			sbc.h	_shop_prices + 4
         1E:CAC7  50 02      			bvc	!+
         1E:CAC9  49 80      			eor	#$80		; +ve if Y:A >= memory (signed).
         1E:CACB  49 80      	!:		eor	#$80
         1E:CACD  0A         			asl	a
18216                        		__bfalse	.LL923
         1E:CACE  B0 03 4C EA			bcc	.LL923
         1E:CAD2  CD          
18217                        	
18218                        		.dbg	line,	"include\routines_SHOP.c", 169; {
18219                        	
18220                        		.dbg	line,	"include\routines_SHOP.c", 170; if(weapon_level < 3)
18221                        		__ld.umq	_weapon_level
         1E:CAD3  AD 2A 23   			lda	_weapon_level
18222                        		__ult_b.uiq	3
         1E:CAD6  C9 03      			cmp	#3		; Subtract integer from A.
         1E:CAD8  6A         			ror	a		; CC if A < integer.
         1E:CAD9  49 80      			eor	#$80
         1E:CADB  2A         			rol	a
18223                        		__bfalse	.LL924
         1E:CADC  B0 03 4C EA			bcc	.LL924
         1E:CAE0  CD          
18224                        	
18225                        		.dbg	line,	"include\routines_SHOP.c", 171; {
18226                        	
18227                        		.dbg	line,	"include\routines_SHOP.c", 172; weapon_level = 3;
18228                        		__st.umiq	3, _weapon_level
         1E:CAE1  A9 03      			lda.l	#3
         1E:CAE3  8D 2A 23   			sta	_weapon_level
18229                        	
18230                        		.dbg	line,	"include\routines_SHOP.c", 173; load_vram( WEAPON_ICON_VRAM_ADR, tileset_WEAPON_5, SIZEOF(tileset_WEAPON_5) >> 1 );
18231                        		__st.wmiq	4256, _di
         1E:CAE6  A9 A0      			lda.l	#4256
         1E:CAE8  85 F0      			sta.l	_di
         1E:CAEA  A9 10      			lda.h	#4256
         1E:CAEC  85 F1      			sta.h	_di
18232                        		__farptr	_tileset_WEAPON_5, _bp_bank, _bp
         1E:CAEE  A9 60      			lda.l	#$6000 + ($1FFF & (_tileset_WEAPON_5))
         1E:CAF0  85 EC      			sta.l	_bp
         1E:CAF2  A9 75      			lda.h	#$6000 + ($1FFF & (_tileset_WEAPON_5))
         1E:CAF4  85 ED      			sta.h	_bp
         1E:CAF6  A9 07      			lda	#bank(_tileset_WEAPON_5)
         1E:CAF8  85 02      			sta	_bp_bank
18233                        		__ld.wi		___sizeof__tileset_WEAPON_5
         1E:CAFA  A9 80      			lda.l	#___sizeof__tileset_WEAPON_5
         1E:CAFC  A0 00      			ldy.h	#___sizeof__tileset_WEAPON_5
18234                        		__lsr.wi	1
         1E:CAFE  42         			say
         1E:CAFF  4A         			lsr	a
         1E:CB00  42         			say
         1E:CB01  6A         			ror	a
18235                        		__st.wmq	_ax
         1E:CB02  85 F8      			sta.l	_ax
         1E:CB04  84 F9      			sty.h	_ax
18236                        		 _load_vram.3
         1E:CB06  82         			clx				; Offset to PCE VDC.
         1E:CB07  20 F5 FE   			call	load_vram_x
18237                        	
18238                        		.dbg	line,	"include\routines_SHOP.c", 175; zenny_amount -= shop_prices[2];
18239                        		__ld.wm		_shop_prices + 4
         1E:CB0A  AD 69 26   			lda.l	_shop_prices + 4
         1E:CB0D  AC 6A 26   			ldy.h	_shop_prices + 4
18240                        		__isub_st.wmq	_zenny_amount
         1E:CB10  38         			sec
         1E:CB11  49 FF      			eor	#$FF
         1E:CB13  6D 61 26   			adc.l	_zenny_amount
         1E:CB16  8D 61 26   			sta.l	_zenny_amount
         1E:CB19  98         			tya
         1E:CB1A  49 FF      			eor	#$FF
         1E:CB1C  6D 62 26   			adc.h	_zenny_amount
         1E:CB1F  8D 62 26   			sta.h	_zenny_amount
18241                        	
18242                        		.dbg	line,	"include\routines_SHOP.c", 176; display_ZENNY();
18243                        		__call		_display_ZENNY
         1E:CB22  20 3B FF   			call	_display_ZENNY
18244                        	
18245                        		.dbg	line,	"include\routines_SHOP.c", 177; }
18246                        	
18247                        		.dbg	line,	"include\routines_SHOP.c", 178; }
18248    1E:CB25             	.LL924	.alias		.LL915
18249                        	
18250                        		.dbg	line,	"include\routines_SHOP.c", 180; break;   
18251    1E:CB25             	.LL923	.alias		.LL915
18252                        		__bra		.LL915
         1E:CB25  4C EA CD   			bra	.LL915
18253                        	
18254                        		.dbg	line,	"include\routines_SHOP.c", 183; // WEAPON 8 //
18255                        	
18256                        		.dbg	line,	"include\routines_SHOP.c", 184; case 3:
18257    1E:CB28             	.LL925:
18258                        		__case		3
18259                        	
18260                        		.dbg	line,	"include\routines_SHOP.c", 185; if(zenny_amount >= shop_prices[3])
18261                        		__ld.wm		_zenny_amount
         1E:CB28  AD 61 26   			lda.l	_zenny_amount
         1E:CB2B  AC 62 26   			ldy.h	_zenny_amount
18262                        		__sge_w.wm	_shop_prices + 6
         1E:CB2E  CD 6B 26   			cmp.l	_shop_prices + 6		; Subtract memory from Y:A.
         1E:CB31  98         			tya
         1E:CB32  ED 6C 26   			sbc.h	_shop_prices + 6
         1E:CB35  50 02      			bvc	!+
         1E:CB37  49 80      			eor	#$80		; +ve if Y:A >= memory (signed).
         1E:CB39  49 80      	!:		eor	#$80
         1E:CB3B  0A         			asl	a
18263                        		__bfalse	.LL926
         1E:CB3C  B0 03 4C EA			bcc	.LL926
         1E:CB40  CD          
18264                        	
18265                        		.dbg	line,	"include\routines_SHOP.c", 186; {
18266                        	
18267                        		.dbg	line,	"include\routines_SHOP.c", 187; if(weapon_level < 4)
18268                        		__ld.umq	_weapon_level
         1E:CB41  AD 2A 23   			lda	_weapon_level
18269                        		__ult_b.uiq	4
         1E:CB44  C9 04      			cmp	#4		; Subtract integer from A.
         1E:CB46  6A         			ror	a		; CC if A < integer.
         1E:CB47  49 80      			eor	#$80
         1E:CB49  2A         			rol	a
18270                        		__bfalse	.LL927
         1E:CB4A  B0 03 4C EA			bcc	.LL927
         1E:CB4E  CD          
18271                        	
18272                        		.dbg	line,	"include\routines_SHOP.c", 188; {
18273                        	
18274                        		.dbg	line,	"include\routines_SHOP.c", 189; weapon_level = 4;
18275                        		__st.umiq	4, _weapon_level
         1E:CB4F  A9 04      			lda.l	#4
         1E:CB51  8D 2A 23   			sta	_weapon_level
18276                        	
18277                        		.dbg	line,	"include\routines_SHOP.c", 190; load_vram( WEAPON_ICON_VRAM_ADR, tileset_WEAPON_8, SIZEOF(tileset_WEAPON_8) >> 1 );
18278                        		__st.wmiq	4256, _di
         1E:CB54  A9 A0      			lda.l	#4256
         1E:CB56  85 F0      			sta.l	_di
         1E:CB58  A9 10      			lda.h	#4256
         1E:CB5A  85 F1      			sta.h	_di
18279                        		__farptr	_tileset_WEAPON_8, _bp_bank, _bp
         1E:CB5C  A9 E0      			lda.l	#$6000 + ($1FFF & (_tileset_WEAPON_8))
         1E:CB5E  85 EC      			sta.l	_bp
         1E:CB60  A9 75      			lda.h	#$6000 + ($1FFF & (_tileset_WEAPON_8))
         1E:CB62  85 ED      			sta.h	_bp
         1E:CB64  A9 07      			lda	#bank(_tileset_WEAPON_8)
         1E:CB66  85 02      			sta	_bp_bank
18280                        		__ld.wi		___sizeof__tileset_WEAPON_8
         1E:CB68  A9 80      			lda.l	#___sizeof__tileset_WEAPON_8
         1E:CB6A  A0 00      			ldy.h	#___sizeof__tileset_WEAPON_8
18281                        		__lsr.wi	1
         1E:CB6C  42         			say
         1E:CB6D  4A         			lsr	a
         1E:CB6E  42         			say
         1E:CB6F  6A         			ror	a
18282                        		__st.wmq	_ax
         1E:CB70  85 F8      			sta.l	_ax
         1E:CB72  84 F9      			sty.h	_ax
18283                        		 _load_vram.3
         1E:CB74  82         			clx				; Offset to PCE VDC.
         1E:CB75  20 F5 FE   			call	load_vram_x
18284                        	
18285                        		.dbg	line,	"include\routines_SHOP.c", 192; zenny_amount -= shop_prices[3];
18286                        		__ld.wm		_shop_prices + 6
         1E:CB78  AD 6B 26   			lda.l	_shop_prices + 6
         1E:CB7B  AC 6C 26   			ldy.h	_shop_prices + 6
18287                        		__isub_st.wmq	_zenny_amount
         1E:CB7E  38         			sec
         1E:CB7F  49 FF      			eor	#$FF
         1E:CB81  6D 61 26   			adc.l	_zenny_amount
         1E:CB84  8D 61 26   			sta.l	_zenny_amount
         1E:CB87  98         			tya
         1E:CB88  49 FF      			eor	#$FF
         1E:CB8A  6D 62 26   			adc.h	_zenny_amount
         1E:CB8D  8D 62 26   			sta.h	_zenny_amount
18288                        	
18289                        		.dbg	line,	"include\routines_SHOP.c", 193; display_ZENNY();
18290                        		__call		_display_ZENNY
         1E:CB90  20 3B FF   			call	_display_ZENNY
18291                        	
18292                        		.dbg	line,	"include\routines_SHOP.c", 194; }
18293                        	
18294                        		.dbg	line,	"include\routines_SHOP.c", 195; }
18295    1E:CB93             	.LL927	.alias		.LL915
18296                        	
18297                        		.dbg	line,	"include\routines_SHOP.c", 197; break;  
18298    1E:CB93             	.LL926	.alias		.LL915
18299                        		__bra		.LL915
         1E:CB93  4C EA CD   			bra	.LL915
18300                        	
18301                        		.dbg	line,	"include\routines_SHOP.c", 200; // KEY //
18302                        	
18303                        		.dbg	line,	"include\routines_SHOP.c", 201; case 4:
18304    1E:CB96             	.LL928:
18305                        		__case		4
18306                        	
18307                        		.dbg	line,	"include\routines_SHOP.c", 202; if(zenny_amount >= shop_prices[4])
18308                        		__ld.wm		_zenny_amount
         1E:CB96  AD 61 26   			lda.l	_zenny_amount
         1E:CB99  AC 62 26   			ldy.h	_zenny_amount
18309                        		__sge_w.wm	_shop_prices + 8
         1E:CB9C  CD 6D 26   			cmp.l	_shop_prices + 8		; Subtract memory from Y:A.
         1E:CB9F  98         			tya
         1E:CBA0  ED 6E 26   			sbc.h	_shop_prices + 8
         1E:CBA3  50 02      			bvc	!+
         1E:CBA5  49 80      			eor	#$80		; +ve if Y:A >= memory (signed).
         1E:CBA7  49 80      	!:		eor	#$80
         1E:CBA9  0A         			asl	a
18310                        		__bfalse	.LL929
         1E:CBAA  B0 03 4C EA			bcc	.LL929
         1E:CBAE  CD          
18311                        	
18312                        		.dbg	line,	"include\routines_SHOP.c", 203; {
18313                        	
18314                        		.dbg	line,	"include\routines_SHOP.c", 204; key_amount += 1;
18315                        		__add_st.umiq	1, _key_amount
         1E:CBAF  EE 31 23   			inc	_key_amount
18316                        	
18317                        		.dbg	line,	"include\routines_SHOP.c", 206; zenny_amount -= shop_prices[4];
18318                        		__ld.wm		_shop_prices + 8
         1E:CBB2  AD 6D 26   			lda.l	_shop_prices + 8
         1E:CBB5  AC 6E 26   			ldy.h	_shop_prices + 8
18319                        		__isub_st.wmq	_zenny_amount
         1E:CBB8  38         			sec
         1E:CBB9  49 FF      			eor	#$FF
         1E:CBBB  6D 61 26   			adc.l	_zenny_amount
         1E:CBBE  8D 61 26   			sta.l	_zenny_amount
         1E:CBC1  98         			tya
         1E:CBC2  49 FF      			eor	#$FF
         1E:CBC4  6D 62 26   			adc.h	_zenny_amount
         1E:CBC7  8D 62 26   			sta.h	_zenny_amount
18320                        	
18321                        		.dbg	line,	"include\routines_SHOP.c", 207; display_KEY();
18322                        		__call		_display_KEY
         1E:CBCA  20 45 FF   			call	_display_KEY
18323                        	
18324                        		.dbg	line,	"include\routines_SHOP.c", 208; }
18325                        	
18326                        		.dbg	line,	"include\routines_SHOP.c", 210; break;   
18327    1E:CBCD             	.LL929	.alias		.LL915
18328                        		__bra		.LL915
         1E:CBCD  4C EA CD   			bra	.LL915
18329                        	
18330                        		.dbg	line,	"include\routines_SHOP.c", 213; // ARMOR 1 //
18331                        	
18332                        		.dbg	line,	"include\routines_SHOP.c", 214; case 5:
18333    1E:CBD0             	.LL930:
18334                        		__case		5
18335                        	
18336                        		.dbg	line,	"include\routines_SHOP.c", 215; if(zenny_amount >= shop_prices[5])
18337                        		__ld.wm		_zenny_amount
         1E:CBD0  AD 61 26   			lda.l	_zenny_amount
         1E:CBD3  AC 62 26   			ldy.h	_zenny_amount
18338                        		__sge_w.wm	_shop_prices + 10
         1E:CBD6  CD 6F 26   			cmp.l	_shop_prices + 10		; Subtract memory from Y:A.
         1E:CBD9  98         			tya
         1E:CBDA  ED 70 26   			sbc.h	_shop_prices + 10
         1E:CBDD  50 02      			bvc	!+
         1E:CBDF  49 80      			eor	#$80		; +ve if Y:A >= memory (signed).
         1E:CBE1  49 80      	!:		eor	#$80
         1E:CBE3  0A         			asl	a
18339                        		__bfalse	.LL931
         1E:CBE4  B0 03 4C EA			bcc	.LL931
         1E:CBE8  CD          
18340                        	
18341                        		.dbg	line,	"include\routines_SHOP.c", 216; {
18342                        	
18343                        		.dbg	line,	"include\routines_SHOP.c", 217; if(armor_level < 1)
18344                        		__ld.umq	_armor_level
         1E:CBE9  AD 29 23   			lda	_armor_level
18345                        		__ult_b.uiq	1
         1E:CBEC  C9 01      			cmp	#1		; Subtract integer from A.
         1E:CBEE  6A         			ror	a		; CC if A < integer.
         1E:CBEF  49 80      			eor	#$80
         1E:CBF1  2A         			rol	a
18346                        		__bfalse	.LL932
         1E:CBF2  B0 03 4C EA			bcc	.LL932
         1E:CBF6  CD          
18347                        	
18348                        		.dbg	line,	"include\routines_SHOP.c", 218; {
18349                        	
18350                        		.dbg	line,	"include\routines_SHOP.c", 219; armor_level = 1;
18351                        		__st.umiq	1, _armor_level
         1E:CBF7  A9 01      			lda.l	#1
         1E:CBF9  8D 29 23   			sta	_armor_level
18352                        	
18353                        		.dbg	line,	"include\routines_SHOP.c", 220; load_vram( ARMOR_VRAM_ADR, tileset_ARMOR_1, SIZEOF(tileset_ARMOR_1) >> 1 );
18354                        		__st.wmiq	4320, _di
         1E:CBFC  A9 E0      			lda.l	#4320
         1E:CBFE  85 F0      			sta.l	_di
         1E:CC00  A9 10      			lda.h	#4320
         1E:CC02  85 F1      			sta.h	_di
18355                        		__farptr	_tileset_ARMOR_1, _bp_bank, _bp
         1E:CC04  A9 E0      			lda.l	#$6000 + ($1FFF & (_tileset_ARMOR_1))
         1E:CC06  85 EC      			sta.l	_bp
         1E:CC08  A9 71      			lda.h	#$6000 + ($1FFF & (_tileset_ARMOR_1))
         1E:CC0A  85 ED      			sta.h	_bp
         1E:CC0C  A9 07      			lda	#bank(_tileset_ARMOR_1)
         1E:CC0E  85 02      			sta	_bp_bank
18356                        		__ld.wi		___sizeof__tileset_ARMOR_1
         1E:CC10  A9 80      			lda.l	#___sizeof__tileset_ARMOR_1
         1E:CC12  A0 00      			ldy.h	#___sizeof__tileset_ARMOR_1
18357                        		__lsr.wi	1
         1E:CC14  42         			say
         1E:CC15  4A         			lsr	a
         1E:CC16  42         			say
         1E:CC17  6A         			ror	a
18358                        		__st.wmq	_ax
         1E:CC18  85 F8      			sta.l	_ax
         1E:CC1A  84 F9      			sty.h	_ax
18359                        		 _load_vram.3
         1E:CC1C  82         			clx				; Offset to PCE VDC.
         1E:CC1D  20 F5 FE   			call	load_vram_x
18360                        	
18361                        		.dbg	line,	"include\routines_SHOP.c", 222; zenny_amount -= shop_prices[5];
18362                        		__ld.wm		_shop_prices + 10
         1E:CC20  AD 6F 26   			lda.l	_shop_prices + 10
         1E:CC23  AC 70 26   			ldy.h	_shop_prices + 10
18363                        		__isub_st.wmq	_zenny_amount
         1E:CC26  38         			sec
         1E:CC27  49 FF      			eor	#$FF
         1E:CC29  6D 61 26   			adc.l	_zenny_amount
         1E:CC2C  8D 61 26   			sta.l	_zenny_amount
         1E:CC2F  98         			tya
         1E:CC30  49 FF      			eor	#$FF
         1E:CC32  6D 62 26   			adc.h	_zenny_amount
         1E:CC35  8D 62 26   			sta.h	_zenny_amount
18364                        	
18365                        		.dbg	line,	"include\routines_SHOP.c", 223; display_ZENNY();
18366                        		__call		_display_ZENNY
         1E:CC38  20 3B FF   			call	_display_ZENNY
18367                        	
18368                        		.dbg	line,	"include\routines_SHOP.c", 224; }
18369                        	
18370                        		.dbg	line,	"include\routines_SHOP.c", 225; }
18371    1E:CC3B             	.LL932	.alias		.LL915
18372                        	
18373                        		.dbg	line,	"include\routines_SHOP.c", 227; break;   
18374    1E:CC3B             	.LL931	.alias		.LL915
18375                        		__bra		.LL915
         1E:CC3B  4C EA CD   			bra	.LL915
18376                        	
18377                        		.dbg	line,	"include\routines_SHOP.c", 230; // ARMOR 2 //
18378                        	
18379                        		.dbg	line,	"include\routines_SHOP.c", 231; case 6:
18380    1E:CC3E             	.LL933:
18381                        		__case		6
18382                        	
18383                        		.dbg	line,	"include\routines_SHOP.c", 232; if(zenny_amount >= shop_prices[6])
18384                        		__ld.wm		_zenny_amount
         1E:CC3E  AD 61 26   			lda.l	_zenny_amount
         1E:CC41  AC 62 26   			ldy.h	_zenny_amount
18385                        		__sge_w.wm	_shop_prices + 12
         1E:CC44  CD 71 26   			cmp.l	_shop_prices + 12		; Subtract memory from Y:A.
         1E:CC47  98         			tya
         1E:CC48  ED 72 26   			sbc.h	_shop_prices + 12
         1E:CC4B  50 02      			bvc	!+
         1E:CC4D  49 80      			eor	#$80		; +ve if Y:A >= memory (signed).
         1E:CC4F  49 80      	!:		eor	#$80
         1E:CC51  0A         			asl	a
18386                        		__bfalse	.LL934
         1E:CC52  B0 03 4C EA			bcc	.LL934
         1E:CC56  CD          
18387                        	
18388                        		.dbg	line,	"include\routines_SHOP.c", 233; {
18389                        	
18390                        		.dbg	line,	"include\routines_SHOP.c", 234; if(armor_level < 4)
18391                        		__ld.umq	_armor_level
         1E:CC57  AD 29 23   			lda	_armor_level
18392                        		__ult_b.uiq	4
         1E:CC5A  C9 04      			cmp	#4		; Subtract integer from A.
         1E:CC5C  6A         			ror	a		; CC if A < integer.
         1E:CC5D  49 80      			eor	#$80
         1E:CC5F  2A         			rol	a
18393                        		__bfalse	.LL935
         1E:CC60  B0 03 4C EA			bcc	.LL935
         1E:CC64  CD          
18394                        	
18395                        		.dbg	line,	"include\routines_SHOP.c", 235; {
18396                        	
18397                        		.dbg	line,	"include\routines_SHOP.c", 236; armor_level = 4;
18398                        		__st.umiq	4, _armor_level
         1E:CC65  A9 04      			lda.l	#4
         1E:CC67  8D 29 23   			sta	_armor_level
18399                        	
18400                        		.dbg	line,	"include\routines_SHOP.c", 237; load_vram( ARMOR_VRAM_ADR, tileset_ARMOR_2, SIZEOF(tileset_ARMOR_2) >> 1 );
18401                        		__st.wmiq	4320, _di
         1E:CC6A  A9 E0      			lda.l	#4320
         1E:CC6C  85 F0      			sta.l	_di
         1E:CC6E  A9 10      			lda.h	#4320
         1E:CC70  85 F1      			sta.h	_di
18402                        		__farptr	_tileset_ARMOR_2, _bp_bank, _bp
         1E:CC72  A9 60      			lda.l	#$6000 + ($1FFF & (_tileset_ARMOR_2))
         1E:CC74  85 EC      			sta.l	_bp
         1E:CC76  A9 72      			lda.h	#$6000 + ($1FFF & (_tileset_ARMOR_2))
         1E:CC78  85 ED      			sta.h	_bp
         1E:CC7A  A9 07      			lda	#bank(_tileset_ARMOR_2)
         1E:CC7C  85 02      			sta	_bp_bank
18403                        		__ld.wi		___sizeof__tileset_ARMOR_2
         1E:CC7E  A9 80      			lda.l	#___sizeof__tileset_ARMOR_2
         1E:CC80  A0 00      			ldy.h	#___sizeof__tileset_ARMOR_2
18404                        		__lsr.wi	1
         1E:CC82  42         			say
         1E:CC83  4A         			lsr	a
         1E:CC84  42         			say
         1E:CC85  6A         			ror	a
18405                        		__st.wmq	_ax
         1E:CC86  85 F8      			sta.l	_ax
         1E:CC88  84 F9      			sty.h	_ax
18406                        		 _load_vram.3
         1E:CC8A  82         			clx				; Offset to PCE VDC.
         1E:CC8B  20 F5 FE   			call	load_vram_x
18407                        	
18408                        		.dbg	line,	"include\routines_SHOP.c", 239; zenny_amount -= shop_prices[6];
18409                        		__ld.wm		_shop_prices + 12
         1E:CC8E  AD 71 26   			lda.l	_shop_prices + 12
         1E:CC91  AC 72 26   			ldy.h	_shop_prices + 12
18410                        		__isub_st.wmq	_zenny_amount
         1E:CC94  38         			sec
         1E:CC95  49 FF      			eor	#$FF
         1E:CC97  6D 61 26   			adc.l	_zenny_amount
         1E:CC9A  8D 61 26   			sta.l	_zenny_amount
         1E:CC9D  98         			tya
         1E:CC9E  49 FF      			eor	#$FF
         1E:CCA0  6D 62 26   			adc.h	_zenny_amount
         1E:CCA3  8D 62 26   			sta.h	_zenny_amount
18411                        	
18412                        		.dbg	line,	"include\routines_SHOP.c", 240; display_ZENNY();
18413                        		__call		_display_ZENNY
         1E:CCA6  20 3B FF   			call	_display_ZENNY
18414                        	
18415                        		.dbg	line,	"include\routines_SHOP.c", 241; }
18416                        	
18417                        		.dbg	line,	"include\routines_SHOP.c", 242; }
18418    1E:CCA9             	.LL935	.alias		.LL915
18419                        	
18420                        		.dbg	line,	"include\routines_SHOP.c", 244; break;    
18421    1E:CCA9             	.LL934	.alias		.LL915
18422                        		__bra		.LL915
         1E:CCA9  4C EA CD   			bra	.LL915
18423                        	
18424                        		.dbg	line,	"include\routines_SHOP.c", 247; // ARMOR 4 //
18425                        	
18426                        		.dbg	line,	"include\routines_SHOP.c", 248; case 7:
18427    1E:CCAC             	.LL936:
18428                        		__case		7
18429                        	
18430                        		.dbg	line,	"include\routines_SHOP.c", 249; if(zenny_amount >= shop_prices[7])
18431                        		__ld.wm		_zenny_amount
         1E:CCAC  AD 61 26   			lda.l	_zenny_amount
         1E:CCAF  AC 62 26   			ldy.h	_zenny_amount
18432                        		__sge_w.wm	_shop_prices + 14
         1E:CCB2  CD 73 26   			cmp.l	_shop_prices + 14		; Subtract memory from Y:A.
         1E:CCB5  98         			tya
         1E:CCB6  ED 74 26   			sbc.h	_shop_prices + 14
         1E:CCB9  50 02      			bvc	!+
         1E:CCBB  49 80      			eor	#$80		; +ve if Y:A >= memory (signed).
         1E:CCBD  49 80      	!:		eor	#$80
         1E:CCBF  0A         			asl	a
18433                        		__bfalse	.LL937
         1E:CCC0  B0 03 4C EA			bcc	.LL937
         1E:CCC4  CD          
18434                        	
18435                        		.dbg	line,	"include\routines_SHOP.c", 250; {
18436                        	
18437                        		.dbg	line,	"include\routines_SHOP.c", 251; if(armor_level < 5)
18438                        		__ld.umq	_armor_level
         1E:CCC5  AD 29 23   			lda	_armor_level
18439                        		__ult_b.uiq	5
         1E:CCC8  C9 05      			cmp	#5		; Subtract integer from A.
         1E:CCCA  6A         			ror	a		; CC if A < integer.
         1E:CCCB  49 80      			eor	#$80
         1E:CCCD  2A         			rol	a
18440                        		__bfalse	.LL938
         1E:CCCE  B0 03 4C EA			bcc	.LL938
         1E:CCD2  CD          
18441                        	
18442                        		.dbg	line,	"include\routines_SHOP.c", 252; {
18443                        	
18444                        		.dbg	line,	"include\routines_SHOP.c", 253; armor_level = 5;
18445                        		__st.umiq	5, _armor_level
         1E:CCD3  A9 05      			lda.l	#5
         1E:CCD5  8D 29 23   			sta	_armor_level
18446                        	
18447                        		.dbg	line,	"include\routines_SHOP.c", 254; load_vram( ARMOR_VRAM_ADR, tileset_ARMOR_4, SIZEOF(tileset_ARMOR_4) >> 1 );
18448                        		__st.wmiq	4320, _di
         1E:CCD8  A9 E0      			lda.l	#4320
         1E:CCDA  85 F0      			sta.l	_di
         1E:CCDC  A9 10      			lda.h	#4320
         1E:CCDE  85 F1      			sta.h	_di
18449                        		__farptr	_tileset_ARMOR_4, _bp_bank, _bp
         1E:CCE0  A9 E0      			lda.l	#$6000 + ($1FFF & (_tileset_ARMOR_4))
         1E:CCE2  85 EC      			sta.l	_bp
         1E:CCE4  A9 72      			lda.h	#$6000 + ($1FFF & (_tileset_ARMOR_4))
         1E:CCE6  85 ED      			sta.h	_bp
         1E:CCE8  A9 07      			lda	#bank(_tileset_ARMOR_4)
         1E:CCEA  85 02      			sta	_bp_bank
18450                        		__ld.wi		___sizeof__tileset_ARMOR_4
         1E:CCEC  A9 80      			lda.l	#___sizeof__tileset_ARMOR_4
         1E:CCEE  A0 00      			ldy.h	#___sizeof__tileset_ARMOR_4
18451                        		__lsr.wi	1
         1E:CCF0  42         			say
         1E:CCF1  4A         			lsr	a
         1E:CCF2  42         			say
         1E:CCF3  6A         			ror	a
18452                        		__st.wmq	_ax
         1E:CCF4  85 F8      			sta.l	_ax
         1E:CCF6  84 F9      			sty.h	_ax
18453                        		 _load_vram.3
         1E:CCF8  82         			clx				; Offset to PCE VDC.
         1E:CCF9  20 F5 FE   			call	load_vram_x
18454                        	
18455                        		.dbg	line,	"include\routines_SHOP.c", 256; zenny_amount -= shop_prices[7];
18456                        		__ld.wm		_shop_prices + 14
         1E:CCFC  AD 73 26   			lda.l	_shop_prices + 14
         1E:CCFF  AC 74 26   			ldy.h	_shop_prices + 14
18457                        		__isub_st.wmq	_zenny_amount
         1E:CD02  38         			sec
         1E:CD03  49 FF      			eor	#$FF
         1E:CD05  6D 61 26   			adc.l	_zenny_amount
         1E:CD08  8D 61 26   			sta.l	_zenny_amount
         1E:CD0B  98         			tya
         1E:CD0C  49 FF      			eor	#$FF
         1E:CD0E  6D 62 26   			adc.h	_zenny_amount
         1E:CD11  8D 62 26   			sta.h	_zenny_amount
18458                        	
18459                        		.dbg	line,	"include\routines_SHOP.c", 257; display_ZENNY();
18460                        		__call		_display_ZENNY
         1E:CD14  20 3B FF   			call	_display_ZENNY
18461                        	
18462                        		.dbg	line,	"include\routines_SHOP.c", 258; }
18463                        	
18464                        		.dbg	line,	"include\routines_SHOP.c", 259; }
18465    1E:CD17             	.LL938	.alias		.LL915
18466                        	
18467                        		.dbg	line,	"include\routines_SHOP.c", 261; break;   
18468    1E:CD17             	.LL937	.alias		.LL915
18469                        		__bra		.LL915
         1E:CD17  4C EA CD   			bra	.LL915
18470                        	
18471                        		.dbg	line,	"include\routines_SHOP.c", 264; // ARMOR 8 //
18472                        	
18473                        		.dbg	line,	"include\routines_SHOP.c", 265; case 8:
18474    1E:CD1A             	.LL939:
18475                        		__case		8
18476                        	
18477                        		.dbg	line,	"include\routines_SHOP.c", 266; if(zenny_amount >= shop_prices[8])
18478                        		__ld.wm		_zenny_amount
         1E:CD1A  AD 61 26   			lda.l	_zenny_amount
         1E:CD1D  AC 62 26   			ldy.h	_zenny_amount
18479                        		__sge_w.wm	_shop_prices + 16
         1E:CD20  CD 75 26   			cmp.l	_shop_prices + 16		; Subtract memory from Y:A.
         1E:CD23  98         			tya
         1E:CD24  ED 76 26   			sbc.h	_shop_prices + 16
         1E:CD27  50 02      			bvc	!+
         1E:CD29  49 80      			eor	#$80		; +ve if Y:A >= memory (signed).
         1E:CD2B  49 80      	!:		eor	#$80
         1E:CD2D  0A         			asl	a
18480                        		__bfalse	.LL940
         1E:CD2E  B0 03 4C EA			bcc	.LL940
         1E:CD32  CD          
18481                        	
18482                        		.dbg	line,	"include\routines_SHOP.c", 267; {
18483                        	
18484                        		.dbg	line,	"include\routines_SHOP.c", 268; if(armor_level < 8)
18485                        		__ld.umq	_armor_level
         1E:CD33  AD 29 23   			lda	_armor_level
18486                        		__ult_b.uiq	8
         1E:CD36  C9 08      			cmp	#8		; Subtract integer from A.
         1E:CD38  6A         			ror	a		; CC if A < integer.
         1E:CD39  49 80      			eor	#$80
         1E:CD3B  2A         			rol	a
18487                        		__bfalse	.LL941
         1E:CD3C  B0 03 4C EA			bcc	.LL941
         1E:CD40  CD          
18488                        	
18489                        		.dbg	line,	"include\routines_SHOP.c", 269; {
18490                        	
18491                        		.dbg	line,	"include\routines_SHOP.c", 270; armor_level = 8;
18492                        		__st.umiq	8, _armor_level
         1E:CD41  A9 08      			lda.l	#8
         1E:CD43  8D 29 23   			sta	_armor_level
18493                        	
18494                        		.dbg	line,	"include\routines_SHOP.c", 271; load_vram( ARMOR_VRAM_ADR, tileset_ARMOR_8, SIZEOF(tileset_ARMOR_8) >> 1 );
18495                        		__st.wmiq	4320, _di
         1E:CD46  A9 E0      			lda.l	#4320
         1E:CD48  85 F0      			sta.l	_di
         1E:CD4A  A9 10      			lda.h	#4320
         1E:CD4C  85 F1      			sta.h	_di
18496                        		__farptr	_tileset_ARMOR_8, _bp_bank, _bp
         1E:CD4E  A9 60      			lda.l	#$6000 + ($1FFF & (_tileset_ARMOR_8))
         1E:CD50  85 EC      			sta.l	_bp
         1E:CD52  A9 73      			lda.h	#$6000 + ($1FFF & (_tileset_ARMOR_8))
         1E:CD54  85 ED      			sta.h	_bp
         1E:CD56  A9 07      			lda	#bank(_tileset_ARMOR_8)
         1E:CD58  85 02      			sta	_bp_bank
18497                        		__ld.wi		___sizeof__tileset_ARMOR_8
         1E:CD5A  A9 80      			lda.l	#___sizeof__tileset_ARMOR_8
         1E:CD5C  A0 00      			ldy.h	#___sizeof__tileset_ARMOR_8
18498                        		__lsr.wi	1
         1E:CD5E  42         			say
         1E:CD5F  4A         			lsr	a
         1E:CD60  42         			say
         1E:CD61  6A         			ror	a
18499                        		__st.wmq	_ax
         1E:CD62  85 F8      			sta.l	_ax
         1E:CD64  84 F9      			sty.h	_ax
18500                        		 _load_vram.3
         1E:CD66  82         			clx				; Offset to PCE VDC.
         1E:CD67  20 F5 FE   			call	load_vram_x
18501                        	
18502                        		.dbg	line,	"include\routines_SHOP.c", 273; zenny_amount -= shop_prices[8];
18503                        		__ld.wm		_shop_prices + 16
         1E:CD6A  AD 75 26   			lda.l	_shop_prices + 16
         1E:CD6D  AC 76 26   			ldy.h	_shop_prices + 16
18504                        		__isub_st.wmq	_zenny_amount
         1E:CD70  38         			sec
         1E:CD71  49 FF      			eor	#$FF
         1E:CD73  6D 61 26   			adc.l	_zenny_amount
         1E:CD76  8D 61 26   			sta.l	_zenny_amount
         1E:CD79  98         			tya
         1E:CD7A  49 FF      			eor	#$FF
         1E:CD7C  6D 62 26   			adc.h	_zenny_amount
         1E:CD7F  8D 62 26   			sta.h	_zenny_amount
18505                        	
18506                        		.dbg	line,	"include\routines_SHOP.c", 274; display_ZENNY();
18507                        		__call		_display_ZENNY
         1E:CD82  20 3B FF   			call	_display_ZENNY
18508                        	
18509                        		.dbg	line,	"include\routines_SHOP.c", 275; }
18510                        	
18511                        		.dbg	line,	"include\routines_SHOP.c", 276; }
18512    1E:CD85             	.LL941	.alias		.LL915
18513                        	
18514                        		.dbg	line,	"include\routines_SHOP.c", 278; break;   
18515    1E:CD85             	.LL940	.alias		.LL915
18516                        		__bra		.LL915
         1E:CD85  80 63      			bra	.LL915
18517                        	
18518                        		.dbg	line,	"include\routines_SHOP.c", 281; // POTION //
18519                        	
18520                        		.dbg	line,	"include\routines_SHOP.c", 282; case 9:
18521    1E:CD87             	.LL942:
18522                        		__case		9
18523                        	
18524                        		.dbg	line,	"include\routines_SHOP.c", 283; if(zenny_amount >= shop_prices[9])
18525                        		__ld.wm		_zenny_amount
         1E:CD87  AD 61 26   			lda.l	_zenny_amount
         1E:CD8A  AC 62 26   			ldy.h	_zenny_amount
18526                        		__sge_w.wm	_shop_prices + 18
         1E:CD8D  CD 77 26   			cmp.l	_shop_prices + 18		; Subtract memory from Y:A.
         1E:CD90  98         			tya
         1E:CD91  ED 78 26   			sbc.h	_shop_prices + 18
         1E:CD94  50 02      			bvc	!+
         1E:CD96  49 80      			eor	#$80		; +ve if Y:A >= memory (signed).
         1E:CD98  49 80      	!:		eor	#$80
         1E:CD9A  0A         			asl	a
18527                        		__bfalse	.LL943
         1E:CD9B  90 4D      			bcc	.LL943
18528                        	
18529                        		.dbg	line,	"include\routines_SHOP.c", 284; {
18530                        	
18531                        		.dbg	line,	"include\routines_SHOP.c", 285; potion_amount += 1;
18532                        		__add_st.umiq	1, _potion_amount
         1E:CD9D  EE 32 23   			inc	_potion_amount
18533                        	
18534                        		.dbg	line,	"include\routines_SHOP.c", 287; zenny_amount -= shop_prices[9];
18535                        		__ld.wm		_shop_prices + 18
         1E:CDA0  AD 77 26   			lda.l	_shop_prices + 18
         1E:CDA3  AC 78 26   			ldy.h	_shop_prices + 18
18536                        		__isub_st.wmq	_zenny_amount
         1E:CDA6  38         			sec
         1E:CDA7  49 FF      			eor	#$FF
         1E:CDA9  6D 61 26   			adc.l	_zenny_amount
         1E:CDAC  8D 61 26   			sta.l	_zenny_amount
         1E:CDAF  98         			tya
         1E:CDB0  49 FF      			eor	#$FF
         1E:CDB2  6D 62 26   			adc.h	_zenny_amount
         1E:CDB5  8D 62 26   			sta.h	_zenny_amount
18537                        	
18538                        		.dbg	line,	"include\routines_SHOP.c", 288; display_POTION();
18539                        		__call		_display_POTION
         1E:CDB8  20 EB FE   			call	_display_POTION
18540                        	
18541                        		.dbg	line,	"include\routines_SHOP.c", 289; }
18542                        	
18543                        		.dbg	line,	"include\routines_SHOP.c", 291; break;   
18544    1E:CDBB             	.LL943	.alias		.LL915
18545                        		__bra		.LL915
         1E:CDBB  80 2D      			bra	.LL915
18546                        	
18547                        		.dbg	line,	"include\routines_SHOP.c", 294; // EXIT //
18548                        	
18549                        		.dbg	line,	"include\routines_SHOP.c", 295; case 10:
18550    1E:CDBD             	.LL944:
18551                        		__case		10
18552                        	
18553                        		.dbg	line,	"include\routines_SHOP.c", 296; shop_counter = 0;    
18554                        		__st.umiq	0, _shop_counter
         1E:CDBD  9C FF 23   			stz	_shop_counter
18555                        	
18556                        		.dbg	line,	"include\routines_SHOP.c", 297; shop_phase = SHOP_PHASE_EXIT;
18557                        		__st.umiq	2, _shop_phase
         1E:CDC0  A9 02      			lda.l	#2
         1E:CDC2  8D FE 23   			sta	_shop_phase
18558                        	
18559                        		.dbg	line,	"include\routines_SHOP.c", 299; break;                  
18560                        		__bra		.LL915
         1E:CDC5  80 23      			bra	.LL915
18561                        	
18562                        		.dbg	line,	"include\routines_SHOP.c", 300; }
18563    1E:CDC7             	.LL914:
18564                        		__switch_r.ur	0, 10
         1E:CDC7  C9 0B      			cmp	#(10 - 0) + 1
         1E:CDC9  90 02      			bcc	!found+
         1E:CDCB  A9 0B      	!default:	lda	#(10 - 0) + 1
         1E:CDCD  0A         	!found:		asl	a
         1E:CDCE  AA         			tax
         1E:CDCF  7C D2 CD   			jmp	[!table+, x]
18565                        	
18566    1E:CDD2  DE C9      	!table:		dw	.LL916, .LL919, .LL922, .LL925, .LL928, .LL930, .LL933, .LL936
         1E:CDD4  4C CA       
         1E:CDD6  BA CA       
         1E:CDD8  28 CB       
         1E:CDDA  96 CB       
         1E:CDDC  D0 CB       
         1E:CDDE  3E CC       
         1E:CDE0  AC CC       
18567    1E:CDE2  1A CD      			dw	.LL939, .LL942, .LL944
         1E:CDE4  87 CD       
         1E:CDE6  BD CD       
18568    1E:CDE8  EA CD      			dw	.LL915
18569    1E:CDEA             	.LL915:
18570                        	
18571                        		.dbg	line,	"include\routines_SHOP.c", 301; }
18572                        	
18573                        		.dbg	line,	"include\routines_SHOP.c", 302; }
18574    1E:CDEA             	.LL913:
18575    1E:CDEA             	.LL912:
18576    1E:CDEA             	.LL909:
18577    1E:CDEA             	.LL905:
18578    1E:CDEA             	.LL902:
18579    1E:CDEA             	.LL897:
18580                        		__return	0
         1E:CDEA  4C EF FF   			jmp	leave_proc
18581                        		.dbg	clear
18582                        		.endp
18583               2310     		.bss
18584    F8:2310             			ds	1
18585    F8:2311             	__joypad_BUTTONS_SHOP_end:
18586               E31D     		.code
18587                        		.pceas
18588                        	
18589                        		.dbg	line,	"Black_Tiger.c", 28; #include "include/routines_TITLE.c"
18590                        		.dbg	line,	"include\routines_TITLE.c", 1; #include "huc.h"
18591                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 1; #ifndef _hucc_legacy_h
18592                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 2; #define _hucc_legacy_h
18593                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 4; /****************************************************************************
18594                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 5; ; ***************************************************************************
18595                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 6; ;
18596                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 7; ; huc.h
18597                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 8; ;
18598                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 9; ; HuCC wrapper file to include a default set of HuC-compatible functions.
18599                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 10; ;
18600                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 11; ; Copyright John Brandwood 2024.
18601                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 12; ;
18602                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 13; ; Distributed under the Boost Software License, Version 1.0.
18603                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
18604                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
18605                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 16; ;
18606                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 17; ; ***************************************************************************
18607                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 18; ; ***************************************************************************
18608                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 19; ;
18609                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 20; ; When the HuCC compiler is invoked with the "--legacy" option to compile old
18610                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 21; ; projects, then this "huc.h" file is automatically included.
18611                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 22; ;
18612                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 23; ; This file includes a set of the individual HuCC headers which correspond to
18613                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 24; ; HuC's built-in functions and MagicKit library.
18614                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 25; ;
18615                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 26; ; New HuCC projects should, preferably, include the specific headers that are
18616                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 27; ; needed, which will then allow them to replace parts of the standard library
18617                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 28; ; with newer functions, or they can just manually include this "huc.h" file.
18618                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 29; ;
18619                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 30; ; ***************************************************************************
18620                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 31; ; **************************************************************************/
18621                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 33; #include "hucc-systemcard.h"
18622                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 34; #include "hucc-baselib.h"
18623                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 35; #include "hucc-gfx.h"
18624                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 36; #include "hucc-old-scroll.h"
18625                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 37; #include "hucc-old-spr.h"
18626                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 38; #include "hucc-old-map.h"
18627                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 39; #include "hucc-old-line.h"
18628                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 41; #include <stdlib.h>
18629                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 42; #include <string.h>
18630                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 44; #endif // _hucc_legacy_h
18631                        		.dbg	line,	"include\routines_TITLE.c", 2; #include "hucc-scroll.h"
18632                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 1; #ifndef _hucc_scroll_h
18633                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 2; #define _hucc_scroll_h
18634                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 4; /****************************************************************************
18635                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 5; ; ***************************************************************************
18636                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 6; ;
18637                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 7; ; hucc-scroll.h
18638                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 8; ;
18639                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 9; ; Routines for a fast split-screen scrolling system.
18640                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 10; ;
18641                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 11; ; Copyright John Brandwood 2024.
18642                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 12; ;
18643                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 13; ; Distributed under the Boost Software License, Version 1.0.
18644                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
18645                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
18646                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 16; ;
18647                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 17; ; ***************************************************************************
18648                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 18; ; ***************************************************************************
18649                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 19; ;
18650                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 20; ; The maximum number of splits for each screen layer is set in your project's
18651                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 21; ; "hucc-config.inc" file, with the library having a limit of 128-per-layer.
18652                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 22; ;
18653                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 23; ; Your first active split must be defined to start at screen line 0, and then
18654                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 24; ; the rest of the active splits must be in increasing line order to match the
18655                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 25; ; way that the PC Engine displays the output image.
18656                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 26; ;
18657                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 27; ; You can have disabled splits interleaved with your active splits.
18658                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 28; ;
18659                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 29; ; Splits that are normally disabled can be used to create full screen effects
18660                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 30; ; such as bouncing the screen up and down by adding blank areas at the top or
18661                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 31; ; bottom of the screen, and then rapidly changing the height of those areas.
18662                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 32; ;
18663                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 33; ; ***************************************************************************
18664                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 34; ; **************************************************************************/
18665                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 36; // *************
18666                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 37; // VDC bits for display_flags ...
18667                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 38; // *************
18668                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 40; #ifndef BKG_OFF
18669                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 41; #define BKG_OFF 0x00
18670                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 42; #endif
18671                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 44; #ifndef SPR_OFF
18672                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 45; #define SPR_OFF 0x00
18673                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 46; #endif
18674                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 48; #ifndef BKG_ON
18675                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 49; #define BKG_ON 0x80
18676                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 50; #endif
18677                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 52; #ifndef SPR_ON
18678                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 53; #define SPR_ON 0x40
18679                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 54; #endif
18680                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 56; // *************
18681                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 57; // Functions in hucc-scroll.asm ...
18682                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 58; // *************
18683                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 60; #ifdef __HUCC__
18684                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 62; #asmdef	HUCC_USES_NEW_SCROLL 1
18685                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 64; extern void __fastcall scroll_split( unsigned char index<_al>, unsigned char screen_line<_ah>, unsigned int bat_x<_bx>, unsigned int bat_y<_cx>, unsigned char display_flags<_dl> );
18686                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 65; extern void __fastcall sgx_scroll_split( unsigned char index<_al>, unsigned char screen_line<_ah>, unsigned int bat_x<_bx>, unsigned int bat_y<_cx>, unsigned char display_flags<_dl> );
18687                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 67; extern void __fastcall disable_split( unsigned char index<acc> );
18688                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 68; extern void __fastcall sgx_disable_split( unsigned char index<acc> );
18689                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 70; extern void __fastcall __macro disable_all_splits( void );
18690                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 71; extern void __fastcall __macro sgx_disable_all_splits( void );
18691                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 73; #asm
18692                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 74; .macro	_disable_all_splits
18693                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 75; ldy	#HUCC_PCE_SPLITS - 1
18694                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 76; !loop:		tya
18695                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 77; call	_disable_split.1
18696                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 78; dey
18697                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 79; bpl	!loop-
18698                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 80; .endm
18699                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 82; .macro	_sgx_disable_all_splits
18700                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 83; ldy	#HUCC_SGX_SPLITS - 1
18701                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 84; !loop:		tya
18702                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 85; call	_sgx_disable_split.1
18703                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 86; dey
18704                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 87; bpl	!loop-
18705                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 88; .endm
18706                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 89; #endasm
18707                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 91; #endif // __HUCC__
18708                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 93; #endif // _hucc_scroll_h
18709                        		.dbg	line,	"include\routines_TITLE.c", 3; #include "hucc-chrmap.h"
18710                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 1; #ifndef _hucc_chrmap_h
18711                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 2; #define _hucc_chrmap_h
18712                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 4; /****************************************************************************
18713                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 5; ; ***************************************************************************
18714                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 6; ;
18715                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 7; ; hucc-chrmap.h
18716                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 8; ;
18717                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 9; ; A simple map system based on 8x8 characters (aka "tiles") in BAT format.
18718                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 10; ;
18719                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 11; ; Copyright John Brandwood 2025.
18720                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 12; ;
18721                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 13; ; Distributed under the Boost Software License, Version 1.0.
18722                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
18723                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
18724                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 16; ;
18725                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 17; ; ***************************************************************************
18726                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 18; ; ***************************************************************************
18727                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 19; ;
18728                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 20; ; The maximum X and Y size for chrmaps is 256 characters (2048 pixels).
18729                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 21; ;
18730                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 22; ; The maximum total size for a chrmap is 16KBytes, which allows for maps up
18731                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 23; ; to 256x32 tiles (2048x256 pixels).
18732                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 24; ;
18733                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 25; ; ***************************************************************************
18734                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 26; ; **************************************************************************/
18735                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 28; // *************
18736                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 29; // This code extends the blkmap library ...
18737                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 30; // *************
18738                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 32; #include "hucc-blkmap.h"
18739                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 34; // *************
18740                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 35; // Functions in chrmap.asm ...
18741                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 36; // *************
18742                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 38; #ifdef __HUCC__
18743                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 40; #asmdef	HUCC_USES_CHRMAP 1
18744                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 42; extern void __fastcall __nop set_chrmap( unsigned char __far *chrmap<vdc_map_bank:vdc_map_addr>, unsigned char tiles_w<vdc_map_line_w> );
18745                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 44; extern void __fastcall draw_bat( void );
18746                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 45; extern void __fastcall scroll_bat( void );
18747                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 47; extern void __fastcall blit_bat( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
18748                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 49; #ifdef _SGX
18749                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 51; extern void __fastcall __nop sgx_set_chrmap( unsigned char __far *chrmap<sgx_map_bank:sgx_map_addr>, unsigned char tiles_w<sgx_map_line_w> );
18750                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 53; extern void __fastcall sgx_draw_bat( void );
18751                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 54; extern void __fastcall sgx_scroll_bat( void );
18752                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 56; extern void __fastcall sgx_blit_bat( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
18753                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 58; #endif
18754                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 60; #endif // __HUCC__
18755                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 62; #endif // _hucc_chrmap_h
18756                        		.dbg	line,	"include\routines_TITLE.c", 4; #include "hucc-blkmap.h"
18757                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 1; #ifndef _hucc_blkmap_h
18758                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 2; #define _hucc_blkmap_h
18759                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 4; /****************************************************************************
18760                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 5; ; ***************************************************************************
18761                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 6; ;
18762                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 7; ; hucc-blkmap.h
18763                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 8; ;
18764                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 9; ; A map system based on 16x16 meta-tiles (aka "blocks", aka CHR/BLK/MAP).
18765                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 10; ;
18766                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 11; ; Copyright John Brandwood 2025.
18767                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 12; ;
18768                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 13; ; Distributed under the Boost Software License, Version 1.0.
18769                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
18770                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
18771                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 16; ;
18772                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 17; ; ***************************************************************************
18773                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 18; ; ***************************************************************************
18774                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 19; ;
18775                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 20; ; The maximum X and Y size for blkmaps is 128 blocks (2048 pixels).
18776                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 21; ;
18777                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 22; ; The maximum total size for a blkmap is 16KBytes, which allows for maps up
18778                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 23; ; to 128x128 blocks (2048x2048 pixels).
18779                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 24; ;
18780                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 25; ; Huge multi-screen blkmaps are also supported (optionally).
18781                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 26; ;
18782                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 27; ; The maximum X and Y for multi-screen maps is 128 screens (32768 pixels).
18783                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 28; ;
18784                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 29; ; The maximum total size for a multi-screen map is 8KBytes, which allows for
18785                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 30; ; a total of 1024 screens.
18786                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 31; ;
18787                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 32; ; ***************************************************************************
18788                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 33; ; **************************************************************************/
18789                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 35; // *************
18790                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 36; // Functions in blkmap.asm ...
18791                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 37; // *************
18792                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 39; #ifdef __HUCC__
18793                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 41; #asmdef	HUCC_USES_BLKMAP 1
18794                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 43; // Current top-left of drawn map in pixels.
18795                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 44; extern unsigned int   vdc_map_pxl_x;
18796                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 45; extern unsigned int   vdc_map_pxl_y;
18797                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 47; // Width and height to draw/scroll in characters (not tiles).
18798                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 48; extern unsigned char  vdc_map_draw_w;
18799                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 49; extern unsigned char  vdc_map_draw_h;
18800                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 51; // Width of map (or multi-screen BAT) in tiles.
18801                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 52; extern unsigned char  vdc_map_line_w;
18802                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 54; // Width of map in screens (if multi-screen map).
18803                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 55; extern unsigned char  vdc_map_scrn_w;
18804                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 57; // Extra information returned by get_map_block() and sgx_get_map_block(),
18805                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 58; // which are the collision flags and the mask/overlay sprite for the BLK.
18806                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 59; extern unsigned char  map_blk_flag;
18807                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 60; extern unsigned char  map_blk_mask;
18808                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 62; extern unsigned char  vdc_scr_bank;
18809                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 63; extern unsigned char *vdc_scr_addr;
18810                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 65; extern unsigned char  vdc_map_bank;
18811                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 66; extern unsigned char *vdc_map_addr;
18812                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 68; extern unsigned char  vdc_blk_bank;
18813                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 69; extern unsigned char *vdc_blk_addr;
18814                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 71; extern unsigned char  vdc_tbl_bank;
18815                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 72; extern unsigned char *vdc_tbl_addr;
18816                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 74; extern void __fastcall set_blocks( unsigned char __far *blk_def<vdc_blk_bank:vdc_blk_addr>, unsigned char __far *flg_def<vdc_tbl_bank:vdc_tbl_addr>, unsigned char number_of_blocks<_al> );
18817                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 75; extern void __fastcall __macro set_blkmap( unsigned char __far *blk_map<vdc_map_bank:vdc_map_addr>, unsigned char blocks_w<vdc_map_line_w> );
18818                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 76; extern void __fastcall __macro set_multimap( unsigned char __far *multi_map<vdc_scr_bank:vdc_scr_addr>, unsigned char screens_w<vdc_map_scrn_w> );
18819                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 78; extern void __fastcall draw_map( void );
18820                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 79; extern void __fastcall scroll_map( void );
18821                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 81; extern void __fastcall blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
18822                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 83; extern unsigned char __fastcall get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
18823                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 85; #asm
18824                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 86; .macro	_set_blkmap.2
18825                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 87; stz	vdc_scr_bank
18826                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 88; .endm
18827                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 90; .macro	_set_multimap.2
18828                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 91; lda	vdc_bat_width
18829                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 92; lsr	a
18830                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 93; sta	vdc_map_line_w
18831                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 94; .endm
18832                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 96; .macro	SCREEN
18833                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 97; db	(((\1) & $1FFF) | $6000) >> 8, bank(\1)
18834                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 98; db	(((\2) & $1FFF) | $4000) >> 8, bank(\2)
18835                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 99; db	(((\3) & $1FFF) | $6000) >> 8, bank(\3)
18836                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 100; dw	(\4)
18837                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 101; .endm
18838                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 102; #endasm
18839                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 104; #ifdef _SGX
18840                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 106; // Current top-left of drawn map in pixels.
18841                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 107; extern unsigned int   sgx_map_pxl_x;
18842                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 108; extern unsigned int   sgx_map_pxl_y;
18843                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 110; // Width and height to draw/scroll in characters (not tiles).
18844                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 111; extern unsigned char  sgx_map_draw_w;
18845                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 112; extern unsigned char  sgx_map_draw_h;
18846                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 114; // Width of map (or multi-screen BAT) in tiles.
18847                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 115; extern unsigned char  sgx_map_line_w;
18848                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 117; // Width of map in screens (if multi-screen map).
18849                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 118; extern unsigned char  sgx_map_scrn_w;
18850                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 120; extern unsigned char  sgx_scr_bank;
18851                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 121; extern unsigned char *sgx_scr_addr;
18852                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 123; extern unsigned char  sgx_map_bank;
18853                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 124; extern unsigned char *sgx_map_addr;
18854                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 126; extern unsigned char  sgx_blk_bank;
18855                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 127; extern unsigned char *sgx_blk_addr;
18856                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 129; extern unsigned char  sgx_tbl_bank;
18857                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 130; extern unsigned char *sgx_tbl_addr;
18858                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 132; extern void __fastcall sgx_set_blocks( unsigned char __far *blk_def<sgx_blk_bank:sgx_blk_addr>, unsigned char __far *flg_def<sgx_tbl_bank:sgx_tbl_addr>, unsigned char number_of_blocks<_al> );
18859                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 133; extern void __fastcall __macro sgx_set_blkmap( unsigned char __far *blk_map<sgx_map_bank:sgx_map_addr>, unsigned char blocks_w<sgx_map_line_w> );
18860                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 134; extern void __fastcall __macro sgx_set_multimap( unsigned char __far *multi_map<sgx_scr_bank:sgx_scr_addr>, unsigned char screens_w<sgx_map_scrn_w> );
18861                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 136; extern void __fastcall sgx_draw_map( void );
18862                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 137; extern void __fastcall sgx_scroll_map( void );
18863                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 139; extern void __fastcall sgx_blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
18864                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 141; extern unsigned char __fastcall sgx_get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
18865                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 143; #asm
18866                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 144; .macro	_sgx_set_blkmap.2
18867                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 145; stz	sgx_scr_bank
18868                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 146; .endm
18869                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 148; .macro	_sgx_set_multimap.2
18870                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 149; lda	sgx_bat_width
18871                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 150; lsr	a
18872                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 151; sta	sgx_map_line_w
18873                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 152; .endm
18874                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 153; #endasm
18875                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 155; #endif
18876                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 157; #endif // __HUCC__
18877                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 159; #endif // _hucc_blkmap_h
18878                        		.dbg	line,	"include\routines_TITLE.c", 12; void joypad_BUTTONS_TITLE()
18879                        		.dbg	line,	"include\routines_TITLE.c", 13; {
18880                        	;***********************
18881                        	;***********************
18882                        	
18883                        		.hucc
18884    1F:C517             		.proc		_joypad_BUTTONS_TITLE
18885                        		__enter		_joypad_BUTTONS_TITLE
18886                        	
18887                        		.dbg	line,	"include\routines_TITLE.c", 14; int selector_pos;
18888                        	
18889                        		.dbg	line,	"include\routines_TITLE.c", 15; 
18890                        	
18891                        		.dbg	line,	"include\routines_TITLE.c", 16; if(joytrg(JOYPAD_1) & JOY_RIGHT)
18892                        		__ld.uiq	0
         1F:C517  62         			cla
18893                        		 _joytrg.1
         1F:C518  AA         			tax
         1F:C519  BD 2D 22   			lda	joytrg, x
         1F:C51C  BC DD 22   			ldy	joy6trg, x
18894                        		__tand.wi	32
         1F:C51F  29 20      			and	#32
         1F:C521  C9 01      	!:		cmp	#1
18895                        		__bfalse	.LL946
         1F:C523  B0 03 4C B0			bcc	.LL946
         1F:C527  C5          
18896                        	
18897                        		.dbg	line,	"include\routines_TITLE.c", 17; {   
18898                        	
18899                        		.dbg	line,	"include\routines_TITLE.c", 18; spr_set(0);
18900                        		__ld.uiq	0
         1F:C528  62         			cla
18901                        		__call		_spr_set.1
         1F:C529  20 F1 E7   			call	_spr_set.1
18902                        	
18903                        		.dbg	line,	"include\routines_TITLE.c", 19; selector_pos = spr_get_y();
18904                        		__call		_spr_get_y
         1F:C52C  20 8F E8   			call	_spr_get_y
18905                        		__st.wmq	__joypad_BUTTONS_TITLE_end - 2  /* selector_pos */
         1F:C52F  8D 2C 2C   			sta.l	__joypad_BUTTONS_TITLE_end - 2
         1F:C532  8C 2D 2C   			sty.h	__joypad_BUTTONS_TITLE_end - 2
18906                        	
18907                        		.dbg	line,	"include\routines_TITLE.c", 21; if(selector_pos == 160)
18908                        		__ld.wm		__joypad_BUTTONS_TITLE_end - 2  /* selector_pos */
         1F:C535  AD 2C 2C   			lda.l	__joypad_BUTTONS_TITLE_end - 2
         1F:C538  AC 2D 2C   			ldy.h	__joypad_BUTTONS_TITLE_end - 2
18909                        		__equ_w.wi	160
         1F:C53B  C9 A0      			cmp.l	#160
         1F:C53D  D0 04      			bne	!false+
         1F:C53F  C0 00      			cpy.h	#160
         1F:C541  F0 01      			beq	!+
         1F:C543  18         	!false:		clc
         1F:C544             	!:
18910                        		__bfalse	.LL947
         1F:C544  90 2B      			bcc	.LL947
18911                        	
18912                        		.dbg	line,	"include\routines_TITLE.c", 22; {
18913                        	
18914                        		.dbg	line,	"include\routines_TITLE.c", 23; if(life_amount < 9)
18915                        		__ld.umq	_life_amount
         1F:C546  AD 2F 23   			lda	_life_amount
18916                        		__ult_b.uiq	9
         1F:C549  C9 09      			cmp	#9		; Subtract integer from A.
         1F:C54B  6A         			ror	a		; CC if A < integer.
         1F:C54C  49 80      			eor	#$80
         1F:C54E  2A         			rol	a
18917                        		__bfalse	.LL948
         1F:C54F  B0 03 4C 61			bcc	.LL948
         1F:C553  C7          
18918                        	
18919                        		.dbg	line,	"include\routines_TITLE.c", 24; {
18920                        	
18921                        		.dbg	line,	"include\routines_TITLE.c", 25; life_amount += 1;
18922                        		__add_st.umiq	1, _life_amount
         1F:C554  EE 2F 23   			inc	_life_amount
18923                        	
18924                        		.dbg	line,	"include\routines_TITLE.c", 26; put_number(life_amount   	,  1 , 20 , 20);
18925                        		__ld.um		_life_amount
         1F:C557  AD 2F 23   			lda	_life_amount
         1F:C55A  C2         			cly
18926                        		__st.wmq	_bx
         1F:C55B  85 FA      			sta.l	_bx
         1F:C55D  84 FB      			sty.h	_bx
18927                        		__st.umiq	1, _cl
         1F:C55F  A9 01      			lda.l	#1
         1F:C561  85 FC      			sta	_cl
18928                        		__st.umiq	20, _dil
         1F:C563  A9 14      			lda.l	#20
         1F:C565  85 F0      			sta	_dil
18929                        		__st.umiq	20, _dih
         1F:C567  A9 14      			lda.l	#20
         1F:C569  85 F1      			sta	_dih
18930                        		__call		_put_number.4
         1F:C56B  20 6D FF   			call	_put_number.4
18931                        	
18932                        		.dbg	line,	"include\routines_TITLE.c", 27; }
18933                        	
18934                        		.dbg	line,	"include\routines_TITLE.c", 28; }
18935    1F:C56E             	.LL948	.alias		.LL949
18936                        	
18937                        		.dbg	line,	"include\routines_TITLE.c", 30; else if(selector_pos == 168)
18938                        		__bra		.LL949
         1F:C56E  4C 61 C7   			bra	.LL949
18939    1F:C571             	.LL947:
18940                        		__ld.wm		__joypad_BUTTONS_TITLE_end - 2  /* selector_pos */
         1F:C571  AD 2C 2C   			lda.l	__joypad_BUTTONS_TITLE_end - 2
         1F:C574  AC 2D 2C   			ldy.h	__joypad_BUTTONS_TITLE_end - 2
18941                        		__equ_w.wi	168
         1F:C577  C9 A8      			cmp.l	#168
         1F:C579  D0 04      			bne	!false+
         1F:C57B  C0 00      			cpy.h	#168
         1F:C57D  F0 01      			beq	!+
         1F:C57F  18         	!false:		clc
         1F:C580             	!:
18942                        		__bfalse	.LL950
         1F:C580  B0 03 4C 61			bcc	.LL950
         1F:C584  C7          
18943                        	
18944                        		.dbg	line,	"include\routines_TITLE.c", 31; {
18945                        	
18946                        		.dbg	line,	"include\routines_TITLE.c", 32; if(credits_amount < 5)
18947                        		__ld.umq	_credits_amount
         1F:C585  AD 30 23   			lda	_credits_amount
18948                        		__ult_b.uiq	5
         1F:C588  C9 05      			cmp	#5		; Subtract integer from A.
         1F:C58A  6A         			ror	a		; CC if A < integer.
         1F:C58B  49 80      			eor	#$80
         1F:C58D  2A         			rol	a
18949                        		__bfalse	.LL951
         1F:C58E  B0 03 4C 61			bcc	.LL951
         1F:C592  C7          
18950                        	
18951                        		.dbg	line,	"include\routines_TITLE.c", 33; {
18952                        	
18953                        		.dbg	line,	"include\routines_TITLE.c", 34; credits_amount += 1;
18954                        		__add_st.umiq	1, _credits_amount
         1F:C593  EE 30 23   			inc	_credits_amount
18955                        	
18956                        		.dbg	line,	"include\routines_TITLE.c", 35; put_number(credits_amount   ,  1 , 20 , 21);
18957                        		__ld.um		_credits_amount
         1F:C596  AD 30 23   			lda	_credits_amount
         1F:C599  C2         			cly
18958                        		__st.wmq	_bx
         1F:C59A  85 FA      			sta.l	_bx
         1F:C59C  84 FB      			sty.h	_bx
18959                        		__st.umiq	1, _cl
         1F:C59E  A9 01      			lda.l	#1
         1F:C5A0  85 FC      			sta	_cl
18960                        		__st.umiq	20, _dil
         1F:C5A2  A9 14      			lda.l	#20
         1F:C5A4  85 F0      			sta	_dil
18961                        		__st.umiq	21, _dih
         1F:C5A6  A9 15      			lda.l	#21
         1F:C5A8  85 F1      			sta	_dih
18962                        		__call		_put_number.4
         1F:C5AA  20 6D FF   			call	_put_number.4
18963                        	
18964                        		.dbg	line,	"include\routines_TITLE.c", 36; }
18965                        	
18966                        		.dbg	line,	"include\routines_TITLE.c", 37; }
18967    1F:C5AD             	.LL951	.alias		.LL952
18968                        	
18969                        		.dbg	line,	"include\routines_TITLE.c", 38; }
18970    1F:C5AD             	.LL950	.alias		.LL952
18971    1F:C5AD             	.LL949	.alias		.LL952
18972                        	
18973                        		.dbg	line,	"include\routines_TITLE.c", 40; 
18974                        	
18975                        		.dbg	line,	"include\routines_TITLE.c", 41; else if(joytrg(JOYPAD_1) & JOY_LEFT)
18976                        		__bra		.LL952
         1F:C5AD  4C 61 C7   			bra	.LL952
18977    1F:C5B0             	.LL946:
18978                        		__ld.uiq	0
         1F:C5B0  62         			cla
18979                        		 _joytrg.1
         1F:C5B1  AA         			tax
         1F:C5B2  BD 2D 22   			lda	joytrg, x
         1F:C5B5  BC DD 22   			ldy	joy6trg, x
18980                        		__tand.wi	128
         1F:C5B8  29 80      			and	#128
         1F:C5BA  C9 01      	!:		cmp	#1
18981                        		__bfalse	.LL953
         1F:C5BC  B0 03 4C 43			bcc	.LL953
         1F:C5C0  C6          
18982                        	
18983                        		.dbg	line,	"include\routines_TITLE.c", 42; {
18984                        	
18985                        		.dbg	line,	"include\routines_TITLE.c", 43; spr_set(0);
18986                        		__ld.uiq	0
         1F:C5C1  62         			cla
18987                        		__call		_spr_set.1
         1F:C5C2  20 F1 E7   			call	_spr_set.1
18988                        	
18989                        		.dbg	line,	"include\routines_TITLE.c", 44; selector_pos = spr_get_y();
18990                        		__call		_spr_get_y
         1F:C5C5  20 8F E8   			call	_spr_get_y
18991                        		__st.wmq	__joypad_BUTTONS_TITLE_end - 2  /* selector_pos */
         1F:C5C8  8D 2C 2C   			sta.l	__joypad_BUTTONS_TITLE_end - 2
         1F:C5CB  8C 2D 2C   			sty.h	__joypad_BUTTONS_TITLE_end - 2
18992                        	
18993                        		.dbg	line,	"include\routines_TITLE.c", 46; if(selector_pos == 160)
18994                        		__ld.wm		__joypad_BUTTONS_TITLE_end - 2  /* selector_pos */
         1F:C5CE  AD 2C 2C   			lda.l	__joypad_BUTTONS_TITLE_end - 2
         1F:C5D1  AC 2D 2C   			ldy.h	__joypad_BUTTONS_TITLE_end - 2
18995                        		__equ_w.wi	160
         1F:C5D4  C9 A0      			cmp.l	#160
         1F:C5D6  D0 04      			bne	!false+
         1F:C5D8  C0 00      			cpy.h	#160
         1F:C5DA  F0 01      			beq	!+
         1F:C5DC  18         	!false:		clc
         1F:C5DD             	!:
18996                        		__bfalse	.LL954
         1F:C5DD  90 28      			bcc	.LL954
18997                        	
18998                        		.dbg	line,	"include\routines_TITLE.c", 47; {
18999                        	
19000                        		.dbg	line,	"include\routines_TITLE.c", 48; if(life_amount > 3)
19001                        		__ld.umq	_life_amount
         1F:C5DF  AD 2F 23   			lda	_life_amount
19002                        		__ugt_b.uiq	3
         1F:C5E2  18         			clc			; Subtract integer+1 from A.
         1F:C5E3  E9 03      			sbc	#3		; CS if A > integer.
19003                        		__bfalse	.LL955
         1F:C5E5  B0 03 4C 61			bcc	.LL955
         1F:C5E9  C7          
19004                        	
19005                        		.dbg	line,	"include\routines_TITLE.c", 49; {
19006                        	
19007                        		.dbg	line,	"include\routines_TITLE.c", 50; life_amount -= 1;
19008                        		__sub_st.umiq	1, _life_amount
         1F:C5EA  CE 2F 23   			dec	_life_amount
19009                        	
19010                        		.dbg	line,	"include\routines_TITLE.c", 51; put_number(life_amount   	,  1 , 20 , 20);
19011                        		__ld.um		_life_amount
         1F:C5ED  AD 2F 23   			lda	_life_amount
         1F:C5F0  C2         			cly
19012                        		__st.wmq	_bx
         1F:C5F1  85 FA      			sta.l	_bx
         1F:C5F3  84 FB      			sty.h	_bx
19013                        		__st.umiq	1, _cl
         1F:C5F5  A9 01      			lda.l	#1
         1F:C5F7  85 FC      			sta	_cl
19014                        		__st.umiq	20, _dil
         1F:C5F9  A9 14      			lda.l	#20
         1F:C5FB  85 F0      			sta	_dil
19015                        		__st.umiq	20, _dih
         1F:C5FD  A9 14      			lda.l	#20
         1F:C5FF  85 F1      			sta	_dih
19016                        		__call		_put_number.4
         1F:C601  20 6D FF   			call	_put_number.4
19017                        	
19018                        		.dbg	line,	"include\routines_TITLE.c", 52; }
19019                        	
19020                        		.dbg	line,	"include\routines_TITLE.c", 53; }
19021    1F:C604             	.LL955	.alias		.LL956
19022                        	
19023                        		.dbg	line,	"include\routines_TITLE.c", 55; else if(selector_pos == 168)
19024                        		__bra		.LL956
         1F:C604  4C 61 C7   			bra	.LL956
19025    1F:C607             	.LL954:
19026                        		__ld.wm		__joypad_BUTTONS_TITLE_end - 2  /* selector_pos */
         1F:C607  AD 2C 2C   			lda.l	__joypad_BUTTONS_TITLE_end - 2
         1F:C60A  AC 2D 2C   			ldy.h	__joypad_BUTTONS_TITLE_end - 2
19027                        		__equ_w.wi	168
         1F:C60D  C9 A8      			cmp.l	#168
         1F:C60F  D0 04      			bne	!false+
         1F:C611  C0 00      			cpy.h	#168
         1F:C613  F0 01      			beq	!+
         1F:C615  18         	!false:		clc
         1F:C616             	!:
19028                        		__bfalse	.LL957
         1F:C616  B0 03 4C 61			bcc	.LL957
         1F:C61A  C7          
19029                        	
19030                        		.dbg	line,	"include\routines_TITLE.c", 56; {
19031                        	
19032                        		.dbg	line,	"include\routines_TITLE.c", 57; if(credits_amount > 2)
19033                        		__ld.umq	_credits_amount
         1F:C61B  AD 30 23   			lda	_credits_amount
19034                        		__ugt_b.uiq	2
         1F:C61E  18         			clc			; Subtract integer+1 from A.
         1F:C61F  E9 02      			sbc	#2		; CS if A > integer.
19035                        		__bfalse	.LL958
         1F:C621  B0 03 4C 61			bcc	.LL958
         1F:C625  C7          
19036                        	
19037                        		.dbg	line,	"include\routines_TITLE.c", 58; {
19038                        	
19039                        		.dbg	line,	"include\routines_TITLE.c", 59; credits_amount -= 1;
19040                        		__sub_st.umiq	1, _credits_amount
         1F:C626  CE 30 23   			dec	_credits_amount
19041                        	
19042                        		.dbg	line,	"include\routines_TITLE.c", 60; put_number(credits_amount   ,  1 , 20 , 21);
19043                        		__ld.um		_credits_amount
         1F:C629  AD 30 23   			lda	_credits_amount
         1F:C62C  C2         			cly
19044                        		__st.wmq	_bx
         1F:C62D  85 FA      			sta.l	_bx
         1F:C62F  84 FB      			sty.h	_bx
19045                        		__st.umiq	1, _cl
         1F:C631  A9 01      			lda.l	#1
         1F:C633  85 FC      			sta	_cl
19046                        		__st.umiq	20, _dil
         1F:C635  A9 14      			lda.l	#20
         1F:C637  85 F0      			sta	_dil
19047                        		__st.umiq	21, _dih
         1F:C639  A9 15      			lda.l	#21
         1F:C63B  85 F1      			sta	_dih
19048                        		__call		_put_number.4
         1F:C63D  20 6D FF   			call	_put_number.4
19049                        	
19050                        		.dbg	line,	"include\routines_TITLE.c", 61; }
19051                        	
19052                        		.dbg	line,	"include\routines_TITLE.c", 62; }
19053    1F:C640             	.LL958	.alias		.LL959
19054                        	
19055                        		.dbg	line,	"include\routines_TITLE.c", 63; }
19056    1F:C640             	.LL957	.alias		.LL959
19057    1F:C640             	.LL956	.alias		.LL959
19058                        	
19059                        		.dbg	line,	"include\routines_TITLE.c", 66; else if(joytrg(JOYPAD_1) & JOY_UP)
19060                        		__bra		.LL959
         1F:C640  4C 61 C7   			bra	.LL959
19061    1F:C643             	.LL953:
19062                        		__ld.uiq	0
         1F:C643  62         			cla
19063                        		 _joytrg.1
         1F:C644  AA         			tax
         1F:C645  BD 2D 22   			lda	joytrg, x
         1F:C648  BC DD 22   			ldy	joy6trg, x
19064                        		__tand.wi	16
         1F:C64B  29 10      			and	#16
         1F:C64D  C9 01      	!:		cmp	#1
19065                        		__bfalse	.LL960
         1F:C64F  90 5A      			bcc	.LL960
19066                        	
19067                        		.dbg	line,	"include\routines_TITLE.c", 67; {
19068                        	
19069                        		.dbg	line,	"include\routines_TITLE.c", 68; spr_set(0);
19070                        		__ld.uiq	0
         1F:C651  62         			cla
19071                        		__call		_spr_set.1
         1F:C652  20 F1 E7   			call	_spr_set.1
19072                        	
19073                        		.dbg	line,	"include\routines_TITLE.c", 69; selector_pos = spr_get_y();
19074                        		__call		_spr_get_y
         1F:C655  20 8F E8   			call	_spr_get_y
19075                        		__st.wmq	__joypad_BUTTONS_TITLE_end - 2  /* selector_pos */
         1F:C658  8D 2C 2C   			sta.l	__joypad_BUTTONS_TITLE_end - 2
         1F:C65B  8C 2D 2C   			sty.h	__joypad_BUTTONS_TITLE_end - 2
19076                        	
19077                        		.dbg	line,	"include\routines_TITLE.c", 71; if(selector_pos == 160)
19078                        		__ld.wm		__joypad_BUTTONS_TITLE_end - 2  /* selector_pos */
         1F:C65E  AD 2C 2C   			lda.l	__joypad_BUTTONS_TITLE_end - 2
         1F:C661  AC 2D 2C   			ldy.h	__joypad_BUTTONS_TITLE_end - 2
19079                        		__equ_w.wi	160
         1F:C664  C9 A0      			cmp.l	#160
         1F:C666  D0 04      			bne	!false+
         1F:C668  C0 00      			cpy.h	#160
         1F:C66A  F0 01      			beq	!+
         1F:C66C  18         	!false:		clc
         1F:C66D             	!:
19080                        		__bfalse	.LL961
         1F:C66D  90 14      			bcc	.LL961
19081                        	
19082                        		.dbg	line,	"include\routines_TITLE.c", 72; {
19083                        	
19084                        		.dbg	line,	"include\routines_TITLE.c", 73; selector_pos = 144;
19085                        		__st.wmiq	144, __joypad_BUTTONS_TITLE_end - 2  /* selector_pos */
         1F:C66F  A9 90      			lda.l	#144
         1F:C671  8D 2C 2C   			sta.l	__joypad_BUTTONS_TITLE_end - 2
         1F:C674  9C 2D 2C   			stz.h	__joypad_BUTTONS_TITLE_end - 2
19086                        	
19087                        		.dbg	line,	"include\routines_TITLE.c", 74; spr_y(selector_pos);
19088                        		__ld.wm		__joypad_BUTTONS_TITLE_end - 2  /* selector_pos */
         1F:C677  AD 2C 2C   			lda.l	__joypad_BUTTONS_TITLE_end - 2
         1F:C67A  AC 2D 2C   			ldy.h	__joypad_BUTTONS_TITLE_end - 2
19089                        		__call		_spr_y.1
         1F:C67D  20 2D E8   			call	_spr_y.1
19090                        	
19091                        		.dbg	line,	"include\routines_TITLE.c", 75; }
19092                        	
19093                        		.dbg	line,	"include\routines_TITLE.c", 77; else if(selector_pos == 168)
19094                        		__bra		.LL962
         1F:C680  4C 61 C7   			bra	.LL962
19095    1F:C683             	.LL961:
19096                        		__ld.wm		__joypad_BUTTONS_TITLE_end - 2  /* selector_pos */
         1F:C683  AD 2C 2C   			lda.l	__joypad_BUTTONS_TITLE_end - 2
         1F:C686  AC 2D 2C   			ldy.h	__joypad_BUTTONS_TITLE_end - 2
19097                        		__equ_w.wi	168
         1F:C689  C9 A8      			cmp.l	#168
         1F:C68B  D0 04      			bne	!false+
         1F:C68D  C0 00      			cpy.h	#168
         1F:C68F  F0 01      			beq	!+
         1F:C691  18         	!false:		clc
         1F:C692             	!:
19098                        		__bfalse	.LL963
         1F:C692  B0 03 4C 61			bcc	.LL963
         1F:C696  C7          
19099                        	
19100                        		.dbg	line,	"include\routines_TITLE.c", 78; {
19101                        	
19102                        		.dbg	line,	"include\routines_TITLE.c", 79; selector_pos = 160;
19103                        		__st.wmiq	160, __joypad_BUTTONS_TITLE_end - 2  /* selector_pos */
         1F:C697  A9 A0      			lda.l	#160
         1F:C699  8D 2C 2C   			sta.l	__joypad_BUTTONS_TITLE_end - 2
         1F:C69C  9C 2D 2C   			stz.h	__joypad_BUTTONS_TITLE_end - 2
19104                        	
19105                        		.dbg	line,	"include\routines_TITLE.c", 80; spr_y(selector_pos);
19106                        		__ld.wm		__joypad_BUTTONS_TITLE_end - 2  /* selector_pos */
         1F:C69F  AD 2C 2C   			lda.l	__joypad_BUTTONS_TITLE_end - 2
         1F:C6A2  AC 2D 2C   			ldy.h	__joypad_BUTTONS_TITLE_end - 2
19107                        		__call		_spr_y.1
         1F:C6A5  20 2D E8   			call	_spr_y.1
19108                        	
19109                        		.dbg	line,	"include\routines_TITLE.c", 81; }
19110                        	
19111                        		.dbg	line,	"include\routines_TITLE.c", 82; }
19112    1F:C6A8             	.LL963	.alias		.LL964
19113    1F:C6A8             	.LL962	.alias		.LL964
19114                        	
19115                        		.dbg	line,	"include\routines_TITLE.c", 85; else if(joytrg(JOYPAD_1) & JOY_DOWN)
19116                        		__bra		.LL964
         1F:C6A8  4C 61 C7   			bra	.LL964
19117    1F:C6AB             	.LL960:
19118                        		__ld.uiq	0
         1F:C6AB  62         			cla
19119                        		 _joytrg.1
         1F:C6AC  AA         			tax
         1F:C6AD  BD 2D 22   			lda	joytrg, x
         1F:C6B0  BC DD 22   			ldy	joy6trg, x
19120                        		__tand.wi	64
         1F:C6B3  29 40      			and	#64
         1F:C6B5  C9 01      	!:		cmp	#1
19121                        		__bfalse	.LL965
         1F:C6B7  90 55      			bcc	.LL965
19122                        	
19123                        		.dbg	line,	"include\routines_TITLE.c", 86; {
19124                        	
19125                        		.dbg	line,	"include\routines_TITLE.c", 87; spr_set(0);
19126                        		__ld.uiq	0
         1F:C6B9  62         			cla
19127                        		__call		_spr_set.1
         1F:C6BA  20 F1 E7   			call	_spr_set.1
19128                        	
19129                        		.dbg	line,	"include\routines_TITLE.c", 88; selector_pos = spr_get_y();
19130                        		__call		_spr_get_y
         1F:C6BD  20 8F E8   			call	_spr_get_y
19131                        		__st.wmq	__joypad_BUTTONS_TITLE_end - 2  /* selector_pos */
         1F:C6C0  8D 2C 2C   			sta.l	__joypad_BUTTONS_TITLE_end - 2
         1F:C6C3  8C 2D 2C   			sty.h	__joypad_BUTTONS_TITLE_end - 2
19132                        	
19133                        		.dbg	line,	"include\routines_TITLE.c", 90; if(selector_pos == 144)
19134                        		__ld.wm		__joypad_BUTTONS_TITLE_end - 2  /* selector_pos */
         1F:C6C6  AD 2C 2C   			lda.l	__joypad_BUTTONS_TITLE_end - 2
         1F:C6C9  AC 2D 2C   			ldy.h	__joypad_BUTTONS_TITLE_end - 2
19135                        		__equ_w.wi	144
         1F:C6CC  C9 90      			cmp.l	#144
         1F:C6CE  D0 04      			bne	!false+
         1F:C6D0  C0 00      			cpy.h	#144
         1F:C6D2  F0 01      			beq	!+
         1F:C6D4  18         	!false:		clc
         1F:C6D5             	!:
19136                        		__bfalse	.LL966
         1F:C6D5  90 13      			bcc	.LL966
19137                        	
19138                        		.dbg	line,	"include\routines_TITLE.c", 91; {
19139                        	
19140                        		.dbg	line,	"include\routines_TITLE.c", 92; selector_pos = 160;
19141                        		__st.wmiq	160, __joypad_BUTTONS_TITLE_end - 2  /* selector_pos */
         1F:C6D7  A9 A0      			lda.l	#160
         1F:C6D9  8D 2C 2C   			sta.l	__joypad_BUTTONS_TITLE_end - 2
         1F:C6DC  9C 2D 2C   			stz.h	__joypad_BUTTONS_TITLE_end - 2
19142                        	
19143                        		.dbg	line,	"include\routines_TITLE.c", 93; spr_y(selector_pos);
19144                        		__ld.wm		__joypad_BUTTONS_TITLE_end - 2  /* selector_pos */
         1F:C6DF  AD 2C 2C   			lda.l	__joypad_BUTTONS_TITLE_end - 2
         1F:C6E2  AC 2D 2C   			ldy.h	__joypad_BUTTONS_TITLE_end - 2
19145                        		__call		_spr_y.1
         1F:C6E5  20 2D E8   			call	_spr_y.1
19146                        	
19147                        		.dbg	line,	"include\routines_TITLE.c", 94; }
19148                        	
19149                        		.dbg	line,	"include\routines_TITLE.c", 96; else if(selector_pos == 160)
19150                        		__bra		.LL967
         1F:C6E8  80 77      			bra	.LL967
19151    1F:C6EA             	.LL966:
19152                        		__ld.wm		__joypad_BUTTONS_TITLE_end - 2  /* selector_pos */
         1F:C6EA  AD 2C 2C   			lda.l	__joypad_BUTTONS_TITLE_end - 2
         1F:C6ED  AC 2D 2C   			ldy.h	__joypad_BUTTONS_TITLE_end - 2
19153                        		__equ_w.wi	160
         1F:C6F0  C9 A0      			cmp.l	#160
         1F:C6F2  D0 04      			bne	!false+
         1F:C6F4  C0 00      			cpy.h	#160
         1F:C6F6  F0 01      			beq	!+
         1F:C6F8  18         	!false:		clc
         1F:C6F9             	!:
19154                        		__bfalse	.LL968
         1F:C6F9  90 66      			bcc	.LL968
19155                        	
19156                        		.dbg	line,	"include\routines_TITLE.c", 97; {
19157                        	
19158                        		.dbg	line,	"include\routines_TITLE.c", 98; selector_pos = 168;
19159                        		__st.wmiq	168, __joypad_BUTTONS_TITLE_end - 2  /* selector_pos */
         1F:C6FB  A9 A8      			lda.l	#168
         1F:C6FD  8D 2C 2C   			sta.l	__joypad_BUTTONS_TITLE_end - 2
         1F:C700  9C 2D 2C   			stz.h	__joypad_BUTTONS_TITLE_end - 2
19160                        	
19161                        		.dbg	line,	"include\routines_TITLE.c", 99; spr_y(selector_pos);
19162                        		__ld.wm		__joypad_BUTTONS_TITLE_end - 2  /* selector_pos */
         1F:C703  AD 2C 2C   			lda.l	__joypad_BUTTONS_TITLE_end - 2
         1F:C706  AC 2D 2C   			ldy.h	__joypad_BUTTONS_TITLE_end - 2
19163                        		__call		_spr_y.1
         1F:C709  20 2D E8   			call	_spr_y.1
19164                        	
19165                        		.dbg	line,	"include\routines_TITLE.c", 100; }        
19166                        	
19167                        		.dbg	line,	"include\routines_TITLE.c", 101; }
19168    1F:C70C             	.LL968	.alias		.LL969
19169    1F:C70C             	.LL967	.alias		.LL969
19170                        	
19171                        		.dbg	line,	"include\routines_TITLE.c", 104; else if(joytrg(JOYPAD_1) & JOY_I || joytrg(JOYPAD_1) & JOY_II || joytrg(JOYPAD_1) & JOY_RUN)
19172                        		__bra		.LL969
         1F:C70C  80 53      			bra	.LL969
19173    1F:C70E             	.LL965:
19174                        		__ld.uiq	0
         1F:C70E  62         			cla
19175                        		 _joytrg.1
         1F:C70F  AA         			tax
         1F:C710  BD 2D 22   			lda	joytrg, x
         1F:C713  BC DD 22   			ldy	joy6trg, x
19176                        		__tand.wi	1
         1F:C716  29 01      			and	#1
         1F:C718  C9 01      	!:		cmp	#1
19177                        		__btrue		.LL971
         1F:C71A  B0 0C      			bcs	.LL971
19178                        		__ld.uiq	0
         1F:C71C  62         			cla
19179                        		 _joytrg.1
         1F:C71D  AA         			tax
         1F:C71E  BD 2D 22   			lda	joytrg, x
         1F:C721  BC DD 22   			ldy	joy6trg, x
19180                        		__tand.wi	2
         1F:C724  29 02      			and	#2
         1F:C726  C9 01      	!:		cmp	#1
19181    1F:C728             	.LL971:
19182                        		__btrue		.LL972
         1F:C728  B0 0C      			bcs	.LL972
19183                        		__ld.uiq	0
         1F:C72A  62         			cla
19184                        		 _joytrg.1
         1F:C72B  AA         			tax
         1F:C72C  BD 2D 22   			lda	joytrg, x
         1F:C72F  BC DD 22   			ldy	joy6trg, x
19185                        		__tand.wi	8
         1F:C732  29 08      			and	#8
         1F:C734  C9 01      	!:		cmp	#1
19186    1F:C736             	.LL972:
19187                        		__bfalse	.LL970
         1F:C736  90 29      			bcc	.LL970
19188                        	
19189                        		.dbg	line,	"include\routines_TITLE.c", 105; {
19190                        	
19191                        		.dbg	line,	"include\routines_TITLE.c", 106; spr_set(0);
19192                        		__ld.uiq	0
         1F:C738  62         			cla
19193                        		__call		_spr_set.1
         1F:C739  20 F1 E7   			call	_spr_set.1
19194                        	
19195                        		.dbg	line,	"include\routines_TITLE.c", 107; selector_pos = spr_get_y();
19196                        		__call		_spr_get_y
         1F:C73C  20 8F E8   			call	_spr_get_y
19197                        		__st.wmq	__joypad_BUTTONS_TITLE_end - 2  /* selector_pos */
         1F:C73F  8D 2C 2C   			sta.l	__joypad_BUTTONS_TITLE_end - 2
         1F:C742  8C 2D 2C   			sty.h	__joypad_BUTTONS_TITLE_end - 2
19198                        	
19199                        		.dbg	line,	"include\routines_TITLE.c", 109; // IF CURSOR IS ON START GAME //
19200                        	
19201                        		.dbg	line,	"include\routines_TITLE.c", 110; if(selector_pos == 144)
19202                        		__ld.wm		__joypad_BUTTONS_TITLE_end - 2  /* selector_pos */
         1F:C745  AD 2C 2C   			lda.l	__joypad_BUTTONS_TITLE_end - 2
         1F:C748  AC 2D 2C   			ldy.h	__joypad_BUTTONS_TITLE_end - 2
19203                        		__equ_w.wi	144
         1F:C74B  C9 90      			cmp.l	#144
         1F:C74D  D0 04      			bne	!false+
         1F:C74F  C0 00      			cpy.h	#144
         1F:C751  F0 01      			beq	!+
         1F:C753  18         	!false:		clc
         1F:C754             	!:
19204                        		__bfalse	.LL973
         1F:C754  90 0B      			bcc	.LL973
19205                        	
19206                        		.dbg	line,	"include\routines_TITLE.c", 111; {
19207                        	
19208                        		.dbg	line,	"include\routines_TITLE.c", 112; // DISABLE DISPLAY //
19209                        	
19210                        		.dbg	line,	"include\routines_TITLE.c", 113; disp_off();
19211                        		__call		_disp_off
         1F:C756  20 3D E4   			call	_disp_off
19212                        	
19213                        		.dbg	line,	"include\routines_TITLE.c", 115; sequence_loaded = FALSE;
19214                        		__st.umiq	0, _sequence_loaded
         1F:C759  9C 15 23   			stz	_sequence_loaded
19215                        	
19216                        		.dbg	line,	"include\routines_TITLE.c", 117; sequence_id = SEQUENCE_INTRO;
19217                        		__st.umiq	1, _sequence_id
         1F:C75C  A9 01      			lda.l	#1
         1F:C75E  8D 14 23   			sta	_sequence_id
19218                        	
19219                        		.dbg	line,	"include\routines_TITLE.c", 118; }
19220                        	
19221                        		.dbg	line,	"include\routines_TITLE.c", 119; }
19222    1F:C761             	.LL973:
19223                        	
19224                        		.dbg	line,	"include\routines_TITLE.c", 120; }
19225    1F:C761             	.LL970:
19226    1F:C761             	.LL969:
19227    1F:C761             	.LL964:
19228    1F:C761             	.LL959:
19229    1F:C761             	.LL952:
19230    1F:C761             	.LL945:
19231                        		__return	0
         1F:C761  4C EF FF   			jmp	leave_proc
19232                        		.dbg	clear
19233                        		.endp
19234               2311     		.bss
19235    F8:2311             	__joypad_BUTTONS_TITLE_end	.alias	leaf_stack
19236               E31D     		.code
19237                        		.pceas
19238                        	
19239                        		.dbg	line,	"Black_Tiger.c", 29; #include "include/init.c"
19240                        		.dbg	line,	"include\init.c", 1; #include "huc.h"
19241                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 1; #ifndef _hucc_legacy_h
19242                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 2; #define _hucc_legacy_h
19243                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 4; /****************************************************************************
19244                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 5; ; ***************************************************************************
19245                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 6; ;
19246                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 7; ; huc.h
19247                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 8; ;
19248                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 9; ; HuCC wrapper file to include a default set of HuC-compatible functions.
19249                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 10; ;
19250                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 11; ; Copyright John Brandwood 2024.
19251                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 12; ;
19252                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 13; ; Distributed under the Boost Software License, Version 1.0.
19253                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
19254                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
19255                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 16; ;
19256                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 17; ; ***************************************************************************
19257                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 18; ; ***************************************************************************
19258                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 19; ;
19259                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 20; ; When the HuCC compiler is invoked with the "--legacy" option to compile old
19260                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 21; ; projects, then this "huc.h" file is automatically included.
19261                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 22; ;
19262                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 23; ; This file includes a set of the individual HuCC headers which correspond to
19263                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 24; ; HuC's built-in functions and MagicKit library.
19264                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 25; ;
19265                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 26; ; New HuCC projects should, preferably, include the specific headers that are
19266                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 27; ; needed, which will then allow them to replace parts of the standard library
19267                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 28; ; with newer functions, or they can just manually include this "huc.h" file.
19268                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 29; ;
19269                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 30; ; ***************************************************************************
19270                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 31; ; **************************************************************************/
19271                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 33; #include "hucc-systemcard.h"
19272                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 34; #include "hucc-baselib.h"
19273                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 35; #include "hucc-gfx.h"
19274                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 36; #include "hucc-old-scroll.h"
19275                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 37; #include "hucc-old-spr.h"
19276                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 38; #include "hucc-old-map.h"
19277                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 39; #include "hucc-old-line.h"
19278                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 41; #include <stdlib.h>
19279                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 42; #include <string.h>
19280                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 44; #endif // _hucc_legacy_h
19281                        		.dbg	line,	"include\init.c", 2; #include "hucc-scroll.h"
19282                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 1; #ifndef _hucc_scroll_h
19283                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 2; #define _hucc_scroll_h
19284                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 4; /****************************************************************************
19285                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 5; ; ***************************************************************************
19286                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 6; ;
19287                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 7; ; hucc-scroll.h
19288                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 8; ;
19289                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 9; ; Routines for a fast split-screen scrolling system.
19290                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 10; ;
19291                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 11; ; Copyright John Brandwood 2024.
19292                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 12; ;
19293                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 13; ; Distributed under the Boost Software License, Version 1.0.
19294                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
19295                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
19296                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 16; ;
19297                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 17; ; ***************************************************************************
19298                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 18; ; ***************************************************************************
19299                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 19; ;
19300                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 20; ; The maximum number of splits for each screen layer is set in your project's
19301                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 21; ; "hucc-config.inc" file, with the library having a limit of 128-per-layer.
19302                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 22; ;
19303                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 23; ; Your first active split must be defined to start at screen line 0, and then
19304                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 24; ; the rest of the active splits must be in increasing line order to match the
19305                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 25; ; way that the PC Engine displays the output image.
19306                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 26; ;
19307                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 27; ; You can have disabled splits interleaved with your active splits.
19308                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 28; ;
19309                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 29; ; Splits that are normally disabled can be used to create full screen effects
19310                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 30; ; such as bouncing the screen up and down by adding blank areas at the top or
19311                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 31; ; bottom of the screen, and then rapidly changing the height of those areas.
19312                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 32; ;
19313                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 33; ; ***************************************************************************
19314                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 34; ; **************************************************************************/
19315                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 36; // *************
19316                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 37; // VDC bits for display_flags ...
19317                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 38; // *************
19318                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 40; #ifndef BKG_OFF
19319                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 41; #define BKG_OFF 0x00
19320                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 42; #endif
19321                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 44; #ifndef SPR_OFF
19322                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 45; #define SPR_OFF 0x00
19323                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 46; #endif
19324                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 48; #ifndef BKG_ON
19325                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 49; #define BKG_ON 0x80
19326                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 50; #endif
19327                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 52; #ifndef SPR_ON
19328                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 53; #define SPR_ON 0x40
19329                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 54; #endif
19330                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 56; // *************
19331                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 57; // Functions in hucc-scroll.asm ...
19332                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 58; // *************
19333                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 60; #ifdef __HUCC__
19334                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 62; #asmdef	HUCC_USES_NEW_SCROLL 1
19335                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 64; extern void __fastcall scroll_split( unsigned char index<_al>, unsigned char screen_line<_ah>, unsigned int bat_x<_bx>, unsigned int bat_y<_cx>, unsigned char display_flags<_dl> );
19336                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 65; extern void __fastcall sgx_scroll_split( unsigned char index<_al>, unsigned char screen_line<_ah>, unsigned int bat_x<_bx>, unsigned int bat_y<_cx>, unsigned char display_flags<_dl> );
19337                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 67; extern void __fastcall disable_split( unsigned char index<acc> );
19338                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 68; extern void __fastcall sgx_disable_split( unsigned char index<acc> );
19339                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 70; extern void __fastcall __macro disable_all_splits( void );
19340                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 71; extern void __fastcall __macro sgx_disable_all_splits( void );
19341                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 73; #asm
19342                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 74; .macro	_disable_all_splits
19343                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 75; ldy	#HUCC_PCE_SPLITS - 1
19344                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 76; !loop:		tya
19345                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 77; call	_disable_split.1
19346                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 78; dey
19347                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 79; bpl	!loop-
19348                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 80; .endm
19349                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 82; .macro	_sgx_disable_all_splits
19350                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 83; ldy	#HUCC_SGX_SPLITS - 1
19351                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 84; !loop:		tya
19352                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 85; call	_sgx_disable_split.1
19353                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 86; dey
19354                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 87; bpl	!loop-
19355                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 88; .endm
19356                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 89; #endasm
19357                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 91; #endif // __HUCC__
19358                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 93; #endif // _hucc_scroll_h
19359                        		.dbg	line,	"include\init.c", 3; #include "hucc-chrmap.h"
19360                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 1; #ifndef _hucc_chrmap_h
19361                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 2; #define _hucc_chrmap_h
19362                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 4; /****************************************************************************
19363                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 5; ; ***************************************************************************
19364                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 6; ;
19365                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 7; ; hucc-chrmap.h
19366                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 8; ;
19367                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 9; ; A simple map system based on 8x8 characters (aka "tiles") in BAT format.
19368                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 10; ;
19369                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 11; ; Copyright John Brandwood 2025.
19370                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 12; ;
19371                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 13; ; Distributed under the Boost Software License, Version 1.0.
19372                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
19373                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
19374                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 16; ;
19375                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 17; ; ***************************************************************************
19376                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 18; ; ***************************************************************************
19377                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 19; ;
19378                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 20; ; The maximum X and Y size for chrmaps is 256 characters (2048 pixels).
19379                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 21; ;
19380                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 22; ; The maximum total size for a chrmap is 16KBytes, which allows for maps up
19381                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 23; ; to 256x32 tiles (2048x256 pixels).
19382                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 24; ;
19383                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 25; ; ***************************************************************************
19384                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 26; ; **************************************************************************/
19385                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 28; // *************
19386                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 29; // This code extends the blkmap library ...
19387                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 30; // *************
19388                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 32; #include "hucc-blkmap.h"
19389                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 34; // *************
19390                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 35; // Functions in chrmap.asm ...
19391                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 36; // *************
19392                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 38; #ifdef __HUCC__
19393                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 40; #asmdef	HUCC_USES_CHRMAP 1
19394                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 42; extern void __fastcall __nop set_chrmap( unsigned char __far *chrmap<vdc_map_bank:vdc_map_addr>, unsigned char tiles_w<vdc_map_line_w> );
19395                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 44; extern void __fastcall draw_bat( void );
19396                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 45; extern void __fastcall scroll_bat( void );
19397                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 47; extern void __fastcall blit_bat( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
19398                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 49; #ifdef _SGX
19399                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 51; extern void __fastcall __nop sgx_set_chrmap( unsigned char __far *chrmap<sgx_map_bank:sgx_map_addr>, unsigned char tiles_w<sgx_map_line_w> );
19400                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 53; extern void __fastcall sgx_draw_bat( void );
19401                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 54; extern void __fastcall sgx_scroll_bat( void );
19402                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 56; extern void __fastcall sgx_blit_bat( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
19403                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 58; #endif
19404                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 60; #endif // __HUCC__
19405                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 62; #endif // _hucc_chrmap_h
19406                        		.dbg	line,	"include\init.c", 4; #include "hucc-blkmap.h"
19407                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 1; #ifndef _hucc_blkmap_h
19408                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 2; #define _hucc_blkmap_h
19409                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 4; /****************************************************************************
19410                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 5; ; ***************************************************************************
19411                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 6; ;
19412                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 7; ; hucc-blkmap.h
19413                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 8; ;
19414                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 9; ; A map system based on 16x16 meta-tiles (aka "blocks", aka CHR/BLK/MAP).
19415                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 10; ;
19416                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 11; ; Copyright John Brandwood 2025.
19417                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 12; ;
19418                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 13; ; Distributed under the Boost Software License, Version 1.0.
19419                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
19420                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
19421                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 16; ;
19422                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 17; ; ***************************************************************************
19423                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 18; ; ***************************************************************************
19424                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 19; ;
19425                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 20; ; The maximum X and Y size for blkmaps is 128 blocks (2048 pixels).
19426                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 21; ;
19427                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 22; ; The maximum total size for a blkmap is 16KBytes, which allows for maps up
19428                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 23; ; to 128x128 blocks (2048x2048 pixels).
19429                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 24; ;
19430                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 25; ; Huge multi-screen blkmaps are also supported (optionally).
19431                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 26; ;
19432                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 27; ; The maximum X and Y for multi-screen maps is 128 screens (32768 pixels).
19433                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 28; ;
19434                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 29; ; The maximum total size for a multi-screen map is 8KBytes, which allows for
19435                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 30; ; a total of 1024 screens.
19436                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 31; ;
19437                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 32; ; ***************************************************************************
19438                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 33; ; **************************************************************************/
19439                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 35; // *************
19440                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 36; // Functions in blkmap.asm ...
19441                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 37; // *************
19442                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 39; #ifdef __HUCC__
19443                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 41; #asmdef	HUCC_USES_BLKMAP 1
19444                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 43; // Current top-left of drawn map in pixels.
19445                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 44; extern unsigned int   vdc_map_pxl_x;
19446                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 45; extern unsigned int   vdc_map_pxl_y;
19447                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 47; // Width and height to draw/scroll in characters (not tiles).
19448                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 48; extern unsigned char  vdc_map_draw_w;
19449                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 49; extern unsigned char  vdc_map_draw_h;
19450                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 51; // Width of map (or multi-screen BAT) in tiles.
19451                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 52; extern unsigned char  vdc_map_line_w;
19452                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 54; // Width of map in screens (if multi-screen map).
19453                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 55; extern unsigned char  vdc_map_scrn_w;
19454                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 57; // Extra information returned by get_map_block() and sgx_get_map_block(),
19455                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 58; // which are the collision flags and the mask/overlay sprite for the BLK.
19456                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 59; extern unsigned char  map_blk_flag;
19457                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 60; extern unsigned char  map_blk_mask;
19458                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 62; extern unsigned char  vdc_scr_bank;
19459                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 63; extern unsigned char *vdc_scr_addr;
19460                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 65; extern unsigned char  vdc_map_bank;
19461                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 66; extern unsigned char *vdc_map_addr;
19462                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 68; extern unsigned char  vdc_blk_bank;
19463                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 69; extern unsigned char *vdc_blk_addr;
19464                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 71; extern unsigned char  vdc_tbl_bank;
19465                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 72; extern unsigned char *vdc_tbl_addr;
19466                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 74; extern void __fastcall set_blocks( unsigned char __far *blk_def<vdc_blk_bank:vdc_blk_addr>, unsigned char __far *flg_def<vdc_tbl_bank:vdc_tbl_addr>, unsigned char number_of_blocks<_al> );
19467                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 75; extern void __fastcall __macro set_blkmap( unsigned char __far *blk_map<vdc_map_bank:vdc_map_addr>, unsigned char blocks_w<vdc_map_line_w> );
19468                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 76; extern void __fastcall __macro set_multimap( unsigned char __far *multi_map<vdc_scr_bank:vdc_scr_addr>, unsigned char screens_w<vdc_map_scrn_w> );
19469                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 78; extern void __fastcall draw_map( void );
19470                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 79; extern void __fastcall scroll_map( void );
19471                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 81; extern void __fastcall blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
19472                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 83; extern unsigned char __fastcall get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
19473                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 85; #asm
19474                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 86; .macro	_set_blkmap.2
19475                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 87; stz	vdc_scr_bank
19476                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 88; .endm
19477                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 90; .macro	_set_multimap.2
19478                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 91; lda	vdc_bat_width
19479                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 92; lsr	a
19480                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 93; sta	vdc_map_line_w
19481                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 94; .endm
19482                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 96; .macro	SCREEN
19483                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 97; db	(((\1) & $1FFF) | $6000) >> 8, bank(\1)
19484                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 98; db	(((\2) & $1FFF) | $4000) >> 8, bank(\2)
19485                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 99; db	(((\3) & $1FFF) | $6000) >> 8, bank(\3)
19486                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 100; dw	(\4)
19487                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 101; .endm
19488                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 102; #endasm
19489                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 104; #ifdef _SGX
19490                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 106; // Current top-left of drawn map in pixels.
19491                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 107; extern unsigned int   sgx_map_pxl_x;
19492                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 108; extern unsigned int   sgx_map_pxl_y;
19493                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 110; // Width and height to draw/scroll in characters (not tiles).
19494                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 111; extern unsigned char  sgx_map_draw_w;
19495                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 112; extern unsigned char  sgx_map_draw_h;
19496                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 114; // Width of map (or multi-screen BAT) in tiles.
19497                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 115; extern unsigned char  sgx_map_line_w;
19498                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 117; // Width of map in screens (if multi-screen map).
19499                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 118; extern unsigned char  sgx_map_scrn_w;
19500                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 120; extern unsigned char  sgx_scr_bank;
19501                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 121; extern unsigned char *sgx_scr_addr;
19502                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 123; extern unsigned char  sgx_map_bank;
19503                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 124; extern unsigned char *sgx_map_addr;
19504                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 126; extern unsigned char  sgx_blk_bank;
19505                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 127; extern unsigned char *sgx_blk_addr;
19506                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 129; extern unsigned char  sgx_tbl_bank;
19507                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 130; extern unsigned char *sgx_tbl_addr;
19508                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 132; extern void __fastcall sgx_set_blocks( unsigned char __far *blk_def<sgx_blk_bank:sgx_blk_addr>, unsigned char __far *flg_def<sgx_tbl_bank:sgx_tbl_addr>, unsigned char number_of_blocks<_al> );
19509                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 133; extern void __fastcall __macro sgx_set_blkmap( unsigned char __far *blk_map<sgx_map_bank:sgx_map_addr>, unsigned char blocks_w<sgx_map_line_w> );
19510                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 134; extern void __fastcall __macro sgx_set_multimap( unsigned char __far *multi_map<sgx_scr_bank:sgx_scr_addr>, unsigned char screens_w<sgx_map_scrn_w> );
19511                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 136; extern void __fastcall sgx_draw_map( void );
19512                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 137; extern void __fastcall sgx_scroll_map( void );
19513                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 139; extern void __fastcall sgx_blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
19514                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 141; extern unsigned char __fastcall sgx_get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
19515                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 143; #asm
19516                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 144; .macro	_sgx_set_blkmap.2
19517                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 145; stz	sgx_scr_bank
19518                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 146; .endm
19519                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 148; .macro	_sgx_set_multimap.2
19520                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 149; lda	sgx_bat_width
19521                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 150; lsr	a
19522                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 151; sta	sgx_map_line_w
19523                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 152; .endm
19524                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 153; #endasm
19525                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 155; #endif
19526                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 157; #endif // __HUCC__
19527                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 159; #endif // _hucc_blkmap_h
19528                        		.dbg	line,	"include\init.c", 13; void init_SYSTEM()
19529                        		.dbg	line,	"include\init.c", 14; {
19530                        	;***********************
19531                        	;***********************
19532                        	
19533                        		.hucc
19534    1E:DFE2             		.proc		_init_SYSTEM
19535                        		__enter		_init_SYSTEM
19536                        	
19537                        		.dbg	line,	"include\init.c", 15; // DISABLE DISPLAY //
19538                        	
19539                        		.dbg	line,	"include\init.c", 16; disp_off();
19540                        		__call		_disp_off
         1E:DFE2  20 3D E4   			call	_disp_off
19541                        	
19542                        		.dbg	line,	"include\init.c", 18; // VSYNC //
19543                        	
19544                        		.dbg	line,	"include\init.c", 19; vsync();
19545                        		__call		_vsync
         1E:DFE5  20 1D E3   			call	_vsync
19546                        	
19547                        		.dbg	line,	"include\init.c", 21; // LOAD DEFAULT FONT //
19548                        	
19549                        		.dbg	line,	"include\init.c", 22; load_default_font();
19550                        		 _load_default_font
         1E:DFE8  82         			clx				; Offset to PCE VDC.
         1E:DFE9  20 C7 FF   			call	huc_monofont_x
19551                        	
19552                        		.dbg	line,	"include\init.c", 25; // SET VDC 1 SCREEN SIZE (IN TILES) - 32x32 = 256 PIXELS
19553                        	
19554                        		.dbg	line,	"include\init.c", 26; set_screen_size(SCR_SIZE_32x32);
19555                        		__st.umiq	0, _al
         1E:DFEC  64 F8      			stz	_al
19556                        		__call		_set_screen_size.1
         1E:DFEE  20 E1 FE   			call	_set_screen_size.1
19557                        	
19558                        		.dbg	line,	"include\init.c", 29; // SET VDC 2 SCREEN SIZE (IN TILES) - 32x32 = 256 PIXELS
19559                        	
19560                        		.dbg	line,	"include\init.c", 30; sgx_set_screen_size(SCR_SIZE_32x32);
19561                        		__st.umiq	0, _al
         1E:DFF1  64 F8      			stz	_al
19562                        		__call		_sgx_set_screen_size.1
         1E:DFF3  20 D7 FE   			call	_sgx_set_screen_size.1
19563                        	
19564                        		.dbg	line,	"include\init.c", 33; // INIT SPRITE ATTRIBUTE TABLE //
19565                        	
19566                        		.dbg	line,	"include\init.c", 34; init_satb();
19567                        		__call		_init_satb
         1E:DFF6  20 CB E7   			call	_init_satb
19568                        	
19569                        		.dbg	line,	"include\init.c", 35; sgx_init_satb();
19570                        		__call		_sgx_init_satb
         1E:DFF9  20 DE E7   			call	_sgx_init_satb
19571                        	
19572                        		.dbg	line,	"include\init.c", 38; // ENABLE DISPLAY //
19573                        	
19574                        		.dbg	line,	"include\init.c", 39; //disp_on();
19575                        	
19576                        		.dbg	line,	"include\init.c", 40; }
19577    1E:DFFC             	.LL974:
19578                        		__return	0
         1E:DFFC  4C EF FF   			jmp	leave_proc
19579                        		.dbg	clear
19580                        		.endp
19581                        		.pceas
19582                        	
19583                        		.dbg	line,	"include\init.c", 43; void init_VARIABLES()
19584                        		.dbg	line,	"include\init.c", 44; {
19585                        	;***********************
19586                        	;***********************
19587                        	
19588                        		.hucc
19589    11:DFAA             		.proc		_init_VARIABLES
19590                        		__enter		_init_VARIABLES
19591                        	
19592                        		.dbg	line,	"include\init.c", 45; sequence_id = SEQUENCE_TITLE; // SEQUENCE_TITLE | SEQUENCE_INTRO | SEQUENCE_LEVEL | SEQUENCE_SHOP
19593                        		__st.umiq	0, _sequence_id
         11:DFAA  9C 14 23   			stz	_sequence_id
19594                        	
19595                        		.dbg	line,	"include\init.c", 47; letter_index = 0;
19596                        		__st.wmiq	0, _letter_index
         11:DFAD  9C 5D 26   			stz.l	_letter_index
         11:DFB0  9C 5E 26   			stz.h	_letter_index
19597                        	
19598                        		.dbg	line,	"include\init.c", 49; level_id = 1;
19599                        		__st.umiq	1, _level_id
         11:DFB3  A9 01      			lda.l	#1
         11:DFB5  8D 16 23   			sta	_level_id
19600                        	
19601                        		.dbg	line,	"include\init.c", 50; display_level_text = TRUE;
19602                        		__st.umiq	1, _display_level_text
         11:DFB8  A9 01      			lda.l	#1
         11:DFBA  8D 17 23   			sta	_display_level_text
19603                        	
19604                        		.dbg	line,	"include\init.c", 52; life_amount = 3;
19605                        		__st.umiq	3, _life_amount
         11:DFBD  A9 03      			lda.l	#3
         11:DFBF  8D 2F 23   			sta	_life_amount
19606                        	
19607                        		.dbg	line,	"include\init.c", 53; credits_amount = 2;
19608                        		__st.umiq	2, _credits_amount
         11:DFC2  A9 02      			lda.l	#2
         11:DFC4  8D 30 23   			sta	_credits_amount
19609                        	
19610                        		.dbg	line,	"include\init.c", 54; key_amount = 0;
19611                        		__st.umiq	0, _key_amount
         11:DFC7  9C 31 23   			stz	_key_amount
19612                        	
19613                        		.dbg	line,	"include\init.c", 55; potion_amount = 0;
19614                        		__st.umiq	0, _potion_amount
         11:DFCA  9C 32 23   			stz	_potion_amount
19615                        	
19616                        		.dbg	line,	"include\init.c", 56; zenny_amount = 0;
19617                        		__st.wmiq	0, _zenny_amount
         11:DFCD  9C 61 26   			stz.l	_zenny_amount
         11:DFD0  9C 62 26   			stz.h	_zenny_amount
19618                        	
19619                        		.dbg	line,	"include\init.c", 58; weapon_level = 0;
19620                        		__st.umiq	0, _weapon_level
         11:DFD3  9C 2A 23   			stz	_weapon_level
19621                        	
19622                        		.dbg	line,	"include\init.c", 59; armor_level = 2;
19623                        		__st.umiq	2, _armor_level
         11:DFD6  A9 02      			lda.l	#2
         11:DFD8  8D 29 23   			sta	_armor_level
19624                        	
19625                        		.dbg	line,	"include\init.c", 60; 
19626                        	
19627                        		.dbg	line,	"include\init.c", 61; player_naked = FALSE;
19628                        		__st.umiq	0, _player_naked
         11:DFDB  9C 21 23   			stz	_player_naked
19629                        	
19630                        		.dbg	line,	"include\init.c", 63; selected_npc = 0;
19631                        		__st.umiq	0, _selected_npc
         11:DFDE  9C D6 23   			stz	_selected_npc
19632                        	
19633                        		.dbg	line,	"include\init.c", 64; index_x = 0;
19634                        		__st.umiq	0, _index_x
         11:DFE1  9C FB 23   			stz	_index_x
19635                        	
19636                        		.dbg	line,	"include\init.c", 65; index_y = 0;
19637                        		__st.umiq	0, _index_y
         11:DFE4  9C FC 23   			stz	_index_y
19638                        	
19639                        		.dbg	line,	"include\init.c", 66; item_index = 0;
19640                        		__st.umiq	0, _item_index
         11:DFE7  9C FD 23   			stz	_item_index
19641                        	
19642                        		.dbg	line,	"include\init.c", 67; shop_counter = 0;
19643                        		__st.umiq	0, _shop_counter
         11:DFEA  9C FF 23   			stz	_shop_counter
19644                        	
19645                        		.dbg	line,	"include\init.c", 68; shop_phase = SHOP_PHASE_ENTER;
19646                        		__st.umiq	0, _shop_phase
         11:DFED  9C FE 23   			stz	_shop_phase
19647                        	
19648                        		.dbg	line,	"include\init.c", 70; respawn = FALSE;
19649                        		__st.umiq	0, _respawn
         11:DFF0  9C 18 23   			stz	_respawn
19650                        	
19651                        		.dbg	line,	"include\init.c", 72; sequence_loaded = FALSE;
19652                        		__st.umiq	0, _sequence_loaded
         11:DFF3  9C 15 23   			stz	_sequence_loaded
19653                        	
19654                        		.dbg	line,	"include\init.c", 73; }
19655    11:DFF6             	.LL975:
19656                        		__return	0
         11:DFF6  4C EF FF   			jmp	leave_proc
19657                        		.dbg	clear
19658                        		.endp
19659                        		.pceas
19660                        	
19661                        		.dbg	line,	"include\init.c", 76; void init_PLAYER()
19662                        		.dbg	line,	"include\init.c", 77; {
19663                        	;***********************
19664                        	;***********************
19665                        	
19666                        		.hucc
19667    1F:DFA9             		.proc		_init_PLAYER
19668                        		__enter		_init_PLAYER
19669                        	
19670                        		.dbg	line,	"include\init.c", 78; if(player_naked != RESPAWN_SHOP)
19671                        		__ld.umq	_player_naked
         1F:DFA9  AD 21 23   			lda	_player_naked
19672                        		__neq_b.uiq	2
         1F:DFAC  38         			sec
         1F:DFAD  49 02      			eor	#2
         1F:DFAF  D0 01      			bne	!+
         1F:DFB1  18         			clc
         1F:DFB2             	!:
19673                        		__bfalse	.LL977
         1F:DFB2  90 03      			bcc	.LL977
19674                        	
19675                        		.dbg	line,	"include\init.c", 79; {
19676                        	
19677                        		.dbg	line,	"include\init.c", 80; player_naked = FALSE;
19678                        		__st.umiq	0, _player_naked
         1F:DFB4  9C 21 23   			stz	_player_naked
19679                        	
19680                        		.dbg	line,	"include\init.c", 81; }
19681                        	
19682                        		.dbg	line,	"include\init.c", 82; 
19683                        	
19684                        		.dbg	line,	"include\init.c", 83; player_id = PLAYER_START_INDEX;
19685    1F:DFB7             	.LL977:
19686                        		__st.umiq	14, _player_id
         1F:DFB7  A9 0E      			lda.l	#14
         1F:DFB9  8D 19 23   			sta	_player_id
19687                        	
19688                        		.dbg	line,	"include\init.c", 84; player_axis = AXIS_RIGHT;
19689                        		__st.umiq	0, _player_axis
         1F:DFBC  9C 1B 23   			stz	_player_axis
19690                        	
19691                        		.dbg	line,	"include\init.c", 85; player_previous_axis = player_axis;
19692                        		__ld.um		_player_axis
         1F:DFBF  AD 1B 23   			lda	_player_axis
         1F:DFC2  C2         			cly
19693                        		__st.umq	_player_previous_axis
         1F:DFC3  8D 1C 23   			sta	_player_previous_axis
19694                        	
19695                        		.dbg	line,	"include\init.c", 86; player_counter_anim = 0;
19696                        		__st.umiq	0, _player_counter_anim
         1F:DFC6  9C 1D 23   			stz	_player_counter_anim
19697                        	
19698                        		.dbg	line,	"include\init.c", 87; player_index_jump = 0;
19699                        		__st.umiq	0, _player_index_jump
         1F:DFC9  9C 1E 23   			stz	_player_index_jump
19700                        	
19701                        		.dbg	line,	"include\init.c", 88; player_index_fall = 0;
19702                        		__st.umiq	0, _player_index_fall
         1F:DFCC  9C 1F 23   			stz	_player_index_fall
19703                        	
19704                        		.dbg	line,	"include\init.c", 89; fall_ladder = FALSE;
19705                        		__st.umiq	0, _fall_ladder
         1F:DFCF  9C 25 23   			stz	_fall_ladder
19706                        	
19707                        		.dbg	line,	"include\init.c", 90; player_counter_attack = 0;
19708                        		__st.umiq	0, _player_counter_attack
         1F:DFD2  9C 20 23   			stz	_player_counter_attack
19709                        	
19710                        		.dbg	line,	"include\init.c", 91; player_attack = FALSE;
19711                        		__st.umiq	0, _player_attack
         1F:DFD5  9C 22 23   			stz	_player_attack
19712                        	
19713                        		.dbg	line,	"include\init.c", 92; player_state = STATE_IDLE;
19714                        		__st.umiq	0, _player_state
         1F:DFD8  9C 1A 23   			stz	_player_state
19715                        	
19716                        		.dbg	line,	"include\init.c", 94; chain_id = player_id - 3;
19717                        		__ld.um		_player_id
         1F:DFDB  AD 19 23   			lda	_player_id
         1F:DFDE  C2         			cly
19718                        		__sub.wi	3
         1F:DFDF  38         			sec
         1F:DFE0  E9 03      			sbc.l	#3
         1F:DFE2  B0 01      			bcs	!+
         1F:DFE4  88         			dey
         1F:DFE5             	!:
19719                        		__st.umq	_chain_id
         1F:DFE5  8D 27 23   			sta	_chain_id
19720                        	
19721                        		.dbg	line,	"include\init.c", 95; }
19722    1F:DFE8             	.LL976:
19723                        		__return	0
         1F:DFE8  4C EF FF   			jmp	leave_proc
19724                        		.dbg	clear
19725                        		.endp
19726                        		.pceas
19727                        	
19728                        		.dbg	line,	"include\init.c", 104; void init_TITLE()
19729                        		.dbg	line,	"include\init.c", 105; {
19730                        	;***********************
19731                        	;***********************
19732                        	
19733                        		.hucc
19734    1F:CBA6             		.proc		_init_TITLE
19735                        		__enter		_init_TITLE
19736                        	
19737                        		.dbg	line,	"include\init.c", 106; // DISABLE DISPLAY //
19738                        	
19739                        		.dbg	line,	"include\init.c", 107; disp_off();
19740                        		__call		_disp_off
         1F:CBA6  20 3D E4   			call	_disp_off
19741                        	
19742                        		.dbg	line,	"include\init.c", 108; 
19743                        	
19744                        		.dbg	line,	"include\init.c", 110; // VSYNC //
19745                        	
19746                        		.dbg	line,	"include\init.c", 111; vsync();
19747                        		__call		_vsync
         1F:CBA9  20 1D E3   			call	_vsync
19748                        	
19749                        		.dbg	line,	"include\init.c", 114; // SET VDC 1 SCREEN SIZE (IN TILES) - 64x64 = 256 PIXELS
19750                        	
19751                        		.dbg	line,	"include\init.c", 115; set_screen_size(SCR_SIZE_32x32);
19752                        		__st.umiq	0, _al
         1F:CBAC  64 F8      			stz	_al
19753                        		__call		_set_screen_size.1
         1F:CBAE  20 E1 FE   			call	_set_screen_size.1
19754                        	
19755                        		.dbg	line,	"include\init.c", 117; // SET VDC 2 SCREEN SIZE (IN TILES) - 32x32 = 512 PIXELS
19756                        	
19757                        		.dbg	line,	"include\init.c", 118; //sgx_set_screen_size(SCR_SIZE_32x32);
19758                        	
19759                        		.dbg	line,	"include\init.c", 123; //**************************************************************************************//
19760                        	
19761                        		.dbg	line,	"include\init.c", 124; //                                                                                      //
19762                        	
19763                        		.dbg	line,	"include\init.c", 125; //                                        VDC 1                                         //
19764                        	
19765                        		.dbg	line,	"include\init.c", 126; //                                                                                      //
19766                        	
19767                        		.dbg	line,	"include\init.c", 127; //**************************************************************************************//
19768                        	
19769                        		.dbg	line,	"include\init.c", 129; //--------------------------------------------------------------------------------------//
19770                        	
19771                        		.dbg	line,	"include\init.c", 130; //                                      LOAD FONT                                       //
19772                        	
19773                        		.dbg	line,	"include\init.c", 131; //--------------------------------------------------------------------------------------//
19774                        	
19775                        		.dbg	line,	"include\init.c", 133; load_vram( 0x0800, tileset_FONT_TITLE, SIZEOF(tileset_FONT_TITLE) >> 1 );
19776                        		__st.wmiq	2048, _di
         1F:CBB1  64 F0      			stz.l	_di
         1F:CBB3  A9 08      			lda.h	#2048
         1F:CBB5  85 F1      			sta.h	_di
19777                        		__farptr	_tileset_FONT_TITLE, _bp_bank, _bp
         1F:CBB7  A9 E0      			lda.l	#$6000 + ($1FFF & (_tileset_FONT_TITLE))
         1F:CBB9  85 EC      			sta.l	_bp
         1F:CBBB  A9 71      			lda.h	#$6000 + ($1FFF & (_tileset_FONT_TITLE))
         1F:CBBD  85 ED      			sta.h	_bp
         1F:CBBF  A9 12      			lda	#bank(_tileset_FONT_TITLE)
         1F:CBC1  85 02      			sta	_bp_bank
19778                        		__ld.wi		___sizeof__tileset_FONT_TITLE
         1F:CBC3  A9 00      			lda.l	#___sizeof__tileset_FONT_TITLE
         1F:CBC5  A0 0C      			ldy.h	#___sizeof__tileset_FONT_TITLE
19779                        		__lsr.wi	1
         1F:CBC7  42         			say
         1F:CBC8  4A         			lsr	a
         1F:CBC9  42         			say
         1F:CBCA  6A         			ror	a
19780                        		__st.wmq	_ax
         1F:CBCB  85 F8      			sta.l	_ax
         1F:CBCD  84 F9      			sty.h	_ax
19781                        		 _load_vram.3
         1F:CBCF  82         			clx				; Offset to PCE VDC.
         1F:CBD0  20 F5 FE   			call	load_vram_x
19782                        	
19783                        		.dbg	line,	"include\init.c", 135; set_font_pal(15);
19784                        		__ld.uiq	15
         1F:CBD3  A9 0F      			lda	#15
19785                        		__call		_set_font_pal.1
         1F:CBD5  20 00 E6   			call	_set_font_pal.1
19786                        	
19787                        		.dbg	line,	"include\init.c", 139; //--------------------------------------------------------------------------------------//
19788                        	
19789                        		.dbg	line,	"include\init.c", 140; //                                    LOAD TILEMAP                                      //
19790                        	
19791                        		.dbg	line,	"include\init.c", 141; //--------------------------------------------------------------------------------------//
19792                        	
19793                        		.dbg	line,	"include\init.c", 143; load_vram( 0x0000, tilemap_TITLE_BG_B, SIZEOF(tilemap_TITLE_BG_B) >> 1 );
19794                        		__st.wmiq	0, _di
         1F:CBD8  64 F0      			stz.l	_di
         1F:CBDA  64 F1      			stz.h	_di
19795                        		__farptr	_tilemap_TITLE_BG_B, _bp_bank, _bp
         1F:CBDC  A9 40      			lda.l	#$6000 + ($1FFF & (_tilemap_TITLE_BG_B))
         1F:CBDE  85 EC      			sta.l	_bp
         1F:CBE0  A9 7A      			lda.h	#$6000 + ($1FFF & (_tilemap_TITLE_BG_B))
         1F:CBE2  85 ED      			sta.h	_bp
         1F:CBE4  A9 13      			lda	#bank(_tilemap_TITLE_BG_B)
         1F:CBE6  85 02      			sta	_bp_bank
19796                        		__ld.wi		___sizeof__tilemap_TITLE_BG_B
         1F:CBE8  A9 00      			lda.l	#___sizeof__tilemap_TITLE_BG_B
         1F:CBEA  A0 07      			ldy.h	#___sizeof__tilemap_TITLE_BG_B
19797                        		__lsr.wi	1
         1F:CBEC  42         			say
         1F:CBED  4A         			lsr	a
         1F:CBEE  42         			say
         1F:CBEF  6A         			ror	a
19798                        		__st.wmq	_ax
         1F:CBF0  85 F8      			sta.l	_ax
         1F:CBF2  84 F9      			sty.h	_ax
19799                        		 _load_vram.3
         1F:CBF4  82         			clx				; Offset to PCE VDC.
         1F:CBF5  20 F5 FE   			call	load_vram_x
19800                        	
19801                        		.dbg	line,	"include\init.c", 145; //--------------------------------------------------------------------------------------//
19802                        	
19803                        		.dbg	line,	"include\init.c", 146; //                                    LOAD TILESET                                      //
19804                        	
19805                        		.dbg	line,	"include\init.c", 147; //--------------------------------------------------------------------------------------//
19806                        	
19807                        		.dbg	line,	"include\init.c", 149; load_vram( 0x1000, tileset_TITLE_BG_B, SIZEOF(tileset_TITLE_BG_B) >> 1 );
19808                        		__st.wmiq	4096, _di
         1F:CBF8  64 F0      			stz.l	_di
         1F:CBFA  A9 10      			lda.h	#4096
         1F:CBFC  85 F1      			sta.h	_di
19809                        		__farptr	_tileset_TITLE_BG_B, _bp_bank, _bp
         1F:CBFE  A9 E0      			lda.l	#$6000 + ($1FFF & (_tileset_TITLE_BG_B))
         1F:CC00  85 EC      			sta.l	_bp
         1F:CC02  A9 7D      			lda.h	#$6000 + ($1FFF & (_tileset_TITLE_BG_B))
         1F:CC04  85 ED      			sta.h	_bp
         1F:CC06  A9 12      			lda	#bank(_tileset_TITLE_BG_B)
         1F:CC08  85 02      			sta	_bp_bank
19810                        		__ld.wi		___sizeof__tileset_TITLE_BG_B
         1F:CC0A  A9 60      			lda.l	#___sizeof__tileset_TITLE_BG_B
         1F:CC0C  A0 1C      			ldy.h	#___sizeof__tileset_TITLE_BG_B
19811                        		__lsr.wi	1
         1F:CC0E  42         			say
         1F:CC0F  4A         			lsr	a
         1F:CC10  42         			say
         1F:CC11  6A         			ror	a
19812                        		__st.wmq	_ax
         1F:CC12  85 F8      			sta.l	_ax
         1F:CC14  84 F9      			sty.h	_ax
19813                        		 _load_vram.3
         1F:CC16  82         			clx				; Offset to PCE VDC.
         1F:CC17  20 F5 FE   			call	load_vram_x
19814                        	
19815                        		.dbg	line,	"include\init.c", 154; //put_string("PRESS RUN"   , 11 , 18);
19816                        	
19817                        		.dbg	line,	"include\init.c", 155; put_string("START GAME"  	, 11 , 18);
19818                        		__ld.wi		__const1+0
         1F:CC1A  A9 00      			lda.l	#__const1+0
         1F:CC1C  A0 60      			ldy.h	#__const1+0
19819                        		__st.wmq	_bp
         1F:CC1E  85 EC      			sta.l	_bp
         1F:CC20  84 ED      			sty.h	_bp
19820                        		__st.umiq	11, _dil
         1F:CC22  A9 0B      			lda.l	#11
         1F:CC24  85 F0      			sta	_dil
19821                        		__st.umiq	18, _dih
         1F:CC26  A9 12      			lda.l	#18
         1F:CC28  85 F1      			sta	_dih
19822                        		__call		_put_string.3
         1F:CC2A  20 5F E6   			call	_put_string.3
19823                        	
19824                        		.dbg	line,	"include\init.c", 157; put_string("LIFE"        	, 11 , 20);
19825                        		__ld.wi		__const1+11
         1F:CC2D  A9 0B      			lda.l	#__const1+11
         1F:CC2F  A0 60      			ldy.h	#__const1+11
19826                        		__st.wmq	_bp
         1F:CC31  85 EC      			sta.l	_bp
         1F:CC33  84 ED      			sty.h	_bp
19827                        		__st.umiq	11, _dil
         1F:CC35  A9 0B      			lda.l	#11
         1F:CC37  85 F0      			sta	_dil
19828                        		__st.umiq	20, _dih
         1F:CC39  A9 14      			lda.l	#20
         1F:CC3B  85 F1      			sta	_dih
19829                        		__call		_put_string.3
         1F:CC3D  20 5F E6   			call	_put_string.3
19830                        	
19831                        		.dbg	line,	"include\init.c", 158; put_number(life_amount   	,  1 , 20 , 20);
19832                        		__ld.um		_life_amount
         1F:CC40  AD 2F 23   			lda	_life_amount
         1F:CC43  C2         			cly
19833                        		__st.wmq	_bx
         1F:CC44  85 FA      			sta.l	_bx
         1F:CC46  84 FB      			sty.h	_bx
19834                        		__st.umiq	1, _cl
         1F:CC48  A9 01      			lda.l	#1
         1F:CC4A  85 FC      			sta	_cl
19835                        		__st.umiq	20, _dil
         1F:CC4C  A9 14      			lda.l	#20
         1F:CC4E  85 F0      			sta	_dil
19836                        		__st.umiq	20, _dih
         1F:CC50  A9 14      			lda.l	#20
         1F:CC52  85 F1      			sta	_dih
19837                        		__call		_put_number.4
         1F:CC54  20 6D FF   			call	_put_number.4
19838                        	
19839                        		.dbg	line,	"include\init.c", 160; put_string("CREDITS"		, 11 , 21);
19840                        		__ld.wi		__const1+16
         1F:CC57  A9 10      			lda.l	#__const1+16
         1F:CC59  A0 60      			ldy.h	#__const1+16
19841                        		__st.wmq	_bp
         1F:CC5B  85 EC      			sta.l	_bp
         1F:CC5D  84 ED      			sty.h	_bp
19842                        		__st.umiq	11, _dil
         1F:CC5F  A9 0B      			lda.l	#11
         1F:CC61  85 F0      			sta	_dil
19843                        		__st.umiq	21, _dih
         1F:CC63  A9 15      			lda.l	#21
         1F:CC65  85 F1      			sta	_dih
19844                        		__call		_put_string.3
         1F:CC67  20 5F E6   			call	_put_string.3
19845                        	
19846                        		.dbg	line,	"include\init.c", 161; put_number(credits_amount   ,  1 , 20 , 21);
19847                        		__ld.um		_credits_amount
         1F:CC6A  AD 30 23   			lda	_credits_amount
         1F:CC6D  C2         			cly
19848                        		__st.wmq	_bx
         1F:CC6E  85 FA      			sta.l	_bx
         1F:CC70  84 FB      			sty.h	_bx
19849                        		__st.umiq	1, _cl
         1F:CC72  A9 01      			lda.l	#1
         1F:CC74  85 FC      			sta	_cl
19850                        		__st.umiq	20, _dil
         1F:CC76  A9 14      			lda.l	#20
         1F:CC78  85 F0      			sta	_dil
19851                        		__st.umiq	21, _dih
         1F:CC7A  A9 15      			lda.l	#21
         1F:CC7C  85 F1      			sta	_dih
19852                        		__call		_put_number.4
         1F:CC7E  20 6D FF   			call	_put_number.4
19853                        	
19854                        		.dbg	line,	"include\init.c", 163; put_string("CAPCOM 1987" 	, 11 , 26);
19855                        		__ld.wi		__const1+24
         1F:CC81  A9 18      			lda.l	#__const1+24
         1F:CC83  A0 60      			ldy.h	#__const1+24
19856                        		__st.wmq	_bp
         1F:CC85  85 EC      			sta.l	_bp
         1F:CC87  84 ED      			sty.h	_bp
19857                        		__st.umiq	11, _dil
         1F:CC89  A9 0B      			lda.l	#11
         1F:CC8B  85 F0      			sta	_dil
19858                        		__st.umiq	26, _dih
         1F:CC8D  A9 1A      			lda.l	#26
         1F:CC8F  85 F1      			sta	_dih
19859                        		__call		_put_string.3
         1F:CC91  20 5F E6   			call	_put_string.3
19860                        	
19861                        		.dbg	line,	"include\init.c", 168; //--------------------------------------------------------------------------------------//
19862                        	
19863                        		.dbg	line,	"include\init.c", 169; //                                   LOAD BG PALETTES                                   //
19864                        	
19865                        		.dbg	line,	"include\init.c", 170; //--------------------------------------------------------------------------------------//
19866                        	
19867                        		.dbg	line,	"include\init.c", 172; load_palette( 0, palette_TITLE, 16 );
19868                        		__st.umiq	0, _al
         1F:CC94  64 F8      			stz	_al
19869                        		__farptr	_palette_TITLE, _bp_bank, _bp
         1F:CC96  A9 40      			lda.l	#$6000 + ($1FFF & (_palette_TITLE))
         1F:CC98  85 EC      			sta.l	_bp
         1F:CC9A  A9 61      			lda.h	#$6000 + ($1FFF & (_palette_TITLE))
         1F:CC9C  85 ED      			sta.h	_bp
         1F:CC9E  A9 14      			lda	#bank(_palette_TITLE)
         1F:CCA0  85 02      			sta	_bp_bank
19870                        		__st.umiq	16, _ah
         1F:CCA2  A9 10      			lda.l	#16
         1F:CCA4  85 F9      			sta	_ah
19871                        		__call		_load_palette.3
         1F:CCA6  20 8B FF   			call	_load_palette.3
19872                        	
19873                        		.dbg	line,	"include\init.c", 177; //**************************************************************************************//
19874                        	
19875                        		.dbg	line,	"include\init.c", 178; //                                                                                      //
19876                        	
19877                        		.dbg	line,	"include\init.c", 179; //                                       SPRITES                                        //
19878                        	
19879                        		.dbg	line,	"include\init.c", 180; //                                                                                      //
19880                        	
19881                        		.dbg	line,	"include\init.c", 181; //**************************************************************************************//
19882                        	
19883                        		.dbg	line,	"include\init.c", 183; //--------------------------------------------------------------------------------------//
19884                        	
19885                        		.dbg	line,	"include\init.c", 184; //                                        CURSOR                                        //
19886                        	
19887                        		.dbg	line,	"include\init.c", 185; //--------------------------------------------------------------------------------------//
19888                        	
19889                        		.dbg	line,	"include\init.c", 187; // LOAD CURSOR TILES //
19890                        	
19891                        		.dbg	line,	"include\init.c", 188; load_vram(0x2000, tiles_SPR_SELECTOR , SIZEOF(tiles_SPR_SELECTOR) >> 1 );
19892                        		__st.wmiq	8192, _di
         1F:CCA9  64 F0      			stz.l	_di
         1F:CCAB  A9 20      			lda.h	#8192
         1F:CCAD  85 F1      			sta.h	_di
19893                        		__farptr	_tiles_SPR_SELECTOR, _bp_bank, _bp
         1F:CCAF  A9 40      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_SELECTOR))
         1F:CCB1  85 EC      			sta.l	_bp
         1F:CCB3  A9 65      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_SELECTOR))
         1F:CCB5  85 ED      			sta.h	_bp
         1F:CCB7  A9 16      			lda	#bank(_tiles_SPR_SELECTOR)
         1F:CCB9  85 02      			sta	_bp_bank
19894                        		__ld.wi		___sizeof__tiles_SPR_SELECTOR
         1F:CCBB  A9 80      			lda.l	#___sizeof__tiles_SPR_SELECTOR
         1F:CCBD  A0 00      			ldy.h	#___sizeof__tiles_SPR_SELECTOR
19895                        		__lsr.wi	1
         1F:CCBF  42         			say
         1F:CCC0  4A         			lsr	a
         1F:CCC1  42         			say
         1F:CCC2  6A         			ror	a
19896                        		__st.wmq	_ax
         1F:CCC3  85 F8      			sta.l	_ax
         1F:CCC5  84 F9      			sty.h	_ax
19897                        		 _load_vram.3
         1F:CCC7  82         			clx				; Offset to PCE VDC.
         1F:CCC8  20 F5 FE   			call	load_vram_x
19898                        	
19899                        		.dbg	line,	"include\init.c", 191; // SELECT CURSOR SPRITE //
19900                        	
19901                        		.dbg	line,	"include\init.c", 192; spr_set(0);
19902                        		__ld.uiq	0
         1F:CCCB  62         			cla
19903                        		__call		_spr_set.1
         1F:CCCC  20 F1 E7   			call	_spr_set.1
19904                        	
19905                        		.dbg	line,	"include\init.c", 195; spr_x(72);
19906                        		__ld.wi		72
         1F:CCCF  A9 48      			lda.l	#72
         1F:CCD1  C2         			cly
19907                        		__call		_spr_x.1
         1F:CCD2  20 1E E8   			call	_spr_x.1
19908                        	
19909                        		.dbg	line,	"include\init.c", 196; spr_y(144);
19910                        		__ld.wi		144
         1F:CCD5  A9 90      			lda.l	#144
         1F:CCD7  C2         			cly
19911                        		__call		_spr_y.1
         1F:CCD8  20 2D E8   			call	_spr_y.1
19912                        	
19913                        		.dbg	line,	"include\init.c", 198; // SET TILES DATA FOR THE CURSOR //
19914                        	
19915                        		.dbg	line,	"include\init.c", 199; spr_pattern(0x2000);
19916                        		__ld.wi		8192
         1F:CCDB  62         			cla
         1F:CCDC  A0 20      			ldy.h	#8192
19917                        		__call		_spr_pattern.1
         1F:CCDE  20 3A E8   			call	_spr_pattern.1
19918                        	
19919                        		.dbg	line,	"include\init.c", 202; spr_ctrl(FLIP_MAS|SIZE_MAS, NO_FLIP|SZ_16x16);
19920                        		__st.umiq	185, _al
         1F:CCE1  A9 B9      			lda.l	#185
         1F:CCE3  85 F8      			sta	_al
19921                        		__ld.uiq	0
         1F:CCE5  62         			cla
19922                        		__call		_spr_ctrl.2
         1F:CCE6  20 50 E8   			call	_spr_ctrl.2
19923                        	
19924                        		.dbg	line,	"include\init.c", 205; spr_pal(16);
19925                        		__ld.uiq	16
         1F:CCE9  A9 10      			lda	#16
19926                        		__call		_spr_pal.1
         1F:CCEB  20 61 E8   			call	_spr_pal.1
19927                        	
19928                        		.dbg	line,	"include\init.c", 206; spr_pri(TRUE);
19929                        		__ld.uiq	1
         1F:CCEE  A9 01      			lda	#1
19930                        		__call		_spr_pri.1
         1F:CCF0  20 70 E8   			call	_spr_pri.1
19931                        	
19932                        		.dbg	line,	"include\init.c", 209; //--------------------------------------------------------------------------------------//
19933                        	
19934                        		.dbg	line,	"include\init.c", 210; //                                LOAD SPRITES PALETTES                                 //
19935                        	
19936                        		.dbg	line,	"include\init.c", 211; //--------------------------------------------------------------------------------------//
19937                        	
19938                        		.dbg	line,	"include\init.c", 213; load_palette( 16, palette_objects_2, 1 );
19939                        		__st.umiq	16, _al
         1F:CCF3  A9 10      			lda.l	#16
         1F:CCF5  85 F8      			sta	_al
19940                        		__farptr	_palette_objects_2, _bp_bank, _bp
         1F:CCF7  A9 40      			lda.l	#$6000 + ($1FFF & (_palette_objects_2))
         1F:CCF9  85 EC      			sta.l	_bp
         1F:CCFB  A9 7C      			lda.h	#$6000 + ($1FFF & (_palette_objects_2))
         1F:CCFD  85 ED      			sta.h	_bp
         1F:CCFF  A9 1A      			lda	#bank(_palette_objects_2)
         1F:CD01  85 02      			sta	_bp_bank
19941                        		__st.umiq	1, _ah
         1F:CD03  A9 01      			lda.l	#1
         1F:CD05  85 F9      			sta	_ah
19942                        		__call		_load_palette.3
         1F:CD07  20 8B FF   			call	_load_palette.3
19943                        	
19944                        		.dbg	line,	"include\init.c", 218; // UPDATE PCE SAT //
19945                        	
19946                        		.dbg	line,	"include\init.c", 219; satb_update();
19947                        		__call		_satb_update
         1F:CD0A  20 CD FE   			call	_satb_update
19948                        	
19949                        		.dbg	line,	"include\init.c", 224; // VSYNC //
19950                        	
19951                        		.dbg	line,	"include\init.c", 225; vsync();
19952                        		__call		_vsync
         1F:CD0D  20 1D E3   			call	_vsync
19953                        	
19954                        		.dbg	line,	"include\init.c", 227; // ENABLE DISPLAY //
19955                        	
19956                        		.dbg	line,	"include\init.c", 228; disp_on();
19957                        		__call		_disp_on
         1F:CD10  20 2A E4   			call	_disp_on
19958                        	
19959                        		.dbg	line,	"include\init.c", 229; }
19960    1F:CD13             	.LL978:
19961                        		__return	0
         1F:CD13  4C EF FF   			jmp	leave_proc
19962                        		.dbg	clear
19963                        		.endp
19964                        		.pceas
19965                        	
19966                        		.dbg	line,	"include\init.c", 235; void init_INTRO()
19967                        		.dbg	line,	"include\init.c", 236; {
19968                        	;***********************
19969                        	;***********************
19970                        	
19971                        		.hucc
19972    1F:C764             		.proc		_init_INTRO
19973                        		__enter		_init_INTRO
19974                        	
19975                        		.dbg	line,	"include\init.c", 237; char i;
19976                        	
19977                        		.dbg	line,	"include\init.c", 238; 
19978                        	
19979                        		.dbg	line,	"include\init.c", 239; // DISABLE DISPLAY //
19980                        	
19981                        		.dbg	line,	"include\init.c", 240; disp_off();
19982                        		__call		_disp_off
         1F:C764  20 3D E4   			call	_disp_off
19983                        	
19984                        		.dbg	line,	"include\init.c", 241; 
19985                        	
19986                        		.dbg	line,	"include\init.c", 243; // VSYNC //
19987                        	
19988                        		.dbg	line,	"include\init.c", 244; vsync();
19989                        		__call		_vsync
         1F:C767  20 1D E3   			call	_vsync
19990                        	
19991                        		.dbg	line,	"include\init.c", 247; // SET VDC 1 SCREEN SIZE (IN TILES) - 64x64 = 256 PIXELS
19992                        	
19993                        		.dbg	line,	"include\init.c", 248; set_screen_size(SCR_SIZE_64x64);
19994                        		__st.umiq	5, _al
         1F:C76A  A9 05      			lda.l	#5
         1F:C76C  85 F8      			sta	_al
19995                        		__call		_set_screen_size.1
         1F:C76E  20 E1 FE   			call	_set_screen_size.1
19996                        	
19997                        		.dbg	line,	"include\init.c", 250; // SET VDC 2 SCREEN SIZE (IN TILES) - 32x32 = 256 PIXELS
19998                        	
19999                        		.dbg	line,	"include\init.c", 251; sgx_set_screen_size(SCR_SIZE_32x32);
20000                        		__st.umiq	0, _al
         1F:C771  64 F8      			stz	_al
20001                        		__call		_sgx_set_screen_size.1
         1F:C773  20 D7 FE   			call	_sgx_set_screen_size.1
20002                        	
20003                        		.dbg	line,	"include\init.c", 256; //**************************************************************************************//
20004                        	
20005                        		.dbg	line,	"include\init.c", 257; //                                                                                      //
20006                        	
20007                        		.dbg	line,	"include\init.c", 258; //                                      VARIABLES                                       //
20008                        	
20009                        		.dbg	line,	"include\init.c", 259; //                                                                                      //
20010                        	
20011                        		.dbg	line,	"include\init.c", 260; //**************************************************************************************//
20012                        	
20013                        		.dbg	line,	"include\init.c", 262; global_counter = 1;
20014                        		__st.wmiq	1, _global_counter
         1F:C776  A9 01      			lda.l	#1
         1F:C778  8D 5B 26   			sta.l	_global_counter
         1F:C77B  9C 5C 26   			stz.h	_global_counter
20015                        	
20016                        		.dbg	line,	"include\init.c", 264; vdc_map_pxl_x = 0;
20017                        		__st.wmiq	0, _vdc_map_pxl_x
         1F:C77E  9C D4 26   			stz.l	_vdc_map_pxl_x
         1F:C781  9C D5 26   			stz.h	_vdc_map_pxl_x
20018                        	
20019                        		.dbg	line,	"include\init.c", 265; vdc_map_pxl_y = 0;
20020                        		__st.wmiq	0, _vdc_map_pxl_y
         1F:C784  9C D6 26   			stz.l	_vdc_map_pxl_y
         1F:C787  9C D7 26   			stz.h	_vdc_map_pxl_y
20021                        	
20022                        		.dbg	line,	"include\init.c", 270; //**************************************************************************************//
20023                        	
20024                        		.dbg	line,	"include\init.c", 271; //                                                                                      //
20025                        	
20026                        		.dbg	line,	"include\init.c", 272; //                                        VDC 1                                         //
20027                        	
20028                        		.dbg	line,	"include\init.c", 273; //                                                                                      //
20029                        	
20030                        		.dbg	line,	"include\init.c", 274; //**************************************************************************************//
20031                        	
20032                        		.dbg	line,	"include\init.c", 276; //--------------------------------------------------------------------------------------//
20033                        	
20034                        		.dbg	line,	"include\init.c", 277; //                                    LOAD TILEMAP                                      //
20035                        	
20036                        		.dbg	line,	"include\init.c", 278; //--------------------------------------------------------------------------------------//
20037                        	
20038                        		.dbg	line,	"include\init.c", 280; load_vram( 0x0000, tilemap_INTRO_BG_A, SIZEOF(tilemap_INTRO_BG_A) >> 1 );
20039                        		__st.wmiq	0, _di
         1F:C78A  64 F0      			stz.l	_di
         1F:C78C  64 F1      			stz.h	_di
20040                        		__farptr	_tilemap_INTRO_BG_A, _bp_bank, _bp
         1F:C78E  A9 E0      			lda.l	#$6000 + ($1FFF & (_tilemap_INTRO_BG_A))
         1F:C790  85 EC      			sta.l	_bp
         1F:C792  A9 76      			lda.h	#$6000 + ($1FFF & (_tilemap_INTRO_BG_A))
         1F:C794  85 ED      			sta.h	_bp
         1F:C796  A9 05      			lda	#bank(_tilemap_INTRO_BG_A)
         1F:C798  85 02      			sta	_bp_bank
20041                        		__ld.wi		___sizeof__tilemap_INTRO_BG_A
         1F:C79A  A9 00      			lda.l	#___sizeof__tilemap_INTRO_BG_A
         1F:C79C  A0 20      			ldy.h	#___sizeof__tilemap_INTRO_BG_A
20042                        		__lsr.wi	1
         1F:C79E  42         			say
         1F:C79F  4A         			lsr	a
         1F:C7A0  42         			say
         1F:C7A1  6A         			ror	a
20043                        		__st.wmq	_ax
         1F:C7A2  85 F8      			sta.l	_ax
         1F:C7A4  84 F9      			sty.h	_ax
20044                        		 _load_vram.3
         1F:C7A6  82         			clx				; Offset to PCE VDC.
         1F:C7A7  20 F5 FE   			call	load_vram_x
20045                        	
20046                        		.dbg	line,	"include\init.c", 282; //--------------------------------------------------------------------------------------//
20047                        	
20048                        		.dbg	line,	"include\init.c", 283; //                                    LOAD TILESET                                      //
20049                        	
20050                        		.dbg	line,	"include\init.c", 284; //--------------------------------------------------------------------------------------//
20051                        	
20052                        		.dbg	line,	"include\init.c", 286; load_vram( 0x1000, tileset_INTRO_BG_A, SIZEOF(tileset_INTRO_BG_A) >> 1 );
20053                        		__st.wmiq	4096, _di
         1F:C7AA  64 F0      			stz.l	_di
         1F:C7AC  A9 10      			lda.h	#4096
         1F:C7AE  85 F1      			sta.h	_di
20054                        		__farptr	_tileset_INTRO_BG_A, _bp_bank, _bp
         1F:C7B0  A9 60      			lda.l	#$6000 + ($1FFF & (_tileset_INTRO_BG_A))
         1F:C7B2  85 EC      			sta.l	_bp
         1F:C7B4  A9 6B      			lda.h	#$6000 + ($1FFF & (_tileset_INTRO_BG_A))
         1F:C7B6  85 ED      			sta.h	_bp
         1F:C7B8  A9 05      			lda	#bank(_tileset_INTRO_BG_A)
         1F:C7BA  85 02      			sta	_bp_bank
20055                        		__ld.wi		___sizeof__tileset_INTRO_BG_A
         1F:C7BC  A9 80      			lda.l	#___sizeof__tileset_INTRO_BG_A
         1F:C7BE  A0 0B      			ldy.h	#___sizeof__tileset_INTRO_BG_A
20056                        		__lsr.wi	1
         1F:C7C0  42         			say
         1F:C7C1  4A         			lsr	a
         1F:C7C2  42         			say
         1F:C7C3  6A         			ror	a
20057                        		__st.wmq	_ax
         1F:C7C4  85 F8      			sta.l	_ax
         1F:C7C6  84 F9      			sty.h	_ax
20058                        		 _load_vram.3
         1F:C7C8  82         			clx				; Offset to PCE VDC.
         1F:C7C9  20 F5 FE   			call	load_vram_x
20059                        	
20060                        		.dbg	line,	"include\init.c", 289; //--------------------------------------------------------------------------------------//
20061                        	
20062                        		.dbg	line,	"include\init.c", 290; //                                    SCROLL SPLIT                                      //
20063                        	
20064                        		.dbg	line,	"include\init.c", 291; //--------------------------------------------------------------------------------------//
20065                        	
20066                        		.dbg	line,	"include\init.c", 293; scroll_split(0,   0, vdc_map_pxl_x & (511), vdc_map_pxl_y & (511), BKG_ON | SPR_ON);
20067                        		__st.umiq	0, _al
         1F:C7CC  64 F8      			stz	_al
20068                        		__st.umiq	0, _ah
         1F:C7CE  64 F9      			stz	_ah
20069                        		__ld.wm		_vdc_map_pxl_x
         1F:C7D0  AD D4 26   			lda.l	_vdc_map_pxl_x
         1F:C7D3  AC D5 26   			ldy.h	_vdc_map_pxl_x
20070                        		__and.wi	511
         1F:C7D6  29 FF      			and.l	#511
         1F:C7D8  42         			say
         1F:C7D9  29 01      			and.h	#511
         1F:C7DB  42         			say
20071                        		__st.wmq	_bx
         1F:C7DC  85 FA      			sta.l	_bx
         1F:C7DE  84 FB      			sty.h	_bx
20072                        		__ld.wm		_vdc_map_pxl_y
         1F:C7E0  AD D6 26   			lda.l	_vdc_map_pxl_y
         1F:C7E3  AC D7 26   			ldy.h	_vdc_map_pxl_y
20073                        		__and.wi	511
         1F:C7E6  29 FF      			and.l	#511
         1F:C7E8  42         			say
         1F:C7E9  29 01      			and.h	#511
         1F:C7EB  42         			say
20074                        		__st.wmq	_cx
         1F:C7EC  85 FC      			sta.l	_cx
         1F:C7EE  84 FD      			sty.h	_cx
20075                        		__st.umiq	192, _dl
         1F:C7F0  A9 C0      			lda.l	#192
         1F:C7F2  85 FE      			sta	_dl
20076                        		__call		_scroll_split.5
         1F:C7F4  20 81 FF   			call	_scroll_split.5
20077                        	
20078                        		.dbg	line,	"include\init.c", 298; //--------------------------------------------------------------------------------------//
20079                        	
20080                        		.dbg	line,	"include\init.c", 299; //                                      LOAD FONT                                       //
20081                        	
20082                        		.dbg	line,	"include\init.c", 300; //--------------------------------------------------------------------------------------//
20083                        	
20084                        		.dbg	line,	"include\init.c", 302; set_font_addr(0x3000);
20085                        		__ld.wi		12288
         1F:C7F7  62         			cla
         1F:C7F8  A0 30      			ldy.h	#12288
20086                        		__call		_set_font_addr.1
         1F:C7FA  20 D9 E5   			call	_set_font_addr.1
20087                        	
20088                        		.dbg	line,	"include\init.c", 303; load_vram( 0x3000, tileset_FONT_INTRO, SIZEOF(tileset_FONT_INTRO) >> 1 );
20089                        		__st.wmiq	12288, _di
         1F:C7FD  64 F0      			stz.l	_di
         1F:C7FF  A9 30      			lda.h	#12288
         1F:C801  85 F1      			sta.h	_di
20090                        		__farptr	_tileset_FONT_INTRO, _bp_bank, _bp
         1F:C803  A9 00      			lda.l	#$6000 + ($1FFF & (_tileset_FONT_INTRO))
         1F:C805  85 EC      			sta.l	_bp
         1F:C807  A9 60      			lda.h	#$6000 + ($1FFF & (_tileset_FONT_INTRO))
         1F:C809  85 ED      			sta.h	_bp
         1F:C80B  A9 03      			lda	#bank(_tileset_FONT_INTRO)
         1F:C80D  85 02      			sta	_bp_bank
20091                        		__ld.wi		___sizeof__tileset_FONT_INTRO
         1F:C80F  A9 00      			lda.l	#___sizeof__tileset_FONT_INTRO
         1F:C811  A0 0C      			ldy.h	#___sizeof__tileset_FONT_INTRO
20092                        		__lsr.wi	1
         1F:C813  42         			say
         1F:C814  4A         			lsr	a
         1F:C815  42         			say
         1F:C816  6A         			ror	a
20093                        		__st.wmq	_ax
         1F:C817  85 F8      			sta.l	_ax
         1F:C819  84 F9      			sty.h	_ax
20094                        		 _load_vram.3
         1F:C81B  82         			clx				; Offset to PCE VDC.
         1F:C81C  20 F5 FE   			call	load_vram_x
20095                        	
20096                        		.dbg	line,	"include\init.c", 305; set_font_pal(15);
20097                        		__ld.uiq	15
         1F:C81F  A9 0F      			lda	#15
20098                        		__call		_set_font_pal.1
         1F:C821  20 00 E6   			call	_set_font_pal.1
20099                        	
20100                        		.dbg	line,	"include\init.c", 309; //**************************************************************************************//
20101                        	
20102                        		.dbg	line,	"include\init.c", 310; //                                                                                      //
20103                        	
20104                        		.dbg	line,	"include\init.c", 311; //                                        VDC 2                                         //
20105                        	
20106                        		.dbg	line,	"include\init.c", 312; //                                                                                      //
20107                        	
20108                        		.dbg	line,	"include\init.c", 313; //**************************************************************************************//
20109                        	
20110                        		.dbg	line,	"include\init.c", 315; //--------------------------------------------------------------------------------------//
20111                        	
20112                        		.dbg	line,	"include\init.c", 316; //                                    LOAD TILEMAP                                      //
20113                        	
20114                        		.dbg	line,	"include\init.c", 317; //--------------------------------------------------------------------------------------//
20115                        	
20116                        		.dbg	line,	"include\init.c", 319; sgx_load_vram( 0x0000, tilemap_INTRO_BG_B, SIZEOF(tilemap_INTRO_BG_B) >> 1 );
20117                        		__st.wmiq	0, _di
         1F:C824  64 F0      			stz.l	_di
         1F:C826  64 F1      			stz.h	_di
20118                        		__farptr	_tilemap_INTRO_BG_B, _bp_bank, _bp
         1F:C828  A9 60      			lda.l	#$6000 + ($1FFF & (_tilemap_INTRO_BG_B))
         1F:C82A  85 EC      			sta.l	_bp
         1F:C82C  A9 64      			lda.h	#$6000 + ($1FFF & (_tilemap_INTRO_BG_B))
         1F:C82E  85 ED      			sta.h	_bp
         1F:C830  A9 05      			lda	#bank(_tilemap_INTRO_BG_B)
         1F:C832  85 02      			sta	_bp_bank
20119                        		__ld.wi		___sizeof__tilemap_INTRO_BG_B
         1F:C834  A9 00      			lda.l	#___sizeof__tilemap_INTRO_BG_B
         1F:C836  A0 07      			ldy.h	#___sizeof__tilemap_INTRO_BG_B
20120                        		__lsr.wi	1
         1F:C838  42         			say
         1F:C839  4A         			lsr	a
         1F:C83A  42         			say
         1F:C83B  6A         			ror	a
20121                        		__st.wmq	_ax
         1F:C83C  85 F8      			sta.l	_ax
         1F:C83E  84 F9      			sty.h	_ax
20122                        		 _sgx_load_vram.3
         1F:C840  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1F:C842  20 F5 FE   			call	load_vram_x
20123                        	
20124                        		.dbg	line,	"include\init.c", 321; //--------------------------------------------------------------------------------------//
20125                        	
20126                        		.dbg	line,	"include\init.c", 322; //                                    LOAD TILESET                                      //
20127                        	
20128                        		.dbg	line,	"include\init.c", 323; //--------------------------------------------------------------------------------------//
20129                        	
20130                        		.dbg	line,	"include\init.c", 325; sgx_load_vram( 0x1000, tileset_INTRO_BG_B, SIZEOF(tileset_INTRO_BG_B) >> 1 );
20131                        		__st.wmiq	4096, _di
         1F:C845  64 F0      			stz.l	_di
         1F:C847  A9 10      			lda.h	#4096
         1F:C849  85 F1      			sta.h	_di
20132                        		__farptr	_tileset_INTRO_BG_B, _bp_bank, _bp
         1F:C84B  A9 00      			lda.l	#$6000 + ($1FFF & (_tileset_INTRO_BG_B))
         1F:C84D  85 EC      			sta.l	_bp
         1F:C84F  A9 70      			lda.h	#$6000 + ($1FFF & (_tileset_INTRO_BG_B))
         1F:C851  85 ED      			sta.h	_bp
         1F:C853  A9 03      			lda	#bank(_tileset_INTRO_BG_B)
         1F:C855  85 02      			sta	_bp_bank
20133                        		__ld.wi		___sizeof__tileset_INTRO_BG_B
         1F:C857  A9 60      			lda.l	#___sizeof__tileset_INTRO_BG_B
         1F:C859  A0 34      			ldy.h	#___sizeof__tileset_INTRO_BG_B
20134                        		__lsr.wi	1
         1F:C85B  42         			say
         1F:C85C  4A         			lsr	a
         1F:C85D  42         			say
         1F:C85E  6A         			ror	a
20135                        		__st.wmq	_ax
         1F:C85F  85 F8      			sta.l	_ax
         1F:C861  84 F9      			sty.h	_ax
20136                        		 _sgx_load_vram.3
         1F:C863  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1F:C865  20 F5 FE   			call	load_vram_x
20137                        	
20138                        		.dbg	line,	"include\init.c", 330; //--------------------------------------------------------------------------------------//
20139                        	
20140                        		.dbg	line,	"include\init.c", 331; //                                   LOAD BG PALETTES                                   //
20141                        	
20142                        		.dbg	line,	"include\init.c", 332; //--------------------------------------------------------------------------------------//
20143                        	
20144                        		.dbg	line,	"include\init.c", 334; // STORES DESTINATION PALETTE FOR FADE //
20145                        	
20146                        		.dbg	line,	"include\init.c", 335; load_palette( 0, palette_INTRO_1, 1 );
20147                        		__st.umiq	0, _al
         1F:C868  64 F8      			stz	_al
20148                        		__farptr	_palette_INTRO_1, _bp_bank, _bp
         1F:C86A  A9 E0      			lda.l	#$6000 + ($1FFF & (_palette_INTRO_1))
         1F:C86C  85 EC      			sta.l	_bp
         1F:C86E  A9 76      			lda.h	#$6000 + ($1FFF & (_palette_INTRO_1))
         1F:C870  85 ED      			sta.h	_bp
         1F:C872  A9 06      			lda	#bank(_palette_INTRO_1)
         1F:C874  85 02      			sta	_bp_bank
20149                        		__st.umiq	1, _ah
         1F:C876  A9 01      			lda.l	#1
         1F:C878  85 F9      			sta	_ah
20150                        		__call		_load_palette.3
         1F:C87A  20 8B FF   			call	_load_palette.3
20151                        	
20152                        		.dbg	line,	"include\init.c", 336; load_palette( 15, palette_FONT_INTRO, 1 );
20153                        		__st.umiq	15, _al
         1F:C87D  A9 0F      			lda.l	#15
         1F:C87F  85 F8      			sta	_al
20154                        		__farptr	_palette_FONT_INTRO, _bp_bank, _bp
         1F:C881  A9 00      			lda.l	#$6000 + ($1FFF & (_palette_FONT_INTRO))
         1F:C883  85 EC      			sta.l	_bp
         1F:C885  A9 6C      			lda.h	#$6000 + ($1FFF & (_palette_FONT_INTRO))
         1F:C887  85 ED      			sta.h	_bp
         1F:C889  A9 03      			lda	#bank(_palette_FONT_INTRO)
         1F:C88B  85 02      			sta	_bp_bank
20155                        		__st.umiq	1, _ah
         1F:C88D  A9 01      			lda.l	#1
         1F:C88F  85 F9      			sta	_ah
20156                        		__call		_load_palette.3
         1F:C891  20 8B FF   			call	_load_palette.3
20157                        	
20158                        		.dbg	line,	"include\init.c", 341; //**************************************************************************************//
20159                        	
20160                        		.dbg	line,	"include\init.c", 342; //                                                                                      //
20161                        	
20162                        		.dbg	line,	"include\init.c", 343; //                                       SPRITES                                        //
20163                        	
20164                        		.dbg	line,	"include\init.c", 344; //                                                                                      //
20165                        	
20166                        		.dbg	line,	"include\init.c", 345; //**************************************************************************************//
20167                        	
20168                        		.dbg	line,	"include\init.c", 347; // HIDE CURSOR SPRITE FROM TITLE SCREEN //
20169                        	
20170                        		.dbg	line,	"include\init.c", 348; spr_set(0);
20171                        		__ld.uiq	0
         1F:C894  62         			cla
20172                        		__call		_spr_set.1
         1F:C895  20 F1 E7   			call	_spr_set.1
20173                        	
20174                        		.dbg	line,	"include\init.c", 349; spr_hide();
20175                        		__call		_spr_hide
         1F:C898  20 0C E8   			call	_spr_hide
20176                        	
20177                        		.dbg	line,	"include\init.c", 351; //--------------------------------------------------------------------------------------//
20178                        	
20179                        		.dbg	line,	"include\init.c", 352; //                                        DRAGON                                        //
20180                        	
20181                        		.dbg	line,	"include\init.c", 353; //--------------------------------------------------------------------------------------//
20182                        	
20183                        		.dbg	line,	"include\init.c", 355; player_pos_x = 113;
20184                        		__st.wmiq	113, _player_pos_x
         1F:C89B  A9 71      			lda.l	#113
         1F:C89D  8D 01 25   			sta.l	_player_pos_x
         1F:C8A0  9C 02 25   			stz.h	_player_pos_x
20185                        	
20186                        		.dbg	line,	"include\init.c", 356; player_pos_y = 81;
20187                        		__st.wmiq	81, _player_pos_y
         1F:C8A3  A9 51      			lda.l	#81
         1F:C8A5  8D 03 25   			sta.l	_player_pos_y
         1F:C8A8  9C 04 25   			stz.h	_player_pos_y
20188                        	
20189                        		.dbg	line,	"include\init.c", 358; // LOAD DRAGON TILES //
20190                        	
20191                        		.dbg	line,	"include\init.c", 359; sgx_load_vram(DRAGON_INTRO_VRAM_ADR, tiles_SPR_DRAGON_INTRO , SIZEOF(tiles_SPR_DRAGON_INTRO) >> 1);
20192                        		__st.wmiq	11264, _di
         1F:C8AB  64 F0      			stz.l	_di
         1F:C8AD  A9 2C      			lda.h	#11264
         1F:C8AF  85 F1      			sta.h	_di
20193                        		__farptr	_tiles_SPR_DRAGON_INTRO, _bp_bank, _bp
         1F:C8B1  A9 40      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_DRAGON_INTRO))
         1F:C8B3  85 EC      			sta.l	_bp
         1F:C8B5  A9 63      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_DRAGON_INTRO))
         1F:C8B7  85 ED      			sta.h	_bp
         1F:C8B9  A9 14      			lda	#bank(_tiles_SPR_DRAGON_INTRO)
         1F:C8BB  85 02      			sta	_bp_bank
20194                        		__ld.wi		___sizeof__tiles_SPR_DRAGON_INTRO
         1F:C8BD  A9 00      			lda.l	#___sizeof__tiles_SPR_DRAGON_INTRO
         1F:C8BF  A0 40      			ldy.h	#___sizeof__tiles_SPR_DRAGON_INTRO
20195                        		__lsr.wi	1
         1F:C8C1  42         			say
         1F:C8C2  4A         			lsr	a
         1F:C8C3  42         			say
         1F:C8C4  6A         			ror	a
20196                        		__st.wmq	_ax
         1F:C8C5  85 F8      			sta.l	_ax
         1F:C8C7  84 F9      			sty.h	_ax
20197                        		 _sgx_load_vram.3
         1F:C8C9  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1F:C8CB  20 F5 FE   			call	load_vram_x
20198                        	
20199                        		.dbg	line,	"include\init.c", 362; for(i=0 ; i<8 ; i++)
20200                        		__st.umiq	0, __init_INTRO_end - 1  /* i */
         1F:C8CE  9C 2D 2C   			stz	__init_INTRO_end - 1
20201    1F:C8D1             	.LL980:
20202                        		__ld.umq	__init_INTRO_end - 1  /* i */
         1F:C8D1  AD 2D 2C   			lda	__init_INTRO_end - 1
20203                        		__ult_b.uiq	8
         1F:C8D4  C9 08      			cmp	#8		; Subtract integer from A.
         1F:C8D6  6A         			ror	a		; CC if A < integer.
         1F:C8D7  49 80      			eor	#$80
         1F:C8D9  2A         			rol	a
20204                        		__btrue		.LL982
         1F:C8DA  B0 08      			bcs	.LL982
20205                        		__bra		.LL983
         1F:C8DC  4C 64 C9   			bra	.LL983
20206    1F:C8DF             	.LL981:
20207                        		__inc.umq	__init_INTRO_end - 1  /* i */
         1F:C8DF  EE 2D 2C   			inc	__init_INTRO_end - 1
20208                        		__bra		.LL980
         1F:C8E2  80 ED      			bra	.LL980
20209    1F:C8E4             	.LL982:
20210                        	
20211                        		.dbg	line,	"include\init.c", 363; {
20212                        	
20213                        		.dbg	line,	"include\init.c", 364; sgx_spr_set(i);
20214                        		__ld.umq	__init_INTRO_end - 1  /* i */
         1F:C8E4  AD 2D 2C   			lda	__init_INTRO_end - 1
20215                        		__call		_sgx_spr_set.1
         1F:C8E7  20 9E E8   			call	_sgx_spr_set.1
20216                        	
20217                        		.dbg	line,	"include\init.c", 365; sgx_spr_x(player_pos_x + (i*32) - ((i>>2)*128));
20218                        		__ld.um		__init_INTRO_end - 1  /* i */
         1F:C8EA  AD 2D 2C   			lda	__init_INTRO_end - 1
         1F:C8ED  C2         			cly
20219                        		__asl.wi	5
         1F:C8EE  85 00      			sta	__temp
         1F:C8F0  98         			tya
         1F:C8F1  4A         			lsr	a
         1F:C8F2  20 C8 E1   			jsr	aslw5
         1F:C8F5  29 E0      			and.l	#$FF << 5
20220                        		__add.wm	_player_pos_x
         1F:C8F7  18         			clc
         1F:C8F8  6D 01 25   			adc.l	_player_pos_x
         1F:C8FB  42         			say
         1F:C8FC  6D 02 25   			adc.h	_player_pos_x
         1F:C8FF  42         			say
20221                        		__push.wr
         1F:C900  5A         			phy
         1F:C901  48         			pha
20222                        		__ld.um		__init_INTRO_end - 1  /* i */
         1F:C902  AD 2D 2C   			lda	__init_INTRO_end - 1
         1F:C905  C2         			cly
20223                        		__lsr.uiq	2
         1F:C906  4A         			lsr	a
         1F:C907  4A         			lsr	a
20224                        		__asl.wi	7
         1F:C908  42         			say
         1F:C909  4A         			lsr	a
         1F:C90A  42         			say
         1F:C90B  6A         			ror	a
         1F:C90C  42         			say
         1F:C90D  6A         			ror	a
         1F:C90E  29 80      			and	#$80
20225                        		__sub.wt
         1F:C910  BA         			tsx
         1F:C911  38         			sec
         1F:C912  49 FF      			eor	#$FF
         1F:C914  7D 01 21   			adc.l	__tos, x
         1F:C917  42         			say
         1F:C918  49 FF      			eor	#$FF
         1F:C91A  7D 02 21   			adc.h	__tos, x
         1F:C91D  42         			say
         1F:C91E  E8         			inx
         1F:C91F  E8         			inx
         1F:C920  9A         			txs
20226                        		__call		_sgx_spr_x.1
         1F:C921  20 CB E8   			call	_sgx_spr_x.1
20227                        	
20228                        		.dbg	line,	"include\init.c", 366; sgx_spr_y(player_pos_y + ((i>>2)*32));
20229                        		__ld.um		__init_INTRO_end - 1  /* i */
         1F:C924  AD 2D 2C   			lda	__init_INTRO_end - 1
         1F:C927  C2         			cly
20230                        		__lsr.uiq	2
         1F:C928  4A         			lsr	a
         1F:C929  4A         			lsr	a
20231                        		__asl.wi	5
         1F:C92A  85 00      			sta	__temp
         1F:C92C  98         			tya
         1F:C92D  4A         			lsr	a
         1F:C92E  20 C8 E1   			jsr	aslw5
         1F:C931  29 E0      			and.l	#$FF << 5
20232                        		__add.wm	_player_pos_y
         1F:C933  18         			clc
         1F:C934  6D 03 25   			adc.l	_player_pos_y
         1F:C937  42         			say
         1F:C938  6D 04 25   			adc.h	_player_pos_y
         1F:C93B  42         			say
20233                        		__call		_sgx_spr_y.1
         1F:C93C  20 DA E8   			call	_sgx_spr_y.1
20234                        	
20235                        		.dbg	line,	"include\init.c", 367; sgx_spr_pattern(DRAGON_INTRO_VRAM_ADR + (i*TILES_16));
20236                        		__ld.um		__init_INTRO_end - 1  /* i */
         1F:C93F  AD 2D 2C   			lda	__init_INTRO_end - 1
         1F:C942  C2         			cly
20237                        		__asl.wi	8
         1F:C943  A8         			tay
         1F:C944  62         			cla
20238                        		__add.wi	11264
         1F:C945  18         			clc
         1F:C946  69 00      			adc.l	#11264
         1F:C948  42         			say
         1F:C949  69 2C      			adc.h	#11264
         1F:C94B  42         			say
20239                        		__call		_sgx_spr_pattern.1
         1F:C94C  20 E7 E8   			call	_sgx_spr_pattern.1
20240                        	
20241                        		.dbg	line,	"include\init.c", 368; sgx_spr_ctrl(FLIP_MAS|SIZE_MAS, NO_FLIP|SZ_32x32);
20242                        		__st.umiq	185, _al
         1F:C94F  A9 B9      			lda.l	#185
         1F:C951  85 F8      			sta	_al
20243                        		__ld.uiq	17
         1F:C953  A9 11      			lda	#17
20244                        		__call		_sgx_spr_ctrl.2
         1F:C955  20 FD E8   			call	_sgx_spr_ctrl.2
20245                        	
20246                        		.dbg	line,	"include\init.c", 369; sgx_spr_pal(16);
20247                        		__ld.uiq	16
         1F:C958  A9 10      			lda	#16
20248                        		__call		_sgx_spr_pal.1
         1F:C95A  20 0E E9   			call	_sgx_spr_pal.1
20249                        	
20250                        		.dbg	line,	"include\init.c", 370; sgx_spr_pri(FALSE);
20251                        		__ld.uiq	0
         1F:C95D  62         			cla
20252                        		__call		_sgx_spr_pri.1
         1F:C95E  20 1D E9   			call	_sgx_spr_pri.1
20253                        	
20254                        		.dbg	line,	"include\init.c", 371; }
20255                        		__bra		.LL981
         1F:C961  4C DF C8   			bra	.LL981
20256    1F:C964             	.LL983:
20257                        	
20258                        		.dbg	line,	"include\init.c", 372; 
20259                        	
20260                        		.dbg	line,	"include\init.c", 374; //--------------------------------------------------------------------------------------//
20261                        	
20262                        		.dbg	line,	"include\init.c", 375; //                                LOAD SPRITES PALETTES                                 //
20263                        	
20264                        		.dbg	line,	"include\init.c", 376; //--------------------------------------------------------------------------------------//
20265                        	
20266                        		.dbg	line,	"include\init.c", 378; load_palette( 16, palette_SPR_DRAGON_INTRO, 1 );
20267                        		__st.umiq	16, _al
         1F:C964  A9 10      			lda.l	#16
         1F:C966  85 F8      			sta	_al
20268                        		__farptr	_palette_SPR_DRAGON_INTRO, _bp_bank, _bp
         1F:C968  A9 40      			lda.l	#$6000 + ($1FFF & (_palette_SPR_DRAGON_INTRO))
         1F:C96A  85 EC      			sta.l	_bp
         1F:C96C  A9 63      			lda.h	#$6000 + ($1FFF & (_palette_SPR_DRAGON_INTRO))
         1F:C96E  85 ED      			sta.h	_bp
         1F:C970  A9 16      			lda	#bank(_palette_SPR_DRAGON_INTRO)
         1F:C972  85 02      			sta	_bp_bank
20269                        		__st.umiq	1, _ah
         1F:C974  A9 01      			lda.l	#1
         1F:C976  85 F9      			sta	_ah
20270                        		__call		_load_palette.3
         1F:C978  20 8B FF   			call	_load_palette.3
20271                        	
20272                        		.dbg	line,	"include\init.c", 382; // UPDATE SGX SAT //
20273                        	
20274                        		.dbg	line,	"include\init.c", 383; sgx_satb_update();
20275                        		__call		_sgx_satb_update
         1F:C97B  20 FF FE   			call	_sgx_satb_update
20276                        	
20277                        		.dbg	line,	"include\init.c", 385; // UPDATE PCE SAT //
20278                        	
20279                        		.dbg	line,	"include\init.c", 386; satb_update();
20280                        		__call		_satb_update
         1F:C97E  20 CD FE   			call	_satb_update
20281                        	
20282                        		.dbg	line,	"include\init.c", 389; // VSYNC //
20283                        	
20284                        		.dbg	line,	"include\init.c", 390; vsync();
20285                        		__call		_vsync
         1F:C981  20 1D E3   			call	_vsync
20286                        	
20287                        		.dbg	line,	"include\init.c", 392; // ENABLE DISPLAY //
20288                        	
20289                        		.dbg	line,	"include\init.c", 393; disp_on();
20290                        		__call		_disp_on
         1F:C984  20 2A E4   			call	_disp_on
20291                        	
20292                        		.dbg	line,	"include\init.c", 394; }
20293    1F:C987             	.LL979:
20294                        		__return	0
         1F:C987  4C EF FF   			jmp	leave_proc
20295                        		.dbg	clear
20296                        		.endp
20297               2311     		.bss
20298    F8:2311             	__init_INTRO_end	.alias	leaf_stack
20299               E31D     		.code
20300                        		.pceas
20301                        	
20302                        		.dbg	line,	"include\init.c", 402; void load_OBJECT_TILES()
20303                        		.dbg	line,	"include\init.c", 403; {
20304                        	;***********************
20305                        	;***********************
20306                        	
20307                        		.hucc
20308    1F:C28F             		.proc		_load_OBJECT_TILES
20309                        		__enter		_load_OBJECT_TILES
20310                        	
20311                        		.dbg	line,	"include\init.c", 404; sgx_load_vram(POT1_VRAM_ADR, tiles_SPR_POT , SIZEOF(tiles_SPR_POT) >> 1);
20312                        		__st.wmiq	26624, _di
         1F:C28F  64 F0      			stz.l	_di
         1F:C291  A9 68      			lda.h	#26624
         1F:C293  85 F1      			sta.h	_di
20313                        		__farptr	_tiles_SPR_POT, _bp_bank, _bp
         1F:C295  A9 40      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_POT))
         1F:C297  85 EC      			sta.l	_bp
         1F:C299  A9 72      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_POT))
         1F:C29B  85 ED      			sta.h	_bp
         1F:C29D  A9 1A      			lda	#bank(_tiles_SPR_POT)
         1F:C29F  85 02      			sta	_bp_bank
20314                        		__ld.wi		___sizeof__tiles_SPR_POT
         1F:C2A1  A9 00      			lda.l	#___sizeof__tiles_SPR_POT
         1F:C2A3  A0 04      			ldy.h	#___sizeof__tiles_SPR_POT
20315                        		__lsr.wi	1
         1F:C2A5  42         			say
         1F:C2A6  4A         			lsr	a
         1F:C2A7  42         			say
         1F:C2A8  6A         			ror	a
20316                        		__st.wmq	_ax
         1F:C2A9  85 F8      			sta.l	_ax
         1F:C2AB  84 F9      			sty.h	_ax
20317                        		 _sgx_load_vram.3
         1F:C2AD  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1F:C2AF  20 F5 FE   			call	load_vram_x
20318                        	
20319                        		.dbg	line,	"include\init.c", 405; sgx_load_vram(POW_VRAM_ADR, tiles_SPR_POW , TILES_4);
20320                        		__st.wmiq	27136, _di
         1F:C2B2  64 F0      			stz.l	_di
         1F:C2B4  A9 6A      			lda.h	#27136
         1F:C2B6  85 F1      			sta.h	_di
20321                        		__farptr	_tiles_SPR_POW, _bp_bank, _bp
         1F:C2B8  A9 40      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_POW))
         1F:C2BA  85 EC      			sta.l	_bp
         1F:C2BC  A9 76      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_POW))
         1F:C2BE  85 ED      			sta.h	_bp
         1F:C2C0  A9 1A      			lda	#bank(_tiles_SPR_POW)
         1F:C2C2  85 02      			sta	_bp_bank
20322                        		__st.wmiq	64, _ax
         1F:C2C4  A9 40      			lda.l	#64
         1F:C2C6  85 F8      			sta.l	_ax
         1F:C2C8  64 F9      			stz.h	_ax
20323                        		 _sgx_load_vram.3
         1F:C2CA  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1F:C2CC  20 F5 FE   			call	load_vram_x
20324                        	
20325                        		.dbg	line,	"include\init.c", 406; sgx_load_vram(GRAY_KEY_VRAM_ADR, tiles_SPR_GRAY_KEY , TILES_4);
20326                        		__st.wmiq	27200, _di
         1F:C2CF  A9 40      			lda.l	#27200
         1F:C2D1  85 F0      			sta.l	_di
         1F:C2D3  A9 6A      			lda.h	#27200
         1F:C2D5  85 F1      			sta.h	_di
20327                        		__farptr	_tiles_SPR_GRAY_KEY, _bp_bank, _bp
         1F:C2D7  A9 C0      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_GRAY_KEY))
         1F:C2D9  85 EC      			sta.l	_bp
         1F:C2DB  A9 6F      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_GRAY_KEY))
         1F:C2DD  85 ED      			sta.h	_bp
         1F:C2DF  A9 1A      			lda	#bank(_tiles_SPR_GRAY_KEY)
         1F:C2E1  85 02      			sta	_bp_bank
20328                        		__st.wmiq	64, _ax
         1F:C2E3  A9 40      			lda.l	#64
         1F:C2E5  85 F8      			sta.l	_ax
         1F:C2E7  64 F9      			stz.h	_ax
20329                        		 _sgx_load_vram.3
         1F:C2E9  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1F:C2EB  20 F5 FE   			call	load_vram_x
20330                        	
20331                        		.dbg	line,	"include\init.c", 407; //sgx_load_vram(GOLD_KEY_VRAM_ADR, tiles_SPR_GOLD_KEY , TILES_4);
20332                        	
20333                        		.dbg	line,	"include\init.c", 408; //sgx_load_vram(LIFE_VRAM_ADR, tiles_SPR_LIFE , TILES_4);
20334                        	
20335                        		.dbg	line,	"include\init.c", 409; sgx_load_vram(COIN_1_VRAM_ADR, tiles_SPR_COIN_1 , TILES_4);
20336                        		__st.wmiq	27264, _di
         1F:C2EE  A9 80      			lda.l	#27264
         1F:C2F0  85 F0      			sta.l	_di
         1F:C2F2  A9 6A      			lda.h	#27264
         1F:C2F4  85 F1      			sta.h	_di
20337                        		__farptr	_tiles_SPR_COIN_1, _bp_bank, _bp
         1F:C2F6  A9 C0      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_COIN_1))
         1F:C2F8  85 EC      			sta.l	_bp
         1F:C2FA  A9 6B      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_COIN_1))
         1F:C2FC  85 ED      			sta.h	_bp
         1F:C2FE  A9 1A      			lda	#bank(_tiles_SPR_COIN_1)
         1F:C300  85 02      			sta	_bp_bank
20338                        		__st.wmiq	64, _ax
         1F:C302  A9 40      			lda.l	#64
         1F:C304  85 F8      			sta.l	_ax
         1F:C306  64 F9      			stz.h	_ax
20339                        		 _sgx_load_vram.3
         1F:C308  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1F:C30A  20 F5 FE   			call	load_vram_x
20340                        	
20341                        		.dbg	line,	"include\init.c", 410; sgx_load_vram(COIN_5_VRAM_ADR, tiles_SPR_COIN_5 , TILES_4);
20342                        		__st.wmiq	27328, _di
         1F:C30D  A9 C0      			lda.l	#27328
         1F:C30F  85 F0      			sta.l	_di
         1F:C311  A9 6A      			lda.h	#27328
         1F:C313  85 F1      			sta.h	_di
20343                        		__farptr	_tiles_SPR_COIN_5, _bp_bank, _bp
         1F:C315  A9 40      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_COIN_5))
         1F:C317  85 EC      			sta.l	_bp
         1F:C319  A9 6C      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_COIN_5))
         1F:C31B  85 ED      			sta.h	_bp
         1F:C31D  A9 1A      			lda	#bank(_tiles_SPR_COIN_5)
         1F:C31F  85 02      			sta	_bp_bank
20344                        		__st.wmiq	64, _ax
         1F:C321  A9 40      			lda.l	#64
         1F:C323  85 F8      			sta.l	_ax
         1F:C325  64 F9      			stz.h	_ax
20345                        		 _sgx_load_vram.3
         1F:C327  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1F:C329  20 F5 FE   			call	load_vram_x
20346                        	
20347                        		.dbg	line,	"include\init.c", 411; sgx_load_vram(COIN_10_VRAM_ADR, tiles_SPR_COIN_10 , TILES_4);
20348                        		__st.wmiq	27392, _di
         1F:C32C  64 F0      			stz.l	_di
         1F:C32E  A9 6B      			lda.h	#27392
         1F:C330  85 F1      			sta.h	_di
20349                        		__farptr	_tiles_SPR_COIN_10, _bp_bank, _bp
         1F:C332  A9 C0      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_COIN_10))
         1F:C334  85 EC      			sta.l	_bp
         1F:C336  A9 6C      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_COIN_10))
         1F:C338  85 ED      			sta.h	_bp
         1F:C33A  A9 1A      			lda	#bank(_tiles_SPR_COIN_10)
         1F:C33C  85 02      			sta	_bp_bank
20350                        		__st.wmiq	64, _ax
         1F:C33E  A9 40      			lda.l	#64
         1F:C340  85 F8      			sta.l	_ax
         1F:C342  64 F9      			stz.h	_ax
20351                        		 _sgx_load_vram.3
         1F:C344  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1F:C346  20 F5 FE   			call	load_vram_x
20352                        	
20353                        		.dbg	line,	"include\init.c", 412; sgx_load_vram(COIN_50_VRAM_ADR, tiles_SPR_COIN_50 , TILES_4);
20354                        		__st.wmiq	27456, _di
         1F:C349  A9 40      			lda.l	#27456
         1F:C34B  85 F0      			sta.l	_di
         1F:C34D  A9 6B      			lda.h	#27456
         1F:C34F  85 F1      			sta.h	_di
20355                        		__farptr	_tiles_SPR_COIN_50, _bp_bank, _bp
         1F:C351  A9 40      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_COIN_50))
         1F:C353  85 EC      			sta.l	_bp
         1F:C355  A9 6D      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_COIN_50))
         1F:C357  85 ED      			sta.h	_bp
         1F:C359  A9 1A      			lda	#bank(_tiles_SPR_COIN_50)
         1F:C35B  85 02      			sta	_bp_bank
20356                        		__st.wmiq	64, _ax
         1F:C35D  A9 40      			lda.l	#64
         1F:C35F  85 F8      			sta.l	_ax
         1F:C361  64 F9      			stz.h	_ax
20357                        		 _sgx_load_vram.3
         1F:C363  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1F:C365  20 F5 FE   			call	load_vram_x
20358                        	
20359                        		.dbg	line,	"include\init.c", 413; sgx_load_vram(COIN_100_VRAM_ADR, tiles_SPR_COIN_100 , TILES_4);
20360                        		__st.wmiq	27520, _di
         1F:C368  A9 80      			lda.l	#27520
         1F:C36A  85 F0      			sta.l	_di
         1F:C36C  A9 6B      			lda.h	#27520
         1F:C36E  85 F1      			sta.h	_di
20361                        		__farptr	_tiles_SPR_COIN_100, _bp_bank, _bp
         1F:C370  A9 C0      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_COIN_100))
         1F:C372  85 EC      			sta.l	_bp
         1F:C374  A9 6D      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_COIN_100))
         1F:C376  85 ED      			sta.h	_bp
         1F:C378  A9 1A      			lda	#bank(_tiles_SPR_COIN_100)
         1F:C37A  85 02      			sta	_bp_bank
20362                        		__st.wmiq	64, _ax
         1F:C37C  A9 40      			lda.l	#64
         1F:C37E  85 F8      			sta.l	_ax
         1F:C380  64 F9      			stz.h	_ax
20363                        		 _sgx_load_vram.3
         1F:C382  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1F:C384  20 F5 FE   			call	load_vram_x
20364                        	
20365                        		.dbg	line,	"include\init.c", 414; sgx_load_vram(COIN_500_VRAM_ADR, tiles_SPR_COIN_500 , TILES_4);
20366                        		__st.wmiq	27584, _di
         1F:C387  A9 C0      			lda.l	#27584
         1F:C389  85 F0      			sta.l	_di
         1F:C38B  A9 6B      			lda.h	#27584
         1F:C38D  85 F1      			sta.h	_di
20367                        		__farptr	_tiles_SPR_COIN_500, _bp_bank, _bp
         1F:C38F  A9 40      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_COIN_500))
         1F:C391  85 EC      			sta.l	_bp
         1F:C393  A9 6E      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_COIN_500))
         1F:C395  85 ED      			sta.h	_bp
         1F:C397  A9 1A      			lda	#bank(_tiles_SPR_COIN_500)
         1F:C399  85 02      			sta	_bp_bank
20368                        		__st.wmiq	64, _ax
         1F:C39B  A9 40      			lda.l	#64
         1F:C39D  85 F8      			sta.l	_ax
         1F:C39F  64 F9      			stz.h	_ax
20369                        		 _sgx_load_vram.3
         1F:C3A1  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1F:C3A3  20 F5 FE   			call	load_vram_x
20370                        	
20371                        		.dbg	line,	"include\init.c", 415; sgx_load_vram(COIN_1000_VRAM_ADR, tiles_SPR_COIN_1000 , TILES_4);
20372                        		__st.wmiq	27648, _di
         1F:C3A6  64 F0      			stz.l	_di
         1F:C3A8  A9 6C      			lda.h	#27648
         1F:C3AA  85 F1      			sta.h	_di
20373                        		__farptr	_tiles_SPR_COIN_1000, _bp_bank, _bp
         1F:C3AC  A9 C0      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_COIN_1000))
         1F:C3AE  85 EC      			sta.l	_bp
         1F:C3B0  A9 6E      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_COIN_1000))
         1F:C3B2  85 ED      			sta.h	_bp
         1F:C3B4  A9 1A      			lda	#bank(_tiles_SPR_COIN_1000)
         1F:C3B6  85 02      			sta	_bp_bank
20374                        		__st.wmiq	64, _ax
         1F:C3B8  A9 40      			lda.l	#64
         1F:C3BA  85 F8      			sta.l	_ax
         1F:C3BC  64 F9      			stz.h	_ax
20375                        		 _sgx_load_vram.3
         1F:C3BE  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1F:C3C0  20 F5 FE   			call	load_vram_x
20376                        	
20377                        		.dbg	line,	"include\init.c", 416; sgx_load_vram(STAR_VRAM_ADR, tiles_SPR_STAR , TILES_4);
20378                        		__st.wmiq	27712, _di
         1F:C3C3  A9 40      			lda.l	#27712
         1F:C3C5  85 F0      			sta.l	_di
         1F:C3C7  A9 6C      			lda.h	#27712
         1F:C3C9  85 F1      			sta.h	_di
20379                        		__farptr	_tiles_SPR_STAR, _bp_bank, _bp
         1F:C3CB  A9 C0      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_STAR))
         1F:C3CD  85 EC      			sta.l	_bp
         1F:C3CF  A9 76      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_STAR))
         1F:C3D1  85 ED      			sta.h	_bp
         1F:C3D3  A9 1A      			lda	#bank(_tiles_SPR_STAR)
         1F:C3D5  85 02      			sta	_bp_bank
20380                        		__st.wmiq	64, _ax
         1F:C3D7  A9 40      			lda.l	#64
         1F:C3D9  85 F8      			sta.l	_ax
         1F:C3DB  64 F9      			stz.h	_ax
20381                        		 _sgx_load_vram.3
         1F:C3DD  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1F:C3DF  20 F5 FE   			call	load_vram_x
20382                        	
20383                        		.dbg	line,	"include\init.c", 417; sgx_load_vram(OCTOPUS_VRAM_ADR, tiles_SPR_OCTOPUS , TILES_4);
20384                        		__st.wmiq	27776, _di
         1F:C3E2  A9 80      			lda.l	#27776
         1F:C3E4  85 F0      			sta.l	_di
         1F:C3E6  A9 6C      			lda.h	#27776
         1F:C3E8  85 F1      			sta.h	_di
20385                        		__farptr	_tiles_SPR_OCTOPUS, _bp_bank, _bp
         1F:C3EA  A9 C0      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_OCTOPUS))
         1F:C3EC  85 EC      			sta.l	_bp
         1F:C3EE  A9 71      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_OCTOPUS))
         1F:C3F0  85 ED      			sta.h	_bp
         1F:C3F2  A9 1A      			lda	#bank(_tiles_SPR_OCTOPUS)
         1F:C3F4  85 02      			sta	_bp_bank
20386                        		__st.wmiq	64, _ax
         1F:C3F6  A9 40      			lda.l	#64
         1F:C3F8  85 F8      			sta.l	_ax
         1F:C3FA  64 F9      			stz.h	_ax
20387                        		 _sgx_load_vram.3
         1F:C3FC  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1F:C3FE  20 F5 FE   			call	load_vram_x
20388                        	
20389                        		.dbg	line,	"include\init.c", 418; sgx_load_vram(FRUIT_VRAM_ADR, tiles_SPR_FRUIT , TILES_4);
20390                        		__st.wmiq	27840, _di
         1F:C401  A9 C0      			lda.l	#27840
         1F:C403  85 F0      			sta.l	_di
         1F:C405  A9 6C      			lda.h	#27840
         1F:C407  85 F1      			sta.h	_di
20391                        		__farptr	_tiles_SPR_FRUIT, _bp_bank, _bp
         1F:C409  A9 40      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_FRUIT))
         1F:C40B  85 EC      			sta.l	_bp
         1F:C40D  A9 6F      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_FRUIT))
         1F:C40F  85 ED      			sta.h	_bp
         1F:C411  A9 1A      			lda	#bank(_tiles_SPR_FRUIT)
         1F:C413  85 02      			sta	_bp_bank
20392                        		__st.wmiq	64, _ax
         1F:C415  A9 40      			lda.l	#64
         1F:C417  85 F8      			sta.l	_ax
         1F:C419  64 F9      			stz.h	_ax
20393                        		 _sgx_load_vram.3
         1F:C41B  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1F:C41D  20 F5 FE   			call	load_vram_x
20394                        	
20395                        		.dbg	line,	"include\init.c", 419; sgx_load_vram(BARREL_VRAM_ADR, tiles_SPR_BARREL , TILES_4);
20396                        		__st.wmiq	27904, _di
         1F:C420  64 F0      			stz.l	_di
         1F:C422  A9 6D      			lda.h	#27904
         1F:C424  85 F1      			sta.h	_di
20397                        		__farptr	_tiles_SPR_BARREL, _bp_bank, _bp
         1F:C426  A9 40      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_BARREL))
         1F:C428  85 EC      			sta.l	_bp
         1F:C42A  A9 7F      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_BARREL))
         1F:C42C  85 ED      			sta.h	_bp
         1F:C42E  A9 19      			lda	#bank(_tiles_SPR_BARREL)
         1F:C430  85 02      			sta	_bp_bank
20398                        		__st.wmiq	64, _ax
         1F:C432  A9 40      			lda.l	#64
         1F:C434  85 F8      			sta.l	_ax
         1F:C436  64 F9      			stz.h	_ax
20399                        		 _sgx_load_vram.3
         1F:C438  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1F:C43A  20 F5 FE   			call	load_vram_x
20400                        	
20401                        		.dbg	line,	"include\init.c", 420; sgx_load_vram(HOURGLASS_VRAM_ADR, tiles_SPR_HOURGLASS , TILES_4);
20402                        		__st.wmiq	27968, _di
         1F:C43D  A9 40      			lda.l	#27968
         1F:C43F  85 F0      			sta.l	_di
         1F:C441  A9 6D      			lda.h	#27968
         1F:C443  85 F1      			sta.h	_di
20403                        		__farptr	_tiles_SPR_HOURGLASS, _bp_bank, _bp
         1F:C445  A9 C0      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_HOURGLASS))
         1F:C447  85 EC      			sta.l	_bp
         1F:C449  A9 70      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_HOURGLASS))
         1F:C44B  85 ED      			sta.h	_bp
         1F:C44D  A9 1A      			lda	#bank(_tiles_SPR_HOURGLASS)
         1F:C44F  85 02      			sta	_bp_bank
20404                        		__st.wmiq	64, _ax
         1F:C451  A9 40      			lda.l	#64
         1F:C453  85 F8      			sta.l	_ax
         1F:C455  64 F9      			stz.h	_ax
20405                        		 _sgx_load_vram.3
         1F:C457  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1F:C459  20 F5 FE   			call	load_vram_x
20406                        	
20407                        		.dbg	line,	"include\init.c", 421; sgx_load_vram(BAMBOO_VRAM_ADR, tiles_SPR_BAMBOO , TILES_4);
20408                        		__st.wmiq	28032, _di
         1F:C45C  A9 80      			lda.l	#28032
         1F:C45E  85 F0      			sta.l	_di
         1F:C460  A9 6D      			lda.h	#28032
         1F:C462  85 F1      			sta.h	_di
20409                        		__farptr	_tiles_SPR_BAMBOO, _bp_bank, _bp
         1F:C464  A9 40      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_BAMBOO))
         1F:C466  85 EC      			sta.l	_bp
         1F:C468  A9 77      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_BAMBOO))
         1F:C46A  85 ED      			sta.h	_bp
         1F:C46C  A9 1A      			lda	#bank(_tiles_SPR_BAMBOO)
         1F:C46E  85 02      			sta	_bp_bank
20410                        		__st.wmiq	64, _ax
         1F:C470  A9 40      			lda.l	#64
         1F:C472  85 F8      			sta.l	_ax
         1F:C474  64 F9      			stz.h	_ax
20411                        		 _sgx_load_vram.3
         1F:C476  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1F:C478  20 F5 FE   			call	load_vram_x
20412                        	
20413                        		.dbg	line,	"include\init.c", 422; sgx_load_vram(YASHICHI_VRAM_ADR, tiles_SPR_YASHICHI , TILES_4);
20414                        		__st.wmiq	28096, _di
         1F:C47B  A9 C0      			lda.l	#28096
         1F:C47D  85 F0      			sta.l	_di
         1F:C47F  A9 6D      			lda.h	#28096
         1F:C481  85 F1      			sta.h	_di
20415                        		__farptr	_tiles_SPR_YASHICHI, _bp_bank, _bp
         1F:C483  A9 C0      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_YASHICHI))
         1F:C485  85 EC      			sta.l	_bp
         1F:C487  A9 77      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_YASHICHI))
         1F:C489  85 ED      			sta.h	_bp
         1F:C48B  A9 1A      			lda	#bank(_tiles_SPR_YASHICHI)
         1F:C48D  85 02      			sta	_bp_bank
20416                        		__st.wmiq	64, _ax
         1F:C48F  A9 40      			lda.l	#64
         1F:C491  85 F8      			sta.l	_ax
         1F:C493  64 F9      			stz.h	_ax
20417                        		 _sgx_load_vram.3
         1F:C495  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1F:C497  20 F5 FE   			call	load_vram_x
20418                        	
20419                        		.dbg	line,	"include\init.c", 423; sgx_load_vram(ELEPHANT_VRAM_ADR, tiles_SPR_ELEPHANT , TILES_4);
20420                        		__st.wmiq	28160, _di
         1F:C49A  64 F0      			stz.l	_di
         1F:C49C  A9 6E      			lda.h	#28160
         1F:C49E  85 F1      			sta.h	_di
20421                        		__farptr	_tiles_SPR_ELEPHANT, _bp_bank, _bp
         1F:C4A0  A9 40      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_ELEPHANT))
         1F:C4A2  85 EC      			sta.l	_bp
         1F:C4A4  A9 78      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_ELEPHANT))
         1F:C4A6  85 ED      			sta.h	_bp
         1F:C4A8  A9 1A      			lda	#bank(_tiles_SPR_ELEPHANT)
         1F:C4AA  85 02      			sta	_bp_bank
20422                        		__st.wmiq	64, _ax
         1F:C4AC  A9 40      			lda.l	#64
         1F:C4AE  85 F8      			sta.l	_ax
         1F:C4B0  64 F9      			stz.h	_ax
20423                        		 _sgx_load_vram.3
         1F:C4B2  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1F:C4B4  20 F5 FE   			call	load_vram_x
20424                        	
20425                        		.dbg	line,	"include\init.c", 424; sgx_load_vram(DRAGONFLY_VRAM_ADR, tiles_SPR_DRAGONFLY , TILES_4);
20426                        		__st.wmiq	28224, _di
         1F:C4B7  A9 40      			lda.l	#28224
         1F:C4B9  85 F0      			sta.l	_di
         1F:C4BB  A9 6E      			lda.h	#28224
         1F:C4BD  85 F1      			sta.h	_di
20427                        		__farptr	_tiles_SPR_DRAGONFLY, _bp_bank, _bp
         1F:C4BF  A9 C0      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_DRAGONFLY))
         1F:C4C1  85 EC      			sta.l	_bp
         1F:C4C3  A9 78      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_DRAGONFLY))
         1F:C4C5  85 ED      			sta.h	_bp
         1F:C4C7  A9 1A      			lda	#bank(_tiles_SPR_DRAGONFLY)
         1F:C4C9  85 02      			sta	_bp_bank
20428                        		__st.wmiq	64, _ax
         1F:C4CB  A9 40      			lda.l	#64
         1F:C4CD  85 F8      			sta.l	_ax
         1F:C4CF  64 F9      			stz.h	_ax
20429                        		 _sgx_load_vram.3
         1F:C4D1  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1F:C4D3  20 F5 FE   			call	load_vram_x
20430                        	
20431                        		.dbg	line,	"include\init.c", 425; sgx_load_vram(COW_VRAM_ADR, tiles_SPR_COW , TILES_4);
20432                        		__st.wmiq	28288, _di
         1F:C4D6  A9 80      			lda.l	#28288
         1F:C4D8  85 F0      			sta.l	_di
         1F:C4DA  A9 6E      			lda.h	#28288
         1F:C4DC  85 F1      			sta.h	_di
20433                        		__farptr	_tiles_SPR_COW, _bp_bank, _bp
         1F:C4DE  A9 40      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_COW))
         1F:C4E0  85 EC      			sta.l	_bp
         1F:C4E2  A9 79      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_COW))
         1F:C4E4  85 ED      			sta.h	_bp
         1F:C4E6  A9 1A      			lda	#bank(_tiles_SPR_COW)
         1F:C4E8  85 02      			sta	_bp_bank
20434                        		__st.wmiq	64, _ax
         1F:C4EA  A9 40      			lda.l	#64
         1F:C4EC  85 F8      			sta.l	_ax
         1F:C4EE  64 F9      			stz.h	_ax
20435                        		 _sgx_load_vram.3
         1F:C4F0  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1F:C4F2  20 F5 FE   			call	load_vram_x
20436                        	
20437                        		.dbg	line,	"include\init.c", 426; sgx_load_vram(MOBICHAN_VRAM_ADR, tiles_SPR_MOBICHAN , TILES_4);
20438                        		__st.wmiq	28352, _di
         1F:C4F5  A9 C0      			lda.l	#28352
         1F:C4F7  85 F0      			sta.l	_di
         1F:C4F9  A9 6E      			lda.h	#28352
         1F:C4FB  85 F1      			sta.h	_di
20439                        		__farptr	_tiles_SPR_MOBICHAN, _bp_bank, _bp
         1F:C4FD  A9 C0      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_MOBICHAN))
         1F:C4FF  85 EC      			sta.l	_bp
         1F:C501  A9 79      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_MOBICHAN))
         1F:C503  85 ED      			sta.h	_bp
         1F:C505  A9 1A      			lda	#bank(_tiles_SPR_MOBICHAN)
         1F:C507  85 02      			sta	_bp_bank
20440                        		__st.wmiq	64, _ax
         1F:C509  A9 40      			lda.l	#64
         1F:C50B  85 F8      			sta.l	_ax
         1F:C50D  64 F9      			stz.h	_ax
20441                        		 _sgx_load_vram.3
         1F:C50F  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1F:C511  20 F5 FE   			call	load_vram_x
20442                        	
20443                        		.dbg	line,	"include\init.c", 427; }
20444    1F:C514             	.LL984:
20445                        		__return	0
         1F:C514  4C EF FF   			jmp	leave_proc
20446                        		.dbg	clear
20447                        		.endp
20448                        		.pceas
20449                        	
20450                        		.dbg	line,	"include\init.c", 430; void load_CHEST_TILES()
20451                        		.dbg	line,	"include\init.c", 431; {
20452                        	;***********************
20453                        	;***********************
20454                        	
20455                        		.hucc
20456    01:DFD6             		.proc		_load_CHEST_TILES
20457                        		__enter		_load_CHEST_TILES
20458                        	
20459                        		.dbg	line,	"include\init.c", 432; sgx_load_vram(CHEST_VRAM_ADR, tiles_SPR_CHEST , SIZEOF(tiles_SPR_CHEST) >> 1);
20460                        		__st.wmiq	28416, _di
         01:DFD6  64 F0      			stz.l	_di
         01:DFD8  A9 6F      			lda.h	#28416
         01:DFDA  85 F1      			sta.h	_di
20461                        		__farptr	_tiles_SPR_CHEST, _bp_bank, _bp
         01:DFDC  A9 C0      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_CHEST))
         01:DFDE  85 EC      			sta.l	_bp
         01:DFE0  A9 7F      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_CHEST))
         01:DFE2  85 ED      			sta.h	_bp
         01:DFE4  A9 19      			lda	#bank(_tiles_SPR_CHEST)
         01:DFE6  85 02      			sta	_bp_bank
20462                        		__ld.wi		___sizeof__tiles_SPR_CHEST
         01:DFE8  A9 00      			lda.l	#___sizeof__tiles_SPR_CHEST
         01:DFEA  A0 0C      			ldy.h	#___sizeof__tiles_SPR_CHEST
20463                        		__lsr.wi	1
         01:DFEC  42         			say
         01:DFED  4A         			lsr	a
         01:DFEE  42         			say
         01:DFEF  6A         			ror	a
20464                        		__st.wmq	_ax
         01:DFF0  85 F8      			sta.l	_ax
         01:DFF2  84 F9      			sty.h	_ax
20465                        		 _sgx_load_vram.3
         01:DFF4  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         01:DFF6  20 F5 FE   			call	load_vram_x
20466                        	
20467                        		.dbg	line,	"include\init.c", 433; }
20468    01:DFF9             	.LL985:
20469                        		__return	0
         01:DFF9  4C EF FF   			jmp	leave_proc
20470                        		.dbg	clear
20471                        		.endp
20472                        		.pceas
20473                        	
20474                        		.dbg	line,	"include\init.c", 436; void load_NPC_TILES()
20475                        		.dbg	line,	"include\init.c", 437; {
20476                        	;***********************
20477                        	;***********************
20478                        	
20479                        		.hucc
20480    20:C11B             		.proc		_load_NPC_TILES
20481                        		__enter		_load_NPC_TILES
20482                        	
20483                        		.dbg	line,	"include\init.c", 438; sgx_load_vram(NPC_1_VRAM_ADR, tiles_SPR_NPC , SIZEOF(tiles_SPR_NPC) >> 1);
20484                        		__st.wmiq	29952, _di
         20:C11B  64 F0      			stz.l	_di
         20:C11D  A9 75      			lda.h	#29952
         20:C11F  85 F1      			sta.h	_di
20485                        		__farptr	_tiles_SPR_NPC, _bp_bank, _bp
         20:C121  A9 40      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_NPC))
         20:C123  85 EC      			sta.l	_bp
         20:C125  A9 7E      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_NPC))
         20:C127  85 ED      			sta.h	_bp
         20:C129  A9 1A      			lda	#bank(_tiles_SPR_NPC)
         20:C12B  85 02      			sta	_bp_bank
20486                        		__ld.wi		___sizeof__tiles_SPR_NPC
         20:C12D  A9 00      			lda.l	#___sizeof__tiles_SPR_NPC
         20:C12F  A0 0C      			ldy.h	#___sizeof__tiles_SPR_NPC
20487                        		__lsr.wi	1
         20:C131  42         			say
         20:C132  4A         			lsr	a
         20:C133  42         			say
         20:C134  6A         			ror	a
20488                        		__st.wmq	_ax
         20:C135  85 F8      			sta.l	_ax
         20:C137  84 F9      			sty.h	_ax
20489                        		 _sgx_load_vram.3
         20:C139  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         20:C13B  20 F5 FE   			call	load_vram_x
20490                        	
20491                        		.dbg	line,	"include\init.c", 439; }
20492    20:C13E             	.LL986:
20493                        		__return	0
         20:C13E  4C EF FF   			jmp	leave_proc
20494                        		.dbg	clear
20495                        		.endp
20496                        		.pceas
20497                        	
20498                        		.dbg	line,	"include\init.c", 442; void init_OBJECT_LV1()
20499                        		.dbg	line,	"include\init.c", 443; {
20500                        	;***********************
20501                        	;***********************
20502                        	
20503                        		.hucc
20504    1F:D13F             		.proc		_init_OBJECT_LV1
20505                        		__enter		_init_OBJECT_LV1
20506                        	
20507                        		.dbg	line,	"include\init.c", 444; signed char i;
20508                        	
20509                        		.dbg	line,	"include\init.c", 446; for(i=0 ; i<level_object_number ; i++)
20510                        		__st.umiq	0, __init_OBJECT_LV1_end - 1  /* i */
         1F:D13F  9C 2D 2C   			stz	__init_OBJECT_LV1_end - 1
20511    1F:D142             	.LL988:
20512                        		__ld.bm		__init_OBJECT_LV1_end - 1  /* i */
         1F:D142  AD 2D 2C   			lda	__init_OBJECT_LV1_end - 1
         1F:D145  C2         			cly
         1F:D146  10 01      			bpl	!+
         1F:D148  88         			dey
         1F:D149             	!:
20513                        		__slt_w.um	_level_object_number
         1F:D149  CD 39 23   			cmp	_level_object_number		; Subtract memory from Y:A.
         1F:D14C  98         			tya
         1F:D14D  E9 00      			sbc	#0
         1F:D14F  50 02      			bvc	!+
         1F:D151  49 80      			eor	#$80		; -ve if Y:A < memory (signed).
         1F:D153  0A         	!:		asl	a
20514                        		__btrue		.LL990
         1F:D154  B0 08      			bcs	.LL990
20515                        		__bra		.LL991
         1F:D156  4C 7C D2   			bra	.LL991
20516    1F:D159             	.LL989:
20517                        		__inc.umq	__init_OBJECT_LV1_end - 1  /* i */
         1F:D159  EE 2D 2C   			inc	__init_OBJECT_LV1_end - 1
20518                        		__bra		.LL988
         1F:D15C  80 E4      			bra	.LL988
20519    1F:D15E             	.LL990:
20520                        	
20521                        		.dbg	line,	"include\init.c", 447; {
20522                        	
20523                        		.dbg	line,	"include\init.c", 448; // SET OBJECT PROPERTIES //
20524                        	
20525                        		.dbg	line,	"include\init.c", 449; list_object_type[i] = TABLE_OBJECT_TYPE_LV1[i];
20526                        		__ldx.bmq	__init_OBJECT_LV1_end - 1  /* i */
         1F:D15E  AE 2D 2C   			ldx	__init_OBJECT_LV1_end - 1
20527                        		__ld.uax	_TABLE_OBJECT_TYPE_LV1
         1F:D161  BD C5 61   			lda	_TABLE_OBJECT_TYPE_LV1, x
         1F:D164  C2         			cly
20528                        		__ldx.bmq	__init_OBJECT_LV1_end - 1  /* i */
         1F:D165  AE 2D 2C   			ldx	__init_OBJECT_LV1_end - 1
20529                        		__st.uaxq	_list_object_type
         1F:D168  9D 3B 23   			sta	_list_object_type, x
20530                        	
20531                        		.dbg	line,	"include\init.c", 450; list_object_x_pos_ref[i] = TABLE_OBJECT_X_POS_REF_LV1[i];
20532                        		__ld2x.bmq	__init_OBJECT_LV1_end - 1  /* i */
         1F:D16B  AD 2D 2C   			lda	__init_OBJECT_LV1_end - 1
         1F:D16E  0A         			asl	a
         1F:D16F  AA         			tax
20533                        		__ld.wax	_TABLE_OBJECT_X_POS_REF_LV1
         1F:D170  BD DC 61   			lda.l	_TABLE_OBJECT_X_POS_REF_LV1, x
         1F:D173  BC DD 61   			ldy.h	_TABLE_OBJECT_X_POS_REF_LV1, x
20534                        		__ld2x.bm	__init_OBJECT_LV1_end - 1  /* i */
         1F:D176  AA         			tax
         1F:D177  AD 2D 2C   			lda	__init_OBJECT_LV1_end - 1
         1F:D17A  0A         			asl	a
         1F:D17B  22         			sax
20535                        		__st.waxq	_list_object_x_pos_ref
         1F:D17C  9D 6F 25   			sta.l	_list_object_x_pos_ref, x
         1F:D17F  98         			tya
         1F:D180  9D 70 25   			sta.h	_list_object_x_pos_ref, x
20536                        	
20537                        		.dbg	line,	"include\init.c", 451; list_object_y_pos_ref[i] = TABLE_OBJECT_Y_POS_REF_LV1[i];
20538                        		__ld2x.bmq	__init_OBJECT_LV1_end - 1  /* i */
         1F:D183  AD 2D 2C   			lda	__init_OBJECT_LV1_end - 1
         1F:D186  0A         			asl	a
         1F:D187  AA         			tax
20539                        		__ld.wax	_TABLE_OBJECT_Y_POS_REF_LV1
         1F:D188  BD 0A 62   			lda.l	_TABLE_OBJECT_Y_POS_REF_LV1, x
         1F:D18B  BC 0B 62   			ldy.h	_TABLE_OBJECT_Y_POS_REF_LV1, x
20540                        		__ld2x.bm	__init_OBJECT_LV1_end - 1  /* i */
         1F:D18E  AA         			tax
         1F:D18F  AD 2D 2C   			lda	__init_OBJECT_LV1_end - 1
         1F:D192  0A         			asl	a
         1F:D193  22         			sax
20541                        		__st.waxq	_list_object_y_pos_ref
         1F:D194  9D A1 25   			sta.l	_list_object_y_pos_ref, x
         1F:D197  98         			tya
         1F:D198  9D A2 25   			sta.h	_list_object_y_pos_ref, x
20542                        	
20543                        		.dbg	line,	"include\init.c", 452; list_object_x_pos[i] = -16;
20544                        		__ld2x.bmq	__init_OBJECT_LV1_end - 1  /* i */
         1F:D19B  AD 2D 2C   			lda	__init_OBJECT_LV1_end - 1
         1F:D19E  0A         			asl	a
         1F:D19F  AA         			tax
20545                        		__st.waxiq	-16, _list_object_x_pos
         1F:D1A0  A9 F0      			lda.l	#-16
         1F:D1A2  9D 0B 25   			sta.l	_list_object_x_pos, x
         1F:D1A5  A9 FF      			lda.h	#-16
         1F:D1A7  9D 0C 25   			sta.h	_list_object_x_pos, x
20546                        	
20547                        		.dbg	line,	"include\init.c", 453; list_object_y_pos[i] = -16;
20548                        		__ld2x.bmq	__init_OBJECT_LV1_end - 1  /* i */
         1F:D1AA  AD 2D 2C   			lda	__init_OBJECT_LV1_end - 1
         1F:D1AD  0A         			asl	a
         1F:D1AE  AA         			tax
20549                        		__st.waxiq	-16, _list_object_y_pos
         1F:D1AF  A9 F0      			lda.l	#-16
         1F:D1B1  9D 3D 25   			sta.l	_list_object_y_pos, x
         1F:D1B4  A9 FF      			lda.h	#-16
         1F:D1B6  9D 3E 25   			sta.h	_list_object_y_pos, x
20550                        	
20551                        		.dbg	line,	"include\init.c", 454; 
20552                        	
20553                        		.dbg	line,	"include\init.c", 455; // IF THE PLAYERS ENTERS THE LEVEL FOR THE 1RST TIME //
20554                        	
20555                        		.dbg	line,	"include\init.c", 456; // ALL OBJECTS ARE ACTIVE //
20556                        	
20557                        		.dbg	line,	"include\init.c", 457; if(respawn == FALSE)
20558                        		__not.um	_respawn
         1F:D1B9  AD 18 23   			lda	_respawn
         1F:D1BC  18         			clc
         1F:D1BD  D0 01      			bne	!+
         1F:D1BF  38         			sec
         1F:D1C0             	!:
20559                        		__bfalse	.LL992
         1F:D1C0  90 08      			bcc	.LL992
20560                        	
20561                        		.dbg	line,	"include\init.c", 458; {
20562                        	
20563                        		.dbg	line,	"include\init.c", 459; list_object_state[i] = STATE_ACTIVE;
20564                        		__ldx.bmq	__init_OBJECT_LV1_end - 1  /* i */
         1F:D1C2  AE 2D 2C   			ldx	__init_OBJECT_LV1_end - 1
20565                        		__st.uaxiq	1, _list_object_state
         1F:D1C5  A9 01      			lda.l	#1
         1F:D1C7  9D 54 23   			sta	_list_object_state, x
20566                        	
20567                        		.dbg	line,	"include\init.c", 460; }
20568                        	
20569                        		.dbg	line,	"include\init.c", 463; // SET OBJECT SPRITE //
20570                        	
20571                        		.dbg	line,	"include\init.c", 464; sgx_spr_set(i + object_start_index);
20572    1F:D1CA             	.LL992:
20573                        		__ld.bm		__init_OBJECT_LV1_end - 1  /* i */
         1F:D1CA  AD 2D 2C   			lda	__init_OBJECT_LV1_end - 1
         1F:D1CD  C2         			cly
         1F:D1CE  10 01      			bpl	!+
         1F:D1D0  88         			dey
         1F:D1D1             	!:
20574                        		__add.um	_object_start_index
         1F:D1D1  18         			clc
         1F:D1D2  6D 38 23   			adc	_object_start_index
         1F:D1D5  90 01      			bcc	!+
         1F:D1D7  C8         			iny
         1F:D1D8             	!:
20575                        		__call		_sgx_spr_set.1
         1F:D1D8  20 9E E8   			call	_sgx_spr_set.1
20576                        	
20577                        		.dbg	line,	"include\init.c", 465; sgx_spr_x(list_object_x_pos[i]);
20578                        		__ld2x.bmq	__init_OBJECT_LV1_end - 1  /* i */
         1F:D1DB  AD 2D 2C   			lda	__init_OBJECT_LV1_end - 1
         1F:D1DE  0A         			asl	a
         1F:D1DF  AA         			tax
20579                        		__ld.wax	_list_object_x_pos
         1F:D1E0  BD 0B 25   			lda.l	_list_object_x_pos, x
         1F:D1E3  BC 0C 25   			ldy.h	_list_object_x_pos, x
20580                        		__call		_sgx_spr_x.1
         1F:D1E6  20 CB E8   			call	_sgx_spr_x.1
20581                        	
20582                        		.dbg	line,	"include\init.c", 466; sgx_spr_y(list_object_y_pos[i]);
20583                        		__ld2x.bmq	__init_OBJECT_LV1_end - 1  /* i */
         1F:D1E9  AD 2D 2C   			lda	__init_OBJECT_LV1_end - 1
         1F:D1EC  0A         			asl	a
         1F:D1ED  AA         			tax
20584                        		__ld.wax	_list_object_y_pos
         1F:D1EE  BD 3D 25   			lda.l	_list_object_y_pos, x
         1F:D1F1  BC 3E 25   			ldy.h	_list_object_y_pos, x
20585                        		__call		_sgx_spr_y.1
         1F:D1F4  20 DA E8   			call	_sgx_spr_y.1
20586                        	
20587                        		.dbg	line,	"include\init.c", 467; sgx_spr_pri(TRUE);
20588                        		__ld.uiq	1
         1F:D1F7  A9 01      			lda	#1
20589                        		__call		_sgx_spr_pri.1
         1F:D1F9  20 1D E9   			call	_sgx_spr_pri.1
20590                        	
20591                        		.dbg	line,	"include\init.c", 470; if(list_object_type[i] == TYPE_HOURGLASS)
20592                        		__ldx.bmq	__init_OBJECT_LV1_end - 1  /* i */
         1F:D1FC  AE 2D 2C   			ldx	__init_OBJECT_LV1_end - 1
20593                        		__not.uax	_list_object_type
         1F:D1FF  BD 3B 23   			lda	_list_object_type, x
         1F:D202  18         			clc
         1F:D203  D0 01      			bne	!+
         1F:D205  38         			sec
         1F:D206             	!:
20594                        		__bfalse	.LL993
         1F:D206  90 1D      			bcc	.LL993
20595                        	
20596                        		.dbg	line,	"include\init.c", 471; {
20597                        	
20598                        		.dbg	line,	"include\init.c", 472; list_object_energy[i] = 0;
20599                        		__ldx.bmq	__init_OBJECT_LV1_end - 1  /* i */
         1F:D208  AE 2D 2C   			ldx	__init_OBJECT_LV1_end - 1
20600                        		__st.uaxiq	0, _list_object_energy
         1F:D20B  9E 6D 23   			stz	_list_object_energy, x
20601                        	
20602                        		.dbg	line,	"include\init.c", 473; sgx_spr_pal(18);
20603                        		__ld.uiq	18
         1F:D20E  A9 12      			lda	#18
20604                        		__call		_sgx_spr_pal.1
         1F:D210  20 0E E9   			call	_sgx_spr_pal.1
20605                        	
20606                        		.dbg	line,	"include\init.c", 474; sgx_spr_pattern(HOURGLASS_VRAM_ADR);
20607                        		__ld.wi		27968
         1F:D213  A9 40      			lda.l	#27968
         1F:D215  A0 6D      			ldy.h	#27968
20608                        		__call		_sgx_spr_pattern.1
         1F:D217  20 E7 E8   			call	_sgx_spr_pattern.1
20609                        	
20610                        		.dbg	line,	"include\init.c", 475; sgx_spr_ctrl(FLIP_MAS|SIZE_MAS, NO_FLIP|SZ_16x16);
20611                        		__st.umiq	185, _al
         1F:D21A  A9 B9      			lda.l	#185
         1F:D21C  85 F8      			sta	_al
20612                        		__ld.uiq	0
         1F:D21E  62         			cla
20613                        		__call		_sgx_spr_ctrl.2
         1F:D21F  20 FD E8   			call	_sgx_spr_ctrl.2
20614                        	
20615                        		.dbg	line,	"include\init.c", 476; }
20616                        	
20617                        		.dbg	line,	"include\init.c", 478; else if(list_object_type[i] == TYPE_POT)
20618                        		__bra		.LL994
         1F:D222  4C 59 D1   			bra	.LL994
20619    1F:D225             	.LL993:
20620                        		__ldx.bmq	__init_OBJECT_LV1_end - 1  /* i */
         1F:D225  AE 2D 2C   			ldx	__init_OBJECT_LV1_end - 1
20621                        		__ld.uaxq	_list_object_type
         1F:D228  BD 3B 23   			lda	_list_object_type, x
20622                        		__equ_b.uiq	1
         1F:D22B  C9 01      			cmp	#1
         1F:D22D  F0 01      			beq	!+
         1F:D22F  18         			clc
         1F:D230             	!:
20623                        		__bfalse	.LL995
         1F:D230  90 1E      			bcc	.LL995
20624                        	
20625                        		.dbg	line,	"include\init.c", 479; {
20626                        	
20627                        		.dbg	line,	"include\init.c", 480; list_object_energy[i] = 2;
20628                        		__ldx.bmq	__init_OBJECT_LV1_end - 1  /* i */
         1F:D232  AE 2D 2C   			ldx	__init_OBJECT_LV1_end - 1
20629                        		__st.uaxiq	2, _list_object_energy
         1F:D235  A9 02      			lda.l	#2
         1F:D237  9D 6D 23   			sta	_list_object_energy, x
20630                        	
20631                        		.dbg	line,	"include\init.c", 481; sgx_spr_pal(17);
20632                        		__ld.uiq	17
         1F:D23A  A9 11      			lda	#17
20633                        		__call		_sgx_spr_pal.1
         1F:D23C  20 0E E9   			call	_sgx_spr_pal.1
20634                        	
20635                        		.dbg	line,	"include\init.c", 482; sgx_spr_pattern(POT1_VRAM_ADR);
20636                        		__ld.wi		26624
         1F:D23F  62         			cla
         1F:D240  A0 68      			ldy.h	#26624
20637                        		__call		_sgx_spr_pattern.1
         1F:D242  20 E7 E8   			call	_sgx_spr_pattern.1
20638                        	
20639                        		.dbg	line,	"include\init.c", 483; sgx_spr_ctrl(FLIP_MAS|SIZE_MAS, NO_FLIP|SZ_16x16);
20640                        		__st.umiq	185, _al
         1F:D245  A9 B9      			lda.l	#185
         1F:D247  85 F8      			sta	_al
20641                        		__ld.uiq	0
         1F:D249  62         			cla
20642                        		__call		_sgx_spr_ctrl.2
         1F:D24A  20 FD E8   			call	_sgx_spr_ctrl.2
20643                        	
20644                        		.dbg	line,	"include\init.c", 484; }
20645                        	
20646                        		.dbg	line,	"include\init.c", 486; else if(list_object_type[i] == TYPE_POW)
20647                        		__bra		.LL996
         1F:D24D  4C 59 D1   			bra	.LL996
20648    1F:D250             	.LL995:
20649                        		__ldx.bmq	__init_OBJECT_LV1_end - 1  /* i */
         1F:D250  AE 2D 2C   			ldx	__init_OBJECT_LV1_end - 1
20650                        		__ld.uaxq	_list_object_type
         1F:D253  BD 3B 23   			lda	_list_object_type, x
20651                        		__equ_b.uiq	2
         1F:D256  C9 02      			cmp	#2
         1F:D258  F0 01      			beq	!+
         1F:D25A  18         			clc
         1F:D25B             	!:
20652                        		__bfalse	.LL997
         1F:D25B  B0 03 4C 59			bcc	.LL997
         1F:D25F  D1          
20653                        	
20654                        		.dbg	line,	"include\init.c", 487; {
20655                        	
20656                        		.dbg	line,	"include\init.c", 488; list_object_energy[i] = 0;
20657                        		__ldx.bmq	__init_OBJECT_LV1_end - 1  /* i */
         1F:D260  AE 2D 2C   			ldx	__init_OBJECT_LV1_end - 1
20658                        		__st.uaxiq	0, _list_object_energy
         1F:D263  9E 6D 23   			stz	_list_object_energy, x
20659                        	
20660                        		.dbg	line,	"include\init.c", 489; sgx_spr_pal(18);
20661                        		__ld.uiq	18
         1F:D266  A9 12      			lda	#18
20662                        		__call		_sgx_spr_pal.1
         1F:D268  20 0E E9   			call	_sgx_spr_pal.1
20663                        	
20664                        		.dbg	line,	"include\init.c", 490; sgx_spr_pattern(POW_VRAM_ADR);
20665                        		__ld.wi		27136
         1F:D26B  62         			cla
         1F:D26C  A0 6A      			ldy.h	#27136
20666                        		__call		_sgx_spr_pattern.1
         1F:D26E  20 E7 E8   			call	_sgx_spr_pattern.1
20667                        	
20668                        		.dbg	line,	"include\init.c", 491; sgx_spr_ctrl(FLIP_MAS|SIZE_MAS, NO_FLIP|SZ_16x16);
20669                        		__st.umiq	185, _al
         1F:D271  A9 B9      			lda.l	#185
         1F:D273  85 F8      			sta	_al
20670                        		__ld.uiq	0
         1F:D275  62         			cla
20671                        		__call		_sgx_spr_ctrl.2
         1F:D276  20 FD E8   			call	_sgx_spr_ctrl.2
20672                        	
20673                        		.dbg	line,	"include\init.c", 492; }
20674                        	
20675                        		.dbg	line,	"include\init.c", 493; }
20676    1F:D279             	.LL997	.alias		.LL989
20677    1F:D279             	.LL996	.alias		.LL989
20678    1F:D279             	.LL994	.alias		.LL989
20679                        		__bra		.LL989
         1F:D279  4C 59 D1   			bra	.LL989
20680    1F:D27C             	.LL991:
20681                        	
20682                        		.dbg	line,	"include\init.c", 494; }
20683    1F:D27C             	.LL987:
20684                        		__return	0
         1F:D27C  4C EF FF   			jmp	leave_proc
20685                        		.dbg	clear
20686                        		.endp
20687               2311     		.bss
20688    F8:2311             	__init_OBJECT_LV1_end	.alias	leaf_stack
20689               E31D     		.code
20690                        		.pceas
20691                        	
20692                        		.dbg	line,	"include\init.c", 497; void init_CHEST_LV1()
20693                        		.dbg	line,	"include\init.c", 498; {
20694                        	;***********************
20695                        	;***********************
20696                        	
20697                        		.hucc
20698    1F:D894             		.proc		_init_CHEST_LV1
20699                        		__enter		_init_CHEST_LV1
20700                        	
20701                        		.dbg	line,	"include\init.c", 499; signed char i;
20702                        	
20703                        		.dbg	line,	"include\init.c", 501; for(i=0 ; i<level_chest_number ; i++)
20704                        		__st.umiq	0, __init_CHEST_LV1_end - 1  /* i */
         1F:D894  9C 2D 2C   			stz	__init_CHEST_LV1_end - 1
20705    1F:D897             	.LL999:
20706                        		__ld.bm		__init_CHEST_LV1_end - 1  /* i */
         1F:D897  AD 2D 2C   			lda	__init_CHEST_LV1_end - 1
         1F:D89A  C2         			cly
         1F:D89B  10 01      			bpl	!+
         1F:D89D  88         			dey
         1F:D89E             	!:
20707                        		__slt_w.um	_level_chest_number
         1F:D89E  CD C1 23   			cmp	_level_chest_number		; Subtract memory from Y:A.
         1F:D8A1  98         			tya
         1F:D8A2  E9 00      			sbc	#0
         1F:D8A4  50 02      			bvc	!+
         1F:D8A6  49 80      			eor	#$80		; -ve if Y:A < memory (signed).
         1F:D8A8  0A         	!:		asl	a
20708                        		__btrue		.LL1001
         1F:D8A9  B0 08      			bcs	.LL1001
20709                        		__bra		.LL1002
         1F:D8AB  4C 5B D9   			bra	.LL1002
20710    1F:D8AE             	.LL1000:
20711                        		__inc.umq	__init_CHEST_LV1_end - 1  /* i */
         1F:D8AE  EE 2D 2C   			inc	__init_CHEST_LV1_end - 1
20712                        		__bra		.LL999
         1F:D8B1  80 E4      			bra	.LL999
20713    1F:D8B3             	.LL1001:
20714                        	
20715                        		.dbg	line,	"include\init.c", 502; {
20716                        	
20717                        		.dbg	line,	"include\init.c", 503; // SET CHEST PROPERTIES //
20718                        	
20719                        		.dbg	line,	"include\init.c", 504; list_chest_x_pos_ref[i] = TABLE_CHEST_X_POS_REF_LV1[i];
20720                        		__ld2x.bmq	__init_CHEST_LV1_end - 1  /* i */
         1F:D8B3  AD 2D 2C   			lda	__init_CHEST_LV1_end - 1
         1F:D8B6  0A         			asl	a
         1F:D8B7  AA         			tax
20721                        		__ld.wax	_TABLE_CHEST_X_POS_REF_LV1
         1F:D8B8  BD 7D 62   			lda.l	_TABLE_CHEST_X_POS_REF_LV1, x
         1F:D8BB  BC 7E 62   			ldy.h	_TABLE_CHEST_X_POS_REF_LV1, x
20722                        		__ld2x.bm	__init_CHEST_LV1_end - 1  /* i */
         1F:D8BE  AA         			tax
         1F:D8BF  AD 2D 2C   			lda	__init_CHEST_LV1_end - 1
         1F:D8C2  0A         			asl	a
         1F:D8C3  22         			sax
20723                        		__st.waxq	_list_chest_x_pos_ref
         1F:D8C4  9D F3 25   			sta.l	_list_chest_x_pos_ref, x
         1F:D8C7  98         			tya
         1F:D8C8  9D F4 25   			sta.h	_list_chest_x_pos_ref, x
20724                        	
20725                        		.dbg	line,	"include\init.c", 505; list_chest_y_pos_ref[i] = TABLE_CHEST_Y_POS_REF_LV1[i];
20726                        		__ld2x.bmq	__init_CHEST_LV1_end - 1  /* i */
         1F:D8CB  AD 2D 2C   			lda	__init_CHEST_LV1_end - 1
         1F:D8CE  0A         			asl	a
         1F:D8CF  AA         			tax
20727                        		__ld.wax	_TABLE_CHEST_Y_POS_REF_LV1
         1F:D8D0  BD 81 62   			lda.l	_TABLE_CHEST_Y_POS_REF_LV1, x
         1F:D8D3  BC 82 62   			ldy.h	_TABLE_CHEST_Y_POS_REF_LV1, x
20728                        		__ld2x.bm	__init_CHEST_LV1_end - 1  /* i */
         1F:D8D6  AA         			tax
         1F:D8D7  AD 2D 2C   			lda	__init_CHEST_LV1_end - 1
         1F:D8DA  0A         			asl	a
         1F:D8DB  22         			sax
20729                        		__st.waxq	_list_chest_y_pos_ref
         1F:D8DC  9D 03 26   			sta.l	_list_chest_y_pos_ref, x
         1F:D8DF  98         			tya
         1F:D8E0  9D 04 26   			sta.h	_list_chest_y_pos_ref, x
20730                        	
20731                        		.dbg	line,	"include\init.c", 506; list_chest_x_pos[i] = -32;
20732                        		__ld2x.bmq	__init_CHEST_LV1_end - 1  /* i */
         1F:D8E3  AD 2D 2C   			lda	__init_CHEST_LV1_end - 1
         1F:D8E6  0A         			asl	a
         1F:D8E7  AA         			tax
20733                        		__st.waxiq	-32, _list_chest_x_pos
         1F:D8E8  A9 E0      			lda.l	#-32
         1F:D8EA  9D D3 25   			sta.l	_list_chest_x_pos, x
         1F:D8ED  A9 FF      			lda.h	#-32
         1F:D8EF  9D D4 25   			sta.h	_list_chest_x_pos, x
20734                        	
20735                        		.dbg	line,	"include\init.c", 507; list_chest_y_pos[i] = -32;
20736                        		__ld2x.bmq	__init_CHEST_LV1_end - 1  /* i */
         1F:D8F2  AD 2D 2C   			lda	__init_CHEST_LV1_end - 1
         1F:D8F5  0A         			asl	a
         1F:D8F6  AA         			tax
20737                        		__st.waxiq	-32, _list_chest_y_pos
         1F:D8F7  A9 E0      			lda.l	#-32
         1F:D8F9  9D E3 25   			sta.l	_list_chest_y_pos, x
         1F:D8FC  A9 FF      			lda.h	#-32
         1F:D8FE  9D E4 25   			sta.h	_list_chest_y_pos, x
20738                        	
20739                        		.dbg	line,	"include\init.c", 509; if(respawn == FALSE)
20740                        		__not.um	_respawn
         1F:D901  AD 18 23   			lda	_respawn
         1F:D904  18         			clc
         1F:D905  D0 01      			bne	!+
         1F:D907  38         			sec
         1F:D908             	!:
20741                        		__bfalse	.LL1003
         1F:D908  90 08      			bcc	.LL1003
20742                        	
20743                        		.dbg	line,	"include\init.c", 510; {
20744                        	
20745                        		.dbg	line,	"include\init.c", 511; list_chest_state[i] = STATE_ACTIVE;
20746                        		__ldx.bmq	__init_CHEST_LV1_end - 1  /* i */
         1F:D90A  AE 2D 2C   			ldx	__init_CHEST_LV1_end - 1
20747                        		__st.uaxiq	1, _list_chest_state
         1F:D90D  A9 01      			lda.l	#1
         1F:D90F  9D C3 23   			sta	_list_chest_state, x
20748                        	
20749                        		.dbg	line,	"include\init.c", 512; }
20750                        	
20751                        		.dbg	line,	"include\init.c", 515; // SET CHEST SPRITE //
20752                        	
20753                        		.dbg	line,	"include\init.c", 516; sgx_spr_set(i + chest_start_index);
20754    1F:D912             	.LL1003:
20755                        		__ld.bm		__init_CHEST_LV1_end - 1  /* i */
         1F:D912  AD 2D 2C   			lda	__init_CHEST_LV1_end - 1
         1F:D915  C2         			cly
         1F:D916  10 01      			bpl	!+
         1F:D918  88         			dey
         1F:D919             	!:
20756                        		__add.um	_chest_start_index
         1F:D919  18         			clc
         1F:D91A  6D C0 23   			adc	_chest_start_index
         1F:D91D  90 01      			bcc	!+
         1F:D91F  C8         			iny
         1F:D920             	!:
20757                        		__call		_sgx_spr_set.1
         1F:D920  20 9E E8   			call	_sgx_spr_set.1
20758                        	
20759                        		.dbg	line,	"include\init.c", 517; sgx_spr_x(list_chest_x_pos[i]);
20760                        		__ld2x.bmq	__init_CHEST_LV1_end - 1  /* i */
         1F:D923  AD 2D 2C   			lda	__init_CHEST_LV1_end - 1
         1F:D926  0A         			asl	a
         1F:D927  AA         			tax
20761                        		__ld.wax	_list_chest_x_pos
         1F:D928  BD D3 25   			lda.l	_list_chest_x_pos, x
         1F:D92B  BC D4 25   			ldy.h	_list_chest_x_pos, x
20762                        		__call		_sgx_spr_x.1
         1F:D92E  20 CB E8   			call	_sgx_spr_x.1
20763                        	
20764                        		.dbg	line,	"include\init.c", 518; sgx_spr_y(list_chest_y_pos[i]);
20765                        		__ld2x.bmq	__init_CHEST_LV1_end - 1  /* i */
         1F:D931  AD 2D 2C   			lda	__init_CHEST_LV1_end - 1
         1F:D934  0A         			asl	a
         1F:D935  AA         			tax
20766                        		__ld.wax	_list_chest_y_pos
         1F:D936  BD E3 25   			lda.l	_list_chest_y_pos, x
         1F:D939  BC E4 25   			ldy.h	_list_chest_y_pos, x
20767                        		__call		_sgx_spr_y.1
         1F:D93C  20 DA E8   			call	_sgx_spr_y.1
20768                        	
20769                        		.dbg	line,	"include\init.c", 519; sgx_spr_pri(TRUE);
20770                        		__ld.uiq	1
         1F:D93F  A9 01      			lda	#1
20771                        		__call		_sgx_spr_pri.1
         1F:D941  20 1D E9   			call	_sgx_spr_pri.1
20772                        	
20773                        		.dbg	line,	"include\init.c", 522; sgx_spr_pal(18);
20774                        		__ld.uiq	18
         1F:D944  A9 12      			lda	#18
20775                        		__call		_sgx_spr_pal.1
         1F:D946  20 0E E9   			call	_sgx_spr_pal.1
20776                        	
20777                        		.dbg	line,	"include\init.c", 523; sgx_spr_pattern(CHEST_VRAM_ADR);
20778                        		__ld.wi		28416
         1F:D949  62         			cla
         1F:D94A  A0 6F      			ldy.h	#28416
20779                        		__call		_sgx_spr_pattern.1
         1F:D94C  20 E7 E8   			call	_sgx_spr_pattern.1
20780                        	
20781                        		.dbg	line,	"include\init.c", 524; sgx_spr_ctrl(FLIP_MAS|SIZE_MAS, NO_FLIP|SZ_32x32);
20782                        		__st.umiq	185, _al
         1F:D94F  A9 B9      			lda.l	#185
         1F:D951  85 F8      			sta	_al
20783                        		__ld.uiq	17
         1F:D953  A9 11      			lda	#17
20784                        		__call		_sgx_spr_ctrl.2
         1F:D955  20 FD E8   			call	_sgx_spr_ctrl.2
20785                        	
20786                        		.dbg	line,	"include\init.c", 525; }
20787                        		__bra		.LL1000
         1F:D958  4C AE D8   			bra	.LL1000
20788    1F:D95B             	.LL1002:
20789                        	
20790                        		.dbg	line,	"include\init.c", 526; }
20791    1F:D95B             	.LL998:
20792                        		__return	0
         1F:D95B  4C EF FF   			jmp	leave_proc
20793                        		.dbg	clear
20794                        		.endp
20795               2311     		.bss
20796    F8:2311             	__init_CHEST_LV1_end	.alias	leaf_stack
20797               E31D     		.code
20798                        		.pceas
20799                        	
20800                        		.dbg	line,	"include\init.c", 529; void init_NPC_LV1()
20801                        		.dbg	line,	"include\init.c", 530; {
20802                        	;***********************
20803                        	;***********************
20804                        	
20805                        		.hucc
20806    1F:D5FD             		.proc		_init_NPC_LV1
20807                        		__enter		_init_NPC_LV1
20808                        	
20809                        		.dbg	line,	"include\init.c", 531; signed char i;
20810                        	
20811                        		.dbg	line,	"include\init.c", 533; for(i=0 ; i<level_npc_number ; i++)
20812                        		__st.umiq	0, __init_NPC_LV1_end - 1  /* i */
         1F:D5FD  9C 2D 2C   			stz	__init_NPC_LV1_end - 1
20813    1F:D600             	.LL1005:
20814                        		__ld.bm		__init_NPC_LV1_end - 1  /* i */
         1F:D600  AD 2D 2C   			lda	__init_NPC_LV1_end - 1
         1F:D603  C2         			cly
         1F:D604  10 01      			bpl	!+
         1F:D606  88         			dey
         1F:D607             	!:
20815                        		__slt_w.um	_level_npc_number
         1F:D607  CD D4 23   			cmp	_level_npc_number		; Subtract memory from Y:A.
         1F:D60A  98         			tya
         1F:D60B  E9 00      			sbc	#0
         1F:D60D  50 02      			bvc	!+
         1F:D60F  49 80      			eor	#$80		; -ve if Y:A < memory (signed).
         1F:D611  0A         	!:		asl	a
20816                        		__btrue		.LL1007
         1F:D612  B0 08      			bcs	.LL1007
20817                        		__bra		.LL1008
         1F:D614  4C E2 D6   			bra	.LL1008
20818    1F:D617             	.LL1006:
20819                        		__inc.umq	__init_NPC_LV1_end - 1  /* i */
         1F:D617  EE 2D 2C   			inc	__init_NPC_LV1_end - 1
20820                        		__bra		.LL1005
         1F:D61A  80 E4      			bra	.LL1005
20821    1F:D61C             	.LL1007:
20822                        	
20823                        		.dbg	line,	"include\init.c", 534; {
20824                        	
20825                        		.dbg	line,	"include\init.c", 535; // SET NPC PROPERTIES //
20826                        	
20827                        		.dbg	line,	"include\init.c", 536; list_npc_type[i] = TABLE_NPC_TYPE_LV1[i];
20828                        		__ldx.bmq	__init_NPC_LV1_end - 1  /* i */
         1F:D61C  AE 2D 2C   			ldx	__init_NPC_LV1_end - 1
20829                        		__ld.uax	_TABLE_NPC_TYPE_LV1
         1F:D61F  BD B7 61   			lda	_TABLE_NPC_TYPE_LV1, x
         1F:D622  C2         			cly
20830                        		__ldx.bmq	__init_NPC_LV1_end - 1  /* i */
         1F:D623  AE 2D 2C   			ldx	__init_NPC_LV1_end - 1
20831                        		__st.uaxq	_list_npc_type
         1F:D626  9D D7 23   			sta	_list_npc_type, x
20832                        	
20833                        		.dbg	line,	"include\init.c", 537; list_npc_x_pos_ref[i] = TABLE_NPC_X_POS_REF_LV1[i];
20834                        		__ld2x.bmq	__init_NPC_LV1_end - 1  /* i */
         1F:D629  AD 2D 2C   			lda	__init_NPC_LV1_end - 1
         1F:D62C  0A         			asl	a
         1F:D62D  AA         			tax
20835                        		__ld.wax	_TABLE_NPC_X_POS_REF_LV1
         1F:D62E  BD B9 61   			lda.l	_TABLE_NPC_X_POS_REF_LV1, x
         1F:D631  BC BA 61   			ldy.h	_TABLE_NPC_X_POS_REF_LV1, x
20836                        		__ld2x.bm	__init_NPC_LV1_end - 1  /* i */
         1F:D634  AA         			tax
         1F:D635  AD 2D 2C   			lda	__init_NPC_LV1_end - 1
         1F:D638  0A         			asl	a
         1F:D639  22         			sax
20837                        		__st.waxq	_list_npc_x_pos_ref
         1F:D63A  9D 37 26   			sta.l	_list_npc_x_pos_ref, x
         1F:D63D  98         			tya
         1F:D63E  9D 38 26   			sta.h	_list_npc_x_pos_ref, x
20838                        	
20839                        		.dbg	line,	"include\init.c", 538; list_npc_y_pos_ref[i] = TABLE_NPC_Y_POS_REF_LV1[i];
20840                        		__ld2x.bmq	__init_NPC_LV1_end - 1  /* i */
         1F:D641  AD 2D 2C   			lda	__init_NPC_LV1_end - 1
         1F:D644  0A         			asl	a
         1F:D645  AA         			tax
20841                        		__ld.wax	_TABLE_NPC_Y_POS_REF_LV1
         1F:D646  BD BD 61   			lda.l	_TABLE_NPC_Y_POS_REF_LV1, x
         1F:D649  BC BE 61   			ldy.h	_TABLE_NPC_Y_POS_REF_LV1, x
20842                        		__ld2x.bm	__init_NPC_LV1_end - 1  /* i */
         1F:D64C  AA         			tax
         1F:D64D  AD 2D 2C   			lda	__init_NPC_LV1_end - 1
         1F:D650  0A         			asl	a
         1F:D651  22         			sax
20843                        		__st.waxq	_list_npc_y_pos_ref
         1F:D652  9D 49 26   			sta.l	_list_npc_y_pos_ref, x
         1F:D655  98         			tya
         1F:D656  9D 4A 26   			sta.h	_list_npc_y_pos_ref, x
20844                        	
20845                        		.dbg	line,	"include\init.c", 539; list_npc_reward[i] = TABLE_NPC_REWARD_LV1[i];
20846                        		__ld2x.bmq	__init_NPC_LV1_end - 1  /* i */
         1F:D659  AD 2D 2C   			lda	__init_NPC_LV1_end - 1
         1F:D65C  0A         			asl	a
         1F:D65D  AA         			tax
20847                        		__ld.wax	_TABLE_NPC_REWARD_LV1
         1F:D65E  BD C1 61   			lda.l	_TABLE_NPC_REWARD_LV1, x
         1F:D661  BC C2 61   			ldy.h	_TABLE_NPC_REWARD_LV1, x
20848                        		__ldx.bmq	__init_NPC_LV1_end - 1  /* i */
         1F:D664  AE 2D 2C   			ldx	__init_NPC_LV1_end - 1
20849                        		__st.uaxq	_list_npc_reward
         1F:D667  9D E9 23   			sta	_list_npc_reward, x
20850                        	
20851                        		.dbg	line,	"include\init.c", 540; list_npc_x_pos[i] = -32;
20852                        		__ld2x.bmq	__init_NPC_LV1_end - 1  /* i */
         1F:D66A  AD 2D 2C   			lda	__init_NPC_LV1_end - 1
         1F:D66D  0A         			asl	a
         1F:D66E  AA         			tax
20853                        		__st.waxiq	-32, _list_npc_x_pos
         1F:D66F  A9 E0      			lda.l	#-32
         1F:D671  9D 13 26   			sta.l	_list_npc_x_pos, x
         1F:D674  A9 FF      			lda.h	#-32
         1F:D676  9D 14 26   			sta.h	_list_npc_x_pos, x
20854                        	
20855                        		.dbg	line,	"include\init.c", 541; list_npc_y_pos[i] = -32;
20856                        		__ld2x.bmq	__init_NPC_LV1_end - 1  /* i */
         1F:D679  AD 2D 2C   			lda	__init_NPC_LV1_end - 1
         1F:D67C  0A         			asl	a
         1F:D67D  AA         			tax
20857                        		__st.waxiq	-32, _list_npc_y_pos
         1F:D67E  A9 E0      			lda.l	#-32
         1F:D680  9D 25 26   			sta.l	_list_npc_y_pos, x
         1F:D683  A9 FF      			lda.h	#-32
         1F:D685  9D 26 26   			sta.h	_list_npc_y_pos, x
20858                        	
20859                        		.dbg	line,	"include\init.c", 543; if(respawn == FALSE)
20860                        		__not.um	_respawn
         1F:D688  AD 18 23   			lda	_respawn
         1F:D68B  18         			clc
         1F:D68C  D0 01      			bne	!+
         1F:D68E  38         			sec
         1F:D68F             	!:
20861                        		__bfalse	.LL1009
         1F:D68F  90 08      			bcc	.LL1009
20862                        	
20863                        		.dbg	line,	"include\init.c", 544; {
20864                        	
20865                        		.dbg	line,	"include\init.c", 545; list_npc_state[i] = STATE_ACTIVE;
20866                        		__ldx.bmq	__init_NPC_LV1_end - 1  /* i */
         1F:D691  AE 2D 2C   			ldx	__init_NPC_LV1_end - 1
20867                        		__st.uaxiq	1, _list_npc_state
         1F:D694  A9 01      			lda.l	#1
         1F:D696  9D E0 23   			sta	_list_npc_state, x
20868                        	
20869                        		.dbg	line,	"include\init.c", 546; }
20870                        	
20871                        		.dbg	line,	"include\init.c", 549; // SET NPC SPRITE //
20872                        	
20873                        		.dbg	line,	"include\init.c", 550; sgx_spr_set(i + npc_start_index);
20874    1F:D699             	.LL1009:
20875                        		__ld.bm		__init_NPC_LV1_end - 1  /* i */
         1F:D699  AD 2D 2C   			lda	__init_NPC_LV1_end - 1
         1F:D69C  C2         			cly
         1F:D69D  10 01      			bpl	!+
         1F:D69F  88         			dey
         1F:D6A0             	!:
20876                        		__add.um	_npc_start_index
         1F:D6A0  18         			clc
         1F:D6A1  6D D3 23   			adc	_npc_start_index
         1F:D6A4  90 01      			bcc	!+
         1F:D6A6  C8         			iny
         1F:D6A7             	!:
20877                        		__call		_sgx_spr_set.1
         1F:D6A7  20 9E E8   			call	_sgx_spr_set.1
20878                        	
20879                        		.dbg	line,	"include\init.c", 551; sgx_spr_x(list_npc_x_pos[i]);
20880                        		__ld2x.bmq	__init_NPC_LV1_end - 1  /* i */
         1F:D6AA  AD 2D 2C   			lda	__init_NPC_LV1_end - 1
         1F:D6AD  0A         			asl	a
         1F:D6AE  AA         			tax
20881                        		__ld.wax	_list_npc_x_pos
         1F:D6AF  BD 13 26   			lda.l	_list_npc_x_pos, x
         1F:D6B2  BC 14 26   			ldy.h	_list_npc_x_pos, x
20882                        		__call		_sgx_spr_x.1
         1F:D6B5  20 CB E8   			call	_sgx_spr_x.1
20883                        	
20884                        		.dbg	line,	"include\init.c", 552; sgx_spr_y(list_npc_y_pos[i]);
20885                        		__ld2x.bmq	__init_NPC_LV1_end - 1  /* i */
         1F:D6B8  AD 2D 2C   			lda	__init_NPC_LV1_end - 1
         1F:D6BB  0A         			asl	a
         1F:D6BC  AA         			tax
20886                        		__ld.wax	_list_npc_y_pos
         1F:D6BD  BD 25 26   			lda.l	_list_npc_y_pos, x
         1F:D6C0  BC 26 26   			ldy.h	_list_npc_y_pos, x
20887                        		__call		_sgx_spr_y.1
         1F:D6C3  20 DA E8   			call	_sgx_spr_y.1
20888                        	
20889                        		.dbg	line,	"include\init.c", 553; sgx_spr_pri(TRUE);
20890                        		__ld.uiq	1
         1F:D6C6  A9 01      			lda	#1
20891                        		__call		_sgx_spr_pri.1
         1F:D6C8  20 1D E9   			call	_sgx_spr_pri.1
20892                        	
20893                        		.dbg	line,	"include\init.c", 556; sgx_spr_pal(17);
20894                        		__ld.uiq	17
         1F:D6CB  A9 11      			lda	#17
20895                        		__call		_sgx_spr_pal.1
         1F:D6CD  20 0E E9   			call	_sgx_spr_pal.1
20896                        	
20897                        		.dbg	line,	"include\init.c", 557; sgx_spr_pattern(NPC_1_VRAM_ADR);
20898                        		__ld.wi		29952
         1F:D6D0  62         			cla
         1F:D6D1  A0 75      			ldy.h	#29952
20899                        		__call		_sgx_spr_pattern.1
         1F:D6D3  20 E7 E8   			call	_sgx_spr_pattern.1
20900                        	
20901                        		.dbg	line,	"include\init.c", 558; sgx_spr_ctrl(FLIP_MAS|SIZE_MAS, NO_FLIP|SZ_32x32);
20902                        		__st.umiq	185, _al
         1F:D6D6  A9 B9      			lda.l	#185
         1F:D6D8  85 F8      			sta	_al
20903                        		__ld.uiq	17
         1F:D6DA  A9 11      			lda	#17
20904                        		__call		_sgx_spr_ctrl.2
         1F:D6DC  20 FD E8   			call	_sgx_spr_ctrl.2
20905                        	
20906                        		.dbg	line,	"include\init.c", 559; }
20907                        		__bra		.LL1006
         1F:D6DF  4C 17 D6   			bra	.LL1006
20908    1F:D6E2             	.LL1008:
20909                        	
20910                        		.dbg	line,	"include\init.c", 560; }
20911    1F:D6E2             	.LL1004:
20912                        		__return	0
         1F:D6E2  4C EF FF   			jmp	leave_proc
20913                        		.dbg	clear
20914                        		.endp
20915               2311     		.bss
20916    F8:2311             	__init_NPC_LV1_end	.alias	leaf_stack
20917               E31D     		.code
20918                        		.pceas
20919                        	
20920                        		.dbg	line,	"include\init.c", 567; void init_HUD()
20921                        		.dbg	line,	"include\init.c", 568; {
20922                        	;***********************
20923                        	;***********************
20924                        	
20925                        		.hucc
20926    02:DC8C             		.proc		_init_HUD
20927                        		__enter		_init_HUD
20928                        	
20929                        		.dbg	line,	"include\init.c", 569; //**************************************************************************************//
20930                        	
20931                        		.dbg	line,	"include\init.c", 570; //                                                                                      //
20932                        	
20933                        		.dbg	line,	"include\init.c", 571; //                                        VDC 1                                         //
20934                        	
20935                        		.dbg	line,	"include\init.c", 572; //                                                                                      //
20936                        	
20937                        		.dbg	line,	"include\init.c", 573; //**************************************************************************************//
20938                        	
20939                        		.dbg	line,	"include\init.c", 575; //--------------------------------------------------------------------------------------//
20940                        	
20941                        		.dbg	line,	"include\init.c", 576; //                                      LOAD FONT                                       //
20942                        	
20943                        		.dbg	line,	"include\init.c", 577; //--------------------------------------------------------------------------------------//
20944                        	
20945                        		.dbg	line,	"include\init.c", 579; set_font_addr(0x0800);
20946                        		__ld.wi		2048
         02:DC8C  62         			cla
         02:DC8D  A0 08      			ldy.h	#2048
20947                        		__call		_set_font_addr.1
         02:DC8F  20 D9 E5   			call	_set_font_addr.1
20948                        	
20949                        		.dbg	line,	"include\init.c", 581; load_vram( 0x0800, tileset_FONT_TITLE, SIZEOF(tileset_FONT_TITLE) >> 1 );
20950                        		__st.wmiq	2048, _di
         02:DC92  64 F0      			stz.l	_di
         02:DC94  A9 08      			lda.h	#2048
         02:DC96  85 F1      			sta.h	_di
20951                        		__farptr	_tileset_FONT_TITLE, _bp_bank, _bp
         02:DC98  A9 E0      			lda.l	#$6000 + ($1FFF & (_tileset_FONT_TITLE))
         02:DC9A  85 EC      			sta.l	_bp
         02:DC9C  A9 71      			lda.h	#$6000 + ($1FFF & (_tileset_FONT_TITLE))
         02:DC9E  85 ED      			sta.h	_bp
         02:DCA0  A9 12      			lda	#bank(_tileset_FONT_TITLE)
         02:DCA2  85 02      			sta	_bp_bank
20952                        		__ld.wi		___sizeof__tileset_FONT_TITLE
         02:DCA4  A9 00      			lda.l	#___sizeof__tileset_FONT_TITLE
         02:DCA6  A0 0C      			ldy.h	#___sizeof__tileset_FONT_TITLE
20953                        		__lsr.wi	1
         02:DCA8  42         			say
         02:DCA9  4A         			lsr	a
         02:DCAA  42         			say
         02:DCAB  6A         			ror	a
20954                        		__st.wmq	_ax
         02:DCAC  85 F8      			sta.l	_ax
         02:DCAE  84 F9      			sty.h	_ax
20955                        		 _load_vram.3
         02:DCB0  82         			clx				; Offset to PCE VDC.
         02:DCB1  20 F5 FE   			call	load_vram_x
20956                        	
20957                        		.dbg	line,	"include\init.c", 583; set_font_pal(15);
20958                        		__ld.uiq	15
         02:DCB4  A9 0F      			lda	#15
20959                        		__call		_set_font_pal.1
         02:DCB6  20 00 E6   			call	_set_font_pal.1
20960                        	
20961                        		.dbg	line,	"include\init.c", 586; //--------------------------------------------------------------------------------------//
20962                        	
20963                        		.dbg	line,	"include\init.c", 587; //                                    LOAD TILESET                                      //
20964                        	
20965                        		.dbg	line,	"include\init.c", 588; //--------------------------------------------------------------------------------------//
20966                        	
20967                        		.dbg	line,	"include\init.c", 590; load_vram( 0x1000, tileset_HUD, SIZEOF(tileset_HUD) >> 1 );
20968                        		__st.wmiq	4096, _di
         02:DCB9  64 F0      			stz.l	_di
         02:DCBB  A9 10      			lda.h	#4096
         02:DCBD  85 F1      			sta.h	_di
20969                        		__farptr	_tileset_HUD, _bp_bank, _bp
         02:DCBF  A9 A0      			lda.l	#$6000 + ($1FFF & (_tileset_HUD))
         02:DCC1  85 EC      			sta.l	_bp
         02:DCC3  A9 79      			lda.h	#$6000 + ($1FFF & (_tileset_HUD))
         02:DCC5  85 ED      			sta.h	_bp
         02:DCC7  A9 0D      			lda	#bank(_tileset_HUD)
         02:DCC9  85 02      			sta	_bp_bank
20970                        		__ld.wi		___sizeof__tileset_HUD
         02:DCCB  A9 80      			lda.l	#___sizeof__tileset_HUD
         02:DCCD  A0 0B      			ldy.h	#___sizeof__tileset_HUD
20971                        		__lsr.wi	1
         02:DCCF  42         			say
         02:DCD0  4A         			lsr	a
         02:DCD1  42         			say
         02:DCD2  6A         			ror	a
20972                        		__st.wmq	_ax
         02:DCD3  85 F8      			sta.l	_ax
         02:DCD5  84 F9      			sty.h	_ax
20973                        		 _load_vram.3
         02:DCD7  82         			clx				; Offset to PCE VDC.
         02:DCD8  20 F5 FE   			call	load_vram_x
20974                        	
20975                        		.dbg	line,	"include\init.c", 593; //--------------------------------------------------------------------------------------//
20976                        	
20977                        		.dbg	line,	"include\init.c", 594; //                                 LOAD LIFEBAR TILES                                   //
20978                        	
20979                        		.dbg	line,	"include\init.c", 595; //--------------------------------------------------------------------------------------//
20980                        	
20981                        		.dbg	line,	"include\init.c", 597; load_vram( LIFEBAR_1_VRAM_ADR, tileset_LIFE_RED, SIZEOF(tileset_LIFE_RED) >> 1 );
20982                        		__st.wmiq	4096, _di
         02:DCDB  64 F0      			stz.l	_di
         02:DCDD  A9 10      			lda.h	#4096
         02:DCDF  85 F1      			sta.h	_di
20983                        		__farptr	_tileset_LIFE_RED, _bp_bank, _bp
         02:DCE1  A9 E0      			lda.l	#$6000 + ($1FFF & (_tileset_LIFE_RED))
         02:DCE3  85 EC      			sta.l	_bp
         02:DCE5  A9 70      			lda.h	#$6000 + ($1FFF & (_tileset_LIFE_RED))
         02:DCE7  85 ED      			sta.h	_bp
         02:DCE9  A9 07      			lda	#bank(_tileset_LIFE_RED)
         02:DCEB  85 02      			sta	_bp_bank
20984                        		__ld.wi		___sizeof__tileset_LIFE_RED
         02:DCED  A9 40      			lda.l	#___sizeof__tileset_LIFE_RED
         02:DCEF  A0 00      			ldy.h	#___sizeof__tileset_LIFE_RED
20985                        		__lsr.wi	1
         02:DCF1  42         			say
         02:DCF2  4A         			lsr	a
         02:DCF3  42         			say
         02:DCF4  6A         			ror	a
20986                        		__st.wmq	_ax
         02:DCF5  85 F8      			sta.l	_ax
         02:DCF7  84 F9      			sty.h	_ax
20987                        		 _load_vram.3
         02:DCF9  82         			clx				; Offset to PCE VDC.
         02:DCFA  20 F5 FE   			call	load_vram_x
20988                        	
20989                        		.dbg	line,	"include\init.c", 598; load_vram( LIFEBAR_2_VRAM_ADR, tileset_LIFE_ORANGE, SIZEOF(tileset_LIFE_ORANGE) >> 1 );
20990                        		__st.wmiq	4128, _di
         02:DCFD  A9 20      			lda.l	#4128
         02:DCFF  85 F0      			sta.l	_di
         02:DD01  A9 10      			lda.h	#4128
         02:DD03  85 F1      			sta.h	_di
20991                        		__farptr	_tileset_LIFE_ORANGE, _bp_bank, _bp
         02:DD05  A9 20      			lda.l	#$6000 + ($1FFF & (_tileset_LIFE_ORANGE))
         02:DD07  85 EC      			sta.l	_bp
         02:DD09  A9 71      			lda.h	#$6000 + ($1FFF & (_tileset_LIFE_ORANGE))
         02:DD0B  85 ED      			sta.h	_bp
         02:DD0D  A9 07      			lda	#bank(_tileset_LIFE_ORANGE)
         02:DD0F  85 02      			sta	_bp_bank
20992                        		__ld.wi		___sizeof__tileset_LIFE_ORANGE
         02:DD11  A9 40      			lda.l	#___sizeof__tileset_LIFE_ORANGE
         02:DD13  A0 00      			ldy.h	#___sizeof__tileset_LIFE_ORANGE
20993                        		__lsr.wi	1
         02:DD15  42         			say
         02:DD16  4A         			lsr	a
         02:DD17  42         			say
         02:DD18  6A         			ror	a
20994                        		__st.wmq	_ax
         02:DD19  85 F8      			sta.l	_ax
         02:DD1B  84 F9      			sty.h	_ax
20995                        		 _load_vram.3
         02:DD1D  82         			clx				; Offset to PCE VDC.
         02:DD1E  20 F5 FE   			call	load_vram_x
20996                        	
20997                        		.dbg	line,	"include\init.c", 599; load_vram( LIFEBAR_3_VRAM_ADR, tileset_LIFE_YELLOW, SIZEOF(tileset_LIFE_YELLOW) >> 1 );
20998                        		__st.wmiq	4160, _di
         02:DD21  A9 40      			lda.l	#4160
         02:DD23  85 F0      			sta.l	_di
         02:DD25  A9 10      			lda.h	#4160
         02:DD27  85 F1      			sta.h	_di
20999                        		__farptr	_tileset_LIFE_YELLOW, _bp_bank, _bp
         02:DD29  A9 60      			lda.l	#$6000 + ($1FFF & (_tileset_LIFE_YELLOW))
         02:DD2B  85 EC      			sta.l	_bp
         02:DD2D  A9 71      			lda.h	#$6000 + ($1FFF & (_tileset_LIFE_YELLOW))
         02:DD2F  85 ED      			sta.h	_bp
         02:DD31  A9 07      			lda	#bank(_tileset_LIFE_YELLOW)
         02:DD33  85 02      			sta	_bp_bank
21000                        		__ld.wi		___sizeof__tileset_LIFE_YELLOW
         02:DD35  A9 40      			lda.l	#___sizeof__tileset_LIFE_YELLOW
         02:DD37  A0 00      			ldy.h	#___sizeof__tileset_LIFE_YELLOW
21001                        		__lsr.wi	1
         02:DD39  42         			say
         02:DD3A  4A         			lsr	a
         02:DD3B  42         			say
         02:DD3C  6A         			ror	a
21002                        		__st.wmq	_ax
         02:DD3D  85 F8      			sta.l	_ax
         02:DD3F  84 F9      			sty.h	_ax
21003                        		 _load_vram.3
         02:DD41  82         			clx				; Offset to PCE VDC.
         02:DD42  20 F5 FE   			call	load_vram_x
21004                        	
21005                        		.dbg	line,	"include\init.c", 600; load_vram( LIFEBAR_4_VRAM_ADR, tileset_LIFE_YELLOW, SIZEOF(tileset_LIFE_YELLOW) >> 1 );
21006                        		__st.wmiq	4192, _di
         02:DD45  A9 60      			lda.l	#4192
         02:DD47  85 F0      			sta.l	_di
         02:DD49  A9 10      			lda.h	#4192
         02:DD4B  85 F1      			sta.h	_di
21007                        		__farptr	_tileset_LIFE_YELLOW, _bp_bank, _bp
         02:DD4D  A9 60      			lda.l	#$6000 + ($1FFF & (_tileset_LIFE_YELLOW))
         02:DD4F  85 EC      			sta.l	_bp
         02:DD51  A9 71      			lda.h	#$6000 + ($1FFF & (_tileset_LIFE_YELLOW))
         02:DD53  85 ED      			sta.h	_bp
         02:DD55  A9 07      			lda	#bank(_tileset_LIFE_YELLOW)
         02:DD57  85 02      			sta	_bp_bank
21008                        		__ld.wi		___sizeof__tileset_LIFE_YELLOW
         02:DD59  A9 40      			lda.l	#___sizeof__tileset_LIFE_YELLOW
         02:DD5B  A0 00      			ldy.h	#___sizeof__tileset_LIFE_YELLOW
21009                        		__lsr.wi	1
         02:DD5D  42         			say
         02:DD5E  4A         			lsr	a
         02:DD5F  42         			say
         02:DD60  6A         			ror	a
21010                        		__st.wmq	_ax
         02:DD61  85 F8      			sta.l	_ax
         02:DD63  84 F9      			sty.h	_ax
21011                        		 _load_vram.3
         02:DD65  82         			clx				; Offset to PCE VDC.
         02:DD66  20 F5 FE   			call	load_vram_x
21012                        	
21013                        		.dbg	line,	"include\init.c", 601; load_vram( LIFEBAR_5_VRAM_ADR, tileset_LIFE_EMPTY, SIZEOF(tileset_LIFE_EMPTY) >> 1 );
21014                        		__st.wmiq	4224, _di
         02:DD69  A9 80      			lda.l	#4224
         02:DD6B  85 F0      			sta.l	_di
         02:DD6D  A9 10      			lda.h	#4224
         02:DD6F  85 F1      			sta.h	_di
21015                        		__farptr	_tileset_LIFE_EMPTY, _bp_bank, _bp
         02:DD71  A9 A0      			lda.l	#$6000 + ($1FFF & (_tileset_LIFE_EMPTY))
         02:DD73  85 EC      			sta.l	_bp
         02:DD75  A9 71      			lda.h	#$6000 + ($1FFF & (_tileset_LIFE_EMPTY))
         02:DD77  85 ED      			sta.h	_bp
         02:DD79  A9 07      			lda	#bank(_tileset_LIFE_EMPTY)
         02:DD7B  85 02      			sta	_bp_bank
21016                        		__ld.wi		___sizeof__tileset_LIFE_EMPTY
         02:DD7D  A9 40      			lda.l	#___sizeof__tileset_LIFE_EMPTY
         02:DD7F  A0 00      			ldy.h	#___sizeof__tileset_LIFE_EMPTY
21017                        		__lsr.wi	1
         02:DD81  42         			say
         02:DD82  4A         			lsr	a
         02:DD83  42         			say
         02:DD84  6A         			ror	a
21018                        		__st.wmq	_ax
         02:DD85  85 F8      			sta.l	_ax
         02:DD87  84 F9      			sty.h	_ax
21019                        		 _load_vram.3
         02:DD89  82         			clx				; Offset to PCE VDC.
         02:DD8A  20 F5 FE   			call	load_vram_x
21020                        	
21021                        		.dbg	line,	"include\init.c", 604; //--------------------------------------------------------------------------------------//
21022                        	
21023                        		.dbg	line,	"include\init.c", 605; //                               LOAD WEAPON + ARMOR TILES                              //
21024                        	
21025                        		.dbg	line,	"include\init.c", 606; //--------------------------------------------------------------------------------------//
21026                        	
21027                        		.dbg	line,	"include\init.c", 608; if(weapon_level == 1)
21028                        		__ld.umq	_weapon_level
         02:DD8D  AD 2A 23   			lda	_weapon_level
21029                        		__equ_b.uiq	1
         02:DD90  C9 01      			cmp	#1
         02:DD92  F0 01      			beq	!+
         02:DD94  18         			clc
         02:DD95             	!:
21030                        		__bfalse	.LL1011
         02:DD95  90 27      			bcc	.LL1011
21031                        	
21032                        		.dbg	line,	"include\init.c", 609; {
21033                        	
21034                        		.dbg	line,	"include\init.c", 610; load_vram( WEAPON_ICON_VRAM_ADR, tileset_WEAPON_1, SIZEOF(tileset_WEAPON_1) >> 1 );
21035                        		__st.wmiq	4256, _di
         02:DD97  A9 A0      			lda.l	#4256
         02:DD99  85 F0      			sta.l	_di
         02:DD9B  A9 10      			lda.h	#4256
         02:DD9D  85 F1      			sta.h	_di
21036                        		__farptr	_tileset_WEAPON_1, _bp_bank, _bp
         02:DD9F  A9 E0      			lda.l	#$6000 + ($1FFF & (_tileset_WEAPON_1))
         02:DDA1  85 EC      			sta.l	_bp
         02:DDA3  A9 73      			lda.h	#$6000 + ($1FFF & (_tileset_WEAPON_1))
         02:DDA5  85 ED      			sta.h	_bp
         02:DDA7  A9 07      			lda	#bank(_tileset_WEAPON_1)
         02:DDA9  85 02      			sta	_bp_bank
21037                        		__ld.wi		___sizeof__tileset_WEAPON_1
         02:DDAB  A9 80      			lda.l	#___sizeof__tileset_WEAPON_1
         02:DDAD  A0 00      			ldy.h	#___sizeof__tileset_WEAPON_1
21038                        		__lsr.wi	1
         02:DDAF  42         			say
         02:DDB0  4A         			lsr	a
         02:DDB1  42         			say
         02:DDB2  6A         			ror	a
21039                        		__st.wmq	_ax
         02:DDB3  85 F8      			sta.l	_ax
         02:DDB5  84 F9      			sty.h	_ax
21040                        		 _load_vram.3
         02:DDB7  82         			clx				; Offset to PCE VDC.
         02:DDB8  20 F5 FE   			call	load_vram_x
21041                        	
21042                        		.dbg	line,	"include\init.c", 611; }
21043                        	
21044                        		.dbg	line,	"include\init.c", 613; else if(weapon_level == 2)
21045                        		__bra		.LL1012
         02:DDBB  4C 7D DE   			bra	.LL1012
21046    02:DDBE             	.LL1011:
21047                        		__ld.umq	_weapon_level
         02:DDBE  AD 2A 23   			lda	_weapon_level
21048                        		__equ_b.uiq	2
         02:DDC1  C9 02      			cmp	#2
         02:DDC3  F0 01      			beq	!+
         02:DDC5  18         			clc
         02:DDC6             	!:
21049                        		__bfalse	.LL1013
         02:DDC6  90 27      			bcc	.LL1013
21050                        	
21051                        		.dbg	line,	"include\init.c", 614; {
21052                        	
21053                        		.dbg	line,	"include\init.c", 615; load_vram( WEAPON_ICON_VRAM_ADR, tileset_WEAPON_2, SIZEOF(tileset_WEAPON_2) >> 1 );
21054                        		__st.wmiq	4256, _di
         02:DDC8  A9 A0      			lda.l	#4256
         02:DDCA  85 F0      			sta.l	_di
         02:DDCC  A9 10      			lda.h	#4256
         02:DDCE  85 F1      			sta.h	_di
21055                        		__farptr	_tileset_WEAPON_2, _bp_bank, _bp
         02:DDD0  A9 60      			lda.l	#$6000 + ($1FFF & (_tileset_WEAPON_2))
         02:DDD2  85 EC      			sta.l	_bp
         02:DDD4  A9 74      			lda.h	#$6000 + ($1FFF & (_tileset_WEAPON_2))
         02:DDD6  85 ED      			sta.h	_bp
         02:DDD8  A9 07      			lda	#bank(_tileset_WEAPON_2)
         02:DDDA  85 02      			sta	_bp_bank
21056                        		__ld.wi		___sizeof__tileset_WEAPON_2
         02:DDDC  A9 80      			lda.l	#___sizeof__tileset_WEAPON_2
         02:DDDE  A0 00      			ldy.h	#___sizeof__tileset_WEAPON_2
21057                        		__lsr.wi	1
         02:DDE0  42         			say
         02:DDE1  4A         			lsr	a
         02:DDE2  42         			say
         02:DDE3  6A         			ror	a
21058                        		__st.wmq	_ax
         02:DDE4  85 F8      			sta.l	_ax
         02:DDE6  84 F9      			sty.h	_ax
21059                        		 _load_vram.3
         02:DDE8  82         			clx				; Offset to PCE VDC.
         02:DDE9  20 F5 FE   			call	load_vram_x
21060                        	
21061                        		.dbg	line,	"include\init.c", 616; }
21062                        	
21063                        		.dbg	line,	"include\init.c", 618; else if(weapon_level == 3)
21064                        		__bra		.LL1014
         02:DDEC  4C 7D DE   			bra	.LL1014
21065    02:DDEF             	.LL1013:
21066                        		__ld.umq	_weapon_level
         02:DDEF  AD 2A 23   			lda	_weapon_level
21067                        		__equ_b.uiq	3
         02:DDF2  C9 03      			cmp	#3
         02:DDF4  F0 01      			beq	!+
         02:DDF6  18         			clc
         02:DDF7             	!:
21068                        		__bfalse	.LL1015
         02:DDF7  90 26      			bcc	.LL1015
21069                        	
21070                        		.dbg	line,	"include\init.c", 619; {
21071                        	
21072                        		.dbg	line,	"include\init.c", 620; load_vram( WEAPON_ICON_VRAM_ADR, tileset_WEAPON_4, SIZEOF(tileset_WEAPON_4) >> 1 );
21073                        		__st.wmiq	4256, _di
         02:DDF9  A9 A0      			lda.l	#4256
         02:DDFB  85 F0      			sta.l	_di
         02:DDFD  A9 10      			lda.h	#4256
         02:DDFF  85 F1      			sta.h	_di
21074                        		__farptr	_tileset_WEAPON_4, _bp_bank, _bp
         02:DE01  A9 E0      			lda.l	#$6000 + ($1FFF & (_tileset_WEAPON_4))
         02:DE03  85 EC      			sta.l	_bp
         02:DE05  A9 74      			lda.h	#$6000 + ($1FFF & (_tileset_WEAPON_4))
         02:DE07  85 ED      			sta.h	_bp
         02:DE09  A9 07      			lda	#bank(_tileset_WEAPON_4)
         02:DE0B  85 02      			sta	_bp_bank
21075                        		__ld.wi		___sizeof__tileset_WEAPON_4
         02:DE0D  A9 80      			lda.l	#___sizeof__tileset_WEAPON_4
         02:DE0F  A0 00      			ldy.h	#___sizeof__tileset_WEAPON_4
21076                        		__lsr.wi	1
         02:DE11  42         			say
         02:DE12  4A         			lsr	a
         02:DE13  42         			say
         02:DE14  6A         			ror	a
21077                        		__st.wmq	_ax
         02:DE15  85 F8      			sta.l	_ax
         02:DE17  84 F9      			sty.h	_ax
21078                        		 _load_vram.3
         02:DE19  82         			clx				; Offset to PCE VDC.
         02:DE1A  20 F5 FE   			call	load_vram_x
21079                        	
21080                        		.dbg	line,	"include\init.c", 621; }
21081                        	
21082                        		.dbg	line,	"include\init.c", 623; else if(weapon_level == 4)
21083                        		__bra		.LL1016
         02:DE1D  80 5E      			bra	.LL1016
21084    02:DE1F             	.LL1015:
21085                        		__ld.umq	_weapon_level
         02:DE1F  AD 2A 23   			lda	_weapon_level
21086                        		__equ_b.uiq	4
         02:DE22  C9 04      			cmp	#4
         02:DE24  F0 01      			beq	!+
         02:DE26  18         			clc
         02:DE27             	!:
21087                        		__bfalse	.LL1017
         02:DE27  90 26      			bcc	.LL1017
21088                        	
21089                        		.dbg	line,	"include\init.c", 624; {
21090                        	
21091                        		.dbg	line,	"include\init.c", 625; load_vram( WEAPON_ICON_VRAM_ADR, tileset_WEAPON_5, SIZEOF(tileset_WEAPON_5) >> 1 );
21092                        		__st.wmiq	4256, _di
         02:DE29  A9 A0      			lda.l	#4256
         02:DE2B  85 F0      			sta.l	_di
         02:DE2D  A9 10      			lda.h	#4256
         02:DE2F  85 F1      			sta.h	_di
21093                        		__farptr	_tileset_WEAPON_5, _bp_bank, _bp
         02:DE31  A9 60      			lda.l	#$6000 + ($1FFF & (_tileset_WEAPON_5))
         02:DE33  85 EC      			sta.l	_bp
         02:DE35  A9 75      			lda.h	#$6000 + ($1FFF & (_tileset_WEAPON_5))
         02:DE37  85 ED      			sta.h	_bp
         02:DE39  A9 07      			lda	#bank(_tileset_WEAPON_5)
         02:DE3B  85 02      			sta	_bp_bank
21094                        		__ld.wi		___sizeof__tileset_WEAPON_5
         02:DE3D  A9 80      			lda.l	#___sizeof__tileset_WEAPON_5
         02:DE3F  A0 00      			ldy.h	#___sizeof__tileset_WEAPON_5
21095                        		__lsr.wi	1
         02:DE41  42         			say
         02:DE42  4A         			lsr	a
         02:DE43  42         			say
         02:DE44  6A         			ror	a
21096                        		__st.wmq	_ax
         02:DE45  85 F8      			sta.l	_ax
         02:DE47  84 F9      			sty.h	_ax
21097                        		 _load_vram.3
         02:DE49  82         			clx				; Offset to PCE VDC.
         02:DE4A  20 F5 FE   			call	load_vram_x
21098                        	
21099                        		.dbg	line,	"include\init.c", 626; }
21100                        	
21101                        		.dbg	line,	"include\init.c", 628; else if(weapon_level == 5)
21102                        		__bra		.LL1018
         02:DE4D  80 2E      			bra	.LL1018
21103    02:DE4F             	.LL1017:
21104                        		__ld.umq	_weapon_level
         02:DE4F  AD 2A 23   			lda	_weapon_level
21105                        		__equ_b.uiq	5
         02:DE52  C9 05      			cmp	#5
         02:DE54  F0 01      			beq	!+
         02:DE56  18         			clc
         02:DE57             	!:
21106                        		__bfalse	.LL1019
         02:DE57  90 24      			bcc	.LL1019
21107                        	
21108                        		.dbg	line,	"include\init.c", 629; {
21109                        	
21110                        		.dbg	line,	"include\init.c", 630; load_vram( WEAPON_ICON_VRAM_ADR, tileset_WEAPON_8, SIZEOF(tileset_WEAPON_8) >> 1 );
21111                        		__st.wmiq	4256, _di
         02:DE59  A9 A0      			lda.l	#4256
         02:DE5B  85 F0      			sta.l	_di
         02:DE5D  A9 10      			lda.h	#4256
         02:DE5F  85 F1      			sta.h	_di
21112                        		__farptr	_tileset_WEAPON_8, _bp_bank, _bp
         02:DE61  A9 E0      			lda.l	#$6000 + ($1FFF & (_tileset_WEAPON_8))
         02:DE63  85 EC      			sta.l	_bp
         02:DE65  A9 75      			lda.h	#$6000 + ($1FFF & (_tileset_WEAPON_8))
         02:DE67  85 ED      			sta.h	_bp
         02:DE69  A9 07      			lda	#bank(_tileset_WEAPON_8)
         02:DE6B  85 02      			sta	_bp_bank
21113                        		__ld.wi		___sizeof__tileset_WEAPON_8
         02:DE6D  A9 80      			lda.l	#___sizeof__tileset_WEAPON_8
         02:DE6F  A0 00      			ldy.h	#___sizeof__tileset_WEAPON_8
21114                        		__lsr.wi	1
         02:DE71  42         			say
         02:DE72  4A         			lsr	a
         02:DE73  42         			say
         02:DE74  6A         			ror	a
21115                        		__st.wmq	_ax
         02:DE75  85 F8      			sta.l	_ax
         02:DE77  84 F9      			sty.h	_ax
21116                        		 _load_vram.3
         02:DE79  82         			clx				; Offset to PCE VDC.
         02:DE7A  20 F5 FE   			call	load_vram_x
21117                        	
21118                        		.dbg	line,	"include\init.c", 631; }
21119                        	
21120                        		.dbg	line,	"include\init.c", 636; if(armor_level == 1)
21121    02:DE7D             	.LL1019:
21122    02:DE7D             	.LL1018:
21123    02:DE7D             	.LL1016:
21124    02:DE7D             	.LL1014:
21125    02:DE7D             	.LL1012:
21126                        		__ld.umq	_armor_level
         02:DE7D  AD 29 23   			lda	_armor_level
21127                        		__equ_b.uiq	1
         02:DE80  C9 01      			cmp	#1
         02:DE82  F0 01      			beq	!+
         02:DE84  18         			clc
         02:DE85             	!:
21128                        		__bfalse	.LL1020
         02:DE85  90 27      			bcc	.LL1020
21129                        	
21130                        		.dbg	line,	"include\init.c", 637; {
21131                        	
21132                        		.dbg	line,	"include\init.c", 638; load_vram( ARMOR_VRAM_ADR, tileset_ARMOR_1, SIZEOF(tileset_ARMOR_1) >> 1 );
21133                        		__st.wmiq	4320, _di
         02:DE87  A9 E0      			lda.l	#4320
         02:DE89  85 F0      			sta.l	_di
         02:DE8B  A9 10      			lda.h	#4320
         02:DE8D  85 F1      			sta.h	_di
21134                        		__farptr	_tileset_ARMOR_1, _bp_bank, _bp
         02:DE8F  A9 E0      			lda.l	#$6000 + ($1FFF & (_tileset_ARMOR_1))
         02:DE91  85 EC      			sta.l	_bp
         02:DE93  A9 71      			lda.h	#$6000 + ($1FFF & (_tileset_ARMOR_1))
         02:DE95  85 ED      			sta.h	_bp
         02:DE97  A9 07      			lda	#bank(_tileset_ARMOR_1)
         02:DE99  85 02      			sta	_bp_bank
21135                        		__ld.wi		___sizeof__tileset_ARMOR_1
         02:DE9B  A9 80      			lda.l	#___sizeof__tileset_ARMOR_1
         02:DE9D  A0 00      			ldy.h	#___sizeof__tileset_ARMOR_1
21136                        		__lsr.wi	1
         02:DE9F  42         			say
         02:DEA0  4A         			lsr	a
         02:DEA1  42         			say
         02:DEA2  6A         			ror	a
21137                        		__st.wmq	_ax
         02:DEA3  85 F8      			sta.l	_ax
         02:DEA5  84 F9      			sty.h	_ax
21138                        		 _load_vram.3
         02:DEA7  82         			clx				; Offset to PCE VDC.
         02:DEA8  20 F5 FE   			call	load_vram_x
21139                        	
21140                        		.dbg	line,	"include\init.c", 639; }
21141                        	
21142                        		.dbg	line,	"include\init.c", 641; else if(armor_level == 2)
21143                        		__bra		.LL1021
         02:DEAB  4C 3C DF   			bra	.LL1021
21144    02:DEAE             	.LL1020:
21145                        		__ld.umq	_armor_level
         02:DEAE  AD 29 23   			lda	_armor_level
21146                        		__equ_b.uiq	2
         02:DEB1  C9 02      			cmp	#2
         02:DEB3  F0 01      			beq	!+
         02:DEB5  18         			clc
         02:DEB6             	!:
21147                        		__bfalse	.LL1022
         02:DEB6  90 26      			bcc	.LL1022
21148                        	
21149                        		.dbg	line,	"include\init.c", 642; {
21150                        	
21151                        		.dbg	line,	"include\init.c", 643; load_vram( ARMOR_VRAM_ADR, tileset_ARMOR_2, SIZEOF(tileset_ARMOR_2) >> 1 );
21152                        		__st.wmiq	4320, _di
         02:DEB8  A9 E0      			lda.l	#4320
         02:DEBA  85 F0      			sta.l	_di
         02:DEBC  A9 10      			lda.h	#4320
         02:DEBE  85 F1      			sta.h	_di
21153                        		__farptr	_tileset_ARMOR_2, _bp_bank, _bp
         02:DEC0  A9 60      			lda.l	#$6000 + ($1FFF & (_tileset_ARMOR_2))
         02:DEC2  85 EC      			sta.l	_bp
         02:DEC4  A9 72      			lda.h	#$6000 + ($1FFF & (_tileset_ARMOR_2))
         02:DEC6  85 ED      			sta.h	_bp
         02:DEC8  A9 07      			lda	#bank(_tileset_ARMOR_2)
         02:DECA  85 02      			sta	_bp_bank
21154                        		__ld.wi		___sizeof__tileset_ARMOR_2
         02:DECC  A9 80      			lda.l	#___sizeof__tileset_ARMOR_2
         02:DECE  A0 00      			ldy.h	#___sizeof__tileset_ARMOR_2
21155                        		__lsr.wi	1
         02:DED0  42         			say
         02:DED1  4A         			lsr	a
         02:DED2  42         			say
         02:DED3  6A         			ror	a
21156                        		__st.wmq	_ax
         02:DED4  85 F8      			sta.l	_ax
         02:DED6  84 F9      			sty.h	_ax
21157                        		 _load_vram.3
         02:DED8  82         			clx				; Offset to PCE VDC.
         02:DED9  20 F5 FE   			call	load_vram_x
21158                        	
21159                        		.dbg	line,	"include\init.c", 644; }
21160                        	
21161                        		.dbg	line,	"include\init.c", 646; else if(armor_level == 3)
21162                        		__bra		.LL1023
         02:DEDC  80 5E      			bra	.LL1023
21163    02:DEDE             	.LL1022:
21164                        		__ld.umq	_armor_level
         02:DEDE  AD 29 23   			lda	_armor_level
21165                        		__equ_b.uiq	3
         02:DEE1  C9 03      			cmp	#3
         02:DEE3  F0 01      			beq	!+
         02:DEE5  18         			clc
         02:DEE6             	!:
21166                        		__bfalse	.LL1024
         02:DEE6  90 26      			bcc	.LL1024
21167                        	
21168                        		.dbg	line,	"include\init.c", 647; {
21169                        	
21170                        		.dbg	line,	"include\init.c", 648; load_vram( ARMOR_VRAM_ADR, tileset_ARMOR_4, SIZEOF(tileset_ARMOR_4) >> 1 );
21171                        		__st.wmiq	4320, _di
         02:DEE8  A9 E0      			lda.l	#4320
         02:DEEA  85 F0      			sta.l	_di
         02:DEEC  A9 10      			lda.h	#4320
         02:DEEE  85 F1      			sta.h	_di
21172                        		__farptr	_tileset_ARMOR_4, _bp_bank, _bp
         02:DEF0  A9 E0      			lda.l	#$6000 + ($1FFF & (_tileset_ARMOR_4))
         02:DEF2  85 EC      			sta.l	_bp
         02:DEF4  A9 72      			lda.h	#$6000 + ($1FFF & (_tileset_ARMOR_4))
         02:DEF6  85 ED      			sta.h	_bp
         02:DEF8  A9 07      			lda	#bank(_tileset_ARMOR_4)
         02:DEFA  85 02      			sta	_bp_bank
21173                        		__ld.wi		___sizeof__tileset_ARMOR_4
         02:DEFC  A9 80      			lda.l	#___sizeof__tileset_ARMOR_4
         02:DEFE  A0 00      			ldy.h	#___sizeof__tileset_ARMOR_4
21174                        		__lsr.wi	1
         02:DF00  42         			say
         02:DF01  4A         			lsr	a
         02:DF02  42         			say
         02:DF03  6A         			ror	a
21175                        		__st.wmq	_ax
         02:DF04  85 F8      			sta.l	_ax
         02:DF06  84 F9      			sty.h	_ax
21176                        		 _load_vram.3
         02:DF08  82         			clx				; Offset to PCE VDC.
         02:DF09  20 F5 FE   			call	load_vram_x
21177                        	
21178                        		.dbg	line,	"include\init.c", 649; }
21179                        	
21180                        		.dbg	line,	"include\init.c", 651; else if(armor_level == 4)
21181                        		__bra		.LL1025
         02:DF0C  80 2E      			bra	.LL1025
21182    02:DF0E             	.LL1024:
21183                        		__ld.umq	_armor_level
         02:DF0E  AD 29 23   			lda	_armor_level
21184                        		__equ_b.uiq	4
         02:DF11  C9 04      			cmp	#4
         02:DF13  F0 01      			beq	!+
         02:DF15  18         			clc
         02:DF16             	!:
21185                        		__bfalse	.LL1026
         02:DF16  90 24      			bcc	.LL1026
21186                        	
21187                        		.dbg	line,	"include\init.c", 652; {
21188                        	
21189                        		.dbg	line,	"include\init.c", 653; load_vram( ARMOR_VRAM_ADR, tileset_ARMOR_8, SIZEOF(tileset_ARMOR_8) >> 1 );
21190                        		__st.wmiq	4320, _di
         02:DF18  A9 E0      			lda.l	#4320
         02:DF1A  85 F0      			sta.l	_di
         02:DF1C  A9 10      			lda.h	#4320
         02:DF1E  85 F1      			sta.h	_di
21191                        		__farptr	_tileset_ARMOR_8, _bp_bank, _bp
         02:DF20  A9 60      			lda.l	#$6000 + ($1FFF & (_tileset_ARMOR_8))
         02:DF22  85 EC      			sta.l	_bp
         02:DF24  A9 73      			lda.h	#$6000 + ($1FFF & (_tileset_ARMOR_8))
         02:DF26  85 ED      			sta.h	_bp
         02:DF28  A9 07      			lda	#bank(_tileset_ARMOR_8)
         02:DF2A  85 02      			sta	_bp_bank
21192                        		__ld.wi		___sizeof__tileset_ARMOR_8
         02:DF2C  A9 80      			lda.l	#___sizeof__tileset_ARMOR_8
         02:DF2E  A0 00      			ldy.h	#___sizeof__tileset_ARMOR_8
21193                        		__lsr.wi	1
         02:DF30  42         			say
         02:DF31  4A         			lsr	a
         02:DF32  42         			say
         02:DF33  6A         			ror	a
21194                        		__st.wmq	_ax
         02:DF34  85 F8      			sta.l	_ax
         02:DF36  84 F9      			sty.h	_ax
21195                        		 _load_vram.3
         02:DF38  82         			clx				; Offset to PCE VDC.
         02:DF39  20 F5 FE   			call	load_vram_x
21196                        	
21197                        		.dbg	line,	"include\init.c", 654; }
21198                        	
21199                        		.dbg	line,	"include\init.c", 659; //--------------------------------------------------------------------------------------//
21200                        	
21201                        		.dbg	line,	"include\init.c", 660; //                                     SET MULTIMAP                                     //
21202                        	
21203                        		.dbg	line,	"include\init.c", 661; //--------------------------------------------------------------------------------------//
21204                        	
21205                        		.dbg	line,	"include\init.c", 663; // multimap is 2 screens wide //
21206                        	
21207                        		.dbg	line,	"include\init.c", 664; set_multimap( multimap_LV1_BG_A , 5 );
21208    02:DF3C             	.LL1026:
21209    02:DF3C             	.LL1025:
21210    02:DF3C             	.LL1023:
21211    02:DF3C             	.LL1021:
21212                        		__farptr	_multimap_LV1_BG_A, vdc_scr_bank, vdc_scr_addr
         02:DF3C  A9 00      			lda.l	#$6000 + ($1FFF & (_multimap_LV1_BG_A))
         02:DF3E  8D 12 2C   			sta.l	vdc_scr_addr
         02:DF41  A9 60      			lda.h	#$6000 + ($1FFF & (_multimap_LV1_BG_A))
         02:DF43  8D 13 2C   			sta.h	vdc_scr_addr
         02:DF46  A9 10      			lda	#bank(_multimap_LV1_BG_A)
         02:DF48  8D 14 2C   			sta	vdc_scr_bank
21213                        		__st.umiq	5, vdc_map_scrn_w
         02:DF4B  A9 05      			lda.l	#5
         02:DF4D  8D D3 26   			sta	vdc_map_scrn_w
21214                        		 _set_multimap.2
         02:DF50  AD CB 26   			lda	vdc_bat_width
         02:DF53  4A         			lsr	a
         02:DF54  8D D2 26   			sta	vdc_map_line_w
21215                        	
21216                        		.dbg	line,	"include\init.c", 667; //--------------------------------------------------------------------------------------//
21217                        	
21218                        		.dbg	line,	"include\init.c", 668; //                                    DRAW TILEMAP                                      //
21219                        	
21220                        		.dbg	line,	"include\init.c", 669; //--------------------------------------------------------------------------------------//
21221                        	
21222                        		.dbg	line,	"include\init.c", 671; // The blkmap is drawn using global variables for the top-left coordinate
21223                        	
21224                        		.dbg	line,	"include\init.c", 672; // in pixels, and the draw width and height in terms of 8x8 characters.
21225                        	
21226                        		.dbg	line,	"include\init.c", 674; vdc_map_pxl_x = 0;
21227                        		__st.wmiq	0, _vdc_map_pxl_x
         02:DF57  9C D4 26   			stz.l	_vdc_map_pxl_x
         02:DF5A  9C D5 26   			stz.h	_vdc_map_pxl_x
21228                        	
21229                        		.dbg	line,	"include\init.c", 675; vdc_map_pxl_y = 0;
21230                        		__st.wmiq	0, _vdc_map_pxl_y
         02:DF5D  9C D6 26   			stz.l	_vdc_map_pxl_y
         02:DF60  9C D7 26   			stz.h	_vdc_map_pxl_y
21231                        	
21232                        		.dbg	line,	"include\init.c", 677; vdc_map_draw_w = 64;//32
21233                        		__st.umiq	64, _vdc_map_draw_w
         02:DF63  A9 40      			lda.l	#64
         02:DF65  8D D0 26   			sta	_vdc_map_draw_w
21234                        	
21235                        		.dbg	line,	"include\init.c", 678; vdc_map_draw_h = 32;//28
21236                        		__st.umiq	32, _vdc_map_draw_h
         02:DF68  A9 20      			lda.l	#32
         02:DF6A  8D D1 26   			sta	_vdc_map_draw_h
21237                        	
21238                        		.dbg	line,	"include\init.c", 680; draw_map();
21239                        		__call		_draw_map
         02:DF6D  20 C3 FE   			call	_draw_map
21240                        	
21241                        		.dbg	line,	"include\init.c", 683; //**************************************************************************************//
21242                        	
21243                        		.dbg	line,	"include\init.c", 684; //                                                                                      //
21244                        	
21245                        		.dbg	line,	"include\init.c", 685; //                                  SETUP SCROLL_SPLIT                                  //
21246                        	
21247                        		.dbg	line,	"include\init.c", 686; //                                                                                      //
21248                        	
21249                        		.dbg	line,	"include\init.c", 687; //**************************************************************************************//
21250                        	
21251                        		.dbg	line,	"include\init.c", 689; //--------------------------------------------------------------------------------------//
21252                        	
21253                        		.dbg	line,	"include\init.c", 690; //                                        VDC 1                                         //
21254                        	
21255                        		.dbg	line,	"include\init.c", 691; //--------------------------------------------------------------------------------------//
21256                        	
21257                        		.dbg	line,	"include\init.c", 693; scroll_split(0,   0, 0,  0, BKG_ON | SPR_ON);
21258                        		__st.umiq	0, _al
         02:DF70  64 F8      			stz	_al
21259                        		__st.umiq	0, _ah
         02:DF72  64 F9      			stz	_ah
21260                        		__st.wmiq	0, _bx
         02:DF74  64 FA      			stz.l	_bx
         02:DF76  64 FB      			stz.h	_bx
21261                        		__st.wmiq	0, _cx
         02:DF78  64 FC      			stz.l	_cx
         02:DF7A  64 FD      			stz.h	_cx
21262                        		__st.umiq	192, _dl
         02:DF7C  A9 C0      			lda.l	#192
         02:DF7E  85 FE      			sta	_dl
21263                        		__call		_scroll_split.5
         02:DF80  20 81 FF   			call	_scroll_split.5
21264                        	
21265                        		.dbg	line,	"include\init.c", 694; scroll_split(1,  48, 0, 48, BKG_ON | SPR_ON);
21266                        		__st.umiq	1, _al
         02:DF83  A9 01      			lda.l	#1
         02:DF85  85 F8      			sta	_al
21267                        		__st.umiq	48, _ah
         02:DF87  A9 30      			lda.l	#48
         02:DF89  85 F9      			sta	_ah
21268                        		__st.wmiq	0, _bx
         02:DF8B  64 FA      			stz.l	_bx
         02:DF8D  64 FB      			stz.h	_bx
21269                        		__st.wmiq	48, _cx
         02:DF8F  A9 30      			lda.l	#48
         02:DF91  85 FC      			sta.l	_cx
         02:DF93  64 FD      			stz.h	_cx
21270                        		__st.umiq	192, _dl
         02:DF95  A9 C0      			lda.l	#192
         02:DF97  85 FE      			sta	_dl
21271                        		__call		_scroll_split.5
         02:DF99  20 81 FF   			call	_scroll_split.5
21272                        	
21273                        		.dbg	line,	"include\init.c", 695; scroll_split(2,  80, 0, 80, BKG_ON | SPR_ON);
21274                        		__st.umiq	2, _al
         02:DF9C  A9 02      			lda.l	#2
         02:DF9E  85 F8      			sta	_al
21275                        		__st.umiq	80, _ah
         02:DFA0  A9 50      			lda.l	#80
         02:DFA2  85 F9      			sta	_ah
21276                        		__st.wmiq	0, _bx
         02:DFA4  64 FA      			stz.l	_bx
         02:DFA6  64 FB      			stz.h	_bx
21277                        		__st.wmiq	80, _cx
         02:DFA8  A9 50      			lda.l	#80
         02:DFAA  85 FC      			sta.l	_cx
         02:DFAC  64 FD      			stz.h	_cx
21278                        		__st.umiq	192, _dl
         02:DFAE  A9 C0      			lda.l	#192
         02:DFB0  85 FE      			sta	_dl
21279                        		__call		_scroll_split.5
         02:DFB2  20 81 FF   			call	_scroll_split.5
21280                        	
21281                        		.dbg	line,	"include\init.c", 698; display_LIFE();
21282                        		__call		_display_LIFE
         02:DFB5  20 B9 FE   			call	_display_LIFE
21283                        	
21284                        		.dbg	line,	"include\init.c", 699; display_SCORE();
21285                        		__call		_display_SCORE
         02:DFB8  20 AF FE   			call	_display_SCORE
21286                        	
21287                        		.dbg	line,	"include\init.c", 700; display_TIME_LEVEL();
21288                        		__call		_display_TIME_LEVEL
         02:DFBB  20 09 FF   			call	_display_TIME_LEVEL
21289                        	
21290                        		.dbg	line,	"include\init.c", 701; display_KEY();
21291                        		__call		_display_KEY
         02:DFBE  20 45 FF   			call	_display_KEY
21292                        	
21293                        		.dbg	line,	"include\init.c", 702; display_POTION();
21294                        		__call		_display_POTION
         02:DFC1  20 EB FE   			call	_display_POTION
21295                        	
21296                        		.dbg	line,	"include\init.c", 703; display_ZENNY();
21297                        		__call		_display_ZENNY
         02:DFC4  20 3B FF   			call	_display_ZENNY
21298                        	
21299                        		.dbg	line,	"include\init.c", 704; }
21300    02:DFC7             	.LL1010:
21301                        		__return	0
         02:DFC7  4C EF FF   			jmp	leave_proc
21302                        		.dbg	clear
21303                        		.endp
21304                        		.pceas
21305                        	
21306                        		.dbg	line,	"include\init.c", 707; void init_LEVEL()
21307                        		.dbg	line,	"include\init.c", 708; {
21308                        	;***********************
21309                        	;***********************
21310                        	
21311                        		.hucc
21312    01:DA33             		.proc		_init_LEVEL
21313                        		__enter		_init_LEVEL
21314                        	
21315                        		.dbg	line,	"include\init.c", 709; if(level_id == 1)
21316                        		__ld.umq	_level_id
         01:DA33  AD 16 23   			lda	_level_id
21317                        		__equ_b.uiq	1
         01:DA36  C9 01      			cmp	#1
         01:DA38  F0 01      			beq	!+
         01:DA3A  18         			clc
         01:DA3B             	!:
21318                        		__bfalse	.LL1028
         01:DA3B  B0 03 4C D3			bcc	.LL1028
         01:DA3F  DF          
21319                        	
21320                        		.dbg	line,	"include\init.c", 710; {
21321                        	
21322                        		.dbg	line,	"include\init.c", 711; char i;
21323                        	
21324                        		.dbg	line,	"include\init.c", 712; 
21325                        	
21326                        		.dbg	line,	"include\init.c", 713; // VSYNC //
21327                        	
21328                        		.dbg	line,	"include\init.c", 714; vsync();
21329                        		__call		_vsync
         01:DA40  20 1D E3   			call	_vsync
21330                        	
21331                        		.dbg	line,	"include\init.c", 717; // DISABLE DISPLAY //
21332                        	
21333                        		.dbg	line,	"include\init.c", 718; disp_off();
21334                        		__call		_disp_off
         01:DA43  20 3D E4   			call	_disp_off
21335                        	
21336                        		.dbg	line,	"include\init.c", 721; // SET VDC 1 SCREEN SIZE (IN TILES) - 64x32 = 512x256 PIXELS
21337                        	
21338                        		.dbg	line,	"include\init.c", 722; set_screen_size(SCR_SIZE_64x32);
21339                        		__st.umiq	1, _al
         01:DA46  A9 01      			lda.l	#1
         01:DA48  85 F8      			sta	_al
21340                        		__call		_set_screen_size.1
         01:DA4A  20 E1 FE   			call	_set_screen_size.1
21341                        	
21342                        		.dbg	line,	"include\init.c", 725; // SET VDC 2 SCREEN SIZE (IN TILES) - 64x32 = 512x256 PIXELS
21343                        	
21344                        		.dbg	line,	"include\init.c", 726; sgx_set_screen_size(SCR_SIZE_64x32);
21345                        		__st.umiq	1, _al
         01:DA4D  A9 01      			lda.l	#1
         01:DA4F  85 F8      			sta	_al
21346                        		__call		_sgx_set_screen_size.1
         01:DA51  20 D7 FE   			call	_sgx_set_screen_size.1
21347                        	
21348                        		.dbg	line,	"include\init.c", 729; // INIT SPRITE ATTRIBUTE TABLE //
21349                        	
21350                        		.dbg	line,	"include\init.c", 730; //init_satb();
21351                        	
21352                        		.dbg	line,	"include\init.c", 735; //**************************************************************************************//
21353                        	
21354                        		.dbg	line,	"include\init.c", 736; //                                                                                      //
21355                        	
21356                        		.dbg	line,	"include\init.c", 737; //                                      VARIABLES                                       //
21357                        	
21358                        		.dbg	line,	"include\init.c", 738; //                                                                                      //
21359                        	
21360                        		.dbg	line,	"include\init.c", 739; //**************************************************************************************//
21361                        	
21362                        		.dbg	line,	"include\init.c", 741; time_counter = 0;
21363                        		__st.umiq	0, _time_counter
         01:DA54  9C 35 23   			stz	_time_counter
21364                        	
21365                        		.dbg	line,	"include\init.c", 742; 
21366                        	
21367                        		.dbg	line,	"include\init.c", 743; if(respawn == RESPAWN_SHOP)
21368                        		__ld.umq	_respawn
         01:DA57  AD 18 23   			lda	_respawn
21369                        		__equ_b.uiq	2
         01:DA5A  C9 02      			cmp	#2
         01:DA5C  F0 01      			beq	!+
         01:DA5E  18         			clc
         01:DA5F             	!:
21370                        		__bfalse	.LL1029
         01:DA5F  90 10      			bcc	.LL1029
21371                        	
21372                        		.dbg	line,	"include\init.c", 744; {
21373                        	
21374                        		.dbg	line,	"include\init.c", 745; minutes = minutes_backup;
21375                        		__ld.um		_minutes_backup
         01:DA61  AD 36 23   			lda	_minutes_backup
         01:DA64  C2         			cly
21376                        		__st.umq	_minutes
         01:DA65  8D 33 23   			sta	_minutes
21377                        	
21378                        		.dbg	line,	"include\init.c", 746; seconds = seconds_backup;
21379                        		__ld.um		_seconds_backup
         01:DA68  AD 37 23   			lda	_seconds_backup
         01:DA6B  C2         			cly
21380                        		__st.umq	_seconds
         01:DA6C  8D 34 23   			sta	_seconds
21381                        	
21382                        		.dbg	line,	"include\init.c", 747; }
21383                        	
21384                        		.dbg	line,	"include\init.c", 749; else
21385                        		__bra		.LL1030
         01:DA6F  80 0A      			bra	.LL1030
21386    01:DA71             	.LL1029:
21387                        	
21388                        		.dbg	line,	"include\init.c", 750; {
21389                        	
21390                        		.dbg	line,	"include\init.c", 751; minutes = 1;
21391                        		__st.umiq	1, _minutes
         01:DA71  A9 01      			lda.l	#1
         01:DA73  8D 33 23   			sta	_minutes
21392                        	
21393                        		.dbg	line,	"include\init.c", 752; seconds = 59;
21394                        		__st.umiq	59, _seconds
         01:DA76  A9 3B      			lda.l	#59
         01:DA78  8D 34 23   			sta	_seconds
21395                        	
21396                        		.dbg	line,	"include\init.c", 753; }
21397    01:DA7B             	.LL1030:
21398                        	
21399                        		.dbg	line,	"include\init.c", 755; global_counter			= 0;
21400                        		__st.wmiq	0, _global_counter
         01:DA7B  9C 5B 26   			stz.l	_global_counter
         01:DA7E  9C 5C 26   			stz.h	_global_counter
21401                        	
21402                        		.dbg	line,	"include\init.c", 756; camera_max_y_position	= 768;
21403                        		__st.wmiq	768, _camera_max_y_position
         01:DA81  9C 05 25   			stz.l	_camera_max_y_position
         01:DA84  A9 03      			lda.h	#768
         01:DA86  8D 06 25   			sta.h	_camera_max_y_position
21404                        	
21405                        		.dbg	line,	"include\init.c", 757; jump_max_index			= 34;
21406                        		__st.umiq	34, _jump_max_index
         01:DA89  A9 22      			lda.l	#34
         01:DA8B  8D 24 23   			sta	_jump_max_index
21407                        	
21408                        		.dbg	line,	"include\init.c", 758; score					= 0;
21409                        		__st.wmiq	0, _score
         01:DA8E  9C 63 26   			stz.l	_score
         01:DA91  9C 64 26   			stz.h	_score
21410                        	
21411                        		.dbg	line,	"include\init.c", 759; level_object_number		= OBJECT_NUMBER_LV1;
21412                        		__st.umiq	23, _level_object_number
         01:DA94  A9 17      			lda.l	#23
         01:DA96  8D 39 23   			sta	_level_object_number
21413                        	
21414                        		.dbg	line,	"include\init.c", 760; level_chest_number		= CHEST_NUMBER_LV1;
21415                        		__st.umiq	2, _level_chest_number
         01:DA99  A9 02      			lda.l	#2
         01:DA9B  8D C1 23   			sta	_level_chest_number
21416                        	
21417                        		.dbg	line,	"include\init.c", 761; level_npc_number		= NPC_NUMBER_LV1;
21418                        		__st.umiq	2, _level_npc_number
         01:DA9E  A9 02      			lda.l	#2
         01:DAA0  8D D4 23   			sta	_level_npc_number
21419                        	
21420                        		.dbg	line,	"include\init.c", 762; object_start_index		= OBJECT_START_INDEX_LV1;
21421                        		__st.umiq	0, _object_start_index
         01:DAA3  9C 38 23   			stz	_object_start_index
21422                        	
21423                        		.dbg	line,	"include\init.c", 763; chest_start_index		= CHEST_START_INDEX_LV1;
21424                        		__st.umiq	23, _chest_start_index
         01:DAA6  A9 17      			lda.l	#23
         01:DAA8  8D C0 23   			sta	_chest_start_index
21425                        	
21426                        		.dbg	line,	"include\init.c", 764; npc_start_index			= NPC_START_INDEX_LV1;
21427                        		__st.umiq	25, _npc_start_index
         01:DAAB  A9 19      			lda.l	#25
         01:DAAD  8D D3 23   			sta	_npc_start_index
21428                        	
21429                        		.dbg	line,	"include\init.c", 765; jump_ladder				= FALSE;
21430                        		__st.umiq	0, _jump_ladder
         01:DAB0  9C 23 23   			stz	_jump_ladder
21431                        	
21432                        		.dbg	line,	"include\init.c", 767; //
21433                        	
21434                        		.dbg	line,	"include\init.c", 768; ptr_REWARD_TYPE     	= TABLE_REWARD_TYPE_LV1;
21435                        		__ld.wi		_TABLE_REWARD_TYPE_LV1
         01:DAB3  A9 38      			lda.l	#_TABLE_REWARD_TYPE_LV1
         01:DAB5  A0 62      			ldy.h	#_TABLE_REWARD_TYPE_LV1
21436                        		__st.wmq	_ptr_REWARD_TYPE
         01:DAB7  8D 9A 26   			sta.l	_ptr_REWARD_TYPE
         01:DABA  8C 9B 26   			sty.h	_ptr_REWARD_TYPE
21437                        	
21438                        		.dbg	line,	"include\init.c", 769; ptr_REWARD_VRAM_ADR 	= TABLE_REWARD_VRAM_ADR_LV1;
21439                        		__ld.wi		_TABLE_REWARD_VRAM_ADR_LV1
         01:DABD  A9 4F      			lda.l	#_TABLE_REWARD_VRAM_ADR_LV1
         01:DABF  A0 62      			ldy.h	#_TABLE_REWARD_VRAM_ADR_LV1
21440                        		__st.wmq	_ptr_REWARD_VRAM_ADR
         01:DAC1  8D 9C 26   			sta.l	_ptr_REWARD_VRAM_ADR
         01:DAC4  8C 9D 26   			sty.h	_ptr_REWARD_VRAM_ADR
21441                        	
21442                        		.dbg	line,	"include\init.c", 773; //**************************************************************************************//
21443                        	
21444                        		.dbg	line,	"include\init.c", 774; //                                                                                      //
21445                        	
21446                        		.dbg	line,	"include\init.c", 775; //                                        VDC 2                                         //
21447                        	
21448                        		.dbg	line,	"include\init.c", 776; //                                                                                      //
21449                        	
21450                        		.dbg	line,	"include\init.c", 777; //**************************************************************************************//
21451                        	
21452                        		.dbg	line,	"include\init.c", 779; //--------------------------------------------------------------------------------------//
21453                        	
21454                        		.dbg	line,	"include\init.c", 780; //                                    LOAD TILESET                                      //
21455                        	
21456                        		.dbg	line,	"include\init.c", 781; //--------------------------------------------------------------------------------------//
21457                        	
21458                        		.dbg	line,	"include\init.c", 783; sgx_load_vram( 0x1000, tileset_LV1_BG_B, SIZEOF(tileset_LV1_BG_B) >> 1 );
21459                        		__st.wmiq	4096, _di
         01:DAC7  64 F0      			stz.l	_di
         01:DAC9  A9 10      			lda.h	#4096
         01:DACB  85 F1      			sta.h	_di
21460                        		__farptr	_tileset_LV1_BG_B, _bp_bank, _bp
         01:DACD  A9 60      			lda.l	#$6000 + ($1FFF & (_tileset_LV1_BG_B))
         01:DACF  85 EC      			sta.l	_bp
         01:DAD1  A9 76      			lda.h	#$6000 + ($1FFF & (_tileset_LV1_BG_B))
         01:DAD3  85 ED      			sta.h	_bp
         01:DAD5  A9 07      			lda	#bank(_tileset_LV1_BG_B)
         01:DAD7  85 02      			sta	_bp_bank
21461                        		__ld.wi		___sizeof__tileset_LV1_BG_B
         01:DAD9  A9 E0      			lda.l	#___sizeof__tileset_LV1_BG_B
         01:DADB  A0 72      			ldy.h	#___sizeof__tileset_LV1_BG_B
21462                        		__lsr.wi	1
         01:DADD  42         			say
         01:DADE  4A         			lsr	a
         01:DADF  42         			say
         01:DAE0  6A         			ror	a
21463                        		__st.wmq	_ax
         01:DAE1  85 F8      			sta.l	_ax
         01:DAE3  84 F9      			sty.h	_ax
21464                        		 _sgx_load_vram.3
         01:DAE5  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         01:DAE7  20 F5 FE   			call	load_vram_x
21465                        	
21466                        		.dbg	line,	"include\init.c", 786; //--------------------------------------------------------------------------------------//
21467                        	
21468                        		.dbg	line,	"include\init.c", 787; //                               LOAD WALL & DOOR TILES                                 //
21469                        	
21470                        		.dbg	line,	"include\init.c", 788; //--------------------------------------------------------------------------------------//
21471                        	
21472                        		.dbg	line,	"include\init.c", 790; sgx_load_vram( LV1_WALL_VRAM_ADR, tileset_LV1_WALL, SIZEOF(tileset_LV1_WALL) >> 1 );
21473                        		__st.wmiq	4096, _di
         01:DAEA  64 F0      			stz.l	_di
         01:DAEC  A9 10      			lda.h	#4096
         01:DAEE  85 F1      			sta.h	_di
21474                        		__farptr	_tileset_LV1_WALL, _bp_bank, _bp
         01:DAF0  A9 E0      			lda.l	#$6000 + ($1FFF & (_tileset_LV1_WALL))
         01:DAF2  85 EC      			sta.l	_bp
         01:DAF4  A9 68      			lda.h	#$6000 + ($1FFF & (_tileset_LV1_WALL))
         01:DAF6  85 ED      			sta.h	_bp
         01:DAF8  A9 07      			lda	#bank(_tileset_LV1_WALL)
         01:DAFA  85 02      			sta	_bp_bank
21475                        		__ld.wi		___sizeof__tileset_LV1_WALL
         01:DAFC  A9 00      			lda.l	#___sizeof__tileset_LV1_WALL
         01:DAFE  A0 02      			ldy.h	#___sizeof__tileset_LV1_WALL
21476                        		__lsr.wi	1
         01:DB00  42         			say
         01:DB01  4A         			lsr	a
         01:DB02  42         			say
         01:DB03  6A         			ror	a
21477                        		__st.wmq	_ax
         01:DB04  85 F8      			sta.l	_ax
         01:DB06  84 F9      			sty.h	_ax
21478                        		 _sgx_load_vram.3
         01:DB08  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         01:DB0A  20 F5 FE   			call	load_vram_x
21479                        	
21480                        		.dbg	line,	"include\init.c", 791; sgx_load_vram( LV1_DOOR_VRAM_ADR, tileset_LV1_DOOR_OPEN, SIZEOF(tileset_LV1_DOOR_OPEN) >> 1 );
21481                        		__st.wmiq	4352, _di
         01:DB0D  64 F0      			stz.l	_di
         01:DB0F  A9 11      			lda.h	#4352
         01:DB11  85 F1      			sta.h	_di
21482                        		__farptr	_tileset_LV1_DOOR_OPEN, _bp_bank, _bp
         01:DB13  A9 E0      			lda.l	#$6000 + ($1FFF & (_tileset_LV1_DOOR_OPEN))
         01:DB15  85 EC      			sta.l	_bp
         01:DB17  A9 6A      			lda.h	#$6000 + ($1FFF & (_tileset_LV1_DOOR_OPEN))
         01:DB19  85 ED      			sta.h	_bp
         01:DB1B  A9 07      			lda	#bank(_tileset_LV1_DOOR_OPEN)
         01:DB1D  85 02      			sta	_bp_bank
21483                        		__ld.wi		___sizeof__tileset_LV1_DOOR_OPEN
         01:DB1F  A9 00      			lda.l	#___sizeof__tileset_LV1_DOOR_OPEN
         01:DB21  A0 03      			ldy.h	#___sizeof__tileset_LV1_DOOR_OPEN
21484                        		__lsr.wi	1
         01:DB23  42         			say
         01:DB24  4A         			lsr	a
         01:DB25  42         			say
         01:DB26  6A         			ror	a
21485                        		__st.wmq	_ax
         01:DB27  85 F8      			sta.l	_ax
         01:DB29  84 F9      			sty.h	_ax
21486                        		 _sgx_load_vram.3
         01:DB2B  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         01:DB2D  20 F5 FE   			call	load_vram_x
21487                        	
21488                        		.dbg	line,	"include\init.c", 794; //--------------------------------------------------------------------------------------//
21489                        	
21490                        		.dbg	line,	"include\init.c", 795; //                                     SET MULTIMAP                                     //
21491                        	
21492                        		.dbg	line,	"include\init.c", 796; //--------------------------------------------------------------------------------------//
21493                        	
21494                        		.dbg	line,	"include\init.c", 798; // multimap is 5 screens wide //
21495                        	
21496                        		.dbg	line,	"include\init.c", 799; sgx_set_multimap( multimap_LV1_BG_B , 5 );
21497                        		__farptr	_multimap_LV1_BG_B, sgx_scr_bank, sgx_scr_addr
         01:DB30  A9 00      			lda.l	#$6000 + ($1FFF & (_multimap_LV1_BG_B))
         01:DB32  8D 22 2C   			sta.l	sgx_scr_addr
         01:DB35  A9 79      			lda.h	#$6000 + ($1FFF & (_multimap_LV1_BG_B))
         01:DB37  8D 23 2C   			sta.h	sgx_scr_addr
         01:DB3A  A9 0D      			lda	#bank(_multimap_LV1_BG_B)
         01:DB3C  8D 24 2C   			sta	sgx_scr_bank
21498                        		__st.umiq	5, sgx_map_scrn_w
         01:DB3F  A9 05      			lda.l	#5
         01:DB41  8D E3 26   			sta	sgx_map_scrn_w
21499                        		 _sgx_set_multimap.2
         01:DB44  AD DB 26   			lda	sgx_bat_width
         01:DB47  4A         			lsr	a
         01:DB48  8D E2 26   			sta	sgx_map_line_w
21500                        	
21501                        		.dbg	line,	"include\init.c", 802; //--------------------------------------------------------------------------------------//
21502                        	
21503                        		.dbg	line,	"include\init.c", 803; //                                    DRAW TILEMAP                                      //
21504                        	
21505                        		.dbg	line,	"include\init.c", 804; //--------------------------------------------------------------------------------------//
21506                        	
21507                        		.dbg	line,	"include\init.c", 806; // The blkmap is drawn using global variables for the top-left coordinate
21508                        	
21509                        		.dbg	line,	"include\init.c", 807; // in pixels, and the draw width and height in terms of 8x8 characters.
21510                        	
21511                        		.dbg	line,	"include\init.c", 809; if(respawn == FALSE)
21512                        		__not.um	_respawn
         01:DB4B  AD 18 23   			lda	_respawn
         01:DB4E  18         			clc
         01:DB4F  D0 01      			bne	!+
         01:DB51  38         			sec
         01:DB52             	!:
21513                        		__bfalse	.LL1031
         01:DB52  90 12      			bcc	.LL1031
21514                        	
21515                        		.dbg	line,	"include\init.c", 810; {
21516                        	
21517                        		.dbg	line,	"include\init.c", 811; sgx_map_pxl_x = 96;
21518                        		__st.wmiq	96, _sgx_map_pxl_x
         01:DB54  A9 60      			lda.l	#96
         01:DB56  8D E4 26   			sta.l	_sgx_map_pxl_x
         01:DB59  9C E5 26   			stz.h	_sgx_map_pxl_x
21519                        	
21520                        		.dbg	line,	"include\init.c", 812; sgx_map_pxl_y = 768;
21521                        		__st.wmiq	768, _sgx_map_pxl_y
         01:DB5C  9C E6 26   			stz.l	_sgx_map_pxl_y
         01:DB5F  A9 03      			lda.h	#768
         01:DB61  8D E7 26   			sta.h	_sgx_map_pxl_y
21522                        	
21523                        		.dbg	line,	"include\init.c", 813; }
21524                        	
21525                        		.dbg	line,	"include\init.c", 815; else if(respawn == RESPAWN_SHOP)
21526                        		__bra		.LL1032
         01:DB64  80 22      			bra	.LL1032
21527    01:DB66             	.LL1031:
21528                        		__ld.umq	_respawn
         01:DB66  AD 18 23   			lda	_respawn
21529                        		__equ_b.uiq	2
         01:DB69  C9 02      			cmp	#2
         01:DB6B  F0 01      			beq	!+
         01:DB6D  18         			clc
         01:DB6E             	!:
21530                        		__bfalse	.LL1033
         01:DB6E  90 18      			bcc	.LL1033
21531                        	
21532                        		.dbg	line,	"include\init.c", 816; {
21533                        	
21534                        		.dbg	line,	"include\init.c", 817; sgx_map_pxl_x = camera_pos_x_backup;
21535                        		__ld.wm		_camera_pos_x_backup
         01:DB70  AD 07 25   			lda.l	_camera_pos_x_backup
         01:DB73  AC 08 25   			ldy.h	_camera_pos_x_backup
21536                        		__st.wmq	_sgx_map_pxl_x
         01:DB76  8D E4 26   			sta.l	_sgx_map_pxl_x
         01:DB79  8C E5 26   			sty.h	_sgx_map_pxl_x
21537                        	
21538                        		.dbg	line,	"include\init.c", 818; sgx_map_pxl_y = camera_pos_y_backup;
21539                        		__ld.wm		_camera_pos_y_backup
         01:DB7C  AD 09 25   			lda.l	_camera_pos_y_backup
         01:DB7F  AC 0A 25   			ldy.h	_camera_pos_y_backup
21540                        		__st.wmq	_sgx_map_pxl_y
         01:DB82  8D E6 26   			sta.l	_sgx_map_pxl_y
         01:DB85  8C E7 26   			sty.h	_sgx_map_pxl_y
21541                        	
21542                        		.dbg	line,	"include\init.c", 819; }
21543                        	
21544                        		.dbg	line,	"include\init.c", 822; sgx_map_draw_w = 63;
21545    01:DB88             	.LL1033:
21546    01:DB88             	.LL1032:
21547                        		__st.umiq	63, _sgx_map_draw_w
         01:DB88  A9 3F      			lda.l	#63
         01:DB8A  8D E0 26   			sta	_sgx_map_draw_w
21548                        	
21549                        		.dbg	line,	"include\init.c", 823; sgx_map_draw_h = 29;
21550                        		__st.umiq	29, _sgx_map_draw_h
         01:DB8D  A9 1D      			lda.l	#29
         01:DB8F  8D E1 26   			sta	_sgx_map_draw_h
21551                        	
21552                        		.dbg	line,	"include\init.c", 825; sgx_draw_map();
21553                        		__call		_sgx_draw_map
         01:DB92  20 A5 FE   			call	_sgx_draw_map
21554                        	
21555                        		.dbg	line,	"include\init.c", 830; //**************************************************************************************//
21556                        	
21557                        		.dbg	line,	"include\init.c", 831; //                                                                                      //
21558                        	
21559                        		.dbg	line,	"include\init.c", 832; //                                         HUD                                          //
21560                        	
21561                        		.dbg	line,	"include\init.c", 833; //                                                                                      //
21562                        	
21563                        		.dbg	line,	"include\init.c", 834; //**************************************************************************************//
21564                        	
21565                        		.dbg	line,	"include\init.c", 836; init_HUD();
21566                        		__call		_init_HUD
         01:DB95  20 9B FE   			call	_init_HUD
21567                        	
21568                        		.dbg	line,	"include\init.c", 839; if(display_level_text == TRUE)
21569                        		__ld.umq	_display_level_text
         01:DB98  AD 17 23   			lda	_display_level_text
21570                        		__equ_b.uiq	1
         01:DB9B  C9 01      			cmp	#1
         01:DB9D  F0 01      			beq	!+
         01:DB9F  18         			clc
         01:DBA0             	!:
21571                        		__bfalse	.LL1034
         01:DBA0  90 67      			bcc	.LL1034
21572                        	
21573                        		.dbg	line,	"include\init.c", 840; {
21574                        	
21575                        		.dbg	line,	"include\init.c", 841; put_string("ROUND",13, 8);
21576                        		__ld.wi		__const1+36
         01:DBA2  A9 24      			lda.l	#__const1+36
         01:DBA4  A0 60      			ldy.h	#__const1+36
21577                        		__st.wmq	_bp
         01:DBA6  85 EC      			sta.l	_bp
         01:DBA8  84 ED      			sty.h	_bp
21578                        		__st.umiq	13, _dil
         01:DBAA  A9 0D      			lda.l	#13
         01:DBAC  85 F0      			sta	_dil
21579                        		__st.umiq	8, _dih
         01:DBAE  A9 08      			lda.l	#8
         01:DBB0  85 F1      			sta	_dih
21580                        		__call		_put_string.3
         01:DBB2  20 5F E6   			call	_put_string.3
21581                        	
21582                        		.dbg	line,	"include\init.c", 842; put_number(level_id,1,19,8);
21583                        		__ld.um		_level_id
         01:DBB5  AD 16 23   			lda	_level_id
         01:DBB8  C2         			cly
21584                        		__st.wmq	_bx
         01:DBB9  85 FA      			sta.l	_bx
         01:DBBB  84 FB      			sty.h	_bx
21585                        		__st.umiq	1, _cl
         01:DBBD  A9 01      			lda.l	#1
         01:DBBF  85 FC      			sta	_cl
21586                        		__st.umiq	19, _dil
         01:DBC1  A9 13      			lda.l	#19
         01:DBC3  85 F0      			sta	_dil
21587                        		__st.umiq	8, _dih
         01:DBC5  A9 08      			lda.l	#8
         01:DBC7  85 F1      			sta	_dih
21588                        		__call		_put_number.4
         01:DBC9  20 6D FF   			call	_put_number.4
21589                        	
21590                        		.dbg	line,	"include\init.c", 843; put_string("READY PLAYER 1",10,13);
21591                        		__ld.wi		__const1+42
         01:DBCC  A9 2A      			lda.l	#__const1+42
         01:DBCE  A0 60      			ldy.h	#__const1+42
21592                        		__st.wmq	_bp
         01:DBD0  85 EC      			sta.l	_bp
         01:DBD2  84 ED      			sty.h	_bp
21593                        		__st.umiq	10, _dil
         01:DBD4  A9 0A      			lda.l	#10
         01:DBD6  85 F0      			sta	_dil
21594                        		__st.umiq	13, _dih
         01:DBD8  A9 0D      			lda.l	#13
         01:DBDA  85 F1      			sta	_dih
21595                        		__call		_put_string.3
         01:DBDC  20 5F E6   			call	_put_string.3
21596                        	
21597                        		.dbg	line,	"include\init.c", 844; put_string("SAVE   LIVES",11,15);
21598                        		__ld.wi		__const1+57
         01:DBDF  A9 39      			lda.l	#__const1+57
         01:DBE1  A0 60      			ldy.h	#__const1+57
21599                        		__st.wmq	_bp
         01:DBE3  85 EC      			sta.l	_bp
         01:DBE5  84 ED      			sty.h	_bp
21600                        		__st.umiq	11, _dil
         01:DBE7  A9 0B      			lda.l	#11
         01:DBE9  85 F0      			sta	_dil
21601                        		__st.umiq	15, _dih
         01:DBEB  A9 0F      			lda.l	#15
         01:DBED  85 F1      			sta	_dih
21602                        		__call		_put_string.3
         01:DBEF  20 5F E6   			call	_put_string.3
21603                        	
21604                        		.dbg	line,	"include\init.c", 845; put_number(life_amount,1,16,15);
21605                        		__ld.um		_life_amount
         01:DBF2  AD 2F 23   			lda	_life_amount
         01:DBF5  C2         			cly
21606                        		__st.wmq	_bx
         01:DBF6  85 FA      			sta.l	_bx
         01:DBF8  84 FB      			sty.h	_bx
21607                        		__st.umiq	1, _cl
         01:DBFA  A9 01      			lda.l	#1
         01:DBFC  85 FC      			sta	_cl
21608                        		__st.umiq	16, _dil
         01:DBFE  A9 10      			lda.l	#16
         01:DC00  85 F0      			sta	_dil
21609                        		__st.umiq	15, _dih
         01:DC02  A9 0F      			lda.l	#15
         01:DC04  85 F1      			sta	_dih
21610                        		__call		_put_number.4
         01:DC06  20 6D FF   			call	_put_number.4
21611                        	
21612                        		.dbg	line,	"include\init.c", 846; }
21613                        	
21614                        		.dbg	line,	"include\init.c", 849; 
21615                        	
21616                        		.dbg	line,	"include\init.c", 852; //**************************************************************************************//
21617                        	
21618                        		.dbg	line,	"include\init.c", 853; //                                                                                      //
21619                        	
21620                        		.dbg	line,	"include\init.c", 854; //                                  SETUP SCROLL_SPLIT                                  //
21621                        	
21622                        		.dbg	line,	"include\init.c", 855; //                                                                                      //
21623                        	
21624                        		.dbg	line,	"include\init.c", 856; //**************************************************************************************//
21625                        	
21626                        		.dbg	line,	"include\init.c", 858; //--------------------------------------------------------------------------------------//
21627                        	
21628                        		.dbg	line,	"include\init.c", 859; //                                        VDC 2                                         //
21629                        	
21630                        		.dbg	line,	"include\init.c", 860; //--------------------------------------------------------------------------------------//
21631                        	
21632                        		.dbg	line,	"include\init.c", 862; sgx_scroll_map();
21633    01:DC09             	.LL1034:
21634                        		__call		_sgx_scroll_map
         01:DC09  20 63 FF   			call	_sgx_scroll_map
21635                        	
21636                        		.dbg	line,	"include\init.c", 864; sgx_scroll_split(0,   0, sgx_map_pxl_x & (BAT_SIZE_W - 1), sgx_map_pxl_y & (BAT_SIZE_H - 1), BKG_ON | SPR_ON);
21637                        		__st.umiq	0, _al
         01:DC0C  64 F8      			stz	_al
21638                        		__st.umiq	0, _ah
         01:DC0E  64 F9      			stz	_ah
21639                        		__ld.wm		_sgx_map_pxl_x
         01:DC10  AD E4 26   			lda.l	_sgx_map_pxl_x
         01:DC13  AC E5 26   			ldy.h	_sgx_map_pxl_x
21640                        		__and.wi	2047
         01:DC16  29 FF      			and.l	#2047
         01:DC18  42         			say
         01:DC19  29 07      			and.h	#2047
         01:DC1B  42         			say
21641                        		__st.wmq	_bx
         01:DC1C  85 FA      			sta.l	_bx
         01:DC1E  84 FB      			sty.h	_bx
21642                        		__ld.wm		_sgx_map_pxl_y
         01:DC20  AD E6 26   			lda.l	_sgx_map_pxl_y
         01:DC23  AC E7 26   			ldy.h	_sgx_map_pxl_y
21643                        		__and.wi	255
         01:DC26  29 FF      			and	#255
         01:DC28  C2         			cly
21644                        		__st.wmq	_cx
         01:DC29  85 FC      			sta.l	_cx
         01:DC2B  84 FD      			sty.h	_cx
21645                        		__st.umiq	192, _dl
         01:DC2D  A9 C0      			lda.l	#192
         01:DC2F  85 FE      			sta	_dl
21646                        		__call		_sgx_scroll_split.5
         01:DC31  20 59 FF   			call	_sgx_scroll_split.5
21647                        	
21648                        		.dbg	line,	"include\init.c", 869; //--------------------------------------------------------------------------------------//
21649                        	
21650                        		.dbg	line,	"include\init.c", 870; //                                   LOAD BG PALETTES                                   //
21651                        	
21652                        		.dbg	line,	"include\init.c", 871; //--------------------------------------------------------------------------------------//
21653                        	
21654                        		.dbg	line,	"include\init.c", 873; // LOAD ALL PALETTES AT BG PALETTE 0 //
21655                        	
21656                        		.dbg	line,	"include\init.c", 874; load_palette( 0, palette_LV1, 16 );
21657                        		__st.umiq	0, _al
         01:DC34  64 F8      			stz	_al
21658                        		__farptr	_palette_LV1, _bp_bank, _bp
         01:DC36  A9 A0      			lda.l	#$6000 + ($1FFF & (_palette_LV1))
         01:DC38  85 EC      			sta.l	_bp
         01:DC3A  A9 60      			lda.h	#$6000 + ($1FFF & (_palette_LV1))
         01:DC3C  85 ED      			sta.h	_bp
         01:DC3E  A9 10      			lda	#bank(_palette_LV1)
         01:DC40  85 02      			sta	_bp_bank
21659                        		__st.umiq	16, _ah
         01:DC42  A9 10      			lda.l	#16
         01:DC44  85 F9      			sta	_ah
21660                        		__call		_load_palette.3
         01:DC46  20 8B FF   			call	_load_palette.3
21661                        	
21662                        		.dbg	line,	"include\init.c", 879; //**************************************************************************************//
21663                        	
21664                        		.dbg	line,	"include\init.c", 880; //                                                                                      //
21665                        	
21666                        		.dbg	line,	"include\init.c", 881; //                                       SPRITES                                        //
21667                        	
21668                        		.dbg	line,	"include\init.c", 882; //                                                                                      //
21669                        	
21670                        		.dbg	line,	"include\init.c", 883; //**************************************************************************************//
21671                        	
21672                        		.dbg	line,	"include\init.c", 885; // HIDE DRAGON SPRITES FROM INTRO //
21673                        	
21674                        		.dbg	line,	"include\init.c", 886; for(i=0 ; i<8 ; i++)
21675                        		__st.umiq	0, __init_LEVEL_end - 1  /* i */
         01:DC49  9C 11 23   			stz	__init_LEVEL_end - 1
21676    01:DC4C             	.LL1035:
21677                        		__ld.umq	__init_LEVEL_end - 1  /* i */
         01:DC4C  AD 11 23   			lda	__init_LEVEL_end - 1
21678                        		__ult_b.uiq	8
         01:DC4F  C9 08      			cmp	#8		; Subtract integer from A.
         01:DC51  6A         			ror	a		; CC if A < integer.
         01:DC52  49 80      			eor	#$80
         01:DC54  2A         			rol	a
21679                        		__btrue		.LL1037
         01:DC55  B0 07      			bcs	.LL1037
21680                        		__bra		.LL1038
         01:DC57  80 10      			bra	.LL1038
21681    01:DC59             	.LL1036:
21682                        		__inc.umq	__init_LEVEL_end - 1  /* i */
         01:DC59  EE 11 23   			inc	__init_LEVEL_end - 1
21683                        		__bra		.LL1035
         01:DC5C  80 EE      			bra	.LL1035
21684    01:DC5E             	.LL1037:
21685                        	
21686                        		.dbg	line,	"include\init.c", 887; {
21687                        	
21688                        		.dbg	line,	"include\init.c", 888; sgx_spr_set(i);
21689                        		__ld.umq	__init_LEVEL_end - 1  /* i */
         01:DC5E  AD 11 23   			lda	__init_LEVEL_end - 1
21690                        		__call		_sgx_spr_set.1
         01:DC61  20 9E E8   			call	_sgx_spr_set.1
21691                        	
21692                        		.dbg	line,	"include\init.c", 889; sgx_spr_hide();
21693                        		__call		_sgx_spr_hide
         01:DC64  20 B9 E8   			call	_sgx_spr_hide
21694                        	
21695                        		.dbg	line,	"include\init.c", 890; }
21696                        		__bra		.LL1036
         01:DC67  80 F0      			bra	.LL1036
21697    01:DC69             	.LL1038:
21698                        	
21699                        		.dbg	line,	"include\init.c", 892; //--------------------------------------------------------------------------------------//
21700                        	
21701                        		.dbg	line,	"include\init.c", 893; //                                        PLAYER                                        //
21702                        	
21703                        		.dbg	line,	"include\init.c", 894; //--------------------------------------------------------------------------------------//
21704                        	
21705                        		.dbg	line,	"include\init.c", 896; // LOAD ALL PLAYER TILES //
21706                        	
21707                        		.dbg	line,	"include\init.c", 897; set_far_base(TABLE_PLAYER_TILES_BANK[player_naked],TABLE_PLAYER_TILES_ADR[player_naked]);
21708                        		__ldx.umq	_player_naked
         01:DC69  AE 21 23   			ldx	_player_naked
21709                        		__ld.uax	_TABLE_PLAYER_TILES_BANK
         01:DC6C  BD 89 62   			lda	_TABLE_PLAYER_TILES_BANK, x
         01:DC6F  C2         			cly
21710                        		__st.umq	_bp_bank
         01:DC70  85 02      			sta	_bp_bank
21711                        		__ld2x.umq	_player_naked
         01:DC72  AD 21 23   			lda	_player_naked
         01:DC75  0A         			asl	a
         01:DC76  AA         			tax
21712                        		__ld.wax	_TABLE_PLAYER_TILES_ADR
         01:DC77  BD 85 62   			lda.l	_TABLE_PLAYER_TILES_ADR, x
         01:DC7A  BC 86 62   			ldy.h	_TABLE_PLAYER_TILES_ADR, x
21713                        		__st.wmq	_bp
         01:DC7D  85 EC      			sta.l	_bp
         01:DC7F  84 ED      			sty.h	_bp
21714                        	
21715                        		.dbg	line,	"include\init.c", 898; far_load_vram(PLAYER_VRAM_ADR,TILES_400);
21716                        		__st.wmiq	6144, _di
         01:DC81  64 F0      			stz.l	_di
         01:DC83  A9 18      			lda.h	#6144
         01:DC85  85 F1      			sta.h	_di
21717                        		__st.wmiq	6400, _ax
         01:DC87  64 F8      			stz.l	_ax
         01:DC89  A9 19      			lda.h	#6400
         01:DC8B  85 F9      			sta.h	_ax
21718                        		 _far_load_vram.2
         01:DC8D  82         			clx				; Offset to PCE VDC.
         01:DC8E  20 F5 FE   			call	load_vram_x
21719                        	
21720                        		.dbg	line,	"include\init.c", 901; // SELECT PLAYER CORE SPRITE //
21721                        	
21722                        		.dbg	line,	"include\init.c", 902; spr_set(player_id); // PLAYER_START_INDEX
21723                        		__ld.umq	_player_id
         01:DC91  AD 19 23   			lda	_player_id
21724                        		__call		_spr_set.1
         01:DC94  20 F1 E7   			call	_spr_set.1
21725                        	
21726                        		.dbg	line,	"include\init.c", 905; player_pos_x = 112;
21727                        		__st.wmiq	112, _player_pos_x
         01:DC97  A9 70      			lda.l	#112
         01:DC99  8D 01 25   			sta.l	_player_pos_x
         01:DC9C  9C 02 25   			stz.h	_player_pos_x
21728                        	
21729                        		.dbg	line,	"include\init.c", 906; player_pos_y = PLAYER_BASE_Y_POS;
21730                        		__st.wmiq	128, _player_pos_y
         01:DC9F  A9 80      			lda.l	#128
         01:DCA1  8D 03 25   			sta.l	_player_pos_y
         01:DCA4  9C 04 25   			stz.h	_player_pos_y
21731                        	
21732                        		.dbg	line,	"include\init.c", 909; spr_x(player_pos_x);
21733                        		__ld.wm		_player_pos_x
         01:DCA7  AD 01 25   			lda.l	_player_pos_x
         01:DCAA  AC 02 25   			ldy.h	_player_pos_x
21734                        		__call		_spr_x.1
         01:DCAD  20 1E E8   			call	_spr_x.1
21735                        	
21736                        		.dbg	line,	"include\init.c", 910; spr_y(player_pos_y);
21737                        		__ld.wm		_player_pos_y
         01:DCB0  AD 03 25   			lda.l	_player_pos_y
         01:DCB3  AC 04 25   			ldy.h	_player_pos_y
21738                        		__call		_spr_y.1
         01:DCB6  20 2D E8   			call	_spr_y.1
21739                        	
21740                        		.dbg	line,	"include\init.c", 912; // SET TILES DATA FOR THE PLAYER //
21741                        	
21742                        		.dbg	line,	"include\init.c", 913; spr_pattern(PLAYER_VRAM_ADR);
21743                        		__ld.wi		6144
         01:DCB9  62         			cla
         01:DCBA  A0 18      			ldy.h	#6144
21744                        		__call		_spr_pattern.1
         01:DCBC  20 3A E8   			call	_spr_pattern.1
21745                        	
21746                        		.dbg	line,	"include\init.c", 915; // SET SPRITE FLIP //
21747                        	
21748                        		.dbg	line,	"include\init.c", 916; spr_ctrl(FLIP_MAS|SIZE_MAS, NO_FLIP|SZ_32x32);
21749                        		__st.umiq	185, _al
         01:DCBF  A9 B9      			lda.l	#185
         01:DCC1  85 F8      			sta	_al
21750                        		__ld.uiq	17
         01:DCC3  A9 11      			lda	#17
21751                        		__call		_spr_ctrl.2
         01:DCC5  20 50 E8   			call	_spr_ctrl.2
21752                        	
21753                        		.dbg	line,	"include\init.c", 918; 
21754                        	
21755                        		.dbg	line,	"include\init.c", 921; spr_pal(0);
21756                        		__ld.uiq	0
         01:DCC8  62         			cla
21757                        		__call		_spr_pal.1
         01:DCC9  20 61 E8   			call	_spr_pal.1
21758                        	
21759                        		.dbg	line,	"include\init.c", 922; spr_pri(TRUE);
21760                        		__ld.uiq	1
         01:DCCC  A9 01      			lda	#1
21761                        		__call		_spr_pri.1
         01:DCCE  20 70 E8   			call	_spr_pri.1
21762                        	
21763                        		.dbg	line,	"include\init.c", 925; //--------------------------------------------------------------------------------------//
21764                        	
21765                        		.dbg	line,	"include\init.c", 926; //                                        CHAIN                                         //
21766                        	
21767                        		.dbg	line,	"include\init.c", 927; //--------------------------------------------------------------------------------------//
21768                        	
21769                        		.dbg	line,	"include\init.c", 929; load_vram(CHAIN_VRAM_ADR, tiles_SPR_CHAIN , TILES_4);
21770                        		__st.wmiq	31744, _di
         01:DCD1  64 F0      			stz.l	_di
         01:DCD3  A9 7C      			lda.h	#31744
         01:DCD5  85 F1      			sta.h	_di
21771                        		__farptr	_tiles_SPR_CHAIN, _bp_bank, _bp
         01:DCD7  A9 C0      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_CHAIN))
         01:DCD9  85 EC      			sta.l	_bp
         01:DCDB  A9 71      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_CHAIN))
         01:DCDD  85 ED      			sta.h	_bp
         01:DCDF  A9 19      			lda	#bank(_tiles_SPR_CHAIN)
         01:DCE1  85 02      			sta	_bp_bank
21772                        		__st.wmiq	64, _ax
         01:DCE3  A9 40      			lda.l	#64
         01:DCE5  85 F8      			sta.l	_ax
         01:DCE7  64 F9      			stz.h	_ax
21773                        		 _load_vram.3
         01:DCE9  82         			clx				; Offset to PCE VDC.
         01:DCEA  20 F5 FE   			call	load_vram_x
21774                        	
21775                        		.dbg	line,	"include\init.c", 931; for(i=0 ; i<3 ; i++)
21776                        		__st.umiq	0, __init_LEVEL_end - 1  /* i */
         01:DCED  9C 11 23   			stz	__init_LEVEL_end - 1
21777    01:DCF0             	.LL1039:
21778                        		__ld.umq	__init_LEVEL_end - 1  /* i */
         01:DCF0  AD 11 23   			lda	__init_LEVEL_end - 1
21779                        		__ult_b.uiq	3
         01:DCF3  C9 03      			cmp	#3		; Subtract integer from A.
         01:DCF5  6A         			ror	a		; CC if A < integer.
         01:DCF6  49 80      			eor	#$80
         01:DCF8  2A         			rol	a
21780                        		__btrue		.LL1041
         01:DCF9  B0 07      			bcs	.LL1041
21781                        		__bra		.LL1042
         01:DCFB  80 2F      			bra	.LL1042
21782    01:DCFD             	.LL1040:
21783                        		__inc.umq	__init_LEVEL_end - 1  /* i */
         01:DCFD  EE 11 23   			inc	__init_LEVEL_end - 1
21784                        		__bra		.LL1039
         01:DD00  80 EE      			bra	.LL1039
21785    01:DD02             	.LL1041:
21786                        	
21787                        		.dbg	line,	"include\init.c", 932; {
21788                        	
21789                        		.dbg	line,	"include\init.c", 933; spr_set(chain_id+i);
21790                        		__ld.um		_chain_id
         01:DD02  AD 27 23   			lda	_chain_id
         01:DD05  C2         			cly
21791                        		__add.um	__init_LEVEL_end - 1  /* i */
         01:DD06  18         			clc
         01:DD07  6D 11 23   			adc	__init_LEVEL_end - 1
         01:DD0A  90 01      			bcc	!+
         01:DD0C  C8         			iny
         01:DD0D             	!:
21792                        		__call		_spr_set.1
         01:DD0D  20 F1 E7   			call	_spr_set.1
21793                        	
21794                        		.dbg	line,	"include\init.c", 934; spr_pattern(CHAIN_VRAM_ADR);
21795                        		__ld.wi		31744
         01:DD10  62         			cla
         01:DD11  A0 7C      			ldy.h	#31744
21796                        		__call		_spr_pattern.1
         01:DD13  20 3A E8   			call	_spr_pattern.1
21797                        	
21798                        		.dbg	line,	"include\init.c", 935; spr_ctrl(FLIP_MAS|SIZE_MAS, NO_FLIP|SZ_16x16);
21799                        		__st.umiq	185, _al
         01:DD16  A9 B9      			lda.l	#185
         01:DD18  85 F8      			sta	_al
21800                        		__ld.uiq	0
         01:DD1A  62         			cla
21801                        		__call		_spr_ctrl.2
         01:DD1B  20 50 E8   			call	_spr_ctrl.2
21802                        	
21803                        		.dbg	line,	"include\init.c", 936; spr_hide();
21804                        		__call		_spr_hide
         01:DD1E  20 0C E8   			call	_spr_hide
21805                        	
21806                        		.dbg	line,	"include\init.c", 938; spr_pal(0);
21807                        		__ld.uiq	0
         01:DD21  62         			cla
21808                        		__call		_spr_pal.1
         01:DD22  20 61 E8   			call	_spr_pal.1
21809                        	
21810                        		.dbg	line,	"include\init.c", 939; spr_pri(TRUE);
21811                        		__ld.uiq	1
         01:DD25  A9 01      			lda	#1
21812                        		__call		_spr_pri.1
         01:DD27  20 70 E8   			call	_spr_pri.1
21813                        	
21814                        		.dbg	line,	"include\init.c", 940; }
21815                        		__bra		.LL1040
         01:DD2A  80 D1      			bra	.LL1040
21816    01:DD2C             	.LL1042:
21817                        	
21818                        		.dbg	line,	"include\init.c", 941; 
21819                        	
21820                        		.dbg	line,	"include\init.c", 943; //--------------------------------------------------------------------------------------//
21821                        	
21822                        		.dbg	line,	"include\init.c", 944; //                                        WEAPON                                        //
21823                        	
21824                        		.dbg	line,	"include\init.c", 945; //--------------------------------------------------------------------------------------//
21825                        	
21826                        		.dbg	line,	"include\init.c", 947; if(weapon_level == 0)
21827                        		__not.um	_weapon_level
         01:DD2C  AD 2A 23   			lda	_weapon_level
         01:DD2F  18         			clc
         01:DD30  D0 01      			bne	!+
         01:DD32  38         			sec
         01:DD33             	!:
21828                        		__bfalse	.LL1043
         01:DD33  90 27      			bcc	.LL1043
21829                        	
21830                        		.dbg	line,	"include\init.c", 948; {
21831                        	
21832                        		.dbg	line,	"include\init.c", 949; load_vram(WEAPON_VRAM_ADR, tiles_SPR_WEAPON_0 , SIZEOF(tiles_SPR_WEAPON_0) >> 1);
21833                        		__st.wmiq	31808, _di
         01:DD35  A9 40      			lda.l	#31808
         01:DD37  85 F0      			sta.l	_di
         01:DD39  A9 7C      			lda.h	#31808
         01:DD3B  85 F1      			sta.h	_di
21834                        		__farptr	_tiles_SPR_WEAPON_0, _bp_bank, _bp
         01:DD3D  A9 40      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_WEAPON_0))
         01:DD3F  85 EC      			sta.l	_bp
         01:DD41  A9 72      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_WEAPON_0))
         01:DD43  85 ED      			sta.h	_bp
         01:DD45  A9 19      			lda	#bank(_tiles_SPR_WEAPON_0)
         01:DD47  85 02      			sta	_bp_bank
21835                        		__ld.wi		___sizeof__tiles_SPR_WEAPON_0
         01:DD49  A9 80      			lda.l	#___sizeof__tiles_SPR_WEAPON_0
         01:DD4B  A0 02      			ldy.h	#___sizeof__tiles_SPR_WEAPON_0
21836                        		__lsr.wi	1
         01:DD4D  42         			say
         01:DD4E  4A         			lsr	a
         01:DD4F  42         			say
         01:DD50  6A         			ror	a
21837                        		__st.wmq	_ax
         01:DD51  85 F8      			sta.l	_ax
         01:DD53  84 F9      			sty.h	_ax
21838                        		 _load_vram.3
         01:DD55  82         			clx				; Offset to PCE VDC.
         01:DD56  20 F5 FE   			call	load_vram_x
21839                        	
21840                        		.dbg	line,	"include\init.c", 950; }
21841                        	
21842                        		.dbg	line,	"include\init.c", 952; else if(weapon_level == 1)
21843                        		__bra		.LL1044
         01:DD59  4C 1B DE   			bra	.LL1044
21844    01:DD5C             	.LL1043:
21845                        		__ld.umq	_weapon_level
         01:DD5C  AD 2A 23   			lda	_weapon_level
21846                        		__equ_b.uiq	1
         01:DD5F  C9 01      			cmp	#1
         01:DD61  F0 01      			beq	!+
         01:DD63  18         			clc
         01:DD64             	!:
21847                        		__bfalse	.LL1045
         01:DD64  90 27      			bcc	.LL1045
21848                        	
21849                        		.dbg	line,	"include\init.c", 953; {
21850                        	
21851                        		.dbg	line,	"include\init.c", 954; load_vram(WEAPON_VRAM_ADR, tiles_SPR_WEAPON_1 , SIZEOF(tiles_SPR_WEAPON_1) >> 1);
21852                        		__st.wmiq	31808, _di
         01:DD66  A9 40      			lda.l	#31808
         01:DD68  85 F0      			sta.l	_di
         01:DD6A  A9 7C      			lda.h	#31808
         01:DD6C  85 F1      			sta.h	_di
21853                        		__farptr	_tiles_SPR_WEAPON_1, _bp_bank, _bp
         01:DD6E  A9 C0      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_WEAPON_1))
         01:DD70  85 EC      			sta.l	_bp
         01:DD72  A9 74      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_WEAPON_1))
         01:DD74  85 ED      			sta.h	_bp
         01:DD76  A9 19      			lda	#bank(_tiles_SPR_WEAPON_1)
         01:DD78  85 02      			sta	_bp_bank
21854                        		__ld.wi		___sizeof__tiles_SPR_WEAPON_1
         01:DD7A  A9 80      			lda.l	#___sizeof__tiles_SPR_WEAPON_1
         01:DD7C  A0 02      			ldy.h	#___sizeof__tiles_SPR_WEAPON_1
21855                        		__lsr.wi	1
         01:DD7E  42         			say
         01:DD7F  4A         			lsr	a
         01:DD80  42         			say
         01:DD81  6A         			ror	a
21856                        		__st.wmq	_ax
         01:DD82  85 F8      			sta.l	_ax
         01:DD84  84 F9      			sty.h	_ax
21857                        		 _load_vram.3
         01:DD86  82         			clx				; Offset to PCE VDC.
         01:DD87  20 F5 FE   			call	load_vram_x
21858                        	
21859                        		.dbg	line,	"include\init.c", 955; }
21860                        	
21861                        		.dbg	line,	"include\init.c", 957; else if(weapon_level == 2)
21862                        		__bra		.LL1046
         01:DD8A  4C 1B DE   			bra	.LL1046
21863    01:DD8D             	.LL1045:
21864                        		__ld.umq	_weapon_level
         01:DD8D  AD 2A 23   			lda	_weapon_level
21865                        		__equ_b.uiq	2
         01:DD90  C9 02      			cmp	#2
         01:DD92  F0 01      			beq	!+
         01:DD94  18         			clc
         01:DD95             	!:
21866                        		__bfalse	.LL1047
         01:DD95  90 26      			bcc	.LL1047
21867                        	
21868                        		.dbg	line,	"include\init.c", 958; {
21869                        	
21870                        		.dbg	line,	"include\init.c", 959; load_vram(WEAPON_VRAM_ADR, tiles_SPR_WEAPON_2 , SIZEOF(tiles_SPR_WEAPON_2) >> 1);
21871                        		__st.wmiq	31808, _di
         01:DD97  A9 40      			lda.l	#31808
         01:DD99  85 F0      			sta.l	_di
         01:DD9B  A9 7C      			lda.h	#31808
         01:DD9D  85 F1      			sta.h	_di
21872                        		__farptr	_tiles_SPR_WEAPON_2, _bp_bank, _bp
         01:DD9F  A9 40      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_WEAPON_2))
         01:DDA1  85 EC      			sta.l	_bp
         01:DDA3  A9 77      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_WEAPON_2))
         01:DDA5  85 ED      			sta.h	_bp
         01:DDA7  A9 19      			lda	#bank(_tiles_SPR_WEAPON_2)
         01:DDA9  85 02      			sta	_bp_bank
21873                        		__ld.wi		___sizeof__tiles_SPR_WEAPON_2
         01:DDAB  A9 80      			lda.l	#___sizeof__tiles_SPR_WEAPON_2
         01:DDAD  A0 02      			ldy.h	#___sizeof__tiles_SPR_WEAPON_2
21874                        		__lsr.wi	1
         01:DDAF  42         			say
         01:DDB0  4A         			lsr	a
         01:DDB1  42         			say
         01:DDB2  6A         			ror	a
21875                        		__st.wmq	_ax
         01:DDB3  85 F8      			sta.l	_ax
         01:DDB5  84 F9      			sty.h	_ax
21876                        		 _load_vram.3
         01:DDB7  82         			clx				; Offset to PCE VDC.
         01:DDB8  20 F5 FE   			call	load_vram_x
21877                        	
21878                        		.dbg	line,	"include\init.c", 960; }
21879                        	
21880                        		.dbg	line,	"include\init.c", 962; else if(weapon_level == 3)
21881                        		__bra		.LL1048
         01:DDBB  80 5E      			bra	.LL1048
21882    01:DDBD             	.LL1047:
21883                        		__ld.umq	_weapon_level
         01:DDBD  AD 2A 23   			lda	_weapon_level
21884                        		__equ_b.uiq	3
         01:DDC0  C9 03      			cmp	#3
         01:DDC2  F0 01      			beq	!+
         01:DDC4  18         			clc
         01:DDC5             	!:
21885                        		__bfalse	.LL1049
         01:DDC5  90 26      			bcc	.LL1049
21886                        	
21887                        		.dbg	line,	"include\init.c", 963; {
21888                        	
21889                        		.dbg	line,	"include\init.c", 964; load_vram(WEAPON_VRAM_ADR, tiles_SPR_WEAPON_3 , SIZEOF(tiles_SPR_WEAPON_3) >> 1);
21890                        		__st.wmiq	31808, _di
         01:DDC7  A9 40      			lda.l	#31808
         01:DDC9  85 F0      			sta.l	_di
         01:DDCB  A9 7C      			lda.h	#31808
         01:DDCD  85 F1      			sta.h	_di
21891                        		__farptr	_tiles_SPR_WEAPON_3, _bp_bank, _bp
         01:DDCF  A9 C0      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_WEAPON_3))
         01:DDD1  85 EC      			sta.l	_bp
         01:DDD3  A9 79      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_WEAPON_3))
         01:DDD5  85 ED      			sta.h	_bp
         01:DDD7  A9 19      			lda	#bank(_tiles_SPR_WEAPON_3)
         01:DDD9  85 02      			sta	_bp_bank
21892                        		__ld.wi		___sizeof__tiles_SPR_WEAPON_3
         01:DDDB  A9 80      			lda.l	#___sizeof__tiles_SPR_WEAPON_3
         01:DDDD  A0 02      			ldy.h	#___sizeof__tiles_SPR_WEAPON_3
21893                        		__lsr.wi	1
         01:DDDF  42         			say
         01:DDE0  4A         			lsr	a
         01:DDE1  42         			say
         01:DDE2  6A         			ror	a
21894                        		__st.wmq	_ax
         01:DDE3  85 F8      			sta.l	_ax
         01:DDE5  84 F9      			sty.h	_ax
21895                        		 _load_vram.3
         01:DDE7  82         			clx				; Offset to PCE VDC.
         01:DDE8  20 F5 FE   			call	load_vram_x
21896                        	
21897                        		.dbg	line,	"include\init.c", 965; }
21898                        	
21899                        		.dbg	line,	"include\init.c", 967; else if(weapon_level == 4)
21900                        		__bra		.LL1050
         01:DDEB  80 2E      			bra	.LL1050
21901    01:DDED             	.LL1049:
21902                        		__ld.umq	_weapon_level
         01:DDED  AD 2A 23   			lda	_weapon_level
21903                        		__equ_b.uiq	4
         01:DDF0  C9 04      			cmp	#4
         01:DDF2  F0 01      			beq	!+
         01:DDF4  18         			clc
         01:DDF5             	!:
21904                        		__bfalse	.LL1051
         01:DDF5  90 24      			bcc	.LL1051
21905                        	
21906                        		.dbg	line,	"include\init.c", 968; {
21907                        	
21908                        		.dbg	line,	"include\init.c", 969; load_vram(WEAPON_VRAM_ADR, tiles_SPR_WEAPON_4 , SIZEOF(tiles_SPR_WEAPON_4) >> 1);
21909                        		__st.wmiq	31808, _di
         01:DDF7  A9 40      			lda.l	#31808
         01:DDF9  85 F0      			sta.l	_di
         01:DDFB  A9 7C      			lda.h	#31808
         01:DDFD  85 F1      			sta.h	_di
21910                        		__farptr	_tiles_SPR_WEAPON_4, _bp_bank, _bp
         01:DDFF  A9 40      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_WEAPON_4))
         01:DE01  85 EC      			sta.l	_bp
         01:DE03  A9 7C      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_WEAPON_4))
         01:DE05  85 ED      			sta.h	_bp
         01:DE07  A9 19      			lda	#bank(_tiles_SPR_WEAPON_4)
         01:DE09  85 02      			sta	_bp_bank
21911                        		__ld.wi		___sizeof__tiles_SPR_WEAPON_4
         01:DE0B  A9 80      			lda.l	#___sizeof__tiles_SPR_WEAPON_4
         01:DE0D  A0 02      			ldy.h	#___sizeof__tiles_SPR_WEAPON_4
21912                        		__lsr.wi	1
         01:DE0F  42         			say
         01:DE10  4A         			lsr	a
         01:DE11  42         			say
         01:DE12  6A         			ror	a
21913                        		__st.wmq	_ax
         01:DE13  85 F8      			sta.l	_ax
         01:DE15  84 F9      			sty.h	_ax
21914                        		 _load_vram.3
         01:DE17  82         			clx				; Offset to PCE VDC.
         01:DE18  20 F5 FE   			call	load_vram_x
21915                        	
21916                        		.dbg	line,	"include\init.c", 970; }		
21917                        	
21918                        		.dbg	line,	"include\init.c", 972; 
21919                        	
21920                        		.dbg	line,	"include\init.c", 973; weapon_id = chain_id-1;
21921    01:DE1B             	.LL1051:
21922    01:DE1B             	.LL1050:
21923    01:DE1B             	.LL1048:
21924    01:DE1B             	.LL1046:
21925    01:DE1B             	.LL1044:
21926                        		__ld.um		_chain_id
         01:DE1B  AD 27 23   			lda	_chain_id
         01:DE1E  C2         			cly
21927                        		__sub.wi	1
         01:DE1F  38         			sec
         01:DE20  E9 01      			sbc.l	#1
         01:DE22  B0 01      			bcs	!+
         01:DE24  88         			dey
         01:DE25             	!:
21928                        		__st.umq	_weapon_id
         01:DE25  8D 28 23   			sta	_weapon_id
21929                        	
21930                        		.dbg	line,	"include\init.c", 974; spr_set(weapon_id);
21931                        		__ld.umq	_weapon_id
         01:DE28  AD 28 23   			lda	_weapon_id
21932                        		__call		_spr_set.1
         01:DE2B  20 F1 E7   			call	_spr_set.1
21933                        	
21934                        		.dbg	line,	"include\init.c", 975; spr_pattern(WEAPON_VRAM_ADR);
21935                        		__ld.wi		31808
         01:DE2E  A9 40      			lda.l	#31808
         01:DE30  A0 7C      			ldy.h	#31808
21936                        		__call		_spr_pattern.1
         01:DE32  20 3A E8   			call	_spr_pattern.1
21937                        	
21938                        		.dbg	line,	"include\init.c", 976; spr_ctrl(FLIP_MAS|SIZE_MAS, NO_FLIP|SZ_16x16);
21939                        		__st.umiq	185, _al
         01:DE35  A9 B9      			lda.l	#185
         01:DE37  85 F8      			sta	_al
21940                        		__ld.uiq	0
         01:DE39  62         			cla
21941                        		__call		_spr_ctrl.2
         01:DE3A  20 50 E8   			call	_spr_ctrl.2
21942                        	
21943                        		.dbg	line,	"include\init.c", 978; spr_x(player_pos_x+8);
21944                        		__ld.wm		_player_pos_x
         01:DE3D  AD 01 25   			lda.l	_player_pos_x
         01:DE40  AC 02 25   			ldy.h	_player_pos_x
21945                        		__add.wi	8
         01:DE43  18         			clc
         01:DE44  69 08      			adc.l	#8
         01:DE46  90 01      			bcc	!+
         01:DE48  C8         			iny
         01:DE49             	!:
21946                        		__call		_spr_x.1
         01:DE49  20 1E E8   			call	_spr_x.1
21947                        	
21948                        		.dbg	line,	"include\init.c", 979; spr_y(player_pos_y+16);
21949                        		__ld.wm		_player_pos_y
         01:DE4C  AD 03 25   			lda.l	_player_pos_y
         01:DE4F  AC 04 25   			ldy.h	_player_pos_y
21950                        		__add.wi	16
         01:DE52  18         			clc
         01:DE53  69 10      			adc.l	#16
         01:DE55  90 01      			bcc	!+
         01:DE57  C8         			iny
         01:DE58             	!:
21951                        		__call		_spr_y.1
         01:DE58  20 2D E8   			call	_spr_y.1
21952                        	
21953                        		.dbg	line,	"include\init.c", 980; spr_pri(TRUE);
21954                        		__ld.uiq	1
         01:DE5B  A9 01      			lda	#1
21955                        		__call		_spr_pri.1
         01:DE5D  20 70 E8   			call	_spr_pri.1
21956                        	
21957                        		.dbg	line,	"include\init.c", 982; // WEAPON 4 USES PAL2
21958                        	
21959                        		.dbg	line,	"include\init.c", 983; if(weapon_level == 4)
21960                        		__ld.umq	_weapon_level
         01:DE60  AD 2A 23   			lda	_weapon_level
21961                        		__equ_b.uiq	4
         01:DE63  C9 04      			cmp	#4
         01:DE65  F0 01      			beq	!+
         01:DE67  18         			clc
         01:DE68             	!:
21962                        		__bfalse	.LL1052
         01:DE68  90 07      			bcc	.LL1052
21963                        	
21964                        		.dbg	line,	"include\init.c", 984; {
21965                        	
21966                        		.dbg	line,	"include\init.c", 985; spr_pal(2);
21967                        		__ld.uiq	2
         01:DE6A  A9 02      			lda	#2
21968                        		__call		_spr_pal.1
         01:DE6C  20 61 E8   			call	_spr_pal.1
21969                        	
21970                        		.dbg	line,	"include\init.c", 986; }
21971                        	
21972                        		.dbg	line,	"include\init.c", 987; // ALL OTHERS USE PAL0
21973                        	
21974                        		.dbg	line,	"include\init.c", 988; else
21975                        		__bra		.LL1053
         01:DE6F  80 04      			bra	.LL1053
21976    01:DE71             	.LL1052:
21977                        	
21978                        		.dbg	line,	"include\init.c", 989; {
21979                        	
21980                        		.dbg	line,	"include\init.c", 990; spr_pal(0);
21981                        		__ld.uiq	0
         01:DE71  62         			cla
21982                        		__call		_spr_pal.1
         01:DE72  20 61 E8   			call	_spr_pal.1
21983                        	
21984                        		.dbg	line,	"include\init.c", 991; }
21985    01:DE75             	.LL1053:
21986                        	
21987                        		.dbg	line,	"include\init.c", 992; 
21988                        	
21989                        		.dbg	line,	"include\init.c", 993; 
21990                        	
21991                        		.dbg	line,	"include\init.c", 996; //--------------------------------------------------------------------------------------//
21992                        	
21993                        		.dbg	line,	"include\init.c", 997; //                                       OBJECTS                                        //
21994                        	
21995                        		.dbg	line,	"include\init.c", 998; //--------------------------------------------------------------------------------------//
21996                        	
21997                        		.dbg	line,	"include\init.c", 1000; load_OBJECT_TILES();
21998                        		__call		_load_OBJECT_TILES
         01:DE75  20 91 FE   			call	_load_OBJECT_TILES
21999                        	
22000                        		.dbg	line,	"include\init.c", 1001; init_OBJECT_LV1();
22001                        		__call		_init_OBJECT_LV1
         01:DE78  20 87 FE   			call	_init_OBJECT_LV1
22002                        	
22003                        		.dbg	line,	"include\init.c", 1002; scroll_object();
22004                        		__call		_scroll_object
         01:DE7B  20 7D FE   			call	_scroll_object
22005                        	
22006                        		.dbg	line,	"include\init.c", 1005; //--------------------------------------------------------------------------------------//
22007                        	
22008                        		.dbg	line,	"include\init.c", 1006; //                                        CHESTS                                        //
22009                        	
22010                        		.dbg	line,	"include\init.c", 1007; //--------------------------------------------------------------------------------------//
22011                        	
22012                        		.dbg	line,	"include\init.c", 1009; load_CHEST_TILES();
22013                        		__call		_load_CHEST_TILES
         01:DE7E  20 73 FE   			call	_load_CHEST_TILES
22014                        	
22015                        		.dbg	line,	"include\init.c", 1010; init_CHEST_LV1();
22016                        		__call		_init_CHEST_LV1
         01:DE81  20 69 FE   			call	_init_CHEST_LV1
22017                        	
22018                        		.dbg	line,	"include\init.c", 1011; scroll_chest();
22019                        		__call		_scroll_chest
         01:DE84  20 5F FE   			call	_scroll_chest
22020                        	
22021                        		.dbg	line,	"include\init.c", 1014; //--------------------------------------------------------------------------------------//
22022                        	
22023                        		.dbg	line,	"include\init.c", 1015; //                                         NPCS                                         //
22024                        	
22025                        		.dbg	line,	"include\init.c", 1016; //--------------------------------------------------------------------------------------//
22026                        	
22027                        		.dbg	line,	"include\init.c", 1018; load_NPC_TILES();
22028                        		__call		_load_NPC_TILES
         01:DE87  20 55 FE   			call	_load_NPC_TILES
22029                        	
22030                        		.dbg	line,	"include\init.c", 1019; init_NPC_LV1();
22031                        		__call		_init_NPC_LV1
         01:DE8A  20 4B FE   			call	_init_NPC_LV1
22032                        	
22033                        		.dbg	line,	"include\init.c", 1024; //--------------------------------------------------------------------------------------//
22034                        	
22035                        		.dbg	line,	"include\init.c", 1025; //                                       ENEMIES                                        //
22036                        	
22037                        		.dbg	line,	"include\init.c", 1026; //--------------------------------------------------------------------------------------//
22038                        	
22039                        		.dbg	line,	"include\init.c", 1028; load_vram(ORC_VRAM_ADR, tiles_SPR_ORC , SIZEOF(tiles_SPR_ORC) >> 1);
22040                        		__st.wmiq	12544, _di
         01:DE8D  64 F0      			stz.l	_di
         01:DE8F  A9 31      			lda.h	#12544
         01:DE91  85 F1      			sta.h	_di
22041                        		__farptr	_tiles_SPR_ORC, _bp_bank, _bp
         01:DE93  A9 40      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_ORC))
         01:DE95  85 EC      			sta.l	_bp
         01:DE97  A9 6C      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_ORC))
         01:DE99  85 ED      			sta.h	_bp
         01:DE9B  A9 1B      			lda	#bank(_tiles_SPR_ORC)
         01:DE9D  85 02      			sta	_bp_bank
22042                        		__ld.wi		___sizeof__tiles_SPR_ORC
         01:DE9F  A9 00      			lda.l	#___sizeof__tiles_SPR_ORC
         01:DEA1  A0 1D      			ldy.h	#___sizeof__tiles_SPR_ORC
22043                        		__lsr.wi	1
         01:DEA3  42         			say
         01:DEA4  4A         			lsr	a
         01:DEA5  42         			say
         01:DEA6  6A         			ror	a
22044                        		__st.wmq	_ax
         01:DEA7  85 F8      			sta.l	_ax
         01:DEA9  84 F9      			sty.h	_ax
22045                        		 _load_vram.3
         01:DEAB  82         			clx				; Offset to PCE VDC.
         01:DEAC  20 F5 FE   			call	load_vram_x
22046                        	
22047                        		.dbg	line,	"include\init.c", 1029; load_vram(SERPENT_VRAM_ADR, tiles_SPR_SERPENT , TILES_96);
22048                        		__st.wmiq	16256, _di
         01:DEAF  A9 80      			lda.l	#16256
         01:DEB1  85 F0      			sta.l	_di
         01:DEB3  A9 3F      			lda.h	#16256
         01:DEB5  85 F1      			sta.h	_di
22049                        		__farptr	_tiles_SPR_SERPENT, _bp_bank, _bp
         01:DEB7  A9 40      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_SERPENT))
         01:DEB9  85 EC      			sta.l	_bp
         01:DEBB  A9 69      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_SERPENT))
         01:DEBD  85 ED      			sta.h	_bp
         01:DEBF  A9 1C      			lda	#bank(_tiles_SPR_SERPENT)
         01:DEC1  85 02      			sta	_bp_bank
22050                        		__st.wmiq	1536, _ax
         01:DEC3  64 F8      			stz.l	_ax
         01:DEC5  A9 06      			lda.h	#1536
         01:DEC7  85 F9      			sta.h	_ax
22051                        		 _load_vram.3
         01:DEC9  82         			clx				; Offset to PCE VDC.
         01:DECA  20 F5 FE   			call	load_vram_x
22052                        	
22053                        		.dbg	line,	"include\init.c", 1030; load_vram(PLANT_VRAM_ADR, tiles_SPR_PLANT , TILES_160);
22054                        		__st.wmiq	17792, _di
         01:DECD  A9 80      			lda.l	#17792
         01:DECF  85 F0      			sta.l	_di
         01:DED1  A9 45      			lda.h	#17792
         01:DED3  85 F1      			sta.h	_di
22055                        		__farptr	_tiles_SPR_PLANT, _bp_bank, _bp
         01:DED5  A9 40      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_PLANT))
         01:DED7  85 EC      			sta.l	_bp
         01:DED9  A9 75      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_PLANT))
         01:DEDB  85 ED      			sta.h	_bp
         01:DEDD  A9 1C      			lda	#bank(_tiles_SPR_PLANT)
         01:DEDF  85 02      			sta	_bp_bank
22056                        		__st.wmiq	2560, _ax
         01:DEE1  64 F8      			stz.l	_ax
         01:DEE3  A9 0A      			lda.h	#2560
         01:DEE5  85 F9      			sta.h	_ax
22057                        		 _load_vram.3
         01:DEE7  82         			clx				; Offset to PCE VDC.
         01:DEE8  20 F5 FE   			call	load_vram_x
22058                        	
22059                        		.dbg	line,	"include\init.c", 1035; // UPDATE PCE SAT //
22060                        	
22061                        		.dbg	line,	"include\init.c", 1036; satb_update();
22062                        		__call		_satb_update
         01:DEEB  20 CD FE   			call	_satb_update
22063                        	
22064                        		.dbg	line,	"include\init.c", 1038; // UPDATE SGX SAT //
22065                        	
22066                        		.dbg	line,	"include\init.c", 1039; sgx_satb_update();
22067                        		__call		_sgx_satb_update
         01:DEEE  20 FF FE   			call	_sgx_satb_update
22068                        	
22069                        		.dbg	line,	"include\init.c", 1042; //--------------------------------------------------------------------------------------//
22070                        	
22071                        		.dbg	line,	"include\init.c", 1043; //                                LOAD SPRITES PALETTES                                 //
22072                        	
22073                        		.dbg	line,	"include\init.c", 1044; //--------------------------------------------------------------------------------------//
22074                        	
22075                        		.dbg	line,	"include\init.c", 1046; if(armor_level == 8)
22076                        		__ld.umq	_armor_level
         01:DEF1  AD 29 23   			lda	_armor_level
22077                        		__equ_b.uiq	8
         01:DEF4  C9 08      			cmp	#8
         01:DEF6  F0 01      			beq	!+
         01:DEF8  18         			clc
         01:DEF9             	!:
22078                        		__bfalse	.LL1054
         01:DEF9  90 19      			bcc	.LL1054
22079                        	
22080                        		.dbg	line,	"include\init.c", 1047; {
22081                        	
22082                        		.dbg	line,	"include\init.c", 1048; load_palette( 16, palette_PLAYER_8, 1 );
22083                        		__st.umiq	16, _al
         01:DEFB  A9 10      			lda.l	#16
         01:DEFD  85 F8      			sta	_al
22084                        		__farptr	_palette_PLAYER_8, _bp_bank, _bp
         01:DEFF  A9 C0      			lda.l	#$6000 + ($1FFF & (_palette_PLAYER_8))
         01:DF01  85 EC      			sta.l	_bp
         01:DF03  A9 6F      			lda.h	#$6000 + ($1FFF & (_palette_PLAYER_8))
         01:DF05  85 ED      			sta.h	_bp
         01:DF07  A9 19      			lda	#bank(_palette_PLAYER_8)
         01:DF09  85 02      			sta	_bp_bank
22085                        		__st.umiq	1, _ah
         01:DF0B  A9 01      			lda.l	#1
         01:DF0D  85 F9      			sta	_ah
22086                        		__call		_load_palette.3
         01:DF0F  20 8B FF   			call	_load_palette.3
22087                        	
22088                        		.dbg	line,	"include\init.c", 1049; }
22089                        	
22090                        		.dbg	line,	"include\init.c", 1051; else if(armor_level == 5)
22091                        		__bra		.LL1055
         01:DF12  80 5D      			bra	.LL1055
22092    01:DF14             	.LL1054:
22093                        		__ld.umq	_armor_level
         01:DF14  AD 29 23   			lda	_armor_level
22094                        		__equ_b.uiq	5
         01:DF17  C9 05      			cmp	#5
         01:DF19  F0 01      			beq	!+
         01:DF1B  18         			clc
         01:DF1C             	!:
22095                        		__bfalse	.LL1056
         01:DF1C  90 19      			bcc	.LL1056
22096                        	
22097                        		.dbg	line,	"include\init.c", 1052; {
22098                        	
22099                        		.dbg	line,	"include\init.c", 1053; load_palette( 16, palette_PLAYER_5, 1 );
22100                        		__st.umiq	16, _al
         01:DF1E  A9 10      			lda.l	#16
         01:DF20  85 F8      			sta	_al
22101                        		__farptr	_palette_PLAYER_5, _bp_bank, _bp
         01:DF22  A9 C0      			lda.l	#$6000 + ($1FFF & (_palette_PLAYER_5))
         01:DF24  85 EC      			sta.l	_bp
         01:DF26  A9 6D      			lda.h	#$6000 + ($1FFF & (_palette_PLAYER_5))
         01:DF28  85 ED      			sta.h	_bp
         01:DF2A  A9 19      			lda	#bank(_palette_PLAYER_5)
         01:DF2C  85 02      			sta	_bp_bank
22102                        		__st.umiq	1, _ah
         01:DF2E  A9 01      			lda.l	#1
         01:DF30  85 F9      			sta	_ah
22103                        		__call		_load_palette.3
         01:DF32  20 8B FF   			call	_load_palette.3
22104                        	
22105                        		.dbg	line,	"include\init.c", 1054; }
22106                        	
22107                        		.dbg	line,	"include\init.c", 1056; else if(armor_level == 4)
22108                        		__bra		.LL1057
         01:DF35  80 3A      			bra	.LL1057
22109    01:DF37             	.LL1056:
22110                        		__ld.umq	_armor_level
         01:DF37  AD 29 23   			lda	_armor_level
22111                        		__equ_b.uiq	4
         01:DF3A  C9 04      			cmp	#4
         01:DF3C  F0 01      			beq	!+
         01:DF3E  18         			clc
         01:DF3F             	!:
22112                        		__bfalse	.LL1058
         01:DF3F  90 19      			bcc	.LL1058
22113                        	
22114                        		.dbg	line,	"include\init.c", 1057; {
22115                        	
22116                        		.dbg	line,	"include\init.c", 1058; load_palette( 16, palette_PLAYER_4, 1 );
22117                        		__st.umiq	16, _al
         01:DF41  A9 10      			lda.l	#16
         01:DF43  85 F8      			sta	_al
22118                        		__farptr	_palette_PLAYER_4, _bp_bank, _bp
         01:DF45  A9 C0      			lda.l	#$6000 + ($1FFF & (_palette_PLAYER_4))
         01:DF47  85 EC      			sta.l	_bp
         01:DF49  A9 6B      			lda.h	#$6000 + ($1FFF & (_palette_PLAYER_4))
         01:DF4B  85 ED      			sta.h	_bp
         01:DF4D  A9 19      			lda	#bank(_palette_PLAYER_4)
         01:DF4F  85 02      			sta	_bp_bank
22119                        		__st.umiq	1, _ah
         01:DF51  A9 01      			lda.l	#1
         01:DF53  85 F9      			sta	_ah
22120                        		__call		_load_palette.3
         01:DF55  20 8B FF   			call	_load_palette.3
22121                        	
22122                        		.dbg	line,	"include\init.c", 1059; }
22123                        	
22124                        		.dbg	line,	"include\init.c", 1061; else
22125                        		__bra		.LL1059
         01:DF58  80 17      			bra	.LL1059
22126    01:DF5A             	.LL1058:
22127                        	
22128                        		.dbg	line,	"include\init.c", 1062; {
22129                        	
22130                        		.dbg	line,	"include\init.c", 1063; load_palette( 16, palette_PLAYER_1, 1 );
22131                        		__st.umiq	16, _al
         01:DF5A  A9 10      			lda.l	#16
         01:DF5C  85 F8      			sta	_al
22132                        		__farptr	_palette_PLAYER_1, _bp_bank, _bp
         01:DF5E  A9 C0      			lda.l	#$6000 + ($1FFF & (_palette_PLAYER_1))
         01:DF60  85 EC      			sta.l	_bp
         01:DF62  A9 69      			lda.h	#$6000 + ($1FFF & (_palette_PLAYER_1))
         01:DF64  85 ED      			sta.h	_bp
         01:DF66  A9 19      			lda	#bank(_palette_PLAYER_1)
         01:DF68  85 02      			sta	_bp_bank
22133                        		__st.umiq	1, _ah
         01:DF6A  A9 01      			lda.l	#1
         01:DF6C  85 F9      			sta	_ah
22134                        		__call		_load_palette.3
         01:DF6E  20 8B FF   			call	_load_palette.3
22135                        	
22136                        		.dbg	line,	"include\init.c", 1064; }
22137    01:DF71             	.LL1059:
22138    01:DF71             	.LL1057:
22139    01:DF71             	.LL1055:
22140                        	
22141                        		.dbg	line,	"include\init.c", 1067; load_palette( 17, palette_objects_1,   1 );
22142                        		__st.umiq	17, _al
         01:DF71  A9 11      			lda.l	#17
         01:DF73  85 F8      			sta	_al
22143                        		__farptr	_palette_objects_1, _bp_bank, _bp
         01:DF75  A9 40      			lda.l	#$6000 + ($1FFF & (_palette_objects_1))
         01:DF77  85 EC      			sta.l	_bp
         01:DF79  A9 7A      			lda.h	#$6000 + ($1FFF & (_palette_objects_1))
         01:DF7B  85 ED      			sta.h	_bp
         01:DF7D  A9 1A      			lda	#bank(_palette_objects_1)
         01:DF7F  85 02      			sta	_bp_bank
22144                        		__st.umiq	1, _ah
         01:DF81  A9 01      			lda.l	#1
         01:DF83  85 F9      			sta	_ah
22145                        		__call		_load_palette.3
         01:DF85  20 8B FF   			call	_load_palette.3
22146                        	
22147                        		.dbg	line,	"include\init.c", 1068; load_palette( 18, palette_objects_2,   1 );
22148                        		__st.umiq	18, _al
         01:DF88  A9 12      			lda.l	#18
         01:DF8A  85 F8      			sta	_al
22149                        		__farptr	_palette_objects_2, _bp_bank, _bp
         01:DF8C  A9 40      			lda.l	#$6000 + ($1FFF & (_palette_objects_2))
         01:DF8E  85 EC      			sta.l	_bp
         01:DF90  A9 7C      			lda.h	#$6000 + ($1FFF & (_palette_objects_2))
         01:DF92  85 ED      			sta.h	_bp
         01:DF94  A9 1A      			lda	#bank(_palette_objects_2)
         01:DF96  85 02      			sta	_bp_bank
22150                        		__st.umiq	1, _ah
         01:DF98  A9 01      			lda.l	#1
         01:DF9A  85 F9      			sta	_ah
22151                        		__call		_load_palette.3
         01:DF9C  20 8B FF   			call	_load_palette.3
22152                        	
22153                        		.dbg	line,	"include\init.c", 1069; load_palette( 19, palette_SPR_ORC,  1 );
22154                        		__st.umiq	19, _al
         01:DF9F  A9 13      			lda.l	#19
         01:DFA1  85 F8      			sta	_al
22155                        		__farptr	_palette_SPR_ORC, _bp_bank, _bp
         01:DFA3  A9 40      			lda.l	#$6000 + ($1FFF & (_palette_SPR_ORC))
         01:DFA5  85 EC      			sta.l	_bp
         01:DFA7  A9 6F      			lda.h	#$6000 + ($1FFF & (_palette_SPR_ORC))
         01:DFA9  85 ED      			sta.h	_bp
         01:DFAB  A9 1D      			lda	#bank(_palette_SPR_ORC)
         01:DFAD  85 02      			sta	_bp_bank
22156                        		__st.umiq	1, _ah
         01:DFAF  A9 01      			lda.l	#1
         01:DFB1  85 F9      			sta	_ah
22157                        		__call		_load_palette.3
         01:DFB3  20 8B FF   			call	_load_palette.3
22158                        	
22159                        		.dbg	line,	"include\init.c", 1070; load_palette( 20, palette_SPR_PLANT,   1 );
22160                        		__st.umiq	20, _al
         01:DFB6  A9 14      			lda.l	#20
         01:DFB8  85 F8      			sta	_al
22161                        		__farptr	_palette_SPR_PLANT, _bp_bank, _bp
         01:DFBA  A9 40      			lda.l	#$6000 + ($1FFF & (_palette_SPR_PLANT))
         01:DFBC  85 EC      			sta.l	_bp
         01:DFBE  A9 71      			lda.h	#$6000 + ($1FFF & (_palette_SPR_PLANT))
         01:DFC0  85 ED      			sta.h	_bp
         01:DFC2  A9 1D      			lda	#bank(_palette_SPR_PLANT)
         01:DFC4  85 02      			sta	_bp_bank
22162                        		__st.umiq	1, _ah
         01:DFC6  A9 01      			lda.l	#1
         01:DFC8  85 F9      			sta	_ah
22163                        		__call		_load_palette.3
         01:DFCA  20 8B FF   			call	_load_palette.3
22164                        	
22165                        		.dbg	line,	"include\init.c", 1075; // VSYNC //
22166                        	
22167                        		.dbg	line,	"include\init.c", 1076; vsync();
22168                        		__call		_vsync
         01:DFCD  20 1D E3   			call	_vsync
22169                        	
22170                        		.dbg	line,	"include\init.c", 1078; // ENABLE DISPLAY //
22171                        	
22172                        		.dbg	line,	"include\init.c", 1079; disp_on();
22173                        		__call		_disp_on
         01:DFD0  20 2A E4   			call	_disp_on
22174                        	
22175                        		.dbg	line,	"include\init.c", 1080; }
22176                        	
22177                        		.dbg	line,	"include\init.c", 1081; }
22178    01:DFD3             	.LL1028:
22179    01:DFD3             	.LL1027:
22180                        		__return	0
         01:DFD3  4C EF FF   			jmp	leave_proc
22181                        		.dbg	clear
22182                        		.endp
22183               2311     		.bss
22184    F8:2311             			ds	1
22185    F8:2312             	__init_LEVEL_end:
22186               E31D     		.code
22187                        		.pceas
22188                        	
22189                        		.dbg	line,	"include\init.c", 1084; void init_SHOP()
22190                        		.dbg	line,	"include\init.c", 1085; {
22191                        	;***********************
22192                        	;***********************
22193                        	
22194                        		.hucc
22195    1E:D270             		.proc		_init_SHOP
22196                        		__enter		_init_SHOP
22197                        	
22198                        		.dbg	line,	"include\init.c", 1086; char i;
22199                        	
22200                        		.dbg	line,	"include\init.c", 1087; char item_id;
22201                        	
22202                        		.dbg	line,	"include\init.c", 1090; // DISABLE DISPLAY //
22203                        	
22204                        		.dbg	line,	"include\init.c", 1091; disp_off();
22205                        		__call		_disp_off
         1E:D270  20 3D E4   			call	_disp_off
22206                        	
22207                        		.dbg	line,	"include\init.c", 1092; 
22208                        	
22209                        		.dbg	line,	"include\init.c", 1094; // VSYNC //
22210                        	
22211                        		.dbg	line,	"include\init.c", 1095; vsync();
22212                        		__call		_vsync
         1E:D273  20 1D E3   			call	_vsync
22213                        	
22214                        		.dbg	line,	"include\init.c", 1098; // HIDE ALL LEVEL SPRITES //
22215                        	
22216                        		.dbg	line,	"include\init.c", 1099; hide_LEVEL_SPRITES();
22217                        		__call		_hide_LEVEL_SPRITES
         1E:D276  20 41 FE   			call	_hide_LEVEL_SPRITES
22218                        	
22219                        		.dbg	line,	"include\init.c", 1102; // SET VDC 1 SCREEN SIZE (IN TILES) - 32x32 = 256 PIXELS
22220                        	
22221                        		.dbg	line,	"include\init.c", 1103; set_screen_size(SCR_SIZE_64x32);
22222                        		__st.umiq	1, _al
         1E:D279  A9 01      			lda.l	#1
         1E:D27B  85 F8      			sta	_al
22223                        		__call		_set_screen_size.1
         1E:D27D  20 E1 FE   			call	_set_screen_size.1
22224                        	
22225                        		.dbg	line,	"include\init.c", 1106; // SET VDC 2 SCREEN SIZE (IN TILES) - 32x32 = 256 PIXELS
22226                        	
22227                        		.dbg	line,	"include\init.c", 1107; sgx_set_screen_size(SCR_SIZE_32x32);
22228                        		__st.umiq	0, _al
         1E:D280  64 F8      			stz	_al
22229                        		__call		_sgx_set_screen_size.1
         1E:D282  20 D7 FE   			call	_sgx_set_screen_size.1
22230                        	
22231                        		.dbg	line,	"include\init.c", 1112; //**************************************************************************************//
22232                        	
22233                        		.dbg	line,	"include\init.c", 1113; //                                                                                      //
22234                        	
22235                        		.dbg	line,	"include\init.c", 1114; //                                      VARIABLES                                       //
22236                        	
22237                        		.dbg	line,	"include\init.c", 1115; //                                                                                      //
22238                        	
22239                        		.dbg	line,	"include\init.c", 1116; //**************************************************************************************//
22240                        	
22241                        		.dbg	line,	"include\init.c", 1118; index_x = 0;
22242                        		__st.umiq	0, _index_x
         1E:D285  9C FB 23   			stz	_index_x
22243                        	
22244                        		.dbg	line,	"include\init.c", 1119; index_y = 0;
22245                        		__st.umiq	0, _index_y
         1E:D288  9C FC 23   			stz	_index_y
22246                        	
22247                        		.dbg	line,	"include\init.c", 1120; item_index = 0;
22248                        		__st.umiq	0, _item_index
         1E:D28B  9C FD 23   			stz	_item_index
22249                        	
22250                        		.dbg	line,	"include\init.c", 1122; minutes = 0;
22251                        		__st.umiq	0, _minutes
         1E:D28E  9C 33 23   			stz	_minutes
22252                        	
22253                        		.dbg	line,	"include\init.c", 1123; seconds = 30;
22254                        		__st.umiq	30, _seconds
         1E:D291  A9 1E      			lda.l	#30
         1E:D293  8D 34 23   			sta	_seconds
22255                        	
22256                        		.dbg	line,	"include\init.c", 1125; shop_counter = 0;
22257                        		__st.umiq	0, _shop_counter
         1E:D296  9C FF 23   			stz	_shop_counter
22258                        	
22259                        		.dbg	line,	"include\init.c", 1126; shop_phase = SHOP_PHASE_ENTER;
22260                        		__st.umiq	0, _shop_phase
         1E:D299  9C FE 23   			stz	_shop_phase
22261                        	
22262                        		.dbg	line,	"include\init.c", 1128; if(level_id == 1)
22263                        		__ld.umq	_level_id
         1E:D29C  AD 16 23   			lda	_level_id
22264                        		__equ_b.uiq	1
         1E:D29F  C9 01      			cmp	#1
         1E:D2A1  F0 01      			beq	!+
         1E:D2A3  18         			clc
         1E:D2A4             	!:
22265                        		__bfalse	.LL1061
         1E:D2A4  90 0A      			bcc	.LL1061
22266                        	
22267                        		.dbg	line,	"include\init.c", 1129; {
22268                        	
22269                        		.dbg	line,	"include\init.c", 1130; ptr_SHOP_ITEM_PRICES = &TABLE_SHOP_PRICES_LV1[0];
22270                        		__ld.wi		_TABLE_SHOP_PRICES_LV1
         1E:D2A6  A9 FA      			lda.l	#_TABLE_SHOP_PRICES_LV1
         1E:D2A8  A0 62      			ldy.h	#_TABLE_SHOP_PRICES_LV1
22271                        		__st.wmq	_ptr_SHOP_ITEM_PRICES
         1E:D2AA  8D 9E 26   			sta.l	_ptr_SHOP_ITEM_PRICES
         1E:D2AD  8C 9F 26   			sty.h	_ptr_SHOP_ITEM_PRICES
22272                        	
22273                        		.dbg	line,	"include\init.c", 1131; }
22274                        	
22275                        		.dbg	line,	"include\init.c", 1132; 
22276                        	
22277                        		.dbg	line,	"include\init.c", 1137; //**************************************************************************************//
22278                        	
22279                        		.dbg	line,	"include\init.c", 1138; //                                                                                      //
22280                        	
22281                        		.dbg	line,	"include\init.c", 1139; //                                        VDC 2                                         //
22282                        	
22283                        		.dbg	line,	"include\init.c", 1140; //                                                                                      //
22284                        	
22285                        		.dbg	line,	"include\init.c", 1141; //**************************************************************************************//
22286                        	
22287                        		.dbg	line,	"include\init.c", 1143; //--------------------------------------------------------------------------------------//
22288                        	
22289                        		.dbg	line,	"include\init.c", 1144; //                                      LOAD FONT                                       //
22290                        	
22291                        		.dbg	line,	"include\init.c", 1145; //--------------------------------------------------------------------------------------//
22292                        	
22293                        		.dbg	line,	"include\init.c", 1147; load_vram( 0x0800, tileset_FONT, SIZEOF(tileset_FONT) >> 1 );
22294    1E:D2B0             	.LL1061:
22295                        		__st.wmiq	2048, _di
         1E:D2B0  64 F0      			stz.l	_di
         1E:D2B2  A9 08      			lda.h	#2048
         1E:D2B4  85 F1      			sta.h	_di
22296                        		__farptr	_tileset_FONT, _bp_bank, _bp
         1E:D2B6  A9 E0      			lda.l	#$6000 + ($1FFF & (_tileset_FONT))
         1E:D2B8  85 EC      			sta.l	_bp
         1E:D2BA  A9 7C      			lda.h	#$6000 + ($1FFF & (_tileset_FONT))
         1E:D2BC  85 ED      			sta.h	_bp
         1E:D2BE  A9 06      			lda	#bank(_tileset_FONT)
         1E:D2C0  85 02      			sta	_bp_bank
22297                        		__ld.wi		___sizeof__tileset_FONT
         1E:D2C2  A9 00      			lda.l	#___sizeof__tileset_FONT
         1E:D2C4  A0 0C      			ldy.h	#___sizeof__tileset_FONT
22298                        		__lsr.wi	1
         1E:D2C6  42         			say
         1E:D2C7  4A         			lsr	a
         1E:D2C8  42         			say
         1E:D2C9  6A         			ror	a
22299                        		__st.wmq	_ax
         1E:D2CA  85 F8      			sta.l	_ax
         1E:D2CC  84 F9      			sty.h	_ax
22300                        		 _load_vram.3
         1E:D2CE  82         			clx				; Offset to PCE VDC.
         1E:D2CF  20 F5 FE   			call	load_vram_x
22301                        	
22302                        		.dbg	line,	"include\init.c", 1149; set_font_pal(15);
22303                        		__ld.uiq	15
         1E:D2D2  A9 0F      			lda	#15
22304                        		__call		_set_font_pal.1
         1E:D2D4  20 00 E6   			call	_set_font_pal.1
22305                        	
22306                        		.dbg	line,	"include\init.c", 1152; //--------------------------------------------------------------------------------------//
22307                        	
22308                        		.dbg	line,	"include\init.c", 1153; //                                    LOAD TILESET                                      //
22309                        	
22310                        		.dbg	line,	"include\init.c", 1154; //--------------------------------------------------------------------------------------//
22311                        	
22312                        		.dbg	line,	"include\init.c", 1156; sgx_load_vram( 0x1000, tileset_SHOP_BG_B, SIZEOF(tileset_SHOP_BG_B) >> 1 );
22313                        		__st.wmiq	4096, _di
         1E:D2D7  64 F0      			stz.l	_di
         1E:D2D9  A9 10      			lda.h	#4096
         1E:D2DB  85 F1      			sta.h	_di
22314                        		__farptr	_tileset_SHOP_BG_B, _bp_bank, _bp
         1E:D2DD  A9 A0      			lda.l	#$6000 + ($1FFF & (_tileset_SHOP_BG_B))
         1E:D2DF  85 EC      			sta.l	_bp
         1E:D2E1  A9 62      			lda.h	#$6000 + ($1FFF & (_tileset_SHOP_BG_B))
         1E:D2E3  85 ED      			sta.h	_bp
         1E:D2E5  A9 10      			lda	#bank(_tileset_SHOP_BG_B)
         1E:D2E7  85 02      			sta	_bp_bank
22315                        		__ld.wi		___sizeof__tileset_SHOP_BG_B
         1E:D2E9  A9 60      			lda.l	#___sizeof__tileset_SHOP_BG_B
         1E:D2EB  A0 39      			ldy.h	#___sizeof__tileset_SHOP_BG_B
22316                        		__lsr.wi	1
         1E:D2ED  42         			say
         1E:D2EE  4A         			lsr	a
         1E:D2EF  42         			say
         1E:D2F0  6A         			ror	a
22317                        		__st.wmq	_ax
         1E:D2F1  85 F8      			sta.l	_ax
         1E:D2F3  84 F9      			sty.h	_ax
22318                        		 _sgx_load_vram.3
         1E:D2F5  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1E:D2F7  20 F5 FE   			call	load_vram_x
22319                        	
22320                        		.dbg	line,	"include\init.c", 1159; //--------------------------------------------------------------------------------------//
22321                        	
22322                        		.dbg	line,	"include\init.c", 1160; //                                      LOAD ITEMS                                      //
22323                        	
22324                        		.dbg	line,	"include\init.c", 1161; //--------------------------------------------------------------------------------------//
22325                        	
22326                        		.dbg	line,	"include\init.c", 1163; for(i=0 ; i<10 ; i++)
22327                        		__st.umiq	0, __init_SHOP_end - 1  /* i */
         1E:D2FA  9C 13 23   			stz	__init_SHOP_end - 1
22328    1E:D2FD             	.LL1062:
22329                        		__ld.umq	__init_SHOP_end - 1  /* i */
         1E:D2FD  AD 13 23   			lda	__init_SHOP_end - 1
22330                        		__ult_b.uiq	10
         1E:D300  C9 0A      			cmp	#10		; Subtract integer from A.
         1E:D302  6A         			ror	a		; CC if A < integer.
         1E:D303  49 80      			eor	#$80
         1E:D305  2A         			rol	a
22331                        		__btrue		.LL1064
         1E:D306  B0 07      			bcs	.LL1064
22332                        		__bra		.LL1065
         1E:D308  80 42      			bra	.LL1065
22333    1E:D30A             	.LL1063:
22334                        		__inc.umq	__init_SHOP_end - 1  /* i */
         1E:D30A  EE 13 23   			inc	__init_SHOP_end - 1
22335                        		__bra		.LL1062
         1E:D30D  80 EE      			bra	.LL1062
22336    1E:D30F             	.LL1064:
22337                        	
22338                        		.dbg	line,	"include\init.c", 1164; {
22339                        	
22340                        		.dbg	line,	"include\init.c", 1165; set_far_base(TABLE_SHOP_ITEMS_TILES_BANK[i],TABLE_SHOP_ITEMS_TILES_ADR[i]);
22341                        		__ldx.umq	__init_SHOP_end - 1  /* i */
         1E:D30F  AE 13 23   			ldx	__init_SHOP_end - 1
22342                        		__ld.uax	_TABLE_SHOP_ITEMS_TILES_BANK
         1E:D312  BD 22 63   			lda	_TABLE_SHOP_ITEMS_TILES_BANK, x
         1E:D315  C2         			cly
22343                        		__st.umq	_bp_bank
         1E:D316  85 02      			sta	_bp_bank
22344                        		__ld2x.umq	__init_SHOP_end - 1  /* i */
         1E:D318  AD 13 23   			lda	__init_SHOP_end - 1
         1E:D31B  0A         			asl	a
         1E:D31C  AA         			tax
22345                        		__ld.wax	_TABLE_SHOP_ITEMS_TILES_ADR
         1E:D31D  BD 0E 63   			lda.l	_TABLE_SHOP_ITEMS_TILES_ADR, x
         1E:D320  BC 0F 63   			ldy.h	_TABLE_SHOP_ITEMS_TILES_ADR, x
22346                        		__st.wmq	_bp
         1E:D323  85 EC      			sta.l	_bp
         1E:D325  84 ED      			sty.h	_bp
22347                        	
22348                        		.dbg	line,	"include\init.c", 1166; sgx_far_load_vram( 0x1000 + (i * TILES_4), TILES_4 );
22349                        		__ld.um		__init_SHOP_end - 1  /* i */
         1E:D327  AD 13 23   			lda	__init_SHOP_end - 1
         1E:D32A  C2         			cly
22350                        		__asl.wi	6
         1E:D32B  85 00      			sta	__temp
         1E:D32D  98         			tya
         1E:D32E  4A         			lsr	a
         1E:D32F  20 CB E1   			jsr	aslw6
         1E:D332  29 C0      			and.l	#$FF << 6
22351                        		__add.wi	4096
         1E:D334  18         			clc
         1E:D335  69 00      			adc.l	#4096
         1E:D337  42         			say
         1E:D338  69 10      			adc.h	#4096
         1E:D33A  42         			say
22352                        		__st.wmq	_di
         1E:D33B  85 F0      			sta.l	_di
         1E:D33D  84 F1      			sty.h	_di
22353                        		__st.wmiq	64, _ax
         1E:D33F  A9 40      			lda.l	#64
         1E:D341  85 F8      			sta.l	_ax
         1E:D343  64 F9      			stz.h	_ax
22354                        		 _sgx_far_load_vram.2
         1E:D345  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1E:D347  20 F5 FE   			call	load_vram_x
22355                        	
22356                        		.dbg	line,	"include\init.c", 1167; }
22357                        		__bra		.LL1063
         1E:D34A  80 BE      			bra	.LL1063
22358    1E:D34C             	.LL1065:
22359                        	
22360                        		.dbg	line,	"include\init.c", 1170; //--------------------------------------------------------------------------------------//
22361                        	
22362                        		.dbg	line,	"include\init.c", 1171; //                                      SET BLOCKS                                      //
22363                        	
22364                        		.dbg	line,	"include\init.c", 1172; //--------------------------------------------------------------------------------------//
22365                        	
22366                        		.dbg	line,	"include\init.c", 1174; sgx_set_blocks( blocks_SHOP_BG_B , tilemap_mask , 256 );
22367                        		__farptr	_blocks_SHOP_BG_B, sgx_blk_bank, sgx_blk_addr
         1E:D34C  A9 00      			lda.l	#$6000 + ($1FFF & (_blocks_SHOP_BG_B))
         1E:D34E  8D 1C 2C   			sta.l	sgx_blk_addr
         1E:D351  A9 60      			lda.h	#$6000 + ($1FFF & (_blocks_SHOP_BG_B))
         1E:D353  8D 1D 2C   			sta.h	sgx_blk_addr
         1E:D356  A9 12      			lda	#bank(_blocks_SHOP_BG_B)
         1E:D358  8D 1E 2C   			sta	sgx_blk_bank
22368                        		__farptr	_tilemap_mask, sgx_tbl_bank, sgx_tbl_addr
         1E:D35B  A9 01      			lda.l	#$6000 + ($1FFF & (_tilemap_mask))
         1E:D35D  8D 19 2C   			sta.l	sgx_tbl_addr
         1E:D360  A9 64      			lda.h	#$6000 + ($1FFF & (_tilemap_mask))
         1E:D362  8D 1A 2C   			sta.h	sgx_tbl_addr
         1E:D365  A9 F8      			lda	#bank(_tilemap_mask)
         1E:D367  8D 1B 2C   			sta	sgx_tbl_bank
22369                        		__st.umiq	256, _al
         1E:D36A  A9 00      			lda.l	#256
         1E:D36C  85 F8      			sta	_al
22370                        		__call		_sgx_set_blocks.3
         1E:D36E  20 37 FE   			call	_sgx_set_blocks.3
22371                        	
22372                        		.dbg	line,	"include\init.c", 1178; //--------------------------------------------------------------------------------------//
22373                        	
22374                        		.dbg	line,	"include\init.c", 1179; //                                       SET MAP                                        //
22375                        	
22376                        		.dbg	line,	"include\init.c", 1180; //--------------------------------------------------------------------------------------//
22377                        	
22378                        		.dbg	line,	"include\init.c", 1182; sgx_set_blkmap( map_SHOP_BG_B, COUNTOF(map_SHOP_BG_B) );
22379                        		__farptr	_map_SHOP_BG_B, sgx_map_bank, sgx_map_addr
         1E:D371  A9 00      			lda.l	#$6000 + ($1FFF & (_map_SHOP_BG_B))
         1E:D373  8D 1F 2C   			sta.l	sgx_map_addr
         1E:D376  A9 68      			lda.h	#$6000 + ($1FFF & (_map_SHOP_BG_B))
         1E:D378  8D 20 2C   			sta.h	sgx_map_addr
         1E:D37B  A9 12      			lda	#bank(_map_SHOP_BG_B)
         1E:D37D  8D 21 2C   			sta	sgx_map_bank
22380                        		__ld.wi		___countof__map_SHOP_BG_B
         1E:D380  A9 10      			lda.l	#___countof__map_SHOP_BG_B
         1E:D382  A0 00      			ldy.h	#___countof__map_SHOP_BG_B
22381                        		__st.umq	sgx_map_line_w
         1E:D384  8D E2 26   			sta	sgx_map_line_w
22382                        		 _sgx_set_blkmap.2
         1E:D387  9C 24 2C   			stz	sgx_scr_bank
22383                        	
22384                        		.dbg	line,	"include\init.c", 1185; //--------------------------------------------------------------------------------------//
22385                        	
22386                        		.dbg	line,	"include\init.c", 1186; //                                    DRAW TILEMAP                                      //
22387                        	
22388                        		.dbg	line,	"include\init.c", 1187; //--------------------------------------------------------------------------------------//
22389                        	
22390                        		.dbg	line,	"include\init.c", 1189; // The blkmap is drawn using global variables for the top-left coordinate
22391                        	
22392                        		.dbg	line,	"include\init.c", 1190; // in pixels, and the draw width and height in terms of 8x8 characters.
22393                        	
22394                        		.dbg	line,	"include\init.c", 1192; sgx_map_pxl_x = 0;
22395                        		__st.wmiq	0, _sgx_map_pxl_x
         1E:D38A  9C E4 26   			stz.l	_sgx_map_pxl_x
         1E:D38D  9C E5 26   			stz.h	_sgx_map_pxl_x
22396                        	
22397                        		.dbg	line,	"include\init.c", 1193; sgx_map_pxl_y = 0;
22398                        		__st.wmiq	0, _sgx_map_pxl_y
         1E:D390  9C E6 26   			stz.l	_sgx_map_pxl_y
         1E:D393  9C E7 26   			stz.h	_sgx_map_pxl_y
22399                        	
22400                        		.dbg	line,	"include\init.c", 1195; sgx_map_draw_w = 32;
22401                        		__st.umiq	32, _sgx_map_draw_w
         1E:D396  A9 20      			lda.l	#32
         1E:D398  8D E0 26   			sta	_sgx_map_draw_w
22402                        	
22403                        		.dbg	line,	"include\init.c", 1196; sgx_map_draw_h = 28;
22404                        		__st.umiq	28, _sgx_map_draw_h
         1E:D39B  A9 1C      			lda.l	#28
         1E:D39D  8D E1 26   			sta	_sgx_map_draw_h
22405                        	
22406                        		.dbg	line,	"include\init.c", 1199; //**************************************************************************************//
22407                        	
22408                        		.dbg	line,	"include\init.c", 1200; //                                                                                      //
22409                        	
22410                        		.dbg	line,	"include\init.c", 1201; //                                  SETUP SCROLL_SPLIT                                  //
22411                        	
22412                        		.dbg	line,	"include\init.c", 1202; //                                                                                      //
22413                        	
22414                        		.dbg	line,	"include\init.c", 1203; //**************************************************************************************//
22415                        	
22416                        		.dbg	line,	"include\init.c", 1205; sgx_draw_map();
22417                        		__call		_sgx_draw_map
         1E:D3A0  20 A5 FE   			call	_sgx_draw_map
22418                        	
22419                        		.dbg	line,	"include\init.c", 1207; sgx_scroll_split(0,   0, sgx_map_pxl_x & (BAT_SIZE_W - 1), sgx_map_pxl_y & (BAT_SIZE_H - 1), BKG_ON | SPR_ON);
22420                        		__st.umiq	0, _al
         1E:D3A3  64 F8      			stz	_al
22421                        		__st.umiq	0, _ah
         1E:D3A5  64 F9      			stz	_ah
22422                        		__ld.wm		_sgx_map_pxl_x
         1E:D3A7  AD E4 26   			lda.l	_sgx_map_pxl_x
         1E:D3AA  AC E5 26   			ldy.h	_sgx_map_pxl_x
22423                        		__and.wi	2047
         1E:D3AD  29 FF      			and.l	#2047
         1E:D3AF  42         			say
         1E:D3B0  29 07      			and.h	#2047
         1E:D3B2  42         			say
22424                        		__st.wmq	_bx
         1E:D3B3  85 FA      			sta.l	_bx
         1E:D3B5  84 FB      			sty.h	_bx
22425                        		__ld.wm		_sgx_map_pxl_y
         1E:D3B7  AD E6 26   			lda.l	_sgx_map_pxl_y
         1E:D3BA  AC E7 26   			ldy.h	_sgx_map_pxl_y
22426                        		__and.wi	255
         1E:D3BD  29 FF      			and	#255
         1E:D3BF  C2         			cly
22427                        		__st.wmq	_cx
         1E:D3C0  85 FC      			sta.l	_cx
         1E:D3C2  84 FD      			sty.h	_cx
22428                        		__st.umiq	192, _dl
         1E:D3C4  A9 C0      			lda.l	#192
         1E:D3C6  85 FE      			sta	_dl
22429                        		__call		_sgx_scroll_split.5
         1E:D3C8  20 59 FF   			call	_sgx_scroll_split.5
22430                        	
22431                        		.dbg	line,	"include\init.c", 1212; //**************************************************************************************//
22432                        	
22433                        		.dbg	line,	"include\init.c", 1213; //                                                                                      //
22434                        	
22435                        		.dbg	line,	"include\init.c", 1214; //                                         HUD                                          //
22436                        	
22437                        		.dbg	line,	"include\init.c", 1215; //                                                                                      //
22438                        	
22439                        		.dbg	line,	"include\init.c", 1216; //**************************************************************************************//
22440                        	
22441                        		.dbg	line,	"include\init.c", 1218; init_HUD();
22442                        		__call		_init_HUD
         1E:D3CB  20 9B FE   			call	_init_HUD
22443                        	
22444                        		.dbg	line,	"include\init.c", 1223; //--------------------------------------------------------------------------------------//
22445                        	
22446                        		.dbg	line,	"include\init.c", 1224; //                                     DRAW PRICES                                      //
22447                        	
22448                        		.dbg	line,	"include\init.c", 1225; //--------------------------------------------------------------------------------------//
22449                        	
22450                        		.dbg	line,	"include\init.c", 1227; shop_prices[0] = *(ptr_SHOP_ITEM_PRICES);
22451                        		__ld.wm		_ptr_SHOP_ITEM_PRICES
         1E:D3CE  AD 9E 26   			lda.l	_ptr_SHOP_ITEM_PRICES
         1E:D3D1  AC 9F 26   			ldy.h	_ptr_SHOP_ITEM_PRICES
22452                        		__st.wm		__ptr
         1E:D3D4  85 88      			sta.l	__ptr
         1E:D3D6  84 89      			sty.h	__ptr
22453                        		__ld.wp		__ptr
         1E:D3D8  A0 01      			ldy	#1
         1E:D3DA  B1 88      			lda	[__ptr], y
         1E:D3DC  A8         			tay
         1E:D3DD  B2 88      			lda	[__ptr]
22454                        		__st.wmq	_shop_prices
         1E:D3DF  8D 65 26   			sta.l	_shop_prices
         1E:D3E2  8C 66 26   			sty.h	_shop_prices
22455                        	
22456                        		.dbg	line,	"include\init.c", 1228; shop_prices[1] = *(ptr_SHOP_ITEM_PRICES+1);
22457                        		__ld.wm		_ptr_SHOP_ITEM_PRICES
         1E:D3E5  AD 9E 26   			lda.l	_ptr_SHOP_ITEM_PRICES
         1E:D3E8  AC 9F 26   			ldy.h	_ptr_SHOP_ITEM_PRICES
22458                        		__add.wi	2
         1E:D3EB  18         			clc
         1E:D3EC  69 02      			adc.l	#2
         1E:D3EE  90 01      			bcc	!+
         1E:D3F0  C8         			iny
         1E:D3F1             	!:
22459                        		__st.wm		__ptr
         1E:D3F1  85 88      			sta.l	__ptr
         1E:D3F3  84 89      			sty.h	__ptr
22460                        		__ld.wp		__ptr
         1E:D3F5  A0 01      			ldy	#1
         1E:D3F7  B1 88      			lda	[__ptr], y
         1E:D3F9  A8         			tay
         1E:D3FA  B2 88      			lda	[__ptr]
22461                        		__st.wmq	_shop_prices + 2
         1E:D3FC  8D 67 26   			sta.l	_shop_prices + 2
         1E:D3FF  8C 68 26   			sty.h	_shop_prices + 2
22462                        	
22463                        		.dbg	line,	"include\init.c", 1229; shop_prices[2] = *(ptr_SHOP_ITEM_PRICES+2);
22464                        		__ld.wm		_ptr_SHOP_ITEM_PRICES
         1E:D402  AD 9E 26   			lda.l	_ptr_SHOP_ITEM_PRICES
         1E:D405  AC 9F 26   			ldy.h	_ptr_SHOP_ITEM_PRICES
22465                        		__add.wi	4
         1E:D408  18         			clc
         1E:D409  69 04      			adc.l	#4
         1E:D40B  90 01      			bcc	!+
         1E:D40D  C8         			iny
         1E:D40E             	!:
22466                        		__st.wm		__ptr
         1E:D40E  85 88      			sta.l	__ptr
         1E:D410  84 89      			sty.h	__ptr
22467                        		__ld.wp		__ptr
         1E:D412  A0 01      			ldy	#1
         1E:D414  B1 88      			lda	[__ptr], y
         1E:D416  A8         			tay
         1E:D417  B2 88      			lda	[__ptr]
22468                        		__st.wmq	_shop_prices + 4
         1E:D419  8D 69 26   			sta.l	_shop_prices + 4
         1E:D41C  8C 6A 26   			sty.h	_shop_prices + 4
22469                        	
22470                        		.dbg	line,	"include\init.c", 1230; shop_prices[3] = *(ptr_SHOP_ITEM_PRICES+3);
22471                        		__ld.wm		_ptr_SHOP_ITEM_PRICES
         1E:D41F  AD 9E 26   			lda.l	_ptr_SHOP_ITEM_PRICES
         1E:D422  AC 9F 26   			ldy.h	_ptr_SHOP_ITEM_PRICES
22472                        		__add.wi	6
         1E:D425  18         			clc
         1E:D426  69 06      			adc.l	#6
         1E:D428  90 01      			bcc	!+
         1E:D42A  C8         			iny
         1E:D42B             	!:
22473                        		__st.wm		__ptr
         1E:D42B  85 88      			sta.l	__ptr
         1E:D42D  84 89      			sty.h	__ptr
22474                        		__ld.wp		__ptr
         1E:D42F  A0 01      			ldy	#1
         1E:D431  B1 88      			lda	[__ptr], y
         1E:D433  A8         			tay
         1E:D434  B2 88      			lda	[__ptr]
22475                        		__st.wmq	_shop_prices + 6
         1E:D436  8D 6B 26   			sta.l	_shop_prices + 6
         1E:D439  8C 6C 26   			sty.h	_shop_prices + 6
22476                        	
22477                        		.dbg	line,	"include\init.c", 1231; shop_prices[4] = *(ptr_SHOP_ITEM_PRICES+4);
22478                        		__ld.wm		_ptr_SHOP_ITEM_PRICES
         1E:D43C  AD 9E 26   			lda.l	_ptr_SHOP_ITEM_PRICES
         1E:D43F  AC 9F 26   			ldy.h	_ptr_SHOP_ITEM_PRICES
22479                        		__add.wi	8
         1E:D442  18         			clc
         1E:D443  69 08      			adc.l	#8
         1E:D445  90 01      			bcc	!+
         1E:D447  C8         			iny
         1E:D448             	!:
22480                        		__st.wm		__ptr
         1E:D448  85 88      			sta.l	__ptr
         1E:D44A  84 89      			sty.h	__ptr
22481                        		__ld.wp		__ptr
         1E:D44C  A0 01      			ldy	#1
         1E:D44E  B1 88      			lda	[__ptr], y
         1E:D450  A8         			tay
         1E:D451  B2 88      			lda	[__ptr]
22482                        		__st.wmq	_shop_prices + 8
         1E:D453  8D 6D 26   			sta.l	_shop_prices + 8
         1E:D456  8C 6E 26   			sty.h	_shop_prices + 8
22483                        	
22484                        		.dbg	line,	"include\init.c", 1232; 
22485                        	
22486                        		.dbg	line,	"include\init.c", 1233; shop_prices[5] = *(ptr_SHOP_ITEM_PRICES+5);
22487                        		__ld.wm		_ptr_SHOP_ITEM_PRICES
         1E:D459  AD 9E 26   			lda.l	_ptr_SHOP_ITEM_PRICES
         1E:D45C  AC 9F 26   			ldy.h	_ptr_SHOP_ITEM_PRICES
22488                        		__add.wi	10
         1E:D45F  18         			clc
         1E:D460  69 0A      			adc.l	#10
         1E:D462  90 01      			bcc	!+
         1E:D464  C8         			iny
         1E:D465             	!:
22489                        		__st.wm		__ptr
         1E:D465  85 88      			sta.l	__ptr
         1E:D467  84 89      			sty.h	__ptr
22490                        		__ld.wp		__ptr
         1E:D469  A0 01      			ldy	#1
         1E:D46B  B1 88      			lda	[__ptr], y
         1E:D46D  A8         			tay
         1E:D46E  B2 88      			lda	[__ptr]
22491                        		__st.wmq	_shop_prices + 10
         1E:D470  8D 6F 26   			sta.l	_shop_prices + 10
         1E:D473  8C 70 26   			sty.h	_shop_prices + 10
22492                        	
22493                        		.dbg	line,	"include\init.c", 1234; shop_prices[6] = *(ptr_SHOP_ITEM_PRICES+6);
22494                        		__ld.wm		_ptr_SHOP_ITEM_PRICES
         1E:D476  AD 9E 26   			lda.l	_ptr_SHOP_ITEM_PRICES
         1E:D479  AC 9F 26   			ldy.h	_ptr_SHOP_ITEM_PRICES
22495                        		__add.wi	12
         1E:D47C  18         			clc
         1E:D47D  69 0C      			adc.l	#12
         1E:D47F  90 01      			bcc	!+
         1E:D481  C8         			iny
         1E:D482             	!:
22496                        		__st.wm		__ptr
         1E:D482  85 88      			sta.l	__ptr
         1E:D484  84 89      			sty.h	__ptr
22497                        		__ld.wp		__ptr
         1E:D486  A0 01      			ldy	#1
         1E:D488  B1 88      			lda	[__ptr], y
         1E:D48A  A8         			tay
         1E:D48B  B2 88      			lda	[__ptr]
22498                        		__st.wmq	_shop_prices + 12
         1E:D48D  8D 71 26   			sta.l	_shop_prices + 12
         1E:D490  8C 72 26   			sty.h	_shop_prices + 12
22499                        	
22500                        		.dbg	line,	"include\init.c", 1235; shop_prices[7] = *(ptr_SHOP_ITEM_PRICES+7);
22501                        		__ld.wm		_ptr_SHOP_ITEM_PRICES
         1E:D493  AD 9E 26   			lda.l	_ptr_SHOP_ITEM_PRICES
         1E:D496  AC 9F 26   			ldy.h	_ptr_SHOP_ITEM_PRICES
22502                        		__add.wi	14
         1E:D499  18         			clc
         1E:D49A  69 0E      			adc.l	#14
         1E:D49C  90 01      			bcc	!+
         1E:D49E  C8         			iny
         1E:D49F             	!:
22503                        		__st.wm		__ptr
         1E:D49F  85 88      			sta.l	__ptr
         1E:D4A1  84 89      			sty.h	__ptr
22504                        		__ld.wp		__ptr
         1E:D4A3  A0 01      			ldy	#1
         1E:D4A5  B1 88      			lda	[__ptr], y
         1E:D4A7  A8         			tay
         1E:D4A8  B2 88      			lda	[__ptr]
22505                        		__st.wmq	_shop_prices + 14
         1E:D4AA  8D 73 26   			sta.l	_shop_prices + 14
         1E:D4AD  8C 74 26   			sty.h	_shop_prices + 14
22506                        	
22507                        		.dbg	line,	"include\init.c", 1236; shop_prices[8] = *(ptr_SHOP_ITEM_PRICES+8);
22508                        		__ld.wm		_ptr_SHOP_ITEM_PRICES
         1E:D4B0  AD 9E 26   			lda.l	_ptr_SHOP_ITEM_PRICES
         1E:D4B3  AC 9F 26   			ldy.h	_ptr_SHOP_ITEM_PRICES
22509                        		__add.wi	16
         1E:D4B6  18         			clc
         1E:D4B7  69 10      			adc.l	#16
         1E:D4B9  90 01      			bcc	!+
         1E:D4BB  C8         			iny
         1E:D4BC             	!:
22510                        		__st.wm		__ptr
         1E:D4BC  85 88      			sta.l	__ptr
         1E:D4BE  84 89      			sty.h	__ptr
22511                        		__ld.wp		__ptr
         1E:D4C0  A0 01      			ldy	#1
         1E:D4C2  B1 88      			lda	[__ptr], y
         1E:D4C4  A8         			tay
         1E:D4C5  B2 88      			lda	[__ptr]
22512                        		__st.wmq	_shop_prices + 16
         1E:D4C7  8D 75 26   			sta.l	_shop_prices + 16
         1E:D4CA  8C 76 26   			sty.h	_shop_prices + 16
22513                        	
22514                        		.dbg	line,	"include\init.c", 1237; shop_prices[9] = *(ptr_SHOP_ITEM_PRICES+9);
22515                        		__ld.wm		_ptr_SHOP_ITEM_PRICES
         1E:D4CD  AD 9E 26   			lda.l	_ptr_SHOP_ITEM_PRICES
         1E:D4D0  AC 9F 26   			ldy.h	_ptr_SHOP_ITEM_PRICES
22516                        		__add.wi	18
         1E:D4D3  18         			clc
         1E:D4D4  69 12      			adc.l	#18
         1E:D4D6  90 01      			bcc	!+
         1E:D4D8  C8         			iny
         1E:D4D9             	!:
22517                        		__st.wm		__ptr
         1E:D4D9  85 88      			sta.l	__ptr
         1E:D4DB  84 89      			sty.h	__ptr
22518                        		__ld.wp		__ptr
         1E:D4DD  A0 01      			ldy	#1
         1E:D4DF  B1 88      			lda	[__ptr], y
         1E:D4E1  A8         			tay
         1E:D4E2  B2 88      			lda	[__ptr]
22519                        		__st.wmq	_shop_prices + 18
         1E:D4E4  8D 77 26   			sta.l	_shop_prices + 18
         1E:D4E7  8C 78 26   			sty.h	_shop_prices + 18
22520                        	
22521                        		.dbg	line,	"include\init.c", 1240; put_number(shop_prices[0],4,2,20);
22522                        		__ld.wm		_shop_prices
         1E:D4EA  AD 65 26   			lda.l	_shop_prices
         1E:D4ED  AC 66 26   			ldy.h	_shop_prices
22523                        		__st.wmq	_bx
         1E:D4F0  85 FA      			sta.l	_bx
         1E:D4F2  84 FB      			sty.h	_bx
22524                        		__st.umiq	4, _cl
         1E:D4F4  A9 04      			lda.l	#4
         1E:D4F6  85 FC      			sta	_cl
22525                        		__st.umiq	2, _dil
         1E:D4F8  A9 02      			lda.l	#2
         1E:D4FA  85 F0      			sta	_dil
22526                        		__st.umiq	20, _dih
         1E:D4FC  A9 14      			lda.l	#20
         1E:D4FE  85 F1      			sta	_dih
22527                        		__call		_put_number.4
         1E:D500  20 6D FF   			call	_put_number.4
22528                        	
22529                        		.dbg	line,	"include\init.c", 1241; put_number(shop_prices[1],4,7,20);
22530                        		__ld.wm		_shop_prices + 2
         1E:D503  AD 67 26   			lda.l	_shop_prices + 2
         1E:D506  AC 68 26   			ldy.h	_shop_prices + 2
22531                        		__st.wmq	_bx
         1E:D509  85 FA      			sta.l	_bx
         1E:D50B  84 FB      			sty.h	_bx
22532                        		__st.umiq	4, _cl
         1E:D50D  A9 04      			lda.l	#4
         1E:D50F  85 FC      			sta	_cl
22533                        		__st.umiq	7, _dil
         1E:D511  A9 07      			lda.l	#7
         1E:D513  85 F0      			sta	_dil
22534                        		__st.umiq	20, _dih
         1E:D515  A9 14      			lda.l	#20
         1E:D517  85 F1      			sta	_dih
22535                        		__call		_put_number.4
         1E:D519  20 6D FF   			call	_put_number.4
22536                        	
22537                        		.dbg	line,	"include\init.c", 1242; put_number(shop_prices[2],4,12,20);
22538                        		__ld.wm		_shop_prices + 4
         1E:D51C  AD 69 26   			lda.l	_shop_prices + 4
         1E:D51F  AC 6A 26   			ldy.h	_shop_prices + 4
22539                        		__st.wmq	_bx
         1E:D522  85 FA      			sta.l	_bx
         1E:D524  84 FB      			sty.h	_bx
22540                        		__st.umiq	4, _cl
         1E:D526  A9 04      			lda.l	#4
         1E:D528  85 FC      			sta	_cl
22541                        		__st.umiq	12, _dil
         1E:D52A  A9 0C      			lda.l	#12
         1E:D52C  85 F0      			sta	_dil
22542                        		__st.umiq	20, _dih
         1E:D52E  A9 14      			lda.l	#20
         1E:D530  85 F1      			sta	_dih
22543                        		__call		_put_number.4
         1E:D532  20 6D FF   			call	_put_number.4
22544                        	
22545                        		.dbg	line,	"include\init.c", 1243; put_number(shop_prices[3],4,17,20);
22546                        		__ld.wm		_shop_prices + 6
         1E:D535  AD 6B 26   			lda.l	_shop_prices + 6
         1E:D538  AC 6C 26   			ldy.h	_shop_prices + 6
22547                        		__st.wmq	_bx
         1E:D53B  85 FA      			sta.l	_bx
         1E:D53D  84 FB      			sty.h	_bx
22548                        		__st.umiq	4, _cl
         1E:D53F  A9 04      			lda.l	#4
         1E:D541  85 FC      			sta	_cl
22549                        		__st.umiq	17, _dil
         1E:D543  A9 11      			lda.l	#17
         1E:D545  85 F0      			sta	_dil
22550                        		__st.umiq	20, _dih
         1E:D547  A9 14      			lda.l	#20
         1E:D549  85 F1      			sta	_dih
22551                        		__call		_put_number.4
         1E:D54B  20 6D FF   			call	_put_number.4
22552                        	
22553                        		.dbg	line,	"include\init.c", 1244; put_number(shop_prices[4],4,22,20);
22554                        		__ld.wm		_shop_prices + 8
         1E:D54E  AD 6D 26   			lda.l	_shop_prices + 8
         1E:D551  AC 6E 26   			ldy.h	_shop_prices + 8
22555                        		__st.wmq	_bx
         1E:D554  85 FA      			sta.l	_bx
         1E:D556  84 FB      			sty.h	_bx
22556                        		__st.umiq	4, _cl
         1E:D558  A9 04      			lda.l	#4
         1E:D55A  85 FC      			sta	_cl
22557                        		__st.umiq	22, _dil
         1E:D55C  A9 16      			lda.l	#22
         1E:D55E  85 F0      			sta	_dil
22558                        		__st.umiq	20, _dih
         1E:D560  A9 14      			lda.l	#20
         1E:D562  85 F1      			sta	_dih
22559                        		__call		_put_number.4
         1E:D564  20 6D FF   			call	_put_number.4
22560                        	
22561                        		.dbg	line,	"include\init.c", 1246; put_number(shop_prices[5],4,2,23);
22562                        		__ld.wm		_shop_prices + 10
         1E:D567  AD 6F 26   			lda.l	_shop_prices + 10
         1E:D56A  AC 70 26   			ldy.h	_shop_prices + 10
22563                        		__st.wmq	_bx
         1E:D56D  85 FA      			sta.l	_bx
         1E:D56F  84 FB      			sty.h	_bx
22564                        		__st.umiq	4, _cl
         1E:D571  A9 04      			lda.l	#4
         1E:D573  85 FC      			sta	_cl
22565                        		__st.umiq	2, _dil
         1E:D575  A9 02      			lda.l	#2
         1E:D577  85 F0      			sta	_dil
22566                        		__st.umiq	23, _dih
         1E:D579  A9 17      			lda.l	#23
         1E:D57B  85 F1      			sta	_dih
22567                        		__call		_put_number.4
         1E:D57D  20 6D FF   			call	_put_number.4
22568                        	
22569                        		.dbg	line,	"include\init.c", 1247; put_number(shop_prices[6],4,7,23);
22570                        		__ld.wm		_shop_prices + 12
         1E:D580  AD 71 26   			lda.l	_shop_prices + 12
         1E:D583  AC 72 26   			ldy.h	_shop_prices + 12
22571                        		__st.wmq	_bx
         1E:D586  85 FA      			sta.l	_bx
         1E:D588  84 FB      			sty.h	_bx
22572                        		__st.umiq	4, _cl
         1E:D58A  A9 04      			lda.l	#4
         1E:D58C  85 FC      			sta	_cl
22573                        		__st.umiq	7, _dil
         1E:D58E  A9 07      			lda.l	#7
         1E:D590  85 F0      			sta	_dil
22574                        		__st.umiq	23, _dih
         1E:D592  A9 17      			lda.l	#23
         1E:D594  85 F1      			sta	_dih
22575                        		__call		_put_number.4
         1E:D596  20 6D FF   			call	_put_number.4
22576                        	
22577                        		.dbg	line,	"include\init.c", 1248; put_number(shop_prices[7],4,12,23);
22578                        		__ld.wm		_shop_prices + 14
         1E:D599  AD 73 26   			lda.l	_shop_prices + 14
         1E:D59C  AC 74 26   			ldy.h	_shop_prices + 14
22579                        		__st.wmq	_bx
         1E:D59F  85 FA      			sta.l	_bx
         1E:D5A1  84 FB      			sty.h	_bx
22580                        		__st.umiq	4, _cl
         1E:D5A3  A9 04      			lda.l	#4
         1E:D5A5  85 FC      			sta	_cl
22581                        		__st.umiq	12, _dil
         1E:D5A7  A9 0C      			lda.l	#12
         1E:D5A9  85 F0      			sta	_dil
22582                        		__st.umiq	23, _dih
         1E:D5AB  A9 17      			lda.l	#23
         1E:D5AD  85 F1      			sta	_dih
22583                        		__call		_put_number.4
         1E:D5AF  20 6D FF   			call	_put_number.4
22584                        	
22585                        		.dbg	line,	"include\init.c", 1249; put_number(shop_prices[8],4,17,23);
22586                        		__ld.wm		_shop_prices + 16
         1E:D5B2  AD 75 26   			lda.l	_shop_prices + 16
         1E:D5B5  AC 76 26   			ldy.h	_shop_prices + 16
22587                        		__st.wmq	_bx
         1E:D5B8  85 FA      			sta.l	_bx
         1E:D5BA  84 FB      			sty.h	_bx
22588                        		__st.umiq	4, _cl
         1E:D5BC  A9 04      			lda.l	#4
         1E:D5BE  85 FC      			sta	_cl
22589                        		__st.umiq	17, _dil
         1E:D5C0  A9 11      			lda.l	#17
         1E:D5C2  85 F0      			sta	_dil
22590                        		__st.umiq	23, _dih
         1E:D5C4  A9 17      			lda.l	#23
         1E:D5C6  85 F1      			sta	_dih
22591                        		__call		_put_number.4
         1E:D5C8  20 6D FF   			call	_put_number.4
22592                        	
22593                        		.dbg	line,	"include\init.c", 1250; put_number(shop_prices[9],4,22,23);
22594                        		__ld.wm		_shop_prices + 18
         1E:D5CB  AD 77 26   			lda.l	_shop_prices + 18
         1E:D5CE  AC 78 26   			ldy.h	_shop_prices + 18
22595                        		__st.wmq	_bx
         1E:D5D1  85 FA      			sta.l	_bx
         1E:D5D3  84 FB      			sty.h	_bx
22596                        		__st.umiq	4, _cl
         1E:D5D5  A9 04      			lda.l	#4
         1E:D5D7  85 FC      			sta	_cl
22597                        		__st.umiq	22, _dil
         1E:D5D9  A9 16      			lda.l	#22
         1E:D5DB  85 F0      			sta	_dil
22598                        		__st.umiq	23, _dih
         1E:D5DD  A9 17      			lda.l	#23
         1E:D5DF  85 F1      			sta	_dih
22599                        		__call		_put_number.4
         1E:D5E1  20 6D FF   			call	_put_number.4
22600                        	
22601                        		.dbg	line,	"include\init.c", 1255; //--------------------------------------------------------------------------------------//
22602                        	
22603                        		.dbg	line,	"include\init.c", 1256; //                                   LOAD BG PALETTES                                   //
22604                        	
22605                        		.dbg	line,	"include\init.c", 1257; //--------------------------------------------------------------------------------------//
22606                        	
22607                        		.dbg	line,	"include\init.c", 1259; load_palette( 0, palette_SHOP, 16 );
22608                        		__st.umiq	0, _al
         1E:D5E4  64 F8      			stz	_al
22609                        		__farptr	_palette_SHOP, _bp_bank, _bp
         1E:D5E6  A9 E0      			lda.l	#$6000 + ($1FFF & (_palette_SHOP))
         1E:D5E8  85 EC      			sta.l	_bp
         1E:D5EA  A9 6D      			lda.h	#$6000 + ($1FFF & (_palette_SHOP))
         1E:D5EC  85 ED      			sta.h	_bp
         1E:D5EE  A9 12      			lda	#bank(_palette_SHOP)
         1E:D5F0  85 02      			sta	_bp_bank
22610                        		__st.umiq	16, _ah
         1E:D5F2  A9 10      			lda.l	#16
         1E:D5F4  85 F9      			sta	_ah
22611                        		__call		_load_palette.3
         1E:D5F6  20 8B FF   			call	_load_palette.3
22612                        	
22613                        		.dbg	line,	"include\init.c", 1264; //**************************************************************************************//
22614                        	
22615                        		.dbg	line,	"include\init.c", 1265; //                                                                                      //
22616                        	
22617                        		.dbg	line,	"include\init.c", 1266; //                                       SPRITES                                        //
22618                        	
22619                        		.dbg	line,	"include\init.c", 1267; //                                                                                      //
22620                        	
22621                        		.dbg	line,	"include\init.c", 1268; //**************************************************************************************//
22622                        	
22623                        		.dbg	line,	"include\init.c", 1270; //--------------------------------------------------------------------------------------//
22624                        	
22625                        		.dbg	line,	"include\init.c", 1271; //                                   HIDE ALL SPRITES                                   //
22626                        	
22627                        		.dbg	line,	"include\init.c", 1272; //--------------------------------------------------------------------------------------//
22628                        	
22629                        		.dbg	line,	"include\init.c", 1274; for(i=0 ; i<63 ; i++)
22630                        		__st.umiq	0, __init_SHOP_end - 1  /* i */
         1E:D5F9  9C 13 23   			stz	__init_SHOP_end - 1
22631    1E:D5FC             	.LL1066:
22632                        		__ld.umq	__init_SHOP_end - 1  /* i */
         1E:D5FC  AD 13 23   			lda	__init_SHOP_end - 1
22633                        		__ult_b.uiq	63
         1E:D5FF  C9 3F      			cmp	#63		; Subtract integer from A.
         1E:D601  6A         			ror	a		; CC if A < integer.
         1E:D602  49 80      			eor	#$80
         1E:D604  2A         			rol	a
22634                        		__btrue		.LL1068
         1E:D605  B0 07      			bcs	.LL1068
22635                        		__bra		.LL1069
         1E:D607  80 19      			bra	.LL1069
22636    1E:D609             	.LL1067:
22637                        		__inc.umq	__init_SHOP_end - 1  /* i */
         1E:D609  EE 13 23   			inc	__init_SHOP_end - 1
22638                        		__bra		.LL1066
         1E:D60C  80 EE      			bra	.LL1066
22639    1E:D60E             	.LL1068:
22640                        	
22641                        		.dbg	line,	"include\init.c", 1275; {
22642                        	
22643                        		.dbg	line,	"include\init.c", 1276; spr_set(i);
22644                        		__ld.umq	__init_SHOP_end - 1  /* i */
         1E:D60E  AD 13 23   			lda	__init_SHOP_end - 1
22645                        		__call		_spr_set.1
         1E:D611  20 F1 E7   			call	_spr_set.1
22646                        	
22647                        		.dbg	line,	"include\init.c", 1277; spr_hide();
22648                        		__call		_spr_hide
         1E:D614  20 0C E8   			call	_spr_hide
22649                        	
22650                        		.dbg	line,	"include\init.c", 1279; sgx_spr_set(i);
22651                        		__ld.umq	__init_SHOP_end - 1  /* i */
         1E:D617  AD 13 23   			lda	__init_SHOP_end - 1
22652                        		__call		_sgx_spr_set.1
         1E:D61A  20 9E E8   			call	_sgx_spr_set.1
22653                        	
22654                        		.dbg	line,	"include\init.c", 1280; sgx_spr_hide();
22655                        		__call		_sgx_spr_hide
         1E:D61D  20 B9 E8   			call	_sgx_spr_hide
22656                        	
22657                        		.dbg	line,	"include\init.c", 1281; }
22658                        		__bra		.LL1067
         1E:D620  80 E7      			bra	.LL1067
22659    1E:D622             	.LL1069:
22660                        	
22661                        		.dbg	line,	"include\init.c", 1283; //--------------------------------------------------------------------------------------//
22662                        	
22663                        		.dbg	line,	"include\init.c", 1284; //                                        CURSOR                                        //
22664                        	
22665                        		.dbg	line,	"include\init.c", 1285; //--------------------------------------------------------------------------------------//
22666                        	
22667                        		.dbg	line,	"include\init.c", 1287; // LOAD CURSOR TILES //
22668                        	
22669                        		.dbg	line,	"include\init.c", 1288; load_vram(0x2000, tiles_SPR_CURSOR , TILES_16);
22670                        		__st.wmiq	8192, _di
         1E:D622  64 F0      			stz.l	_di
         1E:D624  A9 20      			lda.h	#8192
         1E:D626  85 F1      			sta.h	_di
22671                        		__farptr	_tiles_SPR_CURSOR, _bp_bank, _bp
         1E:D628  A9 40      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_CURSOR))
         1E:D62A  85 EC      			sta.l	_bp
         1E:D62C  A9 6A      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_CURSOR))
         1E:D62E  85 ED      			sta.h	_bp
         1E:D630  A9 1B      			lda	#bank(_tiles_SPR_CURSOR)
         1E:D632  85 02      			sta	_bp_bank
22672                        		__st.wmiq	256, _ax
         1E:D634  64 F8      			stz.l	_ax
         1E:D636  A9 01      			lda.h	#256
         1E:D638  85 F9      			sta.h	_ax
22673                        		 _load_vram.3
         1E:D63A  82         			clx				; Offset to PCE VDC.
         1E:D63B  20 F5 FE   			call	load_vram_x
22674                        	
22675                        		.dbg	line,	"include\init.c", 1291; // SELECT CURSOR SPRITE //
22676                        	
22677                        		.dbg	line,	"include\init.c", 1292; spr_set(0);
22678                        		__ld.uiq	0
         1E:D63E  62         			cla
22679                        		__call		_spr_set.1
         1E:D63F  20 F1 E7   			call	_spr_set.1
22680                        	
22681                        		.dbg	line,	"include\init.c", 1293; spr_hide();
22682                        		__call		_spr_hide
         1E:D642  20 0C E8   			call	_spr_hide
22683                        	
22684                        		.dbg	line,	"include\init.c", 1296; //spr_x(24);
22685                        	
22686                        		.dbg	line,	"include\init.c", 1297; //spr_y(144);
22687                        	
22688                        		.dbg	line,	"include\init.c", 1299; // SET TILES DATA FOR THE CURSOR //
22689                        	
22690                        		.dbg	line,	"include\init.c", 1300; spr_pattern(0x2000);
22691                        		__ld.wi		8192
         1E:D645  62         			cla
         1E:D646  A0 20      			ldy.h	#8192
22692                        		__call		_spr_pattern.1
         1E:D648  20 3A E8   			call	_spr_pattern.1
22693                        	
22694                        		.dbg	line,	"include\init.c", 1303; spr_ctrl(FLIP_MAS|SIZE_MAS, NO_FLIP|SZ_32x32);
22695                        		__st.umiq	185, _al
         1E:D64B  A9 B9      			lda.l	#185
         1E:D64D  85 F8      			sta	_al
22696                        		__ld.uiq	17
         1E:D64F  A9 11      			lda	#17
22697                        		__call		_spr_ctrl.2
         1E:D651  20 50 E8   			call	_spr_ctrl.2
22698                        	
22699                        		.dbg	line,	"include\init.c", 1306; spr_pal(16);
22700                        		__ld.uiq	16
         1E:D654  A9 10      			lda	#16
22701                        		__call		_spr_pal.1
         1E:D656  20 61 E8   			call	_spr_pal.1
22702                        	
22703                        		.dbg	line,	"include\init.c", 1307; spr_pri(TRUE);
22704                        		__ld.uiq	1
         1E:D659  A9 01      			lda	#1
22705                        		__call		_spr_pri.1
         1E:D65B  20 70 E8   			call	_spr_pri.1
22706                        	
22707                        		.dbg	line,	"include\init.c", 1310; // UPDATE PCE SAT //
22708                        	
22709                        		.dbg	line,	"include\init.c", 1311; satb_update();
22710                        		__call		_satb_update
         1E:D65E  20 CD FE   			call	_satb_update
22711                        	
22712                        		.dbg	line,	"include\init.c", 1312; sgx_satb_update();
22713                        		__call		_sgx_satb_update
         1E:D661  20 FF FE   			call	_sgx_satb_update
22714                        	
22715                        		.dbg	line,	"include\init.c", 1316; //--------------------------------------------------------------------------------------//
22716                        	
22717                        		.dbg	line,	"include\init.c", 1317; //                                LOAD SPRITES PALETTES                                 //
22718                        	
22719                        		.dbg	line,	"include\init.c", 1318; //--------------------------------------------------------------------------------------//
22720                        	
22721                        		.dbg	line,	"include\init.c", 1320; load_palette( 16, palette_objects_2, 1 );
22722                        		__st.umiq	16, _al
         1E:D664  A9 10      			lda.l	#16
         1E:D666  85 F8      			sta	_al
22723                        		__farptr	_palette_objects_2, _bp_bank, _bp
         1E:D668  A9 40      			lda.l	#$6000 + ($1FFF & (_palette_objects_2))
         1E:D66A  85 EC      			sta.l	_bp
         1E:D66C  A9 7C      			lda.h	#$6000 + ($1FFF & (_palette_objects_2))
         1E:D66E  85 ED      			sta.h	_bp
         1E:D670  A9 1A      			lda	#bank(_palette_objects_2)
         1E:D672  85 02      			sta	_bp_bank
22724                        		__st.umiq	1, _ah
         1E:D674  A9 01      			lda.l	#1
         1E:D676  85 F9      			sta	_ah
22725                        		__call		_load_palette.3
         1E:D678  20 8B FF   			call	_load_palette.3
22726                        	
22727                        		.dbg	line,	"include\init.c", 1324; // VSYNC //
22728                        	
22729                        		.dbg	line,	"include\init.c", 1325; vsync();
22730                        		__call		_vsync
         1E:D67B  20 1D E3   			call	_vsync
22731                        	
22732                        		.dbg	line,	"include\init.c", 1327; // ENABLE DISPLAY //
22733                        	
22734                        		.dbg	line,	"include\init.c", 1328; disp_on();
22735                        		__call		_disp_on
         1E:D67E  20 2A E4   			call	_disp_on
22736                        	
22737                        		.dbg	line,	"include\init.c", 1329; }
22738    1E:D681             	.LL1060:
22739                        		__return	0
         1E:D681  4C EF FF   			jmp	leave_proc
22740                        		.dbg	clear
22741                        		.endp
22742               2312     		.bss
22743    F8:2312             			ds	2
22744    F8:2314             	__init_SHOP_end:
22745               E31D     		.code
22746                        		.pceas
22747                        	
22748                        		.dbg	line,	"Black_Tiger.c", 36; main()
22749                        		.dbg	line,	"Black_Tiger.c", 37; {
22750                        	;***********************
22751                        	;***********************
22752                        	
22753                        		.hucc
22754    1F:C000             		.proc		_main
22755                        		__enter		_main
22756                        	
22757                        		.dbg	line,	"Black_Tiger.c", 38; if(!sgx_detect())
22758                        		 _sgx_detect
         1F:C000  AD E8 22   			lda	sgx_detected
         1F:C003  C2         			cly
22759                        		__not.wr
         1F:C004  84 00      			sty	__temp
         1F:C006  05 00      			ora	__temp
         1F:C008  18         			clc
         1F:C009  D0 01      			bne	!+
         1F:C00B  38         			sec
         1F:C00C             	!:
22760                        		__bfalse	.LL1071
         1F:C00C  90 15      			bcc	.LL1071
22761                        	
22762                        		.dbg	line,	"Black_Tiger.c", 39; {
22763                        	
22764                        		.dbg	line,	"Black_Tiger.c", 40; put_string("Halt: SGX hardware not found", 2, 13);
22765                        		__ld.wi		__const1+70
         1F:C00E  A9 46      			lda.l	#__const1+70
         1F:C010  A0 60      			ldy.h	#__const1+70
22766                        		__st.wmq	_bp
         1F:C012  85 EC      			sta.l	_bp
         1F:C014  84 ED      			sty.h	_bp
22767                        		__st.umiq	2, _dil
         1F:C016  A9 02      			lda.l	#2
         1F:C018  85 F0      			sta	_dil
22768                        		__st.umiq	13, _dih
         1F:C01A  A9 0D      			lda.l	#13
         1F:C01C  85 F1      			sta	_dih
22769                        		__call		_put_string.3
         1F:C01E  20 5F E6   			call	_put_string.3
22770                        	
22771                        		.dbg	line,	"Black_Tiger.c", 42; for(;;)
22772    1F:C021             	.LL1072	.alias		.LL1074
22773    1F:C021             	.LL1073	.alias		.LL1074
22774    1F:C021             	.LL1074:
22775                        	
22776                        		.dbg	line,	"Black_Tiger.c", 43; {
22777                        	
22778                        		.dbg	line,	"Black_Tiger.c", 44; // INFINITE LOOP //
22779                        	
22780                        		.dbg	line,	"Black_Tiger.c", 45; }
22781                        		__bra		.LL1074
         1F:C021  80 FE      			bra	.LL1074
22782    1F:C023             	.LL1075:
22783                        	
22784                        		.dbg	line,	"Black_Tiger.c", 46; }
22785                        	
22786                        		.dbg	line,	"Black_Tiger.c", 51; init_SYSTEM();
22787    1F:C023             	.LL1071:
22788                        		__call		_init_SYSTEM
         1F:C023  20 2D FE   			call	_init_SYSTEM
22789                        	
22790                        		.dbg	line,	"Black_Tiger.c", 52; 
22791                        	
22792                        		.dbg	line,	"Black_Tiger.c", 53; 
22793                        	
22794                        		.dbg	line,	"Black_Tiger.c", 54; init_VARIABLES();
22795                        		__call		_init_VARIABLES
         1F:C026  20 23 FE   			call	_init_VARIABLES
22796                        	
22797                        		.dbg	line,	"Black_Tiger.c", 57; init_PLAYER();
22798                        		__call		_init_PLAYER
         1F:C029  20 19 FE   			call	_init_PLAYER
22799                        	
22800                        		.dbg	line,	"Black_Tiger.c", 62; //**************************************************************************************//
22801                        	
22802                        		.dbg	line,	"Black_Tiger.c", 63; //                                                                                      //
22803                        	
22804                        		.dbg	line,	"Black_Tiger.c", 64; //                                         MAIN                                         //
22805                        	
22806                        		.dbg	line,	"Black_Tiger.c", 65; //                                                                                      //
22807                        	
22808                        		.dbg	line,	"Black_Tiger.c", 66; //**************************************************************************************//
22809                        	
22810                        		.dbg	line,	"Black_Tiger.c", 67; for(;;)
22811    1F:C02C             	.LL1076:
22812    1F:C02C             	.LL1077:
22813    1F:C02C             	.LL1078:
22814                        	
22815                        		.dbg	line,	"Black_Tiger.c", 68; {
22816                        	
22817                        		.dbg	line,	"Black_Tiger.c", 69; switch(sequence_id)
22818                        		__ld.umq	_sequence_id
         1F:C02C  AD 14 23   			lda	_sequence_id
22819                        		__bra		.LL1080
         1F:C02F  4C 71 C2   			bra	.LL1080
22820                        	
22821                        		.dbg	line,	"Black_Tiger.c", 70; {
22822                        	
22823                        		.dbg	line,	"Black_Tiger.c", 71; //-----------------------------------------------------------------------------//
22824                        	
22825                        		.dbg	line,	"Black_Tiger.c", 72; //                                    TITLE                                    //
22826                        	
22827                        		.dbg	line,	"Black_Tiger.c", 73; //-----------------------------------------------------------------------------//
22828                        	
22829                        		.dbg	line,	"Black_Tiger.c", 74; case SEQUENCE_TITLE:
22830    1F:C032             	.LL1082:
22831                        		__case		0
22832                        	
22833                        		.dbg	line,	"Black_Tiger.c", 75; if(sequence_loaded == FALSE)
22834                        		__not.um	_sequence_loaded
         1F:C032  AD 15 23   			lda	_sequence_loaded
         1F:C035  18         			clc
         1F:C036  D0 01      			bne	!+
         1F:C038  38         			sec
         1F:C039             	!:
22835                        		__bfalse	.LL1083
         1F:C039  90 0A      			bcc	.LL1083
22836                        	
22837                        		.dbg	line,	"Black_Tiger.c", 76; {
22838                        	
22839                        		.dbg	line,	"Black_Tiger.c", 77; init_TITLE();
22840                        		__call		_init_TITLE
         1F:C03B  20 0F FE   			call	_init_TITLE
22841                        	
22842                        		.dbg	line,	"Black_Tiger.c", 79; sequence_loaded = TRUE;
22843                        		__st.umiq	1, _sequence_loaded
         1F:C03E  A9 01      			lda.l	#1
         1F:C040  8D 15 23   			sta	_sequence_loaded
22844                        	
22845                        		.dbg	line,	"Black_Tiger.c", 80; }
22846                        	
22847                        		.dbg	line,	"Black_Tiger.c", 82; else
22848                        		__bra		.LL1084
         1F:C043  80 E7      			bra	.LL1084
22849    1F:C045             	.LL1083:
22850                        	
22851                        		.dbg	line,	"Black_Tiger.c", 83; {
22852                        	
22853                        		.dbg	line,	"Black_Tiger.c", 84; vsync();
22854                        		__call		_vsync
         1F:C045  20 1D E3   			call	_vsync
22855                        	
22856                        		.dbg	line,	"Black_Tiger.c", 86; joypad_BUTTONS_TITLE();
22857                        		__call		_joypad_BUTTONS_TITLE
         1F:C048  20 05 FE   			call	_joypad_BUTTONS_TITLE
22858                        	
22859                        		.dbg	line,	"Black_Tiger.c", 87; 
22860                        	
22861                        		.dbg	line,	"Black_Tiger.c", 88; satb_update();
22862                        		__call		_satb_update
         1F:C04B  20 CD FE   			call	_satb_update
22863                        	
22864                        		.dbg	line,	"Black_Tiger.c", 89; }
22865    1F:C04E             	.LL1084	.alias		.LL1081
22866                        	
22867                        		.dbg	line,	"Black_Tiger.c", 91; break;
22868                        		__bra		.LL1081
         1F:C04E  80 DC      			bra	.LL1081
22869                        	
22870                        		.dbg	line,	"Black_Tiger.c", 94; //-----------------------------------------------------------------------------//
22871                        	
22872                        		.dbg	line,	"Black_Tiger.c", 95; //                                    INTRO                                    //
22873                        	
22874                        		.dbg	line,	"Black_Tiger.c", 96; //-----------------------------------------------------------------------------//
22875                        	
22876                        		.dbg	line,	"Black_Tiger.c", 97; case SEQUENCE_INTRO:
22877    1F:C050             	.LL1085:
22878                        		__case		1
22879                        	
22880                        		.dbg	line,	"Black_Tiger.c", 98; if(sequence_loaded == FALSE)
22881                        		__not.um	_sequence_loaded
         1F:C050  AD 15 23   			lda	_sequence_loaded
         1F:C053  18         			clc
         1F:C054  D0 01      			bne	!+
         1F:C056  38         			sec
         1F:C057             	!:
22882                        		__bfalse	.LL1086
         1F:C057  90 0A      			bcc	.LL1086
22883                        	
22884                        		.dbg	line,	"Black_Tiger.c", 99; {
22885                        	
22886                        		.dbg	line,	"Black_Tiger.c", 100; init_INTRO();
22887                        		__call		_init_INTRO
         1F:C059  20 FB FD   			call	_init_INTRO
22888                        	
22889                        		.dbg	line,	"Black_Tiger.c", 102; sequence_loaded = TRUE;
22890                        		__st.umiq	1, _sequence_loaded
         1F:C05C  A9 01      			lda.l	#1
         1F:C05E  8D 15 23   			sta	_sequence_loaded
22891                        	
22892                        		.dbg	line,	"Black_Tiger.c", 103; }
22893                        	
22894                        		.dbg	line,	"Black_Tiger.c", 105; else
22895                        		__bra		.LL1087
         1F:C061  80 C9      			bra	.LL1087
22896    1F:C063             	.LL1086:
22897                        	
22898                        		.dbg	line,	"Black_Tiger.c", 106; {
22899                        	
22900                        		.dbg	line,	"Black_Tiger.c", 107; vsync();
22901                        		__call		_vsync
         1F:C063  20 1D E3   			call	_vsync
22902                        	
22903                        		.dbg	line,	"Black_Tiger.c", 109; //put_number(vdc_map_pxl_x,3,0,0);
22904                        	
22905                        		.dbg	line,	"Black_Tiger.c", 110; sequence_INTRO();
22906                        		__call		_sequence_INTRO
         1F:C066  20 F1 FD   			call	_sequence_INTRO
22907                        	
22908                        		.dbg	line,	"Black_Tiger.c", 111; 
22909                        	
22910                        		.dbg	line,	"Black_Tiger.c", 112; joypad_BUTTONS_INTRO();
22911                        		__call		_joypad_BUTTONS_INTRO
         1F:C069  20 E7 FD   			call	_joypad_BUTTONS_INTRO
22912                        	
22913                        		.dbg	line,	"Black_Tiger.c", 114; sgx_satb_update();
22914                        		__call		_sgx_satb_update
         1F:C06C  20 FF FE   			call	_sgx_satb_update
22915                        	
22916                        		.dbg	line,	"Black_Tiger.c", 115; }
22917    1F:C06F             	.LL1087	.alias		.LL1081
22918                        	
22919                        		.dbg	line,	"Black_Tiger.c", 117; break;
22920                        		__bra		.LL1081
         1F:C06F  80 BB      			bra	.LL1081
22921                        	
22922                        		.dbg	line,	"Black_Tiger.c", 120; //-----------------------------------------------------------------------------//
22923                        	
22924                        		.dbg	line,	"Black_Tiger.c", 121; //                                    LEVEL                                    //
22925                        	
22926                        		.dbg	line,	"Black_Tiger.c", 122; //-----------------------------------------------------------------------------//
22927                        	
22928                        		.dbg	line,	"Black_Tiger.c", 123; case SEQUENCE_LEVEL:
22929    1F:C071             	.LL1088:
22930                        		__case		2
22931                        	
22932                        		.dbg	line,	"Black_Tiger.c", 124; switch(level_id)
22933                        		__ld.umq	_level_id
         1F:C071  AD 16 23   			lda	_level_id
22934                        		__bra		.LL1089
         1F:C074  4C 3C C1   			bra	.LL1089
22935                        	
22936                        		.dbg	line,	"Black_Tiger.c", 125; {
22937                        	
22938                        		.dbg	line,	"Black_Tiger.c", 126; case 1:
22939    1F:C077             	.LL1091:
22940                        		__case		1
22941                        	
22942                        		.dbg	line,	"Black_Tiger.c", 127; if(sequence_loaded == FALSE)
22943                        		__not.um	_sequence_loaded
         1F:C077  AD 15 23   			lda	_sequence_loaded
         1F:C07A  18         			clc
         1F:C07B  D0 01      			bne	!+
         1F:C07D  38         			sec
         1F:C07E             	!:
22944                        		__bfalse	.LL1092
         1F:C07E  90 0A      			bcc	.LL1092
22945                        	
22946                        		.dbg	line,	"Black_Tiger.c", 128; {
22947                        	
22948                        		.dbg	line,	"Black_Tiger.c", 129; init_LEVEL();
22949                        		__call		_init_LEVEL
         1F:C080  20 DD FD   			call	_init_LEVEL
22950                        	
22951                        		.dbg	line,	"Black_Tiger.c", 131; sequence_loaded = TRUE;
22952                        		__st.umiq	1, _sequence_loaded
         1F:C083  A9 01      			lda.l	#1
         1F:C085  8D 15 23   			sta	_sequence_loaded
22953                        	
22954                        		.dbg	line,	"Black_Tiger.c", 132; }
22955                        	
22956                        		.dbg	line,	"Black_Tiger.c", 134; else
22957                        		__bra		.LL1093
         1F:C088  80 A2      			bra	.LL1093
22958    1F:C08A             	.LL1092:
22959                        	
22960                        		.dbg	line,	"Black_Tiger.c", 135; {
22961                        	
22962                        		.dbg	line,	"Black_Tiger.c", 136; //
22963                        	
22964                        		.dbg	line,	"Black_Tiger.c", 137; while(display_level_text == TRUE)
22965    1F:C08A             	.LL1094:
22966                        		__ld.umq	_display_level_text
         1F:C08A  AD 17 23   			lda	_display_level_text
22967                        		__equ_b.uiq	1
         1F:C08D  C9 01      			cmp	#1
         1F:C08F  F0 01      			beq	!+
         1F:C091  18         			clc
         1F:C092             	!:
22968                        		__bfalse	.LL1095
         1F:C092  90 60      			bcc	.LL1095
22969                        	
22970                        		.dbg	line,	"Black_Tiger.c", 138; {
22971                        	
22972                        		.dbg	line,	"Black_Tiger.c", 139; vsync();
22973                        		__call		_vsync
         1F:C094  20 1D E3   			call	_vsync
22974                        	
22975                        		.dbg	line,	"Black_Tiger.c", 140; 
22976                        	
22977                        		.dbg	line,	"Black_Tiger.c", 141; global_counter += 1;
22978                        		__add_st.wmiq	1, _global_counter
         1F:C097  EE 5B 26   			inc.l	_global_counter
         1F:C09A  D0 03      			bne	!+
         1F:C09C  EE 5C 26   			inc.h	_global_counter
         1F:C09F             	!:
22979                        	
22980                        		.dbg	line,	"Black_Tiger.c", 143; if(global_counter == 120)
22981                        		__ld.wm		_global_counter
         1F:C09F  AD 5B 26   			lda.l	_global_counter
         1F:C0A2  AC 5C 26   			ldy.h	_global_counter
22982                        		__equ_w.wi	120
         1F:C0A5  C9 78      			cmp.l	#120
         1F:C0A7  D0 04      			bne	!false+
         1F:C0A9  C0 00      			cpy.h	#120
         1F:C0AB  F0 01      			beq	!+
         1F:C0AD  18         	!false:		clc
         1F:C0AE             	!:
22983                        		__bfalse	.LL1096
         1F:C0AE  90 DA      			bcc	.LL1096
22984                        	
22985                        		.dbg	line,	"Black_Tiger.c", 144; {
22986                        	
22987                        		.dbg	line,	"Black_Tiger.c", 145; put_string("       ",13, 8);
22988                        		__ld.wi		__const1+99
         1F:C0B0  A9 63      			lda.l	#__const1+99
         1F:C0B2  A0 60      			ldy.h	#__const1+99
22989                        		__st.wmq	_bp
         1F:C0B4  85 EC      			sta.l	_bp
         1F:C0B6  84 ED      			sty.h	_bp
22990                        		__st.umiq	13, _dil
         1F:C0B8  A9 0D      			lda.l	#13
         1F:C0BA  85 F0      			sta	_dil
22991                        		__st.umiq	8, _dih
         1F:C0BC  A9 08      			lda.l	#8
         1F:C0BE  85 F1      			sta	_dih
22992                        		__call		_put_string.3
         1F:C0C0  20 5F E6   			call	_put_string.3
22993                        	
22994                        		.dbg	line,	"Black_Tiger.c", 146; put_string("              ",10,13);
22995                        		__ld.wi		__const1+107
         1F:C0C3  A9 6B      			lda.l	#__const1+107
         1F:C0C5  A0 60      			ldy.h	#__const1+107
22996                        		__st.wmq	_bp
         1F:C0C7  85 EC      			sta.l	_bp
         1F:C0C9  84 ED      			sty.h	_bp
22997                        		__st.umiq	10, _dil
         1F:C0CB  A9 0A      			lda.l	#10
         1F:C0CD  85 F0      			sta	_dil
22998                        		__st.umiq	13, _dih
         1F:C0CF  A9 0D      			lda.l	#13
         1F:C0D1  85 F1      			sta	_dih
22999                        		__call		_put_string.3
         1F:C0D3  20 5F E6   			call	_put_string.3
23000                        	
23001                        		.dbg	line,	"Black_Tiger.c", 147; put_string("            ",11,15);
23002                        		__ld.wi		__const1+122
         1F:C0D6  A9 7A      			lda.l	#__const1+122
         1F:C0D8  A0 60      			ldy.h	#__const1+122
23003                        		__st.wmq	_bp
         1F:C0DA  85 EC      			sta.l	_bp
         1F:C0DC  84 ED      			sty.h	_bp
23004                        		__st.umiq	11, _dil
         1F:C0DE  A9 0B      			lda.l	#11
         1F:C0E0  85 F0      			sta	_dil
23005                        		__st.umiq	15, _dih
         1F:C0E2  A9 0F      			lda.l	#15
         1F:C0E4  85 F1      			sta	_dih
23006                        		__call		_put_string.3
         1F:C0E6  20 5F E6   			call	_put_string.3
23007                        	
23008                        		.dbg	line,	"Black_Tiger.c", 148; 
23009                        	
23010                        		.dbg	line,	"Black_Tiger.c", 149; global_counter = 0;
23011                        		__st.wmiq	0, _global_counter
         1F:C0E9  9C 5B 26   			stz.l	_global_counter
         1F:C0EC  9C 5C 26   			stz.h	_global_counter
23012                        	
23013                        		.dbg	line,	"Black_Tiger.c", 151; display_level_text = FALSE;
23014                        		__st.umiq	0, _display_level_text
         1F:C0EF  9C 17 23   			stz	_display_level_text
23015                        	
23016                        		.dbg	line,	"Black_Tiger.c", 152; }
23017                        	
23018                        		.dbg	line,	"Black_Tiger.c", 153; }
23019    1F:C0F2             	.LL1096	.alias		.LL1094
23020                        		__bra		.LL1094
         1F:C0F2  80 96      			bra	.LL1094
23021    1F:C0F4             	.LL1095:
23022                        	
23023                        		.dbg	line,	"Black_Tiger.c", 155; vsync();
23024                        		__call		_vsync
         1F:C0F4  20 1D E3   			call	_vsync
23025                        	
23026                        		.dbg	line,	"Black_Tiger.c", 157; update_PLAYER();
23027                        		__call		_update_PLAYER
         1F:C0F7  20 D3 FD   			call	_update_PLAYER
23028                        	
23029                        		.dbg	line,	"Black_Tiger.c", 158; update_WEAPON();
23030                        		__call		_update_WEAPON
         1F:C0FA  20 C9 FD   			call	_update_WEAPON
23031                        	
23032                        		.dbg	line,	"Black_Tiger.c", 159; //put_number(player_state,2,0,6);
23033                        	
23034                        		.dbg	line,	"Black_Tiger.c", 160; //put_number(player_counter_attack,2,0,7);
23035                        	
23036                        		.dbg	line,	"Black_Tiger.c", 161; //put_number(player_index_jump,2,0,8);
23037                        	
23038                        		.dbg	line,	"Black_Tiger.c", 163; 
23039                        	
23040                        		.dbg	line,	"Black_Tiger.c", 164; scroll_object();
23041                        		__call		_scroll_object
         1F:C0FD  20 7D FE   			call	_scroll_object
23042                        	
23043                        		.dbg	line,	"Black_Tiger.c", 165; scroll_chest();
23044                        		__call		_scroll_chest
         1F:C100  20 5F FE   			call	_scroll_chest
23045                        	
23046                        		.dbg	line,	"Black_Tiger.c", 166; scroll_npc();
23047                        		__call		_scroll_npc
         1F:C103  20 BF FD   			call	_scroll_npc
23048                        	
23049                        		.dbg	line,	"Black_Tiger.c", 168; collision_PLAYER_OBJECT();
23050                        		__call		_collision_PLAYER_OBJECT
         1F:C106  20 B5 FD   			call	_collision_PLAYER_OBJECT
23051                        	
23052                        		.dbg	line,	"Black_Tiger.c", 169; collision_PLAYER_NPC();
23053                        		__call		_collision_PLAYER_NPC
         1F:C109  20 AB FD   			call	_collision_PLAYER_NPC
23054                        	
23055                        		.dbg	line,	"Black_Tiger.c", 171; anim_OBJECTS();
23056                        		__call		_anim_OBJECTS
         1F:C10C  20 A1 FD   			call	_anim_OBJECTS
23057                        	
23058                        		.dbg	line,	"Black_Tiger.c", 173; display_TIME_LEVEL();
23059                        		__call		_display_TIME_LEVEL
         1F:C10F  20 09 FF   			call	_display_TIME_LEVEL
23060                        	
23061                        		.dbg	line,	"Black_Tiger.c", 175; satb_update();
23062                        		__call		_satb_update
         1F:C112  20 CD FE   			call	_satb_update
23063                        	
23064                        		.dbg	line,	"Black_Tiger.c", 176; sgx_satb_update();
23065                        		__call		_sgx_satb_update
         1F:C115  20 FF FE   			call	_sgx_satb_update
23066                        	
23067                        		.dbg	line,	"Black_Tiger.c", 178; scroll_BG();
23068                        		__call		_scroll_BG
         1F:C118  20 97 FD   			call	_scroll_BG
23069                        	
23070                        		.dbg	line,	"Black_Tiger.c", 180; joypad_DIR();
23071                        		__call		_joypad_DIR
         1F:C11B  20 8D FD   			call	_joypad_DIR
23072                        	
23073                        		.dbg	line,	"Black_Tiger.c", 181; joypad_BUTTONS();
23074                        		__call		_joypad_BUTTONS
         1F:C11E  20 83 FD   			call	_joypad_BUTTONS
23075                        	
23076                        		.dbg	line,	"Black_Tiger.c", 182; }
23077    1F:C121             	.LL1093	.alias		.LL1090
23078                        	
23079                        		.dbg	line,	"Black_Tiger.c", 184; break;
23080                        		__bra		.LL1090
         1F:C121  4C 2C C0   			bra	.LL1090
23081                        	
23082                        		.dbg	line,	"Black_Tiger.c", 187; case 2:
23083    1F:C124             	.LL1097:
23084                        		__case		2
23085                        	
23086                        		.dbg	line,	"Black_Tiger.c", 188; vsync();
23087                        		__call		_vsync
         1F:C124  20 1D E3   			call	_vsync
23088                        	
23089                        		.dbg	line,	"Black_Tiger.c", 189; break;
23090                        		__bra		.LL1090
         1F:C127  4C 2C C0   			bra	.LL1090
23091                        	
23092                        		.dbg	line,	"Black_Tiger.c", 192; case 3:
23093    1F:C12A             	.LL1098:
23094                        		__case		3
23095                        	
23096                        		.dbg	line,	"Black_Tiger.c", 193; vsync();
23097                        		__call		_vsync
         1F:C12A  20 1D E3   			call	_vsync
23098                        	
23099                        		.dbg	line,	"Black_Tiger.c", 194; break;
23100                        		__bra		.LL1090
         1F:C12D  4C 2C C0   			bra	.LL1090
23101                        	
23102                        		.dbg	line,	"Black_Tiger.c", 197; case 4:
23103    1F:C130             	.LL1099:
23104                        		__case		4
23105                        	
23106                        		.dbg	line,	"Black_Tiger.c", 198; vsync();
23107                        		__call		_vsync
         1F:C130  20 1D E3   			call	_vsync
23108                        	
23109                        		.dbg	line,	"Black_Tiger.c", 199; break;
23110                        		__bra		.LL1090
         1F:C133  4C 2C C0   			bra	.LL1090
23111                        	
23112                        		.dbg	line,	"Black_Tiger.c", 202; case 5:
23113    1F:C136             	.LL1100:
23114                        		__case		5
23115                        	
23116                        		.dbg	line,	"Black_Tiger.c", 203; vsync();
23117                        		__call		_vsync
         1F:C136  20 1D E3   			call	_vsync
23118                        	
23119                        		.dbg	line,	"Black_Tiger.c", 204; break;
23120                        		__bra		.LL1090
         1F:C139  4C 2C C0   			bra	.LL1090
23121                        	
23122                        		.dbg	line,	"Black_Tiger.c", 206; }
23123    1F:C13C             	.LL1089:
23124                        		__switch_r.ur	0, 5
         1F:C13C  C9 06      			cmp	#(5 - 0) + 1
         1F:C13E  90 02      			bcc	!found+
         1F:C140  A9 06      	!default:	lda	#(5 - 0) + 1
         1F:C142  0A         	!found:		asl	a
         1F:C143  AA         			tax
         1F:C144  7C 47 C1   			jmp	[!table+, x]
23125                        	
23126    1F:C147  2C C0      	!table:		dw	.LL1090, .LL1091, .LL1097, .LL1098, .LL1099, .LL1100
         1F:C149  77 C0       
         1F:C14B  24 C1       
         1F:C14D  2A C1       
         1F:C14F  30 C1       
         1F:C151  36 C1       
23127    1F:C153  2C C0      			dw	.LL1090
23128    1F:C155             	.LL1090	.alias		.LL1081
23129                        	
23130                        		.dbg	line,	"Black_Tiger.c", 208; break;
23131                        		__bra		.LL1081
         1F:C155  4C 2C C0   			bra	.LL1081
23132                        	
23133                        		.dbg	line,	"Black_Tiger.c", 211; //-----------------------------------------------------------------------------//
23134                        	
23135                        		.dbg	line,	"Black_Tiger.c", 212; //                                     NPC                                     //
23136                        	
23137                        		.dbg	line,	"Black_Tiger.c", 213; //-----------------------------------------------------------------------------//
23138                        	
23139                        		.dbg	line,	"Black_Tiger.c", 214; case SEQUENCE_NPC:
23140    1F:C158             	.LL1101:
23141                        		__case		3
23142                        	
23143                        		.dbg	line,	"Black_Tiger.c", 215; vsync();
23144                        		__call		_vsync
         1F:C158  20 1D E3   			call	_vsync
23145                        	
23146                        		.dbg	line,	"Black_Tiger.c", 216; sequence_NPC();
23147                        		__call		_sequence_NPC
         1F:C15B  20 79 FD   			call	_sequence_NPC
23148                        	
23149                        		.dbg	line,	"Black_Tiger.c", 217; break;
23150                        		__bra		.LL1081
         1F:C15E  4C 2C C0   			bra	.LL1081
23151                        	
23152                        		.dbg	line,	"Black_Tiger.c", 220; //-----------------------------------------------------------------------------//
23153                        	
23154                        		.dbg	line,	"Black_Tiger.c", 221; //                                    SHOP                                     //
23155                        	
23156                        		.dbg	line,	"Black_Tiger.c", 222; //-----------------------------------------------------------------------------//
23157                        	
23158                        		.dbg	line,	"Black_Tiger.c", 223; case SEQUENCE_SHOP:
23159    1F:C161             	.LL1102:
23160                        		__case		4
23161                        	
23162                        		.dbg	line,	"Black_Tiger.c", 224; if(sequence_loaded == FALSE)
23163                        		__not.um	_sequence_loaded
         1F:C161  AD 15 23   			lda	_sequence_loaded
         1F:C164  18         			clc
         1F:C165  D0 01      			bne	!+
         1F:C167  38         			sec
         1F:C168             	!:
23164                        		__bfalse	.LL1103
         1F:C168  90 0B      			bcc	.LL1103
23165                        	
23166                        		.dbg	line,	"Black_Tiger.c", 225; {
23167                        	
23168                        		.dbg	line,	"Black_Tiger.c", 226; init_SHOP();
23169                        		__call		_init_SHOP
         1F:C16A  20 6F FD   			call	_init_SHOP
23170                        	
23171                        		.dbg	line,	"Black_Tiger.c", 228; sequence_loaded = TRUE;
23172                        		__st.umiq	1, _sequence_loaded
         1F:C16D  A9 01      			lda.l	#1
         1F:C16F  8D 15 23   			sta	_sequence_loaded
23173                        	
23174                        		.dbg	line,	"Black_Tiger.c", 229; }
23175                        	
23176                        		.dbg	line,	"Black_Tiger.c", 230; 
23177                        	
23178                        		.dbg	line,	"Black_Tiger.c", 231; else
23179                        		__bra		.LL1104
         1F:C172  4C 2C C0   			bra	.LL1104
23180    1F:C175             	.LL1103:
23181                        	
23182                        		.dbg	line,	"Black_Tiger.c", 232; {
23183                        	
23184                        		.dbg	line,	"Black_Tiger.c", 233; switch(shop_phase)
23185                        		__ld.umq	_shop_phase
         1F:C175  AD FE 23   			lda	_shop_phase
23186                        		__bra		.LL1105
         1F:C178  4C 5B C2   			bra	.LL1105
23187                        	
23188                        		.dbg	line,	"Black_Tiger.c", 234; {
23189                        	
23190                        		.dbg	line,	"Black_Tiger.c", 235; case SHOP_PHASE_ENTER:
23191    1F:C17B             	.LL1107:
23192                        		__case		0
23193                        	
23194                        		.dbg	line,	"Black_Tiger.c", 236; vsync();
23195                        		__call		_vsync
         1F:C17B  20 1D E3   			call	_vsync
23196                        	
23197                        		.dbg	line,	"Black_Tiger.c", 238; if(shop_counter == 0)
23198                        		__not.um	_shop_counter
         1F:C17E  AD FF 23   			lda	_shop_counter
         1F:C181  18         			clc
         1F:C182  D0 01      			bne	!+
         1F:C184  38         			sec
         1F:C185             	!:
23199                        		__bfalse	.LL1108
         1F:C185  90 28      			bcc	.LL1108
23200                        	
23201                        		.dbg	line,	"Black_Tiger.c", 239; {
23202                        	
23203                        		.dbg	line,	"Black_Tiger.c", 240; put_string("Maybe, i can sell you" ,  2 , 15);
23204                        		__ld.wi		__const1+135
         1F:C187  A9 87      			lda.l	#__const1+135
         1F:C189  A0 60      			ldy.h	#__const1+135
23205                        		__st.wmq	_bp
         1F:C18B  85 EC      			sta.l	_bp
         1F:C18D  84 ED      			sty.h	_bp
23206                        		__st.umiq	2, _dil
         1F:C18F  A9 02      			lda.l	#2
         1F:C191  85 F0      			sta	_dil
23207                        		__st.umiq	15, _dih
         1F:C193  A9 0F      			lda.l	#15
         1F:C195  85 F1      			sta	_dih
23208                        		__call		_put_string.3
         1F:C197  20 5F E6   			call	_put_string.3
23209                        	
23210                        		.dbg	line,	"Black_Tiger.c", 241; put_string("something..." , 18 , 16);
23211                        		__ld.wi		__const1+157
         1F:C19A  A9 9D      			lda.l	#__const1+157
         1F:C19C  A0 60      			ldy.h	#__const1+157
23212                        		__st.wmq	_bp
         1F:C19E  85 EC      			sta.l	_bp
         1F:C1A0  84 ED      			sty.h	_bp
23213                        		__st.umiq	18, _dil
         1F:C1A2  A9 12      			lda.l	#18
         1F:C1A4  85 F0      			sta	_dil
23214                        		__st.umiq	16, _dih
         1F:C1A6  A9 10      			lda.l	#16
         1F:C1A8  85 F1      			sta	_dih
23215                        		__call		_put_string.3
         1F:C1AA  20 5F E6   			call	_put_string.3
23216                        	
23217                        		.dbg	line,	"Black_Tiger.c", 242; }
23218                        	
23219                        		.dbg	line,	"Black_Tiger.c", 244; else if(shop_counter == 120)
23220                        		__bra		.LL1109
         1F:C1AD  80 44      			bra	.LL1109
23221    1F:C1AF             	.LL1108:
23222                        		__ld.umq	_shop_counter
         1F:C1AF  AD FF 23   			lda	_shop_counter
23223                        		__equ_b.uiq	120
         1F:C1B2  C9 78      			cmp	#120
         1F:C1B4  F0 01      			beq	!+
         1F:C1B6  18         			clc
         1F:C1B7             	!:
23224                        		__bfalse	.LL1110
         1F:C1B7  90 3A      			bcc	.LL1110
23225                        	
23226                        		.dbg	line,	"Black_Tiger.c", 245; {
23227                        	
23228                        		.dbg	line,	"Black_Tiger.c", 246; put_string("                     " ,  2 , 15);
23229                        		__ld.wi		__const1+170
         1F:C1B9  A9 AA      			lda.l	#__const1+170
         1F:C1BB  A0 60      			ldy.h	#__const1+170
23230                        		__st.wmq	_bp
         1F:C1BD  85 EC      			sta.l	_bp
         1F:C1BF  84 ED      			sty.h	_bp
23231                        		__st.umiq	2, _dil
         1F:C1C1  A9 02      			lda.l	#2
         1F:C1C3  85 F0      			sta	_dil
23232                        		__st.umiq	15, _dih
         1F:C1C5  A9 0F      			lda.l	#15
         1F:C1C7  85 F1      			sta	_dih
23233                        		__call		_put_string.3
         1F:C1C9  20 5F E6   			call	_put_string.3
23234                        	
23235                        		.dbg	line,	"Black_Tiger.c", 247; put_string("            " , 18 , 16);
23236                        		__ld.wi		__const1+192
         1F:C1CC  A9 C0      			lda.l	#__const1+192
         1F:C1CE  A0 60      			ldy.h	#__const1+192
23237                        		__st.wmq	_bp
         1F:C1D0  85 EC      			sta.l	_bp
         1F:C1D2  84 ED      			sty.h	_bp
23238                        		__st.umiq	18, _dil
         1F:C1D4  A9 12      			lda.l	#18
         1F:C1D6  85 F0      			sta	_dil
23239                        		__st.umiq	16, _dih
         1F:C1D8  A9 10      			lda.l	#16
         1F:C1DA  85 F1      			sta	_dih
23240                        		__call		_put_string.3
         1F:C1DC  20 5F E6   			call	_put_string.3
23241                        	
23242                        		.dbg	line,	"Black_Tiger.c", 249; spr_x(24);
23243                        		__ld.wi		24
         1F:C1DF  A9 18      			lda.l	#24
         1F:C1E1  C2         			cly
23244                        		__call		_spr_x.1
         1F:C1E2  20 1E E8   			call	_spr_x.1
23245                        	
23246                        		.dbg	line,	"Black_Tiger.c", 250; spr_y(144);
23247                        		__ld.wi		144
         1F:C1E5  A9 90      			lda.l	#144
         1F:C1E7  C2         			cly
23248                        		__call		_spr_y.1
         1F:C1E8  20 2D E8   			call	_spr_y.1
23249                        	
23250                        		.dbg	line,	"Black_Tiger.c", 251; satb_update();
23251                        		__call		_satb_update
         1F:C1EB  20 CD FE   			call	_satb_update
23252                        	
23253                        		.dbg	line,	"Black_Tiger.c", 253; shop_phase = SHOP_PHASE_BUY;
23254                        		__st.umiq	1, _shop_phase
         1F:C1EE  A9 01      			lda.l	#1
         1F:C1F0  8D FE 23   			sta	_shop_phase
23255                        	
23256                        		.dbg	line,	"Black_Tiger.c", 254; }
23257                        	
23258                        		.dbg	line,	"Black_Tiger.c", 256; shop_counter++;
23259    1F:C1F3             	.LL1110:
23260    1F:C1F3             	.LL1109:
23261                        		__inc.umq	_shop_counter
         1F:C1F3  EE FF 23   			inc	_shop_counter
23262                        	
23263                        		.dbg	line,	"Black_Tiger.c", 258; break;
23264                        		__bra		.LL1106
         1F:C1F6  4C 2C C0   			bra	.LL1106
23265                        	
23266                        		.dbg	line,	"Black_Tiger.c", 259; 
23267                        	
23268                        		.dbg	line,	"Black_Tiger.c", 261; case SHOP_PHASE_BUY:
23269    1F:C1F9             	.LL1111:
23270                        		__case		1
23271                        	
23272                        		.dbg	line,	"Black_Tiger.c", 262; vsync();
23273                        		__call		_vsync
         1F:C1F9  20 1D E3   			call	_vsync
23274                        	
23275                        		.dbg	line,	"Black_Tiger.c", 264; joypad_BUTTONS_SHOP();
23276                        		__call		_joypad_BUTTONS_SHOP
         1F:C1FC  20 65 FD   			call	_joypad_BUTTONS_SHOP
23277                        	
23278                        		.dbg	line,	"Black_Tiger.c", 265; display_TIME_SHOP();
23279                        		__call		_display_TIME_SHOP
         1F:C1FF  20 5B FD   			call	_display_TIME_SHOP
23280                        	
23281                        		.dbg	line,	"Black_Tiger.c", 266; satb_update();
23282                        		__call		_satb_update
         1F:C202  20 CD FE   			call	_satb_update
23283                        	
23284                        		.dbg	line,	"Black_Tiger.c", 268; break;
23285                        		__bra		.LL1106
         1F:C205  4C 2C C0   			bra	.LL1106
23286                        	
23287                        		.dbg	line,	"Black_Tiger.c", 271; case SHOP_PHASE_EXIT:
23288    1F:C208             	.LL1112:
23289                        		__case		2
23290                        	
23291                        		.dbg	line,	"Black_Tiger.c", 272; vsync();
23292                        		__call		_vsync
         1F:C208  20 1D E3   			call	_vsync
23293                        	
23294                        		.dbg	line,	"Black_Tiger.c", 274; if(shop_counter == 0)
23295                        		__not.um	_shop_counter
         1F:C20B  AD FF 23   			lda	_shop_counter
         1F:C20E  18         			clc
         1F:C20F  D0 01      			bne	!+
         1F:C211  38         			sec
         1F:C212             	!:
23296                        		__bfalse	.LL1113
         1F:C212  90 1F      			bcc	.LL1113
23297                        	
23298                        		.dbg	line,	"Black_Tiger.c", 275; {
23299                        	
23300                        		.dbg	line,	"Black_Tiger.c", 276; put_string("GOOD LUCK!" , 11 , 16);
23301                        		__ld.wi		__const1+205
         1F:C214  A9 CD      			lda.l	#__const1+205
         1F:C216  A0 60      			ldy.h	#__const1+205
23302                        		__st.wmq	_bp
         1F:C218  85 EC      			sta.l	_bp
         1F:C21A  84 ED      			sty.h	_bp
23303                        		__st.umiq	11, _dil
         1F:C21C  A9 0B      			lda.l	#11
         1F:C21E  85 F0      			sta	_dil
23304                        		__st.umiq	16, _dih
         1F:C220  A9 10      			lda.l	#16
         1F:C222  85 F1      			sta	_dih
23305                        		__call		_put_string.3
         1F:C224  20 5F E6   			call	_put_string.3
23306                        	
23307                        		.dbg	line,	"Black_Tiger.c", 278; // HIDE CURSOR //
23308                        	
23309                        		.dbg	line,	"Black_Tiger.c", 279; spr_set(0);
23310                        		__ld.uiq	0
         1F:C227  62         			cla
23311                        		__call		_spr_set.1
         1F:C228  20 F1 E7   			call	_spr_set.1
23312                        	
23313                        		.dbg	line,	"Black_Tiger.c", 280; spr_hide();
23314                        		__call		_spr_hide
         1F:C22B  20 0C E8   			call	_spr_hide
23315                        	
23316                        		.dbg	line,	"Black_Tiger.c", 281; satb_update();
23317                        		__call		_satb_update
         1F:C22E  20 CD FE   			call	_satb_update
23318                        	
23319                        		.dbg	line,	"Black_Tiger.c", 282; }
23320                        	
23321                        		.dbg	line,	"Black_Tiger.c", 284; else if(shop_counter == 120)
23322                        		__bra		.LL1114
         1F:C231  80 22      			bra	.LL1114
23323    1F:C233             	.LL1113:
23324                        		__ld.umq	_shop_counter
         1F:C233  AD FF 23   			lda	_shop_counter
23325                        		__equ_b.uiq	120
         1F:C236  C9 78      			cmp	#120
         1F:C238  F0 01      			beq	!+
         1F:C23A  18         			clc
         1F:C23B             	!:
23326                        		__bfalse	.LL1115
         1F:C23B  90 18      			bcc	.LL1115
23327                        	
23328                        		.dbg	line,	"Black_Tiger.c", 285; {
23329                        	
23330                        		.dbg	line,	"Black_Tiger.c", 286; disp_off();
23331                        		__call		_disp_off
         1F:C23D  20 3D E4   			call	_disp_off
23332                        	
23333                        		.dbg	line,	"Black_Tiger.c", 288; // REINIT PLAYER //
23334                        	
23335                        		.dbg	line,	"Black_Tiger.c", 289; init_PLAYER();
23336                        		__call		_init_PLAYER
         1F:C240  20 19 FE   			call	_init_PLAYER
23337                        	
23338                        		.dbg	line,	"Black_Tiger.c", 291; shop_phase = SHOP_PHASE_EXIT;
23339                        		__st.umiq	2, _shop_phase
         1F:C243  A9 02      			lda.l	#2
         1F:C245  8D FE 23   			sta	_shop_phase
23340                        	
23341                        		.dbg	line,	"Black_Tiger.c", 292; respawn = RESPAWN_SHOP;
23342                        		__st.umiq	2, _respawn
         1F:C248  A9 02      			lda.l	#2
         1F:C24A  8D 18 23   			sta	_respawn
23343                        	
23344                        		.dbg	line,	"Black_Tiger.c", 293; sequence_loaded = FALSE;
23345                        		__st.umiq	0, _sequence_loaded
         1F:C24D  9C 15 23   			stz	_sequence_loaded
23346                        	
23347                        		.dbg	line,	"Black_Tiger.c", 294; sequence_id = SEQUENCE_LEVEL;
23348                        		__st.umiq	2, _sequence_id
         1F:C250  A9 02      			lda.l	#2
         1F:C252  8D 14 23   			sta	_sequence_id
23349                        	
23350                        		.dbg	line,	"Black_Tiger.c", 295; }
23351                        	
23352                        		.dbg	line,	"Black_Tiger.c", 297; shop_counter++;
23353    1F:C255             	.LL1115:
23354    1F:C255             	.LL1114:
23355                        		__inc.umq	_shop_counter
         1F:C255  EE FF 23   			inc	_shop_counter
23356                        	
23357                        		.dbg	line,	"Black_Tiger.c", 299; break;
23358                        		__bra		.LL1106
         1F:C258  4C 2C C0   			bra	.LL1106
23359                        	
23360                        		.dbg	line,	"Black_Tiger.c", 300; }
23361    1F:C25B             	.LL1105:
23362                        		__switch_r.ur	0, 2
         1F:C25B  C9 03      			cmp	#(2 - 0) + 1
         1F:C25D  90 02      			bcc	!found+
         1F:C25F  A9 03      	!default:	lda	#(2 - 0) + 1
         1F:C261  0A         	!found:		asl	a
         1F:C262  AA         			tax
         1F:C263  7C 66 C2   			jmp	[!table+, x]
23363                        	
23364    1F:C266  7B C1      	!table:		dw	.LL1107, .LL1111, .LL1112
         1F:C268  F9 C1       
         1F:C26A  08 C2       
23365    1F:C26C  2C C0      			dw	.LL1106
23366    1F:C26E             	.LL1106	.alias		.LL1081
23367                        	
23368                        		.dbg	line,	"Black_Tiger.c", 301; }
23369    1F:C26E             	.LL1104	.alias		.LL1081
23370                        	
23371                        		.dbg	line,	"Black_Tiger.c", 303; break;
23372                        		__bra		.LL1081
         1F:C26E  4C 2C C0   			bra	.LL1081
23373                        	
23374                        		.dbg	line,	"Black_Tiger.c", 304; }
23375    1F:C271             	.LL1080:
23376                        		__switch_r.ur	0, 4
         1F:C271  C9 05      			cmp	#(4 - 0) + 1
         1F:C273  90 02      			bcc	!found+
         1F:C275  A9 05      	!default:	lda	#(4 - 0) + 1
         1F:C277  0A         	!found:		asl	a
         1F:C278  AA         			tax
         1F:C279  7C 7C C2   			jmp	[!table+, x]
23377                        	
23378    1F:C27C  32 C0      	!table:		dw	.LL1082, .LL1085, .LL1088, .LL1101, .LL1102
         1F:C27E  50 C0       
         1F:C280  71 C0       
         1F:C282  58 C1       
         1F:C284  61 C1       
23379    1F:C286  2C C0      			dw	.LL1081
23380    1F:C288             	.LL1081	.alias		.LL1078
23381                        	
23382                        		.dbg	line,	"Black_Tiger.c", 305; }
23383                        		__bra		.LL1078
         1F:C288  4C 2C C0   			bra	.LL1078
23384    1F:C28B             	.LL1079:
23385                        	
23386                        		.dbg	line,	"Black_Tiger.c", 306; }
23387    1F:C28B             	.LL1070:
23388                        		__return	1
         1F:C28B  AA         			tax
         1F:C28C  4C EF FF   			jmp	leave_proc
23389                        		.dbg	clear
23390                        		.endp
23391                        		.pceas
23392                        	
23393                        		.dbg	clear
23394               6000     		.rodata
23395    01:6000             	__const1:
23396    01:6000  53 54 41 52			db	'S','T','A','R','T',' ','G','A'
         01:6004  54 20 47 41 
23397    01:6008  4D 45 00 4C			db	'M','E',$00,'L','I','F','E',$00
         01:600C  49 46 45 00 
23398    01:6010  43 52 45 44			db	'C','R','E','D','I','T','S',$00
         01:6014  49 54 53 00 
23399    01:6018  43 41 50 43			db	'C','A','P','C','O','M',' ','1'
         01:601C  4F 4D 20 31 
23400    01:6020  39 38 37 00			db	'9','8','7',$00,'R','O','U','N'
         01:6024  52 4F 55 4E 
23401    01:6028  44 00 52 45			db	'D',$00,'R','E','A','D','Y',' '
         01:602C  41 44 59 20 
23402    01:6030  50 4C 41 59			db	'P','L','A','Y','E','R',' ','1'
         01:6034  45 52 20 31 
23403    01:6038  00 53 41 56			db	$00,'S','A','V','E',' ',' ',' '
         01:603C  45 20 20 20 
23404    01:6040  4C 49 56 45			db	'L','I','V','E','S',$00,'H','a'
         01:6044  53 00 48 61 
23405    01:6048  6C 74 3A 20			db	'l','t',':',' ','S','G','X',' '
         01:604C  53 47 58 20 
23406    01:6050  68 61 72 64			db	'h','a','r','d','w','a','r','e'
         01:6054  77 61 72 65 
23407    01:6058  20 6E 6F 74			db	' ','n','o','t',' ','f','o','u'
         01:605C  20 66 6F 75 
23408    01:6060  6E 64 00 20			db	'n','d',$00,' ',' ',' ',' ',' '
         01:6064  20 20 20 20 
23409    01:6068  20 20 00 20			db	' ',' ',$00,' ',' ',' ',' ',' '
         01:606C  20 20 20 20 
23410    01:6070  20 20 20 20			db	' ',' ',' ',' ',' ',' ',' ',' '
         01:6074  20 20 20 20 
23411    01:6078  20 00 20 20			db	' ',$00,' ',' ',' ',' ',' ',' '
         01:607C  20 20 20 20 
23412    01:6080  20 20 20 20			db	' ',' ',' ',' ',' ',' ',$00,'M'
         01:6084  20 20 00 4D 
23413    01:6088  61 79 62 65			db	'a','y','b','e',',',' ','i',' '
         01:608C  2C 20 69 20 
23414    01:6090  63 61 6E 20			db	'c','a','n',' ','s','e','l','l'
         01:6094  73 65 6C 6C 
23415    01:6098  20 79 6F 75			db	' ','y','o','u',$00,'s','o','m'
         01:609C  00 73 6F 6D 
23416    01:60A0  65 74 68 69			db	'e','t','h','i','n','g','.','.'
         01:60A4  6E 67 2E 2E 
23417    01:60A8  2E 00 20 20			db	'.',$00,' ',' ',' ',' ',' ',' '
         01:60AC  20 20 20 20 
23418    01:60B0  20 20 20 20			db	' ',' ',' ',' ',' ',' ',' ',' '
         01:60B4  20 20 20 20 
23419    01:60B8  20 20 20 20			db	' ',' ',' ',' ',' ',' ',' ',$00
         01:60BC  20 20 20 00 
23420    01:60C0  20 20 20 20			db	' ',' ',' ',' ',' ',' ',' ',' '
         01:60C4  20 20 20 20 
23421    01:60C8  20 20 20 20			db	' ',' ',' ',' ',$00,'G','O','O'
         01:60CC  00 47 4F 4F 
23422    01:60D0  44 20 4C 55			db	'D',' ','L','U','C','K','!',$00
         01:60D4  43 4B 21 00 
23423    01:60D8             	_TABLE_INTRO_TEXT:
23424    01:60D8  4C 6F 6E 67			db	"Long Long ago, three dragonsdescended from skies above  with a rolling thunder and  destroyed a kingdom into    darkness.                   From lengthy suffering and  darkness of the kingdom     came one brave fighter.    "
         01:60DC  20 4C 6F 6E 
         01:60E0  67 20 61 67 
         01:60E4  6F 2C 20 74 
         01:60E8  68 72 65 65 
         01:60EC  20 64 72 61 
         01:60F0  67 6F 6E 73 
         01:60F4  64 65 73 63 
         01:60F8  65 6E 64 65 
         01:60FC  64 20 66 72 
         01:6100  6F 6D 20 73 
         01:6104  6B 69 65 73 
         01:6108  20 61 62 6F 
         01:610C  76 65 20 20 
         01:6110  77 69 74 68 
         01:6114  20 61 20 72 
         01:6118  6F 6C 6C 69 
         01:611C  6E 67 20 74 
         01:6120  68 75 6E 64 
         01:6124  65 72 20 61 
         01:6128  6E 64 20 20 
         01:612C  64 65 73 74 
         01:6130  72 6F 79 65 
         01:6134  64 20 61 20 
         01:6138  6B 69 6E 67 
         01:613C  64 6F 6D 20 
         01:6140  69 6E 74 6F 
         01:6144  20 20 20 20 
         01:6148  64 61 72 6B 
         01:614C  6E 65 73 73 
         01:6150  2E 20 20 20 
         01:6154  20 20 20 20 
         01:6158  20 20 20 20 
         01:615C  20 20 20 20 
         01:6160  20 20 20 20 
         01:6164  46 72 6F 6D 
         01:6168  20 6C 65 6E 
         01:616C  67 74 68 79 
         01:6170  20 73 75 66 
         01:6174  66 65 72 69 
         01:6178  6E 67 20 61 
         01:617C  6E 64 20 20 
         01:6180  64 61 72 6B 
         01:6184  6E 65 73 73 
         01:6188  20 6F 66 20 
         01:618C  74 68 65 20 
         01:6190  6B 69 6E 67 
         01:6194  64 6F 6D 20 
         01:6198  20 20 20 20 
         01:619C  63 61 6D 65 
         01:61A0  20 6F 6E 65 
         01:61A4  20 62 72 61 
         01:61A8  76 65 20 66 
         01:61AC  69 67 68 74 
         01:61B0  65 72 2E 20 
         01:61B4  20 20 20    
23425    01:61B7             	_TABLE_NPC_TYPE_LV1:
23426    01:61B7  00         			db	0
23427    01:61B8  02         			db	2
23428    01:61B9             	_TABLE_NPC_X_POS_REF_LV1:
23429    01:61B9  90 03      			dw	912
23430    01:61BB  D0 04      			dw	1232
23431    01:61BD             	_TABLE_NPC_Y_POS_REF_LV1:
23432    01:61BD  40 02      			dw	576
23433    01:61BF  90 01      			dw	400
23434    01:61C1             	_TABLE_NPC_REWARD_LV1:
23435    01:61C1  64 00      			dw	100
23436    01:61C3  00 00      			dw	0
23437    01:61C5             	_TABLE_OBJECT_TYPE_LV1:
23438    01:61C5  00         			db	0
23439    01:61C6  01         			db	1
23440    01:61C7  01         			db	1
23441    01:61C8  01         			db	1
23442    01:61C9  01         			db	1
23443    01:61CA  01         			db	1
23444    01:61CB  01         			db	1
23445    01:61CC  02         			db	2
23446    01:61CD  01         			db	1
23447    01:61CE  01         			db	1
23448    01:61CF  01         			db	1
23449    01:61D0  01         			db	1
23450    01:61D1  01         			db	1
23451    01:61D2  01         			db	1
23452    01:61D3  01         			db	1
23453    01:61D4  01         			db	1
23454    01:61D5  01         			db	1
23455    01:61D6  01         			db	1
23456    01:61D7  01         			db	1
23457    01:61D8  01         			db	1
23458    01:61D9  01         			db	1
23459    01:61DA  01         			db	1
23460    01:61DB  01         			db	1
23461    01:61DC             	_TABLE_OBJECT_X_POS_REF_LV1:
23462    01:61DC  90 06      			dw	1680
23463    01:61DE  00 05      			dw	1280
23464    01:61E0  C0 05      			dw	1472
23465    01:61E2  A0 05      			dw	1440
23466    01:61E4  90 04      			dw	1168
23467    01:61E6  B0 04      			dw	1200
23468    01:61E8  C0 03      			dw	960
23469    01:61EA  D8 03      			dw	984
23470    01:61EC  50 05      			dw	1360
23471    01:61EE  70 05      			dw	1392
23472    01:61F0  10 06      			dw	1552
23473    01:61F2  90 06      			dw	1680
23474    01:61F4  B0 06      			dw	1712
23475    01:61F6  D0 06      			dw	1744
23476    01:61F8  E0 04      			dw	1248
23477    01:61FA  00 05      			dw	1280
23478    01:61FC  90 04      			dw	1168
23479    01:61FE  10 04      			dw	1040
23480    01:6200  80 02      			dw	640
23481    01:6202  A0 02      			dw	672
23482    01:6204  50 01      			dw	336
23483    01:6206  70 01      			dw	368
23484    01:6208  A0 01      			dw	416
23485    01:620A             	_TABLE_OBJECT_Y_POS_REF_LV1:
23486    01:620A  80 01      			dw	384
23487    01:620C  A0 01      			dw	416
23488    01:620E  E0 01      			dw	480
23489    01:6210  F0 01      			dw	496
23490    01:6212  30 02      			dw	560
23491    01:6214  30 02      			dw	560
23492    01:6216  50 02      			dw	592
23493    01:6218  50 02      			dw	592
23494    01:621A  50 02      			dw	592
23495    01:621C  50 02      			dw	592
23496    01:621E  C0 02      			dw	704
23497    01:6220  D0 02      			dw	720
23498    01:6222  D0 02      			dw	720
23499    01:6224  D0 02      			dw	720
23500    01:6226  E0 02      			dw	736
23501    01:6228  E0 02      			dw	736
23502    01:622A  F0 02      			dw	752
23503    01:622C  50 03      			dw	848
23504    01:622E  70 03      			dw	880
23505    01:6230  70 03      			dw	880
23506    01:6232  80 03      			dw	896
23507    01:6234  80 03      			dw	896
23508    01:6236  80 03      			dw	896
23509    01:6238             	_TABLE_REWARD_TYPE_LV1:
23510    01:6238  63         			db	99
23511    01:6239  04         			db	4
23512    01:623A  08         			db	8
23513    01:623B  08         			db	8
23514    01:623C  04         			db	4
23515    01:623D  09         			db	9
23516    01:623E  09         			db	9
23517    01:623F  63         			db	99
23518    01:6240  04         			db	4
23519    01:6241  00         			db	0
23520    01:6242  09         			db	9
23521    01:6243  00         			db	0
23522    01:6244  04         			db	4
23523    01:6245  09         			db	9
23524    01:6246  04         			db	4
23525    01:6247  09         			db	9
23526    01:6248  08         			db	8
23527    01:6249  09         			db	9
23528    01:624A  08         			db	8
23529    01:624B  09         			db	9
23530    01:624C  04         			db	4
23531    01:624D  08         			db	8
23532    01:624E  04         			db	4
23533    01:624F             	_TABLE_REWARD_VRAM_ADR_LV1:
23534    01:624F  63 00      			dw	99
23535    01:6251  40 6A      			dw	0x6800+64+64+64+64+64+64+64+64+64
23536    01:6253  C0 6A      			dw	0x6800+64+64+64+64+64+64+64+64+64+64+64
23537    01:6255  C0 6A      			dw	0x6800+64+64+64+64+64+64+64+64+64+64+64
23538    01:6257  40 6A      			dw	0x6800+64+64+64+64+64+64+64+64+64
23539    01:6259  00 6B      			dw	0x6800+64+64+64+64+64+64+64+64+64+64+64+64
23540    01:625B  00 6B      			dw	0x6800+64+64+64+64+64+64+64+64+64+64+64+64
23541    01:625D  63 00      			dw	99
23542    01:625F  40 6A      			dw	0x6800+64+64+64+64+64+64+64+64+64
23543    01:6261  40 6D      			dw	0x6800+64+64+64+64+64+64+64+64+64+64+64+64+64+64+64+64+64+64+64+64+64
23544    01:6263  00 6B      			dw	0x6800+64+64+64+64+64+64+64+64+64+64+64+64
23545    01:6265  40 6D      			dw	0x6800+64+64+64+64+64+64+64+64+64+64+64+64+64+64+64+64+64+64+64+64+64
23546    01:6267  40 6A      			dw	0x6800+64+64+64+64+64+64+64+64+64
23547    01:6269  00 6B      			dw	0x6800+64+64+64+64+64+64+64+64+64+64+64+64
23548    01:626B  40 6A      			dw	0x6800+64+64+64+64+64+64+64+64+64
23549    01:626D  00 6B      			dw	0x6800+64+64+64+64+64+64+64+64+64+64+64+64
23550    01:626F  C0 6A      			dw	0x6800+64+64+64+64+64+64+64+64+64+64+64
23551    01:6271  00 6B      			dw	0x6800+64+64+64+64+64+64+64+64+64+64+64+64
23552    01:6273  C0 6A      			dw	0x6800+64+64+64+64+64+64+64+64+64+64+64
23553    01:6275  00 6B      			dw	0x6800+64+64+64+64+64+64+64+64+64+64+64+64
23554    01:6277  40 6A      			dw	0x6800+64+64+64+64+64+64+64+64+64
23555    01:6279  C0 6A      			dw	0x6800+64+64+64+64+64+64+64+64+64+64+64
23556    01:627B  40 6A      			dw	0x6800+64+64+64+64+64+64+64+64+64
23557    01:627D             	_TABLE_CHEST_X_POS_REF_LV1:
23558    01:627D  30 04      			dw	1072
23559    01:627F  30 03      			dw	816
23560    01:6281             	_TABLE_CHEST_Y_POS_REF_LV1:
23561    01:6281  40 03      			dw	832
23562    01:6283  50 03      			dw	848
23563    01:6285             	_TABLE_PLAYER_TILES_ADR:
23564    01:6285  C0 65      			dw	_tiles_SPR_PLAYER_ARMOR
23565    01:6287  C0 77      			dw	_tiles_SPR_PLAYER_NAKED
23566    01:6289             	_TABLE_PLAYER_TILES_BANK:
23567    01:6289  16         			db	^_tiles_SPR_PLAYER_ARMOR
23568    01:628A  17         			db	^_tiles_SPR_PLAYER_NAKED
23569    01:628B             	_TABLE_PLAYER_JUMP_V:
23570    01:628B  FC         			db	-4
23571    01:628C  FB         			db	-5
23572    01:628D  F6         			db	-10
23573    01:628E  FC         			db	-4
23574    01:628F  FC         			db	-4
23575    01:6290  F9         			db	-7
23576    01:6291  FA         			db	-6
23577    01:6292  FD         			db	-3
23578    01:6293  FB         			db	-5
23579    01:6294  FE         			db	-2
23580    01:6295  FC         			db	-4
23581    01:6296  FF         			db	-1
23582    01:6297  FF         			db	-1
23583    01:6298  FF         			db	-1
23584    01:6299  FF         			db	-1
23585    01:629A  00         			db	0
23586    01:629B  00         			db	0
23587    01:629C  00         			db	0
23588    01:629D  00         			db	0
23589    01:629E  01         			db	1
23590    01:629F  01         			db	1
23591    01:62A0  01         			db	1
23592    01:62A1  01         			db	1
23593    01:62A2  04         			db	4
23594    01:62A3  02         			db	2
23595    01:62A4  05         			db	5
23596    01:62A5  03         			db	3
23597    01:62A6  06         			db	6
23598    01:62A7  07         			db	7
23599    01:62A8  04         			db	4
23600    01:62A9  04         			db	4
23601    01:62AA  0A         			db	10
23602    01:62AB  04         			db	4
23603    01:62AC  04         			db	4
23604    01:62AD  05         			db	5
23605    01:62AE             	_TABLE_PLAYER_FALL:
23606    01:62AE  00         			db	0
23607    01:62AF  00         			db	0
23608    01:62B0  00         			db	0
23609    01:62B1  00         			db	0
23610    01:62B2  01         			db	1
23611    01:62B3  01         			db	1
23612    01:62B4  01         			db	1
23613    01:62B5  01         			db	1
23614    01:62B6  02         			db	2
23615    01:62B7  02         			db	2
23616    01:62B8  02         			db	2
23617    01:62B9  02         			db	2
23618    01:62BA  03         			db	3
23619    01:62BB  03         			db	3
23620    01:62BC  03         			db	3
23621    01:62BD  04         			db	4
23622    01:62BE  04         			db	4
23623    01:62BF  04         			db	4
23624    01:62C0  04         			db	4
23625    01:62C1  04         			db	4
23626    01:62C2  05         			db	5
23627    01:62C3             	_TABLE_PLAYER_JUMP_LADDER:
23628    01:62C3  FC         			db	-4
23629    01:62C4  FC         			db	-4
23630    01:62C5  FD         			db	-3
23631    01:62C6  FD         			db	-3
23632    01:62C7  FD         			db	-3
23633    01:62C8  FE         			db	-2
23634    01:62C9  FE         			db	-2
23635    01:62CA  FE         			db	-2
23636    01:62CB  FF         			db	-1
23637    01:62CC  FF         			db	-1
23638    01:62CD  FF         			db	-1
23639    01:62CE  FF         			db	-1
23640    01:62CF  FF         			db	-1
23641    01:62D0  00         			db	0
23642    01:62D1  00         			db	0
23643    01:62D2  00         			db	0
23644    01:62D3  00         			db	0
23645    01:62D4  01         			db	1
23646    01:62D5  01         			db	1
23647    01:62D6  01         			db	1
23648    01:62D7  01         			db	1
23649    01:62D8  01         			db	1
23650    01:62D9  02         			db	2
23651    01:62DA  02         			db	2
23652    01:62DB  02         			db	2
23653    01:62DC  03         			db	3
23654    01:62DD  03         			db	3
23655    01:62DE  03         			db	3
23656    01:62DF  04         			db	4
23657    01:62E0  04         			db	4
23658    01:62E1             	_TABLE_WEAPON_TILES_ADR:
23659    01:62E1  40 72      			dw	_tiles_SPR_WEAPON_0
23660    01:62E3  C0 74      			dw	_tiles_SPR_WEAPON_1
23661    01:62E5  40 77      			dw	_tiles_SPR_WEAPON_2
23662    01:62E7  C0 79      			dw	_tiles_SPR_WEAPON_3
23663    01:62E9  40 7C      			dw	_tiles_SPR_WEAPON_4
23664    01:62EB             	_TABLE_WEAPON_TILES_BANK:
23665    01:62EB  19         			db	^_tiles_SPR_WEAPON_0
23666    01:62EC  19         			db	^_tiles_SPR_WEAPON_1
23667    01:62ED  19         			db	^_tiles_SPR_WEAPON_2
23668    01:62EE  19         			db	^_tiles_SPR_WEAPON_3
23669    01:62EF  19         			db	^_tiles_SPR_WEAPON_4
23670    01:62F0             	_TABLE_SHOP_ITEMS_LV1:
23671    01:62F0  00         			db	0
23672    01:62F1  01         			db	1
23673    01:62F2  02         			db	2
23674    01:62F3  03         			db	3
23675    01:62F4  04         			db	4
23676    01:62F5  05         			db	5
23677    01:62F6  06         			db	6
23678    01:62F7  07         			db	7
23679    01:62F8  08         			db	8
23680    01:62F9  09         			db	9
23681    01:62FA             	_TABLE_SHOP_PRICES_LV1:
23682    01:62FA  64 00      			dw	100
23683    01:62FC  E8 03      			dw	1000
23684    01:62FE  60 09      			dw	2400
23685    01:6300  80 25      			dw	9600
23686    01:6302  1E 00      			dw	30
23687    01:6304  50 00      			dw	80
23688    01:6306  2C 01      			dw	300
23689    01:6308  20 03      			dw	800
23690    01:630A  40 06      			dw	1600
23691    01:630C  96 00      			dw	150
23692    01:630E             	_TABLE_SHOP_ITEMS_TILES_ADR:
23693    01:630E  E0 68      			dw	_tiles_ITEM_WEAPON_2
23694    01:6310  60 69      			dw	_tiles_ITEM_WEAPON_3
23695    01:6312  E0 69      			dw	_tiles_ITEM_WEAPON_4
23696    01:6314  60 6A      			dw	_tiles_ITEM_WEAPON_5
23697    01:6316  E0 6A      			dw	_tiles_ITEM_KEY
23698    01:6318  60 6B      			dw	_tiles_ITEM_ARMOR_2
23699    01:631A  E0 6B      			dw	_tiles_ITEM_ARMOR_3
23700    01:631C  60 6C      			dw	_tiles_ITEM_ARMOR_4
23701    01:631E  E0 6C      			dw	_tiles_ITEM_ARMOR_5
23702    01:6320  60 6D      			dw	_tiles_ITEM_POTION
23703    01:6322             	_TABLE_SHOP_ITEMS_TILES_BANK:
23704    01:6322  12         			db	^_tiles_ITEM_WEAPON_2
23705    01:6323  12         			db	^_tiles_ITEM_WEAPON_3
23706    01:6324  12         			db	^_tiles_ITEM_WEAPON_4
23707    01:6325  12         			db	^_tiles_ITEM_WEAPON_5
23708    01:6326  12         			db	^_tiles_ITEM_KEY
23709    01:6327  12         			db	^_tiles_ITEM_ARMOR_2
23710    01:6328  12         			db	^_tiles_ITEM_ARMOR_3
23711    01:6329  12         			db	^_tiles_ITEM_ARMOR_4
23712    01:632A  12         			db	^_tiles_ITEM_ARMOR_5
23713    01:632B  12         			db	^_tiles_ITEM_POTION
23714    01:632C             	_TABLE_CURSOR_POS_X:
23715    01:632C  18         			db	24
23716    01:632D  38         			db	56
23717    01:632E  60         			db	96
23718    01:632F  88         			db	136
23719    01:6330  B0         			db	176
23720    01:6331  18         			db	24
23721    01:6332  38         			db	56
23722    01:6333  60         			db	96
23723    01:6334  88         			db	136
23724    01:6335  B0         			db	176
23725    01:6336  D4         			db	212
23726                        	
23727               2314     		.bss
23728    F8:2314             	_sequence_id:
23729    F8:2314             			ds	1
23730    F8:2315             	_sequence_loaded:
23731    F8:2315             			ds	1
23732    F8:2316             	_level_id:
23733    F8:2316             			ds	1
23734    F8:2317             	_display_level_text:
23735    F8:2317             			ds	1
23736    F8:2318             	_respawn:
23737    F8:2318             			ds	1
23738    F8:2319             	_player_id:
23739    F8:2319             			ds	1
23740    F8:231A             	_player_state:
23741    F8:231A             			ds	1
23742    F8:231B             	_player_axis:
23743    F8:231B             			ds	1
23744    F8:231C             	_player_previous_axis:
23745    F8:231C             			ds	1
23746    F8:231D             	_player_counter_anim:
23747    F8:231D             			ds	1
23748    F8:231E             	_player_index_jump:
23749    F8:231E             			ds	1
23750    F8:231F             	_player_index_fall:
23751    F8:231F             			ds	1
23752    F8:2320             	_player_counter_attack:
23753    F8:2320             			ds	1
23754    F8:2321             	_player_naked:
23755    F8:2321             			ds	1
23756    F8:2322             	_player_attack:
23757    F8:2322             			ds	1
23758    F8:2323             	_jump_ladder:
23759    F8:2323             			ds	1
23760    F8:2324             	_jump_max_index:
23761    F8:2324             			ds	1
23762    F8:2325             	_fall_ladder:
23763    F8:2325             			ds	1
23764    F8:2326             	_hit_wall:
23765    F8:2326             			ds	1
23766    F8:2327             	_chain_id:
23767    F8:2327             			ds	1
23768    F8:2328             	_weapon_id:
23769    F8:2328             			ds	1
23770    F8:2329             	_armor_level:
23771    F8:2329             			ds	1
23772    F8:232A             	_weapon_level:
23773    F8:232A             			ds	1
23774    F8:232B             	_chain_unfold:
23775    F8:232B             			ds	1
23776    F8:232C             	_list_chain_active:
23777    F8:232C             			ds	3
23778    F8:232F             	_life_amount:
23779    F8:232F             			ds	1
23780    F8:2330             	_credits_amount:
23781    F8:2330             			ds	1
23782    F8:2331             	_key_amount:
23783    F8:2331             			ds	1
23784    F8:2332             	_potion_amount:
23785    F8:2332             			ds	1
23786    F8:2333             	_minutes:
23787    F8:2333             			ds	1
23788    F8:2334             	_seconds:
23789    F8:2334             			ds	1
23790    F8:2335             	_time_counter:
23791    F8:2335             			ds	1
23792    F8:2336             	_minutes_backup:
23793    F8:2336             			ds	1
23794    F8:2337             	_seconds_backup:
23795    F8:2337             			ds	1
23796    F8:2338             	_object_start_index:
23797    F8:2338             			ds	1
23798    F8:2339             	_level_object_number:
23799    F8:2339             			ds	1
23800    F8:233A             	_onscreen_object_number:
23801    F8:233A             			ds	1
23802    F8:233B             	_list_object_type:
23803    F8:233B             			ds	25
23804    F8:2354             	_list_object_state:
23805    F8:2354             			ds	25
23806    F8:236D             	_list_object_energy:
23807    F8:236D             			ds	25
23808    F8:2386             	_list_reward_type:
23809    F8:2386             			ds	25
23810    F8:239F             	_list_object_counter:
23811    F8:239F             			ds	25
23812    F8:23B8             	_list_onscreen_object:
23813    F8:23B8             			ds	8
23814    F8:23C0             	_chest_start_index:
23815    F8:23C0             			ds	1
23816    F8:23C1             	_level_chest_number:
23817    F8:23C1             			ds	1
23818    F8:23C2             	_onscreen_chest_number:
23819    F8:23C2             			ds	1
23820    F8:23C3             	_list_chest_state:
23821    F8:23C3             			ds	8
23822    F8:23CB             	_list_onscreen_chest:
23823    F8:23CB             			ds	8
23824    F8:23D3             	_npc_start_index:
23825    F8:23D3             			ds	1
23826    F8:23D4             	_level_npc_number:
23827    F8:23D4             			ds	1
23828    F8:23D5             	_onscreen_npc_number:
23829    F8:23D5             			ds	1
23830    F8:23D6             	_selected_npc:
23831    F8:23D6             			ds	1
23832    F8:23D7             	_list_npc_type:
23833    F8:23D7             			ds	9
23834    F8:23E0             	_list_npc_state:
23835    F8:23E0             			ds	9
23836    F8:23E9             	_list_npc_reward:
23837    F8:23E9             			ds	9
23838    F8:23F2             	_list_onscreen_npc:
23839    F8:23F2             			ds	9
23840    F8:23FB             	_index_x:
23841    F8:23FB             			ds	1
23842    F8:23FC             	_index_y:
23843    F8:23FC             			ds	1
23844    F8:23FD             	_item_index:
23845    F8:23FD             			ds	1
23846    F8:23FE             	_shop_phase:
23847    F8:23FE             			ds	1
23848    F8:23FF             	_shop_counter:
23849    F8:23FF             			ds	1
23850    F8:2400             	_palette_step:
23851    F8:2400             			ds	1
23852    F8:2401             	_tilemap_mask:
23853    F8:2401             			ds	256
23854    F8:2501             	_player_pos_x:
23855    F8:2501             			ds	2
23856    F8:2503             	_player_pos_y:
23857    F8:2503             			ds	2
23858    F8:2505             	_camera_max_y_position:
23859    F8:2505             			ds	2
23860    F8:2507             	_camera_pos_x_backup:
23861    F8:2507             			ds	2
23862    F8:2509             	_camera_pos_y_backup:
23863    F8:2509             			ds	2
23864    F8:250B             	_list_object_x_pos:
23865    F8:250B             			ds	50
23866    F8:253D             	_list_object_y_pos:
23867    F8:253D             			ds	50
23868    F8:256F             	_list_object_x_pos_ref:
23869    F8:256F             			ds	50
23870    F8:25A1             	_list_object_y_pos_ref:
23871    F8:25A1             			ds	50
23872    F8:25D3             	_list_chest_x_pos:
23873    F8:25D3             			ds	16
23874    F8:25E3             	_list_chest_y_pos:
23875    F8:25E3             			ds	16
23876    F8:25F3             	_list_chest_x_pos_ref:
23877    F8:25F3             			ds	16
23878    F8:2603             	_list_chest_y_pos_ref:
23879    F8:2603             			ds	16
23880    F8:2613             	_list_npc_x_pos:
23881    F8:2613             			ds	18
23882    F8:2625             	_list_npc_y_pos:
23883    F8:2625             			ds	18
23884    F8:2637             	_list_npc_x_pos_ref:
23885    F8:2637             			ds	18
23886    F8:2649             	_list_npc_y_pos_ref:
23887    F8:2649             			ds	18
23888    F8:265B             	_global_counter:
23889    F8:265B             			ds	2
23890    F8:265D             	_letter_index:
23891    F8:265D             			ds	2
23892    F8:265F             	_letter_counter:
23893    F8:265F             			ds	2
23894    F8:2661             	_zenny_amount:
23895    F8:2661             			ds	2
23896    F8:2663             	_score:
23897    F8:2663             			ds	2
23898    F8:2665             	_shop_prices:
23899    F8:2665             			ds	20
23900    F8:2679             	_palette_buffer:
23901    F8:2679             			ds	32
23902    F8:2699             	_weapon_y_offset:
23903    F8:2699             			ds	1
23904    F8:269A             	_ptr_REWARD_TYPE:
23905    F8:269A             			ds	2
23906    F8:269C             	_ptr_REWARD_VRAM_ADR:
23907    F8:269C             			ds	2
23908    F8:269E             	_ptr_SHOP_ITEM_PRICES:
23909    F8:269E             			ds	2
23910                        	
23911               E31D     		.code
23912               0001     		.if		leaf_needs < 7
23913               0007     	leaf_needs	.set	7
23914                        		.endif
23915                        	
23916                        	;0 error(s) in compilation
23917                        	;	literal pool:216
23918                        	;	constant pool:385
23919                        	;	global pool:587
23920                        	;	Macro pool:332
                             #[2]   "..\..\..\include\hucc\hucc-final.asm"
    1                        	; ***************************************************************************
    2                        	; ***************************************************************************
    3                        	;
    4                        	; hucc-final.asm
    5                        	;
    6                        	; PCEAS auto-includes this file at the end of every pass in HuCC or SDCC.
    7                        	;
    8                        	; Copyright John Brandwood 2024.
    9                        	;
   10                        	; Distributed under the Boost Software License, Version 1.0.
   11                        	; (See accompanying file LICENSE_1_0.txt or copy at
   12                        	;  http://www.boost.org/LICENSE_1_0.txt)
   13                        	;
   14                        	; ***************************************************************************
   15                        	; ***************************************************************************
   16                        	;
   17                        	; This is used to select which assembly-language library files to include in
   18                        	; a HuCC project, using labels defined in the compiler's header files.
   19                        	;
   20                        	; ***************************************************************************
   21                        	; ***************************************************************************
   22                        	
   23                        			; Allow projects to customize what is included at the end
   24                        			; of a pass without replacing the entire "hucc-final.asm".
   25                        	
   26               E31D     			.code
   27               0000     			.bank	CORE_BANK
   28               E31D     			.page	CORE_PAGE
   29                        	
                             #[3]   "..\..\..\include\hucc\hucc-final-extra.asm"
   30                        			include	"hucc-final-extra.asm"
    1                        	; ***************************************************************************
    2                        	; ***************************************************************************
    3                        	;
    4                        	; hucc-final-extra.asm
    5                        	;
    6                        	; hucc-final.asm includes this file at the end of every pass in HuCC or SDCC.
    7                        	;
    8                        	; Copyright John Brandwood 2024.
    9                        	;
   10                        	; Distributed under the Boost Software License, Version 1.0.
   11                        	; (See accompanying file LICENSE_1_0.txt or copy at
   12                        	;  http://www.boost.org/LICENSE_1_0.txt)
   13                        	;
   14                        	; ***************************************************************************
   15                        	; ***************************************************************************
   16                        	;
   17                        	; This is used to select which assembly-language library files to include in
   18                        	; a HuCC project, using labels defined in the compiler's header files.
   19                        	;
   20                        	; ***************************************************************************
   21                        	; ***************************************************************************
                             #[2]   "..\..\..\include\hucc\hucc-final.asm"
   31                        	
   32                        			; Libraries required for basic functionality.
   33                        	
   34               E31D     			.code
   35               0000     			.bank	CORE_BANK
   36               E31D     			.page	CORE_PAGE
   37                        	
                             #[3]   "..\..\..\include\hucc\common.asm"
   38                        			include	"common.asm"		; Common helpers.
    1                        	; ***************************************************************************
    2                        	; ***************************************************************************
    3                        	;
    4                        	; common.asm
    5                        	;
    6                        	; Small, generic, PCE subroutines that are commonly useful when developing.
    7                        	;
    8                        	; These should be located in permanently-accessible memory!
    9                        	;
   10                        	; Copyright John Brandwood 2021-2024.
   11                        	;
   12                        	; Distributed under the Boost Software License, Version 1.0.
   13                        	; (See accompanying file LICENSE_1_0.txt or copy at
   14                        	;  http://www.boost.org/LICENSE_1_0.txt)
   15                        	;
   16                        	; ***************************************************************************
   17                        	; ***************************************************************************
   18                        	
   19                        	
   20                        	
   21                        	; ***************************************************************************
   22                        	; ***************************************************************************
   23                        	;
   24                        	; Wait for the next VBLANK IRQ.
   25                        	;
   26                        	
   27    00:E31D  AD 41 22   	wait_vsync:	lda	irq_cnt			; System Card variable, changed
   28    00:E320  CD 41 22   	.loop:		cmp	irq_cnt			; every VBLANK interrupt.
   29    00:E323  F0 FB      			beq	.loop
   30               0001     		.ifdef	HUCC
   31    00:E325  8D EB 22   			sta	old_cnt			; Remember the frame count.
   32                        		.endif
   33    00:E328  60         			rts
   34                        	
   35                        	
   36                        	
   37                        	; ***************************************************************************
   38                        	; ***************************************************************************
   39                        	;
   40                        	; Delay for the next Y VBLANK IRQs.
   41                        	;
   42                        	
   43               0001     		.ifdef	HUCC
   44    00:E329             	_vsync		.alias	wait_vsync
   45                        	
   46    00:E329  AD 41 22   	_vsync.1:	lda	irq_cnt			; HuCC's vsync(n) was defined
   47    00:E32C  38         			sec				; as frames from the previous
   48    00:E32D  ED EB 22   			sbc	old_cnt			; vsync() call, 1 to 255.
   49    00:E330  38         			sec
   50    00:E331  E5 F8      			sbc	<_al
   51    00:E333  90 02      			bcc	!+
   52    00:E335  A9 FF      			lda	#$FF
   53    00:E337  49 FF      	!:		eor	#$FF
   54    00:E339  1A         			inc	a
   55    00:E33A  A8         			tay
   56                        		.endif
   57                        	
   58    00:E33B  44 E0      	wait_nvsync:	bsr	wait_vsync		; # of VBLANK IRQs to wait in
   59    00:E33D  88         			dey				; the Y register.
   60    00:E33E  D0 FB      			bne	wait_nvsync
   61    00:E340  60         			rts
   62                        	
   63                        	
   64                        	
   65               0000     		.ifndef	HUCC
  101                        		.endif
  102                        	
  103                        	
  104                        	
  105                        	; ***************************************************************************
  106                        	; ***************************************************************************
  107                        	;
  108                        	; Map the _bp data far-pointer into MPR3 (& MPR4).
  109                        	;
  110                        	; Because the 16KB RAM region at $2000-$5FFF is composed of two separate
  111                        	; banks, with the 2nd bank having no specific relation to the 1st, there
  112                        	; is no way to deal with a bank-increment, so do not map that region.
  113                        	;
  114                        	; N.B. Library code relies on this preserving X and V!
  115                        	;
  116                        	
  117    00:E341  98         	map_bp_to_mpr3:	tya				; Put bank into MPR3.
  118    00:E342  F0 0A      			beq	!+
  119    00:E344  53 08      			tam3
  120    00:E346  A5 ED      			lda.h	<_bp			; Do not remap a ptr to RAM,
  121    00:E348  29 1F      			and	#$1F			; Remap ptr to MPR3.
  122    00:E34A  09 60      			ora	#$60
  123    00:E34C  85 ED      			sta.h	<_bp
  124    00:E34E  60         	!:		rts
  125                        	
  126    00:E34F  98         	map_bp_to_mpr34:tya				; Put bank into MPR3.
  127    00:E350  F0 0D      			beq	!+
  128    00:E352  53 08      			tam3
  129    00:E354  1A         			inc	a			; Put next into MPR4.
  130    00:E355  53 10      			tam4
  131    00:E357  A5 ED      			lda.h	<_bp			; Do not remap a ptr to RAM,
  132    00:E359  29 1F      			and	#$1F			; Remap ptr to MPR3.
  133    00:E35B  09 60      			ora	#$60
  134    00:E35D  85 ED      			sta.h	<_bp
  135    00:E35F  60         	!:		rts
  136                        	
  137                        	
  138                        	
  139                        	; ***************************************************************************
  140                        	; ***************************************************************************
  141                        	;
  142                        	; Increment the hi-byte of _bp and change TMA3 if necessary.
  143                        	;
  144                        	; N.B. Library code relies on this preserving A,X,Y and V!
  145                        	;
  146                        	
  147    00:E360  E6 ED      	inc.h_bp_mpr3:	inc.h	<_bp			; Increment hi-byte of _bp.
  148    00:E362  10 0B      			bpl	!+			; OK if within MPR0-MPR3.
  149    00:E364  48         			pha				; Increment the bank in MPR3,
  150    00:E365  43 08      			tma3				; usually when pointer moves
  151    00:E367  1A         			inc	a			; from $7FFF -> $8000.
  152    00:E368  53 08      			tam3
  153    00:E36A  A9 60      			lda	#$60
  154    00:E36C  85 ED      			sta.h	<_bp
  155    00:E36E  68         			pla
  156    00:E36F  60         	!:		rts
  157                        	
  158                        	
  159                        	
  160                        	; ***************************************************************************
  161                        	; ***************************************************************************
  162                        	;
  163                        	; Increment the hi-byte of _bp and change TMA3 and TMA4 if necessary.
  164                        	;
  165                        	; N.B. Library code relies on this preserving A,X,Y and V!
  166                        	;
  167                        	
  168    00:E370  E6 ED      	inc.h_bp_mpr34:	inc.h	<_bp			; Increment hi-byte of _bp.
  169    00:E372  10 0D      			bpl	!+			; OK if within MPR0-MPR3.
  170    00:E374  48         			pha				; Increment the bank in MPR3,
  171    00:E375  43 10      			tma4				; usually when pointer moves
  172    00:E377  53 08      			tam3				; from $7FFF -> $8000.
  173    00:E379  1A         			inc	a
  174    00:E37A  53 10      			tam4
  175    00:E37C  A9 60      			lda	#$60
  176    00:E37E  85 ED      			sta.h	<_bp
  177    00:E380  68         			pla
  178    00:E381  60         	!:		rts
  179                        	
  180                        	
  181                        	
  182                        	; ***************************************************************************
  183                        	; ***************************************************************************
  184                        	;
  185                        	; Put the _di data pointer into the VDC's MARR or MAWR register.
  186                        	;
  187                        	; N.B. Library code relies on this preserving Y!
  188                        	;
  189                        	
  190               0001     		.if	SUPPORT_SGX
  191    00:E382  A2 10      	sgx_di_to_marr:	ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
  192    00:E384  F0         			db	$F0			; Turn "clx" into a "beq".
  193                        		.endif
  194                        	
  195    00:E385  82         	vdc_di_to_marr:	clx				; Offset to PCE VDC.
  196                        	
  197    00:E386  A9 01      	set_di_to_marr	lda	#VDC_MARR		; Set VDC or SGX destination
  198    00:E388  95 F7      			sta	<vdc_reg, x		; address.
  199    00:E38A  9D 00 02   			sta	VDC_AR, x
  200    00:E38D  80 09      			bra	!+
  201                        	
  202               0001     		.if	SUPPORT_SGX
  203    00:E38F  A2 10      	sgx_di_to_mawr:	ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
  204    00:E391  F0         			db	$F0			; Turn "clx" into a "beq".
  205                        		.endif
  206                        	
  207    00:E392  82         	vdc_di_to_mawr:	clx				; Offset to PCE VDC.
  208                        	
  209    00:E393             	set_di_to_mawr;	lda	#VDC_MAWR		; Set VDC or SGX destination
  210    00:E393  74 F7      			stz	<vdc_reg, x		; address.
  211    00:E395  9E 00 02   			stz	VDC_AR, x
  212                        	
  213    00:E398  A5 F0      	!:		lda	<_di + 0
  214    00:E39A  9D 02 02   			sta	VDC_DL, x
  215    00:E39D  A5 F1      			lda	<_di + 1
  216    00:E39F  9D 03 02   			sta	VDC_DH, x
  217                        	
  218    00:E3A2  A9 02      			lda	#VDC_VWR		; Select the VRR/VWR data
  219    00:E3A4  95 F7      			sta	<vdc_reg, x		; register.
  220    00:E3A6  9D 00 02   			sta	VDC_AR, x
  221    00:E3A9  60         			rts
  222                        	
  223                        	
  224                        	
  225                        	; ***************************************************************************
  226                        	; ***************************************************************************
  227                        	;
  228                        	; Increment the hi-byte of _di and change TMA4 if necessary.
  229                        	;
  230                        	
  231               0000     		.if	0				; Save memory, for now.
  250                        		.endif
  251                        	
  252                        	
  253                        	
  254                        	; ***************************************************************************
  255                        	; ***************************************************************************
  256                        	;
  257                        	; Far-call a function in another bank.
  258                        	;
  259                        	; This is a potential alternative procedure call trampoline that uses only 10
  260                        	; bytes of common memory per bank of procedures, instead of 10 bytes for each
  261                        	; individual procedure call, BUT it uses the X register as a procedure-index,
  262                        	; and it needs a table of addresses at the end of every procedure bank.
  263                        	;
  264                        	; To use this ...
  265                        	;
  266                        	;  ldx #procedure-index
  267                        	;  jsr far_call_nn
  268                        	;
  269                        	; The called .PROC routine must exit with "jmp leave_proc" and not "rts".
  270                        	;
  271                        	; leave_proc:	pla
  272                        	;		tam6
  273                        	;		tya
  274                        	;		rts
  275                        	;
  276                        	; N.B. This costs 21 cycles vs 18 for the .newproc trampoline code (when you
  277                        	;      exclude preserving YA in zero-page).
  278                        	;
  279                        	; N.B. This was written as an excerise, and definitely not for HuC!
  280                        	;
  281                        	
  282               0000     		.if	0
  295                        		.endif					; 21
                             #[2]   "..\..\..\include\hucc\hucc-final.asm"
                             #[3]   "..\..\..\include\hucc\vce.asm"
   39                        			include	"vce.asm"		; Useful VCE routines.
    1                        	; ***************************************************************************
    2                        	; ***************************************************************************
    3                        	;
    4                        	; vce.asm
    5                        	;
    6                        	; Useful routines for operating the HuC6260 Video Color Encoder
    7                        	;
    8                        	; These should be located in permanently-accessible memory!
    9                        	;
   10                        	; Copyright John Brandwood 2021-2025.
   11                        	;
   12                        	; Distributed under the Boost Software License, Version 1.0.
   13                        	; (See accompanying file LICENSE_1_0.txt or copy at
   14                        	;  http://www.boost.org/LICENSE_1_0.txt)
   15                        	;
   16                        	; ***************************************************************************
   17                        	; ***************************************************************************
   18                        	
   19                        	;
   20                        	; Configure Library ...
   21                        	;
   22                        	
   23               0000     		.ifndef VCE_SPLIT_CROSS
   25                        		.endif
   26                        	
   27                        	
   28                        	
   29                        	; ***************************************************************************
   30                        	; ***************************************************************************
   31                        	;
   32                        	; xfer_palettes - Update the VCE with the queued palettes changes.
   33                        	;
   34                        	; This is normally called in a developer's vsync_hook handler, but it can
   35                        	; be called manually as long as it will not also be called in an interrupt.
   36                        	;
   37                        	; The queued transfers are split into 32-byte chunks so that an HSYNC and/or
   38                        	; TIMER IRQ is not delayed for too long during the VBLANK.
   39                        	;
   40                        	
   41    00:E3AA  A9 80      	xfer_palettes:	lda	#$80			; Acquire color mutex to avoid
   42    00:E3AC  0C A0 26   			tsb	color_mutex		; conflict with a delayed VBL.
   43    00:E3AF  30 5F      			bmi	.busy
   44                        	
   45    00:E3B1  AC A1 26   			ldy	color_queue_r		; Are there any palette xfers
   46    00:E3B4  CC A2 26   			cpy	color_queue_w		; queued up?
   47    00:E3B7  F0 54      			beq	.exit
   48                        	
   49    00:E3B9  08         			php				; Enable interrupts so that an
   50    00:E3BA  58         			cli				; HSYNC or TIMER IRQ can occur.
   51                        	
   52    00:E3BB  43 08      			tma3				; Preserve MPR3 & MPR4 because
   53    00:E3BD  48         			pha				; this normally runs in the
   54    00:E3BE  43 10      			tma4				; VBLANK IRQ.
   55    00:E3C0  48         			pha
   56                        	
   57               0001     		.if	!CDROM
   58    00:E3C1  73 16 E4 86			tii	.tia_func, color_tia, 8 ; Copy TIA to RAM.
         00:E3C5  22 08 00    
   59                        		.endif
   60                        	
   61    00:E3C8  B9 A3 26   	.next_item:	lda	color_index, y		; Get the next set of palettes
   62    00:E3CB  0A         			asl	a			; from the queue.
   63    00:E3CC  0A         			asl	a
   64    00:E3CD  0A         			asl	a
   65    00:E3CE  0A         			asl	a
   66    00:E3CF  8D 02 04   			sta	VCE_CTA + 0
   67    00:E3D2  62         			cla
   68    00:E3D3  2A         			rol	a
   69    00:E3D4  8D 03 04   			sta	VCE_CTA + 1
   70                        	
   71    00:E3D7  BE AB 26   			ldx	color_count,y		; How many palettes to xfer?
   72                        	
   73    00:E3DA  B9 C3 26   			lda	color_bank, y		; Map data into MPR3 & MPR4.
   74    00:E3DD  53 08      			tam3
   75    00:E3DF  1A         			inc	a
   76    00:E3E0  53 10      			tam4
   77    00:E3E2  B9 BB 26   			lda	color_addr_h, y
   78    00:E3E5  8D 88 22   			sta	.ram_tia + 2
   79    00:E3E8  B9 B3 26   			lda	color_addr_l, y
   80    00:E3EB  8D 87 22   	.palette_loop:	sta	.ram_tia + 1
   81                        	
   82               0000     		.if	CDROM
   84                        		.else
   85    00:E3EE  20 86 22   			jsr	.ram_tia		; Copy 32-bytes to the VCE.
   86                        		.endif
   87                        	
   88    00:E3F1  18         			clc				; Increment the data ptr to
   89    00:E3F2  69 20      			adc	#32			; the next 32-byte palette.
   90    00:E3F4  B0 1B      			bcs	.next_page
   91                        	
   92    00:E3F6  CA         	.next_palette:	dex				; Any palettes left to xfer?
   93    00:E3F7  D0 F2      			bne	.palette_loop
   94                        	
   95    00:E3F9  C8         			iny				; Increment the queue index.
   96    00:E3FA  98         			tya
   97    00:E3FB  29 07      			and	#7
   98    00:E3FD  A8         			tay
   99                        	
  100    00:E3FE  CC A2 26   			cpy	color_queue_w		; Any more items in the queue?
  101    00:E401  D0 C5      			bne	.next_item
  102    00:E403  8C A1 26   			sty	color_queue_r		; Signal the queue is empty.
  103                        	
  104    00:E406  68         			pla				; Restore MPR3 & MPR4.
  105    00:E407  53 10      			tam4
  106    00:E409  68         			pla
  107    00:E40A  53 08      			tam3
  108                        	
  109    00:E40C  28         			plp				; Restore interrupt state.
  110                        	
  111    00:E40D  9C A0 26   	.exit:		stz	color_mutex		; Release color mutex.
  112                        	
  113    00:E410  60         	.busy:		rts
  114                        	
  115    00:E411  EE 88 22   	.next_page:	inc	.ram_tia + 2
  116    00:E414  80 E0      			bra	.next_palette
  117                        	
  118               0001     		.if	!CDROM
  119               2286     	.ram_tia	=	color_tia		; Use a TIA in RAM.
  120                        	
  121    00:E416  E3 00 00 04	.tia_func:	tia	0, VCE_CTW, 32
         00:E41A  04 20 00    
  122    00:E41D  60         			rts
  123                        		.endif	!CDROM
  124                        	
  125               26A0     			.bss
  126                        	
  127    F8:26A0             	color_mutex:	ds	1			; Mutex for VCE changes.
  128    F8:26A1             	color_queue_r:	ds	1			; Ring buffer read index.
  129    F8:26A2             	color_queue_w:	ds	1			; Ring buffer write index.
  130    F8:26A3             	color_index:	ds	8			; Ring buffer - Palette index.
  131    F8:26AB             	color_count:	ds	8			; Ring buffer - Palette count.
  132    F8:26B3             	color_addr_l:	ds	8			; Ring buffer - Data Ptr (lo).
  133    F8:26BB             	color_addr_h:	ds	8			; Ring buffer - Data Ptr (hi).
  134    F8:26C3             	color_bank:	ds	8			; Ring buffer - Data Ptr (bank).
  135                        	
  136               E41E     			.code
  137                        	
  138                        	
  139                        	
  140                        	; ***************************************************************************
  141                        	; ***************************************************************************
  142                        	;
  143                        	; load_palettes - Queue a set of palettes to upload to the VCE next VBLANK.
  144                        	;
  145                        	; Args: _al = Palette index (0..15 for BG, 16..31 for SPR).
  146                        	; Args: _ah = Palette count (1..32).
  147                        	; Args: _bp = Pointer to palette data.
  148                        	; Args:   Y = Bank to map into MPR3 & MPR4, or zero to leave unchanged.
  149                        	;
  150                        	; N.B. Y==0 is only useful if the palette data is permanently mapped!
  151                        	;
  152                        	
  153                        	load_palettes	.proc
  179                        			.endp
  180                        	
  181                        	
  182                        	
  183                        	; ***************************************************************************
  184                        	; ***************************************************************************
  185                        	;
  186                        	; clear_vce - Clear all 512 of the VCE's palette entries.
  187                        	;
  188                        	
  189    20:C180             	clear_vce	.proc
  190                        	
  191    20:C180  08         			php				; Disable interrupts to avoid
  192    20:C181  78         			sei				; VBLANK palette upload.
  193    20:C182  C2         			cly
  194    20:C183  9C 02 04   			stz	VCE_CTA+0		; Set VCE write address.
  195    20:C186  9C 03 04   			stz	VCE_CTA+1
  196    20:C189  9C 04 04   	.loop:		stz	VCE_CTW+0		; Set lo-byte of color.
  197    20:C18C  9C 05 04   			stz	VCE_CTW+1		; Write 1 color value.
  198    20:C18F  9C 04 04   			stz	VCE_CTW+0		; Set lo-byte of color.
  199    20:C192  9C 05 04   			stz	VCE_CTW+1		; Write 1 color value.
  200    20:C195  88         			dey
  201    20:C196  D0 F1      			bne	.loop
  202    20:C198  28         			plp
  203                        	
  204                        			leave				; All done, phew!
         20:C199  4C EF FF   			jmp	leave_proc
  205                        	
  206                        			.endp
  207                        	
  208               0001     		.ifdef	HUCC
  209    00:E41E             			.alias	_clear_palette		= clear_vce
  210                        		.endif
  211                        	
  212                        	
  213                        	
  214                        	; ***************************************************************************
  215                        	; ***************************************************************************
  216                        	;
  217                        	; read_palettes - Read palettes from the VCE into a buffer in RAM.
  218                        	;
  219                        	; Args: _al = Palette index (0..15 for BG, 16..31 for SPR).
  220                        	; Args: _ah = Palette count (1..32).
  221                        	; Args: _di = Pointer to palette data destination in RAM.
  222                        	;
  223                        	; The transfer is split into 32-byte chunks so that an HSYNC and/or TIMER
  224                        	; IRQ is not delayed for too long while executing.
  225                        	;
  226                        	
  227    1F:DEDD             	read_palettes	.proc
  228                        	
  229    1F:DEDD  A9 80      	.wait:		lda	#$80			; Acquire color mutex to avoid
  230    1F:DEDF  0C A0 26   			tsb	color_mutex		; conflict with xfer_palettes.
  231    1F:DEE2  30 F9      			bmi	.wait
  232                        	
  233               0001     		.if	!CDROM
  234    1F:DEE4  73 1B DF 86			tii	.tai_func, color_tia, 8 ; Copy TAI to RAM.
         1F:DEE8  22 08 00    
  235                        		.endif
  236                        	
  237    1F:DEEB  A5 F8      	.next_item:	lda	<_al			; Get the palette number.
  238    1F:DEED  0A         			asl	a
  239    1F:DEEE  0A         			asl	a
  240    1F:DEEF  0A         			asl	a
  241    1F:DEF0  0A         			asl	a
  242    1F:DEF1  8D 02 04   			sta	VCE_CTA + 0
  243    1F:DEF4  62         			cla
  244    1F:DEF5  2A         			rol	a
  245    1F:DEF6  8D 03 04   			sta	VCE_CTA + 1
  246                        	
  247    1F:DEF9  A6 F9      			ldx	<_ah			; How many palettes to xfer?
  248                        	
  249    1F:DEFB  A5 F1      			lda.h	<_di
  250    1F:DEFD  8D 8A 22   			sta	.ram_tai + 4
  251    1F:DF00  A5 F0      			lda.l	<_di
  252    1F:DF02  8D 89 22   	.palette_loop:	sta	.ram_tai + 3
  253                        	
  254               0000     		.if	CDROM
  256                        		.else
  257    1F:DF05  20 86 22   			jsr	.ram_tai		; Copy 32-bytes from the VCE.
  258                        		.endif
  259                        	
  260    1F:DF08  18         			clc				; Increment the data ptr to
  261    1F:DF09  69 20      			adc	#32			; the next 32-byte palette.
  262    1F:DF0B  B0 09      			bcs	.next_page
  263                        	
  264    1F:DF0D  CA         	.next_palette:	dex				; Any palettes left to xfer?
  265    1F:DF0E  D0 F2      			bne	.palette_loop
  266                        	
  267    1F:DF10  9C A0 26   			stz	color_mutex		; Release color mutex.
  268                        	
  269                        			leave
         1F:DF13  4C EF FF   			jmp	leave_proc
  270                        	
  271    1F:DF16  EE 8A 22   	.next_page:	inc	.ram_tai + 4
  272    1F:DF19  80 F2      			bra	.next_palette
  273                        	
  274               0001     		.if	!CDROM
  275               2286     	.ram_tai	=	color_tia		; Use a TIA in RAM.
  276                        	
  277    1F:DF1B  F3 04 04 00	.tai_func:	tai	VCE_CTR, 0, 32
         1F:DF1F  00 20 00    
  278    1F:DF22  60         			rts
  279                        		.endif	!CDROM
  280                        	
  281                        			.endp
  282                        	
  283               0001     		.ifdef	HUCC
  284    00:E41E             			.alias	_read_palette.3		= read_palettes
  285                        		.endif
  286                        	
  287                        	
  288                        	
  289                        	vce_fade_funcs	.procgroup
  516                        			.endprocgroup
  517                        	
  518                        	
  519                        	
  520                        	; ***************************************************************************
  521                        	; ***************************************************************************
  522                        	;
  523                        	; cross_fade_to - Cross fade a palette in RAM towards a reference palette.
  524                        	;
  525                        	; Args: _al = Number of colors (1..256).
  526                        	; Args: _di = Pointer to faded palette destination in RAM.
  527                        	; Args: _bp = Pointer to reference palette data.
  528                        	; Args:   Y = Bank to map into MPR3 & MPR4, or zero to leave unchanged.
  529                        	;
  530                        	; N.B. Y==0 is only useful if the reference palette data is already mapped!
  531                        	;
  532                        	; N.B. This only updates the palette in RAM by 1 RGB step, so it will need
  533                        	;      to be called 7 times to guarantee that you've reached the target.
  534                        	;
  535                        	
  536    1F:D9FB             	cross_fade_to	.proc
  537                        	
  538    1F:D9FB  43 08      			tma3				; Preserve MPR3.
  539    1F:D9FD  48         			pha
  540    1F:D9FE  43 10      			tma4				; Preserve MPR4.
  541    1F:DA00  48         			pha
  542                        	
  543    1F:DA01  98         			tya				; Is there a bank to map?
  544    1F:DA02  F0 03      			beq	!+
  545                        	
  546    1F:DA04  20 4F E3   			jsr	map_bp_to_mpr34		; Map data to MPR3 & MPR4.
  547                        	
  548    1F:DA07  A5 F8      	!:		lda	<_al			; # of colors (1..256).
  549    1F:DA09  F0 05      			beq	.next_page		; Exactly 256 colors?
  550    1F:DA0B  0A         	!:		asl	a
  551    1F:DA0C  90 07      			bcc	.page_loop
  552    1F:DA0E  F0 FB      			beq	!-			; Exactly 128 colors?
  553                        	
  554    1F:DA10  38         	.next_page:	sec				; More than 128 colors.
  555    1F:DA11  E6 ED      			inc.h	<_bp
  556    1F:DA13  E6 F1      			inc.h	<_di
  557                        	
  558    1F:DA15  08         	.page_loop:	php				; C is set if more than 128
  559    1F:DA16  A8         			tay				; colors left to fade.
  560                        	
  561    1F:DA17  88         	.green:		dey				; Is target green > fade green?
  562               0001     		.if	VCE_SPLIT_CROSS
  563    1F:DA18  8F F9 31   			bbs0	<_ah, .red
  564                        		.endif
  565    1F:DA1B  B1 EC      			lda	[_bp], y
  566    1F:DA1D  4A         			lsr	a
  567    1F:DA1E  88         			dey
  568    1F:DA1F  B1 EC      			lda	[_bp], y
  569    1F:DA21  6A         			ror	a
  570    1F:DA22  29 E0      			and	#%11100000
  571    1F:DA24  85 00      			sta	<__temp
  572    1F:DA26  C8         			iny
  573    1F:DA27  B1 F0      			lda	[_di], y
  574    1F:DA29  4A         			lsr	a
  575    1F:DA2A  88         			dey
  576    1F:DA2B  B1 F0      			lda	[_di], y
  577    1F:DA2D  6A         			ror	a
  578    1F:DA2E  08         			php
  579    1F:DA2F  AA         			tax
  580    1F:DA30  29 E0      			and	#%11100000
  581    1F:DA32  38         			sec
  582    1F:DA33  E5 00      			sbc	<__temp
  583    1F:DA35  22         			sax				; Move X to A but keep Z.
  584    1F:DA36  F0 08      			beq	.set_green		; Don't update if equal green.
  585    1F:DA38  B0 04      			bcs	.dec_green
  586    1F:DA3A  69 20      	.inc_green:	adc	#%00100000
  587    1F:DA3C  80 02      			bra	.set_green
  588    1F:DA3E  E9 20      	.dec_green:	sbc	#%00100000
  589    1F:DA40  28         	.set_green:	plp
  590    1F:DA41  2A         			rol	a
  591               0001     		.if	VCE_SPLIT_CROSS
  592    1F:DA42  91 F0      			sta	[_di], y		; Save lo-byte of updated color.
  593                        		.else
  595                        		.endif
  596    1F:DA44  62         			cla
  597    1F:DA45  2A         			rol	a
  598    1F:DA46  C8         			iny
  599    1F:DA47  91 F0      			sta	[_di], y		; Save hi-byte of updated color.
  600               0001     		.if	VCE_SPLIT_CROSS
  601    1F:DA49  88         			dey
  602    1F:DA4A  80 34      			bra	.next_color
  603                        		.endif
  604                        	
  605    1F:DA4C  88         	.red:		dey
  606    1F:DA4D  B1 EC      			lda	[_bp], y		; Is target red > fade red?
  607    1F:DA4F  29 38      			and	#%00111000
  608    1F:DA51  85 00      			sta	<__temp
  609               0001     		.if	VCE_SPLIT_CROSS
  610    1F:DA53  B1 F0      			lda	[_di], y
  611    1F:DA55  AA         			tax
  612                        		.else
  614                        		.endif
  615    1F:DA56  29 38      			and	#%00111000
  616    1F:DA58  38         			sec
  617    1F:DA59  E5 00      			sbc	<__temp
  618    1F:DA5B  22         			sax				; Move X to A but keep Z.
  619    1F:DA5C  F0 08      			beq	.set_red		; Don't update if equal red.
  620    1F:DA5E  B0 04      			bcs	.dec_red
  621    1F:DA60  69 08      	.inc_red:	adc	#%00001000
  622    1F:DA62  80 02      			bra	.set_red
  623    1F:DA64  E9 08      	.dec_red:	sbc	#%00001000
  624    1F:DA66  AA         	.set_red:	tax
  625                        	
  626    1F:DA67  B1 EC      	.blue:		lda	[_bp], y		; Is target blue > fade blue?
  627    1F:DA69  29 07      			and	#%00000111
  628    1F:DA6B  85 00      			sta	<__temp
  629    1F:DA6D  8A         			txa
  630    1F:DA6E  29 07      			and	#%00000111
  631    1F:DA70  38         			sec
  632    1F:DA71  E5 00      			sbc	<__temp
  633    1F:DA73  22         			sax				; Move X to A but keep Z.
  634    1F:DA74  F0 08      			beq	.set_blue		; Don't update if equal blue.
  635    1F:DA76  B0 04      			bcs	.dec_blue
  636    1F:DA78  69 01      	.inc_blue:	adc	#%00000001
  637    1F:DA7A  80 02      			bra	.set_blue
  638    1F:DA7C  E9 01      	.dec_blue:	sbc	#%00000001
  639    1F:DA7E  91 F0      	.set_blue:	sta	[_di], y		; Save lo-byte of updated color.
  640                        	
  641    1F:DA80  98         	.next_color:	tya				; Last color in the page?
  642    1F:DA81  D0 94      			bne	.green
  643    1F:DA83  28         			plp				; Are there another 128 colors?
  644    1F:DA84  90 07      			bcc	.finished
  645                        	
  646    1F:DA86  C6 ED      			dec.h	<_bp			; Fade the 1st 128 colors if
  647    1F:DA88  C6 F1      			dec.h	<_di			; there were more than 128.
  648    1F:DA8A  18         			clc
  649    1F:DA8B  80 88      			bra	.page_loop
  650                        	
  651    1F:DA8D  68         	.finished:	pla				; Restore MPR4.
  652    1F:DA8E  53 10      			tam4
  653    1F:DA90  68         			pla				; Restore MPR3.
  654    1F:DA91  53 08      			tam3
  655                        	
  656                        			leave				; All done, phew!
         1F:DA93  4C EF FF   			jmp	leave_proc
  657                        	
  658                        			.endp
                             #[2]   "..\..\..\include\hucc\hucc-final.asm"
                             #[3]   "..\..\..\include\hucc\vdc.asm"
   40                        			include	"vdc.asm"		; Useful VDC routines.
    1                        	; ***************************************************************************
    2                        	; ***************************************************************************
    3                        	;
    4                        	; vdc.asm
    5                        	;
    6                        	; Useful routines for operating the HuC6270 Video Display Controller.
    7                        	;
    8                        	; These should be located in permanently-accessible memory!
    9                        	;
   10                        	; Copyright John Brandwood 2021-2025.
   11                        	;
   12                        	; Distributed under the Boost Software License, Version 1.0.
   13                        	; (See accompanying file LICENSE_1_0.txt or copy at
   14                        	;  http://www.boost.org/LICENSE_1_0.txt)
   15                        	;
   16                        	; ***************************************************************************
   17                        	; ***************************************************************************
   18                        	
   19                        	;
   20                        	; Include dependancies ...
   21                        	;
   22                        	
   23                        			include "common.asm"		; Common helpers.
   24                        			include "vce.asm"		; Useful VCE routines.
   25                        	
   26                        	;
   27                        	; Choose how much to transfer to VRAM in a single chunk, normally 16-bytes.
   28                        	;
   29                        	; The cycle timings for a TIA-to-VRAM depend upon how the VDC's MWR CPU slots
   30                        	; line up to the CPU's writes, and how long the VDC has to halt the CPU while
   31                        	; it fetches the next scanline's sprite data.
   32                        	;
   33                        	; These cycle timings are for 0 sprites (best) and 16 sprites (worst) ...
   34                        	;
   35                        	; 32-byte TIA takes 270..364 cycles in 5MHz, 242..312 cycles in 7MHz. (8.44 cycles-per-byte best-case at 5MHz.)
   36                        	; 24-byte TIA takes 210..298 cycles in 5MHz, 186..256 cycles in 7MHz. (8.75 cycles-per-byte best-case at 5MHz.)
   37                        	; 16-byte TIA takes 142..234 cycles in 5MHz, 128..200 cycles in 7MHz. (8.88 cycles-per-byte best-case at 5MHz.)
   38                        	;
   39                        	; If a user wishes to be able to put RCR interrupts one-line-after-another,
   40                        	; then it is only safe to use 32-byte chunks if there are no TIMER or IRQ2
   41                        	; interrupts ... which is almost-impossible to rely on in library code!
   42                        	;
   43                        	
   44               0000     		.ifndef	VRAM_XFER_SIZE
   46                        		.endif
   47                        	
   48                        	;
   49                        	; Enable BG & SPR layers, and RCR interrupt.
   50                        	;
   51                        	
   52    00:E41E  A9 04      	set_rcron:	lda	#$04			; Enable RCR interrupt.
   53    00:E420  80 0A      			bra	!+
   54                        	
   55    00:E422  A9 80      	set_bgon:	lda	#$80			; Enable BG layer.
   56    00:E424  80 06      			bra	!+
   57                        	
   58    00:E426  A9 40      	set_spron:	lda	#$40			; Enable SPR layer.
   59    00:E428  80 02      			bra	!+
   60                        	
   61    00:E42A  A9 C0      	set_dspon:	lda	#$C0			; Enable BG & SPR layers.
   62                        	
   63    00:E42C  04 F3      	!:		tsb	<vdc_crl		; These take effect when
   64               0001     		.if	SUPPORT_SGX			; the next VBLANK occurs.
   65    00:E42E  04 03      			tsb	<sgx_crl
   66                        		.endif
   67    00:E430  60         			rts
   68                        	
   69                        	;
   70                        	; Disable BG & SPR layers, and RCR interrupt.
   71                        	;
   72                        	
   73    00:E431  A9 04      	set_rcroff:	lda	#$04			; Disable RCR interrupt.
   74    00:E433  80 0A      			bra	!+
   75                        	
   76    00:E435  A9 80      	set_bgoff:	lda	#$80			; Disable BG layer.
   77    00:E437  80 06      			bra	!+
   78                        	
   79    00:E439  A9 40      	set_sproff:	lda	#$40			; Disable SPR layer.
   80    00:E43B  80 02      			bra	!+
   81                        	
   82    00:E43D  A9 C0      	set_dspoff:	lda	#$C0			; Disable BG & SPR layers.
   83                        	
   84    00:E43F  14 F3      	!:		trb	<vdc_crl		; These take effect when
   85               0001     		.if	SUPPORT_SGX			; the next VBLANK occurs.
   86    00:E441  14 03      			trb	<sgx_crl
   87                        		.endif
   88    00:E443  60         			rts
   89                        	
   90                        	
   91                        	
   92                        	; ***************************************************************************
   93                        	; ***************************************************************************
   94                        	;
   95                        	; Put the _di data pointer into the VDC's MARR or MAWR register.
   96                        	;
   97                        	; N.B. Library code relies on this preserving Y!
   98                        	;
   99                        	; Args: _di + 0 = BAT X coordinate.
  100                        	; Args: _di + 1 = BAT Y coordinate.
  101                        	;
  102                        	; Here because it relies on the "vdc_bat_width" that is defined in this file.
  103                        	;
  104                        	
  105               0001     		.if	SUPPORT_SGX
  106    00:E444  A2 10      	sgx_di_xy_marr:	ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
  107    00:E446  F0         			db	$F0			; Turn "clx" into a "beq".
  108                        		.endif
  109                        	
  110    00:E447  82         	vdc_di_xy_marr:	clx				; Offset to PCE VDC.
  111                        	
  112    00:E448  62         	set_di_xy_mawr:	cla
  113    00:E449  3C CB 26   			bit	vdc_bat_width, x	; Set by set_bat_size().
  114    00:E44C  30 08      			bmi	.w128
  115    00:E44E  70 03      			bvs	.w64
  116    00:E450  46 F1      	.w32:		lsr.h	<_di
  117    00:E452  6A         			ror	a
  118    00:E453  46 F1      	.w64:		lsr.h	<_di
  119    00:E455  6A         			ror	a
  120    00:E456  46 F1      	.w128:		lsr.h	<_di
  121    00:E458  6A         			ror	a
  122    00:E459  05 F0      			ora.l	<_di
  123    00:E45B  85 F0      			sta.l	<_di
  124    00:E45D  4C 93 E3   			jmp	set_di_to_mawr		; In "common.asm".
  125                        	
  126                        	
  127                        	
  128    1F:DF23             	vdc_clear_vram	.procgroup			; These routines share code!
  129                        	
  130                        	; ***************************************************************************
  131                        	; ***************************************************************************
  132                        	;
  133                        	; clear_vram_sgx - Clear all of VRAM in the SGX VDC.
  134                        	; clear_vram_vdc - Clear all of VRAM in the PCE VDC.
  135                        	;
  136                        	; Args: _ax = word value to write to the BAT.
  137                        	; Args: _bl = hi-byte of size of BAT (# of words).
  138                        	;
  139                        	
  140               0001     		.if	SUPPORT_SGX
  141    1F:DF23             	clear_vram_sgx	.proc
  142                        	
  143    1F:DF23  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
  144    1F:DF25  F0         			db	$F0			; Turn "clx" into a "beq".
  145                        	
  146    1F:DF26             			.ref	clear_vram_vdc		; Need clear_vram_vdc
  147                        			.endp
  148                        		.endif
  149                        	
  150    1F:DF26             	clear_vram_vdc	.proc
  151                        	
  152    1F:DF26  82         			clx				; Offset to PCE VDC.
  153                        	
  154    1F:DF27  20 47 FD   	clear_vram_x:	call	clear_bat_x		; Clear the BAT.
  155                        	
  156    1F:DF2A  A9 80      			lda	#$80			; Xvert hi-byte of # words
  157    1F:DF2C  38         			sec				; in screen to loop count.
  158    1F:DF2D  E5 FA      			sbc	<_bl
  159    1F:DF2F  4A         			lsr	a
  160                        	
  161                        	;		cly				; Clear the rest of VRAM.
  162    1F:DF30  9E 02 02   			stz	VDC_DL, x
  163    1F:DF33  9E 03 02   	.clr_loop:	stz	VDC_DH, x		; Seperate writes to minimize
  164    1F:DF36  88         			dey				; VDC MWR penalty.
  165    1F:DF37  9E 03 02   			stz	VDC_DH, x
  166    1F:DF3A  D0 F7      			bne	.clr_loop
  167    1F:DF3C  3A         			dec	a
  168    1F:DF3D  D0 F4      			bne	.clr_loop
  169                        	
  170                        			leave				; All done, phew!
         1F:DF3F  4C EF FF   			jmp	leave_proc
  171                        	
  172                        			.endp
  173                        	
  174                        	
  175                        	
  176                        	; ***************************************************************************
  177                        	; ***************************************************************************
  178                        	;
  179                        	; clear_bat_sgx - Clear the BAT in the SGX VDC.
  180                        	; clear_bat_vdc - Clear the BAT in the PCE VDC.
  181                        	;
  182                        	; Args: _ax = word value to write to the BAT.
  183                        	; Args: _bl = hi-byte of size of BAT (# of words).
  184                        	;
  185                        	
  186               0001     		.if	SUPPORT_SGX
  187                        	clear_bat_sgx	.proc
  193                        			.endp
  194                        		.endif
  195                        	
  196    1F:DF42             	clear_bat_vdc	.proc
  197                        	
  198    1F:DF42  82         			clx				; Offset to PCE VDC.
  199                        	
  200    1F:DF43             			.ref	clear_bat_x		; Need clear_bat_x
  201                        			.endp
  202                        	
  203    1F:DF43             	clear_bat_x	.proc				; HuCC uses this entry point.
  204                        	
  205    1F:DF43  64 F0      			stz	<_di + 0		; Set VDC or SGX destination
  206    1F:DF45  64 F1      			stz	<_di + 1		; address.
  207    1F:DF47  20 93 E3   			jsr	set_di_to_mawr
  208                        	
  209    1F:DF4A  A5 FA      			lda	<_bl			; Xvert hi-byte of # words
  210    1F:DF4C  4A         			lsr	a			; in screen to loop count.
  211                        	
  212    1F:DF4D  C2         			cly
  213    1F:DF4E  48         	.bat_loop:	pha
  214    1F:DF4F  A5 F8      			lda	<_ax + 0
  215    1F:DF51  9D 02 02   			sta	VDC_DL, x
  216    1F:DF54  A5 F9      			lda	<_ax + 1
  217    1F:DF56  9D 03 02   	.bat_pair:	sta	VDC_DH, x		; Seperate writes to minimize
  218    1F:DF59  88         			dey				; VDC MWR penalty.
  219    1F:DF5A  9D 03 02   			sta	VDC_DH, x
  220    1F:DF5D  D0 F7      			bne	.bat_pair
  221                        	
  222    1F:DF5F  68         			pla
  223    1F:DF60  3A         			dec	a
  224    1F:DF61  D0 EB      			bne	.bat_loop
  225                        	
  226                        			leave
         1F:DF63  4C EF FF   			jmp	leave_proc
  227                        	
  228                        			.endp
  229                        	
  230                        			.endprocgroup
  231                        	
  232                        	;
  233                        	;
  234                        	;
  235                        	
  236    1F:D6E5             	vdc_set_mode	.procgroup			; These routines share code!
  237                        	
  238                        	; ***************************************************************************
  239                        	; ***************************************************************************
  240                        	;
  241                        	; set_mode_sgx - Set video hardware registers from a data table.
  242                        	; set_mode_vdc - Set video hardware registers from a data table.
  243                        	;
  244                        	; Args: _bp, Y = _farptr to data table mapped into MPR3 & MPR4.
  245                        	;
  246                        	
  247               0001     		.if	SUPPORT_SGX
  248    1F:D6E5             	set_mode_sgx	.proc
  249                        	
  250    1F:D6E5  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
  251    1F:D6E7  F0         			db	$F0			; Turn "clx" into a "beq".
  252                        	
  253                        			.endp
  254                        		.endif
  255                        	
  256    1F:D6E8             	set_mode_vdc	.proc
  257                        	
  258    1F:D6E8  82         			clx				; Offset to PCE VDC.
  259                        	
  260    1F:D6E9  F7 F8      			smb7	<_al			; Signal no set_bat_size() yet.
  261                        	
  262    1F:D6EB  43 08      			tma3				; Preserve MPR3.
  263    1F:D6ED  48         			pha
  264    1F:D6EE  43 10      			tma4				; Preserve MPR4.
  265    1F:D6F0  48         			pha
  266                        	
  267    1F:D6F1  20 4F E3   			jsr	map_bp_to_mpr34		; Map data to MPR3 & MPR4.
  268                        	
  269    1F:D6F4  08         			php				; Disable interrupts.
  270    1F:D6F5  78         			sei
  271                        	
  272    1F:D6F6  C2         			cly				; Table size is < 256 bytes.
  273                        	
  274    1F:D6F7  B1 EC      	.loop:		lda	[_bp], y		; Get the register #, +ve for
  275    1F:D6F9  F0 46      			beq	.done			; VDC, -128 for VCE_CR.
  276    1F:D6FB  10 0C      			bpl	.set_vdc_reg
  277                        	
  278                        			; Set the VCE_CR register.
  279                        	
  280    1F:D6FD  C8         	.set_vce_cr:	iny
  281                        	
  282    1F:D6FE  B1 EC      			lda	[_bp], y		; Get lo-byte of register.
  283    1F:D700  C8         			iny
  284    1F:D701  8D 44 22   			sta	vce_cr			; No SGX shadow for this!
  285    1F:D704  8D 00 04   			sta	VCE_CR			; Set the VCE clock speed.
  286    1F:D707  80 EE      			bra	.loop			; Do not set VDC_MWR reg bits!
  287                        	
  288                        			; Set a VDC register.
  289                        	
  290    1F:D709  C8         	.set_vdc_reg:	iny
  291    1F:D70A  9D 00 02   			sta	VDC_AR, x		; Set which VDC register.
  292                        	
  293    1F:D70D  C9 05      			cmp	#VDC_CR			; CS if VDC_CR or higher.
  294    1F:D70F  F0 14      			beq	.skip_cc
  295    1F:D711  18         			clc				; CC if not VDC_CR.
  296                        	
  297    1F:D712  49 09      			eor	#VDC_MWR		; Check if this the VDC_MWR
  298    1F:D714  D0 0F      			bne	.skip_cc		; without changing CC.
  299                        	
  300    1F:D716  B1 EC      			lda	[_bp], y		; Remember the BAT size so that
  301    1F:D718  8D 42 22   			sta	vdc_mwr			; set_bat_size() can be called.
  302    1F:D71B  4A         			lsr	a
  303    1F:D71C  4A         			lsr	a
  304    1F:D71D  4A         			lsr	a
  305    1F:D71E  4A         			lsr	a
  306    1F:D71F  85 F8      			sta	<_al
  307    1F:D721  C8         			iny
  308    1F:D722  C8         			iny
  309    1F:D723  80 D2      			bra	.loop
  310                        	
  311    1F:D725  B1 EC      	.skip_cc:	lda	[_bp], y		; Get lo-byte of register.
  312    1F:D727  C8         			iny
  313    1F:D728  90 08      			bcc	.not_vdc_cr
  314                        	
  315               0001     		.if	SUPPORT_SGX
  316    1F:D72A  E0 00      			cpx	#0			; Writing to the VDC or SGX?
  317    1F:D72C  F0 02      			beq	.save_crl
  318    1F:D72E  29 F7      			and	#$F7			; We only need 1 vblank IRQ!
  319                        		.endif
  320                        	
  321    1F:D730  95 F3      	.save_crl:	sta	<vdc_crl, x		; Save VDC_CR shadow register.
  322                        	
  323    1F:D732  9D 02 02   	.not_vdc_cr:	sta	VDC_DL, x		; Write to VDC.
  324                        	
  325    1F:D735  B1 EC      			lda	[_bp], y		; Get hi-byte of register.
  326    1F:D737  C8         			iny
  327    1F:D738  9D 03 02   			sta	VDC_DH, x
  328    1F:D73B  90 BA      			bcc	.loop			; Next register, please!
  329                        	
  330    1F:D73D  95 F4      			sta	<vdc_crh, x		; Save VDC_CR shadow register.
  331                        	
  332    1F:D73F  80 B6      			bra	.loop			; Next register, please!
  333                        	
  334                        			; All registers set!
  335                        	
  336    1F:D741  A9 02      	.done:		lda	#VDC_VWR		; Leave with VDC_VWR set.
  337    1F:D743  95 F7      			sta	<vdc_reg, x
  338                        	;		lda	<vdc_reg, x		; Restore previous VDC_AR from
  339    1F:D745  9D 00 02   			sta	VDC_AR, x		; the shadow variable.
  340                        	
  341    1F:D748  28         			plp				; Restore interrupts.
  342                        	
  343    1F:D749  68         			pla				; Restore MPR4.
  344    1F:D74A  53 10      			tam4
  345    1F:D74C  68         			pla				; Restore MPR3.
  346    1F:D74D  53 08      			tam3
  347                        	
  348    1F:D74F  7F F8 07   			bbr7	<_al, set_bat_size	; Update if BAT size changed.
  349                        	
  350                        			leave				; All done, phew!
         1F:D752  4C EF FF   			jmp	leave_proc
  351                        	
  352    1F:D755             			.ref	set_bat_vdc
  353                        			.endp
  354                        	
  355                        	
  356                        	
  357                        	; ***************************************************************************
  358                        	; ***************************************************************************
  359                        	;
  360                        	; set_bat_sgx - Change the SGX BAT size and initialize variables based on it.
  361                        	; set_bat_vdc - Change the PCE BAT size and initialize variables based on it.
  362                        	;
  363                        	; Args: _al = new size (0-7).
  364                        	;
  365                        	; (VDC_MWR_32x32  >> 4) or in HuCC, SCR_SIZE_32x32.
  366                        	; (VDC_MWR_32x64  >> 4) or in HuCC, SCR_SIZE_32x64.
  367                        	; (VDC_MWR_64x32  >> 4) or in HuCC, SCR_SIZE_64x32.
  368                        	; (VDC_MWR_64x64  >> 4) or in HuCC, SCR_SIZE_64x64.
  369                        	; (VDC_MWR_128x32 >> 4) or in HuCC, SCR_SIZE_128x32.
  370                        	; (VDC_MWR_128x64 >> 4) or in HuCC, SCR_SIZE_128x64.
  371                        	;
  372                        	
  373               0001     		.if	SUPPORT_SGX
  374    1F:D755             	set_bat_sgx	.proc
  375                        	
  376    1F:D755  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
  377    1F:D757  F0         			db	$F0			; Turn "clx" into a "beq".
  378                        	
  379    1F:D758             			.ref	set_bat_vdc
  380                        			.endp
  381                        		.endif
  382                        	
  383    1F:D758             	set_bat_vdc	.proc
  384                        	
  385    1F:D758  82         			clx				; Offset to PCE VDC.
  386                        	
  387    1F:D759  A5 F8      	set_bat_size:	lda	<_al			; Get BAT size value.
  388    1F:D75B  29 07      			and	#7			; Sanitize screen size value.
  389    1F:D75D  A8         			tay
  390    1F:D75E  0A         			asl	a			; Put it in bits 4..6.
  391    1F:D75F  0A         			asl	a
  392    1F:D760  0A         			asl	a
  393    1F:D761  0A         			asl	a
  394    1F:D762  85 00      			sta	<__temp
  395                        	
  396    1F:D764  B9 A4 D7   			lda	.width, y
  397    1F:D767  9D CB 26   			sta	vdc_bat_width, x
  398    1F:D76A  3A         			dec	a
  399    1F:D76B  9D CD 26   			sta	vdc_bat_x_mask, x
  400                        	
  401    1F:D76E  B9 AC D7   			lda	.height, y
  402    1F:D771  9D CC 26   			sta	vdc_bat_height, x
  403    1F:D774  3A         			dec	a
  404    1F:D775  9D CE 26   			sta	vdc_bat_y_mask, x
  405                        	
  406    1F:D778  B9 B4 D7   			lda	.limit, y
  407    1F:D77B  9D CF 26   			sta	vdc_bat_limit, x
  408                        	
  409    1F:D77E  B9 BC D7   			lda	.increment, y		; Put the VRAM increment for a
  410    1F:D781  95 F4      			sta	<vdc_crh, x		; line into vdc_crh for later.
  411                        	
  412    1F:D783  08         			php
  413    1F:D784  78         			sei
  414                        	
  415    1F:D785  A9 09      			lda	#VDC_MWR
  416    1F:D787  9D 00 02   			sta	VDC_AR, x
  417                        	
  418    1F:D78A  AD 42 22   			lda	vdc_mwr			; Get the MWR access width bits.
  419    1F:D78D  29 8F      			and	#%10001111
  420    1F:D78F  05 00      			ora	<__temp
  421               0001     		.if	SUPPORT_SGX
  422    1F:D791  E0 00      			cpx	#PCE_VDC_OFFSET		; This has no SGX shadow!
  423    1F:D793  D0 03      			bne	!+
  424                        		.endif
  425    1F:D795  8D 42 22   			sta	vdc_mwr
  426    1F:D798  9D 02 02   	!:		sta	VDC_DL, x
  427                        	
  428    1F:D79B  B5 F7      			lda	<vdc_reg, x		; Restore previous VDC_AR from
  429    1F:D79D  9D 00 02   			sta	VDC_AR, x		; the shadow variable.
  430                        	
  431    1F:D7A0  28         			plp
  432                        	
  433                        			leave
         1F:D7A1  4C EF FF   			jmp	leave_proc
  434                        	
  435    1F:D7A4  20 40 80 80	.width:		db	$20,$40,$80,$80,$20,$40,$80,$80
         1F:D7A8  20 40 80 80 
  436    1F:D7AC  20 20 20 20	.height:	db	$20,$20,$20,$20,$40,$40,$40,$40
         1F:D7B0  40 40 40 40 
  437    1F:D7B4  03 07 0F 0F	.limit:		db	$03,$07,$0F,$0F,$07,$0F,$1F,$1F
         1F:D7B8  07 0F 1F 1F 
  438    1F:D7BC  08 10 18 18	.increment	db	$08,$10,$18,$18,$08,$10,$18,$18
         1F:D7C0  08 10 18 18 
  439                        	
  440               26CB     			.bss
  441                        	
  442                        	; **************
  443                        	; 16-bytes of VDC BAT information.
  444                        	;
  445                        	; N.B. MUST be 16-bytes before the SGX versions to use PCE_VDC_OFFSET.
  446                        	;
  447                        	; N.B. Declared inside this .proc so that they can be stripped if unused.
  448                        	
  449                        	; Initialized by set_bat_vdc.
  450    F8:26CB             	vdc_bat_width:	ds	1	; $20, $40, $80
  451    F8:26CC             	vdc_bat_height:	ds	1	; $20, $40
  452    F8:26CD             	vdc_bat_x_mask:	ds	1	; $1F, $3F, $7F
  453    F8:26CE             	vdc_bat_y_mask:	ds	1	; $1F, $3F
  454    F8:26CF             	vdc_bat_limit:	ds	1	; (>$03FF), (>$07FF), (>$0FFF), (>$1FFF)
  455                        	
  456                        	; From blkmap.asm just to avoid wasting .bss space with padding.
  457    F8:26D0             	vdc_map_draw_w:	ds	1	; (SCR_WIDTH / 8) + 1
  458    F8:26D1             	vdc_map_draw_h:	ds	1	; (SCR_HEIGHT / 8) + 1
  459    F8:26D2             	vdc_map_line_w:	ds	1	; Line width of map data in tiles.
  460    F8:26D3             	vdc_map_scrn_w:	ds	1	; Line width of map data in screens.
  461    F8:26D4             	vdc_map_pxl_x:	ds	2	; Current top-left X in pixels.
  462    F8:26D6             	vdc_map_pxl_y:	ds	2	; Current top-left Y in pixels.
  463    F8:26D8             	vdc_map_option:	ds	1	; Flags to disable BAT alignment.
  464                        	
  465                        	; From hucc-old-spr.asm just to avoid wasting .bss space with padding.
  466    F8:26D9             	spr_max:	ds	1
  467    F8:26DA             	spr_clr:	ds	1
  468                        	
  469               0001     		.if	SUPPORT_SGX
  470                        	
  471                        	; **************
  472                        	; 16-bytes of SGX BAT information.
  473                        	;
  474                        	; N.B. MUST be 16-bytes after the VDC versions to use SGX_VDC_OFFSET.
  475                        	;
  476                        	; N.B. Declared inside this .proc so that they can be stripped if unused.
  477                        	
  478                        	; Initialized by set_bat_sgx.
  479    F8:26DB             	sgx_bat_width:	ds	1	; $20, $40, $80
  480    F8:26DC             	sgx_bat_height:	ds	1	; $20, $40
  481    F8:26DD             	sgx_bat_x_mask:	ds	1	; $1F, $3F, $7F
  482    F8:26DE             	sgx_bat_y_mask:	ds	1	; $1F, $3F
  483    F8:26DF             	sgx_bat_limit:	ds	1	; (>$03FF), (>$07FF), (>$0FFF), (>$1FFF)
  484                        	
  485                        	; From blkmap.asm just to avoid wasting .bss space with padding.
  486    F8:26E0             	sgx_map_draw_w:	ds	1	; (SCR_WIDTH / 8) + 1
  487    F8:26E1             	sgx_map_draw_h:	ds	1	; (SCR_HEIGHT / 8) + 1
  488    F8:26E2             	sgx_map_line_w:	ds	1	; Line width of map data in tiles.
  489    F8:26E3             	sgx_map_scrn_w:	ds	1	; Line width of map data in screens.
  490    F8:26E4             	sgx_map_pxl_x:	ds	2	; Current top-left X in pixels.
  491    F8:26E6             	sgx_map_pxl_y:	ds	2	; Current top-left Y in pixels.
  492    F8:26E8             	sgx_map_option:	ds	1	; Flags to disable BAT alignment.
  493                        	
  494                        	; From hucc-old-spr.asm just to avoid wasting .bss space with padding.
  495    F8:26E9             	sgx_spr_max:	ds	1
  496    F8:26EA             	sgx_spr_clr:	ds	1
  497                        	
  498                        		.endif
  499                        	
  500               D7C4     			.code
  501                        	
  502                        			.endp
  503                        	
  504                        			.endprocgroup
  505                        	
  506                        	
  507                        	
  508                        	; ***************************************************************************
  509                        	; ***************************************************************************
  510                        	;
  511                        	; sgx_detect - Detect whether we're running on a SuperGrafx (and init VPC).
  512                        	;
  513                        	; Returns: X,C-flag, and "sgx_detected" = NZ, CS if detected.
  514                        	;
  515                        	; ***************************************************************************
  516                        	;
  517                        	; https://web.archive.org/web/20161129055659/http://cgfm2.emuviews.com/txt/sgxtech.txt
  518                        	;
  519                        	; ***************************************************************************
  520                        	;
  521                        	; HuC6202 VIDEO PRIORITY CONTROLLER (huge thanks to Charles MacDonald!)
  522                        	;
  523                        	; The VPC has no access to sprite priority data, it can only sort pixels
  524                        	; based upon which VDC and whether they are "sprite" or "background".
  525                        	;
  526                        	; This can sometimes lead to unexpected results with low-priority sprites.
  527                        	;
  528                        	; VPC registers $0008 and $0009 make up four 4-bit values that define the
  529                        	; enabled layers and priority setting for the four possible window areas.
  530                        	;
  531                        	; Bits 3-0 of $0008 are for the region where Window 1 and 2 overlap
  532                        	; Bits 7-4 of $0008 are for the region occupied by only Window 2
  533                        	; Bits 3-0 of $0009 are for the region occupied by only Window 1
  534                        	; Bits 7-4 of $0009 are for the region where no Window is present
  535                        	;
  536                        	;  Each 4-bit value has the same format:
  537                        	;
  538                        	;  Bit 0: VDC #1 graphics are 0=disabled, 1=enabled
  539                        	;  Bit 1: VDC #2 graphics are 0=disabled, 1=enabled
  540                        	;  Bit 2: Bit 0 of priority setting
  541                        	;  Bit 3: Bit 1 of priority setting
  542                        	;
  543                        	;   Priority Setting 0b00xx: (useful when VDC #1 is a fullscreen HUD)
  544                        	;
  545                        	;    FRONT
  546                        	;     SP1 = VDC #1 (pce) sprite pixels
  547                        	;     BG1 = VDC #1 (pce) background pixels
  548                        	;     SP2 = VDC #2 (sgx) sprite pixels
  549                        	;     BG2 = VDC #2 (sgx) background pixels
  550                        	;    BACK
  551                        	;
  552                        	;   Priority Setting 0b01xx: (useful for parallax backgrounds)
  553                        	;
  554                        	;    FRONT
  555                        	;     SP1 = VDC #1 (pce) sprite pixels
  556                        	;     SP2 = VDC #2 (sgx) sprite pixels
  557                        	;     BG1 = VDC #1 (pce) background pixels
  558                        	;     BG2 = VDC #2 (sgx) background pixels
  559                        	;    BACK
  560                        	;
  561                        	;   Priority Setting 0b10xx: (only useful for special effects)
  562                        	;
  563                        	;    FRONT
  564                        	;     BG1 = VDC #1 (pce) background pixels (transparent where sprites)
  565                        	;     BG2 = VDC #2 (sgx) background pixels
  566                        	;     SP1 = VDC #1 (pce) sprite pixels
  567                        	;     SP2 = VDC #2 (sgx) sprite pixels
  568                        	;    BACK
  569                        	
  570               0001     		.if	SUPPORT_SGX
  571               0001     		.if	1
  572    1F:DF66             	sgx_detect	.proc
  573                        	
  574    1F:DF66  A0 7F      			ldy	#$7F			; Use VRAM address $7F7F
  575    1F:DF68  84 F0      			sty.l	<_di			; because it won't cause
  576    1F:DF6A  84 F1      			sty.h	<_di			; a screen glitch.
  577                        	
  578    1F:DF6C  20 8F E3   			jsr	sgx_di_to_mawr		; Write $0001 to SGX VRAM.
  579    1F:DF6F  A0 01      			ldy	#$01
  580    1F:DF71  8C 12 02   			sty	SGX_DL
  581    1F:DF74  9C 13 02   			stz	SGX_DH
  582                        	
  583    1F:DF77  20 92 E3   			jsr	vdc_di_to_mawr		; Write $0000 to VDC VRAM.
  584    1F:DF7A  9C 02 02   			stz	VDC_DL
  585    1F:DF7D  9C 03 02   			stz	VDC_DH
  586                        	
  587    1F:DF80  20 82 E3   			jsr	sgx_di_to_marr		; Check value in SGX VRAM.
  588    1F:DF83  AC 12 02   			ldy	SGX_DL			; $01 if found, $00 if not.
  589    1F:DF86  8C E8 22   			sty	sgx_detected
  590    1F:DF89  F0 10      			beq	!+			; Skip the rest if not SGX.
  591                        	
  592    1F:DF8B  20 8F E3   			jsr	sgx_di_to_mawr		; Write $0000 to SGX VRAM
  593    1F:DF8E  9C 12 02   			stz	SGX_DL			; to clean VRAM contents.
  594    1F:DF91  9C 13 02   			stz	SGX_DH
  595                        	
  596    1F:DF94  73 A1 DF 08			tii	.vpc_mode, VPC_CR, 8	; Initialize the HuC6202 VPC.
         1F:DF98  02 08 00    
  597                        	
  598    1F:DF9B  98         	!:		tya
  599    1F:DF9C  AA         			tax				; "leave" copies X back to A.
  600    1F:DF9D  4A         			lsr	a			; Also CC if PCE, CS if SGX.
  601                        	
  602                        			leave				; All done, phew!
         1F:DF9E  4C EF FF   			jmp	leave_proc
  603                        		.else
  618                        		.endif
  619                        	
  620               0000     		.ifndef	SGX_PARALLAX
  622                        		.endif
  623                        	
  624               0000     		.if	SGX_PARALLAX
  629                        		.else
  630    1F:DFA1  00 30      	.vpc_mode:	dw	$3000			; Use SGX as the background
  631    1F:DFA3  00 00      			dw	$0000			; behind a fullscreen HUD.
  632    1F:DFA5  00 00      			dw	$0000
  633    1F:DFA7  00 00      			dw	$0000
  634                        		.endif	SGX_PARALLAX
  635                        	
  636                        			.endp
  637                        	
  638               0000     		.ifndef	CORE_VERSION			; CORE has this in the kernel.
  642                        		.endif	CORE_VERSION
  643                        	
  644                        		.endif	SUPPORT_SGX
  645                        	
  646                        	
  647                        	
  648                        	
  649                        	vdc_copy_to	.procgroup			; These routines share code!
  799                        			.endprocgroup
  800                        	
  801                        	
  802                        	
  803                        	; ***************************************************************************
  804                        	; ***************************************************************************
  805                        	;
  806                        	; init_240x208 - An example of initializing screen and VRAM.
  807                        	;
  808                        	; This can be used as-is, or copied to your own program and modified.
  809                        	;
  810                        	
  811                        	init_240x208	.proc
  892                        			.endp
  893                        	
  894                        	
  895                        	
  896                        	; ***************************************************************************
  897                        	; ***************************************************************************
  898                        	;
  899                        	; init_256x224 - An example of initializing screen and VRAM.
  900                        	;
  901                        	; This can be used as-is, or copied to your own program and modified.
  902                        	;
  903                        	
  904                        	init_256x224	.proc
  985                        			.endp
  986                        	
  987                        	
  988                        	
  989                        	; ***************************************************************************
  990                        	; ***************************************************************************
  991                        	;
  992                        	; init_352x224 - An example of initializing screen and VRAM.
  993                        	;
  994                        	; This can be used as-is, or copied to your own program and modified.
  995                        	;
  996                        	
  997                        	init_352x224	.proc
 1078                        			.endp
 1079                        	
 1080                        	
 1081                        	
 1082                        	; ***************************************************************************
 1083                        	; ***************************************************************************
 1084                        	;
 1085                        	; init_512x224 - An example of initializing screen and VRAM.
 1086                        	;
 1087                        	; This can be used as-is, or copied to your own program and modified.
 1088                        	;
 1089                        	
 1090                        	init_512x224	.proc
 1171                        			.endp
 1172                        	
 1173                        	
 1174                        	
 1175                        	; ***************************************************************************
 1176                        	; ***************************************************************************
 1177                        	;
 1178                        	; init_320x208 - An example of initializing screen and VRAM.
 1179                        	;
 1180                        	; This can be used as-is, or copied to your own program and modified.
 1181                        	;
 1182                        	; This resolution is rarely-seen, but it has no overscan, so it has a use.
 1183                        	;
 1184                        	
 1185                        	init_320x208	.proc
 1266                        			.endp
                             #[2]   "..\..\..\include\hucc\hucc-final.asm"
   41                        	
                             #[3]   "..\..\..\include\hucc\hucc-math.asm"
   42                        			include	"hucc-math.asm"		; HuCC multiply and divide.
    1                        	; ***************************************************************************
    2                        	; ***************************************************************************
    3                        	;
    4                        	; hucc-math.asm
    5                        	;
    6                        	; Basic (i.e. very slow) 8-bit and 16-bit multiply and divide routines.
    7                        	;
    8                        	; Copyright John Brandwood 2021-2024.
    9                        	;
   10                        	; Distributed under the Boost Software License, Version 1.0.
   11                        	; (See accompanying file LICENSE_1_0.txt or copy at
   12                        	;  http://www.boost.org/LICENSE_1_0.txt)
   13                        	;
   14                        	; ***************************************************************************
   15                        	; ***************************************************************************
   16                        	;
   17                        	; This is basically a set of SDCC-compatible routines, but using Y:A for the
   18                        	; primary register instead of X:A.
   19                        	;
   20                        	; Using Y:A makes the routines instantly usable with HuCC, and it also makes
   21                        	; them usable with SDCC with just an "sxy" before and after the call.
   22                        	;
   23                        	; ***************************************************************************
   24                        	; ***************************************************************************
   25                        	
   26               E460     			.code
   27                        	
   28               2000     	multiplier	=	__temp
   29               2094     	multiplicand	=	___SDCC_m6502_ret0
   30               2094     	product		=	multiplicand
   31                        	
   32               2000     	__mulint_PARM_2	=	multiplier
   33                        	
   34               2000     	divisor		=	__temp
   35               2094     	dividend	=	___SDCC_m6502_ret0
   36               2094     	quotient	=	dividend
   37               2096     	remainder	=	___SDCC_m6502_ret2
   38                        	
   39               2000     	__moduint_PARM_2 =	divisor
   40               2000     	__modsint_PARM_2 =	divisor
   41               2000     	__divuint_PARM_2 =	divisor
   42               2000     	__divsint_PARM_2 =	divisor
   43                        	
   44                        	
   45                        	
   46                        	; ***************************************************************************
   47                        	; int
   48                        	; _mulint (int a, int b)
   49                        	;
   50                        	; 1st parameter in Y:A (multiplicand)
   51                        	; 2nd parameter in __mulint_PARM_2 (multiplier)
   52                        	; result in Y:A
   53                        	;
   54                        	; N.B. signed and unsigned multiply only differ in the top 16 of the 32bits!
   55                        	
   56    00:E460  85 94      	__mulint:	sta	<multiplicand + 0
   57    00:E462  84 95      			sty	<multiplicand + 1
   58                        	
   59    00:E464  A2 10      			ldx	#16			; Loop 16 times.
   60                        	
   61    00:E466  46 95      			lsr	<multiplicand + 1	; Divide multiplicand by 2
   62    00:E468  66 94      			ror	<multiplicand + 0	; and clear the 16th bit.
   63                        	
   64    00:E46A  62         			cla				; Clear top word of product.
   65    00:E46B  85 96      			sta.l	<multiplicand + 2
   66    00:E46D  90 0B      			bcc	.rotate
   67                        	
   68    00:E46F  A8         	.add:		tay				; Add the 16-bit multiplier to
   69    00:E470  18         			clc				; top 16-bits of the product.
   70    00:E471  A5 96      			lda	<multiplicand + 2
   71    00:E473  65 00      			adc.l	<multiplier
   72    00:E475  85 96      			sta	<multiplicand + 2
   73    00:E477  98         			tya
   74    00:E478  65 01      			adc.h	<multiplier
   75                        	
   76    00:E47A  6A         	.rotate:	ror	a			; Rotate product into the top
   77    00:E47B  66 96      			ror	<multiplicand + 2	; bits of the multiplicand ...
   78    00:E47D  66 95      			ror	<multiplicand + 1	; and divide multiplicand by 2.
   79    00:E47F  66 94      			ror	<multiplicand + 0
   80                        	
   81    00:E481  CA         			dex
   82    00:E482  B0 EB      			bcs	.add			; Add multiplier to top word?
   83    00:E484  D0 F4      			bne	.rotate			; Completed 16 bits?
   84                        	
   85    00:E486  85 97      			sta	<multiplicand + 3	; Save top byte of product.
   86                        	
   87    00:E488  A5 94      			lda.l	<multiplicand		; Return the bottom 16-bits of
   88    00:E48A  A4 95      			ldy.h	<multiplicand		; the 32-bit product.
   89                        	
   90    00:E48C  60         			rts
   91                        	
   92                        	
   93                        	
   94                        	; ***************************************************************************
   95                        	; unsigned int
   96                        	; _divuint (unsigned int x, unsigned int y)
   97                        	;
   98                        	; 1st parameter in Y:A (unsigned dividend)
   99                        	; 2nd parameter in __divuint_PARM_2 (unsigned divisor)
  100                        	; result in Y:A
  101                        	
  102    00:E48D  20 95 E4   	__divuint:	jsr	__moduint		; Call the basic uint division.
  103                        	
  104    00:E490  A5 94      			lda.l	<quotient		; Then get the result from where
  105    00:E492  A4 95      			ldy.h	<quotient		; it was calculated.
  106    00:E494  60         			rts
  107                        	
  108                        	
  109                        	
  110                        	; ***************************************************************************
  111                        	; unsigned int
  112                        	; _moduint (unsigned int x, unsigned int y)
  113                        	;
  114                        	; 1st parameter in Y:A (unsigned dividend)
  115                        	; 2nd parameter in __moduint_PARM_2 (unsigned divisor)
  116                        	; result in Y:A
  117                        	;
  118                        	; If the dividend has more bits than the divisor, then we need to check the
  119                        	; 17th bit of the remainder!
  120                        	
  121               0000     		.if	0
  176                        		.else
  177                        	
  178    00:E495  85 94      	__moduint:	sta.l	<dividend		; 1st SDCC parameter in Y:A.
  179    00:E497  84 95      			sty.h	<dividend
  180                        	
  181    00:E499  A5 00      	divmoduint:	lda.l	<divisor		; Check for a divide-by-zero.
  182    00:E49B  05 01      			ora.h	<divisor
  183    00:E49D  F0 FE      	.zero:		beq	.zero
  184                        	
  185    00:E49F  A2 11      			ldx	#16 + 1
  186                        	
  187    00:E4A1  C2         			cly				; Clear remainder.
  188    00:E4A2  84 97      			sty.h	<remainder
  189                        	
  190    00:E4A4  98         	.skip:		tya				; Restore remainder lo-byte.
  191                        	
  192    00:E4A5  26 94      	.loop:		rol.l	<dividend		; Quotient bit -> dividend LSB.
  193    00:E4A7  26 95      			rol.h	<dividend		; Rotate dividend, MSB -> C.
  194                        	
  195    00:E4A9  CA         			dex
  196    00:E4AA  F0 14      			beq	.finished
  197                        	
  198    00:E4AC  2A         			rol	a			; Rotate C into remainder.
  199    00:E4AD  26 97      			rol.h	<remainder
  200                        	;		php				; Preserve remainder 17th bit.
  201                        	
  202    00:E4AF  A8         			tay				; Preserve remainder lo-byte.
  203                        	
  204    00:E4B0  C5 00      			cmp.l	<divisor		; Test divisor.
  205    00:E4B2  A5 97      			lda.h	<remainder
  206    00:E4B4  E5 01      			sbc.h	<divisor
  207    00:E4B6  90 EC      			bcc	.skip			; CC if divisor > remainder.
  208                        	
  209                        	;		cmp.l	<divisor		; If the dividend has more bits
  210                        	;		lda.h	<remainder		; than the divisor then we need
  211                        	;		sbc.h	<divisor		; to check the remainder hi-bit.
  212                        	;		bcs	.subtract		; CS if divisor <= remainder.
  213                        	;		plp				; Restore remainder 17th bit.
  214                        	;		bcc	.skip			; CC if divisor > remainder.
  215                        	;		db	$90			; Turn "plp" into "bcc" to skip.
  216                        	;.subtract:	plp				; Discard remainder 17th bit.
  217                        	;		sec
  218                        	
  219    00:E4B8  85 97      			sta.h	<remainder		; Subtract divisor.
  220    00:E4BA  98         			tya
  221    00:E4BB  E5 00      			sbc.l	<divisor
  222    00:E4BD  38         			sec				
  223    00:E4BE  80 E5      			bra	.loop
  224                        	
  225    00:E4C0  A4 97      	.finished:	ldy.h	<remainder		; Get the remainder hi-byte.
  226                        	
  227    00:E4C2  60         			rts
  228                        	
  229                        		.endif
  230                        	
  231                        	
  232                        	
  233                        	; ***************************************************************************
  234                        	; int
  235                        	; _divsint (int x, int y)
  236                        	;
  237                        	; 1st parameter in Y:A (signed dividend)
  238                        	; 2nd parameter in __divsint_PARM_2 (signed divisor)
  239                        	; result in Y:A
  240                        	
  241    00:E4C3  20 CB E4   	__divsint:	jsr	__modsint		; Call the basic sint division.
  242                        	
  243    00:E4C6  A5 94      			lda.l	<quotient		; Then get the result from where
  244    00:E4C8  A4 95      			ldy.h	<quotient		; it was calculated.
  245    00:E4CA  60         			rts
  246                        	
  247                        	
  248                        	
  249                        	; ***************************************************************************
  250                        	; int
  251                        	; _modsint (int x, int y)
  252                        	;
  253                        	; 1st parameter in Y:A (signed dividend)
  254                        	; 2nd parameter in __modsint_PARM_2 (signed divisor)
  255                        	; result in Y:A
  256                        	
  257    00:E4CB  84 95      	__modsint:	sty.h	<dividend
  258                        	
  259    00:E4CD  C0 80      			cpy	#$80			; Remainder -ve if dividend
  260    00:E4CF  08         			php				; was -ve.
  261    00:E4D0  90 03      			bcc	!+
  262    00:E4D2  20 22 E5   			jsr	neg_yacs		; Negate the dividend.
  263                        	
  264    00:E4D5  85 94      	!:		sta.l	<dividend		; Store the dividend.
  265    00:E4D7  A5 95      			lda.h	<dividend
  266    00:E4D9  84 95      			sty.h	<dividend
  267                        	
  268    00:E4DB  45 01      			eor.h	<divisor		; Quotient is -ve if divisor
  269    00:E4DD  08         			php				; and dividend signs differ.
  270                        	
  271    00:E4DE  A5 01      			lda.h	<divisor		; Is the divisor -ve?
  272    00:E4E0  10 0B      			bpl	!+
  273                        	
  274    00:E4E2  38         			sec				; Negate the divisor.
  275    00:E4E3  62         			cla
  276    00:E4E4  E5 00      			sbc.l	<divisor
  277    00:E4E6  85 00      			sta.l	<divisor
  278    00:E4E8  62         			cla
  279    00:E4E9  E5 01      			sbc.h	<divisor
  280    00:E4EB  85 01      			sta.h	<divisor
  281                        	
  282    00:E4ED  20 99 E4   	!:		jsr	divmoduint		; Do the unsigned division.
  283                        	
  284    00:E4F0  28         	.result:	plp				; Should the quotient be -ve?
  285    00:E4F1  10 0D      			bpl	.remainder
  286                        	
  287    00:E4F3  AA         			tax				; Preserve remainder lo-byte.
  288                        	
  289    00:E4F4  38         			sec				; Then negate the quotient.
  290    00:E4F5  62         			cla
  291    00:E4F6  E5 94      			sbc.l	<dividend
  292    00:E4F8  85 94      			sta.l	<dividend
  293    00:E4FA  62         			cla
  294    00:E4FB  E5 95      			sbc.h	<dividend
  295    00:E4FD  85 95      			sta.h	<dividend
  296                        	
  297    00:E4FF  8A         			txa				; Restore remainder lo-byte.
  298                        	
  299    00:E500  28         	.remainder:	plp				; Was the dividend -ve?
  300    00:E501  B0 1F      			bcs	neg_yacs		; Then negate the remainder.
  301    00:E503  60         			rts
  302                        	
  303                        	
  304                        	
  305                        	; ***************************************************************************
  306                        	; unsigned int
  307                        	; _muluchar (unsigned char x, unsigned char y)
  308                        	;
  309                        	; 1st parameter in A (unsigned multiplicand)
  310                        	; 2nd parameter in Y (unsigned multiplier)
  311                        	; result in Y:A
  312                        	
  313    00:E504  84 00      	__muluchar:	sty	<multiplier
  314                        	
  315    00:E506  A0 08      	muluchar_a:	ldy	#8			; Loop 8 times.
  316                        	
  317    00:E508  4A         			lsr	a			; Divide multiplicand by 2
  318    00:E509  85 94      			sta	<multiplicand		; and clear the 8th bit.
  319                        	
  320    00:E50B  62         			cla				; Clear top byte of product.
  321    00:E50C  90 03      			bcc	.rotate
  322                        	
  323    00:E50E  18         	.add:		clc				; Add the 8-bit multiplier to
  324    00:E50F  65 00      			adc	<multiplier		; top 8-bits of the product.
  325                        	
  326    00:E511  6A         	.rotate:	ror	a			; Rotate product into the top
  327    00:E512  66 94      			ror	<multiplicand		; bits of the multiplicand.
  328                        	
  329    00:E514  88         			dey
  330    00:E515  B0 F7      			bcs	.add			; Add multiplier to top byte?
  331    00:E517  D0 F8      			bne	.rotate			; Completed 8 bits?
  332                        	
  333    00:E519  A8         			tay				; Return the 16-bit product.
  334    00:E51A  A5 94      			lda	<multiplicand
  335                        	
  336    00:E51C  60         			rts
  337                        	
  338                        	
  339                        	
  340                        	; ***************************************************************************
  341                        	; signed int
  342                        	; abs (signed int x)
  343                        	;
  344                        	; 1st parameter in Y:A (signed)
  345                        	; result in Y:A
  346                        	
  347    00:E51D  C0 80      	_abs:		cpy	#$80			; Is the hi-byte -ve?
  348    00:E51F  90 0B      			bcc	!+
  349                        	
  350    00:E521  38         	neg_ya:		sec
  351    00:E522  49 FF      	neg_yacs:	eor	#$FF
  352    00:E524  69 00      			adc	#0
  353    00:E526  42         			say
  354    00:E527  49 FF      			eor	#$FF
  355    00:E529  69 00      			adc	#0
  356    00:E52B  42         			say
  357    00:E52C  60         	!:		rts
  358                        	
  359    00:E52D             	_abs.1		.alias	_abs
  360                        	
  361                        	
  362                        	
  363                        	; ***************************************************************************
  364                        	; signed int
  365                        	; _mulschar (signed char x, signed char y)
  366                        	;
  367                        	; 1st parameter in A (signed multiplicand)
  368                        	; 2nd parameter in Y (signed multiplier)
  369                        	; result in Y:A
  370                        	;
  371                        	; N.B. Y and A get swapped to make the code shorter.
  372                        	
  373    00:E52D  85 94      	__mulschar:	sta	<multiplicand		; Remember multiplicand sign.
  374                        	
  375    00:E52F  C9 80      			cmp	#$80			; Is the multiplicand -ve?
  376    00:E531  90 03      			bcc	!+
  377    00:E533  49 FF      			eor	#$FF			; Negate the multiplicand.
  378    00:E535  1A         			inc	a
  379    00:E536  85 00      	!:		sta	<multiplier		; Then save it as multiplier.
  380                        	
  381    00:E538  98         			tya				; Product -ve if multiplicand
  382    00:E539  45 94      			eor	<multiplicand		; and multiplier signs differ.
  383    00:E53B  08         			php				; Remember product sign.
  384                        	
  385    00:E53C  98         			tya				; Is the multiplicand -ve?
  386    00:E53D  10 03      			bpl	!+
  387    00:E53F  49 FF      			eor	#$FF			; Negate the multiplicand.
  388    00:E541  1A         			inc	a
  389                        	
  390    00:E542  20 06 E5   	!:		jsr	muluchar_a		; Multiplier already saved.
  391                        	
  392    00:E545  28         			plp				; Is the product -ve?
  393    00:E546  30 D9      			bmi	neg_ya
  394    00:E548  60         			rts
  395                        	
  396                        	
  397                        	
  398                        	; ***************************************************************************
  399                        	; unsigned int
  400                        	; _mulsuchar (signed char x, signed char y)
  401                        	;
  402                        	; 1st parameter in A (unsigned multiplicand)
  403                        	; 2nd parameter in Y (signed multiplier)
  404                        	; result in Y:A
  405                        	;
  406                        	; N.B. Y and A get swapped to make the code shorter.
  407                        	
  408    00:E549  42         	__mulsuchar:	say				; Put the signed param in A.
  409                        			; drop through to __muluschar
  410                        	
  411                        	
  412                        	
  413                        	; ***************************************************************************
  414                        	; signed int
  415                        	; _muluschar (unsigned char x, unsigned char y)
  416                        	;
  417                        	; 1st parameter in A (signed multiplicand)
  418                        	; 2nd parameter in Y (unsigned multiplier)
  419                        	; result in Y:A
  420                        	
  421    00:E54A  C9 80      	__muluschar:	cmp	#$80			; Is multiplicand -ve?
  422    00:E54C  08         			php				; Remember the sign.
  423    00:E54D  90 03      			bcc	!+
  424    00:E54F  49 FF      			eor	#$FF			; Negate multiplicand.
  425    00:E551  1A         			inc	a
  426                        	
  427    00:E552  20 04 E5   	!:		jsr	__muluchar		; Do the unsigned multiply.
  428                        	
  429    00:E555  28         			plp				; Was multiplicand -ve?
  430    00:E556  B0 CA      			bcs	neg_yacs		; Then negate the product.
  431    00:E558  60         			rts
  432                        	
  433                        	
  434                        	
  435                        	; ***************************************************************************
  436                        	; unsigned int
  437                        	; _moduchar (unsigned char x, unsigned char y)
  438                        	;
  439                        	; 1st parameter in A (unsigned dividend)
  440                        	; 2nd parameter in Y (unsigned divisor)
  441                        	; result in Y:A
  442                        	
  443    00:E559  84 00      	__moduchar:	sty.l	<divisor
  444                        	
  445    00:E55B  0A         	divmodu8_a:	asl	a			; Rotate dividend, MSB -> C.
  446    00:E55C  85 94      			sta.l	<dividend
  447    00:E55E  64 95      			stz.h	<dividend		; Clear quotient hi-byte.
  448                        	
  449    00:E560  A0 08      			ldy	#8
  450    00:E562  62         			cla				; Clear remainder.
  451    00:E563  2A         	.loop:		rol	a			; Rotate C into remainder.
  452    00:E564  C5 00      			cmp	<divisor		; Test divisor.
  453    00:E566  90 02      			bcc	.skip			; CC if divisor > remainder.
  454    00:E568  E5 00      			sbc	<divisor		; Subtract divisor.
  455    00:E56A  26 94      	.skip:		rol	<dividend		; Quotient bit -> dividend LSB.
  456    00:E56C  88         			dey
  457    00:E56D  D0 F4      			bne	.loop
  458                        	
  459    00:E56F  C2         			cly				; Clear hi-byte of return.
  460    00:E570  60         			rts				; Return the 16-bit remainder.
  461                        	
  462                        	
  463                        	
  464                        	; ***************************************************************************
  465                        	; unsigned int
  466                        	; _divuchar (unsigned char x, unsigned char y)
  467                        	;
  468                        	; 1st parameter in A (unsigned dividend)
  469                        	; 2nd parameter in Y (unsigned divisor)
  470                        	; result in Y:A
  471                        	
  472    00:E571  20 59 E5   	__divuchar:	jsr	__moduchar
  473                        	
  474    00:E574  A5 94      			lda	<dividend		; Get the dividend lo-byte.
  475    00:E576  60         			rts				; Return the 16-bit dividend.
  476                        	
  477                        	
  478                        	
  479                        	; ***************************************************************************
  480                        	; signed int
  481                        	; _modschar (signed char x, signed char y)
  482                        	;
  483                        	; 1st parameter in A (signed dividend)
  484                        	; 2nd parameter in Y (signed divisor)
  485                        	; result in Y:A
  486                        	
  487    00:E577  AA         	__modschar:	tax				; Preserve the dividend.
  488    00:E578  08         			php				; Remember remainder sign.
  489                        	
  490    00:E579  84 00      			sty	<divisor		; Quotient negative if divisor
  491    00:E57B  45 00      			eor	<divisor		; and dividend signs differ.
  492    00:E57D  08         			php				; Remember the quotient sign.
  493                        	
  494    00:E57E  98         			tya				; Is the divisor -ve?
  495    00:E57F  10 05      			bpl	!+
  496    00:E581  49 FF      			eor	#$FF			; Negate the divisor.
  497    00:E583  1A         			inc	a
  498    00:E584  85 00      			sta	<divisor
  499                        	
  500    00:E586  8A         	!:		txa				; Is the dividend -ve?
  501    00:E587  10 03      			bpl	divmods8_a
  502                        	
  503    00:E589  49 FF      	divmods8_neg:	eor	#$FF			; Negate the dividend.
  504    00:E58B  1A         			inc	a
  505                        	
  506    00:E58C  20 5B E5   	divmods8_a:	jsr	divmodu8_a		; Do the unsigned division.
  507                        	
  508    00:E58F  28         			plp				; Should the quotient be -ve?
  509    00:E590  10 0C      			bpl	!+
  510                        	
  511    00:E592  AA         			tax				; Preserve remainder lo-byte.
  512                        	
  513    00:E593  38         			sec				; Negate the quotient.
  514    00:E594  62         			cla
  515    00:E595  E5 94      			sbc.l	<dividend
  516    00:E597  85 94      			sta.l	<dividend
  517    00:E599  A9 FF      			lda	#$FF
  518    00:E59B  85 95      			sta.h	<dividend
  519                        	
  520    00:E59D  8A         			txa				; Restore remainder lo-byte.
  521                        	
  522    00:E59E  28         	!:		plp				; Was the dividend -ve?
  523    00:E59F  10 05      			bpl	!+
  524                        	
  525    00:E5A1  49 FF      			eor	#$FF			; Then negate the remainder.
  526    00:E5A3  1A         			inc	a
  527    00:E5A4  A0 FF      			ldy	#$FF
  528                        	
  529    00:E5A6  60         	!:		rts
  530                        	
  531                        	
  532                        	
  533                        	; ***************************************************************************
  534                        	; signed int
  535                        	; _moduschar (unsigned char x, unsigned char y)
  536                        	;
  537                        	; 1st parameter in A (signed dividend)
  538                        	; 2nd parameter in Y (unsigned divisor)
  539                        	; result in Y:A
  540                        	
  541    00:E5A7  84 00      	__moduschar:	sty.l	<divisor
  542                        	
  543    00:E5A9  A8         			tay				; Is the dividend -ve?
  544    00:E5AA  08         			php				; Remember remainder sign.
  545    00:E5AB  08         			php				; Remember quotient sign.
  546    00:E5AC  30 DB      			bmi	divmods8_neg
  547    00:E5AE  80 DC      			bra	divmods8_a
  548                        	
  549                        	
  550                        	
  551                        	; ***************************************************************************
  552                        	; unsigned int
  553                        	; _modsuchar (signed char x, signed char y)
  554                        	;
  555                        	; 1st parameter in A (unsigned dividend)
  556                        	; 2nd parameter in Y (signed divisor)
  557                        	; result in Y:A
  558                        	
  559    00:E5B0  AA         	__modsuchar:	tax				; Preserve the dividend.
  560    00:E5B1  08         			php				; Remember remainder sign.
  561                        	
  562    00:E5B2  98         			tya				; Check the divisor sign.
  563    00:E5B3  08         			php				; Remember quotient sign.
  564    00:E5B4  10 03      			bpl	!+
  565    00:E5B6  49 FF      			eor	#$FF			; Negate the divisor.
  566    00:E5B8  1A         			inc	a
  567    00:E5B9  85 00      	!:		sta.l	<divisor
  568                        	
  569    00:E5BB  8A         			txa				; Restore the dividend.
  570    00:E5BC  80 CE      			bra	divmods8_a
  571                        	
  572                        	
  573                        	
  574                        	; ***************************************************************************
  575                        	; signed int
  576                        	; _divschar (signed char x, signed char y)
  577                        	;
  578                        	; 1st parameter in A (signed dividend)
  579                        	; 2nd parameter in Y (signed divisor)
  580                        	; result in Y:A
  581                        	
  582    00:E5BE  20 77 E5   	__divschar:	jsr	__modschar
  583                        	
  584    00:E5C1  A5 94      			lda.l	<dividend
  585    00:E5C3  A4 95      			ldy.h	<dividend
  586    00:E5C5  60         			rts
  587                        	
  588                        	
  589                        	
  590                        	; ***************************************************************************
  591                        	; signed int
  592                        	; _divuschar (unsigned char x, unsigned char y)
  593                        	;
  594                        	; 1st parameter in A (signed dividend)
  595                        	; 2nd parameter in Y (unsigned divisor)
  596                        	; result in Y:A
  597                        	
  598    00:E5C6  20 A7 E5   	__divuschar:	jsr	__moduschar
  599                        	
  600    00:E5C9  A5 94      			lda.l	<dividend
  601    00:E5CB  A4 95      			ldy.h	<dividend
  602    00:E5CD  60         			rts
  603                        	
  604                        	
  605                        	
  606                        	; ***************************************************************************
  607                        	; unsigned int
  608                        	; _divsuchar (signed char x, signed char y)
  609                        	;
  610                        	; 1st parameter in A (unsigned dividend)
  611                        	; 2nd parameter in Y (signed divisor)
  612                        	; result in Y:A
  613                        	
  614    00:E5CE  20 B0 E5   	__divsuchar:	jsr	__modsuchar
  615                        	
  616    00:E5D1  A5 94      			lda.l	<dividend
  617    00:E5D3  A4 95      			ldy.h	<dividend
  618    00:E5D5  60         			rts
                             #[2]   "..\..\..\include\hucc\hucc-final.asm"
                             #[3]   "..\..\..\include\hucc\hucc-gfx.asm"
   43                        			include	"hucc-gfx.asm"		; Used by HuCC's core_main.
    1                        	; ***************************************************************************
    2                        	; ***************************************************************************
    3                        	;
    4                        	; huc-gfx.asm
    5                        	;
    6                        	; Based on the original HuC and MagicKit functions by David Michel and the
    7                        	; other original HuC developers.
    8                        	;
    9                        	; Modifications copyright John Brandwood 2024-2025.
   10                        	;
   11                        	; Distributed under the Boost Software License, Version 1.0.
   12                        	; (See accompanying file LICENSE_1_0.txt or copy at
   13                        	;  http://www.boost.org/LICENSE_1_0.txt)
   14                        	;
   15                        	; ***************************************************************************
   16                        	; ***************************************************************************
   17                        	
   18                        	;
   19                        	; Include dependancies ...
   20                        	;
   21                        	
   22                        			include "common.asm"		; Common helpers.
   23                        			include "vce.asm"		; Useful VCE routines.
   24                        			include "vdc.asm"		; Useful VCE routines.
   25                        	
   26                        	
   27                        	
   28                        	; ***************************************************************************
   29                        	; ***************************************************************************
   30                        	;
   31                        	; void __fastcall disp_on( void );
   32                        	; void __fastcall disp_off( void );
   33                        	
   34    00:E5D6             			.alias	_disp_on		= set_dspon
   35    00:E5D6             			.alias	_disp_off		= set_dspoff
   36                        	
   37                        	
   38                        	
   39                        	; ***************************************************************************
   40                        	; ***************************************************************************
   41                        	;
   42                        	; void __fastcall set_screen_size( unsigned char value<_al> );
   43                        	; void __fastcall sgx_set_screen_size( unsigned char value<_al> );
   44                        	;
   45                        	
   46    00:E5D6             			.alias	_set_screen_size.1	= set_bat_vdc
   47    00:E5D6             			.alias	_sgx_set_screen_size.1	= set_bat_sgx
   48                        	
   49                        	
   50                        	
   51                        	; ***************************************************************************
   52                        	; ***************************************************************************
   53                        	;
   54                        	; void __fastcall init_256x224( void );
   55                        	
   56    1F:DDE2             	_init_256x224	.proc
   57                        	
   58               0800     	.BAT_SIZE	=	64 * 32
   59               0080     	.CHR_0x20	=	.BAT_SIZE / 16		; 1st tile # after the BAT.
   60               7F00     	.SAT_ADDR	=	$7F00			; SAT takes 16 tiles of VRAM.
   61                        	
   62    1F:DDE2  08         			php				; Disable interrupts.
   63    1F:DDE3  78         			sei
   64                        	
   65    1F:DDE4  20 3D FD   			call	clear_vce		; Clear all palettes.
   66                        	
   67    1F:DDE7  A9 80      			lda.l	#.CHR_0x20		; CHR # of ASCII ' '.
   68    1F:DDE9  85 F8      			sta.l	<_ax
   69    1F:DDEB  A9 00      			lda.h	#.CHR_0x20
   70    1F:DDED  85 F9      			sta.h	<_ax
   71                        	
   72    1F:DDEF  A9 08      			lda	#>.BAT_SIZE		; Size of BAT in words.
   73    1F:DDF1  85 FA      			sta	<_bl
   74                        	
   75    1F:DDF3  20 51 FD   			call	clear_vram_vdc		; Clear VRAM.
   76               0001     		.if	SUPPORT_SGX
   77    1F:DDF6  20 33 FD   			call	clear_vram_sgx
   78                        		.endif
   79                        	
   80    1F:DDF9  A9 1D      			lda	#<.mode_256x224		; Disable BKG & SPR layers but
   81    1F:DDFB  85 EC      			sta.l	<_bp			; enable RCR & VBLANK IRQ.
   82    1F:DDFD  A9 DE      			lda	#>.mode_256x224
   83    1F:DDFF  85 ED      			sta.h	<_bp
   84                        	
   85               0001     		.if	SUPPORT_SGX
   86    1F:DE01  20 29 FD   			call	sgx_detect		; Are we really on an SGX?
   87    1F:DE04  90 05      			bcc	!+
   88    1F:DE06  A0 1F      			ldy	#^.mode_256x224		; Set SGX 1st, with no VBL.
   89    1F:DE08  20 1F FD   			call	set_mode_sgx
   90                        		.endif
   91    1F:DE0B  A0 1F      	!:		ldy	#^.mode_256x224		; Set VDC 2nd, VBL allowed.
   92    1F:DE0D  20 15 FD   			call	set_mode_vdc
   93                        	
   94               0001     		.if	SUPPORT_SGX
   95    1F:DE10  2C 10 02   			bit	SGX_SR			; Purge any overdue RCR.
   96                        		.endif
   97    1F:DE13  2C 00 02   			bit	VDC_SR			; Purge any overdue VBL.
   98    1F:DE16  28         			plp				; Restore interrupts.
   99                        	
  100    1F:DE17  20 1D E3   			call	wait_vsync		; Wait for the next VBLANK.
  101                        	
  102                        			leave				; All done, phew!
         1F:DE1A  4C EF FF   			jmp	leave_proc
  103                        	
  104                        			; A standard 256x224 screen with overscan.
  105                        	
  106    1F:DE1D  80         	.mode_256x224:	db	$80			; VCE Control Register.
  107    1F:DE1E  04         			db	VCE_CR_5MHz + XRES_SOFT	;   Video Clock + Artifact Reduction
  108                        	
  109    1F:DE1F  09         			db	VDC_MWR			; Memory-access Width Register
  110    1F:DE20  10 00      			dw	VDC_MWR_64x32 + VDC_MWR_1CYCLE
  111    1F:DE22  0A         			db	VDC_HSR			; Horizontal Sync Register
  112    1F:DE23  02 02      			dw	VDC_HSR_256
  113    1F:DE25  0B         			db	VDC_HDR			; Horizontal Display Register
  114    1F:DE26  1F 04      			dw	VDC_HDR_256
  115    1F:DE28  0C         			db	VDC_VPR			; Vertical Sync Register
  116    1F:DE29  02 17      			dw	VDC_VPR_224
  117    1F:DE2B  0D         			db	VDC_VDW			; Vertical Display Register
  118    1F:DE2C  DF 00      			dw	VDC_VDW_224
  119    1F:DE2E  0E         			db	VDC_VCR			; Vertical Display END position Register
  120    1F:DE2F  FF 00      			dw	VDC_VCR_224
  121    1F:DE31  0F         			db	VDC_DCR			; DMA Control Register
  122    1F:DE32  10 00      			dw	$0010			;   Enable automatic VRAM->SATB
  123    1F:DE34  13         			db	VDC_DVSSR		; VRAM->SATB address $7F00
  124    1F:DE35  00 7F      			dw	.SAT_ADDR
  125    1F:DE37  07         			db	VDC_BXR			; Background X-Scroll Register
  126    1F:DE38  00 00      			dw	$0000
  127    1F:DE3A  08         			db	VDC_BYR			; Background Y-Scroll Register
  128    1F:DE3B  00 00      			dw	$0000
  129    1F:DE3D  06         			db	VDC_RCR			; Raster Counter Register
  130    1F:DE3E  00 00      			dw	$0000			;   Never occurs!
  131    1F:DE40  05         			db	VDC_CR			; Control Register
  132    1F:DE41  0C 00      			dw	$000C			;   Enable VSYNC & RCR IRQ
  133    1F:DE43  00         			db	0
  134                        	
  135                        			.endp
  136                        	
  137                        	
  138                        	
  139                        	; ***************************************************************************
  140                        	; ***************************************************************************
  141                        	;
  142                        	; void __fastcall init_240x208( void );
  143                        	
  144                        	_init_240x208	.proc
  223                        			.endp
  224                        	
  225                        	
  226                        	
  227                        	; ***************************************************************************
  228                        	; ***************************************************************************
  229                        	;
  230                        	; void __fastcall _macro set_xres( unsigned int x_pixels<_ax> );
  231                        	; void __fastcall _macro sgx_set_xres( unsigned int x_pixels<_ax> );
  232                        	;
  233                        	; void __fastcall set_xres( unsigned int x_pixels<_ax>, unsigned char blur_flag<_bl> );
  234                        	; void __fastcall sgx_set_xres( unsigned int x_pixels<_ax>, unsigned char blur_flag<_bl> );
  235                        	;
  236                        	; blur_flag = XRES_SOFT (default if not specified), XRES_SHARP or XRES_KEEP
  237                        	
  238                        	set_xres_group	.procgroup			; These routines share code!
  337                        			.endprocgroup	; set_xres_group
  338                        	
  339                        	
  340                        	
  341                        	; ***************************************************************************
  342                        	; ***************************************************************************
  343                        	;
  344                        	; HuC VRAM Functions
  345                        	;
  346                        	; ***************************************************************************
  347                        	; ***************************************************************************
  348                        	
  349                        	
  350    1F:DD14             	load_vram_group	.procgroup			; These routines share code!
  351                        	
  352                        	; ***************************************************************************
  353                        	; ***************************************************************************
  354                        	;
  355                        	; void __fastcall load_vram( unsigned int vram<_di>, unsigned char __far *data<_bp_bank:_bp>, unsigned int num_words<_ax> );
  356                        	; void __fastcall sgx_load_vram( unsigned int vram<_di>, unsigned char __far *data<_bp_bank:_bp>, unsigned int num_words<_ax> );
  357                        	;
  358                        	; void __fastcall far_load_vram( unsigned int vram<_di>, unsigned int num_words<_ax> );
  359                        	; void __fastcall sgx_far_load_vram( unsigned int vram<_di>, unsigned int num_words<_ax> );
  360                        	;
  361                        	; load_vram_sgx -  copy a block of memory to VRAM
  362                        	; load_vram_vdc -  copy a block of memory to VRAM
  363                        	;
  364                        	; _bp		= BAT memory location
  365                        	; _bp_bank	= BAT bank
  366                        	; _di		= VRAM base address
  367                        	; _ax		= nb of words to copy
  368                        	; ----
  369                        	; N.B. BAT data *must* be word-aligned!
  370                        	
  371               0000     		.ifndef	VRAM_XFER_SIZE
  373                        		.endif
  374                        	
  375    1F:DD14             	load_vram_x	.proc
  376                        	
  377    1F:DD14  43 08      			tma3
  378    1F:DD16  48         			pha
  379    1F:DD17  43 10      			tma4
  380    1F:DD19  48         			pha
  381                        	
  382    1F:DD1A  A4 02      			ldy	<_bp_bank
  383    1F:DD1C  20 4F E3   			jsr	map_bp_to_mpr34		; Map data to MPR3 & MPR4.
  384                        	
  385    1F:DD1F  20 93 E3   			jsr	set_di_to_mawr
  386                        	
  387                        	;		tii	.vdc_tai, ram_tia, 8
  388                        	
  389               0001     		.if	SUPPORT_SGX
  390    1F:DD22  8A         			txa				; Select which VDC to write
  391    1F:DD23  1A         			inc	a			; to.
  392    1F:DD24  1A         			inc	a
  393    1F:DD25  8D F3 22   			sta.l	ram_tia_dst
  394                        		.endif
  395                        	
  396    1F:DD28  A9 10      			lda	#VRAM_XFER_SIZE		; Split into 16-byte chunks
  397    1F:DD2A  8D F5 22   			sta.l	ram_tia_len		; for stable IRQ response.
  398                        	
  399    1F:DD2D  A6 EC      			ldx.l	<_bp
  400    1F:DD2F  8E F1 22   			stx.l	ram_tia_src
  401    1F:DD32  A4 ED      			ldy.h	<_bp
  402    1F:DD34  8C F2 22   			sty.h	ram_tia_src
  403                        	
  404    1F:DD37  A5 F8      			lda.l	<_ax			; Length in words.
  405    1F:DD39  48         			pha				; Preserve length.l
  406                        	
  407    1F:DD3A  46 F9      			lsr.h	<_ax
  408    1F:DD3C  6A         			ror	a
  409    1F:DD3D  46 F9      			lsr.h	<_ax
  410    1F:DD3F  6A         			ror	a
  411    1F:DD40  46 F9      			lsr.h	<_ax
  412    1F:DD42  6A         			ror	a
  413               0000     		.if	VRAM_XFER_SIZE == 32
  416                        		.endif
  417                        	
  418    1F:DD43  22         			sax				; x=chunks-lo
  419    1F:DD44  F0 1F      			beq	.next_block		; a=source-lo, y=source-hi
  420                        	
  421    1F:DD46  20 F0 22   	.chunk_loop:	jsr	ram_tia			; transfer 16-bytes
  422                        	
  423    1F:DD49  18         			clc				; increment source
  424    1F:DD4A  69 10      			adc	#VRAM_XFER_SIZE
  425    1F:DD4C  8D F1 22   			sta.l	ram_tia_src
  426    1F:DD4F  90 11      			bcc	.same_page
  427    1F:DD51  C8         			iny
  428    1F:DD52  10 0B      			bpl	.same_bank		; remap_data
  429                        	
  430    1F:DD54  42         			say
  431    1F:DD55  43 10      			tma4
  432    1F:DD57  53 08      			tam3
  433    1F:DD59  1A         			inc	a
  434    1F:DD5A  53 10      			tam4
  435    1F:DD5C  A9 60      			lda	#$60
  436    1F:DD5E  42         			say
  437                        	
  438    1F:DD5F  8C F2 22   	.same_bank:	sty.h	ram_tia_src
  439                        	
  440    1F:DD62  CA         	.same_page:	dex
  441    1F:DD63  D0 E1      			bne	.chunk_loop
  442                        	
  443    1F:DD65  C6 F9      	.next_block:	dec.h	<_ax
  444    1F:DD67  10 DD      			bpl	.chunk_loop
  445                        	
  446    1F:DD69  68         			pla				; Restore length.l
  447    1F:DD6A  29 07      			and	#VRAM_XFER_SIZE / 2 - 1
  448    1F:DD6C  F0 07      			beq	.done
  449                        	
  450    1F:DD6E  0A         			asl	a			; Convert words to bytes.
  451    1F:DD6F  8D F5 22   			sta.l	ram_tia_len
  452                        	
  453    1F:DD72  20 F0 22   			jsr	ram_tia			; transfer remainder
  454                        	
  455    1F:DD75  68         	.done:		pla
  456    1F:DD76  53 10      			tam4
  457    1F:DD78  68         			pla
  458    1F:DD79  53 08      			tam3
  459                        	
  460                        			leave
         1F:DD7B  4C EF FF   			jmp	leave_proc
  461                        	
  462                        			.endp
  463                        	
  464                        			.endprocgroup	; load_vram_group
  465                        	
  466                        	
  467                        	
  468                        	; ***************************************************************************
  469                        	; ***************************************************************************
  470                        	;
  471                        	; void __fastcall load_bat( unsigned int vram<_di>, unsigned char __far *data<_bp_bank:_bp>, unsigned char tiles_w<_al>, unsigned char tiles_h<_ah> );
  472                        	; void __fastcall sgx_load_bat( unsigned int vram<_di>, unsigned char __far *data<_bp_bank:_bp>, unsigned char tiles_w<_al>, unsigned char tiles_h<_ah> );
  473                        	;
  474                        	; void __fastcall far_load_bat( unsigned int vram<_di>, unsigned char tiles_w<_al>, unsigned char tiles_h<_ah> );
  475                        	; void __fastcall sgx_far_load_bat( unsigned int vram<_di>, unsigned char tiles_w<_al>, unsigned char tiles_h<_ah> );
  476                        	;
  477                        	; load_bat_sgx - transfer a BAT to VRAM
  478                        	; load_bat_vdc - transfer a BAT to VRAM
  479                        	;
  480                        	; transfer a BAT to VRAM
  481                        	; ----
  482                        	; _bp		= BAT memory location
  483                        	; _bp_bank	= BAT bank
  484                        	; _di		= VRAM base address
  485                        	; _al		= nb of column to copy
  486                        	; _ah		= nb of row
  487                        	; ----
  488                        	; N.B. BAT data *must* be word-aligned!
  489                        	
  490               20EC     	_gfx_load_bat_PARM_2	=	_bp
  491               20F0     	_gfx_load_bat_PARM_3	=	_di
  492               20F8     	_gfx_load_bat_PARM_4	=	_al
  493               20F9     	_gfx_load_bat_PARM_5	=	_ah
  494                        	
  495    20:C000             	load_bat_group	.procgroup			; These routines share code!
  496                        	
  497               0001     		.if	SUPPORT_SGX
  498                        			.proc	_sgx_load_bat.4
  505                        			.endp
  506                        		.endif
  507                        	
  508    20:C000             			.proc	_load_bat.4
  509    20:C000             			.alias	_far_load_bat.3		= _load_bat.4
  510                        	
  511    20:C000  82         			clx				; Offset to PCE VDC.
  512                        	
  513    20:C001  43 08      			tma3
  514    20:C003  48         			pha
  515                        	
  516    20:C004  A4 02      			ldy	<_bp_bank
  517    20:C006  20 41 E3   			jsr	map_bp_to_mpr3		; Map data to MPR3.
  518                        	
  519    20:C009  A4 EC      			ldy.l	<_bp
  520    20:C00B  64 EC      			stz.l	<_bp
  521                        	
  522    20:C00D  20 93 E3   	.line_loop:	jsr	set_di_to_mawr
  523                        	
  524    20:C010  A5 F8      			lda	<_al
  525    20:C012  85 00      			sta	<__temp
  526    20:C014  B1 EC      	.tile_loop:	lda	[_bp], y
  527    20:C016  9D 02 02   			sta	VDC_DL, x
  528    20:C019  C8         			iny
  529    20:C01A  B1 EC      			lda	[_bp], y
  530    20:C01C  9D 03 02   			sta	VDC_DH, x
  531    20:C01F  C8         			iny
  532    20:C020  D0 03      			bne	!+
  533    20:C022  20 60 E3   			jsr	inc.h_bp_mpr3
  534    20:C025  C6 00      	!:		dec	<__temp
  535    20:C027  D0 EB      			bne	.tile_loop
  536                        	
  537    20:C029  BD CB 26   			lda	vdc_bat_width, x
  538    20:C02C  18         			clc
  539    20:C02D  65 F0      			adc.l	<_di
  540    20:C02F  85 F0      			sta.l	<_di
  541    20:C031  90 02      			bcc	!+
  542    20:C033  E6 F1      			inc.h	<_di
  543                        	
  544    20:C035  C6 F9      	!:		dec	<_ah
  545    20:C037  D0 D4      			bne	.line_loop
  546                        	
  547    20:C039  68         			pla
  548    20:C03A  53 08      			tam3
  549                        	
  550                        			leave
         20:C03C  4C EF FF   			jmp	leave_proc
  551                        	
  552                        			.endp
  553                        	
  554                        			.endprocgroup	; load_bat_group
  555                        	
  556                        	
  557                        	
  558                        	; ***************************************************************************
  559                        	; ***************************************************************************
  560                        	;
  561                        	; void __fastcall load_palette( unsigned char palette<_al>, unsigned char __far *data<_bp_bank:_bp>, unsigned char num_palettes<_ah> );
  562                        	;
  563                        	; void __fastcall far_load_palette( unsigned char palette<_al>, unsigned char num_palettes<_ah> );
  564                        	
  565    20:C0F0             			.proc	_load_palette.3
  566    20:C0F0             			.alias	_far_load_palette.2	= _load_palette.3
  567                        	
  568    20:C0F0  AC A2 26   			ldy	color_queue_w		; Get the queue's write index.
  569                        	
  570    20:C0F3  A5 EC      			lda.l	<_bp			; Add this set of palettes to
  571    20:C0F5  99 B3 26   			sta	color_addr_l, y		; the queue.
  572    20:C0F8  A5 ED      			lda.h	<_bp
  573    20:C0FA  99 BB 26   			sta	color_addr_h, y
  574    20:C0FD  A5 02      			lda	<_bp_bank
  575    20:C0FF  99 C3 26   			sta	color_bank, y
  576    20:C102  A5 F8      			lda	<_al
  577    20:C104  99 A3 26   			sta	color_index, y
  578    20:C107  A5 F9      			lda	<_ah
  579    20:C109  99 AB 26   			sta	color_count, y
  580                        	
  581    20:C10C  C8         			iny				; Increment the queue index.
  582    20:C10D  98         			tya
  583    20:C10E  29 07      			and	#7
  584                        	
  585    20:C110  CD A1 26   	.wait:		cmp	color_queue_r		; If the queue is full, wait
  586    20:C113  F0 FB      			beq	.wait			; for the next VBLANK.
  587                        	
  588    20:C115  8D A2 26   			sta	color_queue_w		; Signal item is in the queue.
  589                        	
  590                        			leave				; All done, phew!
         20:C118  4C EF FF   			jmp	leave_proc
  591                        	
  592                        			.endp
  593                        	
  594                        	
  595                        	
  596               0000     		.if	0
  620                        		.endif
  621                        	
  622                        	
  623                        	
  624                        	; ***************************************************************************
  625                        	; ***************************************************************************
  626                        	;
  627                        	; void __fastcall load_background( unsigned char __far *tiles<_bp_bank:_bp>, unsigned char __far *palettes<__fbank:__fptr>, unsigned char __far *bat<_cl:_bx>, unsigned char w<_dl>, unsigned char w<_dh> );
  628                        	
  629                        			.proc	_load_background.5
  667                        			.endp
  668                        	
  669                        	
  670                        	
  671                        	; ***************************************************************************
  672                        	; ***************************************************************************
  673                        	;
  674                        	; void __fastcall vram2vram( unsigned int vram_dst<_ax>, unsigned int vram_src<_bx>, unsigned int word_len<_cx> );
  675                        	; void __fastcall sgx_vram2vram( unsigned int vram_dst<_ax>, unsigned int vram_src<_bx>, unsigned int word_len<_cx> );
  676                        	;
  677                        	
  678               0001     		.if	SUPPORT_SGX
  679                        			.proc	_sgx_vram2vram.3
  685                        			.endp
  686                        		.endif
  687                        	
  688    20:C03F             			.proc	_vram2vram.3
  689                        	
  690    20:C03F  82         			clx				; Offset to PCE VDC.
  691                        	
  692    20:C040  08         			php
  693    20:C041  78         			sei
  694    20:C042  A9 11      			lda	#VDC_DESR
  695    20:C044  9D 00 02   			sta	VDC_AR, x
  696    20:C047  A5 F8      			lda.l	<_ax
  697    20:C049  9D 02 02   			sta	VDC_DL, x
  698    20:C04C  A5 F9      			lda.h	<_ax
  699    20:C04E  9D 03 02   			sta	VDC_DH, x
  700                        	
  701    20:C051  A9 10      			lda	#VDC_SOUR
  702    20:C053  9D 00 02   			sta	VDC_AR, x
  703    20:C056  A5 FA      			lda.l	<_bx
  704    20:C058  9D 02 02   			sta	VDC_DL, x
  705    20:C05B  A5 FB      			lda.h	<_bx
  706    20:C05D  9D 03 02   			sta	VDC_DH, x
  707                        	
  708    20:C060  A9 12      			lda	#VDC_LENR
  709    20:C062  9D 00 02   			sta	VDC_AR, x
  710    20:C065  18         			clc
  711    20:C066  A5 FC      			lda.l	<_cx
  712    20:C068  69 FF      			adc	#$FF
  713    20:C06A  9D 02 02   			sta	VDC_DL, x
  714    20:C06D  A5 FD      			lda.h	<_cx
  715    20:C06F  69 FF      			adc	#$FF
  716    20:C071  9D 03 02   			sta	VDC_DH, x
  717                        	
  718    20:C074  B5 F7      			lda	<vdc_reg, x
  719    20:C076  8D 00 02   			sta	VDC_AR
  720    20:C079  28         			plp
  721                        	
  722                        			leave
         20:C07A  4C EF FF   			jmp	leave_proc
  723                        	
  724                        			.endp
  725                        	
  726                        	
  727                        	
  728                        	; ***************************************************************************
  729                        	; ***************************************************************************
  730                        	;
  731                        	; HuC Font Functions
  732                        	;
  733                        	; ***************************************************************************
  734                        	; ***************************************************************************
  735                        	
  736                        	
  737                        	
  738               26EB     			.bss
  739                        	
  740                        	; **************
  741                        	; 16-bytes of VDC BAT information.
  742                        	;
  743                        	; N.B. MUST be 16-bytes before the SGX versions to use PCE_VDC_OFFSET.
  744                        	
  745    F8:26EB             	_vdc_font_base:	ds	2	; Tile number of ASCII '\0'.
  746                        	
  747                        	; From hucc-printf.asm just to avoid wasting .bss space with padding.
  748    F8:26ED             	_vdc_tty_x_lhs:	ds	1	; TTY minimum X position.
  749    F8:26EE             	_vdc_tty_y_top:	ds	1	; TTY minimum Y position.
  750    F8:26EF             	_vdc_tty_x:	ds	1	; TTY current X position.
  751    F8:26F0             	_vdc_tty_y:	ds	1	; TTY current Y position.
  752                        	
  753               0001     		.if	SUPPORT_SGX
  754                        	
  755                        	; **************
  756                        	; 16-bytes of SGX BAT information.
  757                        	;
  758                        	; N.B. MUST be 16-bytes after the VDC versions to use SGX_VDC_OFFSET.
  759                        	
  760    F8:26F1             			ds	10	; Padding to ensure the 16-byte delta.
  761                        	
  762    F8:26FB             	_sgx_font_base:	ds	2	; Tile number of ASCII '\0'.
  763                        	
  764                        	; From hucc-printf.asm just to avoid wasting .bss space with padding.
  765    F8:26FD             	_sgx_tty_x_lhs:	ds	1	; TTY minimum X position.
  766    F8:26FE             	_sgx_tty_y_top:	ds	1	; TTY minimum Y position.
  767    F8:26FF             	_sgx_tty_x:	ds	1	; TTY current X position.
  768    F8:2700             	_sgx_tty_y:	ds	1	; TTY current Y position.
  769                        	
  770                        		.endif
  771                        	
  772                        	;_font_base	.alias	vdc_font_base
  773                        	
  774               E5D6     			.code
  775                        	
  776                        	
  777                        	
  778                        	; ***************************************************************************
  779                        	; ***************************************************************************
  780                        	;
  781                        	; void __fastcall set_font_addr( unsigned int vram<acc> );
  782                        	; void __fastcall sgx_set_font_addr( unsigned int vram<acc> );
  783                        	
  784               0001     		.if	SUPPORT_SGX
  785    00:E5D6             	_sgx_set_font_addr.1:
  786    00:E5D6  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
  787    00:E5D8  F0         			db	$F0			; Turn "clx" into a "beq".
  788                        		.endif
  789                        	
  790    00:E5D9             	_set_font_addr.1:
  791    00:E5D9  82         			clx				; Offset to PCE VDC.
  792                        	
  793    00:E5DA  84 00      	set_font_addr:	sty	<__temp
  794    00:E5DC  46 00      			lsr	<__temp
  795    00:E5DE  6A         			ror	a
  796    00:E5DF  46 00      			lsr	<__temp
  797    00:E5E1  6A         			ror	a
  798    00:E5E2  46 00      			lsr	<__temp
  799    00:E5E4  6A         			ror	a
  800    00:E5E5  46 00      			lsr	<__temp
  801    00:E5E7  6A         			ror	a
  802    00:E5E8  38         			sec
  803    00:E5E9  E9 20      			sbc	#$20
  804    00:E5EB  9D EB 26   			sta.l	_vdc_font_base,x
  805    00:E5EE  B0 02      			bcs	!+
  806    00:E5F0  C6 00      			dec	<__temp
  807                        	
  808    00:E5F2  BD EC 26   	!:		lda.h	_vdc_font_base, x
  809    00:E5F5  29 F0      			and	#$F0
  810    00:E5F7  05 00      			ora	<__temp
  811    00:E5F9  9D EC 26   			sta.h	_vdc_font_base, x
  812    00:E5FC  60         			rts
  813                        	
  814                        	
  815                        	
  816                        	; ***************************************************************************
  817                        	; ***************************************************************************
  818                        	;
  819                        	; void __fastcall set_font_pal( unsigned char palette<acc> );
  820                        	; void __fastcall sgx_set_font_pal( unsigned char palette<acc> );
  821                        	
  822               0001     		.if	SUPPORT_SGX
  823    00:E5FD             	_sgx_set_font_pal.1:
  824    00:E5FD  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
  825    00:E5FF  F0         			db	$F0			; Turn "clx" into a "beq".
  826                        		.endif
  827                        	
  828    00:E600             	_set_font_pal:					; For compatibility with HuC.
  829    00:E600             	_set_font_pal.1:
  830    00:E600  82         			clx				; Offset to PCE VDC.
  831    00:E601  0A         			asl	a
  832    00:E602  0A         			asl	a
  833    00:E603  0A         			asl	a
  834    00:E604  0A         			asl	a
  835    00:E605  85 00      			sta	<__temp
  836                        	
  837    00:E607  BD EC 26   			lda.h	_vdc_font_base, x
  838    00:E60A  29 0F      			and	#$0F
  839    00:E60C  05 00      			ora	<__temp
  840    00:E60E  9D EC 26   			sta.h	_vdc_font_base, x
  841    00:E611  60         			rts
  842                        	
  843                        	
  844                        	
  845                        	; ***************************************************************************
  846                        	; ***************************************************************************
  847                        	;
  848                        	; void __fastcall load_font( char far *font<_bp_bank:_bp>, unsigned char count<_al> );
  849                        	;
  850                        	; void __fastcall load_font( char far *font<_bp_bank:_bp>, unsigned char count<_al>, unsigned int vram<acc> );
  851                        	; void __fastcall sgx_load_font( char far *font<_bp_bank:_bp>, unsigned char count<_al>, unsigned int vram<acc> );
  852                        	;
  853                        	; void __fastcall far_load_font( unsigned char count<_al>, unsigned int vram<acc> );
  854                        	; void __fastcall sgx_far_load_font( unsigned char count<_al>, unsigned int vram<acc> );
  855                        	
  856    00:E612  AC CF 26   	_load_font.2:	ldy	vdc_bat_limit		; Load the font directly
  857    00:E615  C8         			iny				; after the BAT (stupid!).
  858    00:E616  62         			cla
  859    00:E617  80 03      			bra	_load_font.3
  860                        	
  861               0001     		.if	SUPPORT_SGX
  862    00:E619             	_sgx_load_font.3:
  863    00:E619  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
  864    00:E61B  F0         			db	$F0			; Turn "clx" into a "beq".
  865                        		.endif
  866                        	
  867    00:E61C  82         	_load_font.3:	clx				; Offset to PCE VDC.
  868                        	
  869    00:E61D  85 F0      			sta.l	<_di			; Load the font directly
  870    00:E61F  84 F1      			sty.h	<_di			; after the BAT (stupid!).
  871                        	
  872    00:E621  20 DA E5   			jsr	set_font_addr		; Set xxx_font_base from addr.
  873                        	
  874    00:E624  A5 F8      			lda	<__al			; Convert #tiles into #words.
  875    00:E626  64 F9      			stz	<__ah
  876    00:E628  0A         			asl	a
  877    00:E629  26 F9      			rol	<__ah
  878    00:E62B  0A         			asl	a
  879    00:E62C  26 F9      			rol	<__ah
  880    00:E62E  0A         			asl	a
  881    00:E62F  26 F9      			rol	<__ah
  882    00:E631  0A         			asl	a
  883    00:E632  26 F9      			rol	<__ah
  884    00:E634  85 F8      			sta	<__al
  885    00:E636  4C F5 FE   			jmp	load_vram_x
  886                        	
  887    00:E639             			.alias	_far_load_font.2	= _load_font.3
  888    00:E639             			.alias	_sgx_far_load_font.2	= _sgx_load_font.3
  889                        	
  890                        	
  891                        	
  892                        	; ***************************************************************************
  893                        	; ***************************************************************************
  894                        	;
  895                        	; void __fastcall cls();
  896                        	; void __fastcall sgx_cls();
  897                        	;
  898                        	; void __fastcall cls( int tile<acc> );
  899                        	; void __fastcall sgx_cls( int tile<acc> );
  900                        	
  901               0001     		.if	SUPPORT_SGX
  902    00:E639  A2 10      	_sgx_cls:	ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
  903    00:E63B  F0         			db	$F0			; Turn "clx" into a "beq".
  904                        		.endif
  905                        	
  906    00:E63C  82         	_cls:		clx				; Offset to PCE VDC.
  907                        	
  908    00:E63D  BD EB 26   	clear_tty_x:	lda.l	_vdc_font_base, x
  909    00:E640  BC EC 26   			ldy.h	_vdc_font_base, x
  910    00:E643  18         			clc
  911    00:E644  69 20      			adc	#' '
  912    00:E646  90 07      			bcc	!+
  913    00:E648  C8         			iny
  914    00:E649  80 04      			bra	!+
  915                        	
  916               0001     		.if	SUPPORT_SGX
  917    00:E64B  A2 10      	_sgx_cls.1:	ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
  918    00:E64D  F0         			db	$F0			; Turn "clx" into a "beq".
  919                        		.endif
  920                        	
  921    00:E64E  82         	_cls.1:		clx
  922                        	
  923    00:E64F  85 F8      	!:		sta.l	<_ax			; VRAM word to write.
  924    00:E651  84 F9      			sty.h	<_ax
  925    00:E653  BD CF 26   			lda	vdc_bat_limit, x	; BAT size hi-byte.
  926    00:E656  1A         			inc	a
  927    00:E657  85 FA      			sta	<_bl
  928    00:E659  4C 47 FD   			jmp	clear_bat_x
  929                        	
  930                        	
  931                        	
  932                        	; ***************************************************************************
  933                        	; ***************************************************************************
  934                        	;
  935                        	; void __fastcall __macro load_default_font( void );
  936                        	; void __fastcall __macro sgx_load_default_font( void );
  937                        	;
  938                        	; Args: _bp, _bp_bank = _farptr to font data mapped into MPR3 & MPR4.
  939                        	; Args: _di = VRAM destination address.
  940                        	; Args: monofont_fg = font color (0..15)
  941                        	; Args: monofont_bg = background color (0..15)
  942                        	; Args: _al = number of tiles (aka characters) 0==256
  943                        	
  944    1E:D684             	huc_monofont_x	.proc
  945                        	
  946               2701     			.bss
  947    F8:2701             	monofont_fg:	.ds	1
  948    F8:2702             	monofont_bg:	.ds	1
  949               D684     			.code
  950                        	
  951    1E:D684  BC CF 26   			ldy	vdc_bat_limit, x	; BAT limit mask hi-byte.
  952    1E:D687  C8         			iny
  953    1E:D688  62         			cla
  954    1E:D689  85 F0      			sta.l	<_di			; Load the font directly
  955    1E:D68B  84 F1      			sty.h	<_di			; after the BAT (stupid!).
  956                        	
  957    1E:D68D  20 DA E5   			jsr	set_font_addr		; Set xxx_font_base from addr.
  958                        	
  959    1E:D690  A9 14      			lda.l	#.font
  960    1E:D692  85 EC      			sta.l	<_bp
  961    1E:D694  A9 D7      			lda.h	#.font
  962    1E:D696  85 ED      			sta.h	<_bp
  963                        	
  964    1E:D698  A9 60      			lda	#$60			; #characters.
  965    1E:D69A  85 F8      			sta	<_al
  966                        	
  967    1E:D69C  20 93 E3   			jsr	set_di_to_mawr
  968                        	
  969    1E:D69F  AD 01 27   			lda	monofont_fg		; Foreground pixel color.
  970    1E:D6A2  85 00      			sta	<__temp
  971    1E:D6A4  AD 02 27   			lda	monofont_bg		; Background pixel color.
  972    1E:D6A7  DA         			phx
  973    1E:D6A8  A2 FC      			ldx.l	#_cx			; Create a bit mask for each
  974    1E:D6AA  9E 00 20   	.bg_loop:	stz	$2000, x		; plane of the background.
  975    1E:D6AD  4A         			lsr	a
  976    1E:D6AE  90 03      			bcc	.bg_plane
  977    1E:D6B0  DE 00 20   			dec	$2000, x
  978    1E:D6B3  E8         	.bg_plane:	inx
  979    1E:D6B4  D0 F4      			bne	.bg_loop
  980    1E:D6B6  FA         			plx
  981                        	
  982    1E:D6B7  C2         	.tile_loop:	cly
  983                        	
  984    1E:D6B8  B1 EC      	.plane01:	lda	[_bp], y		; Get font byte.
  985    1E:D6BA  8F 00 06   			bbs0	<__temp, .set_plane0
  986    1E:D6BD  49 FF      	.clr_plane0:	eor	#$FF			; Clr font bits in background.
  987    1E:D6BF  25 FC      			and	<_cx + 0
  988    1E:D6C1  80 02      			bra	.put_plane0
  989    1E:D6C3  05 FC      	.set_plane0:	ora	<_cx + 0		; Set font bits in background.
  990    1E:D6C5  9D 02 02   	.put_plane0:	sta	VDC_DL, x
  991                        	
  992    1E:D6C8  B1 EC      			lda	[_bp], y		; Get font byte.
  993    1E:D6CA  9F 00 06   			bbs1	<__temp, .set_plane1
  994    1E:D6CD  49 FF      	.clr_plane1:	eor	#$FF			; Clr font bits in background.
  995    1E:D6CF  25 FD      			and	<_cx + 1
  996    1E:D6D1  80 02      			bra	.put_plane1
  997    1E:D6D3  05 FD      	.set_plane1:	ora	<_cx + 1		; Set font bits in background.
  998    1E:D6D5  9D 03 02   	.put_plane1:	sta	VDC_DH, x
  999                        	
 1000    1E:D6D8  C8         			iny
 1001    1E:D6D9  C0 08      			cpy	#8
 1002    1E:D6DB  90 DB      			bcc	.plane01
 1003                        	
 1004    1E:D6DD  C2         			cly
 1005                        	
 1006    1E:D6DE  B1 EC      	.plane23:	lda	[_bp], y		; Get font byte.
 1007    1E:D6E0  AF 00 06   			bbs2	<__temp, .set_plane2
 1008    1E:D6E3  49 FF      	.clr_plane2:	eor	#$FF			; Clr font bits in background.
 1009    1E:D6E5  25 FE      			and	<_cx + 2
 1010    1E:D6E7  80 02      			bra	.put_plane2
 1011    1E:D6E9  05 FE      	.set_plane2:	ora	<_cx + 2		; Set font bits in background.
 1012    1E:D6EB  9D 02 02   	.put_plane2:	sta	VDC_DL, x
 1013                        	
 1014    1E:D6EE  B1 EC      			lda	[_bp], y		; Get font byte.
 1015    1E:D6F0  BF 00 06   			bbs3	<__temp, .set_plane3
 1016    1E:D6F3  49 FF      	.clr_plane3:	eor	#$FF			; Clr font bits in background.
 1017    1E:D6F5  25 FF      			and	<_cx + 3
 1018    1E:D6F7  80 02      			bra	.put_plane3
 1019    1E:D6F9  05 FF      	.set_plane3:	ora	<_cx + 3		; Set font bits in background.
 1020    1E:D6FB  9D 03 02   	.put_plane3:	sta	VDC_DH, x
 1021                        	
 1022    1E:D6FE  C8         			iny
 1023    1E:D6FF  C0 08      			cpy	#8
 1024    1E:D701  90 DB      			bcc	.plane23
 1025                        	
 1026    1E:D703  A5 EC      			lda.l	<_bp
 1027    1E:D705  69 07      			adc	#8-1
 1028    1E:D707  85 EC      			sta.l	<_bp
 1029    1E:D709  90 02      			bcc	!+
 1030    1E:D70B  E6 ED      			inc.h	<_bp
 1031                        	
 1032    1E:D70D  C6 F8      	!:		dec	<_al
 1033    1E:D70F  D0 A6      			bne	.tile_loop
 1034                        	
 1035                        			leave				; All done, phew!
         1E:D711  4C EF FF   			jmp	leave_proc
 1036                        	
 1037    1E:D714             	.font:		incbin	"data/font8x8-bold-short-iso646-fr.dat", 128
 1038                        	
 1039                        			.endp
 1040                        	
 1041                        	
 1042                        	
 1043                        	; ***************************************************************************
 1044                        	; ***************************************************************************
 1045                        	;
 1046                        	; HuC Text Output
 1047                        	;
 1048                        	; ***************************************************************************
 1049                        	; ***************************************************************************
 1050                        	
 1051                        	
 1052                        	
 1053    1F:D7C4             	vdc_tty_out	.procgroup			; These routines share code!
 1054                        	
 1055                        	; ***************************************************************************
 1056                        	; ***************************************************************************
 1057                        	;
 1058                        	; void __fastcall put_char( unsigned char digit<_bl>, unsigned char bat_x<_dil>, unsigned char bat_y<_dih> );
 1059                        	
 1060               0001     		.if	SUPPORT_SGX
 1061                        	put_char_sgx	.proc
 1067                        			.endp
 1068                        		.endif
 1069                        	
 1070    1F:D7C4             	put_char_vdc	.proc
 1071                        	
 1072    1F:D7C4  82         			clx				; Offset to PCE VDC.
 1073                        	
 1074    1F:D7C5  20 83 D8   			jsr	put_di_xy_wrap		; Comply with HuC's wrapping.
 1075                        	
 1076    1F:D7C8  62         			cla				; Push EOL marker.
 1077    1F:D7C9  48         			pha
 1078                        	
 1079    1F:D7CA  A5 FA      			lda	<_bl
 1080    1F:D7CC  48         			pha				; Push character to output.
 1081    1F:D7CD  80 58      			bra	!output+
 1082                        	
 1083    1F:D7CF             			.ref	put_hex_vdc		; Need put_number_vdc
 1084                        			.endp
 1085                        	
 1086    1F:D7CF             			.alias	_put_char.3		= put_char_vdc
 1087                        	
 1088                        	
 1089                        	
 1090                        	; ***************************************************************************
 1091                        	; ***************************************************************************
 1092                        	;
 1093                        	; void __fastcall put_digit( unsigned char digit<_bl>, unsigned char bat_x<_dil>, unsigned char bat_y<_dih> );
 1094                        	
 1095               0001     		.if	SUPPORT_SGX
 1096                        	put_digit_sgx	.proc
 1102                        			.endp
 1103                        		.endif
 1104                        	
 1105    1F:D7CF             	put_digit_vdc	.proc
 1106                        	
 1107    1F:D7CF  82         			clx				; Offset to PCE VDC.
 1108                        	
 1109    1F:D7D0  20 83 D8   			jsr	put_di_xy_wrap		; Comply with HuC's wrapping.
 1110                        	
 1111    1F:D7D3  62         			cla				; Push EOL marker.
 1112    1F:D7D4  48         			pha
 1113                        	
 1114    1F:D7D5  A5 FA      			lda	<_bl			; Convert hex digit to ASCII.
 1115    1F:D7D7  29 0F      			and	#$0F
 1116    1F:D7D9  C9 0A      			cmp	#10
 1117    1F:D7DB  90 02      			bcc	!+
 1118    1F:D7DD  69 06      			adc	#6
 1119    1F:D7DF  69 30      	!:		adc	#'0'
 1120    1F:D7E1  48         			pha				; Push character to output.
 1121    1F:D7E2  80 43      			bra	!output+
 1122                        	
 1123    1F:D7E4             			.ref	put_hex_vdc		; Need put_number_vdc
 1124                        			.endp
 1125                        	
 1126    1F:D7E4             			.alias	_put_digit.3		= put_digit_vdc
 1127                        	
 1128                        	
 1129                        	
 1130                        	; ***************************************************************************
 1131                        	; ***************************************************************************
 1132                        	;
 1133                        	; void __fastcall put_hex( unsigned int number<_bx>, unsigned char length<_cl>, unsigned char bat_x<_dil>, unsigned char bat_y<_dih> );
 1134                        	
 1135               0001     		.if	SUPPORT_SGX
 1136                        	put_hex_sgx	.proc
 1141                        			.endp
 1142                        		.endif
 1143                        	
 1144    1F:D7E4             	put_hex_vdc	.proc
 1145                        	
 1146    1F:D7E4  82         			clx				; Offset to PCE VDC.
 1147                        	
 1148    1F:D7E5  20 83 D8   			jsr	put_di_xy_wrap		; Comply with HuC's wrapping.
 1149                        	
 1150    1F:D7E8  A4 FC      			ldy	<_cl			; Total #characters to print,
 1151    1F:D7EA  F0 3E      			beq	!exit+			; NOT minimum #characters!
 1152                        	
 1153    1F:D7EC  86 00      			stx	<__temp			; Preserve which VDC.
 1154                        	
 1155    1F:D7EE  82         			clx				; Push EOL marker.
 1156    1F:D7EF  DA         			phx
 1157                        	
 1158    1F:D7F0  B5 FA      	.hex_byte:	lda.l	<_bx, x			; Convert hex digit to ASCII.
 1159    1F:D7F2  29 0F      			and	#$0F
 1160    1F:D7F4  C9 0A      			cmp	#10
 1161    1F:D7F6  90 02      			bcc	!+
 1162    1F:D7F8  69 06      			adc	#6
 1163    1F:D7FA  69 30      	!:		adc	#'0'
 1164    1F:D7FC  48         			pha				; Push character to output.
 1165    1F:D7FD  88         			dey
 1166    1F:D7FE  F0 15      			beq	.hex_done
 1167                        	
 1168    1F:D800  B5 FA      			lda.l	<_bx, x			; Convert hex digit to ASCII.
 1169    1F:D802  4A         			lsr	a
 1170    1F:D803  4A         			lsr	a
 1171    1F:D804  4A         			lsr	a
 1172    1F:D805  4A         			lsr	a
 1173    1F:D806  C9 0A      			cmp	#10
 1174    1F:D808  90 02      			bcc	!+
 1175    1F:D80A  69 06      			adc	#6
 1176    1F:D80C  69 30      	!:		adc	#'0'
 1177    1F:D80E  48         			pha				; Push character to output.
 1178    1F:D80F  88         			dey
 1179    1F:D810  F0 03      			beq	.hex_done
 1180                        	
 1181    1F:D812  E8         			inx
 1182    1F:D813  80 DB      			bra	.hex_byte
 1183                        	
 1184    1F:D815  A6 00      	.hex_done:	ldx	<__temp			; Restore which VDC.
 1185    1F:D817  80 0E      			bra	!output+
 1186                        	
 1187    1F:D819  18         	.write:		clc
 1188    1F:D81A  7D EB 26   			adc.l	_vdc_font_base, x
 1189    1F:D81D  9D 02 02   			sta	VDC_DL, x
 1190    1F:D820  62         			cla
 1191    1F:D821  7D EC 26   			adc.h	_vdc_font_base, x
 1192    1F:D824  9D 03 02   			sta	VDC_DH, x
 1193                        	
 1194    1F:D827  68         	!output:	pla				; Pop the digits and output.
 1195    1F:D828  D0 EF      			bne	.write
 1196                        	
 1197                        	!exit:		leave				; All done!
         1F:D82A  4C EF FF   			jmp	leave_proc
 1198                        	
 1199                        			.endp
 1200                        	
 1201    1F:D82D             			.alias	_put_hex.4 = put_hex_vdc
 1202                        	
 1203                        	
 1204                        	
 1205                        	; ***************************************************************************
 1206                        	; ***************************************************************************
 1207                        	;
 1208                        	; void __fastcall put_number( unsigned int number<_bx>, unsigned char length<_cl>, unsigned char bat_x<_dil>, unsigned char bat_y<_dih> );
 1209                        	
 1210               0001     		.if	SUPPORT_SGX
 1211                        	put_number_sgx	.proc
 1216                        			.endp
 1217                        		.endif
 1218                        	
 1219    1F:D82D             	put_number_vdc	.proc
 1220                        	
 1221    1F:D82D  82         			clx				; Offset to PCE VDC.
 1222                        	
 1223    1F:D82E  20 83 D8   			jsr	put_di_xy_wrap		; Comply with HuC's wrapping.
 1224                        	
 1225    1F:D831  A4 FC      			ldy	<_cl			; Total #characters to print,
 1226    1F:D833  F0 F5      			beq	!exit-			; NOT minimum #characters!
 1227                        	
 1228    1F:D835  86 00      			stx	<__temp			; Preserve which VDC.
 1229                        	
 1230    1F:D837  82         			clx				; Push EOL marker.
 1231    1F:D838  DA         			phx
 1232                        	
 1233    1F:D839  A6 FB      			ldx.h	<_bx			; Is the number -ve?
 1234    1F:D83B  86 FC      			stx	<_cl			; Remember this.
 1235    1F:D83D  10 10      			bpl	.divide_by_ten
 1236                        	
 1237    1F:D83F  38         			sec				; Make the number +ve.
 1238    1F:D840  A5 FA      			lda.l	<_bx
 1239    1F:D842  49 FF      			eor	#$FF
 1240    1F:D844  69 00      			adc	#0
 1241    1F:D846  85 FA      			sta.l	<_bx
 1242    1F:D848  8A         			txa
 1243    1F:D849  49 FF      			eor	#$FF
 1244    1F:D84B  69 00      			adc	#0
 1245    1F:D84D  85 FB      			sta.h	<_bx
 1246                        	
 1247    1F:D84F  A2 10      	.divide_by_ten:	ldx	#16
 1248    1F:D851  62         			cla				; Clear Remainder.
 1249    1F:D852  06 FA      			asl.l	<_bx			; Rotate Dividend, MSB -> C.
 1250    1F:D854  26 FB      			rol.h	<_bx
 1251    1F:D856  2A         	.divide_loop:	rol	a			; Rotate C into Remainder.
 1252    1F:D857  C9 0A      			cmp	#10			; Test Divisor.
 1253    1F:D859  90 02      			bcc	.divide_less		; CC if Divisor > Remainder.
 1254    1F:D85B  E9 0A      			sbc	#10			; Subtract Divisor.
 1255    1F:D85D  26 FA      	.divide_less:	rol.l	<_bx			; Quotient bit -> Dividend LSB.
 1256    1F:D85F  26 FB      			rol.h	<_bx			; Rotate Dividend, MSB -> C.
 1257    1F:D861  CA         			dex
 1258    1F:D862  D0 F2      			bne	.divide_loop
 1259                        	
 1260    1F:D864  18         			clc
 1261    1F:D865  69 30      			adc	#'0'			; Always leaves C clr.
 1262    1F:D867  48         			pha				; Push character to output.
 1263    1F:D868  88         			dey
 1264    1F:D869  F0 10      			beq	!pad+
 1265    1F:D86B  A5 FA      			lda.l	<_bx			; Repeat while non-zero.
 1266    1F:D86D  05 FB      			ora.h	<_bx
 1267    1F:D86F  D0 DE      			bne	.divide_by_ten
 1268                        	
 1269    1F:D871  A6 00      			ldx	<__temp			; Restore which VDC.
 1270                        	
 1271    1F:D873  A5 FC      			lda	<_cl			; Was the number -ve?
 1272    1F:D875  10 04      			bpl	!pad+
 1273    1F:D877  A9 2D      			lda	#'-'			; Output a leading '-'.
 1274    1F:D879  48         			pha
 1275    1F:D87A  88         			dey
 1276                        	
 1277    1F:D87B  A9 20      	!pad:		lda	#' '			; Add padding characters.
 1278    1F:D87D  88         	.loop:		dey
 1279    1F:D87E  30 A7      			bmi	!output-
 1280    1F:D880  48         			pha
 1281    1F:D881  80 FA      			bra	.loop
 1282                        	
 1283    1F:D883             			.ref	put_hex_vdc		; Need put_number_vdc
 1284                        	
 1285                        			.endp
 1286                        	
 1287    1F:D883             			.alias	_put_number.4 = put_number_vdc
 1288                        	
 1289                        	
 1290                        	
 1291                        	; ***************************************************************************
 1292                        	; ***************************************************************************
 1293                        	;
 1294                        	; void __fastcall put_raw( unsigned int data<_bx>, unsigned char bat_x<_dil>, unsigned char bat_y<_dih> );
 1295                        	
 1296               0001     		.if	SUPPORT_SGX
 1297                        	put_raw_sgx	.proc
 1302                        			.endp
 1303                        		.endif
 1304                        	
 1305                        	put_raw_vdc	.proc
 1318                        			.endp
 1319                        	
 1320    1F:D883             			.alias	_put_raw.3		= put_raw_vdc
 1321                        	
 1322                        			;
 1323                        			; Ugly hack to wrap the X & Y coordinates like HuC.
 1324                        			;
 1325                        	
 1326    1F:D883  A5 F0      	put_di_xy_wrap:	lda.l	<_di			; Sanitize X coordinate.
 1327    1F:D885  3D CD 26   			and	vdc_bat_x_mask, x
 1328    1F:D888  85 F0      			sta.l	<_di
 1329                        	
 1330    1F:D88A  A5 F1      			lda.h	<_di			; Sanitize Y coordinate.
 1331    1F:D88C  3D CE 26   			and	vdc_bat_y_mask, x
 1332    1F:D88F  85 F1      			sta.h	<_di
 1333                        	
 1334    1F:D891  4C 48 E4   			jmp	set_di_xy_mawr		; In "common.asm".
 1335                        	
 1336                        			.endprocgroup			; vdc_tty_out
 1337                        	
 1338                        	
 1339                        	
 1340                        	; ***************************************************************************
 1341                        	; ***************************************************************************
 1342                        	;
 1343                        	; void __fastcall put_string( unsigned char *string<_bp>, unsigned char bat_x<_dil>, unsigned char bat_y<_dih> );
 1344                        	;
 1345                        	; N.B. This is not a .proc right now because it is called from procedures
 1346                        	; that contain embedded strings, and the string aren't banked in before
 1347                        	; printing (yet).
 1348                        	
 1349               0001     		.if	SUPPORT_SGX
 1350    00:E65C             	_sgx_put_string.3:
 1351    00:E65C  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
 1352    00:E65E  F0         			db	$F0			; Turn "clx" into a "beq".
 1353                        		.endif
 1354                        	
 1355    00:E65F  82         	_put_string.3:	clx				; Offset to PCE VDC.
 1356                        	
 1357    00:E660  20 48 E4   			jsr	set_di_xy_mawr
 1358                        	
 1359    00:E663  C2         			cly
 1360    00:E664  B1 EC      	.chr_loop:	lda	[_bp], y
 1361    00:E666  F0 15      			beq	.done
 1362                        	
 1363    00:E668  18         			clc
 1364    00:E669  7D EB 26   			adc.l	_vdc_font_base, x
 1365    00:E66C  9D 02 02   			sta	VDC_DL, x
 1366    00:E66F  62         			cla
 1367    00:E670  7D EC 26   			adc.h	_vdc_font_base, x
 1368    00:E673  9D 03 02   			sta	VDC_DH, x
 1369                        	
 1370    00:E676  C8         			iny
 1371    00:E677  D0 EB      			bne	.chr_loop
 1372    00:E679  E6 ED      			inc.h	<_bp
 1373    00:E67B  80 E7      			bra	.chr_loop
 1374                        	
 1375    00:E67D  60         	.done:		rts
 1376                        	
 1377                        	
 1378                        	
 1379                        	; ***************************************************************************
 1380                        	; ***************************************************************************
 1381                        	;
 1382                        	; void __fastcall set_color_rgb( unsigned int index<VCE_CTA>, unsigned char r<_al>, unsigned char g<_ah>, unsigned char b<acc> );
 1383                        	;
 1384                        	; r:	red	RED:	bit 3-5
 1385                        	; g:	green	GREEN:	bit 6-8
 1386                        	; b:	blue	BLUE:	bit 0-2
 1387                        	
 1388    00:E67E             	_set_color_rgb.4:
 1389                        	;		and	#7
 1390    00:E67E  85 00      			sta	<__temp
 1391    00:E680  A5 F8      			lda	<_al
 1392                        	;		and	#7
 1393    00:E682  0A         			asl	a
 1394    00:E683  0A         			asl	a
 1395    00:E684  0A         			asl	a
 1396    00:E685  05 00      			ora	<__temp
 1397    00:E687  0A         			asl	a
 1398    00:E688  0A         			asl	a
 1399    00:E689  85 00      			sta	<__temp
 1400    00:E68B  A5 F9      			lda	<_ah
 1401                        	;		and	#7
 1402    00:E68D  4A         			lsr	a
 1403    00:E68E  66 00      			ror	<__temp
 1404    00:E690  4A         			lsr	a
 1405    00:E691  66 00      			ror	<__temp
 1406    00:E693  A8         			tay
 1407    00:E694  A5 00      			lda	<__temp
 1408    00:E696  8D 04 04   			sta.l	VCE_CTW
 1409    00:E699  8C 05 04   			sty.h	VCE_CTW
 1410    00:E69C  60         			rts
                             #[2]   "..\..\..\include\hucc\hucc-final.asm"
   44                        	
   45                        			; Define in hucc-config.inc to remove this.
   46                        	
   47               0001     		.ifndef	HUCC_NO_DEFAULT_RANDOM
                             #[3]   "..\..\..\include\hucc\random.asm"
   48                        			include	"random.asm"		; Random number generator.
    1                        	; ***************************************************************************
    2                        	; ***************************************************************************
    3                        	;
    4                        	; random.asm
    5                        	;
    6                        	; Pseudo-random number generator (https://github.com/bbbradsmith/prng_6502)
    7                        	;
    8                        	; Copyright Brad Smith 2019.
    9                        	;
   10                        	; License:
   11                        	;
   12                        	; This code and may be used, reused, and modified for any purpose, commercial
   13                        	; or non-commercial.
   14                        	;
   15                        	; Attribution in released binaries or documentation is appreciated but not
   16                        	; required.
   17                        	;
   18                        	; ***************************************************************************
   19                        	; ***************************************************************************
   20                        	;
   21                        	; This is a linear feedback shift register (LFSR) in Galois form, which is
   22                        	; iterated 8 times to produce an 8-bit pseudo-random number.
   23                        	;
   24                        	; Two widths of LFSR are provided:
   25                        	;
   26                        	;  24-bit requires 3 bytes, and repeats after 16777215 calls.
   27                        	;  32-bit requires 4 bytes, and repeats after 4294967295 calls.
   28                        	;
   29                        	; Usage:
   30                        	;
   31                        	;  Initialize the zero-page "random" variable to any value other than 0.
   32                        	;  The size of "random" is 3 or 4 bytes, depending on the width of LFSR
   33                        	;  chosen.
   34                        	;
   35                        	;  Call one of the RNG functions and an 8-bit result will be returned in the
   36                        	;  A-register (with flags), and the Y-register will be clobbered.
   37                        	;
   38                        	;  Do not mix RNGs of different width in the same program, unless you can
   39                        	;  give them each separate "random" state storage.
   40                        	;
   41                        	; ***************************************************************************
   42                        	; ***************************************************************************
   43                        	
   44                        	
   45               0001     		.ifndef	_KICKC				; Variables defined in C?
   46               2098     			.zp
   47    F8:2098             	random:		.ds	4			; Seed is 3 or 4 bytes.
   48               E69D     			.code
   49                        		.endif	_KICKC
   50                        	
   51                        	
   52                        	
   53                        	; ***************************************************************************
   54                        	; ***************************************************************************
   55                        	;
   56                        	; init_random - Initialize a 32-bit LFSR using an 8-bit seed value in Y.
   57                        	;
   58                        	; The LFSR is initialized to n'th entry of a standard CRC-32 lookup-table,
   59                        	; which gives it a decent distribution of bits.
   60                        	;
   61                        	; Since seed is an 8-bit value, there are 255 (256-1) possible starting
   62                        	; states for the LFSR, because 0 would generate a 0 state.
   63                        	;
   64                        	; CRC-32 code by Paul Guertin. See http://6502.org/source/integers/crc.htm
   65                        	;
   66                        	
   67    20:C07D             	init_random	.proc
   68                        	
   69    20:C07D  A9 01      			lda	#1			; Init CRC-32 table value.
   70    20:C07F  85 98      			sta	<random + 0
   71    20:C081  98         			tya				; Get and check the seed value.
   72    20:C082  D0 01      			bne	.reverse_seed
   73    20:C084  3A         			dec	a			; Which must be non-zero!
   74    20:C085  4A         	.reverse_seed:	lsr	a			; Reverse the bits so that small changes
   75    20:C086  26 98      			rol	<random + 0		; in the seed make larger differences in
   76    20:C088  90 FB      			bcc	.reverse_seed		; the initial state.
   77                        	
   78    20:C08A  64 99      			stz	<random + 1		; A contains the high byte of the CRC-32.
   79    20:C08C  64 9A      			stz	<random + 2		; The other three bytes are in memory.
   80    20:C08E  62         			cla
   81                        	
   82    20:C08F  A0 08      			ldy	#8			; Y counts bits in a byte.
   83    20:C091  4A         	.bit_loop:	lsr	a			; The CRC-32 algorithm is similar to CRC-16
   84    20:C092  66 9A      			ror	<random + 2		; except that it is reversed (originally for
   85    20:C094  66 99      			ror	<random + 1		; hardware reasons). This is why we shift
   86    20:C096  66 98      			ror	<random + 0		; right instead of left here.
   87    20:C098  90 16      			bcc	.no_add			; Do nothing if no overflow,
   88    20:C09A  49 ED      			eor	#$ED			; else add CRC-32 polynomial $EDB88320.
   89                        	
   90    20:C09C  48         			pha				; Save high byte while we do others.
   91    20:C09D  A5 9A      			lda	<random + 2
   92    20:C09F  49 B8      			eor	#$B8			; Most reference books give the CRC-32 poly
   93    20:C0A1  85 9A      			sta	<random + 2		; as $04C11DB7. This is actually the same if
   94    20:C0A3  A5 99      			lda	<random + 1		; you write it in binary and read it right-
   95    20:C0A5  49 83      			eor	#$83			; to-left instead of left-to-right. Doing it
   96    20:C0A7  85 99      			sta	<random + 1		; this way means we won't have to explicitly
   97    20:C0A9  A5 98      			lda	<random + 0		; reverse things afterwards.
   98    20:C0AB  49 20      			eor	#$20
   99    20:C0AD  85 98      			sta	<random + 0
  100    20:C0AF  68         			pla				; Restore high byte.
  101                        	
  102    20:C0B0  88         	.no_add:	dey				; Do next bit.
  103    20:C0B1  D0 DE      			bne	.bit_loop
  104                        	
  105    20:C0B3  85 9B      			sta	<random + 3		; Save CRC-32 high-byte.
  106                        	
  107                        			leave				; All done!
         20:C0B5  4C EF FF   			jmp	leave_proc
  108                        	
  109                        			.endp
  110                        	
  111                        	
  112                        	
  113                        	; ***************************************************************************
  114                        	; ***************************************************************************
  115                        	;
  116                        	; get_random - 8-bit LFSR pseudo-random number with a 24-bit cycle.
  117                        	;
  118                        	; The pseudo-random sequence repeats after (2^24)-1 calls.
  119                        	;
  120                        	; Written by Wim Couwenberg, see ...
  121                        	;
  122                        	; "https://wimcouwenberg.wordpress.com/2020/11/15/ ...
  123                        	;  a-fast-24-bit-prng-algorithm-for-the-6502-processor/"
  124                        	;
  125                        	; Takes 68 cycles on the HuC6280, incl JSR & RTS.
  126                        	;
  127                        	; N.B. HuCC library code relies on this preserving X and Y!
  128                        	;
  129                        	
  130    00:E69D  C2         	_rand8:		cly				; Entry point for HuCC.
  131                        	
  132    00:E69E  A5 98      	get_random:	lda	<random + 0		; Operation 7 (with carry clear).
  133    00:E6A0  0A         			asl	a
  134    00:E6A1  45 99      			eor	<random + 1
  135    00:E6A3  85 99      			sta	<random + 1
  136    00:E6A5  2A         			rol	a             		; Operation 9.
  137    00:E6A6  45 9A      			eor	<random + 2
  138    00:E6A8  85 9A      			sta	<random + 2
  139    00:E6AA  45 98      			eor	<random + 0		; Operation 5.
  140    00:E6AC  85 98      			sta	<random + 0
  141    00:E6AE  A5 99      			lda	<random + 1		; Operation 15.
  142    00:E6B0  6A         			ror	a
  143    00:E6B1  45 9A      			eor	<random + 2
  144    00:E6B3  85 9A      			sta	<random + 2
  145    00:E6B5  45 99      			eor	<random + 1		; Operation 6.
  146    00:E6B7  85 99      			sta	<random + 1
  147    00:E6B9  60         			rts
  148                        	
  149                        	
  150                        	
  151               0000     		.if	0
  316                        		.endif
                             #[2]   "..\..\..\include\hucc\hucc-final.asm"
   49                        		.endif
   50                        	
   51                        			; Optional libraries that get used when their header files
   52                        			; are included in a HuCC project.
   53                        			;
   54                        			; When the HuCC compiler is invoked with the "--legacy"
   55                        			; option to compile old projects, then the "huc.h" file
   56                        			; is automatically included, which then includes a list
   57                        			; of specific headers corresponding to HuC's library.
   58                        	
   59               0001     		.ifdef	HUCC_USES_STRING		; Set in hucc_string.h
                             #[3]   "..\..\..\include\hucc\hucc-string.asm"
   60                        			include	"hucc-string.asm"
    1                        	; ***************************************************************************
    2                        	; ***************************************************************************
    3                        	;
    4                        	; hucc-string.asm
    5                        	;
    6                        	; Not-quite-standard, but fast, replacements for <string.h>.
    7                        	;
    8                        	; Copyright John Brandwood 2024.
    9                        	;
   10                        	; Distributed under the Boost Software License, Version 1.0.
   11                        	; (See accompanying file LICENSE_1_0.txt or copy at
   12                        	;  http://www.boost.org/LICENSE_1_0.txt)
   13                        	;
   14                        	; ***************************************************************************
   15                        	; ***************************************************************************
   16                        	;
   17                        	; !!! WARNING : non-standard return values !!!
   18                        	;
   19                        	; Strings are limited to a maximum of 255 characters (+ the terminator)!
   20                        	;
   21                        	; The memcpy(), strcpy() and strcat() functions do NOT return the destination
   22                        	; address, and they are declared "void" to check that the value is not used.
   23                        	;
   24                        	; mempcpy() is provided which returns the end address instead of the starting
   25                        	; address, because this is typically more useful.
   26                        	;
   27                        	; Please note that both memcpy() and memset() are implemented using a TII for
   28                        	; speed, and so the length should be < 16 bytes if used in time-critical bits
   29                        	; of code (such as when using a split screen) because they delay interrupts.
   30                        	;
   31                        	; strncpy() and strncat() are not provided, because strncpy() was not created
   32                        	; for the purpose of avoiding string overruns, and strncat() is just a poorly
   33                        	; designed function.
   34                        	;
   35                        	; POSIX strlcpy() and strlcat() are provided instead, but once again they are
   36                        	; slightly non-standard in that the return value when there is an overflow is
   37                        	; the buffer size (so that the overflow can be detected), instead of the full
   38                        	; size of the destination string that was too big to fit in the buffer.
   39                        	;
   40                        	; ***************************************************************************
   41                        	; ***************************************************************************
   42                        	
   43                        	
   44                        	
   45                        	; ***************************************************************************
   46                        	; ***************************************************************************
   47                        	;
   48                        	; void __fastcall strcpy( char *destination<_di>, char *source<_bp> );
   49                        	; void __fastcall strcat( char *destination<_di>, char *source<_bp> );
   50                        	;
   51                        	; unsigned int __fastcall strlcpy( char *destination<_di>, char *source<_bp>, unsigned char size<acc> );
   52                        	; unsigned int __fastcall strlcat( char *destination<_di>, char *source<_bp>, unsigned char size<acc> );
   53                        	; unsigned int __fastcall strlen( char *source<_bp> );
   54                        	;
   55                        	; NOT WORKING YET (needs compiler changes) ...
   56                        	;
   57                        	; void __fastcall strcpy( char *destination<_di>, char __far *source<_bp_bank:_bp> );
   58                        	; void __fastcall strcat( char *destination<_di>, char __far *source<_bp_bank:_bp> );
   59                        	;
   60                        	; unsigned int __fastcall strlcpy( char *destination<_di>, char __far *source<_bp_bank:_bp>, unsigned char size<acc> );
   61                        	; unsigned int __fastcall strlcat( char *destination<_di>, char __far *source<_bp_bank:_bp>, unsigned char size<acc> );
   62                        	; unsigned int __fastcall strlen( char __far *source<_bp_bank:_bp> );
   63                        	
   64    00:E6BA  62         	_strcat:	cla				; Max string length == 256!
   65    00:E6BB  A0 01      			ldy.h	#256
   66                        	
   67    00:E6BD  AA         	_strlcat:	tax				; X = buffer length (1..256).
   68                        	
   69               0000     		.ifdef	_DEBUG
   74                        		.endif
   75                        	
   76    00:E6BE  43 08      			tma3				; Preserve MPR3 and MPR4.
   77    00:E6C0  48         			pha
   78    00:E6C1  43 10      			tma4
   79    00:E6C3  48         			pha
   80                        	
   81                        	;		ldy	<_bp_bank		; Map the source string.
   82                        	;		beq	.no_bank
   83                        	;		jsr	map_bp_to_mpr34
   84                        	
   85    00:E6C4  C2         	.no_bank:	cly
   86                        	
   87    00:E6C5  B1 F0      	.find:		lda	[_di], y		; Find the end of the string.
   88    00:E6C7  F0 08      			beq	.adjust
   89    00:E6C9  C8         			iny
   90    00:E6CA  CA         			dex
   91    00:E6CB  D0 F8      			bne	.find
   92    00:E6CD  98         			tya				; A:Y = buffer length.
   93    00:E6CE  62         			cla
   94    00:E6CF  80 28      			bra	str_overflow
   95                        	
   96    00:E6D1  98         	.adjust:	tya				; Subtract Y from _bp so that
   97    00:E6D2  49 FF      			eor	#$FF			; _bp and _di use the same Y.
   98    00:E6D4  38         			sec
   99    00:E6D5  65 EC      			adc.l	<_bp
  100    00:E6D7  85 EC      			sta.l	<_bp
  101    00:E6D9  B0 0F      			bcs	str_copy
  102    00:E6DB  C6 ED      			dec.h	<_bp
  103    00:E6DD  80 0B      			bra	str_copy
  104                        	
  105                        			;
  106                        	
  107    00:E6DF  62         	_strcpy:	cla				; Max string length == 256!
  108    00:E6E0  A0 01      			ldy.h	#256
  109                        	
  110    00:E6E2  AA         	_strlcpy:	tax				; X = buffer length (1..256).
  111                        	
  112               0000     		.ifdef	_DEBUG
  117                        		.endif
  118                        	
  119    00:E6E3  43 08      			tma3				; Preserve MPR3 and MPR4.
  120    00:E6E5  48         			pha
  121    00:E6E6  43 10      			tma4
  122    00:E6E8  48         			pha
  123                        	
  124                        	;		ldy	<_bp_bank		; Map the source string.
  125                        	;		beq	.no_bank
  126                        	;		jsr	map_bp_to_mpr34
  127                        	
  128    00:E6E9  C2         	.no_bank:	cly
  129                        	
  130    00:E6EA  B1 EC      	str_copy:	lda	[_bp], y
  131    00:E6EC  91 F0      			sta	[_di], y
  132    00:E6EE  F0 1E      			beq	str_exit		; A:Y = string length.
  133    00:E6F0  C8         			iny
  134    00:E6F1  CA         			dex
  135    00:E6F2  D0 F6      			bne	str_copy
  136                        	
  137    00:E6F4  88         			dey
  138    00:E6F5  62         			cla
  139    00:E6F6  91 F0      			sta	[_di], y
  140    00:E6F8  C8         			iny				; A:Y = buffer length.
  141    00:E6F9  D0 13      	str_overflow:	bne	str_exit
  142    00:E6FB  1A         			inc	a			; A:Y = buffer length = 256.
  143    00:E6FC  80 10      			bra	str_exit
  144                        	
  145                        			;
  146                        	
  147    00:E6FE  43 08      	_strlen:	tma3
  148    00:E700  48         			pha
  149    00:E701  43 10      			tma4
  150    00:E703  48         			pha
  151                        	
  152                        	;		ldy	<_bp_bank
  153                        	;		beq	.no_bank
  154                        	;		jsr	map_bp_to_mpr34
  155                        	
  156    00:E704  C2         	.no_bank:	cly
  157                        	
  158    00:E705  B1 EC      	.find:		lda	[_bp], y
  159    00:E707  F0 05      			beq	str_exit
  160    00:E709  C8         			iny
  161    00:E70A  D0 F9      			bne	.find
  162    00:E70C  A9 01      			lda.h	#256			; A:Y = overflow length = 256.
  163                        	
  164    00:E70E  AA         	str_exit:	tax				; X:Y = string or buffer length.
  165                        	
  166    00:E70F  68         			pla				; Restore MPR3 and MPR4.
  167    00:E710  53 10      			tam4
  168    00:E712  68         			pla
  169    00:E713  53 08      			tam3
  170                        	
  171    00:E715  8A         			txa				; A:Y = string or buffer length.
  172    00:E716  42         			say				; Y:A = string or buffer length.
  173                        	
  174    00:E717  60         			rts
  175                        	
  176    00:E718             			.alias	_strlen.1		= _strlen
  177    00:E718             			.alias	_strcpy.2		= _strcpy
  178    00:E718             			.alias	_strcat.2		= _strcat
  179    00:E718             			.alias	_strlcpy.3		= _strlcpy
  180    00:E718             			.alias	_strlcat.3		= _strlcat
  181                        	
  182                        	
  183                        	
  184                        	; ***************************************************************************
  185                        	; ***************************************************************************
  186                        	;
  187                        	; void __fastcall memcpy( unsigned char *destination<ram_tii_dst>, unsigned char  *source<ram_tii_src>, unsigned int count<acc> );
  188                        	; unsigned char * __fastcall mempcpy( unsigned char *destination<ram_tii_dst>, unsigned char  *source<ram_tii_src>, unsigned int count<acc> );
  189                        	;
  190                        	; void __fastcall farmemcpy( unsigned char *destination<ram_tii_dst>, unsigned char __far *source<_bp_bank:ram_tii_src>, unsigned int count<acc> );
  191                        	; unsigned char * __fastcall farmempcpy( unsigned char *destination<ram_tii_dst>, unsigned char __far *source<_bp_bank:ram_tii_src>, unsigned int count<acc> );
  192                        	;
  193                        	; void __fastcall far_memcpy( unsigned char *destination<ram_tii_dst>, unsigned int count<acc> );
  194                        	; unsigned char * __fastcall far_mempcpy( unsigned char *destination<ram_tii_dst>, unsigned int count<acc> );
  195                        	;
  196                        	
  197    00:E718             	_memcpy.3:
  198    00:E718  64 02      	_mempcpy.3:	stz	<_bp_bank		; Map the source memory.
  199                        	
  200    00:E71A             	_farmemcpy.3:
  201    00:E71A  8C FE 22   	_farmempcpy.3:	sty.h	ram_tii_len		; Check for zero length.
  202    00:E71D  8D FD 22   			sta.l	ram_tii_len
  203    00:E720  0D FE 22   			ora.h	ram_tii_len
  204    00:E723  F0 18      			beq	.zero_length
  205                        	
  206    00:E725  43 08      			tma3				; Preserve MPR3 and MPR4.
  207    00:E727  48         			pha
  208    00:E728  43 10      			tma4
  209    00:E72A  48         			pha
  210                        	
  211    00:E72B  A5 02      			lda	<_bp_bank		; Map the source memory.
  212    00:E72D  F0 05      			beq	.no_bank
  213                        	
  214    00:E72F  53 08      			tam3				; Put bank into MPR3.
  215    00:E731  1A         			inc	a
  216    00:E732  53 10      			tam4				; Put next into MPR4.
  217                        	
  218                        	;		lda.h	ram_tii_src		; Remap ptr to MPR3.
  219                        	;		and	#$1F
  220                        	;		ora	#$60
  221                        	;		sta.h	ram_tii_src
  222                        	
  223    00:E734  20 F8 22   	.no_bank:	jsr	ram_tii			; Copy the memory.
  224                        	
  225    00:E737  68         			pla				; Restore MPR3 and MPR4.
  226    00:E738  53 10      			tam4
  227    00:E73A  68         			pla
  228    00:E73B  53 08      			tam3
  229                        	
  230    00:E73D  18         	.zero_length:	clc				; Return the end address
  231    00:E73E  AD FB 22   			lda.l	ram_tii_dst		; like mempcpy().
  232    00:E741  6D FD 22   			adc.l	ram_tii_len
  233    00:E744  A8         			tay
  234    00:E745  AD FC 22   			lda.h	ram_tii_dst
  235    00:E748  6D FE 22   			adc.h	ram_tii_len
  236    00:E74B  42         			say
  237                        	
  238    00:E74C  60         			rts
  239                        	
  240    00:E74D             			.alias	_far_memcpy.2		= _farmemcpy.3
  241    00:E74D             			.alias	_far_mempcpy.2		= _farmempcpy.3
  242                        	
  243                        	
  244                        	
  245                        	; ***************************************************************************
  246                        	; ***************************************************************************
  247                        	;
  248                        	; void __fastcall memset( unsigned char *destination<ram_tii_src>, unsigned char value<_al>, unsigned int count<acc> );
  249                        	
  250    00:E74D  C9 00      	_memset:	cmp	#0			; Decrement the length, check
  251    00:E74F  D0 05      			bne	!+			; for zero and set C. 
  252    00:E751  C0 00      			cpy	#0
  253    00:E753  F0 23      			beq	.zero_length
  254    00:E755  88         			dey
  255    00:E756  3A         	!:		dec	a
  256    00:E757  8D FD 22   			sta.l	ram_tii_len
  257    00:E75A  8C FE 22   			sty.h	ram_tii_len
  258                        	
  259    00:E75D  AD F9 22   			lda.l	ram_tii_src		; ram_tii_dst = ram_tii_src + 1
  260    00:E760  85 88      			sta.l	<__ptr
  261    00:E762  69 00      			adc	#0
  262    00:E764  8D FB 22   			sta.l	ram_tii_dst
  263    00:E767  AD FA 22   			lda.h	ram_tii_src
  264    00:E76A  85 89      			sta.h	<__ptr
  265    00:E76C  69 00      			adc	#0
  266    00:E76E  8D FC 22   			sta.h	ram_tii_dst
  267                        	
  268    00:E771  A5 F8      			lda	<_al			; Set the fill value.
  269    00:E773  92 88      			sta	[__ptr]
  270                        	
  271    00:E775  4C F8 22   			jmp	ram_tii			; Copy the memory.
  272                        	
  273    00:E778  60         	.zero_length:	rts
  274                        	
  275    00:E779             			.alias	_memset.3		= _memset
  276                        	
  277                        	
  278                        	
  279                        	; ***************************************************************************
  280                        	; ***************************************************************************
  281                        	;
  282                        	; int __fastcall strcmp( char *string1<_di>, char *string2<_bp> );
  283                        	; int __fastcall strncmp( char *string1<_di>, char *string2<_bp>, unsigned int count<_ax> );
  284                        	;
  285                        	; int __fastcall __macro memcmp( unsigned char *string1<_di>, unsigned char *string2<_bp>, unsigned int count<_ax> );
  286                        	; int __fastcall farmemcmp( unsigned char *string1<_di>, unsigned char __far *string2<_bp_bank:_bp>, unsigned int count<_ax> );
  287                        	; int __fastcall far_memcmp( unsigned char *string1<_di>, unsigned int count<_ax> );
  288                        	;
  289                        	;  0 	if strings are equal
  290                        	;  1 	if the first non-matching character in string1 > string2 (in ASCII).
  291                        	; -1 	if the first non-matching character in string1 < string2 (in ASCII).
  292                        	
  293    1F:DE92             	hucc_memcmp	.procgroup
  294                        	
  295                        	_strcmp.2	.proc
  300                        			.endp				; Fall through.
  301                        	
  302    1F:DE92             	_strncmp.3	.proc
  303    1F:DE92  64 02      			stz	<_bp_bank		; Assume strings are mapped.
  304    1F:DE94  89 40      			bit	#$40			; Set the V bit for strcmp.
  305    1F:DE96  50         			db	$50			; Turn "clv" into "bvc".
  306    1F:DE97             			.ref	_farmemcmp.3		; Don't strip _farmemcmp.3!
  307                        			.endp				; Fall through.
  308                        	
  309    1F:DE97             	_farmemcmp.3	.proc
  310    1F:DE97  B8         			clv				; Clr the V bit for memcmp.
  311                        	
  312    1F:DE98  43 08      			tma3				; Preserve MPR3 and MPR4.
  313    1F:DE9A  48         			pha
  314    1F:DE9B  43 10      			tma4
  315    1F:DE9D  48         			pha
  316                        	
  317    1F:DE9E  A4 02      			ldy	<_bp_bank		; Map string2.
  318    1F:DEA0  F0 03      			beq	.no_bank
  319                        	
  320    1F:DEA2  20 4F E3   			jsr	map_bp_to_mpr34
  321                        	
  322    1F:DEA5  C2         	.no_bank:	cly
  323                        	
  324    1F:DEA6  A6 F8      			ldx.l	<_ax			; Increment length.l
  325    1F:DEA8  E8         			inx
  326    1F:DEA9  CA         	.loop:		dex				; Decrement length.l
  327    1F:DEAA  F0 17      			beq	.page
  328    1F:DEAC  B1 F0      	.test:		lda	[_di], y		; string1 - string2
  329    1F:DEAE  D1 EC      			cmp	[_bp], y
  330    1F:DEB0  90 1E      			bcc	.return_neg		; string1 < string2 
  331    1F:DEB2  D0 17      			bne	.return_pos		; string1 > string2
  332    1F:DEB4  50 04      			bvc	!+			; Only check for end-of-string
  333    1F:DEB6  C9 00      			cmp	#0			; if the V flag is set.
  334    1F:DEB8  F0 0D      			beq	.return_same
  335    1F:DEBA  C8         	!:		iny
  336    1F:DEBB  D0 EC      			bne	.loop
  337    1F:DEBD  E6 F1      			inc.h	<_di
  338    1F:DEBF  E6 ED      			inc.h	<_bp			; Limited to 8KB maximum!
  339                        	;		jsr	inc.h_bp_mpr34
  340    1F:DEC1  80 E6      			bra	.loop
  341                        	
  342    1F:DEC3  C6 F9      	.page:		dec.h	<_ax			; Decrement length.h 
  343    1F:DEC5  10 E5      			bpl	.test			; Limit comparison to 32KB.
  344                        	;		bra	cmp_same
  345                        	
  346    1F:DEC7  82         	.return_same:	clx				; Return code in Y:X, X -> A.
  347    1F:DEC8  C2         			cly
  348    1F:DEC9  80 09      			bra	!+
  349                        	
  350    1F:DECB  A2 01      	.return_pos:	ldx	#$01			; Return code in Y:X, X -> A.
  351    1F:DECD  C2         			cly
  352    1F:DECE  80 04      			bra	!+
  353                        	
  354    1F:DED0  A2 FF      	.return_neg:	ldx	#$FF			; Return code in Y:X, X -> A.
  355    1F:DED2  A0 FF      			ldy	#$FF
  356                        	
  357    1F:DED4  68         	!:		pla				; Restore MPR3 and MPR4.
  358    1F:DED5  53 10      			tam4
  359    1F:DED7  68         			pla
  360    1F:DED8  53 08      			tam3
  361                        	
  362                        			leave				; Return and copy X -> A.
         1F:DEDA  4C EF FF   			jmp	leave_proc
  363                        	
  364                        			.endp
  365                        	
  366                        			.endprocgroup			; hucc_memcmp
  367                        	
  368    00:E779             			.alias	_far_memcmp.2		= _farmemcmp.3
                             #[2]   "..\..\..\include\hucc\hucc-final.asm"
   61                        		.endif
   62                        	
   63               0001     		.ifdef	HUCC_USES_NEW_SCROLL		; Set in hucc_scroll.h
                             #[3]   "..\..\..\include\hucc\hucc-scroll.asm"
   64                        			include	"hucc-scroll.asm"
    1                        	; ***************************************************************************
    2                        	; ***************************************************************************
    3                        	;
    4                        	; hucc-scroll.asm
    5                        	;
    6                        	; Routines for a fast split-screen scrolling system.
    7                        	;
    8                        	; Copyright John Brandwood 2024.
    9                        	;
   10                        	; Distributed under the Boost Software License, Version 1.0.
   11                        	; (See accompanying file LICENSE_1_0.txt or copy at
   12                        	;  http://www.boost.org/LICENSE_1_0.txt)
   13                        	;
   14                        	; ***************************************************************************
   15                        	; ***************************************************************************
   16                        	;
   17                        	; The maximum number of splits for each screen layer is set in your project's
   18                        	; "hucc-config.inc" file, with the library having a limit of 128-per-layer.
   19                        	;
   20                        	; Your first active split must be defined to start at screen line 0, and then
   21                        	; the rest of the active splits must be in increasing line order to match the
   22                        	; way that the PC Engine displays the output image.
   23                        	;
   24                        	; You can have disabled splits interleaved with your active splits.
   25                        	;
   26                        	; Splits that are normally disabled can be used to create full screen effects
   27                        	; such as bouncing the screen up and down by adding blank areas at the top or
   28                        	; bottom of the screen, and then rapidly changing the height of those areas.
   29                        	;
   30                        	; ***************************************************************************
   31                        	; ***************************************************************************
   32                        	
   33                        	
   34                        	
   35               0000     		.ifndef	HUCC_PCE_SPLITS
   37                        		.endif
   38                        	
   39               0000     		.ifndef	HUCC_SGX_SPLITS
   41                        		.endif
   42                        	
   43               0000     		.if	(HUCC_PCE_SPLITS < 2) || (HUCC_PCE_SPLITS > 128)
   45                        		.endif
   46                        	
   47               0000     		.if	(HUCC_SGX_SPLITS < 2) || (HUCC_SGX_SPLITS > 128)
   49                        		.endif
   50                        	
   51               0144     	HUCC_1ST_RCR	=	$144
   52               00E0     	HUCC_SCR_HEIGHT	=	224
   53                        	
   54               E779     			.code
   55                        	
   56                        	
   57                        	
   58                        	; ***************************************************************************
   59                        	; ***************************************************************************
   60                        	;
   61                        	; void __fastcall scroll_split( unsigned char index<_al>, unsigned char screen_line<_ah>, unsigned int bat_x<_bx>, unsigned int bat_y<_cx>, unsigned char display_flags<_dl> );
   62                        	; void __fastcall sgx_scroll_split( unsigned char index<_al>, unsigned char screen_line<_ah>, unsigned int bat_x<_bx>, unsigned int bat_y<_cx>, unsigned char display_flags<_dl> );
   63                        	;
   64                        	; set screen scrolling
   65                        	
   66    1F:DA96             			.proc	_scroll_split.5
   67                        	
   68    1F:DA96  08         			php				; Disable interrupts while
   69    1F:DA97  78         			sei				; updating this structure.
   70                        	
   71    1F:DA98  A6 F8      			ldx	<_al			; Region number.
   72    1F:DA9A  E0 08      			cpx	#HUCC_PCE_SPLITS
   73    1F:DA9C  B0 FE      	.hang:		bcs	.hang			; Better a hang than a crash!
   74                        	
   75    1F:DA9E  BD 03 27   			lda	vdc_region_sel, x	; Update the parameter copy
   76    1F:DAA1  5D 0B 27   			eor	vdc_region_new, x	; that is not displayed now.
   77    1F:DAA4  D0 3B      			bne	.regionA
   78                        	
   79    1F:DAA6  A5 F9      	.regionB:	lda	<_ah			; Scanline (i.e. top).
   80    1F:DAA8  C9 E0      			cmp	#HUCC_SCR_HEIGHT	; Skip if offscreen.
   81    1F:DAAA  B0 31      			bcs	!done+
   82    1F:DAAC  9D 2B 27   			sta	vdc_regionB_rcr, x
   83                        	
   84    1F:DAAF  C9 00      			cmp	#0			; Either Y at top of the frame
   85    1F:DAB1  F0 01      			beq	!+			; or Y-1 because the RCR code
   86    1F:DAB3  18         			clc				; sets it on the line before.
   87    1F:DAB4  A5 FC      	!:		lda.l	<_cx
   88    1F:DAB6  E9 00      			sbc	#0
   89    1F:DAB8  9D 5B 27   			sta	vdc_regionB_yl, x
   90    1F:DABB  A5 FD      			lda.h	<_cx
   91    1F:DABD  E9 00      			sbc	#0
   92    1F:DABF  9D 6B 27   			sta	vdc_regionB_yh, x
   93                        	
   94    1F:DAC2  A5 FA      			lda.l	<_bx
   95    1F:DAC4  9D 3B 27   			sta	vdc_regionB_xl, x
   96    1F:DAC7  A5 FB      			lda.h	<_bx
   97    1F:DAC9  9D 4B 27   			sta	vdc_regionB_xh, x
   98                        	
   99    1F:DACC  A5 FE      			lda	<_dl			; Flags (mark it as enabled).
  100    1F:DACE  29 C0      			and	#$C0
  101    1F:DAD0  09 0C      			ora	#$0C
  102    1F:DAD2  9D 1B 27   			sta	vdc_regionB_crl, x
  103                        	
  104    1F:DAD5  A9 01      			lda	#1			; Mark that we've changed the
  105    1F:DAD7  9D 0B 27   			sta	vdc_region_new, x	; selected region.
  106    1F:DADA  9D 03 27   			sta	vdc_region_sel, x
  107                        	
  108    1F:DADD  28         	!done:		plp				; Restore interrupts.
  109                        			leave				; All done!
         1F:DADE  4C EF FF   			jmp	leave_proc
  110                        	
  111    1F:DAE1  A5 F9      	.regionA:	lda	<_ah			; Scanline (i.e. top).
  112    1F:DAE3  C9 E0      			cmp	#HUCC_SCR_HEIGHT	; Skip if offscreen.
  113    1F:DAE5  B0 31      			bcs	!done+
  114    1F:DAE7  9D 23 27   			sta	vdc_regionA_rcr, x
  115                        	
  116    1F:DAEA  C9 00      			cmp	#0			; Either Y at top of the frame
  117    1F:DAEC  F0 01      			beq	!+			; or Y-1 because the RCR code
  118    1F:DAEE  18         			clc				; sets it on the line before.
  119    1F:DAEF  A5 FC      	!:		lda.l	<_cx
  120    1F:DAF1  E9 00      			sbc	#0
  121    1F:DAF3  9D 53 27   			sta	vdc_regionA_yl, x
  122    1F:DAF6  A5 FD      			lda.h	<_cx
  123    1F:DAF8  E9 00      			sbc	#0
  124    1F:DAFA  9D 63 27   			sta	vdc_regionA_yh, x
  125                        	
  126    1F:DAFD  A5 FA      			lda.l	<_bx
  127    1F:DAFF  9D 33 27   			sta	vdc_regionA_xl, x
  128    1F:DB02  A5 FB      			lda.h	<_bx
  129    1F:DB04  9D 43 27   			sta	vdc_regionA_xh, x
  130                        	
  131    1F:DB07  A5 FE      			lda	<_dl			; Flags (mark it as enabled).
  132    1F:DB09  29 C0      			and	#$C0
  133    1F:DB0B  09 0C      			ora	#$0C
  134    1F:DB0D  9D 13 27   			sta	vdc_regionA_crl, x
  135                        	
  136    1F:DB10  A9 01      			lda	#1			; Mark that we've changed the
  137    1F:DB12  9D 0B 27   			sta	vdc_region_new, x	; selected region.
  138    1F:DB15  9E 03 27   			stz	vdc_region_sel, x
  139                        	
  140    1F:DB18  28         	!done:		plp				; Restore interrupts.
  141                        			leave				; All done!
         1F:DB19  4C EF FF   			jmp	leave_proc
  142                        	
  143                        			.endp
  144                        	
  145               0001     		.if	SUPPORT_SGX
  146                        	
  147    1F:DB1C             			.proc	_sgx_scroll_split.5
  148                        	
  149    1F:DB1C  08         			php				; Disable interrupts while
  150    1F:DB1D  78         			sei				; updating this structure.
  151                        	
  152    1F:DB1E  A6 F8      			ldx	<_al			; Region number.
  153    1F:DB20  E0 08      			cpx	#HUCC_SGX_SPLITS
  154    1F:DB22  B0 FE      	.hang:		bcs	.hang			; Better a hang than a crash!
  155                        	
  156    1F:DB24  BD 84 27   			lda	sgx_region_sel, x	; Update the parameter copy
  157    1F:DB27  5D 8C 27   			eor	sgx_region_new, x	; that is not displayed now.
  158    1F:DB2A  D0 3B      			bne	.regionA
  159                        	
  160    1F:DB2C  A5 F9      	.regionB:	lda	<_ah			; Scanline (i.e. top).
  161    1F:DB2E  C9 E0      			cmp	#HUCC_SCR_HEIGHT	; Skip if offscreen.
  162    1F:DB30  B0 31      			bcs	!done+
  163    1F:DB32  9D AC 27   			sta	sgx_regionB_rcr, x
  164                        	
  165    1F:DB35  C9 00      			cmp	#0			; Either Y at top of the frame
  166    1F:DB37  F0 01      			beq	!+			; or Y-1 because the RCR code
  167    1F:DB39  18         			clc				; sets it on the line before.
  168    1F:DB3A  A5 FC      	!:		lda.l	<_cx
  169    1F:DB3C  E9 00      			sbc	#0
  170    1F:DB3E  9D DC 27   			sta	sgx_regionB_yl, x
  171    1F:DB41  A5 FD      			lda.h	<_cx
  172    1F:DB43  E9 00      			sbc	#0
  173    1F:DB45  9D EC 27   			sta	sgx_regionB_yh, x
  174                        	
  175    1F:DB48  A5 FA      			lda.l	<_bx
  176    1F:DB4A  9D BC 27   			sta	sgx_regionB_xl, x
  177    1F:DB4D  A5 FB      			lda.h	<_bx
  178    1F:DB4F  9D CC 27   			sta	sgx_regionB_xh, x
  179                        	
  180    1F:DB52  A5 FE      			lda	<_dl
  181    1F:DB54  29 C0      			and	#$C0			; Flags (mark it as enabled).
  182    1F:DB56  09 0C      			ora	#$0C
  183    1F:DB58  9D 9C 27   			sta	sgx_regionB_crl, x
  184                        	
  185    1F:DB5B  A9 01      			lda	#1			; Mark that we've changed the
  186    1F:DB5D  9D 8C 27   			sta	sgx_region_new, x	; selected region.
  187    1F:DB60  9D 84 27   			sta	sgx_region_sel, x
  188                        	
  189    1F:DB63  28         	!done:		plp				; Restore interrupts.
  190                        			leave				; All done!
         1F:DB64  4C EF FF   			jmp	leave_proc
  191                        	
  192    1F:DB67  A5 F9      	.regionA:	lda	<_ah			; Scanline (i.e. top).
  193    1F:DB69  C9 E0      			cmp	#HUCC_SCR_HEIGHT	; Skip if offscreen.
  194    1F:DB6B  B0 31      			bcs	!done+
  195    1F:DB6D  9D A4 27   			sta	sgx_regionA_rcr, x
  196                        	
  197    1F:DB70  C9 00      			cmp	#0			; Either Y at top of the frame
  198    1F:DB72  F0 01      			beq	!+			; or Y-1 because the RCR code
  199    1F:DB74  18         			clc				; sets it on the line before.
  200    1F:DB75  A5 FC      	!:		lda.l	<_cx
  201    1F:DB77  E9 00      			sbc	#0
  202    1F:DB79  9D D4 27   			sta	sgx_regionA_yl, x
  203    1F:DB7C  A5 FD      			lda.h	<_cx
  204    1F:DB7E  E9 00      			sbc	#0
  205    1F:DB80  9D E4 27   			sta	sgx_regionA_yh, x
  206                        	
  207    1F:DB83  A5 FA      			lda.l	<_bx
  208    1F:DB85  9D B4 27   			sta	sgx_regionA_xl, x
  209    1F:DB88  A5 FB      			lda.h	<_bx
  210    1F:DB8A  9D C4 27   			sta	sgx_regionA_xh, x
  211                        	
  212    1F:DB8D  A5 FE      			lda	<_dl
  213    1F:DB8F  29 C0      			and	#$C0			; Flags (mark it as enabled).
  214    1F:DB91  09 0C      			ora	#$0C
  215    1F:DB93  9D 94 27   			sta	sgx_regionA_crl, x
  216                        	
  217    1F:DB96  A9 01      			lda	#1			; Mark that we've changed the
  218    1F:DB98  9D 8C 27   			sta	sgx_region_new, x	; selected region.
  219    1F:DB9B  9E 84 27   			stz	sgx_region_sel, x
  220                        	
  221    1F:DB9E  28         	!done:		plp				; Restore interrupts.
  222                        			leave				; All done!
         1F:DB9F  4C EF FF   			jmp	leave_proc
  223                        	
  224                        			.endp
  225                        	
  226                        		.endif	SUPPORT_SGX
  227                        	
  228                        	
  229                        	
  230                        	; ***************************************************************************
  231                        	; ***************************************************************************
  232                        	;
  233                        	; void __fastcall disable_split( unsigned char index<acc> );
  234                        	; void __fastcall sgx_disable_split( unsigned char index<acc> );
  235                        	;
  236                        	; disable screen scrolling for a scroll region
  237                        	
  238    00:E779             	_disable_split.1:
  239    00:E779  08         			php				; Disable interrupts while
  240    00:E77A  78         			sei				; updating this structure.
  241                        	
  242    00:E77B  C9 08      			cmp	#HUCC_PCE_SPLITS	; Better a hang than a crash!
  243    00:E77D  B0 FE      	.hang:		bcs	.hang
  244    00:E77F  AA         			tax
  245                        	
  246    00:E780  BD 03 27   			lda	vdc_region_sel, x	; Update the parameter copy
  247    00:E783  5D 0B 27   			eor	vdc_region_new, x	; that is not displayed now.
  248    00:E786  D0 0D      			bne	.regionA
  249                        	
  250    00:E788  9E 1B 27   	.regionB:	stz	vdc_regionB_crl, x	; Region disabled if $00.
  251                        	
  252    00:E78B  A9 01      			lda	#1			; Mark that we've changed the
  253    00:E78D  9D 0B 27   			sta	vdc_region_new, x	; selected region.
  254    00:E790  9D 03 27   			sta	vdc_region_sel, x
  255                        	
  256    00:E793  28         			plp				; Restore interrupts.
  257    00:E794  60         			rts
  258                        	
  259    00:E795  9E 13 27   	.regionA:	stz	vdc_regionA_crl, x	; Region disabled if $00.
  260                        	
  261    00:E798  A9 01      			lda	#1			; Mark that we've changed the
  262    00:E79A  9D 0B 27   			sta	vdc_region_new, x	; selected region.
  263    00:E79D  9E 03 27   			stz	vdc_region_sel, x
  264                        	
  265    00:E7A0  28         			plp				; Restore interrupts.
  266    00:E7A1  60         			rts
  267                        	
  268               0001     		.if	SUPPORT_SGX
  269                        	
  270    00:E7A2             	_sgx_disable_split.1:
  271    00:E7A2  08         			php				; Disable interrupts while
  272    00:E7A3  78         			sei				; updating this structure.
  273                        	
  274    00:E7A4  C9 08      			cmp	#HUCC_SGX_SPLITS	; Better a hang than a crash!
  275    00:E7A6  B0 FE      	.hang:		bcs	.hang
  276    00:E7A8  AA         			tax
  277                        	
  278    00:E7A9  BD 84 27   			lda	sgx_region_sel, x	; Update the parameter copy
  279    00:E7AC  5D 8C 27   			eor	sgx_region_new, x	; that is not displayed now.
  280    00:E7AF  D0 0D      			bne	.regionA
  281                        	
  282    00:E7B1  9E 9C 27   	.regionB:	stz	sgx_regionB_crl, x	; Region disabled if $00.
  283                        	
  284    00:E7B4  A9 01      			lda	#1			; Mark that we've changed the
  285    00:E7B6  9D 8C 27   			sta	sgx_region_new, x	; selected region.
  286    00:E7B9  9D 84 27   			sta	sgx_region_sel, x
  287                        	
  288    00:E7BC  28         			plp				; Restore interrupts.
  289    00:E7BD  60         			rts
  290                        	
  291    00:E7BE  9E 94 27   	.regionA:	stz	sgx_regionA_crl, x	; Region disabled if $00.
  292                        	
  293    00:E7C1  A9 01      			lda	#1			; Mark that we've changed the
  294    00:E7C3  9D 8C 27   			sta	sgx_region_new, x	; selected region.
  295    00:E7C6  9E 84 27   			stz	sgx_region_sel, x
  296                        	
  297    00:E7C9  28         			plp				; Restore interrupts.
  298    00:E7CA  60         			rts
  299                        	
  300                        		.endif	SUPPORT_SGX
  301                        	
  302                        	
  303                        	
  304                        	; ***************************************************************************
  305                        	; ***************************************************************************
  306                        	;
  307                        	; vbl_init_scroll
  308                        	;
  309                        	; From Charles MacDonald's pcetech.txt ...
  310                        	;
  311                        	;  Raster Compare Register (RCR):
  312                        	;
  313                        	;  The range of the RCR is 263 lines, relative to the start of the active
  314                        	;  display period. (defined by VSW, VDS, and VCR) The VDC treats the first
  315                        	;  scanline of the active display period as $0040, so the valid ranges for
  316                        	;  the RCR register are $0040 to $0146.
  317                        	;
  318                        	;  For example, assume VSW=$02, VDS=$17. This positions the first line of
  319                        	;  the active display period at line 25 of the frame. An RCR value of $0040
  320                        	;  (zero) causes an interrupt at line 25, and a value of $0146 (262) causes an
  321                        	;  interrupt at line 24 of the next frame.
  322                        	;
  323                        	;  Any other RCR values that are out of range ($00-$3F, $147-$3FF) will never
  324                        	;  result in a successful line compare.
  325                        	;
  326                        	; Processing time:
  327                        	;
  328                        	; Old HuC rcr_init: 2148 cycles if all 8 regions pre-sorted
  329                        	; Old HuC rcr_init: 4346 cycles if all 8 regions need sorting
  330                        	;
  331                        	; New HuCC vbl_init_scroll:   8 disabled splits:  290 cycles
  332                        	; New HuCC vbl_init_scroll:   8  enabled splits:  384 cycles
  333                        	;
  334                        	; New HuCC vbl_init_scroll:  16 disabled splits:  506 cycles
  335                        	; New HuCC vbl_init_scroll:  16  enabled splits:  672 cycles
  336                        	;
  337                        	; New HuCC vbl_init_scroll:  32 disabled splits:  953 cycles
  338                        	; New HuCC vbl_init_scroll:  32  enabled splits: 1263 cycles
  339                        	;
  340                        	; New HuCC vbl_init_scroll:  64 disabled splits: 1802 cycles
  341                        	; New HuCC vbl_init_scroll:  64  enabled splits: 2400 cycles
  342                        	;
  343                        	; New HuCC vbl_init_scroll: 128 disabled splits: 3530 cycles
  344                        	; New HuCC vbl_init_scroll: 128  enabled splits: 4704 cycles
  345                        	;
  346                        	; Memory used is 16 bytes per scroll per VDC!
  347                        	
  348               2703     			.bss
  349                        	
  350    F8:2703             	vdc_region_sel:	.ds	HUCC_PCE_SPLITS		; Use A or B region next frame?
  351    F8:270B             	vdc_region_new:	.ds	HUCC_PCE_SPLITS		; 1 if vdc_region_sel modified.
  352                        	
  353    F8:2713             	vdc_regionA_crl:.ds	HUCC_PCE_SPLITS		; Two copies of each setting
  354    F8:271B             	vdc_regionB_crl:.ds	HUCC_PCE_SPLITS		; HUCC_PCE_SPLITS bytes apart,
  355    F8:2723             	vdc_regionA_rcr:.ds	HUCC_PCE_SPLITS		; one setting for the current
  356    F8:272B             	vdc_regionB_rcr:.ds	HUCC_PCE_SPLITS		; frame, and one setting that
  357    F8:2733             	vdc_regionA_xl:	.ds	HUCC_PCE_SPLITS		; gets modified and then used
  358    F8:273B             	vdc_regionB_xl:	.ds	HUCC_PCE_SPLITS		; on the next frame after the
  359    F8:2743             	vdc_regionA_xh:	.ds	HUCC_PCE_SPLITS		; change is made.
  360    F8:274B             	vdc_regionB_xh:	.ds	HUCC_PCE_SPLITS		; Regions will have different
  361    F8:2753             	vdc_regionA_yl:	.ds	HUCC_PCE_SPLITS		; A or B currently active!
  362    F8:275B             	vdc_regionB_yl:	.ds	HUCC_PCE_SPLITS
  363    F8:2763             	vdc_regionA_yh:	.ds	HUCC_PCE_SPLITS
  364    F8:276B             	vdc_regionB_yh:	.ds	HUCC_PCE_SPLITS
  365                        	
  366    F8:2773             	vdc_next_region:.ds	1			; Linked list of region indexes
  367    F8:2774             	vdc_regionA_nxt:.ds	HUCC_PCE_SPLITS		; for the current frame.
  368    F8:277C             	vdc_regionB_nxt:.ds	HUCC_PCE_SPLITS
  369                        	
  370               0001     		.if	SUPPORT_SGX
  371                        	
  372    F8:2784             	sgx_region_sel:	.ds	HUCC_SGX_SPLITS		; Use A or B region next frame?
  373    F8:278C             	sgx_region_new:	.ds	HUCC_SGX_SPLITS		; 1 if sgx_region_sel modified.
  374                        	
  375    F8:2794             	sgx_regionA_crl:.ds	HUCC_SGX_SPLITS		; Two copies of each setting
  376    F8:279C             	sgx_regionB_crl:.ds	HUCC_SGX_SPLITS		; HUCC_SGX_SPLITS bytes apart,
  377    F8:27A4             	sgx_regionA_rcr:.ds	HUCC_SGX_SPLITS		; one setting for the current
  378    F8:27AC             	sgx_regionB_rcr:.ds	HUCC_SGX_SPLITS		; frame, and one setting that
  379    F8:27B4             	sgx_regionA_xl:	.ds	HUCC_SGX_SPLITS		; gets modified and then used
  380    F8:27BC             	sgx_regionB_xl:	.ds	HUCC_SGX_SPLITS		; on the next frame after the
  381    F8:27C4             	sgx_regionA_xh:	.ds	HUCC_SGX_SPLITS		; change is made.
  382    F8:27CC             	sgx_regionB_xh:	.ds	HUCC_SGX_SPLITS		; Regions will have different
  383    F8:27D4             	sgx_regionA_yl:	.ds	HUCC_SGX_SPLITS		; A or B currently active!
  384    F8:27DC             	sgx_regionB_yl:	.ds	HUCC_SGX_SPLITS
  385    F8:27E4             	sgx_regionA_yh:	.ds	HUCC_SGX_SPLITS
  386    F8:27EC             	sgx_regionB_yh:	.ds	HUCC_SGX_SPLITS
  387                        	
  388    F8:27F4             	sgx_next_region:.ds	1			; Linked list of region indexes
  389    F8:27F5             	sgx_regionA_nxt:.ds	HUCC_SGX_SPLITS		; for the current frame.
  390    F8:27FD             	sgx_regionB_nxt:.ds	HUCC_SGX_SPLITS
  391                        	
  392                        		.endif
  393                        	
  394               E7CB     			.code
  395                        	
  396    1F:DBA2             	vbl_init_scroll	.proc
  397                        	
  398    1F:DBA2  62         			cla				; A = previous active index
  399    1F:DBA3  A2 08      			ldx	#HUCC_PCE_SPLITS	; so $00 for end-of-screen.
  400                        	
  401    1F:DBA5  18         			clc				; For regionB indexes.
  402                        	
  403    1F:DBA6  CA         	!next_region:	dex				; All regions updated?
  404    1F:DBA7  30 20      			bmi	!save_first+
  405                        	
  406    1F:DBA9  9E 0B 27   			stz	vdc_region_new, x	; Clear region modified flag.
  407                        	
  408    1F:DBAC  BC 03 27   			ldy	vdc_region_sel, x	; 0=regionA or 1=regionB.
  409    1F:DBAF  F0 0D      			beq	!use_regionA+
  410                        	
  411    1F:DBB1  BC 1B 27   	!use_regionB:	ldy	vdc_regionB_crl, x	; Region disabled if $00.
  412    1F:DBB4  F0 F0      			beq	!next_region-
  413    1F:DBB6  9D 7C 27   			sta	vdc_regionB_nxt, x	; Save index of next region.
  414    1F:DBB9  8A         			txa				; A = current region index.
  415    1F:DBBA  69 08      			adc	#HUCC_PCE_SPLITS	; Always leaves CC!
  416    1F:DBBC  80 E8      			bra	!next_region-
  417                        	
  418    1F:DBBE  BC 13 27   	!use_regionA:	ldy	vdc_regionA_crl, x	; Region disabled if $00.
  419    1F:DBC1  F0 E3      			beq	!next_region-
  420    1F:DBC3  9D 74 27   			sta	vdc_regionA_nxt, x	; Save index of next region.
  421    1F:DBC6  8A         			txa				; A = current region index.
  422    1F:DBC7  80 DD      			bra	!next_region-
  423                        	
  424    1F:DBC9  8D 73 27   	!save_first:	sta	vdc_next_region		; Save index of 1st region.
  425                        	
  426    1F:DBCC  AA         			tax				; NZ if first active region
  427    1F:DBCD  D0 03      			bne	!init_first+		; is not region 0.
  428    1F:DBCF  98         			tya				; NZ if region 0 is active.
  429    1F:DBD0  F0 0F      			beq	!+			; If no active leave RCR=0.
  430                        	
  431    1F:DBD2  A9 06      	!init_first:	lda	#VDC_RCR		; 1st RCR always happens just
  432    1F:DBD4  8D 00 02   			sta	VDC_AR			; before the display starts.
  433    1F:DBD7  A9 44      			lda.l	#HUCC_1ST_RCR
  434    1F:DBD9  8D 02 02   			sta	VDC_DL
  435    1F:DBDC  A9 01      			lda.h	#HUCC_1ST_RCR
  436    1F:DBDE  8D 03 02   			sta	VDC_DH
  437                        	
  438               0001     		.if	SUPPORT_SGX
  439                        	
  440    1F:DBE1  62         	!:		cla				; A = previous active index
  441    1F:DBE2  A2 08      			ldx	#HUCC_SGX_SPLITS	; so $00 for end-of-screen.
  442                        	
  443    1F:DBE4  18         			clc				; For regionB indexes.
  444                        	
  445    1F:DBE5  CA         	!next_region:	dex				; All regions updated?
  446    1F:DBE6  30 20      			bmi	!save_first+
  447                        	
  448    1F:DBE8  9E 8C 27   			stz	sgx_region_new, x	; Clear region modified flag.
  449                        	
  450    1F:DBEB  BC 84 27   			ldy	sgx_region_sel, x	; 0=regionA or 1=regionB.
  451    1F:DBEE  F0 0D      			beq	!use_regionA+
  452                        	
  453    1F:DBF0  BC 9C 27   	!use_regionB:	ldy	sgx_regionB_crl, x	; Region disabled if $00.
  454    1F:DBF3  F0 F0      			beq	!next_region-
  455    1F:DBF5  9D FD 27   			sta	sgx_regionB_nxt, x	; Save index of next region.
  456    1F:DBF8  8A         			txa				; A = current region index.
  457    1F:DBF9  69 08      			adc	#HUCC_SGX_SPLITS	; Always leaves CC!
  458    1F:DBFB  80 E8      			bra	!next_region-
  459                        	
  460    1F:DBFD  BC 94 27   	!use_regionA:	ldy	sgx_regionA_crl, x	; Region disabled if $00.
  461    1F:DC00  F0 E3      			beq	!next_region-
  462    1F:DC02  9D F5 27   			sta	sgx_regionA_nxt, x	; Save index of next region.
  463    1F:DC05  8A         			txa				; A = current region index.
  464    1F:DC06  80 DD      			bra	!next_region-
  465                        	
  466    1F:DC08  8D F4 27   	!save_first:	sta	sgx_next_region		; Save index of 1st region.
  467                        	
  468    1F:DC0B  AA         			tax				; NZ if first active region
  469    1F:DC0C  D0 03      			bne	!init_first+		; is not region 0.
  470    1F:DC0E  98         			tya				; NZ if region 0 is active.
  471    1F:DC0F  F0 0F      			beq	!+			; If no active leave RCR=0.
  472                        	
  473    1F:DC11  A9 06      	!init_first:	lda	#VDC_RCR		; 1st RCR always happens just
  474    1F:DC13  8D 10 02   			sta	SGX_AR			; before the display starts.
  475    1F:DC16  A9 44      			lda.l	#HUCC_1ST_RCR
  476    1F:DC18  8D 12 02   			sta	SGX_DL
  477    1F:DC1B  A9 01      			lda.h	#HUCC_1ST_RCR
  478    1F:DC1D  8D 13 02   			sta	SGX_DH
  479                        	
  480                        		.endif	SUPPORT_SGX
  481                        	
  482                        	!:		leave				; All done!
         1F:DC20  4C EF FF   			jmp	leave_proc
  483                        	
  484                        			.endp
  485                        	
  486                        	
  487                        	
  488               0001     		.if	SUPPORT_SGX
  489                        	
  490                        	; ***************************************************************************
  491                        	; ***************************************************************************
  492                        	;
  493                        	; VDC_RCR_MACRO and SGX_RCR_MACRO
  494                        	;
  495                        	; A 16-byte TIA takes 142..234 cycles in 5MHz, 128..200 cycles in 7MHz.
  496                        	; A 32-byte TIA takes 270..364 cycles in 5MHz, 242..312 cycles in 7MHz. (527 DUO)
  497                        	;
  498                        	; You need to write the last RCR setting within 540 cycles in order to catch
  499                        	; the next line (at 256/336/512 resolution).
  500                        	;
  501                        	; That gives 305 cycles from the RCR to write the last setting, or there
  502                        	; will be a visible glitch on the screen.
  503                        	
  504               0000     		.ifndef	USING_RCR_MACROS
  506                        		.endif
  507                        	
  508                        	;		;;;				; 8 (cycles for the INT)
  509                        	;		bbs1	<irq_vec, .hook		; 8
  510                        	;		jmp	[irq1_hook]		; 7
  511                        	
  512                        	;		;;;				; 8 (cycles for the INT)
  513                        	;		jmp	irq1_handler		; 4
  514                        	
  515                        	;irq1_handler:	pha				; 3 Save all registers.
  516                        	;		phx				; 3
  517                        	;		phy				; 3
  518                        	;
  519                        	;		lda	VDC_SR			; 6 Acknowledge the VDC's IRQ.
  520                        	;		sta	<vdc_sr			; 4 Remember what caused it.
  521                        	;
  522                        	;		ldx	SGX_SR			; 6 Read SGX_SR after VDC_SR in
  523                        	;		stx	<sgx_sr			; 4 case this is not an SGX!
  524                        	;
  525                        	;!:		and	#$04			; 2 Is this an HSYNC interrupt?
  526                        	;		beq	!+			; 2
  527                        	
  528                        			.macro	VDC_RCR_MACRO
  529                        	
  530                        			st0	#VDC_RCR		; 5
  531                        	
  532                        			ldx	vdc_next_region		; 5 X and Y can be greater than
  533                        			ldy	vdc_regionA_nxt, x	; 5 HUCC_PCE_SPLITS if regionB!
  534                        			clc				; 2
  535                        			bne	!set_next_rcr+		; 4 Stop RCR if next line is 0.
  536                        	
  537                        			and	const_0000		; 5 A=$00 with the same #cycles
  538                        			bra	!clr_next_rcr+		; 4 as if the branch were taken.
  539                        	
  540                        	!set_next_rcr:	lda	vdc_regionA_rcr, y	; 5 Set next RCR 1 line before
  541                        			adc	#64-1			; 2 the region begins, or 0 to
  542                        	!clr_next_rcr:	sta	VDC_DL			; 6 disable.
  543                        			cla				; 2
  544                        			rol	a			; 2
  545                        			sta	VDC_DH			; 6
  546                        	
  547                        			st0	#VDC_BYR		; 5 Do BYR first to mitigate the
  548                        			lda	vdc_regionA_yl, x	; 5 glitch if the IRQ is delayed.
  549                        			sta	VDC_DL			; 6 = 105 cycles from RCR on SGX
  550                        			lda	vdc_regionA_yh, x	; 5
  551                        			sta	VDC_DH			; 6
  552                        	
  553                        			st0	#VDC_CR			; 5
  554                        			lda	vdc_regionA_crl, x	; 5
  555                        	;		asl	a
  556                        			sta	VDC_DL			; 6
  557                        	
  558                        			st0	#VDC_BXR		; 2
  559                        			lda	vdc_regionA_xl, x	; 5
  560                        			sta	VDC_DL			; 6
  561                        			lda	vdc_regionA_xh, x	; 5
  562                        			sta	VDC_DH			; 6 = 156 cycles from RCR if DUO
  563                        	
  564                        	;		bcc	!+
  565                        	;		lda	vdc_regionA_yh, x	; 5
  566                        	;		sta.l	VCE_CTW			; 6
  567                        	
  568                        			sty	vdc_next_region		; 5
  569                        	
  570                        			.endm
  571                        	
  572                        	;!:		bbr2	<sgx_sr, !+		; 6 Is this an HSYNC interrupt?
  573                        	
  574                        			.macro	SGX_RCR_MACRO
  575                        	
  576                        			lda	#VDC_RCR		; 2
  577                        			sta	SGX_AR			; 6
  578                        	
  579                        			ldx	sgx_next_region		; 5 X and Y can be greater than
  580                        			ldy	sgx_regionA_nxt, x	; 5 HUCC_SGX_SPLITS if regionB!
  581                        			clc				; 2
  582                        			bne	!set_next_rcr+		; 4 Stop RCR if next line is 0.
  583                        	
  584                        			and	const_0000		; 5 A=$00 with the same #cycles
  585                        			bra	!clr_next_rcr+		; 4 as if the branch were taken.
  586                        	
  587                        	!set_next_rcr:	lda	sgx_regionA_rcr, y	; 5 Set next RCR 1 line before
  588                        			adc	#64-1			; 2 the region begins, or 0 to
  589                        	!clr_next_rcr:	sta	SGX_DL			; 6 disable.
  590                        			cla				; 2
  591                        			rol	a			; 2
  592                        			sta	SGX_DH			; 6
  593                        	
  594                        			lda	#VDC_BYR		; 2 Do BYR first to mitigate the
  595                        			sta	SGX_AR			; 6 glitch if the IRQ is delayed.
  596                        			lda	sgx_regionA_yl, x	; 5
  597                        			sta	SGX_DL			; 6
  598                        			lda	sgx_regionA_yh, x	; 5
  599                        			sta	SGX_DH			; 6
  600                        	
  601                        			lda	#VDC_CR			; 2
  602                        			sta	SGX_AR			; 6
  603                        			lda	sgx_regionA_crl, x	; 5
  604                        			sta	SGX_DL			; 6
  605                        	
  606                        			lda	#VDC_BXR		; 2
  607                        			sta	SGX_AR			; 6
  608                        			lda	sgx_regionA_xl, x	; 5
  609                        			sta	SGX_DL			; 6
  610                        			lda	sgx_regionA_xh, x	; 5
  611                        			sta	SGX_DH			; 6 = 293 cycles (282 if no YH)
  612                        	
  613                        			sty	sgx_next_region		; 5
  614                        	
  615                        			.endm
  616                        	
  617                        		.else	SUPPORT_SGX
  697                        		.endif	SUPPORT_SGX
                             #[2]   "..\..\..\include\hucc\hucc-final.asm"
   65                        		.else
   69                        		.endif	HUCC_USES_NEW_SCROLL
   70                        	
   71               0001     		.ifdef	HUCC_USES_OLD_SPR		; Set in hucc_old_spr.h
                             #[3]   "..\..\..\include\hucc\hucc-old-spr.asm"
   72                        			include	"hucc-old-spr.asm"
    1                        	; ***************************************************************************
    2                        	; ***************************************************************************
    3                        	;
    4                        	; hucc-old-spr.asm
    5                        	;
    6                        	; Based on the original HuC and MagicKit functions by David Michel and the
    7                        	; other original HuC developers.
    8                        	;
    9                        	; Modifications copyright John Brandwood 2024.
   10                        	;
   11                        	; Distributed under the Boost Software License, Version 1.0.
   12                        	; (See accompanying file LICENSE_1_0.txt or copy at
   13                        	;  http://www.boost.org/LICENSE_1_0.txt)
   14                        	;
   15                        	; ***************************************************************************
   16                        	; ***************************************************************************
   17                        	
   18                        	;
   19                        	; Include dependancies ...
   20                        	;
   21                        	
   22                        			include "common.asm"		; Common helpers.
   23                        			include "vce.asm"		; Useful VCE routines.
   24                        			include "vdc.asm"		; Useful VCE routines.
   25                        	
   26                        	
   27                        	
   28                        	; ***************************************************************************
   29                        	; ***************************************************************************
   30                        	;
   31                        	; HuC Sprite Functions
   32                        	;
   33                        	; ***************************************************************************
   34                        	; ***************************************************************************
   35                        	
   36               209C     			.zp
   37    F8:209C             	spr_ptr:	ds	2
   38               2805     			.bss
   39    F8:2805             	spr_sat:	ds	512
   40               E7CB     			.code
   41                        	
   42               0001     		.if	SUPPORT_SGX
   43               209E     			.zp
   44    F8:209E             	sgx_spr_ptr:	ds	2
   45               2A05     			.bss
   46    F8:2A05             	sgx_spr_sat:	ds	512	; N.B. Directly after spr_sat!
   47               E7CB     			.code
   48                        		.endif
   49                        	
   50                        	; Moved to hucc-old-map.asm just to save space. This NEEDS to be changed!
   51                        	;
   52                        	;		.bss
   53                        	;spr_max:	ds	1
   54                        	;spr_clr:	ds	1
   55                        	;	.if	SUPPORT_SGX
   56                        	;sgx_spr_max:	ds	1
   57                        	;sgx_spr_clr:	ds	1
   58                        	;	.endif
   59                        	;		.code
   60                        	
   61                        	
   62                        	
   63                        	; ***************************************************************************
   64                        	; ***************************************************************************
   65                        	;
   66                        	; void __fastcall init_satb( void );
   67                        	; void __fastcall reset_satb( void );
   68                        	;
   69                        	; void __fastcall sgx_init_satb( void );
   70                        	; void __fastcall sgx_reset_satb( void );
   71                        	
   72    00:E7CB             	_reset_satb:
   73    00:E7CB  C2         	_init_satb:	cly
   74    00:E7CC  62         			cla
   75    00:E7CD  99 05 28   	!:		sta	spr_sat + $0000, y
   76    00:E7D0  99 05 29   			sta	spr_sat + $0100, y
   77    00:E7D3  C8         			iny
   78    00:E7D4  D0 F7      			bne	!-
   79    00:E7D6  8C D9 26   			sty	spr_max
   80    00:E7D9  C8         			iny
   81    00:E7DA  8C DA 26   			sty	spr_clr
   82    00:E7DD  60         			rts
   83                        	
   84               0001     		.if	SUPPORT_SGX
   85    00:E7DE             	_sgx_reset_satb:
   86    00:E7DE  C2         	_sgx_init_satb:	cly
   87    00:E7DF  62         			cla
   88    00:E7E0  99 05 2A   	!:		sta	sgx_spr_sat + $0000, y
   89    00:E7E3  99 05 2B   			sta	sgx_spr_sat + $0100, y
   90    00:E7E6  C8         			iny
   91    00:E7E7  D0 F7      			bne	!-
   92    00:E7E9  8C E9 26   			sty	sgx_spr_max
   93    00:E7EC  C8         			iny
   94    00:E7ED  8C EA 26   			sty	sgx_spr_clr
   95    00:E7F0  60         			rts
   96                        		.endif
   97                        	
   98                        	
   99                        	
  100                        	; ***************************************************************************
  101                        	; ***************************************************************************
  102                        	;
  103                        	; void __fastcall satb_update( void );
  104                        	; void __fastcall sgx_satb_update( void );
  105                        	
  106    1F:DE44             	old_satb_group	.procgroup
  107                        	
  108               0001     		.if	SUPPORT_SGX
  109    1F:DE44             			.proc	_sgx_satb_update
  110                        	
  111    1F:DE44  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
  112    1F:DE46  F0         			db	$F0			; Turn "clx" into a "beq".
  113                        	
  114    1F:DE47             			.ref	_satb_update
  115                        			.endp
  116                        		.endif
  117                        	
  118    1F:DE47             			.proc	_satb_update
  119                        	
  120    1F:DE47  82         			clx				; Offset to PCE VDC.
  121                        	
  122    1F:DE48  A9 7F      			lda.h	#$7F00			; HuC puts the SAT here in VRAM
  123                        	;		lda.h	#$0800			; but we put it here instead
  124    1F:DE4A  64 F0      			stz.l	<_di
  125    1F:DE4C  85 F1      			sta.h	<_di
  126    1F:DE4E  20 93 E3   			jsr	set_di_to_mawr
  127                        	
  128               0001     		.if	SUPPORT_SGX
  129    1F:DE51  8A         			txa				; Select which VDC to write
  130    1F:DE52  1A         			inc	a			; to.
  131    1F:DE53  1A         			inc	a
  132    1F:DE54  8D F3 22   			sta.l	ram_tia_dst
  133                        		.endif
  134                        	
  135    1F:DE57  A9 10      			lda	#VRAM_XFER_SIZE		; Split into 16-byte chunks
  136    1F:DE59  8D F5 22   			sta.l	ram_tia_len		; for stable IRQ response.
  137                        	
  138    1F:DE5C  BC D9 26   			ldy	spr_max, x		; Highest sprite that was set.
  139    1F:DE5F  C8         			iny
  140                        	
  141    1F:DE60  BD DA 26   			lda	spr_clr, x
  142    1F:DE63  F0 05      			beq	!+
  143    1F:DE65  9E DA 26   			stz	spr_clr, x
  144    1F:DE68  A0 40      			ldy	#64
  145                        	
  146    1F:DE6A  98         	!:		tya
  147    1F:DE6B  F0 22      			beq	.exit
  148                        	
  149    1F:DE6D  3A         			dec	a			; round up to the next group of 2 sprites
  150    1F:DE6E  4A         			lsr	a
  151               0000     		.if	VRAM_XFER_SIZE == 32
  153                        		.endif
  154    1F:DE6F  1A         			inc	a
  155    1F:DE70  A8         			tay
  156                        	
  157    1F:DE71  A9 28      			lda.h	#spr_sat
  158                        	
  159               0001     		.if	SUPPORT_SGX
  160    1F:DE73  E0 00      			cpx	#0
  161    1F:DE75  F0 02      			beq	!+
  162                        	
  163    1F:DE77  A9 2A      			lda.h	#sgx_spr_sat
  164                        		.endif
  165                        	
  166    1F:DE79  8D F2 22   	!:		sta.h	ram_tia_src
  167                        	
  168    1F:DE7C  A9 05      			lda.l	#spr_sat		; Same for SGX and PCE!
  169    1F:DE7E  8D F1 22   	.chunk_loop:	sta.l	ram_tia_src
  170                        	
  171    1F:DE81  20 F0 22   			jsr	ram_tia			; transfer 16-bytes
  172                        	
  173    1F:DE84  18         			clc				; increment source
  174    1F:DE85  69 10      			adc	#VRAM_XFER_SIZE
  175    1F:DE87  90 03      			bcc	.same_page
  176    1F:DE89  EE F2 22   			inc.h	ram_tia_src
  177                        	
  178    1F:DE8C  88         	.same_page:	dey
  179    1F:DE8D  D0 EF      			bne	.chunk_loop
  180                        	
  181                        	.exit:		leave
         1F:DE8F  4C EF FF   			jmp	leave_proc
  182                        	
  183                        			.endp
  184                        	
  185                        			.endprocgroup	; old_satb_group
  186                        	
  187                        	
  188                        	
  189                        	; ***************************************************************************
  190                        	; ***************************************************************************
  191                        	;
  192                        	; void __fastcall spr_set( unsigned char num<acc> );
  193                        	
  194    00:E7F1  CD D9 26   	_spr_set.1:	cmp	spr_max
  195    00:E7F4  90 03      			bcc	!+
  196    00:E7F6  8D D9 26   			sta	spr_max
  197    00:E7F9  A0 28      	!:		ldy.h	#spr_sat
  198    00:E7FB  0A         			asl	a
  199    00:E7FC  0A         			asl	a
  200    00:E7FD  0A         			asl	a
  201    00:E7FE  90 02      			bcc	!+
  202    00:E800  C8         			iny
  203    00:E801  18         			clc
  204    00:E802  69 05      	!:		adc.l	#spr_sat
  205    00:E804  85 9C      			sta.l	<spr_ptr
  206    00:E806  90 01      			bcc	!+
  207    00:E808  C8         			iny
  208    00:E809  84 9D      	!:		sty.h	<spr_ptr
  209    00:E80B  60         			rts
  210                        	
  211                        	
  212                        	
  213                        	; ***************************************************************************
  214                        	; ***************************************************************************
  215                        	;
  216                        	; void __fastcall spr_hide( void );
  217                        	
  218    00:E80C  A0 01      	_spr_hide:	ldy	#1
  219    00:E80E  B1 9C      			lda	[spr_ptr], y
  220    00:E810  09 02      			ora	#2
  221    00:E812  91 9C      			sta	[spr_ptr], y
  222    00:E814  60         			rts
  223                        	
  224                        	
  225                        	
  226                        	; ***************************************************************************
  227                        	; ***************************************************************************
  228                        	;
  229                        	; void __fastcall spr_show( void );
  230                        	
  231    00:E815  A0 01      	_spr_show:	ldy	#1
  232    00:E817  B1 9C      			lda	[spr_ptr], y
  233    00:E819  29 01      			and	#1
  234    00:E81B  91 9C      			sta	[spr_ptr], y
  235    00:E81D  60         			rts
  236                        	
  237                        	
  238                        	
  239                        	; ***************************************************************************
  240                        	; ***************************************************************************
  241                        	;
  242                        	; void __fastcall spr_x( unsigned int value<acc> );
  243                        	
  244    00:E81E  02         	_spr_x.1:	sxy
  245    00:E81F  18         			clc
  246    00:E820  69 20      			adc	#32
  247    00:E822  A0 02      			ldy	#2
  248    00:E824  91 9C      			sta	[spr_ptr], y
  249    00:E826  8A         			txa
  250    00:E827  69 00      			adc	#0
  251    00:E829  C8         			iny
  252    00:E82A  91 9C      			sta	[spr_ptr], y
  253    00:E82C  60         			rts
  254                        	
  255                        	
  256                        	
  257                        	; ***************************************************************************
  258                        	; ***************************************************************************
  259                        	;
  260                        	; void __fastcall spr_y( unsigned int value<acc> );
  261                        	
  262    00:E82D  18         	_spr_y.1:	clc
  263    00:E82E  69 40      			adc	#64
  264    00:E830  92 9C      			sta	[spr_ptr]
  265    00:E832  98         			tya
  266    00:E833  69 00      			adc	#0
  267    00:E835  A0 01      			ldy	#1
  268    00:E837  91 9C      			sta	[spr_ptr], y
  269    00:E839  60         			rts
  270                        			
  271                        	
  272                        	
  273                        	; ***************************************************************************
  274                        	; ***************************************************************************
  275                        	;
  276                        	; void __fastcall spr_pattern( unsigned int vaddr<acc> );
  277                        	
  278    00:E83A  84 00      	_spr_pattern.1:	sty	<__temp		;     zp=fedcba98 a=76543210
  279    00:E83C  0A         			asl	a		; c=f zp=edcba987 a=6543210_
  280    00:E83D  26 00      			rol	<__temp
  281    00:E83F  2A         			rol	a		; c=e zp=dcba9876 a=543210_f
  282    00:E840  26 00      			rol	<__temp
  283    00:E842  2A         			rol	a		; c=d zp=cba98765 a=43210_fe
  284    00:E843  26 00      			rol	<__temp
  285    00:E845  2A         			rol	a		; c=4 zp=cba98765 a=3210_fed
  286    00:E846  A0 05      			ldy	#5
  287    00:E848  91 9C      			sta	[spr_ptr], y
  288    00:E84A  A5 00      			lda	<__temp
  289    00:E84C  88         			dey
  290    00:E84D  91 9C      			sta	[spr_ptr], y
  291    00:E84F  60         			rts
  292                        	
  293                        	
  294                        	
  295                        	; ***************************************************************************
  296                        	; ***************************************************************************
  297                        	;
  298                        	; void __fastcall spr_ctrl( unsigned char mask<_al>, unsigned char value<acc> );
  299                        	
  300    00:E850  25 F8      	_spr_ctrl.2:	and	<_al
  301    00:E852  85 00      			sta	<__temp
  302    00:E854  A5 F8      			lda	<_al
  303    00:E856  49 FF      			eor	#$FF
  304    00:E858  A0 07      			ldy	#7
  305    00:E85A  31 9C      			and	[spr_ptr], y
  306    00:E85C  05 00      			ora	<__temp
  307    00:E85E  91 9C      			sta	[spr_ptr], y
  308    00:E860  60         			rts
  309                        	
  310                        	
  311                        	
  312                        	; ***************************************************************************
  313                        	; ***************************************************************************
  314                        	;
  315                        	; void __fastcall spr_pal( unsigned char palette<acc> )
  316                        	
  317    00:E861  29 0F      	_spr_pal.1:	and	#$0F
  318    00:E863  85 00      			sta	<__temp
  319    00:E865  A0 06      			ldy	#6
  320    00:E867  B1 9C      			lda	[spr_ptr], y
  321    00:E869  29 F0      			and	#$F0
  322    00:E86B  05 00      			ora	<__temp
  323    00:E86D  91 9C      			sta	[spr_ptr], y
  324    00:E86F  60         			rts
  325                        	
  326                        	
  327                        	
  328                        	; ***************************************************************************
  329                        	; ***************************************************************************
  330                        	;
  331                        	; void __fastcall spr_pri( unsigned char priority<acc> )
  332                        	
  333    00:E870  C9 01      	_spr_pri.1:	cmp	#1
  334    00:E872  A0 06      			ldy	#6
  335    00:E874  B1 9C      			lda	[spr_ptr], y
  336    00:E876  29 7F      			and	#$7F
  337    00:E878  90 02      			bcc	!+
  338    00:E87A  09 80      			ora	#$80
  339    00:E87C  91 9C      	!:		sta	[spr_ptr], y
  340    00:E87E  60         			rts
  341                        	
  342                        	
  343                        	
  344                        	; ***************************************************************************
  345                        	; ***************************************************************************
  346                        	;
  347                        	; unsigned int __fastcall spr_get_x( void );
  348                        	
  349    00:E87F  38         	_spr_get_x:	sec
  350    00:E880  A0 02      			ldy	#2
  351    00:E882  B1 9C      			lda	[spr_ptr], y
  352    00:E884  E9 20      			sbc	#32
  353    00:E886  AA         			tax
  354    00:E887  C8         			iny
  355    00:E888  B1 9C      			lda	[spr_ptr], y
  356    00:E88A  E9 00      			sbc	#0
  357    00:E88C  A8         			tay
  358    00:E88D  8A         			txa
  359    00:E88E  60         			rts
  360                        	
  361                        	
  362                        	
  363                        	; ***************************************************************************
  364                        	; ***************************************************************************
  365                        	;
  366                        	; unsigned int __fastcall spr_get_y( void );
  367                        	
  368    00:E88F  38         	_spr_get_y:	sec
  369    00:E890  B2 9C      			lda	[spr_ptr]
  370    00:E892  E9 40      			sbc	#64
  371    00:E894  AA         			tax
  372    00:E895  A0 01      			ldy	#1
  373    00:E897  B1 9C      			lda	[spr_ptr], y
  374    00:E899  E9 00      			sbc	#0
  375    00:E89B  A8         			tay
  376    00:E89C  8A         			txa
  377    00:E89D  60         			rts
  378                        	
  379                        	
  380                        	
  381               0001     		.if	SUPPORT_SGX
  382                        	
  383                        	; ***************************************************************************
  384                        	; ***************************************************************************
  385                        	;
  386                        	; void __fastcall sgx_spr_set( unsigned char num<acc> );
  387                        	
  388    00:E89E  CD E9 26   	_sgx_spr_set.1:	cmp	sgx_spr_max
  389    00:E8A1  90 03      			bcc	!+
  390    00:E8A3  8D E9 26   			sta	sgx_spr_max
  391    00:E8A6  A0 2A      	!:		ldy.h	#sgx_spr_sat
  392    00:E8A8  0A         			asl	a
  393    00:E8A9  0A         			asl	a
  394    00:E8AA  0A         			asl	a
  395    00:E8AB  90 02      			bcc	!+
  396    00:E8AD  C8         			iny
  397    00:E8AE  18         			clc
  398    00:E8AF  69 05      	!:		adc.l	#sgx_spr_sat
  399    00:E8B1  85 9E      			sta.l	<sgx_spr_ptr
  400    00:E8B3  90 01      			bcc	!+
  401    00:E8B5  C8         			iny
  402    00:E8B6  84 9F      	!:		sty.h	<sgx_spr_ptr
  403    00:E8B8  60         			rts
  404                        	
  405                        	
  406                        	
  407                        	; ***************************************************************************
  408                        	; ***************************************************************************
  409                        	;
  410                        	; void __fastcall sgx_spr_hide( void );
  411                        	
  412    00:E8B9  A0 01      	_sgx_spr_hide:	ldy	#1
  413    00:E8BB  B1 9E      			lda	[sgx_spr_ptr], y
  414    00:E8BD  09 02      			ora	#2
  415    00:E8BF  91 9E      			sta	[sgx_spr_ptr], y
  416    00:E8C1  60         			rts
  417                        	
  418                        	
  419                        	
  420                        	; ***************************************************************************
  421                        	; ***************************************************************************
  422                        	;
  423                        	; void __fastcall sgx_spr_show( void );
  424                        	
  425    00:E8C2  A0 01      	_sgx_spr_show:	ldy	#1
  426    00:E8C4  B1 9E      			lda	[sgx_spr_ptr], y
  427    00:E8C6  29 01      			and	#1
  428    00:E8C8  91 9E      			sta	[sgx_spr_ptr], y
  429    00:E8CA  60         			rts
  430                        	
  431                        	
  432                        	
  433                        	; ***************************************************************************
  434                        	; ***************************************************************************
  435                        	;
  436                        	; void __fastcall sgx_spr_x( unsigned int value<acc> );
  437                        	
  438    00:E8CB  02         	_sgx_spr_x.1:	sxy
  439    00:E8CC  18         			clc
  440    00:E8CD  69 20      			adc	#32
  441    00:E8CF  A0 02      			ldy	#2
  442    00:E8D1  91 9E      			sta	[sgx_spr_ptr], y
  443    00:E8D3  8A         			txa
  444    00:E8D4  69 00      			adc	#0
  445    00:E8D6  C8         			iny
  446    00:E8D7  91 9E      			sta	[sgx_spr_ptr], y
  447    00:E8D9  60         			rts
  448                        	
  449                        	
  450                        	
  451                        	; ***************************************************************************
  452                        	; ***************************************************************************
  453                        	;
  454                        	; void __fastcall sgx_spr_y( unsigned int value<acc> );
  455                        	
  456    00:E8DA  18         	_sgx_spr_y.1:	clc
  457    00:E8DB  69 40      			adc	#64
  458    00:E8DD  92 9E      			sta	[sgx_spr_ptr]
  459    00:E8DF  98         			tya
  460    00:E8E0  69 00      			adc	#0
  461    00:E8E2  A0 01      			ldy	#1
  462    00:E8E4  91 9E      			sta	[sgx_spr_ptr], y
  463    00:E8E6  60         			rts
  464                        			
  465                        	
  466                        	
  467                        	; ***************************************************************************
  468                        	; ***************************************************************************
  469                        	;
  470                        	; void __fastcall sgx_spr_pattern( unsigned int vaddr<acc> );
  471                        	
  472    00:E8E7             	_sgx_spr_pattern.1:
  473    00:E8E7  84 00      			sty	<__temp		;     zp=fedcba98 a=76543210
  474    00:E8E9  0A         			asl	a		; c=f zp=edcba987 a=6543210_
  475    00:E8EA  26 00      			rol	<__temp
  476    00:E8EC  2A         			rol	a		; c=e zp=dcba9876 a=543210_f
  477    00:E8ED  26 00      			rol	<__temp
  478    00:E8EF  2A         			rol	a		; c=d zp=cba98765 a=43210_fe
  479    00:E8F0  26 00      			rol	<__temp
  480    00:E8F2  2A         			rol	a		; c=4 zp=cba98765 a=3210_fed
  481    00:E8F3  A0 05      			ldy	#5
  482    00:E8F5  91 9E      			sta	[sgx_spr_ptr], y
  483    00:E8F7  A5 00      			lda	<__temp
  484    00:E8F9  88         			dey
  485    00:E8FA  91 9E      			sta	[sgx_spr_ptr], y
  486    00:E8FC  60         			rts
  487                        	
  488                        	
  489                        	
  490                        	; ***************************************************************************
  491                        	; ***************************************************************************
  492                        	;
  493                        	; void __fastcall sgx_spr_ctrl( unsigned char mask<_al>, unsigned char value<acc> );
  494                        	
  495    00:E8FD  25 F8      	_sgx_spr_ctrl.2:and	<_al
  496    00:E8FF  85 00      			sta	<__temp
  497    00:E901  A5 F8      			lda	<_al
  498    00:E903  49 FF      			eor	#$FF
  499    00:E905  A0 07      			ldy	#7
  500    00:E907  31 9E      			and	[sgx_spr_ptr], y
  501    00:E909  05 00      			ora	<__temp
  502    00:E90B  91 9E      			sta	[sgx_spr_ptr], y
  503    00:E90D  60         			rts
  504                        	
  505                        	
  506                        	
  507                        	; ***************************************************************************
  508                        	; ***************************************************************************
  509                        	;
  510                        	; void __fastcall sgx_spr_pal( unsigned char palette<acc> )
  511                        	
  512    00:E90E  29 0F      	_sgx_spr_pal.1:	and	#$0F
  513    00:E910  85 00      			sta	<__temp
  514    00:E912  A0 06      			ldy	#6
  515    00:E914  B1 9E      			lda	[sgx_spr_ptr], y
  516    00:E916  29 F0      			and	#$F0
  517    00:E918  05 00      			ora	<__temp
  518    00:E91A  91 9E      			sta	[sgx_spr_ptr], y
  519    00:E91C  60         			rts
  520                        	
  521                        	
  522                        	
  523                        	; ***************************************************************************
  524                        	; ***************************************************************************
  525                        	;
  526                        	; void __fastcall sgx_spr_pri( unsigned char priority<acc> )
  527                        	
  528    00:E91D  C9 01      	_sgx_spr_pri.1:	cmp	#1
  529    00:E91F  A0 06      			ldy	#6
  530    00:E921  B1 9E      			lda	[sgx_spr_ptr], y
  531    00:E923  29 7F      			and	#$7F
  532    00:E925  90 02      			bcc	!+
  533    00:E927  09 80      			ora	#$80
  534    00:E929  91 9E      	!:		sta	[sgx_spr_ptr], y
  535    00:E92B  60         			rts
  536                        	
  537                        	
  538                        	
  539                        	; ***************************************************************************
  540                        	; ***************************************************************************
  541                        	;
  542                        	; unsigned int __fastcall sgx_spr_get_x( void );
  543                        	
  544    00:E92C  38         	_sgx_spr_get_x:	sec
  545    00:E92D  A0 02      			ldy	#2
  546    00:E92F  B1 9E      			lda	[sgx_spr_ptr], y
  547    00:E931  E9 20      			sbc	#32
  548    00:E933  AA         			tax
  549    00:E934  C8         			iny
  550    00:E935  B1 9E      			lda	[sgx_spr_ptr], y
  551    00:E937  E9 00      			sbc	#0
  552    00:E939  A8         			tay
  553    00:E93A  8A         			txa
  554    00:E93B  60         			rts
  555                        	
  556                        	
  557                        	
  558                        	; ***************************************************************************
  559                        	; ***************************************************************************
  560                        	;
  561                        	; unsigned int __fastcall sgx_spr_get_y( void );
  562                        	
  563    00:E93C  38         	_sgx_spr_get_y:	sec
  564    00:E93D  B2 9E      			lda	[sgx_spr_ptr]
  565    00:E93F  E9 40      			sbc	#64
  566    00:E941  AA         			tax
  567    00:E942  A0 01      			ldy	#1
  568    00:E944  B1 9E      			lda	[sgx_spr_ptr], y
  569    00:E946  E9 00      			sbc	#0
  570    00:E948  A8         			tay
  571    00:E949  8A         			txa
  572    00:E94A  60         			rts
  573                        	
  574                        		.endif	SUPPORT_SGX
                             #[2]   "..\..\..\include\hucc\hucc-final.asm"
   73                        		.endif
   74                        	
   75               0001     		.ifdef	HUCC_USES_BLKMAP		; Set in hucc_blkmap.h
                             #[3]   "..\..\..\include\hucc\blkmap.asm"
   76                        			include	"blkmap.asm"
    1                        	; ***************************************************************************
    2                        	; ***************************************************************************
    3                        	;
    4                        	; blkmap.asm
    5                        	;
    6                        	; A map system based on 16x16 meta-tiles (aka "blocks", aka CHR/BLK/MAP).
    7                        	;
    8                        	; Copyright John Brandwood 2025.
    9                        	;
   10                        	; Distributed under the Boost Software License, Version 1.0.
   11                        	; (See accompanying file LICENSE_1_0.txt or copy at
   12                        	;  http://www.boost.org/LICENSE_1_0.txt)
   13                        	;
   14                        	; ***************************************************************************
   15                        	; ***************************************************************************
   16                        	;
   17                        	; The maximum X and Y size for blkmaps is 128 blocks (2048 pixels).
   18                        	;
   19                        	; The maximum total size for a blkmap is 16KBytes, which allows for maps up
   20                        	; to 128x128 blocks (2048x2048 pixels).
   21                        	;
   22                        	; Huge multi-screen blkmaps are also supported (optionally).
   23                        	;
   24                        	; The maximum X and Y for multi-screen maps is 128 screens (32768 pixels).
   25                        	;
   26                        	; The maximum total size for a multi-screen map is 8KBytes, which allows for
   27                        	; a total of 1024 screens.
   28                        	;
   29                        	; ***************************************************************************
   30                        	; ***************************************************************************
   31                        	
   32                        	;
   33                        	; Include dependancies ...
   34                        	;
   35                        	
   36                        			include "common.asm"		; Common helpers.
   37                        			include "vce.asm"		; Useful VCE routines.
   38                        			include "vdc.asm"		; Useful VCE routines.
   39                        	
   40                        	;
   41                        	; Support large blkmaps up to 16KBytes instead of the regular 8KBytes?
   42                        	;
   43                        	; The maximum X and Y size for regular blkmaps is 128 tiles (2048 pixels).
   44                        	;
   45                        	; This allows for individual maps up to 128x128 tiles (2048x2048 pixels) vs
   46                        	; default limit of 128x64 or 64x128.
   47                        	;
   48                        	
   49               0000     		.ifndef	BLKMAP_LARGEMAP
   51                        		.endif
   52                        	
   53                        	;
   54                        	; Support huge multi-screen maps, up to 32768 pixels wide/high?
   55                        	;
   56                        	; These are sectorized maps split into individual BAT-sized "screens", with
   57                        	; a maximum of 1024 screens per map.
   58                        	;
   59                        	; The BAT size that is used when drawing *must* be the same as the BAT size
   60                        	; that was chosen when creating the multi-screen map.
   61                        	;
   62                        	; Each screen can use a unique set of block definitions, or it might choose
   63                        	; to share the same block definitions that are used on another screen.
   64                        	;
   65                        	; Each screen may choose which 8KByte banks of character data to select for
   66                        	; the 4 banks (32KBytes) of VRAM that its block definitions use, with a max
   67                        	; of 16 banks of characters per multi-screen map.
   68                        	;
   69                        	; Loading those character banks dynamically is an exercise for the user!
   70                        	;
   71                        	; Enabling support adds extra library code, and slightly slows down the use
   72                        	; of regular blkmaps.
   73                        	;
   74                        	
   75               0000     		.ifndef	BLKMAP_MULTISCR
   77                        		.endif
   78                        	
   79                        	;
   80                        	; Block definitions can either use character data from VRAM $1000..$7FFF or
   81                        	; they can be limited to use the 32KByte of characters in VRAM $1000..$4FFF
   82                        	; which then frees up 2-bits for flag information for each character in the
   83                        	; block.
   84                        	;
   85                        	; These 2-bits are perfect for using as collision information in game maps,
   86                        	; allowing storage of states like transparent, solid, up-slope, down-slope.
   87                        	;
   88                        	; Typically this flag information is set by the map conversion tools from a
   89                        	; seperate "collision" map layer.
   90                        	;
   91                        	
   92               0000     		.ifndef	BLKDEF_CHR_FLAG
   94                        		.endif
   95                        	
   96                        	;
   97                        	; Block definitions are accessed in MPR2 ($4000..$5FFF), and must not cross
   98                        	; the bank boundary.
   99                        	;
  100                        	; When working this way, 8 pointers in ZP are used to access the individual
  101                        	; bytes in the block definition. This is fine when using a regular map on a
  102                        	; PC Engine, but it is awfully slow when using multi-screen maps or drawing
  103                        	; maps on both VDC chips in a SuperGRAFX because the pointer values must be
  104                        	; constantly changed.
  105                        	;
  106                        	; When using multi-screen maps, or when developing a SuperGRAFX game, or if
  107                        	; developing a CDROM game, then it is usually preferable to store the block
  108                        	; definitions with 2KByte alignment, especially if they are normally stored
  109                        	; compressed and then decompressed into a 2KByte buffer in RAM when needed.
  110                        	;
  111                        	; This option controls whether the definitions are stored 2KByte aligned or
  112                        	; if pointers should be used instead.
  113                        	;
  114                        	
  115               0000     		.ifndef	BLKDEF_POINTERS
  117                        		.endif
  118                        	
  119                        	;
  120                        	; Add a timing bar to the scroll_map() to see how long the drawing takes?
  121                        	;
  122                        	
  123               0000     		.ifndef	BLKMAP_TIMETEST
  125                        		.endif
  126                        	
  127                        	;
  128                        	;
  129                        	;
  130                        	
  131               0000     		.if	BLKDEF_POINTERS
  144                        		.else
  145                        	
  146                        		; If the block definititions are 2KByte aligned.
  147                        	
  148               4000     	BLK_4000_TL_L	=	$4000
  149               4100     	BLK_4000_TR_L	=	$4100
  150               4200     	BLK_4000_BL_L	=	$4200
  151               4300     	BLK_4000_BR_L	=	$4300
  152               4400     	BLK_4000_TL_H	=	$4400
  153               4500     	BLK_4000_TR_H	=	$4500
  154               4600     	BLK_4000_BL_H	=	$4600
  155               4700     	BLK_4000_BR_H	=	$4700
  156                        	
  157               4800     	BLK_4800_TL_L	=	$4800
  158               4900     	BLK_4800_TR_L	=	$4900
  159               4A00     	BLK_4800_BL_L	=	$4A00
  160               4B00     	BLK_4800_BR_L	=	$4B00
  161               4C00     	BLK_4800_TL_H	=	$4C00
  162               4D00     	BLK_4800_TR_H	=	$4D00
  163               4E00     	BLK_4800_BL_H	=	$4E00
  164               4F00     	BLK_4800_BR_H	=	$4F00
  165                        	
  166               5000     	BLK_5000_TL_L	=	$5000
  167               5100     	BLK_5000_TR_L	=	$5100
  168               5200     	BLK_5000_BL_L	=	$5200
  169               5300     	BLK_5000_BR_L	=	$5300
  170               5400     	BLK_5000_TL_H	=	$5400
  171               5500     	BLK_5000_TR_H	=	$5500
  172               5600     	BLK_5000_BL_H	=	$5600
  173               5700     	BLK_5000_BR_H	=	$5700
  174                        	
  175               5800     	BLK_5800_TL_L	=	$5800
  176               5900     	BLK_5800_TR_L	=	$5900
  177               5A00     	BLK_5800_BL_L	=	$5A00
  178               5B00     	BLK_5800_BR_L	=	$5B00
  179               5C00     	BLK_5800_TL_H	=	$5C00
  180               5D00     	BLK_5800_TR_H	=	$5D00
  181               5E00     	BLK_5800_BL_H	=	$5E00
  182               5F00     	BLK_5800_BR_H	=	$5F00
  183                        	
  184                        		.endif
  185                        	
  186               0080     	MAP_UNALIGNED_X	=	$80
  187               0040     	MAP_UNALIGNED_Y	=	$40
  188                        	
  189                        	;
  190                        	;
  191                        	;
  192                        	
  193               2C05     			.bss
  194                        	
  195                        	; **************
  196                        	; 8-byte (or 2-byte) entry for each SCREEN in the MULTI_MAP.
  197                        	
  198               0000     			.rsset	0
  199               0000     		.if	BLKDEF_POINTERS
  202                        		.else
  203               0000     	SCR_MAP_PAGE	.rs	1	; 256-byte aligned.
  204               0001     	SCR_MAP_BANK	.rs	1
  205               0002     	SCR_BLK_PAGE	.rs	1	; >$4000, >$4800, >$5000, or >$5800.
  206               0003     	SCR_BLK_BANK	.rs	1
  207               0004     	SCR_TBL_PAGE	.rs	1	; 256-byte aligned.
  208               0005     	SCR_TBL_BANK	.rs	1
  209               0006     	SCR_CHR_12	.rs	1	; Which CHR banks are used by the BLK, with
  210               0007     	SCR_CHR_34	.rs	1	; a max of 16 CHR banks per MULTI_MAP.
  211                        		.endif
  212                        	
  213                        			; A simple macro to help build a multi-screen map.
  214                        	
  215               0000     		.ifndef	SCREEN
  224                        		.endif
  225                        	
  226    F8:2C05             	map_blk_flag:	ds	1	; Returned from _get_map_block().
  227    F8:2C06             	map_blk_mask:	ds	1	; Returned from _get_map_block().
  228                        	
  229                        	; **************
  230                        	; 16-bytes of VDC blkmap info.
  231                        	;
  232                        	; N.B. MUST be 16-bytes before the SGX versions to use PCE_VDC_OFFSET.
  233                        	
  234    F8:2C07             	vdc_old_chr_x:	ds	1	; Previous top-left X in CHR (lo-byte only).
  235    F8:2C08             	vdc_old_chr_y:	ds	1	; Previous top-left Y in CHR (lo-byte only).
  236                        	
  237    F8:2C09             	vdc_tbl_addr:	ds	2	; 256-byte aligned.
  238    F8:2C0B             	vdc_tbl_bank:	ds	1
  239                        	
  240    F8:2C0C             	vdc_blk_addr:	ds	2	; 2KBytes of data, 256-byte aligned.
  241    F8:2C0E             	vdc_blk_bank:	ds	1
  242                        	
  243    F8:2C0F             	vdc_map_addr:	ds	2	; Mapped into MPR3..MPR5, max 16KBytes.
  244    F8:2C11             	vdc_map_bank:	ds	1
  245                        	
  246    F8:2C12             	vdc_scr_addr:	ds	2	; 8KByte maximum size.
  247    F8:2C14             	vdc_scr_bank:	ds	1
  248    F8:2C15             	vdc_scr_chr12:	ds	1	; Which CHR banks are used by the BLK, with
  249    F8:2C16             	vdc_scr_chr34:	ds	1	; a max of 16 banks per multi-screen map.
  250                        	
  251               0001     		.if	SUPPORT_SGX
  252                        	
  253                        	; **************
  254                        	; 16-bytes of SGX blkmap info.
  255                        	;
  256                        	; N.B. MUST be 16-bytes after the VDC versions to use SGX_VDC_OFFSET.
  257                        	
  258    F8:2C17             	sgx_old_chr_x:	ds	1	; Previous top-left X in CHR (lo-byte only).
  259    F8:2C18             	sgx_old_chr_y:	ds	1	; Previous top-left Y in CHR (lo-byte only).
  260                        	
  261    F8:2C19             	sgx_tbl_addr:	ds	2	; 256-byte aligned.
  262    F8:2C1B             	sgx_tbl_bank:	ds	1
  263                        	
  264    F8:2C1C             	sgx_blk_addr:	ds	2	; 2KBytes of data, 256-byte aligned.
  265    F8:2C1E             	sgx_blk_bank:	ds	1
  266                        	
  267    F8:2C1F             	sgx_map_addr:	ds	2	; Mapped into MPR3..MPR4, max 8KBytes.
  268    F8:2C21             	sgx_map_bank:	ds	1
  269                        	
  270    F8:2C22             	sgx_scr_addr:	ds	2	; 8KByte maximum size.
  271    F8:2C24             	sgx_scr_bank:	ds	1
  272    F8:2C25             	sgx_scr_chr12:	ds	1	; Which CHR banks are used by the BLK, with
  273    F8:2C26             	sgx_scr_chr34:	ds	1	; a max of 16 banks per multi-screen map.
  274                        	
  275                        		.endif	SUPPORT_SGX
  276                        	
  277               0000     		.if	0
  310                        		.endif	0
  311                        	
  312                        	; **************
  313                        	; Aliases for the asm variable names in HuCC.
  314                        	;
  315                        	
  316               0001     		.ifdef	HUCC
  317                        	
  318    F8:2C27             	_map_blk_flag	.alias	map_blk_flag
  319    F8:2C27             	_map_blk_mask	.alias	map_blk_mask
  320                        	
  321    F8:2C27             	_vdc_map_draw_w	.alias	vdc_map_draw_w
  322    F8:2C27             	_vdc_map_draw_h	.alias	vdc_map_draw_h
  323    F8:2C27             	_vdc_map_pxl_x	.alias	vdc_map_pxl_x
  324    F8:2C27             	_vdc_map_pxl_y	.alias	vdc_map_pxl_y
  325    F8:2C27             	_vdc_old_chr_x	.alias	vdc_old_chr_x
  326    F8:2C27             	_vdc_old_chr_y	.alias	vdc_old_chr_y
  327    F8:2C27             	_vdc_tbl_addr	.alias	vdc_tbl_addr
  328    F8:2C27             	_vdc_tbl_bank	.alias	vdc_tbl_bank
  329    F8:2C27             	_vdc_blk_addr	.alias	vdc_blk_addr
  330    F8:2C27             	_vdc_blk_bank	.alias	vdc_blk_bank
  331    F8:2C27             	_vdc_map_line_w	.alias	vdc_map_line_w
  332    F8:2C27             	_vdc_map_scrn_w	.alias	vdc_map_scrn_w
  333    F8:2C27             	_vdc_map_addr	.alias	vdc_map_addr
  334    F8:2C27             	_vdc_map_bank	.alias	vdc_map_bank
  335    F8:2C27             	_vdc_scr_addr	.alias	vdc_scr_addr
  336    F8:2C27             	_vdc_scr_bank	.alias	vdc_scr_bank
  337    F8:2C27             	_vdc_scr_chr12	.alias	vdc_scr_chr12
  338    F8:2C27             	_vdc_scr_chr34	.alias	vdc_scr_chr34
  339                        	
  340               0001     		.if	SUPPORT_SGX
  341    F8:2C27             	_sgx_map_draw_w	.alias	sgx_map_draw_w
  342    F8:2C27             	_sgx_map_draw_h	.alias	sgx_map_draw_h
  343    F8:2C27             	_sgx_map_pxl_x	.alias	sgx_map_pxl_x
  344    F8:2C27             	_sgx_map_pxl_y	.alias	sgx_map_pxl_y
  345    F8:2C27             	_sgx_old_chr_x	.alias	sgx_old_chr_x
  346    F8:2C27             	_sgx_old_chr_y	.alias	sgx_old_chr_y
  347    F8:2C27             	_sgx_tbl_addr	.alias	sgx_tbl_addr
  348    F8:2C27             	_sgx_tbl_bank	.alias	sgx_tbl_bank
  349    F8:2C27             	_sgx_blk_addr	.alias	sgx_blk_addr
  350    F8:2C27             	_sgx_blk_bank	.alias	sgx_blk_bank
  351    F8:2C27             	_sgx_map_line_w	.alias	sgx_map_line_w
  352    F8:2C27             	_sgx_map_scrn_w	.alias	sgx_map_scrn_w
  353    F8:2C27             	_sgx_map_addr	.alias	sgx_map_addr
  354    F8:2C27             	_sgx_map_bank	.alias	sgx_map_bank
  355    F8:2C27             	_sgx_scr_addr	.alias	sgx_scr_addr
  356    F8:2C27             	_sgx_scr_bank	.alias	sgx_scr_bank
  357    F8:2C27             	_sgx_scr_chr12	.alias	sgx_scr_chr12
  358    F8:2C27             	_sgx_scr_chr34	.alias	sgx_scr_chr34
  359                        		.endif	SUPPORT_SGX
  360                        	
  361                        		.endif	HUCC
  362                        	
  363                        	; **************
  364                        	; Temporary variables for drawing, using common zero-page locations.
  365                        	;
  366                        	
  367               20F8     	map_bat_x	=	_al	; Set by draw_map(), scroll_map() if drawing
  368               20F9     	map_bat_y	=	_ah	; aligned, or as parameters to blit_map().
  369                        	
  370               20FA     	map_draw_w	=	_bl	; Set by draw_map(), scroll_map(), but given
  371               20FB     	map_draw_h	=	_bh	; as parameters to blit_map().
  372                        	
  373               20FC     	map_pxl_x	=	_cx	; Set by draw_map(), scroll_map() and also by
  374               20FC     	map_chr_x	=	_cl	; blit__map(), from current vdc_map_pxl_x.
  375               20FD     	map_scrn_x	=	_ch
  376                        	
  377               20FE     	map_pxl_y	=	_dx	; Set by draw_map(), scroll_map() and also by
  378               20FE     	map_chr_y	=	_dl	; blit__map(), from current vdc_map_pxl_y.
  379               20FF     	map_scrn_y	=	_dh
  380                        	
  381               20EE     	map_line	=	_si	; Start of map data line being drawn.
  382                        	
  383               2000     	map_count	=	__temp + 0
  384               2001     	map_drawn	=	__temp + 1
  385                        	
  386               E94B     			.code
  387                        	
  388                        	
  389                        	
  390    1E:C000             	blkmap_group	.procgroup
  391                        	
  392                        	; ***************************************************************************
  393                        	; ***************************************************************************
  394                        	;
  395                        	; _set_blocks - Initialize the block definition pointers.
  396                        	; _sgx_set_blocks - Initialize the block definition pointers.
  397                        	;
  398                        	; void __fastcall set_blocks( unsigned char __far *blk_def<vdc_blk_bank:vdc_blk_addr>, unsigned char __far *flg_def<vdc_tbl_bank:vdc_tbl_addr>, unsigned char number_of_blk<_al> );
  399                        	; void __fastcall sgx_set_blocks( unsigned char __far *blk_def<sgx_blk_bank:sgx_blk_addr>, unsigned char __far *flg_def<sgx_tbl_bank:sgx_tbl_addr>, unsigned char number_of_blk<_al> );
  400                        	;
  401                        	
  402               0001     		.if	SUPPORT_SGX
  403                        	
  404    1E:C000             			.proc	_sgx_set_blocks.3
  405                        	
  406    1E:C000  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
  407    1E:C002  F0         			db	$F0			; Turn "clx" into a "beq".
  408                        	
  409    1E:C003             			.ref	_set_blocks.3
  410                        			.endp
  411                        		.endif
  412                        	
  413    1E:C003             			.proc	_set_blocks.3
  414                        	
  415    1E:C003  82         			clx				; Offset to PCE VDC.
  416                        	
  417    1E:C004  BD 0A 2C   			lda.h	vdc_tbl_addr, x		; Remap the address to MPR2.
  418    1E:C007  29 1F      			and	#$1F
  419    1E:C009  09 40      			ora	#$40
  420    1E:C00B  9D 0A 2C   			sta.h	vdc_tbl_addr, x
  421                        	
  422    1E:C00E  BD 0D 2C   			lda.h	vdc_blk_addr, x		; Remap the address to MPR2.
  423    1E:C011  29 1F      			and	#$1F
  424    1E:C013  09 40      			ora	#$40
  425    1E:C015  9D 0D 2C   			sta.h	vdc_blk_addr, x
  426                        	
  427               0000     		.if	BLKDEF_POINTERS
  479                        		.endif	BLKDEF_POINTERS
  480                        	
  481                        			leave
         1E:C018  4C EF FF   			jmp	leave_proc
  482                        	
  483                        			.endp
  484                        	
  485                        	
  486                        	
  487                        	; ***************************************************************************
  488                        	; ***************************************************************************
  489                        	;
  490                        	; _draw_map - Draw the entire screen at the current coordinates.
  491                        	; _sgx_draw_map - Draw the entire screen at the current coordinates.
  492                        	;
  493                        	; void __fastcall draw_map( void );
  494                        	; void __fastcall sgx_draw_map( void );
  495                        	;
  496                        	
  497               0001     		.if	SUPPORT_SGX
  498                        	
  499    1E:C01B             	_sgx_draw_map	.proc
  500                        	
  501    1E:C01B  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
  502    1E:C01D  F0         			db	$F0			; Turn "clx" into a "beq".
  503                        	
  504    1E:C01E             			.ref	_draw_map
  505                        			.endp
  506                        		.endif
  507                        	
  508    1E:C01E             	_draw_map	.proc
  509                        	
  510    1E:C01E  82         			clx				; Offset to PCE VDC.
  511                        	
  512    1E:C01F  43 04      			tma2				; Preserve MPR2..MPR4.
  513    1E:C021  48         			pha
  514    1E:C022  43 08      			tma3
  515    1E:C024  48         			pha
  516    1E:C025  43 10      			tma4
  517    1E:C027  48         			pha
  518               0000     		.if	BLKMAP_LARGEMAP
  521                        		.endif
  522                        	
  523    1E:C028  20 2A C1   			jsr	map_pxl_2_chr		; Set up the draw coordinates.
  524                        	
  525    1E:C02B  A5 FC      			lda	<map_chr_x		; Reset previous X position.
  526    1E:C02D  9D 07 2C   			sta	vdc_old_chr_x, x
  527                        	
  528    1E:C030  A5 FE      			lda	<map_chr_y		; Reset previous Y position,
  529    1E:C032  1A         			inc	a			; ready to draw multiple rows.
  530    1E:C033  9D 08 2C   			sta	vdc_old_chr_y, x
  531                        	
  532    1E:C036  BD D0 26   			lda	vdc_map_draw_w, x	; Draw the whole screen.
  533    1E:C039  85 FA      			sta	<map_draw_w
  534    1E:C03B  BD D1 26   			lda	vdc_map_draw_h, x
  535    1E:C03E  85 FB      			sta	<map_draw_h
  536                        	
  537    1E:C040  20 80 C3   			jsr	map_scroll_y		; Draw N row of CHR to the BAT.
  538                        	
  539               0000     		.if	BLKMAP_LARGEMAP
  542                        		.endif
  543    1E:C043  68         			pla				; Restore MPR2..MPR4.
  544    1E:C044  53 10      			tam4
  545    1E:C046  68         			pla
  546    1E:C047  53 08      			tam3
  547    1E:C049  68         			pla
  548    1E:C04A  53 04      			tam2
  549                        	
  550                        			leave
         1E:C04C  4C EF FF   			jmp	leave_proc
  551                        	
  552                        			.endp
  553                        	
  554                        	
  555                        	
  556                        	; ***************************************************************************
  557                        	; ***************************************************************************
  558                        	;
  559                        	; _scroll_map - Draw a single row of CHR into the BAT to update the edge.
  560                        	; _sgx_scroll_map - Draw a single row of CHR into the BAT to update the edge.
  561                        	;
  562                        	; void __fastcall scroll_map( void );
  563                        	; void __fastcall sgx_scroll_map( void );
  564                        	;
  565                        	
  566               0001     		.if	SUPPORT_SGX
  567                        	
  568    1E:C04F             	_sgx_scroll_map	.proc
  569                        	
  570    1E:C04F  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
  571    1E:C051  F0         			db	$F0			; Turn "clx" into a "beq".
  572                        	
  573    1E:C052             			.ref	_scroll_map
  574                        			.endp
  575                        		.endif
  576                        	
  577    1E:C052             	_scroll_map	.proc
  578                        	
  579    1E:C052  82         			clx				; Offset to PCE VDC.
  580                        	
  581               0000     		.if	BLKMAP_TIMETEST
  587                        		.endif
  588                        	
  589    1E:C053  43 04      			tma2				; Preserve MPR2..MPR4.
  590    1E:C055  48         			pha
  591    1E:C056  43 08      			tma3
  592    1E:C058  48         			pha
  593    1E:C059  43 10      			tma4
  594    1E:C05B  48         			pha
  595               0000     		.if	BLKMAP_LARGEMAP
  598                        		.endif
  599                        	
  600    1E:C05C  20 2A C1   			jsr	map_pxl_2_chr		; Set up the draw coordinates.
  601                        	
  602               0001     		.if	BLKMAP_MULTISCR
  603    1E:C05F  A5 FD      			lda	<map_scrn_x		; map_scroll_x can change this!
  604    1E:C061  48         			pha
  605                        		.endif
  606                        	
  607    1E:C062  BD D1 26   			lda	vdc_map_draw_h, x	; Draw new LHS or RHS if needed.
  608    1E:C065  85 FB      			sta	<map_draw_h
  609                        	;		lda	#1			; map_scroll_x only ever draws a
  610                        	;		sta	<map_draw_w		; single column.
  611    1E:C067  20 61 C2   			jsr	map_scroll_x
  612                        	
  613    1E:C06A  BD 07 2C   			lda	vdc_old_chr_x, x	; Restore map_chr_x which could
  614    1E:C06D  85 FC      			sta	<map_chr_x		; be changed by map_scroll_x.
  615                        	
  616               0001     		.if	BLKMAP_MULTISCR
  617    1E:C06F  68         			pla				; Restore before map_scroll_y.
  618    1E:C070  85 FD      			sta	<map_scrn_x
  619                        		.endif
  620                        	
  621    1E:C072  BD D0 26   			lda	vdc_map_draw_w, x	; Draw new TOP or BTM if needed.
  622    1E:C075  85 FA      			sta	<map_draw_w
  623    1E:C077  A9 01      			lda	#1
  624    1E:C079  85 FB      			sta	<map_draw_h
  625    1E:C07B  20 80 C3   			jsr	map_scroll_y
  626                        	
  627               0000     		.if	BLKMAP_LARGEMAP
  630                        		.endif
  631    1E:C07E  68         			pla				; Restore MPR2..MPR4.
  632    1E:C07F  53 10      			tam4
  633    1E:C081  68         			pla
  634    1E:C082  53 08      			tam3
  635    1E:C084  68         			pla
  636    1E:C085  53 04      			tam2
  637                        	
  638               0000     		.if	BLKMAP_TIMETEST
  640                        		.endif
  641                        	
  642                        			leave
         1E:C087  4C EF FF   			jmp	leave_proc
  643                        	
  644                        			.endp
  645                        	
  646                        	
  647                        	
  648                        	; ***************************************************************************
  649                        	; ***************************************************************************
  650                        	;
  651                        	; _blit_map - Draw a map rectangle to specific BAT coordinates.
  652                        	; _sgx_blit_map - Draw a map rectangle to specific BAT coordinates.
  653                        	;
  654                        	; void __fastcall blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
  655                        	; void __fastcall sgx_blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
  656                        	;
  657                        	; Normally you'd just use _draw_map() and _scroll_map(), but for those folks
  658                        	; who really wish to take manual control, you can use this.
  659                        	;
  660                        	
  661               0001     		.if	SUPPORT_SGX
  662                        	
  663                        	_sgx_blit_map	.proc
  669                        			.endp
  670                        		.endif
  671                        	
  672    1E:C08A             	_blit_map	.proc
  673                        	
  674    1E:C08A  82         			clx				; Offset to PCE VDC.
  675                        	
  676    1E:C08B  BD 14 2C   			lda	vdc_scr_bank, x		; Skip this if a multi-screen
  677    1E:C08E  D0 36      			bne	.exit			; blkmap.
  678                        	
  679    1E:C090  43 04      			tma2				; Preserve MPR2..MPR4.
  680    1E:C092  48         			pha
  681    1E:C093  43 08      			tma3
  682    1E:C095  48         			pha
  683    1E:C096  43 10      			tma4
  684    1E:C098  48         			pha
  685               0000     		.if	BLKMAP_LARGEMAP
  688                        		.endif
  689                        	
  690    1E:C099  BD D8 26   			lda	vdc_map_option, x	; Preserve current map options.
  691    1E:C09C  48         			pha
  692    1E:C09D  09 C0      			ora	#MAP_UNALIGNED_X | MAP_UNALIGNED_Y
  693    1E:C09F  9D D8 26   			sta	vdc_map_option, x
  694                        	
  695    1E:C0A2  20 2A C1   			jsr	map_pxl_2_chr		; Set up the draw coordinates.
  696                        	
  697    1E:C0A5  A5 FA      			lda	<map_draw_w		; Are we drawing just 1 column?
  698    1E:C0A7  C9 01      			cmp	#1
  699    1E:C0A9  F0 1E      			beq	.draw_column
  700                        	
  701                        			; Draw N rows.
  702                        	
  703    1E:C0AB  A5 FC      	.draw_rows:	lda	<map_chr_x		; Reset previous X position.
  704    1E:C0AD  9D 07 2C   			sta	vdc_old_chr_x, x
  705                        	
  706    1E:C0B0  A5 FE      			lda	<map_chr_y		; Reset previous Y position,
  707    1E:C0B2  1A         			inc	a			; ready to draw rows upwards.
  708    1E:C0B3  9D 08 2C   			sta	vdc_old_chr_y, x
  709                        	
  710    1E:C0B6  20 80 C3   			jsr	map_scroll_y		; Draw a row of CHR to the BAT.
  711                        	
  712                        			; Drawing completed.
  713                        	
  714    1E:C0B9  68         	.finished:	pla				; Restore previous map options.
  715    1E:C0BA  9D D8 26   			sta	vdc_map_option, x
  716                        	
  717               0000     		.if	BLKMAP_LARGEMAP
  720                        		.endif
  721    1E:C0BD  68         			pla				; Restore MPR2..MPR4.
  722    1E:C0BE  53 10      			tam4
  723    1E:C0C0  68         			pla
  724    1E:C0C1  53 08      			tam3
  725    1E:C0C3  68         			pla
  726    1E:C0C4  53 04      			tam2
  727                        	
  728                        	.exit:		leave
         1E:C0C6  4C EF FF   			jmp	leave_proc
  729                        	
  730                        			; Draw 1 column.
  731                        	
  732    1E:C0C9  A5 FC      	.draw_column:	lda	<map_chr_x		; Reset previous X position.
  733    1E:C0CB  1A         			inc	a			; ready to draw 1 column.
  734    1E:C0CC  9D 07 2C   			sta	vdc_old_chr_x, x
  735                        	
  736    1E:C0CF  A5 FE      			lda	<map_chr_y		; Reset previous Y position.
  737    1E:C0D1  9D 08 2C   			sta	vdc_old_chr_y, x
  738                        	
  739    1E:C0D4  20 61 C2   			jsr	map_scroll_x		; Draw a single column of CHR.
  740                        	
  741    1E:C0D7  80 E0      			bra	.finished
  742                        	
  743                        			.endp
  744                        	
  745                        	
  746                        	
  747                        	; ***************************************************************************
  748                        	; ***************************************************************************
  749                        	;
  750                        	; _get_map_block - Get the block number used at a map pixel coordinate.
  751                        	; _sgx_get_map_block - Get the block number used at a map pixel coordinate.
  752                        	;
  753                        	; unsigned char __fastcall _get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
  754                        	; unsigned char __fastcall _sgx_get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
  755                        	;
  756                        	
  757               0001     		.if	SUPPORT_SGX
  758                        	
  759                        			.proc	_sgx_get_map_block.2
  765                        			.endp
  766                        		.endif
  767                        	
  768    1E:C0D9             			.proc	_get_map_block.2
  769                        	
  770    1E:C0D9  82         			clx				; Offset to PCE VDC.
  771                        	
  772    1E:C0DA  43 04      			tma2				; Preserve MPR2..MPR4.
  773    1E:C0DC  48         			pha
  774    1E:C0DD  43 08      			tma3
  775    1E:C0DF  48         			pha
  776    1E:C0E0  43 10      			tma4
  777    1E:C0E2  48         			pha
  778               0000     		.if	BLKMAP_LARGEMAP
  781                        		.endif
  782                        	
  783    1E:C0E3  20 3E C1   			jsr	xvt_pxl_2_chr		; Set up the query coordinates.
  784                        	
  785    1E:C0E6  20 6C C1   			jsr	map_chr_2_data		; Page in the map address.
  786                        	
  787    1E:C0E9  B2 EC      			lda	[_bp]			; Read the BLK from the map.
  788    1E:C0EB  A8         			tay
  789                        	
  790    1E:C0EC  A5 FC      			lda	<map_chr_x		; Calc the BLK address offset
  791    1E:C0EE  4A         			lsr	a			; use depending upon even/odd
  792    1E:C0EF  A5 FE      			lda	<map_chr_y		; CHR coordinates (not BAT to
  793    1E:C0F1  29 01      			and	#1			; support unaligned drawing).
  794    1E:C0F3  2A         			rol	a
  795    1E:C0F4  09 04      			ora	#4			; Offset to BLK table top byte.
  796    1E:C0F6  7D 0D 2C   			adc.h	vdc_blk_addr, x		; What is the BLK data address?
  797    1E:C0F9  85 ED      			sta.h	<_bp			; $4000, $4800, $5000 or $5800.
  798    1E:C0FB  64 EC      			stz.l	<_bp
  799    1E:C0FD  B1 EC      			lda	[_bp], y		; Read the collision flags from
  800    1E:C0FF  29 0C      			and	#%00001100		; the top byte of the CHR.
  801    1E:C101  4A         			lsr	a
  802    1E:C102  4A         			lsr	a
  803    1E:C103  4A         			lsr	a			; Swizzle the bottom bit to get
  804    1E:C104  90 02      			bcc	!+			; the same bit order as used in
  805    1E:C106  09 02      			ora	#2			; .HALTMAP layer.
  806    1E:C108  8D 05 2C   	!:		sta	map_blk_flag
  807                        	
  808    1E:C10B  BD 0B 2C   			lda	vdc_tbl_bank, x		; Is there a table of flags?
  809    1E:C10E  F0 09      			beq	!+
  810    1E:C110  53 08      			tam3
  811                        	;		inc	a
  812                        	;		tam4
  813                        	;		lda.l	vdc_tbl_addr, x
  814                        	;		sta.l	<_bp
  815    1E:C112  BD 0A 2C   			lda.h	vdc_tbl_addr, x		; If so, it must be aligned!
  816    1E:C115  85 ED      			sta.h	<_bp
  817    1E:C117  B1 EC      			lda	[_bp], y		; Read the .MASKMAP/.OVERMAP
  818    1E:C119  8D 06 2C   	!:		sta	map_blk_mask		; flag value for this BLK.
  819                        	
  820               0000     		.if	BLKMAP_LARGEMAP
  823                        		.endif
  824    1E:C11C  68         			pla				; Restore MPR2..MPR4.
  825    1E:C11D  53 10      			tam4
  826    1E:C11F  68         			pla
  827    1E:C120  53 08      			tam3
  828    1E:C122  68         			pla
  829    1E:C123  53 04      			tam2
  830                        	
  831    1E:C125  02         			sxy				; Put the BLK number in X.
  832    1E:C126  C2         			cly
  833                        	
  834                        			leave				; All done!
         1E:C127  4C EF FF   			jmp	leave_proc
  835                        	
  836                        			.endp
  837                        	
  838                        	
  839                        	
  840                        	; ***************************************************************************
  841                        	; ***************************************************************************
  842                        	;
  843                        	; map_pxl_2_chr - Convert PXL to CHR, BLK and SCR coordinates.
  844                        	;
  845                        	
  846    1E:C12A  BD D6 26   	map_pxl_2_chr:	lda.l	vdc_map_pxl_y, x	; Get current map Y coordinate.
  847    1E:C12D  85 FE      			sta.l	<map_pxl_y
  848    1E:C12F  BD D7 26   			lda.h	vdc_map_pxl_y, x
  849    1E:C132  85 FF      			sta.h	<map_pxl_y
  850                        	
  851    1E:C134  BD D4 26   			lda.l	vdc_map_pxl_x, x	; Get current map X coordinate.
  852    1E:C137  85 FC      			sta.l	<map_pxl_x
  853    1E:C139  BD D5 26   			lda.h	vdc_map_pxl_x, x
  854    1E:C13C  85 FD      			sta.h	<map_pxl_x
  855                        	
  856    1E:C13E  A5 FD      	xvt_pxl_2_chr:	lda.h	<map_pxl_x		; Xvert map_pxl_x to map_chr_x.
  857               0001     		.if	BLKMAP_MULTISCR
  858    1E:C140  A8         			tay				; Xvert map_pxl_x to map_scrn_x.
  859    1E:C141  3C CB 26   			bit	vdc_bat_width, x
  860    1E:C144  70 03      			bvs	.w64
  861    1E:C146  10 02      			bpl	.w32
  862    1E:C148  4A         	.w128:		lsr	a
  863    1E:C149  4A         	.w64:		lsr	a
  864    1E:C14A  85 FD      	.w32:		sta	<map_scrn_x
  865    1E:C14C  98         			tya
  866                        		.endif
  867    1E:C14D  4A         			lsr	a
  868    1E:C14E  66 FC      			ror.l	<map_pxl_x
  869    1E:C150  4A         			lsr	a
  870    1E:C151  66 FC      			ror.l	<map_pxl_x
  871    1E:C153  4A         			lsr	a
  872    1E:C154  66 FC      			ror.l	<map_pxl_x		; Max map width is 256 CHR.
  873                        	
  874    1E:C156  A5 FF      			lda.h	<map_pxl_y		; Xvert map_pxl_y to map_chr_y.
  875               0001     		.if	BLKMAP_MULTISCR
  876    1E:C158  A8         			tay				; Xvert map_pxl_y to map_scrn_y.
  877    1E:C159  3C CC 26   			bit	vdc_bat_height, x
  878    1E:C15C  50 01      			bvc	.h32
  879    1E:C15E  4A         	.h64:		lsr	a
  880    1E:C15F  85 FF      	.h32:		sta	<map_scrn_y
  881    1E:C161  98         			tya
  882                        		.endif
  883    1E:C162  4A         			lsr	a
  884    1E:C163  66 FE      			ror.l	<map_pxl_y
  885    1E:C165  4A         			lsr	a
  886    1E:C166  66 FE      			ror.l	<map_pxl_y
  887    1E:C168  4A         			lsr	a
  888    1E:C169  66 FE      			ror.l	<map_pxl_y		; Max map width is 256 CHR.
  889                        	
  890    1E:C16B  60         			rts
  891                        	
  892                        	
  893                        	
  894                        	; ***************************************************************************
  895                        	; ***************************************************************************
  896                        	;
  897                        	; map_chr_2_data - Page in the MAP address for the CHR coordinates.
  898                        	;
  899                        	
  900    1E:C16C             	map_chr_2_data:
  901                        	
  902               0001     		.if	BLKMAP_MULTISCR
  903                        	
  904                        			; Initialization for a multi-screen map.
  905                        	
  906    1E:C16C  BD 14 2C   			lda	vdc_scr_bank, x		; Skip this if regular blkmap.
  907    1E:C16F  F0 3A      			beq	.regular
  908                        	
  909    1E:C171  A5 FC      	.multiscreen:	lda	<map_chr_x		; Compare old_x with cur_x.
  910    1E:C173  3D CD 26   			and	vdc_bat_x_mask, x
  911    1E:C176  85 F8      			sta	<map_bat_x		; Save BAT X chr coordinate.
  912                        	
  913    1E:C178  A5 FE      			lda	<map_chr_y		; Save BAT Y chr coordinate.
  914    1E:C17A  3D CE 26   			and	vdc_bat_y_mask, x
  915    1E:C17D  85 F9      			sta	<map_bat_y
  916    1E:C17F  4A         			lsr	a			; Map BLK Y coordinate.
  917    1E:C180  85 EF      			sta.h	<map_line
  918    1E:C182  62         			cla
  919    1E:C183  3C CB 26   			bit	vdc_bat_width, x
  920    1E:C186  30 08      			bmi	.w128
  921    1E:C188  70 03      			bvs	.w64
  922    1E:C18A  46 EF      	.w32:		lsr.h	<map_line
  923    1E:C18C  6A         			ror	a
  924    1E:C18D  46 EF      	.w64:		lsr.h	<map_line
  925    1E:C18F  6A         			ror	a
  926    1E:C190  46 EF      	.w128:		lsr.h	<map_line
  927    1E:C192  6A         			ror	a
  928    1E:C193  46 EF      			lsr.h	<map_line		; Hi-byte of (BLK Y * width).
  929    1E:C195  6A         			ror	a
  930    1E:C196  85 EE      			sta.l	<map_line		; Lo-byte of (BLK Y * width).
  931                        	
  932    1E:C198  20 EC C1   			jsr	map_set_screen		; Put BLK & MAP in MPR2-MPR5.
  933                        	
  934    1E:C19B  A5 F8      			lda	<map_bat_x		; Calc map data pointer.
  935    1E:C19D  4A         			lsr	a			; Map BLK X coordinate.
  936    1E:C19E  05 EE      			ora.l	<map_line
  937    1E:C1A0  85 EC      			sta.l	<_bp
  938    1E:C1A2  A5 EF      			lda.h	<map_line
  939    1E:C1A4  18         			clc
  940    1E:C1A5  7D 10 2C   			adc.h	vdc_map_addr, x		; N.B. 256-byte aligned!
  941    1E:C1A8  85 ED      			sta.h	<_bp
  942                        	
  943    1E:C1AA  60         			rts
  944                        	
  945                        		.endif	BLKMAP_MULTISCR
  946                        	
  947                        			; Initialization for a regular map.
  948                        	
  949    1E:C1AB  A5 FC      	.regular:	lda	<map_chr_x		; Compare old_x with cur_x.
  950                        	;		bit	vdc_map_option, x	; Set bit7 to disable aligning
  951                        	;		bmi	!+			; BAT X with the map X.
  952    1E:C1AD  3D CD 26   			and	vdc_bat_x_mask, x
  953    1E:C1B0  85 F8      			sta	<map_bat_x		; Save BAT X chr coordinate.
  954                        	
  955    1E:C1B2  A5 FE      	!:		lda	<map_chr_y		; A = map CHR Y coordinate.
  956    1E:C1B4  A8         			tay
  957    1E:C1B5  4A         			lsr	a
  958    1E:C1B6  42         			say				; Y = map BLK Y coordinate.
  959                        	
  960                        	;		bit	vdc_map_option, x	; Set bit6 to disable aligning
  961                        	;		bvs	!+			; BAT Y with the map Y.
  962    1E:C1B7  3D CE 26   			and	vdc_bat_y_mask, x
  963    1E:C1BA  85 F9      			sta	<map_bat_y		; Save BAT Y chr coordinate.
  964                        	
  965               0000     		.if	BLKMAP_LARGEMAP
  970                        		.endif
  971                        	
  972    1E:C1BC  BD D2 26   	!:		lda	vdc_map_line_w, x	; Map width in BLK.
  973               0000     		.if	FAST_MULTIPLY
  986                        		.else
  987    1E:C1BF  84 EF      			sty.h	<map_line		; Takes 144..176 cycles.
  988    1E:C1C1  A0 08      			ldy	#8
  989    1E:C1C3  4A         			lsr	a
  990    1E:C1C4  85 EE      			sta.l	<map_line
  991    1E:C1C6  62         			cla
  992    1E:C1C7  90 03      			bcc	.rotate
  993    1E:C1C9  18         	.add:		clc
  994    1E:C1CA  65 EF      			adc.h	<map_line
  995    1E:C1CC  6A         	.rotate:	ror	a
  996    1E:C1CD  66 EE      			ror.l	<map_line		; Lo-byte of (BLK Y * width).
  997    1E:C1CF  88         			dey
  998    1E:C1D0  B0 F7      			bcs	.add
  999    1E:C1D2  D0 F8      			bne	.rotate
 1000    1E:C1D4  A8         			tay				; Hi-byte of (BLK Y * width).
 1001                        		.endif
 1002                        	
 1003    1E:C1D5  A5 FC      	!:		lda	<map_chr_x		; Map CHR X coordinate.
 1004    1E:C1D7  4A         			lsr	a			; Map BLK X coordinate.
 1005    1E:C1D8  18         			clc
 1006    1E:C1D9  65 EE      			adc.l	<map_line		; Lo-byte of (BLK Y * width).
 1007    1E:C1DB  90 01      			bcc	!+
 1008    1E:C1DD  C8         			iny				; Hi-byte of (BLK Y * width).
 1009                        	
 1010    1E:C1DE  18         	!:		clc				; Calc map data pointer.
 1011    1E:C1DF  7D 0F 2C   			adc.l	vdc_map_addr, x
 1012    1E:C1E2  85 EC      			sta.l	<_bp			; Maximum map size is 16KBytes
 1013    1E:C1E4  98         			tya				; so we don't need to consider
 1014    1E:C1E5  7D 10 2C   			adc.h	vdc_map_addr, x		; bank overflow.
 1015    1E:C1E8  85 ED      			sta.h	<_bp
 1016                        	
 1017    1E:C1EA  80 66      			bra	map_set_banks		; Put BLK & MAP in MPR2-MPR5.
 1018                        	
 1019                        	
 1020                        	
 1021               0001     		.if	BLKMAP_MULTISCR
 1022                        	
 1023                        	; ***************************************************************************
 1024                        	; ***************************************************************************
 1025                        	;
 1026                        	; map_set_screen -
 1027                        	;
 1028                        	; Maximum X and Y dimension of 128 screens (32768 pixels).
 1029                        	; Maximum 8KByte total size of screen data (1024 screens).
 1030                        	;
 1031                        	
 1032    1E:C1EC  A4 FF      	map_set_screen:	ldy	<map_scrn_y		; Map SCR Y coordinate.
 1033    1E:C1EE  BD D3 26   			lda	vdc_map_scrn_w, x	; Map width in SCREENS.
 1034                        	
 1035               0000     		.if	FAST_MULTIPLY
 1048                        		.else
 1049    1E:C1F1  84 ED      			sty.h	<_bp			; Takes 144..176 cycles.
 1050    1E:C1F3  A0 08      			ldy	#8
 1051    1E:C1F5  4A         			lsr	a
 1052    1E:C1F6  85 EC      			sta.l	<_bp
 1053    1E:C1F8  62         			cla
 1054    1E:C1F9  90 03      			bcc	.rotate
 1055    1E:C1FB  18         	.add:		clc
 1056    1E:C1FC  65 ED      			adc.h	<_bp
 1057    1E:C1FE  6A         	.rotate:	ror	a
 1058    1E:C1FF  66 EC      			ror.l	<_bp			; Lo-byte of (SCR Y * width).
 1059    1E:C201  88         			dey
 1060    1E:C202  B0 F7      			bcs	.add
 1061    1E:C204  D0 F8      			bne	.rotate
 1062    1E:C206  A8         			tay				; Hi-byte of (SCR Y * width).
 1063                        		.endif
 1064                        	
 1065    1E:C207  A5 FD      			lda	<map_scrn_x		; Map SCR X coordinate.
 1066    1E:C209  18         			clc
 1067    1E:C20A  65 EC      			adc.l	<_bp
 1068    1E:C20C  90 01      			bcc	!+
 1069    1E:C20E  C8         			iny
 1070                        	
 1071    1E:C20F  84 ED      	!:		sty.h	<_bp			; 2 bytes per screen entry, max
 1072    1E:C211  0A         			asl	a			; 8KByte screen table.
 1073    1E:C212  26 ED      			rol.h	<_bp
 1074               0001     		.if	BLKDEF_POINTERS == 0
 1075    1E:C214  0A         			asl	a			; 8 bytes per screen entry when
 1076    1E:C215  26 ED      			rol.h	<_bp			; not using BLK pointers.
 1077    1E:C217  0A         			asl	a
 1078    1E:C218  26 ED      			rol.h	<_bp
 1079                        		.endif
 1080                        	
 1081    1E:C21A  7D 12 2C   			adc.l	vdc_scr_addr, x		; Calc screen data pointer.
 1082    1E:C21D  85 EC      			sta.l	<_bp			; Maximum data size is 8KBytes
 1083    1E:C21F  A5 ED      			lda.h	<_bp			; so we don't need to consider
 1084    1E:C221  7D 13 2C   			adc.h	vdc_scr_addr, x		; bank overflow.
 1085    1E:C224  85 ED      			sta.h	<_bp
 1086                        	
 1087    1E:C226  BD 14 2C   			lda	vdc_scr_bank, x		; Map the SCR data in MPR3..MPR4.
 1088    1E:C229  53 08      			tam3
 1089    1E:C22B  1A         			inc	a
 1090    1E:C22C  53 10      			tam4
 1091                        	
 1092    1E:C22E  C2         			cly
 1093    1E:C22F  B1 EC      			lda	[_bp], y		; Get SCR_MAP_PAGE.
 1094    1E:C231  9D 10 2C   			sta.h	vdc_map_addr, x
 1095    1E:C234  C8         			iny
 1096    1E:C235  B1 EC      			lda	[_bp], y		; Get SCR_MAP_BANK.
 1097    1E:C237  9D 11 2C   			sta	vdc_map_bank, x
 1098                        	
 1099               0001     		.if	BLKDEF_POINTERS == 0
 1100    1E:C23A  C8         			iny
 1101    1E:C23B  B1 EC      			lda	[_bp], y		; Get SCR_BLK_PAGE.
 1102    1E:C23D  9D 0D 2C   			sta.h	vdc_blk_addr, x
 1103    1E:C240  C8         			iny
 1104    1E:C241  B1 EC      			lda	[_bp], y		; Get SCR_BLK_BANK.
 1105    1E:C243  9D 0E 2C   			sta	vdc_blk_bank, x
 1106    1E:C246  C8         			iny
 1107    1E:C247  B1 EC      			lda	[_bp], y		; Get SCR_TBL_PAGE.
 1108    1E:C249  9D 0A 2C   			sta.h	vdc_tbl_addr, x
 1109    1E:C24C  C8         			iny
 1110    1E:C24D  B1 EC      			lda	[_bp], y		; Get SCR_TBL_BANK.
 1111    1E:C24F  9D 0B 2C   			sta	vdc_tbl_bank, x
 1112               0000     		.if	0				; These are not currently used.
 1119                        		.endif
 1120                        		.endif
 1121                        	
 1122                        	;		lda	vdc_bat_width, x	; Set up the map width.
 1123                        	;		lsr	a			; This should have been set
 1124                        	;		sta	vdc_map_line_w, x	; with the multi-screen map.
 1125                        	
 1126                        	;		jmp	map_set_banks		; Put BLK & MAP in MPR2-MPR5.
 1127                        	
 1128                        			; Fall through to map_set_banks.
 1129                        	
 1130                        		.endif	BLKMAP_MULTISCR
 1131                        	
 1132                        	
 1133                        	
 1134                        	; ***************************************************************************
 1135                        	; ***************************************************************************
 1136                        	;
 1137                        	; map_set_banks - Put BLK & MAP in MPR2-MPR5.
 1138                        	;
 1139                        	
 1140    1E:C252  BD 0E 2C   	map_set_banks:	lda	vdc_blk_bank, x		; Put the BLK into MPR2.
 1141    1E:C255  53 04      			tam2
 1142                        	
 1143    1E:C257  BD 11 2C   			lda	vdc_map_bank, x		; Put the MAP into MPR3-MPR5.
 1144    1E:C25A  53 08      			tam3
 1145    1E:C25C  1A         			inc	a
 1146    1E:C25D  53 10      			tam4
 1147               0000     		.if	BLKMAP_LARGEMAP
 1156                        		.endif
 1157                        	
 1158    1E:C25F  60         	!:		rts
 1159                        	
 1160                        	
 1161                        	
 1162                        	; ***************************************************************************
 1163                        	; ***************************************************************************
 1164                        	;
 1165                        	; map_scroll_x - Update the BAT when X coordinate changes.
 1166                        	;
 1167                        	; N.B. This will alter map_chr_x and map_scrn_x if moved in +ve direction!
 1168                        	;
 1169                        	; N.B. This only ever draws a single column!
 1170                        	;
 1171                        	
 1172    1E:C260  60         	!no_change:	rts
 1173                        	
 1174    1E:C261             	map_scroll_x:
 1175                        	
 1176               0001     		.if	BLKMAP_MULTISCR
 1177                        	
 1178                        			; Initialization for a multi-screen map.
 1179                        	
 1180    1E:C261  BD 14 2C   			lda	vdc_scr_bank, x		; Skip this if regular blkmap.
 1181    1E:C264  F0 56      			beq	.regular
 1182                        	
 1183    1E:C266  A5 FC      	.multiscreen:	lda	<map_chr_x		; Compare old_x with cur_x.
 1184    1E:C268  DD 07 2C   			cmp	vdc_old_chr_x, x
 1185               0001     		.if	BLKMAP_TIMETEST == 0
 1186    1E:C26B  F0 F3      			beq	!no_change-		; Do nothing if no change.
 1187                        		.endif
 1188    1E:C26D  9D 07 2C   			sta	vdc_old_chr_x, x
 1189    1E:C270  30 11      			bmi	!+			; Test the sign of the change.
 1190                        	
 1191    1E:C272  18         			clc				; Draw RHS if chr_x >= old_x.
 1192    1E:C273  3D CD 26   			and	vdc_bat_x_mask, x
 1193    1E:C276  7D D0 26   			adc	vdc_map_draw_w, x	; Usually (SCR_WIDTH / 8) + 1.
 1194    1E:C279  3A         			dec	a
 1195    1E:C27A  85 FC      			sta	<map_chr_x		; Update CHR X chr coordinate.
 1196    1E:C27C  3C CB 26   			bit	vdc_bat_width, x
 1197    1E:C27F  F0 02      			beq	!+
 1198    1E:C281  E6 FD      			inc	<map_scrn_x		; Wrapped to the next screen.
 1199                        	
 1200    1E:C283  3D CD 26   	!:		and	vdc_bat_x_mask, x
 1201    1E:C286  85 F8      			sta	<map_bat_x		; Save BAT X chr coordinate.
 1202                        	
 1203    1E:C288  A5 FE      			lda	<map_chr_y		; Save BAT Y chr coordinate.
 1204    1E:C28A  3D CE 26   			and	vdc_bat_y_mask, x
 1205    1E:C28D  85 F9      			sta	<map_bat_y
 1206    1E:C28F  4A         			lsr	a			; Map BLK Y coordinate.
 1207    1E:C290  85 EF      			sta.h	<map_line
 1208    1E:C292  62         			cla
 1209    1E:C293  3C CB 26   			bit	vdc_bat_width, x
 1210    1E:C296  30 08      			bmi	.w128
 1211    1E:C298  70 03      			bvs	.w64
 1212    1E:C29A  46 EF      	.w32:		lsr.h	<map_line
 1213    1E:C29C  6A         			ror	a
 1214    1E:C29D  46 EF      	.w64:		lsr.h	<map_line
 1215    1E:C29F  6A         			ror	a
 1216    1E:C2A0  46 EF      	.w128:		lsr.h	<map_line
 1217    1E:C2A2  6A         			ror	a
 1218    1E:C2A3  46 EF      			lsr.h	<map_line		; Hi-byte of (BLK Y * width).
 1219    1E:C2A5  6A         			ror	a
 1220    1E:C2A6  85 EE      			sta.l	<map_line		; Lo-byte of (BLK Y * width).
 1221                        	
 1222    1E:C2A8  20 EC C1   			jsr	map_set_screen		; Put BLK & MAP in MPR2-MPR5.
 1223                        	
 1224    1E:C2AB  A5 F8      			lda	<map_bat_x		; Calc map data pointer.
 1225    1E:C2AD  4A         			lsr	a			; Map BLK X coordinate.
 1226    1E:C2AE  05 EE      			ora.l	<map_line
 1227    1E:C2B0  85 EC      			sta.l	<_bp
 1228    1E:C2B2  A5 EF      			lda.h	<map_line
 1229    1E:C2B4  18         			clc
 1230    1E:C2B5  7D 10 2C   			adc.h	vdc_map_addr, x		; N.B. 256-byte aligned!
 1231    1E:C2B8  85 ED      			sta.h	<_bp
 1232                        	
 1233    1E:C2BA  80 5D      			bra	.draw_col		; Now draw it.
 1234                        	
 1235                        		.endif	BLKMAP_MULTISCR
 1236                        	
 1237                        			; Initialization for a regular map.
 1238                        	
 1239    1E:C2BC  A5 FC      	.regular:	lda	<map_chr_x		; Compare old_x with cur_x.
 1240    1E:C2BE  DD 07 2C   			cmp	vdc_old_chr_x, x
 1241               0001     		.if	BLKMAP_TIMETEST == 0
 1242    1E:C2C1  F0 9D      			beq	!no_change-		; Do nothing if no change.
 1243                        		.endif
 1244    1E:C2C3  9D 07 2C   			sta	vdc_old_chr_x, x
 1245    1E:C2C6  30 07      			bmi	!+			; Test the sign of the change.
 1246                        	
 1247    1E:C2C8  18         			clc				; Draw RHS if chr_x >= old_x.
 1248    1E:C2C9  7D D0 26   			adc	vdc_map_draw_w, x	; Usually (SCR_WIDTH / 8) + 1.
 1249    1E:C2CC  3A         			dec	a
 1250    1E:C2CD  85 FC      			sta	<map_chr_x		; Update CHR X chr coordinate.
 1251                        	
 1252    1E:C2CF  3C D8 26   	!:		bit	vdc_map_option, x	; Set bit7 to disable aligning
 1253    1E:C2D2  30 05      			bmi	!+			; BAT X with the map X.
 1254    1E:C2D4  3D CD 26   			and	vdc_bat_x_mask, x
 1255    1E:C2D7  85 F8      			sta	<map_bat_x		; Save BAT X chr coordinate.
 1256                        	
 1257    1E:C2D9  A5 FE      	!:		lda	<map_chr_y		; A = map CHR Y coordinate.
 1258    1E:C2DB  A8         			tay
 1259    1E:C2DC  4A         			lsr	a
 1260    1E:C2DD  42         			say				; Y = map BLK Y coordinate.
 1261                        	
 1262    1E:C2DE  3C D8 26   			bit	vdc_map_option, x	; Set bit6 to disable aligning
 1263    1E:C2E1  70 05      			bvs	!+			; BAT Y with the map Y.
 1264    1E:C2E3  3D CE 26   			and	vdc_bat_y_mask, x
 1265    1E:C2E6  85 F9      			sta	<map_bat_y		; Save BAT Y chr coordinate.
 1266                        	
 1267               0000     		.if	BLKMAP_LARGEMAP
 1272                        		.endif
 1273                        	
 1274    1E:C2E8  BD D2 26   	!:		lda	vdc_map_line_w, x	; Map width in BLK.
 1275               0000     		.if	FAST_MULTIPLY
 1288                        		.else
 1289    1E:C2EB  84 EF      			sty.h	<map_line		; Takes 144..176 cycles.
 1290    1E:C2ED  A0 08      			ldy	#8
 1291    1E:C2EF  4A         			lsr	a
 1292    1E:C2F0  85 EE      			sta.l	<map_line
 1293    1E:C2F2  62         			cla
 1294    1E:C2F3  90 03      			bcc	.rotate
 1295    1E:C2F5  18         	.add:		clc
 1296    1E:C2F6  65 EF      			adc.h	<map_line
 1297    1E:C2F8  6A         	.rotate:	ror	a
 1298    1E:C2F9  66 EE      			ror.l	<map_line		; Lo-byte of (BLK Y * width).
 1299    1E:C2FB  88         			dey
 1300    1E:C2FC  B0 F7      			bcs	.add
 1301    1E:C2FE  D0 F8      			bne	.rotate
 1302    1E:C300  A8         			tay				; Hi-byte of (BLK Y * width).
 1303                        		.endif
 1304                        	
 1305    1E:C301  A5 FC      	!:		lda	<map_chr_x		; Map CHR X coordinate.
 1306    1E:C303  4A         			lsr	a			; Map BLK X coordinate.
 1307    1E:C304  18         			clc
 1308    1E:C305  65 EE      			adc.l	<map_line		; Lo-byte of (BLK Y * width).
 1309    1E:C307  90 01      			bcc	!+
 1310    1E:C309  C8         			iny				; Hi-byte of (BLK Y * width).
 1311                        	
 1312    1E:C30A  18         	!:		clc				; Calc map data pointer.
 1313    1E:C30B  7D 0F 2C   			adc.l	vdc_map_addr, x
 1314    1E:C30E  85 EC      			sta.l	<_bp			; Maximum map size is 16KBytes
 1315    1E:C310  98         			tya				; so we don't need to consider
 1316    1E:C311  7D 10 2C   			adc.h	vdc_map_addr, x		; bank overflow.
 1317    1E:C314  85 ED      			sta.h	<_bp
 1318                        	
 1319    1E:C316  20 52 C2   			jsr	map_set_banks		; Put BLK & MAP in MPR2-MPR5.
 1320                        	
 1321                        			; Draw the first part of the column.
 1322                        	
 1323    1E:C319  A5 F8      	.draw_col:	lda	<map_bat_x		; Set the BAT VRAM destination
 1324    1E:C31B  85 F0      			sta.l	<_di			; coordinates.
 1325    1E:C31D  A5 F9      			lda	<map_bat_y
 1326    1E:C31F  85 F1      			sta.h	<_di
 1327                        	
 1328    1E:C321  5D CE 26   			eor	vdc_bat_y_mask, x	; Calc CHR before wrap.
 1329    1E:C324  1A         			inc	a
 1330    1E:C325  DD D1 26   			cmp	vdc_map_draw_h, x	; Usually (SCR_HEIGHT / 8) + 1.
 1331    1E:C328  90 03      			bcc	!+
 1332    1E:C32A  BD D1 26   			lda	vdc_map_draw_h, x	; Maximum CHR to draw.
 1333    1E:C32D  85 00      	!:		sta	<map_count		; Set number of CHR to draw.
 1334    1E:C32F  85 01      			sta	<map_drawn		; Preserve number of CHR drawn.
 1335                        	
 1336    1E:C331  A9 05      			lda	#VDC_CR			; Set VDC auto-increment from
 1337    1E:C333  95 F7      			sta	<vdc_reg, x		; the BAT width, which is set
 1338    1E:C335  9D 00 02   			sta	VDC_AR, x		; up by set_screen_size().
 1339    1E:C338  B5 F4      			lda	<vdc_crh, x
 1340    1E:C33A  9D 03 02   			sta	VDC_DH, x
 1341                        	
 1342    1E:C33D  20 7F C6   			jsr	blk_col_strip		; Draw top of vertical strip.
 1343                        	
 1344                        			; Wrap around and draw the rest of the column (if needed).
 1345                        	
 1346    1E:C340  38         			sec				; Are there any more CHR that
 1347    1E:C341  BD D1 26   			lda	vdc_map_draw_h, x	; need to be drawn?
 1348    1E:C344  E5 01      			sbc	<map_drawn
 1349    1E:C346  F0 2C      			beq	.done
 1350                        	
 1351    1E:C348  85 00      			sta	<map_count		; Set number of CHR to draw.
 1352                        	
 1353    1E:C34A  A5 FE      			lda	<map_chr_y		; Update CHR Y coordinate for
 1354    1E:C34C  48         			pha				; drawing unaligned tiles.
 1355    1E:C34D  18         			clc
 1356    1E:C34E  65 01      			adc	<map_drawn
 1357    1E:C350  85 FE      			sta	<map_chr_y
 1358                        	
 1359               0001     		.if	BLKMAP_MULTISCR
 1360    1E:C352  BD 14 2C   			lda	vdc_scr_bank, x		; Skip this if regular blkmap.
 1361    1E:C355  F0 0F      			beq	!+
 1362                        	
 1363    1E:C357  E6 FF      			inc	<map_scrn_y		; Wrapped to the next screen.
 1364                        	
 1365    1E:C359  20 EC C1   			jsr	map_set_screen		; Put BLK & MAP in MPR2-MPR5.
 1366                        	
 1367    1E:C35C  A5 F8      			lda	<map_bat_x		; Calc map data pointer.
 1368    1E:C35E  4A         			lsr	a			; Map BLK X coordinate.
 1369    1E:C35F  85 EC      			sta.l	<_bp
 1370    1E:C361  BD 10 2C   			lda.h	vdc_map_addr, x		; N.B. 256-byte aligned!
 1371    1E:C364  85 ED      			sta.h	<_bp
 1372                        		.endif
 1373                        	
 1374    1E:C366  A5 F8      	!:		lda	<map_bat_x		; Set the BAT VRAM destination
 1375    1E:C368  85 F0      			sta.l	<_di			; coordinates.
 1376    1E:C36A  64 F1      			stz.h	<_di			; Reset 1st row to draw.
 1377                        	
 1378    1E:C36C  20 7F C6   			jsr	blk_col_strip		; Draw btm of vertical strip.
 1379                        	
 1380               0001     		.if	BLKMAP_MULTISCR
 1381    1E:C36F  C6 FF      			dec	<map_scrn_y		; Restore, no check if should.
 1382                        		.endif
 1383                        	
 1384    1E:C371  68         			pla				; Restore CHR Y coordinate, we
 1385    1E:C372  85 FE      			sta	<map_chr_y		; might draw another column!
 1386                        	
 1387    1E:C374  A9 05      	.done:		lda	#VDC_CR			; Set VDC auto-increment to 1.
 1388    1E:C376  95 F7      			sta	<vdc_reg, x
 1389    1E:C378  9D 00 02   			sta	VDC_AR, x
 1390    1E:C37B  9E 03 02   			stz	VDC_DH, x
 1391                        	
 1392    1E:C37E  60         			rts
 1393                        	
 1394                        	
 1395                        	
 1396                        	; ***************************************************************************
 1397                        	; ***************************************************************************
 1398                        	;
 1399                        	; map_scroll_y - Update the BAT when Y coordinate changes.
 1400                        	;
 1401                        	; N.B. This will alter map_chr_y and map_scrn_y if moved in +ve direction!
 1402                        	;
 1403                        	; N.B. This draws multiple rows when called from _draw_map or _blit_map.
 1404                        	;
 1405                        	
 1406    1E:C37F  60         	!no_change:	rts
 1407                        	
 1408    1E:C380             	map_scroll_y:
 1409                        	
 1410               0001     		.if	BLKMAP_MULTISCR
 1411                        	
 1412                        			; Initialization for a multi-screen map.
 1413                        	
 1414    1E:C380  BD 14 2C   			lda	vdc_scr_bank, x		; Skip this if regular blkmap.
 1415    1E:C383  F0 56      			beq	.regular
 1416                        	
 1417    1E:C385  A5 FE      	.multiscr:	lda	<map_chr_y		; Compare old_y with cur_y.
 1418    1E:C387  DD 08 2C   			cmp	vdc_old_chr_y, x
 1419               0001     		.if	BLKMAP_TIMETEST == 0
 1420    1E:C38A  F0 F3      			beq	!no_change-		; Do nothing if no change.
 1421                        		.endif
 1422    1E:C38C  9D 08 2C   			sta	vdc_old_chr_y, x
 1423    1E:C38F  30 11      			bmi	!+			; Test the sign of the change.
 1424                        	
 1425    1E:C391  18         			clc				; Draw bottom if chr_y >= old_y.
 1426    1E:C392  3D CE 26   			and	vdc_bat_y_mask, x
 1427    1E:C395  7D D1 26   			adc	vdc_map_draw_h, x	; Usually (SCR_HEIGHT / 8) + 1.
 1428    1E:C398  3A         			dec	a
 1429    1E:C399  85 FE      			sta	<map_chr_y		; Update CHR Y chr coordinate.
 1430    1E:C39B  3C CC 26   			bit	vdc_bat_height, x
 1431    1E:C39E  F0 02      			beq	!+
 1432    1E:C3A0  E6 FF      			inc	<map_scrn_y		; Wrapped to the next screen.
 1433                        	
 1434    1E:C3A2  3D CE 26   	!:		and	vdc_bat_y_mask, x
 1435    1E:C3A5  85 F9      			sta	<map_bat_y		; Save BAT Y chr coordinate.
 1436                        	
 1437    1E:C3A7  4A         			lsr	a			; Map BLK Y coordinate.
 1438    1E:C3A8  85 EF      			sta.h	<map_line
 1439    1E:C3AA  62         			cla
 1440    1E:C3AB  3C CB 26   			bit	vdc_bat_width, x
 1441    1E:C3AE  30 08      			bmi	.w128
 1442    1E:C3B0  70 03      			bvs	.w64
 1443    1E:C3B2  46 EF      	.w32:		lsr.h	<map_line
 1444    1E:C3B4  6A         			ror	a
 1445    1E:C3B5  46 EF      	.w64:		lsr.h	<map_line
 1446    1E:C3B7  6A         			ror	a
 1447    1E:C3B8  46 EF      	.w128:		lsr.h	<map_line
 1448    1E:C3BA  6A         			ror	a
 1449    1E:C3BB  46 EF      			lsr.h	<map_line		; Hi-byte of (BLK Y * width).
 1450    1E:C3BD  6A         			ror	a
 1451    1E:C3BE  85 EE      			sta.l	<map_line		; Lo-byte of (BLK Y * width).
 1452                        	
 1453    1E:C3C0  A5 FC      			lda	<map_chr_x
 1454    1E:C3C2  3D CD 26   			and	vdc_bat_x_mask, x
 1455    1E:C3C5  85 F8      			sta	<map_bat_x		; Save BAT X chr coordinate.
 1456                        	
 1457                        			; Loop to here if drawing multiple multi-screen rows.
 1458                        	
 1459    1E:C3C7  20 EC C1   	.multiscr_row:	jsr	map_set_screen		; Put BLK & MAP in MPR2-MPR5.
 1460                        	
 1461    1E:C3CA  A5 F8      			lda	<map_bat_x		; Calc map data pointer.
 1462    1E:C3CC  4A         			lsr	a			; Map BLK X coordinate.
 1463    1E:C3CD  05 EE      			ora.l	<map_line
 1464    1E:C3CF  85 EC      			sta.l	<_bp
 1465    1E:C3D1  A5 EF      			lda.h	<map_line
 1466    1E:C3D3  18         			clc
 1467    1E:C3D4  7D 10 2C   			adc.h	vdc_map_addr, x		; N.B. 256-byte aligned!
 1468    1E:C3D7  85 ED      			sta.h	<_bp
 1469                        	
 1470    1E:C3D9  80 60      			bra	.draw_row		; Now draw it.
 1471                        	
 1472                        		.endif	BLKMAP_MULTISCR
 1473                        	
 1474                        			; Initialization for a regular blkmap.
 1475                        	
 1476    1E:C3DB  A5 FE      	.regular:	lda	<map_chr_y		; Compare old_y with cur_y.
 1477    1E:C3DD  DD 08 2C   			cmp	vdc_old_chr_y, x
 1478               0001     		.if	BLKMAP_TIMETEST == 0
 1479    1E:C3E0  F0 9D      			beq	!no_change-		; Do nothing if no change.
 1480                        		.endif
 1481    1E:C3E2  9D 08 2C   			sta	vdc_old_chr_y, x
 1482    1E:C3E5  30 07      			bmi	!+			; Test the sign of the change.
 1483                        	
 1484    1E:C3E7  18         			clc				; Draw bottom if chr_y >= old_y.
 1485    1E:C3E8  7D D1 26   			adc	vdc_map_draw_h, x	; Usually (SCR_HEIGHT / 8) + 1.
 1486    1E:C3EB  3A         			dec	a
 1487    1E:C3EC  85 FE      			sta	<map_chr_y		; Update CHR Y chr coordinate.
 1488                        	
 1489    1E:C3EE  A8         	!:		tay				; A = map CHR Y coordinate.
 1490    1E:C3EF  4A         			lsr	a
 1491    1E:C3F0  42         			say				; Y = map BLK Y coordinate.
 1492                        	
 1493    1E:C3F1  3C D8 26   			bit	vdc_map_option, x	; Set bit6 to disable aligning
 1494    1E:C3F4  70 05      			bvs	!+			; BAT Y with the map Y.
 1495    1E:C3F6  3D CE 26   			and	vdc_bat_y_mask, x
 1496    1E:C3F9  85 F9      			sta	<map_bat_y		; Save BAT Y chr coordinate.
 1497                        	
 1498    1E:C3FB  3C D8 26   	!:		bit	vdc_map_option, x	; Set bit7 to disable aligning
 1499    1E:C3FE  30 07      			bmi	!+			; BAT X with the map X.
 1500    1E:C400  A5 FC      			lda	<map_chr_x
 1501    1E:C402  3D CD 26   			and	vdc_bat_x_mask, x
 1502    1E:C405  85 F8      			sta	<map_bat_x		; Save BAT X chr coordinate.
 1503    1E:C407             	!:
 1504                        	
 1505               0000     		.if	BLKMAP_LARGEMAP
 1510                        		.endif
 1511                        	
 1512    1E:C407  BD D2 26   			lda	vdc_map_line_w, x	; Map width in BLK.
 1513               0000     		.if	FAST_MULTIPLY
 1526                        		.else
 1527    1E:C40A  84 EF      			sty.h	<map_line		; Takes 144..176 cycles.
 1528    1E:C40C  A0 08      			ldy	#8
 1529    1E:C40E  4A         			lsr	a
 1530    1E:C40F  85 EE      			sta.l	<map_line
 1531    1E:C411  62         			cla
 1532    1E:C412  90 03      			bcc	.rotate
 1533    1E:C414  18         	.add:		clc
 1534    1E:C415  65 EF      			adc.h	<map_line
 1535    1E:C417  6A         	.rotate:	ror	a
 1536    1E:C418  66 EE      			ror.l	<map_line		; Lo-byte of (BLK Y * width).
 1537    1E:C41A  88         			dey
 1538    1E:C41B  B0 F7      			bcs	.add
 1539    1E:C41D  D0 F8      			bne	.rotate
 1540    1E:C41F  85 EF      			sta.h	<map_line		; Hi-byte of (BLK Y * width).
 1541                        		.endif
 1542                        	
 1543    1E:C421  20 52 C2   			jsr	map_set_banks		; Put BLK & MAP in MPR2-MPR5.
 1544                        	
 1545                        			; Loop to here if drawing multiple regular blkmap rows.
 1546                        	
 1547    1E:C424  A4 EF      	.regular_row:	ldy.h	<map_line		; Hi-byte of (BLK Y * width).
 1548    1E:C426  A5 FC      			lda	<map_chr_x		; Map CHR X coordinate.
 1549    1E:C428  4A         			lsr	a			; Map BLK X coordinate.
 1550    1E:C429  18         			clc
 1551    1E:C42A  65 EE      			adc.l	<map_line		; Lo-byte of (BLK Y * width).
 1552    1E:C42C  90 01      			bcc	!+
 1553    1E:C42E  C8         			iny
 1554    1E:C42F  18         	!:		clc				; Calc map data pointer.
 1555    1E:C430  7D 0F 2C   			adc.l	vdc_map_addr, x
 1556    1E:C433  85 EC      			sta.l	<_bp			; Maximum map size is 16KBytes
 1557    1E:C435  98         			tya				; so we don't need to consider
 1558    1E:C436  7D 10 2C   			adc.h	vdc_map_addr, x		; bank overflow.
 1559    1E:C439  85 ED      			sta.h	<_bp
 1560                        	
 1561                        			; Draw the first part of the row.
 1562                        	
 1563    1E:C43B  A5 F9      	.draw_row:	lda	<map_bat_y		; Set the BAT VRAM destination
 1564    1E:C43D  85 F1      			sta.h	<_di			; coordinates.
 1565    1E:C43F  A5 F8      			lda	<map_bat_x
 1566    1E:C441  85 F0      			sta.l	<_di
 1567                        	
 1568    1E:C443  5D CD 26   			eor	vdc_bat_x_mask, x	; Calc CHR before wrap.
 1569    1E:C446  1A         			inc	a
 1570    1E:C447  C5 FA      			cmp	<map_draw_w		; Usually (SCR_WIDTH / 8) + 1.
 1571    1E:C449  90 02      			bcc	!+
 1572    1E:C44B  A5 FA      			lda	<map_draw_w		; Maximum CHR to draw.
 1573    1E:C44D  85 00      	!:		sta	<map_count		; Set number of CHR to draw.
 1574    1E:C44F  85 01      			sta	<map_drawn		; Preserve number of CHR drawn.
 1575                        	
 1576    1E:C451  20 C1 C4   			jsr	blk_row_strip		; Draw lhs of horizontal strip.
 1577                        	
 1578                        			; Wrap around and draw the rest of the row (if needed).
 1579                        	
 1580    1E:C454  38         			sec				; Are there any more CHR that
 1581    1E:C455  A5 FA      			lda	<map_draw_w		; need to be drawn?
 1582    1E:C457  E5 01      			sbc	<map_drawn
 1583    1E:C459  F0 2E      			beq	.done_row
 1584                        	
 1585    1E:C45B  85 00      			sta	<map_count		; Set number of CHR to draw.
 1586                        	
 1587    1E:C45D  A5 FC      			lda	<map_chr_x		; Update CHR X coordinate for
 1588    1E:C45F  48         			pha				; drawing unaligned tiles.
 1589    1E:C460  18         			clc
 1590    1E:C461  65 01      			adc	<map_drawn
 1591    1E:C463  85 FC      			sta	<map_chr_x
 1592                        	
 1593               0001     		.if	BLKMAP_MULTISCR
 1594    1E:C465  BD 14 2C   			lda	vdc_scr_bank, x		; Skip this if regular blkmap.
 1595    1E:C468  F0 11      			beq	!+
 1596                        	
 1597    1E:C46A  E6 FD      			inc	<map_scrn_x		; Wrapped to the next screen.
 1598                        	
 1599    1E:C46C  20 EC C1   			jsr	map_set_screen		; Locate screen's BLK and MAP.
 1600                        	
 1601    1E:C46F  18         			clc				; Calc map data pointer.
 1602    1E:C470  A5 EE      			lda.l	<map_line
 1603    1E:C472  85 EC      			sta.l	<_bp
 1604    1E:C474  A5 EF      			lda.h	<map_line
 1605    1E:C476  7D 10 2C   			adc.h	vdc_map_addr, x		; N.B. 256-byte aligned!
 1606    1E:C479  85 ED      			sta.h	<_bp
 1607                        		.endif
 1608                        	
 1609    1E:C47B  A5 F9      	!:		lda	<map_bat_y		; Set the BAT VRAM destination
 1610    1E:C47D  85 F1      			sta.h	<_di			; coordinates.
 1611    1E:C47F  64 F0      			stz.l	<_di			; Reset 1st column to draw.
 1612                        	
 1613    1E:C481  20 C1 C4   			jsr	blk_row_strip		; Draw rhs of horizontal strip.
 1614                        	
 1615               0001     		.if	BLKMAP_MULTISCR
 1616    1E:C484  C6 FD      			dec	<map_scrn_x		; Restore, no check if should.
 1617                        		.endif	BLKMAP_MULTISCR
 1618                        	
 1619    1E:C486  68         			pla				; Restore CHR X coordinate, we
 1620    1E:C487  85 FC      			sta	<map_chr_x		; might draw another row!
 1621                        	
 1622    1E:C489  C6 FB      	.done_row:	dec	<map_draw_h		; Are all desired rows drawn?
 1623    1E:C48B  F0 33      			beq	.finished
 1624                        	
 1625    1E:C48D  E6 FE      			inc	<map_chr_y		; Move CHR Y down by 1.
 1626                        	
 1627    1E:C48F  A5 FE      			lda	<map_chr_y		; If new BLK then ...
 1628    1E:C491  4A         			lsr	a
 1629    1E:C492  B0 0B      			bcs	!+
 1630    1E:C494  BD D2 26   			lda	vdc_map_line_w, x	; Move the map line pointer to
 1631    1E:C497  65 EE      			adc.l	<map_line		; the next line.
 1632    1E:C499  85 EE      			sta.l	<map_line
 1633    1E:C49B  90 02      			bcc	!+
 1634    1E:C49D  E6 EF      			inc.h	<map_line
 1635                        	
 1636    1E:C49F  A5 F9      	!:		lda	<map_bat_y		; Move BAT Y down by 1.
 1637    1E:C4A1  1A         			inc	a
 1638    1E:C4A2  3D CE 26   			and	vdc_bat_y_mask, x
 1639    1E:C4A5  85 F9      			sta	<map_bat_y
 1640                        	
 1641               0001     		.if	BLKMAP_MULTISCR
 1642    1E:C4A7  BC 14 2C   			ldy	vdc_scr_bank, x		; Skip this if regular blkmap.
 1643    1E:C4AA  D0 03 4C 24			beq	.regular_row
         1E:C4AE  C4          
 1644                        	
 1645    1E:C4AF  A8         			tay				; If wrapped to the top line of
 1646    1E:C4B0  D0 0B      			bne	!+			; of the BAT then increment the
 1647    1E:C4B2  E6 FF      			inc	<map_scrn_y		; screen.
 1648                        	
 1649    1E:C4B4  BD CF 26   			lda	vdc_bat_limit, x	; The map line must wrap around
 1650    1E:C4B7  4A         			lsr	a			; too. This is simple since its
 1651    1E:C4B8  4A         			lsr	a			; size (in bytes) is 1/4 of the
 1652    1E:C4B9  25 EF      			and.h	<map_line		; BAT size (in words) and it is
 1653    1E:C4BB  85 EF      			sta.h	<map_line		; a power-of-2.
 1654                        	
 1655    1E:C4BD  4C C7 C3   	!:		jmp	.multiscr_row		; Draw next row.
 1656                        		.else
 1658                        		.endif	BLKMAP_MULTISCR
 1659                        	
 1660    1E:C4C0  60         	.finished:	rts
 1661                        	
 1662                        	
 1663                        	
 1664               0000     		.if	BLKDEF_POINTERS
 1858                        		.else	BLKDEF_POINTERS
 1859                        	
 1860                        	
 1861                        	
 1862                        	; ***************************************************************************
 1863                        	; ***************************************************************************
 1864                        	;
 1865                        	; blk_row_strip - Draw a single row of CHR into the BAT.
 1866                        	;
 1867                        	
 1868    1E:C4C1  20 48 E4   	blk_row_strip:	jsr	set_di_xy_mawr		; Set the BAT VRAM destination.
 1869                        	
 1870    1E:C4C4  A5 FC      			lda	<map_chr_x		; Select what drawing code to
 1871    1E:C4C6  4A         			lsr	a			; use depending upon even/odd
 1872    1E:C4C7  A5 FE      			lda	<map_chr_y		; CHR coordinates (not BAT to
 1873    1E:C4C9  29 01      			and	#1			; support unaligned drawing).
 1874    1E:C4CB  2A         			rol	a
 1875    1E:C4CC  0A         			asl	a
 1876    1E:C4CD  1D 0D 2C   			ora.h	vdc_blk_addr, x		; What is the BLK data address?
 1877    1E:C4D0  29 1E      			and	#%00011110		; $4000, $4800, $5000 or $5800.
 1878    1E:C4D2  A8         			tay
 1879    1E:C4D3  B9 E0 C4   			lda.h	.jump_table, y		; Push the address of the code.
 1880    1E:C4D6  48         			pha
 1881    1E:C4D7  B9 DF C4   			lda.l	.jump_table, y
 1882    1E:C4DA  48         			pha
 1883                        	
 1884    1E:C4DB  B2 EC      			lda	[_bp]			; Get the first BLK number.
 1885    1E:C4DD  A8         			tay
 1886                        	
 1887    1E:C4DE  60         			rts				; Jump to the drawing code.
 1888                        	
 1889    1E:C4DF  01 C5      	.jump_table:	dw	b4000_top_even - 1
 1890    1E:C4E1  14 C5      			dw	b4000_top_odd - 1
 1891    1E:C4E3  31 C5      			dw	b4000_btm_even - 1
 1892    1E:C4E5  44 C5      			dw	b4000_btm_odd - 1
 1893                        	
 1894    1E:C4E7  61 C5      			dw	b4800_top_even - 1
 1895    1E:C4E9  74 C5      			dw	b4800_top_odd - 1
 1896    1E:C4EB  91 C5      			dw	b4800_btm_even - 1
 1897    1E:C4ED  A4 C5      			dw	b4800_btm_odd - 1
 1898                        	
 1899    1E:C4EF  C1 C5      			dw	b5000_top_even - 1
 1900    1E:C4F1  D4 C5      			dw	b5000_top_odd - 1
 1901    1E:C4F3  F1 C5      			dw	b5000_btm_even - 1
 1902    1E:C4F5  04 C6      			dw	b5000_btm_odd - 1
 1903                        	
 1904    1E:C4F7  21 C6      			dw	b5800_top_even - 1
 1905    1E:C4F9  34 C6      			dw	b5800_top_odd - 1
 1906    1E:C4FB  51 C6      			dw	b5800_btm_even - 1
 1907    1E:C4FD  64 C6      			dw	b5800_btm_odd - 1
 1908                        	
 1909                        			; top horizontal (32+2 rept)
 1910                        			;
 1911                        			; 89 cycles per block * 17 -> 1513 cycles
 1912                        	
 1913    1E:C4FF  B2 EC      	!repeat:	lda	[_bp]			; 7
 1914    1E:C501  A8         			tay				; 2
 1915                        	
 1916    1E:C502  B9 00 40   	b4000_top_even:	lda	BLK_4000_TL_L, y	; 5
 1917    1E:C505  9D 02 02   			sta	VDC_DL, x		; 6
 1918    1E:C508  B9 00 44   			lda	BLK_4000_TL_H, y	; 5
 1919               0001     		.if	BLKDEF_CHR_FLAG
 1920    1E:C50B  29 F3      			and	#%11110011		; 2
 1921                        		.endif
 1922    1E:C50D  1A         			inc	a			; 2
 1923    1E:C50E  9D 03 02   			sta	VDC_DH, x		; 6
 1924                        	
 1925    1E:C511  C6 00      			dec	<map_count		; 6
 1926    1E:C513  F0 19      			beq	!end+			; 2
 1927                        	
 1928    1E:C515  B9 00 41   	b4000_top_odd:	lda	BLK_4000_TR_L, y	; 5
 1929    1E:C518  9D 02 02   			sta	VDC_DL, x		; 6
 1930    1E:C51B  B9 00 45   			lda	BLK_4000_TR_H, y	; 5
 1931               0001     		.if	BLKDEF_CHR_FLAG
 1932    1E:C51E  29 F3      			and	#%11110011		; 2
 1933                        		.endif
 1934    1E:C520  1A         			inc	a			; 2
 1935    1E:C521  9D 03 02   			sta	VDC_DH, x		; 6
 1936                        	
 1937    1E:C524  E6 EC      			inc.l	<_bp			; 6
 1938    1E:C526  D0 02      			bne	!+			; 2/4
 1939    1E:C528  E6 ED      			inc.h	<_bp			; 6
 1940                        	
 1941    1E:C52A  C6 00      	!:		dec	<map_count		; 6
 1942    1E:C52C  D0 D1      			bne	!repeat-		; 4
 1943                        	
 1944    1E:C52E  60         	!end:		rts
 1945                        	
 1946                        			; btm horizontal (32+2 rept)
 1947                        			;
 1948                        			; 89 cycles per block * 17 -> 1513 cycles
 1949                        	
 1950    1E:C52F  B2 EC      	!repeat:	lda	[_bp]			; 7
 1951    1E:C531  A8         			tay				; 2
 1952                        	
 1953    1E:C532  B9 00 42   	b4000_btm_even:	lda	BLK_4000_BL_L, y	; 5
 1954    1E:C535  9D 02 02   			sta	VDC_DL, x		; 6
 1955    1E:C538  B9 00 46   			lda	BLK_4000_BL_H, y	; 5
 1956               0001     		.if	BLKDEF_CHR_FLAG
 1957    1E:C53B  29 F3      			and	#%11110011		; 2
 1958                        		.endif
 1959    1E:C53D  1A         			inc	a			; 2
 1960    1E:C53E  9D 03 02   			sta	VDC_DH, x		; 6
 1961                        	
 1962    1E:C541  C6 00      			dec	<map_count		; 6
 1963    1E:C543  F0 19      			beq	!end+			; 2
 1964                        	
 1965    1E:C545  B9 00 43   	b4000_btm_odd:	lda	BLK_4000_BR_L, y	; 5
 1966    1E:C548  9D 02 02   			sta	VDC_DL, x		; 6
 1967    1E:C54B  B9 00 47   			lda	BLK_4000_BR_H, y	; 5
 1968               0001     		.if	BLKDEF_CHR_FLAG
 1969    1E:C54E  29 F3      			and	#%11110011		; 2
 1970                        		.endif
 1971    1E:C550  1A         			inc	a			; 2
 1972    1E:C551  9D 03 02   			sta	VDC_DH, x		; 6
 1973                        	
 1974    1E:C554  E6 EC      			inc.l	<_bp			; 6
 1975    1E:C556  D0 02      			bne	!+			; 2/4
 1976    1E:C558  E6 ED      			inc.h	<_bp			; 6
 1977                        	
 1978    1E:C55A  C6 00      	!:		dec	<map_count		; 6
 1979    1E:C55C  D0 D1      			bne	!repeat-		; 4
 1980                        	
 1981    1E:C55E  60         	!end:		rts
 1982                        	
 1983                        			; top horizontal (32+2 rept)
 1984                        			;
 1985                        			; 89 cycles per block * 17 -> 1513 cycles
 1986                        	
 1987    1E:C55F  B2 EC      	!repeat:	lda	[_bp]			; 7
 1988    1E:C561  A8         			tay				; 2
 1989                        	
 1990    1E:C562  B9 00 48   	b4800_top_even:	lda	BLK_4800_TL_L, y	; 5
 1991    1E:C565  9D 02 02   			sta	VDC_DL, x		; 6
 1992    1E:C568  B9 00 4C   			lda	BLK_4800_TL_H, y	; 5
 1993               0001     		.if	BLKDEF_CHR_FLAG
 1994    1E:C56B  29 F3      			and	#%11110011		; 2
 1995                        		.endif
 1996    1E:C56D  1A         			inc	a			; 2
 1997    1E:C56E  9D 03 02   			sta	VDC_DH, x		; 6
 1998                        	
 1999    1E:C571  C6 00      			dec	<map_count		; 6
 2000    1E:C573  F0 19      			beq	!end+			; 2
 2001                        	
 2002    1E:C575  B9 00 49   	b4800_top_odd:	lda	BLK_4800_TR_L, y	; 5
 2003    1E:C578  9D 02 02   			sta	VDC_DL, x		; 6
 2004    1E:C57B  B9 00 4D   			lda	BLK_4800_TR_H, y	; 5
 2005               0001     		.if	BLKDEF_CHR_FLAG
 2006    1E:C57E  29 F3      			and	#%11110011		; 2
 2007                        		.endif
 2008    1E:C580  1A         			inc	a			; 2
 2009    1E:C581  9D 03 02   			sta	VDC_DH, x		; 6
 2010                        	
 2011    1E:C584  E6 EC      			inc.l	<_bp			; 6
 2012    1E:C586  D0 02      			bne	!+			; 2/4
 2013    1E:C588  E6 ED      			inc.h	<_bp			; 6
 2014                        	
 2015    1E:C58A  C6 00      	!:		dec	<map_count		; 6
 2016    1E:C58C  D0 D1      			bne	!repeat-		; 4
 2017                        	
 2018    1E:C58E  60         	!end:		rts
 2019                        	
 2020                        			; btm horizontal (32+2 rept)
 2021                        			;
 2022                        			; 89 cycles per block * 17 -> 1513 cycles
 2023                        	
 2024    1E:C58F  B2 EC      	!repeat:	lda	[_bp]			; 7
 2025    1E:C591  A8         			tay				; 2
 2026                        	
 2027    1E:C592  B9 00 4A   	b4800_btm_even:	lda	BLK_4800_BL_L, y	; 5
 2028    1E:C595  9D 02 02   			sta	VDC_DL, x		; 6
 2029    1E:C598  B9 00 4E   			lda	BLK_4800_BL_H, y	; 5
 2030               0001     		.if	BLKDEF_CHR_FLAG
 2031    1E:C59B  29 F3      			and	#%11110011		; 2
 2032                        		.endif
 2033    1E:C59D  1A         			inc	a			; 2
 2034    1E:C59E  9D 03 02   			sta	VDC_DH, x		; 6
 2035                        	
 2036    1E:C5A1  C6 00      			dec	<map_count		; 6
 2037    1E:C5A3  F0 19      			beq	!end+			; 2
 2038                        	
 2039    1E:C5A5  B9 00 4B   	b4800_btm_odd:	lda	BLK_4800_BR_L, y	; 5
 2040    1E:C5A8  9D 02 02   			sta	VDC_DL, x		; 6
 2041    1E:C5AB  B9 00 4F   			lda	BLK_4800_BR_H, y	; 5
 2042               0001     		.if	BLKDEF_CHR_FLAG
 2043    1E:C5AE  29 F3      			and	#%11110011		; 2
 2044                        		.endif
 2045    1E:C5B0  1A         			inc	a			; 2
 2046    1E:C5B1  9D 03 02   			sta	VDC_DH, x		; 6
 2047                        	
 2048    1E:C5B4  E6 EC      			inc.l	<_bp			; 6
 2049    1E:C5B6  D0 02      			bne	!+			; 2/4
 2050    1E:C5B8  E6 ED      			inc.h	<_bp			; 6
 2051                        	
 2052    1E:C5BA  C6 00      	!:		dec	<map_count		; 6
 2053    1E:C5BC  D0 D1      			bne	!repeat-		; 4
 2054                        	
 2055    1E:C5BE  60         	!end:		rts
 2056                        	
 2057                        			; top horizontal (32+2 rept)
 2058                        			;
 2059                        			; 89 cycles per block * 17 -> 1513 cycles
 2060                        	
 2061    1E:C5BF  B2 EC      	!repeat:	lda	[_bp]			; 7
 2062    1E:C5C1  A8         			tay				; 2
 2063                        	
 2064    1E:C5C2  B9 00 50   	b5000_top_even:	lda	BLK_5000_TL_L, y	; 5
 2065    1E:C5C5  9D 02 02   			sta	VDC_DL, x		; 6
 2066    1E:C5C8  B9 00 54   			lda	BLK_5000_TL_H, y	; 5
 2067               0001     		.if	BLKDEF_CHR_FLAG
 2068    1E:C5CB  29 F3      			and	#%11110011		; 2
 2069                        		.endif
 2070    1E:C5CD  1A         			inc	a			; 2
 2071    1E:C5CE  9D 03 02   			sta	VDC_DH, x		; 6
 2072                        	
 2073    1E:C5D1  C6 00      			dec	<map_count		; 6
 2074    1E:C5D3  F0 19      			beq	!end+			; 2
 2075                        	
 2076    1E:C5D5  B9 00 51   	b5000_top_odd:	lda	BLK_5000_TR_L, y	; 5
 2077    1E:C5D8  9D 02 02   			sta	VDC_DL, x		; 6
 2078    1E:C5DB  B9 00 55   			lda	BLK_5000_TR_H, y	; 5
 2079               0001     		.if	BLKDEF_CHR_FLAG
 2080    1E:C5DE  29 F3      			and	#%11110011		; 2
 2081                        		.endif
 2082    1E:C5E0  1A         			inc	a			; 2
 2083    1E:C5E1  9D 03 02   			sta	VDC_DH, x		; 6
 2084                        	
 2085    1E:C5E4  E6 EC      			inc.l	<_bp			; 6
 2086    1E:C5E6  D0 02      			bne	!+			; 2/4
 2087    1E:C5E8  E6 ED      			inc.h	<_bp			; 6
 2088                        	
 2089    1E:C5EA  C6 00      	!:		dec	<map_count		; 6
 2090    1E:C5EC  D0 D1      			bne	!repeat-		; 4
 2091                        	
 2092    1E:C5EE  60         	!end:		rts
 2093                        	
 2094                        			; btm horizontal (32+2 rept)
 2095                        			;
 2096                        			; 89 cycles per block * 17 -> 1513 cycles
 2097                        	
 2098    1E:C5EF  B2 EC      	!repeat:	lda	[_bp]			; 7
 2099    1E:C5F1  A8         			tay				; 2
 2100                        	
 2101    1E:C5F2  B9 00 52   	b5000_btm_even:	lda	BLK_5000_BL_L, y	; 5
 2102    1E:C5F5  9D 02 02   			sta	VDC_DL, x		; 6
 2103    1E:C5F8  B9 00 56   			lda	BLK_5000_BL_H, y	; 5
 2104               0001     		.if	BLKDEF_CHR_FLAG
 2105    1E:C5FB  29 F3      			and	#%11110011		; 2
 2106                        		.endif
 2107    1E:C5FD  1A         			inc	a			; 2
 2108    1E:C5FE  9D 03 02   			sta	VDC_DH, x		; 6
 2109                        	
 2110    1E:C601  C6 00      			dec	<map_count		; 6
 2111    1E:C603  F0 19      			beq	!end+			; 2
 2112                        	
 2113    1E:C605  B9 00 53   	b5000_btm_odd:	lda	BLK_5000_BR_L, y	; 5
 2114    1E:C608  9D 02 02   			sta	VDC_DL, x		; 6
 2115    1E:C60B  B9 00 57   			lda	BLK_5000_BR_H, y	; 5
 2116               0001     		.if	BLKDEF_CHR_FLAG
 2117    1E:C60E  29 F3      			and	#%11110011		; 2
 2118                        		.endif
 2119    1E:C610  1A         			inc	a			; 2
 2120    1E:C611  9D 03 02   			sta	VDC_DH, x		; 6
 2121                        	
 2122    1E:C614  E6 EC      			inc.l	<_bp			; 6
 2123    1E:C616  D0 02      			bne	!+			; 2/4
 2124    1E:C618  E6 ED      			inc.h	<_bp			; 6
 2125                        	
 2126    1E:C61A  C6 00      	!:		dec	<map_count		; 6
 2127    1E:C61C  D0 D1      			bne	!repeat-		; 4
 2128                        	
 2129    1E:C61E  60         	!end:		rts
 2130                        	
 2131                        			; top horizontal (32+2 rept)
 2132                        			;
 2133                        			; 89 cycles per block * 17 -> 1513 cycles
 2134                        	
 2135    1E:C61F  B2 EC      	!repeat:	lda	[_bp]			; 7
 2136    1E:C621  A8         			tay				; 2
 2137                        	
 2138    1E:C622  B9 00 58   	b5800_top_even:	lda	BLK_5800_TL_L, y	; 5
 2139    1E:C625  9D 02 02   			sta	VDC_DL, x		; 6
 2140    1E:C628  B9 00 5C   			lda	BLK_5800_TL_H, y	; 5
 2141               0001     		.if	BLKDEF_CHR_FLAG
 2142    1E:C62B  29 F3      			and	#%11110011		; 2
 2143                        		.endif
 2144    1E:C62D  1A         			inc	a			; 2
 2145    1E:C62E  9D 03 02   			sta	VDC_DH, x		; 6
 2146                        	
 2147    1E:C631  C6 00      			dec	<map_count		; 6
 2148    1E:C633  F0 19      			beq	!end+			; 2
 2149                        	
 2150    1E:C635  B9 00 59   	b5800_top_odd:	lda	BLK_5800_TR_L, y	; 5
 2151    1E:C638  9D 02 02   			sta	VDC_DL, x		; 6
 2152    1E:C63B  B9 00 5D   			lda	BLK_5800_TR_H, y	; 5
 2153               0001     		.if	BLKDEF_CHR_FLAG
 2154    1E:C63E  29 F3      			and	#%11110011		; 2
 2155                        		.endif
 2156    1E:C640  1A         			inc	a			; 2
 2157    1E:C641  9D 03 02   			sta	VDC_DH, x		; 6
 2158                        	
 2159    1E:C644  E6 EC      			inc.l	<_bp			; 6
 2160    1E:C646  D0 02      			bne	!+			; 2/4
 2161    1E:C648  E6 ED      			inc.h	<_bp			; 6
 2162                        	
 2163    1E:C64A  C6 00      	!:		dec	<map_count		; 6
 2164    1E:C64C  D0 D1      			bne	!repeat-		; 4
 2165                        	
 2166    1E:C64E  60         	!end:		rts
 2167                        	
 2168                        			; btm horizontal (32+2 rept)
 2169                        			;
 2170                        			; 89 cycles per block * 17 -> 1513 cycles
 2171                        	
 2172    1E:C64F  B2 EC      	!repeat:	lda	[_bp]		; 7
 2173    1E:C651  A8         			tay				; 2
 2174                        	
 2175    1E:C652  B9 00 5A   	b5800_btm_even:	lda	BLK_5800_BL_L, y	; 5
 2176    1E:C655  9D 02 02   			sta	VDC_DL, x		; 6
 2177    1E:C658  B9 00 5E   			lda	BLK_5800_BL_H, y	; 5
 2178               0001     		.if	BLKDEF_CHR_FLAG
 2179    1E:C65B  29 F3      			and	#%11110011		; 2
 2180                        		.endif
 2181    1E:C65D  1A         			inc	a			; 2
 2182    1E:C65E  9D 03 02   			sta	VDC_DH, x		; 6
 2183                        	
 2184    1E:C661  C6 00      			dec	<map_count		; 6
 2185    1E:C663  F0 19      			beq	!end+			; 2
 2186                        	
 2187    1E:C665  B9 00 5B   	b5800_btm_odd:	lda	BLK_5800_BR_L, y	; 5
 2188    1E:C668  9D 02 02   			sta	VDC_DL, x		; 6
 2189    1E:C66B  B9 00 5F   			lda	BLK_5800_BR_H, y	; 5
 2190               0001     		.if	BLKDEF_CHR_FLAG
 2191    1E:C66E  29 F3      			and	#%11110011		; 2
 2192                        		.endif
 2193    1E:C670  1A         			inc	a			; 2
 2194    1E:C671  9D 03 02   			sta	VDC_DH, x		; 6
 2195                        	
 2196    1E:C674  E6 EC      			inc.l	<_bp			; 6
 2197    1E:C676  D0 02      			bne	!+			; 2/4
 2198    1E:C678  E6 ED      			inc.h	<_bp			; 6
 2199                        	
 2200    1E:C67A  C6 00      	!:		dec	<map_count		; 6
 2201    1E:C67C  D0 D1      			bne	!repeat-		; 4
 2202                        	
 2203    1E:C67E  60         	!end:		rts
 2204                        	
 2205                        	
 2206                        	
 2207                        	; ***************************************************************************
 2208                        	; ***************************************************************************
 2209                        	;
 2210                        	; blk_col_strip - Draw a single column of CHR into the BAT.
 2211                        	;
 2212                        	
 2213    1E:C67F  20 48 E4   	blk_col_strip:	jsr	set_di_xy_mawr		; Set the BAT VRAM destination.
 2214                        	
 2215    1E:C682  A5 FC      			lda	<map_chr_x		; Select what drawing code to
 2216    1E:C684  4A         			lsr	a			; use depending upon even/odd
 2217    1E:C685  A5 FE      			lda	<map_chr_y		; CHR coordinates (not BAT to
 2218    1E:C687  29 01      			and	#1			; support unaligned drawing).
 2219    1E:C689  2A         			rol	a
 2220    1E:C68A  0A         			asl	a			; N.B. Always leaves C clear.
 2221    1E:C68B  1D 0D 2C   			ora.h	vdc_blk_addr, x		; What is the BLK data address?
 2222    1E:C68E  29 1E      			and	#%00011110		; $4000, $4800, $5000 or $5800.
 2223    1E:C690  A8         			tay
 2224    1E:C691  B9 9E C6   			lda.h	.jump_table, y		; Push the address of the code.
 2225    1E:C694  48         			pha
 2226    1E:C695  B9 9D C6   			lda.l	.jump_table, y
 2227    1E:C698  48         			pha
 2228                        	
 2229    1E:C699  B2 EC      			lda	[_bp]			; Get the first BLK number.
 2230    1E:C69B  A8         			tay
 2231                        	
 2232    1E:C69C  60         			rts				; Jump to the drawing code.
 2233                        	
 2234    1E:C69D  BF C6      	.jump_table:	dw	b4000_lhs_even - 1
 2235    1E:C69F  F5 C6      			dw	b4000_rhs_even - 1
 2236    1E:C6A1  D2 C6      			dw	b4000_lhs_odd - 1
 2237    1E:C6A3  08 C7      			dw	b4000_rhs_odd - 1
 2238                        	
 2239    1E:C6A5  2B C7      			dw	b4800_lhs_even - 1
 2240    1E:C6A7  61 C7      			dw	b4800_rhs_even - 1
 2241    1E:C6A9  3E C7      			dw	b4800_lhs_odd - 1
 2242    1E:C6AB  74 C7      			dw	b4800_rhs_odd - 1
 2243                        	
 2244    1E:C6AD  97 C7      			dw	b5000_lhs_even - 1
 2245    1E:C6AF  CD C7      			dw	b5000_rhs_even - 1
 2246    1E:C6B1  AA C7      			dw	b5000_lhs_odd - 1
 2247    1E:C6B3  E0 C7      			dw	b5000_rhs_odd - 1
 2248                        	
 2249    1E:C6B5  03 C8      			dw	b5800_lhs_even - 1
 2250    1E:C6B7  39 C8      			dw	b5800_rhs_even - 1
 2251    1E:C6B9  16 C8      			dw	b5800_lhs_odd - 1
 2252    1E:C6BB  4C C8      			dw	b5800_rhs_odd - 1
 2253                        	
 2254                        			; lhs vertical (28+2 rept)
 2255                        			;
 2256                        			; N.B. C is always clear on entry.
 2257                        			;
 2258                        			; 100 cycles per block * 15 -> 1500 cycles
 2259                        	
 2260    1E:C6BD  B2 EC      	!repeat:	lda	[_bp]			; 7
 2261    1E:C6BF  A8         			tay				; 2
 2262                        	
 2263    1E:C6C0  B9 00 40   	b4000_lhs_even:	lda	BLK_4000_TL_L, y	; 5
 2264    1E:C6C3  9D 02 02   			sta	VDC_DL, x		; 6
 2265    1E:C6C6  B9 00 44   			lda	BLK_4000_TL_H, y	; 5
 2266               0001     		.if	BLKDEF_CHR_FLAG
 2267    1E:C6C9  29 F3      			and	#%11110011		; 2
 2268                        		.endif
 2269    1E:C6CB  1A         			inc	a			; 2
 2270    1E:C6CC  9D 03 02   			sta	VDC_DH, x		; 6
 2271                        	
 2272    1E:C6CF  C6 00      			dec	<map_count		; 6
 2273    1E:C6D1  F0 1F      			beq	!end+			; 2
 2274                        	
 2275    1E:C6D3  B9 00 42   	b4000_lhs_odd:	lda	BLK_4000_BL_L, y	; 5
 2276    1E:C6D6  9D 02 02   			sta	VDC_DL, x		; 6
 2277    1E:C6D9  B9 00 46   			lda	BLK_4000_BL_H, y	; 5
 2278               0001     		.if	BLKDEF_CHR_FLAG
 2279    1E:C6DC  29 F3      			and	#%11110011		; 2
 2280                        		.endif
 2281    1E:C6DE  1A         			inc	a			; 2
 2282    1E:C6DF  9D 03 02   			sta	VDC_DH, x		; 6
 2283                        	
 2284    1E:C6E2  BD D2 26   			lda	vdc_map_line_w, x	; 5
 2285    1E:C6E5  65 EC      			adc.l	<_bp			; 4
 2286    1E:C6E7  85 EC      			sta.l	<_bp			; 4
 2287    1E:C6E9  90 03      			bcc	!+			; 2/4
 2288    1E:C6EB  E6 ED      			inc.h	<_bp			; 6
 2289    1E:C6ED  18         			clc				; 2
 2290                        	
 2291    1E:C6EE  C6 00      	!:		dec	<map_count		; 6
 2292    1E:C6F0  D0 CB      			bne	!repeat-		; 4
 2293                        	
 2294    1E:C6F2  60         	!end:		rts
 2295                        	
 2296                        			; rhs vertical (28+2 rept)
 2297                        			;
 2298                        			; N.B. C is always clear on entry.
 2299                        			;
 2300                        			; 100 cycles per block * 15 -> 1500 cycles
 2301                        	
 2302    1E:C6F3  B2 EC      	!repeat:	lda	[_bp]			; 7
 2303    1E:C6F5  A8         			tay				; 2
 2304                        	
 2305    1E:C6F6  B9 00 41   	b4000_rhs_even:	lda	BLK_4000_TR_L, y	; 5
 2306    1E:C6F9  9D 02 02   			sta	VDC_DL, x		; 6
 2307    1E:C6FC  B9 00 45   			lda	BLK_4000_TR_H, y	; 5
 2308               0001     		.if	BLKDEF_CHR_FLAG
 2309    1E:C6FF  29 F3      			and	#%11110011		; 2
 2310                        		.endif
 2311    1E:C701  1A         			inc	a			; 2
 2312    1E:C702  9D 03 02   			sta	VDC_DH, x		; 6
 2313                        	
 2314    1E:C705  C6 00      			dec	<map_count		; 6
 2315    1E:C707  F0 1F      			beq	!end+			; 2
 2316                        	
 2317    1E:C709  B9 00 43   	b4000_rhs_odd:	lda	BLK_4000_BR_L, y	; 5
 2318    1E:C70C  9D 02 02   			sta	VDC_DL, x		; 6
 2319    1E:C70F  B9 00 47   			lda	BLK_4000_BR_H, y	; 5
 2320               0001     		.if	BLKDEF_CHR_FLAG
 2321    1E:C712  29 F3      			and	#%11110011		; 2
 2322                        		.endif
 2323    1E:C714  1A         			inc	a			; 2
 2324    1E:C715  9D 03 02   			sta	VDC_DH, x		; 6
 2325                        	
 2326    1E:C718  BD D2 26   			lda	vdc_map_line_w, x	; 5
 2327    1E:C71B  65 EC      			adc.l	<_bp			; 4
 2328    1E:C71D  85 EC      			sta.l	<_bp			; 4
 2329    1E:C71F  90 03      			bcc	!+			; 2/4
 2330    1E:C721  E6 ED      			inc.h	<_bp			; 6
 2331    1E:C723  18         			clc				; 2
 2332                        	
 2333    1E:C724  C6 00      	!:		dec	<map_count		; 6
 2334    1E:C726  D0 CB      			bne	!repeat-		; 4
 2335                        	
 2336    1E:C728  60         	!end:		rts
 2337                        	
 2338                        			; lhs vertical (28+2 rept)
 2339                        			;
 2340                        			; N.B. C is always clear on entry.
 2341                        			;
 2342                        			; 100 cycles per block * 15 -> 1500 cycles
 2343                        	
 2344    1E:C729  B2 EC      	!repeat:	lda	[_bp]			; 7
 2345    1E:C72B  A8         			tay				; 2
 2346                        	
 2347    1E:C72C  B9 00 48   	b4800_lhs_even:	lda	BLK_4800_TL_L, y	; 5
 2348    1E:C72F  9D 02 02   			sta	VDC_DL, x		; 6
 2349    1E:C732  B9 00 4C   			lda	BLK_4800_TL_H, y	; 5
 2350               0001     		.if	BLKDEF_CHR_FLAG
 2351    1E:C735  29 F3      			and	#%11110011		; 2
 2352                        		.endif
 2353    1E:C737  1A         			inc	a			; 2
 2354    1E:C738  9D 03 02   			sta	VDC_DH, x		; 6
 2355                        	
 2356    1E:C73B  C6 00      			dec	<map_count		; 6
 2357    1E:C73D  F0 1F      			beq	!end+			; 2
 2358                        	
 2359    1E:C73F  B9 00 4A   	b4800_lhs_odd:	lda	BLK_4800_BL_L, y	; 5
 2360    1E:C742  9D 02 02   			sta	VDC_DL, x		; 6
 2361    1E:C745  B9 00 4E   			lda	BLK_4800_BL_H, y	; 5
 2362               0001     		.if	BLKDEF_CHR_FLAG
 2363    1E:C748  29 F3      			and	#%11110011		; 2
 2364                        		.endif
 2365    1E:C74A  1A         			inc	a			; 2
 2366    1E:C74B  9D 03 02   			sta	VDC_DH, x		; 6
 2367                        	
 2368    1E:C74E  BD D2 26   			lda	vdc_map_line_w, x	; 5
 2369    1E:C751  65 EC      			adc.l	<_bp			; 4
 2370    1E:C753  85 EC      			sta.l	<_bp			; 4
 2371    1E:C755  90 03      			bcc	!+			; 2/4
 2372    1E:C757  E6 ED      			inc.h	<_bp			; 6
 2373    1E:C759  18         			clc				; 2
 2374                        	
 2375    1E:C75A  C6 00      	!:		dec	<map_count		; 6
 2376    1E:C75C  D0 CB      			bne	!repeat-		; 4
 2377                        	
 2378    1E:C75E  60         	!end:		rts
 2379                        	
 2380                        			; rhs vertical (28+2 rept)
 2381                        			;
 2382                        			; N.B. C is always clear on entry.
 2383                        			;
 2384                        			; 100 cycles per block * 15 -> 1500 cycles
 2385                        	
 2386    1E:C75F  B2 EC      	!repeat:	lda	[_bp]			; 7
 2387    1E:C761  A8         			tay				; 2
 2388                        	
 2389    1E:C762  B9 00 49   	b4800_rhs_even:	lda	BLK_4800_TR_L, y	; 5
 2390    1E:C765  9D 02 02   			sta	VDC_DL, x		; 6
 2391    1E:C768  B9 00 4D   			lda	BLK_4800_TR_H, y	; 5
 2392               0001     		.if	BLKDEF_CHR_FLAG
 2393    1E:C76B  29 F3      			and	#%11110011		; 2
 2394                        		.endif
 2395    1E:C76D  1A         			inc	a			; 2
 2396    1E:C76E  9D 03 02   			sta	VDC_DH, x		; 6
 2397                        	
 2398    1E:C771  C6 00      			dec	<map_count		; 6
 2399    1E:C773  F0 1F      			beq	!end+			; 2
 2400                        	
 2401    1E:C775  B9 00 4B   	b4800_rhs_odd:	lda	BLK_4800_BR_L, y	; 5
 2402    1E:C778  9D 02 02   			sta	VDC_DL, x		; 6
 2403    1E:C77B  B9 00 4F   			lda	BLK_4800_BR_H, y	; 5
 2404               0001     		.if	BLKDEF_CHR_FLAG
 2405    1E:C77E  29 F3      			and	#%11110011		; 2
 2406                        		.endif
 2407    1E:C780  1A         			inc	a			; 2
 2408    1E:C781  9D 03 02   			sta	VDC_DH, x		; 6
 2409                        	
 2410    1E:C784  BD D2 26   			lda	vdc_map_line_w, x	; 5
 2411    1E:C787  65 EC      			adc.l	<_bp			; 4
 2412    1E:C789  85 EC      			sta.l	<_bp			; 4
 2413    1E:C78B  90 03      			bcc	!+			; 2/4
 2414    1E:C78D  E6 ED      			inc.h	<_bp			; 6
 2415    1E:C78F  18         			clc				; 2
 2416                        	
 2417    1E:C790  C6 00      	!:		dec	<map_count		; 6
 2418    1E:C792  D0 CB      			bne	!repeat-		; 4
 2419                        	
 2420    1E:C794  60         	!end:		rts
 2421                        	
 2422                        			; lhs vertical (28+2 rept)
 2423                        			;
 2424                        			; N.B. C is always clear on entry.
 2425                        			;
 2426                        			; 100 cycles per block * 15 -> 1500 cycles
 2427                        	
 2428    1E:C795  B2 EC      	!repeat:	lda	[_bp]			; 7
 2429    1E:C797  A8         			tay				; 2
 2430                        	
 2431    1E:C798  B9 00 50   	b5000_lhs_even:	lda	BLK_5000_TL_L, y	; 5
 2432    1E:C79B  9D 02 02   			sta	VDC_DL, x		; 6
 2433    1E:C79E  B9 00 54   			lda	BLK_5000_TL_H, y	; 5
 2434               0001     		.if	BLKDEF_CHR_FLAG
 2435    1E:C7A1  29 F3      			and	#%11110011		; 2
 2436                        		.endif
 2437    1E:C7A3  1A         			inc	a			; 2
 2438    1E:C7A4  9D 03 02   			sta	VDC_DH, x		; 6
 2439                        	
 2440    1E:C7A7  C6 00      			dec	<map_count		; 6
 2441    1E:C7A9  F0 1F      			beq	!end+			; 2
 2442                        	
 2443    1E:C7AB  B9 00 52   	b5000_lhs_odd:	lda	BLK_5000_BL_L, y	; 5
 2444    1E:C7AE  9D 02 02   			sta	VDC_DL, x		; 6
 2445    1E:C7B1  B9 00 56   			lda	BLK_5000_BL_H, y	; 5
 2446               0001     		.if	BLKDEF_CHR_FLAG
 2447    1E:C7B4  29 F3      			and	#%11110011		; 2
 2448                        		.endif
 2449    1E:C7B6  1A         			inc	a			; 2
 2450    1E:C7B7  9D 03 02   			sta	VDC_DH, x		; 6
 2451                        	
 2452    1E:C7BA  BD D2 26   			lda	vdc_map_line_w, x	; 5
 2453    1E:C7BD  65 EC      			adc.l	<_bp			; 4
 2454    1E:C7BF  85 EC      			sta.l	<_bp			; 4
 2455    1E:C7C1  90 03      			bcc	!+			; 2/4
 2456    1E:C7C3  E6 ED      			inc.h	<_bp			; 6
 2457    1E:C7C5  18         			clc				; 2
 2458                        	
 2459    1E:C7C6  C6 00      	!:		dec	<map_count		; 6
 2460    1E:C7C8  D0 CB      			bne	!repeat-		; 4
 2461                        	
 2462    1E:C7CA  60         	!end:		rts
 2463                        	
 2464                        			; rhs vertical (28+2 rept)
 2465                        			;
 2466                        			; N.B. C is always clear on entry.
 2467                        			;
 2468                        			; 100 cycles per block * 15 -> 1500 cycles
 2469                        	
 2470    1E:C7CB  B2 EC      	!repeat:	lda	[_bp]			; 7
 2471    1E:C7CD  A8         			tay				; 2
 2472                        	
 2473    1E:C7CE  B9 00 51   	b5000_rhs_even:	lda	BLK_5000_TR_L, y	; 5
 2474    1E:C7D1  9D 02 02   			sta	VDC_DL, x		; 6
 2475    1E:C7D4  B9 00 55   			lda	BLK_5000_TR_H, y	; 5
 2476               0001     		.if	BLKDEF_CHR_FLAG
 2477    1E:C7D7  29 F3      			and	#%11110011		; 2
 2478                        		.endif
 2479    1E:C7D9  1A         			inc	a			; 2
 2480    1E:C7DA  9D 03 02   			sta	VDC_DH, x		; 6
 2481                        	
 2482    1E:C7DD  C6 00      			dec	<map_count		; 6
 2483    1E:C7DF  F0 1F      			beq	!end+			; 2
 2484                        	
 2485    1E:C7E1  B9 00 53   	b5000_rhs_odd:	lda	BLK_5000_BR_L, y	; 5
 2486    1E:C7E4  9D 02 02   			sta	VDC_DL, x		; 6
 2487    1E:C7E7  B9 00 57   			lda	BLK_5000_BR_H, y	; 5
 2488               0001     		.if	BLKDEF_CHR_FLAG
 2489    1E:C7EA  29 F3      			and	#%11110011		; 2
 2490                        		.endif
 2491    1E:C7EC  1A         			inc	a			; 2
 2492    1E:C7ED  9D 03 02   			sta	VDC_DH, x		; 6
 2493                        	
 2494    1E:C7F0  BD D2 26   			lda	vdc_map_line_w, x	; 5
 2495    1E:C7F3  65 EC      			adc.l	<_bp			; 4
 2496    1E:C7F5  85 EC      			sta.l	<_bp			; 4
 2497    1E:C7F7  90 03      			bcc	!+			; 2/4
 2498    1E:C7F9  E6 ED      			inc.h	<_bp			; 6
 2499    1E:C7FB  18         			clc				; 2
 2500                        	
 2501    1E:C7FC  C6 00      	!:		dec	<map_count		; 6
 2502    1E:C7FE  D0 CB      			bne	!repeat-		; 4
 2503                        	
 2504    1E:C800  60         	!end:		rts
 2505                        	
 2506                        			; lhs vertical (28+2 rept)
 2507                        			;
 2508                        			; N.B. C is always clear on entry.
 2509                        			;
 2510                        			; 100 cycles per block * 15 -> 1500 cycles
 2511                        	
 2512    1E:C801  B2 EC      	!repeat:	lda	[_bp]			; 7
 2513    1E:C803  A8         			tay				; 2
 2514                        	
 2515    1E:C804  B9 00 58   	b5800_lhs_even:	lda	BLK_5800_TL_L, y	; 5
 2516    1E:C807  9D 02 02   			sta	VDC_DL, x		; 6
 2517    1E:C80A  B9 00 5C   			lda	BLK_5800_TL_H, y	; 5
 2518               0001     		.if	BLKDEF_CHR_FLAG
 2519    1E:C80D  29 F3      			and	#%11110011		; 2
 2520                        		.endif
 2521    1E:C80F  1A         			inc	a			; 2
 2522    1E:C810  9D 03 02   			sta	VDC_DH, x		; 6
 2523                        	
 2524    1E:C813  C6 00      			dec	<map_count		; 6
 2525    1E:C815  F0 1F      			beq	!end+			; 2
 2526                        	
 2527    1E:C817  B9 00 5A   	b5800_lhs_odd:	lda	BLK_5800_BL_L, y	; 5
 2528    1E:C81A  9D 02 02   			sta	VDC_DL, x		; 6
 2529    1E:C81D  B9 00 5E   			lda	BLK_5800_BL_H, y	; 5
 2530               0001     		.if	BLKDEF_CHR_FLAG
 2531    1E:C820  29 F3      			and	#%11110011		; 2
 2532                        		.endif
 2533    1E:C822  1A         			inc	a			; 2
 2534    1E:C823  9D 03 02   			sta	VDC_DH, x		; 6
 2535                        	
 2536    1E:C826  BD D2 26   			lda	vdc_map_line_w, x	; 5
 2537    1E:C829  65 EC      			adc.l	<_bp			; 4
 2538    1E:C82B  85 EC      			sta.l	<_bp			; 4
 2539    1E:C82D  90 03      			bcc	!+			; 2/4
 2540    1E:C82F  E6 ED      			inc.h	<_bp			; 6
 2541    1E:C831  18         			clc				; 2
 2542                        	
 2543    1E:C832  C6 00      	!:		dec	<map_count		; 6
 2544    1E:C834  D0 CB      			bne	!repeat-		; 4
 2545                        	
 2546    1E:C836  60         	!end:		rts
 2547                        	
 2548                        			; rhs vertical (28+2 rept)
 2549                        			;
 2550                        			; N.B. C is always clear on entry.
 2551                        			;
 2552                        			; 100 cycles per block * 15 -> 1500 cycles
 2553                        	
 2554    1E:C837  B2 EC      	!repeat:	lda	[_bp]			; 7
 2555    1E:C839  A8         			tay				; 2
 2556                        	
 2557    1E:C83A  B9 00 59   	b5800_rhs_even:	lda	BLK_5800_TR_L, y	; 5
 2558    1E:C83D  9D 02 02   			sta	VDC_DL, x		; 6
 2559    1E:C840  B9 00 5D   			lda	BLK_5800_TR_H, y	; 5
 2560               0001     		.if	BLKDEF_CHR_FLAG
 2561    1E:C843  29 F3      			and	#%11110011		; 2
 2562                        		.endif
 2563    1E:C845  1A         			inc	a			; 2
 2564    1E:C846  9D 03 02   			sta	VDC_DH, x		; 6
 2565                        	
 2566    1E:C849  C6 00      			dec	<map_count		; 6
 2567    1E:C84B  F0 1F      			beq	!end+			; 2
 2568                        	
 2569    1E:C84D  B9 00 5B   	b5800_rhs_odd:	lda	BLK_5800_BR_L, y	; 5
 2570    1E:C850  9D 02 02   			sta	VDC_DL, x		; 6
 2571    1E:C853  B9 00 5F   			lda	BLK_5800_BR_H, y	; 5
 2572               0001     		.if	BLKDEF_CHR_FLAG
 2573    1E:C856  29 F3      			and	#%11110011		; 2
 2574                        		.endif
 2575    1E:C858  1A         			inc	a			; 2
 2576    1E:C859  9D 03 02   			sta	VDC_DH, x		; 6
 2577                        	
 2578    1E:C85C  BD D2 26   			lda	vdc_map_line_w, x	; 5
 2579    1E:C85F  65 EC      			adc.l	<_bp			; 4
 2580    1E:C861  85 EC      			sta.l	<_bp			; 4
 2581    1E:C863  90 03      			bcc	!+			; 2/4
 2582    1E:C865  E6 ED      			inc.h	<_bp			; 6
 2583    1E:C867  18         			clc				; 2
 2584                        	
 2585    1E:C868  C6 00      	!:		dec	<map_count		; 6
 2586    1E:C86A  D0 CB      			bne	!repeat-		; 4
 2587                        	
 2588    1E:C86C  60         	!end:		rts
 2589                        	
 2590                        		.endif	BLKDEF_POINTERS
 2591                        	
 2592                        		.endprocgroup	; blkmap_group
                             #[2]   "..\..\..\include\hucc\hucc-final.asm"
   77                        		.else
   81                        		.endif	HUCC_USES_BLKMAP
   82                        	
   83               0001     		.ifdef	HUCC_USES_CHRMAP		; Set in hucc_chrmap.h
                             #[3]   "..\..\..\include\hucc\chrmap.asm"
   84                        			include	"chrmap.asm"
    1                        	; ***************************************************************************
    2                        	; ***************************************************************************
    3                        	;
    4                        	; chrmap.asm
    5                        	;
    6                        	; A simple map system based on 8x8 characters (aka "tiles") in BAT format.
    7                        	;
    8                        	; Copyright John Brandwood 2025.
    9                        	;
   10                        	; Distributed under the Boost Software License, Version 1.0.
   11                        	; (See accompanying file LICENSE_1_0.txt or copy at
   12                        	;  http://www.boost.org/LICENSE_1_0.txt)
   13                        	;
   14                        	; ***************************************************************************
   15                        	; ***************************************************************************
   16                        	;
   17                        	; The maximum X and Y size for chrmaps is 256 characters (2048 pixels).
   18                        	;
   19                        	; The maximum total size for a chrmap is 16KBytes, which allows for maps up
   20                        	; to 256x32 tiles (2048x256 pixels).
   21                        	;
   22                        	; ***************************************************************************
   23                        	; ***************************************************************************
   24                        	
   25                        	;
   26                        	; Include dependancies ...
   27                        	;
   28                        	
   29                        			include "blkmap.asm"		; This defines the variables.
   30                        	
   31                        	;
   32                        	; Chrmaps in BAT format normally address all of VRAM from $0400..$7FFF, but
   33                        	; they can be limited to use the 32KByte of characters in VRAM $1000..$4FFF
   34                        	; which then frees up 2-bits for flag information for each character in the
   35                        	; BAT entry.
   36                        	;
   37                        	; These 2-bits are perfect for using as collision information in game maps,
   38                        	; allowing storage of states like transparent, solid, up-slope, down-slope.
   39                        	;
   40                        	; Typically this flag information is set by the map conversion tools from a
   41                        	; seperate "collision" map layer.
   42                        	;
   43                        	
   44               0000     		.ifndef	CHRMAP_BAT_FLAG
   46                        		.endif
   47                        	
   48                        	;
   49                        	;
   50                        	;
   51                        	
   52                        	
   53                        	
   54    1E:DCAB             	chrmap_group	.procgroup
   55                        	
   56                        	; ***************************************************************************
   57                        	; ***************************************************************************
   58                        	;
   59                        	; _draw_bat - Draw the entire screen at the current coordinates.
   60                        	; _sgx_draw_bat - Draw the entire screen at the current coordinates.
   61                        	;
   62                        	; void __fastcall draw_bat( void );
   63                        	; void __fastcall sgx_draw_bat( void );
   64                        	;
   65                        	
   66               0001     		.if	SUPPORT_SGX
   67                        	
   68                        	_sgx_draw_bat	.proc
   74                        			.endp
   75                        		.endif
   76                        	
   77    1E:DCAB             	_draw_bat	.proc
   78                        	
   79    1E:DCAB  82         			clx				; Offset to PCE VDC.
   80                        	
   81    1E:DCAC  43 08      			tma3				; Preserve MPR3..MPR5.
   82    1E:DCAE  48         			pha
   83    1E:DCAF  43 10      			tma4
   84    1E:DCB1  48         			pha
   85    1E:DCB2  43 20      			tma5
   86    1E:DCB4  48         			pha
   87                        	
   88    1E:DCB5  20 58 DD   			jsr	bat_pxl_2_chr		; Set up the draw coordinates.
   89                        	
   90    1E:DCB8  A5 FC      			lda	<map_chr_x		; Reset previous X position.
   91    1E:DCBA  9D 07 2C   			sta	vdc_old_chr_x, x
   92                        	
   93    1E:DCBD  A5 FE      			lda	<map_chr_y		; Reset previous Y position,
   94    1E:DCBF  1A         			inc	a			; ready to draw rows upwards.
   95    1E:DCC0  9D 08 2C   			sta	vdc_old_chr_y, x
   96                        	
   97    1E:DCC3  BD D0 26   			lda	vdc_map_draw_w, x	; Draw the whole screen.
   98    1E:DCC6  85 FA      			sta	<map_draw_w
   99    1E:DCC8  BD D1 26   			lda	vdc_map_draw_h, x
  100    1E:DCCB  85 FB      			sta	<map_draw_h
  101                        	
  102    1E:DCCD  20 3B DE   			jsr	bat_scroll_y		; Draw N row of CHR to the BAT.
  103                        	
  104    1E:DCD0  68         			pla				; Restore MPR3..MPR5.
  105    1E:DCD1  53 20      			tam5
  106    1E:DCD3  68         			pla
  107    1E:DCD4  53 10      			tam4
  108    1E:DCD6  68         			pla
  109    1E:DCD7  53 08      			tam3
  110                        	
  111                        			leave
         1E:DCD9  4C EF FF   			jmp	leave_proc
  112                        	
  113                        			.endp
  114                        	
  115                        	
  116                        	
  117                        	; ***************************************************************************
  118                        	; ***************************************************************************
  119                        	;
  120                        	; _scroll_bat - Draw a single row of CHR into the BAT to update the edge.
  121                        	; _sgx_scroll_bat - Draw a single row of CHR into the BAT to update the edge.
  122                        	;
  123                        	; void __fastcall scroll_bat( void );
  124                        	; void __fastcall sgx_scroll_bat( void );
  125                        	;
  126                        	
  127               0001     		.if	SUPPORT_SGX
  128                        	
  129                        	_sgx_scroll_bat	.proc
  135                        			.endp
  136                        		.endif
  137                        	
  138    1E:DCDC             	_scroll_bat	.proc
  139                        	
  140    1E:DCDC  82         			clx				; Offset to PCE VDC.
  141                        	
  142    1E:DCDD  43 08      			tma3				; Preserve MPR3..MPR5.
  143    1E:DCDF  48         			pha
  144    1E:DCE0  43 10      			tma4
  145    1E:DCE2  48         			pha
  146    1E:DCE3  43 20      			tma5
  147    1E:DCE5  48         			pha
  148                        	
  149    1E:DCE6  20 58 DD   			jsr	bat_pxl_2_chr		; Set up the draw coordinates.
  150                        	
  151    1E:DCE9  BD D1 26   			lda	vdc_map_draw_h, x	; Draw new LHS or RHS if needed.
  152    1E:DCEC  85 FB      			sta	<map_draw_h
  153                        	;		lda	#1			; bat_scroll_x only ever draws a
  154                        	;		sta	<map_draw_w		; single column.
  155    1E:DCEE  20 7C DD   			jsr	bat_scroll_x
  156                        	
  157    1E:DCF1  BD 07 2C   			lda	vdc_old_chr_x, x	; Restore map_chr_x which could
  158    1E:DCF4  85 FC      			sta	<map_chr_x		; be changed by bat_scroll_x.
  159                        	
  160    1E:DCF6  BD D0 26   			lda	vdc_map_draw_w, x	; Draw new TOP or BTM if needed.
  161    1E:DCF9  85 FA      			sta	<map_draw_w
  162    1E:DCFB  A9 01      			lda	#1
  163    1E:DCFD  85 FB      			sta	<map_draw_h
  164    1E:DCFF  20 3B DE   			jsr	bat_scroll_y
  165                        	
  166    1E:DD02  68         			pla				; Restore MPR3..MPR5.
  167    1E:DD03  53 20      			tam5
  168    1E:DD05  68         			pla
  169    1E:DD06  53 10      			tam4
  170    1E:DD08  68         			pla
  171    1E:DD09  53 08      			tam3
  172                        	
  173                        			leave
         1E:DD0B  4C EF FF   			jmp	leave_proc
  174                        	
  175                        			.endp
  176                        	
  177                        	
  178                        	
  179                        	; ***************************************************************************
  180                        	; ***************************************************************************
  181                        	;
  182                        	; _blit_bat - Draw a map rectangle to specific BAT coordinates.
  183                        	; _sgx_blit_bat - Draw a map rectangle to specific BAT coordinates.
  184                        	;
  185                        	; void __fastcall blit_bat( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
  186                        	; void __fastcall sgx_blit_bat( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
  187                        	;
  188                        	; Normally you'd just use _draw_bat() and _scroll_bat(), but for those folks
  189                        	; who really wish to take manual control, you can use this.
  190                        	;
  191                        	
  192               0001     		.if	SUPPORT_SGX
  193                        	
  194                        	_sgx_blit_bat	.proc
  200                        			.endp
  201                        		.endif
  202                        	
  203    1E:DD0E             	_blit_bat	.proc
  204                        	
  205    1E:DD0E  82         			clx				; Offset to PCE VDC.
  206                        	
  207    1E:DD0F  43 08      			tma3				; Preserve MPR3..MPR5.
  208    1E:DD11  48         			pha
  209    1E:DD12  43 10      			tma4
  210    1E:DD14  48         			pha
  211    1E:DD15  43 20      			tma5
  212    1E:DD17  48         			pha
  213                        	
  214    1E:DD18  BD D8 26   			lda	vdc_map_option, x	; Preserve current map options.
  215    1E:DD1B  48         			pha
  216    1E:DD1C  09 C0      			ora	#MAP_UNALIGNED_X | MAP_UNALIGNED_Y
  217    1E:DD1E  9D D8 26   			sta	vdc_map_option, x
  218                        	
  219    1E:DD21  20 58 DD   			jsr	bat_pxl_2_chr		; Set up the draw coordinates.
  220                        	
  221    1E:DD24  A5 FA      			lda	<map_draw_w		; Are we drawing just 1 column?
  222    1E:DD26  C9 01      			cmp	#1
  223    1E:DD28  F0 1E      			beq	.draw_column
  224                        	
  225                        			; Draw N rows.
  226                        	
  227    1E:DD2A  A5 FC      	.draw_rows:	lda	<map_chr_x		; Reset previous X position.
  228    1E:DD2C  9D 07 2C   			sta	vdc_old_chr_x, x
  229                        	
  230    1E:DD2F  A5 FE      			lda	<map_chr_y		; Reset previous Y position,
  231    1E:DD31  1A         			inc	a			; ready to draw rows upwards.
  232    1E:DD32  9D 08 2C   			sta	vdc_old_chr_y, x
  233                        	
  234    1E:DD35  20 3B DE   			jsr	bat_scroll_y		; Draw a row of CHR to the BAT.
  235                        	
  236                        			; Drawing completed.
  237                        	
  238    1E:DD38  68         	.finished:	pla				; Restore previous map options.
  239    1E:DD39  9D D8 26   			sta	vdc_map_option, x
  240                        	
  241    1E:DD3C  68         			pla				; Restore MPR3..MPR5.
  242    1E:DD3D  53 20      			tam5
  243    1E:DD3F  68         			pla
  244    1E:DD40  53 10      			tam4
  245    1E:DD42  68         			pla
  246    1E:DD43  53 08      			tam3
  247                        	
  248                        	.exit:		leave
         1E:DD45  4C EF FF   			jmp	leave_proc
  249                        	
  250                        			; Draw 1 column.
  251                        	
  252    1E:DD48  A5 FC      	.draw_column:	lda	<map_chr_x		; Reset previous X position.
  253    1E:DD4A  1A         			inc	a			; ready to draw 1 column.
  254    1E:DD4B  9D 07 2C   			sta	vdc_old_chr_x, x
  255                        	
  256    1E:DD4E  A5 FE      			lda	<map_chr_y		; Reset previous Y position.
  257    1E:DD50  9D 08 2C   			sta	vdc_old_chr_y, x
  258                        	
  259    1E:DD53  20 7C DD   			jsr	bat_scroll_x		; Draw a single column of CHR.
  260                        	
  261    1E:DD56  80 E0      			bra	.finished
  262                        	
  263                        			.endp
  264                        	
  265                        	
  266                        	
  267                        	; ***************************************************************************
  268                        	; ***************************************************************************
  269                        	;
  270                        	
  271    1E:DD58  BD D4 26   	bat_pxl_2_chr:	lda.l	vdc_map_pxl_x, x	; Get current map X coordinate.
  272    1E:DD5B  85 FC      			sta.l	<map_pxl_x
  273    1E:DD5D  BD D5 26   			lda.h	vdc_map_pxl_x, x	; Xvert map_pxl_x to map_chr_x.
  274    1E:DD60  4A         			lsr	a
  275    1E:DD61  66 FC      			ror.l	<map_pxl_x
  276    1E:DD63  4A         			lsr	a
  277    1E:DD64  66 FC      			ror.l	<map_pxl_x
  278    1E:DD66  4A         			lsr	a
  279    1E:DD67  66 FC      			ror.l	<map_pxl_x		; Max map width is 256 CHR.
  280                        	
  281    1E:DD69  BD D6 26   			lda.l	vdc_map_pxl_y, x	; Get current map Y coordinate.
  282    1E:DD6C  85 FE      			sta.l	<map_pxl_y
  283    1E:DD6E  BD D7 26   			lda.h	vdc_map_pxl_y, x	; Xvert map_pxl_y to map_chr_y.
  284    1E:DD71  4A         			lsr	a
  285    1E:DD72  66 FE      			ror.l	<map_pxl_y
  286    1E:DD74  4A         			lsr	a
  287    1E:DD75  66 FE      			ror.l	<map_pxl_y
  288    1E:DD77  4A         			lsr	a
  289    1E:DD78  66 FE      			ror.l	<map_pxl_y		; Max map width is 256 CHR.
  290                        	
  291    1E:DD7A  60         			rts
  292                        	
  293                        	
  294                        	
  295                        	; ***************************************************************************
  296                        	; ***************************************************************************
  297                        	;
  298                        	; bat_scroll_x - Update the BAT when X coordinate changes.
  299                        	;
  300                        	; N.B. This only ever draws a single column!
  301                        	;
  302                        	
  303    1E:DD7B  60         	!no_change:	rts
  304                        	
  305    1E:DD7C  A5 FC      	bat_scroll_x:	lda	<map_chr_x		; Compare old_x with cur_x.
  306    1E:DD7E  DD 07 2C   			cmp	vdc_old_chr_x, x
  307    1E:DD81  F0 F8      			beq	!no_change-		; Do nothing if no change.
  308    1E:DD83  9D 07 2C   			sta	vdc_old_chr_x, x
  309    1E:DD86  30 05      			bmi	.moved			; Test the sign of the change.
  310                        	
  311    1E:DD88  18         			clc				; Draw RHS if chr_x >= old_x.
  312    1E:DD89  7D D0 26   			adc	vdc_map_draw_w, x	; Usually (SCR_WIDTH / 8) + 1.
  313    1E:DD8C  3A         			dec	a
  314                        	
  315    1E:DD8D  48         	.moved:		pha				; Push chr_x in map section.
  316                        	
  317    1E:DD8E  3C D8 26   			bit	vdc_map_option, x	; Set bit7 to disable aligning
  318    1E:DD91  30 05      			bmi	!+			; BAT X with the map X.
  319    1E:DD93  3D CD 26   			and	vdc_bat_x_mask, x
  320    1E:DD96  85 F8      			sta	<map_bat_x		; Save BAT X chr coordinate.
  321                        	
  322    1E:DD98  A5 FE      	!:		lda	<map_chr_y		; Y = chr_y in map section.
  323    1E:DD9A  A8         			tay
  324                        	
  325    1E:DD9B  3C D8 26   			bit	vdc_map_option, x	; Set bit6 to disable aligning
  326    1E:DD9E  70 05      			bvs	!+			; BAT Y with the map Y.
  327    1E:DDA0  3D CE 26   			and	vdc_bat_y_mask, x
  328    1E:DDA3  85 F9      			sta	<map_bat_y		; Save BAT Y chr coordinate.
  329                        	
  330               0000     		.if	FAST_MULTIPLY
  333                        		.endif
  334                        	
  335    1E:DDA5  BD D2 26   	!:		lda	vdc_map_line_w, x	; Map width in CHR (0 == 256).
  336    1E:DDA8  D0 05      			bne	!+
  337                        	
  338    1E:DDAA  64 EE      			stz.l	<map_line		; Multiply by 256 is easy!
  339    1E:DDAC  98         			tya
  340    1E:DDAD  80 15      			bra	.double
  341                        	
  342               0000     		.if	FAST_MULTIPLY
  354                        		.else
  355    1E:DDAF  84 EF      	!:		sty.h	<map_line		; Takes 144..176 cycles.
  356    1E:DDB1  A0 08      			ldy	#8
  357    1E:DDB3  4A         			lsr	a
  358    1E:DDB4  85 EE      			sta.l	<map_line
  359    1E:DDB6  62         			cla
  360    1E:DDB7  90 03      			bcc	.rotate
  361    1E:DDB9  18         	.add:		clc
  362    1E:DDBA  65 EF      			adc.h	<map_line
  363    1E:DDBC  6A         	.rotate:	ror	a
  364    1E:DDBD  66 EE      			ror.l	<map_line		; Lo-byte of (CHR Y * width).
  365    1E:DDBF  88         			dey
  366    1E:DDC0  B0 F7      			bcs	.add
  367    1E:DDC2  D0 F8      			bne	.rotate
  368                        		.endif
  369                        	
  370    1E:DDC4  06 EE      	.double:	asl.l	<map_line		; Lo-byte of (CHR Y * width * 2).
  371    1E:DDC6  2A         			rol	a
  372    1E:DDC7  A8         			tay				; Hi-byte of (CHR Y * width * 2).
  373                        	
  374    1E:DDC8  BD 11 2C   			lda	vdc_map_bank, x		; Put the MAP into MPR3-MPR5.
  375    1E:DDCB  53 08      			tam3				; Allow for 16KByte chrmap.
  376    1E:DDCD  1A         			inc	a
  377    1E:DDCE  53 10      			tam4
  378    1E:DDD0  1A         			inc	a
  379    1E:DDD1  53 20      			tam5
  380                        	
  381    1E:DDD3  68         			pla				; Pop chr_x in map section.
  382    1E:DDD4  0A         			asl	a			; 2-bytes for a BAT value.
  383    1E:DDD5  90 02      			bcc	!+
  384    1E:DDD7  C8         			iny				; Hi-byte of (CHR Y * width * 2).
  385    1E:DDD8  18         			clc
  386    1E:DDD9  65 EE      	!:		adc.l	<map_line		; Lo-byte of (CHR Y * width * 2).
  387    1E:DDDB  90 01      			bcc	!+
  388    1E:DDDD  C8         			iny
  389                        	
  390    1E:DDDE  18         	!:		clc				; Calc map data pointer.
  391    1E:DDDF  7D 0F 2C   			adc.l	vdc_map_addr, x
  392    1E:DDE2  85 EC      			sta.l	<_bp			; Maximum map size is 16KBytes
  393    1E:DDE4  98         			tya				; so we don't need to consider
  394    1E:DDE5  7D 10 2C   			adc.h	vdc_map_addr, x		; bank overflow.
  395    1E:DDE8  85 ED      			sta.h	<_bp
  396                        	
  397    1E:DDEA  C2         			cly				; Calculate the map line delta
  398    1E:DDEB  BD D2 26   			lda	vdc_map_line_w, x	; in bytes.
  399    1E:DDEE  D0 01      			bne	!+
  400    1E:DDF0  C8         			iny
  401    1E:DDF1  0A         	!:		asl	a
  402    1E:DDF2  85 EE      			sta.l	<map_line
  403    1E:DDF4  98         			tya
  404    1E:DDF5  2A         			rol	a
  405    1E:DDF6  85 EF      			sta.h	<map_line
  406                        	
  407                        			; Draw the first part of the column.
  408                        	
  409    1E:DDF8  A5 F8      	.draw_col:	lda	<map_bat_x		; Set the BAT VRAM destination
  410    1E:DDFA  85 F0      			sta.l	<_di			; coordinates.
  411    1E:DDFC  A5 F9      			lda	<map_bat_y
  412    1E:DDFE  85 F1      			sta.h	<_di
  413                        	
  414    1E:DE00  5D CE 26   			eor	vdc_bat_y_mask, x	; Calc CHR before wrap.
  415    1E:DE03  1A         			inc	a
  416    1E:DE04  C5 FB      			cmp	<map_draw_h		; Usually (SCR_HEIGHT / 8) + 1.
  417    1E:DE06  90 02      			bcc	!+
  418    1E:DE08  A5 FB      			lda	<map_draw_h		; Maximum CHR to draw.
  419    1E:DE0A  85 00      	!:		sta	<map_count		; Set number of CHR to draw.
  420    1E:DE0C  85 01      			sta	<map_drawn		; Preserve number of CHR drawn.
  421                        	
  422    1E:DE0E  A9 05      			lda	#VDC_CR			; Set VDC auto-increment from
  423    1E:DE10  95 F7      			sta	<vdc_reg, x		; the BAT width, which is set
  424    1E:DE12  9D 00 02   			sta	VDC_AR, x		; up by set_screen_size().
  425    1E:DE15  B5 F4      			lda	<vdc_crh, x
  426    1E:DE17  9D 03 02   			sta	VDC_DH, x
  427                        	
  428    1E:DE1A  20 1C DF   			jsr	bat_col_strip		; Draw top of vertical strip.
  429                        	
  430                        			; Wrap around and draw the rest of the column (if needed).
  431                        	
  432    1E:DE1D  38         			sec				; Are there any more CHR that
  433    1E:DE1E  A5 FB      			lda	<map_draw_h		; need to be drawn?
  434    1E:DE20  E5 01      			sbc	<map_drawn
  435    1E:DE22  F0 0B      			beq	.done
  436                        	
  437    1E:DE24  85 00      			sta	<map_count		; Set number of CHR to draw.
  438                        	
  439    1E:DE26  A5 F8      			lda	<map_bat_x		; Set the BAT VRAM destination
  440    1E:DE28  85 F0      			sta.l	<_di			; coordinates.
  441    1E:DE2A  64 F1      			stz.h	<_di			; Reset 1st row to draw.
  442                        	
  443    1E:DE2C  20 1C DF   			jsr	bat_col_strip		; Draw btm of vertical strip.
  444                        	
  445    1E:DE2F  A9 05      	.done:		lda	#VDC_CR			; Set VDC auto-increment to 1.
  446    1E:DE31  95 F7      			sta	<vdc_reg, x
  447    1E:DE33  9D 00 02   			sta	VDC_AR, x
  448    1E:DE36  9E 03 02   			stz	VDC_DH, x
  449                        	
  450    1E:DE39  60         			rts
  451                        	
  452                        	
  453                        	
  454                        	; ***************************************************************************
  455                        	; ***************************************************************************
  456                        	;
  457                        	; bat_scroll_y - Update the BAT when Y coordinate changes.
  458                        	;
  459                        	; N.B. This draws multiple rows when called from _draw_bat or _blit_bat.
  460                        	;
  461                        	
  462    1E:DE3A  60         	!no_change:	rts
  463                        	
  464    1E:DE3B  A5 FE      	bat_scroll_y:	lda	<map_chr_y		; Compare old_y with cur_y.
  465    1E:DE3D  DD 08 2C   			cmp	vdc_old_chr_y, x
  466    1E:DE40  F0 F8      			beq	!no_change-		; Do nothing if no change.
  467    1E:DE42  9D 08 2C   			sta	vdc_old_chr_y, x
  468    1E:DE45  30 05      			bmi	.moved			; Test the sign of the change.
  469                        	
  470    1E:DE47  18         			clc				; Draw bottom if chr_y >= old_y.
  471    1E:DE48  7D D1 26   			adc	vdc_map_draw_h, x	; Usually (SCR_HEIGHT / 8) + 1.
  472    1E:DE4B  3A         			dec	a
  473                        	
  474    1E:DE4C  A8         	.moved:		tay				; Y = chr_y in map section.
  475                        	
  476    1E:DE4D  3C D8 26   			bit	vdc_map_option, x	; Set bit6 to disable aligning
  477    1E:DE50  70 05      			bvs	!+			; BAT Y with the map Y.
  478    1E:DE52  3D CE 26   			and	vdc_bat_y_mask, x
  479    1E:DE55  85 F9      			sta	<map_bat_y		; Save BAT Y chr coordinate.
  480                        	
  481    1E:DE57  3C D8 26   	!:		bit	vdc_map_option, x	; Set bit7 to disable aligning
  482    1E:DE5A  30 07      			bmi	!+			; BAT X with the map X.
  483    1E:DE5C  A5 FC      			lda	<map_chr_x
  484    1E:DE5E  3D CD 26   			and	vdc_bat_x_mask, x
  485    1E:DE61  85 F8      			sta	<map_bat_x		; Save BAT X chr coordinate.
  486                        	
  487               0000     		.if	FAST_MULTIPLY
  490                        		.endif
  491                        	
  492    1E:DE63  BD D2 26   	!:		lda	vdc_map_line_w, x	; Map width in CHR (0 == 256).
  493    1E:DE66  D0 05      			bne	!+
  494                        	
  495    1E:DE68  64 EE      			stz.l	<map_line		; Multiply by 256 is easy!
  496    1E:DE6A  98         			tya
  497    1E:DE6B  80 15      			bra	.double
  498                        	
  499               0000     		.if	FAST_MULTIPLY
  511                        		.else
  512    1E:DE6D  84 EF      	!:		sty.h	<map_line		; Takes 144..176 cycles.
  513    1E:DE6F  A0 08      			ldy	#8
  514    1E:DE71  4A         			lsr	a
  515    1E:DE72  85 EE      			sta.l	<map_line
  516    1E:DE74  62         			cla
  517    1E:DE75  90 03      			bcc	.rotate
  518    1E:DE77  18         	.add:		clc
  519    1E:DE78  65 EF      			adc.h	<map_line
  520    1E:DE7A  6A         	.rotate:	ror	a
  521    1E:DE7B  66 EE      			ror.l	<map_line		; Lo-byte of (CHR Y * width).
  522    1E:DE7D  88         			dey
  523    1E:DE7E  B0 F7      			bcs	.add
  524    1E:DE80  D0 F8      			bne	.rotate
  525                        		.endif
  526                        	
  527    1E:DE82  06 EE      	.double:	asl.l	<map_line		; Lo-byte of (CHR Y * width * 2).
  528    1E:DE84  2A         			rol	a
  529    1E:DE85  85 EF      			sta.h	<map_line		; Hi-byte of (CHR Y * width * 2).
  530    1E:DE87  A8         			tay
  531                        	
  532    1E:DE88  BD 11 2C   			lda	vdc_map_bank, x		; Put the MAP into MPR3-MPR5.
  533    1E:DE8B  53 08      			tam3				; Allow for 16KByte chrmap.
  534    1E:DE8D  1A         			inc	a
  535    1E:DE8E  53 10      			tam4
  536    1E:DE90  1A         			inc	a
  537    1E:DE91  53 20      			tam5
  538                        	
  539                        			; Loop to here if drawing multiple rows.
  540                        	
  541    1E:DE93  A5 FC      	.next_row:	lda	<map_chr_x		; Map CHR X coordinate.
  542    1E:DE95  0A         			asl	a			; 2-bytes for a BAT value!
  543    1E:DE96  90 02      			bcc	!+
  544    1E:DE98  C8         			iny				; Hi-byte of (CHR Y * width * 2).
  545    1E:DE99  18         			clc
  546    1E:DE9A  65 EE      	!:		adc.l	<map_line		; Lo-byte of (CHR Y * width * 2).
  547    1E:DE9C  90 01      			bcc	!+
  548    1E:DE9E  C8         			iny
  549    1E:DE9F  18         	!:		clc				; Calc map data pointer.
  550    1E:DEA0  7D 0F 2C   			adc.l	vdc_map_addr, x
  551    1E:DEA3  85 EC      			sta.l	<_bp			; Maximum map size is 16KBytes
  552    1E:DEA5  98         			tya				; so we don't need to consider
  553    1E:DEA6  7D 10 2C   			adc.h	vdc_map_addr, x		; bank overflow.
  554    1E:DEA9  85 ED      			sta.h	<_bp
  555                        	
  556                        			; Draw the first part of the row.
  557                        	
  558    1E:DEAB  A5 F9      	.draw_row:	lda	<map_bat_y		; Set the BAT VRAM destination
  559    1E:DEAD  85 F1      			sta.h	<_di			; coordinates.
  560    1E:DEAF  A5 F8      			lda	<map_bat_x
  561    1E:DEB1  85 F0      			sta.l	<_di
  562                        	
  563    1E:DEB3  5D CD 26   			eor	vdc_bat_x_mask, x	; Calc CHR before wrap.
  564    1E:DEB6  1A         			inc	a
  565    1E:DEB7  C5 FA      			cmp	<map_draw_w		; Usually (SCR_WIDTH / 8) + 1.
  566    1E:DEB9  90 02      			bcc	!+
  567    1E:DEBB  A5 FA      			lda	<map_draw_w		; Maximum CHR to draw.
  568    1E:DEBD  85 00      	!:		sta	<map_count		; Set number of CHR to draw.
  569    1E:DEBF  85 01      			sta	<map_drawn		; Preserve number of CHR drawn.
  570                        	
  571    1E:DEC1  20 FB DE   			jsr	bat_row_strip		; Draw lhs of horizontal strip.
  572                        	
  573                        			; Wrap around and draw the rest of the row (if needed).
  574                        	
  575    1E:DEC4  38         			sec				; Are there any more CHR that
  576    1E:DEC5  A5 FA      			lda	<map_draw_w		; need to be drawn?
  577    1E:DEC7  E5 01      			sbc	<map_drawn
  578    1E:DEC9  F0 0B      			beq	.done_row
  579                        	
  580    1E:DECB  85 00      			sta	<map_count		; Set number of CHR to draw.
  581                        	
  582    1E:DECD  A5 F9      			lda	<map_bat_y		; Set the BAT VRAM destination
  583    1E:DECF  85 F1      			sta.h	<_di			; coordinates.
  584    1E:DED1  64 F0      			stz.l	<_di			; Reset 1st column to draw.
  585                        	
  586    1E:DED3  20 FB DE   			jsr	bat_row_strip		; Draw rhs of horizontal strip.
  587                        	
  588    1E:DED6  C6 FB      	.done_row:	dec	<map_draw_h		; Are all desired rows drawn?
  589    1E:DED8  F0 20      			beq	.finished
  590                        	
  591    1E:DEDA  A5 F9      			lda	<map_bat_y		; Move BAT Y down by 1.
  592    1E:DEDC  1A         			inc	a
  593    1E:DEDD  3D CE 26   			and	vdc_bat_y_mask, x
  594    1E:DEE0  85 F9      			sta	<map_bat_y
  595                        	
  596    1E:DEE2  A4 EF      			ldy.h	<map_line		; Move the map line pointer to
  597    1E:DEE4  C8         			iny				; the next line.
  598    1E:DEE5  BD D2 26   			lda	vdc_map_line_w, x
  599    1E:DEE8  F0 0B      			beq	!++			; vdc_map_line_w == 0 == 256.
  600    1E:DEEA  0A         			asl	a			; 2-bytes for a BAT value!
  601    1E:DEEB  B0 01      			bcs	!+
  602    1E:DEED  88         			dey				; Fix if vdc_map_line_w <= 127.
  603    1E:DEEE  18         	!:		clc
  604    1E:DEEF  65 EE      			adc.l	<map_line
  605    1E:DEF1  85 EE      			sta.l	<map_line
  606    1E:DEF3  90 01      			bcc	!++
  607    1E:DEF5  C8         	!:		iny
  608    1E:DEF6  84 EF      	!:		sty.h	<map_line		; Needed for .next_row!
  609                        	
  610    1E:DEF8  80 99      			bra	.next_row		; Draw next row.
  611                        	
  612    1E:DEFA  60         	.finished:	rts
  613                        	
  614                        	
  615                        	
  616                        	; ***************************************************************************
  617                        	; ***************************************************************************
  618                        	;
  619                        	; bat_row_strip - Draw a single row of CHR into the BAT.
  620                        	;
  621                        	
  622    1E:DEFB  20 48 E4   	bat_row_strip:	jsr	set_di_xy_mawr		; Set the BAT VRAM destination.
  623                        	
  624    1E:DEFE  C2         			cly				; 2
  625    1E:DEFF  B1 EC      	.repeat:	lda	[_bp], y		; 7
  626    1E:DF01  9D 02 02   			sta	VDC_DL, x		; 6
  627    1E:DF04  C8         			iny				; 2
  628    1E:DF05  B1 EC      			lda	[_bp], y		; 7
  629               0000     		.if	CHRMAP_BAT_FLAG
  634                        		.endif
  635    1E:DF07  9D 03 02   			sta	VDC_DH, x		; 6
  636    1E:DF0A  C8         			iny				; 2
  637                        	
  638    1E:DF0B  C6 00      	!:		dec	<map_count		; 6
  639    1E:DF0D  D0 F0      			bne	.repeat			; 4
  640                        	
  641    1E:DF0F  98         			tya				; 2
  642    1E:DF10  F0 07      			beq	!+			; 2/4
  643    1E:DF12  18         			clc				; 2
  644    1E:DF13  65 EC      			adc.l	<_bp			; 4
  645    1E:DF15  85 EC      			sta.l	<_bp			; 4
  646    1E:DF17  90 02      			bcc	.done			; 2/4
  647    1E:DF19  E6 ED      	!:		inc.h	<_bp			; 6
  648                        	
  649    1E:DF1B  60         	.done:		rts
  650                        	
  651                        	
  652                        	
  653                        	; ***************************************************************************
  654                        	; ***************************************************************************
  655                        	;
  656                        	; bat_col_strip - Draw a single column of CHR into the BAT.
  657                        	;
  658                        	
  659    1E:DF1C  20 48 E4   	bat_col_strip:	jsr	set_di_xy_mawr		; Set the BAT VRAM destination.
  660                        	
  661    1E:DF1F  A0 01      			ldy	#1			; 2
  662    1E:DF21  B2 EC      	.repeat:	lda	[_bp]			; 7
  663    1E:DF23  9D 02 02   			sta	VDC_DL, x		; 6
  664    1E:DF26  B1 EC      			lda	[_bp], y		; 7
  665               0000     		.if	CHRMAP_BAT_FLAG
  670                        		.endif
  671    1E:DF28  9D 03 02   			sta	VDC_DH, x		; 6
  672                        	
  673    1E:DF2B  18         			clc				; 2
  674    1E:DF2C  A5 EE      			lda.l	<map_line		; 4
  675    1E:DF2E  65 EC      			adc.l	<_bp			; 4
  676    1E:DF30  85 EC      			sta.l	<_bp			; 4
  677    1E:DF32  A5 EF      			lda.h	<map_line		; 4
  678    1E:DF34  65 ED      			adc.h	<_bp			; 4
  679    1E:DF36  85 ED      			sta.h	<_bp			; 4
  680                        	
  681    1E:DF38  C6 00      			dec	<map_count		; 6
  682    1E:DF3A  D0 E5      			bne	.repeat			; 4
  683                        	
  684    1E:DF3C  60         			rts
  685                        	
  686                        		.endprocgroup	; chrmap_group
                             #[2]   "..\..\..\include\hucc\hucc-final.asm"
   85                        		.endif	HUCC_USES_CHRMAP
   86                        	
   87               0001     		.ifdef	HUCC_USES_OLD_LINE		; Set in hucc_old_line.h
                             #[3]   "..\..\..\include\hucc\hucc-old-line.asm"
   88                        			include	"hucc-old-line.asm"
    1                        	; ***************************************************************************
    2                        	; ***************************************************************************
    3                        	;
    4                        	; hucc-old-line.asm
    5                        	;
    6                        	; Based on the original HuC and MagicKit functions by David Michel and the
    7                        	; other original HuC developers.
    8                        	;
    9                        	; Modifications copyright John Brandwood 2024-2025.
   10                        	;
   11                        	; Distributed under the Boost Software License, Version 1.0.
   12                        	; (See accompanying file LICENSE_1_0.txt or copy at
   13                        	;  http://www.boost.org/LICENSE_1_0.txt)
   14                        	;
   15                        	; ***************************************************************************
   16                        	; ***************************************************************************
   17                        	
   18                        	
   19                        	
   20                        	; ***************************************************************************
   21                        	; ***************************************************************************
   22                        	;
   23                        	; void __fastcall gfx_init( unsigned int start_vram_addr<_ax> );
   24                        	;
   25                        	; initialize graphics mode
   26                        	; - points graphics map to tiles at start_vram_addr
   27                        	
   28                        	_gfx_init.1	.proc
   73                        			.endp
   74                        	
   75                        	
   76                        	
   77                        	; ***************************************************************************
   78                        	; ***************************************************************************
   79                        	;
   80                        	; void __fastcall gfx_clear( unsigned int start_vram_addr<_di> );
   81                        	;
   82                        	; Clear the values in the graphics tiles
   83                        	; - places zeroes in graphics tiles at start_vram_addr
   84                        	
   85                        	_gfx_clear.1	.proc
  105                        			.endp
  106                        	
  107                        	
  108                        	
  109                        	; ***************************************************************************
  110                        	; ***************************************************************************
  111                        	;
  112                        	; void __fastcall gfx_line( unsigned int x1<_gfx_x1>, unsigned int y1<_gfx_y1>, unsigned int x2<_gfx_x2>, unsigned int y2<_gfx_y2>, unsigned char color<_gfx_color> );
  113                        	
  114                        	huc_gfx_line	.procgroup
  459                        			.endprocgroup	; huc_gfx_line
                             #[2]   "..\..\..\include\hucc\hucc-final.asm"
   89                        		.endif
   90                        	
   91               0000     		.ifdef	HUCC_USES_ZX0			; Set in hucc_zx0.h
   93                        		.endif
   94                        	
   95                        	
   96                        	
   97                        	; ***************************************************************************
   98                        	; ***************************************************************************
   99                        	;
  100                        	; Allocate space for the "-fnon-recursive" leaf function stack if needed.
  101                        	;
  102                        	
  103               0007     		.if		leaf_needs
  104               2C27     			.bss
  105    F8:2C27             			ds	leaf_needs
  106    F8:2C2E             	leaf_stack:
  107                        		.endif
  108                        	
  109                        	
  110                        	
  111                        	; ***************************************************************************
  112                        	; ***************************************************************************
  113                        	;
  114                        	; Check that C "__zp" declarations aren't overwriting System Card variables.
  115                        	;
  116                        	
  117               20A0     			.zp
  118               0000     		.if	(* > zpg_sys_top) || (USING_PSGDRIVER && (* > zpg_psg_top))
  120                        		.endif
  121                        	
  122                        	
  123                        	
  124                        	; ***************************************************************************
  125                        	; ***************************************************************************
  126                        	;
  127                        	; Check that there isn't too much C "const" data in the ".RODATA" section.
  128                        	;
  129                        	
  130               2C2E     			.xdata
  131    F8:2C2E             	_xdata_end:					; End of initialized vars in BSS.
  132                        	
  133               6337     			.xinit
  134    01:6337             	_xinit_end:					; End of initialized data in ROM.
  135                        	
  136               6337     			.xstrz
  137    01:6337             	_xstrz_end:					; End of anonymous C strings.
  138    01:6337             	_rodata_end:					; End of .RODATA section.
  139               E94B     			.code
  140                        	
  141               0000     		.if	_rodata_end >= 0xA000
  143                        		.endif
                             #[1]   "Black_Tiger.s"

PROCEDURE LIST (in order of size):

Size: $16FC, Addr: $01:C337,      .proc _update_PLAYER
Size: $0FC9, Addr: $02:C000,      .proc _sequence_INTRO
Size: $0CC3, Addr: $02:CFC9,      .proc _update_WEAPON
Size: $0B97, Addr: $1D:D340,      .proc _joypad_DIR
Size: $086D, Addr: $1E:C000, .procgroup blkmap_group
Size: $05A3, Addr: $01:DA33,      .proc _init_LEVEL
Size: $0580, Addr: $1E:C86D,      .proc _joypad_BUTTONS_SHOP
Size: $0483, Addr: $1E:CDED,      .proc _sequence_NPC
Size: $0414, Addr: $1E:D270,      .proc _init_SHOP
Size: $03AA, Addr: $11:DC00,      .proc _anim_OBJECTS
Size: $0390, Addr: $1E:D684,      .proc huc_monofont_x
Size: $033E, Addr: $02:DC8C,      .proc _init_HUD
Size: $0297, Addr: $1E:DA14,      .proc _joypad_BUTTONS
Size: $0292, Addr: $1E:DCAB, .procgroup chrmap_group
Size: $028F, Addr: $1F:C000,      .proc _main
Size: $0288, Addr: $1F:C28F,      .proc _load_OBJECT_TILES
Size: $024D, Addr: $1F:C517,      .proc _joypad_BUTTONS_TITLE
Size: $0226, Addr: $1F:C764,      .proc _init_INTRO
Size: $021C, Addr: $1F:C98A,      .proc _collision_PLAYER_OBJECT
Size: $0170, Addr: $1F:CBA6,      .proc _init_TITLE
Size: $0163, Addr: $1F:CD16,      .proc _scroll_object
Size: $0163, Addr: $1F:CE79,      .proc _scroll_chest
Size: $0163, Addr: $1F:CFDC,      .proc _scroll_npc
Size: $0140, Addr: $1F:D13F,      .proc _init_OBJECT_LV1
Size: $013C, Addr: $1F:D27F,      .proc _collision_PLAYER_NPC
Size: $013B, Addr: $1F:D3BB,      .proc _collision_WEAPON_OBJECTS
Size: $0108, Addr: $1D:DED7,      .proc read_joypads
Size: $0107, Addr: $1F:D4F6,      .proc _recenter_CAMERA
Size: $00E8, Addr: $1F:D5FD,      .proc _init_NPC_LV1
Size: $00DF, Addr: $1F:D6E5, .procgroup vdc_set_mode
Size: $00D0, Addr: $1F:D7C4, .procgroup vdc_tty_out
Size: $00CA, Addr: $1F:D894,      .proc _init_CHEST_LV1
Size: $00A5, Addr: $1E:DF3D,      .proc _display_TIME_SHOP
Size: $009D, Addr: $1F:D95E,      .proc _display_TIME_LEVEL
Size: $009B, Addr: $1F:D9FB,      .proc cross_fade_to
Size: $0086, Addr: $1F:DA96,      .proc _scroll_split.5
Size: $0086, Addr: $1F:DB1C,      .proc _sgx_scroll_split.5
Size: $0081, Addr: $1F:DBA2,      .proc vbl_init_scroll
Size: $007A, Addr: $1F:DC23,      .proc _check_TILE_DEPTH
Size: $0077, Addr: $1F:DC9D,      .proc core_main
Size: $006A, Addr: $1F:DD14, .procgroup load_vram_group
Size: $0064, Addr: $1F:DD7E,      .proc _collision_PLAYER_BG
Size: $0062, Addr: $1F:DDE2,      .proc _init_256x224
Size: $004F, Addr: $11:DFAA,      .proc _init_VARIABLES
Size: $004E, Addr: $1F:DE44, .procgroup old_satb_group
Size: $004B, Addr: $1F:DE92, .procgroup hucc_memcmp
Size: $0046, Addr: $1F:DEDD,      .proc read_palettes
Size: $0043, Addr: $1F:DF23, .procgroup vdc_clear_vram
Size: $0043, Addr: $1F:DF66,      .proc sgx_detect
Size: $0042, Addr: $1F:DFA9,      .proc _init_PLAYER
Size: $003F, Addr: $20:C000, .procgroup load_bat_group
Size: $003E, Addr: $20:C03F,      .proc _vram2vram.3
Size: $003B, Addr: $20:C07D,      .proc init_random
Size: $0038, Addr: $20:C0B8,      .proc _joypad_BUTTONS_INTRO
Size: $002E, Addr: $02:DFCA,      .proc _scroll_BG
Size: $002B, Addr: $20:C0F0,      .proc _load_palette.3
Size: $0026, Addr: $01:DFD6,      .proc _load_CHEST_TILES
Size: $0026, Addr: $20:C11B,      .proc _load_NPC_TILES
Size: $0023, Addr: $20:C141,      .proc _hide_LEVEL_SPRITES
Size: $001D, Addr: $1E:DFE2,      .proc _init_SYSTEM
Size: $001C, Addr: $1D:DFDF,      .proc _display_SCORE
Size: $001C, Addr: $20:C164,      .proc _display_ZENNY
Size: $001C, Addr: $20:C180,      .proc clear_vce
Size: $001A, Addr: $20:C19C,      .proc _display_KEY
Size: $001A, Addr: $20:C1B6,      .proc _display_POTION
Size: $0018, Addr: $20:C1D0,      .proc _display_LIFE
